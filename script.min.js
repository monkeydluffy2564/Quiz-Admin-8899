const _0x36ca11=_0x4cf2;(function(_0x12757b,_0x25ac29){const _0x5b5cd1=_0x4cf2,_0x553058=_0x12757b();while(!![]){try{const _0x210537=-parseInt(_0x5b5cd1(0x495))/0x1*(parseInt(_0x5b5cd1(0x416))/0x2)+-parseInt(_0x5b5cd1(0xc13))/0x3+parseInt(_0x5b5cd1(0x5be))/0x4+-parseInt(_0x5b5cd1(0xa1d))/0x5+parseInt(_0x5b5cd1(0x427))/0x6+parseInt(_0x5b5cd1(0xccc))/0x7*(-parseInt(_0x5b5cd1(0x1ec))/0x8)+parseInt(_0x5b5cd1(0x88f))/0x9*(parseInt(_0x5b5cd1(0xd93))/0xa);if(_0x210537===_0x25ac29)break;else _0x553058['push'](_0x553058['shift']());}catch(_0x5758fb){_0x553058['push'](_0x553058['shift']());}}}(_0x5ebe,0xd16ab));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=['นักล่าฝัน',_0x36ca11(0x557),_0x36ca11(0xbe2),_0x36ca11(0x4d7),_0x36ca11(0xd34),_0x36ca11(0xdc6),'โลมาบิน',_0x36ca11(0x1da),_0x36ca11(0xb42),'จิงโจ้สโลว์ไลฟ์','ผู้พิชิตดาว',_0x36ca11(0x46b),_0x36ca11(0x2e4),'สายลมแห่งโชคชะตา','อัศวินรัตติกาล',_0x36ca11(0x67b),_0x36ca11(0x839),_0x36ca11(0x71a),_0x36ca11(0x4c0),_0x36ca11(0xae6),'หมีขั้วโลกใต้',_0x36ca11(0xdcd),_0x36ca11(0x90a),_0x36ca11(0x7fe),_0x36ca11(0xb7b),'หมาป่าเดียวดาย',_0x36ca11(0xb80),'เสือซ่อนเล็บ',_0x36ca11(0xa44),'หนอนหนังสือ',_0x36ca11(0x828),_0x36ca11(0x1f3),_0x36ca11(0x246),_0x36ca11(0xc73),_0x36ca11(0xbb8),_0x36ca11(0x59f),_0x36ca11(0x3fa),_0x36ca11(0xd25),_0x36ca11(0xc4a),'ดาวสภา',_0x36ca11(0x423),'ชาไข่มุก','ส้มตำปูปลาร้า',_0x36ca11(0x333),_0x36ca11(0x242),_0x36ca11(0xbec),'หมูกระทะจะเยียวยาทุกสิ่ง',_0x36ca11(0x8a6),_0x36ca11(0x9fb),_0x36ca11(0x7d7),_0x36ca11(0x394),_0x36ca11(0x405),_0x36ca11(0x8f9),_0x36ca11(0x5d6),_0x36ca11(0x2cc),_0x36ca11(0xcdc),_0x36ca11(0x3dd),_0x36ca11(0x88c),'404\x20Not\x20Found',_0x36ca11(0x680),_0x36ca11(0x866),_0x36ca11(0x4f0),_0x36ca11(0x774),'ก้อนเมฆ','ดวงดาว',_0x36ca11(0x447),_0x36ca11(0x769),_0x36ca11(0x538),_0x36ca11(0x841),'แม่น้ำ',_0x36ca11(0xbc3),_0x36ca11(0x7a5),_0x36ca11(0x8fd),'ศิลปิน',_0x36ca11(0x53b),'นักเขียน','นักวิทยาศาสตร์','นักประดิษฐ์',_0x36ca11(0xdb0),_0x36ca11(0xa96),_0x36ca11(0x381),'ปล่อยพลัง','แปลงร่าง','ตัวแทนแห่งดวงจันทร์','ดาบพิฆาตอสูร',_0x36ca11(0xa2b),'ธอร์ค้อนบิน',_0x36ca11(0x7b9),_0x36ca11(0xb00),'ฮัลค์',_0x36ca11(0x92d),_0x36ca11(0xc24),_0x36ca11(0x635),_0x36ca11(0xd2b),_0x36ca11(0xa6c),_0x36ca11(0x8b4),_0x36ca11(0x909),'คนคุย',_0x36ca11(0x8ba),_0x36ca11(0xc05)];let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x36ca11(0x45e),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x36ca11(0x45e),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x36ca11(0x45e),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x378b84=_0x36ca11;if(_0x378b84(0xbdc)in navigator)try{wakeLock=await navigator['wakeLock']['request'](_0x378b84(0x944)),console[_0x378b84(0x966)](_0x378b84(0xcec)),wakeLock[_0x378b84(0x999)](_0x378b84(0x9de),()=>{const _0x137335=_0x378b84;console[_0x137335(0x966)](_0x137335(0x547));});}catch(_0x1bfe9d){console[_0x378b84(0x3c3)]('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0x1bfe9d['name']+',\x20'+_0x1bfe9d[_0x378b84(0x805)]);}else console[_0x378b84(0x203)]('เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API');},releaseWakeLock=async()=>{const _0x5f3cf4=_0x36ca11;wakeLock!==null&&(await wakeLock[_0x5f3cf4(0x9de)](),wakeLock=null,console[_0x5f3cf4(0x966)](_0x5f3cf4(0x6e0)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x78d5fe=_0x36ca11;if(!document[_0x78d5fe(0x6c6)]['classList'][_0x78d5fe(0xa47)](_0x78d5fe(0x609))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x2e7055=_0x78d5fe;document[_0x2e7055(0x6c6)]['classList'][_0x2e7055(0x23b)]('dimmed'),console['log'](_0x2e7055(0x68c));},inactivityTime);}}function wakeUpScreen(_0x5d4ed7){const _0x12f4ac=_0x36ca11;_0x5d4ed7&&(_0x5d4ed7[_0x12f4ac(0xd29)](),_0x5d4ed7['preventDefault']());document['body'][_0x12f4ac(0x7cb)][_0x12f4ac(0x4cd)](_0x12f4ac(0x609));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x5ea55a=_0x12f4ac;document['body'][_0x5ea55a(0x7cb)][_0x5ea55a(0x23b)]('dimmed');},inactivityTime);}function stopDimTimer(){const _0x327b84=_0x36ca11;if(dimTimer)clearTimeout(dimTimer);document[_0x327b84(0x6c6)]['classList']['remove'](_0x327b84(0x609)),window[_0x327b84(0xb40)](_0x327b84(0x4d1),resetDimTimer),window[_0x327b84(0xb40)]('mousedown',resetDimTimer),window[_0x327b84(0xb40)](_0x327b84(0x600),resetDimTimer),window[_0x327b84(0xb40)](_0x327b84(0xb22),resetDimTimer),console['log'](_0x327b84(0x770));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x3bfb87,_0xc48c5=![]){const _0xf823c4=_0x36ca11,_0x2fb54a=allQuizzes['find'](_0x4ccc82=>_0x4ccc82['id']===_0x3bfb87)||allQuizzesGlobal[_0xf823c4(0x349)](_0x2e2256=>_0x2e2256['id']===_0x3bfb87);if(!_0x2fb54a){showMessage(_0xf823c4(0x950));return;}currentQuizData=getShuffledQuiz(_0x2fb54a);const _0xa3a6b6=Math[_0xf823c4(0x8fb)](0x3e8+Math[_0xf823c4(0xdd3)]()*0x2328)['toString']();try{const _0x2d18f6=await addDoc(collection(db,'artifacts/'+appId+_0xf823c4(0xcc2)),{'quizId':_0x2fb54a['id'],'projectId':_0x2fb54a['projectId'],'status':'lobby','pin':_0xa3a6b6,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0xc48c5});currentTeamQuizId=_0x2d18f6['id'],showView(_0xf823c4(0x7c8)),renderAdminTeamQuizDashboard(_0xa3a6b6,_0x2fb54a['topic']),listenForTeamQuizUpdates();}catch(_0x1b13e3){console[_0xf823c4(0x3c3)](_0xf823c4(0x5f3),_0x1b13e3),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz');}}function renderAdminTeamQuizDashboard(_0xd16a49,_0x4347e8,_0x47473f=_0x36ca11(0xa25)){const _0x1e68f8=_0x36ca11,_0x3cb538=_0x47473f===_0x1e68f8(0x968)?_0x1e68f8(0x7f9):_0x1e68f8(0xa27);liveGameView[_0x1e68f8(0x2bd)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>'+_0x3cb538+':\x20'+_0x4347e8+_0x1e68f8(0x331)+_0xd16a49+_0x1e68f8(0x697),document[_0x1e68f8(0xde0)](_0x1e68f8(0xcde))[_0x1e68f8(0x999)](_0x1e68f8(0x4fc),async()=>{const _0x271189=_0x1e68f8;showConfirmation(_0x271189(0x2b9),async()=>{const _0x2ddef4=_0x271189;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x2ddef4(0xdd2)+appId+'/public/data/teamQuizzes',currentTeamQuizId)),showView(_0x2ddef4(0x46c));});});}function listenForTeamQuizUpdates(){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x3f4e78=doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x3f4e78,_0x230c07=>{const _0x214fa9=_0x4cf2;if(!_0x230c07[_0x214fa9(0xa40)]()){sessionStorage[_0x214fa9(0x2c7)](_0x214fa9(0x941));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x214fa9(0x803));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x214fa9(0x67f)?showView('project-detail'):showView(_0x214fa9(0x965));return;}const _0xc8088c=_0x230c07['data']();if(currentMode===_0x214fa9(0x67f)){if(_0xc8088c[_0x214fa9(0x8ec)]==='group'&&_0xc8088c[_0x214fa9(0xcb4)]!==_0x214fa9(0x54b)&&_0xc8088c[_0x214fa9(0xcb4)]!==_0x214fa9(0x256)){const _0x326aa2=Object[_0x214fa9(0x976)](_0xc8088c[_0x214fa9(0xc76)]||{});if(_0x326aa2[_0x214fa9(0x9b1)]>0x0){const _0x409b36=_0x326aa2[_0x214fa9(0x799)](_0x1fbb1e=>_0x1fbb1e[_0x214fa9(0x700)]===!![]);_0x409b36&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0xc8088c);}else{if(_0xc8088c[_0x214fa9(0xcb4)]===_0x214fa9(0x54b)||_0xc8088c[_0x214fa9(0xcb4)]===_0x214fa9(0x256)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0xc8088c['mode']==='group'){const _0x46f05c=_0xc8088c[_0x214fa9(0xc76)][userId];(!_0x46f05c||!_0x46f05c[_0x214fa9(0x700)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x507748){const _0x1d037b=_0x36ca11;console[_0x1d037b(0x966)](_0x1d037b(0x92e));const _0x463dd6=doc(db,_0x1d037b(0xdd2)+appId+'/public/data/teamQuizzes',_0x507748);try{const _0x194e27=await getDoc(_0x463dd6);if(_0x194e27[_0x1d037b(0xa40)]()){const _0x5e08be=_0x194e27[_0x1d037b(0x518)]();_0x5e08be[_0x1d037b(0x6fc)]&&await saveGameResultsAsSubmissions(_0x5e08be);}await updateDoc(_0x463dd6,{'status':_0x1d037b(0x54b)});}catch(_0x42a7e5){console[_0x1d037b(0x3c3)](_0x1d037b(0x598),_0x42a7e5);}}function updateAdminTeamDashboard(_0xfc769f){const _0xbe1021=_0x36ca11,_0xfafd98=document[_0xbe1021(0xde0)](_0xbe1021(0x466));if(!_0xfafd98)return;const _0x575c68=_0xfc769f[_0xbe1021(0x8ec)]||_0xbe1021(0xa25),_0x20cf35=currentQuizData['questions'][_0xbe1021(0x9b1)];if(_0x575c68===_0xbe1021(0x968)){const _0x3910b4=Object[_0xbe1021(0x976)](_0xfc769f['groups']||{});if(_0x3910b4[_0xbe1021(0x9b1)]===0x0){_0xfafd98['innerHTML']=_0xbe1021(0x58e);return;}const _0x346cfe=[..._0x3910b4][_0xbe1021(0x68d)]((_0x8f10ec,_0x9f4d60)=>_0x9f4d60[_0xbe1021(0x2ad)]-_0x8f10ec[_0xbe1021(0x2ad)]),_0x5dd461=_0x346cfe['map']((_0x597eac,_0x5dc07a)=>{const _0x44acca=_0xbe1021,_0x392c0a=_0x597eac[_0x44acca(0xc95)]?.[_0x44acca(0x9b1)]||0x0;return _0x44acca(0x82e)+(_0x5dc07a+0x1)+_0x44acca(0x244)+_0x597eac['members'][_0x44acca(0xa81)](',\x20')+_0x44acca(0x709)+_0x392c0a+'/'+_0x20cf35+_0x44acca(0xa4d)+_0x597eac['score']+_0x44acca(0x755);})[_0xbe1021(0xa81)](''),_0x207f9b=currentQuizData[_0xbe1021(0x4f1)][_0xbe1021(0xcf7)]((_0x42fedf,_0x4c0814)=>{const _0x104792=_0xbe1021;let _0x6df75c=0x0,_0x4e5ced=0x0;_0x3910b4[_0x104792(0x532)](_0x39da4c=>{const _0x4ab839=_0x104792,_0x716e3c=_0x39da4c[_0x4ab839(0xc95)]?.[_0x4ab839(0x349)](_0x3530d4=>_0x3530d4[_0x4ab839(0xbda)]===_0x4c0814);if(_0x716e3c){_0x4e5ced++;if(_0x716e3c[_0x4ab839(0x831)])_0x6df75c++;}});const _0x2c68cc=_0x4e5ced>0x0&&_0x4e5ced===_0x3910b4['length'],_0x1ac971=_0x2c68cc?'bg-green-200\x20text-green-900\x20font-bold':_0x104792(0x703),_0x139f18=_0x2c68cc?_0x104792(0x835):'';return _0x104792(0x237)+_0x1ac971+_0x104792(0x76a)+(_0x4c0814+0x1)+_0x104792(0xded)+_0x139f18+_0x104792(0x30c)+_0x6df75c+'/'+_0x3910b4['length']+_0x104792(0x247);})['join']('');_0xfafd98[_0xbe1021(0x2bd)]='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x5dd461+_0xbe1021(0x84d)+_0x207f9b+'</div></div></div>';return;}const _0x4dc49a=_0xfc769f['responses']||{},_0x155b55=Object[_0xbe1021(0xd97)](_0x4dc49a);if(_0x155b55['length']===0x0){_0xfafd98[_0xbe1021(0x2bd)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>';return;}const _0x126e72=_0x155b55[_0xbe1021(0xcf7)](_0x217349=>({'name':_0x217349,'score':_0x4dc49a[_0x217349][_0xbe1021(0x2ad)]||0x0}))[_0xbe1021(0x68d)]((_0x496e2a,_0xdf024b)=>_0xdf024b['score']-_0x496e2a[_0xbe1021(0x2ad)]),_0x4b93f5=_0x126e72[_0xbe1021(0xcf7)](_0xf7f5da=>{const _0x18bb99=_0xbe1021,_0x4b7883=_0x4dc49a[_0xf7f5da[_0x18bb99(0xa69)]]?.['answers']?.[_0x18bb99(0x9b1)]||0x0,_0x4caa80=Math['ceil'](_0x20cf35/_0x155b55[_0x18bb99(0x9b1)]);return _0x18bb99(0xc53)+_0xf7f5da['name']+'\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>('+_0x4b7883+'/'+_0x4caa80+_0x18bb99(0x4a0)+_0xf7f5da[_0x18bb99(0x2ad)]+_0x18bb99(0xcf3);})[_0xbe1021(0xa81)](''),_0x125cfe=_0x155b55[_0xbe1021(0x514)]((_0x46cc8d,_0x3fd126)=>_0x46cc8d+(_0x4dc49a[_0x3fd126]['answers']?.[_0xbe1021(0x9b1)]||0x0),0x0),_0xba25d0=currentQuizData[_0xbe1021(0x4f1)][_0xbe1021(0xcf7)]((_0x4724af,_0x1c64eb)=>{const _0x3b95e1=_0xbe1021;let _0x5027b0=null,_0xc4e495=null;for(const _0xc6efc2 of _0x155b55){const _0x14ad70=_0x4dc49a[_0xc6efc2][_0x3b95e1(0xc95)]?.[_0x3b95e1(0x349)](_0x1cc8b0=>_0x1cc8b0[_0x3b95e1(0xbda)]===_0x1c64eb);if(_0x14ad70){_0x5027b0=_0x14ad70,_0xc4e495=_0xc6efc2;break;}}const _0xbab1ef=!!_0x5027b0,_0x1ac324=_0xbab1ef&&_0x5027b0['isCorrect'],_0x166882=(Math[_0x3b95e1(0x8fb)](_0x1c64eb/_0x155b55['length'])+0x1)*_0x155b55[_0x3b95e1(0x9b1)],_0x5329f6=_0x125cfe>=_0x166882,_0x3a0851=_0x5329f6?'bg-green-200\x20text-green-900':_0x3b95e1(0x703),_0x41bbec=_0x5329f6?_0x3b95e1(0x835):'';let _0x136a8e='รอ...';return _0xbab1ef&&(_0x136a8e=_0xc4e495+_0x3b95e1(0xd45)+(_0x1ac324?_0x3b95e1(0x867):_0x3b95e1(0xc6d))),_0x3b95e1(0x237)+_0x3a0851+_0x3b95e1(0x76a)+(_0x1c64eb+0x1)+_0x3b95e1(0xded)+_0x41bbec+'</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'+_0x136a8e+_0x3b95e1(0x65b);})['join']('');_0xfafd98[_0xbe1021(0x2bd)]='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+_0x4b93f5+_0xbe1021(0xc3d)+_0xba25d0+_0xbe1021(0x326);}async function handleJoinTeamQuiz(){const _0x39a516=_0x36ca11,_0x472c46=prompt(_0x39a516(0x744));if(!_0x472c46||_0x472c46[_0x39a516(0x3ac)]()[_0x39a516(0x9b1)]!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x21d655=collection(db,_0x39a516(0xdd2)+appId+_0x39a516(0xcc2)),_0x3e1bea=query(_0x21d655,where(_0x39a516(0xc52),'==',_0x472c46[_0x39a516(0x3ac)]()),where(_0x39a516(0xcb4),'==','lobby')),_0x6fc921=await getDocs(_0x3e1bea);if(_0x6fc921['empty']){showMessage('ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x5c5537=_0x6fc921[_0x39a516(0x309)][0x0];currentTeamQuizId=_0x5c5537['id'];const _0x466c07=_0x5c5537[_0x39a516(0x518)](),_0x34211a=doc(db,_0x39a516(0xdd2)+appId+_0x39a516(0x20e),_0x466c07[_0x39a516(0x264)]),_0x29c3f9=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x466c07[_0x39a516(0x935)]),[_0x451dc0,_0x45ed6f]=await Promise[_0x39a516(0x45e)]([getDoc(_0x34211a),getDoc(_0x29c3f9)]);if(!_0x451dc0[_0x39a516(0xa40)]()||!_0x45ed6f[_0x39a516(0xa40)]())throw new Error(_0x39a516(0x5e8));currentQuizData=getShuffledQuiz({'id':_0x45ed6f['id'],..._0x45ed6f['data']()});const _0x3cc0e5=_0x451dc0[_0x39a516(0x518)]();showTeamPlayerSelection(_0x3cc0e5[_0x39a516(0xd36)],currentQuizData['topic']);}catch(_0x4e7a29){console['error']('Error\x20joining\x20team\x20quiz:',_0x4e7a29),showMessage(_0x39a516(0x37d)+_0x4e7a29[_0x39a516(0x805)]);}}async function handleJoinGroupActivity(){const _0x59a4e5=_0x36ca11,_0x3c84f5=prompt(_0x59a4e5(0x768));if(!_0x3c84f5||_0x3c84f5[_0x59a4e5(0x3ac)]()['length']!==0x4){showMessage(_0x59a4e5(0x832));return;}const _0x3e2be4=_0x3c84f5[_0x59a4e5(0x3ac)]();showMessage(_0x59a4e5(0x9be));try{const _0x391f4c=collection(db,_0x59a4e5(0xdd2)+appId+'/public/data/teamQuizzes'),_0x2e5b8b=query(_0x391f4c,where('pin','==',_0x3e2be4),where(_0x59a4e5(0xcb4),'==','lobby')),_0x1f670f=await getDocs(_0x2e5b8b);if(!_0x1f670f[_0x59a4e5(0x52e)]){console[_0x59a4e5(0x966)](_0x59a4e5(0xc88)),await proceedWithTeamQuizJoin(_0x1f670f[_0x59a4e5(0x309)][0x0]);return;}const _0x249031=collection(db,_0x59a4e5(0xdd2)+appId+_0x59a4e5(0xb3a)),_0x4ec3a2=query(_0x249031,where(_0x59a4e5(0xc52),'==',_0x3e2be4),where(_0x59a4e5(0xcb4),'in',[_0x59a4e5(0x733),_0x59a4e5(0x359),_0x59a4e5(0x97d),_0x59a4e5(0x57f)])),_0x1debd3=await getDocs(_0x4ec3a2);if(!_0x1debd3[_0x59a4e5(0x52e)]){console[_0x59a4e5(0x966)](_0x59a4e5(0x648)),await proceedWithSyncQuizJoin(_0x1debd3[_0x59a4e5(0x309)][0x0]);return;}showMessage(_0x59a4e5(0xd65));}catch(_0x3be394){console[_0x59a4e5(0x3c3)](_0x59a4e5(0xd35),_0x3be394),showMessage(_0x59a4e5(0xd60)+_0x3be394['message']);}}async function proceedWithTeamQuizJoin(_0x57bc82){const _0x1f0cb2=_0x36ca11;currentTeamQuizId=_0x57bc82['id'];const _0x2dc86f=_0x57bc82['data'](),_0x5df243=doc(db,'artifacts/'+appId+'/public/data/projects',_0x2dc86f[_0x1f0cb2(0x264)]),_0x3670ef=doc(db,'artifacts/'+appId+_0x1f0cb2(0x365),_0x2dc86f[_0x1f0cb2(0x935)]),[_0x24923f,_0x283f3e]=await Promise[_0x1f0cb2(0x45e)]([getDoc(_0x5df243),getDoc(_0x3670ef)]);if(!_0x24923f['exists']()||!_0x283f3e[_0x1f0cb2(0xa40)]())throw new Error(_0x1f0cb2(0x5e8));currentQuizData=getShuffledQuiz({'id':_0x283f3e['id'],..._0x283f3e[_0x1f0cb2(0x518)]()}),showTeamPlayerSelection(_0x24923f[_0x1f0cb2(0x518)]()[_0x1f0cb2(0xd36)],currentQuizData[_0x1f0cb2(0x714)],_0x2dc86f[_0x1f0cb2(0x8ec)]||_0x1f0cb2(0xa25)),messageModal['classList'][_0x1f0cb2(0x23b)](_0x1f0cb2(0xaa0));}async function proceedWithSyncQuizJoin(_0x2403b6){const _0x29018a=_0x36ca11;currentLiveGameId=_0x2403b6['id'];const _0x4062a7=_0x2403b6[_0x29018a(0x518)](),_0x28b9ee=doc(db,_0x29018a(0xdd2)+appId+_0x29018a(0x365),_0x4062a7[_0x29018a(0x935)]),_0x3870e9=await getDoc(_0x28b9ee);if(!_0x3870e9[_0x29018a(0xa40)]())throw new Error(_0x29018a(0x950));const _0x3016e7=_0x3870e9[_0x29018a(0x518)](),_0x218056=doc(db,_0x29018a(0xdd2)+appId+_0x29018a(0x20e),_0x3016e7[_0x29018a(0x264)]),_0x1fd2eb=await getDoc(_0x218056);if(!_0x1fd2eb[_0x29018a(0xa40)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x4062a7['shuffledQuiz'],showView('student-team-join'),showTeamPlayerSelection(_0x1fd2eb[_0x29018a(0x518)]()['students'],_0x3016e7[_0x29018a(0x714)],_0x29018a(0xaa1));const _0x4c144c=document['getElementById'](_0x29018a(0x4ba)),_0x18ae23=_0x4c144c[_0x29018a(0x869)](!![]);_0x4c144c[_0x29018a(0xd0e)][_0x29018a(0xd13)](_0x18ae23,_0x4c144c),_0x18ae23[_0x29018a(0xa67)]=confirmAndJoinSyncGame,messageModal[_0x29018a(0x7cb)][_0x29018a(0x23b)](_0x29018a(0xaa0));}function getCleanApplicationHTML(){const _0x4d769a=_0x36ca11,_0x50553a=document[_0x4d769a(0xde0)](_0x4d769a(0xaab));if(!_0x50553a)return'';const _0x330d3b=_0x50553a[_0x4d769a(0x869)](!![]);return _0x330d3b['querySelectorAll']('.application-options\x20button')[_0x4d769a(0x532)](_0x2daee1=>{const _0x3a15c9=_0x4d769a;_0x2daee1[_0x3a15c9(0x7cb)][_0x3a15c9(0x4cd)](_0x3a15c9(0x2bf),_0x3a15c9(0x41e)),_0x2daee1[_0x3a15c9(0xc4f)]=![];}),_0x330d3b[_0x4d769a(0x2bd)];}function showTeamPlayerSelection(_0x310a10,_0x293cbc,_0x503475=_0x36ca11(0xa25)){const _0x260aa5=_0x36ca11;studentInitialView[_0x260aa5(0x7cb)][_0x260aa5(0x23b)]('hidden'),studentJoinGameView['classList'][_0x260aa5(0x23b)](_0x260aa5(0xaa0)),document[_0x260aa5(0xde0)](_0x260aa5(0x3ae))['classList'][_0x260aa5(0x4cd)](_0x260aa5(0xaa0));let _0x4e4a8a=_0x260aa5(0xa27);if(_0x503475===_0x260aa5(0x968))_0x4e4a8a=_0x260aa5(0x7f9);else _0x503475===_0x260aa5(0xaa1)&&(_0x4e4a8a=_0x260aa5(0x252));document['getElementById'](_0x260aa5(0x38b))[_0x260aa5(0xb0c)]=_0x4e4a8a+':\x20'+_0x293cbc;const _0x426abe=document[_0x260aa5(0xde0)](_0x260aa5(0x735));if(!_0x310a10||_0x310a10[_0x260aa5(0x9b1)]===0x0){_0x426abe[_0x260aa5(0x2bd)]=_0x260aa5(0x5cc),document[_0x260aa5(0xde0)](_0x260aa5(0x4ba))[_0x260aa5(0xc4f)]=!![];return;}_0x426abe[_0x260aa5(0x2bd)]=_0x310a10[_0x260aa5(0xcf7)](_0x5b1301=>_0x260aa5(0xa1e)+_0x5b1301+_0x260aa5(0x688)+_0x5b1301+_0x260aa5(0x404))['join'](''),document[_0x260aa5(0xde0)](_0x260aa5(0x4ba))[_0x260aa5(0xc4f)]=![];}async function confirmAndStartTeamQuiz(){const _0x4a1fb8=_0x36ca11,_0x3f8a63=Array[_0x4a1fb8(0x64c)](document[_0x4a1fb8(0xbe7)](_0x4a1fb8(0x70a)))[_0x4a1fb8(0xcf7)](_0x540e22=>_0x540e22[_0x4a1fb8(0xd73)]);if(_0x3f8a63[_0x4a1fb8(0x9b1)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x3f8a63,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x36667e=doc(db,_0x4a1fb8(0xdd2)+appId+_0x4a1fb8(0xcc2),currentTeamQuizId);try{const _0x6a75a6=await getDoc(_0x36667e);if(!_0x6a75a6['exists']())throw new Error(_0x4a1fb8(0x7ff));const _0xeac5a9=_0x6a75a6['data']();if(_0xeac5a9[_0x4a1fb8(0x8ec)]===_0x4a1fb8(0x968)){const _0x2462ff={['groups.'+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x36667e,_0x2462ff);}else{const _0x1e0ca5=_0xeac5a9[_0x4a1fb8(0xb84)]||{};localTeamPlayers[_0x4a1fb8(0x532)](_0x536695=>{!_0x1e0ca5[_0x536695]&&(_0x1e0ca5[_0x536695]={'score':0x0,'answers':[]});}),await updateDoc(_0x36667e,{'responses':_0x1e0ca5});}document[_0x4a1fb8(0xde0)](_0x4a1fb8(0x3ae))[_0x4a1fb8(0x7cb)]['add'](_0x4a1fb8(0xaa0)),renderTeamQuizQuestion();const _0x48d1c0={'gameId':currentTeamQuizId,'mode':_0xeac5a9[_0x4a1fb8(0x8ec)]||_0x4a1fb8(0xa25),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem'](_0x4a1fb8(0x941),JSON[_0x4a1fb8(0x2f2)](_0x48d1c0)),listenForTeamQuizUpdates();}catch(_0x17575d){console['error'](_0x4a1fb8(0xccb),_0x17575d),showMessage(_0x4a1fb8(0x40a));}}async function renderTeamQuizQuestion(){const _0x421c99=_0x36ca11;if(localQuestionIndex>=currentQuizData['questions'][_0x421c99(0x9b1)]){displayTeamQuizFinalResults();return;}const _0x39a1bd=currentQuizData[_0x421c99(0x4f1)][localQuestionIndex],_0x167046=localTeamPlayers[localPlayerIndex],_0x19d922=_0x39a1bd[_0x421c99(0x55e)]||currentQuizData[_0x421c99(0xcfa)];let _0x5b5beb=_0x39a1bd['stem']||_0x39a1bd[_0x421c99(0xc60)],_0x1a7d45='';switch(_0x19d922){case'multiple_choice':case _0x421c99(0x99c):_0x1a7d45=_0x39a1bd[_0x421c99(0x72e)][_0x421c99(0xcf7)]((_0x27eb63,_0x526631)=>_0x421c99(0x8b2)+_0x526631+_0x421c99(0x5d5)+_0x526631+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x526631+'\x22>'+_0x27eb63+_0x421c99(0x2ea))['join']('');break;case _0x421c99(0x84a):_0x1a7d45='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case _0x421c99(0x44a):case _0x421c99(0x38e):_0x1a7d45=_0x421c99(0x4ab);break;case _0x421c99(0x2c9):_0x1a7d45=_0x421c99(0x645)+_0x39a1bd['allResponses'][_0x421c99(0xcf7)](_0x2ae403=>_0x421c99(0xa16)+_0x2ae403+'\x22>'+_0x2ae403+_0x421c99(0x728))[_0x421c99(0xa81)]('')+_0x421c99(0x6cc);break;default:_0x1a7d45=_0x421c99(0xd2d);break;}studentQuizArea[_0x421c99(0x2bd)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+_0x421c99(0xd99)+currentQuizData[_0x421c99(0x4f1)][_0x421c99(0x9b1)]+_0x421c99(0x3b3)+_0x167046+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x5b5beb+_0x421c99(0x580)+(_0x39a1bd['imageCode']?_0x421c99(0xd75)+_0x39a1bd[_0x421c99(0x5e1)]+_0x421c99(0xb49):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x1a7d45+_0x421c99(0x5fe),studentQuizArea[_0x421c99(0x7cb)][_0x421c99(0x4cd)](_0x421c99(0xaa0));if(window[_0x421c99(0x9f7)])MathJax['typesetPromise']([studentQuizArea]);document[_0x421c99(0xde0)](_0x421c99(0x659))[_0x421c99(0x999)]('click',handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x213263=_0x36ca11,_0x1fa60c=currentQuizData[_0x213263(0x4f1)][localQuestionIndex],_0x1e120d=_0x1fa60c[_0x213263(0x55e)]||currentQuizData[_0x213263(0xcfa)];let _0x4b89fc=null,_0x237e33=![];if(_0x1e120d===_0x213263(0x44a)||_0x1e120d==='fill_in_no_choices'){const _0x57c355=document['querySelector'](_0x213263(0xa15));if(!_0x57c355||!_0x57c355['value'][_0x213263(0x3ac)]()){showMessage(_0x213263(0x625));return;}_0x4b89fc=_0x57c355['value'][_0x213263(0x3ac)](),_0x237e33=await gradeShortAnswer(_0x4b89fc,_0x1fa60c);}else{const _0x3be8d2=document[_0x213263(0xce2)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x3be8d2||_0x3be8d2[_0x213263(0xd73)]===''){showMessage(_0x213263(0x561));return;}_0x4b89fc=_0x3be8d2[_0x213263(0xd73)];switch(_0x1e120d){case _0x213263(0x84a):_0x237e33=_0x4b89fc===_0x213263(0x3f6)===_0x1fa60c[_0x213263(0x5ec)];break;case _0x213263(0x2c9):_0x237e33=_0x4b89fc===_0x1fa60c['correctResponse'];break;default:_0x237e33=parseInt(_0x4b89fc)===_0x1fa60c['correctAnswerIndex'];break;}}const _0x5b8d7c={'questionIndex':localQuestionIndex,'isCorrect':_0x237e33},_0x8e1ab1=userId,_0x27daad={[_0x213263(0x6b3)+_0x8e1ab1+'.answers']:arrayUnion(_0x5b8d7c)};_0x237e33&&(_0x27daad[_0x213263(0x6b3)+_0x8e1ab1+_0x213263(0x358)]=increment(0x1));try{await updateDoc(doc(db,_0x213263(0xdd2)+appId+_0x213263(0xcc2),currentTeamQuizId),_0x27daad),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x213263(0x4f1)][_0x213263(0x9b1)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x199038){console[_0x213263(0x3c3)]('Error\x20submitting\x20group\x20answer:',_0x199038),showMessage(_0x213263(0xd1e));}}async function handleTeamAnswerSubmit(){const _0x919a37=_0x36ca11,_0x16dd15=await getDoc(doc(db,_0x919a37(0xdd2)+appId+_0x919a37(0xcc2),currentTeamQuizId));if(!_0x16dd15['exists']())return;const _0x387bc4=_0x16dd15[_0x919a37(0x518)]();if(_0x387bc4[_0x919a37(0x8ec)]==='group'){handleGroupAnswerSubmit();return;}const _0x100ae4=localTeamPlayers[localPlayerIndex],_0x4f03ff=currentQuizData[_0x919a37(0x4f1)][localQuestionIndex],_0x35394a=_0x4f03ff[_0x919a37(0x55e)]||currentQuizData[_0x919a37(0xcfa)];let _0x3c260d=null,_0x3913c9=![];if(_0x35394a==='short_answer'||_0x35394a==='fill_in_no_choices'){const _0x471bf6=document['querySelector'](_0x919a37(0xa15));if(!_0x471bf6||!_0x471bf6[_0x919a37(0xd73)][_0x919a37(0x3ac)]()){showMessage(_0x919a37(0x821));return;}_0x3c260d=_0x471bf6[_0x919a37(0xd73)][_0x919a37(0x3ac)](),_0x3913c9=await gradeShortAnswer(_0x3c260d,_0x4f03ff);}else{const _0xf60da2=document['querySelector']('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0xf60da2||_0xf60da2[_0x919a37(0xd73)]===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x3c260d=_0xf60da2[_0x919a37(0xd73)];switch(_0x35394a){case'true_false':_0x3913c9=_0x3c260d===_0x919a37(0x3f6)===_0x4f03ff[_0x919a37(0x5ec)];break;case'matching_item':_0x3913c9=_0x3c260d===_0x4f03ff['correctResponse'];break;default:_0x3913c9=parseInt(_0x3c260d)===_0x4f03ff[_0x919a37(0x31b)];break;}}const _0x555dbd={'questionIndex':localQuestionIndex,'isCorrect':_0x3913c9,'answerValue':_0x3c260d},_0x3d58ea={['responses.'+_0x100ae4+'.answers']:arrayUnion(_0x555dbd)};_0x3913c9&&(_0x3d58ea[_0x919a37(0xd78)+_0x100ae4+_0x919a37(0x358)]=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+_0x919a37(0xcc2),currentTeamQuizId),_0x3d58ea),localPlayerIndex++,localPlayerIndex>=localTeamPlayers['length']&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x5038af){console[_0x919a37(0x3c3)](_0x919a37(0x407),_0x5038af),showMessage(_0x919a37(0xd1e));}}async function displayTeamQuizFinalResults(){const _0x3e2901=_0x36ca11;studentQuizArea[_0x3e2901(0x7cb)][_0x3e2901(0x23b)](_0x3e2901(0xaa0)),studentResultArea[_0x3e2901(0x7cb)][_0x3e2901(0x4cd)](_0x3e2901(0xaa0));const _0x181f8b=doc(db,'artifacts/'+appId+_0x3e2901(0xcc2),currentTeamQuizId),_0x5b7b01=await getDoc(_0x181f8b);if(!_0x5b7b01[_0x3e2901(0xa40)]()){studentResultArea[_0x3e2901(0x2bd)]=_0x3e2901(0x2cf);return;}const _0x2861a0=_0x5b7b01[_0x3e2901(0x518)]();let _0x37dfb1=[];const _0x23c488=_0x2861a0['mode']||_0x3e2901(0xa25);if(_0x23c488===_0x3e2901(0x968)){const _0x568b62=_0x2861a0[_0x3e2901(0xc76)][userId];_0x568b62?_0x37dfb1=[{'name':_0x3e2901(0x931)+localTeamPlayers[_0x3e2901(0xa81)](',\x20'),'score':_0x568b62[_0x3e2901(0x2ad)]||0x0}]:_0x37dfb1=[{'name':'กลุ่มของคุณ','score':_0x3e2901(0xbc0)}];}else _0x37dfb1=localTeamPlayers[_0x3e2901(0xcf7)](_0xf62c17=>({'name':_0xf62c17,'score':_0x2861a0[_0x3e2901(0xb84)][_0xf62c17]?.[_0x3e2901(0x2ad)]||0x0}))['sort']((_0x4d52fd,_0x2d18c)=>_0x2d18c[_0x3e2901(0x2ad)]-_0x4d52fd[_0x3e2901(0x2ad)]);studentResultArea[_0x3e2901(0x2bd)]=_0x3e2901(0x915)+_0x37dfb1[_0x3e2901(0xcf7)](_0x3316c7=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+_0x3316c7['name']+_0x3e2901(0x980)+_0x3316c7[_0x3e2901(0x2ad)]+_0x3e2901(0xdaa))[_0x3e2901(0xa81)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage['removeItem']('activeGameSession'),currentMode===_0x3e2901(0x67f)&&currentTeamQuizId&&setTimeout(()=>{const _0x5245bd=_0x3e2901;deleteDoc(doc(db,'artifacts/'+appId+_0x5245bd(0xcc2),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x36ca11(0x621),'pinnedProjects':[],'projectView':_0x36ca11(0x5b0)};const allMathTopics=[{'category':'จำนวนและการดำเนินการ','name':_0x36ca11(0x2c5)},{'category':'จำนวนและการดำเนินการ','name':_0x36ca11(0x8fc)},{'category':_0x36ca11(0x622),'name':'การปัดเศษและประมาณค่า'},{'category':_0x36ca11(0x622),'name':_0x36ca11(0xdb1)},{'category':_0x36ca11(0x622),'name':_0x36ca11(0x50f)},{'category':'จำนวนและการดำเนินการ','name':_0x36ca11(0x997)},{'category':_0x36ca11(0x622),'name':_0x36ca11(0x55a)},{'category':_0x36ca11(0x622),'name':_0x36ca11(0x3ff)},{'category':'จำนวนและการดำเนินการ','name':_0x36ca11(0x288)},{'category':_0x36ca11(0x622),'name':_0x36ca11(0x471)},{'category':_0x36ca11(0x622),'name':'ศูนย์'},{'category':'จำนวนและการดำเนินการ','name':'ค่าสัมบูรณ์'},{'category':_0x36ca11(0x622),'name':_0x36ca11(0xd62)},{'category':'จำนวนและการดำเนินการ','name':_0x36ca11(0xcc3)},{'category':'จำนวนและการดำเนินการ','name':'ห.ร.ม.\x20(GCD)'},{'category':_0x36ca11(0x622),'name':_0x36ca11(0x523)},{'category':_0x36ca11(0x622),'name':'อัตราส่วนและสัดส่วน'},{'category':_0x36ca11(0x622),'name':_0x36ca11(0x901)},{'category':_0x36ca11(0x622),'name':_0x36ca11(0x981)},{'category':'จำนวนและการดำเนินการ','name':_0x36ca11(0x39d)},{'category':_0x36ca11(0x622),'name':'การลบเศษส่วน'},{'category':'จำนวนและการดำเนินการ','name':'การคูณเศษส่วน'},{'category':_0x36ca11(0x622),'name':_0x36ca11(0x860)},{'category':_0x36ca11(0x622),'name':_0x36ca11(0x34b)},{'category':_0x36ca11(0x622),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':'จำนวนและการดำเนินการ','name':_0x36ca11(0x301)},{'category':_0x36ca11(0x622),'name':_0x36ca11(0x27a)},{'category':_0x36ca11(0x622),'name':_0x36ca11(0x5e4)},{'category':'จำนวนและการดำเนินการ','name':_0x36ca11(0x537)},{'category':_0x36ca11(0x622),'name':_0x36ca11(0xc91)},{'category':_0x36ca11(0x622),'name':_0x36ca11(0xdc7)},{'category':_0x36ca11(0x622),'name':_0x36ca11(0x826)},{'category':_0x36ca11(0x622),'name':_0x36ca11(0xa09)},{'category':_0x36ca11(0x622),'name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':_0x36ca11(0x622),'name':'รากที่สองและที่สาม'},{'category':_0x36ca11(0x622),'name':'รูปสแควร์รูท\x20(surd)'},{'category':_0x36ca11(0x622),'name':_0x36ca11(0x82b)},{'category':_0x36ca11(0x758),'name':_0x36ca11(0xc8c)},{'category':_0x36ca11(0x758),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0x36ca11(0x758),'name':'หน่วยเวลาและการคำนวณเวลา'},{'category':_0x36ca11(0x758),'name':_0x36ca11(0xa7a)},{'category':_0x36ca11(0x758),'name':_0x36ca11(0x366)},{'category':_0x36ca11(0x758),'name':'เส้นรอบรูป'},{'category':_0x36ca11(0x758),'name':_0x36ca11(0xa29)},{'category':_0x36ca11(0x758),'name':_0x36ca11(0x656)},{'category':_0x36ca11(0x758),'name':_0x36ca11(0x3ed)},{'category':_0x36ca11(0x758),'name':_0x36ca11(0x847)},{'category':_0x36ca11(0x758),'name':_0x36ca11(0x731)},{'category':'การวัด','name':_0x36ca11(0xc2a)},{'category':'การวัด','name':_0x36ca11(0x58f)},{'category':_0x36ca11(0x758),'name':_0x36ca11(0x8f2)},{'category':_0x36ca11(0xdbc),'name':_0x36ca11(0xb18)},{'category':_0x36ca11(0xdbc),'name':'ความสัมพันธ์ของมุม'},{'category':_0x36ca11(0xdbc),'name':_0x36ca11(0xa84)},{'category':_0x36ca11(0xdbc),'name':_0x36ca11(0x656)},{'category':_0x36ca11(0xdbc),'name':_0x36ca11(0x475)},{'category':_0x36ca11(0xdbc),'name':'ความคล้ายของรูป'},{'category':_0x36ca11(0xdbc),'name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':_0x36ca11(0xdbc),'name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':'เรขาคณิต','name':_0x36ca11(0xa02)},{'category':_0x36ca11(0xdbc),'name':_0x36ca11(0x332)},{'category':_0x36ca11(0xdbc),'name':_0x36ca11(0xdcc)},{'category':_0x36ca11(0xdbc),'name':_0x36ca11(0xbef)},{'category':_0x36ca11(0xdbc),'name':'สมมาตร\x20(แกน/จุด)'},{'category':_0x36ca11(0xdbc),'name':_0x36ca11(0xb9d)},{'category':_0x36ca11(0xdbc),'name':_0x36ca11(0xa1f)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x36ca11(0x536)},{'category':'พีชคณิตและฟังก์ชัน','name':'การกระจายและการจัดหมู่'},{'category':_0x36ca11(0x760),'name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':_0x36ca11(0x760),'name':_0x36ca11(0x66c)},{'category':_0x36ca11(0x760),'name':_0x36ca11(0x4ca)},{'category':_0x36ca11(0x760),'name':_0x36ca11(0xdc8)},{'category':_0x36ca11(0x760),'name':_0x36ca11(0x8e0)},{'category':_0x36ca11(0x760),'name':_0x36ca11(0xce0)},{'category':_0x36ca11(0x760),'name':'สมการค่าสัมบูรณ์'},{'category':_0x36ca11(0x760),'name':_0x36ca11(0x283)},{'category':_0x36ca11(0x760),'name':_0x36ca11(0x3e4)},{'category':_0x36ca11(0x760),'name':_0x36ca11(0x34a)},{'category':_0x36ca11(0x760),'name':_0x36ca11(0x8ab)},{'category':_0x36ca11(0x760),'name':_0x36ca11(0x8c7)},{'category':_0x36ca11(0x760),'name':_0x36ca11(0x82d)},{'category':_0x36ca11(0x760),'name':_0x36ca11(0x967)},{'category':_0x36ca11(0x760),'name':_0x36ca11(0x854)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x36ca11(0x7a9)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x36ca11(0x880)},{'category':_0x36ca11(0x760),'name':_0x36ca11(0x914)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x36ca11(0x902)},{'category':_0x36ca11(0x760),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0x36ca11(0x760),'name':_0x36ca11(0x8e7)},{'category':_0x36ca11(0x760),'name':_0x36ca11(0xdec)},{'category':_0x36ca11(0x760),'name':_0x36ca11(0xcce)},{'category':_0x36ca11(0x760),'name':'ฟังก์ชันราก\x20(root)'},{'category':_0x36ca11(0x760),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':_0x36ca11(0x760),'name':_0x36ca11(0x6fe)},{'category':_0x36ca11(0x760),'name':_0x36ca11(0x9ae)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันลอการิทึม'},{'category':_0x36ca11(0x760),'name':_0x36ca11(0x4a4)},{'category':_0x36ca11(0x760),'name':'ลำดับเรขาคณิต\x20(GP)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x36ca11(0xbd6)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x36ca11(0x620)},{'category':_0x36ca11(0x760),'name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':_0x36ca11(0xa5a),'name':_0x36ca11(0xbb9)},{'category':_0x36ca11(0xa5a),'name':_0x36ca11(0x984)},{'category':'เรขาคณิตวิเคราะห์','name':'เส้นตรง:\x20รูปแบบสมการ'},{'category':_0x36ca11(0xa5a),'name':_0x36ca11(0x84f)},{'category':_0x36ca11(0xa5a),'name':_0x36ca11(0x650)},{'category':_0x36ca11(0xa5a),'name':_0x36ca11(0xb1f)},{'category':_0x36ca11(0xa5a),'name':_0x36ca11(0x4e3)},{'category':_0x36ca11(0xa5a),'name':_0x36ca11(0x4e2)},{'category':_0x36ca11(0xa5a),'name':_0x36ca11(0x99d)},{'category':_0x36ca11(0x936),'name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':_0x36ca11(0x936),'name':'มุมพิเศษ\x2030°-60°-90°'},{'category':'ตรีโกณมิติ','name':_0x36ca11(0x329)},{'category':'ตรีโกณมิติ','name':_0x36ca11(0xa48)},{'category':_0x36ca11(0x936),'name':'กฎของไซน์'},{'category':_0x36ca11(0x936),'name':_0x36ca11(0xbb1)},{'category':_0x36ca11(0x936),'name':_0x36ca11(0xbb5)},{'category':_0x36ca11(0x936),'name':_0x36ca11(0x6bd)},{'category':_0x36ca11(0x936),'name':_0x36ca11(0x373)},{'category':_0x36ca11(0x936),'name':_0x36ca11(0xcbe)},{'category':_0x36ca11(0x936),'name':_0x36ca11(0x78a)},{'category':_0x36ca11(0xb20),'name':_0x36ca11(0xb47)},{'category':'สถิติและความน่าจะเป็น','name':_0x36ca11(0xd70)},{'category':'สถิติและความน่าจะเป็น','name':_0x36ca11(0x41b)},{'category':_0x36ca11(0xb20),'name':_0x36ca11(0x8a1)},{'category':_0x36ca11(0xb20),'name':_0x36ca11(0x7da)},{'category':_0x36ca11(0xb20),'name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':_0x36ca11(0xb20),'name':_0x36ca11(0x808)},{'category':'สถิติและความน่าจะเป็น','name':_0x36ca11(0x7ab)},{'category':_0x36ca11(0xb20),'name':_0x36ca11(0x7c7)},{'category':_0x36ca11(0xb20),'name':'พิสัย'},{'category':_0x36ca11(0xb20),'name':_0x36ca11(0x80a)},{'category':_0x36ca11(0xb20),'name':'ความแปรปรวน'},{'category':_0x36ca11(0xb20),'name':_0x36ca11(0xbcb)},{'category':_0x36ca11(0xb20),'name':'การแจกแจงปกติและ\x20z-score'},{'category':_0x36ca11(0xb20),'name':_0x36ca11(0x96d)},{'category':'สถิติและความน่าจะเป็น','name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x36ca11(0xb20),'name':_0x36ca11(0xcb3)},{'category':'สถิติและความน่าจะเป็น','name':'แผนภาพเวนน์'},{'category':'สถิติและความน่าจะเป็น','name':_0x36ca11(0x3d9)},{'category':'สถิติและความน่าจะเป็น','name':_0x36ca11(0xc63)},{'category':'สถิติและความน่าจะเป็น','name':_0x36ca11(0x2ee)},{'category':_0x36ca11(0xb20),'name':_0x36ca11(0x206)},{'category':'สถิติและความน่าจะเป็น','name':'การแจกแจงทวินาม\x20(พื้นฐาน)'},{'category':'สถิติและความน่าจะเป็น','name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':_0x36ca11(0xa30),'name':_0x36ca11(0x61d)},{'category':_0x36ca11(0xa30),'name':'ความต่อเนื่อง'},{'category':'แคลคูลัสเบื้องต้น','name':_0x36ca11(0xd4e)},{'category':_0x36ca11(0xa30),'name':_0x36ca11(0x624)},{'category':_0x36ca11(0xa30),'name':_0x36ca11(0xd0c)},{'category':_0x36ca11(0xa30),'name':_0x36ca11(0xdca)},{'category':_0x36ca11(0xa30),'name':_0x36ca11(0x3bf)},{'category':_0x36ca11(0xa30),'name':_0x36ca11(0x356)},{'category':'แคลคูลัสเบื้องต้น','name':_0x36ca11(0x384)},{'category':'แคลคูลัสเบื้องต้น','name':_0x36ca11(0xc30)},{'category':_0x36ca11(0xa30),'name':_0x36ca11(0x868)},{'category':_0x36ca11(0xa30),'name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x36ca11(0xa30),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0x36ca11(0x3f8),'name':_0x36ca11(0x7cf)},{'category':_0x36ca11(0x3f8),'name':_0x36ca11(0xcd5)},{'category':_0x36ca11(0x3f8),'name':_0x36ca11(0x665)},{'category':_0x36ca11(0x3f8),'name':_0x36ca11(0x53a)},{'category':_0x36ca11(0x3f8),'name':_0x36ca11(0x593)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x36ca11(0x455)},{'category':_0x36ca11(0x3f8),'name':_0x36ca11(0xb61)},{'category':_0x36ca11(0xa1c),'name':'ดอกเบี้ยอย่างง่าย'},{'category':_0x36ca11(0xa1c),'name':_0x36ca11(0x6dd)},{'category':_0x36ca11(0xa1c),'name':_0x36ca11(0xb86)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x36ca11(0x3b4)},{'category':_0x36ca11(0xa1c),'name':_0x36ca11(0x3d2)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x36ca11(0x559)},{'category':_0x36ca11(0x45c),'name':_0x36ca11(0xde5)},{'category':_0x36ca11(0x45c),'name':_0x36ca11(0xad2)}];function renderTopicCheckboxes(){const _0x15b884=_0x36ca11,_0x4150bf=document[_0x15b884(0xde0)]('math-topics-checkbox-container');if(!_0x4150bf)return;const _0xf6bfc1=allMathTopics,_0x2bb53f=customMathTopics[_0x15b884(0xcf7)](_0x5deab5=>({'id':_0x5deab5['id'],'category':_0x15b884(0x7e8),'name':_0x5deab5['name']})),_0x21d404=[..._0xf6bfc1,..._0x2bb53f],_0x482b7c=_0x21d404[_0x15b884(0x514)]((_0x1ce2fa,_0x2175a7)=>{const _0xf1e473=_0x15b884;return!_0x1ce2fa[_0x2175a7['category']]&&(_0x1ce2fa[_0x2175a7[_0xf1e473(0x226)]]=[]),_0x1ce2fa[_0x2175a7[_0xf1e473(0x226)]]['push'](_0x2175a7),_0x1ce2fa;},{});let _0x32f9f5='';const _0x1c054b=[_0x15b884(0x7e8),...Object[_0x15b884(0xd97)](_0x482b7c)[_0x15b884(0x273)](_0x2377cb=>_0x2377cb!=='หัวข้อที่สร้างเอง')];for(const _0x42a4e7 of _0x1c054b){if(_0x482b7c[_0x42a4e7]){const _0x5b14d8=_0x42a4e7===_0x15b884(0x7e8),_0x4d704d=_0x5b14d8?'fas\x20fa-user-edit':_0x15b884(0x7e9),_0x1bb9d6=_0x5b14d8?_0x15b884(0x3a0):'text-indigo-700';_0x32f9f5+=_0x15b884(0x88a),_0x32f9f5+=_0x15b884(0x98a)+_0x1bb9d6+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x4d704d+'\x20mr-2\x22></i>'+_0x42a4e7+_0x15b884(0x472),_0x482b7c[_0x42a4e7][_0x15b884(0x532)](_0x313939=>{const _0x4a86a1=_0x15b884,_0x2a066c=!!_0x313939['id'],_0x522230=_0x2a066c?_0x4a86a1(0x296)+_0x313939['id']+_0x4a86a1(0xbc1)+_0x313939['id']+_0x4a86a1(0x9d4)+_0x313939['id']+_0x4a86a1(0x3f1)+_0x313939['id']+'\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'';_0x32f9f5+=_0x4a86a1(0x2b6)+(_0x313939['id']||'')+_0x4a86a1(0x675)+_0x313939[_0x4a86a1(0xa69)]+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x313939[_0x4a86a1(0xa69)]+_0x4a86a1(0xc80)+(_0x2a066c?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x313939[_0x4a86a1(0xa69)]+'\x22>':'')+_0x4a86a1(0xb30)+_0x522230+_0x4a86a1(0xdde);}),_0x32f9f5+=_0x15b884(0xb49);}}_0x4150bf[_0x15b884(0x2bd)]=_0x32f9f5||_0x15b884(0x555),_0x4150bf[_0x15b884(0xb40)](_0x15b884(0xade),updateSelectedTopicsCount),_0x4150bf[_0x15b884(0x999)](_0x15b884(0xade),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x411be4,_0x384894){const _0x1b29a6=_0x36ca11;if(!_0x411be4||!_0x384894[_0x1b29a6(0x3ac)]()){showMessage(_0x1b29a6(0x66d));return;}try{const _0xae4e49=doc(db,_0x1b29a6(0xdd2)+appId+'/public/data/customMathTopics',_0x411be4);await updateDoc(_0xae4e49,{'name':_0x384894[_0x1b29a6(0x3ac)]()}),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x1d4079){console[_0x1b29a6(0x3c3)](_0x1b29a6(0xac4),_0x1d4079),showMessage(_0x1b29a6(0x556));}}function toggleTopicEditMode(_0x18ef71,_0xf70aea){const _0x27fd2c=_0x36ca11;if(!_0x18ef71)return;const _0x162a82=_0x18ef71[_0x27fd2c(0xce2)]('.topic-name-display'),_0x33597f=_0x18ef71[_0x27fd2c(0xce2)](_0x27fd2c(0xc0a)),_0x96d808=_0x18ef71['querySelector']('.topic-actions-view'),_0x36327f=_0x18ef71[_0x27fd2c(0xce2)](_0x27fd2c(0x562));_0x162a82[_0x27fd2c(0x7cb)][_0x27fd2c(0x527)]('hidden',_0xf70aea),_0x33597f[_0x27fd2c(0x7cb)]['toggle'](_0x27fd2c(0xaa0),!_0xf70aea),_0x96d808[_0x27fd2c(0x7cb)]['toggle']('hidden',_0xf70aea),_0x36327f['classList'][_0x27fd2c(0x527)](_0x27fd2c(0xaa0),!_0xf70aea),_0xf70aea&&(_0x33597f[_0x27fd2c(0x8b9)](),_0x33597f['select']());}async function handleStartLiveRace(_0x391b98){const _0x4d4af1=_0x36ca11;let _0x149e56=allQuizzes[_0x4d4af1(0x349)](_0x1a2fad=>_0x1a2fad['id']===_0x391b98);if(!_0x149e56){const _0x363c32=doc(db,_0x4d4af1(0xdd2)+appId+_0x4d4af1(0x365),_0x391b98),_0x4c36e5=await getDoc(_0x363c32);if(!_0x4c36e5['exists']()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0x149e56={'id':_0x4c36e5['id'],..._0x4c36e5[_0x4d4af1(0x518)]()};}const _0x420c7c=getShuffledQuiz(_0x149e56);currentQuizData=_0x420c7c;const _0x2e56ac=_0x149e56[_0x4d4af1(0x264)]||currentProjectId||null,_0x2e02ba=Math['floor'](0x3e8+Math[_0x4d4af1(0xdd3)]()*0x2328)[_0x4d4af1(0x460)]();currentLiveGamePin=_0x2e02ba;try{const _0x53f932=await addDoc(collection(db,_0x4d4af1(0xdd2)+appId+_0x4d4af1(0xc0e)),{'quizId':_0x391b98,'projectId':_0x2e56ac,'status':_0x4d4af1(0x733),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x2e02ba,'createdAt':serverTimestamp(),'shuffledQuiz':_0x420c7c});currentLiveGameId=_0x53f932['id'],showAdminLobbyView(_0x2e02ba,_0x149e56[_0x4d4af1(0x714)]),listenForLiveGameUpdates();}catch(_0x3e15bd){console[_0x4d4af1(0x3c3)](_0x4d4af1(0xb04),_0x3e15bd),showMessage(_0x4d4af1(0x1e8));}}function updateSelectedTopicsCount(){const _0x443fb5=_0x36ca11,_0x211fe8=document[_0x443fb5(0xde0)](_0x443fb5(0x599)),_0xcb52b3=_0x211fe8['querySelectorAll'](_0x443fb5(0x52b))[_0x443fb5(0x9b1)],_0xec5f95=document[_0x443fb5(0xde0)](_0x443fb5(0x76b));_0xcb52b3>0x0?_0xec5f95['textContent']='(เลือกแล้ว\x20'+_0xcb52b3+_0x443fb5(0xcdf):_0xec5f95['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x36ca11(0x965),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x36ca11(0xc6e),quizLeaderboardSortOrder=_0x36ca11(0x281),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x36ca11(0x79a),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x36ca11(0x853),scratchpadPenColor=_0x36ca11(0x779),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x93e4ce,_0x56920a){const _0x25dc19=_0x36ca11;return Math['sqrt'](Math[_0x25dc19(0x32a)](_0x93e4ce['x']-_0x56920a['x'],0x2)+Math[_0x25dc19(0x32a)](_0x93e4ce['y']-_0x56920a['y'],0x2));}function getMidpoint(_0x57a03d,_0x255c1a){return{'x':(_0x57a03d['x']+_0x255c1a['x'])/0x2,'y':(_0x57a03d['y']+_0x255c1a['y'])/0x2};}function getTransformedPoint(_0x6301e,_0x9192eb){return{'x':(_0x6301e-scratchpadOffset['x'])/scratchpadScale,'y':(_0x9192eb-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x37ea97=_0x36ca11;if(!scratchpadCtx)return;const _0x2b0dbb=scratchpadCtx[_0x37ea97(0xa9b)],_0x240a9a=window[_0x37ea97(0xbf9)]||0x1,_0x47de07=document[_0x37ea97(0xde0)](_0x37ea97(0x6ad));_0x47de07&&(_0x47de07[_0x37ea97(0x2fc)][_0x37ea97(0x26d)]=_0x37ea97(0x325),_0x47de07[_0x37ea97(0x2fc)]['transform']=_0x37ea97(0xaec)+scratchpadOffset['x']+_0x37ea97(0x83e)+scratchpadOffset['y']+_0x37ea97(0x3a9)+scratchpadScale+')'),scratchpadCtx['save'](),scratchpadCtx[_0x37ea97(0x3fb)](_0x240a9a,0x0,0x0,_0x240a9a,0x0,0x0),scratchpadCtx[_0x37ea97(0xbc4)](0x0,0x0,_0x2b0dbb['width'],_0x2b0dbb[_0x37ea97(0x5cf)]),scratchpadCtx[_0x37ea97(0x306)](),scratchpadCtx['save'](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes[_0x37ea97(0x532)](_0x128c1=>{drawStroke(_0x128c1);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x37ea97(0x306)]();}function renderGroupModeQuestion(){const _0xb4da6=_0x36ca11;if(localQuestionIndex>=currentQuizData[_0xb4da6(0x4f1)][_0xb4da6(0x9b1)]){displayTeamQuizFinalResults();return;}const _0x31c962=currentQuizData[_0xb4da6(0x4f1)][localQuestionIndex],_0xfe5706=_0x31c962['questionType']||currentQuizData['quizType'];let _0x5bfd2a=_0x31c962[_0xb4da6(0x1f4)]||_0x31c962[_0xb4da6(0xc60)],_0x45f1ec='';switch(_0xfe5706){case'multiple_choice':case _0xb4da6(0x99c):_0x45f1ec=_0x31c962[_0xb4da6(0x72e)][_0xb4da6(0xcf7)]((_0x4926b2,_0xc1aaa6)=>_0xb4da6(0x8b2)+_0xc1aaa6+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0xc1aaa6+_0xb4da6(0x35f)+_0xc1aaa6+'\x22>'+_0x4926b2+_0xb4da6(0x2ea))[_0xb4da6(0xa81)]('');break;case _0xb4da6(0x84a):_0x45f1ec='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case _0xb4da6(0x44a):case _0xb4da6(0x38e):_0x45f1ec='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>';break;case _0xb4da6(0x2c9):_0x45f1ec=_0xb4da6(0x645)+_0x31c962[_0xb4da6(0xd55)][_0xb4da6(0xcf7)](_0x35132f=>_0xb4da6(0xa16)+_0x35132f+'\x22>'+_0x35132f+_0xb4da6(0x728))[_0xb4da6(0xa81)]('')+_0xb4da6(0x6cc);break;default:_0x45f1ec='<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>';break;}studentQuizArea['innerHTML']=_0xb4da6(0x402)+(localQuestionIndex+0x1)+_0xb4da6(0xd99)+currentQuizData['questions'][_0xb4da6(0x9b1)]+_0xb4da6(0x75d)+localTeamPlayers[_0xb4da6(0xa81)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x5bfd2a+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x31c962[_0xb4da6(0x5e1)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x31c962[_0xb4da6(0x5e1)]+_0xb4da6(0xb49):'')+_0xb4da6(0x6e6)+_0x45f1ec+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0xb4da6(0x7cb)][_0xb4da6(0x4cd)](_0xb4da6(0xaa0));if(window['MathJax'])MathJax['typesetPromise']([studentQuizArea]);document[_0xb4da6(0xde0)](_0xb4da6(0x29a))['addEventListener']('click',handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x28bc75,_0x5550bf=null,_0x535368,_0x230b13=null,_0x406668=![],_0x426440=null){const _0x5f015e=_0x36ca11,_0x1e9fa5=document[_0x5f015e(0xde0)]('quiz-generation-area');_0x1e9fa5&&_0x1e9fa5['scrollIntoView']({'behavior':'smooth','block':_0x5f015e(0xc17)}),generateQuiz(_0x28bc75,_0x5550bf,null,_0x426440,!![],_0x535368,_0x230b13,_0x406668);}function handleGenerateAndShowLesson(_0x30977f,_0x2ce91a){const _0x3ac0fc=_0x36ca11,_0x2a39f8=document[_0x3ac0fc(0xde0)](_0x3ac0fc(0x911)),_0x20bf55=document['getElementById']('lesson-view-title'),_0x503e34=document[_0x3ac0fc(0xde0)](_0x3ac0fc(0x200)),_0x49f7f7=document[_0x3ac0fc(0xde0)]('lesson-sections-container');[_0x3ac0fc(0x3af),'memoryContent',_0x3ac0fc(0xaab),_0x3ac0fc(0xae3)]['forEach'](_0x3b1f82=>{const _0xe3ee93=_0x3ac0fc,_0x1b0b80=document[_0xe3ee93(0xde0)](_0x3b1f82)[_0xe3ee93(0x1e0)];_0x1b0b80&&(_0x1b0b80['style']['display']=_0xe3ee93(0xc9a));}),_0x20bf55[_0x3ac0fc(0xb0c)]=_0x3ac0fc(0x5bf)+_0x30977f,_0x49f7f7['classList'][_0x3ac0fc(0x23b)]('hidden'),_0x503e34['classList'][_0x3ac0fc(0x4cd)]('hidden'),_0x2a39f8['classList']['remove'](_0x3ac0fc(0xaa0)),generateLesson(_0x30977f,_0x2ce91a)[_0x3ac0fc(0x23c)](_0x5175f4=>{const _0x2037d4=_0x3ac0fc;console[_0x2037d4(0x3c3)](_0x2037d4(0x458),_0x5175f4),showMessage(_0x2037d4(0x890)),_0x2a39f8['classList'][_0x2037d4(0x23b)](_0x2037d4(0xaa0));});}function handlePointerDown(_0xe4e32d){const _0x37f785=_0x36ca11;_0xe4e32d[_0x37f785(0x4c8)]();const _0x4ab86c=scratchpadCtx[_0x37f785(0xa9b)],_0x4f4427=_0x4ab86c[_0x37f785(0x8f4)](),_0x29df4a=_0xe4e32d[_0x37f785(0x4e8)]||(_0xe4e32d[_0x37f785(0x49a)]?'touch':'mouse');if(_0x29df4a===_0x37f785(0x853)||_0x29df4a===_0x37f785(0x7a4)){if(_0xe4e32d[_0x37f785(0x4e8)]===_0x37f785(0x7a4)&&_0xe4e32d[_0x37f785(0x549)]!==0x0){_0xe4e32d[_0x37f785(0x549)]===0x1&&(isMousePanning=!![],panStart={'x':_0xe4e32d['clientX'],'y':_0xe4e32d[_0x37f785(0xb64)]},_0x4ab86c[_0x37f785(0x2fc)]['cursor']=_0x37f785(0x823));return;}activeTool===_0x37f785(0x4b5)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x2ee8df=getTransformedPoint(_0xe4e32d[_0x37f785(0x2b7)]-_0x4f4427[_0x37f785(0x23e)],_0xe4e32d[_0x37f785(0xb64)]-_0x4f4427[_0x37f785(0x5fd)]);let _0x55d9e8={'tool':activeTool,'points':[_0x2ee8df]};if(activeTool==='pen')_0x55d9e8[_0x37f785(0x4b8)]=scratchpadPenColor,_0x55d9e8[_0x37f785(0x9a8)]=scratchpadPenSize;else{if(activeTool===_0x37f785(0x42b))_0x55d9e8[_0x37f785(0x4b8)]=scratchpadPenColor,_0x55d9e8[_0x37f785(0x9a8)]=scratchpadEraserSize;else{if(activeTool===_0x37f785(0x5ee))_0x55d9e8[_0x37f785(0x4b8)]=scratchpadHighlighterColor,_0x55d9e8['size']=scratchpadHighlighterSize;else activeTool===_0x37f785(0x4b5)&&(_0x55d9e8[_0x37f785(0x4b8)]=scratchpadPenColor,_0x55d9e8[_0x37f785(0x9a8)]=scratchpadPenSize);}}currentStroke=_0x55d9e8;}else _0xe4e32d[_0x37f785(0x49a)]&&(_0xe4e32d[_0x37f785(0x49a)][_0x37f785(0x9b1)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0xe4e32d[_0x37f785(0x49a)][0x0][_0x37f785(0x2b7)],'y':_0xe4e32d[_0x37f785(0x49a)][0x0]['clientY']},{'x':_0xe4e32d['touches'][0x1][_0x37f785(0x2b7)],'y':_0xe4e32d[_0x37f785(0x49a)][0x1][_0x37f785(0xb64)]}),initialPinchDistance=getDistance({'x':_0xe4e32d[_0x37f785(0x49a)][0x0][_0x37f785(0x2b7)],'y':_0xe4e32d[_0x37f785(0x49a)][0x0][_0x37f785(0xb64)]},{'x':_0xe4e32d[_0x37f785(0x49a)][0x1][_0x37f785(0x2b7)],'y':_0xe4e32d['touches'][0x1][_0x37f785(0xb64)]})));}function animateTrail(){const _0x3b5c66=_0x36ca11,_0x54cad0=Date[_0x3b5c66(0x51b)]();let _0x565f92=![];for(let _0x5baae2=strokes['length']-0x1;_0x5baae2>=0x0;_0x5baae2--){const _0x4a399e=strokes[_0x5baae2];if(_0x4a399e[_0x3b5c66(0x2ac)]===_0x3b5c66(0x4b5)&&_0x4a399e[_0x3b5c66(0x362)]){const _0x43989b=_0x54cad0-_0x4a399e[_0x3b5c66(0x362)];_0x43989b>=TRAIL_DURATION?strokes['splice'](_0x5baae2,0x1):(_0x4a399e[_0x3b5c66(0x276)]=0x1-_0x43989b/TRAIL_DURATION,_0x565f92=!![]);}}redrawScratchpad(),_0x565f92?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x88ab77){const _0x1e4b5c=_0x36ca11;if(!_0x88ab77||_0x88ab77['points'][_0x1e4b5c(0x9b1)]<0x1)return;scratchpadCtx[_0x1e4b5c(0x886)](),scratchpadCtx[_0x1e4b5c(0x43c)]=_0x1e4b5c(0x3e5),scratchpadCtx[_0x1e4b5c(0xaaf)]='round';if(_0x88ab77[_0x1e4b5c(0x2ac)]===_0x1e4b5c(0x4b5)){const _0x319a4b=_0x88ab77[_0x1e4b5c(0x9a8)]/scratchpadScale;scratchpadCtx[_0x1e4b5c(0x528)]=_0x88ab77[_0x1e4b5c(0x276)]??0x1,scratchpadCtx[_0x1e4b5c(0x406)]='rgba(239,\x2068,\x2068,\x200.9)',scratchpadCtx[_0x1e4b5c(0xda5)]=_0x319a4b*0x3,scratchpadCtx['strokeStyle']='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx['lineWidth']=_0x319a4b*2.5,scratchpadCtx['beginPath'](),scratchpadCtx[_0x1e4b5c(0xc7e)](_0x88ab77[_0x1e4b5c(0xc00)][0x0]['x'],_0x88ab77[_0x1e4b5c(0xc00)][0x0]['y']);for(let _0x3ac57e=0x1;_0x3ac57e<_0x88ab77['points'][_0x1e4b5c(0x9b1)]-0x1;_0x3ac57e++){const _0x223a94=getMidpoint(_0x88ab77[_0x1e4b5c(0xc00)][_0x3ac57e],_0x88ab77[_0x1e4b5c(0xc00)][_0x3ac57e+0x1]);scratchpadCtx[_0x1e4b5c(0xb8f)](_0x88ab77['points'][_0x3ac57e]['x'],_0x88ab77[_0x1e4b5c(0xc00)][_0x3ac57e]['y'],_0x223a94['x'],_0x223a94['y']);}scratchpadCtx[_0x1e4b5c(0x958)](),scratchpadCtx[_0x1e4b5c(0x406)]=_0x1e4b5c(0xd1b),scratchpadCtx['shadowBlur']=0x0,scratchpadCtx[_0x1e4b5c(0x844)]=_0x1e4b5c(0x74d),scratchpadCtx[_0x1e4b5c(0x8db)]=_0x319a4b,scratchpadCtx['stroke'](),scratchpadCtx[_0x1e4b5c(0xb25)]();}else{if(_0x88ab77[_0x1e4b5c(0x2ac)]===_0x1e4b5c(0x5ee)){scratchpadCtx[_0x1e4b5c(0x71b)]='multiply',scratchpadCtx[_0x1e4b5c(0x844)]=_0x88ab77[_0x1e4b5c(0x4b8)],scratchpadCtx['lineWidth']=_0x88ab77[_0x1e4b5c(0x9a8)],scratchpadCtx[_0x1e4b5c(0x596)](),scratchpadCtx[_0x1e4b5c(0xc7e)](_0x88ab77[_0x1e4b5c(0xc00)][0x0]['x'],_0x88ab77[_0x1e4b5c(0xc00)][0x0]['y']);for(let _0x4e9d0a=0x1;_0x4e9d0a<_0x88ab77[_0x1e4b5c(0xc00)][_0x1e4b5c(0x9b1)]-0x1;_0x4e9d0a++){const _0x13c695=getMidpoint(_0x88ab77[_0x1e4b5c(0xc00)][_0x4e9d0a],_0x88ab77[_0x1e4b5c(0xc00)][_0x4e9d0a+0x1]);scratchpadCtx[_0x1e4b5c(0xb8f)](_0x88ab77[_0x1e4b5c(0xc00)][_0x4e9d0a]['x'],_0x88ab77[_0x1e4b5c(0xc00)][_0x4e9d0a]['y'],_0x13c695['x'],_0x13c695['y']);}scratchpadCtx[_0x1e4b5c(0x958)](),scratchpadCtx['closePath']();}else{scratchpadCtx[_0x1e4b5c(0x71b)]=_0x88ab77['tool']==='eraser'?'destination-out':_0x1e4b5c(0x2d6),scratchpadCtx[_0x1e4b5c(0x844)]=_0x88ab77[_0x1e4b5c(0x4b8)],scratchpadCtx['lineWidth']=_0x88ab77[_0x1e4b5c(0x9a8)],scratchpadCtx[_0x1e4b5c(0x596)](),scratchpadCtx[_0x1e4b5c(0xc7e)](_0x88ab77['points'][0x0]['x'],_0x88ab77['points'][0x0]['y']);for(let _0x3abe71=0x1;_0x3abe71<_0x88ab77[_0x1e4b5c(0xc00)][_0x1e4b5c(0x9b1)]-0x1;_0x3abe71++){const _0x5b4b13=getMidpoint(_0x88ab77[_0x1e4b5c(0xc00)][_0x3abe71],_0x88ab77['points'][_0x3abe71+0x1]);scratchpadCtx[_0x1e4b5c(0xb8f)](_0x88ab77[_0x1e4b5c(0xc00)][_0x3abe71]['x'],_0x88ab77[_0x1e4b5c(0xc00)][_0x3abe71]['y'],_0x5b4b13['x'],_0x5b4b13['y']);}scratchpadCtx[_0x1e4b5c(0x958)](),scratchpadCtx[_0x1e4b5c(0xb25)]();}}scratchpadCtx['restore']();}function handlePointerMove(_0x32c2eb){const _0x122585=_0x36ca11;_0x32c2eb[_0x122585(0x4c8)]();const _0x55f2b6=scratchpadCtx[_0x122585(0xa9b)],_0x11567=_0x55f2b6['getBoundingClientRect']();if(_0x32c2eb[_0x122585(0x49a)]){if(_0x32c2eb[_0x122585(0x49a)][_0x122585(0x9b1)]===0x1&&isDrawingOnScratchpad){const _0x54ac70=getTransformedPoint(_0x32c2eb[_0x122585(0x49a)][0x0][_0x122585(0x2b7)]-_0x11567['left'],_0x32c2eb['touches'][0x0][_0x122585(0xb64)]-_0x11567[_0x122585(0x5fd)]);currentStroke['points'][_0x122585(0xc15)](_0x54ac70),redrawScratchpad();}else{if(_0x32c2eb[_0x122585(0x49a)]['length']===0x2&&isPanning){const _0x2dfa7a=getDistance({'x':_0x32c2eb['touches'][0x0]['clientX'],'y':_0x32c2eb[_0x122585(0x49a)][0x0][_0x122585(0xb64)]},{'x':_0x32c2eb[_0x122585(0x49a)][0x1][_0x122585(0x2b7)],'y':_0x32c2eb[_0x122585(0x49a)][0x1]['clientY']}),_0x254e9f=getMidpoint({'x':_0x32c2eb[_0x122585(0x49a)][0x0][_0x122585(0x2b7)],'y':_0x32c2eb['touches'][0x0][_0x122585(0xb64)]},{'x':_0x32c2eb[_0x122585(0x49a)][0x1][_0x122585(0x2b7)],'y':_0x32c2eb[_0x122585(0x49a)][0x1]['clientY']}),_0x173974=_0x2dfa7a/ initialPinchDistance,_0x59a456=Math['min'](Math[_0x122585(0x2ca)](scratchpadScale*_0x173974,MIN_SCALE),MAX_SCALE),_0xad6e4a=_0x254e9f['x']-panStart['x'],_0x5614d4=_0x254e9f['y']-panStart['y'];scratchpadOffset['x']=_0x254e9f['x']-(_0x254e9f['x']-scratchpadOffset['x'])*(_0x59a456/scratchpadScale),scratchpadOffset['y']=_0x254e9f['y']-(_0x254e9f['y']-scratchpadOffset['y'])*(_0x59a456/scratchpadScale),scratchpadOffset['x']+=_0xad6e4a,scratchpadOffset['y']+=_0x5614d4,scratchpadScale=_0x59a456,initialPinchDistance=_0x2dfa7a,panStart=_0x254e9f,redrawScratchpad();}}}else{if(isMousePanning){const _0xbbd39c=_0x32c2eb[_0x122585(0x2b7)]-panStart['x'],_0x38a38c=_0x32c2eb['clientY']-panStart['y'];scratchpadOffset['x']+=_0xbbd39c,scratchpadOffset['y']+=_0x38a38c,panStart={'x':_0x32c2eb[_0x122585(0x2b7)],'y':_0x32c2eb[_0x122585(0xb64)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x216599=getTransformedPoint(_0x32c2eb[_0x122585(0x2b7)]-_0x11567[_0x122585(0x23e)],_0x32c2eb[_0x122585(0xb64)]-_0x11567[_0x122585(0x5fd)]);currentStroke[_0x122585(0xc00)][_0x122585(0xc15)](_0x216599),redrawScratchpad();}}}}function handlePointerUp(_0x1e3f63){const _0x4908ef=_0x36ca11;_0x1e3f63[_0x4908ef(0x4c8)]();const _0x28f8c6=scratchpadCtx[_0x4908ef(0xa9b)];isMousePanning&&(isMousePanning=![],_0x28f8c6[_0x4908ef(0x2fc)][_0x4908ef(0x3dc)]=_0x4908ef(0xd17)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x4908ef(0xc00)][_0x4908ef(0x9b1)]>0x1&&(strokes[_0x4908ef(0xc15)](currentStroke),currentStroke[_0x4908ef(0x2ac)]===_0x4908ef(0x4b5)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x21ae8c=_0x4908ef,_0x441f63=strokes[_0x21ae8c(0x273)](_0x2fc3ae=>_0x2fc3ae[_0x21ae8c(0x2ac)]===_0x21ae8c(0x4b5)&&!_0x2fc3ae['fadeStartTime']);if(_0x441f63[_0x21ae8c(0x9b1)]>0x0){const _0x2e08c8=Date[_0x21ae8c(0x51b)]();_0x441f63[_0x21ae8c(0x532)](_0x1b05a9=>_0x1b05a9['fadeStartTime']=_0x2e08c8),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x1753eb){const _0xe75fd3=_0x36ca11;_0x1753eb[_0xe75fd3(0x4c8)]();const _0x167234=_0x1753eb[_0xe75fd3(0xc48)]*-0.005,_0x248d9b=Math[_0xe75fd3(0x1ee)](Math[_0xe75fd3(0x2ca)](scratchpadScale+_0x167234,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x1753eb[_0xe75fd3(0x2b7)]-(_0x1753eb[_0xe75fd3(0x2b7)]-scratchpadOffset['x'])*(_0x248d9b/scratchpadScale),scratchpadOffset['y']=_0x1753eb['clientY']-(_0x1753eb[_0xe75fd3(0xb64)]-scratchpadOffset['y'])*(_0x248d9b/scratchpadScale),scratchpadScale=_0x248d9b,redrawScratchpad();}function undo(){const _0x3eed58=_0x36ca11;strokes[_0x3eed58(0x9b1)]>0x0&&(redoStrokes['push'](strokes[_0x3eed58(0x9ff)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x2a7b9e=_0x36ca11;redoStrokes[_0x2a7b9e(0x9b1)]>0x0&&(strokes[_0x2a7b9e(0xc15)](redoStrokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x2b8a2f=_0x36ca11;document[_0x2b8a2f(0xde0)](_0x2b8a2f(0x78f))[_0x2b8a2f(0xc4f)]=strokes[_0x2b8a2f(0x9b1)]===0x0,document[_0x2b8a2f(0xde0)](_0x2b8a2f(0x618))['disabled']=redoStrokes[_0x2b8a2f(0x9b1)]===0x0;}function openScratchpad(_0x270f1a,_0x49c08b){const _0x243293=_0x36ca11,_0x3b33cd=document['getElementById'](_0x243293(0x43d)),_0x455ca9=document[_0x243293(0xde0)](_0x243293(0x7d1)),_0x30a509=document[_0x243293(0xde0)](_0x243293(0x5fc)),_0x57c419=document['getElementById'](_0x243293(0xa90));_0x455ca9[_0x243293(0x2bd)]=_0x270f1a[_0x243293(0x1f4)]||_0x270f1a[_0x243293(0xc60)],_0x30a509[_0x243293(0x2bd)]=_0x49c08b[_0x243293(0xcf7)]((_0x50d674,_0x2de1b7)=>'<div>'+String[_0x243293(0x604)](0x41+_0x2de1b7)+'.\x20'+_0x50d674+_0x243293(0xb49))[_0x243293(0xa81)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x3b33cd[_0x243293(0x7cb)][_0x243293(0x4cd)](_0x243293(0xaa0)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x243293(0x9f7)])MathJax['typesetPromise']([_0x455ca9,_0x30a509]);}function openBlueprintQuizSettings(){const _0x554b28=_0x36ca11,_0x2f6566=document[_0x554b28(0xde0)]('blueprint-settings-modal'),_0x2aa226=blueprintPageSettings||(currentProjectData?currentProjectData[_0x554b28(0x695)]:{})||{};document['getElementById']('bp-modal-quiz-type-select')[_0x554b28(0xd73)]=_0x2aa226['quizType']||document[_0x554b28(0xde0)](_0x554b28(0xafd))[_0x554b28(0xd73)],document[_0x554b28(0xde0)]('bp-modal-difficulty-level-select')[_0x554b28(0x2bd)]=document[_0x554b28(0xde0)](_0x554b28(0xab5))['innerHTML'],document[_0x554b28(0xde0)]('bp-modal-difficulty-level-select')[_0x554b28(0xd73)]=_0x2aa226[_0x554b28(0x6d9)]||document[_0x554b28(0xde0)](_0x554b28(0xab5))['value'],document['getElementById'](_0x554b28(0x76d))[_0x554b28(0x2bd)]=document[_0x554b28(0xde0)]('question-complexity-select')[_0x554b28(0x2bd)],document[_0x554b28(0xde0)]('bp-modal-question-complexity-select')['value']=_0x2aa226['complexityValue']||document[_0x554b28(0xde0)]('question-complexity-select')[_0x554b28(0xd73)],document[_0x554b28(0xde0)](_0x554b28(0x7ea))['value']=_0x2aa226[_0x554b28(0xccf)]||document['getElementById'](_0x554b28(0x2d7))[_0x554b28(0xd73)],document[_0x554b28(0xde0)](_0x554b28(0xb3b))[_0x554b28(0xd73)]=_0x2aa226['passingScore']||document[_0x554b28(0xde0)](_0x554b28(0x286))[_0x554b28(0xd73)],document['getElementById'](_0x554b28(0x413))[_0x554b28(0xd73)]=_0x2aa226['numChoices']||document[_0x554b28(0xde0)](_0x554b28(0xd4b))['value'],document['getElementById'](_0x554b28(0x574))[_0x554b28(0xd73)]=_0x2aa226[_0x554b28(0xca4)]||document[_0x554b28(0xde0)]('shuffle-setting-select')[_0x554b28(0xd73)],document[_0x554b28(0xde0)]('bp-modal-include-images-checkbox')[_0x554b28(0x39b)]=_0x2aa226[_0x554b28(0x4fa)]||document[_0x554b28(0xde0)](_0x554b28(0x3fc))[_0x554b28(0x39b)],_0x2f6566['classList'][_0x554b28(0x4cd)](_0x554b28(0xaa0));}function handleSaveBlueprintPageSettings(){const _0x794781=_0x36ca11;blueprintPageSettings={'quizType':document['getElementById'](_0x794781(0x72b))[_0x794781(0xd73)],'difficultyValue':document[_0x794781(0xde0)]('bp-modal-difficulty-level-select')[_0x794781(0xd73)],'complexityValue':document[_0x794781(0xde0)](_0x794781(0x76d))[_0x794781(0xd73)],'numQuestions':document[_0x794781(0xde0)](_0x794781(0x7ea))[_0x794781(0xd73)],'passingScore':document[_0x794781(0xde0)](_0x794781(0xb3b))['value'],'numChoices':document[_0x794781(0xde0)](_0x794781(0x413))[_0x794781(0xd73)],'shuffle':document[_0x794781(0xde0)](_0x794781(0x574))['value'],'includeImages':document['getElementById'](_0x794781(0xc3b))[_0x794781(0x39b)]},showMessage(_0x794781(0xa7d)),document['getElementById'](_0x794781(0x7a3))['classList'][_0x794781(0x23b)](_0x794781(0xaa0));}function listenForParallelTestShortcuts(){const _0x50d4e3=_0x36ca11,_0x3501f2=doc(db,_0x50d4e3(0xd5e),_0x50d4e3(0x429));onSnapshot(_0x3501f2,_0x26c546=>{const _0x113f65=_0x50d4e3;let _0x4cac49=[],_0x5a4b4c=[],_0x5269b0={};if(_0x26c546['exists']()){const _0x13c0d3=_0x26c546['data']();_0x4cac49=_0x13c0d3[_0x113f65(0x5b9)]||[],_0x5a4b4c=_0x13c0d3[_0x113f65(0xba2)]||[],_0x5269b0=_0x13c0d3[_0x113f65(0x7f4)]||{};}!_0x5a4b4c[_0x113f65(0x349)](_0x4fe396=>_0x4fe396['id']===_0x113f65(0x45e))&&_0x5a4b4c[_0x113f65(0x79f)]({'id':'all','name':_0x113f65(0x69e),'isDefault':!![]}),!_0x4cac49[_0x113f65(0x349)](_0x49babd=>_0x49babd['id']===_0x113f65(0x619))&&_0x4cac49[_0x113f65(0x79f)]({'id':_0x113f65(0x619),'name':_0x113f65(0x48c),'url':'','isDefault':!![]}),!_0x4cac49[_0x113f65(0x349)](_0x3d4acb=>_0x3d4acb['id']===_0x113f65(0xbc8))&&_0x4cac49[_0x113f65(0x79f)]({'id':_0x113f65(0xbc8),'name':_0x113f65(0xc40),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x4cac49,parallelShortcutTabs=_0x5a4b4c,parallelShortcutOrder=_0x5269b0,renderParallelTestShortcuts(),!document[_0x113f65(0xde0)](_0x113f65(0x923))[_0x113f65(0x7cb)]['contains'](_0x113f65(0xaa0))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x5bb444=_0x36ca11,_0x4ec913=doc(db,'globalSettings',_0x5bb444(0x429));try{await setDoc(_0x4ec913,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x440c1a){console[_0x5bb444(0x3c3)](_0x5bb444(0x70c),_0x440c1a);}}function renderAdditionalParallelShortcutsModal(){const _0x571568=_0x36ca11,_0x4d9c2a=document[_0x571568(0xde0)]('parallel-shortcut-tabs-nav'),_0x3b7911=document[_0x571568(0xde0)](_0x571568(0x60a));if(!_0x4d9c2a||!_0x3b7911)return;_0x4d9c2a[_0x571568(0x2bd)]=parallelShortcutTabs['map'](_0x2365b6=>{const _0xc5ce20=_0x571568,_0x4e72b2=_0x2365b6['id']===activeParallelShortcutTabId;return _0xc5ce20(0xdf8)+_0x2365b6['id']+'\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x4e72b2?'border-indigo-500\x20text-indigo-600':_0xc5ce20(0x5b5))+_0xc5ce20(0x452)+_0x2365b6[_0xc5ce20(0xa69)]+_0xc5ce20(0x317)+_0x2365b6['name']+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x2365b6[_0xc5ce20(0x33a)]?_0xc5ce20(0x590)+_0x2365b6['id']+_0xc5ce20(0xbb2):'')+_0xc5ce20(0x96c);})[_0x571568(0xa81)]('');const _0x58cbd4=parallelShortcutTabs[_0x571568(0x349)](_0x5861c6=>_0x5861c6['id']===activeParallelShortcutTabId);let _0xdd2925=_0x58cbd4?.[_0x571568(0x33a)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x571568(0x273)](_0x4f5a86=>(_0x58cbd4?.['shortcutIds']||[])['includes'](_0x4f5a86['id']));const _0x395a26=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0xdd2925['sort']((_0x4e92b2,_0x4b28ba)=>{const _0x34f51e=_0x571568,_0x28329b=_0x395a26[_0x34f51e(0xb0a)](_0x4e92b2['id']),_0x149c7b=_0x395a26['indexOf'](_0x4b28ba['id']);return(_0x28329b===-0x1?Infinity:_0x28329b)-(_0x149c7b===-0x1?Infinity:_0x149c7b);}),_0x3b7911[_0x571568(0x2bd)]=_0xdd2925[_0x571568(0xcf7)](_0x1ad289=>{const _0x46f39a=_0x571568,_0x368690=_0x1ad289[_0x46f39a(0xba7)]?'🔁':'🔗',_0x153492=parallelShortcutTabs[_0x46f39a(0x273)](_0x5bffff=>!_0x5bffff['isDefault']),_0x4c48e2=_0x58cbd4[_0x46f39a(0x33a)]&&_0x153492[_0x46f39a(0x9b1)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x153492[_0x46f39a(0xcf7)](_0x8518d3=>_0x46f39a(0x21b)+_0x1ad289['id']+_0x46f39a(0x470)+_0x8518d3['id']+'\x22>'+_0x8518d3['name']+_0x46f39a(0xd28))[_0x46f39a(0xa81)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return _0x46f39a(0x438)+_0x1ad289['id']+_0x46f39a(0x956)+_0x368690+'\x20'+_0x1ad289[_0x46f39a(0xa69)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1ad289['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1ad289['id']+'\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x1ad289[_0x46f39a(0x33a)]?'<button\x20data-id=\x22'+_0x1ad289['id']+_0x46f39a(0x33f):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x58cbd4[_0x46f39a(0x33a)]?_0x46f39a(0x3a4)+_0x1ad289['id']+'\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x46f39a(0xd09)+_0x4c48e2+_0x46f39a(0xcca);})['join']('')||_0x571568(0x420),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x16e957=_0x36ca11;document['querySelectorAll'](_0x16e957(0x377))[_0x16e957(0x532)](_0x9f9a60=>{const _0x374ffa=_0x16e957;_0x9f9a60[_0x374ffa(0xa67)]=_0x241960=>{const _0x3d1e46=_0x374ffa;activeParallelShortcutTabId=_0x241960[_0x3d1e46(0x9a9)]['dataset'][_0x3d1e46(0x9b3)],renderAdditionalParallelShortcutsModal();},_0x9f9a60['ondblclick']=_0x5ab653=>{const _0x281eb4=_0x374ffa,_0x1a5cd9=_0x5ab653[_0x281eb4(0x9a9)]['querySelector'](_0x281eb4(0x9c0));_0x5ab653[_0x281eb4(0x9a9)]['querySelector'](_0x281eb4(0x90d))[_0x281eb4(0x7cb)][_0x281eb4(0x23b)](_0x281eb4(0xaa0)),_0x1a5cd9['classList'][_0x281eb4(0x4cd)](_0x281eb4(0xaa0)),_0x1a5cd9[_0x281eb4(0x8b9)](),_0x1a5cd9['select']();};}),document[_0x16e957(0xbe7)](_0x16e957(0x707))[_0x16e957(0x532)](_0xb6f5a3=>{const _0x4f0f3d=_0x16e957,_0x4ff144=()=>{const _0x1ea39f=_0x4cf2,_0x393887=_0xb6f5a3[_0x1ea39f(0xd5a)]('.parallel-shortcut-tab-btn')[_0x1ea39f(0xdcf)]['tabId'],_0x3801c1=parallelShortcutTabs[_0x1ea39f(0x349)](_0x10017a=>_0x10017a['id']===_0x393887);_0x3801c1&&(_0x3801c1[_0x1ea39f(0xa69)]=_0xb6f5a3[_0x1ea39f(0xd73)][_0x1ea39f(0x3ac)]()||_0x3801c1[_0x1ea39f(0xa69)],saveParallelShortcutConfig());};_0xb6f5a3[_0x4f0f3d(0x801)]=_0x4ff144,_0xb6f5a3[_0x4f0f3d(0x699)]=_0x2aa1d1=>{const _0x27ce81=_0x4f0f3d;if(_0x2aa1d1['key']===_0x27ce81(0x35b))_0xb6f5a3['blur']();};}),document[_0x16e957(0xbe7)](_0x16e957(0xc0c))[_0x16e957(0x532)](_0x5c8aa=>_0x5c8aa[_0x16e957(0xa67)]=_0x1b0ba1=>{const _0x18c047=_0x16e957,_0x1f2a62=_0x1b0ba1[_0x18c047(0x9a9)][_0x18c047(0xdcf)][_0x18c047(0x9b3)];showConfirmation(_0x18c047(0x804),()=>{const _0xa27f3a=_0x18c047;parallelShortcutTabs=parallelShortcutTabs[_0xa27f3a(0x273)](_0x1a2537=>_0x1a2537['id']!==_0x1f2a62),delete parallelShortcutOrder[_0x1f2a62];if(activeParallelShortcutTabId===_0x1f2a62)activeParallelShortcutTabId='all';saveParallelShortcutConfig();});}),document[_0x16e957(0xbe7)]('.move-parallel-shortcut-item')[_0x16e957(0x532)](_0x1bdd19=>_0x1bdd19['onclick']=_0x2d45e5=>{const _0x26f832=_0x16e957;_0x2d45e5[_0x26f832(0x4c8)]();const {shortcutId:_0x51a122,targetTabId:_0x561b8d}=_0x2d45e5[_0x26f832(0x9a9)]['dataset'],_0x14cfef=parallelShortcutTabs[_0x26f832(0x349)](_0x184e7f=>_0x184e7f['id']===_0x561b8d);_0x14cfef&&!_0x14cfef[_0x26f832(0x54c)][_0x26f832(0xaf6)](_0x51a122)&&(_0x14cfef[_0x26f832(0x54c)][_0x26f832(0xc15)](_0x51a122),saveParallelShortcutConfig());}),document['querySelectorAll'](_0x16e957(0x25c))[_0x16e957(0x532)](_0x569e17=>_0x569e17[_0x16e957(0xa67)]=_0x1e49e2=>{const _0x163d68=_0x16e957,_0x3f4264=_0x1e49e2['currentTarget'][_0x163d68(0xdcf)][_0x163d68(0xb43)],_0x1517f1=parallelShortcutTabs[_0x163d68(0x349)](_0x218c21=>_0x218c21['id']===activeParallelShortcutTabId);_0x1517f1&&!_0x1517f1[_0x163d68(0x33a)]&&(_0x1517f1[_0x163d68(0x54c)]=_0x1517f1['shortcutIds'][_0x163d68(0x273)](_0x363485=>_0x363485!==_0x3f4264),saveParallelShortcutConfig());}),document[_0x16e957(0xbe7)](_0x16e957(0xc6f))[_0x16e957(0x532)](_0xf5ee28=>_0xf5ee28[_0x16e957(0xa67)]=_0x375b07=>{const _0x47d3b3=_0x16e957;_0x375b07[_0x47d3b3(0xd29)]();const _0x379eb1=_0x375b07[_0x47d3b3(0x9a9)][_0x47d3b3(0x2bb)];document['querySelectorAll'](_0x47d3b3(0x32e))[_0x47d3b3(0x532)](_0x28f8af=>_0x28f8af[_0x47d3b3(0x7cb)][_0x47d3b3(0x23b)](_0x47d3b3(0xaa0))),_0x379eb1[_0x47d3b3(0x7cb)][_0x47d3b3(0x4cd)](_0x47d3b3(0xaa0));});const _0x841b13=document[_0x16e957(0xde0)](_0x16e957(0x60a));let _0x2ff2fa=null;_0x841b13[_0x16e957(0x5d9)]=_0x978438=>{const _0x448873=_0x16e957;_0x2ff2fa=_0x978438[_0x448873(0x28a)][_0x448873(0xd5a)](_0x448873(0x87d));if(_0x2ff2fa)setTimeout(()=>_0x2ff2fa[_0x448873(0x7cb)][_0x448873(0x23b)](_0x448873(0xca3)),0x0);},_0x841b13[_0x16e957(0x443)]=()=>{const _0x247bcf=_0x16e957;_0x2ff2fa&&(_0x2ff2fa[_0x247bcf(0x7cb)][_0x247bcf(0x4cd)](_0x247bcf(0xca3)),_0x2ff2fa=null);},_0x841b13[_0x16e957(0x9dd)]=_0x978d35=>{const _0x4204bb=_0x16e957;_0x978d35[_0x4204bb(0x4c8)]();},_0x841b13[_0x16e957(0x398)]=_0x35efed=>{const _0x2e800a=_0x16e957;_0x35efed[_0x2e800a(0x4c8)]();if(_0x2ff2fa){const _0x52e659=[..._0x841b13[_0x2e800a(0xbe7)](_0x2e800a(0x457))]['reduce']((_0x21f0f1,_0x580307)=>{const _0x579da7=_0x2e800a,_0x44f6e1=_0x580307['getBoundingClientRect'](),_0x4d18f8=_0x35efed[_0x579da7(0xb64)]-_0x44f6e1['top']-_0x44f6e1['height']/0x2;return _0x4d18f8<0x0&&_0x4d18f8>_0x21f0f1[_0x579da7(0xc26)]?{'offset':_0x4d18f8,'element':_0x580307}:_0x21f0f1;},{'offset':Number[_0x2e800a(0xd74)]})[_0x2e800a(0xace)];_0x52e659==null?_0x841b13[_0x2e800a(0x9b9)](_0x2ff2fa):_0x841b13[_0x2e800a(0x5aa)](_0x2ff2fa,_0x52e659);const _0x19dc13=[..._0x841b13[_0x2e800a(0xbe7)]('.shortcut-list-item')]['map'](_0x1eecac=>_0x1eecac[_0x2e800a(0xdcf)]['shortcutId']);parallelShortcutOrder[activeParallelShortcutTabId]=_0x19dc13,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x5ba3a2=_0x36ca11,_0x3506f0=prompt(_0x5ba3a2(0x4e9),_0x5ba3a2(0x4bf));_0x3506f0&&_0x3506f0['trim']()&&(parallelShortcutTabs[_0x5ba3a2(0xc15)]({'id':_0x5ba3a2(0xb66)+Date[_0x5ba3a2(0x51b)](),'name':_0x3506f0['trim'](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function _0x4cf2(_0x285c0a,_0x44a9a0){const _0x5ebeae=_0x5ebe();return _0x4cf2=function(_0x4cf27f,_0x2f4e60){_0x4cf27f=_0x4cf27f-0x1da;let _0x476d68=_0x5ebeae[_0x4cf27f];return _0x476d68;},_0x4cf2(_0x285c0a,_0x44a9a0);}function renderParallelTestShortcuts(){const _0x3d3e45=_0x36ca11,_0x5ec42f=document[_0x3d3e45(0xde0)](_0x3d3e45(0x6ff)),_0x461bb9=document['getElementById']('additional-parallel-shortcuts-list'),_0x491581=document[_0x3d3e45(0xde0)](_0x3d3e45(0x65f));if(_0x491581)_0x491581[_0x3d3e45(0x7cb)][_0x3d3e45(0x23b)](_0x3d3e45(0xaa0));if(!_0x5ec42f||!_0x461bb9)return;const _0x4d3596=parallelTestShortcuts[_0x3d3e45(0x5dc)](0x0,0x4),_0x19ae18=parallelTestShortcuts[_0x3d3e45(0x5dc)](0x4);_0x5ec42f['innerHTML']=_0x4d3596[_0x3d3e45(0xcf7)](_0x52fa8d=>{const _0x41fbfe=_0x3d3e45,_0x17a289=_0x52fa8d['url']&&_0x52fa8d[_0x41fbfe(0xba7)][_0x41fbfe(0x3ac)]()!=='',_0x2241cb=_0x17a289?_0x41fbfe(0xd8a):'bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x48f229=_0x17a289?'🔁':'🔗',_0x2a7d0a=!_0x52fa8d[_0x41fbfe(0x33a)]?'<button\x20data-id=\x22'+_0x52fa8d['id']+'\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x41fbfe(0x545)+_0x52fa8d['id']+_0x41fbfe(0x8d4)+_0x2241cb+_0x41fbfe(0xc92)+_0x48f229+'\x20'+_0x52fa8d[_0x41fbfe(0xa69)]+_0x41fbfe(0x2f9)+_0x52fa8d['id']+_0x41fbfe(0xb85)+_0x2a7d0a+_0x41fbfe(0xa7c);})[_0x3d3e45(0xa81)](''),_0x19ae18[_0x3d3e45(0x9b1)]>0x0&&(_0x5ec42f['innerHTML']+=_0x3d3e45(0x985)),_0x19ae18[_0x3d3e45(0x9b1)]>0x0?_0x461bb9[_0x3d3e45(0x2bd)]=_0x19ae18[_0x3d3e45(0xcf7)](_0x38ddda=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>'+(_0x38ddda[_0x3d3e45(0xba7)]?'🔁':'🔗')+'\x20'+_0x38ddda[_0x3d3e45(0xa69)]+_0x3d3e45(0x47a)+_0x38ddda['id']+_0x3d3e45(0x51c)+_0x38ddda['id']+_0x3d3e45(0x4c5)+(!_0x38ddda[_0x3d3e45(0x33a)]?_0x3d3e45(0xc56)+_0x38ddda['id']+_0x3d3e45(0x33f):'')+_0x3d3e45(0x568))['join'](''):_0x461bb9[_0x3d3e45(0x2bd)]=_0x3d3e45(0x843);}function openParallelTestShortcutEditor(_0x3be90d=null){const _0x1a9a0c=_0x36ca11,_0x5f23e8=document['getElementById'](_0x1a9a0c(0x75f)),_0xc333e=document[_0x1a9a0c(0xde0)](_0x1a9a0c(0x530)),_0x12f734=document['getElementById'](_0x1a9a0c(0xc2f)),_0x4eb70b=document[_0x1a9a0c(0xde0)]('parallel-shortcut-name-input'),_0x280385=document['getElementById']('parallel-shortcut-url-input');if(_0x3be90d){const _0x1abd34=parallelTestShortcuts[_0x1a9a0c(0x349)](_0xc5d0e1=>_0xc5d0e1['id']===_0x3be90d);if(!_0x1abd34)return;_0xc333e[_0x1a9a0c(0xb0c)]=_0x1a9a0c(0x696),_0x12f734[_0x1a9a0c(0xd73)]=_0x1abd34['id'],_0x4eb70b['value']=_0x1abd34[_0x1a9a0c(0xa69)],_0x280385[_0x1a9a0c(0xd73)]=_0x1abd34[_0x1a9a0c(0xba7)]||'';}else _0xc333e[_0x1a9a0c(0xb0c)]=_0x1a9a0c(0x37e),_0x12f734[_0x1a9a0c(0xd73)]='',_0x4eb70b['value']='',_0x280385['value']='';_0x5f23e8[_0x1a9a0c(0x7cb)][_0x1a9a0c(0x4cd)](_0x1a9a0c(0xaa0));}async function saveParallelTestShortcutChanges(){const _0x5e3fe2=_0x36ca11,_0x3fca93=document[_0x5e3fe2(0xde0)](_0x5e3fe2(0xc2f))['value'],_0x5a80a7=document[_0x5e3fe2(0xde0)]('parallel-shortcut-name-input')[_0x5e3fe2(0xd73)][_0x5e3fe2(0x3ac)](),_0x2140c4=document[_0x5e3fe2(0xde0)](_0x5e3fe2(0xa42))[_0x5e3fe2(0xd73)][_0x5e3fe2(0x3ac)]();if(!_0x5a80a7){showMessage(_0x5e3fe2(0x2b0));return;}const _0x523e84={'id':_0x3fca93||_0x5e3fe2(0x729)+Date[_0x5e3fe2(0x51b)](),'name':_0x5a80a7,'url':_0x2140c4,'isDefault':_0x3fca93[_0x5e3fe2(0x277)](_0x5e3fe2(0x632))};let _0x5021cd;_0x3fca93?_0x5021cd=parallelTestShortcuts['map'](_0x1d33df=>_0x1d33df['id']===_0x3fca93?_0x523e84:_0x1d33df):_0x5021cd=[...parallelTestShortcuts,_0x523e84];try{const _0x427a40=doc(db,'globalSettings',_0x5e3fe2(0x429));await setDoc(_0x427a40,{'shortcuts':_0x5021cd},{'merge':!![]}),document[_0x5e3fe2(0xde0)](_0x5e3fe2(0x75f))[_0x5e3fe2(0x7cb)][_0x5e3fe2(0x23b)](_0x5e3fe2(0xaa0));}catch(_0x111040){console[_0x5e3fe2(0x3c3)]('Error\x20saving\x20parallel\x20shortcut:',_0x111040),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleParallelTestShortcutClick(_0x345db1){const _0x1925b8=_0x36ca11,_0x59de80=parallelTestShortcuts[_0x1925b8(0x349)](_0x32f540=>_0x32f540['id']===_0x345db1);if(!_0x59de80)return;if(!_0x59de80['url']||_0x59de80[_0x1925b8(0xba7)][_0x1925b8(0x3ac)]()===''){openParallelTestShortcutEditor(_0x345db1);return;}const _0x4093c5=document['getElementById']('loader'),_0x24fc4e=document[_0x1925b8(0xde0)](_0x1925b8(0x36c));document[_0x1925b8(0xde0)](_0x1925b8(0xcda))[_0x1925b8(0x7cb)]['remove']('hidden'),document[_0x1925b8(0xde0)]('generated-quiz-container')[_0x1925b8(0x2bd)]='',_0x4093c5['classList'][_0x1925b8(0x4cd)](_0x1925b8(0xaa0)),_0x24fc4e[_0x1925b8(0xb0c)]=_0x1925b8(0x22e);try{let _0x4e73f1;_0x59de80[_0x1925b8(0xba7)][_0x1925b8(0x442)]()[_0x1925b8(0xaf6)](_0x1925b8(0x73e))?_0x4e73f1=_0x1925b8(0x92b):_0x4e73f1=_0x1925b8(0x8d0);const _0x533692=await fetchFileFromUrl(_0x59de80[_0x1925b8(0xba7)],_0x4e73f1);await handleGenerateParallelTest(_0x533692);}catch(_0x27ab7f){console['error']('Error\x20processing\x20parallel\x20shortcut\x20click:',_0x27ab7f),showMessage(_0x1925b8(0x37d)+_0x27ab7f[_0x1925b8(0x805)]),_0x4093c5[_0x1925b8(0x7cb)][_0x1925b8(0x23b)](_0x1925b8(0xaa0));}}function initializeScratchpadCanvas(){const _0x7479a3=_0x36ca11,_0x4e4bce=document['getElementById'](_0x7479a3(0x9c4)),_0x169382=document[_0x7479a3(0xce2)](_0x7479a3(0x2b3));if(!_0x4e4bce||!_0x169382)return;scratchpadCtx=_0x4e4bce[_0x7479a3(0xa6d)]('2d',{'willReadFrequently':!![]});const _0x4b5ed4=window['devicePixelRatio']||0x1,_0x2d0838=_0x169382['getBoundingClientRect']();_0x4e4bce[_0x7479a3(0x875)]=_0x2d0838[_0x7479a3(0x875)]*_0x4b5ed4,_0x4e4bce[_0x7479a3(0x5cf)]=_0x2d0838[_0x7479a3(0x5cf)]*_0x4b5ed4,_0x4e4bce[_0x7479a3(0x2fc)][_0x7479a3(0x875)]=_0x2d0838[_0x7479a3(0x875)]+'px',_0x4e4bce[_0x7479a3(0x2fc)][_0x7479a3(0x5cf)]=_0x2d0838[_0x7479a3(0x5cf)]+'px',scratchpadCtx[_0x7479a3(0xa9d)](_0x4b5ed4,_0x4b5ed4),scratchpadCtx[_0x7479a3(0x43c)]=_0x7479a3(0x3e5),scratchpadCtx[_0x7479a3(0xaaf)]=_0x7479a3(0x3e5),_0x4e4bce['removeEventListener'](_0x7479a3(0x336),handlePointerDown),_0x4e4bce[_0x7479a3(0xb40)](_0x7479a3(0xd83),handlePointerMove),_0x4e4bce[_0x7479a3(0xb40)](_0x7479a3(0x9ac),handlePointerUp),_0x4e4bce[_0x7479a3(0xb40)](_0x7479a3(0x7ce),handlePointerUp),_0x4e4bce['removeEventListener']('wheel',handleWheel),_0x4e4bce[_0x7479a3(0xb40)](_0x7479a3(0x600),handlePointerDown),_0x4e4bce[_0x7479a3(0xb40)](_0x7479a3(0x62f),handlePointerMove),_0x4e4bce[_0x7479a3(0xb40)]('touchend',handlePointerUp),_0x4e4bce[_0x7479a3(0x999)]('pointerdown',handlePointerDown),_0x4e4bce['addEventListener'](_0x7479a3(0xd83),handlePointerMove),_0x4e4bce[_0x7479a3(0x999)](_0x7479a3(0x9ac),handlePointerUp),_0x4e4bce['addEventListener'](_0x7479a3(0x7ce),handlePointerUp),_0x4e4bce[_0x7479a3(0x999)](_0x7479a3(0x649),handleWheel,{'passive':![]}),_0x4e4bce[_0x7479a3(0x999)](_0x7479a3(0x600),handlePointerDown,{'passive':![]}),_0x4e4bce[_0x7479a3(0x999)]('touchmove',handlePointerMove,{'passive':![]}),_0x4e4bce['addEventListener']('touchend',handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x470f1c=_0x36ca11,_0x40e8d6=document['getElementById'](_0x470f1c(0x43d)),_0x2a2557=document['getElementById'](_0x470f1c(0xa90));_0x2a2557['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>'+scratchpadHighlighterSize+_0x470f1c(0x888);const _0x3d4ea8=document['getElementById'](_0x470f1c(0x94f)),_0x3f824f=document[_0x470f1c(0xde0)](_0x470f1c(0x47d)),_0x57868b=document['getElementById'](_0x470f1c(0xa50)),_0x2152ba=document[_0x470f1c(0xde0)](_0x470f1c(0x3fd)),_0x2652dd=document[_0x470f1c(0xde0)]('pen-tools-group'),_0x4a3ed2=document[_0x470f1c(0xde0)](_0x470f1c(0x4db)),_0x101e2f=document[_0x470f1c(0xde0)](_0x470f1c(0x58a)),_0x232e13=[_0x3d4ea8,_0x3f824f,_0x57868b,_0x2152ba];document[_0x470f1c(0xde0)](_0x470f1c(0xdb5))[_0x470f1c(0x999)]('click',()=>_0x40e8d6[_0x470f1c(0x7cb)]['add']('hidden')),document[_0x470f1c(0xde0)](_0x470f1c(0x3a8))[_0x470f1c(0x999)](_0x470f1c(0x4fc),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x470f1c(0xde0)](_0x470f1c(0xd41))[_0x470f1c(0x999)](_0x470f1c(0x4fc),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById'](_0x470f1c(0x78f))[_0x470f1c(0x999)](_0x470f1c(0x4fc),undo),document['getElementById'](_0x470f1c(0x618))['addEventListener'](_0x470f1c(0x4fc),redo);const _0x165775=_0x511b2e=>{const _0x449d8f=_0x470f1c;_0x232e13[_0x449d8f(0x532)](_0x36c3ed=>_0x36c3ed[_0x449d8f(0x7cb)]['remove'](_0x449d8f(0x742))),_0x511b2e['classList'][_0x449d8f(0x23b)](_0x449d8f(0x742)),_0x2652dd['classList'][_0x449d8f(0x23b)]('hidden'),_0x4a3ed2[_0x449d8f(0x7cb)]['add'](_0x449d8f(0xaa0)),_0x101e2f[_0x449d8f(0x7cb)]['add']('hidden');if(activeTool==='pen'||activeTool==='trail')_0x2652dd['classList']['remove']('hidden');else{if(activeTool===_0x449d8f(0x5ee))_0x4a3ed2[_0x449d8f(0x7cb)]['remove']('hidden');else activeTool===_0x449d8f(0x42b)&&_0x101e2f['classList'][_0x449d8f(0x4cd)](_0x449d8f(0xaa0));}};_0x3d4ea8['addEventListener'](_0x470f1c(0x4fc),()=>{const _0x38de71=_0x470f1c;activeTool=_0x38de71(0x853),_0x165775(_0x3d4ea8);}),_0x3f824f[_0x470f1c(0x999)]('click',()=>{const _0x2cca41=_0x470f1c;activeTool=_0x2cca41(0x42b),_0x165775(_0x3f824f);}),_0x57868b[_0x470f1c(0x999)](_0x470f1c(0x4fc),()=>{const _0x4ec11d=_0x470f1c;activeTool=_0x4ec11d(0x4b5),_0x165775(_0x57868b);}),_0x2152ba['addEventListener'](_0x470f1c(0x4fc),()=>{const _0x450354=_0x470f1c;activeTool=_0x450354(0x5ee),_0x165775(_0x2152ba);}),_0x2652dd[_0x470f1c(0xbe7)]('.pen-size-btn')[_0x470f1c(0x532)](_0x27738e=>{const _0x50b12b=_0x470f1c;_0x27738e[_0x50b12b(0x999)](_0x50b12b(0x4fc),_0x4aa0f0=>{const _0x164f9e=_0x50b12b;scratchpadPenSize=parseInt(_0x4aa0f0[_0x164f9e(0x28a)][_0x164f9e(0xdcf)][_0x164f9e(0x9a8)],0xa),_0x2652dd[_0x164f9e(0xbe7)](_0x164f9e(0xce4))[_0x164f9e(0x532)](_0x45e610=>_0x45e610[_0x164f9e(0x7cb)][_0x164f9e(0x4cd)](_0x164f9e(0x742))),_0x4aa0f0['target'][_0x164f9e(0x7cb)][_0x164f9e(0x23b)](_0x164f9e(0x742));});}),_0x101e2f[_0x470f1c(0xbe7)](_0x470f1c(0xd88))[_0x470f1c(0x532)](_0x138f18=>{const _0x58203e=_0x470f1c;_0x138f18['addEventListener'](_0x58203e(0x4fc),_0x981745=>{const _0x5dcc7f=_0x58203e,_0x444767=_0x981745[_0x5dcc7f(0x9a9)];scratchpadEraserSize=parseInt(_0x444767['dataset'][_0x5dcc7f(0x9a8)],0xa),_0x101e2f['querySelectorAll'](_0x5dcc7f(0xd88))[_0x5dcc7f(0x532)](_0x2e7966=>_0x2e7966[_0x5dcc7f(0x7cb)][_0x5dcc7f(0x4cd)](_0x5dcc7f(0x742))),_0x444767[_0x5dcc7f(0x7cb)]['add'](_0x5dcc7f(0x742));});}),_0x2652dd[_0x470f1c(0xbe7)](_0x470f1c(0xa5e))[_0x470f1c(0x532)](_0xd52b92=>{const _0xc13f58=_0x470f1c;_0xd52b92['addEventListener'](_0xc13f58(0x4fc),_0xd1657e=>{const _0x46bd70=_0xc13f58;scratchpadPenColor=_0xd1657e[_0x46bd70(0x28a)][_0x46bd70(0xdcf)][_0x46bd70(0x4b8)],_0x2652dd['querySelectorAll']('.pen-color-btn')[_0x46bd70(0x532)](_0x39a0c3=>_0x39a0c3[_0x46bd70(0x7cb)][_0x46bd70(0x4cd)]('active')),_0xd1657e['target']['classList']['add'](_0x46bd70(0x742));});}),_0x4a3ed2[_0x470f1c(0xbe7)]('.highlighter-color-btn')[_0x470f1c(0x532)](_0x3474a5=>{const _0x4aaa03=_0x470f1c;_0x3474a5[_0x4aaa03(0x999)](_0x4aaa03(0x4fc),_0xca2570=>{const _0x578c76=_0x4aaa03;scratchpadHighlighterColor=_0xca2570[_0x578c76(0x28a)]['dataset'][_0x578c76(0x4b8)],_0x4a3ed2[_0x578c76(0xbe7)](_0x578c76(0x6db))['forEach'](_0x2fa358=>_0x2fa358['classList'][_0x578c76(0x4cd)](_0x578c76(0x742))),_0xca2570[_0x578c76(0x28a)][_0x578c76(0x7cb)]['add'](_0x578c76(0x742));});});const _0x10926f=document[_0x470f1c(0xde0)](_0x470f1c(0x816)),_0x28aa10=document['getElementById'](_0x470f1c(0xae4));_0x10926f[_0x470f1c(0x999)](_0x470f1c(0xc5b),_0x2e5657=>{const _0xc41298=_0x470f1c,_0x16eab0=parseInt(_0x2e5657[_0xc41298(0x28a)][_0xc41298(0xd73)],0xa);scratchpadHighlighterSize=_0x16eab0,_0x28aa10[_0xc41298(0xb0c)]=_0x16eab0;}),window[_0x470f1c(0x999)](_0x470f1c(0x5d8),()=>{const _0x3de26f=_0x470f1c;!_0x40e8d6[_0x3de26f(0x7cb)][_0x3de26f(0xa47)](_0x3de26f(0xaa0))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x36ca11(0x3b5),'name':_0x36ca11(0x328),'description':_0x36ca11(0xdcb),'icon':_0x36ca11(0x208)},'QUICK_THINKER':{'id':'quick_thinker','name':_0x36ca11(0x4ee),'description':'ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','icon':_0x36ca11(0x51d)},'ON_FIRE':{'id':_0x36ca11(0xb39),'name':_0x36ca11(0xd40),'description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0x36ca11(0xb4b)},'FIRST_TRY_ACE':{'id':_0x36ca11(0x906),'name':_0x36ca11(0x81e),'description':_0x36ca11(0x304),'icon':_0x36ca11(0x693)},'COMEBACK_KING':{'id':_0x36ca11(0xa54),'name':_0x36ca11(0x8e4),'description':_0x36ca11(0xda8),'icon':_0x36ca11(0xa7b)},'SPECIALIST':{'id':'specialist','name':_0x36ca11(0x7dc),'description':_0x36ca11(0xc16),'icon':_0x36ca11(0x5ba)},'PERSEVERANCE':{'id':'perseverance','name':_0x36ca11(0x566),'description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0x36ca11(0x8b6)}},firebaseConfig={'apiKey':_0x36ca11(0xb6f),'authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':_0x36ca11(0x3db),'storageBucket':'ai-quiz-app-aefee.firebasestorage.app','messagingSenderId':_0x36ca11(0x6c1),'appId':_0x36ca11(0x9b5),'measurementId':_0x36ca11(0xd52)},appId=typeof __app_id!==_0x36ca11(0xbe8)?__app_id:'ai-quiz-generator-v3',adminView=document[_0x36ca11(0xde0)]('admin-view'),studentView=document['getElementById']('student-view'),projectDashboardView=document[_0x36ca11(0xde0)](_0x36ca11(0xb75)),projectDetailView=document[_0x36ca11(0xde0)](_0x36ca11(0x41d)),quizResultsView=document[_0x36ca11(0xde0)](_0x36ca11(0x6fb)),projectList=document[_0x36ca11(0xde0)]('project-list'),noProjectsMsg=document[_0x36ca11(0xde0)](_0x36ca11(0x315)),projectTitle=document['getElementById'](_0x36ca11(0xc58)),projectIdDisplay=document[_0x36ca11(0xde0)]('project-id-display'),studentList=document[_0x36ca11(0xde0)]('student-list'),messageModal=document[_0x36ca11(0xde0)](_0x36ca11(0x6f4)),modalMessage=document[_0x36ca11(0xde0)](_0x36ca11(0x3c7)),createProjectModal=document[_0x36ca11(0xde0)](_0x36ca11(0xbce)),adminPasswordModal=document['getElementById'](_0x36ca11(0xc74)),confirmationModal=document[_0x36ca11(0xde0)](_0x36ca11(0xcf9)),userIdDisplay=document['getElementById'](_0x36ca11(0xc07)),topicTab=document['getElementById']('topic-tab'),textTab=document[_0x36ca11(0xde0)](_0x36ca11(0xbae)),topicInputArea=document[_0x36ca11(0xde0)]('topic-input-area'),textInputArea=document['getElementById'](_0x36ca11(0xd63)),manageTab=document[_0x36ca11(0xde0)](_0x36ca11(0xa53)),resultsTab=document[_0x36ca11(0xde0)](_0x36ca11(0x2f0)),leaderboardTab=document[_0x36ca11(0xde0)](_0x36ca11(0x5e9)),manageTabContent=document[_0x36ca11(0xde0)](_0x36ca11(0xc23)),resultsTabContent=document[_0x36ca11(0xde0)](_0x36ca11(0x8cd)),leaderboardTabContent=document[_0x36ca11(0xde0)]('leaderboard-tab-content'),projectQuizzesList=document[_0x36ca11(0xde0)]('project-quizzes-list'),fileTab=document['getElementById'](_0x36ca11(0x6a4)),fileInputArea=document[_0x36ca11(0xde0)](_0x36ca11(0x6e5)),fileUploadInput=document[_0x36ca11(0xde0)](_0x36ca11(0xae8)),worksheetTab=document['getElementById']('worksheet-tab'),worksheetInputArea=document[_0x36ca11(0xde0)](_0x36ca11(0xb32)),generateWorksheetBtn=document['getElementById'](_0x36ca11(0x6ee)),studentInitialView=document[_0x36ca11(0xde0)](_0x36ca11(0x8d1)),studentNameSelectionView=document[_0x36ca11(0xde0)]('student-name-selection-view'),studentQuizArea=document['getElementById'](_0x36ca11(0xd32)),studentResultArea=document[_0x36ca11(0xde0)](_0x36ca11(0x681)),studentReadingArea=document[_0x36ca11(0xde0)](_0x36ca11(0xb26)),loadQuizBtn=document[_0x36ca11(0xde0)]('load-quiz-btn'),startQuizBtn=document[_0x36ca11(0xde0)](_0x36ca11(0x569)),studentJoinGameView=document['getElementById']('student-join-game-view'),presentationModal=document[_0x36ca11(0xde0)](_0x36ca11(0xa3b)),renameQuizModal=document['getElementById'](_0x36ca11(0x263)),moveQuizModal=document['getElementById'](_0x36ca11(0xae7)),quizSettingsModal=document[_0x36ca11(0xde0)](_0x36ca11(0x2a7)),quizStatusModal=document[_0x36ca11(0xde0)](_0x36ca11(0xddf)),liveGameView=document[_0x36ca11(0xde0)](_0x36ca11(0x679));function handleFixLessonLatex(){const _0x3974fd=_0x36ca11,_0x23a3d8=document[_0x3974fd(0xde0)](_0x3974fd(0x671));if(!_0x23a3d8){showMessage('ไม่พบเนื้อหาบทเรียนที่จะแก้ไข');return;}const _0x1c3239=_0x23a3d8['querySelectorAll']([_0x3974fd(0x60c),'.ai-content\x20li',_0x3974fd(0x85d),'.ai-content\x20td',_0x3974fd(0xb79)][_0x3974fd(0xa81)](','));let _0xaa2dbf=0x0;const _0x515dd7=_0x3bf5f2=>_0x3bf5f2[_0x3974fd(0xb0c)]||'',_0x4f7a72=(_0x26c6b9,_0x2480dc)=>{const _0x2a17be=_0x3974fd;if(_0x26c6b9[_0x2a17be(0xce2)]&&_0x26c6b9[_0x2a17be(0xce2)]('mjx-container'))return;_0x26c6b9[_0x2a17be(0xb0c)]=_0x2480dc;},_0x2451a4=_0x353ba0=>_0x353ba0[_0x3974fd(0x918)](/\u00A0/g,'\x20')[_0x3974fd(0x918)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x426f66=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x1493a8=_0x363adc=>{const _0x857df1=_0x3974fd;let _0x5ec796=_0x363adc[_0x857df1(0x3ac)]();const _0x37d1b8=[_0x857df1(0x361),_0x857df1(0x5e6),_0x857df1(0x314),_0x857df1(0x8a3),'text',_0x857df1(0x67e),_0x857df1(0x7f7),'div',_0x857df1(0x57d),_0x857df1(0xc68),'le','ge','neq','pm',_0x857df1(0x38f),_0x857df1(0x8c3),_0x857df1(0xc31),_0x857df1(0x94a),_0x857df1(0x966),'ln',_0x857df1(0x72a),_0x857df1(0xa2f),_0x857df1(0x374),_0x857df1(0x23e),_0x857df1(0x6df),_0x857df1(0x279),'underline',_0x857df1(0x57e),_0x857df1(0xc29)];_0x37d1b8['forEach'](_0x520ae4=>{const _0xba999b=_0x857df1;_0x5ec796=_0x5ec796[_0xba999b(0x918)](new RegExp(_0xba999b(0x66e)+_0x520ae4+'\x5cb','g'),(_0x4b406c,_0x482132)=>_0x482132+'\x5c'+_0x520ae4);});const _0x5a726f=[[/×/g,'\x5ctimes'],[/·/g,_0x857df1(0xb6e)],[/÷/g,_0x857df1(0xdd5)],[/≤/g,_0x857df1(0x350)],[/≥/g,'\x5cge'],[/≠/g,_0x857df1(0x8f6)],[/±/g,_0x857df1(0xb19)],[/∑/g,_0x857df1(0x7ee)],[/−/g,'-']];return _0x5a726f[_0x857df1(0x532)](([_0x27840c,_0x4f2344])=>{_0x5ec796=_0x5ec796['replace'](_0x27840c,_0x4f2344);}),_0x5ec796=_0x5ec796[_0x857df1(0x918)](/√\s*([A-Za-z0-9]+)/g,_0x857df1(0x818)),_0x5ec796=_0x5ec796['replace'](/(\d+)\s*%/g,_0x857df1(0xbc2)),_0x5ec796;},_0xf1f9b2=_0x306269=>{const _0x116f4d=_0x3974fd;if(/\$|\\\(|\\\[/[_0x116f4d(0x28b)](_0x306269))return _0x306269;if(!_0x426f66[_0x116f4d(0x28b)](_0x306269))return _0x306269;const _0x4cf230=_0x306269[_0x116f4d(0xd1d)](/^\s*/)[0x0],_0x25e154=_0x306269['match'](/\s*$/)[0x0],_0x2a44b5=_0x306269['trim']();return _0x4cf230+'$'+_0x1493a8(_0x2a44b5)+'$'+_0x25e154;};_0x1c3239[_0x3974fd(0x532)](_0x11cfaa=>{const _0xea109b=_0x3974fd,_0x5d179a=_0x515dd7(_0x11cfaa);let _0x229a16=_0x2451a4(_0x5d179a);_0x229a16=_0x229a16[_0xea109b(0x918)](/\$([^$]*?)\$/g,(_0x3b5547,_0x5b0ca5)=>'$'+_0x1493a8(_0x5b0ca5)+'$');const _0x24b552=_0x229a16[_0xea109b(0x26b)](/(\s+)/),_0x5e9868=_0x24b552['map'](_0x519615=>{const _0xa4d1ba=_0xea109b;if(/\s+/[_0xa4d1ba(0x28b)](_0x519615))return _0x519615;return _0xf1f9b2(_0x519615);});_0x229a16=_0x5e9868[_0xea109b(0xa81)](''),_0x229a16!==_0x5d179a&&(_0x4f7a72(_0x11cfaa,_0x229a16),_0xaa2dbf++);});if(_0xaa2dbf>0x0){showMessage('แก้ไขสูตรคณิตศาสตร์\x20'+_0xaa2dbf+'\x20จุดเรียบร้อยแล้ว');try{window[_0x3974fd(0x9f7)]&&MathJax[_0x3974fd(0x8aa)]&&MathJax[_0x3974fd(0x8aa)]([_0x23a3d8]);}catch(_0x489cec){console[_0x3974fd(0x3c3)](_0x3974fd(0x7c2),_0x489cec);}}else showMessage('ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม');}function handleAutoFixLatex(){const _0x2a0823=_0x36ca11,_0x414bd8=document[_0x2a0823(0xde0)]('quiz-editor-questions-container')||document,_0x4eeee1=_0x414bd8[_0x2a0823(0xbe7)]('textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li');let _0x1f98d4=0x0;const _0x401524=_0x3b124c=>_0x2a0823(0xd73)in _0x3b124c?String(_0x3b124c['value']):_0x3b124c['innerText']!==undefined?_0x3b124c[_0x2a0823(0x639)]:_0x3b124c['textContent']||'',_0x284726=(_0x3f1589,_0x3e98be)=>{const _0xfb6fec=_0x2a0823;if('value'in _0x3f1589){_0x3f1589[_0xfb6fec(0xd73)]=_0x3e98be;return;}if(_0x3f1589[_0xfb6fec(0xce2)]&&_0x3f1589[_0xfb6fec(0xce2)](_0xfb6fec(0x907)))return;if(_0x3f1589[_0xfb6fec(0x639)]!==undefined)_0x3f1589[_0xfb6fec(0x639)]=_0x3e98be;else _0x3f1589[_0xfb6fec(0xb0c)]=_0x3e98be;},_0x2065b2=_0x360e10=>_0x360e10[_0x2a0823(0x918)](/\u00A0/g,'\x20')[_0x2a0823(0x918)](/\u200B/g,'')[_0x2a0823(0x918)](/\r\n?/g,'\x0a'),_0xed8c2a=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x279cc3=_0x3753a4=>{const _0x417a06=_0x2a0823;let _0x65fab1=_0x3753a4['trim']();_0x65fab1=_0x65fab1[_0x417a06(0x918)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,'\x5cfrac{$1}{$2}'),_0x65fab1=_0x65fab1[_0x417a06(0x918)](/\bfrac(\d)(\d)/g,_0x417a06(0xbde));const _0x994d19=['frac',_0x417a06(0x8a3),_0x417a06(0x67e),_0x417a06(0x7f7),'div',_0x417a06(0x57d),'geq','neq','pm',_0x417a06(0x8c3),'cos',_0x417a06(0x94a),'log','ln'];_0x994d19[_0x417a06(0x532)](_0x51b069=>{const _0x632a4e=_0x417a06;_0x65fab1=_0x65fab1[_0x632a4e(0x918)](new RegExp(_0x632a4e(0x66e)+_0x51b069+'\x5cb','g'),(_0x3ec401,_0x24e359)=>_0x24e359+'\x5c'+_0x51b069);});const _0x4f26ee=[[/×/g,_0x417a06(0x33e)],[/·/g,_0x417a06(0xb6e)],[/÷/g,'\x5cdiv'],[/≤/g,_0x417a06(0x350)],[/≥/g,_0x417a06(0xc25)],[/≠/g,_0x417a06(0x8f6)],[/±/g,_0x417a06(0xb19)]];return _0x4f26ee['forEach'](([_0x552605,_0x1574c2])=>{const _0x58224c=_0x417a06;_0x65fab1=_0x65fab1[_0x58224c(0x918)](_0x552605,_0x1574c2);}),_0x65fab1;},_0x564d16=_0x51a9e7=>{const _0x69cc65=_0x2a0823;if(/\$|\\\(|\\\[/[_0x69cc65(0x28b)](_0x51a9e7))return _0x51a9e7;if(!_0xed8c2a[_0x69cc65(0x28b)](_0x51a9e7))return _0x51a9e7;const _0x2002be=_0x51a9e7[_0x69cc65(0xd1d)](/^\s*/)[0x0],_0x5b4f20=_0x51a9e7[_0x69cc65(0xd1d)](/\s*$/)[0x0],_0x41c298=_0x51a9e7[_0x69cc65(0x3ac)]();return _0x2002be+'$'+_0x279cc3(_0x41c298)+'$'+_0x5b4f20;};_0x4eeee1[_0x2a0823(0x532)](_0x4890bd=>{const _0x484f19=_0x2a0823,_0x2706a9=_0x401524(_0x4890bd);let _0x1c74d2=_0x2065b2(_0x2706a9);_0x1c74d2=_0x1c74d2['replace'](/\$([^$]*?)\$/g,(_0x3d2a1a,_0xb04951)=>'$'+_0x279cc3(_0xb04951)+'$');const _0x40e7f4=_0x1c74d2[_0x484f19(0x26b)](/(\s+)/),_0x4cd688=_0x40e7f4[_0x484f19(0xcf7)](_0x33c1fa=>/\s+/[_0x484f19(0x28b)](_0x33c1fa)?_0x33c1fa:_0x564d16(_0x33c1fa));_0x1c74d2=_0x4cd688[_0x484f19(0xa81)](''),_0x1c74d2!==_0x2706a9&&(_0x284726(_0x4890bd,_0x1c74d2),_0x1f98d4++);});if(_0x1f98d4>0x0){showMessage(_0x2a0823(0x813)+_0x1f98d4+_0x2a0823(0xc61));try{if(window[_0x2a0823(0x9f7)]&&MathJax[_0x2a0823(0x8aa)])MathJax[_0x2a0823(0x8aa)]();}catch(_0x5cefd5){}}else showMessage(_0x2a0823(0x5a0));}async function listenForCustomMathTopics(){const _0x2f9fcb=_0x36ca11,_0x28f374=collection(db,_0x2f9fcb(0xdd2)+appId+_0x2f9fcb(0x8af));onSnapshot(_0x28f374,_0x1e874f=>{const _0x100b50=_0x2f9fcb;customMathTopics=_0x1e874f['docs'][_0x100b50(0xcf7)](_0x1d3ca5=>({'id':_0x1d3ca5['id'],..._0x1d3ca5[_0x100b50(0x518)]()})),renderTopicCheckboxes();},_0x3c1a39=>{const _0x262840=_0x2f9fcb;console[_0x262840(0x3c3)](_0x262840(0xa74),_0x3c1a39);});}function handleSelectAllTopics(){const _0x2bcca0=_0x36ca11,_0x38b483=document[_0x2bcca0(0xde0)](_0x2bcca0(0x599)),_0x24bde7=_0x38b483['querySelectorAll'](_0x2bcca0(0xd77));_0x24bde7[_0x2bcca0(0x532)](_0x2f5df1=>{const _0x3863b4=_0x2bcca0;_0x2f5df1[_0x3863b4(0x39b)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x13685a=_0x36ca11,_0x5a068b=document['getElementById'](_0x13685a(0x599)),_0x536a59=_0x5a068b[_0x13685a(0xbe7)]('input[type=\x22checkbox\x22]');_0x536a59[_0x13685a(0x532)](_0x4dd5b8=>{const _0x1e4f53=_0x13685a;_0x4dd5b8[_0x1e4f53(0x39b)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x138556){const _0x9edead=_0x36ca11;if(!_0x138556)return;try{const _0x36162d=doc(db,_0x9edead(0xdd2)+appId+_0x9edead(0x8af),_0x138556);await deleteDoc(_0x36162d),showMessage(_0x9edead(0xa73));}catch(_0x19ae0f){console[_0x9edead(0x3c3)](_0x9edead(0x31a),_0x19ae0f),showMessage(_0x9edead(0xd9f));}}async function handleAddCustomMathTopic(){const _0x52f95e=_0x36ca11,_0x2a5b0b=document[_0x52f95e(0xde0)](_0x52f95e(0xaa4)),_0x36cb01=_0x2a5b0b[_0x52f95e(0xd73)][_0x52f95e(0x3ac)]();if(!_0x36cb01){showMessage(_0x52f95e(0x45d));return;}if(!userId){showMessage(_0x52f95e(0x87e));return;}try{const _0x34cd0d=collection(db,'artifacts/'+appId+_0x52f95e(0x8af));await addDoc(_0x34cd0d,{'name':_0x36cb01,'createdAt':serverTimestamp()}),_0x2a5b0b[_0x52f95e(0xd73)]='',showMessage(_0x52f95e(0x552)+_0x36cb01+_0x52f95e(0x502));}catch(_0x1c71b2){console[_0x52f95e(0x3c3)](_0x52f95e(0xa0e),_0x1c71b2),showMessage(_0x52f95e(0xb16));}}async function handleUpdateOldQuizzes(){showConfirmation('คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ',async()=>{const _0x3499bb=_0x4cf2,_0x47ab92=document[_0x3499bb(0xde0)](_0x3499bb(0x58c)),_0x1fbe67=document[_0x3499bb(0xde0)](_0x3499bb(0x36c)),_0x16c2b7=_0x1fbe67['textContent'];_0x47ab92[_0x3499bb(0x7cb)][_0x3499bb(0x4cd)](_0x3499bb(0xaa0)),_0x1fbe67['textContent']=_0x3499bb(0x62a);try{const _0x120bc8=collection(db,'artifacts/'+appId+_0x3499bb(0x365)),_0x49de4f=await getDocs(_0x120bc8);if(_0x49de4f[_0x3499bb(0x52e)]){showMessage(_0x3499bb(0xd15));return;}const _0x25ee07=writeBatch(db);let _0x47a36a=0x0;_0x49de4f['forEach'](_0x143f74=>{const _0x42bed2=_0x3499bb,_0x55c4ee=_0x143f74[_0x42bed2(0x518)](),_0x362a3d=_0x143f74['id'];if(_0x55c4ee[_0x42bed2(0x4f1)]&&_0x55c4ee[_0x42bed2(0x4f1)]['length']>0x0&&!_0x55c4ee[_0x42bed2(0x4f1)][0x0][_0x42bed2(0xb10)]('id')){console[_0x42bed2(0x966)](_0x42bed2(0xa2c)+_0x362a3d+'\x20('+_0x55c4ee[_0x42bed2(0x714)]+')'),_0x47a36a++;const _0x4f7bd8=_0x55c4ee[_0x42bed2(0x4f1)]['map']((_0x763025,_0x45f554)=>{const _0x19b03d=_0x42bed2;return{..._0x763025,'id':_0x763025['id']||'q_'+Date[_0x19b03d(0x51b)]()+'_'+_0x362a3d+'_'+_0x45f554};}),_0x40dddb=doc(db,_0x42bed2(0xdd2)+appId+_0x42bed2(0x365),_0x362a3d);_0x25ee07[_0x42bed2(0x991)](_0x40dddb,{'questions':_0x4f7bd8});}}),_0x47a36a>0x0?(_0x1fbe67[_0x3499bb(0xb0c)]=_0x3499bb(0x8a9)+_0x47a36a+_0x3499bb(0x872),await _0x25ee07['commit'](),showMessage('อัปเดตแบบทดสอบเก่า\x20'+_0x47a36a+_0x3499bb(0x8ee))):showMessage(_0x3499bb(0x5de));}catch(_0x4a94df){console[_0x3499bb(0x3c3)](_0x3499bb(0x75e),_0x4a94df),showMessage('เกิดข้อผิดพลาดในการอัปเดต:\x20'+_0x4a94df[_0x3499bb(0x805)]);}finally{_0x47ab92[_0x3499bb(0x7cb)][_0x3499bb(0x23b)](_0x3499bb(0xaa0)),_0x1fbe67['textContent']=_0x16c2b7;}});}async function handleBulkUpdateQuizSettings(){const _0x37d3e6=_0x36ca11,_0x20a7e7={'shuffle':document[_0x37d3e6(0xde0)](_0x37d3e6(0xa31))[_0x37d3e6(0xd73)],'resultsDisplay':document[_0x37d3e6(0xde0)](_0x37d3e6(0x786))[_0x37d3e6(0xd73)],'loopUntilPass':document[_0x37d3e6(0xde0)](_0x37d3e6(0x6ec))[_0x37d3e6(0x39b)],'isConfidenceScoringEnabled':document[_0x37d3e6(0xde0)](_0x37d3e6(0x4a6))[_0x37d3e6(0x39b)],'confidenceMode':document[_0x37d3e6(0xde0)](_0x37d3e6(0xbe9))[_0x37d3e6(0xd73)]};try{showMessage('กำลังตรวจสอบรายการแบบทดสอบล่าสุด...');const _0x533fac=await getDocs(collection(db,_0x37d3e6(0xdd2)+appId+_0x37d3e6(0x365))),_0x22d438=_0x533fac[_0x37d3e6(0x309)][_0x37d3e6(0xcf7)](_0x2b099a=>({'id':_0x2b099a['id'],'data':_0x2b099a[_0x37d3e6(0x518)]()})),_0x434370=_0x22d438[_0x37d3e6(0x9b1)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20'+_0x434370+_0x37d3e6(0x668),async()=>{const _0x1024a0=_0x37d3e6,_0x2aa342=document[_0x1024a0(0xde0)](_0x1024a0(0x63a));_0x2aa342[_0x1024a0(0xc4f)]=!![],_0x2aa342[_0x1024a0(0x2bd)]=_0x1024a0(0xd00);try{const _0xb87633=writeBatch(db);_0x22d438['forEach'](_0x2f6089=>{const _0x267a01=_0x1024a0,_0x359b24=doc(db,_0x267a01(0xdd2)+appId+_0x267a01(0x365),_0x2f6089['id']),_0x9ac8ac={..._0x2f6089[_0x267a01(0x518)][_0x267a01(0x695)]||{},..._0x20a7e7};_0xb87633[_0x267a01(0x991)](_0x359b24,{'settings':_0x9ac8ac});}),await _0xb87633[_0x1024a0(0xda0)](),document[_0x1024a0(0xde0)]('bulk-quiz-settings-modal')[_0x1024a0(0x7cb)][_0x1024a0(0x23b)](_0x1024a0(0xaa0)),showMessage('อัปเดตการตั้งค่าของแบบทดสอบ\x20'+_0x434370+_0x1024a0(0xbd9));}catch(_0x4bb687){console[_0x1024a0(0x3c3)]('Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):',_0x4bb687),showMessage('เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม');}finally{_0x2aa342['disabled']=![],_0x2aa342[_0x1024a0(0x2bd)]='ยืนยันและอัปเดตทั้งหมด';}});}catch(_0x5d1fcd){console[_0x37d3e6(0x3c3)](_0x37d3e6(0xae9),_0x5d1fcd),showMessage('เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด');}}async function handleSaveProjectName(){const _0x27ff26=_0x36ca11,_0x999142=document[_0x27ff26(0xde0)](_0x27ff26(0xc58)),_0x5b436b=document[_0x27ff26(0xde0)](_0x27ff26(0x282)),_0x502adc=_0x999142['textContent']['trim']();if(!_0x502adc||!currentProjectId){showMessage(_0x27ff26(0xc3e)),_0x999142[_0x27ff26(0xb0c)]=currentProjectData[_0x27ff26(0xd30)];return;}_0x5b436b[_0x27ff26(0xc4f)]=!![],_0x5b436b[_0x27ff26(0x2bd)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{const _0x23b7e2=doc(db,'artifacts/'+appId+_0x27ff26(0x20e),currentProjectId);await updateDoc(_0x23b7e2,{'projectName':_0x502adc}),currentProjectData&&(currentProjectData['projectName']=_0x502adc),showMessage('เปลี่ยนชื่อโปรเจคสำเร็จ');}catch(_0x4f9b94){console[_0x27ff26(0x3c3)]('Error\x20updating\x20project\x20name:',_0x4f9b94),showMessage(_0x27ff26(0x2bc)),_0x999142[_0x27ff26(0xb0c)]=currentProjectData[_0x27ff26(0xd30)];}finally{_0x5b436b['classList']['add']('hidden'),_0x5b436b[_0x27ff26(0xc4f)]=![],_0x5b436b[_0x27ff26(0x2bd)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}function handleGeneratePracticeTest(_0x14f2ad,_0x3053dc){const _0x17f14a=_0x36ca11,_0x2dd6cf=document['getElementById'](_0x17f14a(0x911)),_0x5ea3c3=document[_0x17f14a(0xde0)](_0x17f14a(0xbf2)),_0x2f4602=document['getElementById'](_0x17f14a(0x200)),_0xa64112=document[_0x17f14a(0xde0)](_0x17f14a(0xd27));_0x5ea3c3[_0x17f14a(0xb0c)]=_0x17f14a(0x2d8)+_0x14f2ad,_0xa64112[_0x17f14a(0x7cb)][_0x17f14a(0x23b)](_0x17f14a(0xaa0)),_0x2f4602[_0x17f14a(0x7cb)][_0x17f14a(0x4cd)](_0x17f14a(0xaa0)),_0x2dd6cf[_0x17f14a(0x7cb)][_0x17f14a(0x4cd)]('hidden'),generatePracticeTest(_0x14f2ad,_0x3053dc)[_0x17f14a(0x23c)](_0x265e1f=>{const _0x1e6225=_0x17f14a;console[_0x1e6225(0x3c3)](_0x1e6225(0x86b),_0x265e1f),showMessage(_0x1e6225(0x448)),_0x2dd6cf[_0x1e6225(0x7cb)][_0x1e6225(0x23b)](_0x1e6225(0xaa0));});}async function generatePracticeTest(_0x1da168,_0x185f10){const _0x1bcc6b=_0x36ca11;[_0x1bcc6b(0x3af),_0x1bcc6b(0x341),'applicationContent',_0x1bcc6b(0xae3)]['forEach'](_0x459422=>{const _0x5cf777=_0x1bcc6b,_0x5639d9=document[_0x5cf777(0xde0)](_0x459422)[_0x5cf777(0x1e0)];_0x5639d9&&(_0x5639d9['style'][_0x5cf777(0x4b3)]=_0x5cf777(0x2b2));});try{const _0x2e2572=_0x1bcc6b(0x9bf),_0x56f2de=_0x1bcc6b(0x7b1)+_0x185f10+_0x1bcc6b(0xa65)+_0x1da168+_0x1bcc6b(0x426),_0x18622c=await callGemini(_0x56f2de,!![]),_0x273538=document[_0x1bcc6b(0xde0)](_0x1bcc6b(0xbf2)),_0x45ab3b=document[_0x1bcc6b(0xde0)]('lesson-loader'),_0x81c7bd=document[_0x1bcc6b(0xde0)]('lesson-sections-container'),_0x1d75ab=document['getElementById'](_0x1bcc6b(0xaab))[_0x1bcc6b(0x1e0)];_0x273538['innerText']=_0x1bcc6b(0x6e3)+_0x1da168[_0x1bcc6b(0x918)](/•\s/g,'')+_0x1bcc6b(0xb71)+_0x185f10+')',currentApplicationData=JSON['parse'](_0x18622c);const _0x152ed5=document[_0x1bcc6b(0xde0)](_0x1bcc6b(0xaab));_0x152ed5[_0x1bcc6b(0x2bd)]=currentApplicationData['map']((_0x34195b,_0x1bf50f)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x1bf50f+0x1)+'.\x20'+marked[_0x1bcc6b(0x892)](_0x34195b['question'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x1bf50f+_0x1bcc6b(0x4c9)+_0x34195b['options'][_0x1bcc6b(0xcf7)]((_0x24e9b6,_0x3b0c13)=>_0x1bcc6b(0xb6d)+_0x1bf50f+',\x20'+_0x3b0c13+_0x1bcc6b(0xdbf)+String[_0x1bcc6b(0x604)](0x61+_0x3b0c13)+'.\x20'+marked[_0x1bcc6b(0x892)](_0x24e9b6)+_0x1bcc6b(0xd8d))['join']('')+_0x1bcc6b(0x568))[_0x1bcc6b(0xa81)](''),window[_0x1bcc6b(0x9f7)]&&MathJax[_0x1bcc6b(0x8aa)]([_0x152ed5]),_0x1d75ab&&(_0x1d75ab[_0x1bcc6b(0x2fc)][_0x1bcc6b(0x4b3)]=_0x1bcc6b(0xc9a)),_0x45ab3b[_0x1bcc6b(0x7cb)][_0x1bcc6b(0x23b)](_0x1bcc6b(0xaa0)),_0x81c7bd[_0x1bcc6b(0x7cb)][_0x1bcc6b(0x4cd)](_0x1bcc6b(0xaa0));}catch(_0x51a388){console[_0x1bcc6b(0x3c3)](_0x51a388);throw _0x51a388;}}async function callGemini(_0xc58240,_0x4469c2=![]){const _0x1b3d76=_0x36ca11,_0x2b428f='AIzaSyBpbTmQsKO5LzlNphSZW99NYg8H75ryg44',_0x2b4ff6='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x2b428f,_0x418ed1={'contents':[{'parts':[{'text':_0xc58240}]}]};_0x4469c2&&(_0x418ed1['generationConfig']={'responseMimeType':'application/json'},_0xc58240[_0x1b3d76(0xaf6)]('Test\x20Blueprint')?_0x418ed1[_0x1b3d76(0xcfc)][_0x1b3d76(0xcfe)]={'type':_0x1b3d76(0xae2),'properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':_0x1b3d76(0xacd),'items':{'type':_0x1b3d76(0xae2),'properties':{'sara':{'type':_0x1b3d76(0x1dc)},'mainTopics':{'type':'ARRAY','items':{'type':_0x1b3d76(0xae2),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0x1b3d76(0xacd),'items':{'type':_0x1b3d76(0x1dc)}}},'required':[_0x1b3d76(0xcaf),_0x1b3d76(0x391)]}}},'required':[_0x1b3d76(0x35d),'mainTopics']}}},'required':[_0x1b3d76(0x686),'curriculum']}:_0x418ed1[_0x1b3d76(0xcfc)]['responseSchema']={'type':'ARRAY','items':{'type':_0x1b3d76(0xae2),'properties':{'question':{'type':_0x1b3d76(0x1dc)},'options':{'type':_0x1b3d76(0xacd),'items':{'type':_0x1b3d76(0x1dc)}},'answer':{'type':_0x1b3d76(0xa61)}},'required':[_0x1b3d76(0x359),'options',_0x1b3d76(0x683)]}});try{const _0xb9cbfc=await fetch(_0x2b4ff6,{'method':_0x1b3d76(0xb38),'headers':{'Content-Type':'application/json'},'body':JSON[_0x1b3d76(0x2f2)](_0x418ed1)});if(!_0xb9cbfc['ok']){const _0x4e6cb5=await _0xb9cbfc[_0x1b3d76(0x8c0)]();console['error'](_0x1b3d76(0x86a),_0x4e6cb5);throw new Error(_0x1b3d76(0x4ef)+_0xb9cbfc['status']);}const _0x50a2a1=await _0xb9cbfc[_0x1b3d76(0xac6)]();if(_0x50a2a1[_0x1b3d76(0x7bf)]&&_0x50a2a1['candidates'][0x0]['content']&&_0x50a2a1[_0x1b3d76(0x7bf)][0x0]['content'][_0x1b3d76(0x87b)][0x0])return _0x50a2a1[_0x1b3d76(0x7bf)][0x0][_0x1b3d76(0x3ce)][_0x1b3d76(0x87b)][0x0]['text'];else{console['error']('Unexpected\x20API\x20response\x20structure:',_0x50a2a1);if(_0x50a2a1[_0x1b3d76(0x7bf)]&&_0x50a2a1[_0x1b3d76(0x7bf)][0x0][_0x1b3d76(0xc50)]==='SAFETY')return JSON['stringify']({'error':_0x1b3d76(0x321)});throw new Error(_0x1b3d76(0x842));}}catch(_0x34fb0d){console['error'](_0x1b3d76(0x4b6),_0x34fb0d);throw _0x34fb0d;}}async function generateLesson(_0x63e89f=null,_0xf36509=null){const _0x385a71=_0x36ca11,_0x40e42f=_0x63e89f,_0x3b2072=_0xf36509||'ไม่ระบุ',_0x3b2bf5=document['getElementById']('lesson-loader'),_0xb3b6b2=document[_0x385a71(0xde0)](_0x385a71(0xba3));_0xb3b6b2[_0x385a71(0xb0c)]='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0x40e42f+_0x385a71(0xbb6);try{let _0x323cd3=[];const _0x2dd7aa=document[_0x385a71(0xde0)]('bp-reference-file-url')?.[_0x385a71(0xd73)][_0x385a71(0x3ac)]();if(_0x2dd7aa)try{_0xb3b6b2[_0x385a71(0xb0c)]=_0x385a71(0x29d);const _0x5115a1=await fetchFileFromUrl(_0x2dd7aa,_0x385a71(0x9d5)),_0x441f5f=await new Promise((_0x239129,_0x484181)=>{const _0x34b71d=_0x385a71,_0x28373a=new FileReader();_0x28373a['readAsDataURL'](_0x5115a1),_0x28373a[_0x34b71d(0x7b4)]=()=>_0x239129(_0x28373a[_0x34b71d(0x9fc)]['split'](',')[0x1]),_0x28373a[_0x34b71d(0x584)]=_0x484181;});_0x323cd3[_0x385a71(0xc15)]({'inlineData':{'mimeType':_0x5115a1['type'],'data':_0x441f5f}});}catch(_0x13c0d1){console[_0x385a71(0x3c3)](_0x385a71(0x463),_0x13c0d1),showMessage(_0x385a71(0x540));}const _0x432e13=_0x385a71(0x2b4)+_0x40e42f+'\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22'+_0x40e42f+_0x385a71(0x63f);_0xb3b6b2['textContent']=_0x385a71(0x5c1)+_0x40e42f+_0x385a71(0xbb6);const _0x3170b9=_0x385a71(0x21d)+_0x3b2072+_0x385a71(0xa65)+_0x40e42f+_0x385a71(0x929)+_0x432e13+'.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art',_0x2f556d=_0x385a71(0x2db)+_0x40e42f+'\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27'+_0x3b2072+_0x385a71(0x99f)+_0x432e13+_0x385a71(0x927),_0x20e1a1=_0x385a71(0x7b1)+_0x3b2072+_0x385a71(0xa65)+_0x40e42f+_0x385a71(0x608)+_0x432e13+'.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x46f8a5='สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27'+_0x40e42f+_0x385a71(0x736)+_0x3b2072+'\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20'+_0x432e13+_0x385a71(0x5f4),_0x368906={'type':'ARRAY','items':{'type':_0x385a71(0xae2),'properties':{'question':{'type':_0x385a71(0x1dc)},'options':{'type':_0x385a71(0xacd),'items':{'type':_0x385a71(0x1dc)}},'answer':{'type':_0x385a71(0xa61)}},'required':[_0x385a71(0x359),_0x385a71(0x72e),_0x385a71(0x683)]}},[_0x4435c1,_0x2c19f0,_0x48eaf8,_0x5a02e3]=await Promise[_0x385a71(0x45e)]([handleApiCall([{'text':_0x3170b9},..._0x323cd3],_0x385a71(0xd4a),null,null,![]),handleApiCall([{'text':_0x2f556d},..._0x323cd3],_0x385a71(0xd4a),null,null,![]),handleApiCall([{'text':_0x20e1a1},..._0x323cd3],_0x385a71(0xd4a),_0x368906,null,![]),handleApiCall([{'text':_0x46f8a5},..._0x323cd3],_0x385a71(0xd4a),null,null,![])]),_0x4e1236=JSON['stringify'](_0x48eaf8||[]),_0x41349f=document[_0x385a71(0xde0)](_0x385a71(0xbf2)),_0x43b068=document[_0x385a71(0xde0)](_0x385a71(0xd27));_0x41349f[_0x385a71(0x639)]='บทเรียนเรื่อง:\x20'+_0x40e42f[_0x385a71(0x918)](/•\\s/g,'')+_0x385a71(0xb71)+_0x3b2072+')',[_0x385a71(0x3af),_0x385a71(0x341),_0x385a71(0xae3)][_0x385a71(0x532)](_0x27c429=>{const _0x4f4521=_0x385a71;document[_0x4f4521(0xde0)](_0x27c429)['innerHTML']='';}),document[_0x385a71(0xde0)]('pointContent')[_0x385a71(0x2bd)]=_0x4435c1?marked[_0x385a71(0xdc0)](_0x4435c1):_0x385a71(0x8d6),document[_0x385a71(0xde0)](_0x385a71(0x341))[_0x385a71(0x2bd)]=_0x2c19f0?marked['parse'](_0x2c19f0):_0x385a71(0x8d6),document[_0x385a71(0xde0)](_0x385a71(0xae3))[_0x385a71(0x2bd)]=_0x5a02e3?marked[_0x385a71(0xdc0)](_0x5a02e3):_0x385a71(0x8d6),currentApplicationData=JSON['parse'](_0x4e1236);const _0x247bf1=document[_0x385a71(0xde0)]('applicationContent');_0x247bf1[_0x385a71(0x2bd)]=(currentApplicationData||[])[_0x385a71(0xcf7)]((_0x4ea783,_0x306276)=>_0x385a71(0x69a)+(_0x306276+0x1)+'.\x20'+marked[_0x385a71(0x892)](_0x4ea783[_0x385a71(0x359)]||'')+_0x385a71(0x1fe)+_0x306276+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4ea783['options']||[])['map']((_0x3d80c9,_0x178a28)=>_0x385a71(0xb6d)+_0x306276+',\x20'+_0x178a28+')\x22>'+String[_0x385a71(0x604)](0x61+_0x178a28)+'.\x20'+marked[_0x385a71(0x892)](_0x3d80c9||'')+_0x385a71(0xd8d))[_0x385a71(0xa81)]('')+_0x385a71(0x568))['join']('')||_0x385a71(0xa85),window[_0x385a71(0x9f7)]&&MathJax[_0x385a71(0x8aa)]([_0x43b068]),_0x3b2bf5[_0x385a71(0x7cb)][_0x385a71(0x23b)]('hidden'),_0x43b068[_0x385a71(0x7cb)]['remove'](_0x385a71(0xaa0));}catch(_0x1b7c71){console[_0x385a71(0x3c3)](_0x1b7c71);throw _0x1b7c71;}}function checkAnswer(_0x1e96e5,_0x419f19){const _0x3ab4a0=_0x36ca11,_0x5930bd=currentApplicationData[_0x1e96e5],_0x3de456=document['getElementById']('q'+_0x1e96e5+_0x3ab4a0(0x468)),_0xcfa1e7=_0x3de456['getElementsByTagName'](_0x3ab4a0(0x549));for(let _0xe7648c of _0xcfa1e7){_0xe7648c[_0x3ab4a0(0xc4f)]=!![];}_0x419f19===_0x5930bd[_0x3ab4a0(0x683)]?_0xcfa1e7[_0x419f19][_0x3ab4a0(0x7cb)][_0x3ab4a0(0x23b)](_0x3ab4a0(0x2bf)):(_0xcfa1e7[_0x419f19][_0x3ab4a0(0x7cb)][_0x3ab4a0(0x23b)](_0x3ab4a0(0x41e)),_0xcfa1e7[_0x5930bd[_0x3ab4a0(0x683)]][_0x3ab4a0(0x7cb)]['add'](_0x3ab4a0(0x2bf)));}window[_0x36ca11(0x6d8)]=handleGenerateAndShowLesson,window[_0x36ca11(0x54e)]=checkAnswer,window[_0x36ca11(0x694)]=handleGeneratePracticeTest,window['handleGenerateQuizFromBlueprintTopic']=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x27406f=_0x36ca11;try{const _0x50e160=initializeApp(firebaseConfig);db=getFirestore(_0x50e160),auth=getAuth(_0x50e160),setupAuthListener(),setupEventListeners(),showView('student'),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x51adb1){console[_0x27406f(0x3c3)]('Firebase\x20initialization\x20failed:',_0x51adb1),showMessage(_0x27406f(0xd68));}}async function handleVerifyAnswersInEditor(){const _0x5e7f28=_0x36ca11,_0x370ab2=document[_0x5e7f28(0xde0)](_0x5e7f28(0x8f3));if(!_0x370ab2)return;const _0x3d25e0=document[_0x5e7f28(0xde0)](_0x5e7f28(0x479));_0x3d25e0[_0x5e7f28(0xc4f)]=!![],_0x3d25e0[_0x5e7f28(0x2bd)]=_0x5e7f28(0xd3f);try{const _0x42563e=_0x370ab2[_0x5e7f28(0xbe7)](_0x5e7f28(0x492)),_0x3a241c=Array[_0x5e7f28(0x64c)](_0x42563e)[_0x5e7f28(0xcf7)]((_0x328fc8,_0x56e2d6)=>{const _0x4fb194=_0x5e7f28,_0x3ff85c=_0x328fc8[_0x4fb194(0xdcf)]['qType'],_0x59d445=_0x328fc8['querySelector'](_0x4fb194(0x73c))[_0x4fb194(0xd73)];let _0x4a9198=null,_0x2d4694='';switch(_0x3ff85c){case _0x4fb194(0x209):const _0x431e38=_0x328fc8[_0x4fb194(0xbe7)](_0x4fb194(0x5bb));_0x4a9198=Array['from'](_0x431e38)['map'](_0x18ea48=>_0x18ea48['value']);const _0xf4127c=_0x328fc8['querySelector'](_0x4fb194(0xa86));_0xf4127c&&(_0x2d4694=_0x4a9198[parseInt(_0xf4127c[_0x4fb194(0xd73)])]);break;case _0x4fb194(0x44a):_0x4a9198=[],_0x2d4694=_0x328fc8[_0x4fb194(0xce2)](_0x4fb194(0xda2))[_0x4fb194(0xd73)];break;case _0x4fb194(0x84a):_0x4a9198=[_0x4fb194(0x3f6),'false'];const _0x14b5a4=_0x328fc8['querySelector']('input[type=\x22radio\x22]:checked');_0x2d4694=_0x14b5a4?_0x14b5a4[_0x4fb194(0xd73)]:'';break;case _0x4fb194(0x2c9):_0x4a9198=[],_0x2d4694=_0x328fc8[_0x4fb194(0xce2)]('.correct-response-input')[_0x4fb194(0xd73)];break;}return{'question':_0x59d445,'options':_0x4a9198,'proposedAnswer':_0x2d4694};}),_0xb55211=_0x5e7f28(0x8cc)+JSON[_0x5e7f28(0x2f2)](_0x3a241c)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x496cfd={'type':_0x5e7f28(0xacd),'items':{'type':_0x5e7f28(0xae2),'properties':{'questionIndex':{'type':_0x5e7f28(0xa61)},'isCorrect':{'type':_0x5e7f28(0x8e1)},'justification':{'type':'STRING'},'correctOptionExists':{'type':_0x5e7f28(0x8e1)},'suggestedAnswer':{'type':_0x5e7f28(0x1dc)},'newOptionsPayload':{'type':_0x5e7f28(0xae2),'properties':{'newOptions':{'type':_0x5e7f28(0xacd),'items':{'type':_0x5e7f28(0x1dc)}},'newCorrectIndex':{'type':_0x5e7f28(0xa61)}}}},'required':[_0x5e7f28(0xbda),_0x5e7f28(0x831),_0x5e7f28(0xb36)]}},_0x41758e=await callAnalysisApi(_0xb55211,{'type':_0x5e7f28(0xae2),'properties':{'result':_0x496cfd},'required':[_0x5e7f28(0x9fc)]});displayVerificationResultsInEditor(_0x41758e[_0x5e7f28(0x9fc)]);}catch(_0x27968f){console[_0x5e7f28(0x3c3)](_0x5e7f28(0xbed),_0x27968f),showMessage(_0x5e7f28(0x343));}finally{_0x3d25e0[_0x5e7f28(0xc4f)]=![],_0x3d25e0['innerHTML']='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x5991ef){const _0x2cfe0f=_0x36ca11;_0x5991ef[_0x2cfe0f(0x532)](_0x231ea9=>{const _0x112a08=_0x2cfe0f,_0x46fc56=document['querySelector'](_0x112a08(0x467)+_0x231ea9['questionIndex']+'\x22]');if(!_0x46fc56)return;const _0x1cd479=_0x46fc56[_0x112a08(0xce2)](_0x112a08(0xdab));if(_0x1cd479)_0x1cd479[_0x112a08(0x4cd)]();let _0x29478c='';if(_0x231ea9[_0x112a08(0x5e7)]&&_0x231ea9[_0x112a08(0x5e7)]['newOptions']){const _0x1f0fde=_0x231ea9['newOptionsPayload'][_0x112a08(0x225)],_0x322588=_0x231ea9[_0x112a08(0x5e7)][_0x112a08(0x60d)],_0x343d7b=_0x46fc56[_0x112a08(0xdcf)][_0x112a08(0x75b)];if(_0x343d7b===_0x112a08(0x209)){const _0x107e90=_0x46fc56['querySelectorAll'](_0x112a08(0x5bb));_0x107e90[_0x112a08(0x532)]((_0x217c31,_0x5e297d)=>{const _0x48e29a=_0x112a08;_0x1f0fde[_0x5e297d]?_0x217c31[_0x48e29a(0xd73)]=_0x1f0fde[_0x5e297d]:_0x217c31[_0x48e29a(0xd73)]='---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---';});const _0xa7ca9f=_0x46fc56[_0x112a08(0xce2)]('input[type=\x22radio\x22][value=\x22'+_0x322588+'\x22]');_0xa7ca9f&&(_0xa7ca9f[_0x112a08(0x39b)]=!![]),_0x29478c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x46fc56[_0x112a08(0x7cb)][_0x112a08(0x23b)](_0x112a08(0x49c),_0x112a08(0x27f),_0x112a08(0xb27)),setTimeout(()=>{const _0x4590bb=_0x112a08;_0x46fc56[_0x4590bb(0x7cb)][_0x4590bb(0x4cd)](_0x4590bb(0x49c));},0x9c4);}}else{if(!_0x231ea9[_0x112a08(0x831)]&&_0x231ea9[_0x112a08(0x631)]){const _0x7d06a5=_0x231ea9[_0x112a08(0x631)]?_0x112a08(0x238):'';_0x29478c=_0x112a08(0xa24)+_0x7d06a5+_0x112a08(0x26e)+_0x231ea9[_0x112a08(0xb36)]+_0x112a08(0x261)+(_0x231ea9['suggestedAnswer']?_0x112a08(0x6dc)+_0x231ea9[_0x112a08(0x631)]+_0x112a08(0x472):'')+_0x112a08(0x741);const _0xab6b3d=_0x46fc56[_0x112a08(0xdcf)][_0x112a08(0x75b)],_0x544fae=_0x33aef1=>{const _0x2beacf=_0x112a08;if(!_0x33aef1)return;_0x33aef1[_0x2beacf(0x7cb)][_0x2beacf(0x23b)](_0x2beacf(0x8ed),_0x2beacf(0x27f),_0x2beacf(0xb27)),setTimeout(()=>{const _0x4684b6=_0x2beacf;_0x33aef1[_0x4684b6(0x7cb)]['remove'](_0x4684b6(0x8ed));},0x9c4);};if(_0xab6b3d===_0x112a08(0x209)){const _0xbb4462=Array[_0x112a08(0x64c)](_0x46fc56[_0x112a08(0xbe7)](_0x112a08(0x5bb))),_0x2f181b=_0xbb4462[_0x112a08(0x1fd)](_0x1bfb30=>_0x1bfb30['value'][_0x112a08(0x3ac)]()[_0x112a08(0x442)]()===_0x231ea9[_0x112a08(0x631)][_0x112a08(0x3ac)]()[_0x112a08(0x442)]());if(_0x2f181b!==-0x1){const _0x25f106=_0x46fc56[_0x112a08(0xce2)](_0x112a08(0x217)+_0x2f181b+'\x22]');_0x25f106&&(_0x25f106['checked']=!![],_0x544fae(_0x25f106['closest'](_0x112a08(0x66f))));}}else{if(_0xab6b3d==='short_answer'||_0xab6b3d===_0x112a08(0x2c9)){const _0x4b1faa=_0x46fc56[_0x112a08(0xce2)](_0x112a08(0xcad));_0x4b1faa&&(_0x4b1faa[_0x112a08(0xd73)]=_0x231ea9[_0x112a08(0x631)],_0x544fae(_0x4b1faa));}else{if(_0xab6b3d===_0x112a08(0x84a)){const _0x3a36d1=_0x231ea9['suggestedAnswer'][_0x112a08(0x3ac)]()[_0x112a08(0x442)](),_0x11c23e=_0x46fc56['querySelector'](_0x112a08(0x217)+_0x3a36d1+'\x22]');_0x11c23e&&(_0x11c23e[_0x112a08(0x39b)]=!![],_0x544fae(_0x11c23e[_0x112a08(0xd5a)](_0x112a08(0x66f))));}}}}else _0x231ea9[_0x112a08(0x831)]&&(_0x29478c=_0x112a08(0xc28));}_0x46fc56[_0x112a08(0x22a)]('beforeend',_0x29478c);}),showMessage(_0x2cfe0f(0x255));}async function handleVerifyAnswers(){const _0x1e6614=_0x36ca11;if(!currentQuizData||!currentQuizData[_0x1e6614(0x4f1)]){showMessage(_0x1e6614(0x7c6));return;}const _0x48a452=document[_0x1e6614(0xde0)]('verify-answers-btn');_0x48a452['disabled']=!![],_0x48a452[_0x1e6614(0x2bd)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x402870=currentQuizData[_0x1e6614(0x4f1)][_0x1e6614(0xcf7)]((_0x2f8e65,_0x41fad1)=>{const _0x165329=_0x1e6614;let _0x3c262d='';const _0x2124b7=_0x2f8e65[_0x165329(0x55e)]||currentQuizData[_0x165329(0xcfa)];switch(_0x2124b7){case _0x165329(0x209):_0x3c262d=_0x2f8e65['options'][_0x2f8e65['correctAnswerIndex']];break;case _0x165329(0x44a):_0x3c262d=_0x2f8e65[_0x165329(0x763)];break;case _0x165329(0x84a):_0x3c262d=_0x2f8e65[_0x165329(0x5ec)][_0x165329(0x460)]();break;case _0x165329(0x2c9):_0x3c262d=_0x2f8e65[_0x165329(0x77b)];break;}return{'question':_0x2f8e65[_0x165329(0x1f4)]||_0x2f8e65['questionText'],'options':_0x2f8e65[_0x165329(0x72e)]||null,'proposedAnswer':_0x3c262d};}),_0x2dfd0a=_0x1e6614(0x4f5)+JSON[_0x1e6614(0x2f2)](_0x402870)+_0x1e6614(0xb57),_0x47b2b0={'type':'ARRAY','items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x1e6614(0xa61)},'isCorrect':{'type':_0x1e6614(0x8e1)},'justification':{'type':_0x1e6614(0x1dc)},'suggestedAnswer':{'type':_0x1e6614(0x1dc)}},'required':[_0x1e6614(0xbda),'isCorrect','justification']}},_0x4429fc=await callAnalysisApi(_0x2dfd0a,{'type':_0x1e6614(0xae2),'properties':{'result':_0x47b2b0},'required':['result']});displayVerificationResults(_0x4429fc['result']);}catch(_0x1648ba){console[_0x1e6614(0x3c3)](_0x1e6614(0x765),_0x1648ba),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x48a452[_0x1e6614(0xc4f)]=![],_0x48a452[_0x1e6614(0x2bd)]=_0x1e6614(0xb7a);}}function displayVerificationResults(_0x4923c0){const _0x3d91eb=_0x36ca11;_0x4923c0[_0x3d91eb(0x532)](_0x1444dc=>{const _0xa1688a=_0x3d91eb,_0x49b440=document[_0xa1688a(0xce2)](_0xa1688a(0x602)+_0x1444dc[_0xa1688a(0xbda)]+'\x22]');if(_0x49b440){const _0x4e93ff=_0x49b440[_0xa1688a(0xce2)](_0xa1688a(0x708));if(_0x4e93ff)_0x4e93ff[_0xa1688a(0x4cd)]();let _0x1df849='';_0x1444dc[_0xa1688a(0x831)]?_0x1df849=_0xa1688a(0x3ec):_0x1df849=_0xa1688a(0x3b8)+_0x1444dc[_0xa1688a(0xb36)]+_0xa1688a(0x76f)+(_0x1444dc[_0xa1688a(0x631)]?_0xa1688a(0x6dc)+_0x1444dc[_0xa1688a(0x631)]+'</p>':'')+_0xa1688a(0x9ab),_0x49b440['insertAdjacentHTML'](_0xa1688a(0x5fa),_0x1df849);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x53d2c1,_0x7462d2){const _0x39ec8e=_0x36ca11,_0x23184d=String(_0x53d2c1)[_0x39ec8e(0x918)](',','.')[_0x39ec8e(0x918)](/[^\d.-]/g,'')[_0x39ec8e(0x3ac)](),_0x32c374=String(_0x7462d2)[_0x39ec8e(0x918)](',','.')[_0x39ec8e(0x918)](/[^\d.-]/g,'')[_0x39ec8e(0x3ac)]();if(_0x23184d===''||_0x32c374==='')return![];const _0x118ac5=parseFloat(_0x23184d),_0x5d6511=parseFloat(_0x32c374);if(isNaN(_0x118ac5)||isNaN(_0x5d6511))return![];return Math[_0x39ec8e(0x360)](_0x118ac5-_0x5d6511)<0.001;}function isPotentiallyNumeric(_0x5b4c63){const _0x5d949f=_0x36ca11;if(typeof _0x5b4c63!==_0x5d949f(0xa0f)&&typeof _0x5b4c63!=='number')return![];const _0x3603cc=String(_0x5b4c63)[_0x5d949f(0x918)](',','.')[_0x5d949f(0x3ac)]();return _0x3603cc!==''&&!isNaN(parseFloat(_0x3603cc))&&isFinite(_0x3603cc);}async function gradeShortAnswer(_0x93913a,_0x41d07c){const _0x32e168=_0x36ca11,_0x5ed31a=_0x41d07c['idealAnswer'],_0x1a9640=String(_0x93913a)[_0x32e168(0x918)](/\$/g,'')[_0x32e168(0x3ac)](),_0x557576=String(_0x5ed31a)[_0x32e168(0x918)](/\$/g,'')[_0x32e168(0x3ac)]();if(_0x1a9640[_0x32e168(0x442)]()===_0x557576['toLowerCase']())return!![];if(isPotentiallyNumeric(_0x1a9640)&&isPotentiallyNumeric(_0x557576)){if(compareNumericalAnswers(_0x1a9640,_0x557576))return!![];}return console[_0x32e168(0x966)]('Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.'),await gradeShortAnswerWithAI(_0x93913a,_0x5ed31a);}async function revealAnswerForAdmin(_0x3640e1,_0x55c229){const _0x18e1c6=_0x36ca11,_0x297c70=doc(db,'artifacts/'+appId+_0x18e1c6(0xc0e),currentLiveGameId);await updateDoc(_0x297c70,{'questionStatus':_0x18e1c6(0xa6e)});}function showTop5LeaderboardView(_0x1e3366){const _0x194462=_0x36ca11,_0x427bfd=Object[_0x194462(0x976)](_0x1e3366[_0x194462(0x9a3)]||{})[_0x194462(0x273)](_0x43e038=>_0x43e038[_0x194462(0xcb4)]==='active');_0x427bfd[_0x194462(0x68d)]((_0x3ffee3,_0x4e5cf2)=>_0x4e5cf2[_0x194462(0x2ad)]-_0x3ffee3[_0x194462(0x2ad)]);const _0x2fa50f=_0x427bfd[_0x194462(0x5dc)](0x0,0x5),_0x44b3b8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2fa50f[_0x194462(0xcf7)]((_0x5eb5d6,_0x20b252)=>_0x194462(0xb63)+(_0x20b252+0x1)+'.\x20'+(_0x5eb5d6[_0x194462(0xa69)]||Object[_0x194462(0xd97)](_0x1e3366[_0x194462(0x9a3)])[_0x194462(0x349)](_0x436b12=>_0x1e3366[_0x194462(0x9a3)][_0x436b12]===_0x5eb5d6))+_0x194462(0x881)+_0x5eb5d6['score']+_0x194462(0x499))[_0x194462(0xa81)]('')+_0x194462(0xbf8)+(_0x1e3366[_0x194462(0xca1)]+0x1===currentQuizData['questions'][_0x194462(0x9b1)]?_0x194462(0x787):_0x194462(0xbee))+_0x194462(0x3e7);liveGameView[_0x194462(0x2bd)]=_0x44b3b8,document[_0x194462(0xde0)](_0x194462(0xd3e))[_0x194462(0x999)](_0x194462(0x4fc),async()=>{const _0x522ebb=_0x194462,_0x1779ed=doc(db,'artifacts/'+appId+_0x522ebb(0xc0e),currentLiveGameId),_0x5a1cc8=_0x1e3366['currentQuestionIndex']+0x1;if(_0x5a1cc8<currentQuizData[_0x522ebb(0x4f1)][_0x522ebb(0x9b1)]){const _0x3f23b2={'currentQuestionIndex':_0x5a1cc8,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x522ebb(0x5a5)};Object[_0x522ebb(0xd97)](_0x1e3366[_0x522ebb(0x9a3)])[_0x522ebb(0x532)](_0x3aaeff=>{const _0x49cd92=_0x522ebb;_0x3f23b2[_0x49cd92(0x250)+_0x3aaeff+_0x49cd92(0x70d)]=![];}),await updateDoc(_0x1779ed,_0x3f23b2);}else await updateDoc(_0x1779ed,{'status':_0x522ebb(0x54b)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x4c84f1=>{const _0x3e275f=_0x4cf2;if(_0x4c84f1){userId=_0x4c84f1[_0x3e275f(0xcd8)],userIdDisplay['textContent']=userId;const _0x789e9f=await loadUserPreferences();_0x789e9f['projectSortOrder']&&(document[_0x3e275f(0xde0)](_0x3e275f(0x685))[_0x3e275f(0xd73)]=_0x789e9f[_0x3e275f(0x99b)]);globalDashboardSettings[_0x3e275f(0xdda)]=_0x789e9f[_0x3e275f(0xdda)]||_0x3e275f(0x5b0);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x25f14e,_0x2f7034){const _0x4cf4d2=_0x36ca11;if(!userId)return;try{const _0x16f6fc=doc(db,_0x4cf4d2(0xdd2)+appId+'/users/'+userId+_0x4cf4d2(0x6b6)),_0x153d2a={};_0x153d2a[_0x25f14e]=_0x2f7034,await setDoc(_0x16f6fc,_0x153d2a,{'merge':!![]});}catch(_0x117bdd){console[_0x4cf4d2(0x3c3)](_0x4cf4d2(0x295),_0x117bdd);}}async function loadUserPreferences(){const _0x17d631=_0x36ca11;if(!userId)return{};try{const _0x292570=doc(db,'artifacts/'+appId+_0x17d631(0x9a2)+userId+'/preferences/main'),_0x1cd36b=await getDoc(_0x292570);if(_0x1cd36b['exists']())return _0x1cd36b[_0x17d631(0x518)]();return{};}catch(_0x5e13ef){return console[_0x17d631(0x3c3)](_0x17d631(0xa08),_0x5e13ef),{};}}function parseIndentedBlueprint(_0x1461d0){const _0x2fc637=_0x36ca11,_0x19da2a=_0x1461d0[_0x2fc637(0x26b)]('\x0a')[_0x2fc637(0x273)](_0x1300b3=>_0x1300b3[_0x2fc637(0x3ac)]()!==''),_0xf4fe4=[];let _0x4e3549=null,_0x387a25=null;return _0x19da2a['forEach'](_0x152df2=>{const _0x5ca3ea=_0x2fc637,_0x37625e=_0x152df2[_0x5ca3ea(0xd1d)](/^\s*/)[0x0][_0x5ca3ea(0x9b1)],_0x5e9209=_0x152df2['trim']();if(_0x37625e===0x0)_0x4e3549={'sara':_0x5e9209,'mainTopics':[]},_0xf4fe4[_0x5ca3ea(0xc15)](_0x4e3549),_0x387a25=null;else{if(_0x37625e>0x0&&_0x37625e<0x8&&_0x4e3549)_0x387a25={'topicName':_0x5e9209,'subTopics':[]},_0x4e3549[_0x5ca3ea(0x928)]['push'](_0x387a25);else _0x37625e>=0x8&&_0x387a25&&_0x387a25[_0x5ca3ea(0x391)]['push'](_0x5e9209);}}),{'curriculum':_0xf4fe4};}async function handleManualBlueprintSave(){const _0x46c270=_0x36ca11,_0x406d36=document[_0x46c270(0xde0)]('manual-bp-project-name')[_0x46c270(0xd73)][_0x46c270(0x3ac)](),_0x25e598=document[_0x46c270(0xde0)](_0x46c270(0x8d8))[_0x46c270(0xd73)][_0x46c270(0x3ac)](),_0x1e8d9b=document[_0x46c270(0xde0)]('manual-bp-content')[_0x46c270(0xd73)];if(!_0x406d36||!_0x25e598||!_0x1e8d9b){showMessage(_0x46c270(0x53e));return;}const _0x5492d1=parseIndentedBlueprint(_0x1e8d9b);if(!_0x5492d1[_0x46c270(0x3b9)]||_0x5492d1[_0x46c270(0x3b9)]['length']===0x0){showMessage(_0x46c270(0x6f3));return;}const _0x52c1b4={};let _0x352ebe=0x0;_0x5492d1[_0x46c270(0x3b9)]['forEach'](_0x33d851=>{const _0x4b1b97=_0x46c270;_0x33d851[_0x4b1b97(0x928)][_0x4b1b97(0x532)](_0xf8e738=>{const _0xfa5649=_0x4b1b97;_0xf8e738[_0xfa5649(0x391)]['forEach'](_0x2aeb3a=>{const _0xefc04f=_0xfa5649,_0x286fc0=_0xefc04f(0x3e0)+Date[_0xefc04f(0x51b)]()+Math[_0xefc04f(0xdd3)]()['toString'](0x24)[_0xefc04f(0x3c8)](0x2,0x9);_0x52c1b4[_0x286fc0]={'sara':_0x33d851[_0xefc04f(0x35d)],'mainTopic':_0xf8e738[_0xefc04f(0xcaf)],'subTopic':_0x2aeb3a,'status':_0xefc04f(0x31e),'lessonContent':null,'order':_0x352ebe++};});});});try{const _0x415c67=collection(db,'artifacts/'+appId+_0x46c270(0x2ba));await addDoc(_0x415c67,{'projectName':_0x406d36,'gradeLevel':_0x25e598,'topics':_0x52c1b4,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x406d36+_0x46c270(0x72d)),document[_0x46c270(0xde0)](_0x46c270(0x433))[_0x46c270(0x7cb)][_0x46c270(0x23b)](_0x46c270(0xaa0));}catch(_0x5ee5ef){console['error'](_0x46c270(0x204),_0x5ee5ef),showMessage(_0x46c270(0x3cc));}}function _0x5ebe(){const _0x427e66=['lives','/public/data/liveGames','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20joining\x20sync\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','65382HEINjR','Error\x20loading\x20blueprint\x20projects:','push','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','center','confirm-link-quiz-btn','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กรุณาใส่ชื่อโปรเจค','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','comparison-chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','student-quiz-leaderboard-content','Error\x20deleting\x20quiz:','.move-quiz-btn','manage-tab-content','คนโสด','\x5cge','offset','เกิดข้อผิดพลาดในการบันทึกลำดับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','deg','มุมและการวัดมุม','<li\x20class=\x22','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-shortcut-id-input','ปริพันธ์ไม่จำกัด','cos','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','<div><input\x20type=\x22radio\x22\x20id=\x22q','toDataURL','global-activity-modal','bg-green-500','<div\x20id=\x22q-image-container-','blueprint-shortcut-container','file-shortcut-editor-modal','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bp-modal-include-images-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','ชื่อโปรเจคห้ามว่าง','text/plain','ต้นฉบับ\x202','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','confidence-input-','\x20\x20\x20-\x20','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','.status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','deltaY','quiz-leaderboard-table-body','เน็ตไอดอล','workerSrc','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','Error\x20editing\x20topic:','disabled','finishReason','bg-blue-500\x20hover:bg-blue-600\x20text-white','pin','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','.move-shortcut-dropdown','upperGroupResponders','<button\x20data-id=\x22','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-title','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','input','#retake-for-improvement-btn','ระยะเวลา\x20(วินาที):','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','className','questionText','\x20จุด','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','ความเป็นอิสระของเหตุการณ์','confirm-create-project-btn','file-shortcut_','(ก่อนเรียน)\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','geq','countdown-display','เกิดข้อผิดพลาดในการลบนักเรียน','classWeaknesses','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','ผิด','bestScore','.move-parallel-shortcut-menu-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','สร้างแบบทดสอบปรนัย','ดาวTikTok','admin-password-modal','shortcut-reference-url-input','groups','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','bank-input-area','cancel-create-project-btn','confidence-mode-select','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','</span>','moveTo','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','player-list-lobby','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passcode-prompt-message','พบ\x20Team\x20Quiz!','analytics-summary-cards','tGain','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','หน่วยความยาวและการแปลง','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','file.txt','Error\x20duplicating\x20quiz:','ไม่พบข้อมูลโปรเจค','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','generated-quiz-actions','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','answers','Error\x20preparing\x20content\x20quiz:','comparison-individual-content','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','bg-black/20','block','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','shortcut-blueprint-url-input','show_results_and_answers','line-through\x20text-red-700','currentQuestionIndex','cancel-admin-login-btn','opacity-50','shuffle','bg-[#DCFCE7]\x20text-green-900','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','editable-text-','Error\x20listening\x20for\x20starred\x20quizzes:','force-math-checkbox','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รหัสไม่ถูกต้อง','visibilityState','.ideal-answer-input,\x20.correct-response-input','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','topicName','.project-card-container[data-id]','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','กฎบวกและกฎคูณ','status','end-game-btn','readAsArrayBuffer','\x20mx-1\x20text-lg\x22></i></span>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','student-project-leaderboard-tab','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','hint-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','กราฟฟังก์ชันตรีโกณ','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','/public/data/teamQuizzes','ตัวประกอบและตัวประกอบเฉพาะ','Error\x20in\x20handleApiCall:','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','pointer-events-none','getAttributeNS','student-project-leaderboard-table-body','live-race','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20confirming\x20players:','7VtHVLN','#results-table\x20thead\x20tr','ฟังก์ชันสัมพัทธ์\x20(rational)','numQuestions','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','reviewQuestionIndex','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</span></div>','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','ดอทโปรดักต์\x20(dot)','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','getDocument','uid','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','quiz-generation-area','timerMode','แบตหมด','next-sync-question-btn','end-team-quiz-btn','\x20หัวข้อ)','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','strength-weakness-analysis-container','querySelector','quick_thinker','.pen-size-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','order','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','เกิดข้อผิดพลาดในการอ่านไฟล์','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','analytics-tab-content','blueprint-project-list','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','webkitRequestFullscreen','modal-results-display-select','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','msRequestFullscreen','text-blue-800','textarea[name=\x22question_single\x22]','\x20คะแนน</span></div>','get','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','map','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','confirmation-modal','quizType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','generationConfig','.lastAnswerValue','responseSchema','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','jspdf','save-quiz-edits-btn','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-checkbox:checked','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20(ส่วนนี้เพิ่มเข้ามาเพื่อความชัดเจน\x20แม้จะอยู่ใน\x20qualityDirective\x20แล้ว)\x0a*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','อนุพันธ์:\x20ผลคูณ/ผลหาร','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','parentNode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-700','dataIndex','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','replaceChild','delete-all-students-btn','ไม่พบแบบทดสอบในระบบเลย','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','default','พิมพ์ตอบ','พอใช้','webkitExitFullscreen','transparent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','match','เกิดข้อผิดพลาดในการส่งคำตอบ','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','export-tutor-pdf-btn','classStrengths','_opt','ปุ่มลัดทั้งหมด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','อินฟลูเอนเซอร์','destroy','lesson-sections-container','</a>','stopPropagation','Failed\x20to\x20get\x20hint:','อกหัก','\x22\x20data-quiz-id=\x22','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','dragstart','projectName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','student-quiz-area','progress-project-select','นกฮูกกลางวัน','Error\x20joining\x20activity:','students','shortcut_','topic-input','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','เลือกและบันทึก','entries','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','.bp-game-btn','goto-next-question-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','ท็อปฟอร์ม','scratchpad-clear-btn','playerNicknames','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','#E5E7EB','\x20ตอบ','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กรุณาเลือกชื่อของคุณ','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','กำลังสร้างคำถามข้อ\x20','...','num-choices','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','.pair-quiz-btn','อนุพันธ์:\x20กฎพื้นฐาน','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ผู้เล่นใหม่\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','G-V90KRM0L63','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','allResponses','select-all-topics-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','สร้างโปรเจคสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','closest','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','globalSettings','confirm-join-game-btn','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','\x20ชุด)</span>','เส้นจำนวน','text-input-area','project-quizzes-list','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','.live-summary-tooltip.visible','.delete-custom-topic-btn','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','schedule','.shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','shuffledQuiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20during\x20blueprint\x20link\x20cleanup:','ไม่พบแบบทดสอบ','การจัดกลุ่มข้อมูล','answerValue','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','value','NEGATIVE_INFINITY','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','input[type=\x22checkbox\x22]','responses.','shortcut-modal-title','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','questions_only','confident','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','<p\x20class=\x22text-xl\x22>','pointermove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20deleting\x20shortcut:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20Formula\x20Fix\x20Error:','.eraser-size-btn','ไม่พบข้อมูลผู้ใช้','bg-teal-500\x20hover:bg-teal-600\x20text-white','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','#FEE2E2','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','game-start-modal-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','</td>','\x22>ไม่ใช่</p>','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','6737370lBHZWi','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','fileShortcutsConfig','topics.','keys','preTScore','\x20/\x20','/public/data/quizzes/','\x20ตัวเลือก.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','rgba(79,\x2070,\x20229,\x201)','.topic-row','เกิดข้อผิดพลาดในการลบหัวข้อ','commit','text-emerald-900','.ideal-answer-input','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','สร้างคำถามแบบใช่/ไม่ใช่','shadowBlur','Error\x20comparing\x20results:','\x20คะแนน\x20','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','loopUntilPass','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.verification-result-editor','back-to-project-btn','fullscreenchange','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','autoTable','นักกีฬา','ลำดับการดำเนินการ\x20(PEMDAS)','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','scratchpad-close-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','bg-blue-100','Error\x20confirming\x20players\x20for\x20sync\x20game:','เกิดข้อผิดพลาดในการนำผู้เล่นออก','</tbody></table>','thead\x20.sortable-header','เรขาคณิต','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>',')\x22>','parse','instructions','\x20ข้อ\x20','back-to-student-initial-btn','fixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','เต่าสายฟ้า','ร้อยละพื้นฐาน','ระบบสมการเชิงเส้นสองตัวแปร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','ตอบถูกทุกข้อในแบบทดสอบนี้','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','แมวเก้าชีวิต','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dataset','Blueprint\x202','resultsDisplay','artifacts/','random','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x5cdiv','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','blob','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบเกมที่กำลังเข้าร่วม','projectView','Error\x20saving\x20to\x20question\x20bank:','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','presentation-explanation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-status-modal','getElementById','totalQuestions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','additional-file-shortcuts-list','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รูปแบบการให้เหตุผล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','results-display-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','(หลังเรียน)\x20','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','touchcancel','ฟังก์ชันพหุนาม',':</span><span>','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','ไม่พบตารางสำหรับ\x20Export','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จัดการ','separate-by-content-from-file-checkbox','ไม่สามารถโหลดข้อมูลอันดับได้','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','กรุณาใส่ชื่อนักเรียน','สิงโตยิ้ม','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','STRING','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','getTime','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','parentElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ถูกต้อง!','originalQuestionText','admin-dashboard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','PERFECT_SCORE','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','เกิดข้อผิดพลาดในการสร้างห้องเกม','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','authed_project_','student-name-select','7470088DhXIla','ondblclick','min','analytics','q-text-','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','bg-red-500','สายลับจับบ้านเล็ก','stem','startedAt','project-search-input','scheduled_pending','.quiz-result-card','เกี่ยวกับหัวข้อ\x20\x22','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','\x22\x20class=\x22delete-project-btn\x20','findIndex','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','answer-grid-container','lesson-loader','fill_in_the_blank','add-from-global-bank-btn','warn','Error\x20saving\x20manual\x20blueprint\x20project:','earned-badges-container','การจัดหมู่\x20(Combination)','add-custom-math-topic-btn','fa-crown\x20text-yellow-500','multiple_choice','quiz-leaderboard-table','latestSubmittedAt','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','text-yellow-300','/public/data/projects','ไม่พบแบบทดสอบสำหรับรหัสนี้','กรุณาเลือกสถานะ','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','questionDisplayedAt','<p>','close-game-final-btn','manage','หมดเวลาสำหรับข้อนี้!','input[type=\x22radio\x22][value=\x22','confidence-mode-container','กำลังสร้างแบบทดสอบจากหัวข้อ...','next-drill-btn','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','contentEditable','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','complexityValue','student-progress-view','ตัวเลือก\x20ก','/public/data/learnedFixes','ไม่พบข้อมูลหัวข้อที่จะบันทึก','-tab','newOptions','category','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','scrollX','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','insertAdjacentHTML','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20saving\x20blueprint\x20project:','ตั้งเวลา\x20(เปิด)','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','parent','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','<tr\x20class=\x22','createObjectURL','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isScored','<div\x20class=\x22p-2\x20rounded-md\x20','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','Error\x20displaying\x20question\x20bank:','add','catch','Error\x20opening\x20quiz\x20editor:','left','.project-card-container','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','password-error-msg','ไอติมทอด','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','คนดีศรีสยาม','\x20กลุ่ม</p></div>','modal-confidence-scoring-checkbox','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบโปรเจค','\x22\x20class=\x22pin-project-btn\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','สลับไปโหมดผู้ควบคุม','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','players.','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Sync\x20Mode','.draggable-text','.file-shortcut-btn[data-id=\x22','ตรวจทานเฉลยเสร็จสิ้น!','finished','\x20\x0a\x20\x20\x20\x20','จากไฟล์ที่แนบมานี้,\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','parallel-test-upload-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','.remove-parallel-shortcut-from-tab-btn','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','behaviorLog','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','localeCompare','rename-quiz-modal','projectId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','240','createElementNS','</h3>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','QUICK_THINKER','split','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','transformOrigin','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','#math-topics-checkbox-container\x20input:checked','filter','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','opacity','startsWith','.live-answer-btn,\x20#sync-submit-btn','overline','การลบทศนิยม','text-gray-400\x20hover:text-indigo-600','export-excel-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','transition-all','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','desc','save-project-name-btn','สมการเหตุผล\x20(rational)','default-','removeAttribute','passing-score-input','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนเต็มบวก','<button\x20id=\x22','target','test','selectedTopicNames','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','showImproveButton','manual_release','\x20from\x20sync\x20game:','Error\x20clearing\x20linked\x20quiz:','</p><p><strong>เฉลย:</strong>\x20','Error\x20creating\x20project:','leaderboard','Error\x20saving\x20user\x20preference:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','reference.pdf','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','submit-group-answer-btn','<i\x20class=\x22fas\x20fa-pen\x22></i>','submissions','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','Error\x20displaying\x20blueprint\x20project:','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','รอผู้ควบคุมแสดงผลสรุปสุดท้าย...','.space-y-1.pl-4','tooltipTarget','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','ย้ายแบบทดสอบไปโปรเจคอื่น','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','applicationData','quiz-settings-modal','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','answeredCurrentQuestion','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','document','tool','score','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','endTime','none','.scratchpad-content-wrapper','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','<button\x20data-value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','clientX','mouseleave','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','/public/data/blueprintProjects','nextElementSibling','เกิดข้อผิดพลาดในการบันทึก','innerHTML','create-from-bank-btn','correct','กรุณาเลือกคำตอบก่อนครับ','download','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','toDate','คัดลอกรหัสแล้ว!','การนับ','setAttribute','removeItem','setItem','matching_item','max','type','ติดซีรีส์','.topic-selection-btn','set','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','draggable-text','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','timerDuration','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','cancel-quiz-bank-btn','source-over','num-questions','กำลังสร้างแบบทดสอบ:\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สำหรับหัวข้อ\x20\x27','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20processing\x20shortcut\x20click:','original-mode-checkbox','text-green-800','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','.delete-submission-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เงาปริศนา','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-white','%</span>','blueprint-projects-modal','</label></div>','ข้อ\x20','quiz-results-table-body','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','การเรียงสับเปลี่ยน\x20(Permutation)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','results-tab','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','stringify','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','quiz-start-time','เริ่มกิจกรรม:\x20','bg-red-100','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','style','manage-players-btn','(ไม่มีชื่อ)','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','table','การบวกทศนิยม','list-view-btn','</td></tr>','ทำคะแนนเต็มในการทำครั้งแรก','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','restore','pdf','ไม่ได้ตอบ','docs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','.open-bp-project-btn','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','.live-answer-btn','ยังไม่เต็มนะ','.quiz-settings-btn','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','mixed','tfrac','no-projects-msg','/submissions','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','stepByStepExamples','applicationHTML','Error\x20deleting\x20custom\x20topic:','correctAnswerIndex','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','not_generated','ย้าย','slide-counter','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','pointsLastQuestion','bank-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','0\x200','</div></div></div>','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','คะแนนเต็ม','มุมพิเศษ\x2045°-45°-90°','pow','</p><div>','getItem','\x20(\x22','.move-parallel-shortcut-dropdown','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','lesson-plan-modal','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','พิซซ่าหน้าทุเรียน','คะแนนยังไม่ถึงครึ่ง','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','pointerdown','<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>','confidence','.answered','isDefault','กรุณาเลือกโปรเจคก่อน','bottom','(ก่อนเรียน)','\x5ctimes','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','</span></td>','memoryContent','\x22\x5cn','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','Blueprint\x201','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','คัดลอกไม่สำเร็จ','find','สมการยกกำลัง','จำนวนคละ','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','ไฟล์ลัด\x202','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','td,\x20th','\x5cle','default-1','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<!--\x20▲▲▲\x20[สิ้นสุดการแก้ไข]\x20▲▲▲\x20-->\x0a\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','.remove-shortcut-from-tab-btn','\x20<!--\x20[เพิ่ม]\x20แสดง\x20PIN\x20ที่นี่\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','อัตราการเปลี่ยนแปลงทันที','visible','.score','question','เกิดข้อผิดพลาดในการลบแบบทดสอบ','Enter','กรุณาวาง\x20URL\x20ของบทความก่อน','sara','submit','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','abs','frac','fadeStartTime','แก้ไขปุ่มลัดจากไฟล์','<p\x20class=\x22','/public/data/quizzes','อุณหภูมิและการแปลง','keyConcepts','msExitFullscreen','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loader-text','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-200\x20text-red-800','flex\x20flex-col\x20gap-2','export-leaderboard-image-btn','gameData','.regenerate-question-editor-btn','สมการตรีโกณมิติ','binom','start-sync-game-btn','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','.parallel-shortcut-tab-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผู้เล่น\x20','application/json','เกิดข้อผิดพลาด:\x20','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','items','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','พลังคลื่นเต่า','isConfidenceScoringEnabled','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</strong></div>','bg-green-100','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','href','team-quiz-topic','สุดยอด!\x20ตอบถูกทุกข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20▼▼▼\x20[นี่คือจุดที่แก้ไข\x20Bug]\x20▼▼▼\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!--\x20▲▲▲\x20[สิ้นสุดการแก้ไข]\x20▲▲▲\x20-->\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_no_choices','approx','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','subTopics','file.pdf','confidence_single','สายตาสั้น','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.mb-6.p-4','ondrop','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','global-activity-quiz-list','checked','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','การบวกเศษส่วน','bank-quiz-list','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-blue-700','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','text-indigo-600','.admin-try-quiz-list-btn','<button\x20data-shortcut-id=\x22','#FEF3C7','Error\x20deleting\x20student:','worksheet-topic-input','reset-view-btn','px)\x20scale(','.\x20แต่ละข้อมี\x20','???','trim','pairedQuizId','student-team-selection-view','pointContent','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','ค่าเสื่อมราคา','perfect_score','show-results-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','curriculum','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','ความชันเส้นสัมผัส','Error\x20adding\x20topic:','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','error','choices_only','.doc','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','modal-message','substr','live-short-answer-input','AI\x20แก้ไขคำถามสำเร็จ!','.flex.justify-between.items-center','เกิดข้อผิดพลาดในการบันทึกโปรเจค','save-settings-btn','content','เกิดข้อผิดพลาดในการอัปเดตสถานะ','\x0a---\x0a','สร้างแบบทดสอบ','ร้อยละประยุกต์','quiz-leaderboard-table-container','#confidence-input-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-reference-file-url','file-shortcut-name-input','ความน่าจะเป็นแบบมีเงื่อนไข','pinnedProjects','ai-quiz-app-aefee','cursor','เน็ตช้า','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','topic_','start-live-race-generated-btn','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','สมการราก\x20(radical)','round','lastAnswerCorrect','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','STARTING_LIVES\x20is\x20not\x20defined!\x20Defaulting\x20to\x203.','bg-amber-100\x20text-amber-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','dashboardConfig','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่วงกลม/ส่วนของวงกลม','cancel-manual-bp-btn','comparison-modal','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','learningGaps','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','true','เกิดข้อผิดพลาด','เวกเตอร์และเมทริกซ์\x20(เสริม)','Error\x20generating\x20from\x20link:','เศรษฐีดูไบ','setTransform','include-images-checkbox','highlighter-tool-btn','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','การหาร','standardTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','clear-all-links-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','ปวดหลัง','shadowColor','Error\x20submitting\x20team\x20answer:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','close-lesson-plan-modal-footer-btn','.file-topic-selection-btn','Error\x20analyzing\x20file\x20for\x20topics:','บันทึกโปรเจค\x20\x22','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','.pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','bp-modal-num-choices','ไม่พบเอกสารการส่งงานของ\x20','ไม่ผ่าน','2lFboRp','font-bold\x20text-green-700','file-shortcut-url-input','text-gray-200','svg','ตารางความถี่','open-global-live-btn','project-detail-view','incorrect','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','อัปเดตสถานะสำเร็จ','กาแฟขม','จากเนื้อหาต่อไปนี้:\x20\x22','\x20จาก\x20','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','5369790vWWmnS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','parallelTestShortcutsConfig','ไม่ใช่\x20/\x20ผิด','eraser','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','กำลังโหลดคลังข้อสอบทั้งหมด...','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','STOP','submission-status-chart','manual-blueprint-modal','then','blueprint-input-area','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลบแบบทดสอบสำเร็จแล้ว','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','_blank','lineJoin','scratchpad-modal','comparison-overall-content','ส่งแล้ว','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','isStarred','toLowerCase','ondragend','student-team-join','สร้างคำถามแบบเติมคำในช่องว่าง','mandatory','ท้องฟ้า','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','แผนการสอน','short_answer','screen_exit','เพิ่มปุ่มลัดใหม่','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','<br>','referenceUrl','shuffleSetting','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','.pointsLastQuestion','mouseup','ดีเทอร์มิแนนต์','start-game-btn','.shortcut-list-item:not(.opacity-50)','Failed\x20to\x20generate\x20lesson:','.start-live-race-btn','ไม่พบข้อมูลข้อสอบหลังเรียน','.quiz-bank-parallel-btn','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','all','create-project-btn','toString','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','blueprintUrl','editor-quiz-topic','team-player-status-grid','.question-editor-item[data-q-index=\x22','-options','lowerGroupNames','solution','มือปราบสายรุ้ง','project-detail','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','projectSort','student-progress','\x22\x20data-target-tab-id=\x22','จำนวนเต็มลบ','</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','ความเท่ากันทุกประการของสามเหลี่ยม',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','.png','timer-bar','verify-answers-editor-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','startTime','Error\x20resetting\x20project\x20order:','eraser-tool-btn','title','open-quiz-bank-btn','save-bp-reference-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','referenceFileUrl','<button\x20data-quiz-id=\x22','ไม่พบโปรเจคที่ต้องการลบ','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','smooth','add-parallel-shortcut-tab-btn','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','start-presentation-btn','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','ต้นฉบับ\x201','sync-variant-selector','ที่พิมพ์ได้\x20จำนวน\x20','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','.confidence-choice-btn','classic','.question-editor-item','analytics-tab-btn','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','554837rziXxh','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','timer-duration-container','.answers','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touches','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','bg-yellow-200','baseVal','\x20ชุด)','fileShortcutTabs','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','ลำดับเลขคณิต\x20(AP)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','bulk-confidence-scoring-checkbox','Error\x20saving\x20game\x20results:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','confirm-quiz-settings-btn','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-[#4ADE80]\x20text-green-900\x20font-bold','selected-answer-index-hidden','data:application/vnd.ms-word;charset=utf-8,','scores-tab-btn','display','circle','trail','Error\x20calling\x20Gemini\x20API:','bulk-quiz-settings-modal','color','#E0E7FF','confirm-team-players-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','math-topic-search-input','mode-switcher-btn','แท็บใหม่','โจรสลัดอวกาศ','API\x20Error\x20Response:','\x22\x20value=\x22','reveal-answer-btn','#student-project-leaderboard-content\x20thead','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบนี้ปิดใช้งานอยู่','preventDefault','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการเชิงเส้นตัวแปรเดียว','additional-shortcuts-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','remove','prev-question-btn','cancel-test-btn','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','mousemove','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','/questionBank','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','เหมียวขี้เซา','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','save-quiz-btn','rgba(59,\x20130,\x20246,\x200.7)','highlighter-tools-group','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.generate-lesson-btn','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','input[name=\x22drill_answer\x22]:checked','score-distribution-chart','Error\x20saving\x20shortcut\x20config:','วงรี','พาราโบลา','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','คัดลอกแบบทดสอบสำเร็จ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','pointerType','กรุณาตั้งชื่อแท็บใหม่:','isPinned','delete-svg-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','.edit-hidden-parallel-shortcut-btn','เซียนสมองไว','API\x20call\x20failed\x20with\x20status:\x20','ตะวันฉาย','questions','previousElementSibling','.use-hidden-parallel-shortcut-btn','<option\x20value=\x22\x22>กำลังโหลด...</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','confirm-quiz-status-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','generate-from-file-btn','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','includeImages','timed','click','readAsDataURL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','https://drive.google.com/uc?export=download&id=','</button>','\x22\x20สำเร็จ','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20renaming\x20quiz:','per-question-options','save-parallel-shortcut-btn','คำเตือน\x20(','Error\x20fetching\x20quiz\x20settings:','wasConfident','<h1></h1>','name_desc','การบวก','modal-adaptive-quiz-checkbox','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','<span\x20class=\x22font-bold\x20','delete','reduce','image/png','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','data','รอเปิด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','now','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','fa-bolt\x20text-blue-500','เกิดข้อผิดพลาดในการลบโปรเจค',';\x22\x20data-id=\x22','จำนวนคู่:','แบบทดสอบจากคลังส่วนตัว','blueprint-project-manager-view','ค.ร.น.\x20(LCM)','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','class','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','toggle','globalAlpha','.save-custom-topic-btn','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','input[type=\x22checkbox\x22]:checked','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','empty','---\x20[คำถามใหม่]\x20---','parallel-shortcut-modal-title','ทำคะแนนได้เกินครึ่ง','forEach','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','ตัวแปรและนิพจน์','การหารทศนิยม','ภูเขา','เกิดข้อผิดพลาดในการสร้างใบงาน','เมทริกซ์:\x20บวก/คูณ','นักดนตรี','Blueprint\x20O-NET\x20ป.6','qIndex','กรุณากรอกข้อมูลให้ครบทุกช่อง','<div\x20class=\x22my-6\x22>','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','เปิดใช้งาน','\x20กลับเข้าสู่เกม!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-add-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','quiz-end-time','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','button','ตัวเลือก\x20ง','podium','shortcutIds','สอบซ่อม','checkAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','Re-grade\x20process\x20failed:','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','เพิ่มหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','isRemedial','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','บักแตงโม','game-start-quiz-id','ค่าความจริง/ตารางค่าความจริง','การคูณ','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','#DBEAFE','questionType','FIRST_TRY_ACE','กำลังเตรียมไฟล์...','กรุณาเลือกคำตอบของกลุ่ม','.topic-actions-edit','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','auto-fix-latex-btn','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','ผู้ไม่ยอมแพ้','shortcutOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','start-quiz-btn','hasPerfectScoreBonus','\x27,\x20\x27','modal-timer-duration-input','บันทึกการตั้งค่าสำเร็จ','both','analyze-strengths-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','กำลังจับคู่...','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','bp-modal-shuffle-setting-select','confirm-passcode-btn','live-submit-short-answer-btn','Error\x20saving\x20questions\x20to\x20practice\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x22.\x20Ideal\x20Answer:\x20\x22','Error\x20generating\x20easy\x20version\x20quiz:','auto','close-additional-file-shortcuts-btn','leq','circ','results','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence-modal','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','\x20link(s)\x20for\x20quiz\x20ID:\x20','onerror','Invalid\x20response\x20structure\x20from\x20AI.','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','Attempting\x20to\x20save\x20game\x20results...','Error\x20pairing\x20quizzes:','eraser-tools-group','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','loader','dblclick','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','สเกลและแผนที่','<button\x20data-tab-id=\x22','s;\x22\x20title=\x22','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','อินเวอร์สของเมทริกซ์','upperGroupNames','MathJax\x20typeset\x20error\x20(analytics):','beginPath','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','Failed\x20to\x20end\x20group\x20mode\x20game:','math-topics-checkbox-container','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','#6366F1','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','CEOพันล้าน','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','\x22\x20data-name=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','back-to-dashboard-btn','answering','Error\x20saving\x20file\x20shortcut\x20config:','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','separate-by-content-checkbox','some','insertBefore','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','Error\x20during\x20deep\x20delete:','Error\x20starting\x20group\x20quiz:','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','grid','presentation-ai-result','\x20to\x20blueprint\x20topic\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20adding\x20students:','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','shortcuts','fa-user-astronaut\x20text-blue-700','input[type=\x22text\x22]','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','6591848EeLejK','กำลังสร้างบทเรียน:\x20','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','Error\x20updating\x20quiz\x20settings:','.delete-project-btn','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อยู่ในหัวข้อหลักใด:','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','Error\x20generating\x20parallel\x20test\x20from\x20bank:','กำลังสร้างแบบทดสอบ\x20\x22','เกิดข้อผิดพลาดในการโหลดโปรเจค','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','gameVariant','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','height','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-file-shortcut-tab-btn','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','\x22\x20name=\x22team_answer\x22\x20value=\x22','นอนไม่พอ','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','resize','ondragstart','lowerGroupResponders','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','slice','close-additional-parallel-shortcuts-btn','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','createdBy','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','imageCode','\x20quizzes\x20into\x20global\x20cache.','has','การคูณทศนิยม','text-red-800','dfrac','newOptionsPayload','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','leaderboard-tab','$1\x20\x5cfrac','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','correctAnswer','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','highlighter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','splice','.delete-question-editor-btn','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','Error\x20starting\x20team\x20quiz:','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','เกิดข้อผิดพลาดในการเข้าร่วมเกม','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','.delete-svg-btn','answer-counter','beforeend','sync-submit-btn','scratchpad-options','top','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20value=\x22false\x22\x20','touchstart','blueprint-topics-list','div[data-question-index=\x22','add-file-shortcut-tab-btn','fromCharCode','กรุณาป้อนหัวข้อสำหรับใบงาน','numPages','scores','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','dimmed','additional-parallel-shortcuts-list','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.ai-content\x20p','newCorrectIndex','text-red-500\x20hover:text-red-700','กำลังดึงข้อมูลจากลิงก์...','reference-pdf-upload','.delete-bp-project-btn','Error\x20listening\x20for\x20student\x20profiles:','Error\x20deleting\x20topic:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','bg-green-100\x20text-green-800','redo-btn','parallel-default-1','blueprint-upload-input','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','ลิมิต','```json','asc','ทฤษฎีทวินาม\x20(เบื้องต้น)','date_desc','จำนวนและการดำเนินการ','คะแนนเฉลี่ย','อนุพันธ์:\x20กฎลูกโซ่','กรุณาพิมพ์คำตอบของกลุ่ม','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ดูผลสรุปสุดท้าย','/studentProfiles','กำลังสแกนหาแบบทดสอบเก่า...','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','ยังไม่ส่ง','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','touchmove','modal-passing-score-input','suggestedAnswer','parallel-default-','dispatchEvent','.move-file-shortcut-menu-btn','แอบชอบ','kick-player-btn','ย้ายแบบทดสอบสำเร็จ','firstScore','innerText','confirm-bulk-quiz-settings-btn','name_asc','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างรูปภาพ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20(ส่วนนี้จะถูกจัดการโดย\x20prompt\x20ของ\x20application)\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','admin-password-input','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','modal-shuffle-select','null','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','กำลังอ่านไฟล์อ้างอิง...','[data-field=\x22subTopic\x22]','พบ\x20Sync\x20Game!','wheel','บทเรียนเรื่อง:\x20','export-leaderboard-pdf-btn','from','numeric','\x20ตัวเลือก)','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','ระยะจากจุดถึงเส้นตรง','default-2','กำลังดึงไฟล์อ้างอิงจากลิงก์...','touchend','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','key','พื้นที่สามเหลี่ยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','อัปเดตพฤติกรรมสำหรับ\x20','submit-team-answer-btn','เกมสิ้นสุดลงแล้ว','</p></div>','progress-student-select','(คัดลอก)\x20','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','parallel-shortcuts-loading-msg','sync-timer-enable-checkbox','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','.delete-parallel-shortcut-btn','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','PROMPT_PLACEHOLDER','การประยุกต์เวกเตอร์พื้นฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','</strong></p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','การแยกตัวประกอบ','ชื่อหัวข้อห้ามว่าง','(^|[^\x5c\x5c])\x5cb','div','raw','lesson-view-content','passingScore','border-green-300\x20bg-green-50','แบบเติมคำตอบ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','parallel-test-tab','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','เกิดข้อผิดพลาดในการสร้าง:\x20','live-game-view','bg-green-50','จอมเวทย์ขนมหวาน','checkbox','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','times','admin','กองดอง','student-result-area','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','answer','main-correct-answer-display','project-sort-select','gradeLevel','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','รอผู้ควบคุมไปข้อต่อไป...','index','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','sort','ใช่\x20/\x20ถูก','.start-game-btn','ตรวจคะแนนใหม่\x20','topic-bank-subtopic-name','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-rocket\x20text-purple-500','handleGeneratePracticeTest','settings','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','onkeydown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','temp-loader-results','ต้นฉบับทั้งหมด','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','whole_quiz','blueprint.pdf','back-to-student-home-btn','file-tab','.quiz-bank-try-btn','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','modal-close-btn','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','scratchpad-header','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stdDev','No\x20unanswered\x20players\x20found\x20on\x20this\x20device.\x20Waiting\x20for\x20re-render.','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20committing\x20score\x20updates:','groups.','อยู่ในสาระการเรียนรู้ใด:','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','/preferences/main','getBBox','comparison-overall-tab','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shuffle-setting-select','next-question-btn','files','การแปลงรูปอัตลักษณ์','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','274192258111','parallel-test-input-area','add-file-shortcut-btn','file-topics-list','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','body','Error\x20generating\x20lesson\x20plan:','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','add-shortcut-tab-btn','onchange','</select>','select[name=\x22question_single\x22]','bg-gray-500','quiz-bank-modal','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lastAnswerIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20','sync-short-answer-input','สู้ๆ\x20ลองอีกครั้งนะ','scheduled','handleGenerateAndShowLesson','difficultyValue','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','.highlighter-color-btn','<p><strong>คำตอบที่แนะนำ:</strong>\x20','ดอกเบี้ยทบต้น','close','right','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pre-test-checkbox','แบบทดสอบฝึกฝนเรื่อง:\x20','.move-file-shortcut-item','file-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','substring','bulk-loop-until-pass-checkbox','ยอดเยี่ยม','generate-worksheet-btn','text-emerald-800','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','message-modal','\x22\x20ออกจากคลังนี้?','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','27411472','fileShortcutOrder','perfect_score_status','quiz-form','quiz-results-view','shouldSaveResults','afterend','ฟังก์ชันแบบชิ้นส่วน','parallel-shortcut-container','isFinished','.question-editor-item:last-of-type','<div\x20class=\x22loader\x20mx-auto\x22></div>','bg-black/10','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการติดดาว','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','#parallel-shortcut-tabs-nav\x20.tab-name-input','.verification-result','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','input[name=\x22team_player\x22]:checked','move-quiz-project-select','Error\x20saving\x20parallel\x20shortcut\x20config:','.answeredCurrentQuestion','lesson-plan-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','ยอดเยี่ยม!','leaderboard-table-body','topic','.delete-shortcut-btn','bulk-quiz-settings-btn','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','\x20ใหม่...','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','ซามูไรสายเดี่ยว','globalCompositeOperation','\x22\x20data-topic=\x22','blur','\x22>ใช่</p>','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','lessonPlan','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','upper_group_count','numChoices','เลือกและเริ่มสร้าง','setFont','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</option>','parallel-shortcut_','sum','bp-modal-quiz-type-select','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','\x22\x20สำเร็จ!','options','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','pre-test','ปริมาตรรูปทรงสามมิติ','grid-view-btn','lobby','\x0a\x20\x20\x20\x20','team-student-list','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','บันทึกการตั้งค่าแล้ว','reference.txt','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','textarea','.edit-hidden-file-shortcut-btn','.txt','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','fullscreenElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','active','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','.group\x5c/dropdown-file','isAdaptive','ผู้ควบคุม\x20(ทดสอบ)','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','[data-topic-id=\x22','nickname-input','export-lesson-pdf-btn','open-sync-scratchpad-btn','#FFFFFF','per_question','comparison-individual-tab','No\x20player\x20data\x20to\x20save.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','save-game-results-checkbox','option','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22question_single\x22]:checked','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','การวัด','mousedown','.isScored','qType','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','Error\x20updating\x20old\x20quizzes:','parallel-shortcut-editor-modal','พีชคณิตและฟังก์ชัน','close-topic-bank-btn','offsetWidth','idealAnswer','reset-project-order-btn','Error\x20verifying\x20answers:','topic-bank-list','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','ทะเล','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','selected-topics-count','scrollY','bp-modal-question-complexity-select','ระยะเวลา\x20(นาที):','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หยุดระบบจับเวลาหรี่หน้าจอ','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','point','bg-green-400\x20text-white\x20font-bold','สายหมอก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20parallel\x20post-test:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','exitFullscreen','#000000','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','correctResponse','fix\x20the\x20option','text-green-600','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','.bp-view-analysis-btn','</li>','Error\x20saving\x20file\x20shortcut:','</body></html>','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','\x20คู่\x20','\x22\x20ให้เป็นคำถามประเภท\x20\x22','bulk-results-display-select','สรุปผลสุดท้าย','.delete-hidden-parallel-shortcut-btn','bg-red-100\x20text-red-800','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','icon','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','createElement','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','undo-btn','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','\x20รายการ\x20สำเร็จ!','export-pdf-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submission','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','isPasscodeEnabled','cancel-file-shortcut-edit-btn','every','rgba(255,\x20255,\x200,\x200.5)','Error\x20toggling\x20pin\x20status:','บันทึกแบบทดสอบสำเร็จแล้ว!','file-default-2','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','unshift','totalPoints','live-options-container','Error\x20fetching\x20student\x20rankings:','blueprint-settings-modal','mouse','ช่างภาพ','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','join-live-game-btn','projectOrder','โดเมนและเรนจ์','file-shortcut-container','มัธยฐาน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</div></div>','บันทึกการแก้ไข','.group\x5c/dropdown-parallel','removeChild','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','.copy-quiz-id-list-btn','</form>','onload','close-lesson-plan-modal-btn','cancel-delete-btn','.group','close-lesson-view-btn','ไอรอนแมน','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','<i\x20class=\x22fas\x20fa-save\x22></i>','file-topics-list-container','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','candidates','ใช่','bg-[#EF4444]\x20text-white\x20font-bold','MathJax\x20re-render\x20failed:','Waiting\x20for\x20server\x20timestamp\x20for\x20timer...','.linkedQuizIds','บทเรียน','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','ฐานนิยม','live-game','cancel-team-selection-btn','latestScore','classList','confidence-scoring-toggle','Error\x20starting\x20sync\x20game:','pointercancel','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','ไม่ใช่','scratchpad-question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','AI\x20did\x20not\x20return\x20any\x20content.','inactive','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','Error\x20fetching\x20projects\x20for\x20move:','ลาเต้ไม่หวาน','[data-topic-container-id]','.move-shortcut-item','ฮิสโตแกรม','modal-timer-mode-select','ผู้เชี่ยวชาญ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.file-shortcut-tab-btn','standard','isArray','.edit-custom-topic-btn','คณิตศาสตร์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.compare-results-btn','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','export-compact-pdf-btn','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','หัวข้อที่สร้างเอง','fas\x20fa-bookmark','bp-modal-num-questions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','กำลังวิเคราะห์หัวข้อ...','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','\x5csum','results-table-container','game-pin-input','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20create/update\x20submission\x20record:','parallelShortcutOrder','/public/data/projects/','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cdot','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','Group\x20Mode','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','เกิดข้อผิดพลาดในการจับคู่','behavior-log','ข้อที่\x20','ไก่ฟ้าพญาลอ','ไม่พบข้อมูลเกม','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','onblur','button[type=\x22submit\x22]','กิจกรรมสิ้นสุดลงแล้ว','คุณแน่ใจว่าต้องการลบแท็บนี้?','message','cancel-bp-settings-btn','project-list','ค่าเฉลี่ย','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ส่วนเบี่ยงเบนเฉลี่ย','th-TH','.project-card-content','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เพิ่มคำถามใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-topics-list-container','preTestId','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','.delete-file-shortcut-btn','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','highlighter-size-slider','helvetica','\x5csqrt{$1}','\x22>จาก:\x20','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','.delete-hidden-shortcut-btn','ผ่านฉลุย','.quiz-bank-delete-btn','enable-passcode-checkbox','กรุณาพิมพ์คำตอบ','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','grabbing','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','confidenceMode','ปรับเพิ่ม/ลดเป็นร้อยละ','quiz-bank-count','ยอดนักสืบ','text-green-700\x20bg-green-100','\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','สัญกรณ์วิทยาศาสตร์','\x20pointer-events-none\x22>','อสมการค่าสัมบูรณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','retake-quiz-loop-btn','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','isCorrect','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','contents','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','export-leaderboard-word-btn','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','นินจาชาเขียว','\x22><p\x20class=\x22font-semibold\x22>','ไม่พบข้อมูลการจับคู่','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','Error\x20processing\x20file\x20shortcut\x20click:','px,\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','members','ป่าไม้','Invalid\x20response\x20structure\x20from\x20API.','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','strokeStyle','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','กรุณาใส่ชื่อใหม่','พื้นที่ผิวรูปทรงสามมิติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x20mb-2\x22>','true_false','.delete-hidden-file-shortcut-btn','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','เส้นตรง:\x20ขนาน/ตั้งฉาก','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-passcode-modal','pen','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','Error\x20saving\x20project\x20order:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','cancel-confidence-btn','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','sync-timer-duration-input','.ai-content\x20blockquote','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','การหารเศษส่วน','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','memory','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','จันทร์เจ้า','ถูก','ปริพันธ์จำกัด','cloneNode','API\x20Error\x20Body:','Failed\x20to\x20generate\x20practice\x20test:','fill','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','sync-player-list','_opt1\x22>ไม่ใช่</label></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการ...','generated','http://www.w3.org/2000/svg','width','gamePin','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bg-yellow-100','shortcut-tabs-nav','bg-green-200\x20text-green-800','parts','overflowY','.shortcut-list-item','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','องค์ประกอบของฟังก์ชัน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','<tr>','overallGroups','input[name=\x22syncVariant\x22]:checked','save','back-to-dashboard-from-bp-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','<div\x20class=\x22mb-3\x20topic-category\x22>','bg-yellow-50','โหลดนาน','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','18xmJMUX','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','\x20in\x20all\x20blueprint\x20projects.','parseInline','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','COMEBACK_KING','modal-timer-duration-label','originalTopic','starred','input[name=\x22syncVariant\x22][value=\x22classic\x22]','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20updating\x20quiz\x20status:','blueprint-options-container','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','export-pdf-btn','Error\x20regenerating\x20question\x20in\x20editor:','</th>','กราฟแท่ง\x20กราฟเส้น','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sqrt','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ครัวซองต์','cancel-shortcut-edit-btn','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','กำลังอัปเดตแบบทดสอบ\x20','typesetPromise','สมการลอการิทึม','write','cancel-quiz-edits-btn-footer','createdAt','/public/data/customMathTopics','Error\x20rendering\x20student\x20progress:','/lessons','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','timer-mode-select','คู่จิ้น','file-default-','fa-dumbbell\x20text-gray-700','\x20แบบทดสอบลงในคลังสำเร็จ!','toISOString','focus','สถานะไม่ชัดเจน','ผ่าน','#open-additional-file-shortcuts-btn','text-red-600','จำนวนนักเรียน','results-quiz-title','text','ref','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','sin','save-bp-settings-btn','.use-hidden-file-shortcut-btn','decode','อสมการเชิงเส้น','ตัวเลือก\x20ข','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','results-tab-content','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','questionId','source_document.pdf','student-initial-view','Loaded\x20','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','<div\x20class=\x22flex-1\x22></div>','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','manual-bp-grade-level','sync-timer-bar','Copy\x20command\x20failed','lineWidth','isAnonymousRevealed','bp-topic-list-container','...\x22)?','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','BOOLEAN','reveal-names-btn','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','ราชาคัมแบ็ก','quizMode','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันกำลังสองและกราฟ','Error\x20generating\x20hybrid\x20quiz:','\x20|\x20','#open-additional-parallel-shortcuts-btn','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mode','bg-green-200','\x20รายการสำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20lesson\x20to\x20project:','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','ค่าคลาดเคลื่อนของการวัด','quiz-editor-modal','getBoundingClientRect','font-bold\x20text-red-700\x20line-through','\x5cneq','confirm-admin-login-btn','rows','ออฟฟิศซินโดรม','reveal_at_end','floor','ระบบเลขและค่าประจำหลัก','เกมเมอร์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','interesting-stats-container','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','อัตราและอัตราหน่วย','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','shortcut-name-input','bg-green-100\x20font-bold','first_try_ace','mjx-container','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','แฟนทิพย์','ปลาทูคะนอง','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','.tab-name-display','cancel-blueprint-projects-btn','2-digit','confirm-delete-btn','lesson-view-modal','แบบทดสอบซ่อมเสริม','additional-file-shortcuts-modal','ฟังก์ชันผกผัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','replace','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','lower_group_count','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','</div><div\x20class=\x22space-y-2\x22>','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','เพิ่มปุ่มลัดจากไฟล์ใหม่','save-blueprint-as-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','-tab-content','additional-parallel-shortcuts-modal','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','export-word-btn','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','mainTopics','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','source_document.txt','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','รักแรกพบ','All\x20groups\x20have\x20finished.\x20Ending\x20game.','show_results_only','.submittedAt','กลุ่ม:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','[*]','</h4>','quizId','ตรีโกณมิติ','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','กำลังกลับเข้าสู่เกม\x20','matching','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','text-gray-300\x20hover:text-white','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','</span><span\x20class=\x22font-bold\x22>','<textarea\x20name=\x22question','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','activeGameSession','confirm-game-start-modal','\x20คนที่ส่ง\x20ตอบถูก\x20(','screen','\x20สำเร็จ','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timestamp','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','.ai-fix-question-btn','tan','text-green-600\x20font-bold','confirm-not-confident','teachingContent','100px','pen-tool-btn','ไม่พบข้อมูลแบบทดสอบ','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','link-url-input','studentName','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','stroke','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','file-topic-input','.group\x5c/dropdown','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','</div>\x0a</div>\x0a','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','starred-project','answered','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','student','log','ระบบอสมการ','group','https://corsproxy.io/?','student-quiz-topic','timer-duration-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','attempts','lastIndexOf','open-scratchpad-btn','topic-quiz-bank-modal','open','bar','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','generate-from-link-btn','values','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','เกิดข้อผิดพลาดในการปักหมุด','<span\x20class=\x22sort-indicator\x20ml-2\x22>','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','summary','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','_opt0\x22\x20name=\x22question','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','เศษส่วน\x20(ย่อ/ขยาย)','ไม่สามารถเพิ่มนักเรียนได้','rename-quiz-input','ความชันและเส้นตรง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','border-green-700','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','adaptive-quiz-checkbox','normal','<p\x20class=\x22font-bold\x20text-sm\x20','file-shortcut-id-input','text-green-700','ไม่พบไฟล์\x20Test\x20Blueprint','currentMode','\x20(p=','จำนวนข้อ:','update','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence-scoring-checkbox','badges','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','endsWith','การลบ','ON_FIRE','addEventListener','ส่งคำตอบ','projectSortOrder','fill_in_with_choices','ไฮเพอร์โบลา','submittedAt','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','postScore','Error\x20updating\x20sort\x20preference:','/users/','players','quiz-id-input','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','size','currentTarget','cancel-export-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointerup','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','ฟังก์ชันยกกำลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-confidence-mode-container','length','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','tabId','border-indigo-500\x20text-indigo-600','1:274192258111:web:4120c9118229b5644dd48a','quiz','Error\x20saving\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','appendChild','สร้างชุดคำถามจับคู่','ไม่สามารถบันทึกการตั้งค่าได้','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','กำลังค้นหากิจกรรม...','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','.tab-name-input','visibilitychange','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','#add-question-editor-btn','scratchpad-canvas','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','promptFeedback','\x22\x20data-q-type=\x22','.cancel-edit-topic-btn','fixedData','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','btn','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','$$$1$','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','/public/data/blueprintProjects/','results-table','\x0a\x20\x20\x20\x20<!--\x20(PIN\x20ที่เคยอยู่ตรงนี้\x20ถูกย้ายไปแล้ว)\x20-->\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','user','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','reference_onet.pdf','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','border-red-700','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','.color-palette-popup','back-from-results-btn','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','blueprintShortcuts','ondragover','release','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','แผนการสอน:\x20','<div\x20class=\x22my-2\x22>','ไม่มีผู้ตอบตัวเลือกนี้','global-quiz-count','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ownerSVGElement','badgesCount','sync-timer-duration-container','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#D1FAE5','จับคู่เพื่อเปรียบเทียบผล','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.rename-quiz-btn','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','question-analytics-container','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','MathJax','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','confirm-confident','half_mark_status','ชีสเค้ก','result','ก่อนเรียน','export-image-btn','pop','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วงกลม:\x20คอร์ดและเส้นสัมผัส','link-tab','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','hover:bg-indigo-100','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','Error\x20loading\x20user\x20preferences:','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','linkedQuizIds','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','bg-green-500\x20hover:bg-green-600\x20text-white','project-passcode-input','Error\x20adding\x20custom\x20topic:','string','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','บันทึกการตั้งค่าการแสดงผลสำเร็จ','show-in-student-dashboard-checkbox','#26890c','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','textarea[name=\x22team_answer\x22]','<option\x20value=\x22',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','print','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','getPage','quiz-results','คณิตการเงิน/บูรณาการ','7611190bbJHJi','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','ทฤษฎีบทพีทาโกรัสและการประยุกต์','\x20(ID:\x20','application/pdf','file-shortcut-tabs-nav','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','team','คะแนน','Team\x20Quiz','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','พื้นที่สี่เหลี่ยม','cancel-parallel-shortcut-edit-btn','คาถาแยกเงาพันร่าง','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','.bp-generate-lesson-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','prod','แคลคูลัสเบื้องต้น','bulk-shuffle-select','.view-bp-lesson-btn','cancel-move-quiz-btn','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','<i\x20class=\x22fas\x20fa-magic\x22></i>','student-quiz-leaderboard-table-body','drop','Error\x20saving\x20quiz:','manual-create-blueprint-btn','Failed\x20to\x20kick\x20player\x20','presentation-modal','text-red-900','(คู่ขนาน)\x20','text-red-300\x20hover:text-red-100','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','exists','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','parallel-shortcut-url-input','กำลังอ่านไฟล์\x20Test\x20Blueprint...','ม้าดีดกะโหลก','answerText','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','contains','เรเดียนและการแปลงหน่วย','#F3E8FF','เกิดข้อผิดพลาดในการลบ','gain','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#open-additional-shortcuts-btn','trail-tool-btn','list','.unpair-quiz-btn','manage-tab','comeback_king','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สอบปกติ','topics','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เรขาคณิตวิเคราะห์','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','Error\x20saving\x20shortcut:','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pen-color-btn','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','00:00','NUMBER','post-test','cancel-quiz-edits-btn','verify-answers-btn','\x27\x20ในหัวข้อ\x20\x27','p-2\x20bg-black/10\x20rounded-md','onclick','เกิดข้อผิดพลาดในการยืนยันผู้เล่น:\x20','name','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','confirm-game-start-btn','เพื่อนสนิท','getContext','summary_chart','specialist','แบบทดสอบที่ติดดาว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','ลบหัวข้อสำเร็จ','Error\x20listening\x20for\x20custom\x20math\x20topics:','ตรวจพบการออกจากหน้าจอครบ\x20','arrayBuffer','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','game-start-mode','ปริมาตร/ความจุและการแปลง','fa-shield-alt\x20text-gray-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','Error\x20listening\x20for\x20projects:','Error\x20deleting\x20project:','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','join','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.move-shortcut-menu-btn','สามเหลี่ยม\x20(ชนิด/สมบัติ)','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','input[type=\x22radio\x22]:checked','.bp-edit-topic-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','.sort-indicator','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22confidence','add-student-btn','ไม่สามารถเริ่มเกมได้','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-controls','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','blockReason','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ครูใหญ่','Error\x20linking\x20quizzes:','check-answer-btn','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','generate-from-topic-btn','canvas','medium','scale','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','hidden','sync','leaderboard-quiz-tab-btn','ceil','custom-math-topic-input','parseFromString','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20processing\x20file\x20for\x20AI:','พบข้อสอบ\x20','ลบโปรเจคสำเร็จแล้ว','.linkedQuizId','applicationContent','cancel-quiz-status-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','lineCap','Error\x20updating\x20project\x20color:','border-red-300\x20bg-red-50','check-presentation-answer-btn','เกิดข้อผิดพลาดในการลบผลสอบ','.toggle-actions-btn','difficulty-level-select','question-complexity-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','preScore','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','project-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','practice-topic-btn','generate-from-blueprint-btn','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','.presentation-option','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','subTopic','<div\x20class=\x22answer-space\x22></div>','Error\x20updating\x20custom\x20topic:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','json','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','scrollIntoView','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','total','ARRAY','element','save-shortcut-btn','Error\x20analyzing\x20blueprint\x20topics:','.edit-parallel-shortcut-btn','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','-options\x22>','quiz-editor-questions-container','ไม่มี','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','application','questionStatus','.parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','change','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','anonymous','isNormalTopic','OBJECT','summaryContent','highlighter-size-value','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','มังกรกินจุ','move-quiz-modal','file-upload-input','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','generate-from-text-btn','after','translate(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','label','<li>','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','flex','นำแบบทดสอบออกจากคลังนี้แล้ว','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','includes','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','next-question-timed-btn','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','dragover','สลับไปโหมดนักเรียน','quiz-type-select','str','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','กัปตัน','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','red','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Error\x20starting\x20live\x20race:','กรุณาป้อนรหัสแบบทดสอบ','border-gray-200','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','modal-timer-duration-container','indexOf','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','textContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','Error\x20updating\x20pin\x20status:','function','hasOwnProperty','confirm-manual-bp-btn','close-student-rankings-btn','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','.delete-quiz-btn','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','จุด\x20เส้น\x20ระนาบ','\x5cpm','cancel-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','per-question-timer-container','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','Authentication\x20failed:','วงกลม:\x20สมการและสมบัติ','สถิติและความน่าจะเป็น','playerName','keydown','.quiz-bank-present-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','closePath','student-reading-area','duration-300','generate-from-parallel-test-btn','generated-quiz-container','):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','text-gray-100','AI\x20grading\x20failed:','confirmation-message','additional-shortcuts-list','comparison','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20title=\x22','worksheet-input-area','file-default-1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','rgba(79,\x2070,\x20229,\x200.8)','justification','bank-quiz-search-input','POST','on_fire','/public/data/syncGames','bp-modal-passing-score-input','padStart','toFixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.subTopic','removeEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','เพนกวินไฟ','shortcutId','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','ลบผลสอบของ\x20','ชนิดของข้อมูลและการเก็บข้อมูล','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','</div>','temp-loader-text-results','fa-fire\x20text-orange-500','presentation-scratchpad-btn','ไม่สามารถโหลดรายการโปรเจคได้','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','.csv','select','show-leaderboard-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอ่านและเตรียมไฟล์...','targetId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-presentation-btn','บันทึกผลการเล่นเกมของ\x20','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','txt','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','rgba(16,\x20185,\x20129,\x200.7)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แก้ระบบสมการด้วยเมทริกซ์','bg-red-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','clientY','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','tab_','practiceProblems','Leaderboard\x20update\x20transaction\x20failed:\x20','fix-lesson-latex-btn','not_confident','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','.project-card-container.opacity-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','\x5ccdot','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','\x20(สำหรับ\x20','dragend','-\x20ข้อ\x20','.topic-name-display','project-dashboard-view','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','q-explanation-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','.ai-content\x20h3','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','กุ้งเต้นแร้งกา','scrollHeight','Error\x20unpairing\x20quizzes:','loop-until-pass-checkbox','Error\x20fetching\x20lesson\x20content:','กระต่ายตื่นตูม','add-parallel-shortcut-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','join-group-activity-btn','responses','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เงินงวด\x20(อนุกรมเงินงวด)','.delete-shortcut-tab-btn','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-move-quiz-btn','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','quadraticCurveTo','Error\x20saving\x20visibility\x20settings:','toLocaleString','editable-quiz-topic','.sortable-header','bp-project-title','modal-confidence-mode-select','.quiz-status-btn','per-q-countdown','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','sync-manage-players-btn','minHeight','show_pass_fail_only','%PDF','การสร้างรูปด้วยวงเวียน–สันตรง','.edit-question-btn','save-file-shortcut-btn','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','parallelShortcutTabs','lesson-loader-text','.lastAnswerIndex','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','sync-player-management','url','perQuestionStats','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','getScreenCTM','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','AI\x20Fix\x20Error:','text-tab','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','student-progress-content','กฎของโคไซน์','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','<tr><td\x20colspan=\x22','confidence-scoring-description','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','\x22...','isLooping','ยูทูปเบอร์ฝึกหัด','ระยะทางและจุดกึ่งกลาง','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','mean','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','topicId','modal-loop-until-pass-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','N/A','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','$1\x5c%','นักเดินทาง','clearRect','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallel-default-2','explanation','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','ส่วนเบี่ยงเบนมาตรฐาน','cancel-global-activity-btn','#FCE7F3','create-project-modal','#ffffff','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','dim-overlay','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','code','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','ไม่มีคำอธิบาย','ผลรวมอนุกรม\x20(Σ)','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','แบบทดสอบ:\x20','\x20ชุดสำเร็จ!','questionIndex','กรุณาสร้างบทเรียนก่อน','wakeLock','thead','\x5cfrac{$1}{$2}','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','admin-testing','เทพทรู','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','back-to-home-manual-release','querySelectorAll','undefined','bulk-confidence-mode-select','/public/data/practiceBank','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','ข้าวมันไก่พิเศษ','Error\x20verifying\x20answers\x20in\x20editor:','ข้อต่อไป','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','global-quiz-search-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','lesson-view-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','#10B981','.edit-hidden-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','devicePixelRatio','teacherSuggestions','sync-timer-countdown','Error\x20moving\x20quiz:','presentation-short-answer-input','\x22.\x20','lesson-plan-content','points','behavior-log-tab-btn','shortcut-id-input','Successfully\x20removed\x20','setAttributeNS','มูเตลู','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','user-id-display','สรุปผลการวิเคราะห์:\x5cn','คำถามถัดไป','.topic-name-input','ไฟล์ลัด\x201','.delete-parallel-shortcut-tab-btn'];_0x5ebe=function(){return _0x427e66;};return _0x5ebe();}function handleClearAllLinksForTopic(_0x4adde7){const _0x24293c=_0x36ca11;showConfirmation(_0x24293c(0x48b),async()=>{const _0x128b56=_0x24293c;try{const _0x3a7938=doc(db,'artifacts/'+appId+_0x128b56(0x2ba),currentBlueprintProjectId);await updateDoc(_0x3a7938,{['topics.'+_0x4adde7+_0x128b56(0x7c4)]:[]}),showMessage(_0x128b56(0xc4c)),openTopicQuizBank(_0x4adde7),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x53fa13){console['error']('Error\x20clearing\x20all\x20links:',_0x53fa13),showMessage('เกิดข้อผิดพลาดในการล้างการเชื่อมโยง');}});}function showPodiumView(_0x517cc3,_0x295c28=_0x36ca11(0xcc9)){const _0x16aa33=_0x36ca11,_0x32f290=Object[_0x16aa33(0xd3b)](_0x517cc3)['map'](([_0x544285,_0x51ab1d])=>({'name':_0x544285,'score':_0x51ab1d[_0x16aa33(0x2ad)]||0x0,'badges':_0x51ab1d[_0x16aa33(0x994)]||[],'hasPerfectScoreBonus':_0x51ab1d[_0x16aa33(0x56a)]||![]}));_0x32f290[_0x16aa33(0x68d)]((_0x3794a0,_0x1c5433)=>{const _0x1e956f=_0x16aa33,_0x192577=_0x1c5433[_0x1e956f(0x2ad)]-_0x3794a0[_0x1e956f(0x2ad)];if(_0x192577!==0x0)return _0x192577;return(_0x1c5433['badges'][_0x1e956f(0x9b1)]||0x0)-(_0x3794a0[_0x1e956f(0x994)][_0x1e956f(0x9b1)]||0x0);});const _0x40d548=_0x38fd98=>{const _0x1a9dfb=_0x16aa33;if(!_0x38fd98||_0x38fd98[_0x1a9dfb(0x9b1)]===0x0)return'';const _0xce778a={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x1a9dfb(0xb8d)+_0x38fd98[_0x1a9dfb(0xcf7)](_0x23be3c=>_0xce778a[_0x23be3c]||'')['join']('')+_0x1a9dfb(0xb49);},_0x1fac0d=_0x32f290['slice'](0x3),_0x1e9275=_0x1fac0d[_0x16aa33(0x9b1)]>0x0?_0x16aa33(0xc2e)+_0x1fac0d['map']((_0x477e32,_0x47bf88)=>{const _0x5ca164=_0x16aa33,_0xaaa16d=_0x477e32['hasPerfectScoreBonus']?_0x5ca164(0x34c):'';return _0x5ca164(0xc41)+(_0x47bf88+0x4)+_0x5ca164(0x2d2)+_0x477e32[_0x5ca164(0xa69)]+_0x5ca164(0x3b7)+_0x477e32[_0x5ca164(0x2ad)]+_0x5ca164(0xda7)+_0xaaa16d+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x16aa33(0xa81)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>':'',_0xfa4ce=_0x16aa33(0x7f2)+(_0x32f290[0x1]?_0x16aa33(0xca6)+_0x32f290[0x1][_0x16aa33(0xa69)]+_0x16aa33(0x472)+_0x40d548(_0x32f290[0x1][_0x16aa33(0x994)])+'<p\x20class=\x22text-xl\x22>'+_0x32f290[0x1][_0x16aa33(0x2ad)]+'\x20คะแนน\x20'+(_0x32f290[0x1]['hasPerfectScoreBonus']?_0x16aa33(0x2a5):'')+_0x16aa33(0x83c):_0x16aa33(0x8d5))+_0x16aa33(0x727)+(_0x32f290[0x0]?_0x16aa33(0x399)+_0x32f290[0x0][_0x16aa33(0xa69)]+_0x16aa33(0x472)+_0x40d548(_0x32f290[0x0][_0x16aa33(0x994)])+'<p\x20class=\x22text-2xl\x22>'+_0x32f290[0x0][_0x16aa33(0x2ad)]+_0x16aa33(0xda7)+(_0x32f290[0x0]['hasPerfectScoreBonus']?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x16aa33(0x230):'<div\x20class=\x22flex-1\x22></div>')+_0x16aa33(0x727)+(_0x32f290[0x2]?_0x16aa33(0xd92)+_0x32f290[0x2]['name']+'</p>'+_0x40d548(_0x32f290[0x2][_0x16aa33(0x994)])+_0x16aa33(0xd82)+_0x32f290[0x2][_0x16aa33(0x2ad)]+_0x16aa33(0xda7)+(_0x32f290[0x2][_0x16aa33(0x56a)]?_0x16aa33(0x2a5):'')+'</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>':_0x16aa33(0x8d5))+_0x16aa33(0xa82)+_0x1e9275+_0x16aa33(0x692)+(currentMode===_0x16aa33(0x67f)?_0x16aa33(0x977):_0x16aa33(0x69c))+_0x16aa33(0xad9);liveGameView[_0x16aa33(0x2bd)]=_0xfa4ce,currentMode==='admin'&&document[_0x16aa33(0xde0)](_0x16aa33(0x214))[_0x16aa33(0x999)](_0x16aa33(0x4fc),async()=>{const _0x12fe86=_0x16aa33;let _0x3a58ee;_0x295c28===_0x12fe86(0xaa1)?_0x3a58ee=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId):_0x3a58ee=doc(db,_0x12fe86(0xdd2)+appId+_0x12fe86(0xc0e),currentLiveGameId),await deleteDoc(_0x3a58ee);});}function renderSyncSummaryView(_0x54dd26,_0x44a29c,_0x40fa16){const _0x44b956=_0x36ca11,_0x487733=_0x54dd26['gameVariant']||_0x44b956(0x491),_0x3d6e22=_0x487733===_0x44b956(0xae0)&&_0x54dd26[_0x44b956(0x8dc)]===![],_0x4811ea=Object['values'](_0x54dd26[_0x44b956(0x9a3)]||{}),_0x1c01c6=_0x54dd26['shuffledQuiz']['questions'],_0x345ad1=_0x44a29c[_0x44b956(0x55e)]||_0x54dd26[_0x44b956(0xd6c)][_0x44b956(0xcfa)];let _0x13d260=[];_0x345ad1===_0x44b956(0x84a)?_0x13d260=[_0x44b956(0x68e),_0x44b956(0x42a)]:_0x13d260=_0x44a29c[_0x44b956(0x72e)]||[];const _0x460e27=new Array(_0x13d260[_0x44b956(0x9b1)])[_0x44b956(0x86c)](0x0),_0x3bd70d={};_0x13d260[_0x44b956(0x532)]((_0x9b7d1f,_0x5e2666)=>{_0x3bd70d[_0x5e2666]=[];}),Object['entries'](_0x54dd26[_0x44b956(0x9a3)]||{})['forEach'](([_0x58c398,_0x38b2e7])=>{const _0x40c3b8=_0x44b956;if(_0x38b2e7['status']!==_0x40c3b8(0x7d4)&&_0x38b2e7[_0x40c3b8(0x6d2)]!==undefined&&_0x38b2e7['lastAnswerIndex']!==null){const _0x59dcb6=_0x38b2e7[_0x40c3b8(0x6d2)];if(_0x3bd70d[_0x59dcb6]!==undefined){const _0x1b9663=_0x3d6e22?_0x54dd26[_0x40c3b8(0xd42)][_0x58c398]||_0x40c3b8(0x3ab):_0x58c398;_0x3bd70d[_0x59dcb6]['push'](_0x1b9663),_0x460e27[_0x59dcb6]++;}}});let _0x371331='';const _0x1971b6=_0x54dd26[_0x44b956(0xca1)]>=_0x1c01c6[_0x44b956(0x9b1)]-0x1;_0x40fa16?_0x487733===_0x44b956(0x8fa)?_0x1971b6?_0x371331='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x20(เริ่มข้อ\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>':_0x371331='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>':_0x371331=_0x44b956(0x38d):_0x487733==='reveal_at_end'?_0x371331=_0x44b956(0x9a7):_0x371331=_0x44b956(0x305);const _0x3b1f84=_0x40fa16?_0x44b956(0x337)+_0x54dd26['pin']+_0x44b956(0x386):'',_0x48b30e=_0x44b956(0x6d3)+_0x3b1f84+_0x44b956(0x355)+_0x44a29c[_0x44b956(0xc60)]+_0x44b956(0x946)+_0x460e27['map']((_0x5f5812,_0x492a77)=>{const _0x28d661=_0x44b956,_0x546c75=_0x3bd70d[_0x492a77][_0x28d661(0x9b1)]>0x0?_0x3bd70d[_0x492a77]['join'](',\x20'):_0x28d661(0x9e5),_0x3d02a0=_0x28d661(0x59d);return _0x28d661(0x862)+_0x5f5812+_0x28d661(0x3b2)+_0x3d02a0+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x492a77+_0x28d661(0xa9f)+_0x13d260[_0x492a77]+_0x28d661(0xbaa)+_0x492a77+_0x28d661(0xb56)+_0x546c75+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x44b956(0xa81)]('')+_0x44b956(0x83f)+_0x371331+_0x44b956(0x27d);liveGameView[_0x44b956(0x2bd)]=_0x48b30e;if(window[_0x44b956(0x9f7)])MathJax[_0x44b956(0x8aa)]();if(_0x40fa16){const _0x4ec077=doc(db,_0x44b956(0xdd2)+appId+_0x44b956(0xb3a),currentLiveGameId);document[_0x44b956(0xde0)](_0x44b956(0x3b6))?.[_0x44b956(0x999)]('click',async()=>{const _0xe4579=_0x44b956;await updateDoc(_0x4ec077,{'status':_0xe4579(0x57f)});}),document[_0x44b956(0xde0)](_0x44b956(0x74c))?.[_0x44b956(0x999)](_0x44b956(0x4fc),()=>{openScratchpad(_0x44a29c,_0x13d260);}),document[_0x44b956(0xde0)](_0x44b956(0xcdd))?.[_0x44b956(0x999)](_0x44b956(0x4fc),async()=>{const _0x561436=_0x44b956,_0x487658=_0x54dd26['currentQuestionIndex']+0x1,_0xa86a20={};Object[_0x561436(0xd97)](_0x54dd26[_0x561436(0x9a3)])['forEach'](_0x5b260c=>{const _0xc5661=_0x561436;_0xa86a20[_0xc5661(0x250)+_0x5b260c+_0xc5661(0x339)]=![],_0xa86a20[_0xc5661(0x250)+_0x5b260c+_0xc5661(0xba4)]=null;}),await updateDoc(_0x4ec077,{..._0xa86a20,'status':_0x561436(0x359),'currentQuestionIndex':_0x487658,'questionDisplayedAt':serverTimestamp()});}),document['getElementById']('show-final-results-btn')?.['addEventListener'](_0x44b956(0x4fc),async()=>{const _0x3ed771=_0x44b956;await updateDoc(_0x4ec077,{'status':_0x3ed771(0x57f),'reviewQuestionIndex':0x0});});}}function renderAnonymousStudentResultsView(_0x33e5aa){const _0x58709c=_0x36ca11,_0x189d4d=_0x33e5aa[_0x58709c(0xca1)]>=_0x33e5aa['shuffledQuiz'][_0x58709c(0x4f1)][_0x58709c(0x9b1)]-0x1;let _0x1b3818='';if(_0x33e5aa['isAnonymousRevealed']===!![]){const _0x4a9d39=_0x33e5aa[_0x58709c(0x9a3)][localTeamPlayers[0x0]],_0x125fff=_0x4a9d39['name'],_0x11ea40=_0x4a9d39[_0x58709c(0x2ad)];_0x1b3818=_0x58709c(0xb1b)+_0x125fff+_0x58709c(0x908)+_0x11ea40+_0x58709c(0x2d9);}else _0x1b3818=_0x58709c(0xc84)+(_0x189d4d?_0x58709c(0x2a0):_0x58709c(0x689))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';const _0x2ff8f2=_0x58709c(0x543)+_0x1b3818+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x58709c(0x2bd)]=_0x2ff8f2;}async function handleShowStudentRankings(){const _0x562e36=_0x36ca11,_0x1815b8=document[_0x562e36(0xce2)]('#student-quiz-leaderboard-content\x20thead');_0x1815b8&&(_0x1815b8['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x7de642=document['querySelector'](_0x562e36(0x4c4));_0x7de642&&(_0x7de642['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x44d88c=document['getElementById']('student-rankings-modal');_0x44d88c[_0x562e36(0x7cb)][_0x562e36(0x4cd)](_0x562e36(0xaa0)),document[_0x562e36(0xde0)](_0x562e36(0xb12))['onclick']=()=>_0x44d88c[_0x562e36(0x7cb)]['add'](_0x562e36(0xaa0));const _0x2db2a2=document[_0x562e36(0xde0)]('student-quiz-leaderboard-tab'),_0x5c0bc4=document['getElementById'](_0x562e36(0xcba)),_0x3d5801=document['getElementById'](_0x562e36(0xc20)),_0x59271c=document[_0x562e36(0xde0)]('student-project-leaderboard-content');_0x2db2a2['onclick']=()=>{const _0x387131=_0x562e36;_0x2db2a2[_0x387131(0x7cb)][_0x387131(0x23b)]('active'),_0x5c0bc4[_0x387131(0x7cb)][_0x387131(0x4cd)](_0x387131(0x742)),_0x3d5801[_0x387131(0x7cb)]['remove'](_0x387131(0xaa0)),_0x59271c['classList']['add'](_0x387131(0xaa0));},_0x5c0bc4['onclick']=()=>{const _0x41feeb=_0x562e36;_0x5c0bc4['classList'][_0x41feeb(0x23b)](_0x41feeb(0x742)),_0x2db2a2[_0x41feeb(0x7cb)][_0x41feeb(0x4cd)](_0x41feeb(0x742)),_0x59271c[_0x41feeb(0x7cb)][_0x41feeb(0x4cd)](_0x41feeb(0xaa0)),_0x3d5801['classList'][_0x41feeb(0x23b)]('hidden');};try{const _0x33c978=collection(db,_0x562e36(0xdd2)+appId+_0x562e36(0xd9a)+currentQuizData['id']+_0x562e36(0x316)),_0x2763ac=await getDocs(_0x33c978),_0x43ecda=_0x2763ac[_0x562e36(0x309)][_0x562e36(0xcf7)](_0x3c7611=>_0x3c7611[_0x562e36(0x518)]());renderQuizLeaderboard(_0x43ecda,currentQuizData,'student-quiz-leaderboard-table-body');const _0x442483=collection(db,_0x562e36(0xdd2)+appId+_0x562e36(0x7f5)+currentQuizData[_0x562e36(0x264)]+_0x562e36(0x629)),_0x20a9dc=await getDocs(_0x442483),_0x41728e=_0x20a9dc[_0x562e36(0x309)][_0x562e36(0xcf7)](_0x57bcdf=>_0x57bcdf['data']());renderLeaderboard(_0x41728e,_0x562e36(0xcc8));}catch(_0x4691f6){console[_0x562e36(0x3c3)](_0x562e36(0x7a2),_0x4691f6),showMessage(_0x562e36(0xdf4));}}async function handleSaveToBank(_0x38586c){const _0x372edc=_0x36ca11,_0x3302e2=_0x38586c['currentTarget'],_0x4524a4=_0x3302e2[_0x372edc(0xdcf)][_0x372edc(0x68a)],_0x271179=currentQuizData['questions'][_0x4524a4];if(!userId){showMessage(_0x372edc(0xd89));return;}try{const _0x1fef4f={..._0x271179,'originalTopic':currentQuizData[_0x372edc(0x714)],'savedAt':serverTimestamp()},_0x26ccdb=collection(db,_0x372edc(0xdd2)+appId+_0x372edc(0x9a2)+userId+_0x372edc(0x4d3));await addDoc(_0x26ccdb,_0x1fef4f),showMessage(_0x372edc(0x3df)),_0x3302e2[_0x372edc(0x7cb)][_0x372edc(0x4cd)]('text-purple-600'),_0x3302e2['classList'][_0x372edc(0x23b)]('text-green-600'),_0x3302e2[_0x372edc(0xc4f)]=!![];}catch(_0x549692){console[_0x372edc(0x3c3)](_0x372edc(0xddb),_0x549692),showMessage(_0x372edc(0x2bc));}}async function selectProjectAndGenerateBlueprintQuiz(_0x6abcd8,_0x24f941=null,_0x3a56e2=null,_0x1f58f7=![]){const _0x2fc553=_0x36ca11;cameFromBlueprint=!![];const _0x2f747f=document[_0x2fc553(0xde0)](_0x2fc553(0x3d7))?.[_0x2fc553(0xd73)][_0x2fc553(0x3ac)]();let _0x4b71b0=null;if(_0x2f747f){showMessage('กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...');try{const _0x44bb4e=await fetchFileFromUrl(_0x2f747f,_0x2fc553(0x9d5)),_0x3cbd36=await new Promise((_0x325ce4,_0x251408)=>{const _0x2517a4=_0x2fc553,_0x2b8c1a=new FileReader();_0x2b8c1a[_0x2517a4(0x4fd)](_0x44bb4e),_0x2b8c1a['onload']=()=>_0x325ce4(_0x2b8c1a['result']['split'](',')[0x1]),_0x2b8c1a[_0x2517a4(0x584)]=_0x251408;});_0x4b71b0=[{'inlineData':{'mimeType':_0x44bb4e['type'],'data':_0x3cbd36}}],messageModal[_0x2fc553(0x7cb)][_0x2fc553(0x23b)]('hidden');}catch(_0x322a4d){console[_0x2fc553(0x3c3)]('Could\x20not\x20fetch\x20reference\x20file:',_0x322a4d),showMessage(_0x2fc553(0xac8));}}const _0x2a65b7=document[_0x2fc553(0xde0)](_0x2fc553(0xae7)),_0x58339e=document['getElementById'](_0x2fc553(0x70b)),_0x16f63b=_0x2a65b7[_0x2fc553(0xce2)]('h3'),_0x1f4b7d=document[_0x2fc553(0xde0)](_0x2fc553(0xb8c)),_0x346d94=document['getElementById'](_0x2fc553(0xa33));_0x16f63b[_0x2fc553(0xb0c)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x1f4b7d[_0x2fc553(0xb0c)]=_0x2fc553(0x724),_0x1f4b7d[_0x2fc553(0xc4f)]=!![];allProjects[_0x2fc553(0x9b1)]===0x0?_0x58339e[_0x2fc553(0x2bd)]=_0x2fc553(0x88e):(_0x58339e[_0x2fc553(0x2bd)]=_0x2fc553(0x987)+allProjects[_0x2fc553(0xcf7)](_0x17b109=>_0x2fc553(0xa16)+_0x17b109['id']+'\x22>'+_0x17b109[_0x2fc553(0xd30)]+_0x2fc553(0x728))[_0x2fc553(0xa81)](''),_0x1f4b7d['disabled']=![]);_0x2a65b7[_0x2fc553(0x7cb)]['remove'](_0x2fc553(0xaa0));const _0x7bfa39=async()=>{const _0x44090e=_0x2fc553,_0x2e8102=_0x58339e['value'];if(!_0x2e8102){showMessage(_0x44090e(0x33b));return;}_0x2a65b7[_0x44090e(0x7cb)][_0x44090e(0x23b)](_0x44090e(0xaa0)),document[_0x44090e(0xde0)](_0x44090e(0x522))[_0x44090e(0x7cb)][_0x44090e(0x23b)](_0x44090e(0xaa0)),await loadProjectDetails(_0x2e8102),showView(_0x44090e(0x46c)),handleGenerateQuizFromBlueprintTopic(_0x6abcd8,_0x24f941,_0x2e8102,_0x3a56e2,_0x1f58f7,_0x4b71b0),_0x5d842f();},_0x5d842f=()=>{const _0x3d9e36=_0x2fc553;_0x16f63b[_0x3d9e36(0xb0c)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x1f4b7d[_0x3d9e36(0xb0c)]=_0x3d9e36(0x31f),_0x1f4b7d[_0x3d9e36(0xb40)](_0x3d9e36(0x4fc),_0x7bfa39),_0x346d94[_0x3d9e36(0xb40)]('click',_0x5d842f),_0x1f4b7d[_0x3d9e36(0x999)](_0x3d9e36(0x4fc),confirmMoveQuiz);};_0x1f4b7d[_0x2fc553(0xb40)](_0x2fc553(0x4fc),confirmMoveQuiz),_0x1f4b7d['addEventListener'](_0x2fc553(0x4fc),_0x7bfa39),_0x346d94[_0x2fc553(0x999)](_0x2fc553(0x4fc),_0x5d842f);}function listenForStarredQuizzes(){const _0x1852be=_0x36ca11;if(!userId)return;const _0x240032=collection(db,_0x1852be(0xdd2)+appId+_0x1852be(0x365)),_0x3f9f80=query(_0x240032,where('isStarred','==',!![]));onSnapshot(_0x3f9f80,_0xe71d39=>{const _0x15edc5=_0x1852be;starredQuizzes=_0xe71d39[_0x15edc5(0x309)][_0x15edc5(0xcf7)](_0x12b3a4=>({'id':_0x12b3a4['id'],..._0x12b3a4[_0x15edc5(0x518)]()})),currentProjectId===_0x15edc5(0x897)?renderQuizzes():renderProjects();},_0x41a1f9=>{const _0x139ced=_0x1852be;console[_0x139ced(0x3c3)](_0x139ced(0xca8),_0x41a1f9);});}function listenForFileShortcuts(){const _0x269b0b=_0x36ca11,_0x41bcd8=doc(db,_0x269b0b(0xd5e),_0x269b0b(0xd95));onSnapshot(_0x41bcd8,_0x356674=>{const _0x587427=_0x269b0b;let _0x295d2b=[],_0x511dc9=[],_0x58571d={};if(_0x356674[_0x587427(0xa40)]()){const _0x2b736a=_0x356674[_0x587427(0x518)]();_0x295d2b=_0x2b736a[_0x587427(0x5b9)]||[],_0x511dc9=_0x2b736a[_0x587427(0x49f)]||[],_0x58571d=_0x2b736a[_0x587427(0x6f8)]||{};}!_0x511dc9[_0x587427(0x349)](_0x131823=>_0x131823['id']===_0x587427(0x45e))&&_0x511dc9[_0x587427(0x79f)]({'id':'all','name':'ไฟล์ทั้งหมด','isDefault':!![]}),!_0x295d2b[_0x587427(0x349)](_0x279677=>_0x279677['id']===_0x587427(0xb33))&&_0x295d2b[_0x587427(0x79f)]({'id':_0x587427(0xb33),'name':_0x587427(0xc0b),'url':'','isDefault':!![]}),!_0x295d2b['find'](_0x2708da=>_0x2708da['id']===_0x587427(0x79d))&&_0x295d2b['unshift']({'id':'file-default-2','name':_0x587427(0x34d),'url':'','isDefault':!![]}),fileShortcuts=_0x295d2b,fileShortcutTabs=_0x511dc9,fileShortcutOrder=_0x58571d,renderFileShortcuts(),!document['getElementById'](_0x587427(0x913))[_0x587427(0x7cb)][_0x587427(0xa47)](_0x587427(0xaa0))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x1cee27=_0x36ca11,_0x417037=doc(db,'globalSettings',_0x1cee27(0xd95));try{await setDoc(_0x417037,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x2b771b){console['error'](_0x1cee27(0x5a6),_0x2b771b);}}function renderAdditionalFileShortcutsModal(){const _0xf46728=_0x36ca11,_0x3eabbb=document[_0xf46728(0xde0)](_0xf46728(0xa22)),_0x1c3c48=document[_0xf46728(0xde0)](_0xf46728(0xde3));if(!_0x3eabbb||!_0x1c3c48)return;_0x3eabbb[_0xf46728(0x2bd)]=fileShortcutTabs[_0xf46728(0xcf7)](_0x4a6da7=>{const _0x5d8f46=_0xf46728,_0x209136=_0x4a6da7['id']===activeFileShortcutTabId;return'<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x4a6da7['id']+_0x5d8f46(0x7fa)+(_0x209136?_0x5d8f46(0x9b4):_0x5d8f46(0x5b5))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x4a6da7[_0x5d8f46(0xa69)]+_0x5d8f46(0x317)+_0x4a6da7[_0x5d8f46(0xa69)]+_0x5d8f46(0x710)+(!_0x4a6da7[_0x5d8f46(0x33a)]?_0x5d8f46(0x590)+_0x4a6da7['id']+'\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+_0x5d8f46(0x96c);})['join']('');const _0x124c5e=fileShortcutTabs[_0xf46728(0x349)](_0x4a3fd3=>_0x4a3fd3['id']===activeFileShortcutTabId);let _0x4595d3=_0x124c5e?.['isDefault']?[...fileShortcuts]:fileShortcuts['filter'](_0x4e9803=>(_0x124c5e?.[_0xf46728(0x54c)]||[])[_0xf46728(0xaf6)](_0x4e9803['id']));const _0x20af2a=fileShortcutOrder[activeFileShortcutTabId]||[];_0x4595d3[_0xf46728(0x68d)]((_0xd7aae3,_0x24a42c)=>{const _0x2796a4=_0xf46728,_0x296e16=_0x20af2a[_0x2796a4(0xb0a)](_0xd7aae3['id']),_0x531984=_0x20af2a[_0x2796a4(0xb0a)](_0x24a42c['id']);return(_0x296e16===-0x1?Infinity:_0x296e16)-(_0x531984===-0x1?Infinity:_0x531984);}),_0x1c3c48[_0xf46728(0x2bd)]=_0x4595d3['map'](_0x4dcfa6=>{const _0x44e271=_0xf46728,_0x3c1a5f=_0x4dcfa6['url']?'📄':'🔗',_0x3d0791=fileShortcutTabs['filter'](_0x32a36b=>!_0x32a36b['isDefault']),_0x565e96=_0x124c5e[_0x44e271(0x33a)]&&_0x3d0791[_0x44e271(0x9b1)]>0x0?_0x44e271(0x36b)+_0x3d0791[_0x44e271(0xcf7)](_0x214b50=>_0x44e271(0x7e7)+_0x4dcfa6['id']+_0x44e271(0x470)+_0x214b50['id']+'\x22>'+_0x214b50[_0x44e271(0xa69)]+_0x44e271(0xd28))[_0x44e271(0xa81)]('')+_0x44e271(0xd84):'';return _0x44e271(0x438)+_0x4dcfa6['id']+_0x44e271(0xd1f)+_0x3c1a5f+'\x20'+_0x4dcfa6[_0x44e271(0xa69)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4dcfa6['id']+_0x44e271(0xaca)+_0x4dcfa6['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x4dcfa6[_0x44e271(0x33a)]?'<button\x20data-id=\x22'+_0x4dcfa6['id']+_0x44e271(0x9bc):'')+_0x44e271(0xd09)+(!_0x124c5e[_0x44e271(0x33a)]?_0x44e271(0x3a4)+_0x4dcfa6['id']+_0x44e271(0x4d6):'')+_0x44e271(0xd09)+_0x565e96+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0xf46728(0xa81)]('')||_0xf46728(0x420),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x115d91=_0x36ca11;document['querySelectorAll'](_0x115d91(0x7de))['forEach'](_0x2b1518=>{const _0x3d3ae9=_0x115d91;_0x2b1518[_0x3d3ae9(0xa67)]=_0x52f480=>{const _0x465555=_0x3d3ae9;activeFileShortcutTabId=_0x52f480[_0x465555(0x9a9)][_0x465555(0xdcf)][_0x465555(0x9b3)],renderAdditionalFileShortcutsModal();},_0x2b1518[_0x3d3ae9(0x1ed)]=_0x2c3ca7=>{const _0x196142=_0x3d3ae9,_0x2fac51=_0x2c3ca7[_0x196142(0x9a9)][_0x196142(0xce2)](_0x196142(0x9c0));_0x2c3ca7[_0x196142(0x9a9)]['querySelector'](_0x196142(0x90d))[_0x196142(0x7cb)][_0x196142(0x23b)](_0x196142(0xaa0)),_0x2fac51[_0x196142(0x7cb)][_0x196142(0x4cd)]('hidden'),_0x2fac51['focus'](),_0x2fac51['select']();};}),document[_0x115d91(0xbe7)]('#file-shortcut-tabs-nav\x20.tab-name-input')[_0x115d91(0x532)](_0x1a2f7d=>{const _0x422d2b=_0x115d91,_0x5c8570=()=>{const _0x1dfc47=_0x4cf2,_0x5a897d=_0x1a2f7d['closest'](_0x1dfc47(0x7de))['dataset']['tabId'],_0x112e8b=fileShortcutTabs['find'](_0x5413f4=>_0x5413f4['id']===_0x5a897d);_0x112e8b&&(_0x112e8b[_0x1dfc47(0xa69)]=_0x1a2f7d[_0x1dfc47(0xd73)][_0x1dfc47(0x3ac)]()||_0x112e8b['name'],saveFileShortcutConfig());};_0x1a2f7d[_0x422d2b(0x801)]=_0x5c8570,_0x1a2f7d[_0x422d2b(0x699)]=_0x5ef222=>{const _0x5eb86d=_0x422d2b;if(_0x5ef222[_0x5eb86d(0x655)]===_0x5eb86d(0x35b))_0x1a2f7d[_0x5eb86d(0x71d)]();};}),document['querySelectorAll'](_0x115d91(0x5d1))[_0x115d91(0x532)](_0x49fbad=>_0x49fbad[_0x115d91(0xa67)]=_0x12a4da=>{const _0x2960c0=_0x115d91,_0x1d657c=_0x12a4da[_0x2960c0(0x9a9)]['dataset']['tabId'];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0x59f032=_0x2960c0;fileShortcutTabs=fileShortcutTabs[_0x59f032(0x273)](_0x6077e2=>_0x6077e2['id']!==_0x1d657c),delete fileShortcutOrder[_0x1d657c];if(activeFileShortcutTabId===_0x1d657c)activeFileShortcutTabId='all';saveFileShortcutConfig();});}),document['querySelectorAll'](_0x115d91(0x6e4))[_0x115d91(0x532)](_0x47b858=>_0x47b858[_0x115d91(0xa67)]=_0x32bd5a=>{const _0x4723dc=_0x115d91;_0x32bd5a[_0x4723dc(0x4c8)]();const {shortcutId:_0x25f854,targetTabId:_0x3e8870}=_0x32bd5a['currentTarget'][_0x4723dc(0xdcf)],_0x555381=fileShortcutTabs['find'](_0x3bd061=>_0x3bd061['id']===_0x3e8870);_0x555381&&!_0x555381[_0x4723dc(0x54c)]['includes'](_0x25f854)&&(_0x555381[_0x4723dc(0x54c)]['push'](_0x25f854),saveFileShortcutConfig());}),document[_0x115d91(0xbe7)]('.remove-file-shortcut-from-tab-btn')[_0x115d91(0x532)](_0x323a9f=>_0x323a9f['onclick']=_0x3d9b84=>{const _0x44114c=_0x115d91,_0x20384e=_0x3d9b84[_0x44114c(0x9a9)][_0x44114c(0xdcf)][_0x44114c(0xb43)],_0x290345=fileShortcutTabs['find'](_0x4474d3=>_0x4474d3['id']===activeFileShortcutTabId);_0x290345&&!_0x290345[_0x44114c(0x33a)]&&(_0x290345['shortcutIds']=_0x290345[_0x44114c(0x54c)][_0x44114c(0x273)](_0x4d0cbc=>_0x4d0cbc!==_0x20384e),saveFileShortcutConfig());}),document[_0x115d91(0xbe7)](_0x115d91(0x634))['forEach'](_0x109805=>_0x109805['onclick']=_0x213d76=>{const _0x3c542d=_0x115d91;_0x213d76[_0x3c542d(0xd29)]();const _0x578a40=_0x213d76[_0x3c542d(0x9a9)][_0x3c542d(0x2bb)];document[_0x3c542d(0xbe7)]('.move-file-shortcut-dropdown')['forEach'](_0x52acb5=>_0x52acb5[_0x3c542d(0x7cb)][_0x3c542d(0x23b)]('hidden')),_0x578a40[_0x3c542d(0x7cb)]['remove'](_0x3c542d(0xaa0));});const _0x383d5a=document[_0x115d91(0xde0)](_0x115d91(0xde3));let _0x58fb0f=null;_0x383d5a[_0x115d91(0x5d9)]=_0x24aad1=>{const _0x2f2f20=_0x115d91;_0x58fb0f=_0x24aad1[_0x2f2f20(0x28a)]['closest'](_0x2f2f20(0x87d));if(_0x58fb0f)setTimeout(()=>_0x58fb0f['classList'][_0x2f2f20(0x23b)](_0x2f2f20(0xca3)),0x0);},_0x383d5a['ondragend']=()=>{const _0x2ee479=_0x115d91;_0x58fb0f&&(_0x58fb0f[_0x2ee479(0x7cb)][_0x2ee479(0x4cd)]('opacity-50'),_0x58fb0f=null);},_0x383d5a[_0x115d91(0x9dd)]=_0x2c1d7c=>{const _0x5851ae=_0x115d91;_0x2c1d7c[_0x5851ae(0x4c8)]();},_0x383d5a['ondrop']=_0x1db880=>{const _0x1a4eaf=_0x115d91;_0x1db880[_0x1a4eaf(0x4c8)]();if(_0x58fb0f){const _0x53bec9=[..._0x383d5a[_0x1a4eaf(0xbe7)](_0x1a4eaf(0x457))][_0x1a4eaf(0x514)]((_0x352314,_0x7cccc4)=>{const _0x31fda3=_0x1a4eaf,_0x5d4c9f=_0x7cccc4[_0x31fda3(0x8f4)](),_0x5f44d0=_0x1db880[_0x31fda3(0xb64)]-_0x5d4c9f['top']-_0x5d4c9f[_0x31fda3(0x5cf)]/0x2;return _0x5f44d0<0x0&&_0x5f44d0>_0x352314[_0x31fda3(0xc26)]?{'offset':_0x5f44d0,'element':_0x7cccc4}:_0x352314;},{'offset':Number['NEGATIVE_INFINITY']})[_0x1a4eaf(0xace)];_0x53bec9==null?_0x383d5a[_0x1a4eaf(0x9b9)](_0x58fb0f):_0x383d5a[_0x1a4eaf(0x5aa)](_0x58fb0f,_0x53bec9);const _0x2a7b69=[..._0x383d5a['querySelectorAll'](_0x1a4eaf(0x87d))]['map'](_0x3ce70f=>_0x3ce70f[_0x1a4eaf(0xdcf)]['shortcutId']);fileShortcutOrder[activeFileShortcutTabId]=_0x2a7b69,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0xb97a50=_0x36ca11,_0x205c30=prompt('กรุณาตั้งชื่อแท็บใหม่:',_0xb97a50(0x4bf));_0x205c30&&_0x205c30[_0xb97a50(0x3ac)]()&&(fileShortcutTabs[_0xb97a50(0xc15)]({'id':_0xb97a50(0xb66)+Date[_0xb97a50(0x51b)](),'name':_0x205c30[_0xb97a50(0x3ac)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x3215e6=_0x36ca11,_0x5140eb=document[_0x3215e6(0xde0)]('file-shortcut-container'),_0x46a919=document[_0x3215e6(0xde0)](_0x3215e6(0xde3)),_0x219235=document[_0x3215e6(0xde0)]('file-shortcuts-loading-msg');if(_0x219235)_0x219235[_0x3215e6(0x7cb)][_0x3215e6(0x23b)](_0x3215e6(0xaa0));if(!_0x5140eb||!_0x46a919)return;const _0x5e8f08=fileShortcuts[_0x3215e6(0x5dc)](0x0,0x4),_0x524c3d=fileShortcuts['slice'](0x4);_0x5140eb[_0x3215e6(0x2bd)]=_0x5e8f08[_0x3215e6(0xcf7)](_0x5c70ea=>{const _0x4f20c9=_0x3215e6,_0x1dad4d=_0x5c70ea[_0x4f20c9(0xba7)]&&_0x5c70ea['url'][_0x4f20c9(0x3ac)]()!=='',_0x1119d3=selectedFile&&selectedFile[_0x4f20c9(0xb43)]===_0x5c70ea['id'];let _0x328ab4=_0x4f20c9(0x97b),_0x3f23cf='🔗';if(_0x1119d3)_0x328ab4=_0x4f20c9(0x79e),_0x3f23cf=_0x4f20c9(0xcb1);else _0x1dad4d&&(_0x328ab4=_0x4f20c9(0xc51),_0x3f23cf='📄');const _0x5221bb=!_0x5c70ea[_0x4f20c9(0x33a)]?_0x4f20c9(0xc56)+_0x5c70ea['id']+_0x4f20c9(0x6a0):'';return _0x4f20c9(0x545)+_0x5c70ea['id']+_0x4f20c9(0xa06)+_0x328ab4+_0x4f20c9(0x570)+_0x3f23cf+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>'+_0x5c70ea[_0x4f20c9(0xa69)]+_0x4f20c9(0x6b1)+_0x5c70ea['id']+'\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5221bb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x3215e6(0xa81)](''),_0x524c3d[_0x3215e6(0x9b1)]>0x0&&(_0x5140eb[_0x3215e6(0x2bd)]+=_0x3215e6(0x865)),_0x524c3d[_0x3215e6(0x9b1)]>0x0?_0x46a919[_0x3215e6(0x2bd)]=_0x524c3d[_0x3215e6(0xcf7)](_0x1b3bb7=>_0x3215e6(0x793)+(_0x1b3bb7['url']?'📄':'🔗')+'\x20'+_0x1b3bb7[_0x3215e6(0xa69)]+_0x3215e6(0x47a)+_0x1b3bb7['id']+_0x3215e6(0x9e7)+_0x1b3bb7['id']+_0x3215e6(0xc57)+(!_0x1b3bb7[_0x3215e6(0x33a)]?_0x3215e6(0xc56)+_0x1b3bb7['id']+_0x3215e6(0x9bc):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''):_0x46a919['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function openFileShortcutEditor(_0x44d813=null){const _0x99b7b0=_0x36ca11,_0x597fb1=document[_0x99b7b0(0xde0)]('file-shortcut-editor-modal'),_0x4ec74a=document['getElementById']('file-shortcut-modal-title'),_0x21cd59=document[_0x99b7b0(0xde0)](_0x99b7b0(0x98b)),_0x556090=document[_0x99b7b0(0xde0)](_0x99b7b0(0x3d8)),_0x576c22=document[_0x99b7b0(0xde0)](_0x99b7b0(0x418));if(_0x44d813){const _0x479e6b=fileShortcuts[_0x99b7b0(0x349)](_0x36c524=>_0x36c524['id']===_0x44d813);if(!_0x479e6b)return;_0x4ec74a['textContent']=_0x99b7b0(0x363),_0x21cd59[_0x99b7b0(0xd73)]=_0x479e6b['id'],_0x556090[_0x99b7b0(0xd73)]=_0x479e6b[_0x99b7b0(0xa69)],_0x576c22[_0x99b7b0(0xd73)]=_0x479e6b[_0x99b7b0(0xba7)]||'';}else _0x4ec74a[_0x99b7b0(0xb0c)]=_0x99b7b0(0x91f),_0x21cd59['value']='',_0x556090[_0x99b7b0(0xd73)]='',_0x576c22[_0x99b7b0(0xd73)]='';_0x597fb1[_0x99b7b0(0x7cb)][_0x99b7b0(0x4cd)](_0x99b7b0(0xaa0));}async function saveFileShortcutChanges(){const _0x274bc8=_0x36ca11,_0xfcab31=document[_0x274bc8(0xde0)]('file-shortcut-id-input')['value'],_0x3cbf93=document['getElementById'](_0x274bc8(0x3d8))[_0x274bc8(0xd73)][_0x274bc8(0x3ac)](),_0x4e2a54=document['getElementById']('file-shortcut-url-input')['value'][_0x274bc8(0x3ac)]();if(!_0x3cbf93){showMessage(_0x274bc8(0x2b0));return;}const _0x4830c2={'id':_0xfcab31||_0x274bc8(0xc65)+Date['now'](),'name':_0x3cbf93,'url':_0x4e2a54,'isDefault':_0xfcab31[_0x274bc8(0x277)](_0x274bc8(0x8b5))};let _0x4b8c88;_0xfcab31?_0x4b8c88=fileShortcuts[_0x274bc8(0xcf7)](_0x47cbff=>_0x47cbff['id']===_0xfcab31?_0x4830c2:_0x47cbff):_0x4b8c88=[...fileShortcuts,_0x4830c2];try{const _0x4b3955=doc(db,'globalSettings',_0x274bc8(0xd95));await setDoc(_0x4b3955,{'shortcuts':_0x4b8c88},{'merge':!![]}),document['getElementById']('file-shortcut-editor-modal')['classList'][_0x274bc8(0x23b)]('hidden');}catch(_0x2e9ee4){console['error'](_0x274bc8(0x781),_0x2e9ee4),showMessage(_0x274bc8(0x2bc));}}async function handleFileShortcutClick(_0x77512e){const _0x8af7ab=_0x36ca11,_0x370634=fileShortcuts[_0x8af7ab(0x349)](_0x5b2e92=>_0x5b2e92['id']===_0x77512e);if(!_0x370634)return;if(!_0x370634['url']||_0x370634['url']['trim']()===''){openFileShortcutEditor(_0x77512e);return;}const _0x46d64a=document[_0x8af7ab(0xce2)](_0x8af7ab(0x254)+_0x77512e+'\x22]');if(_0x46d64a){const _0x510030=_0x46d64a[_0x8af7ab(0x2bd)];_0x46d64a[_0x8af7ab(0x2bd)]=_0x8af7ab(0xa46),_0x46d64a[_0x8af7ab(0xc4f)]=!![];}document[_0x8af7ab(0xbe7)]('.file-shortcut-btn')[_0x8af7ab(0x532)](_0x573fdb=>{const _0x49dd8c=_0x8af7ab;if(_0x573fdb['dataset']['id']!==_0x77512e)_0x573fdb['classList'][_0x49dd8c(0x23b)](_0x49dd8c(0xca3),_0x49dd8c(0xcc6));});try{const _0x394e56=new URL(_0x370634[_0x8af7ab(0xba7)])['pathname'],_0x3eb355=_0x394e56[_0x8af7ab(0x6eb)](_0x394e56[_0x8af7ab(0x96f)]('/')+0x1)||(_0x370634[_0x8af7ab(0xba7)][_0x8af7ab(0xaf6)](_0x8af7ab(0x73e))?_0x8af7ab(0xc8e):_0x8af7ab(0x392)),_0x513b5b=await fetchFileFromUrl(_0x370634[_0x8af7ab(0xba7)],_0x3eb355);_0x513b5b[_0x8af7ab(0xb43)]=_0x77512e,selectedFile=_0x513b5b,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document['getElementById'](_0x8af7ab(0x6e5))[_0x8af7ab(0xac9)]({'behavior':_0x8af7ab(0x486),'block':'center'});}catch(_0x518757){console[_0x8af7ab(0x3c3)](_0x8af7ab(0x83d),_0x518757),showMessage(_0x8af7ab(0xae5)+_0x518757[_0x8af7ab(0x805)]),renderFileShortcuts();}finally{document[_0x8af7ab(0xbe7)]('.file-shortcut-btn')['forEach'](_0x278afb=>{const _0x1d21ea=_0x8af7ab;_0x278afb[_0x1d21ea(0x7cb)][_0x1d21ea(0x4cd)](_0x1d21ea(0xca3),_0x1d21ea(0xcc6)),_0x278afb[_0x1d21ea(0xc4f)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x5acf27=_0x36ca11;if(allQuizzesGlobal[_0x5acf27(0x9b1)]>0x0)return;console[_0x5acf27(0x966)](_0x5acf27(0xb88)),showMessage(_0x5acf27(0x42e));try{const _0x13e885=await getDocs(collection(db,_0x5acf27(0xdd2)+appId+_0x5acf27(0x365)));allQuizzesGlobal=_0x13e885[_0x5acf27(0x309)]['map'](_0x1207b6=>({'id':_0x1207b6['id'],..._0x1207b6[_0x5acf27(0x518)]()})),console[_0x5acf27(0x966)](_0x5acf27(0x8d2)+allQuizzesGlobal['length']+_0x5acf27(0x5e2)),messageModal[_0x5acf27(0x7cb)][_0x5acf27(0x23b)](_0x5acf27(0xaa0));}catch(_0x18ff82){console['error'](_0x5acf27(0x641),_0x18ff82),messageModal[_0x5acf27(0x7cb)][_0x5acf27(0x23b)](_0x5acf27(0xaa0));throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0x173679=_0x36ca11;if(!currentQuizData||!currentQuizData[_0x173679(0x4f1)]){showMessage(_0x173679(0x5eb));return;}const _0x58b98b=currentQuizData,_0x53d507=window['open']('',_0x173679(0x43b)),_0x4074f4=_0x73e5bd=>String[_0x173679(0x604)](0x41+_0x73e5bd),_0x413b0b=_0x173679(0x6a8)+_0x58b98b[_0x173679(0x714)]+_0x173679(0xa00)+_0x58b98b[_0x173679(0x714)]+_0x173679(0x9f1)+_0x58b98b['questions'][_0x173679(0xcf7)]((_0x128460,_0x360d03)=>{const _0x4ddb79=_0x173679;let _0x3abed1='';const _0x7cfa6d=_0x128460[_0x4ddb79(0x55e)]||_0x58b98b['quizType'];switch(_0x7cfa6d){case'multiple_choice':case'fill_in_with_choices':_0x3abed1=_0x4ddb79(0x25f)+_0x128460[_0x4ddb79(0x72e)]['map']((_0x396c08,_0x67c138)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x4074f4(_0x67c138)+'.\x20'+_0x396c08+_0x4ddb79(0x850))[_0x4ddb79(0xa81)](_0x4ddb79(0x44f))+_0x4ddb79(0xb49);break;case _0x4ddb79(0x84a):_0x3abed1='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x3abed1=_0x4ddb79(0xac3);break;}return _0x4ddb79(0x408)+(_0x360d03+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x128460[_0x4ddb79(0x1f4)]||_0x128460[_0x4ddb79(0xc60)])+_0x4ddb79(0xa4e)+(_0x128460[_0x4ddb79(0x5e1)]?_0x4ddb79(0x9e4)+_0x128460['imageCode']+_0x4ddb79(0xb49):'')+_0x4ddb79(0x5b3)+_0x3abed1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x173679(0xa81)]('')+_0x173679(0xde8);_0x53d507[_0x173679(0x2ab)]['write'](_0x413b0b),_0x53d507[_0x173679(0x2ab)][_0x173679(0x6de)](),_0x53d507[_0x173679(0x7b4)]=function(){setTimeout(()=>{const _0x36cc79=_0x4cf2;_0x53d507[_0x36cc79(0xa18)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x3a0d77=_0x36ca11;if(!currentQuizData||!currentQuizData[_0x3a0d77(0x4f1)]){showMessage(_0x3a0d77(0x5eb));return;}const _0x42bd61=currentQuizData,_0x562d52=window['open']('','_blank'),_0x5428d=_0x424799=>String[_0x3a0d77(0x604)](0x41+_0x424799),_0x4bf11d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20'+_0x42bd61['topic']+_0x3a0d77(0x90b)+_0x42bd61[_0x3a0d77(0x4f1)]['map']((_0x7919a7,_0x309e92)=>{const _0xd1f514=_0x3a0d77;let _0x431864='';const _0x52941e=_0x7919a7[_0xd1f514(0x55e)]||_0x42bd61[_0xd1f514(0xcfa)];switch(_0x52941e){case _0xd1f514(0x209):case _0xd1f514(0x99c):_0x431864=_0xd1f514(0x726)+_0x7919a7[_0xd1f514(0x72e)][_0xd1f514(0xcf7)]((_0x3f8163,_0x2907c3)=>_0xd1f514(0xb03)+_0x5428d(_0x2907c3)+'.\x20'+_0x3f8163+'</span>')[_0xd1f514(0xa81)]('<br>')+_0xd1f514(0x741);break;case _0xd1f514(0x84a):_0x431864=_0xd1f514(0x924);break;default:_0x431864='';break;}return _0xd1f514(0xa0b)+_0x42bd61['topic']+_0xd1f514(0x870)+(_0x309e92+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x7919a7['stem']||_0x7919a7[_0xd1f514(0xc60)])+_0xd1f514(0xa4e)+(_0x7919a7[_0xd1f514(0x5e1)]?_0xd1f514(0x53f)+_0x7919a7['imageCode']+'</div>':'')+_0xd1f514(0x5b3)+_0x431864+_0xd1f514(0x85e);})[_0x3a0d77(0xa81)]('')+_0x3a0d77(0xdb4);_0x562d52[_0x3a0d77(0x2ab)][_0x3a0d77(0x8ac)](_0x4bf11d),_0x562d52['document'][_0x3a0d77(0x6de)](),_0x562d52[_0x3a0d77(0x7b4)]=function(){setTimeout(()=>{_0x562d52['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x11d3a7){const _0x16d3ba=_0x36ca11,_0x626b1b=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x11d3a7);try{const _0x1b2c36=await getDoc(_0x626b1b);if(_0x1b2c36[_0x16d3ba(0xa40)]()){const _0xe3a7b1=_0x1b2c36[_0x16d3ba(0x518)]()[_0x16d3ba(0x441)]||![];await updateDoc(_0x626b1b,{'isStarred':!_0xe3a7b1});}}catch(_0x5a9ea3){console[_0x16d3ba(0x3c3)]('Error\x20toggling\x20star\x20status:',_0x5a9ea3),showMessage(_0x16d3ba(0x705));}}async function displayQuestionBank(){const _0x5746ba=_0x36ca11,_0x1871a4=document[_0x5746ba(0xde0)](_0x5746ba(0xc78));_0x1871a4[_0x5746ba(0x2bd)]=_0x5746ba(0x702);try{const _0x2a7a3f=collection(db,'artifacts/'+appId+'/users/'+userId+'/questionBank'),_0x5e5331=query(_0x2a7a3f),_0x3aa0ab=await getDocs(_0x5e5331);if(_0x3aa0ab[_0x5746ba(0x52e)]){_0x1871a4[_0x5746ba(0x2bd)]='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x46141d=_0x3aa0ab['docs']['map'](_0x314ff2=>{const _0x32b56e=_0x5746ba,_0xa22af2=_0x314ff2['data'](),_0xd9b39=_0x314ff2['id'];return _0x32b56e(0x4d5)+JSON[_0x32b56e(0x2f2)](_0xa22af2)+_0x32b56e(0x859)+(_0xa22af2[_0x32b56e(0xc60)]||_0xa22af2[_0x32b56e(0x1f4)])+_0x32b56e(0x93c)+_0xa22af2[_0x32b56e(0x896)]+_0x32b56e(0x864);})['join']('');_0x1871a4['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0x46141d+_0x5746ba(0x7f1),document[_0x5746ba(0xde0)](_0x5746ba(0x2be))['addEventListener'](_0x5746ba(0x4fc),createQuizFromBank);}catch(_0x285fe1){console[_0x5746ba(0x3c3)](_0x5746ba(0x23a),_0x285fe1),_0x1871a4[_0x5746ba(0x2bd)]=_0x5746ba(0x55c);}}async function handleExportLessonToPDF(){const _0x14b8f2=_0x36ca11,_0x3d6fbd=document[_0x14b8f2(0xde0)](_0x14b8f2(0xd27)),_0x5a3b6a=document[_0x14b8f2(0xde0)](_0x14b8f2(0xbf2))[_0x14b8f2(0xb0c)]||_0x14b8f2(0x7c5);if(!_0x3d6fbd){showMessage(_0x14b8f2(0x312));return;}const _0x369e22=window[_0x14b8f2(0x972)]('',_0x14b8f2(0x43b)),_0x21f478=_0x14b8f2(0xb78)+_0x5a3b6a+_0x14b8f2(0xbd0)+_0x5a3b6a+_0x14b8f2(0x3d6)+_0x3d6fbd['innerHTML']+_0x14b8f2(0xde8);_0x369e22['document']['write'](_0x21f478),_0x369e22[_0x14b8f2(0x2ab)][_0x14b8f2(0x6de)](),_0x369e22[_0x14b8f2(0x7b4)]=function(){setTimeout(()=>{_0x369e22['print']();},0x7d0);};}function showAdminLiveQuestionView(_0x310c13,_0x53bb86,_0x4329a4){const _0x819c5c=_0x36ca11,_0x2abaf5=_0x310c13[_0x819c5c(0x55e)]||currentQuizData[_0x819c5c(0xcfa)];let _0x5abc2e='';if(_0x2abaf5===_0x819c5c(0x209)||_0x2abaf5===_0x819c5c(0x84a)){const _0xaee96b=_0x2abaf5==='true_false'?[_0x819c5c(0x7c0),'ไม่ใช่']:_0x310c13[_0x819c5c(0x72e)],_0x2ed41d=_0x2abaf5==='true_false'?_0x310c13[_0x819c5c(0x5ec)]?0x0:0x1:_0x310c13['correctAnswerIndex'];_0x5abc2e=_0xaee96b[_0x819c5c(0xcf7)]((_0x58b2a1,_0x8cd211)=>_0x819c5c(0xc3c)+(_0x8cd211===_0x2ed41d)+_0x819c5c(0x6d1)+_0x58b2a1+_0x819c5c(0xa7c))[_0x819c5c(0xa81)]('');}else{if(_0x2abaf5===_0x819c5c(0x2c9)){const _0x11305f=_0x310c13[_0x819c5c(0xd55)]||[];_0x5abc2e=_0x11305f[_0x819c5c(0xcf7)](_0x43e7f3=>_0x819c5c(0xc3c)+(_0x43e7f3===_0x310c13[_0x819c5c(0x77b)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x43e7f3+_0x819c5c(0xa7c))['join']('');}}const _0x12935a=_0x310c13[_0x819c5c(0x1f4)]||_0x310c13[_0x819c5c(0xc60)],_0x320175=_0x819c5c(0x2fa)+(_0x53bb86+0x1)+_0x819c5c(0xd99)+_0x4329a4+_0x819c5c(0x388)+currentLiveGamePin+_0x819c5c(0x6e7)+_0x12935a+_0x819c5c(0x287)+_0x5abc2e+_0x819c5c(0x9b8);liveGameView[_0x819c5c(0x2bd)]=_0x320175,window[_0x819c5c(0x9f7)]&&MathJax[_0x819c5c(0x8aa)]&&MathJax[_0x819c5c(0x8aa)]([liveGameView]),document[_0x819c5c(0xde0)](_0x819c5c(0x4c3))[_0x819c5c(0x999)](_0x819c5c(0x4fc),()=>revealAnswerForAdmin(_0x53bb86,_0x4329a4)),document[_0x819c5c(0xde0)](_0x819c5c(0xcb5))[_0x819c5c(0x999)](_0x819c5c(0x4fc),async()=>{const _0x36d8d6=_0x819c5c;showConfirmation(_0x36d8d6(0xabf),async()=>{const _0x40f0a8=_0x36d8d6,_0x242f79=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x242f79,{'status':_0x40f0a8(0x54b)});});}),document['getElementById'](_0x819c5c(0x2fd))['addEventListener'](_0x819c5c(0x4fc),()=>{const _0x289a0c=_0x819c5c;document['getElementById']('live-player-management')[_0x289a0c(0x7cb)][_0x289a0c(0x527)](_0x289a0c(0xaa0));});}function promptForProjectBeforeGenerating(_0x2ccc69){const _0x27af0c=_0x36ca11,_0x16103e=document['getElementById'](_0x27af0c(0xae7)),_0x29b6a7=document[_0x27af0c(0xde0)](_0x27af0c(0x70b)),_0xf54522=_0x16103e['querySelector']('h3'),_0x53cf4c=document[_0x27af0c(0xde0)](_0x27af0c(0xb8c)),_0x3422ef=document[_0x27af0c(0xde0)](_0x27af0c(0xa33));_0xf54522[_0x27af0c(0xb0c)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x53cf4c[_0x27af0c(0xb0c)]='เลือกและเริ่มสร้าง',_0x53cf4c[_0x27af0c(0xc4f)]=!![];allProjects[_0x27af0c(0x9b1)]===0x0?_0x29b6a7['innerHTML']='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x29b6a7[_0x27af0c(0x2bd)]=_0x27af0c(0x987)+allProjects[_0x27af0c(0xcf7)](_0x4cbdef=>_0x27af0c(0xa16)+_0x4cbdef['id']+'\x22>'+_0x4cbdef[_0x27af0c(0xd30)]+_0x27af0c(0x728))['join'](''),_0x53cf4c['disabled']=![]);_0x16103e[_0x27af0c(0x7cb)][_0x27af0c(0x4cd)](_0x27af0c(0xaa0));const _0x443606=async()=>{const _0x323fcb=_0x27af0c,_0x123bf4=_0x29b6a7['value'];if(!_0x123bf4){showMessage(_0x323fcb(0x33b));return;}_0x16103e[_0x323fcb(0x7cb)][_0x323fcb(0x23b)](_0x323fcb(0xaa0)),await loadProjectDetails(_0x123bf4),showView(_0x323fcb(0x46c)),handleGenerateQuizFromBlueprintTopic(_0x2ccc69),_0x3b9c61();},_0x3b9c61=()=>{const _0x4d78c6=_0x27af0c;_0xf54522[_0x4d78c6(0xb0c)]=_0x4d78c6(0x2a4),_0x53cf4c[_0x4d78c6(0xb0c)]=_0x4d78c6(0x31f),_0x53cf4c[_0x4d78c6(0xb40)]('click',_0x443606),_0x3422ef[_0x4d78c6(0xb40)](_0x4d78c6(0x4fc),_0x3b9c61),_0x53cf4c['addEventListener'](_0x4d78c6(0x4fc),confirmMoveQuiz);};_0x53cf4c[_0x27af0c(0xb40)](_0x27af0c(0x4fc),confirmMoveQuiz),_0x53cf4c['addEventListener'](_0x27af0c(0x4fc),_0x443606),_0x3422ef[_0x27af0c(0x999)]('click',_0x3b9c61);}function showStudentLiveQuestionView(_0x13e76d,_0x191638,_0x36a083){const _0x5000f3=_0x36ca11,_0x1a37a0=_0x13e76d[_0x5000f3(0x55e)]||currentQuizData['quizType'];let _0x495a41='';if(_0x1a37a0==='multiple_choice'||_0x1a37a0===_0x5000f3(0x84a)){const _0x3cb2af=_0x1a37a0===_0x5000f3(0x84a)?['ใช่',_0x5000f3(0x7d0)]:_0x13e76d[_0x5000f3(0x72e)];_0x495a41=_0x3cb2af[_0x5000f3(0xcf7)]((_0x125ff8,_0x47fce5)=>_0x5000f3(0xd8f)+_0x47fce5+_0x5000f3(0x4dc)+_0x125ff8+_0x5000f3(0xa8a))[_0x5000f3(0xa81)]('');}else{if(_0x1a37a0==='matching_item'){const _0x481219=_0x13e76d[_0x5000f3(0xd55)]||[];_0x495a41=_0x481219[_0x5000f3(0xcf7)]((_0x2f70ad,_0x107724)=>_0x5000f3(0xd8f)+_0x107724+_0x5000f3(0x4dc)+_0x2f70ad+_0x5000f3(0xa8a))[_0x5000f3(0xa81)]('');}else _0x1a37a0===_0x5000f3(0x44a)&&(_0x495a41='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x4fe4f6=_0x13e76d['stem']||_0x13e76d[_0x5000f3(0xc60)],_0x5d8cf2=_0x5000f3(0xaff)+(_0x191638+0x1)+'\x20/\x20'+_0x36a083+_0x5000f3(0x95b)+_0x4fe4f6+_0x5000f3(0xdce)+_0x495a41+_0x5000f3(0x704);liveGameView[_0x5000f3(0x2bd)]=_0x5d8cf2;window[_0x5000f3(0x9f7)]&&MathJax[_0x5000f3(0x8aa)]&&MathJax['typesetPromise']([liveGameView]);const _0x208f33=document['getElementById'](_0x5000f3(0x576));_0x208f33&&_0x208f33[_0x5000f3(0x999)](_0x5000f3(0x4fc),()=>{const _0x4a6387=_0x5000f3,_0x26a83c=document['getElementById'](_0x4a6387(0x3c9))[_0x4a6387(0xd73)];handleLiveAnswer(_0x26a83c,_0x13e76d);}),document[_0x5000f3(0xde0)](_0x5000f3(0x7a1))[_0x5000f3(0x999)]('click',_0x2fdbb5=>{const _0x1ba22a=_0x5000f3,_0x576666=_0x2fdbb5[_0x1ba22a(0x28a)][_0x1ba22a(0xd5a)](_0x1ba22a(0x30f));if(_0x576666){const _0x2377c3=parseInt(_0x576666['dataset'][_0x1ba22a(0x68a)]);handleLiveAnswer(_0x2377c3,_0x13e76d);}});}function listenForBlueprintShortcuts(){const _0x242c83=_0x36ca11,_0x34f453=doc(db,_0x242c83(0xd5e),'dashboardConfig');onSnapshot(_0x34f453,_0x4134c0=>{const _0x4d2ece=_0x242c83;let _0x413633=[],_0x1b46ca=[],_0x455cf5={};if(_0x4134c0[_0x4d2ece(0xa40)]()){const _0x2098ac=_0x4134c0[_0x4d2ece(0x518)]();_0x413633=_0x2098ac[_0x4d2ece(0x9dc)]||[],_0x1b46ca=_0x2098ac['shortcutTabs']||[],_0x455cf5=_0x2098ac[_0x4d2ece(0x567)]||{};}!_0x1b46ca['find'](_0x212459=>_0x212459['id']===_0x4d2ece(0x45e))&&_0x1b46ca['unshift']({'id':'all','name':_0x4d2ece(0xd23),'isDefault':!![]}),!_0x413633[_0x4d2ece(0x349)](_0x5844c0=>_0x5844c0['id']==='default-1')&&_0x413633[_0x4d2ece(0x79f)]({'id':_0x4d2ece(0x351),'name':_0x4d2ece(0x345),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x413633[_0x4d2ece(0x349)](_0x1aff04=>_0x1aff04['id']===_0x4d2ece(0x651))&&_0x413633[_0x4d2ece(0x79f)]({'id':'default-2','name':_0x4d2ece(0xdd0),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x413633,shortcutTabs=_0x1b46ca,shortcutOrder=_0x455cf5,renderBlueprintShortcuts(),!document[_0x4d2ece(0xde0)](_0x4d2ece(0x4cb))[_0x4d2ece(0x7cb)]['contains']('hidden')&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x542f08=_0x36ca11,_0x55b69e=document['getElementById'](_0x542f08(0x879)),_0x335e92=document[_0x542f08(0xde0)](_0x542f08(0xb2e));if(!_0x55b69e||!_0x335e92)return;_0x55b69e['innerHTML']=shortcutTabs['map'](_0x480f02=>{const _0x2687e7=_0x542f08,_0x568054=_0x480f02['id']===activeShortcutTabId,_0x5754c6='border-indigo-500\x20text-indigo-600',_0x182b7a=_0x2687e7(0x5b5);return _0x2687e7(0xb45)+_0x480f02['id']+'\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x568054?_0x5754c6:_0x182b7a)+_0x2687e7(0x5bc)+_0x480f02[_0x2687e7(0xa69)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x480f02['name']+_0x2687e7(0x488)+(!_0x480f02['isDefault']?_0x2687e7(0xbf5)+_0x480f02['id']+_0x2687e7(0xddc):'')+_0x2687e7(0xa7c);})[_0x542f08(0xa81)]('');const _0x122447=shortcutTabs[_0x542f08(0x349)](_0x1f94ce=>_0x1f94ce['id']===activeShortcutTabId);let _0x362e01=[];if(_0x122447){if(_0x122447[_0x542f08(0x33a)])_0x362e01=[...blueprintShortcuts];else{const _0x2c0537=_0x122447[_0x542f08(0x54c)]||[];_0x362e01=blueprintShortcuts[_0x542f08(0x273)](_0x1a47da=>_0x2c0537['includes'](_0x1a47da['id']));}}const _0x2a461e=shortcutOrder[activeShortcutTabId]||[];_0x362e01['sort']((_0x4dede9,_0x412462)=>{const _0x4c5773=_0x542f08,_0x427d08=_0x2a461e['indexOf'](_0x4dede9['id']),_0x14144d=_0x2a461e[_0x4c5773(0xb0a)](_0x412462['id']);if(_0x427d08===-0x1)return 0x1;if(_0x14144d===-0x1)return-0x1;return _0x427d08-_0x14144d;}),_0x335e92[_0x542f08(0x2bd)]=_0x362e01['length']>0x0?_0x362e01[_0x542f08(0xcf7)](_0x5a2713=>{const _0x86bce6=_0x542f08;let _0xdadef4='🧩';if(_0x5a2713[_0x86bce6(0x464)]&&_0x5a2713[_0x86bce6(0x450)])_0xdadef4='📗';else{if(_0x5a2713[_0x86bce6(0x464)])_0xdadef4='📘';}const _0x26d490=shortcutTabs[_0x86bce6(0x273)](_0x186cbe=>!_0x186cbe[_0x86bce6(0x33a)]),_0x4a82f0=_0x122447[_0x86bce6(0x33a)]&&_0x26d490[_0x86bce6(0x9b1)]>0x0?_0x86bce6(0xaf9)+_0x26d490['map'](_0x541a42=>_0x86bce6(0xd24)+_0x5a2713['id']+'\x22\x20data-target-tab-id=\x22'+_0x541a42['id']+'\x22>'+_0x541a42['name']+'</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x86bce6(0xa81)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x5a2713['id']+_0x86bce6(0x767)+_0xdadef4+'\x20'+_0x5a2713[_0x86bce6(0xa69)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5a2713['id']+_0x86bce6(0xbd7)+_0x5a2713['id']+_0x86bce6(0xa01)+(!_0x5a2713[_0x86bce6(0x33a)]?_0x86bce6(0xc56)+_0x5a2713['id']+_0x86bce6(0x571):'')+_0x86bce6(0x2e6)+(!_0x122447[_0x86bce6(0x33a)]?_0x86bce6(0x3a4)+_0x5a2713['id']+'\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x86bce6(0x2e6)+_0x4a82f0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join'](''):_0x542f08(0x420),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0xc82465=_0x36ca11;document[_0xc82465(0xbe7)](_0xc82465(0xd6a))[_0xc82465(0x532)](_0x4d6508=>{const _0x5bc336=_0xc82465;_0x4d6508[_0x5bc336(0x999)](_0x5bc336(0x4fc),_0x452a51=>{const _0x503659=_0x5bc336;activeShortcutTabId=_0x452a51[_0x503659(0x9a9)][_0x503659(0xdcf)][_0x503659(0x9b3)],renderAdditionalShortcutsModal();}),_0x4d6508['addEventListener'](_0x5bc336(0x58d),_0x2a226b=>{const _0x2369c8=_0x5bc336,_0x448125=_0x2a226b[_0x2369c8(0x9a9)];_0x448125[_0x2369c8(0xce2)]('.tab-name-display')[_0x2369c8(0x7cb)][_0x2369c8(0x23b)](_0x2369c8(0xaa0));const _0x4c46e0=_0x448125[_0x2369c8(0xce2)](_0x2369c8(0x9c0));_0x4c46e0[_0x2369c8(0x7cb)][_0x2369c8(0x4cd)](_0x2369c8(0xaa0)),_0x4c46e0['focus'](),_0x4c46e0[_0x2369c8(0xb50)]();});}),document['querySelectorAll'](_0xc82465(0x9c0))[_0xc82465(0x532)](_0x4cb793=>{const _0x44e1c=_0xc82465,_0x56c8ff=()=>{const _0x20bd06=_0x4cf2,_0xeba263=_0x4cb793[_0x20bd06(0xd5a)]('.shortcut-tab-btn')[_0x20bd06(0xdcf)][_0x20bd06(0x9b3)];handleRenameShortcutTab(_0xeba263,_0x4cb793[_0x20bd06(0xd73)]);};_0x4cb793[_0x44e1c(0x999)](_0x44e1c(0x71d),_0x56c8ff),_0x4cb793[_0x44e1c(0x999)](_0x44e1c(0xb22),_0x2252f1=>{const _0x4408f4=_0x44e1c;if(_0x2252f1[_0x4408f4(0x655)]===_0x4408f4(0x35b))_0x4cb793[_0x4408f4(0x71d)]();});}),document[_0xc82465(0xbe7)](_0xc82465(0xb87))[_0xc82465(0x532)](_0xb03a41=>{const _0x4e3a55=_0xc82465;_0xb03a41[_0x4e3a55(0x999)](_0x4e3a55(0x4fc),_0x58bfad=>handleDeleteShortcutTab(_0x58bfad[_0x4e3a55(0x9a9)][_0x4e3a55(0xdcf)][_0x4e3a55(0x9b3)]));}),document['querySelectorAll'](_0xc82465(0x7d9))['forEach'](_0x154a84=>{const _0x38cfe3=_0xc82465;_0x154a84[_0x38cfe3(0x999)]('click',_0x11d2a7=>{const _0x3fc54c=_0x38cfe3;_0x11d2a7[_0x3fc54c(0x4c8)]();const {shortcutId:_0x1b614c,targetTabId:_0x33d28b}=_0x11d2a7[_0x3fc54c(0x9a9)]['dataset'];handleMoveShortcutToTab(_0x1b614c,_0x33d28b);});}),document[_0xc82465(0xbe7)](_0xc82465(0x354))[_0xc82465(0x532)](_0x394300=>{const _0x569332=_0xc82465;_0x394300[_0x569332(0x999)](_0x569332(0x4fc),_0x294555=>{const _0x49a65a=_0x569332;handleRemoveShortcutFromTab(_0x294555[_0x49a65a(0x9a9)][_0x49a65a(0xdcf)][_0x49a65a(0xb43)],activeShortcutTabId);});});const _0x564aae=document[_0xc82465(0xde0)](_0xc82465(0xb2e));_0x564aae[_0xc82465(0xbe7)]('.use-hidden-shortcut-btn')[_0xc82465(0x532)](_0x1b586e=>{const _0x55c936=_0xc82465;_0x1b586e['addEventListener'](_0x55c936(0x4fc),()=>{const _0x43c312=_0x55c936;document[_0x43c312(0xde0)](_0x43c312(0x4cb))['classList'][_0x43c312(0x23b)](_0x43c312(0xaa0)),handleShortcutClick(_0x1b586e[_0x43c312(0xdcf)]['id']);});});let _0x31b8eb=null;_0x564aae[_0xc82465(0x999)]('dragstart',_0x28571d=>{const _0x5a6771=_0xc82465;_0x31b8eb=_0x28571d[_0x5a6771(0x28a)][_0x5a6771(0xd5a)]('.shortcut-list-item'),_0x31b8eb&&setTimeout(()=>_0x31b8eb['classList']['add']('opacity-50'),0x0);}),_0x564aae[_0xc82465(0x999)](_0xc82465(0xb72),()=>{const _0x1de693=_0xc82465;_0x31b8eb&&(_0x31b8eb['classList'][_0x1de693(0x4cd)](_0x1de693(0xca3)),_0x31b8eb=null);}),_0x564aae[_0xc82465(0x999)](_0xc82465(0xafb),_0x41b707=>{const _0xaf018a=_0xc82465;_0x41b707['preventDefault']();const _0x30e522=[..._0x564aae[_0xaf018a(0xbe7)](_0xaf018a(0x457))]['reduce']((_0x3f1efd,_0x196c5b)=>{const _0x5452ff=_0xaf018a,_0x5dcf9c=_0x196c5b[_0x5452ff(0x8f4)](),_0x1b16e7=_0x41b707['clientY']-_0x5dcf9c[_0x5452ff(0x5fd)]-_0x5dcf9c[_0x5452ff(0x5cf)]/0x2;return _0x1b16e7<0x0&&_0x1b16e7>_0x3f1efd['offset']?{'offset':_0x1b16e7,'element':_0x196c5b}:_0x3f1efd;},{'offset':Number[_0xaf018a(0xd74)]})['element'];_0x30e522==null?_0x564aae[_0xaf018a(0x9b9)](_0x31b8eb):_0x564aae[_0xaf018a(0x5aa)](_0x31b8eb,_0x30e522);}),_0x564aae['addEventListener'](_0xc82465(0xa37),_0x347458=>{const _0x4bd5ff=_0xc82465;_0x347458['preventDefault']();if(_0x31b8eb){const _0x3eb94b=[..._0x564aae[_0x4bd5ff(0xbe7)](_0x4bd5ff(0x87d))][_0x4bd5ff(0xcf7)](_0x3faff4=>_0x3faff4['dataset'][_0x4bd5ff(0xb43)]);handleShortcutOrderChange(activeShortcutTabId,_0x3eb94b);}}),document[_0xc82465(0xbe7)](_0xc82465(0xa83))[_0xc82465(0x532)](_0x22d8a8=>{const _0xd0dd86=_0xc82465;_0x22d8a8[_0xd0dd86(0x999)](_0xd0dd86(0x4fc),_0x31481a=>{const _0x413e80=_0xd0dd86;_0x31481a[_0x413e80(0xd29)]();const _0x30e2d0=_0x31481a[_0x413e80(0x9a9)][_0x413e80(0x2bb)],_0x4991f7=_0x30e2d0[_0x413e80(0x7cb)][_0x413e80(0xa47)]('hidden');document[_0x413e80(0xbe7)](_0x413e80(0xc54))[_0x413e80(0x532)](_0x55ecc1=>_0x55ecc1[_0x413e80(0x7cb)][_0x413e80(0x23b)](_0x413e80(0xaa0))),_0x4991f7&&_0x30e2d0[_0x413e80(0x7cb)]['remove'](_0x413e80(0xaa0));});});}document['addEventListener']('click',_0x2c9a55=>{const _0x25e0c4=_0x36ca11;!_0x2c9a55[_0x25e0c4(0x28a)]['closest'](_0x25e0c4(0x95e))&&document[_0x25e0c4(0xbe7)](_0x25e0c4(0xc54))[_0x25e0c4(0x532)](_0xb17bb2=>_0xb17bb2[_0x25e0c4(0x7cb)]['add'](_0x25e0c4(0xaa0)));});async function saveShortcutConfig(){const _0x462192=_0x36ca11,_0x142b14=doc(db,_0x462192(0xd5e),_0x462192(0x3eb));try{await setDoc(_0x142b14,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0xe662d9){console[_0x462192(0x3c3)](_0x462192(0x4e1),_0xe662d9);}}async function handleAddShortcutTab(){const _0x38912d=_0x36ca11,_0x491463=prompt(_0x38912d(0x4e9),_0x38912d(0x4bf));if(!_0x491463||_0x491463[_0x38912d(0x3ac)]()==='')return;shortcutTabs[_0x38912d(0xc15)]({'id':_0x38912d(0xb66)+Date['now'](),'name':_0x491463[_0x38912d(0x3ac)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x49835d,_0x19559b){const _0x84ca19=_0x36ca11,_0x328e68=shortcutTabs[_0x84ca19(0x349)](_0x795677=>_0x795677['id']===_0x49835d);_0x328e68&&_0x19559b[_0x84ca19(0x3ac)]()!==''&&(_0x328e68['name']=_0x19559b['trim'](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x1e04ac){const _0x412523=_0x36ca11,_0x18b4b2=shortcutTabs[_0x412523(0x349)](_0x5b1ce5=>_0x5b1ce5['id']===_0x1e04ac);_0x18b4b2&&!_0x18b4b2[_0x412523(0x33a)]&&showConfirmation(_0x412523(0xdb3)+_0x18b4b2[_0x412523(0xa69)]+_0x412523(0x9b2),async()=>{const _0x549b37=_0x412523;shortcutTabs=shortcutTabs[_0x549b37(0x273)](_0xaefe27=>_0xaefe27['id']!==_0x1e04ac),delete shortcutOrder[_0x1e04ac];if(activeShortcutTabId===_0x1e04ac)activeShortcutTabId='all';await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x3383e3,_0x663061){const _0x18f377=_0x36ca11,_0x499ebc=shortcutTabs[_0x18f377(0x349)](_0x125bb9=>_0x125bb9['id']===_0x663061);_0x499ebc&&!_0x499ebc[_0x18f377(0x54c)][_0x18f377(0xaf6)](_0x3383e3)&&(_0x499ebc['shortcutIds'][_0x18f377(0xc15)](_0x3383e3),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0xb132f8,_0x286ac5){const _0xde628c=_0x36ca11,_0x4df995=shortcutTabs['find'](_0x4fd865=>_0x4fd865['id']===_0x286ac5);_0x4df995&&!_0x4df995[_0xde628c(0x33a)]&&(_0x4df995[_0xde628c(0x54c)]=_0x4df995['shortcutIds'][_0xde628c(0x273)](_0x5b0838=>_0x5b0838!==_0xb132f8),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x2fdcc7,_0x3ce34c){shortcutOrder[_0x2fdcc7]=_0x3ce34c,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x1694bc=_0x36ca11,_0x35363d=document['getElementById'](_0x1694bc(0xc38)),_0x477a79=document[_0x1694bc(0xde0)](_0x1694bc(0xb2e)),_0x2224c6=document['getElementById']('shortcuts-loading-msg');_0x2224c6&&_0x2224c6['classList'][_0x1694bc(0x23b)]('hidden');if(!_0x35363d||!_0x477a79)return;const _0x23bdc4=blueprintShortcuts[_0x1694bc(0x5dc)](0x0,0x4),_0x1a6aa4=blueprintShortcuts[_0x1694bc(0x5dc)](0x4);_0x35363d['innerHTML']=_0x23bdc4[_0x1694bc(0xcf7)](_0x46c579=>{const _0x1fc5e4=_0x1694bc;let _0x11264d=_0x1fc5e4(0x97b),_0x4bf294='🧩';if(_0x46c579[_0x1fc5e4(0x464)]&&_0x46c579[_0x1fc5e4(0x450)])_0x11264d=_0x1fc5e4(0xa0c),_0x4bf294='📗';else _0x46c579['blueprintUrl']&&(_0x11264d='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0x4bf294='📘');const _0x44eed7=!_0x46c579[_0x1fc5e4(0x33a)]?_0x1fc5e4(0xc56)+_0x46c579['id']+_0x1fc5e4(0xb4e):'';return _0x1fc5e4(0x545)+_0x46c579['id']+_0x1fc5e4(0x485)+_0x11264d+_0x1fc5e4(0xc92)+_0x4bf294+'\x20'+_0x46c579[_0x1fc5e4(0xa69)]+_0x1fc5e4(0x2f9)+_0x46c579['id']+'\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x44eed7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x1694bc(0xa81)](''),_0x1a6aa4[_0x1694bc(0x9b1)]>0x0&&(_0x35363d[_0x1694bc(0x2bd)]+=_0x1694bc(0x9ef)),_0x1a6aa4[_0x1694bc(0x9b1)]>0x0?_0x477a79[_0x1694bc(0x2bd)]=_0x1a6aa4[_0x1694bc(0xcf7)](_0x4099f0=>{const _0x4b9b52=_0x1694bc;let _0xcd99ed='🧩';if(_0x4099f0[_0x4b9b52(0x464)]&&_0x4099f0['referenceUrl'])_0xcd99ed='📗';else _0x4099f0[_0x4b9b52(0x464)]&&(_0xcd99ed='📘');return _0x4b9b52(0x6ac)+_0xcd99ed+'\x20'+_0x4099f0[_0x4b9b52(0xa69)]+_0x4b9b52(0xaa6)+_0x4099f0['id']+'\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x4099f0['id']+'\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x4099f0[_0x4b9b52(0x33a)]?_0x4b9b52(0xc56)+_0x4099f0['id']+'\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x4b9b52(0x4a2);})[_0x1694bc(0xa81)](''):_0x477a79[_0x1694bc(0x2bd)]=_0x1694bc(0x843);}function getMimeTypeFromFilename(_0x574738){const _0x1bea3a=_0x36ca11,_0x5f086d=_0x574738[_0x1bea3a(0x26b)]('.')[_0x1bea3a(0x9ff)]()[_0x1bea3a(0x442)]();switch(_0x5f086d){case _0x1bea3a(0x307):return _0x1bea3a(0xa21);case _0x1bea3a(0xb5d):return _0x1bea3a(0xc3f);default:return _0x1bea3a(0xa21);}}function openShortcutEditor(_0x4ad90b=null){const _0x3071a3=_0x36ca11,_0x2626e9=document[_0x3071a3(0xde0)]('shortcut-editor-modal'),_0x1af638=document[_0x3071a3(0xde0)](_0x3071a3(0xd79)),_0x180193=document['getElementById'](_0x3071a3(0xc02)),_0x570500=document['getElementById']('shortcut-name-input'),_0x447397=document[_0x3071a3(0xde0)](_0x3071a3(0xc9e)),_0x985545=document[_0x3071a3(0xde0)](_0x3071a3(0xc75));if(_0x4ad90b){const _0x21fb62=blueprintShortcuts['find'](_0x2cf828=>_0x2cf828['id']===_0x4ad90b);if(!_0x21fb62)return;_0x1af638[_0x3071a3(0xb0c)]='แก้ไขปุ่มลัด',_0x180193[_0x3071a3(0xd73)]=_0x21fb62['id'],_0x570500[_0x3071a3(0xd73)]=_0x21fb62['name'],_0x447397[_0x3071a3(0xd73)]=_0x21fb62[_0x3071a3(0x464)]||'',_0x985545[_0x3071a3(0xd73)]=_0x21fb62[_0x3071a3(0x450)]||'';}else _0x1af638[_0x3071a3(0xb0c)]=_0x3071a3(0x44c),_0x180193[_0x3071a3(0xd73)]='',_0x570500['value']='',_0x447397[_0x3071a3(0xd73)]='',_0x985545[_0x3071a3(0xd73)]='';_0x2626e9['classList'][_0x3071a3(0x4cd)](_0x3071a3(0xaa0));}async function saveShortcutChanges(){const _0x19b29b=_0x36ca11,_0x4f61e5=document[_0x19b29b(0xde0)](_0x19b29b(0xc02))['value'],_0x894c0=document['getElementById'](_0x19b29b(0x904))[_0x19b29b(0xd73)]['trim'](),_0x35f7eb=document[_0x19b29b(0xde0)](_0x19b29b(0xc9e))[_0x19b29b(0xd73)][_0x19b29b(0x3ac)]();if(!_0x894c0||!_0x35f7eb){showMessage(_0x19b29b(0x845));return;}const _0x2341f9={'id':_0x4f61e5||_0x19b29b(0xd37)+Date[_0x19b29b(0x51b)](),'name':_0x894c0,'blueprintUrl':_0x35f7eb,'referenceUrl':document[_0x19b29b(0xde0)](_0x19b29b(0xc75))[_0x19b29b(0xd73)][_0x19b29b(0x3ac)](),'isDefault':_0x4f61e5[_0x19b29b(0x277)](_0x19b29b(0x284))};let _0x763beb;_0x4f61e5?_0x763beb=blueprintShortcuts[_0x19b29b(0xcf7)](_0x332cc6=>_0x332cc6['id']===_0x4f61e5?_0x2341f9:_0x332cc6):_0x763beb=[...blueprintShortcuts,_0x2341f9];try{const _0x5703ce=doc(db,'globalSettings',_0x19b29b(0x3eb));await setDoc(_0x5703ce,{'blueprintShortcuts':_0x763beb},{'merge':!![]}),document[_0x19b29b(0xde0)]('shortcut-editor-modal')[_0x19b29b(0x7cb)]['add'](_0x19b29b(0xaa0));}catch(_0x11d0e0){console[_0x19b29b(0x3c3)](_0x19b29b(0xa5c),_0x11d0e0),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleShortcutClick(_0x1bc2fb){const _0x3cd52c=_0x36ca11,_0x576469=blueprintShortcuts[_0x3cd52c(0x349)](_0x37b14d=>_0x37b14d['id']===_0x1bc2fb);if(!_0x576469||!_0x576469[_0x3cd52c(0x464)])return;document[_0x3cd52c(0xde0)]('blueprint-options-container')[_0x3cd52c(0x7cb)][_0x3cd52c(0x23b)]('hidden'),document[_0x3cd52c(0xde0)]('generate-from-blueprint-btn')[_0x3cd52c(0xc4f)]=!![];const _0x118a24=document[_0x3cd52c(0xde0)](_0x3cd52c(0x58c)),_0x28279f=document[_0x3cd52c(0xde0)](_0x3cd52c(0x36c));document[_0x3cd52c(0xde0)]('quiz-generation-area')[_0x3cd52c(0x7cb)][_0x3cd52c(0x4cd)](_0x3cd52c(0xaa0)),document[_0x3cd52c(0xde0)]('generated-quiz-container')['innerHTML']='',_0x118a24['classList'][_0x3cd52c(0x4cd)]('hidden');try{_0x28279f[_0x3cd52c(0xb0c)]=_0x3cd52c(0x3e2);const _0x2fa372=await fetchFileFromUrl(_0x576469[_0x3cd52c(0x464)],_0x3cd52c(0x6a2));let _0x20da12=null;if(_0x576469[_0x3cd52c(0x450)]){_0x28279f[_0x3cd52c(0xb0c)]=_0x3cd52c(0x652);const _0x8d28b2=_0x576469[_0x3cd52c(0x450)][_0x3cd52c(0x442)]()[_0x3cd52c(0x996)](_0x3cd52c(0x73e))?_0x3cd52c(0x739):_0x3cd52c(0x298);_0x20da12=await fetchFileFromUrl(_0x576469[_0x3cd52c(0x450)],_0x8d28b2);}await handleGenerateFromBlueprintWithFiles(_0x2fa372,_0x20da12);}catch(_0x4ce180){console[_0x3cd52c(0x3c3)](_0x3cd52c(0x2dd),_0x4ce180),showMessage(_0x3cd52c(0x37d)+_0x4ce180[_0x3cd52c(0x805)]),_0x118a24[_0x3cd52c(0x7cb)]['add'](_0x3cd52c(0xaa0));}}function getDirectDownloadUrl(_0x4fb4f2){const _0x32d18d=_0x36ca11,_0x5aef88=_0x4fb4f2['match'](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x5aef88&&_0x5aef88[0x1])return _0x32d18d(0x500)+_0x5aef88[0x1];return _0x4fb4f2;}async function fetchFileFromUrl(_0x480baa,_0x217c03){const _0x86d05e=_0x36ca11,_0x13ed75=getDirectDownloadUrl(_0x480baa),_0x29b383=_0x86d05e(0x969)+encodeURIComponent(_0x13ed75),_0x411ad7=await fetch(_0x29b383);if(!_0x411ad7['ok'])throw new Error(_0x86d05e(0xcd6)+_0x411ad7[_0x86d05e(0xcb4)]+')');const _0x323754=await _0x411ad7[_0x86d05e(0xdd7)](),_0x5cc668=await new Promise((_0x409784,_0x5072bd)=>{const _0x48c937=_0x86d05e,_0x47a0cc=new FileReader();_0x47a0cc['onloadend']=()=>_0x409784(new Uint8Array(_0x47a0cc['result'])),_0x47a0cc[_0x48c937(0x584)]=_0x5072bd,_0x47a0cc[_0x48c937(0xcb6)](_0x323754['slice'](0x0,0x4));});let _0x52ccf2='';const _0x41c5d0=new TextDecoder()[_0x86d05e(0x8c6)](_0x5cc668);return _0x41c5d0===_0x86d05e(0xb9c)?(_0x52ccf2=_0x86d05e(0xa21),console[_0x86d05e(0x966)](_0x86d05e(0x951))):(_0x52ccf2='text/plain',console[_0x86d05e(0x966)](_0x86d05e(0x67d))),new File([_0x323754],_0x217c03,{'type':_0x52ccf2});}async function handleGenerateFromBlueprintWithFiles(_0x2bd92c,_0x1a42bb=null){const _0x4b0ca4=_0x36ca11;if(!_0x2bd92c){showMessage(_0x4b0ca4(0x98d));return;}const _0x175411=document['getElementById'](_0x4b0ca4(0x58c)),_0x2524a7=document[_0x4b0ca4(0xde0)](_0x4b0ca4(0x36c));_0x175411[_0x4b0ca4(0x7cb)][_0x4b0ca4(0x4cd)]('hidden'),document[_0x4b0ca4(0xde0)](_0x4b0ca4(0xcda))[_0x4b0ca4(0x7cb)][_0x4b0ca4(0x4cd)](_0x4b0ca4(0xaa0)),document['getElementById'](_0x4b0ca4(0xb29))[_0x4b0ca4(0x2bd)]='';try{_0x2524a7[_0x4b0ca4(0xb0c)]=_0x4b0ca4(0xa43);const _0x275816=await new Promise((_0x108969,_0x13a6e2)=>{const _0x3f9a7d=_0x4b0ca4,_0x2c5323=new FileReader();_0x2c5323[_0x3f9a7d(0x4fd)](_0x2bd92c),_0x2c5323[_0x3f9a7d(0x7b4)]=()=>_0x108969(_0x2c5323['result']['split'](',')[0x1]),_0x2c5323['onerror']=_0x13a6e2;}),_0x3b87d0=[];if(_0x1a42bb){_0x2524a7[_0x4b0ca4(0xb0c)]=_0x4b0ca4(0x646);const _0x12ff67=await _0x1a42bb['text']();_0x3b87d0[_0x4b0ca4(0xc15)]({'text':_0x4b0ca4(0x925)+_0x12ff67});}const _0x1e3acb=[{'text':_0x4b0ca4(0xd4a)},{'inlineData':{'mimeType':_0x2bd92c['type'],'data':_0x275816}},..._0x3b87d0];await handleGenerateFromBlueprint(_0x1e3acb);}catch(_0x5995df){console[_0x4b0ca4(0x3c3)]('Error\x20in\x20generating\x20from\x20files:',_0x5995df),showMessage(_0x4b0ca4(0x37d)+_0x5995df[_0x4b0ca4(0x805)]),_0x175411[_0x4b0ca4(0x7cb)]['add'](_0x4b0ca4(0xaa0));}}async function handleLiveAnswer(_0x29b9d5,_0x42843a){const _0x1bd994=_0x36ca11;document[_0x1bd994(0xbe7)]('.live-answer-btn,\x20#live-submit-short-answer-btn')['forEach'](_0x10ec6a=>_0x10ec6a[_0x1bd994(0xc4f)]=!![]);const _0x3d01dd=_0x42843a['questionType']||currentQuizData['quizType'];let _0x2c1b5f=![],_0x398797=_0x29b9d5;if(_0x3d01dd===_0x1bd994(0x44a)){const _0xf5b834=(_0x29b9d5||'')['toString']();_0x2c1b5f=await gradeShortAnswer(_0xf5b834,_0x42843a);}else{if(_0x3d01dd===_0x1bd994(0x209))_0x2c1b5f=_0x29b9d5===_0x42843a[_0x1bd994(0x31b)];else{if(_0x3d01dd===_0x1bd994(0x84a)){const _0x20acc4=_0x42843a[_0x1bd994(0x5ec)];_0x2c1b5f=_0x29b9d5===0x0&&_0x20acc4||_0x29b9d5===0x1&&!_0x20acc4;}else{if(_0x3d01dd===_0x1bd994(0x2c9)){const _0x4c6fba=_0x42843a[_0x1bd994(0xd55)][_0x29b9d5];_0x2c1b5f=_0x4c6fba===_0x42843a[_0x1bd994(0x77b)],_0x398797=_0x4c6fba;}}}}const _0x88fa59=doc(db,_0x1bd994(0xdd2)+appId+'/public/data/liveGames',currentLiveGameId),_0x41dd60={};_0x41dd60[_0x1bd994(0x250)+currentStudentName+_0x1bd994(0x70d)]=!![],_0x41dd60['players.'+currentStudentName+'.lastAnswerCorrect']=_0x2c1b5f,_0x41dd60[_0x1bd994(0x250)+currentStudentName+_0x1bd994(0xba4)]=_0x3d01dd===_0x1bd994(0x44a)||_0x3d01dd===_0x1bd994(0x2c9)?null:_0x29b9d5,_0x41dd60[_0x1bd994(0x250)+currentStudentName+_0x1bd994(0xcfd)]=_0x398797,_0x41dd60['players.'+currentStudentName+_0x1bd994(0x930)]=serverTimestamp(),_0x41dd60['players.'+currentStudentName+_0x1bd994(0x75a)]=![],await updateDoc(_0x88fa59,_0x41dd60),liveGameView[_0x1bd994(0x2bd)]=_0x1bd994(0xbeb);}function showAdminSummaryView(_0x526612,_0x31f591){const _0x56d034=_0x36ca11,_0xd14d92=Object[_0x56d034(0x976)](_0x526612['players']||{}),_0x22fbda=_0x31f591[_0x56d034(0x55e)]||currentQuizData[_0x56d034(0xcfa)],_0x3f9f25=_0x22fbda===_0x56d034(0x84a)?[_0x56d034(0x7c0),_0x56d034(0x7d0)]:_0x31f591['options']||_0x31f591['allResponses']||[],_0x480b87={},_0x4c2f9f=new Array(_0x3f9f25[_0x56d034(0x9b1)])[_0x56d034(0x86c)](0x0);_0x3f9f25[_0x56d034(0x532)]((_0x5e4ed3,_0x1030fd)=>{_0x480b87[_0x1030fd]=[];}),Object[_0x56d034(0xd3b)](_0x526612['players']||{})['forEach'](([_0x26cc32,_0x15bcd4])=>{const _0x2470e8=_0x56d034;if(_0x15bcd4[_0x2470e8(0xcb4)]===_0x2470e8(0x742)&&_0x15bcd4['lastAnswerIndex']!==undefined){const _0x15dd05=_0x15bcd4[_0x2470e8(0x6d2)];_0x480b87[_0x15dd05]&&(_0x480b87[_0x15dd05]['push'](_0x26cc32),_0x4c2f9f[_0x15dd05]++);}});const _0x5a01c6=Math[_0x56d034(0x2ca)](..._0x4c2f9f,0x1),_0x19551a=_0x56d034(0xa91)+(_0x31f591[_0x56d034(0x1f4)]||_0x31f591[_0x56d034(0xc60)])+_0x56d034(0xcaa)+_0x4c2f9f[_0x56d034(0xcf7)]((_0x2e30d0,_0x4a1bc3)=>{const _0x3f9dd1=_0x56d034,_0x15c74e=_0x480b87[_0x4a1bc3][_0x3f9dd1(0x9b1)]>0x0?_0x480b87[_0x4a1bc3][_0x3f9dd1(0xa81)](',\x20'):_0x3f9dd1(0x9e5);let _0x39a25f=![];if(_0x22fbda===_0x3f9dd1(0x209))_0x39a25f=_0x4a1bc3===_0x31f591['correctAnswerIndex'];else{if(_0x22fbda==='true_false'){const _0x348ed2=_0x31f591[_0x3f9dd1(0x5ec)];_0x39a25f=_0x348ed2&&_0x4a1bc3===0x0||!_0x348ed2&&_0x4a1bc3===0x1;}else _0x22fbda===_0x3f9dd1(0x2c9)&&(_0x39a25f=_0x3f9f25[_0x4a1bc3]===_0x31f591[_0x3f9dd1(0x77b)]);}const _0x50a808=_0x39a25f?_0x3f9dd1(0xa13):'#e21b3c';return _0x3f9dd1(0x347)+_0x2e30d0+'</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20'+_0x50a808+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x4a1bc3+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x3f9f25[_0x4a1bc3]+_0x3f9dd1(0xbaa)+_0x4a1bc3+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x15c74e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x56d034(0x2bd)]=_0x19551a;if(window[_0x56d034(0x9f7)])MathJax['typesetPromise']();document[_0x56d034(0xde0)](_0x56d034(0xb51))[_0x56d034(0x999)]('click',async()=>{const _0x55a9b6=_0x56d034,_0xbbf79b=doc(db,_0x55a9b6(0xdd2)+appId+_0x55a9b6(0xc0e),currentLiveGameId);await updateDoc(_0xbbf79b,{'questionStatus':_0x55a9b6(0x294)});}),document['getElementById'](_0x56d034(0x970))[_0x56d034(0x999)](_0x56d034(0x4fc),()=>{openScratchpad(_0x31f591,_0x3f9f25);});}function showPlayerSummaryView(_0x50f225,_0x205751){const _0x197b11=_0x36ca11,_0x5bf1ba=Object[_0x197b11(0x976)](_0x50f225[_0x197b11(0x9a3)]||{}),_0xbfb662=_0x50f225['players'][_0x205751],_0x58e325=_0x5bf1ba[_0x197b11(0x273)](_0x3b5a8a=>_0x3b5a8a[_0x197b11(0xcb4)]===_0x197b11(0x742))[_0x197b11(0x68d)]((_0x3a4610,_0x3e861d)=>_0x3e861d[_0x197b11(0x2ad)]-_0x3a4610[_0x197b11(0x2ad)]),_0x23067e=_0x58e325[_0x197b11(0x1fd)](_0x2e332a=>_0x2e332a===_0xbfb662)+0x1,_0x1e5e79=_0xbfb662['lastAnswerCorrect']?_0x197b11(0x1e2):_0x197b11(0xc6d),_0x533748=_0xbfb662[_0x197b11(0x3e6)]?'bg-green-500':_0x197b11(0x1f2),_0x683738=_0xbfb662[_0x197b11(0x322)]||0x0,_0x277a0a=_0x197b11(0x90c),_0x540717=_0x197b11(0x751)+_0x277a0a+_0x197b11(0x3c2)+_0x533748+_0x197b11(0x4f7)+_0x1e5e79+_0x197b11(0x25b)+_0x683738+_0x197b11(0x573)+(_0x23067e>0x0?_0x23067e:'-')+_0x197b11(0x9ee);liveGameView[_0x197b11(0x2bd)]=_0x540717;}function createQuizFromBank(){const _0x347702=_0x36ca11,_0x3955a0=document['querySelectorAll']('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x3955a0[_0x347702(0x9b1)]===0x0){showMessage(_0x347702(0x563));return;}const _0x340c45=[];_0x3955a0['forEach'](_0x10ae50=>{const _0x57639c=_0x347702;_0x340c45[_0x57639c(0xc15)](JSON[_0x57639c(0xdc0)](_0x10ae50[_0x57639c(0xd73)]));});const _0x47b9b5={'topic':_0x347702(0x521),'questions':_0x340c45};displayGeneratedQuiz(_0x47b9b5);}function showAdminLobbyView(_0xdc667f,_0x17a205){const _0x30b156=_0x36ca11;showView(_0x30b156(0x7c8));const _0x3d2c53=_0x30b156(0x87f)+_0x17a205+_0x30b156(0x331)+_0xdc667f+_0x30b156(0x385);liveGameView[_0x30b156(0x2bd)]=_0x3d2c53,document[_0x30b156(0xde0)](_0x30b156(0x456))['addEventListener'](_0x30b156(0x4fc),async()=>{const _0x5819cc=_0x30b156;if(!currentQuizData||!currentQuizData[_0x5819cc(0x4f1)]||currentQuizData['questions']['length']===0x0){showMessage(_0x5819cc(0x526));return;}try{const _0x3b93e2=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x3b93e2,{'status':_0x5819cc(0x359),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x3a0183=currentQuizData[_0x5819cc(0x4f1)][0x0],_0x141f92=currentQuizData[_0x5819cc(0x4f1)][_0x5819cc(0x9b1)];showAdminLiveQuestionView(_0x3a0183,0x0,_0x141f92);}catch(_0x37b2d5){console[_0x5819cc(0x3c3)]('Error\x20starting\x20game:',_0x37b2d5),showMessage(_0x5819cc(0xa8d));}});}async function openQuizBankModal(){const _0x22f956=_0x36ca11;if(allQuizzesGlobal['length']===0x0){const _0x55553e=await getDocs(collection(db,_0x22f956(0xdd2)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x55553e['docs']['map'](_0x41286a=>({'id':_0x41286a['id'],..._0x41286a[_0x22f956(0x518)]()}));}renderQuizBankList(''),document[_0x22f956(0xde0)]('quiz-bank-modal')[_0x22f956(0x7cb)][_0x22f956(0x4cd)](_0x22f956(0xaa0));}function renderQuizBankList(_0x19325e='',_0xbb3653=![]){const _0x36a59f=_0x36ca11,_0xb81622=document[_0x36a59f(0xde0)]('bank-quiz-list'),_0x2a83ea=_0x19325e[_0x36a59f(0x442)]()['trim'](),_0x1a34e0=allQuizzesGlobal[_0x36a59f(0xcf7)](_0x47ee5e=>({..._0x47ee5e,'projectName':allProjects['find'](_0x5b991c=>_0x5b991c['id']===_0x47ee5e['projectId'])?.[_0x36a59f(0xd30)]||'N/A'}))[_0x36a59f(0x273)](_0x1264a4=>(_0x1264a4[_0x36a59f(0x714)]||'')[_0x36a59f(0x442)]()[_0x36a59f(0xaf6)](_0x2a83ea)||(_0x1264a4[_0x36a59f(0xd30)]||'')['toLowerCase']()[_0x36a59f(0xaf6)](_0x2a83ea)||_0x1264a4['id'][_0x36a59f(0x460)]()[_0x36a59f(0xaf6)](_0x2a83ea));document[_0x36a59f(0xde0)](_0x36a59f(0x827))[_0x36a59f(0xb0c)]='('+_0x1a34e0['length']+_0x36a59f(0x49e),_0xb81622[_0x36a59f(0x2bd)]=_0x1a34e0[_0x36a59f(0x9b1)]?_0x1a34e0[_0x36a59f(0xcf7)](_0xba3aa6=>{const _0x196710=_0x36a59f,_0x1a1aa6=!_0xbb3653?_0x196710(0xb3e)+_0xba3aa6['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xba3aa6['id']+_0x196710(0x4de)+_0xba3aa6['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xba3aa6['id']+_0x196710(0xc1b)+_0xba3aa6['id']+_0x196710(0x97e)+_0xba3aa6['id']+_0x196710(0x71c)+_0xba3aa6[_0x196710(0x714)]+_0x196710(0x430):'';return _0x196710(0x72f)+_0xba3aa6['id']+_0x196710(0x2e0)+(_0xba3aa6[_0x196710(0x714)]||'(ไม่มีชื่อ)')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0xba3aa6[_0x196710(0x4f1)]?.[_0x196710(0x9b1)]||0x0)+_0x196710(0x5c7)+_0xba3aa6[_0x196710(0xd30)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0xba3aa6['id']+_0x196710(0x877)+_0x1a1aa6+'\x0a\x20\x20\x20\x20\x20\x20</div>';})[_0x36a59f(0xa81)](''):_0x36a59f(0x3e3),!_0xbb3653&&(_0xb81622[_0x36a59f(0xbe7)]('.quiz-bank-item')[_0x36a59f(0x532)](_0x392865=>{const _0x547acd=_0x36a59f;_0x392865[_0x547acd(0x999)](_0x547acd(0x4fc),()=>{const _0x4f671c=_0x547acd,_0x46e104=_0x392865[_0x4f671c(0xdcf)]['id'];document[_0x4f671c(0xde0)](_0x4f671c(0x6cf))[_0x4f671c(0x7cb)][_0x4f671c(0x23b)]('hidden'),showQuizDetailView(_0x46e104);});}),_0xb81622[_0x36a59f(0xbe7)](_0x36a59f(0x6a5))[_0x36a59f(0x532)](_0x521713=>{const _0x8f2bba=_0x36a59f;_0x521713['addEventListener'](_0x8f2bba(0x4fc),_0x4a2276=>{const _0x4c2282=_0x8f2bba;_0x4a2276[_0x4c2282(0xd29)]();const _0x46edc5=_0x521713['dataset']['id'],_0x3d759b=allQuizzesGlobal['find'](_0x792c75=>_0x792c75['id']===_0x46edc5);_0x3d759b?(currentQuizData=_0x3d759b,document[_0x4c2282(0xde0)](_0x4c2282(0x6cf))[_0x4c2282(0x7cb)]['add']('hidden'),startAdminTest()):showMessage(_0x4c2282(0x950));});}),_0xb81622[_0x36a59f(0xbe7)](_0x36a59f(0x45b))[_0x36a59f(0x532)](_0x1eb003=>{const _0x18e34a=_0x36a59f;_0x1eb003[_0x18e34a(0x999)]('click',_0x23e0c6=>{const _0x1aa0b1=_0x18e34a;_0x23e0c6[_0x1aa0b1(0xd29)]();const _0x2406a4=_0x1eb003[_0x1aa0b1(0xdcf)]['id'],_0x5b7ecc=allQuizzesGlobal[_0x1aa0b1(0x349)](_0x742bf4=>_0x742bf4['id']===_0x2406a4);_0x5b7ecc?(document[_0x1aa0b1(0xde0)](_0x1aa0b1(0x6cf))[_0x1aa0b1(0x7cb)][_0x1aa0b1(0x23b)](_0x1aa0b1(0xaa0)),handleGenerateParallelFromBank(_0x5b7ecc)):showMessage(_0x1aa0b1(0x950));});}),_0xb81622[_0x36a59f(0xbe7)](_0x36a59f(0xb23))[_0x36a59f(0x532)](_0x4ebb80=>{const _0xf3b785=_0x36a59f;_0x4ebb80['addEventListener'](_0xf3b785(0x4fc),_0x1c2513=>{const _0x27e0f8=_0xf3b785;_0x1c2513['stopPropagation']();const _0x5d640d=_0x4ebb80[_0x27e0f8(0xdcf)]['id'],_0x59ff6f=allQuizzesGlobal['find'](_0x1f1b84=>_0x1f1b84['id']===_0x5d640d);_0x59ff6f?(document['getElementById']('quiz-bank-modal')[_0x27e0f8(0x7cb)][_0x27e0f8(0x23b)](_0x27e0f8(0xaa0)),startPresentation(_0x59ff6f)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0xb81622['querySelectorAll']('.quiz-bank-move-btn')[_0x36a59f(0x532)](_0x4fb040=>{const _0x212965=_0x36a59f;_0x4fb040['addEventListener'](_0x212965(0x4fc),_0x1cb8db=>{const _0x42cf6b=_0x212965;_0x1cb8db[_0x42cf6b(0xd29)]();const _0x219437=_0x4fb040[_0x42cf6b(0xdcf)]['id'];document[_0x42cf6b(0xde0)](_0x42cf6b(0x6cf))[_0x42cf6b(0x7cb)][_0x42cf6b(0x23b)](_0x42cf6b(0xaa0)),handleMoveQuiz(_0x219437);});}),_0xb81622[_0x36a59f(0xbe7)]('.quiz-bank-settings-btn')['forEach'](_0x2cc92d=>{const _0x5e7221=_0x36a59f;_0x2cc92d[_0x5e7221(0x999)](_0x5e7221(0x4fc),_0x4e86cf=>{const _0x2a552a=_0x5e7221;_0x4e86cf[_0x2a552a(0xd29)]();const _0x16e95f=_0x2cc92d[_0x2a552a(0xdcf)]['id'];document[_0x2a552a(0xde0)](_0x2a552a(0x6cf))[_0x2a552a(0x7cb)][_0x2a552a(0x23b)](_0x2a552a(0xaa0)),handleQuizSettings(_0x16e95f);});}),_0xb81622[_0x36a59f(0xbe7)](_0x36a59f(0x81f))[_0x36a59f(0x532)](_0x4cc4ba=>{const _0x442bbc=_0x36a59f;_0x4cc4ba[_0x442bbc(0x999)](_0x442bbc(0x4fc),_0x117db5=>{const _0x9474d=_0x442bbc;_0x117db5['stopPropagation']();const _0x200056=_0x4cc4ba['dataset']['id'],_0x2a7b55=_0x4cc4ba[_0x9474d(0xdcf)]['topic'];showConfirmation(_0x9474d(0x5af)+_0x2a7b55+'\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',()=>handleDeleteQuiz(_0x200056));});}));}async function handleCompareResults(_0x51e187,_0x1cb9f8){const _0x21d1d3=_0x36ca11,_0x3ed4c5=document['getElementById'](_0x21d1d3(0x3ef)),_0xebfcef=document['getElementById']('comparison-overall-content'),_0x5056e6=document[_0x21d1d3(0xde0)](_0x21d1d3(0xc97));document[_0x21d1d3(0xde0)]('comparison-overall-tab')[_0x21d1d3(0x7cb)][_0x21d1d3(0x23b)](_0x21d1d3(0x742)),document[_0x21d1d3(0xde0)]('comparison-individual-tab')['classList'][_0x21d1d3(0x4cd)]('active'),_0xebfcef[_0x21d1d3(0x7cb)]['remove'](_0x21d1d3(0xaa0)),_0x5056e6['classList'][_0x21d1d3(0x23b)]('hidden'),_0xebfcef['innerHTML']=_0x21d1d3(0x702),_0x5056e6[_0x21d1d3(0x2bd)]='',_0x3ed4c5[_0x21d1d3(0x7cb)][_0x21d1d3(0x4cd)](_0x21d1d3(0xaa0));try{const _0x932b2c=doc(db,_0x21d1d3(0xdd2)+appId+_0x21d1d3(0x365),_0x51e187),_0x5f5507=await getDoc(_0x932b2c);if(!_0x5f5507[_0x21d1d3(0xa40)]())throw new Error(_0x21d1d3(0x45a));const _0xe9f1fe=_0x5f5507['data'](),_0x255c61=_0xe9f1fe['questions']['length'],_0x55471c=collection(db,_0x21d1d3(0xdd2)+appId+_0x21d1d3(0xd9a)+_0x1cb9f8+'/submissions'),_0x160da9=collection(db,_0x21d1d3(0xdd2)+appId+'/public/data/quizzes/'+_0x51e187+_0x21d1d3(0x316)),[_0x5039d1,_0xde5652]=await Promise['all']([getDocs(_0x55471c),getDocs(_0x160da9)]),_0x4208ff=_0x5039d1[_0x21d1d3(0x309)][_0x21d1d3(0xcf7)](_0x9dfa59=>_0x9dfa59[_0x21d1d3(0x518)]()),_0x51c24a=_0xde5652[_0x21d1d3(0x309)]['map'](_0x583267=>_0x583267[_0x21d1d3(0x518)]()),_0x5eded5=_0x4208ff['map'](_0x2c40eb=>_0x2c40eb['latestScore']),_0x1d5fb4=_0x51c24a[_0x21d1d3(0xcf7)](_0x14ea21=>_0x14ea21[_0x21d1d3(0x7ca)]),_0x4ed03f=calculateMeanAndStdDev(_0x5eded5),_0x4fab1f=calculateMeanAndStdDev(_0x1d5fb4),_0x595c86=_0x4ed03f['mean'],_0x244e26=_0x4fab1f[_0x21d1d3(0xbbb)],_0x2d496c=_0x244e26-_0x595c86;let _0x4d7271=_0x21d1d3(0xd6b)+_0x595c86[_0x21d1d3(0xb3d)](0x2)+_0x21d1d3(0x511)+_0x244e26[_0x21d1d3(0xb3d)](0x2)+_0x21d1d3(0x59c)+(_0x2d496c>=0x0?'bg-emerald-100':'bg-red-100')+_0x21d1d3(0x597)+(_0x2d496c>=0x0?_0x21d1d3(0x6ef):_0x21d1d3(0x5e5))+_0x21d1d3(0x837)+(_0x2d496c>=0x0?_0x21d1d3(0xda1):_0x21d1d3(0xa3c))+'\x22>'+(_0x2d496c>=0x0?'+':'')+_0x2d496c[_0x21d1d3(0xb3d)](0x2)+_0x21d1d3(0x378);_0xebfcef[_0x21d1d3(0x2bd)]=_0x4d7271;const _0xc96415=document[_0x21d1d3(0xde0)](_0x21d1d3(0xc1e))['getContext']('2d');if(chartInstances[_0x21d1d3(0xb2f)])chartInstances[_0x21d1d3(0xb2f)][_0x21d1d3(0xd26)]();chartInstances['comparison']=new Chart(_0xc96415,{'type':_0x21d1d3(0x973),'data':{'labels':[_0x21d1d3(0x623)],'datasets':[{'label':_0x21d1d3(0x9fd),'data':[_0x595c86],'backgroundColor':_0x21d1d3(0x4da)},{'label':'หลังเรียน','data':[_0x244e26],'backgroundColor':_0x21d1d3(0xb5f)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x255c61}}}});const _0x5b3dc5=currentProjectData['students']||[],_0x59baa3=_0x5b3dc5['map'](_0x491823=>{const _0x2f16b9=_0x21d1d3,_0x1811c0=_0x4208ff[_0x2f16b9(0x349)](_0x5af959=>_0x5af959[_0x2f16b9(0x955)]===_0x491823),_0x4752d2=_0x51c24a['find'](_0x5ed194=>_0x5ed194['studentName']===_0x491823),_0x394efe=_0x1811c0?_0x1811c0[_0x2f16b9(0x7ca)]:null,_0x46126e=_0x4752d2?_0x4752d2[_0x2f16b9(0x7ca)]:null,_0x5721fe=_0x394efe!==null&&_0x46126e!==null?_0x46126e-_0x394efe:null,_0x4797e6=_0x394efe!==null?calculateZScore(_0x394efe,_0x4ed03f[_0x2f16b9(0xbbb)],_0x4ed03f[_0x2f16b9(0x6af)]):null,_0x426e4a=_0x46126e!==null?calculateZScore(_0x46126e,_0x4fab1f['mean'],_0x4fab1f[_0x2f16b9(0x6af)]):null,_0x4a8ab1=_0x4797e6!==null?calculateTScore(_0x4797e6):null,_0x10f0c9=_0x426e4a!==null?calculateTScore(_0x426e4a):null,_0x5d2744=_0x4a8ab1!==null&&_0x10f0c9!==null?_0x10f0c9-_0x4a8ab1:null;return{'name':_0x491823,'preScore':_0x394efe,'postScore':_0x46126e,'gain':_0x5721fe,'preTScore':_0x4a8ab1,'postTScore':_0x10f0c9,'tGain':_0x5d2744};});renderIndividualComparisonTable(_0x59baa3,_0x5056e6);}catch(_0x563c72){console[_0x21d1d3(0x3c3)](_0x21d1d3(0xda6),_0x563c72),_0xebfcef[_0x21d1d3(0x2bd)]=_0x21d1d3(0xcef);}}async function saveBlueprintProject(){const _0x51784b=_0x36ca11;if(!extractedBlueprintData||!extractedBlueprintData['curriculum']){showMessage(_0x51784b(0x223));return;}const _0x54f60c=prompt(_0x51784b(0x5a7),_0x51784b(0x53c));if(!_0x54f60c||_0x54f60c[_0x51784b(0x3ac)]()==='')return;const _0x498bca={};extractedBlueprintData[_0x51784b(0x3b9)][_0x51784b(0x532)](_0x2eb752=>{const _0x28e089=_0x51784b;_0x2eb752[_0x28e089(0x928)]['forEach'](_0x1ac2fa=>{const _0x2d8321=_0x28e089;_0x1ac2fa['subTopics'][_0x2d8321(0x532)](_0x18bc01=>{const _0x1c4e3d=_0x2d8321,_0x473fef=_0x1c4e3d(0x3e0)+Date[_0x1c4e3d(0x51b)]()+Math[_0x1c4e3d(0xdd3)]()[_0x1c4e3d(0x460)](0x24)[_0x1c4e3d(0x3c8)](0x2,0x9);_0x498bca[_0x473fef]={'sara':_0x2eb752[_0x1c4e3d(0x35d)],'mainTopic':_0x1ac2fa[_0x1c4e3d(0xcaf)],'subTopic':_0x18bc01,'status':_0x1c4e3d(0x31e),'lessonContent':null};});});});try{const _0x38e69e=collection(db,_0x51784b(0xdd2)+appId+_0x51784b(0x2ba));await addDoc(_0x38e69e,{'projectName':_0x54f60c['trim'](),'gradeLevel':extractedBlueprintData['gradeLevel'],'topics':_0x498bca,'createdAt':serverTimestamp()}),showMessage(_0x51784b(0x40e)+_0x54f60c['trim']()+_0x51784b(0x72d)),document[_0x51784b(0xde0)](_0x51784b(0x920))[_0x51784b(0x7cb)]['add'](_0x51784b(0xaa0));}catch(_0x5545ed){console[_0x51784b(0x3c3)](_0x51784b(0x22c),_0x5545ed),showMessage(_0x51784b(0x3cc));}}async function showBlueprintProjects(){const _0x504e8f=_0x36ca11,_0x3c9abb=document['getElementById'](_0x504e8f(0x2e9)),_0x2550ac=document[_0x504e8f(0xde0)](_0x504e8f(0xceb));_0x2550ac[_0x504e8f(0x2bd)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>',_0x3c9abb['classList'][_0x504e8f(0x4cd)](_0x504e8f(0xaa0));try{const _0x251db0=collection(db,'artifacts/'+appId+_0x504e8f(0x2ba)),_0x23515a=await getDocs(_0x251db0);if(_0x23515a[_0x504e8f(0x52e)]){_0x2550ac[_0x504e8f(0x2bd)]=_0x504e8f(0xcb8);return;}const _0x33eab6=_0x23515a[_0x504e8f(0x309)][_0x504e8f(0xcf7)](_0x55af17=>({'id':_0x55af17['id'],..._0x55af17[_0x504e8f(0x518)]()}));_0x33eab6['sort']((_0x1ffe8c,_0x2e8a4e)=>_0x1ffe8c['projectName']['localeCompare'](_0x2e8a4e[_0x504e8f(0xd30)],'th')),_0x2550ac[_0x504e8f(0x2bd)]=_0x33eab6[_0x504e8f(0xcf7)](_0x529c22=>_0x504e8f(0x46d)+_0x529c22[_0x504e8f(0xd30)]+_0x504e8f(0x6f1)+_0x529c22[_0x504e8f(0x686)]+_0x504e8f(0x8e9)+Object[_0x504e8f(0xd97)](_0x529c22[_0x504e8f(0xa57)])[_0x504e8f(0x9b1)]+_0x504e8f(0x9f5)+_0x529c22['id']+_0x504e8f(0x809)+_0x529c22['id']+_0x504e8f(0x810))[_0x504e8f(0xa81)]('');}catch(_0x4ea148){console[_0x504e8f(0x3c3)](_0x504e8f(0xc14),_0x4ea148),_0x2550ac['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>';}}async function displayBlueprintProjectManager(_0x1112e3){const _0xbf89db=_0x36ca11;currentBlueprintProjectId=_0x1112e3,document['getElementById'](_0xbf89db(0x2e9))[_0xbf89db(0x7cb)][_0xbf89db(0x23b)](_0xbf89db(0xaa0)),showView(_0xbf89db(0x1e4)),projectDashboardView[_0xbf89db(0x7cb)]['add']('hidden');const _0x41e486=document['getElementById'](_0xbf89db(0x522));_0x41e486[_0xbf89db(0x7cb)][_0xbf89db(0x4cd)](_0xbf89db(0xaa0)),document['getElementById']('bp-topic-list-container')['innerHTML']=_0xbf89db(0x702);try{const _0x19e576=doc(db,_0xbf89db(0xdd2)+appId+_0xbf89db(0x2ba),_0x1112e3),_0x46685f=await getDoc(_0x19e576);if(!_0x46685f[_0xbf89db(0xa40)]())throw new Error(_0xbf89db(0x24a));const _0x51e3b5={'id':_0x46685f['id'],..._0x46685f['data']()};document[_0xbf89db(0xde0)](_0xbf89db(0xb94))[_0xbf89db(0xb0c)]=_0x51e3b5[_0xbf89db(0xd30)],document[_0xbf89db(0xde0)](_0xbf89db(0x3d7))[_0xbf89db(0xd73)]=_0x51e3b5[_0xbf89db(0x482)]||'',renderBlueprintTopicManager(_0x51e3b5);}catch(_0x3050a0){console[_0xbf89db(0x3c3)](_0xbf89db(0x29e),_0x3050a0),showMessage(_0x3050a0['message']),showView(_0xbf89db(0x1e4));}}function renderBlueprintTopicManager(_0x1507ec){const _0x224c42=_0x36ca11,_0x92327f=document['getElementById'](_0x224c42(0x8dd)),_0x152c5f=_0x1507ec[_0x224c42(0xa57)]||{};if(Object[_0x224c42(0xd97)](_0x152c5f)['length']===0x0){_0x92327f[_0x224c42(0x2bd)]=_0x224c42(0xb8e);return;}const _0x179eca=Object[_0x224c42(0xd3b)](_0x152c5f)[_0x224c42(0xcf7)](([_0x41d277,_0x163014])=>({'id':_0x41d277,..._0x163014}))[_0x224c42(0x68d)]((_0x32de79,_0x1d2037)=>(_0x32de79[_0x224c42(0xce6)]??Infinity)-(_0x1d2037[_0x224c42(0xce6)]??Infinity)),_0x295bda={};_0x179eca['forEach'](_0x70aa68=>{const {sara:_0x5d3af1,mainTopic:_0x2c7418}=_0x70aa68;!_0x295bda[_0x5d3af1]&&(_0x295bda[_0x5d3af1]={}),!_0x295bda[_0x5d3af1][_0x2c7418]&&(_0x295bda[_0x5d3af1][_0x2c7418]=[]),_0x295bda[_0x5d3af1][_0x2c7418]['push'](_0x70aa68);});let _0x197ea8='';for(const _0x2dc4bc in _0x295bda){_0x197ea8+='<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x2dc4bc+_0x224c42(0x934);for(const _0x1f162a in _0x295bda[_0x2dc4bc]){_0x197ea8+='<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x1f162a+_0x224c42(0x2f1),_0x295bda[_0x2dc4bc][_0x1f162a][_0x224c42(0x532)](_0x3961d1=>{const _0x176f9d=_0x224c42,_0x9ae3c7=_0x3961d1['id'],_0x5541ac=_0x3961d1[_0x176f9d(0xa0a)]||[],_0x218e7a=_0x5541ac[_0x176f9d(0x9b1)]>0x0,_0x245c74=_0x3961d1['status']===_0x176f9d(0x873);let _0xbd67e4='';_0x218e7a?_0xbd67e4=_0x176f9d(0x395)+_0x5541ac[_0x176f9d(0x9b1)]+_0x176f9d(0xd61):_0xbd67e4=_0x176f9d(0x8ca)+(_0x245c74?_0x176f9d(0x87a):'bg-gray-200\x20text-gray-700')+'\x22>'+(_0x245c74?'สร้างแล้ว':'ยังไม่สร้าง')+_0x176f9d(0xc7d);const _0x33a361=!_0x245c74?'disabled\x20bg-gray-400\x20cursor-not-allowed':'',_0x1a39af=!_0x245c74?_0x176f9d(0xbdb):'';let _0x27600b=_0x245c74?'<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>':_0x176f9d(0x626);_0x197ea8+=_0x176f9d(0x7eb)+_0x9ae3c7+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>'+_0x3961d1['subTopic']+_0x176f9d(0x2e3)+_0xbd67e4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20'+_0x33a361+_0x176f9d(0x1dd)+_0x1a39af+_0x176f9d(0x3f5)+_0x27600b+_0x176f9d(0x9ce);}),_0x197ea8+='</div></div>';}_0x197ea8+=_0x224c42(0xb49);}_0x92327f[_0x224c42(0x2bd)]=_0x197ea8;}async function handleDeepDeleteBlueprintProject(_0x34d7f7){const _0x1acace=_0x36ca11,_0x296229=doc(db,_0x1acace(0xdd2)+appId+'/public/data/blueprintProjects',_0x34d7f7),_0x2574f3=await getDoc(_0x296229);if(!_0x2574f3['exists']()){showMessage(_0x1acace(0x484));return;}const _0x39c81c=_0x2574f3[_0x1acace(0x518)]()['projectName'];showConfirmation(_0x1acace(0xd4c)+_0x39c81c+_0x1acace(0x6d0),async()=>{const _0x31392f=_0x1acace;showMessage(_0x31392f(0x9cc));try{const _0x35609b=writeBatch(db),_0x1bf09d=_0x2574f3[_0x31392f(0x518)](),_0x5ebbe4=_0x1bf09d['topics']||{};for(const _0x51e851 in _0x5ebbe4){const _0x38e3c4=doc(db,_0x31392f(0xdd2)+appId+_0x31392f(0x9d0)+_0x34d7f7+_0x31392f(0x8b1),_0x51e851);_0x35609b[_0x31392f(0x513)](_0x38e3c4);}const _0x13c75c=new Set();for(const _0x38f754 in _0x5ebbe4){_0x5ebbe4[_0x38f754][_0x31392f(0xa0a)]&&_0x5ebbe4[_0x38f754][_0x31392f(0xa0a)][_0x31392f(0x532)](_0x230147=>_0x13c75c[_0x31392f(0x23b)](_0x230147));}for(const _0x4663d9 of _0x13c75c){await handleDeleteQuiz(_0x4663d9,![]);}_0x35609b[_0x31392f(0x513)](_0x296229),await _0x35609b['commit'](),showMessage('ลบโปรเจค\x20\x22'+_0x39c81c+_0x31392f(0xb13)),showBlueprintProjects();}catch(_0x2ecdc2){console['error'](_0x31392f(0x5ad),_0x2ecdc2),showMessage(_0x31392f(0xda3));}});}async function openTopicQuizBank(_0x52b9f){const _0x3c1a87=_0x36ca11,_0x20cf64=document['getElementById'](_0x3c1a87(0x971)),_0x5c851a=document[_0x3c1a87(0xde0)](_0x3c1a87(0x766)),_0x5a0930=document[_0x3c1a87(0xde0)](_0x3c1a87(0x403));try{await ensureGlobalQuizzesLoaded();const _0x2c60a8=doc(db,_0x3c1a87(0xdd2)+appId+_0x3c1a87(0x2ba),currentBlueprintProjectId),_0x484e1f=await getDoc(_0x2c60a8);if(!_0x484e1f[_0x3c1a87(0xa40)]())return;const _0x1c9b79=_0x484e1f['data'](),_0x57b294=_0x1c9b79[_0x3c1a87(0xa57)][_0x52b9f];document[_0x3c1a87(0xde0)](_0x3c1a87(0x691))[_0x3c1a87(0xb0c)]=_0x57b294[_0x3c1a87(0xac2)];const _0x364e85=_0x57b294[_0x3c1a87(0xa0a)]||[];_0x5a0930[_0x3c1a87(0x7cb)][_0x3c1a87(0x527)](_0x3c1a87(0xaa0),_0x364e85[_0x3c1a87(0x9b1)]===0x0),_0x5a0930[_0x3c1a87(0xa67)]=()=>handleClearAllLinksForTopic(_0x52b9f);if(_0x364e85[_0x3c1a87(0x9b1)]===0x0)_0x5c851a[_0x3c1a87(0x2bd)]=_0x3c1a87(0x299);else{const _0x17dc2b=allQuizzesGlobal['filter'](_0x2181dc=>_0x364e85[_0x3c1a87(0xaf6)](_0x2181dc['id']));_0x5c851a[_0x3c1a87(0x2bd)]=_0x17dc2b['map'](_0x29dff6=>_0x3c1a87(0xde2)+_0x29dff6['id']+_0x3c1a87(0x59b)+_0x29dff6['topic']+_0x3c1a87(0x3bb)+_0x29dff6['id']+_0x3c1a87(0x8e9)+_0x29dff6[_0x3c1a87(0x4f1)][_0x3c1a87(0x9b1)]+_0x3c1a87(0x60b)+_0x29dff6['id']+'\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x29dff6['id']+_0x3c1a87(0x3a1)+_0x29dff6['id']+_0x3c1a87(0x86d)+_0x29dff6['id']+_0x3c1a87(0x6f0)+_0x29dff6['id']+_0x3c1a87(0xd46)+_0x29dff6['id']+_0x3c1a87(0xc98)+_0x52b9f+_0x3c1a87(0xd2c)+_0x29dff6['id']+_0x3c1a87(0x4ae))['join']('');}document[_0x3c1a87(0xde0)](_0x3c1a87(0x202))['onclick']=()=>{openQuizSelectorForBlueprint(_0x52b9f);},document[_0x3c1a87(0xde0)](_0x3c1a87(0x761))[_0x3c1a87(0xa67)]=()=>_0x20cf64['classList']['add'](_0x3c1a87(0xaa0)),_0x20cf64['classList'][_0x3c1a87(0x4cd)](_0x3c1a87(0xaa0));}catch(_0x23abec){showMessage(_0x23abec['message']);}}async function openQuizSelectorForBlueprint(_0x2ceee4){const _0x13a5e3=_0x36ca11,_0x154274=document[_0x13a5e3(0xde0)](_0x13a5e3(0x6cf)),_0x5b9b0f=document[_0x13a5e3(0xde0)]('topic-quiz-bank-modal');_0x5b9b0f[_0x13a5e3(0x7cb)]['add'](_0x13a5e3(0xaa0)),document['getElementById']('confirm-link-quiz-btn')?.['remove']();const _0x3d09cc=document[_0x13a5e3(0x78d)](_0x13a5e3(0x549));_0x3d09cc['id']=_0x13a5e3(0xc18),_0x3d09cc['className']='bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400',_0x3d09cc[_0x13a5e3(0xb0c)]='เพิ่มรายการที่เลือก',_0x3d09cc[_0x13a5e3(0xc4f)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x154274[_0x13a5e3(0x7cb)][_0x13a5e3(0x4cd)](_0x13a5e3(0xaa0)),renderQuizBankListForMultiSelect(''),document[_0x13a5e3(0xde0)](_0x13a5e3(0x716))[_0x13a5e3(0x2fc)][_0x13a5e3(0x4b3)]=_0x13a5e3(0x2b2),_0x154274[_0x13a5e3(0xce2)](_0x13a5e3(0x3cb))[_0x13a5e3(0x9b9)](_0x3d09cc);const _0x4a279a=(_0x35ece3=![])=>{const _0x422e3b=_0x13a5e3;_0x154274[_0x422e3b(0x7cb)][_0x422e3b(0x23b)]('hidden'),document[_0x422e3b(0xde0)]('bulk-quiz-settings-btn')['style']['display']=_0x422e3b(0xaf3),_0x3d09cc[_0x422e3b(0x4cd)](),_0x35ece3&&openTopicQuizBank(_0x2ceee4);};_0x3d09cc[_0x13a5e3(0xa67)]=async()=>{const _0x31cdbd=_0x13a5e3,_0x5b3a50=Array[_0x31cdbd(0x64c)](document[_0x31cdbd(0xbe7)](_0x31cdbd(0xd0a)))[_0x31cdbd(0xcf7)](_0x3576b3=>_0x3576b3[_0x31cdbd(0xd73)]);if(_0x5b3a50[_0x31cdbd(0x9b1)]===0x0)return;try{const _0x1bc8a4=doc(db,_0x31cdbd(0xdd2)+appId+_0x31cdbd(0x2ba),currentBlueprintProjectId),_0x3a8936=(await getDoc(_0x1bc8a4))[_0x31cdbd(0x518)](),_0xaebebe=_0x3a8936[_0x31cdbd(0xa57)][_0x2ceee4]['linkedQuizIds']||[],_0x4f18b3=[...new Set([..._0xaebebe,..._0x5b3a50])];await updateDoc(_0x1bc8a4,{[_0x31cdbd(0xd96)+_0x2ceee4+'.linkedQuizIds']:_0x4f18b3}),showMessage('เพิ่ม\x20'+_0x5b3a50[_0x31cdbd(0x9b1)]+_0x31cdbd(0x8b7)),_0x4a279a(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3b85a7){console[_0x31cdbd(0x3c3)](_0x31cdbd(0xa97),_0x3b85a7);}},document[_0x13a5e3(0xde0)](_0x13a5e3(0x2d5))['onclick']=()=>_0x4a279a(!![]);}catch(_0x22f16a){showMessage(_0x22f16a[_0x13a5e3(0x805)]),_0x5b9b0f[_0x13a5e3(0x7cb)][_0x13a5e3(0x4cd)](_0x13a5e3(0xaa0));}}function handleClearLinkedQuiz(_0x44c6d5){const _0x58d324=_0x36ca11;showConfirmation(_0x58d324(0xbe3),async()=>{const _0x175b46=_0x58d324;try{const _0x107058=doc(db,_0x175b46(0xdd2)+appId+_0x175b46(0x2ba),currentBlueprintProjectId);await updateDoc(_0x107058,{[_0x175b46(0xd96)+_0x44c6d5+_0x175b46(0xaaa)]:deleteField()}),showMessage('ยกเลิกการเชื่อมโยงสำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3d0b53){console[_0x175b46(0x3c3)](_0x175b46(0x291),_0x3d0b53),showMessage(_0x175b46(0x3f7));}});}async function addTopicToProject(){const _0x3e3504=_0x36ca11,_0x5d9cf6=prompt(_0x3e3504(0x95c));if(!_0x5d9cf6||_0x5d9cf6[_0x3e3504(0x3ac)]()==='')return;const _0x30b4eb=prompt(_0x3e3504(0x6b4),'สาระที่\x201'),_0x343a0d=prompt(_0x3e3504(0x5c6),'หัวข้อหลักใหม่'),_0x5d4826='topic_'+Date[_0x3e3504(0x51b)]()+Math[_0x3e3504(0xdd3)]()[_0x3e3504(0x460)](0x24)['substr'](0x2,0x9),_0x436596={'sara':_0x30b4eb,'mainTopic':_0x343a0d,'subTopic':_0x5d9cf6['trim'](),'status':_0x3e3504(0x31e),'lessonContent':null};try{const _0x4ca0a8=doc(db,_0x3e3504(0xdd2)+appId+_0x3e3504(0x2ba),currentBlueprintProjectId);await updateDoc(_0x4ca0a8,{[_0x3e3504(0xd96)+_0x5d4826]:_0x436596}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3c7daa){console[_0x3e3504(0x3c3)](_0x3e3504(0x3c0),_0x3c7daa),showMessage('เกิดข้อผิดพลาดในการเพิ่มหัวข้อ');}}async function editTopicInProject(_0x5b8d24){const _0x36b1fb=_0x36ca11,_0x21fddd=document[_0x36b1fb(0xce2)]('[data-topic-id=\x22'+_0x5b8d24+'\x22]'),_0x5f2d74=_0x21fddd[_0x36b1fb(0xce2)](_0x36b1fb(0x647)),_0x29c6fb=_0x5f2d74[_0x36b1fb(0xb0c)],_0x3cc320=prompt('แก้ไขชื่อหัวข้อย่อย:',_0x29c6fb);if(!_0x3cc320||_0x3cc320['trim']()===''||_0x3cc320['trim']()===_0x29c6fb)return;try{const _0x21e9ed=doc(db,_0x36b1fb(0xdd2)+appId+_0x36b1fb(0x2ba),currentBlueprintProjectId);await updateDoc(_0x21e9ed,{[_0x36b1fb(0xd96)+_0x5b8d24+_0x36b1fb(0xb3f)]:_0x3cc320['trim']()}),_0x5f2d74[_0x36b1fb(0xb0c)]=_0x3cc320['trim'](),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x545489){console['error'](_0x36b1fb(0xc4e),_0x545489),showMessage('เกิดข้อผิดพลาดในการแก้ไข');}}async function deleteTopicFromProject(_0x325afc){const _0x1cabde=_0x36ca11;if(!confirm(_0x1cabde(0xab9)))return;try{const _0x4f33b4=doc(db,_0x1cabde(0xdd2)+appId+_0x1cabde(0x2ba),currentBlueprintProjectId);await updateDoc(_0x4f33b4,{[_0x1cabde(0xd96)+_0x325afc]:deleteField()}),document['querySelector'](_0x1cabde(0x749)+_0x325afc+'\x22]')[_0x1cabde(0x4cd)](),showMessage(_0x1cabde(0xa73));}catch(_0x527495){console[_0x1cabde(0x3c3)](_0x1cabde(0x613),_0x527495),showMessage(_0x1cabde(0xa4a));}}async function generateAndSaveLessonForBlueprint(_0x30c04e,_0x10d2bc,_0x1dd568){handleGenerateAndShowLesson(_0x10d2bc,_0x1dd568);const _0x47cc88=setInterval(async()=>{const _0x6c729e=_0x4cf2,_0x5bf24a=document[_0x6c729e(0xde0)](_0x6c729e(0x911)),_0x55f156=_0x5bf24a[_0x6c729e(0x7cb)][_0x6c729e(0xa47)](_0x6c729e(0xaa0));if(_0x55f156){clearInterval(_0x47cc88);if(currentApplicationData&&currentApplicationData[_0x6c729e(0x9b1)]>0x0){const _0x2610cc={'point':document[_0x6c729e(0xde0)]('pointContent')['innerHTML'],'memory':document[_0x6c729e(0xde0)](_0x6c729e(0x341))[_0x6c729e(0x2bd)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document['getElementById'](_0x6c729e(0xae3))[_0x6c729e(0x2bd)]};try{const _0xc1a637=doc(db,_0x6c729e(0xdd2)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x3b0a8d=doc(db,_0x6c729e(0xdd2)+appId+_0x6c729e(0x9d0)+currentBlueprintProjectId+_0x6c729e(0x8b1),_0x30c04e),_0x1658aa=writeBatch(db);_0x1658aa[_0x6c729e(0x2ce)](_0x3b0a8d,{'content':_0x2610cc}),_0x1658aa['update'](_0xc1a637,{[_0x6c729e(0xd96)+_0x30c04e+_0x6c729e(0xc46)]:'generated'}),await _0x1658aa[_0x6c729e(0xda0)](),console['log'](_0x6c729e(0x58b)+_0x30c04e+_0x6c729e(0x945)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1ded11){console['error'](_0x6c729e(0x8f0),_0x1ded11);}}}},0x3e8);}function displayHalfMarkResult(_0x416bbb,_0x240378){const _0x4a0835=_0x36ca11,_0x24195a=_0x416bbb>=_0x240378/0x2,_0x3fd2ab=_0x24195a?_0x4a0835(0x387):_0x4a0835(0x2f6),_0xa74d7a=_0x24195a?'<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x4fbbeb=_0x24195a?_0x4a0835(0x2df):_0x4a0835(0x5e5),_0x5bca90=_0x24195a?_0x4a0835(0x531):_0x4a0835(0x334),_0x14322a=_0x24195a?_0x4a0835(0x712):_0x4a0835(0x6d6);let _0x57ac2c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x3fd2ab+_0x4a0835(0xa55)+_0xa74d7a+_0x4a0835(0x227)+_0x4fbbeb+_0x4a0835(0x849)+_0x5bca90+_0x4a0835(0x62b)+_0x14322a+_0x4a0835(0x7ac);studentResultArea['innerHTML']=_0x57ac2c,studentResultArea[_0x4a0835(0x7cb)][_0x4a0835(0x4cd)](_0x4a0835(0xaa0)),studentQuizArea[_0x4a0835(0x7cb)][_0x4a0835(0x23b)](_0x4a0835(0xaa0)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x24195a});}function displayPerfectScoreResult(_0x18111e,_0x3a2bed){const _0x461f5e=_0x36ca11,_0x1425e8=_0x18111e===_0x3a2bed,_0x14b238=_0x1425e8?_0x461f5e(0x878):_0x461f5e(0xdb7),_0x3522f4=_0x1425e8?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':'<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>',_0xfa73b8=_0x1425e8?'text-yellow-800':_0x461f5e(0xcf1),_0x1bdf3d=_0x1425e8?'คะแนนเต็ม!':_0x461f5e(0x310),_0x3de279=_0x1425e8?_0x461f5e(0x38c):_0x461f5e(0x93a);let _0x1de0b5=_0x461f5e(0xbf3)+_0x14b238+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3522f4+_0x461f5e(0x227)+_0xfa73b8+_0x461f5e(0x849)+_0x1bdf3d+_0x461f5e(0x62b)+_0x3de279+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x461f5e(0x2bd)]=_0x1de0b5,studentResultArea[_0x461f5e(0x7cb)][_0x461f5e(0x4cd)](_0x461f5e(0xaa0)),studentQuizArea['classList'][_0x461f5e(0x23b)](_0x461f5e(0xaa0)),setupResultScreenBackButton({'showRankings':![],'score':_0x18111e,'totalQuestions':_0x3a2bed});}function renderIndividualComparisonTable(_0x560392,_0x4ecdb4){const _0x1ef4e8=_0x36ca11;_0x560392[_0x1ef4e8(0x68d)]((_0x5d5663,_0x8e1f78)=>(_0x8e1f78['tGain']??-Infinity)-(_0x5d5663['tGain']??-Infinity));let _0x372609=_0x1ef4e8(0x7d2);_0x560392['length']===0x0?_0x372609+=_0x1ef4e8(0x8c9):_0x560392[_0x1ef4e8(0x532)]((_0x3775c3,_0x1305ba)=>{const _0x223a5a=_0x1ef4e8;let _0x4147c5='-',_0x11d6bb='';if(_0x3775c3[_0x223a5a(0xa4b)]!==null){const _0x345d6d=_0x3775c3[_0x223a5a(0xa4b)]>0x0?_0x223a5a(0x77d):_0x3775c3[_0x223a5a(0xa4b)]<0x0?_0x223a5a(0x8bd):'text-gray-500',_0x167956=_0x3775c3['gain']>0x0?'+':'';_0x4147c5='<span\x20class=\x22font-bold\x20'+_0x345d6d+'\x22>'+_0x167956+_0x3775c3[_0x223a5a(0xa4b)]+_0x223a5a(0xc7d);if(_0x3775c3['gain']>0x0)_0x11d6bb=_0x223a5a(0xd06);else _0x3775c3['gain']<0x0?_0x11d6bb=_0x223a5a(0x6c8):_0x11d6bb=_0x223a5a(0xc32);}let _0x29dd97='-';if(_0x3775c3['tGain']!==null){const _0x545744=_0x3775c3[_0x223a5a(0xc8a)]>0x0?_0x223a5a(0x77d):_0x3775c3[_0x223a5a(0xc8a)]<0x0?'text-red-600':'text-gray-500',_0x16fae8=_0x3775c3[_0x223a5a(0xc8a)]>0x0?'+':'';_0x29dd97=_0x223a5a(0x512)+_0x545744+'\x22>'+_0x16fae8+_0x3775c3[_0x223a5a(0xc8a)][_0x223a5a(0xb3d)](0x2)+_0x223a5a(0xc7d);}_0x372609+=_0x223a5a(0xd7b)+(_0x1305ba+0x1)+_0x223a5a(0x2ed)+_0x3775c3['name']+_0x223a5a(0x6da)+(_0x3775c3[_0x223a5a(0xab8)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>'+(_0x3775c3[_0x223a5a(0x9a0)]??'-')+_0x223a5a(0x6da)+_0x4147c5+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>'+_0x11d6bb+_0x223a5a(0x5d3)+(_0x3775c3[_0x223a5a(0xd98)]?.[_0x223a5a(0xb3d)](0x2)??'-')+_0x223a5a(0xb82)+(_0x3775c3['postTScore']?.[_0x223a5a(0xb3d)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x29dd97+_0x223a5a(0xa92);}),_0x372609+='</tbody></table></div>',_0x4ecdb4[_0x1ef4e8(0x2bd)]=_0x372609;}function handleRenameQuiz(_0x3b260a,_0x17c553){const _0x334533=_0x36ca11;actionTargetId=_0x3b260a,document[_0x334533(0xde0)](_0x334533(0x983))[_0x334533(0xd73)]=_0x17c553,renameQuizModal[_0x334533(0x7cb)][_0x334533(0x4cd)]('hidden');}function setupComparisonModalTabs(){const _0x4299c3=_0x36ca11,_0x492cee=document[_0x4299c3(0xde0)](_0x4299c3(0x6b8)),_0x646bbf=document[_0x4299c3(0xde0)](_0x4299c3(0x74f)),_0x1c5cd9=document[_0x4299c3(0xde0)](_0x4299c3(0x43e)),_0x2131f8=document['getElementById'](_0x4299c3(0xc97));_0x492cee[_0x4299c3(0x999)](_0x4299c3(0x4fc),()=>{const _0xf058a2=_0x4299c3;_0x492cee[_0xf058a2(0x7cb)]['add']('active'),_0x646bbf[_0xf058a2(0x7cb)]['remove'](_0xf058a2(0x742)),_0x1c5cd9['classList'][_0xf058a2(0x4cd)]('hidden'),_0x2131f8[_0xf058a2(0x7cb)][_0xf058a2(0x23b)](_0xf058a2(0xaa0));}),_0x646bbf[_0x4299c3(0x999)](_0x4299c3(0x4fc),()=>{const _0x1a1a44=_0x4299c3;_0x646bbf[_0x1a1a44(0x7cb)][_0x1a1a44(0x23b)](_0x1a1a44(0x742)),_0x492cee[_0x1a1a44(0x7cb)]['remove']('active'),_0x2131f8['classList'][_0x1a1a44(0x4cd)](_0x1a1a44(0xaa0)),_0x1c5cd9[_0x1a1a44(0x7cb)][_0x1a1a44(0x23b)](_0x1a1a44(0xaa0));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x2217e4=_0x36ca11;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x54cfcf=doc(db,_0x2217e4(0xdd2)+appId+_0x2217e4(0xc0e),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x54cfcf,_0x303cb6=>{const _0x4a8ac2=_0x2217e4;if(!_0x303cb6[_0x4a8ac2(0xa40)]()){showMessage(_0x4a8ac2(0x65a));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x4a8ac2(0x67f)?showView('project-detail'):showView(_0x4a8ac2(0x965));return;}const _0x378eb8=_0x303cb6[_0x4a8ac2(0x518)]();_0x378eb8['shuffledQuiz']&&(currentQuizData=_0x378eb8[_0x4a8ac2(0xd6c)]);!currentQuizData&&_0x378eb8[_0x4a8ac2(0x935)]&&((async()=>{const _0x31e2d7=_0x4a8ac2;try{const _0x1c0674=doc(db,'artifacts/'+appId+_0x31e2d7(0x365),_0x378eb8['quizId']),_0x3ad331=await getDoc(_0x1c0674);_0x3ad331['exists']()&&(currentQuizData={'id':_0x3ad331['id'],..._0x3ad331[_0x31e2d7(0x518)]()});}catch(_0x3bd62a){console['error'](_0x31e2d7(0xc8d),_0x3bd62a);}})());switch(_0x378eb8['status']){case'lobby':if(currentMode===_0x4a8ac2(0x67f)){const _0x5baf53=_0x378eb8[_0x4a8ac2(0x9a3)]?Object['entries'](_0x378eb8[_0x4a8ac2(0x9a3)]):[],_0x5c8a9b=_0x5baf53[_0x4a8ac2(0x273)](([_0x4436c5,_0x3ad6bb])=>_0x3ad6bb['status']===_0x4a8ac2(0x742)),_0x15b219=document[_0x4a8ac2(0xde0)]('player-count');if(_0x15b219)_0x15b219[_0x4a8ac2(0xb0c)]=_0x5c8a9b[_0x4a8ac2(0x9b1)];const _0x4848ae=document[_0x4a8ac2(0xde0)](_0x4a8ac2(0xc85));_0x4848ae&&(_0x4848ae[_0x4a8ac2(0x2bd)]=_0x5c8a9b[_0x4a8ac2(0xcf7)](([_0x37938d,_0x373e49])=>_0x4a8ac2(0x921)+_0x37938d+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x37938d+_0x4a8ac2(0xa5d))[_0x4a8ac2(0xa81)](''));const _0x261c4a=document[_0x4a8ac2(0xde0)](_0x4a8ac2(0x456));_0x261c4a&&(_0x261c4a[_0x4a8ac2(0xc4f)]=_0x5c8a9b['length']===0x0);}else showView(_0x4a8ac2(0x7c8)),liveGameView[_0x4a8ac2(0x2bd)]=_0x4a8ac2(0x587)+currentStudentName+_0x4a8ac2(0x396);break;case _0x4a8ac2(0x359):const _0x50a085=_0x378eb8[_0x4a8ac2(0xca1)];if(currentQuizData&&currentQuizData[_0x4a8ac2(0x4f1)][_0x50a085]){const _0x217dbc=currentQuizData['questions'][_0x50a085],_0x4f1620=_0x378eb8[_0x4a8ac2(0xadb)]||_0x4a8ac2(0x5a5);switch(_0x4f1620){case'summary_chart':currentMode==='admin'?showAdminSummaryView(_0x378eb8,_0x217dbc):showPlayerSummaryView(_0x378eb8,currentStudentName);break;case _0x4a8ac2(0x294):currentMode===_0x4a8ac2(0x67f)&&showTop5LeaderboardView(_0x378eb8);break;case _0x4a8ac2(0x5a5):default:if(currentMode==='admin'){const _0x51a22c=writeBatch(db);let _0x2ba771=![];Object[_0x4a8ac2(0xd3b)](_0x378eb8[_0x4a8ac2(0x9a3)])[_0x4a8ac2(0x532)](([_0xf3c45a,_0x3338d7])=>{const _0x3ec89a=_0x4a8ac2;if(_0x3338d7[_0x3ec89a(0xcb4)]===_0x3ec89a(0x742)&&_0x3338d7['submittedAt']&&!_0x3338d7[_0x3ec89a(0x236)]){_0x2ba771=!![];const _0x2cd8e2=_0x3338d7[_0x3ec89a(0x99e)][_0x3ec89a(0x2c3)]()-_0x378eb8[_0x3ec89a(0x212)]['toDate']();let _0x19d8b6=0x0;if(_0x3338d7['lastAnswerCorrect']){const _0x21aa4c=0x3e8,_0x5be0bd=0x1f4,_0x40c8b8=0x4e20;let _0x112f9b=_0x2cd8e2/_0x40c8b8;if(_0x112f9b>0x1)_0x112f9b=0x1;const _0x36c01b=Math[_0x3ec89a(0x3e5)](_0x112f9b*_0x5be0bd);_0x19d8b6=_0x21aa4c-_0x36c01b;}const _0x4ee8e0=doc(db,_0x3ec89a(0xdd2)+appId+'/public/data/liveGames',currentLiveGameId);_0x51a22c[_0x3ec89a(0x991)](_0x4ee8e0,{['players.'+_0xf3c45a+_0x3ec89a(0x358)]:increment(_0x19d8b6),[_0x3ec89a(0x250)+_0xf3c45a+_0x3ec89a(0x453)]:_0x19d8b6,[_0x3ec89a(0x250)+_0xf3c45a+'.isScored']:!![]});}});_0x2ba771&&_0x51a22c[_0x4a8ac2(0xda0)]()['catch'](_0x692b4c=>console['error'](_0x4a8ac2(0x6b2),_0x692b4c));lastRenderedAdminQuestionIndex!==_0x50a085&&(showAdminLiveQuestionView(_0x217dbc,_0x50a085,currentQuizData['questions'][_0x4a8ac2(0x9b1)]),lastRenderedAdminQuestionIndex=_0x50a085);const _0x5e65ba=_0x378eb8['players']||{},_0x61bd26=Object[_0x4a8ac2(0x976)](_0x5e65ba)[_0x4a8ac2(0x273)](_0x1f1d4f=>_0x1f1d4f['status']===_0x4a8ac2(0x742)),_0x136b33=_0x61bd26['length'],_0x2a6303=_0x61bd26[_0x4a8ac2(0x273)](_0x20571b=>_0x20571b[_0x4a8ac2(0x2a9)]===!![])[_0x4a8ac2(0x9b1)],_0xe5684e=document[_0x4a8ac2(0xde0)](_0x4a8ac2(0x5f9));if(_0xe5684e)_0xe5684e[_0x4a8ac2(0xb0c)]=_0x2a6303+'/'+_0x136b33;const _0xb6f0df=document[_0x4a8ac2(0xde0)]('live-player-list');if(_0xb6f0df){let _0x20f28c=Object[_0x4a8ac2(0xd3b)](_0x5e65ba)[_0x4a8ac2(0x273)](([_0x29f5bf,_0x1cf860])=>_0x1cf860[_0x4a8ac2(0xcb4)]===_0x4a8ac2(0x742))[_0x4a8ac2(0xcf7)](([_0x34e827,_0x28655b])=>{const _0x1cc3a8=_0x4a8ac2,_0x14ee0d=_0x28655b[_0x1cc3a8(0x2a9)]===!![],_0xe88085=_0x14ee0d?_0x1cc3a8(0xc36):_0x1cc3a8(0x6ce),_0x4988ea=_0x14ee0d?_0x1cc3a8(0xcb1):_0x1cc3a8(0x6c5);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0xe88085+_0x1cc3a8(0x251)+_0x4988ea+_0x1cc3a8(0xdb6)+_0x34e827+_0x1cc3a8(0xa9e)+_0x34e827+_0x1cc3a8(0x5c5);})[_0x4a8ac2(0xa81)]('');_0xb6f0df['innerHTML']=_0x20f28c||_0x4a8ac2(0xb01);}_0x136b33>0x0&&_0x2a6303===_0x136b33&&revealAnswerForAdmin(_0x50a085,currentQuizData[_0x4a8ac2(0x4f1)][_0x4a8ac2(0x9b1)]);}else{const _0x3ab6bb=_0x378eb8[_0x4a8ac2(0x9a3)][currentStudentName];_0x3ab6bb&&!_0x3ab6bb[_0x4a8ac2(0x2a9)]&&showStudentLiveQuestionView(_0x217dbc,_0x50a085,currentQuizData[_0x4a8ac2(0x4f1)][_0x4a8ac2(0x9b1)]);}break;}}break;case _0x4a8ac2(0x54b):showPodiumView(_0x378eb8[_0x4a8ac2(0x9a3)],_0x4a8ac2(0xcc9));break;}});}async function openGlobalActivityModal(){const _0x1cfef0=_0x36ca11;if(allQuizzesGlobal[_0x1cfef0(0x9b1)]===0x0){const _0x2fa8cd=await getDocs(collection(db,_0x1cfef0(0xdd2)+appId+_0x1cfef0(0x365)));allQuizzesGlobal=_0x2fa8cd[_0x1cfef0(0x309)][_0x1cfef0(0xcf7)](_0xbc6adf=>({'id':_0xbc6adf['id'],..._0xbc6adf[_0x1cfef0(0x518)]()}));}renderGlobalActivityList(''),document[_0x1cfef0(0xde0)](_0x1cfef0(0xc35))[_0x1cfef0(0x7cb)]['remove']('hidden');}function renderGlobalActivityList(_0x4aa86d=''){const _0xb2c32f=_0x36ca11,_0x24a6f9=document[_0xb2c32f(0xde0)](_0xb2c32f(0x39a)),_0x452372=_0x4aa86d['toLowerCase']()[_0xb2c32f(0x3ac)](),_0x4c7552=allQuizzesGlobal[_0xb2c32f(0xcf7)](_0x1f3aa4=>({..._0x1f3aa4,'projectName':allProjects[_0xb2c32f(0x349)](_0x5775d3=>_0x5775d3['id']===_0x1f3aa4[_0xb2c32f(0x264)])?.['projectName']||_0xb2c32f(0xbc0)}))[_0xb2c32f(0x273)](_0x2542cd=>(_0x2542cd[_0xb2c32f(0x714)]||'')[_0xb2c32f(0x442)]()[_0xb2c32f(0xaf6)](_0x452372)||(_0x2542cd[_0xb2c32f(0xd30)]||'')[_0xb2c32f(0x442)]()[_0xb2c32f(0xaf6)](_0x452372));document[_0xb2c32f(0xde0)](_0xb2c32f(0x9e6))[_0xb2c32f(0xb0c)]='('+_0x4c7552[_0xb2c32f(0x9b1)]+'\x20ชุด)',_0x24a6f9[_0xb2c32f(0x2bd)]=_0x4c7552['length']?_0x4c7552[_0xb2c32f(0xcf7)](_0x2d2f6f=>_0xb2c32f(0xd1c)+(_0x2d2f6f[_0xb2c32f(0x714)]||_0xb2c32f(0x2fe))+_0xb2c32f(0xd31)+(_0x2d2f6f['questions']?.[_0xb2c32f(0x9b1)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x2d2f6f[_0xb2c32f(0xd30)]+_0xb2c32f(0xb5e)+_0x2d2f6f['id']+'\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2d2f6f['id']+_0xb2c32f(0x73a)+_0x2d2f6f['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2d2f6f['id']+_0xb2c32f(0x5b7))[_0xb2c32f(0xa81)](''):_0xb2c32f(0x3e3);}async function handleKickPlayer(_0xf230a7){const _0x519a21=_0x36ca11;if(!currentLiveGameId||!_0xf230a7)return;const _0x1b86cd=doc(db,_0x519a21(0xdd2)+appId+'/public/data/liveGames',currentLiveGameId),_0x109189={};_0x109189[_0x519a21(0x250)+_0xf230a7+_0x519a21(0xc46)]=_0x519a21(0x7d4);try{await updateDoc(_0x1b86cd,_0x109189);}catch(_0x328a05){console['error'](_0x519a21(0xa3a)+_0xf230a7+':',_0x328a05),showMessage(_0x519a21(0xdb9));}}async function authenticateUser(){const _0x233cab=_0x36ca11;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x2419db){console['error'](_0x233cab(0xb1e),_0x2419db),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x270152){const _0x1bf9b2=_0x36ca11;adminView[_0x1bf9b2(0x7cb)][_0x1bf9b2(0x23b)]('hidden'),studentView[_0x1bf9b2(0x7cb)][_0x1bf9b2(0x23b)]('hidden'),projectDashboardView[_0x1bf9b2(0x7cb)][_0x1bf9b2(0x23b)](_0x1bf9b2(0xaa0)),projectDetailView[_0x1bf9b2(0x7cb)][_0x1bf9b2(0x23b)]('hidden'),quizResultsView['classList']['add'](_0x1bf9b2(0xaa0)),liveGameView[_0x1bf9b2(0x7cb)][_0x1bf9b2(0x23b)]('hidden'),document[_0x1bf9b2(0xde0)]('blueprint-project-manager-view')['classList'][_0x1bf9b2(0x23b)](_0x1bf9b2(0xaa0)),studentInitialView[_0x1bf9b2(0x7cb)]['add'](_0x1bf9b2(0xaa0)),studentJoinGameView['classList'][_0x1bf9b2(0x23b)](_0x1bf9b2(0xaa0)),studentNameSelectionView[_0x1bf9b2(0x7cb)]['add'](_0x1bf9b2(0xaa0)),studentQuizArea[_0x1bf9b2(0x7cb)][_0x1bf9b2(0x23b)](_0x1bf9b2(0xaa0)),studentResultArea[_0x1bf9b2(0x7cb)]['add'](_0x1bf9b2(0xaa0)),studentReadingArea[_0x1bf9b2(0x7cb)][_0x1bf9b2(0x23b)]('hidden');const _0x520dc=document[_0x1bf9b2(0xde0)](_0x1bf9b2(0x3ae)),_0x6e8f77=document[_0x1bf9b2(0xde0)]('student-progress-view');if(_0x520dc)_0x520dc[_0x1bf9b2(0x7cb)]['add']('hidden');if(_0x6e8f77)_0x6e8f77[_0x1bf9b2(0x7cb)][_0x1bf9b2(0x23b)]('hidden');switch(_0x270152){case'admin-dashboard':adminView[_0x1bf9b2(0x7cb)]['remove']('hidden'),projectDashboardView[_0x1bf9b2(0x7cb)][_0x1bf9b2(0x4cd)](_0x1bf9b2(0xaa0));break;case _0x1bf9b2(0x46c):adminView[_0x1bf9b2(0x7cb)][_0x1bf9b2(0x4cd)]('hidden'),projectDetailView[_0x1bf9b2(0x7cb)][_0x1bf9b2(0x4cd)](_0x1bf9b2(0xaa0));break;case'quiz-results':adminView[_0x1bf9b2(0x7cb)][_0x1bf9b2(0x4cd)](_0x1bf9b2(0xaa0)),quizResultsView['classList'][_0x1bf9b2(0x4cd)](_0x1bf9b2(0xaa0));break;case'student':studentView[_0x1bf9b2(0x7cb)][_0x1bf9b2(0x4cd)]('hidden'),studentInitialView[_0x1bf9b2(0x7cb)][_0x1bf9b2(0x4cd)](_0x1bf9b2(0xaa0));break;case'live-game':liveGameView[_0x1bf9b2(0x7cb)]['remove'](_0x1bf9b2(0xaa0));break;case _0x1bf9b2(0x444):studentView['classList'][_0x1bf9b2(0x4cd)](_0x1bf9b2(0xaa0));if(_0x520dc)_0x520dc[_0x1bf9b2(0x7cb)][_0x1bf9b2(0x4cd)](_0x1bf9b2(0xaa0));break;case _0x1bf9b2(0x46f):studentView['classList'][_0x1bf9b2(0x4cd)](_0x1bf9b2(0xaa0));if(_0x6e8f77)_0x6e8f77[_0x1bf9b2(0x7cb)][_0x1bf9b2(0x4cd)](_0x1bf9b2(0xaa0));break;default:studentView[_0x1bf9b2(0x7cb)][_0x1bf9b2(0x4cd)]('hidden'),studentInitialView['classList']['remove']('hidden');break;}}function showJoinGameView(){const _0x5bc006=_0x36ca11;studentInitialView['classList'][_0x5bc006(0x23b)](_0x5bc006(0xaa0)),studentJoinGameView[_0x5bc006(0x7cb)][_0x5bc006(0x4cd)](_0x5bc006(0xaa0));}async function handleSaveVisibilitySettings(){const _0x3a197a=_0x36ca11;if(!currentProjectId)return;const _0x5011ce=doc(db,_0x3a197a(0xdd2)+appId+_0x3a197a(0x20e),currentProjectId);try{await updateDoc(_0x5011ce,{'settings.showInStudentDashboard':document[_0x3a197a(0xde0)](_0x3a197a(0xa12))[_0x3a197a(0x39b)],'settings.isPasscodeEnabled':document[_0x3a197a(0xde0)](_0x3a197a(0x820))[_0x3a197a(0x39b)],'settings.passcode':document[_0x3a197a(0xde0)](_0x3a197a(0xa0d))[_0x3a197a(0xd73)][_0x3a197a(0x3ac)]()}),showMessage(_0x3a197a(0xa11));}catch(_0x42da7d){console['error'](_0x3a197a(0xb90),_0x42da7d),showMessage(_0x3a197a(0x2bc));}}function setupEventListeners(){const _0x5e5613=_0x36ca11;document[_0x5e5613(0xde0)]('sync-timer-enable-checkbox')[_0x5e5613(0x999)]('change',_0x3bff8b=>{const _0x41397f=_0x5e5613;document[_0x41397f(0xde0)]('sync-timer-duration-container')[_0x41397f(0x7cb)][_0x41397f(0x527)](_0x41397f(0xaa0),!_0x3bff8b[_0x41397f(0x28a)]['checked']);});const _0x4a8a90=document[_0x5e5613(0xde0)](_0x5e5613(0x85a)),_0xadbc2e=document[_0x5e5613(0xde0)](_0x5e5613(0x581));_0x4a8a90&&_0xadbc2e&&_0x4a8a90[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{const _0x55a7d4=_0x5e5613;_0xadbc2e['classList']['add'](_0x55a7d4(0xaa0)),_0xadbc2e[_0x55a7d4(0xdcf)][_0x55a7d4(0x98e)]='';});const _0x5cbdbb=document[_0x5e5613(0xde0)](_0x5e5613(0xbd1));_0x5cbdbb&&(_0x5cbdbb[_0x5e5613(0x999)](_0x5e5613(0x759),wakeUpScreen),_0x5cbdbb['addEventListener'](_0x5e5613(0x600),wakeUpScreen));document[_0x5e5613(0xde0)](_0x5e5613(0x480))[_0x5e5613(0x999)]('click',async()=>{const _0x27038d=_0x5e5613;if(!currentBlueprintProjectId)return;const _0x575c82=document['getElementById']('bp-reference-file-url')['value']['trim'](),_0x5a27c9=doc(db,_0x27038d(0xdd2)+appId+_0x27038d(0x2ba),currentBlueprintProjectId);try{await updateDoc(_0x5a27c9,{'referenceFileUrl':_0x575c82}),showMessage(_0x27038d(0xcf6));}catch(_0x75f900){console[_0x27038d(0x3c3)]('Error\x20saving\x20reference\x20URL:',_0x75f900),showMessage(_0x27038d(0x2bc));}}),document[_0x5e5613(0xde0)](_0x5e5613(0x487))[_0x5e5613(0x999)](_0x5e5613(0x4fc),handleAddParallelShortcutTab),document[_0x5e5613(0xde0)](_0x5e5613(0x6c2))['addEventListener'](_0x5e5613(0x4fc),_0x281a6b=>{const _0x127543=_0x5e5613;_0x281a6b[_0x127543(0x28a)]['closest'](_0x127543(0x8ea))&&(activeParallelShortcutTabId='all',renderAdditionalParallelShortcutsModal(),document['getElementById'](_0x127543(0x923))[_0x127543(0x7cb)]['remove'](_0x127543(0xaa0)));}),document[_0x5e5613(0xde0)](_0x5e5613(0x5dd))['addEventListener'](_0x5e5613(0x4fc),()=>{const _0x40f1ef=_0x5e5613;document[_0x40f1ef(0xde0)]('additional-parallel-shortcuts-modal')['classList'][_0x40f1ef(0x23b)](_0x40f1ef(0xaa0));}),document[_0x5e5613(0x999)]('click',_0x3d497e=>{const _0x10f415=_0x5e5613;!_0x3d497e[_0x10f415(0x28a)]['closest'](_0x10f415(0x7af))&&document['querySelectorAll'](_0x10f415(0x32e))[_0x10f415(0x532)](_0x36456a=>_0x36456a['classList'][_0x10f415(0x23b)](_0x10f415(0xaa0)));}),document[_0x5e5613(0xde0)](_0x5e5613(0x603))[_0x5e5613(0x999)](_0x5e5613(0x4fc),handleAddFileShortcutTab),document[_0x5e5613(0xde0)](_0x5e5613(0x6e5))[_0x5e5613(0x999)](_0x5e5613(0x4fc),_0x10e5bd=>{const _0x8e1f43=_0x5e5613;_0x10e5bd[_0x8e1f43(0x28a)][_0x8e1f43(0xd5a)](_0x8e1f43(0x8bc))&&(activeFileShortcutTabId=_0x8e1f43(0x45e),renderAdditionalFileShortcutsModal(),document[_0x8e1f43(0xde0)](_0x8e1f43(0x913))['classList'][_0x8e1f43(0x4cd)](_0x8e1f43(0xaa0)));}),document[_0x5e5613(0xde0)](_0x5e5613(0x57c))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{const _0x37ef38=_0x5e5613;document[_0x37ef38(0xde0)](_0x37ef38(0x913))[_0x37ef38(0x7cb)]['add'](_0x37ef38(0xaa0));}),document[_0x5e5613(0x999)](_0x5e5613(0x4fc),_0x56516e=>{const _0x16b503=_0x5e5613;!_0x56516e[_0x16b503(0x28a)]['closest'](_0x16b503(0x745))&&document[_0x16b503(0xbe7)]('.move-file-shortcut-dropdown')[_0x16b503(0x532)](_0x345790=>_0x345790[_0x16b503(0x7cb)][_0x16b503(0x23b)](_0x16b503(0xaa0)));}),document[_0x5e5613(0xde0)](_0x5e5613(0x6ca))['addEventListener']('click',handleAddShortcutTab),document[_0x5e5613(0xde0)](_0x5e5613(0x6ff))[_0x5e5613(0x999)](_0x5e5613(0x4fc),_0x39e176=>{const _0x467570=_0x5e5613,_0x5736d2=_0x39e176['target'][_0x467570(0xd5a)](_0x467570(0xadc)),_0x49476d=_0x39e176[_0x467570(0x28a)][_0x467570(0xd5a)](_0x467570(0xad1)),_0x271d38=_0x39e176['target'][_0x467570(0xd5a)](_0x467570(0x662));if(_0x49476d)openParallelTestShortcutEditor(_0x49476d[_0x467570(0xdcf)]['id']);else{if(_0x271d38){const _0x5282ef=_0x271d38[_0x467570(0xdcf)]['id'];showConfirmation(_0x467570(0x232),async()=>{const _0x434ea4=_0x467570,_0x2c2eae=parallelTestShortcuts[_0x434ea4(0x273)](_0x530b02=>_0x530b02['id']!==_0x5282ef),_0x31374c=doc(db,_0x434ea4(0xd5e),'parallelTestShortcutsConfig');await setDoc(_0x31374c,{'shortcuts':_0x2c2eae},{'merge':!![]});});}else _0x5736d2&&handleParallelTestShortcutClick(_0x5736d2[_0x467570(0xdcf)]['id']);}}),document[_0x5e5613(0xde0)](_0x5e5613(0xb81))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>openParallelTestShortcutEditor(null)),document[_0x5e5613(0xde0)](_0x5e5613(0xa2a))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{const _0x1f6933=_0x5e5613;document[_0x1f6933(0xde0)](_0x1f6933(0x75f))[_0x1f6933(0x7cb)][_0x1f6933(0x23b)]('hidden');}),document[_0x5e5613(0xde0)](_0x5e5613(0x509))[_0x5e5613(0x999)](_0x5e5613(0x4fc),saveParallelTestShortcutChanges),document[_0x5e5613(0xde0)](_0x5e5613(0x6c2))[_0x5e5613(0x999)]('click',_0x1cd343=>{const _0x5a586c=_0x5e5613;_0x1cd343[_0x5a586c(0x28a)][_0x5a586c(0xd5a)]('#open-additional-parallel-shortcuts-btn')&&document[_0x5a586c(0xde0)](_0x5a586c(0x923))[_0x5a586c(0x7cb)][_0x5a586c(0x4cd)](_0x5a586c(0xaa0));}),document[_0x5e5613(0xde0)](_0x5e5613(0x5dd))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{const _0x5e6c5e=_0x5e5613;document[_0x5e6c5e(0xde0)](_0x5e6c5e(0x923))[_0x5e6c5e(0x7cb)][_0x5e6c5e(0x23b)](_0x5e6c5e(0xaa0));}),document[_0x5e5613(0xde0)](_0x5e5613(0x60a))[_0x5e5613(0x999)]('click',_0xf5214d=>{const _0x227b93=_0x5e5613,_0x1a5d9e=document[_0x227b93(0xde0)]('additional-parallel-shortcuts-modal'),_0x542858=_0xf5214d['target'][_0x227b93(0xd5a)](_0x227b93(0x4f3)),_0x4418d3=_0xf5214d[_0x227b93(0x28a)][_0x227b93(0xd5a)](_0x227b93(0x4ed)),_0x4e5d66=_0xf5214d[_0x227b93(0x28a)][_0x227b93(0xd5a)](_0x227b93(0x788));if(_0x542858)_0x1a5d9e[_0x227b93(0x7cb)]['add'](_0x227b93(0xaa0)),handleParallelTestShortcutClick(_0x542858[_0x227b93(0xdcf)]['id']);else{if(_0x4418d3)_0x1a5d9e['classList']['add'](_0x227b93(0xaa0)),openParallelTestShortcutEditor(_0x4418d3[_0x227b93(0xdcf)]['id']);else{if(_0x4e5d66){const _0x14a884=_0x4e5d66[_0x227b93(0xdcf)]['id'];showConfirmation(_0x227b93(0x232),async()=>{const _0x264519=_0x227b93,_0x2817b9=parallelTestShortcuts[_0x264519(0x273)](_0x154b1e=>_0x154b1e['id']!==_0x14a884),_0x3abf8e=doc(db,_0x264519(0xd5e),_0x264519(0x429));await setDoc(_0x3abf8e,{'shortcuts':_0x2817b9},{'merge':!![]});});}}}}),document[_0x5e5613(0xde0)](_0x5e5613(0x7aa))[_0x5e5613(0x999)](_0x5e5613(0x4fc),_0x3a14a6=>{const _0x4381f8=_0x5e5613,_0x191e4f=_0x3a14a6[_0x4381f8(0x28a)][_0x4381f8(0xd5a)]('.file-shortcut-btn'),_0x4986b8=_0x3a14a6[_0x4381f8(0x28a)][_0x4381f8(0xd5a)]('.edit-file-shortcut-btn'),_0x30c46e=_0x3a14a6[_0x4381f8(0x28a)][_0x4381f8(0xd5a)](_0x4381f8(0x814));if(_0x4986b8)openFileShortcutEditor(_0x4986b8[_0x4381f8(0xdcf)]['id']);else{if(_0x30c46e){const _0x5eb56a=_0x30c46e[_0x4381f8(0xdcf)]['id'];showConfirmation(_0x4381f8(0x232),async()=>{const _0x521072=_0x4381f8,_0x35a279=fileShortcuts[_0x521072(0x273)](_0x5b67bf=>_0x5b67bf['id']!==_0x5eb56a),_0x48c272=doc(db,_0x521072(0xd5e),_0x521072(0xd95));await setDoc(_0x48c272,{'shortcuts':_0x35a279},{'merge':!![]});});}else _0x191e4f&&handleFileShortcutClick(_0x191e4f[_0x4381f8(0xdcf)]['id']);}}),document[_0x5e5613(0xde0)](_0x5e5613(0x6c3))['addEventListener'](_0x5e5613(0x4fc),()=>openFileShortcutEditor(null)),document[_0x5e5613(0xde0)](_0x5e5613(0x798))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{const _0x59c27e=_0x5e5613;document[_0x59c27e(0xde0)](_0x59c27e(0xc39))[_0x59c27e(0x7cb)][_0x59c27e(0x23b)]('hidden');}),document[_0x5e5613(0xde0)](_0x5e5613(0xb9f))[_0x5e5613(0x999)](_0x5e5613(0x4fc),saveFileShortcutChanges),document['getElementById']('file-input-area')[_0x5e5613(0x999)]('click',_0x457e05=>{const _0x501d12=_0x5e5613;_0x457e05[_0x501d12(0x28a)][_0x501d12(0xd5a)](_0x501d12(0x8bc))&&document[_0x501d12(0xde0)](_0x501d12(0x913))['classList']['remove'](_0x501d12(0xaa0));}),document[_0x5e5613(0xde0)](_0x5e5613(0x57c))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{const _0x2c38a2=_0x5e5613;document[_0x2c38a2(0xde0)](_0x2c38a2(0x913))[_0x2c38a2(0x7cb)][_0x2c38a2(0x23b)](_0x2c38a2(0xaa0));}),document[_0x5e5613(0xde0)](_0x5e5613(0xde3))[_0x5e5613(0x999)](_0x5e5613(0x4fc),_0x45cdb3=>{const _0x13ce39=_0x5e5613,_0x2748cd=document[_0x13ce39(0xde0)]('additional-file-shortcuts-modal'),_0x597885=_0x45cdb3['target'][_0x13ce39(0xd5a)](_0x13ce39(0x8c5)),_0x1c2e66=_0x45cdb3[_0x13ce39(0x28a)][_0x13ce39(0xd5a)](_0x13ce39(0x73d)),_0x15acad=_0x45cdb3[_0x13ce39(0x28a)]['closest'](_0x13ce39(0x84b));if(_0x597885)_0x2748cd[_0x13ce39(0x7cb)][_0x13ce39(0x23b)]('hidden'),handleFileShortcutClick(_0x597885[_0x13ce39(0xdcf)]['id']);else{if(_0x1c2e66)_0x2748cd[_0x13ce39(0x7cb)][_0x13ce39(0x23b)](_0x13ce39(0xaa0)),openFileShortcutEditor(_0x1c2e66[_0x13ce39(0xdcf)]['id']);else{if(_0x15acad){const _0x5e8be7=_0x15acad[_0x13ce39(0xdcf)]['id'];showConfirmation(_0x13ce39(0x232),async()=>{const _0x7f00e3=_0x13ce39,_0x2a0885=fileShortcuts[_0x7f00e3(0x273)](_0x43f241=>_0x43f241['id']!==_0x5e8be7),_0x55cb18=doc(db,'globalSettings',_0x7f00e3(0xd95));await setDoc(_0x55cb18,{'shortcuts':_0x2a0885},{'merge':!![]});});}}}}),document[_0x5e5613(0xde0)](_0x5e5613(0x435))[_0x5e5613(0x999)](_0x5e5613(0x4fc),_0x4a1a8d=>{const _0x14f5ba=_0x5e5613;_0x4a1a8d[_0x14f5ba(0x28a)][_0x14f5ba(0xd5a)](_0x14f5ba(0xa4f))&&(activeShortcutTabId=_0x14f5ba(0x45e),renderAdditionalShortcutsModal(),document[_0x14f5ba(0xde0)]('additional-shortcuts-modal')[_0x14f5ba(0x7cb)][_0x14f5ba(0x4cd)]('hidden'));}),document[_0x5e5613(0xde0)]('close-additional-shortcuts-btn')[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{const _0x563354=_0x5e5613;document['getElementById'](_0x563354(0x4cb))[_0x563354(0x7cb)][_0x563354(0x23b)](_0x563354(0xaa0));}),document[_0x5e5613(0xde0)](_0x5e5613(0xb2e))['addEventListener'](_0x5e5613(0x4fc),_0x19d72e=>{const _0x3b0b63=_0x5e5613,_0x133d69=_0x19d72e['target']['closest']('.use-hidden-shortcut-btn'),_0x566fe4=_0x19d72e['target']['closest'](_0x3b0b63(0xbf7)),_0x426254=_0x19d72e[_0x3b0b63(0x28a)][_0x3b0b63(0xd5a)](_0x3b0b63(0x81d)),_0x258099=document[_0x3b0b63(0xde0)](_0x3b0b63(0x4cb));if(_0x133d69)_0x258099['classList'][_0x3b0b63(0x23b)](_0x3b0b63(0xaa0)),handleShortcutClick(_0x133d69[_0x3b0b63(0xdcf)]['id']);else{if(_0x566fe4)_0x258099[_0x3b0b63(0x7cb)][_0x3b0b63(0x23b)](_0x3b0b63(0xaa0)),openShortcutEditor(_0x566fe4[_0x3b0b63(0xdcf)]['id']);else{if(_0x426254){const _0x121ea6=_0x426254['dataset']['id'],_0x666392=blueprintShortcuts['find'](_0x564524=>_0x564524['id']===_0x121ea6)?.[_0x3b0b63(0xa69)];showConfirmation(_0x3b0b63(0x3b1)+_0x666392+'\x22?',async()=>{const _0x2eb3e5=_0x3b0b63,_0x5b6497=blueprintShortcuts['filter'](_0x527e42=>_0x527e42['id']!==_0x121ea6);try{const _0x457abb=doc(db,_0x2eb3e5(0xd5e),_0x2eb3e5(0x3eb));await setDoc(_0x457abb,{'blueprintShortcuts':_0x5b6497},{'merge':!![]});}catch(_0x506b67){console[_0x2eb3e5(0x3c3)](_0x2eb3e5(0xd85),_0x506b67);}});}}}}),document[_0x5e5613(0xde0)](_0x5e5613(0xc38))[_0x5e5613(0x999)](_0x5e5613(0x4fc),_0x46e87a=>{const _0x35626e=_0x5e5613,_0x511786=_0x46e87a['target'][_0x35626e(0xd5a)]('.shortcut-btn'),_0x9ea850=_0x46e87a[_0x35626e(0x28a)][_0x35626e(0xd5a)]('.edit-shortcut-btn'),_0x2243e2=_0x46e87a[_0x35626e(0x28a)][_0x35626e(0xd5a)](_0x35626e(0x715));if(_0x9ea850)openShortcutEditor(_0x9ea850[_0x35626e(0xdcf)]['id']);else{if(_0x2243e2){const _0x38cdc9=_0x2243e2['dataset']['id'],_0x5f5955=blueprintShortcuts[_0x35626e(0x349)](_0x4abd31=>_0x4abd31['id']===_0x38cdc9)?.['name'];showConfirmation(_0x35626e(0x3b1)+_0x5f5955+'\x22?',async()=>{const _0x17f74b=_0x35626e,_0x38dca9=blueprintShortcuts['filter'](_0x3ea08b=>_0x3ea08b['id']!==_0x38cdc9);try{const _0x36c823=doc(db,_0x17f74b(0xd5e),_0x17f74b(0x3eb));await setDoc(_0x36c823,{'blueprintShortcuts':_0x38dca9},{'merge':!![]});}catch(_0x3baaee){console[_0x17f74b(0x3c3)]('Error\x20deleting\x20shortcut:',_0x3baaee);}});}else _0x511786&&handleShortcutClick(_0x511786[_0x35626e(0xdcf)]['id']);}}),document[_0x5e5613(0xde0)]('add-shortcut-btn')[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>openShortcutEditor(null)),document[_0x5e5613(0xde0)](_0x5e5613(0x8a7))['addEventListener'](_0x5e5613(0x4fc),()=>{const _0x419196=_0x5e5613;document[_0x419196(0xde0)]('shortcut-editor-modal')[_0x419196(0x7cb)]['add'](_0x419196(0xaa0));}),document[_0x5e5613(0xde0)](_0x5e5613(0xacf))[_0x5e5613(0x999)]('click',saveShortcutChanges),document['getElementById'](_0x5e5613(0xabe))['addEventListener']('click',async()=>{const _0x6d39a2=_0x5e5613,_0x3606fc=document[_0x6d39a2(0xde0)](_0x6d39a2(0x61a)),_0x1516d1=document[_0x6d39a2(0xde0)](_0x6d39a2(0x610));_0x3606fc[_0x6d39a2(0x6bc)][_0x6d39a2(0x9b1)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x3606fc[_0x6d39a2(0x6bc)][0x0],_0x1516d1[_0x6d39a2(0x6bc)][0x0]||null):showMessage(_0x6d39a2(0x524));}),document[_0x5e5613(0xde0)]('topic-quiz-bank-modal')[_0x5e5613(0x999)](_0x5e5613(0x4fc),async _0x54c6b2=>{const _0x14142f=_0x5e5613,_0x139831=document['getElementById'](_0x14142f(0x971)),_0xae953a=_0x54c6b2[_0x14142f(0x28a)][_0x14142f(0xd5a)](_0x14142f(0x77f)),_0xf14064=_0x54c6b2[_0x14142f(0x28a)]['closest']('.bp-unlink-quiz-btn'),_0x46a545=_0x54c6b2['target'][_0x14142f(0xd5a)]('.bp-present-btn'),_0x4e72ce=_0x54c6b2[_0x14142f(0x28a)][_0x14142f(0xd5a)]('.bp-try-btn'),_0x40d9f4=_0x54c6b2[_0x14142f(0x28a)][_0x14142f(0xd5a)]('.bp-live-btn'),_0x242a21=_0x54c6b2[_0x14142f(0x28a)][_0x14142f(0xd5a)](_0x14142f(0xd3d));if(_0xae953a){cameFromBlueprint=!![];const _0x5943e4=_0xae953a['dataset'][_0x14142f(0x935)];showQuizDetailView(_0x5943e4),_0x139831['classList']['add']('hidden');}else{if(_0xf14064){const _0x4f7290=_0xf14064[_0x14142f(0xdcf)][_0x14142f(0xbbd)],_0x2abca6=_0xf14064[_0x14142f(0xdcf)][_0x14142f(0x935)],_0x55558=allQuizzesGlobal[_0x14142f(0x349)](_0x2b2b43=>_0x2b2b43['id']===_0x2abca6),_0x2f44d2=_0x55558?_0x55558[_0x14142f(0x714)]:'รายการนี้';showConfirmation(_0x14142f(0x815)+_0x2f44d2+_0x14142f(0x6f5),async()=>{const _0x126d6c=_0x14142f;try{const _0xd3d774=doc(db,_0x126d6c(0xdd2)+appId+_0x126d6c(0x2ba),currentBlueprintProjectId);await updateDoc(_0xd3d774,{[_0x126d6c(0xd96)+_0x4f7290+'.linkedQuizIds']:arrayRemove(_0x2abca6)}),showMessage(_0x126d6c(0xaf4)),openTopicQuizBank(_0x4f7290),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x12ecde){console[_0x126d6c(0x3c3)]('Error\x20unlinking\x20quiz:',_0x12ecde),showMessage('เกิดข้อผิดพลาดในการนำแบบทดสอบออก');}});}else{if(_0x46a545){cameFromBlueprint=!![];const _0xdb519a=_0x46a545[_0x14142f(0xdcf)]['quizId'],_0x39aff9=allQuizzesGlobal[_0x14142f(0x349)](_0x52bf91=>_0x52bf91['id']===_0xdb519a);_0x39aff9&&(startPresentation(_0x39aff9),_0x139831['classList'][_0x14142f(0x23b)]('hidden'));}else{if(_0x4e72ce){cameFromBlueprint=!![];const _0xeac849=_0x4e72ce[_0x14142f(0xdcf)][_0x14142f(0x935)],_0xf4b0fc=allQuizzesGlobal[_0x14142f(0x349)](_0x292f47=>_0x292f47['id']===_0xeac849);_0xf4b0fc&&(currentQuizData=_0xf4b0fc,startAdminTest(),_0x139831[_0x14142f(0x7cb)][_0x14142f(0x23b)](_0x14142f(0xaa0)));}else{if(_0x40d9f4)cameFromBlueprint=!![],handleStartLiveRace(_0x40d9f4[_0x14142f(0xdcf)]['quizId']),_0x139831[_0x14142f(0x7cb)][_0x14142f(0x23b)](_0x14142f(0xaa0));else{if(_0x242a21){cameFromBlueprint=!![];const _0x5d533d=_0x242a21[_0x14142f(0xdcf)]['quizId'],_0x66dc05=_0x242a21['dataset'][_0x14142f(0x8ec)],_0x11e5d6=allQuizzesGlobal['find'](_0x1ab9a1=>_0x1ab9a1['id']===_0x5d533d);_0x11e5d6&&(showGameStartConfirmationModal(_0x5d533d,_0x66dc05,_0x11e5d6['topic']),_0x139831[_0x14142f(0x7cb)][_0x14142f(0x23b)](_0x14142f(0xaa0)));}}}}}}}),document[_0x5e5613(0xde0)](_0x5e5613(0xa39))[_0x5e5613(0x999)]('click',()=>{const _0x1fbd99=_0x5e5613;document[_0x1fbd99(0xde0)](_0x1fbd99(0x433))[_0x1fbd99(0x7cb)][_0x1fbd99(0x4cd)](_0x1fbd99(0xaa0)),document[_0x1fbd99(0xde0)]('manual-bp-project-name')[_0x1fbd99(0xd73)]='',document[_0x1fbd99(0xde0)](_0x1fbd99(0x8d8))['value']='',document[_0x1fbd99(0xde0)]('manual-bp-content')[_0x1fbd99(0xd73)]='';}),document[_0x5e5613(0xde0)](_0x5e5613(0x3ee))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{const _0x30b69a=_0x5e5613;document[_0x30b69a(0xde0)](_0x30b69a(0x433))['classList']['add'](_0x30b69a(0xaa0));}),document[_0x5e5613(0xde0)](_0x5e5613(0xb11))[_0x5e5613(0x999)](_0x5e5613(0x4fc),handleManualBlueprintSave),document[_0x5e5613(0xde0)](_0x5e5613(0x806))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>document['getElementById'](_0x5e5613(0x7a3))[_0x5e5613(0x7cb)]['add'](_0x5e5613(0xaa0))),document[_0x5e5613(0xde0)](_0x5e5613(0x8c4))['addEventListener']('click',handleSaveBlueprintPageSettings),document[_0x5e5613(0xde0)]('bp-quiz-settings-btn')[_0x5e5613(0x999)](_0x5e5613(0x4fc),openBlueprintQuizSettings),document['getElementById']('save-blueprint-as-project-btn')[_0x5e5613(0x999)](_0x5e5613(0x4fc),saveBlueprintProject),document['getElementById']('open-blueprint-projects-btn')[_0x5e5613(0x999)]('click',showBlueprintProjects),document[_0x5e5613(0xde0)](_0x5e5613(0x90e))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{const _0x542dd4=_0x5e5613;document[_0x542dd4(0xde0)](_0x542dd4(0x2e9))[_0x542dd4(0x7cb)][_0x542dd4(0x23b)](_0x542dd4(0xaa0));}),document[_0x5e5613(0xde0)](_0x5e5613(0xceb))[_0x5e5613(0x999)](_0x5e5613(0x4fc),_0x53100f=>{const _0x11bbd8=_0x5e5613,_0x4c329b=_0x53100f['target'][_0x11bbd8(0xd5a)](_0x11bbd8(0x30d)),_0x1d445c=_0x53100f[_0x11bbd8(0x28a)]['closest'](_0x11bbd8(0x611));if(_0x4c329b)displayBlueprintProjectManager(_0x4c329b['dataset']['id']);else _0x1d445c&&handleDeepDeleteBlueprintProject(_0x1d445c[_0x11bbd8(0xdcf)]['id']);}),document['getElementById'](_0x5e5613(0x887))[_0x5e5613(0x999)]('click',()=>{const _0xe55514=_0x5e5613;currentBlueprintProjectId=null,currentProjectId=null,document[_0xe55514(0xde0)]('blueprint-project-manager-view')[_0xe55514(0x7cb)][_0xe55514(0x23b)](_0xe55514(0xaa0)),showView(_0xe55514(0x1e4));}),document[_0x5e5613(0xde0)](_0x5e5613(0x544))[_0x5e5613(0x999)]('click',addTopicToProject),document[_0x5e5613(0xde0)]('bp-topic-list-container')['addEventListener'](_0x5e5613(0x4fc),async _0x30bc14=>{const _0x422260=_0x5e5613,_0x33d365=_0x30bc14[_0x422260(0x28a)][_0x422260(0xd5a)]('[data-topic-id]');if(!_0x33d365)return;const _0x5dc97c=_0x33d365[_0x422260(0xdcf)]['topicId'],_0x57f0e9=_0x30bc14[_0x422260(0x28a)][_0x422260(0xd5a)]('.bp-create-onet-quiz-btn'),_0x96d2e0=_0x30bc14[_0x422260(0x28a)][_0x422260(0xd5a)]('.bp-create-content-quiz-btn'),_0x8d17af=_0x30bc14[_0x422260(0x28a)][_0x422260(0xd5a)]('.bp-create-topic-quiz-btn'),_0x42ef20=_0x30bc14[_0x422260(0x28a)][_0x422260(0xd5a)]('.bp-open-topic-bank-btn'),_0x246a7e=_0x30bc14[_0x422260(0x28a)][_0x422260(0xd5a)](_0x422260(0xa32)),_0xdcc9c7=_0x30bc14[_0x422260(0x28a)]['closest'](_0x422260(0xa2d)),_0x428c5f=_0x30bc14[_0x422260(0x28a)]['closest'](_0x422260(0xa87)),_0x1570d1=_0x30bc14[_0x422260(0x28a)][_0x422260(0xd5a)]('.bp-delete-topic-btn'),_0x299a41=_0x1acd88=>{const _0x2f466f=_0x422260,_0x173293=_0x1acd88[_0x2f466f(0xce2)](_0x2f466f(0x647))['textContent'][_0x2f466f(0x3ac)](),_0xd931f6=_0x1acd88[_0x2f466f(0xd5a)](_0x2f466f(0x2a1))[_0x2f466f(0x4f2)],_0x36ae6d=_0xd931f6?_0xd931f6['textContent'][_0x2f466f(0x3ac)]():'';return _0x36ae6d+':\x20'+_0x173293;};if(_0x42ef20)openTopicQuizBank(_0x5dc97c);else{if(_0x57f0e9){const _0x26065a=_0x299a41(_0x33d365);selectProjectAndGenerateBlueprintQuiz(_0x26065a,null,_0x5dc97c,!![]);}else{if(_0x96d2e0){const _0x2f382f=_0x299a41(_0x33d365);try{const _0x16a330=doc(db,_0x422260(0xdd2)+appId+_0x422260(0x9d0)+currentBlueprintProjectId+_0x422260(0x8b1),_0x5dc97c),_0x73f737=await getDoc(_0x16a330);if(_0x73f737[_0x422260(0xa40)]()){const _0x70d6da=_0x73f737[_0x422260(0x518)]()[_0x422260(0x3ce)],_0x55f66c=document['createElement'](_0x422260(0x66f)),_0x45b774=_0x4e6ab5=>{const _0x278840=_0x422260;if(!_0x4e6ab5)return'';return _0x55f66c[_0x278840(0x2bd)]=_0x4e6ab5,_0x55f66c[_0x278840(0xb0c)]||_0x55f66c[_0x278840(0x639)]||'';},_0x121ee9=(_0x45b774(_0x70d6da['point'])+'\x20'+_0x45b774(_0x70d6da[_0x422260(0x863)])+'\x20'+_0x45b774(_0x70d6da[_0x422260(0x97d)]))[_0x422260(0x3ac)]();selectProjectAndGenerateBlueprintQuiz(_0x2f382f,_0x121ee9,_0x5dc97c,![]);}else showMessage(_0x422260(0xd80));}catch(_0x146d93){console[_0x422260(0x3c3)](_0x422260(0xc96),_0x146d93),showMessage(_0x422260(0xb70));}}else{if(_0x8d17af){const _0x21a05a=_0x299a41(_0x33d365);selectProjectAndGenerateBlueprintQuiz(_0x21a05a,null,_0x5dc97c,![]);}else{if(_0x246a7e){const _0x523d19=doc(db,'artifacts/'+appId+_0x422260(0x2ba),currentBlueprintProjectId),_0x2afa3a=await getDoc(_0x523d19);if(_0x2afa3a[_0x422260(0xa40)]()){const _0x3152bd=_0x2afa3a[_0x422260(0x518)](),_0x335a95=_0x3152bd['topics'][_0x5dc97c];if(_0x335a95&&_0x335a95[_0x422260(0xcb4)]===_0x422260(0x873))try{const _0x19e811=doc(db,_0x422260(0xdd2)+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+_0x422260(0x8b1),_0x5dc97c),_0x485a51=await getDoc(_0x19e811);if(_0x485a51['exists']()){const _0x1b11b8=_0x485a51['data']()[_0x422260(0x3ce)];document[_0x422260(0xde0)](_0x422260(0xbf2))[_0x422260(0xb0c)]=_0x422260(0x64a)+_0x299a41(_0x33d365),document[_0x422260(0xde0)](_0x422260(0x3af))[_0x422260(0x2bd)]=_0x1b11b8[_0x422260(0x772)],document[_0x422260(0xde0)](_0x422260(0x341))[_0x422260(0x2bd)]=_0x1b11b8[_0x422260(0x863)],document['getElementById'](_0x422260(0xae3))[_0x422260(0x2bd)]=_0x1b11b8[_0x422260(0x97d)];const _0x158a74=document[_0x422260(0xde0)](_0x422260(0xaab));_0x1b11b8[_0x422260(0x2a6)]?(currentApplicationData=_0x1b11b8[_0x422260(0x2a6)],_0x158a74['innerHTML']=currentApplicationData[_0x422260(0xcf7)]((_0x2f936b,_0x43689b)=>_0x422260(0x5f2)+(_0x43689b+0x1)+'.\x20'+marked[_0x422260(0x892)](_0x2f936b[_0x422260(0x359)])+_0x422260(0x91e)+_0x43689b+_0x422260(0xad4)+_0x2f936b[_0x422260(0x72e)][_0x422260(0xcf7)]((_0x3d2383,_0x4d66ad)=>_0x422260(0x9f4)+_0x43689b+',\x20'+_0x4d66ad+_0x422260(0xdbf)+String[_0x422260(0x604)](0x61+_0x4d66ad)+'.\x20'+marked[_0x422260(0x892)](_0x3d2383)+_0x422260(0x501))[_0x422260(0xa81)]('')+_0x422260(0x7ad))[_0x422260(0xa81)]('')):(currentApplicationData=[],_0x158a74[_0x422260(0x2bd)]=_0x1b11b8[_0x422260(0x319)]||_0x1b11b8[_0x422260(0xada)]),document[_0x422260(0xde0)]('lesson-loader')[_0x422260(0x7cb)]['add']('hidden'),document[_0x422260(0xde0)]('lesson-sections-container')[_0x422260(0x7cb)][_0x422260(0x4cd)](_0x422260(0xaa0)),document[_0x422260(0xde0)](_0x422260(0x911))[_0x422260(0x7cb)][_0x422260(0x4cd)](_0x422260(0xaa0)),window[_0x422260(0x9f7)]&&MathJax['typesetPromise']([document[_0x422260(0xde0)]('lesson-view-content')]);}else showMessage('ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)');}catch(_0x25d774){console[_0x422260(0x3c3)](_0x422260(0xb7f),_0x25d774),showMessage(_0x422260(0x65e));}else showMessage(_0x422260(0x9ad));}}else{if(_0xdcc9c7){const _0x896263=_0x299a41(_0x33d365),_0x2f744b=doc(db,_0x422260(0xdd2)+appId+_0x422260(0x2ba),currentBlueprintProjectId),_0x4297c6=await getDoc(_0x2f744b);if(_0x4297c6[_0x422260(0xa40)]()){const _0xb1f3c4=_0x4297c6[_0x422260(0x518)]();generateAndSaveLessonForBlueprint(_0x5dc97c,_0x896263,_0xb1f3c4[_0x422260(0x686)]);}}else{if(_0x428c5f)editTopicInProject(_0x5dc97c);else _0x1570d1&&deleteTopicFromProject(_0x5dc97c);}}}}}}}),document[_0x5e5613(0xde0)](_0x5e5613(0xb69))['addEventListener'](_0x5e5613(0x4fc),handleFixLessonLatex),document[_0x5e5613(0xde0)]('export-lesson-to-pdf-btn')['addEventListener'](_0x5e5613(0x4fc),handleExportLessonToPDF),document['getElementById'](_0x5e5613(0x7b8))['addEventListener']('click',()=>{const _0x53cff6=_0x5e5613;document[_0x53cff6(0xde0)]('lesson-view-modal')[_0x53cff6(0x7cb)]['add']('hidden');});const _0x8f4365=document[_0x5e5613(0xde0)](_0x5e5613(0x4a6)),_0x587132=document[_0x5e5613(0xde0)]('bulk-confidence-mode-container');_0x8f4365[_0x5e5613(0x999)]('change',()=>{const _0x376087=_0x5e5613;_0x587132['classList'][_0x376087(0x527)](_0x376087(0xaa0),!_0x8f4365[_0x376087(0x39b)]);});const _0x2195bb=document[_0x5e5613(0xde0)]('confidence-scoring-checkbox'),_0x5db3d2=document[_0x5e5613(0xde0)](_0x5e5613(0x218));_0x2195bb[_0x5e5613(0x999)]('change',()=>{const _0x1ebd50=_0x5e5613;_0x5db3d2[_0x1ebd50(0x7cb)]['toggle']('hidden',!_0x2195bb[_0x1ebd50(0x39b)]);});const _0x5ceb9f=document[_0x5e5613(0xde0)](_0x5e5613(0x248)),_0x539f73=document['getElementById'](_0x5e5613(0x9b0));_0x5ceb9f[_0x5e5613(0x999)](_0x5e5613(0xade),()=>{const _0x476a26=_0x5e5613;_0x539f73[_0x476a26(0x7cb)][_0x476a26(0x527)](_0x476a26(0xaa0),!_0x5ceb9f[_0x476a26(0x39b)]);});const _0x28668f=document[_0x5e5613(0xde0)]('confidence-modal'),_0x35b6f6=async _0x24e898=>{const _0x4dfbd9=_0x5e5613,_0x23dbfb=document[_0x4dfbd9(0xde0)](_0x4dfbd9(0x581)),_0x3e1b8f=_0x23dbfb[_0x4dfbd9(0xdcf)][_0x4dfbd9(0x98e)],_0x523c4f=document[_0x4dfbd9(0xde0)]('selected-answer-index-hidden');_0x23dbfb[_0x4dfbd9(0x7cb)]['add'](_0x4dfbd9(0xaa0));if(_0x3e1b8f===_0x4dfbd9(0x4fb)){const _0x3826ea=_0x523c4f[_0x4dfbd9(0xd73)],_0x16c3d6={'answer':_0x3826ea,'wasConfident':_0x24e898};proceedToNextQuestion(_0x16c3d6);}else{if(_0x3e1b8f===_0x4dfbd9(0xaa1)){const _0x3e9e22=_0x523c4f[_0x4dfbd9(0xdcf)]['answerValue'],_0x27d993=JSON[_0x4dfbd9(0xdc0)](_0x523c4f[_0x4dfbd9(0xdcf)][_0x4dfbd9(0x359)]),_0x4fffca=JSON[_0x4dfbd9(0xdc0)](_0x523c4f[_0x4dfbd9(0xdcf)]['gameData']),_0x34da27=_0x523c4f[_0x4dfbd9(0xdcf)][_0x4dfbd9(0xb21)];handleSyncAnswerSubmit(_0x3e9e22,_0x27d993,_0x4fffca,_0x34da27,_0x24e898);}}_0x23dbfb[_0x4dfbd9(0xdcf)]['currentMode']='';};document[_0x5e5613(0xde0)](_0x5e5613(0x9f9))['addEventListener'](_0x5e5613(0x4fc),()=>_0x35b6f6(!![])),document['getElementById'](_0x5e5613(0x94c))[_0x5e5613(0x999)]('click',()=>_0x35b6f6(![])),liveGameView[_0x5e5613(0x999)](_0x5e5613(0x4fc),_0x20e1f3=>{const _0x95b60d=_0x5e5613,_0x2002eb=_0x20e1f3['target'][_0x95b60d(0xd5a)]('.kick-player-btn-sync');if(_0x2002eb){const _0x1ab15b=_0x2002eb['dataset'][_0x95b60d(0xb21)];_0x1ab15b&&handleKickPlayerSync(_0x1ab15b);}});const _0x484281=document['getElementById'](_0x5e5613(0xa6b)),_0x303328=document['getElementById']('cancel-game-start-btn');_0x303328[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{const _0x18e7cf=_0x5e5613;document[_0x18e7cf(0xde0)](_0x18e7cf(0x942))[_0x18e7cf(0x7cb)][_0x18e7cf(0x23b)](_0x18e7cf(0xaa0));}),_0x484281[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{const _0x3ab84e=_0x5e5613,_0x3bc842=document[_0x3ab84e(0xde0)]('game-start-quiz-id')[_0x3ab84e(0xd73)],_0x4302f0=document[_0x3ab84e(0xde0)](_0x3ab84e(0xa79))[_0x3ab84e(0xd73)],_0xee582b=document['getElementById'](_0x3ab84e(0x752))['checked'];document[_0x3ab84e(0xde0)](_0x3ab84e(0x942))[_0x3ab84e(0x7cb)][_0x3ab84e(0x23b)]('hidden');switch(_0x4302f0){case _0x3ab84e(0xcc9):handleStartLiveRace(_0x3bc842,_0xee582b);break;case _0x3ab84e(0xa25):handleStartTeamQuiz(_0x3bc842,_0xee582b);break;case _0x3ab84e(0x968):handleStartGroupMode(_0x3bc842,_0xee582b);break;case _0x3ab84e(0xaa1):const _0x39e20f=document[_0x3ab84e(0xce2)](_0x3ab84e(0x885))[_0x3ab84e(0xd73)]||_0x3ab84e(0x491);handleStartSyncMode(_0x3bc842,_0xee582b,_0x39e20f);break;}}),document[_0x5e5613(0xde0)](_0x5e5613(0xb83))['addEventListener'](_0x5e5613(0x4fc),handleJoinGroupActivity),liveGameView['addEventListener']('click',_0x1559e9=>{const _0x20d2f5=_0x5e5613,_0x2a5ea7=_0x1559e9[_0x20d2f5(0x28a)][_0x20d2f5(0xd5a)]('.summary-bar-item');document[_0x20d2f5(0xbe7)](_0x20d2f5(0xd66))[_0x20d2f5(0x532)](_0x96e803=>{const _0x1753fe=_0x20d2f5;(!_0x2a5ea7||_0x96e803['id']!==_0x2a5ea7['dataset'][_0x1753fe(0x2a2)])&&_0x96e803[_0x1753fe(0x7cb)][_0x1753fe(0x4cd)](_0x1753fe(0x357));});if(!_0x2a5ea7)return;const _0x2b81f0=_0x2a5ea7[_0x20d2f5(0xdcf)][_0x20d2f5(0x2a2)],_0x183bdc=document[_0x20d2f5(0xde0)](_0x2b81f0);_0x183bdc&&_0x183bdc[_0x20d2f5(0x7cb)][_0x20d2f5(0x527)](_0x20d2f5(0x357));}),liveGameView[_0x5e5613(0x999)](_0x5e5613(0x4fc),_0x1f2b83=>{const _0x444f45=_0x5e5613;if(_0x1f2b83['target']['classList'][_0x444f45(0xa47)](_0x444f45(0x636))){const _0x36d228=_0x1f2b83[_0x444f45(0x28a)]['dataset']['playerName'];_0x36d228&&handleKickPlayer(_0x36d228);}}),document[_0x5e5613(0xde0)](_0x5e5613(0xc58))[_0x5e5613(0x999)]('focus',()=>document[_0x5e5613(0xde0)](_0x5e5613(0x282))[_0x5e5613(0x7cb)][_0x5e5613(0x4cd)](_0x5e5613(0xaa0))),document[_0x5e5613(0xde0)](_0x5e5613(0x282))[_0x5e5613(0x999)](_0x5e5613(0x4fc),handleSaveProjectName),document['getElementById'](_0x5e5613(0xc58))[_0x5e5613(0x999)](_0x5e5613(0xb22),_0x4ce670=>{const _0x83271a=_0x5e5613;_0x4ce670[_0x83271a(0x655)]==='Enter'&&(_0x4ce670[_0x83271a(0x4c8)](),_0x4ce670[_0x83271a(0x28a)]['blur'](),handleSaveProjectName());}),document[_0x5e5613(0xde0)]('bulk-quiz-settings-btn')[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{const _0x2910b7=_0x5e5613;document[_0x2910b7(0xde0)](_0x2910b7(0x4b7))[_0x2910b7(0x7cb)][_0x2910b7(0x4cd)](_0x2910b7(0xaa0));}),document[_0x5e5613(0xde0)]('cancel-bulk-quiz-settings-btn')[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{const _0x43b224=_0x5e5613;document['getElementById'](_0x43b224(0x4b7))[_0x43b224(0x7cb)][_0x43b224(0x23b)](_0x43b224(0xaa0));}),document[_0x5e5613(0xde0)]('confirm-bulk-quiz-settings-btn')[_0x5e5613(0x999)](_0x5e5613(0x4fc),handleBulkUpdateQuizSettings),document[_0x5e5613(0xde0)]('mode-switcher-btn')[_0x5e5613(0x999)](_0x5e5613(0x4fc),handleModeSwitch),document[_0x5e5613(0xde0)]('update-old-quizzes-btn')['addEventListener'](_0x5e5613(0x4fc),handleUpdateOldQuizzes),document[_0x5e5613(0xde0)](_0x5e5613(0x764))[_0x5e5613(0x999)](_0x5e5613(0x4fc),handleResetProjectOrder),document['getElementById']('save-visibility-settings-btn')['addEventListener'](_0x5e5613(0x4fc),handleSaveVisibilitySettings),document[_0x5e5613(0xde0)](_0x5e5613(0x207))[_0x5e5613(0x999)]('click',handleAddCustomMathTopic),document[_0x5e5613(0xde0)](_0x5e5613(0xd56))[_0x5e5613(0x999)](_0x5e5613(0x4fc),handleSelectAllTopics),document[_0x5e5613(0xde0)]('deselect-all-topics-btn')[_0x5e5613(0x999)](_0x5e5613(0x4fc),handleDeselectAllTopics),document[_0x5e5613(0xde0)](_0x5e5613(0x5a4))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}}),document[_0x5e5613(0xde0)](_0x5e5613(0xdac))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView('project-detail');}}),document[_0x5e5613(0xde0)]('back-to-dashboard-from-results-btn')['addEventListener'](_0x5e5613(0x4fc),()=>{const _0x1a4ef9=_0x5e5613;showView(_0x1a4ef9(0x1e4));}),document[_0x5e5613(0xde0)](_0x5e5613(0x6aa))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{const _0x372296=_0x5e5613;messageModal[_0x372296(0x7cb)][_0x372296(0x23b)]('hidden'),typeof modalConfirmAction===_0x372296(0xb0f)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x5e5613(0xde0)](_0x5e5613(0x45f))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>createProjectModal[_0x5e5613(0x7cb)][_0x5e5613(0x4cd)](_0x5e5613(0xaa0))),document[_0x5e5613(0xde0)](_0x5e5613(0xc79))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>createProjectModal[_0x5e5613(0x7cb)]['add']('hidden')),document[_0x5e5613(0xde0)](_0x5e5613(0xca2))['addEventListener'](_0x5e5613(0x4fc),()=>adminPasswordModal[_0x5e5613(0x7cb)][_0x5e5613(0x23b)](_0x5e5613(0xaa0))),document[_0x5e5613(0xde0)](_0x5e5613(0x8f7))[_0x5e5613(0x999)](_0x5e5613(0x4fc),handleAdminLogin),document[_0x5e5613(0xde0)](_0x5e5613(0x640))[_0x5e5613(0x999)]('keyup',_0x1d453d=>{const _0x4ad651=_0x5e5613;if(_0x1d453d['key']===_0x4ad651(0x35b))handleAdminLogin();}),document[_0x5e5613(0xde0)](_0x5e5613(0x7b6))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{const _0x2bc25d=_0x5e5613;confirmationModal[_0x2bc25d(0x7cb)]['add'](_0x2bc25d(0xaa0)),confirmAction=null;}),document[_0x5e5613(0xde0)](_0x5e5613(0x910))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{const _0x21e2bb=_0x5e5613;confirmAction&&confirmAction(),confirmationModal[_0x21e2bb(0x7cb)][_0x21e2bb(0x23b)](_0x21e2bb(0xaa0)),confirmAction=null;}),document[_0x5e5613(0xde0)]('cancel-rename-quiz-btn')[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>renameQuizModal[_0x5e5613(0x7cb)][_0x5e5613(0x23b)]('hidden')),document[_0x5e5613(0xde0)]('confirm-rename-quiz-btn')[_0x5e5613(0x999)](_0x5e5613(0x4fc),confirmRenameQuiz),document[_0x5e5613(0xde0)](_0x5e5613(0xa33))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>moveQuizModal[_0x5e5613(0x7cb)]['add']('hidden')),document[_0x5e5613(0xde0)]('confirm-move-quiz-btn')['addEventListener'](_0x5e5613(0x4fc),confirmMoveQuiz),document[_0x5e5613(0xde0)](_0x5e5613(0xb1a))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>quizSettingsModal['classList'][_0x5e5613(0x23b)]('hidden')),document[_0x5e5613(0xde0)](_0x5e5613(0x4aa))[_0x5e5613(0x999)](_0x5e5613(0x4fc),confirmQuizSettings),document[_0x5e5613(0xde0)](_0x5e5613(0xaac))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>quizStatusModal[_0x5e5613(0x7cb)]['add']('hidden')),document[_0x5e5613(0xde0)](_0x5e5613(0x4f6))[_0x5e5613(0x999)](_0x5e5613(0x4fc),confirmQuizStatus);const _0x54d762=document['getElementById'](_0x5e5613(0x792));document['getElementById'](_0x5e5613(0x9aa))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{const _0x228ff5=_0x5e5613;_0x54d762[_0x228ff5(0x7cb)]['add'](_0x228ff5(0xaa0));}),document[_0x5e5613(0xde0)](_0x5e5613(0x7e6))[_0x5e5613(0x999)]('click',async()=>{const _0x48a9e5=_0x5e5613,_0x15b3b8=allQuizzes['find'](_0x54dac6=>_0x54dac6['id']===actionTargetId);_0x15b3b8?(currentQuizData=_0x15b3b8,exportQuizAsWorksheetPDF()):showMessage(_0x48a9e5(0x950)),_0x54d762[_0x48a9e5(0x7cb)][_0x48a9e5(0x23b)](_0x48a9e5(0xaa0));}),document[_0x5e5613(0xde0)](_0x5e5613(0xd20))[_0x5e5613(0x999)](_0x5e5613(0x4fc),async()=>{const _0x2d97e3=_0x5e5613,_0x43f786=allQuizzes[_0x2d97e3(0x349)](_0x2e12f6=>_0x2e12f6['id']===actionTargetId);_0x43f786?(currentQuizData=_0x43f786,exportQuizAsTutorPDF()):showMessage(_0x2d97e3(0x950)),_0x54d762[_0x2d97e3(0x7cb)][_0x2d97e3(0x23b)](_0x2d97e3(0xaa0));});const _0x3be2b8=document[_0x5e5613(0xde0)](_0x5e5613(0x41c));_0x3be2b8['innerHTML']=_0x5e5613(0x830),_0x3be2b8[_0x5e5613(0x999)](_0x5e5613(0x4fc),openGlobalActivityModal),document[_0x5e5613(0xde0)](_0x5e5613(0xbcc))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{const _0x3a268c=_0x5e5613;document[_0x3a268c(0xde0)](_0x3a268c(0xc35))[_0x3a268c(0x7cb)][_0x3a268c(0x23b)](_0x3a268c(0xaa0));}),document[_0x5e5613(0xde0)](_0x5e5613(0xbf0))[_0x5e5613(0x999)](_0x5e5613(0xc5b),_0x22c1be=>{const _0x236598=_0x5e5613;renderGlobalActivityList(_0x22c1be[_0x236598(0x28a)]['value']);}),document['getElementById'](_0x5e5613(0x39a))[_0x5e5613(0x999)](_0x5e5613(0x4fc),_0xcd31fd=>{const _0x44ecd7=_0x5e5613,_0x2bef6b=_0xcd31fd[_0x44ecd7(0x28a)][_0x44ecd7(0xd5a)]('.game-start-btn');if(!_0x2bef6b)return;const _0x4997c9=_0x2bef6b['dataset']['id'],_0x1200ec=_0x2bef6b['dataset'][_0x44ecd7(0x8ec)],_0x3e9099=allQuizzesGlobal[_0x44ecd7(0x349)](_0x475e44=>_0x475e44['id']===_0x4997c9);_0x3e9099&&(document['getElementById'](_0x44ecd7(0xc35))[_0x44ecd7(0x7cb)][_0x44ecd7(0x23b)]('hidden'),_0x1200ec===_0x44ecd7(0xcc9)?handleStartLiveRace(_0x4997c9):showGameStartConfirmationModal(_0x4997c9,_0x1200ec,_0x3e9099[_0x44ecd7(0x714)]));}),document[_0x5e5613(0xde0)](_0x5e5613(0x1f6))['addEventListener'](_0x5e5613(0xc5b),renderProjects),document[_0x5e5613(0xde0)](_0x5e5613(0x685))['addEventListener']('change',async()=>{const _0x279453=_0x5e5613,_0x395b0d=document[_0x279453(0xde0)](_0x279453(0x685))['value'],_0x33f508=doc(db,_0x279453(0xd5e),_0x279453(0x3eb));try{await setDoc(_0x33f508,{'projectSort':_0x395b0d},{'merge':!![]});}catch(_0x589a60){console['error'](_0x279453(0x9a1),_0x589a60),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document[_0x5e5613(0xde0)]('quiz-search-input')[_0x5e5613(0x999)]('input',renderQuizzes),document[_0x5e5613(0xde0)](_0x5e5613(0x732))[_0x5e5613(0x999)]('click',()=>{const _0x2574b7=_0x5e5613;globalDashboardSettings[_0x2574b7(0xdda)]=_0x2574b7(0x5b0),saveUserPreference(_0x2574b7(0xdda),'grid'),renderProjects();}),document['getElementById'](_0x5e5613(0x302))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{const _0x2dcbf9=_0x5e5613;globalDashboardSettings[_0x2dcbf9(0xdda)]=_0x2dcbf9(0xa51),saveUserPreference(_0x2dcbf9(0xdda),_0x2dcbf9(0xa51)),renderProjects();}),manageTab[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>switchProjectTab(_0x5e5613(0x215))),resultsTab[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>switchProjectTab(_0x5e5613(0x57f))),leaderboardTab[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>switchProjectTab(_0x5e5613(0x294))),document['getElementById'](_0x5e5613(0x493))[_0x5e5613(0x999)]('click',()=>switchQuizDetailTab('analytics')),document[_0x5e5613(0xde0)](_0x5e5613(0x4b2))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>switchQuizDetailTab(_0x5e5613(0x607))),document[_0x5e5613(0xde0)](_0x5e5613(0xaa2))['addEventListener']('click',()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x5e5613(0xde0)]('behavior-log-tab-btn')[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>switchQuizDetailTab(_0x5e5613(0x7fc))),document[_0x5e5613(0xde0)]('analyze-strengths-btn')['addEventListener'](_0x5e5613(0x4fc),handleAnalyzeClass),generateWorksheetBtn[_0x5e5613(0x999)](_0x5e5613(0x4fc),generateWorksheet);const _0x43864e=document[_0x5e5613(0xde0)](_0x5e5613(0xa03)),_0x23d80e=document[_0x5e5613(0xde0)]('link-input-area'),_0x44a5e3=document[_0x5e5613(0xde0)]('blueprint-tab'),_0x315aab=document[_0x5e5613(0xde0)](_0x5e5613(0x435)),_0x500055=document[_0x5e5613(0xde0)](_0x5e5613(0x676)),_0xc909b5=document['getElementById'](_0x5e5613(0x6c2));topicTab[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{const _0x2231b9=_0x5e5613;topicTab['classList']['add'](_0x2231b9(0x742)),textTab[_0x2231b9(0x7cb)]['remove'](_0x2231b9(0x742)),fileTab[_0x2231b9(0x7cb)][_0x2231b9(0x4cd)]('active'),worksheetTab[_0x2231b9(0x7cb)]['remove'](_0x2231b9(0x742));if(_0x43864e)_0x43864e[_0x2231b9(0x7cb)][_0x2231b9(0x4cd)](_0x2231b9(0x742));if(_0x44a5e3)_0x44a5e3[_0x2231b9(0x7cb)][_0x2231b9(0x4cd)](_0x2231b9(0x742));if(_0x500055)_0x500055['classList'][_0x2231b9(0x4cd)](_0x2231b9(0x742));topicInputArea[_0x2231b9(0x7cb)]['remove'](_0x2231b9(0xaa0)),textInputArea[_0x2231b9(0x7cb)][_0x2231b9(0x23b)](_0x2231b9(0xaa0)),fileInputArea[_0x2231b9(0x7cb)][_0x2231b9(0x23b)](_0x2231b9(0xaa0)),worksheetInputArea['classList'][_0x2231b9(0x23b)](_0x2231b9(0xaa0));if(_0x23d80e)_0x23d80e[_0x2231b9(0x7cb)][_0x2231b9(0x23b)](_0x2231b9(0xaa0));if(_0x315aab)_0x315aab['classList'][_0x2231b9(0x23b)]('hidden');if(_0xc909b5)_0xc909b5[_0x2231b9(0x7cb)][_0x2231b9(0x23b)](_0x2231b9(0xaa0));}),textTab[_0x5e5613(0x999)]('click',()=>{const _0x9d5cc3=_0x5e5613;textTab['classList'][_0x9d5cc3(0x23b)](_0x9d5cc3(0x742)),topicTab[_0x9d5cc3(0x7cb)][_0x9d5cc3(0x4cd)](_0x9d5cc3(0x742)),fileTab['classList']['remove']('active'),worksheetTab[_0x9d5cc3(0x7cb)][_0x9d5cc3(0x4cd)](_0x9d5cc3(0x742));if(_0x43864e)_0x43864e[_0x9d5cc3(0x7cb)][_0x9d5cc3(0x4cd)](_0x9d5cc3(0x742));if(_0x44a5e3)_0x44a5e3[_0x9d5cc3(0x7cb)][_0x9d5cc3(0x4cd)]('active');if(_0x500055)_0x500055[_0x9d5cc3(0x7cb)][_0x9d5cc3(0x4cd)](_0x9d5cc3(0x742));textInputArea[_0x9d5cc3(0x7cb)]['remove']('hidden'),topicInputArea[_0x9d5cc3(0x7cb)][_0x9d5cc3(0x23b)](_0x9d5cc3(0xaa0)),fileInputArea[_0x9d5cc3(0x7cb)]['add'](_0x9d5cc3(0xaa0)),worksheetInputArea[_0x9d5cc3(0x7cb)][_0x9d5cc3(0x23b)](_0x9d5cc3(0xaa0));if(_0x23d80e)_0x23d80e[_0x9d5cc3(0x7cb)][_0x9d5cc3(0x23b)]('hidden');if(_0x315aab)_0x315aab[_0x9d5cc3(0x7cb)]['add']('hidden');if(_0xc909b5)_0xc909b5[_0x9d5cc3(0x7cb)][_0x9d5cc3(0x23b)](_0x9d5cc3(0xaa0));}),fileTab[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{const _0x4878a7=_0x5e5613;fileTab[_0x4878a7(0x7cb)][_0x4878a7(0x23b)](_0x4878a7(0x742)),topicTab[_0x4878a7(0x7cb)][_0x4878a7(0x4cd)](_0x4878a7(0x742)),textTab[_0x4878a7(0x7cb)][_0x4878a7(0x4cd)](_0x4878a7(0x742)),worksheetTab['classList'][_0x4878a7(0x4cd)]('active');if(_0x43864e)_0x43864e[_0x4878a7(0x7cb)]['remove'](_0x4878a7(0x742));if(_0x44a5e3)_0x44a5e3['classList']['remove'](_0x4878a7(0x742));if(_0x500055)_0x500055['classList']['remove'](_0x4878a7(0x742));fileInputArea[_0x4878a7(0x7cb)][_0x4878a7(0x4cd)](_0x4878a7(0xaa0)),topicInputArea[_0x4878a7(0x7cb)]['add']('hidden'),textInputArea[_0x4878a7(0x7cb)][_0x4878a7(0x23b)]('hidden'),worksheetInputArea['classList'][_0x4878a7(0x23b)](_0x4878a7(0xaa0));if(_0x23d80e)_0x23d80e[_0x4878a7(0x7cb)][_0x4878a7(0x23b)]('hidden');if(_0x315aab)_0x315aab[_0x4878a7(0x7cb)]['add']('hidden');if(_0xc909b5)_0xc909b5[_0x4878a7(0x7cb)][_0x4878a7(0x23b)]('hidden');}),worksheetTab[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{const _0x40812f=_0x5e5613;worksheetTab[_0x40812f(0x7cb)]['add']('active'),topicTab['classList'][_0x40812f(0x4cd)](_0x40812f(0x742)),textTab[_0x40812f(0x7cb)][_0x40812f(0x4cd)]('active'),fileTab[_0x40812f(0x7cb)]['remove'](_0x40812f(0x742));if(_0x43864e)_0x43864e['classList'][_0x40812f(0x4cd)](_0x40812f(0x742));if(_0x44a5e3)_0x44a5e3['classList'][_0x40812f(0x4cd)](_0x40812f(0x742));if(_0x500055)_0x500055['classList'][_0x40812f(0x4cd)]('active');worksheetInputArea[_0x40812f(0x7cb)][_0x40812f(0x4cd)](_0x40812f(0xaa0)),topicInputArea[_0x40812f(0x7cb)][_0x40812f(0x23b)](_0x40812f(0xaa0)),textInputArea['classList']['add'](_0x40812f(0xaa0)),fileInputArea[_0x40812f(0x7cb)]['add'](_0x40812f(0xaa0));if(_0x23d80e)_0x23d80e['classList'][_0x40812f(0x23b)](_0x40812f(0xaa0));if(_0x315aab)_0x315aab[_0x40812f(0x7cb)]['add'](_0x40812f(0xaa0));if(_0xc909b5)_0xc909b5['classList'][_0x40812f(0x23b)](_0x40812f(0xaa0));});const _0x38c712=document[_0x5e5613(0xde0)](_0x5e5613(0x323)),_0x71832c=document['getElementById'](_0x5e5613(0xc78));_0x38c712&&_0x38c712['addEventListener'](_0x5e5613(0x4fc),()=>{const _0x150a1f=_0x5e5613;topicTab[_0x150a1f(0x7cb)][_0x150a1f(0x4cd)](_0x150a1f(0x742)),textTab[_0x150a1f(0x7cb)][_0x150a1f(0x4cd)]('active'),fileTab[_0x150a1f(0x7cb)]['remove']('active'),worksheetTab[_0x150a1f(0x7cb)][_0x150a1f(0x4cd)](_0x150a1f(0x742));if(_0x43864e)_0x43864e[_0x150a1f(0x7cb)][_0x150a1f(0x4cd)]('active');if(_0x44a5e3)_0x44a5e3['classList'][_0x150a1f(0x4cd)]('active');if(_0x500055)_0x500055[_0x150a1f(0x7cb)][_0x150a1f(0x4cd)]('active');_0x38c712['classList']['add'](_0x150a1f(0x742)),topicInputArea[_0x150a1f(0x7cb)]['add'](_0x150a1f(0xaa0)),textInputArea[_0x150a1f(0x7cb)][_0x150a1f(0x23b)](_0x150a1f(0xaa0)),fileInputArea[_0x150a1f(0x7cb)][_0x150a1f(0x23b)](_0x150a1f(0xaa0)),worksheetInputArea[_0x150a1f(0x7cb)][_0x150a1f(0x23b)](_0x150a1f(0xaa0));if(_0x23d80e)_0x23d80e[_0x150a1f(0x7cb)][_0x150a1f(0x23b)](_0x150a1f(0xaa0));if(_0x315aab)_0x315aab[_0x150a1f(0x7cb)][_0x150a1f(0x23b)]('hidden');if(_0xc909b5)_0xc909b5['classList']['add']('hidden');_0x71832c[_0x150a1f(0x7cb)][_0x150a1f(0x4cd)](_0x150a1f(0xaa0)),displayQuestionBank();});_0x43864e&&(_0x43864e[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{const _0x2ac548=_0x5e5613;_0x43864e[_0x2ac548(0x7cb)][_0x2ac548(0x23b)](_0x2ac548(0x742)),topicTab[_0x2ac548(0x7cb)][_0x2ac548(0x4cd)](_0x2ac548(0x742)),textTab['classList']['remove'](_0x2ac548(0x742)),fileTab[_0x2ac548(0x7cb)]['remove'](_0x2ac548(0x742)),worksheetTab['classList']['remove'](_0x2ac548(0x742));if(_0x44a5e3)_0x44a5e3[_0x2ac548(0x7cb)][_0x2ac548(0x4cd)]('active');if(_0x500055)_0x500055['classList'][_0x2ac548(0x4cd)](_0x2ac548(0x742));_0x23d80e[_0x2ac548(0x7cb)][_0x2ac548(0x4cd)](_0x2ac548(0xaa0)),topicInputArea['classList'][_0x2ac548(0x23b)](_0x2ac548(0xaa0)),textInputArea[_0x2ac548(0x7cb)]['add'](_0x2ac548(0xaa0)),fileInputArea[_0x2ac548(0x7cb)][_0x2ac548(0x23b)](_0x2ac548(0xaa0)),worksheetInputArea[_0x2ac548(0x7cb)][_0x2ac548(0x23b)]('hidden');if(_0x315aab)_0x315aab[_0x2ac548(0x7cb)][_0x2ac548(0x23b)](_0x2ac548(0xaa0));if(_0xc909b5)_0xc909b5[_0x2ac548(0x7cb)][_0x2ac548(0x23b)](_0x2ac548(0xaa0));}),document[_0x5e5613(0xde0)]('generate-from-link-btn')[_0x5e5613(0x999)]('click',handleGenerateFromLink));_0x44a5e3&&_0x44a5e3['addEventListener'](_0x5e5613(0x4fc),()=>{const _0x5f040a=_0x5e5613;_0x44a5e3['classList']['add'](_0x5f040a(0x742)),topicTab[_0x5f040a(0x7cb)][_0x5f040a(0x4cd)](_0x5f040a(0x742)),textTab['classList'][_0x5f040a(0x4cd)](_0x5f040a(0x742)),fileTab[_0x5f040a(0x7cb)]['remove'](_0x5f040a(0x742)),worksheetTab['classList']['remove'](_0x5f040a(0x742));if(_0x43864e)_0x43864e[_0x5f040a(0x7cb)]['remove'](_0x5f040a(0x742));if(_0x38c712)_0x38c712[_0x5f040a(0x7cb)][_0x5f040a(0x4cd)]('active');if(_0x500055)_0x500055[_0x5f040a(0x7cb)][_0x5f040a(0x4cd)](_0x5f040a(0x742));_0x315aab['classList'][_0x5f040a(0x4cd)](_0x5f040a(0xaa0)),topicInputArea[_0x5f040a(0x7cb)][_0x5f040a(0x23b)](_0x5f040a(0xaa0)),textInputArea[_0x5f040a(0x7cb)][_0x5f040a(0x23b)]('hidden'),fileInputArea['classList'][_0x5f040a(0x23b)](_0x5f040a(0xaa0)),worksheetInputArea['classList']['add'](_0x5f040a(0xaa0));if(_0x23d80e)_0x23d80e[_0x5f040a(0x7cb)][_0x5f040a(0x23b)](_0x5f040a(0xaa0));if(_0x71832c)_0x71832c[_0x5f040a(0x7cb)]['add'](_0x5f040a(0xaa0));if(_0xc909b5)_0xc909b5['classList'][_0x5f040a(0x23b)](_0x5f040a(0xaa0));});_0x500055&&_0x500055[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{const _0xc80c25=_0x5e5613;_0x500055[_0xc80c25(0x7cb)][_0xc80c25(0x23b)](_0xc80c25(0x742)),topicTab[_0xc80c25(0x7cb)][_0xc80c25(0x4cd)]('active'),textTab['classList'][_0xc80c25(0x4cd)](_0xc80c25(0x742)),fileTab[_0xc80c25(0x7cb)][_0xc80c25(0x4cd)](_0xc80c25(0x742)),worksheetTab[_0xc80c25(0x7cb)][_0xc80c25(0x4cd)](_0xc80c25(0x742));if(_0x43864e)_0x43864e[_0xc80c25(0x7cb)]['remove'](_0xc80c25(0x742));if(_0x44a5e3)_0x44a5e3[_0xc80c25(0x7cb)]['remove'](_0xc80c25(0x742));if(_0x38c712)_0x38c712['classList'][_0xc80c25(0x4cd)](_0xc80c25(0x742));_0xc909b5[_0xc80c25(0x7cb)]['remove'](_0xc80c25(0xaa0)),topicInputArea['classList']['add'](_0xc80c25(0xaa0)),textInputArea[_0xc80c25(0x7cb)][_0xc80c25(0x23b)]('hidden'),fileInputArea[_0xc80c25(0x7cb)][_0xc80c25(0x23b)]('hidden'),worksheetInputArea[_0xc80c25(0x7cb)]['add'](_0xc80c25(0xaa0));if(_0x23d80e)_0x23d80e[_0xc80c25(0x7cb)][_0xc80c25(0x23b)](_0xc80c25(0xaa0));if(_0x315aab)_0x315aab['classList']['add'](_0xc80c25(0xaa0));if(_0x71832c)_0x71832c['classList']['add'](_0xc80c25(0xaa0));});const _0x2eebc7=document[_0x5e5613(0xde0)](_0x5e5613(0x61a)),_0x40d348=document[_0x5e5613(0xde0)](_0x5e5613(0xabe));if(_0x2eebc7){const _0x314774=document[_0x5e5613(0xde0)](_0x5e5613(0x61a)),_0x283ea0=document['getElementById'](_0x5e5613(0xabe)),_0x645eaa=document[_0x5e5613(0xde0)](_0x5e5613(0x89c)),_0x404ad6=document[_0x5e5613(0xde0)](_0x5e5613(0x5a8)),_0x5f301d=document[_0x5e5613(0xde0)](_0x5e5613(0x811)),_0x253dc0=document[_0x5e5613(0xde0)](_0x5e5613(0x601));_0x314774&&_0x314774[_0x5e5613(0x999)](_0x5e5613(0xade),async _0x31a70e=>{const _0x163ee1=_0x5e5613;_0x645eaa[_0x163ee1(0x7cb)]['add'](_0x163ee1(0xaa0)),_0x5f301d[_0x163ee1(0x7cb)][_0x163ee1(0x23b)]('hidden'),_0x404ad6['checked']=![],_0x283ea0[_0x163ee1(0xc4f)]=!![];const _0x3bdacb=_0x31a70e[_0x163ee1(0x28a)][_0x163ee1(0x6bc)][0x0];if(_0x3bdacb){_0x283ea0[_0x163ee1(0xc4f)]=![];try{const _0xcad76d=await extractTextFromPdf(_0x3bdacb);await analyzeBlueprintForTopics(_0xcad76d);}catch(_0x59e8f2){showMessage(_0x163ee1(0x6a6)),_0x645eaa['classList'][_0x163ee1(0x23b)](_0x163ee1(0xaa0));}}}),_0x404ad6&&_0x404ad6[_0x5e5613(0x999)](_0x5e5613(0xade),_0x3dbe3e=>{const _0x18c764=_0x5e5613,_0x577dcf=_0x3dbe3e[_0x18c764(0x28a)]['checked'];_0x5f301d[_0x18c764(0x7cb)]['toggle'](_0x18c764(0xaa0),!_0x577dcf),_0x283ea0['disabled']=_0x577dcf;}),_0x253dc0&&(_0x253dc0&&_0x253dc0[_0x5e5613(0x999)](_0x5e5613(0x4fc),_0x2b47a1=>{const _0x367294=_0x5e5613,_0x54ade3=_0x2b47a1['target'][_0x367294(0xd5a)](_0x367294(0x2cd)),_0x51d9e1=_0x2b47a1[_0x367294(0x28a)][_0x367294(0xd5a)]('.generate-content-btn');if(_0x54ade3){const _0x3144ac=unescape(_0x54ade3['dataset'][_0x367294(0x714)]);generateQuizForSingleTopic(_0x3144ac);}else{if(_0x51d9e1){const _0x29cf26=unescape(_0x51d9e1[_0x367294(0xdcf)][_0x367294(0x714)]);handleGenerateTeachingContent(_0x29cf26);}}}));}_0x40d348&&_0x40d348[_0x5e5613(0x999)](_0x5e5613(0x4fc),handleGenerateFromBlueprint);const _0x233e1b=document[_0x5e5613(0xde0)]('parallel-test-upload-input'),_0x386dfd=document[_0x5e5613(0xde0)](_0x5e5613(0xb28));_0x233e1b&&_0x233e1b[_0x5e5613(0x999)](_0x5e5613(0xade),_0x58a12a=>{const _0x2b1f1c=_0x5e5613;_0x386dfd[_0x2b1f1c(0xc4f)]=_0x58a12a[_0x2b1f1c(0x28a)][_0x2b1f1c(0x6bc)][_0x2b1f1c(0x9b1)]===0x0;});_0x386dfd&&_0x386dfd['addEventListener'](_0x5e5613(0x4fc),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x5e5613(0x999)](_0x5e5613(0x4fc),handleLoadQuiz),startQuizBtn[_0x5e5613(0x999)](_0x5e5613(0x4fc),async()=>{const _0x3a0471=_0x5e5613,_0x35214d=document['getElementById'](_0x3a0471(0x1eb));currentStudentName=_0x35214d[_0x3a0471(0xd73)];if(!currentStudentName){showMessage(_0x3a0471(0xd47));return;}try{const _0x3f9026=currentQuizData['id'],_0x9dfe4=doc(db,_0x3a0471(0xdd2)+appId+_0x3a0471(0xd9a)+_0x3f9026+_0x3a0471(0x316),currentStudentName),_0x5df65c=await getDoc(_0x9dfe4);!_0x5df65c['exists']()?await setDoc(_0x9dfe4,{'studentName':currentStudentName,'startedAt':new Date()[_0x3a0471(0x8b8)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x9dfe4,{'startedAt':new Date()[_0x3a0471(0x8b8)]()});}catch(_0x15eeb5){console[_0x3a0471(0x3c3)](_0x3a0471(0x7f3),_0x15eeb5),showMessage(_0x3a0471(0x4a1));return;}studentNameSelectionView[_0x3a0471(0x7cb)][_0x3a0471(0x23b)](_0x3a0471(0xaa0)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x5e5613(0xde0)](_0x5e5613(0x7a7))[_0x5e5613(0x999)](_0x5e5613(0x4fc),showJoinGameView),document[_0x5e5613(0xde0)]('confirm-join-game-btn')[_0x5e5613(0x999)]('click',handleJoinLiveGame),document[_0x5e5613(0xde0)](_0x5e5613(0xdc3))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>showView(_0x5e5613(0x965)));const _0xdc092a=()=>{const _0x1e045a=_0x5e5613,_0x2f9bf6=document[_0x1e045a(0xde0)](_0x1e045a(0x8bf))[_0x1e045a(0xb0c)][_0x1e045a(0x918)](/[^a-z0-9]/gi,'_')[_0x1e045a(0x442)]();return'results_'+(_0x2f9bf6||'quiz');},_0xf82356=document[_0x5e5613(0xde0)](_0x5e5613(0x4bd));_0xf82356&&_0xf82356['addEventListener'](_0x5e5613(0xc5b),_0x2bbcfb=>{const _0x620f78=_0x5e5613,_0xb5ce9c=_0x2bbcfb['target'][_0x620f78(0xd73)][_0x620f78(0x442)]()[_0x620f78(0x3ac)](),_0x1c421c=document['getElementById'](_0x620f78(0x599)),_0x26ce3a=_0x1c421c[_0x620f78(0xbe7)]('.topic-category');_0x26ce3a['forEach'](_0x461a9f=>{const _0x3d568f=_0x620f78;let _0x1551f7=![];const _0x2c158c=_0x461a9f[_0x3d568f(0xbe7)](_0x3d568f(0xd9e));_0x2c158c['forEach'](_0x36945d=>{const _0x1b344e=_0x3d568f,_0x10a27c=_0x36945d[_0x1b344e(0xce2)](_0x1b344e(0xb74))[_0x1b344e(0xb0c)]['toLowerCase']();_0x10a27c['includes'](_0xb5ce9c)?(_0x36945d['style']['display']=_0x1b344e(0xaf3),_0x1551f7=!![]):_0x36945d[_0x1b344e(0x2fc)]['display']=_0x1b344e(0x2b2);}),_0x1551f7?_0x461a9f[_0x3d568f(0x2fc)]['display']=_0x3d568f(0xc9a):_0x461a9f[_0x3d568f(0x2fc)]['display']=_0x3d568f(0x2b2);});});document[_0x5e5613(0xde0)](_0x5e5613(0x9fe))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>exportTableAsImage(_0x5e5613(0x7ef),_0xdc092a())),document[_0x5e5613(0xde0)](_0x5e5613(0x89e))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>exportTableAsPDF('results-table',_0xdc092a())),document[_0x5e5613(0xde0)](_0x5e5613(0x926))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>exportTableAsWord(_0x5e5613(0x7ef),_0xdc092a())),document[_0x5e5613(0xde0)](_0x5e5613(0x27c))['addEventListener'](_0x5e5613(0x4fc),()=>exportTableAsExcel(_0x5e5613(0x9d1),_0xdc092a()));const _0x120934=()=>{const _0x38b636=_0x5e5613,_0x5b8daf=document[_0x38b636(0xde0)](_0x38b636(0x8bf))[_0x38b636(0xb0c)][_0x38b636(0x918)](/[^a-z0-9]/gi,'_')['toLowerCase']();return'leaderboard_'+(_0x5b8daf||_0x38b636(0x9b6));};document[_0x5e5613(0xde0)](_0x5e5613(0x370))[_0x5e5613(0x999)]('click',()=>exportTableAsImage('quiz-leaderboard-table-container',_0x120934())),document[_0x5e5613(0xde0)](_0x5e5613(0x64b))[_0x5e5613(0x999)]('click',()=>exportTableAsPDF(_0x5e5613(0x20a),_0x120934())),document['getElementById'](_0x5e5613(0x836))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>exportTableAsWord(_0x5e5613(0x3d3),_0x120934())),document[_0x5e5613(0xde0)]('export-leaderboard-excel-btn')[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>exportTableAsExcel('quiz-leaderboard-table',_0x120934())),projectQuizzesList['addEventListener'](_0x5e5613(0x4fc),async _0x1482fb=>{const _0x7c52f8=_0x5e5613,_0x58d755=_0x1482fb[_0x7c52f8(0x28a)]['closest']('.quiz-result-card'),_0x150bb2=_0x1482fb[_0x7c52f8(0x28a)][_0x7c52f8(0xd5a)]('.generate-post-test-btn'),_0x30be77=_0x1482fb[_0x7c52f8(0x28a)][_0x7c52f8(0xd5a)](_0x7c52f8(0x7e4)),_0x38b36f=_0x1482fb[_0x7c52f8(0x28a)][_0x7c52f8(0xd5a)](_0x7c52f8(0x4dd)),_0x2f140c=_0x1482fb[_0x7c52f8(0x28a)]['closest']('.star-quiz-btn'),_0x52c769=_0x1482fb[_0x7c52f8(0x28a)][_0x7c52f8(0xd5a)](_0x7c52f8(0x7b2)),_0x21646c=_0x1482fb[_0x7c52f8(0x28a)][_0x7c52f8(0xd5a)]('.edit-quiz-btn'),_0x4dfc48=_0x1482fb[_0x7c52f8(0x28a)][_0x7c52f8(0xd5a)](_0x7c52f8(0x311)),_0x44c887=_0x1482fb[_0x7c52f8(0x28a)][_0x7c52f8(0xd5a)]('.duplicate-quiz-btn'),_0x1d2017=_0x1482fb[_0x7c52f8(0x28a)][_0x7c52f8(0xd5a)](_0x7c52f8(0x9f0)),_0x5992ee=_0x1482fb['target'][_0x7c52f8(0xd5a)]('.parallel-quiz-btn'),_0x28b0e5=_0x1482fb[_0x7c52f8(0x28a)][_0x7c52f8(0xd5a)](_0x7c52f8(0xc22)),_0x280e57=_0x1482fb[_0x7c52f8(0x28a)][_0x7c52f8(0xd5a)](_0x7c52f8(0xd4d)),_0x101de3=_0x1482fb[_0x7c52f8(0x28a)][_0x7c52f8(0xd5a)](_0x7c52f8(0xa52)),_0x279938=_0x1482fb['target'][_0x7c52f8(0xd5a)]('.start-presentation-list-btn'),_0x150f04=_0x1482fb[_0x7c52f8(0x28a)]['closest'](_0x7c52f8(0x3a3)),_0x29e1b6=_0x1482fb[_0x7c52f8(0x28a)]['closest']('.export-pdf-list-btn'),_0x222098=_0x1482fb[_0x7c52f8(0x28a)][_0x7c52f8(0xd5a)](_0x7c52f8(0xb15)),_0x109970=_0x1482fb[_0x7c52f8(0x28a)][_0x7c52f8(0xd5a)](_0x7c52f8(0xb96)),_0x5d21c5=_0x1482fb['target'][_0x7c52f8(0xd5a)](_0x7c52f8(0xab4)),_0x5b42e1=_0x1482fb[_0x7c52f8(0x28a)]['closest']('.generate-easy-version-btn'),_0x29a591=_0x1482fb[_0x7c52f8(0x28a)][_0x7c52f8(0xd5a)](_0x7c52f8(0x68f)),_0x1dd3ee=_0x1482fb[_0x7c52f8(0x28a)][_0x7c52f8(0xd5a)](_0x7c52f8(0x459));if(_0x29a591){const _0x39ba02=_0x29a591[_0x7c52f8(0xdcf)][_0x7c52f8(0x935)],_0x74f00a=_0x29a591[_0x7c52f8(0xdcf)][_0x7c52f8(0x8ec)],_0x2957d7=allQuizzes[_0x7c52f8(0x349)](_0xe29fc5=>_0xe29fc5['id']===_0x39ba02);_0x2957d7&&showGameStartConfirmationModal(_0x39ba02,_0x74f00a,_0x2957d7['topic']);}else{if(_0x1dd3ee){const _0xd4d65e=_0x1dd3ee[_0x7c52f8(0xdcf)][_0x7c52f8(0x935)];handleStartLiveRace(_0xd4d65e);}else{if(_0x5d21c5){const _0x338040=_0x5d21c5[_0x7c52f8(0xdcf)][_0x7c52f8(0x935)],_0x3b05de=document[_0x7c52f8(0xde0)]('actions-container-'+_0x338040);_0x3b05de&&_0x3b05de['classList'][_0x7c52f8(0x527)](_0x7c52f8(0xaa0));}else{if(_0x150bb2){const _0x3dabb4=_0x150bb2[_0x7c52f8(0xdcf)][_0x7c52f8(0x935)],_0x47d809=allQuizzes[_0x7c52f8(0x349)](_0xa12bf3=>_0xa12bf3['id']===_0x3dabb4);_0x47d809&&handleGenerateParallelPostTest(_0x47d809);}else{if(_0x30be77)handleCompareResults(_0x30be77[_0x7c52f8(0xdcf)][_0x7c52f8(0x935)],_0x30be77['dataset'][_0x7c52f8(0x812)]);else{if(_0x38b36f){const _0x11df26=_0x38b36f[_0x7c52f8(0xdcf)][_0x7c52f8(0x935)],_0x1591c3=allQuizzes['find'](_0x496cf6=>_0x496cf6['id']===_0x11df26);_0x1591c3&&_0x1591c3[_0x7c52f8(0x720)]?(displayLessonPlan(_0x1591c3['lessonPlan'],_0x1591c3),showConfirmation(_0x7c52f8(0x52c),()=>handleGenerateLessonPlan(_0x11df26)),document[_0x7c52f8(0xde0)]('confirmation-modal')[_0x7c52f8(0xce2)]('h3')[_0x7c52f8(0xb0c)]=_0x7c52f8(0x449),document[_0x7c52f8(0xde0)](_0x7c52f8(0x910))[_0x7c52f8(0xb0c)]='สร้างใหม่'):handleGenerateLessonPlan(_0x11df26);}else{if(_0x2f140c)handleToggleStarQuiz(_0x2f140c[_0x7c52f8(0xdcf)][_0x7c52f8(0x935)]);else{if(_0x52c769)copyTextToClipboard(_0x52c769[_0x7c52f8(0xdcf)][_0x7c52f8(0x935)],'คัดลอกรหัสแล้ว!');else{if(_0x21646c)handleOpenQuizEditor(_0x21646c[_0x7c52f8(0xdcf)]['quizId']);else{if(_0x4dfc48)handleQuizSettings(_0x4dfc48[_0x7c52f8(0xdcf)][_0x7c52f8(0x935)]);else{if(_0x44c887)handleDuplicateQuiz(_0x44c887['dataset']['quizId']);else{if(_0x1d2017)handleRenameQuiz(_0x1d2017[_0x7c52f8(0xdcf)][_0x7c52f8(0x935)],_0x1d2017[_0x7c52f8(0xdcf)]['topic']);else{if(_0x5992ee){const _0x4b694c=_0x5992ee[_0x7c52f8(0xdcf)][_0x7c52f8(0x935)],_0x333fee=allQuizzes[_0x7c52f8(0x349)](_0x5036c6=>_0x5036c6['id']===_0x4b694c);_0x333fee&&handleGenerateParallelFromBank(_0x333fee);}else{if(_0x28b0e5)handleMoveQuiz(_0x28b0e5['dataset'][_0x7c52f8(0x935)]);else{if(_0x280e57)handleManualQuizPairing(_0x280e57['dataset'][_0x7c52f8(0x935)]);else{if(_0x101de3)handleUnpairQuiz(_0x101de3[_0x7c52f8(0xdcf)][_0x7c52f8(0x935)]);else{if(_0x279938){const _0x3f3218=_0x279938[_0x7c52f8(0xdcf)]['quizId'],_0x39fc23=allQuizzes[_0x7c52f8(0x349)](_0x3c044c=>_0x3c044c['id']===_0x3f3218);if(_0x39fc23)startPresentation(_0x39fc23);}else{if(_0x150f04){const _0x6ad1e=_0x150f04[_0x7c52f8(0xdcf)][_0x7c52f8(0x935)],_0x33673c=allQuizzes[_0x7c52f8(0x349)](_0x45e0cd=>_0x45e0cd['id']===_0x6ad1e);_0x33673c&&(currentQuizData=_0x33673c,startAdminTest());}else{if(_0x29e1b6)actionTargetId=_0x29e1b6['dataset']['quizId'],document[_0x7c52f8(0xde0)](_0x7c52f8(0x792))[_0x7c52f8(0x7cb)][_0x7c52f8(0x4cd)](_0x7c52f8(0xaa0));else{if(_0x222098)showConfirmation(_0x7c52f8(0x5af)+_0x222098['dataset'][_0x7c52f8(0x714)]+_0x7c52f8(0x3c6),()=>handleDeleteQuiz(_0x222098[_0x7c52f8(0xdcf)][_0x7c52f8(0x935)]));else{if(_0x109970)handleQuizStatus(_0x109970[_0x7c52f8(0xdcf)][_0x7c52f8(0x935)]);else{if(_0x5b42e1)handleGenerateEasyVersionQuiz(_0x5b42e1[_0x7c52f8(0xdcf)]['quizId']);else _0x58d755&&showQuizDetailView(_0x58d755['dataset'][_0x7c52f8(0x935)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x5e5613(0xde0)](_0x5e5613(0x7c9))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>showView(_0x5e5613(0x965))),document['getElementById'](_0x5e5613(0x4ba))['addEventListener']('click',confirmAndStartTeamQuiz),document[_0x5e5613(0xde0)]('quiz-leaderboard-table')[_0x5e5613(0xce2)](_0x5e5613(0xbdd))[_0x5e5613(0x999)]('click',_0xdcfcea=>{const _0x3a123a=_0x5e5613,_0x353d28=_0xdcfcea[_0x3a123a(0x28a)][_0x3a123a(0xd5a)](_0x3a123a(0xb93));if(!_0x353d28||!_0x353d28[_0x3a123a(0xdcf)]['sort'])return;const _0x1dbbd3=_0x353d28['dataset'][_0x3a123a(0x68d)];if(quizLeaderboardSortBy===_0x1dbbd3)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x3a123a(0x61f)?_0x3a123a(0x281):'asc';else{quizLeaderboardSortBy=_0x1dbbd3;const _0x402b36=['studentName'];quizLeaderboardSortOrder=_0x402b36['includes'](_0x1dbbd3)?_0x3a123a(0x61f):_0x3a123a(0x281);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x3a123a(0xc49));}),document['getElementById'](_0x5e5613(0xb59))[_0x5e5613(0x999)](_0x5e5613(0x4fc),closePresentation),document[_0x5e5613(0xde0)](_0x5e5613(0x4ce))[_0x5e5613(0x999)]('click',()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x5e5613(0xde0)]('next-question-btn')['addEventListener'](_0x5e5613(0x4fc),()=>{const _0x123b75=_0x5e5613;currentQuizData[_0x123b75(0x4f1)]&&currentPresentationSlide<currentQuizData[_0x123b75(0x4f1)][_0x123b75(0x9b1)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document['addEventListener']('fullscreenchange',()=>{const _0x590bfc=_0x5e5613;!document[_0x590bfc(0x740)]&&(presentationModal[_0x590bfc(0x2fc)][_0x590bfc(0x4b3)]=_0x590bfc(0x2b2));}),document[_0x5e5613(0xde0)]('delete-all-students-btn')[_0x5e5613(0x999)](_0x5e5613(0x4fc),handleDeleteAllStudents),studentList[_0x5e5613(0x999)](_0x5e5613(0x4fc),_0x292800=>{const _0x23b05a=_0x5e5613,_0x29bd7e=_0x292800[_0x23b05a(0x28a)][_0x23b05a(0xd5a)]('.delete-student-btn');if(_0x29bd7e){const _0x5c7528=_0x29bd7e['dataset'][_0x23b05a(0x955)];handleDeleteStudent(_0x5c7528);}}),document[_0x5e5613(0xde0)](_0x5e5613(0x4f8))[_0x5e5613(0x999)](_0x5e5613(0x4fc),handleGenerateFromFileClick),fileUploadInput[_0x5e5613(0x999)]('change',_0x297006=>{const _0x558a5b=_0x5e5613,_0x312cd1=_0x297006[_0x558a5b(0x28a)]['files'][0x0],_0x26a68d=document['getElementById']('generate-from-file-btn'),_0x51ef63=document[_0x558a5b(0xde0)](_0x558a5b(0x7bc)),_0x468d89=document[_0x558a5b(0xde0)](_0x558a5b(0xdf3));_0x312cd1?(selectedFile=_0x312cd1,_0x468d89['checked']?(_0x26a68d[_0x558a5b(0xc4f)]=!![],analyzeFileForTopics(_0x312cd1)):(_0x26a68d[_0x558a5b(0xc4f)]=![],_0x51ef63[_0x558a5b(0x7cb)][_0x558a5b(0x23b)](_0x558a5b(0xaa0)))):(selectedFile=null,_0x26a68d['disabled']=!![],_0x51ef63[_0x558a5b(0x7cb)][_0x558a5b(0x23b)](_0x558a5b(0xaa0)));}),document[_0x5e5613(0xde0)](_0x5e5613(0xdf3))[_0x5e5613(0x999)](_0x5e5613(0xade),_0x6fc4b7=>{const _0x5d195a=_0x5e5613,_0xb62b45=_0x6fc4b7[_0x5d195a(0x28a)]['checked'],_0x45f24b=document[_0x5d195a(0xde0)]('generate-from-file-btn'),_0x46387f=document[_0x5d195a(0xde0)](_0x5d195a(0x7bc));_0xb62b45?(_0x45f24b[_0x5d195a(0xc4f)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x46387f[_0x5d195a(0x7cb)][_0x5d195a(0x4cd)](_0x5d195a(0xaa0)),document[_0x5d195a(0xde0)](_0x5d195a(0x6c4))[_0x5d195a(0x2bd)]=_0x5d195a(0xa6a))):(_0x46387f[_0x5d195a(0x7cb)]['add'](_0x5d195a(0xaa0)),_0x45f24b['disabled']=!selectedFile);}),document[_0x5e5613(0xde0)](_0x5e5613(0x7bc))['addEventListener'](_0x5e5613(0x4fc),_0x2b0995=>{const _0x2ece3e=_0x5e5613,_0x3ad4e0=_0x2b0995[_0x2ece3e(0x28a)]['closest'](_0x2ece3e(0x40c)),_0x16245d=_0x2b0995[_0x2ece3e(0x28a)][_0x2ece3e(0xd5a)]('.generate-content-btn');if(_0x3ad4e0){const _0x15226a=unescape(_0x3ad4e0[_0x2ece3e(0xdcf)]['topic']);generateHybridQuizForTopic(_0x15226a);}else{if(_0x16245d){const _0x62db68=unescape(_0x16245d[_0x2ece3e(0xdcf)][_0x2ece3e(0x714)]),_0x33e419=document[_0x2ece3e(0xde0)](_0x2ece3e(0xab5))['value'];handleGenerateAndShowLesson(_0x62db68,_0x33e419);}}}),document[_0x5e5613(0xde0)]('timer-mode-select')[_0x5e5613(0x999)](_0x5e5613(0xade),_0x35e9ae=>{const _0x57b00a=_0x5e5613,_0x533e5a=document[_0x57b00a(0xde0)](_0x57b00a(0x497)),_0x358ac3=document[_0x57b00a(0xde0)]('timer-duration-label'),_0x278b49=document['getElementById'](_0x57b00a(0x96b));_0x35e9ae[_0x57b00a(0x28a)]['value']==='none'?_0x533e5a[_0x57b00a(0x7cb)][_0x57b00a(0x23b)](_0x57b00a(0xaa0)):(_0x533e5a[_0x57b00a(0x7cb)][_0x57b00a(0x4cd)]('hidden'),_0x35e9ae[_0x57b00a(0x28a)][_0x57b00a(0xd73)]==='whole_quiz'?(_0x358ac3['textContent']='ระยะเวลา\x20(นาที):',_0x278b49[_0x57b00a(0xd73)]='10'):(_0x358ac3[_0x57b00a(0xb0c)]=_0x57b00a(0xc5d),_0x278b49[_0x57b00a(0xd73)]='30'));}),document[_0x5e5613(0xde0)](_0x5e5613(0xafd))[_0x5e5613(0x999)]('change',_0x252dd9=>{const _0xa286bd=_0x5e5613,_0x9bcc6c=document['getElementById']('num-choices-container'),_0x5e1e8a=_0x252dd9['target'][_0xa286bd(0xd73)],_0x548c0e=document[_0xa286bd(0xce2)]('label[for=\x22num-questions\x22]'),_0x306341=document[_0xa286bd(0xde0)](_0xa286bd(0x286)),_0x34cb6f=document[_0xa286bd(0xde0)](_0xa286bd(0x2d7));_0x5e1e8a==='matching'?_0x548c0e[_0xa286bd(0xb0c)]=_0xa286bd(0x520):_0x548c0e[_0xa286bd(0xb0c)]=_0xa286bd(0x990),_0x5e1e8a===_0xa286bd(0x209)||_0x5e1e8a==='fill_in_with_choices'||_0x5e1e8a===_0xa286bd(0x313)?_0x9bcc6c[_0xa286bd(0x7cb)]['remove'](_0xa286bd(0xaa0)):_0x9bcc6c['classList'][_0xa286bd(0x23b)](_0xa286bd(0xaa0)),_0x306341[_0xa286bd(0x2ca)]=_0x34cb6f['value'];}),document['getElementById'](_0x5e5613(0x2d7))[_0x5e5613(0x999)]('input',_0x321a9b=>{const _0x2d520a=_0x5e5613;document[_0x2d520a(0xde0)](_0x2d520a(0x286))[_0x2d520a(0x2ca)]=_0x321a9b[_0x2d520a(0x28a)][_0x2d520a(0xd73)];}),document[_0x5e5613(0xde0)](_0x5e5613(0x7db))['addEventListener'](_0x5e5613(0xade),_0x5ae664=>{const _0x5ea9f1=_0x5e5613,_0x1f9064=document[_0x5ea9f1(0xde0)](_0x5ea9f1(0xb09)),_0x37b6f8=document[_0x5ea9f1(0xde0)](_0x5ea9f1(0x895)),_0x4d3b1e=document[_0x5ea9f1(0xde0)](_0x5ea9f1(0x56c));_0x5ae664[_0x5ea9f1(0x28a)][_0x5ea9f1(0xd73)]===_0x5ea9f1(0x2b2)?_0x1f9064['classList'][_0x5ea9f1(0x23b)]('hidden'):(_0x1f9064[_0x5ea9f1(0x7cb)][_0x5ea9f1(0x4cd)](_0x5ea9f1(0xaa0)),_0x5ae664[_0x5ea9f1(0x28a)][_0x5ea9f1(0xd73)]===_0x5ea9f1(0x6a1)?_0x37b6f8['textContent']=_0x5ea9f1(0x76e):_0x37b6f8['textContent']=_0x5ea9f1(0xc5d));}),document[_0x5e5613(0xde0)](_0x5e5613(0xa63))[_0x5e5613(0x999)]('click',()=>{const _0x159c0d=_0x5e5613;document[_0x159c0d(0xde0)](_0x159c0d(0x8f3))[_0x159c0d(0x7cb)][_0x159c0d(0x23b)](_0x159c0d(0xaa0));}),document[_0x5e5613(0xde0)](_0x5e5613(0x8ad))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{const _0x26d0f6=_0x5e5613;document['getElementById']('quiz-editor-modal')['classList'][_0x26d0f6(0x23b)]('hidden');}),document[_0x5e5613(0xde0)](_0x5e5613(0x479))[_0x5e5613(0x999)](_0x5e5613(0x4fc),handleVerifyAnswersInEditor),document[_0x5e5613(0xde0)]('save-quiz-edits-btn')[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{const _0x74abcc=_0x5e5613;document[_0x74abcc(0xde0)](_0x74abcc(0x8f3))['classList']['add'](_0x74abcc(0xaa0)),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document[_0x5e5613(0xde0)](_0x5e5613(0x564))[_0x5e5613(0x999)](_0x5e5613(0x4fc),handleAutoFixLatex);const _0x1f00f2=document[_0x5e5613(0xde0)](_0x5e5613(0xad5));_0x1f00f2&&_0x1f00f2[_0x5e5613(0x999)](_0x5e5613(0x4fc),_0x327526=>{const _0x184aa5=_0x5e5613,_0x21d793=_0x327526['target'][_0x184aa5(0xd5a)](_0x184aa5(0x372));if(_0x21d793){const _0x2f927e=_0x21d793['closest'](_0x184aa5(0x492)),_0x37c723=parseInt(_0x2f927e['dataset'][_0x184aa5(0x53d)],0xa);handleRegenerateQuestionInEditor(_0x37c723);return;}const _0x212777=_0x327526[_0x184aa5(0x28a)][_0x184aa5(0xd5a)](_0x184aa5(0x5f1));if(_0x212777){const _0x575b8a=_0x212777[_0x184aa5(0xd5a)](_0x184aa5(0x492)),_0x3a456f=parseInt(_0x575b8a['dataset'][_0x184aa5(0x53d)],0xa);handleDeleteQuestionInEditor(_0x3a456f);return;}const _0x89d997=_0x327526['target'][_0x184aa5(0xd5a)](_0x184aa5(0x9c3));if(_0x89d997){handleAddQuestionInEditor();return;}});document[_0x5e5613(0xde0)](_0x5e5613(0x47f))[_0x5e5613(0x999)](_0x5e5613(0x4fc),openQuizBankModal),document[_0x5e5613(0xde0)](_0x5e5613(0x2d5))[_0x5e5613(0x999)]('click',()=>{const _0xf21e28=_0x5e5613;document['getElementById'](_0xf21e28(0x6cf))[_0xf21e28(0x7cb)][_0xf21e28(0x23b)](_0xf21e28(0xaa0));}),document[_0x5e5613(0xde0)](_0x5e5613(0xb37))[_0x5e5613(0x999)]('input',_0x136b61=>renderQuizBankList(_0x136b61[_0x5e5613(0x28a)]['value']));const _0x302ff6=document['getElementById'](_0x5e5613(0x599));if(_0x302ff6){let _0x32a770=null;_0x302ff6['addEventListener'](_0x5e5613(0x4fc),_0x42f1b4=>{const _0x31696e=_0x5e5613,_0x43808b=_0x42f1b4[_0x31696e(0x28a)],_0x58de10=_0x43808b[_0x31696e(0xd5a)](_0x31696e(0x7e1)),_0x4a73c6=_0x43808b['closest'](_0x31696e(0xd67)),_0x322505=_0x43808b[_0x31696e(0xd5a)](_0x31696e(0x529)),_0x572fcf=_0x43808b[_0x31696e(0xd5a)](_0x31696e(0x9c8));if(_0x4a73c6){_0x42f1b4[_0x31696e(0x4c8)]();const _0x315afd=_0x4a73c6['dataset']['id'],_0x3c3528=_0x4a73c6['closest'](_0x31696e(0x7b7))[_0x31696e(0xce2)](_0x31696e(0xb74))[_0x31696e(0xb0c)];showConfirmation(_0x31696e(0xa04)+_0x3c3528+'\x22?',()=>handleDeleteCustomTopic(_0x315afd));}else{if(_0x58de10){_0x42f1b4['preventDefault']();_0x32a770&&toggleTopicEditMode(_0x32a770,![]);const _0x46a4de=_0x58de10[_0x31696e(0xd5a)]('[data-topic-container-id]');_0x32a770=_0x46a4de,toggleTopicEditMode(_0x46a4de,!![]);}else{if(_0x322505){_0x42f1b4[_0x31696e(0x4c8)]();const _0x16bdef=_0x322505[_0x31696e(0xdcf)]['id'],_0x46b739=_0x322505[_0x31696e(0xd5a)](_0x31696e(0x7d8)),_0x3897e1=_0x46b739[_0x31696e(0xce2)](_0x31696e(0xc0a))['value'];handleUpdateCustomTopic(_0x16bdef,_0x3897e1),_0x32a770=null;}else{if(_0x572fcf){_0x42f1b4[_0x31696e(0x4c8)]();const _0x198944=_0x572fcf[_0x31696e(0xd5a)](_0x31696e(0x7d8));toggleTopicEditMode(_0x198944,![]),_0x32a770=null;}}}}}),document[_0x5e5613(0xde0)](_0x5e5613(0x7b5))[_0x5e5613(0x999)](_0x5e5613(0x4fc),()=>{const _0x4167de=_0x5e5613;document[_0x4167de(0xde0)](_0x4167de(0x330))[_0x4167de(0x7cb)][_0x4167de(0x23b)]('hidden');}),document[_0x5e5613(0xde0)](_0x5e5613(0x40b))[_0x5e5613(0x999)]('click',()=>{const _0x14ac6f=_0x5e5613;document[_0x14ac6f(0xde0)](_0x14ac6f(0x330))[_0x14ac6f(0x7cb)]['add'](_0x14ac6f(0xaa0));}),document[_0x5e5613(0xde0)](_0x5e5613(0x74b))[_0x5e5613(0x999)]('click',handleExportLessonPDF);}document[_0x5e5613(0xde0)]('close-comparison-modal-btn')[_0x5e5613(0x999)]('click',()=>{const _0x61ff08=_0x5e5613;document[_0x61ff08(0xde0)](_0x61ff08(0x3ef))[_0x61ff08(0x7cb)]['add'](_0x61ff08(0xaa0));}),document[_0x5e5613(0xde0)]('close-comparison-modal-footer-btn')['addEventListener']('click',()=>{const _0x122838=_0x5e5613;document[_0x122838(0xde0)](_0x122838(0x3ef))['classList'][_0x122838(0x23b)]('hidden');}),setupComparisonModalTabs(),document[_0x5e5613(0x6c6)][_0x5e5613(0x999)](_0x5e5613(0x4fc),function(_0x42aa21){const _0xafeb9=_0x5e5613;if(_0x42aa21[_0xafeb9(0x28a)][_0xafeb9(0x7cb)][_0xafeb9(0xa47)](_0xafeb9(0xabd))){const _0x38547e=unescape(_0x42aa21['target'][_0xafeb9(0xdcf)][_0xafeb9(0x714)]);startSkillPractice(_0x38547e);}}),document['getElementById']('scores-tab-content')['addEventListener']('click',_0x18787b=>{const _0x45747c=_0x5e5613,_0x231056=_0x18787b['target'][_0x45747c(0xd5a)](_0x45747c(0x2e2));if(_0x231056){const _0x49bfa0=_0x231056[_0x45747c(0xdcf)]['studentName'];handleDeleteSubmission(_0x49bfa0);}});}async function handleStartGroupMode(_0x1fdd6c,_0x3b6a9a=![]){const _0x43b705=_0x36ca11,_0x12fa4c=allQuizzes[_0x43b705(0x349)](_0x612f6c=>_0x612f6c['id']===_0x1fdd6c)||allQuizzesGlobal[_0x43b705(0x349)](_0x2632e0=>_0x2632e0['id']===_0x1fdd6c);if(!_0x12fa4c){showMessage(_0x43b705(0x950));return;}currentQuizData=getShuffledQuiz(_0x12fa4c);const _0x358e8b=Math[_0x43b705(0x8fb)](0x3e8+Math[_0x43b705(0xdd3)]()*0x2328)[_0x43b705(0x460)]();try{const _0x540875=await addDoc(collection(db,_0x43b705(0xdd2)+appId+'/public/data/teamQuizzes'),{'quizId':_0x12fa4c['id'],'projectId':_0x12fa4c[_0x43b705(0x264)],'status':_0x43b705(0x733),'pin':_0x358e8b,'mode':_0x43b705(0x968),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x3b6a9a});currentTeamQuizId=_0x540875['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x358e8b,_0x12fa4c['topic'],_0x43b705(0x968)),listenForTeamQuizUpdates();}catch(_0x51febb){console['error'](_0x43b705(0x5ae),_0x51febb),showMessage(_0x43b705(0x8a8));}}async function showStudentProgressView(){const _0x84d0d7=_0x36ca11;studentInitialView[_0x84d0d7(0x7cb)][_0x84d0d7(0x23b)](_0x84d0d7(0xaa0)),document['getElementById'](_0x84d0d7(0x220))[_0x84d0d7(0x7cb)][_0x84d0d7(0x4cd)](_0x84d0d7(0xaa0));const _0x150eed=document['getElementById'](_0x84d0d7(0xd33)),_0x4d7053=document[_0x84d0d7(0xde0)](_0x84d0d7(0x65c)),_0x1c9fd6=document['getElementById'](_0x84d0d7(0xbb0));_0x1c9fd6[_0x84d0d7(0x2bd)]=_0x84d0d7(0xa8e),_0x4d7053[_0x84d0d7(0x2bd)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x4d7053[_0x84d0d7(0xc4f)]=!![],_0x150eed['innerHTML']=_0x84d0d7(0x4f4);if(allProjects[_0x84d0d7(0x9b1)]===0x0){const _0x495e7e=collection(db,_0x84d0d7(0xdd2)+appId+_0x84d0d7(0x20e)),_0x5e736b=await getDocs(_0x495e7e);allProjects=_0x5e736b[_0x84d0d7(0x309)][_0x84d0d7(0xcf7)](_0x309edc=>({'id':_0x309edc['id'],..._0x309edc[_0x84d0d7(0x518)]()}));}const _0x491b6a=allProjects[_0x84d0d7(0x273)](_0x454740=>_0x454740[_0x84d0d7(0x695)]?.['showInStudentDashboard']!==![]);_0x491b6a[_0x84d0d7(0x68d)]((_0x3a42a3,_0x21f1ec)=>_0x3a42a3[_0x84d0d7(0xd30)][_0x84d0d7(0x262)](_0x21f1ec[_0x84d0d7(0xd30)],'th')),_0x150eed['innerHTML']=_0x84d0d7(0x987)+_0x491b6a[_0x84d0d7(0xcf7)](_0x4b9271=>'<option\x20value=\x22'+_0x4b9271['id']+'\x22>'+_0x4b9271[_0x84d0d7(0xd30)]+_0x84d0d7(0x728))[_0x84d0d7(0xa81)](''),_0x150eed['onchange']=()=>{const _0x5e26e6=_0x84d0d7,_0x380da0=_0x4d7053[_0x5e26e6(0xd73)],_0x15a0a0=_0x150eed['value'];_0x4d7053[_0x5e26e6(0xc4f)]=!![],_0x4d7053[_0x5e26e6(0x2bd)]=_0x5e26e6(0x978),_0x1c9fd6[_0x5e26e6(0x2bd)]=_0x5e26e6(0x4ec);if(!_0x15a0a0)return;const _0x426f69=allProjects[_0x5e26e6(0x349)](_0x33474c=>_0x33474c['id']===_0x15a0a0);if(!_0x426f69||!_0x426f69[_0x5e26e6(0xd36)])return;const _0x433d89=()=>{const _0x3e7200=_0x5e26e6;_0x4d7053['innerHTML']=_0x3e7200(0x978)+_0x426f69[_0x3e7200(0xd36)][_0x3e7200(0xcf7)](_0x3d1d5e=>_0x3e7200(0xa16)+_0x3d1d5e+'\x22>'+_0x3d1d5e+_0x3e7200(0x728))[_0x3e7200(0xa81)](''),_0x4d7053[_0x3e7200(0xc4f)]=![];const _0x129ed4=Array[_0x3e7200(0x64c)](_0x4d7053[_0x3e7200(0x72e)])[_0x3e7200(0xcf7)](_0x363634=>_0x363634['value']);if(_0x380da0&&_0x129ed4['includes'](_0x380da0))_0x4d7053[_0x3e7200(0xd73)]=_0x380da0,_0x4d7053[_0x3e7200(0x633)](new Event('change'));else _0x426f69[_0x3e7200(0xd36)][_0x3e7200(0x9b1)]===0x1&&(_0x4d7053['value']=_0x426f69[_0x3e7200(0xd36)][0x0],_0x4d7053['dispatchEvent'](new Event('change')));};if(_0x426f69[_0x5e26e6(0x695)]?.[_0x5e26e6(0x797)]){if(sessionStorage['getItem']('authed_project_'+_0x15a0a0)===_0x5e26e6(0x3f6)){_0x433d89();return;}const _0x41aacc=document[_0x5e26e6(0xde0)](_0x5e26e6(0x852)),_0x6a64cb=document[_0x5e26e6(0xde0)](_0x5e26e6(0x575)),_0x3f45b0=document['getElementById']('cancel-passcode-btn'),_0x4366a9=document[_0x5e26e6(0xde0)]('student-passcode-input'),_0x2244be=document[_0x5e26e6(0xde0)]('passcode-error-msg');document[_0x5e26e6(0xde0)](_0x5e26e6(0xc87))[_0x5e26e6(0xb0c)]='สำหรับโปรเจค:\x20'+_0x426f69[_0x5e26e6(0xd30)],_0x4366a9[_0x5e26e6(0xd73)]='',_0x2244be[_0x5e26e6(0x7cb)]['add']('hidden'),_0x41aacc['classList']['remove']('hidden');const _0x357130=()=>{const _0x4341ca=_0x5e26e6,_0x3ffed8=_0x4366a9[_0x4341ca(0xd73)]['trim']();_0x3ffed8===_0x426f69[_0x4341ca(0x695)]['passcode']?(sessionStorage[_0x4341ca(0x2c8)](_0x4341ca(0x1ea)+_0x15a0a0,_0x4341ca(0x3f6)),_0x41aacc[_0x4341ca(0x7cb)][_0x4341ca(0x23b)]('hidden'),_0x433d89(),_0x6a64cb['removeEventListener']('click',_0x357130)):_0x2244be[_0x4341ca(0x7cb)][_0x4341ca(0x4cd)]('hidden');};_0x6a64cb[_0x5e26e6(0xa67)]=_0x357130,_0x3f45b0[_0x5e26e6(0xa67)]=()=>{const _0x12c1b1=_0x5e26e6;_0x41aacc['classList'][_0x12c1b1(0x23b)]('hidden'),_0x150eed[_0x12c1b1(0xd73)]='',_0x6a64cb[_0x12c1b1(0xb40)](_0x12c1b1(0x4fc),_0x357130);};}else _0x433d89();},_0x4d7053[_0x84d0d7(0x6cb)]=()=>{const _0x359571=_0x84d0d7,_0x381c02=_0x150eed[_0x359571(0xd73)],_0x1237e1=_0x4d7053[_0x359571(0xd73)];_0x381c02&&_0x1237e1&&renderStudentProgressDashboard(_0x381c02,_0x1237e1);};}async function confirmAndJoinSyncGame(){const _0x291ff6=_0x36ca11,_0x297104=Array[_0x291ff6(0x64c)](document[_0x291ff6(0xbe7)](_0x291ff6(0x70a)))['map'](_0x29d667=>_0x29d667[_0x291ff6(0xd73)]);if(_0x297104['length']===0x0){showMessage(_0x291ff6(0xc44));return;}localTeamPlayers=_0x297104,localPlayerTurnIndex=0x0;const _0x31bf7e=doc(db,_0x291ff6(0xdd2)+appId+_0x291ff6(0xb3a),currentLiveGameId);try{const _0x164cf7=await getDoc(_0x31bf7e);if(!_0x164cf7['exists']())throw new Error(_0x291ff6(0xdd9));const _0x3928e9=_0x164cf7['data'](),_0x237c05=_0x3928e9[_0x291ff6(0x5cd)]||_0x291ff6(0x491),_0x33593d={};_0x297104[_0x291ff6(0x532)](_0x438525=>{const _0x223931=_0x291ff6,_0x44d105=_0x3928e9[_0x223931(0x9a3)][_0x438525];if(_0x44d105){console['log'](_0x223931(0x37b)+_0x438525+_0x223931(0x542)),_0x33593d[_0x223931(0x250)+_0x438525+_0x223931(0xc46)]=_0x223931(0x742);const _0x36f626=_0x44d105['answers']?.[_0x44d105['answers'][_0x223931(0x9b1)]-0x1],_0x194afb=!!(_0x36f626&&_0x36f626[_0x223931(0xbda)]===_0x3928e9['currentQuestionIndex']);_0x33593d[_0x223931(0x250)+_0x438525+_0x223931(0x339)]=_0x194afb;}else{console[_0x223931(0x966)](_0x223931(0xd50)+_0x438525+'\x20เข้าร่วมกลางเกม');const _0x1338c0={'name':_0x438525,'score':0x0,'answered':![],'status':_0x223931(0x742),'answers':[]};_0x237c05==='survivor'&&(typeof STARTING_LIVES!=='undefined'?_0x1338c0[_0x223931(0xc0d)]=STARTING_LIVES:(console['error'](_0x223931(0x3e8)),_0x1338c0[_0x223931(0xc0d)]=0x3)),_0x33593d[_0x223931(0x250)+_0x438525]=_0x1338c0;}}),await updateDoc(_0x31bf7e,_0x33593d),showView('live-game'),document[_0x291ff6(0xde0)](_0x291ff6(0x3ae))['classList'][_0x291ff6(0x23b)]('hidden'),currentStudentName=_0x297104[0x0],listenForSyncGameUpdates();const _0x51d267={'gameId':currentLiveGameId,'mode':'sync','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x291ff6(0x2c8)](_0x291ff6(0x941),JSON[_0x291ff6(0x2f2)](_0x51d267)),currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x291ff6(0x999)]('fullscreenchange',handleFullscreenChange),document[_0x291ff6(0x999)](_0x291ff6(0x9c1),handleVisibilityChange),enterFullscreen(),window[_0x291ff6(0x999)](_0x291ff6(0x4d1),resetDimTimer),window[_0x291ff6(0x999)]('mousedown',resetDimTimer),window[_0x291ff6(0x999)]('touchstart',resetDimTimer),window[_0x291ff6(0x999)](_0x291ff6(0xb22),resetDimTimer),resetDimTimer());}catch(_0x2c382c){console[_0x291ff6(0x3c3)](_0x291ff6(0xdb8),_0x2c382c),showMessage(_0x291ff6(0xa68)+_0x2c382c[_0x291ff6(0x805)]);}}async function resumeActiveGameSession(){const _0xdfda7e=_0x36ca11,_0x2fa6a3=sessionStorage[_0xdfda7e(0x32c)](_0xdfda7e(0x941));if(!_0x2fa6a3)return;const _0x19ae65=JSON['parse'](_0x2fa6a3),{gameId:_0x203d4e,mode:_0x263410,players:_0x1fdf02,turnIndex:_0x96b662}=_0x19ae65;try{let _0x2525ae,_0x5cbedb;_0x263410===_0xdfda7e(0xaa1)?_0x2525ae=doc(db,_0xdfda7e(0xdd2)+appId+_0xdfda7e(0xb3a),_0x203d4e):_0x2525ae=doc(db,_0xdfda7e(0xdd2)+appId+_0xdfda7e(0xcc2),_0x203d4e);_0x5cbedb=await getDoc(_0x2525ae);if(!_0x5cbedb[_0xdfda7e(0xa40)]()||_0x5cbedb[_0xdfda7e(0x518)]()['status']===_0xdfda7e(0x256)||_0x5cbedb[_0xdfda7e(0x518)]()[_0xdfda7e(0xcb4)]===_0xdfda7e(0x54b)){sessionStorage[_0xdfda7e(0x2c7)](_0xdfda7e(0x941));return;}console[_0xdfda7e(0x966)](_0xdfda7e(0x938)+_0x263410+_0xdfda7e(0xa20)+_0x203d4e+')'),localTeamPlayers=_0x1fdf02,localPlayerTurnIndex=_0x96b662;if(_0x263410==='sync')currentLiveGameId=_0x203d4e,currentStudentName=_0x1fdf02[0x0],showView(_0xdfda7e(0x7c8)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x203d4e;const _0x4a88c9=_0x5cbedb[_0xdfda7e(0x518)](),_0x2e3ee0=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x4a88c9[_0xdfda7e(0x935)]),_0x40ac09=await getDoc(_0x2e3ee0);_0x40ac09[_0xdfda7e(0xa40)]()&&(currentQuizData=getShuffledQuiz({'id':_0x40ac09['id'],..._0x40ac09[_0xdfda7e(0x518)]()}),showView(_0xdfda7e(0x965)),studentInitialView[_0xdfda7e(0x7cb)]['add'](_0xdfda7e(0xaa0)),renderTeamQuizQuestion());}}catch(_0x4ad35c){console[_0xdfda7e(0x3c3)]('Failed\x20to\x20resume\x20game\x20session:',_0x4ad35c),sessionStorage['removeItem'](_0xdfda7e(0x941));}}function activateFileInputAreaWithLoadedFile(){const _0x278f6c=_0x36ca11,_0x50773d=document[_0x278f6c(0xde0)](_0x278f6c(0x4f8)),_0x1a867b=document['getElementById']('file-topics-list-container'),_0x4f82e5=document[_0x278f6c(0xde0)](_0x278f6c(0xdf3));selectedFile?_0x4f82e5[_0x278f6c(0x39b)]?(_0x50773d[_0x278f6c(0xc4f)]=!![],analyzeFileForTopics(selectedFile)):(_0x50773d[_0x278f6c(0xc4f)]=![],_0x1a867b['classList']['add'](_0x278f6c(0xaa0))):(_0x50773d[_0x278f6c(0xc4f)]=!![],_0x1a867b[_0x278f6c(0x7cb)][_0x278f6c(0x23b)](_0x278f6c(0xaa0)));}async function handleKickPlayerSync(_0xfe0141){const _0x22b8ef=_0x36ca11;if(!currentLiveGameId||!_0xfe0141)return;const _0x429ff6=doc(db,_0x22b8ef(0xdd2)+appId+_0x22b8ef(0xb3a),currentLiveGameId),_0x99557={};_0x99557[_0x22b8ef(0x250)+_0xfe0141+_0x22b8ef(0xc46)]=_0x22b8ef(0x7d4);try{await updateDoc(_0x429ff6,_0x99557);}catch(_0x1a6c5e){console[_0x22b8ef(0x3c3)](_0x22b8ef(0xa3a)+_0xfe0141+_0x22b8ef(0x290),_0x1a6c5e),showMessage(_0x22b8ef(0xdb9));}}async function renderStudentProgressDashboard(_0x448a4f,_0x43408e){const _0x2d05f9=_0x36ca11,_0x1ec04a=document['getElementById'](_0x2d05f9(0xbb0));_0x1ec04a['innerHTML']=_0x2d05f9(0x702);try{const _0x391b48=collection(db,'artifacts/'+appId+_0x2d05f9(0x365)),_0x549df0=query(_0x391b48,where(_0x2d05f9(0x264),'==',_0x448a4f)),_0x4223d5=await getDocs(_0x549df0),_0x469d45=_0x4223d5['docs'][_0x2d05f9(0xcf7)](_0x42f5c9=>({'id':_0x42f5c9['id'],..._0x42f5c9[_0x2d05f9(0x518)]()})),_0x36e666=_0x469d45['map'](_0x145bac=>getDoc(doc(db,_0x2d05f9(0xdd2)+appId+_0x2d05f9(0xd9a)+_0x145bac['id']+_0x2d05f9(0x316),_0x43408e))),_0x36d00a=await Promise['all'](_0x36e666),_0x3fe562=_0x36d00a[_0x2d05f9(0x273)](_0x22d8dc=>_0x22d8dc[_0x2d05f9(0xa40)]())['map'](_0x14c9fb=>({'quizId':_0x14c9fb['ref']['parent'][_0x2d05f9(0x22f)]['id'],..._0x14c9fb[_0x2d05f9(0x518)]()}));if(_0x3fe562[_0x2d05f9(0x9b1)]===0x0){_0x1ec04a['innerHTML']=_0x2d05f9(0xb0b);return;}let _0x31f3ff='<div\x20class=\x22space-y-4\x22>';_0x3fe562[_0x2d05f9(0x532)](_0x69a186=>{const _0x347a37=_0x2d05f9,_0x342f17=_0x469d45[_0x347a37(0x349)](_0x17b8cb=>_0x17b8cb['id']===_0x69a186[_0x347a37(0x935)]),_0xb7ece=_0x342f17[_0x347a37(0x695)]?.[_0x347a37(0xdd1)]||'show_results_and_answers',_0x1cdc5e=_0x342f17[_0x347a37(0x695)]?.[_0x347a37(0x672)]??0x0,_0x12b240=_0x69a186['bestScore']>=_0x1cdc5e;let _0x219581='',_0x497fa6='bg-gray-50';switch(_0xb7ece){case _0x347a37(0xc9f):case _0x347a37(0x92f):_0x497fa6=_0x12b240?_0x347a37(0x67a):_0x347a37(0xb62),_0x219581=_0x347a37(0x535)+(_0x12b240?_0x347a37(0x98c):_0x347a37(0xd10))+'\x22>'+_0x69a186['bestScore']+'\x20/\x20'+_0x69a186[_0x347a37(0xde1)]+_0x347a37(0xc9d)+(_0x12b240?_0x347a37(0x87a):_0x347a37(0x36e))+'\x22>'+(_0x12b240?_0x347a37(0x8bb):_0x347a37(0x415))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x347a37(0xb9b):_0x497fa6=_0x12b240?_0x347a37(0x67a):_0x347a37(0xb62),_0x219581=_0x347a37(0xce7)+(_0x12b240?_0x347a37(0x87a):_0x347a37(0x36e))+'\x22>'+(_0x12b240?_0x347a37(0x8bb):'ไม่ผ่าน')+_0x347a37(0x580);break;case _0x347a37(0x28f):_0x497fa6=_0x347a37(0x88b),_0x219581=_0x347a37(0x893);break;}_0x31f3ff+=_0x347a37(0x275)+_0x497fa6+_0x347a37(0x669)+_0x342f17['topic']+_0x347a37(0xd05)+_0x69a186[_0x347a37(0x96e)][_0x347a37(0x9b1)]+_0x347a37(0xacb)+new Date(_0x69a186[_0x347a37(0x20b)])['toLocaleDateString']('th-TH')+_0x347a37(0x614)+_0x219581+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x31f3ff+=_0x2d05f9(0xb49),_0x1ec04a['innerHTML']=_0x31f3ff;}catch(_0x167156){console[_0x2d05f9(0x3c3)](_0x2d05f9(0x8b0),_0x167156),_0x1ec04a['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>';}}function renderQuizBankListForMultiSelect(_0x171b9d=''){const _0x59ce2f=_0x36ca11,_0x35a0c7=document[_0x59ce2f(0xde0)](_0x59ce2f(0x39e)),_0x5738ae=_0x171b9d[_0x59ce2f(0x442)]()[_0x59ce2f(0x3ac)](),_0x34f06b=allQuizzesGlobal[_0x59ce2f(0xcf7)](_0x34fc0a=>({..._0x34fc0a,'projectName':allProjects[_0x59ce2f(0x349)](_0x4f90da=>_0x4f90da['id']===_0x34fc0a[_0x59ce2f(0x264)])?.[_0x59ce2f(0xd30)]||'N/A'}))['filter'](_0x435b4d=>(_0x435b4d[_0x59ce2f(0x714)]||'')[_0x59ce2f(0x442)]()['includes'](_0x5738ae)||(_0x435b4d[_0x59ce2f(0xd30)]||'')[_0x59ce2f(0x442)]()[_0x59ce2f(0xaf6)](_0x5738ae)||_0x435b4d['id']['toString']()[_0x59ce2f(0xaf6)](_0x5738ae));_0x35a0c7['innerHTML']=_0x34f06b[_0x59ce2f(0x9b1)]?_0x34f06b[_0x59ce2f(0xcf7)](_0x214ed7=>_0x59ce2f(0x889)+_0x214ed7['id']+'\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x214ed7[_0x59ce2f(0x714)]||_0x59ce2f(0x2fe))+_0x59ce2f(0xc67)+_0x214ed7[_0x59ce2f(0xd30)]+'\x20|\x20ID:\x20'+_0x214ed7['id']+_0x59ce2f(0x81c))['join'](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x35a0c7[_0x59ce2f(0x6cb)]=()=>{const _0x26dc1d=_0x59ce2f,_0xd004d5=document['querySelector']('.quiz-bank-checkbox:checked');document['getElementById'](_0x26dc1d(0xc18))[_0x26dc1d(0xc4f)]=!_0xd004d5;};}function setupStudentProgressListeners(){const _0x183381=_0x36ca11;document[_0x183381(0xde0)]('view-my-progress-btn')[_0x183381(0x999)](_0x183381(0x4fc),showStudentProgressView),document[_0x183381(0xde0)](_0x183381(0x6a3))[_0x183381(0x999)](_0x183381(0x4fc),()=>{const _0x241809=_0x183381;document[_0x241809(0xde0)]('student-progress-view')[_0x241809(0x7cb)][_0x241809(0x23b)](_0x241809(0xaa0)),document[_0x241809(0xde0)](_0x241809(0x8d1))[_0x241809(0x7cb)][_0x241809(0x4cd)](_0x241809(0xaa0));});}async function startSkillPractice(_0x2ed709){const _0x4cfdf1=_0x36ca11;studentResultArea[_0x4cfdf1(0x7cb)][_0x4cfdf1(0x23b)](_0x4cfdf1(0xaa0)),studentQuizArea[_0x4cfdf1(0x2bd)]=_0x4cfdf1(0x89a),studentQuizArea[_0x4cfdf1(0x7cb)][_0x4cfdf1(0x4cd)](_0x4cfdf1(0xaa0));try{const _0x131d85=await getStandardizedTopic(_0x2ed709);console['log']('คำถามดิบ:\x20\x22'+_0x2ed709+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x131d85+'\x22'),studentQuizArea['querySelector']('p')[_0x4cfdf1(0xb0c)]='กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22'+_0x131d85+_0x4cfdf1(0xbb6);const _0x3124c2=collection(db,'artifacts/'+appId+'/public/data/practiceBank'),_0x3c5724=query(_0x3124c2,where(_0x4cfdf1(0x714),'==',_0x131d85)),_0x5e7287=await getDocs(_0x3c5724);if(_0x5e7287[_0x4cfdf1(0x309)][_0x4cfdf1(0x9b1)]>=0x3){console[_0x4cfdf1(0x966)](_0x4cfdf1(0xaa8)+_0x5e7287[_0x4cfdf1(0x309)][_0x4cfdf1(0x9b1)]+_0x4cfdf1(0xafa)+_0x131d85+_0x4cfdf1(0xdee));let _0x2491ed=_0x5e7287[_0x4cfdf1(0x309)][_0x4cfdf1(0xcf7)](_0x3d733e=>_0x3d733e['data']());shuffleArray(_0x2491ed);const _0x487672={'topic':_0x131d85,'questions':_0x2491ed[_0x4cfdf1(0x5dc)](0x0,0x3)};displaySkillPracticeDrill(_0x487672);}else{console['log'](_0x4cfdf1(0xd76)+_0x131d85+_0x4cfdf1(0x88d));const _0x157c1b=await generatePracticeQuestions(_0x131d85);await saveDrillToPracticeBank(_0x157c1b,_0x131d85),displaySkillPracticeDrill(_0x157c1b);}}catch(_0x4ffe7c){console['error'](_0x4cfdf1(0x6c9),_0x4ffe7c),showMessage(_0x4cfdf1(0xb1d)),studentQuizArea[_0x4cfdf1(0x7cb)][_0x4cfdf1(0x23b)]('hidden'),studentResultArea[_0x4cfdf1(0x7cb)][_0x4cfdf1(0x4cd)](_0x4cfdf1(0xaa0));}}async function saveDrillToPracticeBank(_0x2341af,_0x458b39){const _0x48b1ab=_0x36ca11,_0x1939b2=collection(db,_0x48b1ab(0xdd2)+appId+_0x48b1ab(0xbea)),_0x195f9e=writeBatch(db);_0x2341af[_0x48b1ab(0x4f1)][_0x48b1ab(0x532)](_0x2adf48=>{const _0x88b068=_0x48b1ab,_0x3505ba=doc(_0x1939b2);_0x195f9e[_0x88b068(0x2ce)](_0x3505ba,{'topic':_0x458b39,'questionText':_0x2adf48['questionText'],'options':_0x2adf48[_0x88b068(0x72e)],'correctAnswerIndex':_0x2adf48[_0x88b068(0x31b)],'explanation':_0x2adf48[_0x88b068(0xbc9)],'createdAt':serverTimestamp()});});try{await _0x195f9e[_0x48b1ab(0xda0)](),console['log']('บันทึกคำถามใหม่\x20'+_0x2341af[_0x48b1ab(0x4f1)][_0x48b1ab(0x9b1)]+_0x48b1ab(0x77e));}catch(_0x1ebb00){console['error'](_0x48b1ab(0x577),_0x1ebb00);}}async function getStandardizedTopic(_0x557c7d){const _0x9263db=_0x36ca11,_0x7bd165=_0x9263db(0xdae)+_0x557c7d+_0x9263db(0x28d),_0x390dc4={'type':'OBJECT','properties':{'standardTopic':{'type':_0x9263db(0x1dc)}},'required':[_0x9263db(0x400)]};try{const _0x1db48c=await callAnalysisApi(_0x7bd165,_0x390dc4);return _0x1db48c[_0x9263db(0x400)];}catch(_0x285ad2){return console[_0x9263db(0x3c3)]('Failed\x20to\x20get\x20standardized\x20topic:',_0x285ad2),_0x557c7d;}}async function handleGenerateEasyVersionQuiz(_0x437a68){const _0x23a68a=_0x36ca11,_0x4f8b87=document[_0x23a68a(0xde0)](_0x23a68a(0x8cd)),_0x34dbab=document[_0x23a68a(0xde0)](_0x23a68a(0xd64));_0x34dbab[_0x23a68a(0x7cb)][_0x23a68a(0x23b)](_0x23a68a(0xaa0));const _0x3dd1ba=_0x23a68a(0x627);_0x4f8b87[_0x23a68a(0x22a)](_0x23a68a(0x5fa),_0x3dd1ba);try{const _0x215110=allQuizzes['find'](_0x162f6d=>_0x162f6d['id']===_0x437a68);if(!_0x215110)throw new Error(_0x23a68a(0x59e));const _0x1496ae='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20'+JSON[_0x23a68a(0x2f2)](_0x215110[_0x23a68a(0x4f1)])+_0x23a68a(0x280),_0xb609f9={'type':'OBJECT','properties':{'questionText':{'type':_0x23a68a(0x1dc)},'questionType':{'type':_0x23a68a(0x1dc)},'options':{'type':_0x23a68a(0xacd),'items':{'type':_0x23a68a(0x1dc)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x23a68a(0x1dc)},'explanation':{'type':_0x23a68a(0x1dc)},'imageCode':{'type':_0x23a68a(0x1dc)}},'required':[_0x23a68a(0xc60),_0x23a68a(0x55e),_0x23a68a(0xbc9)]},_0x1d5ced={'type':_0x23a68a(0xae2),'properties':{'questions':{'type':'ARRAY','items':_0xb609f9}},'required':[_0x23a68a(0x4f1)]},_0xa761ad=await callAnalysisApi(_0x1496ae,_0x1d5ced);_0xa761ad&&_0xa761ad['questions']&&_0xa761ad[_0x23a68a(0x4f1)][_0x23a68a(0x532)](_0x38b8f8=>{const _0x41e266=_0x23a68a;if(_0x38b8f8[_0x41e266(0xb10)](_0x41e266(0x5e1))){const _0x4e4330=String(_0x38b8f8[_0x41e266(0x5e1)])[_0x41e266(0x3ac)]();(_0x4e4330===''||_0x4e4330[_0x41e266(0x442)]()===_0x41e266(0x643)||!_0x4e4330[_0x41e266(0x277)]('<svg'))&&delete _0x38b8f8['imageCode'];}});if(!_0xa761ad||!_0xa761ad['questions']||_0xa761ad['questions'][_0x23a68a(0x9b1)]===0x0)throw new Error(_0x23a68a(0x961));const _0x5c82c8=_0xa761ad[_0x23a68a(0x4f1)][_0x23a68a(0xcf7)]((_0x2d5eaf,_0x57f4c8)=>({..._0x2d5eaf,'id':'q_'+Date[_0x23a68a(0x51b)]()+'_'+_0x57f4c8})),_0x153e52={'projectId':_0x215110[_0x23a68a(0x264)],'quizType':_0x215110[_0x23a68a(0xcfa)],'settings':_0x215110[_0x23a68a(0x695)],'createdBy':_0x215110[_0x23a68a(0x5df)],'status':'active','topic':'(ฉบับง่าย)\x20'+_0x215110['topic'],'questions':_0x5c82c8,'createdAt':new Date()['toISOString'](),'quizMode':_0x23a68a(0x7df),'pairedQuizId':null};let _0x44faf8;while(!![]){_0x44faf8=Math[_0x23a68a(0x8fb)](0x3e8+Math[_0x23a68a(0xdd3)]()*0x2328)['toString']();const _0x366f2c=await getDoc(doc(db,'artifacts/'+appId+_0x23a68a(0x365),_0x44faf8));if(!_0x366f2c[_0x23a68a(0xa40)]())break;}await setDoc(doc(db,_0x23a68a(0xdd2)+appId+_0x23a68a(0x365),_0x44faf8),_0x153e52),showMessage(_0x23a68a(0x7be));}catch(_0x175f86){console[_0x23a68a(0x3c3)](_0x23a68a(0x57a),_0x175f86),showMessage(_0x23a68a(0x37d)+_0x175f86[_0x23a68a(0x805)]);}finally{const _0x167255=document[_0x23a68a(0xde0)]('temp-loader-results');_0x167255&&_0x167255[_0x23a68a(0x4cd)](),_0x34dbab['classList'][_0x23a68a(0x4cd)](_0x23a68a(0xaa0));}}async function generatePracticeQuestions(_0xa5fdf8){const _0x58cd96=_0x36ca11,_0x1f5497='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22'+_0xa5fdf8+_0x58cd96(0x8ce)+simpleMathPrompt+_0x58cd96(0x721),_0x590913={'type':_0x58cd96(0xae2),'properties':{'questionText':{'type':_0x58cd96(0x1dc)},'options':{'type':_0x58cd96(0xacd),'items':{'type':_0x58cd96(0x1dc)}},'correctAnswerIndex':{'type':_0x58cd96(0xa61)},'explanation':{'type':'STRING'}},'required':['questionText',_0x58cd96(0x72e),'correctAnswerIndex',_0x58cd96(0xbc9)]},_0x11e2fe={'type':_0x58cd96(0xae2),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x58cd96(0xacd),'items':_0x590913}},'required':[_0x58cd96(0x714),_0x58cd96(0x4f1)]};return await callAnalysisApi(_0x1f5497,_0x11e2fe);}function displayLessonPlan(_0x4fc716,_0x4bfcfa){const _0x5f56bd=_0x36ca11,_0x442259=_0x5f56bd(0x2e1)+_0x4bfcfa[_0x5f56bd(0x714)]+_0x5f56bd(0xcc5)+_0x4fc716['learningGaps']['map'](_0x2aaba4=>_0x5f56bd(0xaf1)+_0x2aaba4+_0x5f56bd(0x780))[_0x5f56bd(0xa81)]('')+_0x5f56bd(0x379)+_0x4fc716[_0x5f56bd(0x94d)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x4fc716['practiceProblems'][_0x5f56bd(0xcf7)](_0x3bda74=>_0x5f56bd(0x7ed)+_0x3bda74[_0x5f56bd(0x359)]+_0x5f56bd(0x292)+_0x3bda74[_0x5f56bd(0x46a)]+'</p></div>')[_0x5f56bd(0xa81)]('')+_0x5f56bd(0x534);document['getElementById']('lesson-plan-title')[_0x5f56bd(0xb0c)]=_0x5f56bd(0x9e3)+_0x4bfcfa[_0x5f56bd(0x714)],document[_0x5f56bd(0xde0)](_0x5f56bd(0xbff))[_0x5f56bd(0x2bd)]=_0x442259,document[_0x5f56bd(0xde0)](_0x5f56bd(0x330))[_0x5f56bd(0x7cb)]['remove']('hidden');if(window[_0x5f56bd(0x9f7)])MathJax[_0x5f56bd(0x8aa)]();}function displaySkillPracticeDrill(_0x1cd967){const _0x2c4a51=_0x36ca11;let _0x30b361=0x0;const _0x394a15=_0x1cd967[_0x2c4a51(0x4f1)],_0x35de71=()=>{const _0x5e080f=_0x2c4a51,_0x3a3c93=_0x394a15[_0x30b361],_0x4a1474=_0x5e080f(0xab7)+(_0x30b361+0x1)+_0x5e080f(0xd99)+_0x394a15[_0x5e080f(0x9b1)]+_0x5e080f(0x917)+_0x3a3c93['questionText']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3a3c93[_0x5e080f(0x72e)][_0x5e080f(0xcf7)]((_0x313d6f,_0x55d3fc)=>_0x5e080f(0x957)+_0x55d3fc+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x55d3fc+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x55d3fc+'\x22>'+_0x313d6f+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x5e080f(0xa81)]('')+_0x5e080f(0xac1);studentQuizArea['innerHTML']=_0x4a1474;if(window['MathJax'])MathJax['typesetPromise']([studentQuizArea]);document[_0x5e080f(0xde0)](_0x5e080f(0xcbc))['addEventListener'](_0x5e080f(0x4fc),async()=>{const _0x318f8e=_0x5e080f,_0x4e37e6=await getHintForQuestion(_0x3a3c93[_0x318f8e(0xc60)]);showMessage(_0x4e37e6);}),document[_0x5e080f(0xde0)]('check-answer-btn')[_0x5e080f(0x999)](_0x5e080f(0x4fc),()=>{const _0x4ea9ea=_0x5e080f,_0x530d40=document[_0x4ea9ea(0xce2)](_0x4ea9ea(0x4df));if(!_0x530d40){showMessage(_0x4ea9ea(0x2c0));return;}const _0x527d00=document[_0x4ea9ea(0xde0)]('drill-feedback'),_0x3a30a1=parseInt(_0x530d40['value'])===_0x3a3c93[_0x4ea9ea(0x31b)];_0x3a30a1?(_0x527d00[_0x4ea9ea(0xc5f)]=_0x4ea9ea(0xc77),_0x527d00[_0x4ea9ea(0x2bd)]='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x3a3c93[_0x4ea9ea(0xbc9)]):(_0x527d00['className']=_0x4ea9ea(0xa34),_0x527d00[_0x4ea9ea(0x2bd)]=_0x4ea9ea(0x9e2)+_0x3a3c93[_0x4ea9ea(0xbc9)]);_0x527d00[_0x4ea9ea(0x7cb)][_0x4ea9ea(0x4cd)](_0x4ea9ea(0xaa0));if(window[_0x4ea9ea(0x9f7)])MathJax[_0x4ea9ea(0x8aa)]([_0x527d00]);document[_0x4ea9ea(0xde0)](_0x4ea9ea(0xa98))[_0x4ea9ea(0x7cb)]['add'](_0x4ea9ea(0xaa0)),document[_0x4ea9ea(0xde0)](_0x4ea9ea(0xcbc))[_0x4ea9ea(0x7cb)][_0x4ea9ea(0x23b)](_0x4ea9ea(0xaa0)),document['getElementById'](_0x4ea9ea(0x21a))['classList'][_0x4ea9ea(0x4cd)]('hidden');}),document[_0x5e080f(0xde0)](_0x5e080f(0x21a))['addEventListener']('click',()=>{const _0x4dc253=_0x5e080f;_0x30b361++,_0x30b361<_0x394a15[_0x4dc253(0x9b1)]?_0x35de71():(studentQuizArea[_0x4dc253(0x2bd)]=_0x4dc253(0xdd8),document['getElementById']('back-to-results-btn')[_0x4dc253(0x999)](_0x4dc253(0x4fc),()=>{const _0x19e154=_0x4dc253;studentQuizArea[_0x19e154(0x7cb)][_0x19e154(0x23b)]('hidden'),studentResultArea['classList'][_0x19e154(0x4cd)](_0x19e154(0xaa0));}));});};_0x35de71();}async function getHintForQuestion(_0x588f63){const _0x2c0e21=_0x36ca11,_0x3a7528=_0x2c0e21(0x5c0)+_0x588f63+'\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด',_0x541bd5={'type':_0x2c0e21(0xae2),'properties':{'hint':{'type':_0x2c0e21(0x1dc)}},'required':['hint']};try{const _0x1774f8=await callAnalysisApi(_0x3a7528,_0x541bd5);return _0x1774f8['hint'];}catch(_0x280389){return console[_0x2c0e21(0x3c3)](_0x2c0e21(0xd2a),_0x280389),_0x2c0e21(0xd72);}}async function extractTextFromPdf(_0x3b88ed){const _0x210fe1=_0x36ca11;pdfjsLib['GlobalWorkerOptions'][_0x210fe1(0xc4b)]=_0x210fe1(0xcc0);const _0x1ff3a5=await _0x3b88ed[_0x210fe1(0xa76)](),_0x3a1500=await pdfjsLib[_0x210fe1(0xcd7)](_0x1ff3a5)['promise'],_0x22525d=_0x3a1500[_0x210fe1(0x606)];let _0x564c4e='';for(let _0x303c41=0x1;_0x303c41<=_0x22525d;_0x303c41++){const _0x2cfb13=await _0x3a1500[_0x210fe1(0xa1a)](_0x303c41),_0x1a1748=await _0x2cfb13['getTextContent'](),_0x2ebeb5=_0x1a1748[_0x210fe1(0x37f)][_0x210fe1(0xcf7)](_0x5a969f=>_0x5a969f[_0x210fe1(0xafe)])[_0x210fe1(0xa81)]('\x20');_0x564c4e+=_0x2ebeb5+'\x0a\x0a';}return _0x564c4e;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x4d0377){const _0x4d4584=_0x36ca11,_0x1d12d3=document[_0x4d4584(0xde0)](_0x4d4584(0x89c)),_0x588947=document[_0x4d4584(0xde0)](_0x4d4584(0x601)),_0x5d4cf4=document[_0x4d4584(0xde0)](_0x4d4584(0x920));_0x1d12d3[_0x4d4584(0x7cb)][_0x4d4584(0x4cd)](_0x4d4584(0xaa0)),_0x588947[_0x4d4584(0x2bd)]=_0x4d4584(0x24f),_0x5d4cf4['classList'][_0x4d4584(0x23b)]('hidden');try{const _0x7b8b15=_0x4d4584(0xa58)+_0x4d0377+_0x4d4584(0xc4d),_0x58f233={'type':_0x4d4584(0xae2),'properties':{'gradeLevel':{'type':_0x4d4584(0x1dc)},'curriculum':{'type':_0x4d4584(0xacd),'items':{'type':_0x4d4584(0xae2),'properties':{'sara':{'type':_0x4d4584(0x1dc)},'mainTopics':{'type':'ARRAY','items':{'type':_0x4d4584(0xae2),'properties':{'topicName':{'type':_0x4d4584(0x1dc)},'subTopics':{'type':_0x4d4584(0xacd),'items':{'type':_0x4d4584(0x1dc)}}},'required':[_0x4d4584(0xcaf),_0x4d4584(0x391)]}}},'required':[_0x4d4584(0x35d),_0x4d4584(0x928)]}}},'required':[_0x4d4584(0x686),_0x4d4584(0x3b9)]},_0x575db5=await callAnalysisApi(_0x7b8b15,_0x58f233);if(_0x575db5&&_0x575db5[_0x4d4584(0x3b9)])extractedBlueprintData=_0x575db5,renderBlueprintTopics(_0x575db5),_0x5d4cf4['classList'][_0x4d4584(0x4cd)]('hidden');else throw new Error('AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้');}catch(_0x5602a4){console[_0x4d4584(0x3c3)](_0x4d4584(0xad0),_0x5602a4),_0x588947[_0x4d4584(0x2bd)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>';}}function renderBlueprintTopics(_0x8fb13c){const _0x1bcdb8=_0x36ca11,_0x29067c=document[_0x1bcdb8(0xde0)](_0x1bcdb8(0x601)),_0x1cf647=_0x8fb13c[_0x1bcdb8(0x686)],_0x2c9bd1=_0x1bcdb8(0xc8b)+_0x1cf647+_0x1bcdb8(0x268);let _0x4aa743='';_0x8fb13c[_0x1bcdb8(0x3b9)][_0x1bcdb8(0x532)](_0x2cd856=>{const _0x16294f=_0x1bcdb8;_0x4aa743+=_0x16294f(0xbe5)+_0x2cd856[_0x16294f(0x35d)]+_0x16294f(0x934),_0x2cd856[_0x16294f(0x928)][_0x16294f(0x532)](_0x3b8d6f=>{const _0x4630e4=_0x16294f;_0x4aa743+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x3b8d6f[_0x4630e4(0xcaf)]+_0x4630e4(0xba1),_0x3b8d6f[_0x4630e4(0x391)][_0x4630e4(0x532)](_0xaa7e4d=>{const _0x119972=_0x4630e4;_0x4aa743+=_0x119972(0xbd2)+_0xaa7e4d[_0x119972(0x918)](/'/g,'\x5c\x27')+_0x119972(0x56b)+_0x1cf647['replace'](/'/g,'\x5c\x27')+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20'+_0xaa7e4d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27'+_0xaa7e4d[_0x119972(0x918)](/'/g,'\x5c\x27')+_0x119972(0x27e);}),_0x4aa743+=_0x4630e4(0x7ad);}),_0x4aa743+=_0x16294f(0xb49);}),_0x29067c[_0x1bcdb8(0x2bd)]=_0x2c9bd1+_0x4aa743;}async function handleGenerateTeachingContent(_0x5a64a7){const _0xd835ce=_0x36ca11,_0x1707a3=document[_0xd835ce(0xde0)](_0xd835ce(0x330)),_0x5cdbb1=document['getElementById'](_0xd835ce(0xbff));document['getElementById'](_0xd835ce(0x70e))['textContent']='กำลังสร้างเนื้อหา:\x20'+_0x5a64a7,_0x5cdbb1[_0xd835ce(0x2bd)]=_0xd835ce(0xc9c),_0x1707a3[_0xd835ce(0x7cb)][_0xd835ce(0x4cd)]('hidden');try{const _0xee8043='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22'+_0x5a64a7+_0xd835ce(0xa14),_0x3f2bab={'type':_0xd835ce(0xae2),'properties':{'keyConcepts':{'type':_0xd835ce(0xacd),'items':{'type':'STRING'}},'commonMistakes':{'type':'ARRAY','items':{'type':_0xd835ce(0x1dc)}},'stepByStepExamples':{'type':'ARRAY','items':{'type':_0xd835ce(0xae2),'properties':{'question':{'type':_0xd835ce(0x1dc)},'solution':{'type':_0xd835ce(0x1dc)}},'required':[_0xd835ce(0x359),_0xd835ce(0x46a)]}},'teacherTips':{'type':'ARRAY','items':{'type':'STRING'}}},'required':[_0xd835ce(0x367),'commonMistakes',_0xd835ce(0x318),'teacherTips']},_0x28b46f=await callAnalysisApi(_0xee8043,_0x3f2bab);displayTeachingContent(_0x28b46f,_0x5a64a7);}catch(_0x46f213){console['error']('Error\x20generating\x20teaching\x20content:',_0x46f213),_0x5cdbb1[_0xd835ce(0x2bd)]='<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20'+_0x46f213[_0xd835ce(0x805)]+_0xd835ce(0x472);}}function displayTeachingContent(_0x13ba1d,_0x305f6c){const _0x95ed2a=_0x36ca11,_0x171079=document['getElementById'](_0x95ed2a(0xbff));document[_0x95ed2a(0xde0)]('lesson-plan-title')[_0x95ed2a(0xb0c)]='เนื้อหาสำหรับสอน:\x20'+_0x305f6c;const _0x189910='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x13ba1d[_0x95ed2a(0x367)][_0x95ed2a(0xcf7)](_0x311245=>_0x95ed2a(0xaf1)+_0x311245+_0x95ed2a(0x780))['join']('')+_0x95ed2a(0xc62)+_0x13ba1d['commonMistakes']['map'](_0x320d07=>'<li>'+_0x320d07+'</li>')[_0x95ed2a(0xa81)]('')+_0x95ed2a(0x6be)+_0x13ba1d[_0x95ed2a(0x318)][_0x95ed2a(0xcf7)](_0xc54564=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0xc54564[_0x95ed2a(0x359)]+_0x95ed2a(0x3bd)+_0xc54564['solution']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x95ed2a(0xa81)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x13ba1d['teacherTips'][_0x95ed2a(0xcf7)](_0x2d3f15=>_0x95ed2a(0xaf1)+_0x2d3f15+_0x95ed2a(0x780))['join']('')+_0x95ed2a(0x43a);_0x171079[_0x95ed2a(0x2bd)]=_0x189910;if(window['MathJax'])MathJax['typesetPromise']([_0x171079]);}async function generateQuizForSingleTopic(_0x14a882){const _0x3dc37c=_0x36ca11;console[_0x3dc37c(0x966)](_0x3dc37c(0x582)+_0x14a882+'\x22');const _0x1bc0fe=document[_0x3dc37c(0xde0)](_0x3dc37c(0x610)),_0x422910=_0x1bc0fe['files'][_0x3dc37c(0x9b1)]>0x0?_0x1bc0fe[_0x3dc37c(0x6bc)][0x0]:null;let _0x23970e=null;if(_0x422910)try{const _0x4cb373=new FileReader();_0x4cb373[_0x3dc37c(0x4fd)](_0x422910);const _0x5b567a=await new Promise((_0xf48813,_0x226665)=>{const _0xe0406b=_0x3dc37c;_0x4cb373[_0xe0406b(0x7b4)]=()=>_0xf48813(_0x4cb373[_0xe0406b(0x9fc)][_0xe0406b(0x26b)](',')[0x1]),_0x4cb373['onerror']=_0x3b6dd3=>_0x226665(_0x3b6dd3);});_0x23970e=[{'inlineData':{'mimeType':_0x422910['type'],'data':_0x5b567a}}];}catch(_0x2e962e){console[_0x3dc37c(0x3c3)](_0x3dc37c(0xad3),_0x2e962e),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง');return;}generateQuiz(_0x14a882,null,null,_0x23970e,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x2661d5=null){const _0x4fdc09=_0x36ca11,_0xba2fdb=document['getElementById'](_0x4fdc09(0x58c)),_0x214b51=document['getElementById'](_0x4fdc09(0x36c));let _0x21594a,_0x584dcc=[];if(_0x2661d5)_0x21594a=_0x2661d5,_0x584dcc=_0x21594a[_0x4fdc09(0x5dc)](0x2);else{const _0x2afb02=document[_0x4fdc09(0xde0)](_0x4fdc09(0x61a)),_0x12df61=document[_0x4fdc09(0xde0)](_0x4fdc09(0x610)),_0x186444=_0x2afb02[_0x4fdc09(0x6bc)][0x0];if(!_0x186444){showMessage(_0x4fdc09(0x964));return;}_0x214b51[_0x4fdc09(0xb0c)]=_0x4fdc09(0x560);const _0x233f62=await new Promise((_0x32f13b,_0x4dd37b)=>{const _0x11e421=_0x4fdc09,_0x2a9a09=new FileReader();_0x2a9a09[_0x11e421(0x4fd)](_0x186444),_0x2a9a09[_0x11e421(0x7b4)]=()=>_0x32f13b(_0x2a9a09[_0x11e421(0x9fc)]['split'](',')[0x1]),_0x2a9a09[_0x11e421(0x584)]=_0x4dd37b;});_0x21594a=[{'text':_0x4fdc09(0x664)},{'inlineData':{'mimeType':_0x186444[_0x4fdc09(0x2cb)],'data':_0x233f62}}];if(_0x12df61[_0x4fdc09(0x6bc)][_0x4fdc09(0x9b1)]>0x0){const _0x4bd353=_0x12df61['files'][0x0];_0x214b51[_0x4fdc09(0xb0c)]='กำลังเตรียมไฟล์อ้างอิง...';const _0x4abb5f=await new Promise((_0x4e4d46,_0x1a404c)=>{const _0xf3aa52=_0x4fdc09,_0x5860d4=new FileReader();_0x5860d4[_0xf3aa52(0x4fd)](_0x4bd353),_0x5860d4[_0xf3aa52(0x7b4)]=()=>_0x4e4d46(_0x5860d4[_0xf3aa52(0x9fc)][_0xf3aa52(0x26b)](',')[0x1]),_0x5860d4[_0xf3aa52(0x584)]=_0x1a404c;}),_0xce7dad={'inlineData':{'mimeType':_0x4bd353['type'],'data':_0x4abb5f}};_0x21594a[_0x4fdc09(0xc15)](_0xce7dad),_0x584dcc[_0x4fdc09(0xc15)](_0xce7dad);}}const _0x33151a='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a',_0x42e4d7='\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20';let _0xc24bf8='';_0x584dcc&&_0x584dcc['length']>0x0?_0xc24bf8=_0x33151a:_0xc24bf8=_0x42e4d7;const _0x4990d8=_0x4fdc09(0x4e5)+_0xc24bf8+_0x4fdc09(0xd0b),_0xf7ca35={'type':_0x4fdc09(0xae2),'properties':{'questionText':{'type':_0x4fdc09(0x1dc)},'questionType':{'type':'STRING','enum':[_0x4fdc09(0x209),_0x4fdc09(0x44a),_0x4fdc09(0x84a),'matching_item']},'options':{'type':_0x4fdc09(0xacd),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x4fdc09(0xa61)},'idealAnswer':{'type':_0x4fdc09(0x1dc)},'correctAnswer':{'type':_0x4fdc09(0x8e1)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4fdc09(0x1dc)}},'required':[_0x4fdc09(0x55e),_0x4fdc09(0xbc9)]},_0x5e5a4b={'type':_0x4fdc09(0xae2),'properties':{'topic':{'type':_0x4fdc09(0x1dc)},'questions':{'type':_0x4fdc09(0xacd),'items':_0xf7ca35}},'required':[_0x4fdc09(0x714),_0x4fdc09(0x4f1)]};_0x21594a[0x0][_0x4fdc09(0x8c0)]=_0x4990d8,await handleApiCall(_0x21594a,_0x4fdc09(0x92a),_0x5e5a4b);}function proceedToNextQuestion(_0x39c3a5){const _0xe11748=_0x36ca11;studentAnswersPerQuestion[_0xe11748(0xc15)](_0x39c3a5),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0xe11748(0x4f1)][_0xe11748(0x9b1)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x87f116,_0x1efe19,_0x5cbe62){const _0x27cf89=_0x36ca11,_0x30191e=Object[_0x27cf89(0x976)](_0x87f116[_0x27cf89(0x9a3)]||{}),_0x41dbc3=_0x30191e[_0x27cf89(0x9b1)],_0x4aab8d=[..._0x30191e][_0x27cf89(0x68d)]((_0x19b16c,_0x27643a)=>_0x27643a[_0x27cf89(0x2ad)]-_0x19b16c[_0x27cf89(0x2ad)]),_0x55346e=_0x5cbe62,_0x1aef40=_0x87f116[_0x27cf89(0x5cd)]||_0x27cf89(0x491),_0x489380=_0x1aef40==='anonymous'&&_0x87f116[_0x27cf89(0x8dc)]===![];let _0x156481='';const _0x4832f1=_0x87f116[_0x27cf89(0xd6c)]['questions'],_0x1ad47d=_0x4832f1[_0x55346e],_0x1ef18e=_0x3f83dd=>String[_0x27cf89(0x604)](0x41+_0x3f83dd);if(_0x1ad47d&&!_0x489380){let _0x1d90c9='',_0x2ae409='';const _0x5563c8=_0x1ad47d[_0x27cf89(0x55e)]||_0x87f116[_0x27cf89(0xd6c)][_0x27cf89(0xcfa)];if(_0x5563c8===_0x27cf89(0x209)&&_0x1ad47d['options']&&_0x1ad47d[_0x27cf89(0x31b)]!==undefined){const _0x4c5fa8=_0x1ad47d[_0x27cf89(0x31b)];_0x1d90c9=_0x1ad47d[_0x27cf89(0x72e)][_0x4c5fa8],_0x2ae409=_0x1ef18e(_0x4c5fa8)+'.';}else{if(_0x5563c8===_0x27cf89(0x84a)){const _0xe4f547=_0x1ad47d[_0x27cf89(0x5ec)]===!![]||String(_0x1ad47d[_0x27cf89(0x5ec)])[_0x27cf89(0x442)]()===_0x27cf89(0x3f6);_0xe4f547?(_0x1d90c9=_0x27cf89(0x68e),_0x2ae409='ก.'):(_0x1d90c9=_0x27cf89(0x42a),_0x2ae409='ข.');}else{if(_0x5563c8===_0x27cf89(0x2c9))_0x1d90c9=_0x1ad47d['correctResponse']||'-',_0x2ae409='';else _0x5563c8===_0x27cf89(0x44a)&&(_0x1d90c9=_0x1ad47d[_0x27cf89(0x763)]||'-',_0x2ae409='');}}_0x1d90c9&&(_0x156481=_0x27cf89(0x5ce)+(_0x55346e+0x1)+_0x27cf89(0x5d2)+_0x2ae409+'\x20'+_0x1d90c9+_0x27cf89(0x2dc));}const _0x73f135=_0x4aab8d[_0x27cf89(0xcf7)](_0x18cbcc=>{const _0x37630e=_0x27cf89;let _0x40fa37=_0x18cbcc[_0x37630e(0x2ad)];if(_0x1aef40===_0x37630e(0x8fa)){const _0x54fad7=(_0x18cbcc[_0x37630e(0xc95)]||[])[_0x37630e(0x273)](_0x4e39cb=>_0x4e39cb['questionIndex']<=_0x55346e);_0x40fa37=_0x54fad7['filter'](_0x5a6238=>_0x5a6238[_0x37630e(0x831)])[_0x37630e(0x9b1)];}const _0x724bd3=(_0x18cbcc[_0x37630e(0xc95)]||[])[_0x37630e(0x349)](_0x19ddf8=>_0x19ddf8[_0x37630e(0xbda)]===_0x55346e),_0xa90d72=_0x724bd3?_0x724bd3[_0x37630e(0x831)]:![],_0x3cc114=_0x724bd3?_0x724bd3['wasConfident']===!![]||_0x724bd3[_0x37630e(0x50c)]==='confident':![];let _0x1ec156='';if(_0x3cc114&&_0xa90d72)_0x1ec156=_0x37630e(0x4af);else{if(_0x3cc114&&!_0xa90d72)_0x1ec156=_0x37630e(0x7c1);else!_0x3cc114&&_0xa90d72?_0x1ec156=_0x37630e(0xca5):_0x1ec156=_0x37630e(0xc99);}const _0x5c8a33=_0x489380?_0x87f116['playerNicknames'][_0x18cbcc[_0x37630e(0xa69)]]||_0x37630e(0x3ab):_0x18cbcc[_0x37630e(0xa69)];return _0x37630e(0x719)+_0x1ec156+'\x22><span>'+_0x5c8a33+_0x37630e(0x93e)+_0x40fa37+_0x37630e(0xcf3);})['join'](''),_0x55e01d=_0x4832f1[_0x27cf89(0xcf7)]((_0x1769a8,_0x4a217e)=>{const _0x4e38c7=_0x27cf89;if(_0x1aef40===_0x4e38c7(0x8fa)&&_0x4a217e>_0x55346e)return'';const _0x3b1582=_0x30191e[_0x4e38c7(0x273)](_0x3698df=>_0x3698df[_0x4e38c7(0xc95)]&&_0x3698df[_0x4e38c7(0xc95)]['find'](_0xbbad21=>_0xbbad21['questionIndex']===_0x4a217e&&_0xbbad21['isCorrect']))[_0x4e38c7(0x9b1)],_0x542c22=_0x4a217e===_0x55346e,_0x359374=_0x542c22?'p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg':_0x4e38c7(0xa66);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x359374+_0x4e38c7(0x496)+(_0x4a217e+0x1)+_0x4e38c7(0x476)+_0x3b1582+'\x20/\x20'+_0x41dbc3+_0x4e38c7(0x8df);})[_0x27cf89(0xa81)]('');let _0x38dded='',_0x17ada7='';if(_0x1efe19){const _0x1bb06d=_0x1aef40===_0x27cf89(0x491)&&_0x87f116[_0x27cf89(0xca1)]>=_0x4832f1[_0x27cf89(0x9b1)]-0x1,_0x433270=_0x1aef40===_0x27cf89(0x8fa)&&_0x87f116[_0x27cf89(0xcd1)]>=_0x4832f1[_0x27cf89(0x9b1)]-0x1,_0x4acd9c=_0x1aef40==='anonymous'&&_0x87f116[_0x27cf89(0xca1)]>=_0x4832f1['length']-0x1;_0x1bb06d||_0x433270||_0x4acd9c?_0x1aef40===_0x27cf89(0xae0)&&_0x87f116[_0x27cf89(0x8dc)]===![]?_0x38dded='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20แสดงชื่อจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x38dded=_0x27cf89(0x586):_0x38dded=_0x27cf89(0xa5f),_0x17ada7=_0x27cf89(0x504);}const _0x491827='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x0a\x20\x20\x20\x20<!--\x20▼▼▼\x20[2.\x20สร้าง\x20div\x20ใหม่ครอบ\x20และย้าย\x20PIN\x20มาไว้ตรงนี้]\x20▼▼▼\x20-->\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20'+_0x87f116[_0x27cf89(0xd6c)]['topic']+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>'+_0x87f116[_0x27cf89(0xc52)]+_0x27cf89(0x352)+_0x17ada7+_0x27cf89(0x9d2)+_0x156481+_0x27cf89(0x4a5)+(_0x73f135||_0x27cf89(0x6ab))+_0x27cf89(0xba9)+_0x55e01d+_0x27cf89(0x8a2)+(_0x1efe19?_0x27cf89(0xa4c)+_0x38dded+_0x27cf89(0xb49):'')+_0x27cf89(0x4bb);liveGameView[_0x27cf89(0x2bd)]=_0x491827;if(window[_0x27cf89(0x9f7)]){const _0x1f0c0c=document[_0x27cf89(0xde0)](_0x27cf89(0x684));_0x1f0c0c&&MathJax[_0x27cf89(0x8aa)]([_0x1f0c0c]);}if(_0x1efe19){document[_0x27cf89(0xde0)](_0x27cf89(0xcdd))[_0x27cf89(0xa67)]=async()=>{const _0x6af484=_0x27cf89,_0x4de76e=doc(db,_0x6af484(0xdd2)+appId+_0x6af484(0xb3a),currentLiveGameId),_0x17491a=_0x1aef40==='classic'&&_0x87f116['currentQuestionIndex']>=_0x4832f1[_0x6af484(0x9b1)]-0x1,_0x21ead2=_0x1aef40===_0x6af484(0x8fa)&&_0x87f116['reviewQuestionIndex']>=_0x4832f1[_0x6af484(0x9b1)]-0x1,_0x26ab38=_0x1aef40===_0x6af484(0xae0)&&_0x87f116[_0x6af484(0xca1)]>=_0x4832f1[_0x6af484(0x9b1)]-0x1;if(_0x1aef40==='reveal_at_end')!_0x21ead2?await updateDoc(_0x4de76e,{'reviewQuestionIndex':increment(0x1)}):await updateDoc(_0x4de76e,{'status':_0x6af484(0x54b)});else{if(!_0x17491a&&!_0x26ab38){const _0x11659b=_0x87f116[_0x6af484(0xca1)]+0x1,_0x5e5c81={};Object['keys'](_0x87f116[_0x6af484(0x9a3)])[_0x6af484(0x532)](_0xd55f6a=>{const _0xce2234=_0x6af484;_0x5e5c81[_0xce2234(0x250)+_0xd55f6a+_0xce2234(0x339)]=![],_0x5e5c81[_0xce2234(0x250)+_0xd55f6a+_0xce2234(0xba4)]=null;}),await updateDoc(_0x4de76e,{..._0x5e5c81,'status':_0x6af484(0x359),'currentQuestionIndex':_0x11659b,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x4de76e,{'status':_0x6af484(0x54b)});}},document[_0x27cf89(0xde0)](_0x27cf89(0x8e2))?.['addEventListener']('click',async()=>{const _0x183123=_0x27cf89,_0x3e2acb=doc(db,_0x183123(0xdd2)+appId+_0x183123(0xb3a),currentLiveGameId);await updateDoc(_0x3e2acb,{'isAnonymousRevealed':!![]});});const _0x3d8b9c=document[_0x27cf89(0xde0)]('end-sync-game-btn');_0x3d8b9c&&(_0x3d8b9c['onclick']=()=>{const _0x440f61=_0x27cf89;showConfirmation(_0x440f61(0xabf),async()=>{const _0x20e9e1=_0x440f61,_0x37607b=doc(db,_0x20e9e1(0xdd2)+appId+_0x20e9e1(0xb3a),currentLiveGameId);await updateDoc(_0x37607b,{'status':_0x20e9e1(0x54b)});});});}}async function handleGenerateParallelFromBank(_0xbf21a9){const _0x16f4ef=_0x36ca11,_0x5b2d2e=document[_0x16f4ef(0xde0)](_0x16f4ef(0x8cd)),_0x266782=document[_0x16f4ef(0xde0)]('project-quizzes-list');_0x266782[_0x16f4ef(0x7cb)][_0x16f4ef(0x23b)](_0x16f4ef(0xaa0));const _0x1cc874=_0x16f4ef(0x401)+_0xbf21a9[_0x16f4ef(0x714)]+_0x16f4ef(0x3fe);_0x5b2d2e[_0x16f4ef(0x22a)](_0x16f4ef(0x5fa),_0x1cc874);const _0x4a29ad=document['getElementById'](_0x16f4ef(0xb4a));try{const _0x2e5af2=_0xbf21a9[_0x16f4ef(0x4f1)][_0x16f4ef(0xcf7)]((_0x2eac81,_0x4c6f98)=>{const _0x30c32f=_0x16f4ef;let _0x5a8066=_0x4c6f98+0x1+'.\x20'+(_0x2eac81[_0x30c32f(0xc60)]||_0x2eac81[_0x30c32f(0x1f4)])+'\x0a';if(_0x2eac81[_0x30c32f(0x72e)])_0x5a8066+=_0x2eac81[_0x30c32f(0x72e)][_0x30c32f(0xcf7)]((_0x5f4a0b,_0x460b58)=>_0x30c32f(0xc43)+(_0x460b58===_0x2eac81[_0x30c32f(0x31b)]?_0x30c32f(0x933):'')+'\x20'+_0x5f4a0b)[_0x30c32f(0xa81)]('\x0a');else _0x2eac81['idealAnswer']&&(_0x5a8066+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x2eac81[_0x30c32f(0x763)]);return _0x5a8066;})['join']('\x0a\x0a');_0x4a29ad[_0x16f4ef(0xb0c)]=_0x16f4ef(0x783);const _0x3b7153=_0x16f4ef(0xbf1)+_0xbf21a9[_0x16f4ef(0x714)]+_0x16f4ef(0x506)+_0x2e5af2+_0x16f4ef(0x9af)+simpleMathPrompt+_0x16f4ef(0x4c6),_0x198853={'type':_0x16f4ef(0xae2),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x16f4ef(0x1dc),'enum':[_0x16f4ef(0x209),_0x16f4ef(0x44a),_0x16f4ef(0x84a),_0x16f4ef(0x2c9)]},'options':{'type':_0x16f4ef(0xacd),'items':{'type':_0x16f4ef(0x1dc)}},'correctAnswerIndex':{'type':_0x16f4ef(0xa61)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x16f4ef(0x1dc)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x16f4ef(0xacd),'items':{'type':_0x16f4ef(0x1dc)}},'explanation':{'type':_0x16f4ef(0x1dc)},'imageCode':{'type':_0x16f4ef(0x1dc)}},'required':[_0x16f4ef(0x55e),'explanation']},_0x402baf={'type':_0x16f4ef(0xae2),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x198853}},'required':[_0x16f4ef(0x714),_0x16f4ef(0x4f1)]},_0x1ed347=await callAnalysisApi(_0x3b7153,_0x402baf),_0x36f2f2=_0x1ed347[_0x16f4ef(0x4f1)][_0x16f4ef(0xcf7)]((_0x17ae8d,_0x18ece9)=>({..._0x17ae8d,'id':'q_'+Date[_0x16f4ef(0x51b)]()+'_'+_0x18ece9})),_0x281c8e=_0x16f4ef(0xa3d)+_0xbf21a9[_0x16f4ef(0x714)],_0x4bdd74={'topic':_0x281c8e,'questions':_0x36f2f2,'quizType':_0xbf21a9['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x16f4ef(0x8b8)](),'status':_0x16f4ef(0x742),'settings':_0xbf21a9[_0x16f4ef(0x695)],'quizMode':_0x16f4ef(0x7df),'pairedQuizId':null,'lessonPlan':null};let _0x28c36e;while(!![]){_0x28c36e=Math[_0x16f4ef(0x8fb)](0x3e8+Math[_0x16f4ef(0xdd3)]()*0x2328)['toString']();const _0x13f3e0=await getDoc(doc(db,_0x16f4ef(0xdd2)+appId+'/public/data/quizzes',_0x28c36e));if(!_0x13f3e0[_0x16f4ef(0xa40)]())break;}await setDoc(doc(db,_0x16f4ef(0xdd2)+appId+_0x16f4ef(0x365),_0x28c36e),_0x4bdd74),showMessage(_0x16f4ef(0xbd4));}catch(_0x159d7e){console[_0x16f4ef(0x3c3)](_0x16f4ef(0x5c8),_0x159d7e),showMessage(_0x16f4ef(0x37d)+_0x159d7e[_0x16f4ef(0x805)]);}finally{const _0x17bdeb=document[_0x16f4ef(0xde0)](_0x16f4ef(0x69d));_0x17bdeb&&_0x17bdeb['remove'](),_0x266782[_0x16f4ef(0x7cb)][_0x16f4ef(0x4cd)](_0x16f4ef(0xaa0));}}async function handleGenerateParallelPostTest(_0x25406c){const _0x238177=_0x36ca11,_0x5dd317=document[_0x238177(0xde0)](_0x238177(0x8cd)),_0x120c2e=document[_0x238177(0xde0)](_0x238177(0xd64));_0x120c2e[_0x238177(0x7cb)]['add'](_0x238177(0xaa0));const _0x23502a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x5dd317[_0x238177(0x22a)](_0x238177(0x5fa),_0x23502a);try{const _0x5ac4c1=_0x25406c['questions'][_0x238177(0xcf7)]((_0x4e3159,_0x2c56db)=>{const _0x5cae90=_0x238177;let _0x21bd4b=_0x2c56db+0x1+'.\x20'+(_0x4e3159['questionText']||_0x4e3159['stem']);if(_0x4e3159[_0x5cae90(0x72e)])_0x21bd4b+=_0x5cae90(0xc83)+_0x4e3159[_0x5cae90(0x72e)][_0x5cae90(0xa81)](',\x20');return _0x21bd4b;})[_0x238177(0xa81)]('\x0a\x0a'),_0x3aaf11=_0x238177(0x30a)+_0x25406c[_0x238177(0x714)]+_0x238177(0x69f)+_0x5ac4c1+_0x238177(0x8cb)+simpleMathPrompt+_0x238177(0x4c6),_0x61a277={'type':_0x238177(0xae2),'properties':{'topic':{'type':_0x238177(0x1dc)},'questions':{'type':'ARRAY','items':{'type':_0x238177(0xae2),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x238177(0x1dc)},'options':{'type':_0x238177(0xacd),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x238177(0xa61)},'idealAnswer':{'type':_0x238177(0x1dc)},'explanation':{'type':_0x238177(0x1dc)}},'required':[_0x238177(0xc60),'explanation']}}},'required':[_0x238177(0x714),_0x238177(0x4f1)]},_0x4949ed=await callAnalysisApi(_0x3aaf11,_0x61a277),_0x47dfeb=_0x25406c[_0x238177(0x714)]['replace'](_0x238177(0x33d),'')[_0x238177(0x3ac)](),_0x439553=_0x238177(0xde9)+_0x47dfeb,_0x444231={..._0x4949ed,'topic':_0x439553,'quizType':_0x25406c[_0x238177(0xcfa)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x238177(0x8b8)](),'status':_0x238177(0x742),'settings':_0x25406c['settings'],'quizMode':_0x238177(0xa62),'pairedQuizId':_0x25406c['id']};let _0x301971;while(!![]){_0x301971=Math[_0x238177(0x8fb)](0x3e8+Math['random']()*0x2328)[_0x238177(0x460)]();const _0x31bacd=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x301971));if(!_0x31bacd[_0x238177(0xa40)]())break;}await setDoc(doc(db,_0x238177(0xdd2)+appId+_0x238177(0x365),_0x301971),_0x444231);const _0x1b6bac=doc(db,_0x238177(0xdd2)+appId+_0x238177(0x365),_0x25406c['id']);await updateDoc(_0x1b6bac,{'pairedQuizId':_0x301971}),showMessage(_0x238177(0x2c2));}catch(_0x8d319b){console[_0x238177(0x3c3)](_0x238177(0x776),_0x8d319b),showMessage(_0x238177(0x37d)+_0x8d319b[_0x238177(0x805)]);}finally{const _0xd0a893=document[_0x238177(0xde0)]('temp-loader-results');if(_0xd0a893)_0xd0a893[_0x238177(0x4cd)]();_0x120c2e[_0x238177(0x7cb)][_0x238177(0x4cd)](_0x238177(0xaa0));}}async function handleGenerateParallelTest(_0x56a5bc=null){const _0x39a5da=_0x36ca11;let _0x321ebe=_0x56a5bc;if(!_0x321ebe){const _0x22e428=document[_0x39a5da(0xde0)](_0x39a5da(0x25a));_0x22e428[_0x39a5da(0x6bc)][_0x39a5da(0x9b1)]>0x0&&(_0x321ebe=_0x22e428[_0x39a5da(0x6bc)][0x0]);}if(!_0x321ebe){showMessage(_0x39a5da(0xdbd));return;}const _0x113bf5=document['getElementById'](_0x39a5da(0x58c)),_0xeb2aea=document[_0x39a5da(0xde0)]('loader-text'),_0x439b80=document[_0x39a5da(0xde0)]('generated-quiz-container'),_0x320966=document[_0x39a5da(0xde0)](_0x39a5da(0xb28));_0x320966[_0x39a5da(0xc4f)]=!![],document[_0x39a5da(0xde0)](_0x39a5da(0xcda))[_0x39a5da(0x7cb)]['remove'](_0x39a5da(0xaa0)),_0x439b80[_0x39a5da(0x2bd)]='',_0x113bf5[_0x39a5da(0x7cb)][_0x39a5da(0x4cd)](_0x39a5da(0xaa0)),_0xeb2aea[_0x39a5da(0xb0c)]=_0x39a5da(0x5b8);const _0x5a7f6b=new FileReader();_0x5a7f6b[_0x39a5da(0x4fd)](_0x321ebe),_0x5a7f6b['onload']=async()=>{const _0x283ad3=_0x39a5da;try{const _0x25533a=_0x5a7f6b[_0x283ad3(0x9fc)]['split'](',')[0x1],_0x131ca7=_0x321ebe[_0x283ad3(0x2cb)];_0xeb2aea['textContent']=_0x283ad3(0x6bf);const _0x1d91ee=document[_0x283ad3(0xde0)](_0x283ad3(0x3fc))[_0x283ad3(0x39b)],_0x23c6fb=_0x1d91ee?_0x283ad3(0x2a8):'',_0x26081d=_0x283ad3(0x657),_0x4c2885={'type':_0x283ad3(0xae2),'properties':{'questionText':{'type':_0x283ad3(0x1dc)},'questionType':{'type':'STRING','enum':[_0x283ad3(0x209),'short_answer']},'options':{'type':'ARRAY','items':{'type':_0x283ad3(0x1dc)}},'correctAnswerIndex':{'type':_0x283ad3(0xa61)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x283ad3(0x1dc)},'imageCode':{'type':_0x283ad3(0x1dc)}},'required':[_0x283ad3(0xc60),'questionType',_0x283ad3(0xbc9)]},_0x2b772d={'type':_0x283ad3(0xae2),'properties':{'topic':{'type':_0x283ad3(0x1dc)},'questions':{'type':'ARRAY','items':_0x4c2885}},'required':[_0x283ad3(0x714),'questions']},_0x5b4c58=[{'text':_0x26081d},{'inlineData':{'mimeType':_0x131ca7,'data':_0x25533a}}];await handleApiCall(_0x5b4c58,'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...',_0x2b772d);}catch(_0x295192){console[_0x283ad3(0x3c3)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x295192),showMessage(_0x283ad3(0x37d)+_0x295192[_0x283ad3(0x805)]),_0x439b80[_0x283ad3(0x2bd)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x113bf5[_0x283ad3(0x7cb)][_0x283ad3(0x23b)](_0x283ad3(0xaa0)),_0x320966['disabled']=![];}},_0x5a7f6b['onerror']=_0xf317af=>{const _0x2a8805=_0x39a5da;console['error']('FileReader\x20error:',_0xf317af),showMessage(_0x2a8805(0xce8)),_0x113bf5[_0x2a8805(0x7cb)][_0x2a8805(0x23b)](_0x2a8805(0xaa0)),_0x320966['disabled']=![];};}async function handleRegenerateQuestionInEditor(_0x39051c){const _0x29b25b=_0x36ca11;if(currentEditingQuizData===null)return;const _0x393487=document[_0x29b25b(0xce2)](_0x29b25b(0x467)+_0x39051c+'\x22]');_0x393487&&(_0x393487['innerHTML']='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x1218bc=currentEditingQuizData[_0x29b25b(0x4f1)][_0x39051c],_0x25847a=currentEditingQuizData[_0x29b25b(0x714)],_0x43814a=_0x1218bc['questionType'],_0x267f5d={'type':_0x29b25b(0xae2),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x29b25b(0xacd),'items':{'type':_0x29b25b(0x1dc)}},'correctAnswerIndex':{'type':_0x29b25b(0xa61)},'explanation':{'type':'STRING'}},'required':[_0x29b25b(0xc60),_0x29b25b(0x72e),_0x29b25b(0x31b),_0x29b25b(0xbc9)]},_0x288981={'type':'OBJECT','properties':{'questionText':{'type':_0x29b25b(0x1dc)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x29b25b(0x1dc)}},'required':[_0x29b25b(0xc60),'idealAnswer',_0x29b25b(0xbc9)]};let _0x152529,_0x180c53='';_0x43814a==='multiple_choice'?(_0x152529=_0x267f5d,_0x180c53='แบบปรนัย\x204\x20ตัวเลือก'):(_0x152529=_0x288981,_0x180c53=_0x29b25b(0x674));const _0xae1f03=_0x29b25b(0x748)+_0x25847a+_0x29b25b(0x785)+_0x180c53+_0x29b25b(0xdb2)+(_0x1218bc[_0x29b25b(0xc60)]||_0x1218bc[_0x29b25b(0x1f4)])+_0x29b25b(0xbfe)+simpleMathPrompt;try{const _0x70369=await callAnalysisApi(_0xae1f03,_0x152529);currentEditingQuizData[_0x29b25b(0x4f1)][_0x39051c]={..._0x1218bc,..._0x70369},renderQuizEditor(currentEditingQuizData);}catch(_0x48296c){console[_0x29b25b(0x3c3)](_0x29b25b(0x89f),_0x48296c),showMessage(_0x29b25b(0xcd4)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x5ec481=_0x36ca11,_0x4807ef=document[_0x5ec481(0xde0)]('mode-switcher-btn');currentMode==='student'?(currentMode='admin',_0x4807ef[_0x5ec481(0x2bd)]='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x4807ef[_0x5ec481(0x47e)]='สลับไปโหมดนักเรียน',showView(_0x5ec481(0x1e4))):(currentMode=_0x5ec481(0x965),_0x4807ef['innerHTML']='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x4807ef[_0x5ec481(0x47e)]=_0x5ec481(0x24e),showView(_0x5ec481(0x965)));}function handleAdminLogin(){const _0x266fe2=_0x36ca11,_0x12edba=document[_0x266fe2(0xde0)](_0x266fe2(0x640)),_0x1785ee=document[_0x266fe2(0xde0)](_0x266fe2(0x241));if(_0x12edba['value']===_0x266fe2(0x6f7)){adminPasswordModal['classList'][_0x266fe2(0x23b)](_0x266fe2(0xaa0)),_0x12edba[_0x266fe2(0xd73)]='',_0x1785ee[_0x266fe2(0x7cb)]['add'](_0x266fe2(0xaa0)),currentMode=_0x266fe2(0x67f);const _0x574646=document[_0x266fe2(0xde0)](_0x266fe2(0x4be));_0x574646['innerHTML']=_0x266fe2(0x84c),_0x574646[_0x266fe2(0x47e)]=_0x266fe2(0xafc),showView(_0x266fe2(0x1e4));}else _0x1785ee[_0x266fe2(0x7cb)][_0x266fe2(0x4cd)](_0x266fe2(0xaa0)),_0x12edba[_0x266fe2(0xd73)]='';}function switchProjectTab(_0x59d6e9){const _0x1a890a=_0x36ca11;[_0x1a890a(0x215),_0x1a890a(0x57f),_0x1a890a(0x294)][_0x1a890a(0x532)](_0x22a75d=>{const _0x21fac2=_0x1a890a;document['getElementById'](_0x22a75d+_0x21fac2(0x224))[_0x21fac2(0x7cb)][_0x21fac2(0x4cd)](_0x21fac2(0x742)),document[_0x21fac2(0xde0)](_0x22a75d+_0x21fac2(0x922))['classList'][_0x21fac2(0x23b)](_0x21fac2(0xaa0));}),document[_0x1a890a(0xde0)](_0x59d6e9+_0x1a890a(0x224))[_0x1a890a(0x7cb)]['add'](_0x1a890a(0x742)),document[_0x1a890a(0xde0)](_0x59d6e9+_0x1a890a(0x922))['classList'][_0x1a890a(0x4cd)]('hidden');}function switchQuizDetailTab(_0x53cefe){const _0x5cc5df=_0x36ca11,_0x5b2431={'analytics':{'btn':_0x5cc5df(0x493),'content':_0x5cc5df(0xcea)},'scores':{'btn':_0x5cc5df(0x4b2),'content':'scores-tab-content'},'leaderboard-quiz':{'btn':_0x5cc5df(0xaa2),'content':'leaderboard-quiz-tab-content'},'behavior-log':{'btn':_0x5cc5df(0xc01),'content':'behavior-log-tab-content'}};for(const _0x4092ff in _0x5b2431){document['getElementById'](_0x5b2431[_0x4092ff][_0x5cc5df(0x9cb)])['classList']['remove']('active'),document['getElementById'](_0x5b2431[_0x4092ff]['content'])[_0x5cc5df(0x7cb)][_0x5cc5df(0x23b)]('hidden');}document[_0x5cc5df(0xde0)](_0x5b2431[_0x53cefe][_0x5cc5df(0x9cb)])[_0x5cc5df(0x7cb)]['add'](_0x5cc5df(0x742)),document[_0x5cc5df(0xde0)](_0x5b2431[_0x53cefe][_0x5cc5df(0x3ce)])[_0x5cc5df(0x7cb)][_0x5cc5df(0x4cd)](_0x5cc5df(0xaa0));}function showMessage(_0x145ca0,_0x47fd89=null){const _0x5e126b=_0x36ca11;modalMessage[_0x5e126b(0xb0c)]=_0x145ca0,modalConfirmAction=_0x47fd89,messageModal[_0x5e126b(0x7cb)][_0x5e126b(0x4cd)]('hidden');}function showConfirmation(_0x54de8d,_0x44d92c){const _0x49f773=_0x36ca11;document[_0x49f773(0xde0)](_0x49f773(0xb2d))['textContent']=_0x54de8d,document[_0x49f773(0xde0)](_0x49f773(0xcf9))[_0x49f773(0xce2)]('h3')[_0x49f773(0xb0c)]='ยืนยันการกระทำ',confirmAction=_0x44d92c,confirmationModal[_0x49f773(0x7cb)][_0x49f773(0x4cd)](_0x49f773(0xaa0));}function listenForProjects(){const _0x41755c=_0x36ca11,_0x5b595d=doc(db,_0x41755c(0xd5e),_0x41755c(0x3eb));onSnapshot(_0x5b595d,_0x4e8de0=>{const _0x18df80=_0x41755c;if(_0x4e8de0[_0x18df80(0xa40)]()){const _0x420ff6=_0x4e8de0[_0x18df80(0x518)]();globalDashboardSettings[_0x18df80(0x46e)]=_0x420ff6[_0x18df80(0x46e)]||'date_desc',globalDashboardSettings[_0x18df80(0x3da)]=_0x420ff6[_0x18df80(0x3da)]||[],globalDashboardSettings['projectOrder']=_0x420ff6['projectOrder']||[];}allProjects[_0x18df80(0x9b1)]>0x0&&renderProjects();});const _0x42a320=collection(db,_0x41755c(0xdd2)+appId+_0x41755c(0x20e));unsubscribeProjectsListener=onSnapshot(_0x42a320,_0xfc76a9=>{const _0x16a6c6=_0x41755c;allProjects=_0xfc76a9['docs'][_0x16a6c6(0xcf7)](_0x1c5912=>({'id':_0x1c5912['id'],..._0x1c5912[_0x16a6c6(0x518)]()})),renderProjects();},_0x5235fb=>{const _0x5469db=_0x41755c;console[_0x5469db(0x3c3)](_0x5469db(0xa7e),_0x5235fb),showMessage(_0x5469db(0x5ca));});}function showColorPalette(_0x337c37,_0x1bd913){const _0x50922e=_0x36ca11;document[_0x50922e(0xbe7)](_0x50922e(0x9d9))['forEach'](_0x400697=>_0x400697['remove']());const _0x332dc8=[_0x50922e(0x74d),_0x50922e(0xd8c),_0x50922e(0x3a5),_0x50922e(0x9ec),_0x50922e(0x55d),_0x50922e(0x4b9),_0x50922e(0xa49),_0x50922e(0xbcd),_0x50922e(0xd44)],_0x439b82=document[_0x50922e(0x78d)](_0x50922e(0x66f));_0x439b82[_0x50922e(0xc5f)]=_0x50922e(0xd16),_0x332dc8[_0x50922e(0x532)](_0x448cca=>{const _0x19e47b=_0x50922e,_0x233dd5=document[_0x19e47b(0x78d)](_0x19e47b(0x66f));_0x233dd5[_0x19e47b(0xc5f)]=_0x19e47b(0x8c2),_0x233dd5[_0x19e47b(0x2fc)]['backgroundColor']=_0x448cca,_0x233dd5[_0x19e47b(0x999)](_0x19e47b(0x4fc),()=>{const _0x53f13d=_0x19e47b;handleProjectColorChange(_0x1bd913,_0x448cca),_0x439b82[_0x53f13d(0x4cd)]();}),_0x439b82[_0x19e47b(0x9b9)](_0x233dd5);}),document['body'][_0x50922e(0x9b9)](_0x439b82);const _0x340ac5=_0x337c37[_0x50922e(0x8f4)]();_0x439b82[_0x50922e(0x2fc)][_0x50922e(0x5fd)]=_0x340ac5['bottom']+window[_0x50922e(0x76c)]+'px',_0x439b82[_0x50922e(0x2fc)][_0x50922e(0x23e)]=_0x340ac5[_0x50922e(0x23e)]+window[_0x50922e(0x228)]-_0x439b82[_0x50922e(0x762)]/0x2+'px';}async function handleProjectColorChange(_0x22c1d5,_0x3b9f0a){const _0x1f4c06=_0x36ca11,_0x4b4875=doc(db,_0x1f4c06(0xdd2)+appId+_0x1f4c06(0x20e),_0x22c1d5);try{await updateDoc(_0x4b4875,{'color':_0x3b9f0a});}catch(_0xe2fad6){console['error'](_0x1f4c06(0xab0),_0xe2fad6),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x37ee5a=_0x36ca11,_0xc4d6f9=globalDashboardSettings[_0x37ee5a(0x46e)]||'date_desc',_0x5dd612=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x42cace=globalDashboardSettings['projectView']||_0x37ee5a(0x5b0),_0x27e677=document[_0x37ee5a(0xde0)](_0x37ee5a(0x732)),_0x215d6a=document[_0x37ee5a(0xde0)](_0x37ee5a(0x302));_0x27e677[_0x37ee5a(0x7cb)][_0x37ee5a(0x527)](_0x37ee5a(0x742),_0x42cace===_0x37ee5a(0x5b0)),_0x215d6a[_0x37ee5a(0x7cb)][_0x37ee5a(0x527)](_0x37ee5a(0x742),_0x42cace==='list'),document['getElementById']('project-sort-select')[_0x37ee5a(0xd73)]=_0xc4d6f9;const _0x4ca0e7=document['getElementById'](_0x37ee5a(0x1f6))[_0x37ee5a(0xd73)][_0x37ee5a(0x442)]();let _0x59a401=allProjects['filter'](_0x482a9f=>_0x482a9f['projectName'][_0x37ee5a(0x442)]()[_0x37ee5a(0xaf6)](_0x4ca0e7));const _0x1971ab=_0x59a401[_0x37ee5a(0x273)](_0x251d2d=>_0x5dd612[_0x37ee5a(0x5e3)](_0x251d2d['id'])),_0x47efb3=_0x59a401[_0x37ee5a(0x273)](_0x218596=>!_0x5dd612[_0x37ee5a(0x5e3)](_0x218596['id'])),_0x26d736=(_0x5dda26,_0x2fe8d9)=>{const _0x566d49=_0x37ee5a;switch(_0xc4d6f9){case _0x566d49(0x63b):return _0x5dda26[_0x566d49(0xd30)]['localeCompare'](_0x2fe8d9[_0x566d49(0xd30)],'th');case _0x566d49(0x50e):return _0x2fe8d9[_0x566d49(0xd30)][_0x566d49(0x262)](_0x5dda26['projectName'],'th');case'date_asc':return new Date(_0x5dda26[_0x566d49(0x8ae)])-new Date(_0x2fe8d9[_0x566d49(0x8ae)]);default:return new Date(_0x2fe8d9['createdAt'])-new Date(_0x5dda26[_0x566d49(0x8ae)]);}};_0x1971ab[_0x37ee5a(0x68d)](_0x26d736),_0x47efb3['sort'](_0x26d736);const _0x172fd7=[..._0x1971ab,..._0x47efb3],_0x29bcbf=globalDashboardSettings[_0x37ee5a(0x7a8)]||[];_0x29bcbf[_0x37ee5a(0x9b1)]>0x0&&_0x42cace==='grid'&&_0x172fd7[_0x37ee5a(0x68d)]((_0x4594e5,_0x5008d0)=>{const _0x4ff981=_0x29bcbf['indexOf'](_0x4594e5['id']),_0x3d9d4c=_0x29bcbf['indexOf'](_0x5008d0['id']);if(_0x4ff981===-0x1)return 0x1;if(_0x3d9d4c===-0x1)return-0x1;return _0x4ff981-_0x3d9d4c;});const _0x14cb33={};await Promise[_0x37ee5a(0x45e)](_0x172fd7['map'](async _0x344fbb=>{const _0x374781=_0x37ee5a,_0x310767=query(collection(db,'artifacts/'+appId+_0x374781(0x365)),where(_0x374781(0x264),'==',_0x344fbb['id'])),_0x9a6ee0=await getDocs(_0x310767);_0x14cb33[_0x344fbb['id']]=_0x9a6ee0['size'];}));const _0x52c162=document[_0x37ee5a(0xde0)](_0x37ee5a(0x807));let _0x44cb06='';if(_0x42cace==='grid'){_0x52c162['className']='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x37ee5a(0x9b1)]>0x0&&_0x4ca0e7===''){const _0x201fd2=starredQuizzes['map'](_0x22c06a=>{const _0x4b4560=_0x37ee5a,_0x375e5a=allProjects['find'](_0x48d894=>_0x48d894['id']===_0x22c06a[_0x4b4560(0x264)]);return{..._0x22c06a,'projectName':_0x375e5a?_0x375e5a['projectName']:_0x4b4560(0xbc0)};});_0x44cb06+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x201fd2['map'](_0x4caaa5=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x4caaa5[_0x37ee5a(0x714)]+'\x22>'+_0x4caaa5[_0x37ee5a(0x714)]+_0x37ee5a(0xbc6)+_0x4caaa5[_0x37ee5a(0xd30)]+_0x37ee5a(0x819)+_0x4caaa5[_0x37ee5a(0xd30)]+_0x37ee5a(0x2f7))[_0x37ee5a(0xa81)]('')+_0x37ee5a(0xc9b)+starredQuizzes[_0x37ee5a(0x9b1)]+_0x37ee5a(0xc10);}_0x172fd7[_0x37ee5a(0x532)](_0x12fcd6=>{const _0x34b38c=_0x37ee5a,_0x447b29=_0x14cb33[_0x12fcd6['id']]??0x0,_0x37dcf3=_0x5dd612[_0x34b38c(0x5e3)](_0x12fcd6['id']),_0xdb31e7=_0x12fcd6[_0x34b38c(0x4b8)]||'#FFFFFF',_0x4e16b4=parseInt(_0xdb31e7[_0x34b38c(0x6eb)](0x1,0x3),0x10)*0.299+parseInt(_0xdb31e7[_0x34b38c(0x6eb)](0x3,0x5),0x10)*0.587+parseInt(_0xdb31e7['substring'](0x5,0x7),0x10)*0.114<0xba,_0x39907f=_0x4e16b4?_0x34b38c(0x2e7):'text-indigo-800',_0x107126=_0x4e16b4?_0x34b38c(0x419):'text-gray-500';_0x44cb06+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0x37dcf3?'border-indigo-400\x20ring-2\x20ring-indigo-200':_0x34b38c(0xb06))+_0x34b38c(0x9f6)+_0xdb31e7+_0x34b38c(0x51f)+_0x12fcd6['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x12fcd6['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x4e16b4?_0x34b38c(0x93b):_0x34b38c(0x27b))+_0x34b38c(0xb98)+_0x12fcd6['id']+_0x34b38c(0x24b)+(_0x4e16b4?_0x34b38c(0x93b):'text-gray-400\x20hover:text-indigo-600')+_0x34b38c(0x376)+(_0x37dcf3?_0x4e16b4?_0x34b38c(0x20d):_0x34b38c(0x3a2):'')+_0x34b38c(0xd7c)+_0x12fcd6['id']+_0x34b38c(0x31d)+_0x39907f+_0x34b38c(0x82c)+_0x12fcd6['projectName']+_0x34b38c(0x245)+_0x107126+_0x34b38c(0x85b)+new Date(_0x12fcd6['createdAt'])['toLocaleDateString'](_0x34b38c(0x80b))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+(_0x4e16b4?_0x34b38c(0xb2b):'text-gray-700')+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x447b29+_0x34b38c(0xba0)+_0x12fcd6['id']+_0x34b38c(0x5a1)+_0x12fcd6[_0x34b38c(0xd30)]+_0x34b38c(0x1fc)+(_0x4e16b4?_0x34b38c(0xa3e):_0x34b38c(0x60e))+_0x34b38c(0x4f9);});}else _0x52c162[_0x37ee5a(0xc5f)]=_0x37ee5a(0x36f),starredQuizzes['length']>0x0&&_0x4ca0e7===''&&(_0x44cb06+=_0x37ee5a(0x9bd)+starredQuizzes['length']+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x44cb06+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x172fd7[_0x37ee5a(0x532)](_0x2c1196=>{const _0x4ffc7a=_0x37ee5a,_0x5c557e=_0x14cb33[_0x2c1196['id']]??0x0,_0x27f78e=_0x5dd612[_0x4ffc7a(0x5e3)](_0x2c1196['id']);_0x44cb06+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x2c1196[_0x4ffc7a(0x4b8)]||_0x4ffc7a(0xd44))+_0x4ffc7a(0x243)+_0x2c1196['id']+_0x4ffc7a(0x9d6)+_0x2c1196[_0x4ffc7a(0xd30)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0x5c557e+_0x4ffc7a(0x8d3)+new Date(_0x2c1196[_0x4ffc7a(0x8ae)])['toLocaleString'](_0x4ffc7a(0x80b))+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2c1196['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x27f78e?_0x4ffc7a(0x3a2):'')+_0x4ffc7a(0x3c1)+_0x2c1196['id']+'\x22\x20data-name=\x22'+_0x2c1196[_0x4ffc7a(0xd30)]+_0x4ffc7a(0x851);});projectList[_0x37ee5a(0x2bd)]=_0x44cb06,noProjectsMsg[_0x37ee5a(0x7cb)]['toggle'](_0x37ee5a(0xaa0),_0x44cb06[_0x37ee5a(0x9b1)]>0x0);}document[_0x36ca11(0xde0)](_0x36ca11(0xc64))[_0x36ca11(0x999)](_0x36ca11(0x4fc),async()=>{const _0x3c0e88=_0x36ca11,_0x10187a=document[_0x3c0e88(0xde0)](_0x3c0e88(0xaba)),_0x1faec8=_0x10187a[_0x3c0e88(0xd73)]['trim']();if(!_0x1faec8){showMessage(_0x3c0e88(0xc1c));return;}try{const _0x13d037=doc(collection(db,_0x3c0e88(0xdd2)+appId+_0x3c0e88(0x20e)));await setDoc(_0x13d037,{'projectName':_0x1faec8,'students':[],'settings':{'resultsDisplay':_0x3c0e88(0xc9f),'shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x3c0e88(0x2b2),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x3c0e88(0x8b8)]()}),_0x10187a[_0x3c0e88(0xd73)]='',createProjectModal['classList']['add'](_0x3c0e88(0xaa0)),showMessage(_0x3c0e88(0xd58));}catch(_0x2e524f){console[_0x3c0e88(0x3c3)](_0x3c0e88(0x293),_0x2e524f),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0x36ca11(0x999)](_0x36ca11(0x4fc),async _0x1c686e=>{const _0x33b9f3=_0x36ca11,_0xcc7271=_0x1c686e[_0x33b9f3(0x28a)][_0x33b9f3(0xd5a)](_0x33b9f3(0x80c)),_0x3eb81f=_0x1c686e['target'][_0x33b9f3(0xd5a)](_0x33b9f3(0x5c4)),_0x5115ec=_0x1c686e[_0x33b9f3(0x28a)][_0x33b9f3(0xd5a)]('.pin-project-btn'),_0x148c76=_0x1c686e[_0x33b9f3(0x28a)]['closest']('.color-palette-btn');if(_0x5115ec){const _0x15b0c4=_0x5115ec[_0x33b9f3(0xdcf)]['id'],_0x17d0a6=doc(db,'globalSettings',_0x33b9f3(0x3eb)),_0x2603b6=globalDashboardSettings[_0x33b9f3(0x3da)];let _0x630feb;_0x2603b6['includes'](_0x15b0c4)?_0x630feb=_0x2603b6[_0x33b9f3(0x273)](_0x419d33=>_0x419d33!==_0x15b0c4):_0x630feb=[..._0x2603b6,_0x15b0c4];try{await setDoc(_0x17d0a6,{'pinnedProjects':_0x630feb},{'merge':!![]});}catch(_0x3ab03f){console[_0x33b9f3(0x3c3)](_0x33b9f3(0xb0e),_0x3ab03f),showMessage(_0x33b9f3(0x979));}}else{if(_0x148c76){const _0xc82014=_0x148c76[_0x33b9f3(0xdcf)]['id'];showColorPalette(_0x148c76,_0xc82014);}else{if(_0xcc7271){const _0x3781d8=_0xcc7271['dataset']['id'];_0x3781d8===_0x33b9f3(0x962)?showStarredProjectView():(currentProjectId=_0x3781d8,await loadProjectDetails(currentProjectId),showView(_0x33b9f3(0x46c)));}else{if(_0x3eb81f){const _0x4cf6bc=_0x3eb81f[_0x33b9f3(0xdcf)]['id'],_0x29a826=_0x3eb81f[_0x33b9f3(0xdcf)]['name'];showConfirmation(_0x33b9f3(0x91c)+_0x29a826+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x4cf6bc));}}}}}),projectList[_0x36ca11(0x999)](_0x36ca11(0xd2f),_0x27d44a=>{const _0x9b45df=_0x36ca11,_0x25ecca=_0x27d44a['target'][_0x9b45df(0xd5a)]('.project-card-container');_0x25ecca&&_0x25ecca[_0x9b45df(0x7cb)][_0x9b45df(0x23b)](_0x9b45df(0xca3));}),projectList[_0x36ca11(0x999)](_0x36ca11(0xb72),_0x412d6c=>{const _0x2ee872=_0x36ca11,_0x517d59=_0x412d6c[_0x2ee872(0x28a)][_0x2ee872(0xd5a)](_0x2ee872(0x23f));_0x517d59&&_0x517d59[_0x2ee872(0x7cb)][_0x2ee872(0x4cd)](_0x2ee872(0xca3));}),projectList['addEventListener']('dragover',_0x3a9d8f=>{const _0x26f980=_0x36ca11;_0x3a9d8f[_0x26f980(0x4c8)]();const _0x4f419a=document['querySelector'](_0x26f980(0xb6c));if(!_0x4f419a)return;const _0x36b66b=getDragAfterElement(projectList,_0x3a9d8f[_0x26f980(0xb64)]);_0x36b66b==null?projectList[_0x26f980(0x9b9)](_0x4f419a):projectList[_0x26f980(0x5aa)](_0x4f419a,_0x36b66b);}),projectList[_0x36ca11(0x999)](_0x36ca11(0xa37),_0x18a062=>{const _0x369b23=_0x36ca11;_0x18a062[_0x369b23(0x4c8)]();const _0x372336=[...projectList[_0x369b23(0xbe7)](_0x369b23(0xcb0))][_0x369b23(0xcf7)](_0x2f5b0c=>_0x2f5b0c[_0x369b23(0xdcf)]['id']);saveProjectOrder(_0x372336);});function renderBehaviorLog(_0x266d91){const _0x5ed843=_0x36ca11,_0x4763d4=document[_0x5ed843(0xde0)]('behavior-log-container');if(!_0x4763d4)return;const _0x12a1ec=_0x266d91[_0x5ed843(0x273)](_0x4abade=>_0x4abade[_0x5ed843(0x25e)]&&_0x4abade['behaviorLog'][_0x5ed843(0x9b1)]>0x0);if(_0x12a1ec[_0x5ed843(0x9b1)]===0x0){_0x4763d4[_0x5ed843(0x2bd)]=_0x5ed843(0x52d);return;}let _0x3e3f8b='';_0x12a1ec[_0x5ed843(0x532)](_0x5dfb19=>{const _0x5d053d=_0x5ed843;_0x3e3f8b+=_0x5d053d(0x4bc)+_0x5dfb19[_0x5d053d(0x955)]+_0x5d053d(0xcd0),_0x5dfb19['behaviorLog'][_0x5d053d(0x68d)]((_0x95d91d,_0x334f3d)=>new Date(_0x334f3d[_0x5d053d(0x947)])-new Date(_0x95d91d[_0x5d053d(0x947)]))[_0x5d053d(0x532)](_0x5a8560=>{const _0x1588c2=_0x5d053d,_0x55490b=new Date(_0x5a8560[_0x1588c2(0x947)])['toLocaleString']('th-TH',{'dateStyle':'short','timeStyle':_0x1588c2(0xa9c)});_0x3e3f8b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20'+_0x5a8560['attemptNumber']+_0x1588c2(0xa17)+_0x55490b+_0x1588c2(0x36d);}),_0x3e3f8b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x4763d4['innerHTML']=_0x3e3f8b;}function getDragAfterElement(_0x28ef56,_0x175066){const _0xa13629=_0x36ca11,_0x104f60=[..._0x28ef56[_0xa13629(0xbe7)]('.project-card-container:not(.opacity-50)')];return _0x104f60[_0xa13629(0x514)]((_0x22824b,_0x4354a7)=>{const _0x48adea=_0xa13629,_0x56ace9=_0x4354a7['getBoundingClientRect'](),_0x121e34=_0x175066-_0x56ace9[_0x48adea(0x5fd)]-_0x56ace9[_0x48adea(0x5cf)]/0x2;return _0x121e34<0x0&&_0x121e34>_0x22824b[_0x48adea(0xc26)]?{'offset':_0x121e34,'element':_0x4354a7}:_0x22824b;},{'offset':Number['NEGATIVE_INFINITY']})[_0xa13629(0xace)];}async function saveProjectOrder(_0x111c0d){const _0x47208d=_0x36ca11,_0x1d58e3=doc(db,_0x47208d(0xd5e),_0x47208d(0x3eb));try{await setDoc(_0x1d58e3,{'projectOrder':_0x111c0d},{'merge':!![]});}catch(_0x203535){console[_0x47208d(0x3c3)](_0x47208d(0x856),_0x203535),showMessage(_0x47208d(0xc27));}}async function logBehaviorEvent(_0x2244c4,_0x595207={}){const _0x2efc02=_0x36ca11;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x2efc02(0x203)]('ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน');return;}const _0x2e78f6=doc(db,'artifacts/'+appId+_0x2efc02(0xd9a)+currentQuizData['id']+'/submissions',currentStudentName),_0x25ec11={'event':_0x2244c4,'timestamp':new Date()[_0x2efc02(0x8b8)](),..._0x595207};try{await updateDoc(_0x2e78f6,{'behaviorLog':arrayUnion(_0x25ec11)}),console['log'](_0x2efc02(0x658)+currentStudentName+'\x20สำเร็จ');}catch(_0x4f3d0e){_0x4f3d0e[_0x2efc02(0xbd3)]==='not-found'?console['warn'](_0x2efc02(0x414)+currentStudentName+_0x2efc02(0x4d2)):console[_0x2efc02(0x3c3)](_0x2efc02(0xcff),_0x4f3d0e);}}function calculateMeanAndStdDev(_0xcac5de){const _0x20fbb8=_0x36ca11;if(_0xcac5de['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x162729=_0xcac5de['reduce']((_0x39ab2d,_0x1f7081)=>_0x39ab2d+_0x1f7081,0x0)/_0xcac5de['length'];if(_0xcac5de['length']===0x1)return{'mean':_0x162729,'stdDev':0x0};const _0x425e98=Math[_0x20fbb8(0x8a3)](_0xcac5de[_0x20fbb8(0xcf7)](_0x3d469f=>Math[_0x20fbb8(0x32a)](_0x3d469f-_0x162729,0x2))[_0x20fbb8(0x514)]((_0x517857,_0x708a1e)=>_0x517857+_0x708a1e,0x0)/(_0xcac5de[_0x20fbb8(0x9b1)]-0x1));return{'mean':_0x162729,'stdDev':_0x425e98};}function calculateZScore(_0x160349,_0x5d0040,_0x14c15e){if(_0x14c15e===0x0)return 0x0;return(_0x160349-_0x5d0040)/_0x14c15e;}function calculateTScore(_0x259895){return 0xa*_0x259895+0x32;}function showStarredProjectView(){const _0x3614a5=_0x36ca11;currentProjectId=_0x3614a5(0x897),currentProjectData=null,projectTitle[_0x3614a5(0xb0c)]=_0x3614a5(0xa70),projectIdDisplay[_0x3614a5(0xb0c)]='pinned-items',showView(_0x3614a5(0x46c)),manageTab['classList'][_0x3614a5(0x23b)](_0x3614a5(0xaa0)),leaderboardTab[_0x3614a5(0x7cb)][_0x3614a5(0x23b)]('hidden'),switchProjectTab(_0x3614a5(0x57f)),renderQuizzes();}async function loadProjectDetails(_0x34dbfd){const _0x576794=_0x36ca11,_0xdb1263=doc(db,'artifacts/'+appId+'/public/data/projects',_0x34dbfd),_0x461ba7=await getDoc(_0xdb1263);if(_0x461ba7['exists']()){manageTab[_0x576794(0x7cb)][_0x576794(0x4cd)](_0x576794(0xaa0)),leaderboardTab[_0x576794(0x7cb)]['remove']('hidden'),currentProjectData=_0x461ba7[_0x576794(0x518)](),projectTitle[_0x576794(0xb0c)]=currentProjectData[_0x576794(0xd30)],projectIdDisplay[_0x576794(0xb0c)]=_0x34dbfd;const _0x437071=currentProjectData[_0x576794(0x695)]||{};document['getElementById'](_0x576794(0x6ba))[_0x576794(0xd73)]=_0x437071[_0x576794(0x451)]||'none';const _0xd7d66f=document[_0x576794(0xde0)]('show-in-student-dashboard-checkbox');_0xd7d66f[_0x576794(0x39b)]=_0x437071['showInStudentDashboard']!==![];const _0x56d83c=document[_0x576794(0xde0)]('enable-passcode-checkbox'),_0x4f76d9=document['getElementById']('passcode-input-container'),_0x53f3dc=document[_0x576794(0xde0)](_0x576794(0xa0d)),_0x5aefcd=_0x437071['isPasscodeEnabled']||![];_0x56d83c[_0x576794(0x39b)]=_0x5aefcd,_0x53f3dc['value']=_0x437071['passcode']||'',_0x4f76d9[_0x576794(0x7cb)][_0x576794(0x527)](_0x576794(0xaa0),!_0x5aefcd),_0x56d83c[_0x576794(0x6cb)]=()=>{const _0x520d9a=_0x576794;_0x4f76d9['classList'][_0x520d9a(0x527)]('hidden',!_0x56d83c[_0x520d9a(0x39b)]);},document[_0x576794(0xde0)](_0x576794(0x993))[_0x576794(0x39b)]=_0x437071[_0x576794(0x382)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x34dbfd),listenForProjectQuizzes(_0x34dbfd),listenForStudentProfiles(_0x34dbfd);}else showMessage(_0x576794(0x24a)),showView(_0x576794(0x1e4));}async function handleResetProjectOrder(){const _0xcf3ba8=_0x36ca11,_0x145b46=doc(db,_0xcf3ba8(0xd5e),_0xcf3ba8(0x3eb));try{await setDoc(_0x145b46,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0x4da672){console[_0xcf3ba8(0x3c3)](_0xcf3ba8(0x47c),_0x4da672),showMessage(_0xcf3ba8(0xd07));}}async function handleTogglePinProject(_0x5ef152){const _0xe09d8c=_0x36ca11;if(!_0x5ef152)return;const _0x10be32=doc(db,_0xe09d8c(0xdd2)+appId+_0xe09d8c(0x20e),_0x5ef152);try{const _0x13c3a3=await getDoc(_0x10be32);if(_0x13c3a3[_0xe09d8c(0xa40)]()){const _0x52edc5=_0x13c3a3[_0xe09d8c(0x518)]()[_0xe09d8c(0x4ea)]||![];await updateDoc(_0x10be32,{'isPinned':!_0x52edc5});}}catch(_0x1bca39){console[_0xe09d8c(0x3c3)](_0xe09d8c(0x79b),_0x1bca39),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}async function handleDeleteProject(_0x44a596){const _0x5dcdb0=_0x36ca11;try{const _0x4c26ba=writeBatch(db),_0x281caf=collection(db,_0x5dcdb0(0xdd2)+appId+_0x5dcdb0(0x365)),_0x435351=query(_0x281caf,where('projectId','==',_0x44a596)),_0x5009b9=await getDocs(_0x435351);for(const _0x2e6764 of _0x5009b9['docs']){const _0x3ba263=collection(db,_0x5dcdb0(0xdd2)+appId+'/public/data/quizzes/'+_0x2e6764['id']+_0x5dcdb0(0x316)),_0x34e7e0=await getDocs(_0x3ba263);_0x34e7e0['forEach'](_0x410b46=>{const _0x589c66=_0x5dcdb0;_0x4c26ba[_0x589c66(0x513)](_0x410b46[_0x589c66(0x8c1)]);}),_0x4c26ba[_0x5dcdb0(0x513)](_0x2e6764[_0x5dcdb0(0x8c1)]);}const _0x5d7f6f=collection(db,_0x5dcdb0(0xdd2)+appId+_0x5dcdb0(0x7f5)+_0x44a596+'/studentProfiles'),_0x3acb00=await getDocs(_0x5d7f6f);_0x3acb00[_0x5dcdb0(0x532)](_0x52cdc5=>{const _0x90f87c=_0x5dcdb0;_0x4c26ba['delete'](_0x52cdc5[_0x90f87c(0x8c1)]);});const _0x6d7fbd=doc(db,_0x5dcdb0(0xdd2)+appId+'/public/data/projects',_0x44a596);_0x4c26ba[_0x5dcdb0(0x513)](_0x6d7fbd),await _0x4c26ba['commit'](),showMessage(_0x5dcdb0(0xaa9)),showView(_0x5dcdb0(0x1e4));}catch(_0x5e84a0){console['error'](_0x5dcdb0(0xa7f),_0x5e84a0),showMessage(_0x5dcdb0(0x51e));}}document['getElementById'](_0x36ca11(0x3cd))[_0x36ca11(0x999)](_0x36ca11(0x4fc),async()=>{const _0x483ed4=_0x36ca11;if(!currentProjectId)return;const _0x37122d={'defaultNumQuestions':parseInt(document[_0x483ed4(0xde0)](_0x483ed4(0x2d7))[_0x483ed4(0xd73)]),'defaultNumChoices':parseInt(document['getElementById'](_0x483ed4(0xd4b))[_0x483ed4(0xd73)]),'defaultPassingScore':parseInt(document[_0x483ed4(0xde0)](_0x483ed4(0x286))['value']),'resultsDisplay':document['getElementById'](_0x483ed4(0xde7))[_0x483ed4(0xd73)],'shuffleSetting':document[_0x483ed4(0xde0)](_0x483ed4(0x6ba))[_0x483ed4(0xd73)],'timerMode':document['getElementById'](_0x483ed4(0x8b3))['value'],'timerDuration':parseInt(document[_0x483ed4(0xde0)](_0x483ed4(0x96b))[_0x483ed4(0xd73)]),'isConfidenceScoringEnabled':document['getElementById'](_0x483ed4(0x993))[_0x483ed4(0x39b)],'confidenceMode':document['getElementById'](_0x483ed4(0xc7a))[_0x483ed4(0xd73)]};try{const _0x47f64b=doc(db,_0x483ed4(0xdd2)+appId+_0x483ed4(0x20e),currentProjectId);await updateDoc(_0x47f64b,{'settings':_0x37122d}),showMessage(_0x483ed4(0x738));}catch(_0x1d261b){console['error'](_0x483ed4(0x9b7),_0x1d261b),showMessage(_0x483ed4(0x9bb));}});function listenForStudents(_0x11e59f){const _0x327d89=_0x36ca11,_0x3c0642=doc(db,_0x327d89(0xdd2)+appId+'/public/data/projects',_0x11e59f);unsubscribeStudentsListener=onSnapshot(_0x3c0642,_0x719cc5=>{const _0x1882a5=_0x327d89;if(_0x719cc5[_0x1882a5(0xa40)]()){const _0x3e25ab=_0x719cc5['data']();currentProjectData=_0x3e25ab,renderStudentList(_0x3e25ab[_0x1882a5(0xd36)]||[]);}});}function renderStudentList(_0x466917){const _0x269e8d=_0x36ca11,_0x3fec64=document[_0x269e8d(0xde0)](_0x269e8d(0xd14));_0x466917[_0x269e8d(0x9b1)]===0x0?(studentList[_0x269e8d(0x2bd)]=_0x269e8d(0x440),_0x3fec64['classList'][_0x269e8d(0x23b)](_0x269e8d(0xaa0))):(studentList[_0x269e8d(0x2bd)]=_0x466917['map'](_0x63951c=>_0x269e8d(0xa2e)+_0x63951c+_0x269e8d(0x383)+_0x63951c+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x269e8d(0xa81)](''),_0x3fec64[_0x269e8d(0x7cb)]['remove'](_0x269e8d(0xaa0)));}document[_0x36ca11(0xde0)](_0x36ca11(0xa8c))[_0x36ca11(0x999)](_0x36ca11(0x4fc),async()=>{const _0x4b8b34=_0x36ca11;if(!currentProjectId)return;const _0x285303=document[_0x4b8b34(0xde0)]('student-name-input'),_0xa9687c=_0x285303[_0x4b8b34(0xd73)][_0x4b8b34(0x3ac)]();if(!_0xa9687c){showMessage(_0x4b8b34(0xdf9));return;}const _0x2f7454=_0xa9687c[_0x4b8b34(0x26b)]('\x0a')[_0x4b8b34(0xcf7)](_0x178b59=>_0x178b59[_0x4b8b34(0x3ac)]())[_0x4b8b34(0x273)](_0x42d39e=>_0x42d39e);if(_0x2f7454[_0x4b8b34(0x9b1)]===0x0)return;try{const _0xe62baa=doc(db,_0x4b8b34(0xdd2)+appId+_0x4b8b34(0x20e),currentProjectId),_0x48633d=await getDoc(_0xe62baa);if(_0x48633d[_0x4b8b34(0xa40)]()){const _0x3228a2=_0x48633d[_0x4b8b34(0x518)]()[_0x4b8b34(0xd36)]||[],_0x5022c7=[...new Set([..._0x3228a2,..._0x2f7454])];await updateDoc(_0xe62baa,{'students':_0x5022c7}),_0x285303[_0x4b8b34(0xd73)]='';}}catch(_0x56c673){console[_0x4b8b34(0x3c3)](_0x4b8b34(0x5b4),_0x56c673),showMessage(_0x4b8b34(0x982));}});async function handleManualQuizPairing(_0x112d6e){const _0x4eaabc=_0x36ca11,_0x1ba4d7=document[_0x4eaabc(0xde0)](_0x4eaabc(0xae7)),_0x217053=document[_0x4eaabc(0xde0)](_0x4eaabc(0x70b)),_0x4f2e71=_0x1ba4d7[_0x4eaabc(0xce2)]('h3'),_0x1ef04e=document['getElementById']('confirm-move-quiz-btn'),_0xc9dbc5=document[_0x4eaabc(0xde0)](_0x4eaabc(0xa33));_0x4f2e71[_0x4eaabc(0xb0c)]=_0x4eaabc(0x9ed),_0x217053[_0x4eaabc(0x2bd)]='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x1ef04e[_0x4eaabc(0xb0c)]='ยืนยันการจับคู่',_0x1ba4d7[_0x4eaabc(0x7cb)][_0x4eaabc(0x4cd)](_0x4eaabc(0xaa0));const _0x127361=allQuizzes[_0x4eaabc(0x273)](_0x576d6e=>_0x576d6e['id']!==_0x112d6e);_0x127361[_0x4eaabc(0x9b1)]===0x0?(_0x217053[_0x4eaabc(0x2bd)]=_0x4eaabc(0x44d),_0x1ef04e[_0x4eaabc(0xc4f)]=!![]):(_0x217053[_0x4eaabc(0x2bd)]='<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>'+_0x127361[_0x4eaabc(0xcf7)](_0x57edac=>_0x4eaabc(0xa16)+_0x57edac['id']+'\x22>'+_0x57edac[_0x4eaabc(0x714)]+_0x4eaabc(0x728))['join'](''),_0x1ef04e['disabled']=![]);const _0x4bc992=async()=>{const _0x4e7f78=_0x4eaabc,_0x41a1c5=_0x217053[_0x4e7f78(0xd73)];if(!_0x41a1c5){showMessage(_0x4e7f78(0x6e9));return;}_0x1ef04e[_0x4e7f78(0xc4f)]=!![],_0x1ef04e[_0x4e7f78(0xb0c)]=_0x4e7f78(0x572);try{const _0x6b7002=doc(db,_0x4e7f78(0xdd2)+appId+_0x4e7f78(0x365),_0x112d6e),_0x34ff9=doc(db,'artifacts/'+appId+_0x4e7f78(0x365),_0x41a1c5),_0xd6fb01=writeBatch(db);_0xd6fb01[_0x4e7f78(0x991)](_0x6b7002,{'pairedQuizId':_0x41a1c5}),_0xd6fb01[_0x4e7f78(0x991)](_0x34ff9,{'pairedQuizId':_0x112d6e}),await _0xd6fb01[_0x4e7f78(0xda0)](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0x1ba4d7[_0x4e7f78(0x7cb)][_0x4e7f78(0x23b)](_0x4e7f78(0xaa0));}catch(_0x33d678){console[_0x4e7f78(0x3c3)](_0x4e7f78(0x589),_0x33d678),showMessage(_0x4e7f78(0x7fb));}finally{_0x4f2e71['textContent']=_0x4e7f78(0x2a4),_0x1ef04e[_0x4e7f78(0xb0c)]=_0x4e7f78(0x31f),_0x1ef04e['disabled']=![],_0x1ef04e[_0x4e7f78(0xb40)](_0x4e7f78(0x4fc),_0x4bc992),_0xc9dbc5[_0x4e7f78(0xb40)](_0x4e7f78(0x4fc),_0x495034);}},_0x495034=()=>{const _0x46aa4e=_0x4eaabc;_0x1ba4d7['classList'][_0x46aa4e(0x23b)](_0x46aa4e(0xaa0)),_0x4f2e71[_0x46aa4e(0xb0c)]=_0x46aa4e(0x2a4),_0x1ef04e[_0x46aa4e(0xb0c)]=_0x46aa4e(0x31f),_0x1ef04e[_0x46aa4e(0xb40)]('click',_0x4bc992),_0xc9dbc5[_0x46aa4e(0xb40)]('click',_0x495034);};_0x1ef04e['addEventListener'](_0x4eaabc(0x4fc),_0x4bc992),_0xc9dbc5[_0x4eaabc(0x999)]('click',_0x495034);}function handleDeleteStudent(_0x41ba50){const _0x58c81a=_0x36ca11;showConfirmation(_0x58c81a(0xdf7)+_0x41ba50+_0x58c81a(0x68b),async()=>{const _0x522c8f=_0x58c81a;if(!currentProjectId||!currentProjectData)return;const _0x2d35e4=currentProjectData[_0x522c8f(0xd36)][_0x522c8f(0x273)](_0x143da7=>_0x143da7!==_0x41ba50);try{const _0x5a911b=doc(db,'artifacts/'+appId+_0x522c8f(0x20e),currentProjectId),_0x47572e=doc(db,_0x522c8f(0xdd2)+appId+_0x522c8f(0x7f5)+currentProjectId+_0x522c8f(0x629),_0x41ba50),_0x4921b0=writeBatch(db);_0x4921b0[_0x522c8f(0x991)](_0x5a911b,{'students':_0x2d35e4}),_0x4921b0[_0x522c8f(0x513)](_0x47572e),await _0x4921b0[_0x522c8f(0xda0)]();}catch(_0x4c3301){console[_0x522c8f(0x3c3)](_0x522c8f(0x3a6),_0x4c3301),showMessage(_0x522c8f(0xc6a));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x5b92ca=_0x4cf2;if(!currentProjectId)return;try{const _0x4204cc=doc(db,_0x5b92ca(0xdd2)+appId+_0x5b92ca(0x20e),currentProjectId),_0x547b46=collection(db,_0x5b92ca(0xdd2)+appId+_0x5b92ca(0x7f5)+currentProjectId+'/studentProfiles'),_0x2a324f=await getDocs(_0x547b46),_0x460a86=writeBatch(db);_0x460a86['update'](_0x4204cc,{'students':[]}),_0x2a324f['forEach'](_0x3e835f=>_0x460a86[_0x5b92ca(0x513)](_0x3e835f[_0x5b92ca(0x8c1)])),await _0x460a86['commit']();}catch(_0x247816){console['error']('Error\x20deleting\x20all\x20students:',_0x247816),showMessage(_0x5b92ca(0x211));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x47c142){const _0x3d3d71=_0x36ca11,_0x331aa8=document[_0x3d3d71(0xde0)](_0x3d3d71(0x7bc)),_0x8dfc0d=document['getElementById']('file-topics-list');_0x331aa8[_0x3d3d71(0x7cb)][_0x3d3d71(0x4cd)]('hidden'),_0x8dfc0d[_0x3d3d71(0x2bd)]=_0x3d3d71(0x4a9);try{const _0x4ce523=new FileReader();_0x4ce523[_0x3d3d71(0x4fd)](_0x47c142),await new Promise((_0x13ac8b,_0x58a051)=>{_0x4ce523['onload']=()=>{const _0x47d063=_0x4cf2;fileDataBase64=_0x4ce523[_0x47d063(0x9fc)][_0x47d063(0x26b)](',')[0x1],fileMimeType=_0x47c142[_0x47d063(0x2cb)],_0x13ac8b();},_0x4ce523['onerror']=_0x4fdcf8=>_0x58a051(_0x4fdcf8);});if(!fileDataBase64)throw new Error(_0x3d3d71(0x706));const _0x3527b6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x12b8f5={'type':_0x3d3d71(0xae2),'properties':{'topics':{'type':_0x3d3d71(0xacd),'items':{'type':_0x3d3d71(0x1dc)}}},'required':[_0x3d3d71(0xa57)]},_0x5f3a98=[{'text':_0x3527b6},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x4546c4=await handleApiCall(_0x5f3a98,_0x3d3d71(0x7ec),_0x12b8f5,null,![]);if(_0x4546c4&&_0x4546c4[_0x3d3d71(0xa57)])extractedFileTopics=_0x4546c4[_0x3d3d71(0xa57)],renderFileTopics();else throw new Error('AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้');}catch(_0x45a5c0){console['error'](_0x3d3d71(0x40d),_0x45a5c0),_0x8dfc0d[_0x3d3d71(0x2bd)]=_0x3d3d71(0x390)+_0x45a5c0['message']+'</p>';}}function renderFileTopics(){const _0x9546a5=_0x36ca11,_0x530935=document[_0x9546a5(0xde0)](_0x9546a5(0x6c4));if(extractedFileTopics[_0x9546a5(0x9b1)]===0x0){_0x530935[_0x9546a5(0x2bd)]=_0x9546a5(0x369);return;}_0x530935[_0x9546a5(0x2bd)]=extractedFileTopics[_0x9546a5(0xcf7)](_0x42a957=>_0x9546a5(0x26c)+_0x42a957+_0x9546a5(0xbe0)+escape(_0x42a957)+_0x9546a5(0x2e5)+escape(_0x42a957)+_0x9546a5(0x3bc))['join']('');}async function generateHybridQuizForTopic(_0x16698b){const _0x30b7d9=_0x36ca11,_0x1bf701=parseInt(document['getElementById']('num-questions')[_0x30b7d9(0xd73)],0xa),_0x27ed0e=document[_0x30b7d9(0xde0)](_0x30b7d9(0xafd))[_0x30b7d9(0xd73)],_0x14ed64=document[_0x30b7d9(0xde0)](_0x30b7d9(0xd4b))[_0x30b7d9(0xd73)],_0xde287d=document[_0x30b7d9(0xde0)](_0x30b7d9(0x3fc))['checked'],_0x2349f7=_0xde287d?_0x30b7d9(0x8d7):_0x30b7d9(0xd39);let _0x15c81e='',_0x5a1529;const _0x67e32e={'type':_0x30b7d9(0xae2),'properties':{'questionText':{'type':_0x30b7d9(0x1dc)},'options':{'type':_0x30b7d9(0xacd),'items':{'type':_0x30b7d9(0x1dc)}},'correctAnswerIndex':{'type':_0x30b7d9(0xa61)},'explanation':{'type':_0x30b7d9(0x1dc)},'imageCode':{'type':'STRING'}},'required':[_0x30b7d9(0xc60),_0x30b7d9(0x72e),_0x30b7d9(0x31b),_0x30b7d9(0xbc9)]},_0x11e597={'type':_0x30b7d9(0xae2),'properties':{'questionText':{'type':_0x30b7d9(0x1dc)},'correctAnswer':{'type':_0x30b7d9(0x8e1)},'explanation':{'type':_0x30b7d9(0x1dc)},'imageCode':{'type':'STRING'}},'required':[_0x30b7d9(0xc60),_0x30b7d9(0x5ec),'explanation']},_0x2755b7={'type':_0x30b7d9(0xae2),'properties':{'questionText':{'type':_0x30b7d9(0x1dc)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x30b7d9(0x1dc)}},'required':[_0x30b7d9(0xc60),_0x30b7d9(0x763),_0x30b7d9(0xbc9)]},_0x3d24f9={'type':_0x30b7d9(0xae2),'properties':{'questionType':{'type':_0x30b7d9(0x1dc),'enum':[_0x30b7d9(0x2c9)]},'stem':{'type':_0x30b7d9(0x1dc)},'correctResponse':{'type':_0x30b7d9(0x1dc)},'allResponses':{'type':_0x30b7d9(0xacd),'items':{'type':_0x30b7d9(0x1dc)}},'explanation':{'type':_0x30b7d9(0x1dc)},'imageCode':{'type':'STRING'}},'required':['questionType','stem',_0x30b7d9(0x77b),_0x30b7d9(0xd55),_0x30b7d9(0xbc9)]};switch(_0x27ed0e){case _0x30b7d9(0x209):_0x15c81e='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x14ed64+_0x30b7d9(0x64e),_0x5a1529=_0x67e32e;break;case'true_false':_0x15c81e='คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น',_0x5a1529=_0x11e597;break;case _0x30b7d9(0x38e):_0x15c81e=_0x30b7d9(0xcae),_0x5a1529=_0x2755b7;break;case _0x30b7d9(0x939):_0x15c81e=_0x30b7d9(0x8f1),_0x5a1529=_0x3d24f9;break;case _0x30b7d9(0x99c):_0x15c81e=_0x30b7d9(0x75c)+_0x14ed64+_0x30b7d9(0x64e),_0x5a1529=_0x67e32e;break;default:_0x15c81e=_0x30b7d9(0xb5b)+_0x14ed64+_0x30b7d9(0x64e),_0x5a1529=_0x67e32e;break;}const _0x23cfe6=_0x30b7d9(0x2ae),_0x5163b4=document[_0x30b7d9(0xde0)](_0x30b7d9(0x58c)),_0x3d7981=document['getElementById'](_0x30b7d9(0x36c)),_0x507077=document[_0x30b7d9(0xde0)](_0x30b7d9(0xb29));document[_0x30b7d9(0xde0)](_0x30b7d9(0xcda))['classList']['remove'](_0x30b7d9(0xaa0)),_0x507077[_0x30b7d9(0x2bd)]='',_0x5163b4[_0x30b7d9(0x7cb)][_0x30b7d9(0x4cd)](_0x30b7d9(0xaa0)),_0x3d7981['textContent']='AI\x20กำลังสร้างแบบทดสอบ\x20\x22'+_0x16698b+'\x22\x20จำนวน\x20'+_0x1bf701+'\x20ข้อ...';try{const _0x2131cc=_0x30b7d9(0x1e9),_0x4237ab=_0x30b7d9(0xad8)+_0x16698b+_0x30b7d9(0x61c)+_0x1bf701+_0x30b7d9(0x344)+_0x16698b+_0x30b7d9(0xbe4)+_0x1bf701+_0x30b7d9(0x327)+_0x2349f7+_0x30b7d9(0xc70)+_0x15c81e+_0x30b7d9(0x7f8)+_0x23cfe6+_0x30b7d9(0x436)+_0x2131cc+_0x30b7d9(0x69b)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x1c4ef4={'type':_0x30b7d9(0xae2),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x30b7d9(0xacd),'items':_0x5a1529}},'required':[_0x30b7d9(0x714),_0x30b7d9(0x4f1)]},_0xbfe44d=[{'text':_0x4237ab},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0xbfe44d,_0x30b7d9(0x5c9)+_0x16698b+_0x30b7d9(0xbb6),_0x1c4ef4);}catch(_0x5411d3){console['error'](_0x30b7d9(0x8e8),_0x5411d3),showMessage(_0x30b7d9(0x37d)+_0x5411d3[_0x30b7d9(0x805)]),_0x507077['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>';}finally{_0x5163b4[_0x30b7d9(0x7cb)]['add']('hidden');}}async function handleGenerateFromFileClick(){const _0x4408ca=_0x36ca11;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x1d1002=document[_0x4408ca(0xde0)](_0x4408ca(0x58c)),_0x51a7e5=document[_0x4408ca(0xde0)]('loader-text'),_0x13d4b0=document[_0x4408ca(0xde0)](_0x4408ca(0xb29)),_0x367e30=document['getElementById'](_0x4408ca(0x4f8));_0x367e30['disabled']=!![],document[_0x4408ca(0xde0)](_0x4408ca(0xcda))[_0x4408ca(0x7cb)]['remove'](_0x4408ca(0xaa0)),_0x13d4b0[_0x4408ca(0x2bd)]='',_0x1d1002['classList']['remove'](_0x4408ca(0xaa0)),_0x51a7e5[_0x4408ca(0xb0c)]=_0x4408ca(0xb53);try{const _0x3daa82=await new Promise((_0x14c14d,_0x5f30f5)=>{const _0x24f390=_0x4408ca,_0x26d372=new FileReader();_0x26d372[_0x24f390(0x4fd)](selectedFile),_0x26d372['onload']=()=>_0x14c14d(_0x26d372[_0x24f390(0x9fc)][_0x24f390(0x26b)](',')[0x1]),_0x26d372[_0x24f390(0x584)]=_0x4aad37=>_0x5f30f5(_0x4aad37);});await generateQuizFromFile(selectedFile['type'],_0x3daa82);}catch(_0x877ad9){console[_0x4408ca(0x3c3)](_0x4408ca(0xaa7),_0x877ad9),showMessage(_0x4408ca(0xbac)+_0x877ad9[_0x4408ca(0x805)]),_0x1d1002[_0x4408ca(0x7cb)]['add'](_0x4408ca(0xaa0)),_0x367e30[_0x4408ca(0xc4f)]=![];}}function autoFormatMath(_0x427ffa){const _0x500753=_0x36ca11;if(typeof _0x427ffa!==_0x500753(0xa0f)||!_0x427ffa)return _0x427ffa;const _0x5c68c3=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x21f742=_0x427ffa[_0x500753(0x918)](_0x5c68c3,_0x9c934b=>{return'$'+_0x9c934b['trim']()+'$';});return _0x21f742;}function sanitizeQuizData(_0x2fa9ee){const _0x27c8ad=_0x36ca11;if(!_0x2fa9ee||!_0x2fa9ee['questions'])return _0x2fa9ee;const _0x557468={'imes':_0x27c8ad(0x33e),'div':'\x5cdiv'},_0x4ceb2e=_0x4948a2=>{const _0x2eff4a=_0x27c8ad;if(typeof _0x4948a2!==_0x2eff4a(0xa0f))return _0x4948a2;let _0x293b49=_0x4948a2;for(const [_0x289bd9,_0x4f180e]of Object['entries'](_0x557468)){const _0x312874=new RegExp('\x5cb'+_0x289bd9+'\x5cb','g');_0x293b49=_0x293b49['replace'](_0x312874,_0x4f180e);}return _0x293b49=_0x293b49[_0x2eff4a(0x918)](/\\\//g,_0x2eff4a(0xdd5)),_0x293b49=_0x293b49[_0x2eff4a(0x918)](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')[_0x2eff4a(0x918)](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')['replace'](/÷/g,_0x2eff4a(0xdd5))[_0x2eff4a(0x918)](/×/g,_0x2eff4a(0x33e)),_0x293b49=_0x293b49[_0x2eff4a(0x918)](/(\d)(\\frac)/g,_0x2eff4a(0x5ea)),_0x293b49=autoFormatMath(_0x293b49),_0x293b49;};return _0x2fa9ee[_0x27c8ad(0x714)]&&(_0x2fa9ee['topic']=_0x4ceb2e(_0x2fa9ee[_0x27c8ad(0x714)])),_0x2fa9ee[_0x27c8ad(0x4f1)]['forEach'](_0x25be5e=>{const _0xa33664=_0x27c8ad;_0x25be5e['questionText']=_0x4ceb2e(_0x25be5e[_0xa33664(0xc60)]),_0x25be5e[_0xa33664(0x72e)]&&(_0x25be5e[_0xa33664(0x72e)]=_0x25be5e[_0xa33664(0x72e)]['map'](_0x4ceb2e)),_0x25be5e['explanation']&&(_0x25be5e[_0xa33664(0xbc9)]=_0x4ceb2e(_0x25be5e[_0xa33664(0xbc9)])),_0x25be5e['stem']&&(_0x25be5e[_0xa33664(0x1f4)]=_0x4ceb2e(_0x25be5e[_0xa33664(0x1f4)])),_0x25be5e['correctResponse']&&(_0x25be5e[_0xa33664(0x77b)]=_0x4ceb2e(_0x25be5e['correctResponse'])),_0x25be5e['allResponses']&&(_0x25be5e[_0xa33664(0xd55)]=_0x25be5e[_0xa33664(0xd55)][_0xa33664(0xcf7)](_0x4ceb2e));}),_0x2fa9ee;}const simpleMathPrompt=_0x36ca11(0x9a6);async function handleGenerateFromLink(){const _0xae1755=_0x36ca11,_0x5ab2f7=document[_0xae1755(0xde0)](_0xae1755(0x954)),_0x2b860f=document[_0xae1755(0xde0)]('link-topic-input'),_0x196794=_0x5ab2f7['value'][_0xae1755(0x3ac)](),_0x1ca81a=_0x2b860f[_0xae1755(0xd73)][_0xae1755(0x3ac)]();if(!_0x196794){showMessage(_0xae1755(0x35c));return;}const _0x1aeb64=document[_0xae1755(0xde0)](_0xae1755(0x58c)),_0x877610=document[_0xae1755(0xde0)]('loader-text'),_0x2583e8=document[_0xae1755(0xde0)]('generated-quiz-container'),_0x34ae4f=document[_0xae1755(0xde0)](_0xae1755(0x975));document[_0xae1755(0xde0)]('quiz-generation-area')['classList'][_0xae1755(0x4cd)](_0xae1755(0xaa0)),_0x2583e8[_0xae1755(0x2bd)]='',_0x1aeb64['classList'][_0xae1755(0x4cd)](_0xae1755(0xaa0)),_0x877610[_0xae1755(0xb0c)]=_0xae1755(0x60f),_0x34ae4f['disabled']=!![];try{const _0x3eeb99=_0xae1755(0x969)+encodeURIComponent(_0x196794),_0x11ca31=await fetch(_0x3eeb99);if(!_0x11ca31['ok'])throw new Error(_0xae1755(0x55b)+_0x11ca31['status']+')');const _0x1419e=await _0x11ca31['text'](),_0x3ca8c4=extractTextFromHtml(_0x1419e);if(!_0x3ca8c4||_0x3ca8c4[_0xae1755(0x9b1)]<0x64)throw new Error(_0xae1755(0xd48));await generateQuiz(_0x1ca81a,_0x3ca8c4);}catch(_0x4339ca){console[_0xae1755(0x3c3)](_0xae1755(0x3f9),_0x4339ca),showMessage(_0xae1755(0x37d)+_0x4339ca[_0xae1755(0x805)]),_0x2583e8['innerHTML']=_0xae1755(0x24d);}finally{_0x1aeb64[_0xae1755(0x7cb)][_0xae1755(0x23b)](_0xae1755(0xaa0)),_0x34ae4f[_0xae1755(0xc4f)]=![];}}function extractTextFromHtml(_0x5de6a9){const _0x4a581e=_0x36ca11,_0x22ea71=new DOMParser()[_0x4a581e(0xaa5)](_0x5de6a9,'text/html');return _0x22ea71[_0x4a581e(0xbe7)]('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')[_0x4a581e(0x532)](_0x155bd9=>_0x155bd9[_0x4a581e(0x4cd)]()),_0x22ea71[_0x4a581e(0x6c6)][_0x4a581e(0xb0c)]||'';}document[_0x36ca11(0xde0)](_0x36ca11(0xa9a))[_0x36ca11(0x999)]('click',()=>{const _0x2a33d7=_0x36ca11,_0x6aba70=document[_0x2a33d7(0xde0)](_0x2a33d7(0xd38))[_0x2a33d7(0xd73)][_0x2a33d7(0x3ac)]();generateQuiz(_0x6aba70,null);}),document['getElementById'](_0x36ca11(0xaea))['addEventListener']('click',()=>{const _0x205f6c=_0x36ca11,_0x1215ad=document[_0x205f6c(0xde0)]('text-content-input')[_0x205f6c(0xd73)][_0x205f6c(0x3ac)]();if(!_0x1215ad){showMessage(_0x205f6c(0xc45));return;}const _0x168b47=document[_0x205f6c(0xde0)](_0x205f6c(0xd38))[_0x205f6c(0xd73)][_0x205f6c(0x3ac)]();generateQuiz(_0x168b47,_0x1215ad);});async function generateQuiz(_0xb2b7f6,_0x38f4af,_0xacf9e7=null,_0xc9da39=null,_0x490ecf=![],_0xe56a6b=null,_0x428df2=null,_0x51cf24=![]){const _0x336076=_0x36ca11;let _0x3dd1d0={};if(_0x490ecf&&blueprintPageSettings)_0x3dd1d0=blueprintPageSettings;else{const _0x571fb1=document[_0x336076(0xbe7)](_0x336076(0x272));_0x3dd1d0={'quizType':document['getElementById'](_0x336076(0xafd))[_0x336076(0xd73)],'numQuestions':document[_0x336076(0xde0)](_0x336076(0x2d7))[_0x336076(0xd73)],'numChoices':document['getElementById'](_0x336076(0xd4b))['value'],'includeImages':document[_0x336076(0xde0)](_0x336076(0x3fc))[_0x336076(0x39b)],'isNormalTopic':document[_0x336076(0xde0)]('force-math-checkbox')[_0x336076(0x39b)],'difficultyValue':document[_0x336076(0xde0)]('difficulty-level-select')[_0x336076(0xd73)],'complexityValue':document[_0x336076(0xde0)](_0x336076(0xab6))[_0x336076(0xd73)],'selectedTopicNames':Array[_0x336076(0x64c)](_0x571fb1)[_0x336076(0xcf7)](_0x44a018=>_0x44a018['value'])};}const _0x333757=_0x3dd1d0[_0x336076(0xae1)]?'':_0x336076(0x7e2),_0x45cfef=_0x3dd1d0[_0x336076(0x6d9)]!==_0x336076(0x57b)?'โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x3dd1d0['difficultyValue']+'\x22':'',_0x3d583b=_0x3dd1d0[_0x336076(0x21f)]!==_0x336076(0x313)?_0x336076(0x4d0)+_0x3dd1d0[_0x336076(0x21f)]+'\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy':'';let _0x5aba1b='';_0x3dd1d0[_0x336076(0x28c)]&&_0x3dd1d0[_0x336076(0x28c)][_0x336076(0x9b1)]>0x0&&(_0x5aba1b=_0x336076(0x3be)+_0x3dd1d0[_0x336076(0x28c)][_0x336076(0xa81)](',\x20')+'.');let _0x251561='';_0xc9da39&&(_0x251561=_0x336076(0x871));let _0x1475dc='',_0x48d93e='',_0x5324a6,_0x5e84d1=_0x336076(0x1f9)+_0xb2b7f6+'\x22';if(!_0xb2b7f6&&_0x38f4af)_0x5e84d1=_0x336076(0x31c);else!_0xb2b7f6&&!_0x38f4af&&(_0x5e84d1=_0x336076(0x882));const _0x49715f={'type':'OBJECT','properties':{'questionText':{'type':_0x336076(0x1dc)},'options':{'type':_0x336076(0xacd),'items':{'type':_0x336076(0x1dc)}},'correctAnswerIndex':{'type':_0x336076(0xa61)},'explanation':{'type':_0x336076(0x1dc)},'imageCode':{'type':_0x336076(0x1dc)}},'required':[_0x336076(0xc60),_0x336076(0x72e),_0x336076(0x31b),_0x336076(0xbc9)]},_0x34ddcd={'type':_0x336076(0xae2),'properties':{'questionText':{'type':_0x336076(0x1dc)},'idealAnswer':{'type':_0x336076(0x1dc)},'explanation':{'type':_0x336076(0x1dc)},'imageCode':{'type':_0x336076(0x1dc)}},'required':[_0x336076(0xc60),_0x336076(0x763),_0x336076(0xbc9)]},_0x4cd9d6={'type':_0x336076(0xae2),'properties':{'questionText':{'type':_0x336076(0x1dc)},'questionType':{'type':_0x336076(0x1dc),'enum':[_0x336076(0x209),'short_answer']},'options':{'type':'ARRAY','items':{'type':_0x336076(0x1dc)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x336076(0x1dc)},'imageCode':{'type':'STRING'}},'required':[_0x336076(0xc60),_0x336076(0x55e),_0x336076(0xbc9)]},_0x6c2268={'type':_0x336076(0xae2),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x336076(0x1dc)},'imageCode':{'type':'STRING'}},'required':[_0x336076(0xc60),_0x336076(0x5ec),'explanation']},_0x35d781={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x336076(0x2c9)]},'stem':{'type':_0x336076(0x1dc)},'correctResponse':{'type':_0x336076(0x1dc)},'allResponses':{'type':_0x336076(0xacd),'items':{'type':_0x336076(0x1dc)}},'explanation':{'type':_0x336076(0x1dc)},'imageCode':{'type':_0x336076(0x1dc)}},'required':[_0x336076(0x55e),_0x336076(0x1f4),'correctResponse',_0x336076(0xd55),'explanation']};let _0x1a3ed1;if(_0xacf9e7!==null){const _0x135463=currentQuizData[_0x336076(0x4f1)][_0xacf9e7][_0x336076(0x55e)],_0xd001f1=_0x3dd1d0['includeImages']?_0x336076(0x240):'';_0x1475dc=_0x336076(0x6d4)+_0x5e84d1+'\x20'+_0x5aba1b+'\x20'+_0x45cfef+_0x336076(0x9cf)+_0xd001f1+'\x20'+simpleMathPrompt;if(_0x135463==='multiple_choice')_0x5324a6=_0x49715f;else{if(_0x135463===_0x336076(0x2c9))_0x5324a6={'type':_0x336076(0xae2),'properties':{'questionType':{'type':_0x336076(0x1dc),'enum':[_0x336076(0x2c9)]},'stem':{'type':_0x336076(0x1dc)},'correctResponse':{'type':'STRING'},'explanation':{'type':_0x336076(0x1dc)},'imageCode':{'type':'STRING'}},'required':[_0x336076(0x55e),_0x336076(0x1f4),_0x336076(0x77b),'explanation']};else _0x5324a6=_0x34ddcd;}_0x1a3ed1=_0x5324a6;}else{const _0x5dfd1b=_0x3dd1d0[_0x336076(0x4fa)]?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x3dd1d0[_0x336076(0xcfa)]){case'multiple_choice':_0x1475dc=_0x336076(0xc72)+_0x333757+'\x20'+_0x3dd1d0[_0x336076(0xccf)]+_0x336076(0xdc2)+_0x5e84d1+'\x20'+_0x5aba1b+'\x20'+_0x45cfef+'\x20'+_0x3d583b+'\x20'+_0x251561+_0x336076(0x3aa)+_0x3dd1d0['numChoices']+_0x336076(0x3f3)+_0x5dfd1b+'\x20'+simpleMathPrompt,_0x5324a6=_0x49715f;break;case _0x336076(0x99c):_0x1475dc=_0x336076(0x445)+_0x333757+'\x20'+_0x3dd1d0[_0x336076(0xccf)]+_0x336076(0xdc2)+_0x5e84d1+'\x20'+_0x5aba1b+'\x20'+_0x45cfef+'\x20'+_0x3d583b+'\x20'+_0x251561+_0x336076(0xcf8)+_0x3dd1d0[_0x336076(0x723)]+_0x336076(0xd04)+_0x5dfd1b+'\x20'+simpleMathPrompt,_0x5324a6=_0x49715f;break;case'fill_in_no_choices':_0x1475dc='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x333757+'\x20'+_0x3dd1d0[_0x336076(0xccf)]+_0x336076(0xdc2)+_0x5e84d1+'\x20'+_0x5aba1b+'\x20'+_0x45cfef+'\x20'+_0x3d583b+'\x20'+_0x251561+_0x336076(0xa99)+_0x5dfd1b+'\x20'+simpleMathPrompt,_0x5324a6=_0x34ddcd;break;case _0x336076(0x313):_0x1475dc='สร้างแบบทดสอบ'+_0x333757+'\x20'+_0x3dd1d0['numQuestions']+_0x336076(0xdc2)+_0x5e84d1+'\x20'+_0x5aba1b+'\x20'+_0x45cfef+'\x20'+_0x3d583b+'\x20'+_0x251561+',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x3dd1d0[_0x336076(0x723)]+_0x336076(0xd9b)+_0x5dfd1b+'\x20'+simpleMathPrompt+'.',_0x5324a6=_0x4cd9d6;break;case _0x336076(0x84a):_0x1475dc=_0x336076(0xda4)+_0x333757+'\x20'+_0x3dd1d0[_0x336076(0xccf)]+_0x336076(0xdc2)+_0x5e84d1+'\x20'+_0x5aba1b+'\x20'+_0x45cfef+'\x20'+_0x3d583b+'\x20'+_0x251561+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x5dfd1b+'\x20'+simpleMathPrompt,_0x5324a6=_0x6c2268;break;case'matching':_0x1475dc=_0x336076(0x9ba)+_0x333757+'\x20'+_0x3dd1d0[_0x336076(0xccf)]+_0x336076(0x784)+_0x5e84d1+'\x20'+_0x5aba1b+'\x20'+_0x45cfef+'\x20'+_0x3d583b+'\x20'+_0x251561+_0x336076(0x25d)+_0x5dfd1b+'\x20'+simpleMathPrompt,_0x5324a6=_0x35d781;break;}_0x1a3ed1={'type':'OBJECT','properties':{'topic':{'type':_0x336076(0x1dc)},'questions':{'type':'ARRAY','items':_0x5324a6}},'required':['topic','questions']};}const _0x5cd23a=_0x336076(0x97c);_0x38f4af?(_0x51cf24?_0x1475dc='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x38f4af+'\x22,\x20'+_0x1475dc+_0x5cd23a:_0x1475dc=_0x336076(0x424)+_0x38f4af+'\x22,\x20'+_0x1475dc,_0x48d93e=_0x336076(0xdf6)):(_0x51cf24&&(_0x1475dc+=_0x5cd23a),_0x48d93e=_0x336076(0x219));let _0x1f8c9d;return _0xc9da39?(_0x1f8c9d=[{'text':_0x1475dc},..._0xc9da39],_0x48d93e='กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...'):_0x1f8c9d=_0x1475dc,handleApiCall(_0x1f8c9d,_0x48d93e,_0x1a3ed1,_0xacf9e7,!![],_0xe56a6b,_0x428df2);}async function generateQuizFromFile(_0x4291a4,_0x39eb8c){const _0x2b535a=_0x36ca11,_0x38bd1e=document[_0x2b535a(0xde0)](_0x2b535a(0x95d))[_0x2b535a(0xd73)][_0x2b535a(0x3ac)](),_0x1c35ca=document[_0x2b535a(0xde0)](_0x2b535a(0xafd))[_0x2b535a(0xd73)],_0x57987=document[_0x2b535a(0xde0)]('num-questions')['value'],_0x5bc651=document[_0x2b535a(0xde0)]('num-choices')[_0x2b535a(0xd73)],_0x27fbd0=document[_0x2b535a(0xde0)](_0x2b535a(0x3fc))[_0x2b535a(0x39b)],_0x500b3c=document[_0x2b535a(0xde0)](_0x2b535a(0xca9))[_0x2b535a(0x39b)],_0x48353a=_0x500b3c?'':'คณิตศาสตร์',_0x2b6dd9=document[_0x2b535a(0xde0)](_0x2b535a(0x2de))['checked'];let _0x25af3d='',_0x435475;const _0x268a8f=_0x27fbd0?_0x2b535a(0x489):'';if(_0x2b6dd9)_0x25af3d=_0x2b535a(0x30e)+_0x268a8f+'\x0a'+simpleMathPrompt+'\x0a',_0x435475={'type':_0x2b535a(0xae2),'properties':{'questionText':{'type':_0x2b535a(0x1dc)},'questionType':{'type':_0x2b535a(0x1dc),'enum':[_0x2b535a(0x209),_0x2b535a(0x44a),_0x2b535a(0x84a),_0x2b535a(0x2c9)]},'options':{'type':_0x2b535a(0xacd),'items':{'type':_0x2b535a(0x1dc)}},'correctAnswerIndex':{'type':_0x2b535a(0xa61)},'idealAnswer':{'type':_0x2b535a(0x1dc)},'correctAnswer':{'type':_0x2b535a(0x8e1)},'stem':{'type':_0x2b535a(0x1dc)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x2b535a(0xacd),'items':{'type':'STRING'}},'explanation':{'type':_0x2b535a(0x1dc)},'imageCode':{'type':_0x2b535a(0x1dc)}},'required':[_0x2b535a(0x55e),_0x2b535a(0xbc9)]};else{let _0x3f7f9b=_0x2b535a(0x1f9)+_0x38bd1e+'\x22';!_0x38bd1e&&(_0x3f7f9b=_0x2b535a(0x73b));switch(_0x1c35ca){case _0x2b535a(0x209):_0x25af3d='สร้างแบบทดสอบปรนัย'+_0x48353a+'\x20'+_0x57987+'\x20ข้อ\x20'+_0x3f7f9b+_0x2b535a(0x3aa)+_0x5bc651+_0x2b535a(0x3f3)+_0x268a8f+'\x20'+simpleMathPrompt,_0x435475={'type':'OBJECT','properties':{'questionText':{'type':_0x2b535a(0x1dc)},'options':{'type':'ARRAY','items':{'type':_0x2b535a(0x1dc)}},'correctAnswerIndex':{'type':_0x2b535a(0xa61)},'explanation':{'type':_0x2b535a(0x1dc)},'imageCode':{'type':_0x2b535a(0x1dc)}},'required':[_0x2b535a(0xc60),'options',_0x2b535a(0x31b),'explanation']};break;case _0x2b535a(0x99c):_0x25af3d=_0x2b535a(0x445)+_0x48353a+'\x20'+_0x57987+'\x20ข้อ\x20'+_0x3f7f9b+_0x2b535a(0xcf8)+_0x5bc651+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x268a8f+'\x20'+simpleMathPrompt,_0x435475={'type':_0x2b535a(0xae2),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x2b535a(0xacd),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x2b535a(0x1dc)},'imageCode':{'type':_0x2b535a(0x1dc)}},'required':[_0x2b535a(0xc60),_0x2b535a(0x72e),_0x2b535a(0x31b),'explanation']};break;case'fill_in_no_choices':_0x25af3d=_0x2b535a(0x445)+_0x48353a+'\x20'+_0x57987+_0x2b535a(0xdc2)+_0x3f7f9b+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20'+_0x268a8f+'\x20'+simpleMathPrompt,_0x435475={'type':'OBJECT','properties':{'questionText':{'type':_0x2b535a(0x1dc)},'idealAnswer':{'type':_0x2b535a(0x1dc)},'explanation':{'type':_0x2b535a(0x1dc)},'imageCode':{'type':_0x2b535a(0x1dc)}},'required':[_0x2b535a(0xc60),_0x2b535a(0x763),'explanation']};break;case _0x2b535a(0x313):_0x25af3d=_0x2b535a(0x3d1)+_0x48353a+'\x20'+_0x57987+_0x2b535a(0xdc2)+_0x3f7f9b+_0x2b535a(0x5b6)+_0x5bc651+_0x2b535a(0x948)+_0x268a8f+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x435475={'type':'OBJECT','properties':{'questionText':{'type':_0x2b535a(0x1dc)},'questionType':{'type':'STRING','enum':[_0x2b535a(0x209),_0x2b535a(0x44a)]},'options':{'type':'ARRAY','items':{'type':_0x2b535a(0x1dc)}},'correctAnswerIndex':{'type':_0x2b535a(0xa61)},'idealAnswer':{'type':_0x2b535a(0x1dc)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x2b535a(0xc60),_0x2b535a(0x55e),_0x2b535a(0xbc9)]};break;case _0x2b535a(0x84a):_0x25af3d=_0x2b535a(0xda4)+_0x48353a+'\x20'+_0x57987+_0x2b535a(0xdc2)+_0x3f7f9b+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x268a8f+'\x20'+simpleMathPrompt,_0x435475={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x2b535a(0x8e1)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2b535a(0x1dc)}},'required':[_0x2b535a(0xc60),_0x2b535a(0x5ec),_0x2b535a(0xbc9)]};break;case'matching':_0x25af3d=_0x2b535a(0x9ba)+_0x48353a+'\x20'+_0x57987+_0x2b535a(0x784)+_0x3f7f9b+_0x2b535a(0x95f)+_0x57987+_0x2b535a(0xc19)+_0x268a8f+'\x20'+simpleMathPrompt,_0x435475={'type':_0x2b535a(0xae2),'properties':{'questionType':{'type':_0x2b535a(0x1dc),'enum':[_0x2b535a(0x2c9)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x2b535a(0x1dc)},'allResponses':{'type':'ARRAY','items':{'type':_0x2b535a(0x1dc)}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionType',_0x2b535a(0x1f4),_0x2b535a(0x77b),'allResponses',_0x2b535a(0xbc9)]};break;}}const _0x280426={'type':_0x2b535a(0xae2),'properties':{'topic':{'type':_0x2b535a(0x1dc)},'questions':{'type':_0x2b535a(0xacd),'items':_0x435475}},'required':[_0x2b535a(0x714),_0x2b535a(0x4f1)]},_0x6c57a2=_0x2b535a(0x258)+_0x25af3d,_0x113fca={'contents':[{'parts':[{'text':_0x6c57a2},{'inlineData':{'mimeType':_0x4291a4,'data':_0x39eb8c}}]}],'generationConfig':{'responseMimeType':_0x2b535a(0x37c),'responseSchema':_0x280426}};return handleApiCall(_0x113fca[_0x2b535a(0x834)][0x0][_0x2b535a(0x87b)],_0x2b535a(0x6a9),_0x280426);}async function handleApiCall(_0x1adc2e,_0x54c5db,_0x50dd18,_0xe808e5=null,_0x3de837=!![],_0x331177=null,_0x4f6b41=null){const _0x572fff=_0x36ca11,_0x2dc6b3=document[_0x572fff(0xde0)](_0x572fff(0xcda)),_0x2712a9=document['getElementById']('loader'),_0x10e2e8=document[_0x572fff(0xde0)]('loader-text'),_0x2ed278=document[_0x572fff(0xde0)](_0x572fff(0xb29));_0x2dc6b3[_0x572fff(0x7cb)][_0x572fff(0x4cd)](_0x572fff(0xaa0));_0xe808e5===null&&_0x3de837&&(_0x2ed278['innerHTML']='');_0x2712a9[_0x572fff(0x7cb)][_0x572fff(0x4cd)](_0x572fff(0xaa0)),_0x10e2e8[_0x572fff(0xb0c)]=_0x54c5db,document[_0x572fff(0xde0)](_0x572fff(0xa9a))[_0x572fff(0xc4f)]=!![],document[_0x572fff(0xde0)](_0x572fff(0xaea))['disabled']=!![],document[_0x572fff(0xde0)](_0x572fff(0x975))['disabled']=!![];const _0x1b64ad=document[_0x572fff(0xde0)](_0x572fff(0x4f8));if(_0x1b64ad)_0x1b64ad['disabled']=!![];const _0x3101cb=document['getElementById'](_0x572fff(0xabe));if(_0x3101cb)_0x3101cb[_0x572fff(0xc4f)]=!![];const _0x37b6e8=document['getElementById'](_0x572fff(0xb28));if(_0x37b6e8)_0x37b6e8[_0x572fff(0xc4f)]=!![];try{const _0x533dae=Array[_0x572fff(0x7e0)](_0x1adc2e)?_0x1adc2e:[{'text':_0x1adc2e}],_0x5669ee={'contents':[{'role':'user','parts':_0x533dae}]};_0x50dd18&&(_0x5669ee[_0x572fff(0xcfc)]={'responseMimeType':'application/json','responseSchema':_0x50dd18});const _0x549475=_0x572fff(0xd2e),_0x175a33='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x549475,_0x5df5ae=await fetch(_0x175a33,{'method':_0x572fff(0xb38),'headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x5669ee)});if(!_0x5df5ae['ok']){const _0xa3206e=await _0x5df5ae[_0x572fff(0x8c0)]();console['error'](_0x572fff(0x4c1),_0xa3206e);throw new Error(_0x572fff(0x4ef)+_0x5df5ae[_0x572fff(0xcb4)]);}const _0x5d3e82=await _0x5df5ae[_0x572fff(0xac6)]();if(!_0x5d3e82[_0x572fff(0x7bf)]||_0x5d3e82[_0x572fff(0x7bf)][_0x572fff(0x9b1)]===0x0){let _0x4abccf=_0x572fff(0x7d3);return _0x5d3e82[_0x572fff(0x9c6)]?.[_0x572fff(0xa94)]&&(_0x4abccf='Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20'+_0x5d3e82[_0x572fff(0x9c6)][_0x572fff(0xa94)]+'.'),console[_0x572fff(0x3c3)](_0x4abccf,JSON['stringify'](_0x5d3e82)),null;}const _0x126f49=_0x5d3e82['candidates'][0x0][_0x572fff(0x3ce)][_0x572fff(0x87b)][0x0][_0x572fff(0x8c0)];if(_0x50dd18){let _0x5ab251=_0x126f49;if(_0x5ab251[_0x572fff(0x277)](_0x572fff(0x61e)))_0x5ab251=_0x5ab251[_0x572fff(0x6eb)](0x7,_0x5ab251[_0x572fff(0x9b1)]-0x3)[_0x572fff(0x3ac)]();else _0x5ab251[_0x572fff(0x277)]('```')&&(_0x5ab251=_0x5ab251[_0x572fff(0x6eb)](0x3,_0x5ab251[_0x572fff(0x9b1)]-0x3)['trim']());let _0x591505=JSON['parse'](_0x5ab251);if(_0x3de837){if(_0xe808e5!==null){}else currentQuizData=_0x591505,displayGeneratedQuiz(currentQuizData,_0x331177,_0x4f6b41);}return _0x591505;}else return _0x126f49;}catch(_0x5a5127){console['error'](_0x572fff(0xcc4),_0x5a5127),showMessage(_0x572fff(0x678)+_0x5a5127['message']);_0x3de837&&(_0x2ed278[_0x572fff(0x2bd)]=_0x572fff(0x5ac));throw _0x5a5127;}finally{_0x2712a9[_0x572fff(0x7cb)]['add'](_0x572fff(0xaa0)),document[_0x572fff(0xde0)](_0x572fff(0xa9a))[_0x572fff(0xc4f)]=![],document[_0x572fff(0xde0)]('generate-from-text-btn')['disabled']=![],document[_0x572fff(0xde0)](_0x572fff(0x975))[_0x572fff(0xc4f)]=![];if(_0x1b64ad)_0x1b64ad[_0x572fff(0xc4f)]=![];if(_0x3101cb)_0x3101cb[_0x572fff(0xc4f)]=![];if(_0x37b6e8)_0x37b6e8[_0x572fff(0xc4f)]=![];}}function exitFullscreen(){const _0xf08781=_0x36ca11;if(document[_0xf08781(0x778)])document[_0xf08781(0x778)]()[_0xf08781(0x23c)](_0x9bdccd=>console[_0xf08781(0x3c3)](_0x9bdccd));else{if(document[_0xf08781(0xd1a)])document[_0xf08781(0xd1a)]();else document['msExitFullscreen']&&document[_0xf08781(0x368)]();}}function enterFullscreen(){const _0x1cad4a=_0x36ca11,_0x514ae2=document['documentElement'];if(_0x514ae2['requestFullscreen'])_0x514ae2['requestFullscreen']()[_0x1cad4a(0x23c)](_0xe4fcc2=>{const _0x10c11d=_0x1cad4a;console[_0x10c11d(0x3c3)](_0x10c11d(0x81a)+_0xe4fcc2[_0x10c11d(0x805)]+'\x20('+_0xe4fcc2[_0x10c11d(0xa69)]+')');});else{if(_0x514ae2[_0x1cad4a(0xced)])_0x514ae2[_0x1cad4a(0xced)]();else _0x514ae2[_0x1cad4a(0xcf0)]&&_0x514ae2[_0x1cad4a(0xcf0)]();}}function handleCheatingEvent(){const _0x3a1122=_0x36ca11;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x3a1122(0x44b),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x3a1122(0xa75)+maxCheatAttempts+_0x3a1122(0x5ab)),document[_0x3a1122(0xde0)](_0x3a1122(0x6fa))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener']('visibilitychange',handleVisibilityChange),document[_0x3a1122(0xb40)](_0x3a1122(0xdad),handleFullscreenChange)):showMessage(_0x3a1122(0x50a)+cheatAttempts+'/'+maxCheatAttempts+_0x3a1122(0x335),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x51deea=_0x36ca11;if(currentMode===_0x51deea(0xbe1)||!isQuizActive)return;if(document['visibilityState']===_0x51deea(0xaa0))handleCheatingEvent();else document[_0x51deea(0xcac)]===_0x51deea(0x357)&&(console[_0x51deea(0x966)](_0x51deea(0x2ff)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x1a75c4=_0x36ca11;if(currentMode===_0x1a75c4(0xbe1)||!isQuizActive)return;!document[_0x1a75c4(0x740)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x51cdc,_0x1dab65=null,_0x4db0da=null){const _0x2ef74e=_0x36ca11,_0x47acee=document[_0x2ef74e(0xde0)](_0x2ef74e(0xb29));let _0x18c972=_0x2ef74e(0xdf5)+_0x51cdc['topic']+_0x2ef74e(0x268);_0x51cdc['questions']['forEach']((_0x1424f2,_0x3248f5)=>{const _0x13ad2c=_0x2ef74e;!_0x1424f2['id']&&(_0x1424f2['id']='q_'+Date['now']()+'_'+_0x3248f5);const _0x238fe2=_0x1424f2[_0x13ad2c(0x55e)]||_0x51cdc[_0x13ad2c(0xcfa)];_0x18c972+=_0x13ad2c(0x2f3)+_0x3248f5+_0x13ad2c(0x259)+_0x3248f5+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x3248f5+_0x13ad2c(0xa23);switch(_0x238fe2){case'matching_item':_0x18c972+=_0x13ad2c(0x654)+_0x3248f5+'\x22>'+(_0x3248f5+0x1)+'.\x20'+_0x1424f2[_0x13ad2c(0x1f4)]+_0x13ad2c(0x472);_0x1424f2[_0x13ad2c(0x5e1)]&&(_0x18c972+='<div\x20id=\x22q-image-container-'+_0x3248f5+_0x13ad2c(0xadf)+_0x1424f2[_0x13ad2c(0x5e1)]+'</div>');_0x18c972+=_0x13ad2c(0x5cb)+_0x3248f5+'\x22>'+_0x1424f2[_0x13ad2c(0x77b)]+_0x13ad2c(0xcd3),_0x18c972+=_0x13ad2c(0x73f)+_0x3248f5+'\x22>'+_0x1424f2[_0x13ad2c(0xbc9)]+_0x13ad2c(0xcd3);break;case _0x13ad2c(0x44a):_0x18c972+=_0x13ad2c(0x654)+_0x3248f5+'\x22>'+(_0x3248f5+0x1)+'.\x20'+_0x1424f2[_0x13ad2c(0xc60)]+_0x13ad2c(0x472);_0x1424f2[_0x13ad2c(0x5e1)]&&(_0x18c972+=_0x13ad2c(0xc37)+_0x3248f5+_0x13ad2c(0xadf)+_0x1424f2[_0x13ad2c(0x5e1)]+_0x13ad2c(0xb49));_0x18c972+=_0x13ad2c(0x551)+_0x3248f5+'\x22>'+_0x1424f2[_0x13ad2c(0x763)]+'</span></div>',_0x18c972+=_0x13ad2c(0x73f)+_0x3248f5+'\x22>'+_0x1424f2['explanation']+_0x13ad2c(0xcd3);break;case'true_false':_0x18c972+=_0x13ad2c(0x654)+_0x3248f5+'\x22>'+(_0x3248f5+0x1)+'.\x20'+_0x1424f2[_0x13ad2c(0xc60)]+_0x13ad2c(0x472);_0x1424f2[_0x13ad2c(0x5e1)]&&(_0x18c972+='<div\x20id=\x22q-image-container-'+_0x3248f5+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x1424f2[_0x13ad2c(0x5e1)]+_0x13ad2c(0xb49));_0x18c972+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x1424f2[_0x13ad2c(0x5ec)]===!![]?'text-green-600\x20font-bold':'')+_0x13ad2c(0x32f)+(_0x1424f2[_0x13ad2c(0x5ec)]===![]?'text-green-600\x20font-bold':'')+_0x13ad2c(0xcd2),_0x18c972+=_0x13ad2c(0x73f)+_0x3248f5+'\x22>'+_0x1424f2[_0x13ad2c(0xbc9)]+_0x13ad2c(0xcd3);break;case'fill_in_the_blank':case _0x13ad2c(0x209):default:_0x18c972+=_0x13ad2c(0x654)+_0x3248f5+'\x22>'+(_0x3248f5+0x1)+'.\x20'+_0x1424f2[_0x13ad2c(0xc60)]+_0x13ad2c(0x472);_0x1424f2[_0x13ad2c(0x5e1)]&&(_0x18c972+='<div\x20id=\x22q-image-container-'+_0x3248f5+_0x13ad2c(0xadf)+_0x1424f2[_0x13ad2c(0x5e1)]+_0x13ad2c(0xb49));_0x18c972+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x3248f5+_0x13ad2c(0x249)+(_0x1424f2[_0x13ad2c(0x72e)]||[])[_0x13ad2c(0xcf7)]((_0x2dcc51,_0x250915)=>_0x13ad2c(0xc2b)+(_0x250915===_0x1424f2['correctAnswerIndex']?_0x13ad2c(0x94b):'')+'\x22>'+_0x2dcc51+_0x13ad2c(0x780))[_0x13ad2c(0xa81)]('')+_0x13ad2c(0x30b),_0x18c972+=_0x13ad2c(0x73f)+_0x3248f5+'\x22>'+_0x1424f2[_0x13ad2c(0xbc9)]+_0x13ad2c(0xcd3);break;}_0x18c972+='</div>';}),_0x18c972+=_0x2ef74e(0x78e),_0x47acee[_0x2ef74e(0x2bd)]=_0x18c972,document[_0x2ef74e(0xbe7)](_0x2ef74e(0xb9e))[_0x2ef74e(0x532)](_0x201def=>_0x201def[_0x2ef74e(0x999)](_0x2ef74e(0x4fc),handleEditQuestion)),document['querySelectorAll']('.regenerate-question-btn')[_0x2ef74e(0x532)](_0x1c2fff=>_0x1c2fff[_0x2ef74e(0x999)](_0x2ef74e(0x4fc),handleRegenerateQuestion)),document[_0x2ef74e(0xde0)]('export-worksheet-pdf-btn')['addEventListener'](_0x2ef74e(0x4fc),exportQuizAsWorksheetPDF),document['getElementById'](_0x2ef74e(0xa64))[_0x2ef74e(0x999)](_0x2ef74e(0x4fc),handleVerifyAnswers);const _0x3a19fa=document[_0x2ef74e(0xde0)](_0x2ef74e(0x4d9));if(_0x3a19fa){const _0x1f159b=_0x1dab65||currentProjectId;_0x3a19fa['addEventListener'](_0x2ef74e(0x4fc),()=>saveQuiz(_0x1f159b,_0x4db0da));}if(window['MathJax'])window[_0x2ef74e(0x9f7)]['typesetPromise']([_0x47acee]);}function handleRegenerateQuestion(_0x320bb6){const _0x40c997=_0x36ca11,_0x3e5023=_0x320bb6['currentTarget'][_0x40c997(0xdcf)]['index'],_0x563ed4=currentQuizData[_0x40c997(0x714)];showMessage(_0x40c997(0xd49)+(parseInt(_0x3e5023)+0x1)+_0x40c997(0x718)),generateQuiz(_0x563ed4,null,parseInt(_0x3e5023));}function getPointerPosition(_0x201d9b,_0x6137ed){const _0x20402a=_0x36ca11,_0x1383c4=_0x201d9b[_0x20402a(0xbab)]();let _0x39f3dd,_0x112327;return _0x6137ed[_0x20402a(0x49a)]&&_0x6137ed[_0x20402a(0x49a)][_0x20402a(0x9b1)]>0x0?(_0x39f3dd=_0x6137ed[_0x20402a(0x49a)][0x0][_0x20402a(0x2b7)],_0x112327=_0x6137ed['touches'][0x0][_0x20402a(0xb64)]):(_0x39f3dd=_0x6137ed[_0x20402a(0x2b7)],_0x112327=_0x6137ed[_0x20402a(0xb64)]),{'x':(_0x39f3dd-_0x1383c4['e'])/_0x1383c4['a'],'y':(_0x112327-_0x1383c4['f'])/_0x1383c4['d']};}function startDrag(_0x2ad916){const _0x3debf8=_0x36ca11;_0x2ad916[_0x3debf8(0x2cb)]==='touchstart'&&_0x2ad916['preventDefault']();const _0x4e851e=_0x2ad916['target'][_0x3debf8(0xd5a)](_0x3debf8(0x253));if(_0x4e851e){draggedSvgElement=_0x4e851e;const _0x5f1bc7=draggedSvgElement[_0x3debf8(0x9e8)],_0xd38ba2=getPointerPosition(_0x5f1bc7,_0x2ad916);svgOffset['x']=_0xd38ba2['x']-parseFloat(draggedSvgElement['getAttributeNS'](null,'x')),svgOffset['y']=_0xd38ba2['y']-parseFloat(draggedSvgElement[_0x3debf8(0xcc7)](null,'y'));}}function calculateItemAnalysis(_0x2f146e,_0xf57d9c){const _0x501d17=_0x36ca11,_0x1b7b75={};if(_0xf57d9c[_0x501d17(0x9b1)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x35574c=[..._0xf57d9c][_0x501d17(0x68d)]((_0x2cb0f0,_0xc641fe)=>{const _0x12c536=_0x501d17,_0x2ef23b=_0xc641fe[_0x12c536(0x7ca)]-_0x2cb0f0[_0x12c536(0x7ca)];if(_0x2ef23b!==0x0)return _0x2ef23b;const _0xcebd16=_0x2cb0f0[_0x12c536(0x96e)]?.['length']||0x1,_0x226b5e=_0xc641fe[_0x12c536(0x96e)]?.[_0x12c536(0x9b1)]||0x1,_0x4c1ff0=_0xcebd16-_0x226b5e;if(_0x4c1ff0!==0x0)return _0x4c1ff0;const _0x4336a7=new Date(_0x2cb0f0['latestSubmittedAt']),_0x5e1502=new Date(_0xc641fe['latestSubmittedAt']),_0x14ea95=_0x4336a7-_0x5e1502;if(_0x14ea95!==0x0)return _0x14ea95;return _0x2cb0f0[_0x12c536(0x955)][_0x12c536(0x262)](_0xc641fe[_0x12c536(0x955)],'th');}),_0x5c4f8e=_0x35574c[_0x501d17(0x9b1)],_0x460b42=Math[_0x501d17(0x2ca)](0x1,Math[_0x501d17(0x8fb)](_0x5c4f8e*0.33));if(_0x460b42===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x2f69b5=_0x35574c[_0x501d17(0x5dc)](0x0,_0x460b42),_0x147491=_0x35574c[_0x501d17(0x5dc)](-_0x460b42),_0x1ced0e=_0x2f69b5[_0x501d17(0xcf7)](_0x3d881c=>_0x3d881c['studentName']),_0x325ed8=_0x147491[_0x501d17(0xcf7)](_0x25a89d=>_0x25a89d[_0x501d17(0x955)]);return _0x2f146e['questions'][_0x501d17(0x532)]((_0x4f5533,_0x333b4b)=>{const _0x3946a8=_0x501d17,_0x485d91=_0x4f5533[_0x3946a8(0x1f4)]||_0x4f5533[_0x3946a8(0xc60)];let _0x1b8c20=0x0,_0x48d744=0x0,_0x56dc95=0x0;const _0x14fb55=[],_0x451b83=[];_0x2f69b5['forEach'](_0x1d1fad=>{const _0x410561=_0x3946a8,_0x497dce=_0x1d1fad[_0x410561(0x96e)][_0x1d1fad[_0x410561(0x96e)]['length']-0x1],_0x46f1be=_0x497dce['answers'][_0x410561(0x349)](_0x59cd83=>_0x59cd83[_0x410561(0x1e3)]===_0x485d91);_0x14fb55[_0x410561(0xc15)]({'name':_0x1d1fad['studentName'],'isCorrect':_0x46f1be?_0x46f1be[_0x410561(0x831)]:![]}),_0x46f1be&&_0x46f1be[_0x410561(0x831)]&&_0x48d744++;}),_0x147491['forEach'](_0x53e6a7=>{const _0x26a423=_0x3946a8,_0x353516=_0x53e6a7[_0x26a423(0x96e)][_0x53e6a7[_0x26a423(0x96e)][_0x26a423(0x9b1)]-0x1],_0x4bf4ca=_0x353516[_0x26a423(0xc95)][_0x26a423(0x349)](_0x49e26d=>_0x49e26d[_0x26a423(0x1e3)]===_0x485d91);_0x451b83[_0x26a423(0xc15)]({'name':_0x53e6a7[_0x26a423(0x955)],'isCorrect':_0x4bf4ca?_0x4bf4ca['isCorrect']:![]}),_0x4bf4ca&&_0x4bf4ca[_0x26a423(0x831)]&&_0x56dc95++;}),_0xf57d9c[_0x3946a8(0x532)](_0x15b02c=>{const _0x4de93a=_0x3946a8,_0x58c7c0=_0x15b02c[_0x4de93a(0x96e)][_0x15b02c[_0x4de93a(0x96e)][_0x4de93a(0x9b1)]-0x1],_0x2350a4=_0x58c7c0[_0x4de93a(0xc95)][_0x4de93a(0x349)](_0xe57a16=>_0xe57a16[_0x4de93a(0x1e3)]===_0x485d91);_0x2350a4&&_0x2350a4[_0x4de93a(0x831)]&&_0x1b8c20++;});const _0x572b7c=_0x5c4f8e>0x0?_0x1b8c20/_0x5c4f8e:0x0,_0x35b2cb=_0x460b42>0x0?_0x48d744/_0x460b42-_0x56dc95/_0x460b42:0x0;_0x1b7b75[_0x333b4b]={'p':_0x572b7c,'r':_0x35b2cb,'upperGroupResponders':_0x14fb55,'lowerGroupResponders':_0x451b83};}),{'perQuestionStats':_0x1b7b75,'overallGroups':{'upperGroupNames':_0x1ced0e,'lowerGroupNames':_0x325ed8}};}function drag(_0x130829){const _0x15e398=_0x36ca11;if(draggedSvgElement){_0x130829[_0x15e398(0x4c8)]();const _0x3ea285=draggedSvgElement[_0x15e398(0x9e8)],_0x448d71=getPointerPosition(_0x3ea285,_0x130829),_0x170fcf=_0x3ea285['viewBox'][_0x15e398(0x49d)];let _0x2be358=_0x448d71['x']-svgOffset['x'],_0x3a3485=_0x448d71['y']-svgOffset['y'];const _0x3c99c1=draggedSvgElement[_0x15e398(0x6b7)]();_0x2be358=Math['max'](_0x170fcf['x'],Math[_0x15e398(0x1ee)](_0x2be358,_0x170fcf['x']+_0x170fcf[_0x15e398(0x875)]-_0x3c99c1['width'])),_0x3a3485=Math['max'](_0x170fcf['y'],Math['min'](_0x3a3485,_0x170fcf['y']+_0x170fcf['height']-_0x3c99c1[_0x15e398(0x5cf)])),draggedSvgElement['setAttributeNS'](null,'x',_0x2be358),draggedSvgElement[_0x15e398(0xc04)](null,'y',_0x3a3485);}}function endDrag(_0x2bf019){draggedSvgElement=null;}function handleSvgEditClick(_0x3af68d){const _0x788a3d=_0x36ca11;if(_0x3af68d[_0x788a3d(0x28a)][_0x788a3d(0x7cb)][_0x788a3d(0xa47)]('delete-svg-btn')){const _0x54a48d=_0x3af68d['target'][_0x788a3d(0xdcf)][_0x788a3d(0xb54)],_0x555c02=_0x3af68d['currentTarget'],_0x902cfc=_0x555c02[_0x788a3d(0xce2)]('#'+_0x54a48d);_0x902cfc&&_0x902cfc['remove'](),_0x3af68d[_0x788a3d(0x28a)][_0x788a3d(0x4cd)]();}}function handleEditQuestion(_0x35045b){const _0x2e834e=_0x36ca11,_0x195bbb=_0x35045b['currentTarget'],_0x391274=_0x195bbb[_0x2e834e(0xdcf)]['index'],_0x23e398=currentQuizData['questions'][_0x391274],_0x25cc67=document['getElementById'](_0x2e834e(0x1f0)+_0x391274),_0x1109b5=document[_0x2e834e(0xde0)](_0x2e834e(0xb77)+_0x391274),_0x2ca3f9=document['getElementById']('q-image-container-'+_0x391274);if(_0x195bbb[_0x2e834e(0x2bd)][_0x2e834e(0xaf6)]('fa-pen')){_0x195bbb['innerHTML']=_0x2e834e(0x7bb),_0x195bbb[_0x2e834e(0x47e)]=_0x2e834e(0x7ae);if(_0x25cc67)_0x25cc67[_0x2e834e(0x21c)]=!![];if(_0x1109b5)_0x1109b5[_0x2e834e(0x21c)]=!![];if(_0x2ca3f9){const _0x56865a=_0x2ca3f9[_0x2e834e(0xce2)](_0x2e834e(0x41a));if(_0x56865a){const _0x508fc4=_0x56865a[_0x2e834e(0xbe7)]('text');_0x508fc4[_0x2e834e(0x532)]((_0x414e06,_0x4e7230)=>{const _0x49a808=_0x2e834e,_0x566284=_0x49a808(0xca7)+_0x391274+'-'+_0x4e7230;_0x414e06['id']=_0x566284,_0x414e06[_0x49a808(0x7cb)][_0x49a808(0x23b)]('draggable-text'),_0x414e06[_0x49a808(0x2fc)]['cursor']='move';const _0x53cdbc=document[_0x49a808(0x267)](_0x49a808(0x874),_0x49a808(0x4b4)),_0x50016d=_0x414e06['getBBox']();_0x53cdbc['setAttribute']('cx',String(_0x50016d['x']+_0x50016d[_0x49a808(0x875)]+0x5)),_0x53cdbc[_0x49a808(0x2c6)]('cy',String(_0x50016d['y']+_0x50016d[_0x49a808(0x5cf)]/0x2-0x5)),_0x53cdbc['setAttribute']('r','5'),_0x53cdbc[_0x49a808(0x2c6)]('fill',_0x49a808(0xb02)),_0x53cdbc['setAttribute'](_0x49a808(0x525),_0x49a808(0x4eb)),_0x53cdbc[_0x49a808(0xdcf)][_0x49a808(0xb54)]=_0x566284,_0x414e06[_0x49a808(0xaeb)](_0x53cdbc);}),_0x56865a['addEventListener'](_0x2e834e(0x759),startDrag),_0x56865a[_0x2e834e(0x999)](_0x2e834e(0x4d1),drag),_0x56865a[_0x2e834e(0x999)](_0x2e834e(0x454),endDrag),_0x56865a[_0x2e834e(0x999)](_0x2e834e(0x2b8),endDrag),_0x56865a['addEventListener'](_0x2e834e(0x600),startDrag,{'passive':![]}),_0x56865a['addEventListener'](_0x2e834e(0x62f),drag,{'passive':![]}),_0x56865a[_0x2e834e(0x999)](_0x2e834e(0x653),endDrag),_0x56865a[_0x2e834e(0x999)](_0x2e834e(0xdeb),endDrag),_0x56865a[_0x2e834e(0x999)](_0x2e834e(0x4fc),handleSvgEditClick);}}if(_0x25cc67)_0x25cc67[_0x2e834e(0x8b9)]();}else{_0x195bbb[_0x2e834e(0x2bd)]=_0x2e834e(0x29b),_0x195bbb['title']='แก้ไขข้อนี้';if(_0x25cc67){_0x25cc67['contentEditable']=![];const _0x326d88=_0x23e398[_0x2e834e(0x55e)]||currentQuizData[_0x2e834e(0xcfa)];_0x326d88===_0x2e834e(0x2c9)?_0x23e398['stem']=_0x25cc67[_0x2e834e(0x639)][_0x2e834e(0x6eb)](_0x25cc67['innerText'][_0x2e834e(0xb0a)]('.')+0x2)[_0x2e834e(0x3ac)]():_0x23e398[_0x2e834e(0xc60)]=_0x25cc67['innerText'][_0x2e834e(0x6eb)](_0x25cc67[_0x2e834e(0x639)][_0x2e834e(0xb0a)]('.')+0x2)['trim']();}_0x1109b5&&(_0x1109b5[_0x2e834e(0x21c)]=![],_0x23e398['explanation']=_0x1109b5[_0x2e834e(0x639)]);if(_0x2ca3f9){const _0x5e89c9=_0x2ca3f9[_0x2e834e(0xce2)](_0x2e834e(0x41a));if(_0x5e89c9){const _0x5bb9b6=_0x5e89c9[_0x2e834e(0x869)](!![]);_0x5bb9b6[_0x2e834e(0xbe7)]('.delete-svg-btn')[_0x2e834e(0x532)](_0x2f695a=>_0x2f695a[_0x2e834e(0x4cd)]()),_0x5bb9b6['querySelectorAll'](_0x2e834e(0x253))['forEach'](_0x2f9c0a=>{const _0x20c432=_0x2e834e;_0x2f9c0a[_0x20c432(0x7cb)][_0x20c432(0x4cd)](_0x20c432(0x2d0)),_0x2f9c0a['style'][_0x20c432(0x3dc)]=_0x20c432(0xd17),_0x2f9c0a[_0x20c432(0x285)]('id');}),_0x23e398['imageCode']=_0x5bb9b6['outerHTML'],_0x5e89c9[_0x2e834e(0xb40)](_0x2e834e(0x759),startDrag),_0x5e89c9['removeEventListener'](_0x2e834e(0x4d1),drag),_0x5e89c9[_0x2e834e(0xb40)](_0x2e834e(0x454),endDrag),_0x5e89c9[_0x2e834e(0xb40)](_0x2e834e(0x2b8),endDrag),_0x5e89c9[_0x2e834e(0xb40)](_0x2e834e(0x600),startDrag),_0x5e89c9[_0x2e834e(0xb40)]('touchmove',drag),_0x5e89c9[_0x2e834e(0xb40)](_0x2e834e(0x653),endDrag),_0x5e89c9[_0x2e834e(0xb40)]('touchcancel',endDrag),_0x5e89c9['removeEventListener'](_0x2e834e(0x4fc),handleSvgEditClick),_0x5e89c9[_0x2e834e(0xbe7)](_0x2e834e(0x5f8))[_0x2e834e(0x532)](_0x20bee3=>_0x20bee3[_0x2e834e(0x4cd)]()),_0x5e89c9[_0x2e834e(0xbe7)](_0x2e834e(0x253))[_0x2e834e(0x532)](_0x5b6261=>{const _0x791867=_0x2e834e;_0x5b6261['classList'][_0x791867(0x4cd)](_0x791867(0x2d0)),_0x5b6261[_0x791867(0x2fc)][_0x791867(0x3dc)]=_0x791867(0xd17);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x2dce1f){const _0x5ef264=_0x36ca11,_0x3e08af=document['getElementById'](_0x5ef264(0x8f3)),_0x4a352a=document['getElementById'](_0x5ef264(0xad5));_0x4a352a[_0x5ef264(0x2bd)]=_0x5ef264(0x702),_0x3e08af[_0x5ef264(0x7cb)][_0x5ef264(0x4cd)]('hidden');try{const _0x547d14=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x2dce1f),_0x4d86f0=await getDoc(_0x547d14);if(!_0x4d86f0[_0x5ef264(0xa40)]())throw new Error(_0x5ef264(0xd6f));currentEditingQuizData={'id':_0x2dce1f,..._0x4d86f0[_0x5ef264(0x518)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x5b10c1){console[_0x5ef264(0x3c3)](_0x5ef264(0x23d),_0x5b10c1),showMessage(_0x5ef264(0xaf7)),_0x3e08af['classList']['add'](_0x5ef264(0xaa0));}}function renderQuizEditor(_0x194d5c){const _0x502faa=_0x36ca11;document['getElementById']('editor-quiz-topic')[_0x502faa(0xd73)]=_0x194d5c[_0x502faa(0x714)];const _0x39ec40=document[_0x502faa(0xde0)](_0x502faa(0xad5));let _0x2f56dc=_0x194d5c[_0x502faa(0x4f1)][_0x502faa(0xcf7)]((_0x46b2c0,_0x3a02d8)=>{const _0x1436f8=_0x502faa;let _0xd86a18='';const _0x230c0b=_0x46b2c0[_0x1436f8(0x55e)]||_0x194d5c[_0x1436f8(0xcfa)];switch(_0x230c0b){case'multiple_choice':const _0x160f0c=(_0x46b2c0['options']||[])[_0x1436f8(0xcf7)]((_0x4ac266,_0x3268c9)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x3a02d8+_0x1436f8(0x4c2)+_0x3268c9+'\x22\x20'+(_0x3268c9===_0x46b2c0[_0x1436f8(0x31b)]?'checked':'')+_0x1436f8(0x439)+_0x4ac266+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');_0xd86a18=_0x1436f8(0xa71)+_0x160f0c+_0x1436f8(0x274);break;case _0x1436f8(0x44a):_0xd86a18=_0x1436f8(0x666)+(_0x46b2c0[_0x1436f8(0x763)]||'')+_0x1436f8(0xb76);break;case _0x1436f8(0x84a):_0xd86a18=_0x1436f8(0x3d5)+_0x3a02d8+'\x22\x20value=\x22true\x22\x20'+(_0x46b2c0[_0x1436f8(0x5ec)]===!![]?_0x1436f8(0x39b):'')+_0x1436f8(0xc1d)+_0x3a02d8+_0x1436f8(0x5ff)+(_0x46b2c0[_0x1436f8(0x5ec)]===![]?_0x1436f8(0x39b):'')+_0x1436f8(0xa77);break;case'matching_item':_0xd86a18=_0x1436f8(0xadd)+(_0x46b2c0['correctResponse']||'')+_0x1436f8(0xc86);break;}let _0x5124e3=_0x46b2c0[_0x1436f8(0xc60)]||_0x46b2c0[_0x1436f8(0x1f4)]||'';return _0x5124e3=_0x5124e3[_0x1436f8(0x918)](/<br\s*\/?>/gi,'\x0a'),_0x1436f8(0x4d8)+_0x3a02d8+_0x1436f8(0x9c7)+_0x230c0b+_0x1436f8(0x9e0)+(_0x3a02d8+0x1)+'\x20('+_0x230c0b+_0x1436f8(0xb2a)+_0x5124e3+_0x1436f8(0x81b)+_0xd86a18+_0x1436f8(0x960);})[_0x502faa(0xa81)]('');_0x39ec40['innerHTML']=_0x2f56dc;const _0x371285=_0x502faa(0x80e);_0x39ec40['insertAdjacentHTML'](_0x502faa(0x5fa),_0x371285),_0x39ec40[_0x502faa(0xbe7)]('.auto-resize-textarea')[_0x502faa(0x532)](_0x25c293=>{const _0x58cb17=_0x502faa;_0x25c293['style'][_0x58cb17(0x87c)]=_0x58cb17(0xaa0),_0x25c293[_0x58cb17(0x2fc)][_0x58cb17(0xb9a)]=_0x58cb17(0x94e),_0x25c293[_0x58cb17(0x8f8)]=0x4;const _0x2fd62e=()=>{const _0x5b6c32=_0x58cb17;_0x25c293[_0x5b6c32(0x2fc)]['height']=_0x5b6c32(0x57b),_0x25c293[_0x5b6c32(0x2fc)][_0x5b6c32(0x5cf)]=_0x25c293[_0x5b6c32(0xb7c)]+'px';};_0x25c293['addEventListener']('input',_0x2fd62e),_0x2fd62e();}),_0x39ec40[_0x502faa(0xbe7)](_0x502faa(0x949))['forEach'](_0x513950=>{const _0x43d6dd=_0x502faa;_0x513950[_0x43d6dd(0x999)](_0x43d6dd(0x4fc),handleAiFixQuestion);});}function handleDeleteQuestionInEditor(_0x37d3f5){const _0x5178a8=_0x36ca11;if(!currentEditingQuizData||!currentEditingQuizData[_0x5178a8(0x4f1)][_0x37d3f5])return;const _0x2af779=currentEditingQuizData[_0x5178a8(0x4f1)][_0x37d3f5][_0x5178a8(0xc60)]||currentEditingQuizData[_0x5178a8(0x4f1)][_0x37d3f5][_0x5178a8(0x1f4)];showConfirmation(_0x5178a8(0x4ff)+(_0x37d3f5+0x1)+_0x5178a8(0x32d)+_0x2af779[_0x5178a8(0x6eb)](0x0,0x14)+_0x5178a8(0x8de),()=>{const _0x43abc8=_0x5178a8;currentEditingQuizData[_0x43abc8(0x4f1)][_0x43abc8(0x5f0)](_0x37d3f5,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x43abc8(0x4ac));});}function handleAddQuestionInEditor(){const _0x4c6185=_0x36ca11;if(!currentEditingQuizData)return;const _0x2e6d72={'id':'q_'+Date[_0x4c6185(0x51b)]()+'_new','questionType':'multiple_choice','questionText':_0x4c6185(0x52f),'options':[_0x4c6185(0x221),_0x4c6185(0x8c8),'ตัวเลือก\x20ค',_0x4c6185(0x54a)],'correctAnswerIndex':0x0,'explanation':'คำอธิบาย...'};currentEditingQuizData[_0x4c6185(0x4f1)]['push'](_0x2e6d72),renderQuizEditor(currentEditingQuizData);const _0x26869c=document['querySelector'](_0x4c6185(0x701));_0x26869c&&(_0x26869c['scrollIntoView']({'behavior':_0x4c6185(0x486),'block':'center'}),_0x26869c[_0x4c6185(0xce2)](_0x4c6185(0x73c))['focus']());}async function handleAiFixQuestion(_0x4c4b9a){const _0x1098a8=_0x36ca11,_0x3e7bbe=_0x4c4b9a[_0x1098a8(0x9a9)],_0x593754=_0x3e7bbe[_0x1098a8(0xd5a)]('.question-editor-item');if(!_0x593754)return;const _0x178256=parseInt(_0x593754[_0x1098a8(0xdcf)]['qIndex'],0xa);if(isNaN(_0x178256)||!currentEditingQuizData[_0x1098a8(0x4f1)][_0x178256]){showMessage(_0x1098a8(0x7e5));return;}const _0x3931a9=currentEditingQuizData[_0x1098a8(0x4f1)][_0x178256];_0x3e7bbe[_0x1098a8(0x2bd)]=_0x1098a8(0x42f),_0x3e7bbe[_0x1098a8(0xc4f)]=!![];const _0x1bf553='\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20'+JSON['stringify'](_0x3931a9)+_0x1098a8(0x5c2);let _0x4ce842;const _0x50146b=_0x3931a9['questionType']||currentEditingQuizData['quizType'];switch(_0x50146b){case'short_answer':_0x4ce842={'type':_0x1098a8(0xae2),'properties':{'questionText':{'type':_0x1098a8(0x1dc)},'idealAnswer':{'type':_0x1098a8(0x1dc)},'explanation':{'type':_0x1098a8(0x1dc)},'imageCode':{'type':'STRING'}},'required':[_0x1098a8(0xc60),_0x1098a8(0x763),'explanation']};break;case _0x1098a8(0x209):default:_0x4ce842={'type':_0x1098a8(0xae2),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x1098a8(0xacd),'items':{'type':_0x1098a8(0x1dc)}},'correctAnswerIndex':{'type':_0x1098a8(0xa61)},'explanation':{'type':_0x1098a8(0x1dc)},'imageCode':{'type':_0x1098a8(0x1dc)}},'required':[_0x1098a8(0xc60),'options','correctAnswerIndex',_0x1098a8(0xbc9)]};break;}try{let _0x2b3182=await callAnalysisApi(_0x1bf553,_0x4ce842);_0x2b3182[_0x1098a8(0x72e)]&&Array['isArray'](_0x2b3182['options'])&&(_0x2b3182[_0x1098a8(0x72e)]=_0x2b3182['options'][_0x1098a8(0xcf7)](_0x509bb4=>typeof _0x509bb4==='string'?_0x509bb4[_0x1098a8(0x918)](/S(\s*[\d_]+?\s*)S/g,_0x1098a8(0x9cd)):_0x509bb4)),_0x3931a9['imageCode']&&_0x3931a9[_0x1098a8(0x5e1)][_0x1098a8(0xaf6)](_0x1098a8(0x77c))&&(_0x2b3182['imageCode']=''),currentEditingQuizData[_0x1098a8(0x4f1)][_0x178256]={..._0x3931a9,..._0x2b3182},renderQuizEditor(currentEditingQuizData),showMessage(_0x1098a8(0x3ca));}catch(_0x4eea77){console['error'](_0x1098a8(0xbad),_0x4eea77),showMessage(_0x1098a8(0x937)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x4ae7c4=_0x36ca11,_0x4a3374=document['getElementById'](_0x4ae7c4(0xd03));_0x4a3374[_0x4ae7c4(0xc4f)]=!![],_0x4a3374[_0x4ae7c4(0x2bd)]=_0x4ae7c4(0x6f6);try{const _0x274650=document[_0x4ae7c4(0xde0)](_0x4ae7c4(0x465))[_0x4ae7c4(0xd73)],_0x4a5398=document['querySelectorAll'](_0x4ae7c4(0x492));let _0x576685=[];const _0x503134=Array[_0x4ae7c4(0x64c)](_0x4a5398)[_0x4ae7c4(0xcf7)]((_0x2339f7,_0x251923)=>{const _0x267388=_0x4ae7c4,_0x3f2d6b=_0x2339f7[_0x267388(0xdcf)][_0x267388(0x75b)],_0x4fc33b=_0x2339f7[_0x267388(0xce2)](_0x267388(0x73c))['value'][_0x267388(0x918)](/\n/g,_0x267388(0x44f));let _0x586c7c={'questionType':_0x3f2d6b};const _0x319d2e=currentEditingQuizData[_0x267388(0x4f1)][_0x251923];switch(_0x3f2d6b){case _0x267388(0x209):_0x586c7c['questionText']=_0x4fc33b;const _0x539f03=_0x2339f7[_0x267388(0xbe7)](_0x267388(0x5bb));_0x586c7c[_0x267388(0x72e)]=Array['from'](_0x539f03)[_0x267388(0xcf7)](_0x333237=>_0x333237[_0x267388(0xd73)]);const _0x1eb5a4=_0x2339f7['querySelector'](_0x267388(0xa86));_0x586c7c[_0x267388(0x31b)]=_0x1eb5a4?parseInt(_0x1eb5a4['value']):0x0;break;case'short_answer':_0x586c7c[_0x267388(0xc60)]=_0x4fc33b,_0x586c7c[_0x267388(0x763)]=_0x2339f7[_0x267388(0xce2)](_0x267388(0xda2))[_0x267388(0xd73)];break;case _0x267388(0x84a):_0x586c7c['questionText']=_0x4fc33b;const _0x2af9f4=_0x2339f7[_0x267388(0xce2)]('input[type=\x22radio\x22]:checked');_0x586c7c[_0x267388(0x5ec)]=_0x2af9f4?_0x2af9f4[_0x267388(0xd73)]==='true':!![];break;case _0x267388(0x2c9):_0x586c7c[_0x267388(0x1f4)]=_0x4fc33b;const _0x700108=_0x2339f7[_0x267388(0xce2)]('.correct-response-input');_0x586c7c[_0x267388(0x77b)]=_0x700108?_0x700108['value']:'',_0x576685[_0x267388(0xc15)](_0x586c7c['correctResponse']);break;default:_0x586c7c[_0x267388(0xc60)]=_0x4fc33b;break;}return{..._0x319d2e,..._0x586c7c};});_0x576685[_0x4ae7c4(0x9b1)]>0x0&&_0x503134[_0x4ae7c4(0x532)](_0x1be4e0=>{const _0x3961aa=_0x4ae7c4;_0x1be4e0[_0x3961aa(0x55e)]==='matching_item'&&(_0x1be4e0[_0x3961aa(0xd55)]=_0x576685);});const _0x519b13=currentEditingQuizData['id'],_0x4e736f=doc(db,_0x4ae7c4(0xdd2)+appId+_0x4ae7c4(0x365),_0x519b13);await updateDoc(_0x4e736f,{'topic':_0x274650,'questions':_0x503134}),document['getElementById'](_0x4ae7c4(0x8f3))['classList']['add']('hidden'),showMessage(_0x4ae7c4(0x36a),()=>initiateReGradeProcess(_0x519b13));}catch(_0x1f9e34){console[_0x4ae7c4(0x3c3)]('Error\x20saving\x20quiz\x20edits:',_0x1f9e34),showMessage(_0x4ae7c4(0x2bc));}finally{_0x4a3374['disabled']=![],_0x4a3374[_0x4ae7c4(0x2bd)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0x2c9bdc){const _0x57cf76=_0x36ca11;showMessage(_0x57cf76(0x5f7));try{const _0x4a5e7c=doc(db,_0x57cf76(0xdd2)+appId+_0x57cf76(0x365),_0x2c9bdc),_0x3cec99=await getDoc(_0x4a5e7c);if(!_0x3cec99[_0x57cf76(0xa40)]())throw new Error(_0x57cf76(0x950));const _0x58423b={'id':_0x2c9bdc,..._0x3cec99[_0x57cf76(0x518)]()},_0x289a18=collection(db,_0x57cf76(0xdd2)+appId+_0x57cf76(0x365),_0x2c9bdc,_0x57cf76(0x29c)),_0x43820e=await getDocs(_0x289a18);if(_0x43820e['empty']){showMessage('ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่');return;}const _0x4daff8=_0x43820e['docs']['map'](_0x435d42=>reGradeSingleSubmission(_0x435d42,_0x58423b));await Promise[_0x57cf76(0x45e)](_0x4daff8);if(_0x58423b['projectId']){const _0x314861=doc(db,_0x57cf76(0xdd2)+appId+_0x57cf76(0x20e),_0x58423b['projectId']),_0x92a66=await getDoc(_0x314861);if(_0x92a66['exists']()&&_0x92a66[_0x57cf76(0x518)]()[_0x57cf76(0xd36)]){const _0x971cee=_0x92a66['data']()[_0x57cf76(0xd36)]['map'](_0x3390ab=>updateStudentProfile(_0x58423b[_0x57cf76(0x264)],_0x3390ab));await Promise[_0x57cf76(0x45e)](_0x971cee);}}showMessage(_0x57cf76(0x690)+_0x43820e[_0x57cf76(0x9a8)]+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x5ce6b9){console['error'](_0x57cf76(0x550),_0x5ce6b9),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x5ce6b9[_0x57cf76(0x805)]);}}async function reGradeSingleSubmission(_0x258c2d,_0x14b253){const _0x25f09c=_0x36ca11,_0x1d8fef=_0x258c2d['data'](),_0x1a6c79=_0x1d8fef['studentName'],_0x297cc0=_0x1d8fef[_0x25f09c(0x96e)]||[],_0x32efd6=[];for(const _0x52bfba of _0x297cc0){let _0x4c43ee=0x0,_0x14976b=[],_0x310911=0x0;const _0x561d60=[];for(const _0x18c2ff of _0x52bfba[_0x25f09c(0xc95)]){let _0x523943;_0x18c2ff[_0x25f09c(0x8cf)]&&(_0x523943=_0x14b253[_0x25f09c(0x4f1)][_0x25f09c(0x349)](_0x258880=>_0x258880['id']===_0x18c2ff['questionId']));!_0x523943&&_0x18c2ff['originalQuestionText']&&(_0x523943=_0x14b253[_0x25f09c(0x4f1)]['find'](_0x282ae4=>(_0x282ae4[_0x25f09c(0x1f4)]||_0x282ae4[_0x25f09c(0xc60)])===_0x18c2ff['originalQuestionText']));let _0x13e221=![];if(_0x523943){const _0x50e1a0=_0x523943[_0x25f09c(0x55e)]||_0x14b253[_0x25f09c(0xcfa)];switch(_0x50e1a0){case _0x25f09c(0x209):if(_0x523943[_0x25f09c(0x72e)]&&_0x523943[_0x25f09c(0x31b)]<_0x523943[_0x25f09c(0x72e)][_0x25f09c(0x9b1)]){const _0x1505a3=_0x523943[_0x25f09c(0x72e)][_0x523943[_0x25f09c(0x31b)]];_0x13e221=_0x18c2ff[_0x25f09c(0xa45)]===_0x1505a3;}break;case _0x25f09c(0x84a):const _0x3a338d=_0x18c2ff['answer']===!![]||_0x18c2ff[_0x25f09c(0x683)]===_0x25f09c(0x3f6);_0x13e221=_0x3a338d===_0x523943['correctAnswer'];break;case _0x25f09c(0x2c9):_0x13e221=_0x18c2ff[_0x25f09c(0x683)]===_0x523943[_0x25f09c(0x77b)];break;case'short_answer':_0x13e221=await gradeShortAnswer(_0x18c2ff[_0x25f09c(0x683)],_0x523943);break;default:_0x13e221=_0x18c2ff[_0x25f09c(0x831)];break;}}if(_0x13e221){_0x4c43ee++,_0x310911++;if(_0x310911===0x3)_0x14976b[_0x25f09c(0xc15)](BADGES[_0x25f09c(0x998)]['id']);}else _0x310911=0x0;_0x561d60[_0x25f09c(0xc15)]({..._0x18c2ff,'isCorrect':_0x13e221});}let _0x4b538f=_0x4c43ee*0xa;_0x4c43ee===_0x14b253[_0x25f09c(0x4f1)][_0x25f09c(0x9b1)]&&(_0x4b538f+=0x32,_0x14976b['push'](BADGES[_0x25f09c(0x1e6)]['id'])),_0x32efd6[_0x25f09c(0xc15)]({..._0x52bfba,'score':_0x4c43ee,'points':_0x4b538f,'badges':Array[_0x25f09c(0x64c)](new Set(_0x14976b)),'answers':_0x561d60});}const _0x274867=_0x32efd6[_0x25f09c(0x9b1)]>0x0?_0x32efd6[0x0][_0x25f09c(0x2ad)]:0x0,_0x48b885=Math[_0x25f09c(0x2ca)](..._0x32efd6[_0x25f09c(0xcf7)](_0x5e77e4=>_0x5e77e4[_0x25f09c(0x2ad)])),_0x6dda5a=_0x32efd6[_0x25f09c(0x9b1)]>0x0?_0x32efd6[_0x32efd6[_0x25f09c(0x9b1)]-0x1][_0x25f09c(0x2ad)]:0x0,_0x52b804=_0x32efd6['length']>0x0?_0x32efd6[_0x32efd6['length']-0x1]['points']:0x0,_0x45eee0=doc(db,_0x25f09c(0xdd2)+appId+_0x25f09c(0xd9a)+_0x14b253['id']+'/submissions',_0x1a6c79);await updateDoc(_0x45eee0,{'attempts':_0x32efd6,'firstScore':_0x274867,'bestScore':_0x48b885,'latestScore':_0x6dda5a,'points':_0x52b804});}function cleanupQuizOptions(_0x5e4ad3){const _0x37a838=_0x36ca11,_0x59a378=(_0x25b0f6,_0x58be13)=>_0x58be13===0x0?_0x25b0f6:_0x59a378(_0x58be13,_0x25b0f6%_0x58be13),_0x4f7a27=_0x4cefc9=>{const _0xe1d9a4=_0x4cf2;if(typeof _0x4cefc9!==_0xe1d9a4(0xa0f))return null;_0x4cefc9=_0x4cefc9[_0xe1d9a4(0x3ac)]();const _0x1af3bf=_0x4cefc9[_0xe1d9a4(0x26b)](/[ /]/)[_0xe1d9a4(0x273)](_0x2910df=>_0x2910df!=='');if(_0x1af3bf['length']===0x3)return parseInt(_0x1af3bf[0x0])+parseInt(_0x1af3bf[0x1])/parseInt(_0x1af3bf[0x2]);else{if(_0x1af3bf[_0xe1d9a4(0x9b1)]===0x2)return parseInt(_0x1af3bf[0x0])/parseInt(_0x1af3bf[0x1]);else{if(_0x1af3bf[_0xe1d9a4(0x9b1)]===0x1&&!isNaN(_0x1af3bf[0x0]))return parseFloat(_0x1af3bf[0x0]);}}return null;},_0x11d2b3=_0x1d9f6e=>{const _0x4d25a5=_0x4cf2;if(typeof _0x1d9f6e!=='string')return _0x1d9f6e;const _0x2d4c53=_0x1d9f6e[_0x4d25a5(0xd1d)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x2d4c53){const _0x59a592=parseInt(_0x2d4c53[0x1]);let _0x49fabb=parseInt(_0x2d4c53[0x2]),_0x10203d=parseInt(_0x2d4c53[0x3]);const _0x520d4e=_0x59a378(_0x49fabb,_0x10203d);_0x49fabb/=_0x520d4e,_0x10203d/=_0x520d4e;if(_0x10203d===0x1)return(_0x59a592+_0x49fabb)[_0x4d25a5(0x460)]();return _0x59a592+'\x20'+_0x49fabb+'/'+_0x10203d;}return _0x1d9f6e;};return _0x5e4ad3&&_0x5e4ad3[_0x37a838(0x4f1)]&&_0x5e4ad3[_0x37a838(0x4f1)][_0x37a838(0x532)](_0x18a5ae=>{const _0xe05ded=_0x37a838;if(_0x18a5ae['questionType']===_0xe05ded(0x209)&&_0x18a5ae[_0xe05ded(0x72e)]){const _0x5ad224=new Map(),_0x4f8725=_0x18a5ae[_0xe05ded(0x72e)][_0x18a5ae[_0xe05ded(0x31b)]];_0x18a5ae[_0xe05ded(0x72e)][_0xe05ded(0x532)](_0x37fe08=>{const _0x2b67c9=_0xe05ded,_0x2e5385=_0x11d2b3(_0x37fe08),_0x1a2127=_0x4f7a27(_0x2e5385);_0x1a2127!==null&&!_0x5ad224[_0x2b67c9(0x5e3)](_0x1a2127)&&_0x5ad224['set'](_0x1a2127,_0x2e5385);}),_0x18a5ae[_0xe05ded(0x72e)]=Array[_0xe05ded(0x64c)](_0x5ad224[_0xe05ded(0x976)]());const _0x498cf9=_0x18a5ae[_0xe05ded(0x72e)][_0xe05ded(0x1fd)](_0x25b7b6=>_0x25b7b6===_0x11d2b3(_0x4f8725));_0x18a5ae[_0xe05ded(0x31b)]=_0x498cf9!==-0x1?_0x498cf9:0x0;}}),_0x5e4ad3;}function showGameStartConfirmationModal(_0x790461,_0x2b4b92,_0x35c5b6){const _0x3631ae=_0x36ca11,_0x303fe2=document[_0x3631ae(0xde0)](_0x3631ae(0x942));document['getElementById'](_0x3631ae(0xd8e))[_0x3631ae(0xb0c)]=_0x3631ae(0x2f5)+_0x35c5b6,document[_0x3631ae(0xde0)](_0x3631ae(0x558))[_0x3631ae(0xd73)]=_0x790461,document[_0x3631ae(0xde0)](_0x3631ae(0xa79))['value']=_0x2b4b92,document[_0x3631ae(0xde0)](_0x3631ae(0x752))[_0x3631ae(0x39b)]=!![];const _0x5a939a=document[_0x3631ae(0xde0)](_0x3631ae(0x48d)),_0x2d9a8a=document[_0x3631ae(0xde0)](_0x3631ae(0x660)),_0x29eba7=document[_0x3631ae(0xde0)](_0x3631ae(0x9ea));_0x2b4b92==='sync'?(_0x5a939a['classList'][_0x3631ae(0x4cd)]('hidden'),document[_0x3631ae(0xce2)](_0x3631ae(0x898))['checked']=!![],_0x2d9a8a[_0x3631ae(0x39b)]=!![],_0x29eba7[_0x3631ae(0x7cb)]['remove'](_0x3631ae(0xaa0)),document[_0x3631ae(0xde0)](_0x3631ae(0x85c))[_0x3631ae(0xd73)]=_0x3631ae(0x266)):(_0x5a939a[_0x3631ae(0x7cb)][_0x3631ae(0x23b)]('hidden'),_0x2d9a8a['checked']=![],_0x29eba7[_0x3631ae(0x7cb)][_0x3631ae(0x23b)](_0x3631ae(0xaa0))),_0x303fe2['classList'][_0x3631ae(0x4cd)]('hidden');}async function saveGameResultsAsSubmissions(_0x150322){const _0x439987=_0x36ca11;console[_0x439987(0x966)](_0x439987(0x588),_0x150322);const _0xc3dc1e=_0x150322['quizId'];let _0x2f349d=[];if(_0x150322['players'])_0x2f349d=Object[_0x439987(0xd3b)](_0x150322['players'])[_0x439987(0xcf7)](([_0x595bdc,_0x5b2dec])=>({'name':_0x595bdc,..._0x5b2dec}));else{if(_0x150322[_0x439987(0xc76)])Object[_0x439987(0x976)](_0x150322[_0x439987(0xc76)])['forEach'](_0x30d9e2=>{const _0x1019ca=_0x439987;_0x30d9e2[_0x1019ca(0x840)][_0x1019ca(0x532)](_0x2c9f1d=>{const _0x376850=_0x1019ca;_0x2f349d[_0x376850(0xc15)]({'name':_0x2c9f1d,'score':_0x30d9e2[_0x376850(0x2ad)],'answers':_0x30d9e2[_0x376850(0xc95)]});});});else _0x150322[_0x439987(0xb84)]&&Object['entries'](_0x150322[_0x439987(0xb84)])['forEach'](([_0x279370,_0xcf9aa1])=>{const _0x1d8c03=_0x439987;_0x2f349d[_0x1d8c03(0xc15)]({'name':_0x279370,..._0xcf9aa1});});}if(_0x2f349d[_0x439987(0x9b1)]===0x0){console[_0x439987(0x966)](_0x439987(0x750));return;}const _0xf68156=_0x150322['shuffledQuiz']?.[_0x439987(0x4f1)][_0x439987(0x9b1)]||currentQuizData[_0x439987(0x4f1)][_0x439987(0x9b1)],_0x161b0b=writeBatch(db);for(const _0xbb2e88 of _0x2f349d){const _0x442792=doc(db,_0x439987(0xdd2)+appId+'/public/data/quizzes/'+_0xc3dc1e+_0x439987(0x316),_0xbb2e88['name']),_0x4c70ec=(_0xbb2e88[_0x439987(0xc95)]||[])[_0x439987(0x273)](_0x55ab25=>_0x55ab25[_0x439987(0x831)])[_0x439987(0x9b1)];let _0x2ee9a9=_0x4c70ec;_0x150322[_0x439987(0x382)]&&_0xbb2e88[_0x439987(0xc95)]&&_0xbb2e88['answers'][_0x439987(0x532)](_0x1c1f0e=>{const _0x4cf730=_0x439987;if(_0x1c1f0e[_0x4cf730(0x831)]&&(_0x1c1f0e[_0x4cf730(0x50c)]===!![]||_0x1c1f0e['wasConfident']===_0x4cf730(0xd7e)))_0x2ee9a9+=0x1;else!_0x1c1f0e[_0x4cf730(0x831)]&&(_0x1c1f0e[_0x4cf730(0x50c)]===!![]||_0x1c1f0e[_0x4cf730(0x50c)]==='confident')&&(_0x2ee9a9-=0x1);});_0xf68156>0x0&&_0x4c70ec===_0xf68156&&(_0x2ee9a9+=0x1);const _0x546a61={'score':_0x4c70ec,'points':_0x2ee9a9,'badges':_0xbb2e88[_0x439987(0x994)]||[],'submittedAt':new Date()[_0x439987(0x8b8)](),'answers':(_0xbb2e88[_0x439987(0xc95)]||[])[_0x439987(0xcf7)](_0x17a4b0=>({'questionId':_0x17a4b0[_0x439987(0x8cf)],'answer':_0x17a4b0[_0x439987(0x683)],'answerText':_0x17a4b0[_0x439987(0xa45)],'isCorrect':_0x17a4b0[_0x439987(0x831)],'originalQuestionText':_0x17a4b0[_0x439987(0x1e3)],'wasConfident':_0x17a4b0[_0x439987(0x50c)]}))},_0x3980f9=await getDoc(_0x442792),_0x40b726=_0x3980f9['exists']()?_0x3980f9[_0x439987(0x518)]():{},_0x94cb58=_0x40b726[_0x439987(0xc6e)]||0x0,_0x2ac9f8=_0x40b726[_0x439987(0x96e)]||[],_0xf30aba={'studentName':_0xbb2e88[_0x439987(0xa69)],'totalQuestions':_0xf68156,'attempts':arrayUnion(_0x546a61),'latestScore':_0x4c70ec,'points':_0x2ee9a9,'latestSubmittedAt':_0x546a61[_0x439987(0x99e)],'bestScore':Math[_0x439987(0x2ca)](_0x94cb58,_0x4c70ec),'firstScore':_0x2ac9f8[_0x439987(0x9b1)]===0x0?_0x4c70ec:_0x40b726[_0x439987(0x638)]||0x0};_0x161b0b[_0x439987(0x2ce)](_0x442792,_0xf30aba,{'merge':!![]});}try{await _0x161b0b[_0x439987(0xda0)](),showMessage(_0x439987(0xb5a)+_0x2f349d[_0x439987(0x9b1)]+_0x439987(0x791));const _0x238032=_0x150322['shuffledQuiz']?.['projectId']||currentQuizData?.[_0x439987(0x264)]||currentProjectId;if(_0x238032){const _0x3c4706=[...new Set(_0x2f349d[_0x439987(0xcf7)](_0x5c7cbd=>_0x5c7cbd[_0x439987(0xa69)]))];for(const _0x4c4b67 of _0x3c4706){await updateStudentProfile(_0x238032,_0x4c4b67);}}}catch(_0x12d539){console[_0x439987(0x3c3)](_0x439987(0x4a7),_0x12d539),showMessage(_0x439987(0x6e8));}}async function saveQuiz(_0x1ec18e=null,_0x238616=null){const _0x571c31=_0x36ca11,_0x1a1127=_0x1ec18e||currentProjectId;if(!_0x1a1127){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x571c31(0x4f1)]||!userId){showMessage(_0x571c31(0x2d1));return;}const _0x53dc0f=document[_0x571c31(0xde0)](_0x571c31(0x4d9));_0x53dc0f['disabled']=!![],_0x53dc0f['innerHTML']=_0x571c31(0x6f6);const _0x3f5194=document[_0x571c31(0xde0)](_0x571c31(0x6e2))[_0x571c31(0x39b)];let _0x11f44c=document[_0x571c31(0xde0)](_0x571c31(0xb92))[_0x571c31(0x639)][_0x571c31(0x3ac)]();_0x3f5194&&!_0x11f44c[_0x571c31(0x277)](_0x571c31(0x33d))&&(_0x11f44c=_0x571c31(0xc66)+_0x11f44c);try{const _0x5a03d6={'resultsDisplay':document[_0x571c31(0xde0)](_0x571c31(0xde7))[_0x571c31(0xd73)],'shuffle':document[_0x571c31(0xde0)](_0x571c31(0x6ba))[_0x571c31(0xd73)],'timerMode':document['getElementById'](_0x571c31(0x8b3))['value'],'timerDuration':parseInt(document[_0x571c31(0xde0)]('timer-duration-input')[_0x571c31(0xd73)])||0xa,'passingScore':parseInt(document[_0x571c31(0xde0)](_0x571c31(0x286))[_0x571c31(0xd73)])||0x0,'isAdaptive':document['getElementById'](_0x571c31(0x988))['checked'],'loopUntilPass':document[_0x571c31(0xde0)](_0x571c31(0xb7e))[_0x571c31(0x39b)]},_0x151e8d=(currentQuizData[_0x571c31(0x4f1)]||[])[_0x571c31(0xcf7)]((_0x17ce81,_0x8c4d75)=>{const _0x2573a8=_0x571c31,_0x509a5d=document[_0x2573a8(0xde0)]('quiz-type-select')[_0x2573a8(0xd73)],_0x3274e0={'id':'q_'+Date['now']()+'_'+_0x8c4d75,'questionText':_0x17ce81[_0x2573a8(0xc60)]||'','explanation':_0x17ce81['explanation']||'ไม่มีคำอธิบาย','questionType':_0x17ce81[_0x2573a8(0x55e)]||_0x509a5d,'imageCode':_0x17ce81[_0x2573a8(0x5e1)]||null};return(_0x3274e0[_0x2573a8(0x55e)]===_0x2573a8(0x209)||_0x3274e0[_0x2573a8(0x55e)]==='fill_in_with_choices'||_0x3274e0['questionType']===_0x2573a8(0x313)&&_0x17ce81[_0x2573a8(0x72e)])&&(_0x3274e0['options']=_0x17ce81[_0x2573a8(0x72e)]||[],_0x3274e0[_0x2573a8(0x31b)]=_0x17ce81[_0x2573a8(0x31b)]!==undefined?_0x17ce81[_0x2573a8(0x31b)]:0x0),(_0x3274e0[_0x2573a8(0x55e)]==='short_answer'||_0x3274e0['questionType']===_0x2573a8(0x38e)||_0x3274e0[_0x2573a8(0x55e)]==='mixed'&&_0x17ce81[_0x2573a8(0x763)])&&(_0x3274e0[_0x2573a8(0x763)]=_0x17ce81[_0x2573a8(0x763)]||''),_0x3274e0[_0x2573a8(0x55e)]===_0x2573a8(0x84a)&&(_0x3274e0[_0x2573a8(0x5ec)]=_0x17ce81[_0x2573a8(0x5ec)]===!![]),_0x3274e0[_0x2573a8(0x55e)]==='matching_item'&&(_0x3274e0[_0x2573a8(0x1f4)]=_0x17ce81[_0x2573a8(0x1f4)]||'',_0x3274e0[_0x2573a8(0x77b)]=_0x17ce81[_0x2573a8(0x77b)]||'',_0x3274e0[_0x2573a8(0xd55)]=_0x17ce81[_0x2573a8(0xd55)]||[]),_0x3274e0;}),_0x1832aa={'topic':_0x11f44c,'quizType':currentQuizData[_0x571c31(0xcfa)]||_0x571c31(0x209),'questions':_0x151e8d,'projectId':_0x1a1127,'createdBy':userId,'createdAt':new Date()[_0x571c31(0x8b8)](),'status':_0x571c31(0x742),'settings':_0x5a03d6,'quizMode':_0x3f5194?_0x571c31(0x730):_0x571c31(0x7df),'pairedQuizId':null,'lessonPlan':null};let _0x34e961;while(!![]){_0x34e961=Math['floor'](0x3e8+Math[_0x571c31(0xdd3)]()*0x2328)[_0x571c31(0x460)]();const _0x3fcb97=await getDoc(doc(db,_0x571c31(0xdd2)+appId+_0x571c31(0x365),_0x34e961));if(!_0x3fcb97['exists']())break;}await setDoc(doc(db,_0x571c31(0xdd2)+appId+_0x571c31(0x365),_0x34e961),_0x1832aa);if(_0x238616&&currentBlueprintProjectId){console[_0x571c31(0x966)]('Auto-linking\x20new\x20quiz\x20'+_0x34e961+_0x571c31(0x5b2)+_0x238616);try{const _0x477d27=doc(db,_0x571c31(0xdd2)+appId+_0x571c31(0x2ba),currentBlueprintProjectId);await updateDoc(_0x477d27,{[_0x571c31(0xd96)+_0x238616+_0x571c31(0x7c4)]:arrayUnion(_0x34e961)});}catch(_0xf3ca3b){console[_0x571c31(0x3c3)](_0x571c31(0xc7f),_0xf3ca3b);}}currentQuizData['settings']=_0x5a03d6,currentQuizData['id']=_0x34e961;const _0x1b6f22=document[_0x571c31(0xde0)](_0x571c31(0xc93));_0x1b6f22[_0x571c31(0x2bd)]=_0x571c31(0xd9c)+_0x34e961+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document[_0x571c31(0xde0)]('copy-quiz-id-btn')[_0x571c31(0x999)](_0x571c31(0x4fc),()=>copyTextToClipboard(_0x34e961,_0x571c31(0x2c4))),document[_0x571c31(0xde0)](_0x571c31(0x3e1))[_0x571c31(0x999)](_0x571c31(0x4fc),()=>handleStartLiveRace(_0x34e961)),document[_0x571c31(0xde0)](_0x571c31(0x48a))[_0x571c31(0x999)](_0x571c31(0x4fc),()=>startPresentation(currentQuizData)),document[_0x571c31(0xde0)]('admin-try-quiz-btn')[_0x571c31(0x999)](_0x571c31(0x4fc),startAdminTest),showMessage(_0x571c31(0x79c));}catch(_0xa71a87){console[_0x571c31(0x3c3)](_0x571c31(0xa38),_0xa71a87),showMessage(_0x571c31(0x91a));}finally{_0x53dc0f[_0x571c31(0xc4f)]=![],_0x53dc0f[_0x571c31(0x2bd)]=_0x571c31(0x42c);}}function promptForProjectAndSave(){const _0x3ac523=_0x36ca11,_0x16dab9=document[_0x3ac523(0xde0)]('move-quiz-modal'),_0x36ab29=document[_0x3ac523(0xde0)](_0x3ac523(0x70b)),_0x21f537=_0x16dab9[_0x3ac523(0xce2)]('h3'),_0x249cef=document[_0x3ac523(0xde0)](_0x3ac523(0xb8c));_0x21f537[_0x3ac523(0xb0c)]='เลือกโปรเจคเพื่อบันทึก',_0x249cef[_0x3ac523(0xb0c)]=_0x3ac523(0xd3a);allProjects[_0x3ac523(0x9b1)]===0x0?(_0x36ab29['innerHTML']='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0x249cef[_0x3ac523(0xc4f)]=!![]):(_0x36ab29[_0x3ac523(0x2bd)]=allProjects['map'](_0x2cdf71=>'<option\x20value=\x22'+_0x2cdf71['id']+'\x22>'+_0x2cdf71['projectName']+_0x3ac523(0x728))[_0x3ac523(0xa81)](''),_0x249cef[_0x3ac523(0xc4f)]=![]);_0x16dab9[_0x3ac523(0x7cb)][_0x3ac523(0x4cd)](_0x3ac523(0xaa0));const _0x225c99=()=>{const _0x1f878a=_0x3ac523,_0x3bc0a9=_0x36ab29[_0x1f878a(0xd73)];_0x3bc0a9?(currentProjectId=_0x3bc0a9,_0x16dab9['classList'][_0x1f878a(0x23b)](_0x1f878a(0xaa0)),saveQuiz(),_0x21f537['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x249cef['textContent']=_0x1f878a(0x31f),_0x249cef[_0x1f878a(0xb40)]('click',_0x225c99),_0x249cef[_0x1f878a(0x999)](_0x1f878a(0x4fc),confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x249cef[_0x3ac523(0xb40)](_0x3ac523(0x4fc),confirmMoveQuiz),_0x249cef[_0x3ac523(0x999)](_0x3ac523(0x4fc),_0x225c99);}function copyTextToClipboard(_0x26464a,_0x273ab5){const _0x7aa738=_0x36ca11,_0x48c755=document[_0x7aa738(0x78d)](_0x7aa738(0x73c));_0x48c755[_0x7aa738(0xd73)]=_0x26464a,_0x48c755[_0x7aa738(0x2fc)]['position']=_0x7aa738(0xdc4),_0x48c755[_0x7aa738(0x2fc)][_0x7aa738(0x276)]='0',document['body'][_0x7aa738(0x9b9)](_0x48c755),_0x48c755[_0x7aa738(0x8b9)](),_0x48c755[_0x7aa738(0xb50)]();try{const _0x469ccd=document['execCommand']('copy');showMessage(_0x469ccd?_0x273ab5:_0x7aa738(0x348));}catch(_0x1be252){showMessage(_0x7aa738(0x348)),console[_0x7aa738(0x3c3)](_0x7aa738(0x8da),_0x1be252);}document[_0x7aa738(0x6c6)][_0x7aa738(0x7b0)](_0x48c755);}function listenForProjectQuizzes(_0x1cbf3d){const _0x2d29fe=_0x36ca11,_0x4936f9=collection(db,_0x2d29fe(0xdd2)+appId+'/public/data/quizzes'),_0x131818=query(_0x4936f9,where(_0x2d29fe(0x264),'==',_0x1cbf3d));unsubscribeQuizzesListener=onSnapshot(_0x131818,async _0xd27beb=>{const _0x4f5b06=_0x2d29fe;allQuizzes=_0xd27beb[_0x4f5b06(0x309)][_0x4f5b06(0xcf7)](_0x5f5653=>({'id':_0x5f5653['id'],..._0x5f5653[_0x4f5b06(0x518)]()})),renderQuizzes();},_0x31de75=>{const _0x3fffea=_0x2d29fe;console[_0x3fffea(0x3c3)]('Error\x20fetching\x20project\x20quizzes:',_0x31de75),document[_0x3fffea(0xde0)]('project-quizzes-list')['innerHTML']=_0x3fffea(0xc82);});}async function renderQuizzes(){const _0x5b5eaf=_0x36ca11,_0x14ae8d=document[_0x5b5eaf(0xde0)](_0x5b5eaf(0xd64)),_0x1fef3e=document[_0x5b5eaf(0xde0)]('quiz-search-input')[_0x5b5eaf(0xd73)]['toLowerCase']();let _0x45ed67;currentProjectId==='starred'?_0x45ed67=starredQuizzes:_0x45ed67=allQuizzes;let _0x58421e=_0x45ed67[_0x5b5eaf(0x273)](_0x3dab88=>_0x3dab88[_0x5b5eaf(0x714)][_0x5b5eaf(0x442)]()[_0x5b5eaf(0xaf6)](_0x1fef3e));_0x58421e['sort']((_0x4b8ad7,_0x340f30)=>new Date(_0x340f30['createdAt'])-new Date(_0x4b8ad7[_0x5b5eaf(0x8ae)]));if(_0x58421e[_0x5b5eaf(0x9b1)]===0x0){_0x14ae8d['innerHTML']=_0x5b5eaf(0xb14);return;}const _0x2ee1e7={},_0x6dcb0=_0x58421e['map'](async _0xb50d23=>{const _0x5dc8ff=_0x5b5eaf,_0x3984ed=collection(db,_0x5dc8ff(0xdd2)+appId+_0x5dc8ff(0xd9a)+_0xb50d23['id']+_0x5dc8ff(0x316)),_0x313b83=await getDocs(_0x3984ed);_0x2ee1e7[_0xb50d23['id']]=_0x313b83['size'];});await Promise[_0x5b5eaf(0x45e)](_0x6dcb0);let _0x39ce85='';_0x58421e[_0x5b5eaf(0x532)](_0x40a13f=>{const _0x5ad1d9=_0x5b5eaf,_0x185ac2=_0x2ee1e7[_0x40a13f['id']]||0x0,_0x43bde7=_0x40a13f[_0x5ad1d9(0xcb4)]||'active',_0x1e16b8=_0x40a13f[_0x5ad1d9(0x695)]?.[_0x5ad1d9(0xcdb)]||'none';let _0x179660='',_0x46b82f='';const _0xdb8f49=new Date();let _0x6328a9=_0x43bde7;if(_0x43bde7===_0x5ad1d9(0x6d7)){const _0x3fd39c=_0x40a13f[_0x5ad1d9(0x47b)]?new Date(_0x40a13f[_0x5ad1d9(0x47b)]):null,_0x562695=_0x40a13f['endTime']?new Date(_0x40a13f[_0x5ad1d9(0x2b1)]):null;if(_0x562695&&_0xdb8f49>_0x562695)_0x6328a9=_0x5ad1d9(0x7d4);else _0x3fd39c&&_0xdb8f49<_0x3fd39c?_0x6328a9=_0x5ad1d9(0x1f7):_0x6328a9=_0x5ad1d9(0x742);}switch(_0x6328a9){case _0x5ad1d9(0x7d4):_0x179660='ปิดใช้งาน',_0x46b82f='text-red-700\x20bg-red-100';break;case _0x5ad1d9(0x1f7):_0x179660=_0x5ad1d9(0x519),_0x46b82f='text-blue-700\x20bg-blue-100';break;case'active':_0x179660=_0x1e16b8!==_0x5ad1d9(0x2b2)?'เปิด\x20(จับเวลา)':_0x5ad1d9(0x541),_0x46b82f=_0x5ad1d9(0x829);break;default:_0x179660=_0x5ad1d9(0x22d),_0x46b82f='text-green-700\x20bg-green-100';break;}let _0x1da504='';const _0x2209a4={'day':'2-digit','month':_0x5ad1d9(0x90f),'year':_0x5ad1d9(0x64d),'hour':_0x5ad1d9(0x90f),'minute':_0x5ad1d9(0x90f),'hour12':![]};if(_0x43bde7===_0x5ad1d9(0x6d7)){if(_0x40a13f['startTime'])_0x1da504+=_0x5ad1d9(0x5a3)+new Date(_0x40a13f[_0x5ad1d9(0x47b)])[_0x5ad1d9(0xb91)](_0x5ad1d9(0x80b),_0x2209a4)+_0x5ad1d9(0x472);if(_0x40a13f['endTime'])_0x1da504+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x40a13f[_0x5ad1d9(0x2b1)])[_0x5ad1d9(0xb91)]('th-TH',_0x2209a4)+'</p>';}let _0x2683ce='';if(_0x40a13f[_0x5ad1d9(0x3ad)]){const _0x1b2e04=allQuizzes['find'](_0x3b3be6=>_0x3b3be6['id']===_0x40a13f[_0x5ad1d9(0x3ad)]);if(_0x1b2e04){let _0x4b7052,_0x5cb099;new Date(_0x40a13f[_0x5ad1d9(0x8ae)])<new Date(_0x1b2e04['createdAt'])?(_0x4b7052=_0x40a13f['id'],_0x5cb099=_0x1b2e04['id']):(_0x4b7052=_0x1b2e04['id'],_0x5cb099=_0x40a13f['id']),_0x2683ce+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5cb099+'\x22\x20data-pre-test-id=\x22'+_0x4b7052+_0x5ad1d9(0xbc7);}}else _0x40a13f['quizMode']===_0x5ad1d9(0x730)&&(_0x2683ce+=_0x5ad1d9(0xaae)+_0x40a13f['id']+_0x5ad1d9(0x503));if(_0x40a13f[_0x5ad1d9(0x8e5)]===_0x5ad1d9(0x730)&&_0x185ac2>0x0)_0x2683ce+=_0x5ad1d9(0xaae)+_0x40a13f['id']+_0x5ad1d9(0x992);else!_0x40a13f[_0x5ad1d9(0x3ad)]&&_0x40a13f[_0x5ad1d9(0x8e5)]!==_0x5ad1d9(0x730)&&_0x185ac2>0x0&&(_0x2683ce+=_0x5ad1d9(0xaae)+_0x40a13f['id']+_0x5ad1d9(0x6b9));let _0x3f0fce='';_0x40a13f['pairedQuizId']?_0x3f0fce=_0x5ad1d9(0x483)+_0x40a13f['id']+_0x5ad1d9(0x790):_0x3f0fce=_0x5ad1d9(0x483)+_0x40a13f['id']+_0x5ad1d9(0xb6b),_0x39ce85+=_0x5ad1d9(0xc12)+_0x40a13f['id']+_0x5ad1d9(0x93d)+_0x40a13f[_0x5ad1d9(0x714)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x40a13f[_0x5ad1d9(0x4f1)][_0x5ad1d9(0x9b1)]+_0x5ad1d9(0x71f)+new Date(_0x40a13f[_0x5ad1d9(0x8ae)])[_0x5ad1d9(0xb91)](_0x5ad1d9(0x80b))+_0x5ad1d9(0x66b)+_0x185ac2+_0x5ad1d9(0x4e4)+_0x1da504+_0x5ad1d9(0xdc5)+_0x46b82f+'\x22>'+_0x179660+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x40a13f['id']+_0x5ad1d9(0x757)+_0x40a13f['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x40a13f[_0x5ad1d9(0x441)]?'fas\x20fa-star\x20text-yellow-500':'far\x20fa-star')+_0x5ad1d9(0x2aa)+_0x2683ce+_0x5ad1d9(0xd6d)+_0x40a13f['id']+_0x5ad1d9(0x9a5)+_0x40a13f['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x40a13f['id']+_0x5ad1d9(0xc94)+_0x40a13f['id']+_0x5ad1d9(0x34e)+_0x40a13f['id']+_0x5ad1d9(0x1df)+_0x40a13f['id']+_0x5ad1d9(0xc7b)+_0x40a13f['id']+_0x5ad1d9(0x71c)+_0x40a13f[_0x5ad1d9(0x714)]+_0x5ad1d9(0x2da)+_0x40a13f['id']+_0x5ad1d9(0x22b)+_0x40a13f['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3f0fce+_0x5ad1d9(0x3f4)+_0x40a13f['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x40a13f['id']+_0x5ad1d9(0x6a7)+_0x40a13f['id']+_0x5ad1d9(0xb44)+_0x40a13f['id']+_0x5ad1d9(0xd4f)+_0x40a13f['id']+_0x5ad1d9(0x85f)+_0x40a13f['id']+_0x5ad1d9(0xd51)+_0x40a13f['id']+_0x5ad1d9(0x838)+_0x40a13f['id']+_0x5ad1d9(0x71c)+_0x40a13f[_0x5ad1d9(0x714)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22'+_0x40a13f['id']+_0x5ad1d9(0xac7);}),_0x14ae8d[_0x5b5eaf(0x2bd)]=_0x39ce85,document[_0x5b5eaf(0xbe7)](_0x5b5eaf(0x1f8))[_0x5b5eaf(0x532)](_0x70e5ed=>{const _0x1446f1=_0x5b5eaf;_0x70e5ed[_0x1446f1(0x999)]('click',()=>{const _0x21e7d1=_0x1446f1,_0x4633e8=_0x70e5ed[_0x21e7d1(0xdcf)][_0x21e7d1(0x935)];showQuizDetailView(_0x4633e8);});});}async function handleUnpairQuiz(_0x33f875){const _0x280785=_0x36ca11,_0x1ac81b=allQuizzes['find'](_0x2eddaa=>_0x2eddaa['id']===_0x33f875);if(!_0x1ac81b||!_0x1ac81b[_0x280785(0x3ad)]){showMessage(_0x280785(0x83b));return;}showConfirmation(_0x280785(0x7a6),async()=>{const _0x1ff759=_0x280785;try{const _0x2d3182=doc(db,_0x1ff759(0xdd2)+appId+_0x1ff759(0x365),_0x33f875),_0x50328d=doc(db,_0x1ff759(0xdd2)+appId+_0x1ff759(0x365),_0x1ac81b[_0x1ff759(0x3ad)]),_0x302c11=writeBatch(db);_0x302c11['update'](_0x2d3182,{'pairedQuizId':null}),_0x302c11[_0x1ff759(0x991)](_0x50328d,{'pairedQuizId':null}),await _0x302c11[_0x1ff759(0xda0)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x18698f){console['error'](_0x1ff759(0xb7d),_0x18698f),showMessage(_0x1ff759(0xcb2));}});}function formatAndPrintLessonPlan(_0xa56910,_0x575658){const _0x2e5c77=_0x36ca11,_0x1a49c1=window[_0x2e5c77(0x972)]('','_blank'),_0x43c994=_0x2e5c77(0x5ef)+_0x575658['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x575658[_0x2e5c77(0x714)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa56910[_0x2e5c77(0x3f2)]['map'](_0x277583=>'<li>'+_0x277583+_0x2e5c77(0x780))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0xa56910['teachingContent']+_0x2e5c77(0xb58)+_0xa56910[_0x2e5c77(0xb67)][_0x2e5c77(0xcf7)](_0x193bb5=>_0x2e5c77(0x4ad)+_0x193bb5[_0x2e5c77(0x359)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20'+_0x193bb5[_0x2e5c77(0x46a)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2e5c77(0xa81)]('')+_0x2e5c77(0x578);_0x1a49c1[_0x2e5c77(0x2ab)][_0x2e5c77(0x8ac)](_0x43c994),_0x1a49c1[_0x2e5c77(0x2ab)]['close'](),_0x1a49c1[_0x2e5c77(0x7b4)]=function(){setTimeout(()=>{const _0x4255d0=_0x4cf2;_0x1a49c1[_0x4255d0(0xa18)]();},0x3e8);};}async function handleAiFixFormula(_0x2e0174){const _0x50cfa4=_0x36ca11,_0x3b5676=document[_0x50cfa4(0xce2)](_0x50cfa4(0x467)+_0x2e0174+'\x22]');if(!_0x3b5676)return;const _0x5cb8d4=_0x3b5676['dataset'][_0x50cfa4(0x75b)],_0x2e9748=_0x3b5676[_0x50cfa4(0xce2)]('.ai-fix-formula-btn');let _0x2f81bb={'question':_0x3b5676[_0x50cfa4(0xce2)](_0x50cfa4(0x73c))['value']};switch(_0x5cb8d4){case _0x50cfa4(0x209):_0x2f81bb[_0x50cfa4(0x72e)]=Array['from'](_0x3b5676['querySelectorAll'](_0x50cfa4(0x5bb)))[_0x50cfa4(0xcf7)](_0x53a1a3=>_0x53a1a3[_0x50cfa4(0xd73)]);break;case'short_answer':_0x2f81bb[_0x50cfa4(0x763)]=_0x3b5676[_0x50cfa4(0xce2)](_0x50cfa4(0xda2))[_0x50cfa4(0xd73)];break;case _0x50cfa4(0x2c9):_0x2f81bb[_0x50cfa4(0x77b)]=_0x3b5676[_0x50cfa4(0xce2)]('.correct-response-input')[_0x50cfa4(0xd73)];break;}_0x2e9748['innerHTML']=_0x50cfa4(0x42f),_0x2e9748[_0x50cfa4(0xc4f)]=!![];try{const _0x415235=_0x50cfa4(0x4a8)+JSON[_0x50cfa4(0x2f2)](_0x2f81bb)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0xc09e9d={'type':_0x50cfa4(0xae2),'properties':{'fixedData':{'type':_0x50cfa4(0xae2),'properties':{'question':{'type':_0x50cfa4(0x1dc)},'options':{'type':'ARRAY','items':{'type':_0x50cfa4(0x1dc)}},'idealAnswer':{'type':_0x50cfa4(0x1dc)},'correctResponse':{'type':_0x50cfa4(0x1dc)}},'required':[_0x50cfa4(0x359)]}},'required':[_0x50cfa4(0x9c9)]},_0x3c8df9=await callAnalysisApi(_0x415235,_0xc09e9d);if(_0x3c8df9&&_0x3c8df9[_0x50cfa4(0x9c9)]){const _0x4a5a2b=_0x3c8df9[_0x50cfa4(0x9c9)];_0x3b5676[_0x50cfa4(0xce2)](_0x50cfa4(0x73c))[_0x50cfa4(0xd73)]=_0x4a5a2b['question']||_0x2f81bb[_0x50cfa4(0x359)];switch(_0x5cb8d4){case _0x50cfa4(0x209):_0x4a5a2b['options']&&_0x4a5a2b[_0x50cfa4(0x72e)][_0x50cfa4(0x9b1)]>0x0&&_0x3b5676[_0x50cfa4(0xbe7)](_0x50cfa4(0x5bb))[_0x50cfa4(0x532)]((_0xd6c6e9,_0x2fa32e)=>{const _0x1f08c9=_0x50cfa4;_0xd6c6e9[_0x1f08c9(0xd73)]=_0x4a5a2b['options'][_0x2fa32e]||_0x2f81bb['options'][_0x2fa32e];});break;case'short_answer':_0x3b5676[_0x50cfa4(0xce2)]('.ideal-answer-input')[_0x50cfa4(0xd73)]=_0x4a5a2b[_0x50cfa4(0x763)]||_0x2f81bb[_0x50cfa4(0x763)];break;case _0x50cfa4(0x2c9):_0x3b5676[_0x50cfa4(0xce2)]('.correct-response-input')[_0x50cfa4(0xd73)]=_0x4a5a2b[_0x50cfa4(0x77b)]||_0x2f81bb[_0x50cfa4(0x77b)];break;}if(_0x2f81bb[_0x50cfa4(0x359)]!==_0x4a5a2b[_0x50cfa4(0x359)])try{const _0x42559b=collection(db,_0x50cfa4(0xdd2)+appId+_0x50cfa4(0x222));await addDoc(_0x42559b,{'broken':_0x2f81bb[_0x50cfa4(0x359)],'fixed':_0x4a5a2b['question'],'createdAt':serverTimestamp()});}catch(_0xe549a0){console[_0x50cfa4(0x3c3)](_0x50cfa4(0x52a),_0xe549a0);}showMessage(_0x50cfa4(0x9c2));}else throw new Error('AI\x20ไม่สามารถประมวลผลข้อมูลได้');}catch(_0x251cab){console[_0x50cfa4(0x3c3)](_0x50cfa4(0xd87),_0x251cab),showMessage('เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร');}finally{_0x2e9748[_0x50cfa4(0x2bd)]=_0x50cfa4(0xa35),_0x2e9748['disabled']=![];}}async function handleGenerateLessonPlan(_0x5c21b8){const _0x1804a1=_0x36ca11;showMessage(_0x1804a1(0x78c));try{const _0x25c99a=doc(db,_0x1804a1(0xdd2)+appId+_0x1804a1(0x365),_0x5c21b8),_0x3c7e4f=await getDoc(_0x25c99a);if(!_0x3c7e4f[_0x1804a1(0xa40)]())throw new Error(_0x1804a1(0x950));const _0x536566={'id':_0x5c21b8,..._0x3c7e4f[_0x1804a1(0x518)]()},_0x313053=collection(db,_0x1804a1(0xdd2)+appId+_0x1804a1(0x365),_0x5c21b8,_0x1804a1(0x29c)),_0xcfcb40=await getDocs(_0x313053),_0x5cfe27=_0xcfcb40[_0x1804a1(0x309)]['map'](_0x365b18=>_0x365b18[_0x1804a1(0x518)]());if(_0x5cfe27[_0x1804a1(0x9b1)]===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x56a085=calculateItemAnalysis(_0x536566,_0x5cfe27)[_0x1804a1(0xba8)],_0x4a019a=calculateDistractorAnalysis(_0x536566,_0x5cfe27),_0x37902b=_0x4cbb51=>{const _0xe86bb9=_0x1804a1;if(!_0x4cbb51)return'';return _0x4cbb51[_0xe86bb9(0x918)](/\\/g,'\x5c\x5c')[_0xe86bb9(0x918)](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x8c1985=_0x1804a1(0xc08);_0x536566[_0x1804a1(0x4f1)][_0x1804a1(0x532)]((_0x31071b,_0x369ba4)=>{const _0x5f4757=_0x1804a1,_0x413ef3=_0x56a085[_0x369ba4]?.['p'][_0x5f4757(0xb3d)](0x2)||_0x5f4757(0xbc0),_0xdf905f=_0x56a085[_0x369ba4]?.['r'][_0x5f4757(0xb3d)](0x2)||_0x5f4757(0xbc0),_0xc71dfe=_0x37902b(_0x31071b[_0x5f4757(0xc60)]||_0x31071b[_0x5f4757(0x1f4)]);_0x8c1985+=_0x5f4757(0xb73)+(_0x369ba4+0x1)+_0x5f4757(0x98f)+_0x413ef3+',\x20r='+_0xdf905f+'):\x20'+_0xc71dfe+'\x5cn';if(_0x31071b[_0x5f4757(0x55e)]==='multiple_choice'&&_0x4a019a[_0x369ba4]){const _0x49b808=_0x4a019a[_0x369ba4],_0x24ced5=Object[_0x5f4757(0xd97)](_0x49b808)[_0x5f4757(0x273)](_0x17c24c=>parseInt(_0x17c24c)!==_0x31071b[_0x5f4757(0x31b)])[_0x5f4757(0x68d)]((_0x286a44,_0x4c9203)=>_0x49b808[_0x4c9203]['total']-_0x49b808[_0x286a44][_0x5f4757(0xacc)])[0x0];if(_0x24ced5&&_0x49b808[_0x24ced5][_0x5f4757(0xacc)]>0x0){const _0x5864a8=_0x37902b(_0x49b808[_0x24ced5]['text']);_0x8c1985+=_0x5f4757(0x3b0)+_0x5864a8+_0x5f4757(0x342);}}});const _0x5d3171='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x536566[_0x1804a1(0x714)]+_0x1804a1(0x235)+_0x8c1985+_0x1804a1(0x70f),_0x170751={'type':_0x1804a1(0xae2),'properties':{'learningGaps':{'type':_0x1804a1(0xacd),'items':{'type':'STRING'}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0x1804a1(0xacd),'items':{'type':_0x1804a1(0xae2),'properties':{'question':{'type':_0x1804a1(0x1dc)},'solution':{'type':_0x1804a1(0x1dc)}}}}},'required':[_0x1804a1(0x3f2),_0x1804a1(0x94d),_0x1804a1(0xb67)]},_0x14cf04=await callAnalysisApi(_0x5d3171,_0x170751);await updateDoc(_0x25c99a,{'lessonPlan':_0x14cf04});const _0x14e13a=_0x1804a1(0x3ea)+_0x536566[_0x1804a1(0x714)]+_0x1804a1(0x1e7)+_0x14cf04['learningGaps'][_0x1804a1(0xcf7)](_0x12036f=>'<li>'+_0x12036f+_0x1804a1(0x780))[_0x1804a1(0xa81)]('')+_0x1804a1(0x592)+_0x14cf04[_0x1804a1(0x94d)]+_0x1804a1(0xc0f)+_0x14cf04[_0x1804a1(0xb67)][_0x1804a1(0xcf7)](_0x5723b6=>_0x1804a1(0x7ed)+_0x5723b6[_0x1804a1(0x359)]+_0x1804a1(0x292)+_0x5723b6['solution']+_0x1804a1(0x65b))[_0x1804a1(0xa81)]('')+_0x1804a1(0xc3a);document[_0x1804a1(0xde0)]('lesson-plan-title')[_0x1804a1(0xb0c)]=_0x1804a1(0x9e3)+_0x536566['topic'],document[_0x1804a1(0xde0)](_0x1804a1(0xbff))['innerHTML']=_0x14e13a,document[_0x1804a1(0xde0)](_0x1804a1(0x330))[_0x1804a1(0x7cb)][_0x1804a1(0x4cd)](_0x1804a1(0xaa0));if(window['MathJax'])MathJax[_0x1804a1(0x8aa)]();messageModal[_0x1804a1(0x7cb)][_0x1804a1(0x23b)](_0x1804a1(0xaa0));}catch(_0x30274b){console[_0x1804a1(0x3c3)](_0x1804a1(0x6c7),_0x30274b),showMessage(_0x1804a1(0x37d)+_0x30274b['message']);}}async function handleDuplicateQuiz(_0x126153){const _0x21afa9=_0x36ca11;try{const _0x431e71=doc(db,_0x21afa9(0xdd2)+appId+'/public/data/quizzes',_0x126153),_0x4d3f06=await getDoc(_0x431e71);if(_0x4d3f06[_0x21afa9(0xa40)]()){const _0x415170=_0x4d3f06[_0x21afa9(0x518)]();let _0x3526e5='',_0x58f799=_0x21afa9(0x7df),_0x50d185=null;if(_0x415170[_0x21afa9(0x8e5)]==='pre-test'){let _0x4394ae=_0x415170[_0x21afa9(0x714)][_0x21afa9(0x918)](_0x21afa9(0x33d),'')[_0x21afa9(0x3ac)]();_0x3526e5='(หลังเรียน)\x20'+_0x4394ae,_0x58f799=_0x21afa9(0xa62),_0x50d185=_0x126153;}else _0x3526e5=_0x21afa9(0x65d)+_0x415170[_0x21afa9(0x714)];const _0x8491fa={..._0x415170,'topic':_0x3526e5,'createdAt':new Date()[_0x21afa9(0x8b8)](),'quizMode':_0x58f799,'pairedQuizId':_0x50d185};let _0x3a1463;while(!![]){_0x3a1463=Math['floor'](0x3e8+Math[_0x21afa9(0xdd3)]()*0x2328)[_0x21afa9(0x460)]();const _0x405f7d=await getDoc(doc(db,_0x21afa9(0xdd2)+appId+'/public/data/quizzes',_0x3a1463));if(!_0x405f7d[_0x21afa9(0xa40)]())break;}const _0x1701f0=doc(db,_0x21afa9(0xdd2)+appId+'/public/data/quizzes',_0x3a1463);await setDoc(_0x1701f0,_0x8491fa),_0x8491fa['quizMode']===_0x21afa9(0xa62)&&await updateDoc(_0x431e71,{'pairedQuizId':_0x3a1463}),showMessage(_0x21afa9(0x4e6));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x30a3fa){console['error'](_0x21afa9(0xc8f),_0x30a3fa),showMessage(_0x21afa9(0xdd6));}}async function handleDeleteQuiz(_0x5ce803,_0x1e42b7=!![]){const _0x1a93b2=_0x36ca11;try{const _0x5c0917=writeBatch(db),_0x420675=collection(db,_0x1a93b2(0xdd2)+appId+_0x1a93b2(0xd9a)+_0x5ce803+_0x1a93b2(0x316)),_0x335dbe=await getDocs(_0x420675);_0x335dbe[_0x1a93b2(0x532)](_0x4dc882=>{const _0x49baa9=_0x1a93b2;_0x5c0917[_0x49baa9(0x513)](doc(_0x420675,_0x4dc882['id']));});const _0x3dec0=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x5ce803);_0x5c0917[_0x1a93b2(0x513)](_0x3dec0),await _0x5c0917['commit']();try{console[_0x1a93b2(0x966)](_0x1a93b2(0x5bd)+_0x5ce803+_0x1a93b2(0x891));const _0x3d3a56=collection(db,_0x1a93b2(0xdd2)+appId+'/public/data/blueprintProjects'),_0x9e1020=await getDocs(_0x3d3a56),_0xb99f26=[];_0x9e1020[_0x1a93b2(0x532)](_0x5bbd6d=>{const _0x316b55=_0x1a93b2,_0x15ae86=_0x5bbd6d['data'](),_0x4735b8=_0x15ae86[_0x316b55(0xa57)]||{};let _0x62e3b9=![];for(const _0x2a1ebf in _0x4735b8){const _0x20f552=_0x4735b8[_0x2a1ebf];if(_0x20f552['linkedQuizIds']&&_0x20f552['linkedQuizIds']['includes'](_0x5ce803)){_0x62e3b9=!![];const _0x29cfd8=doc(db,'artifacts/'+appId+_0x316b55(0x2ba),_0x5bbd6d['id']),_0x381c42=updateDoc(_0x29cfd8,{[_0x316b55(0xd96)+_0x2a1ebf+_0x316b55(0x7c4)]:arrayRemove(_0x5ce803)});_0xb99f26['push'](_0x381c42);}}}),_0xb99f26[_0x1a93b2(0x9b1)]>0x0&&(await Promise['all'](_0xb99f26),console['log'](_0x1a93b2(0xc03)+_0xb99f26[_0x1a93b2(0x9b1)]+_0x1a93b2(0x583)+_0x5ce803+'.'));}catch(_0x3b312f){console['error'](_0x1a93b2(0xd6e),_0x3b312f);}_0x1e42b7&&showMessage(_0x1a93b2(0x437));}catch(_0x5494e1){console[_0x1a93b2(0x3c3)](_0x1a93b2(0xc21),_0x5494e1),_0x1e42b7&&showMessage(_0x1a93b2(0x35a));}}async function showQuizDetailView(_0x49d4ab){const _0x2a283f=_0x36ca11;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x2a283f(0x1ef));try{const _0x36088c=doc(db,_0x2a283f(0xdd2)+appId+_0x2a283f(0x365),_0x49d4ab),_0x57ca58=await getDoc(_0x36088c);if(!_0x57ca58[_0x2a283f(0xa40)]()){showMessage(_0x2a283f(0x950));return;}const _0x14d596={'id':_0x57ca58['id'],..._0x57ca58[_0x2a283f(0x518)]()};currentQuizData=_0x14d596;const _0x3fb6c0=doc(db,_0x2a283f(0xdd2)+appId+_0x2a283f(0x20e),_0x14d596[_0x2a283f(0x264)]),_0x347979=await getDoc(_0x3fb6c0);_0x347979['exists']()?(currentProjectData=_0x347979['data'](),currentProjectId=_0x14d596[_0x2a283f(0x264)]):(currentProjectData={'students':[]},currentProjectId=_0x14d596[_0x2a283f(0x264)]);document[_0x2a283f(0xde0)](_0x2a283f(0x8bf))[_0x2a283f(0xb0c)]=_0x14d596['topic'],document[_0x2a283f(0xde0)]('results-quiz-id-display')[_0x2a283f(0xb0c)]=_0x49d4ab;const _0x175aa2=collection(db,_0x2a283f(0xdd2)+appId+_0x2a283f(0x365),_0x49d4ab,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x175aa2,_0x11afa5=>{const _0x5d59a0=_0x2a283f,_0x50e566=_0x11afa5[_0x5d59a0(0x309)][_0x5d59a0(0xcf7)](_0x470184=>({'id':_0x470184['id'],..._0x470184[_0x5d59a0(0x518)]()}));currentSubmissions=_0x50e566;const _0x5df483=_0x50e566[_0x5d59a0(0x273)](_0x1e2e50=>_0x1e2e50[_0x5d59a0(0x96e)]&&_0x1e2e50[_0x5d59a0(0x96e)]['length']>0x0);renderBehaviorLog(_0x50e566),renderAnswerGrid(currentProjectData[_0x5d59a0(0xd36)],_0x5df483,_0x14d596),renderAnalytics(_0x14d596,_0x5df483),renderQuizResultsTable(currentProjectData[_0x5d59a0(0xd36)],_0x50e566,_0x14d596),renderQuizLeaderboard(_0x5df483,_0x14d596,_0x5d59a0(0xc49));}),showView(_0x2a283f(0xa1b));}catch(_0x28ba09){console[_0x2a283f(0x3c3)]('Error\x20showing\x20quiz\x20detail\x20view:',_0x28ba09),showMessage(_0x2a283f(0x517));}}function renderAnswerGrid(_0x2eec88,_0x5441ab,_0x14bb49){const _0x4f5a34=_0x36ca11,_0x2eef01=document[_0x4f5a34(0xde0)](_0x4f5a34(0x1ff));if(!_0x2eef01)return;if(!_0x2eec88||_0x2eec88[_0x4f5a34(0x9b1)]===0x0){_0x2eef01[_0x4f5a34(0x2bd)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0x1e6038=_0x14bb49[_0x4f5a34(0x4f1)],_0x5f492e=_0x5441ab['reduce']((_0x13b709,_0x2dac53)=>{const _0x37075b=_0x4f5a34;return _0x13b709[_0x2dac53[_0x37075b(0x955)]]=_0x2dac53,_0x13b709;},{}),_0x560948=_0x29225b=>String[_0x4f5a34(0x604)](0x41+_0x29225b),_0x36c7e3=_0x154812=>{const _0x1e9823=_0x4f5a34,_0x32330c=_0x154812[_0x1e9823(0x55e)]||_0x14bb49['quizType'];switch(_0x32330c){case'multiple_choice':return _0x154812[_0x1e9823(0x72e)]&&_0x154812[_0x1e9823(0x72e)][_0x1e9823(0x9b1)]>_0x154812[_0x1e9823(0x31b)]?_0x560948(_0x154812[_0x1e9823(0x31b)]):'-';case _0x1e9823(0x84a):const _0x2563f3=_0x154812[_0x1e9823(0x5ec)]===!![]||String(_0x154812['correctAnswer'])[_0x1e9823(0x442)]()===_0x1e9823(0x3f6);return _0x2563f3?_0x1e9823(0x7c0):_0x1e9823(0x7d0);case _0x1e9823(0x2c9):return _0x154812[_0x1e9823(0x77b)]||'-';case'short_answer':return _0x1e9823(0xd18);default:return'-';}},_0x2b9c9d=(_0xbf46fd,_0x271daa)=>{const _0x4206f5=_0x4f5a34;if(_0x271daa[_0x4206f5(0x683)]===null||_0x271daa[_0x4206f5(0x683)]===undefined)return'-';const _0x1ec067=_0xbf46fd['questionType']||_0x14bb49[_0x4206f5(0xcfa)];switch(_0x1ec067){case _0x4206f5(0x209):const _0x452b8f=_0xbf46fd[_0x4206f5(0x72e)]['findIndex'](_0x2852d6=>_0x2852d6===_0x271daa[_0x4206f5(0xa45)]);return _0x452b8f!==-0x1?_0x560948(_0x452b8f):_0x271daa[_0x4206f5(0xa45)]||'-';case _0x4206f5(0x84a):if(_0x271daa[_0x4206f5(0x683)]=='0'||_0x271daa[_0x4206f5(0x683)]===!![]||_0x271daa[_0x4206f5(0x683)]===_0x4206f5(0x3f6))return'ใช่';return _0x4206f5(0x7d0);default:return _0x271daa[_0x4206f5(0x683)];}};let _0x5000bb=_0x4f5a34(0xa95)+_0x1e6038['map']((_0x557864,_0x2b9553)=>_0x4f5a34(0x61b)+(_0x2b9553+0x1)+_0x4f5a34(0x8a0))[_0x4f5a34(0xa81)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e6038['map'](_0x135c9b=>_0x4f5a34(0x995)+_0x36c7e3(_0x135c9b)+'</td>')[_0x4f5a34(0xa81)]('')+_0x4f5a34(0x916);_0x2eec88[_0x4f5a34(0x532)](_0x247edf=>{const _0x49cfbf=_0x4f5a34;_0x5000bb+=_0x49cfbf(0x883),_0x5000bb+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x247edf+_0x49cfbf(0xd90);const _0x14d4ff=_0x5f492e[_0x247edf];if(_0x14d4ff){const _0x1a85be=_0x14d4ff['attempts'][_0x14d4ff[_0x49cfbf(0x96e)][_0x49cfbf(0x9b1)]-0x1];_0x1e6038[_0x49cfbf(0x532)]((_0x2ee295,_0x1bafe9)=>{const _0x3a30c9=_0x49cfbf,_0x475059=_0x1a85be[_0x3a30c9(0xc95)][_0x3a30c9(0x349)](_0x550b72=>_0x550b72[_0x3a30c9(0x8cf)]===_0x2ee295['id']);if(_0x475059){let _0x3572c8='';const _0x1f046d=_0x475059[_0x3a30c9(0x831)]===!![],_0x3b1219=_0x475059[_0x3a30c9(0x50c)]===!![]||_0x475059[_0x3a30c9(0x50c)]===_0x3a30c9(0xd7e);_0x3b1219?_0x3572c8=_0x1f046d?_0x3a30c9(0x773):'bg-red-500\x20text-white\x20font-bold':_0x3572c8=_0x1f046d?_0x3a30c9(0x387):'bg-red-100',_0x5000bb+=_0x3a30c9(0x3f0)+_0x3572c8+'\x22>'+_0x2b9c9d(_0x2ee295,_0x475059)+_0x3a30c9(0xd90);}else _0x5000bb+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x5000bb+=_0x1e6038[_0x49cfbf(0xcf7)](()=>_0x49cfbf(0xa10))[_0x49cfbf(0xa81)]('');_0x5000bb+='</tr>';}),_0x5000bb+=_0x4f5a34(0xdba),_0x2eef01['innerHTML']=_0x5000bb;}function renderQuizResultsTable(_0x1f7b28,_0x2a2a77,_0x30b5d6){const _0x3c3630=_0x36ca11,_0x447582=_0x2a2a77[_0x3c3630(0x514)]((_0x1d3f68,_0x495798)=>{return _0x1d3f68[_0x495798['studentName']]=_0x495798,_0x1d3f68;},{}),_0x516fc1=document['querySelector'](_0x3c3630(0xccd));_0x516fc1&&!_0x516fc1['innerHTML']['includes'](_0x3c3630(0xdf2))&&(_0x516fc1['innerHTML']+=_0x3c3630(0x21e));const _0x3de329=document['getElementById'](_0x3c3630(0x2ec));if(!_0x1f7b28||_0x1f7b28[_0x3c3630(0x9b1)]===0x0){_0x3de329['innerHTML']=_0x3c3630(0x505);return;}const _0x521aad=_0x30b5d6['isRemedial']===!![],_0xf32880=_0x30b5d6[_0x3c3630(0x695)]?.[_0x3c3630(0x672)]??-0x1;let _0x443968='';_0x1f7b28['forEach'](_0x19a123=>{const _0x3ad163=_0x3c3630,_0x24f3d3=_0x447582[_0x19a123];let _0x1430dd=_0x3ad163(0xb17)+(_0x521aad?_0x3ad163(0x3e9):'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x521aad?_0x3ad163(0x54d):_0x3ad163(0xa56))+_0x3ad163(0x340);if(_0x24f3d3){if(_0x24f3d3[_0x3ad163(0x96e)]&&_0x24f3d3['attempts'][_0x3ad163(0x9b1)]>0x0){let _0x39f06b=_0x521aad?_0x24f3d3['bestScore']===_0x24f3d3[_0x3ad163(0xde1)]:_0xf32880!==-0x1&&_0x24f3d3[_0x3ad163(0xc6e)]>=_0xf32880;const _0x36a8bc=_0x39f06b?_0x3ad163(0x617):'bg-red-100\x20text-red-800',_0x3eb0a5=_0x39f06b?_0x3ad163(0x8bb):_0x3ad163(0x415),_0x30289f=_0x3ad163(0xb08)+_0x36a8bc+'\x22>'+_0x3eb0a5+'</span></td>',_0x2dd989=_0x3ad163(0x24c)+(_0x24f3d3[_0x3ad163(0x96e)]?.['length']||0x1)+'\x20ครั้ง)</span></td>';_0x443968+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x19a123+_0x3ad163(0x39c)+_0x24f3d3[_0x3ad163(0xc6e)]+'\x20/\x20'+_0x24f3d3[_0x3ad163(0xde1)]+_0x3ad163(0x9eb)+_0x30289f+_0x3ad163(0x324)+_0x1430dd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x24f3d3[_0x3ad163(0x638)]+_0x3ad163(0xd99)+_0x24f3d3[_0x3ad163(0xde1)]+_0x3ad163(0x269)+_0x24f3d3['latestScore']+'\x20/\x20'+_0x24f3d3[_0x3ad163(0xde1)]+_0x3ad163(0x346)+(_0x24f3d3[_0x3ad163(0xc00)]||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2dd989+_0x3ad163(0x4fe)+new Date(_0x24f3d3[_0x3ad163(0x20b)])[_0x3ad163(0xb91)](_0x3ad163(0x80b))+_0x3ad163(0x89d)+_0x19a123+_0x3ad163(0x39f);}else{const _0x5823f5=_0x3ad163(0xa5b);_0x443968+=_0x3ad163(0x2ef)+_0x19a123+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1430dd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5823f5+_0x3ad163(0x4fe)+new Date(_0x24f3d3[_0x3ad163(0x1f5)])[_0x3ad163(0xb91)](_0x3ad163(0x80b))+_0x3ad163(0xbca)+_0x19a123+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else{const _0x16ba95='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x443968+=_0x3ad163(0xd5d)+_0x19a123+_0x3ad163(0xa3f)+_0x1430dd+_0x3ad163(0x6e1)+_0x16ba95+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x3de329[_0x3c3630(0x2bd)]=_0x443968;}async function confirmRenameQuiz(){const _0x4de543=_0x36ca11,_0x259d91=document['getElementById'](_0x4de543(0x983))[_0x4de543(0xd73)][_0x4de543(0x3ac)]();if(!_0x259d91){showMessage(_0x4de543(0x846));return;}if(!actionTargetId)return;const _0x261531=doc(db,_0x4de543(0xdd2)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x261531,{'topic':_0x259d91}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x4de543(0x7cb)][_0x4de543(0x23b)](_0x4de543(0xaa0)),actionTargetId=null;}catch(_0x110449){console[_0x4de543(0x3c3)](_0x4de543(0x507),_0x110449),showMessage(_0x4de543(0x5f5));}}async function handleMoveQuiz(_0x47fa09){const _0xece846=_0x36ca11;actionTargetId=_0x47fa09;const _0x57da19=document[_0xece846(0xde0)](_0xece846(0x70b));_0x57da19['innerHTML']='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal[_0xece846(0x7cb)][_0xece846(0x4cd)](_0xece846(0xaa0));try{const _0x30305c=collection(db,'artifacts/'+appId+'/public/data/projects'),_0x4a5260=await getDocs(_0x30305c),_0x13bdb6=_0x4a5260[_0xece846(0x309)]['map'](_0x56c0a1=>({'id':_0x56c0a1['id'],..._0x56c0a1['data']()})),_0xfeb000=_0x13bdb6[_0xece846(0x273)](_0x2908d5=>_0x2908d5['id']!==currentProjectId);if(_0xfeb000[_0xece846(0x9b1)]===0x0){_0x57da19[_0xece846(0x2bd)]=_0xece846(0x5ed),document[_0xece846(0xde0)](_0xece846(0xb8c))['disabled']=!![];return;}_0x57da19['innerHTML']=_0xfeb000[_0xece846(0xcf7)](_0x45b337=>_0xece846(0xa16)+_0x45b337['id']+'\x22>'+_0x45b337['projectName']+_0xece846(0x728))[_0xece846(0xa81)](''),document['getElementById'](_0xece846(0xb8c))[_0xece846(0xc4f)]=![];}catch(_0xcd62e7){console[_0xece846(0x3c3)](_0xece846(0x7d6),_0xcd62e7),showMessage(_0xece846(0xb4d)),moveQuizModal[_0xece846(0x7cb)]['add'](_0xece846(0xaa0));}}async function confirmMoveQuiz(){const _0xbe74b=_0x36ca11,_0x5cba5f=document[_0xbe74b(0xde0)](_0xbe74b(0x70b))['value'];if(!_0x5cba5f){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0xd307d1=doc(db,'artifacts/'+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0xd307d1,{'projectId':_0x5cba5f}),showMessage(_0xbe74b(0x637)),moveQuizModal[_0xbe74b(0x7cb)][_0xbe74b(0x23b)](_0xbe74b(0xaa0)),actionTargetId=null;}catch(_0x3f8fff){console[_0xbe74b(0x3c3)](_0xbe74b(0xbfc),_0x3f8fff),showMessage(_0xbe74b(0xaf2));}}async function handleQuizSettings(_0xcbf16b){const _0x41b14b=_0x36ca11;actionTargetId=_0xcbf16b;const _0x341996=doc(db,_0x41b14b(0xdd2)+appId+_0x41b14b(0x365),_0xcbf16b);try{const _0x3a121c=await getDoc(_0x341996);if(_0x3a121c[_0x41b14b(0xa40)]()){const _0x42ea9f=_0x3a121c[_0x41b14b(0x518)](),_0x53c063=_0x42ea9f['settings']||{},_0x5ff2a=_0x42ea9f[_0x41b14b(0x4f1)][_0x41b14b(0x9b1)];document[_0x41b14b(0xde0)](_0x41b14b(0x642))['value']=_0x53c063['shuffle']||'none',document[_0x41b14b(0xde0)](_0x41b14b(0xcee))['value']=_0x53c063[_0x41b14b(0xdd1)]||'show_results_and_answers',document[_0x41b14b(0xde0)](_0x41b14b(0x7db))['value']=_0x53c063[_0x41b14b(0xcdb)]||_0x41b14b(0x2b2),document[_0x41b14b(0xde0)](_0x41b14b(0x56c))['value']=_0x53c063[_0x41b14b(0x2d3)]||0xa,document[_0x41b14b(0xde0)](_0x41b14b(0x630))[_0x41b14b(0xd73)]=_0x53c063[_0x41b14b(0x672)]||Math['floor'](_0x5ff2a/0x2),document[_0x41b14b(0xde0)](_0x41b14b(0x630))['max']=_0x5ff2a,document[_0x41b14b(0xde0)]('modal-adaptive-quiz-checkbox')['checked']=_0x53c063[_0x41b14b(0x746)]||![],document[_0x41b14b(0xde0)](_0x41b14b(0xbbe))['checked']=_0x53c063['loopUntilPass']||![];const _0x6814ab=_0x53c063[_0x41b14b(0x382)]||![];document[_0x41b14b(0xde0)](_0x41b14b(0x248))['checked']=_0x6814ab,document[_0x41b14b(0xde0)](_0x41b14b(0xb95))['value']=_0x53c063[_0x41b14b(0x825)]||_0x41b14b(0x67c);const _0x362190=document[_0x41b14b(0xde0)]('modal-confidence-mode-container');_0x362190[_0x41b14b(0x7cb)]['toggle'](_0x41b14b(0xaa0),!_0x6814ab),document[_0x41b14b(0xde0)](_0x41b14b(0x7db))[_0x41b14b(0x633)](new Event(_0x41b14b(0xade))),quizSettingsModal[_0x41b14b(0x7cb)][_0x41b14b(0x4cd)](_0x41b14b(0xaa0));}else showMessage(_0x41b14b(0x950));}catch(_0x409d51){console[_0x41b14b(0x3c3)](_0x41b14b(0x50b),_0x409d51),showMessage(_0x41b14b(0x822));}}async function confirmQuizSettings(){const _0x41b7e1=_0x36ca11;if(!actionTargetId)return;const _0x50f7bc=doc(db,_0x41b7e1(0xdd2)+appId+'/public/data/quizzes',actionTargetId),_0x7c908f={'shuffle':document['getElementById'](_0x41b7e1(0x642))[_0x41b7e1(0xd73)],'resultsDisplay':document[_0x41b7e1(0xde0)](_0x41b7e1(0xcee))[_0x41b7e1(0xd73)],'timerMode':document[_0x41b7e1(0xde0)](_0x41b7e1(0x7db))[_0x41b7e1(0xd73)],'timerDuration':parseInt(document[_0x41b7e1(0xde0)]('modal-timer-duration-input')[_0x41b7e1(0xd73)])||0xa,'passingScore':parseInt(document[_0x41b7e1(0xde0)](_0x41b7e1(0x630))[_0x41b7e1(0xd73)])||0x0,'isAdaptive':document[_0x41b7e1(0xde0)](_0x41b7e1(0x510))[_0x41b7e1(0x39b)],'loopUntilPass':document[_0x41b7e1(0xde0)](_0x41b7e1(0xbbe))[_0x41b7e1(0x39b)],'isConfidenceScoringEnabled':document['getElementById']('modal-confidence-scoring-checkbox')[_0x41b7e1(0x39b)],'confidenceMode':document[_0x41b7e1(0xde0)](_0x41b7e1(0xb95))[_0x41b7e1(0xd73)]};try{await updateDoc(_0x50f7bc,{'settings':_0x7c908f}),showMessage(_0x41b7e1(0x56d)),quizSettingsModal[_0x41b7e1(0x7cb)][_0x41b7e1(0x23b)](_0x41b7e1(0xaa0)),actionTargetId=null;}catch(_0x1eab74){console['error'](_0x41b7e1(0x5c3),_0x1eab74),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function confirmQuizStatus(){const _0x5c39d4=_0x36ca11;if(!actionTargetId)return;const _0x1b0809=doc(db,_0x5c39d4(0xdd2)+appId+_0x5c39d4(0x365),actionTargetId),_0x53d17f=document[_0x5c39d4(0xce2)]('input[name=\x22status-option\x22]:checked');if(!_0x53d17f){showMessage(_0x5c39d4(0x210));return;}const _0x2589e3=_0x53d17f[_0x5c39d4(0xd73)];let _0x1a3ad3={};if(_0x2589e3===_0x5c39d4(0x742)||_0x2589e3===_0x5c39d4(0x7d4))_0x1a3ad3={'status':_0x2589e3,'startTime':null,'endTime':null};else{if(_0x2589e3===_0x5c39d4(0xd69)){const _0x32bd60=document[_0x5c39d4(0xde0)](_0x5c39d4(0x2f4))[_0x5c39d4(0xd73)],_0x1264aa=document[_0x5c39d4(0xde0)](_0x5c39d4(0x546))[_0x5c39d4(0xd73)];if(!_0x32bd60&&!_0x1264aa){showMessage(_0x5c39d4(0xc6c));return;}_0x1a3ad3={'status':_0x5c39d4(0x6d7),'startTime':_0x32bd60?new Date(_0x32bd60)[_0x5c39d4(0x8b8)]():null,'endTime':_0x1264aa?new Date(_0x1264aa)[_0x5c39d4(0x8b8)]():null};}}try{await updateDoc(_0x1b0809,_0x1a3ad3),showMessage(_0x5c39d4(0x422)),quizStatusModal['classList'][_0x5c39d4(0x23b)](_0x5c39d4(0xaa0)),actionTargetId=null;}catch(_0x68174e){console[_0x5c39d4(0x3c3)](_0x5c39d4(0x89b),_0x68174e),showMessage(_0x5c39d4(0x3cf));}}function listenForStudentProfiles(_0x2c8e6e){const _0x531405=_0x36ca11,_0x5ed862=collection(db,_0x531405(0xdd2)+appId+_0x531405(0x7f5)+_0x2c8e6e+_0x531405(0x629));unsubscribeStudentProfilesListener=onSnapshot(_0x5ed862,_0x551c8e=>{const _0x4eafb3=_0x531405,_0xebab6e=_0x551c8e['docs'][_0x4eafb3(0xcf7)](_0x17a5fd=>_0x17a5fd[_0x4eafb3(0x518)]());renderLeaderboard(_0xebab6e,_0x4eafb3(0x713));},_0x486015=>{const _0x46c01f=_0x531405;console[_0x46c01f(0x3c3)](_0x46c01f(0x612),_0x486015),document['getElementById'](_0x46c01f(0x713))[_0x46c01f(0x2bd)]=_0x46c01f(0x3de);});}function renderLeaderboard(_0xf3671c,_0x56d493){const _0x2b984e=_0x36ca11,_0x182d5c=document[_0x2b984e(0xde0)](_0x56d493);if(!_0xf3671c||_0xf3671c['length']===0x0){_0x182d5c[_0x2b984e(0x2bd)]=_0x2b984e(0x3ba);return;}_0xf3671c[_0x2b984e(0x68d)]((_0x5bccc4,_0x352092)=>{const _0x127f99=_0x2b984e,_0x180ab0=(_0x352092[_0x127f99(0x7a0)]||0x0)-(_0x5bccc4[_0x127f99(0x7a0)]||0x0);if(_0x180ab0!==0x0)return _0x180ab0;const _0x1613a7=(_0x352092[_0x127f99(0x9e9)]?.[_0x127f99(0xa6f)]||0x0)-(_0x5bccc4[_0x127f99(0x9e9)]?.[_0x127f99(0xa6f)]||0x0);if(_0x1613a7!==0x0)return _0x1613a7;const _0x20545a=(_0x352092[_0x127f99(0x9e9)]?.['first_try_ace']||0x0)-(_0x5bccc4[_0x127f99(0x9e9)]?.[_0x127f99(0x906)]||0x0);if(_0x20545a!==0x0)return _0x20545a;const _0x72866c=(_0x352092[_0x127f99(0x9e9)]?.['perfect_score']||0x0)-(_0x5bccc4['badgesCount']?.[_0x127f99(0x3b5)]||0x0);if(_0x72866c!==0x0)return _0x72866c;const _0x37b024=(_0x352092[_0x127f99(0x9e9)]?.[_0x127f99(0xce3)]||0x0)-(_0x5bccc4[_0x127f99(0x9e9)]?.[_0x127f99(0xce3)]||0x0);if(_0x37b024!==0x0)return _0x37b024;return _0x5bccc4[_0x127f99(0x955)][_0x127f99(0x262)](_0x352092[_0x127f99(0x955)],'th');});let _0x2e455a='';_0xf3671c[_0x2b984e(0x532)]((_0xe918ad,_0x322d64)=>{const _0x1b3c10=_0x2b984e,_0x327f68=_0x322d64+0x1,_0x12b6e1=_0xe918ad[_0x1b3c10(0x9e9)]||{};let _0xe198c='';const _0x1c8808=[_0x1b3c10(0xa6f),_0x1b3c10(0x3b5),'first_try_ace',_0x1b3c10(0xce3)];_0x1c8808['forEach'](_0x1176f2=>{const _0x704d=_0x1b3c10;if(_0x12b6e1[_0x1176f2]>0x0){const _0x57e289=Object[_0x704d(0x976)](BADGES)[_0x704d(0x349)](_0x4571e9=>_0x4571e9['id']===_0x1176f2);_0x57e289&&(_0x1176f2==='specialist'?_0xe198c+=_0x704d(0x473)+_0x57e289[_0x704d(0xa69)]+_0x704d(0xd94)+_0x57e289['icon']+_0x704d(0x37a):_0xe198c+=_0x704d(0x473)+_0x57e289[_0x704d(0xa69)]+'\x20('+_0x12b6e1[_0x1176f2]+_0x704d(0xbbc)+_0x57e289['icon']+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x12b6e1[_0x1176f2]+_0x704d(0xd12));}}),_0x2e455a+=_0x1b3c10(0xdc9)+_0x327f68+_0x1b3c10(0xac5)+_0xe918ad[_0x1b3c10(0x955)]+_0x1b3c10(0xb8a)+(_0xe918ad['totalPoints']||0x0)+_0x1b3c10(0xac5)+(_0xe198c||'-')+_0x1b3c10(0x6ae);}),_0x182d5c[_0x2b984e(0x2bd)]=_0x2e455a;}function displayLoopScreen(_0x53ae58,_0x398d9c,_0x26f1a6){const _0x4bb297=_0x36ca11;let _0x4cd6e9='';_0x26f1a6!=='show_pass_fail_only'&&(_0x4cd6e9=_0x4bb297(0x7bd)+_0x53ae58+'\x20/\x20'+_0x398d9c+_0x4bb297(0x66a));const _0x42e2a3=_0x4bb297(0x794)+_0x4cd6e9+_0x4bb297(0x41f);studentResultArea[_0x4bb297(0x2bd)]=_0x42e2a3,studentResultArea[_0x4bb297(0x7cb)][_0x4bb297(0x4cd)]('hidden'),studentQuizArea[_0x4bb297(0x7cb)][_0x4bb297(0x23b)]('hidden'),document['getElementById']('retake-quiz-loop-btn')[_0x4bb297(0x999)](_0x4bb297(0x4fc),()=>{const _0x1fe0b2=_0x4bb297;studentResultArea['classList'][_0x1fe0b2(0x23b)](_0x1fe0b2(0xaa0)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x4edb89,_0x53d39c,_0x45e7ef){const _0x1a0e2b=_0x36ca11,_0x25605c=document['getElementById'](_0x45e7ef),_0x4749e4=_0x45e7ef===_0x1a0e2b(0xa36),_0x1e80a1=_0x53d39c['questions']['length'],_0x1e1c0a=document[_0x1a0e2b(0xde0)](_0x45e7ef)[_0x1a0e2b(0xd5a)](_0x1a0e2b(0x300));if(_0x1e1c0a&&!_0x4749e4){const _0x3359f6=_0x1e1c0a[_0x1a0e2b(0xce2)](_0x1a0e2b(0xbdd));_0x3359f6[_0x1a0e2b(0x2bd)]=_0x1a0e2b(0x265);}if(!_0x4edb89||_0x4edb89[_0x1a0e2b(0x9b1)]===0x0){_0x25605c[_0x1a0e2b(0x2bd)]=_0x1a0e2b(0xbb3)+(_0x4749e4?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x3203af=[..._0x4edb89];_0x3203af[_0x1a0e2b(0x68d)]((_0x52b2d0,_0x9015c0)=>{const _0x2f2045=_0x1a0e2b;let _0xab924,_0x40a01b;switch(quizLeaderboardSortBy){case _0x2f2045(0x955):_0xab924=_0x52b2d0[_0x2f2045(0x955)]||'',_0x40a01b=_0x9015c0[_0x2f2045(0x955)]||'';return quizLeaderboardSortOrder===_0x2f2045(0x61f)?_0xab924['localeCompare'](_0x40a01b,'th'):_0x40a01b['localeCompare'](_0xab924,'th');case _0x2f2045(0xc00):_0xab924=_0x52b2d0[_0x2f2045(0xc00)]||0x0,_0x40a01b=_0x9015c0[_0x2f2045(0xc00)]||0x0;break;case'attempts':_0xab924=_0x52b2d0[_0x2f2045(0x96e)]?.[_0x2f2045(0x9b1)]||0x1,_0x40a01b=_0x9015c0[_0x2f2045(0x96e)]?.[_0x2f2045(0x9b1)]||0x1;break;case _0x2f2045(0x20b):_0xab924=new Date(_0x52b2d0[_0x2f2045(0x20b)]),_0x40a01b=new Date(_0x9015c0[_0x2f2045(0x20b)]);break;case _0x2f2045(0xc6e):default:_0xab924=_0x52b2d0[_0x2f2045(0xc6e)],_0x40a01b=_0x9015c0[_0x2f2045(0xc6e)];break;}if(_0xab924<_0x40a01b)return quizLeaderboardSortOrder===_0x2f2045(0x61f)?-0x1:0x1;if(_0xab924>_0x40a01b)return quizLeaderboardSortOrder==='asc'?0x1:-0x1;return 0x0;});const _0x2282ef=_0x53d39c['isRemedial']===!![],_0xedd790=_0x53d39c[_0x1a0e2b(0x695)]?.[_0x1a0e2b(0x672)]??-0x1;let _0x2f5a95='';_0x3203af[_0x1a0e2b(0x532)]((_0x18f4e4,_0x2e0644)=>{const _0x127861=_0x1a0e2b,_0x1b127a=_0x2e0644+0x1;let _0x2ef72b=_0x127861(0x270);if(_0x2282ef||_0xedd790!==-0x1){let _0x342fd5=_0x2282ef?_0x18f4e4[_0x127861(0xc6e)]===_0x1e80a1:_0x18f4e4[_0x127861(0xc6e)]>=_0xedd790;const _0x1e923c=_0x342fd5?_0x127861(0x617):_0x127861(0x789),_0x2cedaf=_0x342fd5?_0x127861(0x8bb):_0x127861(0x415);_0x2ef72b=_0x127861(0xcbb)+_0x1e923c+'\x22>'+_0x2cedaf+_0x127861(0x340);}const _0x2b2e64=_0x18f4e4[_0x127861(0x96e)][_0x18f4e4['attempts'][_0x127861(0x9b1)]-0x1],_0x131db0=(_0x2b2e64[_0x127861(0x994)]||[])[_0x127861(0xcf7)](_0x32aecc=>{const _0x2fc010=_0x127861,_0x1902c9=Object[_0x2fc010(0x976)](BADGES)[_0x2fc010(0x349)](_0xf2d2e0=>_0xf2d2e0['id']===_0x32aecc);return _0x1902c9?_0x2fc010(0xb31)+_0x1902c9[_0x2fc010(0xa69)]+'\x22><i\x20class=\x22fas\x20'+_0x1902c9[_0x2fc010(0x78b)]+_0x2fc010(0xcb7):'';})['join']('');_0x2f5a95+=_0x127861(0x848)+_0x1b127a+_0x127861(0x1db)+_0x18f4e4[_0x127861(0x955)]+_0x127861(0x953)+_0x18f4e4[_0x127861(0xc6e)]+'\x20/\x20'+_0x1e80a1+_0x127861(0xb24)+_0x2ef72b+_0x127861(0xb89)+(_0x18f4e4[_0x127861(0xc00)]||0x0)+_0x127861(0xb24)+(_0x4749e4?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0x18f4e4['attempts']?.[_0x127861(0x9b1)]||0x1)+_0x127861(0xd90))+_0x127861(0x727)+(_0x4749e4?'':_0x127861(0x796)+new Date(_0x18f4e4['latestSubmittedAt'])['toLocaleString'](_0x127861(0x80b))+_0x127861(0xd90))+_0x127861(0x1e5)+(_0x131db0||'-')+_0x127861(0x9c5);}),_0x25605c[_0x1a0e2b(0x2bd)]=_0x2f5a95,_0x1e1c0a&&!_0x4749e4&&_0x1e1c0a[_0x1a0e2b(0xbe7)](_0x1a0e2b(0xdbb))[_0x1a0e2b(0x532)](_0x398ffb=>{const _0x5ecc39=_0x1a0e2b,_0x339144=_0x398ffb[_0x5ecc39(0xce2)](_0x5ecc39(0xa89));if(_0x339144)_0x339144[_0x5ecc39(0x4cd)]();_0x398ffb[_0x5ecc39(0xdcf)][_0x5ecc39(0x68d)]===quizLeaderboardSortBy&&(_0x398ffb[_0x5ecc39(0x2bd)]+=_0x5ecc39(0x97a)+(quizLeaderboardSortOrder===_0x5ecc39(0x61f)?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0xbc8494){const _0x3906c6=_0x36ca11;if(!currentQuizData||!currentQuizData['id']||!_0xbc8494){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0xbc8494+_0x3906c6(0x410),async()=>{const _0x410589=_0x3906c6,_0x25c0a3=currentQuizData['id'],_0x345987=doc(db,_0x410589(0xdd2)+appId+_0x410589(0xd9a)+_0x25c0a3+_0x410589(0x316),_0xbc8494);try{await deleteDoc(_0x345987),showMessage(_0x410589(0xb46)+_0xbc8494+_0x410589(0x945));}catch(_0x1bae8b){console[_0x410589(0x3c3)]('Error\x20deleting\x20submission:',_0x1bae8b),showMessage(_0x410589(0xab3));}});}async function handleLoadQuiz(){const _0x240fef=_0x36ca11,_0x54d460=document[_0x240fef(0xde0)](_0x240fef(0x9a4)),_0x3cbd5f=_0x54d460[_0x240fef(0xd73)][_0x240fef(0x3ac)]();if(!_0x3cbd5f){showMessage(_0x240fef(0xb05));return;}loadQuizBtn['disabled']=!![],loadQuizBtn['innerHTML']=_0x240fef(0x899);try{const _0x1e5207=doc(db,_0x240fef(0xdd2)+appId+'/public/data/quizzes',_0x3cbd5f),_0x37a523=await getDoc(_0x1e5207);if(!_0x37a523[_0x240fef(0xa40)]()){showMessage(_0x240fef(0x20f));return;}currentQuizData={'id':_0x37a523['id'],..._0x37a523['data']()};const _0x4409f1=currentQuizData[_0x240fef(0xcb4)]||'active',_0x2a5791=new Date();if(_0x4409f1===_0x240fef(0x7d4)){showMessage(_0x240fef(0x4c7));return;}if(_0x4409f1===_0x240fef(0x6d7)){const _0x301e64=currentQuizData[_0x240fef(0x47b)]?new Date(currentQuizData[_0x240fef(0x47b)]):null,_0x116c34=currentQuizData[_0x240fef(0x2b1)]?new Date(currentQuizData[_0x240fef(0x2b1)]):null;if(_0x301e64&&_0x2a5791<_0x301e64){showMessage(_0x240fef(0x20c)+_0x301e64['toLocaleString']('th-TH',{'hour12':![]}));return;}if(_0x116c34&&_0x2a5791>_0x116c34){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x1496b1=currentQuizData[_0x240fef(0x264)];currentProjectId=_0x1496b1;const _0x1b5dbf=doc(db,_0x240fef(0xdd2)+appId+_0x240fef(0x20e),_0x1496b1),_0x3c348e=await getDoc(_0x1b5dbf);if(!_0x3c348e[_0x240fef(0xa40)]()){showMessage(_0x240fef(0xcd9));return;}const _0x55c9c7=_0x3c348e[_0x240fef(0x518)]();currentStudentProjectData=_0x55c9c7,displayStudentNameSelector(_0x55c9c7[_0x240fef(0xd36)],currentQuizData['topic']);}catch(_0x565918){console[_0x240fef(0x3c3)]('Error\x20loading\x20quiz\x20for\x20student:',_0x565918),showMessage(_0x240fef(0x6f2));}finally{loadQuizBtn[_0x240fef(0xc4f)]=![],loadQuizBtn['innerHTML']=_0x240fef(0xc5a);}}async function handleJoinLiveGame(){const _0x3973a0=_0x36ca11,_0xfa0719=document[_0x3973a0(0xde0)](_0x3973a0(0x7f0)),_0x4ea5e8=document[_0x3973a0(0xde0)](_0x3973a0(0x74a)),_0x2c729e=document[_0x3973a0(0xde0)](_0x3973a0(0xd5f)),_0x26a26d=_0xfa0719['value'][_0x3973a0(0x3ac)](),_0x40ce9a=_0x4ea5e8[_0x3973a0(0xd73)]['trim']();if(!_0x26a26d||!_0x40ce9a){showMessage(_0x3973a0(0x9db));return;}_0x2c729e[_0x3973a0(0xc4f)]=!![],_0x2c729e[_0x3973a0(0x2bd)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...';try{const _0xb4d86f=collection(db,_0x3973a0(0xdd2)+appId+_0x3973a0(0xc0e)),_0x479004=query(_0xb4d86f,where(_0x3973a0(0x876),'==',_0x26a26d),where(_0x3973a0(0xcb4),'in',[_0x3973a0(0x733),_0x3973a0(0x359)])),_0x255fda=await getDocs(_0x479004);if(_0x255fda[_0x3973a0(0x52e)]){showMessage(_0x3973a0(0xbaf));return;}const _0x46baa9=_0x255fda[_0x3973a0(0x309)][0x0],_0x34e6ad=_0x46baa9[_0x3973a0(0x518)]();currentLiveGameId=_0x46baa9['id'];const _0x1a546c=_0x34e6ad['quizId'],_0x5a2404=doc(db,_0x3973a0(0xdd2)+appId+'/public/data/quizzes',_0x1a546c),_0x50decc=await getDoc(_0x5a2404);if(!_0x50decc[_0x3973a0(0xa40)]()){showMessage(_0x3973a0(0xb07));return;}currentQuizData={'id':_0x50decc['id'],..._0x50decc[_0x3973a0(0x518)]()};if(_0x34e6ad['players']&&_0x34e6ad['players'][_0x40ce9a]){const _0x29d415=_0x34e6ad['players'][_0x40ce9a];if(_0x29d415[_0x3973a0(0xcb4)]==='inactive'){_0x2c729e['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...';const _0x235856={};_0x235856[_0x3973a0(0x250)+_0x40ce9a+_0x3973a0(0xc46)]='active',await updateDoc(doc(db,_0x3973a0(0xdd2)+appId+_0x3973a0(0xc0e),currentLiveGameId),_0x235856),showView('live-game'),currentStudentName=_0x40ce9a,listenForLiveGameUpdates();return;}else{showMessage(_0x3973a0(0x9f8));return;}}if(_0x34e6ad[_0x3973a0(0xcb4)]!==_0x3973a0(0x733)){showMessage(_0x3973a0(0xd3c));return;}_0x2c729e[_0x3973a0(0x2bd)]=_0x3973a0(0x737);const _0xdcb2b9={};_0xdcb2b9[_0x3973a0(0x250)+_0x40ce9a]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x3973a0(0x742)},await updateDoc(doc(db,_0x3973a0(0xdd2)+appId+'/public/data/liveGames',currentLiveGameId),_0xdcb2b9),currentStudentName=_0x40ce9a,listenForLiveGameUpdates();}catch(_0x641a6d){console[_0x3973a0(0x3c3)]('Error\x20joining\x20live\x20game:',_0x641a6d),showMessage(_0x3973a0(0x5f6));}finally{_0x2c729e[_0x3973a0(0xc4f)]=![],_0x2c729e['innerHTML']='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x38e8a9,_0x49c5a2){const _0x142fb6=_0x36ca11,_0x203dd5=document[_0x142fb6(0xde0)](_0x142fb6(0x1eb));document['getElementById'](_0x142fb6(0x96a))[_0x142fb6(0xb0c)]=_0x142fb6(0xbd8)+_0x49c5a2,!_0x38e8a9||_0x38e8a9[_0x142fb6(0x9b1)]===0x0?(_0x203dd5[_0x142fb6(0x2bd)]=_0x142fb6(0x677),startQuizBtn[_0x142fb6(0xc4f)]=!![]):(_0x203dd5[_0x142fb6(0x2bd)]='<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>',_0x38e8a9[_0x142fb6(0x532)](_0xac6ac7=>{const _0x19f79f=_0x142fb6,_0x370f47=document['createElement'](_0x19f79f(0x753));_0x370f47['value']=_0xac6ac7,_0x370f47[_0x19f79f(0xb0c)]=_0xac6ac7,_0x203dd5[_0x19f79f(0x9b9)](_0x370f47);}),startQuizBtn['disabled']=![]),studentInitialView[_0x142fb6(0x7cb)][_0x142fb6(0x23b)](_0x142fb6(0xaa0)),studentNameSelectionView[_0x142fb6(0x7cb)][_0x142fb6(0x4cd)](_0x142fb6(0xaa0));}function shuffleArray(_0x1e254a){const _0x2a900=_0x36ca11;for(let _0x19ad99=_0x1e254a[_0x2a900(0x9b1)]-0x1;_0x19ad99>0x0;_0x19ad99--){const _0x3f9dee=Math[_0x2a900(0x8fb)](Math[_0x2a900(0xdd3)]()*(_0x19ad99+0x1));[_0x1e254a[_0x19ad99],_0x1e254a[_0x3f9dee]]=[_0x1e254a[_0x3f9dee],_0x1e254a[_0x19ad99]];}}function getShuffledQuiz(_0x577544){const _0x2e4ee6=_0x36ca11;let _0x29bb05=JSON[_0x2e4ee6(0xdc0)](JSON['stringify'](_0x577544));const _0x5d0996=_0x29bb05[_0x2e4ee6(0x695)]?.[_0x2e4ee6(0xca4)]||_0x2e4ee6(0x2b2);if(_0x5d0996===_0x2e4ee6(0x2b2))return _0x29bb05;return(_0x5d0996===_0x2e4ee6(0xd7d)||_0x5d0996===_0x2e4ee6(0x56e))&&shuffleArray(_0x29bb05[_0x2e4ee6(0x4f1)]),(_0x5d0996===_0x2e4ee6(0x3c4)||_0x5d0996===_0x2e4ee6(0x56e))&&_0x29bb05[_0x2e4ee6(0x4f1)][_0x2e4ee6(0x532)](_0x3ec1a7=>{const _0x1ff3f5=_0x2e4ee6,_0x46a713=_0x3ec1a7['questionType']||_0x29bb05[_0x1ff3f5(0xcfa)];if(_0x3ec1a7[_0x1ff3f5(0x72e)]){let _0x1d97e4=_0x3ec1a7['options']['map']((_0x121579,_0xd2437c)=>({'text':_0x121579,'isCorrect':_0xd2437c===_0x3ec1a7['correctAnswerIndex']}));shuffleArray(_0x1d97e4),_0x3ec1a7['options']=_0x1d97e4[_0x1ff3f5(0xcf7)](_0x31ca0e=>_0x31ca0e['text']),_0x3ec1a7['correctAnswerIndex']=_0x1d97e4[_0x1ff3f5(0x1fd)](_0x1a4364=>_0x1a4364['isCorrect']);}_0x46a713===_0x1ff3f5(0x2c9)&&_0x3ec1a7['allResponses']&&shuffleArray(_0x3ec1a7['allResponses']);}),_0x29bb05;}function displayQuizForStudent(_0x12aa27){const _0x5badd5=_0x36ca11;studentQuizArea[_0x5badd5(0x7cb)][_0x5badd5(0x4cd)](_0x5badd5(0xaa0)),currentDisplayedQuiz=getShuffledQuiz(_0x12aa27);currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x5badd5(0x999)]('fullscreenchange',handleFullscreenChange),document[_0x5badd5(0x999)](_0x5badd5(0x9c1),handleVisibilityChange),enterFullscreen(),window[_0x5badd5(0x999)]('mousemove',resetDimTimer),window[_0x5badd5(0x999)](_0x5badd5(0x759),resetDimTimer),window[_0x5badd5(0x999)]('touchstart',resetDimTimer),window['addEventListener'](_0x5badd5(0xb22),resetDimTimer),resetDimTimer());const _0x531322=currentDisplayedQuiz[_0x5badd5(0x695)]?.[_0x5badd5(0xcdb)]||_0x5badd5(0x2b2);if(_0x531322===_0x5badd5(0x6a1))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x5badd5(0x695)][_0x5badd5(0x2d3)]);else _0x531322===_0x5badd5(0x74e)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x207f6b=_0x36ca11,_0x867272=currentDisplayedQuiz[_0x207f6b(0x695)]?.[_0x207f6b(0x382)]===!![],_0x3531c0=currentDisplayedQuiz[_0x207f6b(0x695)]?.[_0x207f6b(0x825)]||'checkbox';let _0x5b2830=_0x207f6b(0xc47)+currentDisplayedQuiz[_0x207f6b(0x714)]+_0x207f6b(0x6c0)+(currentMode===_0x207f6b(0xbe1)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0x207f6b(0x409);currentDisplayedQuiz[_0x207f6b(0x4f1)]['forEach']((_0x154d01,_0x35c713)=>{const _0x2567f9=_0x207f6b,_0x1d8db8=_0x154d01[_0x2567f9(0x55e)]||currentDisplayedQuiz[_0x2567f9(0xcfa)];_0x5b2830+=_0x2567f9(0xd86);if(_0x1d8db8===_0x2567f9(0x2c9)){}else _0x5b2830+=_0x2567f9(0x213)+(_0x35c713+0x1)+'.\x20'+(_0x154d01[_0x2567f9(0xdc1)]||_0x154d01['questionText'])+_0x2567f9(0x472),_0x154d01['imageCode']&&(_0x5b2830+=_0x2567f9(0xd75)+_0x154d01['imageCode']+_0x2567f9(0xb49));_0x5b2830+=_0x2567f9(0x91d);switch(_0x1d8db8){case'short_answer':_0x5b2830+=_0x2567f9(0x93f)+_0x35c713+_0x2567f9(0x861);break;case'true_false':_0x5b2830+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x35c713+_0x2567f9(0x97f)+_0x35c713+_0x2567f9(0x940)+_0x35c713+'_opt0\x22>ใช่</label></div>',_0x5b2830+=_0x2567f9(0xc33)+_0x35c713+'_opt1\x22\x20name=\x22question'+_0x35c713+_0x2567f9(0xcf5)+_0x35c713+_0x2567f9(0x86f);break;case _0x2567f9(0x2c9):_0x5b2830+=_0x2567f9(0x428)+_0x154d01['stem']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0x35c713+_0x2567f9(0x8eb)+_0x154d01[_0x2567f9(0xd55)]['map'](_0xd5a8db=>_0x2567f9(0xa16)+_0xd5a8db+'\x22>'+_0xd5a8db+'</option>')[_0x2567f9(0xa81)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;default:_0x5b2830+=_0x154d01['options'][_0x2567f9(0xcf7)]((_0xc85af7,_0x382f39)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x35c713+_0x2567f9(0xd22)+_0x382f39+'\x22\x20name=\x22question'+_0x35c713+'\x22\x20value=\x22'+_0x382f39+_0x2567f9(0x5db)+_0x35c713+_0x2567f9(0xd22)+_0x382f39+'\x22>'+_0xc85af7+_0x2567f9(0xb8b))['join']('');break;}_0x5b2830+=_0x2567f9(0xb49),_0x867272&&(_0x5b2830+=_0x2567f9(0x1f1),_0x3531c0==='mandatory'?_0x5b2830+=_0x2567f9(0xb0d)+_0x35c713+_0x2567f9(0xa8b)+_0x35c713+_0x2567f9(0x7d5)+_0x35c713+'\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22'+_0x35c713+_0x2567f9(0x644):_0x5b2830+=_0x2567f9(0xb55)+_0x35c713+_0x2567f9(0xa8b)+_0x35c713+_0x2567f9(0xcb9)+_0x35c713+_0x2567f9(0xa59),_0x5b2830+=_0x2567f9(0xb49)),_0x5b2830+='</div>';}),_0x5b2830+=_0x207f6b(0xc2c),_0x5b2830+=_0x207f6b(0x7b3),studentQuizArea['innerHTML']=_0x5b2830;if(currentMode===_0x207f6b(0xbe1)){const _0x3a55e9=document['getElementById'](_0x207f6b(0x4cf));if(_0x3a55e9)_0x3a55e9[_0x207f6b(0x999)](_0x207f6b(0x4fc),cancelAdminTest);}const _0x319760=document[_0x207f6b(0xde0)](_0x207f6b(0x6fa));_0x319760&&(_0x319760['addEventListener'](_0x207f6b(0x35e),handleSubmitQuiz),_0x319760[_0x207f6b(0x999)](_0x207f6b(0x4fc),_0x34e7fa=>{const _0x243985=_0x207f6b;if(_0x34e7fa[_0x243985(0x28a)][_0x243985(0x7cb)]['contains']('confidence-choice-btn')){const _0x3e63ef=_0x34e7fa[_0x243985(0x28a)],_0x8194d6=_0x3e63ef[_0x243985(0xdcf)]['questionIndex'],_0x5b31f4=_0x3e63ef[_0x243985(0xdcf)][_0x243985(0xd73)];document[_0x243985(0xde0)](_0x243985(0xc42)+_0x8194d6)['value']=_0x5b31f4;const _0x7be596=_0x3e63ef[_0x243985(0x1e0)];_0x7be596[_0x243985(0xbe7)](_0x243985(0x490))[_0x243985(0x532)](_0x441ab1=>_0x441ab1[_0x243985(0x7cb)][_0x243985(0x4cd)](_0x243985(0x742))),_0x3e63ef['classList']['add'](_0x243985(0x742));}}));if(window[_0x207f6b(0x9f7)])window[_0x207f6b(0x9f7)][_0x207f6b(0x8aa)]([studentQuizArea]);}async function handleSubmitQuiz(_0x22abb2){const _0x4a1109=_0x36ca11;if(_0x22abb2)_0x22abb2[_0x4a1109(0x4c8)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x1396a3=document[_0x4a1109(0xde0)](_0x4a1109(0x6fa));if(!_0x1396a3)return;const _0x37a127=currentDisplayedQuiz['settings']?.[_0x4a1109(0x382)]===!![],_0x2f06c5=currentDisplayedQuiz[_0x4a1109(0x695)]?.[_0x4a1109(0x825)]||'checkbox';if(_0x37a127&&_0x2f06c5===_0x4a1109(0x446)){let _0x38393a=!![];for(let _0x4f827e=0x0;_0x4f827e<currentDisplayedQuiz[_0x4a1109(0x4f1)][_0x4a1109(0x9b1)];_0x4f827e++){const _0x17fa84=_0x1396a3['querySelector'](_0x4a1109(0x3d4)+_0x4f827e);if(!_0x17fa84||_0x17fa84[_0x4a1109(0xd73)]===''){_0x38393a=![];break;}}if(!_0x38393a){showMessage('กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ');return;}}const _0x29b2da=_0x1396a3[_0x4a1109(0xce2)](_0x4a1109(0x802)),_0x5d7c33=currentDisplayedQuiz[_0x4a1109(0x4f1)][_0x4a1109(0x5a9)](_0x2c3c4d=>_0x2c3c4d[_0x4a1109(0x55e)]===_0x4a1109(0x44a));_0x29b2da&&(_0x29b2da[_0x4a1109(0xc4f)]=!![],_0x29b2da['innerHTML']=_0x5d7c33?_0x4a1109(0xc06):_0x4a1109(0x698));const _0x585089=new FormData(_0x1396a3),_0x3f37dd=currentDisplayedQuiz[_0x4a1109(0x4f1)][_0x4a1109(0xcf7)]((_0x3dfca9,_0xf81a6)=>{const _0x22e408=_0x4a1109,_0x927142=_0x585089[_0x22e408(0xcf4)](_0x22e408(0x359)+_0xf81a6);let _0x2047f1;_0x2f06c5==='mandatory'?_0x2047f1=_0x585089[_0x22e408(0xcf4)]('confidence'+_0xf81a6):_0x2047f1=_0x585089[_0x22e408(0xcf4)](_0x22e408(0x338)+_0xf81a6)==='on';let _0x2c81f1=null;if(_0x927142!==null&&_0x927142!==undefined){const _0x10a283=_0x3dfca9['questionType']||currentDisplayedQuiz[_0x22e408(0xcfa)];_0x10a283===_0x22e408(0x209)||_0x10a283===_0x22e408(0x201)?_0x2c81f1=parseInt(_0x927142):_0x2c81f1=_0x927142;}return{'answer':_0x2c81f1,'wasConfident':_0x2047f1};}),_0x971b9d=currentQuizData['id'],_0x1650b0=doc(db,_0x4a1109(0xdd2)+appId+_0x4a1109(0xd9a)+_0x971b9d+_0x4a1109(0x316),currentStudentName),_0x517d96=await getDoc(_0x1650b0),_0xfa2fe4=_0x517d96[_0x4a1109(0xa40)]()?_0x517d96[_0x4a1109(0x518)]():{},_0x3f88f1=_0xfa2fe4[_0x4a1109(0x96e)]||[];await processAndSubmitAnswers(_0x3f37dd,_0x3f88f1);}async function gradeShortAnswerWithAI(_0x41d47b,_0x2199d9){const _0x203bbc=_0x36ca11;if(!_0x41d47b||!_0x2199d9)return![];try{const _0x2e1297=_0x203bbc(0x754)+_0x41d47b+_0x203bbc(0x579)+_0x2199d9+_0x203bbc(0x239),_0x42e02c={'contents':[{'role':'user','parts':[{'text':_0x2e1297}]}]},_0x4c0f8e='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x11bdee=_0x203bbc(0x44e)+_0x4c0f8e,_0xee6285=await fetch(_0x11bdee,{'method':_0x203bbc(0xb38),'headers':{'Content-Type':_0x203bbc(0x37c)},'body':JSON[_0x203bbc(0x2f2)](_0x42e02c)});if(!_0xee6285['ok'])throw new Error('API\x20call\x20failed');const _0x2092cc=await _0xee6285[_0x203bbc(0xac6)](),_0x19450e=_0x2092cc[_0x203bbc(0x7bf)][0x0][_0x203bbc(0x3ce)][_0x203bbc(0x87b)][0x0][_0x203bbc(0x8c0)][_0x203bbc(0x3ac)]()[_0x203bbc(0x442)]();return _0x19450e===_0x203bbc(0x3f6);}catch(_0x1f64b0){return console[_0x203bbc(0x3c3)](_0x203bbc(0xb2c),_0x1f64b0),![];}}async function processAndSubmitAnswers(_0x566daf,_0x4d7c71){const _0x16398d=_0x36ca11;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x16398d(0xb40)]('fullscreenchange',handleFullscreenChange),document[_0x16398d(0xb40)](_0x16398d(0x9c1),handleVisibilityChange);let _0x48f89e=0x0;const _0x952255=[],_0x2efbd4=currentDisplayedQuiz['questions'][_0x16398d(0x9b1)];let _0xd98e82=0x0,_0x1a813c=[];const _0x40d260=currentDisplayedQuiz[_0x16398d(0x4f1)];for(let _0x46075d=0x0;_0x46075d<_0x40d260[_0x16398d(0x9b1)];_0x46075d++){const _0x122aa0=_0x40d260[_0x46075d],_0x3ea5a7=_0x566daf[_0x46075d],_0x1d4efb=_0x3ea5a7?_0x3ea5a7[_0x16398d(0x683)]:null,_0x459510=_0x3ea5a7?_0x3ea5a7[_0x16398d(0x50c)]:null;let _0x30a06e=![],_0x5ba130=0x0;if(_0x1d4efb!==null&&_0x1d4efb!==''){const _0x850ab6=_0x122aa0[_0x16398d(0x55e)]||currentDisplayedQuiz[_0x16398d(0xcfa)];switch(_0x850ab6){case'matching_item':_0x30a06e=_0x1d4efb===_0x122aa0[_0x16398d(0x77b)];break;case _0x16398d(0x84a):const _0x5df417=_0x1d4efb===!![]||_0x1d4efb===_0x16398d(0x3f6);_0x30a06e=_0x5df417===_0x122aa0[_0x16398d(0x5ec)];break;case _0x16398d(0x44a):_0x30a06e=await gradeShortAnswer(_0x1d4efb,_0x122aa0);break;case _0x16398d(0x209):default:_0x30a06e=Number(_0x1d4efb)===_0x122aa0[_0x16398d(0x31b)];break;}}if(currentDisplayedQuiz['settings']?.[_0x16398d(0x382)]){const _0x1760c7=_0x3ea5a7?_0x3ea5a7[_0x16398d(0x50c)]:null;if(_0x30a06e&&(_0x1760c7===!![]||_0x1760c7===_0x16398d(0xd7e)))_0x5ba130=0x2;else{if(_0x30a06e)_0x5ba130=0x1;else{if(!_0x30a06e&&(_0x1760c7===![]||_0x1760c7===_0x16398d(0xb6a)||_0x1760c7===null))_0x5ba130=0x0;else!_0x30a06e&&(_0x1760c7===!![]||_0x1760c7===_0x16398d(0xd7e))&&(_0x5ba130=-0x1);}}}else _0x5ba130=_0x30a06e?0x1:0x0;_0x48f89e+=_0x5ba130;if(_0x30a06e){_0xd98e82++;if(_0xd98e82===0x3)_0x1a813c[_0x16398d(0xc15)](BADGES[_0x16398d(0x998)]['id']);}else _0xd98e82=0x0;let _0x4d8f96=null;_0x122aa0['options']&&_0x1d4efb!==null&&(_0x4d8f96=_0x122aa0[_0x16398d(0x72e)][_0x1d4efb]),_0x952255['push']({'questionId':_0x122aa0['id'],'answer':_0x1d4efb,'answerText':_0x4d8f96,'isCorrect':_0x30a06e,'wasConfident':_0x459510,'pointsAwarded':_0x5ba130,'originalQuestionText':_0x122aa0[_0x16398d(0x1f4)]||_0x122aa0[_0x16398d(0xc60)]});}const _0x1402ea=_0x952255[_0x16398d(0x273)](_0x4afe54=>_0x4afe54[_0x16398d(0x831)])[_0x16398d(0x9b1)],_0x233370=currentDisplayedQuiz[_0x16398d(0x695)]?.[_0x16398d(0x672)]??Math['floor'](_0x2efbd4/0x2);_0x1402ea===_0x2efbd4&&_0x2efbd4>0x0&&!currentDisplayedQuiz['isRemedial']&&_0x1a813c[_0x16398d(0xc15)](BADGES[_0x16398d(0x1e6)]['id']);const _0x1568cf=currentDisplayedQuiz[_0x16398d(0x695)]?.[_0x16398d(0xcdb)];if(_0x1568cf===_0x16398d(0x6a1)&&quizStartTime){const _0x447579=(new Date()-quizStartTime)/0x3e8,_0x4cfa76=currentDisplayedQuiz[_0x16398d(0x695)][_0x16398d(0x2d3)]*0x3c;_0x1402ea>=_0x233370&&_0x447579<_0x4cfa76/0x2&&_0x1a813c[_0x16398d(0xc15)](BADGES[_0x16398d(0x26a)]['id']);}_0x4d7c71[_0x16398d(0x9b1)]===0x0&&_0x1402ea===_0x2efbd4&&_0x2efbd4>0x0&&_0x1a813c[_0x16398d(0xc15)](BADGES[_0x16398d(0x55f)]['id']);if(_0x4d7c71[_0x16398d(0x9b1)]>0x0){const _0x30daaa=_0x4d7c71[0x0][_0x16398d(0x2ad)];if(_0x30daaa<_0x233370&&_0x1402ea>=_0x233370){const _0x8c9c6c=_0x4d7c71[_0x16398d(0x5a9)](_0x31159f=>(_0x31159f[_0x16398d(0x994)]||[])['includes'](BADGES[_0x16398d(0x894)]['id']));!_0x8c9c6c&&_0x1a813c['push'](BADGES[_0x16398d(0x894)]['id']);}}_0x4d7c71[_0x16398d(0x9b1)]===0x4&&_0x1a813c[_0x16398d(0xc15)](BADGES['PERSEVERANCE']['id']);const _0x557137=currentDisplayedQuiz[_0x16398d(0x695)][_0x16398d(0xdd1)];if(currentMode===_0x16398d(0xbe1)){handleResultDisplay(_0x557137,_0x1402ea,_0x48f89e,_0x1a813c,_0x952255,_0x2efbd4);return;}const _0x253dd0=currentQuizData['id'],_0xf079e4=doc(db,_0x16398d(0xdd2)+appId+_0x16398d(0xd9a)+_0x253dd0+'/submissions',currentStudentName);try{const _0x5a3cb3=[..._0x4d7c71],_0x43c76e={'score':_0x1402ea,'points':_0x48f89e,'badges':Array['from'](new Set(_0x1a813c)),'submittedAt':new Date()['toISOString'](),'answers':_0x952255};_0x5a3cb3[_0x16398d(0xc15)](_0x43c76e);const _0x1c6ef4=_0x4d7c71[_0x16398d(0x9b1)]===0x0?_0x1402ea:_0x4d7c71[0x0][_0x16398d(0x2ad)]||0x0,_0x4959c8=Math[_0x16398d(0x2ca)](..._0x5a3cb3[_0x16398d(0xcf7)](_0x9933a3=>_0x9933a3[_0x16398d(0x2ad)]));await setDoc(_0xf079e4,{'studentName':currentStudentName,'totalQuestions':_0x2efbd4,'attempts':_0x5a3cb3,'firstScore':_0x1c6ef4,'bestScore':_0x4959c8,'latestScore':_0x1402ea,'points':_0x48f89e,'latestSubmittedAt':_0x43c76e[_0x16398d(0x99e)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x16398d(0x264)],currentStudentName),handleResultDisplay(_0x557137,_0x1402ea,_0x48f89e,_0x1a813c,_0x952255,_0x2efbd4);}catch(_0x516701){console[_0x16398d(0x3c3)]('Error\x20saving\x20submission:',_0x516701),showMessage(_0x16398d(0x8e3));}}async function updateStudentProfile(_0x149f12,_0x16ba26){const _0x2862ba=_0x36ca11,_0x5d81de=doc(db,_0x2862ba(0xdd2)+appId+_0x2862ba(0x7f5)+_0x149f12+_0x2862ba(0x629),_0x16ba26);try{const _0x8e9de7=query(collection(db,_0x2862ba(0xdd2)+appId+_0x2862ba(0x365)),where(_0x2862ba(0x264),'==',_0x149f12)),_0x35a4b7=await getDocs(_0x8e9de7),_0x2956be=new Map(_0x35a4b7['docs']['map'](_0x55107b=>[_0x55107b['id'],_0x55107b['data']()])),_0x4d1cc8=Array['from'](_0x2956be[_0x2862ba(0xd97)]());await runTransaction(db,async _0x4f4c46=>{const _0x2f755a=_0x2862ba;let _0x3bb730=0x0;const _0x543a56={};let _0x36d3f1=!![],_0x4854c9=0x0,_0x24ab75=0x0;for(const _0x3d8ab8 of _0x4d1cc8){const _0x29cfe5=_0x2956be[_0x2f755a(0xcf4)](_0x3d8ab8),_0x5c69b0=doc(db,'artifacts/'+appId+_0x2f755a(0xd9a)+_0x3d8ab8+'/submissions',_0x16ba26),_0xcd4e7=await _0x4f4c46['get'](_0x5c69b0);if(_0xcd4e7['exists']()){const _0x59f6e6=_0xcd4e7[_0x2f755a(0x518)](),_0x5a200c=_0x59f6e6[_0x2f755a(0x96e)]||[];if(_0x5a200c['length']>0x0){const _0x1b6240=_0x5a200c['reduce']((_0x1b565c,_0x9a3380)=>{const _0x428fe4=_0x2f755a;if(_0x9a3380['score']>_0x1b565c[_0x428fe4(0x2ad)])return _0x9a3380;if(_0x9a3380['score']===_0x1b565c[_0x428fe4(0x2ad)])return(_0x9a3380[_0x428fe4(0xc00)]||0x0)>(_0x1b565c['points']||0x0)?_0x9a3380:_0x1b565c;return _0x1b565c;},{'score':-0x1,'points':-0x1});_0x1b6240[_0x2f755a(0x2ad)]>-0x1&&(_0x3bb730+=_0x1b6240[_0x2f755a(0xc00)]||0x0,(_0x1b6240[_0x2f755a(0x994)]||[])[_0x2f755a(0x532)](_0x4128b3=>{_0x543a56[_0x4128b3]=(_0x543a56[_0x4128b3]||0x0)+0x1;}));}}if(_0x29cfe5['topic']!==_0x2f755a(0x912)){_0x24ab75++;if(_0xcd4e7[_0x2f755a(0xa40)]()){_0x4854c9++;const _0x4e9f89=_0xcd4e7['data']();_0x4e9f89['bestScore']!==_0x4e9f89['totalQuestions']&&(_0x36d3f1=![]);}else _0x36d3f1=![];}}_0x24ab75>0x0&&_0x4854c9===_0x24ab75&&_0x36d3f1?_0x543a56[_0x2f755a(0xa6f)]=0x1:_0x543a56['specialist']=0x0,_0x4f4c46[_0x2f755a(0x2ce)](_0x5d81de,{'studentName':_0x16ba26,'totalPoints':_0x3bb730,'unlockedBadges':Object['keys'](_0x543a56)['filter'](_0x19efe5=>_0x543a56[_0x19efe5]>0x0),'badgesCount':_0x543a56},{'merge':!![]});});}catch(_0x5b4ab5){console[_0x2862ba(0x3c3)](_0x2862ba(0xb68),_0x5b4ab5),showMessage('เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ');}}function startAdminTest(){const _0x58b3c3=_0x36ca11;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x405875=JSON[_0x58b3c3(0xdc0)](JSON[_0x58b3c3(0x2f2)](currentQuizData));currentMode=_0x58b3c3(0xbe1),currentStudentName=_0x58b3c3(0x747),adminView['classList'][_0x58b3c3(0x23b)](_0x58b3c3(0xaa0)),studentView[_0x58b3c3(0x7cb)][_0x58b3c3(0x4cd)](_0x58b3c3(0xaa0)),studentInitialView[_0x58b3c3(0x7cb)][_0x58b3c3(0x23b)](_0x58b3c3(0xaa0)),studentNameSelectionView[_0x58b3c3(0x7cb)][_0x58b3c3(0x23b)](_0x58b3c3(0xaa0)),studentResultArea[_0x58b3c3(0x7cb)][_0x58b3c3(0x23b)](_0x58b3c3(0xaa0)),studentQuizArea[_0x58b3c3(0x7cb)][_0x58b3c3(0x4cd)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(_0x405875);}function handleResultDisplay(_0xea6197,_0x3c14d1,_0x4cf379,_0x4e6e51,_0x611adc,_0x5b393e){const _0x62fcd8=_0x36ca11;if(_0xea6197===_0x62fcd8(0x28f)){displaySubmissionConfirmation();return;}const _0x2ce7db=currentDisplayedQuiz[_0x62fcd8(0x695)]?.[_0x62fcd8(0x672)]??Math[_0x62fcd8(0x8fb)](_0x5b393e/0x2),_0x352fe1=currentDisplayedQuiz[_0x62fcd8(0x695)]?.[_0x62fcd8(0x746)]??![],_0xa0bb97=currentDisplayedQuiz[_0x62fcd8(0x695)]?.[_0x62fcd8(0xda9)]===!![],_0x3de234=_0x3c14d1<_0x2ce7db,_0xe9a539=_0xea6197===_0x62fcd8(0x9fa)||_0xea6197===_0x62fcd8(0x6f9);if(_0xa0bb97&&_0x3de234&&!_0xe9a539){_0xea6197==='show_results_and_answers'?displayResultsWithAnswers(_0x3c14d1,_0x4cf379,_0x4e6e51,_0x611adc,_0x5b393e,!![]):displayLoopScreen(_0x3c14d1,_0x5b393e,_0xea6197);return;}if(_0x352fe1&&_0x3de234){startAdaptiveFlow(_0x611adc,_0x3c14d1,_0x5b393e);return;}switch(_0xea6197){case'show_results_and_answers':displayResultsWithAnswers(_0x3c14d1,_0x4cf379,_0x4e6e51,_0x611adc,_0x5b393e);break;case _0x62fcd8(0x92f):displayResultsScoreOnly(_0x3c14d1,_0x4cf379,_0x4e6e51,_0x5b393e);break;case _0x62fcd8(0xb9b):displayPassFailOnly(_0x3c14d1,_0x5b393e);break;case'half_mark_status':displayHalfMarkResult(_0x3c14d1,_0x5b393e);break;case _0x62fcd8(0x6f9):displayPerfectScoreResult(_0x3c14d1,_0x5b393e);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x177e9f){const _0x3884fb=_0x36ca11;studentReadingArea[_0x3884fb(0x2bd)]=_0x3884fb(0xc1f);const _0x1293dc=_0x3884fb(0xbbf)+_0x177e9f+_0x3884fb(0x231)+simpleMathPrompt+_0x3884fb(0x734),_0x37e751={'type':_0x3884fb(0xae2),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x3884fb(0xacd),'items':{'type':_0x3884fb(0x1dc)}},'correctAnswerIndex':{'type':_0x3884fb(0xa61)},'explanation':{'type':_0x3884fb(0x1dc)}},'required':[_0x3884fb(0xc60),_0x3884fb(0x72e),_0x3884fb(0x31b),'explanation']},_0x2b97b4={'type':_0x3884fb(0xae2),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x3884fb(0xacd),'items':_0x37e751}},'required':['topic',_0x3884fb(0x4f1)]};try{const _0x2881df=await callAnalysisApi(_0x1293dc,_0x2b97b4);_0x2881df[_0x3884fb(0x554)]=!![],studentReadingArea[_0x3884fb(0x7cb)][_0x3884fb(0x23b)]('hidden');const _0x3add22={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':_0x3884fb(0xc9f)};_0x2881df[_0x3884fb(0x695)]=_0x3add22,displayQuizForStudent(_0x2881df);}catch(_0xa3260a){console[_0x3884fb(0x3c3)]('Remedial\x20quiz\x20generation\x20failed:',_0xa3260a),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView(_0x3884fb(0x965));}}function displayPassFailOnly(_0x19aa5b,_0x4143c6){const _0x14bbd3=_0x36ca11,_0x1c4f41=currentDisplayedQuiz[_0x14bbd3(0x695)]?.[_0x14bbd3(0x672)]??-0x1,_0x3da89d=currentDisplayedQuiz[_0x14bbd3(0x554)]===!![];let _0xe4d214='',_0x1da41f=![];if(_0x3da89d||_0x1c4f41!==-0x1){_0x1da41f=_0x3da89d?_0x19aa5b===_0x4143c6:_0x19aa5b>=_0x1c4f41;const _0x582686=_0x1da41f?_0x14bbd3(0x617):_0x14bbd3(0x789),_0x1c3a5f=_0x1da41f?_0x14bbd3(0x8bb):'ไม่ผ่าน';_0xe4d214=_0x14bbd3(0x64f)+_0x582686+'\x22>'+_0x1c3a5f+_0x14bbd3(0xcd3);}else _0xe4d214='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0xf49c8=_0x14bbd3(0xd59)+currentStudentName+_0x14bbd3(0x63c)+_0xe4d214+_0x14bbd3(0x4bb);studentResultArea[_0x14bbd3(0x2bd)]=_0xf49c8,studentResultArea['classList'][_0x14bbd3(0x4cd)](_0x14bbd3(0xaa0)),studentQuizArea[_0x14bbd3(0x7cb)][_0x14bbd3(0x23b)](_0x14bbd3(0xaa0)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x1da41f});}function cancelAdminTest(){const _0x35fe8d=_0x36ca11;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x35fe8d(0xb40)](_0x35fe8d(0xdad),handleFullscreenChange),document['removeEventListener']('visibilitychange',handleVisibilityChange),currentMode='admin',studentView[_0x35fe8d(0x7cb)][_0x35fe8d(0x23b)](_0x35fe8d(0xaa0)),adminView[_0x35fe8d(0x7cb)][_0x35fe8d(0x4cd)](_0x35fe8d(0xaa0)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x35fe8d(0x46c));}function setupResultScreenBackButton(_0x2dc2b4){const _0x2d94c1=_0x36ca11,_0x197f43={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x2dc2b4};if(_0x197f43[_0x2d94c1(0xbb7)]){const _0x432877=_0x2d94c1(0x63e);studentResultArea[_0x2d94c1(0x22a)](_0x2d94c1(0x5fa),_0x432877),document[_0x2d94c1(0xde0)](_0x2d94c1(0x82f))['addEventListener'](_0x2d94c1(0x4fc),()=>{const _0x3f7ae5=_0x2d94c1;studentResultArea[_0x3f7ae5(0x7cb)][_0x3f7ae5(0x23b)](_0x3f7ae5(0xaa0)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x263f32=_0x2d94c1(0x9da),_0x14805f=currentMode===_0x2d94c1(0xbe1),_0x567aa2=_0x14805f?_0x2d94c1(0x833):_0x2d94c1(0xd81);let _0x367937='';_0x197f43['showRankings']&&(_0x367937+=_0x2d94c1(0xa19));let _0xd06825=_0x197f43[_0x2d94c1(0x28e)];_0xd06825===undefined&&(_0xd06825=_0x197f43[_0x2d94c1(0x2ad)]<_0x197f43[_0x2d94c1(0xde1)]);_0xd06825&&(_0x367937+=_0x2d94c1(0x682));_0x367937+=_0x2d94c1(0x289)+_0x263f32+_0x2d94c1(0xa28)+_0x567aa2+_0x2d94c1(0x501);const _0x58b236='<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>'+_0x367937+_0x2d94c1(0xb49);studentResultArea['insertAdjacentHTML'](_0x2d94c1(0x5fa),_0x58b236),studentResultArea[_0x2d94c1(0xce2)]('#view-rankings-btn')?.['addEventListener'](_0x2d94c1(0x4fc),handleShowStudentRankings);const _0x1b7b32=studentResultArea[_0x2d94c1(0xce2)](_0x2d94c1(0xc5c));_0x1b7b32&&_0x1b7b32[_0x2d94c1(0x999)](_0x2d94c1(0x4fc),()=>{const _0x207bd0=_0x2d94c1;studentResultArea['classList'][_0x207bd0(0x23b)](_0x207bd0(0xaa0)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x263f32)[_0x2d94c1(0x999)](_0x2d94c1(0x4fc),()=>{const _0x1c12b5=_0x2d94c1;_0x14805f?(currentMode='admin',studentView[_0x1c12b5(0x7cb)][_0x1c12b5(0x23b)](_0x1c12b5(0xaa0)),adminView[_0x1c12b5(0x7cb)]['remove'](_0x1c12b5(0xaa0)),showView(_0x1c12b5(0x46c))):(showView(_0x1c12b5(0x965)),document['getElementById'](_0x1c12b5(0x9a4))[_0x1c12b5(0xd73)]='');});}function displayResultsWithAnswers(_0x3c76da,_0x360c5f,_0xbfeb6e,_0x6dd17f,_0x53e5a6,_0x1b6fca=![]){const _0x88c650=_0x36ca11,_0x4ac7a1=_0x53e5a6>0x0?_0x3c76da/_0x53e5a6*0x64:0x0,_0x2a7a9f=currentDisplayedQuiz[_0x88c650(0x695)]?.[_0x88c650(0x672)]??-0x1,_0xd3dcac=currentDisplayedQuiz[_0x88c650(0x554)]===!![];let _0x2efab8='';if(_0xd3dcac||_0x2a7a9f!==-0x1){let _0x348122=_0xd3dcac?_0x3c76da===_0x53e5a6:_0x3c76da>=_0x2a7a9f;const _0x19efa0=_0x348122?_0x88c650(0x617):'bg-red-100\x20text-red-800',_0x5047ef=_0x348122?_0x88c650(0x8bb):'ไม่ผ่าน';_0x2efab8=_0x88c650(0x9d8)+_0x19efa0+'\x22>'+_0x5047ef+'</p>';}let _0x25600d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x3c76da+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x53e5a6+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2efab8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x360c5f+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x4ac7a1[_0x88c650(0xb3d)](0x0)+_0x88c650(0xc59);currentDisplayedQuiz['questions'][_0x88c650(0x532)]((_0x1d10f3,_0x16563e)=>{const _0x3a13bf=_0x88c650,_0xccb909=_0x6dd17f[_0x16563e],_0x185f48=_0xccb909[_0x3a13bf(0x683)],_0x4b293c=_0xccb909['isCorrect'],_0x40f19e=_0x1d10f3[_0x3a13bf(0x55e)]||currentDisplayedQuiz['quizType'];_0x25600d+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0x4b293c?_0x3a13bf(0x673):_0x3a13bf(0xab1))+_0x3a13bf(0x83a)+(_0x16563e+0x1)+'.\x20'+(_0x1d10f3[_0x3a13bf(0x1f4)]||_0x1d10f3[_0x3a13bf(0xc60)])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0x40f19e){case _0x3a13bf(0x2c9):const _0xf575a2=_0x185f48||_0x3a13bf(0x308),_0xaa64e3=_0x1d10f3[_0x3a13bf(0x77b)];_0x25600d+=_0x3a13bf(0x903)+(!_0x4b293c?'line-through\x20text-red-700':'')+'\x22>'+_0xf575a2+'</span></p>';!_0x4b293c&&(_0x25600d+=_0x3a13bf(0x959)+_0xaa64e3+_0x3a13bf(0x472));break;case _0x3a13bf(0x44a):_0x25600d+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x185f48||_0x3a13bf(0x308))+_0x3a13bf(0x472),_0x25600d+=_0x3a13bf(0xba5)+_0x1d10f3[_0x3a13bf(0x763)]+_0x3a13bf(0x472);break;case'true_false':_0x25600d+=_0x3a13bf(0x364)+(_0x1d10f3[_0x3a13bf(0x5ec)]===!![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x185f48===_0x3a13bf(0x3f6)&&!_0x4b293c?_0x3a13bf(0xca0):'')+_0x3a13bf(0x71e),_0x25600d+=_0x3a13bf(0x364)+(_0x1d10f3[_0x3a13bf(0x5ec)]===![]?_0x3a13bf(0x417):'')+'\x20'+(_0x185f48==='false'&&!_0x4b293c?_0x3a13bf(0xca0):'')+_0x3a13bf(0xd91);break;default:_0x25600d+=_0x1d10f3[_0x3a13bf(0x72e)][_0x3a13bf(0xcf7)]((_0x1432ad,_0x525b7d)=>{const _0x1d95ee=_0x3a13bf;let _0x4078bc='',_0x5df77d='';if(_0x525b7d===_0x1d10f3[_0x1d95ee(0x31b)])_0x4078bc='font-bold\x20text-green-700',_0x5df77d=_0x1d95ee(0x5d7);else _0x525b7d===_0x185f48&&(_0x4078bc=_0x1d95ee(0x8f5),_0x5df77d='<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>');return'<div\x20class=\x22'+_0x4078bc+'\x22>'+_0x5df77d+_0x1432ad+_0x1d95ee(0xb49);})[_0x3a13bf(0xa81)]('');break;}_0x25600d+=_0x3a13bf(0x711)+(_0x1d10f3[_0x3a13bf(0xbc9)]||_0x3a13bf(0xbd5))+_0x3a13bf(0xb49);if(!_0x4b293c){const _0x122dc4=_0x1d10f3['stem']||_0x1d10f3[_0x3a13bf(0xc60)];_0x25600d+=_0x3a13bf(0xdea)+escape(_0x122dc4)+_0x3a13bf(0xa41);}_0x25600d+=_0x3a13bf(0xb49);}),studentResultArea[_0x88c650(0x2bd)]=_0x25600d,renderEarnedBadges(_0xbfeb6e,_0x88c650(0x205)),studentResultArea[_0x88c650(0x7cb)][_0x88c650(0x4cd)]('hidden'),studentQuizArea[_0x88c650(0x7cb)][_0x88c650(0x23b)]('hidden'),setupResultScreenBackButton({'isLooping':_0x1b6fca,'score':_0x3c76da,'totalQuestions':_0x53e5a6,'showRankings':!![]});if(window[_0x88c650(0x9f7)])window[_0x88c650(0x9f7)][_0x88c650(0x8aa)]([studentResultArea]);}function displayResultsScoreOnly(_0x3df2c1,_0x21b8ba,_0x184aaf,_0x2a4370){const _0x386297=_0x36ca11,_0x238309=_0x2a4370>0x0?_0x3df2c1/_0x2a4370*0x64:0x0,_0x13c60b=currentDisplayedQuiz['settings']?.[_0x386297(0x672)]??-0x1,_0x23b5b9=currentDisplayedQuiz[_0x386297(0x554)]===!![];let _0x4562a8='';if(_0x23b5b9||_0x13c60b!==-0x1){let _0x1b07bf=_0x23b5b9?_0x3df2c1===_0x2a4370:_0x3df2c1>=_0x13c60b;const _0x4f96f7=_0x1b07bf?'bg-green-100\x20text-green-800':_0x386297(0x789),_0x4d1f19=_0x1b07bf?_0x386297(0x8bb):_0x386297(0x415);_0x4562a8=_0x386297(0x9d8)+_0x4f96f7+'\x22>'+_0x4d1f19+_0x386297(0x472);}let _0x20cd9a=_0x386297(0xd59)+currentStudentName+_0x386297(0xd57)+_0x3df2c1+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x2a4370+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4562a8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x21b8ba+_0x386297(0x9df)+_0x238309[_0x386297(0xb3d)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x386297(0x2bd)]=_0x20cd9a,renderEarnedBadges(_0x184aaf,'earned-badges-container'),studentResultArea[_0x386297(0x7cb)]['remove']('hidden'),studentQuizArea[_0x386297(0x7cb)][_0x386297(0x23b)](_0x386297(0xaa0)),setupResultScreenBackButton({'score':_0x3df2c1,'totalQuestions':_0x2a4370,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x4443b6=_0x36ca11;let _0x3f3d44=_0x4443b6(0xb34)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x4443b6(0x2bd)]=_0x3f3d44,studentResultArea[_0x4443b6(0x7cb)][_0x4443b6(0x4cd)]('hidden'),studentQuizArea[_0x4443b6(0x7cb)][_0x4443b6(0x23b)]('hidden'),document[_0x4443b6(0xde0)](_0x4443b6(0xbe6))[_0x4443b6(0x999)](_0x4443b6(0x4fc),()=>{const _0x52407b=_0x4443b6;showView('student'),document[_0x52407b(0xde0)]('quiz-id-input')[_0x52407b(0xd73)]='';});}function renderEarnedBadges(_0x26978c,_0x135543){const _0xad3ea9=_0x36ca11,_0x5ae609=document[_0xad3ea9(0xde0)](_0x135543);if(!_0x5ae609||!_0x26978c||_0x26978c[_0xad3ea9(0x9b1)]===0x0)return;let _0x23d2ba='';_0x26978c[_0xad3ea9(0x532)]((_0x233bd8,_0x10ed6c)=>{const _0x36fe34=_0xad3ea9,_0x158c25=Object[_0x36fe34(0x976)](BADGES)[_0x36fe34(0x349)](_0x45e665=>_0x45e665['id']===_0x233bd8);_0x158c25&&(_0x23d2ba+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x10ed6c*0.2+_0x36fe34(0x591)+_0x158c25['description']+_0x36fe34(0x5a2)+_0x158c25[_0x36fe34(0x78b)]+_0x36fe34(0xb65)+_0x158c25[_0x36fe34(0xa69)]+_0x36fe34(0xbdf));}),_0x5ae609['innerHTML']=_0x23d2ba;}function startPresentation(_0x3bbbb0){const _0x623fcf=_0x36ca11;currentQuizData=getShuffledQuiz(_0x3bbbb0),currentPresentationSlide=0x0,presentationModal['style'][_0x623fcf(0x4b3)]='flex',renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x2e9429=_0x36ca11;document[_0x2e9429(0x740)]&&document[_0x2e9429(0x778)](),presentationModal[_0x2e9429(0x2fc)][_0x2e9429(0x4b3)]=_0x2e9429(0x2b2);}function renderPresentationSlide(_0x470fd7){const _0x4de229=_0x36ca11,_0x48b889=document[_0x4de229(0xde0)]('presentation-slide-container');if(!currentQuizData||!currentQuizData[_0x4de229(0x4f1)]||!currentQuizData[_0x4de229(0x4f1)][_0x470fd7]){_0x48b889['innerHTML']=_0x4de229(0x26f);return;}const _0x23d9db=currentQuizData['questions'][_0x470fd7],_0x37e271=_0x23d9db[_0x4de229(0x55e)]||currentQuizData[_0x4de229(0xcfa)];_0x48b889[_0x4de229(0x2bd)]='';let _0x361925=_0x4de229(0xd01)+(_0x23d9db[_0x4de229(0x5e1)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x23d9db[_0x4de229(0x5e1)]+_0x4de229(0xb49):'')+_0x4de229(0x743)+(_0x470fd7+0x1)+'.\x20'+(_0x23d9db['stem']||_0x23d9db['questionText'])+_0x4de229(0x615);switch(_0x37e271){case _0x4de229(0x2c9):_0x361925+=_0x23d9db['allResponses'][_0x4de229(0xcf7)](_0x1e672c=>_0x4de229(0x775)+_0x1e672c+_0x4de229(0x7e3))[_0x4de229(0xa81)]('');break;case _0x4de229(0x84a):_0x361925+=_0x4de229(0x824),_0x361925+=_0x4de229(0xa80);break;case _0x4de229(0x38e):case _0x4de229(0x44a):_0x361925+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'fill_in_the_blank':case _0x4de229(0x209):default:_0x361925+=_0x23d9db[_0x4de229(0x72e)][_0x4de229(0xcf7)]((_0x4c3a4e,_0x3ed3cb)=>_0x4de229(0x49b)+_0x3ed3cb+_0x4de229(0x777)+_0x4c3a4e+_0x4de229(0x7e3))[_0x4de229(0xa81)]('');break;}_0x361925+=_0x4de229(0xcbd)+(_0x23d9db['explanation']||_0x4de229(0xbd5))+_0x4de229(0x8ef),_0x48b889[_0x4de229(0x2bd)]=_0x361925;if(window[_0x4de229(0x9f7)])window['MathJax']['typesetPromise']([_0x48b889]);let _0x1f9af0=[];switch(_0x37e271){case _0x4de229(0x2c9):_0x1f9af0=_0x23d9db['allResponses']||[];break;case _0x4de229(0x84a):_0x1f9af0=[_0x4de229(0x7c0),'ไม่ใช่'];break;default:_0x1f9af0=_0x23d9db['options']||[];break;}const _0x56d165=document[_0x4de229(0xde0)](_0x4de229(0xb4c));_0x56d165&&(_0x56d165[_0x4de229(0xa67)]=()=>{openScratchpad(_0x23d9db,_0x1f9af0);});document[_0x4de229(0xbe7)](_0x4de229(0xac0))['forEach'](_0x48105a=>{const _0x5f1453=_0x4de229;_0x48105a[_0x5f1453(0x999)](_0x5f1453(0x4fc),_0x318fec=>revealAnswerForPresentation(_0x470fd7,_0x318fec[_0x5f1453(0x9a9)]));});const _0x18932b=document[_0x4de229(0xde0)](_0x4de229(0xab2));_0x18932b&&_0x18932b[_0x4de229(0x999)]('click',()=>checkShortAnswerForPresentation(_0x470fd7)),document[_0x4de229(0xde0)](_0x4de229(0x320))[_0x4de229(0xb0c)]=_0x4de229(0x7fd)+(_0x470fd7+0x1)+'\x20/\x20'+currentQuizData[_0x4de229(0x4f1)][_0x4de229(0x9b1)],document['getElementById']('prev-question-btn')[_0x4de229(0xc4f)]=_0x470fd7===0x0,document[_0x4de229(0xde0)](_0x4de229(0x6bb))[_0x4de229(0xc4f)]=_0x470fd7===currentQuizData[_0x4de229(0x4f1)][_0x4de229(0x9b1)]-0x1;}async function checkShortAnswerForPresentation(_0x3c81a3){const _0x391a30=_0x36ca11,_0x4d8f3f=currentQuizData[_0x391a30(0x4f1)][_0x3c81a3],_0x45f638=document['getElementById'](_0x391a30(0xbfd)),_0x49aeb6=document['getElementById'](_0x391a30(0xab2)),_0x498fc2=document[_0x391a30(0xde0)](_0x391a30(0x5b1)),_0xf91f6b=document['getElementById']('presentation-explanation');if(!_0x45f638||!_0x49aeb6||!_0x498fc2||!_0xf91f6b)return;const _0x4e1311=_0x45f638[_0x391a30(0xd73)][_0x391a30(0x3ac)]();if(_0x4e1311==='')return;_0x49aeb6['disabled']=!![],_0x49aeb6[_0x391a30(0x2bd)]=_0x391a30(0x7ba),_0x45f638[_0x391a30(0xc4f)]=!![];const _0xe4713d=await gradeShortAnswer(_0x4e1311,_0x4d8f3f);_0xe4713d?_0x498fc2[_0x391a30(0x2bd)]=_0x391a30(0x9e1):_0x498fc2[_0x391a30(0x2bd)]=_0x391a30(0xd0d)+_0x4d8f3f[_0x391a30(0x763)]+')',_0x498fc2[_0x391a30(0x7cb)][_0x391a30(0x4cd)](_0x391a30(0xaa0)),_0xf91f6b[_0x391a30(0x7cb)][_0x391a30(0x4cd)](_0x391a30(0xaa0)),_0x49aeb6[_0x391a30(0x7cb)][_0x391a30(0x23b)](_0x391a30(0xaa0));}function revealAnswerForPresentation(_0x38c58f,_0x1d8f7c){const _0x377ce5=_0x36ca11,_0xb71484=currentQuizData[_0x377ce5(0x4f1)][_0x38c58f],_0x3339b6=_0xb71484[_0x377ce5(0x55e)]||currentQuizData[_0x377ce5(0xcfa)];document[_0x377ce5(0xbe7)](_0x377ce5(0xac0))[_0x377ce5(0x532)](_0x290354=>{const _0x1995ea=_0x377ce5;_0x290354[_0x1995ea(0xc4f)]=!![],_0x290354[_0x1995ea(0x7cb)][_0x1995ea(0x4cd)](_0x1995ea(0xa05));let _0x31fbb6=![];if(_0x3339b6==='multiple_choice'||_0x3339b6===_0x1995ea(0x201)){const _0x45e5ce=parseInt(_0x290354['dataset']['index']);_0x31fbb6=_0x45e5ce===_0xb71484['correctAnswerIndex'];}else{if(_0x3339b6==='true_false'){const _0x39409e=_0x290354['dataset'][_0x1995ea(0x683)]==='true';_0x31fbb6=_0x39409e===_0xb71484[_0x1995ea(0x5ec)];}else _0x3339b6==='matching_item'&&(_0x31fbb6=_0x290354[_0x1995ea(0xb0c)][_0x1995ea(0x3ac)]()===_0xb71484['correctResponse']);}_0x31fbb6?_0x290354[_0x1995ea(0x7cb)][_0x1995ea(0x23b)](_0x1995ea(0xc36),_0x1995ea(0x2e7),_0x1995ea(0x986)):_0x290354[_0x1995ea(0x7cb)][_0x1995ea(0x23b)]('opacity-50');}),_0x1d8f7c[_0x377ce5(0x7cb)]['remove'](_0x377ce5(0xca3));let _0x3c92ac=![];if(_0x3339b6===_0x377ce5(0x209))_0x3c92ac=parseInt(_0x1d8f7c[_0x377ce5(0xdcf)][_0x377ce5(0x68a)])===_0xb71484[_0x377ce5(0x31b)];else{if(_0x3339b6===_0x377ce5(0x84a))_0x3c92ac=_0x1d8f7c[_0x377ce5(0xdcf)][_0x377ce5(0x683)]==='true'===_0xb71484[_0x377ce5(0x5ec)];else _0x3339b6==='matching_item'&&(_0x3c92ac=_0x1d8f7c[_0x377ce5(0xb0c)][_0x377ce5(0x3ac)]()===_0xb71484['correctResponse']);}!_0x3c92ac&&_0x1d8f7c[_0x377ce5(0x7cb)][_0x377ce5(0x23b)](_0x377ce5(0x1f2),'text-white',_0x377ce5(0x9d7)),document['getElementById'](_0x377ce5(0xddd))[_0x377ce5(0x7cb)]['remove'](_0x377ce5(0xaa0));}function startWholeQuizTimer(_0x26e902){const _0x304f5d=_0x36ca11,_0x3f9f93=document[_0x304f5d(0xde0)]('timer-container');if(!_0x3f9f93)return;const _0x27d72a=Date[_0x304f5d(0x51b)]()+_0x26e902*0x3c*0x3e8;_0x3f9f93[_0x304f5d(0x2bd)]=_0x304f5d(0x7dd);const _0x1d4d19=document[_0x304f5d(0xde0)](_0x304f5d(0xc69));quizTimerInterval=setInterval(()=>{const _0x248395=_0x304f5d,_0x122102=_0x27d72a-Date[_0x248395(0x51b)]();if(_0x122102<=0x0)clearInterval(quizTimerInterval),_0x1d4d19[_0x248395(0xb0c)]=_0x248395(0xa60),showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x3a8680=Math['floor'](_0x122102/0x3e8/0x3c%0x3c)[_0x248395(0x460)]()[_0x248395(0xb3c)](0x2,'0'),_0x34076a=Math[_0x248395(0x8fb)](_0x122102/0x3e8%0x3c)[_0x248395(0x460)]()[_0x248395(0xb3c)](0x2,'0');_0x1d4d19[_0x248395(0xb0c)]=_0x3a8680+':'+_0x34076a;}},0x3e8);}function renderPerQuestionView(){const _0x3b4557=_0x36ca11;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x3874cd=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x3c78eb=_0x3874cd[_0x3b4557(0x55e)]||currentDisplayedQuiz['quizType'],_0x2303fe=currentDisplayedQuiz[_0x3b4557(0x695)]?.[_0x3b4557(0x382)]===!![];let _0x3d02ae='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0x3b4557(0x425)+currentDisplayedQuiz['questions'][_0x3b4557(0x9b1)]+_0x3b4557(0x8a5)+(currentMode===_0x3b4557(0xbe1)?_0x3b4557(0x5e0):'')+_0x3b4557(0xabc)+currentDisplayedQuiz[_0x3b4557(0x714)]+_0x3b4557(0xce9);studentQuizArea[_0x3b4557(0x2bd)]=_0x3d02ae;let _0x358363=_0x3874cd['stem']||_0x3874cd[_0x3b4557(0xc60)];_0x3874cd[_0x3b4557(0x5e1)]&&(_0x358363+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x3874cd[_0x3b4557(0x5e1)]+_0x3b4557(0xb49));let _0x4c3dc0='';switch(_0x3c78eb){case _0x3b4557(0x44a):case _0x3b4557(0x38e):_0x4c3dc0=_0x3b4557(0xcc1);break;case _0x3b4557(0x84a):_0x4c3dc0=_0x3b4557(0x663);break;case _0x3b4557(0x2c9):_0x4c3dc0=_0x3b4557(0x8e6)+(_0x3874cd['allResponses']||[])[_0x3b4557(0xcf7)](_0x2c9e27=>_0x3b4557(0xa16)+_0x2c9e27+'\x22>'+_0x2c9e27+_0x3b4557(0x728))[_0x3b4557(0xa81)]('')+_0x3b4557(0x548);break;default:_0x3874cd[_0x3b4557(0x72e)]&&(_0x4c3dc0=_0x3874cd[_0x3b4557(0x72e)][_0x3b4557(0xcf7)]((_0x35760b,_0x3f2dcd)=>_0x3b4557(0x4d4)+_0x3f2dcd+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x3f2dcd+_0x3b4557(0xa78)+_0x3f2dcd+'\x22>'+_0x35760b+_0x3b4557(0x2ea))['join'](''));break;}document['getElementById']('per-question-text')['innerHTML']=_0x358363,document['getElementById'](_0x3b4557(0x508))['innerHTML']=_0x4c3dc0;const _0x3e9d7c=currentDisplayedQuiz[_0x3b4557(0x695)]?.[_0x3b4557(0x382)]===!![],_0x44bc08=currentDisplayedQuiz[_0x3b4557(0x695)]?.[_0x3b4557(0x825)]||'checkbox';if(_0x3e9d7c&&_0x44bc08===_0x3b4557(0x67c)){const _0x10ddf6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea[_0x3b4557(0xce2)](_0x3b4557(0x397))[_0x3b4557(0x22a)]('beforeend',_0x10ddf6);}studentQuizArea[_0x3b4557(0x22a)](_0x3b4557(0x5fa),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz[_0x3b4557(0x4f1)][_0x3b4557(0x9b1)]-0x1?_0x3b4557(0x99a):_0x3b4557(0xc09))+_0x3b4557(0xb41));currentMode===_0x3b4557(0xbe1)&&document[_0x3b4557(0xde0)](_0x3b4557(0x4cf))?.[_0x3b4557(0x999)](_0x3b4557(0x4fc),cancelAdminTest);document[_0x3b4557(0xde0)](_0x3b4557(0xaf8))[_0x3b4557(0x999)](_0x3b4557(0x4fc),()=>handleNextQuestionInTimedMode(![]));if(window[_0x3b4557(0x9f7)])window['MathJax'][_0x3b4557(0x8aa)]([studentQuizArea]);currentDisplayedQuiz[_0x3b4557(0x695)]?.[_0x3b4557(0xcdb)]===_0x3b4557(0x74e)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x1708a1=_0x36ca11,_0x3c4cbe=currentDisplayedQuiz['settings'][_0x1708a1(0x2d3)],_0x53725f=document['getElementById'](_0x1708a1(0xb1c));if(!_0x53725f)return;let _0x322f9e=_0x3c4cbe;_0x53725f[_0x1708a1(0x2bd)]=_0x1708a1(0xde6)+_0x322f9e+_0x1708a1(0x7f6);const _0x524d22=document['getElementById'](_0x1708a1(0x478)),_0x3c41c1=document[_0x1708a1(0xde0)](_0x1708a1(0xb97));perQuestionTimerInterval=setInterval(()=>{const _0x14a529=_0x1708a1;_0x322f9e--;const _0x6824ee=_0x322f9e/_0x3c4cbe*0x64;_0x524d22[_0x14a529(0x2fc)][_0x14a529(0x875)]=_0x6824ee+'%',_0x3c41c1[_0x14a529(0xb0c)]=_0x322f9e,_0x322f9e<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x14a529(0x216)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x148169=![]){const _0x1a70d2=_0x36ca11;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x1db736=null,_0x576296=![];if(!_0x148169){const _0x35f25e=currentDisplayedQuiz[_0x1a70d2(0x4f1)][currentQuestionIndex],_0x14b489=_0x35f25e[_0x1a70d2(0x55e)]||currentDisplayedQuiz[_0x1a70d2(0xcfa)];if(_0x14b489==='short_answer'||_0x14b489===_0x1a70d2(0x38e))_0x1db736=document[_0x1a70d2(0xce2)](_0x1a70d2(0xcf2))?.[_0x1a70d2(0xd73)][_0x1a70d2(0x3ac)]()??'';else{if(_0x14b489===_0x1a70d2(0x2c9))_0x1db736=document[_0x1a70d2(0xce2)](_0x1a70d2(0x6cd))?.[_0x1a70d2(0xd73)]??'';else{const _0x1a4731=document[_0x1a70d2(0xce2)](_0x1a70d2(0x756));_0x1a4731&&(_0x1db736=_0x1a4731[_0x1a70d2(0xd73)]);}}if(_0x1db736===null||_0x1db736===''){showMessage('กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ'),startPerQuestionTimer();return;}const _0x14122b=currentDisplayedQuiz[_0x1a70d2(0x695)]?.[_0x1a70d2(0x382)]===!![],_0x354a2b=currentDisplayedQuiz[_0x1a70d2(0x695)]?.[_0x1a70d2(0x825)]||'checkbox';if(_0x14122b&&_0x354a2b==='mandatory'){document[_0x1a70d2(0xde0)]('confidence-modal')[_0x1a70d2(0xdcf)][_0x1a70d2(0x98e)]=_0x1a70d2(0x4fb),document[_0x1a70d2(0xde0)]('selected-answer-index-hidden')[_0x1a70d2(0xd73)]=_0x1db736,document[_0x1a70d2(0xde0)](_0x1a70d2(0x581))[_0x1a70d2(0x7cb)][_0x1a70d2(0x4cd)](_0x1a70d2(0xaa0));return;}const _0x58a1fd=document[_0x1a70d2(0xde0)](_0x1a70d2(0x393));_0x58a1fd&&(_0x576296=_0x58a1fd[_0x1a70d2(0x39b)]);}const _0x297862={'answer':_0x1db736,'wasConfident':_0x576296};proceedToNextQuestion(_0x297862);}async function finalizePerQuestionQuiz(){const _0x513cfb=_0x36ca11,_0x57299f=currentDisplayedQuiz[_0x513cfb(0x4f1)][_0x513cfb(0x5a9)](_0x68aec=>_0x68aec['questionType']===_0x513cfb(0x44a));_0x57299f?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage(_0x513cfb(0x380));const _0x201dd0=currentQuizData['id'],_0xfecc04=doc(db,'artifacts/'+appId+_0x513cfb(0xd9a)+_0x201dd0+'/submissions',currentStudentName),_0x377e48=await getDoc(_0xfecc04),_0x1ffc97=_0x377e48['exists']()?_0x377e48[_0x513cfb(0x518)]():{},_0x2520db=_0x1ffc97['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x2520db);}function getResultsFilename(){const _0xc11eba=_0x36ca11,_0x219671=document[_0xc11eba(0xde0)](_0xc11eba(0x8bf))['textContent'][_0xc11eba(0x918)](/[^a-z0-9]/gi,'_')[_0xc11eba(0x442)]();return'results_'+(_0x219671||_0xc11eba(0x9b6));}function exportResultsAsImage(){const _0x3670fc=_0x36ca11,_0x5025b0=document[_0x3670fc(0xde0)](_0x3670fc(0x7ef));showMessage(_0x3670fc(0x63d)),html2canvas(_0x5025b0)['then'](_0x5055dd=>{const _0x1ae6e7=_0x3670fc,_0x5aa264=document[_0x1ae6e7(0x78d)]('a');_0x5aa264[_0x1ae6e7(0x2c1)]=getResultsFilename()+_0x1ae6e7(0x477),_0x5aa264[_0x1ae6e7(0x38a)]=_0x5055dd[_0x1ae6e7(0xc34)](_0x1ae6e7(0x515)),_0x5aa264[_0x1ae6e7(0x4fc)](),messageModal['classList'][_0x1ae6e7(0x23b)](_0x1ae6e7(0xaa0));});}function exportResultsAsPDF(){const _0x27078c=_0x36ca11,{jsPDF:_0x3287cc}=window[_0x27078c(0xd02)],_0xa56cb1=new _0x3287cc();_0xa56cb1[_0x27078c(0x725)](_0x27078c(0x817),_0x27078c(0x989)),_0xa56cb1[_0x27078c(0xdaf)]({'html':'#results-table'}),_0xa56cb1[_0x27078c(0x886)](getResultsFilename()+_0x27078c(0x411));}function exportResultsAsWord(){const _0x5a4b9e=_0x36ca11,_0x1d654e='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x5a4b9e(0x80d)+_0x5a4b9e(0x687)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x2b9730=_0x5a4b9e(0x782),_0x1fc080=_0x1d654e+document[_0x5a4b9e(0xde0)](_0x5a4b9e(0x7ef))[_0x5a4b9e(0x2bd)]+_0x2b9730,_0x5e57a6=_0x5a4b9e(0x4b1)+encodeURIComponent(_0x1fc080),_0xb1a70=document[_0x5a4b9e(0x78d)]('a');document['body']['appendChild'](_0xb1a70),_0xb1a70[_0x5a4b9e(0x38a)]=_0x5e57a6,_0xb1a70['download']=getResultsFilename()+_0x5a4b9e(0x3c5),_0xb1a70[_0x5a4b9e(0x4fc)](),document['body']['removeChild'](_0xb1a70);}function exportResultsAsExcel(){const _0x4b682b=_0x36ca11,_0x369f25=document[_0x4b682b(0xde0)](_0x4b682b(0x9d1));let _0x26d9ed=[];for(let _0x4bdacb=0x0;_0x4bdacb<_0x369f25[_0x4b682b(0x8f8)][_0x4b682b(0x9b1)];_0x4bdacb++){let _0x58acc7=[],_0xd67e7a=_0x369f25[_0x4b682b(0x8f8)][_0x4bdacb][_0x4b682b(0xbe7)](_0x4b682b(0x34f));for(let _0x342c09=0x0;_0x342c09<_0xd67e7a[_0x4b682b(0x9b1)];_0x342c09++){_0x58acc7[_0x4b682b(0xc15)]('\x22'+_0xd67e7a[_0x342c09][_0x4b682b(0x639)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x26d9ed['push'](_0x58acc7['join'](','));}const _0x4a4f3d=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x26d9ed[_0x4b682b(0xa81)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x4e48b6=document[_0x4b682b(0x78d)]('a');_0x4e48b6[_0x4b682b(0x38a)]=URL['createObjectURL'](_0x4a4f3d),_0x4e48b6[_0x4b682b(0x2c1)]=getResultsFilename()+_0x4b682b(0xb4f),_0x4e48b6[_0x4b682b(0x4fc)]();}function exportTableAsImage(_0x146ce8,_0x14ad05){const _0x4fd8e2=_0x36ca11,_0x57b548=document[_0x4fd8e2(0xde0)](_0x146ce8);if(!_0x57b548){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage(_0x4fd8e2(0x63d)),html2canvas(_0x57b548)[_0x4fd8e2(0x434)](_0x4f2b79=>{const _0x5cf795=_0x4fd8e2,_0x3a701a=document['createElement']('a');_0x3a701a[_0x5cf795(0x2c1)]=_0x14ad05+'.png',_0x3a701a[_0x5cf795(0x38a)]=_0x4f2b79[_0x5cf795(0xc34)](_0x5cf795(0x515)),_0x3a701a[_0x5cf795(0x4fc)](),messageModal[_0x5cf795(0x7cb)][_0x5cf795(0x23b)]('hidden');});}function exportTableAsPDF(_0xe4183a,_0x5a493f){const _0x51ff4c=_0x36ca11,{jsPDF:_0x414002}=window[_0x51ff4c(0xd02)],_0x487eb3=new _0x414002();_0x487eb3[_0x51ff4c(0x725)](_0x51ff4c(0x817),_0x51ff4c(0x989)),_0x487eb3[_0x51ff4c(0xdaf)]({'html':'#'+_0xe4183a}),_0x487eb3[_0x51ff4c(0x886)](_0x5a493f+_0x51ff4c(0x411));}function exportTableAsWord(_0x39c44c,_0x1658f5){const _0x3fc6fd=_0x36ca11,_0x38eb63=document['getElementById'](_0x39c44c);if(!_0x38eb63){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}const _0x5d5f17=_0x3fc6fd(0x95a)+_0x3fc6fd(0x80d)+_0x3fc6fd(0x687)+_0x3fc6fd(0xaf5),_0x5e0a52='</body></html>',_0x28a469=_0x5d5f17+_0x38eb63[_0x3fc6fd(0x2bd)]+_0x5e0a52,_0x5a4d8e=_0x3fc6fd(0x4b1)+encodeURIComponent(_0x28a469),_0x6fab40=document[_0x3fc6fd(0x78d)]('a');document[_0x3fc6fd(0x6c6)][_0x3fc6fd(0x9b9)](_0x6fab40),_0x6fab40[_0x3fc6fd(0x38a)]=_0x5a4d8e,_0x6fab40[_0x3fc6fd(0x2c1)]=_0x1658f5+'.doc',_0x6fab40['click'](),document[_0x3fc6fd(0x6c6)][_0x3fc6fd(0x7b0)](_0x6fab40);}function exportTableAsExcel(_0x274cc6,_0x1db038){const _0x258d2e=_0x36ca11,_0x2ded6a=document['getElementById'](_0x274cc6);if(!_0x2ded6a){showMessage(_0x258d2e(0xdf0));return;}let _0x5ec524=[];for(let _0x4e39ee=0x0;_0x4e39ee<_0x2ded6a[_0x258d2e(0x8f8)][_0x258d2e(0x9b1)];_0x4e39ee++){let _0x13bbab=[],_0x3216d2=_0x2ded6a[_0x258d2e(0x8f8)][_0x4e39ee][_0x258d2e(0xbe7)](_0x258d2e(0x34f));for(let _0x42dc1e=0x0;_0x42dc1e<_0x3216d2[_0x258d2e(0x9b1)];_0x42dc1e++){_0x13bbab[_0x258d2e(0xc15)]('\x22'+_0x3216d2[_0x42dc1e]['innerText']['replace'](/"/g,'\x22\x22')+'\x22');}_0x5ec524['push'](_0x13bbab[_0x258d2e(0xa81)](','));}const _0x203640=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x5ec524[_0x258d2e(0xa81)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x58c2ad=document[_0x258d2e(0x78d)]('a');_0x58c2ad['href']=URL[_0x258d2e(0x234)](_0x203640),_0x58c2ad[_0x258d2e(0x2c1)]=_0x1db038+_0x258d2e(0xb4f),_0x58c2ad[_0x258d2e(0x4fc)]();}function renderAnalytics(_0xfc2659,_0x7b3267){const _0x3bd0a2=_0x36ca11,_0x20ac99=_0x7b3267[_0x3bd0a2(0x273)](_0x271fc2=>_0x271fc2[_0x3bd0a2(0x7ca)]!==undefined),_0x28b2a9=currentProjectData[_0x3bd0a2(0xd36)][_0x3bd0a2(0x9b1)],_0x3177d4=_0x20ac99[_0x3bd0a2(0x9b1)],_0x4c9e8e=_0x28b2a9-_0x3177d4,_0x3272fb=_0x28b2a9>0x0?_0x3177d4/_0x28b2a9*0x64:0x0,_0x3adff2=_0x20ac99[_0x3bd0a2(0xcf7)](_0x55cb6d=>_0x55cb6d['latestScore']),_0x1aa6ae=_0x3adff2[_0x3bd0a2(0x9b1)]>0x0?_0x3adff2[_0x3bd0a2(0x514)]((_0x22f52a,_0x52c114)=>_0x22f52a+_0x52c114,0x0)/_0x3adff2[_0x3bd0a2(0x9b1)]:0x0,_0x25f73a=_0xfc2659['questions'][_0x3bd0a2(0x9b1)],_0x278b2d=_0x25f73a>0x0?_0x1aa6ae/_0x25f73a*0x64:0x0,_0x90a088=calculateItemAnalysis(_0xfc2659,_0x20ac99),_0x451213=calculateReliabilityKR20(_0xfc2659,_0x20ac99,_0x90a088[_0x3bd0a2(0xba8)]);let _0x1562fd='';if(_0x451213!==null){let _0x5d7030='';if(_0x451213>=0.9)_0x5d7030=_0x3bd0a2(0x6ed);else{if(_0x451213>=0.8)_0x5d7030='ดีมาก';else{if(_0x451213>=0.7)_0x5d7030='ดี';else{if(_0x451213>=0.6)_0x5d7030=_0x3bd0a2(0xd19);else _0x5d7030='ควรปรับปรุง';}}}_0x1562fd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>'+_0x451213[_0x3bd0a2(0xb3d)](0x2)+_0x3bd0a2(0xaee)+_0x5d7030+_0x3bd0a2(0xaad);}const _0x4ef5a5=document[_0x3bd0a2(0xde0)](_0x3bd0a2(0xc89));_0x4ef5a5['innerHTML']=_0x3bd0a2(0x77a)+_0x3272fb['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x3177d4+'/'+_0x28b2a9+_0x3bd0a2(0xb48)+_0x1aa6ae['toFixed'](0x2)+_0x3bd0a2(0xa72)+_0x278b2d[_0x3bd0a2(0xb3d)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x3adff2[_0x3bd0a2(0x9b1)]>0x0?Math[_0x3bd0a2(0x2ca)](..._0x3adff2):_0x3bd0a2(0xbc0))+_0x3bd0a2(0xa88)+(_0x3adff2[_0x3bd0a2(0x9b1)]>0x0?Math['min'](..._0x3adff2):_0x3bd0a2(0xbc0))+_0x3bd0a2(0x877)+_0x1562fd+_0x3bd0a2(0x734);const _0x3fbf44=document[_0x3bd0a2(0xde0)]('interesting-stats-wrapper');_0x3fbf44&&_0x3fbf44[_0x3bd0a2(0x4cd)]();const _0x2a3f2f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x4ef5a5[_0x3bd0a2(0x22a)](_0x3bd0a2(0x6fd),_0x2a3f2f);const _0x1d41ad=currentProjectData['students']||[];renderSubmissionChart(_0x3177d4,_0x4c9e8e,_0x20ac99,_0x1d41ad),renderScoreDistributionChart(_0x20ac99,_0x25f73a),renderQuestionAnalytics(_0xfc2659,_0x20ac99,_0x1d41ad),renderInterestingStats(_0xfc2659,_0x20ac99);}async function handleExportLessonPDF(){const _0x245394=_0x36ca11,_0x2b1224=document[_0x245394(0xde0)]('lesson-plan-content'),_0x1dca92=document[_0x245394(0xde0)](_0x245394(0x70e))[_0x245394(0xb0c)],_0x3a9b19=window[_0x245394(0x972)]('',_0x245394(0x43b)),_0xf3bf01='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x1dca92+_0x245394(0xdf1)+_0x2b1224[_0x245394(0x2bd)]+_0x245394(0x2f8);_0x3a9b19[_0x245394(0x2ab)]['write'](_0xf3bf01),_0x3a9b19[_0x245394(0x2ab)][_0x245394(0x6de)](),_0x3a9b19[_0x245394(0x7b4)]=function(){setTimeout(()=>{_0x3a9b19['print']();},0x5dc);};}function renderInterestingStats(_0x3978ab,_0x26bdfc){const _0x3e411c=_0x36ca11,_0x51ed4b=document['getElementById'](_0x3e411c(0x8ff));if(!_0x51ed4b)return;if(_0x26bdfc[_0x3e411c(0x9b1)]===0x0){_0x51ed4b[_0x3e411c(0x2bd)]='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0x468db9=_0x3978ab['questions'][_0x3e411c(0xcf7)]((_0x9510b8,_0xeb7066)=>({'index':_0xeb7066+0x1,'text':_0x9510b8[_0x3e411c(0xc60)]||_0x9510b8[_0x3e411c(0x1f4)],'correct':0x0}));_0x26bdfc[_0x3e411c(0x532)](_0x599be1=>{const _0x430588=_0x3e411c,_0xf9fdab=_0x599be1[_0x430588(0x96e)][_0x599be1[_0x430588(0x96e)][_0x430588(0x9b1)]-0x1];_0xf9fdab&&_0xf9fdab[_0x430588(0xc95)]&&_0xf9fdab['answers'][_0x430588(0x532)](_0x54ef97=>{const _0x222de3=_0x430588,_0x30bc8a=_0x468db9[_0x222de3(0x349)](_0x5c8e63=>_0x5c8e63[_0x222de3(0x8c0)]===_0x54ef97[_0x222de3(0x1e3)]);_0x54ef97[_0x222de3(0x831)]&&_0x30bc8a&&_0x30bc8a['correct']++;});});const _0x58b61e=_0x26bdfc['length'],_0x3278e9=Math[_0x3e411c(0x2ca)](..._0x468db9['map'](_0x2dbcb7=>_0x2dbcb7[_0x3e411c(0x2bf)])),_0xa57ead=Math[_0x3e411c(0x1ee)](..._0x468db9[_0x3e411c(0xcf7)](_0x325545=>_0x325545[_0x3e411c(0x2bf)])),_0x38855a=_0x468db9[_0x3e411c(0x273)](_0x34ebdd=>_0x34ebdd[_0x3e411c(0x2bf)]===_0x3278e9)[_0x3e411c(0xcf7)](_0x3d3eec=>_0x3e411c(0x2eb)+_0x3d3eec[_0x3e411c(0x68a)]),_0x5089fb=_0x468db9[_0x3e411c(0x273)](_0x132dbd=>_0x132dbd[_0x3e411c(0x2bf)]===_0xa57ead)[_0x3e411c(0xcf7)](_0x25146d=>_0x3e411c(0x2eb)+_0x25146d[_0x3e411c(0x68a)]),_0x17b073=_0x26bdfc[_0x3e411c(0x68d)]((_0x16fea2,_0xc4d66a)=>_0xc4d66a[_0x3e411c(0x7ca)]-_0x16fea2['latestScore'])[_0x3e411c(0x273)]((_0x590431,_0xb82d23,_0x966269)=>_0x590431[_0x3e411c(0x7ca)]===_0x966269[0x0][_0x3e411c(0x7ca)]),_0x59662d=_0x26bdfc[_0x3e411c(0x68d)]((_0x2f670e,_0x38a998)=>_0x2f670e[_0x3e411c(0x7ca)]-_0x38a998['latestScore'])[_0x3e411c(0x273)]((_0x4c85f0,_0x4f018e,_0x304a98)=>_0x4c85f0[_0x3e411c(0x7ca)]===_0x304a98[0x0][_0x3e411c(0x7ca)]),_0x595eb5=_0x3e411c(0x54f)+_0x38855a[_0x3e411c(0xa81)](',\x20')+_0x3e411c(0x932)+_0x3278e9+_0x3e411c(0xd99)+_0x58b61e+_0x3e411c(0xc81)+_0x5089fb[_0x3e411c(0xa81)](',\x20')+_0x3e411c(0x932)+(_0x58b61e-_0xa57ead)+_0x3e411c(0xd99)+_0x58b61e+_0x3e411c(0x667)+_0x17b073[_0x3e411c(0xcf7)](_0xfc2131=>_0xfc2131[_0x3e411c(0x955)])[_0x3e411c(0xa81)](',\x20')+_0x3e411c(0x9ca)+_0x17b073[0x0]['latestScore']+_0x3e411c(0x494)+_0x59662d[_0x3e411c(0xcf7)](_0x8593fc=>_0x8593fc[_0x3e411c(0x955)])[_0x3e411c(0xa81)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x59662d[0x0][_0x3e411c(0x7ca)]+_0x3e411c(0x271);_0x51ed4b[_0x3e411c(0x2bd)]=_0x595eb5;}function renderSubmissionChart(_0x511b52,_0x408ffb,_0x251351,_0xaf4252){const _0x2e2702=_0x36ca11,_0x41b6b4=document[_0x2e2702(0xde0)](_0x2e2702(0x432))[_0x2e2702(0xa6d)]('2d'),_0x23c509=_0x251351[_0x2e2702(0xcf7)](_0x39ed31=>_0x39ed31[_0x2e2702(0x955)]),_0x4b1ac6=_0xaf4252['filter'](_0x53efae=>!_0x23c509[_0x2e2702(0xaf6)](_0x53efae));chartInstances['submission']&&chartInstances['submission'][_0x2e2702(0xd26)](),chartInstances[_0x2e2702(0x795)]=new Chart(_0x41b6b4,{'type':'doughnut','data':{'labels':[_0x2e2702(0x43f),_0x2e2702(0x62c)],'datasets':[{'data':[_0x511b52,_0x408ffb],'backgroundColor':[_0x2e2702(0xbf6),'#F59E0B'],'borderColor':['#ffffff',_0x2e2702(0xbcf)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x2e2702(0x33c)},'tooltip':{'callbacks':{'label':function(_0x856a00){const _0x5e7194=_0x2e2702;let _0x2eb364=_0x856a00[_0x5e7194(0xaf0)]||'';return _0x2eb364&&(_0x2eb364+=':\x20'),_0x2eb364+=_0x856a00[_0x5e7194(0x670)],_0x2eb364;},'afterLabel':function(_0x2e384c){const _0x1127cb=_0x2e2702;let _0x2537e3;return _0x2e384c[_0x1127cb(0xd11)]===0x0?_0x2537e3=_0x23c509:_0x2537e3=_0x4b1ac6,_0x2537e3[_0x1127cb(0x9b1)]>0x0?_0x2537e3[_0x1127cb(0xa81)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x418676,_0x2376bd){const _0x11a946=_0x36ca11,_0x433afc=document['getElementById'](_0x11a946(0x4e0))[_0x11a946(0xa6d)]('2d'),_0x2a390f={};for(let _0x4d853f=0x0;_0x4d853f<=_0x2376bd;_0x4d853f++){_0x2a390f[_0x4d853f]=0x0;}_0x418676[_0x11a946(0x532)](_0x2cfd7a=>{_0x2a390f[_0x2cfd7a['latestScore']]!==undefined&&_0x2a390f[_0x2cfd7a['latestScore']]++;}),chartInstances['score']&&chartInstances['score']['destroy'](),chartInstances[_0x11a946(0x2ad)]=new Chart(_0x433afc,{'type':_0x11a946(0x973),'data':{'labels':Object[_0x11a946(0xd97)](_0x2a390f),'datasets':[{'label':_0x11a946(0x8be),'data':Object[_0x11a946(0x976)](_0x2a390f),'backgroundColor':_0x11a946(0xb35),'borderColor':_0x11a946(0xd9d),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x11a946(0xa26)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x41ebb6){const _0xb83b00=_0x11a946,_0x404b4a=_0x41ebb6['label'],_0x18374f=_0x418676[_0xb83b00(0x273)](_0x105c5a=>_0x105c5a[_0xb83b00(0x7ca)]==_0x404b4a)[_0xb83b00(0xcf7)](_0x117b7a=>_0x117b7a[_0xb83b00(0x955)]);return _0x18374f['length']>0x0?_0x18374f['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x9550d5,_0x38c2bc,_0x4b7557){const _0x2c348a=_0x36ca11,_0x8c6d2b=document[_0x2c348a(0xde0)](_0x2c348a(0x9f3));if(_0x4b7557[_0x2c348a(0x9b1)]===0x0){_0x8c6d2b[_0x2c348a(0x2bd)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x2e9961=calculateItemAnalysis(_0x9550d5,_0x38c2bc),_0x255170=calculateDistractorAnalysis(_0x9550d5,_0x38c2bc);let _0x11d30e='';_0x2e9961[_0x2c348a(0x884)]&&(_0x11d30e=_0x2c348a(0x421)+_0x2e9961[_0x2c348a(0x884)][_0x2c348a(0x594)][_0x2c348a(0x9b1)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2e9961[_0x2c348a(0x884)]['upperGroupNames']['map'](_0x57b360=>_0x2c348a(0xaf1)+_0x57b360+_0x2c348a(0x780))[_0x2c348a(0xa81)]('')+_0x2c348a(0x62e)+_0x2e9961[_0x2c348a(0x884)][_0x2c348a(0x469)][_0x2c348a(0x9b1)]+_0x2c348a(0x6ea)+_0x2e9961['overallGroups'][_0x2c348a(0x469)]['map'](_0x19ba35=>_0x2c348a(0xaf1)+_0x19ba35+_0x2c348a(0x780))[_0x2c348a(0xa81)]('')+_0x2c348a(0xd54));let _0x1ed355='';const _0x4e0ee3=_0x38c2bc['map'](_0x2c84d3=>_0x2c84d3[_0x2c348a(0x955)]),_0x2d1599=_0x2813a9=>{const _0x5670cd=_0x2c348a;if(_0x2813a9>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x2813a9>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x2813a9>=0.4)return _0x5670cd(0x2a3);if(_0x2813a9>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0x5670cd(0x72c);},_0x9fae58=_0x514f93=>{const _0x1167e8=_0x2c348a;if(_0x514f93<0x0)return _0x1167e8(0x771);if(_0x514f93>=0.4)return _0x1167e8(0x974);if(_0x514f93>=0.3)return _0x1167e8(0xd8b);if(_0x514f93>=0.2)return _0x1167e8(0x565);return'<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>';},_0x4e633f=_0x2e11a6=>{const _0x5040dc=_0x2c348a,_0x4330a8=_0x2e11a6['toFixed'](0x0);if(parseFloat(_0x4330a8)===0x64)return _0x5040dc(0x952)+_0x4330a8+_0x5040dc(0x2e8);if(_0x2e11a6>=0x32)return _0x5040dc(0x92c)+_0x4330a8+_0x5040dc(0x2e8);return _0x5040dc(0x462)+_0x4330a8+_0x5040dc(0x2e8);};_0x9550d5['questions'][_0x2c348a(0x532)]((_0x3f6eea,_0x4e93a2)=>{const _0x19ee31=_0x2c348a,_0xec2206=_0x2e9961['perQuestionStats'][_0x4e93a2],_0x501db7=_0x255170[_0x4e93a2],_0x1333be=_0x3f6eea[_0x19ee31(0x1f4)]||_0x3f6eea[_0x19ee31(0xc60)]||_0x3f6eea[_0x19ee31(0xdc1)];let _0x3b1bed=0x0;const _0x366af9=[],_0x238849=[];_0x38c2bc[_0x19ee31(0x532)](_0x3fb0e5=>{const _0x116dc9=_0x19ee31,_0x3ecbc7=_0x3fb0e5[_0x116dc9(0x96e)][_0x3fb0e5[_0x116dc9(0x96e)][_0x116dc9(0x9b1)]-0x1];if(_0x3ecbc7&&_0x3ecbc7[_0x116dc9(0xc95)]){const _0x559ed9=_0x3ecbc7['answers'][_0x116dc9(0x349)](_0x3413f8=>_0x3413f8[_0x116dc9(0x1e3)]===_0x1333be)??_0x3ecbc7['answers'][_0x4e93a2]??null;_0x559ed9&&(_0x559ed9[_0x116dc9(0x831)]?(_0x3b1bed++,_0x366af9[_0x116dc9(0xc15)](_0x3fb0e5[_0x116dc9(0x955)])):_0x238849[_0x116dc9(0xc15)](_0x3fb0e5[_0x116dc9(0x955)]));}});const _0x4ee892=_0x38c2bc[_0x19ee31(0x9b1)]>0x0?_0x3b1bed/_0x38c2bc[_0x19ee31(0x9b1)]*0x64:0x0,_0x154c8b=_0x4b7557[_0x19ee31(0x273)](_0x59b5d5=>!_0x4e0ee3[_0x19ee31(0xaf6)](_0x59b5d5)),_0x5255f7=_0xec2206?_0x19ee31(0x858)+_0xec2206['p'][_0x19ee31(0xb3d)](0x2)+_0x19ee31(0x32b)+_0x2d1599(_0xec2206['p'])+_0x19ee31(0xaef)+_0xec2206['r'][_0x19ee31(0xb3d)](0x2)+_0x19ee31(0x32b)+_0x9fae58(_0xec2206['r'])+_0x19ee31(0xa8f)+_0x4e633f(_0x4ee892)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0x5dde4b='';_0x501db7&&(_0x5dde4b=_0x19ee31(0x9f2)+Object['keys'](_0x501db7)[_0x19ee31(0xcf7)](_0x3384d5=>{const _0x2dc3e0=_0x19ee31,_0x23cd86=_0x501db7[_0x3384d5],_0x2a5a9b=parseInt(_0x3384d5)===_0x3f6eea[_0x2dc3e0(0x31b)],_0x281a59=!_0x2a5a9b&&_0x23cd86['lower_group_count']>_0x23cd86[_0x2dc3e0(0x722)];return _0x2dc3e0(0x233)+(_0x2a5a9b?_0x2dc3e0(0x905):'')+_0x2dc3e0(0xd7f)+(_0x2a5a9b?'✔\x20':'')+_0x23cd86[_0x2dc3e0(0x8c0)]+_0x2dc3e0(0x59a)+_0x23cd86[_0x2dc3e0(0x722)]+_0x2dc3e0(0x59a)+_0x23cd86[_0x2dc3e0(0x91b)]+'\x20'+(_0x281a59?'👍':'')+_0x2dc3e0(0x59a)+_0x23cd86['total']+_0x2dc3e0(0x303);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x4c94c7='';_0xec2206&&_0xec2206[_0x19ee31(0xc55)]&&(_0x4c94c7=_0x19ee31(0xb5c)+_0xec2206[_0x19ee31(0xc55)][_0x19ee31(0x9b1)]+_0x19ee31(0x5d4)+_0xec2206['upperGroupResponders']['map'](_0x54f25f=>_0x19ee31(0xaf1)+(_0x54f25f[_0x19ee31(0x831)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x19ee31(0xbc5))+'\x20'+_0x54f25f['name']+_0x19ee31(0x780))[_0x19ee31(0xa81)]('')+_0x19ee31(0xcbf)+_0xec2206['lowerGroupResponders'][_0x19ee31(0x9b1)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0xec2206[_0x19ee31(0x5da)]['map'](_0x4433d9=>_0x19ee31(0xaf1)+(_0x4433d9[_0x19ee31(0x831)]?_0x19ee31(0xc2d):_0x19ee31(0xbc5))+'\x20'+_0x4433d9[_0x19ee31(0xa69)]+_0x19ee31(0x780))[_0x19ee31(0xa81)]('')+_0x19ee31(0x229)),_0x1ed355+=_0x19ee31(0x553)+(_0x4e93a2+0x1)+':\x20'+_0x1333be+_0x19ee31(0xce5)+_0x5255f7+_0x19ee31(0x1fa)+_0x1333be+_0x19ee31(0x4e7)+_0x3b1bed+'\x20จาก\x20'+_0x38c2bc[_0x19ee31(0x9b1)]+_0x19ee31(0x943)+_0x4ee892['toFixed'](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x366af9[_0x19ee31(0x9b1)]+_0x19ee31(0xbf4)+(_0x366af9[_0x19ee31(0x9b1)]>0x0?_0x366af9['join'](',\x20'):_0x19ee31(0xad6))+_0x19ee31(0xd43)+_0x238849[_0x19ee31(0x9b1)]+_0x19ee31(0xbf4)+(_0x238849[_0x19ee31(0x9b1)]>0x0?_0x238849[_0x19ee31(0xa81)](',\x20'):_0x19ee31(0xad6))+_0x19ee31(0x919)+_0x154c8b[_0x19ee31(0x9b1)]+_0x19ee31(0xbf4)+(_0x154c8b[_0x19ee31(0x9b1)]>0x0?_0x154c8b[_0x19ee31(0xa81)](',\x20'):'ไม่มี')+_0x19ee31(0x481)+_0x5dde4b+_0x19ee31(0x2e6)+_0x4c94c7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x8c6d2b[_0x2c348a(0x2bd)]=_0x11d30e+_0x1ed355;try{window['MathJax']&&MathJax[_0x2c348a(0x8aa)]&&MathJax[_0x2c348a(0x8aa)]([_0x8c6d2b]);}catch(_0x52b5d6){console[_0x2c348a(0x3c3)](_0x2c348a(0x595),_0x52b5d6);}}function calculateDistractorAnalysis(_0x4ab9cb,_0x142408){const _0xb23d6d=_0x36ca11,_0x54afa8={};if(_0x142408[_0xb23d6d(0x9b1)]<0x2)return _0x54afa8;const _0x59f19c=[..._0x142408][_0xb23d6d(0x68d)]((_0x3da6cb,_0x513be0)=>{const _0x5b9620=_0xb23d6d,_0x48f901=_0x513be0[_0x5b9620(0x7ca)]-_0x3da6cb['latestScore'];if(_0x48f901!==0x0)return _0x48f901;const _0x5c4e76=_0x3da6cb[_0x5b9620(0x96e)]?.['length']||0x1,_0x43c865=_0x513be0[_0x5b9620(0x96e)]?.[_0x5b9620(0x9b1)]||0x1,_0x2cae73=_0x5c4e76-_0x43c865;if(_0x2cae73!==0x0)return _0x2cae73;const _0x720877=new Date(_0x3da6cb[_0x5b9620(0x20b)]),_0x2811c5=new Date(_0x513be0[_0x5b9620(0x20b)]),_0x435236=_0x720877-_0x2811c5;if(_0x435236!==0x0)return _0x435236;return _0x3da6cb[_0x5b9620(0x955)][_0x5b9620(0x262)](_0x513be0[_0x5b9620(0x955)],'th');}),_0x3ad2c6=_0x59f19c[_0xb23d6d(0x9b1)],_0x5e6455=Math[_0xb23d6d(0x2ca)](0x1,Math[_0xb23d6d(0x8fb)](_0x3ad2c6*0.33)),_0x1f871f=_0x59f19c[_0xb23d6d(0x5dc)](0x0,_0x5e6455),_0x2f7ec1=_0x59f19c['slice'](-_0x5e6455);return _0x4ab9cb['questions'][_0xb23d6d(0x532)]((_0x523442,_0x2528df)=>{const _0x4f2458=_0xb23d6d;if(_0x523442[_0x4f2458(0x55e)]!=='multiple_choice'||!_0x523442[_0x4f2458(0x72e)])return;const _0xe40112=_0x523442[_0x4f2458(0xc60)],_0x5133b8={};_0x523442['options']['forEach']((_0x2bab1a,_0x57c1b0)=>{_0x5133b8[_0x57c1b0]={'text':_0x2bab1a,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x59f19c['forEach'](_0x1db1a7=>{const _0x1d07db=_0x4f2458,_0x152db2=_0x1db1a7[_0x1d07db(0x96e)][_0x1db1a7['attempts'][_0x1d07db(0x9b1)]-0x1],_0x33b18b=_0x152db2[_0x1d07db(0xc95)][_0x1d07db(0x349)](_0x54866e=>_0x54866e[_0x1d07db(0x1e3)]===_0xe40112);if(_0x33b18b&&_0x33b18b[_0x1d07db(0x683)]!==null){const _0x3a7f7e=_0x523442[_0x1d07db(0x72e)]['findIndex'](_0x10b0f9=>_0x10b0f9===_0x33b18b['answerText']);_0x3a7f7e!==-0x1&&_0x5133b8[_0x3a7f7e]&&(_0x5133b8[_0x3a7f7e]['total']++,_0x1f871f[_0x1d07db(0xaf6)](_0x1db1a7)&&_0x5133b8[_0x3a7f7e][_0x1d07db(0x722)]++,_0x2f7ec1[_0x1d07db(0xaf6)](_0x1db1a7)&&_0x5133b8[_0x3a7f7e]['lower_group_count']++);}}),_0x54afa8[_0x2528df]=_0x5133b8;}),_0x54afa8;}function calculateReliabilityKR20(_0x3bdb70,_0x368e99,_0x252e47){const _0x5395cc=_0x36ca11,_0x525206=_0x3bdb70[_0x5395cc(0x4f1)][_0x5395cc(0x9b1)];if(_0x525206<0x2||_0x368e99[_0x5395cc(0x9b1)]<0x2)return null;const _0x27cd1d=_0x368e99[_0x5395cc(0xcf7)](_0x2a89a5=>_0x2a89a5[_0x5395cc(0x7ca)]),_0x10cd4f=_0x27cd1d[_0x5395cc(0x514)]((_0x5ec5be,_0x3921a5)=>_0x5ec5be+_0x3921a5,0x0)/_0x27cd1d[_0x5395cc(0x9b1)],_0x9ddfc2=_0x27cd1d[_0x5395cc(0xcf7)](_0x4c15a2=>Math[_0x5395cc(0x32a)](_0x4c15a2-_0x10cd4f,0x2))['reduce']((_0xdbc3e8,_0x33223e)=>_0xdbc3e8+_0x33223e,0x0)/_0x27cd1d[_0x5395cc(0x9b1)];if(_0x9ddfc2===0x0)return null;let _0x47638d=0x0;for(let _0x5e49a7=0x0;_0x5e49a7<_0x525206;_0x5e49a7++){const _0x4109a5=_0x252e47[_0x5e49a7]?.['p'];if(_0x4109a5===undefined)continue;const _0x38cd58=0x1-_0x4109a5;_0x47638d+=_0x4109a5*_0x38cd58;}if(_0x47638d===0x0)return null;const _0x2e5c30=_0x525206/(_0x525206-0x1)*(0x1-_0x47638d/_0x9ddfc2);if(_0x2e5c30>0x1)return null;return _0x2e5c30;}async function handleAnalyzeClass(){const _0xebdfa3=_0x36ca11;if(!currentQuizData||!currentQuizData['id']){showMessage(_0xebdfa3(0xc5e));return;}const _0x1639a3=collection(db,_0xebdfa3(0xdd2)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0xebdfa3(0x316)),_0x7f1546=await getDocs(_0x1639a3),_0x102996=_0x7f1546[_0xebdfa3(0x309)][_0xebdfa3(0xcf7)](_0x3a2029=>_0x3a2029['data']());if(_0x102996[_0xebdfa3(0x9b1)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x28cce2=document['getElementById'](_0xebdfa3(0xce1));_0x28cce2[_0xebdfa3(0x2bd)]=_0xebdfa3(0xdd4),document[_0xebdfa3(0xde0)](_0xebdfa3(0x56f))[_0xebdfa3(0xc4f)]=!![];const _0x4cdbad=_0x102996[_0xebdfa3(0xcf7)]((_0x33ada4,_0x56a811)=>{const _0x1eef5b=_0xebdfa3,_0x289643=_0x33ada4['attempts'][_0x33ada4[_0x1eef5b(0x96e)][_0x1eef5b(0x9b1)]-0x1];if(!_0x289643)return'';return _0x1eef5b(0xad7)+(_0x56a811+0x1)+'\x20('+_0x33ada4[_0x1eef5b(0x955)]+_0x1eef5b(0x29f)+_0x289643[_0x1eef5b(0x2ad)]+'/'+_0x33ada4['totalQuestions']+_0x1eef5b(0xcfb)+JSON['stringify'](_0x289643[_0x1eef5b(0xc95)])+_0x1eef5b(0x4c6);})[_0xebdfa3(0xa81)](_0xebdfa3(0x3d0)),_0x5ebf2a=_0xebdfa3(0x42d)+currentQuizData[_0xebdfa3(0x714)]+_0xebdfa3(0x2fb)+JSON[_0xebdfa3(0x2f2)](currentQuizData[_0xebdfa3(0x4f1)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4cdbad+_0xebdfa3(0xdef),_0x4d3f60={'type':'OBJECT','properties':{'classStrengths':{'type':_0xebdfa3(0xacd),'items':{'type':_0xebdfa3(0x1dc)}},'classWeaknesses':{'type':_0xebdfa3(0xacd),'items':{'type':'STRING'}},'teacherSuggestions':{'type':_0xebdfa3(0xacd),'items':{'type':_0xebdfa3(0x1dc)}}},'required':[_0xebdfa3(0xd21),_0xebdfa3(0xc6b),_0xebdfa3(0xbfa)]};try{const _0x256a91=await callAnalysisApi(_0x5ebf2a,_0x4d3f60);displayClassAnalysis(_0x256a91);}catch(_0xdc1c1b){console[_0xebdfa3(0x3c3)]('Error\x20during\x20class\x20analysis:',_0xdc1c1b),_0x28cce2['innerHTML']=_0xebdfa3(0x48f)+_0xdc1c1b[_0xebdfa3(0x805)]+_0xebdfa3(0x65b);}finally{document[_0xebdfa3(0xde0)]('analyze-strengths-btn')[_0xebdfa3(0xc4f)]=![];}}function displayClassAnalysis(_0x8a17c1){const _0x1cfac4=_0x36ca11,_0x509a03=document[_0x1cfac4(0xde0)](_0x1cfac4(0xce1));if(!_0x8a17c1){_0x509a03[_0x1cfac4(0x2bd)]=_0x1cfac4(0xa07);return;}_0x509a03[_0x1cfac4(0x2bd)]=_0x1cfac4(0x1e1)+_0x8a17c1[_0x1cfac4(0xd21)]['map'](_0x17d2e1=>_0x1cfac4(0xaf1)+_0x17d2e1+_0x1cfac4(0x780))[_0x1cfac4(0xa81)]('')+_0x1cfac4(0x51a)+_0x8a17c1['classWeaknesses'][_0x1cfac4(0xcf7)](_0xd72749=>_0x1cfac4(0xaf1)+_0xd72749+_0x1cfac4(0x780))[_0x1cfac4(0xa81)]('')+_0x1cfac4(0xb60)+_0x8a17c1[_0x1cfac4(0xbfa)][_0x1cfac4(0xcf7)](_0x187659=>_0x1cfac4(0xaf1)+_0x187659+_0x1cfac4(0x780))['join']('')+_0x1cfac4(0xabb);}function formatAndPrintWorksheet(_0x1e8b3d,_0x25d4c0){const _0x4ff4af=_0x36ca11,_0x5cc0af=_0x4ff4af(0xd5b)+_0x1e8b3d[_0x4ff4af(0x714)]+_0x4ff4af(0x461)+_0x1e8b3d[_0x4ff4af(0x714)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e8b3d[_0x4ff4af(0x4f1)][_0x4ff4af(0xcf7)]((_0x12e0e1,_0x30849e)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x30849e+0x1)+'.\x20'+_0x12e0e1[_0x4ff4af(0xc60)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x12e0e1[_0x4ff4af(0x5e1)]?_0x4ff4af(0xd5c)+_0x12e0e1['imageCode']+'</div>':'')+_0x4ff4af(0x5d0))[_0x4ff4af(0xa81)]('')+_0x4ff4af(0xde8);_0x25d4c0[_0x4ff4af(0x2ab)][_0x4ff4af(0x8ac)](_0x5cc0af),_0x25d4c0[_0x4ff4af(0x2ab)][_0x4ff4af(0x6de)](),_0x25d4c0[_0x4ff4af(0x7b4)]=function(){setTimeout(()=>{_0x25d4c0['print']();},0x3e8);};}async function generateWorksheet(){const _0x15b5ff=_0x36ca11,_0x4cbc3f=document[_0x15b5ff(0xde0)](_0x15b5ff(0x3a7))[_0x15b5ff(0xd73)][_0x15b5ff(0x3ac)]();if(!_0x4cbc3f){showMessage(_0x15b5ff(0x605));return;}const _0x650ad8=document['getElementById'](_0x15b5ff(0xca9))[_0x15b5ff(0x39b)],_0x355ce6=_0x650ad8?'':'คณิตศาสตร์',_0x520961=window[_0x15b5ff(0x972)]('',_0x15b5ff(0x43b));_0x520961[_0x15b5ff(0x2ab)]['write'](_0x15b5ff(0x50d));const _0x31d518=parseInt(document[_0x15b5ff(0xde0)]('num-questions')['value']),_0x3cac89=document['getElementById'](_0x15b5ff(0x3fc))['checked'],_0x23e12f=_0x3cac89?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0xf32bfb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x355ce6+_0x15b5ff(0x48e)+_0x31d518+_0x15b5ff(0x4a3)+_0x4cbc3f+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x23e12f+_0x15b5ff(0x62d)+simpleMathPrompt+_0x15b5ff(0x257),_0x2798b3={'type':_0x15b5ff(0xae2),'properties':{'topic':{'type':_0x15b5ff(0x1dc)},'questions':{'type':_0x15b5ff(0xacd),'items':{'type':_0x15b5ff(0xae2),'properties':{'questionText':{'type':_0x15b5ff(0x1dc)},'imageCode':{'type':_0x15b5ff(0x1dc)}},'required':[_0x15b5ff(0xc60)]}}},'required':[_0x15b5ff(0x714),_0x15b5ff(0x4f1)]};document[_0x15b5ff(0xde0)]('loader-text')['textContent']='',document[_0x15b5ff(0xde0)](_0x15b5ff(0x58c))[_0x15b5ff(0x7cb)]['remove'](_0x15b5ff(0xaa0)),document[_0x15b5ff(0xde0)](_0x15b5ff(0xcda))['classList'][_0x15b5ff(0x4cd)](_0x15b5ff(0xaa0)),generateWorksheetBtn[_0x15b5ff(0xc4f)]=!![];try{const _0x39648f=await callAnalysisApi(_0xf32bfb,_0x2798b3);formatAndPrintWorksheet(_0x39648f,_0x520961);}catch(_0x38e5dd){console['error']('Error\x20generating\x20worksheet:',_0x38e5dd);if(_0x520961)_0x520961[_0x15b5ff(0x6de)]();showMessage(_0x15b5ff(0x539));}finally{document[_0x15b5ff(0xde0)](_0x15b5ff(0x58c))[_0x15b5ff(0x7cb)][_0x15b5ff(0x23b)](_0x15b5ff(0xaa0)),document['getElementById']('quiz-generation-area')['classList'][_0x15b5ff(0x23b)](_0x15b5ff(0xaa0)),generateWorksheetBtn[_0x15b5ff(0xc4f)]=![];}}async function callAnalysisApi(_0x13798d,_0x7df94c){const _0x5a4159=_0x36ca11,_0x4f32d6={'contents':[{'role':_0x5a4159(0x9d3),'parts':[{'text':_0x13798d}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x7df94c}},_0x163e24=_0x5a4159(0xd2e),_0x1fad72='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x163e24,_0x112d82=await fetch(_0x1fad72,{'method':'POST','headers':{'Content-Type':_0x5a4159(0x37c)},'body':JSON[_0x5a4159(0x2f2)](_0x4f32d6)});if(!_0x112d82['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x112d82[_0x5a4159(0xcb4)]);const _0x29c6a5=await _0x112d82[_0x5a4159(0xac6)]();if(_0x29c6a5[_0x5a4159(0x7bf)]?.[0x0]?.[_0x5a4159(0x3ce)]?.[_0x5a4159(0x87b)]?.[0x0])return JSON[_0x5a4159(0xdc0)](_0x29c6a5[_0x5a4159(0x7bf)][0x0][_0x5a4159(0x3ce)]['parts'][0x0]['text']);else{let _0x1f3ccb=_0x5a4159(0x585);if(_0x29c6a5[_0x5a4159(0x9c6)]?.[_0x5a4159(0xa94)])_0x1f3ccb='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x29c6a5[_0x5a4159(0x9c6)][_0x5a4159(0xa94)]+'.';else _0x29c6a5[_0x5a4159(0x7bf)]?.[0x0]?.['finishReason']&&_0x29c6a5[_0x5a4159(0x7bf)][0x0][_0x5a4159(0xc50)]!==_0x5a4159(0x431)&&(_0x1f3ccb='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x29c6a5[_0x5a4159(0x7bf)][0x0][_0x5a4159(0xc50)]+'.');console[_0x5a4159(0x3c3)](_0x1f3ccb,JSON[_0x5a4159(0x2f2)](_0x29c6a5));throw new Error(_0x1f3ccb);}}async function handleStartSyncMode(_0x3c807d,_0x175b00=![],_0x27bec0=_0x36ca11(0x491)){const _0xc4d13e=_0x36ca11,_0x1665ab=allQuizzes[_0xc4d13e(0x349)](_0x565b47=>_0x565b47['id']===_0x3c807d)||allQuizzesGlobal[_0xc4d13e(0x349)](_0x55fac8=>_0x55fac8['id']===_0x3c807d);if(!_0x1665ab){showMessage(_0xc4d13e(0x950));return;}currentQuizData=getShuffledQuiz(_0x1665ab);const _0x29fdc7=Math[_0xc4d13e(0x8fb)](0x3e8+Math[_0xc4d13e(0xdd3)]()*0x2328)[_0xc4d13e(0x460)](),_0x27de4d=doc(db,'artifacts/'+appId+'/public/data/projects',_0x1665ab[_0xc4d13e(0x264)]),_0x240a74=await getDoc(_0x27de4d);if(!_0x240a74[_0xc4d13e(0xa40)]()){showMessage(_0xc4d13e(0x855));return;}const _0x4dca12=_0x240a74[_0xc4d13e(0x518)]()[_0xc4d13e(0xd36)]||[],_0x4b7f76={};if(_0x27bec0===_0xc4d13e(0xae0)){const _0x3339bd=[...ANONYMOUS_NAMES]['sort'](()=>0.5-Math[_0xc4d13e(0xdd3)]());_0x4dca12[_0xc4d13e(0x532)]((_0x55f5eb,_0x62cc8b)=>{const _0x33f6aa=_0xc4d13e;_0x4b7f76[_0x55f5eb]=_0x3339bd[_0x62cc8b]||_0x33f6aa(0x37b)+(_0x62cc8b+0x1);});}const _0x304f5f=document[_0xc4d13e(0xde0)](_0xc4d13e(0x660))[_0xc4d13e(0x39b)],_0xd79710=parseInt(document[_0xc4d13e(0xde0)]('sync-timer-duration-input')[_0xc4d13e(0xd73)],0xa);let _0x18ce37={'timerMode':_0xc4d13e(0x2b2),'timerDuration':0x0};_0x304f5f&&(_0x18ce37[_0xc4d13e(0xcdb)]=_0xc4d13e(0x74e),_0x18ce37[_0xc4d13e(0x2d3)]=_0xd79710||0xf0);try{const _0x4d30ca=await addDoc(collection(db,'artifacts/'+appId+'/public/data/syncGames'),{'quizId':_0x1665ab['id'],'pin':_0x29fdc7,'status':_0xc4d13e(0x733),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x175b00,'players':{},'gameVariant':_0x27bec0,'reviewQuestionIndex':0x0,'playerNicknames':_0x4b7f76,'isAnonymousRevealed':![],..._0x18ce37});currentLiveGameId=_0x4d30ca['id'],showView(_0xc4d13e(0x7c8)),renderSyncLobbyView(_0x29fdc7,_0x1665ab['topic']),listenForSyncGameUpdates();}catch(_0x1101d3){console[_0xc4d13e(0x3c3)](_0xc4d13e(0x7cd),_0x1101d3),showMessage(_0xc4d13e(0x353));}}function calculateFinalPodiumScores(_0x25bc53){const _0x3f9efa=_0x36ca11;if(!_0x25bc53||!_0x25bc53[_0x3f9efa(0xd6c)]||!_0x25bc53['players'])return _0x25bc53[_0x3f9efa(0x9a3)]||{};const _0x5b1d22=_0x25bc53[_0x3f9efa(0xd6c)]['questions'][_0x3f9efa(0x9b1)],_0x7e82c1=JSON[_0x3f9efa(0xdc0)](JSON[_0x3f9efa(0x2f2)](_0x25bc53[_0x3f9efa(0x9a3)]));return Object[_0x3f9efa(0x976)](_0x7e82c1)[_0x3f9efa(0x532)](_0xc616c9=>{const _0x5158f0=_0x3f9efa,_0x48b0bc=_0xc616c9[_0x5158f0(0x2ad)];let _0x2097c3=_0x48b0bc,_0x2bf81b=0x0;_0x25bc53[_0x5158f0(0x382)]&&_0xc616c9[_0x5158f0(0xc95)]&&_0xc616c9[_0x5158f0(0xc95)][_0x5158f0(0x532)](_0x2b7cb2=>{const _0x360cae=_0x5158f0;if(_0x2b7cb2[_0x360cae(0x831)]&&(_0x2b7cb2[_0x360cae(0x50c)]===!![]||_0x2b7cb2[_0x360cae(0x50c)]===_0x360cae(0xd7e)))_0x2bf81b+=0x1;else!_0x2b7cb2[_0x360cae(0x831)]&&(_0x2b7cb2[_0x360cae(0x50c)]===!![]||_0x2b7cb2[_0x360cae(0x50c)]==='confident')&&(_0x2bf81b-=0x1);}),_0x2097c3+=_0x2bf81b,_0x5b1d22>0x0&&_0x48b0bc===_0x5b1d22&&(_0x2097c3+=0x1,_0xc616c9[_0x5158f0(0x56a)]=!![]),_0xc616c9['score']=_0x2097c3;}),_0x7e82c1;}function listenForSyncGameUpdates(){const _0x4aa54c=_0x36ca11;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x2af0b1=doc(db,_0x4aa54c(0xdd2)+appId+'/public/data/syncGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x2af0b1,_0x3eeb7d=>{const _0x63fca4=_0x4aa54c;if(!_0x3eeb7d['exists']()){sessionStorage[_0x63fca4(0x2c7)](_0x63fca4(0x941));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x63fca4(0x803));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x63fca4(0x46c)):showView(_0x63fca4(0x965));return;}const _0x1d708d=_0x3eeb7d[_0x63fca4(0x518)]();currentMode===_0x63fca4(0x67f)?updateAdminSyncView(_0x1d708d):updateStudentSyncView(_0x1d708d);});}function renderSyncLobbyView(_0x988dc7,_0x39407b){const _0x2fdf63=_0x36ca11;liveGameView[_0x2fdf63(0x2bd)]=_0x2fdf63(0xd53)+_0x39407b+_0x2fdf63(0x331)+_0x988dc7+_0x2fdf63(0x8fe);const _0x1d2c77=document['getElementById'](_0x2fdf63(0x7cc)),_0x2527f9=document[_0x2fdf63(0xde0)](_0x2fdf63(0xbb4));_0x1d2c77[_0x2fdf63(0x999)]('change',()=>{const _0x22695d=_0x2fdf63;_0x2527f9[_0x22695d(0x2fc)][_0x22695d(0x4b3)]=_0x1d2c77[_0x22695d(0x39b)]?'block':_0x22695d(0x2b2);}),document['getElementById'](_0x2fdf63(0x375))[_0x2fdf63(0x999)](_0x2fdf63(0x4fc),async()=>{const _0x24c0bc=_0x2fdf63,_0x1cfb5a=doc(db,_0x24c0bc(0xdd2)+appId+_0x24c0bc(0xb3a),currentLiveGameId),_0x264587=document[_0x24c0bc(0xde0)](_0x24c0bc(0x7cc))[_0x24c0bc(0x39b)];await updateDoc(_0x1cfb5a,{'status':_0x24c0bc(0x359),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x264587});});}function updateAdminSyncView(_0x544a41){const _0x32f292=_0x36ca11;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x544a41[_0x32f292(0xcb4)]){case _0x32f292(0x733):renderSyncLobbyView(_0x544a41[_0x32f292(0xc52)],_0x544a41[_0x32f292(0xd6c)][_0x32f292(0x714)]);const _0x54e08a=Object['entries'](_0x544a41['players']||{})[_0x32f292(0x273)](([_0x43e2bf,_0x24a8a3])=>_0x24a8a3[_0x32f292(0xcb4)]!==_0x32f292(0x7d4));document[_0x32f292(0xde0)]('player-count')[_0x32f292(0xb0c)]=_0x54e08a['length'],document[_0x32f292(0xde0)](_0x32f292(0xc85))[_0x32f292(0x2bd)]=_0x54e08a[_0x32f292(0xcf7)](([_0x18dbfe,_0x1dd4ab])=>_0x32f292(0xc71)+_0x18dbfe+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x18dbfe+_0x32f292(0x8a4))['join']('')||_0x32f292(0xc1a),document[_0x32f292(0xde0)](_0x32f292(0x375))[_0x32f292(0xc4f)]=_0x54e08a['length']===0x0;break;case _0x32f292(0x359):const _0x5028ce=Object[_0x32f292(0x976)](_0x544a41[_0x32f292(0x9a3)]||{})[_0x32f292(0x273)](_0x430a58=>_0x430a58[_0x32f292(0xcb4)]!==_0x32f292(0x7d4)),_0x345db2=_0x5028ce[_0x32f292(0x273)](_0xb05c4=>_0xb05c4['answered'])[_0x32f292(0x9b1)],_0x406ca9=_0x345db2===_0x5028ce[_0x32f292(0x9b1)]&&_0x5028ce[_0x32f292(0x9b1)]>0x0;if(_0x406ca9&&_0x544a41[_0x32f292(0xcb4)]==='question'){if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);const _0x32f402=doc(db,'artifacts/'+appId+_0x32f292(0xb3a),currentLiveGameId),_0x5d83fb=_0x544a41[_0x32f292(0x5cd)]||_0x32f292(0x491);_0x5d83fb===_0x32f292(0xae0)?updateDoc(_0x32f402,{'status':_0x32f292(0x57f)}):updateDoc(_0x32f402,{'status':'summary'});return;}if(document[_0x32f292(0xde0)](_0x32f292(0xba6))===null)renderAdminSyncQuestionView(_0x544a41);else{const _0x49a17a=document[_0x32f292(0xde0)](_0x32f292(0x5f9));_0x49a17a&&(_0x49a17a[_0x32f292(0xb0c)]=_0x345db2+'/'+_0x5028ce[_0x32f292(0x9b1)]);const _0x1da282=document[_0x32f292(0xde0)](_0x32f292(0x86e));_0x1da282&&(_0x1da282['innerHTML']=_0x5028ce[_0x32f292(0xcf7)](_0x48535c=>{const _0x1f5f84=_0x32f292,_0x2fd370=_0x48535c[_0x1f5f84(0x963)]?_0x1f5f84(0xc36):_0x1f5f84(0x6ce),_0x135316=_0x48535c['answered']?_0x1f5f84(0xcb1):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x1f5f84(0x533)+_0x2fd370+_0x1f5f84(0xb52)+_0x135316+_0x1f5f84(0xdbe)+_0x48535c['name']+_0x1f5f84(0xa93)+_0x48535c[_0x1f5f84(0xa69)]+_0x1f5f84(0x516);})['join'](''));}if(_0x544a41[_0x32f292(0xcdb)]===_0x32f292(0x74e)){if(!_0x544a41[_0x32f292(0x212)]){console[_0x32f292(0x966)](_0x32f292(0x7c3));return;}const _0x2d8cac=_0x544a41['questionDisplayedAt'][_0x32f292(0x2c3)]()[_0x32f292(0x1de)](),_0x3d2d58=_0x544a41[_0x32f292(0x2d3)]*0x3e8,_0x36d5ea=_0x2d8cac+_0x3d2d58;syncQuestionTimerInterval=setInterval(()=>{const _0x40040d=_0x32f292,_0x488387=_0x36d5ea-Date[_0x40040d(0x51b)](),_0x423275=document[_0x40040d(0xde0)](_0x40040d(0x8d9)),_0x457ea3=document[_0x40040d(0xde0)](_0x40040d(0xbfb));if(_0x488387<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x423275)_0x423275[_0x40040d(0x2fc)][_0x40040d(0x875)]='0%';if(_0x457ea3)_0x457ea3[_0x40040d(0xb0c)]='0';const _0x1809ae=doc(db,_0x40040d(0xdd2)+appId+_0x40040d(0xb3a),currentLiveGameId),_0x389354=_0x544a41[_0x40040d(0x5cd)]||_0x40040d(0x491);_0x389354==='anonymous'?updateDoc(_0x1809ae,{'status':'results'}):updateDoc(_0x1809ae,{'status':_0x40040d(0x97d)});}else{if(_0x423275&&_0x457ea3){const _0x4328fb=_0x488387/_0x3d2d58*0x64;_0x423275[_0x40040d(0x2fc)][_0x40040d(0x875)]=_0x4328fb+'%',_0x457ea3[_0x40040d(0xb0c)]=Math[_0x40040d(0xaa3)](_0x488387/0x3e8);}}},0x1f4);}break;case _0x32f292(0x97d):const _0x4e0ccf=_0x544a41['currentQuestionIndex'],_0x269fac=_0x544a41[_0x32f292(0xd6c)][_0x32f292(0x4f1)][_0x4e0ccf];renderSyncSummaryView(_0x544a41,_0x269fac,!![]);break;case _0x32f292(0x57f):const _0x42ceed=_0x544a41[_0x32f292(0x5cd)]||_0x32f292(0x491);_0x42ceed===_0x32f292(0x8fa)?renderAdminSyncDashboard(_0x544a41,!![],_0x544a41[_0x32f292(0xcd1)]):renderAdminSyncDashboard(_0x544a41,!![],_0x544a41[_0x32f292(0xca1)]);break;case'podium':_0x544a41['shouldSaveResults']&&saveGameResultsAsSubmissions(_0x544a41);sessionStorage[_0x32f292(0x2c7)](_0x32f292(0x941));const _0x327970=calculateFinalPodiumScores(_0x544a41);showPodiumView(_0x327970,'sync');break;}}function renderAdminSyncQuestionView(_0x2b4af3){const _0x5368ae=_0x36ca11,_0x3d0001=_0x2b4af3[_0x5368ae(0xca1)],_0x7c2a8=_0x2b4af3['shuffledQuiz'][_0x5368ae(0x4f1)][_0x3d0001],_0x5b1456=_0x2b4af3[_0x5368ae(0xd6c)]['questions'][_0x5368ae(0x9b1)],_0x5d6327=Object['values'](_0x2b4af3[_0x5368ae(0x9a3)]||{})[_0x5368ae(0x273)](_0x280d75=>_0x280d75['status']!==_0x5368ae(0x7d4)),_0x3a1d0c=_0x5d6327[_0x5368ae(0x273)](_0x1918d2=>_0x1918d2[_0x5368ae(0x963)])['length'],_0x219d54=_0x3a1d0c===_0x5d6327[_0x5368ae(0x9b1)]&&_0x5d6327['length']>0x0,_0x1f88ab=(_0x7c2a8[_0x5368ae(0x72e)]||[])[_0x5368ae(0xcf7)](_0x6952a1=>_0x5368ae(0x260)+_0x6952a1+_0x5368ae(0xb49))[_0x5368ae(0xa81)]('');let _0x160aef='';_0x2b4af3[_0x5368ae(0xcdb)]===_0x5368ae(0x74e)&&(_0x160aef=_0x5368ae(0x84e)+_0x2b4af3[_0x5368ae(0x2d3)]+'</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');liveGameView[_0x5368ae(0x2bd)]=_0x5368ae(0x4cc)+(_0x3d0001+0x1)+_0x5368ae(0xd99)+_0x5b1456+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+_0x2b4af3['pin']+_0x5368ae(0xc7c)+_0x3a1d0c+'/'+_0x5d6327['length']+_0x5368ae(0xde4)+_0x160aef+_0x5368ae(0x82a)+_0x7c2a8[_0x5368ae(0xc60)]+_0x5368ae(0x616)+_0x1f88ab+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20'+(!_0x219d54?'disabled':'')+_0x5368ae(0x2af);if(window[_0x5368ae(0x9f7)])MathJax[_0x5368ae(0x8aa)]();document[_0x5368ae(0xde0)](_0x5368ae(0x3b6))[_0x5368ae(0x999)](_0x5368ae(0x4fc),async()=>{const _0x1a9aeb=_0x5368ae,_0x32478a=doc(db,_0x1a9aeb(0xdd2)+appId+_0x1a9aeb(0xb3a),currentLiveGameId);await updateDoc(_0x32478a,{'status':'summary'});}),document[_0x5368ae(0xde0)](_0x5368ae(0x74c))[_0x5368ae(0xa67)]=()=>{openScratchpad(_0x7c2a8,_0x7c2a8['options']||[]);},document[_0x5368ae(0xde0)](_0x5368ae(0xb99))['addEventListener']('click',()=>{const _0xa2f48e=_0x5368ae;document['getElementById']('sync-player-management')[_0xa2f48e(0x7cb)][_0xa2f48e(0x527)](_0xa2f48e(0xaa0));});const _0x51a2d8=document[_0x5368ae(0xde0)]('end-sync-game-btn');_0x51a2d8&&(_0x51a2d8[_0x5368ae(0xa67)]=()=>{const _0x388dcd=_0x5368ae;showConfirmation(_0x388dcd(0xabf),async()=>{const _0x49d499=_0x388dcd,_0x1e6aa6=doc(db,'artifacts/'+appId+_0x49d499(0xb3a),currentLiveGameId);await updateDoc(_0x1e6aa6,{'status':'podium'});});});}function renderSyncLeaderboardView(_0x523eae,_0x361e0f){const _0x38a1b9=_0x36ca11,_0x4b55a0=Object[_0x38a1b9(0x976)](_0x523eae['players']||{});_0x4b55a0[_0x38a1b9(0x68d)]((_0x3c0979,_0x53131f)=>_0x53131f['score']-_0x3c0979[_0x38a1b9(0x2ad)]);const _0x1b5cdf=_0x4b55a0['slice'](0x0,0x5);let _0x3b6d5e='';if(_0x361e0f){const _0x2242bc=_0x523eae[_0x38a1b9(0xca1)]>=_0x523eae[_0x38a1b9(0xd6c)][_0x38a1b9(0x4f1)][_0x38a1b9(0x9b1)]-0x1;_0x3b6d5e='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>'+(_0x2242bc?_0x38a1b9(0x628):_0x38a1b9(0xbee))+_0x38a1b9(0x40f);}else _0x3b6d5e=_0x38a1b9(0x900);liveGameView[_0x38a1b9(0x2bd)]=_0x38a1b9(0x857)+_0x1b5cdf[_0x38a1b9(0xcf7)]((_0x4b3e4e,_0x359d9a)=>_0x38a1b9(0x297)+(_0x359d9a+0x1)+'.\x20'+_0x4b3e4e[_0x38a1b9(0xa69)]+_0x38a1b9(0x93e)+_0x4b3e4e['score']+_0x38a1b9(0xcd3))[_0x38a1b9(0xa81)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3b6d5e+_0x38a1b9(0x4bb),_0x361e0f&&document['getElementById']('next-sync-question-btn')['addEventListener'](_0x38a1b9(0x4fc),async()=>{const _0x429e85=_0x38a1b9,_0xacafea=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x1c16cf=_0x523eae[_0x429e85(0xca1)]+0x1;if(_0x1c16cf<_0x523eae[_0x429e85(0xd6c)][_0x429e85(0x4f1)]['length']){const _0x14bb7f={};Object[_0x429e85(0xd97)](_0x523eae['players'])[_0x429e85(0x532)](_0x4d3b6c=>{const _0x5953e3=_0x429e85;_0x14bb7f[_0x5953e3(0x250)+_0x4d3b6c+'.answered']=![];}),await updateDoc(_0xacafea,{..._0x14bb7f,'status':_0x429e85(0x359),'currentQuestionIndex':_0x1c16cf,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0xacafea,{'status':_0x429e85(0x54b)});});}async function handleJoinSyncGame(){const _0x1eddf1=_0x36ca11,_0x369f09=prompt(_0x1eddf1(0x717));if(!_0x369f09||_0x369f09['trim']()['length']!==0x2){showMessage(_0x1eddf1(0xcab));return;}try{const _0xffcd06=collection(db,_0x1eddf1(0xdd2)+appId+'/public/data/syncGames'),_0x268849=query(_0xffcd06,where(_0x1eddf1(0xc52),'==',_0x369f09['trim']()),where(_0x1eddf1(0xcb4),'==','lobby')),_0x28d03b=await getDocs(_0x268849);if(_0x28d03b['empty']){showMessage('ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0xeb86e5=_0x28d03b[_0x1eddf1(0x309)][0x0];currentLiveGameId=_0xeb86e5['id'];const _0x2cadce=_0xeb86e5['data'](),_0x468048=doc(db,_0x1eddf1(0xdd2)+appId+'/public/data/quizzes',_0x2cadce[_0x1eddf1(0x935)]),_0x1f1437=await getDoc(_0x468048);if(!_0x1f1437[_0x1eddf1(0xa40)]())throw new Error(_0x1eddf1(0x1fb));const _0x400c85=_0x1f1437[_0x1eddf1(0x518)](),_0xac8cb7=doc(db,_0x1eddf1(0xdd2)+appId+_0x1eddf1(0x20e),_0x400c85[_0x1eddf1(0x264)]),_0x3ce50f=await getDoc(_0xac8cb7);if(!_0x3ce50f[_0x1eddf1(0xa40)]())throw new Error(_0x1eddf1(0xc90));currentQuizData=_0x2cadce[_0x1eddf1(0xd6c)];const _0x3b0645=_0x3ce50f[_0x1eddf1(0x518)]();showView('student-team-join'),showTeamPlayerSelection(_0x3b0645[_0x1eddf1(0xd36)],_0x400c85[_0x1eddf1(0x714)]);const _0x1506e5=document['getElementById'](_0x1eddf1(0x4ba));_0x1506e5[_0x1eddf1(0xa67)]=confirmAndJoinSyncGame;}catch(_0x24c7d6){console[_0x1eddf1(0x3c3)](_0x1eddf1(0xc11),_0x24c7d6),showMessage(_0x1eddf1(0x37d)+_0x24c7d6['message']);}}function updateStudentSyncView(_0x8b8802){const _0x4e70bf=_0x36ca11,_0x4b407b=_0x8b8802[_0x4e70bf(0x9a3)][localTeamPlayers[0x0]];if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x8b8802[_0x4e70bf(0xcb4)]){case _0x4e70bf(0x733):showView(_0x4e70bf(0x7c8)),liveGameView[_0x4e70bf(0x2bd)]=_0x4e70bf(0x661);break;case _0x4e70bf(0x359):localPlayerTurnIndex=0x0;const _0xbf81b=localTeamPlayers[_0x4e70bf(0x799)](_0x5504ec=>_0x8b8802[_0x4e70bf(0x9a3)][_0x5504ec]?.[_0x4e70bf(0x963)]===!![]);if(_0xbf81b)liveGameView['innerHTML']='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>';else{renderStudentSyncQuestionView(_0x8b8802);if(_0x8b8802['timerMode']===_0x4e70bf(0x74e)){const _0x5939d3=_0x8b8802[_0x4e70bf(0x212)]['toDate']()[_0x4e70bf(0x1de)](),_0x518975=_0x8b8802[_0x4e70bf(0x2d3)]*0x3e8,_0x4a337f=_0x5939d3+_0x518975;syncQuestionTimerInterval=setInterval(()=>{const _0x39deaa=_0x4e70bf,_0x5cde0b=_0x4a337f-Date[_0x39deaa(0x51b)](),_0x584169=document['getElementById'](_0x39deaa(0x8d9)),_0x401228=document[_0x39deaa(0xde0)](_0x39deaa(0xbfb));if(_0x5cde0b<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x584169)_0x584169[_0x39deaa(0x2fc)]['width']='0%';if(_0x401228)_0x401228['textContent']='0';liveGameView[_0x39deaa(0x2bd)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{if(_0x584169&&_0x401228){const _0x340139=_0x5cde0b/_0x518975*0x64;_0x584169[_0x39deaa(0x2fc)][_0x39deaa(0x875)]=_0x340139+'%',_0x401228[_0x39deaa(0xb0c)]=Math['ceil'](_0x5cde0b/0x3e8);}}},0x1f4);}}break;case'summary':liveGameView['innerHTML']=_0x4e70bf(0x389);break;case'results':localPlayerTurnIndex=0x0;const _0x3a6eb2=_0x8b8802[_0x4e70bf(0x5cd)]||_0x4e70bf(0x491);if(_0x3a6eb2===_0x4e70bf(0x8fa))renderAdminSyncDashboard(_0x8b8802,![],_0x8b8802['reviewQuestionIndex']);else _0x3a6eb2===_0x4e70bf(0xae0)?renderAdminSyncDashboard(_0x8b8802,![],_0x8b8802['currentQuestionIndex']):renderStudentSyncResultsView(_0x8b8802);break;case _0x4e70bf(0x54b):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener'](_0x4e70bf(0xdad),handleFullscreenChange),document[_0x4e70bf(0xb40)]('visibilitychange',handleVisibilityChange),sessionStorage['removeItem'](_0x4e70bf(0x941));const _0x2507f3=calculateFinalPodiumScores(_0x8b8802);showPodiumView(_0x2507f3,_0x4e70bf(0xaa1));break;}}function renderStudentSyncResultsView(_0x2a2586){const _0x1c4aa9=_0x36ca11,_0x2b4ead=localTeamPlayers[_0x1c4aa9(0xcf7)](_0x3dd01d=>_0x2a2586[_0x1c4aa9(0x9a3)][_0x3dd01d])[_0x1c4aa9(0x273)](Boolean);_0x2b4ead[_0x1c4aa9(0x68d)]((_0x2e5650,_0x47a11f)=>(_0x47a11f['score']||0x0)-(_0x2e5650['score']||0x0));const _0x4fe43f=_0x2a2586[_0x1c4aa9(0x5cd)]||_0x1c4aa9(0x491),_0x563008=_0x2a2586['shuffledQuiz'][_0x1c4aa9(0x4f1)];let _0x6090ba='';if(_0x4fe43f===_0x1c4aa9(0x8fa)){const _0x4cf8e8=_0x2a2586[_0x1c4aa9(0xcd1)]>=_0x563008[_0x1c4aa9(0x9b1)]-0x1;_0x4cf8e8?_0x6090ba=_0x1c4aa9(0x800):_0x6090ba='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงสรุปข้อต่อไป...</p>';}else{const _0x37098f=_0x2a2586[_0x1c4aa9(0xca1)]>=_0x563008[_0x1c4aa9(0x9b1)]-0x1;_0x37098f?_0x6090ba='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x6090ba=_0x1c4aa9(0x9a7);}const _0x5ab05e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2b4ead[_0x1c4aa9(0xcf7)]((_0x1c3495,_0x29dbb0)=>_0x1c4aa9(0x474)+(_0x29dbb0+0x1)+_0x1c4aa9(0xbba)+_0x1c3495[_0x1c4aa9(0xa69)]+_0x1c4aa9(0x3b7)+_0x1c3495[_0x1c4aa9(0x2ad)]+_0x1c4aa9(0xdaa))['join']('')+_0x1c4aa9(0xa82)+_0x6090ba+'\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x1c4aa9(0x2bd)]=_0x5ab05e;}function renderStudentSyncQuestionView(_0xd7ef85){const _0x4a821c=_0x36ca11,_0x367703=localTeamPlayers[_0x4a821c(0x349)](_0x182bd5=>_0xd7ef85[_0x4a821c(0x9a3)][_0x182bd5]&&_0xd7ef85[_0x4a821c(0x9a3)][_0x182bd5]['answered']===![]);if(!_0x367703){console[_0x4a821c(0x966)](_0x4a821c(0x6b0));return;}const _0x4cb77e=_0xd7ef85[_0x4a821c(0xca1)],_0x509c63=_0xd7ef85[_0x4a821c(0xd6c)][_0x4a821c(0x4f1)][_0x4a821c(0x9b1)],_0x44228c=_0xd7ef85['shuffledQuiz']['questions'][_0x4cb77e],_0xcc648c=_0x44228c['questionType']||_0xd7ef85[_0x4a821c(0xd6c)][_0x4a821c(0xcfa)];let _0x5bfdfb='',_0x475fef=![];switch(_0xcc648c){case _0x4a821c(0x84a):_0x5bfdfb=_0x4a821c(0xaed);break;case _0x4a821c(0x44a):case _0x4a821c(0x38e):_0x475fef=!![],_0x5bfdfb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x4a821c(0x2c9):_0x475fef=!![],_0x5bfdfb=_0x4a821c(0xd0f)+(_0x44228c[_0x4a821c(0xd55)]||[])[_0x4a821c(0xcf7)](_0x4245a=>_0x4a821c(0xa16)+_0x4245a+'\x22>'+_0x4245a+_0x4a821c(0x728))[_0x4a821c(0xa81)]('')+_0x4a821c(0x80f);break;case _0x4a821c(0x209):default:_0x5bfdfb=(_0x44228c[_0x4a821c(0x72e)]||[])[_0x4a821c(0xcf7)]((_0x7f183a,_0x29ee58)=>_0x4a821c(0x2b5)+_0x29ee58+_0x4a821c(0x6b5)+_0x7f183a+'</button>')['join']('');break;}let _0x4bd5e0='';_0xd7ef85[_0x4a821c(0xcdb)]===_0x4a821c(0x74e)&&(_0x4bd5e0=_0x4a821c(0x84e)+_0xd7ef85[_0x4a821c(0x2d3)]+'</span>\x20วินาที\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');liveGameView[_0x4a821c(0x2bd)]=_0x4a821c(0x412)+(_0x4cb77e+0x1)+_0x4a821c(0xd99)+_0x509c63+_0x4a821c(0xd7a)+_0x367703+_0x4a821c(0xd08)+_0x4bd5e0+_0x4a821c(0x82a)+(_0x44228c[_0x4a821c(0xc60)]||_0x44228c[_0x4a821c(0x1f4)])+_0x4a821c(0x616)+_0x5bfdfb+_0x4a821c(0x2d4);if(window[_0x4a821c(0x9f7)])MathJax[_0x4a821c(0x8aa)]();function _0x121905(_0x488e88,_0x1b5cb0,_0x218fac,_0x522b94){const _0x79baea=_0x4a821c,_0xbc3ec1=_0x218fac['isConfidenceScoringEnabled']===!![];if(_0xbc3ec1){document[_0x79baea(0xde0)](_0x79baea(0x581))[_0x79baea(0xdcf)][_0x79baea(0x98e)]='sync';const _0x404531=document[_0x79baea(0xde0)](_0x79baea(0x4b0));_0x404531['dataset'][_0x79baea(0xd71)]=_0x488e88,_0x404531['dataset']['question']=JSON['stringify'](_0x1b5cb0),_0x404531[_0x79baea(0xdcf)][_0x79baea(0x371)]=JSON['stringify'](_0x218fac),_0x404531[_0x79baea(0xdcf)][_0x79baea(0xb21)]=_0x522b94,document[_0x79baea(0xde0)](_0x79baea(0x581))[_0x79baea(0x7cb)][_0x79baea(0x4cd)]('hidden');}else handleSyncAnswerSubmit(_0x488e88,_0x1b5cb0,_0x218fac,_0x522b94,![]);}_0x475fef?document[_0x4a821c(0xde0)](_0x4a821c(0x5fb))[_0x4a821c(0x999)](_0x4a821c(0x4fc),()=>{const _0x59da27=_0x4a821c,_0x12f230=document[_0x59da27(0xde0)](_0x59da27(0x6d5))||document[_0x59da27(0xde0)]('sync-matching-select');if(_0x12f230[_0x59da27(0xd73)][_0x59da27(0x3ac)]()===''){showMessage('กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ');return;}_0x121905(_0x12f230[_0x59da27(0xd73)],_0x44228c,_0xd7ef85,_0x367703);}):document[_0x4a821c(0xbe7)](_0x4a821c(0x30f))[_0x4a821c(0x532)](_0x384555=>{const _0x5bbe99=_0x4a821c;_0x384555[_0x5bbe99(0x999)](_0x5bbe99(0x4fc),()=>{const _0x1fce0c=_0x5bbe99;_0x121905(_0x384555['dataset'][_0x1fce0c(0xd73)],_0x44228c,_0xd7ef85,_0x367703);});});}async function handleSyncAnswerSubmit(_0x357eb4,_0x3dd1df,_0xe4f55,_0x3b594d,_0x10eeeb){const _0x547dd8=_0x36ca11;document[_0x547dd8(0xbe7)](_0x547dd8(0x278))['forEach'](_0x11198f=>_0x11198f['disabled']=!![]);const _0x577604=_0x3dd1df[_0x547dd8(0x55e)]||_0xe4f55[_0x547dd8(0xd6c)]['quizType'];let _0x12995a=![],_0x4fc055=_0x357eb4;switch(_0x577604){case'true_false':const _0x59bfdd=parseInt(_0x357eb4),_0x4e1d10=_0x3dd1df[_0x547dd8(0x5ec)]===!![]||String(_0x3dd1df['correctAnswer'])[_0x547dd8(0x442)]()===_0x547dd8(0x3f6);_0x12995a=_0x59bfdd===0x0&&_0x4e1d10||_0x59bfdd===0x1&&!_0x4e1d10,_0x4fc055=_0x59bfdd===0x0?'ใช่\x20/\x20ถูก':_0x547dd8(0x42a);break;case'short_answer':case _0x547dd8(0x38e):_0x12995a=await gradeShortAnswer(_0x357eb4,_0x3dd1df);break;case _0x547dd8(0x2c9):_0x12995a=_0x357eb4===_0x3dd1df[_0x547dd8(0x77b)];break;case _0x547dd8(0x209):default:const _0x22cae4=parseInt(_0x357eb4);_0x12995a=_0x22cae4===_0x3dd1df['correctAnswerIndex'];_0x3dd1df[_0x547dd8(0x72e)]&&_0x3dd1df[_0x547dd8(0x72e)][_0x22cae4]&&(_0x4fc055=_0x3dd1df[_0x547dd8(0x72e)][_0x22cae4]);break;}const _0xa180f6=doc(db,_0x547dd8(0xdd2)+appId+_0x547dd8(0xb3a),currentLiveGameId),_0x585070={},_0x193600=_0xe4f55[_0x547dd8(0x9a3)][_0x3b594d]?.['answers']||[],_0x420fc1={'questionIndex':_0xe4f55[_0x547dd8(0xca1)],'questionId':_0x3dd1df['id'],'answer':_0x357eb4,'answerText':_0x4fc055,'isCorrect':_0x12995a,'originalQuestionText':_0x3dd1df[_0x547dd8(0xc60)]||_0x3dd1df[_0x547dd8(0x1f4)],'wasConfident':_0x10eeeb},_0x58b646=_0x193600[_0x547dd8(0x273)](_0x4568cd=>_0x4568cd['questionIndex']!==_0xe4f55[_0x547dd8(0xca1)]),_0x4afc2c=[..._0x58b646,_0x420fc1],_0x1f57eb=_0x4afc2c['filter'](_0x11f947=>_0x11f947[_0x547dd8(0x831)])[_0x547dd8(0x9b1)];_0x585070['players.'+_0x3b594d+_0x547dd8(0x498)]=_0x4afc2c,_0x585070['players.'+_0x3b594d+_0x547dd8(0x358)]=_0x1f57eb,_0x585070[_0x547dd8(0x250)+_0x3b594d+_0x547dd8(0x339)]=!![];let _0x356f08=null;(_0x577604===_0x547dd8(0x209)||_0x577604===_0x547dd8(0x84a)||_0x577604===_0x547dd8(0x99c))&&(_0x356f08=parseInt(_0x357eb4)),_0x585070['players.'+_0x3b594d+_0x547dd8(0xba4)]=_0x356f08,await updateDoc(_0xa180f6,_0x585070);}initialize();
