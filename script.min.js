const _0x5e8eac=_0x45d9;(function(_0x19b14d,_0x253eeb){const _0x3e2249=_0x45d9,_0x3151fc=_0x19b14d();while(!![]){try{const _0x4e4a21=-parseInt(_0x3e2249(0x368))/0x1*(parseInt(_0x3e2249(0x817))/0x2)+parseInt(_0x3e2249(0x779))/0x3+-parseInt(_0x3e2249(0x2df))/0x4+-parseInt(_0x3e2249(0x695))/0x5*(-parseInt(_0x3e2249(0x6ea))/0x6)+parseInt(_0x3e2249(0x900))/0x7*(-parseInt(_0x3e2249(0x7c5))/0x8)+parseInt(_0x3e2249(0x48d))/0x9+-parseInt(_0x3e2249(0x373))/0xa;if(_0x4e4a21===_0x253eeb)break;else _0x3151fc['push'](_0x3151fc['shift']());}catch(_0x5e7566){_0x3151fc['push'](_0x3151fc['shift']());}}}(_0x5911,0xa2515));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null;const requestWakeLock=async()=>{const _0x48eac6=_0x45d9;if(_0x48eac6(0x294)in navigator)try{wakeLock=await navigator[_0x48eac6(0x294)][_0x48eac6(0x232)](_0x48eac6(0x655)),console[_0x48eac6(0x902)](_0x48eac6(0x689)),wakeLock[_0x48eac6(0x2da)](_0x48eac6(0x7ad),()=>{const _0x510a4a=_0x48eac6;console['log'](_0x510a4a(0x57e));});}catch(_0x26be6b){console['error'](_0x48eac6(0x168)+_0x26be6b[_0x48eac6(0x912)]+',\x20'+_0x26be6b[_0x48eac6(0x86b)]);}else console[_0x48eac6(0x5a0)](_0x48eac6(0x249));},releaseWakeLock=async()=>{const _0xc919d0=_0x45d9;wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console[_0xc919d0(0x902)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ'));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x4cfc49=_0x45d9;if(dimTimer)clearTimeout(dimTimer);document['body'][_0x4cfc49(0x298)][_0x4cfc49(0x514)](_0x4cfc49(0x4ee)),dimTimer=setTimeout(()=>{const _0x29778d=_0x4cfc49;document['body'][_0x29778d(0x298)][_0x29778d(0x36a)](_0x29778d(0x4ee)),console[_0x29778d(0x902)](_0x29778d(0x14f));},inactivityTime);}function stopDimTimer(){const _0x1ade36=_0x45d9;if(dimTimer)clearTimeout(dimTimer);document['body'][_0x1ade36(0x298)]['remove']('dimmed'),window[_0x1ade36(0x573)](_0x1ade36(0x8a8),resetDimTimer),window['removeEventListener'](_0x1ade36(0x33e),resetDimTimer),window[_0x1ade36(0x573)](_0x1ade36(0x654),resetDimTimer),window[_0x1ade36(0x573)](_0x1ade36(0x86c),resetDimTimer),console[_0x1ade36(0x902)]('หยุดระบบจับเวลาหรี่หน้าจอ');}let modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x5e8eac(0x408),'pinnedProjects':[],'projectView':_0x5e8eac(0x56f)};const allMathTopics=[{'category':_0x5e8eac(0x2bf),'name':_0x5e8eac(0x661)},{'category':'จำนวนและการดำเนินการ','name':_0x5e8eac(0x77b)},{'category':_0x5e8eac(0x2bf),'name':_0x5e8eac(0x852)},{'category':'จำนวนและการดำเนินการ','name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':_0x5e8eac(0x2bf),'name':'การบวก'},{'category':_0x5e8eac(0x2bf),'name':_0x5e8eac(0x541)},{'category':_0x5e8eac(0x2bf),'name':_0x5e8eac(0x670)},{'category':'จำนวนและการดำเนินการ','name':_0x5e8eac(0x455)},{'category':_0x5e8eac(0x2bf),'name':_0x5e8eac(0x522)},{'category':_0x5e8eac(0x2bf),'name':'จำนวนเต็มลบ'},{'category':'จำนวนและการดำเนินการ','name':'ศูนย์'},{'category':'จำนวนและการดำเนินการ','name':_0x5e8eac(0x469)},{'category':_0x5e8eac(0x2bf),'name':'เส้นจำนวน'},{'category':_0x5e8eac(0x2bf),'name':_0x5e8eac(0x888)},{'category':_0x5e8eac(0x2bf),'name':_0x5e8eac(0x766)},{'category':_0x5e8eac(0x2bf),'name':_0x5e8eac(0x847)},{'category':'จำนวนและการดำเนินการ','name':_0x5e8eac(0x3ac)},{'category':_0x5e8eac(0x2bf),'name':_0x5e8eac(0x57d)},{'category':'จำนวนและการดำเนินการ','name':_0x5e8eac(0x5a2)},{'category':'จำนวนและการดำเนินการ','name':_0x5e8eac(0x8eb)},{'category':_0x5e8eac(0x2bf),'name':_0x5e8eac(0x718)},{'category':_0x5e8eac(0x2bf),'name':_0x5e8eac(0x406)},{'category':'จำนวนและการดำเนินการ','name':_0x5e8eac(0x8ad)},{'category':_0x5e8eac(0x2bf),'name':'จำนวนคละ'},{'category':'จำนวนและการดำเนินการ','name':_0x5e8eac(0x1a7)},{'category':'จำนวนและการดำเนินการ','name':_0x5e8eac(0x122)},{'category':_0x5e8eac(0x2bf),'name':_0x5e8eac(0x389)},{'category':_0x5e8eac(0x2bf),'name':_0x5e8eac(0x8c1)},{'category':_0x5e8eac(0x2bf),'name':_0x5e8eac(0x476)},{'category':_0x5e8eac(0x2bf),'name':_0x5e8eac(0x3d4)},{'category':_0x5e8eac(0x2bf),'name':_0x5e8eac(0x5b8)},{'category':_0x5e8eac(0x2bf),'name':_0x5e8eac(0x2fa)},{'category':_0x5e8eac(0x2bf),'name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':'จำนวนและการดำเนินการ','name':_0x5e8eac(0x7b8)},{'category':_0x5e8eac(0x2bf),'name':_0x5e8eac(0x2c1)},{'category':'จำนวนและการดำเนินการ','name':_0x5e8eac(0x8a5)},{'category':_0x5e8eac(0x2bf),'name':_0x5e8eac(0x50b)},{'category':_0x5e8eac(0x30d),'name':_0x5e8eac(0x311)},{'category':_0x5e8eac(0x30d),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':'การวัด','name':_0x5e8eac(0x315)},{'category':_0x5e8eac(0x30d),'name':_0x5e8eac(0x7d1)},{'category':_0x5e8eac(0x30d),'name':_0x5e8eac(0x914)},{'category':'การวัด','name':_0x5e8eac(0x5bf)},{'category':_0x5e8eac(0x30d),'name':_0x5e8eac(0x492)},{'category':_0x5e8eac(0x30d),'name':_0x5e8eac(0x33a)},{'category':'การวัด','name':_0x5e8eac(0x2cd)},{'category':_0x5e8eac(0x30d),'name':_0x5e8eac(0x824)},{'category':_0x5e8eac(0x30d),'name':_0x5e8eac(0x87e)},{'category':_0x5e8eac(0x30d),'name':_0x5e8eac(0x2c8)},{'category':_0x5e8eac(0x30d),'name':_0x5e8eac(0x2f5)},{'category':_0x5e8eac(0x30d),'name':_0x5e8eac(0x418)},{'category':'เรขาคณิต','name':'จุด\x20เส้น\x20ระนาบ'},{'category':_0x5e8eac(0x8d8),'name':'ความสัมพันธ์ของมุม'},{'category':_0x5e8eac(0x8d8),'name':_0x5e8eac(0x361)},{'category':_0x5e8eac(0x8d8),'name':_0x5e8eac(0x33a)},{'category':_0x5e8eac(0x8d8),'name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':_0x5e8eac(0x8d8),'name':_0x5e8eac(0x3ec)},{'category':_0x5e8eac(0x8d8),'name':_0x5e8eac(0x8bb)},{'category':_0x5e8eac(0x8d8),'name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':'เรขาคณิต','name':_0x5e8eac(0x69e)},{'category':_0x5e8eac(0x8d8),'name':_0x5e8eac(0x735)},{'category':_0x5e8eac(0x8d8),'name':'วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์'},{'category':_0x5e8eac(0x8d8),'name':_0x5e8eac(0x919)},{'category':_0x5e8eac(0x8d8),'name':_0x5e8eac(0x62b)},{'category':_0x5e8eac(0x8d8),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':'เรขาคณิต','name':_0x5e8eac(0x457)},{'category':_0x5e8eac(0x5a3),'name':_0x5e8eac(0x5de)},{'category':_0x5e8eac(0x5a3),'name':_0x5e8eac(0x2b7)},{'category':_0x5e8eac(0x5a3),'name':_0x5e8eac(0x498)},{'category':_0x5e8eac(0x5a3),'name':'การแยกตัวประกอบ'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5e8eac(0x310)},{'category':_0x5e8eac(0x5a3),'name':_0x5e8eac(0x15b)},{'category':_0x5e8eac(0x5a3),'name':_0x5e8eac(0x521)},{'category':_0x5e8eac(0x5a3),'name':_0x5e8eac(0x5ae)},{'category':_0x5e8eac(0x5a3),'name':_0x5e8eac(0x5b7)},{'category':_0x5e8eac(0x5a3),'name':_0x5e8eac(0x446)},{'category':_0x5e8eac(0x5a3),'name':_0x5e8eac(0x81b)},{'category':_0x5e8eac(0x5a3),'name':_0x5e8eac(0x604)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5e8eac(0x147)},{'category':_0x5e8eac(0x5a3),'name':_0x5e8eac(0x1cc)},{'category':_0x5e8eac(0x5a3),'name':_0x5e8eac(0x246)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5e8eac(0x3b8)},{'category':_0x5e8eac(0x5a3),'name':_0x5e8eac(0x50c)},{'category':_0x5e8eac(0x5a3),'name':'โดเมนและเรนจ์'},{'category':_0x5e8eac(0x5a3),'name':_0x5e8eac(0x3e3)},{'category':_0x5e8eac(0x5a3),'name':_0x5e8eac(0x45c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5e8eac(0x602)},{'category':_0x5e8eac(0x5a3),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0x5e8eac(0x5a3),'name':_0x5e8eac(0x908)},{'category':_0x5e8eac(0x5a3),'name':_0x5e8eac(0x21a)},{'category':_0x5e8eac(0x5a3),'name':_0x5e8eac(0x42c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5e8eac(0x842)},{'category':_0x5e8eac(0x5a3),'name':_0x5e8eac(0x899)},{'category':_0x5e8eac(0x5a3),'name':_0x5e8eac(0x1b4)},{'category':_0x5e8eac(0x5a3),'name':_0x5e8eac(0x532)},{'category':_0x5e8eac(0x5a3),'name':_0x5e8eac(0x6d1)},{'category':_0x5e8eac(0x5a3),'name':_0x5e8eac(0x1ac)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x5e8eac(0x12a)},{'category':_0x5e8eac(0x5a3),'name':_0x5e8eac(0x39b)},{'category':_0x5e8eac(0x5a3),'name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':_0x5e8eac(0x8e7),'name':_0x5e8eac(0x1da)},{'category':_0x5e8eac(0x8e7),'name':'ความชันและเส้นตรง'},{'category':_0x5e8eac(0x8e7),'name':_0x5e8eac(0x8cf)},{'category':_0x5e8eac(0x8e7),'name':_0x5e8eac(0x68f)},{'category':_0x5e8eac(0x8e7),'name':_0x5e8eac(0x583)},{'category':'เรขาคณิตวิเคราะห์','name':_0x5e8eac(0x698)},{'category':_0x5e8eac(0x8e7),'name':'พาราโบลา'},{'category':_0x5e8eac(0x8e7),'name':'วงรี'},{'category':_0x5e8eac(0x8e7),'name':'ไฮเพอร์โบลา'},{'category':_0x5e8eac(0x197),'name':_0x5e8eac(0x3c0)},{'category':_0x5e8eac(0x197),'name':_0x5e8eac(0x18a)},{'category':'ตรีโกณมิติ','name':_0x5e8eac(0x696)},{'category':_0x5e8eac(0x197),'name':_0x5e8eac(0x854)},{'category':_0x5e8eac(0x197),'name':'กฎของไซน์'},{'category':'ตรีโกณมิติ','name':'กฎของโคไซน์'},{'category':_0x5e8eac(0x197),'name':_0x5e8eac(0x295)},{'category':_0x5e8eac(0x197),'name':_0x5e8eac(0x8ce)},{'category':_0x5e8eac(0x197),'name':_0x5e8eac(0x4ac)},{'category':_0x5e8eac(0x197),'name':_0x5e8eac(0x61e)},{'category':_0x5e8eac(0x197),'name':_0x5e8eac(0x8d7)},{'category':_0x5e8eac(0x83c),'name':_0x5e8eac(0x876)},{'category':_0x5e8eac(0x83c),'name':'การจัดกลุ่มข้อมูล'},{'category':_0x5e8eac(0x83c),'name':'ตารางความถี่'},{'category':_0x5e8eac(0x83c),'name':_0x5e8eac(0x2e5)},{'category':_0x5e8eac(0x83c),'name':_0x5e8eac(0x269)},{'category':_0x5e8eac(0x83c),'name':_0x5e8eac(0x587)},{'category':_0x5e8eac(0x83c),'name':_0x5e8eac(0x630)},{'category':_0x5e8eac(0x83c),'name':'มัธยฐาน'},{'category':'สถิติและความน่าจะเป็น','name':_0x5e8eac(0x2a3)},{'category':_0x5e8eac(0x83c),'name':_0x5e8eac(0x1fe)},{'category':_0x5e8eac(0x83c),'name':_0x5e8eac(0x5ed)},{'category':_0x5e8eac(0x83c),'name':_0x5e8eac(0x2a4)},{'category':_0x5e8eac(0x83c),'name':_0x5e8eac(0x620)},{'category':_0x5e8eac(0x83c),'name':'การแจกแจงปกติและ\x20z-score'},{'category':_0x5e8eac(0x83c),'name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':'สถิติและความน่าจะเป็น','name':_0x5e8eac(0x569)},{'category':'สถิติและความน่าจะเป็น','name':_0x5e8eac(0x7b3)},{'category':'สถิติและความน่าจะเป็น','name':_0x5e8eac(0x808)},{'category':_0x5e8eac(0x83c),'name':_0x5e8eac(0x242)},{'category':_0x5e8eac(0x83c),'name':'ความเป็นอิสระของเหตุการณ์'},{'category':'สถิติและความน่าจะเป็น','name':_0x5e8eac(0x317)},{'category':'สถิติและความน่าจะเป็น','name':_0x5e8eac(0x833)},{'category':'สถิติและความน่าจะเป็น','name':'การแจกแจงทวินาม\x20(พื้นฐาน)'},{'category':_0x5e8eac(0x83c),'name':_0x5e8eac(0x668)},{'category':'แคลคูลัสเบื้องต้น','name':_0x5e8eac(0x1be)},{'category':'แคลคูลัสเบื้องต้น','name':_0x5e8eac(0x2ad)},{'category':'แคลคูลัสเบื้องต้น','name':_0x5e8eac(0x739)},{'category':_0x5e8eac(0x8b2),'name':_0x5e8eac(0x2fb)},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':'แคลคูลัสเบื้องต้น','name':_0x5e8eac(0x652)},{'category':_0x5e8eac(0x8b2),'name':_0x5e8eac(0x235)},{'category':_0x5e8eac(0x8b2),'name':_0x5e8eac(0x89d)},{'category':'แคลคูลัสเบื้องต้น','name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':'แคลคูลัสเบื้องต้น','name':_0x5e8eac(0x641)},{'category':_0x5e8eac(0x8b2),'name':_0x5e8eac(0x8e1)},{'category':_0x5e8eac(0x8b2),'name':_0x5e8eac(0x243)},{'category':_0x5e8eac(0x8b2),'name':_0x5e8eac(0x694)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':_0x5e8eac(0x161),'name':'ดอทโปรดักต์\x20(dot)'},{'category':_0x5e8eac(0x161),'name':_0x5e8eac(0x773)},{'category':_0x5e8eac(0x161),'name':_0x5e8eac(0x181)},{'category':_0x5e8eac(0x161),'name':_0x5e8eac(0x829)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'ดีเทอร์มิแนนต์'},{'category':_0x5e8eac(0x161),'name':'แก้ระบบสมการด้วยเมทริกซ์'},{'category':_0x5e8eac(0x15d),'name':_0x5e8eac(0x222)},{'category':_0x5e8eac(0x15d),'name':_0x5e8eac(0x487)},{'category':_0x5e8eac(0x15d),'name':_0x5e8eac(0x447)},{'category':_0x5e8eac(0x15d),'name':_0x5e8eac(0x1a3)},{'category':_0x5e8eac(0x15d),'name':_0x5e8eac(0x3f8)},{'category':_0x5e8eac(0x3c6),'name':_0x5e8eac(0x8e2)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x5e8eac(0x138)},{'category':_0x5e8eac(0x3c6),'name':_0x5e8eac(0x906)}];function renderTopicCheckboxes(){const _0x3bbfba=_0x5e8eac,_0x1f0b47=document[_0x3bbfba(0x839)]('math-topics-checkbox-container');if(!_0x1f0b47)return;const _0x185be8=allMathTopics,_0x2c7ad1=customMathTopics['map'](_0xebf1d4=>({'id':_0xebf1d4['id'],'category':'หัวข้อที่สร้างเอง','name':_0xebf1d4[_0x3bbfba(0x912)]})),_0x5c431e=[..._0x185be8,..._0x2c7ad1],_0xc20408=_0x5c431e['reduce']((_0x2fa792,_0x4d770d)=>{const _0x328cff=_0x3bbfba;return!_0x2fa792[_0x4d770d['category']]&&(_0x2fa792[_0x4d770d[_0x328cff(0x874)]]=[]),_0x2fa792[_0x4d770d[_0x328cff(0x874)]]['push'](_0x4d770d),_0x2fa792;},{});let _0x39eb57='';const _0x4fd4d6=[_0x3bbfba(0x5af),...Object[_0x3bbfba(0x19e)](_0xc20408)['filter'](_0x1a5a7b=>_0x1a5a7b!==_0x3bbfba(0x5af))];for(const _0x1c908a of _0x4fd4d6){if(_0xc20408[_0x1c908a]){const _0x1aaa5e=_0x1c908a===_0x3bbfba(0x5af),_0x20b5f1=_0x1aaa5e?_0x3bbfba(0x4f2):_0x3bbfba(0x507),_0x22bf4d=_0x1aaa5e?'text-blue-700':_0x3bbfba(0x2e0);_0x39eb57+=_0x3bbfba(0x783),_0x39eb57+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x22bf4d+_0x3bbfba(0x5cc)+_0x20b5f1+_0x3bbfba(0x3cf)+_0x1c908a+_0x3bbfba(0x5bd),_0xc20408[_0x1c908a][_0x3bbfba(0x8de)](_0x210cdb=>{const _0x184697=_0x3bbfba,_0x338bf7=!!_0x210cdb['id'],_0x5b0ed3=_0x338bf7?_0x184697(0x422)+_0x210cdb['id']+_0x184697(0x73c)+_0x210cdb['id']+_0x184697(0x4ec)+_0x210cdb['id']+_0x184697(0x5c4)+_0x210cdb['id']+'\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'';_0x39eb57+=_0x184697(0x21d)+(_0x210cdb['id']||'')+_0x184697(0x66c)+_0x210cdb[_0x184697(0x912)]+_0x184697(0x1fb)+_0x210cdb[_0x184697(0x912)]+_0x184697(0x826)+(_0x338bf7?_0x184697(0x129)+_0x210cdb['name']+'\x22>':'')+_0x184697(0x5ad)+_0x5b0ed3+_0x184697(0x8ac);}),_0x39eb57+=_0x3bbfba(0x145);}}_0x1f0b47['innerHTML']=_0x39eb57||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x1f0b47['removeEventListener'](_0x3bbfba(0x6ee),updateSelectedTopicsCount),_0x1f0b47[_0x3bbfba(0x2da)]('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x439f3f,_0x78c53){const _0x3b1f01=_0x5e8eac;if(!_0x439f3f||!_0x78c53[_0x3b1f01(0x3dd)]()){showMessage('ชื่อหัวข้อห้ามว่าง');return;}try{const _0x2cd8ac=doc(db,_0x3b1f01(0x705)+appId+'/public/data/customMathTopics',_0x439f3f);await updateDoc(_0x2cd8ac,{'name':_0x78c53['trim']()}),showMessage(_0x3b1f01(0x19b));}catch(_0x27a85e){console[_0x3b1f01(0x2a9)](_0x3b1f01(0x384),_0x27a85e),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function toggleTopicEditMode(_0x3c12af,_0x3ccf80){const _0x187584=_0x5e8eac;if(!_0x3c12af)return;const _0x4e18a9=_0x3c12af[_0x187584(0x2cf)](_0x187584(0x436)),_0x126e6d=_0x3c12af['querySelector']('.topic-name-input'),_0x38a836=_0x3c12af[_0x187584(0x2cf)]('.topic-actions-view'),_0x3deb34=_0x3c12af[_0x187584(0x2cf)]('.topic-actions-edit');_0x4e18a9['classList'][_0x187584(0x8d2)](_0x187584(0x28b),_0x3ccf80),_0x126e6d[_0x187584(0x298)][_0x187584(0x8d2)](_0x187584(0x28b),!_0x3ccf80),_0x38a836[_0x187584(0x298)]['toggle'](_0x187584(0x28b),_0x3ccf80),_0x3deb34[_0x187584(0x298)][_0x187584(0x8d2)](_0x187584(0x28b),!_0x3ccf80),_0x3ccf80&&(_0x126e6d['focus'](),_0x126e6d['select']());}function updateSelectedTopicsCount(){const _0x4ce01c=_0x5e8eac,_0xbda80e=document['getElementById'](_0x4ce01c(0x4a0)),_0x31b445=_0xbda80e[_0x4ce01c(0x2eb)](_0x4ce01c(0x20d))[_0x4ce01c(0x2d2)],_0x5c9044=document[_0x4ce01c(0x839)](_0x4ce01c(0x1a8));_0x31b445>0x0?_0x5c9044[_0x4ce01c(0x4ca)]='(เลือกแล้ว\x20'+_0x31b445+_0x4ce01c(0x284):_0x5c9044[_0x4ce01c(0x4ca)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x5e8eac(0x1d5),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x5e8eac(0x1d9),quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':_0x5e8eac(0x768),'name':_0x5e8eac(0x279),'description':_0x5e8eac(0x5b4),'icon':_0x5e8eac(0x49e)},'QUICK_THINKER':{'id':_0x5e8eac(0x89b),'name':_0x5e8eac(0x56e),'description':'ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','icon':_0x5e8eac(0x64c)},'ON_FIRE':{'id':_0x5e8eac(0x427),'name':_0x5e8eac(0x121),'description':_0x5e8eac(0x836),'icon':_0x5e8eac(0x2f6)},'FIRST_TRY_ACE':{'id':_0x5e8eac(0x4ce),'name':_0x5e8eac(0x897),'description':_0x5e8eac(0x376),'icon':_0x5e8eac(0x410)},'COMEBACK_KING':{'id':_0x5e8eac(0x7bc),'name':'ราชาคัมแบ็ก','description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x5e8eac(0x63d)},'SPECIALIST':{'id':_0x5e8eac(0x5ac),'name':_0x5e8eac(0x671),'description':_0x5e8eac(0x44f),'icon':_0x5e8eac(0x8c5)},'PERSEVERANCE':{'id':_0x5e8eac(0x162),'name':_0x5e8eac(0x4c5),'description':_0x5e8eac(0x29a),'icon':_0x5e8eac(0x477)}},firebaseConfig={'apiKey':_0x5e8eac(0x895),'authDomain':_0x5e8eac(0x508),'projectId':'ai-quiz-app-aefee','storageBucket':_0x5e8eac(0x91e),'messagingSenderId':'274192258111','appId':_0x5e8eac(0x29f),'measurementId':_0x5e8eac(0x61b)},appId=typeof __app_id!==_0x5e8eac(0x690)?__app_id:_0x5e8eac(0x12d),adminView=document[_0x5e8eac(0x839)](_0x5e8eac(0x896)),studentView=document[_0x5e8eac(0x839)](_0x5e8eac(0x35f)),projectDashboardView=document[_0x5e8eac(0x839)](_0x5e8eac(0x434)),projectDetailView=document[_0x5e8eac(0x839)](_0x5e8eac(0x4f8)),quizResultsView=document[_0x5e8eac(0x839)](_0x5e8eac(0x799)),projectList=document['getElementById']('project-list'),noProjectsMsg=document['getElementById'](_0x5e8eac(0x87f)),projectTitle=document[_0x5e8eac(0x839)]('project-title'),projectIdDisplay=document[_0x5e8eac(0x839)](_0x5e8eac(0x369)),studentList=document[_0x5e8eac(0x839)]('student-list'),messageModal=document['getElementById']('message-modal'),modalMessage=document[_0x5e8eac(0x839)]('modal-message'),createProjectModal=document['getElementById'](_0x5e8eac(0x6ad)),adminPasswordModal=document[_0x5e8eac(0x839)](_0x5e8eac(0x6a6)),confirmationModal=document['getElementById']('confirmation-modal'),userIdDisplay=document[_0x5e8eac(0x839)]('user-id-display'),topicTab=document[_0x5e8eac(0x839)]('topic-tab'),textTab=document[_0x5e8eac(0x839)](_0x5e8eac(0x523)),topicInputArea=document['getElementById']('topic-input-area'),textInputArea=document[_0x5e8eac(0x839)](_0x5e8eac(0x59e)),manageTab=document[_0x5e8eac(0x839)](_0x5e8eac(0x33b)),resultsTab=document[_0x5e8eac(0x839)]('results-tab'),leaderboardTab=document[_0x5e8eac(0x839)](_0x5e8eac(0x348)),manageTabContent=document[_0x5e8eac(0x839)]('manage-tab-content'),resultsTabContent=document['getElementById'](_0x5e8eac(0x3b9)),leaderboardTabContent=document[_0x5e8eac(0x839)]('leaderboard-tab-content'),projectQuizzesList=document['getElementById'](_0x5e8eac(0x51f)),fileTab=document[_0x5e8eac(0x839)](_0x5e8eac(0x2ff)),fileInputArea=document[_0x5e8eac(0x839)]('file-input-area'),fileUploadInput=document[_0x5e8eac(0x839)]('file-upload-input'),worksheetTab=document[_0x5e8eac(0x839)](_0x5e8eac(0x872)),worksheetInputArea=document[_0x5e8eac(0x839)]('worksheet-input-area'),generateWorksheetBtn=document[_0x5e8eac(0x839)](_0x5e8eac(0x673)),studentInitialView=document[_0x5e8eac(0x839)](_0x5e8eac(0x443)),studentNameSelectionView=document[_0x5e8eac(0x839)]('student-name-selection-view'),studentQuizArea=document['getElementById'](_0x5e8eac(0x6c0)),studentResultArea=document[_0x5e8eac(0x839)]('student-result-area'),studentReadingArea=document[_0x5e8eac(0x839)](_0x5e8eac(0x4ae)),loadQuizBtn=document[_0x5e8eac(0x839)](_0x5e8eac(0x1c5)),startQuizBtn=document['getElementById'](_0x5e8eac(0x634)),studentJoinGameView=document['getElementById']('student-join-game-view'),presentationModal=document['getElementById'](_0x5e8eac(0x7df)),renameQuizModal=document[_0x5e8eac(0x839)]('rename-quiz-modal'),moveQuizModal=document[_0x5e8eac(0x839)](_0x5e8eac(0x5dd)),quizSettingsModal=document['getElementById'](_0x5e8eac(0x848)),quizStatusModal=document[_0x5e8eac(0x839)](_0x5e8eac(0x756)),liveGameView=document['getElementById']('live-game-view');function handleAutoFixLatex(){const _0x749750=_0x5e8eac,_0x4c0f45=document[_0x749750(0x839)](_0x749750(0x396))||document,_0x5c9ee4=_0x4c0f45[_0x749750(0x2eb)]([_0x749750(0x265),_0x749750(0x209),'[contenteditable=\x22true\x22]','[role=\x22textbox\x22]','.ql-editor',_0x749750(0x5a8),'.choice-text',_0x749750(0x727),_0x749750(0x711)][_0x749750(0x4b4)](','));let _0x163e2f=0x0;const _0x1f8a34=_0x8bdf86=>_0x749750(0x3e5)in _0x8bdf86?String(_0x8bdf86[_0x749750(0x3e5)]):_0x8bdf86[_0x749750(0x460)]!==undefined?_0x8bdf86['innerText']:_0x8bdf86['textContent']||'',_0x1a77af=(_0x69c561,_0x4550d3)=>{const _0x25b21e=_0x749750;if('value'in _0x69c561){_0x69c561[_0x25b21e(0x3e5)]=_0x4550d3;return;}if(_0x69c561[_0x25b21e(0x2cf)]&&_0x69c561[_0x25b21e(0x2cf)](_0x25b21e(0x57f)))return;if(_0x69c561[_0x25b21e(0x460)]!==undefined)_0x69c561[_0x25b21e(0x460)]=_0x4550d3;else _0x69c561['textContent']=_0x4550d3;},_0x3a75cc=_0x2a727d=>_0x2a727d[_0x749750(0x1e9)](/\u00A0/g,'\x20')[_0x749750(0x1e9)](/\u200B/g,'')[_0x749750(0x1e9)](/\r\n?/g,'\x0a'),_0x14f681=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x570325=_0x2e0d86=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x749750(0x6d9)](_0x2e0d86),_0x469605=_0x1585f8=>{const _0x5bdc4c=_0x749750,_0x88478=(_0x1585f8[_0x5bdc4c(0x4ff)](/\{/g)||[])[_0x5bdc4c(0x2d2)],_0x5e0685=(_0x1585f8[_0x5bdc4c(0x4ff)](/\}/g)||[])[_0x5bdc4c(0x2d2)];if(_0x88478>_0x5e0685)_0x1585f8=_0x1585f8+'}'['repeat'](_0x88478-_0x5e0685);return _0x1585f8;},_0x3caa9f=_0x3b1a69=>{const _0x1fd650=_0x749750;let _0x125efc=_0x3b1a69[_0x1fd650(0x3dd)]();const _0xd692cd=[_0x1fd650(0x70c),_0x1fd650(0x4c0),'tfrac','sqrt','text',_0x1fd650(0x397),'cdot',_0x1fd650(0x450),_0x1fd650(0x7e9),_0x1fd650(0x816),'le','ge',_0x1fd650(0x237),'pm',_0x1fd650(0x452),_0x1fd650(0x1ab),_0x1fd650(0x403),_0x1fd650(0x219),_0x1fd650(0x902),'ln',_0x1fd650(0x494),_0x1fd650(0x7b1),'binom',_0x1fd650(0x769),_0x1fd650(0x87c),_0x1fd650(0x4da),_0x1fd650(0x67f),_0x1fd650(0x155),_0x1fd650(0x192)];_0x125efc=_0x125efc['replace'](new RegExp('\x5c\x5c\x5c\x5c(?=('+_0xd692cd[_0x1fd650(0x4b4)]('|')+_0x1fd650(0x5bc),'g'),'\x5c'),_0xd692cd[_0x1fd650(0x8de)](_0x4631c3=>{const _0x4f740b=_0x1fd650;_0x125efc=_0x125efc[_0x4f740b(0x1e9)](new RegExp(_0x4f740b(0x693)+_0x4631c3+'\x5cb','g'),(_0x97d2b9,_0x19e069)=>_0x19e069+'\x5c'+_0x4631c3);});const _0x2d6f49=[[/×/g,_0x1fd650(0x8fa)],[/·/g,'\x5ccdot'],[/÷/g,'\x5cdiv'],[/≤/g,_0x1fd650(0x623)],[/≥/g,_0x1fd650(0x61a)],[/≠/g,_0x1fd650(0x3bb)],[/±/g,'\x5cpm'],[/∑/g,'\x5csum'],[/−/g,'-']];_0x2d6f49[_0x1fd650(0x8de)](([_0x3d4e20,_0x34e19f])=>{const _0x4b253f=_0x1fd650;_0x125efc=_0x125efc[_0x4b253f(0x1e9)](_0x3d4e20,_0x34e19f);}),_0x125efc=_0x125efc['replace'](/√\s*\(([^)]*)\)/g,_0x1fd650(0x6c8)),_0x125efc=_0x125efc[_0x1fd650(0x1e9)](/√\s*([A-Za-z0-9]+)/g,_0x1fd650(0x6c8)),_0x125efc=_0x125efc[_0x1fd650(0x1e9)](/(^|[^\\])\bimes\b/g,_0x1fd650(0x50e))['replace'](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x1fd650(0x682))['replace'](/(^|[^\\])ext\{/g,_0x1fd650(0x474))[_0x1fd650(0x1e9)](/(^|[^\\])ext\(/g,_0x1fd650(0x35e))[_0x1fd650(0x1e9)](/\\text\(([^)]*)\)/g,_0x1fd650(0x63c))['replace'](/\s\\frac/g,'\x5cfrac'),_0x125efc=_0x125efc[_0x1fd650(0x1e9)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0xf4112e,_0x477af9,_0x322a4d,_0x581ebf)=>_0x477af9+_0x1fd650(0x707)+_0x322a4d+'}{'+_0x581ebf+'}'),_0x125efc=_0x125efc['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,'\x5cfrac{$1}{$2}')['replace'](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x1fd650(0x528))[_0x1fd650(0x1e9)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,'\x5cfrac{$1}{$2}'),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x1fd650(0x56a)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x1fd650(0x56a)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x1fd650(0x56a)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x1fd650(0x56a)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x1fd650(0x56a)],[/(\d+)\s*°\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x1fd650(0x88a)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x1fd650(0x56a)]]['forEach'](([_0x4ea307,_0x57df0a])=>{const _0x50dd81=_0x1fd650;_0x125efc=_0x125efc[_0x50dd81(0x1e9)](_0x4ea307,_0x57df0a);}),_0x125efc=_0x125efc['replace'](/(\d+)\s*%/g,'$1\x5c%'),_0x125efc=_0x125efc[_0x1fd650(0x1e9)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x1fd650(0x75a))['replace'](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x1fd650(0x13d))['replace'](/\{\{([^\{\}]+)\}\}/g,_0x1fd650(0x73a)),['sin','cos',_0x1fd650(0x219),_0x1fd650(0x902),'ln'][_0x1fd650(0x8de)](_0x4d124b=>{const _0x5a3089=_0x1fd650;_0x125efc=_0x125efc[_0x5a3089(0x1e9)](new RegExp(_0x5a3089(0x693)+_0x4d124b+_0x5a3089(0x7a5),'g'),(_0x4df9e9,_0x9a09be)=>_0x9a09be+'\x5c'+_0x4d124b+'(');});const _0x35423c=(_0x125efc[_0x1fd650(0x4ff)](/\\left\b/g)||[])['length'],_0x7db0bc=(_0x125efc[_0x1fd650(0x4ff)](/\\right\b/g)||[])[_0x1fd650(0x2d2)];if(_0x35423c!==_0x7db0bc)_0x125efc=_0x125efc[_0x1fd650(0x1e9)](/\\left\b/g,'')[_0x1fd650(0x1e9)](/\\right\b/g,'');return _0x125efc=_0x469605(_0x125efc),_0x125efc;},_0x1bf068=_0x449c54=>{const _0x135c5d=_0x749750;if(/\$|\\\(|\\\[/[_0x135c5d(0x6d9)](_0x449c54))return _0x449c54;if(!_0x14f681[_0x135c5d(0x6d9)](_0x449c54))return _0x449c54;const _0x35aca3=_0x449c54[_0x135c5d(0x4ff)](/^\s*/)[0x0],_0x186c69=_0x449c54['match'](/\s*$/)[0x0],_0xe61984=_0x449c54[_0x135c5d(0x3dd)]();return _0x35aca3+'$'+_0x3caa9f(_0xe61984)+'$'+_0x186c69;},_0x56fc75=_0x5734ef=>_0x5734ef[_0x749750(0x86f)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x5c9ee4['forEach'](_0x1de8f0=>{const _0x3e340b=_0x749750;if(_0x1de8f0[_0x3e340b(0x2cf)]&&_0x1de8f0[_0x3e340b(0x2cf)](_0x3e340b(0x57f)))return;const _0x449feb=_0x1f8a34(_0x1de8f0);let _0x2a3d44=_0x3a75cc(_0x449feb);_0x2a3d44=_0x2a3d44[_0x3e340b(0x1e9)](/\$\$([\s\S]*?)\$\$/g,(_0x2a5651,_0x169689)=>'$$'+_0x3caa9f(_0x169689)+'$$')[_0x3e340b(0x1e9)](/\$([^$]*?)\$/g,(_0x28c7ec,_0x3a392b)=>'$'+_0x3caa9f(_0x3a392b)+'$')[_0x3e340b(0x1e9)](/\\\(([\s\S]*?)\\\)/g,(_0x1cac2f,_0x1bc07a)=>'\x5c('+_0x3caa9f(_0x1bc07a)+'\x5c)')[_0x3e340b(0x1e9)](/\\\[([\s\S]*?)\\\]/g,(_0x1a0936,_0x130796)=>'\x5c['+_0x3caa9f(_0x130796)+'\x5c]');let _0x56e9e9=_0x2a3d44,_0x41735e=0x0;const _0x1d07b8=_0x232b38=>_0x232b38[_0x3e340b(0x1e9)](/S([^S]{0,2000}?)S/g,(_0x471bc4,_0x1b66dd)=>_0x14f681[_0x3e340b(0x6d9)](_0x1b66dd)?'$'+_0x3caa9f(_0x1b66dd)+'$':_0x471bc4);while(_0x41735e++<0x14){const _0x575e30=_0x1d07b8(_0x56e9e9);if(_0x575e30===_0x56e9e9)break;_0x56e9e9=_0x575e30;}_0x2a3d44=_0x56e9e9,_0x2a3d44=_0x2a3d44['split']('\x0a')[_0x3e340b(0x530)](_0xbd6ab2=>{const _0x401429=_0x3e340b;if(!(/[,\u3001，;；]/[_0x401429(0x6d9)](_0xbd6ab2)||/\s(?:และ|หรือ)\s/[_0x401429(0x6d9)](_0xbd6ab2))||!_0x14f681[_0x401429(0x6d9)](_0xbd6ab2))return _0xbd6ab2;return _0x56fc75(_0xbd6ab2)[_0x401429(0x530)](_0x23d624=>{const _0x1a7db0=_0x401429;if(/^\s(?:และ|หรือ)\s$/[_0x1a7db0(0x6d9)](_0x23d624)||/^[,\u3001，;；]$/[_0x1a7db0(0x6d9)](_0x23d624))return _0x23d624;return _0x1bf068(_0x23d624);})['join']('');})[_0x3e340b(0x4b4)]('\x0a'),_0x2a3d44=_0x2a3d44[_0x3e340b(0x86f)]('\x0a')[_0x3e340b(0x530)](_0xa773a5=>{const _0x3b3194=_0x3e340b,_0x4d3930=_0xa773a5[_0x3b3194(0x3dd)]();if(!_0x4d3930)return _0xa773a5;const _0x4ee171=/\$|\\\(|\\\[/[_0x3b3194(0x6d9)](_0x4d3930),_0xfc5a85=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x3b3194(0x6d9)](_0x4d3930);if(_0x4ee171||!_0xfc5a85||_0x570325(_0x4d3930))return _0xa773a5;return _0xa773a5['replace'](_0x4d3930,'$'+_0x3caa9f(_0x4d3930)+'$');})['join']('\x0a'),_0x2a3d44=_0x2a3d44['replace'](/(\d+)\s*°\s*C\b/g,(_0x181185,_0x25f600,_0x4062a5,_0x518aca)=>{const _0x1d9fd2=_0x3e340b,_0x448f6d=_0x518aca[_0x4062a5-0x1];if(_0x448f6d==='$'||_0x448f6d==='S'||_0x448f6d==='\x5c')return _0x181185;return'$'+_0x25f600+_0x1d9fd2(0x2e1);})[_0x3e340b(0x1e9)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x5e9729,_0x2958d9,_0x6de986,_0xccd1e7)=>{const _0x68ec05=_0xccd1e7[_0x6de986-0x1];if(_0x68ec05==='$'||_0x68ec05==='S'||_0x68ec05==='\x5c')return _0x5e9729;return'$'+_0x2958d9+'^{\x5ccirc}\x5ctext{C}$';})[_0x3e340b(0x1e9)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x2bd338,_0x1ce95c,_0x33ffdd,_0x46cbce)=>{const _0x367eb4=_0x3e340b,_0x1e7c29=_0x46cbce[_0x33ffdd-0x1];if(_0x1e7c29==='$'||_0x1e7c29==='S'||_0x1e7c29==='\x5c')return _0x2bd338;return'$'+_0x1ce95c+_0x367eb4(0x2e1);}),_0x2a3d44=_0x2a3d44[_0x3e340b(0x1e9)](/\$\s*\$/g,'$$'),_0x2a3d44!==_0x449feb&&(_0x1a77af(_0x1de8f0,_0x2a3d44),_0x163e2f++);});if(_0x163e2f>0x0){showMessage('แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20'+_0x163e2f+_0x749750(0x1b0));try{if(window['MathJax']&&MathJax['typesetPromise'])MathJax[_0x749750(0x687)]();window[_0x749750(0x6a5)]&&typeof renderMathInElement===_0x749750(0x41c)&&renderMathInElement(_0x4c0f45,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x15380b){}}else showMessage('ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม');}async function listenForCustomMathTopics(){const _0xb11623=_0x5e8eac,_0x28dab5=collection(db,'artifacts/'+appId+_0xb11623(0x3f0));onSnapshot(_0x28dab5,_0x19f21f=>{const _0x62d68a=_0xb11623;customMathTopics=_0x19f21f[_0x62d68a(0x42d)][_0x62d68a(0x530)](_0x354e3e=>({'id':_0x354e3e['id'],..._0x354e3e[_0x62d68a(0x4b3)]()})),renderTopicCheckboxes();},_0x17ed17=>{const _0x3a9cf7=_0xb11623;console['error'](_0x3a9cf7(0x633),_0x17ed17);});}function handleSelectAllTopics(){const _0x137d00=_0x5e8eac,_0x45fa40=document[_0x137d00(0x839)]('math-topics-checkbox-container'),_0x3d4566=_0x45fa40[_0x137d00(0x2eb)](_0x137d00(0x7a6));_0x3d4566[_0x137d00(0x8de)](_0x980fa6=>{const _0x1b5a27=_0x137d00;_0x980fa6[_0x1b5a27(0x1d1)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x28855e=_0x5e8eac,_0x5dffe3=document[_0x28855e(0x839)](_0x28855e(0x4a0)),_0x342eb6=_0x5dffe3[_0x28855e(0x2eb)](_0x28855e(0x7a6));_0x342eb6['forEach'](_0x35f96=>{const _0x6cb11=_0x28855e;_0x35f96[_0x6cb11(0x1d1)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x50bae8){const _0x4145c2=_0x5e8eac;if(!_0x50bae8)return;try{const _0x58b86e=doc(db,_0x4145c2(0x705)+appId+'/public/data/customMathTopics',_0x50bae8);await deleteDoc(_0x58b86e),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x1a0440){console[_0x4145c2(0x2a9)](_0x4145c2(0x869),_0x1a0440),showMessage(_0x4145c2(0x6e6));}}async function handleAddCustomMathTopic(){const _0xfbd825=_0x5e8eac,_0x4e9871=document[_0xfbd825(0x839)](_0xfbd825(0x6f0)),_0x456034=_0x4e9871[_0xfbd825(0x3e5)]['trim']();if(!_0x456034){showMessage(_0xfbd825(0x4d6));return;}if(!userId){showMessage(_0xfbd825(0x73b));return;}try{const _0x1c11f4=collection(db,_0xfbd825(0x705)+appId+_0xfbd825(0x3f0));await addDoc(_0x1c11f4,{'name':_0x456034,'createdAt':serverTimestamp()}),_0x4e9871['value']='',showMessage(_0xfbd825(0x785)+_0x456034+_0xfbd825(0x40d));}catch(_0x47f90a){console[_0xfbd825(0x2a9)](_0xfbd825(0x326),_0x47f90a),showMessage(_0xfbd825(0x187));}}async function handleUpdateOldQuizzes(){const _0xe581aa=_0x5e8eac;showConfirmation(_0xe581aa(0x5c7),async()=>{const _0x3b1696=_0xe581aa,_0x5a990a=document[_0x3b1696(0x839)](_0x3b1696(0x3a0)),_0x24b0a0=document['getElementById'](_0x3b1696(0x777)),_0x2350d8=_0x24b0a0[_0x3b1696(0x4ca)];_0x5a990a['classList'][_0x3b1696(0x514)](_0x3b1696(0x28b)),_0x24b0a0[_0x3b1696(0x4ca)]=_0x3b1696(0x585);try{const _0x6d53d1=collection(db,_0x3b1696(0x705)+appId+'/public/data/quizzes'),_0x50c358=await getDocs(_0x6d53d1);if(_0x50c358[_0x3b1696(0x791)]){showMessage('ไม่พบแบบทดสอบในระบบเลย');return;}const _0x311fc0=writeBatch(db);let _0x178606=0x0;_0x50c358[_0x3b1696(0x8de)](_0x30c90e=>{const _0xee11a=_0x3b1696,_0x3960de=_0x30c90e[_0xee11a(0x4b3)](),_0x2eaede=_0x30c90e['id'];if(_0x3960de[_0xee11a(0x3ef)]&&_0x3960de[_0xee11a(0x3ef)][_0xee11a(0x2d2)]>0x0&&!_0x3960de[_0xee11a(0x3ef)][0x0]['hasOwnProperty']('id')){console[_0xee11a(0x902)](_0xee11a(0x4f5)+_0x2eaede+'\x20('+_0x3960de['topic']+')'),_0x178606++;const _0x3f7a34=_0x3960de[_0xee11a(0x3ef)][_0xee11a(0x530)]((_0x3949b2,_0x4c0097)=>{const _0x513df6=_0xee11a;return{..._0x3949b2,'id':_0x3949b2['id']||'q_'+Date[_0x513df6(0x84b)]()+'_'+_0x2eaede+'_'+_0x4c0097};}),_0x2a3226=doc(db,_0xee11a(0x705)+appId+_0xee11a(0x780),_0x2eaede);_0x311fc0[_0xee11a(0x819)](_0x2a3226,{'questions':_0x3f7a34});}}),_0x178606>0x0?(_0x24b0a0['textContent']=_0x3b1696(0x875)+_0x178606+_0x3b1696(0x7dd),await _0x311fc0['commit'](),showMessage('อัปเดตแบบทดสอบเก่า\x20'+_0x178606+'\x20รายการสำเร็จ!')):showMessage(_0x3b1696(0x804));}catch(_0x4f0c84){console[_0x3b1696(0x2a9)](_0x3b1696(0x7f5),_0x4f0c84),showMessage(_0x3b1696(0x806)+_0x4f0c84[_0x3b1696(0x86b)]);}finally{_0x5a990a['classList'][_0x3b1696(0x36a)](_0x3b1696(0x28b)),_0x24b0a0[_0x3b1696(0x4ca)]=_0x2350d8;}});}async function handleBulkUpdateQuizSettings(){const _0x36badd=_0x5e8eac,_0x2e7eb6={'shuffle':document['getElementById'](_0x36badd(0x331))[_0x36badd(0x3e5)],'resultsDisplay':document[_0x36badd(0x839)](_0x36badd(0x77a))['value'],'loopUntilPass':document['getElementById'](_0x36badd(0x87b))[_0x36badd(0x1d1)]},_0x302819=allQuizzesGlobal[_0x36badd(0x2d2)];showConfirmation(_0x36badd(0x52f)+_0x302819+_0x36badd(0x8ea),async()=>{const _0x56e1ad=_0x36badd,_0x28bdc7=document[_0x56e1ad(0x839)](_0x56e1ad(0x32a));_0x28bdc7['disabled']=!![],_0x28bdc7[_0x56e1ad(0x536)]=_0x56e1ad(0x169);try{const _0x2e1746=writeBatch(db);allQuizzesGlobal['forEach'](_0x5386cd=>{const _0x104cf6=_0x56e1ad,_0x384bc0=doc(db,'artifacts/'+appId+_0x104cf6(0x780),_0x5386cd['id']),_0x4e8336={..._0x5386cd[_0x104cf6(0x248)]||{},..._0x2e7eb6};_0x2e1746[_0x104cf6(0x819)](_0x384bc0,{'settings':_0x4e8336});}),await _0x2e1746[_0x56e1ad(0x167)](),document[_0x56e1ad(0x839)](_0x56e1ad(0x69c))['classList'][_0x56e1ad(0x36a)](_0x56e1ad(0x28b)),showMessage(_0x56e1ad(0x327)+_0x302819+_0x56e1ad(0x91b));}catch(_0x258b57){console[_0x56e1ad(0x2a9)](_0x56e1ad(0x45b),_0x258b57),showMessage(_0x56e1ad(0x131));}finally{_0x28bdc7['disabled']=![],_0x28bdc7['innerHTML']=_0x56e1ad(0x7f1);}});}async function handleSaveProjectName(){const _0x2faaac=_0x5e8eac,_0x45998=document[_0x2faaac(0x839)]('project-title'),_0x27c56f=document[_0x2faaac(0x839)](_0x2faaac(0x607)),_0x3a641b=_0x45998['textContent'][_0x2faaac(0x3dd)]();if(!_0x3a641b||!currentProjectId){showMessage(_0x2faaac(0x35d)),_0x45998[_0x2faaac(0x4ca)]=currentProjectData[_0x2faaac(0x134)];return;}_0x27c56f[_0x2faaac(0x4d1)]=!![],_0x27c56f[_0x2faaac(0x536)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{const _0x10276e=doc(db,_0x2faaac(0x705)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x10276e,{'projectName':_0x3a641b}),currentProjectData&&(currentProjectData[_0x2faaac(0x134)]=_0x3a641b),showMessage(_0x2faaac(0x7c4));}catch(_0x3ecdc1){console[_0x2faaac(0x2a9)](_0x2faaac(0x8cb),_0x3ecdc1),showMessage(_0x2faaac(0x722)),_0x45998['textContent']=currentProjectData[_0x2faaac(0x134)];}finally{_0x27c56f[_0x2faaac(0x298)][_0x2faaac(0x36a)]('hidden'),_0x27c56f[_0x2faaac(0x4d1)]=![],_0x27c56f['innerHTML']=_0x2faaac(0x62e);}}async function initialize(){const _0x5be6ba=_0x5e8eac;try{const _0x41ce07=initializeApp(firebaseConfig);db=getFirestore(_0x41ce07),auth=getAuth(_0x41ce07),setupAuthListener(),setupEventListeners(),showView(_0x5be6ba(0x1d5)),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x8eceb4){console[_0x5be6ba(0x2a9)]('Firebase\x20initialization\x20failed:',_0x8eceb4),showMessage(_0x5be6ba(0x166));}}async function handleVerifyAnswersInEditor(){const _0x134945=_0x5e8eac,_0x46ee42=document[_0x134945(0x839)]('quiz-editor-modal');if(!_0x46ee42)return;const _0x1004ad=document[_0x134945(0x839)](_0x134945(0x420));_0x1004ad[_0x134945(0x4d1)]=!![],_0x1004ad[_0x134945(0x536)]=_0x134945(0x6f3);try{const _0x525a0e=_0x46ee42[_0x134945(0x2eb)]('.question-editor-item'),_0x51c337=Array[_0x134945(0x770)](_0x525a0e)[_0x134945(0x530)]((_0x2d8899,_0xbb4555)=>{const _0x216db6=_0x134945,_0x5baf72=_0x2d8899[_0x216db6(0x6b1)][_0x216db6(0x419)],_0x4e67cb=_0x2d8899[_0x216db6(0x2cf)](_0x216db6(0x265))[_0x216db6(0x3e5)];let _0x37ab0a=null,_0x5dbbea='';switch(_0x5baf72){case _0x216db6(0x497):const _0x42449b=_0x2d8899['querySelectorAll']('input[type=\x22text\x22]');_0x37ab0a=Array[_0x216db6(0x770)](_0x42449b)[_0x216db6(0x530)](_0x28cfe5=>_0x28cfe5['value']);const _0x4a1f4b=_0x2d8899['querySelector'](_0x216db6(0x69a));_0x4a1f4b&&(_0x5dbbea=_0x37ab0a[parseInt(_0x4a1f4b[_0x216db6(0x3e5)])]);break;case _0x216db6(0x3a8):_0x5dbbea=_0x2d8899['querySelector'](_0x216db6(0x80c))[_0x216db6(0x3e5)];break;case _0x216db6(0x679):const _0x7d3135=_0x2d8899[_0x216db6(0x2cf)](_0x216db6(0x69a));_0x5dbbea=_0x7d3135?_0x7d3135['value']:'';break;case _0x216db6(0x183):_0x5dbbea=_0x2d8899['querySelector'](_0x216db6(0x32e))[_0x216db6(0x3e5)];break;}return{'question':_0x4e67cb,'options':_0x37ab0a,'proposedAnswer':_0x5dbbea};}),_0x445462=_0x134945(0x84d)+JSON[_0x134945(0x878)](_0x51c337)+_0x134945(0x40f),_0x334e3f={'type':_0x134945(0x7af),'items':{'type':_0x134945(0x7f6),'properties':{'questionIndex':{'type':_0x134945(0x241)},'isCorrect':{'type':_0x134945(0x802)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x134945(0x2c9)}},'required':[_0x134945(0x599),'isCorrect',_0x134945(0x814)]}},_0x4cdffa=await callAnalysisApi(_0x445462,{'type':_0x134945(0x7f6),'properties':{'result':_0x334e3f},'required':[_0x134945(0x36d)]});displayVerificationResultsInEditor(_0x4cdffa[_0x134945(0x36d)]);}catch(_0x20fddb){console['error'](_0x134945(0x14a),_0x20fddb),showMessage(_0x134945(0x44b));}finally{_0x1004ad['disabled']=![],_0x1004ad[_0x134945(0x536)]=_0x134945(0x6c5);}}function displayVerificationResultsInEditor(_0x215eb5){const _0x161918=_0x5e8eac;_0x215eb5[_0x161918(0x8de)](_0x1b1c62=>{const _0xc894ae=_0x161918,_0x5b664a=document['querySelector'](_0xc894ae(0x8f3)+_0x1b1c62['questionIndex']+'\x22]');if(_0x5b664a){const _0x4622d7=_0x5b664a[_0xc894ae(0x2cf)](_0xc894ae(0x905));if(_0x4622d7)_0x4622d7[_0xc894ae(0x514)]();let _0x2873ea='';_0x1b1c62['isCorrect']?_0x2873ea='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':_0x2873ea=_0xc894ae(0x1db)+_0x1b1c62[_0xc894ae(0x814)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1b1c62[_0xc894ae(0x215)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x1b1c62[_0xc894ae(0x215)]+_0xc894ae(0x5bd):'')+_0xc894ae(0x3ee),_0x5b664a['insertAdjacentHTML'](_0xc894ae(0x7a4),_0x2873ea);}}),showMessage(_0x161918(0x26c));}async function handleVerifyAnswers(){const _0x55af58=_0x5e8eac;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x55af58(0x260));return;}const _0x432bbb=document[_0x55af58(0x839)](_0x55af58(0x1d7));_0x432bbb[_0x55af58(0x4d1)]=!![],_0x432bbb[_0x55af58(0x536)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x8ed77e=currentQuizData[_0x55af58(0x3ef)]['map']((_0x198f09,_0x4bb015)=>{const _0x20a9ee=_0x55af58;let _0x4c9a9f='';const _0x1a19dd=_0x198f09[_0x20a9ee(0x6d0)]||currentQuizData[_0x20a9ee(0x863)];switch(_0x1a19dd){case _0x20a9ee(0x497):_0x4c9a9f=_0x198f09[_0x20a9ee(0x7d8)][_0x198f09['correctAnswerIndex']];break;case _0x20a9ee(0x3a8):_0x4c9a9f=_0x198f09[_0x20a9ee(0x483)];break;case'true_false':_0x4c9a9f=_0x198f09[_0x20a9ee(0x788)][_0x20a9ee(0x472)]();break;case _0x20a9ee(0x183):_0x4c9a9f=_0x198f09[_0x20a9ee(0x4a1)];break;}return{'question':_0x198f09[_0x20a9ee(0x3f1)]||_0x198f09[_0x20a9ee(0x593)],'options':_0x198f09[_0x20a9ee(0x7d8)]||null,'proposedAnswer':_0x4c9a9f};}),_0x4f1b91=_0x55af58(0x135)+JSON[_0x55af58(0x878)](_0x8ed77e)+_0x55af58(0x17a),_0xb93a70={'type':'ARRAY','items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x55af58(0x241)},'isCorrect':{'type':_0x55af58(0x802)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':'STRING'}},'required':[_0x55af58(0x599),'isCorrect',_0x55af58(0x814)]}},_0x49079d=await callAnalysisApi(_0x4f1b91,{'type':_0x55af58(0x7f6),'properties':{'result':_0xb93a70},'required':[_0x55af58(0x36d)]});displayVerificationResults(_0x49079d[_0x55af58(0x36d)]);}catch(_0x170c6d){console[_0x55af58(0x2a9)](_0x55af58(0x319),_0x170c6d),showMessage(_0x55af58(0x44b));}finally{_0x432bbb[_0x55af58(0x4d1)]=![],_0x432bbb[_0x55af58(0x536)]=_0x55af58(0x85b);}}function displayVerificationResults(_0x1bfd69){const _0x2c5bdd=_0x5e8eac;_0x1bfd69[_0x2c5bdd(0x8de)](_0x34d48d=>{const _0x13f5d3=_0x2c5bdd,_0x4b25c2=document['querySelector'](_0x13f5d3(0x8aa)+_0x34d48d[_0x13f5d3(0x599)]+'\x22]');if(_0x4b25c2){const _0x5a896c=_0x4b25c2[_0x13f5d3(0x2cf)](_0x13f5d3(0x12e));if(_0x5a896c)_0x5a896c[_0x13f5d3(0x514)]();let _0x4e3582='';_0x34d48d[_0x13f5d3(0x56c)]?_0x4e3582=_0x13f5d3(0x142):_0x4e3582=_0x13f5d3(0x54a)+_0x34d48d[_0x13f5d3(0x814)]+_0x13f5d3(0x803)+(_0x34d48d[_0x13f5d3(0x215)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x34d48d['suggestedAnswer']+'</p>':'')+_0x13f5d3(0x4eb),_0x4b25c2[_0x13f5d3(0x887)](_0x13f5d3(0x7a4),_0x4e3582);}}),showMessage(_0x2c5bdd(0x26c));}function compareNumericalAnswers(_0x4e82cb,_0x17e49c){const _0x9b6241=_0x5e8eac,_0x1cbb0a=String(_0x4e82cb)[_0x9b6241(0x1e9)](',','.')[_0x9b6241(0x1e9)](/[^\d.-]/g,'')[_0x9b6241(0x3dd)](),_0x4a7f5a=String(_0x17e49c)[_0x9b6241(0x1e9)](',','.')[_0x9b6241(0x1e9)](/[^\d.-]/g,'')[_0x9b6241(0x3dd)]();if(_0x1cbb0a===''||_0x4a7f5a==='')return![];const _0x7fe953=parseFloat(_0x1cbb0a),_0x257f34=parseFloat(_0x4a7f5a);if(isNaN(_0x7fe953)||isNaN(_0x257f34))return![];return Math[_0x9b6241(0x6fb)](_0x7fe953-_0x257f34)<0.001;}async function gradeShortAnswer(_0x54e31f,_0x4133c2){const _0x4a44b3=_0x5e8eac,_0x5895de=_0x4133c2[_0x4a44b3(0x483)];if(String(_0x54e31f)[_0x4a44b3(0x3dd)]()['toLowerCase']()===String(_0x5895de)[_0x4a44b3(0x3dd)]()['toLowerCase']())return!![];if(compareNumericalAnswers(_0x54e31f,_0x5895de))return!![];return console[_0x4a44b3(0x902)](_0x4a44b3(0x379)),await gradeShortAnswerWithAI(_0x54e31f,_0x5895de);}async function revealAnswerForAdmin(_0x9ec29,_0x234351){const _0x3b0d44=_0x5e8eac,_0x4b2f65=doc(db,_0x3b0d44(0x705)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x4b2f65,{'questionStatus':_0x3b0d44(0x3fb)});}function showTop5LeaderboardView(_0x88a769){const _0x8d7a3b=_0x5e8eac,_0x27301d=Object[_0x8d7a3b(0x5e7)](_0x88a769['players']||{})[_0x8d7a3b(0x579)](_0xf111d4=>_0xf111d4['status']==='active');_0x27301d[_0x8d7a3b(0x163)]((_0x8c53,_0x3079fb)=>_0x3079fb[_0x8d7a3b(0x2d1)]-_0x8c53[_0x8d7a3b(0x2d1)]);const _0xfb5d3c=_0x27301d[_0x8d7a3b(0x5f8)](0x0,0x5),_0x13280d=_0x8d7a3b(0x456)+_0xfb5d3c[_0x8d7a3b(0x530)]((_0xc7c341,_0x18a67a)=>_0x8d7a3b(0x62d)+(_0x18a67a+0x1)+'.\x20'+(_0xc7c341['name']||Object[_0x8d7a3b(0x19e)](_0x88a769[_0x8d7a3b(0x4aa)])[_0x8d7a3b(0x801)](_0x1e2519=>_0x88a769[_0x8d7a3b(0x4aa)][_0x1e2519]===_0xc7c341))+_0x8d7a3b(0x7b0)+_0xc7c341['score']+_0x8d7a3b(0x350))[_0x8d7a3b(0x4b4)]('')+_0x8d7a3b(0x4e6)+(_0x88a769[_0x8d7a3b(0x7d5)]+0x1===currentQuizData[_0x8d7a3b(0x3ef)][_0x8d7a3b(0x2d2)]?_0x8d7a3b(0x50a):_0x8d7a3b(0x3d8))+_0x8d7a3b(0x865);liveGameView['innerHTML']=_0x13280d,document['getElementById']('goto-next-question-btn')[_0x8d7a3b(0x2da)](_0x8d7a3b(0x3b0),async()=>{const _0x2a91e2=_0x8d7a3b,_0x237901=doc(db,_0x2a91e2(0x705)+appId+_0x2a91e2(0x815),currentLiveGameId),_0x9b9d79=_0x88a769[_0x2a91e2(0x7d5)]+0x1;if(_0x9b9d79<currentQuizData[_0x2a91e2(0x3ef)]['length']){const _0x2a0372={'currentQuestionIndex':_0x9b9d79,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x2a91e2(0x683)};Object[_0x2a91e2(0x19e)](_0x88a769[_0x2a91e2(0x4aa)])[_0x2a91e2(0x8de)](_0x4d3771=>{const _0x4f6183=_0x2a91e2;_0x2a0372[_0x4f6183(0x574)+_0x4d3771+_0x4f6183(0x223)]=![];}),await updateDoc(_0x237901,_0x2a0372);}else await updateDoc(_0x237901,{'status':_0x2a91e2(0x4df)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x1e6eb9=>{const _0x36cb24=_0x45d9;if(_0x1e6eb9){userId=_0x1e6eb9[_0x36cb24(0x4ea)],userIdDisplay['textContent']=userId;const _0x5ca47f=await loadUserPreferences();_0x5ca47f[_0x36cb24(0x83f)]&&(document[_0x36cb24(0x839)](_0x36cb24(0x831))[_0x36cb24(0x3e5)]=_0x5ca47f[_0x36cb24(0x83f)]);globalDashboardSettings['projectView']=_0x5ca47f['projectView']||'grid';if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0xfb979a,_0x2e5bdd){const _0x3aa978=_0x5e8eac;if(!userId)return;try{const _0x2d42e0=doc(db,'artifacts/'+appId+'/users/'+userId+_0x3aa978(0x7bd)),_0x4e6c6a={};_0x4e6c6a[_0xfb979a]=_0x2e5bdd,await setDoc(_0x2d42e0,_0x4e6c6a,{'merge':!![]});}catch(_0x46b0e2){console[_0x3aa978(0x2a9)](_0x3aa978(0x7f2),_0x46b0e2);}}async function loadUserPreferences(){const _0xdc1a6=_0x5e8eac;if(!userId)return{};try{const _0x2c662d=doc(db,_0xdc1a6(0x705)+appId+_0xdc1a6(0x164)+userId+_0xdc1a6(0x7bd)),_0x570a3a=await getDoc(_0x2c662d);if(_0x570a3a['exists']())return _0x570a3a['data']();return{};}catch(_0x92767b){return console['error'](_0xdc1a6(0x51e),_0x92767b),{};}}function showPodiumView(_0x2fc699){const _0x501dcd=_0x5e8eac,_0x3bcc98=Object[_0x501dcd(0x2e2)](_0x2fc699)[_0x501dcd(0x530)](([_0x3a18b7,_0x4093d8])=>({'name':_0x3a18b7,'score':_0x4093d8[_0x501dcd(0x2d1)]||0x0,'badges':_0x4093d8[_0x501dcd(0x20a)]||[]}));_0x3bcc98[_0x501dcd(0x163)]((_0x300380,_0x48dfe8)=>{const _0x258305=_0x501dcd,_0x55807c=_0x48dfe8[_0x258305(0x2d1)]-_0x300380[_0x258305(0x2d1)];if(_0x55807c!==0x0)return _0x55807c;return(_0x48dfe8[_0x258305(0x20a)][_0x258305(0x2d2)]||0x0)-(_0x300380[_0x258305(0x20a)]['length']||0x0);});const _0x153b26=_0x5efa73=>{const _0x1a956c=_0x501dcd;if(!_0x5efa73||_0x5efa73['length']===0x0)return'';const _0x17b4b2={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x1a956c(0x7d4)+_0x5efa73['map'](_0x122095=>_0x17b4b2[_0x122095]||'')[_0x1a956c(0x4b4)]('')+_0x1a956c(0x145);},_0x420253=_0x3bcc98['slice'](0x3),_0x50564d=_0x420253['length']>0x0?_0x501dcd(0x139)+_0x420253[_0x501dcd(0x530)]((_0x3922e5,_0x18e559)=>_0x501dcd(0x38c)+(_0x18e559+0x4)+_0x501dcd(0x743)+_0x3922e5[_0x501dcd(0x912)]+_0x501dcd(0x1bb)+_0x3922e5['score']+_0x501dcd(0x4b8))[_0x501dcd(0x4b4)]('')+_0x501dcd(0x90e):'',_0x56a224=_0x501dcd(0x68a)+(_0x3bcc98[0x1]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x3bcc98[0x1][_0x501dcd(0x912)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x153b26(_0x3bcc98[0x1][_0x501dcd(0x20a)])+_0x501dcd(0x3a5)+_0x3bcc98[0x1][_0x501dcd(0x2d1)]+_0x501dcd(0x73f):_0x501dcd(0x786))+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3bcc98[0x0]?_0x501dcd(0x5fb)+_0x3bcc98[0x0][_0x501dcd(0x912)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x153b26(_0x3bcc98[0x0][_0x501dcd(0x20a)])+_0x501dcd(0x8e9)+_0x3bcc98[0x0][_0x501dcd(0x2d1)]+_0x501dcd(0x56d):'<div\x20class=\x22flex-1\x22></div>')+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3bcc98[0x2]?_0x501dcd(0x3aa)+_0x3bcc98[0x2][_0x501dcd(0x912)]+_0x501dcd(0x5cf)+_0x153b26(_0x3bcc98[0x2][_0x501dcd(0x20a)])+_0x501dcd(0x3a5)+_0x3bcc98[0x2][_0x501dcd(0x2d1)]+_0x501dcd(0x18c):_0x501dcd(0x786))+_0x501dcd(0x86d)+_0x50564d+_0x501dcd(0x6c4)+(currentMode===_0x501dcd(0x1e8)?_0x501dcd(0x8da):'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x501dcd(0x536)]=_0x56a224,currentMode===_0x501dcd(0x1e8)&&document[_0x501dcd(0x839)](_0x501dcd(0x36e))[_0x501dcd(0x2da)]('click',async()=>{const _0x16eeb8=_0x501dcd,_0x33ef70=doc(db,_0x16eeb8(0x705)+appId+'/public/data/liveGames',currentLiveGameId);await deleteDoc(_0x33ef70),showView(_0x16eeb8(0x686));});}async function handleStartLiveRace(_0x4dc98d){const _0x32415f=_0x5e8eac;let _0x1495ef=allQuizzes['find'](_0x99901c=>_0x99901c['id']===_0x4dc98d);if(!_0x1495ef){const _0x3fda43=doc(db,_0x32415f(0x705)+appId+_0x32415f(0x780),_0x4dc98d),_0x4a80c1=await getDoc(_0x3fda43);if(!_0x4a80c1[_0x32415f(0x15e)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0x1495ef={'id':_0x4a80c1['id'],..._0x4a80c1[_0x32415f(0x4b3)]()};}const _0x388ff2=getShuffledQuiz(_0x1495ef);currentQuizData=_0x388ff2;const _0x1a59dd=_0x1495ef['projectId']||currentProjectId||null,_0x393cec=Math['floor'](0x3e8+Math[_0x32415f(0x195)]()*0x2328)[_0x32415f(0x472)]();currentLiveGamePin=_0x393cec;try{const _0x53cd9e=await addDoc(collection(db,_0x32415f(0x705)+appId+_0x32415f(0x815)),{'quizId':_0x4dc98d,'projectId':_0x1a59dd,'status':_0x32415f(0x6de),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x393cec,'createdAt':serverTimestamp(),'shuffledQuiz':_0x388ff2});currentLiveGameId=_0x53cd9e['id'],showAdminLobbyView(_0x393cec,_0x1495ef[_0x32415f(0x1bf)]),listenForLiveGameUpdates();}catch(_0x46a270){console[_0x32415f(0x2a9)]('Error\x20starting\x20live\x20race:',_0x46a270),showMessage(_0x32415f(0x35a));}}async function handleShowStudentRankings(){const _0x459cee=_0x5e8eac,_0x4f7200=document[_0x459cee(0x2cf)](_0x459cee(0x20f));_0x4f7200&&(_0x4f7200[_0x459cee(0x536)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x45cbc5=document[_0x459cee(0x2cf)](_0x459cee(0x5d6));_0x45cbc5&&(_0x45cbc5[_0x459cee(0x536)]=_0x459cee(0x290));const _0xaefd53=document[_0x459cee(0x839)](_0x459cee(0x846));_0xaefd53['classList'][_0x459cee(0x514)](_0x459cee(0x28b)),document[_0x459cee(0x839)](_0x459cee(0x2a1))[_0x459cee(0x5b1)]=()=>_0xaefd53[_0x459cee(0x298)]['add'](_0x459cee(0x28b));const _0xcb371b=document[_0x459cee(0x839)](_0x459cee(0x486)),_0x15274f=document[_0x459cee(0x839)]('student-project-leaderboard-tab'),_0x158803=document[_0x459cee(0x839)](_0x459cee(0x6ef)),_0x1ebedc=document[_0x459cee(0x839)](_0x459cee(0x7ee));_0xcb371b[_0x459cee(0x5b1)]=()=>{const _0x52faae=_0x459cee;_0xcb371b[_0x52faae(0x298)]['add'](_0x52faae(0x38b)),_0x15274f[_0x52faae(0x298)][_0x52faae(0x514)](_0x52faae(0x38b)),_0x158803[_0x52faae(0x298)]['remove'](_0x52faae(0x28b)),_0x1ebedc[_0x52faae(0x298)][_0x52faae(0x36a)]('hidden');},_0x15274f[_0x459cee(0x5b1)]=()=>{const _0x1c0ae9=_0x459cee;_0x15274f[_0x1c0ae9(0x298)][_0x1c0ae9(0x36a)]('active'),_0xcb371b[_0x1c0ae9(0x298)]['remove'](_0x1c0ae9(0x38b)),_0x1ebedc[_0x1c0ae9(0x298)][_0x1c0ae9(0x514)]('hidden'),_0x158803[_0x1c0ae9(0x298)][_0x1c0ae9(0x36a)](_0x1c0ae9(0x28b));};try{const _0x4c984b=collection(db,_0x459cee(0x705)+appId+_0x459cee(0x736)+currentQuizData['id']+_0x459cee(0x23e)),_0x4a4d24=await getDocs(_0x4c984b),_0x3b1d0d=_0x4a4d24[_0x459cee(0x42d)][_0x459cee(0x530)](_0x518018=>_0x518018[_0x459cee(0x4b3)]());renderQuizLeaderboard(_0x3b1d0d,currentQuizData,_0x459cee(0x428));const _0x1a53b8=collection(db,'artifacts/'+appId+_0x459cee(0x49a)+currentQuizData[_0x459cee(0x1cb)]+_0x459cee(0x2de)),_0x179ba8=await getDocs(_0x1a53b8),_0x2150da=_0x179ba8['docs']['map'](_0xa95dd4=>_0xa95dd4[_0x459cee(0x4b3)]());renderLeaderboard(_0x2150da,_0x459cee(0x46f));}catch(_0x32550e){console['error']('Error\x20fetching\x20student\x20rankings:',_0x32550e),showMessage(_0x459cee(0x628));}}async function handleSaveToBank(_0xf9c6ab){const _0x4860f6=_0x5e8eac,_0xfdefaf=_0xf9c6ab['currentTarget'],_0x4ddb0f=_0xfdefaf[_0x4860f6(0x6b1)][_0x4860f6(0x1a2)],_0xdcdd0f=currentQuizData[_0x4860f6(0x3ef)][_0x4ddb0f];if(!userId){showMessage(_0x4860f6(0x811));return;}try{const _0x361390={..._0xdcdd0f,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x3f7dc6=collection(db,_0x4860f6(0x705)+appId+'/users/'+userId+_0x4860f6(0x6f5));await addDoc(_0x3f7dc6,_0x361390),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0xfdefaf['classList'][_0x4860f6(0x514)]('text-purple-600'),_0xfdefaf[_0x4860f6(0x298)][_0x4860f6(0x36a)]('text-green-600'),_0xfdefaf[_0x4860f6(0x4d1)]=!![];}catch(_0x4c5ca8){console[_0x4860f6(0x2a9)](_0x4860f6(0x493),_0x4c5ca8),showMessage(_0x4860f6(0x722));}}function listenForStarredQuizzes(){const _0x5ccbcb=_0x5e8eac;if(!userId)return;const _0x302b07=collection(db,_0x5ccbcb(0x705)+appId+'/public/data/quizzes'),_0x730faa=query(_0x302b07,where(_0x5ccbcb(0x4f6),'==',!![]));onSnapshot(_0x730faa,_0x1abd11=>{const _0x1a0c36=_0x5ccbcb;starredQuizzes=_0x1abd11[_0x1a0c36(0x42d)][_0x1a0c36(0x530)](_0x462516=>({'id':_0x462516['id'],..._0x462516['data']()})),currentProjectId===_0x1a0c36(0x2fd)?renderQuizzes():renderProjects();},_0x475fd4=>{const _0xaabf52=_0x5ccbcb;console[_0xaabf52(0x2a9)](_0xaabf52(0x867),_0x475fd4);});}function exportQuizAsWorksheetPDF(){const _0x2664ac=_0x5e8eac;if(!currentQuizData||!currentQuizData['questions']){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x2863b1=currentQuizData,_0x56cbfc=window[_0x2664ac(0x615)]('',_0x2664ac(0x395)),_0x4c773e=_0x462be6=>String[_0x2664ac(0x47a)](0x41+_0x462be6),_0x2b950b=_0x2664ac(0x77c)+_0x2863b1[_0x2664ac(0x1bf)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x2863b1['topic']+_0x2664ac(0x231)+_0x2863b1[_0x2664ac(0x3ef)][_0x2664ac(0x530)]((_0x3b5605,_0x2f3401)=>{const _0x3c7efc=_0x2664ac;let _0x5a793c='';const _0x3dc74d=_0x3b5605[_0x3c7efc(0x6d0)]||_0x2863b1['quizType'];switch(_0x3dc74d){case _0x3c7efc(0x497):case _0x3c7efc(0x459):_0x5a793c=_0x3c7efc(0x807)+_0x3b5605[_0x3c7efc(0x7d8)][_0x3c7efc(0x530)]((_0x22b978,_0x1ab4c6)=>_0x3c7efc(0x5ea)+_0x4c773e(_0x1ab4c6)+'.\x20'+_0x22b978+_0x3c7efc(0x2d0))[_0x3c7efc(0x4b4)]('<br>')+'</div>';break;case _0x3c7efc(0x679):_0x5a793c=_0x3c7efc(0x228);break;default:_0x5a793c=_0x3c7efc(0x554);break;}return _0x3c7efc(0x2c0)+(_0x2f3401+0x1)+_0x3c7efc(0x745)+(_0x3b5605['stem']||_0x3b5605[_0x3c7efc(0x593)])+_0x3c7efc(0x761)+(_0x3b5605[_0x3c7efc(0x8b0)]?_0x3c7efc(0x421)+_0x3b5605[_0x3c7efc(0x8b0)]+_0x3c7efc(0x145):'')+_0x3c7efc(0x1f3)+_0x5a793c+_0x3c7efc(0x1f1);})[_0x2664ac(0x4b4)]('')+_0x2664ac(0x64e);_0x56cbfc['document'][_0x2664ac(0x385)](_0x2b950b),_0x56cbfc['document']['close'](),_0x56cbfc[_0x2664ac(0x73d)]=function(){setTimeout(()=>{const _0xd24f37=_0x45d9;_0x56cbfc[_0xd24f37(0x4b0)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x1928af=_0x5e8eac;if(!currentQuizData||!currentQuizData[_0x1928af(0x3ef)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x246c16=currentQuizData,_0x2cc3cc=window['open']('','_blank'),_0x2ab264=_0x157f4e=>String['fromCharCode'](0x41+_0x157f4e),_0x55dc03=_0x1928af(0x5d1)+_0x246c16[_0x1928af(0x1bf)]+_0x1928af(0x812)+_0x246c16['questions'][_0x1928af(0x530)]((_0x14a56b,_0x56e961)=>{const _0x5510e2=_0x1928af;let _0x3933d4='';const _0x13b562=_0x14a56b[_0x5510e2(0x6d0)]||_0x246c16[_0x5510e2(0x863)];switch(_0x13b562){case _0x5510e2(0x497):case _0x5510e2(0x459):_0x3933d4=_0x5510e2(0x4e0)+_0x14a56b['options'][_0x5510e2(0x530)]((_0x217e76,_0x75f98b)=>_0x5510e2(0x54f)+_0x2ab264(_0x75f98b)+'.\x20'+_0x217e76+_0x5510e2(0x28e))[_0x5510e2(0x4b4)](_0x5510e2(0x297))+_0x5510e2(0x6f9);break;case _0x5510e2(0x679):_0x3933d4=_0x5510e2(0x3db);break;default:_0x3933d4='';break;}return _0x5510e2(0x59f)+_0x246c16[_0x5510e2(0x1bf)]+_0x5510e2(0x60b)+(_0x56e961+0x1)+_0x5510e2(0x7c8)+(_0x14a56b[_0x5510e2(0x3f1)]||_0x14a56b['questionText'])+_0x5510e2(0x761)+(_0x14a56b[_0x5510e2(0x8b0)]?'<div\x20class=\x22my-6\x22>'+_0x14a56b[_0x5510e2(0x8b0)]+'</div>':'')+_0x5510e2(0x1f3)+_0x3933d4+_0x5510e2(0x6ce);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x2cc3cc[_0x1928af(0x18b)]['write'](_0x55dc03),_0x2cc3cc[_0x1928af(0x18b)][_0x1928af(0x6c9)](),_0x2cc3cc[_0x1928af(0x73d)]=function(){setTimeout(()=>{const _0x2f405c=_0x45d9;_0x2cc3cc[_0x2f405c(0x4b0)]();},0x5dc);};}async function handleToggleStarQuiz(_0x55c9a5){const _0x254c5c=_0x5e8eac,_0x3be7f2=doc(db,_0x254c5c(0x705)+appId+_0x254c5c(0x780),_0x55c9a5);try{const _0x5c2f7e=await getDoc(_0x3be7f2);if(_0x5c2f7e[_0x254c5c(0x15e)]()){const _0xebb527=_0x5c2f7e[_0x254c5c(0x4b3)]()[_0x254c5c(0x4f6)]||![];await updateDoc(_0x3be7f2,{'isStarred':!_0xebb527});}}catch(_0x49202e){console[_0x254c5c(0x2a9)](_0x254c5c(0x8b5),_0x49202e),showMessage(_0x254c5c(0x588));}}async function displayQuestionBank(){const _0x484401=_0x5e8eac,_0x3b0cef=document[_0x484401(0x839)](_0x484401(0x920));_0x3b0cef[_0x484401(0x536)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x454103=collection(db,_0x484401(0x705)+appId+'/users/'+userId+_0x484401(0x6f5)),_0x4d8f37=query(_0x454103),_0x525dc2=await getDocs(_0x4d8f37);if(_0x525dc2[_0x484401(0x791)]){_0x3b0cef[_0x484401(0x536)]=_0x484401(0x13e);return;}let _0xab212b=_0x525dc2['docs']['map'](_0x5841ac=>{const _0x586cdf=_0x484401,_0x534789=_0x5841ac['data'](),_0x2b5117=_0x5841ac['id'];return _0x586cdf(0x398)+JSON['stringify'](_0x534789)+_0x586cdf(0x186)+(_0x534789[_0x586cdf(0x593)]||_0x534789[_0x586cdf(0x3f1)])+_0x586cdf(0x1ee)+_0x534789[_0x586cdf(0x8fc)]+_0x586cdf(0x8a9);})[_0x484401(0x4b4)]('');_0x3b0cef[_0x484401(0x536)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0xab212b+_0x484401(0x1de),document[_0x484401(0x839)](_0x484401(0x774))[_0x484401(0x2da)](_0x484401(0x3b0),createQuizFromBank);}catch(_0x20eee2){console[_0x484401(0x2a9)](_0x484401(0x71d),_0x20eee2),_0x3b0cef['innerHTML']=_0x484401(0x125);}}function showAdminLiveQuestionView(_0x55ab97,_0x3ef9f5,_0x58ee5c){const _0xf3c3a9=_0x5e8eac,_0x4911e3=_0x55ab97[_0xf3c3a9(0x6d0)]||currentQuizData[_0xf3c3a9(0x863)];let _0x5694d6='';if(_0x4911e3===_0xf3c3a9(0x497)||_0x4911e3===_0xf3c3a9(0x679)){const _0x479284=_0x4911e3===_0xf3c3a9(0x679)?['ใช่','ไม่ใช่']:_0x55ab97['options'],_0x26ad6f=_0x4911e3==='true_false'?_0x55ab97[_0xf3c3a9(0x788)]?0x0:0x1:_0x55ab97[_0xf3c3a9(0x8f1)];_0x5694d6=_0x479284[_0xf3c3a9(0x530)]((_0x282ebd,_0x487662)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x487662===_0x26ad6f)+_0xf3c3a9(0x7ab)+_0x282ebd+_0xf3c3a9(0x2ae))[_0xf3c3a9(0x4b4)]('');}else{if(_0x4911e3==='matching_item'){const _0x5ec146=_0x55ab97[_0xf3c3a9(0x5d8)]||[];_0x5694d6=_0x5ec146[_0xf3c3a9(0x530)](_0x1e5842=>_0xf3c3a9(0x502)+(_0x1e5842===_0x55ab97['correctResponse'])+_0xf3c3a9(0x7ab)+_0x1e5842+_0xf3c3a9(0x2ae))[_0xf3c3a9(0x4b4)]('');}}const _0x165be8=_0x55ab97[_0xf3c3a9(0x3f1)]||_0x55ab97[_0xf3c3a9(0x593)],_0x2286bc=_0xf3c3a9(0x5e5)+(_0x3ef9f5+0x1)+_0xf3c3a9(0x665)+_0x58ee5c+_0xf3c3a9(0x3f5)+_0x165be8+_0xf3c3a9(0x27f)+_0x5694d6+_0xf3c3a9(0x276);liveGameView[_0xf3c3a9(0x536)]=_0x2286bc,window[_0xf3c3a9(0x20c)]&&MathJax[_0xf3c3a9(0x687)]&&MathJax[_0xf3c3a9(0x687)]([liveGameView]),document['getElementById'](_0xf3c3a9(0x399))[_0xf3c3a9(0x2da)](_0xf3c3a9(0x3b0),()=>revealAnswerForAdmin(_0x3ef9f5,_0x58ee5c)),document['getElementById']('end-game-btn')[_0xf3c3a9(0x2da)](_0xf3c3a9(0x3b0),async()=>{const _0x4334e4=_0xf3c3a9,_0x5097f5=doc(db,_0x4334e4(0x705)+appId+_0x4334e4(0x815),currentLiveGameId);await deleteDoc(_0x5097f5),showView(_0x4334e4(0x686));}),document[_0xf3c3a9(0x839)](_0xf3c3a9(0x1e3))[_0xf3c3a9(0x2da)]('click',()=>{const _0x58a028=_0xf3c3a9;document['getElementById'](_0x58a028(0x851))['classList'][_0x58a028(0x8d2)]('hidden');});}function showStudentLiveQuestionView(_0x35daeb,_0x102fb9,_0x34cfb7){const _0x23595f=_0x5e8eac,_0x2d3516=_0x35daeb[_0x23595f(0x6d0)]||currentQuizData[_0x23595f(0x863)];let _0x43dc3a='';if(_0x2d3516===_0x23595f(0x497)||_0x2d3516===_0x23595f(0x679)){const _0x483288=_0x2d3516===_0x23595f(0x679)?[_0x23595f(0x5a4),'ไม่ใช่']:_0x35daeb[_0x23595f(0x7d8)];_0x43dc3a=_0x483288[_0x23595f(0x530)]((_0x525be1,_0x445e47)=>_0x23595f(0x7f0)+_0x445e47+_0x23595f(0x5c3)+_0x525be1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x23595f(0x4b4)]('');}else{if(_0x2d3516===_0x23595f(0x183)){const _0x3ee42e=_0x35daeb['allResponses']||[];_0x43dc3a=_0x3ee42e[_0x23595f(0x530)]((_0xfb78fb,_0x26b508)=>_0x23595f(0x7f0)+_0x26b508+_0x23595f(0x5c3)+_0xfb78fb+_0x23595f(0x8c6))['join']('');}else _0x2d3516===_0x23595f(0x3a8)&&(_0x43dc3a=_0x23595f(0x3ed));}const _0x309f6a=_0x35daeb[_0x23595f(0x3f1)]||_0x35daeb['questionText'],_0x3d5995=_0x23595f(0x4be)+(_0x102fb9+0x1)+_0x23595f(0x665)+_0x34cfb7+_0x23595f(0x356)+_0x309f6a+_0x23595f(0x5a9)+_0x43dc3a+_0x23595f(0x778);liveGameView[_0x23595f(0x536)]=_0x3d5995;window[_0x23595f(0x20c)]&&MathJax[_0x23595f(0x687)]&&MathJax[_0x23595f(0x687)]([liveGameView]);const _0xcf12a1=document[_0x23595f(0x839)](_0x23595f(0x84a));_0xcf12a1&&_0xcf12a1[_0x23595f(0x2da)](_0x23595f(0x3b0),()=>{const _0x3750c5=_0x23595f,_0x440fd8=document[_0x3750c5(0x839)](_0x3750c5(0x608))[_0x3750c5(0x3e5)];handleLiveAnswer(_0x440fd8,_0x35daeb);}),document[_0x23595f(0x839)]('live-options-container')['addEventListener'](_0x23595f(0x3b0),_0x45b1ab=>{const _0x3d900c=_0x23595f,_0x37a34e=_0x45b1ab['target'][_0x3d900c(0x2b1)]('.live-answer-btn');if(_0x37a34e){const _0x54d6c6=parseInt(_0x37a34e[_0x3d900c(0x6b1)][_0x3d900c(0x1a2)]);handleLiveAnswer(_0x54d6c6,_0x35daeb);}});}async function handleLiveAnswer(_0x35c045,_0x45c909){const _0x17c6ac=_0x5e8eac;document[_0x17c6ac(0x2eb)](_0x17c6ac(0x25a))[_0x17c6ac(0x8de)](_0x92bbd0=>_0x92bbd0[_0x17c6ac(0x4d1)]=!![]);const _0xe1b6f3=_0x45c909['questionType']||currentQuizData[_0x17c6ac(0x863)];let _0xb21ee9=![];if(_0xe1b6f3===_0x17c6ac(0x3a8)){const _0x1aea55=(_0x35c045||'')[_0x17c6ac(0x472)]();_0xb21ee9=await gradeShortAnswer(_0x1aea55,_0x45c909);}else{if(_0xe1b6f3===_0x17c6ac(0x497))_0xb21ee9=_0x35c045===_0x45c909[_0x17c6ac(0x8f1)];else{if(_0xe1b6f3===_0x17c6ac(0x679)){const _0x3cdfd9=_0x45c909[_0x17c6ac(0x788)];_0xb21ee9=_0x35c045===0x0&&_0x3cdfd9||_0x35c045===0x1&&!_0x3cdfd9;}else{if(_0xe1b6f3==='matching_item'){const _0xeac933=_0x45c909['allResponses'][_0x35c045];_0xb21ee9=_0xeac933===_0x45c909['correctResponse'];}}}}const _0x1e6ef1=doc(db,_0x17c6ac(0x705)+appId+_0x17c6ac(0x815),currentLiveGameId),_0x239633=await getDoc(_0x1e6ef1);if(!_0x239633[_0x17c6ac(0x15e)]())return;const _0x18dca7=_0x239633['data'](),_0x57ceb4=_0x18dca7[_0x17c6ac(0x4aa)][currentStudentName];let _0xa9e1ba=_0x57ceb4[_0x17c6ac(0x20a)]||[],_0x887855=_0x57ceb4[_0x17c6ac(0x68e)]||0x0;const _0x3e7f02={};let _0x3504b7=0x0;if(_0x18dca7[_0x17c6ac(0x8d1)]){const _0x43cf0f=_0x18dca7[_0x17c6ac(0x8d1)]['toDate'](),_0x28956f=new Date()-_0x43cf0f;if(_0xb21ee9){const _0x56b4cd=0x3e8,_0x3cbfec=0x1f4,_0x16ec2c=0x4e20;let _0x1fc516=_0x28956f/_0x16ec2c;if(_0x1fc516>0x1)_0x1fc516=0x1;const _0xfcd708=Math[_0x17c6ac(0x1bc)](_0x1fc516*_0x3cbfec);_0x3504b7=_0x56b4cd-_0xfcd708,_0x28956f<=0x1388&&!_0xa9e1ba[_0x17c6ac(0x6f6)](_0x17c6ac(0x89b))&&_0xa9e1ba['push'](_0x17c6ac(0x89b));}}_0xb21ee9?(_0x887855++,_0x887855===0x3&&!_0xa9e1ba[_0x17c6ac(0x6f6)](_0x17c6ac(0x427))&&(_0xa9e1ba['push'](_0x17c6ac(0x427)),_0x887855=0x0)):_0x887855=0x0,_0xb21ee9&&(_0x3e7f02[_0x17c6ac(0x574)+currentStudentName+_0x17c6ac(0x154)]=increment(_0x3504b7)),_0x3e7f02[_0x17c6ac(0x574)+currentStudentName+'.badges']=_0xa9e1ba,_0x3e7f02['players.'+currentStudentName+_0x17c6ac(0x7d7)]=_0x887855,_0x3e7f02[_0x17c6ac(0x574)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x3e7f02['players.'+currentStudentName+'.lastAnswerCorrect']=_0xb21ee9,_0x3e7f02[_0x17c6ac(0x574)+currentStudentName+_0x17c6ac(0x5be)]=_0x3504b7,_0xe1b6f3!==_0x17c6ac(0x3a8)&&(_0x3e7f02[_0x17c6ac(0x574)+currentStudentName+'.lastAnswerIndex']=_0x35c045),await updateDoc(_0x1e6ef1,_0x3e7f02),liveGameView[_0x17c6ac(0x536)]=_0x17c6ac(0x4e4);}function showAdminSummaryView(_0x579f1d,_0x3b3f81){const _0x284663=_0x5e8eac,_0x61bbf7=Object[_0x284663(0x5e7)](_0x579f1d['players']||{}),_0x2e4a4e=_0x3b3f81[_0x284663(0x6d0)]||currentQuizData[_0x284663(0x863)],_0x2f0869=_0x2e4a4e===_0x284663(0x679)?['ใช่',_0x284663(0x34d)]:_0x3b3f81['options'],_0x4eaf82={};_0x2f0869[_0x284663(0x8de)]((_0x3ac3dd,_0x26f9b5)=>{_0x4eaf82[_0x26f9b5]=[];}),Object[_0x284663(0x2e2)](_0x579f1d[_0x284663(0x4aa)]||{})[_0x284663(0x8de)](([_0x44963c,_0x38f05e])=>{const _0x28df96=_0x284663;_0x38f05e['status']===_0x28df96(0x38b)&&_0x38f05e['lastAnswerIndex']!==undefined&&(_0x4eaf82[_0x38f05e[_0x28df96(0x7c7)]]&&_0x4eaf82[_0x38f05e['lastAnswerIndex']][_0x28df96(0x8a4)](_0x44963c));});const _0x25aa7c=new Array(_0x2f0869['length'])['fill'](0x0);_0x61bbf7[_0x284663(0x8de)](_0x21d9be=>{const _0xf3d578=_0x284663;_0x21d9be['status']==='active'&&_0x21d9be[_0xf3d578(0x7c7)]!==undefined&&_0x21d9be['lastAnswerIndex']<_0x25aa7c[_0xf3d578(0x2d2)]&&_0x25aa7c[_0x21d9be[_0xf3d578(0x7c7)]]++;});const _0x20a1ec=Math['max'](..._0x25aa7c,0x1),_0xd8dd41=[_0x284663(0x23a),_0x284663(0x47b),_0x284663(0x4c7),'#26890c'],_0x7c39dd=_0x284663(0x8f9)+(_0x3b3f81[_0x284663(0x3f1)]||_0x3b3f81[_0x284663(0x593)])+_0x284663(0x6b4)+_0x25aa7c[_0x284663(0x530)]((_0xb00fe7,_0x5641f0)=>{const _0x1d6b8d=_0x284663,_0x3abc95=_0x4eaf82[_0x5641f0]['length']>0x0?_0x1d6b8d(0x524)+_0x4eaf82[_0x5641f0]['join'](',\x20'):_0x1d6b8d(0x62f);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-center\x20w-1/4\x20cursor-pointer\x22\x20title=\x22'+_0x3abc95+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-2xl\x20font-bold\x22>'+_0xb00fe7+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-black/20\x20rounded-t-lg\x22\x20style=\x22height:\x20'+_0xb00fe7/_0x20a1ec*0x64+_0x1d6b8d(0x2c3)+(_0xd8dd41[_0x5641f0]||_0x1d6b8d(0x3cd))+_0x1d6b8d(0x6e7)+_0x2f0869[_0x5641f0]+_0x1d6b8d(0x904);})['join']('')+_0x284663(0x6bf);liveGameView[_0x284663(0x536)]=_0x7c39dd;if(window[_0x284663(0x20c)])MathJax[_0x284663(0x687)]();document['getElementById']('show-leaderboard-btn')[_0x284663(0x2da)](_0x284663(0x3b0),async()=>{const _0x341733=_0x284663,_0x10014c=doc(db,_0x341733(0x705)+appId+_0x341733(0x815),currentLiveGameId);await updateDoc(_0x10014c,{'questionStatus':_0x341733(0x441)});});}function showPlayerSummaryView(_0x36b4db,_0x1027fb){const _0x3bc26a=_0x5e8eac,_0x2442c5=Object[_0x3bc26a(0x5e7)](_0x36b4db[_0x3bc26a(0x4aa)]||{}),_0x53332f=_0x36b4db[_0x3bc26a(0x4aa)][_0x1027fb],_0x51ef10=_0x2442c5[_0x3bc26a(0x579)](_0x431683=>_0x431683[_0x3bc26a(0x442)]===_0x3bc26a(0x38b))[_0x3bc26a(0x163)]((_0x1d5411,_0x1c440a)=>_0x1c440a['score']-_0x1d5411[_0x3bc26a(0x2d1)]),_0x1b4935=_0x51ef10[_0x3bc26a(0x333)](_0x1396ac=>_0x1396ac===_0x53332f)+0x1,_0x14225e=_0x53332f['lastAnswerCorrect']?_0x3bc26a(0x343):_0x3bc26a(0x19d),_0x12965c=_0x53332f[_0x3bc26a(0x58b)]?_0x3bc26a(0x7e8):'bg-red-500',_0x556362=_0x53332f[_0x3bc26a(0x74d)]||0x0,_0x317114=_0x3bc26a(0x6d7),_0x45fc4d=_0x3bc26a(0x8df)+_0x317114+_0x3bc26a(0x901)+_0x12965c+_0x3bc26a(0x70b)+_0x14225e+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x556362+_0x3bc26a(0x42a)+(_0x1b4935>0x0?_0x1b4935:'-')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView['innerHTML']=_0x45fc4d;}function createQuizFromBank(){const _0x5918de=_0x5e8eac,_0x4487fe=document[_0x5918de(0x2eb)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x4487fe['length']===0x0){showMessage('กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ');return;}const _0xdac24f=[];_0x4487fe[_0x5918de(0x8de)](_0x2f82a0=>{const _0x35b9a2=_0x5918de;_0xdac24f[_0x35b9a2(0x8a4)](JSON['parse'](_0x2f82a0['value']));});const _0x56fd85={'topic':_0x5918de(0x85a),'questions':_0xdac24f};displayGeneratedQuiz(_0x56fd85);}function showAdminLobbyView(_0x2c3a15,_0x5e05b9){const _0x4d4a3d=_0x5e8eac;showView('live-game');const _0x306df3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x5e05b9+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x2c3a15+_0x4d4a3d(0x753);liveGameView[_0x4d4a3d(0x536)]=_0x306df3,document[_0x4d4a3d(0x839)](_0x4d4a3d(0x55d))[_0x4d4a3d(0x2da)](_0x4d4a3d(0x3b0),async()=>{const _0x3fb5c0=_0x4d4a3d;if(!currentQuizData||!currentQuizData[_0x3fb5c0(0x3ef)]||currentQuizData[_0x3fb5c0(0x3ef)][_0x3fb5c0(0x2d2)]===0x0){showMessage(_0x3fb5c0(0x2d9));return;}try{const _0x5255a7=doc(db,_0x3fb5c0(0x705)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x5255a7,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x1a4456=currentQuizData[_0x3fb5c0(0x3ef)][0x0],_0x4ce070=currentQuizData[_0x3fb5c0(0x3ef)]['length'];showAdminLiveQuestionView(_0x1a4456,0x0,_0x4ce070);}catch(_0x5095dc){console[_0x3fb5c0(0x2a9)](_0x3fb5c0(0x49f),_0x5095dc),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openGlobalLiveModal(){const _0xfb30be=_0x5e8eac;if(allQuizzesGlobal[_0xfb30be(0x2d2)]===0x0){const _0xe8df88=await getDocs(collection(db,_0xfb30be(0x705)+appId+_0xfb30be(0x780)));allQuizzesGlobal=_0xe8df88[_0xfb30be(0x42d)][_0xfb30be(0x530)](_0x71e875=>({'id':_0x71e875['id'],..._0x71e875[_0xfb30be(0x4b3)]()}));}renderGlobalQuizList(''),document[_0xfb30be(0x839)](_0xfb30be(0x6e3))[_0xfb30be(0x298)][_0xfb30be(0x514)](_0xfb30be(0x28b));}async function openQuizBankModal(){const _0x429233=_0x5e8eac;if(allQuizzesGlobal['length']===0x0){const _0x24c5f9=await getDocs(collection(db,_0x429233(0x705)+appId+_0x429233(0x780)));allQuizzesGlobal=_0x24c5f9[_0x429233(0x42d)][_0x429233(0x530)](_0x40ea83=>({'id':_0x40ea83['id'],..._0x40ea83['data']()}));}renderQuizBankList(''),document[_0x429233(0x839)](_0x429233(0x358))[_0x429233(0x298)]['remove']('hidden');}function renderQuizBankList(_0x9a422f=''){const _0x182860=_0x5e8eac,_0x1a26f5=document['getElementById']('bank-quiz-list'),_0x21f3dd=_0x9a422f[_0x182860(0x55b)]()['trim'](),_0x23d341=allQuizzesGlobal[_0x182860(0x530)](_0x1f0f1d=>({..._0x1f0f1d,'projectName':allProjects[_0x182860(0x801)](_0x50ebb6=>_0x50ebb6['id']===_0x1f0f1d[_0x182860(0x1cb)])?.[_0x182860(0x134)]||_0x182860(0x204)}))[_0x182860(0x579)](_0x26175e=>(_0x26175e[_0x182860(0x1bf)]||'')[_0x182860(0x55b)]()[_0x182860(0x6f6)](_0x21f3dd)||(_0x26175e['projectName']||'')[_0x182860(0x55b)]()[_0x182860(0x6f6)](_0x21f3dd)||_0x26175e['id'][_0x182860(0x472)]()['includes'](_0x21f3dd));document[_0x182860(0x839)](_0x182860(0x7ec))[_0x182860(0x4ca)]='('+_0x23d341[_0x182860(0x2d2)]+_0x182860(0x82c),_0x1a26f5['innerHTML']=_0x23d341[_0x182860(0x2d2)]?_0x23d341[_0x182860(0x530)](_0x34163d=>_0x182860(0x458)+_0x34163d['id']+_0x182860(0x742)+(_0x34163d[_0x182860(0x1bf)]||'(ไม่มีชื่อ)')+_0x182860(0x4fe)+(_0x34163d[_0x182860(0x3ef)]?.['length']||0x0)+_0x182860(0x4b1)+_0x34163d[_0x182860(0x134)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0x34163d['id']+_0x182860(0x4e8)+_0x34163d['id']+_0x182860(0x595)+_0x34163d['id']+'\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x34163d['id']+_0x182860(0x6a9)+_0x34163d['id']+_0x182860(0x4c8)+_0x34163d['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22'+_0x34163d['id']+_0x182860(0x480)+_0x34163d[_0x182860(0x1bf)]+_0x182860(0x6c1))[_0x182860(0x4b4)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x1a26f5['querySelectorAll'](_0x182860(0x2d8))[_0x182860(0x8de)](_0x5e703f=>{const _0x32afbe=_0x182860;_0x5e703f[_0x32afbe(0x2da)](_0x32afbe(0x3b0),()=>{const _0x5084b4=_0x32afbe,_0x15669d=_0x5e703f[_0x5084b4(0x6b1)]['id'];document['getElementById'](_0x5084b4(0x358))['classList'][_0x5084b4(0x36a)](_0x5084b4(0x28b)),showQuizDetailView(_0x15669d);});}),_0x1a26f5[_0x182860(0x2eb)](_0x182860(0x7cf))[_0x182860(0x8de)](_0x3b85aa=>{const _0x37ff28=_0x182860;_0x3b85aa['addEventListener'](_0x37ff28(0x3b0),_0x221d7d=>{const _0x2fd9c8=_0x37ff28;_0x221d7d['stopPropagation']();const _0x148cb5=_0x3b85aa[_0x2fd9c8(0x6b1)]['id'],_0x5d705a=allQuizzesGlobal['find'](_0x5822da=>_0x5822da['id']===_0x148cb5);_0x5d705a?(currentQuizData=_0x5d705a,document[_0x2fd9c8(0x839)]('quiz-bank-modal')[_0x2fd9c8(0x298)][_0x2fd9c8(0x36a)](_0x2fd9c8(0x28b)),startAdminTest()):showMessage(_0x2fd9c8(0x5ab));});}),_0x1a26f5[_0x182860(0x2eb)]('.quiz-bank-parallel-btn')['forEach'](_0x9fa100=>{const _0x213fc2=_0x182860;_0x9fa100[_0x213fc2(0x2da)](_0x213fc2(0x3b0),_0x2e8654=>{const _0x5339b2=_0x213fc2;_0x2e8654[_0x5339b2(0x764)]();const _0x4189a9=_0x9fa100[_0x5339b2(0x6b1)]['id'],_0x3cd04e=allQuizzesGlobal['find'](_0x3a7774=>_0x3a7774['id']===_0x4189a9);_0x3cd04e?(document[_0x5339b2(0x839)](_0x5339b2(0x358))[_0x5339b2(0x298)]['add'](_0x5339b2(0x28b)),handleGenerateParallelFromBank(_0x3cd04e)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x1a26f5[_0x182860(0x2eb)]('.quiz-bank-present-btn')[_0x182860(0x8de)](_0x190503=>{const _0x35324a=_0x182860;_0x190503['addEventListener'](_0x35324a(0x3b0),_0x20247f=>{const _0x5a5382=_0x35324a;_0x20247f[_0x5a5382(0x764)]();const _0x3a2019=_0x190503[_0x5a5382(0x6b1)]['id'],_0x39c540=allQuizzesGlobal[_0x5a5382(0x801)](_0x497849=>_0x497849['id']===_0x3a2019);_0x39c540?(document[_0x5a5382(0x839)](_0x5a5382(0x358))[_0x5a5382(0x298)][_0x5a5382(0x36a)]('hidden'),startPresentation(_0x39c540)):showMessage(_0x5a5382(0x5ab));});}),_0x1a26f5[_0x182860(0x2eb)](_0x182860(0x352))[_0x182860(0x8de)](_0x5789f4=>{const _0x11093c=_0x182860;_0x5789f4[_0x11093c(0x2da)](_0x11093c(0x3b0),_0x12316c=>{const _0x4721f1=_0x11093c;_0x12316c[_0x4721f1(0x764)]();const _0x1ef814=_0x5789f4[_0x4721f1(0x6b1)]['id'];document['getElementById'](_0x4721f1(0x358))['classList'][_0x4721f1(0x36a)](_0x4721f1(0x28b)),handleMoveQuiz(_0x1ef814);});}),_0x1a26f5[_0x182860(0x2eb)](_0x182860(0x217))['forEach'](_0x4cad02=>{const _0x23b80d=_0x182860;_0x4cad02['addEventListener'](_0x23b80d(0x3b0),_0x1e9191=>{const _0x2fd80e=_0x23b80d;_0x1e9191[_0x2fd80e(0x764)]();const _0x15e665=_0x4cad02[_0x2fd80e(0x6b1)]['id'];document[_0x2fd80e(0x839)](_0x2fd80e(0x358))[_0x2fd80e(0x298)][_0x2fd80e(0x36a)](_0x2fd80e(0x28b)),handleQuizSettings(_0x15e665);});}),_0x1a26f5[_0x182860(0x2eb)](_0x182860(0x340))[_0x182860(0x8de)](_0xb3c316=>{const _0x19e177=_0x182860;_0xb3c316[_0x19e177(0x2da)](_0x19e177(0x3b0),_0x32d057=>{const _0x4ad884=_0x19e177;_0x32d057['stopPropagation']();const _0x1f9bf3=_0xb3c316[_0x4ad884(0x6b1)]['id'],_0x1aae05=_0xb3c316[_0x4ad884(0x6b1)][_0x4ad884(0x1bf)];showConfirmation(_0x4ad884(0x3b6)+_0x1aae05+_0x4ad884(0x4af),()=>handleDeleteQuiz(_0x1f9bf3));});});}async function handleCompareResults(_0x2aedd7,_0x410205){const _0x5cb2f3=_0x5e8eac,_0x2d4485=document[_0x5cb2f3(0x839)](_0x5cb2f3(0x26f)),_0x43ac9c=document['getElementById'](_0x5cb2f3(0x481)),_0x1aa23e=document[_0x5cb2f3(0x839)]('comparison-individual-content');document['getElementById'](_0x5cb2f3(0x257))[_0x5cb2f3(0x298)][_0x5cb2f3(0x36a)](_0x5cb2f3(0x38b)),document[_0x5cb2f3(0x839)]('comparison-individual-tab')[_0x5cb2f3(0x298)][_0x5cb2f3(0x514)]('active'),_0x43ac9c['classList'][_0x5cb2f3(0x514)](_0x5cb2f3(0x28b)),_0x1aa23e[_0x5cb2f3(0x298)][_0x5cb2f3(0x36a)](_0x5cb2f3(0x28b)),_0x43ac9c[_0x5cb2f3(0x536)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x1aa23e[_0x5cb2f3(0x536)]='',_0x2d4485[_0x5cb2f3(0x298)][_0x5cb2f3(0x514)](_0x5cb2f3(0x28b));try{const _0x365d76=doc(db,_0x5cb2f3(0x705)+appId+_0x5cb2f3(0x780),_0x2aedd7),_0x29c040=await getDoc(_0x365d76);if(!_0x29c040['exists']())throw new Error('ไม่พบข้อมูลข้อสอบหลังเรียน');const _0x569202=_0x29c040[_0x5cb2f3(0x4b3)](),_0x187c35=_0x569202[_0x5cb2f3(0x3ef)][_0x5cb2f3(0x2d2)],_0x125816=collection(db,'artifacts/'+appId+_0x5cb2f3(0x736)+_0x410205+_0x5cb2f3(0x23e)),_0x2620e2=collection(db,_0x5cb2f3(0x705)+appId+_0x5cb2f3(0x736)+_0x2aedd7+'/submissions'),[_0x385a7d,_0x46c908]=await Promise[_0x5cb2f3(0x7e3)]([getDocs(_0x125816),getDocs(_0x2620e2)]),_0x308e94=_0x385a7d[_0x5cb2f3(0x42d)]['map'](_0x20a5ea=>_0x20a5ea['data']()),_0x4bb730=_0x46c908[_0x5cb2f3(0x42d)][_0x5cb2f3(0x530)](_0x2f2ae0=>_0x2f2ae0[_0x5cb2f3(0x4b3)]()),_0x12f362=_0x308e94[_0x5cb2f3(0x530)](_0xff0969=>_0xff0969[_0x5cb2f3(0x76e)]),_0x31a6a2=_0x4bb730[_0x5cb2f3(0x530)](_0x5149=>_0x5149['latestScore']),_0x24de5a=calculateMeanAndStdDev(_0x12f362),_0x3f6f64=calculateMeanAndStdDev(_0x31a6a2),_0xceca7c=_0x24de5a[_0x5cb2f3(0x828)],_0x58dd73=_0x3f6f64[_0x5cb2f3(0x828)],_0x6ddaf2=_0x58dd73-_0xceca7c;let _0x140484=_0x5cb2f3(0x32f)+_0xceca7c[_0x5cb2f3(0x3e6)](0x2)+_0x5cb2f3(0x347)+_0x58dd73[_0x5cb2f3(0x3e6)](0x2)+_0x5cb2f3(0x1b7)+(_0x6ddaf2>=0x0?'bg-emerald-100':'bg-red-100')+_0x5cb2f3(0x413)+(_0x6ddaf2>=0x0?'text-emerald-800':_0x5cb2f3(0x58c))+'\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20'+(_0x6ddaf2>=0x0?'text-emerald-900':_0x5cb2f3(0x283))+'\x22>'+(_0x6ddaf2>=0x0?'+':'')+_0x6ddaf2['toFixed'](0x2)+_0x5cb2f3(0x58e);_0x43ac9c[_0x5cb2f3(0x536)]=_0x140484;const _0x1cccf0=document[_0x5cb2f3(0x839)](_0x5cb2f3(0x54c))[_0x5cb2f3(0x296)]('2d');if(chartInstances['comparison'])chartInstances[_0x5cb2f3(0x360)]['destroy']();chartInstances['comparison']=new Chart(_0x1cccf0,{'type':'bar','data':{'labels':[_0x5cb2f3(0x272)],'datasets':[{'label':_0x5cb2f3(0x1f6),'data':[_0xceca7c],'backgroundColor':_0x5cb2f3(0x53c)},{'label':_0x5cb2f3(0x759),'data':[_0x58dd73],'backgroundColor':_0x5cb2f3(0x55f)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x187c35}}}});const _0x24f13c=currentProjectData[_0x5cb2f3(0x221)]||[],_0x27e7c3=_0x24f13c[_0x5cb2f3(0x530)](_0x1aecc7=>{const _0x23fecc=_0x5cb2f3,_0x170ed0=_0x308e94['find'](_0x3faef2=>_0x3faef2[_0x23fecc(0x845)]===_0x1aecc7),_0xc87fb6=_0x4bb730[_0x23fecc(0x801)](_0x14adb8=>_0x14adb8[_0x23fecc(0x845)]===_0x1aecc7),_0x320562=_0x170ed0?_0x170ed0[_0x23fecc(0x76e)]:null,_0x74332a=_0xc87fb6?_0xc87fb6[_0x23fecc(0x76e)]:null,_0xae8db=_0x320562!==null&&_0x74332a!==null?_0x74332a-_0x320562:null,_0x3fc7d0=_0x320562!==null?calculateZScore(_0x320562,_0x24de5a[_0x23fecc(0x828)],_0x24de5a[_0x23fecc(0x69f)]):null,_0x403889=_0x74332a!==null?calculateZScore(_0x74332a,_0x3f6f64['mean'],_0x3f6f64[_0x23fecc(0x69f)]):null,_0x4bcea1=_0x3fc7d0!==null?calculateTScore(_0x3fc7d0):null,_0x38b0de=_0x403889!==null?calculateTScore(_0x403889):null,_0xe2abfc=_0x4bcea1!==null&&_0x38b0de!==null?_0x38b0de-_0x4bcea1:null;return{'name':_0x1aecc7,'preScore':_0x320562,'postScore':_0x74332a,'gain':_0xae8db,'preTScore':_0x4bcea1,'postTScore':_0x38b0de,'tGain':_0xe2abfc};});renderIndividualComparisonTable(_0x27e7c3,_0x1aa23e);}catch(_0x427afb){console[_0x5cb2f3(0x2a9)](_0x5cb2f3(0x8b8),_0x427afb),_0x43ac9c['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}function displayHalfMarkResult(_0x4c918f,_0x320921){const _0x200582=_0x5e8eac,_0x333b18=_0x4c918f>=_0x320921/0x2,_0x150f7a=_0x333b18?_0x200582(0x835):_0x200582(0x362),_0x3675e7=_0x333b18?_0x200582(0x87d):'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x200653=_0x333b18?_0x200582(0x91a):_0x200582(0x58c),_0xd76818=_0x333b18?'ทำคะแนนได้เกินครึ่ง':_0x200582(0x7bb),_0x2be9e1=_0x333b18?_0x200582(0x663):_0x200582(0x8c3);let _0x4bf4ed=_0x200582(0x1b2)+_0x150f7a+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3675e7+_0x200582(0x613)+_0x200653+_0x200582(0x53b)+_0xd76818+_0x200582(0x656)+_0x2be9e1+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x200582(0x536)]=_0x4bf4ed,studentResultArea[_0x200582(0x298)][_0x200582(0x514)]('hidden'),studentQuizArea[_0x200582(0x298)][_0x200582(0x36a)](_0x200582(0x28b)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x333b18});}function displayPerfectScoreResult(_0x216948,_0x162129){const _0x4a4680=_0x5e8eac,_0x19ad41=_0x216948===_0x162129,_0xf13c59=_0x19ad41?_0x4a4680(0x6fa):_0x4a4680(0x359),_0x4da194=_0x19ad41?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':'<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>',_0x564b5e=_0x19ad41?_0x4a4680(0x74f):_0x4a4680(0x793),_0x3823f7=_0x19ad41?_0x4a4680(0x188):'ยังไม่เต็มนะ',_0x501a8a=_0x19ad41?_0x4a4680(0x354):_0x4a4680(0x72d);let _0x53817d=_0x4a4680(0x1b2)+_0xf13c59+_0x4a4680(0x158)+_0x4da194+_0x4a4680(0x613)+_0x564b5e+'\x20mb-2\x22>'+_0x3823f7+_0x4a4680(0x656)+_0x501a8a+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x4a4680(0x536)]=_0x53817d,studentResultArea['classList'][_0x4a4680(0x514)](_0x4a4680(0x28b)),studentQuizArea['classList']['add'](_0x4a4680(0x28b)),setupResultScreenBackButton({'showRankings':![],'score':_0x216948,'totalQuestions':_0x162129});}function renderIndividualComparisonTable(_0x231332,_0x57284a){const _0x1de728=_0x5e8eac;_0x231332['sort']((_0x14f9be,_0x38278a)=>(_0x38278a['tGain']??-Infinity)-(_0x14f9be[_0x1de728(0x776)]??-Infinity));let _0x5eb818=_0x1de728(0x203);_0x231332['length']===0x0?_0x5eb818+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x231332[_0x1de728(0x8de)]((_0x481b9b,_0x104c54)=>{const _0x5bfd5e=_0x1de728;let _0x516ce9='-',_0x4f77dc='';if(_0x481b9b[_0x5bfd5e(0x4fc)]!==null){const _0x156a6e=_0x481b9b[_0x5bfd5e(0x4fc)]>0x0?_0x5bfd5e(0x700):_0x481b9b[_0x5bfd5e(0x4fc)]<0x0?'text-red-600':_0x5bfd5e(0x363),_0x62d1bb=_0x481b9b[_0x5bfd5e(0x4fc)]>0x0?'+':'';_0x516ce9=_0x5bfd5e(0x157)+_0x156a6e+'\x22>'+_0x62d1bb+_0x481b9b['gain']+_0x5bfd5e(0x28e);if(_0x481b9b[_0x5bfd5e(0x4fc)]>0x0)_0x4f77dc=_0x5bfd5e(0x5b0);else _0x481b9b[_0x5bfd5e(0x4fc)]<0x0?_0x4f77dc=_0x5bfd5e(0x423):_0x4f77dc=_0x5bfd5e(0x6ed);}let _0xad0da3='-';if(_0x481b9b['tGain']!==null){const _0x189513=_0x481b9b[_0x5bfd5e(0x776)]>0x0?_0x5bfd5e(0x700):_0x481b9b['tGain']<0x0?_0x5bfd5e(0x529):_0x5bfd5e(0x363),_0x13b740=_0x481b9b[_0x5bfd5e(0x776)]>0x0?'+':'';_0xad0da3=_0x5bfd5e(0x157)+_0x189513+'\x22>'+_0x13b740+_0x481b9b['tGain']['toFixed'](0x2)+'</span>';}_0x5eb818+=_0x5bfd5e(0x4f9)+(_0x104c54+0x1)+_0x5bfd5e(0x805)+_0x481b9b[_0x5bfd5e(0x912)]+_0x5bfd5e(0x796)+(_0x481b9b[_0x5bfd5e(0x33d)]??'-')+_0x5bfd5e(0x2c5)+(_0x481b9b[_0x5bfd5e(0x5ca)]??'-')+_0x5bfd5e(0x796)+_0x516ce9+_0x5bfd5e(0x90f)+_0x4f77dc+_0x5bfd5e(0x893)+(_0x481b9b['preTScore']?.['toFixed'](0x2)??'-')+_0x5bfd5e(0x61c)+(_0x481b9b['postTScore']?.[_0x5bfd5e(0x3e6)](0x2)??'-')+_0x5bfd5e(0x796)+_0xad0da3+_0x5bfd5e(0x916);}),_0x5eb818+='</tbody></table></div>',_0x57284a[_0x1de728(0x536)]=_0x5eb818;}function handleRenameQuiz(_0x238c1f,_0x48aca1){const _0x376708=_0x5e8eac;actionTargetId=_0x238c1f,document[_0x376708(0x839)](_0x376708(0x185))[_0x376708(0x3e5)]=_0x48aca1,renameQuizModal[_0x376708(0x298)][_0x376708(0x514)](_0x376708(0x28b));}function setupComparisonModalTabs(){const _0x29dc6b=_0x5e8eac,_0x79298a=document[_0x29dc6b(0x839)](_0x29dc6b(0x257)),_0x4def57=document['getElementById'](_0x29dc6b(0x714)),_0x23a327=document[_0x29dc6b(0x839)]('comparison-overall-content'),_0x178ec8=document[_0x29dc6b(0x839)](_0x29dc6b(0x90a));_0x79298a[_0x29dc6b(0x2da)](_0x29dc6b(0x3b0),()=>{const _0x1a7121=_0x29dc6b;_0x79298a['classList'][_0x1a7121(0x36a)](_0x1a7121(0x38b)),_0x4def57[_0x1a7121(0x298)][_0x1a7121(0x514)](_0x1a7121(0x38b)),_0x23a327[_0x1a7121(0x298)][_0x1a7121(0x514)](_0x1a7121(0x28b)),_0x178ec8[_0x1a7121(0x298)][_0x1a7121(0x36a)](_0x1a7121(0x28b));}),_0x4def57[_0x29dc6b(0x2da)](_0x29dc6b(0x3b0),()=>{const _0x5ee612=_0x29dc6b;_0x4def57[_0x5ee612(0x298)]['add']('active'),_0x79298a[_0x5ee612(0x298)][_0x5ee612(0x514)]('active'),_0x178ec8[_0x5ee612(0x298)][_0x5ee612(0x514)]('hidden'),_0x23a327[_0x5ee612(0x298)]['add']('hidden');});}setupComparisonModalTabs();function renderGlobalQuizList(_0x569959=''){const _0x1a6254=_0x5e8eac,_0x59fa98=document[_0x1a6254(0x839)](_0x1a6254(0x3a3)),_0x24b23f=_0x569959['toLowerCase']()[_0x1a6254(0x3dd)](),_0x5aa577=allQuizzesGlobal['map'](_0x43ab84=>({..._0x43ab84,'projectName':allProjects[_0x1a6254(0x801)](_0x3f4d26=>_0x3f4d26['id']===_0x43ab84[_0x1a6254(0x1cb)])?.['projectName']||_0x43ab84[_0x1a6254(0x1cb)]}))['filter'](_0x42718a=>(_0x42718a['topic']||'')[_0x1a6254(0x55b)]()[_0x1a6254(0x6f6)](_0x24b23f)||(_0x42718a['projectName']||'')[_0x1a6254(0x55b)]()[_0x1a6254(0x6f6)](_0x24b23f));document[_0x1a6254(0x839)](_0x1a6254(0x425))[_0x1a6254(0x4ca)]='('+_0x5aa577[_0x1a6254(0x2d2)]+_0x1a6254(0x82c),_0x59fa98['innerHTML']=_0x5aa577[_0x1a6254(0x2d2)]?_0x5aa577['map'](_0x1448ef=>_0x1a6254(0x740)+_0x1448ef['id']+_0x1a6254(0x3f7)+(_0x1448ef[_0x1a6254(0x1bf)]||'(ไม่มีชื่อ)')+'\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x1448ef[_0x1a6254(0x3ef)]?.[_0x1a6254(0x2d2)]||0x0)+_0x1a6254(0x7d3)+_0x1448ef[_0x1a6254(0x134)]+_0x1a6254(0x3bc))[_0x1a6254(0x4b4)](''):_0x1a6254(0x32d),selectedGlobalQuizId=null,document['getElementById'](_0x1a6254(0x7ce))['disabled']=!![],_0x59fa98[_0x1a6254(0x2eb)](_0x1a6254(0x45a))['forEach'](_0x517a40=>{const _0x317beb=_0x1a6254;_0x517a40[_0x317beb(0x2da)]('click',()=>{const _0x19023a=_0x317beb;selectedGlobalQuizId=_0x517a40['dataset']['id'],_0x59fa98[_0x19023a(0x2eb)](_0x19023a(0x3b1))[_0x19023a(0x8de)](_0x46ce45=>_0x46ce45[_0x19023a(0x298)][_0x19023a(0x514)](_0x19023a(0x8ca),_0x19023a(0x63b),_0x19023a(0x18e))),_0x517a40[_0x19023a(0x298)]['add'](_0x19023a(0x8ca),_0x19023a(0x63b),_0x19023a(0x18e)),document[_0x19023a(0x839)](_0x19023a(0x7ce))['disabled']=![];});});}function listenForLiveGameUpdates(){const _0x17586c=_0x5e8eac;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x5e0526=doc(db,_0x17586c(0x705)+appId+'/public/data/liveGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x5e0526,_0x36c085=>{const _0x4b7dd7=_0x17586c;if(!_0x36c085[_0x4b7dd7(0x15e)]()){showMessage(_0x4b7dd7(0x81a)),showView(currentMode);return;}const _0x142549=_0x36c085[_0x4b7dd7(0x4b3)]();_0x142549[_0x4b7dd7(0x1df)]&&(currentQuizData=_0x142549[_0x4b7dd7(0x1df)]);!currentQuizData&&_0x142549[_0x4b7dd7(0x72c)]&&((async()=>{const _0x2a96fd=_0x4b7dd7;try{const _0x5c76d1=doc(db,_0x2a96fd(0x705)+appId+'/public/data/quizzes',_0x142549['quizId']),_0x4cc1f4=await getDoc(_0x5c76d1);_0x4cc1f4['exists']()&&(currentQuizData={'id':_0x4cc1f4['id'],..._0x4cc1f4[_0x2a96fd(0x4b3)]()});}catch(_0x4578f1){console[_0x2a96fd(0x2a9)](_0x2a96fd(0x172),_0x4578f1);}})());switch(_0x142549[_0x4b7dd7(0x442)]){case _0x4b7dd7(0x6de):if(currentMode===_0x4b7dd7(0x1e8)){const _0x2b0c99=_0x142549[_0x4b7dd7(0x4aa)]?Object[_0x4b7dd7(0x2e2)](_0x142549['players']):[],_0x2f076d=_0x2b0c99[_0x4b7dd7(0x579)](([_0x54dfd9,_0xa2abe7])=>_0xa2abe7['status']===_0x4b7dd7(0x38b)),_0x1709b5=document[_0x4b7dd7(0x839)](_0x4b7dd7(0x733));if(_0x1709b5)_0x1709b5[_0x4b7dd7(0x4ca)]=_0x2f076d['length'];const _0x35b6d7=document['getElementById']('player-list-lobby');_0x35b6d7&&(_0x35b6d7[_0x4b7dd7(0x536)]=_0x2f076d[_0x4b7dd7(0x530)](([_0x275bef,_0x4c732d])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x275bef+_0x4b7dd7(0x1ea)+_0x275bef+_0x4b7dd7(0x253))[_0x4b7dd7(0x4b4)](''));const _0x25fe2d=document[_0x4b7dd7(0x839)](_0x4b7dd7(0x55d));_0x25fe2d&&(_0x25fe2d[_0x4b7dd7(0x4d1)]=_0x2f076d[_0x4b7dd7(0x2d2)]===0x0);}else showView(_0x4b7dd7(0x76b)),liveGameView[_0x4b7dd7(0x536)]=_0x4b7dd7(0x291)+currentStudentName+_0x4b7dd7(0x7fd);break;case _0x4b7dd7(0x165):const _0x722162=_0x142549['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x4b7dd7(0x3ef)][_0x722162]){const _0x79bae2=currentQuizData[_0x4b7dd7(0x3ef)][_0x722162],_0x528e59=_0x142549[_0x4b7dd7(0x2c2)]||_0x4b7dd7(0x683);switch(_0x528e59){case _0x4b7dd7(0x3fb):currentMode===_0x4b7dd7(0x1e8)?showAdminSummaryView(_0x142549,_0x79bae2):showPlayerSummaryView(_0x142549,currentStudentName);break;case _0x4b7dd7(0x441):if(currentMode===_0x4b7dd7(0x1e8))showTop5LeaderboardView(_0x142549);else{}break;case _0x4b7dd7(0x683):default:if(currentMode==='admin'){lastRenderedAdminQuestionIndex!==_0x722162&&(showAdminLiveQuestionView(_0x79bae2,_0x722162,currentQuizData[_0x4b7dd7(0x3ef)][_0x4b7dd7(0x2d2)]),lastRenderedAdminQuestionIndex=_0x722162);const _0x50034e=_0x142549[_0x4b7dd7(0x4aa)]||{},_0x362c2a=Object[_0x4b7dd7(0x5e7)](_0x50034e)[_0x4b7dd7(0x579)](_0x265c22=>_0x265c22[_0x4b7dd7(0x442)]==='active'),_0x1b6fc7=_0x362c2a[_0x4b7dd7(0x2d2)],_0x143c44=_0x362c2a['filter'](_0x38d352=>_0x38d352[_0x4b7dd7(0x77e)]===!![])[_0x4b7dd7(0x2d2)],_0x1176d9=document[_0x4b7dd7(0x839)](_0x4b7dd7(0x8bf));if(_0x1176d9)_0x1176d9['textContent']=_0x143c44+'/'+_0x1b6fc7;_0x1b6fc7>0x0&&_0x143c44===_0x1b6fc7&&revealAnswerForAdmin(_0x722162,currentQuizData[_0x4b7dd7(0x3ef)][_0x4b7dd7(0x2d2)]);}else{const _0x3212f5=_0x142549[_0x4b7dd7(0x4aa)][currentStudentName];_0x3212f5&&!_0x3212f5['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x79bae2,_0x722162,currentQuizData[_0x4b7dd7(0x3ef)][_0x4b7dd7(0x2d2)]);}break;}}break;case'podium':showPodiumView(_0x142549[_0x4b7dd7(0x4aa)]);break;}});}async function handleKickPlayer(_0xfcc4de){const _0x5dacf4=_0x5e8eac;if(!currentLiveGameId||!_0xfcc4de)return;const _0x408994=doc(db,_0x5dacf4(0x705)+appId+_0x5dacf4(0x815),currentLiveGameId),_0x2b0f17={};_0x2b0f17[_0x5dacf4(0x574)+_0xfcc4de+_0x5dacf4(0x30f)]=_0x5dacf4(0x1aa);try{await updateDoc(_0x408994,_0x2b0f17);}catch(_0x54e2cc){console[_0x5dacf4(0x2a9)]('Failed\x20to\x20kick\x20player\x20'+_0xfcc4de+':',_0x54e2cc),showMessage(_0x5dacf4(0x8ba));}}async function authenticateUser(){const _0x1ca647=_0x5e8eac;try{typeof __initial_auth_token!==_0x1ca647(0x690)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0xc2a7fe){console[_0x1ca647(0x2a9)](_0x1ca647(0x6a3),_0xc2a7fe),showMessage(_0x1ca647(0x584));}}function showView(_0x7d67de){const _0x5b142a=_0x5e8eac,_0x5113e6=[_0x5b142a(0x896),'student-view',_0x5b142a(0x434),'project-detail-view',_0x5b142a(0x799),_0x5b142a(0x72e),_0x5b142a(0x2bc)];_0x5113e6['forEach'](_0x2c3883=>document['getElementById'](_0x2c3883)?.[_0x5b142a(0x298)][_0x5b142a(0x36a)](_0x5b142a(0x28b)));if(_0x7d67de===_0x5b142a(0x686))adminView['classList'][_0x5b142a(0x514)](_0x5b142a(0x28b)),projectDashboardView['classList'][_0x5b142a(0x514)]('hidden');else{if(_0x7d67de===_0x5b142a(0x1d5))studentView[_0x5b142a(0x298)][_0x5b142a(0x514)](_0x5b142a(0x28b)),studentInitialView[_0x5b142a(0x298)][_0x5b142a(0x514)](_0x5b142a(0x28b)),studentNameSelectionView[_0x5b142a(0x298)][_0x5b142a(0x36a)](_0x5b142a(0x28b)),studentQuizArea['classList'][_0x5b142a(0x36a)](_0x5b142a(0x28b)),studentResultArea['classList']['add'](_0x5b142a(0x28b)),studentReadingArea[_0x5b142a(0x298)][_0x5b142a(0x36a)]('hidden'),studentJoinGameView[_0x5b142a(0x298)][_0x5b142a(0x36a)]('hidden');else{if(_0x7d67de==='project-detail')adminView[_0x5b142a(0x298)]['remove'](_0x5b142a(0x28b)),projectDetailView['classList'][_0x5b142a(0x514)]('hidden');else{if(_0x7d67de===_0x5b142a(0x176))adminView[_0x5b142a(0x298)][_0x5b142a(0x514)]('hidden'),quizResultsView['classList'][_0x5b142a(0x514)]('hidden');else _0x7d67de===_0x5b142a(0x76b)&&liveGameView[_0x5b142a(0x298)][_0x5b142a(0x514)](_0x5b142a(0x28b));}}}}function showJoinGameView(){const _0xe883d1=_0x5e8eac;studentInitialView['classList']['add']('hidden'),studentJoinGameView[_0xe883d1(0x298)][_0xe883d1(0x514)](_0xe883d1(0x28b));}async function handleSaveVisibilitySettings(){const _0x6bcd2e=_0x5e8eac;if(!currentProjectId)return;const _0x4ba628=doc(db,_0x6bcd2e(0x705)+appId+'/public/data/projects',currentProjectId);try{await updateDoc(_0x4ba628,{'settings.showInStudentDashboard':document['getElementById'](_0x6bcd2e(0x772))['checked'],'settings.isPasscodeEnabled':document[_0x6bcd2e(0x839)](_0x6bcd2e(0x6f7))[_0x6bcd2e(0x1d1)],'settings.passcode':document[_0x6bcd2e(0x839)]('project-passcode-input')[_0x6bcd2e(0x3e5)][_0x6bcd2e(0x3dd)]()}),showMessage(_0x6bcd2e(0x19c));}catch(_0xac2350){console[_0x6bcd2e(0x2a9)](_0x6bcd2e(0x4fb),_0xac2350),showMessage(_0x6bcd2e(0x722));}}function setupEventListeners(){const _0x5a3ffd=_0x5e8eac;liveGameView['addEventListener'](_0x5a3ffd(0x3b0),_0x4f5c69=>{const _0x4d21bb=_0x5a3ffd;if(_0x4f5c69[_0x4d21bb(0x8be)][_0x4d21bb(0x298)][_0x4d21bb(0x8e0)]('kick-player-btn')){const _0x141065=_0x4f5c69[_0x4d21bb(0x8be)][_0x4d21bb(0x6b1)]['playerName'];_0x141065&&handleKickPlayer(_0x141065);}}),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x393))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x8d6),()=>document[_0x5a3ffd(0x839)](_0x5a3ffd(0x607))[_0x5a3ffd(0x298)][_0x5a3ffd(0x514)](_0x5a3ffd(0x28b))),document['getElementById'](_0x5a3ffd(0x607))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),handleSaveProjectName),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x393))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x86c),_0x2eb4ef=>{const _0x4a716b=_0x5a3ffd;_0x2eb4ef[_0x4a716b(0x8f8)]===_0x4a716b(0x538)&&(_0x2eb4ef[_0x4a716b(0x6ba)](),_0x2eb4ef[_0x4a716b(0x8be)][_0x4a716b(0x6be)](),handleSaveProjectName());}),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x886))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>{const _0x5918e8=_0x5a3ffd;document[_0x5918e8(0x839)](_0x5918e8(0x69c))[_0x5918e8(0x298)][_0x5918e8(0x514)](_0x5918e8(0x28b));}),document['getElementById'](_0x5a3ffd(0x5e9))['addEventListener'](_0x5a3ffd(0x3b0),()=>{const _0x588190=_0x5a3ffd;document[_0x588190(0x839)](_0x588190(0x69c))[_0x588190(0x298)][_0x588190(0x36a)]('hidden');}),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x32a))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),handleBulkUpdateQuizSettings),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x674))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),handleModeSwitch),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x496))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),handleUpdateOldQuizzes),document['getElementById'](_0x5a3ffd(0x545))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),handleResetProjectOrder),document['getElementById'](_0x5a3ffd(0x281))[_0x5a3ffd(0x2da)]('click',handleSaveVisibilitySettings),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x302))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),handleAddCustomMathTopic),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x66f))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),handleSelectAllTopics),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x70e))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),handleDeselectAllTopics),document['getElementById'](_0x5a3ffd(0x1d2))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>{const _0x370b3d=_0x5a3ffd;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x370b3d(0x686));}),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x44d))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>{const _0x4ba67a=_0x5a3ffd;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x4ba67a(0x178));}),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x51a))[_0x5a3ffd(0x2da)]('click',()=>{const _0x56bdb5=_0x5a3ffd;showView(_0x56bdb5(0x686));}),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x55a))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>{const _0x500ad9=_0x5a3ffd;messageModal[_0x500ad9(0x298)]['add'](_0x500ad9(0x28b)),typeof modalConfirmAction==='function'&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x1e7))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>createProjectModal[_0x5a3ffd(0x298)][_0x5a3ffd(0x514)](_0x5a3ffd(0x28b))),document[_0x5a3ffd(0x839)]('cancel-create-project-btn')[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>createProjectModal['classList'][_0x5a3ffd(0x36a)](_0x5a3ffd(0x28b))),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x7ea))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>adminPasswordModal[_0x5a3ffd(0x298)][_0x5a3ffd(0x36a)]('hidden')),document[_0x5a3ffd(0x839)]('confirm-admin-login-btn')['addEventListener'](_0x5a3ffd(0x3b0),handleAdminLogin),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x23b))['addEventListener'](_0x5a3ffd(0x2c6),_0x48f81a=>{const _0x21c73e=_0x5a3ffd;if(_0x48f81a['key']===_0x21c73e(0x538))handleAdminLogin();}),document['getElementById'](_0x5a3ffd(0x79d))['addEventListener'](_0x5a3ffd(0x3b0),()=>{const _0x56a27e=_0x5a3ffd;confirmationModal[_0x56a27e(0x298)][_0x56a27e(0x36a)](_0x56a27e(0x28b)),confirmAction=null;}),document[_0x5a3ffd(0x839)]('confirm-delete-btn')[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>{const _0x1305db=_0x5a3ffd;confirmAction&&confirmAction(),confirmationModal[_0x1305db(0x298)][_0x1305db(0x36a)](_0x1305db(0x28b)),confirmAction=null;}),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x275))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>renameQuizModal[_0x5a3ffd(0x298)][_0x5a3ffd(0x36a)]('hidden')),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x39c))['addEventListener'](_0x5a3ffd(0x3b0),confirmRenameQuiz),document[_0x5a3ffd(0x839)]('cancel-move-quiz-btn')['addEventListener'](_0x5a3ffd(0x3b0),()=>moveQuizModal[_0x5a3ffd(0x298)][_0x5a3ffd(0x36a)](_0x5a3ffd(0x28b))),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x2d6))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),confirmMoveQuiz),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x44a))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>quizSettingsModal[_0x5a3ffd(0x298)]['add']('hidden')),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x1eb))['addEventListener']('click',confirmQuizSettings),document['getElementById'](_0x5a3ffd(0x429))[_0x5a3ffd(0x2da)]('click',()=>quizStatusModal['classList'][_0x5a3ffd(0x36a)](_0x5a3ffd(0x28b))),document['getElementById'](_0x5a3ffd(0x255))[_0x5a3ffd(0x2da)]('click',confirmQuizStatus);const _0x162f78=document[_0x5a3ffd(0x839)](_0x5a3ffd(0x1ce));document[_0x5a3ffd(0x839)]('cancel-export-pdf-btn')['addEventListener'](_0x5a3ffd(0x3b0),()=>{const _0x38b8c6=_0x5a3ffd;_0x162f78[_0x38b8c6(0x298)][_0x38b8c6(0x36a)](_0x38b8c6(0x28b));}),document['getElementById'](_0x5a3ffd(0x66d))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),async()=>{const _0x21e470=_0x5a3ffd,_0x26a925=allQuizzes[_0x21e470(0x801)](_0x467101=>_0x467101['id']===actionTargetId);_0x26a925?(currentQuizData=_0x26a925,exportQuizAsWorksheetPDF()):showMessage(_0x21e470(0x5ab)),_0x162f78[_0x21e470(0x298)]['add'](_0x21e470(0x28b));}),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x2fc))['addEventListener'](_0x5a3ffd(0x3b0),async()=>{const _0x50d100=_0x5a3ffd,_0x2351f4=allQuizzes[_0x50d100(0x801)](_0x5c8c93=>_0x5c8c93['id']===actionTargetId);_0x2351f4?(currentQuizData=_0x2351f4,exportQuizAsTutorPDF()):showMessage(_0x50d100(0x5ab)),_0x162f78[_0x50d100(0x298)]['add'](_0x50d100(0x28b));}),document['getElementById'](_0x5a3ffd(0x8ed))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),openGlobalLiveModal),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x64d))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>{const _0x88585a=_0x5a3ffd;document[_0x88585a(0x839)]('global-live-game-modal')[_0x88585a(0x298)]['add'](_0x88585a(0x28b)),selectedGlobalQuizId=null;}),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x840))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x535),_0x2469d5=>renderGlobalQuizList(_0x2469d5[_0x5a3ffd(0x8be)][_0x5a3ffd(0x3e5)])),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x7ce))[_0x5a3ffd(0x2da)]('click',()=>{const _0x1c0261=_0x5a3ffd,_0x2b0613=selectedGlobalQuizId;if(!_0x2b0613)return;document[_0x1c0261(0x839)]('global-live-game-modal')[_0x1c0261(0x298)][_0x1c0261(0x36a)]('hidden'),handleStartLiveRace(_0x2b0613);}),document['getElementById'](_0x5a3ffd(0x558))['addEventListener'](_0x5a3ffd(0x535),renderProjects),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x831))[_0x5a3ffd(0x2da)]('change',async()=>{const _0x4b848a=_0x5a3ffd,_0x4a5c19=document['getElementById']('project-sort-select')[_0x4b848a(0x3e5)],_0x491085=doc(db,_0x4b848a(0x4b6),_0x4b848a(0x80f));try{await setDoc(_0x491085,{'projectSort':_0x4a5c19},{'merge':!![]});}catch(_0x4ff5c9){console[_0x4b848a(0x2a9)]('Error\x20updating\x20sort\x20preference:',_0x4ff5c9),showMessage(_0x4b848a(0x64f));}}),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x52e))[_0x5a3ffd(0x2da)]('input',renderQuizzes),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x8d0))[_0x5a3ffd(0x2da)]('click',()=>{const _0x1d892f=_0x5a3ffd;globalDashboardSettings[_0x1d892f(0x16c)]=_0x1d892f(0x56f),saveUserPreference(_0x1d892f(0x16c),'grid'),renderProjects();}),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x8e5))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>{const _0x3b4cf4=_0x5a3ffd;globalDashboardSettings[_0x3b4cf4(0x16c)]='list',saveUserPreference(_0x3b4cf4(0x16c),_0x3b4cf4(0x84e)),renderProjects();}),manageTab[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>switchProjectTab('manage')),resultsTab[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>switchProjectTab(_0x5a3ffd(0x84f))),leaderboardTab[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>switchProjectTab('leaderboard')),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x1f2))[_0x5a3ffd(0x2da)]('click',()=>switchQuizDetailTab(_0x5a3ffd(0x8a0))),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x8ff))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>switchQuizDetailTab(_0x5a3ffd(0x6b6))),document['getElementById'](_0x5a3ffd(0x2af))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>switchQuizDetailTab(_0x5a3ffd(0x643))),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x564))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>switchQuizDetailTab('behavior-log')),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x4bc))[_0x5a3ffd(0x2da)]('click',handleAnalyzeClass),generateWorksheetBtn['addEventListener'](_0x5a3ffd(0x3b0),generateWorksheet);const _0x5ee8f7=document[_0x5a3ffd(0x839)](_0x5a3ffd(0x13a)),_0x33fc79=document[_0x5a3ffd(0x839)]('link-input-area'),_0x49b24b=document['getElementById'](_0x5a3ffd(0x66e)),_0x28a75f=document[_0x5a3ffd(0x839)]('blueprint-input-area'),_0x23b3ec=document[_0x5a3ffd(0x839)](_0x5a3ffd(0x2e8)),_0x1fdad4=document[_0x5a3ffd(0x839)]('parallel-test-input-area');topicTab[_0x5a3ffd(0x2da)]('click',()=>{const _0x1064bd=_0x5a3ffd;topicTab['classList'][_0x1064bd(0x36a)]('active'),textTab['classList'][_0x1064bd(0x514)](_0x1064bd(0x38b)),fileTab['classList'][_0x1064bd(0x514)](_0x1064bd(0x38b)),worksheetTab[_0x1064bd(0x298)][_0x1064bd(0x514)]('active');if(_0x5ee8f7)_0x5ee8f7[_0x1064bd(0x298)]['remove']('active');if(_0x49b24b)_0x49b24b['classList'][_0x1064bd(0x514)](_0x1064bd(0x38b));if(_0x23b3ec)_0x23b3ec[_0x1064bd(0x298)][_0x1064bd(0x514)]('active');topicInputArea[_0x1064bd(0x298)]['remove'](_0x1064bd(0x28b)),textInputArea[_0x1064bd(0x298)]['add'](_0x1064bd(0x28b)),fileInputArea['classList'][_0x1064bd(0x36a)]('hidden'),worksheetInputArea['classList'][_0x1064bd(0x36a)]('hidden');if(_0x33fc79)_0x33fc79[_0x1064bd(0x298)][_0x1064bd(0x36a)](_0x1064bd(0x28b));if(_0x28a75f)_0x28a75f[_0x1064bd(0x298)][_0x1064bd(0x36a)](_0x1064bd(0x28b));if(_0x1fdad4)_0x1fdad4[_0x1064bd(0x298)]['add'](_0x1064bd(0x28b));}),textTab[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>{const _0x244bf3=_0x5a3ffd;textTab['classList'][_0x244bf3(0x36a)](_0x244bf3(0x38b)),topicTab[_0x244bf3(0x298)][_0x244bf3(0x514)](_0x244bf3(0x38b)),fileTab[_0x244bf3(0x298)][_0x244bf3(0x514)](_0x244bf3(0x38b)),worksheetTab['classList']['remove'](_0x244bf3(0x38b));if(_0x5ee8f7)_0x5ee8f7[_0x244bf3(0x298)][_0x244bf3(0x514)](_0x244bf3(0x38b));if(_0x49b24b)_0x49b24b['classList'][_0x244bf3(0x514)](_0x244bf3(0x38b));if(_0x23b3ec)_0x23b3ec[_0x244bf3(0x298)]['remove'](_0x244bf3(0x38b));textInputArea[_0x244bf3(0x298)]['remove']('hidden'),topicInputArea[_0x244bf3(0x298)][_0x244bf3(0x36a)](_0x244bf3(0x28b)),fileInputArea[_0x244bf3(0x298)][_0x244bf3(0x36a)](_0x244bf3(0x28b)),worksheetInputArea[_0x244bf3(0x298)]['add'](_0x244bf3(0x28b));if(_0x33fc79)_0x33fc79[_0x244bf3(0x298)][_0x244bf3(0x36a)](_0x244bf3(0x28b));if(_0x28a75f)_0x28a75f[_0x244bf3(0x298)][_0x244bf3(0x36a)](_0x244bf3(0x28b));if(_0x1fdad4)_0x1fdad4['classList']['add'](_0x244bf3(0x28b));}),fileTab[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>{const _0xd93bf8=_0x5a3ffd;fileTab[_0xd93bf8(0x298)]['add']('active'),topicTab[_0xd93bf8(0x298)][_0xd93bf8(0x514)](_0xd93bf8(0x38b)),textTab[_0xd93bf8(0x298)][_0xd93bf8(0x514)](_0xd93bf8(0x38b)),worksheetTab[_0xd93bf8(0x298)]['remove'](_0xd93bf8(0x38b));if(_0x5ee8f7)_0x5ee8f7[_0xd93bf8(0x298)][_0xd93bf8(0x514)](_0xd93bf8(0x38b));if(_0x49b24b)_0x49b24b[_0xd93bf8(0x298)][_0xd93bf8(0x514)](_0xd93bf8(0x38b));if(_0x23b3ec)_0x23b3ec[_0xd93bf8(0x298)][_0xd93bf8(0x514)](_0xd93bf8(0x38b));fileInputArea[_0xd93bf8(0x298)][_0xd93bf8(0x514)](_0xd93bf8(0x28b)),topicInputArea[_0xd93bf8(0x298)][_0xd93bf8(0x36a)](_0xd93bf8(0x28b)),textInputArea[_0xd93bf8(0x298)][_0xd93bf8(0x36a)](_0xd93bf8(0x28b)),worksheetInputArea[_0xd93bf8(0x298)][_0xd93bf8(0x36a)](_0xd93bf8(0x28b));if(_0x33fc79)_0x33fc79['classList'][_0xd93bf8(0x36a)](_0xd93bf8(0x28b));if(_0x28a75f)_0x28a75f[_0xd93bf8(0x298)][_0xd93bf8(0x36a)](_0xd93bf8(0x28b));if(_0x1fdad4)_0x1fdad4[_0xd93bf8(0x298)][_0xd93bf8(0x36a)](_0xd93bf8(0x28b));}),worksheetTab[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>{const _0x400c9e=_0x5a3ffd;worksheetTab['classList'][_0x400c9e(0x36a)](_0x400c9e(0x38b)),topicTab['classList']['remove'](_0x400c9e(0x38b)),textTab[_0x400c9e(0x298)]['remove'](_0x400c9e(0x38b)),fileTab[_0x400c9e(0x298)][_0x400c9e(0x514)]('active');if(_0x5ee8f7)_0x5ee8f7[_0x400c9e(0x298)]['remove']('active');if(_0x49b24b)_0x49b24b[_0x400c9e(0x298)][_0x400c9e(0x514)]('active');if(_0x23b3ec)_0x23b3ec[_0x400c9e(0x298)][_0x400c9e(0x514)](_0x400c9e(0x38b));worksheetInputArea[_0x400c9e(0x298)][_0x400c9e(0x514)](_0x400c9e(0x28b)),topicInputArea['classList'][_0x400c9e(0x36a)](_0x400c9e(0x28b)),textInputArea[_0x400c9e(0x298)]['add'](_0x400c9e(0x28b)),fileInputArea['classList'][_0x400c9e(0x36a)](_0x400c9e(0x28b));if(_0x33fc79)_0x33fc79[_0x400c9e(0x298)]['add'](_0x400c9e(0x28b));if(_0x28a75f)_0x28a75f[_0x400c9e(0x298)]['add'](_0x400c9e(0x28b));if(_0x1fdad4)_0x1fdad4['classList'][_0x400c9e(0x36a)](_0x400c9e(0x28b));});const _0x3eb932=document[_0x5a3ffd(0x839)](_0x5a3ffd(0x218)),_0x3c5cba=document[_0x5a3ffd(0x839)](_0x5a3ffd(0x920));_0x3eb932&&_0x3eb932[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>{const _0x258d24=_0x5a3ffd;topicTab[_0x258d24(0x298)][_0x258d24(0x514)](_0x258d24(0x38b)),textTab[_0x258d24(0x298)][_0x258d24(0x514)](_0x258d24(0x38b)),fileTab[_0x258d24(0x298)][_0x258d24(0x514)](_0x258d24(0x38b)),worksheetTab[_0x258d24(0x298)][_0x258d24(0x514)]('active');if(_0x5ee8f7)_0x5ee8f7['classList']['remove']('active');if(_0x49b24b)_0x49b24b[_0x258d24(0x298)][_0x258d24(0x514)](_0x258d24(0x38b));if(_0x23b3ec)_0x23b3ec[_0x258d24(0x298)][_0x258d24(0x514)](_0x258d24(0x38b));_0x3eb932['classList']['add'](_0x258d24(0x38b)),topicInputArea[_0x258d24(0x298)][_0x258d24(0x36a)](_0x258d24(0x28b)),textInputArea['classList'][_0x258d24(0x36a)](_0x258d24(0x28b)),fileInputArea[_0x258d24(0x298)][_0x258d24(0x36a)](_0x258d24(0x28b)),worksheetInputArea[_0x258d24(0x298)][_0x258d24(0x36a)](_0x258d24(0x28b));if(_0x33fc79)_0x33fc79[_0x258d24(0x298)][_0x258d24(0x36a)]('hidden');if(_0x28a75f)_0x28a75f[_0x258d24(0x298)][_0x258d24(0x36a)]('hidden');if(_0x1fdad4)_0x1fdad4[_0x258d24(0x298)]['add'](_0x258d24(0x28b));_0x3c5cba[_0x258d24(0x298)][_0x258d24(0x514)](_0x258d24(0x28b)),displayQuestionBank();});_0x5ee8f7&&(_0x5ee8f7[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>{const _0x5a7c9=_0x5a3ffd;_0x5ee8f7[_0x5a7c9(0x298)][_0x5a7c9(0x36a)](_0x5a7c9(0x38b)),topicTab[_0x5a7c9(0x298)][_0x5a7c9(0x514)](_0x5a7c9(0x38b)),textTab[_0x5a7c9(0x298)][_0x5a7c9(0x514)](_0x5a7c9(0x38b)),fileTab[_0x5a7c9(0x298)]['remove']('active'),worksheetTab['classList'][_0x5a7c9(0x514)]('active');if(_0x49b24b)_0x49b24b[_0x5a7c9(0x298)][_0x5a7c9(0x514)](_0x5a7c9(0x38b));if(_0x23b3ec)_0x23b3ec[_0x5a7c9(0x298)][_0x5a7c9(0x514)]('active');_0x33fc79['classList'][_0x5a7c9(0x514)](_0x5a7c9(0x28b)),topicInputArea[_0x5a7c9(0x298)][_0x5a7c9(0x36a)]('hidden'),textInputArea[_0x5a7c9(0x298)][_0x5a7c9(0x36a)](_0x5a7c9(0x28b)),fileInputArea['classList'][_0x5a7c9(0x36a)](_0x5a7c9(0x28b)),worksheetInputArea[_0x5a7c9(0x298)][_0x5a7c9(0x36a)](_0x5a7c9(0x28b));if(_0x28a75f)_0x28a75f[_0x5a7c9(0x298)][_0x5a7c9(0x36a)]('hidden');if(_0x1fdad4)_0x1fdad4[_0x5a7c9(0x298)][_0x5a7c9(0x36a)]('hidden');}),document[_0x5a3ffd(0x839)]('generate-from-link-btn')['addEventListener'](_0x5a3ffd(0x3b0),handleGenerateFromLink));_0x49b24b&&_0x49b24b[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>{const _0x449996=_0x5a3ffd;_0x49b24b[_0x449996(0x298)]['add'](_0x449996(0x38b)),topicTab[_0x449996(0x298)][_0x449996(0x514)]('active'),textTab[_0x449996(0x298)]['remove'](_0x449996(0x38b)),fileTab[_0x449996(0x298)][_0x449996(0x514)](_0x449996(0x38b)),worksheetTab['classList'][_0x449996(0x514)](_0x449996(0x38b));if(_0x5ee8f7)_0x5ee8f7[_0x449996(0x298)][_0x449996(0x514)](_0x449996(0x38b));if(_0x3eb932)_0x3eb932[_0x449996(0x298)]['remove']('active');if(_0x23b3ec)_0x23b3ec[_0x449996(0x298)][_0x449996(0x514)](_0x449996(0x38b));_0x28a75f[_0x449996(0x298)][_0x449996(0x514)](_0x449996(0x28b)),topicInputArea[_0x449996(0x298)][_0x449996(0x36a)]('hidden'),textInputArea[_0x449996(0x298)]['add'](_0x449996(0x28b)),fileInputArea['classList'][_0x449996(0x36a)](_0x449996(0x28b)),worksheetInputArea[_0x449996(0x298)][_0x449996(0x36a)](_0x449996(0x28b));if(_0x33fc79)_0x33fc79['classList'][_0x449996(0x36a)](_0x449996(0x28b));if(_0x3c5cba)_0x3c5cba[_0x449996(0x298)][_0x449996(0x36a)]('hidden');if(_0x1fdad4)_0x1fdad4[_0x449996(0x298)][_0x449996(0x36a)](_0x449996(0x28b));});_0x23b3ec&&_0x23b3ec['addEventListener']('click',()=>{const _0x2b3251=_0x5a3ffd;_0x23b3ec['classList'][_0x2b3251(0x36a)]('active'),topicTab[_0x2b3251(0x298)]['remove']('active'),textTab[_0x2b3251(0x298)][_0x2b3251(0x514)]('active'),fileTab[_0x2b3251(0x298)][_0x2b3251(0x514)](_0x2b3251(0x38b)),worksheetTab['classList'][_0x2b3251(0x514)](_0x2b3251(0x38b));if(_0x5ee8f7)_0x5ee8f7[_0x2b3251(0x298)][_0x2b3251(0x514)](_0x2b3251(0x38b));if(_0x49b24b)_0x49b24b[_0x2b3251(0x298)][_0x2b3251(0x514)](_0x2b3251(0x38b));if(_0x3eb932)_0x3eb932[_0x2b3251(0x298)][_0x2b3251(0x514)]('active');_0x1fdad4['classList'][_0x2b3251(0x514)]('hidden'),topicInputArea['classList'][_0x2b3251(0x36a)](_0x2b3251(0x28b)),textInputArea['classList'][_0x2b3251(0x36a)](_0x2b3251(0x28b)),fileInputArea['classList'][_0x2b3251(0x36a)](_0x2b3251(0x28b)),worksheetInputArea[_0x2b3251(0x298)][_0x2b3251(0x36a)](_0x2b3251(0x28b));if(_0x33fc79)_0x33fc79[_0x2b3251(0x298)][_0x2b3251(0x36a)](_0x2b3251(0x28b));if(_0x28a75f)_0x28a75f['classList'][_0x2b3251(0x36a)](_0x2b3251(0x28b));if(_0x3c5cba)_0x3c5cba[_0x2b3251(0x298)][_0x2b3251(0x36a)]('hidden');});const _0x25050c=document['getElementById'](_0x5a3ffd(0x320)),_0x490f5c=document[_0x5a3ffd(0x839)](_0x5a3ffd(0x5f5));_0x25050c&&_0x25050c[_0x5a3ffd(0x2da)](_0x5a3ffd(0x6ee),_0x3dc30b=>{const _0x526dc5=_0x5a3ffd;_0x3dc30b['target'][_0x526dc5(0x1f9)][_0x526dc5(0x2d2)]>0x0?_0x490f5c[_0x526dc5(0x4d1)]=![]:_0x490f5c[_0x526dc5(0x4d1)]=!![];});_0x490f5c&&_0x490f5c[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),handleGenerateFromBlueprint);const _0x37393d=document['getElementById'](_0x5a3ffd(0x657)),_0x2b432d=document[_0x5a3ffd(0x839)](_0x5a3ffd(0x47f));_0x37393d&&_0x37393d[_0x5a3ffd(0x2da)](_0x5a3ffd(0x6ee),_0x26e9b3=>{const _0x38851d=_0x5a3ffd;_0x2b432d[_0x38851d(0x4d1)]=_0x26e9b3[_0x38851d(0x8be)][_0x38851d(0x1f9)]['length']===0x0;});_0x2b432d&&_0x2b432d['addEventListener'](_0x5a3ffd(0x3b0),handleGenerateParallelTest);loadQuizBtn['addEventListener'](_0x5a3ffd(0x3b0),handleLoadQuiz),startQuizBtn['addEventListener'](_0x5a3ffd(0x3b0),async()=>{const _0x3b2aa4=_0x5a3ffd,_0x374040=document['getElementById'](_0x3b2aa4(0x489));currentStudentName=_0x374040[_0x3b2aa4(0x3e5)];if(!currentStudentName){showMessage(_0x3b2aa4(0x871));return;}try{const _0x5efd04=currentQuizData['id'],_0x5ded08=doc(db,_0x3b2aa4(0x705)+appId+_0x3b2aa4(0x736)+_0x5efd04+_0x3b2aa4(0x23e),currentStudentName);await setDoc(_0x5ded08,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]},{'merge':!![]});}catch(_0x7cdafe){console[_0x3b2aa4(0x2a9)](_0x3b2aa4(0x755),_0x7cdafe),showMessage(_0x3b2aa4(0x4bb));return;}studentNameSelectionView[_0x3b2aa4(0x298)][_0x3b2aa4(0x36a)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x503))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),showJoinGameView),document[_0x5a3ffd(0x839)]('confirm-join-game-btn')[_0x5a3ffd(0x2da)]('click',handleJoinLiveGame),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x268))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>showView(_0x5a3ffd(0x1d5)));const _0x53c1ec=()=>{const _0x51ce05=_0x5a3ffd,_0x596e5a=document[_0x51ce05(0x839)](_0x51ce05(0x15a))[_0x51ce05(0x4ca)][_0x51ce05(0x1e9)](/[^a-z0-9]/gi,'_')[_0x51ce05(0x55b)]();return _0x51ce05(0x8e3)+(_0x596e5a||'quiz');},_0x176167=document['getElementById'](_0x5a3ffd(0x12c));_0x176167&&_0x176167[_0x5a3ffd(0x2da)]('input',_0x720fc8=>{const _0x2e5f0b=_0x5a3ffd,_0x235f5e=_0x720fc8[_0x2e5f0b(0x8be)]['value'][_0x2e5f0b(0x55b)]()[_0x2e5f0b(0x3dd)](),_0x2e8522=document['getElementById'](_0x2e5f0b(0x4a0)),_0x35ac68=_0x2e8522[_0x2e5f0b(0x2eb)]('.topic-category');_0x35ac68[_0x2e5f0b(0x8de)](_0x30c33f=>{const _0x2e9aac=_0x2e5f0b;let _0x578512=![];const _0xb79fdd=_0x30c33f[_0x2e9aac(0x2eb)](_0x2e9aac(0x880));_0xb79fdd[_0x2e9aac(0x8de)](_0x540a8a=>{const _0x2057b9=_0x2e9aac,_0x3bbc0f=_0x540a8a['querySelector'](_0x2057b9(0x436))[_0x2057b9(0x4ca)][_0x2057b9(0x55b)]();_0x3bbc0f[_0x2057b9(0x6f6)](_0x235f5e)?(_0x540a8a[_0x2057b9(0x685)]['display']=_0x2057b9(0x3a9),_0x578512=!![]):_0x540a8a[_0x2057b9(0x685)]['display']=_0x2057b9(0x41e);}),_0x578512?_0x30c33f['style'][_0x2e9aac(0x37e)]=_0x2e9aac(0x747):_0x30c33f[_0x2e9aac(0x685)][_0x2e9aac(0x37e)]=_0x2e9aac(0x41e);});});document[_0x5a3ffd(0x839)](_0x5a3ffd(0x65b))['addEventListener'](_0x5a3ffd(0x3b0),()=>exportTableAsImage(_0x5a3ffd(0x1c4),_0x53c1ec())),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x8f2))[_0x5a3ffd(0x2da)]('click',()=>exportTableAsPDF(_0x5a3ffd(0x127),_0x53c1ec())),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x559))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>exportTableAsWord('results-table-container',_0x53c1ec())),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x3eb))[_0x5a3ffd(0x2da)]('click',()=>exportTableAsExcel('results-table',_0x53c1ec()));const _0x3fa709=()=>{const _0x190d2d=_0x5a3ffd,_0x4fb313=document['getElementById'](_0x190d2d(0x15a))['textContent'][_0x190d2d(0x1e9)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x190d2d(0x67c)+(_0x4fb313||_0x190d2d(0x681));};document[_0x5a3ffd(0x839)](_0x5a3ffd(0x43d))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>exportTableAsImage(_0x5a3ffd(0x74b),_0x3fa709())),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x270))[_0x5a3ffd(0x2da)]('click',()=>exportTableAsPDF(_0x5a3ffd(0x719),_0x3fa709())),document['getElementById'](_0x5a3ffd(0x8b9))['addEventListener'](_0x5a3ffd(0x3b0),()=>exportTableAsWord(_0x5a3ffd(0x74b),_0x3fa709())),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x4ad))['addEventListener'](_0x5a3ffd(0x3b0),()=>exportTableAsExcel('quiz-leaderboard-table',_0x3fa709())),projectQuizzesList[_0x5a3ffd(0x2da)]('click',async _0x1ba67c=>{const _0x585ba5=_0x5a3ffd,_0x2eb584=_0x1ba67c[_0x585ba5(0x8be)]['closest'](_0x585ba5(0x5d4)),_0x27f652=_0x1ba67c[_0x585ba5(0x8be)][_0x585ba5(0x2b1)](_0x585ba5(0x883)),_0xf21925=_0x1ba67c[_0x585ba5(0x8be)][_0x585ba5(0x2b1)](_0x585ba5(0x5aa)),_0x392aaf=_0x1ba67c[_0x585ba5(0x8be)][_0x585ba5(0x2b1)](_0x585ba5(0x47c)),_0x215063=_0x1ba67c[_0x585ba5(0x8be)][_0x585ba5(0x2b1)](_0x585ba5(0x75b)),_0x55de92=_0x1ba67c[_0x585ba5(0x8be)][_0x585ba5(0x2b1)](_0x585ba5(0x86e)),_0x1ff663=_0x1ba67c[_0x585ba5(0x8be)][_0x585ba5(0x2b1)](_0x585ba5(0x644)),_0x571948=_0x1ba67c[_0x585ba5(0x8be)]['closest']('.quiz-settings-btn'),_0x7f88ef=_0x1ba67c[_0x585ba5(0x8be)][_0x585ba5(0x2b1)]('.duplicate-quiz-btn'),_0xb290ba=_0x1ba67c['target']['closest']('.rename-quiz-btn'),_0x435424=_0x1ba67c[_0x585ba5(0x8be)]['closest'](_0x585ba5(0x47d)),_0x253e5e=_0x1ba67c[_0x585ba5(0x8be)][_0x585ba5(0x2b1)](_0x585ba5(0x84c)),_0x2e9db2=_0x1ba67c[_0x585ba5(0x8be)]['closest'](_0x585ba5(0x543)),_0x1b08fc=_0x1ba67c['target'][_0x585ba5(0x2b1)](_0x585ba5(0x4ed)),_0xb3f435=_0x1ba67c[_0x585ba5(0x8be)][_0x585ba5(0x2b1)](_0x585ba5(0x7e0)),_0x4fe2ca=_0x1ba67c['target'][_0x585ba5(0x2b1)](_0x585ba5(0x1b5)),_0x365dc6=_0x1ba67c['target'][_0x585ba5(0x2b1)]('.start-live-race-btn'),_0xe40473=_0x1ba67c[_0x585ba5(0x8be)][_0x585ba5(0x2b1)](_0x585ba5(0x37d)),_0x4fe69b=_0x1ba67c[_0x585ba5(0x8be)][_0x585ba5(0x2b1)](_0x585ba5(0x16e)),_0x7e7f83=_0x1ba67c[_0x585ba5(0x8be)][_0x585ba5(0x2b1)]('.quiz-status-btn'),_0x1301eb=_0x1ba67c['target']['closest'](_0x585ba5(0x6dd));if(_0x1301eb){const _0x194e54=_0x1301eb[_0x585ba5(0x6b1)][_0x585ba5(0x72c)],_0x45a75a=document['getElementById']('actions-container-'+_0x194e54);_0x45a75a&&_0x45a75a[_0x585ba5(0x298)]['toggle'](_0x585ba5(0x28b));}else{if(_0x27f652){const _0x4deda3=_0x27f652[_0x585ba5(0x6b1)][_0x585ba5(0x72c)],_0x5c08be=allQuizzes[_0x585ba5(0x801)](_0x2916a9=>_0x2916a9['id']===_0x4deda3);_0x5c08be&&handleGenerateParallelPostTest(_0x5c08be);}else{if(_0xf21925)handleCompareResults(_0xf21925[_0x585ba5(0x6b1)]['quizId'],_0xf21925[_0x585ba5(0x6b1)][_0x585ba5(0x173)]);else{if(_0x392aaf){const _0x47abe0=_0x392aaf[_0x585ba5(0x6b1)][_0x585ba5(0x72c)],_0x4df8bc=allQuizzes[_0x585ba5(0x801)](_0x4c3661=>_0x4c3661['id']===_0x47abe0);_0x4df8bc&&_0x4df8bc['lessonPlan']?(displayLessonPlan(_0x4df8bc['lessonPlan'],_0x4df8bc),showConfirmation(_0x585ba5(0x1ae),()=>handleGenerateLessonPlan(_0x47abe0)),document[_0x585ba5(0x839)](_0x585ba5(0x90b))['querySelector']('h3')[_0x585ba5(0x4ca)]='แผนการสอน',document[_0x585ba5(0x839)](_0x585ba5(0x335))[_0x585ba5(0x4ca)]=_0x585ba5(0x71a)):handleGenerateLessonPlan(_0x47abe0);}else{if(_0x215063)handleToggleStarQuiz(_0x215063[_0x585ba5(0x6b1)][_0x585ba5(0x72c)]);else{if(_0x55de92)copyTextToClipboard(_0x55de92[_0x585ba5(0x6b1)][_0x585ba5(0x72c)],_0x585ba5(0x3c3));else{if(_0x1ff663)handleOpenQuizEditor(_0x1ff663[_0x585ba5(0x6b1)][_0x585ba5(0x72c)]);else{if(_0x571948)handleQuizSettings(_0x571948[_0x585ba5(0x6b1)]['quizId']);else{if(_0x7f88ef)handleDuplicateQuiz(_0x7f88ef[_0x585ba5(0x6b1)]['quizId']);else{if(_0xb290ba)handleRenameQuiz(_0xb290ba[_0x585ba5(0x6b1)][_0x585ba5(0x72c)],_0xb290ba[_0x585ba5(0x6b1)][_0x585ba5(0x1bf)]);else{if(_0x435424){const _0x5d0929=_0x435424[_0x585ba5(0x6b1)][_0x585ba5(0x72c)],_0x8c6d1d=allQuizzes['find'](_0x551ca6=>_0x551ca6['id']===_0x5d0929);_0x8c6d1d&&handleGenerateParallelFromBank(_0x8c6d1d);}else{if(_0x253e5e)handleMoveQuiz(_0x253e5e[_0x585ba5(0x6b1)][_0x585ba5(0x72c)]);else{if(_0x2e9db2)handleManualQuizPairing(_0x2e9db2[_0x585ba5(0x6b1)][_0x585ba5(0x72c)]);else{if(_0x1b08fc)handleUnpairQuiz(_0x1b08fc[_0x585ba5(0x6b1)][_0x585ba5(0x72c)]);else{if(_0xb3f435){const _0x491553=_0xb3f435[_0x585ba5(0x6b1)][_0x585ba5(0x72c)],_0xcc66e2=allQuizzes[_0x585ba5(0x801)](_0xb170f7=>_0xb170f7['id']===_0x491553);if(_0xcc66e2)startPresentation(_0xcc66e2);}else{if(_0x4fe2ca){const _0x52cc19=_0x4fe2ca['dataset'][_0x585ba5(0x72c)],_0x41b1e2=allQuizzes[_0x585ba5(0x801)](_0xc3582e=>_0xc3582e['id']===_0x52cc19);_0x41b1e2&&(currentQuizData=_0x41b1e2,startAdminTest());}else{if(_0x365dc6)handleStartLiveRace(_0x365dc6['dataset']['quizId']);else{if(_0xe40473)actionTargetId=_0xe40473[_0x585ba5(0x6b1)]['quizId'],document['getElementById'](_0x585ba5(0x1ce))[_0x585ba5(0x298)][_0x585ba5(0x514)](_0x585ba5(0x28b));else{if(_0x4fe69b)showConfirmation(_0x585ba5(0x3b6)+_0x4fe69b['dataset'][_0x585ba5(0x1bf)]+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0x4fe69b[_0x585ba5(0x6b1)]['quizId']));else{if(_0x7e7f83)handleQuizStatus(_0x7e7f83['dataset']['quizId']);else _0x2eb584&&showQuizDetailView(_0x2eb584[_0x585ba5(0x6b1)][_0x585ba5(0x72c)]);}}}}}}}}}}}}}}}}}}}}),document[_0x5a3ffd(0x839)]('quiz-leaderboard-table')['querySelector'](_0x5a3ffd(0x866))[_0x5a3ffd(0x2da)]('click',_0x245b1d=>{const _0x52c441=_0x5a3ffd,_0x3ba4cb=_0x245b1d[_0x52c441(0x8be)][_0x52c441(0x2b1)](_0x52c441(0x432));if(!_0x3ba4cb||!_0x3ba4cb[_0x52c441(0x6b1)][_0x52c441(0x163)])return;const _0x316603=_0x3ba4cb[_0x52c441(0x6b1)]['sort'];if(quizLeaderboardSortBy===_0x316603)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?_0x52c441(0x85c):_0x52c441(0x5c1);else{quizLeaderboardSortBy=_0x316603;const _0xfe0f87=[_0x52c441(0x845)];quizLeaderboardSortOrder=_0xfe0f87[_0x52c441(0x6f6)](_0x316603)?'asc':_0x52c441(0x85c);}renderQuizLeaderboard(currentSubmissions,currentQuizData,'quiz-leaderboard-table-body');}),document[_0x5a3ffd(0x839)]('close-presentation-btn')['addEventListener'](_0x5a3ffd(0x3b0),closePresentation),document['getElementById']('prev-question-btn')['addEventListener'](_0x5a3ffd(0x3b0),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x600))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>{const _0x1e65fb=_0x5a3ffd;currentQuizData['questions']&&currentPresentationSlide<currentQuizData[_0x1e65fb(0x3ef)][_0x1e65fb(0x2d2)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x5a3ffd(0x2da)](_0x5a3ffd(0x715),()=>{const _0x198270=_0x5a3ffd;!document[_0x198270(0x8dd)]&&(presentationModal[_0x198270(0x685)]['display']=_0x198270(0x41e));}),document[_0x5a3ffd(0x839)]('delete-all-students-btn')[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),handleDeleteAllStudents),studentList[_0x5a3ffd(0x2da)]('click',_0x58f720=>{const _0x1a0764=_0x5a3ffd,_0x47c2dd=_0x58f720[_0x1a0764(0x8be)][_0x1a0764(0x2b1)]('.delete-student-btn');if(_0x47c2dd){const _0x22846f=_0x47c2dd[_0x1a0764(0x6b1)][_0x1a0764(0x845)];handleDeleteStudent(_0x22846f);}}),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x21c))[_0x5a3ffd(0x2da)]('click',handleGenerateFromFileClick),fileUploadInput[_0x5a3ffd(0x2da)](_0x5a3ffd(0x6ee),_0x272983=>{const _0xa14d51=_0x5a3ffd,_0x592989=_0x272983['target']['files'][0x0],_0x176f68=document['getElementById'](_0xa14d51(0x21c));_0x592989?(selectedFile=_0x592989,_0x176f68[_0xa14d51(0x4d1)]=![]):(selectedFile=null,_0x176f68[_0xa14d51(0x4d1)]=!![]);}),document['getElementById'](_0x5a3ffd(0x224))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x6ee),_0x1bc4f2=>{const _0x56e6cd=_0x5a3ffd,_0x470ba3=document[_0x56e6cd(0x839)]('timer-duration-container'),_0x28b515=document['getElementById']('timer-duration-label'),_0x5052e5=document[_0x56e6cd(0x839)](_0x56e6cd(0x234));_0x1bc4f2[_0x56e6cd(0x8be)]['value']===_0x56e6cd(0x41e)?_0x470ba3[_0x56e6cd(0x298)]['add'](_0x56e6cd(0x28b)):(_0x470ba3[_0x56e6cd(0x298)][_0x56e6cd(0x514)](_0x56e6cd(0x28b)),_0x1bc4f2[_0x56e6cd(0x8be)][_0x56e6cd(0x3e5)]===_0x56e6cd(0x8f5)?(_0x28b515[_0x56e6cd(0x4ca)]=_0x56e6cd(0x844),_0x5052e5[_0x56e6cd(0x3e5)]='10'):(_0x28b515[_0x56e6cd(0x4ca)]=_0x56e6cd(0x792),_0x5052e5['value']='30'));}),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x5da))['addEventListener'](_0x5a3ffd(0x6ee),_0x2959d3=>{const _0x3c4102=_0x5a3ffd,_0x22d2a4=document[_0x3c4102(0x839)](_0x3c4102(0x6c6)),_0x2a642e=_0x2959d3[_0x3c4102(0x8be)]['value'],_0x340a82=document[_0x3c4102(0x2cf)](_0x3c4102(0x6d5)),_0x3d5436=document[_0x3c4102(0x839)](_0x3c4102(0x723)),_0xde5ece=document['getElementById'](_0x3c4102(0x1f0));_0x2a642e===_0x3c4102(0x549)?_0x340a82[_0x3c4102(0x4ca)]=_0x3c4102(0x5a1):_0x340a82[_0x3c4102(0x4ca)]=_0x3c4102(0x3ea),_0x2a642e===_0x3c4102(0x497)||_0x2a642e===_0x3c4102(0x459)||_0x2a642e===_0x3c4102(0x152)?_0x22d2a4[_0x3c4102(0x298)][_0x3c4102(0x514)](_0x3c4102(0x28b)):_0x22d2a4[_0x3c4102(0x298)]['add'](_0x3c4102(0x28b)),_0x3d5436[_0x3c4102(0x24a)]=_0xde5ece[_0x3c4102(0x3e5)];}),document[_0x5a3ffd(0x839)]('num-questions')[_0x5a3ffd(0x2da)](_0x5a3ffd(0x535),_0x35c956=>{const _0x44ea8b=_0x5a3ffd;document[_0x44ea8b(0x839)]('passing-score-input')[_0x44ea8b(0x24a)]=_0x35c956[_0x44ea8b(0x8be)]['value'];}),document['getElementById'](_0x5a3ffd(0x431))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x6ee),_0x51abf2=>{const _0x36e994=_0x5a3ffd,_0x5e409c=document[_0x36e994(0x839)]('modal-timer-duration-container'),_0x36d737=document[_0x36e994(0x839)](_0x36e994(0x6d3)),_0x5f5624=document['getElementById'](_0x36e994(0x449));_0x51abf2[_0x36e994(0x8be)][_0x36e994(0x3e5)]==='none'?_0x5e409c[_0x36e994(0x298)][_0x36e994(0x36a)](_0x36e994(0x28b)):(_0x5e409c['classList'][_0x36e994(0x514)]('hidden'),_0x51abf2[_0x36e994(0x8be)][_0x36e994(0x3e5)]===_0x36e994(0x8f5)?_0x36d737[_0x36e994(0x4ca)]=_0x36e994(0x844):_0x36d737[_0x36e994(0x4ca)]=_0x36e994(0x792));}),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x401))[_0x5a3ffd(0x2da)]('click',()=>{const _0x45f3af=_0x5a3ffd;document[_0x45f3af(0x839)](_0x45f3af(0x37c))[_0x45f3af(0x298)][_0x45f3af(0x36a)](_0x45f3af(0x28b));}),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x2d3))[_0x5a3ffd(0x2da)]('click',()=>{const _0x235d46=_0x5a3ffd;document[_0x235d46(0x839)](_0x235d46(0x37c))[_0x235d46(0x298)][_0x235d46(0x36a)](_0x235d46(0x28b));}),document[_0x5a3ffd(0x839)]('verify-answers-editor-btn')['addEventListener'](_0x5a3ffd(0x3b0),handleVerifyAnswersInEditor),document[_0x5a3ffd(0x839)]('save-quiz-edits-btn')[_0x5a3ffd(0x2da)]('click',()=>{const _0x5bd63a=_0x5a3ffd;document[_0x5bd63a(0x839)]('quiz-editor-modal')[_0x5bd63a(0x298)][_0x5bd63a(0x36a)]('hidden'),showConfirmation(_0x5bd63a(0x87a),handleSaveChanges);}),document[_0x5a3ffd(0x839)]('auto-fix-latex-btn')[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),handleAutoFixLatex);const _0x30f57c=document[_0x5a3ffd(0x839)](_0x5a3ffd(0x396));_0x30f57c&&_0x30f57c[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),_0x3940f0=>{const _0x581d69=_0x5a3ffd,_0x3a4628=_0x3940f0[_0x581d69(0x8be)][_0x581d69(0x2b1)](_0x581d69(0x1e5));if(_0x3a4628){const _0xf9a2d=_0x3a4628['closest'](_0x581d69(0x5cd)),_0x3b2ab3=parseInt(_0xf9a2d['dataset']['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x3b2ab3);}});document[_0x5a3ffd(0x839)](_0x5a3ffd(0x490))[_0x5a3ffd(0x2da)]('click',openQuizBankModal),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x525))[_0x5a3ffd(0x2da)]('click',()=>{const _0x5a3bd6=_0x5a3ffd;document['getElementById']('quiz-bank-modal')[_0x5a3bd6(0x298)][_0x5a3bd6(0x36a)](_0x5a3bd6(0x28b));}),document[_0x5a3ffd(0x839)]('bank-quiz-search-input')[_0x5a3ffd(0x2da)](_0x5a3ffd(0x535),_0x5a1414=>renderQuizBankList(_0x5a1414[_0x5a3ffd(0x8be)][_0x5a3ffd(0x3e5)]));const _0x210a85=document['getElementById']('math-topics-checkbox-container');if(_0x210a85){let _0x2acc04=null;_0x210a85[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),_0x119ed4=>{const _0x521bbb=_0x5a3ffd,_0x5d33c8=_0x119ed4[_0x521bbb(0x8be)],_0x4a7652=_0x5d33c8[_0x521bbb(0x2b1)]('.edit-custom-topic-btn'),_0x3bc8ae=_0x5d33c8[_0x521bbb(0x2b1)](_0x521bbb(0x3e2)),_0xae4ca8=_0x5d33c8['closest'](_0x521bbb(0x790)),_0x922800=_0x5d33c8[_0x521bbb(0x2b1)](_0x521bbb(0x716));if(_0x3bc8ae){_0x119ed4['preventDefault']();const _0x486a66=_0x3bc8ae[_0x521bbb(0x6b1)]['id'],_0x1722cd=_0x3bc8ae[_0x521bbb(0x2b1)]('.group')['querySelector'](_0x521bbb(0x436))['textContent'];showConfirmation(_0x521bbb(0x614)+_0x1722cd+'\x22?',()=>handleDeleteCustomTopic(_0x486a66));}else{if(_0x4a7652){_0x119ed4[_0x521bbb(0x6ba)]();_0x2acc04&&toggleTopicEditMode(_0x2acc04,![]);const _0x3da3c0=_0x4a7652[_0x521bbb(0x2b1)]('[data-topic-container-id]');_0x2acc04=_0x3da3c0,toggleTopicEditMode(_0x3da3c0,!![]);}else{if(_0xae4ca8){_0x119ed4['preventDefault']();const _0x84a54a=_0xae4ca8[_0x521bbb(0x6b1)]['id'],_0x2cfe62=_0xae4ca8[_0x521bbb(0x2b1)]('[data-topic-container-id]'),_0x31923c=_0x2cfe62[_0x521bbb(0x2cf)](_0x521bbb(0x7cc))[_0x521bbb(0x3e5)];handleUpdateCustomTopic(_0x84a54a,_0x31923c),_0x2acc04=null;}else{if(_0x922800){_0x119ed4['preventDefault']();const _0x46621b=_0x922800[_0x521bbb(0x2b1)](_0x521bbb(0x14d));toggleTopicEditMode(_0x46621b,![]),_0x2acc04=null;}}}}}),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x38f))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),()=>{const _0x567ffa=_0x5a3ffd;document['getElementById']('lesson-plan-modal')['classList'][_0x567ffa(0x36a)](_0x567ffa(0x28b));}),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x27c))['addEventListener'](_0x5a3ffd(0x3b0),()=>{const _0x21e825=_0x5a3ffd;document[_0x21e825(0x839)](_0x21e825(0x89a))[_0x21e825(0x298)]['add'](_0x21e825(0x28b));}),document['getElementById'](_0x5a3ffd(0x206))[_0x5a3ffd(0x2da)]('click',handleExportLessonPDF);}document['getElementById'](_0x5a3ffd(0x25e))[_0x5a3ffd(0x2da)]('click',()=>{const _0x587df3=_0x5a3ffd;document[_0x587df3(0x839)](_0x587df3(0x26f))['classList'][_0x587df3(0x36a)](_0x587df3(0x28b));}),document[_0x5a3ffd(0x839)](_0x5a3ffd(0x730))[_0x5a3ffd(0x2da)]('click',()=>{const _0xc1ed2b=_0x5a3ffd;document['getElementById'](_0xc1ed2b(0x26f))[_0xc1ed2b(0x298)][_0xc1ed2b(0x36a)]('hidden');}),setupComparisonModalTabs(),document[_0x5a3ffd(0x1ed)]['addEventListener'](_0x5a3ffd(0x3b0),function(_0x35c2e1){const _0x9c0c94=_0x5a3ffd;if(_0x35c2e1[_0x9c0c94(0x8be)][_0x9c0c94(0x298)][_0x9c0c94(0x8e0)](_0x9c0c94(0x8ae))){const _0x2e6aa8=unescape(_0x35c2e1[_0x9c0c94(0x8be)][_0x9c0c94(0x6b1)][_0x9c0c94(0x1bf)]);startSkillPractice(_0x2e6aa8);}}),document['getElementById'](_0x5a3ffd(0x236))[_0x5a3ffd(0x2da)](_0x5a3ffd(0x3b0),_0x518a6d=>{const _0x3b0cf7=_0x5a3ffd,_0x511f34=_0x518a6d['target'][_0x3b0cf7(0x2b1)](_0x3b0cf7(0x83e));if(_0x511f34){const _0x3fe75c=_0x511f34[_0x3b0cf7(0x6b1)][_0x3b0cf7(0x845)];handleDeleteSubmission(_0x3fe75c);}});}function _0x45d9(_0x47a04a,_0x1d9e8e){const _0x59113b=_0x5911();return _0x45d9=function(_0x45d90d,_0x5c3eb5){_0x45d90d=_0x45d90d-0x121;let _0x2f04f3=_0x59113b[_0x45d90d];return _0x2f04f3;},_0x45d9(_0x47a04a,_0x1d9e8e);}async function showStudentProgressView(){const _0x8f72e5=_0x5e8eac;studentInitialView[_0x8f72e5(0x298)][_0x8f72e5(0x36a)]('hidden'),document[_0x8f72e5(0x839)]('student-progress-view')[_0x8f72e5(0x298)]['remove'](_0x8f72e5(0x28b));const _0x237956=document[_0x8f72e5(0x839)](_0x8f72e5(0x726)),_0x42c7c3=document['getElementById'](_0x8f72e5(0x6e8)),_0x18417c=document[_0x8f72e5(0x839)](_0x8f72e5(0x13c));_0x18417c['innerHTML']=_0x8f72e5(0x82e),_0x42c7c3[_0x8f72e5(0x536)]=_0x8f72e5(0x3e9),_0x42c7c3['disabled']=!![],_0x237956['innerHTML']=_0x8f72e5(0x64b);if(allProjects['length']===0x0){const _0x126fd6=collection(db,'artifacts/'+appId+'/public/data/projects'),_0x186614=await getDocs(_0x126fd6);allProjects=_0x186614[_0x8f72e5(0x42d)]['map'](_0x4032ab=>({'id':_0x4032ab['id'],..._0x4032ab['data']()}));}const _0x4f9b36=allProjects[_0x8f72e5(0x579)](_0x3a9794=>_0x3a9794[_0x8f72e5(0x248)]?.[_0x8f72e5(0x6cd)]!==![]);_0x4f9b36[_0x8f72e5(0x163)]((_0x204d0e,_0xeed9f1)=>_0x204d0e[_0x8f72e5(0x134)][_0x8f72e5(0x917)](_0xeed9f1[_0x8f72e5(0x134)],'th')),_0x237956[_0x8f72e5(0x536)]=_0x8f72e5(0x273)+_0x4f9b36[_0x8f72e5(0x530)](_0x3896c7=>_0x8f72e5(0x7fa)+_0x3896c7['id']+'\x22>'+_0x3896c7['projectName']+_0x8f72e5(0x277))[_0x8f72e5(0x4b4)](''),_0x237956[_0x8f72e5(0x4ba)]=()=>{const _0x4c85b6=_0x8f72e5,_0x5b36fb=_0x42c7c3[_0x4c85b6(0x3e5)],_0x19a13a=_0x237956['value'];_0x42c7c3['disabled']=!![],_0x42c7c3[_0x4c85b6(0x536)]=_0x4c85b6(0x3e9),_0x18417c[_0x4c85b6(0x536)]=_0x4c85b6(0x8af);if(!_0x19a13a)return;const _0x248057=allProjects['find'](_0xdaa9cd=>_0xdaa9cd['id']===_0x19a13a);if(!_0x248057||!_0x248057['students'])return;const _0x5e3f13=()=>{const _0x3f4d54=_0x4c85b6;_0x42c7c3['innerHTML']=_0x3f4d54(0x3e9)+_0x248057[_0x3f4d54(0x221)][_0x3f4d54(0x530)](_0x17a9c4=>_0x3f4d54(0x7fa)+_0x17a9c4+'\x22>'+_0x17a9c4+'</option>')[_0x3f4d54(0x4b4)](''),_0x42c7c3[_0x3f4d54(0x4d1)]=![];const _0x68ee63=Array['from'](_0x42c7c3[_0x3f4d54(0x7d8)])[_0x3f4d54(0x530)](_0x5ca99f=>_0x5ca99f[_0x3f4d54(0x3e5)]);if(_0x5b36fb&&_0x68ee63[_0x3f4d54(0x6f6)](_0x5b36fb))_0x42c7c3[_0x3f4d54(0x3e5)]=_0x5b36fb,_0x42c7c3[_0x3f4d54(0x5c6)](new Event(_0x3f4d54(0x6ee)));else _0x248057[_0x3f4d54(0x221)]['length']===0x1&&(_0x42c7c3[_0x3f4d54(0x3e5)]=_0x248057['students'][0x0],_0x42c7c3[_0x3f4d54(0x5c6)](new Event(_0x3f4d54(0x6ee))));};if(_0x248057[_0x4c85b6(0x248)]?.[_0x4c85b6(0x8b3)]){if(sessionStorage[_0x4c85b6(0x3e8)](_0x4c85b6(0x81c)+_0x19a13a)===_0x4c85b6(0x74c)){_0x5e3f13();return;}const _0x59a9d8=document[_0x4c85b6(0x839)](_0x4c85b6(0x251)),_0x5beea9=document[_0x4c85b6(0x839)](_0x4c85b6(0x53d)),_0x16f35a=document[_0x4c85b6(0x839)]('cancel-passcode-btn'),_0x32062f=document['getElementById'](_0x4c85b6(0x208)),_0x1841e2=document[_0x4c85b6(0x839)](_0x4c85b6(0x409));document[_0x4c85b6(0x839)]('passcode-prompt-message')[_0x4c85b6(0x4ca)]=_0x4c85b6(0x6af)+_0x248057[_0x4c85b6(0x134)],_0x32062f['value']='',_0x1841e2[_0x4c85b6(0x298)][_0x4c85b6(0x36a)](_0x4c85b6(0x28b)),_0x59a9d8['classList'][_0x4c85b6(0x514)]('hidden');const _0x2d30fc=()=>{const _0x4c6279=_0x4c85b6,_0x54fc69=_0x32062f[_0x4c6279(0x3e5)][_0x4c6279(0x3dd)]();_0x54fc69===_0x248057[_0x4c6279(0x248)]['passcode']?(sessionStorage[_0x4c6279(0x563)](_0x4c6279(0x81c)+_0x19a13a,'true'),_0x59a9d8[_0x4c6279(0x298)][_0x4c6279(0x36a)](_0x4c6279(0x28b)),_0x5e3f13(),_0x5beea9[_0x4c6279(0x573)]('click',_0x2d30fc)):_0x1841e2[_0x4c6279(0x298)][_0x4c6279(0x514)](_0x4c6279(0x28b));};_0x5beea9[_0x4c85b6(0x5b1)]=_0x2d30fc,_0x16f35a[_0x4c85b6(0x5b1)]=()=>{const _0x21a227=_0x4c85b6;_0x59a9d8[_0x21a227(0x298)][_0x21a227(0x36a)](_0x21a227(0x28b)),_0x237956[_0x21a227(0x3e5)]='',_0x5beea9[_0x21a227(0x573)](_0x21a227(0x3b0),_0x2d30fc);};}else _0x5e3f13();},_0x42c7c3['onchange']=()=>{const _0x15b61e=_0x8f72e5,_0x250db3=_0x237956['value'],_0x20bcb8=_0x42c7c3[_0x15b61e(0x3e5)];_0x250db3&&_0x20bcb8&&renderStudentProgressDashboard(_0x250db3,_0x20bcb8);};}async function renderStudentProgressDashboard(_0x1ec39a,_0x3042d0){const _0x5ee91e=_0x5e8eac,_0x2de322=document[_0x5ee91e(0x839)](_0x5ee91e(0x13c));_0x2de322[_0x5ee91e(0x536)]=_0x5ee91e(0x8ef);try{const _0xbeb63e=collection(db,_0x5ee91e(0x705)+appId+_0x5ee91e(0x780)),_0x3031a7=query(_0xbeb63e,where(_0x5ee91e(0x1cb),'==',_0x1ec39a)),_0x395ce6=await getDocs(_0x3031a7),_0x415801=_0x395ce6[_0x5ee91e(0x42d)][_0x5ee91e(0x530)](_0x1f0133=>({'id':_0x1f0133['id'],..._0x1f0133[_0x5ee91e(0x4b3)]()})),_0x4d5ffd=_0x415801[_0x5ee91e(0x530)](_0x497087=>getDoc(doc(db,_0x5ee91e(0x705)+appId+_0x5ee91e(0x736)+_0x497087['id']+_0x5ee91e(0x23e),_0x3042d0))),_0xc655b2=await Promise[_0x5ee91e(0x7e3)](_0x4d5ffd),_0x2f9e1d=_0xc655b2[_0x5ee91e(0x579)](_0x422daf=>_0x422daf[_0x5ee91e(0x15e)]())[_0x5ee91e(0x530)](_0x45a1c6=>({'quizId':_0x45a1c6['ref'][_0x5ee91e(0x6a1)][_0x5ee91e(0x6a1)]['id'],..._0x45a1c6[_0x5ee91e(0x4b3)]()}));if(_0x2f9e1d[_0x5ee91e(0x2d2)]===0x0){_0x2de322[_0x5ee91e(0x536)]=_0x5ee91e(0x877);return;}let _0x52e2c9=_0x5ee91e(0x4a2);_0x2f9e1d['forEach'](_0x2a451c=>{const _0x2bf29d=_0x5ee91e,_0x11cb4a=_0x415801[_0x2bf29d(0x801)](_0x41156d=>_0x41156d['id']===_0x2a451c[_0x2bf29d(0x72c)]),_0x283b11=_0x11cb4a[_0x2bf29d(0x248)]?.[_0x2bf29d(0x479)]||'show_results_and_answers',_0x37e13f=_0x11cb4a[_0x2bf29d(0x248)]?.[_0x2bf29d(0x86a)]??0x0,_0x19e9e5=_0x2a451c[_0x2bf29d(0x1d9)]>=_0x37e13f;let _0x4f43d3='',_0x5dded3='bg-gray-50';switch(_0x283b11){case'show_results_and_answers':case _0x2bf29d(0x430):_0x5dded3=_0x19e9e5?_0x2bf29d(0x2f2):_0x2bf29d(0x60c),_0x4f43d3=_0x2bf29d(0x345)+(_0x19e9e5?_0x2bf29d(0x26b):_0x2bf29d(0x346))+'\x22>'+_0x2a451c['bestScore']+_0x2bf29d(0x665)+_0x2a451c[_0x2bf29d(0x2ec)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x19e9e5?_0x2bf29d(0x2bb):_0x2bf29d(0x1c3))+'\x22>'+(_0x19e9e5?_0x2bf29d(0x731):'ไม่ผ่าน')+_0x2bf29d(0x6eb);break;case _0x2bf29d(0x43e):_0x5dded3=_0x19e9e5?_0x2bf29d(0x2f2):_0x2bf29d(0x60c),_0x4f43d3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x19e9e5?_0x2bf29d(0x2bb):'bg-red-200\x20text-red-800')+'\x22>'+(_0x19e9e5?_0x2bf29d(0x731):_0x2bf29d(0x17f))+_0x2bf29d(0x6eb);break;case _0x2bf29d(0x91f):_0x5dded3=_0x2bf29d(0x67d),_0x4f43d3=_0x2bf29d(0x7f8);break;}_0x52e2c9+=_0x2bf29d(0x5ec)+_0x5dded3+_0x2bf29d(0x4e1)+_0x11cb4a[_0x2bf29d(0x1bf)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x2a451c[_0x2bf29d(0x8a3)][_0x2bf29d(0x2d2)]+_0x2bf29d(0x59d)+new Date(_0x2a451c[_0x2bf29d(0x5e0)])[_0x2bf29d(0x324)](_0x2bf29d(0x37a))+_0x2bf29d(0x43a)+_0x4f43d3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x52e2c9+='</div>',_0x2de322[_0x5ee91e(0x536)]=_0x52e2c9;}catch(_0x1f7799){console[_0x5ee91e(0x2a9)](_0x5ee91e(0x4db),_0x1f7799),_0x2de322['innerHTML']=_0x5ee91e(0x3a2);}}function setupStudentProgressListeners(){const _0xb19aa1=_0x5e8eac;document[_0xb19aa1(0x839)](_0xb19aa1(0x6e9))[_0xb19aa1(0x2da)](_0xb19aa1(0x3b0),showStudentProgressView),document[_0xb19aa1(0x839)](_0xb19aa1(0x80a))[_0xb19aa1(0x2da)](_0xb19aa1(0x3b0),()=>{const _0x5bb390=_0xb19aa1;document[_0x5bb390(0x839)](_0x5bb390(0x2bc))[_0x5bb390(0x298)][_0x5bb390(0x36a)]('hidden'),document['getElementById'](_0x5bb390(0x443))[_0x5bb390(0x298)][_0x5bb390(0x514)](_0x5bb390(0x28b));});}async function startSkillPractice(_0x54044c){const _0x337323=_0x5e8eac;studentResultArea[_0x337323(0x298)]['add'](_0x337323(0x28b)),studentQuizArea[_0x337323(0x536)]=_0x337323(0x576),studentQuizArea[_0x337323(0x298)]['remove']('hidden');try{const _0xdbfa7a=await getStandardizedTopic(_0x54044c);console['log']('คำถามดิบ:\x20\x22'+_0x54044c+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0xdbfa7a+'\x22'),studentQuizArea[_0x337323(0x2cf)]('p')[_0x337323(0x4ca)]='กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22'+_0xdbfa7a+_0x337323(0x5ce);const _0x8df7ec=collection(db,_0x337323(0x705)+appId+_0x337323(0x238)),_0x1028b1=query(_0x8df7ec,where('topic','==',_0xdbfa7a)),_0x130560=await getDocs(_0x1028b1);if(_0x130560['docs'][_0x337323(0x2d2)]>=0x3){console[_0x337323(0x902)]('พบข้อสอบ\x20'+_0x130560['docs']['length']+_0x337323(0x7b7)+_0xdbfa7a+_0x337323(0x8b1));let _0x17056a=_0x130560[_0x337323(0x42d)][_0x337323(0x530)](_0x3b084f=>_0x3b084f[_0x337323(0x4b3)]());shuffleArray(_0x17056a);const _0x43e95e={'topic':_0xdbfa7a,'questions':_0x17056a[_0x337323(0x5f8)](0x0,0x3)};displaySkillPracticeDrill(_0x43e95e);}else{console[_0x337323(0x902)]('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0xdbfa7a+_0x337323(0x712));const _0x33356f=await generatePracticeQuestions(_0xdbfa7a);await saveDrillToPracticeBank(_0x33356f,_0xdbfa7a),displaySkillPracticeDrill(_0x33356f);}}catch(_0x24e947){console[_0x337323(0x2a9)](_0x337323(0x7d6),_0x24e947),showMessage('ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง'),studentQuizArea[_0x337323(0x298)]['add'](_0x337323(0x28b)),studentResultArea[_0x337323(0x298)][_0x337323(0x514)](_0x337323(0x28b));}}async function saveDrillToPracticeBank(_0x19cec8,_0x106f6a){const _0x1e852b=_0x5e8eac,_0x3bb7a1=collection(db,_0x1e852b(0x705)+appId+'/public/data/practiceBank'),_0x35ee6b=writeBatch(db);_0x19cec8['questions'][_0x1e852b(0x8de)](_0x345c6c=>{const _0x203246=_0x1e852b,_0x225884=doc(_0x3bb7a1);_0x35ee6b['set'](_0x225884,{'topic':_0x106f6a,'questionText':_0x345c6c[_0x203246(0x593)],'options':_0x345c6c[_0x203246(0x7d8)],'correctAnswerIndex':_0x345c6c['correctAnswerIndex'],'explanation':_0x345c6c['explanation'],'createdAt':serverTimestamp()});});try{await _0x35ee6b[_0x1e852b(0x167)](),console[_0x1e852b(0x902)]('บันทึกคำถามใหม่\x20'+_0x19cec8['questions'][_0x1e852b(0x2d2)]+'\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ');}catch(_0x3a78ef){console[_0x1e852b(0x2a9)](_0x1e852b(0x691),_0x3a78ef);}}async function getStandardizedTopic(_0x165b9d){const _0x296e77=_0x5e8eac,_0x13d6db='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22'+_0x165b9d+_0x296e77(0x88d),_0x43e693={'type':_0x296e77(0x7f6),'properties':{'standardTopic':{'type':_0x296e77(0x2c9)}},'required':[_0x296e77(0x8e6)]};try{const _0x26b425=await callAnalysisApi(_0x13d6db,_0x43e693);return _0x26b425[_0x296e77(0x8e6)];}catch(_0x4bcafc){return console['error']('Failed\x20to\x20get\x20standardized\x20topic:',_0x4bcafc),_0x165b9d;}}async function generatePracticeQuestions(_0x4d12bf){const _0x41652b=_0x5e8eac,_0x2c8fa5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22'+_0x4d12bf+_0x41652b(0x49b)+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x3b6c8e={'type':_0x41652b(0x7f6),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x41652b(0x7af),'items':{'type':_0x41652b(0x2c9)}},'correctAnswerIndex':{'type':_0x41652b(0x241)},'explanation':{'type':'STRING'}},'required':['questionText',_0x41652b(0x7d8),_0x41652b(0x8f1),'explanation']},_0x32a7a1={'type':_0x41652b(0x7f6),'properties':{'topic':{'type':_0x41652b(0x2c9)},'questions':{'type':_0x41652b(0x7af),'items':_0x3b6c8e}},'required':[_0x41652b(0x1bf),_0x41652b(0x3ef)]};return await callAnalysisApi(_0x2c8fa5,_0x32a7a1);}function displayLessonPlan(_0x2cee63,_0x9cd590){const _0xb61dbf=_0x5e8eac,_0x40d6d5=_0xb61dbf(0x798)+_0x9cd590['topic']+_0xb61dbf(0x180)+_0x2cee63[_0xb61dbf(0x3da)][_0xb61dbf(0x530)](_0xfd3510=>_0xb61dbf(0x3ba)+_0xfd3510+_0xb61dbf(0x737))['join']('')+_0xb61dbf(0x198)+_0x2cee63[_0xb61dbf(0x7c9)]+_0xb61dbf(0x85e)+_0x2cee63[_0xb61dbf(0x505)][_0xb61dbf(0x530)](_0x94f781=>_0xb61dbf(0x4a4)+_0x94f781['question']+_0xb61dbf(0x65f)+_0x94f781['solution']+_0xb61dbf(0x2dd))[_0xb61dbf(0x4b4)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0xb61dbf(0x839)](_0xb61dbf(0x7bf))[_0xb61dbf(0x4ca)]=_0xb61dbf(0x59a)+_0x9cd590[_0xb61dbf(0x1bf)],document[_0xb61dbf(0x839)](_0xb61dbf(0x782))[_0xb61dbf(0x536)]=_0x40d6d5,document[_0xb61dbf(0x839)](_0xb61dbf(0x89a))[_0xb61dbf(0x298)][_0xb61dbf(0x514)](_0xb61dbf(0x28b));if(window[_0xb61dbf(0x20c)])MathJax[_0xb61dbf(0x687)]();}function displaySkillPracticeDrill(_0x3e0af5){const _0x6b35a3=_0x5e8eac;let _0x4060e8=0x0;const _0x346bbf=_0x3e0af5[_0x6b35a3(0x3ef)],_0x2bdbd4=()=>{const _0x4a1fb6=_0x6b35a3,_0x94821f=_0x346bbf[_0x4060e8],_0x320280='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x4060e8+0x1)+_0x4a1fb6(0x665)+_0x346bbf[_0x4a1fb6(0x2d2)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>'+_0x94821f['questionText']+_0x4a1fb6(0x8b6)+_0x94821f['options']['map']((_0x140605,_0x2fbd6e)=>_0x4a1fb6(0x79c)+_0x2fbd6e+_0x4a1fb6(0x527)+_0x2fbd6e+_0x4a1fb6(0x2e3)+_0x2fbd6e+'\x22>'+_0x140605+_0x4a1fb6(0x762))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea[_0x4a1fb6(0x536)]=_0x320280;if(window['MathJax'])MathJax['typesetPromise']([studentQuizArea]);document[_0x4a1fb6(0x839)](_0x4a1fb6(0x365))['addEventListener'](_0x4a1fb6(0x3b0),async()=>{const _0x1f9dfa=_0x4a1fb6,_0x110926=await getHintForQuestion(_0x94821f[_0x1f9dfa(0x593)]);showMessage(_0x110926);}),document['getElementById']('check-answer-btn')[_0x4a1fb6(0x2da)](_0x4a1fb6(0x3b0),()=>{const _0x29c6c5=_0x4a1fb6,_0x257436=document['querySelector']('input[name=\x22drill_answer\x22]:checked');if(!_0x257436){showMessage(_0x29c6c5(0x43f));return;}const _0xf5351f=document[_0x29c6c5(0x839)](_0x29c6c5(0x179)),_0x1772f0=parseInt(_0x257436[_0x29c6c5(0x3e5)])===_0x94821f[_0x29c6c5(0x8f1)];_0x1772f0?(_0xf5351f[_0x29c6c5(0x437)]=_0x29c6c5(0x351),_0xf5351f[_0x29c6c5(0x536)]=_0x29c6c5(0x15f)+_0x94821f[_0x29c6c5(0x67e)]):(_0xf5351f[_0x29c6c5(0x437)]=_0x29c6c5(0x546),_0xf5351f['innerHTML']=_0x29c6c5(0x6da)+_0x94821f[_0x29c6c5(0x67e)]);_0xf5351f[_0x29c6c5(0x298)][_0x29c6c5(0x514)](_0x29c6c5(0x28b));if(window[_0x29c6c5(0x20c)])MathJax['typesetPromise']([_0xf5351f]);document[_0x29c6c5(0x839)](_0x29c6c5(0x292))[_0x29c6c5(0x298)][_0x29c6c5(0x36a)](_0x29c6c5(0x28b)),document['getElementById'](_0x29c6c5(0x365))[_0x29c6c5(0x298)][_0x29c6c5(0x36a)]('hidden'),document['getElementById'](_0x29c6c5(0x81f))[_0x29c6c5(0x298)][_0x29c6c5(0x514)](_0x29c6c5(0x28b));}),document[_0x4a1fb6(0x839)](_0x4a1fb6(0x81f))[_0x4a1fb6(0x2da)](_0x4a1fb6(0x3b0),()=>{const _0xfe1c61=_0x4a1fb6;_0x4060e8++,_0x4060e8<_0x346bbf[_0xfe1c61(0x2d2)]?_0x2bdbd4():(studentQuizArea[_0xfe1c61(0x536)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0xfe1c61(0x839)]('back-to-results-btn')[_0xfe1c61(0x2da)](_0xfe1c61(0x3b0),()=>{const _0x1d9778=_0xfe1c61;studentQuizArea['classList'][_0x1d9778(0x36a)](_0x1d9778(0x28b)),studentResultArea[_0x1d9778(0x298)][_0x1d9778(0x514)](_0x1d9778(0x28b));}));});};_0x2bdbd4();}async function getHintForQuestion(_0x14a48a){const _0x26e822=_0x5e8eac,_0x4e9c47='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x14a48a+_0x26e822(0x537),_0x58f486={'type':'OBJECT','properties':{'hint':{'type':_0x26e822(0x2c9)}},'required':[_0x26e822(0x41a)]};try{const _0xab6341=await callAnalysisApi(_0x4e9c47,_0x58f486);return _0xab6341[_0x26e822(0x41a)];}catch(_0x3e6477){return console[_0x26e822(0x2a9)](_0x26e822(0x2b8),_0x3e6477),_0x26e822(0x64a);}}async function extractTextFromPdf(_0x2b6c4e){const _0x2b478b=_0x5e8eac;pdfjsLib['GlobalWorkerOptions'][_0x2b478b(0x18f)]=_0x2b478b(0x28f);const _0x2511a1=await _0x2b6c4e['arrayBuffer'](),_0x406566=await pdfjsLib[_0x2b478b(0x67b)](_0x2511a1)[_0x2b478b(0x184)],_0x320c21=_0x406566[_0x2b478b(0x65c)];let _0x23d88f='';for(let _0x1b41a5=0x1;_0x1b41a5<=_0x320c21;_0x1b41a5++){const _0x3de835=await _0x406566[_0x2b478b(0x4fa)](_0x1b41a5),_0xecd92a=await _0x3de835[_0x2b478b(0x515)](),_0x48060c=_0xecd92a[_0x2b478b(0x375)][_0x2b478b(0x530)](_0x2f94e5=>_0x2f94e5[_0x2b478b(0x19a)])[_0x2b478b(0x4b4)]('\x20');_0x23d88f+=_0x48060c+'\x0a\x0a';}return _0x23d88f;}async function handleGenerateFromBlueprint(){const _0x921d4e=_0x5e8eac,_0xc58efc=document['getElementById'](_0x921d4e(0x320)),_0x42aea0=document[_0x921d4e(0x839)](_0x921d4e(0x17b)),_0x1c9656=_0xc58efc[_0x921d4e(0x1f9)][0x0],_0x21e5f1=_0x42aea0[_0x921d4e(0x1f9)]['length']>0x0?_0x42aea0[_0x921d4e(0x1f9)][0x0]:null;if(!_0x1c9656){showMessage(_0x921d4e(0x56b));return;}const _0x3791e6=document[_0x921d4e(0x839)](_0x921d4e(0x3a0)),_0xe31d93=document[_0x921d4e(0x839)](_0x921d4e(0x777)),_0x41818a=document[_0x921d4e(0x839)](_0x921d4e(0x8d4)),_0x36415b=document[_0x921d4e(0x839)](_0x921d4e(0x5f5));_0x36415b['disabled']=!![],document['getElementById'](_0x921d4e(0x1cf))[_0x921d4e(0x298)][_0x921d4e(0x514)](_0x921d4e(0x28b)),_0x41818a['innerHTML']='',_0x3791e6[_0x921d4e(0x298)][_0x921d4e(0x514)](_0x921d4e(0x28b));try{_0xe31d93['textContent']=_0x921d4e(0x610);const _0x302d2f=await extractTextFromPdf(_0x1c9656);if(!_0x302d2f['trim']())throw new Error('ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย');let _0x5b4c4d='';_0x21e5f1&&(_0xe31d93[_0x921d4e(0x4ca)]=_0x921d4e(0x60d),_0x5b4c4d=await extractTextFromPdf(_0x21e5f1));_0xe31d93['textContent']=_0x921d4e(0x63a);const _0x42bb70=document[_0x921d4e(0x839)](_0x921d4e(0x7a3))[_0x921d4e(0x1d1)],_0x1798d8=_0x42bb70?_0x921d4e(0x83a):'',_0xc98705=_0x5b4c4d?_0x921d4e(0x3dc)+_0x5b4c4d+_0x921d4e(0x79a):'',_0x482baf=_0x921d4e(0x62c)+(_0x5b4c4d?_0x921d4e(0x861):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x302d2f+_0x921d4e(0x79a)+_0xc98705+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1798d8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x921d4e(0x5e2),_0x455e87={'type':_0x921d4e(0x7f6),'properties':{'questionText':{'type':_0x921d4e(0x2c9)},'questionType':{'type':_0x921d4e(0x2c9),'enum':['multiple_choice',_0x921d4e(0x3a8)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x921d4e(0x241)},'idealAnswer':{'type':_0x921d4e(0x2c9)},'explanation':{'type':_0x921d4e(0x2c9)},'imageCode':{'type':_0x921d4e(0x2c9)}},'required':[_0x921d4e(0x593),_0x921d4e(0x6d0),_0x921d4e(0x67e)]},_0x283ba4={'type':_0x921d4e(0x7f6),'properties':{'topic':{'type':_0x921d4e(0x2c9)},'questions':{'type':_0x921d4e(0x7af),'items':_0x455e87}},'required':[_0x921d4e(0x1bf),_0x921d4e(0x3ef)]};await handleApiCall(_0x482baf,_0x921d4e(0x88b),_0x283ba4);}catch(_0x490849){console[_0x921d4e(0x2a9)](_0x921d4e(0x5e6),_0x490849),showMessage(_0x921d4e(0x313)+_0x490849[_0x921d4e(0x86b)]),_0x41818a[_0x921d4e(0x536)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>';}finally{_0x3791e6[_0x921d4e(0x298)][_0x921d4e(0x36a)](_0x921d4e(0x28b)),_0x36415b[_0x921d4e(0x4d1)]=![];}}async function handleGenerateParallelFromBank(_0x54089a){const _0x25b157=_0x5e8eac;switchProjectTab('manage');const _0x53d6ee=document[_0x25b157(0x839)](_0x25b157(0x3a0)),_0x1764da=document[_0x25b157(0x839)]('loader-text'),_0x4e2a77=document['getElementById'](_0x25b157(0x8d4));document[_0x25b157(0x839)]('quiz-generation-area')[_0x25b157(0x298)][_0x25b157(0x514)](_0x25b157(0x28b)),_0x4e2a77['innerHTML']='',_0x53d6ee['classList'][_0x25b157(0x514)]('hidden'),_0x1764da[_0x25b157(0x4ca)]=_0x25b157(0x7da)+_0x54089a[_0x25b157(0x1bf)]+_0x25b157(0x88f);try{const _0x1f4799=_0x54089a['questions'][_0x25b157(0x530)]((_0x1a6bf7,_0x643747)=>{const _0x10db7a=_0x25b157;let _0x159ab4=_0x643747+0x1+'.\x20'+(_0x1a6bf7[_0x10db7a(0x593)]||_0x1a6bf7[_0x10db7a(0x3f1)])+'\x0a';if(_0x1a6bf7['options'])_0x159ab4+=_0x1a6bf7[_0x10db7a(0x7d8)][_0x10db7a(0x530)]((_0x3aaca5,_0xf354a9)=>_0x10db7a(0x58a)+(_0xf354a9===_0x1a6bf7['correctAnswerIndex']?_0x10db7a(0x568):'')+'\x20'+_0x3aaca5)['join']('\x0a');else _0x1a6bf7[_0x10db7a(0x483)]&&(_0x159ab4+=_0x10db7a(0x48b)+_0x1a6bf7[_0x10db7a(0x483)]);return _0x159ab4;})[_0x25b157(0x4b4)]('\x0a\x0a');_0x1764da[_0x25b157(0x4ca)]=_0x25b157(0x91c);const _0x516266=_0x25b157(0x323)+_0x54089a[_0x25b157(0x1bf)]+_0x25b157(0x247)+_0x1f4799+_0x25b157(0x744)+simpleMathPrompt+_0x25b157(0x5e2),_0x3e57fa={'type':_0x25b157(0x7f6),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x25b157(0x2c9),'enum':[_0x25b157(0x497),_0x25b157(0x3a8),'true_false',_0x25b157(0x183)]},'options':{'type':_0x25b157(0x7af),'items':{'type':_0x25b157(0x2c9)}},'correctAnswerIndex':{'type':_0x25b157(0x241)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x25b157(0x802)},'stem':{'type':_0x25b157(0x2c9)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x25b157(0x7af),'items':{'type':_0x25b157(0x2c9)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x25b157(0x2c9)}},'required':['questionText',_0x25b157(0x6d0),_0x25b157(0x7d8),_0x25b157(0x8f1),_0x25b157(0x67e)]},_0x281ebb={'type':_0x25b157(0x7f6),'properties':{'topic':{'type':_0x25b157(0x2c9)},'questions':{'type':_0x25b157(0x7af),'items':_0x3e57fa}},'required':[_0x25b157(0x1bf),_0x25b157(0x3ef)]},_0x287119=await callAnalysisApi(_0x516266,_0x281ebb);_0x287119['topic']=_0x25b157(0x632)+_0x54089a[_0x25b157(0x1bf)],_0x287119[_0x25b157(0x863)]=_0x54089a['quizType'],currentQuizData=_0x287119,displayGeneratedQuiz(_0x287119),document[_0x25b157(0x839)](_0x25b157(0x4b5))['scrollIntoView']({'behavior':_0x25b157(0x7c3)});}catch(_0x180c08){console['error'](_0x25b157(0x51c),_0x180c08),showMessage(_0x25b157(0x313)+_0x180c08[_0x25b157(0x86b)]),_0x4e2a77[_0x25b157(0x536)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x53d6ee['classList']['add'](_0x25b157(0x28b));}}async function handleGenerateParallelPostTest(_0x20fdf5){const _0xa9985f=_0x5e8eac,_0x29a7cf=document[_0xa9985f(0x839)](_0xa9985f(0x3b9)),_0x14d136=document[_0xa9985f(0x839)](_0xa9985f(0x51f));_0x14d136[_0xa9985f(0x298)][_0xa9985f(0x36a)]('hidden');const _0x3173d0=_0xa9985f(0x17e);_0x29a7cf['insertAdjacentHTML'](_0xa9985f(0x7a4),_0x3173d0);try{const _0x4cbe93=_0x20fdf5['questions'][_0xa9985f(0x530)]((_0x39f245,_0x4367a6)=>{const _0x498909=_0xa9985f;let _0x805628=_0x4367a6+0x1+'.\x20'+(_0x39f245[_0x498909(0x593)]||_0x39f245[_0x498909(0x3f1)]);if(_0x39f245[_0x498909(0x7d8)])_0x805628+='\x0a\x20\x20\x20-\x20ตัวเลือก:\x20'+_0x39f245[_0x498909(0x7d8)][_0x498909(0x4b4)](',\x20');return _0x805628;})[_0xa9985f(0x4b4)]('\x0a\x0a'),_0x59419b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x20fdf5[_0xa9985f(0x1bf)]+_0xa9985f(0x36b)+_0x4cbe93+_0xa9985f(0x58f)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x4bf58a={'type':_0xa9985f(0x7f6),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0xa9985f(0x7af),'items':{'type':_0xa9985f(0x7f6),'properties':{'questionText':{'type':_0xa9985f(0x2c9)},'questionType':{'type':_0xa9985f(0x2c9)},'options':{'type':_0xa9985f(0x7af),'items':{'type':_0xa9985f(0x2c9)}},'correctAnswerIndex':{'type':_0xa9985f(0x241)},'idealAnswer':{'type':_0xa9985f(0x2c9)},'explanation':{'type':_0xa9985f(0x2c9)}},'required':['questionText','explanation']}}},'required':[_0xa9985f(0x1bf),_0xa9985f(0x3ef)]},_0x345cee=await callAnalysisApi(_0x59419b,_0x4bf58a),_0x4bc9a2=_0x20fdf5[_0xa9985f(0x1bf)][_0xa9985f(0x1e9)](_0xa9985f(0x26e),'')[_0xa9985f(0x3dd)](),_0x2dbf46=_0xa9985f(0x491)+_0x4bc9a2,_0xac9919={..._0x345cee,'topic':_0x2dbf46,'quizType':_0x20fdf5['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0xa9985f(0x550)](),'status':_0xa9985f(0x38b),'settings':_0x20fdf5[_0xa9985f(0x248)],'quizMode':_0xa9985f(0x8c9),'pairedQuizId':_0x20fdf5['id']};let _0x5ae294;while(!![]){_0x5ae294=Math[_0xa9985f(0x1a1)](0x3e8+Math[_0xa9985f(0x195)]()*0x2328)[_0xa9985f(0x472)]();const _0xc6180e=await getDoc(doc(db,_0xa9985f(0x705)+appId+_0xa9985f(0x780),_0x5ae294));if(!_0xc6180e[_0xa9985f(0x15e)]())break;}await setDoc(doc(db,'artifacts/'+appId+_0xa9985f(0x780),_0x5ae294),_0xac9919);const _0x378b3d=doc(db,_0xa9985f(0x705)+appId+_0xa9985f(0x780),_0x20fdf5['id']);await updateDoc(_0x378b3d,{'pairedQuizId':_0x5ae294}),showMessage(_0xa9985f(0x7ac));}catch(_0x25b0cc){console['error'](_0xa9985f(0x12b),_0x25b0cc),showMessage('เกิดข้อผิดพลาด:\x20'+_0x25b0cc[_0xa9985f(0x86b)]);}finally{const _0x344ede=document[_0xa9985f(0x839)](_0xa9985f(0x841));if(_0x344ede)_0x344ede[_0xa9985f(0x514)]();_0x14d136[_0xa9985f(0x298)][_0xa9985f(0x514)](_0xa9985f(0x28b));}}async function handleGenerateParallelTest(){const _0x2b0885=_0x5e8eac,_0x7bba08=document['getElementById'](_0x2b0885(0x657)),_0x2bafb4=_0x7bba08['files'][0x0];if(!_0x2bafb4){showMessage(_0x2b0885(0x259));return;}const _0x5ba310=document['getElementById'](_0x2b0885(0x3a0)),_0x12667f=document[_0x2b0885(0x839)](_0x2b0885(0x777)),_0x11b184=document['getElementById'](_0x2b0885(0x8d4)),_0x23ae2c=document[_0x2b0885(0x839)](_0x2b0885(0x47f));_0x23ae2c['disabled']=!![],document[_0x2b0885(0x839)](_0x2b0885(0x1cf))[_0x2b0885(0x298)][_0x2b0885(0x514)]('hidden'),_0x11b184[_0x2b0885(0x536)]='',_0x5ba310[_0x2b0885(0x298)][_0x2b0885(0x514)](_0x2b0885(0x28b)),_0x12667f[_0x2b0885(0x4ca)]=_0x2b0885(0x25f);try{const _0xd5d25=await extractTextFromPdf(_0x2bafb4);if(!_0xd5d25[_0x2b0885(0x3dd)]())throw new Error('ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย');_0x12667f[_0x2b0885(0x4ca)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x1f2fea=document[_0x2b0885(0x839)](_0x2b0885(0x7a3))[_0x2b0885(0x1d1)],_0x4e11ff=_0x1f2fea?_0x2b0885(0x83a):'',_0x6f4271=_0x2b0885(0x7c6)+_0xd5d25+_0x2b0885(0x531)+_0x4e11ff+_0x2b0885(0x36f)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x106b11={'type':_0x2b0885(0x7f6),'properties':{'questionText':{'type':_0x2b0885(0x2c9)},'questionType':{'type':'STRING','enum':[_0x2b0885(0x497),'short_answer']},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2b0885(0x241)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2b0885(0x2c9)},'imageCode':{'type':_0x2b0885(0x2c9)}},'required':[_0x2b0885(0x593),_0x2b0885(0x6d0),_0x2b0885(0x67e)]},_0x581417={'type':_0x2b0885(0x7f6),'properties':{'topic':{'type':_0x2b0885(0x2c9)},'questions':{'type':_0x2b0885(0x7af),'items':_0x106b11}},'required':[_0x2b0885(0x1bf),_0x2b0885(0x3ef)]};await handleApiCall(_0x6f4271,_0x2b0885(0x4d8),_0x581417);}catch(_0x24b0ed){console[_0x2b0885(0x2a9)](_0x2b0885(0x322),_0x24b0ed),showMessage('เกิดข้อผิดพลาด:\x20'+_0x24b0ed[_0x2b0885(0x86b)]),_0x11b184['innerHTML']=_0x2b0885(0x3fe);}finally{_0x5ba310[_0x2b0885(0x298)]['add'](_0x2b0885(0x28b)),_0x23ae2c[_0x2b0885(0x4d1)]=![];}}async function handleRegenerateQuestionInEditor(_0x3c459d){const _0x83bb28=_0x5e8eac;if(currentEditingQuizData===null)return;const _0x97ed06=document[_0x83bb28(0x2cf)](_0x83bb28(0x8f3)+_0x3c459d+'\x22]');_0x97ed06&&(_0x97ed06['innerHTML']=_0x83bb28(0x6d8));const _0x535fc4=currentEditingQuizData[_0x83bb28(0x3ef)][_0x3c459d],_0xb37bd5=currentEditingQuizData[_0x83bb28(0x1bf)],_0xcc9e16=_0x535fc4[_0x83bb28(0x6d0)],_0x296604={'type':_0x83bb28(0x7f6),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x83bb28(0x2c9)}},'correctAnswerIndex':{'type':_0x83bb28(0x241)},'explanation':{'type':_0x83bb28(0x2c9)}},'required':[_0x83bb28(0x593),_0x83bb28(0x7d8),_0x83bb28(0x8f1),'explanation']},_0x28764a={'type':_0x83bb28(0x7f6),'properties':{'questionText':{'type':_0x83bb28(0x2c9)},'idealAnswer':{'type':_0x83bb28(0x2c9)},'explanation':{'type':_0x83bb28(0x2c9)}},'required':[_0x83bb28(0x593),'idealAnswer',_0x83bb28(0x67e)]};let _0x4fa8ad,_0x29a69e='';_0xcc9e16===_0x83bb28(0x497)?(_0x4fa8ad=_0x296604,_0x29a69e=_0x83bb28(0x586)):(_0x4fa8ad=_0x28764a,_0x29a69e=_0x83bb28(0x303));const _0x204395=_0x83bb28(0x8a7)+_0xb37bd5+_0x83bb28(0x2ba)+_0x29a69e+_0x83bb28(0x675)+(_0x535fc4['questionText']||_0x535fc4[_0x83bb28(0x3f1)])+_0x83bb28(0x278)+simpleMathPrompt;try{const _0x447a43=await callAnalysisApi(_0x204395,_0x4fa8ad);currentEditingQuizData[_0x83bb28(0x3ef)][_0x3c459d]={..._0x535fc4,..._0x447a43},renderQuizEditor(currentEditingQuizData);}catch(_0x2cee6f){console['error']('Error\x20regenerating\x20question\x20in\x20editor:',_0x2cee6f),showMessage(_0x83bb28(0x126)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x367a1b=_0x5e8eac,_0x534983=document[_0x367a1b(0x839)](_0x367a1b(0x674));currentMode===_0x367a1b(0x1d5)?(currentMode=_0x367a1b(0x1e8),_0x534983[_0x367a1b(0x536)]='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x534983[_0x367a1b(0x629)]=_0x367a1b(0x74a),showView(_0x367a1b(0x686))):(currentMode=_0x367a1b(0x1d5),_0x534983[_0x367a1b(0x536)]=_0x367a1b(0x411),_0x534983[_0x367a1b(0x629)]=_0x367a1b(0x334),showView(_0x367a1b(0x1d5)));}function handleAdminLogin(){const _0x755bf3=_0x5e8eac,_0x66cbdf=document[_0x755bf3(0x839)]('admin-password-input'),_0xc0234a=document[_0x755bf3(0x839)](_0x755bf3(0x27d));if(_0x66cbdf[_0x755bf3(0x3e5)]==='27411472'){adminPasswordModal[_0x755bf3(0x298)][_0x755bf3(0x36a)](_0x755bf3(0x28b)),_0x66cbdf[_0x755bf3(0x3e5)]='',_0xc0234a[_0x755bf3(0x298)][_0x755bf3(0x36a)]('hidden'),currentMode=_0x755bf3(0x1e8);const _0x41f72d=document[_0x755bf3(0x839)](_0x755bf3(0x674));_0x41f72d[_0x755bf3(0x536)]=_0x755bf3(0x2b6),_0x41f72d[_0x755bf3(0x629)]=_0x755bf3(0x74a),showView('admin-dashboard');}else _0xc0234a[_0x755bf3(0x298)][_0x755bf3(0x514)](_0x755bf3(0x28b)),_0x66cbdf[_0x755bf3(0x3e5)]='';}function switchProjectTab(_0xfd3b8c){const _0x119a76=_0x5e8eac;[_0x119a76(0x336),'results',_0x119a76(0x441)][_0x119a76(0x8de)](_0x22370d=>{const _0x24bb1f=_0x119a76;document[_0x24bb1f(0x839)](_0x22370d+'-tab')[_0x24bb1f(0x298)][_0x24bb1f(0x514)](_0x24bb1f(0x38b)),document['getElementById'](_0x22370d+_0x24bb1f(0x635))[_0x24bb1f(0x298)][_0x24bb1f(0x36a)](_0x24bb1f(0x28b));}),document['getElementById'](_0xfd3b8c+_0x119a76(0x71c))[_0x119a76(0x298)][_0x119a76(0x36a)](_0x119a76(0x38b)),document[_0x119a76(0x839)](_0xfd3b8c+_0x119a76(0x635))[_0x119a76(0x298)][_0x119a76(0x514)](_0x119a76(0x28b));}function switchQuizDetailTab(_0x3b2be6){const _0xd32f22=_0x5e8eac,_0x1197ec={'analytics':{'btn':_0xd32f22(0x1f2),'content':_0xd32f22(0x823)},'scores':{'btn':_0xd32f22(0x8ff),'content':_0xd32f22(0x236)},'leaderboard-quiz':{'btn':_0xd32f22(0x2af),'content':_0xd32f22(0x592)},'behavior-log':{'btn':_0xd32f22(0x564),'content':_0xd32f22(0x678)}};for(const _0x32d360 in _0x1197ec){document['getElementById'](_0x1197ec[_0x32d360][_0xd32f22(0x58d)])[_0xd32f22(0x298)][_0xd32f22(0x514)](_0xd32f22(0x38b)),document[_0xd32f22(0x839)](_0x1197ec[_0x32d360][_0xd32f22(0x5bb)])['classList'][_0xd32f22(0x36a)](_0xd32f22(0x28b));}document[_0xd32f22(0x839)](_0x1197ec[_0x3b2be6][_0xd32f22(0x58d)])[_0xd32f22(0x298)][_0xd32f22(0x36a)](_0xd32f22(0x38b)),document['getElementById'](_0x1197ec[_0x3b2be6][_0xd32f22(0x5bb)])['classList'][_0xd32f22(0x514)](_0xd32f22(0x28b));}function showMessage(_0x231be0,_0x588b22=null){const _0x2f797f=_0x5e8eac;modalMessage[_0x2f797f(0x4ca)]=_0x231be0,modalConfirmAction=_0x588b22,messageModal[_0x2f797f(0x298)]['remove']('hidden');}function showConfirmation(_0x222171,_0x2b19ac){const _0x28ccc1=_0x5e8eac;document[_0x28ccc1(0x839)]('confirmation-message')['textContent']=_0x222171,document[_0x28ccc1(0x839)](_0x28ccc1(0x90b))[_0x28ccc1(0x2cf)]('h3')['textContent']=_0x28ccc1(0x17c),confirmAction=_0x2b19ac,confirmationModal[_0x28ccc1(0x298)][_0x28ccc1(0x514)]('hidden');}function listenForProjects(){const _0x4ff5e2=_0x5e8eac,_0x3ac7c4=doc(db,_0x4ff5e2(0x4b6),_0x4ff5e2(0x80f));onSnapshot(_0x3ac7c4,_0x5542cb=>{const _0x38a0e8=_0x4ff5e2;if(_0x5542cb['exists']()){const _0x594f4a=_0x5542cb[_0x38a0e8(0x4b3)]();globalDashboardSettings[_0x38a0e8(0x7ef)]=_0x594f4a['projectSort']||_0x38a0e8(0x408),globalDashboardSettings[_0x38a0e8(0x748)]=_0x594f4a['pinnedProjects']||[],globalDashboardSettings[_0x38a0e8(0x6a2)]=_0x594f4a['projectOrder']||[];}allProjects[_0x38a0e8(0x2d2)]>0x0&&renderProjects();});const _0x27c404=collection(db,_0x4ff5e2(0x705)+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x27c404,_0xc42e33=>{const _0x1ef723=_0x4ff5e2;allProjects=_0xc42e33[_0x1ef723(0x42d)][_0x1ef723(0x530)](_0x3c752f=>({'id':_0x3c752f['id'],..._0x3c752f[_0x1ef723(0x4b3)]()})),renderProjects();},_0x3f3672=>{const _0x52027b=_0x4ff5e2;console['error']('Error\x20listening\x20for\x20projects:',_0x3f3672),showMessage(_0x52027b(0x149));});}function showColorPalette(_0x12c1ce,_0xecc2da){const _0x2819e8=_0x5e8eac;document[_0x2819e8(0x2eb)](_0x2819e8(0x312))[_0x2819e8(0x8de)](_0x1055a1=>_0x1055a1['remove']());const _0x24d230=[_0x2819e8(0x38a),_0x2819e8(0x433),_0x2819e8(0x207),'#D1FAE5',_0x2819e8(0x16b),_0x2819e8(0x7db),_0x2819e8(0x6fc),_0x2819e8(0x32c),'#E5E7EB'],_0x498ff0=document[_0x2819e8(0x341)](_0x2819e8(0x450));_0x498ff0[_0x2819e8(0x437)]=_0x2819e8(0x500),_0x24d230[_0x2819e8(0x8de)](_0x333dc4=>{const _0x374ad3=_0x2819e8,_0x56e6e0=document[_0x374ad3(0x341)](_0x374ad3(0x450));_0x56e6e0['className']='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x56e6e0['style'][_0x374ad3(0x544)]=_0x333dc4,_0x56e6e0[_0x374ad3(0x2da)](_0x374ad3(0x3b0),()=>{const _0x1c50a5=_0x374ad3;handleProjectColorChange(_0xecc2da,_0x333dc4),_0x498ff0[_0x1c50a5(0x514)]();}),_0x498ff0[_0x374ad3(0x38d)](_0x56e6e0);}),document[_0x2819e8(0x1ed)][_0x2819e8(0x38d)](_0x498ff0);const _0x55c10e=_0x12c1ce[_0x2819e8(0x810)]();_0x498ff0[_0x2819e8(0x685)][_0x2819e8(0x5f9)]=_0x55c10e[_0x2819e8(0x240)]+window[_0x2819e8(0x913)]+'px',_0x498ff0[_0x2819e8(0x685)][_0x2819e8(0x769)]=_0x55c10e[_0x2819e8(0x769)]+window['scrollX']-_0x498ff0[_0x2819e8(0x39d)]/0x2+'px';}async function handleProjectColorChange(_0x10ae7a,_0x253224){const _0x96e045=_0x5e8eac,_0xb653d5=doc(db,_0x96e045(0x705)+appId+'/public/data/projects',_0x10ae7a);try{await updateDoc(_0xb653d5,{'color':_0x253224});}catch(_0x44f780){console[_0x96e045(0x2a9)](_0x96e045(0x1fd),_0x44f780),showMessage(_0x96e045(0x6b9));}}async function renderProjects(){const _0x10ac3a=_0x5e8eac,_0xe7b72f=globalDashboardSettings[_0x10ac3a(0x7ef)]||'date_desc',_0x3829c8=new Set(globalDashboardSettings[_0x10ac3a(0x748)]||[]),_0x3cc0a7=globalDashboardSettings['projectView']||_0x10ac3a(0x56f),_0x3d19c8=document[_0x10ac3a(0x839)](_0x10ac3a(0x8d0)),_0x52bbee=document['getElementById'](_0x10ac3a(0x8e5));_0x3d19c8[_0x10ac3a(0x298)][_0x10ac3a(0x8d2)]('active',_0x3cc0a7===_0x10ac3a(0x56f)),_0x52bbee[_0x10ac3a(0x298)]['toggle'](_0x10ac3a(0x38b),_0x3cc0a7===_0x10ac3a(0x84e)),document[_0x10ac3a(0x839)](_0x10ac3a(0x831))[_0x10ac3a(0x3e5)]=_0xe7b72f;const _0x7d0b0=document[_0x10ac3a(0x839)]('project-search-input')[_0x10ac3a(0x3e5)][_0x10ac3a(0x55b)]();let _0x5d5db5=allProjects[_0x10ac3a(0x579)](_0x14698b=>_0x14698b[_0x10ac3a(0x134)][_0x10ac3a(0x55b)]()['includes'](_0x7d0b0));const _0x660c8f=_0x5d5db5[_0x10ac3a(0x579)](_0xef4934=>_0x3829c8[_0x10ac3a(0x721)](_0xef4934['id'])),_0x4a187f=_0x5d5db5[_0x10ac3a(0x579)](_0x2af550=>!_0x3829c8[_0x10ac3a(0x721)](_0x2af550['id'])),_0x4bf5c3=(_0x366c68,_0xc53f5d)=>{const _0x467221=_0x10ac3a;switch(_0xe7b72f){case _0x467221(0x65a):return _0x366c68['projectName'][_0x467221(0x917)](_0xc53f5d[_0x467221(0x134)],'th');case _0x467221(0x70f):return _0xc53f5d['projectName'][_0x467221(0x917)](_0x366c68['projectName'],'th');case _0x467221(0x8f7):return new Date(_0x366c68[_0x467221(0x5a6)])-new Date(_0xc53f5d[_0x467221(0x5a6)]);default:return new Date(_0xc53f5d[_0x467221(0x5a6)])-new Date(_0x366c68['createdAt']);}};_0x660c8f[_0x10ac3a(0x163)](_0x4bf5c3),_0x4a187f[_0x10ac3a(0x163)](_0x4bf5c3);const _0x5784f0=[..._0x660c8f,..._0x4a187f],_0x152354=globalDashboardSettings['projectOrder']||[];_0x152354['length']>0x0&&_0x3cc0a7===_0x10ac3a(0x56f)&&_0x5784f0['sort']((_0x46865c,_0x20b52b)=>{const _0x3f91c8=_0x10ac3a,_0x143db7=_0x152354[_0x3f91c8(0x7a8)](_0x46865c['id']),_0x2464e0=_0x152354[_0x3f91c8(0x7a8)](_0x20b52b['id']);if(_0x143db7===-0x1)return 0x1;if(_0x2464e0===-0x1)return-0x1;return _0x143db7-_0x2464e0;});const _0x1859c2={};await Promise[_0x10ac3a(0x7e3)](_0x5784f0[_0x10ac3a(0x530)](async _0x4bcfbf=>{const _0x404016=_0x10ac3a,_0x583bdb=query(collection(db,'artifacts/'+appId+_0x404016(0x780)),where(_0x404016(0x1cb),'==',_0x4bcfbf['id'])),_0x5774c0=await getDocs(_0x583bdb);_0x1859c2[_0x4bcfbf['id']]=_0x5774c0[_0x404016(0x1e4)];}));const _0x4db50a=document[_0x10ac3a(0x839)](_0x10ac3a(0x318));let _0x2250b5='';if(_0x3cc0a7===_0x10ac3a(0x56f)){_0x4db50a[_0x10ac3a(0x437)]=_0x10ac3a(0x594);if(starredQuizzes[_0x10ac3a(0x2d2)]>0x0&&_0x7d0b0===''){const _0x2f37fd=starredQuizzes[_0x10ac3a(0x530)](_0x26adc2=>{const _0x46231d=_0x10ac3a,_0x113424=allProjects[_0x46231d(0x801)](_0x2c5a7b=>_0x2c5a7b['id']===_0x26adc2[_0x46231d(0x1cb)]);return{..._0x26adc2,'projectName':_0x113424?_0x113424[_0x46231d(0x134)]:_0x46231d(0x204)};});_0x2250b5+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2f37fd['map'](_0x39e365=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x39e365[_0x10ac3a(0x1bf)]+'\x22>'+_0x39e365[_0x10ac3a(0x1bf)]+_0x10ac3a(0x27a)+_0x39e365[_0x10ac3a(0x134)]+'\x22>จาก:\x20'+_0x39e365['projectName']+_0x10ac3a(0x2b0))[_0x10ac3a(0x4b4)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>'+starredQuizzes[_0x10ac3a(0x2d2)]+_0x10ac3a(0x391);}_0x5784f0['forEach'](_0x5ea0fa=>{const _0x1ad6bd=_0x10ac3a,_0x1ed009=_0x1859c2[_0x5ea0fa['id']]??0x0,_0x149d3e=_0x3829c8[_0x1ad6bd(0x721)](_0x5ea0fa['id']),_0x3f6600=_0x5ea0fa[_0x1ad6bd(0x364)]||_0x1ad6bd(0x38a),_0x1cba42=parseInt(_0x3f6600['substring'](0x1,0x3),0x10)*0.299+parseInt(_0x3f6600['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x3f6600[_0x1ad6bd(0x5a5)](0x5,0x7),0x10)*0.114<0xba,_0x4c5936=_0x1cba42?_0x1ad6bd(0x704):_0x1ad6bd(0x7a7),_0x40bb2c=_0x1cba42?_0x1ad6bd(0x136):_0x1ad6bd(0x363);_0x2250b5+=_0x1ad6bd(0x590)+(_0x149d3e?_0x1ad6bd(0x5d3):_0x1ad6bd(0x307))+_0x1ad6bd(0x355)+_0x3f6600+_0x1ad6bd(0x5f1)+_0x5ea0fa['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5ea0fa['id']+_0x1ad6bd(0x23d)+(_0x1cba42?_0x1ad6bd(0x75f):_0x1ad6bd(0x572))+_0x1ad6bd(0x6e5)+_0x5ea0fa['id']+_0x1ad6bd(0x881)+(_0x1cba42?_0x1ad6bd(0x75f):_0x1ad6bd(0x572))+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x149d3e?_0x1cba42?_0x1ad6bd(0x495):_0x1ad6bd(0x1d0):'')+_0x1ad6bd(0x2f4)+_0x5ea0fa['id']+_0x1ad6bd(0x636)+_0x4c5936+'\x20pointer-events-none\x22>'+_0x5ea0fa['projectName']+_0x1ad6bd(0x616)+_0x40bb2c+'\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x5ea0fa[_0x1ad6bd(0x5a6)])['toLocaleDateString'](_0x1ad6bd(0x37a))+_0x1ad6bd(0x843)+(_0x1cba42?'text-gray-100':_0x1ad6bd(0x3d7))+_0x1ad6bd(0x618)+_0x1ed009+'\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5ea0fa['id']+_0x1ad6bd(0x31a)+_0x5ea0fa[_0x1ad6bd(0x134)]+_0x1ad6bd(0x41b)+(_0x1cba42?_0x1ad6bd(0x795):_0x1ad6bd(0x8cc))+_0x1ad6bd(0x1c7);});}else _0x4db50a[_0x10ac3a(0x437)]=_0x10ac3a(0x8a2),starredQuizzes['length']>0x0&&_0x7d0b0===''&&(_0x2250b5+=_0x10ac3a(0x3ca)+starredQuizzes['length']+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x2250b5+=_0x10ac3a(0x153),_0x5784f0[_0x10ac3a(0x8de)](_0x46b6d2=>{const _0x1217fb=_0x10ac3a,_0x47dccc=_0x1859c2[_0x46b6d2['id']]??0x0,_0x302279=_0x3829c8[_0x1217fb(0x721)](_0x46b6d2['id']);_0x2250b5+=_0x1217fb(0x640)+(_0x46b6d2['color']||_0x1217fb(0x642))+_0x1217fb(0x417)+_0x46b6d2['id']+_0x1217fb(0x7de)+_0x46b6d2[_0x1217fb(0x134)]+_0x1217fb(0x1ba)+_0x47dccc+_0x1217fb(0x911)+new Date(_0x46b6d2[_0x1217fb(0x5a6)])[_0x1217fb(0x448)](_0x1217fb(0x37a))+_0x1217fb(0x4dd)+_0x46b6d2['id']+_0x1217fb(0x461)+(_0x302279?_0x1217fb(0x1d0):'')+_0x1217fb(0x699)+_0x46b6d2['id']+'\x22\x20data-name=\x22'+_0x46b6d2[_0x1217fb(0x134)]+_0x1217fb(0x509);});projectList['innerHTML']=_0x2250b5,noProjectsMsg[_0x10ac3a(0x298)][_0x10ac3a(0x8d2)]('hidden',_0x2250b5[_0x10ac3a(0x2d2)]>0x0);}document[_0x5e8eac(0x839)]('confirm-create-project-btn')[_0x5e8eac(0x2da)]('click',async()=>{const _0x59f81f=_0x5e8eac,_0x426c65=document['getElementById'](_0x59f81f(0x621)),_0x575527=_0x426c65[_0x59f81f(0x3e5)]['trim']();if(!_0x575527){showMessage(_0x59f81f(0x6b3));return;}try{const _0x49db8a=doc(collection(db,_0x59f81f(0x705)+appId+'/public/data/projects'));await setDoc(_0x49db8a,{'projectName':_0x575527,'students':[],'settings':{'resultsDisplay':'show_results_and_answers','shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x59f81f(0x41e),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()['toISOString']()}),_0x426c65[_0x59f81f(0x3e5)]='',createProjectModal[_0x59f81f(0x298)]['add'](_0x59f81f(0x28b)),showMessage(_0x59f81f(0x7b6));}catch(_0x2dda0f){console[_0x59f81f(0x2a9)](_0x59f81f(0x7fb),_0x2dda0f),showMessage(_0x59f81f(0x4a7));}}),projectList[_0x5e8eac(0x2da)](_0x5e8eac(0x3b0),async _0x520556=>{const _0x3c9f85=_0x5e8eac,_0x53b44c=_0x520556[_0x3c9f85(0x8be)][_0x3c9f85(0x2b1)](_0x3c9f85(0x89c)),_0x19bf12=_0x520556[_0x3c9f85(0x8be)][_0x3c9f85(0x2b1)](_0x3c9f85(0x542)),_0x157aef=_0x520556[_0x3c9f85(0x8be)][_0x3c9f85(0x2b1)]('.pin-project-btn'),_0xc3e5c4=_0x520556[_0x3c9f85(0x8be)][_0x3c9f85(0x2b1)](_0x3c9f85(0x76f));if(_0x157aef){const _0x24198e=_0x157aef[_0x3c9f85(0x6b1)]['id'],_0x55e86a=doc(db,_0x3c9f85(0x4b6),_0x3c9f85(0x80f)),_0x538462=globalDashboardSettings['pinnedProjects'];let _0x4f22e5;_0x538462[_0x3c9f85(0x6f6)](_0x24198e)?_0x4f22e5=_0x538462[_0x3c9f85(0x579)](_0x46f272=>_0x46f272!==_0x24198e):_0x4f22e5=[..._0x538462,_0x24198e];try{await setDoc(_0x55e86a,{'pinnedProjects':_0x4f22e5},{'merge':!![]});}catch(_0x4fcdc8){console[_0x3c9f85(0x2a9)]('Error\x20updating\x20pin\x20status:',_0x4fcdc8),showMessage(_0x3c9f85(0x28d));}}else{if(_0xc3e5c4){const _0x44df26=_0xc3e5c4[_0x3c9f85(0x6b1)]['id'];showColorPalette(_0xc3e5c4,_0x44df26);}else{if(_0x53b44c){const _0x3e85a7=_0x53b44c['dataset']['id'];_0x3e85a7==='starred-project'?showStarredProjectView():(currentProjectId=_0x3e85a7,await loadProjectDetails(currentProjectId),showView(_0x3c9f85(0x178)));}else{if(_0x19bf12){const _0x4e6de8=_0x19bf12['dataset']['id'],_0x2b00a9=_0x19bf12[_0x3c9f85(0x6b1)][_0x3c9f85(0x912)];showConfirmation(_0x3c9f85(0x220)+_0x2b00a9+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x4e6de8));}}}}}),projectList[_0x5e8eac(0x2da)]('dragstart',_0x41b28d=>{const _0x3314b7=_0x5e8eac,_0x747594=_0x41b28d['target']['closest'](_0x3314b7(0x510));_0x747594&&_0x747594[_0x3314b7(0x298)]['add']('opacity-50');}),projectList['addEventListener']('dragend',_0x307c93=>{const _0x1d5b43=_0x5e8eac,_0x5413d7=_0x307c93[_0x1d5b43(0x8be)][_0x1d5b43(0x2b1)](_0x1d5b43(0x510));_0x5413d7&&_0x5413d7[_0x1d5b43(0x298)][_0x1d5b43(0x514)](_0x1d5b43(0x34e));}),projectList['addEventListener']('dragover',_0x422d2e=>{const _0x392692=_0x5e8eac;_0x422d2e[_0x392692(0x6ba)]();const _0x408425=document[_0x392692(0x2cf)](_0x392692(0x16d));if(!_0x408425)return;const _0x4b8db6=getDragAfterElement(projectList,_0x422d2e[_0x392692(0x76a)]);_0x4b8db6==null?projectList[_0x392692(0x38d)](_0x408425):projectList['insertBefore'](_0x408425,_0x4b8db6);}),projectList['addEventListener']('drop',_0x225658=>{const _0x3037d7=_0x5e8eac;_0x225658[_0x3037d7(0x6ba)]();const _0x52c53f=[...projectList[_0x3037d7(0x2eb)]('.project-card-container[data-id]')][_0x3037d7(0x530)](_0x5832ed=>_0x5832ed['dataset']['id']);saveProjectOrder(_0x52c53f);});function renderBehaviorLog(_0x5c48e1){const _0x445475=_0x5e8eac,_0x36ca07=document['getElementById'](_0x445475(0x473));if(!_0x36ca07)return;const _0x5aa90d=_0x5c48e1['filter'](_0x1a0fdf=>_0x1a0fdf[_0x445475(0x4a9)]&&_0x1a0fdf[_0x445475(0x4a9)][_0x445475(0x2d2)]>0x0);if(_0x5aa90d[_0x445475(0x2d2)]===0x0){_0x36ca07[_0x445475(0x536)]=_0x445475(0x692);return;}let _0x8f1af1='';_0x5aa90d[_0x445475(0x8de)](_0x167ded=>{const _0x5d725a=_0x445475;_0x8f1af1+=_0x5d725a(0x23f)+_0x167ded[_0x5d725a(0x845)]+_0x5d725a(0x625),_0x167ded['behaviorLog'][_0x5d725a(0x163)]((_0x5ee195,_0x387a1a)=>new Date(_0x387a1a[_0x5d725a(0x6ae)])-new Date(_0x5ee195[_0x5d725a(0x6ae)]))[_0x5d725a(0x8de)](_0x205d5e=>{const _0x31f2b1=_0x5d725a,_0x10c7a3=new Date(_0x205d5e[_0x31f2b1(0x6ae)])[_0x31f2b1(0x448)]('th-TH',{'dateStyle':_0x31f2b1(0x261),'timeStyle':_0x31f2b1(0x20e)});_0x8f1af1+=_0x31f2b1(0x556)+_0x205d5e['attemptNumber']+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0x10c7a3+_0x31f2b1(0x504);}),_0x8f1af1+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x36ca07[_0x445475(0x536)]=_0x8f1af1;}function getDragAfterElement(_0x4e2487,_0x29d64a){const _0x1b1d02=_0x5e8eac,_0x5dbe8e=[..._0x4e2487[_0x1b1d02(0x2eb)]('.project-card-container:not(.opacity-50)')];return _0x5dbe8e[_0x1b1d02(0x1d6)]((_0xde0b47,_0x107214)=>{const _0x1a82f2=_0x1b1d02,_0x280274=_0x107214[_0x1a82f2(0x810)](),_0x19f9f2=_0x29d64a-_0x280274[_0x1a82f2(0x5f9)]-_0x280274[_0x1a82f2(0x382)]/0x2;return _0x19f9f2<0x0&&_0x19f9f2>_0xde0b47[_0x1a82f2(0x7f3)]?{'offset':_0x19f9f2,'element':_0x107214}:_0xde0b47;},{'offset':Number['NEGATIVE_INFINITY']})['element'];}async function saveProjectOrder(_0x545a33){const _0x5a6894=_0x5e8eac,_0x9d13d6=doc(db,'globalSettings','dashboardConfig');try{await setDoc(_0x9d13d6,{'projectOrder':_0x545a33},{'merge':!![]});}catch(_0x3c0e0d){console[_0x5a6894(0x2a9)](_0x5a6894(0x52d),_0x3c0e0d),showMessage(_0x5a6894(0x137));}}async function logBehaviorEvent(_0x2f633f,_0x545874={}){const _0x2f3746=_0x5e8eac;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x2f3746(0x5a0)](_0x2f3746(0x21b));return;}const _0x31b81f=doc(db,_0x2f3746(0x705)+appId+_0x2f3746(0x736)+currentQuizData['id']+_0x2f3746(0x23e),currentStudentName),_0x2b54e8={'event':_0x2f633f,'timestamp':new Date()[_0x2f3746(0x550)](),..._0x545874};try{await updateDoc(_0x31b81f,{'behaviorLog':arrayUnion(_0x2b54e8)}),console[_0x2f3746(0x902)](_0x2f3746(0x1d8)+currentStudentName+_0x2f3746(0x51b));}catch(_0x11c97c){_0x11c97c[_0x2f3746(0x856)]===_0x2f3746(0x809)?console[_0x2f3746(0x5a0)](_0x2f3746(0x6c3)+currentStudentName+_0x2f3746(0x706)):console[_0x2f3746(0x2a9)](_0x2f3746(0x858),_0x11c97c);}}function calculateMeanAndStdDev(_0x35f57e){const _0x34c56e=_0x5e8eac;if(_0x35f57e['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x4b508b=_0x35f57e['reduce']((_0x38b0b7,_0x355f28)=>_0x38b0b7+_0x355f28,0x0)/_0x35f57e[_0x34c56e(0x2d2)];if(_0x35f57e[_0x34c56e(0x2d2)]===0x1)return{'mean':_0x4b508b,'stdDev':0x0};const _0x593474=Math[_0x34c56e(0x1fc)](_0x35f57e['map'](_0x20d5d1=>Math[_0x34c56e(0x2ca)](_0x20d5d1-_0x4b508b,0x2))['reduce']((_0x3f2fbc,_0x3fb37f)=>_0x3f2fbc+_0x3fb37f,0x0)/(_0x35f57e[_0x34c56e(0x2d2)]-0x1));return{'mean':_0x4b508b,'stdDev':_0x593474};}function calculateZScore(_0x2923ef,_0x8f2fb,_0x36ec11){if(_0x36ec11===0x0)return 0x0;return(_0x2923ef-_0x8f2fb)/_0x36ec11;}function calculateTScore(_0x929ae2){return 0xa*_0x929ae2+0x32;}function showStarredProjectView(){const _0x4fd80e=_0x5e8eac;currentProjectId='starred',currentProjectData=null,projectTitle['textContent']=_0x4fd80e(0x627),projectIdDisplay['textContent']=_0x4fd80e(0x314),showView(_0x4fd80e(0x178)),manageTab[_0x4fd80e(0x298)][_0x4fd80e(0x36a)](_0x4fd80e(0x28b)),leaderboardTab['classList'][_0x4fd80e(0x36a)](_0x4fd80e(0x28b)),switchProjectTab(_0x4fd80e(0x84f)),renderQuizzes();}async function loadProjectDetails(_0x56fca6){const _0x491b4f=_0x5e8eac,_0x437e14=doc(db,_0x491b4f(0x705)+appId+_0x491b4f(0x1a6),_0x56fca6),_0x377952=await getDoc(_0x437e14);if(_0x377952['exists']()){manageTab[_0x491b4f(0x298)][_0x491b4f(0x514)]('hidden'),leaderboardTab[_0x491b4f(0x298)][_0x491b4f(0x514)](_0x491b4f(0x28b)),currentProjectData=_0x377952[_0x491b4f(0x4b3)](),projectTitle[_0x491b4f(0x4ca)]=currentProjectData[_0x491b4f(0x134)],projectIdDisplay[_0x491b4f(0x4ca)]=_0x56fca6;const _0x4b265a=currentProjectData[_0x491b4f(0x248)]||{};document['getElementById'](_0x491b4f(0x578))[_0x491b4f(0x3e5)]=_0x4b265a[_0x491b4f(0x227)]||_0x491b4f(0x41e);const _0x4dd8e1=document['getElementById'](_0x491b4f(0x772));_0x4dd8e1[_0x491b4f(0x1d1)]=_0x4b265a['showInStudentDashboard']!==![];const _0x1414e6=document[_0x491b4f(0x839)](_0x491b4f(0x6f7)),_0xf4fc43=document[_0x491b4f(0x839)](_0x491b4f(0x4f0)),_0x5ad0a2=document[_0x491b4f(0x839)]('project-passcode-input'),_0x228b6f=_0x4b265a[_0x491b4f(0x8b3)]||![];_0x1414e6[_0x491b4f(0x1d1)]=_0x228b6f,_0x5ad0a2[_0x491b4f(0x3e5)]=_0x4b265a['passcode']||'',_0xf4fc43[_0x491b4f(0x298)][_0x491b4f(0x8d2)]('hidden',!_0x228b6f),_0x1414e6[_0x491b4f(0x4ba)]=()=>{const _0x8c2f92=_0x491b4f;_0xf4fc43[_0x8c2f92(0x298)]['toggle']('hidden',!_0x1414e6[_0x8c2f92(0x1d1)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x56fca6),listenForProjectQuizzes(_0x56fca6),listenForStudentProfiles(_0x56fca6);}else showMessage('ไม่พบโปรเจค'),showView(_0x491b4f(0x686));}async function handleResetProjectOrder(){const _0x3d9c32=_0x5e8eac,_0x5973b1=doc(db,_0x3d9c32(0x4b6),_0x3d9c32(0x80f));try{await setDoc(_0x5973b1,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x3d9c32(0x6e2));}catch(_0x195e8e){console[_0x3d9c32(0x2a9)](_0x3d9c32(0x7e7),_0x195e8e),showMessage(_0x3d9c32(0x7eb));}}async function handleTogglePinProject(_0x3f836b){const _0x5a1af1=_0x5e8eac;if(!_0x3f836b)return;const _0x5c63dd=doc(db,_0x5a1af1(0x705)+appId+_0x5a1af1(0x1a6),_0x3f836b);try{const _0x2ace0b=await getDoc(_0x5c63dd);if(_0x2ace0b[_0x5a1af1(0x15e)]()){const _0x4ec2b7=_0x2ace0b['data']()[_0x5a1af1(0x879)]||![];await updateDoc(_0x5c63dd,{'isPinned':!_0x4ec2b7});}}catch(_0x3f6c52){console[_0x5a1af1(0x2a9)](_0x5a1af1(0x309),_0x3f6c52),showMessage(_0x5a1af1(0x28d));}}async function handleDeleteProject(_0x3c912c){const _0x572967=_0x5e8eac;try{const _0x6192be=writeBatch(db),_0x478bae=collection(db,_0x572967(0x705)+appId+_0x572967(0x780)),_0x288ad8=query(_0x478bae,where(_0x572967(0x1cb),'==',_0x3c912c)),_0x530d34=await getDocs(_0x288ad8);for(const _0x11908f of _0x530d34[_0x572967(0x42d)]){const _0x1a3496=collection(db,'artifacts/'+appId+_0x572967(0x736)+_0x11908f['id']+_0x572967(0x23e)),_0x49534c=await getDocs(_0x1a3496);_0x49534c[_0x572967(0x8de)](_0x5cb6f9=>{const _0x280dd2=_0x572967;_0x6192be['delete'](_0x5cb6f9[_0x280dd2(0x71b)]);}),_0x6192be[_0x572967(0x659)](_0x11908f[_0x572967(0x71b)]);}const _0x49f7bf=collection(db,_0x572967(0x705)+appId+'/public/data/projects/'+_0x3c912c+_0x572967(0x2de)),_0x19d4f4=await getDocs(_0x49f7bf);_0x19d4f4[_0x572967(0x8de)](_0x25d8a9=>{const _0x309414=_0x572967;_0x6192be[_0x309414(0x659)](_0x25d8a9['ref']);});const _0x1b8c72=doc(db,_0x572967(0x705)+appId+'/public/data/projects',_0x3c912c);_0x6192be[_0x572967(0x659)](_0x1b8c72),await _0x6192be[_0x572967(0x167)](),showMessage(_0x572967(0x5c9)),showView(_0x572967(0x686));}catch(_0x4ef1e3){console['error'](_0x572967(0x5ee),_0x4ef1e3),showMessage(_0x572967(0x426));}}document[_0x5e8eac(0x839)]('save-settings-btn')[_0x5e8eac(0x2da)](_0x5e8eac(0x3b0),async()=>{const _0x2f4824=_0x5e8eac;if(!currentProjectId)return;const _0x3fcbf9={'defaultNumQuestions':parseInt(document[_0x2f4824(0x839)](_0x2f4824(0x1f0))[_0x2f4824(0x3e5)]),'defaultNumChoices':parseInt(document['getElementById'](_0x2f4824(0x55e))['value']),'defaultPassingScore':parseInt(document[_0x2f4824(0x839)](_0x2f4824(0x723))[_0x2f4824(0x3e5)]),'resultsDisplay':document[_0x2f4824(0x839)](_0x2f4824(0x787))[_0x2f4824(0x3e5)],'shuffleSetting':document[_0x2f4824(0x839)](_0x2f4824(0x578))[_0x2f4824(0x3e5)],'timerMode':document['getElementById']('timer-mode-select')[_0x2f4824(0x3e5)],'timerDuration':parseInt(document['getElementById'](_0x2f4824(0x234))[_0x2f4824(0x3e5)])};try{const _0x24f1da=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x24f1da,{'settings':_0x3fcbf9}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x2068fd){console[_0x2f4824(0x2a9)](_0x2f4824(0x6f8),_0x2068fd),showMessage(_0x2f4824(0x6f1));}});function listenForStudents(_0x1e035f){const _0xb623af=_0x5e8eac,_0x504238=doc(db,_0xb623af(0x705)+appId+_0xb623af(0x1a6),_0x1e035f);unsubscribeStudentsListener=onSnapshot(_0x504238,_0x50f204=>{const _0x8b9a99=_0xb623af;if(_0x50f204[_0x8b9a99(0x15e)]()){const _0x3a75da=_0x50f204[_0x8b9a99(0x4b3)]();currentProjectData=_0x3a75da,renderStudentList(_0x3a75da[_0x8b9a99(0x221)]||[]);}});}function renderStudentList(_0x49713a){const _0x2955bd=_0x5e8eac,_0x41da4d=document[_0x2955bd(0x839)](_0x2955bd(0x918));_0x49713a[_0x2955bd(0x2d2)]===0x0?(studentList[_0x2955bd(0x536)]=_0x2955bd(0x637),_0x41da4d[_0x2955bd(0x298)][_0x2955bd(0x36a)]('hidden')):(studentList[_0x2955bd(0x536)]=_0x49713a['map'](_0x34eb4f=>_0x2955bd(0x33c)+_0x34eb4f+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x34eb4f+_0x2955bd(0x26d))[_0x2955bd(0x4b4)](''),_0x41da4d[_0x2955bd(0x298)][_0x2955bd(0x514)](_0x2955bd(0x28b)));}document[_0x5e8eac(0x839)](_0x5e8eac(0x3e0))[_0x5e8eac(0x2da)](_0x5e8eac(0x3b0),async()=>{const _0x20afc9=_0x5e8eac;if(!currentProjectId)return;const _0x41bafb=document[_0x20afc9(0x839)](_0x20afc9(0x402)),_0xe0776c=_0x41bafb[_0x20afc9(0x3e5)][_0x20afc9(0x3dd)]();if(!_0xe0776c){showMessage(_0x20afc9(0x202));return;}const _0x55ab73=_0xe0776c['split']('\x0a')['map'](_0x18db81=>_0x18db81[_0x20afc9(0x3dd)]())[_0x20afc9(0x579)](_0x4f7b6f=>_0x4f7b6f);if(_0x55ab73[_0x20afc9(0x2d2)]===0x0)return;try{const _0x495a93=doc(db,_0x20afc9(0x705)+appId+_0x20afc9(0x1a6),currentProjectId),_0x2c1ee4=await getDoc(_0x495a93);if(_0x2c1ee4['exists']()){const _0x2e0159=_0x2c1ee4['data']()[_0x20afc9(0x221)]||[],_0x2a17fc=[...new Set([..._0x2e0159,..._0x55ab73])];await updateDoc(_0x495a93,{'students':_0x2a17fc}),_0x41bafb[_0x20afc9(0x3e5)]='';}}catch(_0x2683dc){console[_0x20afc9(0x2a9)](_0x20afc9(0x862),_0x2683dc),showMessage(_0x20afc9(0x626));}});async function handleManualQuizPairing(_0x468a01){const _0xaa0a04=_0x5e8eac,_0x2e11a3=document[_0xaa0a04(0x839)]('move-quiz-modal'),_0x3d9a71=document[_0xaa0a04(0x839)](_0xaa0a04(0x30a)),_0x42b735=_0x2e11a3[_0xaa0a04(0x2cf)]('h3'),_0x2e2b7d=document['getElementById'](_0xaa0a04(0x2d6)),_0x303e99=document[_0xaa0a04(0x839)](_0xaa0a04(0x533));_0x42b735['textContent']='จับคู่เพื่อเปรียบเทียบผล',_0x3d9a71[_0xaa0a04(0x536)]='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x2e2b7d[_0xaa0a04(0x4ca)]=_0xaa0a04(0x598),_0x2e11a3[_0xaa0a04(0x298)][_0xaa0a04(0x514)](_0xaa0a04(0x28b));const _0x3ef36c=allQuizzes[_0xaa0a04(0x579)](_0x514cc9=>_0x514cc9['id']!==_0x468a01);_0x3ef36c[_0xaa0a04(0x2d2)]===0x0?(_0x3d9a71[_0xaa0a04(0x536)]=_0xaa0a04(0x83d),_0x2e2b7d[_0xaa0a04(0x4d1)]=!![]):(_0x3d9a71[_0xaa0a04(0x536)]=_0xaa0a04(0x405)+_0x3ef36c['map'](_0xc6a6c6=>_0xaa0a04(0x7fa)+_0xc6a6c6['id']+'\x22>'+_0xc6a6c6[_0xaa0a04(0x1bf)]+_0xaa0a04(0x277))['join'](''),_0x2e2b7d[_0xaa0a04(0x4d1)]=![]);const _0xc79e5a=async()=>{const _0x2173c8=_0xaa0a04,_0x3bc198=_0x3d9a71[_0x2173c8(0x3e5)];if(!_0x3bc198){showMessage(_0x2173c8(0x328));return;}_0x2e2b7d[_0x2173c8(0x4d1)]=!![],_0x2e2b7d[_0x2173c8(0x4ca)]='กำลังจับคู่...';try{const _0x296431=doc(db,_0x2173c8(0x705)+appId+_0x2173c8(0x780),_0x468a01),_0x30934e=doc(db,'artifacts/'+appId+_0x2173c8(0x780),_0x3bc198),_0x5d594f=writeBatch(db);_0x5d594f['update'](_0x296431,{'pairedQuizId':_0x3bc198}),_0x5d594f[_0x2173c8(0x819)](_0x30934e,{'pairedQuizId':_0x468a01}),await _0x5d594f[_0x2173c8(0x167)](),showMessage(_0x2173c8(0x70d)),_0x2e11a3[_0x2173c8(0x298)][_0x2173c8(0x36a)](_0x2173c8(0x28b));}catch(_0x4a09ad){console['error'](_0x2173c8(0x8c4),_0x4a09ad),showMessage(_0x2173c8(0x8c8));}finally{_0x42b735[_0x2173c8(0x4ca)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x2e2b7d['textContent']=_0x2173c8(0x708),_0x2e2b7d[_0x2173c8(0x4d1)]=![],_0x2e2b7d['removeEventListener'](_0x2173c8(0x3b0),_0xc79e5a),_0x303e99[_0x2173c8(0x573)](_0x2173c8(0x3b0),_0x4de277);}},_0x4de277=()=>{const _0x43f13e=_0xaa0a04;_0x2e11a3[_0x43f13e(0x298)][_0x43f13e(0x36a)]('hidden'),_0x42b735[_0x43f13e(0x4ca)]=_0x43f13e(0x703),_0x2e2b7d[_0x43f13e(0x4ca)]='ย้าย',_0x2e2b7d[_0x43f13e(0x573)]('click',_0xc79e5a),_0x303e99[_0x43f13e(0x573)](_0x43f13e(0x3b0),_0x4de277);};_0x2e2b7d['addEventListener'](_0xaa0a04(0x3b0),_0xc79e5a),_0x303e99[_0xaa0a04(0x2da)](_0xaa0a04(0x3b0),_0x4de277);}function handleDeleteStudent(_0x1b6fbb){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x1b6fbb+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0x597387=_0x45d9;if(!currentProjectId||!currentProjectData)return;const _0x423d24=currentProjectData['students'][_0x597387(0x579)](_0xf2191c=>_0xf2191c!==_0x1b6fbb);try{const _0x1c7fe5=doc(db,'artifacts/'+appId+_0x597387(0x1a6),currentProjectId),_0x27e00e=doc(db,_0x597387(0x705)+appId+_0x597387(0x49a)+currentProjectId+_0x597387(0x2de),_0x1b6fbb),_0x5678b1=writeBatch(db);_0x5678b1[_0x597387(0x819)](_0x1c7fe5,{'students':_0x423d24}),_0x5678b1[_0x597387(0x659)](_0x27e00e),await _0x5678b1[_0x597387(0x167)]();}catch(_0x572ba2){console[_0x597387(0x2a9)](_0x597387(0x4f3),_0x572ba2),showMessage(_0x597387(0x32b));}});}function _0x5911(){const _0x1fc04a=['.project-card-content','อัตราการเปลี่ยนแปลงทันที','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analytics','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','flex\x20flex-col\x20gap-2','attempts','push','รูปสแควร์รูท\x20(surd)','ownerSVGElement','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','mousemove','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','div[data-question-index=\x22','Error\x20unpairing\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การหารเศษส่วน','practice-topic-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','imageCode','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','แคลคูลัสเบื้องต้น','isPasscodeEnabled','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20toggling\x20star\x20status:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','doughnut','Error\x20comparing\x20results:','export-leaderboard-word-btn','เกิดข้อผิดพลาดในการนำผู้เล่นออก','รูปสี่เหลี่ยมและสมบัติ','</td></tr>','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','target','answer-counter','show_results_and_answers','การคูณทศนิยม','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','สู้ๆ\x20ลองอีกครั้งนะ','Error\x20pairing\x20quizzes:','fa-user-astronaut\x20text-blue-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','endTime','เกิดข้อผิดพลาดในการจับคู่','post-test','bg-purple-50','Error\x20updating\x20project\x20name:','text-red-500\x20hover:text-red-700','raw','การแปลงรูปอัตลักษณ์','เส้นตรง:\x20รูปแบบสมการ','grid-view-btn','questionDisplayedAt','toggle','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','generated-quiz-container','blockReason','focus','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','เรขาคณิต','nickname-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','check-presentation-answer-btn','fullscreenElement','forEach','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','contains','ปริพันธ์จำกัด','ค่าความจริง/ตารางค่าความจริง','results_','rgba(79,\x2070,\x20229,\x200.8)','list-view-btn','standardTopic','เรขาคณิตวิเคราะห์','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','การบวกเศษส่วน','adaptive-quiz-checkbox','open-global-live-btn','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','<div\x20class=\x22loader\x20mx-auto\x22></div>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','correctAnswerIndex','export-pdf-btn','.question-editor-item[data-q-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','whole_quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','date_asc','key','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','\x5ctimes','parseFromString','originalTopic','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','\x22\x20name=\x22question','scores-tab-btn','2568531hPwZmv','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','log','mouseup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.verification-result-editor','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','pre-test','ฟังก์ชันพหุนาม','helvetica','comparison-individual-content','confirmation-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','Error\x20fetching\x20quiz\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','ยังไม่ส่ง','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','name','scrollY','อุณหภูมิและการแปลง','Error\x20generating\x20quiz:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','localeCompare','delete-all-students-btn','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','text-green-800','\x20ชุดสำเร็จ!','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','ai-quiz-app-aefee.appspot.com','manual_release','bank-input-area','Error\x20opening\x20quiz\x20editor:','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','_opt1\x22>ไม่ใช่</label></div>','ท็อปฟอร์ม','การบวกทศนิยม','perfect_score_status','back-to-home-manual-release','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','results-table','Error\x20saving\x20submission:','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','ผลรวมอนุกรม\x20(Σ)','Error\x20generating\x20parallel\x20post-test:','math-topic-search-input','ai-quiz-generator-v3','.verification-result','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','submittedAt','เกิดข้อผิดพลาดในการอัปเดตแบบทดสอบทั้งหมด','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','projectName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','text-gray-200','เกิดข้อผิดพลาดในการบันทึกลำดับ','รูปแบบการให้เหตุผล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','link-tab','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','student-progress-content','$1_{$2}','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','</div>','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','สมการลอการิทึม','</td>','เกิดข้อผิดพลาดในการโหลดโปรเจค','Error\x20verifying\x20answers\x20in\x20editor:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','[data-topic-container-id]','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','clientX','หมดเวลา!\x20กำลังส่งคำตอบ...','mixed','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.score','circ','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','<span\x20class=\x22font-bold\x20','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','readAsDataURL','results-quiz-title','ระบบสมการเชิงเส้นสองตัวแปร','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คณิตการเงิน/บูรณาการ','exists','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','ผู้ควบคุม\x20(ทดสอบ)','เวกเตอร์และเมทริกซ์\x20(เสริม)','perseverance','sort','/users/','question','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','commit','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#DBEAFE','projectView','.project-card-container.opacity-50','.delete-quiz-btn','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','webkitRequestFullscreen','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','preTestId','พอใช้','json','quiz-results','setFont','project-detail','drill-feedback','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reference-pdf-upload','ยืนยันการกระทำ','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่ผ่าน','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','เมทริกซ์:\x20บวก/คูณ','strength-weakness-analysis-container','matching_item','promise','rename-quiz-input','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','คะแนนเต็ม!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','มุมพิเศษ\x2030°-60°-90°','document','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','schedule','ring-purple-400','workerSrc','Error\x20saving\x20quiz:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','deg','Invalid\x20response\x20structure\x20from\x20AI.','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','random','select','ตรีโกณมิติ','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','upperGroupNames','str','แก้ไขหัวข้อสำเร็จ','บันทึกการตั้งค่าการแสดงผลสำเร็จ','ผิด','keys','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','per-question-text','floor','index','ค่าเสื่อมราคา','copy','get','/public/data/projects','ทศนิยม\x20(ค่าประจำหลัก)','selected-topics-count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','inactive','sin','ลำดับเรขาคณิต\x20(GP)','FIRST_TRY_ACE','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','.delete-svg-btn','\x20ช่อง','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','ฟังก์ชันยกกำลัง','.admin-try-quiz-list-btn','touchcancel','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','round','bg-green-100\x20font-bold','ลิมิต','topic','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','border-green-300\x20bg-green-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-200\x20text-red-800','results-table-container','load-quiz-btn','viewBox','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','webkitExitFullscreen','Error\x20deleting\x20all\x20students:','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','projectId','อสมการเชิงเส้น','ตั้งเวลา\x20(เปิด)','export-pdf-modal','quiz-generation-area','text-indigo-600','checked','back-to-dashboard-btn','createObjectURL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student','reduce','verify-answers-btn','อัปเดตพฤติกรรมสำหรับ\x20','bestScore','ระยะทางและจุดกึ่งกลาง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','```','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','shuffledQuiz','text/csv;charset=utf-8;','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','manage-players-btn','size','.regenerate-question-editor-btn','quiz-results-table-body','create-project-btn','admin','replace','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','confirm-quiz-settings-btn','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','body','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','link-topic-input','num-questions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analytics-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ก่อนเรียน','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','afterend','files','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','sqrt','Error\x20updating\x20project\x20color:','พิสัย','\x22\x20value=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','กรุณาใส่ชื่อนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','N/A','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-lesson-pdf-btn','#FEF3C7','student-passcode-input','input[type=\x22text\x22]','badges','ดีมาก','MathJax','input[type=\x22checkbox\x22]:checked','medium','#student-quiz-leaderboard-content\x20thead','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','\x20mx-1\x20text-lg\x22></i></span>','ไม่สามารถโหลดรายการโปรเจคได้','<div><input\x20type=\x22radio\x22\x20id=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','suggestedAnswer','จากเนื้อหาต่อไปนี้:\x20\x22','.quiz-bank-settings-btn','bank-tab','tan','ฟังก์ชันสัมพัทธ์\x20(rational)','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','generate-from-file-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','cloneNode','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','students','ดอกเบี้ยอย่างง่าย','.answeredCurrentQuestion','timer-mode-select','per-question-timer-container','rgba(79,\x2070,\x20229,\x201)','shuffleSetting','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ไม่พบตารางสำหรับ\x20Export','เกิดข้อผิดพลาดในการสร้างใบงาน','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','toDataURL','\x20ตัวเลือก.\x20','leaderboard-table-body','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','request',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','timer-duration-input','ความชันเส้นสัมผัส','scores-tab-content','neq','/public/data/practiceBank','width','#e21b3c','admin-password-input','%</span>','\x22\x20class=\x22color-palette-btn\x20','/submissions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','bottom','NUMBER','ความน่าจะเป็นแบบมีเงื่อนไข','ทฤษฎีบทพื้นฐานของแคลคูลัส','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','อสมการค่าสัมบูรณ์','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','settings','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','max','<div\x20id=\x22q-image-container-','Error\x20fetching\x20quiz\x20settings:','ลบแบบทดสอบสำเร็จแล้ว','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<li\x20class=\x22','project-passcode-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบผลสอบ','confirm-quiz-status-btn','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','comparison-overall-tab','isRemedial','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','.live-answer-btn,\x20#live-submit-short-answer-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','next-question-timed-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','close-comparison-modal-btn','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','short','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','presentation-slide-container','textarea','fill_in_the_blank','user','back-to-student-initial-btn','ฮิสโตแกรม','\x22><p\x20class=\x22font-semibold\x22>','text-green-700','ตรวจทานเฉลยเสร็จสิ้น!','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(ก่อนเรียน)','comparison-modal','export-leaderboard-pdf-btn','ปิดใช้งาน','คะแนนเฉลี่ย','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','cancel-rename-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</option>','\x22.\x20','คะแนนเต็ม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','fixed','close-lesson-plan-modal-footer-btn','password-error-msg','#ffffff','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isArray','save-visibility-settings-btn','move','text-red-900','\x20หัวข้อ)','exitFullscreen','admin-testing','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','</h3>','<tr\x20class=\x22','hidden','ไม่พบแบบทดสอบ','เกิดข้อผิดพลาดในการปักหมุด','</span>','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','check-answer-btn','Error\x20processing\x20file\x20for\x20AI:','wakeLock','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','getContext','<br>','classList','modal-adaptive-quiz-checkbox','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','presentation-explanation','\x22\x20data-q-type=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','button[type=\x22submit\x22]','1:274192258111:web:4120c9118229b5644dd48a','badgesCount','close-student-rankings-btn','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ฐานนิยม','ความแปรปรวน','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','error','presentation-short-answer-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความต่อเนื่อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-quiz-tab-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','closest','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','answer','เกิดข้อผิดพลาดในการอัปเดตสถานะ','Error\x20listening\x20for\x20student\x20profiles:','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','การกระจายและการจัดหมู่','Failed\x20to\x20get\x20hint:','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','\x22\x20ให้เป็นคำถามประเภท\x20\x22','bg-green-200\x20text-green-800','student-progress-view','ข้อ\x20','answerText','จำนวนและการดำเนินการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','รากที่สองและที่สาม','questionStatus','%;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-center\x20font-semibold\x20p-2\x20rounded-b-lg\x20text-white\x22\x20style=\x22background-color:\x20','analytics-summary-cards','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','keyup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','มุมและการวัดมุม','STRING','pow','หมดเวลาสำหรับข้อนี้!','gamePin','พื้นที่วงกลม/ส่วนของวงกลม','topic-input','querySelector','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','score','length','cancel-quiz-edits-btn-footer','<option>กำลังโหลดโปรเจค...</option>','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-move-quiz-btn','.sort-indicator','.quiz-bank-item','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','addEventListener','.draggable-text','type','</p></div>','/studentProfiles','1794684aSfqfA','text-indigo-700','^{\x5ccirc}\x5ctext{C}$','entries','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','editable-quiz-topic','กราฟแท่ง\x20กราฟเส้น','quiz-end-time','documentElement','parallel-test-tab','export-worksheet-pdf-btn','correct','querySelectorAll','totalQuestions','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Error\x20generating\x20worksheet:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-50','</button>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','สเกลและแผนที่','fa-fire\x20text-orange-500','คณิตศาสตร์','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','ปรับเพิ่ม/ลดเป็นร้อยละ','อนุพันธ์:\x20กฎลูกโซ่','export-tutor-pdf-btn','starred','ไม่มี','file-tab','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','both','add-custom-math-topic-btn','แบบเติมคำตอบ','lowerGroupResponders','input[name=\x22status-option\x22]:checked','removeAttribute','border-gray-200','\x20ครั้ง)</span></td>','Error\x20toggling\x20pin\x20status:','move-quiz-project-select','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','questions_only','การวัด','quiz-form','.status','สมการเชิงเส้นตัวแปรเดียว','หน่วยความยาวและการแปลง','.color-palette-popup','เกิดข้อผิดพลาด:\x20','pinned-items','หน่วยเวลาและการคำนวณเวลา','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','การเรียงสับเปลี่ยน\x20(Permutation)','project-list','Error\x20verifying\x20answers:','\x22\x20data-name=\x22','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','choices_only','presentation-ai-result','upper_group_count','blueprint-upload-input','$1\x20\x5cfrac','Error\x20generating\x20from\x20parallel\x20test\x20file:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','toLocaleDateString','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','Error\x20adding\x20custom\x20topic:','อัปเดตการตั้งค่าของแบบทดสอบ\x20','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','เกี่ยวกับหัวข้อ\x20\x22','confirm-bulk-quiz-settings-btn','เกิดข้อผิดพลาดในการลบนักเรียน','#FCE7F3','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','.correct-response-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','Error\x20updating\x20quiz\x20settings:','bulk-shuffle-select','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','findIndex','สลับไปโหมดผู้ควบคุม','confirm-delete-btn','manage','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','link-url-input','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','พื้นที่สามเหลี่ยม','manage-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','preScore','mousedown','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','.quiz-bank-delete-btn','createElement','fas\x20fa-star\x20text-yellow-500','ถูกต้อง!','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','text-red-700','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','leaderboard-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','data:application/vnd.ms-word;charset=utf-8,','ตรวจพบการออกจากหน้าจอครบ\x20','ไม่ใช่','opacity-50','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','.quiz-bank-move-btn','quizMode','สุดยอด!\x20ตอบถูกทุกข้อ','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','quiz-bank-modal','bg-blue-100','เกิดข้อผิดพลาดในการสร้างห้องเกม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','MathJax\x20typeset\x20error\x20(analytics):','ชื่อโปรเจคห้ามว่าง','$1\x5ctext(','student-view','comparison','สามเหลี่ยม\x20(ชนิด/สมบัติ)','bg-red-100','text-gray-500','color','hint-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','ข้อที่\x20','4385yhVXzU','project-id-display','add','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','result','close-game-final-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr>','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ลบผลสอบของ\x20','3509130vHcsqV','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','items','ทำคะแนนเต็มในการทำครั้งแรก','min','modal-loop-until-pass-checkbox','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','th-TH','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','quiz-editor-modal','.export-pdf-list-btn','display','delete-svg-btn','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','quiz-start-time','height','พิมพ์ตอบ','Error\x20updating\x20custom\x20topic:','write','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','file-topic-input','การลบทศนิยม','#FFFFFF','active','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','appendChild','</tr>','close-lesson-plan-modal-btn','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt','project-title','bg-amber-100\x20text-amber-800','_blank','quiz-editor-questions-container','times','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','reveal-answer-btn','onerror','ทฤษฎีทวินาม\x20(เบื้องต้น)','confirm-rename-quiz-btn','offsetWidth','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','loader','ON_FIRE','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','global-quiz-list','jspdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','text-green-700\x20bg-green-100','Error\x20deleting\x20submission:','short_answer','flex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','อัตราส่วนและสัดส่วน','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x0a\x20\x20\x20\x20','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','click','button','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','แบบทดสอบซ่อมเสริม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','ระบบอสมการ','results-tab-content','<li>','\x5cneq','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','</span></div>','href','Error\x20duplicating\x20quiz:','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','timerMode','upperGroupResponders','คัดลอกรหัสแล้ว!','option','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','ส่งแล้ว','.presentation-option','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','PERSEVERANCE','#888','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x20mr-2\x22></i>','visibilitychange','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','force-math-checkbox','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','text-gray-700','ข้อต่อไป','prev-question-btn','learningGaps','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','trim','setAttribute','กรุณาป้อนหัวข้อสำหรับใบงาน','add-student-btn','ยังไม่มีนักเรียนส่งงาน','.delete-custom-topic-btn','องค์ประกอบของฟังก์ชัน','setAttributeNS','value','toFixed','http://www.w3.org/2000/svg','getItem','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','จำนวนข้อ:','export-excel-btn','ความคล้ายของรูป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','questions','/public/data/customMathTopics','stem','startsWith','\x22>ใช่</p>','จัดการ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','ร้อยละประยุกต์','text-red-700\x20bg-red-100','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','summary_chart','normal','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','answers','cancel-quiz-edits-btn','student-name-input','cos','คำเตือน\x20(','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','การคูณเศษส่วน','retake-quiz-loop-btn','date_desc','passcode-error-msg','mouseleave','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','question-complexity-select','\x22\x20สำเร็จ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-rocket\x20text-purple-500','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','.save-to-bank-btn','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','bg-green-100\x20text-green-800','interesting-stats-wrapper','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','ค่าคลาดเคลื่อนของการวัด','qType','hint','\x22\x20class=\x22delete-project-btn\x20','function','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','none','shuffle','verify-answers-editor-btn','<div\x20class=\x22my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','global-live-game-count','เกิดข้อผิดพลาดในการลบโปรเจค','on_fire','student-quiz-leaderboard-table-body','cancel-quiz-status-btn','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','ฟังก์ชันราก\x20(root)','docs','<span\x20title=\x22','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','show_results_only','modal-timer-mode-select','.sortable-header','#FEE2E2','project-dashboard-view','<p\x20class=\x22','.topic-name-display','className','Re-grade\x20process\x20failed:','autoTable','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','string','editable-text-','export-leaderboard-image-btn','show_pass_fail_only','กรุณาเลือกคำตอบก่อนครับ','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','leaderboard','status','student-initial-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','สมการเหตุผล\x20(rational)','เงินงวด\x20(อนุกรมเงินงวด)','toLocaleString','modal-timer-duration-input','cancel-quiz-settings-btn','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','div','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','approx','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','destroy','การหาร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทฤษฎีบทพีทาโกรัสและการประยุกต์','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','fill_in_with_choices','button[data-id]','Error\x20during\x20bulk\x20quiz\x20settings\x20update:','ฟังก์ชันผกผัน','quiz-schedule-start-container','Invalid\x20response\x20structure\x20from\x20AI:','สร้างชุดคำถามจับคู่','innerText','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getScreenCTM','อัปเดตสถานะสำเร็จ','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','\x22>ไม่ใช่</p>','ค่าสัมบูรณ์','copy-quiz-id-btn','สร้างคำถามใหม่\x201\x20ข้อ\x20','คัดลอกแบบทดสอบสำเร็จ','\x20ข้อ\x20','auto','student-project-leaderboard-table-body','visible','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','toString','behavior-log-container','$1\x5ctext{','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','การหารทศนิยม','fa-dumbbell\x20text-gray-700','Remedial\x20quiz\x20generation\x20failed:','resultsDisplay','fromCharCode','#1368ce','.generate-lesson-btn','.parallel-quiz-btn','กรุณาป้อนรหัสแบบทดสอบ','generate-from-parallel-test-btn','\x22\x20data-topic=\x22','comparison-overall-content','teacherSuggestions','idealAnswer','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','กรุณาเลือกไฟล์ก่อน','student-quiz-leaderboard-tab','ดอกเบี้ยทบต้น','parse','student-name-select','outerHTML','\x20\x20\x20-\x20คำตอบ:\x20','STOP','8322309QLeQZJ','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','ไม่ได้ตอบ','open-quiz-bank-btn','(หลังเรียน)\x20','พื้นที่สี่เหลี่ยม','Error\x20saving\x20to\x20question\x20bank:','sum','text-yellow-300','update-old-quizzes-btn','multiple_choice','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/projects/','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22','editor-quiz-topic','fa-crown\x20text-yellow-500','Error\x20starting\x20game:','math-topics-checkbox-container','correctResponse','<div\x20class=\x22space-y-4\x22>','showRankings','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','<p>','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','ไม่สามารถสร้างโปรเจคได้','showImproveButton','behaviorLog','players','<button\x20data-quiz-id=\x22','สมการตรีโกณมิติ','export-leaderboard-excel-btn','student-reading-area','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','print','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','data','join','manage-tab-content','globalSettings','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','onchange','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','analyze-strengths-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','.pdf','dfrac','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','<textarea\x20name=\x22question','back-from-results-btn','dataIndex','ผู้ไม่ยอมแพ้','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','#d89e00','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20loading\x20quiz\x20for\x20student:','textContent','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','first_try_ace','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','earned-badges-container','disabled','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','bar','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','Error\x20moving\x20quiz:','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','กำลังสร้างแบบทดสอบคู่ขนาน...','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','overline','Error\x20rendering\x20student\x20progress:','<i\x20class=\x22fas\x20fa-pen\x22></i>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','padStart','podium','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','difficulty-level-select','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','startTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p><div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','quiz-id-input','uid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.unpair-quiz-btn','dimmed','สรุปผลการวิเคราะห์:\x5cn','passcode-input-container','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','fas\x20fa-user-edit','Error\x20deleting\x20student:','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','isStarred','red','project-detail-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','getPage','Error\x20saving\x20visibility\x20settings:','gain','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','match','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','join-live-game-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','practiceProblems','กรุณาเลือกโปรเจคที่ต้องการบันทึก','fas\x20fa-bookmark','ai-quiz-app-aefee.firebaseapp.com','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สรุปผลสุดท้าย','สัญกรณ์วิทยาศาสตร์','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','COMEBACK_KING','$1\x5ctimes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-container','draggable-text','(คัดลอก)\x20','เกิดข้อผิดพลาดในการอ่านไฟล์','remove','getTextContent','QUICK_THINKER','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','Error\x20saving\x20quiz\x20edits:','firstScore','back-to-dashboard-from-results-btn','\x20สำเร็จ','Error\x20generating\x20parallel\x20test\x20from\x20bank:','per-question-options','Error\x20loading\x20user\x20preferences:','project-quizzes-list','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','จำนวนเต็มบวก','text-tab','ผู้ที่ตอบ:\x20','cancel-quiz-bank-btn','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','\x22\x20name=\x22drill_answer\x22\x20value=\x22','\x5cfrac{$1}{$2}','text-red-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','ยอดเยี่ยม','Error\x20saving\x20project\x20order:','quiz-search-input','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','map','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันลอการิทึม','cancel-move-quiz-btn','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','input','innerHTML','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','Enter','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','\x20mb-2\x22>','rgba(59,\x20130,\x20246,\x200.7)','confirm-passcode-btn','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','pairedQuizId','rows','การลบ','.delete-project-btn','.pair-quiz-btn','backgroundColor','reset-project-order-btn','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','Error\x20updating\x20quiz\x20status:','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','matching','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','\x20ใหม่...','comparison-chart','กรุณาวาง\x20URL\x20ของบทความก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','toISOString','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22answer-space\x22></div>','currentTarget','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','.png','project-search-input','export-word-btn','modal-close-btn','toLowerCase','perQuestionStats','start-game-btn','num-choices','rgba(16,\x20185,\x20129,\x200.7)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-blue-700\x20bg-blue-100','s;\x22\x20title=\x22','setItem','behavior-log-tab-btn','touchend','lower_group_count','.doc','[*]','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','$1^{\x5ccirc}\x5ctext{C}','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','isCorrect','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เซียนสมองไว','grid','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','text-gray-400\x20hover:text-indigo-600','removeEventListener','players.','#results-table\x20thead\x20tr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','shuffle-setting-select','filter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คัดลอกไม่สำเร็จ','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','อัตราและอัตราหน่วย','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','mjx-container','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระยะจากจุดถึงเส้นตรง','การยืนยันตัวตนล้มเหลว','กำลังสแกนหาแบบทดสอบเก่า...','แบบปรนัย\x204\x20ตัวเลือก','แผนภาพกล่อง\x20(box\x20plot)','เกิดข้อผิดพลาดในการติดดาว','candidates','\x20\x20\x20-\x20','lastAnswerCorrect','text-red-800','btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','#F59E0B','leaderboard-quiz-tab-content','questionText','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','msExitFullscreen','คำถามถัดไป','ยืนยันการจับคู่','questionIndex','แผนการสอน:\x20','กำลังอ่านและเตรียมไฟล์...','API\x20call\x20failed\x20with\x20status:\x20','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','text-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','warn','จำนวนคู่:','เศษส่วน\x20(ย่อ/ขยาย)','พีชคณิตและฟังก์ชัน','ใช่','substring','createdAt','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','label','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.compare-results-btn','ไม่พบข้อมูลแบบทดสอบ','specialist','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','หัวข้อที่สร้างเอง','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','onclick','(ก่อนเรียน)\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตอบถูกทุกข้อในแบบทดสอบนี้','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','สมการค่าสัมบูรณ์','ร้อยละพื้นฐาน','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','content',')\x5cb)','</p>','.pointsLastQuestion','เส้นรอบรูป','image/png','asc','POST','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','dispatchEvent','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','ลบโปรเจคสำเร็จแล้ว','postScore','generate-from-text-btn','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','.question-editor-item','\x22...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบทดสอบปรนัย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','border-indigo-400\x20ring-2\x20ring-indigo-200','.quiz-result-card','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#student-project-leaderboard-content\x20thead','</span></td>','allResponses','getBBox','quiz-type-select','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','move-quiz-modal','ตัวแปรและนิพจน์','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','latestSubmittedAt','_opt0\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','half_mark_status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','Error\x20generating\x20from\x20blueprint:','values','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','cancel-bulk-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','บันทึกแบบทดสอบสำเร็จแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','ส่วนเบี่ยงเบนเฉลี่ย','Error\x20deleting\x20project:','promptFeedback','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22',';\x22\x20data-id=\x22','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-blueprint-btn','_opt','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','slice','top','td,\x20th','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','modal-shuffle-select','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','บันทึกการตั้งค่าสำเร็จ','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','next-question-btn','instructions','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','สมการยกกำลัง','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-project-name-btn','live-short-answer-input','classWeaknesses','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','bg-red-50','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คู่\x20','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','screen_exit','targetId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','open','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','generate-from-topic-btn','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','touches','\x5cge','G-V90KRM0L63','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','countdown-display','กราฟฟังก์ชันตรีโกณ','\x0a\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','ส่วนเบี่ยงเบนมาตรฐาน','project-name-input','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','\x5cle','text-content-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถเพิ่มนักเรียนได้','แบบทดสอบที่ติดดาว','ไม่สามารถโหลดข้อมูลอันดับได้','title','cursor','สมมาตร\x20(แกน/จุด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','ไม่มีผู้ตอบตัวเลือกนี้','ค่าเฉลี่ย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','(คู่ขนาน)\x20','Error\x20listening\x20for\x20custom\x20math\x20topics:','start-quiz-btn','-tab-content','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','2-digit','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','ring-2','\x5ctext{$1}','fa-shield-alt\x20text-gray-600','then','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','ปริพันธ์ไม่จำกัด','#E5E7EB','leaderboard-quiz','.edit-quiz-btn','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','\x20คนที่ส่ง\x20ตอบถูก\x20(','originalQuestionText','standard','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','<option\x20value=\x22\x22>กำลังโหลด...</option>','fa-bolt\x20text-blue-500','cancel-global-live-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','touchstart','screen','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','parallel-test-upload-input','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','delete','name_asc','export-image-btn','numPages','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','</p><p><strong>เฉลย:</strong>\x20','#per-question-options\x20select','การนับ','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','ยอดเยี่ยม!','total','\x20/\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','ความคาดหมาย\x20(Expected\x20value)','totalPoints','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','export-compact-pdf-btn','blueprint-tab','select-all-topics-btn','การคูณ','ผู้เชี่ยวชาญ','</body></html>','generate-worksheet-btn','mode-switcher-btn','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','\x22\x5cn','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','behavior-log-tab-content','true_false','กำลังดึงข้อมูลจากลิงก์...','getDocument','leaderboard_','bg-yellow-50','explanation','underline','เลือกและบันทึก','quiz','$1\x5cfrac','answering','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','style','admin-dashboard','typesetPromise','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-red-300\x20bg-red-50','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','class','correctStreak','เส้นตรง:\x20ขนาน/ตั้งฉาก','undefined','Error\x20saving\x20questions\x20to\x20practice\x20bank:','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','(^|[^\x5c\x5c])\x5cb','พื้นที่ใต้กราฟ/ระหว่างกราฟ','645trpKWF','มุมพิเศษ\x2045°-45°-90°','.edit-question-btn','วงกลม:\x20สมการและสมบัติ','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','input[type=\x22radio\x22]:checked','default','bulk-quiz-settings-modal','</tbody></table>','วงกลม:\x20คอร์ดและเส้นสัมผัส','stdDev','รอเปิด','parent','projectOrder','Authentication\x20failed:','submission','katex','admin-password-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เลือกโปรเจคเพื่อบันทึก','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','create-project-modal','timestamp','สำหรับโปรเจค:\x20','classStrengths','dataset','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กรุณาใส่ชื่อโปรเจค','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','scores','admin-try-quiz-btn','q-text-','เกิดข้อผิดพลาดในการเปลี่ยนสี','preventDefault','เกิดข้อผิดพลาดในการเข้าร่วมเกม','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','blur','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-quiz-area','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','application/json','ไม่พบเอกสารการส่งงานของ\x20','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','num-choices-container','\x5cdiv','\x5csqrt{$1}','close','far\x20fa-star','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','สร้างแบบทดสอบ','showInStudentDashboard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','questionType','ลำดับเลขคณิต\x20(AP)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','modal-timer-duration-label','createElementNS','label[for=\x22num-questions\x22]','baseVal','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','test','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','isAdaptive','.toggle-actions-btn','lobby','สอบปกติ','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สร้างคำถามแบบใช่/ไม่ใช่','รีเซ็ตลำดับโปรเจคแล้ว','global-live-game-modal','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการลบหัวข้อ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','progress-student-select','view-my-progress-btn','51894YtbGOM','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','change','student-quiz-leaderboard-content','custom-math-topic-input','ไม่สามารถบันทึกการตั้งค่าได้','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','/questionBank','includes','enable-passcode-checkbox','Error\x20saving\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bg-yellow-100','abs','#F3E8FF','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','touchmove','\x22\x20value=\x22true\x22\x20','text-green-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','ย้ายแบบทดสอบไปโปรเจคอื่น','text-white','artifacts/','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','\x5cfrac{','ย้าย','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','frac','จับคู่แบบทดสอบสำเร็จ!','deselect-all-topics-btn','name_desc','\x22.\x20Ideal\x20Answer:\x20\x22','.answer-text','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','comparison-individual-tab','fullscreenchange','.cancel-edit-topic-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','การลบเศษส่วน','quiz-leaderboard-table','สร้างใหม่','ref','-tab','Error\x20displaying\x20question\x20bank:','fill_in_no_choices','ตรวจคะแนนใหม่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','has','เกิดข้อผิดพลาดในการบันทึก','passing-score-input','ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','progress-project-select','.option-text','สร้างคำถามแบบเติมคำในช่องว่าง','q-explanation-','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','Error\x20joining\x20live\x20game:','quizId','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','live-game-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','close-comparison-modal-footer-btn','ผ่าน','numeric','player-count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','/public/data/quizzes/','</li>','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','อนุพันธ์:\x20กฎพื้นฐาน','{$1}','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','onload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','questionId','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้ของเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนดสำคัญ:\x20สำหรับแต่ละข้อที่สร้าง\x20จะต้องมีข้อมูลต่อไปนี้ให้ครบถ้วนเสมอ:\x20questionText\x20(สำหรับโจทย์),\x20questionType,\x20options\x20(กรณีปรนัย),\x20correctAnswerIndex\x20(กรณีปรนัย),\x20idealAnswer\x20(กรณีเติมคำ),\x20และ\x20explanation\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','execCommand','block','pinnedProjects','overallGroups','สลับไปโหมดนักเรียน','quiz-leaderboard-table-container','true','pointsLastQuestion','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','text-yellow-800','กำลังสร้างรูปภาพ...','timerDuration','removeChild','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</form>','Failed\x20to\x20create\x20initial\x20submission\x20record:','quiz-status-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','question-analytics-container','หลังเรียน','$1^{$2}','.star-quiz-btn','modal-results-display-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-300\x20hover:text-white','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','stopPropagation','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ห.ร.ม.\x20(GCD)','\x20จาก\x20','perfect_score','left','clientY','live-game','แบบทดสอบ:\x20','cancel-test-btn','latestScore','.color-palette-btn','from','ที่พิมพ์ได้\x20จำนวน\x20','show-in-student-dashboard-checkbox','การประยุกต์เวกเตอร์พื้นฐาน','create-from-bank-btn','download','tGain','loader-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','1359249gMshBd','bulk-results-display-select','ระบบเลขและค่าประจำหลัก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','.csv','answeredCurrentQuestion','<tr><td\x20colspan=\x22','/public/data/quizzes','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','lesson-plan-content','<div\x20class=\x22mb-3\x20topic-category\x22>','finishReason','เพิ่มหัวข้อ\x20\x22','<div\x20class=\x22flex-1\x22></div>','results-display-select','correctAnswer','student-quiz-topic','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','generate-from-link-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill','.save-custom-topic-btn','empty','ระยะเวลา\x20(วินาที):','text-blue-800',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','text-red-300\x20hover:text-red-100','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','#retake-for-improvement-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','quiz-results-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','set','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','cancel-delete-btn','slide-counter','isLooping','font-bold\x20text-green-700','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p><strong>คำตอบของคุณ:</strong>\x20','include-images-checkbox','beforeend','\x5cs*\x5c(','input[type=\x22checkbox\x22]','text-indigo-800','indexOf','line-through\x20text-red-700','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','release','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','ARRAY','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','prod','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','กฎบวกและกฎคูณ','icon','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','สร้างโปรเจคสำเร็จ!','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','bg-red-100\x20text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','คะแนนยังไม่ถึงครึ่ง','comeback_king','/preferences/main','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','lesson-plan-title','Failed\x20to\x20parse\x20JSON\x20from\x20AI','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','\x22\x20value=\x22false\x22\x20','smooth','เปลี่ยนชื่อโปรเจคสำเร็จ','8AGxdHR','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lastAnswerIndex','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','teachingContent','Error\x20renaming\x20quiz:','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','.topic-name-input','scheduled','confirm-global-live-btn','.quiz-bank-try-btn','submissions','ปริมาตร/ความจุและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','currentQuestionIndex','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','.correctStreak','options','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','กำลังวิเคราะห์ข้อสอบ\x20\x22','#E0E7FF','some','\x20รายการ...','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','presentation-modal','.start-presentation-list-btn','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','all','modal-passing-score-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save','Error\x20resetting\x20project\x20order:','bg-green-500','leq','cancel-admin-login-btn','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','quiz-bank-count','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','student-project-leaderboard-content','projectSort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ยืนยันและอัปเดตทั้งหมด','Error\x20saving\x20user\x20preference:','offset','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20old\x20quizzes:','OBJECT','text/html','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','<option\x20value=\x22','Error\x20creating\x20project:','#10B981','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Error\x20deleting\x20quiz:','บันทึกการแก้ไข','text-green-600\x20font-bold','find','BOOLEAN','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','เกิดข้อผิดพลาดในการอัปเดต:\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','แผนภาพเวนน์','not-found','back-to-student-home-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','.ideal-answer-input','FileReader\x20error:','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','dashboardConfig','getBoundingClientRect','ไม่พบข้อมูลผู้ใช้','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','justification','/public/data/liveGames','geq','302eBJFnA','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','update','เกมสิ้นสุดลงแล้ว','สมการราก\x20(radical)','authed_project_','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','next-drill-btn','):\x20','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ไม่มีคำอธิบาย','analytics-tab-content','พื้นที่ผิวรูปทรงสามมิติ','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</label>\x0a\x20\x20\x20\x20</div>\x0a','mean','อินเวอร์สของเมทริกซ์','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุด)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','loopUntilPass','PERFECT_SCORE','project-sort-select','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','การจัดหมู่\x20(Combination)','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','bg-green-100','ตอบถูก\x203\x20ข้อติดต่อกัน','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','_opt0\x22>ใช่</label></div>','getElementById','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','สถิติและความน่าจะเป็น','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','.delete-submission-btn','projectSortOrder','global-quiz-search-input','temp-loader-results','ฟังก์ชันค่าสัมบูรณ์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','ระยะเวลา\x20(นาที):','studentName','student-rankings-modal','ค.ร.น.\x20(LCM)','quiz-settings-modal','contentEditable','live-submit-short-answer-btn','now','.move-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','list','results','msRequestFullscreen','live-player-management','การปัดเศษและประมาณค่า','timer-container','เรเดียนและการแปลงหน่วย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','code','circle','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','แบบทดสอบจากคลังส่วนตัว','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','desc','<h1></h1>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','contents','save-quiz-edits-btn','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','Error\x20adding\x20students:','quizType','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','thead','Error\x20listening\x20for\x20starred\x20quizzes:','fa-pen','Error\x20deleting\x20custom\x20topic:','passingScore','message','keydown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.copy-quiz-id-list-btn','split','<span\x20class=\x22sort-indicator\x20ml-2\x22>','กรุณาเลือกชื่อของคุณ','worksheet-tab','parts','category','กำลังอัปเดตแบบทดสอบ\x20','ชนิดของข้อมูลและการเก็บข้อมูล','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','stringify','isPinned','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','bulk-loop-until-pass-checkbox','right','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','ปริมาตรรูปทรงสามมิติ','no-projects-msg','.topic-row','\x22\x20class=\x22pin-project-btn\x20','เปิด\x20(จับเวลา)','.generate-post-test-btn','ไม่พบแบบทดสอบสำหรับรหัสนี้','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','bulk-quiz-settings-btn','insertAdjacentHTML','ตัวประกอบและตัวประกอบเฉพาะ','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','$1^{\x5ccirc}','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','catch','\x22\x20เพื่อสร้างชุดคู่ขนาน...','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','quiz-schedule-end-container','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','start-presentation-btn','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','admin-view','ผ่านฉลุย','points','ฟังก์ชันแบบชิ้นส่วน','lesson-plan-modal','quick_thinker'];_0x5911=function(){return _0x1fc04a;};return _0x5911();}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x1a75bc=_0x45d9;if(!currentProjectId)return;try{const _0x25215d=doc(db,'artifacts/'+appId+_0x1a75bc(0x1a6),currentProjectId),_0x4970e8=collection(db,_0x1a75bc(0x705)+appId+_0x1a75bc(0x49a)+currentProjectId+_0x1a75bc(0x2de)),_0x1d9e35=await getDocs(_0x4970e8),_0x3732e3=writeBatch(db);_0x3732e3[_0x1a75bc(0x819)](_0x25215d,{'students':[]}),_0x1d9e35[_0x1a75bc(0x8de)](_0x222e99=>_0x3732e3['delete'](_0x222e99['ref'])),await _0x3732e3[_0x1a75bc(0x167)]();}catch(_0x1247d3){console['error'](_0x1a75bc(0x1c9),_0x1247d3),showMessage(_0x1a75bc(0x8bd));}});}async function handleGenerateFromFileClick(){const _0x4df5f2=_0x5e8eac;if(!selectedFile){showMessage(_0x4df5f2(0x485));return;}const _0x274f3c=document[_0x4df5f2(0x839)](_0x4df5f2(0x3a0)),_0x543ed6=document[_0x4df5f2(0x839)](_0x4df5f2(0x777)),_0x3df40b=document[_0x4df5f2(0x839)](_0x4df5f2(0x8d4)),_0x5b0fc4=document[_0x4df5f2(0x839)](_0x4df5f2(0x21c));_0x5b0fc4[_0x4df5f2(0x4d1)]=!![],document['getElementById']('quiz-generation-area')[_0x4df5f2(0x298)][_0x4df5f2(0x514)](_0x4df5f2(0x28b)),_0x3df40b['innerHTML']='',_0x274f3c['classList'][_0x4df5f2(0x514)](_0x4df5f2(0x28b)),_0x543ed6[_0x4df5f2(0x4ca)]=_0x4df5f2(0x59b);const _0x55c377=new FileReader();_0x55c377[_0x4df5f2(0x159)](selectedFile),_0x55c377['onload']=async()=>{const _0xd7002d=_0x4df5f2;try{const _0x403853=_0x55c377['result'][_0xd7002d(0x86f)](',')[0x1],_0x3eae4a=selectedFile[_0xd7002d(0x2dc)];await generateQuizFromFile(_0x3eae4a,_0x403853);}catch(_0x1e524d){console[_0xd7002d(0x2a9)](_0xd7002d(0x293),_0x1e524d),showMessage(_0xd7002d(0x832)+_0x1e524d['message']),_0x274f3c[_0xd7002d(0x298)]['add'](_0xd7002d(0x28b));}finally{}},_0x55c377[_0x4df5f2(0x39a)]=_0x1577ed=>{const _0xa03e99=_0x4df5f2;console[_0xa03e99(0x2a9)](_0xa03e99(0x80d),_0x1577ed),showMessage(_0xa03e99(0x513)),_0x274f3c['classList']['add'](_0xa03e99(0x28b)),_0x5b0fc4[_0xa03e99(0x4d1)]=![];};}function autoFormatMath(_0x55ec5d){const _0x1c8b5c=_0x5e8eac;if(typeof _0x55ec5d!==_0x1c8b5c(0x43b)||!_0x55ec5d)return _0x55ec5d;const _0x5a6fc4=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x3281e3=_0x55ec5d['replace'](_0x5a6fc4,_0x1d05df=>{return'$'+_0x1d05df['trim']()+'$';});return _0x3281e3;}function sanitizeQuizData(_0x23e817){const _0x1b2e6c=_0x5e8eac;if(!_0x23e817||!_0x23e817[_0x1b2e6c(0x3ef)])return _0x23e817;const _0x3f2b04={'imes':_0x1b2e6c(0x8fa),'div':_0x1b2e6c(0x6c7)},_0x1a6002=_0x3d1f30=>{const _0x44b8a0=_0x1b2e6c;if(typeof _0x3d1f30!==_0x44b8a0(0x43b))return _0x3d1f30;let _0x3943a7=_0x3d1f30;for(const [_0x23f64c,_0x3f9fc4]of Object[_0x44b8a0(0x2e2)](_0x3f2b04)){const _0x492ef8=new RegExp('\x5cb'+_0x23f64c+'\x5cb','g');_0x3943a7=_0x3943a7[_0x44b8a0(0x1e9)](_0x492ef8,_0x3f9fc4);}return _0x3943a7=_0x3943a7['replace'](/\\\//g,_0x44b8a0(0x6c7)),_0x3943a7=_0x3943a7[_0x44b8a0(0x1e9)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x44b8a0(0x6c7))[_0x44b8a0(0x1e9)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x44b8a0(0x8fa))[_0x44b8a0(0x1e9)](/÷/g,_0x44b8a0(0x6c7))[_0x44b8a0(0x1e9)](/×/g,_0x44b8a0(0x8fa)),_0x3943a7=_0x3943a7[_0x44b8a0(0x1e9)](/(\d)(\\frac)/g,_0x44b8a0(0x321)),_0x3943a7=autoFormatMath(_0x3943a7),_0x3943a7;};return _0x23e817[_0x1b2e6c(0x1bf)]&&(_0x23e817['topic']=_0x1a6002(_0x23e817[_0x1b2e6c(0x1bf)])),_0x23e817[_0x1b2e6c(0x3ef)][_0x1b2e6c(0x8de)](_0x1c2bae=>{const _0x2f8ce2=_0x1b2e6c;_0x1c2bae[_0x2f8ce2(0x593)]=_0x1a6002(_0x1c2bae[_0x2f8ce2(0x593)]),_0x1c2bae[_0x2f8ce2(0x7d8)]&&(_0x1c2bae[_0x2f8ce2(0x7d8)]=_0x1c2bae[_0x2f8ce2(0x7d8)][_0x2f8ce2(0x530)](_0x1a6002)),_0x1c2bae['explanation']&&(_0x1c2bae[_0x2f8ce2(0x67e)]=_0x1a6002(_0x1c2bae[_0x2f8ce2(0x67e)])),_0x1c2bae[_0x2f8ce2(0x3f1)]&&(_0x1c2bae['stem']=_0x1a6002(_0x1c2bae['stem'])),_0x1c2bae[_0x2f8ce2(0x4a1)]&&(_0x1c2bae[_0x2f8ce2(0x4a1)]=_0x1a6002(_0x1c2bae['correctResponse'])),_0x1c2bae['allResponses']&&(_0x1c2bae[_0x2f8ce2(0x5d8)]=_0x1c2bae[_0x2f8ce2(0x5d8)][_0x2f8ce2(0x530)](_0x1a6002));}),_0x23e817;}const simpleMathPrompt=_0x5e8eac(0x445);async function handleGenerateFromLink(){const _0x328791=_0x5e8eac,_0x591430=document[_0x328791(0x839)](_0x328791(0x338)),_0xd0115b=document[_0x328791(0x839)](_0x328791(0x1ef)),_0x1bc942=_0x591430[_0x328791(0x3e5)]['trim'](),_0x2cee25=_0xd0115b[_0x328791(0x3e5)]['trim']();if(!_0x1bc942){showMessage(_0x328791(0x54d));return;}const _0x27fdd6=document[_0x328791(0x839)](_0x328791(0x3a0)),_0x1e27ae=document[_0x328791(0x839)]('loader-text'),_0x4088ee=document[_0x328791(0x839)](_0x328791(0x8d4)),_0x32dee9=document[_0x328791(0x839)](_0x328791(0x78b));document[_0x328791(0x839)](_0x328791(0x1cf))['classList'][_0x328791(0x514)]('hidden'),_0x4088ee['innerHTML']='',_0x27fdd6[_0x328791(0x298)][_0x328791(0x514)]('hidden'),_0x1e27ae['textContent']=_0x328791(0x67a),_0x32dee9[_0x328791(0x4d1)]=!![];try{const _0x562479='https://corsproxy.io/?'+encodeURIComponent(_0x1bc942),_0x430e46=await fetch(_0x562479);if(!_0x430e46['ok'])throw new Error(_0x328791(0x143)+_0x430e46[_0x328791(0x442)]+')');const _0x3b5467=await _0x430e46[_0x328791(0x2a6)](),_0x861940=extractTextFromHtml(_0x3b5467);if(!_0x861940||_0x861940[_0x328791(0x2d2)]<0x64)throw new Error(_0x328791(0x31b));await generateQuiz(_0x2cee25,_0x861940);}catch(_0x6c1406){console[_0x328791(0x2a9)]('Error\x20generating\x20from\x20link:',_0x6c1406),showMessage('เกิดข้อผิดพลาด:\x20'+_0x6c1406['message']),_0x4088ee['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x27fdd6[_0x328791(0x298)][_0x328791(0x36a)]('hidden'),_0x32dee9[_0x328791(0x4d1)]=![];}}function extractTextFromHtml(_0xf7ec10){const _0x92b7a7=_0x5e8eac,_0x3ddef1=new DOMParser()[_0x92b7a7(0x8fb)](_0xf7ec10,_0x92b7a7(0x7f7));return _0x3ddef1['querySelectorAll'](_0x92b7a7(0x837))[_0x92b7a7(0x8de)](_0x6c8072=>_0x6c8072[_0x92b7a7(0x514)]()),_0x3ddef1[_0x92b7a7(0x1ed)]['textContent']||'';}document[_0x5e8eac(0x839)](_0x5e8eac(0x617))[_0x5e8eac(0x2da)](_0x5e8eac(0x3b0),()=>{const _0x2eb29c=_0x5e8eac,_0x447aaf=document['getElementById'](_0x2eb29c(0x2ce))[_0x2eb29c(0x3e5)][_0x2eb29c(0x3dd)]();generateQuiz(_0x447aaf,null);}),document[_0x5e8eac(0x839)](_0x5e8eac(0x5cb))[_0x5e8eac(0x2da)](_0x5e8eac(0x3b0),()=>{const _0x246c52=_0x5e8eac,_0x45cbee=document[_0x246c52(0x839)](_0x246c52(0x624))['value'][_0x246c52(0x3dd)]();if(!_0x45cbee){showMessage(_0x246c52(0x5b9));return;}const _0xb0346a=document[_0x246c52(0x839)](_0x246c52(0x2ce))['value']['trim']();generateQuiz(_0xb0346a,_0x45cbee);});async function generateQuiz(_0x3f3efa,_0x1478ed,_0x3982fc=null){const _0x72da34=_0x5e8eac,_0x125e52=document[_0x72da34(0x839)](_0x72da34(0x7a3))['checked'],_0x4087dd=document[_0x72da34(0x839)]('quiz-type-select')[_0x72da34(0x3e5)],_0x2f91df=document[_0x72da34(0x839)](_0x72da34(0x1f0))['value'],_0x31fe55=document[_0x72da34(0x839)](_0x72da34(0x55e))[_0x72da34(0x3e5)],_0x528e8f=document[_0x72da34(0x839)](_0x72da34(0x3d2))[_0x72da34(0x1d1)],_0x463f19=_0x528e8f?'':_0x72da34(0x2f7),_0x2facc7=document[_0x72da34(0x839)](_0x72da34(0x4e2)),_0x38d39b=_0x2facc7['value'];let _0xcaaf75='';_0x38d39b!==_0x72da34(0x46e)&&(_0xcaaf75=_0x72da34(0x263)+_0x38d39b+'\x22');const _0x369fa9=document[_0x72da34(0x839)](_0x72da34(0x40c)),_0x1cbd2c=_0x369fa9['value'];let _0x4b98b1='';_0x1cbd2c!==_0x72da34(0x152)&&(_0x4b98b1='โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x1cbd2c+_0x72da34(0x1b3));const _0x2ed69e=document[_0x72da34(0x2eb)]('#math-topics-checkbox-container\x20input:checked'),_0x35ba86=Array['from'](_0x2ed69e)[_0x72da34(0x530)](_0x21fddf=>_0x21fddf[_0x72da34(0x3e5)]);let _0x19f731='';_0x35ba86['length']>0x0&&(_0x19f731='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x35ba86[_0x72da34(0x4b4)](',\x20')+_0x72da34(0x462));let _0x580252='',_0x5191b0='',_0x38f3f5,_0x5ad27f=_0x72da34(0x329)+_0x3f3efa+'\x22';if(!_0x3f3efa&&_0x1478ed)_0x5ad27f=_0x72da34(0x210);else!_0x3f3efa&&!_0x1478ed&&(_0x5ad27f=_0x72da34(0x201));const _0x1f9e72={'type':_0x72da34(0x7f6),'properties':{'questionText':{'type':_0x72da34(0x2c9)},'options':{'type':_0x72da34(0x7af),'items':{'type':_0x72da34(0x2c9)}},'correctAnswerIndex':{'type':_0x72da34(0x241)},'explanation':{'type':_0x72da34(0x2c9)},'imageCode':{'type':_0x72da34(0x2c9)}},'required':['questionText','options',_0x72da34(0x8f1),'explanation']},_0x1073e0={'type':_0x72da34(0x7f6),'properties':{'questionText':{'type':_0x72da34(0x2c9)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x72da34(0x2c9)},'imageCode':{'type':_0x72da34(0x2c9)}},'required':[_0x72da34(0x593),_0x72da34(0x483),_0x72da34(0x67e)]},_0x1b35dc={'type':'OBJECT','properties':{'questionText':{'type':_0x72da34(0x2c9)},'questionType':{'type':_0x72da34(0x2c9),'enum':[_0x72da34(0x497),'short_answer']},'options':{'type':_0x72da34(0x7af),'items':{'type':_0x72da34(0x2c9)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x72da34(0x2c9)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x72da34(0x2c9)}},'required':['questionText','questionType',_0x72da34(0x67e)]},_0x18085a={'type':_0x72da34(0x7f6),'properties':{'questionText':{'type':_0x72da34(0x2c9)},'correctAnswer':{'type':_0x72da34(0x802)},'explanation':{'type':_0x72da34(0x2c9)},'imageCode':{'type':_0x72da34(0x2c9)}},'required':['questionText',_0x72da34(0x788),_0x72da34(0x67e)]},_0x175faf={'type':_0x72da34(0x7f6),'properties':{'questionType':{'type':_0x72da34(0x2c9),'enum':['matching_item']},'stem':{'type':_0x72da34(0x2c9)},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x72da34(0x2c9)},'imageCode':{'type':_0x72da34(0x2c9)}},'required':['questionType',_0x72da34(0x3f1),_0x72da34(0x4a1),'allResponses',_0x72da34(0x67e)]};let _0x5c7ec8;if(_0x3982fc!==null){const _0x4f7415=currentQuizData['questions'][_0x3982fc][_0x72da34(0x6d0)],_0x380681=_0x125e52?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x580252=_0x72da34(0x46b)+_0x5ad27f+'\x20'+_0x19f731+'\x20'+_0xcaaf75+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0x380681+'\x20'+simpleMathPrompt;if(_0x4f7415==='multiple_choice')_0x38f3f5=_0x1f9e72;else{if(_0x4f7415===_0x72da34(0x183))_0x38f3f5={'type':'OBJECT','properties':{'questionType':{'type':_0x72da34(0x2c9),'enum':[_0x72da34(0x183)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x72da34(0x2c9)},'explanation':{'type':_0x72da34(0x2c9)},'imageCode':{'type':_0x72da34(0x2c9)}},'required':['questionType',_0x72da34(0x3f1),_0x72da34(0x4a1),_0x72da34(0x67e)]};else _0x38f3f5=_0x1073e0;}_0x5c7ec8=_0x38f3f5;}else{const _0x3ffd51=_0x125e52?_0x72da34(0x4d9):'',_0x2a7aba='\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20';switch(_0x4087dd){case'multiple_choice':_0x580252='สร้างแบบทดสอบปรนัย'+_0x463f19+'\x20'+_0x2f91df+_0x72da34(0x46d)+_0x5ad27f+'\x20'+_0x19f731+'\x20'+_0xcaaf75+'\x20'+_0x4b98b1+'.\x20แต่ละข้อมี\x20'+_0x31fe55+_0x72da34(0x653)+_0x3ffd51+'\x20'+simpleMathPrompt,_0x38f3f5=_0x1f9e72;break;case _0x72da34(0x459):_0x580252=_0x72da34(0x728)+_0x463f19+'\x20'+_0x2f91df+_0x72da34(0x46d)+_0x5ad27f+'\x20'+_0x19f731+'\x20'+_0xcaaf75+'\x20'+_0x4b98b1+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x31fe55+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x3ffd51+'\x20'+simpleMathPrompt,_0x38f3f5=_0x1f9e72;break;case _0x72da34(0x71e):_0x580252=_0x72da34(0x728)+_0x463f19+'\x20'+_0x2f91df+'\x20ข้อ\x20'+_0x5ad27f+'\x20'+_0x19f731+'\x20'+_0xcaaf75+'\x20'+_0x4b98b1+_0x72da34(0x702)+_0x3ffd51+'\x20'+simpleMathPrompt,_0x38f3f5=_0x1073e0;break;case _0x72da34(0x152):_0x580252=_0x72da34(0x6cc)+_0x463f19+'\x20'+_0x2f91df+'\x20ข้อ\x20'+_0x5ad27f+'\x20'+_0x19f731+'\x20'+_0xcaaf75+'\x20'+_0x4b98b1+_0x72da34(0x233)+_0x31fe55+'\x20ตัวเลือก.\x20'+_0x3ffd51+'\x20'+simpleMathPrompt+'.',_0x38f3f5=_0x1b35dc;break;case'true_false':_0x580252=_0x72da34(0x6e1)+_0x463f19+'\x20'+_0x2f91df+'\x20ข้อ\x20'+_0x5ad27f+'\x20'+_0x19f731+'\x20'+_0xcaaf75+'\x20'+_0x4b98b1+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x3ffd51+'\x20'+simpleMathPrompt,_0x38f3f5=_0x18085a;break;case _0x72da34(0x549):_0x580252=_0x72da34(0x45f)+_0x463f19+'\x20'+_0x2f91df+_0x72da34(0x60f)+_0x5ad27f+'\x20'+_0x19f731+'\x20'+_0xcaaf75+'\x20'+_0x4b98b1+_0x72da34(0x156)+_0x3ffd51+'\x20'+simpleMathPrompt,_0x38f3f5=_0x175faf;break;}_0x5c7ec8={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x72da34(0x7af),'items':_0x38f3f5}},'required':[_0x72da34(0x1bf),_0x72da34(0x3ef)]};}return _0x1478ed?(_0x580252=_0x72da34(0x216)+_0x1478ed+'\x22,\x20'+_0x580252,_0x5191b0='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):_0x5191b0='กำลังสร้างแบบทดสอบจากหัวข้อ...',handleApiCall(_0x580252,_0x5191b0,_0x5c7ec8,_0x3982fc);}async function generateQuizFromFile(_0x575382,_0x13f2f3){const _0x4bc100=_0x5e8eac,_0x58d4fe=document[_0x4bc100(0x839)](_0x4bc100(0x388))[_0x4bc100(0x3e5)]['trim'](),_0x1885f1=document[_0x4bc100(0x839)](_0x4bc100(0x5da))[_0x4bc100(0x3e5)],_0x4e3a3f=document[_0x4bc100(0x839)](_0x4bc100(0x1f0))[_0x4bc100(0x3e5)],_0x488ff6=document[_0x4bc100(0x839)](_0x4bc100(0x55e))[_0x4bc100(0x3e5)],_0x28ba30=document[_0x4bc100(0x839)](_0x4bc100(0x7a3))['checked'],_0x237083=document[_0x4bc100(0x839)](_0x4bc100(0x3d2))['checked'],_0x9fdb94=_0x237083?'':_0x4bc100(0x2f7);let _0x567989='',_0x225c63,_0x10101b=_0x4bc100(0x329)+_0x58d4fe+'\x22';!_0x58d4fe&&(_0x10101b=_0x4bc100(0x3b7));const _0x22c26f=_0x28ba30?_0x4bc100(0x4d9):'';switch(_0x1885f1){case _0x4bc100(0x497):_0x567989=_0x4bc100(0x5d0)+_0x9fdb94+'\x20'+_0x4e3a3f+_0x4bc100(0x46d)+_0x10101b+'.\x20แต่ละข้อมี\x20'+_0x488ff6+_0x4bc100(0x653)+_0x22c26f+'\x20'+simpleMathPrompt,_0x225c63={'type':_0x4bc100(0x7f6),'properties':{'questionText':{'type':_0x4bc100(0x2c9)},'options':{'type':_0x4bc100(0x7af),'items':{'type':_0x4bc100(0x2c9)}},'correctAnswerIndex':{'type':_0x4bc100(0x241)},'explanation':{'type':_0x4bc100(0x2c9)},'imageCode':{'type':_0x4bc100(0x2c9)}},'required':[_0x4bc100(0x593),_0x4bc100(0x7d8),_0x4bc100(0x8f1),'explanation']};break;case'fill_in_with_choices':_0x567989=_0x4bc100(0x728)+_0x9fdb94+'\x20'+_0x4e3a3f+_0x4bc100(0x46d)+_0x10101b+_0x4bc100(0x501)+_0x488ff6+_0x4bc100(0x8ee)+_0x22c26f+'\x20'+simpleMathPrompt,_0x225c63={'type':_0x4bc100(0x7f6),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x4bc100(0x7af),'items':{'type':_0x4bc100(0x2c9)}},'correctAnswerIndex':{'type':_0x4bc100(0x241)},'explanation':{'type':_0x4bc100(0x2c9)},'imageCode':{'type':'STRING'}},'required':[_0x4bc100(0x593),_0x4bc100(0x7d8),'correctAnswerIndex',_0x4bc100(0x67e)]};break;case'fill_in_no_choices':_0x567989=_0x4bc100(0x728)+_0x9fdb94+'\x20'+_0x4e3a3f+_0x4bc100(0x46d)+_0x10101b+_0x4bc100(0x702)+_0x22c26f+'\x20'+simpleMathPrompt,_0x225c63={'type':_0x4bc100(0x7f6),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x4bc100(0x2c9)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4bc100(0x2c9)}},'required':[_0x4bc100(0x593),_0x4bc100(0x483),_0x4bc100(0x67e)]};break;case _0x4bc100(0x152):_0x567989=_0x4bc100(0x6cc)+_0x9fdb94+'\x20'+_0x4e3a3f+_0x4bc100(0x46d)+_0x10101b+_0x4bc100(0x794)+_0x488ff6+_0x4bc100(0x22f)+_0x22c26f+'\x20'+simpleMathPrompt+_0x4bc100(0x548),_0x225c63={'type':_0x4bc100(0x7f6),'properties':{'questionText':{'type':_0x4bc100(0x2c9)},'questionType':{'type':_0x4bc100(0x2c9),'enum':[_0x4bc100(0x497),_0x4bc100(0x3a8)]},'options':{'type':_0x4bc100(0x7af),'items':{'type':_0x4bc100(0x2c9)}},'correctAnswerIndex':{'type':_0x4bc100(0x241)},'idealAnswer':{'type':_0x4bc100(0x2c9)},'explanation':{'type':_0x4bc100(0x2c9)},'imageCode':{'type':_0x4bc100(0x2c9)}},'required':[_0x4bc100(0x593),_0x4bc100(0x6d0),'explanation']};break;case _0x4bc100(0x679):_0x567989=_0x4bc100(0x6e1)+_0x9fdb94+'\x20'+_0x4e3a3f+'\x20ข้อ\x20'+_0x10101b+_0x4bc100(0x41d)+_0x22c26f+'\x20'+simpleMathPrompt,_0x225c63={'type':_0x4bc100(0x7f6),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x4bc100(0x802)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x4bc100(0x2c9)}},'required':['questionText',_0x4bc100(0x788),_0x4bc100(0x67e)]};break;case _0x4bc100(0x549):_0x567989='สร้างชุดคำถามจับคู่'+_0x9fdb94+'\x20'+_0x4e3a3f+'\x20คู่\x20'+_0x10101b+_0x4bc100(0x66a)+_0x4e3a3f+_0x4bc100(0x5fd)+_0x22c26f+'\x20'+simpleMathPrompt,_0x225c63={'type':_0x4bc100(0x7f6),'properties':{'questionType':{'type':'STRING','enum':[_0x4bc100(0x183)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x4bc100(0x7af),'items':{'type':'STRING'}},'explanation':{'type':_0x4bc100(0x2c9)},'imageCode':{'type':'STRING'}},'required':[_0x4bc100(0x6d0),_0x4bc100(0x3f1),_0x4bc100(0x4a1),_0x4bc100(0x5d8),_0x4bc100(0x67e)]};break;}const _0x1d3878={'type':_0x4bc100(0x7f6),'properties':{'topic':{'type':_0x4bc100(0x2c9)},'questions':{'type':_0x4bc100(0x7af),'items':_0x225c63}},'required':[_0x4bc100(0x1bf),_0x4bc100(0x3ef)]},_0x3771ab='จากไฟล์ที่แนบมานี้,\x20'+_0x567989,_0x14360c={'contents':[{'parts':[{'text':_0x3771ab},{'inlineData':{'mimeType':_0x575382,'data':_0x13f2f3}}]}],'generationConfig':{'responseMimeType':_0x4bc100(0x6c2),'responseSchema':_0x1d3878}};return handleApiCall(_0x14360c[_0x4bc100(0x85f)][0x0][_0x4bc100(0x873)],_0x4bc100(0x781),_0x1d3878);}async function handleApiCall(_0x2deeb8,_0x1af6e1,_0x5119a0,_0x1c2538=null){const _0x30f377=_0x5e8eac,_0x18de55=document[_0x30f377(0x839)]('quiz-generation-area'),_0x4161ae=document[_0x30f377(0x839)]('loader'),_0x34aa99=document['getElementById'](_0x30f377(0x777)),_0x3fa63c=document[_0x30f377(0x839)](_0x30f377(0x8d4));_0x18de55[_0x30f377(0x298)][_0x30f377(0x514)]('hidden');_0x1c2538===null&&(_0x3fa63c[_0x30f377(0x536)]='');_0x4161ae[_0x30f377(0x298)][_0x30f377(0x514)](_0x30f377(0x28b)),_0x34aa99[_0x30f377(0x4ca)]=_0x1af6e1,document['getElementById']('generate-from-topic-btn')[_0x30f377(0x4d1)]=!![],document['getElementById']('generate-from-text-btn')[_0x30f377(0x4d1)]=!![],document[_0x30f377(0x839)]('generate-from-link-btn')[_0x30f377(0x4d1)]=!![];try{const _0x52ebb2={'responseMimeType':_0x30f377(0x6c2),'responseSchema':_0x5119a0},_0xe3723b=Array[_0x30f377(0x280)](_0x2deeb8)?_0x2deeb8:[{'text':_0x2deeb8}],_0x3963bc={'contents':[{'role':_0x30f377(0x267),'parts':_0xe3723b}],'generationConfig':_0x52ebb2},_0x51fab4=_0x30f377(0x3b3),_0x2e137d=_0x30f377(0x244)+_0x51fab4,_0x5c2f51=await fetch(_0x2e137d,{'method':_0x30f377(0x5c2),'headers':{'Content-Type':_0x30f377(0x6c2)},'body':JSON['stringify'](_0x3963bc)});if(!_0x5c2f51['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x5c2f51[_0x30f377(0x442)]);const _0x584fc7=await _0x5c2f51[_0x30f377(0x175)]();if(_0x584fc7[_0x30f377(0x589)]?.[0x0]?.[_0x30f377(0x5bb)]?.[_0x30f377(0x873)]?.[0x0]){let _0x46f1a9=_0x584fc7[_0x30f377(0x589)][0x0][_0x30f377(0x5bb)][_0x30f377(0x873)][0x0][_0x30f377(0x2a6)],_0x1da3d9;try{if(_0x46f1a9[_0x30f377(0x3f2)]('```json'))_0x46f1a9=_0x46f1a9[_0x30f377(0x5a5)](0x7,_0x46f1a9[_0x30f377(0x2d2)]-0x3)[_0x30f377(0x3dd)]();else _0x46f1a9[_0x30f377(0x3f2)](_0x30f377(0x1dc))&&(_0x46f1a9=_0x46f1a9['substring'](0x3,_0x46f1a9[_0x30f377(0x2d2)]-0x3)[_0x30f377(0x3dd)]());_0x1da3d9=JSON[_0x30f377(0x488)](_0x46f1a9);}catch(_0x236f42){console[_0x30f377(0x2a9)](_0x30f377(0x7c0),_0x236f42,_0x46f1a9);throw new Error(_0x30f377(0x193));}if(_0x1c2538!==null){if(_0x1da3d9['questionType']===_0x30f377(0x183)){const _0x325df5=currentQuizData['questions']['map'](_0x16b915=>_0x16b915[_0x30f377(0x4a1)]);_0x1da3d9[_0x30f377(0x5d8)]=_0x325df5;const _0x14c5eb=currentQuizData[_0x30f377(0x3ef)][_0x1c2538][_0x30f377(0x4a1)],_0x57fad0=_0x325df5[_0x30f377(0x7a8)](_0x14c5eb);_0x57fad0>-0x1&&(_0x325df5[_0x57fad0]=_0x1da3d9[_0x30f377(0x4a1)]),currentQuizData[_0x30f377(0x3ef)]['forEach'](_0x4323c0=>{const _0x4448a0=_0x30f377;if(_0x4323c0[_0x4448a0(0x6d0)]==='matching_item')_0x4323c0[_0x4448a0(0x5d8)]=_0x325df5;});}currentQuizData[_0x30f377(0x3ef)][_0x1c2538]=_0x1da3d9,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x1da3d9;const _0x4dd721=document[_0x30f377(0x839)](_0x30f377(0x5da))[_0x30f377(0x3e5)];currentQuizData[_0x30f377(0x863)]=_0x4dd721,currentQuizData[_0x30f377(0x3ef)]&&currentQuizData['questions'][_0x30f377(0x8de)](_0x449c96=>{const _0x4e6307=_0x30f377;if(!_0x449c96[_0x4e6307(0x6d0)]){if(_0x4dd721==='fill_in_with_choices')_0x449c96['questionType']='multiple_choice';else _0x4dd721===_0x4e6307(0x71e)?_0x449c96[_0x4e6307(0x6d0)]=_0x4e6307(0x3a8):_0x449c96['questionType']=_0x4dd721;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x30f377(0x2a9)](_0x30f377(0x45e),JSON[_0x30f377(0x878)](_0x584fc7));throw new Error(_0x30f377(0x193));}}catch(_0x2dec4b){console['error'](_0x30f377(0x915),_0x2dec4b),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง'),_0x1c2538===null&&(_0x3fa63c[_0x30f377(0x536)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>');}finally{_0x4161ae['classList'][_0x30f377(0x36a)]('hidden'),document[_0x30f377(0x839)]('generate-from-topic-btn')['disabled']=![],document[_0x30f377(0x839)]('generate-from-text-btn')[_0x30f377(0x4d1)]=![],document[_0x30f377(0x839)](_0x30f377(0x78b))[_0x30f377(0x4d1)]=![];const _0x192e23=document[_0x30f377(0x839)](_0x30f377(0x21c));_0x192e23&&(_0x192e23[_0x30f377(0x4d1)]=![]);}}function exitFullscreen(){const _0x5746ca=_0x5e8eac;if(document[_0x5746ca(0x285)])document['exitFullscreen']()[_0x5746ca(0x88e)](_0x54245f=>console[_0x5746ca(0x2a9)](_0x54245f));else{if(document[_0x5746ca(0x1c8)])document[_0x5746ca(0x1c8)]();else document['msExitFullscreen']&&document[_0x5746ca(0x596)]();}}function enterFullscreen(){const _0x4954d2=_0x5e8eac,_0x493da3=document[_0x4954d2(0x2e7)];if(_0x493da3['requestFullscreen'])_0x493da3['requestFullscreen']()[_0x4954d2(0x88e)](_0x245a60=>{const _0x314253=_0x4954d2;console[_0x314253(0x2a9)](_0x314253(0x7c1)+_0x245a60[_0x314253(0x86b)]+'\x20('+_0x245a60[_0x314253(0x912)]+')');});else{if(_0x493da3[_0x4954d2(0x171)])_0x493da3[_0x4954d2(0x171)]();else _0x493da3[_0x4954d2(0x850)]&&_0x493da3[_0x4954d2(0x850)]();}}function handleCheatingEvent(){const _0x2e6e3b=_0x5e8eac;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x2e6e3b(0x611),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x2e6e3b(0x34c)+maxCheatAttempts+_0x2e6e3b(0x337)),document[_0x2e6e3b(0x839)](_0x2e6e3b(0x30e))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x2e6e3b(0x573)](_0x2e6e3b(0x3d0),handleVisibilityChange),document[_0x2e6e3b(0x573)](_0x2e6e3b(0x715),handleFullscreenChange)):showMessage(_0x2e6e3b(0x404)+cheatAttempts+'/'+maxCheatAttempts+_0x2e6e3b(0x5e8),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x37959a=_0x5e8eac;if(currentMode===_0x37959a(0x286)||!isQuizActive)return;if(document['visibilityState']===_0x37959a(0x28b))handleCheatingEvent();else document['visibilityState']===_0x37959a(0x470)&&(console[_0x37959a(0x902)](_0x37959a(0x5c5)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x25e29c=_0x5e8eac;if(currentMode===_0x25e29c(0x286)||!isQuizActive)return;!document[_0x25e29c(0x8dd)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x48528a){const _0x33063b=_0x5e8eac,_0x3228c5=document[_0x33063b(0x839)]('generated-quiz-container');let _0x74a29d=_0x33063b(0x424)+_0x48528a['topic']+_0x33063b(0x289);_0x48528a['questions'][_0x33063b(0x8de)]((_0x47f0df,_0x2d52fc)=>{const _0xef0f26=_0x33063b;!_0x47f0df['id']&&(_0x47f0df['id']='q_'+Date[_0xef0f26(0x84b)]()+'_'+_0x2d52fc);const _0x384cb2=_0x47f0df[_0xef0f26(0x6d0)]||_0x48528a[_0xef0f26(0x863)];_0x74a29d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22'+_0x2d52fc+_0xef0f26(0x374)+_0x2d52fc+_0xef0f26(0x57c)+_0x2d52fc+_0xef0f26(0x821)+_0x2d52fc+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x384cb2){case _0xef0f26(0x183):_0x74a29d+=_0xef0f26(0x738)+_0x2d52fc+'\x22>'+(_0x2d52fc+0x1)+'.\x20'+_0x47f0df[_0xef0f26(0x3f1)]+'</p>';_0x47f0df[_0xef0f26(0x8b0)]&&(_0x74a29d+=_0xef0f26(0x24b)+_0x2d52fc+_0xef0f26(0x6b5)+_0x47f0df[_0xef0f26(0x8b0)]+_0xef0f26(0x145));_0x74a29d+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x2d52fc+'\x22>'+_0x47f0df[_0xef0f26(0x4a1)]+_0xef0f26(0x3bd),_0x74a29d+=_0xef0f26(0x1e1)+_0x2d52fc+'\x22>'+_0x47f0df[_0xef0f26(0x67e)]+'</span></div>';break;case'short_answer':_0x74a29d+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x2d52fc+'\x22>'+(_0x2d52fc+0x1)+'.\x20'+_0x47f0df[_0xef0f26(0x593)]+'</p>';_0x47f0df[_0xef0f26(0x8b0)]&&(_0x74a29d+='<div\x20id=\x22q-image-container-'+_0x2d52fc+_0xef0f26(0x6b5)+_0x47f0df[_0xef0f26(0x8b0)]+_0xef0f26(0x145));_0x74a29d+='<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-'+_0x2d52fc+'\x22>'+_0x47f0df[_0xef0f26(0x483)]+_0xef0f26(0x3bd),_0x74a29d+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x2d52fc+'\x22>'+_0x47f0df['explanation']+'</span></div>';break;case'true_false':_0x74a29d+=_0xef0f26(0x738)+_0x2d52fc+'\x22>'+(_0x2d52fc+0x1)+'.\x20'+_0x47f0df['questionText']+_0xef0f26(0x5bd);_0x47f0df[_0xef0f26(0x8b0)]&&(_0x74a29d+=_0xef0f26(0x24b)+_0x2d52fc+_0xef0f26(0x6b5)+_0x47f0df[_0xef0f26(0x8b0)]+'</div>');_0x74a29d+=_0xef0f26(0x5db)+(_0x47f0df['correctAnswer']===!![]?_0xef0f26(0x800):'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x47f0df[_0xef0f26(0x788)]===![]?_0xef0f26(0x800):'')+_0xef0f26(0x645),_0x74a29d+=_0xef0f26(0x1e1)+_0x2d52fc+'\x22>'+_0x47f0df['explanation']+_0xef0f26(0x3bd);break;case _0xef0f26(0x266):case _0xef0f26(0x497):default:_0x74a29d+=_0xef0f26(0x738)+_0x2d52fc+'\x22>'+(_0x2d52fc+0x1)+'.\x20'+_0x47f0df['questionText']+_0xef0f26(0x5bd);_0x47f0df[_0xef0f26(0x8b0)]&&(_0x74a29d+=_0xef0f26(0x24b)+_0x2d52fc+_0xef0f26(0x6b5)+_0x47f0df[_0xef0f26(0x8b0)]+_0xef0f26(0x145));_0x74a29d+=_0xef0f26(0x34a)+_0x2d52fc+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x47f0df[_0xef0f26(0x7d8)][_0xef0f26(0x530)]((_0x196be9,_0x2a196c)=>_0xef0f26(0x250)+(_0x2a196c===_0x47f0df[_0xef0f26(0x8f1)]?_0xef0f26(0x800):'')+'\x22>'+_0x196be9+'</li>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>',_0x74a29d+=_0xef0f26(0x1e1)+_0x2d52fc+'\x22>'+_0x47f0df['explanation']+_0xef0f26(0x3bd);break;}_0x74a29d+=_0xef0f26(0x145);}),_0x74a29d+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x3228c5[_0x33063b(0x536)]=_0x74a29d,document[_0x33063b(0x2eb)](_0x33063b(0x697))[_0x33063b(0x8de)](_0x1f468b=>_0x1f468b[_0x33063b(0x2da)](_0x33063b(0x3b0),handleEditQuestion)),document[_0x33063b(0x2eb)]('.regenerate-question-btn')['forEach'](_0x1f04bc=>_0x1f04bc[_0x33063b(0x2da)](_0x33063b(0x3b0),handleRegenerateQuestion)),document[_0x33063b(0x2eb)](_0x33063b(0x412))['forEach'](_0x50e645=>_0x50e645[_0x33063b(0x2da)](_0x33063b(0x3b0),handleSaveToBank)),document['getElementById'](_0x33063b(0x2e9))['addEventListener'](_0x33063b(0x3b0),exportQuizAsWorksheetPDF),document[_0x33063b(0x839)]('save-quiz-btn')[_0x33063b(0x2da)]('click',saveQuiz),document[_0x33063b(0x839)](_0x33063b(0x1d7))[_0x33063b(0x2da)](_0x33063b(0x3b0),handleVerifyAnswers);if(window[_0x33063b(0x20c)])window[_0x33063b(0x20c)][_0x33063b(0x687)]([_0x3228c5]);}function handleRegenerateQuestion(_0x432d93){const _0x2bac9f=_0x5e8eac,_0x41297a=_0x432d93[_0x2bac9f(0x555)]['dataset'][_0x2bac9f(0x1a2)],_0x564316=currentQuizData['topic'];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0x41297a)+0x1)+_0x2bac9f(0x54b)),generateQuiz(_0x564316,null,parseInt(_0x41297a));}function getPointerPosition(_0x357f63,_0x12ba7d){const _0x3149be=_0x5e8eac,_0x1ad52d=_0x357f63[_0x3149be(0x465)]();let _0x580ae5,_0x2d8c41;return _0x12ba7d[_0x3149be(0x619)]&&_0x12ba7d[_0x3149be(0x619)][_0x3149be(0x2d2)]>0x0?(_0x580ae5=_0x12ba7d['touches'][0x0]['clientX'],_0x2d8c41=_0x12ba7d[_0x3149be(0x619)][0x0]['clientY']):(_0x580ae5=_0x12ba7d[_0x3149be(0x150)],_0x2d8c41=_0x12ba7d[_0x3149be(0x76a)]),{'x':(_0x580ae5-_0x1ad52d['e'])/_0x1ad52d['a'],'y':(_0x2d8c41-_0x1ad52d['f'])/_0x1ad52d['d']};}function startDrag(_0x50f571){const _0x6438a0=_0x5e8eac;_0x50f571['type']==='touchstart'&&_0x50f571[_0x6438a0(0x6ba)]();const _0xdba3c1=_0x50f571[_0x6438a0(0x8be)][_0x6438a0(0x2b1)](_0x6438a0(0x2db));if(_0xdba3c1){draggedSvgElement=_0xdba3c1;const _0x5185a5=draggedSvgElement[_0x6438a0(0x8a6)],_0x1c0d06=getPointerPosition(_0x5185a5,_0x50f571);svgOffset['x']=_0x1c0d06['x']-parseFloat(draggedSvgElement['getAttributeNS'](null,'x')),svgOffset['y']=_0x1c0d06['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x23a681,_0x526930){const _0x283005=_0x5e8eac,_0x221207={};if(_0x526930[_0x283005(0x2d2)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x1f1bb9=[..._0x526930][_0x283005(0x163)]((_0x1f314e,_0x534f53)=>{const _0x27d11d=_0x283005,_0x348b91=_0x534f53[_0x27d11d(0x76e)]-_0x1f314e[_0x27d11d(0x76e)];if(_0x348b91!==0x0)return _0x348b91;const _0x40ced2=_0x1f314e[_0x27d11d(0x8a3)]?.[_0x27d11d(0x2d2)]||0x1,_0x159a08=_0x534f53[_0x27d11d(0x8a3)]?.['length']||0x1,_0x2976e3=_0x40ced2-_0x159a08;if(_0x2976e3!==0x0)return _0x2976e3;const _0x4bd521=new Date(_0x1f314e['latestSubmittedAt']),_0x28e06a=new Date(_0x534f53[_0x27d11d(0x5e0)]),_0x169140=_0x4bd521-_0x28e06a;if(_0x169140!==0x0)return _0x169140;return _0x1f314e[_0x27d11d(0x845)][_0x27d11d(0x917)](_0x534f53[_0x27d11d(0x845)],'th');}),_0x560bca=_0x1f1bb9[_0x283005(0x2d2)],_0x6052ad=Math[_0x283005(0x24a)](0x1,Math['floor'](_0x560bca*0.33));if(_0x6052ad===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x220f8f=_0x1f1bb9[_0x283005(0x5f8)](0x0,_0x6052ad),_0x303640=_0x1f1bb9[_0x283005(0x5f8)](-_0x6052ad),_0x48fb62=_0x220f8f[_0x283005(0x530)](_0x1653b8=>_0x1653b8[_0x283005(0x845)]),_0x4421ac=_0x303640[_0x283005(0x530)](_0x355833=>_0x355833[_0x283005(0x845)]);return _0x23a681[_0x283005(0x3ef)][_0x283005(0x8de)]((_0x32e064,_0x2da096)=>{const _0x5c12fd=_0x283005,_0x56eb7d=_0x32e064[_0x5c12fd(0x3f1)]||_0x32e064['questionText'];let _0x545ff2=0x0,_0x442c11=0x0,_0x47ceca=0x0;const _0x1f9b23=[],_0x4731f8=[];_0x220f8f[_0x5c12fd(0x8de)](_0x55b4ae=>{const _0x27071c=_0x5c12fd,_0x4d09d7=_0x55b4ae['attempts'][_0x55b4ae[_0x27071c(0x8a3)][_0x27071c(0x2d2)]-0x1],_0xb08bc=_0x4d09d7[_0x27071c(0x400)][_0x27071c(0x801)](_0x12e5c0=>_0x12e5c0[_0x27071c(0x648)]===_0x56eb7d);_0x1f9b23[_0x27071c(0x8a4)]({'name':_0x55b4ae[_0x27071c(0x845)],'isCorrect':_0xb08bc?_0xb08bc[_0x27071c(0x56c)]:![]}),_0xb08bc&&_0xb08bc[_0x27071c(0x56c)]&&_0x442c11++;}),_0x303640[_0x5c12fd(0x8de)](_0x2be791=>{const _0x49cccb=_0x5c12fd,_0x152a23=_0x2be791['attempts'][_0x2be791[_0x49cccb(0x8a3)][_0x49cccb(0x2d2)]-0x1],_0x488a41=_0x152a23[_0x49cccb(0x400)]['find'](_0x1ce302=>_0x1ce302[_0x49cccb(0x648)]===_0x56eb7d);_0x4731f8[_0x49cccb(0x8a4)]({'name':_0x2be791['studentName'],'isCorrect':_0x488a41?_0x488a41[_0x49cccb(0x56c)]:![]}),_0x488a41&&_0x488a41[_0x49cccb(0x56c)]&&_0x47ceca++;}),_0x526930['forEach'](_0x4f5925=>{const _0xf7eb17=_0x5c12fd,_0x1c1967=_0x4f5925[_0xf7eb17(0x8a3)][_0x4f5925[_0xf7eb17(0x8a3)][_0xf7eb17(0x2d2)]-0x1],_0x51f61c=_0x1c1967[_0xf7eb17(0x400)][_0xf7eb17(0x801)](_0x36e48e=>_0x36e48e[_0xf7eb17(0x648)]===_0x56eb7d);_0x51f61c&&_0x51f61c[_0xf7eb17(0x56c)]&&_0x545ff2++;});const _0x46e027=_0x560bca>0x0?_0x545ff2/_0x560bca:0x0,_0x2519f3=_0x6052ad>0x0?_0x442c11/_0x6052ad-_0x47ceca/_0x6052ad:0x0;_0x221207[_0x2da096]={'p':_0x46e027,'r':_0x2519f3,'upperGroupResponders':_0x1f9b23,'lowerGroupResponders':_0x4731f8};}),{'perQuestionStats':_0x221207,'overallGroups':{'upperGroupNames':_0x48fb62,'lowerGroupNames':_0x4421ac}};}function drag(_0x5734fa){const _0x404ab2=_0x5e8eac;if(draggedSvgElement){_0x5734fa[_0x404ab2(0x6ba)]();const _0x5e7be0=draggedSvgElement[_0x404ab2(0x8a6)],_0x229087=getPointerPosition(_0x5e7be0,_0x5734fa),_0x23c276=_0x5e7be0[_0x404ab2(0x1c6)][_0x404ab2(0x6d6)];let _0x13a7ec=_0x229087['x']-svgOffset['x'],_0x48d0cf=_0x229087['y']-svgOffset['y'];const _0x239d23=draggedSvgElement[_0x404ab2(0x5d9)]();_0x13a7ec=Math[_0x404ab2(0x24a)](_0x23c276['x'],Math[_0x404ab2(0x377)](_0x13a7ec,_0x23c276['x']+_0x23c276[_0x404ab2(0x239)]-_0x239d23[_0x404ab2(0x239)])),_0x48d0cf=Math[_0x404ab2(0x24a)](_0x23c276['y'],Math['min'](_0x48d0cf,_0x23c276['y']+_0x23c276[_0x404ab2(0x382)]-_0x239d23[_0x404ab2(0x382)])),draggedSvgElement[_0x404ab2(0x3e4)](null,'x',_0x13a7ec),draggedSvgElement['setAttributeNS'](null,'y',_0x48d0cf);}}function endDrag(_0x209fc3){draggedSvgElement=null;}function handleSvgEditClick(_0xad96d4){const _0x323468=_0x5e8eac;if(_0xad96d4[_0x323468(0x8be)][_0x323468(0x298)][_0x323468(0x8e0)](_0x323468(0x37f))){const _0x479c84=_0xad96d4[_0x323468(0x8be)][_0x323468(0x6b1)][_0x323468(0x612)],_0xc7d33e=_0xad96d4[_0x323468(0x555)],_0x5cad92=_0xc7d33e[_0x323468(0x2cf)]('#'+_0x479c84);_0x5cad92&&_0x5cad92[_0x323468(0x514)](),_0xad96d4['target'][_0x323468(0x514)]();}}function handleEditQuestion(_0x389e8f){const _0x211e03=_0x5e8eac,_0x324413=_0x389e8f[_0x211e03(0x555)],_0x4a9cc2=_0x324413[_0x211e03(0x6b1)]['index'],_0x12996f=currentQuizData['questions'][_0x4a9cc2],_0xce479e=document['getElementById'](_0x211e03(0x6b8)+_0x4a9cc2),_0x1ca3df=document[_0x211e03(0x839)](_0x211e03(0x729)+_0x4a9cc2),_0x4a879d=document['getElementById']('q-image-container-'+_0x4a9cc2);if(_0x324413['innerHTML'][_0x211e03(0x6f6)](_0x211e03(0x868))){_0x324413[_0x211e03(0x536)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x324413['title']=_0x211e03(0x7ff);if(_0xce479e)_0xce479e[_0x211e03(0x849)]=!![];if(_0x1ca3df)_0x1ca3df['contentEditable']=!![];if(_0x4a879d){const _0x3c1042=_0x4a879d['querySelector']('svg');if(_0x3c1042){const _0xe6b6d0=_0x3c1042[_0x211e03(0x2eb)](_0x211e03(0x2a6));_0xe6b6d0[_0x211e03(0x8de)]((_0x46c214,_0x2f8bde)=>{const _0xed4349=_0x211e03,_0x42bc07=_0xed4349(0x43c)+_0x4a9cc2+'-'+_0x2f8bde;_0x46c214['id']=_0x42bc07,_0x46c214[_0xed4349(0x298)][_0xed4349(0x36a)](_0xed4349(0x511)),_0x46c214[_0xed4349(0x685)]['cursor']=_0xed4349(0x282);const _0x398378=document[_0xed4349(0x6d4)](_0xed4349(0x3e7),_0xed4349(0x857)),_0x1fe6d5=_0x46c214[_0xed4349(0x5d9)]();_0x398378[_0xed4349(0x3de)]('cx',String(_0x1fe6d5['x']+_0x1fe6d5[_0xed4349(0x239)]+0x5)),_0x398378[_0xed4349(0x3de)]('cy',String(_0x1fe6d5['y']+_0x1fe6d5[_0xed4349(0x382)]/0x2-0x5)),_0x398378['setAttribute']('r','5'),_0x398378[_0xed4349(0x3de)](_0xed4349(0x78f),_0xed4349(0x4f7)),_0x398378[_0xed4349(0x3de)](_0xed4349(0x68d),_0xed4349(0x37f)),_0x398378['dataset'][_0xed4349(0x612)]=_0x42bc07,_0x46c214['after'](_0x398378);}),_0x3c1042['addEventListener'](_0x211e03(0x33e),startDrag),_0x3c1042[_0x211e03(0x2da)]('mousemove',drag),_0x3c1042[_0x211e03(0x2da)](_0x211e03(0x903),endDrag),_0x3c1042[_0x211e03(0x2da)](_0x211e03(0x40a),endDrag),_0x3c1042[_0x211e03(0x2da)](_0x211e03(0x654),startDrag,{'passive':![]}),_0x3c1042[_0x211e03(0x2da)](_0x211e03(0x6fe),drag,{'passive':![]}),_0x3c1042[_0x211e03(0x2da)](_0x211e03(0x565),endDrag),_0x3c1042['addEventListener'](_0x211e03(0x1b6),endDrag),_0x3c1042['addEventListener'](_0x211e03(0x3b0),handleSvgEditClick);}}if(_0xce479e)_0xce479e[_0x211e03(0x8d6)]();}else{_0x324413[_0x211e03(0x536)]=_0x211e03(0x4dc),_0x324413['title']='แก้ไขข้อนี้';if(_0xce479e){_0xce479e[_0x211e03(0x849)]=![];const _0x467ef5=_0x12996f['questionType']||currentQuizData[_0x211e03(0x863)];_0x467ef5===_0x211e03(0x183)?_0x12996f[_0x211e03(0x3f1)]=_0xce479e[_0x211e03(0x460)]['substring'](_0xce479e[_0x211e03(0x460)]['indexOf']('.')+0x2)[_0x211e03(0x3dd)]():_0x12996f['questionText']=_0xce479e['innerText'][_0x211e03(0x5a5)](_0xce479e['innerText']['indexOf']('.')+0x2)[_0x211e03(0x3dd)]();}_0x1ca3df&&(_0x1ca3df[_0x211e03(0x849)]=![],_0x12996f[_0x211e03(0x67e)]=_0x1ca3df[_0x211e03(0x460)]);if(_0x4a879d){const _0x34b064=_0x4a879d[_0x211e03(0x2cf)]('svg');if(_0x34b064){const _0xb3171=_0x34b064[_0x211e03(0x21f)](!![]);_0xb3171[_0x211e03(0x2eb)]('.delete-svg-btn')[_0x211e03(0x8de)](_0x2a33d0=>_0x2a33d0[_0x211e03(0x514)]()),_0xb3171[_0x211e03(0x2eb)](_0x211e03(0x2db))[_0x211e03(0x8de)](_0x5ce187=>{const _0x5c1c2b=_0x211e03;_0x5ce187[_0x5c1c2b(0x298)][_0x5c1c2b(0x514)]('draggable-text'),_0x5ce187[_0x5c1c2b(0x685)][_0x5c1c2b(0x62a)]='default',_0x5ce187[_0x5c1c2b(0x306)]('id');}),_0x12996f[_0x211e03(0x8b0)]=_0xb3171[_0x211e03(0x48a)],_0x34b064['removeEventListener']('mousedown',startDrag),_0x34b064['removeEventListener'](_0x211e03(0x8a8),drag),_0x34b064['removeEventListener']('mouseup',endDrag),_0x34b064[_0x211e03(0x573)](_0x211e03(0x40a),endDrag),_0x34b064[_0x211e03(0x573)](_0x211e03(0x654),startDrag),_0x34b064[_0x211e03(0x573)]('touchmove',drag),_0x34b064[_0x211e03(0x573)](_0x211e03(0x565),endDrag),_0x34b064[_0x211e03(0x573)](_0x211e03(0x1b6),endDrag),_0x34b064[_0x211e03(0x573)](_0x211e03(0x3b0),handleSvgEditClick),_0x34b064['querySelectorAll'](_0x211e03(0x1af))[_0x211e03(0x8de)](_0x321a19=>_0x321a19[_0x211e03(0x514)]()),_0x34b064[_0x211e03(0x2eb)](_0x211e03(0x2db))['forEach'](_0x39ae5e=>{const _0x38858c=_0x211e03;_0x39ae5e[_0x38858c(0x298)][_0x38858c(0x514)](_0x38858c(0x511)),_0x39ae5e[_0x38858c(0x685)][_0x38858c(0x62a)]=_0x38858c(0x69b);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0xf8ec8d){const _0x43a6b1=_0x5e8eac,_0x338c67=document[_0x43a6b1(0x839)](_0x43a6b1(0x37c)),_0x4cfba1=document[_0x43a6b1(0x839)](_0x43a6b1(0x396));_0x4cfba1['innerHTML']=_0x43a6b1(0x8ef),_0x338c67['classList'][_0x43a6b1(0x514)]('hidden');try{const _0x195eb9=doc(db,_0x43a6b1(0x705)+appId+_0x43a6b1(0x780),_0xf8ec8d),_0x5ee8cf=await getDoc(_0x195eb9);if(!_0x5ee8cf[_0x43a6b1(0x15e)]())throw new Error(_0x43a6b1(0x28c));currentEditingQuizData={'id':_0xf8ec8d,..._0x5ee8cf[_0x43a6b1(0x4b3)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x3fc823){console['error'](_0x43a6b1(0x921),_0x3fc823),showMessage('เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ'),_0x338c67[_0x43a6b1(0x298)][_0x43a6b1(0x36a)](_0x43a6b1(0x28b));}}function renderQuizEditor(_0x30979d){const _0x1e368a=_0x5e8eac;document[_0x1e368a(0x839)](_0x1e368a(0x49d))[_0x1e368a(0x3e5)]=_0x30979d[_0x1e368a(0x1bf)];const _0x149453=document[_0x1e368a(0x839)](_0x1e368a(0x396));let _0x544b2a=_0x30979d[_0x1e368a(0x3ef)]['map']((_0x421759,_0x2ea781)=>{const _0x3d7932=_0x1e368a;let _0x15fad6='';const _0x5fa196=_0x421759[_0x3d7932(0x6d0)]||_0x30979d['quizType'];switch(_0x5fa196){case _0x3d7932(0x497):const _0x38c4a7=(_0x421759[_0x3d7932(0x7d8)]||[])[_0x3d7932(0x530)]((_0x26e05c,_0x9355fc)=>_0x3d7932(0x288)+_0x2ea781+'\x22\x20value=\x22'+_0x9355fc+'\x22\x20'+(_0x9355fc===_0x421759[_0x3d7932(0x8f1)]?'checked':'')+_0x3d7932(0x484)+_0x26e05c+_0x3d7932(0x889))[_0x3d7932(0x4b4)]('');_0x15fad6=_0x3d7932(0x720)+_0x38c4a7+_0x3d7932(0x1b1);break;case _0x3d7932(0x3a8):_0x15fad6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x421759['idealAnswer']||'')+_0x3d7932(0x606);break;case _0x3d7932(0x679):_0x15fad6=_0x3d7932(0x859)+_0x2ea781+_0x3d7932(0x6ff)+(_0x421759['correctAnswer']===!![]?_0x3d7932(0x1d1):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x2ea781+_0x3d7932(0x7c2)+(_0x421759[_0x3d7932(0x788)]===![]?'checked':'')+_0x3d7932(0x2d5);break;case'matching_item':_0x15fad6=_0x3d7932(0x6db)+(_0x421759[_0x3d7932(0x4a1)]||'')+_0x3d7932(0x2ac);break;}const _0x4bc81a=_0x421759[_0x3d7932(0x593)]||_0x421759[_0x3d7932(0x3f1)]||'';return _0x3d7932(0x61f)+_0x2ea781+_0x3d7932(0x29c)+_0x5fa196+_0x3d7932(0x287)+(_0x2ea781+0x1)+'\x20('+_0x5fa196+'):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>'+_0x4bc81a+_0x3d7932(0x5f2)+_0x15fad6+_0x3d7932(0x7e2);})[_0x1e368a(0x4b4)]('');_0x149453[_0x1e368a(0x536)]=_0x544b2a;}async function handleSaveChanges(){const _0x2ccede=_0x5e8eac,_0x29d865=document[_0x2ccede(0x839)](_0x2ccede(0x860));_0x29d865[_0x2ccede(0x4d1)]=!![],_0x29d865[_0x2ccede(0x536)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';try{const _0x43de92=document['getElementById'](_0x2ccede(0x49d))[_0x2ccede(0x3e5)],_0x242c96=document[_0x2ccede(0x2eb)](_0x2ccede(0x5cd));let _0x2a6218=[];const _0x387a71=Array[_0x2ccede(0x770)](_0x242c96)[_0x2ccede(0x530)]((_0x34c488,_0x21af39)=>{const _0xd963de=_0x2ccede,_0xce2c6a=_0x34c488[_0xd963de(0x6b1)][_0xd963de(0x419)],_0x30e768=_0x34c488[_0xd963de(0x2cf)](_0xd963de(0x265))[_0xd963de(0x3e5)];let _0x63594c={'questionType':_0xce2c6a};const _0x19bea3=currentEditingQuizData['questions'][_0x21af39];switch(_0xce2c6a){case _0xd963de(0x497):_0x63594c[_0xd963de(0x593)]=_0x30e768;const _0x475bcd=_0x34c488[_0xd963de(0x2eb)](_0xd963de(0x209));_0x63594c['options']=Array[_0xd963de(0x770)](_0x475bcd)[_0xd963de(0x530)](_0x952790=>_0x952790['value']);const _0x2ef53a=_0x34c488[_0xd963de(0x2cf)](_0xd963de(0x69a));_0x63594c[_0xd963de(0x8f1)]=_0x2ef53a?parseInt(_0x2ef53a[_0xd963de(0x3e5)]):0x0;break;case _0xd963de(0x3a8):_0x63594c[_0xd963de(0x593)]=_0x30e768,_0x63594c[_0xd963de(0x483)]=_0x34c488[_0xd963de(0x2cf)](_0xd963de(0x80c))[_0xd963de(0x3e5)];break;case _0xd963de(0x679):_0x63594c[_0xd963de(0x593)]=_0x30e768;const _0x2d62b3=_0x34c488[_0xd963de(0x2cf)](_0xd963de(0x69a));_0x63594c['correctAnswer']=_0x2d62b3?_0x2d62b3['value']==='true':!![];break;case'matching_item':_0x63594c['stem']=_0x30e768;const _0x4a429e=_0x34c488[_0xd963de(0x2cf)](_0xd963de(0x32e));_0x63594c[_0xd963de(0x4a1)]=_0x4a429e?_0x4a429e[_0xd963de(0x3e5)]:'',_0x2a6218['push'](_0x63594c[_0xd963de(0x4a1)]);break;default:_0x63594c[_0xd963de(0x593)]=_0x30e768;break;}return{..._0x19bea3,..._0x63594c};});_0x2a6218['length']>0x0&&_0x387a71['forEach'](_0x642b45=>{const _0x4bf8eb=_0x2ccede;_0x642b45[_0x4bf8eb(0x6d0)]==='matching_item'&&(_0x642b45[_0x4bf8eb(0x5d8)]=_0x2a6218);});const _0x1fc93e=currentEditingQuizData['id'],_0x380704=doc(db,'artifacts/'+appId+_0x2ccede(0x780),_0x1fc93e);await updateDoc(_0x380704,{'topic':_0x43de92,'questions':_0x387a71}),document[_0x2ccede(0x839)](_0x2ccede(0x37c))[_0x2ccede(0x298)][_0x2ccede(0x36a)](_0x2ccede(0x28b)),showMessage(_0x2ccede(0x12f),()=>initiateReGradeProcess(_0x1fc93e));}catch(_0x411a3f){console[_0x2ccede(0x2a9)](_0x2ccede(0x518),_0x411a3f),showMessage(_0x2ccede(0x722));}finally{_0x29d865[_0x2ccede(0x4d1)]=![],_0x29d865[_0x2ccede(0x536)]=_0x2ccede(0x13f);}}async function initiateReGradeProcess(_0x2b4226){const _0x866078=_0x5e8eac;showMessage(_0x866078(0x4cf));try{const _0xee6b93=doc(db,'artifacts/'+appId+_0x866078(0x780),_0x2b4226),_0x3c133d=await getDoc(_0xee6b93);if(!_0x3c133d['exists']())throw new Error(_0x866078(0x5ab));const _0x5e97d6={'id':_0x2b4226,..._0x3c133d[_0x866078(0x4b3)]()},_0x332ef1=collection(db,_0x866078(0x705)+appId+_0x866078(0x780),_0x2b4226,'submissions'),_0x5b2a9d=await getDocs(_0x332ef1);if(_0x5b2a9d[_0x866078(0x791)]){showMessage(_0x866078(0x4f1));return;}const _0x39443c=_0x5b2a9d[_0x866078(0x42d)][_0x866078(0x530)](_0x392417=>reGradeSingleSubmission(_0x392417,_0x5e97d6));await Promise['all'](_0x39443c);if(_0x5e97d6['projectId']){const _0x1d15b5=doc(db,_0x866078(0x705)+appId+_0x866078(0x1a6),_0x5e97d6[_0x866078(0x1cb)]),_0x33c0ea=await getDoc(_0x1d15b5);if(_0x33c0ea['exists']()&&_0x33c0ea[_0x866078(0x4b3)]()[_0x866078(0x221)]){const _0x53be14=_0x33c0ea[_0x866078(0x4b3)]()['students'][_0x866078(0x530)](_0x200b67=>updateStudentProfile(_0x5e97d6[_0x866078(0x1cb)],_0x200b67));await Promise[_0x866078(0x7e3)](_0x53be14);}}showMessage(_0x866078(0x71f)+_0x5b2a9d['size']+_0x866078(0x332));}catch(_0x56a5c6){console[_0x866078(0x2a9)](_0x866078(0x438),_0x56a5c6),showMessage(_0x866078(0x760)+_0x56a5c6[_0x866078(0x86b)]);}}async function reGradeSingleSubmission(_0x2fd84f,_0x19b16d){const _0x4cae22=_0x5e8eac,_0x23af35=_0x2fd84f[_0x4cae22(0x4b3)](),_0x4ac8db=_0x23af35[_0x4cae22(0x845)],_0x318ee1=_0x23af35[_0x4cae22(0x8a3)]||[],_0x1055a2=[];for(const _0x271995 of _0x318ee1){let _0x1aca46=0x0,_0x1c6ced=[],_0x498ce6=0x0;const _0x363655=[];for(const _0x1dd2a4 of _0x271995[_0x4cae22(0x400)]){let _0x217152;_0x1dd2a4[_0x4cae22(0x741)]&&(_0x217152=_0x19b16d[_0x4cae22(0x3ef)][_0x4cae22(0x801)](_0x475fb5=>_0x475fb5['id']===_0x1dd2a4[_0x4cae22(0x741)]));!_0x217152&&_0x1dd2a4[_0x4cae22(0x648)]&&(_0x217152=_0x19b16d[_0x4cae22(0x3ef)][_0x4cae22(0x801)](_0x514c60=>(_0x514c60[_0x4cae22(0x3f1)]||_0x514c60['questionText'])===_0x1dd2a4[_0x4cae22(0x648)]));let _0x3b7695=![];if(_0x217152){const _0x3dab09=_0x217152[_0x4cae22(0x6d0)]||_0x19b16d[_0x4cae22(0x863)];switch(_0x3dab09){case'multiple_choice':if(_0x217152[_0x4cae22(0x7d8)]&&_0x217152[_0x4cae22(0x8f1)]<_0x217152[_0x4cae22(0x7d8)][_0x4cae22(0x2d2)]){const _0x1c7f88=_0x217152[_0x4cae22(0x7d8)][_0x217152['correctAnswerIndex']];_0x3b7695=_0x1dd2a4[_0x4cae22(0x2be)]===_0x1c7f88;}break;case _0x4cae22(0x679):const _0x1ecc4c=_0x1dd2a4['answer']===!![]||_0x1dd2a4[_0x4cae22(0x2b3)]==='true';_0x3b7695=_0x1ecc4c===_0x217152[_0x4cae22(0x788)];break;case _0x4cae22(0x183):_0x3b7695=_0x1dd2a4['answer']===_0x217152[_0x4cae22(0x4a1)];break;case _0x4cae22(0x3a8):_0x3b7695=await gradeShortAnswer(_0x1dd2a4[_0x4cae22(0x2b3)],_0x217152);break;default:_0x3b7695=_0x1dd2a4[_0x4cae22(0x56c)];break;}}if(_0x3b7695){_0x1aca46++,_0x498ce6++;if(_0x498ce6===0x3)_0x1c6ced[_0x4cae22(0x8a4)](BADGES[_0x4cae22(0x3a1)]['id']);}else _0x498ce6=0x0;_0x363655[_0x4cae22(0x8a4)]({..._0x1dd2a4,'isCorrect':_0x3b7695});}let _0x4eb6df=_0x1aca46*0xa;_0x1aca46===_0x19b16d[_0x4cae22(0x3ef)][_0x4cae22(0x2d2)]&&(_0x4eb6df+=0x32,_0x1c6ced['push'](BADGES[_0x4cae22(0x830)]['id'])),_0x1055a2['push']({..._0x271995,'score':_0x1aca46,'points':_0x4eb6df,'badges':Array[_0x4cae22(0x770)](new Set(_0x1c6ced)),'answers':_0x363655});}const _0x191c41=_0x1055a2[_0x4cae22(0x2d2)]>0x0?_0x1055a2[0x0][_0x4cae22(0x2d1)]:0x0,_0x4c2d0b=Math[_0x4cae22(0x24a)](..._0x1055a2[_0x4cae22(0x530)](_0x198183=>_0x198183['score'])),_0x2ecda1=_0x1055a2[_0x4cae22(0x2d2)]>0x0?_0x1055a2[_0x1055a2[_0x4cae22(0x2d2)]-0x1][_0x4cae22(0x2d1)]:0x0,_0x4d4889=_0x1055a2[_0x4cae22(0x2d2)]>0x0?_0x1055a2[_0x1055a2['length']-0x1]['points']:0x0,_0x152708=doc(db,'artifacts/'+appId+_0x4cae22(0x736)+_0x19b16d['id']+_0x4cae22(0x23e),_0x4ac8db);await updateDoc(_0x152708,{'attempts':_0x1055a2,'firstScore':_0x191c41,'bestScore':_0x4c2d0b,'latestScore':_0x2ecda1,'points':_0x4d4889});}function cleanupQuizOptions(_0x187a27){const _0x28f3c5=_0x5e8eac,_0x72e2da=(_0x14030b,_0x5c0223)=>_0x5c0223===0x0?_0x14030b:_0x72e2da(_0x5c0223,_0x14030b%_0x5c0223),_0x3011f5=_0x35bd3b=>{const _0x15fb5c=_0x45d9;if(typeof _0x35bd3b!==_0x15fb5c(0x43b))return null;_0x35bd3b=_0x35bd3b[_0x15fb5c(0x3dd)]();const _0x1fcf36=_0x35bd3b['split'](/[ /]/)[_0x15fb5c(0x579)](_0x2537c2=>_0x2537c2!=='');if(_0x1fcf36[_0x15fb5c(0x2d2)]===0x3)return parseInt(_0x1fcf36[0x0])+parseInt(_0x1fcf36[0x1])/parseInt(_0x1fcf36[0x2]);else{if(_0x1fcf36['length']===0x2)return parseInt(_0x1fcf36[0x0])/parseInt(_0x1fcf36[0x1]);else{if(_0x1fcf36[_0x15fb5c(0x2d2)]===0x1&&!isNaN(_0x1fcf36[0x0]))return parseFloat(_0x1fcf36[0x0]);}}return null;},_0x2f3aa3=_0x428308=>{const _0x4582e1=_0x45d9;if(typeof _0x428308!=='string')return _0x428308;const _0x257201=_0x428308[_0x4582e1(0x4ff)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x257201){const _0x319b50=parseInt(_0x257201[0x1]);let _0xf20b90=parseInt(_0x257201[0x2]),_0x7f89a0=parseInt(_0x257201[0x3]);const _0x211e76=_0x72e2da(_0xf20b90,_0x7f89a0);_0xf20b90/=_0x211e76,_0x7f89a0/=_0x211e76;if(_0x7f89a0===0x1)return(_0x319b50+_0xf20b90)[_0x4582e1(0x472)]();return _0x319b50+'\x20'+_0xf20b90+'/'+_0x7f89a0;}return _0x428308;};return _0x187a27&&_0x187a27[_0x28f3c5(0x3ef)]&&_0x187a27['questions']['forEach'](_0x16d65e=>{const _0x597163=_0x28f3c5;if(_0x16d65e['questionType']===_0x597163(0x497)&&_0x16d65e['options']){const _0x3bd0cd=new Map(),_0x257ecf=_0x16d65e[_0x597163(0x7d8)][_0x16d65e[_0x597163(0x8f1)]];_0x16d65e[_0x597163(0x7d8)]['forEach'](_0x1de3f8=>{const _0x4e066c=_0x597163,_0x136ca2=_0x2f3aa3(_0x1de3f8),_0x536d06=_0x3011f5(_0x136ca2);_0x536d06!==null&&!_0x3bd0cd['has'](_0x536d06)&&_0x3bd0cd[_0x4e066c(0x79b)](_0x536d06,_0x136ca2);}),_0x16d65e[_0x597163(0x7d8)]=Array[_0x597163(0x770)](_0x3bd0cd[_0x597163(0x5e7)]());const _0x57edd2=_0x16d65e[_0x597163(0x7d8)][_0x597163(0x333)](_0x44bb4d=>_0x44bb4d===_0x2f3aa3(_0x257ecf));_0x16d65e[_0x597163(0x8f1)]=_0x57edd2!==-0x1?_0x57edd2:0x0;}}),_0x187a27;}async function saveQuiz(){const _0x3a78bc=_0x5e8eac;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x3a78bc(0x3ef)]||!userId){showMessage(_0x3a78bc(0x1ec));return;}const _0x43c0d3=document['getElementById']('save-quiz-btn');_0x43c0d3['disabled']=!![],_0x43c0d3[_0x3a78bc(0x536)]=_0x3a78bc(0x8fd);const _0x5471bd=document[_0x3a78bc(0x839)]('pre-test-checkbox')[_0x3a78bc(0x1d1)];let _0x491ef2=document[_0x3a78bc(0x839)](_0x3a78bc(0x2e4))[_0x3a78bc(0x460)][_0x3a78bc(0x3dd)]();_0x5471bd&&!_0x491ef2[_0x3a78bc(0x3f2)](_0x3a78bc(0x26e))&&(_0x491ef2=_0x3a78bc(0x5b2)+_0x491ef2);try{const _0x10cf85={'resultsDisplay':document[_0x3a78bc(0x839)](_0x3a78bc(0x787))['value'],'shuffle':document[_0x3a78bc(0x839)](_0x3a78bc(0x578))[_0x3a78bc(0x3e5)],'timerMode':document[_0x3a78bc(0x839)]('timer-mode-select')[_0x3a78bc(0x3e5)],'timerDuration':parseInt(document[_0x3a78bc(0x839)](_0x3a78bc(0x234))[_0x3a78bc(0x3e5)])||0xa,'passingScore':parseInt(document[_0x3a78bc(0x839)]('passing-score-input')[_0x3a78bc(0x3e5)])||0x0,'isAdaptive':document['getElementById'](_0x3a78bc(0x8ec))['checked'],'loopUntilPass':document[_0x3a78bc(0x839)]('loop-until-pass-checkbox')[_0x3a78bc(0x1d1)]},_0x49db40=(currentQuizData[_0x3a78bc(0x3ef)]||[])['map']((_0x55291b,_0x5aeeda)=>{const _0x1f673a=_0x3a78bc,_0x257a5b=document[_0x1f673a(0x839)](_0x1f673a(0x5da))[_0x1f673a(0x3e5)],_0xab7c49={'id':'q_'+Date['now']()+'_'+_0x5aeeda,'questionText':_0x55291b[_0x1f673a(0x593)]||'','explanation':_0x55291b[_0x1f673a(0x67e)]||_0x1f673a(0x822),'questionType':_0x55291b['questionType']||_0x257a5b,'imageCode':_0x55291b[_0x1f673a(0x8b0)]||null};return(_0xab7c49[_0x1f673a(0x6d0)]===_0x1f673a(0x497)||_0xab7c49[_0x1f673a(0x6d0)]===_0x1f673a(0x459)||_0xab7c49[_0x1f673a(0x6d0)]===_0x1f673a(0x152)&&_0x55291b['options'])&&(_0xab7c49['options']=_0x55291b[_0x1f673a(0x7d8)]||[],_0xab7c49[_0x1f673a(0x8f1)]=_0x55291b[_0x1f673a(0x8f1)]!==undefined?_0x55291b[_0x1f673a(0x8f1)]:0x0),(_0xab7c49[_0x1f673a(0x6d0)]===_0x1f673a(0x3a8)||_0xab7c49[_0x1f673a(0x6d0)]===_0x1f673a(0x71e)||_0xab7c49[_0x1f673a(0x6d0)]===_0x1f673a(0x152)&&_0x55291b['idealAnswer'])&&(_0xab7c49['idealAnswer']=_0x55291b[_0x1f673a(0x483)]||''),_0xab7c49[_0x1f673a(0x6d0)]==='true_false'&&(_0xab7c49[_0x1f673a(0x788)]=_0x55291b[_0x1f673a(0x788)]===!![]),_0xab7c49[_0x1f673a(0x6d0)]===_0x1f673a(0x183)&&(_0xab7c49[_0x1f673a(0x3f1)]=_0x55291b['stem']||'',_0xab7c49[_0x1f673a(0x4a1)]=_0x55291b['correctResponse']||'',_0xab7c49[_0x1f673a(0x5d8)]=_0x55291b[_0x1f673a(0x5d8)]||[]),_0xab7c49;}),_0x58969e={'topic':_0x491ef2,'quizType':currentQuizData[_0x3a78bc(0x863)]||'multiple_choice','questions':_0x49db40,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x3a78bc(0x550)](),'status':_0x3a78bc(0x38b),'settings':_0x10cf85,'quizMode':_0x5471bd?_0x3a78bc(0x907):_0x3a78bc(0x649),'pairedQuizId':null,'lessonPlan':null};let _0x3e6d9c;while(!![]){_0x3e6d9c=Math[_0x3a78bc(0x1a1)](0x3e8+Math[_0x3a78bc(0x195)]()*0x2328)[_0x3a78bc(0x472)]();const _0x235c90=await getDoc(doc(db,_0x3a78bc(0x705)+appId+_0x3a78bc(0x780),_0x3e6d9c));if(!_0x235c90[_0x3a78bc(0x15e)]())break;}await setDoc(doc(db,_0x3a78bc(0x705)+appId+'/public/data/quizzes',_0x3e6d9c),_0x58969e),currentQuizData[_0x3a78bc(0x248)]=_0x10cf85,currentQuizData['id']=_0x3e6d9c;const _0x21e6a8=document[_0x3a78bc(0x839)]('generated-quiz-actions');_0x21e6a8[_0x3a78bc(0x536)]=_0x3a78bc(0x4cc)+_0x3e6d9c+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document[_0x3a78bc(0x839)](_0x3a78bc(0x46a))[_0x3a78bc(0x2da)](_0x3a78bc(0x3b0),()=>copyTextToClipboard(_0x3e6d9c,_0x3a78bc(0x3c3))),document[_0x3a78bc(0x839)]('start-live-race-generated-btn')[_0x3a78bc(0x2da)]('click',()=>handleStartLiveRace(_0x3e6d9c)),document['getElementById'](_0x3a78bc(0x894))[_0x3a78bc(0x2da)]('click',()=>startPresentation(currentQuizData)),document[_0x3a78bc(0x839)](_0x3a78bc(0x6b7))[_0x3a78bc(0x2da)]('click',startAdminTest),showMessage(_0x3a78bc(0x5eb));}catch(_0x803a4d){console[_0x3a78bc(0x2a9)](_0x3a78bc(0x190),_0x803a4d),showMessage(_0x3a78bc(0x140)),_0x43c0d3[_0x3a78bc(0x4d1)]=![],_0x43c0d3['innerHTML']=_0x3a78bc(0x688);}}function promptForProjectAndSave(){const _0x3005ad=_0x5e8eac,_0x279dcf=document[_0x3005ad(0x839)](_0x3005ad(0x5dd)),_0x2de2db=document[_0x3005ad(0x839)]('move-quiz-project-select'),_0x375276=_0x279dcf['querySelector']('h3'),_0x12632e=document['getElementById'](_0x3005ad(0x2d6));_0x375276[_0x3005ad(0x4ca)]=_0x3005ad(0x6a8),_0x12632e[_0x3005ad(0x4ca)]=_0x3005ad(0x680);allProjects['length']===0x0?(_0x2de2db[_0x3005ad(0x536)]=_0x3005ad(0x6cf),_0x12632e[_0x3005ad(0x4d1)]=!![]):(_0x2de2db['innerHTML']=allProjects['map'](_0x33ee84=>_0x3005ad(0x7fa)+_0x33ee84['id']+'\x22>'+_0x33ee84[_0x3005ad(0x134)]+_0x3005ad(0x277))['join'](''),_0x12632e[_0x3005ad(0x4d1)]=![]);_0x279dcf[_0x3005ad(0x298)][_0x3005ad(0x514)](_0x3005ad(0x28b));const _0x6eeaaf=()=>{const _0x4aa833=_0x3005ad,_0x12dfb2=_0x2de2db[_0x4aa833(0x3e5)];_0x12dfb2?(currentProjectId=_0x12dfb2,_0x279dcf[_0x4aa833(0x298)][_0x4aa833(0x36a)](_0x4aa833(0x28b)),saveQuiz(),_0x375276[_0x4aa833(0x4ca)]=_0x4aa833(0x703),_0x12632e[_0x4aa833(0x4ca)]=_0x4aa833(0x708),_0x12632e[_0x4aa833(0x573)]('click',_0x6eeaaf),_0x12632e[_0x4aa833(0x2da)](_0x4aa833(0x3b0),confirmMoveQuiz)):showMessage(_0x4aa833(0x506));};_0x12632e[_0x3005ad(0x573)](_0x3005ad(0x3b0),confirmMoveQuiz),_0x12632e[_0x3005ad(0x2da)](_0x3005ad(0x3b0),_0x6eeaaf);}function copyTextToClipboard(_0x448288,_0x5861a9){const _0x2be741=_0x5e8eac,_0x5cb651=document[_0x2be741(0x341)](_0x2be741(0x265));_0x5cb651[_0x2be741(0x3e5)]=_0x448288,_0x5cb651[_0x2be741(0x685)]['position']=_0x2be741(0x27b),_0x5cb651[_0x2be741(0x685)]['opacity']='0',document[_0x2be741(0x1ed)][_0x2be741(0x38d)](_0x5cb651),_0x5cb651['focus'](),_0x5cb651[_0x2be741(0x196)]();try{const _0x216a47=document[_0x2be741(0x746)](_0x2be741(0x1a4));showMessage(_0x216a47?_0x5861a9:_0x2be741(0x57b));}catch(_0x259279){showMessage(_0x2be741(0x57b)),console[_0x2be741(0x2a9)]('Copy\x20command\x20failed',_0x259279);}document[_0x2be741(0x1ed)][_0x2be741(0x752)](_0x5cb651);}function listenForProjectQuizzes(_0x29da44){const _0x113f56=_0x5e8eac,_0x38fa4a=collection(db,_0x113f56(0x705)+appId+_0x113f56(0x780)),_0x30b2f7=query(_0x38fa4a,where('projectId','==',_0x29da44));unsubscribeQuizzesListener=onSnapshot(_0x30b2f7,async _0x55d128=>{const _0xe771d1=_0x113f56;allQuizzes=_0x55d128['docs'][_0xe771d1(0x530)](_0x3371fa=>({'id':_0x3371fa['id'],..._0x3371fa[_0xe771d1(0x4b3)]()})),renderQuizzes();},_0x205c92=>{const _0x2f1721=_0x113f56;console[_0x2f1721(0x2a9)]('Error\x20fetching\x20project\x20quizzes:',_0x205c92),document[_0x2f1721(0x839)](_0x2f1721(0x51f))[_0x2f1721(0x536)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x59b979=_0x5e8eac,_0x1fc0e7=document[_0x59b979(0x839)]('project-quizzes-list'),_0x215932=document['getElementById'](_0x59b979(0x52e))['value']['toLowerCase']();let _0x4edd8a;currentProjectId==='starred'?_0x4edd8a=starredQuizzes:_0x4edd8a=allQuizzes;let _0x19d9be=_0x4edd8a[_0x59b979(0x579)](_0x17f58f=>_0x17f58f[_0x59b979(0x1bf)]['toLowerCase']()[_0x59b979(0x6f6)](_0x215932));_0x19d9be[_0x59b979(0x163)]((_0x562acd,_0x2c29e9)=>new Date(_0x2c29e9[_0x59b979(0x5a6)])-new Date(_0x562acd[_0x59b979(0x5a6)]));if(_0x19d9be[_0x59b979(0x2d2)]===0x0){_0x1fc0e7[_0x59b979(0x536)]=_0x59b979(0x72a);return;}const _0x5af45a={},_0x342a51=_0x19d9be[_0x59b979(0x530)](async _0x5f06bd=>{const _0x472655=_0x59b979,_0x6d091b=collection(db,_0x472655(0x705)+appId+_0x472655(0x736)+_0x5f06bd['id']+_0x472655(0x23e)),_0x3cf972=await getDocs(_0x6d091b);_0x5af45a[_0x5f06bd['id']]=_0x3cf972[_0x472655(0x1e4)];});await Promise['all'](_0x342a51);let _0x5b5e74='';_0x19d9be['forEach'](_0x28ad91=>{const _0x886a19=_0x59b979,_0x1cce93=_0x5af45a[_0x28ad91['id']]||0x0,_0x1dee76=_0x28ad91[_0x886a19(0x442)]||_0x886a19(0x38b),_0x2827ce=_0x28ad91[_0x886a19(0x248)]?.[_0x886a19(0x3c1)]||_0x886a19(0x41e);let _0x264493='',_0x5c79aa='';const _0xed42ae=new Date();let _0x91b45c=_0x1dee76;if(_0x1dee76===_0x886a19(0x7cd)){const _0x537685=_0x28ad91[_0x886a19(0x4e5)]?new Date(_0x28ad91[_0x886a19(0x4e5)]):null,_0x1f144d=_0x28ad91[_0x886a19(0x8c7)]?new Date(_0x28ad91['endTime']):null;if(_0x1f144d&&_0xed42ae>_0x1f144d)_0x91b45c=_0x886a19(0x1aa);else _0x537685&&_0xed42ae<_0x537685?_0x91b45c='scheduled_pending':_0x91b45c=_0x886a19(0x38b);}switch(_0x91b45c){case _0x886a19(0x1aa):_0x264493=_0x886a19(0x271),_0x5c79aa=_0x886a19(0x3f9);break;case'scheduled_pending':_0x264493=_0x886a19(0x6a0),_0x5c79aa=_0x886a19(0x561);break;case'active':_0x264493=_0x2827ce!=='none'?_0x886a19(0x882):'เปิดใช้งาน',_0x5c79aa=_0x886a19(0x3a6);break;default:_0x264493=_0x886a19(0x1cd),_0x5c79aa=_0x886a19(0x3a6);break;}let _0x4403be='';const _0x5074a2={'day':_0x886a19(0x639),'month':_0x886a19(0x639),'year':_0x886a19(0x732),'hour':_0x886a19(0x639),'minute':'2-digit','hour12':![]};if(_0x1dee76===_0x886a19(0x7cd)){if(_0x28ad91[_0x886a19(0x4e5)])_0x4403be+=_0x886a19(0x7cb)+new Date(_0x28ad91[_0x886a19(0x4e5)])[_0x886a19(0x448)](_0x886a19(0x37a),_0x5074a2)+_0x886a19(0x5bd);if(_0x28ad91[_0x886a19(0x8c7)])_0x4403be+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x28ad91[_0x886a19(0x8c7)])[_0x886a19(0x448)](_0x886a19(0x37a),_0x5074a2)+_0x886a19(0x5bd);}let _0x536b74='';if(_0x28ad91['pairedQuizId']){const _0x198ff7=allQuizzes[_0x886a19(0x801)](_0x3183cf=>_0x3183cf['id']===_0x28ad91[_0x886a19(0x53f)]);if(_0x198ff7){let _0x4d01f3,_0x1bb369;new Date(_0x28ad91[_0x886a19(0x5a6)])<new Date(_0x198ff7[_0x886a19(0x5a6)])?(_0x4d01f3=_0x28ad91['id'],_0x1bb369=_0x198ff7['id']):(_0x4d01f3=_0x198ff7['id'],_0x1bb369=_0x28ad91['id']),_0x536b74+=_0x886a19(0x4b9)+_0x1bb369+'\x22\x20data-pre-test-id=\x22'+_0x4d01f3+_0x886a19(0x553);}}else _0x28ad91[_0x886a19(0x353)]==='pre-test'&&(_0x536b74+=_0x886a19(0x757)+_0x28ad91['id']+_0x886a19(0x7a1));if(_0x28ad91[_0x886a19(0x353)]==='pre-test'&&_0x1cce93>0x0)_0x536b74+=_0x886a19(0x757)+_0x28ad91['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else!_0x28ad91['pairedQuizId']&&_0x28ad91[_0x886a19(0x353)]!==_0x886a19(0x907)&&_0x1cce93>0x0&&(_0x536b74+=_0x886a19(0x757)+_0x28ad91['id']+_0x886a19(0x81e));let _0x3258fc='';_0x28ad91[_0x886a19(0x53f)]?_0x3258fc=_0x886a19(0x4ab)+_0x28ad91['id']+_0x886a19(0x7ae):_0x3258fc=_0x886a19(0x4ab)+_0x28ad91['id']+_0x886a19(0x6ec),_0x5b5e74+=_0x886a19(0x666)+_0x28ad91['id']+_0x886a19(0x25b)+_0x28ad91[_0x886a19(0x1bf)]+_0x886a19(0x34f)+_0x28ad91[_0x886a19(0x3ef)][_0x886a19(0x2d2)]+_0x886a19(0x33f)+new Date(_0x28ad91['createdAt'])[_0x886a19(0x448)](_0x886a19(0x37a))+_0x886a19(0x577)+_0x1cce93+_0x886a19(0x7f4)+_0x4403be+_0x886a19(0x6ab)+_0x5c79aa+'\x22>'+_0x264493+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x28ad91['id']+_0x886a19(0x2a2)+_0x28ad91['id']+_0x886a19(0x1fa)+(_0x28ad91[_0x886a19(0x4f6)]?_0x886a19(0x342):_0x886a19(0x6ca))+_0x886a19(0x16f)+_0x536b74+_0x886a19(0x1a9)+_0x28ad91['id']+'\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-'+_0x28ad91['id']+_0x886a19(0x6fd)+_0x28ad91['id']+_0x886a19(0x53e)+_0x28ad91['id']+_0x886a19(0x1f5)+_0x28ad91['id']+_0x886a19(0x1f4)+_0x28ad91['id']+_0x886a19(0x890)+_0x28ad91['id']+_0x886a19(0x480)+_0x28ad91[_0x886a19(0x1bf)]+_0x886a19(0x891)+_0x28ad91['id']+_0x886a19(0x2ef)+_0x28ad91['id']+_0x886a19(0x3fa)+_0x3258fc+_0x886a19(0x1b8)+_0x28ad91['id']+_0x886a19(0x6b2)+_0x28ad91['id']+_0x886a19(0x5f0)+_0x28ad91['id']+_0x886a19(0x3d1)+_0x28ad91['id']+_0x886a19(0x371)+_0x28ad91['id']+_0x886a19(0x480)+_0x28ad91[_0x886a19(0x1bf)]+_0x886a19(0x1ca);}),_0x1fc0e7[_0x59b979(0x536)]=_0x5b5e74,document[_0x59b979(0x2eb)](_0x59b979(0x5d4))[_0x59b979(0x8de)](_0xb2a879=>{const _0x186e7d=_0x59b979;_0xb2a879[_0x186e7d(0x2da)]('click',()=>{const _0x5edd08=_0x186e7d,_0x605010=_0xb2a879[_0x5edd08(0x6b1)][_0x5edd08(0x72c)];showQuizDetailView(_0x605010);});});}async function handleUnpairQuiz(_0x2b8f51){const _0x4403fd=_0x5e8eac,_0x13304c=allQuizzes[_0x4403fd(0x801)](_0x21c125=>_0x21c125['id']===_0x2b8f51);if(!_0x13304c||!_0x13304c[_0x4403fd(0x53f)]){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0x4403fd(0x39f),async()=>{const _0x4adbf3=_0x4403fd;try{const _0x933df=doc(db,_0x4adbf3(0x705)+appId+_0x4adbf3(0x780),_0x2b8f51),_0x4e2b30=doc(db,_0x4adbf3(0x705)+appId+_0x4adbf3(0x780),_0x13304c[_0x4adbf3(0x53f)]),_0x44a2a5=writeBatch(db);_0x44a2a5[_0x4adbf3(0x819)](_0x933df,{'pairedQuizId':null}),_0x44a2a5[_0x4adbf3(0x819)](_0x4e2b30,{'pairedQuizId':null}),await _0x44a2a5[_0x4adbf3(0x167)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0x2bbd3e){console[_0x4adbf3(0x2a9)](_0x4adbf3(0x8ab),_0x2bbd3e),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x4925f8,_0x4c6655){const _0x389674=_0x5e8eac,_0x24c6bf=window[_0x389674(0x615)]('','_blank'),_0x57c0fd=_0x389674(0x3d5)+_0x4c6655[_0x389674(0x1bf)]+_0x389674(0x1b9)+_0x4c6655[_0x389674(0x1bf)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4925f8['learningGaps']['map'](_0x315f6a=>_0x389674(0x3ba)+_0x315f6a+_0x389674(0x737))[_0x389674(0x4b4)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x4925f8[_0x389674(0x7c9)]+_0x389674(0x5f4)+_0x4925f8[_0x389674(0x505)][_0x389674(0x530)](_0x58096d=>_0x389674(0x638)+_0x58096d[_0x389674(0x165)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20'+_0x58096d['solution']+_0x389674(0x7e5))[_0x389674(0x4b4)]('')+_0x389674(0x90c);_0x24c6bf['document'][_0x389674(0x385)](_0x57c0fd),_0x24c6bf[_0x389674(0x18b)][_0x389674(0x6c9)](),_0x24c6bf[_0x389674(0x73d)]=function(){setTimeout(()=>{const _0x187f3a=_0x45d9;_0x24c6bf[_0x187f3a(0x4b0)]();},0x3e8);};}async function handleGenerateLessonPlan(_0x497bce){const _0x140209=_0x5e8eac;showMessage(_0x140209(0x4d2));try{const _0x28f45c=doc(db,_0x140209(0x705)+appId+_0x140209(0x780),_0x497bce),_0xc02bc7=await getDoc(_0x28f45c);if(!_0xc02bc7[_0x140209(0x15e)]())throw new Error(_0x140209(0x5ab));const _0x30f98c={'id':_0x497bce,..._0xc02bc7[_0x140209(0x4b3)]()},_0x2ad122=collection(db,_0x140209(0x705)+appId+'/public/data/quizzes',_0x497bce,'submissions'),_0x590364=await getDocs(_0x2ad122),_0x544c5e=_0x590364[_0x140209(0x42d)][_0x140209(0x530)](_0x386cd2=>_0x386cd2[_0x140209(0x4b3)]());if(_0x544c5e[_0x140209(0x2d2)]===0x0)throw new Error(_0x140209(0x3e1));const _0x2a4066=calculateItemAnalysis(_0x30f98c,_0x544c5e)['perQuestionStats'],_0x1aa64a=calculateDistractorAnalysis(_0x30f98c,_0x544c5e),_0x14d927=_0x547274=>{if(!_0x547274)return'';return _0x547274['replace'](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x5e1cf2=_0x140209(0x4ef);_0x30f98c[_0x140209(0x3ef)][_0x140209(0x8de)]((_0x4b078e,_0x2d865c)=>{const _0x4a934b=_0x140209,_0x416fa5=_0x2a4066[_0x2d865c]?.['p'][_0x4a934b(0x3e6)](0x2)||_0x4a934b(0x204),_0x3c316b=_0x2a4066[_0x2d865c]?.['r'][_0x4a934b(0x3e6)](0x2)||_0x4a934b(0x204),_0x410785=_0x14d927(_0x4b078e['questionText']||_0x4b078e['stem']);_0x5e1cf2+='-\x20ข้อ\x20'+(_0x2d865c+0x1)+'\x20(p='+_0x416fa5+',\x20r='+_0x3c316b+_0x4a934b(0x820)+_0x410785+'\x5cn';if(_0x4b078e[_0x4a934b(0x6d0)]===_0x4a934b(0x497)&&_0x1aa64a[_0x2d865c]){const _0x436fb9=_0x1aa64a[_0x2d865c],_0x4803e1=Object[_0x4a934b(0x19e)](_0x436fb9)[_0x4a934b(0x579)](_0x1d18de=>parseInt(_0x1d18de)!==_0x4b078e[_0x4a934b(0x8f1)])[_0x4a934b(0x163)]((_0x2a2e40,_0x3a274d)=>_0x436fb9[_0x3a274d][_0x4a934b(0x664)]-_0x436fb9[_0x2a2e40][_0x4a934b(0x664)])[0x0];if(_0x4803e1&&_0x436fb9[_0x4803e1][_0x4a934b(0x664)]>0x0){const _0x3765b1=_0x14d927(_0x436fb9[_0x4803e1][_0x4a934b(0x2a6)]);_0x5e1cf2+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x3765b1+_0x4a934b(0x676);}}});const _0x40d637=_0x140209(0x5f3)+_0x30f98c[_0x140209(0x1bf)]+_0x140209(0x5d5)+_0x5e1cf2+_0x140209(0x75d),_0xe063ff={'type':_0x140209(0x7f6),'properties':{'learningGaps':{'type':_0x140209(0x7af),'items':{'type':_0x140209(0x2c9)}},'teachingContent':{'type':_0x140209(0x2c9)},'practiceProblems':{'type':_0x140209(0x7af),'items':{'type':_0x140209(0x7f6),'properties':{'question':{'type':_0x140209(0x2c9)},'solution':{'type':_0x140209(0x2c9)}}}}},'required':[_0x140209(0x3da),'teachingContent',_0x140209(0x505)]},_0x2b476b=await callAnalysisApi(_0x40d637,_0xe063ff);await updateDoc(_0x28f45c,{'lessonPlan':_0x2b476b});const _0x2d4355='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x30f98c['topic']+_0x140209(0x763)+_0x2b476b[_0x140209(0x3da)][_0x140209(0x530)](_0x30e707=>'<li>'+_0x30e707+_0x140209(0x737))[_0x140209(0x4b4)]('')+_0x140209(0x3ad)+_0x2b476b[_0x140209(0x7c9)]+_0x140209(0x63f)+_0x2b476b[_0x140209(0x505)][_0x140209(0x530)](_0x356b11=>_0x140209(0x4a4)+_0x356b11[_0x140209(0x165)]+_0x140209(0x65f)+_0x356b11['solution']+_0x140209(0x2dd))[_0x140209(0x4b4)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x140209(0x839)](_0x140209(0x7bf))[_0x140209(0x4ca)]=_0x140209(0x59a)+_0x30f98c[_0x140209(0x1bf)],document['getElementById'](_0x140209(0x782))[_0x140209(0x536)]=_0x2d4355,document[_0x140209(0x839)](_0x140209(0x89a))[_0x140209(0x298)][_0x140209(0x514)]('hidden');if(window[_0x140209(0x20c)])MathJax[_0x140209(0x687)]();messageModal[_0x140209(0x298)][_0x140209(0x36a)](_0x140209(0x28b));}catch(_0x42fb3a){console[_0x140209(0x2a9)]('Error\x20generating\x20lesson\x20plan:',_0x42fb3a),showMessage(_0x140209(0x313)+_0x42fb3a[_0x140209(0x86b)]);}}async function handleDuplicateQuiz(_0x39b1f6){const _0xe7e581=_0x5e8eac;try{const _0x50853a=doc(db,_0xe7e581(0x705)+appId+_0xe7e581(0x780),_0x39b1f6),_0x1ae319=await getDoc(_0x50853a);if(_0x1ae319[_0xe7e581(0x15e)]()){const _0x3e67b2=_0x1ae319['data']();let _0x209ae4='',_0x180505='standard',_0x446779=null;if(_0x3e67b2[_0xe7e581(0x353)]===_0xe7e581(0x907)){let _0xf24a6=_0x3e67b2[_0xe7e581(0x1bf)]['replace'](_0xe7e581(0x26e),'')[_0xe7e581(0x3dd)]();_0x209ae4=_0xe7e581(0x491)+_0xf24a6,_0x180505=_0xe7e581(0x8c9),_0x446779=_0x39b1f6;}else _0x209ae4=_0xe7e581(0x512)+_0x3e67b2['topic'];const _0x466c62={..._0x3e67b2,'topic':_0x209ae4,'createdAt':new Date()[_0xe7e581(0x550)](),'quizMode':_0x180505,'pairedQuizId':_0x446779};let _0x4df55f;while(!![]){_0x4df55f=Math[_0xe7e581(0x1a1)](0x3e8+Math[_0xe7e581(0x195)]()*0x2328)['toString']();const _0x1eba1c=await getDoc(doc(db,_0xe7e581(0x705)+appId+_0xe7e581(0x780),_0x4df55f));if(!_0x1eba1c[_0xe7e581(0x15e)]())break;}const _0x43786d=doc(db,_0xe7e581(0x705)+appId+_0xe7e581(0x780),_0x4df55f);await setDoc(_0x43786d,_0x466c62),_0x466c62[_0xe7e581(0x353)]===_0xe7e581(0x8c9)&&await updateDoc(_0x50853a,{'pairedQuizId':_0x4df55f}),showMessage(_0xe7e581(0x46c));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x4f4864){console[_0xe7e581(0x2a9)](_0xe7e581(0x3bf),_0x4f4864),showMessage(_0xe7e581(0x662));}}async function handleDeleteQuiz(_0x27f4aa,_0x3b6f63=!![]){const _0x3a012a=_0x5e8eac;try{const _0x4022bb=writeBatch(db),_0xe92531=collection(db,_0x3a012a(0x705)+appId+_0x3a012a(0x736)+_0x27f4aa+'/submissions'),_0x274201=await getDocs(_0xe92531);_0x274201['forEach'](_0x2c9cfa=>{const _0x438468=_0x3a012a;_0x4022bb[_0x438468(0x659)](doc(_0xe92531,_0x2c9cfa['id']));});const _0x7453a1=doc(db,_0x3a012a(0x705)+appId+_0x3a012a(0x780),_0x27f4aa);_0x4022bb['delete'](_0x7453a1),await _0x4022bb[_0x3a012a(0x167)](),_0x3b6f63&&showMessage(_0x3a012a(0x24d));}catch(_0x2c822d){console[_0x3a012a(0x2a9)](_0x3a012a(0x7fe),_0x2c822d),_0x3b6f63&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x19ac4d){const _0xb900c=_0x5e8eac;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0xb900c(0x8a0));try{const _0x339ab9=doc(db,'artifacts/'+appId+_0xb900c(0x780),_0x19ac4d),_0x4e0c30=await getDoc(_0x339ab9);if(!_0x4e0c30[_0xb900c(0x15e)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}const _0x340056={'id':_0x4e0c30['id'],..._0x4e0c30['data']()};currentQuizData=_0x340056;const _0x3d7bdb=doc(db,'artifacts/'+appId+_0xb900c(0x1a6),_0x340056['projectId']),_0x5c0383=await getDoc(_0x3d7bdb);_0x5c0383[_0xb900c(0x15e)]()?(currentProjectData=_0x5c0383[_0xb900c(0x4b3)](),currentProjectId=_0x340056[_0xb900c(0x1cb)]):(currentProjectData={'students':[]},currentProjectId=_0x340056[_0xb900c(0x1cb)]);document['getElementById'](_0xb900c(0x15a))[_0xb900c(0x4ca)]=_0x340056['topic'],document[_0xb900c(0x839)]('results-quiz-id-display')[_0xb900c(0x4ca)]=_0x19ac4d;const _0xa74b16=collection(db,_0xb900c(0x705)+appId+'/public/data/quizzes',_0x19ac4d,_0xb900c(0x7d0));unsubscribeSubmissionsListener=onSnapshot(_0xa74b16,_0x25ce83=>{const _0x335eec=_0xb900c,_0x4b9960=_0x25ce83['docs'][_0x335eec(0x530)](_0x9ad832=>({'id':_0x9ad832['id'],..._0x9ad832[_0x335eec(0x4b3)]()}));currentSubmissions=_0x4b9960;const _0x124a1c=_0x4b9960['filter'](_0x40936b=>_0x40936b['attempts']&&_0x40936b[_0x335eec(0x8a3)]['length']>0x0);renderBehaviorLog(_0x4b9960),renderAnswerGrid(currentProjectData[_0x335eec(0x221)],_0x124a1c,_0x340056),renderAnalytics(_0x340056,_0x124a1c),renderQuizResultsTable(currentProjectData['students'],_0x4b9960,_0x340056),renderQuizLeaderboard(_0x124a1c,_0x340056,'quiz-leaderboard-table-body');}),showView(_0xb900c(0x176));}catch(_0x2ac4f5){console[_0xb900c(0x2a9)]('Error\x20showing\x20quiz\x20detail\x20view:',_0x2ac4f5),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function renderAnswerGrid(_0x48bd35,_0x13bdc2,_0x537be4){const _0x4c84a5=_0x5e8eac,_0x557c28=document['getElementById']('answer-grid-container');if(!_0x557c28)return;if(!_0x48bd35||_0x48bd35[_0x4c84a5(0x2d2)]===0x0){_0x557c28[_0x4c84a5(0x536)]=_0x4c84a5(0x526);return;}const _0x125b2c=_0x537be4[_0x4c84a5(0x3ef)],_0x19c6c4=_0x13bdc2[_0x4c84a5(0x1d6)]((_0x4f5731,_0x54ea6f)=>{const _0x3044af=_0x4c84a5;return _0x4f5731[_0x54ea6f[_0x3044af(0x845)]]=_0x54ea6f,_0x4f5731;},{}),_0x24ef43=_0x5dee7c=>String[_0x4c84a5(0x47a)](0x41+_0x5dee7c),_0x45c69b=_0x2f8f45=>{const _0x399b96=_0x4c84a5,_0x50994e=_0x2f8f45[_0x399b96(0x6d0)]||_0x537be4[_0x399b96(0x863)];switch(_0x50994e){case _0x399b96(0x497):return _0x2f8f45['options']&&_0x2f8f45['options'][_0x399b96(0x2d2)]>_0x2f8f45[_0x399b96(0x8f1)]?_0x24ef43(_0x2f8f45[_0x399b96(0x8f1)]):'-';case'true_false':return _0x2f8f45[_0x399b96(0x788)]?_0x399b96(0x5a4):_0x399b96(0x34d);case _0x399b96(0x183):return _0x2f8f45[_0x399b96(0x4a1)]||'-';case _0x399b96(0x3a8):return _0x399b96(0x383);default:return'-';}},_0x19f9f3=(_0x2ba7fb,_0x1a72bd)=>{const _0x40490c=_0x4c84a5;if(_0x1a72bd['answer']===null||_0x1a72bd['answer']===undefined)return'-';const _0x433572=_0x2ba7fb[_0x40490c(0x6d0)]||_0x537be4['quizType'];switch(_0x433572){case _0x40490c(0x497):const _0x316231=_0x2ba7fb[_0x40490c(0x7d8)][_0x40490c(0x333)](_0x4872f1=>_0x4872f1===_0x1a72bd['answerText']);return _0x316231!==-0x1?_0x24ef43(_0x316231):_0x1a72bd[_0x40490c(0x2be)]||'-';case'true_false':return _0x1a72bd['answer']===_0x40490c(0x74c)||_0x1a72bd[_0x40490c(0x2b3)]===!![]?_0x40490c(0x5a4):'ไม่ใช่';default:return _0x1a72bd[_0x40490c(0x2b3)];}};let _0x19a55b=_0x4c84a5(0x734)+_0x125b2c[_0x4c84a5(0x530)]((_0x50831b,_0x2c6faf)=>_0x4c84a5(0x7f9)+(_0x2c6faf+0x1)+'</th>')[_0x4c84a5(0x4b4)]('')+_0x4c84a5(0x349)+_0x125b2c[_0x4c84a5(0x530)](_0x55ddbb=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x45c69b(_0x55ddbb)+_0x4c84a5(0x148))[_0x4c84a5(0x4b4)]('')+_0x4c84a5(0x4d7);_0x48bd35[_0x4c84a5(0x8de)](_0x3794ed=>{const _0x55a006=_0x4c84a5;_0x19a55b+=_0x55a006(0x370),_0x19a55b+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x3794ed+_0x55a006(0x148);const _0xdd1f8=_0x19c6c4[_0x3794ed];if(_0xdd1f8){const _0x143165=_0xdd1f8[_0x55a006(0x8a3)][_0xdd1f8[_0x55a006(0x8a3)][_0x55a006(0x2d2)]-0x1];_0x125b2c[_0x55a006(0x8de)]((_0xb607fd,_0xcec0e)=>{const _0x4c154d=_0x55a006,_0x16ede6=_0x143165['answers'][_0x4c154d(0x801)](_0x44b8a1=>_0x44b8a1[_0x4c154d(0x648)]===(_0xb607fd[_0x4c154d(0x3f1)]||_0xb607fd[_0x4c154d(0x593)]));if(_0x16ede6){let _0x29bb13=![];const _0x16707c=_0xb607fd[_0x4c154d(0x6d0)]||_0x537be4['quizType'];if(_0x16ede6[_0x4c154d(0x2b3)]!==null&&_0x16ede6[_0x4c154d(0x2b3)]!==undefined)switch(_0x16707c){case'multiple_choice':const _0x50d83d=_0xb607fd[_0x4c154d(0x7d8)][_0xb607fd[_0x4c154d(0x8f1)]];_0x29bb13=_0x16ede6['answerText']===_0x50d83d;break;case _0x4c154d(0x679):const _0x2e1e74=_0x16ede6[_0x4c154d(0x2b3)]===!![]||_0x16ede6[_0x4c154d(0x2b3)]==='true';_0x29bb13=_0x2e1e74===_0xb607fd[_0x4c154d(0x788)];break;case'matching_item':_0x29bb13=_0x16ede6[_0x4c154d(0x2b3)]===_0xb607fd[_0x4c154d(0x4a1)];break;default:_0x29bb13=_0x16ede6[_0x4c154d(0x56c)];break;}const _0x57299f=_0x29bb13?_0x4c154d(0x835):'bg-red-100';_0x19a55b+=_0x4c154d(0x813)+_0x57299f+'\x22>'+_0x19f9f3(_0xb607fd,_0x16ede6)+'</td>';}else _0x19a55b+=_0x4c154d(0x534);});}else _0x19a55b+=_0x125b2c['map'](()=>_0x55a006(0x453))[_0x55a006(0x4b4)]('');_0x19a55b+=_0x55a006(0x38e);}),_0x19a55b+=_0x4c84a5(0x69d),_0x557c28[_0x4c84a5(0x536)]=_0x19a55b;}function renderQuizResultsTable(_0x23238e,_0x29a985,_0x29b5f3){const _0x140d49=_0x5e8eac,_0x48b953=_0x29a985[_0x140d49(0x1d6)]((_0x264a5e,_0x527a78)=>{return _0x264a5e[_0x527a78['studentName']]=_0x527a78,_0x264a5e;},{}),_0xa95727=document[_0x140d49(0x2cf)](_0x140d49(0x575));_0xa95727&&!_0xa95727[_0x140d49(0x536)][_0x140d49(0x6f6)](_0x140d49(0x3f4))&&(_0xa95727[_0x140d49(0x536)]+=_0x140d49(0x146));const _0x56c8ef=document[_0x140d49(0x839)](_0x140d49(0x1e6));if(!_0x23238e||_0x23238e[_0x140d49(0x2d2)]===0x0){_0x56c8ef['innerHTML']=_0x140d49(0x5b6);return;}const _0x12a419=_0x29b5f3[_0x140d49(0x258)]===!![],_0x3b5847=_0x29b5f3['settings']?.[_0x140d49(0x86a)]??-0x1;let _0x5662a7='';_0x23238e[_0x140d49(0x8de)](_0x444c7d=>{const _0x19c1a6=_0x140d49,_0x23f2ad=_0x48b953[_0x444c7d];let _0x5c4d30=_0x19c1a6(0x5b5)+(_0x12a419?_0x19c1a6(0x394):'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x12a419?'สอบซ่อม':_0x19c1a6(0x6df))+_0x19c1a6(0x5d7);if(_0x23f2ad){if(_0x23f2ad[_0x19c1a6(0x8a3)]&&_0x23f2ad[_0x19c1a6(0x8a3)][_0x19c1a6(0x2d2)]>0x0){let _0x32a25e=_0x12a419?_0x23f2ad['bestScore']===_0x23f2ad[_0x19c1a6(0x2ec)]:_0x3b5847!==-0x1&&_0x23f2ad[_0x19c1a6(0x1d9)]>=_0x3b5847;const _0x530ed5=_0x32a25e?'bg-green-100\x20text-green-800':_0x19c1a6(0x7b9),_0x19724d=_0x32a25e?_0x19c1a6(0x731):_0x19c1a6(0x17f),_0x2501e6=_0x19c1a6(0x658)+_0x530ed5+'\x22>'+_0x19724d+'</span></td>',_0x4b0843=_0x19c1a6(0x4c6)+(_0x23f2ad[_0x19c1a6(0x8a3)]?.['length']||0x1)+_0x19c1a6(0x308);_0x5662a7+=_0x19c1a6(0x451)+_0x444c7d+_0x19c1a6(0x325)+_0x23f2ad[_0x19c1a6(0x1d9)]+'\x20/\x20'+_0x23f2ad['totalQuestions']+_0x19c1a6(0x6ac)+_0x2501e6+_0x19c1a6(0x855)+_0x5c4d30+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x23f2ad[_0x19c1a6(0x519)]+'\x20/\x20'+_0x23f2ad['totalQuestions']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x23f2ad['latestScore']+_0x19c1a6(0x665)+_0x23f2ad[_0x19c1a6(0x2ec)]+_0x19c1a6(0x6d2)+(_0x23f2ad[_0x19c1a6(0x898)]||0x0)+_0x19c1a6(0x6ac)+_0x4b0843+_0x19c1a6(0x29d)+new Date(_0x23f2ad['latestSubmittedAt'])[_0x19c1a6(0x448)]('th-TH')+_0x19c1a6(0x191)+_0x444c7d+_0x19c1a6(0x582);}else{const _0x4e951c=_0x19c1a6(0x262);_0x5662a7+=_0x19c1a6(0x189)+_0x444c7d+_0x19c1a6(0x5b3)+_0x5c4d30+_0x19c1a6(0x552)+_0x4e951c+_0x19c1a6(0x29d)+new Date(_0x23f2ad['startedAt'])[_0x19c1a6(0x448)](_0x19c1a6(0x37a))+_0x19c1a6(0x6e4)+_0x444c7d+_0x19c1a6(0x582);}}else{const _0x2d588f=_0x19c1a6(0x22c);_0x5662a7+=_0x19c1a6(0x35b)+_0x444c7d+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c4d30+_0x19c1a6(0x252)+_0x2d588f+_0x19c1a6(0x4fd);}}),_0x56c8ef[_0x140d49(0x536)]=_0x5662a7;}async function confirmRenameQuiz(){const _0x4c4c7e=_0x5e8eac,_0xde6bc=document[_0x4c4c7e(0x839)]('rename-quiz-input')[_0x4c4c7e(0x3e5)]['trim']();if(!_0xde6bc){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x3fd365=doc(db,_0x4c4c7e(0x705)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x3fd365,{'topic':_0xde6bc}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal['classList'][_0x4c4c7e(0x36a)]('hidden'),actionTargetId=null;}catch(_0x21deea){console[_0x4c4c7e(0x2a9)](_0x4c4c7e(0x7ca),_0x21deea),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x49b94c){const _0x1ac324=_0x5e8eac;actionTargetId=_0x49b94c;const _0x375f85=document[_0x1ac324(0x839)](_0x1ac324(0x30a));_0x375f85['innerHTML']=_0x1ac324(0x2d4),moveQuizModal[_0x1ac324(0x298)]['remove'](_0x1ac324(0x28b));try{const _0x14f13a=collection(db,'artifacts/'+appId+'/public/data/projects'),_0x3ffd41=await getDocs(_0x14f13a),_0x3f8458=_0x3ffd41['docs'][_0x1ac324(0x530)](_0x5d58ec=>({'id':_0x5d58ec['id'],..._0x5d58ec[_0x1ac324(0x4b3)]()})),_0x5a7a8d=_0x3f8458[_0x1ac324(0x579)](_0x2d459a=>_0x2d459a['id']!==currentProjectId);if(_0x5a7a8d[_0x1ac324(0x2d2)]===0x0){_0x375f85['innerHTML']=_0x1ac324(0x517),document[_0x1ac324(0x839)]('confirm-move-quiz-btn')[_0x1ac324(0x4d1)]=!![];return;}_0x375f85['innerHTML']=_0x5a7a8d[_0x1ac324(0x530)](_0x51570f=>_0x1ac324(0x7fa)+_0x51570f['id']+'\x22>'+_0x51570f[_0x1ac324(0x134)]+_0x1ac324(0x277))[_0x1ac324(0x4b4)](''),document['getElementById'](_0x1ac324(0x2d6))[_0x1ac324(0x4d1)]=![];}catch(_0x43f352){console[_0x1ac324(0x2a9)]('Error\x20fetching\x20projects\x20for\x20move:',_0x43f352),showMessage(_0x1ac324(0x212)),moveQuizModal[_0x1ac324(0x298)][_0x1ac324(0x36a)](_0x1ac324(0x28b));}}async function confirmMoveQuiz(){const _0x1f8413=_0x5e8eac,_0x5b733e=document['getElementById'](_0x1f8413(0x30a))[_0x1f8413(0x3e5)];if(!_0x5b733e){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0x54b0d3=doc(db,_0x1f8413(0x705)+appId+_0x1f8413(0x780),actionTargetId);try{await updateDoc(_0x54b0d3,{'projectId':_0x5b733e}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal[_0x1f8413(0x298)][_0x1f8413(0x36a)](_0x1f8413(0x28b)),actionTargetId=null;}catch(_0x458df3){console['error'](_0x1f8413(0x4d5),_0x458df3),showMessage(_0x1f8413(0x539));}}async function handleQuizSettings(_0x4830b2){const _0x2e6348=_0x5e8eac;actionTargetId=_0x4830b2;const _0x25a970=doc(db,_0x2e6348(0x705)+appId+_0x2e6348(0x780),_0x4830b2);try{const _0x44ea6f=await getDoc(_0x25a970);if(_0x44ea6f[_0x2e6348(0x15e)]()){const _0x447ecd=_0x44ea6f[_0x2e6348(0x4b3)](),_0x5b1486=_0x447ecd[_0x2e6348(0x248)]||{},_0x2a2d24=_0x447ecd[_0x2e6348(0x3ef)][_0x2e6348(0x2d2)];document['getElementById']('modal-shuffle-select')[_0x2e6348(0x3e5)]=_0x5b1486[_0x2e6348(0x41f)]||_0x2e6348(0x41e),document[_0x2e6348(0x839)](_0x2e6348(0x75c))[_0x2e6348(0x3e5)]=_0x5b1486[_0x2e6348(0x479)]||'show_results_and_answers',document['getElementById'](_0x2e6348(0x431))[_0x2e6348(0x3e5)]=_0x5b1486[_0x2e6348(0x3c1)]||_0x2e6348(0x41e),document[_0x2e6348(0x839)](_0x2e6348(0x449))['value']=_0x5b1486['timerDuration']||0xa,document[_0x2e6348(0x839)]('modal-passing-score-input')[_0x2e6348(0x3e5)]=_0x5b1486[_0x2e6348(0x86a)]||Math[_0x2e6348(0x1a1)](_0x2a2d24/0x2),document[_0x2e6348(0x839)](_0x2e6348(0x7e4))[_0x2e6348(0x24a)]=_0x2a2d24,document[_0x2e6348(0x839)](_0x2e6348(0x299))[_0x2e6348(0x1d1)]=_0x5b1486[_0x2e6348(0x6dc)]||![],document[_0x2e6348(0x839)](_0x2e6348(0x378))[_0x2e6348(0x1d1)]=_0x5b1486[_0x2e6348(0x82f)]||![],document[_0x2e6348(0x839)](_0x2e6348(0x431))['dispatchEvent'](new Event('change')),quizSettingsModal[_0x2e6348(0x298)]['remove']('hidden');}else showMessage(_0x2e6348(0x5ab));}catch(_0x153b30){console[_0x2e6348(0x2a9)](_0x2e6348(0x24c),_0x153b30),showMessage(_0x2e6348(0x65e));}}async function confirmQuizSettings(){const _0x83a590=_0x5e8eac;if(!actionTargetId)return;const _0x1bc3c0=doc(db,_0x83a590(0x705)+appId+'/public/data/quizzes',actionTargetId),_0x2e539a={'shuffle':document[_0x83a590(0x839)](_0x83a590(0x5fc))[_0x83a590(0x3e5)],'resultsDisplay':document[_0x83a590(0x839)](_0x83a590(0x75c))[_0x83a590(0x3e5)],'timerMode':document[_0x83a590(0x839)]('modal-timer-mode-select')[_0x83a590(0x3e5)],'timerDuration':parseInt(document[_0x83a590(0x839)](_0x83a590(0x449))['value'])||0xa,'passingScore':parseInt(document[_0x83a590(0x839)](_0x83a590(0x7e4))['value'])||0x0,'passingScore':parseInt(document[_0x83a590(0x839)]('modal-passing-score-input')[_0x83a590(0x3e5)])||0x0,'isAdaptive':document[_0x83a590(0x839)](_0x83a590(0x299))['checked'],'loopUntilPass':document[_0x83a590(0x839)](_0x83a590(0x378))[_0x83a590(0x1d1)]};try{await updateDoc(_0x1bc3c0,{'settings':_0x2e539a}),showMessage(_0x83a590(0x5fe)),quizSettingsModal[_0x83a590(0x298)][_0x83a590(0x36a)](_0x83a590(0x28b)),actionTargetId=null;}catch(_0x44425b){console[_0x83a590(0x2a9)](_0x83a590(0x330),_0x44425b),showMessage(_0x83a590(0x722));}}async function handleQuizStatus(_0x3804e7){const _0x12eadd=_0x5e8eac;actionTargetId=_0x3804e7;const _0x317cb8=doc(db,_0x12eadd(0x705)+appId+'/public/data/quizzes',_0x3804e7);try{const _0x13eeaf=await getDoc(_0x317cb8);if(_0x13eeaf[_0x12eadd(0x15e)]()){const _0x490721=_0x13eeaf['data'](),_0x36e090=_0x490721[_0x12eadd(0x442)]||_0x12eadd(0x38b),_0x27cd50=document[_0x12eadd(0x839)]('quiz-status-options'),_0x438874=document[_0x12eadd(0x839)](_0x12eadd(0x45d)),_0x2290e9=document['getElementById'](_0x12eadd(0x892));let _0x4c0fde='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20'+(_0x36e090==='active'?_0x12eadd(0x1d1):'')+_0x12eadd(0x3ff)+(_0x36e090===_0x12eadd(0x1aa)?_0x12eadd(0x1d1):'')+'>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20'+(_0x36e090===_0x12eadd(0x7cd)?'checked':'')+_0x12eadd(0x24e);_0x27cd50[_0x12eadd(0x536)]=_0x4c0fde;const _0x1c2ad1=_0x36e090==='scheduled';_0x438874[_0x12eadd(0x298)][_0x12eadd(0x8d2)]('hidden',!_0x1c2ad1),_0x2290e9[_0x12eadd(0x298)][_0x12eadd(0x8d2)](_0x12eadd(0x28b),!_0x1c2ad1),document[_0x12eadd(0x839)]('quiz-start-time')[_0x12eadd(0x3e5)]=_0x490721[_0x12eadd(0x4e5)]?_0x490721[_0x12eadd(0x4e5)][_0x12eadd(0x5a5)](0x0,0x10):'',document[_0x12eadd(0x839)]('quiz-end-time')[_0x12eadd(0x3e5)]=_0x490721[_0x12eadd(0x8c7)]?_0x490721[_0x12eadd(0x8c7)][_0x12eadd(0x5a5)](0x0,0x10):'',_0x27cd50[_0x12eadd(0x2eb)]('input[name=\x22status-option\x22]')[_0x12eadd(0x8de)](_0xd62b62=>{const _0x1f368a=_0x12eadd;_0xd62b62[_0x1f368a(0x2da)]('change',_0x5b98e7=>{const _0xad7fd4=_0x1f368a,_0x4998b4=_0x5b98e7[_0xad7fd4(0x8be)][_0xad7fd4(0x3e5)]===_0xad7fd4(0x18d);_0x438874[_0xad7fd4(0x298)]['toggle'](_0xad7fd4(0x28b),!_0x4998b4),_0x2290e9[_0xad7fd4(0x298)][_0xad7fd4(0x8d2)]('hidden',!_0x4998b4);});}),quizStatusModal[_0x12eadd(0x298)]['remove'](_0x12eadd(0x28b));}}catch(_0x1e3c05){console[_0x12eadd(0x2a9)](_0x12eadd(0x90d),_0x1e3c05),showMessage('เกิดข้อผิดพลาดในการโหลดสถานะ');}}async function confirmQuizStatus(){const _0x3a4b2e=_0x5e8eac;if(!actionTargetId)return;const _0x5d8dea=doc(db,_0x3a4b2e(0x705)+appId+_0x3a4b2e(0x780),actionTargetId),_0xf426b=document[_0x3a4b2e(0x2cf)](_0x3a4b2e(0x305));if(!_0xf426b){showMessage('กรุณาเลือกสถานะ');return;}const _0x56369a=_0xf426b['value'];let _0x23b7ed={};if(_0x56369a===_0x3a4b2e(0x38b)||_0x56369a===_0x3a4b2e(0x1aa))_0x23b7ed={'status':_0x56369a,'startTime':null,'endTime':null};else{if(_0x56369a===_0x3a4b2e(0x18d)){const _0x44e72a=document[_0x3a4b2e(0x839)](_0x3a4b2e(0x381))['value'],_0x2a829a=document['getElementById'](_0x3a4b2e(0x2e6))[_0x3a4b2e(0x3e5)];if(!_0x44e72a&&!_0x2a829a){showMessage(_0x3a4b2e(0x885));return;}_0x23b7ed={'status':'scheduled','startTime':_0x44e72a?new Date(_0x44e72a)[_0x3a4b2e(0x550)]():null,'endTime':_0x2a829a?new Date(_0x2a829a)[_0x3a4b2e(0x550)]():null};}}try{await updateDoc(_0x5d8dea,_0x23b7ed),showMessage(_0x3a4b2e(0x466)),quizStatusModal['classList'][_0x3a4b2e(0x36a)](_0x3a4b2e(0x28b)),actionTargetId=null;}catch(_0x17c1c9){console[_0x3a4b2e(0x2a9)](_0x3a4b2e(0x547),_0x17c1c9),showMessage(_0x3a4b2e(0x2b4));}}function listenForStudentProfiles(_0x18abfb){const _0x3de0f3=_0x5e8eac,_0x47f356=collection(db,_0x3de0f3(0x705)+appId+_0x3de0f3(0x49a)+_0x18abfb+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x47f356,_0x39e2c0=>{const _0x50be07=_0x3de0f3,_0x1a5477=_0x39e2c0[_0x50be07(0x42d)][_0x50be07(0x530)](_0x23184c=>_0x23184c[_0x50be07(0x4b3)]());renderLeaderboard(_0x1a5477,_0x50be07(0x230));},_0x5a2666=>{const _0x644d9d=_0x3de0f3;console[_0x644d9d(0x2a9)](_0x644d9d(0x2b5),_0x5a2666),document['getElementById'](_0x644d9d(0x230))[_0x644d9d(0x536)]=_0x644d9d(0x6f2);});}function renderLeaderboard(_0x44f0bb,_0xcb3b75){const _0x29f0ea=_0x5e8eac,_0x30c599=document[_0x29f0ea(0x839)](_0xcb3b75);if(!_0x44f0bb||_0x44f0bb[_0x29f0ea(0x2d2)]===0x0){_0x30c599[_0x29f0ea(0x536)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>';return;}_0x44f0bb[_0x29f0ea(0x163)]((_0x4ce094,_0x564b82)=>{const _0x4d59ea=_0x29f0ea,_0x36118b=(_0x564b82[_0x4d59ea(0x669)]||0x0)-(_0x4ce094[_0x4d59ea(0x669)]||0x0);if(_0x36118b!==0x0)return _0x36118b;const _0x4e9f76=(_0x564b82[_0x4d59ea(0x2a0)]?.[_0x4d59ea(0x5ac)]||0x0)-(_0x4ce094[_0x4d59ea(0x2a0)]?.['specialist']||0x0);if(_0x4e9f76!==0x0)return _0x4e9f76;const _0x58c265=(_0x564b82['badgesCount']?.[_0x4d59ea(0x4ce)]||0x0)-(_0x4ce094[_0x4d59ea(0x2a0)]?.[_0x4d59ea(0x4ce)]||0x0);if(_0x58c265!==0x0)return _0x58c265;const _0x4cedae=(_0x564b82[_0x4d59ea(0x2a0)]?.[_0x4d59ea(0x768)]||0x0)-(_0x4ce094[_0x4d59ea(0x2a0)]?.['perfect_score']||0x0);if(_0x4cedae!==0x0)return _0x4cedae;const _0xd53fe3=(_0x564b82[_0x4d59ea(0x2a0)]?.[_0x4d59ea(0x89b)]||0x0)-(_0x4ce094[_0x4d59ea(0x2a0)]?.[_0x4d59ea(0x89b)]||0x0);if(_0xd53fe3!==0x0)return _0xd53fe3;return _0x4ce094['studentName'][_0x4d59ea(0x917)](_0x564b82[_0x4d59ea(0x845)],'th');});let _0xae1796='';_0x44f0bb[_0x29f0ea(0x8de)]((_0x33be1f,_0x551486)=>{const _0x1a303c=_0x29f0ea,_0x544981=_0x551486+0x1,_0x14d29c=_0x33be1f[_0x1a303c(0x2a0)]||{};let _0xa571e='';const _0x395eec=[_0x1a303c(0x5ac),_0x1a303c(0x768),_0x1a303c(0x4ce),_0x1a303c(0x89b)];_0x395eec[_0x1a303c(0x8de)](_0x212ef4=>{const _0x174114=_0x1a303c;if(_0x14d29c[_0x212ef4]>0x0){const _0x579637=Object[_0x174114(0x5e7)](BADGES)[_0x174114(0x801)](_0x3d0cf3=>_0x3d0cf3['id']===_0x212ef4);_0x579637&&(_0x212ef4===_0x174114(0x5ac)?_0xa571e+=_0x174114(0x72f)+_0x579637[_0x174114(0x912)]+_0x174114(0x7b5)+_0x579637['icon']+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0xa571e+=_0x174114(0x72f)+_0x579637[_0x174114(0x912)]+'\x20('+_0x14d29c[_0x212ef4]+_0x174114(0x709)+_0x579637['icon']+_0x174114(0x7ed)+_0x14d29c[_0x212ef4]+_0x174114(0x78e));}}),_0xae1796+=_0x1a303c(0x2ee)+_0x544981+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x33be1f[_0x1a303c(0x845)]+_0x1a303c(0x82d)+(_0x33be1f[_0x1a303c(0x669)]||0x0)+_0x1a303c(0x40e)+(_0xa571e||'-')+_0x1a303c(0x89f);}),_0x30c599['innerHTML']=_0xae1796;}function displayLoopScreen(_0x4487eb,_0x4bd68c,_0x4f7292){const _0x29fea3=_0x5e8eac;let _0x5ca768='';_0x4f7292!==_0x29fea3(0x43e)&&(_0x5ca768='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0x4487eb+'\x20/\x20'+_0x4bd68c+'</strong></p>');const _0x444a8c=_0x29fea3(0x16a)+_0x5ca768+_0x29fea3(0x78c);studentResultArea[_0x29fea3(0x536)]=_0x444a8c,studentResultArea[_0x29fea3(0x298)][_0x29fea3(0x514)](_0x29fea3(0x28b)),studentQuizArea[_0x29fea3(0x298)][_0x29fea3(0x36a)](_0x29fea3(0x28b)),document['getElementById'](_0x29fea3(0x407))[_0x29fea3(0x2da)](_0x29fea3(0x3b0),()=>{const _0xcea416=_0x29fea3;studentResultArea[_0xcea416(0x298)]['add'](_0xcea416(0x28b)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x31711e,_0x122ef3,_0x191ee5){const _0x4aaf2d=_0x5e8eac,_0xacde15=document[_0x4aaf2d(0x839)](_0x191ee5),_0x13e379=_0x191ee5===_0x4aaf2d(0x428),_0x148ade=_0x122ef3['questions'][_0x4aaf2d(0x2d2)],_0x5cb38a=document['getElementById'](_0x191ee5)[_0x4aaf2d(0x2b1)]('table');if(_0x5cb38a&&!_0x13e379){const _0x4d0082=_0x5cb38a['querySelector'](_0x4aaf2d(0x866));_0x4d0082[_0x4aaf2d(0x536)]=_0x4aaf2d(0x44e);}if(!_0x31711e||_0x31711e['length']===0x0){_0xacde15['innerHTML']=_0x4aaf2d(0x77f)+(_0x13e379?0x6:0x8)+_0x4aaf2d(0x1dd);return;}const _0x119f7e=[..._0x31711e];_0x119f7e[_0x4aaf2d(0x163)]((_0x33fb3e,_0xe759ea)=>{const _0x3ae04c=_0x4aaf2d;let _0x4ac44f,_0x44e760;switch(quizLeaderboardSortBy){case _0x3ae04c(0x845):_0x4ac44f=_0x33fb3e[_0x3ae04c(0x845)]||'',_0x44e760=_0xe759ea['studentName']||'';return quizLeaderboardSortOrder==='asc'?_0x4ac44f[_0x3ae04c(0x917)](_0x44e760,'th'):_0x44e760[_0x3ae04c(0x917)](_0x4ac44f,'th');case _0x3ae04c(0x898):_0x4ac44f=_0x33fb3e[_0x3ae04c(0x898)]||0x0,_0x44e760=_0xe759ea[_0x3ae04c(0x898)]||0x0;break;case'attempts':_0x4ac44f=_0x33fb3e[_0x3ae04c(0x8a3)]?.['length']||0x1,_0x44e760=_0xe759ea[_0x3ae04c(0x8a3)]?.[_0x3ae04c(0x2d2)]||0x1;break;case _0x3ae04c(0x5e0):_0x4ac44f=new Date(_0x33fb3e[_0x3ae04c(0x5e0)]),_0x44e760=new Date(_0xe759ea[_0x3ae04c(0x5e0)]);break;case _0x3ae04c(0x1d9):default:_0x4ac44f=_0x33fb3e[_0x3ae04c(0x1d9)],_0x44e760=_0xe759ea[_0x3ae04c(0x1d9)];break;}if(_0x4ac44f<_0x44e760)return quizLeaderboardSortOrder===_0x3ae04c(0x5c1)?-0x1:0x1;if(_0x4ac44f>_0x44e760)return quizLeaderboardSortOrder===_0x3ae04c(0x5c1)?0x1:-0x1;return 0x0;});const _0x3e0210=_0x122ef3[_0x4aaf2d(0x258)]===!![],_0x32f452=_0x122ef3[_0x4aaf2d(0x248)]?.[_0x4aaf2d(0x86a)]??-0x1;let _0x150777='';_0x119f7e[_0x4aaf2d(0x8de)]((_0xb210ea,_0x10de34)=>{const _0x48fd82=_0x4aaf2d,_0x32c0df=_0x10de34+0x1;let _0x3849b0=_0x48fd82(0x5d2);if(_0x3e0210||_0x32f452!==-0x1){let _0x432ba7=_0x3e0210?_0xb210ea[_0x48fd82(0x1d9)]===_0x148ade:_0xb210ea[_0x48fd82(0x1d9)]>=_0x32f452;const _0x18b520=_0x432ba7?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x585b81=_0x432ba7?'ผ่าน':_0x48fd82(0x17f);_0x3849b0=_0x48fd82(0x864)+_0x18b520+'\x22>'+_0x585b81+_0x48fd82(0x5d7);}const _0x2e6dd8=_0xb210ea['attempts'][_0xb210ea[_0x48fd82(0x8a3)]['length']-0x1],_0x2c814f=(_0x2e6dd8['badges']||[])[_0x48fd82(0x530)](_0x58c718=>{const _0x3a51ca=_0x48fd82,_0x4e7f44=Object[_0x3a51ca(0x5e7)](BADGES)[_0x3a51ca(0x801)](_0x2255b5=>_0x2255b5['id']===_0x58c718);return _0x4e7f44?_0x3a51ca(0x42e)+_0x4e7f44[_0x3a51ca(0x912)]+'\x22><i\x20class=\x22fas\x20'+_0x4e7f44[_0x3a51ca(0x7b4)]+_0x3a51ca(0x211):'';})[_0x48fd82(0x4b4)]('');_0x150777+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x32c0df+_0x48fd82(0x24f)+_0xb210ea['studentName']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0xb210ea[_0x48fd82(0x1d9)]+_0x48fd82(0x665)+_0x148ade+_0x48fd82(0x15c)+_0x3849b0+_0x48fd82(0x713)+(_0xb210ea[_0x48fd82(0x898)]||0x0)+_0x48fd82(0x15c)+(_0x13e379?'':_0x48fd82(0x5df)+(_0xb210ea[_0x48fd82(0x8a3)]?.['length']||0x1)+_0x48fd82(0x148))+_0x48fd82(0x1c2)+(_0x13e379?'':_0x48fd82(0x8f0)+new Date(_0xb210ea[_0x48fd82(0x5e0)])['toLocaleString']('th-TH')+_0x48fd82(0x148))+_0x48fd82(0x14b)+(_0x2c814f||'-')+_0x48fd82(0x8d3);}),_0xacde15[_0x4aaf2d(0x536)]=_0x150777,_0x5cb38a&&!_0x13e379&&_0x5cb38a[_0x4aaf2d(0x2eb)]('thead\x20.sortable-header')[_0x4aaf2d(0x8de)](_0x185cf1=>{const _0x561366=_0x4aaf2d,_0x4cc9e9=_0x185cf1['querySelector'](_0x561366(0x2d7));if(_0x4cc9e9)_0x4cc9e9['remove']();_0x185cf1[_0x561366(0x6b1)][_0x561366(0x163)]===quizLeaderboardSortBy&&(_0x185cf1[_0x561366(0x536)]+=_0x561366(0x870)+(quizLeaderboardSortOrder===_0x561366(0x5c1)?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x2f2a3c){const _0x2d6a9d=_0x5e8eac;if(!currentQuizData||!currentQuizData['id']||!_0x2f2a3c){showMessage(_0x2d6a9d(0x622));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0x2f2a3c+_0x2d6a9d(0x387),async()=>{const _0x8840dc=_0x2d6a9d,_0x38f061=currentQuizData['id'],_0x459cf4=doc(db,'artifacts/'+appId+_0x8840dc(0x736)+_0x38f061+_0x8840dc(0x23e),_0x2f2a3c);try{await deleteDoc(_0x459cf4),showMessage(_0x8840dc(0x372)+_0x2f2a3c+_0x8840dc(0x51b));}catch(_0x22f412){console[_0x8840dc(0x2a9)](_0x8840dc(0x3a7),_0x22f412),showMessage(_0x8840dc(0x254));}});}async function handleLoadQuiz(){const _0x140be2=_0x5e8eac,_0x181445=document[_0x140be2(0x839)](_0x140be2(0x4e9)),_0x523e56=_0x181445['value'][_0x140be2(0x3dd)]();if(!_0x523e56){showMessage(_0x140be2(0x47e));return;}loadQuizBtn[_0x140be2(0x4d1)]=!![],loadQuizBtn['innerHTML']=_0x140be2(0x4bd);try{const _0x4aa2bd=doc(db,_0x140be2(0x705)+appId+_0x140be2(0x780),_0x523e56),_0x52f3ff=await getDoc(_0x4aa2bd);if(!_0x52f3ff[_0x140be2(0x15e)]()){showMessage(_0x140be2(0x884));return;}currentQuizData={'id':_0x52f3ff['id'],..._0x52f3ff[_0x140be2(0x4b3)]()};const _0x561dd0=currentQuizData['status']||_0x140be2(0x38b),_0x373918=new Date();if(_0x561dd0===_0x140be2(0x1aa)){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x561dd0===_0x140be2(0x7cd)){const _0x5ef8a8=currentQuizData[_0x140be2(0x4e5)]?new Date(currentQuizData['startTime']):null,_0x7e9992=currentQuizData[_0x140be2(0x8c7)]?new Date(currentQuizData['endTime']):null;if(_0x5ef8a8&&_0x373918<_0x5ef8a8){showMessage(_0x140be2(0x274)+_0x5ef8a8[_0x140be2(0x448)](_0x140be2(0x37a),{'hour12':![]}));return;}if(_0x7e9992&&_0x373918>_0x7e9992){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x2e19f9=currentQuizData[_0x140be2(0x1cb)];currentProjectId=_0x2e19f9;const _0xc7881b=doc(db,'artifacts/'+appId+_0x140be2(0x1a6),_0x2e19f9),_0x50678d=await getDoc(_0xc7881b);if(!_0x50678d[_0x140be2(0x15e)]()){showMessage(_0x140be2(0x22b));return;}const _0x537cc6=_0x50678d[_0x140be2(0x4b3)]();currentStudentProjectData=_0x537cc6,displayStudentNameSelector(_0x537cc6[_0x140be2(0x221)],currentQuizData[_0x140be2(0x1bf)]);}catch(_0x1bcb82){console[_0x140be2(0x2a9)](_0x140be2(0x4c9),_0x1bcb82),showMessage(_0x140be2(0x725));}finally{loadQuizBtn[_0x140be2(0x4d1)]=![],loadQuizBtn[_0x140be2(0x536)]=_0x140be2(0x83b);}}async function handleJoinLiveGame(){const _0x48e915=_0x5e8eac,_0x169557=document[_0x48e915(0x839)]('game-pin-input'),_0x4852c2=document['getElementById'](_0x48e915(0x8d9)),_0x210a5d=document['getElementById']('confirm-join-game-btn'),_0x1e302d=_0x169557['value'][_0x48e915(0x3dd)](),_0x26c8b2=_0x4852c2['value'][_0x48e915(0x3dd)]();if(!_0x1e302d||!_0x26c8b2){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x210a5d[_0x48e915(0x4d1)]=!![],_0x210a5d['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';try{const _0x2d2826=collection(db,_0x48e915(0x705)+appId+_0x48e915(0x815)),_0x69f1ca=query(_0x2d2826,where(_0x48e915(0x2cc),'==',_0x1e302d),where(_0x48e915(0x442),'==',_0x48e915(0x6de))),_0x35d77a=await getDocs(_0x69f1ca);if(_0x35d77a[_0x48e915(0x791)]){showMessage('ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง');return;}const _0x4191a2=_0x35d77a['docs'][0x0],_0x51b99d=_0x4191a2['data']();currentLiveGameId=_0x4191a2['id'];const _0x50c61e=_0x51b99d[_0x48e915(0x72c)],_0xdc3781=doc(db,_0x48e915(0x705)+appId+_0x48e915(0x780),_0x50c61e),_0x287c8a=await getDoc(_0xdc3781);if(!_0x287c8a['exists']()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x287c8a['id'],..._0x287c8a[_0x48e915(0x4b3)]()};if(_0x51b99d[_0x48e915(0x4aa)]&&_0x51b99d[_0x48e915(0x4aa)][_0x26c8b2]){showMessage(_0x48e915(0x724));return;}const _0x1db2e8={};_0x1db2e8[_0x48e915(0x574)+_0x26c8b2]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x48e915(0x38b)},await updateDoc(doc(db,_0x48e915(0x705)+appId+'/public/data/liveGames',currentLiveGameId),_0x1db2e8),currentStudentName=_0x26c8b2,listenForLiveGameUpdates();}catch(_0xf41681){console[_0x48e915(0x2a9)](_0x48e915(0x72b),_0xf41681),showMessage(_0x48e915(0x6bb));}finally{_0x210a5d[_0x48e915(0x4d1)]=![],_0x210a5d['innerHTML']='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0xafd852,_0x1e9c13){const _0x14ec1e=_0x5e8eac,_0x2faf17=document[_0x14ec1e(0x839)](_0x14ec1e(0x489));document[_0x14ec1e(0x839)](_0x14ec1e(0x789))[_0x14ec1e(0x4ca)]=_0x14ec1e(0x76c)+_0x1e9c13,!_0xafd852||_0xafd852[_0x14ec1e(0x2d2)]===0x0?(_0x2faf17['innerHTML']=_0x14ec1e(0x8c2),startQuizBtn['disabled']=!![]):(_0x2faf17[_0x14ec1e(0x536)]=_0x14ec1e(0x91d),_0xafd852[_0x14ec1e(0x8de)](_0x125bf8=>{const _0x122b2b=_0x14ec1e,_0x210340=document[_0x122b2b(0x341)](_0x122b2b(0x3c4));_0x210340['value']=_0x125bf8,_0x210340['textContent']=_0x125bf8,_0x2faf17[_0x122b2b(0x38d)](_0x210340);}),startQuizBtn['disabled']=![]),studentInitialView[_0x14ec1e(0x298)][_0x14ec1e(0x36a)]('hidden'),studentNameSelectionView[_0x14ec1e(0x298)][_0x14ec1e(0x514)](_0x14ec1e(0x28b));}function shuffleArray(_0x375e3e){const _0x1b1ba5=_0x5e8eac;for(let _0x713e70=_0x375e3e[_0x1b1ba5(0x2d2)]-0x1;_0x713e70>0x0;_0x713e70--){const _0x3cfb52=Math[_0x1b1ba5(0x1a1)](Math['random']()*(_0x713e70+0x1));[_0x375e3e[_0x713e70],_0x375e3e[_0x3cfb52]]=[_0x375e3e[_0x3cfb52],_0x375e3e[_0x713e70]];}}function getShuffledQuiz(_0x3f0631){const _0x25afb6=_0x5e8eac;let _0x6c1c73=JSON['parse'](JSON[_0x25afb6(0x878)](_0x3f0631));const _0x339276=_0x6c1c73[_0x25afb6(0x248)]?.[_0x25afb6(0x41f)]||_0x25afb6(0x41e);if(_0x339276==='none')return _0x6c1c73;return(_0x339276===_0x25afb6(0x30c)||_0x339276===_0x25afb6(0x301))&&shuffleArray(_0x6c1c73[_0x25afb6(0x3ef)]),(_0x339276===_0x25afb6(0x31d)||_0x339276===_0x25afb6(0x301))&&_0x6c1c73[_0x25afb6(0x3ef)]['forEach'](_0x46eadc=>{const _0x14ec89=_0x25afb6,_0x1e87dc=_0x46eadc[_0x14ec89(0x6d0)]||_0x6c1c73[_0x14ec89(0x863)];if(_0x46eadc[_0x14ec89(0x7d8)]){let _0x2a4094=_0x46eadc[_0x14ec89(0x7d8)]['map']((_0x2950b7,_0x3f2a6a)=>({'text':_0x2950b7,'isCorrect':_0x3f2a6a===_0x46eadc[_0x14ec89(0x8f1)]}));shuffleArray(_0x2a4094),_0x46eadc[_0x14ec89(0x7d8)]=_0x2a4094['map'](_0x39c8cc=>_0x39c8cc[_0x14ec89(0x2a6)]),_0x46eadc[_0x14ec89(0x8f1)]=_0x2a4094[_0x14ec89(0x333)](_0x1466f8=>_0x1466f8[_0x14ec89(0x56c)]);}_0x1e87dc===_0x14ec89(0x183)&&_0x46eadc[_0x14ec89(0x5d8)]&&shuffleArray(_0x46eadc[_0x14ec89(0x5d8)]);}),_0x6c1c73;}function displayQuizForStudent(_0x165e9f){const _0xfa33b9=_0x5e8eac;studentQuizArea['classList']['remove'](_0xfa33b9(0x28b)),currentDisplayedQuiz=getShuffledQuiz(_0x165e9f);currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0xfa33b9(0x715),handleFullscreenChange),document[_0xfa33b9(0x2da)](_0xfa33b9(0x3d0),handleVisibilityChange),enterFullscreen(),window['addEventListener'](_0xfa33b9(0x8a8),resetDimTimer),window[_0xfa33b9(0x2da)]('mousedown',resetDimTimer),window['addEventListener'](_0xfa33b9(0x654),resetDimTimer),window[_0xfa33b9(0x2da)]('keydown',resetDimTimer),resetDimTimer());const _0x3da17d=currentDisplayedQuiz[_0xfa33b9(0x248)]?.[_0xfa33b9(0x3c1)]||_0xfa33b9(0x41e);if(_0x3da17d==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0xfa33b9(0x248)]['timerDuration']);else _0x3da17d==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x1577be=_0x5e8eac;let _0x6c6c8c=_0x1577be(0x684)+currentDisplayedQuiz[_0x1577be(0x1bf)]+_0x1577be(0x499)+(currentMode===_0x1577be(0x286)?_0x1577be(0x4b7):'')+_0x1577be(0x1d4);currentDisplayedQuiz[_0x1577be(0x3ef)][_0x1577be(0x8de)]((_0x2ad660,_0x164a6d)=>{const _0x285619=_0x1577be,_0x2f6716=_0x2ad660[_0x285619(0x6d0)]||currentDisplayedQuiz[_0x285619(0x863)];_0x6c6c8c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x2f6716===_0x285619(0x183)?_0x6c6c8c+=_0x285619(0x416)+(_0x164a6d+0x1)+'.\x20'+_0x2ad660[_0x285619(0x3f1)]+_0x285619(0x5f7)+_0x164a6d+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2ad660[_0x285619(0x5d8)]['map'](_0x301939=>'<option\x20value=\x22'+_0x301939+'\x22>'+_0x301939+'</option>')[_0x285619(0x4b4)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a':(_0x6c6c8c+=_0x285619(0x4a5)+(_0x164a6d+0x1)+'.\x20'+(_0x2ad660[_0x285619(0x601)]||_0x2ad660[_0x285619(0x593)])+_0x285619(0x5bd),_0x2ad660[_0x285619(0x8b0)]&&(_0x6c6c8c+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x2ad660['imageCode']+_0x285619(0x145)));_0x6c6c8c+='</div><div\x20class=\x22space-y-2\x22>';switch(_0x2f6716){case'short_answer':_0x6c6c8c+=_0x285619(0x4c2)+_0x164a6d+_0x285619(0x551);break;case _0x285619(0x679):_0x6c6c8c+=_0x285619(0x213)+_0x164a6d+_0x285619(0x5e1)+_0x164a6d+_0x285619(0x13b)+_0x164a6d+_0x285619(0x838),_0x6c6c8c+=_0x285619(0x213)+_0x164a6d+'_opt1\x22\x20name=\x22question'+_0x164a6d+'\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x164a6d+_0x285619(0x923);break;case'matching_item':break;case _0x285619(0x266):case _0x285619(0x497):default:_0x6c6c8c+=_0x2ad660[_0x285619(0x7d8)][_0x285619(0x530)]((_0x1ae80c,_0x28f31f)=>_0x285619(0x646)+_0x164a6d+_0x285619(0x5f6)+_0x28f31f+_0x285619(0x8fe)+_0x164a6d+_0x285619(0x1ff)+_0x28f31f+_0x285619(0x5ff)+_0x164a6d+_0x285619(0x5f6)+_0x28f31f+'\x22>'+_0x1ae80c+_0x285619(0x827))[_0x285619(0x4b4)]('');break;}_0x6c6c8c+=_0x285619(0x5dc);}),_0x6c6c8c+=_0x1577be(0x605),_0x6c6c8c+=_0x1577be(0x754),studentQuizArea[_0x1577be(0x536)]=_0x6c6c8c;if(currentMode===_0x1577be(0x286)){const _0x349b22=document[_0x1577be(0x839)](_0x1577be(0x76d));if(_0x349b22)_0x349b22[_0x1577be(0x2da)]('click',cancelAdminTest);}document[_0x1577be(0x839)](_0x1577be(0x30e))[_0x1577be(0x2da)]('submit',handleSubmitQuiz);if(window[_0x1577be(0x20c)])window[_0x1577be(0x20c)][_0x1577be(0x687)]([studentQuizArea]);}async function handleSubmitQuiz(_0x41c657){const _0x492592=_0x5e8eac;if(_0x41c657)_0x41c657[_0x492592(0x6ba)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x5c4890=document[_0x492592(0x839)](_0x492592(0x30e));if(!_0x5c4890)return;const _0x505f51=_0x5c4890[_0x492592(0x2cf)](_0x492592(0x29e)),_0x3e2d7d=currentDisplayedQuiz[_0x492592(0x3ef)][_0x492592(0x7dc)](_0x352769=>_0x352769[_0x492592(0x6d0)]===_0x492592(0x3a8));_0x505f51&&(_0x505f51[_0x492592(0x4d1)]=!![],_0x3e2d7d?_0x505f51[_0x492592(0x536)]=_0x492592(0x8a1):_0x505f51[_0x492592(0x536)]=_0x492592(0x200));const _0x11e0b9=new FormData(_0x5c4890),_0x25baab=currentDisplayedQuiz[_0x492592(0x3ef)][_0x492592(0x530)]((_0x5541b4,_0x1adcaf)=>{const _0x5c3fb2=_0x492592,_0x4ba751=_0x5541b4[_0x5c3fb2(0x6d0)]||currentDisplayedQuiz[_0x5c3fb2(0x863)],_0x39e046=_0x11e0b9[_0x5c3fb2(0x1a5)]('question'+_0x1adcaf);if(_0x39e046!==null&&_0x39e046!==undefined){if(_0x4ba751==='multiple_choice'||_0x4ba751===_0x5c3fb2(0x266))return parseInt(_0x39e046);return _0x39e046;}return null;}),_0x409b31=currentQuizData['id'],_0x4059d2=doc(db,_0x492592(0x705)+appId+_0x492592(0x736)+_0x409b31+'/submissions',currentStudentName),_0x458ef0=await getDoc(_0x4059d2),_0x2ff4e6=_0x458ef0[_0x492592(0x15e)]()?_0x458ef0['data']():{},_0x1a1f38=_0x2ff4e6[_0x492592(0x8a3)]||[];await processAndSubmitAnswers(_0x25baab,_0x1a1f38);}async function gradeShortAnswerWithAI(_0xdef914,_0x51f0de){const _0x49ffa9=_0x5e8eac;if(!_0xdef914||!_0x51f0de)return![];try{const _0x1726f8=_0x49ffa9(0x70a)+_0xdef914+_0x49ffa9(0x710)+_0x51f0de+_0x49ffa9(0x300),_0x4afda0={'contents':[{'role':'user','parts':[{'text':_0x1726f8}]}]},_0x4d88a8=_0x49ffa9(0x3b3),_0x2f955e=_0x49ffa9(0x244)+_0x4d88a8,_0x572d4d=await fetch(_0x2f955e,{'method':'POST','headers':{'Content-Type':_0x49ffa9(0x6c2)},'body':JSON[_0x49ffa9(0x878)](_0x4afda0)});if(!_0x572d4d['ok'])throw new Error('API\x20call\x20failed');const _0x169119=await _0x572d4d[_0x49ffa9(0x175)](),_0x592818=_0x169119[_0x49ffa9(0x589)][0x0][_0x49ffa9(0x5bb)][_0x49ffa9(0x873)][0x0][_0x49ffa9(0x2a6)][_0x49ffa9(0x3dd)]()[_0x49ffa9(0x55b)]();return _0x592818===_0x49ffa9(0x74c);}catch(_0x24f7d2){return console[_0x49ffa9(0x2a9)]('AI\x20grading\x20failed:',_0x24f7d2),![];}}async function processAndSubmitAnswers(_0x796841,_0x3196d1){const _0x558a45=_0x5e8eac;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener'](_0x558a45(0x715),handleFullscreenChange),document[_0x558a45(0x573)](_0x558a45(0x3d0),handleVisibilityChange);let _0x5dcf77=0x0,_0x5bd326=0x0,_0x4fce81=[];const _0x21dbcd=[],_0x131b1c=currentDisplayedQuiz[_0x558a45(0x3ef)][_0x558a45(0x2d2)];let _0x10e7b3=0x0;const _0x1de832=currentDisplayedQuiz[_0x558a45(0x3ef)];for(let _0x319b87=0x0;_0x319b87<_0x1de832[_0x558a45(0x2d2)];_0x319b87++){const _0x2a61f8=_0x1de832[_0x319b87],_0x48cf6e=_0x796841[_0x319b87],_0x1a8aa9=_0x2a61f8[_0x558a45(0x6d0)]||currentDisplayedQuiz[_0x558a45(0x863)];let _0x11501e=![];if(_0x48cf6e!==null&&_0x48cf6e!=='')switch(_0x1a8aa9){case'matching_item':_0x11501e=_0x48cf6e===_0x2a61f8[_0x558a45(0x4a1)];break;case _0x558a45(0x679):const _0x55d8bf=_0x48cf6e===!![]||_0x48cf6e==='true';_0x11501e=_0x55d8bf===_0x2a61f8[_0x558a45(0x788)];break;case _0x558a45(0x266):case'multiple_choice':default:_0x11501e=Number(_0x48cf6e)===_0x2a61f8['correctAnswerIndex'];break;case _0x558a45(0x3a8):_0x11501e=await gradeShortAnswer(_0x48cf6e,_0x2a61f8);break;}_0x11501e?(_0x5dcf77++,_0x10e7b3++,_0x10e7b3===0x3&&(_0x4fce81['push'](BADGES[_0x558a45(0x3a1)]['id']),_0x10e7b3=0x0)):_0x10e7b3=0x0;let _0x916fea=null;_0x2a61f8[_0x558a45(0x7d8)]&&_0x48cf6e!==null&&(_0x916fea=_0x2a61f8['options'][_0x48cf6e]),_0x21dbcd['push']({'questionId':_0x2a61f8['id'],'answer':_0x48cf6e,'answerText':_0x916fea,'isCorrect':_0x11501e,'originalQuestionText':_0x2a61f8[_0x558a45(0x3f1)]||_0x2a61f8[_0x558a45(0x593)]});}_0x5bd326=_0x5dcf77*0xa;_0x5dcf77===_0x131b1c&&_0x131b1c>0x0&&!currentDisplayedQuiz[_0x558a45(0x258)]&&(_0x5bd326+=0x32,_0x4fce81['push'](BADGES[_0x558a45(0x830)]['id']));const _0x1c534f=currentDisplayedQuiz[_0x558a45(0x248)]?.[_0x558a45(0x86a)]??Math['floor'](_0x131b1c/0x2),_0x109cbb=currentDisplayedQuiz['settings']?.[_0x558a45(0x3c1)];if(_0x109cbb===_0x558a45(0x8f5)&&quizStartTime){const _0x240a17=(new Date()-quizStartTime)/0x3e8,_0x270cff=currentDisplayedQuiz[_0x558a45(0x248)][_0x558a45(0x751)]*0x3c;_0x5dcf77>=_0x1c534f&&_0x240a17<_0x270cff/0x2&&(_0x5bd326+=0x14,_0x4fce81[_0x558a45(0x8a4)](BADGES[_0x558a45(0x516)]['id']));}_0x3196d1[_0x558a45(0x2d2)]===0x0&&_0x5dcf77===_0x131b1c&&_0x131b1c>0x0&&_0x4fce81[_0x558a45(0x8a4)](BADGES[_0x558a45(0x1ad)]['id']);if(_0x3196d1['length']>0x0){const _0x570427=_0x3196d1[0x0][_0x558a45(0x2d1)];if(_0x570427<_0x1c534f&&_0x5dcf77>=_0x1c534f){const _0x52e0be=_0x3196d1['some'](_0x56eae1=>(_0x56eae1[_0x558a45(0x20a)]||[])[_0x558a45(0x6f6)](BADGES[_0x558a45(0x50d)]['id']));!_0x52e0be&&_0x4fce81['push'](BADGES[_0x558a45(0x50d)]['id']);}}_0x3196d1['length']===0x4&&_0x4fce81['push'](BADGES[_0x558a45(0x3cc)]['id']);const _0x567429=currentDisplayedQuiz[_0x558a45(0x248)][_0x558a45(0x479)];if(currentMode===_0x558a45(0x286)){handleResultDisplay(_0x567429,_0x5dcf77,_0x5bd326,_0x4fce81,_0x21dbcd,_0x131b1c);return;}const _0x528bdb=currentQuizData['id'],_0x4fc6d8=doc(db,_0x558a45(0x705)+appId+_0x558a45(0x736)+_0x528bdb+_0x558a45(0x23e),currentStudentName);try{const _0x1bcec7=[..._0x3196d1],_0x2d28a3={'score':_0x5dcf77,'points':_0x5bd326,'badges':_0x4fce81,'submittedAt':new Date()[_0x558a45(0x550)](),'answers':_0x21dbcd};_0x1bcec7[_0x558a45(0x8a4)](_0x2d28a3);const _0x4cbc0d=_0x1bcec7[0x0]['score'],_0x47bf6b=Math['max'](..._0x1bcec7['map'](_0xd25091=>_0xd25091[_0x558a45(0x2d1)])),_0xf58d3f=_0x5dcf77,_0x3b2798=_0x2d28a3[_0x558a45(0x130)];await setDoc(_0x4fc6d8,{'studentName':currentStudentName,'totalQuestions':_0x131b1c,'attempts':_0x1bcec7,'firstScore':_0x4cbc0d,'bestScore':_0x47bf6b,'latestScore':_0xf58d3f,'points':_0x5bd326,'latestSubmittedAt':_0x3b2798},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x558a45(0x1cb)],currentStudentName),handleResultDisplay(_0x567429,_0x5dcf77,_0x5bd326,_0x4fce81,_0x21dbcd,_0x131b1c);}catch(_0x4b4af0){console[_0x558a45(0x2a9)](_0x558a45(0x128),_0x4b4af0),showMessage(_0x558a45(0x144));}}async function updateStudentProfile(_0x23bc38,_0xd6537b){const _0x3da2d8=_0x5e8eac,_0x54dd43=doc(db,_0x3da2d8(0x705)+appId+_0x3da2d8(0x49a)+_0x23bc38+_0x3da2d8(0x2de),_0xd6537b);try{const _0x22b0b9=query(collection(db,_0x3da2d8(0x705)+appId+_0x3da2d8(0x780)),where(_0x3da2d8(0x1cb),'==',_0x23bc38)),_0x45eee7=await getDocs(_0x22b0b9),_0x5315b3=new Map(_0x45eee7[_0x3da2d8(0x42d)][_0x3da2d8(0x530)](_0x57a860=>[_0x57a860['id'],_0x57a860[_0x3da2d8(0x4b3)]()])),_0x5bc3bf=Array[_0x3da2d8(0x770)](_0x5315b3[_0x3da2d8(0x19e)]());await runTransaction(db,async _0x5ccfda=>{const _0x1d4ef1=_0x3da2d8;let _0x40d8d5=0x0;const _0x434373={};let _0x50dd9a=!![],_0x49db8d=0x0,_0x319df6=0x0;for(const _0x4b71b1 of _0x5bc3bf){const _0x3a59b4=_0x5315b3[_0x1d4ef1(0x1a5)](_0x4b71b1),_0x29235f=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x4b71b1+_0x1d4ef1(0x23e),_0xd6537b),_0x2c7b13=await _0x5ccfda['get'](_0x29235f);if(_0x2c7b13[_0x1d4ef1(0x15e)]()){const _0xeeda38=_0x2c7b13[_0x1d4ef1(0x4b3)](),_0x2a1f50=_0xeeda38[_0x1d4ef1(0x8a3)]||[];if(_0x2a1f50[_0x1d4ef1(0x2d2)]>0x0){const _0x4f5cbf=_0x2a1f50[_0x1d4ef1(0x1d6)]((_0x259c53,_0x3429d6)=>{const _0x10e1a9=_0x1d4ef1;if(_0x3429d6['score']>_0x259c53[_0x10e1a9(0x2d1)])return _0x3429d6;if(_0x3429d6[_0x10e1a9(0x2d1)]===_0x259c53[_0x10e1a9(0x2d1)])return(_0x3429d6[_0x10e1a9(0x898)]||0x0)>(_0x259c53[_0x10e1a9(0x898)]||0x0)?_0x3429d6:_0x259c53;return _0x259c53;},{'score':-0x1,'points':-0x1});_0x4f5cbf['score']>-0x1&&(_0x40d8d5+=_0x4f5cbf['points']||0x0,(_0x4f5cbf[_0x1d4ef1(0x20a)]||[])[_0x1d4ef1(0x8de)](_0x3c79f9=>{_0x434373[_0x3c79f9]=(_0x434373[_0x3c79f9]||0x0)+0x1;}));}}if(_0x3a59b4[_0x1d4ef1(0x1bf)]!==_0x1d4ef1(0x3b4)){_0x319df6++;if(_0x2c7b13[_0x1d4ef1(0x15e)]()){_0x49db8d++;const _0x107681=_0x2c7b13[_0x1d4ef1(0x4b3)]();_0x107681['bestScore']!==_0x107681['totalQuestions']&&(_0x50dd9a=![]);}else _0x50dd9a=![];}}_0x319df6>0x0&&_0x49db8d===_0x319df6&&_0x50dd9a?_0x434373[_0x1d4ef1(0x5ac)]=0x1:_0x434373[_0x1d4ef1(0x5ac)]=0x0,_0x5ccfda[_0x1d4ef1(0x79b)](_0x54dd43,{'studentName':_0xd6537b,'totalPoints':_0x40d8d5,'unlockedBadges':Object[_0x1d4ef1(0x19e)](_0x434373)[_0x1d4ef1(0x579)](_0x2299de=>_0x434373[_0x2299de]>0x0),'badgesCount':_0x434373},{'merge':!![]});});}catch(_0x4e69e2){console['error']('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x4e69e2),showMessage('เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ');}}function startAdminTest(){const _0x33b14b=_0x5e8eac;if(!currentQuizData){showMessage(_0x33b14b(0x30b));return;}let _0x4af9fa=JSON[_0x33b14b(0x488)](JSON['stringify'](currentQuizData));currentMode=_0x33b14b(0x286),currentStudentName=_0x33b14b(0x160),adminView[_0x33b14b(0x298)][_0x33b14b(0x36a)](_0x33b14b(0x28b)),studentView[_0x33b14b(0x298)]['remove'](_0x33b14b(0x28b)),studentInitialView[_0x33b14b(0x298)][_0x33b14b(0x36a)](_0x33b14b(0x28b)),studentNameSelectionView['classList'][_0x33b14b(0x36a)]('hidden'),studentResultArea[_0x33b14b(0x298)][_0x33b14b(0x36a)](_0x33b14b(0x28b)),studentQuizArea[_0x33b14b(0x298)][_0x33b14b(0x514)](_0x33b14b(0x28b)),quizStartTime=new Date(),displayQuizForStudent(_0x4af9fa);}function handleResultDisplay(_0x416ce7,_0x5b3720,_0x528a57,_0x3e61d9,_0x52a1a7,_0x52e351){const _0x287685=_0x5e8eac;if(_0x416ce7===_0x287685(0x91f)){displaySubmissionConfirmation();return;}const _0x47ecc=currentDisplayedQuiz[_0x287685(0x248)]?.[_0x287685(0x86a)]??Math[_0x287685(0x1a1)](_0x52e351/0x2),_0x120f2d=currentDisplayedQuiz['settings']?.[_0x287685(0x6dc)]??![],_0x116ffa=currentDisplayedQuiz[_0x287685(0x248)]?.[_0x287685(0x82f)]===!![],_0x441f03=_0x5b3720<_0x47ecc,_0x4f3273=_0x416ce7===_0x287685(0x5e4)||_0x416ce7===_0x287685(0x123);if(_0x116ffa&&_0x441f03&&!_0x4f3273){_0x416ce7==='show_results_and_answers'?displayResultsWithAnswers(_0x5b3720,_0x528a57,_0x3e61d9,_0x52a1a7,_0x52e351,!![]):displayLoopScreen(_0x5b3720,_0x52e351,_0x416ce7);return;}if(_0x120f2d&&_0x441f03){startAdaptiveFlow(_0x52a1a7,_0x5b3720,_0x52e351);return;}switch(_0x416ce7){case _0x287685(0x8c0):displayResultsWithAnswers(_0x5b3720,_0x528a57,_0x3e61d9,_0x52a1a7,_0x52e351);break;case _0x287685(0x430):displayResultsScoreOnly(_0x5b3720,_0x528a57,_0x3e61d9,_0x52e351);break;case _0x287685(0x43e):displayPassFailOnly(_0x5b3720,_0x52e351);break;case _0x287685(0x5e4):displayHalfMarkResult(_0x5b3720,_0x52e351);break;case'perfect_score_status':displayPerfectScoreResult(_0x5b3720,_0x52e351);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x3c7e08){const _0x566fa5=_0x5e8eac;studentReadingArea[_0x566fa5(0x536)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x6fb467=_0x566fa5(0x73e)+_0x3c7e08+_0x566fa5(0x80b)+simpleMathPrompt+_0x566fa5(0x3ae),_0x565881={'type':'OBJECT','properties':{'questionText':{'type':_0x566fa5(0x2c9)},'options':{'type':_0x566fa5(0x7af),'items':{'type':_0x566fa5(0x2c9)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'}},'required':['questionText','options',_0x566fa5(0x8f1),'explanation']},_0x44e79b={'type':_0x566fa5(0x7f6),'properties':{'topic':{'type':_0x566fa5(0x2c9)},'questions':{'type':'ARRAY','items':_0x565881}},'required':['topic',_0x566fa5(0x3ef)]};try{const _0x217365=await callAnalysisApi(_0x6fb467,_0x44e79b);_0x217365[_0x566fa5(0x258)]=!![],studentReadingArea[_0x566fa5(0x298)][_0x566fa5(0x36a)](_0x566fa5(0x28b));const _0x4836d9={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':_0x566fa5(0x8c0)};_0x217365[_0x566fa5(0x248)]=_0x4836d9,displayQuizForStudent(_0x217365);}catch(_0x577797){console[_0x566fa5(0x2a9)](_0x566fa5(0x478),_0x577797),showMessage(_0x566fa5(0x2a5)),showView(_0x566fa5(0x1d5));}}function displayPassFailOnly(_0x5e6b13,_0x129302){const _0x4c2fda=_0x5e8eac,_0x57f8b7=currentDisplayedQuiz[_0x4c2fda(0x248)]?.[_0x4c2fda(0x86a)]??-0x1,_0x46b73e=currentDisplayedQuiz[_0x4c2fda(0x258)]===!![];let _0x40fba7='',_0xbee71d=![];if(_0x46b73e||_0x57f8b7!==-0x1){_0xbee71d=_0x46b73e?_0x5e6b13===_0x129302:_0x5e6b13>=_0x57f8b7;const _0x17647d=_0xbee71d?_0x4c2fda(0x414):_0x4c2fda(0x7b9),_0x5a8a61=_0xbee71d?_0x4c2fda(0x731):_0x4c2fda(0x17f);_0x40fba7='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0x17647d+'\x22>'+_0x5a8a61+_0x4c2fda(0x3bd);}else _0x40fba7=_0x4c2fda(0x88c);let _0x57b0a7=_0x4c2fda(0x40b)+currentStudentName+_0x4c2fda(0x6bc)+_0x40fba7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x4c2fda(0x536)]=_0x57b0a7,studentResultArea['classList'][_0x4c2fda(0x514)](_0x4c2fda(0x28b)),studentQuizArea[_0x4c2fda(0x298)]['add'](_0x4c2fda(0x28b)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0xbee71d});}function cancelAdminTest(){const _0x248d60=_0x5e8eac;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x248d60(0x573)](_0x248d60(0x715),handleFullscreenChange),document['removeEventListener'](_0x248d60(0x3d0),handleVisibilityChange),currentMode=_0x248d60(0x1e8),studentView[_0x248d60(0x298)]['add'](_0x248d60(0x28b)),adminView[_0x248d60(0x298)][_0x248d60(0x514)](_0x248d60(0x28b)),showView('project-detail');}function setupResultScreenBackButton(_0x180d65){const _0x50289d=_0x5e8eac,_0x209b03={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x180d65};if(_0x209b03[_0x50289d(0x79f)]){const _0x2009d2=_0x50289d(0x50f);studentResultArea[_0x50289d(0x887)](_0x50289d(0x7a4),_0x2009d2),document[_0x50289d(0x839)](_0x50289d(0x407))[_0x50289d(0x2da)](_0x50289d(0x3b0),()=>{const _0x2dcf25=_0x50289d;studentResultArea[_0x2dcf25(0x298)][_0x2dcf25(0x36a)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x3f5535=_0x50289d(0x4c3),_0x59fe1f=currentMode===_0x50289d(0x286),_0xa58d4=_0x59fe1f?_0x50289d(0x22d):_0x50289d(0x520);let _0x412963='';_0x209b03[_0x50289d(0x4a3)]&&(_0x412963+=_0x50289d(0x2b2));let _0x2d41af=_0x209b03[_0x50289d(0x4a8)];_0x2d41af===undefined&&(_0x2d41af=_0x209b03[_0x50289d(0x2d1)]<_0x209b03[_0x50289d(0x2ec)]);_0x2d41af&&(_0x412963+=_0x50289d(0x65d));_0x412963+=_0x50289d(0x49c)+_0x3f5535+_0x50289d(0x922)+_0xa58d4+_0x50289d(0x2f3);const _0x4e5a59='<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>'+_0x412963+_0x50289d(0x145);studentResultArea[_0x50289d(0x887)]('beforeend',_0x4e5a59),studentResultArea[_0x50289d(0x2cf)]('#view-rankings-btn')?.[_0x50289d(0x2da)](_0x50289d(0x3b0),handleShowStudentRankings);const _0x5d3c0c=studentResultArea[_0x50289d(0x2cf)](_0x50289d(0x797));_0x5d3c0c&&_0x5d3c0c[_0x50289d(0x2da)]('click',()=>{const _0xc3bbcc=_0x50289d;studentResultArea[_0xc3bbcc(0x298)][_0xc3bbcc(0x36a)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x3f5535)[_0x50289d(0x2da)](_0x50289d(0x3b0),()=>{const _0x2393d8=_0x50289d;_0x59fe1f?(currentMode='admin',studentView[_0x2393d8(0x298)][_0x2393d8(0x36a)](_0x2393d8(0x28b)),adminView[_0x2393d8(0x298)][_0x2393d8(0x514)](_0x2393d8(0x28b)),showView(_0x2393d8(0x178))):(showView(_0x2393d8(0x1d5)),document[_0x2393d8(0x839)](_0x2393d8(0x4e9))['value']='');});}function displayResultsWithAnswers(_0x43bcc9,_0x13b209,_0x5924b4,_0x4150e,_0x2bccb2,_0x39ec49=![]){const _0x1fcc95=_0x5e8eac,_0x56f620=_0x2bccb2>0x0?_0x43bcc9/_0x2bccb2*0x64:0x0,_0x12329d=currentDisplayedQuiz[_0x1fcc95(0x248)]?.['passingScore']??-0x1,_0x1022d3=currentDisplayedQuiz['isRemedial']===!![];let _0x50c331='';if(_0x1022d3||_0x12329d!==-0x1){let _0x16d1e8=_0x1022d3?_0x43bcc9===_0x2bccb2:_0x43bcc9>=_0x12329d;const _0x194d82=_0x16d1e8?_0x1fcc95(0x414):_0x1fcc95(0x7b9),_0x54cb2d=_0x16d1e8?_0x1fcc95(0x731):'ไม่ผ่าน';_0x50c331=_0x1fcc95(0x581)+_0x194d82+'\x22>'+_0x54cb2d+'</p>';}let _0x1dac94=_0x1fcc95(0x701)+currentStudentName+_0x1fcc95(0x245)+_0x43bcc9+_0x1fcc95(0x571)+_0x2bccb2+_0x1fcc95(0x6aa)+_0x50c331+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x13b209+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x56f620[_0x1fcc95(0x3e6)](0x0)+_0x1fcc95(0x5e3);currentDisplayedQuiz[_0x1fcc95(0x3ef)][_0x1fcc95(0x8de)]((_0x3dfcc2,_0xb0465e)=>{const _0x21289b=_0x1fcc95,_0x487490=_0x4150e[_0xb0465e],_0x24a039=_0x487490['answer'],_0x5063a8=_0x487490['isCorrect'],_0x2d35ae=_0x3dfcc2[_0x21289b(0x6d0)]||currentDisplayedQuiz[_0x21289b(0x863)];_0x1dac94+=_0x21289b(0x5a7)+(_0x5063a8?_0x21289b(0x1c1):_0x21289b(0x68b))+_0x21289b(0x26a)+(_0xb0465e+0x1)+'.\x20'+(_0x3dfcc2[_0x21289b(0x3f1)]||_0x3dfcc2[_0x21289b(0x593)])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0x2d35ae){case _0x21289b(0x183):const _0x2ea23e=_0x24a039||_0x21289b(0x48f),_0x4f76e8=_0x3dfcc2[_0x21289b(0x4a1)];_0x1dac94+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x5063a8?_0x21289b(0x7a9):'')+'\x22>'+_0x2ea23e+'</span></p>';!_0x5063a8&&(_0x1dac94+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x4f76e8+_0x21289b(0x5bd));break;case _0x21289b(0x3a8):_0x1dac94+=_0x21289b(0x7a2)+(_0x24a039||_0x21289b(0x48f))+_0x21289b(0x5bd),_0x1dac94+=_0x21289b(0x4d4)+_0x3dfcc2['idealAnswer']+'</p>';break;case _0x21289b(0x679):_0x1dac94+=_0x21289b(0x435)+(_0x3dfcc2[_0x21289b(0x788)]===!![]?_0x21289b(0x7a0):'')+'\x20'+(_0x24a039===_0x21289b(0x74c)&&!_0x5063a8?_0x21289b(0x7a9):'')+_0x21289b(0x3f3),_0x1dac94+=_0x21289b(0x435)+(_0x3dfcc2[_0x21289b(0x788)]===![]?_0x21289b(0x7a0):'')+'\x20'+(_0x24a039==='false'&&!_0x5063a8?_0x21289b(0x7a9):'')+_0x21289b(0x468);break;default:_0x1dac94+=_0x3dfcc2['options'][_0x21289b(0x530)]((_0x7334d0,_0x52b279)=>{const _0x305a11=_0x21289b;let _0x162758='',_0x47b57e='';if(_0x52b279===_0x3dfcc2['correctAnswerIndex'])_0x162758=_0x305a11(0x7a0),_0x47b57e=_0x305a11(0x6cb);else _0x52b279===_0x24a039&&(_0x162758='font-bold\x20text-red-700\x20line-through',_0x47b57e=_0x305a11(0x467));return'<div\x20class=\x22'+_0x162758+'\x22>'+_0x47b57e+_0x7334d0+_0x305a11(0x145);})[_0x21289b(0x4b4)]('');break;}_0x1dac94+=_0x21289b(0x42b)+(_0x3dfcc2['explanation']||_0x21289b(0x822))+_0x21289b(0x145);if(!_0x5063a8){const _0x22df5e=_0x3dfcc2[_0x21289b(0x3f1)]||_0x3dfcc2['questionText'];_0x1dac94+=_0x21289b(0x133)+escape(_0x22df5e)+_0x21289b(0x74e);}_0x1dac94+=_0x21289b(0x145);}),studentResultArea[_0x1fcc95(0x536)]=_0x1dac94,renderEarnedBadges(_0x5924b4,_0x1fcc95(0x4d0)),studentResultArea[_0x1fcc95(0x298)][_0x1fcc95(0x514)]('hidden'),studentQuizArea[_0x1fcc95(0x298)][_0x1fcc95(0x36a)](_0x1fcc95(0x28b)),setupResultScreenBackButton({'isLooping':_0x39ec49,'score':_0x43bcc9,'totalQuestions':_0x2bccb2,'showRankings':!![]});if(window[_0x1fcc95(0x20c)])window[_0x1fcc95(0x20c)]['typesetPromise']([studentResultArea]);}function displayResultsScoreOnly(_0x3e6e2e,_0x44bd14,_0x1f8d53,_0x33ef61){const _0x1ae917=_0x5e8eac,_0xa65944=_0x33ef61>0x0?_0x3e6e2e/_0x33ef61*0x64:0x0,_0x2e378d=currentDisplayedQuiz['settings']?.[_0x1ae917(0x86a)]??-0x1,_0x53c8fb=currentDisplayedQuiz['isRemedial']===!![];let _0x18d12f='';if(_0x53c8fb||_0x2e378d!==-0x1){let _0x19bcc1=_0x53c8fb?_0x3e6e2e===_0x33ef61:_0x3e6e2e>=_0x2e378d;const _0x2c6172=_0x19bcc1?_0x1ae917(0x414):'bg-red-100\x20text-red-800',_0x395ed2=_0x19bcc1?_0x1ae917(0x731):'ไม่ผ่าน';_0x18d12f=_0x1ae917(0x581)+_0x2c6172+'\x22>'+_0x395ed2+_0x1ae917(0x5bd);}let _0x187407=_0x1ae917(0x40b)+currentStudentName+_0x1ae917(0x440)+_0x3e6e2e+_0x1ae917(0x667)+_0x33ef61+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x18d12f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x44bd14+_0x1ae917(0x60a)+_0xa65944['toFixed'](0x0)+_0x1ae917(0x6e0);studentResultArea[_0x1ae917(0x536)]=_0x187407,renderEarnedBadges(_0x1f8d53,_0x1ae917(0x4d0)),studentResultArea[_0x1ae917(0x298)]['remove']('hidden'),studentQuizArea[_0x1ae917(0x298)][_0x1ae917(0x36a)](_0x1ae917(0x28b)),setupResultScreenBackButton({'score':_0x3e6e2e,'totalQuestions':_0x33ef61,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x559009=_0x5e8eac;let _0x36ada5=_0x559009(0x52a)+currentStudentName+_0x559009(0x4cb);studentResultArea[_0x559009(0x536)]=_0x36ada5,studentResultArea[_0x559009(0x298)][_0x559009(0x514)](_0x559009(0x28b)),studentQuizArea[_0x559009(0x298)]['add'](_0x559009(0x28b)),document[_0x559009(0x839)](_0x559009(0x124))[_0x559009(0x2da)](_0x559009(0x3b0),()=>{const _0x2a1410=_0x559009;showView(_0x2a1410(0x1d5)),document[_0x2a1410(0x839)](_0x2a1410(0x4e9))['value']='';});}function renderEarnedBadges(_0x557e41,_0x3d937a){const _0x31801f=_0x5e8eac,_0x261151=document[_0x31801f(0x839)](_0x3d937a);if(!_0x261151||!_0x557e41||_0x557e41[_0x31801f(0x2d2)]===0x0)return;let _0x4f0472='';_0x557e41[_0x31801f(0x8de)]((_0x3f86b8,_0x2f47f7)=>{const _0x391e68=_0x31801f,_0x14c30b=Object[_0x391e68(0x5e7)](BADGES)[_0x391e68(0x801)](_0x6dc0fa=>_0x6dc0fa['id']===_0x3f86b8);_0x14c30b&&(_0x4f0472+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x2f47f7*0.2+_0x391e68(0x562)+_0x14c30b['description']+_0x391e68(0x6f4)+_0x14c30b[_0x391e68(0x7b4)]+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x14c30b[_0x391e68(0x912)]+_0x391e68(0x560));}),_0x261151[_0x31801f(0x536)]=_0x4f0472;}function startPresentation(_0x1f5839){const _0x277c35=_0x5e8eac;currentQuizData=getShuffledQuiz(_0x1f5839),currentPresentationSlide=0x0,presentationModal[_0x277c35(0x685)]['display']=_0x277c35(0x3a9),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x204a14=_0x5e8eac;document[_0x204a14(0x8dd)]&&document[_0x204a14(0x285)](),presentationModal[_0x204a14(0x685)][_0x204a14(0x37e)]='none';}function renderPresentationSlide(_0x748505){const _0x53f2ef=_0x5e8eac,_0x1d484c=document[_0x53f2ef(0x839)](_0x53f2ef(0x264));if(!currentQuizData||!currentQuizData[_0x53f2ef(0x3ef)]||!currentQuizData[_0x53f2ef(0x3ef)][_0x748505]){_0x1d484c[_0x53f2ef(0x536)]='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x287ae1=currentQuizData[_0x53f2ef(0x3ef)][_0x748505],_0x2265c2=_0x287ae1[_0x53f2ef(0x6d0)]||currentQuizData[_0x53f2ef(0x863)];_0x1d484c[_0x53f2ef(0x536)]='';let _0x3f9c9d=_0x53f2ef(0x8db)+(_0x287ae1[_0x53f2ef(0x8b0)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x287ae1[_0x53f2ef(0x8b0)]+_0x53f2ef(0x145):'')+_0x53f2ef(0x3f6)+(_0x748505+0x1)+'.\x20'+(_0x287ae1[_0x53f2ef(0x3f1)]||_0x287ae1[_0x53f2ef(0x593)])+_0x53f2ef(0x39e);switch(_0x2265c2){case _0x53f2ef(0x183):_0x3f9c9d+=_0x287ae1[_0x53f2ef(0x5d8)]['map'](_0x2631ab=>_0x53f2ef(0x6a7)+_0x2631ab+_0x53f2ef(0x54e))['join']('');break;case'true_false':_0x3f9c9d+=_0x53f2ef(0x4f4),_0x3f9c9d+=_0x53f2ef(0x390);break;case _0x53f2ef(0x71e):case _0x53f2ef(0x3a8):_0x3f9c9d+=_0x53f2ef(0x2f1);break;case _0x53f2ef(0x266):case _0x53f2ef(0x497):default:_0x3f9c9d+=_0x287ae1[_0x53f2ef(0x7d8)][_0x53f2ef(0x530)]((_0x597223,_0x2bc978)=>_0x53f2ef(0x7be)+_0x2bc978+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x597223+_0x53f2ef(0x54e))[_0x53f2ef(0x4b4)]('');break;}_0x3f9c9d+=_0x53f2ef(0x3cb)+(_0x287ae1[_0x53f2ef(0x67e)]||_0x53f2ef(0x822))+_0x53f2ef(0x90e),_0x1d484c['innerHTML']=_0x3f9c9d;if(window[_0x53f2ef(0x20c)])window[_0x53f2ef(0x20c)][_0x53f2ef(0x687)]([_0x1d484c]);document[_0x53f2ef(0x2eb)](_0x53f2ef(0x3c8))[_0x53f2ef(0x8de)](_0x53e176=>{const _0x156299=_0x53f2ef;_0x53e176[_0x156299(0x2da)](_0x156299(0x3b0),_0x3227ef=>revealAnswerForPresentation(_0x748505,_0x3227ef['currentTarget']));});const _0x28813b=document[_0x53f2ef(0x839)](_0x53f2ef(0x8dc));_0x28813b&&_0x28813b[_0x53f2ef(0x2da)]('click',()=>checkShortAnswerForPresentation(_0x748505)),document[_0x53f2ef(0x839)](_0x53f2ef(0x79e))[_0x53f2ef(0x4ca)]=_0x53f2ef(0x367)+(_0x748505+0x1)+'\x20/\x20'+currentQuizData[_0x53f2ef(0x3ef)][_0x53f2ef(0x2d2)],document[_0x53f2ef(0x839)](_0x53f2ef(0x3d9))[_0x53f2ef(0x4d1)]=_0x748505===0x0,document['getElementById'](_0x53f2ef(0x600))[_0x53f2ef(0x4d1)]=_0x748505===currentQuizData['questions'][_0x53f2ef(0x2d2)]-0x1;}async function checkShortAnswerForPresentation(_0x5367d){const _0x39a83c=_0x5e8eac,_0x29271a=currentQuizData['questions'][_0x5367d],_0xd6e352=document[_0x39a83c(0x839)](_0x39a83c(0x2aa)),_0x197f41=document['getElementById'](_0x39a83c(0x8dc)),_0x2eb13f=document[_0x39a83c(0x839)](_0x39a83c(0x31e)),_0x4ee0f4=document['getElementById'](_0x39a83c(0x29b));if(!_0xd6e352||!_0x197f41||!_0x2eb13f||!_0x4ee0f4)return;const _0x3a7833=_0xd6e352[_0x39a83c(0x3e5)]['trim']();if(_0x3a7833==='')return;_0x197f41[_0x39a83c(0x4d1)]=!![],_0x197f41[_0x39a83c(0x536)]=_0x39a83c(0x475),_0xd6e352['disabled']=!![];const _0x3e45f7=await gradeShortAnswer(_0x3a7833,_0x29271a);_0x3e45f7?_0x2eb13f[_0x39a83c(0x536)]=_0x39a83c(0x603):_0x2eb13f[_0x39a83c(0x536)]=_0x39a83c(0x194)+_0x29271a[_0x39a83c(0x483)]+')',_0x2eb13f[_0x39a83c(0x298)][_0x39a83c(0x514)](_0x39a83c(0x28b)),_0x4ee0f4[_0x39a83c(0x298)][_0x39a83c(0x514)](_0x39a83c(0x28b)),_0x197f41[_0x39a83c(0x298)][_0x39a83c(0x36a)]('hidden');}function revealAnswerForPresentation(_0x27a9b4,_0x3f3f16){const _0x41d169=_0x5e8eac,_0x8678a3=currentQuizData[_0x41d169(0x3ef)][_0x27a9b4],_0x53fedf=_0x8678a3[_0x41d169(0x6d0)]||currentQuizData['quizType'];document[_0x41d169(0x2eb)](_0x41d169(0x3c8))['forEach'](_0x5b45f1=>{const _0x3db38c=_0x41d169;_0x5b45f1[_0x3db38c(0x4d1)]=!![],_0x5b45f1[_0x3db38c(0x298)][_0x3db38c(0x514)]('hover:bg-indigo-100');let _0x357bf7=![];if(_0x53fedf===_0x3db38c(0x497)||_0x53fedf===_0x3db38c(0x266)){const _0x433030=parseInt(_0x5b45f1[_0x3db38c(0x6b1)][_0x3db38c(0x1a2)]);_0x357bf7=_0x433030===_0x8678a3[_0x3db38c(0x8f1)];}else{if(_0x53fedf===_0x3db38c(0x679)){const _0x450de0=_0x5b45f1['dataset'][_0x3db38c(0x2b3)]==='true';_0x357bf7=_0x450de0===_0x8678a3[_0x3db38c(0x788)];}else _0x53fedf===_0x3db38c(0x183)&&(_0x357bf7=_0x5b45f1[_0x3db38c(0x4ca)][_0x3db38c(0x3dd)]()===_0x8678a3[_0x3db38c(0x4a1)]);}_0x357bf7?_0x5b45f1['classList'][_0x3db38c(0x36a)](_0x3db38c(0x7e8),_0x3db38c(0x704),'border-green-700'):_0x5b45f1[_0x3db38c(0x298)]['add'](_0x3db38c(0x34e));}),_0x3f3f16[_0x41d169(0x298)][_0x41d169(0x514)](_0x41d169(0x34e));let _0x34629f=![];if(_0x53fedf===_0x41d169(0x497))_0x34629f=parseInt(_0x3f3f16[_0x41d169(0x6b1)][_0x41d169(0x1a2)])===_0x8678a3[_0x41d169(0x8f1)];else{if(_0x53fedf===_0x41d169(0x679))_0x34629f=_0x3f3f16['dataset'][_0x41d169(0x2b3)]===_0x41d169(0x74c)===_0x8678a3[_0x41d169(0x788)];else _0x53fedf===_0x41d169(0x183)&&(_0x34629f=_0x3f3f16['textContent'][_0x41d169(0x3dd)]()===_0x8678a3[_0x41d169(0x4a1)]);}!_0x34629f&&_0x3f3f16['classList'][_0x41d169(0x36a)]('bg-red-500',_0x41d169(0x704),'border-red-700'),document['getElementById'](_0x41d169(0x29b))[_0x41d169(0x298)][_0x41d169(0x514)](_0x41d169(0x28b));}function startWholeQuizTimer(_0x2f6af3){const _0x48d828=_0x5e8eac,_0x1f00b7=document[_0x48d828(0x839)](_0x48d828(0x853));if(!_0x1f00b7)return;const _0x26333c=Date['now']()+_0x2f6af3*0x3c*0x3e8;_0x1f00b7[_0x48d828(0x536)]=_0x48d828(0x444);const _0x2275a7=document[_0x48d828(0x839)](_0x48d828(0x61d));quizTimerInterval=setInterval(()=>{const _0x35d7f5=_0x48d828,_0x3410bb=_0x26333c-Date['now']();if(_0x3410bb<=0x0)clearInterval(quizTimerInterval),_0x2275a7[_0x35d7f5(0x4ca)]='00:00',showMessage(_0x35d7f5(0x151)),handleSubmitQuiz(null);else{const _0x489544=Math['floor'](_0x3410bb/0x3e8/0x3c%0x3c)[_0x35d7f5(0x472)]()['padStart'](0x2,'0'),_0x3558fb=Math['floor'](_0x3410bb/0x3e8%0x3c)['toString']()[_0x35d7f5(0x4de)](0x2,'0');_0x2275a7[_0x35d7f5(0x4ca)]=_0x489544+':'+_0x3558fb;}},0x3e8);}function renderPerQuestionView(){const _0x1d68e8=_0x5e8eac;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x40fb51=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x2aee65=_0x40fb51[_0x1d68e8(0x6d0)]||currentDisplayedQuiz[_0x1d68e8(0x863)];let _0x4fa663=_0x1d68e8(0x2ab)+(currentQuestionIndex+0x1)+_0x1d68e8(0x767)+currentDisplayedQuiz[_0x1d68e8(0x3ef)][_0x1d68e8(0x2d2)]+_0x1d68e8(0x464)+(currentMode==='admin-testing'?_0x1d68e8(0x4b7):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x1d68e8(0x1bf)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz[_0x1d68e8(0x3ef)][_0x1d68e8(0x2d2)]-0x1?'ส่งคำตอบ':_0x1d68e8(0x597))+_0x1d68e8(0x366);studentQuizArea[_0x1d68e8(0x536)]=_0x4fa663;let _0xfb30a7='',_0x59bbaf='';switch(_0x2aee65){case'matching_item':_0xfb30a7=currentQuestionIndex+0x1+'.\x20'+_0x40fb51[_0x1d68e8(0x3f1)],_0x59bbaf=_0x1d68e8(0x66b)+_0x40fb51[_0x1d68e8(0x5d8)][_0x1d68e8(0x530)](_0x46cf03=>_0x1d68e8(0x7fa)+_0x46cf03+'\x22>'+_0x46cf03+_0x1d68e8(0x277))['join']('')+_0x1d68e8(0x205);break;case'true_false':_0xfb30a7=currentQuestionIndex+0x1+'.\x20'+_0x40fb51[_0x1d68e8(0x593)],_0x59bbaf=_0x1d68e8(0x170);break;case _0x1d68e8(0x3a8):case'fill_in_no_choices':_0xfb30a7=currentQuestionIndex+0x1+'.\x20'+_0x40fb51[_0x1d68e8(0x593)],_0x59bbaf=_0x1d68e8(0x7b2);break;case _0x1d68e8(0x497):case _0x1d68e8(0x459):default:_0xfb30a7=currentQuestionIndex+0x1+'.\x20'+_0x40fb51[_0x1d68e8(0x593)],_0x59bbaf=_0x40fb51[_0x1d68e8(0x7d8)][_0x1d68e8(0x530)]((_0x1804a1,_0x3fcfa2)=>_0x1d68e8(0x3c5)+_0x3fcfa2+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x3fcfa2+_0x1d68e8(0x392)+_0x3fcfa2+'\x22>'+_0x1804a1+_0x1d68e8(0x8b4))['join']('');break;}_0x40fb51[_0x1d68e8(0x8b0)]&&(_0xfb30a7+=_0x1d68e8(0x357)+_0x40fb51[_0x1d68e8(0x8b0)]+'</div>');document[_0x1d68e8(0x839)](_0x1d68e8(0x1a0))[_0x1d68e8(0x536)]=_0xfb30a7,document[_0x1d68e8(0x839)](_0x1d68e8(0x51d))[_0x1d68e8(0x536)]=_0x59bbaf;if(currentMode==='admin-testing'){const _0x3eefed=document[_0x1d68e8(0x839)]('cancel-test-btn');if(_0x3eefed)_0x3eefed['addEventListener'](_0x1d68e8(0x3b0),cancelAdminTest);}document['getElementById'](_0x1d68e8(0x25c))['addEventListener'](_0x1d68e8(0x3b0),()=>handleNextQuestionInTimedMode(![]));if(window[_0x1d68e8(0x20c)])window[_0x1d68e8(0x20c)][_0x1d68e8(0x687)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x5c8ff1=_0x5e8eac,_0x6c2adc=currentDisplayedQuiz[_0x5c8ff1(0x248)][_0x5c8ff1(0x751)],_0x123306=document[_0x5c8ff1(0x839)](_0x5c8ff1(0x225));if(!_0x123306)return;let _0x8e51a7=_0x6c2adc;_0x123306['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x8e51a7+_0x5c8ff1(0x82b);const _0x95011=document[_0x5c8ff1(0x839)]('timer-bar'),_0x1b5bdc=document[_0x5c8ff1(0x839)]('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x4d65a3=_0x5c8ff1;_0x8e51a7--;const _0x4c9c44=_0x8e51a7/_0x6c2adc*0x64;_0x95011['style'][_0x4d65a3(0x239)]=_0x4c9c44+'%',_0x1b5bdc[_0x4d65a3(0x4ca)]=_0x8e51a7,_0x8e51a7<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x4d65a3(0x2cb)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x5615ce=![]){const _0x34a46c=_0x5e8eac;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x52e1cc=null;if(!_0x5615ce){const _0x1daad3=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x25280e=_0x1daad3[_0x34a46c(0x6d0)]||currentDisplayedQuiz[_0x34a46c(0x863)];if(_0x25280e==='short_answer'||_0x25280e===_0x34a46c(0x71e)){const _0x209458=document[_0x34a46c(0x2cf)]('#per-question-options\x20textarea');_0x52e1cc=_0x209458?_0x209458[_0x34a46c(0x3e5)][_0x34a46c(0x3dd)]():'';}else{if(_0x25280e===_0x34a46c(0x183)){const _0x613640=document['querySelector'](_0x34a46c(0x660));_0x52e1cc=_0x613640?_0x613640['value']:'';}else{const _0x31faf3=document[_0x34a46c(0x2cf)]('input[name=\x22question_single\x22]:checked');if(_0x31faf3){const _0x389945=_0x31faf3[_0x34a46c(0x3e5)];_0x52e1cc=!isNaN(parseInt(_0x389945,0xa))&&_0x389945[_0x34a46c(0x3dd)]()!==''?parseInt(_0x389945,0xa):_0x389945;}}}}studentAnswersPerQuestion[_0x34a46c(0x8a4)](_0x52e1cc),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x34a46c(0x3ef)][_0x34a46c(0x2d2)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x489806=_0x5e8eac,_0x2e45bc=currentDisplayedQuiz[_0x489806(0x3ef)][_0x489806(0x7dc)](_0x6c1a2c=>_0x6c1a2c[_0x489806(0x6d0)]===_0x489806(0x3a8));_0x2e45bc?showMessage(_0x489806(0x81d)):showMessage(_0x489806(0x31c));const _0x3e9206=currentQuizData['id'],_0x242181=doc(db,_0x489806(0x705)+appId+'/public/data/quizzes/'+_0x3e9206+_0x489806(0x23e),currentStudentName),_0x346fbd=await getDoc(_0x242181),_0x117d4b=_0x346fbd[_0x489806(0x15e)]()?_0x346fbd[_0x489806(0x4b3)]():{},_0x266c3d=_0x117d4b[_0x489806(0x8a3)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x266c3d);}function getResultsFilename(){const _0x5e7d42=_0x5e8eac,_0x8d418f=document[_0x5e7d42(0x839)](_0x5e7d42(0x15a))['textContent'][_0x5e7d42(0x1e9)](/[^a-z0-9]/gi,'_')[_0x5e7d42(0x55b)]();return'results_'+(_0x8d418f||_0x5e7d42(0x681));}function exportResultsAsImage(){const _0x8dd2a8=_0x5e8eac,_0x7e175=document[_0x8dd2a8(0x839)]('results-table-container');showMessage(_0x8dd2a8(0x750)),html2canvas(_0x7e175)[_0x8dd2a8(0x63e)](_0x564496=>{const _0x1a5eab=_0x8dd2a8,_0x2791fe=document[_0x1a5eab(0x341)]('a');_0x2791fe[_0x1a5eab(0x775)]=getResultsFilename()+'.png',_0x2791fe[_0x1a5eab(0x3be)]=_0x564496[_0x1a5eab(0x22e)](_0x1a5eab(0x5c0)),_0x2791fe[_0x1a5eab(0x3b0)](),messageModal[_0x1a5eab(0x298)][_0x1a5eab(0x36a)](_0x1a5eab(0x28b));});}function exportResultsAsPDF(){const _0x5c2def=_0x5e8eac,{jsPDF:_0x138405}=window[_0x5c2def(0x3a4)],_0x286a83=new _0x138405();_0x286a83[_0x5c2def(0x177)](_0x5c2def(0x909),_0x5c2def(0x3fc)),_0x286a83[_0x5c2def(0x439)]({'html':'#results-table'}),_0x286a83[_0x5c2def(0x7e6)](getResultsFilename()+_0x5c2def(0x4bf));}function exportResultsAsWord(){const _0x49b6cb=_0x5e8eac,_0x2d5eb2=_0x49b6cb(0x3af)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x49b6cb(0x256)+_0x49b6cb(0x5ba),_0x6d989c=_0x49b6cb(0x672),_0x439a4b=_0x2d5eb2+document['getElementById'](_0x49b6cb(0x1c4))[_0x49b6cb(0x536)]+_0x6d989c,_0xa42c36=_0x49b6cb(0x34b)+encodeURIComponent(_0x439a4b),_0x3e082c=document[_0x49b6cb(0x341)]('a');document[_0x49b6cb(0x1ed)][_0x49b6cb(0x38d)](_0x3e082c),_0x3e082c[_0x49b6cb(0x3be)]=_0xa42c36,_0x3e082c[_0x49b6cb(0x775)]=getResultsFilename()+_0x49b6cb(0x567),_0x3e082c['click'](),document[_0x49b6cb(0x1ed)][_0x49b6cb(0x752)](_0x3e082c);}function exportResultsAsExcel(){const _0x4ef622=_0x5e8eac,_0x4a7a60=document[_0x4ef622(0x839)](_0x4ef622(0x127));let _0x29e94d=[];for(let _0x153c44=0x0;_0x153c44<_0x4a7a60[_0x4ef622(0x540)][_0x4ef622(0x2d2)];_0x153c44++){let _0x45da7a=[],_0xc2d0d0=_0x4a7a60[_0x4ef622(0x540)][_0x153c44][_0x4ef622(0x2eb)](_0x4ef622(0x5fa));for(let _0x5b0675=0x0;_0x5b0675<_0xc2d0d0[_0x4ef622(0x2d2)];_0x5b0675++){_0x45da7a['push']('\x22'+_0xc2d0d0[_0x5b0675][_0x4ef622(0x460)][_0x4ef622(0x1e9)](/"/g,'\x22\x22')+'\x22');}_0x29e94d[_0x4ef622(0x8a4)](_0x45da7a[_0x4ef622(0x4b4)](','));}const _0x47b4ab=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x29e94d[_0x4ef622(0x4b4)]('\x0a')],{'type':_0x4ef622(0x1e0)}),_0x377782=document['createElement']('a');_0x377782[_0x4ef622(0x3be)]=URL[_0x4ef622(0x1d3)](_0x47b4ab),_0x377782[_0x4ef622(0x775)]=getResultsFilename()+'.csv',_0x377782[_0x4ef622(0x3b0)]();}function exportTableAsImage(_0x523c38,_0x4274c9){const _0x19aa2e=_0x5e8eac,_0x3954c8=document[_0x19aa2e(0x839)](_0x523c38);if(!_0x3954c8){showMessage(_0x19aa2e(0x229));return;}showMessage(_0x19aa2e(0x750)),html2canvas(_0x3954c8)[_0x19aa2e(0x63e)](_0x4fbd7c=>{const _0x28a4eb=_0x19aa2e,_0x333b3e=document[_0x28a4eb(0x341)]('a');_0x333b3e['download']=_0x4274c9+_0x28a4eb(0x557),_0x333b3e[_0x28a4eb(0x3be)]=_0x4fbd7c[_0x28a4eb(0x22e)](_0x28a4eb(0x5c0)),_0x333b3e[_0x28a4eb(0x3b0)](),messageModal[_0x28a4eb(0x298)][_0x28a4eb(0x36a)](_0x28a4eb(0x28b));});}function exportTableAsPDF(_0x4cc46c,_0x56de5d){const _0x5e7f46=_0x5e8eac,{jsPDF:_0x106137}=window[_0x5e7f46(0x3a4)],_0x396153=new _0x106137();_0x396153[_0x5e7f46(0x177)](_0x5e7f46(0x909),_0x5e7f46(0x3fc)),_0x396153[_0x5e7f46(0x439)]({'html':'#'+_0x4cc46c}),_0x396153[_0x5e7f46(0x7e6)](_0x56de5d+_0x5e7f46(0x4bf));}function exportTableAsWord(_0x48f517,_0x2c3237){const _0x4b8027=_0x5e8eac,_0x23670b=document[_0x4b8027(0x839)](_0x48f517);if(!_0x23670b){showMessage(_0x4b8027(0x229));return;}const _0x2c32a6=_0x4b8027(0x3af)+_0x4b8027(0x7aa)+_0x4b8027(0x256)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x570dfc=_0x4b8027(0x672),_0x239c66=_0x2c32a6+_0x23670b['innerHTML']+_0x570dfc,_0xe39371=_0x4b8027(0x34b)+encodeURIComponent(_0x239c66),_0x480109=document[_0x4b8027(0x341)]('a');document[_0x4b8027(0x1ed)]['appendChild'](_0x480109),_0x480109['href']=_0xe39371,_0x480109[_0x4b8027(0x775)]=_0x2c3237+_0x4b8027(0x567),_0x480109['click'](),document[_0x4b8027(0x1ed)][_0x4b8027(0x752)](_0x480109);}function exportTableAsExcel(_0x4a22f2,_0x1dd3ee){const _0x158e86=_0x5e8eac,_0x241ac2=document['getElementById'](_0x4a22f2);if(!_0x241ac2){showMessage(_0x158e86(0x229));return;}let _0x529572=[];for(let _0x3e06ba=0x0;_0x3e06ba<_0x241ac2[_0x158e86(0x540)][_0x158e86(0x2d2)];_0x3e06ba++){let _0x11d0ca=[],_0x56322b=_0x241ac2[_0x158e86(0x540)][_0x3e06ba][_0x158e86(0x2eb)](_0x158e86(0x5fa));for(let _0x441627=0x0;_0x441627<_0x56322b['length'];_0x441627++){_0x11d0ca['push']('\x22'+_0x56322b[_0x441627][_0x158e86(0x460)][_0x158e86(0x1e9)](/"/g,'\x22\x22')+'\x22');}_0x529572[_0x158e86(0x8a4)](_0x11d0ca[_0x158e86(0x4b4)](','));}const _0x4f2b70=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x529572[_0x158e86(0x4b4)]('\x0a')],{'type':_0x158e86(0x1e0)}),_0x5dcc92=document[_0x158e86(0x341)]('a');_0x5dcc92[_0x158e86(0x3be)]=URL['createObjectURL'](_0x4f2b70),_0x5dcc92[_0x158e86(0x775)]=_0x1dd3ee+_0x158e86(0x77d),_0x5dcc92[_0x158e86(0x3b0)]();}function renderAnalytics(_0x1009d6,_0x1115a9){const _0x303a23=_0x5e8eac,_0x3057ef=_0x1115a9['filter'](_0x3240d6=>_0x3240d6['latestScore']!==undefined),_0x55eb4d=currentProjectData['students'][_0x303a23(0x2d2)],_0x2a7535=_0x3057ef['length'],_0x36c196=_0x55eb4d-_0x2a7535,_0x2bef7a=_0x55eb4d>0x0?_0x2a7535/_0x55eb4d*0x64:0x0,_0x3da261=_0x3057ef[_0x303a23(0x530)](_0x17a7eb=>_0x17a7eb['latestScore']),_0x42b018=_0x3da261['length']>0x0?_0x3da261[_0x303a23(0x1d6)]((_0x7a534e,_0x28c19c)=>_0x7a534e+_0x28c19c,0x0)/_0x3da261['length']:0x0,_0x5d0e9f=_0x1009d6['questions'][_0x303a23(0x2d2)],_0x5a56ca=_0x5d0e9f>0x0?_0x42b018/_0x5d0e9f*0x64:0x0,_0x301dfe=calculateItemAnalysis(_0x1009d6,_0x3057ef),_0x1234b6=calculateReliabilityKR20(_0x1009d6,_0x3057ef,_0x301dfe[_0x303a23(0x55c)]);let _0xd0cb9a='';if(_0x1234b6!==null){let _0x40a06c='';if(_0x1234b6>=0.9)_0x40a06c=_0x303a23(0x52c);else{if(_0x1234b6>=0.8)_0x40a06c=_0x303a23(0x20b);else{if(_0x1234b6>=0.7)_0x40a06c='ดี';else{if(_0x1234b6>=0.6)_0x40a06c=_0x303a23(0x174);else _0x40a06c='ควรปรับปรุง';}}}_0xd0cb9a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>'+_0x1234b6[_0x303a23(0x3e6)](0x2)+_0x303a23(0x1c0)+_0x40a06c+_0x303a23(0x3b2);}const _0x2c29e6=document[_0x303a23(0x839)](_0x303a23(0x2c4));_0x2c29e6[_0x303a23(0x536)]=_0x303a23(0x36c)+_0x2bef7a[_0x303a23(0x3e6)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x2a7535+'/'+_0x55eb4d+_0x303a23(0x82a)+_0x42b018['toFixed'](0x2)+_0x303a23(0x53a)+_0x5a56ca['toFixed'](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x3da261[_0x303a23(0x2d2)]>0x0?Math['max'](..._0x3da261):_0x303a23(0x204))+_0x303a23(0x344)+(_0x3da261[_0x303a23(0x2d2)]>0x0?Math['min'](..._0x3da261):_0x303a23(0x204))+_0x303a23(0x631)+_0xd0cb9a+_0x303a23(0x3ae);const _0x1fb7db=document[_0x303a23(0x839)](_0x303a23(0x415));_0x1fb7db&&_0x1fb7db[_0x303a23(0x514)]();const _0x33f75d=_0x303a23(0x3b5);_0x2c29e6[_0x303a23(0x887)](_0x303a23(0x1f8),_0x33f75d);const _0x32d5eb=currentProjectData['students']||[];renderSubmissionChart(_0x2a7535,_0x36c196,_0x3057ef,_0x32d5eb),renderScoreDistributionChart(_0x3057ef,_0x5d0e9f),renderQuestionAnalytics(_0x1009d6,_0x3057ef,_0x32d5eb),renderInterestingStats(_0x1009d6,_0x3057ef);}async function handleExportLessonPDF(){const _0x288c8b=_0x5e8eac,_0x61fb92=document[_0x288c8b(0x839)](_0x288c8b(0x782)),_0x22f750=document['getElementById'](_0x288c8b(0x7bf))[_0x288c8b(0x4ca)],_0x3dcdde=window[_0x288c8b(0x615)]('','_blank'),_0x5c723e=_0x288c8b(0x25d)+_0x22f750+_0x288c8b(0x4b2)+_0x61fb92[_0x288c8b(0x536)]+_0x288c8b(0x1f7);_0x3dcdde['document'][_0x288c8b(0x385)](_0x5c723e),_0x3dcdde[_0x288c8b(0x18b)][_0x288c8b(0x6c9)](),_0x3dcdde[_0x288c8b(0x73d)]=function(){setTimeout(()=>{_0x3dcdde['print']();},0x5dc);};}function renderInterestingStats(_0x240e84,_0x3f27e4){const _0x42e5ce=_0x5e8eac,_0x23bf32=document['getElementById']('interesting-stats-container');if(!_0x23bf32)return;if(_0x3f27e4[_0x42e5ce(0x2d2)]===0x0){_0x23bf32[_0x42e5ce(0x536)]=_0x42e5ce(0x471);return;}const _0x527be2=_0x240e84[_0x42e5ce(0x3ef)][_0x42e5ce(0x530)]((_0x2c7c4f,_0x3371dc)=>({'index':_0x3371dc+0x1,'text':_0x2c7c4f[_0x42e5ce(0x593)]||_0x2c7c4f['stem'],'correct':0x0}));_0x3f27e4[_0x42e5ce(0x8de)](_0x3deab6=>{const _0x18ed68=_0x42e5ce,_0x30e0f8=_0x3deab6[_0x18ed68(0x8a3)][_0x3deab6[_0x18ed68(0x8a3)][_0x18ed68(0x2d2)]-0x1];_0x30e0f8&&_0x30e0f8[_0x18ed68(0x400)]&&_0x30e0f8[_0x18ed68(0x400)][_0x18ed68(0x8de)](_0x2acc61=>{const _0x37b8eb=_0x18ed68,_0x30791b=_0x527be2[_0x37b8eb(0x801)](_0x223439=>_0x223439[_0x37b8eb(0x2a6)]===_0x2acc61[_0x37b8eb(0x648)]);_0x2acc61['isCorrect']&&_0x30791b&&_0x30791b['correct']++;});});const _0x500a73=_0x3f27e4[_0x42e5ce(0x2d2)],_0x1890e6=Math[_0x42e5ce(0x24a)](..._0x527be2['map'](_0x21656f=>_0x21656f[_0x42e5ce(0x2ea)])),_0x4cdb67=Math[_0x42e5ce(0x377)](..._0x527be2[_0x42e5ce(0x530)](_0x3fb9e5=>_0x3fb9e5[_0x42e5ce(0x2ea)])),_0x2a7dc2=_0x527be2[_0x42e5ce(0x579)](_0x5761b0=>_0x5761b0['correct']===_0x1890e6)[_0x42e5ce(0x530)](_0x59ac22=>'ข้อ\x20'+_0x59ac22[_0x42e5ce(0x1a2)]),_0x4d25a2=_0x527be2[_0x42e5ce(0x579)](_0x52d312=>_0x52d312[_0x42e5ce(0x2ea)]===_0x4cdb67)[_0x42e5ce(0x530)](_0x41d0b8=>_0x42e5ce(0x2bd)+_0x41d0b8[_0x42e5ce(0x1a2)]),_0x38283c=_0x3f27e4[_0x42e5ce(0x163)]((_0x407a2b,_0x541088)=>_0x541088[_0x42e5ce(0x76e)]-_0x407a2b['latestScore'])[_0x42e5ce(0x579)]((_0x32914f,_0x47773a,_0xf0ed70)=>_0x32914f[_0x42e5ce(0x76e)]===_0xf0ed70[0x0][_0x42e5ce(0x76e)]),_0x1752f8=_0x3f27e4[_0x42e5ce(0x163)]((_0x309a0c,_0x3ed059)=>_0x309a0c[_0x42e5ce(0x76e)]-_0x3ed059[_0x42e5ce(0x76e)])[_0x42e5ce(0x579)]((_0x2c99f5,_0x48a28e,_0x22fcc9)=>_0x2c99f5[_0x42e5ce(0x76e)]===_0x22fcc9[0x0][_0x42e5ce(0x76e)]),_0x936058=_0x42e5ce(0x7ba)+_0x2a7dc2[_0x42e5ce(0x4b4)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x1890e6+_0x42e5ce(0x665)+_0x500a73+_0x42e5ce(0x339)+_0x4d25a2[_0x42e5ce(0x4b4)](',\x20')+_0x42e5ce(0x3d6)+(_0x500a73-_0x4cdb67)+_0x42e5ce(0x665)+_0x500a73+_0x42e5ce(0x2ed)+_0x38283c[_0x42e5ce(0x530)](_0x4bf937=>_0x4bf937[_0x42e5ce(0x845)])[_0x42e5ce(0x4b4)](',\x20')+_0x42e5ce(0x316)+_0x38283c[0x0][_0x42e5ce(0x76e)]+_0x42e5ce(0x386)+_0x1752f8[_0x42e5ce(0x530)](_0x1a331f=>_0x1a331f[_0x42e5ce(0x845)])[_0x42e5ce(0x4b4)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x1752f8[0x0]['latestScore']+_0x42e5ce(0x17d);_0x23bf32[_0x42e5ce(0x536)]=_0x936058;}function renderSubmissionChart(_0x501e60,_0x26cc88,_0x3fbb8f,_0x2c18c3){const _0x31569b=_0x5e8eac,_0x15c086=document['getElementById']('submission-status-chart')[_0x31569b(0x296)]('2d'),_0x94614a=_0x3fbb8f['map'](_0x5af23c=>_0x5af23c[_0x31569b(0x845)]),_0x18c14c=_0x2c18c3['filter'](_0x5b9425=>!_0x94614a['includes'](_0x5b9425));chartInstances[_0x31569b(0x6a4)]&&chartInstances[_0x31569b(0x6a4)][_0x31569b(0x454)](),chartInstances[_0x31569b(0x6a4)]=new Chart(_0x15c086,{'type':_0x31569b(0x8b7),'data':{'labels':[_0x31569b(0x3c7),_0x31569b(0x910)],'datasets':[{'data':[_0x501e60,_0x26cc88],'backgroundColor':[_0x31569b(0x7fc),_0x31569b(0x591)],'borderColor':[_0x31569b(0x27e),_0x31569b(0x27e)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x31569b(0x240)},'tooltip':{'callbacks':{'label':function(_0x324c38){const _0x229543=_0x31569b;let _0x2a89e6=_0x324c38[_0x229543(0x5a8)]||'';return _0x2a89e6&&(_0x2a89e6+=':\x20'),_0x2a89e6+=_0x324c38[_0x229543(0x8cd)],_0x2a89e6;},'afterLabel':function(_0x3e930c){const _0x82ec6=_0x31569b;let _0x462e0e;return _0x3e930c[_0x82ec6(0x4c4)]===0x0?_0x462e0e=_0x94614a:_0x462e0e=_0x18c14c,_0x462e0e[_0x82ec6(0x2d2)]>0x0?_0x462e0e[_0x82ec6(0x4b4)]('\x0a'):_0x82ec6(0x2fe);}}}}}});}function renderScoreDistributionChart(_0x3357b2,_0x3225e1){const _0x4e0774=_0x5e8eac,_0x5bb4f9=document['getElementById']('score-distribution-chart')[_0x4e0774(0x296)]('2d'),_0xb14b56={};for(let _0x1f0fdd=0x0;_0x1f0fdd<=_0x3225e1;_0x1f0fdd++){_0xb14b56[_0x1f0fdd]=0x0;}_0x3357b2[_0x4e0774(0x8de)](_0x597014=>{const _0x3c0c49=_0x4e0774;_0xb14b56[_0x597014['latestScore']]!==undefined&&_0xb14b56[_0x597014[_0x3c0c49(0x76e)]]++;}),chartInstances[_0x4e0774(0x2d1)]&&chartInstances[_0x4e0774(0x2d1)][_0x4e0774(0x454)](),chartInstances[_0x4e0774(0x2d1)]=new Chart(_0x5bb4f9,{'type':_0x4e0774(0x4d3),'data':{'labels':Object[_0x4e0774(0x19e)](_0xb14b56),'datasets':[{'label':'จำนวนนักเรียน','data':Object[_0x4e0774(0x5e7)](_0xb14b56),'backgroundColor':_0x4e0774(0x8e4),'borderColor':_0x4e0774(0x226),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':'คะแนน'}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x256198){const _0x23774a=_0x4e0774,_0x176960=_0x256198['label'],_0x3c624c=_0x3357b2['filter'](_0x357f12=>_0x357f12[_0x23774a(0x76e)]==_0x176960)[_0x23774a(0x530)](_0x3751d2=>_0x3751d2[_0x23774a(0x845)]);return _0x3c624c[_0x23774a(0x2d2)]>0x0?_0x3c624c[_0x23774a(0x4b4)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x3a6fe6,_0x1a5dce,_0x562aa6){const _0x54b0b2=_0x5e8eac,_0x2eb373=document['getElementById'](_0x54b0b2(0x758));if(_0x562aa6[_0x54b0b2(0x2d2)]===0x0){_0x2eb373[_0x54b0b2(0x536)]=_0x54b0b2(0x141);return;}const _0x496b62=calculateItemAnalysis(_0x3a6fe6,_0x1a5dce),_0x557624=calculateDistractorAnalysis(_0x3a6fe6,_0x1a5dce);let _0xf6a166='';_0x496b62[_0x54b0b2(0x749)]&&(_0xf6a166='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x496b62['overallGroups'][_0x54b0b2(0x199)][_0x54b0b2(0x2d2)]+_0x54b0b2(0x89e)+_0x496b62[_0x54b0b2(0x749)]['upperGroupNames'][_0x54b0b2(0x530)](_0x5a02d6=>_0x54b0b2(0x3ba)+_0x5a02d6+_0x54b0b2(0x737))[_0x54b0b2(0x4b4)]('')+_0x54b0b2(0x3ce)+_0x496b62['overallGroups']['lowerGroupNames'][_0x54b0b2(0x2d2)]+_0x54b0b2(0x89e)+_0x496b62[_0x54b0b2(0x749)]['lowerGroupNames']['map'](_0xc8aea7=>_0x54b0b2(0x3ba)+_0xc8aea7+_0x54b0b2(0x737))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x4eedc2='';const _0x22d775=_0x1a5dce['map'](_0x5aa10b=>_0x5aa10b[_0x54b0b2(0x845)]),_0x18e2ff=_0x38ecc4=>{const _0x5a3e58=_0x54b0b2;if(_0x38ecc4>=0.8)return _0x5a3e58(0x2f9);if(_0x38ecc4>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x38ecc4>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x38ecc4>=0.2)return _0x5a3e58(0x570);return _0x5a3e58(0x4a6);},_0x2dcc42=_0x4bc285=>{const _0x13aada=_0x54b0b2;if(_0x4bc285<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x4bc285>=0.4)return _0x13aada(0x3d3);if(_0x4bc285>=0.3)return _0x13aada(0x4e3);if(_0x4bc285>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return _0x13aada(0x7e1);},_0x503ae1=_0x290f29=>{const _0x5f4709=_0x54b0b2,_0x3405bf=_0x290f29[_0x5f4709(0x3e6)](0x0);if(parseFloat(_0x3405bf)===0x64)return'<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x3405bf+_0x5f4709(0x23c);if(_0x290f29>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x3405bf+'%</span>';return _0x5f4709(0x7d9)+_0x3405bf+_0x5f4709(0x23c);};_0x3a6fe6[_0x54b0b2(0x3ef)]['forEach']((_0x3fa69b,_0x2dd6b8)=>{const _0xc633cf=_0x54b0b2,_0x7756ae=_0x496b62['perQuestionStats'][_0x2dd6b8],_0x478c33=_0x557624[_0x2dd6b8],_0x56d15c=_0x3fa69b['stem']||_0x3fa69b[_0xc633cf(0x593)]||_0x3fa69b[_0xc633cf(0x601)];let _0x2be1db=0x0;const _0x45cb25=[],_0x33d46f=[];_0x1a5dce['forEach'](_0x2ee66c=>{const _0x15adb1=_0xc633cf,_0x206ba8=_0x2ee66c[_0x15adb1(0x8a3)][_0x2ee66c[_0x15adb1(0x8a3)][_0x15adb1(0x2d2)]-0x1];if(_0x206ba8&&_0x206ba8[_0x15adb1(0x400)]){const _0x3b9027=_0x206ba8[_0x15adb1(0x400)]['find'](_0x166e7c=>_0x166e7c[_0x15adb1(0x648)]===_0x56d15c)??_0x206ba8['answers'][_0x2dd6b8]??null;_0x3b9027&&(_0x3b9027[_0x15adb1(0x56c)]?(_0x2be1db++,_0x45cb25['push'](_0x2ee66c[_0x15adb1(0x845)])):_0x33d46f[_0x15adb1(0x8a4)](_0x2ee66c['studentName']));}});const _0x120d77=_0x1a5dce['length']>0x0?_0x2be1db/_0x1a5dce[_0xc633cf(0x2d2)]*0x64:0x0,_0x51ffe3=_0x562aa6[_0xc633cf(0x579)](_0x1f2925=>!_0x22d775[_0xc633cf(0x6f6)](_0x1f2925)),_0x2e363c=_0x7756ae?_0xc633cf(0x8f4)+_0x7756ae['p']['toFixed'](0x2)+'</p><div>'+_0x18e2ff(_0x7756ae['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0x7756ae['r']['toFixed'](0x2)+_0xc633cf(0x4e7)+_0x2dcc42(_0x7756ae['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x503ae1(_0x120d77)+_0xc633cf(0x463):'';let _0x22bb2c='';_0x478c33&&(_0x22bb2c=_0xc633cf(0x2a7)+Object['keys'](_0x478c33)[_0xc633cf(0x530)](_0x41d27b=>{const _0x15316e=_0xc633cf,_0x2706ea=_0x478c33[_0x41d27b],_0x51d385=parseInt(_0x41d27b)===_0x3fa69b['correctAnswerIndex'],_0x5bec8b=!_0x51d385&&_0x2706ea[_0x15316e(0x566)]>_0x2706ea[_0x15316e(0x31f)];return _0x15316e(0x28a)+(_0x51d385?_0x15316e(0x1bd):'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x51d385?'✔\x20':'')+_0x2706ea[_0x15316e(0x2a6)]+_0x15316e(0x834)+_0x2706ea[_0x15316e(0x31f)]+_0x15316e(0x834)+_0x2706ea[_0x15316e(0x566)]+'\x20'+(_0x5bec8b?'👍':'')+_0x15316e(0x834)+_0x2706ea[_0x15316e(0x664)]+_0x15316e(0x8bc);})[_0xc633cf(0x4b4)]('')+_0xc633cf(0x7d2));let _0x224bea='';_0x7756ae&&_0x7756ae[_0xc633cf(0x3c2)]&&(_0x224bea=_0xc633cf(0x78d)+_0x7756ae[_0xc633cf(0x3c2)][_0xc633cf(0x2d2)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x7756ae['upperGroupResponders'][_0xc633cf(0x530)](_0x4cebc5=>'<li>'+(_0x4cebc5[_0xc633cf(0x56c)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0xc633cf(0x4c1))+'\x20'+_0x4cebc5[_0xc633cf(0x912)]+_0xc633cf(0x737))[_0xc633cf(0x4b4)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x7756ae[_0xc633cf(0x304)][_0xc633cf(0x2d2)]+_0xc633cf(0x825)+_0x7756ae[_0xc633cf(0x304)][_0xc633cf(0x530)](_0x5ee47d=>'<li>'+(_0x5ee47d[_0xc633cf(0x56c)]?_0xc633cf(0x380):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x5ee47d[_0xc633cf(0x912)]+_0xc633cf(0x737))[_0xc633cf(0x4b4)]('')+_0xc633cf(0x717)),_0x4eedc2+=_0xc633cf(0x2c7)+(_0x2dd6b8+0x1)+':\x20'+_0x56d15c+_0xc633cf(0x78a)+_0x2e363c+_0xc633cf(0x48e)+_0x56d15c+_0xc633cf(0x52b)+_0x2be1db+_0xc633cf(0x767)+_0x1a5dce['length']+_0xc633cf(0x647)+_0x120d77[_0xc633cf(0x3e6)](0x0)+_0xc633cf(0x2f8)+_0x45cb25['length']+_0xc633cf(0x818)+(_0x45cb25['length']>0x0?_0x45cb25[_0xc633cf(0x4b4)](',\x20'):_0xc633cf(0x2fe))+_0xc633cf(0x651)+_0x33d46f['length']+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x33d46f[_0xc633cf(0x2d2)]>0x0?_0x33d46f['join'](',\x20'):_0xc633cf(0x2fe))+_0xc633cf(0x68c)+_0x51ffe3[_0xc633cf(0x2d2)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x51ffe3[_0xc633cf(0x2d2)]>0x0?_0x51ffe3['join'](',\x20'):_0xc633cf(0x2fe))+_0xc633cf(0x60e)+_0x22bb2c+_0xc633cf(0x19f)+_0x224bea+_0xc633cf(0x8f6);}),_0x2eb373[_0x54b0b2(0x536)]=_0xf6a166+_0x4eedc2;try{window[_0x54b0b2(0x20c)]&&MathJax[_0x54b0b2(0x687)]&&MathJax[_0x54b0b2(0x687)]([_0x2eb373]);}catch(_0x2e077f){console[_0x54b0b2(0x2a9)](_0x54b0b2(0x35c),_0x2e077f);}}function calculateDistractorAnalysis(_0x109a62,_0x2d1de5){const _0x4a553f=_0x5e8eac,_0x5f1757={};if(_0x2d1de5[_0x4a553f(0x2d2)]<0x2)return _0x5f1757;const _0x3c8768=[..._0x2d1de5][_0x4a553f(0x163)]((_0x3190ee,_0x4f4af1)=>{const _0x5ed48c=_0x4a553f,_0x4392a4=_0x4f4af1[_0x5ed48c(0x76e)]-_0x3190ee[_0x5ed48c(0x76e)];if(_0x4392a4!==0x0)return _0x4392a4;const _0x4ffa4d=_0x3190ee[_0x5ed48c(0x8a3)]?.['length']||0x1,_0x2a5f6c=_0x4f4af1[_0x5ed48c(0x8a3)]?.[_0x5ed48c(0x2d2)]||0x1,_0x4fc52e=_0x4ffa4d-_0x2a5f6c;if(_0x4fc52e!==0x0)return _0x4fc52e;const _0x5a1ea2=new Date(_0x3190ee[_0x5ed48c(0x5e0)]),_0x128c7f=new Date(_0x4f4af1['latestSubmittedAt']),_0x4243ee=_0x5a1ea2-_0x128c7f;if(_0x4243ee!==0x0)return _0x4243ee;return _0x3190ee['studentName'][_0x5ed48c(0x917)](_0x4f4af1['studentName'],'th');}),_0x4164f7=_0x3c8768[_0x4a553f(0x2d2)],_0x25d67e=Math[_0x4a553f(0x24a)](0x1,Math[_0x4a553f(0x1a1)](_0x4164f7*0.33)),_0x2c3573=_0x3c8768[_0x4a553f(0x5f8)](0x0,_0x25d67e),_0x534695=_0x3c8768[_0x4a553f(0x5f8)](-_0x25d67e);return _0x109a62[_0x4a553f(0x3ef)]['forEach']((_0x5f678b,_0x52b1ef)=>{const _0x1e7bdb=_0x4a553f;if(_0x5f678b[_0x1e7bdb(0x6d0)]!==_0x1e7bdb(0x497)||!_0x5f678b[_0x1e7bdb(0x7d8)])return;const _0x532fea=_0x5f678b[_0x1e7bdb(0x593)],_0x4049a7={};_0x5f678b[_0x1e7bdb(0x7d8)][_0x1e7bdb(0x8de)]((_0x138602,_0xa42c)=>{_0x4049a7[_0xa42c]={'text':_0x138602,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x3c8768[_0x1e7bdb(0x8de)](_0x4b2813=>{const _0x3af519=_0x1e7bdb,_0x2ef478=_0x4b2813[_0x3af519(0x8a3)][_0x4b2813[_0x3af519(0x8a3)][_0x3af519(0x2d2)]-0x1],_0x578ab8=_0x2ef478[_0x3af519(0x400)][_0x3af519(0x801)](_0x8187b6=>_0x8187b6[_0x3af519(0x648)]===_0x532fea);if(_0x578ab8&&_0x578ab8[_0x3af519(0x2b3)]!==null){const _0x4fb05c=_0x5f678b[_0x3af519(0x7d8)]['findIndex'](_0x12f3cc=>_0x12f3cc===_0x578ab8['answerText']);_0x4fb05c!==-0x1&&_0x4049a7[_0x4fb05c]&&(_0x4049a7[_0x4fb05c][_0x3af519(0x664)]++,_0x2c3573[_0x3af519(0x6f6)](_0x4b2813)&&_0x4049a7[_0x4fb05c][_0x3af519(0x31f)]++,_0x534695[_0x3af519(0x6f6)](_0x4b2813)&&_0x4049a7[_0x4fb05c][_0x3af519(0x566)]++);}}),_0x5f1757[_0x52b1ef]=_0x4049a7;}),_0x5f1757;}function calculateReliabilityKR20(_0x23b710,_0x31e4ea,_0x50a58b){const _0x4a8d6f=_0x5e8eac,_0x42efc9=_0x23b710['questions']['length'];if(_0x42efc9<0x2||_0x31e4ea[_0x4a8d6f(0x2d2)]<0x2)return null;const _0x61d689=_0x31e4ea[_0x4a8d6f(0x530)](_0x4f257e=>_0x4f257e['latestScore']),_0x54d4c4=_0x61d689[_0x4a8d6f(0x1d6)]((_0xd56baa,_0x442ba5)=>_0xd56baa+_0x442ba5,0x0)/_0x61d689['length'],_0x56e95a=_0x61d689['map'](_0x29f3f6=>Math[_0x4a8d6f(0x2ca)](_0x29f3f6-_0x54d4c4,0x2))['reduce']((_0x4fa043,_0x3bc146)=>_0x4fa043+_0x3bc146,0x0)/_0x61d689[_0x4a8d6f(0x2d2)];if(_0x56e95a===0x0)return null;let _0x3fe447=0x0;for(let _0xe1803e=0x0;_0xe1803e<_0x42efc9;_0xe1803e++){const _0x2d1d08=_0x50a58b[_0xe1803e]?.['p'];if(_0x2d1d08===undefined)continue;const _0x543397=0x1-_0x2d1d08;_0x3fe447+=_0x2d1d08*_0x543397;}if(_0x3fe447===0x0)return null;const _0x460cd9=_0x42efc9/(_0x42efc9-0x1)*(0x1-_0x3fe447/_0x56e95a);if(_0x460cd9>0x1)return null;return _0x460cd9;}async function handleAnalyzeClass(){const _0x2aaace=_0x5e8eac;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x2aaace(0x37b));return;}const _0x162843=collection(db,_0x2aaace(0x705)+appId+'/public/data/quizzes/'+currentQuizData['id']+'/submissions'),_0x45b47f=await getDocs(_0x162843),_0x1fe05c=_0x45b47f[_0x2aaace(0x42d)][_0x2aaace(0x530)](_0x2acea9=>_0x2acea9[_0x2aaace(0x4b3)]());if(_0x1fe05c[_0x2aaace(0x2d2)]<0x2){showMessage(_0x2aaace(0x80e));return;}const _0x43a476=document[_0x2aaace(0x839)](_0x2aaace(0x182));_0x43a476[_0x2aaace(0x536)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x2aaace(0x839)]('analyze-strengths-btn')['disabled']=!![];const _0x2fea6c=_0x1fe05c[_0x2aaace(0x530)]((_0x4f3c96,_0x5cc626)=>{const _0x47ea0a=_0x2aaace,_0x22177e=_0x4f3c96[_0x47ea0a(0x8a3)][_0x4f3c96[_0x47ea0a(0x8a3)][_0x47ea0a(0x2d2)]-0x1];if(!_0x22177e)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0x5cc626+0x1)+'\x20('+_0x4f3c96[_0x47ea0a(0x845)]+_0x47ea0a(0x677)+_0x22177e[_0x47ea0a(0x2d1)]+'/'+_0x4f3c96['totalQuestions']+_0x47ea0a(0x2a8)+JSON[_0x47ea0a(0x878)](_0x22177e[_0x47ea0a(0x400)])+_0x47ea0a(0x5e2);})[_0x2aaace(0x4b4)]('\x0a---\x0a'),_0x164c4a=_0x2aaace(0x214)+currentQuizData[_0x2aaace(0x1bf)]+_0x2aaace(0x6bd)+JSON[_0x2aaace(0x878)](currentQuizData['questions'])+_0x2aaace(0x8e8)+_0x2fea6c+_0x2aaace(0x1e2),_0x10c01d={'type':_0x2aaace(0x7f6),'properties':{'classStrengths':{'type':_0x2aaace(0x7af),'items':{'type':_0x2aaace(0x2c9)}},'classWeaknesses':{'type':_0x2aaace(0x7af),'items':{'type':'STRING'}},'teacherSuggestions':{'type':_0x2aaace(0x7af),'items':{'type':_0x2aaace(0x2c9)}}},'required':[_0x2aaace(0x6b0),_0x2aaace(0x609),_0x2aaace(0x482)]};try{const _0x419504=await callAnalysisApi(_0x164c4a,_0x10c01d);displayClassAnalysis(_0x419504);}catch(_0x38f44a){console[_0x2aaace(0x2a9)]('Error\x20during\x20class\x20analysis:',_0x38f44a),_0x43a476['innerHTML']=_0x2aaace(0x132)+_0x38f44a[_0x2aaace(0x86b)]+_0x2aaace(0x2dd);}finally{document[_0x2aaace(0x839)](_0x2aaace(0x4bc))['disabled']=![];}}function displayClassAnalysis(_0x891153){const _0x4deb7d=_0x5e8eac,_0x5993fe=document['getElementById'](_0x4deb7d(0x182));if(!_0x891153){_0x5993fe['innerHTML']=_0x4deb7d(0x14e);return;}_0x5993fe['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x891153['classStrengths']['map'](_0x2e4297=>_0x4deb7d(0x3ba)+_0x2e4297+_0x4deb7d(0x737))[_0x4deb7d(0x4b4)]('')+_0x4deb7d(0x75e)+_0x891153[_0x4deb7d(0x609)][_0x4deb7d(0x530)](_0x2d834a=>_0x4deb7d(0x3ba)+_0x2d834a+_0x4deb7d(0x737))[_0x4deb7d(0x4b4)]('')+_0x4deb7d(0x44c)+_0x891153[_0x4deb7d(0x482)][_0x4deb7d(0x530)](_0x408da0=>_0x4deb7d(0x3ba)+_0x408da0+_0x4deb7d(0x737))[_0x4deb7d(0x4b4)]('')+_0x4deb7d(0x3c9);}function formatAndPrintWorksheet(_0x47db1f,_0x50e6cb){const _0x4f0017=_0x5e8eac,_0x1efbd2=_0x4f0017(0x3ab)+_0x47db1f[_0x4f0017(0x1bf)]+_0x4f0017(0x14c)+_0x47db1f[_0x4f0017(0x1bf)]+_0x4f0017(0x765)+_0x47db1f[_0x4f0017(0x3ef)][_0x4f0017(0x530)]((_0x1a74da,_0x153ede)=>_0x4f0017(0x650)+(_0x153ede+0x1)+'.\x20'+_0x1a74da['questionText']+_0x4f0017(0x4cd)+(_0x1a74da[_0x4f0017(0x8b0)]?_0x4f0017(0x3fd)+_0x1a74da[_0x4f0017(0x8b0)]+_0x4f0017(0x145):'')+_0x4f0017(0x57a))[_0x4f0017(0x4b4)]('')+_0x4f0017(0x64e);_0x50e6cb[_0x4f0017(0x18b)][_0x4f0017(0x385)](_0x1efbd2),_0x50e6cb[_0x4f0017(0x18b)][_0x4f0017(0x6c9)](),_0x50e6cb[_0x4f0017(0x73d)]=function(){setTimeout(()=>{_0x50e6cb['print']();},0x3e8);};}async function generateWorksheet(){const _0x3878ac=_0x5e8eac,_0x52d7be=document['getElementById']('worksheet-topic-input')[_0x3878ac(0x3e5)][_0x3878ac(0x3dd)]();if(!_0x52d7be){showMessage(_0x3878ac(0x3df));return;}const _0x15615f=document[_0x3878ac(0x839)](_0x3878ac(0x3d2))[_0x3878ac(0x1d1)],_0x1a8f6b=_0x15615f?'':_0x3878ac(0x2f7),_0xdf7b35=window[_0x3878ac(0x615)]('',_0x3878ac(0x395));_0xdf7b35[_0x3878ac(0x18b)][_0x3878ac(0x385)](_0x3878ac(0x85d));const _0x1819e8=parseInt(document[_0x3878ac(0x839)](_0x3878ac(0x1f0))['value']),_0x9a6fa6=document[_0x3878ac(0x839)](_0x3878ac(0x7a3))['checked'],_0x22fdc0=_0x9a6fa6?_0x3878ac(0x42f):'',_0x45dc94=_0x3878ac(0x21e)+_0x1a8f6b+_0x3878ac(0x771)+_0x1819e8+_0x3878ac(0x5c8)+_0x52d7be+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x22fdc0+_0x3878ac(0x580)+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0xedae4e={'type':_0x3878ac(0x7f6),'properties':{'topic':{'type':_0x3878ac(0x2c9)},'questions':{'type':_0x3878ac(0x7af),'items':{'type':_0x3878ac(0x7f6),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0x3878ac(0x2c9)}},'required':[_0x3878ac(0x593)]}}},'required':['topic',_0x3878ac(0x3ef)]};document[_0x3878ac(0x839)]('loader-text')[_0x3878ac(0x4ca)]='',document[_0x3878ac(0x839)](_0x3878ac(0x3a0))[_0x3878ac(0x298)]['remove'](_0x3878ac(0x28b)),document['getElementById'](_0x3878ac(0x1cf))['classList'][_0x3878ac(0x514)](_0x3878ac(0x28b)),generateWorksheetBtn['disabled']=!![];try{const _0xe6c9cf=await callAnalysisApi(_0x45dc94,_0xedae4e);formatAndPrintWorksheet(_0xe6c9cf,_0xdf7b35);}catch(_0x57dff0){console['error'](_0x3878ac(0x2f0),_0x57dff0);if(_0xdf7b35)_0xdf7b35[_0x3878ac(0x6c9)]();showMessage(_0x3878ac(0x22a));}finally{document[_0x3878ac(0x839)](_0x3878ac(0x3a0))[_0x3878ac(0x298)][_0x3878ac(0x36a)](_0x3878ac(0x28b)),document[_0x3878ac(0x839)](_0x3878ac(0x1cf))[_0x3878ac(0x298)][_0x3878ac(0x36a)](_0x3878ac(0x28b)),generateWorksheetBtn[_0x3878ac(0x4d1)]=![];}}async function callAnalysisApi(_0x1a1d76,_0x543b91){const _0x546725=_0x5e8eac,_0x4b938b={'contents':[{'role':_0x546725(0x267),'parts':[{'text':_0x1a1d76}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x543b91}},_0x45592e=_0x546725(0x3b3),_0x52c9ac=_0x546725(0x244)+_0x45592e,_0x197be9=await fetch(_0x52c9ac,{'method':_0x546725(0x5c2),'headers':{'Content-Type':_0x546725(0x6c2)},'body':JSON[_0x546725(0x878)](_0x4b938b)});if(!_0x197be9['ok'])throw new Error(_0x546725(0x59c)+_0x197be9[_0x546725(0x442)]);const _0x5632bd=await _0x197be9[_0x546725(0x175)]();if(_0x5632bd['candidates']?.[0x0]?.[_0x546725(0x5bb)]?.[_0x546725(0x873)]?.[0x0])return JSON['parse'](_0x5632bd[_0x546725(0x589)][0x0][_0x546725(0x5bb)][_0x546725(0x873)][0x0][_0x546725(0x2a6)]);else{let _0x3c9871=_0x546725(0x193);if(_0x5632bd[_0x546725(0x5ef)]?.['blockReason'])_0x3c9871='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x5632bd[_0x546725(0x5ef)][_0x546725(0x8d5)]+'.';else _0x5632bd[_0x546725(0x589)]?.[0x0]?.[_0x546725(0x784)]&&_0x5632bd[_0x546725(0x589)][0x0][_0x546725(0x784)]!==_0x546725(0x48c)&&(_0x3c9871=_0x546725(0x2b9)+_0x5632bd[_0x546725(0x589)][0x0][_0x546725(0x784)]+'.');console[_0x546725(0x2a9)](_0x3c9871,JSON['stringify'](_0x5632bd));throw new Error(_0x3c9871);}}initialize();
