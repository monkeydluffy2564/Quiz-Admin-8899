const _0x470ff8=_0xb340;(function(_0x2515d4,_0x26df7a){const _0x1b8e2e=_0xb340,_0x300526=_0x2515d4();while(!![]){try{const _0x31290c=-parseInt(_0x1b8e2e(0x2e7))/0x1+-parseInt(_0x1b8e2e(0x956))/0x2+-parseInt(_0x1b8e2e(0x511))/0x3+-parseInt(_0x1b8e2e(0xafb))/0x4+-parseInt(_0x1b8e2e(0xa31))/0x5*(-parseInt(_0x1b8e2e(0x610))/0x6)+-parseInt(_0x1b8e2e(0x588))/0x7+-parseInt(_0x1b8e2e(0x965))/0x8*(-parseInt(_0x1b8e2e(0x4f1))/0x9);if(_0x31290c===_0x26df7a)break;else _0x300526['push'](_0x300526['shift']());}catch(_0x3fd500){_0x300526['push'](_0x300526['shift']());}}}(_0x3ecd,0x3755a));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x41bc36=_0xb340;if(_0x41bc36(0x9e4)in navigator)try{wakeLock=await navigator[_0x41bc36(0x9e4)][_0x41bc36(0xad9)](_0x41bc36(0x23a)),console[_0x41bc36(0x638)](_0x41bc36(0x12c)),wakeLock[_0x41bc36(0xda)]('release',()=>{const _0x370078=_0x41bc36;console['log'](_0x370078(0x1a1));});}catch(_0x4a8593){console[_0x41bc36(0x6c4)](_0x41bc36(0xafe)+_0x4a8593['name']+',\x20'+_0x4a8593[_0x41bc36(0x80a)]);}else console[_0x41bc36(0xa0b)](_0x41bc36(0x847));},releaseWakeLock=async()=>{const _0x4e19b8=_0xb340;wakeLock!==null&&(await wakeLock[_0x4e19b8(0x914)](),wakeLock=null,console[_0x4e19b8(0x638)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ'));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x5d2f79=_0xb340;if(dimTimer)clearTimeout(dimTimer);document[_0x5d2f79(0x905)][_0x5d2f79(0xaa8)]['remove']('dimmed'),dimTimer=setTimeout(()=>{const _0x51dba2=_0x5d2f79;document[_0x51dba2(0x905)][_0x51dba2(0xaa8)][_0x51dba2(0x4de)]('dimmed'),console['log'](_0x51dba2(0x220));},inactivityTime);}function stopDimTimer(){const _0x529395=_0xb340;if(dimTimer)clearTimeout(dimTimer);document[_0x529395(0x905)]['classList']['remove'](_0x529395(0x377)),window[_0x529395(0x9d0)](_0x529395(0x12f),resetDimTimer),window[_0x529395(0x9d0)](_0x529395(0xa5f),resetDimTimer),window['removeEventListener'](_0x529395(0x9c5),resetDimTimer),window[_0x529395(0x9d0)](_0x529395(0x1af),resetDimTimer),console['log'](_0x529395(0x1da));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x311194,_0x2d4db5=![]){const _0x1c27c0=_0xb340,_0x57f1f3=allQuizzes[_0x1c27c0(0x43e)](_0x58db8f=>_0x58db8f['id']===_0x311194)||allQuizzesGlobal['find'](_0x1a276e=>_0x1a276e['id']===_0x311194);if(!_0x57f1f3){showMessage(_0x1c27c0(0x85b));return;}currentQuizData=getShuffledQuiz(_0x57f1f3);const _0x13cadc=Math[_0x1c27c0(0x8ec)](0x3e8+Math[_0x1c27c0(0x3c3)]()*0x2328)['toString']();try{const _0x8d1f5e=await addDoc(collection(db,_0x1c27c0(0x718)+appId+_0x1c27c0(0x216)),{'quizId':_0x57f1f3['id'],'projectId':_0x57f1f3['projectId'],'status':_0x1c27c0(0x21e),'pin':_0x13cadc,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x2d4db5});currentTeamQuizId=_0x8d1f5e['id'],showView(_0x1c27c0(0x68d)),renderAdminTeamQuizDashboard(_0x13cadc,_0x57f1f3[_0x1c27c0(0x1bc)]),listenForTeamQuizUpdates();}catch(_0x28a8f2){console[_0x1c27c0(0x6c4)](_0x1c27c0(0x5f7),_0x28a8f2),showMessage(_0x1c27c0(0x5e0));}}function renderAdminTeamQuizDashboard(_0x55708a,_0x4474bf,_0x54b564=_0x470ff8(0x99f)){const _0x2db625=_0x470ff8,_0x137b68=_0x54b564===_0x2db625(0x917)?'Group\x20Mode':'Team\x20Quiz';liveGameView['innerHTML']=_0x2db625(0x50e)+_0x137b68+':\x20'+_0x4474bf+_0x2db625(0x4c7)+_0x55708a+_0x2db625(0x436),document[_0x2db625(0x8b2)]('end-team-quiz-btn')[_0x2db625(0xda)](_0x2db625(0x896),async()=>{const _0x587e6e=_0x2db625;showConfirmation(_0x587e6e(0x9c2),async()=>{const _0x533ed1=_0x587e6e;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,'artifacts/'+appId+_0x533ed1(0x216),currentTeamQuizId)),showView(_0x533ed1(0xaf2));});});}function listenForTeamQuizUpdates(){const _0x42a0d6=_0x470ff8;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x39c146=doc(db,'artifacts/'+appId+_0x42a0d6(0x216),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x39c146,_0x460aa0=>{const _0x39eca0=_0x42a0d6;if(!_0x460aa0[_0x39eca0(0x811)]()){sessionStorage[_0x39eca0(0xaa4)]('activeGameSession');if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x39eca0(0x382));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x39eca0(0x9d9)?showView(_0x39eca0(0xaf2)):showView(_0x39eca0(0x53d));return;}const _0x4030db=_0x460aa0[_0x39eca0(0x79e)]();if(currentMode===_0x39eca0(0x9d9)){if(_0x4030db['mode']===_0x39eca0(0x917)&&_0x4030db[_0x39eca0(0x6b3)]!==_0x39eca0(0x7e5)&&_0x4030db[_0x39eca0(0x6b3)]!==_0x39eca0(0x763)){const _0x187818=Object[_0x39eca0(0x7ff)](_0x4030db[_0x39eca0(0xb42)]||{});if(_0x187818[_0x39eca0(0x9b5)]>0x0){const _0x2da44c=_0x187818[_0x39eca0(0xa12)](_0x49b048=>_0x49b048[_0x39eca0(0x4b3)]===!![]);_0x2da44c&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x4030db);}else{if(_0x4030db[_0x39eca0(0x6b3)]===_0x39eca0(0x7e5)||_0x4030db[_0x39eca0(0x6b3)]==='finished'){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x4030db[_0x39eca0(0x401)]==='group'){const _0x3af26e=_0x4030db[_0x39eca0(0xb42)][userId];(!_0x3af26e||!_0x3af26e[_0x39eca0(0x4b3)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x473af9){const _0x4bbd54=_0x470ff8;console[_0x4bbd54(0x638)]('All\x20groups\x20have\x20finished.\x20Ending\x20game.');const _0x528e4b=doc(db,_0x4bbd54(0x718)+appId+_0x4bbd54(0x216),_0x473af9);try{const _0x5e7c3c=await getDoc(_0x528e4b);if(_0x5e7c3c['exists']()){const _0x11cb65=_0x5e7c3c[_0x4bbd54(0x79e)]();_0x11cb65[_0x4bbd54(0x4a3)]&&await saveGameResultsAsSubmissions(_0x11cb65);}await updateDoc(_0x528e4b,{'status':_0x4bbd54(0x7e5)});}catch(_0x27a69c){console['error'](_0x4bbd54(0x9ea),_0x27a69c);}}function updateAdminTeamDashboard(_0x476b3f){const _0x5c3d79=_0x470ff8,_0x3cc11b=document['getElementById']('team-player-status-grid');if(!_0x3cc11b)return;const _0x1161bf=_0x476b3f[_0x5c3d79(0x401)]||_0x5c3d79(0x99f),_0x28c494=currentQuizData[_0x5c3d79(0x622)][_0x5c3d79(0x9b5)];if(_0x1161bf===_0x5c3d79(0x917)){const _0x34443d=Object['values'](_0x476b3f[_0x5c3d79(0xb42)]||{});if(_0x34443d[_0x5c3d79(0x9b5)]===0x0){_0x3cc11b[_0x5c3d79(0xb6e)]=_0x5c3d79(0x3a5);return;}const _0x1e5a1c=[..._0x34443d]['sort']((_0x4ad8ce,_0xbe625f)=>_0xbe625f['score']-_0x4ad8ce[_0x5c3d79(0xabc)]),_0x4b1d4d=_0x1e5a1c[_0x5c3d79(0x6b7)]((_0x131da2,_0x2bf810)=>{const _0x1ff29f=_0x5c3d79,_0x107132=_0x131da2[_0x1ff29f(0x335)]?.[_0x1ff29f(0x9b5)]||0x0;return _0x1ff29f(0x5cc)+(_0x2bf810+0x1)+_0x1ff29f(0x67a)+_0x131da2[_0x1ff29f(0x47c)]['join'](',\x20')+_0x1ff29f(0x667)+_0x107132+'/'+_0x28c494+_0x1ff29f(0x931)+_0x131da2[_0x1ff29f(0xabc)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x5c3d79(0x221)](''),_0xf11574=currentQuizData[_0x5c3d79(0x622)][_0x5c3d79(0x6b7)]((_0x308e63,_0x5303bf)=>{const _0x2efef9=_0x5c3d79;let _0x5bd735=0x0,_0x4a20d5=0x0;_0x34443d[_0x2efef9(0x501)](_0x5e1085=>{const _0x304e3b=_0x2efef9,_0x234e0f=_0x5e1085[_0x304e3b(0x335)]?.[_0x304e3b(0x43e)](_0x13d401=>_0x13d401[_0x304e3b(0x966)]===_0x5303bf);if(_0x234e0f){_0x4a20d5++;if(_0x234e0f[_0x304e3b(0x98e)])_0x5bd735++;}});const _0x14316e=_0x4a20d5>0x0&&_0x4a20d5===_0x34443d[_0x2efef9(0x9b5)],_0x469ae4=_0x14316e?_0x2efef9(0x15d):_0x2efef9(0x8d8),_0x5562c0=_0x14316e?_0x2efef9(0x5cb):'';return _0x2efef9(0x604)+_0x469ae4+_0x2efef9(0x14a)+(_0x5303bf+0x1)+_0x2efef9(0x716)+_0x5562c0+_0x2efef9(0x725)+_0x5bd735+'/'+_0x34443d[_0x2efef9(0x9b5)]+_0x2efef9(0x5fa);})[_0x5c3d79(0x221)]('');_0x3cc11b['innerHTML']=_0x5c3d79(0x263)+_0x4b1d4d+_0x5c3d79(0x5b6)+_0xf11574+_0x5c3d79(0xb36);return;}const _0x35aecf=_0x476b3f[_0x5c3d79(0x547)]||{},_0x4ff466=Object[_0x5c3d79(0xa67)](_0x35aecf);if(_0x4ff466[_0x5c3d79(0x9b5)]===0x0){_0x3cc11b['innerHTML']=_0x5c3d79(0x63b);return;}const _0x715fe8=_0x4ff466[_0x5c3d79(0x6b7)](_0x3290f8=>({'name':_0x3290f8,'score':_0x35aecf[_0x3290f8][_0x5c3d79(0xabc)]||0x0}))[_0x5c3d79(0xe2)]((_0x1a7eaf,_0x361e7a)=>_0x361e7a[_0x5c3d79(0xabc)]-_0x1a7eaf[_0x5c3d79(0xabc)]),_0x241d0e=_0x715fe8['map'](_0x616535=>{const _0x5970f6=_0x5c3d79,_0x42e6b7=_0x35aecf[_0x616535[_0x5970f6(0x20a)]]?.[_0x5970f6(0x335)]?.[_0x5970f6(0x9b5)]||0x0,_0x23d9a7=Math[_0x5970f6(0xa05)](_0x28c494/_0x4ff466[_0x5970f6(0x9b5)]);return _0x5970f6(0xca)+_0x616535[_0x5970f6(0x20a)]+'\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>('+_0x42e6b7+'/'+_0x23d9a7+_0x5970f6(0x7e8)+_0x616535[_0x5970f6(0xabc)]+_0x5970f6(0x3b1);})[_0x5c3d79(0x221)](''),_0xa9cb2d=_0x4ff466[_0x5c3d79(0x75b)]((_0x42717e,_0x391965)=>_0x42717e+(_0x35aecf[_0x391965][_0x5c3d79(0x335)]?.[_0x5c3d79(0x9b5)]||0x0),0x0),_0x11d917=currentQuizData[_0x5c3d79(0x622)][_0x5c3d79(0x6b7)]((_0x35e516,_0x46ea13)=>{const _0xdc6fda=_0x5c3d79;let _0x3d0b0a=null,_0x125f7a=null;for(const _0x1abb85 of _0x4ff466){const _0x4c4046=_0x35aecf[_0x1abb85][_0xdc6fda(0x335)]?.[_0xdc6fda(0x43e)](_0x5340a0=>_0x5340a0[_0xdc6fda(0x966)]===_0x46ea13);if(_0x4c4046){_0x3d0b0a=_0x4c4046,_0x125f7a=_0x1abb85;break;}}const _0x42d5d6=!!_0x3d0b0a,_0x3764b1=_0x42d5d6&&_0x3d0b0a[_0xdc6fda(0x98e)],_0x479896=(Math[_0xdc6fda(0x8ec)](_0x46ea13/_0x4ff466[_0xdc6fda(0x9b5)])+0x1)*_0x4ff466['length'],_0xa4c231=_0xa9cb2d>=_0x479896,_0x50a80c=_0xa4c231?_0xdc6fda(0x6ae):_0xdc6fda(0x8d8),_0x1dd0b4=_0xa4c231?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';let _0x46cb06='รอ...';return _0x42d5d6&&(_0x46cb06=_0x125f7a+_0xdc6fda(0xaa6)+(_0x3764b1?_0xdc6fda(0x6f2):_0xdc6fda(0x3a8))),_0xdc6fda(0x604)+_0x50a80c+_0xdc6fda(0x14a)+(_0x46ea13+0x1)+_0xdc6fda(0x716)+_0x1dd0b4+_0xdc6fda(0x508)+_0x46cb06+_0xdc6fda(0x88a);})['join']('');_0x3cc11b[_0x5c3d79(0xb6e)]=_0x5c3d79(0x1cd)+_0x241d0e+_0x5c3d79(0xa2a)+_0x11d917+'</div></div></div>';}async function handleJoinTeamQuiz(){const _0x57d822=_0x470ff8,_0xad6f70=prompt(_0x57d822(0x82b));if(!_0xad6f70||_0xad6f70[_0x57d822(0xf2)]()['length']!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x48a415=collection(db,_0x57d822(0x718)+appId+'/public/data/teamQuizzes'),_0x1e6467=query(_0x48a415,where('pin','==',_0xad6f70['trim']()),where('status','==','lobby')),_0x18ab30=await getDocs(_0x1e6467);if(_0x18ab30[_0x57d822(0x5ff)]){showMessage(_0x57d822(0x6d1));return;}const _0x277029=_0x18ab30[_0x57d822(0xa1f)][0x0];currentTeamQuizId=_0x277029['id'];const _0x1c6159=_0x277029[_0x57d822(0x79e)](),_0x405e6f=doc(db,_0x57d822(0x718)+appId+_0x57d822(0xb58),_0x1c6159['projectId']),_0x339786=doc(db,'artifacts/'+appId+_0x57d822(0x51f),_0x1c6159[_0x57d822(0x65c)]),[_0x2d81bb,_0x360fe4]=await Promise[_0x57d822(0x4ef)]([getDoc(_0x405e6f),getDoc(_0x339786)]);if(!_0x2d81bb['exists']()||!_0x360fe4['exists']())throw new Error(_0x57d822(0x1d8));currentQuizData=getShuffledQuiz({'id':_0x360fe4['id'],..._0x360fe4[_0x57d822(0x79e)]()});const _0x29fd68=_0x2d81bb[_0x57d822(0x79e)]();showTeamPlayerSelection(_0x29fd68[_0x57d822(0x605)],currentQuizData[_0x57d822(0x1bc)]);}catch(_0xc305c5){console[_0x57d822(0x6c4)](_0x57d822(0x918),_0xc305c5),showMessage('เกิดข้อผิดพลาด:\x20'+_0xc305c5['message']);}}async function handleJoinGroupActivity(){const _0x5e62ba=_0x470ff8,_0x2fb42f=prompt(_0x5e62ba(0x5e6));if(!_0x2fb42f||_0x2fb42f[_0x5e62ba(0xf2)]()[_0x5e62ba(0x9b5)]!==0x4){showMessage(_0x5e62ba(0x4b0));return;}const _0x4a71d4=_0x2fb42f[_0x5e62ba(0xf2)]();showMessage(_0x5e62ba(0x5e2));try{const _0x475490=collection(db,_0x5e62ba(0x718)+appId+_0x5e62ba(0x216)),_0x49f147=query(_0x475490,where('pin','==',_0x4a71d4),where(_0x5e62ba(0x6b3),'==',_0x5e62ba(0x21e))),_0x412463=await getDocs(_0x49f147);if(!_0x412463[_0x5e62ba(0x5ff)]){console['log'](_0x5e62ba(0x4ea)),await proceedWithTeamQuizJoin(_0x412463[_0x5e62ba(0xa1f)][0x0]);return;}const _0x154549=collection(db,_0x5e62ba(0x718)+appId+_0x5e62ba(0x41a)),_0x558f9f=query(_0x154549,where('pin','==',_0x4a71d4),where('status','==',_0x5e62ba(0x21e))),_0x56d2da=await getDocs(_0x558f9f);if(!_0x56d2da[_0x5e62ba(0x5ff)]){console['log'](_0x5e62ba(0x149)),await proceedWithSyncQuizJoin(_0x56d2da[_0x5e62ba(0xa1f)][0x0]);return;}showMessage(_0x5e62ba(0x40e));}catch(_0x5e771c){console[_0x5e62ba(0x6c4)](_0x5e62ba(0x9ca),_0x5e771c),showMessage(_0x5e62ba(0x1c6)+_0x5e771c[_0x5e62ba(0x80a)]);}}async function proceedWithTeamQuizJoin(_0x104ed0){const _0x5b54da=_0x470ff8;currentTeamQuizId=_0x104ed0['id'];const _0x524878=_0x104ed0[_0x5b54da(0x79e)](),_0x1b54e6=doc(db,_0x5b54da(0x718)+appId+_0x5b54da(0xb58),_0x524878['projectId']),_0x3ca37c=doc(db,'artifacts/'+appId+_0x5b54da(0x51f),_0x524878[_0x5b54da(0x65c)]),[_0x266ff5,_0x199a8e]=await Promise['all']([getDoc(_0x1b54e6),getDoc(_0x3ca37c)]);if(!_0x266ff5[_0x5b54da(0x811)]()||!_0x199a8e['exists']())throw new Error(_0x5b54da(0x1d8));currentQuizData=getShuffledQuiz({'id':_0x199a8e['id'],..._0x199a8e['data']()}),showTeamPlayerSelection(_0x266ff5['data']()[_0x5b54da(0x605)],currentQuizData[_0x5b54da(0x1bc)],_0x524878[_0x5b54da(0x401)]||_0x5b54da(0x99f)),messageModal[_0x5b54da(0xaa8)][_0x5b54da(0x4de)](_0x5b54da(0x856));}async function proceedWithSyncQuizJoin(_0x353eae){const _0x496d58=_0x470ff8;currentLiveGameId=_0x353eae['id'];const _0x4960a4=_0x353eae[_0x496d58(0x79e)](),_0x1d6678=doc(db,_0x496d58(0x718)+appId+'/public/data/quizzes',_0x4960a4[_0x496d58(0x65c)]),_0x2267cd=await getDoc(_0x1d6678);if(!_0x2267cd[_0x496d58(0x811)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x4e25cd=_0x2267cd['data'](),_0x1708e1=doc(db,_0x496d58(0x718)+appId+_0x496d58(0xb58),_0x4e25cd[_0x496d58(0x54d)]),_0x2c6493=await getDoc(_0x1708e1);if(!_0x2c6493[_0x496d58(0x811)]())throw new Error(_0x496d58(0xa86));currentQuizData=_0x4960a4['shuffledQuiz'],showView('student-team-join'),showTeamPlayerSelection(_0x2c6493['data']()['students'],_0x4e25cd[_0x496d58(0x1bc)],_0x496d58(0x9a5)),document['getElementById'](_0x496d58(0x49f))[_0x496d58(0xb79)]=confirmAndJoinSyncGame,messageModal[_0x496d58(0xaa8)][_0x496d58(0x4de)]('hidden');}function getCleanApplicationHTML(){const _0x524ebb=_0x470ff8,_0xcdaf85=document[_0x524ebb(0x8b2)](_0x524ebb(0x8b0));if(!_0xcdaf85)return'';const _0x26b97a=_0xcdaf85['cloneNode'](!![]);return _0x26b97a[_0x524ebb(0x9c4)](_0x524ebb(0x8ae))[_0x524ebb(0x501)](_0xac4dd5=>{const _0x543bc6=_0x524ebb;_0xac4dd5[_0x543bc6(0xaa8)][_0x543bc6(0x5b2)](_0x543bc6(0x97b),_0x543bc6(0xa8c)),_0xac4dd5[_0x543bc6(0x6cf)]=![];}),_0x26b97a['innerHTML'];}function showTeamPlayerSelection(_0x1f80f5,_0x5989de,_0x10a7b1=_0x470ff8(0x99f)){const _0x5d9001=_0x470ff8;studentInitialView['classList'][_0x5d9001(0x4de)](_0x5d9001(0x856)),studentJoinGameView[_0x5d9001(0xaa8)][_0x5d9001(0x4de)](_0x5d9001(0x856)),document[_0x5d9001(0x8b2)](_0x5d9001(0xa28))[_0x5d9001(0xaa8)]['remove'](_0x5d9001(0x856));let _0x53eea0=_0x5d9001(0x9cb);if(_0x10a7b1===_0x5d9001(0x917))_0x53eea0='Group\x20Mode';else _0x10a7b1===_0x5d9001(0x9a5)&&(_0x53eea0=_0x5d9001(0x4e2));document[_0x5d9001(0x8b2)]('team-quiz-topic')['textContent']=_0x53eea0+':\x20'+_0x5989de;const _0x5c5215=document[_0x5d9001(0x8b2)](_0x5d9001(0x9b9));if(!_0x1f80f5||_0x1f80f5['length']===0x0){_0x5c5215[_0x5d9001(0xb6e)]=_0x5d9001(0x7af),document[_0x5d9001(0x8b2)]('confirm-team-players-btn')[_0x5d9001(0x6cf)]=!![];return;}_0x5c5215[_0x5d9001(0xb6e)]=_0x1f80f5[_0x5d9001(0x6b7)](_0x182226=>_0x5d9001(0x157)+_0x182226+'\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>'+_0x182226+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0x5d9001(0x221)](''),document[_0x5d9001(0x8b2)]('confirm-team-players-btn')[_0x5d9001(0x6cf)]=![];}async function confirmAndStartTeamQuiz(){const _0x551226=_0x470ff8,_0x241ff0=Array['from'](document['querySelectorAll'](_0x551226(0x861)))['map'](_0x4ac8fb=>_0x4ac8fb[_0x551226(0x593)]);if(_0x241ff0[_0x551226(0x9b5)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x241ff0,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x37852=doc(db,'artifacts/'+appId+_0x551226(0x216),currentTeamQuizId);try{const _0x478576=await getDoc(_0x37852);if(!_0x478576['exists']())throw new Error(_0x551226(0xb2e));const _0x26677e=_0x478576[_0x551226(0x79e)]();if(_0x26677e['mode']==='group'){const _0x27ede2={[_0x551226(0x65a)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x37852,_0x27ede2);}else{const _0x2b61b5=_0x26677e[_0x551226(0x547)]||{};localTeamPlayers['forEach'](_0x4d94ef=>{!_0x2b61b5[_0x4d94ef]&&(_0x2b61b5[_0x4d94ef]={'score':0x0,'answers':[]});}),await updateDoc(_0x37852,{'responses':_0x2b61b5});}document[_0x551226(0x8b2)](_0x551226(0xa28))['classList']['add'](_0x551226(0x856)),renderTeamQuizQuestion();const _0x23446d={'gameId':currentTeamQuizId,'mode':_0x26677e[_0x551226(0x401)]||'team','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x551226(0xa20)](_0x551226(0x84c),JSON['stringify'](_0x23446d)),listenForTeamQuizUpdates();}catch(_0x95bbc7){console['error']('Error\x20confirming\x20players:',_0x95bbc7),showMessage(_0x551226(0x99e));}}async function renderTeamQuizQuestion(){const _0x451b05=_0x470ff8;if(localQuestionIndex>=currentQuizData[_0x451b05(0x622)][_0x451b05(0x9b5)]){displayTeamQuizFinalResults();return;}const _0x4f4b3a=currentQuizData[_0x451b05(0x622)][localQuestionIndex],_0x4464d1=localTeamPlayers[localPlayerIndex],_0x365f37=_0x4f4b3a[_0x451b05(0x345)]||currentQuizData[_0x451b05(0x497)];let _0x586937=_0x4f4b3a[_0x451b05(0x283)]||_0x4f4b3a[_0x451b05(0x16b)],_0x18377e='';switch(_0x365f37){case'multiple_choice':case'fill_in_with_choices':_0x18377e=_0x4f4b3a[_0x451b05(0xb6f)][_0x451b05(0x6b7)]((_0x320bb3,_0xc43fc1)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0xc43fc1+_0x451b05(0x28b)+_0xc43fc1+_0x451b05(0x19d)+_0xc43fc1+'\x22>'+_0x320bb3+'</label></div>')['join']('');break;case _0x451b05(0x618):_0x18377e=_0x451b05(0x3e3);break;case _0x451b05(0x9af):case _0x451b05(0x9de):_0x18377e=_0x451b05(0x363);break;case _0x451b05(0x43c):_0x18377e=_0x451b05(0x788)+_0x4f4b3a[_0x451b05(0xb3e)]['map'](_0x1a7646=>_0x451b05(0x5ea)+_0x1a7646+'\x22>'+_0x1a7646+_0x451b05(0x39e))[_0x451b05(0x221)]('')+'</select>';break;default:_0x18377e=_0x451b05(0xb60);break;}studentQuizArea['innerHTML']=_0x451b05(0x3f8)+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData['questions']['length']+_0x451b05(0x317)+_0x4464d1+_0x451b05(0x8b3)+(localQuestionIndex+0x1)+'.\x20'+_0x586937+_0x451b05(0x90d)+(_0x4f4b3a[_0x451b05(0x4b5)]?_0x451b05(0x6a7)+_0x4f4b3a[_0x451b05(0x4b5)]+_0x451b05(0x9ab):'')+_0x451b05(0x2d6)+_0x18377e+_0x451b05(0x753),studentQuizArea['classList']['remove']('hidden');if(window[_0x451b05(0x821)])MathJax[_0x451b05(0x697)]([studentQuizArea]);document['getElementById'](_0x451b05(0x739))[_0x451b05(0xda)](_0x451b05(0x896),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x8f8295=_0x470ff8,_0x50c654=currentQuizData[_0x8f8295(0x622)][localQuestionIndex],_0x1b200b=_0x50c654['questionType']||currentQuizData[_0x8f8295(0x497)];let _0x3be796=null,_0x453808=![];if(_0x1b200b===_0x8f8295(0x9af)||_0x1b200b===_0x8f8295(0x9de)){const _0x3ce9ad=document['querySelector']('textarea[name=\x22team_answer\x22]');if(!_0x3ce9ad||!_0x3ce9ad[_0x8f8295(0x593)][_0x8f8295(0xf2)]()){showMessage(_0x8f8295(0xabe));return;}_0x3be796=_0x3ce9ad[_0x8f8295(0x593)][_0x8f8295(0xf2)](),_0x453808=await gradeShortAnswer(_0x3be796,_0x50c654);}else{const _0x2248f9=document[_0x8f8295(0x7a8)](_0x8f8295(0x1c8));if(!_0x2248f9||_0x2248f9[_0x8f8295(0x593)]===''){showMessage(_0x8f8295(0x665));return;}_0x3be796=_0x2248f9['value'];switch(_0x1b200b){case _0x8f8295(0x618):_0x453808=_0x3be796===_0x8f8295(0x184)===_0x50c654[_0x8f8295(0x600)];break;case _0x8f8295(0x43c):_0x453808=_0x3be796===_0x50c654[_0x8f8295(0x198)];break;default:_0x453808=parseInt(_0x3be796)===_0x50c654[_0x8f8295(0x5ad)];break;}}const _0x3f8b94={'questionIndex':localQuestionIndex,'isCorrect':_0x453808},_0x4d00c4=userId,_0x53ecda={[_0x8f8295(0x65a)+_0x4d00c4+_0x8f8295(0xb28)]:arrayUnion(_0x3f8b94)};_0x453808&&(_0x53ecda[_0x8f8295(0x65a)+_0x4d00c4+_0x8f8295(0x6bc)]=increment(0x1));try{await updateDoc(doc(db,_0x8f8295(0x718)+appId+_0x8f8295(0x216),currentTeamQuizId),_0x53ecda),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x8f8295(0x622)][_0x8f8295(0x9b5)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x2a0ea1){console['error'](_0x8f8295(0x647),_0x2a0ea1),showMessage(_0x8f8295(0x40c));}}async function handleTeamAnswerSubmit(){const _0x5caf5c=_0x470ff8,_0x1eb10e=await getDoc(doc(db,_0x5caf5c(0x718)+appId+_0x5caf5c(0x216),currentTeamQuizId));if(!_0x1eb10e['exists']())return;const _0x3cf762=_0x1eb10e[_0x5caf5c(0x79e)]();if(_0x3cf762[_0x5caf5c(0x401)]==='group'){handleGroupAnswerSubmit();return;}const _0x516fc0=localTeamPlayers[localPlayerIndex],_0x4e1d8f=currentQuizData[_0x5caf5c(0x622)][localQuestionIndex],_0x4bed17=_0x4e1d8f[_0x5caf5c(0x345)]||currentQuizData[_0x5caf5c(0x497)];let _0xe88fd2=null,_0x2ce947=![];if(_0x4bed17===_0x5caf5c(0x9af)||_0x4bed17==='fill_in_no_choices'){const _0x42d96f=document[_0x5caf5c(0x7a8)]('textarea[name=\x22team_answer\x22]');if(!_0x42d96f||!_0x42d96f[_0x5caf5c(0x593)]['trim']()){showMessage(_0x5caf5c(0x4ae));return;}_0xe88fd2=_0x42d96f[_0x5caf5c(0x593)]['trim'](),_0x2ce947=await gradeShortAnswer(_0xe88fd2,_0x4e1d8f);}else{const _0x23bc77=document[_0x5caf5c(0x7a8)](_0x5caf5c(0x1c8));if(!_0x23bc77||_0x23bc77[_0x5caf5c(0x593)]===''){showMessage('กรุณาเลือกคำตอบ');return;}_0xe88fd2=_0x23bc77[_0x5caf5c(0x593)];switch(_0x4bed17){case'true_false':_0x2ce947=_0xe88fd2===_0x5caf5c(0x184)===_0x4e1d8f[_0x5caf5c(0x600)];break;case _0x5caf5c(0x43c):_0x2ce947=_0xe88fd2===_0x4e1d8f[_0x5caf5c(0x198)];break;default:_0x2ce947=parseInt(_0xe88fd2)===_0x4e1d8f[_0x5caf5c(0x5ad)];break;}}const _0x3ddfbb={'questionIndex':localQuestionIndex,'isCorrect':_0x2ce947,'answerValue':_0xe88fd2},_0x510ae8={['responses.'+_0x516fc0+_0x5caf5c(0xb28)]:arrayUnion(_0x3ddfbb)};_0x2ce947&&(_0x510ae8[_0x5caf5c(0x974)+_0x516fc0+_0x5caf5c(0x6bc)]=increment(0x1));try{await updateDoc(doc(db,_0x5caf5c(0x718)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x510ae8),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x5caf5c(0x9b5)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x256d6e){console[_0x5caf5c(0x6c4)](_0x5caf5c(0x86c),_0x256d6e),showMessage(_0x5caf5c(0x40c));}}async function displayTeamQuizFinalResults(){const _0x196da5=_0x470ff8;studentQuizArea['classList'][_0x196da5(0x4de)](_0x196da5(0x856)),studentResultArea['classList'][_0x196da5(0x5b2)](_0x196da5(0x856));const _0x2b9180=doc(db,'artifacts/'+appId+_0x196da5(0x216),currentTeamQuizId),_0x19de25=await getDoc(_0x2b9180);if(!_0x19de25['exists']()){studentResultArea['innerHTML']=_0x196da5(0xb04);return;}const _0x542977=_0x19de25[_0x196da5(0x79e)]();let _0xc8807f=[];const _0x226e75=_0x542977['mode']||_0x196da5(0x99f);if(_0x226e75==='group'){const _0x1b8909=_0x542977[_0x196da5(0xb42)][userId];_0x1b8909?_0xc8807f=[{'name':_0x196da5(0x353)+localTeamPlayers[_0x196da5(0x221)](',\x20'),'score':_0x1b8909[_0x196da5(0xabc)]||0x0}]:_0xc8807f=[{'name':'กลุ่มของคุณ','score':'N/A'}];}else _0xc8807f=localTeamPlayers['map'](_0x4a18c9=>({'name':_0x4a18c9,'score':_0x542977[_0x196da5(0x547)][_0x4a18c9]?.[_0x196da5(0xabc)]||0x0}))['sort']((_0x34e961,_0x59155b)=>_0x59155b[_0x196da5(0xabc)]-_0x34e961[_0x196da5(0xabc)]);studentResultArea['innerHTML']=_0x196da5(0x7a0)+_0xc8807f['map'](_0x25b961=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+_0x25b961[_0x196da5(0x20a)]+_0x196da5(0x380)+_0x25b961[_0x196da5(0xabc)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x196da5(0x221)]('')+_0x196da5(0x846),sessionStorage[_0x196da5(0xaa4)](_0x196da5(0x84c)),currentMode===_0x196da5(0x9d9)&&currentTeamQuizId&&setTimeout(()=>{deleteDoc(doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x470ff8(0x1bf),'pinnedProjects':[],'projectView':'grid'};const allMathTopics=[{'category':_0x470ff8(0x318),'name':_0x470ff8(0x56c)},{'category':_0x470ff8(0x318),'name':_0x470ff8(0x28a)},{'category':_0x470ff8(0x318),'name':'การปัดเศษและประมาณค่า'},{'category':'จำนวนและการดำเนินการ','name':_0x470ff8(0x7f6)},{'category':'จำนวนและการดำเนินการ','name':_0x470ff8(0x6f6)},{'category':_0x470ff8(0x318),'name':'การลบ'},{'category':_0x470ff8(0x318),'name':_0x470ff8(0x3f3)},{'category':_0x470ff8(0x318),'name':_0x470ff8(0x415)},{'category':'จำนวนและการดำเนินการ','name':'จำนวนเต็มบวก'},{'category':_0x470ff8(0x318),'name':_0x470ff8(0x62a)},{'category':'จำนวนและการดำเนินการ','name':'ศูนย์'},{'category':_0x470ff8(0x318),'name':_0x470ff8(0x423)},{'category':_0x470ff8(0x318),'name':_0x470ff8(0x442)},{'category':_0x470ff8(0x318),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':_0x470ff8(0x318),'name':'ห.ร.ม.\x20(GCD)'},{'category':_0x470ff8(0x318),'name':_0x470ff8(0x8f9)},{'category':_0x470ff8(0x318),'name':_0x470ff8(0x102)},{'category':_0x470ff8(0x318),'name':_0x470ff8(0x41d)},{'category':_0x470ff8(0x318),'name':_0x470ff8(0x807)},{'category':_0x470ff8(0x318),'name':_0x470ff8(0x601)},{'category':_0x470ff8(0x318),'name':_0x470ff8(0x20d)},{'category':_0x470ff8(0x318),'name':'การคูณเศษส่วน'},{'category':_0x470ff8(0x318),'name':_0x470ff8(0x5a9)},{'category':_0x470ff8(0x318),'name':_0x470ff8(0x4ec)},{'category':'จำนวนและการดำเนินการ','name':_0x470ff8(0x865)},{'category':_0x470ff8(0x318),'name':_0x470ff8(0xadd)},{'category':_0x470ff8(0x318),'name':_0x470ff8(0x66d)},{'category':_0x470ff8(0x318),'name':_0x470ff8(0x586)},{'category':'จำนวนและการดำเนินการ','name':_0x470ff8(0x59d)},{'category':_0x470ff8(0x318),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':'จำนวนและการดำเนินการ','name':_0x470ff8(0x661)},{'category':_0x470ff8(0x318),'name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':_0x470ff8(0x318),'name':_0x470ff8(0x97e)},{'category':_0x470ff8(0x318),'name':_0x470ff8(0xb03)},{'category':_0x470ff8(0x318),'name':_0x470ff8(0x66c)},{'category':_0x470ff8(0x318),'name':_0x470ff8(0x60c)},{'category':_0x470ff8(0x318),'name':_0x470ff8(0x2c3)},{'category':_0x470ff8(0x559),'name':_0x470ff8(0x7b4)},{'category':_0x470ff8(0x559),'name':_0x470ff8(0x2db)},{'category':_0x470ff8(0x559),'name':_0x470ff8(0xa27)},{'category':_0x470ff8(0x559),'name':'ปริมาตร/ความจุและการแปลง'},{'category':'การวัด','name':_0x470ff8(0x313)},{'category':_0x470ff8(0x559),'name':_0x470ff8(0x302)},{'category':_0x470ff8(0x559),'name':_0x470ff8(0xad8)},{'category':_0x470ff8(0x559),'name':_0x470ff8(0x50c)},{'category':_0x470ff8(0x559),'name':'พื้นที่วงกลม/ส่วนของวงกลม'},{'category':_0x470ff8(0x559),'name':'พื้นที่ผิวรูปทรงสามมิติ'},{'category':'การวัด','name':_0x470ff8(0x5ec)},{'category':_0x470ff8(0x559),'name':'มุมและการวัดมุม'},{'category':_0x470ff8(0x559),'name':_0x470ff8(0xade)},{'category':'การวัด','name':_0x470ff8(0x6ab)},{'category':_0x470ff8(0x626),'name':_0x470ff8(0x235)},{'category':'เรขาคณิต','name':_0x470ff8(0x8b7)},{'category':_0x470ff8(0x626),'name':_0x470ff8(0xb3c)},{'category':_0x470ff8(0x626),'name':_0x470ff8(0x50c)},{'category':'เรขาคณิต','name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':_0x470ff8(0x626),'name':'ความคล้ายของรูป'},{'category':_0x470ff8(0x626),'name':_0x470ff8(0x817)},{'category':_0x470ff8(0x626),'name':_0x470ff8(0xcf)},{'category':'เรขาคณิต','name':_0x470ff8(0x4a6)},{'category':'เรขาคณิต','name':_0x470ff8(0x93f)},{'category':_0x470ff8(0x626),'name':_0x470ff8(0x57e)},{'category':_0x470ff8(0x626),'name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':'เรขาคณิต','name':_0x470ff8(0x7dc)},{'category':_0x470ff8(0x626),'name':_0x470ff8(0x6dd)},{'category':_0x470ff8(0x626),'name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':_0x470ff8(0x6e9),'name':'ตัวแปรและนิพจน์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x470ff8(0x967)},{'category':_0x470ff8(0x6e9),'name':_0x470ff8(0xb08)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x470ff8(0x1ef)},{'category':_0x470ff8(0x6e9),'name':_0x470ff8(0xd1)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x470ff8(0x215)},{'category':_0x470ff8(0x6e9),'name':_0x470ff8(0xa08)},{'category':_0x470ff8(0x6e9),'name':_0x470ff8(0x3ac)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการค่าสัมบูรณ์'},{'category':_0x470ff8(0x6e9),'name':_0x470ff8(0x8f2)},{'category':_0x470ff8(0x6e9),'name':_0x470ff8(0x7cc)},{'category':_0x470ff8(0x6e9),'name':'สมการยกกำลัง'},{'category':_0x470ff8(0x6e9),'name':_0x470ff8(0x2c8)},{'category':'พีชคณิตและฟังก์ชัน','name':'อสมการเชิงเส้น'},{'category':_0x470ff8(0x6e9),'name':_0x470ff8(0x699)},{'category':_0x470ff8(0x6e9),'name':'ระบบอสมการ'},{'category':_0x470ff8(0x6e9),'name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':_0x470ff8(0x6e9),'name':_0x470ff8(0x798)},{'category':_0x470ff8(0x6e9),'name':_0x470ff8(0x1bb)},{'category':_0x470ff8(0x6e9),'name':_0x470ff8(0x85c)},{'category':_0x470ff8(0x6e9),'name':_0x470ff8(0x8c9)},{'category':_0x470ff8(0x6e9),'name':_0x470ff8(0x310)},{'category':_0x470ff8(0x6e9),'name':_0x470ff8(0x158)},{'category':_0x470ff8(0x6e9),'name':_0x470ff8(0x813)},{'category':_0x470ff8(0x6e9),'name':_0x470ff8(0x478)},{'category':_0x470ff8(0x6e9),'name':_0x470ff8(0x768)},{'category':_0x470ff8(0x6e9),'name':_0x470ff8(0x978)},{'category':_0x470ff8(0x6e9),'name':_0x470ff8(0x7e9)},{'category':_0x470ff8(0x6e9),'name':'ฟังก์ชันยกกำลัง'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x470ff8(0x390)},{'category':_0x470ff8(0x6e9),'name':_0x470ff8(0x599)},{'category':_0x470ff8(0x6e9),'name':_0x470ff8(0x986)},{'category':'พีชคณิตและฟังก์ชัน','name':'ผลรวมอนุกรม\x20(Σ)'},{'category':_0x470ff8(0x6e9),'name':_0x470ff8(0x96a)},{'category':_0x470ff8(0x6e9),'name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':_0x470ff8(0x1fa),'name':_0x470ff8(0x92f)},{'category':'เรขาคณิตวิเคราะห์','name':_0x470ff8(0xaff)},{'category':'เรขาคณิตวิเคราะห์','name':_0x470ff8(0xf0)},{'category':_0x470ff8(0x1fa),'name':_0x470ff8(0x316)},{'category':_0x470ff8(0x1fa),'name':_0x470ff8(0xae7)},{'category':_0x470ff8(0x1fa),'name':'วงกลม:\x20สมการและสมบัติ'},{'category':_0x470ff8(0x1fa),'name':_0x470ff8(0x4d2)},{'category':_0x470ff8(0x1fa),'name':_0x470ff8(0xaec)},{'category':_0x470ff8(0x1fa),'name':_0x470ff8(0x5dc)},{'category':'ตรีโกณมิติ','name':_0x470ff8(0x3b2)},{'category':_0x470ff8(0x5d7),'name':_0x470ff8(0x104)},{'category':_0x470ff8(0x5d7),'name':_0x470ff8(0x823)},{'category':_0x470ff8(0x5d7),'name':_0x470ff8(0x6c2)},{'category':_0x470ff8(0x5d7),'name':_0x470ff8(0x18c)},{'category':_0x470ff8(0x5d7),'name':_0x470ff8(0x341)},{'category':_0x470ff8(0x5d7),'name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':_0x470ff8(0x5d7),'name':'การแปลงรูปอัตลักษณ์'},{'category':_0x470ff8(0x5d7),'name':_0x470ff8(0x8de)},{'category':_0x470ff8(0x5d7),'name':_0x470ff8(0x223)},{'category':_0x470ff8(0x5d7),'name':_0x470ff8(0xa59)},{'category':_0x470ff8(0x395),'name':_0x470ff8(0x526)},{'category':_0x470ff8(0x395),'name':_0x470ff8(0x4aa)},{'category':_0x470ff8(0x395),'name':_0x470ff8(0x506)},{'category':_0x470ff8(0x395),'name':_0x470ff8(0x56b)},{'category':_0x470ff8(0x395),'name':'ฮิสโตแกรม'},{'category':'สถิติและความน่าจะเป็น','name':_0x470ff8(0x37e)},{'category':'สถิติและความน่าจะเป็น','name':'ค่าเฉลี่ย'},{'category':_0x470ff8(0x395),'name':_0x470ff8(0x2ba)},{'category':'สถิติและความน่าจะเป็น','name':_0x470ff8(0x4bf)},{'category':_0x470ff8(0x395),'name':_0x470ff8(0x7b6)},{'category':_0x470ff8(0x395),'name':_0x470ff8(0xac4)},{'category':_0x470ff8(0x395),'name':_0x470ff8(0x9bb)},{'category':_0x470ff8(0x395),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x470ff8(0x395),'name':_0x470ff8(0x42a)},{'category':_0x470ff8(0x395),'name':_0x470ff8(0x97c)},{'category':'สถิติและความน่าจะเป็น','name':_0x470ff8(0x52c)},{'category':_0x470ff8(0x395),'name':'กฎบวกและกฎคูณ'},{'category':_0x470ff8(0x395),'name':_0x470ff8(0x995)},{'category':_0x470ff8(0x395),'name':_0x470ff8(0x44b)},{'category':'สถิติและความน่าจะเป็น','name':_0x470ff8(0x31c)},{'category':_0x470ff8(0x395),'name':_0x470ff8(0x328)},{'category':_0x470ff8(0x395),'name':_0x470ff8(0x4ff)},{'category':_0x470ff8(0x395),'name':_0x470ff8(0x4c9)},{'category':'สถิติและความน่าจะเป็น','name':_0x470ff8(0xa61)},{'category':_0x470ff8(0x38a),'name':_0x470ff8(0x2c5)},{'category':_0x470ff8(0x38a),'name':'ความต่อเนื่อง'},{'category':_0x470ff8(0x38a),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0x470ff8(0x38a),'name':'อนุพันธ์:\x20กฎลูกโซ่'},{'category':_0x470ff8(0x38a),'name':_0x470ff8(0x557)},{'category':'แคลคูลัสเบื้องต้น','name':_0x470ff8(0x168)},{'category':'แคลคูลัสเบื้องต้น','name':_0x470ff8(0x469)},{'category':'แคลคูลัสเบื้องต้น','name':'อัตราการเปลี่ยนแปลงทันที'},{'category':_0x470ff8(0x38a),'name':_0x470ff8(0x3e8)},{'category':'แคลคูลัสเบื้องต้น','name':'ปริพันธ์ไม่จำกัด'},{'category':_0x470ff8(0x38a),'name':'ปริพันธ์จำกัด'},{'category':_0x470ff8(0x38a),'name':_0x470ff8(0x9a9)},{'category':_0x470ff8(0x38a),'name':_0x470ff8(0x815)},{'category':_0x470ff8(0x860),'name':_0x470ff8(0x29f)},{'category':_0x470ff8(0x860),'name':_0x470ff8(0xa52)},{'category':_0x470ff8(0x860),'name':_0x470ff8(0x678)},{'category':_0x470ff8(0x860),'name':_0x470ff8(0x71f)},{'category':_0x470ff8(0x860),'name':_0x470ff8(0x619)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x470ff8(0x1f3)},{'category':_0x470ff8(0x860),'name':_0x470ff8(0xa5b)},{'category':_0x470ff8(0x130),'name':_0x470ff8(0x874)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x470ff8(0x5b5)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x470ff8(0xc2)},{'category':_0x470ff8(0x130),'name':_0x470ff8(0x1c9)},{'category':_0x470ff8(0x130),'name':'ร้อยละประยุกต์'},{'category':_0x470ff8(0xb4a),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':_0x470ff8(0xb4a),'name':'รูปแบบการให้เหตุผล'},{'category':_0x470ff8(0xb4a),'name':_0x470ff8(0x5c0)}];function renderTopicCheckboxes(){const _0x2a38cc=_0x470ff8,_0x191c18=document['getElementById'](_0x2a38cc(0x9b0));if(!_0x191c18)return;const _0x1773de=allMathTopics,_0x2ab036=customMathTopics['map'](_0x13dc25=>({'id':_0x13dc25['id'],'category':_0x2a38cc(0xe7),'name':_0x13dc25[_0x2a38cc(0x20a)]})),_0x3ad22b=[..._0x1773de,..._0x2ab036],_0x3e565d=_0x3ad22b['reduce']((_0xedfc25,_0x44d20b)=>{const _0x1f450a=_0x2a38cc;return!_0xedfc25[_0x44d20b[_0x1f450a(0x38d)]]&&(_0xedfc25[_0x44d20b[_0x1f450a(0x38d)]]=[]),_0xedfc25[_0x44d20b['category']][_0x1f450a(0xb16)](_0x44d20b),_0xedfc25;},{});let _0x3da7a9='';const _0x5a23ab=[_0x2a38cc(0xe7),...Object[_0x2a38cc(0xa67)](_0x3e565d)[_0x2a38cc(0x8dd)](_0x1da0ec=>_0x1da0ec!==_0x2a38cc(0xe7))];for(const _0x167bb9 of _0x5a23ab){if(_0x3e565d[_0x167bb9]){const _0x156fba=_0x167bb9===_0x2a38cc(0xe7),_0x37f991=_0x156fba?_0x2a38cc(0x872):_0x2a38cc(0x6d2),_0x5da6ac=_0x156fba?_0x2a38cc(0xb5b):_0x2a38cc(0xab3);_0x3da7a9+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x3da7a9+=_0x2a38cc(0x275)+_0x5da6ac+_0x2a38cc(0x796)+_0x37f991+'\x20mr-2\x22></i>'+_0x167bb9+'</p>',_0x3e565d[_0x167bb9][_0x2a38cc(0x501)](_0x123303=>{const _0x551d58=_0x2a38cc,_0x21144b=!!_0x123303['id'],_0x58c8db=_0x21144b?_0x551d58(0x4cd)+_0x123303['id']+_0x551d58(0x1d0)+_0x123303['id']+_0x551d58(0x94c)+_0x123303['id']+_0x551d58(0x648)+_0x123303['id']+_0x551d58(0xb6b):'';_0x3da7a9+=_0x551d58(0x4fc)+(_0x123303['id']||'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22'+_0x123303[_0x551d58(0x20a)]+_0x551d58(0x873)+_0x123303[_0x551d58(0x20a)]+_0x551d58(0x2aa)+(_0x21144b?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x123303['name']+'\x22>':'')+_0x551d58(0xb71)+_0x58c8db+_0x551d58(0x63f);}),_0x3da7a9+=_0x2a38cc(0x9ab);}}_0x191c18[_0x2a38cc(0xb6e)]=_0x3da7a9||_0x2a38cc(0xaf8),_0x191c18[_0x2a38cc(0x9d0)](_0x2a38cc(0xb77),updateSelectedTopicsCount),_0x191c18[_0x2a38cc(0xda)](_0x2a38cc(0xb77),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x147f86,_0x1e8970){const _0x19d9c0=_0x470ff8;if(!_0x147f86||!_0x1e8970[_0x19d9c0(0xf2)]()){showMessage(_0x19d9c0(0x9fd));return;}try{const _0x57400d=doc(db,'artifacts/'+appId+_0x19d9c0(0x43f),_0x147f86);await updateDoc(_0x57400d,{'name':_0x1e8970['trim']()}),showMessage(_0x19d9c0(0x833));}catch(_0x5155fe){console['error'](_0x19d9c0(0x13d),_0x5155fe),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function toggleTopicEditMode(_0xcf2c14,_0x523b00){const _0x345e4f=_0x470ff8;if(!_0xcf2c14)return;const _0x459bf2=_0xcf2c14[_0x345e4f(0x7a8)](_0x345e4f(0x9d6)),_0x611b19=_0xcf2c14['querySelector'](_0x345e4f(0xf1)),_0x4bdbc5=_0xcf2c14[_0x345e4f(0x7a8)]('.topic-actions-view'),_0x3a85b5=_0xcf2c14[_0x345e4f(0x7a8)](_0x345e4f(0x6bb));_0x459bf2[_0x345e4f(0xaa8)][_0x345e4f(0xa25)](_0x345e4f(0x856),_0x523b00),_0x611b19[_0x345e4f(0xaa8)][_0x345e4f(0xa25)](_0x345e4f(0x856),!_0x523b00),_0x4bdbc5[_0x345e4f(0xaa8)][_0x345e4f(0xa25)](_0x345e4f(0x856),_0x523b00),_0x3a85b5[_0x345e4f(0xaa8)][_0x345e4f(0xa25)]('hidden',!_0x523b00),_0x523b00&&(_0x611b19[_0x345e4f(0xa3d)](),_0x611b19[_0x345e4f(0x53b)]());}async function handleStartLiveRace(_0x34254f){const _0x43c7a8=_0x470ff8;let _0x3002b6=allQuizzes[_0x43c7a8(0x43e)](_0x4731c6=>_0x4731c6['id']===_0x34254f);if(!_0x3002b6){const _0x309dbc=doc(db,_0x43c7a8(0x718)+appId+_0x43c7a8(0x51f),_0x34254f),_0x1842ef=await getDoc(_0x309dbc);if(!_0x1842ef[_0x43c7a8(0x811)]()){showMessage(_0x43c7a8(0x85b));return;}_0x3002b6={'id':_0x1842ef['id'],..._0x1842ef[_0x43c7a8(0x79e)]()};}const _0x2d5d0d=getShuffledQuiz(_0x3002b6);currentQuizData=_0x2d5d0d;const _0x368add=_0x3002b6['projectId']||currentProjectId||null,_0x22c08e=Math[_0x43c7a8(0x8ec)](0x3e8+Math['random']()*0x2328)[_0x43c7a8(0x77c)]();currentLiveGamePin=_0x22c08e;try{const _0x56a53a=await addDoc(collection(db,_0x43c7a8(0x718)+appId+_0x43c7a8(0x1a9)),{'quizId':_0x34254f,'projectId':_0x368add,'status':_0x43c7a8(0x21e),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x22c08e,'createdAt':serverTimestamp(),'shuffledQuiz':_0x2d5d0d});currentLiveGameId=_0x56a53a['id'],showAdminLobbyView(_0x22c08e,_0x3002b6[_0x43c7a8(0x1bc)]),listenForLiveGameUpdates();}catch(_0xc07f7e){console[_0x43c7a8(0x6c4)](_0x43c7a8(0x704),_0xc07f7e),showMessage(_0x43c7a8(0x2cb));}}function updateSelectedTopicsCount(){const _0xdf6fcc=_0x470ff8,_0xaab368=document[_0xdf6fcc(0x8b2)]('math-topics-checkbox-container'),_0x815ae0=_0xaab368[_0xdf6fcc(0x9c4)](_0xdf6fcc(0x8df))[_0xdf6fcc(0x9b5)],_0xc1376c=document[_0xdf6fcc(0x8b2)](_0xdf6fcc(0x6db));_0x815ae0>0x0?_0xc1376c['textContent']=_0xdf6fcc(0x959)+_0x815ae0+_0xdf6fcc(0x22d):_0xc1376c['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x470ff8(0x53d),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x470ff8(0x558),quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x470ff8(0x687),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x470ff8(0xa77),scratchpadPenColor=_0x470ff8(0xaa0),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x4e4bc6,_0x3b1e88){const _0x95a431=_0x470ff8;return Math[_0x95a431(0x270)](Math[_0x95a431(0x1ae)](_0x4e4bc6['x']-_0x3b1e88['x'],0x2)+Math[_0x95a431(0x1ae)](_0x4e4bc6['y']-_0x3b1e88['y'],0x2));}function getMidpoint(_0x1a4252,_0x2bc1c5){return{'x':(_0x1a4252['x']+_0x2bc1c5['x'])/0x2,'y':(_0x1a4252['y']+_0x2bc1c5['y'])/0x2};}function getTransformedPoint(_0x32f2ec,_0x5488c1){return{'x':(_0x32f2ec-scratchpadOffset['x'])/scratchpadScale,'y':(_0x5488c1-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x1c8058=_0x470ff8;if(!scratchpadCtx)return;const _0x5759da=scratchpadCtx['canvas'],_0x5145e1=window[_0x1c8058(0x7c2)]||0x1,_0x21cf67=document[_0x1c8058(0x8b2)](_0x1c8058(0xa2c));_0x21cf67&&(_0x21cf67[_0x1c8058(0x3cb)]['transformOrigin']=_0x1c8058(0x6ed),_0x21cf67['style'][_0x1c8058(0x666)]=_0x1c8058(0x607)+scratchpadOffset['x']+_0x1c8058(0x7bd)+scratchpadOffset['y']+'px)\x20scale('+scratchpadScale+')'),scratchpadCtx['save'](),scratchpadCtx[_0x1c8058(0x715)](_0x5145e1,0x0,0x0,_0x5145e1,0x0,0x0),scratchpadCtx['clearRect'](0x0,0x0,_0x5759da[_0x1c8058(0x20b)],_0x5759da[_0x1c8058(0x7a3)]),scratchpadCtx['restore'](),scratchpadCtx[_0x1c8058(0x54a)](),scratchpadCtx[_0x1c8058(0x46f)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes['forEach'](_0x1f5459=>{drawStroke(_0x1f5459);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x1c8058(0x491)]();}function renderGroupModeQuestion(){const _0x696b5c=_0x470ff8;if(localQuestionIndex>=currentQuizData['questions'][_0x696b5c(0x9b5)]){displayTeamQuizFinalResults();return;}const _0x4984d7=currentQuizData[_0x696b5c(0x622)][localQuestionIndex],_0x3b23d7=_0x4984d7['questionType']||currentQuizData['quizType'];let _0x3a5910=_0x4984d7['stem']||_0x4984d7['questionText'],_0x259769='';switch(_0x3b23d7){case _0x696b5c(0x4a1):case _0x696b5c(0x232):_0x259769=_0x4984d7[_0x696b5c(0xb6f)][_0x696b5c(0x6b7)]((_0x179110,_0x7be8a1)=>_0x696b5c(0x325)+_0x7be8a1+_0x696b5c(0x28b)+_0x7be8a1+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x7be8a1+'\x22>'+_0x179110+_0x696b5c(0x109))[_0x696b5c(0x221)]('');break;case _0x696b5c(0x618):_0x259769=_0x696b5c(0x3e3);break;case'short_answer':case _0x696b5c(0x9de):_0x259769=_0x696b5c(0x3f6);break;case _0x696b5c(0x43c):_0x259769=_0x696b5c(0x788)+_0x4984d7[_0x696b5c(0xb3e)]['map'](_0x45b980=>_0x696b5c(0x5ea)+_0x45b980+'\x22>'+_0x45b980+_0x696b5c(0x39e))[_0x696b5c(0x221)]('')+_0x696b5c(0x347);break;default:_0x259769=_0x696b5c(0xb60);break;}studentQuizArea[_0x696b5c(0xb6e)]=_0x696b5c(0x3f8)+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData[_0x696b5c(0x622)][_0x696b5c(0x9b5)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20'+localTeamPlayers['join'](',\x20')+_0x696b5c(0x8b3)+(localQuestionIndex+0x1)+'.\x20'+_0x3a5910+_0x696b5c(0x90d)+(_0x4984d7[_0x696b5c(0x4b5)]?_0x696b5c(0x6a7)+_0x4984d7[_0x696b5c(0x4b5)]+_0x696b5c(0x9ab):'')+_0x696b5c(0x2d6)+_0x259769+_0x696b5c(0x67b),studentQuizArea['classList']['remove'](_0x696b5c(0x856));if(window['MathJax'])MathJax['typesetPromise']([studentQuizArea]);document[_0x696b5c(0x8b2)](_0x696b5c(0xb23))[_0x696b5c(0xda)](_0x696b5c(0x896),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x51eb03,_0x6a7460=null,_0x2be5cf,_0x379242=null,_0x340a5a=![]){const _0x3b7909=_0x470ff8,_0x5c9b61=document['getElementById'](_0x3b7909(0x9f5));_0x5c9b61&&_0x5c9b61['scrollIntoView']({'behavior':_0x3b7909(0xa1a),'block':_0x3b7909(0xb29)}),generateQuiz(_0x51eb03,_0x6a7460,null,null,!![],_0x2be5cf,_0x379242,_0x340a5a);}function handleGenerateAndShowLesson(_0x2e140f,_0x4e4c59){const _0x168cde=_0x470ff8,_0x29531c=document['getElementById'](_0x168cde(0xe5)),_0x2a6c3a=document[_0x168cde(0x8b2)]('lesson-view-title'),_0x2a3c2b=document[_0x168cde(0x8b2)](_0x168cde(0x7c9)),_0x3dd1e9=document[_0x168cde(0x8b2)](_0x168cde(0x92d));[_0x168cde(0x7a6),_0x168cde(0x64a),'applicationContent',_0x168cde(0x23b)][_0x168cde(0x501)](_0x78d1cf=>{const _0x4fac22=_0x168cde,_0x32ea6a=document[_0x4fac22(0x8b2)](_0x78d1cf)[_0x4fac22(0x95a)];_0x32ea6a&&(_0x32ea6a['style'][_0x4fac22(0x22e)]=_0x4fac22(0x438));}),_0x2a6c3a[_0x168cde(0x464)]=_0x168cde(0x19e)+_0x2e140f,_0x3dd1e9[_0x168cde(0xaa8)][_0x168cde(0x4de)](_0x168cde(0x856)),_0x2a3c2b['classList'][_0x168cde(0x5b2)](_0x168cde(0x856)),_0x29531c[_0x168cde(0xaa8)][_0x168cde(0x5b2)](_0x168cde(0x856)),generateLesson(_0x2e140f,_0x4e4c59)[_0x168cde(0x690)](_0x119f3a=>{const _0xa4954c=_0x168cde;console[_0xa4954c(0x6c4)](_0xa4954c(0x4fa),_0x119f3a),showMessage('ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้'),_0x29531c[_0xa4954c(0xaa8)][_0xa4954c(0x4de)](_0xa4954c(0x856));});}function handlePointerDown(_0x634e6d){const _0x59a4d3=_0x470ff8;_0x634e6d[_0x59a4d3(0x756)]();const _0x55bd3d=scratchpadCtx['canvas'],_0x3d7d02=_0x55bd3d['getBoundingClientRect'](),_0x3ae3c7=_0x634e6d[_0x59a4d3(0xb51)]||(_0x634e6d[_0x59a4d3(0xa97)]?'touch':_0x59a4d3(0x616));if(_0x3ae3c7===_0x59a4d3(0xa77)||_0x3ae3c7===_0x59a4d3(0x616)){if(_0x634e6d[_0x59a4d3(0xb51)]===_0x59a4d3(0x616)&&_0x634e6d[_0x59a4d3(0x9d2)]!==0x0){_0x634e6d[_0x59a4d3(0x9d2)]===0x1&&(isMousePanning=!![],panStart={'x':_0x634e6d['clientX'],'y':_0x634e6d[_0x59a4d3(0x343)]},_0x55bd3d[_0x59a4d3(0x3cb)][_0x59a4d3(0x1d1)]=_0x59a4d3(0x139));return;}activeTool===_0x59a4d3(0x84f)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x458ccd=getTransformedPoint(_0x634e6d[_0x59a4d3(0x530)]-_0x3d7d02['left'],_0x634e6d['clientY']-_0x3d7d02[_0x59a4d3(0x2a8)]);let _0x12a82b={'tool':activeTool,'points':[_0x458ccd]};if(activeTool==='highlighter')_0x12a82b[_0x59a4d3(0x49c)]=scratchpadHighlighterColor,_0x12a82b[_0x59a4d3(0x40d)]=scratchpadHighlighterSize;else activeTool===_0x59a4d3(0x84f)?(_0x12a82b['color']=scratchpadPenColor,_0x12a82b[_0x59a4d3(0x40d)]=scratchpadPenSize):(_0x12a82b[_0x59a4d3(0x49c)]=scratchpadPenColor,_0x12a82b[_0x59a4d3(0x40d)]=scratchpadPenSize);currentStroke=_0x12a82b;}else _0x634e6d[_0x59a4d3(0xa97)]&&(_0x634e6d[_0x59a4d3(0xa97)][_0x59a4d3(0x9b5)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x634e6d[_0x59a4d3(0xa97)][0x0][_0x59a4d3(0x530)],'y':_0x634e6d['touches'][0x0][_0x59a4d3(0x343)]},{'x':_0x634e6d['touches'][0x1][_0x59a4d3(0x530)],'y':_0x634e6d['touches'][0x1][_0x59a4d3(0x343)]}),initialPinchDistance=getDistance({'x':_0x634e6d['touches'][0x0][_0x59a4d3(0x530)],'y':_0x634e6d['touches'][0x0][_0x59a4d3(0x343)]},{'x':_0x634e6d['touches'][0x1]['clientX'],'y':_0x634e6d[_0x59a4d3(0xa97)][0x1]['clientY']})));}function animateTrail(){const _0x91e88f=_0x470ff8,_0x4371ed=Date['now']();let _0x3b0f60=![];for(let _0xc53dbf=strokes[_0x91e88f(0x9b5)]-0x1;_0xc53dbf>=0x0;_0xc53dbf--){const _0x3fe982=strokes[_0xc53dbf];if(_0x3fe982[_0x91e88f(0x417)]===_0x91e88f(0x84f)&&_0x3fe982['fadeStartTime']){const _0x3664c4=_0x4371ed-_0x3fe982['fadeStartTime'];_0x3664c4>=TRAIL_DURATION?strokes[_0x91e88f(0x754)](_0xc53dbf,0x1):(_0x3fe982['opacity']=0x1-_0x3664c4/TRAIL_DURATION,_0x3b0f60=!![]);}}redrawScratchpad(),_0x3b0f60?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x4f8ad9){const _0x21e760=_0x470ff8;if(!_0x4f8ad9||_0x4f8ad9[_0x21e760(0x36a)][_0x21e760(0x9b5)]<0x1)return;scratchpadCtx[_0x21e760(0x54a)](),scratchpadCtx[_0x21e760(0x583)]=_0x21e760(0x13b),scratchpadCtx[_0x21e760(0x6f0)]='round';if(_0x4f8ad9[_0x21e760(0x417)]===_0x21e760(0x84f)){const _0x636228=_0x4f8ad9[_0x21e760(0x40d)]/scratchpadScale;scratchpadCtx[_0x21e760(0x48f)]=_0x4f8ad9[_0x21e760(0x246)]??0x1,scratchpadCtx[_0x21e760(0xad5)]='rgba(239,\x2068,\x2068,\x200.9)',scratchpadCtx[_0x21e760(0x29a)]=_0x636228*0x3,scratchpadCtx[_0x21e760(0x6de)]=_0x21e760(0x89f),scratchpadCtx['lineWidth']=_0x636228*2.5,scratchpadCtx[_0x21e760(0x864)](),scratchpadCtx[_0x21e760(0x724)](_0x4f8ad9[_0x21e760(0x36a)][0x0]['x'],_0x4f8ad9['points'][0x0]['y']);for(let _0x113552=0x1;_0x113552<_0x4f8ad9[_0x21e760(0x36a)]['length']-0x1;_0x113552++){const _0x34cefa=getMidpoint(_0x4f8ad9['points'][_0x113552],_0x4f8ad9[_0x21e760(0x36a)][_0x113552+0x1]);scratchpadCtx[_0x21e760(0xf8)](_0x4f8ad9[_0x21e760(0x36a)][_0x113552]['x'],_0x4f8ad9[_0x21e760(0x36a)][_0x113552]['y'],_0x34cefa['x'],_0x34cefa['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x21e760(0xad5)]=_0x21e760(0xab1),scratchpadCtx[_0x21e760(0x29a)]=0x0,scratchpadCtx[_0x21e760(0x6de)]='#FFFFFF',scratchpadCtx['lineWidth']=_0x636228,scratchpadCtx['stroke'](),scratchpadCtx[_0x21e760(0x29d)]();}else{if(_0x4f8ad9[_0x21e760(0x417)]===_0x21e760(0x2e9)){scratchpadCtx[_0x21e760(0x425)]=_0x21e760(0x295),scratchpadCtx['strokeStyle']=_0x4f8ad9['color'],scratchpadCtx['lineWidth']=_0x4f8ad9[_0x21e760(0x40d)],scratchpadCtx[_0x21e760(0x864)](),scratchpadCtx[_0x21e760(0x724)](_0x4f8ad9[_0x21e760(0x36a)][0x0]['x'],_0x4f8ad9[_0x21e760(0x36a)][0x0]['y']);for(let _0xcb227f=0x1;_0xcb227f<_0x4f8ad9[_0x21e760(0x36a)]['length']-0x1;_0xcb227f++){const _0x1c0b0a=getMidpoint(_0x4f8ad9[_0x21e760(0x36a)][_0xcb227f],_0x4f8ad9[_0x21e760(0x36a)][_0xcb227f+0x1]);scratchpadCtx[_0x21e760(0xf8)](_0x4f8ad9[_0x21e760(0x36a)][_0xcb227f]['x'],_0x4f8ad9['points'][_0xcb227f]['y'],_0x1c0b0a['x'],_0x1c0b0a['y']);}scratchpadCtx[_0x21e760(0x7d5)](),scratchpadCtx['closePath']();}else{scratchpadCtx['globalCompositeOperation']=_0x4f8ad9[_0x21e760(0x417)]===_0x21e760(0x8a3)?'destination-out':_0x21e760(0x73e),scratchpadCtx[_0x21e760(0x6de)]=_0x4f8ad9[_0x21e760(0x49c)],scratchpadCtx['lineWidth']=_0x4f8ad9[_0x21e760(0x40d)],scratchpadCtx[_0x21e760(0x864)](),scratchpadCtx[_0x21e760(0x724)](_0x4f8ad9['points'][0x0]['x'],_0x4f8ad9[_0x21e760(0x36a)][0x0]['y']);for(let _0x29ddcb=0x1;_0x29ddcb<_0x4f8ad9[_0x21e760(0x36a)][_0x21e760(0x9b5)]-0x1;_0x29ddcb++){const _0x5b0685=getMidpoint(_0x4f8ad9['points'][_0x29ddcb],_0x4f8ad9['points'][_0x29ddcb+0x1]);scratchpadCtx[_0x21e760(0xf8)](_0x4f8ad9[_0x21e760(0x36a)][_0x29ddcb]['x'],_0x4f8ad9[_0x21e760(0x36a)][_0x29ddcb]['y'],_0x5b0685['x'],_0x5b0685['y']);}scratchpadCtx['stroke'](),scratchpadCtx['closePath']();}}scratchpadCtx[_0x21e760(0x491)]();}function handlePointerMove(_0x5447bb){const _0x41234e=_0x470ff8;_0x5447bb[_0x41234e(0x756)]();const _0x57ff2f=scratchpadCtx[_0x41234e(0x818)],_0x130bc0=_0x57ff2f[_0x41234e(0x27d)]();if(_0x5447bb['touches']){if(_0x5447bb[_0x41234e(0xa97)]['length']===0x1&&isDrawingOnScratchpad){const _0x1fe9bd=getTransformedPoint(_0x5447bb[_0x41234e(0xa97)][0x0][_0x41234e(0x530)]-_0x130bc0[_0x41234e(0x935)],_0x5447bb[_0x41234e(0xa97)][0x0][_0x41234e(0x343)]-_0x130bc0[_0x41234e(0x2a8)]);currentStroke['points'][_0x41234e(0xb16)](_0x1fe9bd),redrawScratchpad();}else{if(_0x5447bb[_0x41234e(0xa97)]['length']===0x2&&isPanning){const _0x82096b=getDistance({'x':_0x5447bb['touches'][0x0]['clientX'],'y':_0x5447bb[_0x41234e(0xa97)][0x0][_0x41234e(0x343)]},{'x':_0x5447bb[_0x41234e(0xa97)][0x1][_0x41234e(0x530)],'y':_0x5447bb['touches'][0x1][_0x41234e(0x343)]}),_0x815392=getMidpoint({'x':_0x5447bb['touches'][0x0][_0x41234e(0x530)],'y':_0x5447bb['touches'][0x0][_0x41234e(0x343)]},{'x':_0x5447bb['touches'][0x1][_0x41234e(0x530)],'y':_0x5447bb[_0x41234e(0xa97)][0x1][_0x41234e(0x343)]}),_0x650f6a=_0x82096b/ initialPinchDistance,_0x197b00=Math[_0x41234e(0x7d7)](Math[_0x41234e(0x115)](scratchpadScale*_0x650f6a,MIN_SCALE),MAX_SCALE),_0x46ec82=_0x815392['x']-panStart['x'],_0x5bdf22=_0x815392['y']-panStart['y'];scratchpadOffset['x']=_0x815392['x']-(_0x815392['x']-scratchpadOffset['x'])*(_0x197b00/scratchpadScale),scratchpadOffset['y']=_0x815392['y']-(_0x815392['y']-scratchpadOffset['y'])*(_0x197b00/scratchpadScale),scratchpadOffset['x']+=_0x46ec82,scratchpadOffset['y']+=_0x5bdf22,scratchpadScale=_0x197b00,initialPinchDistance=_0x82096b,panStart=_0x815392,redrawScratchpad();}}}else{if(isMousePanning){const _0x382896=_0x5447bb['clientX']-panStart['x'],_0x14322d=_0x5447bb[_0x41234e(0x343)]-panStart['y'];scratchpadOffset['x']+=_0x382896,scratchpadOffset['y']+=_0x14322d,panStart={'x':_0x5447bb[_0x41234e(0x530)],'y':_0x5447bb['clientY']},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x507cbf=getTransformedPoint(_0x5447bb[_0x41234e(0x530)]-_0x130bc0[_0x41234e(0x935)],_0x5447bb[_0x41234e(0x343)]-_0x130bc0['top']);currentStroke[_0x41234e(0x36a)][_0x41234e(0xb16)](_0x507cbf),redrawScratchpad();}}}}function handlePointerUp(_0x2ba6ec){const _0x212ce1=_0x470ff8;_0x2ba6ec[_0x212ce1(0x756)]();const _0xa9ac0b=scratchpadCtx[_0x212ce1(0x818)];isMousePanning&&(isMousePanning=![],_0xa9ac0b[_0x212ce1(0x3cb)][_0x212ce1(0x1d1)]='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x212ce1(0x36a)][_0x212ce1(0x9b5)]>0x1&&(strokes[_0x212ce1(0xb16)](currentStroke),currentStroke[_0x212ce1(0x417)]===_0x212ce1(0x84f)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x5e0804=_0x212ce1,_0x3a6b64=strokes['filter'](_0x14e549=>_0x14e549[_0x5e0804(0x417)]==='trail'&&!_0x14e549[_0x5e0804(0x37f)]);if(_0x3a6b64[_0x5e0804(0x9b5)]>0x0){const _0xb91c93=Date[_0x5e0804(0x3a4)]();_0x3a6b64['forEach'](_0x258f78=>_0x258f78['fadeStartTime']=_0xb91c93),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x4aebf4){const _0x3c4517=_0x470ff8;_0x4aebf4['preventDefault']();const _0x3a8c7e=_0x4aebf4[_0x3c4517(0x99b)]*-0.005,_0x297163=Math[_0x3c4517(0x7d7)](Math[_0x3c4517(0x115)](scratchpadScale+_0x3a8c7e,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x4aebf4[_0x3c4517(0x530)]-(_0x4aebf4[_0x3c4517(0x530)]-scratchpadOffset['x'])*(_0x297163/scratchpadScale),scratchpadOffset['y']=_0x4aebf4[_0x3c4517(0x343)]-(_0x4aebf4[_0x3c4517(0x343)]-scratchpadOffset['y'])*(_0x297163/scratchpadScale),scratchpadScale=_0x297163,redrawScratchpad();}function undo(){const _0x1cc8ee=_0x470ff8;strokes[_0x1cc8ee(0x9b5)]>0x0&&(redoStrokes['push'](strokes[_0x1cc8ee(0x973)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x5e7ca6=_0x470ff8;redoStrokes[_0x5e7ca6(0x9b5)]>0x0&&(strokes['push'](redoStrokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x2bb001=_0x470ff8;document[_0x2bb001(0x8b2)](_0x2bb001(0x162))[_0x2bb001(0x6cf)]=strokes['length']===0x0,document['getElementById'](_0x2bb001(0x72a))[_0x2bb001(0x6cf)]=redoStrokes[_0x2bb001(0x9b5)]===0x0;}function openScratchpad(_0x4055c9,_0x20051c){const _0x6f3a60=_0x470ff8,_0x558187=document[_0x6f3a60(0x8b2)]('scratchpad-modal'),_0x52250a=document['getElementById'](_0x6f3a60(0xb06)),_0x20c4b5=document[_0x6f3a60(0x8b2)](_0x6f3a60(0x926)),_0x3f3e5c=document[_0x6f3a60(0x8b2)](_0x6f3a60(0x185));_0x52250a[_0x6f3a60(0xb6e)]=_0x4055c9[_0x6f3a60(0x283)]||_0x4055c9[_0x6f3a60(0x16b)],_0x20c4b5['innerHTML']=_0x20051c[_0x6f3a60(0x6b7)]((_0xc831c8,_0x16e214)=>'<div>'+String[_0x6f3a60(0xadf)](0x41+_0x16e214)+'.\x20'+_0xc831c8+_0x6f3a60(0x9ab))[_0x6f3a60(0x221)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x558187[_0x6f3a60(0xaa8)][_0x6f3a60(0x5b2)](_0x6f3a60(0x856)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x6f3a60(0x821)])MathJax[_0x6f3a60(0x697)]([_0x52250a,_0x20c4b5]);}function openBlueprintQuizSettings(){const _0x205c65=_0x470ff8,_0x3826bc=document['getElementById'](_0x205c65(0x352)),_0x553a14=blueprintPageSettings||(currentProjectData?currentProjectData[_0x205c65(0x893)]:{})||{};document[_0x205c65(0x8b2)](_0x205c65(0x8cd))[_0x205c65(0x593)]=_0x553a14['quizType']||document[_0x205c65(0x8b2)]('quiz-type-select')[_0x205c65(0x593)],document[_0x205c65(0x8b2)](_0x205c65(0x9eb))[_0x205c65(0xb6e)]=document[_0x205c65(0x8b2)](_0x205c65(0x869))[_0x205c65(0xb6e)],document['getElementById']('bp-modal-difficulty-level-select')[_0x205c65(0x593)]=_0x553a14['difficultyValue']||document[_0x205c65(0x8b2)](_0x205c65(0x869))['value'],document['getElementById'](_0x205c65(0x163))[_0x205c65(0xb6e)]=document[_0x205c65(0x8b2)](_0x205c65(0x1dd))['innerHTML'],document[_0x205c65(0x8b2)](_0x205c65(0x163))[_0x205c65(0x593)]=_0x553a14[_0x205c65(0x394)]||document['getElementById'](_0x205c65(0x1dd))['value'],document[_0x205c65(0x8b2)]('bp-modal-num-questions')[_0x205c65(0x593)]=_0x553a14[_0x205c65(0xafd)]||document[_0x205c65(0x8b2)](_0x205c65(0x55c))['value'],document[_0x205c65(0x8b2)](_0x205c65(0x749))[_0x205c65(0x593)]=_0x553a14[_0x205c65(0xab2)]||document[_0x205c65(0x8b2)](_0x205c65(0x767))['value'],document['getElementById'](_0x205c65(0x1f5))[_0x205c65(0x593)]=_0x553a14['numChoices']||document[_0x205c65(0x8b2)](_0x205c65(0x7e6))['value'],document[_0x205c65(0x8b2)](_0x205c65(0x391))[_0x205c65(0x593)]=_0x553a14[_0x205c65(0x9f3)]||document[_0x205c65(0x8b2)](_0x205c65(0x13e))['value'],document[_0x205c65(0x8b2)](_0x205c65(0xac3))[_0x205c65(0x25a)]=_0x553a14['includeImages']||document[_0x205c65(0x8b2)](_0x205c65(0x5ca))['checked'],_0x3826bc['classList'][_0x205c65(0x5b2)](_0x205c65(0x856));}function handleSaveBlueprintPageSettings(){const _0x3213a4=_0x470ff8;blueprintPageSettings={'quizType':document[_0x3213a4(0x8b2)]('bp-modal-quiz-type-select')[_0x3213a4(0x593)],'difficultyValue':document[_0x3213a4(0x8b2)]('bp-modal-difficulty-level-select')['value'],'complexityValue':document[_0x3213a4(0x8b2)]('bp-modal-question-complexity-select')[_0x3213a4(0x593)],'numQuestions':document[_0x3213a4(0x8b2)](_0x3213a4(0x140))['value'],'passingScore':document[_0x3213a4(0x8b2)](_0x3213a4(0x749))['value'],'numChoices':document[_0x3213a4(0x8b2)]('bp-modal-num-choices')[_0x3213a4(0x593)],'shuffle':document[_0x3213a4(0x8b2)](_0x3213a4(0x391))[_0x3213a4(0x593)],'includeImages':document[_0x3213a4(0x8b2)](_0x3213a4(0xac3))[_0x3213a4(0x25a)]},showMessage('บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว'),document[_0x3213a4(0x8b2)](_0x3213a4(0x352))['classList'][_0x3213a4(0x4de)]('hidden');}function initializeScratchpadCanvas(){const _0x20da6c=_0x470ff8,_0x15d7a2=document[_0x20da6c(0x8b2)](_0x20da6c(0x2fd)),_0x24c12f=document[_0x20da6c(0x7a8)](_0x20da6c(0x57b));if(!_0x15d7a2||!_0x24c12f)return;scratchpadCtx=_0x15d7a2[_0x20da6c(0x366)]('2d',{'willReadFrequently':!![]});const _0x4ee41d=window[_0x20da6c(0x7c2)]||0x1,_0x49a7fb=_0x24c12f[_0x20da6c(0x27d)]();_0x15d7a2[_0x20da6c(0x20b)]=_0x49a7fb[_0x20da6c(0x20b)]*_0x4ee41d,_0x15d7a2[_0x20da6c(0x7a3)]=_0x49a7fb[_0x20da6c(0x7a3)]*_0x4ee41d,_0x15d7a2[_0x20da6c(0x3cb)][_0x20da6c(0x20b)]=_0x49a7fb['width']+'px',_0x15d7a2[_0x20da6c(0x3cb)][_0x20da6c(0x7a3)]=_0x49a7fb[_0x20da6c(0x7a3)]+'px',scratchpadCtx['scale'](_0x4ee41d,_0x4ee41d),scratchpadCtx['lineJoin']='round',scratchpadCtx['lineCap']=_0x20da6c(0x13b),_0x15d7a2[_0x20da6c(0x9d0)](_0x20da6c(0x147),handlePointerDown),_0x15d7a2[_0x20da6c(0x9d0)](_0x20da6c(0x9e7),handlePointerMove),_0x15d7a2['removeEventListener'](_0x20da6c(0x561),handlePointerUp),_0x15d7a2['removeEventListener'](_0x20da6c(0x6ce),handlePointerUp),_0x15d7a2[_0x20da6c(0x9d0)]('wheel',handleWheel),_0x15d7a2[_0x20da6c(0x9d0)](_0x20da6c(0x9c5),handlePointerDown),_0x15d7a2[_0x20da6c(0x9d0)](_0x20da6c(0x453),handlePointerMove),_0x15d7a2[_0x20da6c(0x9d0)](_0x20da6c(0x3d5),handlePointerUp),_0x15d7a2[_0x20da6c(0xda)](_0x20da6c(0x147),handlePointerDown),_0x15d7a2[_0x20da6c(0xda)](_0x20da6c(0x9e7),handlePointerMove),_0x15d7a2[_0x20da6c(0xda)](_0x20da6c(0x561),handlePointerUp),_0x15d7a2['addEventListener']('pointercancel',handlePointerUp),_0x15d7a2['addEventListener']('wheel',handleWheel,{'passive':![]}),_0x15d7a2[_0x20da6c(0xda)](_0x20da6c(0x9c5),handlePointerDown,{'passive':![]}),_0x15d7a2[_0x20da6c(0xda)](_0x20da6c(0x453),handlePointerMove,{'passive':![]}),_0x15d7a2[_0x20da6c(0xda)]('touchend',handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x484768=_0x470ff8,_0x5f5a62=document[_0x484768(0x8b2)](_0x484768(0xad0)),_0x50cea0=document[_0x484768(0x8b2)](_0x484768(0x185));_0x50cea0['innerHTML']=_0x484768(0x36f)+scratchpadHighlighterSize+_0x484768(0x69a);const _0x16ea09=document[_0x484768(0x8b2)]('pen-tool-btn'),_0x22eab5=document['getElementById'](_0x484768(0x954)),_0xa6ad01=document['getElementById'](_0x484768(0x2bb)),_0x271f8b=document[_0x484768(0x8b2)]('highlighter-tool-btn'),_0x22cc8f=document[_0x484768(0x8b2)](_0x484768(0x434)),_0x1a3407=document[_0x484768(0x8b2)](_0x484768(0x8dc)),_0x599e94=[_0x16ea09,_0x22eab5,_0xa6ad01,_0x271f8b];document['getElementById'](_0x484768(0x7ca))[_0x484768(0xda)](_0x484768(0x896),()=>_0x5f5a62[_0x484768(0xaa8)]['add']('hidden')),document[_0x484768(0x8b2)]('reset-view-btn')[_0x484768(0xda)](_0x484768(0x896),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x484768(0x8b2)]('scratchpad-clear-btn')[_0x484768(0xda)](_0x484768(0x896),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x484768(0x8b2)](_0x484768(0x162))['addEventListener'](_0x484768(0x896),undo),document[_0x484768(0x8b2)](_0x484768(0x72a))[_0x484768(0xda)](_0x484768(0x896),redo);const _0x1f1850=_0x414ba0=>{const _0x1c0aae=_0x484768;_0x599e94[_0x1c0aae(0x501)](_0x89b9bc=>_0x89b9bc[_0x1c0aae(0xaa8)]['remove']('active')),_0x414ba0[_0x1c0aae(0xaa8)][_0x1c0aae(0x4de)](_0x1c0aae(0x3f0));const _0x49a7b3=_0x414ba0===_0x271f8b;_0x22cc8f[_0x1c0aae(0xaa8)][_0x1c0aae(0xa25)](_0x1c0aae(0x856),_0x49a7b3),_0x1a3407[_0x1c0aae(0xaa8)]['toggle'](_0x1c0aae(0x856),!_0x49a7b3);};_0x16ea09[_0x484768(0xda)](_0x484768(0x896),()=>{const _0x26ff0b=_0x484768;activeTool=_0x26ff0b(0xa77),_0x1f1850(_0x16ea09);}),_0x22eab5[_0x484768(0xda)](_0x484768(0x896),()=>{const _0x2c2ce3=_0x484768;activeTool=_0x2c2ce3(0x8a3),_0x1f1850(_0x22eab5);}),_0xa6ad01[_0x484768(0xda)](_0x484768(0x896),()=>{activeTool='trail',_0x1f1850(_0xa6ad01);}),_0x271f8b['addEventListener'](_0x484768(0x896),()=>{const _0x1fcc17=_0x484768;activeTool=_0x1fcc17(0x2e9),_0x1f1850(_0x271f8b);}),_0x22cc8f['querySelectorAll'](_0x484768(0x930))['forEach'](_0x41be1d=>{const _0x1f7f83=_0x484768;_0x41be1d['addEventListener'](_0x1f7f83(0x896),_0x4db742=>{const _0x2805e8=_0x1f7f83;scratchpadPenSize=parseInt(_0x4db742[_0x2805e8(0x5a3)][_0x2805e8(0xad1)][_0x2805e8(0x40d)],0xa),_0x22cc8f['querySelectorAll'](_0x2805e8(0x930))[_0x2805e8(0x501)](_0x208673=>_0x208673[_0x2805e8(0xaa8)][_0x2805e8(0x5b2)]('active')),_0x4db742[_0x2805e8(0x5a3)][_0x2805e8(0xaa8)][_0x2805e8(0x4de)](_0x2805e8(0x3f0));});}),_0x22cc8f['querySelectorAll'](_0x484768(0x2f5))[_0x484768(0x501)](_0x441e92=>{const _0x5c263a=_0x484768;_0x441e92[_0x5c263a(0xda)](_0x5c263a(0x896),_0xc98b6e=>{const _0x2461a8=_0x5c263a;scratchpadPenColor=_0xc98b6e[_0x2461a8(0x5a3)][_0x2461a8(0xad1)][_0x2461a8(0x49c)],_0x22cc8f[_0x2461a8(0x9c4)](_0x2461a8(0x2f5))['forEach'](_0x3b0cf4=>_0x3b0cf4[_0x2461a8(0xaa8)][_0x2461a8(0x5b2)](_0x2461a8(0x3f0))),_0xc98b6e[_0x2461a8(0x5a3)][_0x2461a8(0xaa8)]['add'](_0x2461a8(0x3f0));});}),_0x1a3407[_0x484768(0x9c4)]('.highlighter-color-btn')[_0x484768(0x501)](_0x35ed4a=>{const _0x53026e=_0x484768;_0x35ed4a[_0x53026e(0xda)]('click',_0x240115=>{const _0x1e281c=_0x53026e;scratchpadHighlighterColor=_0x240115['target']['dataset'][_0x1e281c(0x49c)],_0x1a3407[_0x1e281c(0x9c4)](_0x1e281c(0x639))[_0x1e281c(0x501)](_0xc4b6ac=>_0xc4b6ac['classList']['remove'](_0x1e281c(0x3f0))),_0x240115[_0x1e281c(0x5a3)][_0x1e281c(0xaa8)][_0x1e281c(0x4de)](_0x1e281c(0x3f0));});});const _0x444d9e=document[_0x484768(0x8b2)](_0x484768(0x320)),_0x263b27=document[_0x484768(0x8b2)](_0x484768(0x46d));_0x444d9e[_0x484768(0xda)](_0x484768(0x26b),_0x48aa83=>{const _0x491935=_0x484768,_0x7bd0fd=parseInt(_0x48aa83[_0x491935(0x5a3)][_0x491935(0x593)],0xa);scratchpadHighlighterSize=_0x7bd0fd,_0x263b27[_0x491935(0x464)]=_0x7bd0fd;}),window['addEventListener'](_0x484768(0x79c),()=>{const _0x4cf301=_0x484768;!_0x5f5a62[_0x4cf301(0xaa8)]['contains'](_0x4cf301(0x856))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x470ff8(0x808),'name':'คะแนนเต็ม','description':_0x470ff8(0x727),'icon':_0x470ff8(0x714)},'QUICK_THINKER':{'id':_0x470ff8(0x411),'name':'เซียนสมองไว','description':_0x470ff8(0x324),'icon':_0x470ff8(0xfa)},'ON_FIRE':{'id':_0x470ff8(0x527),'name':_0x470ff8(0x858),'description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0x470ff8(0x5e7)},'FIRST_TRY_ACE':{'id':_0x470ff8(0x5fc),'name':_0x470ff8(0x7d9),'description':_0x470ff8(0x5ce),'icon':_0x470ff8(0x78d)},'COMEBACK_KING':{'id':_0x470ff8(0x6f9),'name':_0x470ff8(0x146),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x470ff8(0x800)},'SPECIALIST':{'id':_0x470ff8(0x990),'name':'ผู้เชี่ยวชาญ','description':_0x470ff8(0x2b6),'icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':_0x470ff8(0xa4d),'name':_0x470ff8(0x473),'description':_0x470ff8(0x36e),'icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0x470ff8(0x2bf),'authDomain':_0x470ff8(0x9e3),'projectId':_0x470ff8(0x465),'storageBucket':_0x470ff8(0x5bf),'messagingSenderId':_0x470ff8(0x256),'appId':_0x470ff8(0x384),'measurementId':_0x470ff8(0x499)},appId=typeof __app_id!==_0x470ff8(0x646)?__app_id:_0x470ff8(0x5ee),adminView=document['getElementById'](_0x470ff8(0x484)),studentView=document['getElementById'](_0x470ff8(0x78e)),projectDashboardView=document[_0x470ff8(0x8b2)]('project-dashboard-view'),projectDetailView=document[_0x470ff8(0x8b2)](_0x470ff8(0x189)),quizResultsView=document[_0x470ff8(0x8b2)](_0x470ff8(0x6ca)),projectList=document[_0x470ff8(0x8b2)](_0x470ff8(0x700)),noProjectsMsg=document[_0x470ff8(0x8b2)](_0x470ff8(0x686)),projectTitle=document[_0x470ff8(0x8b2)]('project-title'),projectIdDisplay=document[_0x470ff8(0x8b2)]('project-id-display'),studentList=document[_0x470ff8(0x8b2)](_0x470ff8(0x535)),messageModal=document['getElementById'](_0x470ff8(0xa5a)),modalMessage=document[_0x470ff8(0x8b2)]('modal-message'),createProjectModal=document[_0x470ff8(0x8b2)](_0x470ff8(0x1a2)),adminPasswordModal=document[_0x470ff8(0x8b2)](_0x470ff8(0x427)),confirmationModal=document[_0x470ff8(0x8b2)](_0x470ff8(0x37c)),userIdDisplay=document[_0x470ff8(0x8b2)]('user-id-display'),topicTab=document[_0x470ff8(0x8b2)](_0x470ff8(0x227)),textTab=document[_0x470ff8(0x8b2)](_0x470ff8(0x61e)),topicInputArea=document['getElementById'](_0x470ff8(0x209)),textInputArea=document[_0x470ff8(0x8b2)]('text-input-area'),manageTab=document['getElementById'](_0x470ff8(0x34d)),resultsTab=document[_0x470ff8(0x8b2)](_0x470ff8(0x977)),leaderboardTab=document['getElementById'](_0x470ff8(0x7f4)),manageTabContent=document['getElementById'](_0x470ff8(0x4fb)),resultsTabContent=document[_0x470ff8(0x8b2)]('results-tab-content'),leaderboardTabContent=document['getElementById'](_0x470ff8(0x299)),projectQuizzesList=document['getElementById'](_0x470ff8(0x82f)),fileTab=document[_0x470ff8(0x8b2)]('file-tab'),fileInputArea=document['getElementById'](_0x470ff8(0x145)),fileUploadInput=document[_0x470ff8(0x8b2)](_0x470ff8(0x164)),worksheetTab=document['getElementById']('worksheet-tab'),worksheetInputArea=document[_0x470ff8(0x8b2)](_0x470ff8(0x91f)),generateWorksheetBtn=document[_0x470ff8(0x8b2)](_0x470ff8(0x69d)),studentInitialView=document[_0x470ff8(0x8b2)](_0x470ff8(0x389)),studentNameSelectionView=document[_0x470ff8(0x8b2)](_0x470ff8(0xa00)),studentQuizArea=document['getElementById'](_0x470ff8(0x5bc)),studentResultArea=document[_0x470ff8(0x8b2)](_0x470ff8(0x6b9)),studentReadingArea=document[_0x470ff8(0x8b2)]('student-reading-area'),loadQuizBtn=document[_0x470ff8(0x8b2)](_0x470ff8(0x9a6)),startQuizBtn=document[_0x470ff8(0x8b2)](_0x470ff8(0x49d)),studentJoinGameView=document[_0x470ff8(0x8b2)](_0x470ff8(0x642)),presentationModal=document[_0x470ff8(0x8b2)]('presentation-modal'),renameQuizModal=document[_0x470ff8(0x8b2)](_0x470ff8(0x58e)),moveQuizModal=document[_0x470ff8(0x8b2)](_0x470ff8(0x218)),quizSettingsModal=document[_0x470ff8(0x8b2)](_0x470ff8(0x62f)),quizStatusModal=document[_0x470ff8(0x8b2)](_0x470ff8(0x60f)),liveGameView=document[_0x470ff8(0x8b2)](_0x470ff8(0x22a));function handleFixLessonLatex(){const _0x5512f2=_0x470ff8,_0x1ba1fd=document[_0x5512f2(0x8b2)](_0x5512f2(0xb1a));if(!_0x1ba1fd){showMessage(_0x5512f2(0x458));return;}const _0x5d3a8a=_0x1ba1fd[_0x5512f2(0x9c4)]([_0x5512f2(0x871),'.ai-content\x20li',_0x5512f2(0x19c),'.ai-content\x20td',_0x5512f2(0x6c7)]['join'](','));let _0x5b015c=0x0;const _0x19a103=_0x3fdaa6=>_0x3fdaa6[_0x5512f2(0x464)]||'',_0x405093=(_0x27bd36,_0x31ff9f)=>{const _0x53b178=_0x5512f2;if(_0x27bd36['querySelector']&&_0x27bd36['querySelector'](_0x53b178(0x6e3)))return;_0x27bd36[_0x53b178(0x464)]=_0x31ff9f;},_0x3aa8ba=_0x16b657=>_0x16b657['replace'](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x289a25=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x4e4569=_0x5cf140=>{const _0x27f368=_0x5512f2;let _0x307009=_0x5cf140[_0x27f368(0xf2)]();const _0x66d90d=['frac',_0x27f368(0x356),_0x27f368(0x3cf),_0x27f368(0x270),'text',_0x27f368(0x3e4),_0x27f368(0x5f4),_0x27f368(0x4a0),_0x27f368(0xb25),'geq','le','ge',_0x27f368(0x284),'pm',_0x27f368(0x375),_0x27f368(0x4db),_0x27f368(0x789),_0x27f368(0x5a8),_0x27f368(0x638),'ln',_0x27f368(0x987),_0x27f368(0x75d),_0x27f368(0x336),_0x27f368(0x935),_0x27f368(0xab9),'overline',_0x27f368(0x8bc),_0x27f368(0x3c2),'deg'];_0x66d90d['forEach'](_0x53234e=>{const _0x374669=_0x27f368;_0x307009=_0x307009[_0x374669(0x214)](new RegExp(_0x374669(0xa9c)+_0x53234e+'\x5cb','g'),(_0x4ba537,_0x160892)=>_0x160892+'\x5c'+_0x53234e);});const _0x5218aa=[[/×/g,_0x27f368(0x84e)],[/·/g,'\x5ccdot'],[/÷/g,_0x27f368(0xa76)],[/≤/g,_0x27f368(0x65b)],[/≥/g,_0x27f368(0x9a4)],[/≠/g,'\x5cneq'],[/±/g,_0x27f368(0x259)],[/∑/g,_0x27f368(0x938)],[/−/g,'-']];return _0x5218aa['forEach'](([_0x28987d,_0x57aeec])=>{const _0x21c875=_0x27f368;_0x307009=_0x307009[_0x21c875(0x214)](_0x28987d,_0x57aeec);}),_0x307009=_0x307009['replace'](/√\s*([A-Za-z0-9]+)/g,_0x27f368(0x634)),_0x307009=_0x307009[_0x27f368(0x214)](/(\d+)\s*%/g,'$1\x5c%'),_0x307009;},_0x249383=_0x43b07d=>{const _0x13ffae=_0x5512f2;if(/\$|\\\(|\\\[/[_0x13ffae(0x5b7)](_0x43b07d))return _0x43b07d;if(!_0x289a25[_0x13ffae(0x5b7)](_0x43b07d))return _0x43b07d;const _0x2d63ab=_0x43b07d[_0x13ffae(0x76f)](/^\s*/)[0x0],_0xd493=_0x43b07d['match'](/\s*$/)[0x0],_0x22c217=_0x43b07d[_0x13ffae(0xf2)]();return _0x2d63ab+'$'+_0x4e4569(_0x22c217)+'$'+_0xd493;};_0x5d3a8a['forEach'](_0x17c5d7=>{const _0x4e1e01=_0x5512f2,_0x3356e6=_0x19a103(_0x17c5d7);let _0x196419=_0x3aa8ba(_0x3356e6);_0x196419=_0x196419['replace'](/\$([^$]*?)\$/g,(_0xeaca1f,_0x3a60b2)=>'$'+_0x4e4569(_0x3a60b2)+'$');const _0x4856ad=_0x196419['split'](/(\s+)/),_0x38138c=_0x4856ad['map'](_0x34a3d5=>{const _0x116bea=_0xb340;if(/\s+/[_0x116bea(0x5b7)](_0x34a3d5))return _0x34a3d5;return _0x249383(_0x34a3d5);});_0x196419=_0x38138c[_0x4e1e01(0x221)](''),_0x196419!==_0x3356e6&&(_0x405093(_0x17c5d7,_0x196419),_0x5b015c++);});if(_0x5b015c>0x0){showMessage(_0x5512f2(0x1a8)+_0x5b015c+'\x20จุดเรียบร้อยแล้ว');try{window[_0x5512f2(0x821)]&&MathJax[_0x5512f2(0x697)]&&MathJax[_0x5512f2(0x697)]([_0x1ba1fd]);}catch(_0x160a66){console[_0x5512f2(0x6c4)](_0x5512f2(0xa2e),_0x160a66);}}else showMessage('ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม');}function handleAutoFixLatex(){const _0x235ff=_0x470ff8,_0x2a1076=document['getElementById'](_0x235ff(0xec))||document,_0x5f2904=_0x2a1076[_0x235ff(0x9c4)]('textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li');let _0x305574=0x0;const _0xb4e6c=_0x1ee158=>_0x235ff(0x593)in _0x1ee158?String(_0x1ee158[_0x235ff(0x593)]):_0x1ee158[_0x235ff(0x45c)]!==undefined?_0x1ee158[_0x235ff(0x45c)]:_0x1ee158[_0x235ff(0x464)]||'',_0x69d417=(_0x58e19a,_0x3b6cff)=>{const _0x2ada3e=_0x235ff;if(_0x2ada3e(0x593)in _0x58e19a){_0x58e19a[_0x2ada3e(0x593)]=_0x3b6cff;return;}if(_0x58e19a[_0x2ada3e(0x7a8)]&&_0x58e19a['querySelector'](_0x2ada3e(0x6e3)))return;if(_0x58e19a[_0x2ada3e(0x45c)]!==undefined)_0x58e19a[_0x2ada3e(0x45c)]=_0x3b6cff;else _0x58e19a[_0x2ada3e(0x464)]=_0x3b6cff;},_0x1fc1e5=_0x48a4d2=>_0x48a4d2[_0x235ff(0x214)](/\u00A0/g,'\x20')[_0x235ff(0x214)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x1b354f=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x5e43c0=_0x4a0f5c=>{const _0x484f8c=_0x235ff;let _0x25b199=_0x4a0f5c[_0x484f8c(0xf2)]();_0x25b199=_0x25b199[_0x484f8c(0x214)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,'\x5cfrac{$1}{$2}'),_0x25b199=_0x25b199[_0x484f8c(0x214)](/\bfrac(\d)(\d)/g,_0x484f8c(0x71d));const _0x8da8df=['frac','sqrt',_0x484f8c(0x3e4),_0x484f8c(0x5f4),_0x484f8c(0x4a0),_0x484f8c(0xb25),'geq',_0x484f8c(0x284),'pm',_0x484f8c(0x4db),'cos','tan',_0x484f8c(0x638),'ln'];_0x8da8df['forEach'](_0x37d1d2=>{const _0x49a4e6=_0x484f8c;_0x25b199=_0x25b199[_0x49a4e6(0x214)](new RegExp(_0x49a4e6(0xa9c)+_0x37d1d2+'\x5cb','g'),(_0x313c75,_0x2380f6)=>_0x2380f6+'\x5c'+_0x37d1d2);});const _0x27bd14=[[/×/g,_0x484f8c(0x84e)],[/·/g,_0x484f8c(0x8f0)],[/÷/g,_0x484f8c(0xa76)],[/≤/g,_0x484f8c(0x65b)],[/≥/g,_0x484f8c(0x9a4)],[/≠/g,_0x484f8c(0x1db)],[/±/g,_0x484f8c(0x259)]];return _0x27bd14[_0x484f8c(0x501)](([_0x2a7dc0,_0x48b1e5])=>{_0x25b199=_0x25b199['replace'](_0x2a7dc0,_0x48b1e5);}),_0x25b199;},_0x17dbc1=_0x38c06e=>{const _0x3226e2=_0x235ff;if(/\$|\\\(|\\\[/['test'](_0x38c06e))return _0x38c06e;if(!_0x1b354f[_0x3226e2(0x5b7)](_0x38c06e))return _0x38c06e;const _0x377bb7=_0x38c06e[_0x3226e2(0x76f)](/^\s*/)[0x0],_0x39d906=_0x38c06e[_0x3226e2(0x76f)](/\s*$/)[0x0],_0x3552c0=_0x38c06e[_0x3226e2(0xf2)]();return _0x377bb7+'$'+_0x5e43c0(_0x3552c0)+'$'+_0x39d906;};_0x5f2904[_0x235ff(0x501)](_0x233a0e=>{const _0x43084f=_0x235ff,_0x5bb93d=_0xb4e6c(_0x233a0e);let _0x8e68da=_0x1fc1e5(_0x5bb93d);_0x8e68da=_0x8e68da[_0x43084f(0x214)](/\$([^$]*?)\$/g,(_0x22930e,_0x241d69)=>'$'+_0x5e43c0(_0x241d69)+'$');const _0x2ce89c=_0x8e68da[_0x43084f(0x3b0)](/(\s+)/),_0x1707ca=_0x2ce89c[_0x43084f(0x6b7)](_0x4453dd=>/\s+/[_0x43084f(0x5b7)](_0x4453dd)?_0x4453dd:_0x17dbc1(_0x4453dd));_0x8e68da=_0x1707ca[_0x43084f(0x221)](''),_0x8e68da!==_0x5bb93d&&(_0x69d417(_0x233a0e,_0x8e68da),_0x305574++);});if(_0x305574>0x0){showMessage(_0x235ff(0xafc)+_0x305574+'\x20จุด');try{if(window[_0x235ff(0x821)]&&MathJax[_0x235ff(0x697)])MathJax[_0x235ff(0x697)]();}catch(_0x2e9212){}}else showMessage('ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม');}async function listenForCustomMathTopics(){const _0x2b04fa=_0x470ff8,_0x4485ab=collection(db,_0x2b04fa(0x718)+appId+_0x2b04fa(0x43f));onSnapshot(_0x4485ab,_0x14c2bf=>{const _0x4f1760=_0x2b04fa;customMathTopics=_0x14c2bf[_0x4f1760(0xa1f)][_0x4f1760(0x6b7)](_0x2b9d52=>({'id':_0x2b9d52['id'],..._0x2b9d52['data']()})),renderTopicCheckboxes();},_0x184eca=>{const _0x431609=_0x2b04fa;console[_0x431609(0x6c4)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x184eca);});}function handleSelectAllTopics(){const _0x3e1e8b=_0x470ff8,_0xa5e934=document[_0x3e1e8b(0x8b2)]('math-topics-checkbox-container'),_0x1766eb=_0xa5e934['querySelectorAll'](_0x3e1e8b(0x70e));_0x1766eb[_0x3e1e8b(0x501)](_0x24ee29=>{_0x24ee29['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x397455=_0x470ff8,_0x472dbe=document[_0x397455(0x8b2)]('math-topics-checkbox-container'),_0x415956=_0x472dbe['querySelectorAll']('input[type=\x22checkbox\x22]');_0x415956[_0x397455(0x501)](_0x1ff7d4=>{_0x1ff7d4['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x2e5ca7){const _0x75faad=_0x470ff8;if(!_0x2e5ca7)return;try{const _0x427a08=doc(db,_0x75faad(0x718)+appId+_0x75faad(0x43f),_0x2e5ca7);await deleteDoc(_0x427a08),showMessage(_0x75faad(0x255));}catch(_0x4b62f3){console[_0x75faad(0x6c4)]('Error\x20deleting\x20custom\x20topic:',_0x4b62f3),showMessage(_0x75faad(0x1d5));}}async function handleAddCustomMathTopic(){const _0x1435e6=_0x470ff8,_0x4a1af2=document[_0x1435e6(0x8b2)]('custom-math-topic-input'),_0x27ae41=_0x4a1af2['value'][_0x1435e6(0xf2)]();if(!_0x27ae41){showMessage(_0x1435e6(0x7c4));return;}if(!userId){showMessage(_0x1435e6(0x76a));return;}try{const _0x2753d3=collection(db,'artifacts/'+appId+_0x1435e6(0x43f));await addDoc(_0x2753d3,{'name':_0x27ae41,'createdAt':serverTimestamp()}),_0x4a1af2[_0x1435e6(0x593)]='',showMessage(_0x1435e6(0xaca)+_0x27ae41+'\x22\x20สำเร็จ');}catch(_0x523ba7){console['error'](_0x1435e6(0x416),_0x523ba7),showMessage(_0x1435e6(0x127));}}async function handleUpdateOldQuizzes(){showConfirmation('คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ',async()=>{const _0x55981f=_0xb340,_0xf82be6=document[_0x55981f(0x8b2)]('loader'),_0x210974=document['getElementById'](_0x55981f(0x4fd)),_0x1ebc15=_0x210974['textContent'];_0xf82be6[_0x55981f(0xaa8)][_0x55981f(0x5b2)](_0x55981f(0x856)),_0x210974[_0x55981f(0x464)]=_0x55981f(0x8ef);try{const _0x2fe945=collection(db,_0x55981f(0x718)+appId+_0x55981f(0x51f)),_0x1da4d8=await getDocs(_0x2fe945);if(_0x1da4d8[_0x55981f(0x5ff)]){showMessage(_0x55981f(0x515));return;}const _0x50b526=writeBatch(db);let _0xf27b78=0x0;_0x1da4d8[_0x55981f(0x501)](_0x522e33=>{const _0x7e5dcc=_0x55981f,_0x3c834f=_0x522e33['data'](),_0x3c2333=_0x522e33['id'];if(_0x3c834f[_0x7e5dcc(0x622)]&&_0x3c834f[_0x7e5dcc(0x622)][_0x7e5dcc(0x9b5)]>0x0&&!_0x3c834f['questions'][0x0][_0x7e5dcc(0xa6e)]('id')){console['log'](_0x7e5dcc(0x7f0)+_0x3c2333+'\x20('+_0x3c834f[_0x7e5dcc(0x1bc)]+')'),_0xf27b78++;const _0x175f86=_0x3c834f[_0x7e5dcc(0x622)]['map']((_0x15a325,_0x534c39)=>{const _0x5260a5=_0x7e5dcc;return{..._0x15a325,'id':_0x15a325['id']||'q_'+Date[_0x5260a5(0x3a4)]()+'_'+_0x3c2333+'_'+_0x534c39};}),_0x459c64=doc(db,'artifacts/'+appId+_0x7e5dcc(0x51f),_0x3c2333);_0x50b526[_0x7e5dcc(0x1fb)](_0x459c64,{'questions':_0x175f86});}}),_0xf27b78>0x0?(_0x210974[_0x55981f(0x464)]='กำลังอัปเดตแบบทดสอบ\x20'+_0xf27b78+_0x55981f(0x3db),await _0x50b526[_0x55981f(0x775)](),showMessage(_0x55981f(0x3ad)+_0xf27b78+'\x20รายการสำเร็จ!')):showMessage(_0x55981f(0x95f));}catch(_0x3d4d34){console['error'](_0x55981f(0xb0c),_0x3d4d34),showMessage('เกิดข้อผิดพลาดในการอัปเดต:\x20'+_0x3d4d34[_0x55981f(0x80a)]);}finally{_0xf82be6[_0x55981f(0xaa8)][_0x55981f(0x4de)]('hidden'),_0x210974[_0x55981f(0x464)]=_0x1ebc15;}});}async function handleBulkUpdateQuizSettings(){const _0x25afb2=_0x470ff8,_0x5670ae={'shuffle':document[_0x25afb2(0x8b2)](_0x25afb2(0x3c6))[_0x25afb2(0x593)],'resultsDisplay':document[_0x25afb2(0x8b2)](_0x25afb2(0xa39))[_0x25afb2(0x593)],'loopUntilPass':document[_0x25afb2(0x8b2)](_0x25afb2(0x7fb))[_0x25afb2(0x25a)],'isConfidenceScoringEnabled':document['getElementById'](_0x25afb2(0x65d))[_0x25afb2(0x25a)],'confidenceMode':document[_0x25afb2(0x8b2)]('bulk-confidence-mode-select')[_0x25afb2(0x593)]};try{showMessage('กำลังตรวจสอบรายการแบบทดสอบล่าสุด...');const _0x1364ba=await getDocs(collection(db,_0x25afb2(0x718)+appId+_0x25afb2(0x51f))),_0x145149=_0x1364ba[_0x25afb2(0xa1f)][_0x25afb2(0x6b7)](_0x453434=>({'id':_0x453434['id'],'data':_0x453434[_0x25afb2(0x79e)]()})),_0x505671=_0x145149['length'];showConfirmation(_0x25afb2(0x3d4)+_0x505671+_0x25afb2(0x62c),async()=>{const _0x124399=_0x25afb2,_0x2dea36=document[_0x124399(0x8b2)](_0x124399(0x87f));_0x2dea36[_0x124399(0x6cf)]=!![],_0x2dea36[_0x124399(0xb6e)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...';try{const _0x5eea55=writeBatch(db);_0x145149[_0x124399(0x501)](_0x53ca44=>{const _0x592486=_0x124399,_0x53251d=doc(db,'artifacts/'+appId+_0x592486(0x51f),_0x53ca44['id']),_0x47a674={..._0x53ca44[_0x592486(0x79e)][_0x592486(0x893)]||{},..._0x5670ae};_0x5eea55['update'](_0x53251d,{'settings':_0x47a674});}),await _0x5eea55[_0x124399(0x775)](),document['getElementById']('bulk-quiz-settings-modal')[_0x124399(0xaa8)][_0x124399(0x4de)](_0x124399(0x856)),showMessage('อัปเดตการตั้งค่าของแบบทดสอบ\x20'+_0x505671+_0x124399(0xb10));}catch(_0x189e81){console['error']('Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):',_0x189e81),showMessage(_0x124399(0x689));}finally{_0x2dea36['disabled']=![],_0x2dea36['innerHTML']=_0x124399(0x8f4);}});}catch(_0x55b8eb){console[_0x25afb2(0x6c4)](_0x25afb2(0x55d),_0x55b8eb),showMessage(_0x25afb2(0x271));}}async function handleSaveProjectName(){const _0x3d01b8=_0x470ff8,_0x19f60d=document[_0x3d01b8(0x8b2)](_0x3d01b8(0x614)),_0x34744c=document[_0x3d01b8(0x8b2)](_0x3d01b8(0x6be)),_0x139b44=_0x19f60d[_0x3d01b8(0x464)]['trim']();if(!_0x139b44||!currentProjectId){showMessage(_0x3d01b8(0xf3)),_0x19f60d[_0x3d01b8(0x464)]=currentProjectData[_0x3d01b8(0x31e)];return;}_0x34744c[_0x3d01b8(0x6cf)]=!![],_0x34744c[_0x3d01b8(0xb6e)]=_0x3d01b8(0x96f);try{const _0x188898=doc(db,'artifacts/'+appId+_0x3d01b8(0xb58),currentProjectId);await updateDoc(_0x188898,{'projectName':_0x139b44}),currentProjectData&&(currentProjectData['projectName']=_0x139b44),showMessage(_0x3d01b8(0x2dd));}catch(_0x1d49f1){console[_0x3d01b8(0x6c4)](_0x3d01b8(0x27e),_0x1d49f1),showMessage(_0x3d01b8(0x1e5)),_0x19f60d[_0x3d01b8(0x464)]=currentProjectData[_0x3d01b8(0x31e)];}finally{_0x34744c[_0x3d01b8(0xaa8)][_0x3d01b8(0x4de)](_0x3d01b8(0x856)),_0x34744c[_0x3d01b8(0x6cf)]=![],_0x34744c['innerHTML']='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก';}}function handleGeneratePracticeTest(_0x40a76f,_0x331b96){const _0x3cd402=_0x470ff8,_0x771b86=document[_0x3cd402(0x8b2)]('lesson-view-modal'),_0x38f631=document[_0x3cd402(0x8b2)](_0x3cd402(0xb62)),_0x132b17=document[_0x3cd402(0x8b2)](_0x3cd402(0x7c9)),_0x41b202=document[_0x3cd402(0x8b2)](_0x3cd402(0x92d));_0x38f631[_0x3cd402(0x464)]='กำลังสร้างแบบทดสอบ:\x20'+_0x40a76f,_0x41b202['classList'][_0x3cd402(0x4de)](_0x3cd402(0x856)),_0x132b17[_0x3cd402(0xaa8)]['remove'](_0x3cd402(0x856)),_0x771b86[_0x3cd402(0xaa8)][_0x3cd402(0x5b2)]('hidden'),generatePracticeTest(_0x40a76f,_0x331b96)[_0x3cd402(0x690)](_0x348e85=>{const _0x78fe9b=_0x3cd402;console[_0x78fe9b(0x6c4)](_0x78fe9b(0x2fa),_0x348e85),showMessage(_0x78fe9b(0x4ac)),_0x771b86['classList']['add']('hidden');});}async function generatePracticeTest(_0x348f2a,_0x2754e4){const _0x5ae3be=_0x470ff8;[_0x5ae3be(0x7a6),_0x5ae3be(0x64a),_0x5ae3be(0x8b0),'summaryContent'][_0x5ae3be(0x501)](_0x545446=>{const _0x45a4ae=_0x5ae3be,_0x1fddf0=document[_0x45a4ae(0x8b2)](_0x545446)[_0x45a4ae(0x95a)];_0x1fddf0&&(_0x1fddf0[_0x45a4ae(0x3cb)]['display']=_0x45a4ae(0x61b));});try{const _0x41ecdb='โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด',_0x34cdb8=_0x5ae3be(0x2e8)+_0x2754e4+_0x5ae3be(0x53a)+_0x348f2a+_0x5ae3be(0x573),_0x5dbb9b=await callGemini(_0x34cdb8,!![]),_0x1bed4d=document[_0x5ae3be(0x8b2)]('lesson-view-title'),_0x56ecfd=document['getElementById']('lesson-loader'),_0x186b10=document['getElementById'](_0x5ae3be(0x92d)),_0x7ac01d=document['getElementById']('applicationContent')['parentElement'];_0x1bed4d[_0x5ae3be(0x45c)]=_0x5ae3be(0x98a)+_0x348f2a[_0x5ae3be(0x214)](/•\s/g,'')+_0x5ae3be(0x383)+_0x2754e4+')',currentApplicationData=JSON[_0x5ae3be(0x25b)](_0x5dbb9b);const _0x3b49dd=document[_0x5ae3be(0x8b2)](_0x5ae3be(0x8b0));_0x3b49dd['innerHTML']=currentApplicationData[_0x5ae3be(0x6b7)]((_0x2a6a86,_0x45531f)=>_0x5ae3be(0x208)+(_0x45531f+0x1)+'.\x20'+marked[_0x5ae3be(0x9be)](_0x2a6a86[_0x5ae3be(0x241)])+_0x5ae3be(0x1b0)+_0x45531f+_0x5ae3be(0x4d6)+_0x2a6a86[_0x5ae3be(0xb6f)][_0x5ae3be(0x6b7)]((_0xe3bc06,_0x12b6ed)=>_0x5ae3be(0x842)+_0x45531f+',\x20'+_0x12b6ed+_0x5ae3be(0x91c)+String[_0x5ae3be(0xadf)](0x61+_0x12b6ed)+'.\x20'+marked[_0x5ae3be(0x9be)](_0xe3bc06)+_0x5ae3be(0x3e6))[_0x5ae3be(0x221)]('')+_0x5ae3be(0x6e0))[_0x5ae3be(0x221)](''),window[_0x5ae3be(0x821)]&&MathJax[_0x5ae3be(0x697)]([_0x3b49dd]),_0x7ac01d&&(_0x7ac01d[_0x5ae3be(0x3cb)][_0x5ae3be(0x22e)]=_0x5ae3be(0x438)),_0x56ecfd[_0x5ae3be(0xaa8)]['add'](_0x5ae3be(0x856)),_0x186b10[_0x5ae3be(0xaa8)][_0x5ae3be(0x5b2)](_0x5ae3be(0x856));}catch(_0x592897){console[_0x5ae3be(0x6c4)](_0x592897);throw _0x592897;}}async function callGemini(_0x16cdb8,_0x127244=![]){const _0x2f5121=_0x470ff8,_0x377eec='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x37c16f='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x377eec,_0x3c985={'contents':[{'parts':[{'text':_0x16cdb8}]}]};_0x127244&&(_0x3c985[_0x2f5121(0x929)]={'responseMimeType':'application/json'},_0x16cdb8[_0x2f5121(0xa57)](_0x2f5121(0x890))?_0x3c985[_0x2f5121(0x929)]['responseSchema']={'type':'OBJECT','properties':{'gradeLevel':{'type':_0x2f5121(0xb2a)},'curriculum':{'type':_0x2f5121(0x1f9),'items':{'type':_0x2f5121(0x882),'properties':{'sara':{'type':_0x2f5121(0xb2a)},'mainTopics':{'type':_0x2f5121(0x1f9),'items':{'type':_0x2f5121(0x882),'properties':{'topicName':{'type':_0x2f5121(0xb2a)},'subTopics':{'type':_0x2f5121(0x1f9),'items':{'type':'STRING'}}},'required':[_0x2f5121(0x100),_0x2f5121(0xae6)]}}},'required':['sara','mainTopics']}}},'required':[_0x2f5121(0x61c),_0x2f5121(0x825)]}:_0x3c985['generationConfig'][_0x2f5121(0x6a0)]={'type':_0x2f5121(0x1f9),'items':{'type':_0x2f5121(0x882),'properties':{'question':{'type':_0x2f5121(0xb2a)},'options':{'type':_0x2f5121(0x1f9),'items':{'type':_0x2f5121(0xb2a)}},'answer':{'type':_0x2f5121(0x84b)}},'required':[_0x2f5121(0x241),'options',_0x2f5121(0x729)]}});try{const _0x28aa70=await fetch(_0x37c16f,{'method':_0x2f5121(0x443),'headers':{'Content-Type':'application/json'},'body':JSON[_0x2f5121(0x1b9)](_0x3c985)});if(!_0x28aa70['ok']){const _0x3ac0d9=await _0x28aa70[_0x2f5121(0x12b)]();console[_0x2f5121(0x6c4)](_0x2f5121(0x1f7),_0x3ac0d9);throw new Error(_0x2f5121(0x1ad)+_0x28aa70[_0x2f5121(0x6b3)]);}const _0x480df2=await _0x28aa70['json']();if(_0x480df2[_0x2f5121(0x268)]&&_0x480df2[_0x2f5121(0x268)][0x0][_0x2f5121(0x77b)]&&_0x480df2[_0x2f5121(0x268)][0x0][_0x2f5121(0x77b)]['parts'][0x0])return _0x480df2[_0x2f5121(0x268)][0x0]['content'][_0x2f5121(0x15a)][0x0][_0x2f5121(0x12b)];else{console[_0x2f5121(0x6c4)]('Unexpected\x20API\x20response\x20structure:',_0x480df2);if(_0x480df2[_0x2f5121(0x268)]&&_0x480df2['candidates'][0x0]['finishReason']==='SAFETY')return JSON[_0x2f5121(0x1b9)]({'error':_0x2f5121(0x3d7)});throw new Error(_0x2f5121(0x970));}}catch(_0x459cf4){console[_0x2f5121(0x6c4)]('Error\x20calling\x20Gemini\x20API:',_0x459cf4);throw _0x459cf4;}}async function generateLesson(_0x354861=null,_0x533557=null){const _0x3e109d=_0x470ff8,_0x5ca704=_0x354861,_0x4507b3=_0x533557||_0x3e109d(0x6a3),_0x25e3e2=document[_0x3e109d(0x8b2)](_0x3e109d(0x7c9)),_0x56230a=document[_0x3e109d(0x8b2)](_0x3e109d(0x45d));_0x56230a[_0x3e109d(0x464)]=_0x3e109d(0x5aa)+_0x5ca704+_0x3e109d(0x9b1);try{const _0x41c2ea='โดยเน้นสร้างเนื้อหาและโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด',_0x3dbe94=_0x3e109d(0x9a1)+_0x4507b3+'\x27\x20ในหัวข้อ\x20\x27'+_0x5ca704+'\x27\x20สำหรับส่วน\x20\x27POINT\x27\x20'+_0x41c2ea+_0x3e109d(0x2a7),_0x25d3ab=_0x3e109d(0xa19)+_0x5ca704+_0x3e109d(0x9bd)+_0x4507b3+_0x3e109d(0x653)+_0x41c2ea+_0x3e109d(0x4a8),_0x812562='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x4507b3+_0x3e109d(0x53a)+_0x5ca704+_0x3e109d(0x539),_0x46a812=_0x3e109d(0x32a)+_0x5ca704+_0x3e109d(0x5c8)+_0x4507b3+_0x3e109d(0x579)+_0x41c2ea+_0x3e109d(0x5dd),[_0xf34e33,_0x4b77eb,_0x4d9b7e,_0x2648c5]=await Promise[_0x3e109d(0x4ef)]([callGemini(_0x3dbe94),callGemini(_0x25d3ab),callGemini(_0x812562,!![]),callGemini(_0x46a812)]),_0x46f744=document[_0x3e109d(0x8b2)](_0x3e109d(0xb62)),_0x2e49ed=document[_0x3e109d(0x8b2)]('lesson-sections-container');_0x46f744[_0x3e109d(0x45c)]=_0x3e109d(0x6da)+_0x5ca704[_0x3e109d(0x214)](/•\s/g,'')+_0x3e109d(0x383)+_0x4507b3+')',[_0x3e109d(0x7a6),'memoryContent',_0x3e109d(0x23b)][_0x3e109d(0x501)](_0x27178f=>{const _0x1e8306=_0x3e109d;document[_0x1e8306(0x8b2)](_0x27178f)['innerHTML']='';}),document[_0x3e109d(0x8b2)]('pointContent')[_0x3e109d(0xb6e)]=marked['parse'](_0xf34e33),document[_0x3e109d(0x8b2)]('memoryContent')['innerHTML']=marked['parse'](_0x4b77eb),document[_0x3e109d(0x8b2)](_0x3e109d(0x23b))[_0x3e109d(0xb6e)]=marked['parse'](_0x2648c5),currentApplicationData=JSON[_0x3e109d(0x25b)](_0x4d9b7e);const _0x126d91=document['getElementById'](_0x3e109d(0x8b0));_0x126d91[_0x3e109d(0xb6e)]=currentApplicationData['map']((_0x296fce,_0x22ab9a)=>_0x3e109d(0x208)+(_0x22ab9a+0x1)+'.\x20'+marked[_0x3e109d(0x9be)](_0x296fce[_0x3e109d(0x241)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x22ab9a+_0x3e109d(0x4d6)+_0x296fce[_0x3e109d(0xb6f)][_0x3e109d(0x6b7)]((_0x5e17f9,_0x2ed19e)=>_0x3e109d(0x842)+_0x22ab9a+',\x20'+_0x2ed19e+')\x22>'+String[_0x3e109d(0xadf)](0x61+_0x2ed19e)+'.\x20'+marked[_0x3e109d(0x9be)](_0x5e17f9)+_0x3e109d(0x3e6))[_0x3e109d(0x221)]('')+_0x3e109d(0x6e0))[_0x3e109d(0x221)](''),window[_0x3e109d(0x821)]&&MathJax[_0x3e109d(0x697)]([_0x2e49ed]),_0x25e3e2[_0x3e109d(0xaa8)]['add'](_0x3e109d(0x856)),_0x2e49ed[_0x3e109d(0xaa8)][_0x3e109d(0x5b2)](_0x3e109d(0x856));}catch(_0x4603da){console[_0x3e109d(0x6c4)](_0x4603da);throw _0x4603da;}finally{}}function checkAnswer(_0x109802,_0x1909b8){const _0x27d31b=_0x470ff8,_0x3f8072=currentApplicationData[_0x109802],_0x4838f4=document['getElementById']('q'+_0x109802+_0x27d31b(0x8a2)),_0x260a28=_0x4838f4['getElementsByTagName']('button');for(let _0x1150dd of _0x260a28){_0x1150dd[_0x27d31b(0x6cf)]=!![];}_0x1909b8===_0x3f8072[_0x27d31b(0x729)]?_0x260a28[_0x1909b8]['classList']['add'](_0x27d31b(0x97b)):(_0x260a28[_0x1909b8]['classList'][_0x27d31b(0x4de)]('incorrect'),_0x260a28[_0x3f8072[_0x27d31b(0x729)]][_0x27d31b(0xaa8)][_0x27d31b(0x4de)](_0x27d31b(0x97b)));}window[_0x470ff8(0x708)]=handleGenerateAndShowLesson,window[_0x470ff8(0x4bd)]=checkAnswer,window['handleGeneratePracticeTest']=handleGeneratePracticeTest,window['handleGenerateQuizFromBlueprintTopic']=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x6f8909=_0x470ff8;try{const _0x3ec594=initializeApp(firebaseConfig);db=getFirestore(_0x3ec594),auth=getAuth(_0x3ec594),setupAuthListener(),setupEventListeners(),showView(_0x6f8909(0x53d)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession();}catch(_0x111ed4){console[_0x6f8909(0x6c4)]('Firebase\x20initialization\x20failed:',_0x111ed4),showMessage(_0x6f8909(0xa11));}}async function handleVerifyAnswersInEditor(){const _0x5e0973=_0x470ff8,_0x2a9110=document[_0x5e0973(0x8b2)](_0x5e0973(0xacb));if(!_0x2a9110)return;const _0x93d9dc=document[_0x5e0973(0x8b2)](_0x5e0973(0xb7a));_0x93d9dc['disabled']=!![],_0x93d9dc[_0x5e0973(0xb6e)]=_0x5e0973(0x596);try{const _0x37ea75=_0x2a9110[_0x5e0973(0x9c4)](_0x5e0973(0x5e8)),_0x3a7a86=Array[_0x5e0973(0xaf3)](_0x37ea75)[_0x5e0973(0x6b7)]((_0x29453e,_0x380d1d)=>{const _0x25ab93=_0x5e0973,_0x185922=_0x29453e['dataset'][_0x25ab93(0x797)],_0x3b1919=_0x29453e['querySelector'](_0x25ab93(0x755))[_0x25ab93(0x593)];let _0x3e8adf=null,_0xdfeb35='';switch(_0x185922){case _0x25ab93(0x4a1):const _0x3eef04=_0x29453e['querySelectorAll'](_0x25ab93(0x870));_0x3e8adf=Array[_0x25ab93(0xaf3)](_0x3eef04)[_0x25ab93(0x6b7)](_0x76d1a=>_0x76d1a[_0x25ab93(0x593)]);const _0x491947=_0x29453e['querySelector'](_0x25ab93(0x8b6));_0x491947&&(_0xdfeb35=_0x3e8adf[parseInt(_0x491947[_0x25ab93(0x593)])]);break;case _0x25ab93(0x9af):_0xdfeb35=_0x29453e[_0x25ab93(0x7a8)](_0x25ab93(0x705))[_0x25ab93(0x593)];break;case _0x25ab93(0x618):const _0x3b4441=_0x29453e[_0x25ab93(0x7a8)](_0x25ab93(0x8b6));_0xdfeb35=_0x3b4441?_0x3b4441[_0x25ab93(0x593)]:'';break;case _0x25ab93(0x43c):_0xdfeb35=_0x29453e['querySelector'](_0x25ab93(0x620))[_0x25ab93(0x593)];break;}return{'question':_0x3b1919,'options':_0x3e8adf,'proposedAnswer':_0xdfeb35};}),_0x8e5b26=_0x5e0973(0x13c)+JSON['stringify'](_0x3a7a86)+_0x5e0973(0xb05),_0x546efc={'type':_0x5e0973(0x1f9),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x5e0973(0x70d)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x5e0973(0xb2a)}},'required':['questionIndex',_0x5e0973(0x98e),_0x5e0973(0x5cd)]}},_0x38a326=await callAnalysisApi(_0x8e5b26,{'type':'OBJECT','properties':{'result':_0x546efc},'required':['result']});displayVerificationResultsInEditor(_0x38a326[_0x5e0973(0x574)]);}catch(_0x428662){console['error']('Error\x20verifying\x20answers\x20in\x20editor:',_0x428662),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x93d9dc[_0x5e0973(0x6cf)]=![],_0x93d9dc['innerHTML']='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x5eab1e){const _0x3ecbe6=_0x470ff8;_0x5eab1e[_0x3ecbe6(0x501)](_0x46473e=>{const _0xcacbbc=_0x3ecbe6,_0x5e20e9=document[_0xcacbbc(0x7a8)](_0xcacbbc(0x81a)+_0x46473e['questionIndex']+'\x22]');if(!_0x5e20e9)return;const _0x3fccce=_0x5e20e9['querySelector'](_0xcacbbc(0x4c6));if(_0x3fccce)_0x3fccce[_0xcacbbc(0x5b2)]();let _0x4cede3='';if(_0x46473e[_0xcacbbc(0x98e)])_0x4cede3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else{const _0x43ac76=_0x46473e[_0xcacbbc(0x9aa)]?'\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>':'';_0x4cede3=_0xcacbbc(0x50a)+_0x43ac76+_0xcacbbc(0x58b)+_0x46473e['justification']+_0xcacbbc(0x27b)+(_0x46473e[_0xcacbbc(0x9aa)]?_0xcacbbc(0xa43)+_0x46473e['suggestedAnswer']+_0xcacbbc(0x188):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}_0x5e20e9['insertAdjacentHTML'](_0xcacbbc(0x983),_0x4cede3);if(!_0x46473e['isCorrect']&&_0x46473e[_0xcacbbc(0x9aa)]){const _0x26f3df=_0x5e20e9['dataset']['qType'],_0x507f31=_0x1d14ad=>{const _0x7e44cd=_0xcacbbc;if(!_0x1d14ad)return;_0x1d14ad[_0x7e44cd(0xaa8)][_0x7e44cd(0x4de)]('bg-green-200','transition-all',_0x7e44cd(0xb50)),setTimeout(()=>{const _0x4c4680=_0x7e44cd;_0x1d14ad[_0x4c4680(0xaa8)][_0x4c4680(0x5b2)]('bg-green-200');},0x9c4);};if(_0x26f3df==='multiple_choice'){const _0x53ebfc=Array['from'](_0x5e20e9[_0xcacbbc(0x9c4)]('input[type=\x22text\x22]')),_0x48d619=_0x53ebfc['findIndex'](_0x4eeb2c=>_0x4eeb2c[_0xcacbbc(0x593)][_0xcacbbc(0xf2)]()[_0xcacbbc(0x136)]()===_0x46473e[_0xcacbbc(0x9aa)][_0xcacbbc(0xf2)]()[_0xcacbbc(0x136)]());if(_0x48d619!==-0x1){const _0x35386e=_0x5e20e9[_0xcacbbc(0x7a8)](_0xcacbbc(0x73f)+_0x48d619+'\x22]');_0x35386e&&(_0x35386e['checked']=!![],_0x507f31(_0x35386e['closest']('div')));}}else{if(_0x26f3df==='short_answer'||_0x26f3df===_0xcacbbc(0x43c)){const _0x607381=_0x5e20e9[_0xcacbbc(0x7a8)]('.ideal-answer-input,\x20.correct-response-input');_0x607381&&(_0x607381[_0xcacbbc(0x593)]=_0x46473e['suggestedAnswer'],_0x507f31(_0x607381));}else{if(_0x26f3df==='true_false'){const _0x24b8e4=_0x46473e[_0xcacbbc(0x9aa)]['trim']()[_0xcacbbc(0x136)](),_0x2ade66=_0x5e20e9[_0xcacbbc(0x7a8)](_0xcacbbc(0x73f)+_0x24b8e4+'\x22]');_0x2ade66&&(_0x2ade66[_0xcacbbc(0x25a)]=!![],_0x507f31(_0x2ade66[_0xcacbbc(0x7d2)](_0xcacbbc(0x4a0))));}}}}}),showMessage(_0x3ecbe6(0x76c));}async function handleVerifyAnswers(){const _0x4a0086=_0x470ff8;if(!currentQuizData||!currentQuizData[_0x4a0086(0x622)]){showMessage(_0x4a0086(0x503));return;}const _0x14b639=document['getElementById']('verify-answers-btn');_0x14b639[_0x4a0086(0x6cf)]=!![],_0x14b639[_0x4a0086(0xb6e)]=_0x4a0086(0x596);try{const _0x48bb9c=currentQuizData[_0x4a0086(0x622)][_0x4a0086(0x6b7)]((_0x33f0e9,_0x5988cf)=>{const _0x27e4ed=_0x4a0086;let _0x409bf5='';const _0x3b4c69=_0x33f0e9[_0x27e4ed(0x345)]||currentQuizData[_0x27e4ed(0x497)];switch(_0x3b4c69){case _0x27e4ed(0x4a1):_0x409bf5=_0x33f0e9['options'][_0x33f0e9['correctAnswerIndex']];break;case _0x27e4ed(0x9af):_0x409bf5=_0x33f0e9['idealAnswer'];break;case _0x27e4ed(0x618):_0x409bf5=_0x33f0e9[_0x27e4ed(0x600)][_0x27e4ed(0x77c)]();break;case'matching_item':_0x409bf5=_0x33f0e9['correctResponse'];break;}return{'question':_0x33f0e9[_0x27e4ed(0x283)]||_0x33f0e9['questionText'],'options':_0x33f0e9[_0x27e4ed(0xb6f)]||null,'proposedAnswer':_0x409bf5};}),_0x48a8b7=_0x4a0086(0x751)+JSON[_0x4a0086(0x1b9)](_0x48bb9c)+_0x4a0086(0x129),_0x29c91e={'type':_0x4a0086(0x1f9),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x4a0086(0x70d)},'justification':{'type':_0x4a0086(0xb2a)},'suggestedAnswer':{'type':_0x4a0086(0xb2a)}},'required':[_0x4a0086(0x966),_0x4a0086(0x98e),_0x4a0086(0x5cd)]}},_0x5bff3a=await callAnalysisApi(_0x48a8b7,{'type':'OBJECT','properties':{'result':_0x29c91e},'required':[_0x4a0086(0x574)]});displayVerificationResults(_0x5bff3a['result']);}catch(_0x1c24d0){console[_0x4a0086(0x6c4)](_0x4a0086(0x50b),_0x1c24d0),showMessage(_0x4a0086(0x8fc));}finally{_0x14b639[_0x4a0086(0x6cf)]=![],_0x14b639['innerHTML']=_0x4a0086(0x11f);}}function displayVerificationResults(_0x1061e6){const _0x55017f=_0x470ff8;_0x1061e6[_0x55017f(0x501)](_0x47ebca=>{const _0x51b0de=_0x55017f,_0x1e2c99=document['querySelector'](_0x51b0de(0x9b8)+_0x47ebca['questionIndex']+'\x22]');if(_0x1e2c99){const _0x5709bd=_0x1e2c99[_0x51b0de(0x7a8)]('.verification-result');if(_0x5709bd)_0x5709bd[_0x51b0de(0x5b2)]();let _0x44823b='';_0x47ebca[_0x51b0de(0x98e)]?_0x44823b=_0x51b0de(0x2cc):_0x44823b=_0x51b0de(0x964)+_0x47ebca[_0x51b0de(0x5cd)]+_0x51b0de(0x7ab)+(_0x47ebca[_0x51b0de(0x9aa)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x47ebca['suggestedAnswer']+_0x51b0de(0x188):'')+_0x51b0de(0xa2b),_0x1e2c99['insertAdjacentHTML'](_0x51b0de(0x983),_0x44823b);}}),showMessage(_0x55017f(0x76c));}function compareNumericalAnswers(_0x14e32f,_0x13e061){const _0x256cf0=_0x470ff8,_0x17ff72=String(_0x14e32f)[_0x256cf0(0x214)](',','.')[_0x256cf0(0x214)](/[^\d.-]/g,'')['trim'](),_0x1f6d2d=String(_0x13e061)[_0x256cf0(0x214)](',','.')[_0x256cf0(0x214)](/[^\d.-]/g,'')[_0x256cf0(0xf2)]();if(_0x17ff72===''||_0x1f6d2d==='')return![];const _0x3e7be1=parseFloat(_0x17ff72),_0x1808b8=parseFloat(_0x1f6d2d);if(isNaN(_0x3e7be1)||isNaN(_0x1808b8))return![];return Math[_0x256cf0(0x248)](_0x3e7be1-_0x1808b8)<0.001;}function isPotentiallyNumeric(_0x24a0a2){const _0x396c19=_0x470ff8;if(typeof _0x24a0a2!==_0x396c19(0x562)&&typeof _0x24a0a2!==_0x396c19(0x945))return![];const _0x38dbf3=String(_0x24a0a2)[_0x396c19(0x214)](',','.')['trim']();return _0x38dbf3!==''&&!isNaN(parseFloat(_0x38dbf3))&&isFinite(_0x38dbf3);}async function gradeShortAnswer(_0x62af2d,_0x2e4ef4){const _0x142502=_0x470ff8,_0x2b00d6=_0x2e4ef4['idealAnswer'],_0x2dd874=String(_0x62af2d)[_0x142502(0x214)](/\$/g,'')[_0x142502(0xf2)](),_0x3f0a17=String(_0x2b00d6)[_0x142502(0x214)](/\$/g,'')[_0x142502(0xf2)]();if(_0x2dd874[_0x142502(0x136)]()===_0x3f0a17[_0x142502(0x136)]())return!![];if(isPotentiallyNumeric(_0x2dd874)&&isPotentiallyNumeric(_0x3f0a17)){if(compareNumericalAnswers(_0x2dd874,_0x3f0a17))return!![];}return console['log'](_0x142502(0x3d3)),await gradeShortAnswerWithAI(_0x62af2d,_0x2b00d6);}async function revealAnswerForAdmin(_0x46ced0,_0x3d5ed7){const _0x53a498=_0x470ff8,_0x3aaea0=doc(db,'artifacts/'+appId+_0x53a498(0x1a9),currentLiveGameId);await updateDoc(_0x3aaea0,{'questionStatus':_0x53a498(0x37a)});}function showTop5LeaderboardView(_0x19d205){const _0x417626=_0x470ff8,_0x33af09=Object['values'](_0x19d205[_0x417626(0x190)]||{})['filter'](_0x5a4bc1=>_0x5a4bc1[_0x417626(0x6b3)]===_0x417626(0x3f0));_0x33af09[_0x417626(0xe2)]((_0x10d9b7,_0xff32ca)=>_0xff32ca[_0x417626(0xabc)]-_0x10d9b7[_0x417626(0xabc)]);const _0xc9d6d9=_0x33af09[_0x417626(0x2b0)](0x0,0x5),_0x4cee06=_0x417626(0xa30)+_0xc9d6d9[_0x417626(0x6b7)]((_0x431e70,_0x54a349)=>_0x417626(0x5df)+(_0x54a349+0x1)+'.\x20'+(_0x431e70[_0x417626(0x20a)]||Object[_0x417626(0xa67)](_0x19d205[_0x417626(0x190)])[_0x417626(0x43e)](_0x469908=>_0x19d205[_0x417626(0x190)][_0x469908]===_0x431e70))+_0x417626(0x7e1)+_0x431e70[_0x417626(0xabc)]+_0x417626(0x2ab))[_0x417626(0x221)]('')+_0x417626(0x492)+(_0x19d205[_0x417626(0x3fc)]+0x1===currentQuizData[_0x417626(0x622)][_0x417626(0x9b5)]?_0x417626(0xc1):_0x417626(0x859))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView['innerHTML']=_0x4cee06,document['getElementById'](_0x417626(0x57c))['addEventListener'](_0x417626(0x896),async()=>{const _0x2c3468=_0x417626,_0x1b6f1b=doc(db,'artifacts/'+appId+_0x2c3468(0x1a9),currentLiveGameId),_0x29ebda=_0x19d205[_0x2c3468(0x3fc)]+0x1;if(_0x29ebda<currentQuizData['questions'][_0x2c3468(0x9b5)]){const _0x2e3885={'currentQuestionIndex':_0x29ebda,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x2c3468(0x9a7)};Object[_0x2c3468(0xa67)](_0x19d205['players'])[_0x2c3468(0x501)](_0x386da9=>{const _0x472252=_0x2c3468;_0x2e3885['players.'+_0x386da9+_0x472252(0x6f5)]=![];}),await updateDoc(_0x1b6f1b,_0x2e3885);}else await updateDoc(_0x1b6f1b,{'status':'podium'});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x4bcc51=>{const _0x3782c2=_0xb340;if(_0x4bcc51){userId=_0x4bcc51[_0x3782c2(0xa4c)],userIdDisplay['textContent']=userId;const _0x2f91b4=await loadUserPreferences();_0x2f91b4['projectSortOrder']&&(document[_0x3782c2(0x8b2)]('project-sort-select')[_0x3782c2(0x593)]=_0x2f91b4[_0x3782c2(0x7d6)]);globalDashboardSettings[_0x3782c2(0x546)]=_0x2f91b4['projectView']||'grid';if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x262c86,_0x294d0d){const _0x1494d8=_0x470ff8;if(!userId)return;try{const _0x2fbf54=doc(db,'artifacts/'+appId+_0x1494d8(0x659)+userId+_0x1494d8(0x6b2)),_0x274e6e={};_0x274e6e[_0x262c86]=_0x294d0d,await setDoc(_0x2fbf54,_0x274e6e,{'merge':!![]});}catch(_0x49c4cd){console[_0x1494d8(0x6c4)](_0x1494d8(0x1cb),_0x49c4cd);}}async function loadUserPreferences(){const _0xba1315=_0x470ff8;if(!userId)return{};try{const _0x280289=doc(db,_0xba1315(0x718)+appId+_0xba1315(0x659)+userId+_0xba1315(0x6b2)),_0xc22a48=await getDoc(_0x280289);if(_0xc22a48['exists']())return _0xc22a48[_0xba1315(0x79e)]();return{};}catch(_0x5597e7){return console[_0xba1315(0x6c4)](_0xba1315(0x554),_0x5597e7),{};}}function parseIndentedBlueprint(_0x51d280){const _0x58145d=_0x470ff8,_0x18b558=_0x51d280[_0x58145d(0x3b0)]('\x0a')[_0x58145d(0x8dd)](_0x4f85c1=>_0x4f85c1[_0x58145d(0xf2)]()!==''),_0x2cecf7=[];let _0xbcd938=null,_0x1d6cb8=null;return _0x18b558['forEach'](_0x58a13c=>{const _0x3933db=_0x58145d,_0x1b8763=_0x58a13c[_0x3933db(0x76f)](/^\s*/)[0x0]['length'],_0x2be20b=_0x58a13c[_0x3933db(0xf2)]();if(_0x1b8763===0x0)_0xbcd938={'sara':_0x2be20b,'mainTopics':[]},_0x2cecf7[_0x3933db(0xb16)](_0xbcd938),_0x1d6cb8=null;else{if(_0x1b8763>0x0&&_0x1b8763<0x8&&_0xbcd938)_0x1d6cb8={'topicName':_0x2be20b,'subTopics':[]},_0xbcd938['mainTopics'][_0x3933db(0xb16)](_0x1d6cb8);else _0x1b8763>=0x8&&_0x1d6cb8&&_0x1d6cb8['subTopics'][_0x3933db(0xb16)](_0x2be20b);}}),{'curriculum':_0x2cecf7};}async function handleManualBlueprintSave(){const _0x356410=_0x470ff8,_0x1efd28=document[_0x356410(0x8b2)]('manual-bp-project-name')[_0x356410(0x593)][_0x356410(0xf2)](),_0x3f578d=document[_0x356410(0x8b2)](_0x356410(0x278))[_0x356410(0x593)][_0x356410(0xf2)](),_0x4dac14=document[_0x356410(0x8b2)](_0x356410(0xd4))[_0x356410(0x593)];if(!_0x1efd28||!_0x3f578d||!_0x4dac14){showMessage(_0x356410(0x94e));return;}const _0x19e754=parseIndentedBlueprint(_0x4dac14);if(!_0x19e754['curriculum']||_0x19e754[_0x356410(0x825)]['length']===0x0){showMessage(_0x356410(0x632));return;}const _0x178b4e={};_0x19e754[_0x356410(0x825)][_0x356410(0x501)](_0x15b740=>{const _0x13165c=_0x356410;_0x15b740[_0x13165c(0x279)]['forEach'](_0x3ef7ac=>{const _0x924dd7=_0x13165c;_0x3ef7ac[_0x924dd7(0xae6)][_0x924dd7(0x501)](_0x2209b3=>{const _0x525112=_0x924dd7,_0x360ac5=_0x525112(0x996)+Date[_0x525112(0x3a4)]()+Math['random']()[_0x525112(0x77c)](0x24)[_0x525112(0x762)](0x2,0x9);_0x178b4e[_0x360ac5]={'sara':_0x15b740[_0x525112(0x9f1)],'mainTopic':_0x3ef7ac[_0x525112(0x100)],'subTopic':_0x2209b3,'status':_0x525112(0x475),'lessonContent':null};});});});try{const _0x1c4884=collection(db,_0x356410(0x718)+appId+_0x356410(0x43a));await addDoc(_0x1c4884,{'projectName':_0x1efd28,'gradeLevel':_0x3f578d,'topics':_0x178b4e,'createdAt':serverTimestamp()}),showMessage(_0x356410(0x606)+_0x1efd28+_0x356410(0x904)),document[_0x356410(0x8b2)](_0x356410(0x42f))[_0x356410(0xaa8)][_0x356410(0x4de)](_0x356410(0x856));}catch(_0x70a89c){console['error'](_0x356410(0x39c),_0x70a89c),showMessage(_0x356410(0x3cd));}}function handleClearAllLinksForTopic(_0x1abb04){const _0x458f69=_0x470ff8;showConfirmation(_0x458f69(0x710),async()=>{const _0x578ce9=_0x458f69;try{const _0x7d959=doc(db,_0x578ce9(0x718)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x7d959,{[_0x578ce9(0x2ff)+_0x1abb04+_0x578ce9(0x1ff)]:[]}),showMessage(_0x578ce9(0x1a0)),openTopicQuizBank(_0x1abb04),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x43ea38){console[_0x578ce9(0x6c4)]('Error\x20clearing\x20all\x20links:',_0x43ea38),showMessage(_0x578ce9(0x2f8));}});}function showPodiumView(_0x126686,_0x5ae0ff=_0x470ff8(0x300)){const _0xb52944=_0x470ff8,_0x5982de=Object[_0xb52944(0x485)](_0x126686)['map'](([_0x2131e2,_0x5d0e33])=>({'name':_0x2131e2,'score':_0x5d0e33[_0xb52944(0xabc)]||0x0,'badges':_0x5d0e33[_0xb52944(0xa85)]||[],'hasPerfectScoreBonus':_0x5d0e33['hasPerfectScoreBonus']||![]}));_0x5982de[_0xb52944(0xe2)]((_0x211085,_0x308cd2)=>{const _0x16568d=_0xb52944,_0x45240e=_0x308cd2[_0x16568d(0xabc)]-_0x211085[_0x16568d(0xabc)];if(_0x45240e!==0x0)return _0x45240e;return(_0x308cd2[_0x16568d(0xa85)][_0x16568d(0x9b5)]||0x0)-(_0x211085[_0x16568d(0xa85)]['length']||0x0);});const _0x2f31be=_0x3ebe26=>{const _0x47ab4d=_0xb52944;if(!_0x3ebe26||_0x3ebe26[_0x47ab4d(0x9b5)]===0x0)return'';const _0xb581e9={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x3ebe26[_0x47ab4d(0x6b7)](_0x22b7e9=>_0xb581e9[_0x22b7e9]||'')[_0x47ab4d(0x221)]('')+_0x47ab4d(0x9ab);},_0x5eab7e=_0x5982de['slice'](0x3),_0x519227=_0x5eab7e[_0xb52944(0x9b5)]>0x0?_0xb52944(0x92b)+_0x5eab7e[_0xb52944(0x6b7)]((_0x3cf129,_0x1cdf8b)=>{const _0x565ad5=_0xb52944,_0x42c2dd=_0x3cf129[_0x565ad5(0x776)]?_0x565ad5(0x698):'';return _0x565ad5(0x582)+(_0x1cdf8b+0x4)+_0x565ad5(0xad4)+_0x3cf129[_0x565ad5(0x20a)]+_0x565ad5(0x3eb)+_0x3cf129['score']+_0x565ad5(0x258)+_0x42c2dd+_0x565ad5(0xb3d);})[_0xb52944(0x221)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>':'',_0x4464f7=_0xb52944(0x117)+(_0x5982de[0x1]?_0xb52944(0x685)+_0x5982de[0x1][_0xb52944(0x20a)]+_0xb52944(0x188)+_0x2f31be(_0x5982de[0x1][_0xb52944(0xa85)])+_0xb52944(0x55f)+_0x5982de[0x1]['score']+_0xb52944(0x258)+(_0x5982de[0x1][_0xb52944(0x776)]?_0xb52944(0x405):'')+_0xb52944(0x288):_0xb52944(0x490))+_0xb52944(0xae3)+(_0x5982de[0x0]?_0xb52944(0xa0e)+_0x5982de[0x0]['name']+_0xb52944(0x188)+_0x2f31be(_0x5982de[0x0][_0xb52944(0xa85)])+_0xb52944(0x624)+_0x5982de[0x0][_0xb52944(0xabc)]+'\x20คะแนน\x20'+(_0x5982de[0x0]['hasPerfectScoreBonus']?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0xb52944(0x7b9):'<div\x20class=\x22flex-1\x22></div>')+_0xb52944(0xae3)+(_0x5982de[0x2]?_0xb52944(0x5d0)+_0x5982de[0x2][_0xb52944(0x20a)]+_0xb52944(0x188)+_0x2f31be(_0x5982de[0x2]['badges'])+_0xb52944(0x55f)+_0x5982de[0x2][_0xb52944(0xabc)]+_0xb52944(0x258)+(_0x5982de[0x2][_0xb52944(0x776)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+'</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>':_0xb52944(0x490))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x519227+_0xb52944(0x7ef)+(currentMode===_0xb52944(0x9d9)?_0xb52944(0x187):_0xb52944(0x545))+_0xb52944(0x679);liveGameView['innerHTML']=_0x4464f7,currentMode===_0xb52944(0x9d9)&&document[_0xb52944(0x8b2)](_0xb52944(0xa4f))[_0xb52944(0xda)]('click',async()=>{const _0x59903d=_0xb52944;let _0x4ba37f;_0x5ae0ff===_0x59903d(0x9a5)?_0x4ba37f=doc(db,_0x59903d(0x718)+appId+_0x59903d(0x41a),currentLiveGameId):_0x4ba37f=doc(db,_0x59903d(0x718)+appId+'/public/data/liveGames',currentLiveGameId),await deleteDoc(_0x4ba37f);});}function renderSyncSummaryView(_0x4bd1b2,_0x2deb18,_0x2e2224){const _0x3e596e=_0x470ff8,_0x329b3=Object[_0x3e596e(0x7ff)](_0x4bd1b2[_0x3e596e(0x190)]||{}),_0xf51009=_0x2deb18[_0x3e596e(0x345)]||_0x4bd1b2[_0x3e596e(0x7c8)][_0x3e596e(0x497)];let _0x15877c=[];_0xf51009===_0x3e596e(0x618)?_0x15877c=[_0x3e596e(0x3d8),_0x3e596e(0x765)]:_0x15877c=_0x2deb18['options']||[];const _0x3e9ed8=new Array(_0x15877c[_0x3e596e(0x9b5)])[_0x3e596e(0x518)](0x0),_0x241fd5={};_0x15877c['forEach']((_0x42c6eb,_0x1ce5cd)=>{_0x241fd5[_0x1ce5cd]=[];}),Object[_0x3e596e(0x485)](_0x4bd1b2[_0x3e596e(0x190)]||{})['forEach'](([_0x22a1d1,_0x2688e2])=>{const _0x5b20ba=_0x3e596e;if(_0x2688e2['status']!==_0x5b20ba(0x9db)&&_0x2688e2[_0x5b20ba(0x8ac)]!==undefined&&_0x2688e2[_0x5b20ba(0x8ac)]!==null){const _0x22d180=_0x2688e2[_0x5b20ba(0x8ac)];_0x241fd5[_0x22d180]!==undefined&&(_0x241fd5[_0x22d180]['push'](_0x22a1d1),_0x3e9ed8[_0x22d180]++);}});let _0x218a6d='';_0x2e2224?_0x218a6d=_0x3e596e(0x77e):_0x218a6d=_0x3e596e(0x3e5);const _0x449d80=_0x3e596e(0x1b2)+_0x2deb18['questionText']+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3e9ed8[_0x3e596e(0x6b7)]((_0x4cb199,_0x500b41)=>{const _0x2fd138=_0x3e596e,_0x279e87=_0x241fd5[_0x500b41][_0x2fd138(0x9b5)]>0x0?_0x241fd5[_0x500b41][_0x2fd138(0x221)](',\x20'):_0x2fd138(0x133),_0x1f91ea=_0x2fd138(0x4cf);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x4cb199+_0x2fd138(0xa01)+_0x1f91ea+_0x2fd138(0x48b)+_0x500b41+_0x2fd138(0x1c5)+_0x15877c[_0x500b41]+_0x2fd138(0x886)+_0x500b41+_0x2fd138(0x5f9)+_0x279e87+_0x2fd138(0x93e);})[_0x3e596e(0x221)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x218a6d+_0x3e596e(0x26e);liveGameView[_0x3e596e(0xb6e)]=_0x449d80;if(window[_0x3e596e(0x821)])MathJax[_0x3e596e(0x697)]();_0x2e2224&&(document[_0x3e596e(0x8b2)]('show-results-btn')[_0x3e596e(0xda)](_0x3e596e(0x896),async()=>{const _0x51ace0=_0x3e596e,_0x53b986=doc(db,'artifacts/'+appId+_0x51ace0(0x41a),currentLiveGameId);await updateDoc(_0x53b986,{'status':'results'});}),document[_0x3e596e(0x8b2)]('open-sync-scratchpad-btn')['onclick']=()=>{openScratchpad(_0x2deb18,_0x15877c);});}async function handleShowStudentRankings(){const _0x21e9bb=_0x470ff8,_0x1cae4b=document[_0x21e9bb(0x7a8)](_0x21e9bb(0x830));_0x1cae4b&&(_0x1cae4b[_0x21e9bb(0xb6e)]=_0x21e9bb(0x3ee));const _0x3a3071=document[_0x21e9bb(0x7a8)](_0x21e9bb(0x430));_0x3a3071&&(_0x3a3071[_0x21e9bb(0xb6e)]=_0x21e9bb(0x680));const _0x2a136b=document[_0x21e9bb(0x8b2)](_0x21e9bb(0x5c3));_0x2a136b[_0x21e9bb(0xaa8)]['remove']('hidden'),document[_0x21e9bb(0x8b2)](_0x21e9bb(0xadb))['onclick']=()=>_0x2a136b[_0x21e9bb(0xaa8)][_0x21e9bb(0x4de)]('hidden');const _0x950df8=document[_0x21e9bb(0x8b2)](_0x21e9bb(0x482)),_0x549944=document[_0x21e9bb(0x8b2)](_0x21e9bb(0x337)),_0xb5d364=document[_0x21e9bb(0x8b2)](_0x21e9bb(0x454)),_0x48d672=document['getElementById'](_0x21e9bb(0x5d1));_0x950df8[_0x21e9bb(0xb79)]=()=>{const _0x5a87fb=_0x21e9bb;_0x950df8[_0x5a87fb(0xaa8)]['add']('active'),_0x549944[_0x5a87fb(0xaa8)][_0x5a87fb(0x5b2)]('active'),_0xb5d364[_0x5a87fb(0xaa8)][_0x5a87fb(0x5b2)](_0x5a87fb(0x856)),_0x48d672['classList'][_0x5a87fb(0x4de)](_0x5a87fb(0x856));},_0x549944[_0x21e9bb(0xb79)]=()=>{const _0x496a0b=_0x21e9bb;_0x549944[_0x496a0b(0xaa8)]['add']('active'),_0x950df8[_0x496a0b(0xaa8)][_0x496a0b(0x5b2)](_0x496a0b(0x3f0)),_0x48d672['classList'][_0x496a0b(0x5b2)](_0x496a0b(0x856)),_0xb5d364[_0x496a0b(0xaa8)][_0x496a0b(0x4de)](_0x496a0b(0x856));};try{const _0x924af6=collection(db,_0x21e9bb(0x718)+appId+_0x21e9bb(0xa4e)+currentQuizData['id']+'/submissions'),_0x239c7d=await getDocs(_0x924af6),_0x5a1480=_0x239c7d[_0x21e9bb(0xa1f)][_0x21e9bb(0x6b7)](_0x4f309a=>_0x4f309a['data']());renderQuizLeaderboard(_0x5a1480,currentQuizData,_0x21e9bb(0x9d3));const _0x198ed4=collection(db,_0x21e9bb(0x718)+appId+'/public/data/projects/'+currentQuizData[_0x21e9bb(0x54d)]+'/studentProfiles'),_0x24d9cf=await getDocs(_0x198ed4),_0x49a653=_0x24d9cf[_0x21e9bb(0xa1f)][_0x21e9bb(0x6b7)](_0x504742=>_0x504742[_0x21e9bb(0x79e)]());renderLeaderboard(_0x49a653,_0x21e9bb(0x16f));}catch(_0x1e70dc){console[_0x21e9bb(0x6c4)](_0x21e9bb(0x371),_0x1e70dc),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x250a29){const _0x2b2b1f=_0x470ff8,_0x482a33=_0x250a29[_0x2b2b1f(0x791)],_0x4e4102=_0x482a33[_0x2b2b1f(0xad1)][_0x2b2b1f(0x8f1)],_0x10671c=currentQuizData[_0x2b2b1f(0x622)][_0x4e4102];if(!userId){showMessage(_0x2b2b1f(0x34b));return;}try{const _0x20cd34={..._0x10671c,'originalTopic':currentQuizData[_0x2b2b1f(0x1bc)],'savedAt':serverTimestamp()},_0x596f75=collection(db,_0x2b2b1f(0x718)+appId+_0x2b2b1f(0x659)+userId+'/questionBank');await addDoc(_0x596f75,_0x20cd34),showMessage(_0x2b2b1f(0xb12)),_0x482a33[_0x2b2b1f(0xaa8)][_0x2b2b1f(0x5b2)](_0x2b2b1f(0x747)),_0x482a33[_0x2b2b1f(0xaa8)]['add'](_0x2b2b1f(0x262)),_0x482a33['disabled']=!![];}catch(_0x1a434c){console[_0x2b2b1f(0x6c4)]('Error\x20saving\x20to\x20question\x20bank:',_0x1a434c),showMessage(_0x2b2b1f(0x1e5));}}function selectProjectAndGenerateBlueprintQuiz(_0x4c7e9d,_0x435fec=null,_0x33eb0a=null,_0x403a41=![]){const _0x82ca5f=_0x470ff8;cameFromBlueprint=!![];const _0x30b538=document[_0x82ca5f(0x8b2)](_0x82ca5f(0x218)),_0x3f43b6=document[_0x82ca5f(0x8b2)](_0x82ca5f(0x5f8)),_0x56fb7a=_0x30b538[_0x82ca5f(0x7a8)]('h3'),_0x1ce932=document[_0x82ca5f(0x8b2)](_0x82ca5f(0x657)),_0x2f52e4=document[_0x82ca5f(0x8b2)](_0x82ca5f(0x369));_0x56fb7a['textContent']='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x1ce932[_0x82ca5f(0x464)]=_0x82ca5f(0x73c),_0x1ce932[_0x82ca5f(0x6cf)]=!![];allProjects[_0x82ca5f(0x9b5)]===0x0?_0x3f43b6[_0x82ca5f(0xb6e)]=_0x82ca5f(0x571):(_0x3f43b6['innerHTML']=_0x82ca5f(0x910)+allProjects['map'](_0x493e05=>_0x82ca5f(0x5ea)+_0x493e05['id']+'\x22>'+_0x493e05[_0x82ca5f(0x31e)]+_0x82ca5f(0x39e))[_0x82ca5f(0x221)](''),_0x1ce932[_0x82ca5f(0x6cf)]=![]);_0x30b538[_0x82ca5f(0xaa8)][_0x82ca5f(0x5b2)](_0x82ca5f(0x856));const _0x127143=async()=>{const _0x5ddd01=_0x82ca5f,_0x57f7f3=_0x3f43b6[_0x5ddd01(0x593)];if(!_0x57f7f3){showMessage(_0x5ddd01(0x984));return;}_0x30b538[_0x5ddd01(0xaa8)]['add'](_0x5ddd01(0x856)),document[_0x5ddd01(0x8b2)](_0x5ddd01(0x76d))[_0x5ddd01(0xaa8)][_0x5ddd01(0x4de)](_0x5ddd01(0x856)),await loadProjectDetails(_0x57f7f3),showView(_0x5ddd01(0xaf2)),handleGenerateQuizFromBlueprintTopic(_0x4c7e9d,_0x435fec,_0x57f7f3,_0x33eb0a,_0x403a41),_0x714e5();},_0x714e5=()=>{const _0x47d7bd=_0x82ca5f;_0x56fb7a[_0x47d7bd(0x464)]=_0x47d7bd(0x71e),_0x1ce932[_0x47d7bd(0x464)]=_0x47d7bd(0x3dd),_0x1ce932[_0x47d7bd(0x9d0)]('click',_0x127143),_0x2f52e4['removeEventListener'](_0x47d7bd(0x896),_0x714e5),_0x1ce932['addEventListener'](_0x47d7bd(0x896),confirmMoveQuiz);};_0x1ce932[_0x82ca5f(0x9d0)](_0x82ca5f(0x896),confirmMoveQuiz),_0x1ce932['addEventListener']('click',_0x127143),_0x2f52e4[_0x82ca5f(0xda)](_0x82ca5f(0x896),_0x714e5);}function listenForStarredQuizzes(){const _0x248126=_0x470ff8;if(!userId)return;const _0x5e1cfc=collection(db,_0x248126(0x718)+appId+_0x248126(0x51f)),_0x44945c=query(_0x5e1cfc,where(_0x248126(0x14f),'==',!![]));onSnapshot(_0x44945c,_0x26edcd=>{const _0x4d94ff=_0x248126;starredQuizzes=_0x26edcd[_0x4d94ff(0xa1f)]['map'](_0x5a56ee=>({'id':_0x5a56ee['id'],..._0x5a56ee[_0x4d94ff(0x79e)]()})),currentProjectId==='starred'?renderQuizzes():renderProjects();},_0x2d894f=>{const _0x48950c=_0x248126;console[_0x48950c(0x6c4)](_0x48950c(0x6c9),_0x2d894f);});}async function ensureGlobalQuizzesLoaded(){const _0x2b7c21=_0x470ff8;if(allQuizzesGlobal[_0x2b7c21(0x9b5)]>0x0)return;console[_0x2b7c21(0x638)]('Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...'),showMessage(_0x2b7c21(0x39f));try{const _0x3e6518=await getDocs(collection(db,_0x2b7c21(0x718)+appId+_0x2b7c21(0x51f)));allQuizzesGlobal=_0x3e6518['docs']['map'](_0x184d7e=>({'id':_0x184d7e['id'],..._0x184d7e[_0x2b7c21(0x79e)]()})),console['log'](_0x2b7c21(0x1f0)+allQuizzesGlobal['length']+_0x2b7c21(0x9ec)),messageModal['classList']['add'](_0x2b7c21(0x856));}catch(_0x4720dd){console['error'](_0x2b7c21(0x387),_0x4720dd),messageModal[_0x2b7c21(0xaa8)][_0x2b7c21(0x4de)](_0x2b7c21(0x856));throw new Error(_0x2b7c21(0x181));}}function exportQuizAsWorksheetPDF(){const _0x18e691=_0x470ff8;if(!currentQuizData||!currentQuizData[_0x18e691(0x622)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x53f355=currentQuizData,_0x30dcae=window[_0x18e691(0x851)]('',_0x18e691(0x672)),_0x1a28be=_0x325025=>String['fromCharCode'](0x41+_0x325025),_0x3a2767=_0x18e691(0x570)+_0x53f355[_0x18e691(0x1bc)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x53f355[_0x18e691(0x1bc)]+_0x18e691(0xb32)+_0x53f355[_0x18e691(0x622)]['map']((_0x6bff8c,_0x44064d)=>{const _0x554513=_0x18e691;let _0x39b558='';const _0x279c51=_0x6bff8c['questionType']||_0x53f355[_0x554513(0x497)];switch(_0x279c51){case _0x554513(0x4a1):case'fill_in_with_choices':_0x39b558=_0x554513(0x2f9)+_0x6bff8c[_0x554513(0xb6f)]['map']((_0x30256b,_0x28cd6f)=>_0x554513(0x74a)+_0x1a28be(_0x28cd6f)+'.\x20'+_0x30256b+_0x554513(0x193))[_0x554513(0x221)](_0x554513(0x5e1))+'</div>';break;case _0x554513(0x618):_0x39b558=_0x554513(0x9d4);break;default:_0x39b558=_0x554513(0x8be);break;}return _0x554513(0x9f4)+(_0x44064d+0x1)+_0x554513(0x528)+(_0x6bff8c[_0x554513(0x283)]||_0x6bff8c['questionText'])+_0x554513(0x683)+(_0x6bff8c[_0x554513(0x4b5)]?_0x554513(0x576)+_0x6bff8c[_0x554513(0x4b5)]+_0x554513(0x9ab):'')+_0x554513(0xa8f)+_0x39b558+_0x554513(0x8fe);})[_0x18e691(0x221)]('')+_0x18e691(0x47f);_0x30dcae['document'][_0x18e691(0x952)](_0x3a2767),_0x30dcae[_0x18e691(0xae9)][_0x18e691(0x8fa)](),_0x30dcae[_0x18e691(0x35a)]=function(){setTimeout(()=>{const _0x2a9752=_0xb340;_0x30dcae[_0x2a9752(0xa9d)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x415509=_0x470ff8;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x415509(0x3ec));return;}const _0x322180=currentQuizData,_0x505a1e=window['open']('','_blank'),_0x5d5366=_0x308147=>String['fromCharCode'](0x41+_0x308147),_0x1ace67='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20'+_0x322180[_0x415509(0x1bc)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x322180[_0x415509(0x622)]['map']((_0x23b3ab,_0x272f01)=>{const _0x49807a=_0x415509;let _0x47d8ee='';const _0x3daf8f=_0x23b3ab[_0x49807a(0x345)]||_0x322180['quizType'];switch(_0x3daf8f){case _0x49807a(0x4a1):case _0x49807a(0x232):_0x47d8ee=_0x49807a(0xa18)+_0x23b3ab['options'][_0x49807a(0x6b7)]((_0x562365,_0x19e203)=>_0x49807a(0x5be)+_0x5d5366(_0x19e203)+'.\x20'+_0x562365+'</span>')[_0x49807a(0x221)](_0x49807a(0x5e1))+_0x49807a(0x495);break;case'true_false':_0x47d8ee=_0x49807a(0xb52);break;default:_0x47d8ee='';break;}return _0x49807a(0x456)+_0x322180[_0x49807a(0x1bc)]+_0x49807a(0x8d2)+(_0x272f01+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x23b3ab[_0x49807a(0x283)]||_0x23b3ab[_0x49807a(0x16b)])+_0x49807a(0x683)+(_0x23b3ab[_0x49807a(0x4b5)]?_0x49807a(0x1e6)+_0x23b3ab[_0x49807a(0x4b5)]+_0x49807a(0x9ab):'')+_0x49807a(0xa8f)+_0x47d8ee+_0x49807a(0x3ff);})[_0x415509(0x221)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x505a1e[_0x415509(0xae9)][_0x415509(0x952)](_0x1ace67),_0x505a1e[_0x415509(0xae9)][_0x415509(0x8fa)](),_0x505a1e[_0x415509(0x35a)]=function(){setTimeout(()=>{_0x505a1e['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x12b3a9){const _0x10e6fc=_0x470ff8,_0x3eabe2=doc(db,_0x10e6fc(0x718)+appId+_0x10e6fc(0x51f),_0x12b3a9);try{const _0x364882=await getDoc(_0x3eabe2);if(_0x364882[_0x10e6fc(0x811)]()){const _0x1fe5e2=_0x364882[_0x10e6fc(0x79e)]()[_0x10e6fc(0x14f)]||![];await updateDoc(_0x3eabe2,{'isStarred':!_0x1fe5e2});}}catch(_0x703c0a){console[_0x10e6fc(0x6c4)](_0x10e6fc(0x36b),_0x703c0a),showMessage(_0x10e6fc(0xb44));}}async function displayQuestionBank(){const _0x1abaa2=_0x470ff8,_0x4e0455=document[_0x1abaa2(0x8b2)](_0x1abaa2(0x8a1));_0x4e0455[_0x1abaa2(0xb6e)]=_0x1abaa2(0x83b);try{const _0xe679e7=collection(db,'artifacts/'+appId+'/users/'+userId+_0x1abaa2(0x568)),_0x24db82=query(_0xe679e7),_0x35d3c9=await getDocs(_0x24db82);if(_0x35d3c9[_0x1abaa2(0x5ff)]){_0x4e0455[_0x1abaa2(0xb6e)]=_0x1abaa2(0x95b);return;}let _0x175f6a=_0x35d3c9[_0x1abaa2(0xa1f)][_0x1abaa2(0x6b7)](_0x58058c=>{const _0x2f4ce8=_0x1abaa2,_0x44394c=_0x58058c['data'](),_0x82978d=_0x58058c['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON[_0x2f4ce8(0x1b9)](_0x44394c)+_0x2f4ce8(0x982)+(_0x44394c['questionText']||_0x44394c[_0x2f4ce8(0x283)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x44394c[_0x2f4ce8(0x359)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x1abaa2(0x221)]('');_0x4e0455[_0x1abaa2(0xb6e)]=_0x1abaa2(0x1cf)+_0x175f6a+_0x1abaa2(0x4ba),document[_0x1abaa2(0x8b2)](_0x1abaa2(0x19a))[_0x1abaa2(0xda)](_0x1abaa2(0x896),createQuizFromBank);}catch(_0x11bab8){console['error'](_0x1abaa2(0x668),_0x11bab8),_0x4e0455['innerHTML']=_0x1abaa2(0x1f8);}}async function handleExportLessonToPDF(){const _0x316d5b=_0x470ff8,_0x1b2dca=document['getElementById'](_0x316d5b(0x92d)),_0x4ae812=document[_0x316d5b(0x8b2)](_0x316d5b(0xb62))[_0x316d5b(0x464)]||'บทเรียน';if(!_0x1b2dca){showMessage('ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export');return;}const _0x25e653=window[_0x316d5b(0x851)]('',_0x316d5b(0x672)),_0x1c5fa9=_0x316d5b(0x3da)+_0x4ae812+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>'+_0x4ae812+_0x316d5b(0x54b)+_0x1b2dca[_0x316d5b(0xb6e)]+_0x316d5b(0x47f);_0x25e653['document'][_0x316d5b(0x952)](_0x1c5fa9),_0x25e653[_0x316d5b(0xae9)]['close'](),_0x25e653['onload']=function(){setTimeout(()=>{const _0x30d2dc=_0xb340;_0x25e653[_0x30d2dc(0xa9d)]();},0x7d0);};}function showAdminLiveQuestionView(_0x1210c1,_0x465cf9,_0x383f36){const _0x13464c=_0x470ff8,_0x4c3dd0=_0x1210c1['questionType']||currentQuizData[_0x13464c(0x497)];let _0x569bf1='';if(_0x4c3dd0===_0x13464c(0x4a1)||_0x4c3dd0===_0x13464c(0x618)){const _0x8c3b69=_0x4c3dd0===_0x13464c(0x618)?['ใช่','ไม่ใช่']:_0x1210c1[_0x13464c(0xb6f)],_0x35b689=_0x4c3dd0===_0x13464c(0x618)?_0x1210c1['correctAnswer']?0x0:0x1:_0x1210c1['correctAnswerIndex'];_0x569bf1=_0x8c3b69[_0x13464c(0x6b7)]((_0x43885c,_0x205118)=>_0x13464c(0xa4b)+(_0x205118===_0x35b689)+_0x13464c(0x4d8)+_0x43885c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x13464c(0x221)]('');}else{if(_0x4c3dd0===_0x13464c(0x43c)){const _0x55a8d7=_0x1210c1[_0x13464c(0xb3e)]||[];_0x569bf1=_0x55a8d7[_0x13464c(0x6b7)](_0x2367c7=>_0x13464c(0xa4b)+(_0x2367c7===_0x1210c1[_0x13464c(0x198)])+_0x13464c(0x4d8)+_0x2367c7+_0x13464c(0xb54))['join']('');}}const _0x52ddf6=_0x1210c1[_0x13464c(0x283)]||_0x1210c1[_0x13464c(0x16b)],_0x1aa148=_0x13464c(0x18d)+(_0x465cf9+0x1)+_0x13464c(0x615)+_0x383f36+_0x13464c(0x180)+currentLiveGamePin+_0x13464c(0x7fd)+_0x52ddf6+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x569bf1+_0x13464c(0x1df);liveGameView[_0x13464c(0xb6e)]=_0x1aa148,window[_0x13464c(0x821)]&&MathJax[_0x13464c(0x697)]&&MathJax['typesetPromise']([liveGameView]),document[_0x13464c(0x8b2)](_0x13464c(0x897))['addEventListener'](_0x13464c(0x896),()=>revealAnswerForAdmin(_0x465cf9,_0x383f36)),document['getElementById']('end-game-btn')[_0x13464c(0xda)](_0x13464c(0x896),async()=>{const _0x270037=_0x13464c;showConfirmation(_0x270037(0x3c0),async()=>{const _0x2a4933=_0x270037,_0x311e68=doc(db,_0x2a4933(0x718)+appId+_0x2a4933(0x1a9),currentLiveGameId);await updateDoc(_0x311e68,{'status':_0x2a4933(0x7e5)});});}),document[_0x13464c(0x8b2)](_0x13464c(0x5fb))[_0x13464c(0xda)](_0x13464c(0x896),()=>{const _0x342d4c=_0x13464c;document['getElementById'](_0x342d4c(0x99c))[_0x342d4c(0xaa8)][_0x342d4c(0xa25)](_0x342d4c(0x856));});}function promptForProjectBeforeGenerating(_0x320006){const _0x3fd58c=_0x470ff8,_0x52f359=document[_0x3fd58c(0x8b2)](_0x3fd58c(0x218)),_0x5314c5=document[_0x3fd58c(0x8b2)](_0x3fd58c(0x5f8)),_0x5a65df=_0x52f359[_0x3fd58c(0x7a8)]('h3'),_0x5096b6=document[_0x3fd58c(0x8b2)](_0x3fd58c(0x657)),_0x1acea6=document[_0x3fd58c(0x8b2)](_0x3fd58c(0x369));_0x5a65df[_0x3fd58c(0x464)]=_0x3fd58c(0x6b1),_0x5096b6[_0x3fd58c(0x464)]=_0x3fd58c(0x73c),_0x5096b6[_0x3fd58c(0x6cf)]=!![];allProjects[_0x3fd58c(0x9b5)]===0x0?_0x5314c5[_0x3fd58c(0xb6e)]=_0x3fd58c(0x571):(_0x5314c5[_0x3fd58c(0xb6e)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects['map'](_0x42c68c=>_0x3fd58c(0x5ea)+_0x42c68c['id']+'\x22>'+_0x42c68c[_0x3fd58c(0x31e)]+'</option>')[_0x3fd58c(0x221)](''),_0x5096b6[_0x3fd58c(0x6cf)]=![]);_0x52f359['classList'][_0x3fd58c(0x5b2)](_0x3fd58c(0x856));const _0x295bbd=async()=>{const _0x342951=_0x3fd58c,_0x2072b4=_0x5314c5[_0x342951(0x593)];if(!_0x2072b4){showMessage(_0x342951(0x984));return;}_0x52f359[_0x342951(0xaa8)][_0x342951(0x4de)](_0x342951(0x856)),await loadProjectDetails(_0x2072b4),showView('project-detail'),handleGenerateQuizFromBlueprintTopic(_0x320006),_0x4a235e();},_0x4a235e=()=>{const _0x35602b=_0x3fd58c;_0x5a65df['textContent']=_0x35602b(0x71e),_0x5096b6[_0x35602b(0x464)]='ย้าย',_0x5096b6[_0x35602b(0x9d0)]('click',_0x295bbd),_0x1acea6['removeEventListener'](_0x35602b(0x896),_0x4a235e),_0x5096b6[_0x35602b(0xda)](_0x35602b(0x896),confirmMoveQuiz);};_0x5096b6[_0x3fd58c(0x9d0)](_0x3fd58c(0x896),confirmMoveQuiz),_0x5096b6[_0x3fd58c(0xda)]('click',_0x295bbd),_0x1acea6[_0x3fd58c(0xda)](_0x3fd58c(0x896),_0x4a235e);}function showStudentLiveQuestionView(_0x135c2d,_0x308a29,_0x1cfbcd){const _0x498fc0=_0x470ff8,_0x4dd4ea=_0x135c2d[_0x498fc0(0x345)]||currentQuizData[_0x498fc0(0x497)];let _0x4aa621='';if(_0x4dd4ea===_0x498fc0(0x4a1)||_0x4dd4ea===_0x498fc0(0x618)){const _0x16235c=_0x4dd4ea===_0x498fc0(0x618)?[_0x498fc0(0x976),_0x498fc0(0x68a)]:_0x135c2d[_0x498fc0(0xb6f)];_0x4aa621=_0x16235c[_0x498fc0(0x6b7)]((_0x5f1af5,_0x39c865)=>_0x498fc0(0x8a6)+_0x39c865+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5f1af5+_0x498fc0(0x38c))[_0x498fc0(0x221)]('');}else{if(_0x4dd4ea===_0x498fc0(0x43c)){const _0x2bae63=_0x135c2d[_0x498fc0(0xb3e)]||[];_0x4aa621=_0x2bae63[_0x498fc0(0x6b7)]((_0x3fbfe1,_0x34b42e)=>_0x498fc0(0x8a6)+_0x34b42e+_0x498fc0(0x820)+_0x3fbfe1+_0x498fc0(0x38c))[_0x498fc0(0x221)]('');}else _0x4dd4ea==='short_answer'&&(_0x4aa621=_0x498fc0(0x9cc));}const _0x32b987=_0x135c2d[_0x498fc0(0x283)]||_0x135c2d[_0x498fc0(0x16b)],_0x4b3e1c=_0x498fc0(0x135)+(_0x308a29+0x1)+_0x498fc0(0x615)+_0x1cfbcd+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x32b987+_0x498fc0(0x3c4)+_0x4aa621+_0x498fc0(0xa37);liveGameView[_0x498fc0(0xb6e)]=_0x4b3e1c;window[_0x498fc0(0x821)]&&MathJax[_0x498fc0(0x697)]&&MathJax['typesetPromise']([liveGameView]);const _0x4753d4=document[_0x498fc0(0x8b2)](_0x498fc0(0x8bf));_0x4753d4&&_0x4753d4[_0x498fc0(0xda)](_0x498fc0(0x896),()=>{const _0x350f88=_0x498fc0,_0x50997e=document[_0x350f88(0x8b2)](_0x350f88(0x45a))[_0x350f88(0x593)];handleLiveAnswer(_0x50997e,_0x135c2d);}),document[_0x498fc0(0x8b2)](_0x498fc0(0xa1d))[_0x498fc0(0xda)]('click',_0x397726=>{const _0x4b4a69=_0x498fc0,_0x2fa72d=_0x397726[_0x4b4a69(0x5a3)][_0x4b4a69(0x7d2)](_0x4b4a69(0xb6a));if(_0x2fa72d){const _0x414ca6=parseInt(_0x2fa72d[_0x4b4a69(0xad1)][_0x4b4a69(0x8f1)]);handleLiveAnswer(_0x414ca6,_0x135c2d);}});}async function handleLiveAnswer(_0xbdc070,_0x4e7ed6){const _0xc43e2a=_0x470ff8;document['querySelectorAll'](_0xc43e2a(0x4f2))[_0xc43e2a(0x501)](_0x245327=>_0x245327[_0xc43e2a(0x6cf)]=!![]);const _0x4f5f75=_0x4e7ed6['questionType']||currentQuizData[_0xc43e2a(0x497)];let _0x50fd69=![],_0x3ec8d6=_0xbdc070;if(_0x4f5f75==='short_answer'){const _0x3784c4=(_0xbdc070||'')[_0xc43e2a(0x77c)]();_0x50fd69=await gradeShortAnswer(_0x3784c4,_0x4e7ed6);}else{if(_0x4f5f75===_0xc43e2a(0x4a1))_0x50fd69=_0xbdc070===_0x4e7ed6[_0xc43e2a(0x5ad)];else{if(_0x4f5f75===_0xc43e2a(0x618)){const _0x18d0e9=_0x4e7ed6[_0xc43e2a(0x600)];_0x50fd69=_0xbdc070===0x0&&_0x18d0e9||_0xbdc070===0x1&&!_0x18d0e9;}else{if(_0x4f5f75===_0xc43e2a(0x43c)){const _0x49011e=_0x4e7ed6[_0xc43e2a(0xb3e)][_0xbdc070];_0x50fd69=_0x49011e===_0x4e7ed6[_0xc43e2a(0x198)],_0x3ec8d6=_0x49011e;}}}}const _0x195771=doc(db,'artifacts/'+appId+_0xc43e2a(0x1a9),currentLiveGameId),_0x45931d={};_0x45931d['players.'+currentStudentName+_0xc43e2a(0x6f5)]=!![],_0x45931d['players.'+currentStudentName+'.lastAnswerCorrect']=_0x50fd69,_0x45931d[_0xc43e2a(0x548)+currentStudentName+_0xc43e2a(0x895)]=_0x4f5f75==='short_answer'||_0x4f5f75===_0xc43e2a(0x43c)?null:_0xbdc070,_0x45931d[_0xc43e2a(0x548)+currentStudentName+'.lastAnswerValue']=_0x3ec8d6,_0x45931d[_0xc43e2a(0x548)+currentStudentName+_0xc43e2a(0x93c)]=serverTimestamp(),_0x45931d['players.'+currentStudentName+_0xc43e2a(0x1d7)]=![],await updateDoc(_0x195771,_0x45931d),liveGameView['innerHTML']=_0xc43e2a(0xb13);}function showAdminSummaryView(_0x104f18,_0x795e25){const _0x3429a3=_0x470ff8,_0x341f50=Object['values'](_0x104f18[_0x3429a3(0x190)]||{}),_0x17f0d6=_0x795e25[_0x3429a3(0x345)]||currentQuizData[_0x3429a3(0x497)],_0x4b63b0=_0x17f0d6==='true_false'?[_0x3429a3(0x976),_0x3429a3(0x68a)]:_0x795e25[_0x3429a3(0xb6f)]||_0x795e25[_0x3429a3(0xb3e)]||[],_0x212ce0={},_0x5dce6d=new Array(_0x4b63b0[_0x3429a3(0x9b5)])[_0x3429a3(0x518)](0x0);_0x4b63b0[_0x3429a3(0x501)]((_0x2d50a5,_0x559113)=>{_0x212ce0[_0x559113]=[];}),Object['entries'](_0x104f18[_0x3429a3(0x190)]||{})[_0x3429a3(0x501)](([_0x13dde5,_0x56d4d1])=>{const _0x4e3b22=_0x3429a3;if(_0x56d4d1[_0x4e3b22(0x6b3)]===_0x4e3b22(0x3f0)&&_0x56d4d1[_0x4e3b22(0x8ac)]!==undefined){const _0x58e1bc=_0x56d4d1['lastAnswerIndex'];_0x212ce0[_0x58e1bc]&&(_0x212ce0[_0x58e1bc][_0x4e3b22(0xb16)](_0x13dde5),_0x5dce6d[_0x58e1bc]++);}});const _0x4118b8=Math[_0x3429a3(0x115)](..._0x5dce6d,0x1),_0x196276=_0x3429a3(0x2a2)+(_0x795e25[_0x3429a3(0x283)]||_0x795e25[_0x3429a3(0x16b)])+_0x3429a3(0x969)+_0x5dce6d[_0x3429a3(0x6b7)]((_0x26776b,_0x4fcf49)=>{const _0x52ccd2=_0x3429a3,_0x600b91=_0x212ce0[_0x4fcf49]['length']>0x0?_0x212ce0[_0x4fcf49][_0x52ccd2(0x221)](',\x20'):_0x52ccd2(0x133);let _0x2cd9f7=![];if(_0x17f0d6===_0x52ccd2(0x4a1))_0x2cd9f7=_0x4fcf49===_0x795e25[_0x52ccd2(0x5ad)];else{if(_0x17f0d6===_0x52ccd2(0x618)){const _0x3ee92b=_0x795e25[_0x52ccd2(0x600)];_0x2cd9f7=_0x3ee92b&&_0x4fcf49===0x0||!_0x3ee92b&&_0x4fcf49===0x1;}else _0x17f0d6==='matching_item'&&(_0x2cd9f7=_0x4b63b0[_0x4fcf49]===_0x795e25[_0x52ccd2(0x198)]);}const _0x1333b5=_0x2cd9f7?_0x52ccd2(0xaaa):_0x52ccd2(0x393);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x26776b+_0x52ccd2(0x7a1)+_0x1333b5+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x4fcf49+_0x52ccd2(0x309)+_0x4b63b0[_0x4fcf49]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x4fcf49+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x600b91+_0x52ccd2(0x93e);})['join']('')+_0x3429a3(0x267);liveGameView[_0x3429a3(0xb6e)]=_0x196276;if(window['MathJax'])MathJax[_0x3429a3(0x697)]();document['getElementById'](_0x3429a3(0x5a0))[_0x3429a3(0xda)](_0x3429a3(0x896),async()=>{const _0x36ea4d=_0x3429a3,_0x2df71c=doc(db,'artifacts/'+appId+_0x36ea4d(0x1a9),currentLiveGameId);await updateDoc(_0x2df71c,{'questionStatus':'leaderboard'});}),document[_0x3429a3(0x8b2)](_0x3429a3(0xa44))[_0x3429a3(0xda)](_0x3429a3(0x896),()=>{openScratchpad(_0x795e25,_0x4b63b0);});}function showPlayerSummaryView(_0x15805b,_0x2e5dce){const _0x3e13f4=_0x470ff8,_0x11f49e=Object[_0x3e13f4(0x7ff)](_0x15805b[_0x3e13f4(0x190)]||{}),_0x146b43=_0x15805b[_0x3e13f4(0x190)][_0x2e5dce],_0x7b59=_0x11f49e['filter'](_0xb0c2a4=>_0xb0c2a4['status']===_0x3e13f4(0x3f0))[_0x3e13f4(0xe2)]((_0x18f3d2,_0x1dbd20)=>_0x1dbd20[_0x3e13f4(0xabc)]-_0x18f3d2[_0x3e13f4(0xabc)]),_0x2f800a=_0x7b59[_0x3e13f4(0x3f7)](_0x357e6a=>_0x357e6a===_0x146b43)+0x1,_0x5dab25=_0x146b43[_0x3e13f4(0x5d5)]?_0x3e13f4(0xaf1):_0x3e13f4(0x3a8),_0x131de7=_0x146b43[_0x3e13f4(0x5d5)]?_0x3e13f4(0x2c7):_0x3e13f4(0x544),_0x457213=_0x146b43[_0x3e13f4(0x757)]||0x0,_0x563628='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0x28faef=_0x3e13f4(0x644)+_0x563628+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0x131de7+_0x3e13f4(0x46a)+_0x5dab25+_0x3e13f4(0x2c9)+_0x457213+_0x3e13f4(0x496)+(_0x2f800a>0x0?_0x2f800a:'-')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x3e13f4(0xb6e)]=_0x28faef;}function createQuizFromBank(){const _0x4a7c6a=_0x470ff8,_0xf0f47d=document[_0x4a7c6a(0x9c4)](_0x4a7c6a(0x5f2));if(_0xf0f47d[_0x4a7c6a(0x9b5)]===0x0){showMessage(_0x4a7c6a(0x876));return;}const _0x3d5f2a=[];_0xf0f47d[_0x4a7c6a(0x501)](_0x1931ac=>{const _0x20794d=_0x4a7c6a;_0x3d5f2a[_0x20794d(0xb16)](JSON[_0x20794d(0x25b)](_0x1931ac[_0x20794d(0x593)]));});const _0x183f6c={'topic':_0x4a7c6a(0x790),'questions':_0x3d5f2a};displayGeneratedQuiz(_0x183f6c);}function showAdminLobbyView(_0x3fecc3,_0x3af367){const _0xc502b8=_0x470ff8;showView(_0xc502b8(0x68d));const _0x559c99='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x3af367+_0xc502b8(0x4c7)+_0x3fecc3+_0xc502b8(0x932);liveGameView[_0xc502b8(0xb6e)]=_0x559c99,document['getElementById'](_0xc502b8(0x9c3))[_0xc502b8(0xda)](_0xc502b8(0x896),async()=>{const _0x1b650d=_0xc502b8;if(!currentQuizData||!currentQuizData['questions']||currentQuizData[_0x1b650d(0x622)][_0x1b650d(0x9b5)]===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x377de1=doc(db,_0x1b650d(0x718)+appId+_0x1b650d(0x1a9),currentLiveGameId);await updateDoc(_0x377de1,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x38b305=currentQuizData[_0x1b650d(0x622)][0x0],_0x2d5e60=currentQuizData[_0x1b650d(0x622)]['length'];showAdminLiveQuestionView(_0x38b305,0x0,_0x2d5e60);}catch(_0x1af1dd){console['error'](_0x1b650d(0x322),_0x1af1dd),showMessage(_0x1b650d(0x5fe));}});}async function openGlobalLiveModal(){const _0x28dbca=_0x470ff8;if(allQuizzesGlobal[_0x28dbca(0x9b5)]===0x0){const _0x140383=await getDocs(collection(db,'artifacts/'+appId+_0x28dbca(0x51f)));allQuizzesGlobal=_0x140383[_0x28dbca(0xa1f)]['map'](_0x185984=>({'id':_0x185984['id'],..._0x185984[_0x28dbca(0x79e)]()}));}renderGlobalQuizList(''),document['getElementById']('global-live-game-modal')[_0x28dbca(0xaa8)][_0x28dbca(0x5b2)]('hidden');}async function openQuizBankModal(){const _0x485e70=_0x470ff8;if(allQuizzesGlobal[_0x485e70(0x9b5)]===0x0){const _0x3cacb4=await getDocs(collection(db,'artifacts/'+appId+_0x485e70(0x51f)));allQuizzesGlobal=_0x3cacb4[_0x485e70(0xa1f)][_0x485e70(0x6b7)](_0x33dbec=>({'id':_0x33dbec['id'],..._0x33dbec[_0x485e70(0x79e)]()}));}renderQuizBankList(''),document['getElementById'](_0x485e70(0x4d0))[_0x485e70(0xaa8)][_0x485e70(0x5b2)](_0x485e70(0x856));}function renderQuizBankList(_0x4e97d2='',_0x4a0cb2=![]){const _0xe2ee7f=_0x470ff8,_0x45f2f7=document[_0xe2ee7f(0x8b2)]('bank-quiz-list'),_0x1a17e5=_0x4e97d2[_0xe2ee7f(0x136)]()[_0xe2ee7f(0xf2)](),_0x3db9ee=allQuizzesGlobal['map'](_0x3e36a1=>({..._0x3e36a1,'projectName':allProjects[_0xe2ee7f(0x43e)](_0x3aa677=>_0x3aa677['id']===_0x3e36a1[_0xe2ee7f(0x54d)])?.[_0xe2ee7f(0x31e)]||_0xe2ee7f(0x2b9)}))[_0xe2ee7f(0x8dd)](_0x12fef4=>(_0x12fef4[_0xe2ee7f(0x1bc)]||'')['toLowerCase']()[_0xe2ee7f(0xa57)](_0x1a17e5)||(_0x12fef4[_0xe2ee7f(0x31e)]||'')[_0xe2ee7f(0x136)]()[_0xe2ee7f(0xa57)](_0x1a17e5)||_0x12fef4['id'][_0xe2ee7f(0x77c)]()[_0xe2ee7f(0xa57)](_0x1a17e5));document[_0xe2ee7f(0x8b2)](_0xe2ee7f(0x12e))['textContent']='('+_0x3db9ee[_0xe2ee7f(0x9b5)]+'\x20ชุด)',_0x45f2f7[_0xe2ee7f(0xb6e)]=_0x3db9ee['length']?_0x3db9ee[_0xe2ee7f(0x6b7)](_0x1baa8=>{const _0xe86824=_0xe2ee7f,_0x30e525=!_0x4a0cb2?_0xe86824(0x944)+_0x1baa8['id']+_0xe86824(0xb45)+_0x1baa8['id']+_0xe86824(0xb39)+_0x1baa8['id']+_0xe86824(0x992)+_0x1baa8['id']+_0xe86824(0x38b)+_0x1baa8['id']+_0xe86824(0x9ac)+_0x1baa8['id']+_0xe86824(0x360)+_0x1baa8['topic']+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20':'';return'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x1baa8['id']+_0xe86824(0x6b8)+(_0x1baa8[_0xe86824(0x1bc)]||_0xe86824(0x8cb))+_0xe86824(0x795)+(_0x1baa8[_0xe86824(0x622)]?.[_0xe86824(0x9b5)]||0x0)+_0xe86824(0x810)+_0x1baa8['projectName']+_0xe86824(0x7e7)+_0x1baa8['id']+_0xe86824(0x3bd)+_0x30e525+_0xe86824(0x5db);})[_0xe2ee7f(0x221)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',!_0x4a0cb2&&(_0x45f2f7[_0xe2ee7f(0x9c4)](_0xe2ee7f(0x18f))[_0xe2ee7f(0x501)](_0x5b0819=>{const _0x393d4a=_0xe2ee7f;_0x5b0819[_0x393d4a(0xda)](_0x393d4a(0x896),()=>{const _0x5327d3=_0x393d4a,_0x141215=_0x5b0819[_0x5327d3(0xad1)]['id'];document[_0x5327d3(0x8b2)]('quiz-bank-modal')[_0x5327d3(0xaa8)][_0x5327d3(0x4de)](_0x5327d3(0x856)),showQuizDetailView(_0x141215);});}),_0x45f2f7['querySelectorAll'](_0xe2ee7f(0x6b5))[_0xe2ee7f(0x501)](_0x39e591=>{const _0xb11f73=_0xe2ee7f;_0x39e591[_0xb11f73(0xda)](_0xb11f73(0x896),_0x23ca56=>{const _0x5dbea9=_0xb11f73;_0x23ca56[_0x5dbea9(0x4be)]();const _0x3a4c02=_0x39e591[_0x5dbea9(0xad1)]['id'],_0xf9ada4=allQuizzesGlobal[_0x5dbea9(0x43e)](_0x1eb23c=>_0x1eb23c['id']===_0x3a4c02);_0xf9ada4?(currentQuizData=_0xf9ada4,document[_0x5dbea9(0x8b2)](_0x5dbea9(0x4d0))['classList']['add']('hidden'),startAdminTest()):showMessage(_0x5dbea9(0x85b));});}),_0x45f2f7['querySelectorAll']('.quiz-bank-parallel-btn')[_0xe2ee7f(0x501)](_0x1e645e=>{const _0x208aef=_0xe2ee7f;_0x1e645e['addEventListener'](_0x208aef(0x896),_0x5d2a13=>{const _0x2b7bc6=_0x208aef;_0x5d2a13[_0x2b7bc6(0x4be)]();const _0x128c1d=_0x1e645e[_0x2b7bc6(0xad1)]['id'],_0x58329=allQuizzesGlobal[_0x2b7bc6(0x43e)](_0x48a91d=>_0x48a91d['id']===_0x128c1d);_0x58329?(document[_0x2b7bc6(0x8b2)]('quiz-bank-modal')[_0x2b7bc6(0xaa8)][_0x2b7bc6(0x4de)](_0x2b7bc6(0x856)),handleGenerateParallelFromBank(_0x58329)):showMessage(_0x2b7bc6(0x85b));});}),_0x45f2f7['querySelectorAll']('.quiz-bank-present-btn')[_0xe2ee7f(0x501)](_0x317474=>{const _0x371fbd=_0xe2ee7f;_0x317474[_0x371fbd(0xda)]('click',_0xf83c53=>{const _0x32b2a2=_0x371fbd;_0xf83c53[_0x32b2a2(0x4be)]();const _0x3d276b=_0x317474['dataset']['id'],_0x177a12=allQuizzesGlobal[_0x32b2a2(0x43e)](_0x435af5=>_0x435af5['id']===_0x3d276b);_0x177a12?(document[_0x32b2a2(0x8b2)](_0x32b2a2(0x4d0))['classList']['add'](_0x32b2a2(0x856)),startPresentation(_0x177a12)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x45f2f7[_0xe2ee7f(0x9c4)](_0xe2ee7f(0x862))[_0xe2ee7f(0x501)](_0x106aa8=>{_0x106aa8['addEventListener']('click',_0xa259fa=>{const _0x26c9dc=_0xb340;_0xa259fa[_0x26c9dc(0x4be)]();const _0x447d89=_0x106aa8['dataset']['id'];document[_0x26c9dc(0x8b2)]('quiz-bank-modal')[_0x26c9dc(0xaa8)][_0x26c9dc(0x4de)]('hidden'),handleMoveQuiz(_0x447d89);});}),_0x45f2f7[_0xe2ee7f(0x9c4)](_0xe2ee7f(0x7c3))[_0xe2ee7f(0x501)](_0x23fefd=>{_0x23fefd['addEventListener']('click',_0x48f158=>{const _0x549450=_0xb340;_0x48f158[_0x549450(0x4be)]();const _0x4f22d1=_0x23fefd[_0x549450(0xad1)]['id'];document['getElementById'](_0x549450(0x4d0))[_0x549450(0xaa8)]['add'](_0x549450(0x856)),handleQuizSettings(_0x4f22d1);});}),_0x45f2f7[_0xe2ee7f(0x9c4)](_0xe2ee7f(0x611))['forEach'](_0x1b98be=>{const _0x5776c2=_0xe2ee7f;_0x1b98be[_0x5776c2(0xda)](_0x5776c2(0x896),_0x3eae2a=>{const _0x558320=_0x5776c2;_0x3eae2a[_0x558320(0x4be)]();const _0x319fc7=_0x1b98be[_0x558320(0xad1)]['id'],_0x38a6ae=_0x1b98be[_0x558320(0xad1)][_0x558320(0x1bc)];showConfirmation(_0x558320(0x4af)+_0x38a6ae+_0x558320(0x907),()=>handleDeleteQuiz(_0x319fc7));});}));}async function handleCompareResults(_0x49b9fa,_0x2c1803){const _0x37a86d=_0x470ff8,_0x387e62=document[_0x37a86d(0x8b2)]('comparison-modal'),_0x2366a7=document[_0x37a86d(0x8b2)](_0x37a86d(0xb55)),_0x2eaba9=document[_0x37a86d(0x8b2)](_0x37a86d(0x200));document['getElementById']('comparison-overall-tab')[_0x37a86d(0xaa8)][_0x37a86d(0x4de)]('active'),document['getElementById']('comparison-individual-tab')[_0x37a86d(0xaa8)][_0x37a86d(0x5b2)](_0x37a86d(0x3f0)),_0x2366a7['classList'][_0x37a86d(0x5b2)]('hidden'),_0x2eaba9[_0x37a86d(0xaa8)][_0x37a86d(0x4de)](_0x37a86d(0x856)),_0x2366a7[_0x37a86d(0xb6e)]=_0x37a86d(0x83b),_0x2eaba9[_0x37a86d(0xb6e)]='',_0x387e62[_0x37a86d(0xaa8)][_0x37a86d(0x5b2)](_0x37a86d(0x856));try{const _0x4a580e=doc(db,_0x37a86d(0x718)+appId+'/public/data/quizzes',_0x49b9fa),_0x44188d=await getDoc(_0x4a580e);if(!_0x44188d[_0x37a86d(0x811)]())throw new Error(_0x37a86d(0x8d9));const _0x550919=_0x44188d['data'](),_0x370895=_0x550919[_0x37a86d(0x622)]['length'],_0x4ff6e6=collection(db,_0x37a86d(0x718)+appId+_0x37a86d(0xa4e)+_0x2c1803+_0x37a86d(0x651)),_0x21b71d=collection(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x49b9fa+_0x37a86d(0x651)),[_0xe7eddc,_0x770b09]=await Promise[_0x37a86d(0x4ef)]([getDocs(_0x4ff6e6),getDocs(_0x21b71d)]),_0x2cb789=_0xe7eddc['docs']['map'](_0x1ae927=>_0x1ae927[_0x37a86d(0x79e)]()),_0x8454de=_0x770b09[_0x37a86d(0xa1f)][_0x37a86d(0x6b7)](_0x1535b0=>_0x1535b0[_0x37a86d(0x79e)]()),_0x45a0c0=_0x2cb789[_0x37a86d(0x6b7)](_0x2250a3=>_0x2250a3[_0x37a86d(0x98f)]),_0x270f15=_0x8454de[_0x37a86d(0x6b7)](_0x3ebea9=>_0x3ebea9[_0x37a86d(0x98f)]),_0x2a69d6=calculateMeanAndStdDev(_0x45a0c0),_0x5b42f4=calculateMeanAndStdDev(_0x270f15),_0x19833c=_0x2a69d6[_0x37a86d(0xc4)],_0x3a7b5b=_0x5b42f4[_0x37a86d(0xc4)],_0x533f87=_0x3a7b5b-_0x19833c;let _0x245cac='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>'+_0x19833c[_0x37a86d(0x750)](0x2)+_0x37a86d(0x6aa)+_0x3a7b5b['toFixed'](0x2)+_0x37a86d(0x1ac)+(_0x533f87>=0x0?_0x37a86d(0xd2):_0x37a86d(0x7fe))+_0x37a86d(0x4a5)+(_0x533f87>=0x0?'text-emerald-800':_0x37a86d(0x7f3))+'\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20'+(_0x533f87>=0x0?_0x37a86d(0xa35):'text-red-900')+'\x22>'+(_0x533f87>=0x0?'+':'')+_0x533f87[_0x37a86d(0x750)](0x2)+_0x37a86d(0x42b);_0x2366a7[_0x37a86d(0xb6e)]=_0x245cac;const _0x24cd34=document['getElementById'](_0x37a86d(0x537))['getContext']('2d');if(chartInstances[_0x37a86d(0xa02)])chartInstances['comparison']['destroy']();chartInstances['comparison']=new Chart(_0x24cd34,{'type':_0x37a86d(0x207),'data':{'labels':[_0x37a86d(0x9c0)],'datasets':[{'label':_0x37a86d(0xb2b),'data':[_0x19833c],'backgroundColor':_0x37a86d(0x838)},{'label':'หลังเรียน','data':[_0x3a7b5b],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x370895}}}});const _0x2317c4=currentProjectData['students']||[],_0x4e849b=_0x2317c4[_0x37a86d(0x6b7)](_0x44ceb4=>{const _0x22f61c=_0x37a86d,_0x2385fa=_0x2cb789[_0x22f61c(0x43e)](_0x1983c0=>_0x1983c0[_0x22f61c(0x29c)]===_0x44ceb4),_0x34522d=_0x8454de[_0x22f61c(0x43e)](_0x3896ef=>_0x3896ef[_0x22f61c(0x29c)]===_0x44ceb4),_0x4f8a66=_0x2385fa?_0x2385fa['latestScore']:null,_0x32af78=_0x34522d?_0x34522d[_0x22f61c(0x98f)]:null,_0x672782=_0x4f8a66!==null&&_0x32af78!==null?_0x32af78-_0x4f8a66:null,_0x4b9abd=_0x4f8a66!==null?calculateZScore(_0x4f8a66,_0x2a69d6[_0x22f61c(0xc4)],_0x2a69d6['stdDev']):null,_0x2899c9=_0x32af78!==null?calculateZScore(_0x32af78,_0x5b42f4[_0x22f61c(0xc4)],_0x5b42f4['stdDev']):null,_0x7f3e68=_0x4b9abd!==null?calculateTScore(_0x4b9abd):null,_0x53da25=_0x2899c9!==null?calculateTScore(_0x2899c9):null,_0x1a2f0b=_0x7f3e68!==null&&_0x53da25!==null?_0x53da25-_0x7f3e68:null;return{'name':_0x44ceb4,'preScore':_0x4f8a66,'postScore':_0x32af78,'gain':_0x672782,'preTScore':_0x7f3e68,'postTScore':_0x53da25,'tGain':_0x1a2f0b};});renderIndividualComparisonTable(_0x4e849b,_0x2eaba9);}catch(_0x438e51){console['error']('Error\x20comparing\x20results:',_0x438e51),_0x2366a7['innerHTML']=_0x37a86d(0x903);}}async function saveBlueprintProject(){const _0x1a56e4=_0x470ff8;if(!extractedBlueprintData||!extractedBlueprintData['curriculum']){showMessage('ไม่พบข้อมูลหัวข้อที่จะบันทึก');return;}const _0x212971=prompt(_0x1a56e4(0xdf),_0x1a56e4(0xa8a));if(!_0x212971||_0x212971['trim']()==='')return;const _0x2c75d1={};extractedBlueprintData[_0x1a56e4(0x825)][_0x1a56e4(0x501)](_0x2d20bf=>{const _0x920ed8=_0x1a56e4;_0x2d20bf[_0x920ed8(0x279)][_0x920ed8(0x501)](_0x30a907=>{const _0x5f77a7=_0x920ed8;_0x30a907[_0x5f77a7(0xae6)][_0x5f77a7(0x501)](_0x6e295a=>{const _0x20702d=_0x5f77a7,_0x4f1e8d=_0x20702d(0x996)+Date['now']()+Math[_0x20702d(0x3c3)]()['toString'](0x24)[_0x20702d(0x762)](0x2,0x9);_0x2c75d1[_0x4f1e8d]={'sara':_0x2d20bf[_0x20702d(0x9f1)],'mainTopic':_0x30a907['topicName'],'subTopic':_0x6e295a,'status':_0x20702d(0x475),'lessonContent':null};});});});try{const _0x2e126e=collection(db,_0x1a56e4(0x718)+appId+_0x1a56e4(0x43a));await addDoc(_0x2e126e,{'projectName':_0x212971[_0x1a56e4(0xf2)](),'gradeLevel':extractedBlueprintData['gradeLevel'],'topics':_0x2c75d1,'createdAt':serverTimestamp()}),showMessage(_0x1a56e4(0x606)+_0x212971[_0x1a56e4(0xf2)]()+_0x1a56e4(0x904)),document[_0x1a56e4(0x8b2)](_0x1a56e4(0x75c))[_0x1a56e4(0xaa8)][_0x1a56e4(0x4de)](_0x1a56e4(0x856));}catch(_0x2f1375){console[_0x1a56e4(0x6c4)](_0x1a56e4(0x69b),_0x2f1375),showMessage(_0x1a56e4(0x3cd));}}async function showBlueprintProjects(){const _0x5ab2ab=_0x470ff8,_0x23b67c=document[_0x5ab2ab(0x8b2)](_0x5ab2ab(0x507)),_0x4fc60d=document[_0x5ab2ab(0x8b2)]('blueprint-project-list');_0x4fc60d['innerHTML']=_0x5ab2ab(0x5ac),_0x23b67c[_0x5ab2ab(0xaa8)][_0x5ab2ab(0x5b2)](_0x5ab2ab(0x856));try{const _0x2525d9=collection(db,_0x5ab2ab(0x718)+appId+_0x5ab2ab(0x43a)),_0x188490=await getDocs(_0x2525d9);if(_0x188490[_0x5ab2ab(0x5ff)]){_0x4fc60d['innerHTML']=_0x5ab2ab(0xa8d);return;}const _0x5a64dd=_0x188490[_0x5ab2ab(0xa1f)][_0x5ab2ab(0x6b7)](_0x4c8a87=>({'id':_0x4c8a87['id'],..._0x4c8a87[_0x5ab2ab(0x79e)]()}));_0x5a64dd[_0x5ab2ab(0xe2)]((_0x167dac,_0x48b7bc)=>_0x167dac['projectName'][_0x5ab2ab(0xaf7)](_0x48b7bc[_0x5ab2ab(0x31e)],'th')),_0x4fc60d[_0x5ab2ab(0xb6e)]=_0x5a64dd[_0x5ab2ab(0x6b7)](_0x39cdb9=>_0x5ab2ab(0x7e3)+_0x39cdb9[_0x5ab2ab(0x31e)]+_0x5ab2ab(0x6a2)+_0x39cdb9['gradeLevel']+_0x5ab2ab(0x9f8)+Object['keys'](_0x39cdb9[_0x5ab2ab(0x5b0)])[_0x5ab2ab(0x9b5)]+'\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x39cdb9['id']+_0x5ab2ab(0x34f)+_0x39cdb9['id']+_0x5ab2ab(0x7db))[_0x5ab2ab(0x221)]('');}catch(_0x752e32){console[_0x5ab2ab(0x6c4)](_0x5ab2ab(0x20e),_0x752e32),_0x4fc60d[_0x5ab2ab(0xb6e)]=_0x5ab2ab(0x2d8);}}async function displayBlueprintProjectManager(_0x3f8679){const _0x501adf=_0x470ff8;currentBlueprintProjectId=_0x3f8679,document[_0x501adf(0x8b2)]('blueprint-projects-modal')[_0x501adf(0xaa8)][_0x501adf(0x4de)](_0x501adf(0x856)),showView('admin-dashboard'),projectDashboardView[_0x501adf(0xaa8)][_0x501adf(0x4de)]('hidden');const _0x4a3d16=document[_0x501adf(0x8b2)](_0x501adf(0x76d));_0x4a3d16[_0x501adf(0xaa8)][_0x501adf(0x5b2)](_0x501adf(0x856)),document[_0x501adf(0x8b2)](_0x501adf(0xad6))[_0x501adf(0xb6e)]=_0x501adf(0x83b);try{const _0x40bcc4=doc(db,_0x501adf(0x718)+appId+_0x501adf(0x43a),_0x3f8679),_0x18e844=await getDoc(_0x40bcc4);if(!_0x18e844[_0x501adf(0x811)]())throw new Error(_0x501adf(0x89d));const _0x43131f={'id':_0x18e844['id'],..._0x18e844[_0x501adf(0x79e)]()};document['getElementById'](_0x501adf(0x8d3))[_0x501adf(0x464)]=_0x43131f['projectName'],renderBlueprintTopicManager(_0x43131f);}catch(_0x25becb){console[_0x501adf(0x6c4)]('Error\x20displaying\x20blueprint\x20project:',_0x25becb),showMessage(_0x25becb[_0x501adf(0x80a)]),showView(_0x501adf(0x4a2));}}function renderBlueprintTopicManager(_0x396052){const _0x4c447c=_0x470ff8,_0x126dae=document[_0x4c447c(0x8b2)]('bp-topic-list-container'),_0x4a3088=_0x396052[_0x4c447c(0x5b0)]||{};if(Object[_0x4c447c(0xa67)](_0x4a3088)[_0x4c447c(0x9b5)]===0x0){_0x126dae['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>';return;}const _0x566728={};for(const _0x185d4f in _0x4a3088){const _0x226f42={'id':_0x185d4f,..._0x4a3088[_0x185d4f]};_0x566728[_0x226f42[_0x4c447c(0x9f1)]]=_0x566728[_0x226f42[_0x4c447c(0x9f1)]]||{},_0x566728[_0x226f42[_0x4c447c(0x9f1)]][_0x226f42['mainTopic']]=_0x566728[_0x226f42[_0x4c447c(0x9f1)]][_0x226f42[_0x4c447c(0x57d)]]||[],_0x566728[_0x226f42[_0x4c447c(0x9f1)]][_0x226f42['mainTopic']][_0x4c447c(0xb16)](_0x226f42);}let _0x422f64='';const _0x5cb2a9=Object[_0x4c447c(0xa67)](_0x566728)[_0x4c447c(0xe2)]((_0x190b27,_0x4a8c4d)=>_0x190b27[_0x4c447c(0xaf7)](_0x4a8c4d,'th'));for(const _0x2c410c of _0x5cb2a9){_0x422f64+=_0x4c447c(0x340)+_0x2c410c+'</h4>';const _0x5bd71f=Object['keys'](_0x566728[_0x2c410c])['sort']((_0x518d54,_0xcbb46e)=>_0x518d54[_0x4c447c(0xaf7)](_0xcbb46e,'th'));for(const _0x535408 of _0x5bd71f){_0x422f64+=_0x4c447c(0xaae)+_0x535408+_0x4c447c(0xb1b),_0x566728[_0x2c410c][_0x535408][_0x4c447c(0xe2)]((_0x4ada23,_0x28758d)=>_0x4ada23[_0x4c447c(0x171)][_0x4c447c(0xaf7)](_0x28758d['subTopic'],'th')),_0x566728[_0x2c410c][_0x535408][_0x4c447c(0x501)](_0x53feeb=>{const _0x38e4c8=_0x4c447c,_0xb6af04=_0x53feeb['id'],_0x3994ae=_0x53feeb[_0x38e4c8(0xa7e)]||[],_0x2a9a21=_0x3994ae[_0x38e4c8(0x9b5)]>0x0,_0x2403a8=_0x53feeb[_0x38e4c8(0x6b3)]===_0x38e4c8(0xed);let _0x5b33bf='';_0x2a9a21?_0x5b33bf=_0x38e4c8(0xada)+_0x3994ae[_0x38e4c8(0x9b5)]+_0x38e4c8(0xa84):_0x5b33bf='<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20'+(_0x2403a8?_0x38e4c8(0x292):'bg-gray-200\x20text-gray-700')+'\x22>'+(_0x2403a8?_0x38e4c8(0x3fd):_0x38e4c8(0xaa9))+_0x38e4c8(0x304);const _0xdbc3f6=!_0x2403a8?_0x38e4c8(0x3af):'',_0x45167f=!_0x2403a8?_0x38e4c8(0x9c9):'';let _0x5741e6=_0x2403a8?_0x38e4c8(0x3bf):_0x38e4c8(0x2f6);_0x422f64+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22'+_0xb6af04+_0x38e4c8(0xb64)+_0x53feeb[_0x38e4c8(0x171)]+_0x38e4c8(0x7d3)+_0x5b33bf+_0x38e4c8(0x532)+_0xdbc3f6+_0x38e4c8(0x92a)+_0x45167f+'\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5741e6+_0x38e4c8(0x114);}),_0x422f64+=_0x4c447c(0x449);}_0x422f64+='</div>';}_0x126dae[_0x4c447c(0xb6e)]=_0x422f64;}async function openTopicQuizBank(_0x5df130){const _0x421659=_0x470ff8,_0x1e468d=document[_0x421659(0x8b2)]('topic-quiz-bank-modal'),_0x13c18b=document[_0x421659(0x8b2)](_0x421659(0x35c)),_0x1d1351=document[_0x421659(0x8b2)]('clear-all-links-btn');try{await ensureGlobalQuizzesLoaded();const _0x3d8384=doc(db,_0x421659(0x718)+appId+_0x421659(0x43a),currentBlueprintProjectId),_0x27cc0a=await getDoc(_0x3d8384);if(!_0x27cc0a[_0x421659(0x811)]())return;const _0x17c2dd=_0x27cc0a[_0x421659(0x79e)](),_0x3c4506=_0x17c2dd[_0x421659(0x5b0)][_0x5df130];document[_0x421659(0x8b2)](_0x421659(0x39a))[_0x421659(0x464)]=_0x3c4506['subTopic'];const _0x13c9b2=_0x3c4506['linkedQuizIds']||[];_0x1d1351[_0x421659(0xaa8)]['toggle']('hidden',_0x13c9b2['length']===0x0),_0x1d1351[_0x421659(0xb79)]=()=>handleClearAllLinksForTopic(_0x5df130);if(_0x13c9b2[_0x421659(0x9b5)]===0x0)_0x13c18b['innerHTML']=_0x421659(0x674);else{const _0x548907=allQuizzesGlobal['filter'](_0xc39aa0=>_0x13c9b2[_0x421659(0xa57)](_0xc39aa0['id']));_0x13c18b[_0x421659(0xb6e)]=_0x548907[_0x421659(0x6b7)](_0x3abfb4=>_0x421659(0x1ca)+_0x3abfb4['id']+_0x421659(0xa58)+_0x3abfb4[_0x421659(0x1bc)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20'+_0x3abfb4['id']+'\x20|\x20'+_0x3abfb4['questions'][_0x421659(0x9b5)]+_0x421659(0x2a6)+_0x3abfb4['id']+_0x421659(0xb46)+_0x3abfb4['id']+_0x421659(0x2ac)+_0x3abfb4['id']+_0x421659(0x2a3)+_0x3abfb4['id']+_0x421659(0x5a1)+_0x3abfb4['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3abfb4['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22'+_0x5df130+'\x22\x20data-quiz-id=\x22'+_0x3abfb4['id']+_0x421659(0x84a))[_0x421659(0x221)]('');}document[_0x421659(0x8b2)]('add-from-global-bank-btn')[_0x421659(0xb79)]=()=>{openQuizSelectorForBlueprint(_0x5df130);},document[_0x421659(0x8b2)](_0x421659(0x4e8))['onclick']=()=>_0x1e468d[_0x421659(0xaa8)][_0x421659(0x4de)](_0x421659(0x856)),_0x1e468d['classList'][_0x421659(0x5b2)](_0x421659(0x856));}catch(_0x319669){showMessage(_0x319669[_0x421659(0x80a)]);}}async function openQuizSelectorForBlueprint(_0x12b0ad){const _0x25580b=_0x470ff8,_0x1421b4=document['getElementById'](_0x25580b(0x4d0)),_0x168d91=document[_0x25580b(0x8b2)](_0x25580b(0x33f));_0x168d91[_0x25580b(0xaa8)][_0x25580b(0x4de)]('hidden'),document[_0x25580b(0x8b2)]('confirm-link-quiz-btn')?.[_0x25580b(0x5b2)]();const _0x1ed971=document[_0x25580b(0x5ed)](_0x25580b(0x9d2));_0x1ed971['id']='confirm-link-quiz-btn',_0x1ed971[_0x25580b(0x799)]=_0x25580b(0x849),_0x1ed971[_0x25580b(0x464)]=_0x25580b(0xa2f),_0x1ed971['disabled']=!![];try{await ensureGlobalQuizzesLoaded(),_0x1421b4['classList'][_0x25580b(0x5b2)]('hidden'),renderQuizBankListForMultiSelect(''),document[_0x25580b(0x8b2)](_0x25580b(0x4c8))[_0x25580b(0x3cb)][_0x25580b(0x22e)]=_0x25580b(0x61b),_0x1421b4[_0x25580b(0x7a8)]('.flex.justify-between.items-center')[_0x25580b(0x584)](_0x1ed971);const _0x3c17c0=(_0x1dac0b=![])=>{const _0x2cc08f=_0x25580b;_0x1421b4['classList'][_0x2cc08f(0x4de)]('hidden'),document[_0x2cc08f(0x8b2)]('bulk-quiz-settings-btn')[_0x2cc08f(0x3cb)][_0x2cc08f(0x22e)]=_0x2cc08f(0xb0e),_0x1ed971[_0x2cc08f(0x5b2)](),_0x1dac0b&&openTopicQuizBank(_0x12b0ad);};_0x1ed971[_0x25580b(0xb79)]=async()=>{const _0x2192b3=_0x25580b,_0x23c292=Array[_0x2192b3(0xaf3)](document[_0x2192b3(0x9c4)](_0x2192b3(0xa53)))[_0x2192b3(0x6b7)](_0x192ef9=>_0x192ef9[_0x2192b3(0x593)]);if(_0x23c292[_0x2192b3(0x9b5)]===0x0)return;try{const _0x22e151=doc(db,_0x2192b3(0x718)+appId+_0x2192b3(0x43a),currentBlueprintProjectId),_0x10b66b=(await getDoc(_0x22e151))[_0x2192b3(0x79e)](),_0x3feb43=_0x10b66b['topics'][_0x12b0ad]['linkedQuizIds']||[],_0x41aef7=[...new Set([..._0x3feb43,..._0x23c292])];await updateDoc(_0x22e151,{[_0x2192b3(0x2ff)+_0x12b0ad+_0x2192b3(0x1ff)]:_0x41aef7}),showMessage(_0x2192b3(0x650)+_0x23c292['length']+_0x2192b3(0x640)),_0x3c17c0(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x47a652){console[_0x2192b3(0x6c4)](_0x2192b3(0x83e),_0x47a652);}},document[_0x25580b(0x8b2)](_0x25580b(0x319))[_0x25580b(0xb79)]=()=>_0x3c17c0(!![]);}catch(_0x266f5d){showMessage(_0x266f5d[_0x25580b(0x80a)]),_0x168d91[_0x25580b(0xaa8)]['remove'](_0x25580b(0x856));}}function handleClearLinkedQuiz(_0x26240e){const _0x53b288=_0x470ff8;showConfirmation(_0x53b288(0x603),async()=>{const _0x65e296=_0x53b288;try{const _0x7e98de=doc(db,_0x65e296(0x718)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x7e98de,{[_0x65e296(0x2ff)+_0x26240e+'.linkedQuizId']:deleteField()}),showMessage(_0x65e296(0xacf)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1e924b){console[_0x65e296(0x6c4)](_0x65e296(0xa7f),_0x1e924b),showMessage('เกิดข้อผิดพลาด');}});}async function addTopicToProject(){const _0x42faae=_0x470ff8,_0x2c17c3=prompt(_0x42faae(0x112));if(!_0x2c17c3||_0x2c17c3[_0x42faae(0xf2)]()==='')return;const _0x3b59ef=prompt(_0x42faae(0x2b7),'สาระที่\x201'),_0x34e18a=prompt(_0x42faae(0x702),_0x42faae(0x72c)),_0x5f1271=_0x42faae(0x996)+Date[_0x42faae(0x3a4)]()+Math[_0x42faae(0x3c3)]()[_0x42faae(0x77c)](0x24)['substr'](0x2,0x9),_0x5d2dca={'sara':_0x3b59ef,'mainTopic':_0x34e18a,'subTopic':_0x2c17c3['trim'](),'status':'not_generated','lessonContent':null};try{const _0x1b28bd=doc(db,_0x42faae(0x718)+appId+_0x42faae(0x43a),currentBlueprintProjectId);await updateDoc(_0x1b28bd,{['topics.'+_0x5f1271]:_0x5d2dca}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x128fb1){console[_0x42faae(0x6c4)](_0x42faae(0xa98),_0x128fb1),showMessage(_0x42faae(0x49a));}}async function editTopicInProject(_0x71ed1a){const _0x974140=_0x470ff8,_0x4321a9=document[_0x974140(0x7a8)](_0x974140(0x709)+_0x71ed1a+'\x22]'),_0x16317b=_0x4321a9['querySelector'](_0x974140(0x9ae)),_0xc03a9c=_0x16317b[_0x974140(0x464)],_0x2b55bc=prompt(_0x974140(0xa0a),_0xc03a9c);if(!_0x2b55bc||_0x2b55bc['trim']()===''||_0x2b55bc[_0x974140(0xf2)]()===_0xc03a9c)return;try{const _0x50086d=doc(db,_0x974140(0x718)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x50086d,{[_0x974140(0x2ff)+_0x71ed1a+_0x974140(0x435)]:_0x2b55bc[_0x974140(0xf2)]()}),_0x16317b['textContent']=_0x2b55bc[_0x974140(0xf2)](),showMessage(_0x974140(0x833));}catch(_0x33c99){console[_0x974140(0x6c4)](_0x974140(0x17d),_0x33c99),showMessage('เกิดข้อผิดพลาดในการแก้ไข');}}async function deleteTopicFromProject(_0x13841f){const _0x79aa9e=_0x470ff8;if(!confirm(_0x79aa9e(0x957)))return;try{const _0x20678b=doc(db,_0x79aa9e(0x718)+appId+_0x79aa9e(0x43a),currentBlueprintProjectId);await updateDoc(_0x20678b,{['topics.'+_0x13841f]:deleteField()}),document[_0x79aa9e(0x7a8)](_0x79aa9e(0x709)+_0x13841f+'\x22]')[_0x79aa9e(0x5b2)](),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x5e3aca){console[_0x79aa9e(0x6c4)]('Error\x20deleting\x20topic:',_0x5e3aca),showMessage(_0x79aa9e(0x826));}}async function generateAndSaveLessonForBlueprint(_0x24f7a9,_0x34b5f4,_0x48e387){handleGenerateAndShowLesson(_0x34b5f4,_0x48e387);const _0x274f2b=setInterval(async()=>{const _0x20c5ab=_0xb340,_0x2d9582=document[_0x20c5ab(0x8b2)](_0x20c5ab(0xe5)),_0x1449ee=_0x2d9582[_0x20c5ab(0xaa8)][_0x20c5ab(0xaa3)]('hidden');if(_0x1449ee){clearInterval(_0x274f2b);if(currentApplicationData&&currentApplicationData[_0x20c5ab(0x9b5)]>0x0){const _0x271dc5={'point':document[_0x20c5ab(0x8b2)](_0x20c5ab(0x7a6))[_0x20c5ab(0xb6e)],'memory':document[_0x20c5ab(0x8b2)](_0x20c5ab(0x64a))[_0x20c5ab(0xb6e)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x20c5ab(0x8b2)]('summaryContent')[_0x20c5ab(0xb6e)]};try{const _0x5cc317=doc(db,_0x20c5ab(0x718)+appId+_0x20c5ab(0x43a),currentBlueprintProjectId);await updateDoc(_0x5cc317,{[_0x20c5ab(0x2ff)+_0x24f7a9+_0x20c5ab(0x9a3)]:_0x271dc5,['topics.'+_0x24f7a9+'.status']:_0x20c5ab(0xed)}),console[_0x20c5ab(0x638)]('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x24f7a9+_0x20c5ab(0x2fe)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2f3a0e){console[_0x20c5ab(0x6c4)]('Error\x20saving\x20lesson\x20to\x20project:',_0x2f3a0e);}}}},0x3e8);}function displayHalfMarkResult(_0x534455,_0x2960bb){const _0x43100d=_0x470ff8,_0x401d14=_0x534455>=_0x2960bb/0x2,_0x222d19=_0x401d14?_0x43100d(0x777):'bg-red-100',_0x11951a=_0x401d14?'<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>':_0x43100d(0x376),_0x4d7f6c=_0x401d14?_0x43100d(0x68f):_0x43100d(0x7f3),_0x56a267=_0x401d14?_0x43100d(0x979):'คะแนนยังไม่ถึงครึ่ง',_0xee247a=_0x401d14?_0x43100d(0x2a5):_0x43100d(0x418);let _0x5c54b8=_0x43100d(0xa36)+_0x222d19+_0x43100d(0x806)+_0x11951a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x4d7f6c+_0x43100d(0x6c6)+_0x56a267+_0x43100d(0x5c1)+_0xee247a+_0x43100d(0x569);studentResultArea[_0x43100d(0xb6e)]=_0x5c54b8,studentResultArea['classList'][_0x43100d(0x5b2)](_0x43100d(0x856)),studentQuizArea[_0x43100d(0xaa8)][_0x43100d(0x4de)](_0x43100d(0x856)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x401d14});}function displayPerfectScoreResult(_0x5b2008,_0x86613a){const _0x37efa7=_0x470ff8,_0x9bc623=_0x5b2008===_0x86613a,_0x4e7020=_0x9bc623?_0x37efa7(0x866):_0x37efa7(0x7b7),_0xcfa2a9=_0x9bc623?_0x37efa7(0x58f):'<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>',_0x4c818f=_0x9bc623?_0x37efa7(0x6af):_0x37efa7(0x6cb),_0x184488=_0x9bc623?'คะแนนเต็ม!':_0x37efa7(0x148),_0x4c6721=_0x9bc623?'สุดยอด!\x20ตอบถูกทุกข้อ':_0x37efa7(0xaf6);let _0x2175ab=_0x37efa7(0xa36)+_0x4e7020+_0x37efa7(0x806)+_0xcfa2a9+_0x37efa7(0x6ad)+_0x4c818f+_0x37efa7(0x6c6)+_0x184488+_0x37efa7(0x5c1)+_0x4c6721+_0x37efa7(0x569);studentResultArea['innerHTML']=_0x2175ab,studentResultArea[_0x37efa7(0xaa8)][_0x37efa7(0x5b2)](_0x37efa7(0x856)),studentQuizArea[_0x37efa7(0xaa8)]['add'](_0x37efa7(0x856)),setupResultScreenBackButton({'showRankings':![],'score':_0x5b2008,'totalQuestions':_0x86613a});}function renderIndividualComparisonTable(_0x20e8ad,_0x5b6d2b){const _0x311dc8=_0x470ff8;_0x20e8ad[_0x311dc8(0xe2)]((_0x1cc3bd,_0x396a33)=>(_0x396a33['tGain']??-Infinity)-(_0x1cc3bd[_0x311dc8(0x793)]??-Infinity));let _0x520782=_0x311dc8(0x40a);_0x20e8ad[_0x311dc8(0x9b5)]===0x0?_0x520782+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x20e8ad[_0x311dc8(0x501)]((_0x186082,_0x2a919a)=>{const _0x2f3779=_0x311dc8;let _0x5af6ba='-',_0x1225a5='';if(_0x186082[_0x2f3779(0x89b)]!==null){const _0x4ff45a=_0x186082[_0x2f3779(0x89b)]>0x0?'text-green-600':_0x186082[_0x2f3779(0x89b)]<0x0?_0x2f3779(0x9e5):_0x2f3779(0x403),_0x12834b=_0x186082[_0x2f3779(0x89b)]>0x0?'+':'';_0x5af6ba=_0x2f3779(0x1c7)+_0x4ff45a+'\x22>'+_0x12834b+_0x186082[_0x2f3779(0x89b)]+'</span>';if(_0x186082[_0x2f3779(0x89b)]>0x0)_0x1225a5='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0x186082['gain']<0x0?_0x1225a5=_0x2f3779(0x12a):_0x1225a5=_0x2f3779(0x432);}let _0x3d63c5='-';if(_0x186082['tGain']!==null){const _0x113142=_0x186082['tGain']>0x0?_0x2f3779(0x262):_0x186082[_0x2f3779(0x793)]<0x0?'text-red-600':_0x2f3779(0x403),_0x5a1d36=_0x186082[_0x2f3779(0x793)]>0x0?'+':'';_0x3d63c5=_0x2f3779(0x1c7)+_0x113142+'\x22>'+_0x5a1d36+_0x186082[_0x2f3779(0x793)][_0x2f3779(0x750)](0x2)+_0x2f3779(0x304);}_0x520782+=_0x2f3779(0x357)+(_0x2a919a+0x1)+_0x2f3779(0x45b)+_0x186082[_0x2f3779(0x20a)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x186082[_0x2f3779(0xb72)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>'+(_0x186082[_0x2f3779(0x103)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x5af6ba+_0x2f3779(0x706)+_0x1225a5+_0x2f3779(0x372)+(_0x186082[_0x2f3779(0x65f)]?.['toFixed'](0x2)??'-')+_0x2f3779(0xb3b)+(_0x186082['postTScore']?.['toFixed'](0x2)??'-')+_0x2f3779(0x2ef)+_0x3d63c5+_0x2f3779(0x1bd);}),_0x520782+=_0x311dc8(0x472),_0x5b6d2b['innerHTML']=_0x520782;}function handleRenameQuiz(_0x423fea,_0x24bbdb){const _0x3cca62=_0x470ff8;actionTargetId=_0x423fea,document[_0x3cca62(0x8b2)](_0x3cca62(0x9cf))['value']=_0x24bbdb,renameQuizModal[_0x3cca62(0xaa8)][_0x3cca62(0x5b2)](_0x3cca62(0x856));}function setupComparisonModalTabs(){const _0x3d5a57=_0x470ff8,_0x468e1c=document[_0x3d5a57(0x8b2)](_0x3d5a57(0x636)),_0x49dd09=document['getElementById'](_0x3d5a57(0x3a2)),_0x374996=document[_0x3d5a57(0x8b2)]('comparison-overall-content'),_0x54d8db=document[_0x3d5a57(0x8b2)](_0x3d5a57(0x200));_0x468e1c[_0x3d5a57(0xda)](_0x3d5a57(0x896),()=>{const _0x51a1d5=_0x3d5a57;_0x468e1c['classList'][_0x51a1d5(0x4de)]('active'),_0x49dd09['classList'][_0x51a1d5(0x5b2)](_0x51a1d5(0x3f0)),_0x374996[_0x51a1d5(0xaa8)][_0x51a1d5(0x5b2)](_0x51a1d5(0x856)),_0x54d8db[_0x51a1d5(0xaa8)][_0x51a1d5(0x4de)]('hidden');}),_0x49dd09[_0x3d5a57(0xda)](_0x3d5a57(0x896),()=>{const _0x2da6c2=_0x3d5a57;_0x49dd09[_0x2da6c2(0xaa8)][_0x2da6c2(0x4de)](_0x2da6c2(0x3f0)),_0x468e1c[_0x2da6c2(0xaa8)][_0x2da6c2(0x5b2)](_0x2da6c2(0x3f0)),_0x54d8db[_0x2da6c2(0xaa8)]['remove'](_0x2da6c2(0x856)),_0x374996['classList'][_0x2da6c2(0x4de)](_0x2da6c2(0x856));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x5cf39b=''){const _0x46833f=_0x470ff8,_0x106910=document['getElementById'](_0x46833f(0x9cd)),_0x5c6fd7=_0x5cf39b[_0x46833f(0x136)]()[_0x46833f(0xf2)](),_0x29cda9=allQuizzesGlobal[_0x46833f(0x6b7)](_0x29d5ca=>({..._0x29d5ca,'projectName':allProjects[_0x46833f(0x43e)](_0x2da736=>_0x2da736['id']===_0x29d5ca[_0x46833f(0x54d)])?.[_0x46833f(0x31e)]||_0x29d5ca['projectId']}))['filter'](_0x16c2a0=>(_0x16c2a0[_0x46833f(0x1bc)]||'')[_0x46833f(0x136)]()[_0x46833f(0xa57)](_0x5c6fd7)||(_0x16c2a0['projectName']||'')[_0x46833f(0x136)]()[_0x46833f(0xa57)](_0x5c6fd7));document[_0x46833f(0x8b2)](_0x46833f(0x7a4))[_0x46833f(0x464)]='('+_0x29cda9['length']+_0x46833f(0x2a9),_0x106910[_0x46833f(0xb6e)]=_0x29cda9[_0x46833f(0x9b5)]?_0x29cda9[_0x46833f(0x6b7)](_0x5d0526=>_0x46833f(0xfc)+_0x5d0526['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20'+(_0x5d0526[_0x46833f(0x1bc)]||'(ไม่มีชื่อ)')+_0x46833f(0xd9)+(_0x5d0526[_0x46833f(0x622)]?.[_0x46833f(0x9b5)]||0x0)+_0x46833f(0xb6c)+_0x5d0526[_0x46833f(0x31e)]+_0x46833f(0x802))[_0x46833f(0x221)](''):_0x46833f(0x476),selectedGlobalQuizId=null,document[_0x46833f(0x8b2)](_0x46833f(0x736))[_0x46833f(0x6cf)]=!![],_0x106910[_0x46833f(0x9c4)]('button[data-id]')[_0x46833f(0x501)](_0x5b7517=>{const _0x5b6e3d=_0x46833f;_0x5b7517[_0x5b6e3d(0xda)](_0x5b6e3d(0x896),()=>{const _0x164db6=_0x5b6e3d;selectedGlobalQuizId=_0x5b7517[_0x164db6(0xad1)]['id'],_0x106910[_0x164db6(0x9c4)]('button')[_0x164db6(0x501)](_0x1cbf95=>_0x1cbf95['classList']['remove'](_0x164db6(0x5fd),_0x164db6(0x7c1),_0x164db6(0x4c2))),_0x5b7517[_0x164db6(0xaa8)][_0x164db6(0x4de)]('bg-purple-50',_0x164db6(0x7c1),_0x164db6(0x4c2)),document[_0x164db6(0x8b2)](_0x164db6(0x736))[_0x164db6(0x6cf)]=![];});});}function listenForLiveGameUpdates(){const _0x36fa8e=_0x470ff8;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x4dc9f1=doc(db,'artifacts/'+appId+_0x36fa8e(0x1a9),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x4dc9f1,_0x1fe771=>{const _0x1bad12=_0x36fa8e;if(!_0x1fe771['exists']()){showMessage('เกมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x1bad12(0x9d9)?showView('project-detail'):showView(_0x1bad12(0x53d));return;}const _0x35fe0b=_0x1fe771[_0x1bad12(0x79e)]();_0x35fe0b[_0x1bad12(0x7c8)]&&(currentQuizData=_0x35fe0b[_0x1bad12(0x7c8)]);!currentQuizData&&_0x35fe0b['quizId']&&((async()=>{const _0x1535b5=_0x1bad12;try{const _0x290f9f=doc(db,'artifacts/'+appId+_0x1535b5(0x51f),_0x35fe0b[_0x1535b5(0x65c)]),_0x1f0afb=await getDoc(_0x290f9f);_0x1f0afb['exists']()&&(currentQuizData={'id':_0x1f0afb['id'],..._0x1f0afb[_0x1535b5(0x79e)]()});}catch(_0x4bb47e){console[_0x1535b5(0x6c4)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0x4bb47e);}})());switch(_0x35fe0b[_0x1bad12(0x6b3)]){case _0x1bad12(0x21e):if(currentMode===_0x1bad12(0x9d9)){const _0x56bdc0=_0x35fe0b[_0x1bad12(0x190)]?Object['entries'](_0x35fe0b['players']):[],_0x3fc55d=_0x56bdc0[_0x1bad12(0x8dd)](([_0x24a384,_0x3a4cee])=>_0x3a4cee[_0x1bad12(0x6b3)]===_0x1bad12(0x3f0)),_0x5bc394=document[_0x1bad12(0x8b2)](_0x1bad12(0x839));if(_0x5bc394)_0x5bc394[_0x1bad12(0x464)]=_0x3fc55d['length'];const _0x26056c=document[_0x1bad12(0x8b2)](_0x1bad12(0x887));_0x26056c&&(_0x26056c[_0x1bad12(0xb6e)]=_0x3fc55d[_0x1bad12(0x6b7)](([_0x58bc45,_0x307338])=>_0x1bad12(0x801)+_0x58bc45+_0x1bad12(0x182)+_0x58bc45+_0x1bad12(0xb47))['join'](''));const _0x3fe807=document['getElementById'](_0x1bad12(0x9c3));_0x3fe807&&(_0x3fe807[_0x1bad12(0x6cf)]=_0x3fc55d[_0x1bad12(0x9b5)]===0x0);}else showView(_0x1bad12(0x68d)),liveGameView[_0x1bad12(0xb6e)]=_0x1bad12(0x354)+currentStudentName+_0x1bad12(0x332);break;case'question':const _0xec268c=_0x35fe0b[_0x1bad12(0x3fc)];if(currentQuizData&&currentQuizData['questions'][_0xec268c]){const _0xb8eaa5=currentQuizData[_0x1bad12(0x622)][_0xec268c],_0x546721=_0x35fe0b[_0x1bad12(0xac7)]||_0x1bad12(0x9a7);switch(_0x546721){case _0x1bad12(0x37a):currentMode===_0x1bad12(0x9d9)?showAdminSummaryView(_0x35fe0b,_0xb8eaa5):showPlayerSummaryView(_0x35fe0b,currentStudentName);break;case'leaderboard':currentMode===_0x1bad12(0x9d9)&&showTop5LeaderboardView(_0x35fe0b);break;case _0x1bad12(0x9a7):default:if(currentMode===_0x1bad12(0x9d9)){const _0x5d28bd=writeBatch(db);let _0x2618d6=![];Object[_0x1bad12(0x485)](_0x35fe0b[_0x1bad12(0x190)])[_0x1bad12(0x501)](([_0x27639a,_0x1dd3a5])=>{const _0x497350=_0x1bad12;if(_0x1dd3a5[_0x497350(0x6b3)]===_0x497350(0x3f0)&&_0x1dd3a5[_0x497350(0x4e5)]&&!_0x1dd3a5[_0x497350(0x365)]){_0x2618d6=!![];const _0x2b41fb=_0x1dd3a5['submittedAt'][_0x497350(0x80f)]()-_0x35fe0b[_0x497350(0x471)][_0x497350(0x80f)]();let _0x172c4d=0x0;if(_0x1dd3a5[_0x497350(0x5d5)]){const _0x407bcc=0x3e8,_0xbe97b3=0x1f4,_0x333782=0x4e20;let _0x3e0524=_0x2b41fb/_0x333782;if(_0x3e0524>0x1)_0x3e0524=0x1;const _0x1b3cc1=Math[_0x497350(0x13b)](_0x3e0524*_0xbe97b3);_0x172c4d=_0x407bcc-_0x1b3cc1;}const _0x301a0f=doc(db,'artifacts/'+appId+_0x497350(0x1a9),currentLiveGameId);_0x5d28bd[_0x497350(0x1fb)](_0x301a0f,{[_0x497350(0x548)+_0x27639a+'.score']:increment(_0x172c4d),[_0x497350(0x548)+_0x27639a+_0x497350(0x590)]:_0x172c4d,[_0x497350(0x548)+_0x27639a+_0x497350(0x1d7)]:!![]});}});_0x2618d6&&_0x5d28bd['commit']()['catch'](_0x537750=>console[_0x1bad12(0x6c4)](_0x1bad12(0x47b),_0x537750));lastRenderedAdminQuestionIndex!==_0xec268c&&(showAdminLiveQuestionView(_0xb8eaa5,_0xec268c,currentQuizData[_0x1bad12(0x622)]['length']),lastRenderedAdminQuestionIndex=_0xec268c);const _0x142a2c=_0x35fe0b[_0x1bad12(0x190)]||{},_0x2551f=Object[_0x1bad12(0x7ff)](_0x142a2c)[_0x1bad12(0x8dd)](_0x11c20c=>_0x11c20c[_0x1bad12(0x6b3)]===_0x1bad12(0x3f0)),_0x4c59f5=_0x2551f[_0x1bad12(0x9b5)],_0x126d10=_0x2551f[_0x1bad12(0x8dd)](_0x24161e=>_0x24161e['answeredCurrentQuestion']===!![])[_0x1bad12(0x9b5)],_0x5d129d=document[_0x1bad12(0x8b2)](_0x1bad12(0x720));if(_0x5d129d)_0x5d129d[_0x1bad12(0x464)]=_0x126d10+'/'+_0x4c59f5;const _0x1777dc=document[_0x1bad12(0x8b2)](_0x1bad12(0xaf5));if(_0x1777dc){let _0x1edc32=Object[_0x1bad12(0x485)](_0x142a2c)[_0x1bad12(0x8dd)](([_0x182cf5,_0x45240b])=>_0x45240b['status']===_0x1bad12(0x3f0))['map'](([_0x4d6411,_0x13e8dc])=>{const _0xf46575=_0x1bad12,_0x5892a8=_0x13e8dc[_0xf46575(0x3f4)]===!![],_0x515a33=_0x5892a8?_0xf46575(0x2c7):'bg-gray-500',_0x7aa3e2=_0x5892a8?_0xf46575(0x1eb):_0xf46575(0x34e);return _0xf46575(0x924)+_0x515a33+_0xf46575(0x72e)+_0x7aa3e2+_0xf46575(0x901)+_0x4d6411+_0xf46575(0xb5a)+_0x4d6411+_0xf46575(0x97f);})['join']('');_0x1777dc[_0x1bad12(0xb6e)]=_0x1edc32||'<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>';}_0x4c59f5>0x0&&_0x126d10===_0x4c59f5&&revealAnswerForAdmin(_0xec268c,currentQuizData['questions'][_0x1bad12(0x9b5)]);}else{const _0x3dc218=_0x35fe0b[_0x1bad12(0x190)][currentStudentName];_0x3dc218&&!_0x3dc218[_0x1bad12(0x3f4)]&&showStudentLiveQuestionView(_0xb8eaa5,_0xec268c,currentQuizData[_0x1bad12(0x622)]['length']);}break;}}break;case _0x1bad12(0x7e5):showPodiumView(_0x35fe0b[_0x1bad12(0x190)],'live-race');break;}});}async function handleKickPlayer(_0x569818){const _0x4a1641=_0x470ff8;if(!currentLiveGameId||!_0x569818)return;const _0x1ce220=doc(db,'artifacts/'+appId+_0x4a1641(0x1a9),currentLiveGameId),_0x335050={};_0x335050[_0x4a1641(0x548)+_0x569818+_0x4a1641(0x565)]=_0x4a1641(0x9db);try{await updateDoc(_0x1ce220,_0x335050);}catch(_0x3d6a0d){console[_0x4a1641(0x6c4)](_0x4a1641(0x9a0)+_0x569818+':',_0x3d6a0d),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function authenticateUser(){const _0x4367dd=_0x470ff8;try{typeof __initial_auth_token!==_0x4367dd(0x646)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x3282d6){console[_0x4367dd(0x6c4)](_0x4367dd(0x613),_0x3282d6),showMessage(_0x4367dd(0x222));}}function showView(_0x42d2b9){const _0x31ef8c=_0x470ff8;adminView[_0x31ef8c(0xaa8)][_0x31ef8c(0x4de)]('hidden'),studentView[_0x31ef8c(0xaa8)]['add'](_0x31ef8c(0x856)),projectDashboardView[_0x31ef8c(0xaa8)][_0x31ef8c(0x4de)]('hidden'),projectDetailView[_0x31ef8c(0xaa8)][_0x31ef8c(0x4de)](_0x31ef8c(0x856)),quizResultsView['classList'][_0x31ef8c(0x4de)](_0x31ef8c(0x856)),liveGameView[_0x31ef8c(0xaa8)][_0x31ef8c(0x4de)]('hidden'),document[_0x31ef8c(0x8b2)](_0x31ef8c(0x76d))[_0x31ef8c(0xaa8)][_0x31ef8c(0x4de)](_0x31ef8c(0x856)),studentInitialView[_0x31ef8c(0xaa8)][_0x31ef8c(0x4de)]('hidden'),studentJoinGameView['classList'][_0x31ef8c(0x4de)]('hidden'),studentNameSelectionView[_0x31ef8c(0xaa8)][_0x31ef8c(0x4de)](_0x31ef8c(0x856)),studentQuizArea['classList']['add'](_0x31ef8c(0x856)),studentResultArea['classList'][_0x31ef8c(0x4de)](_0x31ef8c(0x856)),studentReadingArea[_0x31ef8c(0xaa8)][_0x31ef8c(0x4de)]('hidden');const _0x2a44ff=document['getElementById'](_0x31ef8c(0xa28)),_0x1cd25a=document[_0x31ef8c(0x8b2)](_0x31ef8c(0x23e));if(_0x2a44ff)_0x2a44ff[_0x31ef8c(0xaa8)]['add'](_0x31ef8c(0x856));if(_0x1cd25a)_0x1cd25a[_0x31ef8c(0xaa8)][_0x31ef8c(0x4de)](_0x31ef8c(0x856));switch(_0x42d2b9){case _0x31ef8c(0x4a2):adminView[_0x31ef8c(0xaa8)]['remove'](_0x31ef8c(0x856)),projectDashboardView[_0x31ef8c(0xaa8)]['remove'](_0x31ef8c(0x856));break;case'project-detail':adminView[_0x31ef8c(0xaa8)][_0x31ef8c(0x5b2)](_0x31ef8c(0x856)),projectDetailView[_0x31ef8c(0xaa8)][_0x31ef8c(0x5b2)](_0x31ef8c(0x856));break;case _0x31ef8c(0xef):adminView['classList']['remove'](_0x31ef8c(0x856)),quizResultsView[_0x31ef8c(0xaa8)][_0x31ef8c(0x5b2)]('hidden');break;case _0x31ef8c(0x53d):studentView[_0x31ef8c(0xaa8)][_0x31ef8c(0x5b2)]('hidden'),studentInitialView[_0x31ef8c(0xaa8)][_0x31ef8c(0x5b2)](_0x31ef8c(0x856));break;case _0x31ef8c(0x68d):liveGameView['classList'][_0x31ef8c(0x5b2)](_0x31ef8c(0x856));break;case _0x31ef8c(0xa17):studentView[_0x31ef8c(0xaa8)]['remove'](_0x31ef8c(0x856));if(_0x2a44ff)_0x2a44ff[_0x31ef8c(0xaa8)][_0x31ef8c(0x5b2)]('hidden');break;case _0x31ef8c(0x578):studentView[_0x31ef8c(0xaa8)][_0x31ef8c(0x5b2)](_0x31ef8c(0x856));if(_0x1cd25a)_0x1cd25a[_0x31ef8c(0xaa8)][_0x31ef8c(0x5b2)](_0x31ef8c(0x856));break;default:studentView[_0x31ef8c(0xaa8)][_0x31ef8c(0x5b2)](_0x31ef8c(0x856)),studentInitialView[_0x31ef8c(0xaa8)][_0x31ef8c(0x5b2)](_0x31ef8c(0x856));break;}}function showJoinGameView(){const _0x6dd443=_0x470ff8;studentInitialView[_0x6dd443(0xaa8)][_0x6dd443(0x4de)](_0x6dd443(0x856)),studentJoinGameView['classList'][_0x6dd443(0x5b2)]('hidden');}async function handleSaveVisibilitySettings(){const _0x5216dc=_0x470ff8;if(!currentProjectId)return;const _0x457c2b=doc(db,_0x5216dc(0x718)+appId+'/public/data/projects',currentProjectId);try{await updateDoc(_0x457c2b,{'settings.showInStudentDashboard':document[_0x5216dc(0x8b2)](_0x5216dc(0xb4d))[_0x5216dc(0x25a)],'settings.isPasscodeEnabled':document[_0x5216dc(0x8b2)](_0x5216dc(0x23c))['checked'],'settings.passcode':document['getElementById'](_0x5216dc(0x4e3))[_0x5216dc(0x593)][_0x5216dc(0xf2)]()}),showMessage('บันทึกการตั้งค่าการแสดงผลสำเร็จ');}catch(_0x1b2707){console[_0x5216dc(0x6c4)](_0x5216dc(0x2fb),_0x1b2707),showMessage(_0x5216dc(0x1e5));}}function setupEventListeners(){const _0x5af2ed=_0x470ff8;document[_0x5af2ed(0x8b2)](_0x5af2ed(0x33f))['addEventListener']('click',async _0x4d44b2=>{const _0x28ee3c=_0x5af2ed,_0x534cc4=document[_0x28ee3c(0x8b2)](_0x28ee3c(0x33f)),_0x9ed11a=_0x4d44b2['target'][_0x28ee3c(0x7d2)](_0x28ee3c(0x57a)),_0x343600=_0x4d44b2[_0x28ee3c(0x5a3)]['closest'](_0x28ee3c(0xa65)),_0xe3caeb=_0x4d44b2[_0x28ee3c(0x5a3)][_0x28ee3c(0x7d2)](_0x28ee3c(0xa09)),_0x4ef62b=_0x4d44b2[_0x28ee3c(0x5a3)][_0x28ee3c(0x7d2)](_0x28ee3c(0x33d)),_0x18d27b=_0x4d44b2[_0x28ee3c(0x5a3)]['closest'](_0x28ee3c(0xb1c)),_0x49aab6=_0x4d44b2[_0x28ee3c(0x5a3)][_0x28ee3c(0x7d2)](_0x28ee3c(0x355));if(_0x9ed11a){cameFromBlueprint=!![];const _0xf1b352=_0x9ed11a[_0x28ee3c(0xad1)][_0x28ee3c(0x65c)];showQuizDetailView(_0xf1b352),_0x534cc4[_0x28ee3c(0xaa8)]['add']('hidden');}else{if(_0x343600){const _0x2c6671=_0x343600[_0x28ee3c(0xad1)][_0x28ee3c(0x45e)],_0x541163=_0x343600['dataset'][_0x28ee3c(0x65c)],_0x14fd3f=allQuizzesGlobal[_0x28ee3c(0x43e)](_0x3bee3c=>_0x3bee3c['id']===_0x541163),_0x1fd8ce=_0x14fd3f?_0x14fd3f[_0x28ee3c(0x1bc)]:_0x28ee3c(0x230);showConfirmation(_0x28ee3c(0x1a6)+_0x1fd8ce+_0x28ee3c(0x560),async()=>{const _0x5723f0=_0x28ee3c;try{const _0x5bb4a4=doc(db,'artifacts/'+appId+_0x5723f0(0x43a),currentBlueprintProjectId);await updateDoc(_0x5bb4a4,{[_0x5723f0(0x2ff)+_0x2c6671+_0x5723f0(0x1ff)]:arrayRemove(_0x541163)}),showMessage(_0x5723f0(0x5d8)),openTopicQuizBank(_0x2c6671),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x774a09){console[_0x5723f0(0x6c4)](_0x5723f0(0x29e),_0x774a09),showMessage('เกิดข้อผิดพลาดในการนำแบบทดสอบออก');}});}else{if(_0xe3caeb){cameFromBlueprint=!![];const _0x453318=_0xe3caeb[_0x28ee3c(0xad1)][_0x28ee3c(0x65c)],_0x35cbb4=allQuizzesGlobal[_0x28ee3c(0x43e)](_0x368f83=>_0x368f83['id']===_0x453318);_0x35cbb4&&(startPresentation(_0x35cbb4),_0x534cc4[_0x28ee3c(0xaa8)][_0x28ee3c(0x4de)](_0x28ee3c(0x856)));}else{if(_0x4ef62b){cameFromBlueprint=!![];const _0x287434=_0x4ef62b[_0x28ee3c(0xad1)][_0x28ee3c(0x65c)],_0x11adea=allQuizzesGlobal['find'](_0x22c54e=>_0x22c54e['id']===_0x287434);_0x11adea&&(currentQuizData=_0x11adea,startAdminTest(),_0x534cc4[_0x28ee3c(0xaa8)][_0x28ee3c(0x4de)](_0x28ee3c(0x856)));}else{if(_0x18d27b)cameFromBlueprint=!![],handleStartLiveRace(_0x18d27b[_0x28ee3c(0xad1)][_0x28ee3c(0x65c)]),_0x534cc4['classList'][_0x28ee3c(0x4de)](_0x28ee3c(0x856));else{if(_0x49aab6){cameFromBlueprint=!![];const _0x28475d=_0x49aab6['dataset'][_0x28ee3c(0x65c)],_0x35daf7=_0x49aab6[_0x28ee3c(0xad1)][_0x28ee3c(0x401)],_0x4132ff=allQuizzesGlobal[_0x28ee3c(0x43e)](_0x58fea3=>_0x58fea3['id']===_0x28475d);_0x4132ff&&(showGameStartConfirmationModal(_0x28475d,_0x35daf7,_0x4132ff['topic']),_0x534cc4[_0x28ee3c(0xaa8)][_0x28ee3c(0x4de)](_0x28ee3c(0x856)));}}}}}}}),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x344))['addEventListener'](_0x5af2ed(0x896),()=>{const _0x2efb5c=_0x5af2ed;document[_0x2efb5c(0x8b2)]('manual-blueprint-modal')['classList'][_0x2efb5c(0x5b2)](_0x2efb5c(0x856)),document['getElementById'](_0x2efb5c(0xa6f))[_0x2efb5c(0x593)]='',document[_0x2efb5c(0x8b2)](_0x2efb5c(0x278))[_0x2efb5c(0x593)]='',document['getElementById'](_0x2efb5c(0xd4))[_0x2efb5c(0x593)]='';}),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x28e))[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>{const _0x246835=_0x5af2ed;document[_0x246835(0x8b2)](_0x246835(0x42f))['classList'][_0x246835(0x4de)](_0x246835(0x856));}),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x97a))[_0x5af2ed(0xda)]('click',handleManualBlueprintSave),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x486))[_0x5af2ed(0xda)]('click',()=>document['getElementById'](_0x5af2ed(0x352))[_0x5af2ed(0xaa8)][_0x5af2ed(0x4de)](_0x5af2ed(0x856))),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x498))['addEventListener'](_0x5af2ed(0x896),handleSaveBlueprintPageSettings),document[_0x5af2ed(0x8b2)]('bp-quiz-settings-btn')[_0x5af2ed(0xda)](_0x5af2ed(0x896),openBlueprintQuizSettings),document['getElementById'](_0x5af2ed(0x75c))['addEventListener'](_0x5af2ed(0x896),saveBlueprintProject),document['getElementById']('open-blueprint-projects-btn')[_0x5af2ed(0xda)](_0x5af2ed(0x896),showBlueprintProjects),document[_0x5af2ed(0x8b2)]('cancel-blueprint-projects-btn')[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>{const _0x32a762=_0x5af2ed;document[_0x32a762(0x8b2)](_0x32a762(0x507))[_0x32a762(0xaa8)][_0x32a762(0x4de)](_0x32a762(0x856));}),document['getElementById'](_0x5af2ed(0xb43))[_0x5af2ed(0xda)]('click',_0x9048e9=>{const _0x515ad6=_0x5af2ed,_0x589e2a=_0x9048e9['target'][_0x515ad6(0x7d2)]('.open-bp-project-btn'),_0x109ab9=_0x9048e9['target'][_0x515ad6(0x7d2)](_0x515ad6(0xd0));if(_0x589e2a)displayBlueprintProjectManager(_0x589e2a[_0x515ad6(0xad1)]['id']);else{if(_0x109ab9){if(confirm(_0x515ad6(0x16d))){const _0x154449=doc(db,'artifacts/'+appId+_0x515ad6(0x43a),_0x109ab9['dataset']['id']);deleteDoc(_0x154449)[_0x515ad6(0x60b)](()=>{const _0x279a29=_0x515ad6;showMessage(_0x279a29(0x770)),showBlueprintProjects();});}}}}),document['getElementById'](_0x5af2ed(0xd6))['addEventListener'](_0x5af2ed(0x896),()=>{const _0x117891=_0x5af2ed;currentBlueprintProjectId=null,currentProjectId=null,document[_0x117891(0x8b2)](_0x117891(0x76d))[_0x117891(0xaa8)][_0x117891(0x4de)](_0x117891(0x856)),showView(_0x117891(0x4a2));}),document['getElementById'](_0x5af2ed(0x39d))[_0x5af2ed(0xda)](_0x5af2ed(0x896),addTopicToProject),document[_0x5af2ed(0x8b2)]('bp-topic-list-container')[_0x5af2ed(0xda)](_0x5af2ed(0x896),async _0x3ce4ea=>{const _0x26b5c6=_0x5af2ed,_0x3fd638=_0x3ce4ea[_0x26b5c6(0x5a3)][_0x26b5c6(0x7d2)](_0x26b5c6(0x421));if(!_0x3fd638)return;const _0x4c31ca=_0x3fd638[_0x26b5c6(0xad1)][_0x26b5c6(0x45e)],_0x28b2c1=_0x3ce4ea[_0x26b5c6(0x5a3)][_0x26b5c6(0x7d2)](_0x26b5c6(0xf6)),_0x24eefb=_0x3ce4ea[_0x26b5c6(0x5a3)]['closest']('.bp-create-content-quiz-btn'),_0x1c8fc3=_0x3ce4ea['target']['closest']('.bp-create-topic-quiz-btn'),_0x524da7=_0x3ce4ea['target'][_0x26b5c6(0x7d2)](_0x26b5c6(0x358)),_0x17cdfd=_0x3ce4ea['target'][_0x26b5c6(0x7d2)]('.view-bp-lesson-btn'),_0x2d7e3d=_0x3ce4ea[_0x26b5c6(0x5a3)]['closest'](_0x26b5c6(0x2e5)),_0x575a83=_0x3ce4ea[_0x26b5c6(0x5a3)][_0x26b5c6(0x7d2)](_0x26b5c6(0x2d0)),_0x3e0417=_0x3ce4ea[_0x26b5c6(0x5a3)][_0x26b5c6(0x7d2)]('.bp-delete-topic-btn');if(_0x524da7)openTopicQuizBank(_0x4c31ca);else{if(_0x28b2c1){console[_0x26b5c6(0x638)]('Action:\x20Create\x20O-NET\x20Style\x20Quiz\x20from\x20Topic\x20Name.');const _0x20842e=_0x3fd638[_0x26b5c6(0x7a8)]('[data-field=\x22subTopic\x22]')['textContent'];selectProjectAndGenerateBlueprintQuiz(_0x20842e,null,_0x4c31ca,!![]);}else{if(_0x24eefb){console[_0x26b5c6(0x638)](_0x26b5c6(0x6e1));try{const _0x470df1=doc(db,_0x26b5c6(0x718)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x196ec0=await getDoc(_0x470df1);if(_0x196ec0[_0x26b5c6(0x811)]()){const _0x167366=_0x196ec0[_0x26b5c6(0x79e)](),_0x4d9a0f=_0x167366[_0x26b5c6(0x5b0)][_0x4c31ca],_0x248d84=_0x4d9a0f[_0x26b5c6(0xa81)],_0x44e594=document[_0x26b5c6(0x5ed)](_0x26b5c6(0x4a0)),_0x3e26a2=_0xf4bb74=>{const _0xecc7f2=_0x26b5c6;if(!_0xf4bb74)return'';return _0x44e594[_0xecc7f2(0xb6e)]=_0xf4bb74,_0x44e594[_0xecc7f2(0x464)]||_0x44e594[_0xecc7f2(0x45c)]||'';},_0x41e941=(_0x3e26a2(_0x248d84[_0x26b5c6(0x589)])+'\x20'+_0x3e26a2(_0x248d84['memory'])+'\x20'+_0x3e26a2(_0x248d84[_0x26b5c6(0x24b)]))[_0x26b5c6(0xf2)]();selectProjectAndGenerateBlueprintQuiz(_0x4d9a0f[_0x26b5c6(0x171)],_0x41e941,_0x4c31ca,![]);}}catch(_0x3ce32b){console[_0x26b5c6(0x6c4)](_0x26b5c6(0x44f),_0x3ce32b);}}else{if(_0x1c8fc3){console[_0x26b5c6(0x638)](_0x26b5c6(0x8d4));const _0x2c9dba=_0x3fd638[_0x26b5c6(0x7a8)](_0x26b5c6(0x9ae))[_0x26b5c6(0x464)];selectProjectAndGenerateBlueprintQuiz(_0x2c9dba,null,_0x4c31ca,![]);}else{if(_0x17cdfd){console['log'](_0x26b5c6(0xdd));const _0x46d345=doc(db,_0x26b5c6(0x718)+appId+_0x26b5c6(0x43a),currentBlueprintProjectId),_0x55dbcb=await getDoc(_0x46d345);if(_0x55dbcb[_0x26b5c6(0x811)]()){const _0xb4c5ba=_0x55dbcb[_0x26b5c6(0x79e)](),_0x5107e8=_0xb4c5ba[_0x26b5c6(0x5b0)][_0x4c31ca];if(_0x5107e8&&_0x5107e8['lessonContent']){document[_0x26b5c6(0x8b2)](_0x26b5c6(0xb62))[_0x26b5c6(0x464)]=_0x26b5c6(0x6da)+_0x5107e8[_0x26b5c6(0x171)],document['getElementById'](_0x26b5c6(0x7a6))['innerHTML']=_0x5107e8[_0x26b5c6(0xa81)]['point'],document[_0x26b5c6(0x8b2)]('memoryContent')[_0x26b5c6(0xb6e)]=_0x5107e8['lessonContent']['memory'],document[_0x26b5c6(0x8b2)]('summaryContent')[_0x26b5c6(0xb6e)]=_0x5107e8[_0x26b5c6(0xa81)][_0x26b5c6(0x24b)];const _0x44c55b=document[_0x26b5c6(0x8b2)](_0x26b5c6(0x8b0));_0x5107e8[_0x26b5c6(0xa81)][_0x26b5c6(0x97d)]?(currentApplicationData=_0x5107e8[_0x26b5c6(0xa81)][_0x26b5c6(0x97d)],_0x44c55b[_0x26b5c6(0xb6e)]=currentApplicationData[_0x26b5c6(0x6b7)]((_0x2a5665,_0x50c738)=>_0x26b5c6(0x82c)+(_0x50c738+0x1)+'.\x20'+marked[_0x26b5c6(0x9be)](_0x2a5665[_0x26b5c6(0x241)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x50c738+_0x26b5c6(0xa15)+_0x2a5665['options'][_0x26b5c6(0x6b7)]((_0x4803e1,_0x2f559e)=>_0x26b5c6(0xa63)+_0x50c738+',\x20'+_0x2f559e+_0x26b5c6(0x91c)+String['fromCharCode'](0x61+_0x2f559e)+'.\x20'+marked[_0x26b5c6(0x9be)](_0x4803e1)+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x26b5c6(0x221)]('')+_0x26b5c6(0xb56))[_0x26b5c6(0x221)]('')):(currentApplicationData=[],_0x44c55b[_0x26b5c6(0xb6e)]=_0x5107e8['lessonContent'][_0x26b5c6(0x237)]||_0x5107e8[_0x26b5c6(0xa81)][_0x26b5c6(0x3ea)]),document[_0x26b5c6(0x8b2)](_0x26b5c6(0x7c9))['classList'][_0x26b5c6(0x4de)](_0x26b5c6(0x856)),document[_0x26b5c6(0x8b2)](_0x26b5c6(0x92d))['classList'][_0x26b5c6(0x5b2)]('hidden'),document[_0x26b5c6(0x8b2)]('lesson-view-modal')['classList'][_0x26b5c6(0x5b2)](_0x26b5c6(0x856)),window[_0x26b5c6(0x821)]&&MathJax[_0x26b5c6(0x697)]([document[_0x26b5c6(0x8b2)]('lesson-view-content')]);}else showMessage(_0x26b5c6(0x567));}}else{if(_0x2d7e3d){console[_0x26b5c6(0x638)]('Action:\x20Generate\x20new\x20lesson.');const _0xf00b2f=doc(db,_0x26b5c6(0x718)+appId+_0x26b5c6(0x43a),currentBlueprintProjectId),_0x145c98=await getDoc(_0xf00b2f);if(_0x145c98[_0x26b5c6(0x811)]()){const _0x370a26=_0x145c98[_0x26b5c6(0x79e)](),_0x59653d=_0x370a26[_0x26b5c6(0x5b0)][_0x4c31ca];generateAndSaveLessonForBlueprint(_0x4c31ca,_0x59653d[_0x26b5c6(0x171)],_0x370a26['gradeLevel']);}}else{if(_0x575a83)editTopicInProject(_0x4c31ca);else _0x3e0417&&deleteTopicFromProject(_0x4c31ca);}}}}}}}),document['getElementById'](_0x5af2ed(0x7ac))[_0x5af2ed(0xda)]('click',handleFixLessonLatex),document[_0x5af2ed(0x8b2)]('export-lesson-to-pdf-btn')[_0x5af2ed(0xda)](_0x5af2ed(0x896),handleExportLessonToPDF),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x923))[_0x5af2ed(0xda)]('click',()=>{const _0x3b9009=_0x5af2ed;document['getElementById'](_0x3b9009(0xe5))[_0x3b9009(0xaa8)][_0x3b9009(0x4de)](_0x3b9009(0x856));});const _0x4c133a=document['getElementById'](_0x5af2ed(0x65d)),_0x7e1a3e=document['getElementById'](_0x5af2ed(0x74b));_0x4c133a[_0x5af2ed(0xda)]('change',()=>{const _0x10cd40=_0x5af2ed;_0x7e1a3e[_0x10cd40(0xaa8)][_0x10cd40(0xa25)](_0x10cd40(0x856),!_0x4c133a[_0x10cd40(0x25a)]);});const _0x57aa11=document[_0x5af2ed(0x8b2)](_0x5af2ed(0xb26)),_0x1dd6ea=document[_0x5af2ed(0x8b2)](_0x5af2ed(0x63e));_0x57aa11['addEventListener'](_0x5af2ed(0xb77),()=>{const _0x2ae75e=_0x5af2ed;_0x1dd6ea[_0x2ae75e(0xaa8)][_0x2ae75e(0xa25)]('hidden',!_0x57aa11[_0x2ae75e(0x25a)]);});const _0x2076dd=document[_0x5af2ed(0x8b2)]('modal-confidence-scoring-checkbox'),_0x35ced3=document[_0x5af2ed(0x8b2)](_0x5af2ed(0x35d));_0x2076dd[_0x5af2ed(0xda)](_0x5af2ed(0xb77),()=>{const _0x250ac7=_0x5af2ed;_0x35ced3[_0x250ac7(0xaa8)][_0x250ac7(0xa25)]('hidden',!_0x2076dd[_0x250ac7(0x25a)]);});const _0x1b904a=document[_0x5af2ed(0x8b2)](_0x5af2ed(0x6f7)),_0x398454=async _0xdc9fa4=>{const _0xfafd8e=_0x5af2ed,_0x437149=document[_0xfafd8e(0x8b2)](_0xfafd8e(0x6f7)),_0x26b892=_0x437149[_0xfafd8e(0xad1)][_0xfafd8e(0x84d)],_0x551cc7=document[_0xfafd8e(0x8b2)](_0xfafd8e(0x8c7));_0x437149[_0xfafd8e(0xaa8)][_0xfafd8e(0x4de)](_0xfafd8e(0x856));if(_0x26b892===_0xfafd8e(0x58c)){const _0x32d8f0=_0x551cc7['value'],_0x1e082d={'answer':_0x32d8f0,'wasConfident':_0xdc9fa4};proceedToNextQuestion(_0x1e082d);}else{if(_0x26b892===_0xfafd8e(0x9a5)){const _0x25ff94=_0x551cc7[_0xfafd8e(0xad1)][_0xfafd8e(0x3e0)],_0x3e0731=JSON['parse'](_0x551cc7[_0xfafd8e(0xad1)][_0xfafd8e(0x241)]),_0x3e5d2=JSON[_0xfafd8e(0x25b)](_0x551cc7[_0xfafd8e(0xad1)][_0xfafd8e(0xc8)]),_0x5594cf=_0x551cc7[_0xfafd8e(0xad1)]['playerName'];handleSyncAnswerSubmit(_0x25ff94,_0x3e0731,_0x3e5d2,_0x5594cf,_0xdc9fa4);}}_0x437149[_0xfafd8e(0xad1)][_0xfafd8e(0x84d)]='';};document[_0x5af2ed(0x8b2)](_0x5af2ed(0x143))[_0x5af2ed(0xda)]('click',()=>_0x398454(!![])),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x96d))['addEventListener'](_0x5af2ed(0x896),()=>_0x398454(![])),liveGameView[_0x5af2ed(0xda)](_0x5af2ed(0x896),_0x179bac=>{const _0x5afa74=_0x5af2ed,_0x5c63f3=_0x179bac[_0x5afa74(0x5a3)][_0x5afa74(0x7d2)]('.kick-player-btn-sync');if(_0x5c63f3){const _0x153734=_0x5c63f3['dataset'][_0x5afa74(0x502)];_0x153734&&handleKickPlayerSync(_0x153734);}});const _0x3c06cd=document[_0x5af2ed(0x8b2)](_0x5af2ed(0xd5)),_0x2022c4=document['getElementById'](_0x5af2ed(0x8c8));_0x2022c4[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>{const _0x7f4d11=_0x5af2ed;document[_0x7f4d11(0x8b2)](_0x7f4d11(0x608))[_0x7f4d11(0xaa8)][_0x7f4d11(0x4de)](_0x7f4d11(0x856));}),_0x3c06cd[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>{const _0x541c1e=_0x5af2ed,_0x1831a7=document[_0x541c1e(0x8b2)](_0x541c1e(0xa87))[_0x541c1e(0x593)],_0x105c2d=document[_0x541c1e(0x8b2)](_0x541c1e(0x693))[_0x541c1e(0x593)],_0x8757f0=document[_0x541c1e(0x8b2)](_0x541c1e(0x307))[_0x541c1e(0x25a)];document['getElementById']('confirm-game-start-modal')[_0x541c1e(0xaa8)][_0x541c1e(0x4de)](_0x541c1e(0x856));switch(_0x105c2d){case _0x541c1e(0x300):handleStartLiveRace(_0x1831a7,_0x8757f0);break;case _0x541c1e(0x99f):handleStartTeamQuiz(_0x1831a7,_0x8757f0);break;case _0x541c1e(0x917):handleStartGroupMode(_0x1831a7,_0x8757f0);break;case _0x541c1e(0x9a5):handleStartSyncMode(_0x1831a7,_0x8757f0);break;}}),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x585))[_0x5af2ed(0xda)](_0x5af2ed(0x896),handleJoinGroupActivity),liveGameView['addEventListener'](_0x5af2ed(0x896),_0x24371b=>{const _0x245dee=_0x5af2ed,_0x271c68=_0x24371b['target'][_0x245dee(0x7d2)](_0x245dee(0x38f));document['querySelectorAll'](_0x245dee(0xa5d))[_0x245dee(0x501)](_0x38f359=>{const _0x363ae2=_0x245dee;(!_0x271c68||_0x38f359['id']!==_0x271c68[_0x363ae2(0xad1)]['tooltipTarget'])&&_0x38f359['classList'][_0x363ae2(0x5b2)]('visible');});if(!_0x271c68)return;const _0x24401a=_0x271c68[_0x245dee(0xad1)][_0x245dee(0x6b0)],_0x4b2957=document[_0x245dee(0x8b2)](_0x24401a);_0x4b2957&&_0x4b2957[_0x245dee(0xaa8)][_0x245dee(0xa25)](_0x245dee(0xa95));}),liveGameView['addEventListener'](_0x5af2ed(0x896),_0x53902a=>{const _0x741704=_0x5af2ed;if(_0x53902a[_0x741704(0x5a3)][_0x741704(0xaa8)][_0x741704(0xaa3)](_0x741704(0x98c))){const _0xc199a5=_0x53902a[_0x741704(0x5a3)][_0x741704(0xad1)][_0x741704(0x502)];_0xc199a5&&handleKickPlayer(_0xc199a5);}}),document[_0x5af2ed(0x8b2)]('project-title')[_0x5af2ed(0xda)](_0x5af2ed(0xa3d),()=>document[_0x5af2ed(0x8b2)]('save-project-name-btn')['classList'][_0x5af2ed(0x5b2)](_0x5af2ed(0x856))),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x6be))[_0x5af2ed(0xda)](_0x5af2ed(0x896),handleSaveProjectName),document['getElementById'](_0x5af2ed(0x614))[_0x5af2ed(0xda)](_0x5af2ed(0x1af),_0x336c7b=>{const _0x184667=_0x5af2ed;_0x336c7b[_0x184667(0x9f9)]===_0x184667(0xb2d)&&(_0x336c7b[_0x184667(0x756)](),_0x336c7b['target']['blur'](),handleSaveProjectName());}),document['getElementById'](_0x5af2ed(0x4c8))[_0x5af2ed(0xda)]('click',()=>{const _0x32dca1=_0x5af2ed;document['getElementById'](_0x32dca1(0x10f))[_0x32dca1(0xaa8)][_0x32dca1(0x5b2)]('hidden');}),document[_0x5af2ed(0x8b2)]('cancel-bulk-quiz-settings-btn')[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>{const _0xf85b4c=_0x5af2ed;document[_0xf85b4c(0x8b2)](_0xf85b4c(0x10f))[_0xf85b4c(0xaa8)][_0xf85b4c(0x4de)]('hidden');}),document[_0x5af2ed(0x8b2)]('confirm-bulk-quiz-settings-btn')['addEventListener']('click',handleBulkUpdateQuizSettings),document[_0x5af2ed(0x8b2)]('mode-switcher-btn')[_0x5af2ed(0xda)](_0x5af2ed(0x896),handleModeSwitch),document['getElementById'](_0x5af2ed(0xa32))[_0x5af2ed(0xda)](_0x5af2ed(0x896),handleUpdateOldQuizzes),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x927))['addEventListener'](_0x5af2ed(0x896),handleResetProjectOrder),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x60d))[_0x5af2ed(0xda)](_0x5af2ed(0x896),handleSaveVisibilitySettings),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x77f))['addEventListener']('click',handleAddCustomMathTopic),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x142))[_0x5af2ed(0xda)](_0x5af2ed(0x896),handleSelectAllTopics),document['getElementById']('deselect-all-topics-btn')['addEventListener']('click',handleDeselectAllTopics),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x7e0))['addEventListener'](_0x5af2ed(0x896),()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}}),document['getElementById'](_0x5af2ed(0xa69))['addEventListener'](_0x5af2ed(0x896),()=>{const _0xb82873=_0x5af2ed;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0xb82873(0xaf2));}}),document[_0x5af2ed(0x8b2)]('back-to-dashboard-from-results-btn')['addEventListener'](_0x5af2ed(0x896),()=>{const _0x1018de=_0x5af2ed;showView(_0x1018de(0x4a2));}),document[_0x5af2ed(0x8b2)]('modal-close-btn')['addEventListener'](_0x5af2ed(0x896),()=>{const _0xe2f0a0=_0x5af2ed;messageModal['classList'][_0xe2f0a0(0x4de)](_0xe2f0a0(0x856)),typeof modalConfirmAction==='function'&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x5af2ed(0x8b2)]('create-project-btn')['addEventListener'](_0x5af2ed(0x896),()=>createProjectModal[_0x5af2ed(0xaa8)][_0x5af2ed(0x5b2)](_0x5af2ed(0x856))),document['getElementById'](_0x5af2ed(0x4f0))[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>createProjectModal[_0x5af2ed(0xaa8)][_0x5af2ed(0x4de)]('hidden')),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x713))[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>adminPasswordModal[_0x5af2ed(0xaa8)]['add'](_0x5af2ed(0x856))),document[_0x5af2ed(0x8b2)]('confirm-admin-login-btn')[_0x5af2ed(0xda)](_0x5af2ed(0x896),handleAdminLogin),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x2f7))['addEventListener'](_0x5af2ed(0x540),_0x5527b7=>{const _0xcd368b=_0x5af2ed;if(_0x5527b7[_0xcd368b(0x9f9)]===_0xcd368b(0xb2d))handleAdminLogin();}),document[_0x5af2ed(0x8b2)]('cancel-delete-btn')[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>{const _0x531a1=_0x5af2ed;confirmationModal[_0x531a1(0xaa8)][_0x531a1(0x4de)]('hidden'),confirmAction=null;}),document['getElementById'](_0x5af2ed(0x51e))['addEventListener']('click',()=>{const _0x41bedf=_0x5af2ed;confirmAction&&confirmAction(),confirmationModal[_0x41bedf(0xaa8)]['add'](_0x41bedf(0x856)),confirmAction=null;}),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x294))[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>renameQuizModal[_0x5af2ed(0xaa8)][_0x5af2ed(0x4de)](_0x5af2ed(0x856))),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x98d))[_0x5af2ed(0xda)](_0x5af2ed(0x896),confirmRenameQuiz),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x369))[_0x5af2ed(0xda)]('click',()=>moveQuizModal['classList'][_0x5af2ed(0x4de)](_0x5af2ed(0x856))),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x657))[_0x5af2ed(0xda)](_0x5af2ed(0x896),confirmMoveQuiz),document['getElementById'](_0x5af2ed(0xb07))[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>quizSettingsModal[_0x5af2ed(0xaa8)][_0x5af2ed(0x4de)](_0x5af2ed(0x856))),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x9bc))[_0x5af2ed(0xda)](_0x5af2ed(0x896),confirmQuizSettings),document[_0x5af2ed(0x8b2)]('cancel-quiz-status-btn')[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>quizStatusModal['classList'][_0x5af2ed(0x4de)]('hidden')),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x7ed))[_0x5af2ed(0xda)](_0x5af2ed(0x896),confirmQuizStatus);const _0x350d51=document['getElementById'](_0x5af2ed(0x8a5));document[_0x5af2ed(0x8b2)](_0x5af2ed(0x406))['addEventListener'](_0x5af2ed(0x896),()=>{const _0x2edbeb=_0x5af2ed;_0x350d51[_0x2edbeb(0xaa8)][_0x2edbeb(0x4de)](_0x2edbeb(0x856));}),document['getElementById'](_0x5af2ed(0x1be))[_0x5af2ed(0xda)]('click',async()=>{const _0x105f22=_0x5af2ed,_0x279ce4=allQuizzes[_0x105f22(0x43e)](_0x3f1d5c=>_0x3f1d5c['id']===actionTargetId);_0x279ce4?(currentQuizData=_0x279ce4,exportQuizAsWorksheetPDF()):showMessage(_0x105f22(0x85b)),_0x350d51[_0x105f22(0xaa8)]['add'](_0x105f22(0x856));}),document['getElementById']('export-tutor-pdf-btn')[_0x5af2ed(0xda)]('click',async()=>{const _0x43be6a=_0x5af2ed,_0x298033=allQuizzes[_0x43be6a(0x43e)](_0x1fa8a5=>_0x1fa8a5['id']===actionTargetId);_0x298033?(currentQuizData=_0x298033,exportQuizAsTutorPDF()):showMessage(_0x43be6a(0x85b)),_0x350d51[_0x43be6a(0xaa8)][_0x43be6a(0x4de)](_0x43be6a(0x856));}),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x4ca))[_0x5af2ed(0xda)](_0x5af2ed(0x896),openGlobalLiveModal),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x829))[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>{const _0x32bc4a=_0x5af2ed;document['getElementById'](_0x32bc4a(0x3cc))[_0x32bc4a(0xaa8)]['add'](_0x32bc4a(0x856)),selectedGlobalQuizId=null;}),document[_0x5af2ed(0x8b2)](_0x5af2ed(0xa9e))[_0x5af2ed(0xda)]('input',_0x5b55c8=>renderGlobalQuizList(_0x5b55c8['target'][_0x5af2ed(0x593)])),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x736))[_0x5af2ed(0xda)]('click',()=>{const _0x24393e=_0x5af2ed,_0x1bad6c=selectedGlobalQuizId;if(!_0x1bad6c)return;document['getElementById'](_0x24393e(0x3cc))['classList']['add'](_0x24393e(0x856)),handleStartLiveRace(_0x1bad6c);}),document['getElementById']('project-search-input')[_0x5af2ed(0xda)](_0x5af2ed(0x26b),renderProjects),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x857))['addEventListener'](_0x5af2ed(0xb77),async()=>{const _0x428940=_0x5af2ed,_0x46187a=document[_0x428940(0x8b2)](_0x428940(0x857))[_0x428940(0x593)],_0xd8b19c=doc(db,_0x428940(0xb17),'dashboardConfig');try{await setDoc(_0xd8b19c,{'projectSort':_0x46187a},{'merge':!![]});}catch(_0x2603e9){console[_0x428940(0x6c4)]('Error\x20updating\x20sort\x20preference:',_0x2603e9),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x202))[_0x5af2ed(0xda)](_0x5af2ed(0x26b),renderQuizzes),document[_0x5af2ed(0x8b2)]('grid-view-btn')[_0x5af2ed(0xda)]('click',()=>{const _0xf0c7fa=_0x5af2ed;globalDashboardSettings[_0xf0c7fa(0x546)]=_0xf0c7fa(0x922),saveUserPreference(_0xf0c7fa(0x546),_0xf0c7fa(0x922)),renderProjects();}),document['getElementById']('list-view-btn')[_0x5af2ed(0xda)]('click',()=>{const _0x48ee30=_0x5af2ed;globalDashboardSettings[_0x48ee30(0x546)]='list',saveUserPreference(_0x48ee30(0x546),_0x48ee30(0x55b)),renderProjects();}),manageTab[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>switchProjectTab(_0x5af2ed(0x83d))),resultsTab[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>switchProjectTab(_0x5af2ed(0x9f6))),leaderboardTab['addEventListener']('click',()=>switchProjectTab(_0x5af2ed(0x400))),document[_0x5af2ed(0x8b2)](_0x5af2ed(0xd3))[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>switchQuizDetailTab(_0x5af2ed(0x88b))),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x479))[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>switchQuizDetailTab(_0x5af2ed(0x2eb))),document[_0x5af2ed(0x8b2)]('leaderboard-quiz-tab-btn')['addEventListener'](_0x5af2ed(0x896),()=>switchQuizDetailTab(_0x5af2ed(0x8e1))),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x551))[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>switchQuizDetailTab(_0x5af2ed(0x91e))),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x785))['addEventListener'](_0x5af2ed(0x896),handleAnalyzeClass),generateWorksheetBtn[_0x5af2ed(0xda)]('click',generateWorksheet);const _0x3fae16=document[_0x5af2ed(0x8b2)](_0x5af2ed(0x760)),_0x41427e=document[_0x5af2ed(0x8b2)]('link-input-area'),_0x43b39c=document['getElementById'](_0x5af2ed(0x4ee)),_0x49ded5=document[_0x5af2ed(0x8b2)](_0x5af2ed(0x794)),_0x218373=document['getElementById']('parallel-test-tab'),_0x1c1381=document[_0x5af2ed(0x8b2)](_0x5af2ed(0x8b4));topicTab['addEventListener']('click',()=>{const _0x15b44b=_0x5af2ed;topicTab[_0x15b44b(0xaa8)][_0x15b44b(0x4de)](_0x15b44b(0x3f0)),textTab['classList']['remove'](_0x15b44b(0x3f0)),fileTab[_0x15b44b(0xaa8)][_0x15b44b(0x5b2)](_0x15b44b(0x3f0)),worksheetTab[_0x15b44b(0xaa8)][_0x15b44b(0x5b2)]('active');if(_0x3fae16)_0x3fae16[_0x15b44b(0xaa8)]['remove'](_0x15b44b(0x3f0));if(_0x43b39c)_0x43b39c['classList'][_0x15b44b(0x5b2)](_0x15b44b(0x3f0));if(_0x218373)_0x218373[_0x15b44b(0xaa8)][_0x15b44b(0x5b2)](_0x15b44b(0x3f0));topicInputArea['classList'][_0x15b44b(0x5b2)](_0x15b44b(0x856)),textInputArea[_0x15b44b(0xaa8)][_0x15b44b(0x4de)](_0x15b44b(0x856)),fileInputArea[_0x15b44b(0xaa8)][_0x15b44b(0x4de)](_0x15b44b(0x856)),worksheetInputArea['classList'][_0x15b44b(0x4de)](_0x15b44b(0x856));if(_0x41427e)_0x41427e[_0x15b44b(0xaa8)][_0x15b44b(0x4de)](_0x15b44b(0x856));if(_0x49ded5)_0x49ded5[_0x15b44b(0xaa8)][_0x15b44b(0x4de)](_0x15b44b(0x856));if(_0x1c1381)_0x1c1381[_0x15b44b(0xaa8)][_0x15b44b(0x4de)]('hidden');}),textTab['addEventListener'](_0x5af2ed(0x896),()=>{const _0x7bbe35=_0x5af2ed;textTab[_0x7bbe35(0xaa8)][_0x7bbe35(0x4de)](_0x7bbe35(0x3f0)),topicTab[_0x7bbe35(0xaa8)]['remove'](_0x7bbe35(0x3f0)),fileTab[_0x7bbe35(0xaa8)][_0x7bbe35(0x5b2)](_0x7bbe35(0x3f0)),worksheetTab['classList'][_0x7bbe35(0x5b2)](_0x7bbe35(0x3f0));if(_0x3fae16)_0x3fae16[_0x7bbe35(0xaa8)]['remove'](_0x7bbe35(0x3f0));if(_0x43b39c)_0x43b39c['classList'][_0x7bbe35(0x5b2)](_0x7bbe35(0x3f0));if(_0x218373)_0x218373[_0x7bbe35(0xaa8)][_0x7bbe35(0x5b2)](_0x7bbe35(0x3f0));textInputArea['classList'][_0x7bbe35(0x5b2)]('hidden'),topicInputArea[_0x7bbe35(0xaa8)]['add'](_0x7bbe35(0x856)),fileInputArea[_0x7bbe35(0xaa8)][_0x7bbe35(0x4de)](_0x7bbe35(0x856)),worksheetInputArea[_0x7bbe35(0xaa8)][_0x7bbe35(0x4de)](_0x7bbe35(0x856));if(_0x41427e)_0x41427e[_0x7bbe35(0xaa8)]['add'](_0x7bbe35(0x856));if(_0x49ded5)_0x49ded5[_0x7bbe35(0xaa8)][_0x7bbe35(0x4de)](_0x7bbe35(0x856));if(_0x1c1381)_0x1c1381[_0x7bbe35(0xaa8)][_0x7bbe35(0x4de)](_0x7bbe35(0x856));}),fileTab[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>{const _0x5afed9=_0x5af2ed;fileTab['classList'][_0x5afed9(0x4de)](_0x5afed9(0x3f0)),topicTab[_0x5afed9(0xaa8)][_0x5afed9(0x5b2)](_0x5afed9(0x3f0)),textTab['classList'][_0x5afed9(0x5b2)](_0x5afed9(0x3f0)),worksheetTab['classList'][_0x5afed9(0x5b2)](_0x5afed9(0x3f0));if(_0x3fae16)_0x3fae16[_0x5afed9(0xaa8)][_0x5afed9(0x5b2)](_0x5afed9(0x3f0));if(_0x43b39c)_0x43b39c[_0x5afed9(0xaa8)][_0x5afed9(0x5b2)]('active');if(_0x218373)_0x218373[_0x5afed9(0xaa8)]['remove'](_0x5afed9(0x3f0));fileInputArea[_0x5afed9(0xaa8)][_0x5afed9(0x5b2)](_0x5afed9(0x856)),topicInputArea[_0x5afed9(0xaa8)][_0x5afed9(0x4de)]('hidden'),textInputArea['classList'][_0x5afed9(0x4de)](_0x5afed9(0x856)),worksheetInputArea['classList'][_0x5afed9(0x4de)]('hidden');if(_0x41427e)_0x41427e[_0x5afed9(0xaa8)][_0x5afed9(0x4de)](_0x5afed9(0x856));if(_0x49ded5)_0x49ded5['classList'][_0x5afed9(0x4de)](_0x5afed9(0x856));if(_0x1c1381)_0x1c1381[_0x5afed9(0xaa8)][_0x5afed9(0x4de)](_0x5afed9(0x856));}),worksheetTab[_0x5af2ed(0xda)]('click',()=>{const _0x460391=_0x5af2ed;worksheetTab['classList'][_0x460391(0x4de)](_0x460391(0x3f0)),topicTab['classList'][_0x460391(0x5b2)](_0x460391(0x3f0)),textTab['classList'][_0x460391(0x5b2)]('active'),fileTab[_0x460391(0xaa8)]['remove'](_0x460391(0x3f0));if(_0x3fae16)_0x3fae16[_0x460391(0xaa8)][_0x460391(0x5b2)](_0x460391(0x3f0));if(_0x43b39c)_0x43b39c[_0x460391(0xaa8)][_0x460391(0x5b2)](_0x460391(0x3f0));if(_0x218373)_0x218373[_0x460391(0xaa8)][_0x460391(0x5b2)](_0x460391(0x3f0));worksheetInputArea[_0x460391(0xaa8)]['remove'](_0x460391(0x856)),topicInputArea[_0x460391(0xaa8)][_0x460391(0x4de)](_0x460391(0x856)),textInputArea[_0x460391(0xaa8)][_0x460391(0x4de)](_0x460391(0x856)),fileInputArea['classList'][_0x460391(0x4de)]('hidden');if(_0x41427e)_0x41427e[_0x460391(0xaa8)][_0x460391(0x4de)]('hidden');if(_0x49ded5)_0x49ded5[_0x460391(0xaa8)][_0x460391(0x4de)](_0x460391(0x856));if(_0x1c1381)_0x1c1381[_0x460391(0xaa8)][_0x460391(0x4de)](_0x460391(0x856));});const _0x36b4c2=document['getElementById'](_0x5af2ed(0x512)),_0x36485d=document[_0x5af2ed(0x8b2)](_0x5af2ed(0x8a1));_0x36b4c2&&_0x36b4c2[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>{const _0x231912=_0x5af2ed;topicTab[_0x231912(0xaa8)]['remove'](_0x231912(0x3f0)),textTab[_0x231912(0xaa8)][_0x231912(0x5b2)](_0x231912(0x3f0)),fileTab[_0x231912(0xaa8)][_0x231912(0x5b2)](_0x231912(0x3f0)),worksheetTab['classList'][_0x231912(0x5b2)]('active');if(_0x3fae16)_0x3fae16[_0x231912(0xaa8)][_0x231912(0x5b2)](_0x231912(0x3f0));if(_0x43b39c)_0x43b39c[_0x231912(0xaa8)][_0x231912(0x5b2)](_0x231912(0x3f0));if(_0x218373)_0x218373[_0x231912(0xaa8)][_0x231912(0x5b2)]('active');_0x36b4c2[_0x231912(0xaa8)]['add'](_0x231912(0x3f0)),topicInputArea[_0x231912(0xaa8)]['add'](_0x231912(0x856)),textInputArea['classList']['add']('hidden'),fileInputArea[_0x231912(0xaa8)][_0x231912(0x4de)]('hidden'),worksheetInputArea[_0x231912(0xaa8)][_0x231912(0x4de)](_0x231912(0x856));if(_0x41427e)_0x41427e[_0x231912(0xaa8)][_0x231912(0x4de)](_0x231912(0x856));if(_0x49ded5)_0x49ded5[_0x231912(0xaa8)][_0x231912(0x4de)](_0x231912(0x856));if(_0x1c1381)_0x1c1381[_0x231912(0xaa8)][_0x231912(0x4de)](_0x231912(0x856));_0x36485d[_0x231912(0xaa8)]['remove'](_0x231912(0x856)),displayQuestionBank();});_0x3fae16&&(_0x3fae16['addEventListener']('click',()=>{const _0x13a111=_0x5af2ed;_0x3fae16[_0x13a111(0xaa8)]['add'](_0x13a111(0x3f0)),topicTab[_0x13a111(0xaa8)][_0x13a111(0x5b2)](_0x13a111(0x3f0)),textTab[_0x13a111(0xaa8)][_0x13a111(0x5b2)](_0x13a111(0x3f0)),fileTab['classList'][_0x13a111(0x5b2)](_0x13a111(0x3f0)),worksheetTab[_0x13a111(0xaa8)][_0x13a111(0x5b2)](_0x13a111(0x3f0));if(_0x43b39c)_0x43b39c[_0x13a111(0xaa8)][_0x13a111(0x5b2)](_0x13a111(0x3f0));if(_0x218373)_0x218373['classList'][_0x13a111(0x5b2)]('active');_0x41427e['classList'][_0x13a111(0x5b2)]('hidden'),topicInputArea['classList']['add'](_0x13a111(0x856)),textInputArea[_0x13a111(0xaa8)][_0x13a111(0x4de)]('hidden'),fileInputArea['classList'][_0x13a111(0x4de)](_0x13a111(0x856)),worksheetInputArea[_0x13a111(0xaa8)]['add'](_0x13a111(0x856));if(_0x49ded5)_0x49ded5[_0x13a111(0xaa8)][_0x13a111(0x4de)]('hidden');if(_0x1c1381)_0x1c1381[_0x13a111(0xaa8)][_0x13a111(0x4de)](_0x13a111(0x856));}),document[_0x5af2ed(0x8b2)]('generate-from-link-btn')['addEventListener']('click',handleGenerateFromLink));_0x43b39c&&_0x43b39c['addEventListener']('click',()=>{const _0x5c2c40=_0x5af2ed;_0x43b39c[_0x5c2c40(0xaa8)][_0x5c2c40(0x4de)](_0x5c2c40(0x3f0)),topicTab[_0x5c2c40(0xaa8)][_0x5c2c40(0x5b2)](_0x5c2c40(0x3f0)),textTab['classList']['remove'](_0x5c2c40(0x3f0)),fileTab['classList'][_0x5c2c40(0x5b2)](_0x5c2c40(0x3f0)),worksheetTab['classList']['remove'](_0x5c2c40(0x3f0));if(_0x3fae16)_0x3fae16[_0x5c2c40(0xaa8)]['remove'](_0x5c2c40(0x3f0));if(_0x36b4c2)_0x36b4c2[_0x5c2c40(0xaa8)][_0x5c2c40(0x5b2)](_0x5c2c40(0x3f0));if(_0x218373)_0x218373[_0x5c2c40(0xaa8)]['remove'](_0x5c2c40(0x3f0));_0x49ded5[_0x5c2c40(0xaa8)][_0x5c2c40(0x5b2)](_0x5c2c40(0x856)),topicInputArea['classList']['add'](_0x5c2c40(0x856)),textInputArea[_0x5c2c40(0xaa8)][_0x5c2c40(0x4de)](_0x5c2c40(0x856)),fileInputArea[_0x5c2c40(0xaa8)][_0x5c2c40(0x4de)]('hidden'),worksheetInputArea[_0x5c2c40(0xaa8)][_0x5c2c40(0x4de)](_0x5c2c40(0x856));if(_0x41427e)_0x41427e['classList'][_0x5c2c40(0x4de)](_0x5c2c40(0x856));if(_0x36485d)_0x36485d['classList'][_0x5c2c40(0x4de)]('hidden');if(_0x1c1381)_0x1c1381[_0x5c2c40(0xaa8)][_0x5c2c40(0x4de)](_0x5c2c40(0x856));});_0x218373&&_0x218373['addEventListener']('click',()=>{const _0x4fb2ef=_0x5af2ed;_0x218373[_0x4fb2ef(0xaa8)][_0x4fb2ef(0x4de)](_0x4fb2ef(0x3f0)),topicTab[_0x4fb2ef(0xaa8)]['remove'](_0x4fb2ef(0x3f0)),textTab[_0x4fb2ef(0xaa8)][_0x4fb2ef(0x5b2)]('active'),fileTab[_0x4fb2ef(0xaa8)][_0x4fb2ef(0x5b2)](_0x4fb2ef(0x3f0)),worksheetTab['classList'][_0x4fb2ef(0x5b2)](_0x4fb2ef(0x3f0));if(_0x3fae16)_0x3fae16[_0x4fb2ef(0xaa8)][_0x4fb2ef(0x5b2)](_0x4fb2ef(0x3f0));if(_0x43b39c)_0x43b39c[_0x4fb2ef(0xaa8)][_0x4fb2ef(0x5b2)](_0x4fb2ef(0x3f0));if(_0x36b4c2)_0x36b4c2[_0x4fb2ef(0xaa8)][_0x4fb2ef(0x5b2)](_0x4fb2ef(0x3f0));_0x1c1381[_0x4fb2ef(0xaa8)][_0x4fb2ef(0x5b2)]('hidden'),topicInputArea['classList']['add'](_0x4fb2ef(0x856)),textInputArea[_0x4fb2ef(0xaa8)][_0x4fb2ef(0x4de)](_0x4fb2ef(0x856)),fileInputArea[_0x4fb2ef(0xaa8)][_0x4fb2ef(0x4de)](_0x4fb2ef(0x856)),worksheetInputArea[_0x4fb2ef(0xaa8)][_0x4fb2ef(0x4de)]('hidden');if(_0x41427e)_0x41427e['classList'][_0x4fb2ef(0x4de)](_0x4fb2ef(0x856));if(_0x49ded5)_0x49ded5[_0x4fb2ef(0xaa8)]['add'](_0x4fb2ef(0x856));if(_0x36485d)_0x36485d['classList']['add']('hidden');});const _0x175424=document['getElementById'](_0x5af2ed(0x138)),_0x3b3788=document[_0x5af2ed(0x8b2)](_0x5af2ed(0x671));if(_0x175424){const _0x5431ee=document['getElementById']('blueprint-upload-input'),_0x5b7462=document[_0x5af2ed(0x8b2)](_0x5af2ed(0x671)),_0x2efdc0=document['getElementById'](_0x5af2ed(0x764)),_0x52885d=document[_0x5af2ed(0x8b2)](_0x5af2ed(0x4da)),_0x4fcbf6=document['getElementById'](_0x5af2ed(0x6c1)),_0xcda60d=document['getElementById'](_0x5af2ed(0xb22));_0x5431ee&&_0x5431ee[_0x5af2ed(0xda)](_0x5af2ed(0xb77),async _0x35630f=>{const _0x5868c4=_0x5af2ed;_0x2efdc0[_0x5868c4(0xaa8)][_0x5868c4(0x4de)](_0x5868c4(0x856)),_0x4fcbf6[_0x5868c4(0xaa8)][_0x5868c4(0x4de)](_0x5868c4(0x856)),_0x52885d[_0x5868c4(0x25a)]=![],_0x5b7462['disabled']=!![];const _0x1fe677=_0x35630f[_0x5868c4(0x5a3)][_0x5868c4(0xa78)][0x0];if(_0x1fe677){_0x5b7462[_0x5868c4(0x6cf)]=![];try{const _0x308c59=await extractTextFromPdf(_0x1fe677);await analyzeBlueprintForTopics(_0x308c59);}catch(_0xe6921b){showMessage('ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้'),_0x2efdc0[_0x5868c4(0xaa8)][_0x5868c4(0x4de)](_0x5868c4(0x856));}}}),_0x52885d&&_0x52885d[_0x5af2ed(0xda)]('change',_0x3152c8=>{const _0x17204d=_0x5af2ed,_0x409549=_0x3152c8['target'][_0x17204d(0x25a)];_0x4fcbf6[_0x17204d(0xaa8)][_0x17204d(0xa25)](_0x17204d(0x856),!_0x409549),_0x5b7462[_0x17204d(0x6cf)]=_0x409549;}),_0xcda60d&&(_0xcda60d&&_0xcda60d['addEventListener'](_0x5af2ed(0x896),_0x302954=>{const _0x108938=_0x5af2ed,_0x235ca3=_0x302954[_0x108938(0x5a3)][_0x108938(0x7d2)](_0x108938(0x134)),_0x4afc58=_0x302954['target'][_0x108938(0x7d2)]('.generate-content-btn');if(_0x235ca3){const _0x352f4c=unescape(_0x235ca3['dataset'][_0x108938(0x1bc)]);generateQuizForSingleTopic(_0x352f4c);}else{if(_0x4afc58){const _0x800551=unescape(_0x4afc58[_0x108938(0xad1)][_0x108938(0x1bc)]);handleGenerateTeachingContent(_0x800551);}}}));}_0x3b3788&&_0x3b3788[_0x5af2ed(0xda)](_0x5af2ed(0x896),handleGenerateFromBlueprint);const _0x1f342e=document[_0x5af2ed(0x8b2)](_0x5af2ed(0x445)),_0x36f99a=document[_0x5af2ed(0x8b2)](_0x5af2ed(0x6fa));_0x1f342e&&_0x1f342e[_0x5af2ed(0xda)]('change',_0x17c750=>{const _0x253bb2=_0x5af2ed;_0x36f99a['disabled']=_0x17c750[_0x253bb2(0x5a3)][_0x253bb2(0xa78)][_0x253bb2(0x9b5)]===0x0;});_0x36f99a&&_0x36f99a[_0x5af2ed(0xda)](_0x5af2ed(0x896),handleGenerateParallelTest);loadQuizBtn['addEventListener'](_0x5af2ed(0x896),handleLoadQuiz),startQuizBtn[_0x5af2ed(0xda)](_0x5af2ed(0x896),async()=>{const _0x484485=_0x5af2ed,_0x3ee04b=document[_0x484485(0x8b2)](_0x484485(0xa24));currentStudentName=_0x3ee04b['value'];if(!currentStudentName){showMessage(_0x484485(0x291));return;}try{const _0x29d894=currentQuizData['id'],_0x3db637=doc(db,_0x484485(0x718)+appId+_0x484485(0xa4e)+_0x29d894+_0x484485(0x651),currentStudentName),_0x54947d=await getDoc(_0x3db637);!_0x54947d['exists']()?await setDoc(_0x3db637,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x3db637,{'startedAt':new Date()[_0x484485(0x692)]()});}catch(_0x411fd6){console[_0x484485(0x6c4)](_0x484485(0x289),_0x411fd6),showMessage(_0x484485(0x266));return;}studentNameSelectionView[_0x484485(0xaa8)]['add'](_0x484485(0x856)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x5af2ed(0x863))[_0x5af2ed(0xda)](_0x5af2ed(0x896),showJoinGameView),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x224))[_0x5af2ed(0xda)](_0x5af2ed(0x896),handleJoinLiveGame),document[_0x5af2ed(0x8b2)](_0x5af2ed(0xe0))[_0x5af2ed(0xda)]('click',()=>showView(_0x5af2ed(0x53d)));const _0xf3624d=()=>{const _0x4b5d7e=_0x5af2ed,_0x2c2a66=document[_0x4b5d7e(0x8b2)](_0x4b5d7e(0x3df))[_0x4b5d7e(0x464)][_0x4b5d7e(0x214)](/[^a-z0-9]/gi,'_')[_0x4b5d7e(0x136)]();return _0x4b5d7e(0xb00)+(_0x2c2a66||_0x4b5d7e(0xb1d));},_0x504fdb=document[_0x5af2ed(0x8b2)](_0x5af2ed(0x4ab));_0x504fdb&&_0x504fdb[_0x5af2ed(0xda)](_0x5af2ed(0x26b),_0x541dbf=>{const _0x203243=_0x5af2ed,_0x46074c=_0x541dbf[_0x203243(0x5a3)][_0x203243(0x593)]['toLowerCase']()[_0x203243(0xf2)](),_0x672b1e=document['getElementById'](_0x203243(0x9b0)),_0x26ecb5=_0x672b1e['querySelectorAll']('.topic-category');_0x26ecb5[_0x203243(0x501)](_0x3feccc=>{const _0x553aca=_0x203243;let _0x1aa995=![];const _0x11a27d=_0x3feccc[_0x553aca(0x9c4)]('.topic-row');_0x11a27d['forEach'](_0x2c23c7=>{const _0x392465=_0x553aca,_0x207cf4=_0x2c23c7[_0x392465(0x7a8)]('.topic-name-display')['textContent'][_0x392465(0x136)]();_0x207cf4[_0x392465(0xa57)](_0x46074c)?(_0x2c23c7[_0x392465(0x3cb)][_0x392465(0x22e)]='flex',_0x1aa995=!![]):_0x2c23c7[_0x392465(0x3cb)]['display']=_0x392465(0x61b);}),_0x1aa995?_0x3feccc[_0x553aca(0x3cb)][_0x553aca(0x22e)]=_0x553aca(0x438):_0x3feccc[_0x553aca(0x3cb)][_0x553aca(0x22e)]=_0x553aca(0x61b);});});document[_0x5af2ed(0x8b2)](_0x5af2ed(0x21b))['addEventListener']('click',()=>exportTableAsImage(_0x5af2ed(0xb65),_0xf3624d())),document[_0x5af2ed(0x8b2)](_0x5af2ed(0xacd))[_0x5af2ed(0xda)]('click',()=>exportTableAsPDF('results-table',_0xf3624d())),document['getElementById'](_0x5af2ed(0x64e))[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>exportTableAsWord(_0x5af2ed(0xb65),_0xf3624d())),document[_0x5af2ed(0x8b2)](_0x5af2ed(0xb27))[_0x5af2ed(0xda)]('click',()=>exportTableAsExcel(_0x5af2ed(0x8f8),_0xf3624d()));const _0x5e5b4d=()=>{const _0xbf1503=_0x5af2ed,_0x26152f=document[_0xbf1503(0x8b2)](_0xbf1503(0x3df))[_0xbf1503(0x464)][_0xbf1503(0x214)](/[^a-z0-9]/gi,'_')[_0xbf1503(0x136)]();return _0xbf1503(0x26f)+(_0x26152f||_0xbf1503(0xb1d));};document[_0x5af2ed(0x8b2)]('export-leaderboard-image-btn')[_0x5af2ed(0xda)]('click',()=>exportTableAsImage(_0x5af2ed(0x338),_0x5e5b4d())),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x160))['addEventListener'](_0x5af2ed(0x896),()=>exportTableAsPDF(_0x5af2ed(0x602),_0x5e5b4d())),document[_0x5af2ed(0x8b2)]('export-leaderboard-word-btn')[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>exportTableAsWord('quiz-leaderboard-table-container',_0x5e5b4d())),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x89e))[_0x5af2ed(0xda)]('click',()=>exportTableAsExcel(_0x5af2ed(0x602),_0x5e5b4d())),projectQuizzesList['addEventListener']('click',async _0x364e88=>{const _0x26880c=_0x5af2ed,_0x52cc8d=_0x364e88[_0x26880c(0x5a3)][_0x26880c(0x7d2)](_0x26880c(0x911)),_0x2c58cb=_0x364e88['target'][_0x26880c(0x7d2)]('.generate-post-test-btn'),_0x5bc365=_0x364e88['target'][_0x26880c(0x7d2)]('.compare-results-btn'),_0x47f437=_0x364e88[_0x26880c(0x5a3)][_0x26880c(0x7d2)](_0x26880c(0xab4)),_0x1ed5a2=_0x364e88[_0x26880c(0x5a3)][_0x26880c(0x7d2)](_0x26880c(0x8ff)),_0x478dda=_0x364e88['target'][_0x26880c(0x7d2)](_0x26880c(0x79a)),_0x3cef5a=_0x364e88[_0x26880c(0x5a3)]['closest'](_0x26880c(0xa7a)),_0x2bcc2f=_0x364e88[_0x26880c(0x5a3)][_0x26880c(0x7d2)](_0x26880c(0x855)),_0x3dc02a=_0x364e88[_0x26880c(0x5a3)][_0x26880c(0x7d2)]('.duplicate-quiz-btn'),_0x56df1f=_0x364e88['target']['closest'](_0x26880c(0x888)),_0x4d5bad=_0x364e88[_0x26880c(0x5a3)][_0x26880c(0x7d2)]('.parallel-quiz-btn'),_0x1d167f=_0x364e88['target'][_0x26880c(0x7d2)]('.move-quiz-btn'),_0x492b98=_0x364e88[_0x26880c(0x5a3)][_0x26880c(0x7d2)](_0x26880c(0x641)),_0x528c17=_0x364e88[_0x26880c(0x5a3)][_0x26880c(0x7d2)](_0x26880c(0xe4)),_0x4a0f09=_0x364e88[_0x26880c(0x5a3)][_0x26880c(0x7d2)](_0x26880c(0x1c4)),_0x17575a=_0x364e88[_0x26880c(0x5a3)]['closest'](_0x26880c(0x249)),_0x1daeb9=_0x364e88[_0x26880c(0x5a3)][_0x26880c(0x7d2)](_0x26880c(0x7cd)),_0x4d6eef=_0x364e88[_0x26880c(0x5a3)]['closest'](_0x26880c(0x3fe)),_0x56ef62=_0x364e88['target'][_0x26880c(0x7d2)](_0x26880c(0xb75)),_0x5cc205=_0x364e88[_0x26880c(0x5a3)][_0x26880c(0x7d2)](_0x26880c(0x7b1)),_0x2834ef=_0x364e88[_0x26880c(0x5a3)]['closest']('.generate-easy-version-btn'),_0x348041=_0x364e88[_0x26880c(0x5a3)][_0x26880c(0x7d2)](_0x26880c(0x179)),_0x4ef423=_0x364e88['target'][_0x26880c(0x7d2)]('.start-live-race-btn');if(_0x348041){const _0x265ae2=_0x348041[_0x26880c(0xad1)][_0x26880c(0x65c)],_0x2c2125=_0x348041[_0x26880c(0xad1)]['mode'],_0x886d1a=allQuizzes['find'](_0x2749ad=>_0x2749ad['id']===_0x265ae2);_0x886d1a&&showGameStartConfirmationModal(_0x265ae2,_0x2c2125,_0x886d1a['topic']);}else{if(_0x4ef423){const _0x5a54e5=_0x4ef423[_0x26880c(0xad1)]['quizId'];handleStartLiveRace(_0x5a54e5);}else{if(_0x5cc205){const _0x32df37=_0x5cc205[_0x26880c(0xad1)]['quizId'],_0x59fd19=document[_0x26880c(0x8b2)]('actions-container-'+_0x32df37);_0x59fd19&&_0x59fd19[_0x26880c(0xaa8)]['toggle']('hidden');}else{if(_0x2c58cb){const _0x144d93=_0x2c58cb[_0x26880c(0xad1)]['quizId'],_0x4d64bf=allQuizzes[_0x26880c(0x43e)](_0x4b55de=>_0x4b55de['id']===_0x144d93);_0x4d64bf&&handleGenerateParallelPostTest(_0x4d64bf);}else{if(_0x5bc365)handleCompareResults(_0x5bc365[_0x26880c(0xad1)][_0x26880c(0x65c)],_0x5bc365['dataset'][_0x26880c(0x6df)]);else{if(_0x47f437){const _0x12fd40=_0x47f437[_0x26880c(0xad1)][_0x26880c(0x65c)],_0x59c19e=allQuizzes[_0x26880c(0x43e)](_0x19ac90=>_0x19ac90['id']===_0x12fd40);_0x59c19e&&_0x59c19e['lessonPlan']?(displayLessonPlan(_0x59c19e['lessonPlan'],_0x59c19e),showConfirmation(_0x26880c(0x32e),()=>handleGenerateLessonPlan(_0x12fd40)),document['getElementById'](_0x26880c(0x37c))['querySelector']('h3')[_0x26880c(0x464)]='แผนการสอน',document[_0x26880c(0x8b2)]('confirm-delete-btn')['textContent']=_0x26880c(0x4d5)):handleGenerateLessonPlan(_0x12fd40);}else{if(_0x1ed5a2)handleToggleStarQuiz(_0x1ed5a2[_0x26880c(0xad1)][_0x26880c(0x65c)]);else{if(_0x478dda)copyTextToClipboard(_0x478dda['dataset']['quizId'],_0x26880c(0x3a6));else{if(_0x3cef5a)handleOpenQuizEditor(_0x3cef5a[_0x26880c(0xad1)][_0x26880c(0x65c)]);else{if(_0x2bcc2f)handleQuizSettings(_0x2bcc2f[_0x26880c(0xad1)]['quizId']);else{if(_0x3dc02a)handleDuplicateQuiz(_0x3dc02a[_0x26880c(0xad1)][_0x26880c(0x65c)]);else{if(_0x56df1f)handleRenameQuiz(_0x56df1f['dataset'][_0x26880c(0x65c)],_0x56df1f['dataset'][_0x26880c(0x1bc)]);else{if(_0x4d5bad){const _0x185d95=_0x4d5bad[_0x26880c(0xad1)][_0x26880c(0x65c)],_0x542c08=allQuizzes['find'](_0x952383=>_0x952383['id']===_0x185d95);_0x542c08&&handleGenerateParallelFromBank(_0x542c08);}else{if(_0x1d167f)handleMoveQuiz(_0x1d167f['dataset'][_0x26880c(0x65c)]);else{if(_0x492b98)handleManualQuizPairing(_0x492b98[_0x26880c(0xad1)][_0x26880c(0x65c)]);else{if(_0x528c17)handleUnpairQuiz(_0x528c17[_0x26880c(0xad1)][_0x26880c(0x65c)]);else{if(_0x4a0f09){const _0x200e74=_0x4a0f09[_0x26880c(0xad1)][_0x26880c(0x65c)],_0x5050bb=allQuizzes[_0x26880c(0x43e)](_0x5d3355=>_0x5d3355['id']===_0x200e74);if(_0x5050bb)startPresentation(_0x5050bb);}else{if(_0x17575a){const _0x3c2498=_0x17575a[_0x26880c(0xad1)][_0x26880c(0x65c)],_0x17c336=allQuizzes[_0x26880c(0x43e)](_0x26de8e=>_0x26de8e['id']===_0x3c2498);_0x17c336&&(currentQuizData=_0x17c336,startAdminTest());}else{if(_0x1daeb9)actionTargetId=_0x1daeb9[_0x26880c(0xad1)][_0x26880c(0x65c)],document[_0x26880c(0x8b2)](_0x26880c(0x8a5))[_0x26880c(0xaa8)][_0x26880c(0x5b2)]('hidden');else{if(_0x4d6eef)showConfirmation(_0x26880c(0x4af)+_0x4d6eef['dataset'][_0x26880c(0x1bc)]+_0x26880c(0x5b8),()=>handleDeleteQuiz(_0x4d6eef[_0x26880c(0xad1)]['quizId']));else{if(_0x56ef62)handleQuizStatus(_0x56ef62[_0x26880c(0xad1)]['quizId']);else{if(_0x2834ef)handleGenerateEasyVersionQuiz(_0x2834ef['dataset'][_0x26880c(0x65c)]);else _0x52cc8d&&showQuizDetailView(_0x52cc8d[_0x26880c(0xad1)]['quizId']);}}}}}}}}}}}}}}}}}}}}}}),document[_0x5af2ed(0x8b2)](_0x5af2ed(0xa3e))[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>showView(_0x5af2ed(0x53d))),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x49f))[_0x5af2ed(0xda)](_0x5af2ed(0x896),confirmAndStartTeamQuiz),document['getElementById'](_0x5af2ed(0x602))[_0x5af2ed(0x7a8)](_0x5af2ed(0x669))[_0x5af2ed(0xda)](_0x5af2ed(0x896),_0x48dcec=>{const _0x229ac3=_0x5af2ed,_0x3a865e=_0x48dcec[_0x229ac3(0x5a3)]['closest'](_0x229ac3(0x913));if(!_0x3a865e||!_0x3a865e[_0x229ac3(0xad1)]['sort'])return;const _0x379685=_0x3a865e[_0x229ac3(0xad1)]['sort'];if(quizLeaderboardSortBy===_0x379685)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?_0x229ac3(0x1f2):'asc';else{quizLeaderboardSortBy=_0x379685;const _0x213618=[_0x229ac3(0x29c)];quizLeaderboardSortOrder=_0x213618[_0x229ac3(0xa57)](_0x379685)?'asc':_0x229ac3(0x1f2);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x229ac3(0x191));}),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x8c1))[_0x5af2ed(0xda)](_0x5af2ed(0x896),closePresentation),document[_0x5af2ed(0x8b2)]('prev-question-btn')[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x5a7))['addEventListener']('click',()=>{const _0x488375=_0x5af2ed;currentQuizData[_0x488375(0x622)]&&currentPresentationSlide<currentQuizData[_0x488375(0x622)][_0x488375(0x9b5)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x5af2ed(0xda)](_0x5af2ed(0x2d9),()=>{const _0x180c98=_0x5af2ed;!document[_0x180c98(0x94f)]&&(presentationModal[_0x180c98(0x3cb)]['display']=_0x180c98(0x61b));}),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x362))['addEventListener']('click',handleDeleteAllStudents),studentList['addEventListener'](_0x5af2ed(0x896),_0x5c8f37=>{const _0x3df743=_0x5af2ed,_0x4ad6d1=_0x5c8f37[_0x3df743(0x5a3)][_0x3df743(0x7d2)]('.delete-student-btn');if(_0x4ad6d1){const _0x82a9df=_0x4ad6d1[_0x3df743(0xad1)][_0x3df743(0x29c)];handleDeleteStudent(_0x82a9df);}}),document['getElementById'](_0x5af2ed(0x5c4))[_0x5af2ed(0xda)](_0x5af2ed(0x896),handleGenerateFromFileClick),fileUploadInput[_0x5af2ed(0xda)](_0x5af2ed(0xb77),_0x12e0b6=>{const _0x5bce6f=_0x5af2ed,_0x5ebfef=_0x12e0b6[_0x5bce6f(0x5a3)][_0x5bce6f(0xa78)][0x0],_0x4eb6aa=document['getElementById'](_0x5bce6f(0x5c4)),_0x598ebf=document[_0x5bce6f(0x8b2)](_0x5bce6f(0x7e4)),_0x32f26b=document[_0x5bce6f(0x8b2)](_0x5bce6f(0x8ab));_0x5ebfef?(selectedFile=_0x5ebfef,_0x32f26b[_0x5bce6f(0x25a)]?(_0x4eb6aa[_0x5bce6f(0x6cf)]=!![],analyzeFileForTopics(_0x5ebfef)):(_0x4eb6aa[_0x5bce6f(0x6cf)]=![],_0x598ebf[_0x5bce6f(0xaa8)][_0x5bce6f(0x4de)](_0x5bce6f(0x856)))):(selectedFile=null,_0x4eb6aa['disabled']=!![],_0x598ebf['classList'][_0x5bce6f(0x4de)](_0x5bce6f(0x856)));}),document['getElementById'](_0x5af2ed(0x8ab))['addEventListener'](_0x5af2ed(0xb77),_0x3ed3bd=>{const _0x1292f8=_0x5af2ed,_0x39940b=_0x3ed3bd[_0x1292f8(0x5a3)][_0x1292f8(0x25a)],_0x2f6788=document[_0x1292f8(0x8b2)](_0x1292f8(0x5c4)),_0xb32876=document[_0x1292f8(0x8b2)](_0x1292f8(0x7e4));_0x39940b?(_0x2f6788['disabled']=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0xb32876[_0x1292f8(0xaa8)][_0x1292f8(0x5b2)]('hidden'),document[_0x1292f8(0x8b2)](_0x1292f8(0x16a))['innerHTML']=_0x1292f8(0x8d7))):(_0xb32876['classList'][_0x1292f8(0x4de)]('hidden'),_0x2f6788[_0x1292f8(0x6cf)]=!selectedFile);}),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x7e4))[_0x5af2ed(0xda)]('click',_0x21a4a7=>{const _0x578c15=_0x5af2ed,_0x59c365=_0x21a4a7[_0x578c15(0x5a3)][_0x578c15(0x7d2)]('.file-topic-selection-btn'),_0x787f51=_0x21a4a7[_0x578c15(0x5a3)][_0x578c15(0x7d2)](_0x578c15(0x963));if(_0x59c365){const _0x5ab526=unescape(_0x59c365[_0x578c15(0xad1)][_0x578c15(0x1bc)]);generateHybridQuizForTopic(_0x5ab526);}else{if(_0x787f51){const _0x31cce7=unescape(_0x787f51[_0x578c15(0xad1)][_0x578c15(0x1bc)]),_0x3eea10=document[_0x578c15(0x8b2)](_0x578c15(0x869))['value'];handleGenerateAndShowLesson(_0x31cce7,_0x3eea10);}}}),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x80d))[_0x5af2ed(0xda)](_0x5af2ed(0xb77),_0x5ecc29=>{const _0x286af3=_0x5af2ed,_0xf67a79=document[_0x286af3(0x8b2)]('timer-duration-container'),_0x2eb0bd=document['getElementById'](_0x286af3(0x5f6)),_0x69a9c9=document[_0x286af3(0x8b2)](_0x286af3(0x264));_0x5ecc29[_0x286af3(0x5a3)][_0x286af3(0x593)]===_0x286af3(0x61b)?_0xf67a79[_0x286af3(0xaa8)][_0x286af3(0x4de)](_0x286af3(0x856)):(_0xf67a79[_0x286af3(0xaa8)][_0x286af3(0x5b2)]('hidden'),_0x5ecc29['target'][_0x286af3(0x593)]===_0x286af3(0x1ee)?(_0x2eb0bd[_0x286af3(0x464)]=_0x286af3(0x1b8),_0x69a9c9[_0x286af3(0x593)]='10'):(_0x2eb0bd[_0x286af3(0x464)]=_0x286af3(0xa70),_0x69a9c9[_0x286af3(0x593)]='30'));}),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x2e0))['addEventListener'](_0x5af2ed(0xb77),_0x385e05=>{const _0x3f10fe=_0x5af2ed,_0x202653=document[_0x3f10fe(0x8b2)](_0x3f10fe(0x2ad)),_0x3d3e1d=_0x385e05['target']['value'],_0xc5c61e=document[_0x3f10fe(0x7a8)](_0x3f10fe(0x848)),_0x58029e=document[_0x3f10fe(0x8b2)]('passing-score-input'),_0x26f9bb=document[_0x3f10fe(0x8b2)](_0x3f10fe(0x55c));_0x3d3e1d==='matching'?_0xc5c61e['textContent']=_0x3f10fe(0x66b):_0xc5c61e[_0x3f10fe(0x464)]=_0x3f10fe(0xad2),_0x3d3e1d==='multiple_choice'||_0x3d3e1d===_0x3f10fe(0x232)||_0x3d3e1d===_0x3f10fe(0xb19)?_0x202653[_0x3f10fe(0xaa8)]['remove'](_0x3f10fe(0x856)):_0x202653[_0x3f10fe(0xaa8)][_0x3f10fe(0x4de)](_0x3f10fe(0x856)),_0x58029e[_0x3f10fe(0x115)]=_0x26f9bb[_0x3f10fe(0x593)];}),document['getElementById'](_0x5af2ed(0x55c))[_0x5af2ed(0xda)](_0x5af2ed(0x26b),_0x24792b=>{const _0x5d3373=_0x5af2ed;document[_0x5d3373(0x8b2)](_0x5d3373(0x767))[_0x5d3373(0x115)]=_0x24792b[_0x5d3373(0x5a3)][_0x5d3373(0x593)];}),document[_0x5af2ed(0x8b2)](_0x5af2ed(0xb24))['addEventListener']('change',_0xed0760=>{const _0x3bf002=_0x5af2ed,_0x3b1821=document[_0x3bf002(0x8b2)](_0x3bf002(0x742)),_0x32465c=document[_0x3bf002(0x8b2)](_0x3bf002(0x3d0)),_0x23a5b2=document[_0x3bf002(0x8b2)](_0x3bf002(0x3e7));_0xed0760[_0x3bf002(0x5a3)][_0x3bf002(0x593)]===_0x3bf002(0x61b)?_0x3b1821[_0x3bf002(0xaa8)][_0x3bf002(0x4de)](_0x3bf002(0x856)):(_0x3b1821[_0x3bf002(0xaa8)][_0x3bf002(0x5b2)](_0x3bf002(0x856)),_0xed0760[_0x3bf002(0x5a3)][_0x3bf002(0x593)]===_0x3bf002(0x1ee)?_0x32465c[_0x3bf002(0x464)]='ระยะเวลา\x20(นาที):':_0x32465c[_0x3bf002(0x464)]='ระยะเวลา\x20(วินาที):');}),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x525))[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>{const _0x3b7906=_0x5af2ed;document[_0x3b7906(0x8b2)]('quiz-editor-modal')[_0x3b7906(0xaa8)][_0x3b7906(0x4de)]('hidden');}),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x3ab))[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>{const _0x5a0a3a=_0x5af2ed;document[_0x5a0a3a(0x8b2)](_0x5a0a3a(0xacb))[_0x5a0a3a(0xaa8)]['add'](_0x5a0a3a(0x856));}),document[_0x5af2ed(0x8b2)](_0x5af2ed(0xb7a))[_0x5af2ed(0xda)](_0x5af2ed(0x896),handleVerifyAnswersInEditor),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x6d8))[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>{const _0x534bde=_0x5af2ed;document[_0x534bde(0x8b2)](_0x534bde(0xacb))[_0x534bde(0xaa8)]['add'](_0x534bde(0x856)),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document['getElementById'](_0x5af2ed(0x4b6))['addEventListener']('click',handleAutoFixLatex);const _0x211d22=document['getElementById']('quiz-editor-questions-container');_0x211d22&&_0x211d22[_0x5af2ed(0xda)]('click',_0x2b6e40=>{const _0x4dfd98=_0x5af2ed,_0x5e6056=_0x2b6e40[_0x4dfd98(0x5a3)]['closest'](_0x4dfd98(0x2e4)),_0x58e732=_0x2b6e40[_0x4dfd98(0x5a3)][_0x4dfd98(0x7d2)](_0x4dfd98(0xb78));if(_0x5e6056){const _0xf22beb=_0x5e6056[_0x4dfd98(0x7d2)](_0x4dfd98(0x5e8)),_0x1d4b92=parseInt(_0xf22beb['dataset'][_0x4dfd98(0xc0)],0xa);handleRegenerateQuestionInEditor(_0x1d4b92);}else{if(_0x58e732){const _0x1a3061=_0x58e732['closest']('.question-editor-item'),_0x1b8ba3=parseInt(_0x1a3061[_0x4dfd98(0xad1)][_0x4dfd98(0xc0)],0xa);handleAiFixFormula(_0x1b8ba3);}}});document['getElementById']('open-quiz-bank-btn')[_0x5af2ed(0xda)](_0x5af2ed(0x896),openQuizBankModal),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x319))[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>{const _0x59a9c7=_0x5af2ed;document['getElementById']('quiz-bank-modal')[_0x59a9c7(0xaa8)][_0x59a9c7(0x4de)]('hidden');}),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x880))[_0x5af2ed(0xda)](_0x5af2ed(0x26b),_0x117b8b=>renderQuizBankList(_0x117b8b[_0x5af2ed(0x5a3)][_0x5af2ed(0x593)]));const _0xa723b1=document[_0x5af2ed(0x8b2)](_0x5af2ed(0x9b0));if(_0xa723b1){let _0x427ac9=null;_0xa723b1['addEventListener'](_0x5af2ed(0x896),_0x5ccaab=>{const _0x5bdfb6=_0x5af2ed,_0x2a6819=_0x5ccaab[_0x5bdfb6(0x5a3)],_0x276e8f=_0x2a6819[_0x5bdfb6(0x7d2)](_0x5bdfb6(0x7bb)),_0x3ad674=_0x2a6819['closest'](_0x5bdfb6(0x52e)),_0x3e7b5e=_0x2a6819[_0x5bdfb6(0x7d2)](_0x5bdfb6(0x192)),_0x4e74b2=_0x2a6819[_0x5bdfb6(0x7d2)](_0x5bdfb6(0x440));if(_0x3ad674){_0x5ccaab[_0x5bdfb6(0x756)]();const _0x14c032=_0x3ad674[_0x5bdfb6(0xad1)]['id'],_0x2322e5=_0x3ad674['closest'](_0x5bdfb6(0x2ed))['querySelector'](_0x5bdfb6(0x9d6))['textContent'];showConfirmation(_0x5bdfb6(0x5a5)+_0x2322e5+'\x22?',()=>handleDeleteCustomTopic(_0x14c032));}else{if(_0x276e8f){_0x5ccaab[_0x5bdfb6(0x756)]();_0x427ac9&&toggleTopicEditMode(_0x427ac9,![]);const _0x485add=_0x276e8f[_0x5bdfb6(0x7d2)](_0x5bdfb6(0x6ee));_0x427ac9=_0x485add,toggleTopicEditMode(_0x485add,!![]);}else{if(_0x3e7b5e){_0x5ccaab[_0x5bdfb6(0x756)]();const _0x1e8e24=_0x3e7b5e[_0x5bdfb6(0xad1)]['id'],_0x425f46=_0x3e7b5e[_0x5bdfb6(0x7d2)](_0x5bdfb6(0x6ee)),_0xaf3cd5=_0x425f46[_0x5bdfb6(0x7a8)](_0x5bdfb6(0xf1))[_0x5bdfb6(0x593)];handleUpdateCustomTopic(_0x1e8e24,_0xaf3cd5),_0x427ac9=null;}else{if(_0x4e74b2){_0x5ccaab['preventDefault']();const _0x18838a=_0x4e74b2[_0x5bdfb6(0x7d2)](_0x5bdfb6(0x6ee));toggleTopicEditMode(_0x18838a,![]),_0x427ac9=null;}}}}}),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x53e))['addEventListener'](_0x5af2ed(0x896),()=>{const _0x43ddb6=_0x5af2ed;document['getElementById'](_0x43ddb6(0x942))[_0x43ddb6(0xaa8)][_0x43ddb6(0x4de)](_0x43ddb6(0x856));}),document['getElementById'](_0x5af2ed(0x265))['addEventListener'](_0x5af2ed(0x896),()=>{const _0x7cfda8=_0x5af2ed;document['getElementById'](_0x7cfda8(0x942))['classList'][_0x7cfda8(0x4de)](_0x7cfda8(0x856));}),document[_0x5af2ed(0x8b2)](_0x5af2ed(0x649))['addEventListener']('click',handleExportLessonPDF);}document['getElementById'](_0x5af2ed(0xae2))[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>{const _0x57af81=_0x5af2ed;document[_0x57af81(0x8b2)](_0x57af81(0x77d))[_0x57af81(0xaa8)]['add']('hidden');}),document['getElementById']('close-comparison-modal-footer-btn')[_0x5af2ed(0xda)](_0x5af2ed(0x896),()=>{const _0x54462d=_0x5af2ed;document[_0x54462d(0x8b2)](_0x54462d(0x77d))[_0x54462d(0xaa8)][_0x54462d(0x4de)]('hidden');}),setupComparisonModalTabs(),document[_0x5af2ed(0x905)][_0x5af2ed(0xda)](_0x5af2ed(0x896),function(_0x2bc548){const _0x56e9c4=_0x5af2ed;if(_0x2bc548[_0x56e9c4(0x5a3)][_0x56e9c4(0xaa8)][_0x56e9c4(0xaa3)](_0x56e9c4(0x55e))){const _0xe93557=unescape(_0x2bc548[_0x56e9c4(0x5a3)][_0x56e9c4(0xad1)][_0x56e9c4(0x1bc)]);startSkillPractice(_0xe93557);}}),document['getElementById'](_0x5af2ed(0xb37))['addEventListener']('click',_0x3bae1e=>{const _0x3d656b=_0x5af2ed,_0x1fdd52=_0x3bae1e[_0x3d656b(0x5a3)][_0x3d656b(0x7d2)](_0x3d656b(0x3ba));if(_0x1fdd52){const _0xc81be1=_0x1fdd52['dataset'][_0x3d656b(0x29c)];handleDeleteSubmission(_0xc81be1);}});}async function handleStartGroupMode(_0x2b8166,_0x258590=![]){const _0x126ba6=_0x470ff8,_0x28d3a4=allQuizzes[_0x126ba6(0x43e)](_0x58d550=>_0x58d550['id']===_0x2b8166)||allQuizzesGlobal[_0x126ba6(0x43e)](_0x4e6b9a=>_0x4e6b9a['id']===_0x2b8166);if(!_0x28d3a4){showMessage(_0x126ba6(0x85b));return;}currentQuizData=getShuffledQuiz(_0x28d3a4);const _0x58a178=Math[_0x126ba6(0x8ec)](0x3e8+Math['random']()*0x2328)[_0x126ba6(0x77c)]();try{const _0x21ce74=await addDoc(collection(db,'artifacts/'+appId+_0x126ba6(0x216)),{'quizId':_0x28d3a4['id'],'projectId':_0x28d3a4[_0x126ba6(0x54d)],'status':_0x126ba6(0x21e),'pin':_0x58a178,'mode':_0x126ba6(0x917),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x258590});currentTeamQuizId=_0x21ce74['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x58a178,_0x28d3a4[_0x126ba6(0x1bc)],_0x126ba6(0x917)),listenForTeamQuizUpdates();}catch(_0x4f2f90){console['error'](_0x126ba6(0x5c6),_0x4f2f90),showMessage(_0x126ba6(0xa88));}}async function showStudentProgressView(){const _0xe64d82=_0x470ff8;studentInitialView[_0xe64d82(0xaa8)]['add']('hidden'),document['getElementById']('student-progress-view')[_0xe64d82(0xaa8)][_0xe64d82(0x5b2)](_0xe64d82(0x856));const _0xec7eeb=document[_0xe64d82(0x8b2)]('progress-project-select'),_0x37b342=document['getElementById'](_0xe64d82(0x696)),_0x4ebd29=document[_0xe64d82(0x8b2)](_0xe64d82(0x814));_0x4ebd29['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x37b342[_0xe64d82(0xb6e)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x37b342[_0xe64d82(0x6cf)]=!![],_0xec7eeb['innerHTML']='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects[_0xe64d82(0x9b5)]===0x0){const _0x2c68e2=collection(db,_0xe64d82(0x718)+appId+_0xe64d82(0xb58)),_0x366821=await getDocs(_0x2c68e2);allProjects=_0x366821[_0xe64d82(0xa1f)][_0xe64d82(0x6b7)](_0x741dc7=>({'id':_0x741dc7['id'],..._0x741dc7[_0xe64d82(0x79e)]()}));}const _0x42a613=allProjects[_0xe64d82(0x8dd)](_0xfce11d=>_0xfce11d[_0xe64d82(0x893)]?.['showInStudentDashboard']!==![]);_0x42a613[_0xe64d82(0xe2)]((_0x33411a,_0x49c1b2)=>_0x33411a[_0xe64d82(0x31e)][_0xe64d82(0xaf7)](_0x49c1b2['projectName'],'th')),_0xec7eeb[_0xe64d82(0xb6e)]=_0xe64d82(0x910)+_0x42a613[_0xe64d82(0x6b7)](_0xe56976=>'<option\x20value=\x22'+_0xe56976['id']+'\x22>'+_0xe56976[_0xe64d82(0x31e)]+_0xe64d82(0x39e))[_0xe64d82(0x221)](''),_0xec7eeb[_0xe64d82(0x7a2)]=()=>{const _0x158263=_0xe64d82,_0x16c745=_0x37b342['value'],_0x36f110=_0xec7eeb[_0x158263(0x593)];_0x37b342[_0x158263(0x6cf)]=!![],_0x37b342[_0x158263(0xb6e)]=_0x158263(0x7f1),_0x4ebd29[_0x158263(0xb6e)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>';if(!_0x36f110)return;const _0x20d94a=allProjects[_0x158263(0x43e)](_0x449bf3=>_0x449bf3['id']===_0x36f110);if(!_0x20d94a||!_0x20d94a[_0x158263(0x605)])return;const _0x245c5a=()=>{const _0x21b303=_0x158263;_0x37b342[_0x21b303(0xb6e)]=_0x21b303(0x7f1)+_0x20d94a[_0x21b303(0x605)][_0x21b303(0x6b7)](_0x57feb7=>_0x21b303(0x5ea)+_0x57feb7+'\x22>'+_0x57feb7+_0x21b303(0x39e))['join'](''),_0x37b342[_0x21b303(0x6cf)]=![];const _0x228edd=Array[_0x21b303(0xaf3)](_0x37b342[_0x21b303(0xb6f)])[_0x21b303(0x6b7)](_0x4aac52=>_0x4aac52[_0x21b303(0x593)]);if(_0x16c745&&_0x228edd['includes'](_0x16c745))_0x37b342[_0x21b303(0x593)]=_0x16c745,_0x37b342[_0x21b303(0x35e)](new Event(_0x21b303(0xb77)));else _0x20d94a[_0x21b303(0x605)][_0x21b303(0x9b5)]===0x1&&(_0x37b342[_0x21b303(0x593)]=_0x20d94a[_0x21b303(0x605)][0x0],_0x37b342[_0x21b303(0x35e)](new Event(_0x21b303(0xb77))));};if(_0x20d94a[_0x158263(0x893)]?.[_0x158263(0x85f)]){if(sessionStorage[_0x158263(0x75f)](_0x158263(0x845)+_0x36f110)===_0x158263(0x184)){_0x245c5a();return;}const _0x28e28a=document['getElementById'](_0x158263(0x461)),_0x23f58d=document[_0x158263(0x8b2)](_0x158263(0x8cf)),_0x24d585=document[_0x158263(0x8b2)](_0x158263(0x17b)),_0x3c8af7=document[_0x158263(0x8b2)](_0x158263(0x1e2)),_0x1fd3e4=document['getElementById'](_0x158263(0x373));document[_0x158263(0x8b2)](_0x158263(0x11b))[_0x158263(0x464)]=_0x158263(0x342)+_0x20d94a['projectName'],_0x3c8af7[_0x158263(0x593)]='',_0x1fd3e4['classList']['add'](_0x158263(0x856)),_0x28e28a['classList'][_0x158263(0x5b2)](_0x158263(0x856));const _0x353607=()=>{const _0x512a87=_0x158263,_0x528006=_0x3c8af7[_0x512a87(0x593)][_0x512a87(0xf2)]();_0x528006===_0x20d94a['settings'][_0x512a87(0x64c)]?(sessionStorage['setItem'](_0x512a87(0x845)+_0x36f110,_0x512a87(0x184)),_0x28e28a[_0x512a87(0xaa8)][_0x512a87(0x4de)](_0x512a87(0x856)),_0x245c5a(),_0x23f58d['removeEventListener'](_0x512a87(0x896),_0x353607)):_0x1fd3e4['classList']['remove']('hidden');};_0x23f58d[_0x158263(0xb79)]=_0x353607,_0x24d585[_0x158263(0xb79)]=()=>{const _0x3f111a=_0x158263;_0x28e28a[_0x3f111a(0xaa8)]['add']('hidden'),_0xec7eeb['value']='',_0x23f58d[_0x3f111a(0x9d0)](_0x3f111a(0x896),_0x353607);};}else _0x245c5a();},_0x37b342['onchange']=()=>{const _0x311001=_0xe64d82,_0x2b8957=_0xec7eeb[_0x311001(0x593)],_0x1db11e=_0x37b342[_0x311001(0x593)];_0x2b8957&&_0x1db11e&&renderStudentProgressDashboard(_0x2b8957,_0x1db11e);};}async function confirmAndJoinSyncGame(){const _0x52db42=_0x470ff8,_0x2e4a0b=Array[_0x52db42(0xaf3)](document[_0x52db42(0x9c4)](_0x52db42(0x861)))[_0x52db42(0x6b7)](_0x3dbb0a=>_0x3dbb0a[_0x52db42(0x593)]);if(_0x2e4a0b[_0x52db42(0x9b5)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x2e4a0b,localPlayerTurnIndex=0x0;const _0x24df26=doc(db,_0x52db42(0x718)+appId+_0x52db42(0x41a),currentLiveGameId);try{const _0x97fab3=await getDoc(_0x24df26);if(!_0x97fab3[_0x52db42(0x811)]())throw new Error(_0x52db42(0xb2e));const _0x4ea992=_0x97fab3['data']()[_0x52db42(0x190)]||{};_0x2e4a0b[_0x52db42(0x501)](_0x1115be=>{const _0x55f433=_0x52db42;!_0x4ea992[_0x1115be]&&(_0x4ea992[_0x1115be]={'name':_0x1115be,'score':0x0,'answered':![],'status':_0x55f433(0x3f0)});}),await updateDoc(_0x24df26,{'players':_0x4ea992}),document[_0x52db42(0x8b2)](_0x52db42(0xa28))[_0x52db42(0xaa8)]['add'](_0x52db42(0x856)),currentStudentName=_0x2e4a0b[0x0],listenForSyncGameUpdates();const _0x4b7218={'gameId':currentLiveGameId,'mode':_0x52db42(0x9a5),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x52db42(0xa20)](_0x52db42(0x84c),JSON[_0x52db42(0x1b9)](_0x4b7218));}catch(_0x293658){console[_0x52db42(0x6c4)](_0x52db42(0x834),_0x293658),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function resumeActiveGameSession(){const _0x418c0e=_0x470ff8,_0x232ba2=sessionStorage[_0x418c0e(0x75f)](_0x418c0e(0x84c));if(!_0x232ba2)return;const _0x5da3f=JSON[_0x418c0e(0x25b)](_0x232ba2),{gameId:_0x51dbce,mode:_0x49b2af,players:_0x3a6e4e,turnIndex:_0x204771}=_0x5da3f;try{let _0x3f83c0,_0x4c5a49;_0x49b2af===_0x418c0e(0x9a5)?_0x3f83c0=doc(db,_0x418c0e(0x718)+appId+_0x418c0e(0x41a),_0x51dbce):_0x3f83c0=doc(db,_0x418c0e(0x718)+appId+'/public/data/teamQuizzes',_0x51dbce);_0x4c5a49=await getDoc(_0x3f83c0);if(!_0x4c5a49['exists']()||_0x4c5a49[_0x418c0e(0x79e)]()[_0x418c0e(0x6b3)]===_0x418c0e(0x763)||_0x4c5a49[_0x418c0e(0x79e)]()[_0x418c0e(0x6b3)]===_0x418c0e(0x7e5)){sessionStorage[_0x418c0e(0xaa4)](_0x418c0e(0x84c));return;}console[_0x418c0e(0x638)]('กำลังกลับเข้าสู่เกม\x20'+_0x49b2af+_0x418c0e(0x621)+_0x51dbce+')'),localTeamPlayers=_0x3a6e4e,localPlayerTurnIndex=_0x204771;if(_0x49b2af===_0x418c0e(0x9a5))currentLiveGameId=_0x51dbce,currentStudentName=_0x3a6e4e[0x0],showView(_0x418c0e(0x68d)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x51dbce;const _0x599adb=_0x4c5a49[_0x418c0e(0x79e)](),_0x3f480e=doc(db,_0x418c0e(0x718)+appId+_0x418c0e(0x51f),_0x599adb[_0x418c0e(0x65c)]),_0x32ef45=await getDoc(_0x3f480e);_0x32ef45[_0x418c0e(0x811)]()&&(currentQuizData=getShuffledQuiz({'id':_0x32ef45['id'],..._0x32ef45['data']()}),showView(_0x418c0e(0x53d)),studentInitialView[_0x418c0e(0xaa8)][_0x418c0e(0x4de)](_0x418c0e(0x856)),renderTeamQuizQuestion());}}catch(_0x153e4e){console['error'](_0x418c0e(0x7c0),_0x153e4e),sessionStorage[_0x418c0e(0xaa4)](_0x418c0e(0x84c));}}async function handleKickPlayerSync(_0x376d05){const _0x138655=_0x470ff8;if(!currentLiveGameId||!_0x376d05)return;const _0x308279=doc(db,_0x138655(0x718)+appId+_0x138655(0x41a),currentLiveGameId),_0x157758={};_0x157758[_0x138655(0x548)+_0x376d05+_0x138655(0x565)]=_0x138655(0x9db);try{await updateDoc(_0x308279,_0x157758);}catch(_0x44af81){console['error'](_0x138655(0x9a0)+_0x376d05+'\x20from\x20sync\x20game:',_0x44af81),showMessage(_0x138655(0x778));}}async function renderStudentProgressDashboard(_0x2c21fc,_0xdde8ad){const _0x5aa7af=_0x470ff8,_0x1a974b=document[_0x5aa7af(0x8b2)](_0x5aa7af(0x814));_0x1a974b['innerHTML']=_0x5aa7af(0x83b);try{const _0x563f1b=collection(db,_0x5aa7af(0x718)+appId+'/public/data/quizzes'),_0x3c2371=query(_0x563f1b,where(_0x5aa7af(0x54d),'==',_0x2c21fc)),_0x10eb72=await getDocs(_0x3c2371),_0x3a2fcf=_0x10eb72['docs'][_0x5aa7af(0x6b7)](_0x2768f1=>({'id':_0x2768f1['id'],..._0x2768f1['data']()})),_0x3e7603=_0x3a2fcf['map'](_0x366a36=>getDoc(doc(db,_0x5aa7af(0x718)+appId+_0x5aa7af(0xa4e)+_0x366a36['id']+_0x5aa7af(0x651),_0xdde8ad))),_0x149194=await Promise['all'](_0x3e7603),_0x458cf5=_0x149194['filter'](_0x5e74fc=>_0x5e74fc[_0x5aa7af(0x811)]())[_0x5aa7af(0x6b7)](_0x35d201=>({'quizId':_0x35d201[_0x5aa7af(0x392)]['parent']['parent']['id'],..._0x35d201['data']()}));if(_0x458cf5[_0x5aa7af(0x9b5)]===0x0){_0x1a974b[_0x5aa7af(0xb6e)]=_0x5aa7af(0x2f1);return;}let _0x10c0b6=_0x5aa7af(0x934);_0x458cf5[_0x5aa7af(0x501)](_0x50e37a=>{const _0x2e23a6=_0x5aa7af,_0x1bf080=_0x3a2fcf[_0x2e23a6(0x43e)](_0x33f35e=>_0x33f35e['id']===_0x50e37a[_0x2e23a6(0x65c)]),_0xcac1fe=_0x1bf080[_0x2e23a6(0x893)]?.[_0x2e23a6(0x95c)]||_0x2e23a6(0xab0),_0x2c797e=_0x1bf080[_0x2e23a6(0x893)]?.[_0x2e23a6(0xab2)]??0x0,_0x52591e=_0x50e37a[_0x2e23a6(0x558)]>=_0x2c797e;let _0x131951='',_0x36ee61=_0x2e23a6(0x86b);switch(_0xcac1fe){case _0x2e23a6(0xab0):case _0x2e23a6(0x915):_0x36ee61=_0x52591e?_0x2e23a6(0xae5):_0x2e23a6(0x17e),_0x131951=_0x2e23a6(0x225)+(_0x52591e?'text-green-700':_0x2e23a6(0x1a5))+'\x22>'+_0x50e37a['bestScore']+_0x2e23a6(0x615)+_0x50e37a[_0x2e23a6(0x409)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20'+(_0x52591e?_0x2e23a6(0x292):_0x2e23a6(0xb73))+'\x22>'+(_0x52591e?'ผ่าน':_0x2e23a6(0x86f))+_0x2e23a6(0x90d);break;case _0x2e23a6(0x7de):_0x36ee61=_0x52591e?_0x2e23a6(0xae5):_0x2e23a6(0x17e),_0x131951='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x52591e?'bg-green-200\x20text-green-800':_0x2e23a6(0xb73))+'\x22>'+(_0x52591e?_0x2e23a6(0x82e):'ไม่ผ่าน')+_0x2e23a6(0x90d);break;case _0x2e23a6(0xab5):_0x36ee61='bg-yellow-50',_0x131951=_0x2e23a6(0x643);break;}_0x10c0b6+=_0x2e23a6(0x577)+_0x36ee61+_0x2e23a6(0x5bd)+_0x1bf080[_0x2e23a6(0x1bc)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x50e37a[_0x2e23a6(0x250)]['length']+_0x2e23a6(0x281)+new Date(_0x50e37a[_0x2e23a6(0x3ed)])[_0x2e23a6(0xa7c)](_0x2e23a6(0x424))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x131951+_0x2e23a6(0x19f);}),_0x10c0b6+=_0x5aa7af(0x9ab),_0x1a974b[_0x5aa7af(0xb6e)]=_0x10c0b6;}catch(_0xa0ac5){console['error']('Error\x20rendering\x20student\x20progress:',_0xa0ac5),_0x1a974b['innerHTML']=_0x5aa7af(0x6fd);}}function renderQuizBankListForMultiSelect(_0xe3a0e=''){const _0x52bd3b=_0x470ff8,_0x3935f6=document[_0x52bd3b(0x8b2)](_0x52bd3b(0x8bd)),_0x420801=_0xe3a0e[_0x52bd3b(0x136)]()[_0x52bd3b(0xf2)](),_0x54c21b=allQuizzesGlobal[_0x52bd3b(0x6b7)](_0x286487=>({..._0x286487,'projectName':allProjects[_0x52bd3b(0x43e)](_0x41895e=>_0x41895e['id']===_0x286487[_0x52bd3b(0x54d)])?.[_0x52bd3b(0x31e)]||_0x52bd3b(0x2b9)}))[_0x52bd3b(0x8dd)](_0x587373=>(_0x587373['topic']||'')[_0x52bd3b(0x136)]()[_0x52bd3b(0xa57)](_0x420801)||(_0x587373[_0x52bd3b(0x31e)]||'')['toLowerCase']()['includes'](_0x420801)||_0x587373['id'][_0x52bd3b(0x77c)]()[_0x52bd3b(0xa57)](_0x420801));_0x3935f6[_0x52bd3b(0xb6e)]=_0x54c21b[_0x52bd3b(0x9b5)]?_0x54c21b['map'](_0x317196=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22'+_0x317196['id']+_0x52bd3b(0x1d9)+(_0x317196[_0x52bd3b(0x1bc)]||_0x52bd3b(0x8cb))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20'+_0x317196['projectName']+'\x20|\x20ID:\x20'+_0x317196['id']+_0x52bd3b(0x176))[_0x52bd3b(0x221)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x3935f6[_0x52bd3b(0x7a2)]=()=>{const _0x1cfc2b=_0x52bd3b,_0x1848f8=document[_0x1cfc2b(0x7a8)](_0x1cfc2b(0xa53));document[_0x1cfc2b(0x8b2)](_0x1cfc2b(0x628))[_0x1cfc2b(0x6cf)]=!_0x1848f8;};}function setupStudentProgressListeners(){const _0x863e96=_0x470ff8;document[_0x863e96(0x8b2)](_0x863e96(0x2af))[_0x863e96(0xda)](_0x863e96(0x896),showStudentProgressView),document[_0x863e96(0x8b2)](_0x863e96(0x9a8))[_0x863e96(0xda)](_0x863e96(0x896),()=>{const _0x1712cb=_0x863e96;document[_0x1712cb(0x8b2)](_0x1712cb(0x23e))['classList'][_0x1712cb(0x4de)](_0x1712cb(0x856)),document[_0x1712cb(0x8b2)](_0x1712cb(0x389))[_0x1712cb(0xaa8)][_0x1712cb(0x5b2)](_0x1712cb(0x856));});}async function startSkillPractice(_0x4a08a8){const _0x11a8cb=_0x470ff8;studentResultArea[_0x11a8cb(0xaa8)]['add'](_0x11a8cb(0x856)),studentQuizArea[_0x11a8cb(0xb6e)]=_0x11a8cb(0xf7),studentQuizArea['classList'][_0x11a8cb(0x5b2)](_0x11a8cb(0x856));try{const _0x4d2268=await getStandardizedTopic(_0x4a08a8);console['log'](_0x11a8cb(0x15f)+_0x4a08a8+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x4d2268+'\x22'),studentQuizArea[_0x11a8cb(0x7a8)]('p')[_0x11a8cb(0x464)]=_0x11a8cb(0x54f)+_0x4d2268+'\x22...';const _0x4cc95c=collection(db,'artifacts/'+appId+_0x11a8cb(0x66e)),_0x3534bc=query(_0x4cc95c,where(_0x11a8cb(0x1bc),'==',_0x4d2268)),_0x1def64=await getDocs(_0x3534bc);if(_0x1def64[_0x11a8cb(0xa1f)][_0x11a8cb(0x9b5)]>=0x3){console[_0x11a8cb(0x638)](_0x11a8cb(0x1e0)+_0x1def64['docs'][_0x11a8cb(0x9b5)]+_0x11a8cb(0xa3a)+_0x4d2268+_0x11a8cb(0x41f));let _0x4a664b=_0x1def64['docs']['map'](_0x10b8ad=>_0x10b8ad[_0x11a8cb(0x79e)]());shuffleArray(_0x4a664b);const _0x57fd20={'topic':_0x4d2268,'questions':_0x4a664b[_0x11a8cb(0x2b0)](0x0,0x3)};displaySkillPracticeDrill(_0x57fd20);}else{console['log']('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0x4d2268+'\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...');const _0x48f1aa=await generatePracticeQuestions(_0x4d2268);await saveDrillToPracticeBank(_0x48f1aa,_0x4d2268),displaySkillPracticeDrill(_0x48f1aa);}}catch(_0x3349dd){console[_0x11a8cb(0x6c4)](_0x11a8cb(0x6f4),_0x3349dd),showMessage(_0x11a8cb(0x331)),studentQuizArea[_0x11a8cb(0xaa8)][_0x11a8cb(0x4de)]('hidden'),studentResultArea[_0x11a8cb(0xaa8)][_0x11a8cb(0x5b2)](_0x11a8cb(0x856));}}async function saveDrillToPracticeBank(_0x4e58bd,_0x4ff9da){const _0x4e1eda=_0x470ff8,_0x205cf9=collection(db,_0x4e1eda(0x718)+appId+_0x4e1eda(0x66e)),_0x57b18f=writeBatch(db);_0x4e58bd[_0x4e1eda(0x622)][_0x4e1eda(0x501)](_0x5aa7c4=>{const _0x3a8eb1=_0x4e1eda,_0x2a084a=doc(_0x205cf9);_0x57b18f[_0x3a8eb1(0x105)](_0x2a084a,{'topic':_0x4ff9da,'questionText':_0x5aa7c4[_0x3a8eb1(0x16b)],'options':_0x5aa7c4[_0x3a8eb1(0xb6f)],'correctAnswerIndex':_0x5aa7c4['correctAnswerIndex'],'explanation':_0x5aa7c4['explanation'],'createdAt':serverTimestamp()});});try{await _0x57b18f[_0x4e1eda(0x775)](),console[_0x4e1eda(0x638)](_0x4e1eda(0x9ed)+_0x4e58bd['questions'][_0x4e1eda(0x9b5)]+'\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ');}catch(_0x504906){console['error'](_0x4e1eda(0xaba),_0x504906);}}async function getStandardizedTopic(_0x3e4c31){const _0x3d3786=_0x470ff8,_0x12c8f7=_0x3d3786(0x538)+_0x3e4c31+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x59525b={'type':_0x3d3786(0x882),'properties':{'standardTopic':{'type':'STRING'}},'required':[_0x3d3786(0x3d9)]};try{const _0x2ee49a=await callAnalysisApi(_0x12c8f7,_0x59525b);return _0x2ee49a['standardTopic'];}catch(_0x178d1d){return console[_0x3d3786(0x6c4)](_0x3d3786(0xb6d),_0x178d1d),_0x3e4c31;}}async function handleGenerateEasyVersionQuiz(_0x573105){const _0x4137bd=_0x470ff8,_0xc1be43=document[_0x4137bd(0x8b2)](_0x4137bd(0x6d4)),_0x319044=document[_0x4137bd(0x8b2)](_0x4137bd(0x82f));_0x319044[_0x4137bd(0xaa8)][_0x4137bd(0x4de)](_0x4137bd(0x856));const _0x300cb7=_0x4137bd(0x7c7);_0xc1be43[_0x4137bd(0x18b)](_0x4137bd(0x983),_0x300cb7);try{const _0x5acc6c=allQuizzes['find'](_0x3928db=>_0x3928db['id']===_0x573105);if(!_0x5acc6c)throw new Error(_0x4137bd(0xa26));const _0x3f10b6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20'+JSON[_0x4137bd(0x1b9)](_0x5acc6c['questions'])+_0x4137bd(0x707),_0x779e86={'type':_0x4137bd(0x882),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x4137bd(0xb2a)},'options':{'type':_0x4137bd(0x1f9),'items':{'type':_0x4137bd(0xb2a)}},'correctAnswerIndex':{'type':_0x4137bd(0x84b)},'idealAnswer':{'type':_0x4137bd(0xb2a)},'explanation':{'type':_0x4137bd(0xb2a)},'imageCode':{'type':_0x4137bd(0xb2a)}},'required':['questionText',_0x4137bd(0x345),_0x4137bd(0x94b)]},_0x1a309e={'type':'OBJECT','properties':{'questions':{'type':_0x4137bd(0x1f9),'items':_0x779e86}},'required':['questions']},_0x41b6e6=await callAnalysisApi(_0x3f10b6,_0x1a309e);_0x41b6e6&&_0x41b6e6[_0x4137bd(0x622)]&&_0x41b6e6[_0x4137bd(0x622)][_0x4137bd(0x501)](_0x585216=>{const _0x1469c0=_0x4137bd;if(_0x585216[_0x1469c0(0xa6e)](_0x1469c0(0x4b5))){const _0x20372d=String(_0x585216[_0x1469c0(0x4b5)])[_0x1469c0(0xf2)]();(_0x20372d===''||_0x20372d[_0x1469c0(0x136)]()===_0x1469c0(0x513)||!_0x20372d['startsWith'](_0x1469c0(0x30f)))&&delete _0x585216[_0x1469c0(0x4b5)];}});if(!_0x41b6e6||!_0x41b6e6['questions']||_0x41b6e6[_0x4137bd(0x622)][_0x4137bd(0x9b5)]===0x0)throw new Error(_0x4137bd(0xaac));const _0x14175b=_0x41b6e6[_0x4137bd(0x622)][_0x4137bd(0x6b7)]((_0x281290,_0x3a052c)=>({..._0x281290,'id':'q_'+Date['now']()+'_'+_0x3a052c})),_0x384693={'projectId':_0x5acc6c[_0x4137bd(0x54d)],'quizType':_0x5acc6c[_0x4137bd(0x497)],'settings':_0x5acc6c[_0x4137bd(0x893)],'createdBy':_0x5acc6c[_0x4137bd(0x6c3)],'status':_0x4137bd(0x3f0),'topic':_0x4137bd(0x79d)+_0x5acc6c[_0x4137bd(0x1bc)],'questions':_0x14175b,'createdAt':new Date()[_0x4137bd(0x692)](),'quizMode':_0x4137bd(0x239),'pairedQuizId':null};let _0x231c2e;while(!![]){_0x231c2e=Math[_0x4137bd(0x8ec)](0x3e8+Math[_0x4137bd(0x3c3)]()*0x2328)['toString']();const _0x44a048=await getDoc(doc(db,_0x4137bd(0x718)+appId+_0x4137bd(0x51f),_0x231c2e));if(!_0x44a048['exists']())break;}await setDoc(doc(db,_0x4137bd(0x718)+appId+'/public/data/quizzes',_0x231c2e),_0x384693),showMessage(_0x4137bd(0x993));}catch(_0x130925){console[_0x4137bd(0x6c4)](_0x4137bd(0x85a),_0x130925),showMessage(_0x4137bd(0x8c6)+_0x130925[_0x4137bd(0x80a)]);}finally{const _0x20f2c6=document[_0x4137bd(0x8b2)]('temp-loader-results');_0x20f2c6&&_0x20f2c6[_0x4137bd(0x5b2)](),_0x319044[_0x4137bd(0xaa8)][_0x4137bd(0x5b2)](_0x4137bd(0x856));}}async function generatePracticeQuestions(_0x19fbb1){const _0xe4f505=_0x470ff8,_0x3ecb44=_0xe4f505(0x1b5)+_0x19fbb1+_0xe4f505(0xab6)+simpleMathPrompt+_0xe4f505(0x70b),_0x54e154={'type':_0xe4f505(0x882),'properties':{'questionText':{'type':_0xe4f505(0xb2a)},'options':{'type':'ARRAY','items':{'type':_0xe4f505(0xb2a)}},'correctAnswerIndex':{'type':_0xe4f505(0x84b)},'explanation':{'type':_0xe4f505(0xb2a)}},'required':[_0xe4f505(0x16b),'options',_0xe4f505(0x5ad),_0xe4f505(0x94b)]},_0xefef52={'type':_0xe4f505(0x882),'properties':{'topic':{'type':_0xe4f505(0xb2a)},'questions':{'type':'ARRAY','items':_0x54e154}},'required':[_0xe4f505(0x1bc),'questions']};return await callAnalysisApi(_0x3ecb44,_0xefef52);}function displayLessonPlan(_0x58ca28,_0x237a2a){const _0x31795a=_0x470ff8,_0x1f82d8=_0x31795a(0x1ba)+_0x237a2a[_0x31795a(0x1bc)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x58ca28[_0x31795a(0x774)]['map'](_0x37659b=>'<li>'+_0x37659b+_0x31795a(0x3ca))[_0x31795a(0x221)]('')+_0x31795a(0x8e6)+_0x58ca28['teachingContent']+_0x31795a(0x242)+_0x58ca28['practiceProblems']['map'](_0x4d0b31=>_0x31795a(0x80e)+_0x4d0b31['question']+_0x31795a(0x4c5)+_0x4d0b31[_0x31795a(0xb0b)]+_0x31795a(0x88a))['join']('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x31795a(0x8b2)](_0x31795a(0x72f))[_0x31795a(0x464)]=_0x31795a(0x56d)+_0x237a2a[_0x31795a(0x1bc)],document[_0x31795a(0x8b2)](_0x31795a(0x7fc))[_0x31795a(0xb6e)]=_0x1f82d8,document[_0x31795a(0x8b2)](_0x31795a(0x942))[_0x31795a(0xaa8)][_0x31795a(0x5b2)](_0x31795a(0x856));if(window[_0x31795a(0x821)])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x1c745f){let _0x330d80=0x0;const _0x5b9a05=_0x1c745f['questions'],_0x3f6815=()=>{const _0x518108=_0xb340,_0x5276d3=_0x5b9a05[_0x330d80],_0x5e5e58=_0x518108(0x662)+(_0x330d80+0x1)+'\x20/\x20'+_0x5b9a05[_0x518108(0x9b5)]+_0x518108(0x42d)+_0x5276d3[_0x518108(0x16b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5276d3[_0x518108(0xb6f)][_0x518108(0x6b7)]((_0x283239,_0x3a4348)=>_0x518108(0x6fc)+_0x3a4348+_0x518108(0x6d6)+_0x3a4348+_0x518108(0x933)+_0x3a4348+'\x22>'+_0x283239+_0x518108(0x91a))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea['innerHTML']=_0x5e5e58;if(window[_0x518108(0x821)])MathJax[_0x518108(0x697)]([studentQuizArea]);document[_0x518108(0x8b2)](_0x518108(0x48a))[_0x518108(0xda)](_0x518108(0x896),async()=>{const _0x1dfe73=_0x518108,_0x5d1958=await getHintForQuestion(_0x5276d3[_0x1dfe73(0x16b)]);showMessage(_0x5d1958);}),document[_0x518108(0x8b2)](_0x518108(0x17f))['addEventListener']('click',()=>{const _0x31b0ae=_0x518108,_0x450eb7=document[_0x31b0ae(0x7a8)](_0x31b0ae(0x2c4));if(!_0x450eb7){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0x143a59=document[_0x31b0ae(0x8b2)]('drill-feedback'),_0x13516b=parseInt(_0x450eb7['value'])===_0x5276d3[_0x31b0ae(0x5ad)];_0x13516b?(_0x143a59[_0x31b0ae(0x799)]=_0x31b0ae(0x988),_0x143a59[_0x31b0ae(0xb6e)]=_0x31b0ae(0x52f)+_0x5276d3[_0x31b0ae(0x94b)]):(_0x143a59['className']=_0x31b0ae(0x45f),_0x143a59[_0x31b0ae(0xb6e)]='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x5276d3[_0x31b0ae(0x94b)]);_0x143a59['classList'][_0x31b0ae(0x5b2)]('hidden');if(window[_0x31b0ae(0x821)])MathJax[_0x31b0ae(0x697)]([_0x143a59]);document[_0x31b0ae(0x8b2)](_0x31b0ae(0x17f))[_0x31b0ae(0xaa8)][_0x31b0ae(0x4de)](_0x31b0ae(0x856)),document[_0x31b0ae(0x8b2)](_0x31b0ae(0x48a))[_0x31b0ae(0xaa8)][_0x31b0ae(0x4de)](_0x31b0ae(0x856)),document[_0x31b0ae(0x8b2)](_0x31b0ae(0x361))[_0x31b0ae(0xaa8)][_0x31b0ae(0x5b2)](_0x31b0ae(0x856));}),document['getElementById'](_0x518108(0x361))[_0x518108(0xda)](_0x518108(0x896),()=>{const _0x5456b7=_0x518108;_0x330d80++,_0x330d80<_0x5b9a05[_0x5456b7(0x9b5)]?_0x3f6815():(studentQuizArea[_0x5456b7(0xb6e)]=_0x5456b7(0x3c9),document['getElementById'](_0x5456b7(0x879))[_0x5456b7(0xda)](_0x5456b7(0x896),()=>{const _0x495244=_0x5456b7;studentQuizArea['classList'][_0x495244(0x4de)](_0x495244(0x856)),studentResultArea[_0x495244(0xaa8)][_0x495244(0x5b2)](_0x495244(0x856));}));});};_0x3f6815();}async function getHintForQuestion(_0x612666){const _0x1c6081=_0x470ff8,_0x18b563='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0x612666+_0x1c6081(0x71a),_0x11e133={'type':_0x1c6081(0x882),'properties':{'hint':{'type':'STRING'}},'required':['hint']};try{const _0x463ebc=await callAnalysisApi(_0x18b563,_0x11e133);return _0x463ebc[_0x1c6081(0x6a5)];}catch(_0x34b7ec){return console['error'](_0x1c6081(0x780),_0x34b7ec),_0x1c6081(0x688);}}async function extractTextFromPdf(_0x460efc){const _0x160fba=_0x470ff8;pdfjsLib[_0x160fba(0xaef)][_0x160fba(0xa1e)]=_0x160fba(0x27a);const _0x579692=await _0x460efc[_0x160fba(0x10a)](),_0x1c5473=await pdfjsLib[_0x160fba(0x3c8)](_0x579692)[_0x160fba(0x71c)],_0x2ef620=_0x1c5473[_0x160fba(0x6d7)];let _0x2dcdb3='';for(let _0x10d1d0=0x1;_0x10d1d0<=_0x2ef620;_0x10d1d0++){const _0x260c51=await _0x1c5473['getPage'](_0x10d1d0),_0x3aaaaa=await _0x260c51[_0x160fba(0x675)](),_0x4a3ddf=_0x3aaaaa[_0x160fba(0x99d)]['map'](_0x47a5a4=>_0x47a5a4['str'])[_0x160fba(0x221)]('\x20');_0x2dcdb3+=_0x4a3ddf+'\x0a\x0a';}return _0x2dcdb3;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x436d0f){const _0x3b5347=_0x470ff8,_0x1b0d91=document['getElementById'](_0x3b5347(0x764)),_0x3bc990=document[_0x3b5347(0x8b2)](_0x3b5347(0xb22)),_0x455e47=document['getElementById'](_0x3b5347(0x75c));_0x1b0d91['classList'][_0x3b5347(0x5b2)](_0x3b5347(0x856)),_0x3bc990[_0x3b5347(0xb6e)]=_0x3b5347(0x556),_0x455e47[_0x3b5347(0xaa8)][_0x3b5347(0x4de)](_0x3b5347(0x856));try{const _0x44a4ee=_0x3b5347(0x5d2)+_0x436d0f+_0x3b5347(0x937),_0x1807a1={'type':'OBJECT','properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':'ARRAY','items':{'type':_0x3b5347(0x882),'properties':{'sara':{'type':_0x3b5347(0xb2a)},'mainTopics':{'type':_0x3b5347(0x1f9),'items':{'type':'OBJECT','properties':{'topicName':{'type':_0x3b5347(0xb2a)},'subTopics':{'type':_0x3b5347(0x1f9),'items':{'type':_0x3b5347(0xb2a)}}},'required':[_0x3b5347(0x100),_0x3b5347(0xae6)]}}},'required':[_0x3b5347(0x9f1),_0x3b5347(0x279)]}}},'required':[_0x3b5347(0x61c),_0x3b5347(0x825)]},_0x6d13a5=await callAnalysisApi(_0x44a4ee,_0x1807a1);if(_0x6d13a5&&_0x6d13a5['curriculum'])extractedBlueprintData=_0x6d13a5,renderBlueprintTopics(_0x6d13a5),_0x455e47[_0x3b5347(0xaa8)][_0x3b5347(0x5b2)](_0x3b5347(0x856));else throw new Error(_0x3b5347(0x277));}catch(_0x5b76b2){console[_0x3b5347(0x6c4)](_0x3b5347(0x529),_0x5b76b2),_0x3bc990[_0x3b5347(0xb6e)]=_0x3b5347(0xa1c);}}function renderBlueprintTopics(_0x2a4424){const _0x531d9c=_0x470ff8,_0x5df773=document[_0x531d9c(0x8b2)]('blueprint-topics-list'),_0x583305=_0x2a4424[_0x531d9c(0x61c)],_0x31e395=_0x531d9c(0x25f)+_0x583305+'</h3>';let _0x1273e2='';_0x2a4424[_0x531d9c(0x825)][_0x531d9c(0x501)](_0x1a3feb=>{const _0x1c9812=_0x531d9c;_0x1273e2+=_0x1c9812(0x433)+_0x1a3feb['sara']+_0x1c9812(0x81e),_0x1a3feb[_0x1c9812(0x279)][_0x1c9812(0x501)](_0x1f8304=>{const _0x181ca4=_0x1c9812;_0x1273e2+=_0x181ca4(0x2e2)+_0x1f8304[_0x181ca4(0x100)]+_0x181ca4(0x83c),_0x1f8304[_0x181ca4(0xae6)][_0x181ca4(0x501)](_0x37fd21=>{const _0x2fa5f9=_0x181ca4;_0x1273e2+=_0x2fa5f9(0x894)+_0x37fd21['replace'](/'/g,'\x5c\x27')+_0x2fa5f9(0x488)+_0x583305[_0x2fa5f9(0x214)](/'/g,'\x5c\x27')+_0x2fa5f9(0x658)+_0x37fd21+_0x2fa5f9(0x902)+_0x37fd21['replace'](/'/g,'\x5c\x27')+_0x2fa5f9(0x9ff);}),_0x1273e2+=_0x181ca4(0x449);}),_0x1273e2+=_0x1c9812(0x9ab);}),_0x5df773[_0x531d9c(0xb6e)]=_0x31e395+_0x1273e2;}async function handleGenerateTeachingContent(_0x5a4d20){const _0x3d5986=_0x470ff8,_0x3581c2=document[_0x3d5986(0x8b2)](_0x3d5986(0x942)),_0x2e3c61=document[_0x3d5986(0x8b2)](_0x3d5986(0x7fc));document['getElementById'](_0x3d5986(0x72f))[_0x3d5986(0x464)]=_0x3d5986(0x293)+_0x5a4d20,_0x2e3c61['innerHTML']=_0x3d5986(0x5a4),_0x3581c2[_0x3d5986(0xaa8)]['remove'](_0x3d5986(0x856));try{const _0x1d727a=_0x3d5986(0x2df)+_0x5a4d20+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2f09ac={'type':_0x3d5986(0x882),'properties':{'keyConcepts':{'type':_0x3d5986(0x1f9),'items':{'type':_0x3d5986(0xb2a)}},'commonMistakes':{'type':_0x3d5986(0x1f9),'items':{'type':'STRING'}},'stepByStepExamples':{'type':_0x3d5986(0x1f9),'items':{'type':_0x3d5986(0x882),'properties':{'question':{'type':'STRING'},'solution':{'type':_0x3d5986(0xb2a)}},'required':[_0x3d5986(0x241),_0x3d5986(0xb0b)]}},'teacherTips':{'type':_0x3d5986(0x1f9),'items':{'type':'STRING'}}},'required':[_0x3d5986(0xa6d),_0x3d5986(0xaed),'stepByStepExamples',_0x3d5986(0x8d0)]},_0x392bbe=await callAnalysisApi(_0x1d727a,_0x2f09ac);displayTeachingContent(_0x392bbe,_0x5a4d20);}catch(_0x433f64){console[_0x3d5986(0x6c4)](_0x3d5986(0x33c),_0x433f64),_0x2e3c61[_0x3d5986(0xb6e)]=_0x3d5986(0x73a)+_0x433f64[_0x3d5986(0x80a)]+_0x3d5986(0x188);}}function displayTeachingContent(_0xa9ef8c,_0x272281){const _0x46886d=_0x470ff8,_0x33fedf=document[_0x46886d(0x8b2)](_0x46886d(0x7fc));document[_0x46886d(0x8b2)](_0x46886d(0x72f))[_0x46886d(0x464)]=_0x46886d(0x580)+_0x272281;const _0x1e5036=_0x46886d(0x306)+_0xa9ef8c[_0x46886d(0xa6d)][_0x46886d(0x6b7)](_0x14bcd7=>_0x46886d(0x623)+_0x14bcd7+_0x46886d(0x3ca))[_0x46886d(0x221)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0xa9ef8c[_0x46886d(0xaed)][_0x46886d(0x6b7)](_0x2cea9d=>_0x46886d(0x623)+_0x2cea9d+'</li>')[_0x46886d(0x221)]('')+_0x46886d(0x89c)+_0xa9ef8c['stepByStepExamples']['map'](_0x3a0dc8=>_0x46886d(0x950)+_0x3a0dc8['question']+_0x46886d(0x828)+_0x3a0dc8[_0x46886d(0xb0b)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x46886d(0xb5d)+_0xa9ef8c[_0x46886d(0x8d0)]['map'](_0x54f58b=>_0x46886d(0x623)+_0x54f58b+_0x46886d(0x3ca))[_0x46886d(0x221)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x33fedf['innerHTML']=_0x1e5036;if(window[_0x46886d(0x821)])MathJax['typesetPromise']([_0x33fedf]);}async function generateQuizForSingleTopic(_0x17ffbb){const _0x5bd2fc=_0x470ff8;console[_0x5bd2fc(0x638)](_0x5bd2fc(0x916)+_0x17ffbb+'\x22');const _0x5bb3fc=document['getElementById']('reference-pdf-upload'),_0x3ca3dd=_0x5bb3fc[_0x5bd2fc(0xa78)][_0x5bd2fc(0x9b5)]>0x0?_0x5bb3fc[_0x5bd2fc(0xa78)][0x0]:null;let _0x4d6970=null;if(_0x3ca3dd)try{const _0x33a230=new FileReader();_0x33a230['readAsDataURL'](_0x3ca3dd);const _0x1f41a6=await new Promise((_0x33f2b5,_0x39afc4)=>{const _0x4a33fe=_0x5bd2fc;_0x33a230[_0x4a33fe(0x35a)]=()=>_0x33f2b5(_0x33a230[_0x4a33fe(0x574)][_0x4a33fe(0x3b0)](',')[0x1]),_0x33a230[_0x4a33fe(0x5eb)]=_0x5b3439=>_0x39afc4(_0x5b3439);});_0x4d6970=[{'inlineData':{'mimeType':_0x3ca3dd[_0x5bd2fc(0x925)],'data':_0x1f41a6}}];}catch(_0x266242){console[_0x5bd2fc(0x6c4)]('Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:',_0x266242),showMessage(_0x5bd2fc(0x564));return;}generateQuiz(_0x17ffbb,null,null,_0x4d6970,!![],null,null,!![]);}async function handleGenerateFromBlueprint(){const _0x5791fb=_0x470ff8,_0x4cac4e=document[_0x5791fb(0x8b2)](_0x5791fb(0x138)),_0x12c397=document[_0x5791fb(0x8b2)](_0x5791fb(0x4f8)),_0x23e80d=_0x4cac4e[_0x5791fb(0xa78)][0x0],_0x330ed0=_0x12c397[_0x5791fb(0xa78)][_0x5791fb(0x9b5)]>0x0?_0x12c397[_0x5791fb(0xa78)][0x0]:null;if(!_0x23e80d){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}const _0x25628d=document[_0x5791fb(0x8b2)](_0x5791fb(0x24f)),_0x17ad68=document[_0x5791fb(0x8b2)](_0x5791fb(0x4fd)),_0x4dfda6=document[_0x5791fb(0x8b2)]('generated-quiz-container'),_0xb118ca=document['getElementById'](_0x5791fb(0x671));_0xb118ca['disabled']=!![],document['getElementById'](_0x5791fb(0x9f5))[_0x5791fb(0xaa8)][_0x5791fb(0x5b2)](_0x5791fb(0x856)),_0x4dfda6[_0x5791fb(0xb6e)]='',_0x25628d[_0x5791fb(0xaa8)][_0x5791fb(0x5b2)]('hidden');try{_0x17ad68['textContent']='กำลังเตรียมไฟล์\x20Test\x20Blueprint...';const _0x5b2b64=new FileReader();_0x5b2b64[_0x5791fb(0x9c7)](_0x23e80d);const _0x16db47=await new Promise((_0x451bf6,_0x5247ad)=>{const _0x1a2cd1=_0x5791fb;_0x5b2b64[_0x1a2cd1(0x35a)]=()=>_0x451bf6(_0x5b2b64[_0x1a2cd1(0x574)]['split'](',')[0x1]),_0x5b2b64[_0x1a2cd1(0x5eb)]=_0x1f4f65=>_0x5247ad(_0x1f4f65);}),_0x9ebe6a=[];if(_0x330ed0){_0x17ad68[_0x5791fb(0x464)]=_0x5791fb(0x487);if(_0x330ed0[_0x5791fb(0x925)]==='text/plain'){const _0x3c727d=await new Promise((_0x47c19a,_0xed5fb9)=>{const _0x1c4da5=_0x5791fb,_0x287d3b=new FileReader();_0x287d3b[_0x1c4da5(0x854)](_0x330ed0,'UTF-8'),_0x287d3b[_0x1c4da5(0x35a)]=()=>_0x47c19a(_0x287d3b[_0x1c4da5(0x574)]),_0x287d3b['onerror']=_0x44eb9c=>_0xed5fb9(_0x44eb9c);});_0x9ebe6a[_0x5791fb(0xb16)]({'text':_0x5791fb(0x174)+_0x3c727d});}else{const _0x195d82=new FileReader();_0x195d82[_0x5791fb(0x9c7)](_0x330ed0);const _0x4a3052=await new Promise((_0x110396,_0x2dfd00)=>{const _0x2e6668=_0x5791fb;_0x195d82['onload']=()=>_0x110396(_0x195d82['result'][_0x2e6668(0x3b0)](',')[0x1]),_0x195d82[_0x2e6668(0x5eb)]=_0x480b48=>_0x2dfd00(_0x480b48);});_0x9ebe6a[_0x5791fb(0xb16)]({'text':'\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a'}),_0x9ebe6a[_0x5791fb(0xb16)]({'inlineData':{'mimeType':_0x330ed0[_0x5791fb(0x925)],'data':_0x4a3052}});}}const _0x1c4f92='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งสำคัญ:**\x20สำหรับคำถามแต่ละข้อที่สร้างขึ้น\x20จงใช้ความคิดสร้างสรรค์เพื่อให้โจทย์มีความหลากหลาย\x20ไม่ซ้ำซากจำเจ\x20หลีกเลี่ยงการใช้โครงสร้างประโยคหรือรูปแบบปัญหาเดิมๆ\x20แค่เปลี่ยนตัวเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x424ea9=_0x5791fb(0x154),_0x4d9ef7='\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a1.\x20\x20**ต้องสร้างโจทย์ที่เน้นการคิดวิเคราะห์\x20(Highest\x20Priority):**\x0a\x20\x20\x20\x20*\x20**เน้นการประยุกต์ใช้:**\x20โจทย์ส่วนใหญ่ต้องไม่ใช่คำถามความจำหรือคำนวณตรงๆ\x20แต่ต้อง\x20**บังคับให้ผู้เรียน**\x20ต้องคิดวิเคราะห์,\x20ประยุกต์ใช้ความรู้,\x20หรือแก้ปัญหาหลายขั้นตอน\x20(multi-step\x20reasoning)\x0a\x20\x20\x20\x20*\x20**หลีกเลี่ยงโจทย์ง่าย:**\x20**ห้ามสร้าง**\x20โจทย์ที่เป็นการคำนวณพื้นฐานในขั้นตอนเดียว\x20(เช่น\x20\x22จงหาผลลัพธ์ของ\x2015\x20x\x204\x22)\x20โดยเด็ดขาด\x0a\x20\x20\x20\x20*\x20**สถานการณ์สมจริง:**\x20โจทย์ควรอยู่ในรูปแบบของ\x20\x22โจทย์ปัญหา\x22\x20(Word\x20Problems)\x20ที่มีสถานการณ์สมมติ\x20เพื่อวัดความสามารถในการนำความรู้ไปใช้แก้ปัญหาจริง\x0a\x0a2.\x20\x20**การจำลองสไตล์และความยาก\x20(Style\x20&\x20Complexity\x20Replication):**\x0a\x20\x20\x20\x20*\x20**กรณีที่มีไฟล์ข้อสอบอ้างอิงแนบมาด้วย:**\x20ให้ใช้ไฟล์นี้เป็น\x20**แนวทางหลัก**\x20ในการจำลองสไตล์,\x20ระดับความซับซ้อน,\x20และลักษณะการใช้ภาษาของโจทย์\x20แต่\x20**ห้ามคัดลอก**\x20โจทย์หรือตัวเลขมาโดยตรงเด็ดขาด\x0a\x20\x20\x20\x20*\x20**กรณีที่ไม่มีไฟล์ข้อสอบอ้างอิง:**\x20ให้ใช้\x20\x22แม่พิมพ์ข้อสอบ\x20O-NET\x22\x20(Master\x20Test\x20Pattern)\x20ด้านล่างนี้เป็นเกณฑ์ในการสร้างโจทย์\x20โดยอิงตาม\x20**ระดับชั้นของตัวชี้วัดที่ระบุใน\x20Test\x20Blueprint**\x0a\x0a3.\x20\x20**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a\x20\x20\x20\x20*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20สำหรับแต่ละ\x20\x27สาระ\x27\x20ในตาราง\x20Test\x20Blueprint,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้าง\x20(เช่น\x20\x274\x20ตัวเลือก\x201\x20คำตอบ\x20(4\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20จากนั้น,\x20ให้ดูรายการหัวข้อในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ในแถวเดียวกัน\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20**ภารกิจของคุณคือการสร้างข้อสอบตามจำนวนที่กำหนด\x20โดยต้องกระจายให้ครอบคลุมหัวข้อใน\x20\x27สาระการเรียนรู้แกนกลาง\x27\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้**\x20ตัวอย่างเช่น:\x20หากกำหนดให้สร้าง\x204\x20ข้อ\x20และใน\x20\x27สาระการเรียนรู้แกนกลาง\x27\x20มี\x205\x20หัวข้อย่อย\x20คุณต้องเลือกสร้างโจทย์จาก\x204\x20หัวข้อที่แตกต่างกัน\x20**ห้ามสร้างโจทย์\x202-3\x20ข้อจากหัวข้อเดียวกันแล้วละเลยหัวข้ออื่นโดยเด็ดขาด**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**กฎการใช้\x20LaTeX\x20(CRITICAL):**\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20**`$`...`$`**\x20เท่านั้น\x20**ห้ามใช้\x20`\x5c[...\x5c]`\x20หรือ\x20`\x5c(...\x5c)`\x20โดยเด็ดขาด**\x0a-\x20\x20\x20**กฎการใช้วงเล็บ:**\x20สำหรับการจัดกลุ่มนิพจน์ทางคณิตศาสตร์\x20ให้ใช้วงเล็บมาตรฐาน\x20**`()`**\x20เท่านั้น\x20ห้ามใช้วงเล็บเหลี่ยม\x20`[]`\x20หรือวงเล็บปีกกา\x20`{}`\x20เพื่อการจัดกลุ่ม\x0a',_0x579ad0={'type':_0x5791fb(0x882),'properties':{'questionText':{'type':_0x5791fb(0xb2a)},'questionType':{'type':_0x5791fb(0xb2a),'enum':[_0x5791fb(0x4a1),_0x5791fb(0x9af),'true_false',_0x5791fb(0x43c)]},'options':{'type':_0x5791fb(0x1f9),'items':{'type':_0x5791fb(0xb2a)}},'correctAnswerIndex':{'type':_0x5791fb(0x84b)},'idealAnswer':{'type':_0x5791fb(0xb2a)},'correctAnswer':{'type':_0x5791fb(0x70d)},'explanation':{'type':_0x5791fb(0xb2a)},'imageCode':{'type':_0x5791fb(0xb2a)}},'required':['questionType','explanation']},_0x9f57a1={'type':_0x5791fb(0x882),'properties':{'topic':{'type':_0x5791fb(0xb2a)},'questions':{'type':_0x5791fb(0x1f9),'items':_0x579ad0}},'required':[_0x5791fb(0x1bc),_0x5791fb(0x622)]},_0x268849=[{'text':_0x4d9ef7},{'inlineData':{'mimeType':_0x23e80d['type'],'data':_0x16db47}},..._0x9ebe6a];await handleApiCall(_0x268849,'AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...',_0x9f57a1);}catch(_0x2d1053){console['error'](_0x5791fb(0x2d1),_0x2d1053),showMessage(_0x5791fb(0x8c6)+_0x2d1053[_0x5791fb(0x80a)]),_0x4dfda6[_0x5791fb(0xb6e)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>';}finally{_0x25628d[_0x5791fb(0xaa8)][_0x5791fb(0x4de)]('hidden'),_0xb118ca[_0x5791fb(0x6cf)]=![];}}function proceedToNextQuestion(_0x4639aa){const _0x24d399=_0x470ff8;studentAnswersPerQuestion[_0x24d399(0xb16)](_0x4639aa),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x24d399(0x622)][_0x24d399(0x9b5)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x5f085a,_0x18212f){const _0x3b6ac5=_0x470ff8,_0x133416=Object['values'](_0x5f085a[_0x3b6ac5(0x190)]||{}),_0x37132f=_0x133416[_0x3b6ac5(0x9b5)],_0x4adc77=[..._0x133416][_0x3b6ac5(0xe2)]((_0xc91e42,_0x36e4e3)=>_0x36e4e3[_0x3b6ac5(0xabc)]-_0xc91e42[_0x3b6ac5(0xabc)]),_0x519377=_0x5f085a[_0x3b6ac5(0x3fc)];let _0x383c0b='';const _0x2bba4d=_0x5f085a[_0x3b6ac5(0x7c8)][_0x3b6ac5(0x622)],_0x3a26d8=_0x2bba4d[_0x519377],_0x1e2c57=_0x4bfc87=>String[_0x3b6ac5(0xadf)](0x41+_0x4bfc87);let _0x1f74fb='',_0x4c645e='';if(_0x3a26d8){const _0x79d991=_0x3a26d8[_0x3b6ac5(0x345)]||_0x5f085a['shuffledQuiz'][_0x3b6ac5(0x497)];if(_0x79d991===_0x3b6ac5(0x4a1)&&_0x3a26d8['options']&&_0x3a26d8['correctAnswerIndex']!==undefined){const _0x3c986f=_0x3a26d8[_0x3b6ac5(0x5ad)];_0x1f74fb=_0x3a26d8[_0x3b6ac5(0xb6f)][_0x3c986f],_0x4c645e=_0x1e2c57(_0x3c986f)+'.';}else{if(_0x79d991===_0x3b6ac5(0x618)){const _0x4ed885=_0x3a26d8['correctAnswer']===!![]||String(_0x3a26d8[_0x3b6ac5(0x600)])[_0x3b6ac5(0x136)]()==='true';_0x4ed885?(_0x1f74fb='ใช่\x20/\x20ถูก',_0x4c645e='ก.'):(_0x1f74fb=_0x3b6ac5(0x765),_0x4c645e='ข.');}else{if(_0x79d991===_0x3b6ac5(0x43c))_0x1f74fb=_0x3a26d8[_0x3b6ac5(0x198)]||'-',_0x4c645e='';else _0x79d991===_0x3b6ac5(0x9af)&&(_0x1f74fb=_0x3a26d8['idealAnswer']||'-',_0x4c645e='');}}}_0x1f74fb&&(_0x383c0b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20'+(_0x519377+0x1)+_0x3b6ac5(0x5c2)+_0x4c645e+'\x20'+_0x1f74fb+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20');const _0x441837=_0x4adc77['map'](_0x56ddae=>{const _0x112be4=_0x3b6ac5;let _0x38232d=![];if(_0x56ddae[_0x112be4(0x335)]&&_0x519377!==-0x1){const _0x32962f=_0x56ddae[_0x112be4(0x335)][_0x112be4(0x43e)](_0x2f42a4=>_0x2f42a4[_0x112be4(0x966)]===_0x519377);_0x32962f&&_0x32962f['isCorrect']&&(_0x38232d=!![]);}const _0x161f46=_0x38232d?'bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg':'bg-black/20';return _0x112be4(0x30d)+_0x161f46+'\x22><span>'+_0x56ddae[_0x112be4(0x20a)]+_0x112be4(0x6a6)+_0x56ddae[_0x112be4(0xabc)]+_0x112be4(0x3b1);})[_0x3b6ac5(0x221)](''),_0x5c58ff=_0x2bba4d[_0x3b6ac5(0x6b7)]((_0x490b65,_0x10f529)=>{const _0x2094ad=_0x3b6ac5,_0x319014=_0x133416[_0x2094ad(0x8dd)](_0x411556=>_0x411556['answers']&&_0x411556[_0x2094ad(0x335)]['find'](_0x22437e=>_0x22437e['questionIndex']===_0x10f529&&_0x22437e['isCorrect']))[_0x2094ad(0x9b5)],_0x2c0ebc=_0x10f529===_0x519377,_0x37519d=_0x2c0ebc?'p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg':_0x2094ad(0xff);return _0x2094ad(0x6a4)+_0x37519d+_0x2094ad(0x2f2)+(_0x10f529+0x1)+_0x2094ad(0x166)+_0x319014+'\x20/\x20'+_0x37132f+_0x2094ad(0x27f);})[_0x3b6ac5(0x221)]('');let _0x159da5='',_0x45f7e='';if(_0x18212f){const _0xade49f=_0x5f085a[_0x3b6ac5(0x3fc)]>=_0x2bba4d[_0x3b6ac5(0x9b5)]-0x1;_0x159da5=_0x3b6ac5(0x87d)+(_0xade49f?_0x3b6ac5(0x4cb):_0x3b6ac5(0x859))+_0x3b6ac5(0x32d),_0x45f7e=_0x3b6ac5(0x505);}const _0xcc70ff=_0x3b6ac5(0x52d)+_0x5f085a[_0x3b6ac5(0x7c8)]['topic']+_0x3b6ac5(0x4eb)+_0x45f7e+_0x3b6ac5(0x282)+_0x383c0b+_0x3b6ac5(0x1cc)+(_0x441837||'<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>')+_0x3b6ac5(0x151)+_0x5c58ff+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x18212f?_0x3b6ac5(0x885)+_0x159da5+_0x3b6ac5(0x9ab):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x3b6ac5(0xb6e)]=_0xcc70ff;if(window[_0x3b6ac5(0x821)]){const _0x5398ce=document['getElementById'](_0x3b6ac5(0x95e));_0x5398ce&&MathJax[_0x3b6ac5(0x697)]([_0x5398ce]);}if(_0x18212f){document[_0x3b6ac5(0x8b2)](_0x3b6ac5(0x111))[_0x3b6ac5(0xb79)]=async()=>{const _0x1645a3=_0x3b6ac5,_0x2f9363=doc(db,'artifacts/'+appId+_0x1645a3(0x41a),currentLiveGameId),_0x4b5e65=_0x5f085a[_0x1645a3(0x3fc)]+0x1;if(_0x4b5e65<_0x2bba4d['length']){const _0x46c4fa={};Object[_0x1645a3(0xa67)](_0x5f085a['players'])['forEach'](_0x577b20=>{const _0x511892=_0x1645a3;_0x46c4fa[_0x511892(0x548)+_0x577b20+_0x511892(0x633)]=![],_0x46c4fa[_0x511892(0x548)+_0x577b20+_0x511892(0x895)]=null;}),await updateDoc(_0x2f9363,{..._0x46c4fa,'status':_0x1645a3(0x241),'currentQuestionIndex':_0x4b5e65,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x2f9363,{'status':_0x1645a3(0x7e5)});};const _0x5d101c=document['getElementById'](_0x3b6ac5(0x908));_0x5d101c&&(_0x5d101c[_0x3b6ac5(0xb79)]=()=>{const _0x4bfb7d=_0x3b6ac5;showConfirmation(_0x4bfb7d(0x3c0),async()=>{const _0x48ba5f=_0x4bfb7d,_0x5f2863=doc(db,_0x48ba5f(0x718)+appId+_0x48ba5f(0x41a),currentLiveGameId);await updateDoc(_0x5f2863,{'status':_0x48ba5f(0x7e5)});});});}}async function handleGenerateParallelFromBank(_0x15b267){const _0x55f9d6=_0x470ff8,_0x30d2b8=document[_0x55f9d6(0x8b2)]('results-tab-content'),_0x110aec=document[_0x55f9d6(0x8b2)](_0x55f9d6(0x82f));_0x110aec['classList']['add'](_0x55f9d6(0x856));const _0x237b28=_0x55f9d6(0x7df)+_0x15b267[_0x55f9d6(0x1bc)]+_0x55f9d6(0x22f);_0x30d2b8[_0x55f9d6(0x18b)](_0x55f9d6(0x983),_0x237b28);const _0x2e998b=document[_0x55f9d6(0x8b2)](_0x55f9d6(0xac1));try{const _0x1ecac6=_0x15b267['questions'][_0x55f9d6(0x6b7)]((_0x21d2e7,_0x47d380)=>{const _0x37855e=_0x55f9d6;let _0x15db0d=_0x47d380+0x1+'.\x20'+(_0x21d2e7['questionText']||_0x21d2e7[_0x37855e(0x283)])+'\x0a';if(_0x21d2e7[_0x37855e(0xb6f)])_0x15db0d+=_0x21d2e7['options'][_0x37855e(0x6b7)]((_0x42425b,_0x4b9ce6)=>_0x37855e(0x6c8)+(_0x4b9ce6===_0x21d2e7[_0x37855e(0x5ad)]?_0x37855e(0x217):'')+'\x20'+_0x42425b)['join']('\x0a');else _0x21d2e7[_0x37855e(0x76e)]&&(_0x15db0d+=_0x37855e(0x2d4)+_0x21d2e7[_0x37855e(0x76e)]);return _0x15db0d;})['join']('\x0a\x0a');_0x2e998b[_0x55f9d6(0x464)]=_0x55f9d6(0x645);const _0x276cf0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22'+_0x15b267['topic']+'\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1ecac6+_0x55f9d6(0x56a)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x3424de={'type':_0x55f9d6(0x882),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x55f9d6(0xb2a),'enum':['multiple_choice',_0x55f9d6(0x9af),'true_false',_0x55f9d6(0x43c)]},'options':{'type':_0x55f9d6(0x1f9),'items':{'type':_0x55f9d6(0xb2a)}},'correctAnswerIndex':{'type':_0x55f9d6(0x84b)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x55f9d6(0x70d)},'stem':{'type':_0x55f9d6(0xb2a)},'correctResponse':{'type':_0x55f9d6(0xb2a)},'allResponses':{'type':'ARRAY','items':{'type':_0x55f9d6(0xb2a)}},'explanation':{'type':_0x55f9d6(0xb2a)},'imageCode':{'type':_0x55f9d6(0xb2a)}},'required':[_0x55f9d6(0x345),'explanation']},_0x441173={'type':'OBJECT','properties':{'topic':{'type':_0x55f9d6(0xb2a)},'questions':{'type':_0x55f9d6(0x1f9),'items':_0x3424de}},'required':[_0x55f9d6(0x1bc),_0x55f9d6(0x622)]},_0x4f6f48=await callAnalysisApi(_0x276cf0,_0x441173),_0xd1fd01=_0x4f6f48[_0x55f9d6(0x622)][_0x55f9d6(0x6b7)]((_0x5a9e10,_0x59a167)=>({..._0x5a9e10,'id':'q_'+Date[_0x55f9d6(0x3a4)]()+'_'+_0x59a167})),_0x1a3f12=_0x55f9d6(0x835)+_0x15b267['topic'],_0x55f884={'topic':_0x1a3f12,'questions':_0xd1fd01,'quizType':_0x15b267['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x55f9d6(0x3f0),'settings':_0x15b267[_0x55f9d6(0x893)],'quizMode':'standard','pairedQuizId':null,'lessonPlan':null};let _0x70354;while(!![]){_0x70354=Math[_0x55f9d6(0x8ec)](0x3e8+Math['random']()*0x2328)[_0x55f9d6(0x77c)]();const _0x38931b=await getDoc(doc(db,_0x55f9d6(0x718)+appId+_0x55f9d6(0x51f),_0x70354));if(!_0x38931b[_0x55f9d6(0x811)]())break;}await setDoc(doc(db,_0x55f9d6(0x718)+appId+_0x55f9d6(0x51f),_0x70354),_0x55f884),showMessage('สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!');}catch(_0x435334){console[_0x55f9d6(0x6c4)](_0x55f9d6(0x844),_0x435334),showMessage('เกิดข้อผิดพลาด:\x20'+_0x435334[_0x55f9d6(0x80a)]);}finally{const _0x48c194=document[_0x55f9d6(0x8b2)](_0x55f9d6(0x67d));_0x48c194&&_0x48c194[_0x55f9d6(0x5b2)](),_0x110aec[_0x55f9d6(0xaa8)][_0x55f9d6(0x5b2)](_0x55f9d6(0x856));}}async function handleGenerateParallelPostTest(_0x3085d2){const _0x7c4867=_0x470ff8,_0x1091b6=document['getElementById'](_0x7c4867(0x6d4)),_0x4604ef=document[_0x7c4867(0x8b2)](_0x7c4867(0x82f));_0x4604ef[_0x7c4867(0xaa8)][_0x7c4867(0x4de)](_0x7c4867(0x856));const _0x52c905=_0x7c4867(0x480);_0x1091b6[_0x7c4867(0x18b)](_0x7c4867(0x983),_0x52c905);try{const _0x47a1be=_0x3085d2[_0x7c4867(0x622)][_0x7c4867(0x6b7)]((_0x45ed24,_0x5d043c)=>{const _0x3f086e=_0x7c4867;let _0x5b0c2a=_0x5d043c+0x1+'.\x20'+(_0x45ed24[_0x3f086e(0x16b)]||_0x45ed24[_0x3f086e(0x283)]);if(_0x45ed24[_0x3f086e(0xb6f)])_0x5b0c2a+=_0x3f086e(0x9f0)+_0x45ed24[_0x3f086e(0xb6f)][_0x3f086e(0x221)](',\x20');return _0x5b0c2a;})[_0x7c4867(0x221)]('\x0a\x0a'),_0x50c893=_0x7c4867(0x6a8)+_0x3085d2['topic']+_0x7c4867(0x17c)+_0x47a1be+_0x7c4867(0x9bf)+simpleMathPrompt+_0x7c4867(0x9a2),_0x76313c={'type':_0x7c4867(0x882),'properties':{'topic':{'type':_0x7c4867(0xb2a)},'questions':{'type':_0x7c4867(0x1f9),'items':{'type':_0x7c4867(0x882),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x7c4867(0xb2a)},'options':{'type':_0x7c4867(0x1f9),'items':{'type':_0x7c4867(0xb2a)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x7c4867(0xb2a)}},'required':['questionText',_0x7c4867(0x94b)]}}},'required':[_0x7c4867(0x1bc),_0x7c4867(0x622)]},_0x3de286=await callAnalysisApi(_0x50c893,_0x76313c),_0x57326d=_0x3085d2['topic']['replace'](_0x7c4867(0x64b),'')['trim'](),_0x326149=_0x7c4867(0x4d9)+_0x57326d,_0x2a6c1f={..._0x3de286,'topic':_0x326149,'quizType':_0x3085d2[_0x7c4867(0x497)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x7c4867(0x692)](),'status':_0x7c4867(0x3f0),'settings':_0x3085d2[_0x7c4867(0x893)],'quizMode':_0x7c4867(0x22c),'pairedQuizId':_0x3085d2['id']};let _0x5a0456;while(!![]){_0x5a0456=Math[_0x7c4867(0x8ec)](0x3e8+Math['random']()*0x2328)[_0x7c4867(0x77c)]();const _0xdf1ce5=await getDoc(doc(db,'artifacts/'+appId+_0x7c4867(0x51f),_0x5a0456));if(!_0xdf1ce5[_0x7c4867(0x811)]())break;}await setDoc(doc(db,_0x7c4867(0x718)+appId+_0x7c4867(0x51f),_0x5a0456),_0x2a6c1f);const _0x1628a4=doc(db,_0x7c4867(0x718)+appId+_0x7c4867(0x51f),_0x3085d2['id']);await updateDoc(_0x1628a4,{'pairedQuizId':_0x5a0456}),showMessage(_0x7c4867(0xa51));}catch(_0x2f5ab9){console['error']('Error\x20generating\x20parallel\x20post-test:',_0x2f5ab9),showMessage(_0x7c4867(0x8c6)+_0x2f5ab9[_0x7c4867(0x80a)]);}finally{const _0xac219a=document[_0x7c4867(0x8b2)](_0x7c4867(0x67d));if(_0xac219a)_0xac219a[_0x7c4867(0x5b2)]();_0x4604ef[_0x7c4867(0xaa8)][_0x7c4867(0x5b2)](_0x7c4867(0x856));}}async function handleGenerateParallelTest(){const _0xe8a749=_0x470ff8,_0x5e8f63=document['getElementById'](_0xe8a749(0x445)),_0x1786b5=_0x5e8f63[_0xe8a749(0xa78)][0x0];if(!_0x1786b5){showMessage(_0xe8a749(0x1d2));return;}const _0x5c34ec=document[_0xe8a749(0x8b2)]('loader'),_0x4cc136=document[_0xe8a749(0x8b2)](_0xe8a749(0x4fd)),_0x302199=document[_0xe8a749(0x8b2)](_0xe8a749(0x3dc)),_0x51cbd2=document[_0xe8a749(0x8b2)](_0xe8a749(0x6fa));_0x51cbd2['disabled']=!![],document[_0xe8a749(0x8b2)](_0xe8a749(0x9f5))[_0xe8a749(0xaa8)][_0xe8a749(0x5b2)](_0xe8a749(0x856)),_0x302199['innerHTML']='',_0x5c34ec[_0xe8a749(0xaa8)][_0xe8a749(0x5b2)](_0xe8a749(0x856)),_0x4cc136['textContent']=_0xe8a749(0x60a);const _0xb8ed5a=new FileReader();_0xb8ed5a[_0xe8a749(0x9c7)](_0x1786b5),_0xb8ed5a[_0xe8a749(0x35a)]=async()=>{const _0x1b7d34=_0xe8a749;try{const _0x224f5c=_0xb8ed5a[_0x1b7d34(0x574)][_0x1b7d34(0x3b0)](',')[0x1],_0x50db2c=_0x1786b5['type'];_0x4cc136[_0x1b7d34(0x464)]=_0x1b7d34(0xadc);const _0x3750bb=document[_0x1b7d34(0x8b2)](_0x1b7d34(0x5ca))[_0x1b7d34(0x25a)],_0x19ecb0=_0x3750bb?_0x1b7d34(0x7c6):'',_0x4a8e3c=_0x1b7d34(0x2c1)+_0x19ecb0+_0x1b7d34(0xae3)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x520b8e={'type':'OBJECT','properties':{'questionText':{'type':_0x1b7d34(0xb2a)},'questionType':{'type':'STRING','enum':[_0x1b7d34(0x4a1),'short_answer']},'options':{'type':'ARRAY','items':{'type':_0x1b7d34(0xb2a)}},'correctAnswerIndex':{'type':_0x1b7d34(0x84b)},'idealAnswer':{'type':_0x1b7d34(0xb2a)},'explanation':{'type':_0x1b7d34(0xb2a)},'imageCode':{'type':_0x1b7d34(0xb2a)}},'required':[_0x1b7d34(0x16b),_0x1b7d34(0x345),_0x1b7d34(0x94b)]},_0xb7a6f4={'type':_0x1b7d34(0x882),'properties':{'topic':{'type':_0x1b7d34(0xb2a)},'questions':{'type':_0x1b7d34(0x1f9),'items':_0x520b8e}},'required':[_0x1b7d34(0x1bc),_0x1b7d34(0x622)]},_0x392101=[{'text':_0x4a8e3c},{'inlineData':{'mimeType':_0x50db2c,'data':_0x224f5c}}];await handleApiCall(_0x392101,'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...',_0xb7a6f4);}catch(_0x43f752){console[_0x1b7d34(0x6c4)](_0x1b7d34(0x9ad),_0x43f752),showMessage('เกิดข้อผิดพลาด:\x20'+_0x43f752['message']),_0x302199[_0x1b7d34(0xb6e)]=_0x1b7d34(0xb69);}finally{_0x5c34ec[_0x1b7d34(0xaa8)]['add'](_0x1b7d34(0x856)),_0x51cbd2['disabled']=![];}},_0xb8ed5a[_0xe8a749(0x5eb)]=_0x4a48cc=>{const _0x5e5b8a=_0xe8a749;console[_0x5e5b8a(0x6c4)](_0x5e5b8a(0x889),_0x4a48cc),showMessage(_0x5e5b8a(0x4bb)),_0x5c34ec[_0x5e5b8a(0xaa8)]['add'](_0x5e5b8a(0x856)),_0x51cbd2[_0x5e5b8a(0x6cf)]=![];};}async function handleRegenerateQuestionInEditor(_0x17f37d){const _0x487186=_0x470ff8;if(currentEditingQuizData===null)return;const _0xdf464a=document[_0x487186(0x7a8)](_0x487186(0x81a)+_0x17f37d+'\x22]');_0xdf464a&&(_0xdf464a['innerHTML']='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x482b71=currentEditingQuizData['questions'][_0x17f37d],_0x38b1aa=currentEditingQuizData['topic'],_0x120d51=_0x482b71['questionType'],_0x260f72={'type':_0x487186(0x882),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x487186(0x1f9),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x487186(0x84b)},'explanation':{'type':_0x487186(0xb2a)}},'required':['questionText',_0x487186(0xb6f),'correctAnswerIndex',_0x487186(0x94b)]},_0x45daa0={'type':_0x487186(0x882),'properties':{'questionText':{'type':_0x487186(0xb2a)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'}},'required':[_0x487186(0x16b),'idealAnswer','explanation']};let _0x3c589a,_0x6f6606='';_0x120d51===_0x487186(0x4a1)?(_0x3c589a=_0x260f72,_0x6f6606=_0x487186(0x7ad)):(_0x3c589a=_0x45daa0,_0x6f6606=_0x487186(0x470));const _0x3460f7=_0x487186(0x31d)+_0x38b1aa+_0x487186(0x955)+_0x6f6606+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x482b71[_0x487186(0x16b)]||_0x482b71[_0x487186(0x283)])+_0x487186(0x656)+simpleMathPrompt;try{const _0x1f1e56=await callAnalysisApi(_0x3460f7,_0x3c589a);currentEditingQuizData['questions'][_0x17f37d]={..._0x482b71,..._0x1f1e56},renderQuizEditor(currentEditingQuizData);}catch(_0x45560d){console[_0x487186(0x6c4)](_0x487186(0x303),_0x45560d),showMessage(_0x487186(0x74c)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x334682=_0x470ff8,_0x469cd2=document[_0x334682(0x8b2)](_0x334682(0xa40));currentMode===_0x334682(0x53d)?(currentMode='admin',_0x469cd2['innerHTML']=_0x334682(0x77a),_0x469cd2[_0x334682(0x4e1)]=_0x334682(0x4a4),showView(_0x334682(0x4a2))):(currentMode='student',_0x469cd2[_0x334682(0xb6e)]=_0x334682(0xad3),_0x469cd2[_0x334682(0x4e1)]=_0x334682(0x61f),showView(_0x334682(0x53d)));}function handleAdminLogin(){const _0x2d894d=_0x470ff8,_0x40ba0b=document[_0x2d894d(0x8b2)](_0x2d894d(0x2f7)),_0x288de6=document[_0x2d894d(0x8b2)](_0x2d894d(0x9e9));if(_0x40ba0b[_0x2d894d(0x593)]===_0x2d894d(0x493)){adminPasswordModal[_0x2d894d(0xaa8)][_0x2d894d(0x4de)](_0x2d894d(0x856)),_0x40ba0b['value']='',_0x288de6['classList'][_0x2d894d(0x4de)](_0x2d894d(0x856)),currentMode=_0x2d894d(0x9d9);const _0x3a14ac=document[_0x2d894d(0x8b2)](_0x2d894d(0xa40));_0x3a14ac[_0x2d894d(0xb6e)]=_0x2d894d(0x77a),_0x3a14ac[_0x2d894d(0x4e1)]=_0x2d894d(0x4a4),showView(_0x2d894d(0x4a2));}else _0x288de6[_0x2d894d(0xaa8)][_0x2d894d(0x5b2)](_0x2d894d(0x856)),_0x40ba0b['value']='';}function switchProjectTab(_0x470704){const _0x599ab9=_0x470ff8;[_0x599ab9(0x83d),_0x599ab9(0x9f6),_0x599ab9(0x400)][_0x599ab9(0x501)](_0x513f24=>{const _0x7abd6e=_0x599ab9;document[_0x7abd6e(0x8b2)](_0x513f24+_0x7abd6e(0x3f1))[_0x7abd6e(0xaa8)]['remove'](_0x7abd6e(0x3f0)),document['getElementById'](_0x513f24+'-tab-content')[_0x7abd6e(0xaa8)][_0x7abd6e(0x4de)](_0x7abd6e(0x856));}),document[_0x599ab9(0x8b2)](_0x470704+_0x599ab9(0x3f1))[_0x599ab9(0xaa8)][_0x599ab9(0x4de)]('active'),document['getElementById'](_0x470704+_0x599ab9(0x252))[_0x599ab9(0xaa8)][_0x599ab9(0x5b2)](_0x599ab9(0x856));}function switchQuizDetailTab(_0x3118cc){const _0x1275ee=_0x470ff8,_0x408e36={'analytics':{'btn':_0x1275ee(0xd3),'content':_0x1275ee(0xa99)},'scores':{'btn':_0x1275ee(0x479),'content':'scores-tab-content'},'leaderboard-quiz':{'btn':_0x1275ee(0x51d),'content':_0x1275ee(0x368)},'behavior-log':{'btn':_0x1275ee(0x551),'content':_0x1275ee(0x5e4)}};for(const _0x41acd2 in _0x408e36){document['getElementById'](_0x408e36[_0x41acd2][_0x1275ee(0x448)])[_0x1275ee(0xaa8)][_0x1275ee(0x5b2)]('active'),document[_0x1275ee(0x8b2)](_0x408e36[_0x41acd2][_0x1275ee(0x77b)])[_0x1275ee(0xaa8)][_0x1275ee(0x4de)](_0x1275ee(0x856));}document['getElementById'](_0x408e36[_0x3118cc][_0x1275ee(0x448)])[_0x1275ee(0xaa8)][_0x1275ee(0x4de)](_0x1275ee(0x3f0)),document[_0x1275ee(0x8b2)](_0x408e36[_0x3118cc][_0x1275ee(0x77b)])[_0x1275ee(0xaa8)][_0x1275ee(0x5b2)](_0x1275ee(0x856));}function showMessage(_0xb4224,_0x5d637b=null){const _0x246846=_0x470ff8;modalMessage[_0x246846(0x464)]=_0xb4224,modalConfirmAction=_0x5d637b,messageModal[_0x246846(0xaa8)][_0x246846(0x5b2)](_0x246846(0x856));}function showConfirmation(_0x33e32b,_0x5d3267){const _0x179cbd=_0x470ff8;document[_0x179cbd(0x8b2)](_0x179cbd(0x2cd))[_0x179cbd(0x464)]=_0x33e32b,document[_0x179cbd(0x8b2)](_0x179cbd(0x37c))[_0x179cbd(0x7a8)]('h3')[_0x179cbd(0x464)]=_0x179cbd(0x8c3),confirmAction=_0x5d3267,confirmationModal['classList']['remove'](_0x179cbd(0x856));}function listenForProjects(){const _0x362625=_0x470ff8,_0x6601c9=doc(db,'globalSettings',_0x362625(0xac6));onSnapshot(_0x6601c9,_0x3d2992=>{const _0x2523ac=_0x362625;if(_0x3d2992[_0x2523ac(0x811)]()){const _0x2f0653=_0x3d2992[_0x2523ac(0x79e)]();globalDashboardSettings[_0x2523ac(0x719)]=_0x2f0653['projectSort']||_0x2523ac(0x1bf),globalDashboardSettings[_0x2523ac(0xd7)]=_0x2f0653['pinnedProjects']||[],globalDashboardSettings[_0x2523ac(0x516)]=_0x2f0653[_0x2523ac(0x516)]||[];}allProjects[_0x2523ac(0x9b5)]>0x0&&renderProjects();});const _0x4ffaba=collection(db,_0x362625(0x718)+appId+_0x362625(0xb58));unsubscribeProjectsListener=onSnapshot(_0x4ffaba,_0x59fd9d=>{const _0x1c3fda=_0x362625;allProjects=_0x59fd9d[_0x1c3fda(0xa1f)][_0x1c3fda(0x6b7)](_0x229700=>({'id':_0x229700['id'],..._0x229700['data']()})),renderProjects();},_0x4fc1a7=>{const _0x5b0f7c=_0x362625;console[_0x5b0f7c(0x6c4)](_0x5b0f7c(0x175),_0x4fc1a7),showMessage(_0x5b0f7c(0xb3a));});}function showColorPalette(_0x4457dc,_0x28f088){const _0x240fe5=_0x470ff8;document[_0x240fe5(0x9c4)](_0x240fe5(0x48e))[_0x240fe5(0x501)](_0x84c9b6=>_0x84c9b6['remove']());const _0x170207=[_0x240fe5(0x3b3),'#FEE2E2',_0x240fe5(0x379),_0x240fe5(0xaad),_0x240fe5(0x195),_0x240fe5(0x8e9),_0x240fe5(0x928),_0x240fe5(0x4d1),'#E5E7EB'],_0x57d256=document[_0x240fe5(0x5ed)](_0x240fe5(0x4a0));_0x57d256['className']=_0x240fe5(0x205),_0x170207[_0x240fe5(0x501)](_0x4b3737=>{const _0x1d8f3f=_0x240fe5,_0x3f8487=document[_0x1d8f3f(0x5ed)](_0x1d8f3f(0x4a0));_0x3f8487[_0x1d8f3f(0x799)]='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x3f8487[_0x1d8f3f(0x3cb)]['backgroundColor']=_0x4b3737,_0x3f8487[_0x1d8f3f(0xda)](_0x1d8f3f(0x896),()=>{const _0x4186c1=_0x1d8f3f;handleProjectColorChange(_0x28f088,_0x4b3737),_0x57d256[_0x4186c1(0x5b2)]();}),_0x57d256[_0x1d8f3f(0x584)](_0x3f8487);}),document['body'][_0x240fe5(0x584)](_0x57d256);const _0x3de9fb=_0x4457dc[_0x240fe5(0x27d)]();_0x57d256['style'][_0x240fe5(0x2a8)]=_0x3de9fb['bottom']+window[_0x240fe5(0x1e4)]+'px',_0x57d256[_0x240fe5(0x3cb)][_0x240fe5(0x935)]=_0x3de9fb['left']+window['scrollX']-_0x57d256[_0x240fe5(0x3bc)]/0x2+'px';}async function handleProjectColorChange(_0x1f5a63,_0x5a84bf){const _0x3063a6=_0x470ff8,_0x1cee1f=doc(db,_0x3063a6(0x718)+appId+'/public/data/projects',_0x1f5a63);try{await updateDoc(_0x1cee1f,{'color':_0x5a84bf});}catch(_0x1095d1){console['error'](_0x3063a6(0x627),_0x1095d1),showMessage(_0x3063a6(0x733));}}async function renderProjects(){const _0x26b68f=_0x470ff8,_0x2fc54d=globalDashboardSettings[_0x26b68f(0x719)]||_0x26b68f(0x1bf),_0x15f835=new Set(globalDashboardSettings[_0x26b68f(0xd7)]||[]),_0x249500=globalDashboardSettings['projectView']||_0x26b68f(0x922),_0xc29c3=document[_0x26b68f(0x8b2)](_0x26b68f(0x9f7)),_0x3f8cc6=document[_0x26b68f(0x8b2)]('list-view-btn');_0xc29c3['classList'][_0x26b68f(0xa25)](_0x26b68f(0x3f0),_0x249500===_0x26b68f(0x922)),_0x3f8cc6['classList'][_0x26b68f(0xa25)](_0x26b68f(0x3f0),_0x249500===_0x26b68f(0x55b)),document[_0x26b68f(0x8b2)]('project-sort-select')['value']=_0x2fc54d;const _0x3f2f71=document['getElementById'](_0x26b68f(0xb21))[_0x26b68f(0x593)]['toLowerCase']();let _0x1db7e1=allProjects['filter'](_0xe65772=>_0xe65772[_0x26b68f(0x31e)][_0x26b68f(0x136)]()[_0x26b68f(0xa57)](_0x3f2f71));const _0x121912=_0x1db7e1[_0x26b68f(0x8dd)](_0x12635b=>_0x15f835[_0x26b68f(0x7da)](_0x12635b['id'])),_0x5365a6=_0x1db7e1[_0x26b68f(0x8dd)](_0x14105b=>!_0x15f835[_0x26b68f(0x7da)](_0x14105b['id'])),_0x3a1dcb=(_0x46e8a2,_0x2ab6d6)=>{const _0x430db9=_0x26b68f;switch(_0x2fc54d){case _0x430db9(0x2f4):return _0x46e8a2[_0x430db9(0x31e)]['localeCompare'](_0x2ab6d6[_0x430db9(0x31e)],'th');case _0x430db9(0x329):return _0x2ab6d6['projectName']['localeCompare'](_0x46e8a2[_0x430db9(0x31e)],'th');case'date_asc':return new Date(_0x46e8a2[_0x430db9(0x4e4)])-new Date(_0x2ab6d6[_0x430db9(0x4e4)]);default:return new Date(_0x2ab6d6['createdAt'])-new Date(_0x46e8a2['createdAt']);}};_0x121912['sort'](_0x3a1dcb),_0x5365a6[_0x26b68f(0xe2)](_0x3a1dcb);const _0x46e4a3=[..._0x121912,..._0x5365a6],_0x20d0f0=globalDashboardSettings[_0x26b68f(0x516)]||[];_0x20d0f0[_0x26b68f(0x9b5)]>0x0&&_0x249500==='grid'&&_0x46e4a3[_0x26b68f(0xe2)]((_0x358c4b,_0x5a8a38)=>{const _0x4c5df5=_0x26b68f,_0x9e54db=_0x20d0f0[_0x4c5df5(0x7ba)](_0x358c4b['id']),_0x21c8df=_0x20d0f0[_0x4c5df5(0x7ba)](_0x5a8a38['id']);if(_0x9e54db===-0x1)return 0x1;if(_0x21c8df===-0x1)return-0x1;return _0x9e54db-_0x21c8df;});const _0x540719={};await Promise['all'](_0x46e4a3['map'](async _0x34614c=>{const _0x7fda75=_0x26b68f,_0xd8854d=query(collection(db,'artifacts/'+appId+_0x7fda75(0x51f)),where(_0x7fda75(0x54d),'==',_0x34614c['id'])),_0x356884=await getDocs(_0xd8854d);_0x540719[_0x34614c['id']]=_0x356884[_0x7fda75(0x40d)];}));const _0x50a0b5=document[_0x26b68f(0x8b2)](_0x26b68f(0x700));let _0x258c08='';if(_0x249500===_0x26b68f(0x922)){_0x50a0b5[_0x26b68f(0x799)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x26b68f(0x9b5)]>0x0&&_0x3f2f71===''){const _0x519d3b=starredQuizzes['map'](_0x1a96c2=>{const _0x3a0930=_0x26b68f,_0x24e83b=allProjects[_0x3a0930(0x43e)](_0x1799c0=>_0x1799c0['id']===_0x1a96c2['projectId']);return{..._0x1a96c2,'projectName':_0x24e83b?_0x24e83b['projectName']:_0x3a0930(0x2b9)};});_0x258c08+=_0x26b68f(0x6f8)+_0x519d3b[_0x26b68f(0x6b7)](_0x135fc8=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x135fc8[_0x26b68f(0x1bc)]+'\x22>'+_0x135fc8[_0x26b68f(0x1bc)]+_0x26b68f(0x351)+_0x135fc8[_0x26b68f(0x31e)]+_0x26b68f(0x1d6)+_0x135fc8[_0x26b68f(0x31e)]+_0x26b68f(0x20c))[_0x26b68f(0x221)]('')+_0x26b68f(0x8a7)+starredQuizzes[_0x26b68f(0x9b5)]+_0x26b68f(0x1f4);}_0x46e4a3[_0x26b68f(0x501)](_0x14684c=>{const _0x3e2423=_0x26b68f,_0x4675bf=_0x540719[_0x14684c['id']]??0x0,_0x22d997=_0x15f835[_0x3e2423(0x7da)](_0x14684c['id']),_0x5f59de=_0x14684c['color']||_0x3e2423(0x3b3),_0x89a61a=parseInt(_0x5f59de['substring'](0x1,0x3),0x10)*0.299+parseInt(_0x5f59de[_0x3e2423(0x6eb)](0x3,0x5),0x10)*0.587+parseInt(_0x5f59de['substring'](0x5,0x7),0x10)*0.114<0xba,_0x393486=_0x89a61a?_0x3e2423(0x15b):'text-indigo-800',_0x489eda=_0x89a61a?_0x3e2423(0x308):_0x3e2423(0x403);_0x258c08+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20'+(_0x22d997?_0x3e2423(0x836):_0x3e2423(0x875))+_0x3e2423(0xafa)+_0x5f59de+_0x3e2423(0x14d)+_0x14684c['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x14684c['id']+_0x3e2423(0x52b)+(_0x89a61a?_0x3e2423(0x348):'text-gray-400\x20hover:text-indigo-600')+'\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x14684c['id']+_0x3e2423(0x827)+(_0x89a61a?'text-gray-300\x20hover:text-white':'text-gray-400\x20hover:text-indigo-600')+_0x3e2423(0x912)+(_0x22d997?_0x89a61a?_0x3e2423(0xb4f):_0x3e2423(0xacc):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22'+_0x14684c['id']+_0x3e2423(0x936)+_0x393486+_0x3e2423(0xa8e)+_0x14684c[_0x3e2423(0x31e)]+_0x3e2423(0x676)+_0x489eda+_0x3e2423(0xaf0)+new Date(_0x14684c['createdAt'])[_0x3e2423(0xa7c)](_0x3e2423(0x424))+_0x3e2423(0x234)+(_0x89a61a?_0x3e2423(0x8a0):_0x3e2423(0x397))+_0x3e2423(0x254)+_0x4675bf+_0x3e2423(0x9b2)+_0x14684c['id']+_0x3e2423(0x93b)+_0x14684c[_0x3e2423(0x31e)]+_0x3e2423(0x5b3)+(_0x89a61a?_0x3e2423(0x44e):_0x3e2423(0x80b))+_0x3e2423(0x3a0);});}else _0x50a0b5[_0x26b68f(0x799)]='flex\x20flex-col\x20gap-2',starredQuizzes[_0x26b68f(0x9b5)]>0x0&&_0x3f2f71===''&&(_0x258c08+=_0x26b68f(0x2b3)+starredQuizzes[_0x26b68f(0x9b5)]+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x258c08+=_0x26b68f(0xb40),_0x46e4a3[_0x26b68f(0x501)](_0x532f55=>{const _0x56228e=_0x26b68f,_0xc4d5ff=_0x540719[_0x532f55['id']]??0x0,_0x1d0e42=_0x15f835[_0x56228e(0x7da)](_0x532f55['id']);_0x258c08+=_0x56228e(0x86e)+(_0x532f55[_0x56228e(0x49c)]||_0x56228e(0x941))+_0x56228e(0xa47)+_0x532f55['id']+_0x56228e(0x8b5)+_0x532f55[_0x56228e(0x31e)]+_0x56228e(0x67c)+_0xc4d5ff+_0x56228e(0x44a)+new Date(_0x532f55['createdAt'])[_0x56228e(0x47a)](_0x56228e(0x424))+_0x56228e(0x251)+_0x532f55['id']+_0x56228e(0x87a)+(_0x1d0e42?_0x56228e(0xacc):'')+_0x56228e(0x33a)+_0x532f55['id']+_0x56228e(0x93b)+_0x532f55[_0x56228e(0x31e)]+_0x56228e(0x803);});projectList[_0x26b68f(0xb6e)]=_0x258c08,noProjectsMsg['classList']['toggle'](_0x26b68f(0x856),_0x258c08[_0x26b68f(0x9b5)]>0x0);}document['getElementById'](_0x470ff8(0x346))[_0x470ff8(0xda)](_0x470ff8(0x896),async()=>{const _0x558383=_0x470ff8,_0x55e16c=document[_0x558383(0x8b2)](_0x558383(0x321)),_0x102ca4=_0x55e16c[_0x558383(0x593)][_0x558383(0xf2)]();if(!_0x102ca4){showMessage(_0x558383(0x8ca));return;}try{const _0x266bd3=doc(collection(db,_0x558383(0x718)+appId+_0x558383(0xb58)));await setDoc(_0x266bd3,{'projectName':_0x102ca4,'students':[],'settings':{'resultsDisplay':'show_results_and_answers','shuffleSetting':_0x558383(0x61b),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x558383(0x61b),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()['toISOString']()}),_0x55e16c['value']='',createProjectModal[_0x558383(0xaa8)][_0x558383(0x4de)](_0x558383(0x856)),showMessage(_0x558383(0x123));}catch(_0x1e4787){console[_0x558383(0x6c4)](_0x558383(0x247),_0x1e4787),showMessage(_0x558383(0xb30));}}),projectList[_0x470ff8(0xda)](_0x470ff8(0x896),async _0x308c0a=>{const _0x3e63b2=_0x470ff8,_0x3b428d=_0x308c0a[_0x3e63b2(0x5a3)][_0x3e63b2(0x7d2)](_0x3e63b2(0x1d3)),_0x1c8990=_0x308c0a[_0x3e63b2(0x5a3)][_0x3e63b2(0x7d2)](_0x3e63b2(0x550)),_0x420654=_0x308c0a[_0x3e63b2(0x5a3)][_0x3e63b2(0x7d2)](_0x3e63b2(0x7a7)),_0x3240b8=_0x308c0a[_0x3e63b2(0x5a3)][_0x3e63b2(0x7d2)](_0x3e63b2(0x46e));if(_0x420654){const _0x4e582f=_0x420654[_0x3e63b2(0xad1)]['id'],_0x460182=doc(db,_0x3e63b2(0xb17),'dashboardConfig'),_0x568ccc=globalDashboardSettings[_0x3e63b2(0xd7)];let _0x4e4675;_0x568ccc[_0x3e63b2(0xa57)](_0x4e582f)?_0x4e4675=_0x568ccc['filter'](_0x39a860=>_0x39a860!==_0x4e582f):_0x4e4675=[..._0x568ccc,_0x4e582f];try{await setDoc(_0x460182,{'pinnedProjects':_0x4e4675},{'merge':!![]});}catch(_0x360270){console[_0x3e63b2(0x6c4)](_0x3e63b2(0xa48),_0x360270),showMessage(_0x3e63b2(0x80c));}}else{if(_0x3240b8){const _0x18d65e=_0x3240b8[_0x3e63b2(0xad1)]['id'];showColorPalette(_0x3240b8,_0x18d65e);}else{if(_0x3b428d){const _0x436da1=_0x3b428d[_0x3e63b2(0xad1)]['id'];_0x436da1==='starred-project'?showStarredProjectView():(currentProjectId=_0x436da1,await loadProjectDetails(currentProjectId),showView(_0x3e63b2(0xaf2)));}else{if(_0x1c8990){const _0x4f017b=_0x1c8990[_0x3e63b2(0xad1)]['id'],_0x503899=_0x1c8990[_0x3e63b2(0xad1)][_0x3e63b2(0x20a)];showConfirmation(_0x3e63b2(0x591)+_0x503899+_0x3e63b2(0x5b8),()=>handleDeleteProject(_0x4f017b));}}}}}),projectList[_0x470ff8(0xda)]('dragstart',_0x58cade=>{const _0xfaa0d8=_0x470ff8,_0x2c16e5=_0x58cade[_0xfaa0d8(0x5a3)]['closest'](_0xfaa0d8(0x8c5));_0x2c16e5&&_0x2c16e5[_0xfaa0d8(0xaa8)][_0xfaa0d8(0x4de)](_0xfaa0d8(0x65e));}),projectList[_0x470ff8(0xda)]('dragend',_0x33d87e=>{const _0x20d2bc=_0x470ff8,_0x4df6bd=_0x33d87e['target'][_0x20d2bc(0x7d2)](_0x20d2bc(0x8c5));_0x4df6bd&&_0x4df6bd[_0x20d2bc(0xaa8)][_0x20d2bc(0x5b2)](_0x20d2bc(0x65e));}),projectList[_0x470ff8(0xda)]('dragover',_0x24ee61=>{const _0x1cbd7a=_0x470ff8;_0x24ee61[_0x1cbd7a(0x756)]();const _0x29a165=document['querySelector'](_0x1cbd7a(0x36d));if(!_0x29a165)return;const _0x29a599=getDragAfterElement(projectList,_0x24ee61['clientY']);_0x29a599==null?projectList[_0x1cbd7a(0x584)](_0x29a165):projectList[_0x1cbd7a(0x396)](_0x29a165,_0x29a599);}),projectList[_0x470ff8(0xda)](_0x470ff8(0x975),_0x4ed58b=>{const _0x9f6d7c=_0x470ff8;_0x4ed58b['preventDefault']();const _0x335f12=[...projectList['querySelectorAll'](_0x9f6d7c(0xb35))][_0x9f6d7c(0x6b7)](_0x45e593=>_0x45e593[_0x9f6d7c(0xad1)]['id']);saveProjectOrder(_0x335f12);});function renderBehaviorLog(_0x3e29d7){const _0x4791fb=_0x470ff8,_0x40b970=document[_0x4791fb(0x8b2)](_0x4791fb(0x759));if(!_0x40b970)return;const _0x571a21=_0x3e29d7[_0x4791fb(0x8dd)](_0x381f42=>_0x381f42[_0x4791fb(0xfd)]&&_0x381f42[_0x4791fb(0xfd)][_0x4791fb(0x9b5)]>0x0);if(_0x571a21[_0x4791fb(0x9b5)]===0x0){_0x40b970[_0x4791fb(0xb6e)]=_0x4791fb(0x555);return;}let _0x488ca4='';_0x571a21[_0x4791fb(0x501)](_0x257f8b=>{const _0x332138=_0x4791fb;_0x488ca4+=_0x332138(0x4cc)+_0x257f8b[_0x332138(0x29c)]+_0x332138(0x960),_0x257f8b[_0x332138(0xfd)][_0x332138(0xe2)]((_0x4fcfa3,_0x353674)=>new Date(_0x353674[_0x332138(0x196)])-new Date(_0x4fcfa3[_0x332138(0x196)]))['forEach'](_0x53f6ae=>{const _0x1005d6=_0x332138,_0x673caa=new Date(_0x53f6ae[_0x1005d6(0x196)])['toLocaleString'](_0x1005d6(0x424),{'dateStyle':_0x1005d6(0x7f7),'timeStyle':_0x1005d6(0x4f7)});_0x488ca4+=_0x1005d6(0x51b)+_0x53f6ae['attemptNumber']+_0x1005d6(0x997)+_0x673caa+_0x1005d6(0x15e);}),_0x488ca4+=_0x332138(0x6e0);}),_0x40b970['innerHTML']=_0x488ca4;}function getDragAfterElement(_0x32864a,_0x20ae9f){const _0x4011c9=_0x470ff8,_0x753ac7=[..._0x32864a['querySelectorAll']('.project-card-container:not(.opacity-50)')];return _0x753ac7[_0x4011c9(0x75b)]((_0x32990f,_0x27e17f)=>{const _0x42295f=_0x4011c9,_0x50bedc=_0x27e17f['getBoundingClientRect'](),_0x479e81=_0x20ae9f-_0x50bedc[_0x42295f(0x2a8)]-_0x50bedc['height']/0x2;return _0x479e81<0x0&&_0x479e81>_0x32990f[_0x42295f(0x6b4)]?{'offset':_0x479e81,'element':_0x27e17f}:_0x32990f;},{'offset':Number[_0x4011c9(0x94a)]})['element'];}async function saveProjectOrder(_0x409774){const _0x541f25=_0x470ff8,_0x2a2f5f=doc(db,'globalSettings','dashboardConfig');try{await setDoc(_0x2a2f5f,{'projectOrder':_0x409774},{'merge':!![]});}catch(_0x596910){console[_0x541f25(0x6c4)](_0x541f25(0x594),_0x596910),showMessage(_0x541f25(0x323));}}async function logBehaviorEvent(_0x9e1aa0,_0x18cd28={}){const _0x40daa8=_0x470ff8;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x40daa8(0xa0b)](_0x40daa8(0x16e));return;}const _0x11bb22=doc(db,'artifacts/'+appId+_0x40daa8(0xa4e)+currentQuizData['id']+_0x40daa8(0x651),currentStudentName),_0x276e01={'event':_0x9e1aa0,'timestamp':new Date()[_0x40daa8(0x692)](),..._0x18cd28};try{await updateDoc(_0x11bb22,{'behaviorLog':arrayUnion(_0x276e01)}),console[_0x40daa8(0x638)]('อัปเดตพฤติกรรมสำหรับ\x20'+currentStudentName+'\x20สำเร็จ');}catch(_0x24896f){_0x24896f[_0x40daa8(0x961)]===_0x40daa8(0x6a9)?console[_0x40daa8(0xa0b)]('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+_0x40daa8(0x290)):console[_0x40daa8(0x6c4)](_0x40daa8(0x1c3),_0x24896f);}}function calculateMeanAndStdDev(_0x3be839){const _0x5a6644=_0x470ff8;if(_0x3be839['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x3e1d0b=_0x3be839[_0x5a6644(0x75b)]((_0x4dd92a,_0x391894)=>_0x4dd92a+_0x391894,0x0)/_0x3be839['length'];if(_0x3be839[_0x5a6644(0x9b5)]===0x1)return{'mean':_0x3e1d0b,'stdDev':0x0};const _0x4c842a=Math[_0x5a6644(0x270)](_0x3be839[_0x5a6644(0x6b7)](_0x4929d6=>Math[_0x5a6644(0x1ae)](_0x4929d6-_0x3e1d0b,0x2))[_0x5a6644(0x75b)]((_0x48ca7c,_0x55a86e)=>_0x48ca7c+_0x55a86e,0x0)/(_0x3be839[_0x5a6644(0x9b5)]-0x1));return{'mean':_0x3e1d0b,'stdDev':_0x4c842a};}function calculateZScore(_0x46cf1c,_0x3b5aba,_0x2d01eb){if(_0x2d01eb===0x0)return 0x0;return(_0x46cf1c-_0x3b5aba)/_0x2d01eb;}function calculateTScore(_0x1d131f){return 0xa*_0x1d131f+0x32;}function showStarredProjectView(){const _0x15b488=_0x470ff8;currentProjectId=_0x15b488(0xae4),currentProjectData=null,projectTitle[_0x15b488(0x464)]=_0x15b488(0x24c),projectIdDisplay[_0x15b488(0x464)]=_0x15b488(0x90b),showView(_0x15b488(0xaf2)),manageTab[_0x15b488(0xaa8)][_0x15b488(0x4de)](_0x15b488(0x856)),leaderboardTab[_0x15b488(0xaa8)][_0x15b488(0x4de)](_0x15b488(0x856)),switchProjectTab(_0x15b488(0x9f6)),renderQuizzes();}async function loadProjectDetails(_0x389d63){const _0x1926f8=_0x470ff8,_0x5b925a=doc(db,_0x1926f8(0x718)+appId+_0x1926f8(0xb58),_0x389d63),_0x3bf802=await getDoc(_0x5b925a);if(_0x3bf802[_0x1926f8(0x811)]()){manageTab[_0x1926f8(0xaa8)][_0x1926f8(0x5b2)]('hidden'),leaderboardTab['classList'][_0x1926f8(0x5b2)]('hidden'),currentProjectData=_0x3bf802[_0x1926f8(0x79e)](),projectTitle[_0x1926f8(0x464)]=currentProjectData['projectName'],projectIdDisplay[_0x1926f8(0x464)]=_0x389d63;const _0x3e8668=currentProjectData[_0x1926f8(0x893)]||{};document['getElementById'](_0x1926f8(0x13e))[_0x1926f8(0x593)]=_0x3e8668[_0x1926f8(0x832)]||'none';const _0x24c28b=document[_0x1926f8(0x8b2)](_0x1926f8(0xb4d));_0x24c28b[_0x1926f8(0x25a)]=_0x3e8668[_0x1926f8(0x981)]!==![];const _0x28cfca=document['getElementById']('enable-passcode-checkbox'),_0x5d7087=document[_0x1926f8(0x8b2)](_0x1926f8(0xa16)),_0x51f3cb=document[_0x1926f8(0x8b2)](_0x1926f8(0x4e3)),_0x47c62b=_0x3e8668['isPasscodeEnabled']||![];_0x28cfca[_0x1926f8(0x25a)]=_0x47c62b,_0x51f3cb['value']=_0x3e8668[_0x1926f8(0x64c)]||'',_0x5d7087[_0x1926f8(0xaa8)]['toggle'](_0x1926f8(0x856),!_0x47c62b),_0x28cfca[_0x1926f8(0x7a2)]=()=>{const _0xd2e9bf=_0x1926f8;_0x5d7087[_0xd2e9bf(0xaa8)][_0xd2e9bf(0xa25)](_0xd2e9bf(0x856),!_0x28cfca[_0xd2e9bf(0x25a)]);},document[_0x1926f8(0x8b2)](_0x1926f8(0xb26))[_0x1926f8(0x25a)]=_0x3e8668[_0x1926f8(0x6fe)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x389d63),listenForProjectQuizzes(_0x389d63),listenForStudentProfiles(_0x389d63);}else showMessage(_0x1926f8(0x89d)),showView(_0x1926f8(0x4a2));}async function handleResetProjectOrder(){const _0x33b735=_0x470ff8,_0x44a284=doc(db,_0x33b735(0xb17),_0x33b735(0xac6));try{await setDoc(_0x44a284,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0x3537ab){console[_0x33b735(0x6c4)](_0x33b735(0x96c),_0x3537ab),showMessage(_0x33b735(0x43b));}}async function handleTogglePinProject(_0x26d4ec){const _0x52ae60=_0x470ff8;if(!_0x26d4ec)return;const _0x3dc73f=doc(db,'artifacts/'+appId+_0x52ae60(0xb58),_0x26d4ec);try{const _0x99e8e2=await getDoc(_0x3dc73f);if(_0x99e8e2['exists']()){const _0x3f5d8b=_0x99e8e2[_0x52ae60(0x79e)]()[_0x52ae60(0x6ac)]||![];await updateDoc(_0x3dc73f,{'isPinned':!_0x3f5d8b});}}catch(_0x3ddb01){console[_0x52ae60(0x6c4)](_0x52ae60(0x18a),_0x3ddb01),showMessage(_0x52ae60(0x80c));}}async function handleDeleteProject(_0x2c91c8){const _0x47eb37=_0x470ff8;try{const _0x441e53=writeBatch(db),_0x5edf17=collection(db,'artifacts/'+appId+_0x47eb37(0x51f)),_0x6b8ff3=query(_0x5edf17,where(_0x47eb37(0x54d),'==',_0x2c91c8)),_0xeb1896=await getDocs(_0x6b8ff3);for(const _0x4fe166 of _0xeb1896[_0x47eb37(0xa1f)]){const _0x3c7fb3=collection(db,_0x47eb37(0x718)+appId+_0x47eb37(0xa4e)+_0x4fe166['id']+_0x47eb37(0x651)),_0x67002=await getDocs(_0x3c7fb3);_0x67002[_0x47eb37(0x501)](_0x5855b2=>{const _0x32ecbc=_0x47eb37;_0x441e53[_0x32ecbc(0x4f5)](_0x5855b2[_0x32ecbc(0x392)]);}),_0x441e53['delete'](_0x4fe166[_0x47eb37(0x392)]);}const _0x1caea1=collection(db,'artifacts/'+appId+_0x47eb37(0xaf9)+_0x2c91c8+_0x47eb37(0x2b2)),_0x2894b9=await getDocs(_0x1caea1);_0x2894b9[_0x47eb37(0x501)](_0x1dae74=>{const _0x1beb2b=_0x47eb37;_0x441e53[_0x1beb2b(0x4f5)](_0x1dae74['ref']);});const _0x4b0491=doc(db,_0x47eb37(0x718)+appId+_0x47eb37(0xb58),_0x2c91c8);_0x441e53[_0x47eb37(0x4f5)](_0x4b0491),await _0x441e53[_0x47eb37(0x775)](),showMessage(_0x47eb37(0x6e8)),showView(_0x47eb37(0x4a2));}catch(_0x522d23){console[_0x47eb37(0x6c4)](_0x47eb37(0x95d),_0x522d23),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x470ff8(0x8b2)](_0x470ff8(0x6e5))[_0x470ff8(0xda)]('click',async()=>{const _0x199335=_0x470ff8;if(!currentProjectId)return;const _0x7b5fd5={'defaultNumQuestions':parseInt(document[_0x199335(0x8b2)](_0x199335(0x55c))['value']),'defaultNumChoices':parseInt(document['getElementById'](_0x199335(0x7e6))[_0x199335(0x593)]),'defaultPassingScore':parseInt(document['getElementById'](_0x199335(0x767))[_0x199335(0x593)]),'resultsDisplay':document[_0x199335(0x8b2)](_0x199335(0x37b))[_0x199335(0x593)],'shuffleSetting':document[_0x199335(0x8b2)]('shuffle-setting-select')[_0x199335(0x593)],'timerMode':document['getElementById']('timer-mode-select')[_0x199335(0x593)],'timerDuration':parseInt(document[_0x199335(0x8b2)](_0x199335(0x264))[_0x199335(0x593)]),'isConfidenceScoringEnabled':document[_0x199335(0x8b2)](_0x199335(0xb26))[_0x199335(0x25a)],'confidenceMode':document[_0x199335(0x8b2)](_0x199335(0x3a9))['value']};try{const _0x385938=doc(db,_0x199335(0x718)+appId+_0x199335(0xb58),currentProjectId);await updateDoc(_0x385938,{'settings':_0x7b5fd5}),showMessage(_0x199335(0xb2f));}catch(_0x4b799e){console[_0x199335(0x6c4)]('Error\x20saving\x20settings:',_0x4b799e),showMessage(_0x199335(0x63c));}});function listenForStudents(_0x4ecb5c){const _0x3e4115=_0x470ff8,_0x4c889c=doc(db,'artifacts/'+appId+_0x3e4115(0xb58),_0x4ecb5c);unsubscribeStudentsListener=onSnapshot(_0x4c889c,_0x4caf49=>{const _0x5e7cf3=_0x3e4115;if(_0x4caf49[_0x5e7cf3(0x811)]()){const _0x4576e7=_0x4caf49[_0x5e7cf3(0x79e)]();currentProjectData=_0x4576e7,renderStudentList(_0x4576e7[_0x5e7cf3(0x605)]||[]);}});}function renderStudentList(_0x5bb673){const _0x44ca48=_0x470ff8,_0x33a5ee=document['getElementById'](_0x44ca48(0x362));_0x5bb673[_0x44ca48(0x9b5)]===0x0?(studentList[_0x44ca48(0xb6e)]=_0x44ca48(0xe1),_0x33a5ee['classList'][_0x44ca48(0x4de)](_0x44ca48(0x856))):(studentList[_0x44ca48(0xb6e)]=_0x5bb673[_0x44ca48(0x6b7)](_0x40478a=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x40478a+_0x44ca48(0xaaf)+_0x40478a+_0x44ca48(0x652))[_0x44ca48(0x221)](''),_0x33a5ee[_0x44ca48(0xaa8)][_0x44ca48(0x5b2)]('hidden'));}document[_0x470ff8(0x8b2)]('add-student-btn')[_0x470ff8(0xda)](_0x470ff8(0x896),async()=>{const _0x3a905e=_0x470ff8;if(!currentProjectId)return;const _0x3d3296=document[_0x3a905e(0x8b2)]('student-name-input'),_0x1c3bc9=_0x3d3296[_0x3a905e(0x593)][_0x3a905e(0xf2)]();if(!_0x1c3bc9){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x26196c=_0x1c3bc9[_0x3a905e(0x3b0)]('\x0a')['map'](_0x36c4d3=>_0x36c4d3[_0x3a905e(0xf2)]())[_0x3a905e(0x8dd)](_0x6eab4f=>_0x6eab4f);if(_0x26196c[_0x3a905e(0x9b5)]===0x0)return;try{const _0x12f329=doc(db,_0x3a905e(0x718)+appId+'/public/data/projects',currentProjectId),_0x5c33d7=await getDoc(_0x12f329);if(_0x5c33d7['exists']()){const _0x5eeef3=_0x5c33d7[_0x3a905e(0x79e)]()[_0x3a905e(0x605)]||[],_0x503deb=[...new Set([..._0x5eeef3,..._0x26196c])];await updateDoc(_0x12f329,{'students':_0x503deb}),_0x3d3296['value']='';}}catch(_0x651f71){console[_0x3a905e(0x6c4)](_0x3a905e(0x9dc),_0x651f71),showMessage(_0x3a905e(0x27c));}});function _0xb340(_0xa78b84,_0x550782){const _0x3ecd0d=_0x3ecd();return _0xb340=function(_0xb34023,_0xc25859){_0xb34023=_0xb34023-0xc0;let _0x11b38d=_0x3ecd0d[_0xb34023];return _0x11b38d;},_0xb340(_0xa78b84,_0x550782);}async function handleManualQuizPairing(_0x2c932d){const _0x7ddc50=_0x470ff8,_0xa4a5cd=document[_0x7ddc50(0x8b2)](_0x7ddc50(0x218)),_0x411db9=document['getElementById']('move-quiz-project-select'),_0x220327=_0xa4a5cd[_0x7ddc50(0x7a8)]('h3'),_0x1e83a3=document[_0x7ddc50(0x8b2)](_0x7ddc50(0x657)),_0x12d877=document[_0x7ddc50(0x8b2)]('cancel-move-quiz-btn');_0x220327[_0x7ddc50(0x464)]=_0x7ddc50(0xb02),_0x411db9[_0x7ddc50(0xb6e)]=_0x7ddc50(0x85e),_0x1e83a3[_0x7ddc50(0x464)]=_0x7ddc50(0x881),_0xa4a5cd[_0x7ddc50(0xaa8)][_0x7ddc50(0x5b2)](_0x7ddc50(0x856));const _0xaa834=allQuizzes[_0x7ddc50(0x8dd)](_0xfa4842=>_0xfa4842['id']!==_0x2c932d);_0xaa834[_0x7ddc50(0x9b5)]===0x0?(_0x411db9[_0x7ddc50(0xb6e)]='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x1e83a3[_0x7ddc50(0x6cf)]=!![]):(_0x411db9['innerHTML']=_0x7ddc50(0x612)+_0xaa834[_0x7ddc50(0x6b7)](_0x12d491=>_0x7ddc50(0x5ea)+_0x12d491['id']+'\x22>'+_0x12d491[_0x7ddc50(0x1bc)]+_0x7ddc50(0x39e))[_0x7ddc50(0x221)](''),_0x1e83a3[_0x7ddc50(0x6cf)]=![]);const _0x3c96b5=async()=>{const _0x163efd=_0x7ddc50,_0x5f0735=_0x411db9[_0x163efd(0x593)];if(!_0x5f0735){showMessage(_0x163efd(0xb5c));return;}_0x1e83a3['disabled']=!![],_0x1e83a3[_0x163efd(0x464)]='กำลังจับคู่...';try{const _0x190142=doc(db,_0x163efd(0x718)+appId+_0x163efd(0x51f),_0x2c932d),_0x11aa11=doc(db,_0x163efd(0x718)+appId+'/public/data/quizzes',_0x5f0735),_0x874439=writeBatch(db);_0x874439[_0x163efd(0x1fb)](_0x190142,{'pairedQuizId':_0x5f0735}),_0x874439[_0x163efd(0x1fb)](_0x11aa11,{'pairedQuizId':_0x2c932d}),await _0x874439[_0x163efd(0x775)](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0xa4a5cd[_0x163efd(0xaa8)]['add'](_0x163efd(0x856));}catch(_0x32273e){console[_0x163efd(0x6c4)](_0x163efd(0xa34),_0x32273e),showMessage(_0x163efd(0x4ce));}finally{_0x220327['textContent']=_0x163efd(0x71e),_0x1e83a3['textContent']='ย้าย',_0x1e83a3[_0x163efd(0x6cf)]=![],_0x1e83a3['removeEventListener']('click',_0x3c96b5),_0x12d877[_0x163efd(0x9d0)](_0x163efd(0x896),_0x304694);}},_0x304694=()=>{const _0x57fca3=_0x7ddc50;_0xa4a5cd[_0x57fca3(0xaa8)]['add']('hidden'),_0x220327[_0x57fca3(0x464)]=_0x57fca3(0x71e),_0x1e83a3[_0x57fca3(0x464)]=_0x57fca3(0x3dd),_0x1e83a3[_0x57fca3(0x9d0)]('click',_0x3c96b5),_0x12d877[_0x57fca3(0x9d0)](_0x57fca3(0x896),_0x304694);};_0x1e83a3[_0x7ddc50(0xda)](_0x7ddc50(0x896),_0x3c96b5),_0x12d877[_0x7ddc50(0xda)](_0x7ddc50(0x896),_0x304694);}function handleDeleteStudent(_0x36f333){const _0x593cb4=_0x470ff8;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x36f333+_0x593cb4(0x734),async()=>{const _0x4d053c=_0x593cb4;if(!currentProjectId||!currentProjectData)return;const _0x4dd063=currentProjectData['students'][_0x4d053c(0x8dd)](_0x1554e9=>_0x1554e9!==_0x36f333);try{const _0x5cd1c4=doc(db,_0x4d053c(0x718)+appId+_0x4d053c(0xb58),currentProjectId),_0x456164=doc(db,_0x4d053c(0x718)+appId+_0x4d053c(0xaf9)+currentProjectId+_0x4d053c(0x2b2),_0x36f333),_0x4640f5=writeBatch(db);_0x4640f5[_0x4d053c(0x1fb)](_0x5cd1c4,{'students':_0x4dd063}),_0x4640f5[_0x4d053c(0x4f5)](_0x456164),await _0x4640f5[_0x4d053c(0x775)]();}catch(_0x2695f0){console[_0x4d053c(0x6c4)](_0x4d053c(0x819),_0x2695f0),showMessage(_0x4d053c(0xb14));}});}function handleDeleteAllStudents(){const _0x18a77f=_0x470ff8;showConfirmation(_0x18a77f(0x730),async()=>{const _0x5d9e58=_0x18a77f;if(!currentProjectId)return;try{const _0x5e322c=doc(db,'artifacts/'+appId+_0x5d9e58(0xb58),currentProjectId),_0x296868=collection(db,_0x5d9e58(0x718)+appId+'/public/data/projects/'+currentProjectId+'/studentProfiles'),_0x2d3a73=await getDocs(_0x296868),_0x46543f=writeBatch(db);_0x46543f[_0x5d9e58(0x1fb)](_0x5e322c,{'students':[]}),_0x2d3a73['forEach'](_0x3375b1=>_0x46543f['delete'](_0x3375b1[_0x5d9e58(0x392)])),await _0x46543f[_0x5d9e58(0x775)]();}catch(_0x18d2a1){console[_0x5d9e58(0x6c4)](_0x5d9e58(0x1a3),_0x18d2a1),showMessage(_0x5d9e58(0x663));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x22418f){const _0x2a05d1=_0x470ff8,_0x1f37e1=document['getElementById'](_0x2a05d1(0x7e4)),_0x179b27=document[_0x2a05d1(0x8b2)](_0x2a05d1(0x16a));_0x1f37e1[_0x2a05d1(0xaa8)]['remove'](_0x2a05d1(0x856)),_0x179b27[_0x2a05d1(0xb6e)]=_0x2a05d1(0x439);try{const _0x104887=new FileReader();_0x104887[_0x2a05d1(0x9c7)](_0x22418f),await new Promise((_0x457daa,_0x19b424)=>{const _0x5ae3f8=_0x2a05d1;_0x104887[_0x5ae3f8(0x35a)]=()=>{const _0xccab79=_0x5ae3f8;fileDataBase64=_0x104887[_0xccab79(0x574)][_0xccab79(0x3b0)](',')[0x1],fileMimeType=_0x22418f['type'],_0x457daa();},_0x104887[_0x5ae3f8(0x5eb)]=_0xcb1b54=>_0x19b424(_0xcb1b54);});if(!fileDataBase64)throw new Error(_0x2a05d1(0x5c9));const _0x272814=_0x2a05d1(0x9ee),_0x344517={'type':_0x2a05d1(0x882),'properties':{'topics':{'type':_0x2a05d1(0x1f9),'items':{'type':_0x2a05d1(0xb2a)}}},'required':[_0x2a05d1(0x5b0)]},_0x409a37=[{'text':_0x272814},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x408a91=await handleApiCall(_0x409a37,'กำลังวิเคราะห์หัวข้อ...',_0x344517,null,![]);if(_0x408a91&&_0x408a91['topics'])extractedFileTopics=_0x408a91[_0x2a05d1(0x5b0)],renderFileTopics();else throw new Error(_0x2a05d1(0x991));}catch(_0x4ff0ef){console[_0x2a05d1(0x6c4)](_0x2a05d1(0x660),_0x4ff0ef),_0x179b27['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20'+_0x4ff0ef['message']+'</p>';}}function renderFileTopics(){const _0x2c2098=_0x470ff8,_0x476472=document[_0x2c2098(0x8b2)](_0x2c2098(0x16a));if(extractedFileTopics[_0x2c2098(0x9b5)]===0x0){_0x476472[_0x2c2098(0xb6e)]=_0x2c2098(0x553);return;}_0x476472[_0x2c2098(0xb6e)]=extractedFileTopics['map'](_0x2534f0=>_0x2c2098(0x13a)+_0x2534f0+_0x2c2098(0x7b5)+escape(_0x2534f0)+_0x2c2098(0xb67)+escape(_0x2534f0)+_0x2c2098(0x4c1))[_0x2c2098(0x221)]('');}async function generateHybridQuizForTopic(_0x170b4b){const _0x27bcaa=_0x470ff8,_0x337c46=parseInt(document['getElementById']('num-questions')['value'],0xa),_0x2cc1c7=document[_0x27bcaa(0x8b2)]('quiz-type-select')['value'],_0x4ae03c=document[_0x27bcaa(0x8b2)](_0x27bcaa(0x7e6))[_0x27bcaa(0x593)],_0x439863=document[_0x27bcaa(0x8b2)](_0x27bcaa(0x5ca))[_0x27bcaa(0x25a)],_0x263282=_0x439863?_0x27bcaa(0x426):'ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ';let _0xfbe0cc='',_0x272805;const _0x2f1fc5={'type':'OBJECT','properties':{'questionText':{'type':_0x27bcaa(0xb2a)},'options':{'type':'ARRAY','items':{'type':_0x27bcaa(0xb2a)}},'correctAnswerIndex':{'type':_0x27bcaa(0x84b)},'explanation':{'type':_0x27bcaa(0xb2a)},'imageCode':{'type':'STRING'}},'required':[_0x27bcaa(0x16b),_0x27bcaa(0xb6f),_0x27bcaa(0x5ad),_0x27bcaa(0x94b)]},_0x48541c={'type':'OBJECT','properties':{'questionText':{'type':_0x27bcaa(0xb2a)},'correctAnswer':{'type':_0x27bcaa(0x70d)},'explanation':{'type':_0x27bcaa(0xb2a)},'imageCode':{'type':_0x27bcaa(0xb2a)}},'required':[_0x27bcaa(0x16b),_0x27bcaa(0x600),_0x27bcaa(0x94b)]},_0x29e3f0={'type':_0x27bcaa(0x882),'properties':{'questionText':{'type':_0x27bcaa(0xb2a)},'idealAnswer':{'type':_0x27bcaa(0xb2a)},'explanation':{'type':_0x27bcaa(0xb2a)},'imageCode':{'type':_0x27bcaa(0xb2a)}},'required':[_0x27bcaa(0x16b),_0x27bcaa(0x76e),_0x27bcaa(0x94b)]},_0x52c707={'type':_0x27bcaa(0x882),'properties':{'questionType':{'type':_0x27bcaa(0xb2a),'enum':['matching_item']},'stem':{'type':_0x27bcaa(0xb2a)},'correctResponse':{'type':_0x27bcaa(0xb2a)},'allResponses':{'type':_0x27bcaa(0x1f9),'items':{'type':_0x27bcaa(0xb2a)}},'explanation':{'type':_0x27bcaa(0xb2a)},'imageCode':{'type':_0x27bcaa(0xb2a)}},'required':[_0x27bcaa(0x345),'stem',_0x27bcaa(0x198),'allResponses','explanation']};switch(_0x2cc1c7){case'multiple_choice':_0xfbe0cc=_0x27bcaa(0x999)+_0x4ae03c+_0x27bcaa(0x953),_0x272805=_0x2f1fc5;break;case'true_false':_0xfbe0cc='คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น',_0x272805=_0x48541c;break;case _0x27bcaa(0x9de):_0xfbe0cc=_0x27bcaa(0x6c5),_0x272805=_0x29e3f0;break;case _0x27bcaa(0x420):_0xfbe0cc=_0x27bcaa(0x483),_0x272805=_0x52c707;break;case'fill_in_with_choices':_0xfbe0cc=_0x27bcaa(0x412)+_0x4ae03c+'\x20ตัวเลือก)',_0x272805=_0x2f1fc5;break;default:_0xfbe0cc=_0x27bcaa(0x999)+_0x4ae03c+_0x27bcaa(0x953),_0x272805=_0x2f1fc5;break;}const _0x4acd62=_0x27bcaa(0x7b8),_0x2c3c45=document[_0x27bcaa(0x8b2)](_0x27bcaa(0x24f)),_0x2a0957=document[_0x27bcaa(0x8b2)]('loader-text'),_0x4f53ff=document[_0x27bcaa(0x8b2)](_0x27bcaa(0x3dc));document[_0x27bcaa(0x8b2)](_0x27bcaa(0x9f5))['classList'][_0x27bcaa(0x5b2)](_0x27bcaa(0x856)),_0x4f53ff['innerHTML']='',_0x2c3c45[_0x27bcaa(0xaa8)][_0x27bcaa(0x5b2)](_0x27bcaa(0x856)),_0x2a0957['textContent']='AI\x20กำลังสร้างแบบทดสอบ\x20\x22'+_0x170b4b+_0x27bcaa(0x9c6)+_0x337c46+_0x27bcaa(0x161);try{const _0x34a443=_0x27bcaa(0x285),_0x38e750=_0x27bcaa(0x169)+_0x170b4b+_0x27bcaa(0xdc)+_0x337c46+'\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22'+_0x170b4b+_0x27bcaa(0x786)+_0x337c46+'\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20'+_0x263282+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20'+_0xfbe0cc+_0x27bcaa(0x3aa)+_0x4acd62+_0x27bcaa(0x531)+_0x34a443+_0x27bcaa(0xa75)+simpleMathPrompt+_0x27bcaa(0x9a2),_0x1dfce7={'type':_0x27bcaa(0x882),'properties':{'topic':{'type':_0x27bcaa(0xb2a)},'questions':{'type':_0x27bcaa(0x1f9),'items':_0x272805}},'required':[_0x27bcaa(0x1bc),_0x27bcaa(0x622)]},_0x310086=[{'text':_0x38e750},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x310086,_0x27bcaa(0x783)+_0x170b4b+_0x27bcaa(0x9b1),_0x1dfce7);}catch(_0x4b6d80){console[_0x27bcaa(0x6c4)](_0x27bcaa(0x83f),_0x4b6d80),showMessage(_0x27bcaa(0x8c6)+_0x4b6d80[_0x27bcaa(0x80a)]),_0x4f53ff[_0x27bcaa(0xb6e)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>';}finally{_0x2c3c45[_0x27bcaa(0xaa8)][_0x27bcaa(0x4de)]('hidden');}}async function handleGenerateFromFileClick(){const _0x25ea44=_0x470ff8;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x54f51d=document[_0x25ea44(0x8b2)](_0x25ea44(0x24f)),_0x438079=document[_0x25ea44(0x8b2)]('loader-text'),_0x29fce0=document['getElementById']('generated-quiz-container'),_0x3b176a=document[_0x25ea44(0x8b2)](_0x25ea44(0x5c4));_0x3b176a[_0x25ea44(0x6cf)]=!![],document[_0x25ea44(0x8b2)](_0x25ea44(0x9f5))[_0x25ea44(0xaa8)][_0x25ea44(0x5b2)]('hidden'),_0x29fce0['innerHTML']='',_0x54f51d[_0x25ea44(0xaa8)]['remove'](_0x25ea44(0x856)),_0x438079[_0x25ea44(0x464)]=_0x25ea44(0xa93);const _0x423ded=new FileReader();_0x423ded[_0x25ea44(0x9c7)](selectedFile),_0x423ded['onload']=async()=>{const _0x4ab7e7=_0x25ea44;try{const _0x5581ee=_0x423ded[_0x4ab7e7(0x574)]['split'](',')[0x1],_0x4121c5=selectedFile[_0x4ab7e7(0x925)];await generateQuizFromFile(_0x4121c5,_0x5581ee);}catch(_0xed0bb6){console[_0x4ab7e7(0x6c4)](_0x4ab7e7(0x122),_0xed0bb6),showMessage(_0x4ab7e7(0xb4b)+_0xed0bb6['message']),_0x54f51d[_0x4ab7e7(0xaa8)][_0x4ab7e7(0x4de)](_0x4ab7e7(0x856));}finally{}},_0x423ded['onerror']=_0x37ed6d=>{const _0x46a421=_0x25ea44;console['error'](_0x46a421(0x889),_0x37ed6d),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์'),_0x54f51d['classList'][_0x46a421(0x4de)]('hidden'),_0x3b176a[_0x46a421(0x6cf)]=![];};}function autoFormatMath(_0x125da8){const _0x108391=_0x470ff8;if(typeof _0x125da8!==_0x108391(0x562)||!_0x125da8)return _0x125da8;const _0x5731d5=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0xc70c6c=_0x125da8[_0x108391(0x214)](_0x5731d5,_0x5a5938=>{return'$'+_0x5a5938['trim']()+'$';});return _0xc70c6c;}function sanitizeQuizData(_0x5679fb){const _0x589030=_0x470ff8;if(!_0x5679fb||!_0x5679fb[_0x589030(0x622)])return _0x5679fb;const _0x49ff7b={'imes':_0x589030(0x84e),'div':'\x5cdiv'},_0x58561c=_0x23085d=>{const _0x45743c=_0x589030;if(typeof _0x23085d!==_0x45743c(0x562))return _0x23085d;let _0x33141a=_0x23085d;for(const [_0x5cc8ae,_0x1b24e0]of Object[_0x45743c(0x485)](_0x49ff7b)){const _0x5987d0=new RegExp('\x5cb'+_0x5cc8ae+'\x5cb','g');_0x33141a=_0x33141a[_0x45743c(0x214)](_0x5987d0,_0x1b24e0);}return _0x33141a=_0x33141a[_0x45743c(0x214)](/\\\//g,_0x45743c(0xa76)),_0x33141a=_0x33141a[_0x45743c(0x214)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x45743c(0xa76))[_0x45743c(0x214)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x45743c(0x84e))[_0x45743c(0x214)](/÷/g,_0x45743c(0xa76))[_0x45743c(0x214)](/×/g,_0x45743c(0x84e)),_0x33141a=_0x33141a[_0x45743c(0x214)](/(\d)(\\frac)/g,_0x45743c(0xb0d)),_0x33141a=autoFormatMath(_0x33141a),_0x33141a;};return _0x5679fb['topic']&&(_0x5679fb[_0x589030(0x1bc)]=_0x58561c(_0x5679fb[_0x589030(0x1bc)])),_0x5679fb['questions'][_0x589030(0x501)](_0x503fa6=>{const _0x26fc37=_0x589030;_0x503fa6[_0x26fc37(0x16b)]=_0x58561c(_0x503fa6[_0x26fc37(0x16b)]),_0x503fa6['options']&&(_0x503fa6[_0x26fc37(0xb6f)]=_0x503fa6['options'][_0x26fc37(0x6b7)](_0x58561c)),_0x503fa6[_0x26fc37(0x94b)]&&(_0x503fa6[_0x26fc37(0x94b)]=_0x58561c(_0x503fa6['explanation'])),_0x503fa6[_0x26fc37(0x283)]&&(_0x503fa6['stem']=_0x58561c(_0x503fa6[_0x26fc37(0x283)])),_0x503fa6[_0x26fc37(0x198)]&&(_0x503fa6[_0x26fc37(0x198)]=_0x58561c(_0x503fa6[_0x26fc37(0x198)])),_0x503fa6[_0x26fc37(0xb3e)]&&(_0x503fa6[_0x26fc37(0xb3e)]=_0x503fa6['allResponses']['map'](_0x58561c));}),_0x5679fb;}const simpleMathPrompt=_0x470ff8(0xab7);async function handleGenerateFromLink(){const _0x258afb=_0x470ff8,_0x314018=document[_0x258afb(0x8b2)](_0x258afb(0x741)),_0x32489d=document['getElementById'](_0x258afb(0x75e)),_0x32498f=_0x314018[_0x258afb(0x593)][_0x258afb(0xf2)](),_0x2653b3=_0x32489d[_0x258afb(0x593)][_0x258afb(0xf2)]();if(!_0x32498f){showMessage(_0x258afb(0x542));return;}const _0x40193a=document[_0x258afb(0x8b2)](_0x258afb(0x24f)),_0x2c8e84=document[_0x258afb(0x8b2)](_0x258afb(0x4fd)),_0x9d852e=document[_0x258afb(0x8b2)](_0x258afb(0x3dc)),_0x37a475=document[_0x258afb(0x8b2)](_0x258afb(0x457));document[_0x258afb(0x8b2)](_0x258afb(0x9f5))['classList'][_0x258afb(0x5b2)]('hidden'),_0x9d852e['innerHTML']='',_0x40193a[_0x258afb(0xaa8)][_0x258afb(0x5b2)](_0x258afb(0x856)),_0x2c8e84[_0x258afb(0x464)]=_0x258afb(0x3d2),_0x37a475[_0x258afb(0x6cf)]=!![];try{const _0x4ef80f='https://corsproxy.io/?'+encodeURIComponent(_0x32498f),_0x5e9134=await fetch(_0x4ef80f);if(!_0x5e9134['ok'])throw new Error(_0x258afb(0x8ea)+_0x5e9134['status']+')');const _0x5689fd=await _0x5e9134['text'](),_0x584469=extractTextFromHtml(_0x5689fd);if(!_0x584469||_0x584469[_0x258afb(0x9b5)]<0x64)throw new Error(_0x258afb(0x3b7));await generateQuiz(_0x2653b3,_0x584469);}catch(_0x5810fe){console['error'](_0x258afb(0x74e),_0x5810fe),showMessage(_0x258afb(0x8c6)+_0x5810fe[_0x258afb(0x80a)]),_0x9d852e[_0x258afb(0xb6e)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x40193a['classList']['add'](_0x258afb(0x856)),_0x37a475[_0x258afb(0x6cf)]=![];}}function extractTextFromHtml(_0x5a18f7){const _0x4f537d=_0x470ff8,_0x17f1e5=new DOMParser()[_0x4f537d(0xb0f)](_0x5a18f7,_0x4f537d(0x334));return _0x17f1e5['querySelectorAll'](_0x4f537d(0x5da))[_0x4f537d(0x501)](_0x1492da=>_0x1492da[_0x4f537d(0x5b2)]()),_0x17f1e5[_0x4f537d(0x905)][_0x4f537d(0x464)]||'';}document['getElementById'](_0x470ff8(0x74d))['addEventListener']('click',()=>{const _0x4e94bf=_0x470ff8,_0x15e99b=document[_0x4e94bf(0x8b2)](_0x4e94bf(0x8d5))['value']['trim']();generateQuiz(_0x15e99b,null);}),document[_0x470ff8(0x8b2)](_0x470ff8(0x7f2))[_0x470ff8(0xda)](_0x470ff8(0x896),()=>{const _0x533f77=_0x470ff8,_0x21f54b=document[_0x533f77(0x8b2)](_0x533f77(0x87b))[_0x533f77(0x593)]['trim']();if(!_0x21f54b){showMessage(_0x533f77(0x210));return;}const _0x52e093=document[_0x533f77(0x8b2)](_0x533f77(0x8d5))[_0x533f77(0x593)][_0x533f77(0xf2)]();generateQuiz(_0x52e093,_0x21f54b);});async function generateQuiz(_0x22ee69,_0x17eb39,_0x4488f3=null,_0x289cd1=null,_0x5b1d18=![],_0x1d4750=null,_0x2fc582=null,_0x33788c=![]){const _0x1e18b4=_0x470ff8;let _0x3e5361={};if(_0x5b1d18&&blueprintPageSettings)console[_0x1e18b4(0x638)](_0x1e18b4(0xa79)),_0x3e5361=blueprintPageSettings;else{console[_0x1e18b4(0x638)](_0x1e18b4(0x617));const _0x9d982a=document[_0x1e18b4(0x9c4)](_0x1e18b4(0x441));_0x3e5361={'quizType':document[_0x1e18b4(0x8b2)](_0x1e18b4(0x2e0))['value'],'numQuestions':document[_0x1e18b4(0x8b2)](_0x1e18b4(0x55c))[_0x1e18b4(0x593)],'numChoices':document[_0x1e18b4(0x8b2)](_0x1e18b4(0x7e6))[_0x1e18b4(0x593)],'includeImages':document[_0x1e18b4(0x8b2)](_0x1e18b4(0x5ca))[_0x1e18b4(0x25a)],'isNormalTopic':document[_0x1e18b4(0x8b2)](_0x1e18b4(0x14b))['checked'],'difficultyValue':document[_0x1e18b4(0x8b2)](_0x1e18b4(0x869))[_0x1e18b4(0x593)],'complexityValue':document[_0x1e18b4(0x8b2)](_0x1e18b4(0x1dd))[_0x1e18b4(0x593)],'selectedTopicNames':Array[_0x1e18b4(0xaf3)](_0x9d982a)[_0x1e18b4(0x6b7)](_0x425106=>_0x425106['value'])};}const _0x5b9912=_0x3e5361[_0x1e18b4(0x108)]?'':_0x1e18b4(0xde),_0x39009e=_0x3e5361['difficultyValue']!==_0x1e18b4(0x16c)?'โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x3e5361['difficultyValue']+'\x22':'',_0x27a8fa=_0x3e5361[_0x1e18b4(0x394)]!==_0x1e18b4(0xb19)?_0x1e18b4(0x459)+_0x3e5361[_0x1e18b4(0x394)]+_0x1e18b4(0x2bc):'';let _0xf48353='';_0x3e5361[_0x1e18b4(0x385)]&&_0x3e5361[_0x1e18b4(0x385)][_0x1e18b4(0x9b5)]>0x0&&(_0xf48353=_0x1e18b4(0x17a)+_0x3e5361[_0x1e18b4(0x385)][_0x1e18b4(0x221)](',\x20')+'.');let _0x1bb2c8='';_0x289cd1&&(_0x1bb2c8=_0x1e18b4(0x128));let _0x13f934='',_0x518ae8='',_0x14a857,_0xb2527b='เกี่ยวกับหัวข้อ\x20\x22'+_0x22ee69+'\x22';if(!_0x22ee69&&_0x17eb39)_0xb2527b=_0x1e18b4(0x152);else!_0x22ee69&&!_0x17eb39&&(_0xb2527b=_0x1e18b4(0x8f3));const _0x943e77={'type':_0x1e18b4(0x882),'properties':{'questionText':{'type':_0x1e18b4(0xb2a)},'options':{'type':_0x1e18b4(0x1f9),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x1e18b4(0xb2a)},'imageCode':{'type':_0x1e18b4(0xb2a)}},'required':[_0x1e18b4(0x16b),_0x1e18b4(0xb6f),_0x1e18b4(0x5ad),'explanation']},_0x19c720={'type':_0x1e18b4(0x882),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x1e18b4(0xb2a)},'explanation':{'type':_0x1e18b4(0xb2a)},'imageCode':{'type':_0x1e18b4(0xb2a)}},'required':['questionText','idealAnswer',_0x1e18b4(0x94b)]},_0x2bfbdf={'type':_0x1e18b4(0x882),'properties':{'questionText':{'type':_0x1e18b4(0xb2a)},'questionType':{'type':_0x1e18b4(0xb2a),'enum':[_0x1e18b4(0x4a1),_0x1e18b4(0x9af)]},'options':{'type':'ARRAY','items':{'type':_0x1e18b4(0xb2a)}},'correctAnswerIndex':{'type':_0x1e18b4(0x84b)},'idealAnswer':{'type':_0x1e18b4(0xb2a)},'explanation':{'type':_0x1e18b4(0xb2a)},'imageCode':{'type':_0x1e18b4(0xb2a)}},'required':[_0x1e18b4(0x16b),_0x1e18b4(0x345),'explanation']},_0x892499={'type':_0x1e18b4(0x882),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x1e18b4(0x70d)},'explanation':{'type':_0x1e18b4(0xb2a)},'imageCode':{'type':_0x1e18b4(0xb2a)}},'required':[_0x1e18b4(0x16b),_0x1e18b4(0x600),_0x1e18b4(0x94b)]},_0x336d7c={'type':_0x1e18b4(0x882),'properties':{'questionType':{'type':_0x1e18b4(0xb2a),'enum':['matching_item']},'stem':{'type':_0x1e18b4(0xb2a)},'correctResponse':{'type':_0x1e18b4(0xb2a)},'allResponses':{'type':_0x1e18b4(0x1f9),'items':{'type':'STRING'}},'explanation':{'type':_0x1e18b4(0xb2a)},'imageCode':{'type':_0x1e18b4(0xb2a)}},'required':[_0x1e18b4(0x345),_0x1e18b4(0x283),'correctResponse',_0x1e18b4(0xb3e),_0x1e18b4(0x94b)]};let _0x33247b;if(_0x4488f3!==null){const _0x4475a4=currentQuizData[_0x1e18b4(0x622)][_0x4488f3][_0x1e18b4(0x345)],_0x271af9=_0x3e5361[_0x1e18b4(0xb41)]?_0x1e18b4(0x62b):'';_0x13f934=_0x1e18b4(0x6bf)+_0xb2527b+'\x20'+_0xf48353+'\x20'+_0x39009e+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0x271af9+'\x20'+simpleMathPrompt;if(_0x4475a4===_0x1e18b4(0x4a1))_0x14a857=_0x943e77;else{if(_0x4475a4===_0x1e18b4(0x43c))_0x14a857={'type':_0x1e18b4(0x882),'properties':{'questionType':{'type':_0x1e18b4(0xb2a),'enum':[_0x1e18b4(0x43c)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x1e18b4(0xb2a)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1e18b4(0xb2a)}},'required':[_0x1e18b4(0x345),'stem','correctResponse',_0x1e18b4(0x94b)]};else _0x14a857=_0x19c720;}_0x33247b=_0x14a857;}else{const _0x1a83de=_0x3e5361['includeImages']?_0x1e18b4(0x2a4):'';switch(_0x3e5361[_0x1e18b4(0x497)]){case _0x1e18b4(0x4a1):_0x13f934='สร้างแบบทดสอบปรนัย'+_0x5b9912+'\x20'+_0x3e5361[_0x1e18b4(0xafd)]+_0x1e18b4(0x519)+_0xb2527b+'\x20'+_0xf48353+'\x20'+_0x39009e+'\x20'+_0x27a8fa+'\x20'+_0x1bb2c8+_0x1e18b4(0xa0d)+_0x3e5361[_0x1e18b4(0x2ae)]+_0x1e18b4(0x78c)+_0x1a83de+'\x20'+simpleMathPrompt,_0x14a857=_0x943e77;break;case _0x1e18b4(0x232):_0x13f934=_0x1e18b4(0xae1)+_0x5b9912+'\x20'+_0x3e5361['numQuestions']+'\x20ข้อ\x20'+_0xb2527b+'\x20'+_0xf48353+'\x20'+_0x39009e+'\x20'+_0x27a8fa+'\x20'+_0x1bb2c8+_0x1e18b4(0xa80)+_0x3e5361[_0x1e18b4(0x2ae)]+_0x1e18b4(0x44d)+_0x1a83de+'\x20'+simpleMathPrompt,_0x14a857=_0x943e77;break;case'fill_in_no_choices':_0x13f934=_0x1e18b4(0xae1)+_0x5b9912+'\x20'+_0x3e5361[_0x1e18b4(0xafd)]+_0x1e18b4(0x519)+_0xb2527b+'\x20'+_0xf48353+'\x20'+_0x39009e+'\x20'+_0x27a8fa+'\x20'+_0x1bb2c8+_0x1e18b4(0xa07)+_0x1a83de+'\x20'+simpleMathPrompt,_0x14a857=_0x19c720;break;case'mixed':_0x13f934='สร้างแบบทดสอบ'+_0x5b9912+'\x20'+_0x3e5361[_0x1e18b4(0xafd)]+_0x1e18b4(0x519)+_0xb2527b+'\x20'+_0xf48353+'\x20'+_0x39009e+'\x20'+_0x27a8fa+'\x20'+_0x1bb2c8+_0x1e18b4(0x772)+_0x3e5361['numChoices']+_0x1e18b4(0x8ba)+_0x1a83de+'\x20'+simpleMathPrompt+'.',_0x14a857=_0x2bfbdf;break;case'true_false':_0x13f934='สร้างคำถามแบบใช่/ไม่ใช่'+_0x5b9912+'\x20'+_0x3e5361[_0x1e18b4(0xafd)]+'\x20ข้อ\x20'+_0xb2527b+'\x20'+_0xf48353+'\x20'+_0x39009e+'\x20'+_0x27a8fa+'\x20'+_0x1bb2c8+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x1a83de+'\x20'+simpleMathPrompt,_0x14a857=_0x892499;break;case _0x1e18b4(0x420):_0x13f934=_0x1e18b4(0x47d)+_0x5b9912+'\x20'+_0x3e5361['numQuestions']+'\x20คู่\x20'+_0xb2527b+'\x20'+_0xf48353+'\x20'+_0x39009e+'\x20'+_0x27a8fa+'\x20'+_0x1bb2c8+_0x1e18b4(0x4b4)+_0x1a83de+'\x20'+simpleMathPrompt,_0x14a857=_0x336d7c;break;}_0x33247b={'type':_0x1e18b4(0x882),'properties':{'topic':{'type':_0x1e18b4(0xb2a)},'questions':{'type':_0x1e18b4(0x1f9),'items':_0x14a857}},'required':[_0x1e18b4(0x1bc),_0x1e18b4(0x622)]};}const _0x51d9fa=_0x1e18b4(0x7ee);_0x17eb39?(_0x33788c?_0x13f934=_0x1e18b4(0xb57)+_0x17eb39+'\x22,\x20'+_0x13f934+_0x51d9fa:_0x13f934=_0x1e18b4(0xb57)+_0x17eb39+_0x1e18b4(0xac9)+_0x13f934,_0x518ae8=_0x1e18b4(0x2f3)):(_0x33788c&&(_0x13f934+=_0x51d9fa),_0x518ae8=_0x1e18b4(0xa13));let _0x3e65fb;return _0x289cd1?_0x3e65fb=[{'text':_0x13f934},..._0x289cd1]:_0x3e65fb=_0x13f934,handleApiCall(_0x3e65fb,_0x518ae8,_0x33247b,_0x4488f3,!![],_0x1d4750,_0x2fc582);}async function generateQuizFromFile(_0x109b83,_0x45ce80){const _0x37a55a=_0x470ff8,_0x408a68=document['getElementById'](_0x37a55a(0x8db))[_0x37a55a(0x593)][_0x37a55a(0xf2)](),_0x25b39c=document[_0x37a55a(0x8b2)](_0x37a55a(0x2e0))[_0x37a55a(0x593)],_0x358690=document['getElementById'](_0x37a55a(0x55c))[_0x37a55a(0x593)],_0x131ca5=document[_0x37a55a(0x8b2)]('num-choices')['value'],_0x1691d8=document[_0x37a55a(0x8b2)](_0x37a55a(0x5ca))['checked'],_0x2fd86d=document[_0x37a55a(0x8b2)](_0x37a55a(0x14b))[_0x37a55a(0x25a)],_0x29dbd7=_0x2fd86d?'':_0x37a55a(0xde),_0x44c29d=document[_0x37a55a(0x8b2)](_0x37a55a(0x587))[_0x37a55a(0x25a)];let _0x50597d='',_0x25f424;const _0x5cea71=_0x1691d8?_0x37a55a(0x2a4):'';if(_0x44c29d)_0x50597d='\x0a\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0a\x20\x20\x20\x20ภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0a\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x201.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a\x20\x20\x20\x202.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a\x20\x20\x20\x203.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a\x20\x20\x20\x204.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a\x20\x20\x20\x20'+_0x5cea71+_0x37a55a(0x92c)+simpleMathPrompt+'\x0a',_0x25f424={'type':'OBJECT','properties':{'questionText':{'type':_0x37a55a(0xb2a)},'questionType':{'type':_0x37a55a(0xb2a),'enum':['multiple_choice',_0x37a55a(0x9af),_0x37a55a(0x618),_0x37a55a(0x43c)]},'options':{'type':_0x37a55a(0x1f9),'items':{'type':_0x37a55a(0xb2a)}},'correctAnswerIndex':{'type':_0x37a55a(0x84b)},'idealAnswer':{'type':_0x37a55a(0xb2a)},'correctAnswer':{'type':_0x37a55a(0x70d)},'stem':{'type':_0x37a55a(0xb2a)},'correctResponse':{'type':_0x37a55a(0xb2a)},'allResponses':{'type':_0x37a55a(0x1f9),'items':{'type':_0x37a55a(0xb2a)}},'explanation':{'type':_0x37a55a(0xb2a)},'imageCode':{'type':_0x37a55a(0xb2a)}},'required':[_0x37a55a(0x345),_0x37a55a(0x94b)]};else{let _0xa1fd3a=_0x37a55a(0x47e)+_0x408a68+'\x22';!_0x408a68&&(_0xa1fd3a=_0x37a55a(0x91d));switch(_0x25b39c){case'multiple_choice':_0x50597d='สร้างแบบทดสอบปรนัย'+_0x29dbd7+'\x20'+_0x358690+_0x37a55a(0x519)+_0xa1fd3a+_0x37a55a(0xa0d)+_0x131ca5+_0x37a55a(0x78c)+_0x5cea71+'\x20'+simpleMathPrompt,_0x25f424={'type':_0x37a55a(0x882),'properties':{'questionText':{'type':_0x37a55a(0xb2a)},'options':{'type':_0x37a55a(0x1f9),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x37a55a(0xb2a)},'imageCode':{'type':_0x37a55a(0xb2a)}},'required':[_0x37a55a(0x16b),_0x37a55a(0xb6f),_0x37a55a(0x5ad),_0x37a55a(0x94b)]};break;case _0x37a55a(0x232):_0x50597d=_0x37a55a(0xae1)+_0x29dbd7+'\x20'+_0x358690+_0x37a55a(0x519)+_0xa1fd3a+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x131ca5+_0x37a55a(0x44d)+_0x5cea71+'\x20'+simpleMathPrompt,_0x25f424={'type':_0x37a55a(0x882),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x37a55a(0x1f9),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x37a55a(0x84b)},'explanation':{'type':_0x37a55a(0xb2a)},'imageCode':{'type':_0x37a55a(0xb2a)}},'required':[_0x37a55a(0x16b),_0x37a55a(0xb6f),_0x37a55a(0x5ad),_0x37a55a(0x94b)]};break;case _0x37a55a(0x9de):_0x50597d=_0x37a55a(0xae1)+_0x29dbd7+'\x20'+_0x358690+_0x37a55a(0x519)+_0xa1fd3a+_0x37a55a(0xa07)+_0x5cea71+'\x20'+simpleMathPrompt,_0x25f424={'type':'OBJECT','properties':{'questionText':{'type':_0x37a55a(0xb2a)},'idealAnswer':{'type':_0x37a55a(0xb2a)},'explanation':{'type':_0x37a55a(0xb2a)},'imageCode':{'type':_0x37a55a(0xb2a)}},'required':[_0x37a55a(0x16b),_0x37a55a(0x76e),'explanation']};break;case _0x37a55a(0xb19):_0x50597d=_0x37a55a(0x59a)+_0x29dbd7+'\x20'+_0x358690+_0x37a55a(0x519)+_0xa1fd3a+_0x37a55a(0x25d)+_0x131ca5+_0x37a55a(0x8ba)+_0x5cea71+'\x20'+simpleMathPrompt+_0x37a55a(0x15c),_0x25f424={'type':_0x37a55a(0x882),'properties':{'questionText':{'type':_0x37a55a(0xb2a)},'questionType':{'type':_0x37a55a(0xb2a),'enum':['multiple_choice',_0x37a55a(0x9af)]},'options':{'type':_0x37a55a(0x1f9),'items':{'type':_0x37a55a(0xb2a)}},'correctAnswerIndex':{'type':_0x37a55a(0x84b)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x37a55a(0xb2a)}},'required':[_0x37a55a(0x16b),'questionType','explanation']};break;case _0x37a55a(0x618):_0x50597d=_0x37a55a(0x5bb)+_0x29dbd7+'\x20'+_0x358690+_0x37a55a(0x519)+_0xa1fd3a+_0x37a55a(0x40b)+_0x5cea71+'\x20'+simpleMathPrompt,_0x25f424={'type':_0x37a55a(0x882),'properties':{'questionText':{'type':_0x37a55a(0xb2a)},'correctAnswer':{'type':_0x37a55a(0x70d)},'explanation':{'type':_0x37a55a(0xb2a)},'imageCode':{'type':_0x37a55a(0xb2a)}},'required':['questionText',_0x37a55a(0x600),_0x37a55a(0x94b)]};break;case _0x37a55a(0x420):_0x50597d=_0x37a55a(0x47d)+_0x29dbd7+'\x20'+_0x358690+_0x37a55a(0x2c0)+_0xa1fd3a+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x358690+_0x37a55a(0x132)+_0x5cea71+'\x20'+simpleMathPrompt,_0x25f424={'type':'OBJECT','properties':{'questionType':{'type':_0x37a55a(0xb2a),'enum':[_0x37a55a(0x43c)]},'stem':{'type':_0x37a55a(0xb2a)},'correctResponse':{'type':_0x37a55a(0xb2a)},'allResponses':{'type':_0x37a55a(0x1f9),'items':{'type':_0x37a55a(0xb2a)}},'explanation':{'type':_0x37a55a(0xb2a)},'imageCode':{'type':_0x37a55a(0xb2a)}},'required':[_0x37a55a(0x345),_0x37a55a(0x283),_0x37a55a(0x198),_0x37a55a(0xb3e),_0x37a55a(0x94b)]};break;}}const _0x11e366={'type':_0x37a55a(0x882),'properties':{'topic':{'type':_0x37a55a(0xb2a)},'questions':{'type':'ARRAY','items':_0x25f424}},'required':['topic',_0x37a55a(0x622)]},_0x41beb5='จากไฟล์ที่แนบมานี้,\x20'+_0x50597d,_0x55603a={'contents':[{'parts':[{'text':_0x41beb5},{'inlineData':{'mimeType':_0x109b83,'data':_0x45ce80}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x11e366}};return handleApiCall(_0x55603a[_0x37a55a(0x330)][0x0][_0x37a55a(0x15a)],_0x37a55a(0x6c0),_0x11e366);}async function handleApiCall(_0x42cba6,_0x598c4f,_0x5f4518,_0x7fd12b=null,_0x4f6ea3=!![],_0x115372=null,_0xd9a653=null){const _0x2ab42b=_0x470ff8,_0xbf6319=document[_0x2ab42b(0x8b2)](_0x2ab42b(0x9f5)),_0x3fb6d4=document[_0x2ab42b(0x8b2)]('loader'),_0x5bc9b9=document['getElementById'](_0x2ab42b(0x4fd)),_0x26e4c9=document[_0x2ab42b(0x8b2)]('generated-quiz-container');_0xbf6319[_0x2ab42b(0xaa8)][_0x2ab42b(0x5b2)](_0x2ab42b(0x856));_0x7fd12b===null&&_0x4f6ea3&&(_0x26e4c9[_0x2ab42b(0xb6e)]='');_0x3fb6d4[_0x2ab42b(0xaa8)][_0x2ab42b(0x5b2)]('hidden'),_0x5bc9b9[_0x2ab42b(0x464)]=_0x598c4f,document[_0x2ab42b(0x8b2)](_0x2ab42b(0x74d))[_0x2ab42b(0x6cf)]=!![],document['getElementById'](_0x2ab42b(0x7f2))[_0x2ab42b(0x6cf)]=!![],document[_0x2ab42b(0x8b2)](_0x2ab42b(0x457))[_0x2ab42b(0x6cf)]=!![];const _0x5b1382=document[_0x2ab42b(0x8b2)](_0x2ab42b(0x5c4));if(_0x5b1382)_0x5b1382[_0x2ab42b(0x6cf)]=!![];const _0x341afd=document[_0x2ab42b(0x8b2)](_0x2ab42b(0x671));if(_0x341afd)_0x341afd['disabled']=!![];const _0x464c95=document[_0x2ab42b(0x8b2)]('generate-from-parallel-test-btn');if(_0x464c95)_0x464c95['disabled']=!![];try{const _0x459373={'responseMimeType':_0x2ab42b(0xa23),'responseSchema':_0x5f4518},_0x67c8ea=Array[_0x2ab42b(0x463)](_0x42cba6)?_0x42cba6:[{'text':_0x42cba6}],_0x981896={'contents':[{'role':_0x2ab42b(0x5ef),'parts':_0x67c8ea}],'generationConfig':_0x459373},_0xd67c10=_0x2ab42b(0x63d),_0x4a7bb8=_0x2ab42b(0x99a)+_0xd67c10,_0x26bdd0=await fetch(_0x4a7bb8,{'method':_0x2ab42b(0x443),'headers':{'Content-Type':_0x2ab42b(0xa23)},'body':JSON[_0x2ab42b(0x1b9)](_0x981896)});if(!_0x26bdd0['ok']){const _0x5bbfd5=await _0x26bdd0['text']();console[_0x2ab42b(0x6c4)](_0x2ab42b(0x8bb),_0x5bbfd5);throw new Error(_0x2ab42b(0x1ad)+_0x26bdd0[_0x2ab42b(0x6b3)]);}const _0x549077=await _0x26bdd0[_0x2ab42b(0x7bf)]();if(_0x549077[_0x2ab42b(0x268)]?.[0x0]?.[_0x2ab42b(0x77b)]?.[_0x2ab42b(0x15a)]?.[0x0]){let _0x83300f=_0x549077[_0x2ab42b(0x268)][0x0][_0x2ab42b(0x77b)]['parts'][0x0][_0x2ab42b(0x12b)];if(_0x83300f[_0x2ab42b(0xa71)](_0x2ab42b(0x549)))_0x83300f=_0x83300f['substring'](0x7,_0x83300f[_0x2ab42b(0x9b5)]-0x3)['trim']();else _0x83300f[_0x2ab42b(0xa71)](_0x2ab42b(0xaea))&&(_0x83300f=_0x83300f[_0x2ab42b(0x6eb)](0x3,_0x83300f[_0x2ab42b(0x9b5)]-0x3)[_0x2ab42b(0xf2)]());let _0x2836a2=JSON[_0x2ab42b(0x25b)](_0x83300f);if(_0x4f6ea3){if(_0x7fd12b!==null){if(_0x2836a2[_0x2ab42b(0x345)]==='matching_item'){const _0x52061e=currentQuizData['questions']['map'](_0xd8e238=>_0xd8e238[_0x2ab42b(0x198)]);_0x2836a2['allResponses']=_0x52061e;const _0x188542=currentQuizData[_0x2ab42b(0x622)][_0x7fd12b]['correctResponse'],_0x2b0943=_0x52061e[_0x2ab42b(0x7ba)](_0x188542);_0x2b0943>-0x1&&(_0x52061e[_0x2b0943]=_0x2836a2['correctResponse']),currentQuizData[_0x2ab42b(0x622)]['forEach'](_0x4f00fb=>{const _0x4df0e9=_0x2ab42b;if(_0x4f00fb[_0x4df0e9(0x345)]==='matching_item')_0x4f00fb[_0x4df0e9(0xb3e)]=_0x52061e;});}currentQuizData[_0x2ab42b(0x622)][_0x7fd12b]=_0x2836a2,displayGeneratedQuiz(currentQuizData,_0x115372,_0xd9a653);}else{currentQuizData=_0x2836a2;const _0x7a42b2=document[_0x2ab42b(0x8b2)](_0x2ab42b(0x2e0))[_0x2ab42b(0x593)];currentQuizData[_0x2ab42b(0x497)]=_0x7a42b2,currentQuizData[_0x2ab42b(0x622)]&&currentQuizData['questions'][_0x2ab42b(0x501)](_0x3ae037=>{const _0x5ad13d=_0x2ab42b;if(!_0x3ae037['questionType']){if(_0x7a42b2===_0x5ad13d(0x232))_0x3ae037['questionType']=_0x5ad13d(0x4a1);else{if(_0x7a42b2===_0x5ad13d(0x9de))_0x3ae037[_0x5ad13d(0x345)]='short_answer';else _0x3ae037[_0x5ad13d(0x345)]=_0x7a42b2;}}}),displayGeneratedQuiz(currentQuizData,_0x115372,_0xd9a653);}}return _0x2836a2;}else{let _0x209af3=_0x2ab42b(0x1b4);if(_0x549077[_0x2ab42b(0x13f)]?.[_0x2ab42b(0x7f9)])_0x209af3=_0x2ab42b(0x61d)+_0x549077['promptFeedback'][_0x2ab42b(0x7f9)]+'.';else _0x549077['candidates']?.[0x0]?.[_0x2ab42b(0x5d4)]&&_0x549077[_0x2ab42b(0x268)][0x0][_0x2ab42b(0x5d4)]!==_0x2ab42b(0xa74)&&(_0x209af3=_0x2ab42b(0x141)+_0x549077['candidates'][0x0][_0x2ab42b(0x5d4)]+'.');console[_0x2ab42b(0x6c4)](_0x209af3,JSON[_0x2ab42b(0x1b9)](_0x549077));throw new Error(_0x209af3);}}catch(_0x53ad80){console[_0x2ab42b(0x6c4)](_0x2ab42b(0x2c2),_0x53ad80),showMessage(_0x2ab42b(0x6e6)+_0x53ad80['message']);_0x7fd12b===null&&_0x4f6ea3&&(_0x26e4c9[_0x2ab42b(0xb6e)]=_0x2ab42b(0x533));throw _0x53ad80;}finally{_0x3fb6d4['classList'][_0x2ab42b(0x4de)](_0x2ab42b(0x856)),document[_0x2ab42b(0x8b2)](_0x2ab42b(0x74d))[_0x2ab42b(0x6cf)]=![],document[_0x2ab42b(0x8b2)](_0x2ab42b(0x7f2))[_0x2ab42b(0x6cf)]=![],document['getElementById'](_0x2ab42b(0x457))[_0x2ab42b(0x6cf)]=![];if(_0x5b1382)_0x5b1382[_0x2ab42b(0x6cf)]=![];if(_0x341afd)_0x341afd[_0x2ab42b(0x6cf)]=![];if(_0x464c95)_0x464c95[_0x2ab42b(0x6cf)]=![];}}function exitFullscreen(){const _0x34a11f=_0x470ff8;if(document[_0x34a11f(0x8e7)])document[_0x34a11f(0x8e7)]()[_0x34a11f(0x690)](_0x422023=>console[_0x34a11f(0x6c4)](_0x422023));else{if(document[_0x34a11f(0x552)])document[_0x34a11f(0x552)]();else document['msExitFullscreen']&&document[_0x34a11f(0x1f1)]();}}function enterFullscreen(){const _0x50b0cb=_0x470ff8,_0x53b9b5=document['documentElement'];if(_0x53b9b5['requestFullscreen'])_0x53b9b5['requestFullscreen']()[_0x50b0cb(0x690)](_0x329a23=>{const _0x52e68d=_0x50b0cb;console[_0x52e68d(0x6c4)](_0x52e68d(0xa68)+_0x329a23['message']+'\x20('+_0x329a23['name']+')');});else{if(_0x53b9b5[_0x50b0cb(0x24e)])_0x53b9b5[_0x50b0cb(0x24e)]();else _0x53b9b5[_0x50b0cb(0xa72)]&&_0x53b9b5[_0x50b0cb(0xa72)]();}}function handleCheatingEvent(){const _0x22f2d8=_0x470ff8;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent('screen_exit',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x22f2d8(0x6cd)+maxCheatAttempts+_0x22f2d8(0x274)),document['getElementById'](_0x22f2d8(0xae8))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener'](_0x22f2d8(0x72d),handleVisibilityChange),document['removeEventListener'](_0x22f2d8(0x2d9),handleFullscreenChange)):showMessage(_0x22f2d8(0x48d)+cheatAttempts+'/'+maxCheatAttempts+_0x22f2d8(0x460),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x9de303=_0x470ff8;if(currentMode==='admin-testing'||!isQuizActive)return;if(document[_0x9de303(0x8e3)]==='hidden')handleCheatingEvent();else document[_0x9de303(0x8e3)]==='visible'&&(console[_0x9de303(0x638)](_0x9de303(0x7d1)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x2a8003=_0x470ff8;if(currentMode==='admin-testing'||!isQuizActive)return;!document[_0x2a8003(0x94f)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x1995cd,_0x1c808a=null,_0x1452fa=null){const _0xb212dd=_0x470ff8,_0x2f6583=document[_0xb212dd(0x8b2)](_0xb212dd(0x3dc));let _0x7fd598=_0xb212dd(0xab8)+_0x1995cd[_0xb212dd(0x1bc)]+'</h3>';_0x1995cd['questions'][_0xb212dd(0x501)]((_0x2c7243,_0x38f579)=>{const _0x2205f6=_0xb212dd;!_0x2c7243['id']&&(_0x2c7243['id']='q_'+Date['now']()+'_'+_0x38f579);const _0x587500=_0x2c7243[_0x2205f6(0x345)]||_0x1995cd[_0x2205f6(0x497)];_0x7fd598+=_0x2205f6(0xcc)+_0x38f579+_0x2205f6(0x481)+_0x38f579+_0x2205f6(0x8a9)+_0x38f579+_0x2205f6(0x30b);switch(_0x587500){case _0x2205f6(0x43c):_0x7fd598+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x38f579+'\x22>'+(_0x38f579+0x1)+'.\x20'+_0x2c7243[_0x2205f6(0x283)]+_0x2205f6(0x188);_0x2c7243[_0x2205f6(0x4b5)]&&(_0x7fd598+='<div\x20id=\x22q-image-container-'+_0x38f579+_0x2205f6(0x126)+_0x2c7243[_0x2205f6(0x4b5)]+'</div>');_0x7fd598+=_0x2205f6(0x843)+_0x38f579+'\x22>'+_0x2c7243['correctResponse']+_0x2205f6(0x9b3),_0x7fd598+=_0x2205f6(0x8fd)+_0x38f579+'\x22>'+_0x2c7243[_0x2205f6(0x94b)]+_0x2205f6(0x9b3);break;case _0x2205f6(0x9af):_0x7fd598+=_0x2205f6(0x75a)+_0x38f579+'\x22>'+(_0x38f579+0x1)+'.\x20'+_0x2c7243[_0x2205f6(0x16b)]+'</p>';_0x2c7243[_0x2205f6(0x4b5)]&&(_0x7fd598+='<div\x20id=\x22q-image-container-'+_0x38f579+_0x2205f6(0x126)+_0x2c7243['imageCode']+_0x2205f6(0x9ab));_0x7fd598+=_0x2205f6(0x46b)+_0x38f579+'\x22>'+_0x2c7243['idealAnswer']+_0x2205f6(0x9b3),_0x7fd598+=_0x2205f6(0x8fd)+_0x38f579+'\x22>'+_0x2c7243['explanation']+_0x2205f6(0x9b3);break;case'true_false':_0x7fd598+=_0x2205f6(0x75a)+_0x38f579+'\x22>'+(_0x38f579+0x1)+'.\x20'+_0x2c7243[_0x2205f6(0x16b)]+_0x2205f6(0x188);_0x2c7243['imageCode']&&(_0x7fd598+=_0x2205f6(0x8ce)+_0x38f579+_0x2205f6(0x126)+_0x2c7243['imageCode']+_0x2205f6(0x9ab));_0x7fd598+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x2c7243[_0x2205f6(0x600)]===!![]?_0x2205f6(0x7bc):'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x2c7243[_0x2205f6(0x600)]===![]?_0x2205f6(0x7bc):'')+_0x2205f6(0x5e3),_0x7fd598+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x38f579+'\x22>'+_0x2c7243['explanation']+'</span></div>';break;case _0x2205f6(0x26c):case _0x2205f6(0x4a1):default:_0x7fd598+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x38f579+'\x22>'+(_0x38f579+0x1)+'.\x20'+_0x2c7243[_0x2205f6(0x16b)]+_0x2205f6(0x188);_0x2c7243[_0x2205f6(0x4b5)]&&(_0x7fd598+=_0x2205f6(0x8ce)+_0x38f579+_0x2205f6(0x126)+_0x2c7243[_0x2205f6(0x4b5)]+_0x2205f6(0x9ab));_0x7fd598+=_0x2205f6(0x85d)+_0x38f579+_0x2205f6(0x609)+(_0x2c7243[_0x2205f6(0xb6f)]||[])[_0x2205f6(0x6b7)]((_0x1fe542,_0x17d06b)=>_0x2205f6(0x877)+(_0x17d06b===_0x2c7243[_0x2205f6(0x5ad)]?_0x2205f6(0x7bc):'')+'\x22>'+_0x1fe542+'</li>')[_0x2205f6(0x221)]('')+_0x2205f6(0x500),_0x7fd598+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x38f579+'\x22>'+_0x2c7243['explanation']+_0x2205f6(0x9b3);break;}_0x7fd598+='</div>';}),_0x7fd598+=_0xb212dd(0x54e),_0x2f6583[_0xb212dd(0xb6e)]=_0x7fd598,document['querySelectorAll'](_0xb212dd(0x7b2))[_0xb212dd(0x501)](_0x31948b=>_0x31948b['addEventListener'](_0xb212dd(0x896),handleEditQuestion)),document[_0xb212dd(0x9c4)](_0xb212dd(0x972))['forEach'](_0x54a560=>_0x54a560[_0xb212dd(0xda)](_0xb212dd(0x896),handleRegenerateQuestion)),document[_0xb212dd(0x8b2)](_0xb212dd(0x297))[_0xb212dd(0xda)](_0xb212dd(0x896),exportQuizAsWorksheetPDF),document[_0xb212dd(0x8b2)](_0xb212dd(0x522))['addEventListener'](_0xb212dd(0x896),handleVerifyAnswers);const _0x353a14=document[_0xb212dd(0x8b2)](_0xb212dd(0xa9f));if(_0x353a14){const _0xe64645=_0x1c808a||currentProjectId;_0x353a14[_0xb212dd(0xda)](_0xb212dd(0x896),()=>saveQuiz(_0xe64645,_0x1452fa));}if(window[_0xb212dd(0x821)])window[_0xb212dd(0x821)][_0xb212dd(0x697)]([_0x2f6583]);}function handleRegenerateQuestion(_0x2ffa42){const _0x2c408d=_0x470ff8,_0x52e147=_0x2ffa42[_0x2c408d(0x791)][_0x2c408d(0xad1)][_0x2c408d(0x8f1)],_0x243f78=currentQuizData[_0x2c408d(0x1bc)];showMessage(_0x2c408d(0x7b0)+(parseInt(_0x52e147)+0x1)+_0x2c408d(0x468)),generateQuiz(_0x243f78,null,parseInt(_0x52e147));}function getPointerPosition(_0x1f1649,_0x2dce41){const _0x731b0e=_0x470ff8,_0x1cdf9c=_0x1f1649[_0x731b0e(0x541)]();let _0xc4bc1f,_0x2daf02;return _0x2dce41[_0x731b0e(0xa97)]&&_0x2dce41[_0x731b0e(0xa97)][_0x731b0e(0x9b5)]>0x0?(_0xc4bc1f=_0x2dce41['touches'][0x0][_0x731b0e(0x530)],_0x2daf02=_0x2dce41[_0x731b0e(0xa97)][0x0]['clientY']):(_0xc4bc1f=_0x2dce41['clientX'],_0x2daf02=_0x2dce41[_0x731b0e(0x343)]),{'x':(_0xc4bc1f-_0x1cdf9c['e'])/_0x1cdf9c['a'],'y':(_0x2daf02-_0x1cdf9c['f'])/_0x1cdf9c['d']};}function startDrag(_0x1a148a){const _0x9ebb70=_0x470ff8;_0x1a148a[_0x9ebb70(0x925)]===_0x9ebb70(0x9c5)&&_0x1a148a[_0x9ebb70(0x756)]();const _0x37b4d2=_0x1a148a['target']['closest'](_0x9ebb70(0x3be));if(_0x37b4d2){draggedSvgElement=_0x37b4d2;const _0x569d92=draggedSvgElement['ownerSVGElement'],_0x25c6ab=getPointerPosition(_0x569d92,_0x1a148a);svgOffset['x']=_0x25c6ab['x']-parseFloat(draggedSvgElement[_0x9ebb70(0x1ed)](null,'x')),svgOffset['y']=_0x25c6ab['y']-parseFloat(draggedSvgElement[_0x9ebb70(0x1ed)](null,'y'));}}function calculateItemAnalysis(_0x183fee,_0x267e7f){const _0x1b103b=_0x470ff8,_0x4b79ce={};if(_0x267e7f[_0x1b103b(0x9b5)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x192a44=[..._0x267e7f]['sort']((_0xe81988,_0x56fd8c)=>{const _0x4a1da5=_0x1b103b,_0x312b57=_0x56fd8c[_0x4a1da5(0x98f)]-_0xe81988[_0x4a1da5(0x98f)];if(_0x312b57!==0x0)return _0x312b57;const _0x2b5822=_0xe81988[_0x4a1da5(0x250)]?.[_0x4a1da5(0x9b5)]||0x1,_0x106c77=_0x56fd8c[_0x4a1da5(0x250)]?.[_0x4a1da5(0x9b5)]||0x1,_0x5147cf=_0x2b5822-_0x106c77;if(_0x5147cf!==0x0)return _0x5147cf;const _0x417d55=new Date(_0xe81988[_0x4a1da5(0x3ed)]),_0x4373ec=new Date(_0x56fd8c[_0x4a1da5(0x3ed)]),_0x1af14f=_0x417d55-_0x4373ec;if(_0x1af14f!==0x0)return _0x1af14f;return _0xe81988[_0x4a1da5(0x29c)][_0x4a1da5(0xaf7)](_0x56fd8c['studentName'],'th');}),_0xf55315=_0x192a44[_0x1b103b(0x9b5)],_0xc4bdb6=Math[_0x1b103b(0x115)](0x1,Math['floor'](_0xf55315*0.33));if(_0xc4bdb6===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x4cc88a=_0x192a44[_0x1b103b(0x2b0)](0x0,_0xc4bdb6),_0x16ddcd=_0x192a44[_0x1b103b(0x2b0)](-_0xc4bdb6),_0x8af0d0=_0x4cc88a[_0x1b103b(0x6b7)](_0x2c59fe=>_0x2c59fe[_0x1b103b(0x29c)]),_0x155d84=_0x16ddcd[_0x1b103b(0x6b7)](_0x11a976=>_0x11a976[_0x1b103b(0x29c)]);return _0x183fee['questions'][_0x1b103b(0x501)]((_0x345e48,_0x100db1)=>{const _0x515efa=_0x1b103b,_0x107977=_0x345e48[_0x515efa(0x283)]||_0x345e48[_0x515efa(0x16b)];let _0x1e68e6=0x0,_0xf94250=0x0,_0xb5eb56=0x0;const _0x117dbd=[],_0x204d4c=[];_0x4cc88a[_0x515efa(0x501)](_0x11daf9=>{const _0x443801=_0x515efa,_0x369e04=_0x11daf9[_0x443801(0x250)][_0x11daf9[_0x443801(0x250)]['length']-0x1],_0x35bf9c=_0x369e04[_0x443801(0x335)]['find'](_0x4df625=>_0x4df625[_0x443801(0xa2d)]===_0x107977);_0x117dbd[_0x443801(0xb16)]({'name':_0x11daf9[_0x443801(0x29c)],'isCorrect':_0x35bf9c?_0x35bf9c[_0x443801(0x98e)]:![]}),_0x35bf9c&&_0x35bf9c[_0x443801(0x98e)]&&_0xf94250++;}),_0x16ddcd[_0x515efa(0x501)](_0x2c1134=>{const _0x55679a=_0x515efa,_0x243394=_0x2c1134['attempts'][_0x2c1134[_0x55679a(0x250)][_0x55679a(0x9b5)]-0x1],_0x576e16=_0x243394['answers'][_0x55679a(0x43e)](_0x1af94f=>_0x1af94f[_0x55679a(0xa2d)]===_0x107977);_0x204d4c[_0x55679a(0xb16)]({'name':_0x2c1134['studentName'],'isCorrect':_0x576e16?_0x576e16[_0x55679a(0x98e)]:![]}),_0x576e16&&_0x576e16['isCorrect']&&_0xb5eb56++;}),_0x267e7f[_0x515efa(0x501)](_0x203e73=>{const _0x714df5=_0x515efa,_0x5291e0=_0x203e73['attempts'][_0x203e73[_0x714df5(0x250)][_0x714df5(0x9b5)]-0x1],_0x29f8f4=_0x5291e0[_0x714df5(0x335)][_0x714df5(0x43e)](_0x2a2ebd=>_0x2a2ebd[_0x714df5(0xa2d)]===_0x107977);_0x29f8f4&&_0x29f8f4[_0x714df5(0x98e)]&&_0x1e68e6++;});const _0x3ffe5b=_0xf55315>0x0?_0x1e68e6/_0xf55315:0x0,_0xd8dd15=_0xc4bdb6>0x0?_0xf94250/_0xc4bdb6-_0xb5eb56/_0xc4bdb6:0x0;_0x4b79ce[_0x100db1]={'p':_0x3ffe5b,'r':_0xd8dd15,'upperGroupResponders':_0x117dbd,'lowerGroupResponders':_0x204d4c};}),{'perQuestionStats':_0x4b79ce,'overallGroups':{'upperGroupNames':_0x8af0d0,'lowerGroupNames':_0x155d84}};}function drag(_0x1a8cae){const _0x50db59=_0x470ff8;if(draggedSvgElement){_0x1a8cae['preventDefault']();const _0x357664=draggedSvgElement[_0x50db59(0x5b1)],_0x2d177f=getPointerPosition(_0x357664,_0x1a8cae),_0x31a683=_0x357664[_0x50db59(0x206)][_0x50db59(0x79f)];let _0x13eae2=_0x2d177f['x']-svgOffset['x'],_0xb24b0=_0x2d177f['y']-svgOffset['y'];const _0x34f6d6=draggedSvgElement[_0x50db59(0x1c2)]();_0x13eae2=Math[_0x50db59(0x115)](_0x31a683['x'],Math[_0x50db59(0x7d7)](_0x13eae2,_0x31a683['x']+_0x31a683[_0x50db59(0x20b)]-_0x34f6d6[_0x50db59(0x20b)])),_0xb24b0=Math[_0x50db59(0x115)](_0x31a683['y'],Math[_0x50db59(0x7d7)](_0xb24b0,_0x31a683['y']+_0x31a683[_0x50db59(0x7a3)]-_0x34f6d6['height'])),draggedSvgElement[_0x50db59(0x4e9)](null,'x',_0x13eae2),draggedSvgElement[_0x50db59(0x4e9)](null,'y',_0xb24b0);}}function endDrag(_0x5b4097){draggedSvgElement=null;}function handleSvgEditClick(_0x10935d){const _0x14c3fc=_0x470ff8;if(_0x10935d[_0x14c3fc(0x5a3)]['classList'][_0x14c3fc(0xaa3)]('delete-svg-btn')){const _0xc3a403=_0x10935d['target'][_0x14c3fc(0xad1)][_0x14c3fc(0xb61)],_0x575471=_0x10935d[_0x14c3fc(0x791)],_0x2f2374=_0x575471[_0x14c3fc(0x7a8)]('#'+_0xc3a403);_0x2f2374&&_0x2f2374[_0x14c3fc(0x5b2)](),_0x10935d[_0x14c3fc(0x5a3)][_0x14c3fc(0x5b2)]();}}function handleEditQuestion(_0x4aeaea){const _0x4a7d89=_0x470ff8,_0x23b698=_0x4aeaea[_0x4a7d89(0x791)],_0x4606a0=_0x23b698[_0x4a7d89(0xad1)]['index'],_0x7cd285=currentQuizData['questions'][_0x4606a0],_0x468ee3=document['getElementById'](_0x4a7d89(0x452)+_0x4606a0),_0x529604=document[_0x4a7d89(0x8b2)](_0x4a7d89(0x59b)+_0x4606a0),_0x40b21e=document[_0x4a7d89(0x8b2)]('q-image-container-'+_0x4606a0);if(_0x23b698[_0x4a7d89(0xb6e)][_0x4a7d89(0xa57)](_0x4a7d89(0x7e2))){_0x23b698[_0x4a7d89(0xb6e)]=_0x4a7d89(0x4e7),_0x23b698['title']='บันทึกการแก้ไข';if(_0x468ee3)_0x468ee3['contentEditable']=!![];if(_0x529604)_0x529604[_0x4a7d89(0x34c)]=!![];if(_0x40b21e){const _0xc2aa4d=_0x40b21e[_0x4a7d89(0x7a8)](_0x4a7d89(0x408));if(_0xc2aa4d){const _0x16d09b=_0xc2aa4d['querySelectorAll'](_0x4a7d89(0x12b));_0x16d09b[_0x4a7d89(0x501)]((_0x11d5f7,_0x3c6310)=>{const _0x17e9ea=_0x4a7d89,_0x550f66='editable-text-'+_0x4606a0+'-'+_0x3c6310;_0x11d5f7['id']=_0x550f66,_0x11d5f7['classList']['add']('draggable-text'),_0x11d5f7['style'][_0x17e9ea(0x1d1)]=_0x17e9ea(0x62d);const _0x4e797a=document[_0x17e9ea(0x3fa)](_0x17e9ea(0xe3),_0x17e9ea(0xa64)),_0x1383d0=_0x11d5f7['getBBox']();_0x4e797a[_0x17e9ea(0x2b1)]('cx',String(_0x1383d0['x']+_0x1383d0[_0x17e9ea(0x20b)]+0x5)),_0x4e797a[_0x17e9ea(0x2b1)]('cy',String(_0x1383d0['y']+_0x1383d0['height']/0x2-0x5)),_0x4e797a[_0x17e9ea(0x2b1)]('r','5'),_0x4e797a[_0x17e9ea(0x2b1)](_0x17e9ea(0x518),_0x17e9ea(0x5a6)),_0x4e797a[_0x17e9ea(0x2b1)](_0x17e9ea(0x18e),'delete-svg-btn'),_0x4e797a['dataset'][_0x17e9ea(0xb61)]=_0x550f66,_0x11d5f7[_0x17e9ea(0x758)](_0x4e797a);}),_0xc2aa4d['addEventListener'](_0x4a7d89(0xa5f),startDrag),_0xc2aa4d[_0x4a7d89(0xda)]('mousemove',drag),_0xc2aa4d['addEventListener'](_0x4a7d89(0xeb),endDrag),_0xc2aa4d[_0x4a7d89(0xda)](_0x4a7d89(0x2de),endDrag),_0xc2aa4d[_0x4a7d89(0xda)](_0x4a7d89(0x9c5),startDrag,{'passive':![]}),_0xc2aa4d[_0x4a7d89(0xda)]('touchmove',drag,{'passive':![]}),_0xc2aa4d[_0x4a7d89(0xda)](_0x4a7d89(0x3d5),endDrag),_0xc2aa4d[_0x4a7d89(0xda)]('touchcancel',endDrag),_0xc2aa4d[_0x4a7d89(0xda)](_0x4a7d89(0x896),handleSvgEditClick);}}if(_0x468ee3)_0x468ee3[_0x4a7d89(0xa3d)]();}else{_0x23b698[_0x4a7d89(0xb6e)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x23b698['title']=_0x4a7d89(0x4b2);if(_0x468ee3){_0x468ee3[_0x4a7d89(0x34c)]=![];const _0x5aa4d0=_0x7cd285[_0x4a7d89(0x345)]||currentQuizData[_0x4a7d89(0x497)];_0x5aa4d0===_0x4a7d89(0x43c)?_0x7cd285[_0x4a7d89(0x283)]=_0x468ee3['innerText'][_0x4a7d89(0x6eb)](_0x468ee3[_0x4a7d89(0x45c)]['indexOf']('.')+0x2)['trim']():_0x7cd285[_0x4a7d89(0x16b)]=_0x468ee3[_0x4a7d89(0x45c)][_0x4a7d89(0x6eb)](_0x468ee3[_0x4a7d89(0x45c)][_0x4a7d89(0x7ba)]('.')+0x2)['trim']();}_0x529604&&(_0x529604[_0x4a7d89(0x34c)]=![],_0x7cd285[_0x4a7d89(0x94b)]=_0x529604[_0x4a7d89(0x45c)]);if(_0x40b21e){const _0x575b3e=_0x40b21e['querySelector'](_0x4a7d89(0x408));if(_0x575b3e){const _0x27ca05=_0x575b3e['cloneNode'](!![]);_0x27ca05[_0x4a7d89(0x9c4)](_0x4a7d89(0xa6b))[_0x4a7d89(0x501)](_0x105444=>_0x105444[_0x4a7d89(0x5b2)]()),_0x27ca05[_0x4a7d89(0x9c4)](_0x4a7d89(0x3be))[_0x4a7d89(0x501)](_0x42cdfd=>{const _0x33db0b=_0x4a7d89;_0x42cdfd[_0x33db0b(0xaa8)][_0x33db0b(0x5b2)]('draggable-text'),_0x42cdfd[_0x33db0b(0x3cb)][_0x33db0b(0x1d1)]=_0x33db0b(0x4f9),_0x42cdfd[_0x33db0b(0x738)]('id');}),_0x7cd285[_0x4a7d89(0x4b5)]=_0x27ca05[_0x4a7d89(0xa66)],_0x575b3e[_0x4a7d89(0x9d0)](_0x4a7d89(0xa5f),startDrag),_0x575b3e[_0x4a7d89(0x9d0)](_0x4a7d89(0x12f),drag),_0x575b3e[_0x4a7d89(0x9d0)]('mouseup',endDrag),_0x575b3e[_0x4a7d89(0x9d0)](_0x4a7d89(0x2de),endDrag),_0x575b3e['removeEventListener'](_0x4a7d89(0x9c5),startDrag),_0x575b3e[_0x4a7d89(0x9d0)]('touchmove',drag),_0x575b3e[_0x4a7d89(0x9d0)](_0x4a7d89(0x3d5),endDrag),_0x575b3e['removeEventListener'](_0x4a7d89(0x4e6),endDrag),_0x575b3e[_0x4a7d89(0x9d0)](_0x4a7d89(0x896),handleSvgEditClick),_0x575b3e[_0x4a7d89(0x9c4)](_0x4a7d89(0xa6b))[_0x4a7d89(0x501)](_0x46b650=>_0x46b650[_0x4a7d89(0x5b2)]()),_0x575b3e[_0x4a7d89(0x9c4)](_0x4a7d89(0x3be))[_0x4a7d89(0x501)](_0xd1a68d=>{const _0x497b0d=_0x4a7d89;_0xd1a68d['classList'][_0x497b0d(0x5b2)](_0x497b0d(0x1f6)),_0xd1a68d[_0x497b0d(0x3cb)]['cursor']=_0x497b0d(0x4f9);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x1847f0){const _0xfdf9b6=_0x470ff8,_0x43c420=document['getElementById'](_0xfdf9b6(0xacb)),_0x998ca1=document[_0xfdf9b6(0x8b2)]('quiz-editor-questions-container');_0x998ca1[_0xfdf9b6(0xb6e)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x43c420['classList'][_0xfdf9b6(0x5b2)]('hidden');try{const _0x2a46c9=doc(db,_0xfdf9b6(0x718)+appId+'/public/data/quizzes',_0x1847f0),_0x182e3c=await getDoc(_0x2a46c9);if(!_0x182e3c[_0xfdf9b6(0x811)]())throw new Error(_0xfdf9b6(0x238));currentEditingQuizData={'id':_0x1847f0,..._0x182e3c[_0xfdf9b6(0x79e)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x3ead00){console[_0xfdf9b6(0x6c4)](_0xfdf9b6(0x6f3),_0x3ead00),showMessage(_0xfdf9b6(0x9d5)),_0x43c420[_0xfdf9b6(0xaa8)][_0xfdf9b6(0x4de)](_0xfdf9b6(0x856));}}function renderQuizEditor(_0x27396c){const _0x136b89=_0x470ff8;document[_0x136b89(0x8b2)](_0x136b89(0x4c4))[_0x136b89(0x593)]=_0x27396c[_0x136b89(0x1bc)];const _0x52c1b2=document[_0x136b89(0x8b2)](_0x136b89(0xec));let _0x4820dd=_0x27396c['questions'][_0x136b89(0x6b7)]((_0x4e3543,_0x1bd428)=>{const _0x4aea80=_0x136b89;let _0xa3ffed='';const _0x5b070e=_0x4e3543[_0x4aea80(0x345)]||_0x27396c['quizType'];switch(_0x5b070e){case _0x4aea80(0x4a1):const _0x117fcc=(_0x4e3543[_0x4aea80(0xb6f)]||[])[_0x4aea80(0x6b7)]((_0x4019dc,_0x1fc9dc)=>_0x4aea80(0x41c)+_0x1bd428+_0x4aea80(0x43d)+_0x1fc9dc+'\x22\x20'+(_0x1fc9dc===_0x4e3543[_0x4aea80(0x5ad)]?'checked':'')+'\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x4019dc+_0x4aea80(0x194))[_0x4aea80(0x221)]('');_0xa3ffed=_0x4aea80(0x840)+_0x117fcc+_0x4aea80(0x7eb);break;case'short_answer':_0xa3ffed='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x4e3543['idealAnswer']||'')+_0x4aea80(0x1c1);break;case _0x4aea80(0x618):_0xa3ffed=_0x4aea80(0x24d)+_0x1bd428+_0x4aea80(0x70c)+(_0x4e3543[_0x4aea80(0x600)]===!![]?_0x4aea80(0x25a):'')+_0x4aea80(0x280)+_0x1bd428+'\x22\x20value=\x22false\x22\x20'+(_0x4e3543['correctAnswer']===![]?'checked':'')+_0x4aea80(0x118);break;case _0x4aea80(0x43c):_0xa3ffed='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x4e3543[_0x4aea80(0x198)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}const _0x18dc7c=_0x4e3543[_0x4aea80(0x16b)]||_0x4e3543['stem']||'';return _0x4aea80(0x726)+_0x1bd428+_0x4aea80(0x3b5)+_0x5b070e+'\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20'+(_0x1bd428+0x1)+'\x20('+_0x5b070e+'):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>'+_0x18dc7c+_0x4aea80(0x1b7)+_0xa3ffed+_0x4aea80(0x260);})['join']('');_0x52c1b2[_0x136b89(0xb6e)]=_0x4820dd,_0x52c1b2[_0x136b89(0x9c4)](_0x136b89(0x93d))['forEach'](_0x373e6a=>{const _0x422f85=_0x136b89;_0x373e6a[_0x422f85(0xda)](_0x422f85(0x896),handleAiFixQuestion);});}function _0x3ecd(){const _0x4c7486=['badges','ไม่พบข้อมูลโปรเจค','game-start-quiz-id','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Blueprint\x20O-NET\x20ป.6','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','incorrect','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','student-quiz-topic','จำนวนนักเรียน','กำลังอ่านและเตรียมไฟล์...','presentation-slide-container','visible','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','touches','Error\x20adding\x20topic:','analytics-tab-content','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','(^|[^\x5c\x5c])\x5cb','print','global-quiz-search-input','save-quiz-btn','#000000','Error\x20fetching\x20project\x20quizzes:','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','contains','removeItem','fix\x20the\x20option','\x20ตอบ','คัดลอกแบบทดสอบสำเร็จ','classList','ยังไม่สร้าง','#26890c','_opt0\x22>ใช่</label></div>','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','#D1FAE5','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','show_results_and_answers','transparent','passingScore','text-indigo-700','.generate-lesson-btn','manual_release','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','right','Error\x20saving\x20questions\x20to\x20practice\x20bank:','กำลังสร้างรูปภาพ...','score','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาพิมพ์คำตอบของกลุ่ม','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','temp-loader-text-results','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-modal-include-images-checkbox','ส่วนเบี่ยงเบนเฉลี่ย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dashboardConfig','questionStatus','Re-grade\x20process\x20failed:','\x22,\x20','เพิ่มหัวข้อ\x20\x22','quiz-editor-modal','text-indigo-600','export-pdf-btn','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','ยกเลิกการเชื่อมโยงสำเร็จ','scratchpad-modal','dataset','จำนวนข้อ:','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','shadowColor','bp-topic-list-container','modal-shuffle-select','พื้นที่สี่เหลี่ยม','request','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','close-student-rankings-btn','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','การบวกทศนิยม','สเกลและแผนที่','fromCharCode','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','สร้างคำถามแบบเติมคำในช่องว่าง','close-comparison-modal-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','starred','bg-green-50','subTopics','ระยะจากจุดถึงเส้นตรง','quiz-form','document','```','upperGroupNames','วงรี','commonMistakes','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','GlobalWorkerOptions','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','ถูกต้อง!','project-detail','from','thead\x20.sortable-header','live-player-list','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','localeCompare','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','/public/data/projects/','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','422460eprAvW','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','numQuestions','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','ความชันและเส้นตรง','results_','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จับคู่เพื่อเปรียบเทียบผล','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-question','cancel-quiz-settings-btn','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','$$$1$','practiceProblems','solution','Error\x20updating\x20old\x20quizzes:','$1\x20\x5cfrac','flex','parseFromString','\x20ชุดสำเร็จ!','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการลบนักเรียน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','push','globalSettings','<span\x20class=\x22sort-indicator\x20ml-2\x22>','mixed','lesson-view-content','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','.bp-live-btn','quiz','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','isRemedial','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','project-search-input','blueprint-topics-list','submit-group-answer-btn','modal-timer-mode-select','leq','confidence-scoring-checkbox','export-excel-btn','.answers','center','STRING','ก่อนเรียน','answered','Enter','ไม่พบข้อมูลเกม','บันทึกการตั้งค่าแล้ว','ไม่สามารถสร้างโปรเจคได้','both','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','per-q-countdown','.presentation-option','.project-card-container[data-id]','</div></div></div>','scores-tab-content','bg-gray-500','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการโหลดโปรเจค','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','สามเหลี่ยม\x20(ชนิด/สมบัติ)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','allResponses','isAdaptive','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','includeImages','groups','blueprint-project-list','เกิดข้อผิดพลาดในการติดดาว','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','overallGroups','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','show-in-student-dashboard-checkbox','wasConfident','text-yellow-300','duration-300','pointerType','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p><div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','comparison-overall-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จากเนื้อหาต่อไปนี้:\x20\x22','/public/data/projects','\x22\x20name=\x22confidence','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','text-blue-700','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','targetId','lesson-view-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','results-table-container','confident','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','confidence_single','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','.live-answer-btn','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','Failed\x20to\x20get\x20standardized\x20topic:','innerHTML','options','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','preScore','bg-red-200\x20text-red-800','editable-quiz-topic','.quiz-status-btn','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','change','.ai-fix-formula-btn','onclick','verify-answers-editor-btn','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','qIndex','สรุปผลสุดท้าย','เงินงวด\x20(อนุกรมเงินงวด)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','mean','timer-bar','start-sync-game-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','gameData','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','ส่งคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','รูปหลายเหลี่ยมและมุมภายใน','.delete-bp-project-btn','สมการเชิงเส้นตัวแปรเดียว','bg-emerald-100','analytics-tab-btn','manual-bp-content','confirm-game-start-btn','back-to-dashboard-from-bp-btn','pinnedProjects','คัดลอกไม่สำเร็จ','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','addEventListener','Error\x20saving\x20game\x20results:','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','Action:\x20View\x20existing\x20lesson.','คณิตศาสตร์','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','back-to-student-initial-btn','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','sort','http://www.w3.org/2000/svg','.unpair-quiz-btn','lesson-view-modal','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','หัวข้อที่สร้างเอง','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20quiz\x20edits:','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','mouseup','quiz-editor-questions-container','generated','slide-counter','quiz-results','เส้นตรง:\x20รูปแบบสมการ','.topic-name-input','trim','ชื่อโปรเจคห้ามว่าง','คำถามถัดไป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','.bp-create-onet-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quadraticCurveTo','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','fa-bolt\x20text-blue-500','quiz-end-time','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','behaviorLog','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','p-2\x20bg-black/10\x20rounded-md','topicName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','อัตราส่วนและสัดส่วน','postScore','มุมพิเศษ\x2030°-60°-90°','set','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','loop-until-pass-checkbox','isNormalTopic','</label></div>','arrayBuffer','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','jspdf','bulk-quiz-settings-modal','\x20</div>\x0a\x20\x20\x20\x20','next-sync-question-btn','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','max','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','passcode-prompt-message','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22>ใช่</p>','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','กรุณาเลือกโปรเจคที่ต้องการบันทึก','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','Error\x20processing\x20file\x20for\x20AI:','สร้างโปรเจคสำเร็จ!','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','<div><input\x20type=\x22radio\x22\x20id=\x22q','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','โดยให้อ้างอิงสไตล์และระดับความยากจากไฟล์ข้อสอบอ้างอิงที่แนบมาด้วย','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','text','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','quiz-bank-count','mousemove','คณิตการเงิน/บูรณาการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','ไม่มีผู้ตอบตัวเลือกนี้','.topic-selection-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','toLowerCase','next-question-timed-btn','blueprint-upload-input','grabbing','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','round','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','Error\x20updating\x20custom\x20topic:','shuffle-setting-select','promptFeedback','bp-modal-num-questions','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','select-all-topics-btn','confirm-confident','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','file-input-area','ราชาคัมแบ็ก','pointerdown','ยังไม่เต็มนะ','พบ\x20Sync\x20Game!','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','force-math-checkbox','Error\x20updating\x20quiz\x20status:',';\x22\x20data-id=\x22','เลือกและบันทึก','isStarred','#confidence-input-','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','แบบทดสอบ:\x20','**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','ฟังก์ชันกำลังสองและกราฟ','game-pin-input','parts','text-white','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','bg-green-200\x20text-green-900\x20font-bold','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำถามดิบ:\x20\x22','export-leaderboard-pdf-btn','\x20ข้อ...','undo-btn','bp-modal-question-complexity-select','file-upload-input','presentation-scratchpad-btn',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','startedAt','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','file-topics-list','questionText','auto','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจคนี้ทั้งหมด?','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','student-project-leaderboard-table-body','Error\x20during\x20class\x20analysis:','subTopic','half_mark_status','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0aเนื้อหาจากไฟล์ข้อสอบอ้างอิง:\x0a','Error\x20listening\x20for\x20projects:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','sync-short-answer-input','total','.start-game-btn','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','cancel-passcode-btn','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20editing\x20topic:','bg-red-50','check-answer-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','ไม่สามารถโหลดคลังข้อสอบได้','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','<button\x20id=\x22','true','scratchpad-controls','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','</p>','project-detail-view','Error\x20toggling\x20pin\x20status:','insertAdjacentHTML','กฎของไซน์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','class','.quiz-bank-item','players','quiz-leaderboard-table-body','.save-custom-topic-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#DBEAFE','timestamp','perfect_score_status','correctResponse','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','create-from-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','.ai-content\x20blockquote','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','กำลังสร้างบทเรียน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','create-project-modal','Error\x20deleting\x20all\x20students:','strength-weakness-analysis-container','text-red-700','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','setFont','แก้ไขสูตรคณิตศาสตร์\x20','/public/data/liveGames','destroy','mandatory','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','API\x20call\x20failed\x20with\x20status:\x20','pow','keydown','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','แบบทดสอบนี้หมดเวลาแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','Invalid\x20response\x20structure\x20from\x20AI.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','ระยะเวลา\x20(นาที):','stringify','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','องค์ประกอบของฟังก์ชัน','topic','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-compact-pdf-btn','date_desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getBBox','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','.start-presentation-list-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','<span\x20class=\x22font-bold\x20','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','ค่าเสื่อมราคา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','Error\x20saving\x20user\x20preference:','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','sync-player-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','cursor','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','.project-card-content','\x20to\x20blueprint\x20topic\x20','เกิดข้อผิดพลาดในการลบหัวข้อ','\x22>จาก:\x20','.isScored','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','หยุดระบบจับเวลาหรี่หน้าจอ','\x5cneq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','question-complexity-select','quizMode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','พบข้อสอบ\x20','Remedial\x20quiz\x20generation\x20failed:','student-passcode-input','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','scrollY','เกิดข้อผิดพลาดในการบันทึก','<div\x20class=\x22my-6\x22>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','label','จัดการ','-\x20ข้อ\x20','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getAttributeNS','whole_quiz','การแยกตัวประกอบ','Loaded\x20','msExitFullscreen','desc','ดีเทอร์มิแนนต์','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bp-modal-num-choices','draggable-text','API\x20Error\x20Body:','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','ARRAY','เรขาคณิตวิเคราะห์','update','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','text-blue-700\x20bg-blue-100','.linkedQuizIds','comparison-individual-content','confidence-choice-btn','quiz-search-input','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','ข้อ\x20','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','viewBox','bar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','topic-input-area','name','width','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การลบเศษส่วน','Error\x20loading\x20blueprint\x20projects:','submission','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','Copy\x20command\x20failed','generated-quiz-actions','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','replace','ระบบสมการเชิงเส้นสองตัวแปร','/public/data/teamQuizzes','[*]','move-quiz-modal','back-from-results-btn','ปิดใช้งาน','export-image-btn','afterend','\x20\x0a\x20\x20\x20\x20','lobby','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','join','การยืนยันตัวตนล้มเหลว','กราฟฟังก์ชันตรีโกณ','confirm-join-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','topic-tab','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','live-game-view','analytics-summary-cards','post-test','\x20หัวข้อ)','display','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','รายการนี้','.confidence-choice-btn','fill_in_with_choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','จุด\x20เส้น\x20ระนาบ','checkbox','applicationHTML','ไม่พบแบบทดสอบ','standard','screen','summaryContent','enable-passcode-checkbox','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-progress-view','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','classWeaknesses','question','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','</th>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','question-analytics-container','opacity','Error\x20creating\x20project:','abs','.admin-try-quiz-list-btn','ยังไม่มีนักเรียนส่งงาน','summary','แบบทดสอบที่ติดดาว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','webkitRequestFullscreen','loader','attempts','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','-tab-content','\x22.\x20Ideal\x20Answer:\x20\x22','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','ลบหัวข้อสำเร็จ','274192258111','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','\x20คะแนน\x20','\x5cpm','checked','parse','lowerGroupNames',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','</td></tr>','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','</div>\x0a</div>\x0a','#F59E0B','text-green-600','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','timer-duration-input','close-lesson-plan-modal-footer-btn','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','candidates','leaderboard-table-body','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','input','fill_in_the_blank','s;\x22\x20title=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','leaderboard_','sqrt','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','ตรวจคะแนนใหม่\x20','per-question-text','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','<p\x20class=\x22font-bold\x20text-sm\x20','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','manual-bp-grade-level','mainTopics','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถเพิ่มนักเรียนได้','getBoundingClientRect','Error\x20updating\x20project\x20name:','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stem','neq','\x20**[กฎเพิ่มเติมที่สำคัญที่สุด]:**\x20ต้องเน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','ยอดเยี่ยม','modal-passing-score-input','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','Failed\x20to\x20create/update\x20submission\x20record:','ระบบเลขและค่าประจำหลัก','\x22\x20name=\x22team_answer\x22\x20value=\x22','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','กรุณาเลือกสถานะ','cancel-manual-bp-btn','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','กรุณาเลือกชื่อของคุณ','bg-green-200\x20text-green-800','กำลังสร้างเนื้อหา:\x20','cancel-rename-quiz-btn','multiply','ไม่มี','export-worksheet-pdf-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','leaderboard-tab-content','shadowBlur','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','studentName','closePath','Error\x20unlinking\x20quiz:','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','\x20ครั้ง)</span></td>','พิมพ์ตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','ยอดเยี่ยม!','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้ภาษาที่เข้าใจง่าย\x20ใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','top','\x20ชุด)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','num-choices-container','numChoices','view-my-progress-btn','slice','setAttribute','/studentProfiles','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','pre-test','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','อยู่ในสาระการเรียนรู้ใด:','startTime','N/A','มัธยฐาน','trail-tool-btn','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','normal','ไม่ได้ตอบ','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','\x20คู่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20in\x20handleApiCall:','สัญกรณ์วิทยาศาสตร์','input[name=\x22drill_answer\x22]:checked','ลิมิต','border-red-300\x20bg-red-50','bg-green-500','สมการลอการิทึม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างห้องเกม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirmation-message','confidence-scoring-toggle','confidence-input-','.bp-edit-topic-btn','Error\x20generating\x20from\x20blueprint:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','select[name=\x22question_single\x22]','\x20\x20\x20-\x20คำตอบ:\x20','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','</button>','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','fullscreenchange','href','หน่วยมวล/น้ำหนักและการแปลง','แบบทดสอบนี้ปิดใช้งานอยู่','เปลี่ยนชื่อโปรเจคสำเร็จ','mouseleave','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','quiz-type-select','Error\x20unpairing\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.regenerate-question-editor-btn','.bp-generate-lesson-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','20707pZPdkz','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','highlighter','ดีมาก','scores','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','.group','อัปเดตสถานะสำเร็จ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','name_asc','.pen-color-btn','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','admin-password-input','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','Failed\x20to\x20generate\x20practice\x20test:','Error\x20saving\x20visibility\x20settings:','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','scratchpad-canvas','\x20สำเร็จ','topics.','live-race','loopUntilPass','เส้นรอบรูป','Error\x20regenerating\x20question\x20in\x20editor:','</span>','MathJax\x20typeset\x20error\x20(analytics):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','save-game-results-checkbox','text-gray-200','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','<svg','ฟังก์ชันเชิงเส้นและกราฟ','hover:bg-indigo-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','อุณหภูมิและการแปลง','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','เส้นตรง:\x20ขนาน/ตั้งฉาก','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','จำนวนและการดำเนินการ','cancel-quiz-bank-btn','cancel-test-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','ความเป็นอิสระของเหตุการณ์','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','projectName','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','highlighter-size-slider','project-name-input','Error\x20starting\x20game:','เกิดข้อผิดพลาดในการบันทึกลำดับ','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','bg-amber-100\x20text-amber-800','การเรียงสับเปลี่ยน\x20(Permutation)','name_desc','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','helvetica','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','confidence','contents','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','text/html','answers','binom','student-project-leaderboard-tab','quiz-leaderboard-table-container','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','pin','Error\x20generating\x20teaching\x20content:','.bp-try-btn','pairedQuizId','topic-quiz-bank-modal','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','กฎของโคไซน์','สำหรับโปรเจค:\x20','clientY','manual-create-blueprint-btn','questionType','confirm-create-project-btn','</select>','text-gray-300\x20hover:text-white','<tr>','.live-answer-btn,\x20#sync-submit-btn','ไม่พบข้อมูลผู้ใช้','contentEditable','manage-tab','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','blueprint-settings-modal','กลุ่ม:\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','.bp-game-btn','dfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','.bp-open-topic-bank-btn','originalTopic','onload','):\x20','topic-bank-list','modal-confidence-mode-container','dispatchEvent','.pdf','\x22\x20data-topic=\x22','next-drill-btn','delete-all-students-btn','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','isScored','getContext','instructions','leaderboard-quiz-tab-content','cancel-move-quiz-btn','points','Error\x20toggling\x20star\x20status:','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','.project-card-container.opacity-50','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','textarea[name=\x22question_single\x22]','Error\x20fetching\x20student\x20rankings:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','passcode-error-msg','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','approx','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','dimmed','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','#FEF3C7','summary_chart','results-display-select','confirmation-modal','check-presentation-answer-btn','แผนภาพกล่อง\x20(box\x20plot)','fadeStartTime','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ควรปรับปรุง','กิจกรรมสิ้นสุดลงแล้ว','\x20(สำหรับ\x20','1:274192258111:web:4120c9118229b5644dd48a','selectedTopicNames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','student-initial-view','แคลคูลัสเบื้องต้น','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','category','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','.summary-bar-item','ฟังก์ชันลอการิทึม','bp-modal-shuffle-setting-select','ref','#e21b3c','complexityValue','สถิติและความน่าจะเป็น','insertBefore','text-gray-700','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','bg-red-500\x20text-white\x20font-bold','topic-bank-subtopic-name','Error\x20fetching\x20projects\x20for\x20move:','Error\x20saving\x20manual\x20blueprint\x20project:','bp-add-topic-btn','</option>','กำลังโหลดคลังข้อสอบทั้งหมด...','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','submissions','comparison-individual-tab','scheduled_pending','now','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','คัดลอกรหัสแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','ผิด','confidence-mode-select','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','cancel-quiz-edits-btn-footer','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','อัปเดตแบบทดสอบเก่า\x20','Error\x20updating\x20quiz\x20settings:','disabled\x20bg-gray-400\x20cursor-not-allowed','split','\x20คะแนน</span></div>','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','#FFFFFF','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','\x22\x20data-q-type=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','แบบทดสอบซ่อมเสริม','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-submission-btn','</body></html>','offsetWidth','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.draggable-text','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','circ','random','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','bulk-shuffle-select','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','getDocument','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</li>','style','global-live-game-modal','เกิดข้อผิดพลาดในการบันทึกโปรเจค','sync-player-management','tfrac','modal-timer-duration-label','bg-green-100\x20font-bold','กำลังดึงข้อมูลจากลิงก์...','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','touchend','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','ใช่\x20/\x20ถูก','standardTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','\x20รายการ...','generated-quiz-container','ย้าย','.png','results-quiz-title','answerValue','admin-try-quiz-btn','บันทึกผลการเล่นเกมของ\x20','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','times','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-duration-input','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','สอบซ่อม','application','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','latestSubmittedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','sync-matching-select','active','-tab','.doc','การคูณ','answeredCurrentQuestion','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','findIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','createElementNS','เริ่มกิจกรรม:\x20','currentQuestionIndex','สร้างแล้ว','.delete-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard','mode','เกิดข้อผิดพลาดในการสร้างใบงาน','text-gray-500','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','cancel-export-pdf-btn','หมดเวลาสำหรับข้อนี้!','svg','totalQuestions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','เกิดข้อผิดพลาดในการส่งคำตอบ','size','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','showRankings','quick_thinker','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','line-through\x20text-red-700','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','การหาร','Error\x20adding\x20custom\x20topic:','tool','สู้ๆ\x20ลองอีกครั้งนะ','สรุปผลการวิเคราะห์:\x5cn','/public/data/syncGames','</strong></p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','อัตราและอัตราหน่วย','Error\x20deleting\x20submission:','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','matching','[data-topic-id]','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','ค่าสัมบูรณ์','th-TH','globalCompositeOperation','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','admin-password-modal','</tbody></table>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','การแจกแจงปกติและ\x20z-score','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','manual-blueprint-modal','#student-project-leaderboard-content\x20thead','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','pen-tools-group','.subTopic','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','show-results-btn','block','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','/public/data/blueprintProjects','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','matching_item','\x22\x20value=\x22','find','/public/data/customMathTopics','.cancel-edit-topic-btn','#math-topics-checkbox-container\x20input:checked','เส้นจำนวน','POST','presentation-explanation','parallel-test-upload-input','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','btn','</div></div>','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','ความน่าจะเป็นแบบมีเงื่อนไข','teachingContent','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','text-red-300\x20hover:text-red-100','Error\x20preparing\x20content\x20quiz:','bottom','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','q-text-','touchmove','student-quiz-leaderboard-content','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','generate-from-link-btn','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','live-short-answer-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','innerText','lesson-loader-text','topicId','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','project-passcode-modal','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isArray','textContent','ai-quiz-app-aefee','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','ยกเลิกการจับคู่สำเร็จ','\x20ใหม่...','ความชันเส้นสัมผัส','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','highlighter-size-value','.color-palette-btn','translate','แบบเติมคำตอบ','questionDisplayedAt','</tbody></table></div>','ผู้ไม่ยอมแพ้','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','not_generated','<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','ฟังก์ชันสัมพัทธ์\x20(rational)','scores-tab-btn','toLocaleString','Error\x20committing\x20score\x20updates:','members','สร้างชุดคำถามจับคู่','เกี่ยวกับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','student-quiz-leaderboard-tab','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','admin-view','entries','cancel-bp-settings-btn','กำลังเตรียมไฟล์ข้อสอบอ้างอิง...','\x27,\x20\x27','scheduled','hint-btn',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','ลบแบบทดสอบสำเร็จแล้ว','คำเตือน\x20(','.color-palette-popup','globalAlpha','<div\x20class=\x22flex-1\x22></div>','restore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','27411472','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','quizType','save-bp-settings-btn','G-V90KRM0L63','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','Error\x20deleting\x20quiz:','color','start-quiz-btn','dataIndex','confirm-team-players-btn','div','multiple_choice','admin-dashboard','shouldSaveResults','สลับไปโหมดนักเรียน','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','วงกลม:\x20คอร์ดและเส้นสัมผัส','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','การจัดกลุ่มข้อมูล','math-topic-search-input','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','กรุณาพิมพ์คำตอบ','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','แก้ไขข้อนี้','isFinished','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','imageCode','auto-fix-latex-btn','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','quiz-start-time','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอ่านไฟล์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','checkAnswer','stopPropagation','ฐานนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ring-purple-400','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','editor-quiz-topic','</p><p><strong>เฉลย:</strong>\x20','.verification-result-editor','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','bulk-quiz-settings-btn','การแจกแจงทวินาม\x20(พื้นฐาน)','open-global-live-btn','ดูผลสรุปสุดท้าย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการจับคู่','#6366F1','quiz-bank-modal','#FCE7F3','พาราโบลา','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเข้าร่วมเกม','สร้างใหม่','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(หลังเรียน)\x20','separate-by-content-checkbox','sin','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','add','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','title','Sync\x20Mode','project-passcode-input','createdAt','submittedAt','touchcancel','<i\x20class=\x22fas\x20fa-save\x22></i>','close-topic-bank-btn','setAttributeNS','พบ\x20Team\x20Quiz!','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนคละ','.mb-6.p-4','blueprint-tab','all','cancel-create-project-btn','65034IdPbFs','.live-answer-btn,\x20#live-submit-short-answer-btn','showImproveButton','per_question','delete','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','medium','reference-pdf-upload','default','Failed\x20to\x20generate\x20lesson:','manage-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','loader-text','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','การจัดหมู่\x20(Combination)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','forEach','playerName','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','ตารางความถี่','blueprint-projects-modal','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','Error\x20verifying\x20answers:','พื้นที่สามเหลี่ยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','upperGroupResponders','classStrengths','845991GgfcPz','bank-tab','null','เปลี่ยนชื่อแบบทดสอบสำเร็จ','ไม่พบแบบทดสอบในระบบเลย','projectOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill','\x20ข้อ\x20','#10B981','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','leaderboard-quiz-tab-btn','confirm-delete-btn','/public/data/quizzes','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','verify-answers-btn','ส่งแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','cancel-quiz-edits-btn','ชนิดของข้อมูลและการเก็บข้อมูล','on_fire','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','Error\x20analyzing\x20blueprint\x20topics:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','\x22\x20class=\x22color-palette-btn\x20','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','.delete-custom-topic-btn','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','clientX','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','<textarea\x20name=\x22question','student-list','<p><strong>คำตอบของคุณ:</strong>\x20','comparison-chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20โจทย์และตัวเลือกต้องมีลักษณะและความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','\x27\x20ในหัวข้อ\x20\x27','select','AI\x20ไม่สามารถประมวลผลข้อมูลได้','student','close-lesson-plan-modal-btn','<p\x20class=\x22','keyup','getScreenCTM','กรุณาวาง\x20URL\x20ของบทความก่อน','autoTable','bg-red-500','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','projectView','responses','players.','```json','save','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','projectId','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','.delete-project-btn','behavior-log-tab-btn','webkitExitFullscreen','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','Error\x20loading\x20user\x20preferences:','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','อนุพันธ์:\x20ผลคูณ/ผลหาร','bestScore','การวัด','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','list','num-questions','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','practice-topic-btn','<p\x20class=\x22text-xl\x22>','\x22\x20ออกจากคลังนี้?','pointerup','string','_opt0\x22\x20name=\x22question','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','.status','\x0a---\x0a','ไม่พบข้อมูลบทเรียนที่บันทึกไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','/questionBank','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กราฟแท่ง\x20กราฟเส้น','การนับ','แผนการสอน:\x20','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','</span></p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','student-progress','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27\x20','.bp-view-analysis-btn','.scratchpad-content-wrapper','goto-next-question-btn','mainTopic','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','_opt','เนื้อหาสำหรับสอน:\x20','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','lineJoin','appendChild','join-group-activity-btn','การคูณทศนิยม','original-mode-checkbox','298543YCZxlm','point','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','timed',',\x20r=','rename-quiz-modal','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','.pointsLastQuestion','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','value','Error\x20saving\x20project\x20order:','</span></td>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','input[name=\x22question_single\x22]:checked','ลำดับเลขคณิต\x20(AP)','สร้างแบบทดสอบ','q-explanation-','badgesCount','การหารทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show-leaderboard-btn','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','perQuestionStats','target','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','red','next-question-btn','tan','การหารเศษส่วน','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','correctAnswerIndex','\x20mx-1\x20text-lg\x22></i></span>','td,\x20th','topics','ownerSVGElement','remove','\x22\x20class=\x22delete-project-btn\x20','open-sync-scratchpad-btn','ดอกเบี้ยทบต้น','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','test','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','สร้างคำถามแบบใช่/ไม่ใช่','student-quiz-area','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ai-quiz-app-aefee.firebasestorage.app','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','student-rankings-modal','generate-from-file-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20starting\x20group\x20quiz:','\x20คนที่ส่ง\x20ตอบถูก\x20(','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','include-images-checkbox','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','justification','ทำคะแนนเต็มในการทำครั้งแรก','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','student-project-leaderboard-content','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','finishReason','lastAnswerCorrect','ยังไม่ส่ง','ตรีโกณมิติ','นำแบบทดสอบออกจากคลังนี้แล้ว','modal-adaptive-quiz-checkbox','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','\x0a\x20\x20\x20\x20\x20\x20</div>','ไฮเพอร์โบลา','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','removeChild','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','<br>','กำลังค้นหากิจกรรม...','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','behavior-log-tab-content','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','fa-fire\x20text-orange-500','.question-editor-item','text-green-700\x20bg-green-100','<option\x20value=\x22','onerror','ปริมาตรรูปทรงสามมิติ','createElement','ai-quiz-generator-v3','user','#ffffff','rows','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','far\x20fa-star','cdot','Leaderboard\x20update\x20transaction\x20failed:\x20','timer-duration-label','Error\x20starting\x20team\x20quiz:','move-quiz-project-select','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20กลุ่ม</p></div>','manage-players-btn','first_try_ace','bg-purple-50','ไม่สามารถเริ่มเกมได้','empty','correctAnswer','การบวกเศษส่วน','quiz-leaderboard-table','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','<div\x20class=\x22p-2\x20rounded-md\x20','students','บันทึกโปรเจค\x20\x22','translate(','confirm-game-start-modal','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','then','รูปสแควร์รูท\x20(surd)','save-visibility-settings-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','quiz-status-modal','6IveiuK','.quiz-bank-delete-btn','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','Authentication\x20failed:','project-title','\x20/\x20','mouse','Not\x20called\x20from\x20Blueprint\x20or\x20no\x20temp\x20settings.\x20Using\x20main\x20project\x20settings.','true_false','อินเวอร์สของเมทริกซ์','\x20in\x20all\x20blueprint\x20projects.','none','gradeLevel','AI\x20request\x20was\x20blocked.\x20Reason:\x20','text-tab','สลับไปโหมดผู้ควบคุม','.correct-response-input','\x20(ID:\x20','questions','<li>','<p\x20class=\x22text-2xl\x22>','.csv','เรขาคณิต','Error\x20updating\x20project\x20color:','confirm-link-quiz-btn','</form>','จำนวนเต็มลบ','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','move','timer-container','quiz-settings-modal','<tr\x20class=\x22','00:00','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','.answered','\x5csqrt{$1}','\x20(p=','comparison-overall-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','log','.highlighter-color-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','ไม่สามารถบันทึกการตั้งค่าได้','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','confidence-mode-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20แบบทดสอบลงในคลังสำเร็จ!','.pair-quiz-btn','student-join-game-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','undefined','Error\x20submitting\x20group\x20answer:','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','export-lesson-pdf-btn','memoryContent','(ก่อนเรียน)','passcode','Successfully\x20removed\x20','export-word-btn','ไม่สามารถโหลดรายการโปรเจคได้','เพิ่ม\x20','/submissions','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27\x20ในส่วน\x20\x27MEMORY\x27\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','game-start-modal-title','\x22.\x20','confirm-move-quiz-btn','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','/users/','groups.','\x5cle','quizId','bulk-confidence-scoring-checkbox','opacity-50','preTScore','Error\x20analyzing\x20file\x20for\x20topics:','ร้อยละพื้นฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','Error\x20showing\x20quiz\x20detail\x20view:','กรุณาเลือกคำตอบของกลุ่ม','transform','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','Error\x20displaying\x20question\x20bank:','thead','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนคู่:','รากที่สองและที่สาม','การลบทศนิยม','/public/data/practiceBank','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','generate-from-blueprint-btn','_blank','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','getTextContent','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การประยุกต์เวกเตอร์พื้นฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','temp-loader-results','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','description','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','modal-results-display-select','AI\x20แก้ไขคำถามสำเร็จ!','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','no-projects-msg','rgba(255,\x20255,\x200,\x200.5)','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','ไม่ใช่','not_confident','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-game','admin-testing','text-green-800','catch','กรุณาป้อนหัวข้อสำหรับใบงาน','toISOString','game-start-mode','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','progress-student-select','typesetPromise','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','อสมการค่าสัมบูรณ์','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20saving\x20blueprint\x20project:','teacherSuggestions','generate-worksheet-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','AI\x20Formula\x20Fix\x20Error:','responseSchema','get','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','ไม่ระบุ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','hint','</span><span\x20class=\x22font-bold\x22>','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','not-found','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','ค่าคลาดเคลื่อนของการวัด','isPinned','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','bg-green-200\x20text-green-900','text-yellow-800','tooltipTarget','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','/preferences/main','status','offset','.quiz-bank-try-btn','<h1></h1>','map','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','student-result-area','\x20link(s)\x20for\x20quiz\x20ID:\x20','.topic-actions-edit','.score','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','save-project-name-btn','สร้างคำถามใหม่\x201\x20ข้อ\x20','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','blueprint-topics-list-container','เรเดียนและการแปลงหน่วย','createdBy','error','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','\x20mb-2\x22>','.ai-content\x20h3','\x20\x20\x20-\x20','Error\x20listening\x20for\x20starred\x20quizzes:','quiz-results-view','text-blue-800','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตรวจพบการออกจากหน้าจอครบ\x20','pointercancel','disabled','back-to-home-manual-release','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','fas\x20fa-bookmark','<p>','results-tab-content','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','\x22\x20name=\x22drill_answer\x22\x20value=\x22','numPages','save-quiz-edits-btn','modal-confidence-mode-select','บทเรียนเรื่อง:\x20','selected-topics-count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','การสร้างรูปด้วยวงเวียน–สันตรง','strokeStyle','preTestId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Action:\x20Create\x20Standard\x20Quiz\x20from\x20Content.','rgba(79,\x2070,\x20229,\x200.8)','mjx-container','prev-question-btn','save-settings-btn','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลบโปรเจคสำเร็จแล้ว','พีชคณิตและฟังก์ชัน','questions_only','substring','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','0\x200','[data-topic-container-id]','หมดเวลา!\x20กำลังส่งคำตอบ...','lineCap','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','ถูก','Error\x20opening\x20quiz\x20editor:','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','.answeredCurrentQuestion','การบวก','confidence-modal','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comeback_king','generate-from-parallel-test-btn','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','isConfidenceScoringEnabled','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','project-list','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อยู่ในหัวข้อหลักใด:','quiz-results-table-body','Error\x20starting\x20live\x20race:','.ideal-answer-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','handleGenerateAndShowLesson','[data-topic-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','\x22\x20value=\x22true\x22\x20','BOOLEAN','input[type=\x22checkbox\x22]','answer-grid-container','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','<button\x20data-value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','cancel-admin-login-btn','fa-crown\x20text-yellow-500','setTransform',':</span><span>','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','artifacts/','projectSort','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','บันทึกการตั้งค่าสำเร็จ','promise','\x5cfrac{$1}{$2}','ย้ายแบบทดสอบไปโปรเจคอื่น','เมทริกซ์:\x20บวก/คูณ','answer-counter','\x22><p\x20class=\x22font-semibold\x22>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','moveTo','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','ตอบถูกทุกข้อในแบบทดสอบนี้','timerMode','answer','redo-btn','interesting-stats-wrapper','หัวข้อหลักใหม่','visibilitychange','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lesson-plan-title','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','กรุณาใส่ชื่อใหม่','retake-quiz-loop-btn','เกิดข้อผิดพลาดในการเปลี่ยนสี','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','confirm-global-live-btn','/public/data/learnedFixes','removeAttribute','submit-team-answer-btn','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','เลือกและเริ่มสร้าง','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','source-over','input[type=\x22radio\x22][value=\x22','ไม่พบข้อมูลการจับคู่','link-url-input','modal-timer-duration-container','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','text-purple-600','results-quiz-id-display','bp-modal-passing-score-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','bulk-confidence-mode-container','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','generate-from-topic-btn','Error\x20generating\x20from\x20link:','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','toFixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','#retake-for-improvement-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','splice','textarea','preventDefault','pointsLastQuestion','after','behavior-log-container','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','reduce','save-blueprint-as-project-btn','prod','link-topic-input','getItem','link-tab','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','substr','finished','blueprint-options-container','ไม่ใช่\x20/\x20ผิด','Error\x20moving\x20quiz:','passing-score-input','ฟังก์ชันราก\x20(root)','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','text-red-700\x20bg-red-100','ตรวจทานเฉลยเสร็จสิ้น!','blueprint-project-manager-view','idealAnswer','match','ลบโปรเจคสำเร็จ','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','learningGaps','commit','hasPerfectScoreBonus','bg-green-100','เกิดข้อผิดพลาดในการนำผู้เล่นออก','totalPoints','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','content','toString','comparison-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','add-custom-math-topic-btn','Failed\x20to\x20get\x20hint:','%</span>','Error\x20starting\x20sync\x20game:','กำลังสร้างแบบทดสอบ\x20\x22','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','analyze-strengths-btn','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','ON_FIRE','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','cos','modal-loop-until-pass-checkbox','รอเปิด','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','fa-rocket\x20text-purple-500','student-view','padStart','แบบทดสอบจากคลังส่วนตัว','currentTarget','data:application/vnd.ms-word;charset=utf-8,','tGain','blueprint-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','qType','โดเมนและเรนจ์','className','.copy-quiz-id-list-btn','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','resize','(ฉบับง่าย)\x20','data','baseVal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','onchange','height','global-live-game-count','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','pointContent','.pin-project-btn','querySelector','<option>กำลังโหลดโปรเจค...</option>','Error\x20renaming\x20quiz:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fix-lesson-latex-btn','แบบปรนัย\x204\x20ตัวเลือก','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','กำลังสร้างคำถามข้อ\x20','.toggle-actions-btn','.edit-question-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','หน่วยความยาวและการแปลง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','พิสัย','bg-blue-100','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','indexOf','.edit-custom-topic-btn','text-green-600\x20font-bold','px,\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','json','Failed\x20to\x20resume\x20game\x20session:','ring-2','devicePixelRatio','.quiz-bank-settings-btn','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','score-distribution-chart','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','shuffledQuiz','lesson-loader','scratchpad-close-btn','fixedData','สมการราก\x20(radical)','.export-pdf-list-btn','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','image/png','sync-manage-players-btn','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','closest','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start-presentation-btn','stroke','projectSortOrder','min','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ผ่านฉลุย','has','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สมมาตร\x20(แกน/จุด)','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','show_pass_fail_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','back-to-dashboard-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','fa-pen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','file-topics-list-container','podium','num-choices','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','ฟังก์ชันแบบชิ้นส่วน','COMEBACK_KING','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_opt1\x22\x20name=\x22question','confirm-quiz-status-btn','\x20**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','generate-from-text-btn','text-red-800','leaderboard-tab','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','ลำดับการดำเนินการ\x20(PEMDAS)','short','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','blockReason','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','bulk-loop-until-pass-checkbox','lesson-plan-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','bg-red-100','values','fa-shield-alt\x20text-gray-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เศษส่วน\x20(ย่อ/ขยาย)','perfect_score','เกิดข้อผิดพลาดในการลบแบบทดสอบ','message','text-red-500\x20hover:text-red-700','เกิดข้อผิดพลาดในการปักหมุด','timer-mode-select','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','toDate','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','exists','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','ฟังก์ชันพหุนาม','student-progress-content','พื้นที่ใต้กราฟ/ระหว่างกราฟ','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','รูปสี่เหลี่ยมและสมบัติ','canvas','Error\x20deleting\x20student:','.question-editor-item[data-q-index=\x22','icon','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20worksheet:','</h4>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','MathJax','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','มุมพิเศษ\x2045°-45°-90°','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','curriculum','เกิดข้อผิดพลาดในการลบ','\x22\x20class=\x22pin-project-btn\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','cancel-global-live-btn','firstScore','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ผ่าน','project-quizzes-list','#student-quiz-leaderboard-content\x20thead','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shuffleSetting','แก้ไขหัวข้อสำเร็จ','Error\x20confirming\x20players\x20for\x20sync\x20game:','(คู่ขนาน)\x20','border-indigo-400\x20ring-2\x20ring-indigo-200','ที่พิมพ์ได้\x20จำนวน\x20','rgba(59,\x20130,\x20246,\x200.7)','player-count','API\x20call\x20failed','<div\x20class=\x22loader\x20mx-auto\x22></div>','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','manage','Error\x20linking\x20quizzes:','Error\x20generating\x20hybrid\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','\x20รายการ\x20สำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','Error\x20generating\x20parallel\x20test\x20from\x20bank:','authed_project_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','label[for=\x22num-questions\x22]','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','NUMBER','activeGameSession','currentMode','\x5ctimes','trail','Attempting\x20to\x20save\x20game\x20results...','open','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','readAsText','.quiz-settings-btn','hidden','project-sort-select','ท็อปฟอร์ม','ข้อต่อไป','Error\x20generating\x20easy\x20version\x20quiz:','ไม่พบข้อมูลแบบทดสอบ','ฟังก์ชันผกผัน','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','isPasscodeEnabled','เวกเตอร์และเมทริกซ์\x20(เสริม)','input[name=\x22team_player\x22]:checked','.quiz-bank-move-btn','join-live-game-btn','beginPath','ทศนิยม\x20(ค่าประจำหลัก)','bg-yellow-100','copy','some','difficulty-level-select','option','bg-gray-50','Error\x20submitting\x20team\x20answer:','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','ไม่ผ่าน','input[type=\x22text\x22]','.ai-content\x20p','fas\x20fa-user-edit','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','ดอกเบี้ยอย่างง่าย','border-gray-200','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','<li\x20class=\x22','timerDuration','back-to-results-btn','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','text-content-input','asc','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','text/csv;charset=utf-8;','confirm-bulk-quiz-settings-btn','bank-quiz-search-input','ยืนยันการจับคู่','OBJECT','quiz-id-input','\x20จาก\x20','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','player-list-lobby','.rename-quiz-btn','FileReader\x20error:','</p></div>','analytics','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','presentation-ai-result','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','Test\x20Blueprint','เปิด\x20(จับเวลา)','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','settings','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','.lastAnswerIndex','click','reveal-answer-btn','answerText','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','gain','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','ไม่พบโปรเจค','export-leaderboard-excel-btn','rgba(239,\x2068,\x2068,\x200.7)','text-gray-100','bank-input-area','-options','eraser','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-pdf-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','#results-table','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','QUICK_THINKER','separate-by-content-from-file-checkbox','lastAnswerIndex','confidenceMode','.application-options\x20button','ไม่มีคำอธิบาย','applicationContent','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','getElementById','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','parallel-test-input-area','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','input[type=\x22radio\x22]:checked','ความสัมพันธ์ของมุม','bg-red-100\x20text-red-800','AI\x20Fix\x20Error:','\x20ตัวเลือก.\x20','API\x20Error\x20Response:','underline','bank-quiz-list','<div\x20class=\x22answer-space\x22></div>','live-submit-short-answer-btn','confidence-scoring-description','close-presentation-btn','false','ยืนยันการกระทำ','<button\x20data-quiz-id=\x22','.project-card-container','เกิดข้อผิดพลาด:\x20','selected-answer-index-hidden','cancel-game-start-btn','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','กรุณาใส่ชื่อโปรเจค','(ไม่มีชื่อ)','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','bp-modal-quiz-type-select','<div\x20id=\x22q-image-container-','confirm-passcode-btn','teacherTips','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','bp-project-title','Action:\x20Create\x20topic-based\x20Quiz.','topic-input','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','bg-black/10','ไม่พบข้อมูลข้อสอบหลังเรียน','fas\x20fa-star\x20text-yellow-500','file-topic-input','highlighter-tools-group','filter','สมการตรีโกณมิติ','input[type=\x22checkbox\x22]:checked','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','leaderboard-quiz','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','visibilityState','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','border-green-700','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','exitFullscreen','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','#E0E7FF','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','Error\x20joining\x20sync\x20game:','floor','รหัสไม่ถูกต้อง','#results-table\x20thead\x20tr','กำลังสแกนหาแบบทดสอบเก่า...','\x5ccdot','index','สมการเหตุผล\x20(rational)','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','ยืนยันและอัปเดตทั้งหมด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','results-table','ค.ร.น.\x20(LCM)','close','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.star-quiz-btn','submit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','\x22\x20สำเร็จ!','body','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','end-sync-game-btn','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','pinned-items','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','.quiz-result-card','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','.sortable-header','release','show_results_only','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','group','Error\x20joining\x20team\x20quiz:','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','upper_group_count',')\x22>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','behavior-log','worksheet-input-area','_opt1\x22>ไม่ใช่</label></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','grid','close-lesson-view-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','type','scratchpad-options','reset-project-order-btn','#F3E8FF','generationConfig','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20','lesson-sections-container','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','ระยะทางและจุดกึ่งกลาง','.pen-size-btn','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','<div\x20class=\x22space-y-4\x22>','left','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','\x5csum','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','questionId','\x22\x20data-name=\x22','.submittedAt','.ai-fix-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','bg-green-100\x20text-green-800','#E5E7EB','lesson-plan-modal','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','number','worksheet-topic-input','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกโปรเจคปลายทาง','เกิดข้อผิดพลาดในการลบผลสอบ','NEGATIVE_INFINITY','explanation','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</div><div\x20class=\x22space-y-2\x22>','กรุณากรอกข้อมูลให้ครบทุกช่อง','fullscreenElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','write','\x20ตัวเลือก)','eraser-tool-btn','\x22\x20ให้เป็นคำถามประเภท\x20\x22','791858sHpTgT','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(เลือกแล้ว\x20','parentElement','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','resultsDisplay','Error\x20deleting\x20project:','main-correct-answer-display','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','code','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','.generate-content-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','824kAsqMr','questionIndex','การกระจายและการจัดหมู่','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','Error\x20resetting\x20project\x20order:','confirm-not-confident','modal-confidence-scoring-checkbox','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','Invalid\x20response\x20structure\x20from\x20API.','table','.regenerate-question-btn','pop','responses.','drop','ใช่','results-tab','ฟังก์ชันค่าสัมบูรณ์','ทำคะแนนได้เกินครึ่ง','confirm-manual-bp-btn','correct','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','applicationData','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','showInStudentDashboard','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','beforeend','กรุณาเลือกโปรเจคก่อน','raw','ลำดับเรขาคณิต\x20(GP)','sum','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','แบบทดสอบฝึกฝนเรื่อง:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','kick-player-btn','confirm-rename-quiz-btn','isCorrect','latestScore','specialist','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','แผนภาพเวนน์','topic_',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','deltaY','live-player-management','items','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','team','Failed\x20to\x20kick\x20player\x20','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.lessonContent','\x5cge','sync','load-quiz-btn','answering','back-to-student-home-btn','ทฤษฎีบทพื้นฐานของแคลคูลัส','suggestedAnswer','</div>','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20generating\x20from\x20parallel\x20test\x20file:','[data-field=\x22subTopic\x22]','short_answer','math-topics-checkbox-container','\x22...','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</span></div>','#view-rankings-btn','length','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','div[data-question-index=\x22','team-student-list','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','ความแปรปรวน','confirm-quiz-settings-btn','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','parseInline','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คะแนนเฉลี่ย','lowerGroupResponders','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','start-game-btn','querySelectorAll','touchstart','\x22\x20จำนวน\x20','readAsDataURL','earned-badges-container','กรุณาสร้างบทเรียนก่อน','Error\x20joining\x20activity:','Team\x20Quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','global-quiz-list','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','rename-quiz-input','removeEventListener','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','button','student-quiz-leaderboard-table-body','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','.topic-name-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไม่พบแบบทดสอบสำหรับรหัสนี้','admin','button[type=\x22submit\x22]','inactive','Error\x20adding\x20students:','Error\x20fetching\x20quiz\x20settings:','fill_in_no_choices','position','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','copy-quiz-id-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','ai-quiz-app-aefee.firebaseapp.com','wakeLock','text-red-600','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','pointermove','2-digit','password-error-msg','Failed\x20to\x20end\x20group\x20mode\x20game:','bp-modal-difficulty-level-select','\x20quizzes\x20into\x20global\x20cache.','บันทึกคำถามใหม่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20grading\x20failed:','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','sara','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shuffle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','quiz-generation-area','results','grid-view-btn','\x20|\x20','key','fixed','toDataURL','endTime','ชื่อหัวข้อห้ามว่าง','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','student-name-selection-view','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','comparison','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ceil','submission-status-chart','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','.bp-present-btn','แก้ไขชื่อหัวข้อย่อย:','warn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','.\x20แต่ละข้อมี\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','every','กำลังสร้างแบบทดสอบจากหัวข้อ...','font-bold\x20text-green-700','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passcode-input-container','student-team-join','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','สำหรับหัวข้อ\x20\x27','smooth','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','live-options-container','workerSrc','docs','setItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','lower_group_count','application/json','student-name-select','toggle','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','หน่วยเวลาและการคำนวณเวลา','student-team-selection-view','numeric','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-header','originalQuestionText','MathJax\x20re-render\x20failed:','เพิ่มรายการที่เลือก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','1646345dYxemL','update-old-quizzes-btn','per-question-options','Error\x20pairing\x20quizzes:','text-emerald-900','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','bulk-results-display-select','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','ไม่พบตารางสำหรับ\x20Export','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','focus','cancel-team-selection-btn','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','mode-switcher-btn','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','<p><strong>คำตอบที่แนะนำ:</strong>\x20','open-scratchpad-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','createObjectURL','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','Error\x20updating\x20pin\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','PERFECT_SCORE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','uid','perseverance','/public/data/quizzes/','close-game-final-btn','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','ดอทโปรดักต์\x20(dot)','.quiz-bank-checkbox:checked','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','includes','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','message-modal','แก้ระบบสมการด้วยเมทริกซ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','.live-summary-tooltip.visible','\x22\x20name=\x22question_single\x22\x20value=\x22','mousedown','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','ความคาดหมาย\x20(Expected\x20value)','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','circle','.bp-unlink-quiz-btn','outerHTML','keys','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','back-to-project-btn','ผู้ควบคุม\x20(ทดสอบ)','.delete-svg-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','keyConcepts','hasOwnProperty','manual-bp-project-name','ระยะเวลา\x20(วินาที):','startsWith','msRequestFullscreen','gamePin','STOP','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cdiv','pen','files','Called\x20from\x20Blueprint\x20page.\x20Using\x20temporary\x20settings.','.edit-quiz-btn','adaptive-quiz-checkbox','toLocaleDateString','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','linkedQuizIds','Error\x20clearing\x20linked\x20quiz:','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','lessonContent','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','download','\x20ชุด)</span>'];_0x3ecd=function(){return _0x4c7486;};return _0x3ecd();}async function handleAiFixQuestion(_0x340ed1){const _0x280c32=_0x470ff8,_0x280409=_0x340ed1[_0x280c32(0x791)],_0xc31afc=_0x280409[_0x280c32(0x7d2)](_0x280c32(0x5e8));if(!_0xc31afc)return;const _0x5f3163=parseInt(_0xc31afc[_0x280c32(0xad1)]['qIndex'],0xa);if(isNaN(_0x5f3163)||!currentEditingQuizData['questions'][_0x5f3163]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x161d81=currentEditingQuizData['questions'][_0x5f3163];_0x280409['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x280409[_0x280c32(0x6cf)]=!![];const _0x33b389=_0x280c32(0x6dc)+JSON['stringify'](_0x161d81)+_0x280c32(0x59e);let _0x4a14f0;const _0x515a79=_0x161d81[_0x280c32(0x345)]||currentEditingQuizData['quizType'];switch(_0x515a79){case _0x280c32(0x9af):_0x4a14f0={'type':_0x280c32(0x882),'properties':{'questionText':{'type':_0x280c32(0xb2a)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x280c32(0xb2a)},'imageCode':{'type':_0x280c32(0xb2a)}},'required':[_0x280c32(0x16b),'idealAnswer',_0x280c32(0x94b)]};break;case'multiple_choice':default:_0x4a14f0={'type':'OBJECT','properties':{'questionText':{'type':_0x280c32(0xb2a)},'options':{'type':'ARRAY','items':{'type':_0x280c32(0xb2a)}},'correctAnswerIndex':{'type':_0x280c32(0x84b)},'explanation':{'type':_0x280c32(0xb2a)},'imageCode':{'type':'STRING'}},'required':[_0x280c32(0x16b),'options',_0x280c32(0x5ad),'explanation']};break;}try{let _0x19d05a=await callAnalysisApi(_0x33b389,_0x4a14f0);_0x19d05a[_0x280c32(0xb6f)]&&Array[_0x280c32(0x463)](_0x19d05a[_0x280c32(0xb6f)])&&(_0x19d05a[_0x280c32(0xb6f)]=_0x19d05a[_0x280c32(0xb6f)][_0x280c32(0x6b7)](_0x163fd6=>typeof _0x163fd6===_0x280c32(0x562)?_0x163fd6[_0x280c32(0x214)](/S(\s*[\d_]+?\s*)S/g,_0x280c32(0xb09)):_0x163fd6)),_0x161d81[_0x280c32(0x4b5)]&&_0x161d81[_0x280c32(0x4b5)]['includes'](_0x280c32(0xaa5))&&(_0x19d05a[_0x280c32(0x4b5)]=''),currentEditingQuizData[_0x280c32(0x622)][_0x5f3163]={..._0x161d81,..._0x19d05a},renderQuizEditor(currentEditingQuizData),showMessage(_0x280c32(0x682));}catch(_0x55f495){console[_0x280c32(0x6c4)](_0x280c32(0x8b9),_0x55f495),showMessage(_0x280c32(0x73b)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x244b56=_0x470ff8,_0x29158d=document[_0x244b56(0x8b2)]('save-quiz-edits-btn');_0x29158d['disabled']=!![],_0x29158d['innerHTML']=_0x244b56(0x474);try{const _0x7f6cc7=document['getElementById'](_0x244b56(0x4c4))['value'],_0xa10ba4=document['querySelectorAll']('.question-editor-item');let _0x487f31=[];const _0x4bd05c=Array[_0x244b56(0xaf3)](_0xa10ba4)[_0x244b56(0x6b7)]((_0x586c4e,_0x3ebaa6)=>{const _0x2d4872=_0x244b56,_0x100c41=_0x586c4e[_0x2d4872(0xad1)]['qType'],_0x30ef5d=_0x586c4e[_0x2d4872(0x7a8)](_0x2d4872(0x755))[_0x2d4872(0x593)][_0x2d4872(0x214)](/\n/g,_0x2d4872(0x5e1));let _0x971716={'questionType':_0x100c41};const _0x4d54a1=currentEditingQuizData[_0x2d4872(0x622)][_0x3ebaa6];switch(_0x100c41){case _0x2d4872(0x4a1):_0x971716['questionText']=_0x30ef5d;const _0x5ad720=_0x586c4e[_0x2d4872(0x9c4)](_0x2d4872(0x870));_0x971716[_0x2d4872(0xb6f)]=Array[_0x2d4872(0xaf3)](_0x5ad720)[_0x2d4872(0x6b7)](_0x46f619=>_0x46f619[_0x2d4872(0x593)]);const _0x39ddc4=_0x586c4e['querySelector'](_0x2d4872(0x8b6));_0x971716[_0x2d4872(0x5ad)]=_0x39ddc4?parseInt(_0x39ddc4[_0x2d4872(0x593)]):0x0;break;case _0x2d4872(0x9af):_0x971716['questionText']=_0x30ef5d,_0x971716[_0x2d4872(0x76e)]=_0x586c4e['querySelector'](_0x2d4872(0x705))[_0x2d4872(0x593)];break;case'true_false':_0x971716[_0x2d4872(0x16b)]=_0x30ef5d;const _0x2bba0d=_0x586c4e[_0x2d4872(0x7a8)](_0x2d4872(0x8b6));_0x971716[_0x2d4872(0x600)]=_0x2bba0d?_0x2bba0d[_0x2d4872(0x593)]==='true':!![];break;case'matching_item':_0x971716[_0x2d4872(0x283)]=_0x30ef5d;const _0x207c2b=_0x586c4e['querySelector']('.correct-response-input');_0x971716[_0x2d4872(0x198)]=_0x207c2b?_0x207c2b[_0x2d4872(0x593)]:'',_0x487f31['push'](_0x971716[_0x2d4872(0x198)]);break;default:_0x971716[_0x2d4872(0x16b)]=_0x30ef5d;break;}return{..._0x4d54a1,..._0x971716};});_0x487f31[_0x244b56(0x9b5)]>0x0&&_0x4bd05c[_0x244b56(0x501)](_0x56d9a4=>{const _0x24aefa=_0x244b56;_0x56d9a4[_0x24aefa(0x345)]===_0x24aefa(0x43c)&&(_0x56d9a4['allResponses']=_0x487f31);});const _0x4589e3=currentEditingQuizData['id'],_0xec44e4=doc(db,_0x244b56(0x718)+appId+_0x244b56(0x51f),_0x4589e3);await updateDoc(_0xec44e4,{'topic':_0x7f6cc7,'questions':_0x4bd05c}),document[_0x244b56(0x8b2)](_0x244b56(0xacb))[_0x244b56(0xaa8)][_0x244b56(0x4de)](_0x244b56(0x856)),showMessage(_0x244b56(0xa41),()=>initiateReGradeProcess(_0x4589e3));}catch(_0x57df56){console[_0x244b56(0x6c4)](_0x244b56(0xe9),_0x57df56),showMessage(_0x244b56(0x1e5));}finally{_0x29158d[_0x244b56(0x6cf)]=![],_0x29158d[_0x244b56(0xb6e)]=_0x244b56(0x5ab);}}async function initiateReGradeProcess(_0x335f6c){const _0x9a8662=_0x470ff8;showMessage('กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่');try{const _0x3a7c52=doc(db,_0x9a8662(0x718)+appId+'/public/data/quizzes',_0x335f6c),_0x1cc50f=await getDoc(_0x3a7c52);if(!_0x1cc50f[_0x9a8662(0x811)]())throw new Error(_0x9a8662(0x85b));const _0x2d6060={'id':_0x335f6c,..._0x1cc50f[_0x9a8662(0x79e)]()},_0xf24db1=collection(db,_0x9a8662(0x718)+appId+_0x9a8662(0x51f),_0x335f6c,_0x9a8662(0x3a1)),_0x2618f2=await getDocs(_0xf24db1);if(_0x2618f2[_0x9a8662(0x5ff)]){showMessage('ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่');return;}const _0x453715=_0x2618f2[_0x9a8662(0xa1f)][_0x9a8662(0x6b7)](_0x2aae31=>reGradeSingleSubmission(_0x2aae31,_0x2d6060));await Promise['all'](_0x453715);if(_0x2d6060['projectId']){const _0x53be14=doc(db,_0x9a8662(0x718)+appId+'/public/data/projects',_0x2d6060['projectId']),_0x4a13c9=await getDoc(_0x53be14);if(_0x4a13c9['exists']()&&_0x4a13c9[_0x9a8662(0x79e)]()[_0x9a8662(0x605)]){const _0x207ad9=_0x4a13c9[_0x9a8662(0x79e)]()[_0x9a8662(0x605)][_0x9a8662(0x6b7)](_0x1ec608=>updateStudentProfile(_0x2d6060[_0x9a8662(0x54d)],_0x1ec608));await Promise[_0x9a8662(0x4ef)](_0x207ad9);}}showMessage(_0x9a8662(0x272)+_0x2618f2[_0x9a8662(0x40d)]+_0x9a8662(0xa55));}catch(_0x25bcbb){console[_0x9a8662(0x6c4)](_0x9a8662(0xac8),_0x25bcbb),showMessage(_0x9a8662(0x276)+_0x25bcbb[_0x9a8662(0x80a)]);}}async function reGradeSingleSubmission(_0x53e48e,_0x48abbb){const _0x36d3b7=_0x470ff8,_0x3a2c1a=_0x53e48e[_0x36d3b7(0x79e)](),_0x2faf62=_0x3a2c1a[_0x36d3b7(0x29c)],_0x5ca419=_0x3a2c1a[_0x36d3b7(0x250)]||[],_0x1b10af=[];for(const _0x535988 of _0x5ca419){let _0x4bf219=0x0,_0x40c54a=[],_0x280d60=0x0;const _0x54b6c6=[];for(const _0x282e4b of _0x535988[_0x36d3b7(0x335)]){let _0x4b4603;_0x282e4b[_0x36d3b7(0x93a)]&&(_0x4b4603=_0x48abbb[_0x36d3b7(0x622)]['find'](_0x1a5d03=>_0x1a5d03['id']===_0x282e4b[_0x36d3b7(0x93a)]));!_0x4b4603&&_0x282e4b[_0x36d3b7(0xa2d)]&&(_0x4b4603=_0x48abbb[_0x36d3b7(0x622)]['find'](_0x12f19f=>(_0x12f19f[_0x36d3b7(0x283)]||_0x12f19f[_0x36d3b7(0x16b)])===_0x282e4b[_0x36d3b7(0xa2d)]));let _0x4d0462=![];if(_0x4b4603){const _0x19b421=_0x4b4603['questionType']||_0x48abbb[_0x36d3b7(0x497)];switch(_0x19b421){case _0x36d3b7(0x4a1):if(_0x4b4603[_0x36d3b7(0xb6f)]&&_0x4b4603[_0x36d3b7(0x5ad)]<_0x4b4603[_0x36d3b7(0xb6f)]['length']){const _0x1dc03=_0x4b4603['options'][_0x4b4603[_0x36d3b7(0x5ad)]];_0x4d0462=_0x282e4b[_0x36d3b7(0x898)]===_0x1dc03;}break;case _0x36d3b7(0x618):const _0x5052df=_0x282e4b[_0x36d3b7(0x729)]===!![]||_0x282e4b[_0x36d3b7(0x729)]===_0x36d3b7(0x184);_0x4d0462=_0x5052df===_0x4b4603[_0x36d3b7(0x600)];break;case _0x36d3b7(0x43c):_0x4d0462=_0x282e4b[_0x36d3b7(0x729)]===_0x4b4603[_0x36d3b7(0x198)];break;case _0x36d3b7(0x9af):_0x4d0462=await gradeShortAnswer(_0x282e4b[_0x36d3b7(0x729)],_0x4b4603);break;default:_0x4d0462=_0x282e4b[_0x36d3b7(0x98e)];break;}}if(_0x4d0462){_0x4bf219++,_0x280d60++;if(_0x280d60===0x3)_0x40c54a[_0x36d3b7(0xb16)](BADGES[_0x36d3b7(0x787)]['id']);}else _0x280d60=0x0;_0x54b6c6['push']({..._0x282e4b,'isCorrect':_0x4d0462});}let _0x5a9a19=_0x4bf219*0xa;_0x4bf219===_0x48abbb[_0x36d3b7(0x622)][_0x36d3b7(0x9b5)]&&(_0x5a9a19+=0x32,_0x40c54a['push'](BADGES[_0x36d3b7(0xa4a)]['id'])),_0x1b10af[_0x36d3b7(0xb16)]({..._0x535988,'score':_0x4bf219,'points':_0x5a9a19,'badges':Array[_0x36d3b7(0xaf3)](new Set(_0x40c54a)),'answers':_0x54b6c6});}const _0xd303bc=_0x1b10af[_0x36d3b7(0x9b5)]>0x0?_0x1b10af[0x0][_0x36d3b7(0xabc)]:0x0,_0x3cf487=Math[_0x36d3b7(0x115)](..._0x1b10af['map'](_0x1325ee=>_0x1325ee[_0x36d3b7(0xabc)])),_0x38ccbf=_0x1b10af['length']>0x0?_0x1b10af[_0x1b10af['length']-0x1][_0x36d3b7(0xabc)]:0x0,_0x3f0350=_0x1b10af[_0x36d3b7(0x9b5)]>0x0?_0x1b10af[_0x1b10af[_0x36d3b7(0x9b5)]-0x1][_0x36d3b7(0x36a)]:0x0,_0x392d4a=doc(db,_0x36d3b7(0x718)+appId+_0x36d3b7(0xa4e)+_0x48abbb['id']+_0x36d3b7(0x651),_0x2faf62);await updateDoc(_0x392d4a,{'attempts':_0x1b10af,'firstScore':_0xd303bc,'bestScore':_0x3cf487,'latestScore':_0x38ccbf,'points':_0x3f0350});}function cleanupQuizOptions(_0x56d1f0){const _0x42ad82=_0x470ff8,_0x19e927=(_0x32f613,_0x114fab)=>_0x114fab===0x0?_0x32f613:_0x19e927(_0x114fab,_0x32f613%_0x114fab),_0x591d41=_0x5567bc=>{const _0x596c7f=_0xb340;if(typeof _0x5567bc!==_0x596c7f(0x562))return null;_0x5567bc=_0x5567bc[_0x596c7f(0xf2)]();const _0x58ad0c=_0x5567bc[_0x596c7f(0x3b0)](/[ /]/)[_0x596c7f(0x8dd)](_0x573d4e=>_0x573d4e!=='');if(_0x58ad0c[_0x596c7f(0x9b5)]===0x3)return parseInt(_0x58ad0c[0x0])+parseInt(_0x58ad0c[0x1])/parseInt(_0x58ad0c[0x2]);else{if(_0x58ad0c[_0x596c7f(0x9b5)]===0x2)return parseInt(_0x58ad0c[0x0])/parseInt(_0x58ad0c[0x1]);else{if(_0x58ad0c[_0x596c7f(0x9b5)]===0x1&&!isNaN(_0x58ad0c[0x0]))return parseFloat(_0x58ad0c[0x0]);}}return null;},_0x2a1e49=_0x11e630=>{const _0x240483=_0xb340;if(typeof _0x11e630!==_0x240483(0x562))return _0x11e630;const _0x30e911=_0x11e630['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x30e911){const _0x4ee1d3=parseInt(_0x30e911[0x1]);let _0x4f54e6=parseInt(_0x30e911[0x2]),_0x4af722=parseInt(_0x30e911[0x3]);const _0x2c6442=_0x19e927(_0x4f54e6,_0x4af722);_0x4f54e6/=_0x2c6442,_0x4af722/=_0x2c6442;if(_0x4af722===0x1)return(_0x4ee1d3+_0x4f54e6)[_0x240483(0x77c)]();return _0x4ee1d3+'\x20'+_0x4f54e6+'/'+_0x4af722;}return _0x11e630;};return _0x56d1f0&&_0x56d1f0[_0x42ad82(0x622)]&&_0x56d1f0[_0x42ad82(0x622)][_0x42ad82(0x501)](_0x263947=>{const _0x4b8713=_0x42ad82;if(_0x263947['questionType']===_0x4b8713(0x4a1)&&_0x263947[_0x4b8713(0xb6f)]){const _0x37fd24=new Map(),_0x58f922=_0x263947['options'][_0x263947['correctAnswerIndex']];_0x263947[_0x4b8713(0xb6f)]['forEach'](_0xc70c2c=>{const _0x4e3400=_0x2a1e49(_0xc70c2c),_0x6e8353=_0x591d41(_0x4e3400);_0x6e8353!==null&&!_0x37fd24['has'](_0x6e8353)&&_0x37fd24['set'](_0x6e8353,_0x4e3400);}),_0x263947['options']=Array[_0x4b8713(0xaf3)](_0x37fd24[_0x4b8713(0x7ff)]());const _0x2d8762=_0x263947['options'][_0x4b8713(0x3f7)](_0x5b41bb=>_0x5b41bb===_0x2a1e49(_0x58f922));_0x263947[_0x4b8713(0x5ad)]=_0x2d8762!==-0x1?_0x2d8762:0x0;}}),_0x56d1f0;}function showGameStartConfirmationModal(_0x4d9ccd,_0x448162,_0x459e02){const _0x410f99=_0x470ff8,_0x220d44=document[_0x410f99(0x8b2)](_0x410f99(0x608));document[_0x410f99(0x8b2)](_0x410f99(0x655))['textContent']=_0x410f99(0x3fb)+_0x459e02,document[_0x410f99(0x8b2)](_0x410f99(0xa87))['value']=_0x4d9ccd,document[_0x410f99(0x8b2)](_0x410f99(0x693))['value']=_0x448162,document[_0x410f99(0x8b2)](_0x410f99(0x307))[_0x410f99(0x25a)]=!![],_0x220d44[_0x410f99(0xaa8)][_0x410f99(0x5b2)](_0x410f99(0x856));}async function saveGameResultsAsSubmissions(_0x1c9b2a){const _0x28f682=_0x470ff8;console['log'](_0x28f682(0x850),_0x1c9b2a);const _0x29515f=_0x1c9b2a['quizId'];let _0x5c67b3=[];if(_0x1c9b2a[_0x28f682(0x190)])_0x5c67b3=Object['entries'](_0x1c9b2a[_0x28f682(0x190)])[_0x28f682(0x6b7)](([_0x48f66f,_0x27cf4c])=>({'name':_0x48f66f,..._0x27cf4c}));else{if(_0x1c9b2a[_0x28f682(0xb42)])Object[_0x28f682(0x7ff)](_0x1c9b2a['groups'])['forEach'](_0xabf0d=>{const _0x3d9d39=_0x28f682;_0xabf0d[_0x3d9d39(0x47c)][_0x3d9d39(0x501)](_0x561c95=>{const _0x319b67=_0x3d9d39;_0x5c67b3[_0x319b67(0xb16)]({'name':_0x561c95,'score':_0xabf0d[_0x319b67(0xabc)]});});});else _0x1c9b2a[_0x28f682(0x547)]&&Object[_0x28f682(0x485)](_0x1c9b2a[_0x28f682(0x547)])[_0x28f682(0x501)](([_0x15f524,_0x20469a])=>{_0x5c67b3['push']({'name':_0x15f524,..._0x20469a});});}if(_0x5c67b3[_0x28f682(0x9b5)]===0x0){console[_0x28f682(0x638)]('No\x20player\x20data\x20to\x20save.');return;}const _0xd5ab1e=_0x1c9b2a[_0x28f682(0x7c8)]?.[_0x28f682(0x622)][_0x28f682(0x9b5)]||currentQuizData['questions']['length'],_0x5b1e01=writeBatch(db);for(const _0x1835ad of _0x5c67b3){const _0x2b4286=_0x1835ad[_0x28f682(0xabc)]||0x0,_0x20c3df=doc(db,_0x28f682(0x718)+appId+'/public/data/quizzes/'+_0x29515f+_0x28f682(0x651),_0x1835ad['name']),_0x595b4b=(_0x1835ad[_0x28f682(0x335)]||[])[_0x28f682(0x8dd)](_0x184e76=>_0x184e76[_0x28f682(0x98e)])[_0x28f682(0x9b5)],_0x120ad8={'score':_0x595b4b,'points':_0x2b4286,'badges':_0x1835ad[_0x28f682(0xa85)]||[],'submittedAt':new Date()[_0x28f682(0x692)](),'answers':(_0x1835ad[_0x28f682(0x335)]||[])['map'](_0x1e1363=>({'questionId':_0x1e1363['questionId'],'answer':_0x1e1363[_0x28f682(0x729)],'answerText':_0x1e1363[_0x28f682(0x898)],'isCorrect':_0x1e1363[_0x28f682(0x98e)],'originalQuestionText':_0x1e1363[_0x28f682(0xa2d)],'wasConfident':_0x1e1363[_0x28f682(0xb4e)]}))},_0x3656d8=await getDoc(_0x20c3df),_0x38ee20=_0x3656d8['exists']()?_0x3656d8[_0x28f682(0x79e)]():{},_0x3ecfd5=_0x38ee20[_0x28f682(0x558)]||0x0,_0x3c66b8=_0x38ee20[_0x28f682(0x250)]||[],_0x6a552f={'studentName':_0x1835ad[_0x28f682(0x20a)],'totalQuestions':_0xd5ab1e,'attempts':arrayUnion(_0x120ad8),'latestScore':_0x595b4b,'points':_0x2b4286,'latestSubmittedAt':_0x120ad8[_0x28f682(0x4e5)],'bestScore':Math['max'](_0x3ecfd5,_0x595b4b),'firstScore':_0x3c66b8[_0x28f682(0x9b5)]===0x0?_0x595b4b:_0x38ee20['firstScore']||0x0};_0x5b1e01[_0x28f682(0x105)](_0x20c3df,_0x6a552f,{'merge':!![]});}try{await _0x5b1e01[_0x28f682(0x775)](),showMessage(_0x28f682(0x3e2)+_0x5c67b3['length']+_0x28f682(0x841));const _0x5514b7=_0x1c9b2a['shuffledQuiz']?.[_0x28f682(0x54d)]||currentQuizData?.[_0x28f682(0x54d)]||currentProjectId;if(_0x5514b7){const _0x2553e9=[...new Set(_0x5c67b3['map'](_0x43012b=>_0x43012b[_0x28f682(0x20a)]))];for(const _0x57f750 of _0x2553e9){await updateStudentProfile(_0x5514b7,_0x57f750);}}}catch(_0x551961){console[_0x28f682(0x6c4)](_0x28f682(0xdb),_0x551961),showMessage(_0x28f682(0x92e));}}async function saveQuiz(_0x42fe70=null,_0x3ae95f=null){const _0x2dd704=_0x470ff8,_0x802ea=_0x42fe70||currentProjectId;if(!_0x802ea){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0x765fde=document[_0x2dd704(0x8b2)](_0x2dd704(0xa9f));_0x765fde[_0x2dd704(0x6cf)]=!![],_0x765fde['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x91ea49=document[_0x2dd704(0x8b2)]('pre-test-checkbox')[_0x2dd704(0x25a)];let _0x5503cf=document[_0x2dd704(0x8b2)](_0x2dd704(0xb74))[_0x2dd704(0x45c)]['trim']();_0x91ea49&&!_0x5503cf[_0x2dd704(0xa71)](_0x2dd704(0x64b))&&(_0x5503cf='(ก่อนเรียน)\x20'+_0x5503cf);try{const _0x1cd8b3={'resultsDisplay':document[_0x2dd704(0x8b2)](_0x2dd704(0x37b))[_0x2dd704(0x593)],'shuffle':document['getElementById'](_0x2dd704(0x13e))[_0x2dd704(0x593)],'timerMode':document[_0x2dd704(0x8b2)]('timer-mode-select')[_0x2dd704(0x593)],'timerDuration':parseInt(document[_0x2dd704(0x8b2)](_0x2dd704(0x264))[_0x2dd704(0x593)])||0xa,'passingScore':parseInt(document[_0x2dd704(0x8b2)](_0x2dd704(0x767))[_0x2dd704(0x593)])||0x0,'isAdaptive':document[_0x2dd704(0x8b2)](_0x2dd704(0xa7b))[_0x2dd704(0x25a)],'loopUntilPass':document[_0x2dd704(0x8b2)](_0x2dd704(0x107))[_0x2dd704(0x25a)]},_0x4de6d0=(currentQuizData[_0x2dd704(0x622)]||[])[_0x2dd704(0x6b7)]((_0x347927,_0x139dcc)=>{const _0x16aac4=_0x2dd704,_0x2fbabf=document[_0x16aac4(0x8b2)]('quiz-type-select')[_0x16aac4(0x593)],_0x1d9606={'id':'q_'+Date['now']()+'_'+_0x139dcc,'questionText':_0x347927[_0x16aac4(0x16b)]||'','explanation':_0x347927['explanation']||_0x16aac4(0x8af),'questionType':_0x347927[_0x16aac4(0x345)]||_0x2fbabf,'imageCode':_0x347927[_0x16aac4(0x4b5)]||null};return(_0x1d9606[_0x16aac4(0x345)]===_0x16aac4(0x4a1)||_0x1d9606[_0x16aac4(0x345)]===_0x16aac4(0x232)||_0x1d9606[_0x16aac4(0x345)]==='mixed'&&_0x347927[_0x16aac4(0xb6f)])&&(_0x1d9606[_0x16aac4(0xb6f)]=_0x347927['options']||[],_0x1d9606['correctAnswerIndex']=_0x347927[_0x16aac4(0x5ad)]!==undefined?_0x347927[_0x16aac4(0x5ad)]:0x0),(_0x1d9606[_0x16aac4(0x345)]===_0x16aac4(0x9af)||_0x1d9606['questionType']===_0x16aac4(0x9de)||_0x1d9606['questionType']===_0x16aac4(0xb19)&&_0x347927[_0x16aac4(0x76e)])&&(_0x1d9606[_0x16aac4(0x76e)]=_0x347927[_0x16aac4(0x76e)]||''),_0x1d9606[_0x16aac4(0x345)]===_0x16aac4(0x618)&&(_0x1d9606[_0x16aac4(0x600)]=_0x347927[_0x16aac4(0x600)]===!![]),_0x1d9606[_0x16aac4(0x345)]==='matching_item'&&(_0x1d9606[_0x16aac4(0x283)]=_0x347927[_0x16aac4(0x283)]||'',_0x1d9606['correctResponse']=_0x347927['correctResponse']||'',_0x1d9606[_0x16aac4(0xb3e)]=_0x347927[_0x16aac4(0xb3e)]||[]),_0x1d9606;}),_0x14649a={'topic':_0x5503cf,'quizType':currentQuizData[_0x2dd704(0x497)]||_0x2dd704(0x4a1),'questions':_0x4de6d0,'projectId':_0x802ea,'createdBy':userId,'createdAt':new Date()[_0x2dd704(0x692)](),'status':_0x2dd704(0x3f0),'settings':_0x1cd8b3,'quizMode':_0x91ea49?_0x2dd704(0x2b5):_0x2dd704(0x239),'pairedQuizId':null,'lessonPlan':null};let _0x10342a;while(!![]){_0x10342a=Math[_0x2dd704(0x8ec)](0x3e8+Math[_0x2dd704(0x3c3)]()*0x2328)[_0x2dd704(0x77c)]();const _0x1feb59=await getDoc(doc(db,_0x2dd704(0x718)+appId+_0x2dd704(0x51f),_0x10342a));if(!_0x1feb59[_0x2dd704(0x811)]())break;}await setDoc(doc(db,_0x2dd704(0x718)+appId+_0x2dd704(0x51f),_0x10342a),_0x14649a);if(_0x3ae95f&&currentBlueprintProjectId){console[_0x2dd704(0x638)]('Auto-linking\x20new\x20quiz\x20'+_0x10342a+_0x2dd704(0x1d4)+_0x3ae95f);try{const _0x55e41b=doc(db,_0x2dd704(0x718)+appId+_0x2dd704(0x43a),currentBlueprintProjectId);await updateDoc(_0x55e41b,{[_0x2dd704(0x2ff)+_0x3ae95f+_0x2dd704(0x1ff)]:arrayUnion(_0x10342a)});}catch(_0xc75c8d){console[_0x2dd704(0x6c4)](_0x2dd704(0x203),_0xc75c8d);}}currentQuizData[_0x2dd704(0x893)]=_0x1cd8b3,currentQuizData['id']=_0x10342a;const _0x257d18=document[_0x2dd704(0x8b2)](_0x2dd704(0x212));_0x257d18[_0x2dd704(0xb6e)]=_0x2dd704(0xa96)+_0x10342a+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document[_0x2dd704(0x8b2)](_0x2dd704(0x9e1))[_0x2dd704(0xda)](_0x2dd704(0x896),()=>copyTextToClipboard(_0x10342a,_0x2dd704(0x3a6))),document[_0x2dd704(0x8b2)]('start-live-race-generated-btn')[_0x2dd704(0xda)](_0x2dd704(0x896),()=>handleStartLiveRace(_0x10342a)),document[_0x2dd704(0x8b2)](_0x2dd704(0x7d4))[_0x2dd704(0xda)]('click',()=>startPresentation(currentQuizData)),document[_0x2dd704(0x8b2)](_0x2dd704(0x3e1))['addEventListener'](_0x2dd704(0x896),startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x34819f){console[_0x2dd704(0x6c4)]('Error\x20saving\x20quiz:',_0x34819f),showMessage(_0x2dd704(0x86d));}finally{_0x765fde['disabled']=![],_0x765fde[_0x2dd704(0xb6e)]=_0x2dd704(0x9e0);}}function promptForProjectAndSave(){const _0x820fe0=_0x470ff8,_0x5154ac=document[_0x820fe0(0x8b2)](_0x820fe0(0x218)),_0xe5e10b=document[_0x820fe0(0x8b2)](_0x820fe0(0x5f8)),_0x1b59da=_0x5154ac[_0x820fe0(0x7a8)]('h3'),_0x3e5c34=document['getElementById'](_0x820fe0(0x657));_0x1b59da[_0x820fe0(0x464)]='เลือกโปรเจคเพื่อบันทึก',_0x3e5c34[_0x820fe0(0x464)]=_0x820fe0(0x14e);allProjects['length']===0x0?(_0xe5e10b['innerHTML']=_0x820fe0(0xa03),_0x3e5c34[_0x820fe0(0x6cf)]=!![]):(_0xe5e10b[_0x820fe0(0xb6e)]=allProjects[_0x820fe0(0x6b7)](_0x18b8fe=>_0x820fe0(0x5ea)+_0x18b8fe['id']+'\x22>'+_0x18b8fe[_0x820fe0(0x31e)]+_0x820fe0(0x39e))[_0x820fe0(0x221)](''),_0x3e5c34[_0x820fe0(0x6cf)]=![]);_0x5154ac[_0x820fe0(0xaa8)][_0x820fe0(0x5b2)](_0x820fe0(0x856));const _0x292715=()=>{const _0x1ab2f9=_0x820fe0,_0x3cf98a=_0xe5e10b['value'];_0x3cf98a?(currentProjectId=_0x3cf98a,_0x5154ac['classList'][_0x1ab2f9(0x4de)](_0x1ab2f9(0x856)),saveQuiz(),_0x1b59da['textContent']=_0x1ab2f9(0x71e),_0x3e5c34[_0x1ab2f9(0x464)]=_0x1ab2f9(0x3dd),_0x3e5c34[_0x1ab2f9(0x9d0)](_0x1ab2f9(0x896),_0x292715),_0x3e5c34[_0x1ab2f9(0xda)](_0x1ab2f9(0x896),confirmMoveQuiz)):showMessage(_0x1ab2f9(0x120));};_0x3e5c34[_0x820fe0(0x9d0)]('click',confirmMoveQuiz),_0x3e5c34[_0x820fe0(0xda)](_0x820fe0(0x896),_0x292715);}function copyTextToClipboard(_0x341f75,_0x396930){const _0x19d534=_0x470ff8,_0x55cfb1=document[_0x19d534(0x5ed)](_0x19d534(0x755));_0x55cfb1[_0x19d534(0x593)]=_0x341f75,_0x55cfb1[_0x19d534(0x3cb)][_0x19d534(0x9df)]=_0x19d534(0x9fa),_0x55cfb1['style'][_0x19d534(0x246)]='0',document[_0x19d534(0x905)][_0x19d534(0x584)](_0x55cfb1),_0x55cfb1[_0x19d534(0xa3d)](),_0x55cfb1[_0x19d534(0x53b)]();try{const _0xb053a1=document['execCommand'](_0x19d534(0x867));showMessage(_0xb053a1?_0x396930:_0x19d534(0xd8));}catch(_0x429aca){showMessage(_0x19d534(0xd8)),console[_0x19d534(0x6c4)](_0x19d534(0x211),_0x429aca);}document['body'][_0x19d534(0x5de)](_0x55cfb1);}function listenForProjectQuizzes(_0x239d41){const _0x25dc3c=_0x470ff8,_0x2b55bd=collection(db,_0x25dc3c(0x718)+appId+'/public/data/quizzes'),_0x365ec=query(_0x2b55bd,where(_0x25dc3c(0x54d),'==',_0x239d41));unsubscribeQuizzesListener=onSnapshot(_0x365ec,async _0x1bc114=>{const _0x233d2f=_0x25dc3c;allQuizzes=_0x1bc114['docs'][_0x233d2f(0x6b7)](_0x2f6b9b=>({'id':_0x2f6b9b['id'],..._0x2f6b9b['data']()})),renderQuizzes();},_0x35fe7d=>{const _0x329c19=_0x25dc3c;console['error'](_0x329c19(0xaa1),_0x35fe7d),document[_0x329c19(0x8b2)](_0x329c19(0x82f))[_0x329c19(0xb6e)]=_0x329c19(0x5b9);});}async function renderQuizzes(){const _0x3ddacb=_0x470ff8,_0x4e9502=document[_0x3ddacb(0x8b2)](_0x3ddacb(0x82f)),_0x5779e8=document[_0x3ddacb(0x8b2)](_0x3ddacb(0x202))['value'][_0x3ddacb(0x136)]();let _0x3bad59;currentProjectId===_0x3ddacb(0xae4)?_0x3bad59=starredQuizzes:_0x3bad59=allQuizzes;let _0x40d60b=_0x3bad59['filter'](_0x59a1bc=>_0x59a1bc['topic'][_0x3ddacb(0x136)]()[_0x3ddacb(0xa57)](_0x5779e8));_0x40d60b[_0x3ddacb(0xe2)]((_0x6082a8,_0x5c7f85)=>new Date(_0x5c7f85[_0x3ddacb(0x4e4)])-new Date(_0x6082a8[_0x3ddacb(0x4e4)]));if(_0x40d60b[_0x3ddacb(0x9b5)]===0x0){_0x4e9502[_0x3ddacb(0xb6e)]=_0x3ddacb(0x11e);return;}const _0x6e9082={},_0x556398=_0x40d60b[_0x3ddacb(0x6b7)](async _0x24355b=>{const _0x9f8997=_0x3ddacb,_0x2efdac=collection(db,'artifacts/'+appId+_0x9f8997(0xa4e)+_0x24355b['id']+_0x9f8997(0x651)),_0x8ca696=await getDocs(_0x2efdac);_0x6e9082[_0x24355b['id']]=_0x8ca696['size'];});await Promise[_0x3ddacb(0x4ef)](_0x556398);let _0x3210c5='';_0x40d60b[_0x3ddacb(0x501)](_0x2ad03b=>{const _0x5007fb=_0x3ddacb,_0x2d6df7=_0x6e9082[_0x2ad03b['id']]||0x0,_0xb28295=_0x2ad03b[_0x5007fb(0x6b3)]||_0x5007fb(0x3f0),_0x389bd6=_0x2ad03b[_0x5007fb(0x893)]?.['timerMode']||_0x5007fb(0x61b);let _0x41f730='',_0x25fc50='';const _0x38a9f2=new Date();let _0x1318c4=_0xb28295;if(_0xb28295===_0x5007fb(0x489)){const _0x5e8a7a=_0x2ad03b[_0x5007fb(0x2b8)]?new Date(_0x2ad03b[_0x5007fb(0x2b8)]):null,_0x5cc264=_0x2ad03b[_0x5007fb(0x9fc)]?new Date(_0x2ad03b[_0x5007fb(0x9fc)]):null;if(_0x5cc264&&_0x38a9f2>_0x5cc264)_0x1318c4=_0x5007fb(0x9db);else _0x5e8a7a&&_0x38a9f2<_0x5e8a7a?_0x1318c4=_0x5007fb(0x3a3):_0x1318c4=_0x5007fb(0x3f0);}switch(_0x1318c4){case _0x5007fb(0x9db):_0x41f730=_0x5007fb(0x21a),_0x25fc50=_0x5007fb(0x76b);break;case _0x5007fb(0x3a3):_0x41f730=_0x5007fb(0x78b),_0x25fc50=_0x5007fb(0x1fe);break;case _0x5007fb(0x3f0):_0x41f730=_0x389bd6!=='none'?_0x5007fb(0x891):'เปิดใช้งาน',_0x25fc50=_0x5007fb(0x5e9);break;default:_0x41f730='ตั้งเวลา\x20(เปิด)',_0x25fc50=_0x5007fb(0x5e9);break;}let _0x12c11c='';const _0xfd0742={'day':'2-digit','month':_0x5007fb(0x9e8),'year':_0x5007fb(0xa29),'hour':_0x5007fb(0x9e8),'minute':'2-digit','hour12':![]};if(_0xb28295===_0x5007fb(0x489)){if(_0x2ad03b[_0x5007fb(0x2b8)])_0x12c11c+=_0x5007fb(0x4fe)+new Date(_0x2ad03b[_0x5007fb(0x2b8)])['toLocaleString'](_0x5007fb(0x424),_0xfd0742)+_0x5007fb(0x188);if(_0x2ad03b[_0x5007fb(0x9fc)])_0x12c11c+=_0x5007fb(0xabf)+new Date(_0x2ad03b[_0x5007fb(0x9fc)])[_0x5007fb(0x47a)]('th-TH',_0xfd0742)+'</p>';}let _0xfa632c='';if(_0x2ad03b[_0x5007fb(0x33e)]){const _0x9215ec=allQuizzes[_0x5007fb(0x43e)](_0x5c3973=>_0x5c3973['id']===_0x2ad03b[_0x5007fb(0x33e)]);if(_0x9215ec){let _0x3d1d2e,_0xf5862c;new Date(_0x2ad03b[_0x5007fb(0x4e4)])<new Date(_0x9215ec[_0x5007fb(0x4e4)])?(_0x3d1d2e=_0x2ad03b['id'],_0xf5862c=_0x9215ec['id']):(_0x3d1d2e=_0x9215ec['id'],_0xf5862c=_0x2ad03b['id']),_0xfa632c+=_0x5007fb(0x524)+_0xf5862c+'\x22\x20data-pre-test-id=\x22'+_0x3d1d2e+_0x5007fb(0x7ae);}}else _0x2ad03b[_0x5007fb(0x1de)]===_0x5007fb(0x2b5)&&(_0xfa632c+=_0x5007fb(0x81f)+_0x2ad03b['id']+'\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(_0x2ad03b[_0x5007fb(0x1de)]===_0x5007fb(0x2b5)&&_0x2d6df7>0x0)_0xfa632c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2ad03b['id']+_0x5007fb(0x6cc);else!_0x2ad03b[_0x5007fb(0x33e)]&&_0x2ad03b['quizMode']!=='pre-test'&&_0x2d6df7>0x0&&(_0xfa632c+=_0x5007fb(0x81f)+_0x2ad03b['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x3023cc='';_0x2ad03b[_0x5007fb(0x33e)]?_0x3023cc='<button\x20data-quiz-id=\x22'+_0x2ad03b['id']+_0x5007fb(0x156):_0x3023cc=_0x5007fb(0x8c4)+_0x2ad03b['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>',_0x3210c5+=_0x5007fb(0x1dc)+_0x2ad03b['id']+_0x5007fb(0xa38)+_0x2ad03b[_0x5007fb(0x1bc)]+_0x5007fb(0x1b3)+_0x2ad03b['questions'][_0x5007fb(0x9b5)]+_0x5007fb(0x477)+new Date(_0x2ad03b[_0x5007fb(0x4e4)])[_0x5007fb(0x47a)](_0x5007fb(0x424))+_0x5007fb(0x5cf)+_0x2d6df7+_0x5007fb(0x9f2)+_0x12c11c+_0x5007fb(0x3a7)+_0x25fc50+'\x22>'+_0x41f730+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2ad03b['id']+_0x5007fb(0x455)+_0x2ad03b['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x2ad03b[_0x5007fb(0x14f)]?_0x5007fb(0x8da):_0x5007fb(0x5f3))+_0x5007fb(0x66a)+_0xfa632c+_0x5007fb(0xa89)+_0x2ad03b['id']+_0x5007fb(0x581)+_0x2ad03b['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2ad03b['id']+_0x5007fb(0x11c)+_0x2ad03b['id']+_0x5007fb(0x113)+_0x2ad03b['id']+_0x5007fb(0xb5e)+_0x2ad03b['id']+_0x5007fb(0x228)+_0x2ad03b['id']+_0x5007fb(0x360)+_0x2ad03b[_0x5007fb(0x1bc)]+_0x5007fb(0x58a)+_0x2ad03b['id']+_0x5007fb(0x88c)+_0x2ad03b['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3023cc+_0x5007fb(0x980)+_0x2ad03b['id']+_0x5007fb(0x51c)+_0x2ad03b['id']+_0x5007fb(0x1e3)+_0x2ad03b['id']+_0x5007fb(0x784)+_0x2ad03b['id']+_0x5007fb(0x7d8)+_0x2ad03b['id']+_0x5007fb(0x2f0)+_0x2ad03b['id']+_0x5007fb(0x989)+_0x2ad03b['id']+_0x5007fb(0x909)+_0x2ad03b['id']+'\x22\x20data-topic=\x22'+_0x2ad03b[_0x5007fb(0x1bc)]+_0x5007fb(0x90c)+_0x2ad03b['id']+_0x5007fb(0x743);}),_0x4e9502[_0x3ddacb(0xb6e)]=_0x3210c5,document[_0x3ddacb(0x9c4)](_0x3ddacb(0x911))[_0x3ddacb(0x501)](_0x3cf30d=>{const _0x2350e3=_0x3ddacb;_0x3cf30d[_0x2350e3(0xda)](_0x2350e3(0x896),()=>{const _0x554ce6=_0x2350e3,_0x5dfa0e=_0x3cf30d[_0x554ce6(0xad1)][_0x554ce6(0x65c)];showQuizDetailView(_0x5dfa0e);});});}async function handleUnpairQuiz(_0x50a132){const _0x3c312b=_0x470ff8,_0x3c7997=allQuizzes[_0x3c312b(0x43e)](_0x9efc4b=>_0x9efc4b['id']===_0x50a132);if(!_0x3c7997||!_0x3c7997[_0x3c312b(0x33e)]){showMessage(_0x3c312b(0x740));return;}showConfirmation(_0x3c312b(0x994),async()=>{const _0x3d3424=_0x3c312b;try{const _0x503163=doc(db,_0x3d3424(0x718)+appId+_0x3d3424(0x51f),_0x50a132),_0x5abf23=doc(db,_0x3d3424(0x718)+appId+_0x3d3424(0x51f),_0x3c7997[_0x3d3424(0x33e)]),_0x172e39=writeBatch(db);_0x172e39[_0x3d3424(0x1fb)](_0x503163,{'pairedQuizId':null}),_0x172e39[_0x3d3424(0x1fb)](_0x5abf23,{'pairedQuizId':null}),await _0x172e39[_0x3d3424(0x775)](),showMessage(_0x3d3424(0x467));}catch(_0x1108c8){console[_0x3d3424(0x6c4)](_0x3d3424(0x2e1),_0x1108c8),showMessage(_0x3d3424(0x186));}});}function formatAndPrintLessonPlan(_0x5a9330,_0x594a1a){const _0x429dcf=_0x470ff8,_0x6d7cf2=window['open']('',_0x429dcf(0x672)),_0x4b303b=_0x429dcf(0x101)+_0x594a1a[_0x429dcf(0x1bc)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x594a1a[_0x429dcf(0x1bc)]+_0x429dcf(0x947)+_0x5a9330[_0x429dcf(0x774)][_0x429dcf(0x6b7)](_0x104f9d=>_0x429dcf(0x623)+_0x104f9d+_0x429dcf(0x3ca))[_0x429dcf(0x221)]('')+_0x429dcf(0x853)+_0x5a9330[_0x429dcf(0x44c)]+_0x429dcf(0x173)+_0x5a9330[_0x429dcf(0xb0a)][_0x429dcf(0x6b7)](_0x1deaf0=>_0x429dcf(0x50d)+_0x1deaf0[_0x429dcf(0x241)]+_0x429dcf(0x244)+_0x1deaf0[_0x429dcf(0xb0b)]+_0x429dcf(0x8a4))[_0x429dcf(0x221)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x6d7cf2['document']['write'](_0x4b303b),_0x6d7cf2[_0x429dcf(0xae9)][_0x429dcf(0x8fa)](),_0x6d7cf2[_0x429dcf(0x35a)]=function(){setTimeout(()=>{_0x6d7cf2['print']();},0x3e8);};}async function handleAiFixFormula(_0xffc1f4){const _0x3fbe28=_0x470ff8,_0x2daa46=document[_0x3fbe28(0x7a8)](_0x3fbe28(0x81a)+_0xffc1f4+'\x22]');if(!_0x2daa46)return;const _0x5f3d80=_0x2daa46[_0x3fbe28(0xad1)]['qType'],_0x39846d=_0x2daa46[_0x3fbe28(0x7a8)](_0x3fbe28(0xb78));let _0x531df5={'question':_0x2daa46[_0x3fbe28(0x7a8)]('textarea')[_0x3fbe28(0x593)]};switch(_0x5f3d80){case _0x3fbe28(0x4a1):_0x531df5[_0x3fbe28(0xb6f)]=Array[_0x3fbe28(0xaf3)](_0x2daa46['querySelectorAll'](_0x3fbe28(0x870)))[_0x3fbe28(0x6b7)](_0x38178e=>_0x38178e[_0x3fbe28(0x593)]);break;case _0x3fbe28(0x9af):_0x531df5[_0x3fbe28(0x76e)]=_0x2daa46[_0x3fbe28(0x7a8)](_0x3fbe28(0x705))[_0x3fbe28(0x593)];break;case _0x3fbe28(0x43c):_0x531df5[_0x3fbe28(0x198)]=_0x2daa46['querySelector'](_0x3fbe28(0x620))['value'];break;}_0x39846d[_0x3fbe28(0xb6e)]=_0x3fbe28(0x96f),_0x39846d[_0x3fbe28(0x6cf)]=!![];try{const _0x51dc65=_0x3fbe28(0x155)+JSON[_0x3fbe28(0x1b9)](_0x531df5)+_0x3fbe28(0x892),_0x312428={'type':'OBJECT','properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':_0x3fbe28(0xb2a)},'options':{'type':'ARRAY','items':{'type':_0x3fbe28(0xb2a)}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':_0x3fbe28(0xb2a)}},'required':['question']}},'required':[_0x3fbe28(0x7cb)]},_0x499954=await callAnalysisApi(_0x51dc65,_0x312428);if(_0x499954&&_0x499954[_0x3fbe28(0x7cb)]){const _0x35cdd4=_0x499954[_0x3fbe28(0x7cb)];_0x2daa46[_0x3fbe28(0x7a8)](_0x3fbe28(0x755))['value']=_0x35cdd4[_0x3fbe28(0x241)]||_0x531df5[_0x3fbe28(0x241)];switch(_0x5f3d80){case _0x3fbe28(0x4a1):_0x35cdd4[_0x3fbe28(0xb6f)]&&_0x35cdd4[_0x3fbe28(0xb6f)][_0x3fbe28(0x9b5)]>0x0&&_0x2daa46[_0x3fbe28(0x9c4)](_0x3fbe28(0x870))[_0x3fbe28(0x501)]((_0x39df33,_0x1f5ab2)=>{const _0x2c02ee=_0x3fbe28;_0x39df33[_0x2c02ee(0x593)]=_0x35cdd4[_0x2c02ee(0xb6f)][_0x1f5ab2]||_0x531df5['options'][_0x1f5ab2];});break;case _0x3fbe28(0x9af):_0x2daa46[_0x3fbe28(0x7a8)](_0x3fbe28(0x705))[_0x3fbe28(0x593)]=_0x35cdd4[_0x3fbe28(0x76e)]||_0x531df5['idealAnswer'];break;case _0x3fbe28(0x43c):_0x2daa46['querySelector'](_0x3fbe28(0x620))[_0x3fbe28(0x593)]=_0x35cdd4[_0x3fbe28(0x198)]||_0x531df5[_0x3fbe28(0x198)];break;}if(_0x531df5[_0x3fbe28(0x241)]!==_0x35cdd4[_0x3fbe28(0x241)])try{const _0x4a7d72=collection(db,_0x3fbe28(0x718)+appId+_0x3fbe28(0x737));await addDoc(_0x4a7d72,{'broken':_0x531df5[_0x3fbe28(0x241)],'fixed':_0x35cdd4[_0x3fbe28(0x241)],'createdAt':serverTimestamp()});}catch(_0x19dd24){console[_0x3fbe28(0x6c4)](_0x3fbe28(0x466),_0x19dd24);}showMessage(_0x3fbe28(0xa1b));}else throw new Error(_0x3fbe28(0x53c));}catch(_0x217ef6){console[_0x3fbe28(0x6c4)](_0x3fbe28(0x69f),_0x217ef6),showMessage(_0x3fbe28(0xb7b));}finally{_0x39846d[_0x3fbe28(0xb6e)]='<i\x20class=\x22fas\x20fa-magic\x22></i>',_0x39846d[_0x3fbe28(0x6cf)]=![];}}async function handleGenerateLessonPlan(_0x14edb7){const _0x45a1ad=_0x470ff8;showMessage(_0x45a1ad(0xb4c));try{const _0x33780d=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x14edb7),_0x5483eb=await getDoc(_0x33780d);if(!_0x5483eb[_0x45a1ad(0x811)]())throw new Error(_0x45a1ad(0x85b));const _0x3ef61a={'id':_0x14edb7,..._0x5483eb[_0x45a1ad(0x79e)]()},_0x4c8f73=collection(db,_0x45a1ad(0x718)+appId+_0x45a1ad(0x51f),_0x14edb7,_0x45a1ad(0x3a1)),_0x37136e=await getDocs(_0x4c8f73),_0x5802e8=_0x37136e[_0x45a1ad(0xa1f)][_0x45a1ad(0x6b7)](_0xc4dc42=>_0xc4dc42['data']());if(_0x5802e8[_0x45a1ad(0x9b5)]===0x0)throw new Error(_0x45a1ad(0x24a));const _0x30d3c6=calculateItemAnalysis(_0x3ef61a,_0x5802e8)[_0x45a1ad(0x5a2)],_0x522e2f=calculateDistractorAnalysis(_0x3ef61a,_0x5802e8),_0x102141=_0x44c44a=>{const _0x40b0d0=_0x45a1ad;if(!_0x44c44a)return'';return _0x44c44a[_0x40b0d0(0x214)](/\\/g,'\x5c\x5c')[_0x40b0d0(0x214)](/"/g,'\x5c\x22')[_0x40b0d0(0x214)](/\n/g,'\x5cn');};let _0xc97117=_0x45a1ad(0x419);_0x3ef61a[_0x45a1ad(0x622)]['forEach']((_0x452499,_0x3dde1b)=>{const _0x2b5ec5=_0x45a1ad,_0x41f184=_0x30d3c6[_0x3dde1b]?.['p']['toFixed'](0x2)||_0x2b5ec5(0x2b9),_0x5237ab=_0x30d3c6[_0x3dde1b]?.['r']['toFixed'](0x2)||_0x2b5ec5(0x2b9),_0x8563c9=_0x102141(_0x452499['questionText']||_0x452499[_0x2b5ec5(0x283)]);_0xc97117+=_0x2b5ec5(0x1ea)+(_0x3dde1b+0x1)+_0x2b5ec5(0x635)+_0x41f184+_0x2b5ec5(0x58d)+_0x5237ab+_0x2b5ec5(0x35b)+_0x8563c9+'\x5cn';if(_0x452499[_0x2b5ec5(0x345)]==='multiple_choice'&&_0x522e2f[_0x3dde1b]){const _0x54e472=_0x522e2f[_0x3dde1b],_0x46a82b=Object[_0x2b5ec5(0xa67)](_0x54e472)[_0x2b5ec5(0x8dd)](_0x2de1be=>parseInt(_0x2de1be)!==_0x452499[_0x2b5ec5(0x5ad)])[_0x2b5ec5(0xe2)]((_0x4dc12f,_0x2f0caf)=>_0x54e472[_0x2f0caf][_0x2b5ec5(0x178)]-_0x54e472[_0x4dc12f][_0x2b5ec5(0x178)])[0x0];if(_0x46a82b&&_0x54e472[_0x46a82b][_0x2b5ec5(0x178)]>0x0){const _0x29598c=_0x102141(_0x54e472[_0x46a82b][_0x2b5ec5(0x12b)]);_0xc97117+=_0x2b5ec5(0x96b)+_0x29598c+'\x22\x5cn';}}});const _0x3233ea=_0x45a1ad(0x654)+_0x3ef61a['topic']+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xc97117+_0x45a1ad(0x82d),_0x3d0bf3={'type':_0x45a1ad(0x882),'properties':{'learningGaps':{'type':'ARRAY','items':{'type':_0x45a1ad(0xb2a)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0x45a1ad(0x1f9),'items':{'type':_0x45a1ad(0x882),'properties':{'question':{'type':_0x45a1ad(0xb2a)},'solution':{'type':'STRING'}}}}},'required':[_0x45a1ad(0x774),_0x45a1ad(0x44c),'practiceProblems']},_0x58d52a=await callAnalysisApi(_0x3233ea,_0x3d0bf3);await updateDoc(_0x33780d,{'lessonPlan':_0x58d52a});const _0x2ee86e=_0x45a1ad(0x6ec)+_0x3ef61a['topic']+_0x45a1ad(0x74f)+_0x58d52a[_0x45a1ad(0x774)][_0x45a1ad(0x6b7)](_0x59c31c=>_0x45a1ad(0x623)+_0x59c31c+_0x45a1ad(0x3ca))['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x58d52a[_0x45a1ad(0x44c)]+_0x45a1ad(0x1e7)+_0x58d52a[_0x45a1ad(0xb0a)][_0x45a1ad(0x6b7)](_0x140c7b=>_0x45a1ad(0x80e)+_0x140c7b[_0x45a1ad(0x241)]+_0x45a1ad(0x4c5)+_0x140c7b['solution']+_0x45a1ad(0x88a))[_0x45a1ad(0x221)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x45a1ad(0x8b2)]('lesson-plan-title')[_0x45a1ad(0x464)]='แผนการสอน:\x20'+_0x3ef61a[_0x45a1ad(0x1bc)],document[_0x45a1ad(0x8b2)](_0x45a1ad(0x7fc))[_0x45a1ad(0xb6e)]=_0x2ee86e,document[_0x45a1ad(0x8b2)](_0x45a1ad(0x942))[_0x45a1ad(0xaa8)][_0x45a1ad(0x5b2)](_0x45a1ad(0x856));if(window[_0x45a1ad(0x821)])MathJax['typesetPromise']();messageModal[_0x45a1ad(0xaa8)][_0x45a1ad(0x4de)](_0x45a1ad(0x856));}catch(_0x54a9fd){console['error']('Error\x20generating\x20lesson\x20plan:',_0x54a9fd),showMessage(_0x45a1ad(0x8c6)+_0x54a9fd[_0x45a1ad(0x80a)]);}}async function handleDuplicateQuiz(_0x154d51){const _0x3776f0=_0x470ff8;try{const _0xa8d33c=doc(db,_0x3776f0(0x718)+appId+_0x3776f0(0x51f),_0x154d51),_0x39192b=await getDoc(_0xa8d33c);if(_0x39192b[_0x3776f0(0x811)]()){const _0xc144b2=_0x39192b[_0x3776f0(0x79e)]();let _0x4fdf70='',_0x5cd014='standard',_0x3cf1e2=null;if(_0xc144b2[_0x3776f0(0x1de)]===_0x3776f0(0x2b5)){let _0x5b6b75=_0xc144b2[_0x3776f0(0x1bc)][_0x3776f0(0x214)]('(ก่อนเรียน)','')['trim']();_0x4fdf70=_0x3776f0(0x4d9)+_0x5b6b75,_0x5cd014='post-test',_0x3cf1e2=_0x154d51;}else _0x4fdf70='(คัดลอก)\x20'+_0xc144b2[_0x3776f0(0x1bc)];const _0x160f91={..._0xc144b2,'topic':_0x4fdf70,'createdAt':new Date()[_0x3776f0(0x692)](),'quizMode':_0x5cd014,'pairedQuizId':_0x3cf1e2};let _0x2d5c8b;while(!![]){_0x2d5c8b=Math[_0x3776f0(0x8ec)](0x3e8+Math[_0x3776f0(0x3c3)]()*0x2328)[_0x3776f0(0x77c)]();const _0x29c3a5=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x2d5c8b));if(!_0x29c3a5[_0x3776f0(0x811)]())break;}const _0x2d3603=doc(db,'artifacts/'+appId+_0x3776f0(0x51f),_0x2d5c8b);await setDoc(_0x2d3603,_0x160f91),_0x160f91['quizMode']==='post-test'&&await updateDoc(_0xa8d33c,{'pairedQuizId':_0x2d5c8b}),showMessage(_0x3776f0(0xaa7));}else throw new Error('Original\x20quiz\x20not\x20found');}catch(_0x4a1707){console['error']('Error\x20duplicating\x20quiz:',_0x4a1707),showMessage(_0x3776f0(0xf9));}}async function handleDeleteQuiz(_0xb4bf4d,_0x15dddd=!![]){const _0x1d8454=_0x470ff8;try{const _0x1f0011=writeBatch(db),_0x3aef6b=collection(db,'artifacts/'+appId+_0x1d8454(0xa4e)+_0xb4bf4d+_0x1d8454(0x651)),_0x5c3b82=await getDocs(_0x3aef6b);_0x5c3b82[_0x1d8454(0x501)](_0x1787e4=>{const _0x3540f0=_0x1d8454;_0x1f0011[_0x3540f0(0x4f5)](doc(_0x3aef6b,_0x1787e4['id']));});const _0x5ae30f=doc(db,_0x1d8454(0x718)+appId+_0x1d8454(0x51f),_0xb4bf4d);_0x1f0011[_0x1d8454(0x4f5)](_0x5ae30f),await _0x1f0011['commit']();try{console[_0x1d8454(0x638)](_0x1d8454(0xb20)+_0xb4bf4d+_0x1d8454(0x61a));const _0x1f9742=collection(db,'artifacts/'+appId+'/public/data/blueprintProjects'),_0x469b3b=await getDocs(_0x1f9742),_0x24d2a6=[];_0x469b3b['forEach'](_0x230344=>{const _0x4dc387=_0x1d8454,_0x5d3993=_0x230344[_0x4dc387(0x79e)](),_0x298783=_0x5d3993[_0x4dc387(0x5b0)]||{};let _0x161564=![];for(const _0x371f4c in _0x298783){const _0x5867c3=_0x298783[_0x371f4c];if(_0x5867c3[_0x4dc387(0xa7e)]&&_0x5867c3[_0x4dc387(0xa7e)][_0x4dc387(0xa57)](_0xb4bf4d)){_0x161564=!![];const _0x25abe0=doc(db,_0x4dc387(0x718)+appId+'/public/data/blueprintProjects',_0x230344['id']),_0x34c699=updateDoc(_0x25abe0,{[_0x4dc387(0x2ff)+_0x371f4c+_0x4dc387(0x1ff)]:arrayRemove(_0xb4bf4d)});_0x24d2a6[_0x4dc387(0xb16)](_0x34c699);}}}),_0x24d2a6[_0x1d8454(0x9b5)]>0x0&&(await Promise[_0x1d8454(0x4ef)](_0x24d2a6),console['log'](_0x1d8454(0x64d)+_0x24d2a6[_0x1d8454(0x9b5)]+_0x1d8454(0x6ba)+_0xb4bf4d+'.'));}catch(_0x108230){console[_0x1d8454(0x6c4)]('Error\x20during\x20blueprint\x20link\x20cleanup:',_0x108230);}_0x15dddd&&showMessage(_0x1d8454(0x48c));}catch(_0x214647){console[_0x1d8454(0x6c4)](_0x1d8454(0x49b),_0x214647),_0x15dddd&&showMessage(_0x1d8454(0x809));}}async function showQuizDetailView(_0x3a8a39){const _0x255548=_0x470ff8;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x255548(0x88b));try{const _0x27d636=doc(db,_0x255548(0x718)+appId+'/public/data/quizzes',_0x3a8a39),_0x43aa65=await getDoc(_0x27d636);if(!_0x43aa65['exists']()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}const _0x236c60={'id':_0x43aa65['id'],..._0x43aa65[_0x255548(0x79e)]()};currentQuizData=_0x236c60;const _0x13d2ec=doc(db,'artifacts/'+appId+_0x255548(0xb58),_0x236c60[_0x255548(0x54d)]),_0xad5bee=await getDoc(_0x13d2ec);_0xad5bee[_0x255548(0x811)]()?(currentProjectData=_0xad5bee[_0x255548(0x79e)](),currentProjectId=_0x236c60['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x236c60[_0x255548(0x54d)]);document[_0x255548(0x8b2)](_0x255548(0x3df))[_0x255548(0x464)]=_0x236c60['topic'],document[_0x255548(0x8b2)](_0x255548(0x748))[_0x255548(0x464)]=_0x3a8a39;const _0x4c565a=collection(db,_0x255548(0x718)+appId+_0x255548(0x51f),_0x3a8a39,_0x255548(0x3a1));unsubscribeSubmissionsListener=onSnapshot(_0x4c565a,_0x5811ec=>{const _0x25a16b=_0x255548,_0x3e843b=_0x5811ec[_0x25a16b(0xa1f)][_0x25a16b(0x6b7)](_0x2a6158=>({'id':_0x2a6158['id'],..._0x2a6158[_0x25a16b(0x79e)]()}));currentSubmissions=_0x3e843b;const _0x276c8e=_0x3e843b[_0x25a16b(0x8dd)](_0x4987a0=>_0x4987a0[_0x25a16b(0x250)]&&_0x4987a0[_0x25a16b(0x250)][_0x25a16b(0x9b5)]>0x0);renderBehaviorLog(_0x3e843b),renderAnswerGrid(currentProjectData[_0x25a16b(0x605)],_0x276c8e,_0x236c60),renderAnalytics(_0x236c60,_0x276c8e),renderQuizResultsTable(currentProjectData[_0x25a16b(0x605)],_0x3e843b,_0x236c60),renderQuizLeaderboard(_0x276c8e,_0x236c60,'quiz-leaderboard-table-body');}),showView(_0x255548(0xef));}catch(_0x4f66fc){console[_0x255548(0x6c4)](_0x255548(0x664),_0x4f66fc),showMessage(_0x255548(0x315));}}function renderAnswerGrid(_0x4bc1f1,_0x2ca376,_0x485bb3){const _0x33691f=_0x470ff8,_0x1836c4=document[_0x33691f(0x8b2)](_0x33691f(0x70f));if(!_0x1836c4)return;if(!_0x4bc1f1||_0x4bc1f1[_0x33691f(0x9b5)]===0x0){_0x1836c4['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0x5c1f3c=_0x485bb3['questions'],_0x1478b4=_0x2ca376['reduce']((_0x35caca,_0x25e2f9)=>{const _0x289e81=_0x33691f;return _0x35caca[_0x25e2f9[_0x289e81(0x29c)]]=_0x25e2f9,_0x35caca;},{}),_0x12b240=_0xaec263=>String['fromCharCode'](0x41+_0xaec263),_0x33eb08=_0x159a11=>{const _0x576ab4=_0x33691f,_0x420344=_0x159a11['questionType']||_0x485bb3[_0x576ab4(0x497)];switch(_0x420344){case _0x576ab4(0x4a1):return _0x159a11['options']&&_0x159a11['options'][_0x576ab4(0x9b5)]>_0x159a11[_0x576ab4(0x5ad)]?_0x12b240(_0x159a11[_0x576ab4(0x5ad)]):'-';case _0x576ab4(0x618):const _0x5cf506=_0x159a11[_0x576ab4(0x600)]===!![]||String(_0x159a11[_0x576ab4(0x600)])[_0x576ab4(0x136)]()==='true';return _0x5cf506?_0x576ab4(0x976):_0x576ab4(0x68a);case _0x576ab4(0x43c):return _0x159a11['correctResponse']||'-';case _0x576ab4(0x9af):return _0x576ab4(0x2a1);default:return'-';}},_0x4539f1=(_0x26dd16,_0x2559c3)=>{const _0x281815=_0x33691f;if(_0x2559c3[_0x281815(0x729)]===null||_0x2559c3[_0x281815(0x729)]===undefined)return'-';const _0x452d63=_0x26dd16['questionType']||_0x485bb3[_0x281815(0x497)];switch(_0x452d63){case _0x281815(0x4a1):const _0x6f6c69=_0x26dd16[_0x281815(0xb6f)][_0x281815(0x3f7)](_0x316bef=>_0x316bef===_0x2559c3[_0x281815(0x898)]);return _0x6f6c69!==-0x1?_0x12b240(_0x6f6c69):_0x2559c3[_0x281815(0x898)]||'-';case'true_false':if(_0x2559c3[_0x281815(0x729)]=='0'||_0x2559c3[_0x281815(0x729)]===!![]||_0x2559c3[_0x281815(0x729)]===_0x281815(0x184))return'ใช่';return'ไม่ใช่';default:return _0x2559c3[_0x281815(0x729)];}};let _0x35e5cd=_0x33691f(0x958)+_0x5c1f3c['map']((_0x5d7f6e,_0x595c83)=>_0x33691f(0x8b1)+(_0x595c83+0x1)+_0x33691f(0x243))[_0x33691f(0x221)]('')+_0x33691f(0x386)+_0x5c1f3c[_0x33691f(0x6b7)](_0x107949=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x33eb08(_0x107949)+'</td>')[_0x33691f(0x221)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x4bc1f1[_0x33691f(0x501)](_0x3f858d=>{const _0x5bcdee=_0x33691f;_0x35e5cd+=_0x5bcdee(0x349),_0x35e5cd+=_0x5bcdee(0x8e0)+_0x3f858d+_0x5bcdee(0x90e);const _0x29b364=_0x1478b4[_0x3f858d];if(_0x29b364){const _0x3b6357=_0x29b364[_0x5bcdee(0x250)][_0x29b364[_0x5bcdee(0x250)][_0x5bcdee(0x9b5)]-0x1];_0x5c1f3c[_0x5bcdee(0x501)]((_0x2c6c71,_0x5e8759)=>{const _0x1c23b8=_0x5bcdee,_0x2a0abd=_0x3b6357[_0x1c23b8(0x335)]['find'](_0x349f4c=>_0x349f4c['questionId']===_0x2c6c71['id']);if(_0x2a0abd){let _0x432a34='';const _0x6bdb9c=_0x2a0abd[_0x1c23b8(0x98e)]===!![],_0x366b4e=_0x2a0abd[_0x1c23b8(0xb4e)]===!![]||_0x2a0abd[_0x1c23b8(0xb4e)]===_0x1c23b8(0xb66);_0x366b4e?_0x432a34=_0x6bdb9c?'bg-green-400\x20text-white\x20font-bold':_0x1c23b8(0x399):_0x432a34=_0x6bdb9c?_0x1c23b8(0x777):_0x1c23b8(0x7fe),_0x35e5cd+=_0x1c23b8(0x28c)+_0x432a34+'\x22>'+_0x4539f1(_0x2c6c71,_0x2a0abd)+_0x1c23b8(0x90e);}else _0x35e5cd+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x35e5cd+=_0x5c1f3c['map'](()=>'<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>')[_0x5bcdee(0x221)]('');_0x35e5cd+='</tr>';}),_0x35e5cd+=_0x33691f(0x428),_0x1836c4[_0x33691f(0xb6e)]=_0x35e5cd;}function renderQuizResultsTable(_0x38f25b,_0x3c15cb,_0x1e91c2){const _0xe15a4e=_0x470ff8,_0x5d7a5d=_0x3c15cb[_0xe15a4e(0x75b)]((_0x9e249a,_0x13fe70)=>{const _0x180687=_0xe15a4e;return _0x9e249a[_0x13fe70[_0x180687(0x29c)]]=_0x13fe70,_0x9e249a;},{}),_0x3ed9d9=document['querySelector'](_0xe15a4e(0x8ee));_0x3ed9d9&&!_0x3ed9d9[_0xe15a4e(0xb6e)][_0xe15a4e(0xa57)](_0xe15a4e(0x1e9))&&(_0x3ed9d9[_0xe15a4e(0xb6e)]+=_0xe15a4e(0x431));const _0x467336=document['getElementById'](_0xe15a4e(0x703));if(!_0x38f25b||_0x38f25b[_0xe15a4e(0x9b5)]===0x0){_0x467336[_0xe15a4e(0xb6e)]='<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0x53fb4c=_0x1e91c2[_0xe15a4e(0xb1f)]===!![],_0x84d791=_0x1e91c2[_0xe15a4e(0x893)]?.[_0xe15a4e(0xab2)]??-0x1;let _0x4d63c9='';_0x38f25b[_0xe15a4e(0x501)](_0x10bf2c=>{const _0x14095d=_0xe15a4e,_0x419b5b=_0x5d7a5d[_0x10bf2c];let _0x3d15aa=_0x14095d(0x36c)+(_0x53fb4c?_0x14095d(0x327):'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x53fb4c?_0x14095d(0x3e9):'สอบปกติ')+_0x14095d(0x595);if(_0x419b5b){if(_0x419b5b['attempts']&&_0x419b5b[_0x14095d(0x250)]['length']>0x0){let _0x13d0c3=_0x53fb4c?_0x419b5b['bestScore']===_0x419b5b['totalQuestions']:_0x84d791!==-0x1&&_0x419b5b[_0x14095d(0x558)]>=_0x84d791;const _0x7e7b1=_0x13d0c3?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x5762d1=_0x13d0c3?_0x14095d(0x82e):'ไม่ผ่าน',_0x5018d8='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x7e7b1+'\x22>'+_0x5762d1+_0x14095d(0x595),_0x19526d=_0x14095d(0x4ad)+(_0x419b5b['attempts']?.['length']||0x1)+_0x14095d(0x2a0);_0x4d63c9+=_0x14095d(0x921)+_0x10bf2c+_0x14095d(0x124)+_0x419b5b['bestScore']+_0x14095d(0x615)+_0x419b5b['totalQuestions']+_0x14095d(0x951)+_0x5018d8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3d15aa+_0x14095d(0x9e2)+_0x419b5b[_0x14095d(0x82a)]+_0x14095d(0x615)+_0x419b5b['totalQuestions']+_0x14095d(0x3d6)+_0x419b5b['latestScore']+_0x14095d(0x615)+_0x419b5b[_0x14095d(0x409)]+_0x14095d(0xa45)+(_0x419b5b['points']||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x19526d+_0x14095d(0x31b)+new Date(_0x419b5b[_0x14095d(0x3ed)])[_0x14095d(0x47a)](_0x14095d(0x424))+_0x14095d(0x98b)+_0x10bf2c+_0x14095d(0x831);}else{const _0x2c4c59=_0x14095d(0x326);_0x4d63c9+=_0x14095d(0xa21)+_0x10bf2c+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3d15aa+_0x14095d(0x81c)+_0x2c4c59+_0x14095d(0x31b)+new Date(_0x419b5b[_0x14095d(0x167)])[_0x14095d(0x47a)]('th-TH')+_0x14095d(0x7f5)+_0x10bf2c+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else{const _0x4b6711='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x4d63c9+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x10bf2c+_0x14095d(0x1fc)+_0x3d15aa+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4b6711+_0x14095d(0x131);}}),_0x467336[_0xe15a4e(0xb6e)]=_0x4d63c9;}async function confirmRenameQuiz(){const _0x27c0d7=_0x470ff8,_0x733d80=document[_0x27c0d7(0x8b2)](_0x27c0d7(0x9cf))[_0x27c0d7(0x593)][_0x27c0d7(0xf2)]();if(!_0x733d80){showMessage(_0x27c0d7(0x731));return;}if(!actionTargetId)return;const _0x955849=doc(db,_0x27c0d7(0x718)+appId+_0x27c0d7(0x51f),actionTargetId);try{await updateDoc(_0x955849,{'topic':_0x733d80}),showMessage(_0x27c0d7(0x514)),renameQuizModal[_0x27c0d7(0xaa8)][_0x27c0d7(0x4de)](_0x27c0d7(0x856)),actionTargetId=null;}catch(_0x316e7a){console[_0x27c0d7(0x6c4)](_0x27c0d7(0x7aa),_0x316e7a),showMessage(_0x27c0d7(0x899));}}async function handleMoveQuiz(_0x3dfbd2){const _0xda2874=_0x470ff8;actionTargetId=_0x3dfbd2;const _0x5eeb83=document[_0xda2874(0x8b2)](_0xda2874(0x5f8));_0x5eeb83['innerHTML']=_0xda2874(0x7a9),moveQuizModal[_0xda2874(0xaa8)][_0xda2874(0x5b2)](_0xda2874(0x856));try{const _0x1f8d33=collection(db,_0xda2874(0x718)+appId+'/public/data/projects'),_0x47425a=await getDocs(_0x1f8d33),_0x293017=_0x47425a['docs'][_0xda2874(0x6b7)](_0x326b3d=>({'id':_0x326b3d['id'],..._0x326b3d['data']()})),_0x3f476c=_0x293017['filter'](_0x914dba=>_0x914dba['id']!==currentProjectId);if(_0x3f476c[_0xda2874(0x9b5)]===0x0){_0x5eeb83[_0xda2874(0xb6e)]=_0xda2874(0x4c3),document[_0xda2874(0x8b2)](_0xda2874(0x657))[_0xda2874(0x6cf)]=!![];return;}_0x5eeb83['innerHTML']=_0x3f476c[_0xda2874(0x6b7)](_0x257213=>_0xda2874(0x5ea)+_0x257213['id']+'\x22>'+_0x257213[_0xda2874(0x31e)]+_0xda2874(0x39e))['join'](''),document[_0xda2874(0x8b2)](_0xda2874(0x657))[_0xda2874(0x6cf)]=![];}catch(_0x269a25){console[_0xda2874(0x6c4)](_0xda2874(0x39b),_0x269a25),showMessage(_0xda2874(0x64f)),moveQuizModal['classList'][_0xda2874(0x4de)](_0xda2874(0x856));}}async function confirmMoveQuiz(){const _0x1835f5=_0x470ff8,_0x22499e=document[_0x1835f5(0x8b2)]('move-quiz-project-select')[_0x1835f5(0x593)];if(!_0x22499e){showMessage(_0x1835f5(0x948));return;}if(!actionTargetId)return;const _0x5b630b=doc(db,_0x1835f5(0x718)+appId+_0x1835f5(0x51f),actionTargetId);try{await updateDoc(_0x5b630b,{'projectId':_0x22499e}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal[_0x1835f5(0xaa8)][_0x1835f5(0x4de)](_0x1835f5(0x856)),actionTargetId=null;}catch(_0x48cb20){console[_0x1835f5(0x6c4)](_0x1835f5(0x766),_0x48cb20),showMessage(_0x1835f5(0x10d));}}async function handleQuizSettings(_0x48cdde){const _0x52587d=_0x470ff8;actionTargetId=_0x48cdde;const _0x41dfab=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x48cdde);try{const _0x19ed38=await getDoc(_0x41dfab);if(_0x19ed38[_0x52587d(0x811)]()){const _0x1d325c=_0x19ed38[_0x52587d(0x79e)](),_0xc12818=_0x1d325c['settings']||{},_0x1a17c9=_0x1d325c[_0x52587d(0x622)][_0x52587d(0x9b5)];document[_0x52587d(0x8b2)](_0x52587d(0xad7))['value']=_0xc12818['shuffle']||'none',document[_0x52587d(0x8b2)](_0x52587d(0x681))[_0x52587d(0x593)]=_0xc12818[_0x52587d(0x95c)]||_0x52587d(0xab0),document[_0x52587d(0x8b2)](_0x52587d(0xb24))[_0x52587d(0x593)]=_0xc12818[_0x52587d(0x728)]||_0x52587d(0x61b),document[_0x52587d(0x8b2)]('modal-timer-duration-input')['value']=_0xc12818[_0x52587d(0x878)]||0xa,document[_0x52587d(0x8b2)](_0x52587d(0x287))[_0x52587d(0x593)]=_0xc12818[_0x52587d(0xab2)]||Math['floor'](_0x1a17c9/0x2),document['getElementById'](_0x52587d(0x287))[_0x52587d(0x115)]=_0x1a17c9,document[_0x52587d(0x8b2)](_0x52587d(0x5d9))['checked']=_0xc12818['isAdaptive']||![],document[_0x52587d(0x8b2)](_0x52587d(0x78a))[_0x52587d(0x25a)]=_0xc12818['loopUntilPass']||![];const _0x3a8ee4=_0xc12818[_0x52587d(0x6fe)]||![];document[_0x52587d(0x8b2)](_0x52587d(0x96e))[_0x52587d(0x25a)]=_0x3a8ee4,document[_0x52587d(0x8b2)](_0x52587d(0x6d9))['value']=_0xc12818[_0x52587d(0x8ad)]||_0x52587d(0x236);const _0xbf1600=document[_0x52587d(0x8b2)](_0x52587d(0x35d));_0xbf1600[_0x52587d(0xaa8)][_0x52587d(0xa25)](_0x52587d(0x856),!_0x3a8ee4),document[_0x52587d(0x8b2)](_0x52587d(0xb24))[_0x52587d(0x35e)](new Event('change')),quizSettingsModal[_0x52587d(0xaa8)][_0x52587d(0x5b2)](_0x52587d(0x856));}else showMessage(_0x52587d(0x85b));}catch(_0x52be5b){console[_0x52587d(0x6c4)](_0x52587d(0x9dd),_0x52be5b),showMessage(_0x52587d(0x968));}}async function confirmQuizSettings(){const _0x39db65=_0x470ff8;if(!actionTargetId)return;const _0x4d3b7b=doc(db,_0x39db65(0x718)+appId+_0x39db65(0x51f),actionTargetId),_0x48cc22={'shuffle':document['getElementById'](_0x39db65(0xad7))['value'],'resultsDisplay':document['getElementById']('modal-results-display-select')[_0x39db65(0x593)],'timerMode':document['getElementById'](_0x39db65(0xb24))[_0x39db65(0x593)],'timerDuration':parseInt(document[_0x39db65(0x8b2)]('modal-timer-duration-input')[_0x39db65(0x593)])||0xa,'passingScore':parseInt(document['getElementById'](_0x39db65(0x287))[_0x39db65(0x593)])||0x0,'isAdaptive':document[_0x39db65(0x8b2)]('modal-adaptive-quiz-checkbox')[_0x39db65(0x25a)],'loopUntilPass':document[_0x39db65(0x8b2)](_0x39db65(0x78a))[_0x39db65(0x25a)],'isConfidenceScoringEnabled':document['getElementById'](_0x39db65(0x96e))[_0x39db65(0x25a)],'confidenceMode':document[_0x39db65(0x8b2)](_0x39db65(0x6d9))['value']};try{await updateDoc(_0x4d3b7b,{'settings':_0x48cc22}),showMessage(_0x39db65(0x71b)),quizSettingsModal[_0x39db65(0xaa8)]['add'](_0x39db65(0x856)),actionTargetId=null;}catch(_0x41bd30){console[_0x39db65(0x6c4)](_0x39db65(0x3ae),_0x41bd30),showMessage(_0x39db65(0x1e5));}}async function confirmQuizStatus(){const _0xcece99=_0x470ff8;if(!actionTargetId)return;const _0x5b5e85=doc(db,_0xcece99(0x718)+appId+_0xcece99(0x51f),actionTargetId),_0x37840b=document['querySelector']('input[name=\x22status-option\x22]:checked');if(!_0x37840b){showMessage(_0xcece99(0x28d));return;}const _0x5cbdf0=_0x37840b['value'];let _0x418042={};if(_0x5cbdf0===_0xcece99(0x3f0)||_0x5cbdf0===_0xcece99(0x9db))_0x418042={'status':_0x5cbdf0,'startTime':null,'endTime':null};else{if(_0x5cbdf0==='schedule'){const _0x173924=document[_0xcece99(0x8b2)](_0xcece99(0x4b9))[_0xcece99(0x593)],_0x76c5bf=document[_0xcece99(0x8b2)](_0xcece99(0xfb))[_0xcece99(0x593)];if(!_0x173924&&!_0x76c5bf){showMessage(_0xcece99(0xa9a));return;}_0x418042={'status':_0xcece99(0x489),'startTime':_0x173924?new Date(_0x173924)['toISOString']():null,'endTime':_0x76c5bf?new Date(_0x76c5bf)[_0xcece99(0x692)]():null};}}try{await updateDoc(_0x5b5e85,_0x418042),showMessage(_0xcece99(0x2ee)),quizStatusModal['classList'][_0xcece99(0x4de)](_0xcece99(0x856)),actionTargetId=null;}catch(_0x4ee38d){console[_0xcece99(0x6c4)](_0xcece99(0x14c),_0x4ee38d),showMessage('เกิดข้อผิดพลาดในการอัปเดตสถานะ');}}function listenForStudentProfiles(_0x2cc002){const _0x3de63f=collection(db,'artifacts/'+appId+'/public/data/projects/'+_0x2cc002+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x3de63f,_0x21ca70=>{const _0x4ef4bb=_0xb340,_0x1d56a8=_0x21ca70['docs'][_0x4ef4bb(0x6b7)](_0x104a93=>_0x104a93[_0x4ef4bb(0x79e)]());renderLeaderboard(_0x1d56a8,_0x4ef4bb(0x269));},_0x16edc2=>{const _0x2a9dcd=_0xb340;console[_0x2a9dcd(0x6c4)]('Error\x20listening\x20for\x20student\x20profiles:',_0x16edc2),document[_0x2a9dcd(0x8b2)](_0x2a9dcd(0x269))['innerHTML']=_0x2a9dcd(0xa56);});}function renderLeaderboard(_0x2a27e4,_0x5e662c){const _0x10ab11=_0x470ff8,_0xb4029=document[_0x10ab11(0x8b2)](_0x5e662c);if(!_0x2a27e4||_0x2a27e4[_0x10ab11(0x9b5)]===0x0){_0xb4029[_0x10ab11(0xb6e)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>';return;}_0x2a27e4['sort']((_0x18f7fb,_0x402198)=>{const _0x5cde89=_0x10ab11,_0x497a1c=(_0x402198[_0x5cde89(0x779)]||0x0)-(_0x18f7fb[_0x5cde89(0x779)]||0x0);if(_0x497a1c!==0x0)return _0x497a1c;const _0x4efde2=(_0x402198[_0x5cde89(0x59c)]?.[_0x5cde89(0x990)]||0x0)-(_0x18f7fb[_0x5cde89(0x59c)]?.['specialist']||0x0);if(_0x4efde2!==0x0)return _0x4efde2;const _0x420514=(_0x402198[_0x5cde89(0x59c)]?.[_0x5cde89(0x5fc)]||0x0)-(_0x18f7fb[_0x5cde89(0x59c)]?.[_0x5cde89(0x5fc)]||0x0);if(_0x420514!==0x0)return _0x420514;const _0x12e542=(_0x402198[_0x5cde89(0x59c)]?.['perfect_score']||0x0)-(_0x18f7fb['badgesCount']?.[_0x5cde89(0x808)]||0x0);if(_0x12e542!==0x0)return _0x12e542;const _0x172fe1=(_0x402198[_0x5cde89(0x59c)]?.[_0x5cde89(0x411)]||0x0)-(_0x18f7fb[_0x5cde89(0x59c)]?.[_0x5cde89(0x411)]||0x0);if(_0x172fe1!==0x0)return _0x172fe1;return _0x18f7fb[_0x5cde89(0x29c)][_0x5cde89(0xaf7)](_0x402198['studentName'],'th');});let _0x53b674='';_0x2a27e4[_0x10ab11(0x501)]((_0x2ece67,_0x7645a5)=>{const _0x142e52=_0x10ab11,_0x3a9fc8=_0x7645a5+0x1,_0x2f51f3=_0x2ece67[_0x142e52(0x59c)]||{};let _0x1207b2='';const _0x4ff9aa=['specialist',_0x142e52(0x808),_0x142e52(0x5fc),_0x142e52(0x411)];_0x4ff9aa[_0x142e52(0x501)](_0x592e88=>{const _0x5dac97=_0x142e52;if(_0x2f51f3[_0x592e88]>0x0){const _0x5e91f1=Object[_0x5dac97(0x7ff)](BADGES)['find'](_0x12dbc8=>_0x12dbc8['id']===_0x592e88);_0x5e91f1&&(_0x592e88===_0x5dac97(0x990)?_0x1207b2+=_0x5dac97(0x233)+_0x5e91f1[_0x5dac97(0x20a)]+_0x5dac97(0x2ec)+_0x5e91f1[_0x5dac97(0x81b)]+_0x5dac97(0x67e):_0x1207b2+=_0x5dac97(0x233)+_0x5e91f1[_0x5dac97(0x20a)]+'\x20('+_0x2f51f3[_0x592e88]+_0x5dac97(0x40f)+_0x5e91f1[_0x5dac97(0x81b)]+_0x5dac97(0x8e8)+_0x2f51f3[_0x592e88]+_0x5dac97(0x4df));}}),_0x53b674+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x3a9fc8+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x2ece67['studentName']+_0x142e52(0x90f)+(_0x2ece67[_0x142e52(0x779)]||0x0)+_0x142e52(0x7f8)+(_0x1207b2||'-')+_0x142e52(0x1ec);}),_0xb4029[_0x10ab11(0xb6e)]=_0x53b674;}function displayLoopScreen(_0xd4110,_0x18a9f7,_0x45b3b8){const _0x5700cd=_0x470ff8;let _0x25400d='';_0x45b3b8!==_0x5700cd(0x7de)&&(_0x25400d='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0xd4110+_0x5700cd(0x615)+_0x18a9f7+_0x5700cd(0x41b));const _0xfe39b4=_0x5700cd(0xa49)+_0x25400d+_0x5700cd(0x226);studentResultArea['innerHTML']=_0xfe39b4,studentResultArea[_0x5700cd(0xaa8)][_0x5700cd(0x5b2)](_0x5700cd(0x856)),studentQuizArea[_0x5700cd(0xaa8)][_0x5700cd(0x4de)](_0x5700cd(0x856)),document[_0x5700cd(0x8b2)]('retake-quiz-loop-btn')[_0x5700cd(0xda)](_0x5700cd(0x896),()=>{const _0xbdd50c=_0x5700cd;studentResultArea[_0xbdd50c(0xaa8)][_0xbdd50c(0x4de)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x182a36,_0x5e6de5,_0xba0589){const _0x575a39=_0x470ff8,_0x51910f=document[_0x575a39(0x8b2)](_0xba0589),_0x39723b=_0xba0589===_0x575a39(0x9d3),_0x3b1704=_0x5e6de5[_0x575a39(0x622)][_0x575a39(0x9b5)],_0x5235b1=document[_0x575a39(0x8b2)](_0xba0589)[_0x575a39(0x7d2)](_0x575a39(0x971));if(_0x5235b1&&!_0x39723b){const _0x23b051=_0x5235b1['querySelector'](_0x575a39(0x669));_0x23b051[_0x575a39(0xb6e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x182a36||_0x182a36[_0x575a39(0x9b5)]===0x0){_0x51910f['innerHTML']='<tr><td\x20colspan=\x22'+(_0x39723b?0x6:0x8)+_0x575a39(0x388);return;}const _0x507bf1=[..._0x182a36];_0x507bf1[_0x575a39(0xe2)]((_0x331796,_0x51a13a)=>{const _0x5d7766=_0x575a39;let _0x1fa11b,_0x1d0d44;switch(quizLeaderboardSortBy){case _0x5d7766(0x29c):_0x1fa11b=_0x331796[_0x5d7766(0x29c)]||'',_0x1d0d44=_0x51a13a[_0x5d7766(0x29c)]||'';return quizLeaderboardSortOrder==='asc'?_0x1fa11b[_0x5d7766(0xaf7)](_0x1d0d44,'th'):_0x1d0d44[_0x5d7766(0xaf7)](_0x1fa11b,'th');case _0x5d7766(0x36a):_0x1fa11b=_0x331796[_0x5d7766(0x36a)]||0x0,_0x1d0d44=_0x51a13a[_0x5d7766(0x36a)]||0x0;break;case'attempts':_0x1fa11b=_0x331796[_0x5d7766(0x250)]?.[_0x5d7766(0x9b5)]||0x1,_0x1d0d44=_0x51a13a[_0x5d7766(0x250)]?.[_0x5d7766(0x9b5)]||0x1;break;case _0x5d7766(0x3ed):_0x1fa11b=new Date(_0x331796[_0x5d7766(0x3ed)]),_0x1d0d44=new Date(_0x51a13a[_0x5d7766(0x3ed)]);break;case _0x5d7766(0x558):default:_0x1fa11b=_0x331796[_0x5d7766(0x558)],_0x1d0d44=_0x51a13a[_0x5d7766(0x558)];break;}if(_0x1fa11b<_0x1d0d44)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x1fa11b>_0x1d0d44)return quizLeaderboardSortOrder===_0x5d7766(0x87c)?0x1:-0x1;return 0x0;});const _0x43a95d=_0x5e6de5['isRemedial']===!![],_0x2ca21d=_0x5e6de5['settings']?.[_0x575a39(0xab2)]??-0x1;let _0x4afda7='';_0x507bf1['forEach']((_0x1194a8,_0x1d5d27)=>{const _0x459256=_0x575a39,_0x1367db=_0x1d5d27+0x1;let _0x445f72=_0x459256(0x9e6);if(_0x43a95d||_0x2ca21d!==-0x1){let _0x184302=_0x43a95d?_0x1194a8[_0x459256(0x558)]===_0x3b1704:_0x1194a8[_0x459256(0x558)]>=_0x2ca21d;const _0x1d5f25=_0x184302?_0x459256(0x940):_0x459256(0x8b8),_0x1fbca7=_0x184302?'ผ่าน':_0x459256(0x86f);_0x445f72=_0x459256(0x670)+_0x1d5f25+'\x22>'+_0x1fbca7+_0x459256(0x595);}const _0x7a1c48=_0x1194a8[_0x459256(0x250)][_0x1194a8[_0x459256(0x250)]['length']-0x1],_0x264df3=(_0x7a1c48[_0x459256(0xa85)]||[])[_0x459256(0x6b7)](_0x55a000=>{const _0x328361=_0x459256,_0xd18215=Object[_0x328361(0x7ff)](BADGES)[_0x328361(0x43e)](_0x54575b=>_0x54575b['id']===_0x55a000);return _0xd18215?'<span\x20title=\x22'+_0xd18215[_0x328361(0x20a)]+'\x22><i\x20class=\x22fas\x20'+_0xd18215[_0x328361(0x81b)]+_0x328361(0x5ae):'';})[_0x459256(0x221)]('');_0x4afda7+=_0x459256(0x312)+_0x1367db+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x1194a8[_0x459256(0x29c)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x1194a8[_0x459256(0x558)]+_0x459256(0x615)+_0x3b1704+_0x459256(0x3b9)+_0x445f72+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x1194a8[_0x459256(0x36a)]||0x0)+_0x459256(0x3b9)+(_0x39723b?'':_0x459256(0x7a5)+(_0x1194a8[_0x459256(0x250)]?.[_0x459256(0x9b5)]||0x1)+_0x459256(0x90e))+_0x459256(0xae3)+(_0x39723b?'':_0x459256(0x55a)+new Date(_0x1194a8[_0x459256(0x3ed)])[_0x459256(0x47a)](_0x459256(0x424))+_0x459256(0x90e))+_0x459256(0x4e0)+(_0x264df3||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x51910f['innerHTML']=_0x4afda7,_0x5235b1&&!_0x39723b&&_0x5235b1['querySelectorAll'](_0x575a39(0xaf4))[_0x575a39(0x501)](_0x4492ad=>{const _0x56813b=_0x575a39,_0x15eb99=_0x4492ad[_0x56813b(0x7a8)]('.sort-indicator');if(_0x15eb99)_0x15eb99[_0x56813b(0x5b2)]();_0x4492ad[_0x56813b(0xad1)][_0x56813b(0xe2)]===quizLeaderboardSortBy&&(_0x4492ad['innerHTML']+=_0x56813b(0xb18)+(quizLeaderboardSortOrder===_0x56813b(0x87c)?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0xc4fb7c){const _0xf91cd3=_0x470ff8;if(!currentQuizData||!currentQuizData['id']||!_0xc4fb7c){showMessage(_0xf91cd3(0x30c));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0xc4fb7c+_0xf91cd3(0x746),async()=>{const _0x2c67d2=_0xf91cd3,_0x56e91a=currentQuizData['id'],_0x437ad5=doc(db,'artifacts/'+appId+_0x2c67d2(0xa4e)+_0x56e91a+_0x2c67d2(0x651),_0xc4fb7c);try{await deleteDoc(_0x437ad5),showMessage('ลบผลสอบของ\x20'+_0xc4fb7c+_0x2c67d2(0x2fe));}catch(_0xc4015){console[_0x2c67d2(0x6c4)](_0x2c67d2(0x41e),_0xc4015),showMessage(_0x2c67d2(0x949));}});}async function handleLoadQuiz(){const _0x55a7b5=_0x470ff8,_0x44975c=document['getElementById'](_0x55a7b5(0x883)),_0x2877ed=_0x44975c[_0x55a7b5(0x593)]['trim']();if(!_0x2877ed){showMessage('กรุณาป้อนรหัสแบบทดสอบ');return;}loadQuizBtn['disabled']=!![],loadQuizBtn[_0x55a7b5(0xb6e)]=_0x55a7b5(0x9ce);try{const _0x59dcf0=doc(db,_0x55a7b5(0x718)+appId+'/public/data/quizzes',_0x2877ed),_0x164217=await getDoc(_0x59dcf0);if(!_0x164217[_0x55a7b5(0x811)]()){showMessage(_0x55a7b5(0x9d8));return;}currentQuizData={'id':_0x164217['id'],..._0x164217[_0x55a7b5(0x79e)]()};const _0x2f9e2c=currentQuizData[_0x55a7b5(0x6b3)]||_0x55a7b5(0x3f0),_0x41d962=new Date();if(_0x2f9e2c===_0x55a7b5(0x9db)){showMessage(_0x55a7b5(0x2dc));return;}if(_0x2f9e2c===_0x55a7b5(0x489)){const _0x46a765=currentQuizData[_0x55a7b5(0x2b8)]?new Date(currentQuizData['startTime']):null,_0x588c0d=currentQuizData[_0x55a7b5(0x9fc)]?new Date(currentQuizData['endTime']):null;if(_0x46a765&&_0x41d962<_0x46a765){showMessage(_0x55a7b5(0x23f)+_0x46a765['toLocaleString'](_0x55a7b5(0x424),{'hour12':![]}));return;}if(_0x588c0d&&_0x41d962>_0x588c0d){showMessage(_0x55a7b5(0x1b1));return;}}const _0x36c9d6=currentQuizData[_0x55a7b5(0x54d)];currentProjectId=_0x36c9d6;const _0x240ed9=doc(db,'artifacts/'+appId+'/public/data/projects',_0x36c9d6),_0x4352ee=await getDoc(_0x240ed9);if(!_0x4352ee[_0x55a7b5(0x811)]()){showMessage(_0x55a7b5(0x761));return;}const _0x3ae1fd=_0x4352ee[_0x55a7b5(0x79e)]();currentStudentProjectData=_0x3ae1fd,displayStudentNameSelector(_0x3ae1fd['students'],currentQuizData[_0x55a7b5(0x1bc)]);}catch(_0x5426e0){console[_0x55a7b5(0x6c4)]('Error\x20loading\x20quiz\x20for\x20student:',_0x5426e0),showMessage(_0x55a7b5(0xce));}finally{loadQuizBtn[_0x55a7b5(0x6cf)]=![],loadQuizBtn[_0x55a7b5(0xb6e)]='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleJoinLiveGame(){const _0x4cdd88=_0x470ff8,_0x5b9827=document[_0x4cdd88(0x8b2)](_0x4cdd88(0x159)),_0x59c57d=document[_0x4cdd88(0x8b2)]('nickname-input'),_0x5777e5=document[_0x4cdd88(0x8b2)](_0x4cdd88(0x224)),_0x10cdca=_0x5b9827[_0x4cdd88(0x593)]['trim'](),_0x4835dc=_0x59c57d['value']['trim']();if(!_0x10cdca||!_0x4835dc){showMessage(_0x4cdd88(0x5e5));return;}_0x5777e5['disabled']=!![],_0x5777e5['innerHTML']=_0x4cdd88(0x12d);try{const _0x162b9e=collection(db,_0x4cdd88(0x718)+appId+'/public/data/liveGames'),_0x4450bd=query(_0x162b9e,where(_0x4cdd88(0xa73),'==',_0x10cdca),where('status','in',[_0x4cdd88(0x21e),_0x4cdd88(0x241)])),_0x13b484=await getDocs(_0x4450bd);if(_0x13b484[_0x4cdd88(0x5ff)]){showMessage(_0x4cdd88(0x521));return;}const _0x1c8ebf=_0x13b484['docs'][0x0],_0x85c86f=_0x1c8ebf['data']();currentLiveGameId=_0x1c8ebf['id'];const _0x4fd5e0=_0x85c86f['quizId'],_0x4047d0=doc(db,'artifacts/'+appId+_0x4cdd88(0x51f),_0x4fd5e0),_0x4dc593=await getDoc(_0x4047d0);if(!_0x4dc593[_0x4cdd88(0x811)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x4dc593['id'],..._0x4dc593[_0x4cdd88(0x79e)]()};if(_0x85c86f[_0x4cdd88(0x190)]&&_0x85c86f[_0x4cdd88(0x190)][_0x4835dc]){const _0x5746b0=_0x85c86f['players'][_0x4835dc];if(_0x5746b0[_0x4cdd88(0x6b3)]===_0x4cdd88(0x9db)){_0x5777e5[_0x4cdd88(0xb6e)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...';const _0x5aeecd={};_0x5aeecd[_0x4cdd88(0x548)+_0x4835dc+_0x4cdd88(0x565)]=_0x4cdd88(0x3f0),await updateDoc(doc(db,_0x4cdd88(0x718)+appId+_0x4cdd88(0x1a9),currentLiveGameId),_0x5aeecd),showView(_0x4cdd88(0x68d)),currentStudentName=_0x4835dc,listenForLiveGameUpdates();return;}else{showMessage(_0x4cdd88(0x7ce));return;}}if(_0x85c86f[_0x4cdd88(0x6b3)]!==_0x4cdd88(0x21e)){showMessage(_0x4cdd88(0xa7d));return;}_0x5777e5[_0x4cdd88(0xb6e)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';const _0x561fa8={};_0x561fa8[_0x4cdd88(0x548)+_0x4835dc]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':'active'},await updateDoc(doc(db,_0x4cdd88(0x718)+appId+_0x4cdd88(0x1a9),currentLiveGameId),_0x561fa8),currentStudentName=_0x4835dc,listenForLiveGameUpdates();}catch(_0x38d7ab){console[_0x4cdd88(0x6c4)]('Error\x20joining\x20live\x20game:',_0x38d7ab),showMessage(_0x4cdd88(0x4d4));}finally{_0x5777e5[_0x4cdd88(0x6cf)]=![],_0x5777e5[_0x4cdd88(0xb6e)]=_0x4cdd88(0x771);}}function displayStudentNameSelector(_0x309ec0,_0xc85611){const _0x4117a0=_0x470ff8,_0x591e8e=document[_0x4117a0(0x8b2)]('student-name-select');document[_0x4117a0(0x8b2)](_0x4117a0(0xa91))['textContent']=_0x4117a0(0x153)+_0xc85611,!_0x309ec0||_0x309ec0[_0x4117a0(0x9b5)]===0x0?(_0x591e8e[_0x4117a0(0xb6e)]=_0x4117a0(0x2d5),startQuizBtn[_0x4117a0(0x6cf)]=!![]):(_0x591e8e[_0x4117a0(0xb6e)]=_0x4117a0(0x2fc),_0x309ec0['forEach'](_0x2a2bfc=>{const _0x4e9c3b=_0x4117a0,_0x2d63f8=document['createElement'](_0x4e9c3b(0x86a));_0x2d63f8[_0x4e9c3b(0x593)]=_0x2a2bfc,_0x2d63f8[_0x4e9c3b(0x464)]=_0x2a2bfc,_0x591e8e[_0x4e9c3b(0x584)](_0x2d63f8);}),startQuizBtn[_0x4117a0(0x6cf)]=![]),studentInitialView[_0x4117a0(0xaa8)][_0x4117a0(0x4de)](_0x4117a0(0x856)),studentNameSelectionView[_0x4117a0(0xaa8)]['remove'](_0x4117a0(0x856));}function shuffleArray(_0x5922f1){const _0x2b4bc2=_0x470ff8;for(let _0x9438ca=_0x5922f1['length']-0x1;_0x9438ca>0x0;_0x9438ca--){const _0x5b83ff=Math[_0x2b4bc2(0x8ec)](Math[_0x2b4bc2(0x3c3)]()*(_0x9438ca+0x1));[_0x5922f1[_0x9438ca],_0x5922f1[_0x5b83ff]]=[_0x5922f1[_0x5b83ff],_0x5922f1[_0x9438ca]];}}function getShuffledQuiz(_0x5e1027){const _0xa2cb7c=_0x470ff8;let _0x1a6434=JSON[_0xa2cb7c(0x25b)](JSON[_0xa2cb7c(0x1b9)](_0x5e1027));const _0xfd855f=_0x1a6434[_0xa2cb7c(0x893)]?.[_0xa2cb7c(0x9f3)]||_0xa2cb7c(0x61b);if(_0xfd855f==='none')return _0x1a6434;return(_0xfd855f===_0xa2cb7c(0x6ea)||_0xfd855f==='both')&&shuffleArray(_0x1a6434[_0xa2cb7c(0x622)]),(_0xfd855f==='choices_only'||_0xfd855f===_0xa2cb7c(0xb31))&&_0x1a6434[_0xa2cb7c(0x622)]['forEach'](_0x50d2c4=>{const _0x2ad690=_0xa2cb7c,_0x56b3c4=_0x50d2c4[_0x2ad690(0x345)]||_0x1a6434[_0x2ad690(0x497)];if(_0x50d2c4[_0x2ad690(0xb6f)]){let _0x530206=_0x50d2c4['options']['map']((_0x4b9f7c,_0x126e25)=>({'text':_0x4b9f7c,'isCorrect':_0x126e25===_0x50d2c4[_0x2ad690(0x5ad)]}));shuffleArray(_0x530206),_0x50d2c4[_0x2ad690(0xb6f)]=_0x530206['map'](_0x5d0a0f=>_0x5d0a0f[_0x2ad690(0x12b)]),_0x50d2c4['correctAnswerIndex']=_0x530206[_0x2ad690(0x3f7)](_0x2d2a54=>_0x2d2a54[_0x2ad690(0x98e)]);}_0x56b3c4===_0x2ad690(0x43c)&&_0x50d2c4[_0x2ad690(0xb3e)]&&shuffleArray(_0x50d2c4['allResponses']);}),_0x1a6434;}function displayQuizForStudent(_0x19911d){const _0x57cbaf=_0x470ff8;studentQuizArea[_0x57cbaf(0xaa8)][_0x57cbaf(0x5b2)](_0x57cbaf(0x856)),currentDisplayedQuiz=getShuffledQuiz(_0x19911d);currentMode!==_0x57cbaf(0x68e)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener']('fullscreenchange',handleFullscreenChange),document['addEventListener'](_0x57cbaf(0x72d),handleVisibilityChange),enterFullscreen(),window[_0x57cbaf(0xda)](_0x57cbaf(0x12f),resetDimTimer),window[_0x57cbaf(0xda)]('mousedown',resetDimTimer),window[_0x57cbaf(0xda)]('touchstart',resetDimTimer),window[_0x57cbaf(0xda)](_0x57cbaf(0x1af),resetDimTimer),resetDimTimer());const _0x218ce5=currentDisplayedQuiz[_0x57cbaf(0x893)]?.[_0x57cbaf(0x728)]||'none';if(_0x218ce5===_0x57cbaf(0x1ee))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x57cbaf(0x893)][_0x57cbaf(0x878)]);else _0x218ce5===_0x57cbaf(0x4f4)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x5e038d=_0x470ff8,_0xaabf0c=currentDisplayedQuiz[_0x5e038d(0x893)]?.['isConfidenceScoringEnabled']===!![],_0x41f518=currentDisplayedQuiz[_0x5e038d(0x893)]?.['confidenceMode']||_0x5e038d(0x236);let _0x3f6f26=_0x5e038d(0x7be)+currentDisplayedQuiz[_0x5e038d(0x1bc)]+_0x5e038d(0x4d3)+(currentMode===_0x5e038d(0x68e)?_0x5e038d(0x121):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x5e038d(0x622)][_0x5e038d(0x501)]((_0x436815,_0x266a44)=>{const _0x5b2c95=_0x5e038d,_0x325f00=_0x436815['questionType']||currentDisplayedQuiz[_0x5b2c95(0x497)];_0x3f6f26+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(_0x325f00===_0x5b2c95(0x43c)){}else _0x3f6f26+=_0x5b2c95(0x6d3)+(_0x266a44+0x1)+'.\x20'+(_0x436815[_0x5b2c95(0x367)]||_0x436815[_0x5b2c95(0x16b)])+'</p>',_0x436815['imageCode']&&(_0x3f6f26+=_0x5b2c95(0x6a7)+_0x436815[_0x5b2c95(0x4b5)]+'</div>');_0x3f6f26+=_0x5b2c95(0x94d);switch(_0x325f00){case'short_answer':_0x3f6f26+=_0x5b2c95(0x534)+_0x266a44+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x5b2c95(0x618):_0x3f6f26+=_0x5b2c95(0x125)+_0x266a44+_0x5b2c95(0x563)+_0x266a44+_0x5b2c95(0x451)+_0x266a44+_0x5b2c95(0xaab),_0x3f6f26+=_0x5b2c95(0x125)+_0x266a44+_0x5b2c95(0x7ec)+_0x266a44+_0x5b2c95(0x90a)+_0x266a44+_0x5b2c95(0x920);break;case _0x5b2c95(0x43c):_0x3f6f26+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>'+_0x436815['stem']+_0x5b2c95(0xa54)+_0x266a44+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x436815[_0x5b2c95(0xb3e)]['map'](_0x235c67=>_0x5b2c95(0x5ea)+_0x235c67+'\x22>'+_0x235c67+_0x5b2c95(0x39e))[_0x5b2c95(0x221)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;default:_0x3f6f26+=_0x436815[_0x5b2c95(0xb6f)]['map']((_0x5e4c48,_0x321589)=>_0x5b2c95(0x773)+_0x266a44+_0x5b2c95(0x57f)+_0x321589+'\x22\x20name=\x22question'+_0x266a44+_0x5b2c95(0x43d)+_0x321589+_0x5b2c95(0x119)+_0x266a44+_0x5b2c95(0x57f)+_0x321589+'\x22>'+_0x5e4c48+_0x5b2c95(0x404))[_0x5b2c95(0x221)]('');break;}_0x3f6f26+='</div>',_0xaabf0c&&(_0x3f6f26+=_0x5b2c95(0x7dd),_0x41f518===_0x5b2c95(0x1ab)?_0x3f6f26+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-'+_0x266a44+_0x5b2c95(0xb59)+_0x266a44+'\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22'+_0x266a44+_0x5b2c95(0xa9b)+_0x266a44+_0x5b2c95(0xabd):_0x3f6f26+=_0x5b2c95(0x42e)+_0x266a44+_0x5b2c95(0xb59)+_0x266a44+_0x5b2c95(0x3c7)+_0x266a44+_0x5b2c95(0x701),_0x3f6f26+=_0x5b2c95(0x9ab)),_0x3f6f26+=_0x5b2c95(0x9ab);}),_0x3f6f26+=_0x5e038d(0xe6),_0x3f6f26+=_0x5e038d(0x629),studentQuizArea[_0x5e038d(0xb6e)]=_0x3f6f26;if(currentMode===_0x5e038d(0x68e)){const _0x45764e=document[_0x5e038d(0x8b2)](_0x5e038d(0x31a));if(_0x45764e)_0x45764e[_0x5e038d(0xda)](_0x5e038d(0x896),cancelAdminTest);}const _0x579749=document[_0x5e038d(0x8b2)]('quiz-form');_0x579749&&(_0x579749[_0x5e038d(0xda)](_0x5e038d(0x900),handleSubmitQuiz),_0x579749[_0x5e038d(0xda)](_0x5e038d(0x896),_0x20848c=>{const _0x26bc26=_0x5e038d;if(_0x20848c[_0x26bc26(0x5a3)][_0x26bc26(0xaa8)]['contains'](_0x26bc26(0x201))){const _0x1ead2a=_0x20848c[_0x26bc26(0x5a3)],_0x50ef2a=_0x1ead2a[_0x26bc26(0xad1)]['questionIndex'],_0x568b92=_0x1ead2a[_0x26bc26(0xad1)]['value'];document[_0x26bc26(0x8b2)](_0x26bc26(0x2cf)+_0x50ef2a)[_0x26bc26(0x593)]=_0x568b92;const _0x1686e5=_0x1ead2a[_0x26bc26(0x95a)];_0x1686e5[_0x26bc26(0x9c4)](_0x26bc26(0x231))[_0x26bc26(0x501)](_0x302c37=>_0x302c37[_0x26bc26(0xaa8)][_0x26bc26(0x5b2)]('active')),_0x1ead2a[_0x26bc26(0xaa8)][_0x26bc26(0x4de)]('active');}}));if(window[_0x5e038d(0x821)])window[_0x5e038d(0x821)]['typesetPromise']([studentQuizArea]);}async function handleSubmitQuiz(_0xa344df){const _0x54747c=_0x470ff8;if(_0xa344df)_0xa344df[_0x54747c(0x756)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0xd32d37=document[_0x54747c(0x8b2)](_0x54747c(0xae8));if(!_0xd32d37)return;const _0x160172=currentDisplayedQuiz[_0x54747c(0x893)]?.['isConfidenceScoringEnabled']===!![],_0x44c58a=currentDisplayedQuiz[_0x54747c(0x893)]?.[_0x54747c(0x8ad)]||_0x54747c(0x236);if(_0x160172&&_0x44c58a===_0x54747c(0x1ab)){let _0x6613b4=!![];for(let _0x372cb2=0x0;_0x372cb2<currentDisplayedQuiz[_0x54747c(0x622)][_0x54747c(0x9b5)];_0x372cb2++){const _0x55ac3c=_0xd32d37[_0x54747c(0x7a8)](_0x54747c(0x150)+_0x372cb2);if(!_0x55ac3c||_0x55ac3c['value']===''){_0x6613b4=![];break;}}if(!_0x6613b4){showMessage(_0x54747c(0x4a9));return;}}const _0x12261c=_0xd32d37[_0x54747c(0x7a8)](_0x54747c(0x9da)),_0x827a2b=currentDisplayedQuiz['questions'][_0x54747c(0x868)](_0x5528fe=>_0x5528fe['questionType']==='short_answer');_0x12261c&&(_0x12261c[_0x54747c(0x6cf)]=!![],_0x12261c[_0x54747c(0xb6e)]=_0x827a2b?_0x54747c(0xea):'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...');const _0x193f75=new FormData(_0xd32d37),_0x3bcdaf=currentDisplayedQuiz['questions'][_0x54747c(0x6b7)]((_0x3e9394,_0x3eb672)=>{const _0x5db69e=_0x54747c,_0x50cb6d=_0x193f75[_0x5db69e(0x6a1)]('question'+_0x3eb672);let _0x5937cf;_0x44c58a===_0x5db69e(0x1ab)?_0x5937cf=_0x193f75[_0x5db69e(0x6a1)](_0x5db69e(0x32f)+_0x3eb672):_0x5937cf=_0x193f75['get']('confidence'+_0x3eb672)==='on';let _0x57582e=null;if(_0x50cb6d!==null&&_0x50cb6d!==undefined){const _0xe2ad11=_0x3e9394[_0x5db69e(0x345)]||currentDisplayedQuiz[_0x5db69e(0x497)];_0xe2ad11===_0x5db69e(0x4a1)||_0xe2ad11===_0x5db69e(0x26c)?_0x57582e=parseInt(_0x50cb6d):_0x57582e=_0x50cb6d;}return{'answer':_0x57582e,'wasConfident':_0x5937cf};}),_0x2bc2dd=currentQuizData['id'],_0x5c0c4b=doc(db,_0x54747c(0x718)+appId+'/public/data/quizzes/'+_0x2bc2dd+_0x54747c(0x651),currentStudentName),_0x1024fd=await getDoc(_0x5c0c4b),_0x4ba191=_0x1024fd[_0x54747c(0x811)]()?_0x1024fd[_0x54747c(0x79e)]():{},_0x417838=_0x4ba191['attempts']||[];await processAndSubmitAnswers(_0x3bcdaf,_0x417838);}async function gradeShortAnswerWithAI(_0x383daa,_0x4d6473){const _0x15d6f3=_0x470ff8;if(!_0x383daa||!_0x4d6473)return![];try{const _0xfc7ddf=_0x15d6f3(0x8f7)+_0x383daa+_0x15d6f3(0x253)+_0x4d6473+_0x15d6f3(0x374),_0x10bf33={'contents':[{'role':_0x15d6f3(0x5ef),'parts':[{'text':_0xfc7ddf}]}]},_0x38a93f=_0x15d6f3(0x63d),_0x1c9e37=_0x15d6f3(0x99a)+_0x38a93f,_0xf4e9ec=await fetch(_0x1c9e37,{'method':_0x15d6f3(0x443),'headers':{'Content-Type':_0x15d6f3(0xa23)},'body':JSON[_0x15d6f3(0x1b9)](_0x10bf33)});if(!_0xf4e9ec['ok'])throw new Error(_0x15d6f3(0x83a));const _0x1303da=await _0xf4e9ec[_0x15d6f3(0x7bf)](),_0x38f122=_0x1303da[_0x15d6f3(0x268)][0x0][_0x15d6f3(0x77b)]['parts'][0x0][_0x15d6f3(0x12b)]['trim']()[_0x15d6f3(0x136)]();return _0x38f122===_0x15d6f3(0x184);}catch(_0x564a66){return console[_0x15d6f3(0x6c4)](_0x15d6f3(0x9ef),_0x564a66),![];}}async function processAndSubmitAnswers(_0x1b87e3,_0x57da5b){const _0x2d5285=_0x470ff8;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x2d5285(0x9d0)]('fullscreenchange',handleFullscreenChange),document['removeEventListener'](_0x2d5285(0x72d),handleVisibilityChange);let _0x55bc75=0x0;const _0x14a0b3=[],_0x3a9727=currentDisplayedQuiz[_0x2d5285(0x622)]['length'];let _0x19a41f=0x0,_0x55478c=[];const _0x431e7f=currentDisplayedQuiz[_0x2d5285(0x622)];for(let _0x933c6=0x0;_0x933c6<_0x431e7f[_0x2d5285(0x9b5)];_0x933c6++){const _0x3bc523=_0x431e7f[_0x933c6],_0x5e452d=_0x1b87e3[_0x933c6],_0xe3b196=_0x5e452d?_0x5e452d[_0x2d5285(0x729)]:null,_0x1e5cf8=_0x5e452d?_0x5e452d[_0x2d5285(0xb4e)]:null;let _0x3df8e0=![],_0x38e62c=0x0;if(_0xe3b196!==null&&_0xe3b196!==''){const _0x3e2988=_0x3bc523[_0x2d5285(0x345)]||currentDisplayedQuiz[_0x2d5285(0x497)];switch(_0x3e2988){case _0x2d5285(0x43c):_0x3df8e0=_0xe3b196===_0x3bc523[_0x2d5285(0x198)];break;case'true_false':const _0x4529c7=_0xe3b196===!![]||_0xe3b196===_0x2d5285(0x184);_0x3df8e0=_0x4529c7===_0x3bc523[_0x2d5285(0x600)];break;case _0x2d5285(0x9af):_0x3df8e0=await gradeShortAnswer(_0xe3b196,_0x3bc523);break;case _0x2d5285(0x4a1):default:_0x3df8e0=Number(_0xe3b196)===_0x3bc523['correctAnswerIndex'];break;}}if(currentDisplayedQuiz[_0x2d5285(0x893)]?.['isConfidenceScoringEnabled']){const _0x567315=_0x5e452d?_0x5e452d['wasConfident']:null;if(_0x3df8e0&&(_0x567315===!![]||_0x567315===_0x2d5285(0xb66)))_0x38e62c=0x2;else{if(_0x3df8e0)_0x38e62c=0x1;else{if(!_0x3df8e0&&(_0x567315===![]||_0x567315===_0x2d5285(0x68b)||_0x567315===null))_0x38e62c=0x0;else!_0x3df8e0&&(_0x567315===!![]||_0x567315===_0x2d5285(0xb66))&&(_0x38e62c=-0x1);}}}else _0x38e62c=_0x3df8e0?0x1:0x0;_0x55bc75+=_0x38e62c;if(_0x3df8e0){_0x19a41f++;if(_0x19a41f===0x3)_0x55478c[_0x2d5285(0xb16)](BADGES[_0x2d5285(0x787)]['id']);}else _0x19a41f=0x0;let _0x35fad8=null;_0x3bc523[_0x2d5285(0xb6f)]&&_0xe3b196!==null&&(_0x35fad8=_0x3bc523[_0x2d5285(0xb6f)][_0xe3b196]),_0x14a0b3['push']({'questionId':_0x3bc523['id'],'answer':_0xe3b196,'answerText':_0x35fad8,'isCorrect':_0x3df8e0,'wasConfident':_0x1e5cf8,'pointsAwarded':_0x38e62c,'originalQuestionText':_0x3bc523[_0x2d5285(0x283)]||_0x3bc523[_0x2d5285(0x16b)]});}const _0x5d888d=_0x14a0b3[_0x2d5285(0x8dd)](_0x48e55b=>_0x48e55b[_0x2d5285(0x98e)])[_0x2d5285(0x9b5)],_0x2ee19a=currentDisplayedQuiz['settings']?.[_0x2d5285(0xab2)]??Math[_0x2d5285(0x8ec)](_0x3a9727/0x2);_0x5d888d===_0x3a9727&&_0x3a9727>0x0&&!currentDisplayedQuiz['isRemedial']&&_0x55478c[_0x2d5285(0xb16)](BADGES[_0x2d5285(0xa4a)]['id']);const _0x5a4605=currentDisplayedQuiz[_0x2d5285(0x893)]?.[_0x2d5285(0x728)];if(_0x5a4605===_0x2d5285(0x1ee)&&quizStartTime){const _0x146ee2=(new Date()-quizStartTime)/0x3e8,_0x4c38de=currentDisplayedQuiz[_0x2d5285(0x893)]['timerDuration']*0x3c;_0x5d888d>=_0x2ee19a&&_0x146ee2<_0x4c38de/0x2&&_0x55478c['push'](BADGES[_0x2d5285(0x8aa)]['id']);}_0x57da5b[_0x2d5285(0x9b5)]===0x0&&_0x5d888d===_0x3a9727&&_0x3a9727>0x0&&_0x55478c[_0x2d5285(0xb16)](BADGES['FIRST_TRY_ACE']['id']);if(_0x57da5b[_0x2d5285(0x9b5)]>0x0){const _0x4bb456=_0x57da5b[0x0][_0x2d5285(0xabc)];if(_0x4bb456<_0x2ee19a&&_0x5d888d>=_0x2ee19a){const _0x55882=_0x57da5b[_0x2d5285(0x868)](_0x180acb=>(_0x180acb[_0x2d5285(0xa85)]||[])[_0x2d5285(0xa57)](BADGES[_0x2d5285(0x7ea)]['id']));!_0x55882&&_0x55478c[_0x2d5285(0xb16)](BADGES[_0x2d5285(0x7ea)]['id']);}}_0x57da5b[_0x2d5285(0x9b5)]===0x4&&_0x55478c[_0x2d5285(0xb16)](BADGES['PERSEVERANCE']['id']);const _0x191d99=currentDisplayedQuiz[_0x2d5285(0x893)][_0x2d5285(0x95c)];if(currentMode===_0x2d5285(0x68e)){handleResultDisplay(_0x191d99,_0x5d888d,_0x55bc75,_0x55478c,_0x14a0b3,_0x3a9727);return;}const _0x23b5bf=currentQuizData['id'],_0x2ee717=doc(db,_0x2d5285(0x718)+appId+'/public/data/quizzes/'+_0x23b5bf+_0x2d5285(0x651),currentStudentName);try{const _0x1bcbf7=[..._0x57da5b],_0x145651={'score':_0x5d888d,'points':_0x55bc75,'badges':Array[_0x2d5285(0xaf3)](new Set(_0x55478c)),'submittedAt':new Date()[_0x2d5285(0x692)](),'answers':_0x14a0b3};_0x1bcbf7[_0x2d5285(0xb16)](_0x145651);const _0x517b6d=_0x57da5b[_0x2d5285(0x9b5)]===0x0?_0x5d888d:_0x57da5b[0x0][_0x2d5285(0xabc)]||0x0,_0x5f33f3=Math[_0x2d5285(0x115)](..._0x1bcbf7[_0x2d5285(0x6b7)](_0x552719=>_0x552719['score']));await setDoc(_0x2ee717,{'studentName':currentStudentName,'totalQuestions':_0x3a9727,'attempts':_0x1bcbf7,'firstScore':_0x517b6d,'bestScore':_0x5f33f3,'latestScore':_0x5d888d,'points':_0x55bc75,'latestSubmittedAt':_0x145651[_0x2d5285(0x4e5)]},{'merge':!![]}),await updateStudentProfile(currentQuizData['projectId'],currentStudentName),handleResultDisplay(_0x191d99,_0x5d888d,_0x55bc75,_0x55478c,_0x14a0b3,_0x3a9727);}catch(_0x2f3e01){console[_0x2d5285(0x6c4)]('Error\x20saving\x20submission:',_0x2f3e01),showMessage(_0x2d5285(0xace));}}async function updateStudentProfile(_0x22a6e1,_0x303b6d){const _0x2a37ea=_0x470ff8,_0x4585ee=doc(db,_0x2a37ea(0x718)+appId+_0x2a37ea(0xaf9)+_0x22a6e1+_0x2a37ea(0x2b2),_0x303b6d);try{const _0x965591=query(collection(db,_0x2a37ea(0x718)+appId+_0x2a37ea(0x51f)),where(_0x2a37ea(0x54d),'==',_0x22a6e1)),_0x24f311=await getDocs(_0x965591),_0x4f8276=new Map(_0x24f311[_0x2a37ea(0xa1f)][_0x2a37ea(0x6b7)](_0x3a3539=>[_0x3a3539['id'],_0x3a3539[_0x2a37ea(0x79e)]()])),_0x38afad=Array[_0x2a37ea(0xaf3)](_0x4f8276[_0x2a37ea(0xa67)]());await runTransaction(db,async _0x58889=>{const _0x31425f=_0x2a37ea;let _0x4a1db1=0x0;const _0x3b9926={};let _0x3539ea=!![],_0x234405=0x0,_0x523cc4=0x0;for(const _0x41dd6d of _0x38afad){const _0x3ada7b=_0x4f8276[_0x31425f(0x6a1)](_0x41dd6d),_0x363343=doc(db,_0x31425f(0x718)+appId+'/public/data/quizzes/'+_0x41dd6d+_0x31425f(0x651),_0x303b6d),_0x2f9619=await _0x58889['get'](_0x363343);if(_0x2f9619[_0x31425f(0x811)]()){const _0x3b2b8b=_0x2f9619[_0x31425f(0x79e)](),_0x563df1=_0x3b2b8b[_0x31425f(0x250)]||[];if(_0x563df1[_0x31425f(0x9b5)]>0x0){const _0x32e325=_0x563df1[_0x31425f(0x75b)]((_0xc794d3,_0x3dd671)=>{const _0x429816=_0x31425f;if(_0x3dd671[_0x429816(0xabc)]>_0xc794d3[_0x429816(0xabc)])return _0x3dd671;if(_0x3dd671[_0x429816(0xabc)]===_0xc794d3['score'])return(_0x3dd671[_0x429816(0x36a)]||0x0)>(_0xc794d3[_0x429816(0x36a)]||0x0)?_0x3dd671:_0xc794d3;return _0xc794d3;},{'score':-0x1,'points':-0x1});_0x32e325[_0x31425f(0xabc)]>-0x1&&(_0x4a1db1+=_0x32e325['points']||0x0,(_0x32e325[_0x31425f(0xa85)]||[])[_0x31425f(0x501)](_0x490f56=>{_0x3b9926[_0x490f56]=(_0x3b9926[_0x490f56]||0x0)+0x1;}));}}if(_0x3ada7b['topic']!==_0x31425f(0x3b8)){_0x523cc4++;if(_0x2f9619[_0x31425f(0x811)]()){_0x234405++;const _0x7869cb=_0x2f9619[_0x31425f(0x79e)]();_0x7869cb[_0x31425f(0x558)]!==_0x7869cb[_0x31425f(0x409)]&&(_0x3539ea=![]);}else _0x3539ea=![];}}_0x523cc4>0x0&&_0x234405===_0x523cc4&&_0x3539ea?_0x3b9926[_0x31425f(0x990)]=0x1:_0x3b9926[_0x31425f(0x990)]=0x0,_0x58889[_0x31425f(0x105)](_0x4585ee,{'studentName':_0x303b6d,'totalPoints':_0x4a1db1,'unlockedBadges':Object[_0x31425f(0xa67)](_0x3b9926)[_0x31425f(0x8dd)](_0x305803=>_0x3b9926[_0x305803]>0x0),'badgesCount':_0x3b9926},{'merge':!![]});});}catch(_0x2c0e86){console[_0x2a37ea(0x6c4)](_0x2a37ea(0x5f5),_0x2c0e86),showMessage(_0x2a37ea(0xcd));}}function startAdminTest(){const _0x4f8a37=_0x470ff8;if(!currentQuizData){showMessage(_0x4f8a37(0xb11));return;}let _0x458550=JSON[_0x4f8a37(0x25b)](JSON[_0x4f8a37(0x1b9)](currentQuizData));currentMode=_0x4f8a37(0x68e),currentStudentName=_0x4f8a37(0xa6a),adminView['classList']['add'](_0x4f8a37(0x856)),studentView[_0x4f8a37(0xaa8)]['remove'](_0x4f8a37(0x856)),studentInitialView[_0x4f8a37(0xaa8)][_0x4f8a37(0x4de)](_0x4f8a37(0x856)),studentNameSelectionView[_0x4f8a37(0xaa8)]['add']('hidden'),studentResultArea[_0x4f8a37(0xaa8)][_0x4f8a37(0x4de)]('hidden'),studentQuizArea['classList'][_0x4f8a37(0x5b2)](_0x4f8a37(0x856)),quizStartTime=new Date(),displayQuizForStudent(_0x458550);}function handleResultDisplay(_0x209a45,_0x4e1cf8,_0x4f4984,_0x14d64e,_0x3dc468,_0x45065a){const _0x164cab=_0x470ff8;if(_0x209a45==='manual_release'){displaySubmissionConfirmation();return;}const _0x399e1e=currentDisplayedQuiz[_0x164cab(0x893)]?.['passingScore']??Math[_0x164cab(0x8ec)](_0x45065a/0x2),_0x5058a9=currentDisplayedQuiz['settings']?.[_0x164cab(0xb3f)]??![],_0x391133=currentDisplayedQuiz[_0x164cab(0x893)]?.[_0x164cab(0x301)]===!![],_0x17040a=_0x4e1cf8<_0x399e1e,_0x3cd2f1=_0x209a45==='half_mark_status'||_0x209a45===_0x164cab(0x197);if(_0x391133&&_0x17040a&&!_0x3cd2f1){_0x209a45===_0x164cab(0xab0)?displayResultsWithAnswers(_0x4e1cf8,_0x4f4984,_0x14d64e,_0x3dc468,_0x45065a,!![]):displayLoopScreen(_0x4e1cf8,_0x45065a,_0x209a45);return;}if(_0x5058a9&&_0x17040a){startAdaptiveFlow(_0x3dc468,_0x4e1cf8,_0x45065a);return;}switch(_0x209a45){case'show_results_and_answers':displayResultsWithAnswers(_0x4e1cf8,_0x4f4984,_0x14d64e,_0x3dc468,_0x45065a);break;case _0x164cab(0x915):displayResultsScoreOnly(_0x4e1cf8,_0x4f4984,_0x14d64e,_0x45065a);break;case'show_pass_fail_only':displayPassFailOnly(_0x4e1cf8,_0x45065a);break;case _0x164cab(0x172):displayHalfMarkResult(_0x4e1cf8,_0x45065a);break;case _0x164cab(0x197):displayPerfectScoreResult(_0x4e1cf8,_0x45065a);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x488f6f){const _0x458352=_0x470ff8;studentReadingArea[_0x458352(0xb6e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x176392='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x488f6f+_0x458352(0x31f)+simpleMathPrompt+_0x458352(0x92c),_0x50b36a={'type':_0x458352(0x882),'properties':{'questionText':{'type':_0x458352(0xb2a)},'options':{'type':_0x458352(0x1f9),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x458352(0x84b)},'explanation':{'type':_0x458352(0xb2a)}},'required':[_0x458352(0x16b),_0x458352(0xb6f),_0x458352(0x5ad),_0x458352(0x94b)]},_0x559fd5={'type':_0x458352(0x882),'properties':{'topic':{'type':_0x458352(0xb2a)},'questions':{'type':_0x458352(0x1f9),'items':_0x50b36a}},'required':[_0x458352(0x1bc),_0x458352(0x622)]};try{const _0xb13c8c=await callAnalysisApi(_0x176392,_0x559fd5);_0xb13c8c[_0x458352(0xb1f)]=!![],studentReadingArea[_0x458352(0xaa8)][_0x458352(0x4de)](_0x458352(0x856));const _0x5b9d60={...currentDisplayedQuiz[_0x458352(0x893)],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0xb13c8c[_0x458352(0x893)]=_0x5b9d60,displayQuizForStudent(_0xb13c8c);}catch(_0x452827){console['error'](_0x458352(0x1e1),_0x452827),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView('student');}}function displayPassFailOnly(_0x1a85f9,_0x453ccf){const _0x3703a3=_0x470ff8,_0x201384=currentDisplayedQuiz['settings']?.[_0x3703a3(0xab2)]??-0x1,_0x5ef341=currentDisplayedQuiz[_0x3703a3(0xb1f)]===!![];let _0x285eec='',_0x32dd9d=![];if(_0x5ef341||_0x201384!==-0x1){_0x32dd9d=_0x5ef341?_0x1a85f9===_0x453ccf:_0x1a85f9>=_0x201384;const _0x3d670d=_0x32dd9d?_0x3703a3(0x940):'bg-red-100\x20text-red-800',_0x4e59e6=_0x32dd9d?'ผ่าน':_0x3703a3(0x86f);_0x285eec=_0x3703a3(0x56e)+_0x3d670d+'\x22>'+_0x4e59e6+_0x3703a3(0x9b3);}else _0x285eec=_0x3703a3(0x9fe);let _0x1d8890=_0x3703a3(0xfe)+currentStudentName+_0x3703a3(0x8d6)+_0x285eec+_0x3703a3(0xc9);studentResultArea[_0x3703a3(0xb6e)]=_0x1d8890,studentResultArea[_0x3703a3(0xaa8)][_0x3703a3(0x5b2)](_0x3703a3(0x856)),studentQuizArea[_0x3703a3(0xaa8)][_0x3703a3(0x4de)](_0x3703a3(0x856)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x32dd9d});}function cancelAdminTest(){const _0x2aaf8c=_0x470ff8;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document['removeEventListener'](_0x2aaf8c(0x2d9),handleFullscreenChange),document[_0x2aaf8c(0x9d0)](_0x2aaf8c(0x72d),handleVisibilityChange),currentMode=_0x2aaf8c(0x9d9),studentView[_0x2aaf8c(0xaa8)]['add']('hidden'),adminView['classList']['remove'](_0x2aaf8c(0x856)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView('project-detail');}function setupResultScreenBackButton(_0x87d7bc){const _0x4bf486=_0x470ff8,_0x380b08={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x87d7bc};if(_0x380b08['isLooping']){const _0x204a16='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea[_0x4bf486(0x18b)]('beforeend',_0x204a16),document[_0x4bf486(0x8b2)](_0x4bf486(0x732))[_0x4bf486(0xda)](_0x4bf486(0x896),()=>{const _0x53fab4=_0x4bf486;studentResultArea[_0x53fab4(0xaa8)][_0x53fab4(0x4de)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x15758c=_0x4bf486(0x219),_0x833684=currentMode==='admin-testing',_0x5d79e8=_0x833684?_0x4bf486(0xb70):_0x4bf486(0x745);let _0x3d5045='';_0x380b08[_0x4bf486(0x410)]&&(_0x3d5045+=_0x4bf486(0x4dc));let _0x159e8f=_0x380b08[_0x4bf486(0x4f3)];_0x159e8f===undefined&&(_0x159e8f=_0x380b08[_0x4bf486(0xabc)]<_0x380b08[_0x4bf486(0x409)]);_0x159e8f&&(_0x3d5045+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x3d5045+=_0x4bf486(0x183)+_0x15758c+_0x4bf486(0x339)+_0x5d79e8+_0x4bf486(0x2d7);const _0x3f59bc=_0x4bf486(0x73d)+_0x3d5045+'</div>';studentResultArea[_0x4bf486(0x18b)]('beforeend',_0x3f59bc),studentResultArea[_0x4bf486(0x7a8)](_0x4bf486(0x9b4))?.[_0x4bf486(0xda)](_0x4bf486(0x896),handleShowStudentRankings);const _0x2e6af2=studentResultArea[_0x4bf486(0x7a8)](_0x4bf486(0x752));_0x2e6af2&&_0x2e6af2[_0x4bf486(0xda)](_0x4bf486(0x896),()=>{const _0x3be3ae=_0x4bf486;studentResultArea[_0x3be3ae(0xaa8)][_0x3be3ae(0x4de)](_0x3be3ae(0x856)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x4bf486(0x8b2)](_0x15758c)[_0x4bf486(0xda)](_0x4bf486(0x896),()=>{const _0x96163b=_0x4bf486;_0x833684?(currentMode=_0x96163b(0x9d9),studentView[_0x96163b(0xaa8)][_0x96163b(0x4de)](_0x96163b(0x856)),adminView[_0x96163b(0xaa8)][_0x96163b(0x5b2)](_0x96163b(0x856)),showView(_0x96163b(0xaf2))):(showView(_0x96163b(0x53d)),document[_0x96163b(0x8b2)](_0x96163b(0x883))[_0x96163b(0x593)]='');});}function displayResultsWithAnswers(_0x494a1f,_0x324d1e,_0x3bf1d5,_0x55dedb,_0x3e3a57,_0x200cb4=![]){const _0x52d845=_0x470ff8,_0x17262a=_0x3e3a57>0x0?_0x494a1f/_0x3e3a57*0x64:0x0,_0x5a2cb2=currentDisplayedQuiz[_0x52d845(0x893)]?.[_0x52d845(0xab2)]??-0x1,_0x107367=currentDisplayedQuiz[_0x52d845(0xb1f)]===!![];let _0x4b2c20='';if(_0x107367||_0x5a2cb2!==-0x1){let _0x2f799a=_0x107367?_0x494a1f===_0x3e3a57:_0x494a1f>=_0x5a2cb2;const _0x987fc1=_0x2f799a?_0x52d845(0x940):'bg-red-100\x20text-red-800',_0x23e064=_0x2f799a?'ผ่าน':_0x52d845(0x86f);_0x4b2c20=_0x52d845(0xa42)+_0x987fc1+'\x22>'+_0x23e064+_0x52d845(0x188);}let _0x324900='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x494a1f+_0x52d845(0x6d5)+_0x3e3a57+_0x52d845(0x462)+_0x4b2c20+_0x52d845(0xc3)+_0x324d1e+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x17262a[_0x52d845(0x750)](0x0)+_0x52d845(0x89a);currentDisplayedQuiz[_0x52d845(0x622)][_0x52d845(0x501)]((_0xc5cb6f,_0x24f60e)=>{const _0x6c07fb=_0x52d845,_0x32a726=_0x55dedb[_0x24f60e],_0x3adee5=_0x32a726[_0x6c07fb(0x729)],_0xf46625=_0x32a726['isCorrect'],_0x40e972=_0xc5cb6f[_0x6c07fb(0x345)]||currentDisplayedQuiz[_0x6c07fb(0x497)];_0x324900+=_0x6c07fb(0x962)+(_0xf46625?'border-green-300\x20bg-green-50':_0x6c07fb(0x2c6))+_0x6c07fb(0x721)+(_0x24f60e+0x1)+'.\x20'+(_0xc5cb6f[_0x6c07fb(0x283)]||_0xc5cb6f[_0x6c07fb(0x16b)])+_0x6c07fb(0x4b8);switch(_0x40e972){case _0x6c07fb(0x43c):const _0x164325=_0x3adee5||_0x6c07fb(0x2be),_0x5388bc=_0xc5cb6f[_0x6c07fb(0x198)];_0x324900+=_0x6c07fb(0x9b6)+(!_0xf46625?_0x6c07fb(0x413):'')+'\x22>'+_0x164325+_0x6c07fb(0x56f);!_0xf46625&&(_0x324900+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x5388bc+_0x6c07fb(0x188));break;case'short_answer':_0x324900+=_0x6c07fb(0x536)+(_0x3adee5||_0x6c07fb(0x2be))+_0x6c07fb(0x188),_0x324900+=_0x6c07fb(0x2b4)+_0xc5cb6f[_0x6c07fb(0x76e)]+_0x6c07fb(0x188);break;case _0x6c07fb(0x618):_0x324900+=_0x6c07fb(0x53f)+(_0xc5cb6f[_0x6c07fb(0x600)]===!![]?_0x6c07fb(0xa14):'')+'\x20'+(_0x3adee5===_0x6c07fb(0x184)&&!_0xf46625?'line-through\x20text-red-700':'')+_0x6c07fb(0x11d),_0x324900+=_0x6c07fb(0x53f)+(_0xc5cb6f[_0x6c07fb(0x600)]===![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x3adee5===_0x6c07fb(0x8c2)&&!_0xf46625?_0x6c07fb(0x413):'')+'\x22>ไม่ใช่</p>';break;default:_0x324900+=_0xc5cb6f[_0x6c07fb(0xb6f)][_0x6c07fb(0x6b7)]((_0x3080f6,_0x5c922d)=>{const _0x4d92dd=_0x6c07fb;let _0x1d656e='',_0x51f342='';if(_0x5c922d===_0xc5cb6f['correctAnswerIndex'])_0x1d656e='font-bold\x20text-green-700',_0x51f342=_0x4d92dd(0x9ba);else _0x5c922d===_0x3adee5&&(_0x1d656e='font-bold\x20text-red-700\x20line-through',_0x51f342=_0x4d92dd(0x116));return _0x4d92dd(0x744)+_0x1d656e+'\x22>'+_0x51f342+_0x3080f6+_0x4d92dd(0x9ab);})[_0x6c07fb(0x221)]('');break;}_0x324900+=_0x6c07fb(0x684)+(_0xc5cb6f['explanation']||_0x6c07fb(0x8af))+_0x6c07fb(0x9ab);if(!_0xf46625){const _0x257e45=_0xc5cb6f['stem']||_0xc5cb6f[_0x6c07fb(0x16b)];_0x324900+='<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22'+escape(_0x257e45)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x324900+=_0x6c07fb(0x9ab);}),studentResultArea[_0x52d845(0xb6e)]=_0x324900,renderEarnedBadges(_0x3bf1d5,_0x52d845(0x9c8)),studentResultArea['classList']['remove'](_0x52d845(0x856)),studentQuizArea[_0x52d845(0xaa8)][_0x52d845(0x4de)]('hidden'),setupResultScreenBackButton({'isLooping':_0x200cb4,'score':_0x494a1f,'totalQuestions':_0x3e3a57,'showRankings':!![]});if(window[_0x52d845(0x821)])window['MathJax'][_0x52d845(0x697)]([studentResultArea]);}function displayResultsScoreOnly(_0x4aee66,_0x36ebb7,_0x57ae68,_0x1abd22){const _0x4d9c1f=_0x470ff8,_0x23f43b=_0x1abd22>0x0?_0x4aee66/_0x1abd22*0x64:0x0,_0x19b640=currentDisplayedQuiz[_0x4d9c1f(0x893)]?.[_0x4d9c1f(0xab2)]??-0x1,_0xe8792a=currentDisplayedQuiz[_0x4d9c1f(0xb1f)]===!![];let _0x242809='';if(_0xe8792a||_0x19b640!==-0x1){let _0x5a684b=_0xe8792a?_0x4aee66===_0x1abd22:_0x4aee66>=_0x19b640;const _0x2525c4=_0x5a684b?_0x4d9c1f(0x940):_0x4d9c1f(0x8b8),_0x3848c3=_0x5a684b?_0x4d9c1f(0x82e):_0x4d9c1f(0x86f);_0x242809='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x2525c4+'\x22>'+_0x3848c3+_0x4d9c1f(0x188);}let _0x4a25ed=_0x4d9c1f(0xfe)+currentStudentName+_0x4d9c1f(0x3b4)+_0x4aee66+_0x4d9c1f(0x852)+_0x1abd22+_0x4d9c1f(0x462)+_0x242809+_0x4d9c1f(0xc3)+_0x36ebb7+_0x4d9c1f(0x28f)+_0x23f43b[_0x4d9c1f(0x750)](0x0)+_0x4d9c1f(0x21f);studentResultArea['innerHTML']=_0x4a25ed,renderEarnedBadges(_0x57ae68,_0x4d9c1f(0x9c8)),studentResultArea[_0x4d9c1f(0xaa8)][_0x4d9c1f(0x5b2)](_0x4d9c1f(0x856)),studentQuizArea['classList'][_0x4d9c1f(0x4de)](_0x4d9c1f(0x856)),setupResultScreenBackButton({'score':_0x4aee66,'totalQuestions':_0x1abd22,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x3df02c=_0x470ff8;let _0x463b58=_0x3df02c(0xa5c)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x3df02c(0xb6e)]=_0x463b58,studentResultArea['classList']['remove'](_0x3df02c(0x856)),studentQuizArea['classList'][_0x3df02c(0x4de)](_0x3df02c(0x856)),document[_0x3df02c(0x8b2)](_0x3df02c(0x6d0))['addEventListener'](_0x3df02c(0x896),()=>{const _0x226f5a=_0x3df02c;showView(_0x226f5a(0x53d)),document[_0x226f5a(0x8b2)](_0x226f5a(0x883))[_0x226f5a(0x593)]='';});}function renderEarnedBadges(_0x513116,_0xaaf9e3){const _0x213fc5=_0x470ff8,_0x39cdec=document[_0x213fc5(0x8b2)](_0xaaf9e3);if(!_0x39cdec||!_0x513116||_0x513116['length']===0x0)return;let _0x446a80='';_0x513116[_0x213fc5(0x501)]((_0x21743a,_0x3e6d2a)=>{const _0x49df1c=_0x213fc5,_0x3ea31a=Object[_0x49df1c(0x7ff)](BADGES)[_0x49df1c(0x43e)](_0xc715ab=>_0xc715ab['id']===_0x21743a);_0x3ea31a&&(_0x446a80+=_0x49df1c(0xac0)+_0x3e6d2a*0.2+_0x49df1c(0x26d)+_0x3ea31a[_0x49df1c(0x67f)]+_0x49df1c(0x298)+_0x3ea31a[_0x49df1c(0x81b)]+_0x49df1c(0x520)+_0x3ea31a[_0x49df1c(0x20a)]+_0x49df1c(0xb01));}),_0x39cdec[_0x213fc5(0xb6e)]=_0x446a80;}function startPresentation(_0x13293){const _0x75e19d=_0x470ff8;currentQuizData=getShuffledQuiz(_0x13293),currentPresentationSlide=0x0,presentationModal[_0x75e19d(0x3cb)][_0x75e19d(0x22e)]=_0x75e19d(0xb0e),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x5130e1=_0x470ff8;document[_0x5130e1(0x94f)]&&document[_0x5130e1(0x8e7)](),presentationModal['style'][_0x5130e1(0x22e)]=_0x5130e1(0x61b);}function renderPresentationSlide(_0x24c1d1){const _0x1ff371=_0x470ff8,_0x17aad6=document['getElementById'](_0x1ff371(0xa94));if(!currentQuizData||!currentQuizData['questions']||!currentQuizData[_0x1ff371(0x622)][_0x24c1d1]){_0x17aad6[_0x1ff371(0xb6e)]=_0x1ff371(0x199);return;}const _0x336bb5=currentQuizData['questions'][_0x24c1d1],_0x416ef8=_0x336bb5['questionType']||currentQuizData[_0x1ff371(0x497)];_0x17aad6[_0x1ff371(0xb6e)]='';let _0x583da9=_0x1ff371(0x695)+(_0x336bb5[_0x1ff371(0x4b5)]?_0x1ff371(0x6a7)+_0x336bb5[_0x1ff371(0x4b5)]+_0x1ff371(0x9ab):'')+_0x1ff371(0x19b)+(_0x24c1d1+0x1)+'.\x20'+(_0x336bb5['stem']||_0x336bb5[_0x1ff371(0x16b)])+_0x1ff371(0xb15);switch(_0x416ef8){case'matching_item':_0x583da9+=_0x336bb5[_0x1ff371(0xb3e)][_0x1ff371(0x6b7)](_0x210c22=>_0x1ff371(0x677)+_0x210c22+_0x1ff371(0x5d3))['join']('');break;case _0x1ff371(0x618):_0x583da9+=_0x1ff371(0x229),_0x583da9+=_0x1ff371(0x364);break;case'fill_in_no_choices':case'short_answer':_0x583da9+=_0x1ff371(0x517);break;case _0x1ff371(0x26c):case _0x1ff371(0x4a1):default:_0x583da9+=_0x336bb5[_0x1ff371(0xb6f)][_0x1ff371(0x6b7)]((_0x4bd19d,_0x16a963)=>_0x1ff371(0x2e6)+_0x16a963+_0x1ff371(0x68c)+_0x4bd19d+_0x1ff371(0x5d3))['join']('');break;}_0x583da9+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x336bb5[_0x1ff371(0x94b)]||_0x1ff371(0x8af))+_0x1ff371(0x19f),_0x17aad6[_0x1ff371(0xb6e)]=_0x583da9;if(window[_0x1ff371(0x821)])window[_0x1ff371(0x821)]['typesetPromise']([_0x17aad6]);let _0x601842=[];switch(_0x416ef8){case _0x1ff371(0x43c):_0x601842=_0x336bb5[_0x1ff371(0xb3e)]||[];break;case _0x1ff371(0x618):_0x601842=[_0x1ff371(0x976),'ไม่ใช่'];break;default:_0x601842=_0x336bb5['options']||[];break;}const _0x5b1e34=document[_0x1ff371(0x8b2)](_0x1ff371(0x165));_0x5b1e34&&(_0x5b1e34[_0x1ff371(0xb79)]=()=>{openScratchpad(_0x336bb5,_0x601842);});document[_0x1ff371(0x9c4)](_0x1ff371(0xb34))[_0x1ff371(0x501)](_0xe48b10=>{const _0xe0d652=_0x1ff371;_0xe48b10[_0xe0d652(0xda)](_0xe0d652(0x896),_0x3e055d=>revealAnswerForPresentation(_0x24c1d1,_0x3e055d['currentTarget']));});const _0x5e30f2=document['getElementById'](_0x1ff371(0x37d));_0x5e30f2&&_0x5e30f2[_0x1ff371(0xda)](_0x1ff371(0x896),()=>checkShortAnswerForPresentation(_0x24c1d1)),document[_0x1ff371(0x8b2)](_0x1ff371(0xee))[_0x1ff371(0x464)]='ข้อที่\x20'+(_0x24c1d1+0x1)+_0x1ff371(0x615)+currentQuizData[_0x1ff371(0x622)]['length'],document[_0x1ff371(0x8b2)](_0x1ff371(0x6e4))['disabled']=_0x24c1d1===0x0,document['getElementById']('next-question-btn')[_0x1ff371(0x6cf)]=_0x24c1d1===currentQuizData['questions'][_0x1ff371(0x9b5)]-0x1;}async function checkShortAnswerForPresentation(_0x54f048){const _0x40a93b=_0x470ff8,_0x3c74e6=currentQuizData[_0x40a93b(0x622)][_0x54f048],_0x4691a7=document['getElementById']('presentation-short-answer-input'),_0x57d469=document[_0x40a93b(0x8b2)]('check-presentation-answer-btn'),_0x4ca87a=document[_0x40a93b(0x8b2)](_0x40a93b(0x88d)),_0x4e6bd9=document[_0x40a93b(0x8b2)]('presentation-explanation');if(!_0x4691a7||!_0x57d469||!_0x4ca87a||!_0x4e6bd9)return;const _0x3317bc=_0x4691a7[_0x40a93b(0x593)][_0x40a93b(0xf2)]();if(_0x3317bc==='')return;_0x57d469['disabled']=!![],_0x57d469['innerHTML']=_0x40a93b(0x8e2),_0x4691a7[_0x40a93b(0x6cf)]=!![];const _0x1a10ff=await gradeShortAnswer(_0x3317bc,_0x3c74e6);_0x1a10ff?_0x4ca87a[_0x40a93b(0xb6e)]=_0x40a93b(0x6f1):_0x4ca87a[_0x40a93b(0xb6e)]=_0x40a93b(0x378)+_0x3c74e6['idealAnswer']+')',_0x4ca87a['classList'][_0x40a93b(0x5b2)](_0x40a93b(0x856)),_0x4e6bd9['classList'][_0x40a93b(0x5b2)](_0x40a93b(0x856)),_0x57d469[_0x40a93b(0xaa8)]['add']('hidden');}function revealAnswerForPresentation(_0x3686d7,_0x1b5517){const _0x36d7d8=_0x470ff8,_0x78b7cf=currentQuizData[_0x36d7d8(0x622)][_0x3686d7],_0x40fbbc=_0x78b7cf[_0x36d7d8(0x345)]||currentQuizData[_0x36d7d8(0x497)];document[_0x36d7d8(0x9c4)](_0x36d7d8(0xb34))[_0x36d7d8(0x501)](_0x357893=>{const _0x5a2527=_0x36d7d8;_0x357893[_0x5a2527(0x6cf)]=!![],_0x357893[_0x5a2527(0xaa8)][_0x5a2527(0x5b2)](_0x5a2527(0x311));let _0x307c2f=![];if(_0x40fbbc===_0x5a2527(0x4a1)||_0x40fbbc===_0x5a2527(0x26c)){const _0x9dd278=parseInt(_0x357893[_0x5a2527(0xad1)][_0x5a2527(0x8f1)]);_0x307c2f=_0x9dd278===_0x78b7cf[_0x5a2527(0x5ad)];}else{if(_0x40fbbc===_0x5a2527(0x618)){const _0x392f54=_0x357893[_0x5a2527(0xad1)][_0x5a2527(0x729)]===_0x5a2527(0x184);_0x307c2f=_0x392f54===_0x78b7cf[_0x5a2527(0x600)];}else _0x40fbbc===_0x5a2527(0x43c)&&(_0x307c2f=_0x357893[_0x5a2527(0x464)]['trim']()===_0x78b7cf['correctResponse']);}_0x307c2f?_0x357893[_0x5a2527(0xaa8)][_0x5a2527(0x4de)]('bg-green-500',_0x5a2527(0x15b),_0x5a2527(0x8e5)):_0x357893[_0x5a2527(0xaa8)][_0x5a2527(0x4de)](_0x5a2527(0x65e));}),_0x1b5517[_0x36d7d8(0xaa8)][_0x36d7d8(0x5b2)](_0x36d7d8(0x65e));let _0x3adc72=![];if(_0x40fbbc===_0x36d7d8(0x4a1))_0x3adc72=parseInt(_0x1b5517[_0x36d7d8(0xad1)][_0x36d7d8(0x8f1)])===_0x78b7cf[_0x36d7d8(0x5ad)];else{if(_0x40fbbc===_0x36d7d8(0x618))_0x3adc72=_0x1b5517[_0x36d7d8(0xad1)][_0x36d7d8(0x729)]===_0x36d7d8(0x184)===_0x78b7cf[_0x36d7d8(0x600)];else _0x40fbbc==='matching_item'&&(_0x3adc72=_0x1b5517[_0x36d7d8(0x464)]['trim']()===_0x78b7cf['correctResponse']);}!_0x3adc72&&_0x1b5517['classList']['add'](_0x36d7d8(0x544),_0x36d7d8(0x15b),'border-red-700'),document[_0x36d7d8(0x8b2)](_0x36d7d8(0x444))[_0x36d7d8(0xaa8)][_0x36d7d8(0x5b2)]('hidden');}function startWholeQuizTimer(_0x32618c){const _0x560609=_0x470ff8,_0x300ce0=document[_0x560609(0x8b2)](_0x560609(0x62e));if(!_0x300ce0)return;const _0x54d250=Date[_0x560609(0x3a4)]()+_0x32618c*0x3c*0x3e8;_0x300ce0[_0x560609(0xb6e)]=_0x560609(0x1b6);const _0x2fac12=document[_0x560609(0x8b2)]('countdown-display');quizTimerInterval=setInterval(()=>{const _0x1215da=_0x560609,_0x2cbc3c=_0x54d250-Date[_0x1215da(0x3a4)]();if(_0x2cbc3c<=0x0)clearInterval(quizTimerInterval),_0x2fac12['textContent']=_0x1215da(0x631),showMessage(_0x1215da(0x6ef)),handleSubmitQuiz(null);else{const _0x33dc92=Math[_0x1215da(0x8ec)](_0x2cbc3c/0x3e8/0x3c%0x3c)[_0x1215da(0x77c)]()[_0x1215da(0x78f)](0x2,'0'),_0x72a046=Math[_0x1215da(0x8ec)](_0x2cbc3c/0x3e8%0x3c)[_0x1215da(0x77c)]()[_0x1215da(0x78f)](0x2,'0');_0x2fac12[_0x1215da(0x464)]=_0x33dc92+':'+_0x72a046;}},0x3e8);}function renderPerQuestionView(){const _0x5e74a0=_0x470ff8;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0xe8c709=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x79a93b=_0xe8c709['questionType']||currentDisplayedQuiz['quizType'],_0x3c4fc2=currentDisplayedQuiz[_0x5e74a0(0x893)]?.[_0x5e74a0(0x6fe)]===!![];let _0x29eaca=_0x5e74a0(0x4c0)+(currentQuestionIndex+0x1)+_0x5e74a0(0x884)+currentDisplayedQuiz[_0x5e74a0(0x622)][_0x5e74a0(0x9b5)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x5e74a0(0x68e)?_0x5e74a0(0x121):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x5e74a0(0x1bc)]+_0x5e74a0(0x7b3);studentQuizArea[_0x5e74a0(0xb6e)]=_0x29eaca;let _0x8a20ab=_0xe8c709['stem']||_0xe8c709[_0x5e74a0(0x16b)];_0xe8c709['imageCode']&&(_0x8a20ab+=_0x5e74a0(0x6a7)+_0xe8c709[_0x5e74a0(0x4b5)]+_0x5e74a0(0x9ab));let _0x179b9c='';switch(_0x79a93b){case _0x5e74a0(0x9af):case _0x5e74a0(0x9de):_0x179b9c=_0x5e74a0(0x812);break;case _0x5e74a0(0x618):_0x179b9c=_0x5e74a0(0x3f9);break;case'matching_item':_0x179b9c=_0x5e74a0(0x2e3)+(_0xe8c709['allResponses']||[])[_0x5e74a0(0x6b7)](_0x383de2=>_0x5e74a0(0x5ea)+_0x383de2+'\x22>'+_0x383de2+_0x5e74a0(0x39e))['join']('')+_0x5e74a0(0x4b1);break;default:_0xe8c709[_0x5e74a0(0xb6f)]&&(_0x179b9c=_0xe8c709[_0x5e74a0(0xb6f)][_0x5e74a0(0x6b7)]((_0x5e0fcc,_0x43fc7a)=>_0x5e74a0(0xb5f)+_0x43fc7a+_0x5e74a0(0xa5e)+_0x43fc7a+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt'+_0x43fc7a+'\x22>'+_0x5e0fcc+_0x5e74a0(0x109))[_0x5e74a0(0x221)](''));break;}document[_0x5e74a0(0x8b2)](_0x5e74a0(0x273))[_0x5e74a0(0xb6e)]=_0x8a20ab,document[_0x5e74a0(0x8b2)](_0x5e74a0(0xa33))[_0x5e74a0(0xb6e)]=_0x179b9c;const _0x456c10=currentDisplayedQuiz[_0x5e74a0(0x893)]?.[_0x5e74a0(0x6fe)]===!![],_0x3d8b93=currentDisplayedQuiz[_0x5e74a0(0x893)]?.[_0x5e74a0(0x8ad)]||_0x5e74a0(0x236);if(_0x456c10&&_0x3d8b93===_0x5e74a0(0x236)){const _0x581fc6=_0x5e74a0(0x575);studentQuizArea['querySelector'](_0x5e74a0(0x4ed))[_0x5e74a0(0x18b)]('beforeend',_0x581fc6);}studentQuizArea[_0x5e74a0(0x18b)](_0x5e74a0(0x983),_0x5e74a0(0x59f)+(currentQuestionIndex===currentDisplayedQuiz['questions']['length']-0x1?_0x5e74a0(0xcb):_0x5e74a0(0xf4))+_0x5e74a0(0xa6c));currentMode==='admin-testing'&&document[_0x5e74a0(0x8b2)](_0x5e74a0(0x31a))?.['addEventListener']('click',cancelAdminTest);document[_0x5e74a0(0x8b2)](_0x5e74a0(0x137))[_0x5e74a0(0xda)](_0x5e74a0(0x896),()=>handleNextQuestionInTimedMode(![]));if(window[_0x5e74a0(0x821)])window[_0x5e74a0(0x821)]['typesetPromise']([studentQuizArea]);currentDisplayedQuiz[_0x5e74a0(0x893)]?.[_0x5e74a0(0x728)]===_0x5e74a0(0x4f4)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x3c39c8=_0x470ff8,_0x41803d=currentDisplayedQuiz[_0x3c39c8(0x893)][_0x3c39c8(0x878)],_0x4a1adc=document[_0x3c39c8(0x8b2)]('per-question-timer-container');if(!_0x4a1adc)return;let _0xf94e2=_0x41803d;_0x4a1adc[_0x3c39c8(0xb6e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0xf94e2+_0x3c39c8(0x694);const _0x15a370=document['getElementById'](_0x3c39c8(0xc5)),_0x46640c=document[_0x3c39c8(0x8b2)](_0x3c39c8(0xb33));perQuestionTimerInterval=setInterval(()=>{const _0x2d6f93=_0x3c39c8;_0xf94e2--;const _0x3d716c=_0xf94e2/_0x41803d*0x64;_0x15a370[_0x2d6f93(0x3cb)]['width']=_0x3d716c+'%',_0x46640c['textContent']=_0xf94e2,_0xf94e2<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x2d6f93(0x407)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x47d3b1=![]){const _0x36f843=_0x470ff8;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x47b326=null,_0x2408af=![];if(!_0x47d3b1){const _0x1acae8=currentDisplayedQuiz[_0x36f843(0x622)][currentQuestionIndex],_0x57db9e=_0x1acae8[_0x36f843(0x345)]||currentDisplayedQuiz[_0x36f843(0x497)];if(_0x57db9e==='short_answer'||_0x57db9e==='fill_in_no_choices')_0x47b326=document['querySelector'](_0x36f843(0x370))?.[_0x36f843(0x593)]['trim']()??'';else{if(_0x57db9e===_0x36f843(0x43c))_0x47b326=document[_0x36f843(0x7a8)](_0x36f843(0x2d3))?.[_0x36f843(0x593)]??'';else{const _0x57fd6a=document['querySelector'](_0x36f843(0x598));_0x57fd6a&&(_0x47b326=_0x57fd6a[_0x36f843(0x593)]);}}if(_0x47b326===null||_0x47b326===''){showMessage('กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ'),startPerQuestionTimer();return;}const _0x37ecdd=currentDisplayedQuiz[_0x36f843(0x893)]?.[_0x36f843(0x6fe)]===!![],_0x59792c=currentDisplayedQuiz['settings']?.['confidenceMode']||_0x36f843(0x236);if(_0x37ecdd&&_0x59792c===_0x36f843(0x1ab)){document[_0x36f843(0x8b2)](_0x36f843(0x6f7))[_0x36f843(0xad1)][_0x36f843(0x84d)]=_0x36f843(0x58c),document['getElementById']('selected-answer-index-hidden')[_0x36f843(0x593)]=_0x47b326,document['getElementById'](_0x36f843(0x6f7))[_0x36f843(0xaa8)][_0x36f843(0x5b2)](_0x36f843(0x856));return;}const _0x52b3b2=document[_0x36f843(0x8b2)](_0x36f843(0xb68));_0x52b3b2&&(_0x2408af=_0x52b3b2[_0x36f843(0x25a)]);}const _0x34a6b9={'answer':_0x47b326,'wasConfident':_0x2408af};proceedToNextQuestion(_0x34a6b9);}async function finalizePerQuestionQuiz(){const _0x4f7203=_0x470ff8,_0x14e022=currentDisplayedQuiz[_0x4f7203(0x622)][_0x4f7203(0x868)](_0x164c72=>_0x164c72[_0x4f7203(0x345)]===_0x4f7203(0x9af));_0x14e022?showMessage(_0x4f7203(0x333)):showMessage(_0x4f7203(0x1fd));const _0x537429=currentQuizData['id'],_0x231ff0=doc(db,_0x4f7203(0x718)+appId+_0x4f7203(0xa4e)+_0x537429+_0x4f7203(0x651),currentStudentName),_0x85064b=await getDoc(_0x231ff0),_0x1e9e1b=_0x85064b[_0x4f7203(0x811)]()?_0x85064b[_0x4f7203(0x79e)]():{},_0x2012a9=_0x1e9e1b[_0x4f7203(0x250)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x2012a9);}function getResultsFilename(){const _0x2c7772=_0x470ff8,_0xf60cdb=document[_0x2c7772(0x8b2)](_0x2c7772(0x3df))[_0x2c7772(0x464)]['replace'](/[^a-z0-9]/gi,'_')[_0x2c7772(0x136)]();return _0x2c7772(0xb00)+(_0xf60cdb||_0x2c7772(0xb1d));}function exportResultsAsImage(){const _0x5f5178=_0x470ff8,_0x36748b=document['getElementById']('results-table-container');showMessage(_0x5f5178(0xabb)),html2canvas(_0x36748b)[_0x5f5178(0x60b)](_0x3407fc=>{const _0x5e8f8f=_0x5f5178,_0x20f9d2=document[_0x5e8f8f(0x5ed)]('a');_0x20f9d2[_0x5e8f8f(0xa83)]=getResultsFilename()+_0x5e8f8f(0x3de),_0x20f9d2['href']=_0x3407fc[_0x5e8f8f(0x9fb)](_0x5e8f8f(0x7cf)),_0x20f9d2[_0x5e8f8f(0x896)](),messageModal[_0x5e8f8f(0xaa8)]['add'](_0x5e8f8f(0x856));});}function exportResultsAsPDF(){const _0x5bd5bb=_0x470ff8,{jsPDF:_0x16b4f5}=window[_0x5bd5bb(0x10e)],_0x51413d=new _0x16b4f5();_0x51413d['setFont'](_0x5bd5bb(0x32c),_0x5bd5bb(0x2bd)),_0x51413d['autoTable']({'html':_0x5bd5bb(0x8a8)}),_0x51413d['save'](getResultsFilename()+_0x5bd5bb(0x35f));}function exportResultsAsWord(){const _0x4664cd=_0x470ff8,_0x295685='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x4664cd(0xa8b)+_0x4664cd(0x8d1)+_0x4664cd(0x398),_0xb55667='</body></html>',_0x21df79=_0x295685+document['getElementById'](_0x4664cd(0xb65))[_0x4664cd(0xb6e)]+_0xb55667,_0x107e20='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x21df79),_0x7f3445=document[_0x4664cd(0x5ed)]('a');document[_0x4664cd(0x905)]['appendChild'](_0x7f3445),_0x7f3445[_0x4664cd(0x2da)]=_0x107e20,_0x7f3445[_0x4664cd(0xa83)]=getResultsFilename()+_0x4664cd(0x3f2),_0x7f3445[_0x4664cd(0x896)](),document[_0x4664cd(0x905)][_0x4664cd(0x5de)](_0x7f3445);}function exportResultsAsExcel(){const _0x388b77=_0x470ff8,_0x4a62ba=document[_0x388b77(0x8b2)](_0x388b77(0x8f8));let _0x496f66=[];for(let _0x433d59=0x0;_0x433d59<_0x4a62ba[_0x388b77(0x5f1)][_0x388b77(0x9b5)];_0x433d59++){let _0x2c1668=[],_0x2a52bc=_0x4a62ba[_0x388b77(0x5f1)][_0x433d59][_0x388b77(0x9c4)](_0x388b77(0x5af));for(let _0x395621=0x0;_0x395621<_0x2a52bc['length'];_0x395621++){_0x2c1668['push']('\x22'+_0x2a52bc[_0x395621][_0x388b77(0x45c)][_0x388b77(0x214)](/"/g,'\x22\x22')+'\x22');}_0x496f66[_0x388b77(0xb16)](_0x2c1668['join'](','));}const _0x5b6540=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x496f66[_0x388b77(0x221)]('\x0a')],{'type':_0x388b77(0x87e)}),_0x5ac8e2=document[_0x388b77(0x5ed)]('a');_0x5ac8e2['href']=URL[_0x388b77(0xa46)](_0x5b6540),_0x5ac8e2[_0x388b77(0xa83)]=getResultsFilename()+_0x388b77(0x625),_0x5ac8e2[_0x388b77(0x896)]();}function exportTableAsImage(_0x1dc061,_0x199f3d){const _0x58fea4=_0x470ff8,_0x119b17=document[_0x58fea4(0x8b2)](_0x1dc061);if(!_0x119b17){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x119b17)['then'](_0x3c244d=>{const _0x354eaa=_0x58fea4,_0x2cb520=document[_0x354eaa(0x5ed)]('a');_0x2cb520['download']=_0x199f3d+_0x354eaa(0x3de),_0x2cb520[_0x354eaa(0x2da)]=_0x3c244d[_0x354eaa(0x9fb)](_0x354eaa(0x7cf)),_0x2cb520['click'](),messageModal[_0x354eaa(0xaa8)][_0x354eaa(0x4de)](_0x354eaa(0x856));});}function exportTableAsPDF(_0x528056,_0x57004f){const _0x5a9185=_0x470ff8,{jsPDF:_0x27b574}=window[_0x5a9185(0x10e)],_0x377903=new _0x27b574();_0x377903[_0x5a9185(0x1a7)]('helvetica',_0x5a9185(0x2bd)),_0x377903[_0x5a9185(0x543)]({'html':'#'+_0x528056}),_0x377903[_0x5a9185(0x54a)](_0x57004f+_0x5a9185(0x35f));}function exportTableAsWord(_0x430cce,_0x48acbd){const _0x1531c1=_0x470ff8,_0x31038e=document[_0x1531c1(0x8b2)](_0x430cce);if(!_0x31038e){showMessage(_0x1531c1(0xa3b));return;}const _0x345a2c=_0x1531c1(0x9d1)+_0x1531c1(0xa8b)+_0x1531c1(0x8d1)+_0x1531c1(0x398),_0x452579=_0x1531c1(0x3bb),_0x231893=_0x345a2c+_0x31038e['innerHTML']+_0x452579,_0x418cdf=_0x1531c1(0x792)+encodeURIComponent(_0x231893),_0x843abf=document[_0x1531c1(0x5ed)]('a');document[_0x1531c1(0x905)][_0x1531c1(0x584)](_0x843abf),_0x843abf[_0x1531c1(0x2da)]=_0x418cdf,_0x843abf[_0x1531c1(0xa83)]=_0x48acbd+'.doc',_0x843abf[_0x1531c1(0x896)](),document['body'][_0x1531c1(0x5de)](_0x843abf);}function exportTableAsExcel(_0x35a288,_0x2e97d5){const _0x3e7c9e=_0x470ff8,_0x17c3fa=document[_0x3e7c9e(0x8b2)](_0x35a288);if(!_0x17c3fa){showMessage(_0x3e7c9e(0xa3b));return;}let _0x367e21=[];for(let _0x33928a=0x0;_0x33928a<_0x17c3fa[_0x3e7c9e(0x5f1)]['length'];_0x33928a++){let _0x40de63=[],_0x149b98=_0x17c3fa[_0x3e7c9e(0x5f1)][_0x33928a]['querySelectorAll']('td,\x20th');for(let _0x48f334=0x0;_0x48f334<_0x149b98[_0x3e7c9e(0x9b5)];_0x48f334++){_0x40de63[_0x3e7c9e(0xb16)]('\x22'+_0x149b98[_0x48f334][_0x3e7c9e(0x45c)][_0x3e7c9e(0x214)](/"/g,'\x22\x22')+'\x22');}_0x367e21[_0x3e7c9e(0xb16)](_0x40de63[_0x3e7c9e(0x221)](','));}const _0x3ab658=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x367e21[_0x3e7c9e(0x221)]('\x0a')],{'type':_0x3e7c9e(0x87e)}),_0x928e49=document[_0x3e7c9e(0x5ed)]('a');_0x928e49[_0x3e7c9e(0x2da)]=URL['createObjectURL'](_0x3ab658),_0x928e49[_0x3e7c9e(0xa83)]=_0x2e97d5+_0x3e7c9e(0x625),_0x928e49['click']();}function renderAnalytics(_0x4e1889,_0x17cd01){const _0x850a54=_0x470ff8,_0x8f7c43=_0x17cd01[_0x850a54(0x8dd)](_0x3f225e=>_0x3f225e[_0x850a54(0x98f)]!==undefined),_0x1927e3=currentProjectData['students'][_0x850a54(0x9b5)],_0x7ed631=_0x8f7c43[_0x850a54(0x9b5)],_0x18e090=_0x1927e3-_0x7ed631,_0x56c5cd=_0x1927e3>0x0?_0x7ed631/_0x1927e3*0x64:0x0,_0x37a84f=_0x8f7c43[_0x850a54(0x6b7)](_0x6bda45=>_0x6bda45[_0x850a54(0x98f)]),_0x5e6c5e=_0x37a84f['length']>0x0?_0x37a84f[_0x850a54(0x75b)]((_0xd476f6,_0x21759c)=>_0xd476f6+_0x21759c,0x0)/_0x37a84f['length']:0x0,_0x5ac410=_0x4e1889[_0x850a54(0x622)][_0x850a54(0x9b5)],_0x403492=_0x5ac410>0x0?_0x5e6c5e/_0x5ac410*0x64:0x0,_0x468979=calculateItemAnalysis(_0x4e1889,_0x8f7c43),_0x503277=calculateReliabilityKR20(_0x4e1889,_0x8f7c43,_0x468979['perQuestionStats']);let _0x1f5b0e='';if(_0x503277!==null){let _0x35a609='';if(_0x503277>=0.9)_0x35a609=_0x850a54(0x286);else{if(_0x503277>=0.8)_0x35a609=_0x850a54(0x2ea);else{if(_0x503277>=0.7)_0x35a609='ดี';else{if(_0x503277>=0.6)_0x35a609='พอใช้';else _0x35a609=_0x850a54(0x381);}}}_0x1f5b0e=_0x850a54(0x494)+_0x503277[_0x850a54(0x750)](0x2)+_0x850a54(0x805)+_0x35a609+_0x850a54(0x5c5);}const _0x5a9369=document[_0x850a54(0x8b2)](_0x850a54(0x22b));_0x5a9369[_0x850a54(0xb6e)]=_0x850a54(0x4a7)+_0x56c5cd[_0x850a54(0x750)](0x0)+_0x850a54(0x4dd)+_0x7ed631+'/'+_0x1927e3+_0x850a54(0x504)+_0x5e6c5e['toFixed'](0x2)+_0x850a54(0x4bc)+_0x403492['toFixed'](0x0)+_0x850a54(0xa60)+(_0x37a84f[_0x850a54(0x9b5)]>0x0?Math[_0x850a54(0x115)](..._0x37a84f):_0x850a54(0x2b9))+_0x850a54(0x673)+(_0x37a84f[_0x850a54(0x9b5)]>0x0?Math['min'](..._0x37a84f):_0x850a54(0x2b9))+_0x850a54(0x3bd)+_0x1f5b0e+_0x850a54(0x92c);const _0x787916=document['getElementById'](_0x850a54(0x72b));_0x787916&&_0x787916[_0x850a54(0x5b2)]();const _0x1ace68=_0x850a54(0x9d7);_0x5a9369[_0x850a54(0x18b)](_0x850a54(0x21c),_0x1ace68);const _0x5c805c=currentProjectData['students']||[];renderSubmissionChart(_0x7ed631,_0x18e090,_0x8f7c43,_0x5c805c),renderScoreDistributionChart(_0x8f7c43,_0x5ac410),renderQuestionAnalytics(_0x4e1889,_0x8f7c43,_0x5c805c),renderInterestingStats(_0x4e1889,_0x8f7c43);}async function handleExportLessonPDF(){const _0x2ca405=_0x470ff8,_0x3c08f8=document[_0x2ca405(0x8b2)](_0x2ca405(0x7fc)),_0x166518=document[_0x2ca405(0x8b2)](_0x2ca405(0x72f))[_0x2ca405(0x464)],_0x2a418e=window['open']('',_0x2ca405(0x672)),_0x412b75='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x166518+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3c08f8[_0x2ca405(0xb6e)]+_0x2ca405(0x213);_0x2a418e['document'][_0x2ca405(0x952)](_0x412b75),_0x2a418e['document']['close'](),_0x2a418e['onload']=function(){setTimeout(()=>{const _0x281999=_0xb340;_0x2a418e[_0x281999(0xa9d)]();},0x5dc);};}function renderInterestingStats(_0x546f20,_0x10f826){const _0x1f500a=_0x470ff8,_0x46b3f3=document[_0x1f500a(0x8b2)]('interesting-stats-container');if(!_0x46b3f3)return;if(_0x10f826[_0x1f500a(0x9b5)]===0x0){_0x46b3f3[_0x1f500a(0xb6e)]=_0x1f500a(0x106);return;}const _0x675a7c=_0x546f20[_0x1f500a(0x622)][_0x1f500a(0x6b7)]((_0x14fa42,_0x30ce17)=>({'index':_0x30ce17+0x1,'text':_0x14fa42['questionText']||_0x14fa42['stem'],'correct':0x0}));_0x10f826[_0x1f500a(0x501)](_0x25184b=>{const _0x296ed6=_0x1f500a,_0x285714=_0x25184b[_0x296ed6(0x250)][_0x25184b[_0x296ed6(0x250)][_0x296ed6(0x9b5)]-0x1];_0x285714&&_0x285714['answers']&&_0x285714['answers'][_0x296ed6(0x501)](_0x55b0b2=>{const _0x382d4c=_0x296ed6,_0x3a964b=_0x675a7c[_0x382d4c(0x43e)](_0x209251=>_0x209251[_0x382d4c(0x12b)]===_0x55b0b2[_0x382d4c(0xa2d)]);_0x55b0b2['isCorrect']&&_0x3a964b&&_0x3a964b[_0x382d4c(0x97b)]++;});});const _0x1f4abe=_0x10f826[_0x1f500a(0x9b5)],_0x3d8b76=Math[_0x1f500a(0x115)](..._0x675a7c[_0x1f500a(0x6b7)](_0x49fe74=>_0x49fe74[_0x1f500a(0x97b)])),_0xd7b22=Math['min'](..._0x675a7c['map'](_0x20f6ef=>_0x20f6ef['correct'])),_0x5a6c1a=_0x675a7c[_0x1f500a(0x8dd)](_0x570b12=>_0x570b12[_0x1f500a(0x97b)]===_0x3d8b76)['map'](_0x1dde1b=>_0x1f500a(0x204)+_0x1dde1b[_0x1f500a(0x8f1)]),_0x2227f2=_0x675a7c['filter'](_0xbb2433=>_0xbb2433[_0x1f500a(0x97b)]===_0xd7b22)[_0x1f500a(0x6b7)](_0x34319f=>_0x1f500a(0x204)+_0x34319f[_0x1f500a(0x8f1)]),_0x1f41f6=_0x10f826[_0x1f500a(0xe2)]((_0x34f2dd,_0x51e2da)=>_0x51e2da[_0x1f500a(0x98f)]-_0x34f2dd[_0x1f500a(0x98f)])[_0x1f500a(0x8dd)]((_0x35737d,_0x4a90a3,_0x576478)=>_0x35737d['latestScore']===_0x576478[0x0][_0x1f500a(0x98f)]),_0x4df009=_0x10f826[_0x1f500a(0xe2)]((_0x1d473d,_0x2148cd)=>_0x1d473d['latestScore']-_0x2148cd['latestScore'])[_0x1f500a(0x8dd)]((_0x10b0fe,_0x38f51b,_0x2b55de)=>_0x10b0fe[_0x1f500a(0x98f)]===_0x2b55de[0x0][_0x1f500a(0x98f)]),_0x252918='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0x5a6c1a[_0x1f500a(0x221)](',\x20')+_0x1f500a(0x26a)+_0x3d8b76+'\x20/\x20'+_0x1f4abe+_0x1f500a(0x4b7)+_0x2227f2[_0x1f500a(0x221)](',\x20')+_0x1f500a(0x26a)+(_0x1f4abe-_0xd7b22)+_0x1f500a(0x615)+_0x1f4abe+_0x1f500a(0x722)+_0x1f41f6[_0x1f500a(0x6b7)](_0x2f469a=>_0x2f469a[_0x1f500a(0x29c)])[_0x1f500a(0x221)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x1f41f6[0x0][_0x1f500a(0x98f)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>'+_0x4df009[_0x1f500a(0x6b7)](_0x12d122=>_0x12d122[_0x1f500a(0x29c)])[_0x1f500a(0x221)](',\x20')+_0x1f500a(0x6bd)+_0x4df009[0x0][_0x1f500a(0x98f)]+_0x1f500a(0xa90);_0x46b3f3[_0x1f500a(0xb6e)]=_0x252918;}function renderSubmissionChart(_0x2669aa,_0x3789c6,_0x1916c5,_0x18ef7e){const _0xf197f1=_0x470ff8,_0x5ec03e=document['getElementById'](_0xf197f1(0xa06))[_0xf197f1(0x366)]('2d'),_0x901dcd=_0x1916c5['map'](_0x7b1a54=>_0x7b1a54['studentName']),_0x2d1e1c=_0x18ef7e['filter'](_0x1c4369=>!_0x901dcd[_0xf197f1(0xa57)](_0x1c4369));chartInstances[_0xf197f1(0x20f)]&&chartInstances[_0xf197f1(0x20f)]['destroy'](),chartInstances['submission']=new Chart(_0x5ec03e,{'type':'doughnut','data':{'labels':[_0xf197f1(0x523),_0xf197f1(0x5d6)],'datasets':[{'data':[_0x2669aa,_0x3789c6],'backgroundColor':[_0xf197f1(0x51a),_0xf197f1(0x261)],'borderColor':[_0xf197f1(0x5f0),_0xf197f1(0x5f0)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0xf197f1(0x450)},'tooltip':{'callbacks':{'label':function(_0x5a0617){const _0x296d5b=_0xf197f1;let _0x42947e=_0x5a0617['label']||'';return _0x42947e&&(_0x42947e+=':\x20'),_0x42947e+=_0x5a0617[_0x296d5b(0x985)],_0x42947e;},'afterLabel':function(_0x59cbde){const _0x59ad15=_0xf197f1;let _0x316d3d;return _0x59cbde[_0x59ad15(0x49e)]===0x0?_0x316d3d=_0x901dcd:_0x316d3d=_0x2d1e1c,_0x316d3d[_0x59ad15(0x9b5)]>0x0?_0x316d3d[_0x59ad15(0x221)]('\x0a'):_0x59ad15(0x296);}}}}}});}function renderScoreDistributionChart(_0x2f8441,_0x2e3ce2){const _0x4a5437=_0x470ff8,_0x34ae5d=document[_0x4a5437(0x8b2)](_0x4a5437(0x7c5))['getContext']('2d'),_0x57543d={};for(let _0xb206bd=0x0;_0xb206bd<=_0x2e3ce2;_0xb206bd++){_0x57543d[_0xb206bd]=0x0;}_0x2f8441[_0x4a5437(0x501)](_0x408a4f=>{const _0x50c8db=_0x4a5437;_0x57543d[_0x408a4f[_0x50c8db(0x98f)]]!==undefined&&_0x57543d[_0x408a4f['latestScore']]++;}),chartInstances[_0x4a5437(0xabc)]&&chartInstances[_0x4a5437(0xabc)][_0x4a5437(0x1aa)](),chartInstances[_0x4a5437(0xabc)]=new Chart(_0x34ae5d,{'type':_0x4a5437(0x207),'data':{'labels':Object[_0x4a5437(0xa67)](_0x57543d),'datasets':[{'label':_0x4a5437(0xa92),'data':Object[_0x4a5437(0x7ff)](_0x57543d),'backgroundColor':_0x4a5437(0x6e2),'borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':'คะแนน'}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x4b90d0){const _0xc7405e=_0x4a5437,_0x189661=_0x4b90d0[_0xc7405e(0x1e8)],_0x1e1f1b=_0x2f8441['filter'](_0x52d2a1=>_0x52d2a1[_0xc7405e(0x98f)]==_0x189661)['map'](_0x55398=>_0x55398[_0xc7405e(0x29c)]);return _0x1e1f1b['length']>0x0?_0x1e1f1b['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x2ed6a4,_0x497277,_0x4fa21e){const _0x52dea8=_0x470ff8,_0x29ad32=document[_0x52dea8(0x8b2)](_0x52dea8(0x245));if(_0x4fa21e[_0x52dea8(0x9b5)]===0x0){_0x29ad32['innerHTML']=_0x52dea8(0x414);return;}const _0x557911=calculateItemAnalysis(_0x2ed6a4,_0x497277),_0x2abfb3=calculateDistractorAnalysis(_0x2ed6a4,_0x497277);let _0x2d1e76='';_0x557911[_0x52dea8(0xb49)]&&(_0x2d1e76='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x557911[_0x52dea8(0xb49)][_0x52dea8(0xaeb)][_0x52dea8(0x9b5)]+_0x52dea8(0x66f)+_0x557911[_0x52dea8(0xb49)][_0x52dea8(0xaeb)]['map'](_0x475b02=>_0x52dea8(0x623)+_0x475b02+_0x52dea8(0x3ca))[_0x52dea8(0x221)]('')+_0x52dea8(0x7fa)+_0x557911[_0x52dea8(0xb49)][_0x52dea8(0x25c)]['length']+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x557911[_0x52dea8(0xb49)][_0x52dea8(0x25c)][_0x52dea8(0x6b7)](_0x17975e=>_0x52dea8(0x623)+_0x17975e+_0x52dea8(0x3ca))[_0x52dea8(0x221)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x5222aa='';const _0x2536e9=_0x497277[_0x52dea8(0x6b7)](_0x17e894=>_0x17e894[_0x52dea8(0x29c)]),_0x24fcc9=_0x3f5d10=>{const _0xe17759=_0x52dea8;if(_0x3f5d10>=0.8)return _0xe17759(0xb1e);if(_0x3f5d10>=0.6)return _0xe17759(0x88f);if(_0x3f5d10>=0.4)return _0xe17759(0x6ff);if(_0x3f5d10>=0.2)return _0xe17759(0x257);return _0xe17759(0x144);},_0x59dd13=_0x5ec7a9=>{const _0x22a7cc=_0x52dea8;if(_0x5ec7a9<0x0)return _0x22a7cc(0x350);if(_0x5ec7a9>=0.4)return _0x22a7cc(0x3c5);if(_0x5ec7a9>=0.3)return _0x22a7cc(0x32b);if(_0x5ec7a9>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return _0x22a7cc(0xaee);},_0x578b2f=_0x2ca1ae=>{const _0x5bd8ea=_0x52dea8,_0x4f3c4c=_0x2ca1ae['toFixed'](0x0);if(parseFloat(_0x4f3c4c)===0x64)return _0x5bd8ea(0xa62)+_0x4f3c4c+_0x5bd8ea(0x781);if(_0x2ca1ae>=0x32)return _0x5bd8ea(0xaa2)+_0x4f3c4c+_0x5bd8ea(0x781);return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x4f3c4c+_0x5bd8ea(0x781);};_0x2ed6a4[_0x52dea8(0x622)]['forEach']((_0x1316dd,_0x28879e)=>{const _0x39a28f=_0x52dea8,_0x14ea12=_0x557911[_0x39a28f(0x5a2)][_0x28879e],_0x11cae7=_0x2abfb3[_0x28879e],_0x7b43a8=_0x1316dd[_0x39a28f(0x283)]||_0x1316dd['questionText']||_0x1316dd[_0x39a28f(0x367)];let _0x37b7a6=0x0;const _0x5c530b=[],_0x1aa802=[];_0x497277[_0x39a28f(0x501)](_0x5bf2e8=>{const _0xa39353=_0x39a28f,_0x62f5b8=_0x5bf2e8['attempts'][_0x5bf2e8[_0xa39353(0x250)]['length']-0x1];if(_0x62f5b8&&_0x62f5b8[_0xa39353(0x335)]){const _0x146694=_0x62f5b8[_0xa39353(0x335)]['find'](_0x196165=>_0x196165[_0xa39353(0xa2d)]===_0x7b43a8)??_0x62f5b8[_0xa39353(0x335)][_0x28879e]??null;_0x146694&&(_0x146694[_0xa39353(0x98e)]?(_0x37b7a6++,_0x5c530b['push'](_0x5bf2e8[_0xa39353(0x29c)])):_0x1aa802[_0xa39353(0xb16)](_0x5bf2e8[_0xa39353(0x29c)]));}});const _0x2daf60=_0x497277[_0x39a28f(0x9b5)]>0x0?_0x37b7a6/_0x497277[_0x39a28f(0x9b5)]*0x64:0x0,_0x45cc24=_0x4fa21e[_0x39a28f(0x8dd)](_0x3e7bbc=>!_0x2536e9['includes'](_0x3e7bbc)),_0x4d9261=_0x14ea12?_0x39a28f(0x63a)+_0x14ea12['p'][_0x39a28f(0x750)](0x2)+_0x39a28f(0xb53)+_0x24fcc9(_0x14ea12['p'])+_0x39a28f(0x816)+_0x14ea12['r'][_0x39a28f(0x750)](0x2)+_0x39a28f(0xb53)+_0x59dd13(_0x14ea12['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x578b2f(_0x2daf60)+_0x39a28f(0xb48):'';let _0xec5f6='';_0x11cae7&&(_0xec5f6=_0x39a28f(0x38e)+Object[_0x39a28f(0xa67)](_0x11cae7)[_0x39a28f(0x6b7)](_0x3907e0=>{const _0x449809=_0x39a28f,_0x2d11e6=_0x11cae7[_0x3907e0],_0x497fbe=parseInt(_0x3907e0)===_0x1316dd[_0x449809(0x5ad)],_0x4908a7=!_0x497fbe&&_0x2d11e6[_0x449809(0xa22)]>_0x2d11e6[_0x449809(0x91b)];return _0x449809(0x630)+(_0x497fbe?_0x449809(0x3d1):'')+_0x449809(0x6fb)+(_0x497fbe?'✔\x20':'')+_0x2d11e6[_0x449809(0x12b)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x2d11e6[_0x449809(0x91b)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x2d11e6['lower_group_count']+'\x20'+(_0x4908a7?'👍':'')+_0x449809(0xb76)+_0x2d11e6[_0x449809(0x178)]+_0x449809(0x25e);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x26cc6f='';_0x14ea12&&_0x14ea12[_0x39a28f(0x50f)]&&(_0x26cc6f=_0x39a28f(0x10c)+_0x14ea12[_0x39a28f(0x50f)][_0x39a28f(0x9b5)]+_0x39a28f(0x8f6)+_0x14ea12['upperGroupResponders'][_0x39a28f(0x6b7)](_0x322ad1=>_0x39a28f(0x623)+(_0x322ad1[_0x39a28f(0x98e)]?_0x39a28f(0x804):_0x39a28f(0xa50))+'\x20'+_0x322ad1[_0x39a28f(0x20a)]+'</li>')[_0x39a28f(0x221)]('')+_0x39a28f(0x8e4)+_0x14ea12[_0x39a28f(0x9c1)]['length']+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x14ea12['lowerGroupResponders'][_0x39a28f(0x6b7)](_0x5adcc8=>_0x39a28f(0x623)+(_0x5adcc8[_0x39a28f(0x98e)]?_0x39a28f(0x804):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x5adcc8[_0x39a28f(0x20a)]+_0x39a28f(0x3ca))[_0x39a28f(0x221)]('')+_0x39a28f(0xc7)),_0x5222aa+=_0x39a28f(0x2d2)+(_0x28879e+0x1)+':\x20'+_0x7b43a8+_0x39a28f(0x10b)+_0x4d9261+_0x39a28f(0xa3f)+_0x7b43a8+_0x39a28f(0x735)+_0x37b7a6+_0x39a28f(0x884)+_0x497277['length']+_0x39a28f(0x5c7)+_0x2daf60[_0x39a28f(0x750)](0x0)+_0x39a28f(0x906)+_0x5c530b[_0x39a28f(0x9b5)]+_0x39a28f(0xa3c)+(_0x5c530b[_0x39a28f(0x9b5)]>0x0?_0x5c530b['join'](',\x20'):_0x39a28f(0x296))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x1aa802['length']+_0x39a28f(0xa3c)+(_0x1aa802[_0x39a28f(0x9b5)]>0x0?_0x1aa802['join'](',\x20'):_0x39a28f(0x296))+_0x39a28f(0x29b)+_0x45cc24['length']+_0x39a28f(0xa3c)+(_0x45cc24[_0x39a28f(0x9b5)]>0x0?_0x45cc24[_0x39a28f(0x221)](',\x20'):'ไม่มี')+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xec5f6+_0x39a28f(0x6e7)+_0x26cc6f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x29ad32[_0x52dea8(0xb6e)]=_0x2d1e76+_0x5222aa;try{window[_0x52dea8(0x821)]&&MathJax[_0x52dea8(0x697)]&&MathJax['typesetPromise']([_0x29ad32]);}catch(_0x14aecd){console['error'](_0x52dea8(0x305),_0x14aecd);}}function calculateDistractorAnalysis(_0xb9b43a,_0x1e235b){const _0x1fe222=_0x470ff8,_0x24059e={};if(_0x1e235b['length']<0x2)return _0x24059e;const _0x59e89d=[..._0x1e235b][_0x1fe222(0xe2)]((_0x4db5c9,_0x455821)=>{const _0x4a35ae=_0x1fe222,_0x249440=_0x455821[_0x4a35ae(0x98f)]-_0x4db5c9[_0x4a35ae(0x98f)];if(_0x249440!==0x0)return _0x249440;const _0x5d7ee1=_0x4db5c9[_0x4a35ae(0x250)]?.[_0x4a35ae(0x9b5)]||0x1,_0x159f71=_0x455821[_0x4a35ae(0x250)]?.[_0x4a35ae(0x9b5)]||0x1,_0xc85d3=_0x5d7ee1-_0x159f71;if(_0xc85d3!==0x0)return _0xc85d3;const _0x1a3297=new Date(_0x4db5c9[_0x4a35ae(0x3ed)]),_0x3f2c68=new Date(_0x455821[_0x4a35ae(0x3ed)]),_0x2a0e6a=_0x1a3297-_0x3f2c68;if(_0x2a0e6a!==0x0)return _0x2a0e6a;return _0x4db5c9[_0x4a35ae(0x29c)][_0x4a35ae(0xaf7)](_0x455821[_0x4a35ae(0x29c)],'th');}),_0x575c62=_0x59e89d[_0x1fe222(0x9b5)],_0x17cb34=Math[_0x1fe222(0x115)](0x1,Math[_0x1fe222(0x8ec)](_0x575c62*0.33)),_0x4d6958=_0x59e89d['slice'](0x0,_0x17cb34),_0x1c35a3=_0x59e89d[_0x1fe222(0x2b0)](-_0x17cb34);return _0xb9b43a[_0x1fe222(0x622)]['forEach']((_0xa753d1,_0x5d8d10)=>{const _0x273b60=_0x1fe222;if(_0xa753d1['questionType']!==_0x273b60(0x4a1)||!_0xa753d1[_0x273b60(0xb6f)])return;const _0xf782da=_0xa753d1[_0x273b60(0x16b)],_0x3e46f7={};_0xa753d1[_0x273b60(0xb6f)]['forEach']((_0x8e3ede,_0x1755e5)=>{_0x3e46f7[_0x1755e5]={'text':_0x8e3ede,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x59e89d['forEach'](_0x15820a=>{const _0x23a38b=_0x273b60,_0x4f57ed=_0x15820a[_0x23a38b(0x250)][_0x15820a['attempts'][_0x23a38b(0x9b5)]-0x1],_0x28c69d=_0x4f57ed['answers'][_0x23a38b(0x43e)](_0x3f2311=>_0x3f2311['originalQuestionText']===_0xf782da);if(_0x28c69d&&_0x28c69d[_0x23a38b(0x729)]!==null){const _0x339c62=_0xa753d1['options'][_0x23a38b(0x3f7)](_0x23c1e2=>_0x23c1e2===_0x28c69d[_0x23a38b(0x898)]);_0x339c62!==-0x1&&_0x3e46f7[_0x339c62]&&(_0x3e46f7[_0x339c62]['total']++,_0x4d6958[_0x23a38b(0xa57)](_0x15820a)&&_0x3e46f7[_0x339c62]['upper_group_count']++,_0x1c35a3[_0x23a38b(0xa57)](_0x15820a)&&_0x3e46f7[_0x339c62]['lower_group_count']++);}}),_0x24059e[_0x5d8d10]=_0x3e46f7;}),_0x24059e;}function calculateReliabilityKR20(_0x1a993d,_0x31f422,_0x1d2ee6){const _0x38067b=_0x470ff8,_0x1b5800=_0x1a993d[_0x38067b(0x622)][_0x38067b(0x9b5)];if(_0x1b5800<0x2||_0x31f422[_0x38067b(0x9b5)]<0x2)return null;const _0x45efed=_0x31f422[_0x38067b(0x6b7)](_0x5bc9b0=>_0x5bc9b0[_0x38067b(0x98f)]),_0x52787a=_0x45efed[_0x38067b(0x75b)]((_0x4f251d,_0x2670b4)=>_0x4f251d+_0x2670b4,0x0)/_0x45efed['length'],_0x8f4a15=_0x45efed['map'](_0x305968=>Math[_0x38067b(0x1ae)](_0x305968-_0x52787a,0x2))[_0x38067b(0x75b)]((_0x5965dd,_0x1b215a)=>_0x5965dd+_0x1b215a,0x0)/_0x45efed[_0x38067b(0x9b5)];if(_0x8f4a15===0x0)return null;let _0x1dc134=0x0;for(let _0x25648e=0x0;_0x25648e<_0x1b5800;_0x25648e++){const _0x3c9012=_0x1d2ee6[_0x25648e]?.['p'];if(_0x3c9012===undefined)continue;const _0x4a60e8=0x1-_0x3c9012;_0x1dc134+=_0x3c9012*_0x4a60e8;}if(_0x1dc134===0x0)return null;const _0x1a025b=_0x1b5800/(_0x1b5800-0x1)*(0x1-_0x1dc134/_0x8f4a15);if(_0x1a025b>0x1)return null;return _0x1a025b;}async function handleAnalyzeClass(){const _0x286417=_0x470ff8;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x493783=collection(db,'artifacts/'+appId+_0x286417(0xa4e)+currentQuizData['id']+_0x286417(0x651)),_0x2ac5d5=await getDocs(_0x493783),_0x109bc0=_0x2ac5d5['docs'][_0x286417(0x6b7)](_0x43bfbe=>_0x43bfbe[_0x286417(0x79e)]());if(_0x109bc0['length']<0x2){showMessage(_0x286417(0x5ba));return;}const _0x40edfc=document[_0x286417(0x8b2)](_0x286417(0x1a4));_0x40edfc[_0x286417(0xb6e)]=_0x286417(0x637),document[_0x286417(0x8b2)](_0x286417(0x785))['disabled']=!![];const _0x1d7c3b=_0x109bc0[_0x286417(0x6b7)]((_0x506a70,_0x556b4c)=>{const _0x1c185a=_0x286417,_0x456d46=_0x506a70['attempts'][_0x506a70[_0x1c185a(0x250)][_0x1c185a(0x9b5)]-0x1];if(!_0x456d46)return'';return _0x1c185a(0x8f5)+(_0x556b4c+0x1)+'\x20('+_0x506a70[_0x1c185a(0x29c)]+_0x1c185a(0x46c)+_0x456d46[_0x1c185a(0xabc)]+'/'+_0x506a70['totalQuestions']+_0x1c185a(0x42c)+JSON[_0x1c185a(0x1b9)](_0x456d46[_0x1c185a(0x335)])+_0x1c185a(0x9a2);})[_0x286417(0x221)](_0x286417(0x566)),_0x42afa4=_0x286417(0x712)+currentQuizData[_0x286417(0x1bc)]+_0x286417(0xae0)+JSON['stringify'](currentQuizData[_0x286417(0x622)])+_0x286417(0xa0f)+_0x1d7c3b+_0x286417(0xa0c),_0x27f352={'type':_0x286417(0x882),'properties':{'classStrengths':{'type':_0x286417(0x1f9),'items':{'type':_0x286417(0xb2a)}},'classWeaknesses':{'type':_0x286417(0x1f9),'items':{'type':_0x286417(0xb2a)}},'teacherSuggestions':{'type':_0x286417(0x1f9),'items':{'type':_0x286417(0xb2a)}}},'required':[_0x286417(0x510),_0x286417(0x240),'teacherSuggestions']};try{const _0x206e4f=await callAnalysisApi(_0x42afa4,_0x27f352);displayClassAnalysis(_0x206e4f);}catch(_0x189ef1){console['error'](_0x286417(0x170),_0x189ef1),_0x40edfc[_0x286417(0xb6e)]=_0x286417(0xa82)+_0x189ef1[_0x286417(0x80a)]+_0x286417(0x88a);}finally{document[_0x286417(0x8b2)](_0x286417(0x785))[_0x286417(0x6cf)]=![];}}function displayClassAnalysis(_0x4d7de5){const _0xf0e4d3=_0x470ff8,_0x508c34=document['getElementById'](_0xf0e4d3(0x1a4));if(!_0x4d7de5){_0x508c34[_0xf0e4d3(0xb6e)]=_0xf0e4d3(0x919);return;}_0x508c34[_0xf0e4d3(0xb6e)]=_0xf0e4d3(0x8fb)+_0x4d7de5[_0xf0e4d3(0x510)][_0xf0e4d3(0x6b7)](_0x43d41e=>_0xf0e4d3(0x623)+_0x43d41e+_0xf0e4d3(0x3ca))['join']('')+_0xf0e4d3(0x1c0)+_0x4d7de5[_0xf0e4d3(0x240)][_0xf0e4d3(0x6b7)](_0x34e8fe=>_0xf0e4d3(0x623)+_0x34e8fe+_0xf0e4d3(0x3ca))[_0xf0e4d3(0x221)]('')+_0xf0e4d3(0x822)+_0x4d7de5[_0xf0e4d3(0x69c)][_0xf0e4d3(0x6b7)](_0x47e1be=>_0xf0e4d3(0x623)+_0x47e1be+_0xf0e4d3(0x3ca))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x13ffd4,_0x12367d){const _0x44f582=_0x470ff8,_0x309566=_0x44f582(0x52a)+_0x13ffd4[_0x44f582(0x1bc)]+_0x44f582(0x769)+_0x13ffd4[_0x44f582(0x1bc)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x13ffd4['questions'][_0x44f582(0x6b7)]((_0x57bae8,_0x110c6a)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x110c6a+0x1)+'.\x20'+_0x57bae8[_0x44f582(0x16b)]+_0x44f582(0xac5)+(_0x57bae8[_0x44f582(0x4b5)]?_0x44f582(0x3f5)+_0x57bae8[_0x44f582(0x4b5)]+_0x44f582(0x9ab):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x44f582(0x221)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x12367d[_0x44f582(0xae9)]['write'](_0x309566),_0x12367d[_0x44f582(0xae9)][_0x44f582(0x8fa)](),_0x12367d[_0x44f582(0x35a)]=function(){setTimeout(()=>{const _0x3458b7=_0xb340;_0x12367d[_0x3458b7(0xa9d)]();},0x3e8);};}async function generateWorksheet(){const _0xe1fb21=_0x470ff8,_0x287f8a=document[_0xe1fb21(0x8b2)](_0xe1fb21(0x946))['value']['trim']();if(!_0x287f8a){showMessage(_0xe1fb21(0x691));return;}const _0x5810b9=document[_0xe1fb21(0x8b2)](_0xe1fb21(0x14b))[_0xe1fb21(0x25a)],_0xaa529c=_0x5810b9?'':_0xe1fb21(0xde),_0x2a9e3b=window[_0xe1fb21(0x851)]('',_0xe1fb21(0x672));_0x2a9e3b[_0xe1fb21(0xae9)][_0xe1fb21(0x952)](_0xe1fb21(0x6b6));const _0x118e88=parseInt(document[_0xe1fb21(0x8b2)](_0xe1fb21(0x55c))[_0xe1fb21(0x593)]),_0xfc6a55=document['getElementById'](_0xe1fb21(0x5ca))[_0xe1fb21(0x25a)],_0x24e628=_0xfc6a55?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0x3fbc08=_0xe1fb21(0xf5)+_0xaa529c+_0xe1fb21(0x837)+_0x118e88+_0xe1fb21(0x88e)+_0x287f8a+_0xe1fb21(0x447)+_0x24e628+_0xe1fb21(0x60e)+simpleMathPrompt+_0xe1fb21(0x21d),_0x525510={'type':_0xe1fb21(0x882),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0xe1fb21(0x1f9),'items':{'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0xe1fb21(0xb2a)}},'required':[_0xe1fb21(0x16b)]}}},'required':['topic',_0xe1fb21(0x622)]};document['getElementById'](_0xe1fb21(0x4fd))[_0xe1fb21(0x464)]='',document['getElementById'](_0xe1fb21(0x24f))[_0xe1fb21(0xaa8)][_0xe1fb21(0x5b2)](_0xe1fb21(0x856)),document['getElementById']('quiz-generation-area')[_0xe1fb21(0xaa8)][_0xe1fb21(0x5b2)](_0xe1fb21(0x856)),generateWorksheetBtn[_0xe1fb21(0x6cf)]=!![];try{const _0x469894=await callAnalysisApi(_0x3fbc08,_0x525510);formatAndPrintWorksheet(_0x469894,_0x2a9e3b);}catch(_0x5381a0){console[_0xe1fb21(0x6c4)](_0xe1fb21(0x81d),_0x5381a0);if(_0x2a9e3b)_0x2a9e3b['close']();showMessage(_0xe1fb21(0x402));}finally{document[_0xe1fb21(0x8b2)](_0xe1fb21(0x24f))['classList'][_0xe1fb21(0x4de)](_0xe1fb21(0x856)),document[_0xe1fb21(0x8b2)]('quiz-generation-area')['classList'][_0xe1fb21(0x4de)]('hidden'),generateWorksheetBtn[_0xe1fb21(0x6cf)]=![];}}async function callAnalysisApi(_0x5bbc19,_0x1adb54){const _0x399088=_0x470ff8,_0x220bb5={'contents':[{'role':'user','parts':[{'text':_0x5bbc19}]}],'generationConfig':{'responseMimeType':_0x399088(0xa23),'responseSchema':_0x1adb54}},_0x354398=_0x399088(0x63d),_0x36d729=_0x399088(0x99a)+_0x354398,_0x4695e6=await fetch(_0x36d729,{'method':_0x399088(0x443),'headers':{'Content-Type':_0x399088(0xa23)},'body':JSON[_0x399088(0x1b9)](_0x220bb5)});if(!_0x4695e6['ok'])throw new Error(_0x399088(0x1ad)+_0x4695e6[_0x399088(0x6b3)]);const _0x36ad80=await _0x4695e6[_0x399088(0x7bf)]();if(_0x36ad80[_0x399088(0x268)]?.[0x0]?.[_0x399088(0x77b)]?.[_0x399088(0x15a)]?.[0x0])return JSON[_0x399088(0x25b)](_0x36ad80['candidates'][0x0][_0x399088(0x77b)][_0x399088(0x15a)][0x0][_0x399088(0x12b)]);else{let _0xf2b7e='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x36ad80[_0x399088(0x13f)]?.[_0x399088(0x7f9)])_0xf2b7e='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x36ad80['promptFeedback'][_0x399088(0x7f9)]+'.';else _0x36ad80[_0x399088(0x268)]?.[0x0]?.[_0x399088(0x5d4)]&&_0x36ad80[_0x399088(0x268)][0x0][_0x399088(0x5d4)]!==_0x399088(0xa74)&&(_0xf2b7e='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x36ad80[_0x399088(0x268)][0x0]['finishReason']+'.');console[_0x399088(0x6c4)](_0xf2b7e,JSON['stringify'](_0x36ad80));throw new Error(_0xf2b7e);}}async function handleStartSyncMode(_0x4c2ce9,_0x128466=![]){const _0x214e98=_0x470ff8,_0x3cc1bf=allQuizzes['find'](_0x2d2232=>_0x2d2232['id']===_0x4c2ce9)||allQuizzesGlobal[_0x214e98(0x43e)](_0x4d2987=>_0x4d2987['id']===_0x4c2ce9);if(!_0x3cc1bf){showMessage(_0x214e98(0x85b));return;}currentQuizData=getShuffledQuiz(_0x3cc1bf);const _0x3a1aad=Math[_0x214e98(0x8ec)](0x3e8+Math[_0x214e98(0x3c3)]()*0x2328)[_0x214e98(0x77c)]();try{const _0x5663c8=await addDoc(collection(db,_0x214e98(0x718)+appId+_0x214e98(0x41a)),{'quizId':_0x3cc1bf['id'],'pin':_0x3a1aad,'status':_0x214e98(0x21e),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x128466,'players':{}});currentLiveGameId=_0x5663c8['id'],showView(_0x214e98(0x68d)),renderSyncLobbyView(_0x3a1aad,_0x3cc1bf['topic']),listenForSyncGameUpdates();}catch(_0x1b61ec){console[_0x214e98(0x6c4)](_0x214e98(0x782),_0x1b61ec),showMessage(_0x214e98(0x8cc));}}function calculateFinalPodiumScores(_0x5b1515){const _0x2b9652=_0x470ff8;if(!_0x5b1515||!_0x5b1515[_0x2b9652(0x7c8)]||!_0x5b1515['players'])return _0x5b1515[_0x2b9652(0x190)]||{};const _0x46506f=_0x5b1515['shuffledQuiz'][_0x2b9652(0x622)][_0x2b9652(0x9b5)],_0x1c5904=JSON[_0x2b9652(0x25b)](JSON[_0x2b9652(0x1b9)](_0x5b1515[_0x2b9652(0x190)]));return Object[_0x2b9652(0x7ff)](_0x1c5904)[_0x2b9652(0x501)](_0x4cb187=>{const _0x8b06af=_0x2b9652,_0x47285d=_0x4cb187['score'];let _0x386407=0x0;_0x5b1515[_0x8b06af(0x6fe)]&&_0x4cb187[_0x8b06af(0x335)]&&_0x4cb187['answers'][_0x8b06af(0x501)](_0x13c00e=>{const _0x3293c4=_0x8b06af;if(_0x13c00e[_0x3293c4(0x98e)]&&_0x13c00e[_0x3293c4(0xb4e)])_0x386407+=0x1;else!_0x13c00e['isCorrect']&&_0x13c00e[_0x3293c4(0xb4e)]&&(_0x386407-=0x1);}),_0x4cb187[_0x8b06af(0xabc)]=_0x47285d+_0x386407,_0x46506f>0x0&&_0x47285d===_0x46506f&&(_0x4cb187[_0x8b06af(0xabc)]+=0x1,_0x4cb187[_0x8b06af(0x776)]=!![]);}),_0x1c5904;}function listenForSyncGameUpdates(){const _0x2230e1=_0x470ff8;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x5c0473=doc(db,_0x2230e1(0x718)+appId+_0x2230e1(0x41a),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x5c0473,_0x15e2e4=>{const _0x1bffce=_0x2230e1;if(!_0x15e2e4[_0x1bffce(0x811)]()){sessionStorage[_0x1bffce(0xaa4)](_0x1bffce(0x84c));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x1bffce(0x382));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x1bffce(0x9d9)?showView('project-detail'):showView('student');return;}const _0x2baeef=_0x15e2e4[_0x1bffce(0x79e)]();currentMode===_0x1bffce(0x9d9)?updateAdminSyncView(_0x2baeef):updateStudentSyncView(_0x2baeef);});}function renderSyncLobbyView(_0x4dbae1,_0x318619){const _0xefd3bb=_0x470ff8;liveGameView[_0xefd3bb(0xb6e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20'+_0x318619+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x4dbae1+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x3a7cb4=document[_0xefd3bb(0x8b2)]('confidence-scoring-toggle'),_0x51e9aa=document[_0xefd3bb(0x8b2)](_0xefd3bb(0x8c0));_0x3a7cb4['addEventListener'](_0xefd3bb(0xb77),()=>{const _0x287707=_0xefd3bb;_0x51e9aa[_0x287707(0x3cb)][_0x287707(0x22e)]=_0x3a7cb4[_0x287707(0x25a)]?_0x287707(0x438):_0x287707(0x61b);}),document[_0xefd3bb(0x8b2)](_0xefd3bb(0xc6))[_0xefd3bb(0xda)](_0xefd3bb(0x896),async()=>{const _0xde2e59=_0xefd3bb,_0x33cc92=doc(db,_0xde2e59(0x718)+appId+'/public/data/syncGames',currentLiveGameId),_0x2ba728=document[_0xde2e59(0x8b2)](_0xde2e59(0x2ce))[_0xde2e59(0x25a)];await updateDoc(_0x33cc92,{'status':_0xde2e59(0x241),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x2ba728});});}function updateAdminSyncView(_0x374899){const _0x2d0a57=_0x470ff8;switch(_0x374899['status']){case _0x2d0a57(0x21e):renderSyncLobbyView(_0x374899['pin'],_0x374899[_0x2d0a57(0x7c8)]['topic']);const _0x5a5693=Object[_0x2d0a57(0x485)](_0x374899[_0x2d0a57(0x190)]||{})[_0x2d0a57(0x8dd)](([_0x3b61db,_0x3bbf53])=>_0x3bbf53[_0x2d0a57(0x6b3)]!==_0x2d0a57(0x9db));document[_0x2d0a57(0x8b2)](_0x2d0a57(0x839))[_0x2d0a57(0x464)]=_0x5a5693['length'],document[_0x2d0a57(0x8b2)](_0x2d0a57(0x887))['innerHTML']=_0x5a5693[_0x2d0a57(0x6b7)](([_0x4a9b8c,_0x344b58])=>_0x2d0a57(0x597)+_0x4a9b8c+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x4a9b8c+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2d0a57(0x221)]('')||'<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>',document['getElementById'](_0x2d0a57(0xc6))[_0x2d0a57(0x6cf)]=_0x5a5693[_0x2d0a57(0x9b5)]===0x0;break;case'question':const _0x15a4f4=Object[_0x2d0a57(0x7ff)](_0x374899[_0x2d0a57(0x190)]||{})[_0x2d0a57(0x8dd)](_0x11d17b=>_0x11d17b[_0x2d0a57(0x6b3)]!==_0x2d0a57(0x9db)),_0x141def=_0x15a4f4[_0x2d0a57(0x8dd)](_0x243755=>_0x243755['answered'])['length'],_0x150531=_0x141def===_0x15a4f4[_0x2d0a57(0x9b5)]&&_0x15a4f4[_0x2d0a57(0x9b5)]>0x0;if(_0x150531&&_0x374899['status']===_0x2d0a57(0x241)){const _0x29e22a=doc(db,_0x2d0a57(0x718)+appId+_0x2d0a57(0x41a),currentLiveGameId);updateDoc(_0x29e22a,{'status':'summary'});}else{if(document[_0x2d0a57(0x8b2)](_0x2d0a57(0x3ce))===null)renderAdminSyncQuestionView(_0x374899);else{const _0x3bda69=document[_0x2d0a57(0x8b2)](_0x2d0a57(0x720));_0x3bda69&&(_0x3bda69[_0x2d0a57(0x464)]=_0x141def+'/'+_0x15a4f4[_0x2d0a57(0x9b5)]);const _0x4e9721=document[_0x2d0a57(0x8b2)](_0x2d0a57(0x1ce));_0x4e9721&&(_0x4e9721[_0x2d0a57(0xb6e)]=_0x15a4f4[_0x2d0a57(0x6b7)](_0x5102a1=>{const _0x5af490=_0x2d0a57,_0x2ec920=_0x5102a1[_0x5af490(0xb2c)]?_0x5af490(0x2c7):_0x5af490(0xb38),_0x5ee8d9=_0x5102a1['answered']?_0x5af490(0x1eb):_0x5af490(0x34e);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x2ec920+_0x5af490(0x23d)+_0x5ee8d9+_0x5af490(0xa10)+_0x5102a1['name']+_0x5af490(0x54c)+_0x5102a1[_0x5af490(0x20a)]+_0x5af490(0xac2);})[_0x2d0a57(0x221)](''));}}break;case _0x2d0a57(0x24b):const _0x537f49=_0x374899[_0x2d0a57(0x3fc)],_0x5f47ed=_0x374899[_0x2d0a57(0x7c8)][_0x2d0a57(0x622)][_0x537f49];renderSyncSummaryView(_0x374899,_0x5f47ed,!![]);break;case'results':renderAdminSyncDashboard(_0x374899,!![]);break;case _0x2d0a57(0x7e5):_0x374899[_0x2d0a57(0x4a3)]&&saveGameResultsAsSubmissions(_0x374899);sessionStorage[_0x2d0a57(0xaa4)]('activeGameSession');const _0xf29bcf=calculateFinalPodiumScores(_0x374899);showPodiumView(_0xf29bcf,'sync');break;}}function renderAdminSyncQuestionView(_0x179560){const _0x22fe7e=_0x470ff8,_0x4da44d=_0x179560[_0x22fe7e(0x3fc)],_0x486ec9=_0x179560['shuffledQuiz'][_0x22fe7e(0x622)][_0x4da44d],_0x424522=_0x179560[_0x22fe7e(0x7c8)][_0x22fe7e(0x622)]['length'],_0x10e62c=Object[_0x22fe7e(0x7ff)](_0x179560['players']||{})['filter'](_0x33f464=>_0x33f464['status']!==_0x22fe7e(0x9db)),_0x333630=_0x10e62c[_0x22fe7e(0x8dd)](_0xc5bfe1=>_0xc5bfe1[_0x22fe7e(0xb2c)])['length'],_0x46a1ef=_0x333630===_0x10e62c[_0x22fe7e(0x9b5)]&&_0x10e62c['length']>0x0,_0x3a807d=(_0x486ec9[_0x22fe7e(0xb6f)]||[])[_0x22fe7e(0x6b7)](_0x126894=>_0x22fe7e(0x509)+_0x126894+_0x22fe7e(0x9ab))[_0x22fe7e(0x221)]('');liveGameView[_0x22fe7e(0xb6e)]=_0x22fe7e(0x70a)+(_0x4da44d+0x1)+'\x20/\x20'+_0x424522+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>'+_0x333630+'/'+_0x10e62c['length']+_0x22fe7e(0x4f6)+_0x486ec9[_0x22fe7e(0x16b)]+_0x22fe7e(0x69e)+_0x3a807d+_0x22fe7e(0x943)+(!_0x46a1ef?_0x22fe7e(0x6cf):'')+_0x22fe7e(0x717);if(window[_0x22fe7e(0x821)])MathJax['typesetPromise']();document['getElementById'](_0x22fe7e(0x437))[_0x22fe7e(0xda)](_0x22fe7e(0x896),async()=>{const _0x4d03ad=_0x22fe7e,_0x412502=doc(db,'artifacts/'+appId+_0x4d03ad(0x41a),currentLiveGameId);await updateDoc(_0x412502,{'status':_0x4d03ad(0x9f6)});}),document[_0x22fe7e(0x8b2)](_0x22fe7e(0x5b4))[_0x22fe7e(0xb79)]=()=>{const _0x2ba842=_0x22fe7e;openScratchpad(_0x486ec9,_0x486ec9[_0x2ba842(0xb6f)]||[]);},document[_0x22fe7e(0x8b2)](_0x22fe7e(0x7d0))['addEventListener']('click',()=>{const _0xcbadd5=_0x22fe7e;document[_0xcbadd5(0x8b2)](_0xcbadd5(0x3ce))[_0xcbadd5(0xaa8)]['toggle'](_0xcbadd5(0x856));});}function renderSyncLeaderboardView(_0x1eb21f,_0x47cd81){const _0x1c47f3=_0x470ff8,_0x1d3fcf=Object[_0x1c47f3(0x7ff)](_0x1eb21f['players']||{});_0x1d3fcf[_0x1c47f3(0xe2)]((_0x4b798b,_0x2146e6)=>_0x2146e6['score']-_0x4b798b[_0x1c47f3(0xabc)]);const _0x4317c1=_0x1d3fcf[_0x1c47f3(0x2b0)](0x0,0x5);let _0x5c0aaf='';if(_0x47cd81){const _0x34ce74=_0x1eb21f[_0x1c47f3(0x3fc)]>=_0x1eb21f['shuffledQuiz']['questions'][_0x1c47f3(0x9b5)]-0x1;_0x5c0aaf=_0x1c47f3(0x824)+(_0x34ce74?_0x1c47f3(0x4cb):_0x1c47f3(0x859))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>';}else _0x5c0aaf=_0x1c47f3(0x592);liveGameView[_0x1c47f3(0xb6e)]=_0x1c47f3(0x429)+_0x4317c1['map']((_0x5b8831,_0x40df21)=>'<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>'+(_0x40df21+0x1)+'.\x20'+_0x5b8831[_0x1c47f3(0x20a)]+_0x1c47f3(0x6a6)+_0x5b8831[_0x1c47f3(0xabc)]+_0x1c47f3(0x9b3))['join']('')+_0x1c47f3(0x572)+_0x5c0aaf+_0x1c47f3(0xc9),_0x47cd81&&document[_0x1c47f3(0x8b2)]('next-sync-question-btn')[_0x1c47f3(0xda)]('click',async()=>{const _0x442816=_0x1c47f3,_0x543d03=doc(db,_0x442816(0x718)+appId+_0x442816(0x41a),currentLiveGameId),_0x556e44=_0x1eb21f[_0x442816(0x3fc)]+0x1;if(_0x556e44<_0x1eb21f[_0x442816(0x7c8)][_0x442816(0x622)]['length']){const _0x3e9063={};Object['keys'](_0x1eb21f[_0x442816(0x190)])['forEach'](_0x32ca53=>{const _0x38dc45=_0x442816;_0x3e9063[_0x38dc45(0x548)+_0x32ca53+_0x38dc45(0x633)]=![];}),await updateDoc(_0x543d03,{..._0x3e9063,'status':_0x442816(0x241),'currentQuestionIndex':_0x556e44,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x543d03,{'status':_0x442816(0x7e5)});});}async function handleJoinSyncGame(){const _0x51fc01=_0x470ff8,_0x2445f1=prompt('กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):');if(!_0x2445f1||_0x2445f1['trim']()[_0x51fc01(0x9b5)]!==0x2){showMessage(_0x51fc01(0x8ed));return;}try{const _0x5e8cbf=collection(db,'artifacts/'+appId+'/public/data/syncGames'),_0x3f5c0b=query(_0x5e8cbf,where(_0x51fc01(0x33b),'==',_0x2445f1['trim']()),where(_0x51fc01(0x6b3),'==',_0x51fc01(0x21e))),_0x199713=await getDocs(_0x3f5c0b);if(_0x199713[_0x51fc01(0x5ff)]){showMessage(_0x51fc01(0x723));return;}const _0x205b49=_0x199713[_0x51fc01(0xa1f)][0x0];currentLiveGameId=_0x205b49['id'];const _0x3e9968=_0x205b49[_0x51fc01(0x79e)](),_0x5214c9=doc(db,_0x51fc01(0x718)+appId+'/public/data/quizzes',_0x3e9968[_0x51fc01(0x65c)]),_0x30202d=await getDoc(_0x5214c9);if(!_0x30202d[_0x51fc01(0x811)]())throw new Error(_0x51fc01(0x30e));const _0x3fbaed=_0x30202d['data'](),_0x2919ce=doc(db,'artifacts/'+appId+_0x51fc01(0xb58),_0x3fbaed[_0x51fc01(0x54d)]),_0x6cf4bf=await getDoc(_0x2919ce);if(!_0x6cf4bf[_0x51fc01(0x811)]())throw new Error(_0x51fc01(0xa86));currentQuizData=_0x3e9968['shuffledQuiz'];const _0x2bcea8=_0x6cf4bf[_0x51fc01(0x79e)]();showView(_0x51fc01(0xa17)),showTeamPlayerSelection(_0x2bcea8['students'],_0x3fbaed[_0x51fc01(0x1bc)]);const _0x3914cd=document[_0x51fc01(0x8b2)]('confirm-team-players-btn');_0x3914cd[_0x51fc01(0xb79)]=confirmAndJoinSyncGame;}catch(_0x2f7c7f){console[_0x51fc01(0x6c4)](_0x51fc01(0x8eb),_0x2f7c7f),showMessage(_0x51fc01(0x8c6)+_0x2f7c7f[_0x51fc01(0x80a)]);}}function updateStudentSyncView(_0x1fecad){const _0x1925b1=_0x470ff8,_0x5cbe1f=_0x1fecad[_0x1925b1(0x190)][localTeamPlayers[0x0]];switch(_0x1fecad[_0x1925b1(0x6b3)]){case _0x1925b1(0x21e):showView('live-game'),liveGameView['innerHTML']=_0x1925b1(0x939);break;case _0x1925b1(0x241):const _0x5f05d5=localTeamPlayers[_0x1925b1(0xa12)](_0x40aea7=>_0x1fecad[_0x1925b1(0x190)][_0x40aea7]?.[_0x1925b1(0xb2c)]===!![]);_0x5f05d5?liveGameView[_0x1925b1(0xb6e)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>':renderStudentSyncQuestionView(_0x1fecad);break;case _0x1925b1(0x24b):liveGameView[_0x1925b1(0xb6e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x1925b1(0x9f6):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x1fecad);break;case _0x1925b1(0x7e5):sessionStorage['removeItem']('activeGameSession');const _0x15de23=calculateFinalPodiumScores(_0x1fecad);showPodiumView(_0x15de23,_0x1925b1(0x9a5));break;}}function renderStudentSyncResultsView(_0x572b33){const _0x3c3d7d=_0x470ff8,_0x474e36=localTeamPlayers[_0x3c3d7d(0x6b7)](_0x1a3952=>_0x572b33[_0x3c3d7d(0x190)][_0x1a3952])[_0x3c3d7d(0x8dd)](Boolean);_0x474e36[_0x3c3d7d(0xe2)]((_0x1ea86c,_0x20ef4f)=>(_0x20ef4f[_0x3c3d7d(0xabc)]||0x0)-(_0x1ea86c[_0x3c3d7d(0xabc)]||0x0));const _0x4e10f3=_0x572b33[_0x3c3d7d(0x3fc)]>=_0x572b33[_0x3c3d7d(0x7c8)][_0x3c3d7d(0x622)][_0x3c3d7d(0x9b5)]-0x1;let _0x48eed3='';_0x4e10f3?_0x48eed3=_0x3c3d7d(0x422):_0x48eed3=_0x3c3d7d(0x79b);const _0x5daf01=_0x3c3d7d(0x9b7)+_0x474e36[_0x3c3d7d(0x6b7)]((_0x2b6776,_0x275e1b)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x275e1b+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x2b6776[_0x3c3d7d(0x20a)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x2b6776[_0x3c3d7d(0xabc)]+_0x3c3d7d(0xe8))[_0x3c3d7d(0x221)]('')+_0x3c3d7d(0xb63)+_0x48eed3+_0x3c3d7d(0x110);liveGameView[_0x3c3d7d(0xb6e)]=_0x5daf01;}function renderStudentSyncQuestionView(_0x41d406){const _0x236acd=_0x470ff8;while(localPlayerTurnIndex<localTeamPlayers['length']&&_0x41d406[_0x236acd(0x190)][localTeamPlayers[localPlayerTurnIndex]]?.['answered']===!![]){localPlayerTurnIndex++;}const _0x287c3b=localTeamPlayers[localPlayerTurnIndex];if(!_0x287c3b)return;const _0x4fc4c7=_0x41d406[_0x236acd(0x3fc)],_0x4d39a1=_0x41d406[_0x236acd(0x7c8)][_0x236acd(0x622)][_0x236acd(0x9b5)],_0x565c9d=_0x41d406[_0x236acd(0x7c8)][_0x236acd(0x622)][_0x4fc4c7],_0xf9b43e=_0x565c9d[_0x236acd(0x345)]||_0x41d406['shuffledQuiz']['quizType'];let _0x14e645='',_0x1f8016=![];switch(_0xf9b43e){case _0x236acd(0x618):_0x14e645=_0x236acd(0xa04);break;case _0x236acd(0x9af):case _0x236acd(0x9de):_0x1f8016=!![],_0x14e645=_0x236acd(0x2ca);break;case _0x236acd(0x43c):_0x1f8016=!![],_0x14e645=_0x236acd(0x998)+(_0x565c9d[_0x236acd(0xb3e)]||[])['map'](_0x4fa0c2=>_0x236acd(0x5ea)+_0x4fa0c2+'\x22>'+_0x4fa0c2+'</option>')[_0x236acd(0x221)]('')+_0x236acd(0x3b6);break;case'multiple_choice':default:_0x14e645=(_0x565c9d[_0x236acd(0xb6f)]||[])['map']((_0x1ea900,_0x1ddef4)=>_0x236acd(0x711)+_0x1ddef4+_0x236acd(0x446)+_0x1ea900+_0x236acd(0x2d7))[_0x236acd(0x221)]('');break;}liveGameView[_0x236acd(0xb6e)]=_0x236acd(0x30a)+(_0x4fc4c7+0x1)+'\x20/\x20'+_0x4d39a1+_0x236acd(0x4d7)+_0x287c3b+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+(_0x565c9d[_0x236acd(0x16b)]||_0x565c9d['stem'])+_0x236acd(0x314)+_0x14e645+_0x236acd(0x11a);if(window[_0x236acd(0x821)])MathJax[_0x236acd(0x697)]();function _0x1deb07(_0x530265,_0x157078,_0x53435e,_0x142315){const _0x4ca75c=_0x236acd,_0x23d8ab=_0x53435e[_0x4ca75c(0x6fe)]===!![];if(_0x23d8ab){document['getElementById'](_0x4ca75c(0x6f7))[_0x4ca75c(0xad1)]['currentMode']=_0x4ca75c(0x9a5);const _0x1819c0=document['getElementById'](_0x4ca75c(0x8c7));_0x1819c0[_0x4ca75c(0xad1)][_0x4ca75c(0x3e0)]=_0x530265,_0x1819c0['dataset'][_0x4ca75c(0x241)]=JSON['stringify'](_0x157078),_0x1819c0[_0x4ca75c(0xad1)][_0x4ca75c(0xc8)]=JSON[_0x4ca75c(0x1b9)](_0x53435e),_0x1819c0['dataset']['playerName']=_0x142315,document[_0x4ca75c(0x8b2)](_0x4ca75c(0x6f7))[_0x4ca75c(0xaa8)]['remove'](_0x4ca75c(0x856));}else handleSyncAnswerSubmit(_0x530265,_0x157078,_0x53435e,_0x142315,![]);}_0x1f8016?document[_0x236acd(0x8b2)]('sync-submit-btn')['addEventListener'](_0x236acd(0x896),()=>{const _0x5b1445=_0x236acd,_0x9c59f7=document['getElementById'](_0x5b1445(0x177))||document[_0x5b1445(0x8b2)](_0x5b1445(0x3ef));if(_0x9c59f7['value'][_0x5b1445(0xf2)]()===''){showMessage(_0x5b1445(0x3c1));return;}_0x1deb07(_0x9c59f7[_0x5b1445(0x593)],_0x565c9d,_0x41d406,_0x287c3b);}):document[_0x236acd(0x9c4)](_0x236acd(0xb6a))[_0x236acd(0x501)](_0x1facc0=>{const _0x39ba00=_0x236acd;_0x1facc0[_0x39ba00(0xda)]('click',()=>{const _0x23626a=_0x39ba00;_0x1deb07(_0x1facc0[_0x23626a(0xad1)]['value'],_0x565c9d,_0x41d406,_0x287c3b);});});}async function handleSyncAnswerSubmit(_0x2b98e4,_0x5613ee,_0x5fc82,_0x127066,_0x2f8f5d){const _0x406e34=_0x470ff8;document[_0x406e34(0x9c4)](_0x406e34(0x34a))['forEach'](_0x41d862=>_0x41d862[_0x406e34(0x6cf)]=!![]);const _0x3aa30c=_0x5613ee['questionType']||_0x5fc82[_0x406e34(0x7c8)][_0x406e34(0x497)];let _0x2f1107=![],_0x1d6b51=_0x2b98e4;switch(_0x3aa30c){case'true_false':const _0x40bf00=parseInt(_0x2b98e4),_0x53445a=_0x5613ee[_0x406e34(0x600)]===!![]||String(_0x5613ee['correctAnswer'])['toLowerCase']()===_0x406e34(0x184);_0x2f1107=_0x40bf00===0x0&&_0x53445a||_0x40bf00===0x1&&!_0x53445a,_0x1d6b51=_0x40bf00===0x0?_0x406e34(0x3d8):_0x406e34(0x765);break;case _0x406e34(0x9af):case _0x406e34(0x9de):_0x2f1107=await gradeShortAnswer(_0x2b98e4,_0x5613ee);break;case _0x406e34(0x43c):_0x2f1107=_0x2b98e4===_0x5613ee[_0x406e34(0x198)];break;case'multiple_choice':default:const _0x563e23=parseInt(_0x2b98e4);_0x2f1107=_0x563e23===_0x5613ee[_0x406e34(0x5ad)];_0x5613ee['options']&&_0x5613ee[_0x406e34(0xb6f)][_0x563e23]&&(_0x1d6b51=_0x5613ee[_0x406e34(0xb6f)][_0x563e23]);break;}let _0x259f2e=0x0;if(_0x2f1107&&_0x2f8f5d)_0x259f2e=0x2;else{if(_0x2f1107)_0x259f2e=0x1;else!_0x2f1107&&_0x2f8f5d&&(_0x259f2e=-0x1);}const _0x5daab2=doc(db,_0x406e34(0x718)+appId+_0x406e34(0x41a),currentLiveGameId),_0x4ef527={};_0x4ef527['players.'+_0x127066+_0x406e34(0x6bc)]=increment(_0x259f2e),_0x4ef527[_0x406e34(0x548)+_0x127066+'.answered']=!![];let _0x5ec617=null;(_0x3aa30c==='multiple_choice'||_0x3aa30c===_0x406e34(0x618)||_0x3aa30c===_0x406e34(0x232))&&(_0x5ec617=parseInt(_0x2b98e4));_0x4ef527[_0x406e34(0x548)+_0x127066+_0x406e34(0x895)]=_0x5ec617;const _0x454511={'questionIndex':_0x5fc82['currentQuestionIndex'],'questionId':_0x5613ee['id'],'answer':_0x2b98e4,'answerText':_0x1d6b51,'isCorrect':_0x2f1107,'originalQuestionText':_0x5613ee['questionText']||_0x5613ee['stem'],'wasConfident':_0x2f8f5d};_0x4ef527[_0x406e34(0x548)+_0x127066+_0x406e34(0xb28)]=arrayUnion(_0x454511),await updateDoc(_0x5daab2,_0x4ef527);}initialize();
