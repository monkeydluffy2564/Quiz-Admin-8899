const _0x3b29b2=_0x376a;(function(_0x412b80,_0x41f838){const _0x5b4a9b=_0x376a,_0x5c299c=_0x412b80();while(!![]){try{const _0x14e48b=-parseInt(_0x5b4a9b(0x7e7))/0x1+parseInt(_0x5b4a9b(0x659))/0x2*(-parseInt(_0x5b4a9b(0x9f5))/0x3)+-parseInt(_0x5b4a9b(0x54d))/0x4+-parseInt(_0x5b4a9b(0x517))/0x5+parseInt(_0x5b4a9b(0x966))/0x6*(-parseInt(_0x5b4a9b(0xc7e))/0x7)+parseInt(_0x5b4a9b(0x804))/0x8+parseInt(_0x5b4a9b(0x4c1))/0x9*(parseInt(_0x5b4a9b(0x322))/0xa);if(_0x14e48b===_0x41f838)break;else _0x5c299c['push'](_0x5c299c['shift']());}catch(_0x428a94){_0x5c299c['push'](_0x5c299c['shift']());}}}(_0x8f90,0x8dcbe));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId='all',fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x3b29b2(0x6e1),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x3b29b2(0x6e1),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x4b435d=_0x3b29b2;if('wakeLock'in navigator)try{wakeLock=await navigator[_0x4b435d(0xbae)][_0x4b435d(0xbec)](_0x4b435d(0x254)),console[_0x4b435d(0x886)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock[_0x4b435d(0x3f4)](_0x4b435d(0x22b),()=>{const _0x273bd0=_0x4b435d;console[_0x273bd0(0x886)](_0x273bd0(0x535));});}catch(_0x561092){console[_0x4b435d(0xc93)](_0x4b435d(0xc75)+_0x561092['name']+',\x20'+_0x561092[_0x4b435d(0x8df)]);}else console[_0x4b435d(0x868)](_0x4b435d(0x34c));},releaseWakeLock=async()=>{const _0x54ce78=_0x3b29b2;wakeLock!==null&&(await wakeLock[_0x54ce78(0x22b)](),wakeLock=null,console[_0x54ce78(0x886)](_0x54ce78(0x2b6)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x3dd603=_0x3b29b2;if(dimTimer)clearTimeout(dimTimer);document['body'][_0x3dd603(0x6b0)][_0x3dd603(0xbb2)](_0x3dd603(0x98e)),dimTimer=setTimeout(()=>{const _0x13a2b9=_0x3dd603;document[_0x13a2b9(0x6ea)][_0x13a2b9(0x6b0)][_0x13a2b9(0xb35)](_0x13a2b9(0x98e)),console['log'](_0x13a2b9(0x8e3));},inactivityTime);}function stopDimTimer(){const _0x316908=_0x3b29b2;if(dimTimer)clearTimeout(dimTimer);document['body'][_0x316908(0x6b0)][_0x316908(0xbb2)](_0x316908(0x98e)),window['removeEventListener'](_0x316908(0x632),resetDimTimer),window[_0x316908(0xbf9)](_0x316908(0xb3a),resetDimTimer),window[_0x316908(0xbf9)]('touchstart',resetDimTimer),window[_0x316908(0xbf9)](_0x316908(0x978),resetDimTimer),console[_0x316908(0x886)](_0x316908(0x80f));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x89a08a,_0x5e5e83=![]){const _0x2eda26=_0x3b29b2,_0x3f1a19=allQuizzes[_0x2eda26(0xc0d)](_0xc48d8a=>_0xc48d8a['id']===_0x89a08a)||allQuizzesGlobal[_0x2eda26(0xc0d)](_0x2c942d=>_0x2c942d['id']===_0x89a08a);if(!_0x3f1a19){showMessage(_0x2eda26(0x57d));return;}currentQuizData=getShuffledQuiz(_0x3f1a19);const _0x5d6fa2=Math[_0x2eda26(0xb26)](0x3e8+Math[_0x2eda26(0x95a)]()*0x2328)[_0x2eda26(0xa5a)]();try{const _0x208b8a=await addDoc(collection(db,_0x2eda26(0xb79)+appId+_0x2eda26(0x8f3)),{'quizId':_0x3f1a19['id'],'projectId':_0x3f1a19['projectId'],'status':'lobby','pin':_0x5d6fa2,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x5e5e83});currentTeamQuizId=_0x208b8a['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x5d6fa2,_0x3f1a19[_0x2eda26(0x13e)]),listenForTeamQuizUpdates();}catch(_0x6d1389){console[_0x2eda26(0xc93)](_0x2eda26(0x1e6),_0x6d1389),showMessage(_0x2eda26(0xb99));}}function renderAdminTeamQuizDashboard(_0x467cde,_0x4fd54d,_0x3563e2='team'){const _0x592aac=_0x3b29b2,_0x263287=_0x3563e2===_0x592aac(0x5c9)?'Group\x20Mode':_0x592aac(0x885);liveGameView[_0x592aac(0x2b3)]=_0x592aac(0x661)+_0x263287+':\x20'+_0x4fd54d+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x467cde+_0x592aac(0x3dc),document[_0x592aac(0xa57)](_0x592aac(0xc31))['addEventListener'](_0x592aac(0x1b1),async()=>{const _0x27ad59=_0x592aac;showConfirmation(_0x27ad59(0x53d),async()=>{const _0xb4e154=_0x27ad59;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0xb4e154(0xb79)+appId+_0xb4e154(0x8f3),currentTeamQuizId)),showView(_0xb4e154(0x484));});});}function listenForTeamQuizUpdates(){const _0x5451e6=_0x3b29b2;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x4b3bf6=doc(db,_0x5451e6(0xb79)+appId+_0x5451e6(0x8f3),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x4b3bf6,_0x466dee=>{const _0x2fcaf7=_0x5451e6;if(!_0x466dee[_0x2fcaf7(0xb65)]()){sessionStorage[_0x2fcaf7(0x8a8)](_0x2fcaf7(0x41b));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x2fcaf7(0xa46));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x2fcaf7(0xa9b)?showView(_0x2fcaf7(0x484)):showView(_0x2fcaf7(0x3a6));return;}const _0x4a8fd4=_0x466dee[_0x2fcaf7(0x7a6)]();if(currentMode==='admin'){if(_0x4a8fd4[_0x2fcaf7(0x4b7)]==='group'&&_0x4a8fd4[_0x2fcaf7(0xbeb)]!==_0x2fcaf7(0x56f)&&_0x4a8fd4[_0x2fcaf7(0xbeb)]!=='finished'){const _0x5e1397=Object[_0x2fcaf7(0x4bb)](_0x4a8fd4[_0x2fcaf7(0x219)]||{});if(_0x5e1397[_0x2fcaf7(0x423)]>0x0){const _0x5cbe24=_0x5e1397[_0x2fcaf7(0xba5)](_0x52f4cf=>_0x52f4cf[_0x2fcaf7(0x7d4)]===!![]);_0x5cbe24&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x4a8fd4);}else{if(_0x4a8fd4[_0x2fcaf7(0xbeb)]===_0x2fcaf7(0x56f)||_0x4a8fd4[_0x2fcaf7(0xbeb)]===_0x2fcaf7(0xb11)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x4a8fd4[_0x2fcaf7(0x4b7)]===_0x2fcaf7(0x5c9)){const _0x9a4002=_0x4a8fd4['groups'][userId];(!_0x9a4002||!_0x9a4002[_0x2fcaf7(0x7d4)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x3271b6){const _0x18143c=_0x3b29b2;console[_0x18143c(0x886)](_0x18143c(0x66f));const _0x4388b4=doc(db,_0x18143c(0xb79)+appId+'/public/data/teamQuizzes',_0x3271b6);try{const _0x3d381d=await getDoc(_0x4388b4);if(_0x3d381d['exists']()){const _0x59363f=_0x3d381d[_0x18143c(0x7a6)]();_0x59363f[_0x18143c(0xabc)]&&await saveGameResultsAsSubmissions(_0x59363f);}await updateDoc(_0x4388b4,{'status':_0x18143c(0x56f)});}catch(_0x14c9f0){console[_0x18143c(0xc93)](_0x18143c(0x87e),_0x14c9f0);}}function updateAdminTeamDashboard(_0x2af587){const _0x53a75d=_0x3b29b2,_0x132a84=document[_0x53a75d(0xa57)](_0x53a75d(0x307));if(!_0x132a84)return;const _0x1503b3=_0x2af587[_0x53a75d(0x4b7)]||_0x53a75d(0x323),_0x760942=currentQuizData[_0x53a75d(0x288)][_0x53a75d(0x423)];if(_0x1503b3===_0x53a75d(0x5c9)){const _0x4b0022=Object['values'](_0x2af587[_0x53a75d(0x219)]||{});if(_0x4b0022[_0x53a75d(0x423)]===0x0){_0x132a84['innerHTML']=_0x53a75d(0x4d8);return;}const _0x40e3c7=[..._0x4b0022][_0x53a75d(0x445)]((_0x345a31,_0x3a98d6)=>_0x3a98d6['score']-_0x345a31['score']),_0x39416d=_0x40e3c7['map']((_0x523a08,_0x5733b8)=>{const _0xd85aa8=_0x53a75d,_0xa74736=_0x523a08[_0xd85aa8(0x854)]?.[_0xd85aa8(0x423)]||0x0;return _0xd85aa8(0x455)+(_0x5733b8+0x1)+_0xd85aa8(0x9b4)+_0x523a08[_0xd85aa8(0x6a9)][_0xd85aa8(0xa0a)](',\x20')+_0xd85aa8(0x87f)+_0xa74736+'/'+_0x760942+_0xd85aa8(0x898)+_0x523a08['score']+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x53a75d(0xa0a)](''),_0x4b63a8=currentQuizData[_0x53a75d(0x288)][_0x53a75d(0x921)]((_0x390479,_0x4a948e)=>{const _0x19d7ac=_0x53a75d;let _0x498aaa=0x0,_0x2cb896=0x0;_0x4b0022['forEach'](_0x372877=>{const _0x559592=_0x376a,_0x3a43ef=_0x372877[_0x559592(0x854)]?.['find'](_0x2642cd=>_0x2642cd[_0x559592(0xab9)]===_0x4a948e);if(_0x3a43ef){_0x2cb896++;if(_0x3a43ef[_0x559592(0x3e2)])_0x498aaa++;}});const _0x14ab29=_0x2cb896>0x0&&_0x2cb896===_0x4b0022['length'],_0x21569b=_0x14ab29?_0x19d7ac(0xa8e):_0x19d7ac(0xc1f),_0x1d8f73=_0x14ab29?_0x19d7ac(0xac5):'';return _0x19d7ac(0x955)+_0x21569b+_0x19d7ac(0x592)+(_0x4a948e+0x1)+_0x19d7ac(0xa9e)+_0x1d8f73+_0x19d7ac(0x800)+_0x498aaa+'/'+_0x4b0022['length']+_0x19d7ac(0x2ce);})[_0x53a75d(0xa0a)]('');_0x132a84[_0x53a75d(0x2b3)]=_0x53a75d(0xba0)+_0x39416d+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>'+_0x4b63a8+_0x53a75d(0xbee);return;}const _0x7dde33=_0x2af587[_0x53a75d(0x2fa)]||{},_0x49d0d1=Object[_0x53a75d(0x71e)](_0x7dde33);if(_0x49d0d1[_0x53a75d(0x423)]===0x0){_0x132a84[_0x53a75d(0x2b3)]=_0x53a75d(0x1e5);return;}const _0x5328cc=_0x49d0d1[_0x53a75d(0x921)](_0x384e63=>({'name':_0x384e63,'score':_0x7dde33[_0x384e63][_0x53a75d(0x5c3)]||0x0}))[_0x53a75d(0x445)]((_0x29bebd,_0x11d20f)=>_0x11d20f[_0x53a75d(0x5c3)]-_0x29bebd[_0x53a75d(0x5c3)]),_0x3d25be=_0x5328cc['map'](_0x634c9e=>{const _0x3e2d6e=_0x53a75d,_0x1527e8=_0x7dde33[_0x634c9e['name']]?.[_0x3e2d6e(0x854)]?.[_0x3e2d6e(0x423)]||0x0,_0x1f2fba=Math[_0x3e2d6e(0x4ff)](_0x760942/_0x49d0d1[_0x3e2d6e(0x423)]);return'<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>'+_0x634c9e[_0x3e2d6e(0xc6f)]+'\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>('+_0x1527e8+'/'+_0x1f2fba+_0x3e2d6e(0xb92)+_0x634c9e[_0x3e2d6e(0x5c3)]+_0x3e2d6e(0x8f7);})[_0x53a75d(0xa0a)](''),_0x2d32b9=_0x49d0d1[_0x53a75d(0x4a8)]((_0x312148,_0x326b24)=>_0x312148+(_0x7dde33[_0x326b24]['answers']?.[_0x53a75d(0x423)]||0x0),0x0),_0x513d1a=currentQuizData['questions'][_0x53a75d(0x921)]((_0x281d02,_0x5e6d67)=>{const _0x37982e=_0x53a75d;let _0x732ceb=null,_0x3573ce=null;for(const _0x54cf36 of _0x49d0d1){const _0x22447d=_0x7dde33[_0x54cf36][_0x37982e(0x854)]?.[_0x37982e(0xc0d)](_0x3e89ee=>_0x3e89ee[_0x37982e(0xab9)]===_0x5e6d67);if(_0x22447d){_0x732ceb=_0x22447d,_0x3573ce=_0x54cf36;break;}}const _0x921c32=!!_0x732ceb,_0x45d363=_0x921c32&&_0x732ceb[_0x37982e(0x3e2)],_0x5f4b29=(Math[_0x37982e(0xb26)](_0x5e6d67/_0x49d0d1[_0x37982e(0x423)])+0x1)*_0x49d0d1[_0x37982e(0x423)],_0x165f80=_0x2d32b9>=_0x5f4b29,_0x7fc67=_0x165f80?_0x37982e(0x124):_0x37982e(0xc1f),_0x2a00a3=_0x165f80?_0x37982e(0xac5):'';let _0x2babcb=_0x37982e(0xb1b);return _0x921c32&&(_0x2babcb=_0x3573ce+_0x37982e(0x840)+(_0x45d363?_0x37982e(0x242):_0x37982e(0x7f6))),'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x7fc67+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x5e6d67+0x1)+_0x37982e(0xa9e)+_0x2a00a3+_0x37982e(0x123)+_0x2babcb+_0x37982e(0x9e0);})[_0x53a75d(0xa0a)]('');_0x132a84[_0x53a75d(0x2b3)]=_0x53a75d(0x4c7)+_0x3d25be+_0x53a75d(0x796)+_0x513d1a+_0x53a75d(0xbee);}async function handleJoinTeamQuiz(){const _0x20f550=_0x3b29b2,_0x512db6=prompt(_0x20f550(0x817));if(!_0x512db6||_0x512db6[_0x20f550(0x9bb)]()[_0x20f550(0x423)]!==0x4){showMessage(_0x20f550(0x1cc));return;}try{const _0x1aff4b=collection(db,_0x20f550(0xb79)+appId+'/public/data/teamQuizzes'),_0x1318ac=query(_0x1aff4b,where('pin','==',_0x512db6[_0x20f550(0x9bb)]()),where(_0x20f550(0xbeb),'==',_0x20f550(0x40e))),_0x322cec=await getDocs(_0x1318ac);if(_0x322cec['empty']){showMessage(_0x20f550(0x258));return;}const _0x252f91=_0x322cec[_0x20f550(0x8c5)][0x0];currentTeamQuizId=_0x252f91['id'];const _0x35997b=_0x252f91[_0x20f550(0x7a6)](),_0x120256=doc(db,_0x20f550(0xb79)+appId+_0x20f550(0x304),_0x35997b[_0x20f550(0x13a)]),_0xade00e=doc(db,_0x20f550(0xb79)+appId+'/public/data/quizzes',_0x35997b['quizId']),[_0x58bbc0,_0x198515]=await Promise['all']([getDoc(_0x120256),getDoc(_0xade00e)]);if(!_0x58bbc0[_0x20f550(0xb65)]()||!_0x198515['exists']())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x198515['id'],..._0x198515[_0x20f550(0x7a6)]()});const _0x2f244a=_0x58bbc0[_0x20f550(0x7a6)]();showTeamPlayerSelection(_0x2f244a[_0x20f550(0x98d)],currentQuizData[_0x20f550(0x13e)]);}catch(_0x3aaeb2){console[_0x20f550(0xc93)](_0x20f550(0x73c),_0x3aaeb2),showMessage(_0x20f550(0x1fd)+_0x3aaeb2['message']);}}async function handleJoinGroupActivity(){const _0x4132c8=_0x3b29b2,_0x40931c=prompt(_0x4132c8(0x75d));if(!_0x40931c||_0x40931c['trim']()[_0x4132c8(0x423)]!==0x4){showMessage('รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น');return;}const _0x48cab2=_0x40931c[_0x4132c8(0x9bb)]();showMessage(_0x4132c8(0xb25));try{const _0xe044e0=collection(db,_0x4132c8(0xb79)+appId+_0x4132c8(0x8f3)),_0x8d9121=query(_0xe044e0,where(_0x4132c8(0x5e6),'==',_0x48cab2),where('status','==',_0x4132c8(0x40e))),_0x23b558=await getDocs(_0x8d9121);if(!_0x23b558['empty']){console[_0x4132c8(0x886)]('พบ\x20Team\x20Quiz!'),await proceedWithTeamQuizJoin(_0x23b558[_0x4132c8(0x8c5)][0x0]);return;}const _0x3724f9=collection(db,_0x4132c8(0xb79)+appId+_0x4132c8(0x5a4)),_0x3d9a5a=query(_0x3724f9,where('pin','==',_0x48cab2),where(_0x4132c8(0xbeb),'==','lobby')),_0x27d58d=await getDocs(_0x3d9a5a);if(!_0x27d58d[_0x4132c8(0xab0)]){console['log'](_0x4132c8(0xc92)),await proceedWithSyncQuizJoin(_0x27d58d[_0x4132c8(0x8c5)][0x0]);return;}showMessage(_0x4132c8(0x13b));}catch(_0x478bf2){console[_0x4132c8(0xc93)](_0x4132c8(0x161),_0x478bf2),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x478bf2['message']);}}async function proceedWithTeamQuizJoin(_0x158af6){const _0x2dadd0=_0x3b29b2;currentTeamQuizId=_0x158af6['id'];const _0x390974=_0x158af6[_0x2dadd0(0x7a6)](),_0x3797fc=doc(db,_0x2dadd0(0xb79)+appId+_0x2dadd0(0x304),_0x390974[_0x2dadd0(0x13a)]),_0x541494=doc(db,_0x2dadd0(0xb79)+appId+_0x2dadd0(0x53a),_0x390974[_0x2dadd0(0x6da)]),[_0x3041b3,_0x3daa91]=await Promise[_0x2dadd0(0x6e1)]([getDoc(_0x3797fc),getDoc(_0x541494)]);if(!_0x3041b3[_0x2dadd0(0xb65)]()||!_0x3daa91[_0x2dadd0(0xb65)]())throw new Error(_0x2dadd0(0x4de));currentQuizData=getShuffledQuiz({'id':_0x3daa91['id'],..._0x3daa91[_0x2dadd0(0x7a6)]()}),showTeamPlayerSelection(_0x3041b3[_0x2dadd0(0x7a6)]()['students'],currentQuizData[_0x2dadd0(0x13e)],_0x390974['mode']||_0x2dadd0(0x323)),messageModal[_0x2dadd0(0x6b0)][_0x2dadd0(0xb35)](_0x2dadd0(0x3db));}async function proceedWithSyncQuizJoin(_0x15d7e4){const _0x51d157=_0x3b29b2;currentLiveGameId=_0x15d7e4['id'];const _0x5c8a46=_0x15d7e4['data'](),_0x3ee5bc=doc(db,_0x51d157(0xb79)+appId+_0x51d157(0x53a),_0x5c8a46[_0x51d157(0x6da)]),_0x3233d8=await getDoc(_0x3ee5bc);if(!_0x3233d8[_0x51d157(0xb65)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x490039=_0x3233d8[_0x51d157(0x7a6)](),_0x520043=doc(db,'artifacts/'+appId+'/public/data/projects',_0x490039[_0x51d157(0x13a)]),_0x2c3f69=await getDoc(_0x520043);if(!_0x2c3f69['exists']())throw new Error(_0x51d157(0x95c));currentQuizData=_0x5c8a46[_0x51d157(0xc2b)],showView(_0x51d157(0x541)),showTeamPlayerSelection(_0x2c3f69[_0x51d157(0x7a6)]()[_0x51d157(0x98d)],_0x490039[_0x51d157(0x13e)],_0x51d157(0xa2f)),document[_0x51d157(0xa57)](_0x51d157(0x465))['onclick']=confirmAndJoinSyncGame,messageModal[_0x51d157(0x6b0)][_0x51d157(0xb35)](_0x51d157(0x3db));}function getCleanApplicationHTML(){const _0x245e59=_0x3b29b2,_0x518b2a=document[_0x245e59(0xa57)]('applicationContent');if(!_0x518b2a)return'';const _0x50d663=_0x518b2a[_0x245e59(0x2d1)](!![]);return _0x50d663[_0x245e59(0x3cf)]('.application-options\x20button')['forEach'](_0x369f9c=>{const _0x444605=_0x245e59;_0x369f9c['classList']['remove']('correct','incorrect'),_0x369f9c[_0x444605(0x267)]=![];}),_0x50d663['innerHTML'];}function showTeamPlayerSelection(_0x5a7eb5,_0xf4c5b7,_0x3a16e6=_0x3b29b2(0x323)){const _0x58a3ba=_0x3b29b2;studentInitialView[_0x58a3ba(0x6b0)][_0x58a3ba(0xb35)]('hidden'),studentJoinGameView['classList'][_0x58a3ba(0xb35)](_0x58a3ba(0x3db)),document[_0x58a3ba(0xa57)](_0x58a3ba(0xc51))[_0x58a3ba(0x6b0)][_0x58a3ba(0xbb2)](_0x58a3ba(0x3db));let _0x2830d6=_0x58a3ba(0x885);if(_0x3a16e6===_0x58a3ba(0x5c9))_0x2830d6=_0x58a3ba(0x523);else _0x3a16e6===_0x58a3ba(0xa2f)&&(_0x2830d6='Sync\x20Mode');document['getElementById'](_0x58a3ba(0x184))[_0x58a3ba(0x63d)]=_0x2830d6+':\x20'+_0xf4c5b7;const _0x2a568f=document[_0x58a3ba(0xa57)]('team-student-list');if(!_0x5a7eb5||_0x5a7eb5['length']===0x0){_0x2a568f[_0x58a3ba(0x2b3)]='<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>',document[_0x58a3ba(0xa57)]('confirm-team-players-btn')['disabled']=!![];return;}_0x2a568f[_0x58a3ba(0x2b3)]=_0x5a7eb5[_0x58a3ba(0x921)](_0x327357=>_0x58a3ba(0x546)+_0x327357+'\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>'+_0x327357+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0x58a3ba(0xa0a)](''),document['getElementById'](_0x58a3ba(0x465))[_0x58a3ba(0x267)]=![];}async function confirmAndStartTeamQuiz(){const _0x3059c6=_0x3b29b2,_0x3257e7=Array[_0x3059c6(0x35d)](document[_0x3059c6(0x3cf)]('input[name=\x22team_player\x22]:checked'))['map'](_0x413ae6=>_0x413ae6[_0x3059c6(0x6d4)]);if(_0x3257e7[_0x3059c6(0x423)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x3257e7,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x2c29d2=doc(db,_0x3059c6(0xb79)+appId+_0x3059c6(0x8f3),currentTeamQuizId);try{const _0x5a51f2=await getDoc(_0x2c29d2);if(!_0x5a51f2[_0x3059c6(0xb65)]())throw new Error('ไม่พบข้อมูลเกม');const _0x4a8cbf=_0x5a51f2[_0x3059c6(0x7a6)]();if(_0x4a8cbf[_0x3059c6(0x4b7)]===_0x3059c6(0x5c9)){const _0x6f80e9={[_0x3059c6(0x285)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x2c29d2,_0x6f80e9);}else{const _0x49de3c=_0x4a8cbf[_0x3059c6(0x2fa)]||{};localTeamPlayers[_0x3059c6(0x9aa)](_0x277fc4=>{!_0x49de3c[_0x277fc4]&&(_0x49de3c[_0x277fc4]={'score':0x0,'answers':[]});}),await updateDoc(_0x2c29d2,{'responses':_0x49de3c});}document[_0x3059c6(0xa57)](_0x3059c6(0xc51))[_0x3059c6(0x6b0)][_0x3059c6(0xb35)](_0x3059c6(0x3db)),renderTeamQuizQuestion();const _0x2b57c7={'gameId':currentTeamQuizId,'mode':_0x4a8cbf[_0x3059c6(0x4b7)]||_0x3059c6(0x323),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x3059c6(0x6a3)](_0x3059c6(0x41b),JSON[_0x3059c6(0xc54)](_0x2b57c7)),listenForTeamQuizUpdates();}catch(_0x1525ce){console[_0x3059c6(0xc93)](_0x3059c6(0x183),_0x1525ce),showMessage(_0x3059c6(0x954));}}async function renderTeamQuizQuestion(){const _0x484831=_0x3b29b2;if(localQuestionIndex>=currentQuizData['questions'][_0x484831(0x423)]){displayTeamQuizFinalResults();return;}const _0x4c7a86=currentQuizData[_0x484831(0x288)][localQuestionIndex],_0x26b9d0=localTeamPlayers[localPlayerIndex],_0x4acb46=_0x4c7a86['questionType']||currentQuizData[_0x484831(0x573)];let _0x4bb259=_0x4c7a86[_0x484831(0xc65)]||_0x4c7a86[_0x484831(0xc1c)],_0x471939='';switch(_0x4acb46){case _0x484831(0xbbc):case _0x484831(0xadd):_0x471939=_0x4c7a86['options']['map']((_0x2d502c,_0x22b4ea)=>_0x484831(0x553)+_0x22b4ea+_0x484831(0x7f3)+_0x22b4ea+_0x484831(0x5eb)+_0x22b4ea+'\x22>'+_0x2d502c+_0x484831(0x5ce))['join']('');break;case _0x484831(0x421):_0x471939=_0x484831(0x13c);break;case _0x484831(0x639):case'fill_in_no_choices':_0x471939=_0x484831(0xaae);break;case'matching_item':_0x471939=_0x484831(0x441)+_0x4c7a86[_0x484831(0x889)][_0x484831(0x921)](_0x4cd5b3=>_0x484831(0x93f)+_0x4cd5b3+'\x22>'+_0x4cd5b3+'</option>')['join']('')+_0x484831(0x748);break;default:_0x471939=_0x484831(0x8e6);break;}studentQuizArea[_0x484831(0x2b3)]=_0x484831(0xb15)+(localQuestionIndex+0x1)+_0x484831(0x3a8)+currentQuizData[_0x484831(0x288)][_0x484831(0x423)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20'+_0x26b9d0+_0x484831(0x4f7)+(localQuestionIndex+0x1)+'.\x20'+_0x4bb259+_0x484831(0x19e)+(_0x4c7a86['imageCode']?_0x484831(0x400)+_0x4c7a86[_0x484831(0xa5d)]+'</div>':'')+_0x484831(0x855)+_0x471939+_0x484831(0xa1a),studentQuizArea[_0x484831(0x6b0)][_0x484831(0xbb2)](_0x484831(0x3db));if(window[_0x484831(0x49e)])MathJax[_0x484831(0x13d)]([studentQuizArea]);document[_0x484831(0xa57)](_0x484831(0xbdd))[_0x484831(0x3f4)](_0x484831(0x1b1),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x22c1ff=_0x3b29b2,_0x585469=currentQuizData[_0x22c1ff(0x288)][localQuestionIndex],_0xbb6191=_0x585469[_0x22c1ff(0x704)]||currentQuizData['quizType'];let _0x2f2f48=null,_0x2f340b=![];if(_0xbb6191==='short_answer'||_0xbb6191==='fill_in_no_choices'){const _0x2485a1=document[_0x22c1ff(0x1c1)](_0x22c1ff(0x347));if(!_0x2485a1||!_0x2485a1[_0x22c1ff(0x6d4)][_0x22c1ff(0x9bb)]()){showMessage(_0x22c1ff(0x196));return;}_0x2f2f48=_0x2485a1[_0x22c1ff(0x6d4)]['trim'](),_0x2f340b=await gradeShortAnswer(_0x2f2f48,_0x585469);}else{const _0x27ccb6=document[_0x22c1ff(0x1c1)](_0x22c1ff(0xaed));if(!_0x27ccb6||_0x27ccb6['value']===''){showMessage(_0x22c1ff(0x897));return;}_0x2f2f48=_0x27ccb6[_0x22c1ff(0x6d4)];switch(_0xbb6191){case _0x22c1ff(0x421):_0x2f340b=_0x2f2f48===_0x22c1ff(0x198)===_0x585469['correctAnswer'];break;case _0x22c1ff(0x8bb):_0x2f340b=_0x2f2f48===_0x585469['correctResponse'];break;default:_0x2f340b=parseInt(_0x2f2f48)===_0x585469[_0x22c1ff(0x6c9)];break;}}const _0x4a53fa={'questionIndex':localQuestionIndex,'isCorrect':_0x2f340b},_0x4df3fd=userId,_0x4bdde3={[_0x22c1ff(0x285)+_0x4df3fd+_0x22c1ff(0x6bf)]:arrayUnion(_0x4a53fa)};_0x2f340b&&(_0x4bdde3[_0x22c1ff(0x285)+_0x4df3fd+_0x22c1ff(0xbcc)]=increment(0x1));try{await updateDoc(doc(db,_0x22c1ff(0xb79)+appId+_0x22c1ff(0x8f3),currentTeamQuizId),_0x4bdde3),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x22c1ff(0x288)][_0x22c1ff(0x423)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x32c449){console[_0x22c1ff(0xc93)](_0x22c1ff(0x312),_0x32c449),showMessage(_0x22c1ff(0x6dd));}}async function handleTeamAnswerSubmit(){const _0x55ce14=_0x3b29b2,_0x252f39=await getDoc(doc(db,_0x55ce14(0xb79)+appId+_0x55ce14(0x8f3),currentTeamQuizId));if(!_0x252f39[_0x55ce14(0xb65)]())return;const _0x12fda0=_0x252f39[_0x55ce14(0x7a6)]();if(_0x12fda0[_0x55ce14(0x4b7)]===_0x55ce14(0x5c9)){handleGroupAnswerSubmit();return;}const _0x2c857a=localTeamPlayers[localPlayerIndex],_0x6c09a9=currentQuizData[_0x55ce14(0x288)][localQuestionIndex],_0x2ada03=_0x6c09a9[_0x55ce14(0x704)]||currentQuizData['quizType'];let _0x3eac58=null,_0x1729b4=![];if(_0x2ada03===_0x55ce14(0x639)||_0x2ada03==='fill_in_no_choices'){const _0x1799ff=document[_0x55ce14(0x1c1)](_0x55ce14(0x347));if(!_0x1799ff||!_0x1799ff['value'][_0x55ce14(0x9bb)]()){showMessage(_0x55ce14(0xc96));return;}_0x3eac58=_0x1799ff[_0x55ce14(0x6d4)][_0x55ce14(0x9bb)](),_0x1729b4=await gradeShortAnswer(_0x3eac58,_0x6c09a9);}else{const _0x153f09=document['querySelector']('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x153f09||_0x153f09[_0x55ce14(0x6d4)]===''){showMessage(_0x55ce14(0xca0));return;}_0x3eac58=_0x153f09[_0x55ce14(0x6d4)];switch(_0x2ada03){case'true_false':_0x1729b4=_0x3eac58===_0x55ce14(0x198)===_0x6c09a9[_0x55ce14(0x72d)];break;case _0x55ce14(0x8bb):_0x1729b4=_0x3eac58===_0x6c09a9['correctResponse'];break;default:_0x1729b4=parseInt(_0x3eac58)===_0x6c09a9[_0x55ce14(0x6c9)];break;}}const _0x2b6097={'questionIndex':localQuestionIndex,'isCorrect':_0x1729b4,'answerValue':_0x3eac58},_0x33c096={[_0x55ce14(0x146)+_0x2c857a+_0x55ce14(0x6bf)]:arrayUnion(_0x2b6097)};_0x1729b4&&(_0x33c096['responses.'+_0x2c857a+_0x55ce14(0xbcc)]=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+_0x55ce14(0x8f3),currentTeamQuizId),_0x33c096),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x55ce14(0x423)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0xef2069){console[_0x55ce14(0xc93)]('Error\x20submitting\x20team\x20answer:',_0xef2069),showMessage(_0x55ce14(0x6dd));}}async function displayTeamQuizFinalResults(){const _0x28517a=_0x3b29b2;studentQuizArea[_0x28517a(0x6b0)][_0x28517a(0xb35)](_0x28517a(0x3db)),studentResultArea[_0x28517a(0x6b0)][_0x28517a(0xbb2)](_0x28517a(0x3db));const _0x49b770=doc(db,_0x28517a(0xb79)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x2dff18=await getDoc(_0x49b770);if(!_0x2dff18[_0x28517a(0xb65)]()){studentResultArea[_0x28517a(0x2b3)]=_0x28517a(0xb72);return;}const _0x33e7a0=_0x2dff18[_0x28517a(0x7a6)]();let _0x21ca51=[];const _0x4d7ae3=_0x33e7a0[_0x28517a(0x4b7)]||_0x28517a(0x323);if(_0x4d7ae3===_0x28517a(0x5c9)){const _0x374538=_0x33e7a0[_0x28517a(0x219)][userId];_0x374538?_0x21ca51=[{'name':_0x28517a(0x182)+localTeamPlayers[_0x28517a(0xa0a)](',\x20'),'score':_0x374538[_0x28517a(0x5c3)]||0x0}]:_0x21ca51=[{'name':_0x28517a(0x80c),'score':'N/A'}];}else _0x21ca51=localTeamPlayers[_0x28517a(0x921)](_0x3ac084=>({'name':_0x3ac084,'score':_0x33e7a0[_0x28517a(0x2fa)][_0x3ac084]?.[_0x28517a(0x5c3)]||0x0}))[_0x28517a(0x445)]((_0x3b628b,_0x3028da)=>_0x3028da[_0x28517a(0x5c3)]-_0x3b628b[_0x28517a(0x5c3)]);studentResultArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x21ca51[_0x28517a(0x921)](_0x3cf914=>_0x28517a(0x8d8)+_0x3cf914[_0x28517a(0xc6f)]+'</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x3cf914[_0x28517a(0x5c3)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x28517a(0xa0a)]('')+_0x28517a(0x906),sessionStorage[_0x28517a(0x8a8)]('activeGameSession'),currentMode===_0x28517a(0xa9b)&&currentTeamQuizId&&setTimeout(()=>{const _0xf1ff9=_0x28517a;deleteDoc(doc(db,_0xf1ff9(0xb79)+appId+_0xf1ff9(0x8f3),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':'grid'};const allMathTopics=[{'category':_0x3b29b2(0x4d4),'name':'การนับ'},{'category':'จำนวนและการดำเนินการ','name':_0x3b29b2(0x468)},{'category':_0x3b29b2(0x4d4),'name':_0x3b29b2(0x33c)},{'category':'จำนวนและการดำเนินการ','name':_0x3b29b2(0x9cc)},{'category':_0x3b29b2(0x4d4),'name':'การบวก'},{'category':_0x3b29b2(0x4d4),'name':_0x3b29b2(0x6cd)},{'category':_0x3b29b2(0x4d4),'name':'การคูณ'},{'category':_0x3b29b2(0x4d4),'name':_0x3b29b2(0x22e)},{'category':_0x3b29b2(0x4d4),'name':'จำนวนเต็มบวก'},{'category':_0x3b29b2(0x4d4),'name':_0x3b29b2(0x50a)},{'category':'จำนวนและการดำเนินการ','name':'ศูนย์'},{'category':'จำนวนและการดำเนินการ','name':_0x3b29b2(0x6b4)},{'category':_0x3b29b2(0x4d4),'name':'เส้นจำนวน'},{'category':_0x3b29b2(0x4d4),'name':_0x3b29b2(0x24a)},{'category':_0x3b29b2(0x4d4),'name':_0x3b29b2(0x851)},{'category':_0x3b29b2(0x4d4),'name':_0x3b29b2(0xa8f)},{'category':_0x3b29b2(0x4d4),'name':_0x3b29b2(0xa51)},{'category':_0x3b29b2(0x4d4),'name':_0x3b29b2(0x273)},{'category':_0x3b29b2(0x4d4),'name':_0x3b29b2(0x760)},{'category':'จำนวนและการดำเนินการ','name':_0x3b29b2(0x51c)},{'category':_0x3b29b2(0x4d4),'name':_0x3b29b2(0x5a2)},{'category':_0x3b29b2(0x4d4),'name':_0x3b29b2(0x3d8)},{'category':_0x3b29b2(0x4d4),'name':_0x3b29b2(0x890)},{'category':_0x3b29b2(0x4d4),'name':'จำนวนคละ'},{'category':_0x3b29b2(0x4d4),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0x3b29b2(0x4d4),'name':_0x3b29b2(0x91f)},{'category':_0x3b29b2(0x4d4),'name':'การลบทศนิยม'},{'category':_0x3b29b2(0x4d4),'name':_0x3b29b2(0x22c)},{'category':_0x3b29b2(0x4d4),'name':_0x3b29b2(0xa39)},{'category':'จำนวนและการดำเนินการ','name':_0x3b29b2(0x558)},{'category':_0x3b29b2(0x4d4),'name':'ร้อยละพื้นฐาน'},{'category':_0x3b29b2(0x4d4),'name':_0x3b29b2(0x185)},{'category':_0x3b29b2(0x4d4),'name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':_0x3b29b2(0x4d4),'name':_0x3b29b2(0x571)},{'category':'จำนวนและการดำเนินการ','name':_0x3b29b2(0xb21)},{'category':_0x3b29b2(0x4d4),'name':_0x3b29b2(0x346)},{'category':_0x3b29b2(0x4d4),'name':_0x3b29b2(0x411)},{'category':_0x3b29b2(0x3ba),'name':'หน่วยความยาวและการแปลง'},{'category':_0x3b29b2(0x3ba),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0x3b29b2(0x3ba),'name':'หน่วยเวลาและการคำนวณเวลา'},{'category':_0x3b29b2(0x3ba),'name':_0x3b29b2(0x960)},{'category':'การวัด','name':_0x3b29b2(0x758)},{'category':_0x3b29b2(0x3ba),'name':'เส้นรอบรูป'},{'category':_0x3b29b2(0x3ba),'name':_0x3b29b2(0x36a)},{'category':_0x3b29b2(0x3ba),'name':_0x3b29b2(0xba1)},{'category':_0x3b29b2(0x3ba),'name':_0x3b29b2(0x256)},{'category':'การวัด','name':_0x3b29b2(0x9ed)},{'category':'การวัด','name':_0x3b29b2(0x3f8)},{'category':'การวัด','name':_0x3b29b2(0x424)},{'category':_0x3b29b2(0x3ba),'name':_0x3b29b2(0x11e)},{'category':_0x3b29b2(0x3ba),'name':_0x3b29b2(0x7eb)},{'category':_0x3b29b2(0x3f3),'name':_0x3b29b2(0xbf7)},{'category':_0x3b29b2(0x3f3),'name':'ความสัมพันธ์ของมุม'},{'category':_0x3b29b2(0x3f3),'name':_0x3b29b2(0x87d)},{'category':_0x3b29b2(0x3f3),'name':_0x3b29b2(0xba1)},{'category':'เรขาคณิต','name':_0x3b29b2(0x899)},{'category':'เรขาคณิต','name':_0x3b29b2(0x225)},{'category':_0x3b29b2(0x3f3),'name':_0x3b29b2(0x25f)},{'category':_0x3b29b2(0x3f3),'name':_0x3b29b2(0x6af)},{'category':_0x3b29b2(0x3f3),'name':_0x3b29b2(0x6aa)},{'category':_0x3b29b2(0x3f3),'name':_0x3b29b2(0x64b)},{'category':_0x3b29b2(0x3f3),'name':'วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์'},{'category':'เรขาคณิต','name':_0x3b29b2(0x235)},{'category':'เรขาคณิต','name':_0x3b29b2(0xc7b)},{'category':_0x3b29b2(0x3f3),'name':_0x3b29b2(0x26c)},{'category':_0x3b29b2(0x3f3),'name':_0x3b29b2(0x4ef)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3b29b2(0x2d2)},{'category':_0x3b29b2(0x270),'name':_0x3b29b2(0x473)},{'category':_0x3b29b2(0x270),'name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3b29b2(0xa4c)},{'category':_0x3b29b2(0x270),'name':_0x3b29b2(0x6f5)},{'category':_0x3b29b2(0x270),'name':_0x3b29b2(0x3bc)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)'},{'category':_0x3b29b2(0x270),'name':_0x3b29b2(0x870)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3b29b2(0x9f0)},{'category':_0x3b29b2(0x270),'name':_0x3b29b2(0x321)},{'category':_0x3b29b2(0x270),'name':_0x3b29b2(0x97c)},{'category':_0x3b29b2(0x270),'name':_0x3b29b2(0x835)},{'category':_0x3b29b2(0x270),'name':'สมการลอการิทึม'},{'category':_0x3b29b2(0x270),'name':_0x3b29b2(0x6d2)},{'category':_0x3b29b2(0x270),'name':_0x3b29b2(0x37d)},{'category':_0x3b29b2(0x270),'name':'ระบบอสมการ'},{'category':_0x3b29b2(0x270),'name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':_0x3b29b2(0x270),'name':_0x3b29b2(0xc4b)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3b29b2(0x1b3)},{'category':_0x3b29b2(0x270),'name':_0x3b29b2(0x433)},{'category':_0x3b29b2(0x270),'name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':_0x3b29b2(0x270),'name':_0x3b29b2(0x709)},{'category':_0x3b29b2(0x270),'name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0x3b29b2(0x270),'name':'ฟังก์ชันพหุนาม'},{'category':_0x3b29b2(0x270),'name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':_0x3b29b2(0x270),'name':_0x3b29b2(0x764)},{'category':_0x3b29b2(0x270),'name':_0x3b29b2(0x282)},{'category':_0x3b29b2(0x270),'name':_0x3b29b2(0x1f4)},{'category':_0x3b29b2(0x270),'name':_0x3b29b2(0x7a9)},{'category':_0x3b29b2(0x270),'name':_0x3b29b2(0x212)},{'category':_0x3b29b2(0x270),'name':_0x3b29b2(0x326)},{'category':_0x3b29b2(0x270),'name':_0x3b29b2(0x1c6)},{'category':_0x3b29b2(0x270),'name':'ผลรวมอนุกรม\x20(Σ)'},{'category':_0x3b29b2(0x270),'name':'ทฤษฎีทวินาม\x20(เบื้องต้น)'},{'category':_0x3b29b2(0x270),'name':_0x3b29b2(0x9b9)},{'category':_0x3b29b2(0x554),'name':_0x3b29b2(0xc33)},{'category':_0x3b29b2(0x554),'name':_0x3b29b2(0x4b9)},{'category':'เรขาคณิตวิเคราะห์','name':_0x3b29b2(0x16e)},{'category':'เรขาคณิตวิเคราะห์','name':_0x3b29b2(0x30e)},{'category':_0x3b29b2(0x554),'name':'ระยะจากจุดถึงเส้นตรง'},{'category':_0x3b29b2(0x554),'name':_0x3b29b2(0x251)},{'category':_0x3b29b2(0x554),'name':'พาราโบลา'},{'category':_0x3b29b2(0x554),'name':_0x3b29b2(0xbbd)},{'category':_0x3b29b2(0x554),'name':_0x3b29b2(0x660)},{'category':'ตรีโกณมิติ','name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':_0x3b29b2(0x940),'name':_0x3b29b2(0x331)},{'category':_0x3b29b2(0x940),'name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0x3b29b2(0x940),'name':_0x3b29b2(0x4b6)},{'category':'ตรีโกณมิติ','name':'กฎของไซน์'},{'category':'ตรีโกณมิติ','name':_0x3b29b2(0x241)},{'category':'ตรีโกณมิติ','name':_0x3b29b2(0xa76)},{'category':_0x3b29b2(0x940),'name':_0x3b29b2(0x2c5)},{'category':_0x3b29b2(0x940),'name':'สมการตรีโกณมิติ'},{'category':_0x3b29b2(0x940),'name':_0x3b29b2(0x5cc)},{'category':'ตรีโกณมิติ','name':_0x3b29b2(0xc25)},{'category':_0x3b29b2(0x3b5),'name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':_0x3b29b2(0x3b5),'name':_0x3b29b2(0x7e9)},{'category':'สถิติและความน่าจะเป็น','name':_0x3b29b2(0xc22)},{'category':_0x3b29b2(0x3b5),'name':_0x3b29b2(0x7d9)},{'category':'สถิติและความน่าจะเป็น','name':'ฮิสโตแกรม'},{'category':_0x3b29b2(0x3b5),'name':_0x3b29b2(0x7f9)},{'category':'สถิติและความน่าจะเป็น','name':_0x3b29b2(0x152)},{'category':_0x3b29b2(0x3b5),'name':_0x3b29b2(0x959)},{'category':'สถิติและความน่าจะเป็น','name':'ฐานนิยม'},{'category':_0x3b29b2(0x3b5),'name':'พิสัย'},{'category':_0x3b29b2(0x3b5),'name':_0x3b29b2(0x2e4)},{'category':_0x3b29b2(0x3b5),'name':_0x3b29b2(0x5e7)},{'category':_0x3b29b2(0x3b5),'name':_0x3b29b2(0x450)},{'category':_0x3b29b2(0x3b5),'name':_0x3b29b2(0x682)},{'category':_0x3b29b2(0x3b5),'name':_0x3b29b2(0xc0b)},{'category':'สถิติและความน่าจะเป็น','name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x3b29b2(0x3b5),'name':_0x3b29b2(0xab4)},{'category':_0x3b29b2(0x3b5),'name':_0x3b29b2(0xa20)},{'category':_0x3b29b2(0x3b5),'name':_0x3b29b2(0x381)},{'category':_0x3b29b2(0x3b5),'name':_0x3b29b2(0x356)},{'category':'สถิติและความน่าจะเป็น','name':_0x3b29b2(0x7b6)},{'category':_0x3b29b2(0x3b5),'name':_0x3b29b2(0x564)},{'category':_0x3b29b2(0x3b5),'name':_0x3b29b2(0x245)},{'category':_0x3b29b2(0x3b5),'name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':_0x3b29b2(0x742),'name':_0x3b29b2(0xa37)},{'category':_0x3b29b2(0x742),'name':'ความต่อเนื่อง'},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0x3b29b2(0x742),'name':_0x3b29b2(0xbfa)},{'category':_0x3b29b2(0x742),'name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':_0x3b29b2(0x742),'name':_0x3b29b2(0xad3)},{'category':'แคลคูลัสเบื้องต้น','name':'ความชันเส้นสัมผัส'},{'category':'แคลคูลัสเบื้องต้น','name':_0x3b29b2(0x3cd)},{'category':_0x3b29b2(0x742),'name':_0x3b29b2(0x266)},{'category':_0x3b29b2(0x742),'name':_0x3b29b2(0x6ef)},{'category':_0x3b29b2(0x742),'name':_0x3b29b2(0x437)},{'category':_0x3b29b2(0x742),'name':_0x3b29b2(0x519)},{'category':'แคลคูลัสเบื้องต้น','name':_0x3b29b2(0xbe3)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':_0x3b29b2(0x4bc),'name':_0x3b29b2(0x392)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x3b29b2(0x22a)},{'category':_0x3b29b2(0x4bc),'name':_0x3b29b2(0x9f8)},{'category':_0x3b29b2(0x4bc),'name':_0x3b29b2(0x378)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x3b29b2(0xa78)},{'category':_0x3b29b2(0x4bc),'name':'แก้ระบบสมการด้วยเมทริกซ์'},{'category':_0x3b29b2(0xa59),'name':_0x3b29b2(0x3c6)},{'category':_0x3b29b2(0xa59),'name':_0x3b29b2(0x794)},{'category':_0x3b29b2(0xa59),'name':'เงินงวด\x20(อนุกรมเงินงวด)'},{'category':_0x3b29b2(0xa59),'name':'ค่าเสื่อมราคา'},{'category':_0x3b29b2(0xa59),'name':_0x3b29b2(0x70b)},{'category':_0x3b29b2(0x72a),'name':_0x3b29b2(0x4ab)},{'category':_0x3b29b2(0x72a),'name':'รูปแบบการให้เหตุผล'},{'category':_0x3b29b2(0x72a),'name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x2eb558=_0x3b29b2,_0x1883ff=document[_0x2eb558(0xa57)](_0x2eb558(0x363));if(!_0x1883ff)return;const _0x560337=allMathTopics,_0x45aa86=customMathTopics[_0x2eb558(0x921)](_0x194b4e=>({'id':_0x194b4e['id'],'category':_0x2eb558(0x454),'name':_0x194b4e[_0x2eb558(0xc6f)]})),_0x25cd55=[..._0x560337,..._0x45aa86],_0x5c0d47=_0x25cd55['reduce']((_0x5b75a0,_0x276b36)=>{const _0x51e725=_0x2eb558;return!_0x5b75a0[_0x276b36[_0x51e725(0x951)]]&&(_0x5b75a0[_0x276b36['category']]=[]),_0x5b75a0[_0x276b36[_0x51e725(0x951)]]['push'](_0x276b36),_0x5b75a0;},{});let _0x3853e6='';const _0x27b58c=[_0x2eb558(0x454),...Object['keys'](_0x5c0d47)['filter'](_0x310217=>_0x310217!==_0x2eb558(0x454))];for(const _0x3a8e7d of _0x27b58c){if(_0x5c0d47[_0x3a8e7d]){const _0x2c26d4=_0x3a8e7d==='หัวข้อที่สร้างเอง',_0x17965d=_0x2c26d4?'fas\x20fa-user-edit':'fas\x20fa-bookmark',_0x27f21c=_0x2c26d4?_0x2eb558(0x51f):'text-indigo-700';_0x3853e6+=_0x2eb558(0x654),_0x3853e6+=_0x2eb558(0x7b4)+_0x27f21c+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x17965d+_0x2eb558(0xc3b)+_0x3a8e7d+_0x2eb558(0x240),_0x5c0d47[_0x3a8e7d][_0x2eb558(0x9aa)](_0x266c49=>{const _0x13742d=_0x2eb558,_0x2e097b=!!_0x266c49['id'],_0x7313b3=_0x2e097b?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x266c49['id']+_0x13742d(0x492)+_0x266c49['id']+_0x13742d(0x707)+_0x266c49['id']+_0x13742d(0x79f)+_0x266c49['id']+_0x13742d(0x515):'';_0x3853e6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22'+(_0x266c49['id']||'')+_0x13742d(0x8af)+_0x266c49[_0x13742d(0xc6f)]+_0x13742d(0xc30)+_0x266c49[_0x13742d(0xc6f)]+_0x13742d(0x91b)+(_0x2e097b?_0x13742d(0x82c)+_0x266c49[_0x13742d(0xc6f)]+'\x22>':'')+_0x13742d(0x4ca)+_0x7313b3+_0x13742d(0xb03);}),_0x3853e6+=_0x2eb558(0xaa5);}}_0x1883ff[_0x2eb558(0x2b3)]=_0x3853e6||_0x2eb558(0x1ef),_0x1883ff[_0x2eb558(0xbf9)](_0x2eb558(0x6b6),updateSelectedTopicsCount),_0x1883ff['addEventListener'](_0x2eb558(0x6b6),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x519222,_0x4f01e5){const _0x2e1f6f=_0x3b29b2;if(!_0x519222||!_0x4f01e5['trim']()){showMessage(_0x2e1f6f(0xc3d));return;}try{const _0x3cbe4f=doc(db,_0x2e1f6f(0xb79)+appId+_0x2e1f6f(0x73d),_0x519222);await updateDoc(_0x3cbe4f,{'name':_0x4f01e5[_0x2e1f6f(0x9bb)]()}),showMessage(_0x2e1f6f(0x595));}catch(_0x1c280e){console[_0x2e1f6f(0xc93)](_0x2e1f6f(0xb6a),_0x1c280e),showMessage(_0x2e1f6f(0x38e));}}function toggleTopicEditMode(_0x58b578,_0x170b53){const _0x1fce4f=_0x3b29b2;if(!_0x58b578)return;const _0x1d48e3=_0x58b578[_0x1fce4f(0x1c1)](_0x1fce4f(0x78f)),_0x1091be=_0x58b578[_0x1fce4f(0x1c1)]('.topic-name-input'),_0xa0e320=_0x58b578[_0x1fce4f(0x1c1)]('.topic-actions-view'),_0x4c99a0=_0x58b578[_0x1fce4f(0x1c1)]('.topic-actions-edit');_0x1d48e3['classList'][_0x1fce4f(0xc0e)](_0x1fce4f(0x3db),_0x170b53),_0x1091be['classList'][_0x1fce4f(0xc0e)](_0x1fce4f(0x3db),!_0x170b53),_0xa0e320[_0x1fce4f(0x6b0)]['toggle'](_0x1fce4f(0x3db),_0x170b53),_0x4c99a0[_0x1fce4f(0x6b0)]['toggle'](_0x1fce4f(0x3db),!_0x170b53),_0x170b53&&(_0x1091be[_0x1fce4f(0xac9)](),_0x1091be['select']());}async function handleStartLiveRace(_0x5dcefa){const _0x37177f=_0x3b29b2;let _0x441592=allQuizzes['find'](_0x41b72e=>_0x41b72e['id']===_0x5dcefa);if(!_0x441592){const _0x1c1016=doc(db,_0x37177f(0xb79)+appId+_0x37177f(0x53a),_0x5dcefa),_0x3fabe8=await getDoc(_0x1c1016);if(!_0x3fabe8[_0x37177f(0xb65)]()){showMessage(_0x37177f(0x57d));return;}_0x441592={'id':_0x3fabe8['id'],..._0x3fabe8['data']()};}const _0x18a273=getShuffledQuiz(_0x441592);currentQuizData=_0x18a273;const _0x53c360=_0x441592['projectId']||currentProjectId||null,_0x2bc197=Math['floor'](0x3e8+Math[_0x37177f(0x95a)]()*0x2328)['toString']();currentLiveGamePin=_0x2bc197;try{const _0x17e803=await addDoc(collection(db,'artifacts/'+appId+_0x37177f(0xac2)),{'quizId':_0x5dcefa,'projectId':_0x53c360,'status':_0x37177f(0x40e),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x2bc197,'createdAt':serverTimestamp(),'shuffledQuiz':_0x18a273});currentLiveGameId=_0x17e803['id'],showAdminLobbyView(_0x2bc197,_0x441592[_0x37177f(0x13e)]),listenForLiveGameUpdates();}catch(_0x140b58){console[_0x37177f(0xc93)](_0x37177f(0x5da),_0x140b58),showMessage(_0x37177f(0x1aa));}}function updateSelectedTopicsCount(){const _0x53a7ff=_0x3b29b2,_0x11ffc7=document[_0x53a7ff(0xa57)]('math-topics-checkbox-container'),_0x29f001=_0x11ffc7['querySelectorAll'](_0x53a7ff(0x63e))[_0x53a7ff(0x423)],_0xab37cb=document['getElementById'](_0x53a7ff(0xb16));_0x29f001>0x0?_0xab37cb[_0x53a7ff(0x63d)]=_0x53a7ff(0x67e)+_0x29f001+'\x20หัวข้อ)':_0xab37cb[_0x53a7ff(0x63d)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x3b29b2(0x3a6),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy='bestScore',quizLeaderboardSortOrder=_0x3b29b2(0x4cf),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor='rgba(255,\x20255,\x200,\x200.5)',scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x3b29b2(0xaa4),scratchpadPenColor=_0x3b29b2(0x852),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x5228ab,_0x1ae9b1){const _0x1ea4dc=_0x3b29b2;return Math[_0x1ea4dc(0xa4f)](Math[_0x1ea4dc(0x630)](_0x5228ab['x']-_0x1ae9b1['x'],0x2)+Math[_0x1ea4dc(0x630)](_0x5228ab['y']-_0x1ae9b1['y'],0x2));}function getMidpoint(_0x5716e2,_0x5be1ab){return{'x':(_0x5716e2['x']+_0x5be1ab['x'])/0x2,'y':(_0x5716e2['y']+_0x5be1ab['y'])/0x2};}function getTransformedPoint(_0x375ef1,_0x152d88){return{'x':(_0x375ef1-scratchpadOffset['x'])/scratchpadScale,'y':(_0x152d88-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x265bf5=_0x3b29b2;if(!scratchpadCtx)return;const _0x29f39a=scratchpadCtx[_0x265bf5(0x2ec)],_0x2b0152=window['devicePixelRatio']||0x1,_0x166512=document['getElementById'](_0x265bf5(0x956));_0x166512&&(_0x166512[_0x265bf5(0xb97)]['transformOrigin']='0\x200',_0x166512[_0x265bf5(0xb97)][_0x265bf5(0x291)]=_0x265bf5(0x45b)+scratchpadOffset['x']+_0x265bf5(0x90c)+scratchpadOffset['y']+'px)\x20scale('+scratchpadScale+')'),scratchpadCtx[_0x265bf5(0x7fc)](),scratchpadCtx['setTransform'](_0x2b0152,0x0,0x0,_0x2b0152,0x0,0x0),scratchpadCtx[_0x265bf5(0x200)](0x0,0x0,_0x29f39a[_0x265bf5(0x159)],_0x29f39a['height']),scratchpadCtx[_0x265bf5(0xa33)](),scratchpadCtx[_0x265bf5(0x7fc)](),scratchpadCtx[_0x265bf5(0x9c1)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x265bf5(0x418)](scratchpadScale,scratchpadScale),strokes[_0x265bf5(0x9aa)](_0x58c072=>{drawStroke(_0x58c072);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x265bf5(0xa33)]();}function renderGroupModeQuestion(){const _0x3d7892=_0x3b29b2;if(localQuestionIndex>=currentQuizData['questions'][_0x3d7892(0x423)]){displayTeamQuizFinalResults();return;}const _0x243439=currentQuizData['questions'][localQuestionIndex],_0x568932=_0x243439['questionType']||currentQuizData['quizType'];let _0x1ee664=_0x243439['stem']||_0x243439[_0x3d7892(0xc1c)],_0x36640b='';switch(_0x568932){case _0x3d7892(0xbbc):case _0x3d7892(0xadd):_0x36640b=_0x243439[_0x3d7892(0x5a9)]['map']((_0x54d84d,_0x55969c)=>_0x3d7892(0x553)+_0x55969c+_0x3d7892(0x7f3)+_0x55969c+_0x3d7892(0x5eb)+_0x55969c+'\x22>'+_0x54d84d+_0x3d7892(0x5ce))[_0x3d7892(0xa0a)]('');break;case'true_false':_0x36640b=_0x3d7892(0x13c);break;case'short_answer':case _0x3d7892(0x7c4):_0x36640b=_0x3d7892(0x92a);break;case'matching_item':_0x36640b='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x243439['allResponses'][_0x3d7892(0x921)](_0x1fa314=>'<option\x20value=\x22'+_0x1fa314+'\x22>'+_0x1fa314+_0x3d7892(0xca6))['join']('')+_0x3d7892(0x748);break;default:_0x36640b=_0x3d7892(0x8e6);break;}studentQuizArea['innerHTML']=_0x3d7892(0xb15)+(localQuestionIndex+0x1)+_0x3d7892(0x3a8)+currentQuizData[_0x3d7892(0x288)][_0x3d7892(0x423)]+_0x3d7892(0x777)+localTeamPlayers[_0x3d7892(0xa0a)](',\x20')+_0x3d7892(0x4f7)+(localQuestionIndex+0x1)+'.\x20'+_0x1ee664+_0x3d7892(0x19e)+(_0x243439[_0x3d7892(0xa5d)]?_0x3d7892(0x400)+_0x243439[_0x3d7892(0xa5d)]+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x36640b+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x3d7892(0x6b0)][_0x3d7892(0xbb2)](_0x3d7892(0x3db));if(window['MathJax'])MathJax[_0x3d7892(0x13d)]([studentQuizArea]);document[_0x3d7892(0xa57)](_0x3d7892(0x8b8))[_0x3d7892(0x3f4)](_0x3d7892(0x1b1),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x56d0ae,_0xa93199=null,_0x2f4a4a,_0x37c69f=null,_0x20c48f=![],_0x58a1ff=null){const _0xc31d3d=_0x3b29b2,_0x4dfa57=document[_0xc31d3d(0xa57)]('quiz-generation-area');_0x4dfa57&&_0x4dfa57[_0xc31d3d(0x1ca)]({'behavior':_0xc31d3d(0x61f),'block':_0xc31d3d(0x1d1)}),generateQuiz(_0x56d0ae,_0xa93199,null,_0x58a1ff,!![],_0x2f4a4a,_0x37c69f,_0x20c48f);}function handleGenerateAndShowLesson(_0x2a4a96,_0x13f3eb){const _0x1b663=_0x3b29b2,_0x1a6af8=document[_0x1b663(0xa57)]('lesson-view-modal'),_0x2b8d21=document[_0x1b663(0xa57)](_0x1b663(0x435)),_0xe9c9c9=document['getElementById']('lesson-loader'),_0x5df4ab=document[_0x1b663(0xa57)](_0x1b663(0x4ec));['pointContent',_0x1b663(0x157),_0x1b663(0x2b4),_0x1b663(0xa56)]['forEach'](_0x4a15c4=>{const _0x468dad=_0x1b663,_0x20cf6e=document[_0x468dad(0xa57)](_0x4a15c4)[_0x468dad(0x3ce)];_0x20cf6e&&(_0x20cf6e[_0x468dad(0xb97)][_0x468dad(0xb10)]='block');}),_0x2b8d21[_0x1b663(0x63d)]=_0x1b663(0x5fa)+_0x2a4a96,_0x5df4ab['classList']['add'](_0x1b663(0x3db)),_0xe9c9c9[_0x1b663(0x6b0)]['remove'](_0x1b663(0x3db)),_0x1a6af8[_0x1b663(0x6b0)][_0x1b663(0xbb2)](_0x1b663(0x3db)),generateLesson(_0x2a4a96,_0x13f3eb)['catch'](_0x3c954e=>{const _0x1c4cce=_0x1b663;console[_0x1c4cce(0xc93)](_0x1c4cce(0xbd1),_0x3c954e),showMessage(_0x1c4cce(0x1b4)),_0x1a6af8['classList'][_0x1c4cce(0xb35)](_0x1c4cce(0x3db));});}function handlePointerDown(_0x4ad988){const _0x4f5016=_0x3b29b2;_0x4ad988[_0x4f5016(0x206)]();const _0x57341d=scratchpadCtx[_0x4f5016(0x2ec)],_0x2db54d=_0x57341d[_0x4f5016(0x41e)](),_0x5da27d=_0x4ad988[_0x4f5016(0x425)]||(_0x4ad988[_0x4f5016(0xae7)]?'touch':_0x4f5016(0x3de));if(_0x5da27d===_0x4f5016(0xaa4)||_0x5da27d===_0x4f5016(0x3de)){if(_0x4ad988[_0x4f5016(0x425)]==='mouse'&&_0x4ad988['button']!==0x0){_0x4ad988['button']===0x1&&(isMousePanning=!![],panStart={'x':_0x4ad988[_0x4f5016(0x17a)],'y':_0x4ad988[_0x4f5016(0x583)]},_0x57341d[_0x4f5016(0xb97)]['cursor']=_0x4f5016(0x485));return;}activeTool===_0x4f5016(0x397)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x401298=getTransformedPoint(_0x4ad988[_0x4f5016(0x17a)]-_0x2db54d['left'],_0x4ad988[_0x4f5016(0x583)]-_0x2db54d[_0x4f5016(0x29b)]);let _0x18f958={'tool':activeTool,'points':[_0x401298]};if(activeTool===_0x4f5016(0x924))_0x18f958[_0x4f5016(0x2a0)]=scratchpadHighlighterColor,_0x18f958[_0x4f5016(0x16d)]=scratchpadHighlighterSize;else activeTool===_0x4f5016(0x397)?(_0x18f958[_0x4f5016(0x2a0)]=scratchpadPenColor,_0x18f958['size']=scratchpadPenSize):(_0x18f958[_0x4f5016(0x2a0)]=scratchpadPenColor,_0x18f958['size']=scratchpadPenSize);currentStroke=_0x18f958;}else _0x4ad988['touches']&&(_0x4ad988['touches'][_0x4f5016(0x423)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x4ad988[_0x4f5016(0xae7)][0x0][_0x4f5016(0x17a)],'y':_0x4ad988[_0x4f5016(0xae7)][0x0][_0x4f5016(0x583)]},{'x':_0x4ad988[_0x4f5016(0xae7)][0x1][_0x4f5016(0x17a)],'y':_0x4ad988[_0x4f5016(0xae7)][0x1][_0x4f5016(0x583)]}),initialPinchDistance=getDistance({'x':_0x4ad988['touches'][0x0][_0x4f5016(0x17a)],'y':_0x4ad988[_0x4f5016(0xae7)][0x0][_0x4f5016(0x583)]},{'x':_0x4ad988[_0x4f5016(0xae7)][0x1]['clientX'],'y':_0x4ad988[_0x4f5016(0xae7)][0x1][_0x4f5016(0x583)]})));}function animateTrail(){const _0xeacdd8=_0x3b29b2,_0x9fbbef=Date[_0xeacdd8(0x8d7)]();let _0x1964b2=![];for(let _0x3dac32=strokes['length']-0x1;_0x3dac32>=0x0;_0x3dac32--){const _0x29d686=strokes[_0x3dac32];if(_0x29d686[_0xeacdd8(0x547)]===_0xeacdd8(0x397)&&_0x29d686[_0xeacdd8(0x94f)]){const _0x2e9914=_0x9fbbef-_0x29d686['fadeStartTime'];_0x2e9914>=TRAIL_DURATION?strokes[_0xeacdd8(0x5f4)](_0x3dac32,0x1):(_0x29d686['opacity']=0x1-_0x2e9914/TRAIL_DURATION,_0x1964b2=!![]);}}redrawScratchpad(),_0x1964b2?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x442875){const _0x143311=_0x3b29b2;if(!_0x442875||_0x442875[_0x143311(0x7a3)]['length']<0x1)return;scratchpadCtx['save'](),scratchpadCtx[_0x143311(0x790)]=_0x143311(0x43e),scratchpadCtx[_0x143311(0xacd)]='round';if(_0x442875['tool']===_0x143311(0x397)){const _0x57f192=_0x442875[_0x143311(0x16d)]/scratchpadScale;scratchpadCtx[_0x143311(0x626)]=_0x442875['opacity']??0x1,scratchpadCtx['shadowColor']=_0x143311(0x863),scratchpadCtx['shadowBlur']=_0x57f192*0x3,scratchpadCtx[_0x143311(0x34d)]=_0x143311(0xc76),scratchpadCtx[_0x143311(0x192)]=_0x57f192*2.5,scratchpadCtx[_0x143311(0xb6c)](),scratchpadCtx[_0x143311(0x8ed)](_0x442875[_0x143311(0x7a3)][0x0]['x'],_0x442875[_0x143311(0x7a3)][0x0]['y']);for(let _0x4c98d8=0x1;_0x4c98d8<_0x442875[_0x143311(0x7a3)][_0x143311(0x423)]-0x1;_0x4c98d8++){const _0x37fc5c=getMidpoint(_0x442875[_0x143311(0x7a3)][_0x4c98d8],_0x442875[_0x143311(0x7a3)][_0x4c98d8+0x1]);scratchpadCtx[_0x143311(0x7c9)](_0x442875['points'][_0x4c98d8]['x'],_0x442875[_0x143311(0x7a3)][_0x4c98d8]['y'],_0x37fc5c['x'],_0x37fc5c['y']);}scratchpadCtx[_0x143311(0xace)](),scratchpadCtx[_0x143311(0x14d)]=_0x143311(0x572),scratchpadCtx[_0x143311(0x6a0)]=0x0,scratchpadCtx[_0x143311(0x34d)]='#FFFFFF',scratchpadCtx[_0x143311(0x192)]=_0x57f192,scratchpadCtx[_0x143311(0xace)](),scratchpadCtx[_0x143311(0x4c4)]();}else{if(_0x442875[_0x143311(0x547)]===_0x143311(0x924)){scratchpadCtx[_0x143311(0x5bb)]='multiply',scratchpadCtx['strokeStyle']=_0x442875[_0x143311(0x2a0)],scratchpadCtx[_0x143311(0x192)]=_0x442875[_0x143311(0x16d)],scratchpadCtx[_0x143311(0xb6c)](),scratchpadCtx['moveTo'](_0x442875[_0x143311(0x7a3)][0x0]['x'],_0x442875['points'][0x0]['y']);for(let _0x2d5dc0=0x1;_0x2d5dc0<_0x442875[_0x143311(0x7a3)][_0x143311(0x423)]-0x1;_0x2d5dc0++){const _0x222abf=getMidpoint(_0x442875[_0x143311(0x7a3)][_0x2d5dc0],_0x442875[_0x143311(0x7a3)][_0x2d5dc0+0x1]);scratchpadCtx[_0x143311(0x7c9)](_0x442875[_0x143311(0x7a3)][_0x2d5dc0]['x'],_0x442875[_0x143311(0x7a3)][_0x2d5dc0]['y'],_0x222abf['x'],_0x222abf['y']);}scratchpadCtx[_0x143311(0xace)](),scratchpadCtx[_0x143311(0x4c4)]();}else{scratchpadCtx['globalCompositeOperation']=_0x442875[_0x143311(0x547)]==='eraser'?'destination-out':_0x143311(0x8bd),scratchpadCtx[_0x143311(0x34d)]=_0x442875[_0x143311(0x2a0)],scratchpadCtx[_0x143311(0x192)]=_0x442875[_0x143311(0x16d)],scratchpadCtx['beginPath'](),scratchpadCtx[_0x143311(0x8ed)](_0x442875['points'][0x0]['x'],_0x442875[_0x143311(0x7a3)][0x0]['y']);for(let _0x59bd3d=0x1;_0x59bd3d<_0x442875[_0x143311(0x7a3)][_0x143311(0x423)]-0x1;_0x59bd3d++){const _0x43611d=getMidpoint(_0x442875[_0x143311(0x7a3)][_0x59bd3d],_0x442875[_0x143311(0x7a3)][_0x59bd3d+0x1]);scratchpadCtx[_0x143311(0x7c9)](_0x442875[_0x143311(0x7a3)][_0x59bd3d]['x'],_0x442875[_0x143311(0x7a3)][_0x59bd3d]['y'],_0x43611d['x'],_0x43611d['y']);}scratchpadCtx[_0x143311(0xace)](),scratchpadCtx[_0x143311(0x4c4)]();}}scratchpadCtx[_0x143311(0xa33)]();}function handlePointerMove(_0x2c1993){const _0x6137d0=_0x3b29b2;_0x2c1993[_0x6137d0(0x206)]();const _0x14a720=scratchpadCtx[_0x6137d0(0x2ec)],_0x128b43=_0x14a720[_0x6137d0(0x41e)]();if(_0x2c1993[_0x6137d0(0xae7)]){if(_0x2c1993[_0x6137d0(0xae7)][_0x6137d0(0x423)]===0x1&&isDrawingOnScratchpad){const _0x55751f=getTransformedPoint(_0x2c1993['touches'][0x0]['clientX']-_0x128b43[_0x6137d0(0x45d)],_0x2c1993[_0x6137d0(0xae7)][0x0]['clientY']-_0x128b43[_0x6137d0(0x29b)]);currentStroke['points']['push'](_0x55751f),redrawScratchpad();}else{if(_0x2c1993[_0x6137d0(0xae7)][_0x6137d0(0x423)]===0x2&&isPanning){const _0x2a15ff=getDistance({'x':_0x2c1993['touches'][0x0]['clientX'],'y':_0x2c1993[_0x6137d0(0xae7)][0x0]['clientY']},{'x':_0x2c1993['touches'][0x1][_0x6137d0(0x17a)],'y':_0x2c1993[_0x6137d0(0xae7)][0x1]['clientY']}),_0x44be68=getMidpoint({'x':_0x2c1993[_0x6137d0(0xae7)][0x0][_0x6137d0(0x17a)],'y':_0x2c1993[_0x6137d0(0xae7)][0x0][_0x6137d0(0x583)]},{'x':_0x2c1993[_0x6137d0(0xae7)][0x1][_0x6137d0(0x17a)],'y':_0x2c1993[_0x6137d0(0xae7)][0x1]['clientY']}),_0x12b3d5=_0x2a15ff/ initialPinchDistance,_0xa05a96=Math[_0x6137d0(0x2b9)](Math[_0x6137d0(0x3c9)](scratchpadScale*_0x12b3d5,MIN_SCALE),MAX_SCALE),_0x1b279d=_0x44be68['x']-panStart['x'],_0x10c096=_0x44be68['y']-panStart['y'];scratchpadOffset['x']=_0x44be68['x']-(_0x44be68['x']-scratchpadOffset['x'])*(_0xa05a96/scratchpadScale),scratchpadOffset['y']=_0x44be68['y']-(_0x44be68['y']-scratchpadOffset['y'])*(_0xa05a96/scratchpadScale),scratchpadOffset['x']+=_0x1b279d,scratchpadOffset['y']+=_0x10c096,scratchpadScale=_0xa05a96,initialPinchDistance=_0x2a15ff,panStart=_0x44be68,redrawScratchpad();}}}else{if(isMousePanning){const _0xf32244=_0x2c1993[_0x6137d0(0x17a)]-panStart['x'],_0x2e46b7=_0x2c1993[_0x6137d0(0x583)]-panStart['y'];scratchpadOffset['x']+=_0xf32244,scratchpadOffset['y']+=_0x2e46b7,panStart={'x':_0x2c1993[_0x6137d0(0x17a)],'y':_0x2c1993[_0x6137d0(0x583)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x43638c=getTransformedPoint(_0x2c1993['clientX']-_0x128b43[_0x6137d0(0x45d)],_0x2c1993['clientY']-_0x128b43[_0x6137d0(0x29b)]);currentStroke['points'][_0x6137d0(0x4aa)](_0x43638c),redrawScratchpad();}}}}function handlePointerUp(_0x8cf15c){const _0x159780=_0x3b29b2;_0x8cf15c[_0x159780(0x206)]();const _0x25ac7f=scratchpadCtx[_0x159780(0x2ec)];isMousePanning&&(isMousePanning=![],_0x25ac7f[_0x159780(0xb97)]['cursor']='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke['points'][_0x159780(0x423)]>0x1&&(strokes[_0x159780(0x4aa)](currentStroke),currentStroke[_0x159780(0x547)]===_0x159780(0x397)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x3758f1=_0x159780,_0x4ad8f7=strokes[_0x3758f1(0x36d)](_0x21cbe5=>_0x21cbe5[_0x3758f1(0x547)]===_0x3758f1(0x397)&&!_0x21cbe5[_0x3758f1(0x94f)]);if(_0x4ad8f7[_0x3758f1(0x423)]>0x0){const _0x599786=Date[_0x3758f1(0x8d7)]();_0x4ad8f7[_0x3758f1(0x9aa)](_0x84a3a=>_0x84a3a[_0x3758f1(0x94f)]=_0x599786),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x5d9a09){const _0x3e41fc=_0x3b29b2;_0x5d9a09['preventDefault']();const _0x182917=_0x5d9a09[_0x3e41fc(0xade)]*-0.005,_0xeb1fed=Math['min'](Math[_0x3e41fc(0x3c9)](scratchpadScale+_0x182917,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x5d9a09[_0x3e41fc(0x17a)]-(_0x5d9a09[_0x3e41fc(0x17a)]-scratchpadOffset['x'])*(_0xeb1fed/scratchpadScale),scratchpadOffset['y']=_0x5d9a09[_0x3e41fc(0x583)]-(_0x5d9a09[_0x3e41fc(0x583)]-scratchpadOffset['y'])*(_0xeb1fed/scratchpadScale),scratchpadScale=_0xeb1fed,redrawScratchpad();}function undo(){const _0x5cfe93=_0x3b29b2;strokes[_0x5cfe93(0x423)]>0x0&&(redoStrokes['push'](strokes[_0x5cfe93(0x413)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x5cd82f=_0x3b29b2;redoStrokes[_0x5cd82f(0x423)]>0x0&&(strokes[_0x5cd82f(0x4aa)](redoStrokes[_0x5cd82f(0x413)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x403560=_0x3b29b2;document[_0x403560(0xa57)](_0x403560(0xbdc))[_0x403560(0x267)]=strokes[_0x403560(0x423)]===0x0,document[_0x403560(0xa57)](_0x403560(0xb7a))[_0x403560(0x267)]=redoStrokes[_0x403560(0x423)]===0x0;}function openScratchpad(_0x3fb352,_0x414a8a){const _0x3dde50=_0x3b29b2,_0x22d59c=document[_0x3dde50(0xa57)](_0x3dde50(0xb8c)),_0xe0293b=document[_0x3dde50(0xa57)](_0x3dde50(0x692)),_0x504c8c=document[_0x3dde50(0xa57)]('scratchpad-options'),_0x480990=document['getElementById'](_0x3dde50(0x565));_0xe0293b[_0x3dde50(0x2b3)]=_0x3fb352[_0x3dde50(0xc65)]||_0x3fb352[_0x3dde50(0xc1c)],_0x504c8c[_0x3dde50(0x2b3)]=_0x414a8a[_0x3dde50(0x921)]((_0x2e9e8a,_0x3e8bff)=>'<div>'+String['fromCharCode'](0x41+_0x3e8bff)+'.\x20'+_0x2e9e8a+_0x3dde50(0xaa5))[_0x3dde50(0xa0a)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x22d59c[_0x3dde50(0x6b0)][_0x3dde50(0xbb2)]('hidden'),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x3dde50(0x49e)])MathJax['typesetPromise']([_0xe0293b,_0x504c8c]);}function openBlueprintQuizSettings(){const _0x50142f=_0x3b29b2,_0x9917d6=document[_0x50142f(0xa57)](_0x50142f(0xa47)),_0x5a9478=blueprintPageSettings||(currentProjectData?currentProjectData['settings']:{})||{};document[_0x50142f(0xa57)](_0x50142f(0xc7c))[_0x50142f(0x6d4)]=_0x5a9478[_0x50142f(0x573)]||document[_0x50142f(0xa57)]('quiz-type-select')[_0x50142f(0x6d4)],document[_0x50142f(0xa57)](_0x50142f(0xa79))['innerHTML']=document[_0x50142f(0xa57)](_0x50142f(0x644))[_0x50142f(0x2b3)],document['getElementById'](_0x50142f(0xa79))[_0x50142f(0x6d4)]=_0x5a9478[_0x50142f(0x9b6)]||document[_0x50142f(0xa57)](_0x50142f(0x644))[_0x50142f(0x6d4)],document[_0x50142f(0xa57)](_0x50142f(0xa12))[_0x50142f(0x2b3)]=document[_0x50142f(0xa57)]('question-complexity-select')[_0x50142f(0x2b3)],document[_0x50142f(0xa57)](_0x50142f(0xa12))['value']=_0x5a9478[_0x50142f(0x271)]||document[_0x50142f(0xa57)](_0x50142f(0x42d))[_0x50142f(0x6d4)],document[_0x50142f(0xa57)](_0x50142f(0x1f3))['value']=_0x5a9478['numQuestions']||document[_0x50142f(0xa57)](_0x50142f(0xbe7))[_0x50142f(0x6d4)],document['getElementById'](_0x50142f(0x3cb))[_0x50142f(0x6d4)]=_0x5a9478[_0x50142f(0x406)]||document[_0x50142f(0xa57)](_0x50142f(0x43b))[_0x50142f(0x6d4)],document[_0x50142f(0xa57)](_0x50142f(0xcae))[_0x50142f(0x6d4)]=_0x5a9478[_0x50142f(0xb1c)]||document[_0x50142f(0xa57)]('num-choices')[_0x50142f(0x6d4)],document[_0x50142f(0xa57)](_0x50142f(0x971))['value']=_0x5a9478[_0x50142f(0xb40)]||document[_0x50142f(0xa57)](_0x50142f(0x7a0))['value'],document[_0x50142f(0xa57)](_0x50142f(0x89e))[_0x50142f(0x354)]=_0x5a9478[_0x50142f(0x536)]||document[_0x50142f(0xa57)](_0x50142f(0xa5e))[_0x50142f(0x354)],_0x9917d6[_0x50142f(0x6b0)][_0x50142f(0xbb2)](_0x50142f(0x3db));}function handleSaveBlueprintPageSettings(){const _0x1ab021=_0x3b29b2;blueprintPageSettings={'quizType':document[_0x1ab021(0xa57)](_0x1ab021(0xc7c))[_0x1ab021(0x6d4)],'difficultyValue':document['getElementById'](_0x1ab021(0xa79))[_0x1ab021(0x6d4)],'complexityValue':document['getElementById'](_0x1ab021(0xa12))[_0x1ab021(0x6d4)],'numQuestions':document[_0x1ab021(0xa57)](_0x1ab021(0x1f3))['value'],'passingScore':document[_0x1ab021(0xa57)]('bp-modal-passing-score-input')[_0x1ab021(0x6d4)],'numChoices':document['getElementById'](_0x1ab021(0xcae))[_0x1ab021(0x6d4)],'shuffle':document['getElementById'](_0x1ab021(0x971))[_0x1ab021(0x6d4)],'includeImages':document[_0x1ab021(0xa57)](_0x1ab021(0x89e))[_0x1ab021(0x354)]},showMessage(_0x1ab021(0x8b4)),document[_0x1ab021(0xa57)](_0x1ab021(0xa47))[_0x1ab021(0x6b0)]['add'](_0x1ab021(0x3db));}function listenForParallelTestShortcuts(){const _0x1e83dd=_0x3b29b2,_0x5a47b7=doc(db,_0x1e83dd(0x522),_0x1e83dd(0x51b));onSnapshot(_0x5a47b7,_0x2f893a=>{const _0x253efa=_0x1e83dd;let _0x82293f=[],_0x11f9f7=[],_0x14f4bc={};if(_0x2f893a[_0x253efa(0xb65)]()){const _0x19eb46=_0x2f893a['data']();_0x82293f=_0x19eb46[_0x253efa(0xa03)]||[],_0x11f9f7=_0x19eb46[_0x253efa(0xb60)]||[],_0x14f4bc=_0x19eb46[_0x253efa(0x9ce)]||{};}!_0x11f9f7[_0x253efa(0xc0d)](_0x55a1fc=>_0x55a1fc['id']===_0x253efa(0x6e1))&&_0x11f9f7[_0x253efa(0x5f7)]({'id':_0x253efa(0x6e1),'name':_0x253efa(0x996),'isDefault':!![]}),!_0x82293f[_0x253efa(0xc0d)](_0x1a0a81=>_0x1a0a81['id']===_0x253efa(0x770))&&_0x82293f[_0x253efa(0x5f7)]({'id':'parallel-default-1','name':_0x253efa(0xad9),'url':'','isDefault':!![]}),!_0x82293f['find'](_0xd7adec=>_0xd7adec['id']===_0x253efa(0x683))&&_0x82293f['unshift']({'id':_0x253efa(0x683),'name':_0x253efa(0xb9d),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x82293f,parallelShortcutTabs=_0x11f9f7,parallelShortcutOrder=_0x14f4bc,renderParallelTestShortcuts(),!document['getElementById']('additional-parallel-shortcuts-modal')[_0x253efa(0x6b0)]['contains'](_0x253efa(0x3db))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x1d71d9=_0x3b29b2,_0x4d0790=doc(db,_0x1d71d9(0x522),_0x1d71d9(0x51b));try{await setDoc(_0x4d0790,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x3380dc){console[_0x1d71d9(0xc93)]('Error\x20saving\x20parallel\x20shortcut\x20config:',_0x3380dc);}}function renderAdditionalParallelShortcutsModal(){const _0x46b3c8=_0x3b29b2,_0x58a62e=document[_0x46b3c8(0xa57)](_0x46b3c8(0x614)),_0x43a8f4=document['getElementById'](_0x46b3c8(0x3c5));if(!_0x58a62e||!_0x43a8f4)return;_0x58a62e[_0x46b3c8(0x2b3)]=parallelShortcutTabs[_0x46b3c8(0x921)](_0x2b9b61=>{const _0x433362=_0x46b3c8,_0x1d4da5=_0x2b9b61['id']===activeParallelShortcutTabId;return _0x433362(0x4a2)+_0x2b9b61['id']+_0x433362(0x12a)+(_0x1d4da5?_0x433362(0xa4d):_0x433362(0x18d))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x2b9b61[_0x433362(0xc6f)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x2b9b61['name']+_0x433362(0x227)+(!_0x2b9b61[_0x433362(0x120)]?_0x433362(0x9f7)+_0x2b9b61['id']+_0x433362(0x402):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x46b3c8(0xa0a)]('');const _0x3e1eb2=parallelShortcutTabs[_0x46b3c8(0xc0d)](_0x3d850d=>_0x3d850d['id']===activeParallelShortcutTabId);let _0x5ed85a=_0x3e1eb2?.[_0x46b3c8(0x120)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x46b3c8(0x36d)](_0x4ad70c=>(_0x3e1eb2?.[_0x46b3c8(0xa92)]||[])['includes'](_0x4ad70c['id']));const _0x302a26=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x5ed85a[_0x46b3c8(0x445)]((_0x10b6a5,_0x1b19ea)=>{const _0x341cac=_0x46b3c8,_0x127523=_0x302a26[_0x341cac(0x61c)](_0x10b6a5['id']),_0x295436=_0x302a26[_0x341cac(0x61c)](_0x1b19ea['id']);return(_0x127523===-0x1?Infinity:_0x127523)-(_0x295436===-0x1?Infinity:_0x295436);}),_0x43a8f4[_0x46b3c8(0x2b3)]=_0x5ed85a['map'](_0x1e91f9=>{const _0x39dba9=_0x46b3c8,_0x6cd91=_0x1e91f9[_0x39dba9(0x5e0)]?'🔁':'🔗',_0x4653cd=parallelShortcutTabs[_0x39dba9(0x36d)](_0x1403a6=>!_0x1403a6[_0x39dba9(0x120)]),_0x580f52=_0x3e1eb2[_0x39dba9(0x120)]&&_0x4653cd[_0x39dba9(0x423)]>0x0?_0x39dba9(0x2eb)+_0x4653cd['map'](_0x4b6baa=>_0x39dba9(0x2f9)+_0x1e91f9['id']+_0x39dba9(0x993)+_0x4b6baa['id']+'\x22>'+_0x4b6baa['name']+_0x39dba9(0x17c))[_0x39dba9(0xa0a)]('')+_0x39dba9(0x229):'';return _0x39dba9(0x856)+_0x1e91f9['id']+_0x39dba9(0x566)+_0x6cd91+'\x20'+_0x1e91f9[_0x39dba9(0xc6f)]+_0x39dba9(0x138)+_0x1e91f9['id']+_0x39dba9(0x32c)+_0x1e91f9['id']+_0x39dba9(0x953)+(!_0x1e91f9['isDefault']?_0x39dba9(0x80e)+_0x1e91f9['id']+_0x39dba9(0x99d):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x3e1eb2[_0x39dba9(0x120)]?_0x39dba9(0x395)+_0x1e91f9['id']+'\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x39dba9(0x2bb)+_0x580f52+_0x39dba9(0xa5f);})['join']('')||'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x4b08e9=_0x3b29b2;document['querySelectorAll'](_0x4b08e9(0xc11))[_0x4b08e9(0x9aa)](_0x2616f8=>{const _0x331ef9=_0x4b08e9;_0x2616f8['onclick']=_0xf3e105=>{const _0x19bedd=_0x376a;activeParallelShortcutTabId=_0xf3e105['currentTarget'][_0x19bedd(0x43d)]['tabId'],renderAdditionalParallelShortcutsModal();},_0x2616f8[_0x331ef9(0xb55)]=_0xcca68e=>{const _0x22ebb6=_0x331ef9,_0x2bd0e5=_0xcca68e[_0x22ebb6(0xb51)][_0x22ebb6(0x1c1)]('.tab-name-input');_0xcca68e[_0x22ebb6(0xb51)][_0x22ebb6(0x1c1)]('.tab-name-display')['classList'][_0x22ebb6(0xb35)](_0x22ebb6(0x3db)),_0x2bd0e5[_0x22ebb6(0x6b0)][_0x22ebb6(0xbb2)]('hidden'),_0x2bd0e5[_0x22ebb6(0xac9)](),_0x2bd0e5[_0x22ebb6(0xcb3)]();};}),document[_0x4b08e9(0x3cf)](_0x4b08e9(0x130))['forEach'](_0x23b59a=>{const _0x1bcbb7=_0x4b08e9,_0x25d735=()=>{const _0x3e2ea1=_0x376a,_0x2fe0b6=_0x23b59a[_0x3e2ea1(0xcac)](_0x3e2ea1(0xc11))['dataset'][_0x3e2ea1(0x7dd)],_0x12eee6=parallelShortcutTabs[_0x3e2ea1(0xc0d)](_0x1cc585=>_0x1cc585['id']===_0x2fe0b6);_0x12eee6&&(_0x12eee6[_0x3e2ea1(0xc6f)]=_0x23b59a['value']['trim']()||_0x12eee6[_0x3e2ea1(0xc6f)],saveParallelShortcutConfig());};_0x23b59a[_0x1bcbb7(0x497)]=_0x25d735,_0x23b59a[_0x1bcbb7(0x6e5)]=_0x519b0d=>{const _0x56e105=_0x1bcbb7;if(_0x519b0d['key']==='Enter')_0x23b59a[_0x56e105(0x80b)]();};}),document[_0x4b08e9(0x3cf)](_0x4b08e9(0x97e))['forEach'](_0x4ee20b=>_0x4ee20b[_0x4b08e9(0xbed)]=_0x209319=>{const _0x50bc17=_0x4b08e9,_0x276fe8=_0x209319[_0x50bc17(0xb51)][_0x50bc17(0x43d)][_0x50bc17(0x7dd)];showConfirmation(_0x50bc17(0xc0a),()=>{const _0x4aa8be=_0x50bc17;parallelShortcutTabs=parallelShortcutTabs[_0x4aa8be(0x36d)](_0x48a9ec=>_0x48a9ec['id']!==_0x276fe8),delete parallelShortcutOrder[_0x276fe8];if(activeParallelShortcutTabId===_0x276fe8)activeParallelShortcutTabId=_0x4aa8be(0x6e1);saveParallelShortcutConfig();});}),document[_0x4b08e9(0x3cf)](_0x4b08e9(0x5cf))['forEach'](_0x20791b=>_0x20791b[_0x4b08e9(0xbed)]=_0x10c824=>{const _0x3e33d9=_0x4b08e9;_0x10c824[_0x3e33d9(0x206)]();const {shortcutId:_0x516d94,targetTabId:_0x4486b1}=_0x10c824['currentTarget'][_0x3e33d9(0x43d)],_0x42e5ee=parallelShortcutTabs[_0x3e33d9(0xc0d)](_0x249f8f=>_0x249f8f['id']===_0x4486b1);_0x42e5ee&&!_0x42e5ee[_0x3e33d9(0xa92)][_0x3e33d9(0x4c8)](_0x516d94)&&(_0x42e5ee[_0x3e33d9(0xa92)][_0x3e33d9(0x4aa)](_0x516d94),saveParallelShortcutConfig());}),document[_0x4b08e9(0x3cf)](_0x4b08e9(0x7fe))[_0x4b08e9(0x9aa)](_0x2576ae=>_0x2576ae[_0x4b08e9(0xbed)]=_0x15edf0=>{const _0x3ef5aa=_0x4b08e9,_0x15fbd1=_0x15edf0[_0x3ef5aa(0xb51)][_0x3ef5aa(0x43d)][_0x3ef5aa(0xba6)],_0x56a1c9=parallelShortcutTabs[_0x3ef5aa(0xc0d)](_0x4a7f75=>_0x4a7f75['id']===activeParallelShortcutTabId);_0x56a1c9&&!_0x56a1c9['isDefault']&&(_0x56a1c9[_0x3ef5aa(0xa92)]=_0x56a1c9[_0x3ef5aa(0xa92)][_0x3ef5aa(0x36d)](_0x548752=>_0x548752!==_0x15fbd1),saveParallelShortcutConfig());}),document[_0x4b08e9(0x3cf)](_0x4b08e9(0x7db))[_0x4b08e9(0x9aa)](_0x2a5138=>_0x2a5138['onclick']=_0x5d8148=>{const _0x36186c=_0x4b08e9;_0x5d8148['stopPropagation']();const _0x4a2fc6=_0x5d8148['currentTarget'][_0x36186c(0xae4)];document[_0x36186c(0x3cf)]('.move-parallel-shortcut-dropdown')[_0x36186c(0x9aa)](_0x1fc2ce=>_0x1fc2ce[_0x36186c(0x6b0)][_0x36186c(0xb35)](_0x36186c(0x3db))),_0x4a2fc6['classList'][_0x36186c(0xbb2)]('hidden');});const _0x21bcd2=document[_0x4b08e9(0xa57)](_0x4b08e9(0x3c5));let _0x505a64=null;_0x21bcd2[_0x4b08e9(0x119)]=_0x4d0642=>{const _0x143b6e=_0x4b08e9;_0x505a64=_0x4d0642['target']['closest'](_0x143b6e(0x6c2));if(_0x505a64)setTimeout(()=>_0x505a64[_0x143b6e(0x6b0)][_0x143b6e(0xb35)]('opacity-50'),0x0);},_0x21bcd2[_0x4b08e9(0xbb9)]=()=>{const _0x23e7e1=_0x4b08e9;_0x505a64&&(_0x505a64[_0x23e7e1(0x6b0)][_0x23e7e1(0xbb2)](_0x23e7e1(0xc18)),_0x505a64=null);},_0x21bcd2['ondragover']=_0x1c24e0=>{const _0x52a9f7=_0x4b08e9;_0x1c24e0[_0x52a9f7(0x206)]();},_0x21bcd2['ondrop']=_0x20bb52=>{const _0x441227=_0x4b08e9;_0x20bb52[_0x441227(0x206)]();if(_0x505a64){const _0x212862=[..._0x21bcd2[_0x441227(0x3cf)]('.shortcut-list-item:not(.opacity-50)')][_0x441227(0x4a8)]((_0x5d4d32,_0xeb010c)=>{const _0x5a6568=_0x441227,_0x5799a0=_0xeb010c[_0x5a6568(0x41e)](),_0x3e08c9=_0x20bb52[_0x5a6568(0x583)]-_0x5799a0[_0x5a6568(0x29b)]-_0x5799a0[_0x5a6568(0x4bd)]/0x2;return _0x3e08c9<0x0&&_0x3e08c9>_0x5d4d32[_0x5a6568(0x927)]?{'offset':_0x3e08c9,'element':_0xeb010c}:_0x5d4d32;},{'offset':Number[_0x441227(0x11a)]})[_0x441227(0x99a)];_0x212862==null?_0x21bcd2[_0x441227(0x95e)](_0x505a64):_0x21bcd2[_0x441227(0x50b)](_0x505a64,_0x212862);const _0x294ed6=[..._0x21bcd2['querySelectorAll'](_0x441227(0x6c2))]['map'](_0x18a136=>_0x18a136[_0x441227(0x43d)][_0x441227(0xba6)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x294ed6,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x862d93=_0x3b29b2,_0x1adf7f=prompt(_0x862d93(0xbe2),'แท็บใหม่');_0x1adf7f&&_0x1adf7f[_0x862d93(0x9bb)]()&&(parallelShortcutTabs[_0x862d93(0x4aa)]({'id':_0x862d93(0x49f)+Date[_0x862d93(0x8d7)](),'name':_0x1adf7f[_0x862d93(0x9bb)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x34797b=_0x3b29b2,_0xdf1d8b=document['getElementById']('parallel-shortcut-container'),_0xc9d711=document[_0x34797b(0xa57)](_0x34797b(0x3c5)),_0x207974=document['getElementById'](_0x34797b(0xc84));if(_0x207974)_0x207974['classList'][_0x34797b(0xb35)]('hidden');if(!_0xdf1d8b||!_0xc9d711)return;const _0x9e98c3=parallelTestShortcuts[_0x34797b(0x20e)](0x0,0x4),_0x4fa5a4=parallelTestShortcuts[_0x34797b(0x20e)](0x4);_0xdf1d8b[_0x34797b(0x2b3)]=_0x9e98c3[_0x34797b(0x921)](_0x1925eb=>{const _0x54cad3=_0x34797b,_0x5b019e=_0x1925eb[_0x54cad3(0x5e0)]&&_0x1925eb[_0x54cad3(0x5e0)][_0x54cad3(0x9bb)]()!=='',_0x36dcc6=_0x5b019e?'bg-teal-500\x20hover:bg-teal-600\x20text-white':_0x54cad3(0x1d8),_0x407cc6=_0x5b019e?'🔁':'🔗',_0x37f22a=!_0x1925eb[_0x54cad3(0x120)]?_0x54cad3(0x80e)+_0x1925eb['id']+_0x54cad3(0x687):'';return _0x54cad3(0xc38)+_0x1925eb['id']+'\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x36dcc6+_0x54cad3(0x2ff)+_0x407cc6+'\x20'+_0x1925eb[_0x54cad3(0xc6f)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1925eb['id']+'\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x37f22a+_0x54cad3(0xc3f);})[_0x34797b(0xa0a)](''),_0x4fa5a4[_0x34797b(0x423)]>0x0&&(_0xdf1d8b[_0x34797b(0x2b3)]+=_0x34797b(0x503)),_0x4fa5a4[_0x34797b(0x423)]>0x0?_0xc9d711[_0x34797b(0x2b3)]=_0x4fa5a4['map'](_0x2803f2=>_0x34797b(0x8d0)+(_0x2803f2[_0x34797b(0x5e0)]?'🔁':'🔗')+'\x20'+_0x2803f2[_0x34797b(0xc6f)]+_0x34797b(0x249)+_0x2803f2['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2803f2['id']+_0x34797b(0x2c2)+(!_0x2803f2[_0x34797b(0x120)]?_0x34797b(0x80e)+_0x2803f2['id']+_0x34797b(0x99d):'')+_0x34797b(0x3b1))[_0x34797b(0xa0a)](''):_0xc9d711[_0x34797b(0x2b3)]=_0x34797b(0x4a1);}function openParallelTestShortcutEditor(_0x4c23a6=null){const _0x5d1d85=_0x3b29b2,_0x196b58=document[_0x5d1d85(0xa57)](_0x5d1d85(0x195)),_0x41d793=document[_0x5d1d85(0xa57)](_0x5d1d85(0x555)),_0x162ca7=document[_0x5d1d85(0xa57)](_0x5d1d85(0xbb0)),_0x362606=document[_0x5d1d85(0xa57)](_0x5d1d85(0xb45)),_0xf61365=document[_0x5d1d85(0xa57)](_0x5d1d85(0xa73));if(_0x4c23a6){const _0x560de7=parallelTestShortcuts[_0x5d1d85(0xc0d)](_0x904347=>_0x904347['id']===_0x4c23a6);if(!_0x560de7)return;_0x41d793['textContent']=_0x5d1d85(0x6b1),_0x162ca7[_0x5d1d85(0x6d4)]=_0x560de7['id'],_0x362606[_0x5d1d85(0x6d4)]=_0x560de7[_0x5d1d85(0xc6f)],_0xf61365[_0x5d1d85(0x6d4)]=_0x560de7[_0x5d1d85(0x5e0)]||'';}else _0x41d793[_0x5d1d85(0x63d)]=_0x5d1d85(0x920),_0x162ca7[_0x5d1d85(0x6d4)]='',_0x362606['value']='',_0xf61365[_0x5d1d85(0x6d4)]='';_0x196b58[_0x5d1d85(0x6b0)][_0x5d1d85(0xbb2)]('hidden');}async function saveParallelTestShortcutChanges(){const _0x222906=_0x3b29b2,_0x3d9eff=document[_0x222906(0xa57)](_0x222906(0xbb0))[_0x222906(0x6d4)],_0x578139=document['getElementById'](_0x222906(0xb45))[_0x222906(0x6d4)][_0x222906(0x9bb)](),_0x49ce53=document[_0x222906(0xa57)](_0x222906(0xa73))[_0x222906(0x6d4)]['trim']();if(!_0x578139){showMessage(_0x222906(0xa69));return;}const _0x2ba8d4={'id':_0x3d9eff||_0x222906(0x66d)+Date[_0x222906(0x8d7)](),'name':_0x578139,'url':_0x49ce53,'isDefault':_0x3d9eff[_0x222906(0x6c6)](_0x222906(0x2ac))};let _0x49e090;_0x3d9eff?_0x49e090=parallelTestShortcuts['map'](_0xbd9397=>_0xbd9397['id']===_0x3d9eff?_0x2ba8d4:_0xbd9397):_0x49e090=[...parallelTestShortcuts,_0x2ba8d4];try{const _0x235248=doc(db,_0x222906(0x522),_0x222906(0x51b));await setDoc(_0x235248,{'shortcuts':_0x49e090},{'merge':!![]}),document[_0x222906(0xa57)]('parallel-shortcut-editor-modal')[_0x222906(0x6b0)][_0x222906(0xb35)](_0x222906(0x3db));}catch(_0x16a6b2){console[_0x222906(0xc93)](_0x222906(0x1d5),_0x16a6b2),showMessage(_0x222906(0x550));}}async function handleParallelTestShortcutClick(_0x22cade){const _0x556ebc=_0x3b29b2,_0x5cc95a=parallelTestShortcuts[_0x556ebc(0xc0d)](_0x2704ec=>_0x2704ec['id']===_0x22cade);if(!_0x5cc95a)return;if(!_0x5cc95a[_0x556ebc(0x5e0)]||_0x5cc95a['url'][_0x556ebc(0x9bb)]()===''){openParallelTestShortcutEditor(_0x22cade);return;}const _0x245f3e=document['getElementById']('loader'),_0x575036=document['getElementById']('loader-text');document[_0x556ebc(0xa57)](_0x556ebc(0x5f0))[_0x556ebc(0x6b0)][_0x556ebc(0xbb2)](_0x556ebc(0x3db)),document[_0x556ebc(0xa57)]('generated-quiz-container')['innerHTML']='',_0x245f3e[_0x556ebc(0x6b0)][_0x556ebc(0xbb2)](_0x556ebc(0x3db)),_0x575036[_0x556ebc(0x63d)]=_0x556ebc(0x76d);try{let _0x455719;_0x5cc95a[_0x556ebc(0x5e0)][_0x556ebc(0x80a)]()[_0x556ebc(0x4c8)](_0x556ebc(0x801))?_0x455719=_0x556ebc(0x723):_0x455719=_0x556ebc(0x3e1);const _0x3964eb=await fetchFileFromUrl(_0x5cc95a[_0x556ebc(0x5e0)],_0x455719);await handleGenerateParallelTest(_0x3964eb);}catch(_0x4e2d0b){console[_0x556ebc(0xc93)](_0x556ebc(0x5d5),_0x4e2d0b),showMessage(_0x556ebc(0x1fd)+_0x4e2d0b[_0x556ebc(0x8df)]),_0x245f3e[_0x556ebc(0x6b0)][_0x556ebc(0xb35)](_0x556ebc(0x3db));}}function initializeScratchpadCanvas(){const _0x3972b4=_0x3b29b2,_0x329efc=document[_0x3972b4(0xa57)](_0x3972b4(0xa21)),_0x4a31fb=document['querySelector'](_0x3972b4(0x2e6));if(!_0x329efc||!_0x4a31fb)return;scratchpadCtx=_0x329efc[_0x3972b4(0xbef)]('2d',{'willReadFrequently':!![]});const _0xc037b9=window['devicePixelRatio']||0x1,_0x192dc3=_0x4a31fb['getBoundingClientRect']();_0x329efc[_0x3972b4(0x159)]=_0x192dc3[_0x3972b4(0x159)]*_0xc037b9,_0x329efc['height']=_0x192dc3[_0x3972b4(0x4bd)]*_0xc037b9,_0x329efc[_0x3972b4(0xb97)][_0x3972b4(0x159)]=_0x192dc3[_0x3972b4(0x159)]+'px',_0x329efc['style'][_0x3972b4(0x4bd)]=_0x192dc3['height']+'px',scratchpadCtx[_0x3972b4(0x418)](_0xc037b9,_0xc037b9),scratchpadCtx[_0x3972b4(0x790)]='round',scratchpadCtx[_0x3972b4(0xacd)]='round',_0x329efc[_0x3972b4(0xbf9)](_0x3972b4(0x3bb),handlePointerDown),_0x329efc[_0x3972b4(0xbf9)](_0x3972b4(0x24d),handlePointerMove),_0x329efc[_0x3972b4(0xbf9)]('pointerup',handlePointerUp),_0x329efc[_0x3972b4(0xbf9)](_0x3972b4(0xabb),handlePointerUp),_0x329efc[_0x3972b4(0xbf9)](_0x3972b4(0x833),handleWheel),_0x329efc['removeEventListener'](_0x3972b4(0xb39),handlePointerDown),_0x329efc[_0x3972b4(0xbf9)]('touchmove',handlePointerMove),_0x329efc['removeEventListener'](_0x3972b4(0xca7),handlePointerUp),_0x329efc['addEventListener'](_0x3972b4(0x3bb),handlePointerDown),_0x329efc['addEventListener'](_0x3972b4(0x24d),handlePointerMove),_0x329efc[_0x3972b4(0x3f4)]('pointerup',handlePointerUp),_0x329efc[_0x3972b4(0x3f4)]('pointercancel',handlePointerUp),_0x329efc['addEventListener'](_0x3972b4(0x833),handleWheel,{'passive':![]}),_0x329efc[_0x3972b4(0x3f4)](_0x3972b4(0xb39),handlePointerDown,{'passive':![]}),_0x329efc['addEventListener'](_0x3972b4(0x36c),handlePointerMove,{'passive':![]}),_0x329efc[_0x3972b4(0x3f4)](_0x3972b4(0xca7),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x2dfeed=_0x3b29b2,_0x252082=document[_0x2dfeed(0xa57)](_0x2dfeed(0xb8c)),_0x5a56b3=document[_0x2dfeed(0xa57)]('scratchpad-controls');_0x5a56b3[_0x2dfeed(0x2b3)]=_0x2dfeed(0x580)+scratchpadHighlighterSize+_0x2dfeed(0x6ce);const _0x3c6df5=document[_0x2dfeed(0xa57)]('pen-tool-btn'),_0x41f4c3=document[_0x2dfeed(0xa57)](_0x2dfeed(0xc64)),_0x47792c=document[_0x2dfeed(0xa57)](_0x2dfeed(0x9d1)),_0x189fb1=document[_0x2dfeed(0xa57)]('highlighter-tool-btn'),_0x47b730=document[_0x2dfeed(0xa57)](_0x2dfeed(0xbc0)),_0x2f64f1=document[_0x2dfeed(0xa57)](_0x2dfeed(0x637)),_0x342683=[_0x3c6df5,_0x41f4c3,_0x47792c,_0x189fb1];document[_0x2dfeed(0xa57)](_0x2dfeed(0x8d9))[_0x2dfeed(0x3f4)](_0x2dfeed(0x1b1),()=>_0x252082[_0x2dfeed(0x6b0)][_0x2dfeed(0xb35)](_0x2dfeed(0x3db))),document[_0x2dfeed(0xa57)](_0x2dfeed(0x8d6))[_0x2dfeed(0x3f4)](_0x2dfeed(0x1b1),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document['getElementById'](_0x2dfeed(0x52a))[_0x2dfeed(0x3f4)]('click',()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document['getElementById'](_0x2dfeed(0xbdc))['addEventListener'](_0x2dfeed(0x1b1),undo),document[_0x2dfeed(0xa57)](_0x2dfeed(0xb7a))[_0x2dfeed(0x3f4)](_0x2dfeed(0x1b1),redo);const _0x241499=_0x847754=>{const _0x5decfb=_0x2dfeed;_0x342683['forEach'](_0x40349e=>_0x40349e[_0x5decfb(0x6b0)][_0x5decfb(0xbb2)](_0x5decfb(0x37e))),_0x847754[_0x5decfb(0x6b0)][_0x5decfb(0xb35)](_0x5decfb(0x37e));const _0x568b73=_0x847754===_0x189fb1;_0x47b730['classList'][_0x5decfb(0xc0e)](_0x5decfb(0x3db),_0x568b73),_0x2f64f1['classList'][_0x5decfb(0xc0e)](_0x5decfb(0x3db),!_0x568b73);};_0x3c6df5[_0x2dfeed(0x3f4)](_0x2dfeed(0x1b1),()=>{const _0x2ae382=_0x2dfeed;activeTool=_0x2ae382(0xaa4),_0x241499(_0x3c6df5);}),_0x41f4c3['addEventListener'](_0x2dfeed(0x1b1),()=>{const _0x4118dc=_0x2dfeed;activeTool=_0x4118dc(0x674),_0x241499(_0x41f4c3);}),_0x47792c['addEventListener']('click',()=>{const _0x38bcc1=_0x2dfeed;activeTool=_0x38bcc1(0x397),_0x241499(_0x47792c);}),_0x189fb1[_0x2dfeed(0x3f4)](_0x2dfeed(0x1b1),()=>{const _0x52b25d=_0x2dfeed;activeTool=_0x52b25d(0x924),_0x241499(_0x189fb1);}),_0x47b730[_0x2dfeed(0x3cf)]('.pen-size-btn')[_0x2dfeed(0x9aa)](_0x521a3d=>{const _0x24080f=_0x2dfeed;_0x521a3d[_0x24080f(0x3f4)](_0x24080f(0x1b1),_0x5ace9b=>{const _0x27d694=_0x24080f;scratchpadPenSize=parseInt(_0x5ace9b['target']['dataset'][_0x27d694(0x16d)],0xa),_0x47b730[_0x27d694(0x3cf)](_0x27d694(0x646))[_0x27d694(0x9aa)](_0x38c3af=>_0x38c3af[_0x27d694(0x6b0)][_0x27d694(0xbb2)](_0x27d694(0x37e))),_0x5ace9b['target'][_0x27d694(0x6b0)]['add'](_0x27d694(0x37e));});}),_0x47b730[_0x2dfeed(0x3cf)]('.pen-color-btn')[_0x2dfeed(0x9aa)](_0x5cb030=>{const _0x7dde69=_0x2dfeed;_0x5cb030[_0x7dde69(0x3f4)](_0x7dde69(0x1b1),_0x4eae89=>{const _0x3b0878=_0x7dde69;scratchpadPenColor=_0x4eae89[_0x3b0878(0x408)][_0x3b0878(0x43d)]['color'],_0x47b730['querySelectorAll']('.pen-color-btn')[_0x3b0878(0x9aa)](_0x39e106=>_0x39e106[_0x3b0878(0x6b0)][_0x3b0878(0xbb2)]('active')),_0x4eae89[_0x3b0878(0x408)][_0x3b0878(0x6b0)][_0x3b0878(0xb35)]('active');});}),_0x2f64f1[_0x2dfeed(0x3cf)](_0x2dfeed(0x713))[_0x2dfeed(0x9aa)](_0x4d39e7=>{const _0x274406=_0x2dfeed;_0x4d39e7[_0x274406(0x3f4)](_0x274406(0x1b1),_0x38d16c=>{const _0x2165d4=_0x274406;scratchpadHighlighterColor=_0x38d16c[_0x2165d4(0x408)]['dataset'][_0x2165d4(0x2a0)],_0x2f64f1[_0x2165d4(0x3cf)](_0x2165d4(0x713))[_0x2165d4(0x9aa)](_0x1cabb4=>_0x1cabb4[_0x2165d4(0x6b0)][_0x2165d4(0xbb2)](_0x2165d4(0x37e))),_0x38d16c[_0x2165d4(0x408)][_0x2165d4(0x6b0)][_0x2165d4(0xb35)](_0x2165d4(0x37e));});});const _0x33f638=document[_0x2dfeed(0xa57)]('highlighter-size-slider'),_0x75a2de=document[_0x2dfeed(0xa57)]('highlighter-size-value');_0x33f638[_0x2dfeed(0x3f4)]('input',_0x4ace5f=>{const _0xf90890=_0x2dfeed,_0x2f4d2b=parseInt(_0x4ace5f[_0xf90890(0x408)][_0xf90890(0x6d4)],0xa);scratchpadHighlighterSize=_0x2f4d2b,_0x75a2de[_0xf90890(0x63d)]=_0x2f4d2b;}),window[_0x2dfeed(0x3f4)](_0x2dfeed(0x217),()=>{!_0x252082['classList']['contains']('hidden')&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x3b29b2(0x166),'name':_0x3b29b2(0x979),'description':_0x3b29b2(0x67c),'icon':_0x3b29b2(0x9ec)},'QUICK_THINKER':{'id':'quick_thinker','name':_0x3b29b2(0xc7d),'description':_0x3b29b2(0xaf0),'icon':_0x3b29b2(0x3b3)},'ON_FIRE':{'id':_0x3b29b2(0x30f),'name':_0x3b29b2(0xb33),'description':_0x3b29b2(0xa28),'icon':_0x3b29b2(0x76b)},'FIRST_TRY_ACE':{'id':_0x3b29b2(0x9d6),'name':_0x3b29b2(0x4b8),'description':_0x3b29b2(0xb0e),'icon':_0x3b29b2(0x61a)},'COMEBACK_KING':{'id':_0x3b29b2(0x625),'name':_0x3b29b2(0x215),'description':_0x3b29b2(0x5ee),'icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':_0x3b29b2(0x401),'name':_0x3b29b2(0x122),'description':_0x3b29b2(0x6e8),'icon':_0x3b29b2(0x8e4)},'PERSEVERANCE':{'id':_0x3b29b2(0x179),'name':'ผู้ไม่ยอมแพ้','description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0x3b29b2(0x384)}},firebaseConfig={'apiKey':_0x3b29b2(0x3ae),'authDomain':_0x3b29b2(0x1fc),'projectId':_0x3b29b2(0x7fa),'storageBucket':_0x3b29b2(0x336),'messagingSenderId':_0x3b29b2(0xbde),'appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':_0x3b29b2(0xa77)},appId=typeof __app_id!==_0x3b29b2(0xba8)?__app_id:_0x3b29b2(0x48c),adminView=document[_0x3b29b2(0xa57)](_0x3b29b2(0x809)),studentView=document[_0x3b29b2(0xa57)](_0x3b29b2(0x19b)),projectDashboardView=document[_0x3b29b2(0xa57)](_0x3b29b2(0x74b)),projectDetailView=document[_0x3b29b2(0xa57)]('project-detail-view'),quizResultsView=document[_0x3b29b2(0xa57)]('quiz-results-view'),projectList=document[_0x3b29b2(0xa57)](_0x3b29b2(0x345)),noProjectsMsg=document['getElementById'](_0x3b29b2(0xae1)),projectTitle=document[_0x3b29b2(0xa57)](_0x3b29b2(0x6fc)),projectIdDisplay=document[_0x3b29b2(0xa57)](_0x3b29b2(0x918)),studentList=document['getElementById'](_0x3b29b2(0x53e)),messageModal=document['getElementById'](_0x3b29b2(0xa07)),modalMessage=document[_0x3b29b2(0xa57)](_0x3b29b2(0x194)),createProjectModal=document[_0x3b29b2(0xa57)](_0x3b29b2(0x6c1)),adminPasswordModal=document[_0x3b29b2(0xa57)]('admin-password-modal'),confirmationModal=document[_0x3b29b2(0xa57)]('confirmation-modal'),userIdDisplay=document[_0x3b29b2(0xa57)](_0x3b29b2(0x3b2)),topicTab=document['getElementById'](_0x3b29b2(0x54b)),textTab=document[_0x3b29b2(0xa57)](_0x3b29b2(0x201)),topicInputArea=document[_0x3b29b2(0xa57)]('topic-input-area'),textInputArea=document[_0x3b29b2(0xa57)](_0x3b29b2(0xb7b)),manageTab=document[_0x3b29b2(0xa57)](_0x3b29b2(0xbf8)),resultsTab=document[_0x3b29b2(0xa57)](_0x3b29b2(0x17b)),leaderboardTab=document['getElementById']('leaderboard-tab'),manageTabContent=document['getElementById'](_0x3b29b2(0x2fd)),resultsTabContent=document[_0x3b29b2(0xa57)]('results-tab-content'),leaderboardTabContent=document[_0x3b29b2(0xa57)](_0x3b29b2(0x238)),projectQuizzesList=document[_0x3b29b2(0xa57)](_0x3b29b2(0x2dd)),fileTab=document[_0x3b29b2(0xa57)](_0x3b29b2(0x253)),fileInputArea=document['getElementById']('file-input-area'),fileUploadInput=document[_0x3b29b2(0xa57)](_0x3b29b2(0x96f)),worksheetTab=document['getElementById'](_0x3b29b2(0x486)),worksheetInputArea=document[_0x3b29b2(0xa57)](_0x3b29b2(0x494)),generateWorksheetBtn=document[_0x3b29b2(0xa57)](_0x3b29b2(0x9d3)),studentInitialView=document['getElementById'](_0x3b29b2(0x58d)),studentNameSelectionView=document['getElementById'](_0x3b29b2(0x912)),studentQuizArea=document['getElementById']('student-quiz-area'),studentResultArea=document[_0x3b29b2(0xa57)](_0x3b29b2(0x3f5)),studentReadingArea=document[_0x3b29b2(0xa57)](_0x3b29b2(0x193)),loadQuizBtn=document[_0x3b29b2(0xa57)](_0x3b29b2(0x2ae)),startQuizBtn=document[_0x3b29b2(0xa57)]('start-quiz-btn'),studentJoinGameView=document[_0x3b29b2(0xa57)](_0x3b29b2(0x337)),presentationModal=document['getElementById'](_0x3b29b2(0x730)),renameQuizModal=document[_0x3b29b2(0xa57)](_0x3b29b2(0x278)),moveQuizModal=document[_0x3b29b2(0xa57)](_0x3b29b2(0x21c)),quizSettingsModal=document[_0x3b29b2(0xa57)](_0x3b29b2(0x972)),quizStatusModal=document[_0x3b29b2(0xa57)](_0x3b29b2(0x3e9)),liveGameView=document[_0x3b29b2(0xa57)](_0x3b29b2(0xb77));function handleFixLessonLatex(){const _0x5e20c8=_0x3b29b2,_0xa2d51d=document['getElementById'](_0x5e20c8(0x228));if(!_0xa2d51d){showMessage(_0x5e20c8(0xb13));return;}const _0x2abcc6=_0xa2d51d[_0x5e20c8(0x3cf)]([_0x5e20c8(0x4b5),_0x5e20c8(0x990),_0x5e20c8(0x1d2),_0x5e20c8(0x2b2),_0x5e20c8(0xa7a)][_0x5e20c8(0xa0a)](','));let _0x7311ff=0x0;const _0x368100=_0xa1c7a7=>_0xa1c7a7[_0x5e20c8(0x63d)]||'',_0x545faf=(_0x4dad5e,_0x44e396)=>{const _0x534946=_0x5e20c8;if(_0x4dad5e['querySelector']&&_0x4dad5e[_0x534946(0x1c1)](_0x534946(0xb71)))return;_0x4dad5e['textContent']=_0x44e396;},_0x2d8f5c=_0x1a7e31=>_0x1a7e31[_0x5e20c8(0xb5a)](/\u00A0/g,'\x20')[_0x5e20c8(0xb5a)](/\u200B/g,'')[_0x5e20c8(0xb5a)](/\r\n?/g,'\x0a'),_0x3585d4=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x515ba4=_0x1508a7=>{const _0x3cb0f5=_0x5e20c8;let _0x1a1e8a=_0x1508a7[_0x3cb0f5(0x9bb)]();const _0x301b68=[_0x3cb0f5(0x24b),_0x3cb0f5(0x8cb),_0x3cb0f5(0x2fc),_0x3cb0f5(0xa4f),'text','times','cdot',_0x3cb0f5(0x3f9),'leq',_0x3cb0f5(0x31b),'le','ge',_0x3cb0f5(0x1f9),'pm',_0x3cb0f5(0x657),_0x3cb0f5(0x30a),_0x3cb0f5(0xc45),_0x3cb0f5(0x793),_0x3cb0f5(0x886),'ln',_0x3cb0f5(0x39f),_0x3cb0f5(0x746),_0x3cb0f5(0x7a4),_0x3cb0f5(0x45d),_0x3cb0f5(0xbb6),_0x3cb0f5(0x893),_0x3cb0f5(0x1a7),_0x3cb0f5(0x2f2),'deg'];_0x301b68['forEach'](_0x4f1af0=>{const _0x2d58d3=_0x3cb0f5;_0x1a1e8a=_0x1a1e8a[_0x2d58d3(0xb5a)](new RegExp(_0x2d58d3(0x2a3)+_0x4f1af0+'\x5cb','g'),(_0x3e0640,_0x5a5af8)=>_0x5a5af8+'\x5c'+_0x4f1af0);});const _0x2b9064=[[/×/g,_0x3cb0f5(0x943)],[/·/g,_0x3cb0f5(0xc53)],[/÷/g,'\x5cdiv'],[/≤/g,'\x5cle'],[/≥/g,_0x3cb0f5(0x795)],[/≠/g,'\x5cneq'],[/±/g,_0x3cb0f5(0x862)],[/∑/g,_0x3cb0f5(0x4ad)],[/−/g,'-']];return _0x2b9064[_0x3cb0f5(0x9aa)](([_0x58e38d,_0x1c2e94])=>{const _0x3a6da9=_0x3cb0f5;_0x1a1e8a=_0x1a1e8a[_0x3a6da9(0xb5a)](_0x58e38d,_0x1c2e94);}),_0x1a1e8a=_0x1a1e8a['replace'](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0x1a1e8a=_0x1a1e8a[_0x3cb0f5(0xb5a)](/(\d+)\s*%/g,'$1\x5c%'),_0x1a1e8a;},_0x3bd1a9=_0x6d9c09=>{const _0x183bcf=_0x5e20c8;if(/\$|\\\(|\\\[/[_0x183bcf(0x57a)](_0x6d9c09))return _0x6d9c09;if(!_0x3585d4['test'](_0x6d9c09))return _0x6d9c09;const _0x2e9237=_0x6d9c09[_0x183bcf(0x156)](/^\s*/)[0x0],_0x16035f=_0x6d9c09['match'](/\s*$/)[0x0],_0x273ae6=_0x6d9c09[_0x183bcf(0x9bb)]();return _0x2e9237+'$'+_0x515ba4(_0x273ae6)+'$'+_0x16035f;};_0x2abcc6[_0x5e20c8(0x9aa)](_0x5a4b92=>{const _0x58a3d5=_0x5e20c8,_0x1d7192=_0x368100(_0x5a4b92);let _0x16e76e=_0x2d8f5c(_0x1d7192);_0x16e76e=_0x16e76e[_0x58a3d5(0xb5a)](/\$([^$]*?)\$/g,(_0x42b474,_0x39a834)=>'$'+_0x515ba4(_0x39a834)+'$');const _0x5fe714=_0x16e76e[_0x58a3d5(0x853)](/(\s+)/),_0x58740e=_0x5fe714[_0x58a3d5(0x921)](_0x600fd=>{const _0x50b7dc=_0x58a3d5;if(/\s+/[_0x50b7dc(0x57a)](_0x600fd))return _0x600fd;return _0x3bd1a9(_0x600fd);});_0x16e76e=_0x58740e['join'](''),_0x16e76e!==_0x1d7192&&(_0x545faf(_0x5a4b92,_0x16e76e),_0x7311ff++);});if(_0x7311ff>0x0){showMessage(_0x5e20c8(0xca4)+_0x7311ff+_0x5e20c8(0xc68));try{window[_0x5e20c8(0x49e)]&&MathJax['typesetPromise']&&MathJax[_0x5e20c8(0x13d)]([_0xa2d51d]);}catch(_0x517e7b){console[_0x5e20c8(0xc93)](_0x5e20c8(0x6c0),_0x517e7b);}}else showMessage('ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม');}function handleAutoFixLatex(){const _0x143dd6=_0x3b29b2,_0x542654=document[_0x143dd6(0xa57)](_0x143dd6(0x6ba))||document,_0x5630be=_0x542654[_0x143dd6(0x3cf)](_0x143dd6(0xb0f));let _0x354fab=0x0;const _0xb1ab00=_0x3bc1a0=>_0x143dd6(0x6d4)in _0x3bc1a0?String(_0x3bc1a0[_0x143dd6(0x6d4)]):_0x3bc1a0[_0x143dd6(0x70a)]!==undefined?_0x3bc1a0[_0x143dd6(0x70a)]:_0x3bc1a0[_0x143dd6(0x63d)]||'',_0x5d930c=(_0x2a4155,_0x4a0eaf)=>{const _0x4b0614=_0x143dd6;if(_0x4b0614(0x6d4)in _0x2a4155){_0x2a4155['value']=_0x4a0eaf;return;}if(_0x2a4155[_0x4b0614(0x1c1)]&&_0x2a4155[_0x4b0614(0x1c1)]('mjx-container'))return;if(_0x2a4155[_0x4b0614(0x70a)]!==undefined)_0x2a4155[_0x4b0614(0x70a)]=_0x4a0eaf;else _0x2a4155[_0x4b0614(0x63d)]=_0x4a0eaf;},_0x452b65=_0x32184d=>_0x32184d[_0x143dd6(0xb5a)](/\u00A0/g,'\x20')[_0x143dd6(0xb5a)](/\u200B/g,'')[_0x143dd6(0xb5a)](/\r\n?/g,'\x0a'),_0x3c09fa=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x469d19=_0x33ea91=>{const _0x1431eb=_0x143dd6;let _0x1760b9=_0x33ea91[_0x1431eb(0x9bb)]();_0x1760b9=_0x1760b9[_0x1431eb(0xb5a)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x1431eb(0xb75)),_0x1760b9=_0x1760b9[_0x1431eb(0xb5a)](/\bfrac(\d)(\d)/g,'\x5cfrac{$1}{$2}');const _0x485843=[_0x1431eb(0x24b),_0x1431eb(0xa4f),_0x1431eb(0xb1a),_0x1431eb(0xa96),_0x1431eb(0x3f9),_0x1431eb(0x2cf),'geq','neq','pm',_0x1431eb(0x30a),_0x1431eb(0xc45),'tan','log','ln'];_0x485843['forEach'](_0xdd229c=>{const _0x1cab30=_0x1431eb;_0x1760b9=_0x1760b9[_0x1cab30(0xb5a)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0xdd229c+'\x5cb','g'),(_0x40ed69,_0x49581a)=>_0x49581a+'\x5c'+_0xdd229c);});const _0x1e3f2b=[[/×/g,_0x1431eb(0x943)],[/·/g,_0x1431eb(0xc53)],[/÷/g,_0x1431eb(0x827)],[/≤/g,'\x5cle'],[/≥/g,_0x1431eb(0x795)],[/≠/g,_0x1431eb(0xa6b)],[/±/g,_0x1431eb(0x862)]];return _0x1e3f2b[_0x1431eb(0x9aa)](([_0x3dc13e,_0x572f8f])=>{_0x1760b9=_0x1760b9['replace'](_0x3dc13e,_0x572f8f);}),_0x1760b9;},_0x2f0554=_0x4ec0cb=>{const _0x5d7c0e=_0x143dd6;if(/\$|\\\(|\\\[/['test'](_0x4ec0cb))return _0x4ec0cb;if(!_0x3c09fa[_0x5d7c0e(0x57a)](_0x4ec0cb))return _0x4ec0cb;const _0x17e925=_0x4ec0cb[_0x5d7c0e(0x156)](/^\s*/)[0x0],_0x4f786b=_0x4ec0cb[_0x5d7c0e(0x156)](/\s*$/)[0x0],_0x307c5c=_0x4ec0cb[_0x5d7c0e(0x9bb)]();return _0x17e925+'$'+_0x469d19(_0x307c5c)+'$'+_0x4f786b;};_0x5630be['forEach'](_0x12a72e=>{const _0x3eac7e=_0x143dd6,_0x2059b2=_0xb1ab00(_0x12a72e);let _0x55aeb3=_0x452b65(_0x2059b2);_0x55aeb3=_0x55aeb3['replace'](/\$([^$]*?)\$/g,(_0x4a5bec,_0x4ce32d)=>'$'+_0x469d19(_0x4ce32d)+'$');const _0x3e7bdb=_0x55aeb3[_0x3eac7e(0x853)](/(\s+)/),_0x522dd5=_0x3e7bdb[_0x3eac7e(0x921)](_0x1864b9=>/\s+/['test'](_0x1864b9)?_0x1864b9:_0x2f0554(_0x1864b9));_0x55aeb3=_0x522dd5['join'](''),_0x55aeb3!==_0x2059b2&&(_0x5d930c(_0x12a72e,_0x55aeb3),_0x354fab++);});if(_0x354fab>0x0){showMessage(_0x143dd6(0x877)+_0x354fab+_0x143dd6(0x945));try{if(window[_0x143dd6(0x49e)]&&MathJax[_0x143dd6(0x13d)])MathJax['typesetPromise']();}catch(_0x3c2e4e){}}else showMessage('ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม');}async function listenForCustomMathTopics(){const _0x3d1afd=_0x3b29b2,_0x58f291=collection(db,_0x3d1afd(0xb79)+appId+_0x3d1afd(0x73d));onSnapshot(_0x58f291,_0x2eb117=>{const _0x2a57db=_0x3d1afd;customMathTopics=_0x2eb117[_0x2a57db(0x8c5)][_0x2a57db(0x921)](_0x2a2627=>({'id':_0x2a2627['id'],..._0x2a2627[_0x2a57db(0x7a6)]()})),renderTopicCheckboxes();},_0x489a54=>{const _0x2d4444=_0x3d1afd;console[_0x2d4444(0xc93)](_0x2d4444(0x575),_0x489a54);});}function handleSelectAllTopics(){const _0x3f19cf=_0x3b29b2,_0x6ea50c=document[_0x3f19cf(0xa57)](_0x3f19cf(0x363)),_0x5b21cb=_0x6ea50c['querySelectorAll']('input[type=\x22checkbox\x22]');_0x5b21cb[_0x3f19cf(0x9aa)](_0x467345=>{_0x467345['checked']=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x2c5a82=_0x3b29b2,_0x1f8565=document['getElementById'](_0x2c5a82(0x363)),_0x3d6f0b=_0x1f8565['querySelectorAll'](_0x2c5a82(0x69e));_0x3d6f0b[_0x2c5a82(0x9aa)](_0x421f3a=>{const _0x4ea54c=_0x2c5a82;_0x421f3a[_0x4ea54c(0x354)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x4cbff1){const _0x1f5e6b=_0x3b29b2;if(!_0x4cbff1)return;try{const _0x5555cf=doc(db,_0x1f5e6b(0xb79)+appId+_0x1f5e6b(0x73d),_0x4cbff1);await deleteDoc(_0x5555cf),showMessage(_0x1f5e6b(0x47d));}catch(_0x390e32){console[_0x1f5e6b(0xc93)](_0x1f5e6b(0x2e8),_0x390e32),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x44e0ab=_0x3b29b2,_0x24a6e7=document[_0x44e0ab(0xa57)](_0x44e0ab(0xbf1)),_0x2a5611=_0x24a6e7[_0x44e0ab(0x6d4)][_0x44e0ab(0x9bb)]();if(!_0x2a5611){showMessage(_0x44e0ab(0xc94));return;}if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้');return;}try{const _0x1caead=collection(db,_0x44e0ab(0xb79)+appId+_0x44e0ab(0x73d));await addDoc(_0x1caead,{'name':_0x2a5611,'createdAt':serverTimestamp()}),_0x24a6e7[_0x44e0ab(0x6d4)]='',showMessage(_0x44e0ab(0x490)+_0x2a5611+_0x44e0ab(0x588));}catch(_0x37ff5d){console[_0x44e0ab(0xc93)](_0x44e0ab(0x27d),_0x37ff5d),showMessage(_0x44e0ab(0xc41));}}async function handleUpdateOldQuizzes(){const _0x49db72=_0x3b29b2;showConfirmation(_0x49db72(0x9f4),async()=>{const _0x1b3b30=_0x49db72,_0xaebb75=document[_0x1b3b30(0xa57)]('loader'),_0x228604=document[_0x1b3b30(0xa57)]('loader-text'),_0x2a5cd7=_0x228604[_0x1b3b30(0x63d)];_0xaebb75['classList']['remove'](_0x1b3b30(0x3db)),_0x228604[_0x1b3b30(0x63d)]=_0x1b3b30(0x5d4);try{const _0x4279cb=collection(db,_0x1b3b30(0xb79)+appId+_0x1b3b30(0x53a)),_0x57ba14=await getDocs(_0x4279cb);if(_0x57ba14[_0x1b3b30(0xab0)]){showMessage(_0x1b3b30(0x28e));return;}const _0x1aed1f=writeBatch(db);let _0xeb222a=0x0;_0x57ba14[_0x1b3b30(0x9aa)](_0x3e1e10=>{const _0x123091=_0x1b3b30,_0x25d996=_0x3e1e10[_0x123091(0x7a6)](),_0x2150e7=_0x3e1e10['id'];if(_0x25d996[_0x123091(0x288)]&&_0x25d996['questions']['length']>0x0&&!_0x25d996[_0x123091(0x288)][0x0][_0x123091(0xca3)]('id')){console[_0x123091(0x886)](_0x123091(0x4da)+_0x2150e7+'\x20('+_0x25d996['topic']+')'),_0xeb222a++;const _0x2c77d3=_0x25d996[_0x123091(0x288)][_0x123091(0x921)]((_0x322b58,_0x2951f4)=>{const _0x29bc4a=_0x123091;return{..._0x322b58,'id':_0x322b58['id']||'q_'+Date[_0x29bc4a(0x8d7)]()+'_'+_0x2150e7+'_'+_0x2951f4};}),_0x335815=doc(db,_0x123091(0xb79)+appId+'/public/data/quizzes',_0x2150e7);_0x1aed1f['update'](_0x335815,{'questions':_0x2c77d3});}}),_0xeb222a>0x0?(_0x228604[_0x1b3b30(0x63d)]=_0x1b3b30(0x78a)+_0xeb222a+'\x20รายการ...',await _0x1aed1f[_0x1b3b30(0x658)](),showMessage('อัปเดตแบบทดสอบเก่า\x20'+_0xeb222a+'\x20รายการสำเร็จ!')):showMessage('ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว');}catch(_0x811d12){console[_0x1b3b30(0xc93)](_0x1b3b30(0x7e8),_0x811d12),showMessage(_0x1b3b30(0x5c7)+_0x811d12['message']);}finally{_0xaebb75[_0x1b3b30(0x6b0)]['add'](_0x1b3b30(0x3db)),_0x228604[_0x1b3b30(0x63d)]=_0x2a5cd7;}});}async function handleBulkUpdateQuizSettings(){const _0xb11e9e=_0x3b29b2,_0x490b39={'shuffle':document[_0xb11e9e(0xa57)](_0xb11e9e(0x864))[_0xb11e9e(0x6d4)],'resultsDisplay':document[_0xb11e9e(0xa57)]('bulk-results-display-select')[_0xb11e9e(0x6d4)],'loopUntilPass':document[_0xb11e9e(0xa57)](_0xb11e9e(0xa05))[_0xb11e9e(0x354)],'isConfidenceScoringEnabled':document[_0xb11e9e(0xa57)](_0xb11e9e(0x502))[_0xb11e9e(0x354)],'confidenceMode':document['getElementById'](_0xb11e9e(0x9a0))[_0xb11e9e(0x6d4)]};try{showMessage('กำลังตรวจสอบรายการแบบทดสอบล่าสุด...');const _0x20df4d=await getDocs(collection(db,_0xb11e9e(0xb79)+appId+_0xb11e9e(0x53a))),_0x3c5472=_0x20df4d[_0xb11e9e(0x8c5)][_0xb11e9e(0x921)](_0xbae881=>({'id':_0xbae881['id'],'data':_0xbae881[_0xb11e9e(0x7a6)]()})),_0xfa005=_0x3c5472['length'];showConfirmation(_0xb11e9e(0x5b4)+_0xfa005+_0xb11e9e(0x136),async()=>{const _0x1effc7=_0xb11e9e,_0x45dac0=document[_0x1effc7(0xa57)]('confirm-bulk-quiz-settings-btn');_0x45dac0[_0x1effc7(0x267)]=!![],_0x45dac0[_0x1effc7(0x2b3)]=_0x1effc7(0x5b9);try{const _0x37fcd0=writeBatch(db);_0x3c5472[_0x1effc7(0x9aa)](_0x94ad50=>{const _0x32d667=_0x1effc7,_0x827b6a=doc(db,'artifacts/'+appId+_0x32d667(0x53a),_0x94ad50['id']),_0x427701={..._0x94ad50[_0x32d667(0x7a6)]['settings']||{},..._0x490b39};_0x37fcd0[_0x32d667(0x3f2)](_0x827b6a,{'settings':_0x427701});}),await _0x37fcd0[_0x1effc7(0x658)](),document[_0x1effc7(0xa57)](_0x1effc7(0x428))[_0x1effc7(0x6b0)]['add'](_0x1effc7(0x3db)),showMessage('อัปเดตการตั้งค่าของแบบทดสอบ\x20'+_0xfa005+'\x20ชุดสำเร็จ!');}catch(_0x45f45c){console[_0x1effc7(0xc93)](_0x1effc7(0x58b),_0x45f45c),showMessage(_0x1effc7(0x33b));}finally{_0x45dac0[_0x1effc7(0x267)]=![],_0x45dac0[_0x1effc7(0x2b3)]=_0x1effc7(0x5a3);}});}catch(_0x5192a9){console[_0xb11e9e(0xc93)](_0xb11e9e(0x350),_0x5192a9),showMessage(_0xb11e9e(0xc2f));}}async function handleSaveProjectName(){const _0x1c1ead=_0x3b29b2,_0x212bd8=document[_0x1c1ead(0xa57)](_0x1c1ead(0x6fc)),_0x1f1613=document[_0x1c1ead(0xa57)](_0x1c1ead(0x824)),_0x821d2d=_0x212bd8[_0x1c1ead(0x63d)][_0x1c1ead(0x9bb)]();if(!_0x821d2d||!currentProjectId){showMessage(_0x1c1ead(0x165)),_0x212bd8[_0x1c1ead(0x63d)]=currentProjectData['projectName'];return;}_0x1f1613[_0x1c1ead(0x267)]=!![],_0x1f1613[_0x1c1ead(0x2b3)]=_0x1c1ead(0x84a);try{const _0x298b4b=doc(db,_0x1c1ead(0xb79)+appId+_0x1c1ead(0x304),currentProjectId);await updateDoc(_0x298b4b,{'projectName':_0x821d2d}),currentProjectData&&(currentProjectData[_0x1c1ead(0x234)]=_0x821d2d),showMessage(_0x1c1ead(0x4f0));}catch(_0x2535e1){console['error'](_0x1c1ead(0x884),_0x2535e1),showMessage(_0x1c1ead(0x550)),_0x212bd8[_0x1c1ead(0x63d)]=currentProjectData['projectName'];}finally{_0x1f1613[_0x1c1ead(0x6b0)][_0x1c1ead(0xb35)](_0x1c1ead(0x3db)),_0x1f1613[_0x1c1ead(0x267)]=![],_0x1f1613[_0x1c1ead(0x2b3)]=_0x1c1ead(0x860);}}function _0x376a(_0x48ea03,_0x1fa48f){const _0x8f9059=_0x8f90();return _0x376a=function(_0x376a90,_0x44631d){_0x376a90=_0x376a90-0x113;let _0x23df66=_0x8f9059[_0x376a90];return _0x23df66;},_0x376a(_0x48ea03,_0x1fa48f);}function handleGeneratePracticeTest(_0x76befa,_0x4ad773){const _0x36770d=_0x3b29b2,_0x30f45f=document[_0x36770d(0xa57)](_0x36770d(0x317)),_0x812ef9=document[_0x36770d(0xa57)](_0x36770d(0x435)),_0x3304ee=document[_0x36770d(0xa57)](_0x36770d(0x21a)),_0xc0f780=document['getElementById']('lesson-sections-container');_0x812ef9['textContent']='กำลังสร้างแบบทดสอบ:\x20'+_0x76befa,_0xc0f780[_0x36770d(0x6b0)][_0x36770d(0xb35)]('hidden'),_0x3304ee[_0x36770d(0x6b0)][_0x36770d(0xbb2)](_0x36770d(0x3db)),_0x30f45f['classList'][_0x36770d(0xbb2)](_0x36770d(0x3db)),generatePracticeTest(_0x76befa,_0x4ad773)[_0x36770d(0xc9f)](_0x3c46ad=>{const _0x16d9fb=_0x36770d;console['error'](_0x16d9fb(0x624),_0x3c46ad),showMessage('ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้'),_0x30f45f[_0x16d9fb(0x6b0)][_0x16d9fb(0xb35)](_0x16d9fb(0x3db));});}async function generatePracticeTest(_0x1da0bb,_0x1b6196){const _0x3f0b75=_0x3b29b2;['pointContent',_0x3f0b75(0x157),'applicationContent',_0x3f0b75(0xa56)]['forEach'](_0x5cc74a=>{const _0x215138=_0x3f0b75,_0x510258=document['getElementById'](_0x5cc74a)[_0x215138(0x3ce)];_0x510258&&(_0x510258[_0x215138(0xb97)][_0x215138(0xb10)]=_0x215138(0x4cc));});try{const _0xf6d039=_0x3f0b75(0x2e3),_0x5042ff=_0x3f0b75(0x79b)+_0x1b6196+_0x3f0b75(0x139)+_0x1da0bb+'\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x5e09da=await callGemini(_0x5042ff,!![]),_0x4205f9=document[_0x3f0b75(0xa57)]('lesson-view-title'),_0x3f6806=document['getElementById'](_0x3f0b75(0x21a)),_0x1cb468=document[_0x3f0b75(0xa57)](_0x3f0b75(0x4ec)),_0x1a3c7e=document[_0x3f0b75(0xa57)](_0x3f0b75(0x2b4))[_0x3f0b75(0x3ce)];_0x4205f9[_0x3f0b75(0x70a)]=_0x3f0b75(0x882)+_0x1da0bb[_0x3f0b75(0xb5a)](/•\s/g,'')+_0x3f0b75(0xa22)+_0x1b6196+')',currentApplicationData=JSON[_0x3f0b75(0x5f1)](_0x5e09da);const _0x421400=document['getElementById'](_0x3f0b75(0x2b4));_0x421400[_0x3f0b75(0x2b3)]=currentApplicationData['map']((_0x30ad0b,_0x13648b)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x13648b+0x1)+'.\x20'+marked[_0x3f0b75(0x6d8)](_0x30ad0b['question'])+_0x3f0b75(0xca8)+_0x13648b+_0x3f0b75(0x531)+_0x30ad0b[_0x3f0b75(0x5a9)][_0x3f0b75(0x921)]((_0x457084,_0x158f84)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x13648b+',\x20'+_0x158f84+_0x3f0b75(0x601)+String[_0x3f0b75(0x1bc)](0x61+_0x158f84)+'.\x20'+marked[_0x3f0b75(0x6d8)](_0x457084)+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3f0b75(0xa0a)]('')+_0x3f0b75(0x3b1))['join'](''),window['MathJax']&&MathJax[_0x3f0b75(0x13d)]([_0x421400]),_0x1a3c7e&&(_0x1a3c7e['style'][_0x3f0b75(0xb10)]=_0x3f0b75(0x28d)),_0x3f6806['classList'][_0x3f0b75(0xb35)](_0x3f0b75(0x3db)),_0x1cb468[_0x3f0b75(0x6b0)][_0x3f0b75(0xbb2)](_0x3f0b75(0x3db));}catch(_0x195878){console[_0x3f0b75(0xc93)](_0x195878);throw _0x195878;}}async function callGemini(_0x3cee2d,_0x354e6d=![]){const _0x517603=_0x3b29b2,_0x39b1f0='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x307f32=_0x517603(0x457)+_0x39b1f0,_0x347448={'contents':[{'parts':[{'text':_0x3cee2d}]}]};_0x354e6d&&(_0x347448['generationConfig']={'responseMimeType':_0x517603(0xb66)},_0x3cee2d[_0x517603(0x4c8)](_0x517603(0x1db))?_0x347448[_0x517603(0x2da)]['responseSchema']={'type':_0x517603(0x31f),'properties':{'gradeLevel':{'type':_0x517603(0xc48)},'curriculum':{'type':_0x517603(0x880),'items':{'type':_0x517603(0x31f),'properties':{'sara':{'type':_0x517603(0xc48)},'mainTopics':{'type':_0x517603(0x880),'items':{'type':'OBJECT','properties':{'topicName':{'type':'STRING'},'subTopics':{'type':'ARRAY','items':{'type':_0x517603(0xc48)}}},'required':[_0x517603(0x6b7),'subTopics']}}},'required':['sara','mainTopics']}}},'required':[_0x517603(0xab3),_0x517603(0x772)]}:_0x347448[_0x517603(0x2da)]['responseSchema']={'type':'ARRAY','items':{'type':_0x517603(0x31f),'properties':{'question':{'type':'STRING'},'options':{'type':_0x517603(0x880),'items':{'type':_0x517603(0xc48)}},'answer':{'type':_0x517603(0xbe5)}},'required':['question',_0x517603(0x5a9),_0x517603(0x377)]}});try{const _0x5e2409=await fetch(_0x307f32,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x347448)});if(!_0x5e2409['ok']){const _0x2e12c1=await _0x5e2409[_0x517603(0x89a)]();console[_0x517603(0xc93)](_0x517603(0x4ed),_0x2e12c1);throw new Error(_0x517603(0xa7b)+_0x5e2409[_0x517603(0xbeb)]);}const _0x3cc1ad=await _0x5e2409[_0x517603(0x2aa)]();if(_0x3cc1ad[_0x517603(0xa0d)]&&_0x3cc1ad[_0x517603(0xa0d)][0x0][_0x517603(0x610)]&&_0x3cc1ad[_0x517603(0xa0d)][0x0][_0x517603(0x610)]['parts'][0x0])return _0x3cc1ad[_0x517603(0xa0d)][0x0][_0x517603(0x610)][_0x517603(0x7c5)][0x0]['text'];else{console[_0x517603(0xc93)](_0x517603(0x88a),_0x3cc1ad);if(_0x3cc1ad['candidates']&&_0x3cc1ad[_0x517603(0xa0d)][0x0][_0x517603(0x89b)]===_0x517603(0x93d))return JSON[_0x517603(0xc54)]({'error':_0x517603(0x324)});throw new Error(_0x517603(0xa8c));}}catch(_0x1f06cd){console[_0x517603(0xc93)](_0x517603(0x5f8),_0x1f06cd);throw _0x1f06cd;}}async function generateLesson(_0x491308=null,_0x4e21f3=null){const _0x221f14=_0x3b29b2,_0x13fe76=_0x491308,_0x35be5c=_0x4e21f3||_0x221f14(0x31e),_0xb142c9=document['getElementById'](_0x221f14(0x21a)),_0x183c9b=document[_0x221f14(0xa57)](_0x221f14(0x27b));_0x183c9b[_0x221f14(0x63d)]=_0x221f14(0xbd9)+_0x13fe76+'\x22...';try{let _0x2cda5a=[];const _0x2660cf=document['getElementById']('bp-reference-file-url')?.['value']['trim']();if(_0x2660cf)try{_0x183c9b['textContent']=_0x221f14(0xaa0);const _0x2258f3=await fetchFileFromUrl(_0x2660cf,_0x221f14(0x1a9)),_0x915234=await new Promise((_0x413ec0,_0x5c9974)=>{const _0x412251=_0x221f14,_0x3f7859=new FileReader();_0x3f7859[_0x412251(0x807)](_0x2258f3),_0x3f7859[_0x412251(0x569)]=()=>_0x413ec0(_0x3f7859[_0x412251(0x4ce)]['split'](',')[0x1]),_0x3f7859['onerror']=_0x5c9974;});_0x2cda5a[_0x221f14(0x4aa)]({'inlineData':{'mimeType':_0x2258f3['type'],'data':_0x915234}});}catch(_0x3dbf82){console[_0x221f14(0xc93)](_0x221f14(0x6f0),_0x3dbf82),showMessage(_0x221f14(0x73e));}const _0x551fe5=_0x221f14(0x3a1)+_0x13fe76+_0x221f14(0x859)+_0x13fe76+_0x221f14(0x447);_0x183c9b['textContent']=_0x221f14(0xbd9)+_0x13fe76+_0x221f14(0xadc);const _0x3ff7a7=_0x221f14(0x4f4)+_0x35be5c+_0x221f14(0x139)+_0x13fe76+_0x221f14(0x99f)+_0x551fe5+_0x221f14(0x65a),_0x4e7496='สำหรับหัวข้อ\x20\x27'+_0x13fe76+_0x221f14(0x9e8)+_0x35be5c+_0x221f14(0xbd0)+_0x551fe5+_0x221f14(0x6de),_0x148422='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x35be5c+_0x221f14(0x139)+_0x13fe76+_0x221f14(0x771)+_0x551fe5+'.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x54e3f1=_0x221f14(0x8d1)+_0x13fe76+'\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x35be5c+_0x221f14(0xac1)+_0x551fe5+'.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ',_0x1ad0f5={'type':_0x221f14(0x880),'items':{'type':_0x221f14(0x31f),'properties':{'question':{'type':_0x221f14(0xc48)},'options':{'type':_0x221f14(0x880),'items':{'type':_0x221f14(0xc48)}},'answer':{'type':_0x221f14(0xbe5)}},'required':['question','options','answer']}},[_0x5266e6,_0x54c78a,_0x3ef1ff,_0x158899]=await Promise[_0x221f14(0x6e1)]([handleApiCall([{'text':_0x3ff7a7},..._0x2cda5a],'...',null,null,![]),handleApiCall([{'text':_0x4e7496},..._0x2cda5a],_0x221f14(0x9fb),null,null,![]),handleApiCall([{'text':_0x148422},..._0x2cda5a],_0x221f14(0x9fb),_0x1ad0f5,null,![]),handleApiCall([{'text':_0x54e3f1},..._0x2cda5a],_0x221f14(0x9fb),null,null,![])]),_0x38978b=JSON[_0x221f14(0xc54)](_0x3ef1ff||[]),_0x4a4ad5=document['getElementById'](_0x221f14(0x435)),_0x45bd75=document['getElementById']('lesson-sections-container');_0x4a4ad5[_0x221f14(0x70a)]=_0x221f14(0xc5e)+_0x13fe76[_0x221f14(0xb5a)](/•\\s/g,'')+'\x20(สำหรับ\x20'+_0x35be5c+')',[_0x221f14(0x480),_0x221f14(0x157),_0x221f14(0xa56)][_0x221f14(0x9aa)](_0x63baab=>{const _0x1495ee=_0x221f14;document[_0x1495ee(0xa57)](_0x63baab)[_0x1495ee(0x2b3)]='';}),document[_0x221f14(0xa57)](_0x221f14(0x480))['innerHTML']=_0x5266e6?marked['parse'](_0x5266e6):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document[_0x221f14(0xa57)](_0x221f14(0x157))['innerHTML']=_0x54c78a?marked['parse'](_0x54c78a):_0x221f14(0x980),document[_0x221f14(0xa57)](_0x221f14(0xa56))[_0x221f14(0x2b3)]=_0x158899?marked['parse'](_0x158899):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',currentApplicationData=JSON[_0x221f14(0x5f1)](_0x38978b);const _0x37262d=document[_0x221f14(0xa57)](_0x221f14(0x2b4));_0x37262d['innerHTML']=(currentApplicationData||[])[_0x221f14(0x921)]((_0x14cf42,_0x509a5e)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x509a5e+0x1)+'.\x20'+marked[_0x221f14(0x6d8)](_0x14cf42[_0x221f14(0x3ee)]||'')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x509a5e+_0x221f14(0x531)+(_0x14cf42['options']||[])['map']((_0x5737ae,_0x230ecd)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x509a5e+',\x20'+_0x230ecd+_0x221f14(0x601)+String[_0x221f14(0x1bc)](0x61+_0x230ecd)+'.\x20'+marked[_0x221f14(0x6d8)](_0x5737ae||'')+_0x221f14(0xbb7))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x221f14(0xa0a)]('')||_0x221f14(0x420),window[_0x221f14(0x49e)]&&MathJax['typesetPromise']([_0x45bd75]),_0xb142c9[_0x221f14(0x6b0)][_0x221f14(0xb35)](_0x221f14(0x3db)),_0x45bd75[_0x221f14(0x6b0)][_0x221f14(0xbb2)](_0x221f14(0x3db));}catch(_0x356bc6){console[_0x221f14(0xc93)](_0x356bc6);throw _0x356bc6;}}function checkAnswer(_0x56fd1a,_0x1dc745){const _0x202693=_0x3b29b2,_0xd30b3d=currentApplicationData[_0x56fd1a],_0x22f243=document[_0x202693(0xa57)]('q'+_0x56fd1a+_0x202693(0x691)),_0x4443a5=_0x22f243[_0x202693(0x2f4)](_0x202693(0x3c1));for(let _0xc026ac of _0x4443a5){_0xc026ac[_0x202693(0x267)]=!![];}_0x1dc745===_0xd30b3d[_0x202693(0x377)]?_0x4443a5[_0x1dc745]['classList'][_0x202693(0xb35)](_0x202693(0x570)):(_0x4443a5[_0x1dc745][_0x202693(0x6b0)]['add'](_0x202693(0x643)),_0x4443a5[_0xd30b3d[_0x202693(0x377)]][_0x202693(0x6b0)][_0x202693(0xb35)]('correct'));}window[_0x3b29b2(0x77b)]=handleGenerateAndShowLesson,window[_0x3b29b2(0xb87)]=checkAnswer,window[_0x3b29b2(0x59c)]=handleGeneratePracticeTest,window['handleGenerateQuizFromBlueprintTopic']=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x4a0a77=_0x3b29b2;try{const _0x14544c=initializeApp(firebaseConfig);db=getFirestore(_0x14544c),auth=getAuth(_0x14544c),setupAuthListener(),setupEventListeners(),showView(_0x4a0a77(0x3a6)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0xa96754){console[_0x4a0a77(0xc93)](_0x4a0a77(0xa0b),_0xa96754),showMessage(_0x4a0a77(0x8cc));}}async function handleVerifyAnswersInEditor(){const _0x23e328=_0x3b29b2,_0x295410=document[_0x23e328(0xa57)]('quiz-editor-modal');if(!_0x295410)return;const _0x294749=document[_0x23e328(0xa57)](_0x23e328(0x9bf));_0x294749['disabled']=!![],_0x294749[_0x23e328(0x2b3)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x1a9eae=_0x295410[_0x23e328(0x3cf)](_0x23e328(0x49b)),_0x205a5f=Array[_0x23e328(0x35d)](_0x1a9eae)['map']((_0x529157,_0x563934)=>{const _0x1c3355=_0x23e328,_0x1f5f69=_0x529157[_0x1c3355(0x43d)]['qType'],_0x214b94=_0x529157[_0x1c3355(0x1c1)]('textarea')[_0x1c3355(0x6d4)];let _0x7e35ea=null,_0x584ea5='';switch(_0x1f5f69){case'multiple_choice':const _0x3e954b=_0x529157['querySelectorAll'](_0x1c3355(0x236));_0x7e35ea=Array[_0x1c3355(0x35d)](_0x3e954b)[_0x1c3355(0x921)](_0x104011=>_0x104011[_0x1c3355(0x6d4)]);const _0x2b19dc=_0x529157['querySelector']('input[type=\x22radio\x22]:checked');_0x2b19dc&&(_0x584ea5=_0x7e35ea[parseInt(_0x2b19dc['value'])]);break;case _0x1c3355(0x639):_0x584ea5=_0x529157[_0x1c3355(0x1c1)]('.ideal-answer-input')[_0x1c3355(0x6d4)];break;case _0x1c3355(0x421):const _0x12f515=_0x529157[_0x1c3355(0x1c1)](_0x1c3355(0x248));_0x584ea5=_0x12f515?_0x12f515[_0x1c3355(0x6d4)]:'';break;case'matching_item':_0x584ea5=_0x529157['querySelector'](_0x1c3355(0x650))[_0x1c3355(0x6d4)];break;}return{'question':_0x214b94,'options':_0x7e35ea,'proposedAnswer':_0x584ea5};}),_0x583c1f=_0x23e328(0xc26)+JSON[_0x23e328(0xc54)](_0x205a5f)+_0x23e328(0x7dc),_0x17e572={'type':'ARRAY','items':{'type':_0x23e328(0x31f),'properties':{'questionIndex':{'type':_0x23e328(0xbe5)},'isCorrect':{'type':_0x23e328(0x619)},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x23e328(0xc48)}},'required':[_0x23e328(0xab9),_0x23e328(0x3e2),_0x23e328(0x4d2)]}},_0x25ff45=await callAnalysisApi(_0x583c1f,{'type':_0x23e328(0x31f),'properties':{'result':_0x17e572},'required':[_0x23e328(0x4ce)]});displayVerificationResultsInEditor(_0x25ff45[_0x23e328(0x4ce)]);}catch(_0x1a6d0b){console[_0x23e328(0xc93)]('Error\x20verifying\x20answers\x20in\x20editor:',_0x1a6d0b),showMessage(_0x23e328(0x132));}finally{_0x294749['disabled']=![],_0x294749[_0x23e328(0x2b3)]=_0x23e328(0x635);}}function displayVerificationResultsInEditor(_0x2398c8){const _0x41773d=_0x3b29b2;_0x2398c8[_0x41773d(0x9aa)](_0x54d043=>{const _0x45e8b7=_0x41773d,_0x2629b2=document['querySelector']('.question-editor-item[data-q-index=\x22'+_0x54d043[_0x45e8b7(0xab9)]+'\x22]');if(!_0x2629b2)return;const _0x34aa99=_0x2629b2[_0x45e8b7(0x1c1)](_0x45e8b7(0x47c));if(_0x34aa99)_0x34aa99[_0x45e8b7(0xbb2)]();let _0x2eb23b='';if(_0x54d043[_0x45e8b7(0x3e2)])_0x2eb23b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else{const _0x389717=_0x54d043[_0x45e8b7(0x7a1)]?_0x45e8b7(0x5ba):'';_0x2eb23b=_0x45e8b7(0x412)+_0x389717+_0x45e8b7(0x92c)+_0x54d043[_0x45e8b7(0x4d2)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x54d043[_0x45e8b7(0x7a1)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x54d043[_0x45e8b7(0x7a1)]+_0x45e8b7(0x240):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}_0x2629b2[_0x45e8b7(0x306)](_0x45e8b7(0x5d9),_0x2eb23b);if(!_0x54d043['isCorrect']&&_0x54d043[_0x45e8b7(0x7a1)]){const _0x23d50b=_0x2629b2[_0x45e8b7(0x43d)]['qType'],_0x27f3ff=_0x5d12eb=>{const _0x414bfa=_0x45e8b7;if(!_0x5d12eb)return;_0x5d12eb[_0x414bfa(0x6b0)][_0x414bfa(0xb35)](_0x414bfa(0x7a7),_0x414bfa(0xb68),_0x414bfa(0xa41)),setTimeout(()=>{const _0x21d20c=_0x414bfa;_0x5d12eb[_0x21d20c(0x6b0)][_0x21d20c(0xbb2)](_0x21d20c(0x7a7));},0x9c4);};if(_0x23d50b===_0x45e8b7(0xbbc)){const _0x528e5e=Array['from'](_0x2629b2[_0x45e8b7(0x3cf)]('input[type=\x22text\x22]')),_0x257beb=_0x528e5e[_0x45e8b7(0x4e3)](_0x2c5681=>_0x2c5681[_0x45e8b7(0x6d4)][_0x45e8b7(0x9bb)]()[_0x45e8b7(0x80a)]()===_0x54d043[_0x45e8b7(0x7a1)][_0x45e8b7(0x9bb)]()[_0x45e8b7(0x80a)]());if(_0x257beb!==-0x1){const _0x5d4370=_0x2629b2[_0x45e8b7(0x1c1)]('input[type=\x22radio\x22][value=\x22'+_0x257beb+'\x22]');_0x5d4370&&(_0x5d4370[_0x45e8b7(0x354)]=!![],_0x27f3ff(_0x5d4370[_0x45e8b7(0xcac)]('div')));}}else{if(_0x23d50b===_0x45e8b7(0x639)||_0x23d50b===_0x45e8b7(0x8bb)){const _0x21862f=_0x2629b2[_0x45e8b7(0x1c1)](_0x45e8b7(0x393));_0x21862f&&(_0x21862f[_0x45e8b7(0x6d4)]=_0x54d043['suggestedAnswer'],_0x27f3ff(_0x21862f));}else{if(_0x23d50b===_0x45e8b7(0x421)){const _0x20f1dd=_0x54d043[_0x45e8b7(0x7a1)][_0x45e8b7(0x9bb)]()['toLowerCase'](),_0x21f465=_0x2629b2['querySelector']('input[type=\x22radio\x22][value=\x22'+_0x20f1dd+'\x22]');_0x21f465&&(_0x21f465['checked']=!![],_0x27f3ff(_0x21f465[_0x45e8b7(0xcac)](_0x45e8b7(0x3f9))));}}}}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}async function handleVerifyAnswers(){const _0x9391a7=_0x3b29b2;if(!currentQuizData||!currentQuizData[_0x9391a7(0x288)]){showMessage(_0x9391a7(0xa35));return;}const _0x2b587d=document[_0x9391a7(0xa57)](_0x9391a7(0x5ef));_0x2b587d[_0x9391a7(0x267)]=!![],_0x2b587d['innerHTML']=_0x9391a7(0x218);try{const _0x3e82a7=currentQuizData['questions'][_0x9391a7(0x921)]((_0x48536b,_0xde4248)=>{const _0x7d72aa=_0x9391a7;let _0x309225='';const _0x38286c=_0x48536b[_0x7d72aa(0x704)]||currentQuizData[_0x7d72aa(0x573)];switch(_0x38286c){case'multiple_choice':_0x309225=_0x48536b['options'][_0x48536b[_0x7d72aa(0x6c9)]];break;case _0x7d72aa(0x639):_0x309225=_0x48536b[_0x7d72aa(0x5c5)];break;case _0x7d72aa(0x421):_0x309225=_0x48536b[_0x7d72aa(0x72d)][_0x7d72aa(0xa5a)]();break;case _0x7d72aa(0x8bb):_0x309225=_0x48536b[_0x7d72aa(0x4a4)];break;}return{'question':_0x48536b[_0x7d72aa(0xc65)]||_0x48536b[_0x7d72aa(0xc1c)],'options':_0x48536b[_0x7d72aa(0x5a9)]||null,'proposedAnswer':_0x309225};}),_0xb5c668=_0x9391a7(0x5c8)+JSON[_0x9391a7(0xc54)](_0x3e82a7)+_0x9391a7(0x7e4),_0x6333e5={'type':_0x9391a7(0x880),'items':{'type':_0x9391a7(0x31f),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x9391a7(0x619)},'justification':{'type':_0x9391a7(0xc48)},'suggestedAnswer':{'type':_0x9391a7(0xc48)}},'required':[_0x9391a7(0xab9),_0x9391a7(0x3e2),_0x9391a7(0x4d2)]}},_0x390761=await callAnalysisApi(_0xb5c668,{'type':_0x9391a7(0x31f),'properties':{'result':_0x6333e5},'required':[_0x9391a7(0x4ce)]});displayVerificationResults(_0x390761[_0x9391a7(0x4ce)]);}catch(_0x1d76e1){console['error']('Error\x20verifying\x20answers:',_0x1d76e1),showMessage(_0x9391a7(0x132));}finally{_0x2b587d[_0x9391a7(0x267)]=![],_0x2b587d['innerHTML']=_0x9391a7(0x63c);}}function displayVerificationResults(_0x479cf4){const _0x2b48b8=_0x3b29b2;_0x479cf4[_0x2b48b8(0x9aa)](_0x3d6875=>{const _0x7d1a3b=_0x2b48b8,_0x4347bd=document['querySelector']('div[data-question-index=\x22'+_0x3d6875[_0x7d1a3b(0xab9)]+'\x22]');if(_0x4347bd){const _0x2adc10=_0x4347bd[_0x7d1a3b(0x1c1)]('.verification-result');if(_0x2adc10)_0x2adc10[_0x7d1a3b(0xbb2)]();let _0x5b039e='';_0x3d6875[_0x7d1a3b(0x3e2)]?_0x5b039e=_0x7d1a3b(0x7ef):_0x5b039e=_0x7d1a3b(0x2cc)+_0x3d6875[_0x7d1a3b(0x4d2)]+_0x7d1a3b(0x593)+(_0x3d6875[_0x7d1a3b(0x7a1)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x3d6875[_0x7d1a3b(0x7a1)]+_0x7d1a3b(0x240):'')+_0x7d1a3b(0x4c3),_0x4347bd[_0x7d1a3b(0x306)](_0x7d1a3b(0x5d9),_0x5b039e);}}),showMessage(_0x2b48b8(0x154));}function compareNumericalAnswers(_0x2324a4,_0x4c0b3f){const _0x207a30=_0x3b29b2,_0x37b9e5=String(_0x2324a4)[_0x207a30(0xb5a)](',','.')[_0x207a30(0xb5a)](/[^\d.-]/g,'')['trim'](),_0x4df46f=String(_0x4c0b3f)[_0x207a30(0xb5a)](',','.')[_0x207a30(0xb5a)](/[^\d.-]/g,'')[_0x207a30(0x9bb)]();if(_0x37b9e5===''||_0x4df46f==='')return![];const _0x5f1f07=parseFloat(_0x37b9e5),_0xd62da6=parseFloat(_0x4df46f);if(isNaN(_0x5f1f07)||isNaN(_0xd62da6))return![];return Math[_0x207a30(0x467)](_0x5f1f07-_0xd62da6)<0.001;}function isPotentiallyNumeric(_0x4cd9bb){const _0x154a08=_0x3b29b2;if(typeof _0x4cd9bb!=='string'&&typeof _0x4cd9bb!==_0x154a08(0x328))return![];const _0x3651a9=String(_0x4cd9bb)['replace'](',','.')[_0x154a08(0x9bb)]();return _0x3651a9!==''&&!isNaN(parseFloat(_0x3651a9))&&isFinite(_0x3651a9);}async function gradeShortAnswer(_0x76050f,_0x67f78f){const _0x29ac4b=_0x3b29b2,_0x4545ac=_0x67f78f[_0x29ac4b(0x5c5)],_0x38f050=String(_0x76050f)[_0x29ac4b(0xb5a)](/\$/g,'')[_0x29ac4b(0x9bb)](),_0x313353=String(_0x4545ac)['replace'](/\$/g,'')[_0x29ac4b(0x9bb)]();if(_0x38f050[_0x29ac4b(0x80a)]()===_0x313353[_0x29ac4b(0x80a)]())return!![];if(isPotentiallyNumeric(_0x38f050)&&isPotentiallyNumeric(_0x313353)){if(compareNumericalAnswers(_0x38f050,_0x313353))return!![];}return console['log'](_0x29ac4b(0x1d9)),await gradeShortAnswerWithAI(_0x76050f,_0x4545ac);}async function revealAnswerForAdmin(_0x3c3651,_0x42bc6a){const _0x670f2=_0x3b29b2,_0x599f1f=doc(db,_0x670f2(0xb79)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x599f1f,{'questionStatus':_0x670f2(0x44e)});}function showTop5LeaderboardView(_0xa6c27e){const _0x4c53f2=_0x3b29b2,_0x628187=Object[_0x4c53f2(0x4bb)](_0xa6c27e['players']||{})['filter'](_0x53e6bd=>_0x53e6bd[_0x4c53f2(0xbeb)]===_0x4c53f2(0x37e));_0x628187[_0x4c53f2(0x445)]((_0x31b95b,_0x1456a7)=>_0x1456a7[_0x4c53f2(0x5c3)]-_0x31b95b['score']);const _0x1376b3=_0x628187[_0x4c53f2(0x20e)](0x0,0x5),_0x11ec13=_0x4c53f2(0x757)+_0x1376b3['map']((_0x5b7c07,_0x55e031)=>_0x4c53f2(0x209)+(_0x55e031+0x1)+'.\x20'+(_0x5b7c07[_0x4c53f2(0xc6f)]||Object[_0x4c53f2(0x71e)](_0xa6c27e['players'])[_0x4c53f2(0xc0d)](_0x1db548=>_0xa6c27e[_0x4c53f2(0x7d2)][_0x1db548]===_0x5b7c07))+_0x4c53f2(0xa8b)+_0x5b7c07[_0x4c53f2(0x5c3)]+_0x4c53f2(0x55d))[_0x4c53f2(0xa0a)]('')+_0x4c53f2(0xb27)+(_0xa6c27e[_0x4c53f2(0x60a)]+0x1===currentQuizData[_0x4c53f2(0x288)][_0x4c53f2(0x423)]?_0x4c53f2(0xc0f):_0x4c53f2(0x4d0))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x4c53f2(0x2b3)]=_0x11ec13,document[_0x4c53f2(0xa57)](_0x4c53f2(0x888))[_0x4c53f2(0x3f4)](_0x4c53f2(0x1b1),async()=>{const _0x5c3660=_0x4c53f2,_0x567d96=doc(db,_0x5c3660(0xb79)+appId+_0x5c3660(0xac2),currentLiveGameId),_0x4262a3=_0xa6c27e[_0x5c3660(0x60a)]+0x1;if(_0x4262a3<currentQuizData[_0x5c3660(0x288)][_0x5c3660(0x423)]){const _0x45b4bf={'currentQuestionIndex':_0x4262a3,'questionDisplayedAt':serverTimestamp(),'questionStatus':'answering'};Object['keys'](_0xa6c27e['players'])['forEach'](_0xff0f69=>{_0x45b4bf['players.'+_0xff0f69+'.answeredCurrentQuestion']=![];}),await updateDoc(_0x567d96,_0x45b4bf);}else await updateDoc(_0x567d96,{'status':_0x5c3660(0x56f)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x1a2066=>{const _0x20ee33=_0x376a;if(_0x1a2066){userId=_0x1a2066[_0x20ee33(0xbd2)],userIdDisplay[_0x20ee33(0x63d)]=userId;const _0x36de68=await loadUserPreferences();_0x36de68[_0x20ee33(0x301)]&&(document[_0x20ee33(0xa57)](_0x20ee33(0xb29))[_0x20ee33(0x6d4)]=_0x36de68[_0x20ee33(0x301)]);globalDashboardSettings[_0x20ee33(0x94a)]=_0x36de68[_0x20ee33(0x94a)]||_0x20ee33(0x936);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x1d0592,_0x48cd3e){const _0x1d0183=_0x3b29b2;if(!userId)return;try{const _0x454742=doc(db,_0x1d0183(0xb79)+appId+_0x1d0183(0xb12)+userId+_0x1d0183(0xa3e)),_0x557da4={};_0x557da4[_0x1d0592]=_0x48cd3e,await setDoc(_0x454742,_0x557da4,{'merge':!![]});}catch(_0x5070f7){console[_0x1d0183(0xc93)](_0x1d0183(0x1c9),_0x5070f7);}}async function loadUserPreferences(){const _0x1507dc=_0x3b29b2;if(!userId)return{};try{const _0x56621d=doc(db,_0x1507dc(0xb79)+appId+_0x1507dc(0xb12)+userId+_0x1507dc(0xa3e)),_0x84b562=await getDoc(_0x56621d);if(_0x84b562[_0x1507dc(0xb65)]())return _0x84b562['data']();return{};}catch(_0x3efcf6){return console[_0x1507dc(0xc93)](_0x1507dc(0x9ca),_0x3efcf6),{};}}function parseIndentedBlueprint(_0x38fc07){const _0x3ef285=_0x3b29b2,_0x203056=_0x38fc07[_0x3ef285(0x853)]('\x0a')[_0x3ef285(0x36d)](_0xbc73f9=>_0xbc73f9[_0x3ef285(0x9bb)]()!==''),_0x31898b=[];let _0x2dcca6=null,_0x4efd40=null;return _0x203056[_0x3ef285(0x9aa)](_0x2e9a3c=>{const _0x5e2e17=_0x3ef285,_0x5876da=_0x2e9a3c['match'](/^\s*/)[0x0]['length'],_0x15362f=_0x2e9a3c['trim']();if(_0x5876da===0x0)_0x2dcca6={'sara':_0x15362f,'mainTopics':[]},_0x31898b['push'](_0x2dcca6),_0x4efd40=null;else{if(_0x5876da>0x0&&_0x5876da<0x8&&_0x2dcca6)_0x4efd40={'topicName':_0x15362f,'subTopics':[]},_0x2dcca6[_0x5e2e17(0x17e)][_0x5e2e17(0x4aa)](_0x4efd40);else _0x5876da>=0x8&&_0x4efd40&&_0x4efd40['subTopics'][_0x5e2e17(0x4aa)](_0x15362f);}}),{'curriculum':_0x31898b};}async function handleManualBlueprintSave(){const _0x341378=_0x3b29b2,_0x337e32=document[_0x341378(0xa57)](_0x341378(0x883))[_0x341378(0x6d4)][_0x341378(0x9bb)](),_0x1e2e24=document[_0x341378(0xa57)](_0x341378(0x359))[_0x341378(0x6d4)]['trim'](),_0x5b2ad0=document['getElementById'](_0x341378(0x5a0))[_0x341378(0x6d4)];if(!_0x337e32||!_0x1e2e24||!_0x5b2ad0){showMessage('กรุณากรอกข้อมูลให้ครบทุกช่อง');return;}const _0x279bf5=parseIndentedBlueprint(_0x5b2ad0);if(!_0x279bf5[_0x341378(0x772)]||_0x279bf5[_0x341378(0x772)][_0x341378(0x423)]===0x0){showMessage(_0x341378(0x202));return;}const _0x2e178f={};let _0x44a0cc=0x0;_0x279bf5[_0x341378(0x772)][_0x341378(0x9aa)](_0xcbef15=>{const _0x3c7d93=_0x341378;_0xcbef15[_0x3c7d93(0x17e)][_0x3c7d93(0x9aa)](_0x58a6f5=>{const _0x39a55b=_0x3c7d93;_0x58a6f5[_0x39a55b(0x7e6)][_0x39a55b(0x9aa)](_0x3f5ab4=>{const _0x54d869=_0x39a55b,_0x1919a1='topic_'+Date[_0x54d869(0x8d7)]()+Math[_0x54d869(0x95a)]()['toString'](0x24)[_0x54d869(0x736)](0x2,0x9);_0x2e178f[_0x1919a1]={'sara':_0xcbef15[_0x54d869(0x9b2)],'mainTopic':_0x58a6f5[_0x54d869(0x6b7)],'subTopic':_0x3f5ab4,'status':_0x54d869(0x5e2),'lessonContent':null,'order':_0x44a0cc++};});});});try{const _0x531feb=collection(db,_0x341378(0xb79)+appId+_0x341378(0x6f9));await addDoc(_0x531feb,{'projectName':_0x337e32,'gradeLevel':_0x1e2e24,'topics':_0x2e178f,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x337e32+_0x341378(0x501)),document['getElementById']('manual-blueprint-modal')['classList'][_0x341378(0xb35)](_0x341378(0x3db));}catch(_0x39328e){console[_0x341378(0xc93)]('Error\x20saving\x20manual\x20blueprint\x20project:',_0x39328e),showMessage(_0x341378(0x929));}}function handleClearAllLinksForTopic(_0x25d8f6){const _0x27067c=_0x3b29b2;showConfirmation(_0x27067c(0xba7),async()=>{const _0x14c035=_0x27067c;try{const _0x10cb64=doc(db,'artifacts/'+appId+_0x14c035(0x6f9),currentBlueprintProjectId);await updateDoc(_0x10cb64,{[_0x14c035(0x69a)+_0x25d8f6+'.linkedQuizIds']:[]}),showMessage('ล้างการเชื่อมโยงทั้งหมดสำเร็จ'),openTopicQuizBank(_0x25d8f6),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x19cc95){console['error']('Error\x20clearing\x20all\x20links:',_0x19cc95),showMessage('เกิดข้อผิดพลาดในการล้างการเชื่อมโยง');}});}function showPodiumView(_0x5c7073,_0x28c578=_0x3b29b2(0x38b)){const _0x2c8883=_0x3b29b2,_0x3e0533=Object[_0x2c8883(0xb3d)](_0x5c7073)[_0x2c8883(0x921)](([_0x4cef80,_0xa70973])=>({'name':_0x4cef80,'score':_0xa70973[_0x2c8883(0x5c3)]||0x0,'badges':_0xa70973[_0x2c8883(0x6d3)]||[],'hasPerfectScoreBonus':_0xa70973[_0x2c8883(0x8a2)]||![]}));_0x3e0533[_0x2c8883(0x445)]((_0x115e58,_0xd66c7d)=>{const _0x3408a1=_0x2c8883,_0x1d174e=_0xd66c7d[_0x3408a1(0x5c3)]-_0x115e58[_0x3408a1(0x5c3)];if(_0x1d174e!==0x0)return _0x1d174e;return(_0xd66c7d[_0x3408a1(0x6d3)]['length']||0x0)-(_0x115e58[_0x3408a1(0x6d3)]['length']||0x0);});const _0x4b2772=_0x35fe11=>{const _0x5dd293=_0x2c8883;if(!_0x35fe11||_0x35fe11[_0x5dd293(0x423)]===0x0)return'';const _0x1fd431={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x5dd293(0x471)+_0x35fe11[_0x5dd293(0x921)](_0x3593a7=>_0x1fd431[_0x3593a7]||'')[_0x5dd293(0xa0a)]('')+_0x5dd293(0xaa5);},_0x385831=_0x3e0533[_0x2c8883(0x20e)](0x3),_0x353b1b=_0x385831[_0x2c8883(0x423)]>0x0?_0x2c8883(0xa9a)+_0x385831[_0x2c8883(0x921)]((_0x1db20a,_0x175399)=>{const _0x5c5fda=_0x2c8883,_0x582ca3=_0x1db20a[_0x5c5fda(0x8a2)]?_0x5c5fda(0xb02):'';return _0x5c5fda(0x6e3)+(_0x175399+0x4)+_0x5c5fda(0xa32)+_0x1db20a[_0x5c5fda(0xc6f)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x1db20a[_0x5c5fda(0x5c3)]+_0x5c5fda(0x530)+_0x582ca3+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x2c8883(0xa0a)]('')+_0x2c8883(0x507):'',_0x5e369b=_0x2c8883(0xc63)+(_0x3e0533[0x1]?_0x2c8883(0x603)+_0x3e0533[0x1][_0x2c8883(0xc6f)]+_0x2c8883(0x240)+_0x4b2772(_0x3e0533[0x1][_0x2c8883(0x6d3)])+_0x2c8883(0x896)+_0x3e0533[0x1][_0x2c8883(0x5c3)]+'\x20คะแนน\x20'+(_0x3e0533[0x1][_0x2c8883(0x8a2)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x2c8883(0xc83):_0x2c8883(0x6b2))+_0x2c8883(0xbe1)+(_0x3e0533[0x0]?_0x2c8883(0x995)+_0x3e0533[0x0]['name']+_0x2c8883(0x240)+_0x4b2772(_0x3e0533[0x0]['badges'])+_0x2c8883(0x591)+_0x3e0533[0x0][_0x2c8883(0x5c3)]+_0x2c8883(0x530)+(_0x3e0533[0x0]['hasPerfectScoreBonus']?_0x2c8883(0x495):'')+_0x2c8883(0x50d):'<div\x20class=\x22flex-1\x22></div>')+_0x2c8883(0xbe1)+(_0x3e0533[0x2]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x3e0533[0x2]['name']+_0x2c8883(0x240)+_0x4b2772(_0x3e0533[0x2]['badges'])+_0x2c8883(0x896)+_0x3e0533[0x2]['score']+_0x2c8883(0x530)+(_0x3e0533[0x2][_0x2c8883(0x8a2)]?_0x2c8883(0x495):'')+_0x2c8883(0xb67):_0x2c8883(0x6b2))+_0x2c8883(0x1ba)+_0x353b1b+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x2c8883(0xa9b)?_0x2c8883(0xaf7):_0x2c8883(0x51e))+_0x2c8883(0x237);liveGameView['innerHTML']=_0x5e369b,currentMode===_0x2c8883(0xa9b)&&document[_0x2c8883(0xa57)](_0x2c8883(0x172))[_0x2c8883(0x3f4)](_0x2c8883(0x1b1),async()=>{const _0xc10916=_0x2c8883;let _0x24d672;_0x28c578===_0xc10916(0xa2f)?_0x24d672=doc(db,_0xc10916(0xb79)+appId+_0xc10916(0x5a4),currentLiveGameId):_0x24d672=doc(db,'artifacts/'+appId+_0xc10916(0xac2),currentLiveGameId),await deleteDoc(_0x24d672);});}function renderSyncSummaryView(_0x1b9ad0,_0x278ba6,_0x3d9d26){const _0x46a91b=_0x3b29b2,_0x17c8a5=Object[_0x46a91b(0x4bb)](_0x1b9ad0[_0x46a91b(0x7d2)]||{}),_0xf1abdd=_0x278ba6[_0x46a91b(0x704)]||_0x1b9ad0[_0x46a91b(0xc2b)][_0x46a91b(0x573)];let _0x37a368=[];_0xf1abdd===_0x46a91b(0x421)?_0x37a368=[_0x46a91b(0x449),_0x46a91b(0x84c)]:_0x37a368=_0x278ba6[_0x46a91b(0x5a9)]||[];const _0x20bf9d=new Array(_0x37a368[_0x46a91b(0x423)])[_0x46a91b(0x2f5)](0x0),_0x4b192e={};_0x37a368['forEach']((_0x1490e1,_0x4e0f65)=>{_0x4b192e[_0x4e0f65]=[];}),Object[_0x46a91b(0xb3d)](_0x1b9ad0['players']||{})[_0x46a91b(0x9aa)](([_0x55c74c,_0x403def])=>{const _0x2bd783=_0x46a91b;if(_0x403def[_0x2bd783(0xbeb)]!==_0x2bd783(0xa71)&&_0x403def[_0x2bd783(0x1e9)]!==undefined&&_0x403def[_0x2bd783(0x1e9)]!==null){const _0x1e117c=_0x403def[_0x2bd783(0x1e9)];_0x4b192e[_0x1e117c]!==undefined&&(_0x4b192e[_0x1e117c]['push'](_0x55c74c),_0x20bf9d[_0x1e117c]++);}});let _0x1e6eb2='';_0x3d9d26?_0x1e6eb2=_0x46a91b(0xb5c):_0x1e6eb2=_0x46a91b(0x95b);const _0x4078af=_0x46a91b(0x9c3)+_0x278ba6['questionText']+_0x46a91b(0x981)+_0x20bf9d[_0x46a91b(0x921)]((_0x358bd8,_0x5f3145)=>{const _0xa37a15=_0x46a91b,_0x3be6da=_0x4b192e[_0x5f3145]['length']>0x0?_0x4b192e[_0x5f3145][_0xa37a15(0xa0a)](',\x20'):_0xa37a15(0x41d),_0x5cbb2b=_0xa37a15(0xc20);return _0xa37a15(0xb7f)+_0x358bd8+_0xa37a15(0x5b2)+_0x5cbb2b+_0xa37a15(0xc71)+_0x5f3145+_0xa37a15(0x28c)+_0x37a368[_0x5f3145]+_0xa37a15(0x34e)+_0x5f3145+_0xa37a15(0xb7d)+_0x3be6da+_0xa37a15(0x2bd);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1e6eb2+_0x46a91b(0x25b);liveGameView[_0x46a91b(0x2b3)]=_0x4078af;if(window[_0x46a91b(0x49e)])MathJax['typesetPromise']();_0x3d9d26&&(document['getElementById'](_0x46a91b(0x72b))[_0x46a91b(0x3f4)](_0x46a91b(0x1b1),async()=>{const _0x35a0c0=_0x46a91b,_0x140bad=doc(db,_0x35a0c0(0xb79)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x140bad,{'status':_0x35a0c0(0x422)});}),document[_0x46a91b(0xa57)](_0x46a91b(0x7fb))['onclick']=()=>{openScratchpad(_0x278ba6,_0x37a368);});}async function handleShowStudentRankings(){const _0x32b63d=_0x3b29b2,_0x3e1e65=document[_0x32b63d(0x1c1)]('#student-quiz-leaderboard-content\x20thead');_0x3e1e65&&(_0x3e1e65[_0x32b63d(0x2b3)]=_0x32b63d(0x466));const _0x42c0ed=document['querySelector'](_0x32b63d(0x8bc));_0x42c0ed&&(_0x42c0ed[_0x32b63d(0x2b3)]=_0x32b63d(0x7b9));const _0x1edf62=document[_0x32b63d(0xa57)]('student-rankings-modal');_0x1edf62['classList'][_0x32b63d(0xbb2)](_0x32b63d(0x3db)),document[_0x32b63d(0xa57)](_0x32b63d(0xad5))['onclick']=()=>_0x1edf62['classList']['add'](_0x32b63d(0x3db));const _0x516685=document[_0x32b63d(0xa57)]('student-quiz-leaderboard-tab'),_0x3168d5=document[_0x32b63d(0xa57)](_0x32b63d(0x77e)),_0x24c4a7=document[_0x32b63d(0xa57)](_0x32b63d(0xb76)),_0x1e35a6=document['getElementById']('student-project-leaderboard-content');_0x516685[_0x32b63d(0xbed)]=()=>{const _0x34b4e2=_0x32b63d;_0x516685['classList'][_0x34b4e2(0xb35)](_0x34b4e2(0x37e)),_0x3168d5[_0x34b4e2(0x6b0)]['remove']('active'),_0x24c4a7[_0x34b4e2(0x6b0)][_0x34b4e2(0xbb2)]('hidden'),_0x1e35a6['classList'][_0x34b4e2(0xb35)](_0x34b4e2(0x3db));},_0x3168d5['onclick']=()=>{const _0x4bec75=_0x32b63d;_0x3168d5[_0x4bec75(0x6b0)]['add'](_0x4bec75(0x37e)),_0x516685[_0x4bec75(0x6b0)][_0x4bec75(0xbb2)](_0x4bec75(0x37e)),_0x1e35a6[_0x4bec75(0x6b0)]['remove'](_0x4bec75(0x3db)),_0x24c4a7[_0x4bec75(0x6b0)][_0x4bec75(0xb35)](_0x4bec75(0x3db));};try{const _0x1628f9=collection(db,_0x32b63d(0xb79)+appId+_0x32b63d(0x689)+currentQuizData['id']+_0x32b63d(0x3d5)),_0x137464=await getDocs(_0x1628f9),_0x597520=_0x137464[_0x32b63d(0x8c5)][_0x32b63d(0x921)](_0x47d94b=>_0x47d94b[_0x32b63d(0x7a6)]());renderQuizLeaderboard(_0x597520,currentQuizData,_0x32b63d(0x75a));const _0x1aa863=collection(db,_0x32b63d(0xb79)+appId+_0x32b63d(0x527)+currentQuizData[_0x32b63d(0x13a)]+_0x32b63d(0xaac)),_0x4d27a2=await getDocs(_0x1aa863),_0x3cb74e=_0x4d27a2[_0x32b63d(0x8c5)][_0x32b63d(0x921)](_0x4615dd=>_0x4615dd[_0x32b63d(0x7a6)]());renderLeaderboard(_0x3cb74e,_0x32b63d(0x9df));}catch(_0x4fcc9f){console[_0x32b63d(0xc93)](_0x32b63d(0x329),_0x4fcc9f),showMessage(_0x32b63d(0x2d4));}}async function handleSaveToBank(_0x492995){const _0x2d2422=_0x3b29b2,_0x3b846c=_0x492995[_0x2d2422(0xb51)],_0x1356b8=_0x3b846c[_0x2d2422(0x43d)][_0x2d2422(0xb52)],_0x375657=currentQuizData[_0x2d2422(0x288)][_0x1356b8];if(!userId){showMessage(_0x2d2422(0x487));return;}try{const _0x554838={..._0x375657,'originalTopic':currentQuizData[_0x2d2422(0x13e)],'savedAt':serverTimestamp()},_0x5a90c6=collection(db,_0x2d2422(0xb79)+appId+_0x2d2422(0xb12)+userId+_0x2d2422(0xc57));await addDoc(_0x5a90c6,_0x554838),showMessage(_0x2d2422(0x9d0)),_0x3b846c[_0x2d2422(0x6b0)]['remove'](_0x2d2422(0x134)),_0x3b846c['classList'][_0x2d2422(0xb35)](_0x2d2422(0x116)),_0x3b846c['disabled']=!![];}catch(_0x5918dd){console[_0x2d2422(0xc93)](_0x2d2422(0x5a8),_0x5918dd),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function selectProjectAndGenerateBlueprintQuiz(_0x44ad3b,_0x1da057=null,_0xd75fad=null,_0x289c45=![]){const _0x4cec12=_0x3b29b2;cameFromBlueprint=!![];const _0x2a9b4d=document[_0x4cec12(0xa57)](_0x4cec12(0xae8))?.[_0x4cec12(0x6d4)]['trim']();let _0x4fe284=null;if(_0x2a9b4d){showMessage(_0x4cec12(0xaa0));try{const _0x11bc5f=await fetchFileFromUrl(_0x2a9b4d,_0x4cec12(0x1a9)),_0x3e3fcb=await new Promise((_0x3e662a,_0x937044)=>{const _0x17845f=_0x4cec12,_0x3f8ee8=new FileReader();_0x3f8ee8[_0x17845f(0x807)](_0x11bc5f),_0x3f8ee8[_0x17845f(0x569)]=()=>_0x3e662a(_0x3f8ee8[_0x17845f(0x4ce)][_0x17845f(0x853)](',')[0x1]),_0x3f8ee8[_0x17845f(0xc52)]=_0x937044;});_0x4fe284=[{'inlineData':{'mimeType':_0x11bc5f[_0x4cec12(0xc04)],'data':_0x3e3fcb}}],messageModal[_0x4cec12(0x6b0)][_0x4cec12(0xb35)](_0x4cec12(0x3db));}catch(_0x7ffab9){console[_0x4cec12(0xc93)](_0x4cec12(0x560),_0x7ffab9),showMessage(_0x4cec12(0x933));}}const _0x165c7a=document['getElementById']('move-quiz-modal'),_0x4f2af8=document['getElementById'](_0x4cec12(0xa26)),_0x2c4c72=_0x165c7a[_0x4cec12(0x1c1)]('h3'),_0x1c13e1=document['getElementById']('confirm-move-quiz-btn'),_0x267abe=document['getElementById'](_0x4cec12(0x118));_0x2c4c72['textContent']=_0x4cec12(0x56a),_0x1c13e1[_0x4cec12(0x63d)]=_0x4cec12(0x5b5),_0x1c13e1[_0x4cec12(0x267)]=!![];allProjects[_0x4cec12(0x423)]===0x0?_0x4f2af8[_0x4cec12(0x2b3)]=_0x4cec12(0x7e5):(_0x4f2af8[_0x4cec12(0x2b3)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects[_0x4cec12(0x921)](_0x1654f9=>_0x4cec12(0x93f)+_0x1654f9['id']+'\x22>'+_0x1654f9[_0x4cec12(0x234)]+_0x4cec12(0xca6))[_0x4cec12(0xa0a)](''),_0x1c13e1[_0x4cec12(0x267)]=![]);_0x165c7a[_0x4cec12(0x6b0)]['remove'](_0x4cec12(0x3db));const _0x226591=async()=>{const _0x270c87=_0x4cec12,_0x295cdf=_0x4f2af8['value'];if(!_0x295cdf){showMessage(_0x270c87(0xae3));return;}_0x165c7a[_0x270c87(0x6b0)][_0x270c87(0xb35)](_0x270c87(0x3db)),document[_0x270c87(0xa57)](_0x270c87(0x28f))[_0x270c87(0x6b0)][_0x270c87(0xb35)](_0x270c87(0x3db)),await loadProjectDetails(_0x295cdf),showView(_0x270c87(0x484)),handleGenerateQuizFromBlueprintTopic(_0x44ad3b,_0x1da057,_0x295cdf,_0xd75fad,_0x289c45,_0x4fe284),_0x5a4293();},_0x5a4293=()=>{const _0x595f02=_0x4cec12;_0x2c4c72[_0x595f02(0x63d)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x1c13e1[_0x595f02(0x63d)]=_0x595f02(0x290),_0x1c13e1['removeEventListener'](_0x595f02(0x1b1),_0x226591),_0x267abe[_0x595f02(0xbf9)](_0x595f02(0x1b1),_0x5a4293),_0x1c13e1[_0x595f02(0x3f4)]('click',confirmMoveQuiz);};_0x1c13e1['removeEventListener'](_0x4cec12(0x1b1),confirmMoveQuiz),_0x1c13e1['addEventListener']('click',_0x226591),_0x267abe['addEventListener'](_0x4cec12(0x1b1),_0x5a4293);}function listenForStarredQuizzes(){const _0x3dff2a=_0x3b29b2;if(!userId)return;const _0x5170d9=collection(db,_0x3dff2a(0xb79)+appId+'/public/data/quizzes'),_0x33e5cd=query(_0x5170d9,where(_0x3dff2a(0x368),'==',!![]));onSnapshot(_0x33e5cd,_0x4df98e=>{const _0x1dcad4=_0x3dff2a;starredQuizzes=_0x4df98e[_0x1dcad4(0x8c5)]['map'](_0x59019b=>({'id':_0x59019b['id'],..._0x59019b[_0x1dcad4(0x7a6)]()})),currentProjectId===_0x1dcad4(0x620)?renderQuizzes():renderProjects();},_0xf27f67=>{const _0x50e239=_0x3dff2a;console['error'](_0x50e239(0x88b),_0xf27f67);});}function listenForFileShortcuts(){const _0x10faaf=_0x3b29b2,_0xe6ea23=doc(db,'globalSettings',_0x10faaf(0x754));onSnapshot(_0xe6ea23,_0x54a9d2=>{const _0x2ed36c=_0x10faaf;let _0x4b6fee=[],_0x551d30=[],_0xa8bc40={};if(_0x54a9d2['exists']()){const _0x8ce019=_0x54a9d2[_0x2ed36c(0x7a6)]();_0x4b6fee=_0x8ce019[_0x2ed36c(0xa03)]||[],_0x551d30=_0x8ce019[_0x2ed36c(0x1dd)]||[],_0xa8bc40=_0x8ce019[_0x2ed36c(0x283)]||{};}!_0x551d30[_0x2ed36c(0xc0d)](_0x26516f=>_0x26516f['id']==='all')&&_0x551d30[_0x2ed36c(0x5f7)]({'id':_0x2ed36c(0x6e1),'name':_0x2ed36c(0x79d),'isDefault':!![]}),!_0x4b6fee[_0x2ed36c(0xc0d)](_0x34cdd3=>_0x34cdd3['id']===_0x2ed36c(0x4df))&&_0x4b6fee['unshift']({'id':_0x2ed36c(0x4df),'name':_0x2ed36c(0x6ec),'url':'','isDefault':!![]}),!_0x4b6fee[_0x2ed36c(0xc0d)](_0x13e8b8=>_0x13e8b8['id']===_0x2ed36c(0x627))&&_0x4b6fee[_0x2ed36c(0x5f7)]({'id':_0x2ed36c(0x627),'name':'ไฟล์ลัด\x202','url':'','isDefault':!![]}),fileShortcuts=_0x4b6fee,fileShortcutTabs=_0x551d30,fileShortcutOrder=_0xa8bc40,renderFileShortcuts(),!document[_0x2ed36c(0xa57)](_0x2ed36c(0x584))[_0x2ed36c(0x6b0)][_0x2ed36c(0x7a2)]('hidden')&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x46eb74=_0x3b29b2,_0x277440=doc(db,_0x46eb74(0x522),_0x46eb74(0x754));try{await setDoc(_0x277440,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x567f20){console[_0x46eb74(0xc93)](_0x46eb74(0xa29),_0x567f20);}}function renderAdditionalFileShortcutsModal(){const _0x1fdfbd=_0x3b29b2,_0x22ee32=document[_0x1fdfbd(0xa57)]('file-shortcut-tabs-nav'),_0x48adfb=document['getElementById']('additional-file-shortcuts-list');if(!_0x22ee32||!_0x48adfb)return;_0x22ee32[_0x1fdfbd(0x2b3)]=fileShortcutTabs['map'](_0x2239a3=>{const _0x478c7d=_0x1fdfbd,_0xabc638=_0x2239a3['id']===activeFileShortcutTabId;return _0x478c7d(0x4a2)+_0x2239a3['id']+'\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0xabc638?'border-indigo-500\x20text-indigo-600':_0x478c7d(0x18d))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x2239a3[_0x478c7d(0xc6f)]+_0x478c7d(0x84f)+_0x2239a3[_0x478c7d(0xc6f)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x2239a3[_0x478c7d(0x120)]?_0x478c7d(0x9f7)+_0x2239a3['id']+_0x478c7d(0x965):'')+_0x478c7d(0x8a0);})[_0x1fdfbd(0xa0a)]('');const _0x43323c=fileShortcutTabs[_0x1fdfbd(0xc0d)](_0x36d0d2=>_0x36d0d2['id']===activeFileShortcutTabId);let _0x48b519=_0x43323c?.[_0x1fdfbd(0x120)]?[...fileShortcuts]:fileShortcuts[_0x1fdfbd(0x36d)](_0x11542e=>(_0x43323c?.[_0x1fdfbd(0xa92)]||[])[_0x1fdfbd(0x4c8)](_0x11542e['id']));const _0x53f030=fileShortcutOrder[activeFileShortcutTabId]||[];_0x48b519[_0x1fdfbd(0x445)]((_0x5df54c,_0x2dd273)=>{const _0x2ecb77=_0x1fdfbd,_0x16deee=_0x53f030[_0x2ecb77(0x61c)](_0x5df54c['id']),_0x3fa728=_0x53f030[_0x2ecb77(0x61c)](_0x2dd273['id']);return(_0x16deee===-0x1?Infinity:_0x16deee)-(_0x3fa728===-0x1?Infinity:_0x3fa728);}),_0x48adfb[_0x1fdfbd(0x2b3)]=_0x48b519[_0x1fdfbd(0x921)](_0x343278=>{const _0x448173=_0x1fdfbd,_0x1a4972=_0x343278[_0x448173(0x5e0)]?'📄':'🔗',_0x4d5ddd=fileShortcutTabs[_0x448173(0x36d)](_0x4f1bc4=>!_0x4f1bc4[_0x448173(0x120)]),_0x5d9a52=_0x43323c[_0x448173(0x120)]&&_0x4d5ddd[_0x448173(0x423)]>0x0?_0x448173(0x894)+_0x4d5ddd[_0x448173(0x921)](_0x2108e2=>_0x448173(0x334)+_0x343278['id']+_0x448173(0x993)+_0x2108e2['id']+'\x22>'+_0x2108e2[_0x448173(0xc6f)]+_0x448173(0x17c))[_0x448173(0xa0a)]('')+_0x448173(0x229):'';return _0x448173(0x856)+_0x343278['id']+_0x448173(0xaf1)+_0x1a4972+'\x20'+_0x343278[_0x448173(0xc6f)]+_0x448173(0x138)+_0x343278['id']+_0x448173(0x5e8)+_0x343278['id']+_0x448173(0x34f)+(!_0x343278['isDefault']?_0x448173(0x80e)+_0x343278['id']+_0x448173(0xc8f):'')+_0x448173(0x2bb)+(!_0x43323c[_0x448173(0x120)]?_0x448173(0x395)+_0x343278['id']+'\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x448173(0x2bb)+_0x5d9a52+_0x448173(0xa5f);})[_0x1fdfbd(0xa0a)]('')||'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x42a305=_0x3b29b2;document[_0x42a305(0x3cf)]('.file-shortcut-tab-btn')[_0x42a305(0x9aa)](_0x5c0394=>{const _0xc9c021=_0x42a305;_0x5c0394[_0xc9c021(0xbed)]=_0x4c30a3=>{const _0x3ca779=_0xc9c021;activeFileShortcutTabId=_0x4c30a3[_0x3ca779(0xb51)][_0x3ca779(0x43d)]['tabId'],renderAdditionalFileShortcutsModal();},_0x5c0394[_0xc9c021(0xb55)]=_0x5b03ae=>{const _0x4383f0=_0xc9c021,_0x1605f4=_0x5b03ae[_0x4383f0(0xb51)][_0x4383f0(0x1c1)](_0x4383f0(0x34b));_0x5b03ae['currentTarget'][_0x4383f0(0x1c1)](_0x4383f0(0x8a5))[_0x4383f0(0x6b0)]['add'](_0x4383f0(0x3db)),_0x1605f4[_0x4383f0(0x6b0)]['remove'](_0x4383f0(0x3db)),_0x1605f4[_0x4383f0(0xac9)](),_0x1605f4[_0x4383f0(0xcb3)]();};}),document[_0x42a305(0x3cf)](_0x42a305(0x70c))[_0x42a305(0x9aa)](_0x599609=>{const _0x5d59f0=_0x42a305,_0x32ee10=()=>{const _0x44b90f=_0x376a,_0x5b7250=_0x599609[_0x44b90f(0xcac)]('.file-shortcut-tab-btn')[_0x44b90f(0x43d)][_0x44b90f(0x7dd)],_0x53e533=fileShortcutTabs[_0x44b90f(0xc0d)](_0x540167=>_0x540167['id']===_0x5b7250);_0x53e533&&(_0x53e533[_0x44b90f(0xc6f)]=_0x599609[_0x44b90f(0x6d4)][_0x44b90f(0x9bb)]()||_0x53e533[_0x44b90f(0xc6f)],saveFileShortcutConfig());};_0x599609[_0x5d59f0(0x497)]=_0x32ee10,_0x599609[_0x5d59f0(0x6e5)]=_0x417368=>{const _0x3728a0=_0x5d59f0;if(_0x417368[_0x3728a0(0x60e)]===_0x3728a0(0x967))_0x599609['blur']();};}),document[_0x42a305(0x3cf)](_0x42a305(0x939))[_0x42a305(0x9aa)](_0x3ad505=>_0x3ad505[_0x42a305(0xbed)]=_0x28ddf1=>{const _0x24c87d=_0x42a305,_0x18d19e=_0x28ddf1[_0x24c87d(0xb51)][_0x24c87d(0x43d)][_0x24c87d(0x7dd)];showConfirmation(_0x24c87d(0xc0a),()=>{const _0x53d3ea=_0x24c87d;fileShortcutTabs=fileShortcutTabs[_0x53d3ea(0x36d)](_0x19c076=>_0x19c076['id']!==_0x18d19e),delete fileShortcutOrder[_0x18d19e];if(activeFileShortcutTabId===_0x18d19e)activeFileShortcutTabId=_0x53d3ea(0x6e1);saveFileShortcutConfig();});}),document[_0x42a305(0x3cf)]('.move-file-shortcut-item')[_0x42a305(0x9aa)](_0x38b4e1=>_0x38b4e1[_0x42a305(0xbed)]=_0x2ef4f6=>{const _0x470e3f=_0x42a305;_0x2ef4f6[_0x470e3f(0x206)]();const {shortcutId:_0x2fe55c,targetTabId:_0x4b5e49}=_0x2ef4f6[_0x470e3f(0xb51)][_0x470e3f(0x43d)],_0x2d92a3=fileShortcutTabs[_0x470e3f(0xc0d)](_0x3c6263=>_0x3c6263['id']===_0x4b5e49);_0x2d92a3&&!_0x2d92a3[_0x470e3f(0xa92)]['includes'](_0x2fe55c)&&(_0x2d92a3['shortcutIds']['push'](_0x2fe55c),saveFileShortcutConfig());}),document[_0x42a305(0x3cf)](_0x42a305(0x647))[_0x42a305(0x9aa)](_0x363fa0=>_0x363fa0['onclick']=_0x9197df=>{const _0x704b08=_0x42a305,_0x2a2f0d=_0x9197df['currentTarget'][_0x704b08(0x43d)]['shortcutId'],_0x4c0e45=fileShortcutTabs[_0x704b08(0xc0d)](_0x4a0e3e=>_0x4a0e3e['id']===activeFileShortcutTabId);_0x4c0e45&&!_0x4c0e45['isDefault']&&(_0x4c0e45[_0x704b08(0xa92)]=_0x4c0e45['shortcutIds'][_0x704b08(0x36d)](_0x363873=>_0x363873!==_0x2a2f0d),saveFileShortcutConfig());}),document[_0x42a305(0x3cf)](_0x42a305(0x442))[_0x42a305(0x9aa)](_0x433f0e=>_0x433f0e[_0x42a305(0xbed)]=_0x132675=>{const _0x42de24=_0x42a305;_0x132675[_0x42de24(0x160)]();const _0x29b0c9=_0x132675[_0x42de24(0xb51)][_0x42de24(0xae4)];document['querySelectorAll'](_0x42de24(0x7b7))['forEach'](_0xc6a67b=>_0xc6a67b[_0x42de24(0x6b0)][_0x42de24(0xb35)](_0x42de24(0x3db))),_0x29b0c9['classList'][_0x42de24(0xbb2)](_0x42de24(0x3db));});const _0x4bd814=document['getElementById'](_0x42a305(0x949));let _0xedcbe0=null;_0x4bd814['ondragstart']=_0x463a98=>{const _0x56be37=_0x42a305;_0xedcbe0=_0x463a98[_0x56be37(0x408)][_0x56be37(0xcac)](_0x56be37(0x6c2));if(_0xedcbe0)setTimeout(()=>_0xedcbe0[_0x56be37(0x6b0)][_0x56be37(0xb35)](_0x56be37(0xc18)),0x0);},_0x4bd814[_0x42a305(0xbb9)]=()=>{const _0x2936bb=_0x42a305;_0xedcbe0&&(_0xedcbe0[_0x2936bb(0x6b0)]['remove'](_0x2936bb(0xc18)),_0xedcbe0=null);},_0x4bd814[_0x42a305(0x37a)]=_0x321aec=>{const _0x239401=_0x42a305;_0x321aec[_0x239401(0x206)]();},_0x4bd814['ondrop']=_0x1be1e5=>{const _0x39dcf8=_0x42a305;_0x1be1e5[_0x39dcf8(0x206)]();if(_0xedcbe0){const _0x102956=[..._0x4bd814[_0x39dcf8(0x3cf)](_0x39dcf8(0x961))][_0x39dcf8(0x4a8)]((_0x53a6eb,_0x318b9f)=>{const _0x1cb896=_0x39dcf8,_0x537ab3=_0x318b9f[_0x1cb896(0x41e)](),_0xd0c442=_0x1be1e5[_0x1cb896(0x583)]-_0x537ab3[_0x1cb896(0x29b)]-_0x537ab3[_0x1cb896(0x4bd)]/0x2;return _0xd0c442<0x0&&_0xd0c442>_0x53a6eb[_0x1cb896(0x927)]?{'offset':_0xd0c442,'element':_0x318b9f}:_0x53a6eb;},{'offset':Number[_0x39dcf8(0x11a)]})[_0x39dcf8(0x99a)];_0x102956==null?_0x4bd814[_0x39dcf8(0x95e)](_0xedcbe0):_0x4bd814[_0x39dcf8(0x50b)](_0xedcbe0,_0x102956);const _0x47ada2=[..._0x4bd814['querySelectorAll'](_0x39dcf8(0x6c2))][_0x39dcf8(0x921)](_0x12195b=>_0x12195b[_0x39dcf8(0x43d)][_0x39dcf8(0xba6)]);fileShortcutOrder[activeFileShortcutTabId]=_0x47ada2,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0xbbea8d=_0x3b29b2,_0x50b39c=prompt(_0xbbea8d(0xbe2),_0xbbea8d(0x720));_0x50b39c&&_0x50b39c[_0xbbea8d(0x9bb)]()&&(fileShortcutTabs[_0xbbea8d(0x4aa)]({'id':_0xbbea8d(0x49f)+Date['now'](),'name':_0x50b39c[_0xbbea8d(0x9bb)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x31d9d9=_0x3b29b2,_0xdc346f=document[_0x31d9d9(0xa57)]('file-shortcut-container'),_0xbf3202=document['getElementById'](_0x31d9d9(0x949)),_0x1fdafe=document[_0x31d9d9(0xa57)](_0x31d9d9(0x6ad));if(_0x1fdafe)_0x1fdafe['classList'][_0x31d9d9(0xb35)](_0x31d9d9(0x3db));if(!_0xdc346f||!_0xbf3202)return;const _0x3c78c9=fileShortcuts[_0x31d9d9(0x20e)](0x0,0x4),_0xba3796=fileShortcuts[_0x31d9d9(0x20e)](0x4);_0xdc346f['innerHTML']=_0x3c78c9[_0x31d9d9(0x921)](_0x233fb2=>{const _0x2a89e2=_0x31d9d9,_0x22274e=_0x233fb2['url']&&_0x233fb2[_0x2a89e2(0x5e0)][_0x2a89e2(0x9bb)]()!=='',_0x2546a5=selectedFile&&selectedFile[_0x2a89e2(0xba6)]===_0x233fb2['id'];let _0x571960=_0x2a89e2(0x1d8),_0x413f7d='🔗';if(_0x2546a5)_0x571960='bg-green-600\x20text-white\x20ring-4\x20ring-green-300',_0x413f7d=_0x2a89e2(0x1ea);else _0x22274e&&(_0x571960=_0x2a89e2(0x72c),_0x413f7d='📄');const _0x50b82e=!_0x233fb2[_0x2a89e2(0x120)]?'<button\x20data-id=\x22'+_0x233fb2['id']+'\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x2a89e2(0xc38)+_0x233fb2['id']+_0x2a89e2(0x37b)+_0x571960+_0x2a89e2(0x533)+_0x413f7d+_0x2a89e2(0x33f)+_0x233fb2['name']+_0x2a89e2(0x5e1)+_0x233fb2['id']+_0x2a89e2(0xafd)+_0x50b82e+_0x2a89e2(0xc3f);})[_0x31d9d9(0xa0a)](''),_0xba3796['length']>0x0&&(_0xdc346f['innerHTML']+=_0x31d9d9(0x113)),_0xba3796[_0x31d9d9(0x423)]>0x0?_0xbf3202[_0x31d9d9(0x2b3)]=_0xba3796['map'](_0x30bc62=>_0x31d9d9(0x4e6)+(_0x30bc62[_0x31d9d9(0x5e0)]?'📄':'🔗')+'\x20'+_0x30bc62[_0x31d9d9(0xc6f)]+_0x31d9d9(0x249)+_0x30bc62['id']+_0x31d9d9(0x7d6)+_0x30bc62['id']+_0x31d9d9(0xb57)+(!_0x30bc62[_0x31d9d9(0x120)]?_0x31d9d9(0x80e)+_0x30bc62['id']+_0x31d9d9(0xc8f):'')+_0x31d9d9(0x3b1))[_0x31d9d9(0xa0a)](''):_0xbf3202[_0x31d9d9(0x2b3)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function openFileShortcutEditor(_0x47d9bb=null){const _0x632292=_0x3b29b2,_0x26d95c=document[_0x632292(0xa57)]('file-shortcut-editor-modal'),_0x39126e=document['getElementById'](_0x632292(0x60d)),_0x3bd4b6=document[_0x632292(0xa57)](_0x632292(0x8c8)),_0x38e469=document[_0x632292(0xa57)](_0x632292(0xc61)),_0x5296ee=document[_0x632292(0xa57)](_0x632292(0x871));if(_0x47d9bb){const _0x572c23=fileShortcuts['find'](_0x174b86=>_0x174b86['id']===_0x47d9bb);if(!_0x572c23)return;_0x39126e[_0x632292(0x63d)]=_0x632292(0x4f8),_0x3bd4b6['value']=_0x572c23['id'],_0x38e469['value']=_0x572c23[_0x632292(0xc6f)],_0x5296ee['value']=_0x572c23[_0x632292(0x5e0)]||'';}else _0x39126e[_0x632292(0x63d)]=_0x632292(0xa98),_0x3bd4b6['value']='',_0x38e469[_0x632292(0x6d4)]='',_0x5296ee['value']='';_0x26d95c[_0x632292(0x6b0)]['remove']('hidden');}async function saveFileShortcutChanges(){const _0x4f8690=_0x3b29b2,_0x29613a=document[_0x4f8690(0xa57)](_0x4f8690(0x8c8))[_0x4f8690(0x6d4)],_0x1fdc5c=document[_0x4f8690(0xa57)](_0x4f8690(0xc61))['value'][_0x4f8690(0x9bb)](),_0xab80c9=document[_0x4f8690(0xa57)]('file-shortcut-url-input')['value'][_0x4f8690(0x9bb)]();if(!_0x1fdc5c){showMessage(_0x4f8690(0xa69));return;}const _0x4117bb={'id':_0x29613a||_0x4f8690(0x244)+Date[_0x4f8690(0x8d7)](),'name':_0x1fdc5c,'url':_0xab80c9,'isDefault':_0x29613a['startsWith'](_0x4f8690(0xaa3))};let _0x5bad4b;_0x29613a?_0x5bad4b=fileShortcuts[_0x4f8690(0x921)](_0x27600b=>_0x27600b['id']===_0x29613a?_0x4117bb:_0x27600b):_0x5bad4b=[...fileShortcuts,_0x4117bb];try{const _0x37fae9=doc(db,_0x4f8690(0x522),_0x4f8690(0x754));await setDoc(_0x37fae9,{'shortcuts':_0x5bad4b},{'merge':!![]}),document[_0x4f8690(0xa57)](_0x4f8690(0xac0))[_0x4f8690(0x6b0)]['add'](_0x4f8690(0x3db));}catch(_0x6ec927){console['error'](_0x4f8690(0x3a9),_0x6ec927),showMessage(_0x4f8690(0x550));}}async function handleFileShortcutClick(_0x2f9a9e){const _0x4fb967=_0x3b29b2,_0x1b410a=fileShortcuts['find'](_0x42154d=>_0x42154d['id']===_0x2f9a9e);if(!_0x1b410a)return;if(!_0x1b410a[_0x4fb967(0x5e0)]||_0x1b410a['url'][_0x4fb967(0x9bb)]()===''){openFileShortcutEditor(_0x2f9a9e);return;}const _0x28b057=document['querySelector'](_0x4fb967(0x366)+_0x2f9a9e+'\x22]');if(_0x28b057){const _0x1cf674=_0x28b057['innerHTML'];_0x28b057['innerHTML']=_0x4fb967(0x3dd),_0x28b057['disabled']=!![];}document[_0x4fb967(0x3cf)]('.file-shortcut-btn')['forEach'](_0x5ed565=>{const _0x2494d1=_0x4fb967;if(_0x5ed565[_0x2494d1(0x43d)]['id']!==_0x2f9a9e)_0x5ed565['classList'][_0x2494d1(0xb35)](_0x2494d1(0xc18),_0x2494d1(0x775));});try{const _0x165267=new URL(_0x1b410a['url'])[_0x4fb967(0x415)],_0x5dd337=_0x165267[_0x4fb967(0x333)](_0x165267[_0x4fb967(0x567)]('/')+0x1)||(_0x1b410a[_0x4fb967(0x5e0)][_0x4fb967(0x4c8)](_0x4fb967(0x801))?'file.txt':_0x4fb967(0x518)),_0x6c7d4a=await fetchFileFromUrl(_0x1b410a[_0x4fb967(0x5e0)],_0x5dd337);_0x6c7d4a[_0x4fb967(0xba6)]=_0x2f9a9e,selectedFile=_0x6c7d4a,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x4fb967(0xa57)](_0x4fb967(0x857))['scrollIntoView']({'behavior':_0x4fb967(0x61f),'block':_0x4fb967(0x1d1)});}catch(_0x3f5204){console[_0x4fb967(0xc93)](_0x4fb967(0x197),_0x3f5204),showMessage(_0x4fb967(0xb95)+_0x3f5204['message']),renderFileShortcuts();}finally{document[_0x4fb967(0x3cf)](_0x4fb967(0x85f))[_0x4fb967(0x9aa)](_0x32a809=>{const _0x4695fc=_0x4fb967;_0x32a809[_0x4695fc(0x6b0)]['remove'](_0x4695fc(0xc18),_0x4695fc(0x775)),_0x32a809[_0x4695fc(0x267)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x1e55c5=_0x3b29b2;if(allQuizzesGlobal[_0x1e55c5(0x423)]>0x0)return;console[_0x1e55c5(0x886)](_0x1e55c5(0x743)),showMessage(_0x1e55c5(0x526));try{const _0x594895=await getDocs(collection(db,_0x1e55c5(0xb79)+appId+_0x1e55c5(0x53a)));allQuizzesGlobal=_0x594895[_0x1e55c5(0x8c5)]['map'](_0x465cc6=>({'id':_0x465cc6['id'],..._0x465cc6[_0x1e55c5(0x7a6)]()})),console[_0x1e55c5(0x886)]('Loaded\x20'+allQuizzesGlobal[_0x1e55c5(0x423)]+_0x1e55c5(0x700)),messageModal[_0x1e55c5(0x6b0)][_0x1e55c5(0xb35)](_0x1e55c5(0x3db));}catch(_0x462472){console['error']('Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.',_0x462472),messageModal[_0x1e55c5(0x6b0)][_0x1e55c5(0xb35)](_0x1e55c5(0x3db));throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0x50202b=_0x3b29b2;if(!currentQuizData||!currentQuizData['questions']){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x1dbd14=currentQuizData,_0x277314=window[_0x50202b(0x1fe)]('',_0x50202b(0x2b1)),_0x503a79=_0x57c516=>String[_0x50202b(0x1bc)](0x41+_0x57c516),_0x576a81='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x1dbd14[_0x50202b(0x13e)]+_0x50202b(0xcb4)+_0x1dbd14['topic']+_0x50202b(0xb38)+_0x1dbd14[_0x50202b(0x288)]['map']((_0x249e45,_0x50a778)=>{const _0x25e563=_0x50202b;let _0x351c96='';const _0x5ef2b2=_0x249e45[_0x25e563(0x704)]||_0x1dbd14[_0x25e563(0x573)];switch(_0x5ef2b2){case _0x25e563(0xbbc):case _0x25e563(0xadd):_0x351c96=_0x25e563(0xb43)+_0x249e45[_0x25e563(0x5a9)][_0x25e563(0x921)]((_0x385580,_0x19805d)=>_0x25e563(0x6b8)+_0x503a79(_0x19805d)+'.\x20'+_0x385580+_0x25e563(0xa89))[_0x25e563(0xa0a)]('<br>')+_0x25e563(0xaa5);break;case _0x25e563(0x421):_0x351c96=_0x25e563(0x5f2);break;default:_0x351c96='<div\x20class=\x22answer-space\x22></div>';break;}return _0x25e563(0x3da)+(_0x50a778+0x1)+_0x25e563(0x46f)+(_0x249e45[_0x25e563(0xc65)]||_0x249e45['questionText'])+_0x25e563(0x60b)+(_0x249e45['imageCode']?'<div\x20class=\x22my-2\x22>'+_0x249e45['imageCode']+_0x25e563(0xaa5):'')+_0x25e563(0x84b)+_0x351c96+_0x25e563(0xa54);})['join']('')+_0x50202b(0x482);_0x277314[_0x50202b(0xb5d)][_0x50202b(0x7cc)](_0x576a81),_0x277314['document'][_0x50202b(0x7f2)](),_0x277314[_0x50202b(0x569)]=function(){setTimeout(()=>{const _0x286511=_0x376a;_0x277314[_0x286511(0x178)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0xedccb=_0x3b29b2;if(!currentQuizData||!currentQuizData[_0xedccb(0x288)]){showMessage(_0xedccb(0xa97));return;}const _0x47f406=currentQuizData,_0x3b307f=window[_0xedccb(0x1fe)]('',_0xedccb(0x2b1)),_0x57cce5=_0x237e49=>String['fromCharCode'](0x41+_0x237e49),_0x2bcae3=_0xedccb(0xb36)+_0x47f406[_0xedccb(0x13e)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x47f406['questions'][_0xedccb(0x921)]((_0xca2bf6,_0x1abd6c)=>{const _0x129cc9=_0xedccb;let _0x22eb43='';const _0x215d4f=_0xca2bf6[_0x129cc9(0x704)]||_0x47f406[_0x129cc9(0x573)];switch(_0x215d4f){case _0x129cc9(0xbbc):case _0x129cc9(0xadd):_0x22eb43=_0x129cc9(0xa6c)+_0xca2bf6[_0x129cc9(0x5a9)]['map']((_0x22dcf3,_0x2411b3)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x57cce5(_0x2411b3)+'.\x20'+_0x22dcf3+_0x129cc9(0xbf2))['join'](_0x129cc9(0x752))+_0x129cc9(0xb90);break;case'true_false':_0x22eb43=_0x129cc9(0x5aa);break;default:_0x22eb43='';break;}return _0x129cc9(0xbfe)+_0x47f406[_0x129cc9(0x13e)]+_0x129cc9(0x58e)+(_0x1abd6c+0x1)+_0x129cc9(0xb8a)+(_0xca2bf6['stem']||_0xca2bf6['questionText'])+_0x129cc9(0x60b)+(_0xca2bf6[_0x129cc9(0xa5d)]?_0x129cc9(0x3ea)+_0xca2bf6[_0x129cc9(0xa5d)]+_0x129cc9(0xaa5):'')+_0x129cc9(0x84b)+_0x22eb43+_0x129cc9(0x145);})[_0xedccb(0xa0a)]('')+_0xedccb(0x216);_0x3b307f[_0xedccb(0xb5d)][_0xedccb(0x7cc)](_0x2bcae3),_0x3b307f['document'][_0xedccb(0x7f2)](),_0x3b307f['onload']=function(){setTimeout(()=>{const _0x57a120=_0x376a;_0x3b307f[_0x57a120(0x178)]();},0x5dc);};}async function handleToggleStarQuiz(_0xcbf291){const _0x54f60d=_0x3b29b2,_0x456b9d=doc(db,_0x54f60d(0xb79)+appId+'/public/data/quizzes',_0xcbf291);try{const _0x49e063=await getDoc(_0x456b9d);if(_0x49e063['exists']()){const _0x1f8160=_0x49e063[_0x54f60d(0x7a6)]()['isStarred']||![];await updateDoc(_0x456b9d,{'isStarred':!_0x1f8160});}}catch(_0x446293){console[_0x54f60d(0xc93)](_0x54f60d(0x2ea),_0x446293),showMessage(_0x54f60d(0x8b5));}}async function displayQuestionBank(){const _0x5960de=_0x3b29b2,_0x4741ca=document['getElementById'](_0x5960de(0x923));_0x4741ca[_0x5960de(0x2b3)]=_0x5960de(0xa68);try{const _0x5cd9e4=collection(db,_0x5960de(0xb79)+appId+_0x5960de(0xb12)+userId+_0x5960de(0xc57)),_0x4bfa80=query(_0x5cd9e4),_0x139e00=await getDocs(_0x4bfa80);if(_0x139e00[_0x5960de(0xab0)]){_0x4741ca[_0x5960de(0x2b3)]=_0x5960de(0x417);return;}let _0xa6ccc=_0x139e00[_0x5960de(0x8c5)][_0x5960de(0x921)](_0x5e037b=>{const _0x562327=_0x5960de,_0x31389e=_0x5e037b[_0x562327(0x7a6)](),_0x2c7e7e=_0x5e037b['id'];return _0x562327(0x3f1)+JSON[_0x562327(0xc54)](_0x31389e)+_0x562327(0x42b)+(_0x31389e['questionText']||_0x31389e['stem'])+_0x562327(0x7d8)+_0x31389e['originalTopic']+_0x562327(0xbe8);})[_0x5960de(0xa0a)]('');_0x4741ca[_0x5960de(0x2b3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0xa6ccc+_0x5960de(0x250),document['getElementById'](_0x5960de(0x260))[_0x5960de(0x3f4)](_0x5960de(0x1b1),createQuizFromBank);}catch(_0x100648){console[_0x5960de(0xc93)](_0x5960de(0x299),_0x100648),_0x4741ca[_0x5960de(0x2b3)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}async function handleExportLessonToPDF(){const _0x586ffa=_0x3b29b2,_0x3b7f87=document['getElementById'](_0x586ffa(0x4ec)),_0x838bd0=document[_0x586ffa(0xa57)]('lesson-view-title')[_0x586ffa(0x63d)]||_0x586ffa(0x15a);if(!_0x3b7f87){showMessage(_0x586ffa(0x11f));return;}const _0x654ae3=window[_0x586ffa(0x1fe)]('',_0x586ffa(0x2b1)),_0x46ea20=_0x586ffa(0xb14)+_0x838bd0+_0x586ffa(0x86a)+_0x838bd0+_0x586ffa(0x988)+_0x3b7f87['innerHTML']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x654ae3['document'][_0x586ffa(0x7cc)](_0x46ea20),_0x654ae3[_0x586ffa(0xb5d)]['close'](),_0x654ae3[_0x586ffa(0x569)]=function(){setTimeout(()=>{const _0x20aa6=_0x376a;_0x654ae3[_0x20aa6(0x178)]();},0x7d0);};}function showAdminLiveQuestionView(_0x5ebd6f,_0x554909,_0x4e2696){const _0x565b64=_0x3b29b2,_0x546295=_0x5ebd6f[_0x565b64(0x704)]||currentQuizData[_0x565b64(0x573)];let _0x5514c5='';if(_0x546295===_0x565b64(0xbbc)||_0x546295===_0x565b64(0x421)){const _0x471f36=_0x546295===_0x565b64(0x421)?['ใช่',_0x565b64(0x749)]:_0x5ebd6f[_0x565b64(0x5a9)],_0x561cf6=_0x546295===_0x565b64(0x421)?_0x5ebd6f['correctAnswer']?0x0:0x1:_0x5ebd6f[_0x565b64(0x6c9)];_0x5514c5=_0x471f36[_0x565b64(0x921)]((_0xe7c9f4,_0xe01187)=>_0x565b64(0xa88)+(_0xe01187===_0x561cf6)+_0x565b64(0x4e4)+_0xe7c9f4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x565b64(0xa0a)]('');}else{if(_0x546295===_0x565b64(0x8bb)){const _0x3902c2=_0x5ebd6f[_0x565b64(0x889)]||[];_0x5514c5=_0x3902c2[_0x565b64(0x921)](_0x4bc59e=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x4bc59e===_0x5ebd6f[_0x565b64(0x4a4)])+_0x565b64(0x4e4)+_0x4bc59e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x565b64(0xa0a)]('');}}const _0x5326ad=_0x5ebd6f[_0x565b64(0xc65)]||_0x5ebd6f[_0x565b64(0xc1c)],_0xed930a=_0x565b64(0x908)+(_0x554909+0x1)+'\x20/\x20'+_0x4e2696+_0x565b64(0x7c2)+currentLiveGamePin+_0x565b64(0xbc1)+_0x5326ad+_0x565b64(0x2ee)+_0x5514c5+_0x565b64(0x14f);liveGameView[_0x565b64(0x2b3)]=_0xed930a,window[_0x565b64(0x49e)]&&MathJax['typesetPromise']&&MathJax['typesetPromise']([liveGameView]),document[_0x565b64(0xa57)](_0x565b64(0x56c))[_0x565b64(0x3f4)]('click',()=>revealAnswerForAdmin(_0x554909,_0x4e2696)),document[_0x565b64(0xa57)](_0x565b64(0xac4))[_0x565b64(0x3f4)]('click',async()=>{const _0x212dc0=_0x565b64;showConfirmation(_0x212dc0(0x608),async()=>{const _0xc2bf19=_0x212dc0,_0x24f8e1=doc(db,_0xc2bf19(0xb79)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x24f8e1,{'status':'podium'});});}),document[_0x565b64(0xa57)](_0x565b64(0x675))[_0x565b64(0x3f4)](_0x565b64(0x1b1),()=>{const _0x59fefa=_0x565b64;document[_0x59fefa(0xa57)]('live-player-management')[_0x59fefa(0x6b0)]['toggle'](_0x59fefa(0x3db));});}function promptForProjectBeforeGenerating(_0x3dda38){const _0x41f44d=_0x3b29b2,_0x2ba03e=document[_0x41f44d(0xa57)](_0x41f44d(0x21c)),_0xb60d6a=document[_0x41f44d(0xa57)]('move-quiz-project-select'),_0x1b82cb=_0x2ba03e[_0x41f44d(0x1c1)]('h3'),_0x152646=document[_0x41f44d(0xa57)]('confirm-move-quiz-btn'),_0x6c24f=document[_0x41f44d(0xa57)](_0x41f44d(0x118));_0x1b82cb[_0x41f44d(0x63d)]=_0x41f44d(0x56a),_0x152646[_0x41f44d(0x63d)]=_0x41f44d(0x5b5),_0x152646[_0x41f44d(0x267)]=!![];allProjects[_0x41f44d(0x423)]===0x0?_0xb60d6a[_0x41f44d(0x2b3)]='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0xb60d6a[_0x41f44d(0x2b3)]=_0x41f44d(0x23e)+allProjects[_0x41f44d(0x921)](_0x24477a=>_0x41f44d(0x93f)+_0x24477a['id']+'\x22>'+_0x24477a[_0x41f44d(0x234)]+_0x41f44d(0xca6))[_0x41f44d(0xa0a)](''),_0x152646[_0x41f44d(0x267)]=![]);_0x2ba03e[_0x41f44d(0x6b0)][_0x41f44d(0xbb2)](_0x41f44d(0x3db));const _0x31eb1f=async()=>{const _0x479c7a=_0x41f44d,_0x34e560=_0xb60d6a[_0x479c7a(0x6d4)];if(!_0x34e560){showMessage(_0x479c7a(0xae3));return;}_0x2ba03e['classList']['add']('hidden'),await loadProjectDetails(_0x34e560),showView(_0x479c7a(0x484)),handleGenerateQuizFromBlueprintTopic(_0x3dda38),_0x4ff803();},_0x4ff803=()=>{const _0x5ecdf9=_0x41f44d;_0x1b82cb[_0x5ecdf9(0x63d)]=_0x5ecdf9(0x7df),_0x152646[_0x5ecdf9(0x63d)]=_0x5ecdf9(0x290),_0x152646[_0x5ecdf9(0xbf9)]('click',_0x31eb1f),_0x6c24f['removeEventListener'](_0x5ecdf9(0x1b1),_0x4ff803),_0x152646[_0x5ecdf9(0x3f4)](_0x5ecdf9(0x1b1),confirmMoveQuiz);};_0x152646['removeEventListener']('click',confirmMoveQuiz),_0x152646['addEventListener'](_0x41f44d(0x1b1),_0x31eb1f),_0x6c24f[_0x41f44d(0x3f4)](_0x41f44d(0x1b1),_0x4ff803);}function showStudentLiveQuestionView(_0x40da55,_0x1b9f87,_0x137ddd){const _0x55cfda=_0x3b29b2,_0x2b49df=_0x40da55[_0x55cfda(0x704)]||currentQuizData[_0x55cfda(0x573)];let _0x3aacb6='';if(_0x2b49df==='multiple_choice'||_0x2b49df===_0x55cfda(0x421)){const _0x2ff2b9=_0x2b49df==='true_false'?[_0x55cfda(0x272),_0x55cfda(0x749)]:_0x40da55[_0x55cfda(0x5a9)];_0x3aacb6=_0x2ff2b9[_0x55cfda(0x921)]((_0x1af311,_0x316170)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x316170+_0x55cfda(0xc67)+_0x1af311+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x55cfda(0xa0a)]('');}else{if(_0x2b49df===_0x55cfda(0x8bb)){const _0x3dc18e=_0x40da55['allResponses']||[];_0x3aacb6=_0x3dc18e['map']((_0x5d3499,_0x209974)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x209974+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5d3499+_0x55cfda(0x5ab))[_0x55cfda(0xa0a)]('');}else _0x2b49df===_0x55cfda(0x639)&&(_0x3aacb6=_0x55cfda(0x274));}const _0x8f78c8=_0x40da55[_0x55cfda(0xc65)]||_0x40da55[_0x55cfda(0xc1c)],_0x56f7a7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x1b9f87+0x1)+_0x55cfda(0x3a8)+_0x137ddd+_0x55cfda(0x5ff)+_0x8f78c8+_0x55cfda(0xc21)+_0x3aacb6+_0x55cfda(0x989);liveGameView[_0x55cfda(0x2b3)]=_0x56f7a7;window[_0x55cfda(0x49e)]&&MathJax[_0x55cfda(0x13d)]&&MathJax['typesetPromise']([liveGameView]);const _0x56ec47=document[_0x55cfda(0xa57)]('live-submit-short-answer-btn');_0x56ec47&&_0x56ec47[_0x55cfda(0x3f4)](_0x55cfda(0x1b1),()=>{const _0x1355cd=_0x55cfda,_0x5a4edb=document['getElementById']('live-short-answer-input')[_0x1355cd(0x6d4)];handleLiveAnswer(_0x5a4edb,_0x40da55);}),document[_0x55cfda(0xa57)](_0x55cfda(0x98c))[_0x55cfda(0x3f4)](_0x55cfda(0x1b1),_0x22cbe2=>{const _0x13fa8c=_0x55cfda,_0x33748b=_0x22cbe2[_0x13fa8c(0x408)][_0x13fa8c(0xcac)]('.live-answer-btn');if(_0x33748b){const _0xc7b3be=parseInt(_0x33748b[_0x13fa8c(0x43d)]['index']);handleLiveAnswer(_0xc7b3be,_0x40da55);}});}function listenForBlueprintShortcuts(){const _0x2ae477=_0x3b29b2,_0xaadf25=doc(db,_0x2ae477(0x522),_0x2ae477(0x29a));onSnapshot(_0xaadf25,_0x4e5896=>{const _0x1da11d=_0x2ae477;let _0x1620eb=[],_0x31370c=[],_0x150615={};if(_0x4e5896[_0x1da11d(0xb65)]()){const _0x38afde=_0x4e5896[_0x1da11d(0x7a6)]();_0x1620eb=_0x38afde[_0x1da11d(0x53b)]||[],_0x31370c=_0x38afde[_0x1da11d(0x3aa)]||[],_0x150615=_0x38afde[_0x1da11d(0xa40)]||{};}!_0x31370c[_0x1da11d(0xc0d)](_0x12675a=>_0x12675a['id']===_0x1da11d(0x6e1))&&_0x31370c[_0x1da11d(0x5f7)]({'id':_0x1da11d(0x6e1),'name':_0x1da11d(0x695),'isDefault':!![]}),!_0x1620eb[_0x1da11d(0xc0d)](_0x209e4d=>_0x209e4d['id']===_0x1da11d(0x9af))&&_0x1620eb[_0x1da11d(0x5f7)]({'id':_0x1da11d(0x9af),'name':_0x1da11d(0xa2c),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x1620eb[_0x1da11d(0xc0d)](_0x167bff=>_0x167bff['id']===_0x1da11d(0x44d))&&_0x1620eb[_0x1da11d(0x5f7)]({'id':_0x1da11d(0x44d),'name':_0x1da11d(0x4be),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x1620eb,shortcutTabs=_0x31370c,shortcutOrder=_0x150615,renderBlueprintShortcuts(),!document[_0x1da11d(0xa57)]('additional-shortcuts-modal')['classList'][_0x1da11d(0x7a2)](_0x1da11d(0x3db))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x177da8=_0x3b29b2,_0x4a9ffd=document[_0x177da8(0xa57)]('shortcut-tabs-nav'),_0x46d80f=document[_0x177da8(0xa57)](_0x177da8(0x452));if(!_0x4a9ffd||!_0x46d80f)return;_0x4a9ffd[_0x177da8(0x2b3)]=shortcutTabs[_0x177da8(0x921)](_0x12b6e4=>{const _0xfe7950=_0x177da8,_0x5c9652=_0x12b6e4['id']===activeShortcutTabId,_0x4f81bf=_0xfe7950(0xa4d),_0x1701f0='border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22'+_0x12b6e4['id']+'\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x5c9652?_0x4f81bf:_0x1701f0)+_0xfe7950(0x5f3)+_0x12b6e4[_0xfe7950(0xc6f)]+_0xfe7950(0x6bc)+_0x12b6e4[_0xfe7950(0xc6f)]+_0xfe7950(0xc86)+(!_0x12b6e4[_0xfe7950(0x120)]?_0xfe7950(0x372)+_0x12b6e4['id']+_0xfe7950(0x7ac):'')+_0xfe7950(0xc3f);})[_0x177da8(0xa0a)]('');const _0x533d5a=shortcutTabs['find'](_0x7c4c4a=>_0x7c4c4a['id']===activeShortcutTabId);let _0x94f7d2=[];if(_0x533d5a){if(_0x533d5a[_0x177da8(0x120)])_0x94f7d2=[...blueprintShortcuts];else{const _0x22ddba=_0x533d5a[_0x177da8(0xa92)]||[];_0x94f7d2=blueprintShortcuts[_0x177da8(0x36d)](_0xd22630=>_0x22ddba['includes'](_0xd22630['id']));}}const _0x137957=shortcutOrder[activeShortcutTabId]||[];_0x94f7d2[_0x177da8(0x445)]((_0xfeeed6,_0x472570)=>{const _0xcb1d84=_0x177da8,_0x29485c=_0x137957['indexOf'](_0xfeeed6['id']),_0x980bf3=_0x137957[_0xcb1d84(0x61c)](_0x472570['id']);if(_0x29485c===-0x1)return 0x1;if(_0x980bf3===-0x1)return-0x1;return _0x29485c-_0x980bf3;}),_0x46d80f['innerHTML']=_0x94f7d2[_0x177da8(0x423)]>0x0?_0x94f7d2[_0x177da8(0x921)](_0x2a0fe9=>{const _0x1f0636=_0x177da8;let _0x11c4b0='🧩';if(_0x2a0fe9['blueprintUrl']&&_0x2a0fe9[_0x1f0636(0x815)])_0x11c4b0='📗';else{if(_0x2a0fe9[_0x1f0636(0x74a)])_0x11c4b0='📘';}const _0x15f5c3=shortcutTabs[_0x1f0636(0x36d)](_0x5124f0=>!_0x5124f0[_0x1f0636(0x120)]),_0x3aea8c=_0x533d5a[_0x1f0636(0x120)]&&_0x15f5c3['length']>0x0?_0x1f0636(0xc47)+_0x15f5c3[_0x1f0636(0x921)](_0x1ce69e=>_0x1f0636(0xc40)+_0x2a0fe9['id']+'\x22\x20data-target-tab-id=\x22'+_0x1ce69e['id']+'\x22>'+_0x1ce69e[_0x1f0636(0xc6f)]+_0x1f0636(0x3b9))[_0x1f0636(0xa0a)]('')+_0x1f0636(0x958):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x2a0fe9['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x11c4b0+'\x20'+_0x2a0fe9['name']+_0x1f0636(0x30d)+_0x2a0fe9['id']+_0x1f0636(0x2df)+_0x2a0fe9['id']+'\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x2a0fe9[_0x1f0636(0x120)]?_0x1f0636(0x80e)+_0x2a0fe9['id']+'\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x1f0636(0x596)+(!_0x533d5a[_0x1f0636(0x120)]?_0x1f0636(0x395)+_0x2a0fe9['id']+'\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x1f0636(0x596)+_0x3aea8c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x177da8(0xa0a)](''):'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x382939=_0x3b29b2;document[_0x382939(0x3cf)](_0x382939(0xbc3))['forEach'](_0x4dcd1e=>{const _0xb7a465=_0x382939;_0x4dcd1e[_0xb7a465(0x3f4)](_0xb7a465(0x1b1),_0x4a07b3=>{const _0x3ac79e=_0xb7a465;activeShortcutTabId=_0x4a07b3[_0x3ac79e(0xb51)]['dataset'][_0x3ac79e(0x7dd)],renderAdditionalShortcutsModal();}),_0x4dcd1e[_0xb7a465(0x3f4)]('dblclick',_0x2a6a94=>{const _0x2dc9cd=_0xb7a465,_0x249c91=_0x2a6a94[_0x2dc9cd(0xb51)];_0x249c91[_0x2dc9cd(0x1c1)]('.tab-name-display')[_0x2dc9cd(0x6b0)][_0x2dc9cd(0xb35)]('hidden');const _0xc41f09=_0x249c91[_0x2dc9cd(0x1c1)]('.tab-name-input');_0xc41f09[_0x2dc9cd(0x6b0)][_0x2dc9cd(0xbb2)]('hidden'),_0xc41f09['focus'](),_0xc41f09[_0x2dc9cd(0xcb3)]();});}),document[_0x382939(0x3cf)](_0x382939(0x34b))[_0x382939(0x9aa)](_0x19c70f=>{const _0x229c58=_0x382939,_0x3da36c=()=>{const _0x4936ab=_0x376a,_0x35df53=_0x19c70f[_0x4936ab(0xcac)](_0x4936ab(0xbc3))[_0x4936ab(0x43d)][_0x4936ab(0x7dd)];handleRenameShortcutTab(_0x35df53,_0x19c70f[_0x4936ab(0x6d4)]);};_0x19c70f['addEventListener']('blur',_0x3da36c),_0x19c70f['addEventListener'](_0x229c58(0x978),_0x5e8d3c=>{const _0x40cede=_0x229c58;if(_0x5e8d3c['key']==='Enter')_0x19c70f[_0x40cede(0x80b)]();});}),document[_0x382939(0x3cf)](_0x382939(0xa60))[_0x382939(0x9aa)](_0x45eb3d=>{const _0x2e7553=_0x382939;_0x45eb3d[_0x2e7553(0x3f4)](_0x2e7553(0x1b1),_0x4d23ce=>handleDeleteShortcutTab(_0x4d23ce[_0x2e7553(0xb51)][_0x2e7553(0x43d)][_0x2e7553(0x7dd)]));}),document[_0x382939(0x3cf)](_0x382939(0x2d6))[_0x382939(0x9aa)](_0x207ce4=>{const _0x1ea672=_0x382939;_0x207ce4[_0x1ea672(0x3f4)](_0x1ea672(0x1b1),_0x5a91bd=>{const _0x1a668d=_0x1ea672;_0x5a91bd[_0x1a668d(0x206)]();const {shortcutId:_0x323857,targetTabId:_0x3e7c4d}=_0x5a91bd[_0x1a668d(0xb51)]['dataset'];handleMoveShortcutToTab(_0x323857,_0x3e7c4d);});}),document['querySelectorAll']('.remove-shortcut-from-tab-btn')[_0x382939(0x9aa)](_0x5ae15d=>{const _0x53ec09=_0x382939;_0x5ae15d[_0x53ec09(0x3f4)](_0x53ec09(0x1b1),_0x22c186=>{const _0x413928=_0x53ec09;handleRemoveShortcutFromTab(_0x22c186[_0x413928(0xb51)]['dataset']['shortcutId'],activeShortcutTabId);});});const _0x3e36bf=document[_0x382939(0xa57)]('additional-shortcuts-list');_0x3e36bf[_0x382939(0x3cf)]('.use-hidden-shortcut-btn')['forEach'](_0x190bb7=>{const _0x4bc5a0=_0x382939;_0x190bb7[_0x4bc5a0(0x3f4)]('click',()=>{const _0xe8750f=_0x4bc5a0;document[_0xe8750f(0xa57)](_0xe8750f(0x91c))[_0xe8750f(0x6b0)]['add'](_0xe8750f(0x3db)),handleShortcutClick(_0x190bb7[_0xe8750f(0x43d)]['id']);});});let _0x13de45=null;_0x3e36bf[_0x382939(0x3f4)](_0x382939(0x96a),_0x52e69c=>{const _0x36fa03=_0x382939;_0x13de45=_0x52e69c[_0x36fa03(0x408)][_0x36fa03(0xcac)]('.shortcut-list-item'),_0x13de45&&setTimeout(()=>_0x13de45[_0x36fa03(0x6b0)]['add'](_0x36fa03(0xc18)),0x0);}),_0x3e36bf[_0x382939(0x3f4)](_0x382939(0x973),()=>{const _0x1f70ad=_0x382939;_0x13de45&&(_0x13de45[_0x1f70ad(0x6b0)][_0x1f70ad(0xbb2)](_0x1f70ad(0xc18)),_0x13de45=null);}),_0x3e36bf['addEventListener'](_0x382939(0x390),_0x139c34=>{const _0x2d6441=_0x382939;_0x139c34[_0x2d6441(0x206)]();const _0x38dc31=[..._0x3e36bf[_0x2d6441(0x3cf)](_0x2d6441(0x961))]['reduce']((_0x4bbe5e,_0x3285ab)=>{const _0x35b4ac=_0x2d6441,_0x211f72=_0x3285ab[_0x35b4ac(0x41e)](),_0x5e5b83=_0x139c34[_0x35b4ac(0x583)]-_0x211f72[_0x35b4ac(0x29b)]-_0x211f72['height']/0x2;return _0x5e5b83<0x0&&_0x5e5b83>_0x4bbe5e[_0x35b4ac(0x927)]?{'offset':_0x5e5b83,'element':_0x3285ab}:_0x4bbe5e;},{'offset':Number[_0x2d6441(0x11a)]})[_0x2d6441(0x99a)];_0x38dc31==null?_0x3e36bf[_0x2d6441(0x95e)](_0x13de45):_0x3e36bf['insertBefore'](_0x13de45,_0x38dc31);}),_0x3e36bf[_0x382939(0x3f4)](_0x382939(0x5e5),_0x3be078=>{const _0x3a2506=_0x382939;_0x3be078[_0x3a2506(0x206)]();if(_0x13de45){const _0x3de5bf=[..._0x3e36bf[_0x3a2506(0x3cf)]('.shortcut-list-item')][_0x3a2506(0x921)](_0x3c723c=>_0x3c723c[_0x3a2506(0x43d)]['shortcutId']);handleShortcutOrderChange(activeShortcutTabId,_0x3de5bf);}}),document[_0x382939(0x3cf)]('.move-shortcut-menu-btn')[_0x382939(0x9aa)](_0x38bbdb=>{const _0x63e7c0=_0x382939;_0x38bbdb[_0x63e7c0(0x3f4)](_0x63e7c0(0x1b1),_0x5a9789=>{const _0x283448=_0x63e7c0;_0x5a9789[_0x283448(0x160)]();const _0x1939c9=_0x5a9789[_0x283448(0xb51)][_0x283448(0xae4)],_0x1da2a6=_0x1939c9['classList'][_0x283448(0x7a2)](_0x283448(0x3db));document[_0x283448(0x3cf)]('.move-shortcut-dropdown')[_0x283448(0x9aa)](_0x156301=>_0x156301[_0x283448(0x6b0)][_0x283448(0xb35)](_0x283448(0x3db))),_0x1da2a6&&_0x1939c9[_0x283448(0x6b0)][_0x283448(0xbb2)](_0x283448(0x3db));});});}document[_0x3b29b2(0x3f4)](_0x3b29b2(0x1b1),_0x2f8530=>{const _0x2beef4=_0x3b29b2;!_0x2f8530['target'][_0x2beef4(0xcac)](_0x2beef4(0x398))&&document['querySelectorAll'](_0x2beef4(0x5bc))[_0x2beef4(0x9aa)](_0x31818b=>_0x31818b['classList']['add'](_0x2beef4(0x3db)));});async function saveShortcutConfig(){const _0x521d1e=_0x3b29b2,_0x1f3e6f=doc(db,_0x521d1e(0x522),_0x521d1e(0x29a));try{await setDoc(_0x1f3e6f,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x307026){console[_0x521d1e(0xc93)](_0x521d1e(0x9c7),_0x307026);}}async function handleAddShortcutTab(){const _0x30567b=_0x3b29b2,_0x34c08b=prompt('กรุณาตั้งชื่อแท็บใหม่:','แท็บใหม่');if(!_0x34c08b||_0x34c08b[_0x30567b(0x9bb)]()==='')return;shortcutTabs[_0x30567b(0x4aa)]({'id':_0x30567b(0x49f)+Date[_0x30567b(0x8d7)](),'name':_0x34c08b[_0x30567b(0x9bb)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x428c0c,_0x208fde){const _0x5eeff8=_0x3b29b2,_0x276281=shortcutTabs[_0x5eeff8(0xc0d)](_0x3b7638=>_0x3b7638['id']===_0x428c0c);_0x276281&&_0x208fde[_0x5eeff8(0x9bb)]()!==''&&(_0x276281[_0x5eeff8(0xc6f)]=_0x208fde['trim'](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x54bf4d){const _0x3d04d0=_0x3b29b2,_0x381c04=shortcutTabs[_0x3d04d0(0xc0d)](_0x4d9f59=>_0x4d9f59['id']===_0x54bf4d);_0x381c04&&!_0x381c04[_0x3d04d0(0x120)]&&showConfirmation('คุณแน่ใจว่าต้องการลบแท็บ\x20\x22'+_0x381c04[_0x3d04d0(0xc6f)]+_0x3d04d0(0xbfb),async()=>{const _0x5cb868=_0x3d04d0;shortcutTabs=shortcutTabs[_0x5cb868(0x36d)](_0x438649=>_0x438649['id']!==_0x54bf4d),delete shortcutOrder[_0x54bf4d];if(activeShortcutTabId===_0x54bf4d)activeShortcutTabId='all';await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x1a079d,_0x1c257b){const _0x2b7985=_0x3b29b2,_0x8d265c=shortcutTabs['find'](_0x4c782a=>_0x4c782a['id']===_0x1c257b);_0x8d265c&&!_0x8d265c[_0x2b7985(0xa92)][_0x2b7985(0x4c8)](_0x1a079d)&&(_0x8d265c['shortcutIds'][_0x2b7985(0x4aa)](_0x1a079d),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x5a1ac4,_0x55803b){const _0xfda3d5=_0x3b29b2,_0x543e5b=shortcutTabs[_0xfda3d5(0xc0d)](_0x2fe325=>_0x2fe325['id']===_0x55803b);_0x543e5b&&!_0x543e5b[_0xfda3d5(0x120)]&&(_0x543e5b[_0xfda3d5(0xa92)]=_0x543e5b[_0xfda3d5(0xa92)][_0xfda3d5(0x36d)](_0x4a4924=>_0x4a4924!==_0x5a1ac4),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x1b70ae,_0x4d24b1){shortcutOrder[_0x1b70ae]=_0x4d24b1,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x3859e1=_0x3b29b2,_0x1bffc3=document[_0x3859e1(0xa57)]('blueprint-shortcut-container'),_0x256963=document[_0x3859e1(0xa57)](_0x3859e1(0x452)),_0x5baf57=document[_0x3859e1(0xa57)]('shortcuts-loading-msg');_0x5baf57&&_0x5baf57[_0x3859e1(0x6b0)][_0x3859e1(0xb35)](_0x3859e1(0x3db));if(!_0x1bffc3||!_0x256963)return;const _0x3e26b9=blueprintShortcuts[_0x3859e1(0x20e)](0x0,0x4),_0x47def6=blueprintShortcuts[_0x3859e1(0x20e)](0x4);_0x1bffc3[_0x3859e1(0x2b3)]=_0x3e26b9['map'](_0x3c30fa=>{const _0x287b80=_0x3859e1;let _0x5f45c2=_0x287b80(0x1d8),_0x61b73e='🧩';if(_0x3c30fa[_0x287b80(0x74a)]&&_0x3c30fa[_0x287b80(0x815)])_0x5f45c2=_0x287b80(0x649),_0x61b73e='📗';else _0x3c30fa[_0x287b80(0x74a)]&&(_0x5f45c2=_0x287b80(0x72c),_0x61b73e='📘');const _0x3490c5=!_0x3c30fa['isDefault']?'<button\x20data-id=\x22'+_0x3c30fa['id']+'\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x287b80(0xc38)+_0x3c30fa['id']+'\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x5f45c2+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0x61b73e+'\x20'+_0x3c30fa[_0x287b80(0xc6f)]+_0x287b80(0x343)+_0x3c30fa['id']+_0x287b80(0x848)+_0x3490c5+_0x287b80(0xc3f);})['join'](''),_0x47def6[_0x3859e1(0x423)]>0x0&&(_0x1bffc3[_0x3859e1(0x2b3)]+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x47def6['length']>0x0?_0x256963[_0x3859e1(0x2b3)]=_0x47def6[_0x3859e1(0x921)](_0xe2ab58=>{const _0x1de6a3=_0x3859e1;let _0x6b34df='🧩';if(_0xe2ab58[_0x1de6a3(0x74a)]&&_0xe2ab58[_0x1de6a3(0x815)])_0x6b34df='📗';else _0xe2ab58[_0x1de6a3(0x74a)]&&(_0x6b34df='📘');return _0x1de6a3(0x5bf)+_0x6b34df+'\x20'+_0xe2ab58[_0x1de6a3(0xc6f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xe2ab58['id']+'\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xe2ab58['id']+_0x1de6a3(0x8e2)+(!_0xe2ab58[_0x1de6a3(0x120)]?_0x1de6a3(0x80e)+_0xe2ab58['id']+_0x1de6a3(0xbb8):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x3859e1(0xa0a)](''):_0x256963[_0x3859e1(0x2b3)]=_0x3859e1(0x4a1);}function getMimeTypeFromFilename(_0x18fce6){const _0x4998dd=_0x3b29b2,_0x578173=_0x18fce6[_0x4998dd(0x853)]('.')[_0x4998dd(0x413)]()[_0x4998dd(0x80a)]();switch(_0x578173){case _0x4998dd(0x44f):return'application/pdf';case'txt':return _0x4998dd(0x94b);default:return _0x4998dd(0x2ef);}}function openShortcutEditor(_0x5d5c37=null){const _0x41aad9=_0x3b29b2,_0xccb665=document[_0x41aad9(0xa57)]('shortcut-editor-modal'),_0x3afcae=document['getElementById'](_0x41aad9(0x29c)),_0x166732=document['getElementById']('shortcut-id-input'),_0x2660f7=document[_0x41aad9(0xa57)]('shortcut-name-input'),_0x31609e=document[_0x41aad9(0xa57)]('shortcut-blueprint-url-input'),_0x3ddf95=document['getElementById'](_0x41aad9(0xb19));if(_0x5d5c37){const _0x23baba=blueprintShortcuts[_0x41aad9(0xc0d)](_0x5a5284=>_0x5a5284['id']===_0x5d5c37);if(!_0x23baba)return;_0x3afcae[_0x41aad9(0x63d)]=_0x41aad9(0x143),_0x166732[_0x41aad9(0x6d4)]=_0x23baba['id'],_0x2660f7[_0x41aad9(0x6d4)]=_0x23baba[_0x41aad9(0xc6f)],_0x31609e['value']=_0x23baba['blueprintUrl']||'',_0x3ddf95['value']=_0x23baba['referenceUrl']||'';}else _0x3afcae['textContent']=_0x41aad9(0xb28),_0x166732['value']='',_0x2660f7[_0x41aad9(0x6d4)]='',_0x31609e[_0x41aad9(0x6d4)]='',_0x3ddf95['value']='';_0xccb665[_0x41aad9(0x6b0)][_0x41aad9(0xbb2)](_0x41aad9(0x3db));}async function saveShortcutChanges(){const _0x3d9966=_0x3b29b2,_0x250e3c=document[_0x3d9966(0xa57)](_0x3d9966(0xc79))[_0x3d9966(0x6d4)],_0x2fdc44=document[_0x3d9966(0xa57)]('shortcut-name-input')[_0x3d9966(0x6d4)][_0x3d9966(0x9bb)](),_0x409a6a=document[_0x3d9966(0xa57)](_0x3d9966(0x294))[_0x3d9966(0x6d4)]['trim']();if(!_0x2fdc44||!_0x409a6a){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27');return;}const _0x155104={'id':_0x250e3c||_0x3d9966(0x7d3)+Date['now'](),'name':_0x2fdc44,'blueprintUrl':_0x409a6a,'referenceUrl':document[_0x3d9966(0xa57)]('shortcut-reference-url-input')[_0x3d9966(0x6d4)][_0x3d9966(0x9bb)](),'isDefault':_0x250e3c[_0x3d9966(0x6c6)](_0x3d9966(0x6f7))};let _0x405a00;_0x250e3c?_0x405a00=blueprintShortcuts[_0x3d9966(0x921)](_0x361587=>_0x361587['id']===_0x250e3c?_0x155104:_0x361587):_0x405a00=[...blueprintShortcuts,_0x155104];try{const _0x4c16ce=doc(db,_0x3d9966(0x522),_0x3d9966(0x29a));await setDoc(_0x4c16ce,{'blueprintShortcuts':_0x405a00},{'merge':!![]}),document[_0x3d9966(0xa57)](_0x3d9966(0x32f))[_0x3d9966(0x6b0)][_0x3d9966(0xb35)]('hidden');}catch(_0x1133cd){console[_0x3d9966(0xc93)](_0x3d9966(0x24f),_0x1133cd),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleShortcutClick(_0x2f29f5){const _0x1a14b4=_0x3b29b2,_0x43b839=blueprintShortcuts[_0x1a14b4(0xc0d)](_0x5c23ce=>_0x5c23ce['id']===_0x2f29f5);if(!_0x43b839||!_0x43b839[_0x1a14b4(0x74a)])return;document[_0x1a14b4(0xa57)](_0x1a14b4(0x798))[_0x1a14b4(0x6b0)][_0x1a14b4(0xb35)](_0x1a14b4(0x3db)),document['getElementById']('generate-from-blueprint-btn')[_0x1a14b4(0x267)]=!![];const _0x3580e2=document[_0x1a14b4(0xa57)]('loader'),_0x2360fa=document[_0x1a14b4(0xa57)](_0x1a14b4(0xb6d));document[_0x1a14b4(0xa57)](_0x1a14b4(0x5f0))[_0x1a14b4(0x6b0)][_0x1a14b4(0xbb2)](_0x1a14b4(0x3db)),document[_0x1a14b4(0xa57)](_0x1a14b4(0xca2))[_0x1a14b4(0x2b3)]='',_0x3580e2[_0x1a14b4(0x6b0)][_0x1a14b4(0xbb2)]('hidden');try{_0x2360fa[_0x1a14b4(0x63d)]=_0x1a14b4(0x45e);const _0x119f6a=await fetchFileFromUrl(_0x43b839[_0x1a14b4(0x74a)],_0x1a14b4(0x26b));let _0x8bb61a=null;if(_0x43b839[_0x1a14b4(0x815)]){_0x2360fa[_0x1a14b4(0x63d)]=_0x1a14b4(0xada);const _0x2c8761=_0x43b839[_0x1a14b4(0x815)]['toLowerCase']()[_0x1a14b4(0x3b0)](_0x1a14b4(0x801))?'reference.txt':_0x1a14b4(0x7b2);_0x8bb61a=await fetchFileFromUrl(_0x43b839[_0x1a14b4(0x815)],_0x2c8761);}await handleGenerateFromBlueprintWithFiles(_0x119f6a,_0x8bb61a);}catch(_0x164b0f){console[_0x1a14b4(0xc93)](_0x1a14b4(0xaee),_0x164b0f),showMessage('เกิดข้อผิดพลาด:\x20'+_0x164b0f[_0x1a14b4(0x8df)]),_0x3580e2[_0x1a14b4(0x6b0)][_0x1a14b4(0xb35)]('hidden');}}function getDirectDownloadUrl(_0x2867b5){const _0x2ea463=_0x3b29b2,_0x5a4e0d=_0x2867b5[_0x2ea463(0x156)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x5a4e0d&&_0x5a4e0d[0x1])return _0x2ea463(0x325)+_0x5a4e0d[0x1];return _0x2867b5;}async function fetchFileFromUrl(_0x946b0,_0x267a4a){const _0x407964=_0x3b29b2,_0x108aa0=getDirectDownloadUrl(_0x946b0),_0x12413d=_0x407964(0x16f)+encodeURIComponent(_0x108aa0),_0x571e31=await fetch(_0x12413d);if(!_0x571e31['ok'])throw new Error('ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20'+_0x571e31[_0x407964(0xbeb)]+')');const _0x42a5fd=await _0x571e31[_0x407964(0x375)](),_0x8c793a=await new Promise((_0x1143ca,_0x27e8b2)=>{const _0x5bd476=_0x407964,_0x1101d0=new FileReader();_0x1101d0[_0x5bd476(0x606)]=()=>_0x1143ca(new Uint8Array(_0x1101d0['result'])),_0x1101d0[_0x5bd476(0xc52)]=_0x27e8b2,_0x1101d0['readAsArrayBuffer'](_0x42a5fd[_0x5bd476(0x20e)](0x0,0x4));});let _0x5cef4d='';const _0x22759f=new TextDecoder()['decode'](_0x8c793a);return _0x22759f===_0x407964(0xc5a)?(_0x5cef4d=_0x407964(0x2ef),console[_0x407964(0x886)](_0x407964(0xc5f))):(_0x5cef4d=_0x407964(0x94b),console[_0x407964(0x886)](_0x407964(0x1bf))),new File([_0x42a5fd],_0x267a4a,{'type':_0x5cef4d});}async function handleGenerateFromBlueprintWithFiles(_0x205e91,_0x38f462=null){const _0xe96c8=_0x3b29b2;if(!_0x205e91){showMessage(_0xe96c8(0x5ed));return;}const _0x3c46f9=document['getElementById'](_0xe96c8(0x438)),_0x577fbd=document[_0xe96c8(0xa57)](_0xe96c8(0xb6d));_0x3c46f9['classList'][_0xe96c8(0xbb2)](_0xe96c8(0x3db)),document['getElementById'](_0xe96c8(0x5f0))[_0xe96c8(0x6b0)]['remove'](_0xe96c8(0x3db)),document['getElementById'](_0xe96c8(0xca2))[_0xe96c8(0x2b3)]='';try{_0x577fbd['textContent']=_0xe96c8(0x114);const _0x5661ad=await new Promise((_0x4887cf,_0x4b8b97)=>{const _0x248ff0=_0xe96c8,_0x2e71ef=new FileReader();_0x2e71ef[_0x248ff0(0x807)](_0x205e91),_0x2e71ef[_0x248ff0(0x569)]=()=>_0x4887cf(_0x2e71ef[_0x248ff0(0x4ce)][_0x248ff0(0x853)](',')[0x1]),_0x2e71ef[_0x248ff0(0xc52)]=_0x4b8b97;}),_0x4380b4=[];if(_0x38f462){_0x577fbd['textContent']=_0xe96c8(0x935);const _0x4cd3ce=await _0x38f462[_0xe96c8(0x89a)]();_0x4380b4[_0xe96c8(0x4aa)]({'text':'\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a'+_0x4cd3ce});}const _0x111f0b=[{'text':_0xe96c8(0x9fb)},{'inlineData':{'mimeType':_0x205e91['type'],'data':_0x5661ad}},..._0x4380b4];await handleGenerateFromBlueprint(_0x111f0b);}catch(_0x584fa9){console[_0xe96c8(0xc93)](_0xe96c8(0x18a),_0x584fa9),showMessage(_0xe96c8(0x1fd)+_0x584fa9[_0xe96c8(0x8df)]),_0x3c46f9[_0xe96c8(0x6b0)][_0xe96c8(0xb35)](_0xe96c8(0x3db));}}async function handleLiveAnswer(_0x573c02,_0x3d7bf8){const _0x1c3847=_0x3b29b2;document['querySelectorAll'](_0x1c3847(0xbd8))[_0x1c3847(0x9aa)](_0x199945=>_0x199945['disabled']=!![]);const _0x16e520=_0x3d7bf8[_0x1c3847(0x704)]||currentQuizData[_0x1c3847(0x573)];let _0x2808c1=![],_0x5e4bb7=_0x573c02;if(_0x16e520==='short_answer'){const _0x56b22e=(_0x573c02||'')[_0x1c3847(0xa5a)]();_0x2808c1=await gradeShortAnswer(_0x56b22e,_0x3d7bf8);}else{if(_0x16e520===_0x1c3847(0xbbc))_0x2808c1=_0x573c02===_0x3d7bf8[_0x1c3847(0x6c9)];else{if(_0x16e520===_0x1c3847(0x421)){const _0x53455b=_0x3d7bf8[_0x1c3847(0x72d)];_0x2808c1=_0x573c02===0x0&&_0x53455b||_0x573c02===0x1&&!_0x53455b;}else{if(_0x16e520===_0x1c3847(0x8bb)){const _0x4a316d=_0x3d7bf8[_0x1c3847(0x889)][_0x573c02];_0x2808c1=_0x4a316d===_0x3d7bf8[_0x1c3847(0x4a4)],_0x5e4bb7=_0x4a316d;}}}}const _0x439613=doc(db,_0x1c3847(0xb79)+appId+'/public/data/liveGames',currentLiveGameId),_0x2f0d4c={};_0x2f0d4c[_0x1c3847(0x7f7)+currentStudentName+_0x1c3847(0xc37)]=!![],_0x2f0d4c['players.'+currentStudentName+_0x1c3847(0x21b)]=_0x2808c1,_0x2f0d4c['players.'+currentStudentName+_0x1c3847(0x66b)]=_0x16e520===_0x1c3847(0x639)||_0x16e520===_0x1c3847(0x8bb)?null:_0x573c02,_0x2f0d4c[_0x1c3847(0x7f7)+currentStudentName+_0x1c3847(0x459)]=_0x5e4bb7,_0x2f0d4c['players.'+currentStudentName+_0x1c3847(0xc10)]=serverTimestamp(),_0x2f0d4c['players.'+currentStudentName+'.isScored']=![],await updateDoc(_0x439613,_0x2f0d4c),liveGameView[_0x1c3847(0x2b3)]=_0x1c3847(0x9a5);}function showAdminSummaryView(_0x37aa8c,_0x5d388e){const _0x51892a=_0x3b29b2,_0x31f9e2=Object[_0x51892a(0x4bb)](_0x37aa8c['players']||{}),_0x3cfcd6=_0x5d388e[_0x51892a(0x704)]||currentQuizData[_0x51892a(0x573)],_0x37b82a=_0x3cfcd6===_0x51892a(0x421)?[_0x51892a(0x272),'ไม่ใช่']:_0x5d388e['options']||_0x5d388e[_0x51892a(0x889)]||[],_0x287c38={},_0x2efb54=new Array(_0x37b82a[_0x51892a(0x423)])[_0x51892a(0x2f5)](0x0);_0x37b82a[_0x51892a(0x9aa)]((_0x475e4c,_0x22dcfb)=>{_0x287c38[_0x22dcfb]=[];}),Object[_0x51892a(0xb3d)](_0x37aa8c[_0x51892a(0x7d2)]||{})[_0x51892a(0x9aa)](([_0x53defb,_0x1508f4])=>{const _0x161d4e=_0x51892a;if(_0x1508f4[_0x161d4e(0xbeb)]===_0x161d4e(0x37e)&&_0x1508f4[_0x161d4e(0x1e9)]!==undefined){const _0x1e363f=_0x1508f4[_0x161d4e(0x1e9)];_0x287c38[_0x1e363f]&&(_0x287c38[_0x1e363f][_0x161d4e(0x4aa)](_0x53defb),_0x2efb54[_0x1e363f]++);}});const _0x27a67a=Math[_0x51892a(0x3c9)](..._0x2efb54,0x1),_0x274c4d=_0x51892a(0x340)+(_0x5d388e[_0x51892a(0xc65)]||_0x5d388e[_0x51892a(0xc1c)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2efb54[_0x51892a(0x921)]((_0x595664,_0x575989)=>{const _0x25e609=_0x51892a,_0x262341=_0x287c38[_0x575989][_0x25e609(0x423)]>0x0?_0x287c38[_0x575989][_0x25e609(0xa0a)](',\x20'):_0x25e609(0x41d);let _0x56b247=![];if(_0x3cfcd6===_0x25e609(0xbbc))_0x56b247=_0x575989===_0x5d388e[_0x25e609(0x6c9)];else{if(_0x3cfcd6===_0x25e609(0x421)){const _0x175edb=_0x5d388e[_0x25e609(0x72d)];_0x56b247=_0x175edb&&_0x575989===0x0||!_0x175edb&&_0x575989===0x1;}else _0x3cfcd6===_0x25e609(0x8bb)&&(_0x56b247=_0x37b82a[_0x575989]===_0x5d388e[_0x25e609(0x4a4)]);}const _0x48329e=_0x56b247?_0x25e609(0xc6b):_0x25e609(0x15e);return _0x25e609(0x504)+_0x595664+_0x25e609(0x52f)+_0x48329e+';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-'+_0x575989+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x37b82a[_0x575989]+_0x25e609(0x34e)+_0x575989+_0x25e609(0xb7d)+_0x262341+_0x25e609(0x2bd);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x51892a(0x2b3)]=_0x274c4d;if(window['MathJax'])MathJax[_0x51892a(0x13d)]();document['getElementById'](_0x51892a(0x39c))[_0x51892a(0x3f4)](_0x51892a(0x1b1),async()=>{const _0x55e237=_0x51892a,_0x46a894=doc(db,'artifacts/'+appId+_0x55e237(0xac2),currentLiveGameId);await updateDoc(_0x46a894,{'questionStatus':_0x55e237(0x5dc)});}),document[_0x51892a(0xa57)](_0x51892a(0xa3d))['addEventListener'](_0x51892a(0x1b1),()=>{openScratchpad(_0x5d388e,_0x37b82a);});}function showPlayerSummaryView(_0x5699b0,_0x478bda){const _0x55e25b=_0x3b29b2,_0x2d0cb0=Object[_0x55e25b(0x4bb)](_0x5699b0[_0x55e25b(0x7d2)]||{}),_0x4e1cfd=_0x5699b0['players'][_0x478bda],_0x34135f=_0x2d0cb0[_0x55e25b(0x36d)](_0x20d370=>_0x20d370['status']===_0x55e25b(0x37e))[_0x55e25b(0x445)]((_0x247def,_0x231d4d)=>_0x231d4d[_0x55e25b(0x5c3)]-_0x247def[_0x55e25b(0x5c3)]),_0x3b0707=_0x34135f['findIndex'](_0x41ca4e=>_0x41ca4e===_0x4e1cfd)+0x1,_0x364340=_0x4e1cfd[_0x55e25b(0x6e7)]?_0x55e25b(0x90f):_0x55e25b(0x7f6),_0x55f152=_0x4e1cfd[_0x55e25b(0x6e7)]?_0x55e25b(0x725):_0x55e25b(0x360),_0x1144e9=_0x4e1cfd['pointsLastQuestion']||0x0,_0x3e1d7b=_0x55e25b(0x984),_0x1643be=_0x55e25b(0xc85)+_0x3e1d7b+_0x55e25b(0x26f)+_0x55f152+_0x55e25b(0xbd4)+_0x364340+_0x55e25b(0x2e7)+_0x1144e9+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>'+(_0x3b0707>0x0?_0x3b0707:'-')+_0x55e25b(0x594);liveGameView[_0x55e25b(0x2b3)]=_0x1643be;}function createQuizFromBank(){const _0x32260c=_0x3b29b2,_0x1aec2a=document[_0x32260c(0x3cf)](_0x32260c(0xbe4));if(_0x1aec2a['length']===0x0){showMessage(_0x32260c(0x542));return;}const _0x425a16=[];_0x1aec2a[_0x32260c(0x9aa)](_0x339172=>{const _0xc089f=_0x32260c;_0x425a16[_0xc089f(0x4aa)](JSON[_0xc089f(0x5f1)](_0x339172[_0xc089f(0x6d4)]));});const _0x2b28af={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x425a16};displayGeneratedQuiz(_0x2b28af);}function showAdminLobbyView(_0x2c8599,_0x59aa4d){const _0x25685c=_0x3b29b2;showView('live-game');const _0x67cb2f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x59aa4d+_0x25685c(0x410)+_0x2c8599+_0x25685c(0x722);liveGameView['innerHTML']=_0x67cb2f,document['getElementById']('start-game-btn')['addEventListener']('click',async()=>{const _0x4d413b=_0x25685c;if(!currentQuizData||!currentQuizData[_0x4d413b(0x288)]||currentQuizData[_0x4d413b(0x288)][_0x4d413b(0x423)]===0x0){showMessage(_0x4d413b(0xb2d));return;}try{const _0x203acb=doc(db,_0x4d413b(0xb79)+appId+_0x4d413b(0xac2),currentLiveGameId);await updateDoc(_0x203acb,{'status':_0x4d413b(0x3ee),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x4bc8e8=currentQuizData[_0x4d413b(0x288)][0x0],_0x470b9c=currentQuizData['questions'][_0x4d413b(0x423)];showAdminLiveQuestionView(_0x4bc8e8,0x0,_0x470b9c);}catch(_0x491a28){console['error'](_0x4d413b(0x7a5),_0x491a28),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openQuizBankModal(){const _0x329c77=_0x3b29b2;if(allQuizzesGlobal['length']===0x0){const _0x5d5a59=await getDocs(collection(db,'artifacts/'+appId+_0x329c77(0x53a)));allQuizzesGlobal=_0x5d5a59[_0x329c77(0x8c5)][_0x329c77(0x921)](_0x23f3b3=>({'id':_0x23f3b3['id'],..._0x23f3b3[_0x329c77(0x7a6)]()}));}renderQuizBankList(''),document[_0x329c77(0xa57)](_0x329c77(0xbf3))[_0x329c77(0x6b0)][_0x329c77(0xbb2)](_0x329c77(0x3db));}function renderQuizBankList(_0x5f212c='',_0x440c28=![]){const _0x47896f=_0x3b29b2,_0x5094be=document[_0x47896f(0xa57)](_0x47896f(0x9e5)),_0x8b8f21=_0x5f212c['toLowerCase']()[_0x47896f(0x9bb)](),_0x7b293f=allQuizzesGlobal[_0x47896f(0x921)](_0x126578=>({..._0x126578,'projectName':allProjects[_0x47896f(0xc0d)](_0x8a9e13=>_0x8a9e13['id']===_0x126578[_0x47896f(0x13a)])?.[_0x47896f(0x234)]||_0x47896f(0x137)}))[_0x47896f(0x36d)](_0x808d8d=>(_0x808d8d[_0x47896f(0x13e)]||'')['toLowerCase']()[_0x47896f(0x4c8)](_0x8b8f21)||(_0x808d8d[_0x47896f(0x234)]||'')[_0x47896f(0x80a)]()[_0x47896f(0x4c8)](_0x8b8f21)||_0x808d8d['id'][_0x47896f(0xa5a)]()['includes'](_0x8b8f21));document['getElementById'](_0x47896f(0x799))[_0x47896f(0x63d)]='('+_0x7b293f[_0x47896f(0x423)]+'\x20ชุด)',_0x5094be[_0x47896f(0x2b3)]=_0x7b293f[_0x47896f(0x423)]?_0x7b293f[_0x47896f(0x921)](_0xfa0da=>{const _0x5ae027=_0x47896f,_0x2f0a28=!_0x440c28?_0x5ae027(0x8ea)+_0xfa0da['id']+_0x5ae027(0x96c)+_0xfa0da['id']+_0x5ae027(0xa06)+_0xfa0da['id']+_0x5ae027(0x751)+_0xfa0da['id']+_0x5ae027(0xadb)+_0xfa0da['id']+'\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xfa0da['id']+_0x5ae027(0x741)+_0xfa0da[_0x5ae027(0x13e)]+_0x5ae027(0xb41):'';return'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0xfa0da['id']+_0x5ae027(0x946)+(_0xfa0da[_0x5ae027(0x13e)]||_0x5ae027(0x96b))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0xfa0da[_0x5ae027(0x288)]?.[_0x5ae027(0x423)]||0x0)+_0x5ae027(0xab5)+_0xfa0da[_0x5ae027(0x234)]+_0x5ae027(0x645)+_0xfa0da['id']+_0x5ae027(0x5ec)+_0x2f0a28+_0x5ae027(0x656);})[_0x47896f(0xa0a)](''):_0x47896f(0x9a7),!_0x440c28&&(_0x5094be[_0x47896f(0x3cf)](_0x47896f(0xab1))[_0x47896f(0x9aa)](_0x638bac=>{const _0x5b2a5a=_0x47896f;_0x638bac[_0x5b2a5a(0x3f4)](_0x5b2a5a(0x1b1),()=>{const _0x48c10e=_0x5b2a5a,_0x146ee9=_0x638bac[_0x48c10e(0x43d)]['id'];document[_0x48c10e(0xa57)]('quiz-bank-modal')['classList'][_0x48c10e(0xb35)](_0x48c10e(0x3db)),showQuizDetailView(_0x146ee9);});}),_0x5094be[_0x47896f(0x3cf)](_0x47896f(0x246))['forEach'](_0x2d6d3f=>{const _0x49cafe=_0x47896f;_0x2d6d3f[_0x49cafe(0x3f4)](_0x49cafe(0x1b1),_0x306b44=>{const _0x382eb4=_0x49cafe;_0x306b44[_0x382eb4(0x160)]();const _0x5c3e46=_0x2d6d3f['dataset']['id'],_0x276b9f=allQuizzesGlobal['find'](_0x467d2a=>_0x467d2a['id']===_0x5c3e46);_0x276b9f?(currentQuizData=_0x276b9f,document['getElementById']('quiz-bank-modal')['classList']['add'](_0x382eb4(0x3db)),startAdminTest()):showMessage(_0x382eb4(0x57d));});}),_0x5094be[_0x47896f(0x3cf)](_0x47896f(0x36e))[_0x47896f(0x9aa)](_0x270048=>{const _0x4278ac=_0x47896f;_0x270048[_0x4278ac(0x3f4)](_0x4278ac(0x1b1),_0x535bd1=>{const _0x243169=_0x4278ac;_0x535bd1[_0x243169(0x160)]();const _0xa0a220=_0x270048[_0x243169(0x43d)]['id'],_0x2b0f86=allQuizzesGlobal[_0x243169(0xc0d)](_0x163b80=>_0x163b80['id']===_0xa0a220);_0x2b0f86?(document[_0x243169(0xa57)](_0x243169(0xbf3))['classList'][_0x243169(0xb35)]('hidden'),handleGenerateParallelFromBank(_0x2b0f86)):showMessage(_0x243169(0x57d));});}),_0x5094be['querySelectorAll'](_0x47896f(0x140))['forEach'](_0x4bc925=>{const _0x292a9c=_0x47896f;_0x4bc925[_0x292a9c(0x3f4)]('click',_0x5917c1=>{const _0x1ad4a8=_0x292a9c;_0x5917c1[_0x1ad4a8(0x160)]();const _0x3d75c8=_0x4bc925['dataset']['id'],_0x436727=allQuizzesGlobal['find'](_0x3ae1f6=>_0x3ae1f6['id']===_0x3d75c8);_0x436727?(document['getElementById']('quiz-bank-modal')[_0x1ad4a8(0x6b0)][_0x1ad4a8(0xb35)](_0x1ad4a8(0x3db)),startPresentation(_0x436727)):showMessage(_0x1ad4a8(0x57d));});}),_0x5094be['querySelectorAll'](_0x47896f(0x847))['forEach'](_0x5dddca=>{const _0x2342af=_0x47896f;_0x5dddca[_0x2342af(0x3f4)](_0x2342af(0x1b1),_0x714683=>{const _0x4dae23=_0x2342af;_0x714683[_0x4dae23(0x160)]();const _0x5b0576=_0x5dddca[_0x4dae23(0x43d)]['id'];document[_0x4dae23(0xa57)](_0x4dae23(0xbf3))[_0x4dae23(0x6b0)][_0x4dae23(0xb35)](_0x4dae23(0x3db)),handleMoveQuiz(_0x5b0576);});}),_0x5094be[_0x47896f(0x3cf)](_0x47896f(0x765))['forEach'](_0x4b4b1f=>{const _0x10b66f=_0x47896f;_0x4b4b1f[_0x10b66f(0x3f4)]('click',_0x561a92=>{const _0x17b0ae=_0x10b66f;_0x561a92[_0x17b0ae(0x160)]();const _0x2da721=_0x4b4b1f[_0x17b0ae(0x43d)]['id'];document[_0x17b0ae(0xa57)](_0x17b0ae(0xbf3))[_0x17b0ae(0x6b0)][_0x17b0ae(0xb35)]('hidden'),handleQuizSettings(_0x2da721);});}),_0x5094be[_0x47896f(0x3cf)](_0x47896f(0x5c4))['forEach'](_0x2ace09=>{const _0xb61867=_0x47896f;_0x2ace09[_0xb61867(0x3f4)](_0xb61867(0x1b1),_0x4332b3=>{const _0x3d31a4=_0xb61867;_0x4332b3[_0x3d31a4(0x160)]();const _0x1fa7d5=_0x2ace09['dataset']['id'],_0x5c9641=_0x2ace09['dataset'][_0x3d31a4(0x13e)];showConfirmation(_0x3d31a4(0x37c)+_0x5c9641+'\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',()=>handleDeleteQuiz(_0x1fa7d5));});}));}async function handleCompareResults(_0x4601fa,_0x3be0c6){const _0x466b45=_0x3b29b2,_0x46fd2f=document[_0x466b45(0xa57)](_0x466b45(0x3d6)),_0x49113b=document[_0x466b45(0xa57)](_0x466b45(0x69d)),_0x50ffc4=document[_0x466b45(0xa57)](_0x466b45(0x6be));document[_0x466b45(0xa57)](_0x466b45(0x77c))[_0x466b45(0x6b0)][_0x466b45(0xb35)](_0x466b45(0x37e)),document[_0x466b45(0xa57)](_0x466b45(0x213))[_0x466b45(0x6b0)]['remove'](_0x466b45(0x37e)),_0x49113b['classList'][_0x466b45(0xbb2)](_0x466b45(0x3db)),_0x50ffc4[_0x466b45(0x6b0)][_0x466b45(0xb35)]('hidden'),_0x49113b[_0x466b45(0x2b3)]=_0x466b45(0xa68),_0x50ffc4[_0x466b45(0x2b3)]='',_0x46fd2f[_0x466b45(0x6b0)][_0x466b45(0xbb2)](_0x466b45(0x3db));try{const _0x45d3e1=doc(db,_0x466b45(0xb79)+appId+_0x466b45(0x53a),_0x4601fa),_0x3953ac=await getDoc(_0x45d3e1);if(!_0x3953ac[_0x466b45(0xb65)]())throw new Error(_0x466b45(0x90a));const _0x482437=_0x3953ac['data'](),_0xab926e=_0x482437['questions'][_0x466b45(0x423)],_0x5e5b2b=collection(db,_0x466b45(0xb79)+appId+_0x466b45(0x689)+_0x3be0c6+_0x466b45(0x3d5)),_0x409008=collection(db,_0x466b45(0xb79)+appId+_0x466b45(0x689)+_0x4601fa+'/submissions'),[_0x2fdae7,_0x5b0775]=await Promise[_0x466b45(0x6e1)]([getDocs(_0x5e5b2b),getDocs(_0x409008)]),_0x3c5c27=_0x2fdae7[_0x466b45(0x8c5)][_0x466b45(0x921)](_0x2592d8=>_0x2592d8[_0x466b45(0x7a6)]()),_0x2b5c5f=_0x5b0775[_0x466b45(0x8c5)][_0x466b45(0x921)](_0x7ef525=>_0x7ef525[_0x466b45(0x7a6)]()),_0x2c3d0e=_0x3c5c27['map'](_0x4d4ee4=>_0x4d4ee4[_0x466b45(0x55c)]),_0x57e59a=_0x2b5c5f[_0x466b45(0x921)](_0x3e5c09=>_0x3e5c09['latestScore']),_0x58e2d5=calculateMeanAndStdDev(_0x2c3d0e),_0x55189e=calculateMeanAndStdDev(_0x57e59a),_0x201afb=_0x58e2d5[_0x466b45(0xbd6)],_0x5d4618=_0x55189e['mean'],_0x5bd47d=_0x5d4618-_0x201afb;let _0x2bfee7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>'+_0x201afb[_0x466b45(0x4f1)](0x2)+_0x466b45(0x5d7)+_0x5d4618['toFixed'](0x2)+_0x466b45(0x2c8)+(_0x5bd47d>=0x0?'bg-emerald-100':_0x466b45(0xb3b))+_0x466b45(0x370)+(_0x5bd47d>=0x0?_0x466b45(0x974):_0x466b45(0x8fb))+_0x466b45(0x512)+(_0x5bd47d>=0x0?_0x466b45(0x8ee):_0x466b45(0xcb1))+'\x22>'+(_0x5bd47d>=0x0?'+':'')+_0x5bd47d[_0x466b45(0x4f1)](0x2)+_0x466b45(0x52c);_0x49113b[_0x466b45(0x2b3)]=_0x2bfee7;const _0x122356=document[_0x466b45(0xa57)](_0x466b45(0xb48))[_0x466b45(0xbef)]('2d');if(chartInstances['comparison'])chartInstances['comparison'][_0x466b45(0x6e2)]();chartInstances['comparison']=new Chart(_0x122356,{'type':_0x466b45(0x5f5),'data':{'labels':['คะแนนเฉลี่ย'],'datasets':[{'label':_0x466b45(0xa93),'data':[_0x201afb],'backgroundColor':_0x466b45(0x735)},{'label':_0x466b45(0xc9b),'data':[_0x5d4618],'backgroundColor':_0x466b45(0x5b0)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0xab926e}}}});const _0x2b5059=currentProjectData[_0x466b45(0x98d)]||[],_0x3c1aa0=_0x2b5059[_0x466b45(0x921)](_0x5bbe2e=>{const _0x451016=_0x466b45,_0x493b0f=_0x3c5c27['find'](_0x4a4ef9=>_0x4a4ef9['studentName']===_0x5bbe2e),_0x2cc3c3=_0x2b5c5f[_0x451016(0xc0d)](_0x1487da=>_0x1487da['studentName']===_0x5bbe2e),_0x258e40=_0x493b0f?_0x493b0f['latestScore']:null,_0xf4b983=_0x2cc3c3?_0x2cc3c3['latestScore']:null,_0x313050=_0x258e40!==null&&_0xf4b983!==null?_0xf4b983-_0x258e40:null,_0xe55db9=_0x258e40!==null?calculateZScore(_0x258e40,_0x58e2d5[_0x451016(0xbd6)],_0x58e2d5[_0x451016(0x268)]):null,_0x1c586a=_0xf4b983!==null?calculateZScore(_0xf4b983,_0x55189e[_0x451016(0xbd6)],_0x55189e[_0x451016(0x268)]):null,_0x1e3bec=_0xe55db9!==null?calculateTScore(_0xe55db9):null,_0x5771b4=_0x1c586a!==null?calculateTScore(_0x1c586a):null,_0x39d3cf=_0x1e3bec!==null&&_0x5771b4!==null?_0x5771b4-_0x1e3bec:null;return{'name':_0x5bbe2e,'preScore':_0x258e40,'postScore':_0xf4b983,'gain':_0x313050,'preTScore':_0x1e3bec,'postTScore':_0x5771b4,'tGain':_0x39d3cf};});renderIndividualComparisonTable(_0x3c1aa0,_0x50ffc4);}catch(_0x2101e7){console[_0x466b45(0xc93)](_0x466b45(0x20b),_0x2101e7),_0x49113b[_0x466b45(0x2b3)]=_0x466b45(0x3c0);}}async function saveBlueprintProject(){const _0x5a65e8=_0x3b29b2;if(!extractedBlueprintData||!extractedBlueprintData['curriculum']){showMessage(_0x5a65e8(0x187));return;}const _0x7800dd=prompt('กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:',_0x5a65e8(0xc55));if(!_0x7800dd||_0x7800dd['trim']()==='')return;const _0x41b3bf={};extractedBlueprintData[_0x5a65e8(0x772)][_0x5a65e8(0x9aa)](_0x30e0f7=>{const _0x39cb24=_0x5a65e8;_0x30e0f7[_0x39cb24(0x17e)][_0x39cb24(0x9aa)](_0x2894ed=>{const _0xab55a2=_0x39cb24;_0x2894ed[_0xab55a2(0x7e6)]['forEach'](_0x20246f=>{const _0x205be7=_0xab55a2,_0x2b1066='topic_'+Date[_0x205be7(0x8d7)]()+Math['random']()[_0x205be7(0xa5a)](0x24)[_0x205be7(0x736)](0x2,0x9);_0x41b3bf[_0x2b1066]={'sara':_0x30e0f7['sara'],'mainTopic':_0x2894ed[_0x205be7(0x6b7)],'subTopic':_0x20246f,'status':_0x205be7(0x5e2),'lessonContent':null};});});});try{const _0x449b84=collection(db,_0x5a65e8(0xb79)+appId+_0x5a65e8(0x6f9));await addDoc(_0x449b84,{'projectName':_0x7800dd[_0x5a65e8(0x9bb)](),'gradeLevel':extractedBlueprintData[_0x5a65e8(0xab3)],'topics':_0x41b3bf,'createdAt':serverTimestamp()}),showMessage(_0x5a65e8(0xb08)+_0x7800dd[_0x5a65e8(0x9bb)]()+_0x5a65e8(0x501)),document[_0x5a65e8(0xa57)]('save-blueprint-as-project-btn')[_0x5a65e8(0x6b0)][_0x5a65e8(0xb35)](_0x5a65e8(0x3db));}catch(_0x43eee1){console['error'](_0x5a65e8(0x7c3),_0x43eee1),showMessage(_0x5a65e8(0x929));}}async function showBlueprintProjects(){const _0x2b54be=_0x3b29b2,_0x1e76a7=document[_0x2b54be(0xa57)]('blueprint-projects-modal'),_0x41f1d3=document[_0x2b54be(0xa57)](_0x2b54be(0xa95));_0x41f1d3[_0x2b54be(0x2b3)]=_0x2b54be(0xad2),_0x1e76a7['classList'][_0x2b54be(0xbb2)](_0x2b54be(0x3db));try{const _0x222423=collection(db,_0x2b54be(0xb79)+appId+'/public/data/blueprintProjects'),_0x4ec097=await getDocs(_0x222423);if(_0x4ec097[_0x2b54be(0xab0)]){_0x41f1d3['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>';return;}const _0x2d5ae8=_0x4ec097['docs'][_0x2b54be(0x921)](_0x5d5d97=>({'id':_0x5d5d97['id'],..._0x5d5d97['data']()}));_0x2d5ae8[_0x2b54be(0x445)]((_0x28c77c,_0x49242f)=>_0x28c77c[_0x2b54be(0x234)]['localeCompare'](_0x49242f[_0x2b54be(0x234)],'th')),_0x41f1d3[_0x2b54be(0x2b3)]=_0x2d5ae8[_0x2b54be(0x921)](_0x160344=>_0x2b54be(0x9b3)+_0x160344['projectName']+_0x2b54be(0x409)+_0x160344['gradeLevel']+_0x2b54be(0x638)+Object[_0x2b54be(0x71e)](_0x160344[_0x2b54be(0xa3b)])['length']+_0x2b54be(0x9bc)+_0x160344['id']+_0x2b54be(0xb30)+_0x160344['id']+'\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2b54be(0xa0a)]('');}catch(_0x554953){console['error'](_0x2b54be(0x52d),_0x554953),_0x41f1d3[_0x2b54be(0x2b3)]=_0x2b54be(0x731);}}async function displayBlueprintProjectManager(_0x3642fe){const _0x469847=_0x3b29b2;currentBlueprintProjectId=_0x3642fe,document[_0x469847(0xa57)]('blueprint-projects-modal')[_0x469847(0x6b0)]['add']('hidden'),showView('admin-dashboard'),projectDashboardView[_0x469847(0x6b0)][_0x469847(0xb35)](_0x469847(0x3db));const _0x4f2f4c=document['getElementById'](_0x469847(0x28f));_0x4f2f4c[_0x469847(0x6b0)][_0x469847(0xbb2)](_0x469847(0x3db)),document['getElementById']('bp-topic-list-container')['innerHTML']=_0x469847(0xa68);try{const _0x58e60c=doc(db,_0x469847(0xb79)+appId+_0x469847(0x6f9),_0x3642fe),_0x275767=await getDoc(_0x58e60c);if(!_0x275767[_0x469847(0xb65)]())throw new Error('ไม่พบโปรเจค');const _0x4bfde6={'id':_0x275767['id'],..._0x275767[_0x469847(0x7a6)]()};document[_0x469847(0xa57)](_0x469847(0x99c))['textContent']=_0x4bfde6[_0x469847(0x234)],document[_0x469847(0xa57)](_0x469847(0xae8))['value']=_0x4bfde6[_0x469847(0xc28)]||'',renderBlueprintTopicManager(_0x4bfde6);}catch(_0x544021){console['error'](_0x469847(0xa43),_0x544021),showMessage(_0x544021['message']),showView('admin-dashboard');}}function renderBlueprintTopicManager(_0x3d527f){const _0x3faff5=_0x3b29b2,_0xfb2a45=document[_0x3faff5(0xa57)](_0x3faff5(0x3ad)),_0x1350de=_0x3d527f[_0x3faff5(0xa3b)]||{};if(Object[_0x3faff5(0x71e)](_0x1350de)['length']===0x0){_0xfb2a45[_0x3faff5(0x2b3)]=_0x3faff5(0xc6e);return;}const _0x4b189a=Object[_0x3faff5(0xb3d)](_0x1350de)[_0x3faff5(0x921)](([_0x379cc2,_0x29518f])=>({'id':_0x379cc2,..._0x29518f}))['sort']((_0x44678b,_0x567e33)=>(_0x44678b[_0x3faff5(0x872)]??Infinity)-(_0x567e33[_0x3faff5(0x872)]??Infinity)),_0x48a598={};_0x4b189a[_0x3faff5(0x9aa)](_0x3807a8=>{const _0x287323=_0x3faff5,{sara:_0xbccf94,mainTopic:_0x1aae40}=_0x3807a8;!_0x48a598[_0xbccf94]&&(_0x48a598[_0xbccf94]={}),!_0x48a598[_0xbccf94][_0x1aae40]&&(_0x48a598[_0xbccf94][_0x1aae40]=[]),_0x48a598[_0xbccf94][_0x1aae40][_0x287323(0x4aa)](_0x3807a8);});let _0x45fa05='';for(const _0x3abce5 in _0x48a598){_0x45fa05+=_0x3faff5(0x1dc)+_0x3abce5+_0x3faff5(0xb2f);for(const _0x967b2d in _0x48a598[_0x3abce5]){_0x45fa05+=_0x3faff5(0x426)+_0x967b2d+_0x3faff5(0x6fa),_0x48a598[_0x3abce5][_0x967b2d]['forEach'](_0x44bd90=>{const _0x4fd0b3=_0x3faff5,_0x43fe31=_0x44bd90['id'],_0x444ab6=_0x44bd90[_0x4fd0b3(0x887)]||[],_0xc0357c=_0x444ab6[_0x4fd0b3(0x423)]>0x0,_0x90a989=_0x44bd90[_0x4fd0b3(0xbeb)]==='generated';let _0x3712cb='';_0xc0357c?_0x3712cb=_0x4fd0b3(0x677)+_0x444ab6[_0x4fd0b3(0x423)]+'\x20ชุด)</span>':_0x3712cb=_0x4fd0b3(0x45f)+(_0x90a989?_0x4fd0b3(0x1be):_0x4fd0b3(0x386))+'\x22>'+(_0x90a989?'สร้างแล้ว':'ยังไม่สร้าง')+_0x4fd0b3(0xbf2);const _0x28a03e=!_0x90a989?_0x4fd0b3(0xaf9):'',_0x30eac6=!_0x90a989?'กรุณาสร้างบทเรียนก่อน':'';let _0x3a9498=_0x90a989?_0x4fd0b3(0x364):_0x4fd0b3(0xb6b);_0x45fa05+=_0x4fd0b3(0x858)+_0x43fe31+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>'+_0x44bd90[_0x4fd0b3(0xb82)]+_0x4fd0b3(0x376)+_0x3712cb+_0x4fd0b3(0x1b5)+_0x28a03e+'\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20'+_0x30eac6+_0x4fd0b3(0x99e)+_0x3a9498+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x45fa05+='</div></div>';}_0x45fa05+=_0x3faff5(0xaa5);}_0xfb2a45[_0x3faff5(0x2b3)]=_0x45fa05;}async function handleDeepDeleteBlueprintProject(_0x2a5289){const _0x32fc21=_0x3b29b2,_0x4053c3=doc(db,_0x32fc21(0xb79)+appId+'/public/data/blueprintProjects',_0x2a5289),_0x299aa1=await getDoc(_0x4053c3);if(!_0x299aa1['exists']()){showMessage(_0x32fc21(0x680));return;}const _0x5427f0=_0x299aa1['data']()[_0x32fc21(0x234)];showConfirmation('คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x5427f0+'\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!',async()=>{const _0x28f373=_0x32fc21;showMessage(_0x28f373(0x53c));try{const _0x4ab065=writeBatch(db),_0x9e3bc=_0x299aa1[_0x28f373(0x7a6)](),_0x496b44=_0x9e3bc[_0x28f373(0xa3b)]||{};for(const _0x358c61 in _0x496b44){const _0x5e8baf=doc(db,'artifacts/'+appId+_0x28f373(0x2bc)+_0x2a5289+_0x28f373(0x91d),_0x358c61);_0x4ab065[_0x28f373(0xa6f)](_0x5e8baf);}const _0xebb954=new Set();for(const _0x1ddaf2 in _0x496b44){_0x496b44[_0x1ddaf2][_0x28f373(0x887)]&&_0x496b44[_0x1ddaf2]['linkedQuizIds'][_0x28f373(0x9aa)](_0x1bf84e=>_0xebb954[_0x28f373(0xb35)](_0x1bf84e));}for(const _0x49cce2 of _0xebb954){await handleDeleteQuiz(_0x49cce2,![]);}_0x4ab065[_0x28f373(0xa6f)](_0x4053c3),await _0x4ab065[_0x28f373(0x658)](),showMessage(_0x28f373(0xc49)+_0x5427f0+_0x28f373(0x7ed)),showBlueprintProjects();}catch(_0x367992){console[_0x28f373(0xc93)](_0x28f373(0x42e),_0x367992),showMessage(_0x28f373(0xa2a));}});}async function openTopicQuizBank(_0x9fa5ce){const _0x23c7f5=_0x3b29b2,_0x3d7b68=document[_0x23c7f5(0xa57)](_0x23c7f5(0x4c9)),_0x33e700=document[_0x23c7f5(0xa57)](_0x23c7f5(0x46e)),_0x39fabf=document[_0x23c7f5(0xa57)](_0x23c7f5(0xab2));try{await ensureGlobalQuizzesLoaded();const _0x1b96f0=doc(db,_0x23c7f5(0xb79)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x4fd1c1=await getDoc(_0x1b96f0);if(!_0x4fd1c1[_0x23c7f5(0xb65)]())return;const _0xfb4589=_0x4fd1c1[_0x23c7f5(0x7a6)](),_0x524624=_0xfb4589[_0x23c7f5(0xa3b)][_0x9fa5ce];document['getElementById']('topic-bank-subtopic-name')['textContent']=_0x524624[_0x23c7f5(0xb82)];const _0x36ee7b=_0x524624[_0x23c7f5(0x887)]||[];_0x39fabf[_0x23c7f5(0x6b0)][_0x23c7f5(0xc0e)](_0x23c7f5(0x3db),_0x36ee7b[_0x23c7f5(0x423)]===0x0),_0x39fabf['onclick']=()=>handleClearAllLinksForTopic(_0x9fa5ce);if(_0x36ee7b['length']===0x0)_0x33e700[_0x23c7f5(0x2b3)]='<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>';else{const _0x9feca8=allQuizzesGlobal[_0x23c7f5(0x36d)](_0x566fbb=>_0x36ee7b[_0x23c7f5(0x4c8)](_0x566fbb['id']));_0x33e700[_0x23c7f5(0x2b3)]=_0x9feca8[_0x23c7f5(0x921)](_0x3ea928=>_0x23c7f5(0x29d)+_0x3ea928['id']+_0x23c7f5(0x8be)+_0x3ea928[_0x23c7f5(0x13e)]+_0x23c7f5(0x87c)+_0x3ea928['id']+_0x23c7f5(0x638)+_0x3ea928['questions'][_0x23c7f5(0x423)]+_0x23c7f5(0x925)+_0x3ea928['id']+_0x23c7f5(0x297)+_0x3ea928['id']+'\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3ea928['id']+'\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3ea928['id']+_0x23c7f5(0x9e1)+_0x3ea928['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x3ea928['id']+_0x23c7f5(0x62a)+_0x9fa5ce+_0x23c7f5(0x9c5)+_0x3ea928['id']+_0x23c7f5(0xbc5))[_0x23c7f5(0xa0a)]('');}document['getElementById'](_0x23c7f5(0xa4a))['onclick']=()=>{openQuizSelectorForBlueprint(_0x9fa5ce);},document[_0x23c7f5(0xa57)](_0x23c7f5(0x462))[_0x23c7f5(0xbed)]=()=>_0x3d7b68[_0x23c7f5(0x6b0)][_0x23c7f5(0xb35)](_0x23c7f5(0x3db)),_0x3d7b68['classList'][_0x23c7f5(0xbb2)](_0x23c7f5(0x3db));}catch(_0x535e61){showMessage(_0x535e61[_0x23c7f5(0x8df)]);}}async function openQuizSelectorForBlueprint(_0x4cace9){const _0x1b8918=_0x3b29b2,_0x3c0583=document[_0x1b8918(0xa57)](_0x1b8918(0xbf3)),_0x137b9e=document[_0x1b8918(0xa57)]('topic-quiz-bank-modal');_0x137b9e[_0x1b8918(0x6b0)][_0x1b8918(0xb35)]('hidden'),document[_0x1b8918(0xa57)](_0x1b8918(0x520))?.[_0x1b8918(0xbb2)]();const _0x5d9741=document[_0x1b8918(0x930)]('button');_0x5d9741['id']='confirm-link-quiz-btn',_0x5d9741[_0x1b8918(0x8d5)]='bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400',_0x5d9741[_0x1b8918(0x63d)]=_0x1b8918(0x32e),_0x5d9741[_0x1b8918(0x267)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x3c0583[_0x1b8918(0x6b0)][_0x1b8918(0xbb2)](_0x1b8918(0x3db)),renderQuizBankListForMultiSelect(''),document[_0x1b8918(0xa57)](_0x1b8918(0x8a9))[_0x1b8918(0xb97)]['display']='none',_0x3c0583['querySelector'](_0x1b8918(0x40c))[_0x1b8918(0x95e)](_0x5d9741);const _0x28c7a3=(_0x55e6ce=![])=>{const _0x27af4c=_0x1b8918;_0x3c0583[_0x27af4c(0x6b0)][_0x27af4c(0xb35)]('hidden'),document[_0x27af4c(0xa57)](_0x27af4c(0x8a9))[_0x27af4c(0xb97)]['display']=_0x27af4c(0xb1e),_0x5d9741['remove'](),_0x55e6ce&&openTopicQuizBank(_0x4cace9);};_0x5d9741[_0x1b8918(0xbed)]=async()=>{const _0x23b30e=_0x1b8918,_0x3d7c65=Array[_0x23b30e(0x35d)](document[_0x23b30e(0x3cf)](_0x23b30e(0xb0a)))[_0x23b30e(0x921)](_0x989bc8=>_0x989bc8['value']);if(_0x3d7c65[_0x23b30e(0x423)]===0x0)return;try{const _0xd4c0a5=doc(db,'artifacts/'+appId+_0x23b30e(0x6f9),currentBlueprintProjectId),_0x26381f=(await getDoc(_0xd4c0a5))[_0x23b30e(0x7a6)](),_0x5f3f9a=_0x26381f[_0x23b30e(0xa3b)][_0x4cace9][_0x23b30e(0x887)]||[],_0xc62765=[...new Set([..._0x5f3f9a,..._0x3d7c65])];await updateDoc(_0xd4c0a5,{[_0x23b30e(0x69a)+_0x4cace9+_0x23b30e(0x2c7)]:_0xc62765}),showMessage(_0x23b30e(0x5f6)+_0x3d7c65[_0x23b30e(0x423)]+_0x23b30e(0x7e3)),_0x28c7a3(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x370b50){console[_0x23b30e(0xc93)](_0x23b30e(0x1d6),_0x370b50);}},document[_0x1b8918(0xa57)](_0x1b8918(0x1c5))['onclick']=()=>_0x28c7a3(!![]);}catch(_0x3d0a67){showMessage(_0x3d0a67[_0x1b8918(0x8df)]),_0x137b9e['classList']['remove'](_0x1b8918(0x3db));}}function handleClearLinkedQuiz(_0x8b4fa1){showConfirmation('คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?',async()=>{const _0x2543d1=_0x376a;try{const _0x203f81=doc(db,_0x2543d1(0xb79)+appId+_0x2543d1(0x6f9),currentBlueprintProjectId);await updateDoc(_0x203f81,{[_0x2543d1(0x69a)+_0x8b4fa1+_0x2543d1(0x135)]:deleteField()}),showMessage('ยกเลิกการเชื่อมโยงสำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x33fbbb){console[_0x2543d1(0xc93)](_0x2543d1(0xc8e),_0x33fbbb),showMessage(_0x2543d1(0x9fa));}});}async function addTopicToProject(){const _0x1ef4ed=_0x3b29b2,_0x49f332=prompt(_0x1ef4ed(0xa2e));if(!_0x49f332||_0x49f332['trim']()==='')return;const _0x497c5a=prompt('อยู่ในสาระการเรียนรู้ใด:',_0x1ef4ed(0xb9f)),_0x3f1b85=prompt('อยู่ในหัวข้อหลักใด:',_0x1ef4ed(0xa27)),_0x5bf3f2='topic_'+Date[_0x1ef4ed(0x8d7)]()+Math['random']()[_0x1ef4ed(0xa5a)](0x24)[_0x1ef4ed(0x736)](0x2,0x9),_0x5264c0={'sara':_0x497c5a,'mainTopic':_0x3f1b85,'subTopic':_0x49f332[_0x1ef4ed(0x9bb)](),'status':_0x1ef4ed(0x5e2),'lessonContent':null};try{const _0x585507=doc(db,_0x1ef4ed(0xb79)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x585507,{['topics.'+_0x5bf3f2]:_0x5264c0}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0xc89b8b){console[_0x1ef4ed(0xc93)](_0x1ef4ed(0x22f),_0xc89b8b),showMessage(_0x1ef4ed(0x900));}}async function editTopicInProject(_0x1b2933){const _0x14ed2f=_0x3b29b2,_0xe382c7=document['querySelector'](_0x14ed2f(0x475)+_0x1b2933+'\x22]'),_0x5b338c=_0xe382c7[_0x14ed2f(0x1c1)](_0x14ed2f(0x83b)),_0x1c166e=_0x5b338c[_0x14ed2f(0x63d)],_0xb51860=prompt(_0x14ed2f(0xad8),_0x1c166e);if(!_0xb51860||_0xb51860['trim']()===''||_0xb51860[_0x14ed2f(0x9bb)]()===_0x1c166e)return;try{const _0x179331=doc(db,_0x14ed2f(0xb79)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x179331,{[_0x14ed2f(0x69a)+_0x1b2933+_0x14ed2f(0x779)]:_0xb51860[_0x14ed2f(0x9bb)]()}),_0x5b338c[_0x14ed2f(0x63d)]=_0xb51860[_0x14ed2f(0x9bb)](),showMessage(_0x14ed2f(0x595));}catch(_0x38534d){console[_0x14ed2f(0xc93)](_0x14ed2f(0x1cf),_0x38534d),showMessage(_0x14ed2f(0x42a));}}async function deleteTopicFromProject(_0x4ade81){const _0xaadab1=_0x3b29b2;if(!confirm('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?'))return;try{const _0x47949b=doc(db,_0xaadab1(0xb79)+appId+_0xaadab1(0x6f9),currentBlueprintProjectId);await updateDoc(_0x47949b,{['topics.'+_0x4ade81]:deleteField()}),document[_0xaadab1(0x1c1)](_0xaadab1(0x475)+_0x4ade81+'\x22]')[_0xaadab1(0xbb2)](),showMessage(_0xaadab1(0x47d));}catch(_0x2ff668){console['error'](_0xaadab1(0xc08),_0x2ff668),showMessage(_0xaadab1(0x1df));}}async function generateAndSaveLessonForBlueprint(_0x446815,_0x3356a7,_0x4d5ee1){handleGenerateAndShowLesson(_0x3356a7,_0x4d5ee1);const _0x299d6e=setInterval(async()=>{const _0x57e207=_0x376a,_0x2b0cb0=document[_0x57e207(0xa57)](_0x57e207(0x317)),_0x6b3773=_0x2b0cb0['classList'][_0x57e207(0x7a2)](_0x57e207(0x3db));if(_0x6b3773){clearInterval(_0x299d6e);if(currentApplicationData&&currentApplicationData[_0x57e207(0x423)]>0x0){const _0x540b4e={'point':document[_0x57e207(0xa57)](_0x57e207(0x480))[_0x57e207(0x2b3)],'memory':document[_0x57e207(0xa57)](_0x57e207(0x157))['innerHTML'],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x57e207(0xa57)](_0x57e207(0xa56))['innerHTML']};try{const _0x2b82ba=doc(db,_0x57e207(0xb79)+appId+_0x57e207(0x6f9),currentBlueprintProjectId),_0xc88276=doc(db,_0x57e207(0xb79)+appId+_0x57e207(0x2bc)+currentBlueprintProjectId+_0x57e207(0x91d),_0x446815),_0xe306af=writeBatch(db);_0xe306af[_0x57e207(0x92d)](_0xc88276,{'content':_0x540b4e}),_0xe306af[_0x57e207(0x3f2)](_0x2b82ba,{[_0x57e207(0x69a)+_0x446815+_0x57e207(0x82a)]:'generated'}),await _0xe306af['commit'](),console[_0x57e207(0x886)](_0x57e207(0x3ff)+_0x446815+_0x57e207(0x784)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3e0c19){console[_0x57e207(0xc93)](_0x57e207(0xa3a),_0x3e0c19);}}}},0x3e8);}function displayHalfMarkResult(_0x5aec30,_0x2e76e9){const _0x37af68=_0x3b29b2,_0x1f27c4=_0x5aec30>=_0x2e76e9/0x2,_0x5a08e4=_0x1f27c4?_0x37af68(0x5cd):_0x37af68(0xb3b),_0x555b0d=_0x1f27c4?_0x37af68(0x280):_0x37af68(0x396),_0x349458=_0x1f27c4?_0x37af68(0x70e):_0x37af68(0x8fb),_0x577c7f=_0x1f27c4?_0x37af68(0x20d):_0x37af68(0x1d0),_0x3d4dfa=_0x1f27c4?_0x37af68(0x41f):_0x37af68(0x11d);let _0x3c9b60=_0x37af68(0x88e)+_0x5a08e4+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x555b0d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x349458+_0x37af68(0x158)+_0x577c7f+_0x37af68(0x262)+_0x3d4dfa+_0x37af68(0x153);studentResultArea[_0x37af68(0x2b3)]=_0x3c9b60,studentResultArea['classList'][_0x37af68(0xbb2)](_0x37af68(0x3db)),studentQuizArea['classList'][_0x37af68(0xb35)](_0x37af68(0x3db)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x1f27c4});}function displayPerfectScoreResult(_0xba7fdd,_0x4ffe6c){const _0x282b80=_0x3b29b2,_0x365632=_0xba7fdd===_0x4ffe6c,_0x38d703=_0x365632?_0x282b80(0xa38):'bg-blue-100',_0x2251a8=_0x365632?_0x282b80(0x5fc):_0x282b80(0x2d7),_0x5a1331=_0x365632?_0x282b80(0x548):_0x282b80(0xc8d),_0x3445a4=_0x365632?_0x282b80(0x40b):'ยังไม่เต็มนะ',_0x4b43b7=_0x365632?_0x282b80(0xadf):'เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม';let _0x4ea8c9=_0x282b80(0x88e)+_0x38d703+_0x282b80(0x83d)+_0x2251a8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x5a1331+_0x282b80(0x158)+_0x3445a4+_0x282b80(0x262)+_0x4b43b7+_0x282b80(0x153);studentResultArea['innerHTML']=_0x4ea8c9,studentResultArea[_0x282b80(0x6b0)]['remove'](_0x282b80(0x3db)),studentQuizArea[_0x282b80(0x6b0)][_0x282b80(0xb35)](_0x282b80(0x3db)),setupResultScreenBackButton({'showRankings':![],'score':_0xba7fdd,'totalQuestions':_0x4ffe6c});}function renderIndividualComparisonTable(_0x25f12f,_0x526218){const _0x3329e9=_0x3b29b2;_0x25f12f['sort']((_0x153be9,_0x14acf5)=>(_0x14acf5['tGain']??-Infinity)-(_0x153be9['tGain']??-Infinity));let _0x30b8d5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x25f12f[_0x3329e9(0x423)]===0x0?_0x30b8d5+=_0x3329e9(0x576):_0x25f12f[_0x3329e9(0x9aa)]((_0x5e82a1,_0xc1d450)=>{const _0x9abe96=_0x3329e9;let _0x1056f8='-',_0x33d886='';if(_0x5e82a1['gain']!==null){const _0x3d8fb6=_0x5e82a1[_0x9abe96(0xc0c)]>0x0?_0x9abe96(0x116):_0x5e82a1['gain']<0x0?_0x9abe96(0x4ba):_0x9abe96(0xa70),_0x2f4147=_0x5e82a1[_0x9abe96(0xc0c)]>0x0?'+':'';_0x1056f8=_0x9abe96(0x948)+_0x3d8fb6+'\x22>'+_0x2f4147+_0x5e82a1['gain']+'</span>';if(_0x5e82a1[_0x9abe96(0xc0c)]>0x0)_0x33d886='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0x5e82a1['gain']<0x0?_0x33d886=_0x9abe96(0x56b):_0x33d886=_0x9abe96(0x45a);}let _0x590fe0='-';if(_0x5e82a1[_0x9abe96(0x89d)]!==null){const _0x40754f=_0x5e82a1[_0x9abe96(0x89d)]>0x0?_0x9abe96(0x116):_0x5e82a1[_0x9abe96(0x89d)]<0x0?'text-red-600':_0x9abe96(0xa70),_0x225ff6=_0x5e82a1['tGain']>0x0?'+':'';_0x590fe0=_0x9abe96(0x948)+_0x40754f+'\x22>'+_0x225ff6+_0x5e82a1['tGain'][_0x9abe96(0x4f1)](0x2)+_0x9abe96(0xbf2);}_0x30b8d5+=_0x9abe96(0x737)+(_0xc1d450+0x1)+_0x9abe96(0xaeb)+_0x5e82a1[_0x9abe96(0xc6f)]+_0x9abe96(0x4d7)+(_0x5e82a1['preScore']??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>'+(_0x5e82a1[_0x9abe96(0xa3f)]??'-')+_0x9abe96(0x4d7)+_0x1056f8+_0x9abe96(0x59a)+_0x33d886+_0x9abe96(0x257)+(_0x5e82a1[_0x9abe96(0xc81)]?.['toFixed'](0x2)??'-')+_0x9abe96(0xaf8)+(_0x5e82a1['postTScore']?.[_0x9abe96(0x4f1)](0x2)??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x590fe0+_0x9abe96(0xa75);}),_0x30b8d5+='</tbody></table></div>',_0x526218[_0x3329e9(0x2b3)]=_0x30b8d5;}function handleRenameQuiz(_0x11a1af,_0x53d60d){const _0x5bed1c=_0x3b29b2;actionTargetId=_0x11a1af,document['getElementById'](_0x5bed1c(0x88f))[_0x5bed1c(0x6d4)]=_0x53d60d,renameQuizModal[_0x5bed1c(0x6b0)][_0x5bed1c(0xbb2)](_0x5bed1c(0x3db));}function setupComparisonModalTabs(){const _0x283d40=_0x3b29b2,_0x2991f6=document['getElementById'](_0x283d40(0x77c)),_0x121fe9=document[_0x283d40(0xa57)](_0x283d40(0x213)),_0x2af1fe=document[_0x283d40(0xa57)]('comparison-overall-content'),_0x1d588b=document['getElementById'](_0x283d40(0x6be));_0x2991f6[_0x283d40(0x3f4)](_0x283d40(0x1b1),()=>{const _0x16aca9=_0x283d40;_0x2991f6[_0x16aca9(0x6b0)][_0x16aca9(0xb35)]('active'),_0x121fe9[_0x16aca9(0x6b0)][_0x16aca9(0xbb2)](_0x16aca9(0x37e)),_0x2af1fe[_0x16aca9(0x6b0)]['remove']('hidden'),_0x1d588b['classList']['add'](_0x16aca9(0x3db));}),_0x121fe9[_0x283d40(0x3f4)](_0x283d40(0x1b1),()=>{const _0x40a59e=_0x283d40;_0x121fe9[_0x40a59e(0x6b0)]['add'](_0x40a59e(0x37e)),_0x2991f6[_0x40a59e(0x6b0)][_0x40a59e(0xbb2)](_0x40a59e(0x37e)),_0x1d588b[_0x40a59e(0x6b0)]['remove'](_0x40a59e(0x3db)),_0x2af1fe[_0x40a59e(0x6b0)][_0x40a59e(0xb35)]('hidden');});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x26cf6e=_0x3b29b2;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x4b4a32=doc(db,_0x26cf6e(0xb79)+appId+_0x26cf6e(0xac2),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x4b4a32,_0x59d933=>{const _0x4d9874=_0x26cf6e;if(!_0x59d933[_0x4d9874(0xb65)]()){showMessage(_0x4d9874(0xae0));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x4d9874(0xa9b)?showView(_0x4d9874(0x484)):showView('student');return;}const _0x36cf5e=_0x59d933[_0x4d9874(0x7a6)]();_0x36cf5e[_0x4d9874(0xc2b)]&&(currentQuizData=_0x36cf5e['shuffledQuiz']);!currentQuizData&&_0x36cf5e[_0x4d9874(0x6da)]&&((async()=>{const _0x52bbde=_0x4d9874;try{const _0x35818f=doc(db,_0x52bbde(0xb79)+appId+_0x52bbde(0x53a),_0x36cf5e[_0x52bbde(0x6da)]),_0x4acee8=await getDoc(_0x35818f);_0x4acee8[_0x52bbde(0xb65)]()&&(currentQuizData={'id':_0x4acee8['id'],..._0x4acee8[_0x52bbde(0x7a6)]()});}catch(_0x592f4f){console[_0x52bbde(0xc93)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0x592f4f);}})());switch(_0x36cf5e[_0x4d9874(0xbeb)]){case _0x4d9874(0x40e):if(currentMode===_0x4d9874(0xa9b)){const _0xb83e6c=_0x36cf5e[_0x4d9874(0x7d2)]?Object[_0x4d9874(0xb3d)](_0x36cf5e[_0x4d9874(0x7d2)]):[],_0x149723=_0xb83e6c[_0x4d9874(0x36d)](([_0x21b184,_0x8d70ce])=>_0x8d70ce[_0x4d9874(0xbeb)]==='active'),_0x36a272=document[_0x4d9874(0xa57)](_0x4d9874(0x7de));if(_0x36a272)_0x36a272['textContent']=_0x149723[_0x4d9874(0x423)];const _0x1a78b1=document['getElementById']('player-list-lobby');_0x1a78b1&&(_0x1a78b1[_0x4d9874(0x2b3)]=_0x149723[_0x4d9874(0x921)](([_0x74b1fa,_0x314ad3])=>_0x4d9874(0x2a7)+_0x74b1fa+_0x4d9874(0x986)+_0x74b1fa+_0x4d9874(0x8c4))[_0x4d9874(0xa0a)](''));const _0x5a04ae=document[_0x4d9874(0xa57)](_0x4d9874(0x5a7));_0x5a04ae&&(_0x5a04ae[_0x4d9874(0x267)]=_0x149723[_0x4d9874(0x423)]===0x0);}else showView('live-game'),liveGameView[_0x4d9874(0x2b3)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+_0x4d9874(0x96d);break;case _0x4d9874(0x3ee):const _0x1bafa6=_0x36cf5e[_0x4d9874(0x60a)];if(currentQuizData&&currentQuizData[_0x4d9874(0x288)][_0x1bafa6]){const _0x1656ac=currentQuizData['questions'][_0x1bafa6],_0x4faedb=_0x36cf5e[_0x4d9874(0xa0e)]||_0x4d9874(0xb01);switch(_0x4faedb){case'summary_chart':currentMode===_0x4d9874(0xa9b)?showAdminSummaryView(_0x36cf5e,_0x1656ac):showPlayerSummaryView(_0x36cf5e,currentStudentName);break;case'leaderboard':currentMode===_0x4d9874(0xa9b)&&showTop5LeaderboardView(_0x36cf5e);break;case'answering':default:if(currentMode===_0x4d9874(0xa9b)){const _0x51bf41=writeBatch(db);let _0x441b85=![];Object[_0x4d9874(0xb3d)](_0x36cf5e[_0x4d9874(0x7d2)])[_0x4d9874(0x9aa)](([_0x49c47d,_0x5c49c4])=>{const _0x493818=_0x4d9874;if(_0x5c49c4[_0x493818(0xbeb)]===_0x493818(0x37e)&&_0x5c49c4[_0x493818(0x3a2)]&&!_0x5c49c4['isScored']){_0x441b85=!![];const _0x337eb9=_0x5c49c4[_0x493818(0x3a2)][_0x493818(0x40a)]()-_0x36cf5e[_0x493818(0x4cb)]['toDate']();let _0x5ae0d6=0x0;if(_0x5c49c4['lastAnswerCorrect']){const _0x1b0199=0x3e8,_0x1db1eb=0x1f4,_0x1516d3=0x4e20;let _0x1aeac1=_0x337eb9/_0x1516d3;if(_0x1aeac1>0x1)_0x1aeac1=0x1;const _0x3b68a9=Math[_0x493818(0x43e)](_0x1aeac1*_0x1db1eb);_0x5ae0d6=_0x1b0199-_0x3b68a9;}const _0x2c6717=doc(db,_0x493818(0xb79)+appId+'/public/data/liveGames',currentLiveGameId);_0x51bf41[_0x493818(0x3f2)](_0x2c6717,{[_0x493818(0x7f7)+_0x49c47d+_0x493818(0xbcc)]:increment(_0x5ae0d6),[_0x493818(0x7f7)+_0x49c47d+_0x493818(0x998)]:_0x5ae0d6,[_0x493818(0x7f7)+_0x49c47d+'.isScored']:!![]});}});_0x441b85&&_0x51bf41['commit']()[_0x4d9874(0xc9f)](_0x1c8530=>console[_0x4d9874(0xc93)](_0x4d9874(0x6fd),_0x1c8530));lastRenderedAdminQuestionIndex!==_0x1bafa6&&(showAdminLiveQuestionView(_0x1656ac,_0x1bafa6,currentQuizData['questions'][_0x4d9874(0x423)]),lastRenderedAdminQuestionIndex=_0x1bafa6);const _0x54f3f6=_0x36cf5e[_0x4d9874(0x7d2)]||{},_0x5c3ecb=Object['values'](_0x54f3f6)['filter'](_0x55c753=>_0x55c753[_0x4d9874(0xbeb)]==='active'),_0x536908=_0x5c3ecb[_0x4d9874(0x423)],_0x1ad587=_0x5c3ecb[_0x4d9874(0x36d)](_0x3d36e6=>_0x3d36e6[_0x4d9874(0xc91)]===!![])['length'],_0x1a0d9f=document[_0x4d9874(0xa57)]('answer-counter');if(_0x1a0d9f)_0x1a0d9f[_0x4d9874(0x63d)]=_0x1ad587+'/'+_0x536908;const _0x3cafa4=document[_0x4d9874(0xa57)](_0x4d9874(0x640));if(_0x3cafa4){let _0x4f5061=Object[_0x4d9874(0xb3d)](_0x54f3f6)[_0x4d9874(0x36d)](([_0x33a552,_0x39e95c])=>_0x39e95c['status']===_0x4d9874(0x37e))['map'](([_0x4efaf0,_0x264ba0])=>{const _0x16087d=_0x4d9874,_0x341754=_0x264ba0[_0x16087d(0xc91)]===!![],_0x52ab4d=_0x341754?_0x16087d(0x725):'bg-gray-500',_0x128e08=_0x341754?_0x16087d(0x1ea):_0x16087d(0x7d5);return _0x16087d(0x814)+_0x52ab4d+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x128e08+_0x16087d(0x2ed)+_0x4efaf0+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x4efaf0+'\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x4d9874(0xa0a)]('');_0x3cafa4[_0x4d9874(0x2b3)]=_0x4f5061||'<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>';}_0x536908>0x0&&_0x1ad587===_0x536908&&revealAnswerForAdmin(_0x1bafa6,currentQuizData[_0x4d9874(0x288)][_0x4d9874(0x423)]);}else{const _0x5049d9=_0x36cf5e[_0x4d9874(0x7d2)][currentStudentName];_0x5049d9&&!_0x5049d9[_0x4d9874(0xc91)]&&showStudentLiveQuestionView(_0x1656ac,_0x1bafa6,currentQuizData[_0x4d9874(0x288)]['length']);}break;}}break;case _0x4d9874(0x56f):showPodiumView(_0x36cf5e[_0x4d9874(0x7d2)],_0x4d9874(0x38b));break;}});}async function openGlobalActivityModal(){const _0x28022f=_0x3b29b2;if(allQuizzesGlobal['length']===0x0){const _0x4ea2b7=await getDocs(collection(db,_0x28022f(0xb79)+appId+_0x28022f(0x53a)));allQuizzesGlobal=_0x4ea2b7[_0x28022f(0x8c5)][_0x28022f(0x921)](_0x4d7bce=>({'id':_0x4d7bce['id'],..._0x4d7bce[_0x28022f(0x7a6)]()}));}renderGlobalActivityList(''),document[_0x28022f(0xa57)](_0x28022f(0x997))[_0x28022f(0x6b0)]['remove'](_0x28022f(0x3db));}function renderGlobalActivityList(_0x4bdfb5=''){const _0x339d58=_0x3b29b2,_0x130f0f=document['getElementById'](_0x339d58(0x1f0)),_0xee26b=_0x4bdfb5[_0x339d58(0x80a)]()[_0x339d58(0x9bb)](),_0xb61ad5=allQuizzesGlobal[_0x339d58(0x921)](_0x3644ec=>({..._0x3644ec,'projectName':allProjects[_0x339d58(0xc0d)](_0x27abc2=>_0x27abc2['id']===_0x3644ec[_0x339d58(0x13a)])?.[_0x339d58(0x234)]||_0x339d58(0x137)}))[_0x339d58(0x36d)](_0x39265c=>(_0x39265c['topic']||'')[_0x339d58(0x80a)]()[_0x339d58(0x4c8)](_0xee26b)||(_0x39265c['projectName']||'')['toLowerCase']()[_0x339d58(0x4c8)](_0xee26b));document[_0x339d58(0xa57)](_0x339d58(0x80d))[_0x339d58(0x63d)]='('+_0xb61ad5['length']+_0x339d58(0x18b),_0x130f0f['innerHTML']=_0xb61ad5[_0x339d58(0x423)]?_0xb61ad5[_0x339d58(0x921)](_0x212c05=>_0x339d58(0x352)+(_0x212c05[_0x339d58(0x13e)]||_0x339d58(0x96b))+_0x339d58(0x222)+(_0x212c05['questions']?.[_0x339d58(0x423)]||0x0)+_0x339d58(0x383)+_0x212c05['projectName']+_0x339d58(0x750)+_0x212c05['id']+'\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x212c05['id']+_0x339d58(0x8da)+_0x212c05['id']+_0x339d58(0x8cf)+_0x212c05['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20')['join'](''):_0x339d58(0x9a7);}async function handleKickPlayer(_0x1e1704){const _0x136238=_0x3b29b2;if(!currentLiveGameId||!_0x1e1704)return;const _0x58b9e9=doc(db,'artifacts/'+appId+_0x136238(0xac2),currentLiveGameId),_0x235b0d={};_0x235b0d[_0x136238(0x7f7)+_0x1e1704+_0x136238(0x82a)]=_0x136238(0xa71);try{await updateDoc(_0x58b9e9,_0x235b0d);}catch(_0x392dcc){console['error']('Failed\x20to\x20kick\x20player\x20'+_0x1e1704+':',_0x392dcc),showMessage(_0x136238(0x747));}}async function authenticateUser(){const _0xdf6cbf=_0x3b29b2;try{typeof __initial_auth_token!==_0xdf6cbf(0xba8)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x33d2a8){console[_0xdf6cbf(0xc93)](_0xdf6cbf(0xbd5),_0x33d2a8),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x29139d){const _0x18c189=_0x3b29b2;adminView[_0x18c189(0x6b0)]['add'](_0x18c189(0x3db)),studentView[_0x18c189(0x6b0)][_0x18c189(0xb35)]('hidden'),projectDashboardView['classList'][_0x18c189(0xb35)](_0x18c189(0x3db)),projectDetailView[_0x18c189(0x6b0)][_0x18c189(0xb35)]('hidden'),quizResultsView[_0x18c189(0x6b0)][_0x18c189(0xb35)](_0x18c189(0x3db)),liveGameView['classList'][_0x18c189(0xb35)](_0x18c189(0x3db)),document[_0x18c189(0xa57)]('blueprint-project-manager-view')[_0x18c189(0x6b0)]['add'](_0x18c189(0x3db)),studentInitialView['classList'][_0x18c189(0xb35)](_0x18c189(0x3db)),studentJoinGameView[_0x18c189(0x6b0)][_0x18c189(0xb35)](_0x18c189(0x3db)),studentNameSelectionView['classList'][_0x18c189(0xb35)](_0x18c189(0x3db)),studentQuizArea[_0x18c189(0x6b0)]['add'](_0x18c189(0x3db)),studentResultArea[_0x18c189(0x6b0)][_0x18c189(0xb35)](_0x18c189(0x3db)),studentReadingArea[_0x18c189(0x6b0)][_0x18c189(0xb35)](_0x18c189(0x3db));const _0x488104=document[_0x18c189(0xa57)](_0x18c189(0xc51)),_0x32f978=document['getElementById'](_0x18c189(0xc80));if(_0x488104)_0x488104[_0x18c189(0x6b0)]['add'](_0x18c189(0x3db));if(_0x32f978)_0x32f978[_0x18c189(0x6b0)][_0x18c189(0xb35)](_0x18c189(0x3db));switch(_0x29139d){case'admin-dashboard':adminView[_0x18c189(0x6b0)]['remove']('hidden'),projectDashboardView[_0x18c189(0x6b0)][_0x18c189(0xbb2)](_0x18c189(0x3db));break;case _0x18c189(0x484):adminView['classList'][_0x18c189(0xbb2)](_0x18c189(0x3db)),projectDetailView[_0x18c189(0x6b0)][_0x18c189(0xbb2)](_0x18c189(0x3db));break;case _0x18c189(0x9a3):adminView[_0x18c189(0x6b0)][_0x18c189(0xbb2)](_0x18c189(0x3db)),quizResultsView[_0x18c189(0x6b0)][_0x18c189(0xbb2)](_0x18c189(0x3db));break;case _0x18c189(0x3a6):studentView[_0x18c189(0x6b0)]['remove'](_0x18c189(0x3db)),studentInitialView['classList']['remove'](_0x18c189(0x3db));break;case _0x18c189(0x618):liveGameView[_0x18c189(0x6b0)][_0x18c189(0xbb2)]('hidden');break;case _0x18c189(0x541):studentView[_0x18c189(0x6b0)][_0x18c189(0xbb2)]('hidden');if(_0x488104)_0x488104['classList'][_0x18c189(0xbb2)](_0x18c189(0x3db));break;case _0x18c189(0x281):studentView[_0x18c189(0x6b0)]['remove'](_0x18c189(0x3db));if(_0x32f978)_0x32f978[_0x18c189(0x6b0)][_0x18c189(0xbb2)](_0x18c189(0x3db));break;default:studentView[_0x18c189(0x6b0)][_0x18c189(0xbb2)](_0x18c189(0x3db)),studentInitialView[_0x18c189(0x6b0)][_0x18c189(0xbb2)](_0x18c189(0x3db));break;}}function showJoinGameView(){const _0x670c77=_0x3b29b2;studentInitialView[_0x670c77(0x6b0)][_0x670c77(0xb35)](_0x670c77(0x3db)),studentJoinGameView[_0x670c77(0x6b0)]['remove'](_0x670c77(0x3db));}async function handleSaveVisibilitySettings(){const _0x1c1170=_0x3b29b2;if(!currentProjectId)return;const _0x39c9c9=doc(db,_0x1c1170(0xb79)+appId+_0x1c1170(0x304),currentProjectId);try{await updateDoc(_0x39c9c9,{'settings.showInStudentDashboard':document[_0x1c1170(0xa57)](_0x1c1170(0x513))[_0x1c1170(0x354)],'settings.isPasscodeEnabled':document['getElementById'](_0x1c1170(0x4c5))[_0x1c1170(0x354)],'settings.passcode':document[_0x1c1170(0xa57)]('project-passcode-input')['value']['trim']()}),showMessage(_0x1c1170(0xa24));}catch(_0x3b5a27){console[_0x1c1170(0xc93)](_0x1c1170(0xc2e),_0x3b5a27),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x1001aa=_0x3b29b2;document[_0x1001aa(0xa57)](_0x1001aa(0x18f))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),async()=>{const _0x38c2b3=_0x1001aa;if(!currentBlueprintProjectId)return;const _0x3ddb75=document[_0x38c2b3(0xa57)](_0x38c2b3(0xae8))['value'][_0x38c2b3(0x9bb)](),_0x45244b=doc(db,_0x38c2b3(0xb79)+appId+_0x38c2b3(0x6f9),currentBlueprintProjectId);try{await updateDoc(_0x45244b,{'referenceFileUrl':_0x3ddb75}),showMessage('บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ');}catch(_0x11b937){console[_0x38c2b3(0xc93)](_0x38c2b3(0x1f1),_0x11b937),showMessage(_0x38c2b3(0x550));}}),document[_0x1001aa(0xa57)]('add-parallel-shortcut-tab-btn')[_0x1001aa(0x3f4)]('click',handleAddParallelShortcutTab),document[_0x1001aa(0xa57)]('parallel-test-input-area')[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),_0x693037=>{const _0x148b5c=_0x1001aa;_0x693037[_0x148b5c(0x408)][_0x148b5c(0xcac)](_0x148b5c(0x9b0))&&(activeParallelShortcutTabId=_0x148b5c(0x6e1),renderAdditionalParallelShortcutsModal(),document[_0x148b5c(0xa57)]('additional-parallel-shortcuts-modal')[_0x148b5c(0x6b0)][_0x148b5c(0xbb2)](_0x148b5c(0x3db)));}),document[_0x1001aa(0xa57)]('close-additional-parallel-shortcuts-btn')[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{const _0xc702f=_0x1001aa;document[_0xc702f(0xa57)](_0xc702f(0x2e5))['classList'][_0xc702f(0xb35)](_0xc702f(0x3db));}),document[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),_0x1fd524=>{const _0x320dac=_0x1001aa;!_0x1fd524[_0x320dac(0x408)]['closest'](_0x320dac(0x8eb))&&document[_0x320dac(0x3cf)]('.move-parallel-shortcut-dropdown')[_0x320dac(0x9aa)](_0x20b92f=>_0x20b92f[_0x320dac(0x6b0)][_0x320dac(0xb35)](_0x320dac(0x3db)));}),document[_0x1001aa(0xa57)](_0x1001aa(0x68e))[_0x1001aa(0x3f4)]('click',handleAddFileShortcutTab),document[_0x1001aa(0xa57)]('file-input-area')[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),_0x38e5c7=>{const _0x237fa1=_0x1001aa;_0x38e5c7[_0x237fa1(0x408)][_0x237fa1(0xcac)](_0x237fa1(0x5e3))&&(activeFileShortcutTabId=_0x237fa1(0x6e1),renderAdditionalFileShortcutsModal(),document[_0x237fa1(0xa57)](_0x237fa1(0x584))[_0x237fa1(0x6b0)][_0x237fa1(0xbb2)]('hidden'));}),document[_0x1001aa(0xa57)]('close-additional-file-shortcuts-btn')[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{const _0x4295ec=_0x1001aa;document[_0x4295ec(0xa57)]('additional-file-shortcuts-modal')['classList']['add'](_0x4295ec(0x3db));}),document[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),_0xf7d510=>{const _0x3a5eaa=_0x1001aa;!_0xf7d510[_0x3a5eaa(0x408)][_0x3a5eaa(0xcac)]('.group\x5c/dropdown-file')&&document[_0x3a5eaa(0x3cf)](_0x3a5eaa(0x7b7))[_0x3a5eaa(0x9aa)](_0x5b86a7=>_0x5b86a7[_0x3a5eaa(0x6b0)][_0x3a5eaa(0xb35)](_0x3a5eaa(0x3db)));}),document[_0x1001aa(0xa57)]('add-shortcut-tab-btn')[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),handleAddShortcutTab),document[_0x1001aa(0xa57)](_0x1001aa(0x85b))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),_0x54acdc=>{const _0x41e6c=_0x1001aa,_0x4bfb96=_0x54acdc[_0x41e6c(0x408)][_0x41e6c(0xcac)](_0x41e6c(0x90d)),_0xa325cc=_0x54acdc[_0x41e6c(0x408)]['closest'](_0x41e6c(0xaff)),_0x4a0d21=_0x54acdc[_0x41e6c(0x408)][_0x41e6c(0xcac)](_0x41e6c(0x3c7));if(_0xa325cc)openParallelTestShortcutEditor(_0xa325cc[_0x41e6c(0x43d)]['id']);else{if(_0x4a0d21){const _0x436133=_0x4a0d21[_0x41e6c(0x43d)]['id'];showConfirmation(_0x41e6c(0x474),async()=>{const _0x43ac97=_0x41e6c,_0x489f17=parallelTestShortcuts['filter'](_0x2205de=>_0x2205de['id']!==_0x436133),_0x4f8117=doc(db,_0x43ac97(0x522),'parallelTestShortcutsConfig');await setDoc(_0x4f8117,{'shortcuts':_0x489f17},{'merge':!![]});});}else _0x4bfb96&&handleParallelTestShortcutClick(_0x4bfb96['dataset']['id']);}}),document[_0x1001aa(0xa57)]('add-parallel-shortcut-btn')[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>openParallelTestShortcutEditor(null)),document['getElementById'](_0x1001aa(0xc01))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{const _0x18b4cd=_0x1001aa;document['getElementById'](_0x18b4cd(0x195))[_0x18b4cd(0x6b0)][_0x18b4cd(0xb35)](_0x18b4cd(0x3db));}),document['getElementById'](_0x1001aa(0x85c))['addEventListener'](_0x1001aa(0x1b1),saveParallelTestShortcutChanges),document[_0x1001aa(0xa57)](_0x1001aa(0xaaa))['addEventListener']('click',_0x45e58d=>{const _0x5c304d=_0x1001aa;_0x45e58d[_0x5c304d(0x408)]['closest'](_0x5c304d(0x9b0))&&document[_0x5c304d(0xa57)](_0x5c304d(0x2e5))[_0x5c304d(0x6b0)]['remove'](_0x5c304d(0x3db));}),document[_0x1001aa(0xa57)]('close-additional-parallel-shortcuts-btn')['addEventListener'](_0x1001aa(0x1b1),()=>{const _0x764c06=_0x1001aa;document[_0x764c06(0xa57)](_0x764c06(0x2e5))['classList']['add'](_0x764c06(0x3db));}),document['getElementById'](_0x1001aa(0x3c5))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),_0x33029c=>{const _0x14fd5=_0x1001aa,_0x24727a=document[_0x14fd5(0xa57)](_0x14fd5(0x2e5)),_0x4e35b5=_0x33029c[_0x14fd5(0x408)]['closest'](_0x14fd5(0x460)),_0xd3e4b2=_0x33029c[_0x14fd5(0x408)][_0x14fd5(0xcac)](_0x14fd5(0xbc2)),_0x4152aa=_0x33029c[_0x14fd5(0x408)]['closest']('.delete-hidden-parallel-shortcut-btn');if(_0x4e35b5)_0x24727a[_0x14fd5(0x6b0)][_0x14fd5(0xb35)](_0x14fd5(0x3db)),handleParallelTestShortcutClick(_0x4e35b5[_0x14fd5(0x43d)]['id']);else{if(_0xd3e4b2)_0x24727a[_0x14fd5(0x6b0)]['add'](_0x14fd5(0x3db)),openParallelTestShortcutEditor(_0xd3e4b2['dataset']['id']);else{if(_0x4152aa){const _0x28ac0b=_0x4152aa[_0x14fd5(0x43d)]['id'];showConfirmation(_0x14fd5(0x474),async()=>{const _0x282d3f=_0x14fd5,_0x2f1688=parallelTestShortcuts[_0x282d3f(0x36d)](_0x136d1e=>_0x136d1e['id']!==_0x28ac0b),_0x1e55b4=doc(db,_0x282d3f(0x522),_0x282d3f(0x51b));await setDoc(_0x1e55b4,{'shortcuts':_0x2f1688},{'merge':!![]});});}}}}),document[_0x1001aa(0xa57)](_0x1001aa(0xa7c))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),_0x3408c6=>{const _0x504547=_0x1001aa,_0x4e822e=_0x3408c6[_0x504547(0x408)][_0x504547(0xcac)]('.file-shortcut-btn'),_0x3c2f66=_0x3408c6['target'][_0x504547(0xcac)]('.edit-file-shortcut-btn'),_0x27c34a=_0x3408c6[_0x504547(0x408)][_0x504547(0xcac)]('.delete-file-shortcut-btn');if(_0x3c2f66)openFileShortcutEditor(_0x3c2f66[_0x504547(0x43d)]['id']);else{if(_0x27c34a){const _0x57475a=_0x27c34a[_0x504547(0x43d)]['id'];showConfirmation(_0x504547(0x474),async()=>{const _0x43d331=_0x504547,_0x3f63ed=fileShortcuts[_0x43d331(0x36d)](_0x22a7c1=>_0x22a7c1['id']!==_0x57475a),_0x3ce5c0=doc(db,_0x43d331(0x522),_0x43d331(0x754));await setDoc(_0x3ce5c0,{'shortcuts':_0x3f63ed},{'merge':!![]});});}else _0x4e822e&&handleFileShortcutClick(_0x4e822e[_0x504547(0x43d)]['id']);}}),document['getElementById'](_0x1001aa(0x387))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>openFileShortcutEditor(null)),document[_0x1001aa(0xa57)](_0x1001aa(0x23f))['addEventListener'](_0x1001aa(0x1b1),()=>{const _0x308bc0=_0x1001aa;document[_0x308bc0(0xa57)](_0x308bc0(0xac0))['classList'][_0x308bc0(0xb35)](_0x308bc0(0x3db));}),document['getElementById']('save-file-shortcut-btn')[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),saveFileShortcutChanges),document[_0x1001aa(0xa57)](_0x1001aa(0x857))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),_0x53ff7d=>{const _0x4389f5=_0x1001aa;_0x53ff7d[_0x4389f5(0x408)][_0x4389f5(0xcac)](_0x4389f5(0x5e3))&&document[_0x4389f5(0xa57)](_0x4389f5(0x584))[_0x4389f5(0x6b0)][_0x4389f5(0xbb2)](_0x4389f5(0x3db));}),document[_0x1001aa(0xa57)](_0x1001aa(0x9d5))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{const _0x4dbe0e=_0x1001aa;document[_0x4dbe0e(0xa57)](_0x4dbe0e(0x584))[_0x4dbe0e(0x6b0)][_0x4dbe0e(0xb35)](_0x4dbe0e(0x3db));}),document[_0x1001aa(0xa57)](_0x1001aa(0x949))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),_0x366f2a=>{const _0x5e2491=_0x1001aa,_0x32c61b=document[_0x5e2491(0xa57)](_0x5e2491(0x584)),_0x1d5a64=_0x366f2a[_0x5e2491(0x408)][_0x5e2491(0xcac)](_0x5e2491(0x652)),_0x1bdeee=_0x366f2a[_0x5e2491(0x408)][_0x5e2491(0xcac)](_0x5e2491(0x957)),_0x2f630a=_0x366f2a[_0x5e2491(0x408)][_0x5e2491(0xcac)]('.delete-hidden-file-shortcut-btn');if(_0x1d5a64)_0x32c61b[_0x5e2491(0x6b0)][_0x5e2491(0xb35)]('hidden'),handleFileShortcutClick(_0x1d5a64['dataset']['id']);else{if(_0x1bdeee)_0x32c61b['classList'][_0x5e2491(0xb35)]('hidden'),openFileShortcutEditor(_0x1bdeee[_0x5e2491(0x43d)]['id']);else{if(_0x2f630a){const _0x28fa7a=_0x2f630a[_0x5e2491(0x43d)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0xb51b0a=_0x5e2491,_0x5ab839=fileShortcuts[_0xb51b0a(0x36d)](_0x238986=>_0x238986['id']!==_0x28fa7a),_0x23d341=doc(db,_0xb51b0a(0x522),'fileShortcutsConfig');await setDoc(_0x23d341,{'shortcuts':_0x5ab839},{'merge':!![]});});}}}}),document['getElementById'](_0x1001aa(0x477))['addEventListener'](_0x1001aa(0x1b1),_0x1eb78c=>{const _0x3a32f2=_0x1001aa;_0x1eb78c[_0x3a32f2(0x408)][_0x3a32f2(0xcac)]('#open-additional-shortcuts-btn')&&(activeShortcutTabId='all',renderAdditionalShortcutsModal(),document['getElementById'](_0x3a32f2(0x91c))[_0x3a32f2(0x6b0)][_0x3a32f2(0xbb2)](_0x3a32f2(0x3db)));}),document[_0x1001aa(0xa57)]('close-additional-shortcuts-btn')[_0x1001aa(0x3f4)]('click',()=>{const _0x242f32=_0x1001aa;document[_0x242f32(0xa57)](_0x242f32(0x91c))['classList'][_0x242f32(0xb35)](_0x242f32(0x3db));}),document[_0x1001aa(0xa57)](_0x1001aa(0x452))['addEventListener'](_0x1001aa(0x1b1),_0x2eb4bc=>{const _0x2ff522=_0x1001aa,_0x930258=_0x2eb4bc['target'][_0x2ff522(0xcac)](_0x2ff522(0xac6)),_0x3561dd=_0x2eb4bc[_0x2ff522(0x408)][_0x2ff522(0xcac)](_0x2ff522(0xb46)),_0x856339=_0x2eb4bc[_0x2ff522(0x408)][_0x2ff522(0xcac)](_0x2ff522(0xbf6)),_0x1cb7f4=document[_0x2ff522(0xa57)]('additional-shortcuts-modal');if(_0x930258)_0x1cb7f4[_0x2ff522(0x6b0)][_0x2ff522(0xb35)](_0x2ff522(0x3db)),handleShortcutClick(_0x930258[_0x2ff522(0x43d)]['id']);else{if(_0x3561dd)_0x1cb7f4[_0x2ff522(0x6b0)][_0x2ff522(0xb35)](_0x2ff522(0x3db)),openShortcutEditor(_0x3561dd[_0x2ff522(0x43d)]['id']);else{if(_0x856339){const _0x40e2c3=_0x856339[_0x2ff522(0x43d)]['id'],_0x261e59=blueprintShortcuts[_0x2ff522(0xc0d)](_0xf84a62=>_0xf84a62['id']===_0x40e2c3)?.[_0x2ff522(0xc6f)];showConfirmation(_0x2ff522(0x121)+_0x261e59+'\x22?',async()=>{const _0x1d54d9=_0x2ff522,_0x4c461a=blueprintShortcuts[_0x1d54d9(0x36d)](_0x35d652=>_0x35d652['id']!==_0x40e2c3);try{const _0x507dd6=doc(db,'globalSettings',_0x1d54d9(0x29a));await setDoc(_0x507dd6,{'blueprintShortcuts':_0x4c461a},{'merge':!![]});}catch(_0x2587a2){console[_0x1d54d9(0xc93)](_0x1d54d9(0x264),_0x2587a2);}});}}}}),document[_0x1001aa(0xa57)](_0x1001aa(0x7ea))[_0x1001aa(0x3f4)]('click',_0x41c49d=>{const _0x3ddfb1=_0x1001aa,_0x403f12=_0x41c49d[_0x3ddfb1(0x408)][_0x3ddfb1(0xcac)](_0x3ddfb1(0x2f8)),_0x138b16=_0x41c49d[_0x3ddfb1(0x408)][_0x3ddfb1(0xcac)](_0x3ddfb1(0x46a)),_0x5411c8=_0x41c49d[_0x3ddfb1(0x408)][_0x3ddfb1(0xcac)]('.delete-shortcut-btn');if(_0x138b16)openShortcutEditor(_0x138b16[_0x3ddfb1(0x43d)]['id']);else{if(_0x5411c8){const _0x3263b2=_0x5411c8[_0x3ddfb1(0x43d)]['id'],_0x47a05e=blueprintShortcuts['find'](_0x582d39=>_0x582d39['id']===_0x3263b2)?.['name'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x47a05e+'\x22?',async()=>{const _0x54665c=_0x3ddfb1,_0x52c222=blueprintShortcuts['filter'](_0x5c5d83=>_0x5c5d83['id']!==_0x3263b2);try{const _0x188b75=doc(db,_0x54665c(0x522),_0x54665c(0x29a));await setDoc(_0x188b75,{'blueprintShortcuts':_0x52c222},{'merge':!![]});}catch(_0x199dca){console[_0x54665c(0xc93)](_0x54665c(0x264),_0x199dca);}});}else _0x403f12&&handleShortcutClick(_0x403f12[_0x3ddfb1(0x43d)]['id']);}}),document[_0x1001aa(0xa57)](_0x1001aa(0x24c))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>openShortcutEditor(null)),document[_0x1001aa(0xa57)](_0x1001aa(0x232))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{const _0x3fd93f=_0x1001aa;document[_0x3fd93f(0xa57)](_0x3fd93f(0x32f))[_0x3fd93f(0x6b0)][_0x3fd93f(0xb35)](_0x3fd93f(0x3db));}),document[_0x1001aa(0xa57)]('save-shortcut-btn')['addEventListener']('click',saveShortcutChanges),document[_0x1001aa(0xa57)](_0x1001aa(0x987))['addEventListener'](_0x1001aa(0x1b1),async()=>{const _0x5ed5bf=_0x1001aa,_0x2913c7=document[_0x5ed5bf(0xa57)]('blueprint-upload-input'),_0xe2486e=document[_0x5ed5bf(0xa57)]('reference-pdf-upload');_0x2913c7[_0x5ed5bf(0x84e)][_0x5ed5bf(0x423)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x2913c7['files'][0x0],_0xe2486e[_0x5ed5bf(0x84e)][0x0]||null):showMessage('กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด');}),document[_0x1001aa(0xa57)](_0x1001aa(0x4c9))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),async _0x3d7103=>{const _0x31540d=_0x1001aa,_0x4d4e26=document[_0x31540d(0xa57)](_0x31540d(0x4c9)),_0x12536d=_0x3d7103[_0x31540d(0x408)][_0x31540d(0xcac)](_0x31540d(0x86f)),_0x29527d=_0x3d7103[_0x31540d(0x408)][_0x31540d(0xcac)](_0x31540d(0xa5b)),_0x2bb8d2=_0x3d7103['target'][_0x31540d(0xcac)](_0x31540d(0x850)),_0x3c636c=_0x3d7103[_0x31540d(0x408)][_0x31540d(0xcac)]('.bp-try-btn'),_0x3904a7=_0x3d7103[_0x31540d(0x408)]['closest'](_0x31540d(0x2ba)),_0x35912c=_0x3d7103[_0x31540d(0x408)][_0x31540d(0xcac)]('.bp-game-btn');if(_0x12536d){cameFromBlueprint=!![];const _0x4b6723=_0x12536d['dataset']['quizId'];showQuizDetailView(_0x4b6723),_0x4d4e26['classList'][_0x31540d(0xb35)]('hidden');}else{if(_0x29527d){const _0x13d3d4=_0x29527d[_0x31540d(0x43d)][_0x31540d(0x1b9)],_0x131f7f=_0x29527d[_0x31540d(0x43d)][_0x31540d(0x6da)],_0x5f0d6f=allQuizzesGlobal[_0x31540d(0xc0d)](_0x54fb4f=>_0x54fb4f['id']===_0x131f7f),_0x1135c=_0x5f0d6f?_0x5f0d6f[_0x31540d(0x13e)]:_0x31540d(0xa10);showConfirmation(_0x31540d(0xb61)+_0x1135c+'\x22\x20ออกจากคลังนี้?',async()=>{const _0x3b640f=_0x31540d;try{const _0x5f1c11=doc(db,_0x3b640f(0xb79)+appId+_0x3b640f(0x6f9),currentBlueprintProjectId);await updateDoc(_0x5f1c11,{[_0x3b640f(0x69a)+_0x13d3d4+_0x3b640f(0x2c7)]:arrayRemove(_0x131f7f)}),showMessage('นำแบบทดสอบออกจากคลังนี้แล้ว'),openTopicQuizBank(_0x13d3d4),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x350e2a){console['error'](_0x3b640f(0x9db),_0x350e2a),showMessage(_0x3b640f(0x66e));}});}else{if(_0x2bb8d2){cameFromBlueprint=!![];const _0x346d9f=_0x2bb8d2[_0x31540d(0x43d)][_0x31540d(0x6da)],_0x4365ae=allQuizzesGlobal['find'](_0x262143=>_0x262143['id']===_0x346d9f);_0x4365ae&&(startPresentation(_0x4365ae),_0x4d4e26[_0x31540d(0x6b0)]['add']('hidden'));}else{if(_0x3c636c){cameFromBlueprint=!![];const _0x255738=_0x3c636c[_0x31540d(0x43d)][_0x31540d(0x6da)],_0x383277=allQuizzesGlobal[_0x31540d(0xc0d)](_0x4d67cb=>_0x4d67cb['id']===_0x255738);_0x383277&&(currentQuizData=_0x383277,startAdminTest(),_0x4d4e26[_0x31540d(0x6b0)]['add'](_0x31540d(0x3db)));}else{if(_0x3904a7)cameFromBlueprint=!![],handleStartLiveRace(_0x3904a7[_0x31540d(0x43d)][_0x31540d(0x6da)]),_0x4d4e26[_0x31540d(0x6b0)][_0x31540d(0xb35)](_0x31540d(0x3db));else{if(_0x35912c){cameFromBlueprint=!![];const _0x114c6f=_0x35912c[_0x31540d(0x43d)][_0x31540d(0x6da)],_0x86f0e2=_0x35912c[_0x31540d(0x43d)][_0x31540d(0x4b7)],_0x466db6=allQuizzesGlobal[_0x31540d(0xc0d)](_0x26b567=>_0x26b567['id']===_0x114c6f);_0x466db6&&(showGameStartConfirmationModal(_0x114c6f,_0x86f0e2,_0x466db6['topic']),_0x4d4e26[_0x31540d(0x6b0)]['add'](_0x31540d(0x3db)));}}}}}}}),document[_0x1001aa(0xa57)](_0x1001aa(0x90b))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{const _0xde5157=_0x1001aa;document[_0xde5157(0xa57)]('manual-blueprint-modal')[_0xde5157(0x6b0)][_0xde5157(0xbb2)]('hidden'),document['getElementById'](_0xde5157(0x883))[_0xde5157(0x6d4)]='',document[_0xde5157(0xa57)](_0xde5157(0x359))[_0xde5157(0x6d4)]='',document[_0xde5157(0xa57)](_0xde5157(0x5a0))[_0xde5157(0x6d4)]='';}),document['getElementById'](_0x1001aa(0x181))[_0x1001aa(0x3f4)]('click',()=>{const _0x935748=_0x1001aa;document['getElementById'](_0x935748(0x878))[_0x935748(0x6b0)]['add'](_0x935748(0x3db));}),document[_0x1001aa(0xa57)](_0x1001aa(0x50c))[_0x1001aa(0x3f4)]('click',handleManualBlueprintSave),document[_0x1001aa(0xa57)](_0x1001aa(0x472))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>document[_0x1001aa(0xa57)](_0x1001aa(0xa47))['classList']['add']('hidden')),document[_0x1001aa(0xa57)](_0x1001aa(0x342))[_0x1001aa(0x3f4)]('click',handleSaveBlueprintPageSettings),document[_0x1001aa(0xa57)](_0x1001aa(0xa4b))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),openBlueprintQuizSettings),document['getElementById']('save-blueprint-as-project-btn')[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),saveBlueprintProject),document[_0x1001aa(0xa57)](_0x1001aa(0x717))['addEventListener'](_0x1001aa(0x1b1),showBlueprintProjects),document[_0x1001aa(0xa57)](_0x1001aa(0x8b2))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{const _0x1aa649=_0x1001aa;document[_0x1aa649(0xa57)](_0x1aa649(0x7cd))[_0x1aa649(0x6b0)][_0x1aa649(0xb35)](_0x1aa649(0x3db));}),document['getElementById'](_0x1001aa(0xa95))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),_0x3a8d7c=>{const _0x4db2ca=_0x1001aa,_0x1eb665=_0x3a8d7c[_0x4db2ca(0x408)][_0x4db2ca(0xcac)](_0x4db2ca(0x3a7)),_0x2717f7=_0x3a8d7c[_0x4db2ca(0x408)][_0x4db2ca(0xcac)](_0x4db2ca(0xabf));if(_0x1eb665)displayBlueprintProjectManager(_0x1eb665['dataset']['id']);else _0x2717f7&&handleDeepDeleteBlueprintProject(_0x2717f7[_0x4db2ca(0x43d)]['id']);}),document[_0x1001aa(0xa57)](_0x1001aa(0x7ee))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{const _0x27849a=_0x1001aa;currentBlueprintProjectId=null,currentProjectId=null,document[_0x27849a(0xa57)](_0x27849a(0x28f))[_0x27849a(0x6b0)][_0x27849a(0xb35)](_0x27849a(0x3db)),showView(_0x27849a(0x538));}),document[_0x1001aa(0xa57)](_0x1001aa(0xa85))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),addTopicToProject),document['getElementById'](_0x1001aa(0x3ad))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),async _0x12de19=>{const _0x1a0f7d=_0x1001aa,_0x126820=_0x12de19['target'][_0x1a0f7d(0xcac)](_0x1a0f7d(0x4e5));if(!_0x126820)return;const _0x4a3267=_0x126820[_0x1a0f7d(0x43d)][_0x1a0f7d(0x1b9)],_0x3d10c7=_0x12de19[_0x1a0f7d(0x408)][_0x1a0f7d(0xcac)](_0x1a0f7d(0x11b)),_0x445d9a=_0x12de19['target'][_0x1a0f7d(0xcac)](_0x1a0f7d(0x8c7)),_0x29fc7c=_0x12de19['target'][_0x1a0f7d(0xcac)]('.bp-create-topic-quiz-btn'),_0x5c7456=_0x12de19[_0x1a0f7d(0x408)]['closest'](_0x1a0f7d(0x8fa)),_0x8afd7a=_0x12de19[_0x1a0f7d(0x408)][_0x1a0f7d(0xcac)]('.view-bp-lesson-btn'),_0x4148d2=_0x12de19[_0x1a0f7d(0x408)][_0x1a0f7d(0xcac)](_0x1a0f7d(0x842)),_0x38779f=_0x12de19[_0x1a0f7d(0x408)][_0x1a0f7d(0xcac)]('.bp-edit-topic-btn'),_0x41b027=_0x12de19[_0x1a0f7d(0x408)][_0x1a0f7d(0xcac)](_0x1a0f7d(0x83e)),_0x51fa51=_0x3e0efa=>{const _0x36a5ac=_0x1a0f7d,_0x28e6a7=_0x3e0efa[_0x36a5ac(0x1c1)]('[data-field=\x22subTopic\x22]')[_0x36a5ac(0x63d)][_0x36a5ac(0x9bb)](),_0x4a4d99=_0x3e0efa[_0x36a5ac(0xcac)](_0x36a5ac(0x432))[_0x36a5ac(0x3e5)],_0x562f41=_0x4a4d99?_0x4a4d99['textContent'][_0x36a5ac(0x9bb)]():'';return _0x562f41+':\x20'+_0x28e6a7;};if(_0x5c7456)openTopicQuizBank(_0x4a3267);else{if(_0x3d10c7){const _0x20379a=_0x51fa51(_0x126820);selectProjectAndGenerateBlueprintQuiz(_0x20379a,null,_0x4a3267,!![]);}else{if(_0x445d9a){const _0x22ac8e=_0x51fa51(_0x126820);try{const _0x2582e1=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+_0x1a0f7d(0x91d),_0x4a3267),_0x567a75=await getDoc(_0x2582e1);if(_0x567a75[_0x1a0f7d(0xb65)]()){const _0x42969b=_0x567a75[_0x1a0f7d(0x7a6)]()[_0x1a0f7d(0x610)],_0xe9382b=document[_0x1a0f7d(0x930)](_0x1a0f7d(0x3f9)),_0x44893a=_0x50a08b=>{const _0x44bc0a=_0x1a0f7d;if(!_0x50a08b)return'';return _0xe9382b[_0x44bc0a(0x2b3)]=_0x50a08b,_0xe9382b[_0x44bc0a(0x63d)]||_0xe9382b[_0x44bc0a(0x70a)]||'';},_0x1a475f=(_0x44893a(_0x42969b[_0x1a0f7d(0x51a)])+'\x20'+_0x44893a(_0x42969b[_0x1a0f7d(0xcab)])+'\x20'+_0x44893a(_0x42969b['summary']))[_0x1a0f7d(0x9bb)]();selectProjectAndGenerateBlueprintQuiz(_0x22ac8e,_0x1a475f,_0x4a3267,![]);}else showMessage('ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้');}catch(_0x5f35f3){console['error'](_0x1a0f7d(0x9dd),_0x5f35f3),showMessage(_0x1a0f7d(0x239));}}else{if(_0x29fc7c){const _0x529a97=_0x51fa51(_0x126820);selectProjectAndGenerateBlueprintQuiz(_0x529a97,null,_0x4a3267,![]);}else{if(_0x8afd7a){const _0x867bf3=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0xb03065=await getDoc(_0x867bf3);if(_0xb03065[_0x1a0f7d(0xb65)]()){const _0x41002c=_0xb03065[_0x1a0f7d(0x7a6)](),_0x2dc86e=_0x41002c[_0x1a0f7d(0xa3b)][_0x4a3267];if(_0x2dc86e&&_0x2dc86e[_0x1a0f7d(0xbeb)]==='generated')try{const _0x1ff932=doc(db,'artifacts/'+appId+_0x1a0f7d(0x2bc)+currentBlueprintProjectId+_0x1a0f7d(0x91d),_0x4a3267),_0x3a13c0=await getDoc(_0x1ff932);if(_0x3a13c0[_0x1a0f7d(0xb65)]()){const _0x3fd837=_0x3a13c0['data']()[_0x1a0f7d(0x610)];document[_0x1a0f7d(0xa57)](_0x1a0f7d(0x435))[_0x1a0f7d(0x63d)]='บทเรียนเรื่อง:\x20'+_0x51fa51(_0x126820),document['getElementById']('pointContent')[_0x1a0f7d(0x2b3)]=_0x3fd837[_0x1a0f7d(0x51a)],document[_0x1a0f7d(0xa57)]('memoryContent')[_0x1a0f7d(0x2b3)]=_0x3fd837[_0x1a0f7d(0xcab)],document['getElementById']('summaryContent')[_0x1a0f7d(0x2b3)]=_0x3fd837[_0x1a0f7d(0x7ad)];const _0x577485=document['getElementById'](_0x1a0f7d(0x2b4));_0x3fd837[_0x1a0f7d(0xb83)]?(currentApplicationData=_0x3fd837[_0x1a0f7d(0xb83)],_0x577485[_0x1a0f7d(0x2b3)]=currentApplicationData['map']((_0x48ec02,_0x4a1d76)=>_0x1a0f7d(0x35a)+(_0x4a1d76+0x1)+'.\x20'+marked['parseInline'](_0x48ec02['question'])+'</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x4a1d76+_0x1a0f7d(0x3d3)+_0x48ec02[_0x1a0f7d(0x5a9)]['map']((_0x23512c,_0x1ed8d5)=>_0x1a0f7d(0x4c6)+_0x4a1d76+',\x20'+_0x1ed8d5+_0x1a0f7d(0x601)+String[_0x1a0f7d(0x1bc)](0x61+_0x1ed8d5)+'.\x20'+marked[_0x1a0f7d(0x6d8)](_0x23512c)+'</button>')[_0x1a0f7d(0xa0a)]('')+_0x1a0f7d(0x5d6))[_0x1a0f7d(0xa0a)]('')):(currentApplicationData=[],_0x577485[_0x1a0f7d(0x2b3)]=_0x3fd837['applicationHTML']||_0x3fd837['application']),document[_0x1a0f7d(0xa57)](_0x1a0f7d(0x21a))['classList']['add'](_0x1a0f7d(0x3db)),document[_0x1a0f7d(0xa57)](_0x1a0f7d(0x4ec))['classList'][_0x1a0f7d(0xbb2)](_0x1a0f7d(0x3db)),document[_0x1a0f7d(0xa57)](_0x1a0f7d(0x317))[_0x1a0f7d(0x6b0)][_0x1a0f7d(0xbb2)](_0x1a0f7d(0x3db)),window[_0x1a0f7d(0x49e)]&&MathJax['typesetPromise']([document[_0x1a0f7d(0xa57)]('lesson-view-content')]);}else showMessage('ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)');}catch(_0x3d01b7){console['error']('Error\x20fetching\x20lesson\x20content:',_0x3d01b7),showMessage(_0x1a0f7d(0xaf2));}else showMessage(_0x1a0f7d(0x729));}}else{if(_0x4148d2){const _0x10dd7a=_0x51fa51(_0x126820),_0x36ef5b=doc(db,_0x1a0f7d(0xb79)+appId+_0x1a0f7d(0x6f9),currentBlueprintProjectId),_0xb51834=await getDoc(_0x36ef5b);if(_0xb51834[_0x1a0f7d(0xb65)]()){const _0x1dfcf2=_0xb51834[_0x1a0f7d(0x7a6)]();generateAndSaveLessonForBlueprint(_0x4a3267,_0x10dd7a,_0x1dfcf2['gradeLevel']);}}else{if(_0x38779f)editTopicInProject(_0x4a3267);else _0x41b027&&deleteTopicFromProject(_0x4a3267);}}}}}}}),document[_0x1001aa(0xa57)](_0x1001aa(0x3e3))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),handleFixLessonLatex),document[_0x1001aa(0xa57)](_0x1001aa(0x1f6))[_0x1001aa(0x3f4)]('click',handleExportLessonToPDF),document[_0x1001aa(0xa57)]('close-lesson-view-btn')[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{const _0x1102c0=_0x1001aa;document[_0x1102c0(0xa57)](_0x1102c0(0x317))[_0x1102c0(0x6b0)][_0x1102c0(0xb35)](_0x1102c0(0x3db));});const _0x446b84=document[_0x1001aa(0xa57)]('bulk-confidence-scoring-checkbox'),_0x50cb0e=document[_0x1001aa(0xa57)](_0x1001aa(0x557));_0x446b84[_0x1001aa(0x3f4)](_0x1001aa(0x6b6),()=>{const _0x1edb05=_0x1001aa;_0x50cb0e[_0x1edb05(0x6b0)][_0x1edb05(0xc0e)](_0x1edb05(0x3db),!_0x446b84[_0x1edb05(0x354)]);});const _0x3780dd=document['getElementById']('confidence-scoring-checkbox'),_0x21cac0=document['getElementById'](_0x1001aa(0x2c4));_0x3780dd['addEventListener'](_0x1001aa(0x6b6),()=>{const _0x4802cf=_0x1001aa;_0x21cac0[_0x4802cf(0x6b0)]['toggle']('hidden',!_0x3780dd[_0x4802cf(0x354)]);});const _0x3205c3=document['getElementById'](_0x1001aa(0x509)),_0x4448aa=document[_0x1001aa(0xa57)](_0x1001aa(0xc5c));_0x3205c3[_0x1001aa(0x3f4)](_0x1001aa(0x6b6),()=>{const _0x98de5b=_0x1001aa;_0x4448aa['classList'][_0x98de5b(0xc0e)](_0x98de5b(0x3db),!_0x3205c3[_0x98de5b(0x354)]);});const _0x26f615=document['getElementById'](_0x1001aa(0x93c)),_0xb4f88c=async _0x161db0=>{const _0x1efa7b=_0x1001aa,_0x1ab88f=document[_0x1efa7b(0xa57)](_0x1efa7b(0x93c)),_0x51a853=_0x1ab88f['dataset'][_0x1efa7b(0xaf4)],_0x3296f5=document['getElementById']('selected-answer-index-hidden');_0x1ab88f[_0x1efa7b(0x6b0)][_0x1efa7b(0xb35)](_0x1efa7b(0x3db));if(_0x51a853===_0x1efa7b(0x12f)){const _0x494e57=_0x3296f5[_0x1efa7b(0x6d4)],_0x367ebe={'answer':_0x494e57,'wasConfident':_0x161db0};proceedToNextQuestion(_0x367ebe);}else{if(_0x51a853===_0x1efa7b(0xa2f)){const _0x3bd5c9=_0x3296f5['dataset'][_0x1efa7b(0xa2b)],_0x15a72a=JSON[_0x1efa7b(0x5f1)](_0x3296f5['dataset'][_0x1efa7b(0x3ee)]),_0x26f572=JSON[_0x1efa7b(0x5f1)](_0x3296f5['dataset'][_0x1efa7b(0x514)]),_0x25db7f=_0x3296f5[_0x1efa7b(0x43d)][_0x1efa7b(0x8f0)];handleSyncAnswerSubmit(_0x3bd5c9,_0x15a72a,_0x26f572,_0x25db7f,_0x161db0);}}_0x1ab88f[_0x1efa7b(0x43d)][_0x1efa7b(0xaf4)]='';};document[_0x1001aa(0xa57)](_0x1001aa(0x2d0))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>_0xb4f88c(!![])),document[_0x1001aa(0xa57)](_0x1001aa(0x9d8))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>_0xb4f88c(![])),liveGameView[_0x1001aa(0x3f4)]('click',_0x2ffee7=>{const _0x57413e=_0x1001aa,_0x14fc1a=_0x2ffee7['target'][_0x57413e(0xcac)]('.kick-player-btn-sync');if(_0x14fc1a){const _0x3dc4e5=_0x14fc1a['dataset'][_0x57413e(0x8f0)];_0x3dc4e5&&handleKickPlayerSync(_0x3dc4e5);}});const _0x4303f4=document[_0x1001aa(0xa57)](_0x1001aa(0x505)),_0x28c11f=document[_0x1001aa(0xa57)]('cancel-game-start-btn');_0x28c11f[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{const _0x32c3c7=_0x1001aa;document[_0x32c3c7(0xa57)]('confirm-game-start-modal')[_0x32c3c7(0x6b0)][_0x32c3c7(0xb35)](_0x32c3c7(0x3db));}),_0x4303f4[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{const _0x4788c2=_0x1001aa,_0xc1a182=document[_0x4788c2(0xa57)](_0x4788c2(0x5f9))['value'],_0x56522b=document[_0x4788c2(0xa57)](_0x4788c2(0xc5b))[_0x4788c2(0x6d4)],_0x29ba2d=document[_0x4788c2(0xa57)](_0x4788c2(0x952))['checked'];document[_0x4788c2(0xa57)](_0x4788c2(0x9c6))['classList'][_0x4788c2(0xb35)](_0x4788c2(0x3db));switch(_0x56522b){case _0x4788c2(0x38b):handleStartLiveRace(_0xc1a182,_0x29ba2d);break;case _0x4788c2(0x323):handleStartTeamQuiz(_0xc1a182,_0x29ba2d);break;case _0x4788c2(0x5c9):handleStartGroupMode(_0xc1a182,_0x29ba2d);break;case'sync':handleStartSyncMode(_0xc1a182,_0x29ba2d);break;}}),document['getElementById'](_0x1001aa(0x14c))[_0x1001aa(0x3f4)]('click',handleJoinGroupActivity),liveGameView[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),_0x29dd38=>{const _0x4035c8=_0x1001aa,_0x58b668=_0x29dd38[_0x4035c8(0x408)][_0x4035c8(0xcac)](_0x4035c8(0x305));document[_0x4035c8(0x3cf)](_0x4035c8(0xa36))[_0x4035c8(0x9aa)](_0x31e315=>{const _0x170e73=_0x4035c8;(!_0x58b668||_0x31e315['id']!==_0x58b668[_0x170e73(0x43d)][_0x170e73(0xa31)])&&_0x31e315[_0x170e73(0x6b0)][_0x170e73(0xbb2)](_0x170e73(0x1eb));});if(!_0x58b668)return;const _0x5ee629=_0x58b668[_0x4035c8(0x43d)]['tooltipTarget'],_0x5621e7=document[_0x4035c8(0xa57)](_0x5ee629);_0x5621e7&&_0x5621e7[_0x4035c8(0x6b0)][_0x4035c8(0xc0e)](_0x4035c8(0x1eb));}),liveGameView['addEventListener']('click',_0x163aef=>{const _0x304cc0=_0x1001aa;if(_0x163aef[_0x304cc0(0x408)][_0x304cc0(0x6b0)]['contains'](_0x304cc0(0x4a3))){const _0x1dc107=_0x163aef[_0x304cc0(0x408)][_0x304cc0(0x43d)][_0x304cc0(0x8f0)];_0x1dc107&&handleKickPlayer(_0x1dc107);}}),document[_0x1001aa(0xa57)]('project-title')['addEventListener'](_0x1001aa(0xac9),()=>document[_0x1001aa(0xa57)](_0x1001aa(0x824))[_0x1001aa(0x6b0)][_0x1001aa(0xbb2)]('hidden')),document[_0x1001aa(0xa57)](_0x1001aa(0x824))[_0x1001aa(0x3f4)]('click',handleSaveProjectName),document['getElementById']('project-title')[_0x1001aa(0x3f4)](_0x1001aa(0x978),_0x4bb324=>{const _0x2df0ff=_0x1001aa;_0x4bb324['key']==='Enter'&&(_0x4bb324[_0x2df0ff(0x206)](),_0x4bb324[_0x2df0ff(0x408)][_0x2df0ff(0x80b)](),handleSaveProjectName());}),document['getElementById'](_0x1001aa(0x8a9))['addEventListener'](_0x1001aa(0x1b1),()=>{const _0x216608=_0x1001aa;document[_0x216608(0xa57)](_0x216608(0x428))[_0x216608(0x6b0)][_0x216608(0xbb2)]('hidden');}),document[_0x1001aa(0xa57)](_0x1001aa(0x348))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{const _0x3ef058=_0x1001aa;document[_0x3ef058(0xa57)]('bulk-quiz-settings-modal')['classList'][_0x3ef058(0xb35)](_0x3ef058(0x3db));}),document[_0x1001aa(0xa57)]('confirm-bulk-quiz-settings-btn')[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),handleBulkUpdateQuizSettings),document['getElementById'](_0x1001aa(0x1ac))[_0x1001aa(0x3f4)]('click',handleModeSwitch),document[_0x1001aa(0xa57)](_0x1001aa(0x491))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),handleUpdateOldQuizzes),document[_0x1001aa(0xa57)](_0x1001aa(0x9ba))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),handleResetProjectOrder),document[_0x1001aa(0xa57)](_0x1001aa(0x332))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),handleSaveVisibilitySettings),document[_0x1001aa(0xa57)](_0x1001aa(0x33e))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),handleAddCustomMathTopic),document[_0x1001aa(0xa57)](_0x1001aa(0xa61))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),handleSelectAllTopics),document[_0x1001aa(0xa57)]('deselect-all-topics-btn')[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),handleDeselectAllTopics),document[_0x1001aa(0xa57)](_0x1001aa(0x3af))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{const _0x2d1861=_0x1001aa;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x2d1861(0x538));}}),document[_0x1001aa(0xa57)]('back-to-project-btn')[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{const _0x3f51ec=_0x1001aa;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x3f51ec(0x484));}}),document['getElementById'](_0x1001aa(0x223))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{showView('admin-dashboard');}),document['getElementById'](_0x1001aa(0x175))[_0x1001aa(0x3f4)]('click',()=>{const _0x3c2153=_0x1001aa;messageModal[_0x3c2153(0x6b0)][_0x3c2153(0xb35)](_0x3c2153(0x3db)),typeof modalConfirmAction===_0x3c2153(0x27a)&&(modalConfirmAction(),modalConfirmAction=null);}),document['getElementById'](_0x1001aa(0xa44))['addEventListener']('click',()=>createProjectModal[_0x1001aa(0x6b0)][_0x1001aa(0xbb2)]('hidden')),document[_0x1001aa(0xa57)](_0x1001aa(0x2ad))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>createProjectModal['classList'][_0x1001aa(0xb35)]('hidden')),document[_0x1001aa(0xa57)](_0x1001aa(0x9b7))['addEventListener'](_0x1001aa(0x1b1),()=>adminPasswordModal[_0x1001aa(0x6b0)][_0x1001aa(0xb35)](_0x1001aa(0x3db))),document[_0x1001aa(0xa57)](_0x1001aa(0x279))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),handleAdminLogin),document[_0x1001aa(0xa57)](_0x1001aa(0xbff))['addEventListener']('keyup',_0x34551d=>{const _0x3f89ca=_0x1001aa;if(_0x34551d[_0x3f89ca(0x60e)]===_0x3f89ca(0x967))handleAdminLogin();}),document[_0x1001aa(0xa57)](_0x1001aa(0x439))['addEventListener'](_0x1001aa(0x1b1),()=>{const _0x29ce61=_0x1001aa;confirmationModal[_0x29ce61(0x6b0)][_0x29ce61(0xb35)](_0x29ce61(0x3db)),confirmAction=null;}),document['getElementById'](_0x1001aa(0x7bd))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{const _0x3e12a9=_0x1001aa;confirmAction&&confirmAction(),confirmationModal[_0x3e12a9(0x6b0)][_0x3e12a9(0xb35)]('hidden'),confirmAction=null;}),document[_0x1001aa(0xa57)]('cancel-rename-quiz-btn')['addEventListener']('click',()=>renameQuizModal[_0x1001aa(0x6b0)][_0x1001aa(0xb35)]('hidden')),document['getElementById'](_0x1001aa(0x3c3))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),confirmRenameQuiz),document[_0x1001aa(0xa57)](_0x1001aa(0x118))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>moveQuizModal[_0x1001aa(0x6b0)][_0x1001aa(0xb35)](_0x1001aa(0x3db))),document[_0x1001aa(0xa57)]('confirm-move-quiz-btn')['addEventListener'](_0x1001aa(0x1b1),confirmMoveQuiz),document[_0x1001aa(0xa57)](_0x1001aa(0x3fe))['addEventListener'](_0x1001aa(0x1b1),()=>quizSettingsModal[_0x1001aa(0x6b0)][_0x1001aa(0xb35)](_0x1001aa(0x3db))),document[_0x1001aa(0xa57)]('confirm-quiz-settings-btn')[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),confirmQuizSettings),document[_0x1001aa(0xa57)](_0x1001aa(0x631))[_0x1001aa(0x3f4)]('click',()=>quizStatusModal[_0x1001aa(0x6b0)]['add'](_0x1001aa(0x3db))),document[_0x1001aa(0xa57)](_0x1001aa(0x2f0))['addEventListener'](_0x1001aa(0x1b1),confirmQuizStatus);const _0x2f3ca0=document[_0x1001aa(0xa57)](_0x1001aa(0x7ba));document['getElementById'](_0x1001aa(0xa13))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{const _0x5755dd=_0x1001aa;_0x2f3ca0[_0x5755dd(0x6b0)][_0x5755dd(0xb35)](_0x5755dd(0x3db));}),document[_0x1001aa(0xa57)](_0x1001aa(0x2e9))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),async()=>{const _0x12cf05=_0x1001aa,_0x5d163d=allQuizzes[_0x12cf05(0xc0d)](_0x1a9f4d=>_0x1a9f4d['id']===actionTargetId);_0x5d163d?(currentQuizData=_0x5d163d,exportQuizAsWorksheetPDF()):showMessage(_0x12cf05(0x57d)),_0x2f3ca0[_0x12cf05(0x6b0)][_0x12cf05(0xb35)]('hidden');}),document['getElementById']('export-tutor-pdf-btn')[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),async()=>{const _0x4c515e=_0x1001aa,_0x2c6e68=allQuizzes['find'](_0x4e6b2c=>_0x4e6b2c['id']===actionTargetId);_0x2c6e68?(currentQuizData=_0x2c6e68,exportQuizAsTutorPDF()):showMessage(_0x4c515e(0x57d)),_0x2f3ca0[_0x4c515e(0x6b0)]['add']('hidden');});const _0x3d8f1b=document[_0x1001aa(0xa57)]('open-global-live-btn');_0x3d8f1b[_0x1001aa(0x2b3)]=_0x1001aa(0x828),_0x3d8f1b['addEventListener'](_0x1001aa(0x1b1),openGlobalActivityModal),document[_0x1001aa(0xa57)]('cancel-global-activity-btn')[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{const _0x4f1082=_0x1001aa;document['getElementById'](_0x4f1082(0x997))[_0x4f1082(0x6b0)]['add']('hidden');}),document[_0x1001aa(0xa57)]('global-quiz-search-input')[_0x1001aa(0x3f4)](_0x1001aa(0x1c7),_0x34801e=>{const _0x2577e2=_0x1001aa;renderGlobalActivityList(_0x34801e['target'][_0x2577e2(0x6d4)]);}),document[_0x1001aa(0xa57)](_0x1001aa(0x1f0))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),_0x203a4f=>{const _0x493610=_0x1001aa,_0x3461d5=_0x203a4f[_0x493610(0x408)][_0x493610(0xcac)](_0x493610(0x63b));if(!_0x3461d5)return;const _0x45395c=_0x3461d5[_0x493610(0x43d)]['id'],_0xc0867=_0x3461d5[_0x493610(0x43d)]['mode'],_0x205bb7=allQuizzesGlobal[_0x493610(0xc0d)](_0x3d39d8=>_0x3d39d8['id']===_0x45395c);_0x205bb7&&(document['getElementById']('global-activity-modal')['classList'][_0x493610(0xb35)](_0x493610(0x3db)),_0xc0867===_0x493610(0x38b)?handleStartLiveRace(_0x45395c):showGameStartConfirmationModal(_0x45395c,_0xc0867,_0x205bb7[_0x493610(0x13e)]));}),document[_0x1001aa(0xa57)](_0x1001aa(0x68a))[_0x1001aa(0x3f4)](_0x1001aa(0x1c7),renderProjects),document[_0x1001aa(0xa57)](_0x1001aa(0xb29))[_0x1001aa(0x3f4)](_0x1001aa(0x6b6),async()=>{const _0x1fd63b=_0x1001aa,_0x4f78a1=document['getElementById']('project-sort-select')[_0x1fd63b(0x6d4)],_0x24b33b=doc(db,_0x1fd63b(0x522),'dashboardConfig');try{await setDoc(_0x24b33b,{'projectSort':_0x4f78a1},{'merge':!![]});}catch(_0x220f4a){console['error'](_0x1fd63b(0xbcd),_0x220f4a),showMessage(_0x1fd63b(0x56e));}}),document[_0x1001aa(0xa57)](_0x1001aa(0xa7f))[_0x1001aa(0x3f4)](_0x1001aa(0x1c7),renderQuizzes),document[_0x1001aa(0xa57)](_0x1001aa(0x911))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{const _0x1bc42c=_0x1001aa;globalDashboardSettings[_0x1bc42c(0x94a)]=_0x1bc42c(0x936),saveUserPreference(_0x1bc42c(0x94a),_0x1bc42c(0x936)),renderProjects();}),document[_0x1001aa(0xa57)](_0x1001aa(0x701))[_0x1001aa(0x3f4)]('click',()=>{const _0x43098a=_0x1001aa;globalDashboardSettings[_0x43098a(0x94a)]=_0x43098a(0x4f2),saveUserPreference(_0x43098a(0x94a),'list'),renderProjects();}),manageTab[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>switchProjectTab(_0x1001aa(0xc9e))),resultsTab[_0x1001aa(0x3f4)]('click',()=>switchProjectTab('results')),leaderboardTab[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>switchProjectTab('leaderboard')),document[_0x1001aa(0xa57)](_0x1001aa(0x740))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>switchQuizDetailTab(_0x1001aa(0xae6))),document[_0x1001aa(0xa57)](_0x1001aa(0x188))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>switchQuizDetailTab(_0x1001aa(0x727))),document['getElementById'](_0x1001aa(0x694))[_0x1001aa(0x3f4)]('click',()=>switchQuizDetailTab(_0x1001aa(0xb4c))),document[_0x1001aa(0xa57)](_0x1001aa(0xafc))['addEventListener'](_0x1001aa(0x1b1),()=>switchQuizDetailTab(_0x1001aa(0x31d))),document[_0x1001aa(0xa57)](_0x1001aa(0x7b8))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),handleAnalyzeClass),generateWorksheetBtn['addEventListener'](_0x1001aa(0x1b1),generateWorksheet);const _0x18e0ba=document[_0x1001aa(0xa57)]('link-tab'),_0x3bfd68=document['getElementById'](_0x1001aa(0x6f3)),_0x13e909=document[_0x1001aa(0xa57)](_0x1001aa(0xa19)),_0x41019b=document[_0x1001aa(0xa57)](_0x1001aa(0x477)),_0xbcd3ec=document[_0x1001aa(0xa57)]('parallel-test-tab'),_0x4ce704=document[_0x1001aa(0xa57)](_0x1001aa(0xaaa));topicTab[_0x1001aa(0x3f4)]('click',()=>{const _0x55a9ff=_0x1001aa;topicTab[_0x55a9ff(0x6b0)][_0x55a9ff(0xb35)](_0x55a9ff(0x37e)),textTab[_0x55a9ff(0x6b0)][_0x55a9ff(0xbb2)](_0x55a9ff(0x37e)),fileTab[_0x55a9ff(0x6b0)][_0x55a9ff(0xbb2)](_0x55a9ff(0x37e)),worksheetTab[_0x55a9ff(0x6b0)]['remove'](_0x55a9ff(0x37e));if(_0x18e0ba)_0x18e0ba[_0x55a9ff(0x6b0)][_0x55a9ff(0xbb2)](_0x55a9ff(0x37e));if(_0x13e909)_0x13e909[_0x55a9ff(0x6b0)][_0x55a9ff(0xbb2)](_0x55a9ff(0x37e));if(_0xbcd3ec)_0xbcd3ec[_0x55a9ff(0x6b0)][_0x55a9ff(0xbb2)](_0x55a9ff(0x37e));topicInputArea['classList'][_0x55a9ff(0xbb2)](_0x55a9ff(0x3db)),textInputArea['classList'][_0x55a9ff(0xb35)]('hidden'),fileInputArea[_0x55a9ff(0x6b0)][_0x55a9ff(0xb35)](_0x55a9ff(0x3db)),worksheetInputArea['classList'][_0x55a9ff(0xb35)](_0x55a9ff(0x3db));if(_0x3bfd68)_0x3bfd68['classList'][_0x55a9ff(0xb35)](_0x55a9ff(0x3db));if(_0x41019b)_0x41019b[_0x55a9ff(0x6b0)][_0x55a9ff(0xb35)](_0x55a9ff(0x3db));if(_0x4ce704)_0x4ce704[_0x55a9ff(0x6b0)][_0x55a9ff(0xb35)]('hidden');}),textTab['addEventListener'](_0x1001aa(0x1b1),()=>{const _0x1e2906=_0x1001aa;textTab['classList'][_0x1e2906(0xb35)](_0x1e2906(0x37e)),topicTab[_0x1e2906(0x6b0)][_0x1e2906(0xbb2)](_0x1e2906(0x37e)),fileTab[_0x1e2906(0x6b0)][_0x1e2906(0xbb2)](_0x1e2906(0x37e)),worksheetTab[_0x1e2906(0x6b0)]['remove'](_0x1e2906(0x37e));if(_0x18e0ba)_0x18e0ba[_0x1e2906(0x6b0)][_0x1e2906(0xbb2)](_0x1e2906(0x37e));if(_0x13e909)_0x13e909[_0x1e2906(0x6b0)][_0x1e2906(0xbb2)](_0x1e2906(0x37e));if(_0xbcd3ec)_0xbcd3ec['classList'][_0x1e2906(0xbb2)](_0x1e2906(0x37e));textInputArea[_0x1e2906(0x6b0)][_0x1e2906(0xbb2)](_0x1e2906(0x3db)),topicInputArea[_0x1e2906(0x6b0)][_0x1e2906(0xb35)]('hidden'),fileInputArea['classList'][_0x1e2906(0xb35)](_0x1e2906(0x3db)),worksheetInputArea[_0x1e2906(0x6b0)][_0x1e2906(0xb35)]('hidden');if(_0x3bfd68)_0x3bfd68[_0x1e2906(0x6b0)][_0x1e2906(0xb35)](_0x1e2906(0x3db));if(_0x41019b)_0x41019b[_0x1e2906(0x6b0)][_0x1e2906(0xb35)]('hidden');if(_0x4ce704)_0x4ce704['classList'][_0x1e2906(0xb35)]('hidden');}),fileTab[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{const _0x1c7725=_0x1001aa;fileTab[_0x1c7725(0x6b0)][_0x1c7725(0xb35)](_0x1c7725(0x37e)),topicTab['classList'][_0x1c7725(0xbb2)](_0x1c7725(0x37e)),textTab['classList'][_0x1c7725(0xbb2)](_0x1c7725(0x37e)),worksheetTab['classList'][_0x1c7725(0xbb2)](_0x1c7725(0x37e));if(_0x18e0ba)_0x18e0ba['classList'][_0x1c7725(0xbb2)](_0x1c7725(0x37e));if(_0x13e909)_0x13e909[_0x1c7725(0x6b0)][_0x1c7725(0xbb2)](_0x1c7725(0x37e));if(_0xbcd3ec)_0xbcd3ec[_0x1c7725(0x6b0)]['remove'](_0x1c7725(0x37e));fileInputArea[_0x1c7725(0x6b0)][_0x1c7725(0xbb2)](_0x1c7725(0x3db)),topicInputArea[_0x1c7725(0x6b0)]['add'](_0x1c7725(0x3db)),textInputArea[_0x1c7725(0x6b0)][_0x1c7725(0xb35)](_0x1c7725(0x3db)),worksheetInputArea[_0x1c7725(0x6b0)][_0x1c7725(0xb35)](_0x1c7725(0x3db));if(_0x3bfd68)_0x3bfd68['classList'][_0x1c7725(0xb35)](_0x1c7725(0x3db));if(_0x41019b)_0x41019b[_0x1c7725(0x6b0)]['add'](_0x1c7725(0x3db));if(_0x4ce704)_0x4ce704[_0x1c7725(0x6b0)][_0x1c7725(0xb35)](_0x1c7725(0x3db));}),worksheetTab['addEventListener'](_0x1001aa(0x1b1),()=>{const _0x27d51b=_0x1001aa;worksheetTab[_0x27d51b(0x6b0)][_0x27d51b(0xb35)]('active'),topicTab[_0x27d51b(0x6b0)][_0x27d51b(0xbb2)](_0x27d51b(0x37e)),textTab[_0x27d51b(0x6b0)][_0x27d51b(0xbb2)](_0x27d51b(0x37e)),fileTab[_0x27d51b(0x6b0)]['remove'](_0x27d51b(0x37e));if(_0x18e0ba)_0x18e0ba['classList'][_0x27d51b(0xbb2)]('active');if(_0x13e909)_0x13e909[_0x27d51b(0x6b0)][_0x27d51b(0xbb2)]('active');if(_0xbcd3ec)_0xbcd3ec[_0x27d51b(0x6b0)][_0x27d51b(0xbb2)](_0x27d51b(0x37e));worksheetInputArea[_0x27d51b(0x6b0)][_0x27d51b(0xbb2)]('hidden'),topicInputArea['classList'][_0x27d51b(0xb35)]('hidden'),textInputArea[_0x27d51b(0x6b0)][_0x27d51b(0xb35)](_0x27d51b(0x3db)),fileInputArea[_0x27d51b(0x6b0)][_0x27d51b(0xb35)](_0x27d51b(0x3db));if(_0x3bfd68)_0x3bfd68['classList']['add'](_0x27d51b(0x3db));if(_0x41019b)_0x41019b['classList'][_0x27d51b(0xb35)](_0x27d51b(0x3db));if(_0x4ce704)_0x4ce704[_0x27d51b(0x6b0)][_0x27d51b(0xb35)](_0x27d51b(0x3db));});const _0x27ccec=document[_0x1001aa(0xa57)](_0x1001aa(0x6cf)),_0x459c62=document['getElementById']('bank-input-area');_0x27ccec&&_0x27ccec[_0x1001aa(0x3f4)]('click',()=>{const _0x26f172=_0x1001aa;topicTab['classList'][_0x26f172(0xbb2)](_0x26f172(0x37e)),textTab[_0x26f172(0x6b0)][_0x26f172(0xbb2)](_0x26f172(0x37e)),fileTab[_0x26f172(0x6b0)][_0x26f172(0xbb2)](_0x26f172(0x37e)),worksheetTab[_0x26f172(0x6b0)][_0x26f172(0xbb2)](_0x26f172(0x37e));if(_0x18e0ba)_0x18e0ba[_0x26f172(0x6b0)][_0x26f172(0xbb2)]('active');if(_0x13e909)_0x13e909[_0x26f172(0x6b0)][_0x26f172(0xbb2)]('active');if(_0xbcd3ec)_0xbcd3ec[_0x26f172(0x6b0)][_0x26f172(0xbb2)](_0x26f172(0x37e));_0x27ccec[_0x26f172(0x6b0)][_0x26f172(0xb35)](_0x26f172(0x37e)),topicInputArea[_0x26f172(0x6b0)]['add'](_0x26f172(0x3db)),textInputArea['classList'][_0x26f172(0xb35)]('hidden'),fileInputArea['classList'][_0x26f172(0xb35)]('hidden'),worksheetInputArea[_0x26f172(0x6b0)]['add'](_0x26f172(0x3db));if(_0x3bfd68)_0x3bfd68[_0x26f172(0x6b0)][_0x26f172(0xb35)](_0x26f172(0x3db));if(_0x41019b)_0x41019b['classList'][_0x26f172(0xb35)]('hidden');if(_0x4ce704)_0x4ce704['classList'][_0x26f172(0xb35)]('hidden');_0x459c62[_0x26f172(0x6b0)]['remove'](_0x26f172(0x3db)),displayQuestionBank();});_0x18e0ba&&(_0x18e0ba[_0x1001aa(0x3f4)]('click',()=>{const _0x4ae336=_0x1001aa;_0x18e0ba['classList'][_0x4ae336(0xb35)]('active'),topicTab['classList']['remove'](_0x4ae336(0x37e)),textTab[_0x4ae336(0x6b0)][_0x4ae336(0xbb2)](_0x4ae336(0x37e)),fileTab['classList'][_0x4ae336(0xbb2)](_0x4ae336(0x37e)),worksheetTab['classList'][_0x4ae336(0xbb2)](_0x4ae336(0x37e));if(_0x13e909)_0x13e909[_0x4ae336(0x6b0)]['remove']('active');if(_0xbcd3ec)_0xbcd3ec[_0x4ae336(0x6b0)][_0x4ae336(0xbb2)](_0x4ae336(0x37e));_0x3bfd68['classList']['remove'](_0x4ae336(0x3db)),topicInputArea['classList'][_0x4ae336(0xb35)](_0x4ae336(0x3db)),textInputArea[_0x4ae336(0x6b0)][_0x4ae336(0xb35)](_0x4ae336(0x3db)),fileInputArea[_0x4ae336(0x6b0)][_0x4ae336(0xb35)](_0x4ae336(0x3db)),worksheetInputArea['classList']['add']('hidden');if(_0x41019b)_0x41019b[_0x4ae336(0x6b0)]['add'](_0x4ae336(0x3db));if(_0x4ce704)_0x4ce704[_0x4ae336(0x6b0)][_0x4ae336(0xb35)](_0x4ae336(0x3db));}),document[_0x1001aa(0xa57)]('generate-from-link-btn')[_0x1001aa(0x3f4)]('click',handleGenerateFromLink));_0x13e909&&_0x13e909['addEventListener'](_0x1001aa(0x1b1),()=>{const _0x30e42f=_0x1001aa;_0x13e909['classList']['add'](_0x30e42f(0x37e)),topicTab['classList'][_0x30e42f(0xbb2)](_0x30e42f(0x37e)),textTab[_0x30e42f(0x6b0)]['remove'](_0x30e42f(0x37e)),fileTab[_0x30e42f(0x6b0)]['remove'](_0x30e42f(0x37e)),worksheetTab['classList']['remove'](_0x30e42f(0x37e));if(_0x18e0ba)_0x18e0ba['classList'][_0x30e42f(0xbb2)]('active');if(_0x27ccec)_0x27ccec[_0x30e42f(0x6b0)][_0x30e42f(0xbb2)](_0x30e42f(0x37e));if(_0xbcd3ec)_0xbcd3ec[_0x30e42f(0x6b0)][_0x30e42f(0xbb2)](_0x30e42f(0x37e));_0x41019b['classList']['remove'](_0x30e42f(0x3db)),topicInputArea[_0x30e42f(0x6b0)]['add'](_0x30e42f(0x3db)),textInputArea[_0x30e42f(0x6b0)][_0x30e42f(0xb35)](_0x30e42f(0x3db)),fileInputArea[_0x30e42f(0x6b0)][_0x30e42f(0xb35)]('hidden'),worksheetInputArea[_0x30e42f(0x6b0)][_0x30e42f(0xb35)]('hidden');if(_0x3bfd68)_0x3bfd68[_0x30e42f(0x6b0)][_0x30e42f(0xb35)](_0x30e42f(0x3db));if(_0x459c62)_0x459c62[_0x30e42f(0x6b0)][_0x30e42f(0xb35)](_0x30e42f(0x3db));if(_0x4ce704)_0x4ce704['classList'][_0x30e42f(0xb35)](_0x30e42f(0x3db));});_0xbcd3ec&&_0xbcd3ec[_0x1001aa(0x3f4)]('click',()=>{const _0x227829=_0x1001aa;_0xbcd3ec[_0x227829(0x6b0)][_0x227829(0xb35)]('active'),topicTab['classList'][_0x227829(0xbb2)](_0x227829(0x37e)),textTab[_0x227829(0x6b0)][_0x227829(0xbb2)]('active'),fileTab[_0x227829(0x6b0)][_0x227829(0xbb2)](_0x227829(0x37e)),worksheetTab[_0x227829(0x6b0)][_0x227829(0xbb2)](_0x227829(0x37e));if(_0x18e0ba)_0x18e0ba[_0x227829(0x6b0)]['remove']('active');if(_0x13e909)_0x13e909[_0x227829(0x6b0)]['remove']('active');if(_0x27ccec)_0x27ccec[_0x227829(0x6b0)][_0x227829(0xbb2)](_0x227829(0x37e));_0x4ce704[_0x227829(0x6b0)][_0x227829(0xbb2)](_0x227829(0x3db)),topicInputArea[_0x227829(0x6b0)]['add'](_0x227829(0x3db)),textInputArea[_0x227829(0x6b0)][_0x227829(0xb35)](_0x227829(0x3db)),fileInputArea[_0x227829(0x6b0)][_0x227829(0xb35)]('hidden'),worksheetInputArea[_0x227829(0x6b0)][_0x227829(0xb35)](_0x227829(0x3db));if(_0x3bfd68)_0x3bfd68[_0x227829(0x6b0)][_0x227829(0xb35)]('hidden');if(_0x41019b)_0x41019b[_0x227829(0x6b0)][_0x227829(0xb35)](_0x227829(0x3db));if(_0x459c62)_0x459c62[_0x227829(0x6b0)][_0x227829(0xb35)]('hidden');});const _0x479884=document[_0x1001aa(0xa57)](_0x1001aa(0x1ec)),_0xca08e1=document[_0x1001aa(0xa57)](_0x1001aa(0x987));if(_0x479884){const _0x7406b8=document[_0x1001aa(0xa57)]('blueprint-upload-input'),_0x24c5de=document[_0x1001aa(0xa57)](_0x1001aa(0x987)),_0x201853=document[_0x1001aa(0xa57)](_0x1001aa(0x798)),_0x58edf2=document[_0x1001aa(0xa57)](_0x1001aa(0x48a)),_0x3c21a3=document['getElementById'](_0x1001aa(0x2f6)),_0x437d0c=document[_0x1001aa(0xa57)](_0x1001aa(0x845));_0x7406b8&&_0x7406b8[_0x1001aa(0x3f4)]('change',async _0x562c00=>{const _0x50796f=_0x1001aa;_0x201853[_0x50796f(0x6b0)][_0x50796f(0xb35)](_0x50796f(0x3db)),_0x3c21a3[_0x50796f(0x6b0)][_0x50796f(0xb35)](_0x50796f(0x3db)),_0x58edf2['checked']=![],_0x24c5de[_0x50796f(0x267)]=!![];const _0x4c74de=_0x562c00[_0x50796f(0x408)][_0x50796f(0x84e)][0x0];if(_0x4c74de){_0x24c5de[_0x50796f(0x267)]=![];try{const _0x4dcc0f=await extractTextFromPdf(_0x4c74de);await analyzeBlueprintForTopics(_0x4dcc0f);}catch(_0x4879dc){showMessage(_0x50796f(0xb7e)),_0x201853[_0x50796f(0x6b0)][_0x50796f(0xb35)](_0x50796f(0x3db));}}}),_0x58edf2&&_0x58edf2['addEventListener'](_0x1001aa(0x6b6),_0x520d61=>{const _0x26b5bb=_0x1001aa,_0x389e12=_0x520d61[_0x26b5bb(0x408)]['checked'];_0x3c21a3[_0x26b5bb(0x6b0)][_0x26b5bb(0xc0e)](_0x26b5bb(0x3db),!_0x389e12),_0x24c5de['disabled']=_0x389e12;}),_0x437d0c&&(_0x437d0c&&_0x437d0c['addEventListener'](_0x1001aa(0x1b1),_0x50b9c1=>{const _0x29d4ee=_0x1001aa,_0x33f299=_0x50b9c1[_0x29d4ee(0x408)][_0x29d4ee(0xcac)](_0x29d4ee(0xc4d)),_0x2adc32=_0x50b9c1['target']['closest'](_0x29d4ee(0x38f));if(_0x33f299){const _0x3e9c4b=unescape(_0x33f299['dataset'][_0x29d4ee(0x13e)]);generateQuizForSingleTopic(_0x3e9c4b);}else{if(_0x2adc32){const _0x2d5479=unescape(_0x2adc32['dataset'][_0x29d4ee(0x13e)]);handleGenerateTeachingContent(_0x2d5479);}}}));}_0xca08e1&&_0xca08e1[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),handleGenerateFromBlueprint);const _0x152e94=document[_0x1001aa(0xa57)](_0x1001aa(0x5df)),_0x1fdfd8=document[_0x1001aa(0xa57)](_0x1001aa(0x493));_0x152e94&&_0x152e94['addEventListener'](_0x1001aa(0x6b6),_0x127fb0=>{const _0x40c67e=_0x1001aa;_0x1fdfd8['disabled']=_0x127fb0['target'][_0x40c67e(0x84e)]['length']===0x0;});_0x1fdfd8&&_0x1fdfd8[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),handleLoadQuiz),startQuizBtn[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),async()=>{const _0x47bf6c=_0x1001aa,_0xbb2bbd=document['getElementById'](_0x47bf6c(0x341));currentStudentName=_0xbb2bbd[_0x47bf6c(0x6d4)];if(!currentStudentName){showMessage(_0x47bf6c(0x5b3));return;}try{const _0x4fe684=currentQuizData['id'],_0x50364b=doc(db,_0x47bf6c(0xb79)+appId+_0x47bf6c(0x689)+_0x4fe684+_0x47bf6c(0x3d5),currentStudentName),_0x52f189=await getDoc(_0x50364b);!_0x52f189[_0x47bf6c(0xb65)]()?await setDoc(_0x50364b,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x50364b,{'startedAt':new Date()['toISOString']()});}catch(_0x32324d){console[_0x47bf6c(0xc93)](_0x47bf6c(0x2e0),_0x32324d),showMessage(_0x47bf6c(0x313));return;}studentNameSelectionView['classList'][_0x47bf6c(0xb35)](_0x47bf6c(0x3db)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x1001aa(0xa57)](_0x1001aa(0x430))['addEventListener'](_0x1001aa(0x1b1),showJoinGameView),document[_0x1001aa(0xa57)](_0x1001aa(0x4e9))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),handleJoinLiveGame),document[_0x1001aa(0xa57)]('back-to-student-initial-btn')[_0x1001aa(0x3f4)]('click',()=>showView('student'));const _0x2fdd49=()=>{const _0x3105c4=_0x1001aa,_0x3b9d34=document[_0x3105c4(0xa57)](_0x3105c4(0x7ec))[_0x3105c4(0x63d)][_0x3105c4(0xb5a)](/[^a-z0-9]/gi,'_')[_0x3105c4(0x80a)]();return _0x3105c4(0x9fc)+(_0x3b9d34||_0x3105c4(0x78b));},_0x19e134=document[_0x1001aa(0xa57)](_0x1001aa(0x8b1));_0x19e134&&_0x19e134[_0x1001aa(0x3f4)](_0x1001aa(0x1c7),_0x526d48=>{const _0x30cfdf=_0x1001aa,_0x4eefaf=_0x526d48[_0x30cfdf(0x408)][_0x30cfdf(0x6d4)][_0x30cfdf(0x80a)]()[_0x30cfdf(0x9bb)](),_0x3407c2=document[_0x30cfdf(0xa57)]('math-topics-checkbox-container'),_0x3e65d8=_0x3407c2['querySelectorAll'](_0x30cfdf(0x9dc));_0x3e65d8['forEach'](_0x1bb500=>{const _0x436fc9=_0x30cfdf;let _0x5e0750=![];const _0xf5ca10=_0x1bb500[_0x436fc9(0x3cf)](_0x436fc9(0x499));_0xf5ca10[_0x436fc9(0x9aa)](_0x8956af=>{const _0x3f627e=_0x436fc9,_0x4c60e6=_0x8956af[_0x3f627e(0x1c1)](_0x3f627e(0x78f))[_0x3f627e(0x63d)][_0x3f627e(0x80a)]();_0x4c60e6['includes'](_0x4eefaf)?(_0x8956af[_0x3f627e(0xb97)]['display']=_0x3f627e(0xb1e),_0x5e0750=!![]):_0x8956af[_0x3f627e(0xb97)][_0x3f627e(0xb10)]='none';}),_0x5e0750?_0x1bb500[_0x436fc9(0xb97)][_0x436fc9(0xb10)]=_0x436fc9(0x28d):_0x1bb500[_0x436fc9(0xb97)][_0x436fc9(0xb10)]=_0x436fc9(0x4cc);});});document[_0x1001aa(0xa57)](_0x1001aa(0x1a6))['addEventListener'](_0x1001aa(0x1b1),()=>exportTableAsImage(_0x1001aa(0xb89),_0x2fdd49())),document['getElementById'](_0x1001aa(0xb5e))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>exportTableAsPDF(_0x1001aa(0x3d0),_0x2fdd49())),document[_0x1001aa(0xa57)]('export-word-btn')[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>exportTableAsWord('results-table-container',_0x2fdd49())),document[_0x1001aa(0xa57)](_0x1001aa(0x816))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>exportTableAsExcel('results-table',_0x2fdd49()));const _0x4c24cf=()=>{const _0x4fa71f=_0x1001aa,_0x1c3472=document['getElementById'](_0x4fa71f(0x7ec))[_0x4fa71f(0x63d)][_0x4fa71f(0xb5a)](/[^a-z0-9]/gi,'_')[_0x4fa71f(0x80a)]();return _0x4fa71f(0x582)+(_0x1c3472||'quiz');};document[_0x1001aa(0xa57)](_0x1001aa(0x669))['addEventListener']('click',()=>exportTableAsImage('quiz-leaderboard-table-container',_0x4c24cf())),document[_0x1001aa(0xa57)](_0x1001aa(0x54f))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>exportTableAsPDF(_0x1001aa(0x3be),_0x4c24cf())),document[_0x1001aa(0xa57)](_0x1001aa(0x4c0))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>exportTableAsWord(_0x1001aa(0x651),_0x4c24cf())),document[_0x1001aa(0xa57)](_0x1001aa(0x549))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>exportTableAsExcel(_0x1001aa(0x3be),_0x4c24cf())),projectQuizzesList[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),async _0xb8b7e9=>{const _0x50b571=_0x1001aa,_0x45b149=_0xb8b7e9[_0x50b571(0x408)]['closest'](_0x50b571(0x8f8)),_0x20222a=_0xb8b7e9['target'][_0x50b571(0xcac)]('.generate-post-test-btn'),_0x430d23=_0xb8b7e9[_0x50b571(0x408)][_0x50b571(0xcac)](_0x50b571(0x909)),_0x4709c9=_0xb8b7e9['target']['closest'](_0x50b571(0xb9a)),_0x8a0b6=_0xb8b7e9[_0x50b571(0x408)]['closest']('.star-quiz-btn'),_0x324840=_0xb8b7e9['target'][_0x50b571(0xcac)](_0x50b571(0xaf3)),_0x28c6a2=_0xb8b7e9[_0x50b571(0x408)][_0x50b571(0xcac)](_0x50b571(0xc2d)),_0x1c3f6a=_0xb8b7e9[_0x50b571(0x408)][_0x50b571(0xcac)]('.quiz-settings-btn'),_0x480b51=_0xb8b7e9['target']['closest'](_0x50b571(0x892)),_0x10ea8a=_0xb8b7e9['target'][_0x50b571(0xcac)](_0x50b571(0x27e)),_0x3e8818=_0xb8b7e9[_0x50b571(0x408)]['closest']('.parallel-quiz-btn'),_0xb66a1e=_0xb8b7e9[_0x50b571(0x408)][_0x50b571(0xcac)]('.move-quiz-btn'),_0x5202f0=_0xb8b7e9[_0x50b571(0x408)]['closest'](_0x50b571(0x676)),_0xe06fa5=_0xb8b7e9[_0x50b571(0x408)][_0x50b571(0xcac)]('.unpair-quiz-btn'),_0x2f2d6d=_0xb8b7e9[_0x50b571(0x408)]['closest'](_0x50b571(0x451)),_0x3c19bb=_0xb8b7e9['target'][_0x50b571(0xcac)](_0x50b571(0x9a8)),_0x4f197f=_0xb8b7e9[_0x50b571(0x408)]['closest'](_0x50b571(0x456)),_0x5a901c=_0xb8b7e9['target'][_0x50b571(0xcac)](_0x50b571(0x52b)),_0x5683b7=_0xb8b7e9['target'][_0x50b571(0xcac)](_0x50b571(0x673)),_0x210ad5=_0xb8b7e9[_0x50b571(0x408)][_0x50b571(0xcac)]('.toggle-actions-btn'),_0xeb4657=_0xb8b7e9[_0x50b571(0x408)][_0x50b571(0xcac)](_0x50b571(0x94d)),_0x37aa84=_0xb8b7e9[_0x50b571(0x408)]['closest'](_0x50b571(0xa84)),_0x5b3287=_0xb8b7e9[_0x50b571(0x408)][_0x50b571(0xcac)](_0x50b571(0xa9c));if(_0x37aa84){const _0x60c2e1=_0x37aa84[_0x50b571(0x43d)][_0x50b571(0x6da)],_0x1d45f1=_0x37aa84[_0x50b571(0x43d)]['mode'],_0x133546=allQuizzes['find'](_0x124753=>_0x124753['id']===_0x60c2e1);_0x133546&&showGameStartConfirmationModal(_0x60c2e1,_0x1d45f1,_0x133546['topic']);}else{if(_0x5b3287){const _0xdda697=_0x5b3287['dataset']['quizId'];handleStartLiveRace(_0xdda697);}else{if(_0x210ad5){const _0x287e16=_0x210ad5[_0x50b571(0x43d)][_0x50b571(0x6da)],_0x60338b=document[_0x50b571(0xa57)](_0x50b571(0x7e0)+_0x287e16);_0x60338b&&_0x60338b['classList'][_0x50b571(0xc0e)](_0x50b571(0x3db));}else{if(_0x20222a){const _0x1fefc6=_0x20222a[_0x50b571(0x43d)][_0x50b571(0x6da)],_0x3fff15=allQuizzes[_0x50b571(0xc0d)](_0x2d7f11=>_0x2d7f11['id']===_0x1fefc6);_0x3fff15&&handleGenerateParallelPostTest(_0x3fff15);}else{if(_0x430d23)handleCompareResults(_0x430d23[_0x50b571(0x43d)]['quizId'],_0x430d23[_0x50b571(0x43d)][_0x50b571(0xc77)]);else{if(_0x4709c9){const _0x1dbcd4=_0x4709c9[_0x50b571(0x43d)][_0x50b571(0x6da)],_0x218b26=allQuizzes[_0x50b571(0xc0d)](_0x5ab8d2=>_0x5ab8d2['id']===_0x1dbcd4);_0x218b26&&_0x218b26[_0x50b571(0x40f)]?(displayLessonPlan(_0x218b26[_0x50b571(0x40f)],_0x218b26),showConfirmation(_0x50b571(0x91a),()=>handleGenerateLessonPlan(_0x1dbcd4)),document['getElementById'](_0x50b571(0x41a))[_0x50b571(0x1c1)]('h3')[_0x50b571(0x63d)]=_0x50b571(0x263),document[_0x50b571(0xa57)](_0x50b571(0x7bd))[_0x50b571(0x63d)]='สร้างใหม่'):handleGenerateLessonPlan(_0x1dbcd4);}else{if(_0x8a0b6)handleToggleStarQuiz(_0x8a0b6[_0x50b571(0x43d)][_0x50b571(0x6da)]);else{if(_0x324840)copyTextToClipboard(_0x324840[_0x50b571(0x43d)][_0x50b571(0x6da)],_0x50b571(0x6cc));else{if(_0x28c6a2)handleOpenQuizEditor(_0x28c6a2['dataset'][_0x50b571(0x6da)]);else{if(_0x1c3f6a)handleQuizSettings(_0x1c3f6a[_0x50b571(0x43d)]['quizId']);else{if(_0x480b51)handleDuplicateQuiz(_0x480b51[_0x50b571(0x43d)][_0x50b571(0x6da)]);else{if(_0x10ea8a)handleRenameQuiz(_0x10ea8a[_0x50b571(0x43d)][_0x50b571(0x6da)],_0x10ea8a[_0x50b571(0x43d)]['topic']);else{if(_0x3e8818){const _0x218f78=_0x3e8818[_0x50b571(0x43d)][_0x50b571(0x6da)],_0x2c354b=allQuizzes[_0x50b571(0xc0d)](_0x11b8ec=>_0x11b8ec['id']===_0x218f78);_0x2c354b&&handleGenerateParallelFromBank(_0x2c354b);}else{if(_0xb66a1e)handleMoveQuiz(_0xb66a1e[_0x50b571(0x43d)][_0x50b571(0x6da)]);else{if(_0x5202f0)handleManualQuizPairing(_0x5202f0[_0x50b571(0x43d)][_0x50b571(0x6da)]);else{if(_0xe06fa5)handleUnpairQuiz(_0xe06fa5[_0x50b571(0x43d)][_0x50b571(0x6da)]);else{if(_0x2f2d6d){const _0x14317c=_0x2f2d6d[_0x50b571(0x43d)][_0x50b571(0x6da)],_0xfec87f=allQuizzes[_0x50b571(0xc0d)](_0x3cfe12=>_0x3cfe12['id']===_0x14317c);if(_0xfec87f)startPresentation(_0xfec87f);}else{if(_0x3c19bb){const _0x111abd=_0x3c19bb[_0x50b571(0x43d)][_0x50b571(0x6da)],_0x338804=allQuizzes['find'](_0x6eec02=>_0x6eec02['id']===_0x111abd);_0x338804&&(currentQuizData=_0x338804,startAdminTest());}else{if(_0x4f197f)actionTargetId=_0x4f197f[_0x50b571(0x43d)][_0x50b571(0x6da)],document['getElementById'](_0x50b571(0x7ba))[_0x50b571(0x6b0)][_0x50b571(0xbb2)](_0x50b571(0x3db));else{if(_0x5a901c)showConfirmation(_0x50b571(0x37c)+_0x5a901c[_0x50b571(0x43d)][_0x50b571(0x13e)]+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0x5a901c[_0x50b571(0x43d)][_0x50b571(0x6da)]));else{if(_0x5683b7)handleQuizStatus(_0x5683b7['dataset'][_0x50b571(0x6da)]);else{if(_0xeb4657)handleGenerateEasyVersionQuiz(_0xeb4657[_0x50b571(0x43d)][_0x50b571(0x6da)]);else _0x45b149&&showQuizDetailView(_0x45b149[_0x50b571(0x43d)]['quizId']);}}}}}}}}}}}}}}}}}}}}}}),document[_0x1001aa(0xa57)](_0x1001aa(0x8e0))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>showView(_0x1001aa(0x3a6))),document[_0x1001aa(0xa57)](_0x1001aa(0x465))[_0x1001aa(0x3f4)]('click',confirmAndStartTeamQuiz),document['getElementById'](_0x1001aa(0x3be))['querySelector'](_0x1001aa(0xa8d))['addEventListener'](_0x1001aa(0x1b1),_0xaac7e7=>{const _0x2c648f=_0x1001aa,_0x497fe5=_0xaac7e7[_0x2c648f(0x408)]['closest']('.sortable-header');if(!_0x497fe5||!_0x497fe5['dataset'][_0x2c648f(0x445)])return;const _0x17cec9=_0x497fe5['dataset'][_0x2c648f(0x445)];if(quizLeaderboardSortBy===_0x17cec9)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x2c648f(0x45c)?_0x2c648f(0x4cf):_0x2c648f(0x45c);else{quizLeaderboardSortBy=_0x17cec9;const _0x3aa705=[_0x2c648f(0xc97)];quizLeaderboardSortOrder=_0x3aa705[_0x2c648f(0x4c8)](_0x17cec9)?'asc':_0x2c648f(0x4cf);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x2c648f(0x81b));}),document[_0x1001aa(0xa57)]('close-presentation-btn')[_0x1001aa(0x3f4)]('click',closePresentation),document['getElementById'](_0x1001aa(0x8d2))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0x1001aa(0x4d3))['addEventListener']('click',()=>{const _0x22b24e=_0x1001aa;currentQuizData[_0x22b24e(0x288)]&&currentPresentationSlide<currentQuizData['questions'][_0x22b24e(0x423)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x1001aa(0x3f4)](_0x1001aa(0x211),()=>{const _0x4f9201=_0x1001aa;!document[_0x4f9201(0xb74)]&&(presentationModal[_0x4f9201(0xb97)][_0x4f9201(0xb10)]=_0x4f9201(0x4cc));}),document[_0x1001aa(0xa57)]('delete-all-students-btn')[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),handleDeleteAllStudents),studentList[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),_0x143e7f=>{const _0x14ac0f=_0x1001aa,_0x44c345=_0x143e7f[_0x14ac0f(0x408)][_0x14ac0f(0xcac)](_0x14ac0f(0x5ac));if(_0x44c345){const _0xe7a2a9=_0x44c345[_0x14ac0f(0x43d)][_0x14ac0f(0xc97)];handleDeleteStudent(_0xe7a2a9);}}),document[_0x1001aa(0xa57)](_0x1001aa(0xc9a))['addEventListener']('click',handleGenerateFromFileClick),fileUploadInput[_0x1001aa(0x3f4)](_0x1001aa(0x6b6),_0x484a07=>{const _0x2927a3=_0x1001aa,_0x38cdba=_0x484a07['target'][_0x2927a3(0x84e)][0x0],_0x2e544e=document['getElementById']('generate-from-file-btn'),_0x5dd7c3=document[_0x2927a3(0xa57)]('file-topics-list-container'),_0x556d0e=document[_0x2927a3(0xa57)](_0x2927a3(0x74c));_0x38cdba?(selectedFile=_0x38cdba,_0x556d0e['checked']?(_0x2e544e[_0x2927a3(0x267)]=!![],analyzeFileForTopics(_0x38cdba)):(_0x2e544e[_0x2927a3(0x267)]=![],_0x5dd7c3['classList'][_0x2927a3(0xb35)](_0x2927a3(0x3db)))):(selectedFile=null,_0x2e544e['disabled']=!![],_0x5dd7c3[_0x2927a3(0x6b0)][_0x2927a3(0xb35)](_0x2927a3(0x3db)));}),document['getElementById']('separate-by-content-from-file-checkbox')[_0x1001aa(0x3f4)](_0x1001aa(0x6b6),_0x218693=>{const _0x42bc59=_0x1001aa,_0x15edf7=_0x218693[_0x42bc59(0x408)]['checked'],_0x5c776c=document[_0x42bc59(0xa57)](_0x42bc59(0xc9a)),_0x40f28b=document[_0x42bc59(0xa57)](_0x42bc59(0x8e9));_0x15edf7?(_0x5c776c[_0x42bc59(0x267)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x40f28b[_0x42bc59(0x6b0)][_0x42bc59(0xbb2)](_0x42bc59(0x3db)),document[_0x42bc59(0xa57)](_0x42bc59(0xabe))[_0x42bc59(0x2b3)]=_0x42bc59(0xc32))):(_0x40f28b[_0x42bc59(0x6b0)][_0x42bc59(0xb35)](_0x42bc59(0x3db)),_0x5c776c[_0x42bc59(0x267)]=!selectedFile);}),document[_0x1001aa(0xa57)]('file-topics-list-container')['addEventListener']('click',_0x47b02e=>{const _0x480ae0=_0x1001aa,_0x2832cf=_0x47b02e[_0x480ae0(0x408)][_0x480ae0(0xcac)]('.file-topic-selection-btn'),_0xa97394=_0x47b02e[_0x480ae0(0x408)][_0x480ae0(0xcac)](_0x480ae0(0x38f));if(_0x2832cf){const _0x459736=unescape(_0x2832cf[_0x480ae0(0x43d)][_0x480ae0(0x13e)]);generateHybridQuizForTopic(_0x459736);}else{if(_0xa97394){const _0x4c6a7e=unescape(_0xa97394[_0x480ae0(0x43d)]['topic']),_0x4daeb2=document[_0x480ae0(0xa57)](_0x480ae0(0x644))['value'];handleGenerateAndShowLesson(_0x4c6a7e,_0x4daeb2);}}}),document[_0x1001aa(0xa57)]('timer-mode-select')[_0x1001aa(0x3f4)]('change',_0x1fa9a3=>{const _0x5ec1fc=_0x1001aa,_0x295340=document[_0x5ec1fc(0xa57)](_0x5ec1fc(0x9cb)),_0x2f6a51=document[_0x5ec1fc(0xa57)]('timer-duration-label'),_0x1e7477=document[_0x5ec1fc(0xa57)](_0x5ec1fc(0x62f));_0x1fa9a3['target'][_0x5ec1fc(0x6d4)]===_0x5ec1fc(0x4cc)?_0x295340['classList']['add']('hidden'):(_0x295340[_0x5ec1fc(0x6b0)][_0x5ec1fc(0xbb2)](_0x5ec1fc(0x3db)),_0x1fa9a3[_0x5ec1fc(0x408)][_0x5ec1fc(0x6d4)]===_0x5ec1fc(0x8a4)?(_0x2f6a51[_0x5ec1fc(0x63d)]='ระยะเวลา\x20(นาที):',_0x1e7477['value']='10'):(_0x2f6a51[_0x5ec1fc(0x63d)]=_0x5ec1fc(0x947),_0x1e7477[_0x5ec1fc(0x6d4)]='30'));}),document['getElementById'](_0x1001aa(0x365))[_0x1001aa(0x3f4)]('change',_0x3cfc7f=>{const _0xdc722f=_0x1001aa,_0x360538=document[_0xdc722f(0xa57)]('num-choices-container'),_0x174dc6=_0x3cfc7f[_0xdc722f(0x408)][_0xdc722f(0x6d4)],_0x2ddbd9=document[_0xdc722f(0x1c1)](_0xdc722f(0x302)),_0x45f911=document[_0xdc722f(0xa57)](_0xdc722f(0x43b)),_0x1dcad9=document[_0xdc722f(0xa57)](_0xdc722f(0xbe7));_0x174dc6===_0xdc722f(0x6ff)?_0x2ddbd9[_0xdc722f(0x63d)]=_0xdc722f(0xc23):_0x2ddbd9[_0xdc722f(0x63d)]=_0xdc722f(0x1e1),_0x174dc6===_0xdc722f(0xbbc)||_0x174dc6===_0xdc722f(0xadd)||_0x174dc6===_0xdc722f(0x7b0)?_0x360538[_0xdc722f(0x6b0)]['remove'](_0xdc722f(0x3db)):_0x360538[_0xdc722f(0x6b0)][_0xdc722f(0xb35)](_0xdc722f(0x3db)),_0x45f911[_0xdc722f(0x3c9)]=_0x1dcad9[_0xdc722f(0x6d4)];}),document['getElementById'](_0x1001aa(0xbe7))[_0x1001aa(0x3f4)]('input',_0x1482f1=>{const _0x40b846=_0x1001aa;document[_0x40b846(0xa57)](_0x40b846(0x43b))[_0x40b846(0x3c9)]=_0x1482f1['target']['value'];}),document[_0x1001aa(0xa57)]('modal-timer-mode-select')['addEventListener'](_0x1001aa(0x6b6),_0x44ba63=>{const _0x2a52a9=_0x1001aa,_0x557985=document[_0x2a52a9(0xa57)](_0x2a52a9(0xb4a)),_0x2521be=document[_0x2a52a9(0xa57)]('modal-timer-duration-label'),_0x236a8e=document[_0x2a52a9(0xa57)](_0x2a52a9(0x41c));_0x44ba63[_0x2a52a9(0x408)][_0x2a52a9(0x6d4)]===_0x2a52a9(0x4cc)?_0x557985[_0x2a52a9(0x6b0)][_0x2a52a9(0xb35)](_0x2a52a9(0x3db)):(_0x557985[_0x2a52a9(0x6b0)][_0x2a52a9(0xbb2)]('hidden'),_0x44ba63[_0x2a52a9(0x408)][_0x2a52a9(0x6d4)]===_0x2a52a9(0x8a4)?_0x2521be[_0x2a52a9(0x63d)]='ระยะเวลา\x20(นาที):':_0x2521be['textContent']=_0x2a52a9(0x947));}),document[_0x1001aa(0xa57)](_0x1001aa(0x17d))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{const _0x1032b0=_0x1001aa;document[_0x1032b0(0xa57)](_0x1032b0(0x7bc))['classList']['add'](_0x1032b0(0x3db));}),document[_0x1001aa(0xa57)](_0x1001aa(0x44a))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{const _0x308cd6=_0x1001aa;document[_0x308cd6(0xa57)](_0x308cd6(0x7bc))[_0x308cd6(0x6b0)][_0x308cd6(0xb35)](_0x308cd6(0x3db));}),document[_0x1001aa(0xa57)](_0x1001aa(0x9bf))[_0x1001aa(0x3f4)]('click',handleVerifyAnswersInEditor),document[_0x1001aa(0xa57)](_0x1001aa(0xc98))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{const _0x248a45=_0x1001aa;document[_0x248a45(0xa57)](_0x248a45(0x7bc))[_0x248a45(0x6b0)][_0x248a45(0xb35)](_0x248a45(0x3db)),showConfirmation(_0x248a45(0x43f),handleSaveChanges);}),document['getElementById'](_0x1001aa(0x78d))[_0x1001aa(0x3f4)]('click',handleAutoFixLatex);const _0x12d5f6=document[_0x1001aa(0xa57)](_0x1001aa(0x6ba));_0x12d5f6&&_0x12d5f6[_0x1001aa(0x3f4)]('click',_0x233a93=>{const _0x66621a=_0x1001aa,_0x2d8a48=_0x233a93[_0x66621a(0x408)][_0x66621a(0xcac)](_0x66621a(0x3ca)),_0x164a37=_0x233a93[_0x66621a(0x408)][_0x66621a(0xcac)](_0x66621a(0xc73));if(_0x2d8a48){const _0x150850=_0x2d8a48[_0x66621a(0xcac)]('.question-editor-item'),_0x2431bb=parseInt(_0x150850[_0x66621a(0x43d)]['qIndex'],0xa);handleRegenerateQuestionInEditor(_0x2431bb);}else{if(_0x164a37){const _0x208d0f=_0x164a37['closest'](_0x66621a(0x49b)),_0x18b0dd=parseInt(_0x208d0f[_0x66621a(0x43d)]['qIndex'],0xa);handleAiFixFormula(_0x18b0dd);}}});document[_0x1001aa(0xa57)]('open-quiz-bank-btn')[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),openQuizBankModal),document['getElementById'](_0x1001aa(0x1c5))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{const _0x3ea402=_0x1001aa;document[_0x3ea402(0xa57)](_0x3ea402(0xbf3))['classList'][_0x3ea402(0xb35)](_0x3ea402(0x3db));}),document[_0x1001aa(0xa57)](_0x1001aa(0x284))['addEventListener']('input',_0x9c6e=>renderQuizBankList(_0x9c6e['target'][_0x1001aa(0x6d4)]));const _0x833a6e=document[_0x1001aa(0xa57)](_0x1001aa(0x363));if(_0x833a6e){let _0xe56509=null;_0x833a6e[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),_0x2b5d82=>{const _0x586909=_0x1001aa,_0x1afe59=_0x2b5d82[_0x586909(0x408)],_0x30c8ab=_0x1afe59[_0x586909(0xcac)](_0x586909(0x275)),_0x3b4d2f=_0x1afe59[_0x586909(0xcac)](_0x586909(0x633)),_0x4c7ca0=_0x1afe59[_0x586909(0xcac)]('.save-custom-topic-btn'),_0x332fc7=_0x1afe59[_0x586909(0xcac)]('.cancel-edit-topic-btn');if(_0x3b4d2f){_0x2b5d82[_0x586909(0x206)]();const _0x36d3a8=_0x3b4d2f[_0x586909(0x43d)]['id'],_0x44ab4d=_0x3b4d2f[_0x586909(0xcac)](_0x586909(0x6fb))[_0x586909(0x1c1)](_0x586909(0x78f))[_0x586909(0x63d)];showConfirmation(_0x586909(0x6b3)+_0x44ab4d+'\x22?',()=>handleDeleteCustomTopic(_0x36d3a8));}else{if(_0x30c8ab){_0x2b5d82[_0x586909(0x206)]();_0xe56509&&toggleTopicEditMode(_0xe56509,![]);const _0x47ff2c=_0x30c8ab[_0x586909(0xcac)]('[data-topic-container-id]');_0xe56509=_0x47ff2c,toggleTopicEditMode(_0x47ff2c,!![]);}else{if(_0x4c7ca0){_0x2b5d82[_0x586909(0x206)]();const _0xdb4393=_0x4c7ca0[_0x586909(0x43d)]['id'],_0x46f266=_0x4c7ca0[_0x586909(0xcac)](_0x586909(0x11c)),_0x233118=_0x46f266[_0x586909(0x1c1)](_0x586909(0x318))['value'];handleUpdateCustomTopic(_0xdb4393,_0x233118),_0xe56509=null;}else{if(_0x332fc7){_0x2b5d82[_0x586909(0x206)]();const _0x1a62de=_0x332fc7[_0x586909(0xcac)](_0x586909(0x11c));toggleTopicEditMode(_0x1a62de,![]),_0xe56509=null;}}}}}),document[_0x1001aa(0xa57)](_0x1001aa(0xc95))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{const _0x46e2cc=_0x1001aa;document[_0x46e2cc(0xa57)]('lesson-plan-modal')[_0x46e2cc(0x6b0)][_0x46e2cc(0xb35)](_0x46e2cc(0x3db));}),document['getElementById'](_0x1001aa(0xbc7))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{const _0x29fdbc=_0x1001aa;document[_0x29fdbc(0xa57)](_0x29fdbc(0xb3e))[_0x29fdbc(0x6b0)][_0x29fdbc(0xb35)]('hidden');}),document[_0x1001aa(0xa57)]('export-lesson-pdf-btn')['addEventListener']('click',handleExportLessonPDF);}document[_0x1001aa(0xa57)](_0x1001aa(0x446))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),()=>{const _0xc7fa3a=_0x1001aa;document[_0xc7fa3a(0xa57)](_0xc7fa3a(0x3d6))[_0xc7fa3a(0x6b0)][_0xc7fa3a(0xb35)](_0xc7fa3a(0x3db));}),document[_0x1001aa(0xa57)]('close-comparison-modal-footer-btn')['addEventListener'](_0x1001aa(0x1b1),()=>{const _0x590adc=_0x1001aa;document['getElementById']('comparison-modal')[_0x590adc(0x6b0)]['add'](_0x590adc(0x3db));}),setupComparisonModalTabs(),document['body'][_0x1001aa(0x3f4)]('click',function(_0x2fc3f8){const _0x504494=_0x1001aa;if(_0x2fc3f8['target']['classList'][_0x504494(0x7a2)](_0x504494(0x818))){const _0xf22ae3=unescape(_0x2fc3f8[_0x504494(0x408)]['dataset'][_0x504494(0x13e)]);startSkillPractice(_0xf22ae3);}}),document[_0x1001aa(0xa57)](_0x1001aa(0x174))[_0x1001aa(0x3f4)](_0x1001aa(0x1b1),_0x32eb8c=>{const _0x871cf7=_0x1001aa,_0x110201=_0x32eb8c[_0x871cf7(0x408)]['closest'](_0x871cf7(0x4bf));if(_0x110201){const _0x3fcc94=_0x110201[_0x871cf7(0x43d)][_0x871cf7(0xc97)];handleDeleteSubmission(_0x3fcc94);}});}async function handleStartGroupMode(_0x1c763c,_0x1aa1c7=![]){const _0x31ca7b=_0x3b29b2,_0x4c9015=allQuizzes[_0x31ca7b(0xc0d)](_0x120ed4=>_0x120ed4['id']===_0x1c763c)||allQuizzesGlobal[_0x31ca7b(0xc0d)](_0x50fe28=>_0x50fe28['id']===_0x1c763c);if(!_0x4c9015){showMessage(_0x31ca7b(0x57d));return;}currentQuizData=getShuffledQuiz(_0x4c9015);const _0x208b58=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x31ca7b(0xa5a)]();try{const _0x2602a0=await addDoc(collection(db,'artifacts/'+appId+'/public/data/teamQuizzes'),{'quizId':_0x4c9015['id'],'projectId':_0x4c9015[_0x31ca7b(0x13a)],'status':_0x31ca7b(0x40e),'pin':_0x208b58,'mode':_0x31ca7b(0x5c9),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x1aa1c7});currentTeamQuizId=_0x2602a0['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x208b58,_0x4c9015[_0x31ca7b(0x13e)],_0x31ca7b(0x5c9)),listenForTeamQuizUpdates();}catch(_0x44e057){console['error']('Error\x20starting\x20group\x20quiz:',_0x44e057),showMessage(_0x31ca7b(0xafe));}}async function showStudentProgressView(){const _0x1dcf2e=_0x3b29b2;studentInitialView['classList']['add']('hidden'),document[_0x1dcf2e(0xa57)](_0x1dcf2e(0xc80))[_0x1dcf2e(0x6b0)][_0x1dcf2e(0xbb2)](_0x1dcf2e(0x3db));const _0x12add8=document[_0x1dcf2e(0xa57)](_0x1dcf2e(0xb5b)),_0x4df960=document['getElementById'](_0x1dcf2e(0x3b8)),_0xb8ca43=document[_0x1dcf2e(0xa57)](_0x1dcf2e(0x5b1));_0xb8ca43['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x4df960[_0x1dcf2e(0x2b3)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x4df960['disabled']=!![],_0x12add8['innerHTML']=_0x1dcf2e(0xbb3);if(allProjects[_0x1dcf2e(0x423)]===0x0){const _0x68a056=collection(db,'artifacts/'+appId+_0x1dcf2e(0x304)),_0x553cef=await getDocs(_0x68a056);allProjects=_0x553cef[_0x1dcf2e(0x8c5)][_0x1dcf2e(0x921)](_0x2a2136=>({'id':_0x2a2136['id'],..._0x2a2136[_0x1dcf2e(0x7a6)]()}));}const _0xa165bd=allProjects['filter'](_0x2ed0e8=>_0x2ed0e8[_0x1dcf2e(0x813)]?.[_0x1dcf2e(0x756)]!==![]);_0xa165bd[_0x1dcf2e(0x445)]((_0x1519bf,_0x81a25)=>_0x1519bf[_0x1dcf2e(0x234)][_0x1dcf2e(0x843)](_0x81a25['projectName'],'th')),_0x12add8['innerHTML']=_0x1dcf2e(0x23e)+_0xa165bd[_0x1dcf2e(0x921)](_0x1239dc=>_0x1dcf2e(0x93f)+_0x1239dc['id']+'\x22>'+_0x1239dc[_0x1dcf2e(0x234)]+_0x1dcf2e(0xca6))[_0x1dcf2e(0xa0a)](''),_0x12add8[_0x1dcf2e(0x362)]=()=>{const _0x2f2134=_0x1dcf2e,_0x3a23a9=_0x4df960['value'],_0x7153eb=_0x12add8[_0x2f2134(0x6d4)];_0x4df960[_0x2f2134(0x267)]=!![],_0x4df960[_0x2f2134(0x2b3)]=_0x2f2134(0x7aa),_0xb8ca43[_0x2f2134(0x2b3)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>';if(!_0x7153eb)return;const _0x21a005=allProjects[_0x2f2134(0xc0d)](_0x1aa7c0=>_0x1aa7c0['id']===_0x7153eb);if(!_0x21a005||!_0x21a005['students'])return;const _0x4533f0=()=>{const _0x190763=_0x2f2134;_0x4df960[_0x190763(0x2b3)]=_0x190763(0x7aa)+_0x21a005['students'][_0x190763(0x921)](_0x34e30c=>_0x190763(0x93f)+_0x34e30c+'\x22>'+_0x34e30c+'</option>')[_0x190763(0xa0a)](''),_0x4df960[_0x190763(0x267)]=![];const _0x27d358=Array[_0x190763(0x35d)](_0x4df960[_0x190763(0x5a9)])[_0x190763(0x921)](_0x62cddb=>_0x62cddb['value']);if(_0x3a23a9&&_0x27d358[_0x190763(0x4c8)](_0x3a23a9))_0x4df960[_0x190763(0x6d4)]=_0x3a23a9,_0x4df960[_0x190763(0x5dd)](new Event(_0x190763(0x6b6)));else _0x21a005[_0x190763(0x98d)]['length']===0x1&&(_0x4df960[_0x190763(0x6d4)]=_0x21a005[_0x190763(0x98d)][0x0],_0x4df960[_0x190763(0x5dd)](new Event('change')));};if(_0x21a005[_0x2f2134(0x813)]?.['isPasscodeEnabled']){if(sessionStorage[_0x2f2134(0x6c7)]('authed_project_'+_0x7153eb)===_0x2f2134(0x198)){_0x4533f0();return;}const _0x2670ae=document[_0x2f2134(0xa57)]('project-passcode-modal'),_0x536e59=document[_0x2f2134(0xa57)](_0x2f2134(0x9a2)),_0x370f06=document[_0x2f2134(0xa57)](_0x2f2134(0x540)),_0x2a4ac1=document[_0x2f2134(0xa57)](_0x2f2134(0x9f3)),_0x43d113=document['getElementById']('passcode-error-msg');document[_0x2f2134(0xa57)](_0x2f2134(0x642))[_0x2f2134(0x63d)]=_0x2f2134(0x964)+_0x21a005[_0x2f2134(0x234)],_0x2a4ac1['value']='',_0x43d113['classList'][_0x2f2134(0xb35)](_0x2f2134(0x3db)),_0x2670ae[_0x2f2134(0x6b0)][_0x2f2134(0xbb2)](_0x2f2134(0x3db));const _0x1df2df=()=>{const _0x81e520=_0x2f2134,_0x4617f9=_0x2a4ac1[_0x81e520(0x6d4)][_0x81e520(0x9bb)]();_0x4617f9===_0x21a005['settings'][_0x81e520(0x2a2)]?(sessionStorage[_0x81e520(0x6a3)]('authed_project_'+_0x7153eb,_0x81e520(0x198)),_0x2670ae[_0x81e520(0x6b0)][_0x81e520(0xb35)](_0x81e520(0x3db)),_0x4533f0(),_0x536e59[_0x81e520(0xbf9)](_0x81e520(0x1b1),_0x1df2df)):_0x43d113[_0x81e520(0x6b0)][_0x81e520(0xbb2)](_0x81e520(0x3db));};_0x536e59[_0x2f2134(0xbed)]=_0x1df2df,_0x370f06[_0x2f2134(0xbed)]=()=>{const _0xc0cc2e=_0x2f2134;_0x2670ae[_0xc0cc2e(0x6b0)]['add'](_0xc0cc2e(0x3db)),_0x12add8['value']='',_0x536e59[_0xc0cc2e(0xbf9)]('click',_0x1df2df);};}else _0x4533f0();},_0x4df960['onchange']=()=>{const _0x32ecdb=_0x1dcf2e,_0x12f556=_0x12add8[_0x32ecdb(0x6d4)],_0x47336e=_0x4df960[_0x32ecdb(0x6d4)];_0x12f556&&_0x47336e&&renderStudentProgressDashboard(_0x12f556,_0x47336e);};}async function confirmAndJoinSyncGame(){const _0x5645b8=_0x3b29b2,_0x317f79=Array[_0x5645b8(0x35d)](document[_0x5645b8(0x3cf)]('input[name=\x22team_player\x22]:checked'))['map'](_0x151e66=>_0x151e66[_0x5645b8(0x6d4)]);if(_0x317f79[_0x5645b8(0x423)]===0x0){showMessage(_0x5645b8(0x9a4));return;}localTeamPlayers=_0x317f79,localPlayerTurnIndex=0x0;const _0x596c5f=doc(db,_0x5645b8(0xb79)+appId+_0x5645b8(0x5a4),currentLiveGameId);try{const _0x4ebd60=await getDoc(_0x596c5f);if(!_0x4ebd60[_0x5645b8(0xb65)]())throw new Error('ไม่พบข้อมูลเกม');const _0x1590fd={};_0x317f79['forEach'](_0x5eb2d1=>{const _0x357469=_0x5645b8;_0x1590fd['players.'+_0x5eb2d1]={'name':_0x5eb2d1,'score':0x0,'answered':![],'status':_0x357469(0x37e)};}),await updateDoc(_0x596c5f,_0x1590fd),document[_0x5645b8(0xa57)]('student-team-selection-view')[_0x5645b8(0x6b0)][_0x5645b8(0xb35)](_0x5645b8(0x3db)),currentStudentName=_0x317f79[0x0],listenForSyncGameUpdates();const _0x247dbf={'gameId':currentLiveGameId,'mode':_0x5645b8(0xa2f),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem']('activeGameSession',JSON[_0x5645b8(0xc54)](_0x247dbf));}catch(_0x343309){console[_0x5645b8(0xc93)]('Error\x20confirming\x20players\x20for\x20sync\x20game:',_0x343309),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function resumeActiveGameSession(){const _0x3824fc=_0x3b29b2,_0x53847c=sessionStorage[_0x3824fc(0x6c7)](_0x3824fc(0x41b));if(!_0x53847c)return;const _0x330420=JSON[_0x3824fc(0x5f1)](_0x53847c),{gameId:_0x3a4541,mode:_0x51df6d,players:_0x4dd41f,turnIndex:_0x5347f4}=_0x330420;try{let _0x49dcc6,_0x343705;_0x51df6d==='sync'?_0x49dcc6=doc(db,_0x3824fc(0xb79)+appId+_0x3824fc(0x5a4),_0x3a4541):_0x49dcc6=doc(db,'artifacts/'+appId+_0x3824fc(0x8f3),_0x3a4541);_0x343705=await getDoc(_0x49dcc6);if(!_0x343705[_0x3824fc(0xb65)]()||_0x343705[_0x3824fc(0x7a6)]()[_0x3824fc(0xbeb)]===_0x3824fc(0xb11)||_0x343705['data']()[_0x3824fc(0xbeb)]===_0x3824fc(0x56f)){sessionStorage[_0x3824fc(0x8a8)](_0x3824fc(0x41b));return;}console['log'](_0x3824fc(0x1a3)+_0x51df6d+_0x3824fc(0xb05)+_0x3a4541+')'),localTeamPlayers=_0x4dd41f,localPlayerTurnIndex=_0x5347f4;if(_0x51df6d===_0x3824fc(0xa2f))currentLiveGameId=_0x3a4541,currentStudentName=_0x4dd41f[0x0],showView(_0x3824fc(0x618)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x3a4541;const _0x44fc9d=_0x343705[_0x3824fc(0x7a6)](),_0xa4c4cd=doc(db,'artifacts/'+appId+_0x3824fc(0x53a),_0x44fc9d[_0x3824fc(0x6da)]),_0x4d7889=await getDoc(_0xa4c4cd);_0x4d7889[_0x3824fc(0xb65)]()&&(currentQuizData=getShuffledQuiz({'id':_0x4d7889['id'],..._0x4d7889[_0x3824fc(0x7a6)]()}),showView(_0x3824fc(0x3a6)),studentInitialView['classList'][_0x3824fc(0xb35)](_0x3824fc(0x3db)),renderTeamQuizQuestion());}}catch(_0x958765){console[_0x3824fc(0xc93)](_0x3824fc(0x8c0),_0x958765),sessionStorage[_0x3824fc(0x8a8)](_0x3824fc(0x41b));}}function activateFileInputAreaWithLoadedFile(){const _0x2bea1f=_0x3b29b2,_0x1c8537=document[_0x2bea1f(0xa57)]('generate-from-file-btn'),_0x17aa7a=document[_0x2bea1f(0xa57)](_0x2bea1f(0x8e9)),_0x16bf6a=document['getElementById'](_0x2bea1f(0x74c));selectedFile?_0x16bf6a[_0x2bea1f(0x354)]?(_0x1c8537[_0x2bea1f(0x267)]=!![],analyzeFileForTopics(selectedFile)):(_0x1c8537[_0x2bea1f(0x267)]=![],_0x17aa7a['classList'][_0x2bea1f(0xb35)](_0x2bea1f(0x3db))):(_0x1c8537[_0x2bea1f(0x267)]=!![],_0x17aa7a[_0x2bea1f(0x6b0)][_0x2bea1f(0xb35)](_0x2bea1f(0x3db)));}async function handleKickPlayerSync(_0x1c0f2a){const _0x2793ab=_0x3b29b2;if(!currentLiveGameId||!_0x1c0f2a)return;const _0x367486=doc(db,'artifacts/'+appId+_0x2793ab(0x5a4),currentLiveGameId),_0x222d74={};_0x222d74['players.'+_0x1c0f2a+'.status']='inactive';try{await updateDoc(_0x367486,_0x222d74);}catch(_0x21df4b){console[_0x2793ab(0xc93)](_0x2793ab(0x823)+_0x1c0f2a+_0x2793ab(0x83a),_0x21df4b),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function renderStudentProgressDashboard(_0x2a5943,_0x9d302c){const _0x3ae096=_0x3b29b2,_0x31676f=document[_0x3ae096(0xa57)](_0x3ae096(0x5b1));_0x31676f[_0x3ae096(0x2b3)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x1f72e9=collection(db,_0x3ae096(0xb79)+appId+_0x3ae096(0x53a)),_0x17670b=query(_0x1f72e9,where(_0x3ae096(0x13a),'==',_0x2a5943)),_0x59c0d0=await getDocs(_0x17670b),_0x36acb3=_0x59c0d0[_0x3ae096(0x8c5)][_0x3ae096(0x921)](_0x43cd70=>({'id':_0x43cd70['id'],..._0x43cd70['data']()})),_0x339ce8=_0x36acb3[_0x3ae096(0x921)](_0xdfe6de=>getDoc(doc(db,_0x3ae096(0xb79)+appId+_0x3ae096(0x689)+_0xdfe6de['id']+_0x3ae096(0x3d5),_0x9d302c))),_0x119f79=await Promise['all'](_0x339ce8),_0x21ac90=_0x119f79['filter'](_0x3b75c7=>_0x3b75c7[_0x3ae096(0xb65)]())[_0x3ae096(0x921)](_0x5491ca=>({'quizId':_0x5491ca['ref'][_0x3ae096(0x932)][_0x3ae096(0x932)]['id'],..._0x5491ca[_0x3ae096(0x7a6)]()}));if(_0x21ac90['length']===0x0){_0x31676f[_0x3ae096(0x2b3)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>';return;}let _0x47bf6a=_0x3ae096(0xbb5);_0x21ac90[_0x3ae096(0x9aa)](_0x1373b5=>{const _0x3292ae=_0x3ae096,_0x31bf59=_0x36acb3['find'](_0x2dd4ea=>_0x2dd4ea['id']===_0x1373b5['quizId']),_0x4cafea=_0x31bf59[_0x3292ae(0x813)]?.[_0x3292ae(0xc56)]||'show_results_and_answers',_0x1e213a=_0x31bf59[_0x3292ae(0x813)]?.['passingScore']??0x0,_0x18c55b=_0x1373b5[_0x3292ae(0x6a7)]>=_0x1e213a;let _0x22f75a='',_0x4df174=_0x3292ae(0x891);switch(_0x4cafea){case _0x3292ae(0x1ed):case _0x3292ae(0x27f):_0x4df174=_0x18c55b?_0x3292ae(0x8ef):'bg-red-50',_0x22f75a=_0x3292ae(0x2c1)+(_0x18c55b?_0x3292ae(0x2a4):_0x3292ae(0x5be))+'\x22>'+_0x1373b5['bestScore']+'\x20/\x20'+_0x1373b5[_0x3292ae(0xb07)]+_0x3292ae(0x316)+(_0x18c55b?_0x3292ae(0x1be):_0x3292ae(0x84d))+'\x22>'+(_0x18c55b?'ผ่าน':_0x3292ae(0x127))+_0x3292ae(0x19e);break;case _0x3292ae(0xbdf):_0x4df174=_0x18c55b?_0x3292ae(0x8ef):_0x3292ae(0x1cd),_0x22f75a=_0x3292ae(0xacc)+(_0x18c55b?'bg-green-200\x20text-green-800':_0x3292ae(0x84d))+'\x22>'+(_0x18c55b?_0x3292ae(0x622):_0x3292ae(0x127))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'manual_release':_0x4df174=_0x3292ae(0x8b6),_0x22f75a=_0x3292ae(0x3c4);break;}_0x47bf6a+=_0x3292ae(0xc1b)+_0x4df174+_0x3292ae(0x169)+_0x31bf59[_0x3292ae(0x13e)]+_0x3292ae(0x85d)+_0x1373b5['attempts'][_0x3292ae(0x423)]+_0x3292ae(0x21d)+new Date(_0x1373b5[_0x3292ae(0x98a)])['toLocaleDateString'](_0x3292ae(0x6f2))+_0x3292ae(0x8ca)+_0x22f75a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x47bf6a+='</div>',_0x31676f[_0x3ae096(0x2b3)]=_0x47bf6a;}catch(_0x1e135d){console[_0x3ae096(0xc93)]('Error\x20rendering\x20student\x20progress:',_0x1e135d),_0x31676f[_0x3ae096(0x2b3)]=_0x3ae096(0x49d);}}function renderQuizBankListForMultiSelect(_0x57bb6e=''){const _0x5523d2=_0x3b29b2,_0x3f395a=document[_0x5523d2(0xa57)](_0x5523d2(0x9e5)),_0x11a79b=_0x57bb6e[_0x5523d2(0x80a)]()[_0x5523d2(0x9bb)](),_0x404642=allQuizzesGlobal[_0x5523d2(0x921)](_0x3ff672=>({..._0x3ff672,'projectName':allProjects[_0x5523d2(0xc0d)](_0x1fd6bd=>_0x1fd6bd['id']===_0x3ff672[_0x5523d2(0x13a)])?.['projectName']||_0x5523d2(0x137)}))[_0x5523d2(0x36d)](_0x235292=>(_0x235292[_0x5523d2(0x13e)]||'')[_0x5523d2(0x80a)]()[_0x5523d2(0x4c8)](_0x11a79b)||(_0x235292[_0x5523d2(0x234)]||'')[_0x5523d2(0x80a)]()[_0x5523d2(0x4c8)](_0x11a79b)||_0x235292['id']['toString']()[_0x5523d2(0x4c8)](_0x11a79b));_0x3f395a[_0x5523d2(0x2b3)]=_0x404642['length']?_0x404642[_0x5523d2(0x921)](_0x82f54d=>_0x5523d2(0x17f)+_0x82f54d['id']+_0x5523d2(0x4fe)+(_0x82f54d[_0x5523d2(0x13e)]||_0x5523d2(0x96b))+_0x5523d2(0xb31)+_0x82f54d[_0x5523d2(0x234)]+'\x20|\x20ID:\x20'+_0x82f54d['id']+_0x5523d2(0x686))[_0x5523d2(0xa0a)](''):_0x5523d2(0x9a7),_0x3f395a[_0x5523d2(0x362)]=()=>{const _0x1c68c7=_0x5523d2,_0x231928=document[_0x1c68c7(0x1c1)](_0x1c68c7(0xb0a));document[_0x1c68c7(0xa57)]('confirm-link-quiz-btn')[_0x1c68c7(0x267)]=!_0x231928;};}function setupStudentProgressListeners(){const _0x2dd22a=_0x3b29b2;document[_0x2dd22a(0xa57)](_0x2dd22a(0xa94))[_0x2dd22a(0x3f4)](_0x2dd22a(0x1b1),showStudentProgressView),document[_0x2dd22a(0xa57)]('back-to-student-home-btn')[_0x2dd22a(0x3f4)](_0x2dd22a(0x1b1),()=>{const _0xf66c24=_0x2dd22a;document[_0xf66c24(0xa57)](_0xf66c24(0xc80))[_0xf66c24(0x6b0)][_0xf66c24(0xb35)]('hidden'),document['getElementById'](_0xf66c24(0x58d))[_0xf66c24(0x6b0)][_0xf66c24(0xbb2)]('hidden');});}async function startSkillPractice(_0x4972fd){const _0x27e40a=_0x3b29b2;studentResultArea[_0x27e40a(0x6b0)]['add'](_0x27e40a(0x3db)),studentQuizArea[_0x27e40a(0x2b3)]=_0x27e40a(0x12b),studentQuizArea['classList'][_0x27e40a(0xbb2)]('hidden');try{const _0xea1a79=await getStandardizedTopic(_0x4972fd);console[_0x27e40a(0x886)](_0x27e40a(0x666)+_0x4972fd+_0x27e40a(0x35b)+_0xea1a79+'\x22'),studentQuizArea[_0x27e40a(0x1c1)]('p')['textContent']='กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22'+_0xea1a79+_0x27e40a(0xadc);const _0x1437cf=collection(db,_0x27e40a(0xb79)+appId+'/public/data/practiceBank'),_0x307715=query(_0x1437cf,where(_0x27e40a(0x13e),'==',_0xea1a79)),_0x1b5687=await getDocs(_0x307715);if(_0x1b5687[_0x27e40a(0x8c5)][_0x27e40a(0x423)]>=0x3){console['log'](_0x27e40a(0x934)+_0x1b5687[_0x27e40a(0x8c5)][_0x27e40a(0x423)]+'\x20ข้อในคลังสำหรับหัวข้อ\x20\x22'+_0xea1a79+_0x27e40a(0x628));let _0x4dffdd=_0x1b5687[_0x27e40a(0x8c5)]['map'](_0x1c93a0=>_0x1c93a0[_0x27e40a(0x7a6)]());shuffleArray(_0x4dffdd);const _0xf47b51={'topic':_0xea1a79,'questions':_0x4dffdd[_0x27e40a(0x20e)](0x0,0x3)};displaySkillPracticeDrill(_0xf47b51);}else{console[_0x27e40a(0x886)]('ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22'+_0xea1a79+'\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...');const _0x5dcb04=await generatePracticeQuestions(_0xea1a79);await saveDrillToPracticeBank(_0x5dcb04,_0xea1a79),displaySkillPracticeDrill(_0x5dcb04);}}catch(_0xc77a50){console[_0x27e40a(0xc93)](_0x27e40a(0x5e4),_0xc77a50),showMessage(_0x27e40a(0xba3)),studentQuizArea[_0x27e40a(0x6b0)][_0x27e40a(0xb35)]('hidden'),studentResultArea[_0x27e40a(0x6b0)][_0x27e40a(0xbb2)]('hidden');}}async function saveDrillToPracticeBank(_0x131500,_0x1a97c7){const _0x251280=_0x3b29b2,_0x38292a=collection(db,_0x251280(0xb79)+appId+_0x251280(0x30b)),_0x4e22ac=writeBatch(db);_0x131500[_0x251280(0x288)][_0x251280(0x9aa)](_0x445635=>{const _0x4e7406=_0x251280,_0x23c0e5=doc(_0x38292a);_0x4e22ac[_0x4e7406(0x92d)](_0x23c0e5,{'topic':_0x1a97c7,'questionText':_0x445635['questionText'],'options':_0x445635[_0x4e7406(0x5a9)],'correctAnswerIndex':_0x445635[_0x4e7406(0x6c9)],'explanation':_0x445635[_0x4e7406(0x8dc)],'createdAt':serverTimestamp()});});try{await _0x4e22ac[_0x251280(0x658)](),console['log']('บันทึกคำถามใหม่\x20'+_0x131500['questions'][_0x251280(0x423)]+_0x251280(0x4fd));}catch(_0x3b1d60){console['error'](_0x251280(0x1d4),_0x3b1d60);}}async function getStandardizedTopic(_0x5e4830){const _0x172b2f=_0x3b29b2,_0x2d872b=_0x172b2f(0x63a)+_0x5e4830+_0x172b2f(0x27c),_0x174870={'type':'OBJECT','properties':{'standardTopic':{'type':'STRING'}},'required':['standardTopic']};try{const _0x21c1d7=await callAnalysisApi(_0x2d872b,_0x174870);return _0x21c1d7[_0x172b2f(0xb81)];}catch(_0x1d0259){return console[_0x172b2f(0xc93)](_0x172b2f(0xbf5),_0x1d0259),_0x5e4830;}}async function handleGenerateEasyVersionQuiz(_0x9e6bf2){const _0x32fc3e=_0x3b29b2,_0x4b771a=document[_0x32fc3e(0xa57)](_0x32fc3e(0x913)),_0x48c437=document[_0x32fc3e(0xa57)](_0x32fc3e(0x2dd));_0x48c437[_0x32fc3e(0x6b0)][_0x32fc3e(0xb35)](_0x32fc3e(0x3db));const _0x47e4a0=_0x32fc3e(0x904);_0x4b771a[_0x32fc3e(0x306)](_0x32fc3e(0x5d9),_0x47e4a0);try{const _0x4b1577=allQuizzes[_0x32fc3e(0xc0d)](_0x4cc8ee=>_0x4cc8ee['id']===_0x9e6bf2);if(!_0x4b1577)throw new Error(_0x32fc3e(0x265));const _0x34ed89=_0x32fc3e(0x2dc)+JSON[_0x32fc3e(0xc54)](_0x4b1577[_0x32fc3e(0x288)])+_0x32fc3e(0x7ca),_0x13a2a6={'type':_0x32fc3e(0x31f),'properties':{'questionText':{'type':_0x32fc3e(0xc48)},'questionType':{'type':_0x32fc3e(0xc48)},'options':{'type':'ARRAY','items':{'type':_0x32fc3e(0xc48)}},'correctAnswerIndex':{'type':_0x32fc3e(0xbe5)},'idealAnswer':{'type':_0x32fc3e(0xc48)},'explanation':{'type':_0x32fc3e(0xc48)},'imageCode':{'type':_0x32fc3e(0xc48)}},'required':[_0x32fc3e(0xc1c),_0x32fc3e(0x704),_0x32fc3e(0x8dc)]},_0x1331c7={'type':_0x32fc3e(0x31f),'properties':{'questions':{'type':_0x32fc3e(0x880),'items':_0x13a2a6}},'required':[_0x32fc3e(0x288)]},_0x50682c=await callAnalysisApi(_0x34ed89,_0x1331c7);_0x50682c&&_0x50682c['questions']&&_0x50682c['questions'][_0x32fc3e(0x9aa)](_0x1aa4d8=>{const _0x1c351b=_0x32fc3e;if(_0x1aa4d8[_0x1c351b(0xca3)](_0x1c351b(0xa5d))){const _0x29388b=String(_0x1aa4d8[_0x1c351b(0xa5d)])['trim']();(_0x29388b===''||_0x29388b[_0x1c351b(0x80a)]()===_0x1c351b(0x838)||!_0x29388b[_0x1c351b(0x6c6)](_0x1c351b(0x50f)))&&delete _0x1aa4d8['imageCode'];}});if(!_0x50682c||!_0x50682c['questions']||_0x50682c[_0x32fc3e(0x288)][_0x32fc3e(0x423)]===0x0)throw new Error(_0x32fc3e(0x2de));const _0x42b66b=_0x50682c[_0x32fc3e(0x288)][_0x32fc3e(0x921)]((_0x2e5366,_0x5b026f)=>({..._0x2e5366,'id':'q_'+Date[_0x32fc3e(0x8d7)]()+'_'+_0x5b026f})),_0x44b772={'projectId':_0x4b1577['projectId'],'quizType':_0x4b1577[_0x32fc3e(0x573)],'settings':_0x4b1577[_0x32fc3e(0x813)],'createdBy':_0x4b1577[_0x32fc3e(0x3e4)],'status':_0x32fc3e(0x37e),'topic':_0x32fc3e(0x1b8)+_0x4b1577['topic'],'questions':_0x42b66b,'createdAt':new Date()[_0x32fc3e(0x975)](),'quizMode':_0x32fc3e(0xb58),'pairedQuizId':null};let _0x244acb;while(!![]){_0x244acb=Math[_0x32fc3e(0xb26)](0x3e8+Math[_0x32fc3e(0x95a)]()*0x2328)[_0x32fc3e(0xa5a)]();const _0x1e6b92=await getDoc(doc(db,_0x32fc3e(0xb79)+appId+_0x32fc3e(0x53a),_0x244acb));if(!_0x1e6b92[_0x32fc3e(0xb65)]())break;}await setDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x244acb),_0x44b772),showMessage(_0x32fc3e(0x3bf));}catch(_0x585a04){console[_0x32fc3e(0xc93)](_0x32fc3e(0x74f),_0x585a04),showMessage(_0x32fc3e(0x1fd)+_0x585a04[_0x32fc3e(0x8df)]);}finally{const _0x4e287c=document[_0x32fc3e(0xa57)](_0x32fc3e(0x293));_0x4e287c&&_0x4e287c['remove'](),_0x48c437[_0x32fc3e(0x6b0)][_0x32fc3e(0xbb2)](_0x32fc3e(0x3db));}}async function generatePracticeQuestions(_0x4b0d35){const _0x2e13ac=_0x3b29b2,_0x4b4bcc=_0x2e13ac(0xc44)+_0x4b0d35+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20',_0x33fb04={'type':_0x2e13ac(0x31f),'properties':{'questionText':{'type':_0x2e13ac(0xc48)},'options':{'type':_0x2e13ac(0x880),'items':{'type':_0x2e13ac(0xc48)}},'correctAnswerIndex':{'type':_0x2e13ac(0xbe5)},'explanation':{'type':_0x2e13ac(0xc48)}},'required':[_0x2e13ac(0xc1c),_0x2e13ac(0x5a9),_0x2e13ac(0x6c9),_0x2e13ac(0x8dc)]},_0x180d0c={'type':_0x2e13ac(0x31f),'properties':{'topic':{'type':_0x2e13ac(0xc48)},'questions':{'type':_0x2e13ac(0x880),'items':_0x33fb04}},'required':[_0x2e13ac(0x13e),'questions']};return await callAnalysisApi(_0x4b4bcc,_0x180d0c);}function displayLessonPlan(_0x184f12,_0x1eadc9){const _0x8abb84=_0x3b29b2,_0xcff61d=_0x8abb84(0x634)+_0x1eadc9['topic']+_0x8abb84(0x14b)+_0x184f12['learningGaps']['map'](_0x40a307=>_0x8abb84(0x4f9)+_0x40a307+_0x8abb84(0x61b))[_0x8abb84(0xa0a)]('')+_0x8abb84(0x48d)+_0x184f12[_0x8abb84(0x922)]+_0x8abb84(0x8e5)+_0x184f12[_0x8abb84(0x155)][_0x8abb84(0x921)](_0x2de08e=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x2de08e[_0x8abb84(0x3ee)]+_0x8abb84(0x29f)+_0x2de08e[_0x8abb84(0x598)]+_0x8abb84(0x9e0))[_0x8abb84(0xa0a)]('')+_0x8abb84(0x8fc);document['getElementById'](_0x8abb84(0x641))['textContent']=_0x8abb84(0x5b6)+_0x1eadc9[_0x8abb84(0x13e)],document[_0x8abb84(0xa57)](_0x8abb84(0x50e))[_0x8abb84(0x2b3)]=_0xcff61d,document[_0x8abb84(0xa57)]('lesson-plan-modal')[_0x8abb84(0x6b0)][_0x8abb84(0xbb2)]('hidden');if(window[_0x8abb84(0x49e)])MathJax[_0x8abb84(0x13d)]();}function displaySkillPracticeDrill(_0x223604){const _0x997fe4=_0x3b29b2;let _0x378266=0x0;const _0x4bf3c7=_0x223604[_0x997fe4(0x288)],_0x396ddd=()=>{const _0x4714fa=_0x997fe4,_0x21473c=_0x4bf3c7[_0x378266],_0x12afc5=_0x4714fa(0x25d)+(_0x378266+0x1)+'\x20/\x20'+_0x4bf3c7[_0x4714fa(0x423)]+_0x4714fa(0xacb)+_0x21473c[_0x4714fa(0xc1c)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x21473c['options'][_0x4714fa(0x921)]((_0x728bf4,_0x3c0445)=>_0x4714fa(0x55a)+_0x3c0445+_0x4714fa(0xa82)+_0x3c0445+_0x4714fa(0xb9b)+_0x3c0445+'\x22>'+_0x728bf4+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4714fa(0xa0a)]('')+_0x4714fa(0xa67);studentQuizArea[_0x4714fa(0x2b3)]=_0x12afc5;if(window['MathJax'])MathJax['typesetPromise']([studentQuizArea]);document['getElementById'](_0x4714fa(0x1bd))['addEventListener'](_0x4714fa(0x1b1),async()=>{const _0x1dca81=_0x4714fa,_0x58166f=await getHintForQuestion(_0x21473c[_0x1dca81(0xc1c)]);showMessage(_0x58166f);}),document[_0x4714fa(0xa57)](_0x4714fa(0x277))[_0x4714fa(0x3f4)](_0x4714fa(0x1b1),()=>{const _0x96c058=_0x4714fa,_0x3fe206=document[_0x96c058(0x1c1)](_0x96c058(0x2f7));if(!_0x3fe206){showMessage(_0x96c058(0xc8b));return;}const _0x276ab8=document['getElementById'](_0x96c058(0xbaa)),_0xcba016=parseInt(_0x3fe206[_0x96c058(0x6d4)])===_0x21473c[_0x96c058(0x6c9)];_0xcba016?(_0x276ab8[_0x96c058(0x8d5)]='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x276ab8['innerHTML']=_0x96c058(0xc7a)+_0x21473c[_0x96c058(0x8dc)]):(_0x276ab8[_0x96c058(0x8d5)]=_0x96c058(0x5d2),_0x276ab8[_0x96c058(0x2b3)]=_0x96c058(0xc39)+_0x21473c[_0x96c058(0x8dc)]);_0x276ab8[_0x96c058(0x6b0)][_0x96c058(0xbb2)](_0x96c058(0x3db));if(window['MathJax'])MathJax[_0x96c058(0x13d)]([_0x276ab8]);document[_0x96c058(0xa57)](_0x96c058(0x277))[_0x96c058(0x6b0)][_0x96c058(0xb35)]('hidden'),document[_0x96c058(0xa57)](_0x96c058(0x1bd))[_0x96c058(0x6b0)][_0x96c058(0xb35)]('hidden'),document[_0x96c058(0xa57)]('next-drill-btn')['classList'][_0x96c058(0xbb2)](_0x96c058(0x3db));}),document[_0x4714fa(0xa57)]('next-drill-btn')[_0x4714fa(0x3f4)](_0x4714fa(0x1b1),()=>{const _0x272fe6=_0x4714fa;_0x378266++,_0x378266<_0x4bf3c7[_0x272fe6(0x423)]?_0x396ddd():(studentQuizArea[_0x272fe6(0x2b3)]=_0x272fe6(0xb4f),document['getElementById'](_0x272fe6(0xa52))[_0x272fe6(0x3f4)](_0x272fe6(0x1b1),()=>{const _0x1eeb94=_0x272fe6;studentQuizArea[_0x1eeb94(0x6b0)][_0x1eeb94(0xb35)](_0x1eeb94(0x3db)),studentResultArea[_0x1eeb94(0x6b0)]['remove'](_0x1eeb94(0x3db));}));});};_0x396ddd();}async function getHintForQuestion(_0x1c884d){const _0x30760d=_0x3b29b2,_0x2b0be7=_0x30760d(0x4ee)+_0x1c884d+'\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด',_0x30f8b2={'type':_0x30760d(0x31f),'properties':{'hint':{'type':_0x30760d(0xc48)}},'required':[_0x30760d(0x874)]};try{const _0x4f8f70=await callAnalysisApi(_0x2b0be7,_0x30f8b2);return _0x4f8f70['hint'];}catch(_0x28e932){return console[_0x30760d(0xc93)](_0x30760d(0x830),_0x28e932),_0x30760d(0x508);}}async function extractTextFromPdf(_0x1a3a4d){const _0x1a530c=_0x3b29b2;pdfjsLib[_0x1a530c(0xc4a)]['workerSrc']=_0x1a530c(0x3fd);const _0x5da023=await _0x1a3a4d['arrayBuffer'](),_0x5cd30e=await pdfjsLib[_0x1a530c(0x79a)](_0x5da023)[_0x1a530c(0x6c4)],_0x1d85f5=_0x5cd30e[_0x1a530c(0xa09)];let _0x26ab4e='';for(let _0x33268e=0x1;_0x33268e<=_0x1d85f5;_0x33268e++){const _0x50a0e9=await _0x5cd30e[_0x1a530c(0x488)](_0x33268e),_0x42013e=await _0x50a0e9[_0x1a530c(0x199)](),_0x3cdee7=_0x42013e[_0x1a530c(0x71a)][_0x1a530c(0x921)](_0x5375a1=>_0x5375a1[_0x1a530c(0x47f)])['join']('\x20');_0x26ab4e+=_0x3cdee7+'\x0a\x0a';}return _0x26ab4e;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x4adbf5){const _0xde42d9=_0x3b29b2,_0x563d4a=document['getElementById'](_0xde42d9(0x798)),_0x1eadac=document[_0xde42d9(0xa57)](_0xde42d9(0x845)),_0x68a8e=document['getElementById'](_0xde42d9(0x1fb));_0x563d4a[_0xde42d9(0x6b0)][_0xde42d9(0xbb2)](_0xde42d9(0x3db)),_0x1eadac['innerHTML']=_0xde42d9(0xa65),_0x68a8e['classList'][_0xde42d9(0xb35)](_0xde42d9(0x3db));try{const _0x217dcb=_0xde42d9(0x876)+_0x4adbf5+_0xde42d9(0x792),_0x56d590={'type':_0xde42d9(0x31f),'properties':{'gradeLevel':{'type':_0xde42d9(0xc48)},'curriculum':{'type':_0xde42d9(0x880),'items':{'type':_0xde42d9(0x31f),'properties':{'sara':{'type':_0xde42d9(0xc48)},'mainTopics':{'type':_0xde42d9(0x880),'items':{'type':_0xde42d9(0x31f),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0xde42d9(0x880),'items':{'type':'STRING'}}},'required':[_0xde42d9(0x6b7),_0xde42d9(0x7e6)]}}},'required':['sara',_0xde42d9(0x17e)]}}},'required':[_0xde42d9(0xab3),'curriculum']},_0x2400a6=await callAnalysisApi(_0x217dcb,_0x56d590);if(_0x2400a6&&_0x2400a6[_0xde42d9(0x772)])extractedBlueprintData=_0x2400a6,renderBlueprintTopics(_0x2400a6),_0x68a8e['classList']['remove']('hidden');else throw new Error(_0xde42d9(0x210));}catch(_0x802a01){console[_0xde42d9(0xc93)](_0xde42d9(0xc70),_0x802a01),_0x1eadac[_0xde42d9(0x2b3)]=_0xde42d9(0x968);}}function renderBlueprintTopics(_0x124746){const _0x588755=_0x3b29b2,_0x363a5a=document[_0x588755(0xa57)](_0x588755(0x845)),_0x264aa9=_0x124746[_0x588755(0xab3)],_0x57b712=_0x588755(0x481)+_0x264aa9+'</h3>';let _0x278efc='';_0x124746[_0x588755(0x772)][_0x588755(0x9aa)](_0x5e04e9=>{const _0x2ac8c4=_0x588755;_0x278efc+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x5e04e9[_0x2ac8c4(0x9b2)]+'</h4>',_0x5e04e9[_0x2ac8c4(0x17e)]['forEach'](_0x3b06ea=>{const _0x14a979=_0x2ac8c4;_0x278efc+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x3b06ea[_0x14a979(0x6b7)]+_0x14a979(0x65d),_0x3b06ea[_0x14a979(0x7e6)][_0x14a979(0x9aa)](_0xd853e0=>{const _0x21e1e6=_0x14a979;_0x278efc+=_0x21e1e6(0x821)+_0xd853e0[_0x21e1e6(0xb5a)](/'/g,'\x5c\x27')+_0x21e1e6(0x8a1)+_0x264aa9[_0x21e1e6(0xb5a)](/'/g,'\x5c\x27')+_0x21e1e6(0x6a5)+_0xd853e0+_0x21e1e6(0xb64)+_0xd853e0[_0x21e1e6(0xb5a)](/'/g,'\x5c\x27')+_0x21e1e6(0x8b7);}),_0x278efc+=_0x14a979(0x5d6);}),_0x278efc+=_0x2ac8c4(0xaa5);}),_0x363a5a[_0x588755(0x2b3)]=_0x57b712+_0x278efc;}async function handleGenerateTeachingContent(_0x3e84b1){const _0x2f182a=_0x3b29b2,_0x50aace=document[_0x2f182a(0xa57)]('lesson-plan-modal'),_0x10ace1=document['getElementById'](_0x2f182a(0x50e));document[_0x2f182a(0xa57)](_0x2f182a(0x641))[_0x2f182a(0x63d)]=_0x2f182a(0xb49)+_0x3e84b1,_0x10ace1[_0x2f182a(0x2b3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x50aace['classList'][_0x2f182a(0xbb2)](_0x2f182a(0x3db));try{const _0x1b226a=_0x2f182a(0x338)+_0x3e84b1+_0x2f182a(0x33d),_0x40e4c7={'type':'OBJECT','properties':{'keyConcepts':{'type':_0x2f182a(0x880),'items':{'type':_0x2f182a(0xc48)}},'commonMistakes':{'type':_0x2f182a(0x880),'items':{'type':_0x2f182a(0xc48)}},'stepByStepExamples':{'type':_0x2f182a(0x880),'items':{'type':_0x2f182a(0x31f),'properties':{'question':{'type':_0x2f182a(0xc48)},'solution':{'type':_0x2f182a(0xc48)}},'required':[_0x2f182a(0x3ee),_0x2f182a(0x598)]}},'teacherTips':{'type':'ARRAY','items':{'type':_0x2f182a(0xc48)}}},'required':[_0x2f182a(0x1d3),_0x2f182a(0x9e2),'stepByStepExamples',_0x2f182a(0x71d)]},_0x3a6a52=await callAnalysisApi(_0x1b226a,_0x40e4c7);displayTeachingContent(_0x3a6a52,_0x3e84b1);}catch(_0x2c3bdf){console['error'](_0x2f182a(0xcb2),_0x2c3bdf),_0x10ace1[_0x2f182a(0x2b3)]=_0x2f182a(0xbfd)+_0x2c3bdf['message']+_0x2f182a(0x240);}}function displayTeachingContent(_0xf93756,_0xdec286){const _0x20f186=_0x3b29b2,_0x6c98aa=document[_0x20f186(0xa57)](_0x20f186(0x50e));document[_0x20f186(0xa57)](_0x20f186(0x641))[_0x20f186(0x63d)]=_0x20f186(0x667)+_0xdec286;const _0x1988f9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0xf93756[_0x20f186(0x1d3)][_0x20f186(0x921)](_0x3adec5=>_0x20f186(0x4f9)+_0x3adec5+_0x20f186(0x61b))[_0x20f186(0xa0a)]('')+_0x20f186(0x3cc)+_0xf93756[_0x20f186(0x9e2)][_0x20f186(0x921)](_0x56633a=>_0x20f186(0x4f9)+_0x56633a+_0x20f186(0x61b))['join']('')+_0x20f186(0x931)+_0xf93756[_0x20f186(0x861)]['map'](_0x17f3b8=>_0x20f186(0x76e)+_0x17f3b8[_0x20f186(0x3ee)]+_0x20f186(0x3bd)+_0x17f3b8[_0x20f186(0x598)]+_0x20f186(0x516))[_0x20f186(0xa0a)]('')+_0x20f186(0xc15)+_0xf93756[_0x20f186(0x71d)][_0x20f186(0x921)](_0x2f7a56=>_0x20f186(0x4f9)+_0x2f7a56+'</li>')[_0x20f186(0xa0a)]('')+_0x20f186(0x2cb);_0x6c98aa['innerHTML']=_0x1988f9;if(window[_0x20f186(0x49e)])MathJax[_0x20f186(0x13d)]([_0x6c98aa]);}async function generateQuizForSingleTopic(_0x3fcb74){const _0x5f4fe6=_0x3b29b2;console[_0x5f4fe6(0x886)](_0x5f4fe6(0xc00)+_0x3fcb74+'\x22');const _0x26ca71=document[_0x5f4fe6(0xa57)](_0x5f4fe6(0x162)),_0x287cbc=_0x26ca71[_0x5f4fe6(0x84e)]['length']>0x0?_0x26ca71[_0x5f4fe6(0x84e)][0x0]:null;let _0x2db46b=null;if(_0x287cbc)try{const _0x3ec200=new FileReader();_0x3ec200[_0x5f4fe6(0x807)](_0x287cbc);const _0x4541d6=await new Promise((_0x4cd52f,_0x2a711a)=>{const _0x1be018=_0x5f4fe6;_0x3ec200[_0x1be018(0x569)]=()=>_0x4cd52f(_0x3ec200[_0x1be018(0x4ce)]['split'](',')[0x1]),_0x3ec200[_0x1be018(0xc52)]=_0x49b1b8=>_0x2a711a(_0x49b1b8);});_0x2db46b=[{'inlineData':{'mimeType':_0x287cbc['type'],'data':_0x4541d6}}];}catch(_0x2d399a){console[_0x5f4fe6(0xc93)]('Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:',_0x2d399a),showMessage(_0x5f4fe6(0xaa7));return;}generateQuiz(_0x3fcb74,null,null,_0x2db46b,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x51e361=null){const _0x501963=_0x3b29b2,_0x18d2b4=document['getElementById'](_0x501963(0x438)),_0x4f9149=document[_0x501963(0xa57)](_0x501963(0xb6d));let _0x5186b2;if(_0x51e361)_0x5186b2=_0x51e361;else{const _0x3bb285=document[_0x501963(0xa57)](_0x501963(0x1ec)),_0x1a8a0a=_0x3bb285[_0x501963(0x84e)][0x0];if(!_0x1a8a0a){showMessage(_0x501963(0xa02));return;}_0x4f9149[_0x501963(0x63d)]=_0x501963(0x5af);const _0x41bcee=await new Promise((_0x20eb8c,_0x3fd4fa)=>{const _0x110e14=_0x501963,_0x2db443=new FileReader();_0x2db443[_0x110e14(0x807)](_0x1a8a0a),_0x2db443[_0x110e14(0x569)]=()=>_0x20eb8c(_0x2db443['result']['split'](',')[0x1]),_0x2db443[_0x110e14(0xc52)]=_0x3fd4fa;});_0x5186b2=[{'text':'PROMPT_PLACEHOLDER'},{'inlineData':{'mimeType':_0x1a8a0a['type'],'data':_0x41bcee}}];}const _0x212178='\x0a\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งสำคัญ:**\x20สำหรับคำถามแต่ละข้อที่สร้างขึ้น\x20จงใช้ความคิดสร้างสรรค์เพื่อให้โจทย์มีความหลากหลาย\x20ไม่ซ้ำซากจำเจ\x20หลีกเลี่ยงการใช้โครงสร้างประโยคหรือรูปแบบปัญหาเดิมๆ\x20แค่เปลี่ยนตัวเลข\x0a\x20\x20\x20\x20',_0x3c06b6='**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET',_0x48e366=_0x501963(0xb3c),_0x2e5da8={'type':_0x501963(0x31f),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x501963(0xc48),'enum':[_0x501963(0xbbc),_0x501963(0x639),_0x501963(0x421),_0x501963(0x8bb)]},'options':{'type':_0x501963(0x880),'items':{'type':_0x501963(0xc48)}},'correctAnswerIndex':{'type':_0x501963(0xbe5)},'idealAnswer':{'type':_0x501963(0xc48)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x501963(0xc48)},'imageCode':{'type':_0x501963(0xc48)}},'required':[_0x501963(0x704),_0x501963(0x8dc)]},_0x22a41a={'type':_0x501963(0x31f),'properties':{'topic':{'type':_0x501963(0xc48)},'questions':{'type':'ARRAY','items':_0x2e5da8}},'required':[_0x501963(0x13e),'questions']};_0x5186b2[0x0][_0x501963(0x89a)]=_0x48e366,await handleApiCall(_0x5186b2,'AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...',_0x22a41a);}function proceedToNextQuestion(_0x54ba7b){const _0x3694dd=_0x3b29b2;studentAnswersPerQuestion[_0x3694dd(0x4aa)](_0x54ba7b),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x3694dd(0x288)][_0x3694dd(0x423)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x484273,_0x1ea9ac){const _0x1e9bcb=_0x3b29b2,_0x58e246=Object[_0x1e9bcb(0x4bb)](_0x484273[_0x1e9bcb(0x7d2)]||{}),_0x5c5f92=_0x58e246[_0x1e9bcb(0x423)],_0x3e47fe=[..._0x58e246][_0x1e9bcb(0x445)]((_0x5d7afb,_0xe48cae)=>_0xe48cae[_0x1e9bcb(0x5c3)]-_0x5d7afb[_0x1e9bcb(0x5c3)]),_0x216f6f=_0x484273['currentQuestionIndex'];let _0x52b4b6='';const _0x2962b4=_0x484273[_0x1e9bcb(0xc2b)][_0x1e9bcb(0x288)],_0xf0101d=_0x2962b4[_0x216f6f],_0x5a031c=_0x21fea6=>String[_0x1e9bcb(0x1bc)](0x41+_0x21fea6);let _0x30d174='',_0x47af60='';if(_0xf0101d){const _0x1e573c=_0xf0101d[_0x1e9bcb(0x704)]||_0x484273[_0x1e9bcb(0xc2b)]['quizType'];if(_0x1e573c===_0x1e9bcb(0xbbc)&&_0xf0101d['options']&&_0xf0101d[_0x1e9bcb(0x6c9)]!==undefined){const _0x12b9ce=_0xf0101d[_0x1e9bcb(0x6c9)];_0x30d174=_0xf0101d[_0x1e9bcb(0x5a9)][_0x12b9ce],_0x47af60=_0x5a031c(_0x12b9ce)+'.';}else{if(_0x1e573c===_0x1e9bcb(0x421)){const _0x28f7c3=_0xf0101d[_0x1e9bcb(0x72d)]===!![]||String(_0xf0101d[_0x1e9bcb(0x72d)])[_0x1e9bcb(0x80a)]()===_0x1e9bcb(0x198);_0x28f7c3?(_0x30d174=_0x1e9bcb(0x449),_0x47af60='ก.'):(_0x30d174=_0x1e9bcb(0x84c),_0x47af60='ข.');}else{if(_0x1e573c===_0x1e9bcb(0x8bb))_0x30d174=_0xf0101d[_0x1e9bcb(0x4a4)]||'-',_0x47af60='';else _0x1e573c===_0x1e9bcb(0x639)&&(_0x30d174=_0xf0101d['idealAnswer']||'-',_0x47af60='');}}}_0x30d174&&(_0x52b4b6=_0x1e9bcb(0x568)+(_0x216f6f+0x1)+_0x1e9bcb(0x1f8)+_0x47af60+'\x20'+_0x30d174+_0x1e9bcb(0x373));const _0x1969ff=_0x3e47fe['map'](_0x4dc55b=>{const _0x4dfa75=_0x1e9bcb;let _0x40d2e0=![];if(_0x4dc55b['answers']&&_0x216f6f!==-0x1){const _0x4e77a8=_0x4dc55b[_0x4dfa75(0x854)]['find'](_0x1bfc04=>_0x1bfc04[_0x4dfa75(0xab9)]===_0x216f6f);_0x4e77a8&&_0x4e77a8['isCorrect']&&(_0x40d2e0=!![]);}const _0x2ed9a4=_0x40d2e0?_0x4dfa75(0xcad):'bg-black/20';return _0x4dfa75(0x20f)+_0x2ed9a4+'\x22><span>'+_0x4dc55b['name']+_0x4dfa75(0x6e0)+_0x4dc55b[_0x4dfa75(0x5c3)]+_0x4dfa75(0x8f7);})[_0x1e9bcb(0xa0a)](''),_0x3b5d72=_0x2962b4['map']((_0x14f4d7,_0x5b2741)=>{const _0x550a95=_0x1e9bcb,_0x53f2e5=_0x58e246[_0x550a95(0x36d)](_0x163ecd=>_0x163ecd[_0x550a95(0x854)]&&_0x163ecd['answers']['find'](_0x139693=>_0x139693[_0x550a95(0xab9)]===_0x5b2741&&_0x139693[_0x550a95(0x3e2)]))[_0x550a95(0x423)],_0x568027=_0x5b2741===_0x216f6f,_0x55a18f=_0x568027?_0x550a95(0xbac):'p-2\x20bg-black/10\x20rounded-md';return _0x550a95(0xb47)+_0x55a18f+_0x550a95(0x72f)+(_0x5b2741+0x1)+_0x550a95(0xb98)+_0x53f2e5+_0x550a95(0x3a8)+_0x5c5f92+_0x550a95(0x3f6);})[_0x1e9bcb(0xa0a)]('');let _0x2d3b24='',_0x28932b='';if(_0x1ea9ac){const _0x47e7fb=_0x484273[_0x1e9bcb(0x60a)]>=_0x2962b4['length']-0x1;_0x2d3b24=_0x1e9bcb(0x4e7)+(_0x47e7fb?_0x1e9bcb(0xacf):_0x1e9bcb(0x4d0))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>',_0x28932b='<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>';}const _0x175d8e=_0x1e9bcb(0x125)+_0x484273[_0x1e9bcb(0xc2b)][_0x1e9bcb(0x13e)]+_0x1e9bcb(0x32a)+_0x28932b+_0x1e9bcb(0x208)+_0x52b4b6+_0x1e9bcb(0x670)+(_0x1969ff||_0x1e9bcb(0xa0f))+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0x3b5d72+_0x1e9bcb(0x1ab)+(_0x1ea9ac?'<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>'+_0x2d3b24+'</div>':'')+_0x1e9bcb(0xb42);liveGameView['innerHTML']=_0x175d8e;if(window[_0x1e9bcb(0x49e)]){const _0x30f1dd=document['getElementById'](_0x1e9bcb(0x715));_0x30f1dd&&MathJax[_0x1e9bcb(0x13d)]([_0x30f1dd]);}if(_0x1ea9ac){document[_0x1e9bcb(0xa57)](_0x1e9bcb(0x693))[_0x1e9bcb(0xbed)]=async()=>{const _0x4c842f=_0x1e9bcb,_0x573a9e=doc(db,_0x4c842f(0xb79)+appId+_0x4c842f(0x5a4),currentLiveGameId),_0x758a6a=_0x484273[_0x4c842f(0x60a)]+0x1;if(_0x758a6a<_0x2962b4[_0x4c842f(0x423)]){const _0x46d210={};Object[_0x4c842f(0x71e)](_0x484273[_0x4c842f(0x7d2)])[_0x4c842f(0x9aa)](_0x327efc=>{const _0x1c7c86=_0x4c842f;_0x46d210[_0x1c7c86(0x7f7)+_0x327efc+'.answered']=![],_0x46d210[_0x1c7c86(0x7f7)+_0x327efc+_0x1c7c86(0x66b)]=null;}),await updateDoc(_0x573a9e,{..._0x46d210,'status':_0x4c842f(0x3ee),'currentQuestionIndex':_0x758a6a,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x573a9e,{'status':_0x4c842f(0x56f)});};const _0x52c8e5=document[_0x1e9bcb(0xa57)](_0x1e9bcb(0xba9));_0x52c8e5&&(_0x52c8e5['onclick']=()=>{const _0x3e40a0=_0x1e9bcb;showConfirmation(_0x3e40a0(0x608),async()=>{const _0xae446f=_0x3e40a0,_0x43fd84=doc(db,_0xae446f(0xb79)+appId+_0xae446f(0x5a4),currentLiveGameId);await updateDoc(_0x43fd84,{'status':_0xae446f(0x56f)});});});}}async function handleGenerateParallelFromBank(_0x4a395c){const _0x34b76a=_0x3b29b2,_0x3f2271=document['getElementById']('results-tab-content'),_0x2b5ddc=document[_0x34b76a(0xa57)]('project-quizzes-list');_0x2b5ddc[_0x34b76a(0x6b0)]['add'](_0x34b76a(0x3db));const _0x40cf13='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x4a395c[_0x34b76a(0x13e)]+_0x34b76a(0x3e0);_0x3f2271[_0x34b76a(0x306)](_0x34b76a(0x5d9),_0x40cf13);const _0x51cb56=document['getElementById'](_0x34b76a(0xb44));try{const _0x41efd9=_0x4a395c[_0x34b76a(0x288)][_0x34b76a(0x921)]((_0x48b78a,_0x1dd639)=>{const _0x30ab9c=_0x34b76a;let _0x4c5e09=_0x1dd639+0x1+'.\x20'+(_0x48b78a[_0x30ab9c(0xc1c)]||_0x48b78a[_0x30ab9c(0xc65)])+'\x0a';if(_0x48b78a[_0x30ab9c(0x5a9)])_0x4c5e09+=_0x48b78a[_0x30ab9c(0x5a9)][_0x30ab9c(0x921)]((_0x3f87dd,_0x28abe1)=>_0x30ab9c(0x8a7)+(_0x28abe1===_0x48b78a[_0x30ab9c(0x6c9)]?'[*]':'')+'\x20'+_0x3f87dd)[_0x30ab9c(0xa0a)]('\x0a');else _0x48b78a[_0x30ab9c(0x5c5)]&&(_0x4c5e09+=_0x30ab9c(0xa7d)+_0x48b78a[_0x30ab9c(0x5c5)]);return _0x4c5e09;})[_0x34b76a(0xa0a)]('\x0a\x0a');_0x51cb56[_0x34b76a(0x63d)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x14ee8d=_0x34b76a(0x8b0)+_0x4a395c[_0x34b76a(0x13e)]+_0x34b76a(0xb84)+_0x41efd9+_0x34b76a(0xb59)+simpleMathPrompt+_0x34b76a(0x907),_0x1f3707={'type':_0x34b76a(0x31f),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x34b76a(0xc48),'enum':[_0x34b76a(0xbbc),'short_answer',_0x34b76a(0x421),'matching_item']},'options':{'type':'ARRAY','items':{'type':_0x34b76a(0xc48)}},'correctAnswerIndex':{'type':_0x34b76a(0xbe5)},'idealAnswer':{'type':_0x34b76a(0xc48)},'correctAnswer':{'type':_0x34b76a(0x619)},'stem':{'type':_0x34b76a(0xc48)},'correctResponse':{'type':_0x34b76a(0xc48)},'allResponses':{'type':_0x34b76a(0x880),'items':{'type':_0x34b76a(0xc48)}},'explanation':{'type':_0x34b76a(0xc48)},'imageCode':{'type':'STRING'}},'required':[_0x34b76a(0x704),_0x34b76a(0x8dc)]},_0x39d273={'type':_0x34b76a(0x31f),'properties':{'topic':{'type':_0x34b76a(0xc48)},'questions':{'type':_0x34b76a(0x880),'items':_0x1f3707}},'required':[_0x34b76a(0x13e),_0x34b76a(0x288)]},_0x3bd72d=await callAnalysisApi(_0x14ee8d,_0x39d273),_0x3f0c53=_0x3bd72d[_0x34b76a(0x288)]['map']((_0x1e9e37,_0x5d2207)=>({..._0x1e9e37,'id':'q_'+Date[_0x34b76a(0x8d7)]()+'_'+_0x5d2207})),_0x42cc04='(คู่ขนาน)\x20'+_0x4a395c['topic'],_0x5e3cf5={'topic':_0x42cc04,'questions':_0x3f0c53,'quizType':_0x4a395c[_0x34b76a(0x573)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x34b76a(0x37e),'settings':_0x4a395c[_0x34b76a(0x813)],'quizMode':'standard','pairedQuizId':null,'lessonPlan':null};let _0x2fee51;while(!![]){_0x2fee51=Math[_0x34b76a(0xb26)](0x3e8+Math[_0x34b76a(0x95a)]()*0x2328)['toString']();const _0x1da610=await getDoc(doc(db,_0x34b76a(0xb79)+appId+_0x34b76a(0x53a),_0x2fee51));if(!_0x1da610[_0x34b76a(0xb65)]())break;}await setDoc(doc(db,_0x34b76a(0xb79)+appId+_0x34b76a(0x53a),_0x2fee51),_0x5e3cf5),showMessage('สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!');}catch(_0x47582b){console[_0x34b76a(0xc93)](_0x34b76a(0xc69),_0x47582b),showMessage(_0x34b76a(0x1fd)+_0x47582b[_0x34b76a(0x8df)]);}finally{const _0x4fd79b=document[_0x34b76a(0xa57)](_0x34b76a(0x293));_0x4fd79b&&_0x4fd79b[_0x34b76a(0xbb2)](),_0x2b5ddc[_0x34b76a(0x6b0)][_0x34b76a(0xbb2)](_0x34b76a(0x3db));}}async function handleGenerateParallelPostTest(_0x55204b){const _0x9ee33e=_0x3b29b2,_0x200427=document['getElementById'](_0x9ee33e(0x913)),_0x1ff773=document[_0x9ee33e(0xa57)]('project-quizzes-list');_0x1ff773[_0x9ee33e(0x6b0)]['add']('hidden');const _0x47b3c2=_0x9ee33e(0x95d);_0x200427[_0x9ee33e(0x306)](_0x9ee33e(0x5d9),_0x47b3c2);try{const _0x5c0d1c=_0x55204b[_0x9ee33e(0x288)][_0x9ee33e(0x921)]((_0x4bd04f,_0x431623)=>{const _0x5c6ec2=_0x9ee33e;let _0x2623ea=_0x431623+0x1+'.\x20'+(_0x4bd04f[_0x5c6ec2(0xc1c)]||_0x4bd04f['stem']);if(_0x4bd04f[_0x5c6ec2(0x5a9)])_0x2623ea+='\x0a\x20\x20\x20-\x20ตัวเลือก:\x20'+_0x4bd04f[_0x5c6ec2(0x5a9)][_0x5c6ec2(0xa0a)](',\x20');return _0x2623ea;})[_0x9ee33e(0xa0a)]('\x0a\x0a'),_0x2db6cb=_0x9ee33e(0x9a9)+_0x55204b[_0x9ee33e(0x13e)]+_0x9ee33e(0xaaf)+_0x5c0d1c+_0x9ee33e(0x86d)+simpleMathPrompt+_0x9ee33e(0x907),_0x11aa0a={'type':_0x9ee33e(0x31f),'properties':{'topic':{'type':_0x9ee33e(0xc48)},'questions':{'type':_0x9ee33e(0x880),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0x9ee33e(0xc48)},'questionType':{'type':_0x9ee33e(0xc48)},'options':{'type':_0x9ee33e(0x880),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x9ee33e(0xbe5)},'idealAnswer':{'type':_0x9ee33e(0xc48)},'explanation':{'type':_0x9ee33e(0xc48)}},'required':[_0x9ee33e(0xc1c),_0x9ee33e(0x8dc)]}}},'required':[_0x9ee33e(0x13e),'questions']},_0x5b4f31=await callAnalysisApi(_0x2db6cb,_0x11aa0a),_0x12e6f8=_0x55204b[_0x9ee33e(0x13e)][_0x9ee33e(0xb5a)](_0x9ee33e(0x12d),'')['trim'](),_0x4a2fbb='(หลังเรียน)\x20'+_0x12e6f8,_0x472bb9={..._0x5b4f31,'topic':_0x4a2fbb,'quizType':_0x55204b[_0x9ee33e(0x573)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x9ee33e(0x975)](),'status':_0x9ee33e(0x37e),'settings':_0x55204b[_0x9ee33e(0x813)],'quizMode':'post-test','pairedQuizId':_0x55204b['id']};let _0x140b37;while(!![]){_0x140b37=Math[_0x9ee33e(0xb26)](0x3e8+Math[_0x9ee33e(0x95a)]()*0x2328)[_0x9ee33e(0xa5a)]();const _0x1f2809=await getDoc(doc(db,_0x9ee33e(0xb79)+appId+_0x9ee33e(0x53a),_0x140b37));if(!_0x1f2809['exists']())break;}await setDoc(doc(db,_0x9ee33e(0xb79)+appId+'/public/data/quizzes',_0x140b37),_0x472bb9);const _0xe85050=doc(db,_0x9ee33e(0xb79)+appId+_0x9ee33e(0x53a),_0x55204b['id']);await updateDoc(_0xe85050,{'pairedQuizId':_0x140b37}),showMessage(_0x9ee33e(0x70d));}catch(_0x62a7f1){console[_0x9ee33e(0xc93)]('Error\x20generating\x20parallel\x20post-test:',_0x62a7f1),showMessage(_0x9ee33e(0x1fd)+_0x62a7f1[_0x9ee33e(0x8df)]);}finally{const _0x2b8d2a=document[_0x9ee33e(0xa57)](_0x9ee33e(0x293));if(_0x2b8d2a)_0x2b8d2a[_0x9ee33e(0xbb2)]();_0x1ff773[_0x9ee33e(0x6b0)][_0x9ee33e(0xbb2)]('hidden');}}async function handleGenerateParallelTest(_0x32a29f=null){const _0x2d4f72=_0x3b29b2;let _0x22e214=_0x32a29f;if(!_0x22e214){const _0x5f45f4=document['getElementById'](_0x2d4f72(0x5df));_0x5f45f4[_0x2d4f72(0x84e)][_0x2d4f72(0x423)]>0x0&&(_0x22e214=_0x5f45f4[_0x2d4f72(0x84e)][0x0]);}if(!_0x22e214){showMessage(_0x2d4f72(0x461));return;}const _0x11e0a1=document[_0x2d4f72(0xa57)](_0x2d4f72(0x438)),_0x8ace02=document[_0x2d4f72(0xa57)]('loader-text'),_0x4f4057=document['getElementById'](_0x2d4f72(0xca2)),_0x49a08e=document[_0x2d4f72(0xa57)](_0x2d4f72(0x493));_0x49a08e[_0x2d4f72(0x267)]=!![],document[_0x2d4f72(0xa57)](_0x2d4f72(0x5f0))[_0x2d4f72(0x6b0)][_0x2d4f72(0xbb2)](_0x2d4f72(0x3db)),_0x4f4057['innerHTML']='',_0x11e0a1[_0x2d4f72(0x6b0)]['remove'](_0x2d4f72(0x3db)),_0x8ace02[_0x2d4f72(0x63d)]=_0x2d4f72(0x4a5);const _0x3d7399=new FileReader();_0x3d7399[_0x2d4f72(0x807)](_0x22e214),_0x3d7399[_0x2d4f72(0x569)]=async()=>{const _0x3633a1=_0x2d4f72;try{const _0x10287d=_0x3d7399[_0x3633a1(0x4ce)][_0x3633a1(0x853)](',')[0x1],_0x5dc49c=_0x22e214[_0x3633a1(0xc04)];_0x8ace02[_0x3633a1(0x63d)]=_0x3633a1(0x255);const _0x4f6176=document[_0x3633a1(0xa57)](_0x3633a1(0xa5e))[_0x3633a1(0x354)],_0x78ce7a=_0x4f6176?_0x3633a1(0xa50):'',_0x23870d=_0x3633a1(0x4a0),_0x548846={'type':_0x3633a1(0x31f),'properties':{'questionText':{'type':_0x3633a1(0xc48)},'questionType':{'type':'STRING','enum':['multiple_choice',_0x3633a1(0x639)]},'options':{'type':_0x3633a1(0x880),'items':{'type':_0x3633a1(0xc48)}},'correctAnswerIndex':{'type':_0x3633a1(0xbe5)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x3633a1(0xc48)}},'required':['questionText','questionType',_0x3633a1(0x8dc)]},_0xfcb18={'type':_0x3633a1(0x31f),'properties':{'topic':{'type':_0x3633a1(0xc48)},'questions':{'type':_0x3633a1(0x880),'items':_0x548846}},'required':['topic','questions']},_0x10af05=[{'text':_0x23870d},{'inlineData':{'mimeType':_0x5dc49c,'data':_0x10287d}}];await handleApiCall(_0x10af05,_0x3633a1(0x81a),_0xfcb18);}catch(_0x17ef26){console[_0x3633a1(0xc93)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x17ef26),showMessage(_0x3633a1(0x1fd)+_0x17ef26[_0x3633a1(0x8df)]),_0x4f4057['innerHTML']=_0x3633a1(0x8f4);}finally{_0x11e0a1[_0x3633a1(0x6b0)]['add'](_0x3633a1(0x3db)),_0x49a08e[_0x3633a1(0x267)]=![];}},_0x3d7399[_0x2d4f72(0xc52)]=_0x16c2c9=>{const _0x3e0aa2=_0x2d4f72;console['error'](_0x3e0aa2(0x3d1),_0x16c2c9),showMessage(_0x3e0aa2(0x602)),_0x11e0a1[_0x3e0aa2(0x6b0)][_0x3e0aa2(0xb35)](_0x3e0aa2(0x3db)),_0x49a08e[_0x3e0aa2(0x267)]=![];};}async function handleRegenerateQuestionInEditor(_0xc1b0e1){const _0x5e2548=_0x3b29b2;if(currentEditingQuizData===null)return;const _0x3ddee2=document['querySelector']('.question-editor-item[data-q-index=\x22'+_0xc1b0e1+'\x22]');_0x3ddee2&&(_0x3ddee2[_0x5e2548(0x2b3)]=_0x5e2548(0x2ca));const _0x259474=currentEditingQuizData[_0x5e2548(0x288)][_0xc1b0e1],_0x4ae9a8=currentEditingQuizData[_0x5e2548(0x13e)],_0x2f5bee=_0x259474[_0x5e2548(0x704)],_0x25a62a={'type':_0x5e2548(0x31f),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x5e2548(0xc48)}},'correctAnswerIndex':{'type':_0x5e2548(0xbe5)},'explanation':{'type':_0x5e2548(0xc48)}},'required':[_0x5e2548(0xc1c),_0x5e2548(0x5a9),'correctAnswerIndex','explanation']},_0x58e9af={'type':_0x5e2548(0x31f),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x5e2548(0xc48)}},'required':[_0x5e2548(0xc1c),_0x5e2548(0x5c5),_0x5e2548(0x8dc)]};let _0x39e48b,_0x1bf69a='';_0x2f5bee===_0x5e2548(0xbbc)?(_0x39e48b=_0x25a62a,_0x1bf69a=_0x5e2548(0xa64)):(_0x39e48b=_0x58e9af,_0x1bf69a=_0x5e2548(0x78e));const _0xf87258=_0x5e2548(0x991)+_0x4ae9a8+_0x5e2548(0x708)+_0x1bf69a+_0x5e2548(0x3d9)+(_0x259474[_0x5e2548(0xc1c)]||_0x259474['stem'])+_0x5e2548(0x4a6)+simpleMathPrompt;try{const _0x357da6=await callAnalysisApi(_0xf87258,_0x39e48b);currentEditingQuizData[_0x5e2548(0x288)][_0xc1b0e1]={..._0x259474,..._0x357da6},renderQuizEditor(currentEditingQuizData);}catch(_0x1d4d70){console[_0x5e2548(0xc93)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x1d4d70),showMessage(_0x5e2548(0x224)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0xd523ef=_0x3b29b2,_0x4a4621=document[_0xd523ef(0xa57)](_0xd523ef(0x1ac));currentMode===_0xd523ef(0x3a6)?(currentMode='admin',_0x4a4621[_0xd523ef(0x2b3)]=_0xd523ef(0x1e3),_0x4a4621[_0xd523ef(0xa1c)]='สลับไปโหมดนักเรียน',showView(_0xd523ef(0x538))):(currentMode='student',_0x4a4621['innerHTML']=_0xd523ef(0x2c9),_0x4a4621[_0xd523ef(0xa1c)]=_0xd523ef(0x315),showView('student'));}function handleAdminLogin(){const _0x2f945e=_0x3b29b2,_0x4a9241=document[_0x2f945e(0xa57)](_0x2f945e(0xbff)),_0x1da5b0=document[_0x2f945e(0xa57)]('password-error-msg');if(_0x4a9241['value']===_0x2f945e(0xb00)){adminPasswordModal[_0x2f945e(0x6b0)][_0x2f945e(0xb35)](_0x2f945e(0x3db)),_0x4a9241['value']='',_0x1da5b0[_0x2f945e(0x6b0)][_0x2f945e(0xb35)](_0x2f945e(0x3db)),currentMode=_0x2f945e(0xa9b);const _0x529bf7=document['getElementById'](_0x2f945e(0x1ac));_0x529bf7[_0x2f945e(0x2b3)]=_0x2f945e(0x1e3),_0x529bf7['title']=_0x2f945e(0x311),showView(_0x2f945e(0x538));}else _0x1da5b0[_0x2f945e(0x6b0)]['remove'](_0x2f945e(0x3db)),_0x4a9241['value']='';}function switchProjectTab(_0x574e5a){const _0x4de9e4=_0x3b29b2;[_0x4de9e4(0xc9e),'results',_0x4de9e4(0x5dc)][_0x4de9e4(0x9aa)](_0x1a6245=>{const _0x7314e5=_0x4de9e4;document['getElementById'](_0x1a6245+_0x7314e5(0x77f))['classList'][_0x7314e5(0xbb2)](_0x7314e5(0x37e)),document[_0x7314e5(0xa57)](_0x1a6245+_0x7314e5(0xc4c))[_0x7314e5(0x6b0)][_0x7314e5(0xb35)](_0x7314e5(0x3db));}),document[_0x4de9e4(0xa57)](_0x574e5a+'-tab')[_0x4de9e4(0x6b0)][_0x4de9e4(0xb35)](_0x4de9e4(0x37e)),document[_0x4de9e4(0xa57)](_0x574e5a+_0x4de9e4(0xc4c))['classList'][_0x4de9e4(0xbb2)](_0x4de9e4(0x3db));}function switchQuizDetailTab(_0x105138){const _0x26979f=_0x3b29b2,_0x5c0657={'analytics':{'btn':'analytics-tab-btn','content':_0x26979f(0x180)},'scores':{'btn':_0x26979f(0x188),'content':'scores-tab-content'},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':_0x26979f(0x2bf)},'behavior-log':{'btn':_0x26979f(0xafc),'content':_0x26979f(0x90e)}};for(const _0x415738 in _0x5c0657){document[_0x26979f(0xa57)](_0x5c0657[_0x415738]['btn'])[_0x26979f(0x6b0)][_0x26979f(0xbb2)](_0x26979f(0x37e)),document[_0x26979f(0xa57)](_0x5c0657[_0x415738][_0x26979f(0x610)])[_0x26979f(0x6b0)][_0x26979f(0xb35)](_0x26979f(0x3db));}document[_0x26979f(0xa57)](_0x5c0657[_0x105138][_0x26979f(0x999)])[_0x26979f(0x6b0)][_0x26979f(0xb35)]('active'),document[_0x26979f(0xa57)](_0x5c0657[_0x105138][_0x26979f(0x610)])[_0x26979f(0x6b0)][_0x26979f(0xbb2)](_0x26979f(0x3db));}function showMessage(_0x144f12,_0x4733b2=null){const _0x516236=_0x3b29b2;modalMessage[_0x516236(0x63d)]=_0x144f12,modalConfirmAction=_0x4733b2,messageModal[_0x516236(0x6b0)][_0x516236(0xbb2)](_0x516236(0x3db));}function showConfirmation(_0x2a7af6,_0xb78bd0){const _0x1ecc72=_0x3b29b2;document[_0x1ecc72(0xa57)]('confirmation-message')[_0x1ecc72(0x63d)]=_0x2a7af6,document[_0x1ecc72(0xa57)](_0x1ecc72(0x41a))[_0x1ecc72(0x1c1)]('h3')['textContent']=_0x1ecc72(0x808),confirmAction=_0xb78bd0,confirmationModal[_0x1ecc72(0x6b0)][_0x1ecc72(0xbb2)](_0x1ecc72(0x3db));}function listenForProjects(){const _0x408454=_0x3b29b2,_0x39da0f=doc(db,_0x408454(0x522),_0x408454(0x29a));onSnapshot(_0x39da0f,_0x552faf=>{const _0x41ee4c=_0x408454;if(_0x552faf['exists']()){const _0x37e474=_0x552faf[_0x41ee4c(0x7a6)]();globalDashboardSettings[_0x41ee4c(0x3eb)]=_0x37e474['projectSort']||_0x41ee4c(0x734),globalDashboardSettings['pinnedProjects']=_0x37e474[_0x41ee4c(0x8b3)]||[],globalDashboardSettings[_0x41ee4c(0x97b)]=_0x37e474[_0x41ee4c(0x97b)]||[];}allProjects[_0x41ee4c(0x423)]>0x0&&renderProjects();});const _0x1df883=collection(db,_0x408454(0xb79)+appId+_0x408454(0x304));unsubscribeProjectsListener=onSnapshot(_0x1df883,_0x285eea=>{const _0x30b5b1=_0x408454;allProjects=_0x285eea['docs'][_0x30b5b1(0x921)](_0x2675c4=>({'id':_0x2675c4['id'],..._0x2675c4[_0x30b5b1(0x7a6)]()})),renderProjects();},_0x844f95=>{const _0x1a1d0b=_0x408454;console[_0x1a1d0b(0xc93)](_0x1a1d0b(0x8e7),_0x844f95),showMessage(_0x1a1d0b(0x1f5));});}function showColorPalette(_0x3d4f58,_0x41e21e){const _0x42052f=_0x3b29b2;document['querySelectorAll'](_0x42052f(0xaf5))[_0x42052f(0x9aa)](_0x1d9b64=>_0x1d9b64[_0x42052f(0xbb2)]());const _0x3fc25d=[_0x42052f(0x8f6),_0x42052f(0x23a),_0x42052f(0x789),_0x42052f(0xb8b),_0x42052f(0x75f),_0x42052f(0x65b),_0x42052f(0xbcf),'#FCE7F3',_0x42052f(0x733)],_0x33fae0=document[_0x42052f(0x930)]('div');_0x33fae0[_0x42052f(0x8d5)]=_0x42052f(0xc06),_0x3fc25d[_0x42052f(0x9aa)](_0x3c9f15=>{const _0x4d90ff=_0x42052f,_0x55d415=document[_0x4d90ff(0x930)](_0x4d90ff(0x3f9));_0x55d415[_0x4d90ff(0x8d5)]=_0x4d90ff(0x6df),_0x55d415['style']['backgroundColor']=_0x3c9f15,_0x55d415[_0x4d90ff(0x3f4)](_0x4d90ff(0x1b1),()=>{const _0x27f714=_0x4d90ff;handleProjectColorChange(_0x41e21e,_0x3c9f15),_0x33fae0[_0x27f714(0xbb2)]();}),_0x33fae0['appendChild'](_0x55d415);}),document[_0x42052f(0x6ea)][_0x42052f(0x95e)](_0x33fae0);const _0x24d056=_0x3d4f58[_0x42052f(0x41e)]();_0x33fae0['style'][_0x42052f(0x29b)]=_0x24d056[_0x42052f(0x690)]+window['scrollY']+'px',_0x33fae0[_0x42052f(0xb97)][_0x42052f(0x45d)]=_0x24d056['left']+window[_0x42052f(0x1a5)]-_0x33fae0['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x22b890,_0x4275b5){const _0x5124e0=_0x3b29b2,_0x437e6d=doc(db,_0x5124e0(0xb79)+appId+'/public/data/projects',_0x22b890);try{await updateDoc(_0x437e6d,{'color':_0x4275b5});}catch(_0x1fb04d){console[_0x5124e0(0xc93)](_0x5124e0(0x561),_0x1fb04d),showMessage(_0x5124e0(0x805));}}async function renderProjects(){const _0x57100a=_0x3b29b2,_0x1856f0=globalDashboardSettings[_0x57100a(0x3eb)]||_0x57100a(0x734),_0xa6fb51=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x94a552=globalDashboardSettings[_0x57100a(0x94a)]||_0x57100a(0x936),_0x1572d6=document['getElementById'](_0x57100a(0x911)),_0x307c3e=document[_0x57100a(0xa57)](_0x57100a(0x701));_0x1572d6[_0x57100a(0x6b0)][_0x57100a(0xc0e)]('active',_0x94a552===_0x57100a(0x936)),_0x307c3e[_0x57100a(0x6b0)]['toggle']('active',_0x94a552===_0x57100a(0x4f2)),document['getElementById'](_0x57100a(0xb29))[_0x57100a(0x6d4)]=_0x1856f0;const _0x1573bf=document['getElementById'](_0x57100a(0x68a))[_0x57100a(0x6d4)][_0x57100a(0x80a)]();let _0x360539=allProjects['filter'](_0x291735=>_0x291735[_0x57100a(0x234)]['toLowerCase']()[_0x57100a(0x4c8)](_0x1573bf));const _0x553ee2=_0x360539[_0x57100a(0x36d)](_0x3489ee=>_0xa6fb51[_0x57100a(0xc2c)](_0x3489ee['id'])),_0x4f24d6=_0x360539[_0x57100a(0x36d)](_0xc0eafd=>!_0xa6fb51['has'](_0xc0eafd['id'])),_0x137730=(_0xec83fc,_0x24b5c0)=>{const _0x3ffc97=_0x57100a;switch(_0x1856f0){case _0x3ffc97(0x9a6):return _0xec83fc['projectName']['localeCompare'](_0x24b5c0[_0x3ffc97(0x234)],'th');case _0x3ffc97(0x609):return _0x24b5c0[_0x3ffc97(0x234)][_0x3ffc97(0x843)](_0xec83fc[_0x3ffc97(0x234)],'th');case _0x3ffc97(0xc2a):return new Date(_0xec83fc[_0x3ffc97(0x88c)])-new Date(_0x24b5c0[_0x3ffc97(0x88c)]);default:return new Date(_0x24b5c0['createdAt'])-new Date(_0xec83fc[_0x3ffc97(0x88c)]);}};_0x553ee2[_0x57100a(0x445)](_0x137730),_0x4f24d6[_0x57100a(0x445)](_0x137730);const _0x1c5b11=[..._0x553ee2,..._0x4f24d6],_0x263fce=globalDashboardSettings[_0x57100a(0x97b)]||[];_0x263fce[_0x57100a(0x423)]>0x0&&_0x94a552===_0x57100a(0x936)&&_0x1c5b11[_0x57100a(0x445)]((_0x47cbc8,_0x58cd2c)=>{const _0x3500cd=_0x57100a,_0x41827a=_0x263fce[_0x3500cd(0x61c)](_0x47cbc8['id']),_0x23833f=_0x263fce[_0x3500cd(0x61c)](_0x58cd2c['id']);if(_0x41827a===-0x1)return 0x1;if(_0x23833f===-0x1)return-0x1;return _0x41827a-_0x23833f;});const _0x5eb3ed={};await Promise[_0x57100a(0x6e1)](_0x1c5b11[_0x57100a(0x921)](async _0x441ea0=>{const _0x3cda8f=query(collection(db,'artifacts/'+appId+'/public/data/quizzes'),where('projectId','==',_0x441ea0['id'])),_0x3f4045=await getDocs(_0x3cda8f);_0x5eb3ed[_0x441ea0['id']]=_0x3f4045['size'];}));const _0x2c254c=document[_0x57100a(0xa57)](_0x57100a(0x345));let _0x160411='';if(_0x94a552===_0x57100a(0x936)){_0x2c254c[_0x57100a(0x8d5)]=_0x57100a(0xa9f);if(starredQuizzes[_0x57100a(0x423)]>0x0&&_0x1573bf===''){const _0x478516=starredQuizzes[_0x57100a(0x921)](_0x2c42bd=>{const _0x2bfe47=_0x57100a,_0x463f00=allProjects[_0x2bfe47(0xc0d)](_0x76d061=>_0x76d061['id']===_0x2c42bd[_0x2bfe47(0x13a)]);return{..._0x2c42bd,'projectName':_0x463f00?_0x463f00['projectName']:_0x2bfe47(0x137)};});_0x160411+=_0x57100a(0x9f6)+_0x478516[_0x57100a(0x921)](_0x2e98a3=>_0x57100a(0x4e1)+_0x2e98a3[_0x57100a(0x13e)]+'\x22>'+_0x2e98a3[_0x57100a(0x13e)]+_0x57100a(0x5c2)+_0x2e98a3[_0x57100a(0x234)]+'\x22>จาก:\x20'+_0x2e98a3[_0x57100a(0x234)]+_0x57100a(0xc9c))[_0x57100a(0xa0a)]('')+_0x57100a(0x62e)+starredQuizzes[_0x57100a(0x423)]+_0x57100a(0x65f);}_0x1c5b11[_0x57100a(0x9aa)](_0x25c5b1=>{const _0x56e936=_0x57100a,_0x20a114=_0x5eb3ed[_0x25c5b1['id']]??0x0,_0x21ca98=_0xa6fb51[_0x56e936(0xc2c)](_0x25c5b1['id']),_0x3cb6e7=_0x25c5b1[_0x56e936(0x2a0)]||_0x56e936(0x8f6),_0x39f6a6=parseInt(_0x3cb6e7[_0x56e936(0x333)](0x1,0x3),0x10)*0.299+parseInt(_0x3cb6e7[_0x56e936(0x333)](0x3,0x5),0x10)*0.587+parseInt(_0x3cb6e7[_0x56e936(0x333)](0x5,0x7),0x10)*0.114<0xba,_0x22ebf9=_0x39f6a6?_0x56e936(0x443):'text-indigo-800',_0x21afe7=_0x39f6a6?_0x56e936(0x832):'text-gray-500';_0x160411+=_0x56e936(0x613)+(_0x21ca98?_0x56e936(0x444):_0x56e936(0x839))+_0x56e936(0x12c)+_0x3cb6e7+_0x56e936(0x9cd)+_0x25c5b1['id']+_0x56e936(0x534)+_0x25c5b1['id']+_0x56e936(0xc60)+(_0x39f6a6?_0x56e936(0x82e):_0x56e936(0xb88))+_0x56e936(0x1a0)+_0x25c5b1['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x39f6a6?'text-gray-300\x20hover:text-white':_0x56e936(0xb88))+_0x56e936(0xb91)+(_0x21ca98?_0x39f6a6?_0x56e936(0x7cf):_0x56e936(0xa1f):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22'+_0x25c5b1['id']+_0x56e936(0x6d7)+_0x22ebf9+_0x56e936(0x574)+_0x25c5b1[_0x56e936(0x234)]+_0x56e936(0x4f5)+_0x21afe7+_0x56e936(0x738)+new Date(_0x25c5b1['createdAt'])[_0x56e936(0x732)](_0x56e936(0x6f2))+_0x56e936(0xad4)+(_0x39f6a6?'text-gray-100':_0x56e936(0x419))+_0x56e936(0x75e)+_0x20a114+_0x56e936(0xbda)+_0x25c5b1['id']+_0x56e936(0xbc8)+_0x25c5b1[_0x56e936(0x234)]+_0x56e936(0x7da)+(_0x39f6a6?_0x56e936(0x6f8):_0x56e936(0x309))+_0x56e936(0xca5);});}else _0x2c254c[_0x57100a(0x8d5)]='flex\x20flex-col\x20gap-2',starredQuizzes[_0x57100a(0x423)]>0x0&&_0x1573bf===''&&(_0x160411+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x57100a(0x423)]+_0x57100a(0x7e1)),_0x160411+=_0x57100a(0x8b9),_0x1c5b11[_0x57100a(0x9aa)](_0x39b653=>{const _0x5c973e=_0x57100a,_0xe458d4=_0x5eb3ed[_0x39b653['id']]??0x0,_0x4b3ea6=_0xa6fb51[_0x5c973e(0xc2c)](_0x39b653['id']);_0x160411+=_0x5c973e(0x3c8)+(_0x39b653[_0x5c973e(0x2a0)]||_0x5c973e(0x733))+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x39b653['id']+_0x5c973e(0x895)+_0x39b653[_0x5c973e(0x234)]+_0x5c973e(0x458)+_0xe458d4+_0x5c973e(0x8c9)+new Date(_0x39b653['createdAt'])[_0x5c973e(0x226)](_0x5c973e(0x6f2))+_0x5c973e(0x6d1)+_0x39b653['id']+_0x5c973e(0x672)+(_0x4b3ea6?_0x5c973e(0xa1f):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x39b653['id']+'\x22\x20data-name=\x22'+_0x39b653[_0x5c973e(0x234)]+_0x5c973e(0xbb1);});projectList['innerHTML']=_0x160411,noProjectsMsg[_0x57100a(0x6b0)][_0x57100a(0xc0e)](_0x57100a(0x3db),_0x160411['length']>0x0);}document[_0x3b29b2(0xa57)](_0x3b29b2(0xc1e))[_0x3b29b2(0x3f4)](_0x3b29b2(0x1b1),async()=>{const _0x49d8e1=_0x3b29b2,_0x45d97f=document[_0x49d8e1(0xa57)](_0x49d8e1(0x66a)),_0x21cd85=_0x45d97f[_0x49d8e1(0x6d4)][_0x49d8e1(0x9bb)]();if(!_0x21cd85){showMessage('กรุณาใส่ชื่อโปรเจค');return;}try{const _0x26df9e=doc(collection(db,_0x49d8e1(0xb79)+appId+_0x49d8e1(0x304)));await setDoc(_0x26df9e,{'projectName':_0x21cd85,'students':[],'settings':{'resultsDisplay':'show_results_and_answers','shuffleSetting':_0x49d8e1(0x4cc),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x49d8e1(0x4cc),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x49d8e1(0x975)]()}),_0x45d97f['value']='',createProjectModal[_0x49d8e1(0x6b0)][_0x49d8e1(0xb35)]('hidden'),showMessage(_0x49d8e1(0x5fd));}catch(_0x5b2adc){console[_0x49d8e1(0xc93)](_0x49d8e1(0x129),_0x5b2adc),showMessage(_0x49d8e1(0xbf4));}}),projectList[_0x3b29b2(0x3f4)](_0x3b29b2(0x1b1),async _0x446344=>{const _0x4f524e=_0x3b29b2,_0x3d2c5f=_0x446344[_0x4f524e(0x408)][_0x4f524e(0xcac)](_0x4f524e(0x763)),_0x556950=_0x446344['target'][_0x4f524e(0xcac)]('.delete-project-btn'),_0x25656c=_0x446344[_0x4f524e(0x408)][_0x4f524e(0xcac)]('.pin-project-btn'),_0x53aeda=_0x446344['target'][_0x4f524e(0xcac)](_0x4f524e(0x4b3));if(_0x25656c){const _0x4a844b=_0x25656c[_0x4f524e(0x43d)]['id'],_0x58471c=doc(db,_0x4f524e(0x522),_0x4f524e(0x29a)),_0x4cdaae=globalDashboardSettings['pinnedProjects'];let _0x5e21bc;_0x4cdaae[_0x4f524e(0x4c8)](_0x4a844b)?_0x5e21bc=_0x4cdaae[_0x4f524e(0x36d)](_0x373065=>_0x373065!==_0x4a844b):_0x5e21bc=[..._0x4cdaae,_0x4a844b];try{await setDoc(_0x58471c,{'pinnedProjects':_0x5e21bc},{'merge':!![]});}catch(_0x5861e9){console[_0x4f524e(0xc93)](_0x4f524e(0x525),_0x5861e9),showMessage(_0x4f524e(0xbba));}}else{if(_0x53aeda){const _0x209d2b=_0x53aeda[_0x4f524e(0x43d)]['id'];showColorPalette(_0x53aeda,_0x209d2b);}else{if(_0x3d2c5f){const _0x994f54=_0x3d2c5f['dataset']['id'];_0x994f54===_0x4f524e(0x524)?showStarredProjectView():(currentProjectId=_0x994f54,await loadProjectDetails(currentProjectId),showView(_0x4f524e(0x484)));}else{if(_0x556950){const _0x41af73=_0x556950[_0x4f524e(0x43d)]['id'],_0x4f46b5=_0x556950[_0x4f524e(0x43d)][_0x4f524e(0xc6f)];showConfirmation(_0x4f524e(0xb93)+_0x4f46b5+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x41af73));}}}}}),projectList['addEventListener'](_0x3b29b2(0x96a),_0x311759=>{const _0x15ae23=_0x3b29b2,_0xd5816e=_0x311759[_0x15ae23(0x408)]['closest']('.project-card-container');_0xd5816e&&_0xd5816e[_0x15ae23(0x6b0)][_0x15ae23(0xb35)](_0x15ae23(0xc18));}),projectList[_0x3b29b2(0x3f4)](_0x3b29b2(0x973),_0x22f8ae=>{const _0x1e649b=_0x3b29b2,_0x4dcca9=_0x22f8ae[_0x1e649b(0x408)][_0x1e649b(0xcac)](_0x1e649b(0xb9e));_0x4dcca9&&_0x4dcca9[_0x1e649b(0x6b0)][_0x1e649b(0xbb2)](_0x1e649b(0xc18));}),projectList[_0x3b29b2(0x3f4)](_0x3b29b2(0x390),_0x4bdbb0=>{const _0x1a658e=_0x3b29b2;_0x4bdbb0[_0x1a658e(0x206)]();const _0xd88216=document[_0x1a658e(0x1c1)](_0x1a658e(0x97a));if(!_0xd88216)return;const _0x2bf5e7=getDragAfterElement(projectList,_0x4bdbb0[_0x1a658e(0x583)]);_0x2bf5e7==null?projectList[_0x1a658e(0x95e)](_0xd88216):projectList['insertBefore'](_0xd88216,_0x2bf5e7);}),projectList['addEventListener']('drop',_0x178e4d=>{const _0x437135=_0x3b29b2;_0x178e4d[_0x437135(0x206)]();const _0x54328b=[...projectList['querySelectorAll'](_0x437135(0xa81))][_0x437135(0x921)](_0x5a3b29=>_0x5a3b29[_0x437135(0x43d)]['id']);saveProjectOrder(_0x54328b);});function renderBehaviorLog(_0x2c6550){const _0x1e28be=_0x3b29b2,_0x354ddc=document[_0x1e28be(0xa57)](_0x1e28be(0x39b));if(!_0x354ddc)return;const _0x20031f=_0x2c6550[_0x1e28be(0x36d)](_0x19813f=>_0x19813f[_0x1e28be(0x4b0)]&&_0x19813f[_0x1e28be(0x4b0)]['length']>0x0);if(_0x20031f['length']===0x0){_0x354ddc[_0x1e28be(0x2b3)]=_0x1e28be(0x259);return;}let _0x3b2125='';_0x20031f[_0x1e28be(0x9aa)](_0x9aa94c=>{const _0x3ab4b4=_0x1e28be;_0x3b2125+=_0x3ab4b4(0x629)+_0x9aa94c['studentName']+_0x3ab4b4(0x1c2),_0x9aa94c[_0x3ab4b4(0x4b0)]['sort']((_0x394cca,_0xa99535)=>new Date(_0xa99535[_0x3ab4b4(0x1af)])-new Date(_0x394cca[_0x3ab4b4(0x1af)]))[_0x3ab4b4(0x9aa)](_0xfa0def=>{const _0x5df23d=_0x3ab4b4,_0x2b31ca=new Date(_0xfa0def[_0x5df23d(0x1af)])[_0x5df23d(0x226)](_0x5df23d(0x6f2),{'dateStyle':_0x5df23d(0x8ff),'timeStyle':_0x5df23d(0x942)});_0x3b2125+=_0x5df23d(0x60f)+_0xfa0def[_0x5df23d(0x171)]+_0x5df23d(0xa4e)+_0x2b31ca+_0x5df23d(0x48f);}),_0x3b2125+=_0x3ab4b4(0x3b1);}),_0x354ddc[_0x1e28be(0x2b3)]=_0x3b2125;}function getDragAfterElement(_0x24bdbb,_0x59ccd0){const _0x182605=_0x3b29b2,_0x1fc060=[..._0x24bdbb[_0x182605(0x3cf)](_0x182605(0x611))];return _0x1fc060[_0x182605(0x4a8)]((_0x546351,_0x165fa7)=>{const _0x5e1ca7=_0x182605,_0x54011d=_0x165fa7['getBoundingClientRect'](),_0x416109=_0x59ccd0-_0x54011d[_0x5e1ca7(0x29b)]-_0x54011d[_0x5e1ca7(0x4bd)]/0x2;return _0x416109<0x0&&_0x416109>_0x546351[_0x5e1ca7(0x927)]?{'offset':_0x416109,'element':_0x165fa7}:_0x546351;},{'offset':Number[_0x182605(0x11a)]})[_0x182605(0x99a)];}async function saveProjectOrder(_0xf9029c){const _0x98ad41=_0x3b29b2,_0x433c55=doc(db,'globalSettings','dashboardConfig');try{await setDoc(_0x433c55,{'projectOrder':_0xf9029c},{'merge':!![]});}catch(_0x264582){console[_0x98ad41(0xc93)]('Error\x20saving\x20project\x20order:',_0x264582),showMessage(_0x98ad41(0x7be));}}async function logBehaviorEvent(_0x54df18,_0x109f7c={}){const _0x19966c=_0x3b29b2;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x19966c(0x868)](_0x19966c(0xc90));return;}const _0x2666c8=doc(db,'artifacts/'+appId+_0x19966c(0x689)+currentQuizData['id']+'/submissions',currentStudentName),_0x11905f={'event':_0x54df18,'timestamp':new Date()[_0x19966c(0x975)](),..._0x109f7c};try{await updateDoc(_0x2666c8,{'behaviorLog':arrayUnion(_0x11905f)}),console[_0x19966c(0x886)](_0x19966c(0x8ad)+currentStudentName+_0x19966c(0x784));}catch(_0xefeddf){_0xefeddf[_0x19966c(0x167)]===_0x19966c(0x32b)?console[_0x19966c(0x868)]('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+_0x19966c(0x755)):console[_0x19966c(0xc93)](_0x19966c(0x1b0),_0xefeddf);}}function calculateMeanAndStdDev(_0x1f105c){const _0x421c39=_0x3b29b2;if(_0x1f105c[_0x421c39(0x423)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x8a7125=_0x1f105c['reduce']((_0x5b7030,_0x44a663)=>_0x5b7030+_0x44a663,0x0)/_0x1f105c[_0x421c39(0x423)];if(_0x1f105c['length']===0x1)return{'mean':_0x8a7125,'stdDev':0x0};const _0x3682bc=Math[_0x421c39(0xa4f)](_0x1f105c[_0x421c39(0x921)](_0x3d6ba6=>Math['pow'](_0x3d6ba6-_0x8a7125,0x2))['reduce']((_0xc826b8,_0x2eaa6d)=>_0xc826b8+_0x2eaa6d,0x0)/(_0x1f105c[_0x421c39(0x423)]-0x1));return{'mean':_0x8a7125,'stdDev':_0x3682bc};}function calculateZScore(_0x3105f6,_0x2139cd,_0x4827e2){if(_0x4827e2===0x0)return 0x0;return(_0x3105f6-_0x2139cd)/_0x4827e2;}function calculateTScore(_0x5c38d4){return 0xa*_0x5c38d4+0x32;}function showStarredProjectView(){const _0xa77944=_0x3b29b2;currentProjectId=_0xa77944(0x620),currentProjectData=null,projectTitle[_0xa77944(0x63d)]=_0xa77944(0xca9),projectIdDisplay[_0xa77944(0x63d)]=_0xa77944(0x4db),showView(_0xa77944(0x484)),manageTab[_0xa77944(0x6b0)][_0xa77944(0xb35)]('hidden'),leaderboardTab[_0xa77944(0x6b0)][_0xa77944(0xb35)](_0xa77944(0x3db)),switchProjectTab(_0xa77944(0x422)),renderQuizzes();}async function loadProjectDetails(_0xc5a73){const _0x8a5163=_0x3b29b2,_0x477f2a=doc(db,_0x8a5163(0xb79)+appId+'/public/data/projects',_0xc5a73),_0xad2f22=await getDoc(_0x477f2a);if(_0xad2f22[_0x8a5163(0xb65)]()){manageTab[_0x8a5163(0x6b0)]['remove'](_0x8a5163(0x3db)),leaderboardTab[_0x8a5163(0x6b0)][_0x8a5163(0xbb2)]('hidden'),currentProjectData=_0xad2f22[_0x8a5163(0x7a6)](),projectTitle['textContent']=currentProjectData[_0x8a5163(0x234)],projectIdDisplay[_0x8a5163(0x63d)]=_0xc5a73;const _0x129345=currentProjectData[_0x8a5163(0x813)]||{};document['getElementById'](_0x8a5163(0x7a0))[_0x8a5163(0x6d4)]=_0x129345[_0x8a5163(0x2d9)]||_0x8a5163(0x4cc);const _0x444a35=document[_0x8a5163(0xa57)](_0x8a5163(0x513));_0x444a35[_0x8a5163(0x354)]=_0x129345[_0x8a5163(0x756)]!==![];const _0x1d0e49=document['getElementById']('enable-passcode-checkbox'),_0xbe8781=document[_0x8a5163(0xa57)](_0x8a5163(0x822)),_0x395f8b=document[_0x8a5163(0xa57)](_0x8a5163(0xc66)),_0x357dcf=_0x129345[_0x8a5163(0x470)]||![];_0x1d0e49[_0x8a5163(0x354)]=_0x357dcf,_0x395f8b[_0x8a5163(0x6d4)]=_0x129345[_0x8a5163(0x2a2)]||'',_0xbe8781[_0x8a5163(0x6b0)][_0x8a5163(0xc0e)](_0x8a5163(0x3db),!_0x357dcf),_0x1d0e49['onchange']=()=>{const _0x2c33ea=_0x8a5163;_0xbe8781[_0x2c33ea(0x6b0)]['toggle'](_0x2c33ea(0x3db),!_0x1d0e49[_0x2c33ea(0x354)]);},document['getElementById'](_0x8a5163(0xc42))['checked']=_0x129345[_0x8a5163(0x327)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0xc5a73),listenForProjectQuizzes(_0xc5a73),listenForStudentProfiles(_0xc5a73);}else showMessage(_0x8a5163(0x247)),showView(_0x8a5163(0x538));}async function handleResetProjectOrder(){const _0x166941=_0x3b29b2,_0x33c1d1=doc(db,_0x166941(0x522),_0x166941(0x29a));try{await setDoc(_0x33c1d1,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0x531f87){console[_0x166941(0xc93)](_0x166941(0x6d6),_0x531f87),showMessage(_0x166941(0x15f));}}async function handleTogglePinProject(_0x5e12c4){const _0x203977=_0x3b29b2;if(!_0x5e12c4)return;const _0x5acb53=doc(db,_0x203977(0xb79)+appId+_0x203977(0x304),_0x5e12c4);try{const _0x39832d=await getDoc(_0x5acb53);if(_0x39832d['exists']()){const _0x33dbb5=_0x39832d[_0x203977(0x7a6)]()[_0x203977(0x6ed)]||![];await updateDoc(_0x5acb53,{'isPinned':!_0x33dbb5});}}catch(_0x5e0864){console['error'](_0x203977(0x57f),_0x5e0864),showMessage(_0x203977(0xbba));}}async function handleDeleteProject(_0x52f3b0){const _0x3614b1=_0x3b29b2;try{const _0x1b1cb2=writeBatch(db),_0x18a1bb=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x8ecc5e=query(_0x18a1bb,where(_0x3614b1(0x13a),'==',_0x52f3b0)),_0x574b3c=await getDocs(_0x8ecc5e);for(const _0x3317ab of _0x574b3c[_0x3614b1(0x8c5)]){const _0x132369=collection(db,_0x3614b1(0xb79)+appId+_0x3614b1(0x689)+_0x3317ab['id']+'/submissions'),_0x14a7cb=await getDocs(_0x132369);_0x14a7cb['forEach'](_0x43a414=>{const _0x18a9ce=_0x3614b1;_0x1b1cb2[_0x18a9ce(0xa6f)](_0x43a414['ref']);}),_0x1b1cb2['delete'](_0x3317ab[_0x3614b1(0x600)]);}const _0x4338dc=collection(db,_0x3614b1(0xb79)+appId+'/public/data/projects/'+_0x52f3b0+_0x3614b1(0xaac)),_0xbe585b=await getDocs(_0x4338dc);_0xbe585b[_0x3614b1(0x9aa)](_0x2fd01d=>{const _0x3b7fa1=_0x3614b1;_0x1b1cb2[_0x3b7fa1(0xa6f)](_0x2fd01d[_0x3b7fa1(0x600)]);});const _0x4a0c5e=doc(db,_0x3614b1(0xb79)+appId+_0x3614b1(0x304),_0x52f3b0);_0x1b1cb2[_0x3614b1(0xa6f)](_0x4a0c5e),await _0x1b1cb2['commit'](),showMessage(_0x3614b1(0x78c)),showView(_0x3614b1(0x538));}catch(_0xfdfdfc){console[_0x3614b1(0xc93)](_0x3614b1(0x72e),_0xfdfdfc),showMessage(_0x3614b1(0x6a2));}}document[_0x3b29b2(0xa57)]('save-settings-btn')[_0x3b29b2(0x3f4)](_0x3b29b2(0x1b1),async()=>{const _0x311544=_0x3b29b2;if(!currentProjectId)return;const _0x3da777={'defaultNumQuestions':parseInt(document[_0x311544(0xa57)]('num-questions')[_0x311544(0x6d4)]),'defaultNumChoices':parseInt(document[_0x311544(0xa57)]('num-choices')[_0x311544(0x6d4)]),'defaultPassingScore':parseInt(document['getElementById']('passing-score-input')[_0x311544(0x6d4)]),'resultsDisplay':document[_0x311544(0xa57)]('results-display-select')[_0x311544(0x6d4)],'shuffleSetting':document[_0x311544(0xa57)](_0x311544(0x7a0))[_0x311544(0x6d4)],'timerMode':document['getElementById']('timer-mode-select')[_0x311544(0x6d4)],'timerDuration':parseInt(document['getElementById'](_0x311544(0x62f))[_0x311544(0x6d4)]),'isConfidenceScoringEnabled':document[_0x311544(0xa57)](_0x311544(0xc42))[_0x311544(0x354)],'confidenceMode':document['getElementById']('confidence-mode-select')[_0x311544(0x6d4)]};try{const _0x5729c4=doc(db,_0x311544(0xb79)+appId+_0x311544(0x304),currentProjectId);await updateDoc(_0x5729c4,{'settings':_0x3da777}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x32f804){console['error'](_0x311544(0xa2d),_0x32f804),showMessage(_0x311544(0x65c));}});function listenForStudents(_0x3a2c9b){const _0x2748d8=_0x3b29b2,_0x481fa4=doc(db,_0x2748d8(0xb79)+appId+'/public/data/projects',_0x3a2c9b);unsubscribeStudentsListener=onSnapshot(_0x481fa4,_0x4de432=>{const _0x557218=_0x2748d8;if(_0x4de432['exists']()){const _0x39e4bf=_0x4de432['data']();currentProjectData=_0x39e4bf,renderStudentList(_0x39e4bf[_0x557218(0x98d)]||[]);}});}function renderStudentList(_0x1c64a3){const _0x178d4d=_0x3b29b2,_0x1a2709=document[_0x178d4d(0xa57)](_0x178d4d(0x597));_0x1c64a3[_0x178d4d(0x423)]===0x0?(studentList[_0x178d4d(0x2b3)]=_0x178d4d(0x7c6),_0x1a2709[_0x178d4d(0x6b0)][_0x178d4d(0xb35)](_0x178d4d(0x3db))):(studentList[_0x178d4d(0x2b3)]=_0x1c64a3[_0x178d4d(0x921)](_0x7c9da0=>_0x178d4d(0x506)+_0x7c9da0+_0x178d4d(0x47b)+_0x7c9da0+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x178d4d(0xa0a)](''),_0x1a2709[_0x178d4d(0x6b0)][_0x178d4d(0xbb2)]('hidden'));}document[_0x3b29b2(0xa57)]('add-student-btn')[_0x3b29b2(0x3f4)]('click',async()=>{const _0x88cc1=_0x3b29b2;if(!currentProjectId)return;const _0x47c5ed=document[_0x88cc1(0xa57)]('student-name-input'),_0x5342c8=_0x47c5ed[_0x88cc1(0x6d4)]['trim']();if(!_0x5342c8){showMessage(_0x88cc1(0xb22));return;}const _0x2829dc=_0x5342c8[_0x88cc1(0x853)]('\x0a')['map'](_0xa6ce1c=>_0xa6ce1c[_0x88cc1(0x9bb)]())[_0x88cc1(0x36d)](_0x52a19b=>_0x52a19b);if(_0x2829dc[_0x88cc1(0x423)]===0x0)return;try{const _0x2fd1e7=doc(db,_0x88cc1(0xb79)+appId+_0x88cc1(0x304),currentProjectId),_0x2282eb=await getDoc(_0x2fd1e7);if(_0x2282eb[_0x88cc1(0xb65)]()){const _0x585d8f=_0x2282eb['data']()[_0x88cc1(0x98d)]||[],_0x3e2b63=[...new Set([..._0x585d8f,..._0x2829dc])];await updateDoc(_0x2fd1e7,{'students':_0x3e2b63}),_0x47c5ed[_0x88cc1(0x6d4)]='';}}catch(_0x96379d){console[_0x88cc1(0xc93)]('Error\x20adding\x20students:',_0x96379d),showMessage(_0x88cc1(0x25a));}});async function handleManualQuizPairing(_0x24f609){const _0x4e3fa0=_0x3b29b2,_0x509ed8=document['getElementById'](_0x4e3fa0(0x21c)),_0x2630b1=document[_0x4e3fa0(0xa57)](_0x4e3fa0(0xa26)),_0xb1fd63=_0x509ed8[_0x4e3fa0(0x1c1)]('h3'),_0x36a473=document[_0x4e3fa0(0xa57)](_0x4e3fa0(0x382)),_0x5f5624=document[_0x4e3fa0(0xa57)](_0x4e3fa0(0x118));_0xb1fd63[_0x4e3fa0(0x63d)]=_0x4e3fa0(0x3ec),_0x2630b1[_0x4e3fa0(0x2b3)]=_0x4e3fa0(0x7c7),_0x36a473['textContent']='ยืนยันการจับคู่',_0x509ed8['classList']['remove'](_0x4e3fa0(0x3db));const _0x1fd693=allQuizzes[_0x4e3fa0(0x36d)](_0x3181a8=>_0x3181a8['id']!==_0x24f609);_0x1fd693[_0x4e3fa0(0x423)]===0x0?(_0x2630b1[_0x4e3fa0(0x2b3)]=_0x4e3fa0(0x374),_0x36a473[_0x4e3fa0(0x267)]=!![]):(_0x2630b1['innerHTML']=_0x4e3fa0(0x528)+_0x1fd693[_0x4e3fa0(0x921)](_0x269755=>_0x4e3fa0(0x93f)+_0x269755['id']+'\x22>'+_0x269755['topic']+_0x4e3fa0(0xca6))['join'](''),_0x36a473[_0x4e3fa0(0x267)]=![]);const _0x3909b1=async()=>{const _0x3b8f2b=_0x4e3fa0,_0x25dce2=_0x2630b1[_0x3b8f2b(0x6d4)];if(!_0x25dce2){showMessage(_0x3b8f2b(0xa30));return;}_0x36a473[_0x3b8f2b(0x267)]=!![],_0x36a473[_0x3b8f2b(0x63d)]=_0x3b8f2b(0x6e6);try{const _0x406a19=doc(db,_0x3b8f2b(0xb79)+appId+_0x3b8f2b(0x53a),_0x24f609),_0x36faf6=doc(db,_0x3b8f2b(0xb79)+appId+_0x3b8f2b(0x53a),_0x25dce2),_0x4c9b46=writeBatch(db);_0x4c9b46['update'](_0x406a19,{'pairedQuizId':_0x25dce2}),_0x4c9b46['update'](_0x36faf6,{'pairedQuizId':_0x24f609}),await _0x4c9b46[_0x3b8f2b(0x658)](),showMessage(_0x3b8f2b(0x829)),_0x509ed8[_0x3b8f2b(0x6b0)]['add'](_0x3b8f2b(0x3db));}catch(_0x4eb579){console['error']('Error\x20pairing\x20quizzes:',_0x4eb579),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0xb1fd63[_0x3b8f2b(0x63d)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x36a473[_0x3b8f2b(0x63d)]='ย้าย',_0x36a473[_0x3b8f2b(0x267)]=![],_0x36a473['removeEventListener'](_0x3b8f2b(0x1b1),_0x3909b1),_0x5f5624[_0x3b8f2b(0xbf9)]('click',_0x12632d);}},_0x12632d=()=>{const _0x453c09=_0x4e3fa0;_0x509ed8['classList'][_0x453c09(0xb35)]('hidden'),_0xb1fd63[_0x453c09(0x63d)]=_0x453c09(0x7df),_0x36a473[_0x453c09(0x63d)]='ย้าย',_0x36a473[_0x453c09(0xbf9)]('click',_0x3909b1),_0x5f5624[_0x453c09(0xbf9)](_0x453c09(0x1b1),_0x12632d);};_0x36a473[_0x4e3fa0(0x3f4)]('click',_0x3909b1),_0x5f5624['addEventListener'](_0x4e3fa0(0x1b1),_0x12632d);}function handleDeleteStudent(_0x5ed773){const _0x66bec8=_0x3b29b2;showConfirmation(_0x66bec8(0xa83)+_0x5ed773+_0x66bec8(0x4fb),async()=>{const _0x432dc5=_0x66bec8;if(!currentProjectId||!currentProjectData)return;const _0x415822=currentProjectData[_0x432dc5(0x98d)][_0x432dc5(0x36d)](_0x221529=>_0x221529!==_0x5ed773);try{const _0xde617b=doc(db,_0x432dc5(0xb79)+appId+_0x432dc5(0x304),currentProjectId),_0x3923fa=doc(db,_0x432dc5(0xb79)+appId+_0x432dc5(0x527)+currentProjectId+_0x432dc5(0xaac),_0x5ed773),_0x67770d=writeBatch(db);_0x67770d['update'](_0xde617b,{'students':_0x415822}),_0x67770d[_0x432dc5(0xa6f)](_0x3923fa),await _0x67770d['commit']();}catch(_0x27a4d9){console[_0x432dc5(0xc93)](_0x432dc5(0x97f),_0x27a4d9),showMessage(_0x432dc5(0x718));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x37bdd9=_0x376a;if(!currentProjectId)return;try{const _0x2a1669=doc(db,_0x37bdd9(0xb79)+appId+_0x37bdd9(0x304),currentProjectId),_0x3f9e78=collection(db,_0x37bdd9(0xb79)+appId+_0x37bdd9(0x527)+currentProjectId+'/studentProfiles'),_0x144fa9=await getDocs(_0x3f9e78),_0x4c393f=writeBatch(db);_0x4c393f['update'](_0x2a1669,{'students':[]}),_0x144fa9[_0x37bdd9(0x9aa)](_0x369cd6=>_0x4c393f['delete'](_0x369cd6['ref'])),await _0x4c393f[_0x37bdd9(0x658)]();}catch(_0x20d81f){console[_0x37bdd9(0xc93)]('Error\x20deleting\x20all\x20students:',_0x20d81f),showMessage(_0x37bdd9(0x699));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x21d566){const _0x3abaad=_0x3b29b2,_0xdd8887=document[_0x3abaad(0xa57)](_0x3abaad(0x8e9)),_0x2207ef=document[_0x3abaad(0xa57)]('file-topics-list');_0xdd8887[_0x3abaad(0x6b0)][_0x3abaad(0xbb2)](_0x3abaad(0x3db)),_0x2207ef['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>';try{const _0x3bbe95=new FileReader();_0x3bbe95[_0x3abaad(0x807)](_0x21d566),await new Promise((_0x51a42e,_0x146bfb)=>{const _0x3eb7af=_0x3abaad;_0x3bbe95[_0x3eb7af(0x569)]=()=>{const _0x515622=_0x3eb7af;fileDataBase64=_0x3bbe95['result'][_0x515622(0x853)](',')[0x1],fileMimeType=_0x21d566['type'],_0x51a42e();},_0x3bbe95[_0x3eb7af(0xc52)]=_0x29ba4c=>_0x146bfb(_0x29ba4c);});if(!fileDataBase64)throw new Error(_0x3abaad(0x4b2));const _0x33889b=_0x3abaad(0x2cd),_0x32dd14={'type':_0x3abaad(0x31f),'properties':{'topics':{'type':_0x3abaad(0x880),'items':{'type':_0x3abaad(0xc48)}}},'required':[_0x3abaad(0xa3b)]},_0x3d34c8=[{'text':_0x33889b},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x3ba7f8=await handleApiCall(_0x3d34c8,'กำลังวิเคราะห์หัวข้อ...',_0x32dd14,null,![]);if(_0x3ba7f8&&_0x3ba7f8[_0x3abaad(0xa3b)])extractedFileTopics=_0x3ba7f8[_0x3abaad(0xa3b)],renderFileTopics();else throw new Error(_0x3abaad(0xc5d));}catch(_0x5b6120){console['error'](_0x3abaad(0x58f),_0x5b6120),_0x2207ef['innerHTML']=_0x3abaad(0x664)+_0x5b6120[_0x3abaad(0x8df)]+_0x3abaad(0x240);}}function renderFileTopics(){const _0x2cc938=_0x3b29b2,_0x77f159=document[_0x2cc938(0xa57)](_0x2cc938(0xabe));if(extractedFileTopics[_0x2cc938(0x423)]===0x0){_0x77f159[_0x2cc938(0x2b3)]=_0x2cc938(0x9ef);return;}_0x77f159[_0x2cc938(0x2b3)]=extractedFileTopics['map'](_0x46ef15=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>'+_0x46ef15+_0x2cc938(0x783)+escape(_0x46ef15)+_0x2cc938(0x46b)+escape(_0x46ef15)+_0x2cc938(0x6c5))[_0x2cc938(0xa0a)]('');}async function generateHybridQuizForTopic(_0x29ce26){const _0x199299=_0x3b29b2,_0x31a57c=parseInt(document[_0x199299(0xa57)](_0x199299(0xbe7))['value'],0xa),_0xa1ea38=document[_0x199299(0xa57)]('quiz-type-select')[_0x199299(0x6d4)],_0x109b50=document[_0x199299(0xa57)]('num-choices')[_0x199299(0x6d4)],_0x3f947c=document[_0x199299(0xa57)](_0x199299(0xa5e))['checked'],_0x1183c9=_0x3f947c?_0x199299(0x44c):_0x199299(0x1b7);let _0x2373d3='',_0x1b6bbd;const _0x4df0da={'type':'OBJECT','properties':{'questionText':{'type':_0x199299(0xc48)},'options':{'type':'ARRAY','items':{'type':_0x199299(0xc48)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x199299(0xc48)},'imageCode':{'type':'STRING'}},'required':[_0x199299(0xc1c),_0x199299(0x5a9),'correctAnswerIndex',_0x199299(0x8dc)]},_0xb0577c={'type':'OBJECT','properties':{'questionText':{'type':_0x199299(0xc48)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x199299(0xc48)}},'required':['questionText','correctAnswer',_0x199299(0x8dc)]},_0x1e8d36={'type':_0x199299(0x31f),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x199299(0xc48)},'explanation':{'type':_0x199299(0xc48)},'imageCode':{'type':'STRING'}},'required':[_0x199299(0xc1c),_0x199299(0x5c5),_0x199299(0x8dc)]},_0x3f47fc={'type':'OBJECT','properties':{'questionType':{'type':_0x199299(0xc48),'enum':[_0x199299(0x8bb)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x199299(0xc48)},'allResponses':{'type':_0x199299(0x880),'items':{'type':_0x199299(0xc48)}},'explanation':{'type':_0x199299(0xc48)},'imageCode':{'type':_0x199299(0xc48)}},'required':['questionType',_0x199299(0xc65),_0x199299(0x4a4),'allResponses',_0x199299(0x8dc)]};switch(_0xa1ea38){case _0x199299(0xbbc):_0x2373d3=_0x199299(0x844)+_0x109b50+_0x199299(0x38a),_0x1b6bbd=_0x4df0da;break;case _0x199299(0x421):_0x2373d3='คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น',_0x1b6bbd=_0xb0577c;break;case'fill_in_no_choices':_0x2373d3=_0x199299(0x68f),_0x1b6bbd=_0x1e8d36;break;case'matching':_0x2373d3=_0x199299(0x773),_0x1b6bbd=_0x3f47fc;break;case _0x199299(0xadd):_0x2373d3=_0x199299(0x86c)+_0x109b50+_0x199299(0x38a),_0x1b6bbd=_0x4df0da;break;default:_0x2373d3=_0x199299(0x844)+_0x109b50+_0x199299(0x38a),_0x1b6bbd=_0x4df0da;break;}const _0x3d24ad='สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด',_0x33d279=document[_0x199299(0xa57)]('loader'),_0x273a44=document[_0x199299(0xa57)](_0x199299(0xb6d)),_0xc7962b=document[_0x199299(0xa57)](_0x199299(0xca2));document[_0x199299(0xa57)]('quiz-generation-area')[_0x199299(0x6b0)]['remove'](_0x199299(0x3db)),_0xc7962b[_0x199299(0x2b3)]='',_0x33d279['classList']['remove']('hidden'),_0x273a44[_0x199299(0x63d)]=_0x199299(0x39d)+_0x29ce26+_0x199299(0x3d4)+_0x31a57c+_0x199299(0x1a4);try{const _0x46032b=_0x199299(0x994),_0x3f7832=_0x199299(0x76f)+_0x29ce26+_0x199299(0x836)+_0x31a57c+_0x199299(0x94c)+_0x29ce26+_0x199299(0x8d4)+_0x31a57c+_0x199299(0xc24)+_0x1183c9+_0x199299(0x636)+_0x2373d3+_0x199299(0x385)+_0x3d24ad+_0x199299(0xcaf)+_0x46032b+_0x199299(0x9de)+simpleMathPrompt+_0x199299(0x907),_0x49bab1={'type':_0x199299(0x31f),'properties':{'topic':{'type':_0x199299(0xc48)},'questions':{'type':_0x199299(0x880),'items':_0x1b6bbd}},'required':[_0x199299(0x13e),_0x199299(0x288)]},_0x2337b6=[{'text':_0x3f7832},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x2337b6,_0x199299(0x4d5)+_0x29ce26+_0x199299(0xadc),_0x49bab1);}catch(_0x327121){console['error'](_0x199299(0xcb0),_0x327121),showMessage(_0x199299(0x1fd)+_0x327121['message']),_0xc7962b[_0x199299(0x2b3)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>';}finally{_0x33d279['classList'][_0x199299(0xb35)](_0x199299(0x3db));}}async function handleGenerateFromFileClick(){const _0x49ec17=_0x3b29b2;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x472dff=document[_0x49ec17(0xa57)]('loader'),_0x29d155=document[_0x49ec17(0xa57)]('loader-text'),_0x2c1bc0=document['getElementById'](_0x49ec17(0xca2)),_0x5ef015=document[_0x49ec17(0xa57)](_0x49ec17(0xc9a));_0x5ef015[_0x49ec17(0x267)]=!![],document[_0x49ec17(0xa57)]('quiz-generation-area')[_0x49ec17(0x6b0)]['remove'](_0x49ec17(0x3db)),_0x2c1bc0['innerHTML']='',_0x472dff[_0x49ec17(0x6b0)][_0x49ec17(0xbb2)](_0x49ec17(0x3db)),_0x29d155[_0x49ec17(0x63d)]=_0x49ec17(0x6b9);try{const _0x300428=await new Promise((_0x601d5,_0x49d365)=>{const _0x46b274=_0x49ec17,_0x51c340=new FileReader();_0x51c340[_0x46b274(0x807)](selectedFile),_0x51c340['onload']=()=>_0x601d5(_0x51c340[_0x46b274(0x4ce)]['split'](',')[0x1]),_0x51c340[_0x46b274(0xc52)]=_0x442e7f=>_0x49d365(_0x442e7f);});await generateQuizFromFile(selectedFile[_0x49ec17(0xc04)],_0x300428);}catch(_0x10ebe7){console[_0x49ec17(0xc93)]('Error\x20processing\x20file\x20for\x20AI:',_0x10ebe7),showMessage(_0x49ec17(0x31a)+_0x10ebe7[_0x49ec17(0x8df)]),_0x472dff[_0x49ec17(0x6b0)][_0x49ec17(0xb35)](_0x49ec17(0x3db)),_0x5ef015['disabled']=![];}}function autoFormatMath(_0x3601d4){if(typeof _0x3601d4!=='string'||!_0x3601d4)return _0x3601d4;const _0x4aa864=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x3cc75e=_0x3601d4['replace'](_0x4aa864,_0x18664e=>{const _0x576c42=_0x376a;return'$'+_0x18664e[_0x576c42(0x9bb)]()+'$';});return _0x3cc75e;}function sanitizeQuizData(_0x4ecf0f){const _0x16e542=_0x3b29b2;if(!_0x4ecf0f||!_0x4ecf0f[_0x16e542(0x288)])return _0x4ecf0f;const _0x2a61b1={'imes':'\x5ctimes','div':_0x16e542(0x827)},_0x314a11=_0x36eba0=>{const _0xa96120=_0x16e542;if(typeof _0x36eba0!==_0xa96120(0x8dd))return _0x36eba0;let _0x36a829=_0x36eba0;for(const [_0x3590fd,_0x5ed030]of Object[_0xa96120(0xb3d)](_0x2a61b1)){const _0x3e0e9e=new RegExp('\x5cb'+_0x3590fd+'\x5cb','g');_0x36a829=_0x36a829[_0xa96120(0xb5a)](_0x3e0e9e,_0x5ed030);}return _0x36a829=_0x36a829[_0xa96120(0xb5a)](/\\\//g,_0xa96120(0x827)),_0x36a829=_0x36a829[_0xa96120(0xb5a)](/<(i|em)>\s*div\s*<\/\1>/gi,_0xa96120(0x827))['replace'](/<(i|em)>\s*times\s*<\/\1>/gi,_0xa96120(0x943))['replace'](/÷/g,_0xa96120(0x827))['replace'](/×/g,_0xa96120(0x943)),_0x36a829=_0x36a829[_0xa96120(0xb5a)](/(\d)(\\frac)/g,_0xa96120(0x1ff)),_0x36a829=autoFormatMath(_0x36a829),_0x36a829;};return _0x4ecf0f['topic']&&(_0x4ecf0f[_0x16e542(0x13e)]=_0x314a11(_0x4ecf0f[_0x16e542(0x13e)])),_0x4ecf0f[_0x16e542(0x288)][_0x16e542(0x9aa)](_0x3e4e44=>{const _0x2832cb=_0x16e542;_0x3e4e44['questionText']=_0x314a11(_0x3e4e44[_0x2832cb(0xc1c)]),_0x3e4e44[_0x2832cb(0x5a9)]&&(_0x3e4e44['options']=_0x3e4e44[_0x2832cb(0x5a9)]['map'](_0x314a11)),_0x3e4e44[_0x2832cb(0x8dc)]&&(_0x3e4e44[_0x2832cb(0x8dc)]=_0x314a11(_0x3e4e44[_0x2832cb(0x8dc)])),_0x3e4e44[_0x2832cb(0xc65)]&&(_0x3e4e44[_0x2832cb(0xc65)]=_0x314a11(_0x3e4e44[_0x2832cb(0xc65)])),_0x3e4e44['correctResponse']&&(_0x3e4e44[_0x2832cb(0x4a4)]=_0x314a11(_0x3e4e44[_0x2832cb(0x4a4)])),_0x3e4e44[_0x2832cb(0x889)]&&(_0x3e4e44[_0x2832cb(0x889)]=_0x3e4e44[_0x2832cb(0x889)][_0x2832cb(0x921)](_0x314a11));}),_0x4ecf0f;}const simpleMathPrompt=_0x3b29b2(0x2f1);async function handleGenerateFromLink(){const _0x36f72c=_0x3b29b2,_0x2029cb=document[_0x36f72c(0xa57)](_0x36f72c(0x6a6)),_0x54e374=document[_0x36f72c(0xa57)]('link-topic-input'),_0x582f6d=_0x2029cb[_0x36f72c(0x6d4)][_0x36f72c(0x9bb)](),_0x244aa8=_0x54e374[_0x36f72c(0x6d4)][_0x36f72c(0x9bb)]();if(!_0x582f6d){showMessage(_0x36f72c(0x60c));return;}const _0x4f8b45=document[_0x36f72c(0xa57)](_0x36f72c(0x438)),_0x443185=document[_0x36f72c(0xa57)]('loader-text'),_0x18d7d9=document[_0x36f72c(0xa57)](_0x36f72c(0xca2)),_0x1a9694=document['getElementById'](_0x36f72c(0x88d));document[_0x36f72c(0xa57)](_0x36f72c(0x5f0))[_0x36f72c(0x6b0)][_0x36f72c(0xbb2)]('hidden'),_0x18d7d9['innerHTML']='',_0x4f8b45['classList'][_0x36f72c(0xbb2)](_0x36f72c(0x3db)),_0x443185[_0x36f72c(0x63d)]='กำลังดึงข้อมูลจากลิงก์...',_0x1a9694[_0x36f72c(0x267)]=!![];try{const _0x404ecf='https://corsproxy.io/?'+encodeURIComponent(_0x582f6d),_0x2a2db0=await fetch(_0x404ecf);if(!_0x2a2db0['ok'])throw new Error(_0x36f72c(0xaca)+_0x2a2db0['status']+')');const _0x2dab43=await _0x2a2db0[_0x36f72c(0x89a)](),_0x5c817c=extractTextFromHtml(_0x2dab43);if(!_0x5c817c||_0x5c817c['length']<0x64)throw new Error(_0x36f72c(0xaa1));await generateQuiz(_0x244aa8,_0x5c817c);}catch(_0x67cada){console['error'](_0x36f72c(0x8ae),_0x67cada),showMessage(_0x36f72c(0x1fd)+_0x67cada[_0x36f72c(0x8df)]),_0x18d7d9[_0x36f72c(0x2b3)]=_0x36f72c(0x9b8);}finally{_0x4f8b45['classList'][_0x36f72c(0xb35)]('hidden'),_0x1a9694['disabled']=![];}}function extractTextFromHtml(_0x4ea42a){const _0x45ef19=_0x3b29b2,_0x4d14ea=new DOMParser()[_0x45ef19(0x131)](_0x4ea42a,_0x45ef19(0x207));return _0x4d14ea[_0x45ef19(0x3cf)]('script,\x20style,\x20nav,\x20footer,\x20header,\x20aside')[_0x45ef19(0x9aa)](_0x4cba90=>_0x4cba90[_0x45ef19(0xbb2)]()),_0x4d14ea['body']['textContent']||'';}document[_0x3b29b2(0xa57)](_0x3b29b2(0x144))['addEventListener'](_0x3b29b2(0x1b1),()=>{const _0x569139=_0x3b29b2,_0x257fe7=document[_0x569139(0xa57)](_0x569139(0x4e2))[_0x569139(0x6d4)][_0x569139(0x9bb)]();generateQuiz(_0x257fe7,null);}),document[_0x3b29b2(0xa57)](_0x3b29b2(0x679))[_0x3b29b2(0x3f4)](_0x3b29b2(0x1b1),()=>{const _0x4df04f=_0x3b29b2,_0x2c2717=document[_0x4df04f(0xa57)](_0x4df04f(0x3e7))['value'][_0x4df04f(0x9bb)]();if(!_0x2c2717){showMessage(_0x4df04f(0x147));return;}const _0x1504d8=document[_0x4df04f(0xa57)](_0x4df04f(0x4e2))[_0x4df04f(0x6d4)][_0x4df04f(0x9bb)]();generateQuiz(_0x1504d8,_0x2c2717);});async function generateQuiz(_0x5278a5,_0x36d460,_0x1336cc=null,_0x277327=null,_0x4bcb2f=![],_0x42fb6f=null,_0x2e2460=null,_0x2bee78=![]){const _0x436896=_0x3b29b2;let _0x50d8ab={};if(_0x4bcb2f&&blueprintPageSettings)_0x50d8ab=blueprintPageSettings;else{const _0x8f03b9=document[_0x436896(0x3cf)](_0x436896(0x62b));_0x50d8ab={'quizType':document[_0x436896(0xa57)]('quiz-type-select')[_0x436896(0x6d4)],'numQuestions':document[_0x436896(0xa57)](_0x436896(0xbe7))[_0x436896(0x6d4)],'numChoices':document[_0x436896(0xa57)](_0x436896(0x3b4))[_0x436896(0x6d4)],'includeImages':document['getElementById'](_0x436896(0xa5e))[_0x436896(0x354)],'isNormalTopic':document[_0x436896(0xa57)]('force-math-checkbox')[_0x436896(0x354)],'difficultyValue':document[_0x436896(0xa57)]('difficulty-level-select')[_0x436896(0x6d4)],'complexityValue':document['getElementById'](_0x436896(0x42d))[_0x436896(0x6d4)],'selectedTopicNames':Array[_0x436896(0x35d)](_0x8f03b9)[_0x436896(0x921)](_0x4b4c26=>_0x4b4c26[_0x436896(0x6d4)])};}const _0x354f97=_0x50d8ab[_0x436896(0x3d7)]?'':_0x436896(0x261),_0x18eccf=_0x50d8ab[_0x436896(0x9b6)]!==_0x436896(0xc62)?'โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x50d8ab['difficultyValue']+'\x22':'',_0x5ee781=_0x50d8ab['complexityValue']!==_0x436896(0x7b0)?_0x436896(0x556)+_0x50d8ab[_0x436896(0x271)]+_0x436896(0xc3e):'';let _0x5da572='';_0x50d8ab['selectedTopicNames']&&_0x50d8ab[_0x436896(0xa15)][_0x436896(0x423)]>0x0&&(_0x5da572='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x50d8ab[_0x436896(0xa15)][_0x436896(0xa0a)](',\x20')+'.');let _0x263c38='';_0x277327&&(_0x263c38='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x1001a5='',_0x54c03e='',_0x2aa457,_0x30dd70=_0x436896(0x3ab)+_0x5278a5+'\x22';if(!_0x5278a5&&_0x36d460)_0x30dd70=_0x436896(0x7af);else!_0x5278a5&&!_0x36d460&&(_0x30dd70=_0x436896(0xb9c));const _0x179c91={'type':_0x436896(0x31f),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x436896(0x880),'items':{'type':_0x436896(0xc48)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x436896(0xc48)},'imageCode':{'type':_0x436896(0xc48)}},'required':[_0x436896(0xc1c),_0x436896(0x5a9),_0x436896(0x6c9),_0x436896(0x8dc)]},_0x2912e4={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x436896(0xc48)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x436896(0xc48)}},'required':[_0x436896(0xc1c),_0x436896(0x5c5),_0x436896(0x8dc)]},_0x99711c={'type':_0x436896(0x31f),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x436896(0xbbc),'short_answer']},'options':{'type':_0x436896(0x880),'items':{'type':_0x436896(0xc48)}},'correctAnswerIndex':{'type':_0x436896(0xbe5)},'idealAnswer':{'type':_0x436896(0xc48)},'explanation':{'type':_0x436896(0xc48)},'imageCode':{'type':_0x436896(0xc48)}},'required':[_0x436896(0xc1c),'questionType','explanation']},_0x3b26d1={'type':_0x436896(0x31f),'properties':{'questionText':{'type':_0x436896(0xc48)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x436896(0xc48)},'imageCode':{'type':_0x436896(0xc48)}},'required':[_0x436896(0xc1c),'correctAnswer',_0x436896(0x8dc)]},_0x4669c4={'type':_0x436896(0x31f),'properties':{'questionType':{'type':'STRING','enum':[_0x436896(0x8bb)]},'stem':{'type':_0x436896(0xc48)},'correctResponse':{'type':_0x436896(0xc48)},'allResponses':{'type':_0x436896(0x880),'items':{'type':_0x436896(0xc48)}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionType',_0x436896(0xc65),'correctResponse','allResponses',_0x436896(0x8dc)]};let _0x3b0988;if(_0x1336cc!==null){const _0x8bfe12=currentQuizData[_0x436896(0x288)][_0x1336cc]['questionType'],_0x1430f3=_0x50d8ab[_0x436896(0x536)]?_0x436896(0x469):'';_0x1001a5='สร้างคำถามใหม่\x201\x20ข้อ\x20'+_0x30dd70+'\x20'+_0x5da572+'\x20'+_0x18eccf+_0x436896(0x2a9)+_0x1430f3+'\x20'+simpleMathPrompt;if(_0x8bfe12===_0x436896(0xbbc))_0x2aa457=_0x179c91;else{if(_0x8bfe12==='matching_item')_0x2aa457={'type':_0x436896(0x31f),'properties':{'questionType':{'type':_0x436896(0xc48),'enum':['matching_item']},'stem':{'type':_0x436896(0xc48)},'correctResponse':{'type':_0x436896(0xc48)},'explanation':{'type':_0x436896(0xc48)},'imageCode':{'type':'STRING'}},'required':[_0x436896(0x704),'stem',_0x436896(0x4a4),_0x436896(0x8dc)]};else _0x2aa457=_0x2912e4;}_0x3b0988=_0x2aa457;}else{const _0x3f189d=_0x50d8ab['includeImages']?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x50d8ab[_0x436896(0x573)]){case _0x436896(0xbbc):_0x1001a5=_0x436896(0xa34)+_0x354f97+'\x20'+_0x50d8ab[_0x436896(0x721)]+_0x436896(0xc27)+_0x30dd70+'\x20'+_0x5da572+'\x20'+_0x18eccf+'\x20'+_0x5ee781+'\x20'+_0x263c38+'.\x20แต่ละข้อมี\x20'+_0x50d8ab[_0x436896(0xb1c)]+_0x436896(0x1b2)+_0x3f189d+'\x20'+simpleMathPrompt,_0x2aa457=_0x179c91;break;case _0x436896(0xadd):_0x1001a5=_0x436896(0x82d)+_0x354f97+'\x20'+_0x50d8ab[_0x436896(0x721)]+_0x436896(0xc27)+_0x30dd70+'\x20'+_0x5da572+'\x20'+_0x18eccf+'\x20'+_0x5ee781+'\x20'+_0x263c38+_0x436896(0x6ab)+_0x50d8ab['numChoices']+_0x436896(0xad6)+_0x3f189d+'\x20'+simpleMathPrompt,_0x2aa457=_0x179c91;break;case'fill_in_no_choices':_0x1001a5='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x354f97+'\x20'+_0x50d8ab[_0x436896(0x721)]+'\x20ข้อ\x20'+_0x30dd70+'\x20'+_0x5da572+'\x20'+_0x18eccf+'\x20'+_0x5ee781+'\x20'+_0x263c38+_0x436896(0x21e)+_0x3f189d+'\x20'+simpleMathPrompt,_0x2aa457=_0x2912e4;break;case _0x436896(0x7b0):_0x1001a5='สร้างแบบทดสอบ'+_0x354f97+'\x20'+_0x50d8ab[_0x436896(0x721)]+_0x436896(0xc27)+_0x30dd70+'\x20'+_0x5da572+'\x20'+_0x18eccf+'\x20'+_0x5ee781+'\x20'+_0x263c38+_0x436896(0x9fe)+_0x50d8ab['numChoices']+_0x436896(0xc59)+_0x3f189d+'\x20'+simpleMathPrompt+'.',_0x2aa457=_0x99711c;break;case _0x436896(0x421):_0x1001a5=_0x436896(0x43c)+_0x354f97+'\x20'+_0x50d8ab[_0x436896(0x721)]+'\x20ข้อ\x20'+_0x30dd70+'\x20'+_0x5da572+'\x20'+_0x18eccf+'\x20'+_0x5ee781+'\x20'+_0x263c38+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x3f189d+'\x20'+simpleMathPrompt,_0x2aa457=_0x3b26d1;break;case _0x436896(0x6ff):_0x1001a5=_0x436896(0xab8)+_0x354f97+'\x20'+_0x50d8ab[_0x436896(0x721)]+_0x436896(0x32d)+_0x30dd70+'\x20'+_0x5da572+'\x20'+_0x18eccf+'\x20'+_0x5ee781+'\x20'+_0x263c38+_0x436896(0x9be)+_0x3f189d+'\x20'+simpleMathPrompt,_0x2aa457=_0x4669c4;break;}_0x3b0988={'type':_0x436896(0x31f),'properties':{'topic':{'type':_0x436896(0xc48)},'questions':{'type':_0x436896(0x880),'items':_0x2aa457}},'required':[_0x436896(0x13e),_0x436896(0x288)]};}const _0x4798ed=_0x436896(0xb63);_0x36d460?(_0x2bee78?_0x1001a5='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x36d460+'\x22,\x20'+_0x1001a5+_0x4798ed:_0x1001a5='จากเนื้อหาต่อไปนี้:\x20\x22'+_0x36d460+'\x22,\x20'+_0x1001a5,_0x54c03e=_0x436896(0x483)):(_0x2bee78&&(_0x1001a5+=_0x4798ed),_0x54c03e=_0x436896(0xc1a));let _0x1f6414;return _0x277327?(_0x1f6414=[{'text':_0x1001a5},..._0x277327],_0x54c03e=_0x436896(0xc58)):_0x1f6414=_0x1001a5,handleApiCall(_0x1f6414,_0x54c03e,_0x3b0988,_0x1336cc,!![],_0x42fb6f,_0x2e2460);}async function generateQuizFromFile(_0x2322db,_0x4cd0f2){const _0x384d00=_0x3b29b2,_0xc0ee77=document[_0x384d00(0xa57)](_0x384d00(0x59e))[_0x384d00(0x6d4)][_0x384d00(0x9bb)](),_0x66e817=document[_0x384d00(0xa57)]('quiz-type-select')[_0x384d00(0x6d4)],_0x3b132f=document[_0x384d00(0xa57)](_0x384d00(0xbe7))[_0x384d00(0x6d4)],_0x507680=document['getElementById'](_0x384d00(0x3b4))['value'],_0x2de56b=document[_0x384d00(0xa57)](_0x384d00(0xa5e))[_0x384d00(0x354)],_0x2bad3a=document['getElementById'](_0x384d00(0x916))[_0x384d00(0x354)],_0x25b0dc=_0x2bad3a?'':_0x384d00(0x261),_0x3e5893=document[_0x384d00(0xa57)](_0x384d00(0x55e))[_0x384d00(0x354)];let _0x2a9323='',_0x26d2a0;const _0x29dfa5=_0x2de56b?_0x384d00(0xb85):'';if(_0x3e5893)_0x2a9323=_0x384d00(0x36f)+_0x29dfa5+'\x0a'+simpleMathPrompt+'\x0a',_0x26d2a0={'type':'OBJECT','properties':{'questionText':{'type':_0x384d00(0xc48)},'questionType':{'type':_0x384d00(0xc48),'enum':[_0x384d00(0xbbc),'short_answer','true_false',_0x384d00(0x8bb)]},'options':{'type':_0x384d00(0x880),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x384d00(0xc48)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x384d00(0xc48)},'correctResponse':{'type':_0x384d00(0xc48)},'allResponses':{'type':_0x384d00(0x880),'items':{'type':_0x384d00(0xc48)}},'explanation':{'type':_0x384d00(0xc48)},'imageCode':{'type':'STRING'}},'required':['questionType','explanation']};else{let _0x226c84=_0x384d00(0x3ab)+_0xc0ee77+'\x22';!_0xc0ee77&&(_0x226c84=_0x384d00(0xa87));switch(_0x66e817){case _0x384d00(0xbbc):_0x2a9323='สร้างแบบทดสอบปรนัย'+_0x25b0dc+'\x20'+_0x3b132f+_0x384d00(0xc27)+_0x226c84+_0x384d00(0xb3f)+_0x507680+_0x384d00(0x1b2)+_0x29dfa5+'\x20'+simpleMathPrompt,_0x26d2a0={'type':'OBJECT','properties':{'questionText':{'type':_0x384d00(0xc48)},'options':{'type':'ARRAY','items':{'type':_0x384d00(0xc48)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x384d00(0xc48)},'imageCode':{'type':_0x384d00(0xc48)}},'required':[_0x384d00(0xc1c),'options','correctAnswerIndex',_0x384d00(0x8dc)]};break;case _0x384d00(0xadd):_0x2a9323=_0x384d00(0x82d)+_0x25b0dc+'\x20'+_0x3b132f+_0x384d00(0xc27)+_0x226c84+_0x384d00(0x6ab)+_0x507680+_0x384d00(0xad6)+_0x29dfa5+'\x20'+simpleMathPrompt,_0x26d2a0={'type':_0x384d00(0x31f),'properties':{'questionText':{'type':_0x384d00(0xc48)},'options':{'type':_0x384d00(0x880),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x384d00(0xbe5)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x384d00(0xc48)}},'required':[_0x384d00(0xc1c),_0x384d00(0x5a9),_0x384d00(0x6c9),_0x384d00(0x8dc)]};break;case _0x384d00(0x7c4):_0x2a9323=_0x384d00(0x82d)+_0x25b0dc+'\x20'+_0x3b132f+_0x384d00(0xc27)+_0x226c84+_0x384d00(0xbd3)+_0x29dfa5+'\x20'+simpleMathPrompt,_0x26d2a0={'type':'OBJECT','properties':{'questionText':{'type':_0x384d00(0xc48)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText',_0x384d00(0x5c5),'explanation']};break;case _0x384d00(0x7b0):_0x2a9323=_0x384d00(0x9c4)+_0x25b0dc+'\x20'+_0x3b132f+_0x384d00(0xc27)+_0x226c84+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x507680+_0x384d00(0x612)+_0x29dfa5+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x26d2a0={'type':_0x384d00(0x31f),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x384d00(0xc48),'enum':['multiple_choice',_0x384d00(0x639)]},'options':{'type':_0x384d00(0x880),'items':{'type':_0x384d00(0xc48)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x384d00(0xc48)},'explanation':{'type':_0x384d00(0xc48)},'imageCode':{'type':_0x384d00(0xc48)}},'required':[_0x384d00(0xc1c),_0x384d00(0x704),_0x384d00(0x8dc)]};break;case _0x384d00(0x421):_0x2a9323=_0x384d00(0x43c)+_0x25b0dc+'\x20'+_0x3b132f+_0x384d00(0xc27)+_0x226c84+_0x384d00(0x23d)+_0x29dfa5+'\x20'+simpleMathPrompt,_0x26d2a0={'type':_0x384d00(0x31f),'properties':{'questionText':{'type':_0x384d00(0xc48)},'correctAnswer':{'type':_0x384d00(0x619)},'explanation':{'type':_0x384d00(0xc48)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x384d00(0x72d),_0x384d00(0x8dc)]};break;case _0x384d00(0x6ff):_0x2a9323=_0x384d00(0xab8)+_0x25b0dc+'\x20'+_0x3b132f+_0x384d00(0x32d)+_0x226c84+_0x384d00(0xa16)+_0x3b132f+_0x384d00(0x35e)+_0x29dfa5+'\x20'+simpleMathPrompt,_0x26d2a0={'type':_0x384d00(0x31f),'properties':{'questionType':{'type':_0x384d00(0xc48),'enum':[_0x384d00(0x8bb)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x384d00(0x880),'items':{'type':_0x384d00(0xc48)}},'explanation':{'type':_0x384d00(0xc48)},'imageCode':{'type':'STRING'}},'required':[_0x384d00(0x704),_0x384d00(0xc65),_0x384d00(0x4a4),_0x384d00(0x889),'explanation']};break;}}const _0x10e0e0={'type':'OBJECT','properties':{'topic':{'type':_0x384d00(0xc48)},'questions':{'type':_0x384d00(0x880),'items':_0x26d2a0}},'required':[_0x384d00(0x13e),_0x384d00(0x288)]},_0x52e2ae=_0x384d00(0x1a2)+_0x2a9323,_0x3590b3={'contents':[{'parts':[{'text':_0x52e2ae},{'inlineData':{'mimeType':_0x2322db,'data':_0x4cd0f2}}]}],'generationConfig':{'responseMimeType':_0x384d00(0xb66),'responseSchema':_0x10e0e0}};return handleApiCall(_0x3590b3[_0x384d00(0x926)][0x0][_0x384d00(0x7c5)],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x10e0e0);}async function handleApiCall(_0x5d7627,_0x183a4f,_0x15a8a3,_0x2d1192=null,_0x208bc3=!![],_0x216726=null,_0x34b412=null){const _0x5c0009=_0x3b29b2,_0x3675fa=document[_0x5c0009(0xa57)]('quiz-generation-area'),_0x502ec7=document[_0x5c0009(0xa57)]('loader'),_0x2c8e4a=document[_0x5c0009(0xa57)](_0x5c0009(0xb6d)),_0xeddf55=document[_0x5c0009(0xa57)](_0x5c0009(0xca2));_0x3675fa[_0x5c0009(0x6b0)][_0x5c0009(0xbb2)](_0x5c0009(0x3db));_0x2d1192===null&&_0x208bc3&&(_0xeddf55[_0x5c0009(0x2b3)]='');_0x502ec7['classList'][_0x5c0009(0xbb2)]('hidden'),_0x2c8e4a['textContent']=_0x183a4f,document[_0x5c0009(0xa57)](_0x5c0009(0x144))[_0x5c0009(0x267)]=!![],document[_0x5c0009(0xa57)](_0x5c0009(0x679))[_0x5c0009(0x267)]=!![],document[_0x5c0009(0xa57)]('generate-from-link-btn')['disabled']=!![];const _0x4baccd=document[_0x5c0009(0xa57)]('generate-from-file-btn');if(_0x4baccd)_0x4baccd[_0x5c0009(0x267)]=!![];const _0x4d6f00=document[_0x5c0009(0xa57)](_0x5c0009(0x987));if(_0x4d6f00)_0x4d6f00['disabled']=!![];const _0x2466fa=document[_0x5c0009(0xa57)]('generate-from-parallel-test-btn');if(_0x2466fa)_0x2466fa[_0x5c0009(0x267)]=!![];try{const _0x53135e=Array[_0x5c0009(0x6fe)](_0x5d7627)?_0x5d7627:[{'text':_0x5d7627}],_0x3295e4={'contents':[{'role':_0x5c0009(0x8fd),'parts':_0x53135e}]};_0x15a8a3&&(_0x3295e4[_0x5c0009(0x2da)]={'responseMimeType':'application/json','responseSchema':_0x15a8a3});const _0x5c550c=_0x5c0009(0x4a7),_0xc2b6a2=_0x5c0009(0x457)+_0x5c550c,_0x35bf60=await fetch(_0xc2b6a2,{'method':'POST','headers':{'Content-Type':_0x5c0009(0xb66)},'body':JSON['stringify'](_0x3295e4)});if(!_0x35bf60['ok']){const _0x55a117=await _0x35bf60[_0x5c0009(0x89a)]();console['error']('API\x20Error\x20Response:',_0x55a117);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x35bf60[_0x5c0009(0xbeb)]);}const _0x4be61a=await _0x35bf60[_0x5c0009(0x2aa)]();if(!_0x4be61a['candidates']||_0x4be61a[_0x5c0009(0xa0d)][_0x5c0009(0x423)]===0x0){let _0x24466f='AI\x20did\x20not\x20return\x20any\x20content.';return _0x4be61a[_0x5c0009(0x168)]?.[_0x5c0009(0xb4e)]&&(_0x24466f=_0x5c0009(0xa1d)+_0x4be61a[_0x5c0009(0x168)]['blockReason']+'.'),console[_0x5c0009(0xc93)](_0x24466f,JSON[_0x5c0009(0xc54)](_0x4be61a)),null;}const _0x35f0cb=_0x4be61a[_0x5c0009(0xa0d)][0x0][_0x5c0009(0x610)][_0x5c0009(0x7c5)][0x0][_0x5c0009(0x89a)];if(_0x15a8a3){let _0x2c752e=_0x35f0cb;if(_0x2c752e['startsWith'](_0x5c0009(0xb7c)))_0x2c752e=_0x2c752e[_0x5c0009(0x333)](0x7,_0x2c752e[_0x5c0009(0x423)]-0x3)[_0x5c0009(0x9bb)]();else _0x2c752e[_0x5c0009(0x6c6)](_0x5c0009(0x1f2))&&(_0x2c752e=_0x2c752e[_0x5c0009(0x333)](0x3,_0x2c752e[_0x5c0009(0x423)]-0x3)[_0x5c0009(0x9bb)]());let _0x3cba58=JSON[_0x5c0009(0x5f1)](_0x2c752e);if(_0x208bc3){if(_0x2d1192!==null){}else currentQuizData=_0x3cba58,displayGeneratedQuiz(currentQuizData,_0x216726,_0x34b412);}return _0x3cba58;}else return _0x35f0cb;}catch(_0xb7efa8){console['error']('Error\x20in\x20handleApiCall:',_0xb7efa8),showMessage('เกิดข้อผิดพลาดในการสร้าง:\x20'+_0xb7efa8[_0x5c0009(0x8df)]);_0x208bc3&&(_0xeddf55[_0x5c0009(0x2b3)]=_0x5c0009(0x663));throw _0xb7efa8;}finally{_0x502ec7['classList']['add'](_0x5c0009(0x3db)),document[_0x5c0009(0xa57)](_0x5c0009(0x144))['disabled']=![],document[_0x5c0009(0xa57)](_0x5c0009(0x679))[_0x5c0009(0x267)]=![],document[_0x5c0009(0xa57)]('generate-from-link-btn')[_0x5c0009(0x267)]=![];if(_0x4baccd)_0x4baccd['disabled']=![];if(_0x4d6f00)_0x4d6f00['disabled']=![];if(_0x2466fa)_0x2466fa[_0x5c0009(0x267)]=![];}}function exitFullscreen(){const _0x3a5aa2=_0x3b29b2;if(document[_0x3a5aa2(0x837)])document[_0x3a5aa2(0x837)]()[_0x3a5aa2(0xc9f)](_0x3ba9fb=>console['error'](_0x3ba9fb));else{if(document[_0x3a5aa2(0x7b5)])document[_0x3a5aa2(0x7b5)]();else document['msExitFullscreen']&&document['msExitFullscreen']();}}function enterFullscreen(){const _0x815eaa=_0x3b29b2,_0x4d18b4=document[_0x815eaa(0x8f2)];if(_0x4d18b4[_0x815eaa(0x5c1)])_0x4d18b4[_0x815eaa(0x5c1)]()[_0x815eaa(0xc9f)](_0x37379a=>{const _0x1307fb=_0x815eaa;console['error'](_0x1307fb(0x49a)+_0x37379a['message']+'\x20('+_0x37379a[_0x1307fb(0xc6f)]+')');});else{if(_0x4d18b4[_0x815eaa(0x2ab)])_0x4d18b4['webkitRequestFullscreen']();else _0x4d18b4['msRequestFullscreen']&&_0x4d18b4[_0x815eaa(0x23c)]();}}function handleCheatingEvent(){const _0x16890a=_0x3b29b2;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent('screen_exit',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+'\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ'),document[_0x16890a(0xa57)](_0x16890a(0xbfc))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document['removeEventListener'](_0x16890a(0x6bd),handleVisibilityChange),document[_0x16890a(0xbf9)](_0x16890a(0x211),handleFullscreenChange)):showMessage(_0x16890a(0x810)+cheatAttempts+'/'+maxCheatAttempts+_0x16890a(0xb1d),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x13246c=_0x3b29b2;if(currentMode===_0x13246c(0x9e4)||!isQuizActive)return;if(document['visibilityState']===_0x13246c(0x3db))handleCheatingEvent();else document[_0x13246c(0x511)]==='visible'&&(console[_0x13246c(0x886)](_0x13246c(0x9ae)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x10a11a=_0x3b29b2;if(currentMode===_0x10a11a(0x9e4)||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x4f74d6,_0xcd3797=null,_0x51ff5e=null){const _0x4549c1=_0x3b29b2,_0x14c1e7=document[_0x4549c1(0xa57)](_0x4549c1(0xca2));let _0x3baeb6=_0x4549c1(0x20c)+_0x4f74d6[_0x4549c1(0x13e)]+_0x4549c1(0x4e8);_0x4f74d6[_0x4549c1(0x288)][_0x4549c1(0x9aa)]((_0x86b6c,_0x1a0527)=>{const _0x20960c=_0x4549c1;!_0x86b6c['id']&&(_0x86b6c['id']='q_'+Date[_0x20960c(0x8d7)]()+'_'+_0x1a0527);const _0x52519a=_0x86b6c[_0x20960c(0x704)]||_0x4f74d6[_0x20960c(0x573)];_0x3baeb6+=_0x20960c(0x681)+_0x1a0527+_0x20960c(0x685)+_0x1a0527+_0x20960c(0x164)+_0x1a0527+_0x20960c(0x75c);switch(_0x52519a){case _0x20960c(0x8bb):_0x3baeb6+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x1a0527+'\x22>'+(_0x1a0527+0x1)+'.\x20'+_0x86b6c['stem']+_0x20960c(0x240);_0x86b6c['imageCode']&&(_0x3baeb6+='<div\x20id=\x22q-image-container-'+_0x1a0527+_0x20960c(0x62c)+_0x86b6c['imageCode']+_0x20960c(0xaa5));_0x3baeb6+=_0x20960c(0xa42)+_0x1a0527+'\x22>'+_0x86b6c[_0x20960c(0x4a4)]+'</span></div>',_0x3baeb6+=_0x20960c(0x607)+_0x1a0527+'\x22>'+_0x86b6c[_0x20960c(0x8dc)]+_0x20960c(0xc12);break;case _0x20960c(0x639):_0x3baeb6+=_0x20960c(0x9f9)+_0x1a0527+'\x22>'+(_0x1a0527+0x1)+'.\x20'+_0x86b6c[_0x20960c(0xc1c)]+_0x20960c(0x240);_0x86b6c['imageCode']&&(_0x3baeb6+=_0x20960c(0x2db)+_0x1a0527+_0x20960c(0x62c)+_0x86b6c['imageCode']+_0x20960c(0xaa5));_0x3baeb6+='<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-'+_0x1a0527+'\x22>'+_0x86b6c[_0x20960c(0x5c5)]+_0x20960c(0xc12),_0x3baeb6+=_0x20960c(0x607)+_0x1a0527+'\x22>'+_0x86b6c[_0x20960c(0x8dc)]+'</span></div>';break;case _0x20960c(0x421):_0x3baeb6+=_0x20960c(0x9f9)+_0x1a0527+'\x22>'+(_0x1a0527+0x1)+'.\x20'+_0x86b6c['questionText']+'</p>';_0x86b6c['imageCode']&&(_0x3baeb6+=_0x20960c(0x2db)+_0x1a0527+_0x20960c(0x62c)+_0x86b6c['imageCode']+_0x20960c(0xaa5));_0x3baeb6+=_0x20960c(0xc6d)+(_0x86b6c[_0x20960c(0x72d)]===!![]?'text-green-600\x20font-bold':'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x86b6c[_0x20960c(0x72d)]===![]?_0x20960c(0x7f8):'')+_0x20960c(0xac3),_0x3baeb6+=_0x20960c(0x607)+_0x1a0527+'\x22>'+_0x86b6c[_0x20960c(0x8dc)]+_0x20960c(0xc12);break;case _0x20960c(0x14a):case _0x20960c(0xbbc):default:_0x3baeb6+=_0x20960c(0x9f9)+_0x1a0527+'\x22>'+(_0x1a0527+0x1)+'.\x20'+_0x86b6c[_0x20960c(0xc1c)]+_0x20960c(0x240);_0x86b6c[_0x20960c(0xa5d)]&&(_0x3baeb6+='<div\x20id=\x22q-image-container-'+_0x1a0527+_0x20960c(0x62c)+_0x86b6c['imageCode']+_0x20960c(0xaa5));_0x3baeb6+=_0x20960c(0x2e1)+_0x1a0527+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x86b6c[_0x20960c(0x5a9)]||[])['map']((_0x2f13ea,_0x1832f5)=>_0x20960c(0x969)+(_0x1832f5===_0x86b6c[_0x20960c(0x6c9)]?_0x20960c(0x7f8):'')+'\x22>'+_0x2f13ea+_0x20960c(0x61b))[_0x20960c(0xa0a)]('')+_0x20960c(0xc8a),_0x3baeb6+=_0x20960c(0x607)+_0x1a0527+'\x22>'+_0x86b6c[_0x20960c(0x8dc)]+_0x20960c(0xc12);break;}_0x3baeb6+=_0x20960c(0xaa5);}),_0x3baeb6+=_0x4549c1(0xb04),_0x14c1e7[_0x4549c1(0x2b3)]=_0x3baeb6,document[_0x4549c1(0x3cf)](_0x4549c1(0x977))['forEach'](_0x154760=>_0x154760[_0x4549c1(0x3f4)](_0x4549c1(0x1b1),handleEditQuestion)),document[_0x4549c1(0x3cf)](_0x4549c1(0x698))[_0x4549c1(0x9aa)](_0x54c431=>_0x54c431[_0x4549c1(0x3f4)](_0x4549c1(0x1b1),handleRegenerateQuestion)),document[_0x4549c1(0xa57)](_0x4549c1(0x61d))[_0x4549c1(0x3f4)](_0x4549c1(0x1b1),exportQuizAsWorksheetPDF),document['getElementById'](_0x4549c1(0x5ef))[_0x4549c1(0x3f4)](_0x4549c1(0x1b1),handleVerifyAnswers);const _0x24c0c0=document[_0x4549c1(0xa57)](_0x4549c1(0x992));if(_0x24c0c0){const _0x31351b=_0xcd3797||currentProjectId;_0x24c0c0[_0x4549c1(0x3f4)](_0x4549c1(0x1b1),()=>saveQuiz(_0x31351b,_0x51ff5e));}if(window[_0x4549c1(0x49e)])window[_0x4549c1(0x49e)][_0x4549c1(0x13d)]([_0x14c1e7]);}function handleRegenerateQuestion(_0x4e2b7b){const _0x566509=_0x3b29b2,_0x2aab52=_0x4e2b7b[_0x566509(0xb51)]['dataset'][_0x566509(0xb52)],_0x23d585=currentQuizData[_0x566509(0x13e)];showMessage(_0x566509(0x489)+(parseInt(_0x2aab52)+0x1)+'\x20ใหม่...'),generateQuiz(_0x23d585,null,parseInt(_0x2aab52));}function getPointerPosition(_0x276d4e,_0x4cd515){const _0x1fba0b=_0x3b29b2,_0x263d7a=_0x276d4e[_0x1fba0b(0x6cb)]();let _0x1d3784,_0x3e1d31;return _0x4cd515[_0x1fba0b(0xae7)]&&_0x4cd515[_0x1fba0b(0xae7)][_0x1fba0b(0x423)]>0x0?(_0x1d3784=_0x4cd515['touches'][0x0][_0x1fba0b(0x17a)],_0x3e1d31=_0x4cd515['touches'][0x0][_0x1fba0b(0x583)]):(_0x1d3784=_0x4cd515[_0x1fba0b(0x17a)],_0x3e1d31=_0x4cd515['clientY']),{'x':(_0x1d3784-_0x263d7a['e'])/_0x263d7a['a'],'y':(_0x3e1d31-_0x263d7a['f'])/_0x263d7a['d']};}function startDrag(_0x1f15c7){const _0xb58073=_0x3b29b2;_0x1f15c7['type']===_0xb58073(0xb39)&&_0x1f15c7[_0xb58073(0x206)]();const _0x506ec4=_0x1f15c7[_0xb58073(0x408)]['closest']('.draggable-text');if(_0x506ec4){draggedSvgElement=_0x506ec4;const _0x5a5d1f=draggedSvgElement[_0xb58073(0xab7)],_0x7d89e=getPointerPosition(_0x5a5d1f,_0x1f15c7);svgOffset['x']=_0x7d89e['x']-parseFloat(draggedSvgElement[_0xb58073(0x714)](null,'x')),svgOffset['y']=_0x7d89e['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x405c12,_0x4f60e9){const _0x1a1b4c=_0x3b29b2,_0x54baa2={};if(_0x4f60e9['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x56ba26=[..._0x4f60e9][_0x1a1b4c(0x445)]((_0x4986e5,_0xe2a499)=>{const _0x4028a8=_0x1a1b4c,_0x46d03a=_0xe2a499[_0x4028a8(0x55c)]-_0x4986e5[_0x4028a8(0x55c)];if(_0x46d03a!==0x0)return _0x46d03a;const _0x597ee2=_0x4986e5[_0x4028a8(0x170)]?.[_0x4028a8(0x423)]||0x1,_0x232ba8=_0xe2a499[_0x4028a8(0x170)]?.[_0x4028a8(0x423)]||0x1,_0x32d103=_0x597ee2-_0x232ba8;if(_0x32d103!==0x0)return _0x32d103;const _0x1f8c16=new Date(_0x4986e5[_0x4028a8(0x98a)]),_0x15f850=new Date(_0xe2a499[_0x4028a8(0x98a)]),_0x2789d8=_0x1f8c16-_0x15f850;if(_0x2789d8!==0x0)return _0x2789d8;return _0x4986e5[_0x4028a8(0xc97)][_0x4028a8(0x843)](_0xe2a499[_0x4028a8(0xc97)],'th');}),_0x375400=_0x56ba26['length'],_0x228405=Math['max'](0x1,Math['floor'](_0x375400*0.33));if(_0x228405===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x5cc458=_0x56ba26[_0x1a1b4c(0x20e)](0x0,_0x228405),_0x4d5695=_0x56ba26['slice'](-_0x228405),_0x22e97d=_0x5cc458['map'](_0x26f2ae=>_0x26f2ae[_0x1a1b4c(0xc97)]),_0xffbb54=_0x4d5695[_0x1a1b4c(0x921)](_0x3cce46=>_0x3cce46['studentName']);return _0x405c12['questions'][_0x1a1b4c(0x9aa)]((_0x14b948,_0x39d1a9)=>{const _0x455a06=_0x1a1b4c,_0x328c36=_0x14b948[_0x455a06(0xc65)]||_0x14b948[_0x455a06(0xc1c)];let _0x13874a=0x0,_0x3e3bef=0x0,_0x131c76=0x0;const _0x2bc28f=[],_0x513270=[];_0x5cc458[_0x455a06(0x9aa)](_0x591d9f=>{const _0x54465f=_0x455a06,_0x3afc3d=_0x591d9f[_0x54465f(0x170)][_0x591d9f[_0x54465f(0x170)][_0x54465f(0x423)]-0x1],_0x45e80c=_0x3afc3d['answers']['find'](_0x1a993b=>_0x1a993b[_0x54465f(0x117)]===_0x328c36);_0x2bc28f[_0x54465f(0x4aa)]({'name':_0x591d9f[_0x54465f(0xc97)],'isCorrect':_0x45e80c?_0x45e80c[_0x54465f(0x3e2)]:![]}),_0x45e80c&&_0x45e80c[_0x54465f(0x3e2)]&&_0x3e3bef++;}),_0x4d5695['forEach'](_0x1777a9=>{const _0x23dd54=_0x455a06,_0xd026a8=_0x1777a9[_0x23dd54(0x170)][_0x1777a9[_0x23dd54(0x170)]['length']-0x1],_0x3f6586=_0xd026a8[_0x23dd54(0x854)][_0x23dd54(0xc0d)](_0x25d08b=>_0x25d08b[_0x23dd54(0x117)]===_0x328c36);_0x513270[_0x23dd54(0x4aa)]({'name':_0x1777a9[_0x23dd54(0xc97)],'isCorrect':_0x3f6586?_0x3f6586['isCorrect']:![]}),_0x3f6586&&_0x3f6586[_0x23dd54(0x3e2)]&&_0x131c76++;}),_0x4f60e9['forEach'](_0x2025d3=>{const _0x3cbafa=_0x455a06,_0x1531c5=_0x2025d3[_0x3cbafa(0x170)][_0x2025d3[_0x3cbafa(0x170)][_0x3cbafa(0x423)]-0x1],_0x2bcbd8=_0x1531c5['answers']['find'](_0x1bf526=>_0x1bf526[_0x3cbafa(0x117)]===_0x328c36);_0x2bcbd8&&_0x2bcbd8[_0x3cbafa(0x3e2)]&&_0x13874a++;});const _0x5d11e=_0x375400>0x0?_0x13874a/_0x375400:0x0,_0x2d3dae=_0x228405>0x0?_0x3e3bef/_0x228405-_0x131c76/_0x228405:0x0;_0x54baa2[_0x39d1a9]={'p':_0x5d11e,'r':_0x2d3dae,'upperGroupResponders':_0x2bc28f,'lowerGroupResponders':_0x513270};}),{'perQuestionStats':_0x54baa2,'overallGroups':{'upperGroupNames':_0x22e97d,'lowerGroupNames':_0xffbb54}};}function drag(_0x21507f){const _0x4d0469=_0x3b29b2;if(draggedSvgElement){_0x21507f['preventDefault']();const _0x42e6d6=draggedSvgElement[_0x4d0469(0xab7)],_0x173c28=getPointerPosition(_0x42e6d6,_0x21507f),_0xb94526=_0x42e6d6[_0x4d0469(0xb4b)][_0x4d0469(0x230)];let _0x66b6d=_0x173c28['x']-svgOffset['x'],_0x4c1626=_0x173c28['y']-svgOffset['y'];const _0x2c1478=draggedSvgElement[_0x4d0469(0x1e4)]();_0x66b6d=Math['max'](_0xb94526['x'],Math[_0x4d0469(0x2b9)](_0x66b6d,_0xb94526['x']+_0xb94526[_0x4d0469(0x159)]-_0x2c1478['width'])),_0x4c1626=Math['max'](_0xb94526['y'],Math['min'](_0x4c1626,_0xb94526['y']+_0xb94526[_0x4d0469(0x4bd)]-_0x2c1478[_0x4d0469(0x4bd)])),draggedSvgElement[_0x4d0469(0x204)](null,'x',_0x66b6d),draggedSvgElement[_0x4d0469(0x204)](null,'y',_0x4c1626);}}function endDrag(_0x389c05){draggedSvgElement=null;}function handleSvgEditClick(_0x25d362){const _0x451dd9=_0x3b29b2;if(_0x25d362['target'][_0x451dd9(0x6b0)]['contains'](_0x451dd9(0xb17))){const _0x34d929=_0x25d362[_0x451dd9(0x408)]['dataset'][_0x451dd9(0x358)],_0x545a92=_0x25d362[_0x451dd9(0xb51)],_0x410ff0=_0x545a92[_0x451dd9(0x1c1)]('#'+_0x34d929);_0x410ff0&&_0x410ff0[_0x451dd9(0xbb2)](),_0x25d362[_0x451dd9(0x408)][_0x451dd9(0xbb2)]();}}function handleEditQuestion(_0x3983ee){const _0x9bf355=_0x3b29b2,_0x328c46=_0x3983ee['currentTarget'],_0x54e6da=_0x328c46[_0x9bf355(0x43d)][_0x9bf355(0xb52)],_0x46a146=currentQuizData[_0x9bf355(0x288)][_0x54e6da],_0x3ba527=document[_0x9bf355(0xa57)](_0x9bf355(0x35c)+_0x54e6da),_0x507310=document[_0x9bf355(0xa57)](_0x9bf355(0x186)+_0x54e6da),_0x17e9d8=document[_0x9bf355(0xa57)]('q-image-container-'+_0x54e6da);if(_0x328c46[_0x9bf355(0x2b3)][_0x9bf355(0x4c8)](_0x9bf355(0xa18))){_0x328c46[_0x9bf355(0x2b3)]=_0x9bf355(0x8e8),_0x328c46[_0x9bf355(0xa1c)]=_0x9bf355(0xa0c);if(_0x3ba527)_0x3ba527[_0x9bf355(0x15d)]=!![];if(_0x507310)_0x507310[_0x9bf355(0x15d)]=!![];if(_0x17e9d8){const _0x596373=_0x17e9d8[_0x9bf355(0x1c1)]('svg');if(_0x596373){const _0x3c98df=_0x596373[_0x9bf355(0x3cf)](_0x9bf355(0x89a));_0x3c98df[_0x9bf355(0x9aa)]((_0x3ee306,_0x26fb2d)=>{const _0x45cf81=_0x9bf355,_0x19d89f=_0x45cf81(0xb20)+_0x54e6da+'-'+_0x26fb2d;_0x3ee306['id']=_0x19d89f,_0x3ee306[_0x45cf81(0x6b0)][_0x45cf81(0xb35)](_0x45cf81(0x74d)),_0x3ee306['style']['cursor']=_0x45cf81(0x5c0);const _0x4d8ce8=document[_0x45cf81(0x982)](_0x45cf81(0x335),_0x45cf81(0x414)),_0xfddf53=_0x3ee306['getBBox']();_0x4d8ce8[_0x45cf81(0x950)]('cx',String(_0xfddf53['x']+_0xfddf53[_0x45cf81(0x159)]+0x5)),_0x4d8ce8[_0x45cf81(0x950)]('cy',String(_0xfddf53['y']+_0xfddf53['height']/0x2-0x5)),_0x4d8ce8[_0x45cf81(0x950)]('r','5'),_0x4d8ce8[_0x45cf81(0x950)](_0x45cf81(0x2f5),_0x45cf81(0xaf6)),_0x4d8ce8[_0x45cf81(0x950)](_0x45cf81(0x2a6),_0x45cf81(0xb17)),_0x4d8ce8[_0x45cf81(0x43d)][_0x45cf81(0x358)]=_0x19d89f,_0x3ee306[_0x45cf81(0x6f4)](_0x4d8ce8);}),_0x596373[_0x9bf355(0x3f4)]('mousedown',startDrag),_0x596373['addEventListener'](_0x9bf355(0x632),drag),_0x596373['addEventListener'](_0x9bf355(0xc46),endDrag),_0x596373[_0x9bf355(0x3f4)]('mouseleave',endDrag),_0x596373['addEventListener'](_0x9bf355(0xb39),startDrag,{'passive':![]}),_0x596373[_0x9bf355(0x3f4)]('touchmove',drag,{'passive':![]}),_0x596373[_0x9bf355(0x3f4)](_0x9bf355(0xca7),endDrag),_0x596373[_0x9bf355(0x3f4)](_0x9bf355(0x51d),endDrag),_0x596373[_0x9bf355(0x3f4)](_0x9bf355(0x1b1),handleSvgEditClick);}}if(_0x3ba527)_0x3ba527[_0x9bf355(0xac9)]();}else{_0x328c46[_0x9bf355(0x2b3)]='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x328c46[_0x9bf355(0xa1c)]=_0x9bf355(0x5ad);if(_0x3ba527){_0x3ba527[_0x9bf355(0x15d)]=![];const _0xdfad99=_0x46a146[_0x9bf355(0x704)]||currentQuizData['quizType'];_0xdfad99===_0x9bf355(0x8bb)?_0x46a146[_0x9bf355(0xc65)]=_0x3ba527['innerText'][_0x9bf355(0x333)](_0x3ba527[_0x9bf355(0x70a)][_0x9bf355(0x61c)]('.')+0x2)['trim']():_0x46a146[_0x9bf355(0xc1c)]=_0x3ba527[_0x9bf355(0x70a)][_0x9bf355(0x333)](_0x3ba527['innerText'][_0x9bf355(0x61c)]('.')+0x2)[_0x9bf355(0x9bb)]();}_0x507310&&(_0x507310[_0x9bf355(0x15d)]=![],_0x46a146[_0x9bf355(0x8dc)]=_0x507310['innerText']);if(_0x17e9d8){const _0x4ca282=_0x17e9d8[_0x9bf355(0x1c1)](_0x9bf355(0x221));if(_0x4ca282){const _0x24d4c0=_0x4ca282[_0x9bf355(0x2d1)](!![]);_0x24d4c0[_0x9bf355(0x3cf)](_0x9bf355(0x8bf))[_0x9bf355(0x9aa)](_0x35aeca=>_0x35aeca[_0x9bf355(0xbb2)]()),_0x24d4c0['querySelectorAll'](_0x9bf355(0x5c6))[_0x9bf355(0x9aa)](_0x14bec8=>{const _0xabe5d8=_0x9bf355;_0x14bec8['classList'][_0xabe5d8(0xbb2)](_0xabe5d8(0x74d)),_0x14bec8[_0xabe5d8(0xb97)][_0xabe5d8(0x434)]=_0xabe5d8(0x563),_0x14bec8[_0xabe5d8(0x19d)]('id');}),_0x46a146[_0x9bf355(0xa5d)]=_0x24d4c0['outerHTML'],_0x4ca282[_0x9bf355(0xbf9)](_0x9bf355(0xb3a),startDrag),_0x4ca282['removeEventListener'](_0x9bf355(0x632),drag),_0x4ca282[_0x9bf355(0xbf9)](_0x9bf355(0xc46),endDrag),_0x4ca282[_0x9bf355(0xbf9)](_0x9bf355(0x5a1),endDrag),_0x4ca282[_0x9bf355(0xbf9)](_0x9bf355(0xb39),startDrag),_0x4ca282[_0x9bf355(0xbf9)](_0x9bf355(0x36c),drag),_0x4ca282[_0x9bf355(0xbf9)](_0x9bf355(0xca7),endDrag),_0x4ca282[_0x9bf355(0xbf9)]('touchcancel',endDrag),_0x4ca282[_0x9bf355(0xbf9)](_0x9bf355(0x1b1),handleSvgEditClick),_0x4ca282[_0x9bf355(0x3cf)]('.delete-svg-btn')[_0x9bf355(0x9aa)](_0x1c52be=>_0x1c52be[_0x9bf355(0xbb2)]()),_0x4ca282[_0x9bf355(0x3cf)](_0x9bf355(0x5c6))[_0x9bf355(0x9aa)](_0x213776=>{const _0x3f00f=_0x9bf355;_0x213776[_0x3f00f(0x6b0)][_0x3f00f(0xbb2)](_0x3f00f(0x74d)),_0x213776[_0x3f00f(0xb97)][_0x3f00f(0x434)]='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x3b26c8){const _0x1d3016=_0x3b29b2,_0x471b7b=document[_0x1d3016(0xa57)](_0x1d3016(0x7bc)),_0x2baafa=document[_0x1d3016(0xa57)](_0x1d3016(0x6ba));_0x2baafa['innerHTML']=_0x1d3016(0xa68),_0x471b7b['classList'][_0x1d3016(0xbb2)](_0x1d3016(0x3db));try{const _0x2e188e=doc(db,_0x1d3016(0xb79)+appId+'/public/data/quizzes',_0x3b26c8),_0x53c2fe=await getDoc(_0x2e188e);if(!_0x53c2fe[_0x1d3016(0xb65)]())throw new Error(_0x1d3016(0x589));currentEditingQuizData={'id':_0x3b26c8,..._0x53c2fe[_0x1d3016(0x7a6)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x4b2ca2){console[_0x1d3016(0xc93)](_0x1d3016(0x37f),_0x4b2ca2),showMessage('เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ'),_0x471b7b[_0x1d3016(0x6b0)][_0x1d3016(0xb35)]('hidden');}}function renderQuizEditor(_0x48d5cf){const _0x5e021e=_0x3b29b2;document[_0x5e021e(0xa57)]('editor-quiz-topic')[_0x5e021e(0x6d4)]=_0x48d5cf[_0x5e021e(0x13e)];const _0x360ce1=document[_0x5e021e(0xa57)](_0x5e021e(0x6ba));let _0x4720d4=_0x48d5cf[_0x5e021e(0x288)][_0x5e021e(0x921)]((_0x5a927a,_0x67d054)=>{const _0x5be779=_0x5e021e;let _0x9eb6b2='';const _0x57a17a=_0x5a927a[_0x5be779(0x704)]||_0x48d5cf['quizType'];switch(_0x57a17a){case _0x5be779(0xbbc):const _0x41e30c=(_0x5a927a[_0x5be779(0x5a9)]||[])['map']((_0x5c148e,_0x1bf351)=>_0x5be779(0xa86)+_0x67d054+_0x5be779(0x9c0)+_0x1bf351+'\x22\x20'+(_0x1bf351===_0x5a927a[_0x5be779(0x6c9)]?_0x5be779(0x354):'')+_0x5be779(0x71f)+_0x5c148e+_0x5be779(0x688))['join']('');_0x9eb6b2=_0x5be779(0xbbf)+_0x41e30c+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x5be779(0x639):_0x9eb6b2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x5a927a[_0x5be779(0x5c5)]||'')+_0x5be779(0xb06);break;case _0x5be779(0x421):_0x9eb6b2=_0x5be779(0x55b)+_0x67d054+_0x5be779(0x879)+(_0x5a927a['correctAnswer']===!![]?'checked':'')+_0x5be779(0xb62)+_0x67d054+'\x22\x20value=\x22false\x22\x20'+(_0x5a927a['correctAnswer']===![]?_0x5be779(0x354):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'matching_item':_0x9eb6b2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x5a927a['correctResponse']||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}const _0x212067=_0x5a927a[_0x5be779(0xc1c)]||_0x5a927a['stem']||'';return _0x5be779(0x3fb)+_0x67d054+_0x5be779(0xa55)+_0x57a17a+_0x5be779(0x361)+(_0x67d054+0x1)+'\x20('+_0x57a17a+_0x5be779(0x176)+_0x212067+_0x5be779(0x150)+_0x9eb6b2+_0x5be779(0x20a);})[_0x5e021e(0xa0a)]('');_0x360ce1['innerHTML']=_0x4720d4,_0x360ce1[_0x5e021e(0x3cf)](_0x5e021e(0xb5f))[_0x5e021e(0x9aa)](_0x4016d6=>{_0x4016d6['addEventListener']('click',handleAiFixQuestion);});}async function handleAiFixQuestion(_0x5835a5){const _0x16c6a9=_0x3b29b2,_0xb511a2=_0x5835a5[_0x16c6a9(0xb51)],_0x41d12c=_0xb511a2['closest']('.question-editor-item');if(!_0x41d12c)return;const _0x1dc805=parseInt(_0x41d12c['dataset'][_0x16c6a9(0x42f)],0xa);if(isNaN(_0x1dc805)||!currentEditingQuizData['questions'][_0x1dc805]){showMessage(_0x16c6a9(0xbc4));return;}const _0x251f23=currentEditingQuizData[_0x16c6a9(0x288)][_0x1dc805];_0xb511a2[_0x16c6a9(0x2b3)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0xb511a2[_0x16c6a9(0x267)]=!![];const _0x170bf2=_0x16c6a9(0x38c)+JSON[_0x16c6a9(0xc54)](_0x251f23)+_0x16c6a9(0x4c2);let _0x24d56a;const _0x306141=_0x251f23[_0x16c6a9(0x704)]||currentEditingQuizData['quizType'];switch(_0x306141){case _0x16c6a9(0x639):_0x24d56a={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x16c6a9(0xc48)},'imageCode':{'type':_0x16c6a9(0xc48)}},'required':[_0x16c6a9(0xc1c),'idealAnswer',_0x16c6a9(0x8dc)]};break;case'multiple_choice':default:_0x24d56a={'type':_0x16c6a9(0x31f),'properties':{'questionText':{'type':_0x16c6a9(0xc48)},'options':{'type':'ARRAY','items':{'type':_0x16c6a9(0xc48)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x16c6a9(0xc48)},'imageCode':{'type':'STRING'}},'required':[_0x16c6a9(0xc1c),_0x16c6a9(0x5a9),_0x16c6a9(0x6c9),_0x16c6a9(0x8dc)]};break;}try{let _0x3a12b6=await callAnalysisApi(_0x170bf2,_0x24d56a);_0x3a12b6[_0x16c6a9(0x5a9)]&&Array[_0x16c6a9(0x6fe)](_0x3a12b6['options'])&&(_0x3a12b6['options']=_0x3a12b6[_0x16c6a9(0x5a9)][_0x16c6a9(0x921)](_0x11805c=>typeof _0x11805c===_0x16c6a9(0x8dd)?_0x11805c[_0x16c6a9(0xb5a)](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0x11805c)),_0x251f23[_0x16c6a9(0xa5d)]&&_0x251f23[_0x16c6a9(0xa5d)][_0x16c6a9(0x4c8)](_0x16c6a9(0x529))&&(_0x3a12b6[_0x16c6a9(0xa5d)]=''),currentEditingQuizData[_0x16c6a9(0x288)][_0x1dc805]={..._0x251f23,..._0x3a12b6},renderQuizEditor(currentEditingQuizData),showMessage(_0x16c6a9(0x6c8));}catch(_0x10ddc3){console[_0x16c6a9(0xc93)](_0x16c6a9(0x665),_0x10ddc3),showMessage(_0x16c6a9(0x917)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x24c60e=_0x3b29b2,_0x18e64d=document[_0x24c60e(0xa57)]('save-quiz-edits-btn');_0x18e64d[_0x24c60e(0x267)]=!![],_0x18e64d[_0x24c60e(0x2b3)]=_0x24c60e(0xaba);try{const _0x5ec901=document[_0x24c60e(0xa57)](_0x24c60e(0xae5))[_0x24c60e(0x6d4)],_0x39ab47=document[_0x24c60e(0x3cf)](_0x24c60e(0x49b));let _0x40ab8e=[];const _0x1fcbfb=Array[_0x24c60e(0x35d)](_0x39ab47)['map']((_0xf49324,_0x56f5ab)=>{const _0x5deba4=_0x24c60e,_0x48f2c0=_0xf49324[_0x5deba4(0x43d)][_0x5deba4(0x1b6)],_0x394f5f=_0xf49324[_0x5deba4(0x1c1)](_0x5deba4(0x3e8))[_0x5deba4(0x6d4)]['replace'](/\n/g,_0x5deba4(0x752));let _0x1726dc={'questionType':_0x48f2c0};const _0x2330af=currentEditingQuizData[_0x5deba4(0x288)][_0x56f5ab];switch(_0x48f2c0){case _0x5deba4(0xbbc):_0x1726dc['questionText']=_0x394f5f;const _0x1237c6=_0xf49324[_0x5deba4(0x3cf)]('input[type=\x22text\x22]');_0x1726dc[_0x5deba4(0x5a9)]=Array[_0x5deba4(0x35d)](_0x1237c6)[_0x5deba4(0x921)](_0x5f128f=>_0x5f128f[_0x5deba4(0x6d4)]);const _0x95528e=_0xf49324[_0x5deba4(0x1c1)](_0x5deba4(0x248));_0x1726dc[_0x5deba4(0x6c9)]=_0x95528e?parseInt(_0x95528e[_0x5deba4(0x6d4)]):0x0;break;case _0x5deba4(0x639):_0x1726dc['questionText']=_0x394f5f,_0x1726dc[_0x5deba4(0x5c5)]=_0xf49324[_0x5deba4(0x1c1)](_0x5deba4(0x453))[_0x5deba4(0x6d4)];break;case _0x5deba4(0x421):_0x1726dc[_0x5deba4(0xc1c)]=_0x394f5f;const _0xe879dc=_0xf49324[_0x5deba4(0x1c1)](_0x5deba4(0x248));_0x1726dc['correctAnswer']=_0xe879dc?_0xe879dc[_0x5deba4(0x6d4)]===_0x5deba4(0x198):!![];break;case'matching_item':_0x1726dc['stem']=_0x394f5f;const _0x5d6701=_0xf49324[_0x5deba4(0x1c1)](_0x5deba4(0x650));_0x1726dc[_0x5deba4(0x4a4)]=_0x5d6701?_0x5d6701[_0x5deba4(0x6d4)]:'',_0x40ab8e[_0x5deba4(0x4aa)](_0x1726dc['correctResponse']);break;default:_0x1726dc[_0x5deba4(0xc1c)]=_0x394f5f;break;}return{..._0x2330af,..._0x1726dc};});_0x40ab8e[_0x24c60e(0x423)]>0x0&&_0x1fcbfb[_0x24c60e(0x9aa)](_0x4b8326=>{const _0x5b1a32=_0x24c60e;_0x4b8326[_0x5b1a32(0x704)]===_0x5b1a32(0x8bb)&&(_0x4b8326['allResponses']=_0x40ab8e);});const _0x36e9c8=currentEditingQuizData['id'],_0x128a3c=doc(db,_0x24c60e(0xb79)+appId+_0x24c60e(0x53a),_0x36e9c8);await updateDoc(_0x128a3c,{'topic':_0x5ec901,'questions':_0x1fcbfb}),document[_0x24c60e(0xa57)](_0x24c60e(0x7bc))[_0x24c60e(0x6b0)]['add']('hidden'),showMessage(_0x24c60e(0x1e7),()=>initiateReGradeProcess(_0x36e9c8));}catch(_0x4b6d43){console[_0x24c60e(0xc93)](_0x24c60e(0x581),_0x4b6d43),showMessage(_0x24c60e(0x550));}finally{_0x18e64d[_0x24c60e(0x267)]=![],_0x18e64d[_0x24c60e(0x2b3)]=_0x24c60e(0xa53);}}async function initiateReGradeProcess(_0x3b0334){const _0x49220f=_0x3b29b2;showMessage(_0x49220f(0xafa));try{const _0x31a040=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x3b0334),_0x43b39c=await getDoc(_0x31a040);if(!_0x43b39c[_0x49220f(0xb65)]())throw new Error(_0x49220f(0x57d));const _0x4fbc95={'id':_0x3b0334,..._0x43b39c['data']()},_0xbf03cd=collection(db,_0x49220f(0xb79)+appId+_0x49220f(0x53a),_0x3b0334,_0x49220f(0xb4d)),_0x31b944=await getDocs(_0xbf03cd);if(_0x31b944[_0x49220f(0xab0)]){showMessage(_0x49220f(0x407));return;}const _0x1289eb=_0x31b944['docs'][_0x49220f(0x921)](_0x5424fc=>reGradeSingleSubmission(_0x5424fc,_0x4fbc95));await Promise['all'](_0x1289eb);if(_0x4fbc95[_0x49220f(0x13a)]){const _0x714d35=doc(db,'artifacts/'+appId+_0x49220f(0x304),_0x4fbc95[_0x49220f(0x13a)]),_0x1dc4cc=await getDoc(_0x714d35);if(_0x1dc4cc[_0x49220f(0xb65)]()&&_0x1dc4cc[_0x49220f(0x7a6)]()[_0x49220f(0x98d)]){const _0x517bff=_0x1dc4cc['data']()[_0x49220f(0x98d)]['map'](_0x2d0e49=>updateStudentProfile(_0x4fbc95[_0x49220f(0x13a)],_0x2d0e49));await Promise[_0x49220f(0x6e1)](_0x517bff);}}showMessage('ตรวจคะแนนใหม่\x20'+_0x31b944['size']+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x815245){console[_0x49220f(0xc93)]('Re-grade\x20process\x20failed:',_0x815245),showMessage(_0x49220f(0x7ae)+_0x815245[_0x49220f(0x8df)]);}}async function reGradeSingleSubmission(_0x403c58,_0x3c10da){const _0x25a105=_0x3b29b2,_0x517e08=_0x403c58['data'](),_0x5ebc97=_0x517e08[_0x25a105(0xc97)],_0x2054bf=_0x517e08[_0x25a105(0x170)]||[],_0x15b703=[];for(const _0x5b7090 of _0x2054bf){let _0x5e98cd=0x0,_0x3daecb=[],_0x53a5d2=0x0;const _0x3905c2=[];for(const _0xc91928 of _0x5b7090[_0x25a105(0x854)]){let _0x4e786b;_0xc91928[_0x25a105(0x710)]&&(_0x4e786b=_0x3c10da['questions']['find'](_0x2d31a1=>_0x2d31a1['id']===_0xc91928[_0x25a105(0x710)]));!_0x4e786b&&_0xc91928[_0x25a105(0x117)]&&(_0x4e786b=_0x3c10da['questions'][_0x25a105(0xc0d)](_0x24cb1c=>(_0x24cb1c[_0x25a105(0xc65)]||_0x24cb1c['questionText'])===_0xc91928['originalQuestionText']));let _0x1b39d0=![];if(_0x4e786b){const _0x920f49=_0x4e786b[_0x25a105(0x704)]||_0x3c10da['quizType'];switch(_0x920f49){case'multiple_choice':if(_0x4e786b[_0x25a105(0x5a9)]&&_0x4e786b[_0x25a105(0x6c9)]<_0x4e786b[_0x25a105(0x5a9)][_0x25a105(0x423)]){const _0x1e6d59=_0x4e786b[_0x25a105(0x5a9)][_0x4e786b[_0x25a105(0x6c9)]];_0x1b39d0=_0xc91928[_0x25a105(0x391)]===_0x1e6d59;}break;case _0x25a105(0x421):const _0x50ea0a=_0xc91928[_0x25a105(0x377)]===!![]||_0xc91928['answer']==='true';_0x1b39d0=_0x50ea0a===_0x4e786b[_0x25a105(0x72d)];break;case _0x25a105(0x8bb):_0x1b39d0=_0xc91928[_0x25a105(0x377)]===_0x4e786b['correctResponse'];break;case _0x25a105(0x639):_0x1b39d0=await gradeShortAnswer(_0xc91928[_0x25a105(0x377)],_0x4e786b);break;default:_0x1b39d0=_0xc91928[_0x25a105(0x3e2)];break;}}if(_0x1b39d0){_0x5e98cd++,_0x53a5d2++;if(_0x53a5d2===0x3)_0x3daecb[_0x25a105(0x4aa)](BADGES[_0x25a105(0x99b)]['id']);}else _0x53a5d2=0x0;_0x3905c2[_0x25a105(0x4aa)]({..._0xc91928,'isCorrect':_0x1b39d0});}let _0x4782ee=_0x5e98cd*0xa;_0x5e98cd===_0x3c10da[_0x25a105(0x288)][_0x25a105(0x423)]&&(_0x4782ee+=0x32,_0x3daecb[_0x25a105(0x4aa)](BADGES[_0x25a105(0x8a3)]['id'])),_0x15b703['push']({..._0x5b7090,'score':_0x5e98cd,'points':_0x4782ee,'badges':Array[_0x25a105(0x35d)](new Set(_0x3daecb)),'answers':_0x3905c2});}const _0x31239b=_0x15b703['length']>0x0?_0x15b703[0x0][_0x25a105(0x5c3)]:0x0,_0x18df73=Math['max'](..._0x15b703[_0x25a105(0x921)](_0x50d239=>_0x50d239[_0x25a105(0x5c3)])),_0x29e75a=_0x15b703['length']>0x0?_0x15b703[_0x15b703[_0x25a105(0x423)]-0x1][_0x25a105(0x5c3)]:0x0,_0x4a4b75=_0x15b703[_0x25a105(0x423)]>0x0?_0x15b703[_0x15b703[_0x25a105(0x423)]-0x1][_0x25a105(0x7a3)]:0x0,_0x43b9b0=doc(db,'artifacts/'+appId+_0x25a105(0x689)+_0x3c10da['id']+_0x25a105(0x3d5),_0x5ebc97);await updateDoc(_0x43b9b0,{'attempts':_0x15b703,'firstScore':_0x31239b,'bestScore':_0x18df73,'latestScore':_0x29e75a,'points':_0x4a4b75});}function cleanupQuizOptions(_0x2df8d7){const _0x2741e0=_0x3b29b2,_0x57e81b=(_0xe6c95b,_0x3ae5d8)=>_0x3ae5d8===0x0?_0xe6c95b:_0x57e81b(_0x3ae5d8,_0xe6c95b%_0x3ae5d8),_0x3913e8=_0x3a392a=>{const _0x78197a=_0x376a;if(typeof _0x3a392a!==_0x78197a(0x8dd))return null;_0x3a392a=_0x3a392a['trim']();const _0x4b617c=_0x3a392a['split'](/[ /]/)['filter'](_0x27370e=>_0x27370e!=='');if(_0x4b617c[_0x78197a(0x423)]===0x3)return parseInt(_0x4b617c[0x0])+parseInt(_0x4b617c[0x1])/parseInt(_0x4b617c[0x2]);else{if(_0x4b617c[_0x78197a(0x423)]===0x2)return parseInt(_0x4b617c[0x0])/parseInt(_0x4b617c[0x1]);else{if(_0x4b617c[_0x78197a(0x423)]===0x1&&!isNaN(_0x4b617c[0x0]))return parseFloat(_0x4b617c[0x0]);}}return null;},_0x4da662=_0x475745=>{const _0x4df1c2=_0x376a;if(typeof _0x475745!==_0x4df1c2(0x8dd))return _0x475745;const _0xf041bd=_0x475745[_0x4df1c2(0x156)](/(\d+)\s+(\d+)\/(\d+)/);if(_0xf041bd){const _0x216c3c=parseInt(_0xf041bd[0x1]);let _0x40fc10=parseInt(_0xf041bd[0x2]),_0x440fa3=parseInt(_0xf041bd[0x3]);const _0x1d43cf=_0x57e81b(_0x40fc10,_0x440fa3);_0x40fc10/=_0x1d43cf,_0x440fa3/=_0x1d43cf;if(_0x440fa3===0x1)return(_0x216c3c+_0x40fc10)['toString']();return _0x216c3c+'\x20'+_0x40fc10+'/'+_0x440fa3;}return _0x475745;};return _0x2df8d7&&_0x2df8d7[_0x2741e0(0x288)]&&_0x2df8d7[_0x2741e0(0x288)][_0x2741e0(0x9aa)](_0x14b3ad=>{const _0x369d0a=_0x2741e0;if(_0x14b3ad[_0x369d0a(0x704)]===_0x369d0a(0xbbc)&&_0x14b3ad[_0x369d0a(0x5a9)]){const _0xe2fa81=new Map(),_0x18cd1d=_0x14b3ad[_0x369d0a(0x5a9)][_0x14b3ad[_0x369d0a(0x6c9)]];_0x14b3ad[_0x369d0a(0x5a9)][_0x369d0a(0x9aa)](_0x143e14=>{const _0x2f3a20=_0x369d0a,_0x2f3ead=_0x4da662(_0x143e14),_0x36903c=_0x3913e8(_0x2f3ead);_0x36903c!==null&&!_0xe2fa81[_0x2f3a20(0xc2c)](_0x36903c)&&_0xe2fa81[_0x2f3a20(0x92d)](_0x36903c,_0x2f3ead);}),_0x14b3ad['options']=Array[_0x369d0a(0x35d)](_0xe2fa81[_0x369d0a(0x4bb)]());const _0x47c176=_0x14b3ad[_0x369d0a(0x5a9)][_0x369d0a(0x4e3)](_0x2d1c8f=>_0x2d1c8f===_0x4da662(_0x18cd1d));_0x14b3ad[_0x369d0a(0x6c9)]=_0x47c176!==-0x1?_0x47c176:0x0;}}),_0x2df8d7;}function showGameStartConfirmationModal(_0x5cacbc,_0x1d2d9f,_0xf733f0){const _0x399a53=_0x3b29b2,_0x112cb4=document['getElementById'](_0x399a53(0x9c6));document[_0x399a53(0xa57)](_0x399a53(0x8aa))['textContent']=_0x399a53(0x73f)+_0xf733f0,document['getElementById'](_0x399a53(0x5f9))['value']=_0x5cacbc,document[_0x399a53(0xa57)](_0x399a53(0xc5b))['value']=_0x1d2d9f,document[_0x399a53(0xa57)](_0x399a53(0x952))['checked']=!![],_0x112cb4[_0x399a53(0x6b0)][_0x399a53(0xbb2)](_0x399a53(0x3db));}async function saveGameResultsAsSubmissions(_0x289e0d){const _0x483e24=_0x3b29b2;console[_0x483e24(0x886)](_0x483e24(0xcaa),_0x289e0d);const _0x179833=_0x289e0d[_0x483e24(0x6da)];let _0x23bee2=[];if(_0x289e0d['players'])_0x23bee2=Object[_0x483e24(0xb3d)](_0x289e0d[_0x483e24(0x7d2)])[_0x483e24(0x921)](([_0x20125e,_0x588080])=>({'name':_0x20125e,..._0x588080}));else{if(_0x289e0d[_0x483e24(0x219)])Object[_0x483e24(0x4bb)](_0x289e0d[_0x483e24(0x219)])[_0x483e24(0x9aa)](_0x17fcc3=>{const _0x6f82c7=_0x483e24;_0x17fcc3[_0x6f82c7(0x6a9)][_0x6f82c7(0x9aa)](_0x339ec3=>{const _0x434776=_0x6f82c7;_0x23bee2['push']({'name':_0x339ec3,'score':_0x17fcc3[_0x434776(0x5c3)],'answers':_0x17fcc3[_0x434776(0x854)]});});});else _0x289e0d[_0x483e24(0x2fa)]&&Object[_0x483e24(0xb3d)](_0x289e0d[_0x483e24(0x2fa)])[_0x483e24(0x9aa)](([_0x100fda,_0x46b5a8])=>{_0x23bee2['push']({'name':_0x100fda,..._0x46b5a8});});}if(_0x23bee2[_0x483e24(0x423)]===0x0){console[_0x483e24(0x886)]('No\x20player\x20data\x20to\x20save.');return;}const _0x38287a=_0x289e0d['shuffledQuiz']?.[_0x483e24(0x288)][_0x483e24(0x423)]||currentQuizData[_0x483e24(0x288)][_0x483e24(0x423)],_0x5a6068=writeBatch(db);for(const _0x4ab307 of _0x23bee2){const _0x15b5a2=doc(db,_0x483e24(0xb79)+appId+_0x483e24(0x689)+_0x179833+'/submissions',_0x4ab307[_0x483e24(0xc6f)]),_0x3ab553=(_0x4ab307['answers']||[])[_0x483e24(0x36d)](_0x3be19b=>_0x3be19b['isCorrect'])[_0x483e24(0x423)];let _0x5035ad=_0x3ab553;_0x289e0d[_0x483e24(0x327)]&&_0x4ab307[_0x483e24(0x854)]&&_0x4ab307['answers'][_0x483e24(0x9aa)](_0x183085=>{const _0x1c57e0=_0x483e24;if(_0x183085['isCorrect']&&(_0x183085[_0x1c57e0(0x745)]===!![]||_0x183085[_0x1c57e0(0x745)]==='confident'))_0x5035ad+=0x1;else!_0x183085[_0x1c57e0(0x3e2)]&&(_0x183085['wasConfident']===!![]||_0x183085[_0x1c57e0(0x745)]===_0x1c57e0(0x9ab))&&(_0x5035ad-=0x1);});_0x38287a>0x0&&_0x3ab553===_0x38287a&&(_0x5035ad+=0x1);const _0x542630={'score':_0x3ab553,'points':_0x5035ad,'badges':_0x4ab307[_0x483e24(0x6d3)]||[],'submittedAt':new Date()[_0x483e24(0x975)](),'answers':(_0x4ab307[_0x483e24(0x854)]||[])['map'](_0x22b4d9=>({'questionId':_0x22b4d9['questionId'],'answer':_0x22b4d9[_0x483e24(0x377)],'answerText':_0x22b4d9[_0x483e24(0x391)],'isCorrect':_0x22b4d9[_0x483e24(0x3e2)],'originalQuestionText':_0x22b4d9[_0x483e24(0x117)],'wasConfident':_0x22b4d9[_0x483e24(0x745)]}))},_0x55daf2=await getDoc(_0x15b5a2),_0x5344ec=_0x55daf2[_0x483e24(0xb65)]()?_0x55daf2[_0x483e24(0x7a6)]():{},_0x3b8a8c=_0x5344ec['bestScore']||0x0,_0x280f64=_0x5344ec['attempts']||[],_0x57a7ed={'studentName':_0x4ab307[_0x483e24(0xc6f)],'totalQuestions':_0x38287a,'attempts':arrayUnion(_0x542630),'latestScore':_0x3ab553,'points':_0x5035ad,'latestSubmittedAt':_0x542630[_0x483e24(0x3a2)],'bestScore':Math['max'](_0x3b8a8c,_0x3ab553),'firstScore':_0x280f64['length']===0x0?_0x3ab553:_0x5344ec['firstScore']||0x0};_0x5a6068[_0x483e24(0x92d)](_0x15b5a2,_0x57a7ed,{'merge':!![]});}try{await _0x5a6068[_0x483e24(0x658)](),showMessage(_0x483e24(0x697)+_0x23bee2[_0x483e24(0x423)]+'\x20รายการ\x20สำเร็จ!');const _0x20eee8=_0x289e0d['shuffledQuiz']?.[_0x483e24(0x13a)]||currentQuizData?.[_0x483e24(0x13a)]||currentProjectId;if(_0x20eee8){const _0x523a1f=[...new Set(_0x23bee2[_0x483e24(0x921)](_0x2a4528=>_0x2a4528[_0x483e24(0xc6f)]))];for(const _0x410247 of _0x523a1f){await updateStudentProfile(_0x20eee8,_0x410247);}}}catch(_0x14f40f){console[_0x483e24(0xc93)](_0x483e24(0xc8c),_0x14f40f),showMessage(_0x483e24(0x1c3));}}async function saveQuiz(_0x208240=null,_0x148cf3=null){const _0x385433=_0x3b29b2,_0x45671d=_0x208240||currentProjectId;if(!_0x45671d){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x385433(0x288)]||!userId){showMessage(_0x385433(0x75b));return;}const _0x1e75ca=document['getElementById'](_0x385433(0x992));_0x1e75ca['disabled']=!![],_0x1e75ca[_0x385433(0x2b3)]=_0x385433(0xaba);const _0x43b4c0=document[_0x385433(0xa57)](_0x385433(0x4fa))[_0x385433(0x354)];let _0x16090d=document['getElementById'](_0x385433(0x320))['innerText'][_0x385433(0x9bb)]();_0x43b4c0&&!_0x16090d[_0x385433(0x6c6)](_0x385433(0x12d))&&(_0x16090d=_0x385433(0x404)+_0x16090d);try{const _0x378969={'resultsDisplay':document['getElementById']('results-display-select')['value'],'shuffle':document[_0x385433(0xa57)](_0x385433(0x7a0))[_0x385433(0x6d4)],'timerMode':document['getElementById']('timer-mode-select')[_0x385433(0x6d4)],'timerDuration':parseInt(document[_0x385433(0xa57)](_0x385433(0x62f))[_0x385433(0x6d4)])||0xa,'passingScore':parseInt(document[_0x385433(0xa57)]('passing-score-input')['value'])||0x0,'isAdaptive':document[_0x385433(0xa57)](_0x385433(0x19f))[_0x385433(0x354)],'loopUntilPass':document[_0x385433(0xa57)](_0x385433(0x6dc))[_0x385433(0x354)]},_0x5cff36=(currentQuizData['questions']||[])['map']((_0x21aa27,_0x28d065)=>{const _0x3b2d93=_0x385433,_0x200ad0=document[_0x3b2d93(0xa57)]('quiz-type-select')[_0x3b2d93(0x6d4)],_0x2ec806={'id':'q_'+Date[_0x3b2d93(0x8d7)]()+'_'+_0x28d065,'questionText':_0x21aa27[_0x3b2d93(0xc1c)]||'','explanation':_0x21aa27['explanation']||_0x3b2d93(0xbc6),'questionType':_0x21aa27[_0x3b2d93(0x704)]||_0x200ad0,'imageCode':_0x21aa27[_0x3b2d93(0xa5d)]||null};return(_0x2ec806['questionType']==='multiple_choice'||_0x2ec806[_0x3b2d93(0x704)]==='fill_in_with_choices'||_0x2ec806['questionType']===_0x3b2d93(0x7b0)&&_0x21aa27[_0x3b2d93(0x5a9)])&&(_0x2ec806[_0x3b2d93(0x5a9)]=_0x21aa27[_0x3b2d93(0x5a9)]||[],_0x2ec806[_0x3b2d93(0x6c9)]=_0x21aa27['correctAnswerIndex']!==undefined?_0x21aa27['correctAnswerIndex']:0x0),(_0x2ec806[_0x3b2d93(0x704)]===_0x3b2d93(0x639)||_0x2ec806[_0x3b2d93(0x704)]==='fill_in_no_choices'||_0x2ec806[_0x3b2d93(0x704)]===_0x3b2d93(0x7b0)&&_0x21aa27[_0x3b2d93(0x5c5)])&&(_0x2ec806[_0x3b2d93(0x5c5)]=_0x21aa27[_0x3b2d93(0x5c5)]||''),_0x2ec806[_0x3b2d93(0x704)]===_0x3b2d93(0x421)&&(_0x2ec806['correctAnswer']=_0x21aa27[_0x3b2d93(0x72d)]===!![]),_0x2ec806['questionType']==='matching_item'&&(_0x2ec806[_0x3b2d93(0xc65)]=_0x21aa27[_0x3b2d93(0xc65)]||'',_0x2ec806['correctResponse']=_0x21aa27[_0x3b2d93(0x4a4)]||'',_0x2ec806[_0x3b2d93(0x889)]=_0x21aa27[_0x3b2d93(0x889)]||[]),_0x2ec806;}),_0x503bc8={'topic':_0x16090d,'quizType':currentQuizData[_0x385433(0x573)]||_0x385433(0xbbc),'questions':_0x5cff36,'projectId':_0x45671d,'createdBy':userId,'createdAt':new Date()[_0x385433(0x975)](),'status':'active','settings':_0x378969,'quizMode':_0x43b4c0?_0x385433(0x586):_0x385433(0xb58),'pairedQuizId':null,'lessonPlan':null};let _0x648e28;while(!![]){_0x648e28=Math['floor'](0x3e8+Math[_0x385433(0x95a)]()*0x2328)['toString']();const _0x33bc32=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x648e28));if(!_0x33bc32[_0x385433(0xb65)]())break;}await setDoc(doc(db,_0x385433(0xb79)+appId+_0x385433(0x53a),_0x648e28),_0x503bc8);if(_0x148cf3&&currentBlueprintProjectId){console['log']('Auto-linking\x20new\x20quiz\x20'+_0x648e28+_0x385433(0x23b)+_0x148cf3);try{const _0x331cdc=doc(db,_0x385433(0xb79)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x331cdc,{[_0x385433(0x69a)+_0x148cf3+_0x385433(0x2c7)]:arrayUnion(_0x648e28)});}catch(_0x56e181){console[_0x385433(0xc93)](_0x385433(0x296),_0x56e181);}}currentQuizData[_0x385433(0x813)]=_0x378969,currentQuizData['id']=_0x648e28;const _0x5b9d6b=document[_0x385433(0xa57)](_0x385433(0x2d5));_0x5b9d6b['innerHTML']=_0x385433(0x416)+_0x648e28+_0x385433(0xbe6),document['getElementById'](_0x385433(0x28a))['addEventListener'](_0x385433(0x1b1),()=>copyTextToClipboard(_0x648e28,_0x385433(0x6cc))),document[_0x385433(0xa57)](_0x385433(0x4ea))[_0x385433(0x3f4)](_0x385433(0x1b1),()=>handleStartLiveRace(_0x648e28)),document[_0x385433(0xa57)](_0x385433(0xbce))[_0x385433(0x3f4)](_0x385433(0x1b1),()=>startPresentation(currentQuizData)),document[_0x385433(0xa57)](_0x385433(0xba2))[_0x385433(0x3f4)]('click',startAdminTest),showMessage(_0x385433(0x3b6));}catch(_0x294024){console[_0x385433(0xc93)](_0x385433(0x578),_0x294024),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ');}finally{_0x1e75ca[_0x385433(0x267)]=![],_0x1e75ca[_0x385433(0x2b3)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function promptForProjectAndSave(){const _0x87a90d=_0x3b29b2,_0x3b8172=document[_0x87a90d(0xa57)](_0x87a90d(0x21c)),_0x27ba82=document[_0x87a90d(0xa57)](_0x87a90d(0xa26)),_0x54cc82=_0x3b8172[_0x87a90d(0x1c1)]('h3'),_0x207d76=document['getElementById'](_0x87a90d(0x382));_0x54cc82[_0x87a90d(0x63d)]=_0x87a90d(0x9e3),_0x207d76[_0x87a90d(0x63d)]='เลือกและบันทึก';allProjects[_0x87a90d(0x423)]===0x0?(_0x27ba82[_0x87a90d(0x2b3)]=_0x87a90d(0x19a),_0x207d76['disabled']=!![]):(_0x27ba82[_0x87a90d(0x2b3)]=allProjects['map'](_0x3ffa0c=>_0x87a90d(0x93f)+_0x3ffa0c['id']+'\x22>'+_0x3ffa0c[_0x87a90d(0x234)]+_0x87a90d(0xca6))[_0x87a90d(0xa0a)](''),_0x207d76[_0x87a90d(0x267)]=![]);_0x3b8172[_0x87a90d(0x6b0)]['remove'](_0x87a90d(0x3db));const _0x17a246=()=>{const _0x4f3476=_0x87a90d,_0x2e7a61=_0x27ba82[_0x4f3476(0x6d4)];_0x2e7a61?(currentProjectId=_0x2e7a61,_0x3b8172['classList'][_0x4f3476(0xb35)](_0x4f3476(0x3db)),saveQuiz(),_0x54cc82['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x207d76[_0x4f3476(0x63d)]=_0x4f3476(0x290),_0x207d76[_0x4f3476(0xbf9)](_0x4f3476(0x1b1),_0x17a246),_0x207d76[_0x4f3476(0x3f4)]('click',confirmMoveQuiz)):showMessage(_0x4f3476(0x231));};_0x207d76['removeEventListener'](_0x87a90d(0x1b1),confirmMoveQuiz),_0x207d76[_0x87a90d(0x3f4)](_0x87a90d(0x1b1),_0x17a246);}function copyTextToClipboard(_0x2a1b35,_0x27ae42){const _0x50a8d3=_0x3b29b2,_0x5db498=document[_0x50a8d3(0x930)](_0x50a8d3(0x3e8));_0x5db498[_0x50a8d3(0x6d4)]=_0x2a1b35,_0x5db498[_0x50a8d3(0xb97)][_0x50a8d3(0x367)]='fixed',_0x5db498[_0x50a8d3(0xb97)][_0x50a8d3(0x431)]='0',document[_0x50a8d3(0x6ea)][_0x50a8d3(0x95e)](_0x5db498),_0x5db498['focus'](),_0x5db498[_0x50a8d3(0xcb3)]();try{const _0x2e6342=document[_0x50a8d3(0x69c)]('copy');showMessage(_0x2e6342?_0x27ae42:_0x50a8d3(0x4f3));}catch(_0x2b8659){showMessage(_0x50a8d3(0x4f3)),console['error']('Copy\x20command\x20failed',_0x2b8659);}document[_0x50a8d3(0x6ea)][_0x50a8d3(0x68d)](_0x5db498);}function listenForProjectQuizzes(_0x3d48b9){const _0x585ed7=_0x3b29b2,_0x413337=collection(db,'artifacts/'+appId+_0x585ed7(0x53a)),_0x2ba73c=query(_0x413337,where(_0x585ed7(0x13a),'==',_0x3d48b9));unsubscribeQuizzesListener=onSnapshot(_0x2ba73c,async _0x822d7f=>{const _0x2e0701=_0x585ed7;allQuizzes=_0x822d7f['docs'][_0x2e0701(0x921)](_0x115bf7=>({'id':_0x115bf7['id'],..._0x115bf7[_0x2e0701(0x7a6)]()})),renderQuizzes();},_0x120393=>{const _0x13c038=_0x585ed7;console[_0x13c038(0xc93)](_0x13c038(0x6d9),_0x120393),document[_0x13c038(0xa57)](_0x13c038(0x2dd))[_0x13c038(0x2b3)]=_0x13c038(0x4d6);});}async function renderQuizzes(){const _0x4853d4=_0x3b29b2,_0x1ac14f=document[_0x4853d4(0xa57)]('project-quizzes-list'),_0x3abb20=document['getElementById']('quiz-search-input')[_0x4853d4(0x6d4)][_0x4853d4(0x80a)]();let _0x370795;currentProjectId==='starred'?_0x370795=starredQuizzes:_0x370795=allQuizzes;let _0xbfa349=_0x370795[_0x4853d4(0x36d)](_0x5a366c=>_0x5a366c['topic']['toLowerCase']()[_0x4853d4(0x4c8)](_0x3abb20));_0xbfa349['sort']((_0x55346b,_0xdcf812)=>new Date(_0xdcf812[_0x4853d4(0x88c)])-new Date(_0x55346b[_0x4853d4(0x88c)]));if(_0xbfa349['length']===0x0){_0x1ac14f['innerHTML']=_0x4853d4(0x944);return;}const _0x320d4b={},_0x34b2dc=_0xbfa349[_0x4853d4(0x921)](async _0x56f336=>{const _0x7181c0=_0x4853d4,_0x477743=collection(db,'artifacts/'+appId+_0x7181c0(0x689)+_0x56f336['id']+_0x7181c0(0x3d5)),_0x5aff2d=await getDocs(_0x477743);_0x320d4b[_0x56f336['id']]=_0x5aff2d[_0x7181c0(0x16d)];});await Promise[_0x4853d4(0x6e1)](_0x34b2dc);let _0x3c0fde='';_0xbfa349[_0x4853d4(0x9aa)](_0x2ba3eb=>{const _0x217ad0=_0x4853d4,_0x1816ef=_0x320d4b[_0x2ba3eb['id']]||0x0,_0x6b7bef=_0x2ba3eb[_0x217ad0(0xbeb)]||_0x217ad0(0x37e),_0x4174b5=_0x2ba3eb['settings']?.[_0x217ad0(0x48e)]||_0x217ad0(0x4cc);let _0x281373='',_0xd54e0e='';const _0x13bc40=new Date();let _0x495b23=_0x6b7bef;if(_0x6b7bef===_0x217ad0(0x7ce)){const _0x163210=_0x2ba3eb['startTime']?new Date(_0x2ba3eb[_0x217ad0(0xb32)]):null,_0x4ba0b5=_0x2ba3eb[_0x217ad0(0x4a9)]?new Date(_0x2ba3eb[_0x217ad0(0x4a9)]):null;if(_0x4ba0b5&&_0x13bc40>_0x4ba0b5)_0x495b23=_0x217ad0(0xa71);else _0x163210&&_0x13bc40<_0x163210?_0x495b23=_0x217ad0(0xad0):_0x495b23='active';}switch(_0x495b23){case'inactive':_0x281373=_0x217ad0(0xa17),_0xd54e0e='text-red-700\x20bg-red-100';break;case _0x217ad0(0xad0):_0x281373='รอเปิด',_0xd54e0e='text-blue-700\x20bg-blue-100';break;case _0x217ad0(0x37e):_0x281373=_0x4174b5!=='none'?'เปิด\x20(จับเวลา)':_0x217ad0(0x339),_0xd54e0e=_0x217ad0(0x5d1);break;default:_0x281373=_0x217ad0(0x39e),_0xd54e0e=_0x217ad0(0x5d1);break;}let _0x408ee3='';const _0x2b6c56={'day':_0x217ad0(0xb56),'month':_0x217ad0(0xb56),'year':_0x217ad0(0x919),'hour':_0x217ad0(0xb56),'minute':_0x217ad0(0xb56),'hour12':![]};if(_0x6b7bef==='scheduled'){if(_0x2ba3eb['startTime'])_0x408ee3+=_0x217ad0(0x71c)+new Date(_0x2ba3eb[_0x217ad0(0xb32)])[_0x217ad0(0x226)](_0x217ad0(0x6f2),_0x2b6c56)+_0x217ad0(0x240);if(_0x2ba3eb[_0x217ad0(0x4a9)])_0x408ee3+=_0x217ad0(0x46c)+new Date(_0x2ba3eb[_0x217ad0(0x4a9)])[_0x217ad0(0x226)](_0x217ad0(0x6f2),_0x2b6c56)+'</p>';}let _0x3cec5f='';if(_0x2ba3eb[_0x217ad0(0x35f)]){const _0x3c82ec=allQuizzes['find'](_0x5d97de=>_0x5d97de['id']===_0x2ba3eb['pairedQuizId']);if(_0x3c82ec){let _0x4c8c2b,_0x16a56d;new Date(_0x2ba3eb[_0x217ad0(0x88c)])<new Date(_0x3c82ec['createdAt'])?(_0x4c8c2b=_0x2ba3eb['id'],_0x16a56d=_0x3c82ec['id']):(_0x4c8c2b=_0x3c82ec['id'],_0x16a56d=_0x2ba3eb['id']),_0x3cec5f+=_0x217ad0(0x81c)+_0x16a56d+'\x22\x20data-pre-test-id=\x22'+_0x4c8c2b+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x2ba3eb[_0x217ad0(0x587)]===_0x217ad0(0x586)&&(_0x3cec5f+=_0x217ad0(0xb53)+_0x2ba3eb['id']+_0x217ad0(0x782));if(_0x2ba3eb['quizMode']===_0x217ad0(0x586)&&_0x1816ef>0x0)_0x3cec5f+=_0x217ad0(0xb53)+_0x2ba3eb['id']+_0x217ad0(0x81e);else!_0x2ba3eb[_0x217ad0(0x35f)]&&_0x2ba3eb[_0x217ad0(0x587)]!=='pre-test'&&_0x1816ef>0x0&&(_0x3cec5f+=_0x217ad0(0xb53)+_0x2ba3eb['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x1b27d6='';_0x2ba3eb[_0x217ad0(0x35f)]?_0x1b27d6=_0x217ad0(0x5ae)+_0x2ba3eb['id']+_0x217ad0(0x92b):_0x1b27d6=_0x217ad0(0x5ae)+_0x2ba3eb['id']+_0x217ad0(0x5fb),_0x3c0fde+=_0x217ad0(0x671)+_0x2ba3eb['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x2ba3eb['topic']+_0x217ad0(0x286)+_0x2ba3eb[_0x217ad0(0x288)]['length']+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x2ba3eb[_0x217ad0(0x88c)])['toLocaleString']('th-TH')+_0x217ad0(0x403)+_0x1816ef+_0x217ad0(0xb8d)+_0x408ee3+_0x217ad0(0xaef)+_0xd54e0e+'\x22>'+_0x281373+_0x217ad0(0x767)+_0x2ba3eb['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2ba3eb['id']+_0x217ad0(0x7ab)+(_0x2ba3eb[_0x217ad0(0x368)]?'fas\x20fa-star\x20text-yellow-500':_0x217ad0(0x55f))+_0x217ad0(0x6a1)+_0x3cec5f+_0x217ad0(0x77d)+_0x2ba3eb['id']+_0x217ad0(0xb69)+_0x2ba3eb['id']+_0x217ad0(0x6ca)+_0x2ba3eb['id']+_0x217ad0(0x873)+_0x2ba3eb['id']+_0x217ad0(0x780)+_0x2ba3eb['id']+_0x217ad0(0x1fa)+_0x2ba3eb['id']+_0x217ad0(0x349)+_0x2ba3eb['id']+_0x217ad0(0x741)+_0x2ba3eb[_0x217ad0(0x13e)]+_0x217ad0(0x83c)+_0x2ba3eb['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2ba3eb['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1b27d6+_0x217ad0(0xb34)+_0x2ba3eb['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2ba3eb['id']+_0x217ad0(0x812)+_0x2ba3eb['id']+_0x217ad0(0x7bb)+_0x2ba3eb['id']+_0x217ad0(0x4af)+_0x2ba3eb['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2ba3eb['id']+_0x217ad0(0x496)+_0x2ba3eb['id']+'\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2ba3eb['id']+'\x22\x20data-topic=\x22'+_0x2ba3eb[_0x217ad0(0x13e)]+_0x217ad0(0x82b)+_0x2ba3eb['id']+_0x217ad0(0x1bb);}),_0x1ac14f[_0x4853d4(0x2b3)]=_0x3c0fde,document['querySelectorAll'](_0x4853d4(0x8f8))[_0x4853d4(0x9aa)](_0x4d564f=>{const _0x29e1b0=_0x4853d4;_0x4d564f[_0x29e1b0(0x3f4)](_0x29e1b0(0x1b1),()=>{const _0x185fed=_0x4d564f['dataset']['quizId'];showQuizDetailView(_0x185fed);});});}async function handleUnpairQuiz(_0xb0d28){const _0x3edff0=_0x3b29b2,_0x262805=allQuizzes[_0x3edff0(0xc0d)](_0x29ad01=>_0x29ad01['id']===_0xb0d28);if(!_0x262805||!_0x262805[_0x3edff0(0x35f)]){showMessage(_0x3edff0(0x98f));return;}showConfirmation(_0x3edff0(0x92e),async()=>{const _0x45f2ae=_0x3edff0;try{const _0x264e93=doc(db,_0x45f2ae(0xb79)+appId+_0x45f2ae(0x53a),_0xb0d28),_0x5e8671=doc(db,'artifacts/'+appId+_0x45f2ae(0x53a),_0x262805['pairedQuizId']),_0x8f3639=writeBatch(db);_0x8f3639[_0x45f2ae(0x3f2)](_0x264e93,{'pairedQuizId':null}),_0x8f3639[_0x45f2ae(0x3f2)](_0x5e8671,{'pairedQuizId':null}),await _0x8f3639[_0x45f2ae(0x658)](),showMessage(_0x45f2ae(0x3b7));}catch(_0xa41181){console[_0x45f2ae(0xc93)](_0x45f2ae(0x94e),_0xa41181),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x4f1481,_0x5d079b){const _0x143466=_0x3b29b2,_0x9bd297=window[_0x143466(0x1fe)]('','_blank'),_0x5e4d5f=_0x143466(0xb70)+_0x5d079b['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x5d079b[_0x143466(0x13e)]+_0x143466(0x2b7)+_0x4f1481[_0x143466(0xad7)][_0x143466(0x921)](_0x183c77=>_0x143466(0x4f9)+_0x183c77+_0x143466(0x61b))['join']('')+_0x143466(0x2c6)+_0x4f1481[_0x143466(0x922)]+_0x143466(0x875)+_0x4f1481[_0x143466(0x155)][_0x143466(0x921)](_0x2fa2be=>_0x143466(0x8ce)+_0x2fa2be['question']+_0x143466(0x716)+_0x2fa2be[_0x143466(0x598)]+_0x143466(0x552))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x9bd297[_0x143466(0xb5d)][_0x143466(0x7cc)](_0x5e4d5f),_0x9bd297[_0x143466(0xb5d)][_0x143466(0x7f2)](),_0x9bd297[_0x143466(0x569)]=function(){setTimeout(()=>{const _0x292d8b=_0x376a;_0x9bd297[_0x292d8b(0x178)]();},0x3e8);};}async function handleAiFixFormula(_0x31c0e9){const _0x3c9289=_0x3b29b2,_0x430939=document['querySelector'](_0x3c9289(0x21f)+_0x31c0e9+'\x22]');if(!_0x430939)return;const _0x34fe15=_0x430939[_0x3c9289(0x43d)][_0x3c9289(0x1b6)],_0x1dbc5a=_0x430939[_0x3c9289(0x1c1)]('.ai-fix-formula-btn');let _0x4f2bf5={'question':_0x430939[_0x3c9289(0x1c1)](_0x3c9289(0x3e8))[_0x3c9289(0x6d4)]};switch(_0x34fe15){case _0x3c9289(0xbbc):_0x4f2bf5[_0x3c9289(0x5a9)]=Array[_0x3c9289(0x35d)](_0x430939[_0x3c9289(0x3cf)]('input[type=\x22text\x22]'))[_0x3c9289(0x921)](_0x199391=>_0x199391['value']);break;case _0x3c9289(0x639):_0x4f2bf5[_0x3c9289(0x5c5)]=_0x430939[_0x3c9289(0x1c1)](_0x3c9289(0x453))[_0x3c9289(0x6d4)];break;case _0x3c9289(0x8bb):_0x4f2bf5[_0x3c9289(0x4a4)]=_0x430939[_0x3c9289(0x1c1)](_0x3c9289(0x650))[_0x3c9289(0x6d4)];break;}_0x1dbc5a[_0x3c9289(0x2b3)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x1dbc5a[_0x3c9289(0x267)]=!![];try{const _0x3d6dc3=_0x3c9289(0x15c)+JSON[_0x3c9289(0xc54)](_0x4f2bf5)+_0x3c9289(0x543),_0x3c9141={'type':'OBJECT','properties':{'fixedData':{'type':_0x3c9289(0x31f),'properties':{'question':{'type':_0x3c9289(0xc48)},'options':{'type':_0x3c9289(0x880),'items':{'type':_0x3c9289(0xc48)}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':'STRING'}},'required':[_0x3c9289(0x3ee)]}},'required':[_0x3c9289(0x86e)]},_0x39b0bd=await callAnalysisApi(_0x3d6dc3,_0x3c9141);if(_0x39b0bd&&_0x39b0bd['fixedData']){const _0x27d1e8=_0x39b0bd['fixedData'];_0x430939[_0x3c9289(0x1c1)](_0x3c9289(0x3e8))[_0x3c9289(0x6d4)]=_0x27d1e8[_0x3c9289(0x3ee)]||_0x4f2bf5['question'];switch(_0x34fe15){case _0x3c9289(0xbbc):_0x27d1e8[_0x3c9289(0x5a9)]&&_0x27d1e8[_0x3c9289(0x5a9)][_0x3c9289(0x423)]>0x0&&_0x430939[_0x3c9289(0x3cf)]('input[type=\x22text\x22]')[_0x3c9289(0x9aa)]((_0x14cff4,_0x16d341)=>{const _0x177c4a=_0x3c9289;_0x14cff4[_0x177c4a(0x6d4)]=_0x27d1e8[_0x177c4a(0x5a9)][_0x16d341]||_0x4f2bf5[_0x177c4a(0x5a9)][_0x16d341];});break;case'short_answer':_0x430939[_0x3c9289(0x1c1)](_0x3c9289(0x453))['value']=_0x27d1e8[_0x3c9289(0x5c5)]||_0x4f2bf5[_0x3c9289(0x5c5)];break;case _0x3c9289(0x8bb):_0x430939[_0x3c9289(0x1c1)](_0x3c9289(0x650))[_0x3c9289(0x6d4)]=_0x27d1e8[_0x3c9289(0x4a4)]||_0x4f2bf5[_0x3c9289(0x4a4)];break;}if(_0x4f2bf5[_0x3c9289(0x3ee)]!==_0x27d1e8[_0x3c9289(0x3ee)])try{const _0x31d69a=collection(db,_0x3c9289(0xb79)+appId+'/public/data/learnedFixes');await addDoc(_0x31d69a,{'broken':_0x4f2bf5['question'],'fixed':_0x27d1e8[_0x3c9289(0x3ee)],'createdAt':serverTimestamp()});}catch(_0x1da7e9){console[_0x3c9289(0xc93)](_0x3c9289(0xbd7),_0x1da7e9);}showMessage(_0x3c9289(0x379));}else throw new Error(_0x3c9289(0xa8a));}catch(_0x4ebc98){console[_0x3c9289(0xc93)](_0x3c9289(0xc14),_0x4ebc98),showMessage(_0x3c9289(0x7c8));}finally{_0x1dbc5a[_0x3c9289(0x2b3)]='<i\x20class=\x22fas\x20fa-magic\x22></i>',_0x1dbc5a[_0x3c9289(0x267)]=![];}}async function handleGenerateLessonPlan(_0x4bd128){const _0x29512d=_0x3b29b2;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x54a6cd=doc(db,_0x29512d(0xb79)+appId+_0x29512d(0x53a),_0x4bd128),_0x3e4441=await getDoc(_0x54a6cd);if(!_0x3e4441[_0x29512d(0xb65)]())throw new Error(_0x29512d(0x57d));const _0x1e0fa4={'id':_0x4bd128,..._0x3e4441[_0x29512d(0x7a6)]()},_0x9a5da0=collection(db,'artifacts/'+appId+'/public/data/quizzes',_0x4bd128,_0x29512d(0xb4d)),_0x5ba121=await getDocs(_0x9a5da0),_0xe35140=_0x5ba121[_0x29512d(0x8c5)][_0x29512d(0x921)](_0x5af3d2=>_0x5af3d2[_0x29512d(0x7a6)]());if(_0xe35140[_0x29512d(0x423)]===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x27ead1=calculateItemAnalysis(_0x1e0fa4,_0xe35140)[_0x29512d(0xaea)],_0x142652=calculateDistractorAnalysis(_0x1e0fa4,_0xe35140),_0x37a291=_0x229e5d=>{const _0x1442cd=_0x29512d;if(!_0x229e5d)return'';return _0x229e5d[_0x1442cd(0xb5a)](/\\/g,'\x5c\x5c')[_0x1442cd(0xb5a)](/"/g,'\x5c\x22')[_0x1442cd(0xb5a)](/\n/g,'\x5cn');};let _0x297b5d=_0x29512d(0x753);_0x1e0fa4[_0x29512d(0x288)][_0x29512d(0x9aa)]((_0x25316a,_0x54a3ea)=>{const _0x42335a=_0x29512d,_0x3b66e2=_0x27ead1[_0x54a3ea]?.['p']['toFixed'](0x2)||_0x42335a(0x137),_0x247347=_0x27ead1[_0x54a3ea]?.['r'][_0x42335a(0x4f1)](0x2)||_0x42335a(0x137),_0x1abad5=_0x37a291(_0x25316a[_0x42335a(0xc1c)]||_0x25316a[_0x42335a(0xc65)]);_0x297b5d+='-\x20ข้อ\x20'+(_0x54a3ea+0x1)+_0x42335a(0x59d)+_0x3b66e2+',\x20r='+_0x247347+_0x42335a(0xc4e)+_0x1abad5+'\x5cn';if(_0x25316a[_0x42335a(0x704)]===_0x42335a(0xbbc)&&_0x142652[_0x54a3ea]){const _0x54a8fa=_0x142652[_0x54a3ea],_0x4e8002=Object[_0x42335a(0x71e)](_0x54a8fa)['filter'](_0x5ee8ad=>parseInt(_0x5ee8ad)!==_0x25316a['correctAnswerIndex'])[_0x42335a(0x445)]((_0x2d9234,_0x12ad39)=>_0x54a8fa[_0x12ad39][_0x42335a(0x19c)]-_0x54a8fa[_0x2d9234]['total'])[0x0];if(_0x4e8002&&_0x54a8fa[_0x4e8002][_0x42335a(0x19c)]>0x0){const _0x5504d4=_0x37a291(_0x54a8fa[_0x4e8002][_0x42335a(0x89a)]);_0x297b5d+=_0x42335a(0xa5c)+_0x5504d4+_0x42335a(0x26a);}}});const _0x2d062a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x1e0fa4[_0x29512d(0x13e)]+_0x29512d(0x696)+_0x297b5d+_0x29512d(0x8d3),_0x5ee4dd={'type':_0x29512d(0x31f),'properties':{'learningGaps':{'type':_0x29512d(0x880),'items':{'type':_0x29512d(0xc48)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':'ARRAY','items':{'type':_0x29512d(0x31f),'properties':{'question':{'type':'STRING'},'solution':{'type':_0x29512d(0xc48)}}}}},'required':[_0x29512d(0xad7),_0x29512d(0x922),_0x29512d(0x155)]},_0xc5bb63=await callAnalysisApi(_0x2d062a,_0x5ee4dd);await updateDoc(_0x54a6cd,{'lessonPlan':_0xc5bb63});const _0x37b379=_0x29512d(0x62d)+_0x1e0fa4[_0x29512d(0x13e)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0xc5bb63[_0x29512d(0xad7)][_0x29512d(0x921)](_0x2841aa=>_0x29512d(0x4f9)+_0x2841aa+'</li>')[_0x29512d(0xa0a)]('')+_0x29512d(0xa6a)+_0xc5bb63['teachingContent']+_0x29512d(0x703)+_0xc5bb63['practiceProblems'][_0x29512d(0x921)](_0x4b27ea=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x4b27ea[_0x29512d(0x3ee)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x4b27ea[_0x29512d(0x598)]+_0x29512d(0x9e0))['join']('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x29512d(0xa57)](_0x29512d(0x641))[_0x29512d(0x63d)]=_0x29512d(0x5b6)+_0x1e0fa4['topic'],document[_0x29512d(0xa57)](_0x29512d(0x50e))[_0x29512d(0x2b3)]=_0x37b379,document['getElementById'](_0x29512d(0xb3e))[_0x29512d(0x6b0)][_0x29512d(0xbb2)](_0x29512d(0x3db));if(window['MathJax'])MathJax[_0x29512d(0x13d)]();messageModal[_0x29512d(0x6b0)]['add'](_0x29512d(0x3db));}catch(_0x32cae2){console[_0x29512d(0xc93)](_0x29512d(0x1a1),_0x32cae2),showMessage(_0x29512d(0x1fd)+_0x32cae2[_0x29512d(0x8df)]);}}async function handleDuplicateQuiz(_0x14e953){const _0x1b2f91=_0x3b29b2;try{const _0x3d6aff=doc(db,_0x1b2f91(0xb79)+appId+_0x1b2f91(0x53a),_0x14e953),_0x542fa1=await getDoc(_0x3d6aff);if(_0x542fa1[_0x1b2f91(0xb65)]()){const _0x38f458=_0x542fa1[_0x1b2f91(0x7a6)]();let _0x2c7da6='',_0xe7fc14=_0x1b2f91(0xb58),_0x898293=null;if(_0x38f458[_0x1b2f91(0x587)]===_0x1b2f91(0x586)){let _0x5b39d6=_0x38f458['topic'][_0x1b2f91(0xb5a)](_0x1b2f91(0x12d),'')['trim']();_0x2c7da6=_0x1b2f91(0x6ac)+_0x5b39d6,_0xe7fc14=_0x1b2f91(0x369),_0x898293=_0x14e953;}else _0x2c7da6=_0x1b2f91(0x5ca)+_0x38f458[_0x1b2f91(0x13e)];const _0x40d1b4={..._0x38f458,'topic':_0x2c7da6,'createdAt':new Date()['toISOString'](),'quizMode':_0xe7fc14,'pairedQuizId':_0x898293};let _0x300f43;while(!![]){_0x300f43=Math['floor'](0x3e8+Math[_0x1b2f91(0x95a)]()*0x2328)['toString']();const _0x26b19b=await getDoc(doc(db,_0x1b2f91(0xb79)+appId+'/public/data/quizzes',_0x300f43));if(!_0x26b19b[_0x1b2f91(0xb65)]())break;}const _0x29ad94=doc(db,_0x1b2f91(0xb79)+appId+_0x1b2f91(0x53a),_0x300f43);await setDoc(_0x29ad94,_0x40d1b4),_0x40d1b4[_0x1b2f91(0x587)]==='post-test'&&await updateDoc(_0x3d6aff,{'pairedQuizId':_0x300f43}),showMessage(_0x1b2f91(0x276));}else throw new Error(_0x1b2f91(0x7f4));}catch(_0x524161){console['error'](_0x1b2f91(0x25c),_0x524161),showMessage(_0x1b2f91(0x177));}}async function handleDeleteQuiz(_0x2127ec,_0xb10e1d=!![]){const _0x51af6d=_0x3b29b2;try{const _0x176f37=writeBatch(db),_0xdf26ab=collection(db,_0x51af6d(0xb79)+appId+_0x51af6d(0x689)+_0x2127ec+_0x51af6d(0x3d5)),_0xa095c0=await getDocs(_0xdf26ab);_0xa095c0['forEach'](_0x612830=>{const _0xbb39cc=_0x51af6d;_0x176f37[_0xbb39cc(0xa6f)](doc(_0xdf26ab,_0x612830['id']));});const _0x37f728=doc(db,_0x51af6d(0xb79)+appId+_0x51af6d(0x53a),_0x2127ec);_0x176f37[_0x51af6d(0xa6f)](_0x37f728),await _0x176f37[_0x51af6d(0x658)]();try{console[_0x51af6d(0x886)]('Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20'+_0x2127ec+_0x51af6d(0x2a8));const _0x2f7496=collection(db,_0x51af6d(0xb79)+appId+_0x51af6d(0x6f9)),_0x3331aa=await getDocs(_0x2f7496),_0x254be8=[];_0x3331aa[_0x51af6d(0x9aa)](_0x14f596=>{const _0x46bba8=_0x51af6d,_0x2d6282=_0x14f596['data'](),_0xe8c27b=_0x2d6282[_0x46bba8(0xa3b)]||{};let _0xd55bb4=![];for(const _0xcaa922 in _0xe8c27b){const _0x5dc043=_0xe8c27b[_0xcaa922];if(_0x5dc043['linkedQuizIds']&&_0x5dc043['linkedQuizIds'][_0x46bba8(0x4c8)](_0x2127ec)){_0xd55bb4=!![];const _0x1fc6db=doc(db,_0x46bba8(0xb79)+appId+_0x46bba8(0x6f9),_0x14f596['id']),_0x17e894=updateDoc(_0x1fc6db,{[_0x46bba8(0x69a)+_0xcaa922+_0x46bba8(0x2c7)]:arrayRemove(_0x2127ec)});_0x254be8[_0x46bba8(0x4aa)](_0x17e894);}}}),_0x254be8[_0x51af6d(0x423)]>0x0&&(await Promise['all'](_0x254be8),console['log'](_0x51af6d(0xa7e)+_0x254be8['length']+_0x51af6d(0x76c)+_0x2127ec+'.'));}catch(_0x41ea90){console[_0x51af6d(0xc93)](_0x51af6d(0xa00),_0x41ea90);}_0xb10e1d&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0x46d3da){console['error']('Error\x20deleting\x20quiz:',_0x46d3da),_0xb10e1d&&showMessage(_0x51af6d(0x846));}}async function showQuizDetailView(_0xa421ec){const _0x3b1e82=_0x3b29b2;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x3b1e82(0xae6));try{const _0x2359ce=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0xa421ec),_0x2ed4a9=await getDoc(_0x2359ce);if(!_0x2ed4a9[_0x3b1e82(0xb65)]()){showMessage(_0x3b1e82(0x57d));return;}const _0x971b1={'id':_0x2ed4a9['id'],..._0x2ed4a9[_0x3b1e82(0x7a6)]()};currentQuizData=_0x971b1;const _0x4b0863=doc(db,_0x3b1e82(0xb79)+appId+_0x3b1e82(0x304),_0x971b1[_0x3b1e82(0x13a)]),_0x40eda2=await getDoc(_0x4b0863);_0x40eda2['exists']()?(currentProjectData=_0x40eda2['data'](),currentProjectId=_0x971b1['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x971b1['projectId']);document[_0x3b1e82(0xa57)](_0x3b1e82(0x7ec))[_0x3b1e82(0x63d)]=_0x971b1[_0x3b1e82(0x13e)],document[_0x3b1e82(0xa57)](_0x3b1e82(0x233))['textContent']=_0xa421ec;const _0x540777=collection(db,_0x3b1e82(0xb79)+appId+'/public/data/quizzes',_0xa421ec,_0x3b1e82(0xb4d));unsubscribeSubmissionsListener=onSnapshot(_0x540777,_0x347404=>{const _0xe6d673=_0x3b1e82,_0x343de4=_0x347404[_0xe6d673(0x8c5)][_0xe6d673(0x921)](_0x45cd62=>({'id':_0x45cd62['id'],..._0x45cd62[_0xe6d673(0x7a6)]()}));currentSubmissions=_0x343de4;const _0x34fcd9=_0x343de4['filter'](_0x32f855=>_0x32f855[_0xe6d673(0x170)]&&_0x32f855[_0xe6d673(0x170)][_0xe6d673(0x423)]>0x0);renderBehaviorLog(_0x343de4),renderAnswerGrid(currentProjectData[_0xe6d673(0x98d)],_0x34fcd9,_0x971b1),renderAnalytics(_0x971b1,_0x34fcd9),renderQuizResultsTable(currentProjectData[_0xe6d673(0x98d)],_0x343de4,_0x971b1),renderQuizLeaderboard(_0x34fcd9,_0x971b1,_0xe6d673(0x81b));}),showView(_0x3b1e82(0x9a3));}catch(_0x5d23cf){console[_0x3b1e82(0xc93)]('Error\x20showing\x20quiz\x20detail\x20view:',_0x5d23cf),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function renderAnswerGrid(_0x4bd005,_0x1c67bc,_0x287756){const _0x58bcb6=_0x3b29b2,_0x80481a=document[_0x58bcb6(0xa57)](_0x58bcb6(0x128));if(!_0x80481a)return;if(!_0x4bd005||_0x4bd005[_0x58bcb6(0x423)]===0x0){_0x80481a[_0x58bcb6(0x2b3)]=_0x58bcb6(0x54e);return;}const _0x1cb204=_0x287756[_0x58bcb6(0x288)],_0x326ad7=_0x1c67bc[_0x58bcb6(0x4a8)]((_0x35d026,_0x10ef01)=>{const _0x39fc1a=_0x58bcb6;return _0x35d026[_0x10ef01[_0x39fc1a(0xc97)]]=_0x10ef01,_0x35d026;},{}),_0x24b9c8=_0x734823=>String[_0x58bcb6(0x1bc)](0x41+_0x734823),_0x44ba2b=_0x352249=>{const _0x2969ab=_0x58bcb6,_0x581c35=_0x352249['questionType']||_0x287756[_0x2969ab(0x573)];switch(_0x581c35){case _0x2969ab(0xbbc):return _0x352249[_0x2969ab(0x5a9)]&&_0x352249[_0x2969ab(0x5a9)][_0x2969ab(0x423)]>_0x352249[_0x2969ab(0x6c9)]?_0x24b9c8(_0x352249[_0x2969ab(0x6c9)]):'-';case _0x2969ab(0x421):const _0x1ff9f5=_0x352249[_0x2969ab(0x72d)]===!![]||String(_0x352249[_0x2969ab(0x72d)])[_0x2969ab(0x80a)]()==='true';return _0x1ff9f5?_0x2969ab(0x272):'ไม่ใช่';case _0x2969ab(0x8bb):return _0x352249['correctResponse']||'-';case _0x2969ab(0x639):return _0x2969ab(0x726);default:return'-';}},_0x42f46d=(_0x3f0244,_0x55adba)=>{const _0x18d33b=_0x58bcb6;if(_0x55adba[_0x18d33b(0x377)]===null||_0x55adba[_0x18d33b(0x377)]===undefined)return'-';const _0x318611=_0x3f0244[_0x18d33b(0x704)]||_0x287756[_0x18d33b(0x573)];switch(_0x318611){case _0x18d33b(0xbbc):const _0x4c46ec=_0x3f0244[_0x18d33b(0x5a9)]['findIndex'](_0x2a2e4e=>_0x2a2e4e===_0x55adba[_0x18d33b(0x391)]);return _0x4c46ec!==-0x1?_0x24b9c8(_0x4c46ec):_0x55adba['answerText']||'-';case _0x18d33b(0x421):if(_0x55adba['answer']=='0'||_0x55adba[_0x18d33b(0x377)]===!![]||_0x55adba['answer']===_0x18d33b(0x198))return _0x18d33b(0x272);return _0x18d33b(0x749);default:return _0x55adba[_0x18d33b(0x377)];}};let _0x241cdd=_0x58bcb6(0x915)+_0x1cb204[_0x58bcb6(0x921)]((_0x44629e,_0x31b05e)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0x31b05e+0x1)+'</th>')['join']('')+_0x58bcb6(0x724)+_0x1cb204[_0x58bcb6(0x921)](_0x278ee4=>_0x58bcb6(0x706)+_0x44ba2b(_0x278ee4)+_0x58bcb6(0x243))[_0x58bcb6(0xa0a)]('')+_0x58bcb6(0x901);_0x4bd005[_0x58bcb6(0x9aa)](_0x26723d=>{const _0x4050a9=_0x58bcb6;_0x241cdd+='<tr>',_0x241cdd+=_0x4050a9(0x9c2)+_0x26723d+_0x4050a9(0x243);const _0x1646ce=_0x326ad7[_0x26723d];if(_0x1646ce){const _0x3993db=_0x1646ce[_0x4050a9(0x170)][_0x1646ce['attempts']['length']-0x1];_0x1cb204[_0x4050a9(0x9aa)]((_0x67c71c,_0x2f62c0)=>{const _0x2148e3=_0x4050a9,_0x345fc5=_0x3993db[_0x2148e3(0x854)][_0x2148e3(0xc0d)](_0x373539=>_0x373539[_0x2148e3(0x710)]===_0x67c71c['id']);if(_0x345fc5){let _0x48d4c1='';const _0x211f87=_0x345fc5[_0x2148e3(0x3e2)]===!![],_0x1083ba=_0x345fc5[_0x2148e3(0x745)]===!![]||_0x345fc5['wasConfident']===_0x2148e3(0x9ab);_0x1083ba?_0x48d4c1=_0x211f87?_0x2148e3(0x928):_0x2148e3(0x985):_0x48d4c1=_0x211f87?_0x2148e3(0x5cd):_0x2148e3(0xb3b),_0x241cdd+=_0x2148e3(0x71b)+_0x48d4c1+'\x22>'+_0x42f46d(_0x67c71c,_0x345fc5)+'</td>';}else _0x241cdd+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x241cdd+=_0x1cb204[_0x4050a9(0x921)](()=>_0x4050a9(0x292))['join']('');_0x241cdd+='</tr>';}),_0x241cdd+=_0x58bcb6(0xae2),_0x80481a['innerHTML']=_0x241cdd;}function renderQuizResultsTable(_0x329e3a,_0x4b8246,_0x32e21d){const _0x26b848=_0x3b29b2,_0xc8ca3d=_0x4b8246[_0x26b848(0x4a8)]((_0x4f73e1,_0x420e5b)=>{const _0x5a121e=_0x26b848;return _0x4f73e1[_0x420e5b[_0x5a121e(0xc97)]]=_0x420e5b,_0x4f73e1;},{}),_0x2228d6=document[_0x26b848(0x1c1)](_0x26b848(0x5a6));_0x2228d6&&!_0x2228d6[_0x26b848(0x2b3)][_0x26b848(0x4c8)](_0x26b848(0x357))&&(_0x2228d6[_0x26b848(0x2b3)]+='<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>');const _0x304e87=document[_0x26b848(0xa57)](_0x26b848(0x64f));if(!_0x329e3a||_0x329e3a[_0x26b848(0x423)]===0x0){_0x304e87[_0x26b848(0x2b3)]='<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0x45f629=_0x32e21d[_0x26b848(0x163)]===!![],_0x12e963=_0x32e21d[_0x26b848(0x813)]?.['passingScore']??-0x1;let _0x540de7='';_0x329e3a[_0x26b848(0x9aa)](_0x1428f8=>{const _0x560131=_0x26b848,_0x219bbb=_0xc8ca3d[_0x1428f8];let _0x56be1c=_0x560131(0x9fd)+(_0x45f629?'bg-amber-100\x20text-amber-800':'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x45f629?'สอบซ่อม':_0x560131(0x937))+'</span></td>';if(_0x219bbb){if(_0x219bbb[_0x560131(0x170)]&&_0x219bbb[_0x560131(0x170)][_0x560131(0x423)]>0x0){let _0x392ee4=_0x45f629?_0x219bbb[_0x560131(0x6a7)]===_0x219bbb[_0x560131(0xb07)]:_0x12e963!==-0x1&&_0x219bbb[_0x560131(0x6a7)]>=_0x12e963;const _0x4214a2=_0x392ee4?_0x560131(0x48b):_0x560131(0x427),_0x204a50=_0x392ee4?_0x560131(0x622):_0x560131(0x127),_0x1918ba=_0x560131(0x18e)+_0x4214a2+'\x22>'+_0x204a50+_0x560131(0x3a3),_0x354094=_0x560131(0x3fc)+(_0x219bbb[_0x560131(0x170)]?.['length']||0x1)+_0x560131(0x319);_0x540de7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x1428f8+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0x219bbb[_0x560131(0x6a7)]+'\x20/\x20'+_0x219bbb[_0x560131(0xb07)]+_0x560131(0x7d7)+_0x1918ba+_0x560131(0x605)+_0x56be1c+_0x560131(0xb0c)+_0x219bbb[_0x560131(0x59b)]+_0x560131(0x3a8)+_0x219bbb['totalQuestions']+_0x560131(0x976)+_0x219bbb[_0x560131(0x55c)]+_0x560131(0x3a8)+_0x219bbb[_0x560131(0xb07)]+_0x560131(0x91e)+(_0x219bbb[_0x560131(0x7a3)]||0x0)+_0x560131(0x7d7)+_0x354094+_0x560131(0x802)+new Date(_0x219bbb['latestSubmittedAt'])['toLocaleString'](_0x560131(0x6f2))+_0x560131(0xc6a)+_0x1428f8+_0x560131(0xb50);}else{const _0x3a69ef=_0x560131(0x43a);_0x540de7+=_0x560131(0xc50)+_0x1428f8+_0x560131(0x615)+_0x56be1c+_0x560131(0x93a)+_0x3a69ef+_0x560131(0x802)+new Date(_0x219bbb['startedAt'])['toLocaleString']('th-TH')+_0x560131(0x205)+_0x1428f8+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else{const _0xb2d094='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x540de7+=_0x560131(0x388)+_0x1428f8+_0x560131(0x544)+_0x56be1c+_0x560131(0x787)+_0xb2d094+_0x560131(0x8c1);}}),_0x304e87[_0x26b848(0x2b3)]=_0x540de7;}async function confirmRenameQuiz(){const _0x46fa24=_0x3b29b2,_0x1257d8=document[_0x46fa24(0xa57)]('rename-quiz-input')['value'][_0x46fa24(0x9bb)]();if(!_0x1257d8){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x44035f=doc(db,_0x46fa24(0xb79)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x44035f,{'topic':_0x1257d8}),showMessage(_0x46fa24(0x295)),renameQuizModal['classList'][_0x46fa24(0xb35)]('hidden'),actionTargetId=null;}catch(_0x4f4ad8){console[_0x46fa24(0xc93)](_0x46fa24(0x1ae),_0x4f4ad8),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x2c52a1){const _0x9e8404=_0x3b29b2;actionTargetId=_0x2c52a1;const _0x566856=document[_0x9e8404(0xa57)](_0x9e8404(0xa26));_0x566856[_0x9e8404(0x2b3)]=_0x9e8404(0xa14),moveQuizModal['classList'][_0x9e8404(0xbb2)](_0x9e8404(0x3db));try{const _0x310ec9=collection(db,_0x9e8404(0xb79)+appId+_0x9e8404(0x304)),_0x38c407=await getDocs(_0x310ec9),_0x249a14=_0x38c407[_0x9e8404(0x8c5)][_0x9e8404(0x921)](_0x3c457c=>({'id':_0x3c457c['id'],..._0x3c457c[_0x9e8404(0x7a6)]()})),_0x47d03a=_0x249a14[_0x9e8404(0x36d)](_0x9df0d2=>_0x9df0d2['id']!==currentProjectId);if(_0x47d03a[_0x9e8404(0x423)]===0x0){_0x566856[_0x9e8404(0x2b3)]='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document[_0x9e8404(0xa57)](_0x9e8404(0x382))[_0x9e8404(0x267)]=!![];return;}_0x566856[_0x9e8404(0x2b3)]=_0x47d03a[_0x9e8404(0x921)](_0x1e75f7=>_0x9e8404(0x93f)+_0x1e75f7['id']+'\x22>'+_0x1e75f7['projectName']+'</option>')[_0x9e8404(0xa0a)](''),document[_0x9e8404(0xa57)](_0x9e8404(0x382))['disabled']=![];}catch(_0x3dd68d){console['error'](_0x9e8404(0xc99),_0x3dd68d),showMessage('ไม่สามารถโหลดรายการโปรเจคได้'),moveQuizModal[_0x9e8404(0x6b0)][_0x9e8404(0xb35)](_0x9e8404(0x3db));}}async function confirmMoveQuiz(){const _0x5d42c1=_0x3b29b2,_0x5c15c6=document[_0x5d42c1(0xa57)]('move-quiz-project-select')[_0x5d42c1(0x6d4)];if(!_0x5c15c6){showMessage(_0x5d42c1(0x7a8));return;}if(!actionTargetId)return;const _0x27d10c=doc(db,_0x5d42c1(0xb79)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x27d10c,{'projectId':_0x5c15c6}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal['classList']['add'](_0x5d42c1(0x3db)),actionTargetId=null;}catch(_0x5c0122){console[_0x5d42c1(0xc93)](_0x5d42c1(0x9d2),_0x5c0122),showMessage(_0x5d42c1(0x148));}}async function handleQuizSettings(_0x47e33e){const _0x330180=_0x3b29b2;actionTargetId=_0x47e33e;const _0x42f6b1=doc(db,_0x330180(0xb79)+appId+_0x330180(0x53a),_0x47e33e);try{const _0x561b60=await getDoc(_0x42f6b1);if(_0x561b60[_0x330180(0xb65)]()){const _0xbef126=_0x561b60['data'](),_0x5cbc5c=_0xbef126[_0x330180(0x813)]||{},_0x18585a=_0xbef126[_0x330180(0x288)][_0x330180(0x423)];document[_0x330180(0xa57)]('modal-shuffle-select')[_0x330180(0x6d4)]=_0x5cbc5c['shuffle']||_0x330180(0x4cc),document[_0x330180(0xa57)](_0x330180(0x14e))[_0x330180(0x6d4)]=_0x5cbc5c[_0x330180(0xc56)]||_0x330180(0x1ed),document['getElementById']('modal-timer-mode-select')['value']=_0x5cbc5c[_0x330180(0x48e)]||_0x330180(0x4cc),document[_0x330180(0xa57)](_0x330180(0x41c))[_0x330180(0x6d4)]=_0x5cbc5c[_0x330180(0x7ff)]||0xa,document[_0x330180(0xa57)]('modal-passing-score-input')['value']=_0x5cbc5c[_0x330180(0x406)]||Math[_0x330180(0xb26)](_0x18585a/0x2),document['getElementById']('modal-passing-score-input')[_0x330180(0x3c9)]=_0x18585a,document[_0x330180(0xa57)]('modal-adaptive-quiz-checkbox')[_0x330180(0x354)]=_0x5cbc5c[_0x330180(0x1c8)]||![],document[_0x330180(0xa57)](_0x330180(0x766))[_0x330180(0x354)]=_0x5cbc5c[_0x330180(0x6b5)]||![];const _0x162afd=_0x5cbc5c[_0x330180(0x327)]||![];document[_0x330180(0xa57)]('modal-confidence-scoring-checkbox')[_0x330180(0x354)]=_0x162afd,document[_0x330180(0xa57)](_0x330180(0xbc9))[_0x330180(0x6d4)]=_0x5cbc5c[_0x330180(0xa91)]||_0x330180(0x7bf);const _0x4ab236=document[_0x330180(0xa57)](_0x330180(0xc5c));_0x4ab236[_0x330180(0x6b0)][_0x330180(0xc0e)](_0x330180(0x3db),!_0x162afd),document[_0x330180(0xa57)](_0x330180(0x739))['dispatchEvent'](new Event(_0x330180(0x6b6))),quizSettingsModal[_0x330180(0x6b0)][_0x330180(0xbb2)](_0x330180(0x3db));}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x461009){console[_0x330180(0xc93)](_0x330180(0x4d9),_0x461009),showMessage(_0x330180(0x405));}}async function confirmQuizSettings(){const _0x386982=_0x3b29b2;if(!actionTargetId)return;const _0x2cd7fb=doc(db,_0x386982(0xb79)+appId+_0x386982(0x53a),actionTargetId),_0x1c44d1={'shuffle':document['getElementById']('modal-shuffle-select')[_0x386982(0x6d4)],'resultsDisplay':document[_0x386982(0xa57)](_0x386982(0x14e))[_0x386982(0x6d4)],'timerMode':document[_0x386982(0xa57)](_0x386982(0x739))['value'],'timerDuration':parseInt(document[_0x386982(0xa57)]('modal-timer-duration-input')[_0x386982(0x6d4)])||0xa,'passingScore':parseInt(document['getElementById']('modal-passing-score-input')['value'])||0x0,'isAdaptive':document[_0x386982(0xa57)](_0x386982(0x6e9))['checked'],'loopUntilPass':document[_0x386982(0xa57)](_0x386982(0x766))[_0x386982(0x354)],'isConfidenceScoringEnabled':document[_0x386982(0xa57)](_0x386982(0x509))[_0x386982(0x354)],'confidenceMode':document[_0x386982(0xa57)](_0x386982(0xbc9))[_0x386982(0x6d4)]};try{await updateDoc(_0x2cd7fb,{'settings':_0x1c44d1}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal[_0x386982(0x6b0)][_0x386982(0xb35)]('hidden'),actionTargetId=null;}catch(_0x15c2a1){console[_0x386982(0xc93)](_0x386982(0x1cb),_0x15c2a1),showMessage(_0x386982(0x550));}}async function confirmQuizStatus(){const _0x38c6f5=_0x3b29b2;if(!actionTargetId)return;const _0x42e14d=doc(db,_0x38c6f5(0xb79)+appId+_0x38c6f5(0x53a),actionTargetId),_0x21f019=document[_0x38c6f5(0x1c1)]('input[name=\x22status-option\x22]:checked');if(!_0x21f019){showMessage(_0x38c6f5(0xc16));return;}const _0x55be3a=_0x21f019[_0x38c6f5(0x6d4)];let _0x7b3dfd={};if(_0x55be3a==='active'||_0x55be3a===_0x38c6f5(0xa71))_0x7b3dfd={'status':_0x55be3a,'startTime':null,'endTime':null};else{if(_0x55be3a===_0x38c6f5(0x8fe)){const _0x3384df=document[_0x38c6f5(0xa57)](_0x38c6f5(0x759))[_0x38c6f5(0x6d4)],_0x3217dc=document['getElementById'](_0x38c6f5(0x623))[_0x38c6f5(0x6d4)];if(!_0x3384df&&!_0x3217dc){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x7b3dfd={'status':'scheduled','startTime':_0x3384df?new Date(_0x3384df)[_0x38c6f5(0x975)]():null,'endTime':_0x3217dc?new Date(_0x3217dc)[_0x38c6f5(0x975)]():null};}}try{await updateDoc(_0x42e14d,_0x7b3dfd),showMessage('อัปเดตสถานะสำเร็จ'),quizStatusModal[_0x38c6f5(0x6b0)][_0x38c6f5(0xb35)]('hidden'),actionTargetId=null;}catch(_0xe3a7a){console[_0x38c6f5(0xc93)](_0x38c6f5(0x2b5),_0xe3a7a),showMessage(_0x38c6f5(0x3a0));}}function listenForStudentProfiles(_0x5851ae){const _0x2f1b47=_0x3b29b2,_0x19c3a7=collection(db,'artifacts/'+appId+_0x2f1b47(0x527)+_0x5851ae+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x19c3a7,_0x6a89a6=>{const _0x52a3f8=_0x2f1b47,_0x2761d4=_0x6a89a6['docs'][_0x52a3f8(0x921)](_0x2c44d5=>_0x2c44d5[_0x52a3f8(0x7a6)]());renderLeaderboard(_0x2761d4,_0x52a3f8(0x2f3));},_0x223735=>{const _0x5d2708=_0x2f1b47;console[_0x5d2708(0xc93)]('Error\x20listening\x20for\x20student\x20profiles:',_0x223735),document[_0x5d2708(0xa57)](_0x5d2708(0x2f3))['innerHTML']=_0x5d2708(0x781);});}function renderLeaderboard(_0x3d853e,_0x18b338){const _0x3cc1ca=_0x3b29b2,_0x193524=document[_0x3cc1ca(0xa57)](_0x18b338);if(!_0x3d853e||_0x3d853e[_0x3cc1ca(0x423)]===0x0){_0x193524[_0x3cc1ca(0x2b3)]=_0x3cc1ca(0x867);return;}_0x3d853e[_0x3cc1ca(0x445)]((_0x241981,_0x7825fd)=>{const _0x599ec0=_0x3cc1ca,_0x5beac7=(_0x7825fd[_0x599ec0(0x8c2)]||0x0)-(_0x241981[_0x599ec0(0x8c2)]||0x0);if(_0x5beac7!==0x0)return _0x5beac7;const _0x2273f8=(_0x7825fd['badgesCount']?.[_0x599ec0(0x401)]||0x0)-(_0x241981['badgesCount']?.[_0x599ec0(0x401)]||0x0);if(_0x2273f8!==0x0)return _0x2273f8;const _0x163af8=(_0x7825fd['badgesCount']?.[_0x599ec0(0x9d6)]||0x0)-(_0x241981[_0x599ec0(0x2fb)]?.[_0x599ec0(0x9d6)]||0x0);if(_0x163af8!==0x0)return _0x163af8;const _0x417bb0=(_0x7825fd[_0x599ec0(0x2fb)]?.['perfect_score']||0x0)-(_0x241981[_0x599ec0(0x2fb)]?.[_0x599ec0(0x166)]||0x0);if(_0x417bb0!==0x0)return _0x417bb0;const _0x4a0dda=(_0x7825fd[_0x599ec0(0x2fb)]?.['quick_thinker']||0x0)-(_0x241981[_0x599ec0(0x2fb)]?.[_0x599ec0(0x89f)]||0x0);if(_0x4a0dda!==0x0)return _0x4a0dda;return _0x241981['studentName'][_0x599ec0(0x843)](_0x7825fd[_0x599ec0(0xc97)],'th');});let _0x40c4c8='';_0x3d853e[_0x3cc1ca(0x9aa)]((_0x13e926,_0x212338)=>{const _0x498b64=_0x3cc1ca,_0x596840=_0x212338+0x1,_0x52d5bf=_0x13e926[_0x498b64(0x2fb)]||{};let _0x3861d2='';const _0x22917a=[_0x498b64(0x401),_0x498b64(0x166),_0x498b64(0x9d6),_0x498b64(0x89f)];_0x22917a[_0x498b64(0x9aa)](_0x2513fc=>{const _0x298399=_0x498b64;if(_0x52d5bf[_0x2513fc]>0x0){const _0x519a8d=Object['values'](BADGES)[_0x298399(0xc0d)](_0x1d3002=>_0x1d3002['id']===_0x2513fc);_0x519a8d&&(_0x2513fc===_0x298399(0x401)?_0x3861d2+=_0x298399(0x371)+_0x519a8d['name']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x519a8d[_0x298399(0x16a)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x3861d2+=_0x298399(0x371)+_0x519a8d[_0x298399(0xc6f)]+'\x20('+_0x52d5bf[_0x2513fc]+_0x298399(0xbbe)+_0x519a8d[_0x298399(0x16a)]+_0x298399(0x662)+_0x52d5bf[_0x2513fc]+_0x298399(0x8c6));}}),_0x40c4c8+=_0x498b64(0x8ba)+_0x596840+_0x498b64(0x330)+_0x13e926[_0x498b64(0xc97)]+_0x498b64(0xc05)+(_0x13e926['totalPoints']||0x0)+_0x498b64(0x330)+(_0x3861d2||'-')+_0x498b64(0x7e2);}),_0x193524['innerHTML']=_0x40c4c8;}function displayLoopScreen(_0x455d91,_0x1d306,_0x249dbf){const _0x3515f8=_0x3b29b2;let _0x4bbea9='';_0x249dbf!==_0x3515f8(0xbdf)&&(_0x4bbea9='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0x455d91+'\x20/\x20'+_0x1d306+'</strong></p>');const _0x5775a6=_0x3515f8(0xb2b)+_0x4bbea9+_0x3515f8(0x3c2);studentResultArea[_0x3515f8(0x2b3)]=_0x5775a6,studentResultArea[_0x3515f8(0x6b0)][_0x3515f8(0xbb2)]('hidden'),studentQuizArea[_0x3515f8(0x6b0)][_0x3515f8(0xb35)](_0x3515f8(0x3db)),document['getElementById'](_0x3515f8(0xbca))[_0x3515f8(0x3f4)](_0x3515f8(0x1b1),()=>{const _0x50d2cb=_0x3515f8;studentResultArea[_0x50d2cb(0x6b0)][_0x50d2cb(0xb35)](_0x50d2cb(0x3db)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x7ff73b,_0x2f37dd,_0x1a56cb){const _0x3015b8=_0x3b29b2,_0x4424e3=document[_0x3015b8(0xa57)](_0x1a56cb),_0x2e63e6=_0x1a56cb==='student-quiz-leaderboard-table-body',_0x16c512=_0x2f37dd[_0x3015b8(0x288)][_0x3015b8(0x423)],_0x738b9b=document[_0x3015b8(0xa57)](_0x1a56cb)[_0x3015b8(0xcac)](_0x3015b8(0x355));if(_0x738b9b&&!_0x2e63e6){const _0x495ecd=_0x738b9b[_0x3015b8(0x1c1)](_0x3015b8(0xa8d));_0x495ecd[_0x3015b8(0x2b3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}if(!_0x7ff73b||_0x7ff73b[_0x3015b8(0x423)]===0x0){_0x4424e3['innerHTML']=_0x3015b8(0xa58)+(_0x2e63e6?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x5f4e9b=[..._0x7ff73b];_0x5f4e9b[_0x3015b8(0x445)]((_0x2cf105,_0x55e5f2)=>{const _0x19c910=_0x3015b8;let _0xe5a23c,_0x4540be;switch(quizLeaderboardSortBy){case'studentName':_0xe5a23c=_0x2cf105[_0x19c910(0xc97)]||'',_0x4540be=_0x55e5f2[_0x19c910(0xc97)]||'';return quizLeaderboardSortOrder===_0x19c910(0x45c)?_0xe5a23c[_0x19c910(0x843)](_0x4540be,'th'):_0x4540be[_0x19c910(0x843)](_0xe5a23c,'th');case _0x19c910(0x7a3):_0xe5a23c=_0x2cf105['points']||0x0,_0x4540be=_0x55e5f2[_0x19c910(0x7a3)]||0x0;break;case _0x19c910(0x170):_0xe5a23c=_0x2cf105[_0x19c910(0x170)]?.[_0x19c910(0x423)]||0x1,_0x4540be=_0x55e5f2[_0x19c910(0x170)]?.[_0x19c910(0x423)]||0x1;break;case _0x19c910(0x98a):_0xe5a23c=new Date(_0x2cf105['latestSubmittedAt']),_0x4540be=new Date(_0x55e5f2['latestSubmittedAt']);break;case _0x19c910(0x6a7):default:_0xe5a23c=_0x2cf105[_0x19c910(0x6a7)],_0x4540be=_0x55e5f2[_0x19c910(0x6a7)];break;}if(_0xe5a23c<_0x4540be)return quizLeaderboardSortOrder===_0x19c910(0x45c)?-0x1:0x1;if(_0xe5a23c>_0x4540be)return quizLeaderboardSortOrder==='asc'?0x1:-0x1;return 0x0;});const _0xee86d5=_0x2f37dd['isRemedial']===!![],_0x1a723e=_0x2f37dd['settings']?.[_0x3015b8(0x406)]??-0x1;let _0x2d68f3='';_0x5f4e9b['forEach']((_0x3ca9b9,_0x3885f3)=>{const _0x3f565a=_0x3015b8,_0x15eddc=_0x3885f3+0x1;let _0x2ba782='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0xee86d5||_0x1a723e!==-0x1){let _0x122ddf=_0xee86d5?_0x3ca9b9[_0x3f565a(0x6a7)]===_0x16c512:_0x3ca9b9['bestScore']>=_0x1a723e;const _0x5bfbe3=_0x122ddf?_0x3f565a(0x48b):_0x3f565a(0x427),_0x542dba=_0x122ddf?_0x3f565a(0x622):_0x3f565a(0x127);_0x2ba782='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x5bfbe3+'\x22>'+_0x542dba+_0x3f565a(0x3a3);}const _0x3b3bbc=_0x3ca9b9['attempts'][_0x3ca9b9[_0x3f565a(0x170)][_0x3f565a(0x423)]-0x1],_0x2b9cff=(_0x3b3bbc[_0x3f565a(0x6d3)]||[])[_0x3f565a(0x921)](_0x302f19=>{const _0x2277ef=_0x3f565a,_0x44aa17=Object['values'](BADGES)[_0x2277ef(0xc0d)](_0x23f388=>_0x23f388['id']===_0x302f19);return _0x44aa17?_0x2277ef(0x702)+_0x44aa17[_0x2277ef(0xc6f)]+_0x2277ef(0x40d)+_0x44aa17[_0x2277ef(0x16a)]+_0x2277ef(0x678):'';})['join']('');_0x2d68f3+=_0x3f565a(0x133)+_0x15eddc+_0x3f565a(0xc87)+_0x3ca9b9[_0x3f565a(0xc97)]+_0x3f565a(0xbf0)+_0x3ca9b9[_0x3f565a(0x6a7)]+_0x3f565a(0x3a8)+_0x16c512+_0x3f565a(0x87a)+_0x2ba782+_0x3f565a(0x9ea)+(_0x3ca9b9['points']||0x0)+_0x3f565a(0x87a)+(_0x2e63e6?'':_0x3f565a(0x394)+(_0x3ca9b9[_0x3f565a(0x170)]?.[_0x3f565a(0x423)]||0x1)+'</td>')+_0x3f565a(0xbe1)+(_0x2e63e6?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x3ca9b9[_0x3f565a(0x98a)])[_0x3f565a(0x226)]('th-TH')+'</td>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x2b9cff||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x4424e3['innerHTML']=_0x2d68f3,_0x738b9b&&!_0x2e63e6&&_0x738b9b[_0x3015b8(0x3cf)](_0x3015b8(0x59f))[_0x3015b8(0x9aa)](_0x5a8c10=>{const _0x335ab2=_0x3015b8,_0x519027=_0x5a8c10[_0x335ab2(0x1c1)](_0x335ab2(0xbad));if(_0x519027)_0x519027[_0x335ab2(0xbb2)]();_0x5a8c10[_0x335ab2(0x43d)][_0x335ab2(0x445)]===quizLeaderboardSortBy&&(_0x5a8c10[_0x335ab2(0x2b3)]+=_0x335ab2(0x67a)+(quizLeaderboardSortOrder===_0x335ab2(0x45c)?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0xfa323){const _0x399b20=_0x3b29b2;if(!currentQuizData||!currentQuizData['id']||!_0xfa323){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22'+_0xfa323+_0x399b20(0xbab),async()=>{const _0x458606=_0x399b20,_0x50cc63=currentQuizData['id'],_0x68eb1a=doc(db,_0x458606(0xb79)+appId+_0x458606(0x689)+_0x50cc63+'/submissions',_0xfa323);try{await deleteDoc(_0x68eb1a),showMessage(_0x458606(0xb6e)+_0xfa323+_0x458606(0x784));}catch(_0x4dd4aa){console['error'](_0x458606(0xaa8),_0x4dd4aa),showMessage('เกิดข้อผิดพลาดในการลบผลสอบ');}});}async function handleLoadQuiz(){const _0x579bb9=_0x3b29b2,_0x4c94fd=document[_0x579bb9(0xa57)](_0x579bb9(0x2b0)),_0xcb7377=_0x4c94fd[_0x579bb9(0x6d4)]['trim']();if(!_0xcb7377){showMessage('กรุณาป้อนรหัสแบบทดสอบ');return;}loadQuizBtn[_0x579bb9(0x267)]=!![],loadQuizBtn[_0x579bb9(0x2b3)]=_0x579bb9(0x69f);try{const _0x3c6f3a=doc(db,_0x579bb9(0xb79)+appId+_0x579bb9(0x53a),_0xcb7377),_0x268467=await getDoc(_0x3c6f3a);if(!_0x268467[_0x579bb9(0xb65)]()){showMessage(_0x579bb9(0x744));return;}currentQuizData={'id':_0x268467['id'],..._0x268467[_0x579bb9(0x7a6)]()};const _0x32b71b=currentQuizData[_0x579bb9(0xbeb)]||_0x579bb9(0x37e),_0x481cf9=new Date();if(_0x32b71b==='inactive'){showMessage(_0x579bb9(0x463));return;}if(_0x32b71b===_0x579bb9(0x7ce)){const _0xf31880=currentQuizData['startTime']?new Date(currentQuizData[_0x579bb9(0xb32)]):null,_0x4c6d8b=currentQuizData[_0x579bb9(0x4a9)]?new Date(currentQuizData[_0x579bb9(0x4a9)]):null;if(_0xf31880&&_0x481cf9<_0xf31880){showMessage(_0x579bb9(0x9da)+_0xf31880[_0x579bb9(0x226)](_0x579bb9(0x6f2),{'hour12':![]}));return;}if(_0x4c6d8b&&_0x481cf9>_0x4c6d8b){showMessage(_0x579bb9(0x5d8));return;}}const _0x3a4428=currentQuizData[_0x579bb9(0x13a)];currentProjectId=_0x3a4428;const _0x3082ec=doc(db,_0x579bb9(0xb79)+appId+_0x579bb9(0x304),_0x3a4428),_0x3eff98=await getDoc(_0x3082ec);if(!_0x3eff98[_0x579bb9(0xb65)]()){showMessage(_0x579bb9(0x9f1));return;}const _0xf3dac4=_0x3eff98[_0x579bb9(0x7a6)]();currentStudentProjectData=_0xf3dac4,displayStudentNameSelector(_0xf3dac4[_0x579bb9(0x98d)],currentQuizData[_0x579bb9(0x13e)]);}catch(_0x28d52a){console[_0x579bb9(0xc93)](_0x579bb9(0xa80),_0x28d52a),showMessage(_0x579bb9(0x970));}finally{loadQuizBtn['disabled']=![],loadQuizBtn[_0x579bb9(0x2b3)]=_0x579bb9(0x64c);}}async function handleJoinLiveGame(){const _0x34ba85=_0x3b29b2,_0x560f73=document[_0x34ba85(0xa57)](_0x34ba85(0x2a5)),_0x525ddb=document[_0x34ba85(0xa57)](_0x34ba85(0x2fe)),_0x578e4f=document[_0x34ba85(0xa57)](_0x34ba85(0x4e9)),_0x210dd=_0x560f73[_0x34ba85(0x6d4)][_0x34ba85(0x9bb)](),_0x28e256=_0x525ddb['value'][_0x34ba85(0x9bb)]();if(!_0x210dd||!_0x28e256){showMessage(_0x34ba85(0x537));return;}_0x578e4f['disabled']=!![],_0x578e4f[_0x34ba85(0x2b3)]=_0x34ba85(0x826);try{const _0x3154c4=collection(db,_0x34ba85(0xb79)+appId+_0x34ba85(0xac2)),_0x5b6c71=query(_0x3154c4,where(_0x34ba85(0x684),'==',_0x210dd),where(_0x34ba85(0xbeb),'in',['lobby',_0x34ba85(0x3ee)])),_0x2de203=await getDocs(_0x5b6c71);if(_0x2de203['empty']){showMessage(_0x34ba85(0xb18));return;}const _0x584aca=_0x2de203[_0x34ba85(0x8c5)][0x0],_0x5975f7=_0x584aca[_0x34ba85(0x7a6)]();currentLiveGameId=_0x584aca['id'];const _0x40d496=_0x5975f7[_0x34ba85(0x6da)],_0x1b6cf7=doc(db,'artifacts/'+appId+_0x34ba85(0x53a),_0x40d496),_0x4eaea1=await getDoc(_0x1b6cf7);if(!_0x4eaea1[_0x34ba85(0xb65)]()){showMessage(_0x34ba85(0x92f));return;}currentQuizData={'id':_0x4eaea1['id'],..._0x4eaea1['data']()};if(_0x5975f7[_0x34ba85(0x7d2)]&&_0x5975f7['players'][_0x28e256]){const _0xd14633=_0x5975f7[_0x34ba85(0x7d2)][_0x28e256];if(_0xd14633['status']===_0x34ba85(0xa71)){_0x578e4f[_0x34ba85(0x2b3)]=_0x34ba85(0x24e);const _0x693afa={};_0x693afa[_0x34ba85(0x7f7)+_0x28e256+_0x34ba85(0x82a)]=_0x34ba85(0x37e),await updateDoc(doc(db,_0x34ba85(0xb79)+appId+'/public/data/liveGames',currentLiveGameId),_0x693afa),showView(_0x34ba85(0x618)),currentStudentName=_0x28e256,listenForLiveGameUpdates();return;}else{showMessage(_0x34ba85(0x29e));return;}}if(_0x5975f7[_0x34ba85(0xbeb)]!=='lobby'){showMessage('ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว');return;}_0x578e4f['innerHTML']=_0x34ba85(0x820);const _0x3edb96={};_0x3edb96[_0x34ba85(0x7f7)+_0x28e256]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x34ba85(0x37e)},await updateDoc(doc(db,'artifacts/'+appId+_0x34ba85(0xac2),currentLiveGameId),_0x3edb96),currentStudentName=_0x28e256,listenForLiveGameUpdates();}catch(_0x2285be){console['error']('Error\x20joining\x20live\x20game:',_0x2285be),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0x578e4f['disabled']=![],_0x578e4f[_0x34ba85(0x2b3)]='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x584b11,_0x1ede74){const _0x385ad5=_0x3b29b2,_0x5a2065=document[_0x385ad5(0xa57)]('student-name-select');document[_0x385ad5(0xa57)](_0x385ad5(0x42c))['textContent']=_0x385ad5(0x3f0)+_0x1ede74,!_0x584b11||_0x584b11[_0x385ad5(0x423)]===0x0?(_0x5a2065['innerHTML']=_0x385ad5(0x33a),startQuizBtn[_0x385ad5(0x267)]=!![]):(_0x5a2065[_0x385ad5(0x2b3)]=_0x385ad5(0x849),_0x584b11[_0x385ad5(0x9aa)](_0x47c59b=>{const _0x1a9fd7=_0x385ad5,_0x95115a=document[_0x1a9fd7(0x930)](_0x1a9fd7(0x962));_0x95115a[_0x1a9fd7(0x6d4)]=_0x47c59b,_0x95115a[_0x1a9fd7(0x63d)]=_0x47c59b,_0x5a2065[_0x1a9fd7(0x95e)](_0x95115a);}),startQuizBtn[_0x385ad5(0x267)]=![]),studentInitialView['classList'][_0x385ad5(0xb35)](_0x385ad5(0x3db)),studentNameSelectionView['classList'][_0x385ad5(0xbb2)](_0x385ad5(0x3db));}function shuffleArray(_0x1e3ad3){const _0x15e811=_0x3b29b2;for(let _0x4ab3eb=_0x1e3ad3[_0x15e811(0x423)]-0x1;_0x4ab3eb>0x0;_0x4ab3eb--){const _0x4af354=Math['floor'](Math['random']()*(_0x4ab3eb+0x1));[_0x1e3ad3[_0x4ab3eb],_0x1e3ad3[_0x4af354]]=[_0x1e3ad3[_0x4af354],_0x1e3ad3[_0x4ab3eb]];}}function getShuffledQuiz(_0x3aef5d){const _0x5b1f8a=_0x3b29b2;let _0x4c780=JSON[_0x5b1f8a(0x5f1)](JSON[_0x5b1f8a(0xc54)](_0x3aef5d));const _0x22a38a=_0x4c780[_0x5b1f8a(0x813)]?.[_0x5b1f8a(0xb40)]||'none';if(_0x22a38a==='none')return _0x4c780;return(_0x22a38a==='questions_only'||_0x22a38a===_0x5b1f8a(0xbb4))&&shuffleArray(_0x4c780[_0x5b1f8a(0x288)]),(_0x22a38a===_0x5b1f8a(0x203)||_0x22a38a===_0x5b1f8a(0xbb4))&&_0x4c780[_0x5b1f8a(0x288)][_0x5b1f8a(0x9aa)](_0x3f61f8=>{const _0x222e10=_0x5b1f8a,_0x3e5ae3=_0x3f61f8[_0x222e10(0x704)]||_0x4c780[_0x222e10(0x573)];if(_0x3f61f8[_0x222e10(0x5a9)]){let _0x463b3a=_0x3f61f8[_0x222e10(0x5a9)]['map']((_0x2743ca,_0x24c81f)=>({'text':_0x2743ca,'isCorrect':_0x24c81f===_0x3f61f8[_0x222e10(0x6c9)]}));shuffleArray(_0x463b3a),_0x3f61f8[_0x222e10(0x5a9)]=_0x463b3a[_0x222e10(0x921)](_0x5c151b=>_0x5c151b['text']),_0x3f61f8[_0x222e10(0x6c9)]=_0x463b3a[_0x222e10(0x4e3)](_0x2dfefc=>_0x2dfefc['isCorrect']);}_0x3e5ae3==='matching_item'&&_0x3f61f8[_0x222e10(0x889)]&&shuffleArray(_0x3f61f8['allResponses']);}),_0x4c780;}function displayQuizForStudent(_0x20a0ad){const _0x3c58ac=_0x3b29b2;studentQuizArea[_0x3c58ac(0x6b0)][_0x3c58ac(0xbb2)]('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x20a0ad);currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x3c58ac(0x3f4)]('fullscreenchange',handleFullscreenChange),document['addEventListener'](_0x3c58ac(0x6bd),handleVisibilityChange),enterFullscreen(),window[_0x3c58ac(0x3f4)]('mousemove',resetDimTimer),window[_0x3c58ac(0x3f4)](_0x3c58ac(0xb3a),resetDimTimer),window[_0x3c58ac(0x3f4)]('touchstart',resetDimTimer),window[_0x3c58ac(0x3f4)](_0x3c58ac(0x978),resetDimTimer),resetDimTimer());const _0x5ba6a1=currentDisplayedQuiz[_0x3c58ac(0x813)]?.[_0x3c58ac(0x48e)]||'none';if(_0x5ba6a1===_0x3c58ac(0x8a4))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings'][_0x3c58ac(0x7ff)]);else _0x5ba6a1==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x3ebc69=_0x3b29b2,_0x4c1781=currentDisplayedQuiz['settings']?.[_0x3ebc69(0x327)]===!![],_0x429860=currentDisplayedQuiz[_0x3ebc69(0x813)]?.[_0x3ebc69(0xa91)]||_0x3ebc69(0x7bf);let _0x2c50f1=_0x3ebc69(0x8ac)+currentDisplayedQuiz[_0x3ebc69(0x13e)]+_0x3ebc69(0x9e7)+(currentMode===_0x3ebc69(0x9e4)?_0x3ebc69(0x98b):'')+_0x3ebc69(0x79e);currentDisplayedQuiz[_0x3ebc69(0x288)][_0x3ebc69(0x9aa)]((_0x23b4ac,_0xbec58d)=>{const _0x481abc=_0x3ebc69,_0x129b5d=_0x23b4ac[_0x481abc(0x704)]||currentDisplayedQuiz[_0x481abc(0x573)];_0x2c50f1+=_0x481abc(0x25e);if(_0x129b5d===_0x481abc(0x8bb)){}else _0x2c50f1+='<p>'+(_0xbec58d+0x1)+'.\x20'+(_0x23b4ac['instructions']||_0x23b4ac[_0x481abc(0xc1c)])+_0x481abc(0x240),_0x23b4ac[_0x481abc(0xa5d)]&&(_0x2c50f1+=_0x481abc(0x400)+_0x23b4ac[_0x481abc(0xa5d)]+_0x481abc(0xaa5));_0x2c50f1+=_0x481abc(0x380);switch(_0x129b5d){case'short_answer':_0x2c50f1+=_0x481abc(0x76a)+_0xbec58d+_0x481abc(0x6ae);break;case _0x481abc(0x421):_0x2c50f1+=_0x481abc(0x64d)+_0xbec58d+_0x481abc(0x4e0)+_0xbec58d+_0x481abc(0x26d)+_0xbec58d+_0x481abc(0x28b),_0x2c50f1+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0xbec58d+_0x481abc(0x1de)+_0xbec58d+_0x481abc(0x389)+_0xbec58d+_0x481abc(0xb96);break;case'matching_item':_0x2c50f1+=_0x481abc(0x1ee)+_0x23b4ac[_0x481abc(0xc65)]+_0x481abc(0x7d0)+_0xbec58d+_0x481abc(0x429)+_0x23b4ac[_0x481abc(0x889)][_0x481abc(0x921)](_0x4378d7=>_0x481abc(0x93f)+_0x4378d7+'\x22>'+_0x4378d7+_0x481abc(0xca6))[_0x481abc(0xa0a)]('')+_0x481abc(0x3df);break;default:_0x2c50f1+=_0x23b4ac[_0x481abc(0x5a9)][_0x481abc(0x921)]((_0x3b534b,_0x24ca8b)=>_0x481abc(0x653)+_0xbec58d+_0x481abc(0x5d3)+_0x24ca8b+_0x481abc(0x95f)+_0xbec58d+_0x481abc(0x9c0)+_0x24ca8b+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q'+_0xbec58d+_0x481abc(0x5d3)+_0x24ca8b+'\x22>'+_0x3b534b+_0x481abc(0x440))[_0x481abc(0xa0a)]('');break;}_0x2c50f1+='</div>',_0x4c1781&&(_0x2c50f1+=_0x481abc(0x1e8),_0x429860===_0x481abc(0x521)?_0x2c50f1+=_0x481abc(0x2d3)+_0xbec58d+_0x481abc(0x914)+_0xbec58d+_0x481abc(0x1e2)+_0xbec58d+_0x481abc(0xc72)+_0xbec58d+_0x481abc(0xaab):_0x2c50f1+=_0x481abc(0x81d)+_0xbec58d+_0x481abc(0x914)+_0xbec58d+_0x481abc(0xb94)+_0xbec58d+_0x481abc(0x49c),_0x2c50f1+='</div>'),_0x2c50f1+=_0x481abc(0xaa5);}),_0x2c50f1+=_0x3ebc69(0x819),_0x2c50f1+=_0x3ebc69(0x5b8),studentQuizArea[_0x3ebc69(0x2b3)]=_0x2c50f1;if(currentMode==='admin-testing'){const _0x5da8e6=document[_0x3ebc69(0xa57)]('cancel-test-btn');if(_0x5da8e6)_0x5da8e6[_0x3ebc69(0x3f4)]('click',cancelAdminTest);}const _0x2fcafd=document[_0x3ebc69(0xa57)](_0x3ebc69(0xbfc));_0x2fcafd&&(_0x2fcafd[_0x3ebc69(0x3f4)](_0x3ebc69(0x57e),handleSubmitQuiz),_0x2fcafd['addEventListener']('click',_0x416a9f=>{const _0x357807=_0x3ebc69;if(_0x416a9f[_0x357807(0x408)][_0x357807(0x6b0)][_0x357807(0x7a2)]('confidence-choice-btn')){const _0x27d3ef=_0x416a9f['target'],_0x11e305=_0x27d3ef['dataset']['questionIndex'],_0x5b6773=_0x27d3ef[_0x357807(0x43d)][_0x357807(0x6d4)];document[_0x357807(0xa57)]('confidence-input-'+_0x11e305)[_0x357807(0x6d4)]=_0x5b6773;const _0x24c517=_0x27d3ef[_0x357807(0x3ce)];_0x24c517[_0x357807(0x3cf)](_0x357807(0x300))[_0x357807(0x9aa)](_0x2fb0dc=>_0x2fb0dc['classList'][_0x357807(0xbb2)](_0x357807(0x37e))),_0x27d3ef[_0x357807(0x6b0)][_0x357807(0xb35)](_0x357807(0x37e));}}));if(window[_0x3ebc69(0x49e)])window[_0x3ebc69(0x49e)][_0x3ebc69(0x13d)]([studentQuizArea]);}async function handleSubmitQuiz(_0x95d64e){const _0x459766=_0x3b29b2;if(_0x95d64e)_0x95d64e[_0x459766(0x206)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x33b1b5=document[_0x459766(0xa57)](_0x459766(0xbfc));if(!_0x33b1b5)return;const _0x5b76f3=currentDisplayedQuiz[_0x459766(0x813)]?.[_0x459766(0x327)]===!![],_0x2eb11a=currentDisplayedQuiz['settings']?.[_0x459766(0xa91)]||_0x459766(0x7bf);if(_0x5b76f3&&_0x2eb11a==='mandatory'){let _0x2997b5=!![];for(let _0x47a22c=0x0;_0x47a22c<currentDisplayedQuiz[_0x459766(0x288)]['length'];_0x47a22c++){const _0x1d68d9=_0x33b1b5[_0x459766(0x1c1)](_0x459766(0x2e2)+_0x47a22c);if(!_0x1d68d9||_0x1d68d9[_0x459766(0x6d4)]===''){_0x2997b5=![];break;}}if(!_0x2997b5){showMessage(_0x459766(0x2a1));return;}}const _0x6c48be=_0x33b1b5[_0x459766(0x1c1)](_0x459766(0x938)),_0x5c2dbb=currentDisplayedQuiz[_0x459766(0x288)][_0x459766(0xb2e)](_0x25db52=>_0x25db52[_0x459766(0x704)]===_0x459766(0x639));_0x6c48be&&(_0x6c48be[_0x459766(0x267)]=!![],_0x6c48be[_0x459766(0x2b3)]=_0x5c2dbb?_0x459766(0xc03):_0x459766(0x89c));const _0x577099=new FormData(_0x33b1b5),_0x5392e6=currentDisplayedQuiz[_0x459766(0x288)][_0x459766(0x921)]((_0xe81020,_0x384f64)=>{const _0x32aa9b=_0x459766,_0x56e947=_0x577099[_0x32aa9b(0xc43)](_0x32aa9b(0x3ee)+_0x384f64);let _0x1ab914;_0x2eb11a==='mandatory'?_0x1ab914=_0x577099['get']('confidence'+_0x384f64):_0x1ab914=_0x577099['get']('confidence'+_0x384f64)==='on';let _0x2f9e46=null;if(_0x56e947!==null&&_0x56e947!==undefined){const _0x48c1bf=_0xe81020[_0x32aa9b(0x704)]||currentDisplayedQuiz['quizType'];_0x48c1bf==='multiple_choice'||_0x48c1bf===_0x32aa9b(0x14a)?_0x2f9e46=parseInt(_0x56e947):_0x2f9e46=_0x56e947;}return{'answer':_0x2f9e46,'wasConfident':_0x1ab914};}),_0x52f0df=currentQuizData['id'],_0x58fe2d=doc(db,_0x459766(0xb79)+appId+_0x459766(0x689)+_0x52f0df+'/submissions',currentStudentName),_0x1672da=await getDoc(_0x58fe2d),_0x579160=_0x1672da[_0x459766(0xb65)]()?_0x1672da[_0x459766(0x7a6)]():{},_0x2da3ed=_0x579160['attempts']||[];await processAndSubmitAnswers(_0x5392e6,_0x2da3ed);}async function gradeShortAnswerWithAI(_0xee9632,_0x593da6){const _0x89c140=_0x3b29b2;if(!_0xee9632||!_0x593da6)return![];try{const _0x573edb=_0x89c140(0x532)+_0xee9632+_0x89c140(0xac7)+_0x593da6+_0x89c140(0xa3c),_0x420655={'contents':[{'role':'user','parts':[{'text':_0x573edb}]}]},_0x148d0c=_0x89c140(0x4a7),_0x300a05=_0x89c140(0x457)+_0x148d0c,_0x636525=await fetch(_0x300a05,{'method':_0x89c140(0xafb),'headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x420655)});if(!_0x636525['ok'])throw new Error(_0x89c140(0x8cd));const _0x678628=await _0x636525[_0x89c140(0x2aa)](),_0x3ec764=_0x678628[_0x89c140(0xa0d)][0x0][_0x89c140(0x610)]['parts'][0x0][_0x89c140(0x89a)][_0x89c140(0x9bb)]()[_0x89c140(0x80a)]();return _0x3ec764===_0x89c140(0x198);}catch(_0x1a1279){return console[_0x89c140(0xc93)](_0x89c140(0x841),_0x1a1279),![];}}async function processAndSubmitAnswers(_0x4598fe,_0x4d4c0c){const _0x361a2d=_0x3b29b2;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x361a2d(0xbf9)](_0x361a2d(0x211),handleFullscreenChange),document[_0x361a2d(0xbf9)]('visibilitychange',handleVisibilityChange);let _0x65257d=0x0;const _0xf34895=[],_0x55c603=currentDisplayedQuiz['questions']['length'];let _0x7c1a0=0x0,_0x1c716d=[];const _0x1eba11=currentDisplayedQuiz[_0x361a2d(0x288)];for(let _0x3c435c=0x0;_0x3c435c<_0x1eba11['length'];_0x3c435c++){const _0x2fa310=_0x1eba11[_0x3c435c],_0x2ecdbb=_0x4598fe[_0x3c435c],_0x1002e6=_0x2ecdbb?_0x2ecdbb['answer']:null,_0x28b6ea=_0x2ecdbb?_0x2ecdbb[_0x361a2d(0x745)]:null;let _0x50f6ec=![],_0x24a0ff=0x0;if(_0x1002e6!==null&&_0x1002e6!==''){const _0x3a3017=_0x2fa310['questionType']||currentDisplayedQuiz[_0x361a2d(0x573)];switch(_0x3a3017){case _0x361a2d(0x8bb):_0x50f6ec=_0x1002e6===_0x2fa310[_0x361a2d(0x4a4)];break;case _0x361a2d(0x421):const _0x466122=_0x1002e6===!![]||_0x1002e6===_0x361a2d(0x198);_0x50f6ec=_0x466122===_0x2fa310[_0x361a2d(0x72d)];break;case _0x361a2d(0x639):_0x50f6ec=await gradeShortAnswer(_0x1002e6,_0x2fa310);break;case'multiple_choice':default:_0x50f6ec=Number(_0x1002e6)===_0x2fa310[_0x361a2d(0x6c9)];break;}}if(currentDisplayedQuiz['settings']?.['isConfidenceScoringEnabled']){const _0x5b20cb=_0x2ecdbb?_0x2ecdbb[_0x361a2d(0x745)]:null;if(_0x50f6ec&&(_0x5b20cb===!![]||_0x5b20cb===_0x361a2d(0x9ab)))_0x24a0ff=0x2;else{if(_0x50f6ec)_0x24a0ff=0x1;else{if(!_0x50f6ec&&(_0x5b20cb===![]||_0x5b20cb===_0x361a2d(0x66c)||_0x5b20cb===null))_0x24a0ff=0x0;else!_0x50f6ec&&(_0x5b20cb===!![]||_0x5b20cb===_0x361a2d(0x9ab))&&(_0x24a0ff=-0x1);}}}else _0x24a0ff=_0x50f6ec?0x1:0x0;_0x65257d+=_0x24a0ff;if(_0x50f6ec){_0x7c1a0++;if(_0x7c1a0===0x3)_0x1c716d[_0x361a2d(0x4aa)](BADGES[_0x361a2d(0x99b)]['id']);}else _0x7c1a0=0x0;let _0x473002=null;_0x2fa310[_0x361a2d(0x5a9)]&&_0x1002e6!==null&&(_0x473002=_0x2fa310[_0x361a2d(0x5a9)][_0x1002e6]),_0xf34895['push']({'questionId':_0x2fa310['id'],'answer':_0x1002e6,'answerText':_0x473002,'isCorrect':_0x50f6ec,'wasConfident':_0x28b6ea,'pointsAwarded':_0x24a0ff,'originalQuestionText':_0x2fa310[_0x361a2d(0xc65)]||_0x2fa310[_0x361a2d(0xc1c)]});}const _0x430cbc=_0xf34895[_0x361a2d(0x36d)](_0x2b2c05=>_0x2b2c05[_0x361a2d(0x3e2)])[_0x361a2d(0x423)],_0x31f371=currentDisplayedQuiz[_0x361a2d(0x813)]?.[_0x361a2d(0x406)]??Math[_0x361a2d(0xb26)](_0x55c603/0x2);_0x430cbc===_0x55c603&&_0x55c603>0x0&&!currentDisplayedQuiz[_0x361a2d(0x163)]&&_0x1c716d[_0x361a2d(0x4aa)](BADGES[_0x361a2d(0x8a3)]['id']);const _0xb0ded7=currentDisplayedQuiz[_0x361a2d(0x813)]?.['timerMode'];if(_0xb0ded7===_0x361a2d(0x8a4)&&quizStartTime){const _0x1a73ad=(new Date()-quizStartTime)/0x3e8,_0x479ec4=currentDisplayedQuiz[_0x361a2d(0x813)][_0x361a2d(0x7ff)]*0x3c;_0x430cbc>=_0x31f371&&_0x1a73ad<_0x479ec4/0x2&&_0x1c716d[_0x361a2d(0x4aa)](BADGES['QUICK_THINKER']['id']);}_0x4d4c0c[_0x361a2d(0x423)]===0x0&&_0x430cbc===_0x55c603&&_0x55c603>0x0&&_0x1c716d['push'](BADGES[_0x361a2d(0x58a)]['id']);if(_0x4d4c0c[_0x361a2d(0x423)]>0x0){const _0x37859c=_0x4d4c0c[0x0]['score'];if(_0x37859c<_0x31f371&&_0x430cbc>=_0x31f371){const _0x29960c=_0x4d4c0c[_0x361a2d(0xb2e)](_0x1ae58d=>(_0x1ae58d[_0x361a2d(0x6d3)]||[])[_0x361a2d(0x4c8)](BADGES[_0x361a2d(0x902)]['id']));!_0x29960c&&_0x1c716d[_0x361a2d(0x4aa)](BADGES['COMEBACK_KING']['id']);}}_0x4d4c0c[_0x361a2d(0x423)]===0x4&&_0x1c716d['push'](BADGES[_0x361a2d(0x353)]['id']);const _0x55d077=currentDisplayedQuiz[_0x361a2d(0x813)][_0x361a2d(0xc56)];if(currentMode===_0x361a2d(0x9e4)){handleResultDisplay(_0x55d077,_0x430cbc,_0x65257d,_0x1c716d,_0xf34895,_0x55c603);return;}const _0x32577c=currentQuizData['id'],_0x6226af=doc(db,_0x361a2d(0xb79)+appId+_0x361a2d(0x689)+_0x32577c+_0x361a2d(0x3d5),currentStudentName);try{const _0x2585f8=[..._0x4d4c0c],_0xba38={'score':_0x430cbc,'points':_0x65257d,'badges':Array['from'](new Set(_0x1c716d)),'submittedAt':new Date()[_0x361a2d(0x975)](),'answers':_0xf34895};_0x2585f8[_0x361a2d(0x4aa)](_0xba38);const _0x21ae79=_0x4d4c0c['length']===0x0?_0x430cbc:_0x4d4c0c[0x0]['score']||0x0,_0x568609=Math[_0x361a2d(0x3c9)](..._0x2585f8[_0x361a2d(0x921)](_0x4716f1=>_0x4716f1[_0x361a2d(0x5c3)]));await setDoc(_0x6226af,{'studentName':currentStudentName,'totalQuestions':_0x55c603,'attempts':_0x2585f8,'firstScore':_0x21ae79,'bestScore':_0x568609,'latestScore':_0x430cbc,'points':_0x65257d,'latestSubmittedAt':_0xba38[_0x361a2d(0x3a2)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x361a2d(0x13a)],currentStudentName),handleResultDisplay(_0x55d077,_0x430cbc,_0x65257d,_0x1c716d,_0xf34895,_0x55c603);}catch(_0x426a0){console['error'](_0x361a2d(0xbe0),_0x426a0),showMessage(_0x361a2d(0x190));}}async function updateStudentProfile(_0x42e30b,_0x28b9b5){const _0xabb174=_0x3b29b2,_0x22ac60=doc(db,_0xabb174(0xb79)+appId+_0xabb174(0x527)+_0x42e30b+_0xabb174(0xaac),_0x28b9b5);try{const _0x417840=query(collection(db,'artifacts/'+appId+_0xabb174(0x53a)),where(_0xabb174(0x13a),'==',_0x42e30b)),_0x451fb3=await getDocs(_0x417840),_0xb7e8df=new Map(_0x451fb3[_0xabb174(0x8c5)][_0xabb174(0x921)](_0x1c1e22=>[_0x1c1e22['id'],_0x1c1e22[_0xabb174(0x7a6)]()])),_0x2d7d99=Array[_0xabb174(0x35d)](_0xb7e8df['keys']());await runTransaction(db,async _0x404b16=>{const _0x4bfed8=_0xabb174;let _0x46fe5d=0x0;const _0x1de480={};let _0x3e0262=!![],_0x1809a6=0x0,_0x3d0baa=0x0;for(const _0x52099d of _0x2d7d99){const _0x2fb99a=_0xb7e8df[_0x4bfed8(0xc43)](_0x52099d),_0x2a052b=doc(db,_0x4bfed8(0xb79)+appId+_0x4bfed8(0x689)+_0x52099d+_0x4bfed8(0x3d5),_0x28b9b5),_0xe9a53b=await _0x404b16[_0x4bfed8(0xc43)](_0x2a052b);if(_0xe9a53b[_0x4bfed8(0xb65)]()){const _0x18e207=_0xe9a53b[_0x4bfed8(0x7a6)](),_0x1ceb66=_0x18e207[_0x4bfed8(0x170)]||[];if(_0x1ceb66[_0x4bfed8(0x423)]>0x0){const _0x1bb0e6=_0x1ceb66[_0x4bfed8(0x4a8)]((_0x2a6917,_0xda3de)=>{const _0x287cf4=_0x4bfed8;if(_0xda3de['score']>_0x2a6917[_0x287cf4(0x5c3)])return _0xda3de;if(_0xda3de['score']===_0x2a6917[_0x287cf4(0x5c3)])return(_0xda3de['points']||0x0)>(_0x2a6917[_0x287cf4(0x7a3)]||0x0)?_0xda3de:_0x2a6917;return _0x2a6917;},{'score':-0x1,'points':-0x1});_0x1bb0e6[_0x4bfed8(0x5c3)]>-0x1&&(_0x46fe5d+=_0x1bb0e6[_0x4bfed8(0x7a3)]||0x0,(_0x1bb0e6['badges']||[])[_0x4bfed8(0x9aa)](_0x4f954a=>{_0x1de480[_0x4f954a]=(_0x1de480[_0x4f954a]||0x0)+0x1;}));}}if(_0x2fb99a[_0x4bfed8(0x13e)]!=='แบบทดสอบซ่อมเสริม'){_0x3d0baa++;if(_0xe9a53b[_0x4bfed8(0xb65)]()){_0x1809a6++;const _0x5395d0=_0xe9a53b[_0x4bfed8(0x7a6)]();_0x5395d0[_0x4bfed8(0x6a7)]!==_0x5395d0['totalQuestions']&&(_0x3e0262=![]);}else _0x3e0262=![];}}_0x3d0baa>0x0&&_0x1809a6===_0x3d0baa&&_0x3e0262?_0x1de480[_0x4bfed8(0x401)]=0x1:_0x1de480[_0x4bfed8(0x401)]=0x0,_0x404b16['set'](_0x22ac60,{'studentName':_0x28b9b5,'totalPoints':_0x46fe5d,'unlockedBadges':Object[_0x4bfed8(0x71e)](_0x1de480)[_0x4bfed8(0x36d)](_0x1a8c71=>_0x1de480[_0x1a8c71]>0x0),'badgesCount':_0x1de480},{'merge':!![]});});}catch(_0x4c1bfb){console[_0xabb174(0xc93)](_0xabb174(0x8f9),_0x4c1bfb),showMessage(_0xabb174(0xa45));}}function startAdminTest(){const _0x57a58f=_0x3b29b2;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x45ddde=JSON[_0x57a58f(0x5f1)](JSON['stringify'](currentQuizData));currentMode=_0x57a58f(0x9e4),currentStudentName=_0x57a58f(0xa1b),adminView[_0x57a58f(0x6b0)][_0x57a58f(0xb35)](_0x57a58f(0x3db)),studentView[_0x57a58f(0x6b0)]['remove'](_0x57a58f(0x3db)),studentInitialView[_0x57a58f(0x6b0)][_0x57a58f(0xb35)](_0x57a58f(0x3db)),studentNameSelectionView['classList'][_0x57a58f(0xb35)](_0x57a58f(0x3db)),studentResultArea[_0x57a58f(0x6b0)][_0x57a58f(0xb35)](_0x57a58f(0x3db)),studentQuizArea[_0x57a58f(0x6b0)][_0x57a58f(0xbb2)](_0x57a58f(0x3db)),quizStartTime=new Date(),displayQuizForStudent(_0x45ddde);}function handleResultDisplay(_0x5e3a99,_0x25c165,_0x3b2e7f,_0x52869a,_0x4b1334,_0x4fdb1d){const _0x556927=_0x3b29b2;if(_0x5e3a99===_0x556927(0xc3a)){displaySubmissionConfirmation();return;}const _0x58cdc3=currentDisplayedQuiz[_0x556927(0x813)]?.[_0x556927(0x406)]??Math['floor'](_0x4fdb1d/0x2),_0x1fd441=currentDisplayedQuiz[_0x556927(0x813)]?.[_0x556927(0x1c8)]??![],_0x177cd3=currentDisplayedQuiz['settings']?.[_0x556927(0x6b5)]===!![],_0x1460d4=_0x25c165<_0x58cdc3,_0x228561=_0x5e3a99===_0x556927(0x621)||_0x5e3a99===_0x556927(0x4dd);if(_0x177cd3&&_0x1460d4&&!_0x228561){_0x5e3a99==='show_results_and_answers'?displayResultsWithAnswers(_0x25c165,_0x3b2e7f,_0x52869a,_0x4b1334,_0x4fdb1d,!![]):displayLoopScreen(_0x25c165,_0x4fdb1d,_0x5e3a99);return;}if(_0x1fd441&&_0x1460d4){startAdaptiveFlow(_0x4b1334,_0x25c165,_0x4fdb1d);return;}switch(_0x5e3a99){case'show_results_and_answers':displayResultsWithAnswers(_0x25c165,_0x3b2e7f,_0x52869a,_0x4b1334,_0x4fdb1d);break;case _0x556927(0x27f):displayResultsScoreOnly(_0x25c165,_0x3b2e7f,_0x52869a,_0x4fdb1d);break;case _0x556927(0xbdf):displayPassFailOnly(_0x25c165,_0x4fdb1d);break;case'half_mark_status':displayHalfMarkResult(_0x25c165,_0x4fdb1d);break;case'perfect_score_status':displayPerfectScoreResult(_0x25c165,_0x4fdb1d);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0xe629f){const _0x3d23a1=_0x3b29b2;studentReadingArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x3f72c2=_0x3d23a1(0xbea)+_0xe629f+_0x3d23a1(0x2be)+simpleMathPrompt+_0x3d23a1(0x711),_0x5d53c0={'type':'OBJECT','properties':{'questionText':{'type':_0x3d23a1(0xc48)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x3d23a1(0xbe5)},'explanation':{'type':_0x3d23a1(0xc48)}},'required':[_0x3d23a1(0xc1c),_0x3d23a1(0x5a9),_0x3d23a1(0x6c9),_0x3d23a1(0x8dc)]},_0x4eddec={'type':_0x3d23a1(0x31f),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x3d23a1(0x880),'items':_0x5d53c0}},'required':['topic','questions']};try{const _0x2c4dae=await callAnalysisApi(_0x3f72c2,_0x4eddec);_0x2c4dae[_0x3d23a1(0x163)]=!![],studentReadingArea[_0x3d23a1(0x6b0)][_0x3d23a1(0xb35)](_0x3d23a1(0x3db));const _0x7b73cb={...currentDisplayedQuiz[_0x3d23a1(0x813)],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x2c4dae[_0x3d23a1(0x813)]=_0x7b73cb,displayQuizForStudent(_0x2c4dae);}catch(_0x12429c){console[_0x3d23a1(0xc93)](_0x3d23a1(0x97d),_0x12429c),showMessage(_0x3d23a1(0xa72)),showView(_0x3d23a1(0x3a6));}}function displayPassFailOnly(_0x25bfd1,_0x3fcf9){const _0x564909=_0x3b29b2,_0x545323=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x7f4464=currentDisplayedQuiz[_0x564909(0x163)]===!![];let _0x2a2f81='',_0x335a8f=![];if(_0x7f4464||_0x545323!==-0x1){_0x335a8f=_0x7f4464?_0x25bfd1===_0x3fcf9:_0x25bfd1>=_0x545323;const _0x45fde4=_0x335a8f?_0x564909(0x48b):'bg-red-100\x20text-red-800',_0x17ca5a=_0x335a8f?'ผ่าน':_0x564909(0x127);_0x2a2f81='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0x45fde4+'\x22>'+_0x17ca5a+_0x564909(0xc12);}else _0x2a2f81='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x13ad6e=_0x564909(0xbaf)+currentStudentName+_0x564909(0x2b8)+_0x2a2f81+_0x564909(0xb42);studentResultArea['innerHTML']=_0x13ad6e,studentResultArea['classList'][_0x564909(0xbb2)]('hidden'),studentQuizArea['classList'][_0x564909(0xb35)](_0x564909(0x3db)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x335a8f});}function cancelAdminTest(){const _0x3cafea=_0x3b29b2;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x3cafea(0xbf9)](_0x3cafea(0x211),handleFullscreenChange),document[_0x3cafea(0xbf9)](_0x3cafea(0x6bd),handleVisibilityChange),currentMode='admin',studentView[_0x3cafea(0x6b0)][_0x3cafea(0xb35)]('hidden'),adminView['classList']['remove'](_0x3cafea(0x3db)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView('project-detail');}function setupResultScreenBackButton(_0x19b86d){const _0x3171f2=_0x3b29b2,_0x367097={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x19b86d};if(_0x367097[_0x3171f2(0x67f)]){const _0x111022=_0x3171f2(0x881);studentResultArea['insertAdjacentHTML']('beforeend',_0x111022),document[_0x3171f2(0xa57)](_0x3171f2(0xbca))[_0x3171f2(0x3f4)](_0x3171f2(0x1b1),()=>{const _0x32a3e8=_0x3171f2;studentResultArea[_0x32a3e8(0x6b0)][_0x32a3e8(0xb35)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x16c018='back-from-results-btn',_0x49b459=currentMode===_0x3171f2(0x9e4),_0x26c971=_0x49b459?_0x3171f2(0x436):_0x3171f2(0x6f6);let _0x34d3b4='';_0x367097[_0x3171f2(0x22d)]&&(_0x34d3b4+=_0x3171f2(0x64e));let _0x43f4c8=_0x367097[_0x3171f2(0x719)];_0x43f4c8===undefined&&(_0x43f4c8=_0x367097[_0x3171f2(0x5c3)]<_0x367097[_0x3171f2(0xb07)]);_0x43f4c8&&(_0x34d3b4+=_0x3171f2(0x9b1));_0x34d3b4+=_0x3171f2(0x1ce)+_0x16c018+_0x3171f2(0xb8e)+_0x26c971+_0x3171f2(0x774);const _0x2c0b95=_0x3171f2(0x57b)+_0x34d3b4+_0x3171f2(0xaa5);studentResultArea[_0x3171f2(0x306)](_0x3171f2(0x5d9),_0x2c0b95),studentResultArea[_0x3171f2(0x1c1)]('#view-rankings-btn')?.[_0x3171f2(0x3f4)](_0x3171f2(0x1b1),handleShowStudentRankings);const _0x378525=studentResultArea['querySelector'](_0x3171f2(0x7c0));_0x378525&&_0x378525[_0x3171f2(0x3f4)](_0x3171f2(0x1b1),()=>{const _0x935400=_0x3171f2;studentResultArea[_0x935400(0x6b0)][_0x935400(0xb35)](_0x935400(0x3db)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x3171f2(0xa57)](_0x16c018)[_0x3171f2(0x3f4)]('click',()=>{const _0x26b30d=_0x3171f2;_0x49b459?(currentMode=_0x26b30d(0xa9b),studentView['classList']['add']('hidden'),adminView[_0x26b30d(0x6b0)]['remove'](_0x26b30d(0x3db)),showView('project-detail')):(showView(_0x26b30d(0x3a6)),document[_0x26b30d(0xa57)]('quiz-id-input')[_0x26b30d(0x6d4)]='');});}function displayResultsWithAnswers(_0x4e4c1c,_0x17421b,_0x597d11,_0x2541d6,_0x43682f,_0x4e1e4e=![]){const _0x30a9da=_0x3b29b2,_0x4e66a5=_0x43682f>0x0?_0x4e4c1c/_0x43682f*0x64:0x0,_0x54c548=currentDisplayedQuiz['settings']?.[_0x30a9da(0x406)]??-0x1,_0x259edb=currentDisplayedQuiz[_0x30a9da(0x163)]===!![];let _0x17079c='';if(_0x259edb||_0x54c548!==-0x1){let _0x1e574b=_0x259edb?_0x4e4c1c===_0x43682f:_0x4e4c1c>=_0x54c548;const _0x113321=_0x1e574b?_0x30a9da(0x48b):'bg-red-100\x20text-red-800',_0x2db135=_0x1e574b?_0x30a9da(0x622):_0x30a9da(0x127);_0x17079c='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x113321+'\x22>'+_0x2db135+_0x30a9da(0x240);}let _0x1efe1d=_0x30a9da(0x776)+currentStudentName+_0x30a9da(0xc19)+_0x4e4c1c+_0x30a9da(0x6c3)+_0x43682f+_0x30a9da(0xbbb)+_0x17079c+_0x30a9da(0x579)+_0x17421b+_0x30a9da(0xca1)+_0x4e66a5['toFixed'](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x30a9da(0x288)][_0x30a9da(0x9aa)]((_0x27ecb4,_0x246a74)=>{const _0x22a4c8=_0x30a9da,_0x101301=_0x2541d6[_0x246a74],_0x3ad80b=_0x101301[_0x22a4c8(0x377)],_0x3f901f=_0x101301[_0x22a4c8(0x3e2)],_0x39ab1b=_0x27ecb4[_0x22a4c8(0x704)]||currentDisplayedQuiz[_0x22a4c8(0x573)];_0x1efe1d+=_0x22a4c8(0x4cd)+(_0x3f901f?_0x22a4c8(0x648):_0x22a4c8(0x6a8))+_0x22a4c8(0xbcb)+(_0x246a74+0x1)+'.\x20'+(_0x27ecb4[_0x22a4c8(0xc65)]||_0x27ecb4['questionText'])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0x39ab1b){case _0x22a4c8(0x8bb):const _0x370086=_0x3ad80b||_0x22a4c8(0x5bd),_0x17ce98=_0x27ecb4['correctResponse'];_0x1efe1d+='<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22'+(!_0x3f901f?_0x22a4c8(0x52e):'')+'\x22>'+_0x370086+_0x22a4c8(0x303);!_0x3f901f&&(_0x1efe1d+=_0x22a4c8(0x53f)+_0x17ce98+_0x22a4c8(0x240));break;case _0x22a4c8(0x639):_0x1efe1d+=_0x22a4c8(0x214)+(_0x3ad80b||_0x22a4c8(0x5bd))+_0x22a4c8(0x240),_0x1efe1d+=_0x22a4c8(0xa25)+_0x27ecb4[_0x22a4c8(0x5c5)]+'</p>';break;case _0x22a4c8(0x421):_0x1efe1d+='<p\x20class=\x22'+(_0x27ecb4[_0x22a4c8(0x72d)]===!![]?_0x22a4c8(0x1d7):'')+'\x20'+(_0x3ad80b===_0x22a4c8(0x198)&&!_0x3f901f?_0x22a4c8(0x52e):'')+_0x22a4c8(0xb37),_0x1efe1d+=_0x22a4c8(0x308)+(_0x27ecb4[_0x22a4c8(0x72d)]===![]?_0x22a4c8(0x1d7):'')+'\x20'+(_0x3ad80b==='false'&&!_0x3f901f?_0x22a4c8(0x52e):'')+_0x22a4c8(0x5b7);break;default:_0x1efe1d+=_0x27ecb4[_0x22a4c8(0x5a9)][_0x22a4c8(0x921)]((_0x586238,_0x374031)=>{const _0x664a21=_0x22a4c8;let _0x377056='',_0x25c06e='';if(_0x374031===_0x27ecb4[_0x664a21(0x6c9)])_0x377056=_0x664a21(0x1d7),_0x25c06e=_0x664a21(0x2d8);else _0x374031===_0x3ad80b&&(_0x377056=_0x664a21(0x54c),_0x25c06e=_0x664a21(0x57c));return _0x664a21(0x3fa)+_0x377056+'\x22>'+_0x25c06e+_0x586238+_0x664a21(0xaa5);})[_0x22a4c8(0xa0a)]('');break;}_0x1efe1d+=_0x22a4c8(0x778)+(_0x27ecb4[_0x22a4c8(0x8dc)]||_0x22a4c8(0xbc6))+_0x22a4c8(0xaa5);if(!_0x3f901f){const _0x23eb01=_0x27ecb4[_0x22a4c8(0xc65)]||_0x27ecb4[_0x22a4c8(0xc1c)];_0x1efe1d+=_0x22a4c8(0x149)+escape(_0x23eb01)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x1efe1d+='</div>';}),studentResultArea[_0x30a9da(0x2b3)]=_0x1efe1d,renderEarnedBadges(_0x597d11,_0x30a9da(0x81f)),studentResultArea[_0x30a9da(0x6b0)]['remove']('hidden'),studentQuizArea['classList']['add'](_0x30a9da(0x3db)),setupResultScreenBackButton({'isLooping':_0x4e1e4e,'score':_0x4e4c1c,'totalQuestions':_0x43682f,'showRankings':!![]});if(window[_0x30a9da(0x49e)])window[_0x30a9da(0x49e)][_0x30a9da(0x13d)]([studentResultArea]);}function displayResultsScoreOnly(_0x216102,_0xd51fac,_0x150e0e,_0x2336f3){const _0xbbf362=_0x3b29b2,_0x50384e=_0x2336f3>0x0?_0x216102/_0x2336f3*0x64:0x0,_0x4565ef=currentDisplayedQuiz[_0xbbf362(0x813)]?.['passingScore']??-0x1,_0x259329=currentDisplayedQuiz['isRemedial']===!![];let _0x2e254b='';if(_0x259329||_0x4565ef!==-0x1){let _0x173ec7=_0x259329?_0x216102===_0x2336f3:_0x216102>=_0x4565ef;const _0xb3bb76=_0x173ec7?'bg-green-100\x20text-green-800':_0xbbf362(0x427),_0x1e40ad=_0x173ec7?_0xbbf362(0x622):_0xbbf362(0x127);_0x2e254b=_0xbbf362(0x590)+_0xb3bb76+'\x22>'+_0x1e40ad+_0xbbf362(0x240);}let _0x4ec9ac=_0xbbf362(0xbaf)+currentStudentName+_0xbbf362(0x791)+_0x216102+_0xbbf362(0x1e0)+_0x2336f3+_0xbbf362(0xbbb)+_0x2e254b+_0xbbf362(0x579)+_0xd51fac+_0xbbf362(0x115)+_0x50384e[_0xbbf362(0x4f1)](0x0)+_0xbbf362(0x6d5);studentResultArea[_0xbbf362(0x2b3)]=_0x4ec9ac,renderEarnedBadges(_0x150e0e,'earned-badges-container'),studentResultArea[_0xbbf362(0x6b0)]['remove'](_0xbbf362(0x3db)),studentQuizArea[_0xbbf362(0x6b0)][_0xbbf362(0xb35)](_0xbbf362(0x3db)),setupResultScreenBackButton({'score':_0x216102,'totalQuestions':_0x2336f3,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x1b8454=_0x3b29b2;let _0x3f303c=_0x1b8454(0x56d)+currentStudentName+_0x1b8454(0x4eb);studentResultArea[_0x1b8454(0x2b3)]=_0x3f303c,studentResultArea[_0x1b8454(0x6b0)][_0x1b8454(0xbb2)](_0x1b8454(0x3db)),studentQuizArea[_0x1b8454(0x6b0)][_0x1b8454(0xb35)]('hidden'),document['getElementById'](_0x1b8454(0x478))['addEventListener'](_0x1b8454(0x1b1),()=>{const _0x231684=_0x1b8454;showView(_0x231684(0x3a6)),document['getElementById'](_0x231684(0x2b0))['value']='';});}function renderEarnedBadges(_0x1b37b1,_0x518d9f){const _0x23ab19=_0x3b29b2,_0x376298=document['getElementById'](_0x518d9f);if(!_0x376298||!_0x1b37b1||_0x1b37b1[_0x23ab19(0x423)]===0x0)return;let _0x13e5ac='';_0x1b37b1[_0x23ab19(0x9aa)]((_0x36750f,_0x3a2658)=>{const _0x2e73e4=_0x23ab19,_0x151153=Object[_0x2e73e4(0x4bb)](BADGES)[_0x2e73e4(0xc0d)](_0x281d20=>_0x281d20['id']===_0x36750f);_0x151153&&(_0x13e5ac+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x3a2658*0.2+_0x2e73e4(0x18c)+_0x151153[_0x2e73e4(0xc74)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x151153['icon']+_0x2e73e4(0xc1d)+_0x151153['name']+_0x2e73e4(0x7f5));}),_0x376298[_0x23ab19(0x2b3)]=_0x13e5ac;}function startPresentation(_0x514943){const _0x15a293=_0x3b29b2;currentQuizData=getShuffledQuiz(_0x514943),currentPresentationSlide=0x0,presentationModal[_0x15a293(0xb97)][_0x15a293(0xb10)]='flex',renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x44b943=_0x3b29b2;document['fullscreenElement']&&document['exitFullscreen'](),presentationModal[_0x44b943(0xb97)][_0x44b943(0xb10)]=_0x44b943(0x4cc);}function renderPresentationSlide(_0x93aaa6){const _0x574a15=_0x3b29b2,_0x580319=document[_0x574a15(0xa57)](_0x574a15(0x70f));if(!currentQuizData||!currentQuizData[_0x574a15(0x288)]||!currentQuizData[_0x574a15(0x288)][_0x93aaa6]){_0x580319['innerHTML']=_0x574a15(0x220);return;}const _0x5b9a81=currentQuizData[_0x574a15(0x288)][_0x93aaa6],_0x2c40be=_0x5b9a81[_0x574a15(0x704)]||currentQuizData[_0x574a15(0x573)];_0x580319[_0x574a15(0x2b3)]='';let _0x5f437c=_0x574a15(0xa01)+(_0x5b9a81[_0x574a15(0xa5d)]?_0x574a15(0x400)+_0x5b9a81['imageCode']+_0x574a15(0xaa5):'')+_0x574a15(0x655)+(_0x93aaa6+0x1)+'.\x20'+(_0x5b9a81['stem']||_0x5b9a81[_0x574a15(0xc1c)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x2c40be){case _0x574a15(0x8bb):_0x5f437c+=_0x5b9a81[_0x574a15(0x889)]['map'](_0x38ca23=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x38ca23+_0x574a15(0xc29))[_0x574a15(0xa0a)]('');break;case _0x574a15(0x421):_0x5f437c+=_0x574a15(0x6e4),_0x5f437c+=_0x574a15(0x351);break;case _0x574a15(0x7c4):case _0x574a15(0x639):_0x5f437c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x574a15(0x14a):case'multiple_choice':default:_0x5f437c+=_0x5b9a81[_0x574a15(0x5a9)]['map']((_0x5e8042,_0x14dcff)=>_0x574a15(0x3e6)+_0x14dcff+_0x574a15(0x289)+_0x5e8042+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');break;}_0x5f437c+=_0x574a15(0x6d0)+(_0x5b9a81[_0x574a15(0x8dc)]||_0x574a15(0xbc6))+_0x574a15(0x44b),_0x580319['innerHTML']=_0x5f437c;if(window[_0x574a15(0x49e)])window[_0x574a15(0x49e)]['typesetPromise']([_0x580319]);let _0x1b9b88=[];switch(_0x2c40be){case _0x574a15(0x8bb):_0x1b9b88=_0x5b9a81[_0x574a15(0x889)]||[];break;case _0x574a15(0x421):_0x1b9b88=[_0x574a15(0x272),_0x574a15(0x749)];break;default:_0x1b9b88=_0x5b9a81[_0x574a15(0x5a9)]||[];break;}const _0x33e2a4=document[_0x574a15(0xa57)](_0x574a15(0x464));_0x33e2a4&&(_0x33e2a4[_0x574a15(0xbed)]=()=>{openScratchpad(_0x5b9a81,_0x1b9b88);});document[_0x574a15(0x3cf)]('.presentation-option')[_0x574a15(0x9aa)](_0x493bf3=>{const _0x5249fc=_0x574a15;_0x493bf3[_0x5249fc(0x3f4)](_0x5249fc(0x1b1),_0x156645=>revealAnswerForPresentation(_0x93aaa6,_0x156645[_0x5249fc(0xb51)]));});const _0x5bc42f=document[_0x574a15(0xa57)]('check-presentation-answer-btn');_0x5bc42f&&_0x5bc42f[_0x574a15(0x3f4)]('click',()=>checkShortAnswerForPresentation(_0x93aaa6)),document[_0x574a15(0xa57)]('slide-counter')[_0x574a15(0x63d)]=_0x574a15(0x728)+(_0x93aaa6+0x1)+_0x574a15(0x3a8)+currentQuizData[_0x574a15(0x288)][_0x574a15(0x423)],document[_0x574a15(0xa57)](_0x574a15(0x8d2))[_0x574a15(0x267)]=_0x93aaa6===0x0,document[_0x574a15(0xa57)](_0x574a15(0x4d3))[_0x574a15(0x267)]=_0x93aaa6===currentQuizData[_0x574a15(0x288)][_0x574a15(0x423)]-0x1;}async function checkShortAnswerForPresentation(_0x225493){const _0x4bee97=_0x3b29b2,_0x3015de=currentQuizData[_0x4bee97(0x288)][_0x225493],_0x7f3c16=document[_0x4bee97(0xa57)](_0x4bee97(0x866)),_0x490d24=document[_0x4bee97(0xa57)]('check-presentation-answer-btn'),_0x2b4116=document[_0x4bee97(0xa57)](_0x4bee97(0xb1f)),_0x4a17ec=document[_0x4bee97(0xa57)](_0x4bee97(0xc89));if(!_0x7f3c16||!_0x490d24||!_0x2b4116||!_0x4a17ec)return;const _0x1dfa29=_0x7f3c16[_0x4bee97(0x6d4)][_0x4bee97(0x9bb)]();if(_0x1dfa29==='')return;_0x490d24['disabled']=!![],_0x490d24['innerHTML']='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0x7f3c16[_0x4bee97(0x267)]=!![];const _0x373b6d=await gradeShortAnswer(_0x1dfa29,_0x3015de);_0x373b6d?_0x2b4116[_0x4bee97(0x2b3)]=_0x4bee97(0x3a5):_0x2b4116[_0x4bee97(0x2b3)]=_0x4bee97(0x510)+_0x3015de['idealAnswer']+')',_0x2b4116['classList']['remove']('hidden'),_0x4a17ec['classList'][_0x4bee97(0xbb2)](_0x4bee97(0x3db)),_0x490d24[_0x4bee97(0x6b0)]['add']('hidden');}function revealAnswerForPresentation(_0x56517d,_0x2fe1f9){const _0x3d8a4d=_0x3b29b2,_0x3b4e75=currentQuizData[_0x3d8a4d(0x288)][_0x56517d],_0x22920a=_0x3b4e75['questionType']||currentQuizData[_0x3d8a4d(0x573)];document[_0x3d8a4d(0x3cf)](_0x3d8a4d(0x8f5))[_0x3d8a4d(0x9aa)](_0x27a9b9=>{const _0x283afb=_0x3d8a4d;_0x27a9b9[_0x283afb(0x267)]=!![],_0x27a9b9[_0x283afb(0x6b0)][_0x283afb(0xbb2)](_0x283afb(0x9d9));let _0x38b7ec=![];if(_0x22920a===_0x283afb(0xbbc)||_0x22920a===_0x283afb(0x14a)){const _0x4af4e6=parseInt(_0x27a9b9['dataset']['index']);_0x38b7ec=_0x4af4e6===_0x3b4e75[_0x283afb(0x6c9)];}else{if(_0x22920a===_0x283afb(0x421)){const _0x3bf96f=_0x27a9b9['dataset'][_0x283afb(0x377)]===_0x283afb(0x198);_0x38b7ec=_0x3bf96f===_0x3b4e75['correctAnswer'];}else _0x22920a===_0x283afb(0x8bb)&&(_0x38b7ec=_0x27a9b9[_0x283afb(0x63d)]['trim']()===_0x3b4e75[_0x283afb(0x4a4)]);}_0x38b7ec?_0x27a9b9[_0x283afb(0x6b0)][_0x283afb(0xb35)](_0x283afb(0x725),_0x283afb(0x443),_0x283afb(0x8db)):_0x27a9b9[_0x283afb(0x6b0)][_0x283afb(0xb35)]('opacity-50');}),_0x2fe1f9['classList'][_0x3d8a4d(0xbb2)](_0x3d8a4d(0xc18));let _0x5b7a0d=![];if(_0x22920a===_0x3d8a4d(0xbbc))_0x5b7a0d=parseInt(_0x2fe1f9[_0x3d8a4d(0x43d)][_0x3d8a4d(0xb52)])===_0x3b4e75[_0x3d8a4d(0x6c9)];else{if(_0x22920a===_0x3d8a4d(0x421))_0x5b7a0d=_0x2fe1f9[_0x3d8a4d(0x43d)][_0x3d8a4d(0x377)]==='true'===_0x3b4e75[_0x3d8a4d(0x72d)];else _0x22920a==='matching_item'&&(_0x5b7a0d=_0x2fe1f9[_0x3d8a4d(0x63d)][_0x3d8a4d(0x9bb)]()===_0x3b4e75['correctResponse']);}!_0x5b7a0d&&_0x2fe1f9[_0x3d8a4d(0x6b0)][_0x3d8a4d(0xb35)]('bg-red-500',_0x3d8a4d(0x443),_0x3d8a4d(0x559)),document['getElementById'](_0x3d8a4d(0xc89))[_0x3d8a4d(0x6b0)][_0x3d8a4d(0xbb2)](_0x3d8a4d(0x3db));}function startWholeQuizTimer(_0x29b54f){const _0x599202=_0x3b29b2,_0x2fa1be=document[_0x599202(0xa57)](_0x599202(0xbdb));if(!_0x2fa1be)return;const _0x263b6b=Date[_0x599202(0x8d7)]()+_0x29b54f*0x3c*0x3e8;_0x2fa1be[_0x599202(0x2b3)]=_0x599202(0x8c3);const _0x28ac48=document[_0x599202(0xa57)](_0x599202(0x9bd));quizTimerInterval=setInterval(()=>{const _0x157794=_0x599202,_0x3eca84=_0x263b6b-Date['now']();if(_0x3eca84<=0x0)clearInterval(quizTimerInterval),_0x28ac48[_0x157794(0x63d)]=_0x157794(0x785),showMessage(_0x157794(0x910)),handleSubmitQuiz(null);else{const _0x280c18=Math[_0x157794(0xb26)](_0x3eca84/0x3e8/0x3c%0x3c)['toString']()[_0x157794(0xaa9)](0x2,'0'),_0x235a31=Math['floor'](_0x3eca84/0x3e8%0x3c)[_0x157794(0xa5a)]()['padStart'](0x2,'0');_0x28ac48[_0x157794(0x63d)]=_0x280c18+':'+_0x235a31;}},0x3e8);}function renderPerQuestionView(){const _0xb02d2=_0x3b29b2;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x547477=currentDisplayedQuiz[_0xb02d2(0x288)][currentQuestionIndex],_0x5791f0=_0x547477[_0xb02d2(0x704)]||currentDisplayedQuiz['quizType'],_0xa09be=currentDisplayedQuiz[_0xb02d2(0x813)]?.[_0xb02d2(0x327)]===!![];let _0x167a94=_0xb02d2(0x189)+(currentQuestionIndex+0x1)+_0xb02d2(0x562)+currentDisplayedQuiz['questions'][_0xb02d2(0x423)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0xb02d2(0x9e4)?_0xb02d2(0x98b):'')+_0xb02d2(0x9e9)+currentDisplayedQuiz[_0xb02d2(0x13e)]+_0xb02d2(0x5cb);studentQuizArea['innerHTML']=_0x167a94;let _0x593e3a=_0x547477['stem']||_0x547477[_0xb02d2(0xc1c)];_0x547477[_0xb02d2(0xa5d)]&&(_0x593e3a+=_0xb02d2(0x400)+_0x547477[_0xb02d2(0xa5d)]+_0xb02d2(0xaa5));let _0xa24433='';switch(_0x5791f0){case _0xb02d2(0x639):case _0xb02d2(0x7c4):_0xa24433=_0xb02d2(0xa48);break;case _0xb02d2(0x421):_0xa24433=_0xb02d2(0xc78);break;case _0xb02d2(0x8bb):_0xa24433='<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x547477[_0xb02d2(0x889)]||[])['map'](_0x130bf9=>_0xb02d2(0x93f)+_0x130bf9+'\x22>'+_0x130bf9+_0xb02d2(0xca6))[_0xb02d2(0xa0a)]('')+_0xb02d2(0xb73);break;default:_0x547477['options']&&(_0xa24433=_0x547477[_0xb02d2(0x5a9)]['map']((_0x26eff8,_0x381781)=>_0xb02d2(0x903)+_0x381781+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x381781+_0xb02d2(0x298)+_0x381781+'\x22>'+_0x26eff8+_0xb02d2(0x5ce))['join'](''));break;}document[_0xb02d2(0xa57)](_0xb02d2(0x5e9))[_0xb02d2(0x2b3)]=_0x593e3a,document[_0xb02d2(0xa57)]('per-question-options')[_0xb02d2(0x2b3)]=_0xa24433;const _0x2a13a9=currentDisplayedQuiz[_0xb02d2(0x813)]?.['isConfidenceScoringEnabled']===!![],_0x494b49=currentDisplayedQuiz[_0xb02d2(0x813)]?.['confidenceMode']||_0xb02d2(0x7bf);if(_0x2a13a9&&_0x494b49===_0xb02d2(0x7bf)){const _0x4f8c5a=_0xb02d2(0x479);studentQuizArea[_0xb02d2(0x1c1)]('.mb-6.p-4')['insertAdjacentHTML'](_0xb02d2(0x5d9),_0x4f8c5a);}studentQuizArea[_0xb02d2(0x306)](_0xb02d2(0x5d9),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz[_0xb02d2(0x288)]['length']-0x1?'ส่งคำตอบ':_0xb02d2(0x768))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20');currentMode===_0xb02d2(0x9e4)&&document[_0xb02d2(0xa57)](_0xb02d2(0x604))?.[_0xb02d2(0x3f4)]('click',cancelAdminTest);document['getElementById'](_0xb02d2(0x6ee))[_0xb02d2(0x3f4)](_0xb02d2(0x1b1),()=>handleNextQuestionInTimedMode(![]));if(window[_0xb02d2(0x49e)])window[_0xb02d2(0x49e)]['typesetPromise']([studentQuizArea]);currentDisplayedQuiz[_0xb02d2(0x813)]?.['timerMode']===_0xb02d2(0x545)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x60cd36=_0x3b29b2,_0x1b5854=currentDisplayedQuiz[_0x60cd36(0x813)][_0x60cd36(0x7ff)],_0x54dab7=document[_0x60cd36(0xa57)](_0x60cd36(0x87b));if(!_0x54dab7)return;let _0x436504=_0x1b5854;_0x54dab7[_0x60cd36(0x2b3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x436504+_0x60cd36(0x7d1);const _0x28a520=document['getElementById'](_0x60cd36(0xb23)),_0x1c6af3=document[_0x60cd36(0xa57)]('per-q-countdown');perQuestionTimerInterval=setInterval(()=>{const _0x56de18=_0x60cd36;_0x436504--;const _0xf5fb28=_0x436504/_0x1b5854*0x64;_0x28a520[_0x56de18(0xb97)][_0x56de18(0x159)]=_0xf5fb28+'%',_0x1c6af3[_0x56de18(0x63d)]=_0x436504,_0x436504<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x22f210=![]){const _0x406ea0=_0x3b29b2;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x24ea9f=null,_0x52e4d2=![];if(!_0x22f210){const _0x1f179a=currentDisplayedQuiz[_0x406ea0(0x288)][currentQuestionIndex],_0x28799f=_0x1f179a[_0x406ea0(0x704)]||currentDisplayedQuiz[_0x406ea0(0x573)];if(_0x28799f===_0x406ea0(0x639)||_0x28799f===_0x406ea0(0x7c4))_0x24ea9f=document[_0x406ea0(0x1c1)]('textarea[name=\x22question_single\x22]')?.[_0x406ea0(0x6d4)]['trim']()??'';else{if(_0x28799f===_0x406ea0(0x8bb))_0x24ea9f=document[_0x406ea0(0x1c1)](_0x406ea0(0x7c1))?.[_0x406ea0(0x6d4)]??'';else{const _0x59628e=document[_0x406ea0(0x1c1)](_0x406ea0(0xc4f));_0x59628e&&(_0x24ea9f=_0x59628e[_0x406ea0(0x6d4)]);}}if(_0x24ea9f===null||_0x24ea9f===''){showMessage(_0x406ea0(0x151)),startPerQuestionTimer();return;}const _0x294cbe=currentDisplayedQuiz[_0x406ea0(0x813)]?.[_0x406ea0(0x327)]===!![],_0x7b5582=currentDisplayedQuiz[_0x406ea0(0x813)]?.[_0x406ea0(0xa91)]||_0x406ea0(0x7bf);if(_0x294cbe&&_0x7b5582===_0x406ea0(0x521)){document[_0x406ea0(0xa57)](_0x406ea0(0x93c))[_0x406ea0(0x43d)]['currentMode']='timed',document['getElementById'](_0x406ea0(0x16b))['value']=_0x24ea9f,document[_0x406ea0(0xa57)](_0x406ea0(0x93c))[_0x406ea0(0x6b0)][_0x406ea0(0xbb2)](_0x406ea0(0x3db));return;}const _0x55d0e2=document['getElementById'](_0x406ea0(0x4ac));_0x55d0e2&&(_0x52e4d2=_0x55d0e2['checked']);}const _0x162cd7={'answer':_0x24ea9f,'wasConfident':_0x52e4d2};proceedToNextQuestion(_0x162cd7);}async function finalizePerQuestionQuiz(){const _0x391a3a=_0x3b29b2,_0x257924=currentDisplayedQuiz[_0x391a3a(0x288)][_0x391a3a(0xb2e)](_0x2ab998=>_0x2ab998['questionType']===_0x391a3a(0x639));_0x257924?showMessage(_0x391a3a(0x803)):showMessage(_0x391a3a(0x67d));const _0x24f12e=currentQuizData['id'],_0x366be3=doc(db,_0x391a3a(0xb79)+appId+_0x391a3a(0x689)+_0x24f12e+_0x391a3a(0x3d5),currentStudentName),_0x4aeb31=await getDoc(_0x366be3),_0x4d21fc=_0x4aeb31['exists']()?_0x4aeb31['data']():{},_0x25c674=_0x4d21fc[_0x391a3a(0x170)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x25c674);}function _0x8f90(){const _0x41eb6d=['both','<div\x20class=\x22space-y-4\x22>','right','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','ondragend','เกิดข้อผิดพลาดในการปักหมุด','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','multiple_choice','วงรี','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','pen-tools-group','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','.edit-hidden-parallel-shortcut-btn','.shortcut-tab-btn','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่มีคำอธิบาย','close-lesson-plan-modal-footer-btn','\x22\x20data-name=\x22','modal-confidence-mode-select','retake-quiz-loop-btn','\x22><p\x20class=\x22font-semibold\x22>','.score','Error\x20updating\x20sort\x20preference:','start-presentation-btn','#F3E8FF','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','Failed\x20to\x20generate\x20lesson:','uid','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','Authentication\x20failed:','mean','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','.live-answer-btn,\x20#live-submit-short-answer-btn','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','timer-container','undo-btn','submit-team-answer-btn','274192258111','show_pass_fail_only','Error\x20saving\x20submission:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาตั้งชื่อแท็บใหม่:','พื้นที่ใต้กราฟ/ระหว่างกราฟ','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','NUMBER','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','num-questions','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบตารางสำหรับ\x20Export','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','status','request','onclick','</div></div></div>','getContext','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','custom-math-topic-input','</span>','quiz-bank-modal','ไม่สามารถสร้างโปรเจคได้','Failed\x20to\x20get\x20standardized\x20topic:','.delete-hidden-shortcut-btn','จุด\x20เส้น\x20ระนาบ','manage-tab','removeEventListener','อนุพันธ์:\x20กฎลูกโซ่','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','quiz-form','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','admin-password-input','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','cancel-parallel-shortcut-edit-btn','then','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','type','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20deleting\x20topic:','Invalid\x20response\x20structure\x20from\x20AI.','คุณแน่ใจว่าต้องการลบแท็บนี้?','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','gain','find','toggle','สรุปผลสุดท้าย','.submittedAt','.parallel-shortcut-tab-btn','</span></div>','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','AI\x20Formula\x20Fix\x20Error:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','กรุณาเลือกสถานะ','ที่พิมพ์ได้\x20จำนวน\x20','opacity-50','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','กำลังสร้างแบบทดสอบจากหัวข้อ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','questionText','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','confirm-create-project-btn','bg-black/10','#6366F1','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตารางความถี่','จำนวนคู่:','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','\x20ข้อ\x20','referenceFileUrl','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','date_asc','shuffledQuiz','has','.edit-quiz-btn','Error\x20saving\x20visibility\x20settings:','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','end-team-quiz-btn','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','ระยะทางและจุดกึ่งกลาง','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','ไม่มี','.answeredCurrentQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','manual_release','\x20mr-2\x22></i>','\x20</div>\x0a\x20\x20\x20\x20','ชื่อหัวข้อห้ามว่าง','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','confidence-scoring-checkbox','get','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','cos','mouseup','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','STRING','ลบโปรเจค\x20\x22','GlobalWorkerOptions','โดเมนและเรนจ์','-tab-content','.topic-selection-btn','):\x20','input[name=\x22question_single\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','student-team-selection-view','onerror','\x5ccdot','stringify','Blueprint\x20O-NET\x20ป.6','resultsDisplay','/questionBank','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','\x20ตัวเลือก.\x20','%PDF','game-start-mode','modal-confidence-mode-container','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','บทเรียนเรื่อง:\x20','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','\x22\x20class=\x22color-palette-btn\x20','file-shortcut-name-input','auto','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','eraser-tool-btn','stem','project-passcode-input','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20จุดเรียบร้อยแล้ว','Error\x20generating\x20parallel\x20test\x20from\x20bank:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','#26890c','overallGroups','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','name','Error\x20analyzing\x20blueprint\x20topics:',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','.ai-fix-formula-btn','description','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','rgba(239,\x2068,\x2068,\x200.7)','preTestId','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','shortcut-id-input','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','สมมาตร\x20(แกน/จุด)','bp-modal-quiz-type-select','เซียนสมองไว','329ggDfhz','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','student-progress-view','preTScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','parallel-shortcuts-loading-msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','presentation-explanation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','กรุณาเลือกคำตอบก่อนครับ','Error\x20saving\x20game\x20results:','text-blue-800','Error\x20clearing\x20linked\x20quiz:','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','answeredCurrentQuestion','พบ\x20Sync\x20Game!','error','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','close-lesson-plan-modal-btn','กรุณาพิมพ์คำตอบ','studentName','save-quiz-edits-btn','Error\x20fetching\x20projects\x20for\x20move:','generate-from-file-btn','หลังเรียน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manage','catch','กรุณาเลือกคำตอบ','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','generated-quiz-container','hasOwnProperty','แก้ไขสูตรคณิตศาสตร์\x20','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</option>','touchend','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','แบบทดสอบที่ติดดาว','Attempting\x20to\x20save\x20game\x20results...','memory','closest','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','bp-modal-num-choices','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20hybrid\x20quiz:','text-red-900','Error\x20generating\x20teaching\x20content:','select','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอ่านไฟล์\x20Test\x20Blueprint...','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','text-green-600','originalQuestionText','cancel-move-quiz-btn','ondragstart','NEGATIVE_INFINITY','.bp-create-onet-quiz-btn','[data-topic-container-id]','สู้ๆ\x20ลองอีกครั้งนะ','สเกลและแผนที่','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','isDefault','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','ผู้เชี่ยวชาญ','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','bg-green-200\x20text-green-900','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','ไม่ผ่าน','answer-grid-container','Error\x20creating\x20project:','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','(ก่อนเรียน)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','timed','#parallel-shortcut-tabs-nav\x20.tab-name-input','parseFromString','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','text-purple-600','.linkedQuizId','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','N/A','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x27\x20ในหัวข้อ\x20\x27','projectId','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','typesetPromise','topic','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','.quiz-bank-present-btn','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','question-analytics-container','แก้ไขปุ่มลัด','generate-from-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','responses.','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','fill_in_the_blank','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','join-group-activity-btn','shadowColor','modal-results-display-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','ค่าเฉลี่ย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ตรวจทานเฉลยเสร็จสิ้น!','practiceProblems','match','memoryContent','\x20mb-2\x22>','width','บทเรียน','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','contentEditable','#e21b3c','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','stopPropagation','Error\x20joining\x20activity:','reference-pdf-upload','isRemedial','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ชื่อโปรเจคห้ามว่าง','perfect_score','code','promptFeedback','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','icon','selected-answer-index-hidden','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','size','เส้นตรง:\x20รูปแบบสมการ','https://corsproxy.io/?','attempts','attemptNumber','close-game-final-btn','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','scores-tab-content','modal-close-btn','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','print','perseverance','clientX','results-tab','</a>','cancel-quiz-edits-btn','mainTopics','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','analytics-tab-content','cancel-manual-bp-btn','กลุ่ม:\x20','Error\x20confirming\x20players:','team-quiz-topic','ปรับเพิ่ม/ลดเป็นร้อยละ','q-explanation-','ไม่พบข้อมูลหัวข้อที่จะบันทึก','scores-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','Error\x20in\x20generating\x20from\x20files:','\x20ชุด)','s;\x22\x20title=\x22','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','save-bp-reference-btn','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','<h1></h1>','lineWidth','student-reading-area','modal-message','parallel-shortcut-editor-modal','กรุณาพิมพ์คำตอบของกลุ่ม','Error\x20processing\x20file\x20shortcut\x20click:','true','getTextContent','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','student-view','total','removeAttribute','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','adaptive-quiz-checkbox','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20generating\x20lesson\x20plan:','จากไฟล์ที่แนบมานี้,\x20','กำลังกลับเข้าสู่เกม\x20','\x20ข้อ...','scrollX','export-image-btn','underline','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','reference_onet.pdf','เกิดข้อผิดพลาดในการสร้างห้องเกม','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mode-switcher-btn','คะแนน','Error\x20renaming\x20quiz:','timestamp','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','click','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','องค์ประกอบของฟังก์ชัน','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','qType','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','(ฉบับง่าย)\x20','topicId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','fromCharCode','hint-btn','bg-green-200\x20text-green-800','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','sync-submit-btn','querySelector','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','cancel-quiz-bank-btn','ลำดับเรขาคณิต\x20(GP)','input','isAdaptive','Error\x20saving\x20user\x20preference:','scrollIntoView','Error\x20updating\x20quiz\x20settings:','รหัสไม่ถูกต้อง','bg-red-50','<button\x20id=\x22','Error\x20editing\x20topic:','คะแนนยังไม่ถึงครึ่ง','center','.ai-content\x20blockquote','keyConcepts','Error\x20saving\x20questions\x20to\x20practice\x20bank:','Error\x20saving\x20parallel\x20shortcut:','Error\x20linking\x20quizzes:','font-bold\x20text-green-700','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','Test\x20Blueprint','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','fileShortcutTabs','_opt1\x22\x20name=\x22question','เกิดข้อผิดพลาดในการลบ','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','จำนวนข้อ:','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','getBBox','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','Error\x20starting\x20team\x20quiz:','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','lastAnswerIndex','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','visible','blueprint-upload-input','show_results_and_answers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','global-activity-quiz-list','Error\x20saving\x20reference\x20URL:','```','bp-modal-num-questions','ฟังก์ชันแบบชิ้นส่วน','เกิดข้อผิดพลาดในการโหลดโปรเจค','export-lesson-to-pdf-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','neq','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','save-blueprint-as-project-btn','ai-quiz-app-aefee.firebaseapp.com','เกิดข้อผิดพลาด:\x20','open','$1\x20\x5cfrac','clearRect','text-tab','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','choices_only','setAttributeNS','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','preventDefault','text/html','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','</div>\x0a</div>\x0a','Error\x20comparing\x20results:','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','ทำคะแนนได้เกินครึ่ง','slice','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','fullscreenchange','ฟังก์ชันลอการิทึม','comparison-individual-tab','<p><strong>คำตอบของคุณ:</strong>\x20','ราชาคัมแบ็ก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','resize','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','groups','lesson-loader','.lastAnswerCorrect','move-quiz-modal','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','.question-editor-item[data-q-index=\x22','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','svg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','back-to-dashboard-from-results-btn','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','ความคล้ายของรูป','toLocaleString','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lesson-view-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','การประยุกต์เวกเตอร์พื้นฐาน','release','การคูณทศนิยม','showRankings','การหาร','Error\x20adding\x20topic:','baseVal','กรุณาเลือกโปรเจคที่ต้องการบันทึก','cancel-shortcut-edit-btn','results-quiz-id-display','projectName','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','input[type=\x22text\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','leaderboard-tab-content','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','#FEE2E2','\x20to\x20blueprint\x20topic\x20','msRequestFullscreen','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','cancel-file-shortcut-edit-btn','</p>','กฎของโคไซน์','ถูก','</td>','file-shortcut_','การแจกแจงทวินาม\x20(พื้นฐาน)','.quiz-bank-try-btn','ไม่พบโปรเจค','input[type=\x22radio\x22]:checked','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ตัวประกอบและตัวประกอบเฉพาะ','frac','add-shortcut-btn','pointermove','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','Error\x20saving\x20shortcut:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','วงกลม:\x20สมการและสมบัติ','start-sync-game-btn','file-tab','screen','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','พื้นที่วงกลม/ส่วนของวงกลม','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','ไม่สามารถเพิ่มนักเรียนได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20duplicating\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','รูปสี่เหลี่ยมและสมบัติ','create-from-bank-btn','คณิตศาสตร์','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','แผนการสอน','Error\x20deleting\x20shortcut:','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','disabled','stdDev','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','\x22\x5cn','blueprint.pdf','การสร้างรูปด้วยวงเวียน–สันตรง','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','พีชคณิตและฟังก์ชัน','complexityValue','ใช่','อัตราและอัตราหน่วย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.edit-custom-topic-btn','คัดลอกแบบทดสอบสำเร็จ','check-answer-btn','rename-quiz-modal','confirm-admin-login-btn','function','lesson-loader-text','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','Error\x20adding\x20custom\x20topic:','.rename-quiz-btn','show_results_only','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','student-progress','ฟังก์ชันค่าสัมบูรณ์','fileShortcutOrder','bank-quiz-search-input','groups.','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','.live-answer-btn','questions','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','copy-quiz-id-btn','_opt0\x22>ใช่</label></div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','block','ไม่พบแบบทดสอบในระบบเลย','blueprint-project-manager-view','ย้าย','transform','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','temp-loader-results','shortcut-blueprint-url-input','เปลี่ยนชื่อแบบทดสอบสำเร็จ','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','Error\x20displaying\x20question\x20bank:','dashboardConfig','top','shortcut-modal-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','</p><p><strong>เฉลย:</strong>\x20','color','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','passcode','(^|[^\x5c\x5c])\x5cb','text-green-700','game-pin-input','class','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x20in\x20all\x20blueprint\x20projects.','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','json','webkitRequestFullscreen','parallel-default-','cancel-create-project-btn','load-quiz-btn','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','quiz-id-input','_blank','.ai-content\x20td','innerHTML','applicationContent','Error\x20updating\x20quiz\x20status:','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','min','.bp-live-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/blueprintProjects/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','leaderboard-quiz-tab-content','score-distribution-chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','confidence-mode-container','การแปลงรูปอัตลักษณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','.linkedQuizIds','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20กลุ่ม</p></div>','leq','confirm-confident','cloneNode','ตัวแปรและนิพจน์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','ไม่สามารถโหลดข้อมูลอันดับได้','generated-quiz-actions','.move-shortcut-item','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','shuffleSetting','generationConfig','<div\x20id=\x22q-image-container-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','project-quizzes-list','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Failed\x20to\x20create/update\x20submission\x20record:','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','#confidence-input-','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','ส่วนเบี่ยงเบนเฉลี่ย','additional-parallel-shortcuts-modal','.scratchpad-content-wrapper','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','Error\x20deleting\x20custom\x20topic:','export-compact-pdf-btn','Error\x20toggling\x20star\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','canvas','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','application/pdf','confirm-quiz-status-btn','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','circ','leaderboard-table-body','getElementsByTagName','fill','blueprint-topics-list-container','input[name=\x22drill_answer\x22]:checked','.shortcut-btn','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','responses','badgesCount','tfrac','manage-tab-content','nickname-input','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','.confidence-choice-btn','projectSortOrder','label[for=\x22num-questions\x22]','</span></p>','/public/data/projects','.summary-bar-item','insertAdjacentHTML','team-player-status-grid','<p\x20class=\x22','text-red-500\x20hover:text-red-700','sin','/public/data/practiceBank','lowerGroupNames','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เส้นตรง:\x20ขนาน/ตั้งฉาก','on_fire','.png','สลับไปโหมดนักเรียน','Error\x20submitting\x20group\x20answer:','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','<button\x20data-value=\x22','สลับไปโหมดผู้ควบคุม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','lesson-view-modal','.topic-name-input','\x20ครั้ง)</span></td>','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','geq','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','behavior-log','ไม่ระบุ','OBJECT','editable-quiz-topic','สมการเหตุผล\x20(rational)','3530CQBfmX','team','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','https://drive.google.com/uc?export=download&id=','ลำดับเลขคณิต\x20(AP)','isConfidenceScoringEnabled','number','Error\x20fetching\x20student\x20rankings:','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','not-found','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20คู่\x20','เพิ่มรายการที่เลือก','shortcut-editor-modal','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','มุมพิเศษ\x2030°-60°-90°','save-visibility-settings-btn','substring','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','http://www.w3.org/2000/svg','ai-quiz-app-aefee.firebasestorage.app','student-join-game-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','เปิดใช้งาน','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','การปัดเศษและประมาณค่า','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','add-custom-math-topic-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','student-name-select','save-bp-settings-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','project-list','รูปสแควร์รูท\x20(surd)','textarea[name=\x22team_answer\x22]','cancel-bulk-quiz-settings-btn','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','.tab-name-input','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','strokeStyle','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','PERSEVERANCE','checked','table','ความเป็นอิสระของเหตุการณ์','จัดการ','targetId','manual-bp-grade-level','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','q-text-','from','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','pairedQuizId','bg-red-500','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','onchange','math-topics-checkbox-container','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','quiz-type-select','.file-shortcut-btn[data-id=\x22','position','isStarred','post-test','พื้นที่สี่เหลี่ยม','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touchmove','filter','.quiz-bank-parallel-btn','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','blob','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answer','อินเวอร์สของเมทริกซ์','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','ondragover','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','อสมการค่าสัมบูรณ์','active','Error\x20opening\x20quiz\x20editor:','</div><div\x20class=\x22space-y-2\x22>','ความน่าจะเป็นแบบมีเงื่อนไข','confirm-move-quiz-btn','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','fa-dumbbell\x20text-gray-700','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','bg-gray-200\x20text-gray-700','add-file-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x20ตัวเลือก)','live-race','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','upper_group_count','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','.generate-content-btn','dragover','answerText','ดอทโปรดักต์\x20(dot)','.ideal-answer-input,\x20.correct-response-input','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','<button\x20data-shortcut-id=\x22','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','trail','.group\x5c/dropdown','พอใช้','rows','behavior-log-container','show-leaderboard-btn','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','ตั้งเวลา\x20(เปิด)','sum','เกิดข้อผิดพลาดในการอัปเดตสถานะ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','submittedAt','</span></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','student','.open-bp-project-btn','\x20/\x20','Error\x20saving\x20file\x20shortcut:','shortcutTabs','เกี่ยวกับหัวข้อ\x20\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','bp-topic-list-container','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','back-to-dashboard-btn','endsWith','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','user-id-display','fa-bolt\x20text-blue-500','num-choices','สถิติและความน่าจะเป็น','บันทึกแบบทดสอบสำเร็จแล้ว!','ยกเลิกการจับคู่สำเร็จ','progress-student-select','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การวัด','pointerdown','ระบบสมการเชิงเส้นสองตัวแปร','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','quiz-leaderboard-table','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','confirm-rename-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','additional-parallel-shortcuts-list','ดอกเบี้ยอย่างง่าย','.delete-parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','max','.regenerate-question-editor-btn','bp-modal-passing-score-input','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','อัตราการเปลี่ยนแปลงทันที','parentElement','querySelectorAll','results-table','FileReader\x20error:','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','-options\x22>','\x22\x20จำนวน\x20','/submissions','comparison-modal','isNormalTopic','การคูณเศษส่วน','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','hidden','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','mouse','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','source_document.pdf','isCorrect','fix-lesson-latex-btn','createdBy','previousElementSibling','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','text-content-input','textarea','quiz-status-modal','<div\x20class=\x22my-6\x22>','projectSort','จับคู่เพื่อเปรียบเทียบผล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','แบบทดสอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','update','เรขาคณิต','addEventListener','student-result-area','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','ปริมาตรรูปทรงสามมิติ','div','<div\x20class=\x22','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','cancel-quiz-settings-btn','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','specialist','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','(ก่อนเรียน)\x20','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','passingScore','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','target','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','toDate','คะแนนเต็ม!','.flex.justify-between.items-center','\x22><i\x20class=\x22fas\x20','lobby','lessonPlan','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','สัญกรณ์วิทยาศาสตร์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','pop','circle','pathname','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','scale','text-gray-700','confirmation-modal','activeGameSession','modal-timer-duration-input','ไม่มีผู้ตอบตัวเลือกนี้','getBoundingClientRect','ยอดเยี่ยม!','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','true_false','results','length','มุมและการวัดมุม','pointerType','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','bg-red-100\x20text-red-800','bulk-quiz-settings-modal','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการแก้ไข','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','student-quiz-topic','question-complexity-select','Error\x20during\x20deep\x20delete:','qIndex','join-live-game-btn','opacity','.space-y-1.pl-4','ฟังก์ชันผกผัน','cursor','lesson-view-title','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','ปริพันธ์จำกัด','loader','cancel-delete-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','passing-score-input','สร้างคำถามแบบใช่/ไม่ใช่','dataset','round','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','.move-file-shortcut-menu-btn','text-white','border-indigo-400\x20ring-2\x20ring-indigo-200','sort','close-comparison-modal-btn','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด:**\x20เนื้อหาในส่วน\x20POINT\x20และ\x20MEMORY\x20ต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง:**\x20ตัวอย่างประกอบ\x20(blockquote)\x20ต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x20แต่ห้ามคัดลอกโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20**ยึดตามปรัชญา\x20O-NET:**\x20เน้นการประยุกต์ใช้,\x20การคิดวิเคราะห์,\x20และการแก้ปัญหาหลายขั้นตอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','ใช่\x20/\x20ถูก','cancel-quiz-edits-btn-footer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','default-2','summary_chart','pdf','ส่วนเบี่ยงเบนมาตรฐาน','.start-presentation-list-btn','additional-shortcuts-list','.ideal-answer-input','หัวข้อที่สร้างเอง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','.export-pdf-list-btn','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','.lastAnswerValue','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','translate(','asc','left','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','.use-hidden-parallel-shortcut-btn','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','close-topic-bank-btn','แบบทดสอบนี้ปิดใช้งานอยู่','presentation-scratchpad-btn','confirm-team-players-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','abs','ระบบเลขและค่าประจำหลัก','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','.edit-shortcut-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','submission','topic-bank-list','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','isPasscodeEnabled','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','cancel-bp-settings-btn','การกระจายและการจัดหมู่','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','[data-topic-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','blueprint-input-area','back-to-home-manual-release','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','.verification-result-editor','ลบหัวข้อสำเร็จ','confidence-scoring-description','str','pointContent','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','project-detail','grabbing','worksheet-tab','ไม่พบข้อมูลผู้ใช้','getPage','กำลังสร้างคำถามข้อ\x20','separate-by-content-checkbox','bg-green-100\x20text-green-800','ai-quiz-generator-v3','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','timerMode','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เพิ่มหัวข้อ\x20\x22','update-old-quizzes-btn','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','generate-from-parallel-test-btn','worksheet-input-area','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','onblur','strength-weakness-analysis-container','.topic-row','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','.question-editor-item','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','MathJax','tab_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','kick-player-btn','correctResponse','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','\x22.\x20','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','reduce','endTime','push','ค่าความจริง/ตารางค่าความจริง','confidence_single','\x5csum','ข้อ\x20','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','behaviorLog','normal','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','.color-palette-btn','image/png','.ai-content\x20p','เรเดียนและการแปลงหน่วย','mode','ผ่านฉลุย','ความชันและเส้นตรง','text-red-600','values','เวกเตอร์และเมทริกซ์\x20(เสริม)','height','Blueprint\x202','.delete-submission-btn','export-leaderboard-word-btn','60129GeZtCE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','closePath','enable-passcode-checkbox','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','includes','topic-quiz-bank-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionDisplayedAt','none','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','result','desc','ข้อต่อไป','bg-green-100\x20font-bold','justification','next-question-btn','จำนวนและการดำเนินการ','กำลังสร้างแบบทดสอบ\x20\x22','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','Error\x20fetching\x20quiz\x20settings:','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','pinned-items','setFont','perfect_score_status','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','file-default-1','_opt0\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','topic-input','findIndex','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[data-topic-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','</h3>','confirm-join-game-btn','start-live-race-generated-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','lesson-sections-container','API\x20Error\x20Body:','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','ทฤษฎีบทพีทาโกรัสและการประยุกต์','เปลี่ยนชื่อโปรเจคสำเร็จ','toFixed','list','คัดลอกไม่สำเร็จ','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x20คนที่ส่ง\x20ตอบถูก\x20(','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','แก้ไขปุ่มลัดจากไฟล์','<li>','pre-test-checkbox','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','.answered','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','ceil','.csv','\x22\x20สำเร็จ!','bulk-confidence-scoring-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','confirm-game-start-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','modal-confidence-scoring-checkbox','จำนวนเต็มลบ','insertBefore','confirm-manual-bp-btn','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','lesson-plan-content','<svg','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','visibilityState','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','show-in-student-dashboard-checkbox','gameData','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','1396510UwGHhe','file.pdf','ทฤษฎีบทพื้นฐานของแคลคูลัส','point','parallelTestShortcutsConfig','การบวกเศษส่วน','touchcancel','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','text-blue-700','confirm-link-quiz-btn','mandatory','globalSettings','Group\x20Mode','starred-project','Error\x20updating\x20pin\x20status:','กำลังโหลดคลังข้อสอบทั้งหมด...','/public/data/projects/','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','fix\x20the\x20option','scratchpad-clear-btn','.delete-quiz-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','Error\x20loading\x20blueprint\x20projects:','line-through\x20text-red-700','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','\x20คะแนน\x20','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','includeImages','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','admin-dashboard','AI\x20request\x20was\x20blocked.\x20Reason:\x20','/public/data/quizzes','blueprintShortcuts','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','student-list','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','cancel-passcode-btn','student-team-join','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','per_question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','tool','text-yellow-800','export-leaderboard-excel-btn','#results-table','topic-tab','font-bold\x20text-red-700\x20line-through','2457968rUvGLL','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','export-leaderboard-pdf-btn','เกิดข้อผิดพลาดในการบันทึก','label','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','เรขาคณิตวิเคราะห์','parallel-shortcut-modal-title','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','bulk-confidence-mode-container','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','border-red-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','latestScore','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','original-mode-checkbox','far\x20fa-star','Could\x20not\x20fetch\x20reference\x20file:','Error\x20updating\x20project\x20color:','\x20จาก\x20','default','การจัดหมู่\x20(Combination)','scratchpad-controls','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','lastIndexOf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','onload','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','reveal-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','podium','correct','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','transparent','quizType','\x20pointer-events-none\x22>','Error\x20listening\x20for\x20custom\x20math\x20topics:','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','text/csv;charset=utf-8;','Error\x20saving\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','test','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','ไม่พบข้อมูลแบบทดสอบ','submit','Error\x20toggling\x20pin\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','Error\x20saving\x20quiz\x20edits:','leaderboard_','clientY','additional-file-shortcuts-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','pre-test','quizMode','\x22\x20สำเร็จ','ไม่พบแบบทดสอบ','FIRST_TRY_ACE','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','classWeaknesses','student-initial-view','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','Error\x20analyzing\x20file\x20for\x20topics:','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','<p\x20class=\x22text-2xl\x22>','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แก้ไขหัวข้อสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','delete-all-students-btn','solution','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','firstScore','handleGeneratePracticeTest','\x20(p=','file-topic-input','thead\x20.sortable-header','manual-bp-content','mouseleave','การลบเศษส่วน','ยืนยันและอัปเดตทั้งหมด','/public/data/syncGames','classStrengths','#results-table\x20thead\x20tr','start-game-btn','Error\x20saving\x20to\x20question\x20bank:','options','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-student-btn','แก้ไขข้อนี้','<button\x20data-quiz-id=\x22','กำลังเตรียมไฟล์...','rgba(16,\x20185,\x20129,\x200.7)','student-progress-content','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','กรุณาเลือกชื่อของคุณ','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','เลือกและเริ่มสร้าง','แผนการสอน:\x20','\x22>ไม่ใช่</p>','</form>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','globalCompositeOperation','.move-shortcut-dropdown','ไม่ได้ตอบ','text-red-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','move','requestFullscreen','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','score','.quiz-bank-delete-btn','idealAnswer','.draggable-text','เกิดข้อผิดพลาดในการอัปเดต:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','group','(คัดลอก)\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กราฟฟังก์ชันตรีโกณ','bg-green-100','</label></div>','.move-parallel-shortcut-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','text-green-700\x20bg-green-100','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','_opt','กำลังสแกนหาแบบทดสอบเก่า...','Error\x20processing\x20parallel\x20shortcut\x20click:','</div></div>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','แบบทดสอบนี้หมดเวลาแล้ว','beforeend','Error\x20starting\x20live\x20race:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','leaderboard','dispatchEvent','.pdf','parallel-test-upload-input','url','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','not_generated','#open-additional-file-shortcuts-btn','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','drop','pin','ความแปรปรวน','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','per-question-text','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบไฟล์\x20Test\x20Blueprint','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','verify-answers-btn','quiz-generation-area','parse','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','splice','bar','เพิ่ม\x20','unshift','Error\x20calling\x20Gemini\x20API:','game-start-quiz-id','กำลังสร้างบทเรียน:\x20','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','สร้างโปรเจคสำเร็จ!','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','ref',')\x22>','เกิดข้อผิดพลาดในการอ่านไฟล์','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','cancel-test-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onloadend','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','name_desc','currentQuestionIndex','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาวาง\x20URL\x20ของบทความก่อน','file-shortcut-modal-title','key','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','content','.project-card-container:not(.opacity-50)','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','parallel-shortcut-tabs-nav','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lowerGroupResponders','answered','live-game','BOOLEAN','fa-rocket\x20text-purple-500','</li>','indexOf','export-worksheet-pdf-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','smooth','starred','half_mark_status','ผ่าน','quiz-end-time','Failed\x20to\x20generate\x20practice\x20test:','comeback_king','globalAlpha','file-default-2','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','#math-topics-checkbox-container\x20input:checked','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','timer-duration-input','pow','cancel-quiz-status-btn','mousemove','.delete-custom-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','highlighter-tools-group','\x20|\x20','short_answer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','.game-start-btn','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','textContent','input[type=\x22checkbox\x22]:checked','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-player-list','lesson-plan-title','passcode-prompt-message','incorrect','difficulty-level-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','.pen-size-btn','.remove-file-shortcut-from-tab-btn','border-green-300\x20bg-green-50','bg-green-500\x20hover:bg-green-600\x20text-white','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','<div><input\x20type=\x22radio\x22\x20id=\x22q','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','quiz-results-table-body','.correct-response-input','quiz-leaderboard-table-container','.use-hidden-file-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','<div\x20class=\x22mb-3\x20topic-category\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','\x0a\x20\x20\x20\x20\x20\x20</div>','approx','commit','10340vcTvpY','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','#E0E7FF','ไม่สามารถบันทึกการตั้งค่าได้','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไฮเพอร์โบลา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','AI\x20Fix\x20Error:','คำถามดิบ:\x20\x22','เนื้อหาสำหรับสอน:\x20','ควรปรับปรุง','export-leaderboard-image-btn','project-name-input','.lastAnswerIndex','not_confident','parallel-shortcut_','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','All\x20groups\x20have\x20finished.\x20Ending\x20game.','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','.quiz-status-btn','eraser','manage-players-btn','.pair-quiz-btn','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','\x20mx-1\x20text-lg\x22></i></span>','generate-from-text-btn','<span\x20class=\x22sort-indicator\x20ml-2\x22>','submission-status-chart','ตอบถูกทุกข้อในแบบทดสอบนี้','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','(เลือกแล้ว\x20','isLooping','ไม่พบโปรเจคที่ต้องการลบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','การแจกแจงปกติและ\x20z-score','parallel-default-2','gamePin','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/quizzes/','project-search-input','href','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','removeChild','add-file-shortcut-tab-btn','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','bottom','-options','scratchpad-question','next-sync-question-btn','leaderboard-quiz-tab-btn','ปุ่มลัดทั้งหมด','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกผลการเล่นเกมของ\x20','.regenerate-question-btn','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','topics.','ยังไม่ส่ง','execCommand','comparison-overall-content','input[type=\x22checkbox\x22]','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','shadowBlur','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบโปรเจค','setItem','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','link-url-input','bestScore','border-red-300\x20bg-red-50','members','วงกลม:\x20คอร์ดและเส้นสัมผัส','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','(หลังเรียน)\x20','file-shortcuts-loading-msg','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','รูปหลายเหลี่ยมและมุมภายใน','classList','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','<div\x20class=\x22flex-1\x22></div>','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','ค่าสัมบูรณ์','loopUntilPass','change','topicName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','กำลังอ่านและเตรียมไฟล์...','quiz-editor-questions-container','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','visibilitychange','comparison-individual-content','.answers','MathJax\x20re-render\x20failed:','create-project-modal','.shortcut-list-item','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','promise','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','startsWith','getItem','AI\x20แก้ไขคำถามสำเร็จ!','correctAnswerIndex','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','getScreenCTM','คัดลอกรหัสแล้ว!','การลบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','bank-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','อสมการเชิงเส้น','badges','value','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20resetting\x20project\x20order:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','parseInline','Error\x20fetching\x20project\x20quizzes:','quizId','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','loop-until-pass-checkbox','เกิดข้อผิดพลาดในการส่งคำตอบ','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','</span><span\x20class=\x22font-bold\x22>','all','destroy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','onkeydown','กำลังจับคู่...','lastAnswerCorrect','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','modal-adaptive-quiz-checkbox','body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไฟล์ลัด\x201','isPinned','next-question-timed-btn','ปริพันธ์ไม่จำกัด','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','\x20\x0a\x20\x20\x20\x20','th-TH','link-input-area','after','สมการเชิงเส้นตัวแปรเดียว','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','default-','text-red-300\x20hover:text-red-100','/public/data/blueprintProjects','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','.group','project-title','Error\x20committing\x20score\x20updates:','isArray','matching','\x20quizzes\x20into\x20global\x20cache.','list-view-btn','<span\x20title=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','questionType','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20ให้เป็นคำถามประเภท\x20\x22','ฟังก์ชันเชิงเส้นและกราฟ','innerText','ร้อยละประยุกต์','#file-shortcut-tabs-nav\x20.tab-name-input','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','text-green-800','presentation-slide-container','questionId','\x0a\x20\x20\x20\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','.highlighter-color-btn','getAttributeNS','main-correct-answer-display','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','open-blueprint-projects-btn','เกิดข้อผิดพลาดในการลบนักเรียน','showImproveButton','items','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','teacherTips','keys','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','แท็บใหม่','numQuestions','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','source_document.txt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-500','พิมพ์ตอบ','scores','ข้อที่\x20','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','show-results-btn','bg-blue-500\x20hover:bg-blue-600\x20text-white','correctAnswer','Error\x20deleting\x20project:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','presentation-modal','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','toLocaleDateString','#E5E7EB','date_desc','rgba(59,\x20130,\x20246,\x200.7)','substr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','modal-timer-mode-select','instructions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20joining\x20team\x20quiz:','/public/data/customMathTopics','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','เริ่มกิจกรรม:\x20','analytics-tab-btn','\x22\x20data-topic=\x22','แคลคูลัสเบื้องต้น','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','ไม่พบแบบทดสอบสำหรับรหัสนี้','wasConfident','prod','เกิดข้อผิดพลาดในการนำผู้เล่นออก','</select>','ไม่ใช่','blueprintUrl','project-dashboard-view','separate-by-content-from-file-checkbox','draggable-text','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','Error\x20generating\x20easy\x20version\x20quiz:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<br>','สรุปผลการวิเคราะห์:\x5cn','fileShortcutsConfig','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','showInStudentDashboard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อุณหภูมิและการแปลง','quiz-start-time','student-quiz-leaderboard-table-body','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','#DBEAFE','เศษส่วน\x20(ย่อ/ขยาย)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','<tr\x20class=\x22','.project-card-content','ฟังก์ชันราก\x20(root)','.quiz-bank-settings-btn','modal-loop-until-pass-checkbox','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','คำถามถัดไป','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','<textarea\x20name=\x22question','fa-fire\x20text-orange-500','\x20link(s)\x20for\x20quiz\x20ID:\x20','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','parallel-default-1','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','curriculum','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','</button>','pointer-events-none','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','.subTopic','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','handleGenerateAndShowLesson','comparison-overall-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','student-project-leaderboard-tab','-tab','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','\x20สำเร็จ','00:00','bg-gray-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','#FEF3C7','กำลังอัปเดตแบบทดสอบ\x20','quiz','ลบโปรเจคสำเร็จแล้ว','auto-fix-latex-btn','แบบเติมคำตอบ','.topic-name-display','lineJoin','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','tan','ดอกเบี้ยทบต้น','\x5cge','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','blueprint-options-container','quiz-bank-count','getDocument','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','doughnut','ไฟล์ทั้งหมด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','shuffle-setting-select','suggestedAnswer','contains','points','binom','Error\x20starting\x20game:','data','bg-green-200','กรุณาเลือกโปรเจคปลายทาง','ฟังก์ชันยกกำลัง','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','summary','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','mixed','</td></tr>','reference.pdf','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','<p\x20class=\x22font-bold\x20text-sm\x20','webkitExitFullscreen','การเรียงสับเปลี่ยน\x20(Permutation)','.move-file-shortcut-dropdown','analyze-strengths-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','export-pdf-modal','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','quiz-editor-modal','confirm-delete-btn','เกิดข้อผิดพลาดในการบันทึกลำดับ','checkbox','#retake-for-improvement-btn','select[name=\x22question_single\x22]','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','Error\x20saving\x20blueprint\x20project:','fill_in_no_choices','parts','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','quadraticCurveTo','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','write','blueprint-projects-modal','scheduled','text-yellow-300','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','players','shortcut_','isFinished','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','กราฟแท่ง\x20กราฟเส้น','\x22\x20class=\x22delete-project-btn\x20','.move-parallel-shortcut-menu-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tabId','player-count','ย้ายแบบทดสอบไปโปรเจคอื่น','actions-container-','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20แบบทดสอบลงในคลังสำเร็จ!','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','subTopics','519843LNriYS','Error\x20updating\x20old\x20quizzes:','การจัดกลุ่มข้อมูล','blueprint-shortcut-container','ค่าคลาดเคลื่อนของการวัด','results-quiz-title','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','back-to-dashboard-from-bp-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','close','\x22\x20name=\x22team_answer\x22\x20value=\x22','Original\x20quiz\x20not\x20found','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผิด','players.','text-green-600\x20font-bold','แผนภาพกล่อง\x20(box\x20plot)','ai-quiz-app-aefee','open-sync-scratchpad-btn','save','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','.remove-parallel-shortcut-from-tab-btn','timerDuration','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','.txt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','1405192uEPNNM','เกิดข้อผิดพลาดในการเปลี่ยนสี','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','readAsDataURL','ยืนยันการกระทำ','admin-view','toLowerCase','blur','กลุ่มของคุณ','global-quiz-count','<button\x20data-id=\x22','หยุดระบบจับเวลาหรี่หน้าจอ','คำเตือน\x20(','#ffffff','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','settings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','referenceUrl','export-excel-btn','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','practice-topic-btn','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','quiz-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','earned-badges-container','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','passcode-input-container','Failed\x20to\x20kick\x20player\x20','save-project-name-btn','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','\x5cdiv','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','จับคู่แบบทดสอบสำเร็จ!','.status','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','สร้างคำถามแบบเติมคำในช่องว่าง','text-gray-300\x20hover:text-white','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','Failed\x20to\x20get\x20hint:','interesting-stats-wrapper','text-gray-200','wheel','worksheet-topic-input','สมการยกกำลัง','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','exitFullscreen','null','border-gray-200','\x20from\x20sync\x20game:','[data-field=\x22subTopic\x22]','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.bp-delete-topic-btn','upperGroupResponders','\x20ตอบ','AI\x20grading\x20failed:','.bp-generate-lesson-btn','localeCompare','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','blueprint-topics-list','เกิดข้อผิดพลาดในการลบแบบทดสอบ','.quiz-bank-move-btn','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่ใช่\x20/\x20ผิด','bg-red-200\x20text-red-800','files','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','.bp-present-btn','ห.ร.ม.\x20(GCD)','#000000','split','answers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','file-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20ก่อนสร้างเนื้อหาใดๆ\x20ให้อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','teacherSuggestions','parallel-shortcut-container','save-parallel-shortcut-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','จำนวนนักเรียน','.file-shortcut-btn','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','stepByStepExamples','\x5cpm','rgba(239,\x2068,\x2068,\x200.9)','bulk-shuffle-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','presentation-short-answer-input','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','warn','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fixedData','.bp-view-analysis-btn','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','file-shortcut-url-input','order','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','hint','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','manual-blueprint-modal','\x22\x20value=\x22true\x22\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','per-question-timer-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','สามเหลี่ยม\x20(ชนิด/สมบัติ)','Failed\x20to\x20end\x20group\x20mode\x20game:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','ARRAY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบฝึกฝนเรื่อง:\x20','manual-bp-project-name','Error\x20updating\x20project\x20name:','Team\x20Quiz','log','linkedQuizIds','goto-next-question-btn','allResponses','Unexpected\x20API\x20response\x20structure:','Error\x20listening\x20for\x20starred\x20quizzes:','createdAt','generate-from-link-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','rename-quiz-input','การหารเศษส่วน','bg-gray-50','.duplicate-quiz-btn','overline','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','<p\x20class=\x22text-xl\x22>','กรุณาเลือกคำตอบของกลุ่ม','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','ความเท่ากันทุกประการของสามเหลี่ยม','text','finishReason','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','tGain','bp-modal-include-images-checkbox','quick_thinker','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x27,\x20\x27','hasPerfectScoreBonus','PERFECT_SCORE','whole_quiz','.tab-name-display','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','\x20\x20\x20-\x20','removeItem','bulk-quiz-settings-btn','game-start-modal-title','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','อัปเดตพฤติกรรมสำหรับ\x20','Error\x20generating\x20from\x20link:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','math-topic-search-input','cancel-blueprint-projects-btn','pinnedProjects','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','เกิดข้อผิดพลาดในการติดดาว','bg-yellow-50','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','submit-group-answer-btn','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','matching_item','#student-project-leaderboard-content\x20thead','source-over','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','.delete-svg-btn','Failed\x20to\x20resume\x20game\x20session:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','totalPoints','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','docs','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.bp-create-content-quiz-btn','file-shortcut-id-input','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dfrac','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','API\x20call\x20failed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','prev-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','className','reset-view-btn','now','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','scratchpad-close-btn','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','border-green-700','explanation','string','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','message','cancel-team-selection-btn','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','fa-user-astronaut\x20text-blue-700','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','Error\x20listening\x20for\x20projects:','<i\x20class=\x22fas\x20fa-save\x22></i>','file-topics-list-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.group\x5c/dropdown-parallel','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','moveTo','text-emerald-900','bg-green-50','playerName','interesting-stats-container','documentElement','/public/data/teamQuizzes','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','.presentation-option','#FFFFFF','\x20คะแนน</span></div>','.quiz-result-card','Leaderboard\x20update\x20transaction\x20failed:\x20','.bp-open-topic-bank-btn','text-red-800','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','user','schedule','short','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','COMEBACK_KING','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กรุณาป้อนหัวข้อสำหรับใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','.compare-results-btn','ไม่พบข้อมูลข้อสอบหลังเรียน','manual-create-blueprint-btn','px,\x20','.parallel-shortcut-btn','behavior-log-tab-content','ถูกต้อง!','หมดเวลา!\x20กำลังส่งคำตอบ...','grid-view-btn','student-name-selection-view','results-tab-content','\x22\x20name=\x22confidence','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','force-math-checkbox','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','project-id-display','numeric','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','additional-shortcuts-modal','/lessons','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','การบวกทศนิยม','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','map','teachingContent','bank-input-area','highlighter','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','contents','offset','bg-green-400\x20text-white\x20font-bold','เกิดข้อผิดพลาดในการบันทึกโปรเจค','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','set','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','createElement','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','parent','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','พบข้อสอบ\x20','กำลังอ่านไฟล์อ้างอิง...','grid','สอบปกติ','button[type=\x22submit\x22]','.delete-file-shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','confidence-modal','SAFETY','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22','ตรีโกณมิติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','medium','\x5ctimes','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','\x20จุด','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','ระยะเวลา\x20(วินาที):','<span\x20class=\x22font-bold\x20','additional-file-shortcuts-list','projectView','text/plain','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','.generate-easy-version-btn','Error\x20unpairing\x20quizzes:','fadeStartTime','setAttribute','category','save-game-results-checkbox','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','<div\x20class=\x22p-2\x20rounded-md\x20','scratchpad-header','.edit-hidden-file-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','มัธยฐาน','random','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','ไม่พบข้อมูลโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','appendChild','\x22\x20name=\x22question','ปริมาตร/ความจุและการแปลง','.shortcut-list-item:not(.opacity-50)','option','toDataURL','สำหรับโปรเจค:\x20','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','59646aoOSMt','Enter','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','<li\x20class=\x22','dragstart','(ไม่มีชื่อ)','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','download','file-upload-input','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','bp-modal-shuffle-setting-select','quiz-settings-modal','dragend','text-emerald-800','toISOString','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','.edit-question-btn','keydown','คะแนนเต็ม','.project-card-container.opacity-50','projectOrder','สมการราก\x20(radical)','Remedial\x20quiz\x20generation\x20failed:','.delete-parallel-shortcut-tab-btn','Error\x20deleting\x20student:','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createElementNS','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','bg-red-500\x20text-white\x20font-bold','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','generate-from-blueprint-btn','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','latestSubmittedAt','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','live-options-container','students','dimmed','ไม่พบข้อมูลการจับคู่','.ai-content\x20li','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','save-quiz-btn','\x22\x20data-target-tab-id=\x22','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','ต้นฉบับทั้งหมด','global-activity-modal','.pointsLastQuestion','btn','element','ON_FIRE','bp-project-title','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','bulk-confidence-mode-select','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','confirm-passcode-btn','quiz-results','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','name_asc','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','.admin-try-quiz-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','forEach','confident','td,\x20th','</body></html>','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','default-1','#open-additional-parallel-shortcuts-btn','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','sara','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','sync-player-list','difficultyValue','cancel-admin-login-btn','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','จำนวนเชิงซ้อน\x20(เสริม)','reset-project-order-btn','trim','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','countdown-display','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','verify-answers-editor-btn','\x22\x20value=\x22','translate','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','สร้างแบบทดสอบ','\x22\x20data-quiz-id=\x22','confirm-game-start-modal','Error\x20saving\x20shortcut\x20config:','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','sync-short-answer-input','Error\x20loading\x20user\x20preferences:','timer-duration-container','ลำดับการดำเนินการ\x20(PEMDAS)',';\x22\x20data-id=\x22','parallelShortcutOrder','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','trail-tool-btn','Error\x20moving\x20quiz:','generate-worksheet-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','close-additional-file-shortcuts-btn','first_try_ace','sync-player-management','confirm-not-confident','hover:bg-indigo-100','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','Error\x20unlinking\x20quiz:','.topic-category','Error\x20preparing\x20content\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-project-leaderboard-table-body','</p></div>','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','commonMistakes','เลือกโปรเจคเพื่อบันทึก','admin-testing','bank-quiz-list','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','fa-crown\x20text-yellow-500','พื้นที่ผิวรูปทรงสามมิติ','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','สมการค่าสัมบูรณ์','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','student-passcode-input','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','42bpCiht','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20data-tab-id=\x22','เมทริกซ์:\x20บวก/คูณ','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','เกิดข้อผิดพลาด','...','results_','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','autoTable','Error\x20during\x20blueprint\x20link\x20cleanup:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','shortcuts','dataIndex','bulk-loop-until-pass-checkbox','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','message-modal','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','numPages','join','Firebase\x20initialization\x20failed:','บันทึกการแก้ไข','candidates','questionStatus','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','รายการนี้','helvetica','bp-modal-question-complexity-select','cancel-export-pdf-btn','<option>กำลังโหลดโปรเจค...</option>','selectedTopicNames','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','ปิดใช้งาน','fa-pen','blueprint-tab','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ผู้ควบคุม\x20(ทดสอบ)','title','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','upperGroupNames','text-indigo-600','แผนภาพเวนน์','scratchpad-canvas','\x20(สำหรับ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','บันทึกการตั้งค่าการแสดงผลสำเร็จ','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','move-quiz-project-select','หัวข้อหลักใหม่','ตอบถูก\x203\x20ข้อติดต่อกัน','Error\x20saving\x20file\x20shortcut\x20config:','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','answerValue','Blueprint\x201','Error\x20saving\x20settings:','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','sync','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','tooltipTarget','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','restore','สร้างแบบทดสอบปรนัย','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','.live-summary-tooltip.visible','ลิมิต','bg-yellow-100','การหารทศนิยม','Error\x20saving\x20lesson\x20to\x20project:','topics','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','open-scratchpad-btn','/preferences/main','postScore','shortcutOrder','duration-300','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','Error\x20displaying\x20blueprint\x20project:','create-project-btn','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','กิจกรรมสิ้นสุดลงแล้ว','blueprint-settings-modal','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','add-from-global-bank-btn','bp-quiz-settings-btn','การแยกตัวประกอบ','border-indigo-500\x20text-indigo-600',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','sqrt','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','อัตราส่วนและสัดส่วน','back-to-results-btn','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-q-type=\x22','summaryContent','getElementById','<tr><td\x20colspan=\x22','คณิตการเงิน/บูรณาการ','toString','.bp-unlink-quiz-btn','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','imageCode','include-images-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.delete-shortcut-tab-btn','select-all-topics-btn','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','afterend','แบบปรนัย\x204\x20ตัวเลือก','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','%</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22loader\x20mx-auto\x22></div>','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x5cneq','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','delete','text-gray-500','inactive','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','parallel-shortcut-url-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','G-V90KRM0L63','ดีเทอร์มิแนนต์','bp-modal-difficulty-level-select','.ai-content\x20h3','API\x20call\x20failed\x20with\x20status:\x20','file-shortcut-container','\x20\x20\x20-\x20คำตอบ:\x20','Successfully\x20removed\x20','quiz-search-input','Error\x20loading\x20quiz\x20for\x20student:','.project-card-container[data-id]','\x22\x20name=\x22drill_answer\x22\x20value=\x22','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','.start-game-btn','bp-add-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20ไม่สามารถประมวลผลข้อมูลได้','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','Invalid\x20response\x20structure\x20from\x20API.','thead','bg-green-200\x20text-green-900\x20font-bold','ค.ร.น.\x20(LCM)','confidence-scoring-toggle','confidenceMode','shortcutIds','ก่อนเรียน','view-my-progress-btn','blueprint-project-list','cdot','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','เพิ่มปุ่มลัดจากไฟล์ใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin','.start-live-race-btn','data:application/vnd.ms-word;charset=utf-8,',':</span><span>','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-default-','pen','</div>','ยอดเยี่ยม','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','Error\x20deleting\x20submission:','padStart','parallel-test-input-area','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/studentProfiles','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','empty','.quiz-bank-item','clear-all-links-btn','gradeLevel','กฎบวกและกฎคูณ','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ownerSVGElement','สร้างชุดคำถามจับคู่','questionIndex','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','pointercancel','shouldSaveResults','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','file-topics-list','.delete-bp-project-btn','file-shortcut-editor-modal','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','/public/data/liveGames','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','end-game-btn','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','.use-hidden-shortcut-btn','\x22.\x20Ideal\x20Answer:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','focus','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','lineCap','stroke','ดูผลสรุปสุดท้าย','scheduled_pending','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','close-student-rankings-btn','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','learningGaps','แก้ไขชื่อหัวข้อย่อย:','ต้นฉบับ\x201','กำลังดึงไฟล์อ้างอิงจากลิงก์...','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22...','fill_in_with_choices','deltaY','สุดยอด!\x20ตอบถูกทุกข้อ','เกมสิ้นสุดลงแล้ว','no-projects-msg','</tbody></table>','กรุณาเลือกโปรเจคก่อน','nextElementSibling','editor-quiz-topic','analytics','touches','bp-reference-file-url','Error\x20joining\x20sync\x20game:','perQuestionStats','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','กำลังสร้างรูปภาพ...','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','Error\x20processing\x20shortcut\x20click:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','.copy-quiz-id-list-btn','currentMode','.color-palette-popup','red','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','disabled\x20bg-gray-400\x20cursor-not-allowed','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','POST','behavior-log-tab-btn','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','.edit-parallel-shortcut-btn','27411472','answering','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','\x20(ID:\x20','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','totalQuestions','บันทึกโปรเจค\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','.quiz-bank-checkbox:checked','</p><div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','sync-manage-players-btn','ทำคะแนนเต็มในการทำครั้งแรก','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','display','finished','/users/','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','selected-topics-count','delete-svg-btn','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','shortcut-reference-url-input','times','รอ...','numChoices','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','flex','presentation-ai-result','editable-text-','รากที่สองและที่สาม','กรุณาใส่ชื่อนักเรียน','timer-bar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','กำลังค้นหากิจกรรม...','floor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เพิ่มปุ่มลัดใหม่','project-sort-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดีมาก','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','some','</h4>','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','startTime','ท็อปฟอร์ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','add','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','\x22>ใช่</p>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touchstart','mousedown','bg-red-100','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a1.\x20\x20**ต้องสร้างโจทย์ที่เน้นการคิดวิเคราะห์\x20(Highest\x20Priority):**\x0a\x20\x20\x20\x20*\x20**เน้นการประยุกต์ใช้:**\x20โจทย์ส่วนใหญ่ต้องไม่ใช่คำถามความจำหรือคำนวณตรงๆ\x20แต่ต้อง\x20**บังคับให้ผู้เรียน**\x20ต้องคิดวิเคราะห์,\x20ประยุกต์ใช้ความรู้,\x20หรือแก้ปัญหาหลายขั้นตอน\x20(multi-step\x20reasoning)\x0a\x20\x20\x20\x20*\x20**หลีกเลี่ยงโจทย์ง่าย:**\x20**ห้ามสร้าง**\x20โจทย์ที่เป็นการคำนวณพื้นฐานในขั้นตอนเดียว\x20(เช่น\x20\x22จงหาผลลัพธ์ของ\x2015\x20x\x204\x22)\x20โดยเด็ดขาด\x0a\x20\x20\x20\x20*\x20**สถานการณ์สมจริง:**\x20โจทย์ควรอยู่ในรูปแบบของ\x20\x22โจทย์ปัญหา\x22\x20(Word\x20Problems)\x20ที่มีสถานการณ์สมมติ\x20เพื่อวัดความสามารถในการนำความรู้ไปใช้แก้ปัญหาจริง\x0a\x0a2.\x20\x20**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x0a\x20\x20\x20\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**โครงสร้าง,\x20จำนวนข้อ,\x20และรูปแบบของตอน**\x20ทั้งหมดที่คุณสร้าง\x20**ต้อง**\x20อิงตามเอกสาร\x20Test\x20Blueprint\x20**เท่านั้น**\x20และ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20การไม่ปฏิบัติตามโครงสร้างนี้ถือเป็น\x20**ความล้มเหลวของภารกิจทั้งหมด**\x20โดยไม่มีข้อยกเว้น\x0a\x20\x20\x20\x20*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20ไฟล์นี้มีไว้เพื่อเป็น\x20**แนวทางด้านสไตล์และความยาก**\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20*\x20**คำสั่งเด็ดขาด:\x20ห้าม\x20(DO\x20NOT)**\x20นำ\x20**จำนวนข้อ**,\x20**โครงสร้างตอน**,\x20หรือ\x20**ลำดับข้อ**\x20จากไฟล์อ้างอิงมาใช้เด็ดขาด\x20ข้อมูลเหล่านี้ต้องมาจาก\x20Test\x20Blueprint\x20เท่านั้น\x0a\x0a3.\x20\x20**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a\x20\x20\x20\x20*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','entries','lesson-plan-modal','.\x20แต่ละข้อมี\x20','shuffle','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','temp-loader-text-results','parallel-shortcut-name-input','.edit-hidden-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','comparison-chart','กำลังสร้างเนื้อหา:\x20','modal-timer-duration-container','viewBox','leaderboard-quiz','submissions','blockReason','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','currentTarget','index','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','ondblclick','2-digit','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','standard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','replace','progress-project-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','document','export-pdf-btn','.ai-fix-question-btn','parallelShortcutTabs','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอยากมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','exists','application/json','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','transition-all','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','Error\x20updating\x20custom\x20topic:','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','beginPath','loader-text','ลบผลสอบของ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','mjx-container','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','fullscreenElement','\x5cfrac{$1}{$2}','student-quiz-leaderboard-content','live-game-view','เกิดข้อผิดพลาดในการสร้างใบงาน','artifacts/','redo-btn','text-input-area','```json','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','standardTopic','subTopic','applicationData','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','checkAnswer','text-gray-400\x20hover:text-indigo-600','results-table-container','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','#D1FAE5','scratchpad-modal','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','_opt1\x22>ไม่ใช่</label></div>','style',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','.generate-lesson-btn','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','ต้นฉบับ\x202','.project-card-container','สาระที่\x201','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','พื้นที่สามเหลี่ยม','admin-try-quiz-btn','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','lower_group_count','every','shortcutId','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','undefined','end-sync-game-btn','drill-feedback','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','.sort-indicator','wakeLock','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','parallel-shortcut-id-input','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','remove','<option\x20value=\x22\x22>กำลังโหลด...</option>'];_0x8f90=function(){return _0x41eb6d;};return _0x8f90();}function getResultsFilename(){const _0x3085c8=_0x3b29b2,_0x17aa31=document[_0x3085c8(0xa57)](_0x3085c8(0x7ec))[_0x3085c8(0x63d)]['replace'](/[^a-z0-9]/gi,'_')['toLowerCase']();return'results_'+(_0x17aa31||_0x3085c8(0x78b));}function exportResultsAsImage(){const _0x2a0e5c=_0x3b29b2,_0x382965=document[_0x2a0e5c(0xa57)](_0x2a0e5c(0xb89));showMessage(_0x2a0e5c(0xaec)),html2canvas(_0x382965)[_0x2a0e5c(0xc02)](_0x50bac0=>{const _0x797bda=_0x2a0e5c,_0x277d45=document[_0x797bda(0x930)]('a');_0x277d45[_0x797bda(0x96e)]=getResultsFilename()+_0x797bda(0x310),_0x277d45[_0x797bda(0x68b)]=_0x50bac0[_0x797bda(0x963)](_0x797bda(0x4b4)),_0x277d45[_0x797bda(0x1b1)](),messageModal[_0x797bda(0x6b0)][_0x797bda(0xb35)](_0x797bda(0x3db));});}function exportResultsAsPDF(){const _0x49533d=_0x3b29b2,{jsPDF:_0x4aa3fc}=window['jspdf'],_0x5a2ebe=new _0x4aa3fc();_0x5a2ebe[_0x49533d(0x4dc)](_0x49533d(0xa11),_0x49533d(0x4b1)),_0x5a2ebe[_0x49533d(0x9ff)]({'html':_0x49533d(0x54a)}),_0x5a2ebe[_0x49533d(0x7fc)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x4a1779=_0x3b29b2,_0x1b725a=_0x4a1779(0x7b3)+_0x4a1779(0x77a)+_0x4a1779(0x8a6)+_0x4a1779(0x6db),_0x31792a=_0x4a1779(0x9ad),_0x2af79e=_0x1b725a+document[_0x4a1779(0xa57)](_0x4a1779(0xb89))['innerHTML']+_0x31792a,_0x200df7='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x2af79e),_0x1f2a98=document['createElement']('a');document[_0x4a1779(0x6ea)][_0x4a1779(0x95e)](_0x1f2a98),_0x1f2a98[_0x4a1779(0x68b)]=_0x200df7,_0x1f2a98[_0x4a1779(0x96e)]=getResultsFilename()+'.doc',_0x1f2a98['click'](),document['body'][_0x4a1779(0x68d)](_0x1f2a98);}function exportResultsAsExcel(){const _0x1bae23=_0x3b29b2,_0x18bba9=document[_0x1bae23(0xa57)](_0x1bae23(0x3d0));let _0x57ecf1=[];for(let _0x337c46=0x0;_0x337c46<_0x18bba9[_0x1bae23(0x39a)]['length'];_0x337c46++){let _0x151bc4=[],_0x5890ce=_0x18bba9['rows'][_0x337c46]['querySelectorAll'](_0x1bae23(0x9ac));for(let _0x44fbbd=0x0;_0x44fbbd<_0x5890ce[_0x1bae23(0x423)];_0x44fbbd++){_0x151bc4[_0x1bae23(0x4aa)]('\x22'+_0x5890ce[_0x44fbbd][_0x1bae23(0x70a)]['replace'](/"/g,'\x22\x22')+'\x22');}_0x57ecf1[_0x1bae23(0x4aa)](_0x151bc4[_0x1bae23(0xa0a)](','));}const _0x3562a1=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x57ecf1['join']('\x0a')],{'type':_0x1bae23(0x577)}),_0x7ebb44=document[_0x1bae23(0x930)]('a');_0x7ebb44[_0x1bae23(0x68b)]=URL['createObjectURL'](_0x3562a1),_0x7ebb44[_0x1bae23(0x96e)]=getResultsFilename()+_0x1bae23(0x500),_0x7ebb44[_0x1bae23(0x1b1)]();}function exportTableAsImage(_0x153965,_0x2f2c47){const _0x1251fa=_0x3b29b2,_0x4805cb=document['getElementById'](_0x153965);if(!_0x4805cb){showMessage(_0x1251fa(0xbe9));return;}showMessage(_0x1251fa(0xaec)),html2canvas(_0x4805cb)[_0x1251fa(0xc02)](_0x3ebdaa=>{const _0x357c4b=_0x1251fa,_0x86a674=document[_0x357c4b(0x930)]('a');_0x86a674[_0x357c4b(0x96e)]=_0x2f2c47+_0x357c4b(0x310),_0x86a674[_0x357c4b(0x68b)]=_0x3ebdaa[_0x357c4b(0x963)](_0x357c4b(0x4b4)),_0x86a674[_0x357c4b(0x1b1)](),messageModal[_0x357c4b(0x6b0)][_0x357c4b(0xb35)](_0x357c4b(0x3db));});}function exportTableAsPDF(_0xcbaa69,_0x3c2bf9){const _0x259925=_0x3b29b2,{jsPDF:_0x3ba888}=window['jspdf'],_0xcb40d8=new _0x3ba888();_0xcb40d8[_0x259925(0x4dc)](_0x259925(0xa11),_0x259925(0x4b1)),_0xcb40d8[_0x259925(0x9ff)]({'html':'#'+_0xcbaa69}),_0xcb40d8[_0x259925(0x7fc)](_0x3c2bf9+_0x259925(0x5de));}function exportTableAsWord(_0x30e269,_0x2df203){const _0x8ba396=_0x3b29b2,_0xd342c3=document['getElementById'](_0x30e269);if(!_0xd342c3){showMessage(_0x8ba396(0xbe9));return;}const _0x13ffd5='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x8ba396(0x77a)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x8ba396(0x6db),_0x5d6870='</body></html>',_0x5d1894=_0x13ffd5+_0xd342c3[_0x8ba396(0x2b3)]+_0x5d6870,_0x1a3c44=_0x8ba396(0xa9d)+encodeURIComponent(_0x5d1894),_0xe6dc0a=document[_0x8ba396(0x930)]('a');document[_0x8ba396(0x6ea)][_0x8ba396(0x95e)](_0xe6dc0a),_0xe6dc0a[_0x8ba396(0x68b)]=_0x1a3c44,_0xe6dc0a[_0x8ba396(0x96e)]=_0x2df203+'.doc',_0xe6dc0a['click'](),document['body'][_0x8ba396(0x68d)](_0xe6dc0a);}function exportTableAsExcel(_0x459d8f,_0x8b7bf1){const _0x3e2903=_0x3b29b2,_0x3be5e6=document['getElementById'](_0x459d8f);if(!_0x3be5e6){showMessage(_0x3e2903(0xbe9));return;}let _0x14e2bc=[];for(let _0x3fe9c5=0x0;_0x3fe9c5<_0x3be5e6[_0x3e2903(0x39a)][_0x3e2903(0x423)];_0x3fe9c5++){let _0x7f839=[],_0x343b5e=_0x3be5e6[_0x3e2903(0x39a)][_0x3fe9c5][_0x3e2903(0x3cf)]('td,\x20th');for(let _0x3b47c4=0x0;_0x3b47c4<_0x343b5e[_0x3e2903(0x423)];_0x3b47c4++){_0x7f839[_0x3e2903(0x4aa)]('\x22'+_0x343b5e[_0x3b47c4][_0x3e2903(0x70a)][_0x3e2903(0xb5a)](/"/g,'\x22\x22')+'\x22');}_0x14e2bc[_0x3e2903(0x4aa)](_0x7f839['join'](','));}const _0x203f9a=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x14e2bc[_0x3e2903(0xa0a)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x2855d3=document[_0x3e2903(0x930)]('a');_0x2855d3[_0x3e2903(0x68b)]=URL['createObjectURL'](_0x203f9a),_0x2855d3[_0x3e2903(0x96e)]=_0x8b7bf1+'.csv',_0x2855d3['click']();}function renderAnalytics(_0x1432d3,_0x567c77){const _0x483b89=_0x3b29b2,_0x23e465=_0x567c77[_0x483b89(0x36d)](_0x29423e=>_0x29423e[_0x483b89(0x55c)]!==undefined),_0x308b65=currentProjectData['students'][_0x483b89(0x423)],_0x1a0c05=_0x23e465['length'],_0x5cf3c6=_0x308b65-_0x1a0c05,_0x2f128f=_0x308b65>0x0?_0x1a0c05/_0x308b65*0x64:0x0,_0x441fb1=_0x23e465[_0x483b89(0x921)](_0xc89e9d=>_0xc89e9d[_0x483b89(0x55c)]),_0x31ae30=_0x441fb1[_0x483b89(0x423)]>0x0?_0x441fb1['reduce']((_0x4df892,_0x5792b3)=>_0x4df892+_0x5792b3,0x0)/_0x441fb1['length']:0x0,_0x523140=_0x1432d3[_0x483b89(0x288)]['length'],_0x5e47f8=_0x523140>0x0?_0x31ae30/_0x523140*0x64:0x0,_0x4d706f=calculateItemAnalysis(_0x1432d3,_0x23e465),_0x5016cc=calculateReliabilityKR20(_0x1432d3,_0x23e465,_0x4d706f[_0x483b89(0xaea)]);let _0x3eccbc='';if(_0x5016cc!==null){let _0x57fc1b='';if(_0x5016cc>=0.9)_0x57fc1b=_0x483b89(0xaa6);else{if(_0x5016cc>=0.8)_0x57fc1b=_0x483b89(0xb2c);else{if(_0x5016cc>=0.7)_0x57fc1b='ดี';else{if(_0x5016cc>=0.6)_0x57fc1b=_0x483b89(0x399);else _0x57fc1b=_0x483b89(0x668);}}}_0x3eccbc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>'+_0x5016cc[_0x483b89(0x4f1)](0x2)+_0x483b89(0x476)+_0x57fc1b+_0x483b89(0x599);}const _0x1ba94f=document['getElementById']('analytics-summary-cards');_0x1ba94f[_0x483b89(0x2b3)]=_0x483b89(0xac8)+_0x2f128f[_0x483b89(0x4f1)](0x0)+_0x483b89(0x173)+_0x1a0c05+'/'+_0x308b65+_0x483b89(0x269)+_0x31ae30[_0x483b89(0x4f1)](0x2)+_0x483b89(0x1f7)+_0x5e47f8[_0x483b89(0x4f1)](0x0)+_0x483b89(0x8ec)+(_0x441fb1[_0x483b89(0x423)]>0x0?Math['max'](..._0x441fb1):'N/A')+_0x483b89(0x6a4)+(_0x441fb1[_0x483b89(0x423)]>0x0?Math[_0x483b89(0x2b9)](..._0x441fb1):'N/A')+_0x483b89(0x5ec)+_0x3eccbc+_0x483b89(0x711);const _0x7add92=document[_0x483b89(0xa57)](_0x483b89(0x831));_0x7add92&&_0x7add92[_0x483b89(0xbb2)]();const _0x3766ef=_0x483b89(0x9d4);_0x1ba94f['insertAdjacentHTML'](_0x483b89(0xa63),_0x3766ef);const _0x3ac1d0=currentProjectData['students']||[];renderSubmissionChart(_0x1a0c05,_0x5cf3c6,_0x23e465,_0x3ac1d0),renderScoreDistributionChart(_0x23e465,_0x523140),renderQuestionAnalytics(_0x1432d3,_0x23e465,_0x3ac1d0),renderInterestingStats(_0x1432d3,_0x23e465);}async function handleExportLessonPDF(){const _0xe8edcc=_0x3b29b2,_0x1dc0b2=document['getElementById'](_0xe8edcc(0x50e)),_0x1fcab3=document[_0xe8edcc(0xa57)](_0xe8edcc(0x641))['textContent'],_0x81a769=window[_0xe8edcc(0x1fe)]('',_0xe8edcc(0x2b1)),_0x19a62a=_0xe8edcc(0xb14)+_0x1fcab3+_0xe8edcc(0x65e)+_0x1dc0b2[_0xe8edcc(0x2b3)]+_0xe8edcc(0x9eb);_0x81a769[_0xe8edcc(0xb5d)][_0xe8edcc(0x7cc)](_0x19a62a),_0x81a769[_0xe8edcc(0xb5d)][_0xe8edcc(0x7f2)](),_0x81a769[_0xe8edcc(0x569)]=function(){setTimeout(()=>{const _0x2f7742=_0x376a;_0x81a769[_0x2f7742(0x178)]();},0x5dc);};}function renderInterestingStats(_0x16443f,_0x5ca491){const _0x20ba74=_0x3b29b2,_0x42fd9c=document['getElementById'](_0x20ba74(0x8f1));if(!_0x42fd9c)return;if(_0x5ca491['length']===0x0){_0x42fd9c['innerHTML']=_0x20ba74(0x141);return;}const _0x87a5b6=_0x16443f[_0x20ba74(0x288)][_0x20ba74(0x921)]((_0x28d4c7,_0x379d43)=>({'index':_0x379d43+0x1,'text':_0x28d4c7[_0x20ba74(0xc1c)]||_0x28d4c7[_0x20ba74(0xc65)],'correct':0x0}));_0x5ca491[_0x20ba74(0x9aa)](_0x270374=>{const _0x406cac=_0x20ba74,_0x5348b0=_0x270374[_0x406cac(0x170)][_0x270374['attempts']['length']-0x1];_0x5348b0&&_0x5348b0['answers']&&_0x5348b0[_0x406cac(0x854)]['forEach'](_0x310782=>{const _0x394a44=_0x406cac,_0xeb3812=_0x87a5b6[_0x394a44(0xc0d)](_0x3d23e8=>_0x3d23e8[_0x394a44(0x89a)]===_0x310782[_0x394a44(0x117)]);_0x310782['isCorrect']&&_0xeb3812&&_0xeb3812[_0x394a44(0x570)]++;});});const _0x4340fd=_0x5ca491['length'],_0xf402dd=Math['max'](..._0x87a5b6[_0x20ba74(0x921)](_0x57af57=>_0x57af57[_0x20ba74(0x570)])),_0x420397=Math[_0x20ba74(0x2b9)](..._0x87a5b6[_0x20ba74(0x921)](_0x5d3b11=>_0x5d3b11['correct'])),_0x46804d=_0x87a5b6[_0x20ba74(0x36d)](_0x231af1=>_0x231af1[_0x20ba74(0x570)]===_0xf402dd)['map'](_0x227e7e=>_0x20ba74(0x4ae)+_0x227e7e[_0x20ba74(0xb52)]),_0x27c0dd=_0x87a5b6[_0x20ba74(0x36d)](_0x362080=>_0x362080[_0x20ba74(0x570)]===_0x420397)[_0x20ba74(0x921)](_0x2831dc=>_0x20ba74(0x4ae)+_0x2831dc[_0x20ba74(0xb52)]),_0x11411f=_0x5ca491[_0x20ba74(0x445)]((_0x3f42f9,_0x5ed7a4)=>_0x5ed7a4[_0x20ba74(0x55c)]-_0x3f42f9[_0x20ba74(0x55c)])[_0x20ba74(0x36d)]((_0x58784a,_0x41bfc4,_0x2dc733)=>_0x58784a[_0x20ba74(0x55c)]===_0x2dc733[0x0][_0x20ba74(0x55c)]),_0x41c4cd=_0x5ca491[_0x20ba74(0x445)]((_0x400f28,_0x2d89f6)=>_0x400f28[_0x20ba74(0x55c)]-_0x2d89f6[_0x20ba74(0x55c)])[_0x20ba74(0x36d)]((_0x2626a7,_0x586b3e,_0x1ddb7c)=>_0x2626a7[_0x20ba74(0x55c)]===_0x1ddb7c[0x0][_0x20ba74(0x55c)]),_0x47d71e=_0x20ba74(0xa74)+_0x46804d[_0x20ba74(0xa0a)](',\x20')+_0x20ba74(0x705)+_0xf402dd+'\x20/\x20'+_0x4340fd+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x27c0dd[_0x20ba74(0xa0a)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+(_0x4340fd-_0x420397)+_0x20ba74(0x3a8)+_0x4340fd+_0x20ba74(0x9ee)+_0x11411f['map'](_0x1713af=>_0x1713af[_0x20ba74(0xc97)])[_0x20ba74(0xa0a)](',\x20')+_0x20ba74(0x585)+_0x11411f[0x0][_0x20ba74(0x55c)]+_0x20ba74(0x3f7)+_0x41c4cd[_0x20ba74(0x921)](_0x2ebd32=>_0x2ebd32[_0x20ba74(0xc97)])['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x41c4cd[0x0][_0x20ba74(0x55c)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x42fd9c['innerHTML']=_0x47d71e;}function renderSubmissionChart(_0x107eb0,_0x3f69aa,_0x26afb4,_0x225a13){const _0x5429b6=_0x3b29b2,_0x54c165=document[_0x5429b6(0xa57)](_0x5429b6(0x67b))['getContext']('2d'),_0x5eb013=_0x26afb4[_0x5429b6(0x921)](_0x2d89eb=>_0x2d89eb[_0x5429b6(0xc97)]),_0x595d05=_0x225a13['filter'](_0x3f5f9a=>!_0x5eb013[_0x5429b6(0x4c8)](_0x3f5f9a));chartInstances['submission']&&chartInstances[_0x5429b6(0x46d)]['destroy'](),chartInstances[_0x5429b6(0x46d)]=new Chart(_0x54c165,{'type':_0x5429b6(0x79c),'data':{'labels':['ส่งแล้ว',_0x5429b6(0x69b)],'datasets':[{'data':[_0x107eb0,_0x3f69aa],'backgroundColor':['#10B981','#F59E0B'],'borderColor':[_0x5429b6(0x811),_0x5429b6(0x811)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x5429b6(0x690)},'tooltip':{'callbacks':{'label':function(_0x185851){const _0xcb4572=_0x5429b6;let _0x7c8770=_0x185851[_0xcb4572(0x551)]||'';return _0x7c8770&&(_0x7c8770+=':\x20'),_0x7c8770+=_0x185851['raw'],_0x7c8770;},'afterLabel':function(_0x5c62b6){const _0x510b5d=_0x5429b6;let _0x75d63e;return _0x5c62b6[_0x510b5d(0xa04)]===0x0?_0x75d63e=_0x5eb013:_0x75d63e=_0x595d05,_0x75d63e['length']>0x0?_0x75d63e[_0x510b5d(0xa0a)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0xdd308a,_0x17a27c){const _0x561d54=_0x3b29b2,_0x436b67=document[_0x561d54(0xa57)](_0x561d54(0x2c0))['getContext']('2d'),_0x1fa6eb={};for(let _0x1879c0=0x0;_0x1879c0<=_0x17a27c;_0x1879c0++){_0x1fa6eb[_0x1879c0]=0x0;}_0xdd308a[_0x561d54(0x9aa)](_0x2f06cf=>{const _0x590b37=_0x561d54;_0x1fa6eb[_0x2f06cf[_0x590b37(0x55c)]]!==undefined&&_0x1fa6eb[_0x2f06cf[_0x590b37(0x55c)]]++;}),chartInstances['score']&&chartInstances[_0x561d54(0x5c3)][_0x561d54(0x6e2)](),chartInstances[_0x561d54(0x5c3)]=new Chart(_0x436b67,{'type':_0x561d54(0x5f5),'data':{'labels':Object['keys'](_0x1fa6eb),'datasets':[{'label':_0x561d54(0x85e),'data':Object[_0x561d54(0x4bb)](_0x1fa6eb),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':'rgba(79,\x2070,\x20229,\x201)','borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x561d54(0x1ad)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x4d54c5){const _0x774281=_0x561d54,_0xd82caf=_0x4d54c5['label'],_0x4e81bd=_0xdd308a[_0x774281(0x36d)](_0x3f626a=>_0x3f626a[_0x774281(0x55c)]==_0xd82caf)[_0x774281(0x921)](_0x53d6b8=>_0x53d6b8[_0x774281(0xc97)]);return _0x4e81bd[_0x774281(0x423)]>0x0?_0x4e81bd[_0x774281(0xa0a)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x28f084,_0x5b7aeb,_0x1b4406){const _0x5ad03b=_0x3b29b2,_0x10affe=document['getElementById'](_0x5ad03b(0x142));if(_0x1b4406['length']===0x0){_0x10affe[_0x5ad03b(0x2b3)]=_0x5ad03b(0xa6e);return;}const _0x17f439=calculateItemAnalysis(_0x28f084,_0x5b7aeb),_0x1bb15b=calculateDistractorAnalysis(_0x28f084,_0x5b7aeb);let _0x4d87da='';_0x17f439[_0x5ad03b(0xc6c)]&&(_0x4d87da='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x17f439[_0x5ad03b(0xc6c)][_0x5ad03b(0xa1e)]['length']+_0x5ad03b(0x983)+_0x17f439['overallGroups'][_0x5ad03b(0xa1e)][_0x5ad03b(0x921)](_0x486153=>_0x5ad03b(0x4f9)+_0x486153+'</li>')['join']('')+_0x5ad03b(0x761)+_0x17f439[_0x5ad03b(0xc6c)][_0x5ad03b(0x30c)][_0x5ad03b(0x423)]+_0x5ad03b(0x983)+_0x17f439[_0x5ad03b(0xc6c)]['lowerGroupNames']['map'](_0x166424=>_0x5ad03b(0x4f9)+_0x166424+_0x5ad03b(0x61b))[_0x5ad03b(0xa0a)]('')+_0x5ad03b(0xc82));let _0x30ed6a='';const _0x5a256b=_0x5b7aeb[_0x5ad03b(0x921)](_0xcbd945=>_0xcbd945[_0x5ad03b(0xc97)]),_0x28555a=_0x3aebac=>{const _0x5b8eff=_0x5ad03b;if(_0x3aebac>=0.8)return _0x5b8eff(0x6bb);if(_0x3aebac>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x3aebac>=0.4)return _0x5b8eff(0x8de);if(_0x3aebac>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0x5b8eff(0x9cf);},_0x31a37a=_0x5e7fd8=>{const _0x36b1d7=_0x5ad03b;if(_0x5e7fd8<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x5e7fd8>=0.4)return _0x36b1d7(0x2af);if(_0x5e7fd8>=0.3)return _0x36b1d7(0x3d2);if(_0x5e7fd8>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return _0x36b1d7(0x47a);},_0x1eb928=_0x5f2c15=>{const _0x47f44c=_0x5ad03b,_0x25f341=_0x5f2c15[_0x47f44c(0x4f1)](0x0);if(parseFloat(_0x25f341)===0x64)return'<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x25f341+_0x47f44c(0xa66);if(_0x5f2c15>=0x32)return _0x47f44c(0xc35)+_0x25f341+_0x47f44c(0xa66);return _0x47f44c(0xc88)+_0x25f341+_0x47f44c(0xa66);};_0x28f084[_0x5ad03b(0x288)]['forEach']((_0x3312fb,_0x5164c6)=>{const _0x22685c=_0x5ad03b,_0x5c2a24=_0x17f439[_0x22685c(0xaea)][_0x5164c6],_0x4f3a9d=_0x1bb15b[_0x5164c6],_0x1adce0=_0x3312fb['stem']||_0x3312fb[_0x22685c(0xc1c)]||_0x3312fb[_0x22685c(0x73a)];let _0x19716b=0x0;const _0xbdf9bd=[],_0x8088fd=[];_0x5b7aeb[_0x22685c(0x9aa)](_0x9c84c8=>{const _0x16806a=_0x22685c,_0x1bceed=_0x9c84c8[_0x16806a(0x170)][_0x9c84c8['attempts']['length']-0x1];if(_0x1bceed&&_0x1bceed['answers']){const _0x18b2f9=_0x1bceed[_0x16806a(0x854)][_0x16806a(0xc0d)](_0x4585a2=>_0x4585a2[_0x16806a(0x117)]===_0x1adce0)??_0x1bceed[_0x16806a(0x854)][_0x5164c6]??null;_0x18b2f9&&(_0x18b2f9[_0x16806a(0x3e2)]?(_0x19716b++,_0xbdf9bd[_0x16806a(0x4aa)](_0x9c84c8[_0x16806a(0xc97)])):_0x8088fd[_0x16806a(0x4aa)](_0x9c84c8['studentName']));}});const _0x2aa2d9=_0x5b7aeb[_0x22685c(0x423)]>0x0?_0x19716b/_0x5b7aeb[_0x22685c(0x423)]*0x64:0x0,_0x349c9e=_0x1b4406[_0x22685c(0x36d)](_0x2c3f8e=>!_0x5a256b[_0x22685c(0x4c8)](_0x2c3f8e)),_0x3b68d5=_0x5c2a24?_0x22685c(0x2c3)+_0x5c2a24['p'][_0x22685c(0x4f1)](0x2)+'</p><div>'+_0x28555a(_0x5c2a24['p'])+_0x22685c(0x8e1)+_0x5c2a24['r'][_0x22685c(0x4f1)](0x2)+_0x22685c(0xb0b)+_0x31a37a(_0x5c2a24['r'])+_0x22685c(0xaa2)+_0x1eb928(_0x2aa2d9)+_0x22685c(0x61e):'';let _0x436a77='';_0x4f3a9d&&(_0x436a77=_0x22685c(0x5d0)+Object[_0x22685c(0x71e)](_0x4f3a9d)[_0x22685c(0x921)](_0x802ec5=>{const _0x206119=_0x22685c,_0x2786bf=_0x4f3a9d[_0x802ec5],_0x48308e=parseInt(_0x802ec5)===_0x3312fb['correctAnswerIndex'],_0x12699d=!_0x48308e&&_0x2786bf[_0x206119(0xba4)]>_0x2786bf[_0x206119(0x38d)];return _0x206119(0x762)+(_0x48308e?_0x206119(0x4d1):'')+_0x206119(0x64a)+(_0x48308e?'✔\x20':'')+_0x2786bf[_0x206119(0x89a)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x2786bf['upper_group_count']+_0x206119(0x5ea)+_0x2786bf[_0x206119(0xba4)]+'\x20'+(_0x12699d?'👍':'')+_0x206119(0x5ea)+_0x2786bf[_0x206119(0x19c)]+_0x206119(0x7b1);})[_0x22685c(0xa0a)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x365798='';_0x5c2a24&&_0x5c2a24[_0x22685c(0x83f)]&&(_0x365798=_0x22685c(0xb80)+_0x5c2a24[_0x22685c(0x83f)]['length']+_0x22685c(0xc34)+_0x5c2a24[_0x22685c(0x83f)][_0x22685c(0x921)](_0x1749e9=>_0x22685c(0x4f9)+(_0x1749e9[_0x22685c(0x3e2)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x1749e9['name']+_0x22685c(0x61b))[_0x22685c(0xa0a)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x5c2a24[_0x22685c(0x616)][_0x22685c(0x423)]+_0x22685c(0xc34)+_0x5c2a24[_0x22685c(0x616)]['map'](_0x15b228=>_0x22685c(0x4f9)+(_0x15b228['isCorrect']?_0x22685c(0x15b):'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x15b228[_0x22685c(0xc6f)]+'</li>')[_0x22685c(0xa0a)]('')+_0x22685c(0x9a1)),_0x30ed6a+=_0x22685c(0x3ef)+(_0x5164c6+0x1)+':\x20'+_0x1adce0+_0x22685c(0x12e)+_0x3b68d5+_0x22685c(0x68c)+_0x1adce0+_0x22685c(0x788)+_0x19716b+'\x20จาก\x20'+_0x5b7aeb[_0x22685c(0x423)]+_0x22685c(0x4f6)+_0x2aa2d9[_0x22685c(0x4f1)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0xbdf9bd[_0x22685c(0x423)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0xbdf9bd['length']>0x0?_0xbdf9bd['join'](',\x20'):_0x22685c(0xc36))+_0x22685c(0xc7f)+_0x8088fd[_0x22685c(0x423)]+_0x22685c(0x9c8)+(_0x8088fd['length']>0x0?_0x8088fd['join'](',\x20'):_0x22685c(0xc36))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20('+_0x349c9e[_0x22685c(0x423)]+_0x22685c(0x9c8)+(_0x349c9e[_0x22685c(0x423)]>0x0?_0x349c9e[_0x22685c(0xa0a)](',\x20'):'ไม่มี')+_0x22685c(0x7cb)+_0x436a77+_0x22685c(0x596)+_0x365798+_0x22685c(0xa6d);}),_0x10affe[_0x5ad03b(0x2b3)]=_0x4d87da+_0x30ed6a;try{window[_0x5ad03b(0x49e)]&&MathJax[_0x5ad03b(0x13d)]&&MathJax[_0x5ad03b(0x13d)]([_0x10affe]);}catch(_0x1eddf7){console['error']('MathJax\x20typeset\x20error\x20(analytics):',_0x1eddf7);}}function calculateDistractorAnalysis(_0x4b0939,_0x260509){const _0x8f24e3=_0x3b29b2,_0x2b48d2={};if(_0x260509['length']<0x2)return _0x2b48d2;const _0x964835=[..._0x260509][_0x8f24e3(0x445)]((_0x40a276,_0x13a787)=>{const _0x3ec2a1=_0x8f24e3,_0x492759=_0x13a787[_0x3ec2a1(0x55c)]-_0x40a276[_0x3ec2a1(0x55c)];if(_0x492759!==0x0)return _0x492759;const _0x438748=_0x40a276['attempts']?.['length']||0x1,_0xd06ea1=_0x13a787[_0x3ec2a1(0x170)]?.['length']||0x1,_0x133944=_0x438748-_0xd06ea1;if(_0x133944!==0x0)return _0x133944;const _0x38dcf0=new Date(_0x40a276[_0x3ec2a1(0x98a)]),_0x387d5d=new Date(_0x13a787[_0x3ec2a1(0x98a)]),_0x1a17e0=_0x38dcf0-_0x387d5d;if(_0x1a17e0!==0x0)return _0x1a17e0;return _0x40a276[_0x3ec2a1(0xc97)][_0x3ec2a1(0x843)](_0x13a787[_0x3ec2a1(0xc97)],'th');}),_0x502488=_0x964835[_0x8f24e3(0x423)],_0x15d399=Math[_0x8f24e3(0x3c9)](0x1,Math[_0x8f24e3(0xb26)](_0x502488*0.33)),_0x38d5e7=_0x964835[_0x8f24e3(0x20e)](0x0,_0x15d399),_0x51ce45=_0x964835['slice'](-_0x15d399);return _0x4b0939[_0x8f24e3(0x288)][_0x8f24e3(0x9aa)]((_0x486ef0,_0x3d55b7)=>{const _0x20411d=_0x8f24e3;if(_0x486ef0[_0x20411d(0x704)]!==_0x20411d(0xbbc)||!_0x486ef0[_0x20411d(0x5a9)])return;const _0x2f3300=_0x486ef0[_0x20411d(0xc1c)],_0x13871c={};_0x486ef0[_0x20411d(0x5a9)][_0x20411d(0x9aa)]((_0x5ef4cd,_0x26254b)=>{_0x13871c[_0x26254b]={'text':_0x5ef4cd,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x964835[_0x20411d(0x9aa)](_0x491c55=>{const _0xf0bae4=_0x20411d,_0x596a29=_0x491c55[_0xf0bae4(0x170)][_0x491c55[_0xf0bae4(0x170)][_0xf0bae4(0x423)]-0x1],_0x42a43d=_0x596a29[_0xf0bae4(0x854)]['find'](_0x547e49=>_0x547e49[_0xf0bae4(0x117)]===_0x2f3300);if(_0x42a43d&&_0x42a43d[_0xf0bae4(0x377)]!==null){const _0x10829a=_0x486ef0[_0xf0bae4(0x5a9)][_0xf0bae4(0x4e3)](_0x3fdf02=>_0x3fdf02===_0x42a43d[_0xf0bae4(0x391)]);_0x10829a!==-0x1&&_0x13871c[_0x10829a]&&(_0x13871c[_0x10829a][_0xf0bae4(0x19c)]++,_0x38d5e7[_0xf0bae4(0x4c8)](_0x491c55)&&_0x13871c[_0x10829a]['upper_group_count']++,_0x51ce45['includes'](_0x491c55)&&_0x13871c[_0x10829a][_0xf0bae4(0xba4)]++);}}),_0x2b48d2[_0x3d55b7]=_0x13871c;}),_0x2b48d2;}function calculateReliabilityKR20(_0x12f679,_0x1b7898,_0x2eeee2){const _0x447730=_0x3b29b2,_0x1c1389=_0x12f679[_0x447730(0x288)][_0x447730(0x423)];if(_0x1c1389<0x2||_0x1b7898[_0x447730(0x423)]<0x2)return null;const _0x3bb214=_0x1b7898[_0x447730(0x921)](_0x48ee4f=>_0x48ee4f[_0x447730(0x55c)]),_0xaa5547=_0x3bb214['reduce']((_0x167648,_0x42ab54)=>_0x167648+_0x42ab54,0x0)/_0x3bb214[_0x447730(0x423)],_0xf4401=_0x3bb214[_0x447730(0x921)](_0xbe07a0=>Math['pow'](_0xbe07a0-_0xaa5547,0x2))[_0x447730(0x4a8)]((_0x574e58,_0x1e69e1)=>_0x574e58+_0x1e69e1,0x0)/_0x3bb214['length'];if(_0xf4401===0x0)return null;let _0x179a44=0x0;for(let _0x5c6759=0x0;_0x5c6759<_0x1c1389;_0x5c6759++){const _0x5280b4=_0x2eeee2[_0x5c6759]?.['p'];if(_0x5280b4===undefined)continue;const _0x4e826b=0x1-_0x5280b4;_0x179a44+=_0x5280b4*_0x4e826b;}if(_0x179a44===0x0)return null;const _0x2a0fc6=_0x1c1389/(_0x1c1389-0x1)*(0x1-_0x179a44/_0xf4401);if(_0x2a0fc6>0x1)return null;return _0x2a0fc6;}async function handleAnalyzeClass(){const _0x4056a8=_0x3b29b2;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x4056a8(0x31c));return;}const _0x5ab205=collection(db,'artifacts/'+appId+_0x4056a8(0x689)+currentQuizData['id']+_0x4056a8(0x3d5)),_0x5b6a4e=await getDocs(_0x5ab205),_0x131ced=_0x5b6a4e[_0x4056a8(0x8c5)][_0x4056a8(0x921)](_0x1982f4=>_0x1982f4[_0x4056a8(0x7a6)]());if(_0x131ced[_0x4056a8(0x423)]<0x2){showMessage(_0x4056a8(0x8ab));return;}const _0x3ef38d=document[_0x4056a8(0xa57)](_0x4056a8(0x498));_0x3ef38d['innerHTML']=_0x4056a8(0x3a4),document[_0x4056a8(0xa57)](_0x4056a8(0x7b8))[_0x4056a8(0x267)]=!![];const _0x1d26f3=_0x131ced[_0x4056a8(0x921)]((_0x101d08,_0x538a1b)=>{const _0x33ca84=_0x4056a8,_0x315f44=_0x101d08[_0x33ca84(0x170)][_0x101d08['attempts'][_0x33ca84(0x423)]-0x1];if(!_0x315f44)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0x538a1b+0x1)+'\x20('+_0x101d08['studentName']+_0x33ca84(0xc13)+_0x315f44[_0x33ca84(0x5c3)]+'/'+_0x101d08['totalQuestions']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20'+JSON[_0x33ca84(0xc54)](_0x315f44[_0x33ca84(0x854)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x4056a8(0xa0a)]('\x0a---\x0a'),_0x5aeb6c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData['topic']+_0x4056a8(0x712)+JSON[_0x4056a8(0xc54)](currentQuizData['questions'])+_0x4056a8(0xabd)+_0x1d26f3+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x37370b={'type':_0x4056a8(0x31f),'properties':{'classStrengths':{'type':'ARRAY','items':{'type':_0x4056a8(0xc48)}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x4056a8(0xc48)}},'teacherSuggestions':{'type':_0x4056a8(0x880),'items':{'type':'STRING'}}},'required':[_0x4056a8(0x5a5),_0x4056a8(0x58c),_0x4056a8(0x85a)]};try{const _0x36b611=await callAnalysisApi(_0x5aeb6c,_0x37370b);displayClassAnalysis(_0x36b611);}catch(_0x3d8070){console['error']('Error\x20during\x20class\x20analysis:',_0x3d8070),_0x3ef38d[_0x4056a8(0x2b3)]=_0x4056a8(0x869)+_0x3d8070[_0x4056a8(0x8df)]+_0x4056a8(0x9e0);}finally{document[_0x4056a8(0xa57)](_0x4056a8(0x7b8))[_0x4056a8(0x267)]=![];}}function displayClassAnalysis(_0x53e8d5){const _0x354f06=_0x3b29b2,_0xecc5f0=document['getElementById'](_0x354f06(0x498));if(!_0x53e8d5){_0xecc5f0[_0x354f06(0x2b3)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0xecc5f0[_0x354f06(0x2b3)]=_0x354f06(0xb6f)+_0x53e8d5['classStrengths'][_0x354f06(0x921)](_0x300514=>'<li>'+_0x300514+_0x354f06(0x61b))[_0x354f06(0xa0a)]('')+_0x354f06(0x941)+_0x53e8d5[_0x354f06(0x58c)][_0x354f06(0x921)](_0x2322b4=>_0x354f06(0x4f9)+_0x2322b4+_0x354f06(0x61b))[_0x354f06(0xa0a)]('')+_0x354f06(0x26e)+_0x53e8d5['teacherSuggestions'][_0x354f06(0x921)](_0x2cc414=>_0x354f06(0x4f9)+_0x2cc414+_0x354f06(0x61b))[_0x354f06(0xa0a)]('')+_0x354f06(0x344);}function formatAndPrintWorksheet(_0x4dafc0,_0xbdd1ba){const _0xb0187c=_0x3b29b2,_0x50b497=_0xb0187c(0xa23)+_0x4dafc0[_0xb0187c(0x13e)]+_0xb0187c(0x74e)+_0x4dafc0[_0xb0187c(0x13e)]+_0xb0187c(0x9e6)+_0x4dafc0[_0xb0187c(0x288)][_0xb0187c(0x921)]((_0x6ecaaa,_0x43316a)=>_0xb0187c(0x797)+(_0x43316a+0x1)+'.\x20'+_0x6ecaaa[_0xb0187c(0xc1c)]+_0xb0187c(0x93e)+(_0x6ecaaa[_0xb0187c(0xa5d)]?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0x6ecaaa[_0xb0187c(0xa5d)]+_0xb0187c(0xaa5):'')+_0xb0187c(0x73b))[_0xb0187c(0xa0a)]('')+_0xb0187c(0x482);_0xbdd1ba[_0xb0187c(0xb5d)][_0xb0187c(0x7cc)](_0x50b497),_0xbdd1ba['document'][_0xb0187c(0x7f2)](),_0xbdd1ba[_0xb0187c(0x569)]=function(){setTimeout(()=>{const _0x59dd06=_0x376a;_0xbdd1ba[_0x59dd06(0x178)]();},0x3e8);};}async function generateWorksheet(){const _0x32d75c=_0x3b29b2,_0x331e84=document[_0x32d75c(0xa57)](_0x32d75c(0x834))[_0x32d75c(0x6d4)]['trim']();if(!_0x331e84){showMessage(_0x32d75c(0x905));return;}const _0x46cdfa=document['getElementById'](_0x32d75c(0x916))['checked'],_0x59a99b=_0x46cdfa?'':_0x32d75c(0x261),_0x66515=window[_0x32d75c(0x1fe)]('','_blank');_0x66515[_0x32d75c(0xb5d)][_0x32d75c(0x7cc)](_0x32d75c(0x191));const _0x5725a0=parseInt(document[_0x32d75c(0xa57)]('num-questions')[_0x32d75c(0x6d4)]),_0x3ef0cb=document[_0x32d75c(0xa57)]('include-images-checkbox')[_0x32d75c(0x354)],_0xe30128=_0x3ef0cb?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0xb55e55=_0x32d75c(0xb09)+_0x59a99b+_0x32d75c(0xc17)+_0x5725a0+_0x32d75c(0x1a8)+_0x331e84+_0x32d75c(0x16c)+_0xe30128+_0x32d75c(0x5fe)+simpleMathPrompt+_0x32d75c(0x6f1),_0x4d368={'type':_0x32d75c(0x31f),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x32d75c(0x880),'items':{'type':_0x32d75c(0x31f),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0x32d75c(0xc48)}},'required':[_0x32d75c(0xc1c)]}}},'required':[_0x32d75c(0x13e),_0x32d75c(0x288)]};document[_0x32d75c(0xa57)](_0x32d75c(0xb6d))[_0x32d75c(0x63d)]='',document[_0x32d75c(0xa57)]('loader')[_0x32d75c(0x6b0)][_0x32d75c(0xbb2)](_0x32d75c(0x3db)),document['getElementById'](_0x32d75c(0x5f0))['classList'][_0x32d75c(0xbb2)](_0x32d75c(0x3db)),generateWorksheetBtn[_0x32d75c(0x267)]=!![];try{const _0x4f0089=await callAnalysisApi(_0xb55e55,_0x4d368);formatAndPrintWorksheet(_0x4f0089,_0x66515);}catch(_0x315477){console[_0x32d75c(0xc93)]('Error\x20generating\x20worksheet:',_0x315477);if(_0x66515)_0x66515[_0x32d75c(0x7f2)]();showMessage(_0x32d75c(0xb78));}finally{document[_0x32d75c(0xa57)](_0x32d75c(0x438))[_0x32d75c(0x6b0)][_0x32d75c(0xb35)]('hidden'),document[_0x32d75c(0xa57)](_0x32d75c(0x5f0))[_0x32d75c(0x6b0)][_0x32d75c(0xb35)]('hidden'),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0xe6b5c4,_0x3b48f5){const _0x4cfdba=_0x3b29b2,_0x28ff8b={'contents':[{'role':_0x4cfdba(0x8fd),'parts':[{'text':_0xe6b5c4}]}],'generationConfig':{'responseMimeType':_0x4cfdba(0xb66),'responseSchema':_0x3b48f5}},_0x5f01f6=_0x4cfdba(0x4a7),_0x46b4c9=_0x4cfdba(0x457)+_0x5f01f6,_0x5d0d17=await fetch(_0x46b4c9,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x28ff8b)});if(!_0x5d0d17['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x5d0d17[_0x4cfdba(0xbeb)]);const _0x4c12fc=await _0x5d0d17['json']();if(_0x4c12fc[_0x4cfdba(0xa0d)]?.[0x0]?.[_0x4cfdba(0x610)]?.[_0x4cfdba(0x7c5)]?.[0x0])return JSON[_0x4cfdba(0x5f1)](_0x4c12fc[_0x4cfdba(0xa0d)][0x0][_0x4cfdba(0x610)][_0x4cfdba(0x7c5)][0x0][_0x4cfdba(0x89a)]);else{let _0x5cdcf8=_0x4cfdba(0xc09);if(_0x4c12fc[_0x4cfdba(0x168)]?.[_0x4cfdba(0xb4e)])_0x5cdcf8=_0x4cfdba(0x539)+_0x4c12fc[_0x4cfdba(0x168)]['blockReason']+'.';else _0x4c12fc[_0x4cfdba(0xa0d)]?.[0x0]?.[_0x4cfdba(0x89b)]&&_0x4c12fc[_0x4cfdba(0xa0d)][0x0][_0x4cfdba(0x89b)]!=='STOP'&&(_0x5cdcf8=_0x4cfdba(0xa08)+_0x4c12fc[_0x4cfdba(0xa0d)][0x0]['finishReason']+'.');console['error'](_0x5cdcf8,JSON[_0x4cfdba(0xc54)](_0x4c12fc));throw new Error(_0x5cdcf8);}}async function handleStartSyncMode(_0x266015,_0x3e4c1e=![]){const _0x434baf=_0x3b29b2,_0x12912e=allQuizzes[_0x434baf(0xc0d)](_0x1fa1f2=>_0x1fa1f2['id']===_0x266015)||allQuizzesGlobal['find'](_0x3618dd=>_0x3618dd['id']===_0x266015);if(!_0x12912e){showMessage(_0x434baf(0x57d));return;}currentQuizData=getShuffledQuiz(_0x12912e);const _0x397fd0=Math[_0x434baf(0xb26)](0x3e8+Math[_0x434baf(0x95a)]()*0x2328)[_0x434baf(0xa5a)]();try{const _0x13d3f4=await addDoc(collection(db,'artifacts/'+appId+_0x434baf(0x5a4)),{'quizId':_0x12912e['id'],'pin':_0x397fd0,'status':_0x434baf(0x40e),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x3e4c1e,'players':{}});currentLiveGameId=_0x13d3f4['id'],showView(_0x434baf(0x618)),renderSyncLobbyView(_0x397fd0,_0x12912e['topic']),listenForSyncGameUpdates();}catch(_0x5de51e){console[_0x434baf(0xc93)]('Error\x20starting\x20sync\x20game:',_0x5de51e),showMessage(_0x434baf(0xa62));}}function calculateFinalPodiumScores(_0x4c12d){const _0x31be21=_0x3b29b2;if(!_0x4c12d||!_0x4c12d[_0x31be21(0xc2b)]||!_0x4c12d[_0x31be21(0x7d2)])return _0x4c12d[_0x31be21(0x7d2)]||{};const _0x2228bc=_0x4c12d['shuffledQuiz'][_0x31be21(0x288)][_0x31be21(0x423)],_0x7d0155=JSON[_0x31be21(0x5f1)](JSON[_0x31be21(0xc54)](_0x4c12d['players']));return Object['values'](_0x7d0155)[_0x31be21(0x9aa)](_0x3ca0b6=>{const _0x1c8976=_0x31be21,_0x3570fe=_0x3ca0b6[_0x1c8976(0x5c3)];let _0xd74098=_0x3570fe,_0x16dd82=0x0;_0x4c12d[_0x1c8976(0x327)]&&_0x3ca0b6['answers']&&_0x3ca0b6[_0x1c8976(0x854)]['forEach'](_0x2a1688=>{const _0x4306cf=_0x1c8976;if(_0x2a1688[_0x4306cf(0x3e2)]&&(_0x2a1688[_0x4306cf(0x745)]===!![]||_0x2a1688[_0x4306cf(0x745)]===_0x4306cf(0x9ab)))_0x16dd82+=0x1;else!_0x2a1688[_0x4306cf(0x3e2)]&&(_0x2a1688[_0x4306cf(0x745)]===!![]||_0x2a1688['wasConfident']==='confident')&&(_0x16dd82-=0x1);}),_0xd74098+=_0x16dd82,_0x2228bc>0x0&&_0x3570fe===_0x2228bc&&(_0xd74098+=0x1,_0x3ca0b6[_0x1c8976(0x8a2)]=!![]),_0x3ca0b6[_0x1c8976(0x5c3)]=_0xd74098;}),_0x7d0155;}function listenForSyncGameUpdates(){const _0x39a504=_0x3b29b2;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x41b3a9=doc(db,'artifacts/'+appId+_0x39a504(0x5a4),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x41b3a9,_0x39674c=>{const _0x415d23=_0x39a504;if(!_0x39674c[_0x415d23(0xb65)]()){sessionStorage[_0x415d23(0x8a8)](_0x415d23(0x41b));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x415d23(0xa46));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x415d23(0xa9b)?showView(_0x415d23(0x484)):showView(_0x415d23(0x3a6));return;}const _0x2cdc78=_0x39674c['data']();currentMode==='admin'?updateAdminSyncView(_0x2cdc78):updateStudentSyncView(_0x2cdc78);});}function renderSyncLobbyView(_0x15e5f9,_0x2d2502){const _0x37e44d=_0x3b29b2;liveGameView[_0x37e44d(0x2b3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20'+_0x2d2502+_0x37e44d(0x410)+_0x15e5f9+_0x37e44d(0xad1);const _0x11766c=document['getElementById'](_0x37e44d(0xa90)),_0x36c3d3=document[_0x37e44d(0xa57)](_0x37e44d(0x47e));_0x11766c['addEventListener']('change',()=>{const _0x1c74b2=_0x37e44d;_0x36c3d3[_0x1c74b2(0xb97)][_0x1c74b2(0xb10)]=_0x11766c['checked']?'block':_0x1c74b2(0x4cc);}),document[_0x37e44d(0xa57)](_0x37e44d(0x252))[_0x37e44d(0x3f4)](_0x37e44d(0x1b1),async()=>{const _0x4446f9=_0x37e44d,_0x6a076=doc(db,_0x4446f9(0xb79)+appId+_0x4446f9(0x5a4),currentLiveGameId),_0x3b553f=document[_0x4446f9(0xa57)](_0x4446f9(0xa90))[_0x4446f9(0x354)];await updateDoc(_0x6a076,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x3b553f});});}function updateAdminSyncView(_0xf1c26d){const _0x1b30d2=_0x3b29b2;switch(_0xf1c26d['status']){case _0x1b30d2(0x40e):renderSyncLobbyView(_0xf1c26d[_0x1b30d2(0x5e6)],_0xf1c26d[_0x1b30d2(0xc2b)][_0x1b30d2(0x13e)]);const _0x4faa3b=Object['entries'](_0xf1c26d[_0x1b30d2(0x7d2)]||{})[_0x1b30d2(0x36d)](([_0x119a57,_0x14c85c])=>_0x14c85c['status']!=='inactive');document[_0x1b30d2(0xa57)]('player-count')[_0x1b30d2(0x63d)]=_0x4faa3b['length'],document[_0x1b30d2(0xa57)]('player-list-lobby')['innerHTML']=_0x4faa3b[_0x1b30d2(0x921)](([_0x69c2ce,_0xdff51d])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x69c2ce+_0x1b30d2(0x34a)+_0x69c2ce+_0x1b30d2(0x825))[_0x1b30d2(0xa0a)]('')||'<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>',document[_0x1b30d2(0xa57)](_0x1b30d2(0x252))[_0x1b30d2(0x267)]=_0x4faa3b[_0x1b30d2(0x423)]===0x0;break;case'question':const _0x21c062=Object[_0x1b30d2(0x4bb)](_0xf1c26d[_0x1b30d2(0x7d2)]||{})[_0x1b30d2(0x36d)](_0x2e1829=>_0x2e1829['status']!==_0x1b30d2(0xa71)),_0x26da87=_0x21c062[_0x1b30d2(0x36d)](_0xd2d927=>_0xd2d927[_0x1b30d2(0x617)])[_0x1b30d2(0x423)],_0x38a363=_0x26da87===_0x21c062['length']&&_0x21c062[_0x1b30d2(0x423)]>0x0;if(_0x38a363&&_0xf1c26d['status']===_0x1b30d2(0x3ee)){const _0x4b9c54=doc(db,_0x1b30d2(0xb79)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x4b9c54,{'status':_0x1b30d2(0x7ad)});}else{if(document['getElementById'](_0x1b30d2(0x9d7))===null)renderAdminSyncQuestionView(_0xf1c26d);else{const _0x23c3b9=document[_0x1b30d2(0xa57)]('answer-counter');_0x23c3b9&&(_0x23c3b9[_0x1b30d2(0x63d)]=_0x26da87+'/'+_0x21c062[_0x1b30d2(0x423)]);const _0x204fa1=document[_0x1b30d2(0xa57)](_0x1b30d2(0x9b5));_0x204fa1&&(_0x204fa1[_0x1b30d2(0x2b3)]=_0x21c062[_0x1b30d2(0x921)](_0x4acce7=>{const _0x535c01=_0x1b30d2,_0x3de4e0=_0x4acce7['answered']?_0x535c01(0x725):_0x535c01(0x786),_0x2117cb=_0x4acce7[_0x535c01(0x617)]?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x535c01(0x7d5);return _0x535c01(0x9f2)+_0x3de4e0+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2117cb+_0x535c01(0x5db)+_0x4acce7[_0x535c01(0xc6f)]+_0x535c01(0x1c4)+_0x4acce7['name']+_0x535c01(0x63f);})[_0x1b30d2(0xa0a)](''));}}break;case _0x1b30d2(0x7ad):const _0x1ac11e=_0xf1c26d[_0x1b30d2(0x60a)],_0x29a68e=_0xf1c26d[_0x1b30d2(0xc2b)][_0x1b30d2(0x288)][_0x1ac11e];renderSyncSummaryView(_0xf1c26d,_0x29a68e,!![]);break;case'results':renderAdminSyncDashboard(_0xf1c26d,!![]);break;case _0x1b30d2(0x56f):_0xf1c26d['shouldSaveResults']&&saveGameResultsAsSubmissions(_0xf1c26d);sessionStorage['removeItem'](_0x1b30d2(0x41b));const _0x38c612=calculateFinalPodiumScores(_0xf1c26d);showPodiumView(_0x38c612,'sync');break;}}function renderAdminSyncQuestionView(_0x3f9037){const _0x5a4a92=_0x3b29b2,_0x5707e1=_0x3f9037[_0x5a4a92(0x60a)],_0x37d5cf=_0x3f9037['shuffledQuiz'][_0x5a4a92(0x288)][_0x5707e1],_0x27b9cd=_0x3f9037['shuffledQuiz']['questions']['length'],_0x49ce9e=Object[_0x5a4a92(0x4bb)](_0x3f9037[_0x5a4a92(0x7d2)]||{})[_0x5a4a92(0x36d)](_0x52805f=>_0x52805f['status']!==_0x5a4a92(0xa71)),_0x540a17=_0x49ce9e['filter'](_0x4223cd=>_0x4223cd[_0x5a4a92(0x617)])[_0x5a4a92(0x423)],_0x32a9e4=_0x540a17===_0x49ce9e[_0x5a4a92(0x423)]&&_0x49ce9e[_0x5a4a92(0x423)]>0x0,_0xf7147e=(_0x37d5cf[_0x5a4a92(0x5a9)]||[])[_0x5a4a92(0x921)](_0x1db758=>_0x5a4a92(0xb54)+_0x1db758+_0x5a4a92(0xaa5))[_0x5a4a92(0xa0a)]('');liveGameView[_0x5a4a92(0x2b3)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x5707e1+0x1)+_0x5a4a92(0x3a8)+_0x27b9cd+_0x5a4a92(0x93b)+_0x540a17+'/'+_0x49ce9e[_0x5a4a92(0x423)]+'</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x37d5cf['questionText']+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0xf7147e+_0x5a4a92(0x3ac)+(!_0x32a9e4?'disabled':'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window[_0x5a4a92(0x49e)])MathJax[_0x5a4a92(0x13d)]();document[_0x5a4a92(0xa57)]('show-results-btn')['addEventListener'](_0x5a4a92(0x1b1),async()=>{const _0x3a58c5=_0x5a4a92,_0x347ef8=doc(db,'artifacts/'+appId+_0x3a58c5(0x5a4),currentLiveGameId);await updateDoc(_0x347ef8,{'status':_0x3a58c5(0x422)});}),document['getElementById']('open-sync-scratchpad-btn')[_0x5a4a92(0xbed)]=()=>{const _0x3755f0=_0x5a4a92;openScratchpad(_0x37d5cf,_0x37d5cf[_0x3755f0(0x5a9)]||[]);},document['getElementById'](_0x5a4a92(0xb0d))[_0x5a4a92(0x3f4)](_0x5a4a92(0x1b1),()=>{const _0x1b2d27=_0x5a4a92;document[_0x1b2d27(0xa57)](_0x1b2d27(0x9d7))[_0x1b2d27(0x6b0)]['toggle'](_0x1b2d27(0x3db));});}function renderSyncLeaderboardView(_0x5b9aa8,_0x5daa99){const _0x21387f=_0x3b29b2,_0x4368cb=Object['values'](_0x5b9aa8[_0x21387f(0x7d2)]||{});_0x4368cb[_0x21387f(0x445)]((_0x4d967b,_0x5bbb6c)=>_0x5bbb6c[_0x21387f(0x5c3)]-_0x4d967b[_0x21387f(0x5c3)]);const _0x2d6f7f=_0x4368cb[_0x21387f(0x20e)](0x0,0x5);let _0x57b991='';if(_0x5daa99){const _0xf2a2db=_0x5b9aa8[_0x21387f(0x60a)]>=_0x5b9aa8[_0x21387f(0xc2b)][_0x21387f(0x288)][_0x21387f(0x423)]-0x1;_0x57b991=_0x21387f(0x1da)+(_0xf2a2db?'ดูผลสรุปสุดท้าย':_0x21387f(0x4d0))+_0x21387f(0x126);}else _0x57b991='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>';liveGameView['innerHTML']=_0x21387f(0xb24)+_0x2d6f7f[_0x21387f(0x921)]((_0x2c902e,_0xee4298)=>_0x21387f(0xaad)+(_0xee4298+0x1)+'.\x20'+_0x2c902e[_0x21387f(0xc6f)]+_0x21387f(0x6e0)+_0x2c902e[_0x21387f(0x5c3)]+'</span></div>')[_0x21387f(0xa0a)]('')+_0x21387f(0x36b)+_0x57b991+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x5daa99&&document[_0x21387f(0xa57)](_0x21387f(0x693))['addEventListener']('click',async()=>{const _0x528043=_0x21387f,_0x5ea6c4=doc(db,_0x528043(0xb79)+appId+_0x528043(0x5a4),currentLiveGameId),_0x30ea61=_0x5b9aa8[_0x528043(0x60a)]+0x1;if(_0x30ea61<_0x5b9aa8['shuffledQuiz'][_0x528043(0x288)]['length']){const _0x2f1173={};Object[_0x528043(0x71e)](_0x5b9aa8[_0x528043(0x7d2)])[_0x528043(0x9aa)](_0x395fa9=>{const _0xa53204=_0x528043;_0x2f1173['players.'+_0x395fa9+_0xa53204(0x4fc)]=![];}),await updateDoc(_0x5ea6c4,{..._0x2f1173,'status':_0x528043(0x3ee),'currentQuestionIndex':_0x30ea61,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x5ea6c4,{'status':_0x528043(0x56f)});});}async function handleJoinSyncGame(){const _0x59f90c=_0x3b29b2,_0x4cad32=prompt(_0x59f90c(0xb8f));if(!_0x4cad32||_0x4cad32[_0x59f90c(0x9bb)]()[_0x59f90c(0x423)]!==0x2){showMessage(_0x59f90c(0x1cc));return;}try{const _0x239811=collection(db,_0x59f90c(0xb79)+appId+_0x59f90c(0x5a4)),_0x42ea19=query(_0x239811,where(_0x59f90c(0x5e6),'==',_0x4cad32[_0x59f90c(0x9bb)]()),where(_0x59f90c(0xbeb),'==',_0x59f90c(0x40e))),_0x159a8d=await getDocs(_0x42ea19);if(_0x159a8d[_0x59f90c(0xab0)]){showMessage(_0x59f90c(0x7fd));return;}const _0x4e0b04=_0x159a8d[_0x59f90c(0x8c5)][0x0];currentLiveGameId=_0x4e0b04['id'];const _0x16cc74=_0x4e0b04[_0x59f90c(0x7a6)](),_0x273f07=doc(db,'artifacts/'+appId+_0x59f90c(0x53a),_0x16cc74[_0x59f90c(0x6da)]),_0x106670=await getDoc(_0x273f07);if(!_0x106670[_0x59f90c(0xb65)]())throw new Error(_0x59f90c(0x86b));const _0x1e1990=_0x106670[_0x59f90c(0x7a6)](),_0x205b95=doc(db,_0x59f90c(0xb79)+appId+_0x59f90c(0x304),_0x1e1990[_0x59f90c(0x13a)]),_0x3b3e8b=await getDoc(_0x205b95);if(!_0x3b3e8b[_0x59f90c(0xb65)]())throw new Error(_0x59f90c(0x95c));currentQuizData=_0x16cc74[_0x59f90c(0xc2b)];const _0x5aa679=_0x3b3e8b[_0x59f90c(0x7a6)]();showView(_0x59f90c(0x541)),showTeamPlayerSelection(_0x5aa679[_0x59f90c(0x98d)],_0x1e1990['topic']);const _0x2c5b64=document['getElementById'](_0x59f90c(0x465));_0x2c5b64[_0x59f90c(0xbed)]=confirmAndJoinSyncGame;}catch(_0x303f3b){console[_0x59f90c(0xc93)](_0x59f90c(0xae9),_0x303f3b),showMessage('เกิดข้อผิดพลาด:\x20'+_0x303f3b[_0x59f90c(0x8df)]);}}function updateStudentSyncView(_0x5ea56b){const _0x3bdf24=_0x3b29b2,_0x136278=_0x5ea56b['players'][localTeamPlayers[0x0]];switch(_0x5ea56b[_0x3bdf24(0xbeb)]){case _0x3bdf24(0x40e):showView('live-game'),liveGameView['innerHTML']=_0x3bdf24(0x769);break;case _0x3bdf24(0x3ee):const _0x5aa66e=localTeamPlayers[_0x3bdf24(0xba5)](_0x2809a5=>_0x5ea56b[_0x3bdf24(0x7d2)][_0x2809a5]?.[_0x3bdf24(0x617)]===!![]);_0x5aa66e?liveGameView[_0x3bdf24(0x2b3)]=_0x3bdf24(0x7f1):renderStudentSyncQuestionView(_0x5ea56b);break;case'summary':liveGameView[_0x3bdf24(0x2b3)]=_0x3bdf24(0x3ed);break;case _0x3bdf24(0x422):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x5ea56b);break;case'podium':sessionStorage[_0x3bdf24(0x8a8)](_0x3bdf24(0x41b));const _0x45d7b2=calculateFinalPodiumScores(_0x5ea56b);showPodiumView(_0x45d7b2,'sync');break;}}function renderStudentSyncResultsView(_0x336518){const _0x2f06c6=_0x3b29b2,_0x504844=localTeamPlayers[_0x2f06c6(0x921)](_0x1df431=>_0x336518['players'][_0x1df431])['filter'](Boolean);_0x504844[_0x2f06c6(0x445)]((_0x43bbf1,_0xf83c53)=>(_0xf83c53[_0x2f06c6(0x5c3)]||0x0)-(_0x43bbf1[_0x2f06c6(0x5c3)]||0x0));const _0x4ad8c8=_0x336518[_0x2f06c6(0x60a)]>=_0x336518['shuffledQuiz'][_0x2f06c6(0x288)]['length']-0x1;let _0x2d668e='';_0x4ad8c8?_0x2d668e=_0x2f06c6(0x13f):_0x2d668e='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>';const _0xca9f2=_0x2f06c6(0x865)+_0x504844[_0x2f06c6(0x921)]((_0xf78c39,_0x2c3926)=>_0x2f06c6(0x806)+(_0x2c3926+0x1)+_0x2f06c6(0x448)+_0xf78c39[_0x2f06c6(0xc6f)]+_0x2f06c6(0x7f0)+_0xf78c39[_0x2f06c6(0x5c3)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2d668e+_0x2f06c6(0xc3c);liveGameView[_0x2f06c6(0x2b3)]=_0xca9f2;}function renderStudentSyncQuestionView(_0x3a4c7b){const _0x484737=_0x3b29b2;while(localPlayerTurnIndex<localTeamPlayers[_0x484737(0x423)]&&_0x3a4c7b[_0x484737(0x7d2)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x484737(0x617)]===!![]){localPlayerTurnIndex++;}const _0x5dfaa4=localTeamPlayers[localPlayerTurnIndex];if(!_0x5dfaa4)return;const _0x900f6c=_0x3a4c7b['currentQuestionIndex'],_0x507c62=_0x3a4c7b[_0x484737(0xc2b)][_0x484737(0x288)][_0x484737(0x423)],_0x47290e=_0x3a4c7b[_0x484737(0xc2b)][_0x484737(0x288)][_0x900f6c],_0x2047d8=_0x47290e[_0x484737(0x704)]||_0x3a4c7b[_0x484737(0xc2b)][_0x484737(0x573)];let _0x5e3fc6='',_0x3730a3=![];switch(_0x2047d8){case _0x484737(0x421):_0x5e3fc6=_0x484737(0xc07);break;case'short_answer':case _0x484737(0x7c4):_0x3730a3=!![],_0x5e3fc6=_0x484737(0xa99);break;case _0x484737(0x8bb):_0x3730a3=!![],_0x5e3fc6=_0x484737(0xc9d)+(_0x47290e[_0x484737(0x889)]||[])[_0x484737(0x921)](_0x43238a=>_0x484737(0x93f)+_0x43238a+'\x22>'+_0x43238a+_0x484737(0xca6))['join']('')+_0x484737(0x6eb);break;case'multiple_choice':default:_0x5e3fc6=(_0x47290e['options']||[])[_0x484737(0x921)]((_0x53f48a,_0x16792e)=>_0x484737(0x314)+_0x16792e+_0x484737(0xb86)+_0x53f48a+_0x484737(0x774))['join']('');break;}liveGameView[_0x484737(0x2b3)]=_0x484737(0xb2a)+(_0x900f6c+0x1)+'\x20/\x20'+_0x507c62+_0x484737(0xa49)+_0x5dfaa4+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+(_0x47290e[_0x484737(0xc1c)]||_0x47290e[_0x484737(0xc65)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x5e3fc6+_0x484737(0xab6);if(window[_0x484737(0x49e)])MathJax[_0x484737(0x13d)]();function _0x4487bd(_0x4e809d,_0x158110,_0x2e0dae,_0x1c9688){const _0x46b199=_0x484737,_0x247b78=_0x2e0dae[_0x46b199(0x327)]===!![];if(_0x247b78){document[_0x46b199(0xa57)]('confidence-modal')[_0x46b199(0x43d)][_0x46b199(0xaf4)]='sync';const _0x4ba8f7=document[_0x46b199(0xa57)](_0x46b199(0x16b));_0x4ba8f7[_0x46b199(0x43d)][_0x46b199(0xa2b)]=_0x4e809d,_0x4ba8f7[_0x46b199(0x43d)][_0x46b199(0x3ee)]=JSON[_0x46b199(0xc54)](_0x158110),_0x4ba8f7['dataset']['gameData']=JSON[_0x46b199(0xc54)](_0x2e0dae),_0x4ba8f7[_0x46b199(0x43d)][_0x46b199(0x8f0)]=_0x1c9688,document['getElementById'](_0x46b199(0x93c))[_0x46b199(0x6b0)][_0x46b199(0xbb2)](_0x46b199(0x3db));}else handleSyncAnswerSubmit(_0x4e809d,_0x158110,_0x2e0dae,_0x1c9688,![]);}_0x3730a3?document['getElementById'](_0x484737(0x1c0))[_0x484737(0x3f4)](_0x484737(0x1b1),()=>{const _0x2c3d0a=_0x484737,_0x3c19f7=document[_0x2c3d0a(0xa57)](_0x2c3d0a(0x9c9))||document[_0x2c3d0a(0xa57)]('sync-matching-select');if(_0x3c19f7[_0x2c3d0a(0x6d4)][_0x2c3d0a(0x9bb)]()===''){showMessage(_0x2c3d0a(0x82f));return;}_0x4487bd(_0x3c19f7[_0x2c3d0a(0x6d4)],_0x47290e,_0x3a4c7b,_0x5dfaa4);}):document[_0x484737(0x3cf)](_0x484737(0x287))['forEach'](_0x11efea=>{const _0x272ce7=_0x484737;_0x11efea[_0x272ce7(0x3f4)]('click',()=>{const _0x3e92fc=_0x272ce7;_0x4487bd(_0x11efea[_0x3e92fc(0x43d)]['value'],_0x47290e,_0x3a4c7b,_0x5dfaa4);});});}async function handleSyncAnswerSubmit(_0x33951f,_0xcd6185,_0x2a1d14,_0x2275ba,_0x17134d){const _0x1624e8=_0x3b29b2;document[_0x1624e8(0x3cf)]('.live-answer-btn,\x20#sync-submit-btn')['forEach'](_0x503602=>_0x503602[_0x1624e8(0x267)]=!![]);const _0x5caed8=_0xcd6185[_0x1624e8(0x704)]||_0x2a1d14[_0x1624e8(0xc2b)][_0x1624e8(0x573)];let _0x212654=![],_0x180cfa=_0x33951f;switch(_0x5caed8){case _0x1624e8(0x421):const _0x10fbfc=parseInt(_0x33951f),_0xd2106d=_0xcd6185[_0x1624e8(0x72d)]===!![]||String(_0xcd6185['correctAnswer'])[_0x1624e8(0x80a)]()===_0x1624e8(0x198);_0x212654=_0x10fbfc===0x0&&_0xd2106d||_0x10fbfc===0x1&&!_0xd2106d,_0x180cfa=_0x10fbfc===0x0?_0x1624e8(0x449):_0x1624e8(0x84c);break;case _0x1624e8(0x639):case _0x1624e8(0x7c4):_0x212654=await gradeShortAnswer(_0x33951f,_0xcd6185);break;case _0x1624e8(0x8bb):_0x212654=_0x33951f===_0xcd6185[_0x1624e8(0x4a4)];break;case _0x1624e8(0xbbc):default:const _0x56cd62=parseInt(_0x33951f);_0x212654=_0x56cd62===_0xcd6185[_0x1624e8(0x6c9)];_0xcd6185[_0x1624e8(0x5a9)]&&_0xcd6185[_0x1624e8(0x5a9)][_0x56cd62]&&(_0x180cfa=_0xcd6185[_0x1624e8(0x5a9)][_0x56cd62]);break;}const _0x2118e6=_0x212654?0x1:0x0,_0x5a1362=doc(db,_0x1624e8(0xb79)+appId+'/public/data/syncGames',currentLiveGameId),_0x2f8d5e={};_0x2f8d5e[_0x1624e8(0x7f7)+_0x2275ba+_0x1624e8(0xbcc)]=increment(_0x2118e6),_0x2f8d5e[_0x1624e8(0x7f7)+_0x2275ba+'.answered']=!![];let _0x380da5=null;(_0x5caed8===_0x1624e8(0xbbc)||_0x5caed8===_0x1624e8(0x421)||_0x5caed8==='fill_in_with_choices')&&(_0x380da5=parseInt(_0x33951f));_0x2f8d5e[_0x1624e8(0x7f7)+_0x2275ba+'.lastAnswerIndex']=_0x380da5;const _0x520e9a={'questionIndex':_0x2a1d14[_0x1624e8(0x60a)],'questionId':_0xcd6185['id'],'answer':_0x33951f,'answerText':_0x180cfa,'isCorrect':_0x212654,'originalQuestionText':_0xcd6185[_0x1624e8(0xc1c)]||_0xcd6185[_0x1624e8(0xc65)],'wasConfident':_0x17134d};_0x2f8d5e[_0x1624e8(0x7f7)+_0x2275ba+_0x1624e8(0x6bf)]=arrayUnion(_0x520e9a),await updateDoc(_0x5a1362,_0x2f8d5e);}initialize();
