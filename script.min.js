const _0x315eb9=_0x42ad;(function(_0x5caebf,_0x132fee){const _0x5ef76c=_0x42ad,_0x47f6c8=_0x5caebf();while(!![]){try{const _0x75af8f=-parseInt(_0x5ef76c(0xad6))/0x1+-parseInt(_0x5ef76c(0x412))/0x2+-parseInt(_0x5ef76c(0x8b9))/0x3+parseInt(_0x5ef76c(0x5f8))/0x4*(-parseInt(_0x5ef76c(0xc12))/0x5)+-parseInt(_0x5ef76c(0x2cd))/0x6*(-parseInt(_0x5ef76c(0x812))/0x7)+parseInt(_0x5ef76c(0x49d))/0x8+parseInt(_0x5ef76c(0xc0e))/0x9;if(_0x75af8f===_0x132fee)break;else _0x47f6c8['push'](_0x47f6c8['shift']());}catch(_0x444ba3){_0x47f6c8['push'](_0x47f6c8['shift']());}}}(_0x4252,0x6d52b));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId='all',fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x315eb9(0xcea),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId=_0x315eb9(0xcea),fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x4f4258=_0x315eb9;if(_0x4f4258(0x497)in navigator)try{wakeLock=await navigator[_0x4f4258(0x497)]['request'](_0x4f4258(0x6f2)),console[_0x4f4258(0x95e)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock['addEventListener']('release',()=>{const _0x333f8a=_0x4f4258;console[_0x333f8a(0x95e)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว');});}catch(_0x3977b6){console[_0x4f4258(0xb62)](_0x4f4258(0x2b3)+_0x3977b6[_0x4f4258(0x38d)]+',\x20'+_0x3977b6[_0x4f4258(0x9eb)]);}else console[_0x4f4258(0x6bb)]('เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API');},releaseWakeLock=async()=>{const _0x33c7c1=_0x315eb9;wakeLock!==null&&(await wakeLock[_0x33c7c1(0x9ef)](),wakeLock=null,console[_0x33c7c1(0x95e)](_0x33c7c1(0xc20)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x2aaf02=_0x315eb9;if(!document[_0x2aaf02(0x96b)]['classList']['contains']('dimmed')){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x5a4c6a=_0x2aaf02;document['body'][_0x5a4c6a(0xd75)][_0x5a4c6a(0x8d6)](_0x5a4c6a(0x9d7)),console[_0x5a4c6a(0x95e)](_0x5a4c6a(0xd92));},inactivityTime);}}function wakeUpScreen(_0x1b3dce){const _0x2843dc=_0x315eb9;_0x1b3dce&&(_0x1b3dce[_0x2843dc(0xd8b)](),_0x1b3dce['preventDefault']());document[_0x2843dc(0x96b)][_0x2843dc(0xd75)][_0x2843dc(0x8cc)]('dimmed');if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x3fd4e1=_0x2843dc;document[_0x3fd4e1(0x96b)][_0x3fd4e1(0xd75)][_0x3fd4e1(0x8d6)](_0x3fd4e1(0x9d7));},inactivityTime);}function stopDimTimer(){const _0xaf6b85=_0x315eb9;if(dimTimer)clearTimeout(dimTimer);document[_0xaf6b85(0x96b)]['classList'][_0xaf6b85(0x8cc)](_0xaf6b85(0x9d7)),window[_0xaf6b85(0x538)](_0xaf6b85(0x2ab),resetDimTimer),window[_0xaf6b85(0x538)](_0xaf6b85(0x969),resetDimTimer),window[_0xaf6b85(0x538)](_0xaf6b85(0x682),resetDimTimer),window['removeEventListener'](_0xaf6b85(0xa5e),resetDimTimer),console[_0xaf6b85(0x95e)](_0xaf6b85(0x7eb));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x488275,_0x43a8aa=![]){const _0x2f7384=_0x315eb9,_0x3e8e04=allQuizzes[_0x2f7384(0x559)](_0x11085d=>_0x11085d['id']===_0x488275)||allQuizzesGlobal['find'](_0x4afe9d=>_0x4afe9d['id']===_0x488275);if(!_0x3e8e04){showMessage(_0x2f7384(0x930));return;}currentQuizData=getShuffledQuiz(_0x3e8e04);const _0x4ef236=Math[_0x2f7384(0x4a5)](0x3e8+Math[_0x2f7384(0x625)]()*0x2328)[_0x2f7384(0x2c8)]();try{const _0x34f94d=await addDoc(collection(db,_0x2f7384(0x2d5)+appId+_0x2f7384(0xa92)),{'quizId':_0x3e8e04['id'],'projectId':_0x3e8e04[_0x2f7384(0x88e)],'status':'lobby','pin':_0x4ef236,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x43a8aa});currentTeamQuizId=_0x34f94d['id'],showView(_0x2f7384(0x4e5)),renderAdminTeamQuizDashboard(_0x4ef236,_0x3e8e04[_0x2f7384(0xd28)]),listenForTeamQuizUpdates();}catch(_0x1b311d){console['error'](_0x2f7384(0x791),_0x1b311d),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz');}}function renderAdminTeamQuizDashboard(_0x27e130,_0x43e3d3,_0x5a2cab=_0x315eb9(0x547)){const _0x163cc1=_0x315eb9,_0x9c0e6f=_0x5a2cab==='group'?_0x163cc1(0xb23):_0x163cc1(0x2e6);liveGameView[_0x163cc1(0xb6b)]=_0x163cc1(0xd87)+_0x9c0e6f+':\x20'+_0x43e3d3+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x27e130+_0x163cc1(0xa60),document[_0x163cc1(0x695)](_0x163cc1(0x70c))[_0x163cc1(0x59b)](_0x163cc1(0xc9a),async()=>{const _0x559665=_0x163cc1;showConfirmation(_0x559665(0xc6b),async()=>{const _0x4c8561=_0x559665;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x4c8561(0x2d5)+appId+'/public/data/teamQuizzes',currentTeamQuizId)),showView('project-detail');});});}function listenForTeamQuizUpdates(){const _0x3666db=_0x315eb9;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x54f641=doc(db,_0x3666db(0x2d5)+appId+_0x3666db(0xa92),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x54f641,_0xa48047=>{const _0x37204d=_0x3666db;if(!_0xa48047[_0x37204d(0xb5a)]()){sessionStorage['removeItem'](_0x37204d(0x5d4));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x37204d(0xbe0)?showView(_0x37204d(0x5bd)):showView(_0x37204d(0x282));return;}const _0x55e5cb=_0xa48047[_0x37204d(0x5ac)]();if(currentMode==='admin'){if(_0x55e5cb[_0x37204d(0x500)]===_0x37204d(0x6ed)&&_0x55e5cb[_0x37204d(0xbfe)]!=='podium'&&_0x55e5cb[_0x37204d(0xbfe)]!==_0x37204d(0xb04)){const _0x15b706=Object[_0x37204d(0xb3a)](_0x55e5cb[_0x37204d(0x8ee)]||{});if(_0x15b706[_0x37204d(0xca6)]>0x0){const _0x59793b=_0x15b706[_0x37204d(0x704)](_0x165f73=>_0x165f73[_0x37204d(0x202)]===!![]);_0x59793b&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x55e5cb);}else{if(_0x55e5cb['status']===_0x37204d(0xa86)||_0x55e5cb[_0x37204d(0xbfe)]===_0x37204d(0xb04)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x55e5cb[_0x37204d(0x500)]===_0x37204d(0x6ed)){const _0x39a0e7=_0x55e5cb[_0x37204d(0x8ee)][userId];(!_0x39a0e7||!_0x39a0e7[_0x37204d(0x202)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x4179bf){const _0x1e38d2=_0x315eb9;console[_0x1e38d2(0x95e)](_0x1e38d2(0x2ec));const _0x271edf=doc(db,_0x1e38d2(0x2d5)+appId+_0x1e38d2(0xa92),_0x4179bf);try{const _0x1c3181=await getDoc(_0x271edf);if(_0x1c3181[_0x1e38d2(0xb5a)]()){const _0x46a0d7=_0x1c3181[_0x1e38d2(0x5ac)]();_0x46a0d7[_0x1e38d2(0x34d)]&&await saveGameResultsAsSubmissions(_0x46a0d7);}await updateDoc(_0x271edf,{'status':_0x1e38d2(0xa86)});}catch(_0xfd6dc1){console[_0x1e38d2(0xb62)](_0x1e38d2(0x7d1),_0xfd6dc1);}}function updateAdminTeamDashboard(_0x52bd19){const _0x49b88c=_0x315eb9,_0xe22030=document['getElementById'](_0x49b88c(0xb85));if(!_0xe22030)return;const _0x4afc80=_0x52bd19[_0x49b88c(0x500)]||_0x49b88c(0x547),_0x379924=currentQuizData[_0x49b88c(0xab9)][_0x49b88c(0xca6)];if(_0x4afc80===_0x49b88c(0x6ed)){const _0x464f37=Object[_0x49b88c(0xb3a)](_0x52bd19[_0x49b88c(0x8ee)]||{});if(_0x464f37['length']===0x0){_0xe22030[_0x49b88c(0xb6b)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>';return;}const _0x3158d5=[..._0x464f37][_0x49b88c(0x7a1)]((_0x2bd07d,_0x19b08f)=>_0x19b08f[_0x49b88c(0xad9)]-_0x2bd07d['score']),_0x45a343=_0x3158d5['map']((_0x177e9d,_0x4d1dae)=>{const _0x5493c0=_0x49b88c,_0x449804=_0x177e9d['answers']?.[_0x5493c0(0xca6)]||0x0;return _0x5493c0(0x41f)+(_0x4d1dae+0x1)+_0x5493c0(0x7a5)+_0x177e9d[_0x5493c0(0x35d)]['join'](',\x20')+_0x5493c0(0x8a9)+_0x449804+'/'+_0x379924+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x177e9d[_0x5493c0(0xad9)]+_0x5493c0(0x97b);})[_0x49b88c(0x6f5)](''),_0x14088f=currentQuizData[_0x49b88c(0xab9)][_0x49b88c(0x947)]((_0x570458,_0x178bf9)=>{const _0x3ec1a8=_0x49b88c;let _0x56421c=0x0,_0x4e8f24=0x0;_0x464f37[_0x3ec1a8(0x2d4)](_0x15cbec=>{const _0x52b0ff=_0x3ec1a8,_0x179d38=_0x15cbec['answers']?.[_0x52b0ff(0x559)](_0x574723=>_0x574723[_0x52b0ff(0x952)]===_0x178bf9);if(_0x179d38){_0x4e8f24++;if(_0x179d38[_0x52b0ff(0xa06)])_0x56421c++;}});const _0x11da60=_0x4e8f24>0x0&&_0x4e8f24===_0x464f37['length'],_0x19006f=_0x11da60?_0x3ec1a8(0x6c0):_0x3ec1a8(0x7b2),_0x277b5c=_0x11da60?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';return'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x19006f+_0x3ec1a8(0xc3b)+(_0x178bf9+0x1)+_0x3ec1a8(0xc81)+_0x277b5c+_0x3ec1a8(0x52e)+_0x56421c+'/'+_0x464f37[_0x3ec1a8(0xca6)]+'\x20กลุ่ม</p></div>';})[_0x49b88c(0x6f5)]('');_0xe22030[_0x49b88c(0xb6b)]='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x45a343+_0x49b88c(0xbad)+_0x14088f+_0x49b88c(0x457);return;}const _0x28c877=_0x52bd19[_0x49b88c(0x887)]||{},_0x3ee065=Object[_0x49b88c(0x811)](_0x28c877);if(_0x3ee065['length']===0x0){_0xe22030[_0x49b88c(0xb6b)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>';return;}const _0x3584ef=_0x3ee065['map'](_0x443844=>({'name':_0x443844,'score':_0x28c877[_0x443844][_0x49b88c(0xad9)]||0x0}))['sort']((_0x3c6934,_0x3257d6)=>_0x3257d6['score']-_0x3c6934[_0x49b88c(0xad9)]),_0x28f635=_0x3584ef[_0x49b88c(0x947)](_0x5662e3=>{const _0x50bbcf=_0x49b88c,_0x24e53c=_0x28c877[_0x5662e3['name']]?.['answers']?.['length']||0x0,_0x21b08a=Math[_0x50bbcf(0x451)](_0x379924/_0x3ee065[_0x50bbcf(0xca6)]);return'<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>'+_0x5662e3[_0x50bbcf(0x38d)]+_0x50bbcf(0x31f)+_0x24e53c+'/'+_0x21b08a+_0x50bbcf(0x225)+_0x5662e3[_0x50bbcf(0xad9)]+_0x50bbcf(0xb9d);})[_0x49b88c(0x6f5)](''),_0x82f7fa=_0x3ee065[_0x49b88c(0x60f)]((_0x3507e0,_0x99e319)=>_0x3507e0+(_0x28c877[_0x99e319][_0x49b88c(0x4ec)]?.[_0x49b88c(0xca6)]||0x0),0x0),_0x186a59=currentQuizData[_0x49b88c(0xab9)][_0x49b88c(0x947)]((_0x1af7d9,_0x34f38c)=>{const _0x3860d3=_0x49b88c;let _0x5d7a33=null,_0x385009=null;for(const _0x1e0954 of _0x3ee065){const _0x1030ac=_0x28c877[_0x1e0954]['answers']?.[_0x3860d3(0x559)](_0x29ed1b=>_0x29ed1b[_0x3860d3(0x952)]===_0x34f38c);if(_0x1030ac){_0x5d7a33=_0x1030ac,_0x385009=_0x1e0954;break;}}const _0x204be=!!_0x5d7a33,_0x53067a=_0x204be&&_0x5d7a33[_0x3860d3(0xa06)],_0x55a147=(Math['floor'](_0x34f38c/_0x3ee065[_0x3860d3(0xca6)])+0x1)*_0x3ee065[_0x3860d3(0xca6)],_0x53f14f=_0x82f7fa>=_0x55a147,_0x5d19e2=_0x53f14f?_0x3860d3(0xd81):_0x3860d3(0x7b2),_0x45b4a1=_0x53f14f?_0x3860d3(0x98a):'';let _0x404f34=_0x3860d3(0x51d);return _0x204be&&(_0x404f34=_0x385009+_0x3860d3(0x2e5)+(_0x53067a?_0x3860d3(0x939):'ผิด')),_0x3860d3(0x915)+_0x5d19e2+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x34f38c+0x1)+_0x3860d3(0xc81)+_0x45b4a1+'</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'+_0x404f34+_0x3860d3(0x5de);})['join']('');_0xe22030[_0x49b88c(0xb6b)]='<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+_0x28f635+_0x49b88c(0x85b)+_0x186a59+'</div></div></div>';}async function handleJoinTeamQuiz(){const _0x1aa386=_0x315eb9,_0x3914e5=prompt(_0x1aa386(0xd8e));if(!_0x3914e5||_0x3914e5['trim']()[_0x1aa386(0xca6)]!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x2eeaf5=collection(db,_0x1aa386(0x2d5)+appId+_0x1aa386(0xa92)),_0x5768b5=query(_0x2eeaf5,where(_0x1aa386(0x5d5),'==',_0x3914e5[_0x1aa386(0xbcf)]()),where(_0x1aa386(0xbfe),'==','lobby')),_0x3f8dc3=await getDocs(_0x5768b5);if(_0x3f8dc3['empty']){showMessage(_0x1aa386(0xac6));return;}const _0x7ed19f=_0x3f8dc3[_0x1aa386(0x80f)][0x0];currentTeamQuizId=_0x7ed19f['id'];const _0x27cb58=_0x7ed19f[_0x1aa386(0x5ac)](),_0x15b901=doc(db,_0x1aa386(0x2d5)+appId+_0x1aa386(0x36a),_0x27cb58[_0x1aa386(0x88e)]),_0x242dd4=doc(db,_0x1aa386(0x2d5)+appId+_0x1aa386(0xc5d),_0x27cb58[_0x1aa386(0xc24)]),[_0x30bdd4,_0x221fd4]=await Promise[_0x1aa386(0xcea)]([getDoc(_0x15b901),getDoc(_0x242dd4)]);if(!_0x30bdd4[_0x1aa386(0xb5a)]()||!_0x221fd4['exists']())throw new Error(_0x1aa386(0xb7d));currentQuizData=getShuffledQuiz({'id':_0x221fd4['id'],..._0x221fd4[_0x1aa386(0x5ac)]()});const _0x95b207=_0x30bdd4[_0x1aa386(0x5ac)]();showTeamPlayerSelection(_0x95b207[_0x1aa386(0xa0e)],currentQuizData['topic']);}catch(_0x33f301){console['error'](_0x1aa386(0x21f),_0x33f301),showMessage(_0x1aa386(0x99a)+_0x33f301['message']);}}async function handleJoinGroupActivity(){const _0xbfbd91=_0x315eb9,_0x1f4da4=prompt(_0xbfbd91(0x4a8));if(!_0x1f4da4||_0x1f4da4['trim']()[_0xbfbd91(0xca6)]!==0x4){showMessage(_0xbfbd91(0x805));return;}const _0x2f4b55=_0x1f4da4[_0xbfbd91(0xbcf)]();showMessage(_0xbfbd91(0x405));try{const _0x2b137f=collection(db,'artifacts/'+appId+'/public/data/teamQuizzes'),_0x167511=query(_0x2b137f,where('pin','==',_0x2f4b55),where(_0xbfbd91(0xbfe),'==',_0xbfbd91(0xd39))),_0x1338ff=await getDocs(_0x167511);if(!_0x1338ff[_0xbfbd91(0x7e1)]){console[_0xbfbd91(0x95e)](_0xbfbd91(0xcf3)),await proceedWithTeamQuizJoin(_0x1338ff['docs'][0x0]);return;}const _0xa72000=collection(db,_0xbfbd91(0x2d5)+appId+'/public/data/syncGames'),_0x2048d8=query(_0xa72000,where('pin','==',_0x2f4b55),where(_0xbfbd91(0xbfe),'==',_0xbfbd91(0xd39))),_0x5b9bc3=await getDocs(_0x2048d8);if(!_0x5b9bc3['empty']){console[_0xbfbd91(0x95e)](_0xbfbd91(0xca3)),await proceedWithSyncQuizJoin(_0x5b9bc3[_0xbfbd91(0x80f)][0x0]);return;}showMessage(_0xbfbd91(0xbd8));}catch(_0x4eeacc){console[_0xbfbd91(0xb62)](_0xbfbd91(0x3f1),_0x4eeacc),showMessage(_0xbfbd91(0xd9e)+_0x4eeacc['message']);}}async function proceedWithTeamQuizJoin(_0x43e23f){const _0x263b13=_0x315eb9;currentTeamQuizId=_0x43e23f['id'];const _0x2bb273=_0x43e23f[_0x263b13(0x5ac)](),_0x3066a7=doc(db,'artifacts/'+appId+_0x263b13(0x36a),_0x2bb273['projectId']),_0x86f8b0=doc(db,_0x263b13(0x2d5)+appId+_0x263b13(0xc5d),_0x2bb273[_0x263b13(0xc24)]),[_0x46a236,_0x41dad0]=await Promise[_0x263b13(0xcea)]([getDoc(_0x3066a7),getDoc(_0x86f8b0)]);if(!_0x46a236[_0x263b13(0xb5a)]()||!_0x41dad0[_0x263b13(0xb5a)]())throw new Error(_0x263b13(0xb7d));currentQuizData=getShuffledQuiz({'id':_0x41dad0['id'],..._0x41dad0[_0x263b13(0x5ac)]()}),showTeamPlayerSelection(_0x46a236[_0x263b13(0x5ac)]()[_0x263b13(0xa0e)],currentQuizData[_0x263b13(0xd28)],_0x2bb273[_0x263b13(0x500)]||'team'),messageModal[_0x263b13(0xd75)][_0x263b13(0x8d6)](_0x263b13(0x721));}async function proceedWithSyncQuizJoin(_0x164438){const _0x1b36d8=_0x315eb9;currentLiveGameId=_0x164438['id'];const _0x16fe5c=_0x164438[_0x1b36d8(0x5ac)](),_0x99d3fc=doc(db,_0x1b36d8(0x2d5)+appId+_0x1b36d8(0xc5d),_0x16fe5c[_0x1b36d8(0xc24)]),_0x50f8f9=await getDoc(_0x99d3fc);if(!_0x50f8f9[_0x1b36d8(0xb5a)]())throw new Error(_0x1b36d8(0x930));const _0x12bca7=_0x50f8f9['data'](),_0x1e6de2=doc(db,_0x1b36d8(0x2d5)+appId+_0x1b36d8(0x36a),_0x12bca7[_0x1b36d8(0x88e)]),_0x54c11c=await getDoc(_0x1e6de2);if(!_0x54c11c[_0x1b36d8(0xb5a)]())throw new Error(_0x1b36d8(0x42a));currentQuizData=_0x16fe5c[_0x1b36d8(0x8e2)],showView(_0x1b36d8(0xa8e)),showTeamPlayerSelection(_0x54c11c['data']()[_0x1b36d8(0xa0e)],_0x12bca7[_0x1b36d8(0xd28)],_0x1b36d8(0x8e5)),document[_0x1b36d8(0x695)](_0x1b36d8(0x99b))['onclick']=confirmAndJoinSyncGame,messageModal[_0x1b36d8(0xd75)][_0x1b36d8(0x8d6)](_0x1b36d8(0x721));}function getCleanApplicationHTML(){const _0x47d4b8=_0x315eb9,_0x40badf=document[_0x47d4b8(0x695)]('applicationContent');if(!_0x40badf)return'';const _0x4239fe=_0x40badf[_0x47d4b8(0xc97)](!![]);return _0x4239fe[_0x47d4b8(0x4e3)]('.application-options\x20button')['forEach'](_0x4ffdfb=>{const _0x5560e8=_0x47d4b8;_0x4ffdfb[_0x5560e8(0xd75)]['remove']('correct','incorrect'),_0x4ffdfb['disabled']=![];}),_0x4239fe['innerHTML'];}function showTeamPlayerSelection(_0x13aac7,_0x3aa56f,_0x27af04=_0x315eb9(0x547)){const _0x50a22f=_0x315eb9;studentInitialView[_0x50a22f(0xd75)][_0x50a22f(0x8d6)]('hidden'),studentJoinGameView[_0x50a22f(0xd75)][_0x50a22f(0x8d6)](_0x50a22f(0x721)),document['getElementById'](_0x50a22f(0x463))[_0x50a22f(0xd75)][_0x50a22f(0x8cc)]('hidden');let _0x25713c=_0x50a22f(0x2e6);if(_0x27af04===_0x50a22f(0x6ed))_0x25713c=_0x50a22f(0xb23);else _0x27af04===_0x50a22f(0x8e5)&&(_0x25713c='Sync\x20Mode');document[_0x50a22f(0x695)](_0x50a22f(0x4aa))[_0x50a22f(0x97a)]=_0x25713c+':\x20'+_0x3aa56f;const _0x3a1657=document[_0x50a22f(0x695)](_0x50a22f(0x460));if(!_0x13aac7||_0x13aac7['length']===0x0){_0x3a1657[_0x50a22f(0xb6b)]=_0x50a22f(0x9f0),document[_0x50a22f(0x695)](_0x50a22f(0x99b))[_0x50a22f(0x22a)]=!![];return;}_0x3a1657[_0x50a22f(0xb6b)]=_0x13aac7[_0x50a22f(0x947)](_0x191236=>_0x50a22f(0x314)+_0x191236+_0x50a22f(0x9b5)+_0x191236+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0x50a22f(0x6f5)](''),document[_0x50a22f(0x695)](_0x50a22f(0x99b))[_0x50a22f(0x22a)]=![];}async function confirmAndStartTeamQuiz(){const _0x3d583f=_0x315eb9,_0xfed250=Array['from'](document[_0x3d583f(0x4e3)](_0x3d583f(0xb37)))['map'](_0x7d2f62=>_0x7d2f62['value']);if(_0xfed250[_0x3d583f(0xca6)]===0x0){showMessage(_0x3d583f(0x452));return;}localTeamPlayers=_0xfed250,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x16e6a6=doc(db,_0x3d583f(0x2d5)+appId+_0x3d583f(0xa92),currentTeamQuizId);try{const _0x544c9a=await getDoc(_0x16e6a6);if(!_0x544c9a[_0x3d583f(0xb5a)]())throw new Error(_0x3d583f(0x6e6));const _0x310d27=_0x544c9a[_0x3d583f(0x5ac)]();if(_0x310d27['mode']===_0x3d583f(0x6ed)){const _0x1f7ce3={[_0x3d583f(0x5b5)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x16e6a6,_0x1f7ce3);}else{const _0x68126f=_0x310d27[_0x3d583f(0x887)]||{};localTeamPlayers[_0x3d583f(0x2d4)](_0x2f5a5a=>{!_0x68126f[_0x2f5a5a]&&(_0x68126f[_0x2f5a5a]={'score':0x0,'answers':[]});}),await updateDoc(_0x16e6a6,{'responses':_0x68126f});}document[_0x3d583f(0x695)](_0x3d583f(0x463))[_0x3d583f(0xd75)][_0x3d583f(0x8d6)](_0x3d583f(0x721)),renderTeamQuizQuestion();const _0x3f42fa={'gameId':currentTeamQuizId,'mode':_0x310d27['mode']||'team','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x3d583f(0xb58)](_0x3d583f(0x5d4),JSON['stringify'](_0x3f42fa)),listenForTeamQuizUpdates();}catch(_0x1c7287){console[_0x3d583f(0xb62)](_0x3d583f(0x9bf),_0x1c7287),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function renderTeamQuizQuestion(){const _0x366e5c=_0x315eb9;if(localQuestionIndex>=currentQuizData[_0x366e5c(0xab9)][_0x366e5c(0xca6)]){displayTeamQuizFinalResults();return;}const _0x5d5861=currentQuizData[_0x366e5c(0xab9)][localQuestionIndex],_0x10d7fd=localTeamPlayers[localPlayerIndex],_0xe48ee7=_0x5d5861[_0x366e5c(0x9e0)]||currentQuizData[_0x366e5c(0xa41)];let _0x7e0046=_0x5d5861[_0x366e5c(0x858)]||_0x5d5861[_0x366e5c(0x620)],_0x9550e3='';switch(_0xe48ee7){case _0x366e5c(0x959):case _0x366e5c(0xd94):_0x9550e3=_0x5d5861[_0x366e5c(0x6ce)]['map']((_0x315945,_0x3e858d)=>_0x366e5c(0x229)+_0x3e858d+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x3e858d+_0x366e5c(0x362)+_0x3e858d+'\x22>'+_0x315945+_0x366e5c(0x2d8))[_0x366e5c(0x6f5)]('');break;case _0x366e5c(0xb93):_0x9550e3=_0x366e5c(0x25d);break;case _0x366e5c(0x735):case _0x366e5c(0x633):_0x9550e3=_0x366e5c(0xb3c);break;case _0x366e5c(0xc17):_0x9550e3=_0x366e5c(0xcd2)+_0x5d5861['allResponses'][_0x366e5c(0x947)](_0x2af294=>_0x366e5c(0xb7e)+_0x2af294+'\x22>'+_0x2af294+'</option>')[_0x366e5c(0x6f5)]('')+_0x366e5c(0x6d3);break;default:_0x9550e3=_0x366e5c(0xadc);break;}studentQuizArea['innerHTML']=_0x366e5c(0x2b0)+(localQuestionIndex+0x1)+_0x366e5c(0xcd4)+currentQuizData[_0x366e5c(0xab9)][_0x366e5c(0xca6)]+_0x366e5c(0x3ae)+_0x10d7fd+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x7e0046+_0x366e5c(0xb31)+(_0x5d5861[_0x366e5c(0xaf3)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x5d5861[_0x366e5c(0xaf3)]+_0x366e5c(0x4cd):'')+_0x366e5c(0x3f6)+_0x9550e3+_0x366e5c(0xc4b),studentQuizArea[_0x366e5c(0xd75)][_0x366e5c(0x8cc)](_0x366e5c(0x721));if(window['MathJax'])MathJax['typesetPromise']([studentQuizArea]);document[_0x366e5c(0x695)]('submit-team-answer-btn')[_0x366e5c(0x59b)](_0x366e5c(0xc9a),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x295374=_0x315eb9,_0x187410=currentQuizData[_0x295374(0xab9)][localQuestionIndex],_0x50d40d=_0x187410[_0x295374(0x9e0)]||currentQuizData[_0x295374(0xa41)];let _0x5b90d1=null,_0x56fdb2=![];if(_0x50d40d===_0x295374(0x735)||_0x50d40d===_0x295374(0x633)){const _0x311be5=document[_0x295374(0xc31)](_0x295374(0xa54));if(!_0x311be5||!_0x311be5[_0x295374(0xbdb)][_0x295374(0xbcf)]()){showMessage(_0x295374(0x8a7));return;}_0x5b90d1=_0x311be5[_0x295374(0xbdb)][_0x295374(0xbcf)](),_0x56fdb2=await gradeShortAnswer(_0x5b90d1,_0x187410);}else{const _0x4f449f=document[_0x295374(0xc31)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x4f449f||_0x4f449f['value']===''){showMessage('กรุณาเลือกคำตอบของกลุ่ม');return;}_0x5b90d1=_0x4f449f[_0x295374(0xbdb)];switch(_0x50d40d){case _0x295374(0xb93):_0x56fdb2=_0x5b90d1===_0x295374(0x5c5)===_0x187410[_0x295374(0x43f)];break;case _0x295374(0xc17):_0x56fdb2=_0x5b90d1===_0x187410[_0x295374(0x5a6)];break;default:_0x56fdb2=parseInt(_0x5b90d1)===_0x187410[_0x295374(0x794)];break;}}const _0x22f9a6={'questionIndex':localQuestionIndex,'isCorrect':_0x56fdb2},_0x1d095c=userId,_0x3352f8={[_0x295374(0x5b5)+_0x1d095c+_0x295374(0x749)]:arrayUnion(_0x22f9a6)};_0x56fdb2&&(_0x3352f8['groups.'+_0x1d095c+_0x295374(0x3fa)]=increment(0x1));try{await updateDoc(doc(db,_0x295374(0x2d5)+appId+_0x295374(0xa92),currentTeamQuizId),_0x3352f8),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x295374(0xab9)][_0x295374(0xca6)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x519537){console[_0x295374(0xb62)](_0x295374(0xc19),_0x519537),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function handleTeamAnswerSubmit(){const _0x51bbf2=_0x315eb9,_0x360cec=await getDoc(doc(db,_0x51bbf2(0x2d5)+appId+_0x51bbf2(0xa92),currentTeamQuizId));if(!_0x360cec[_0x51bbf2(0xb5a)]())return;const _0x2dc90c=_0x360cec[_0x51bbf2(0x5ac)]();if(_0x2dc90c[_0x51bbf2(0x500)]===_0x51bbf2(0x6ed)){handleGroupAnswerSubmit();return;}const _0x38f0b7=localTeamPlayers[localPlayerIndex],_0x2af0c1=currentQuizData[_0x51bbf2(0xab9)][localQuestionIndex],_0x550b93=_0x2af0c1[_0x51bbf2(0x9e0)]||currentQuizData[_0x51bbf2(0xa41)];let _0x21a708=null,_0x535e65=![];if(_0x550b93===_0x51bbf2(0x735)||_0x550b93===_0x51bbf2(0x633)){const _0x3ddf70=document[_0x51bbf2(0xc31)](_0x51bbf2(0xa54));if(!_0x3ddf70||!_0x3ddf70['value'][_0x51bbf2(0xbcf)]()){showMessage('กรุณาพิมพ์คำตอบ');return;}_0x21a708=_0x3ddf70['value'][_0x51bbf2(0xbcf)](),_0x535e65=await gradeShortAnswer(_0x21a708,_0x2af0c1);}else{const _0x5d6aee=document[_0x51bbf2(0xc31)](_0x51bbf2(0x6fc));if(!_0x5d6aee||_0x5d6aee['value']===''){showMessage(_0x51bbf2(0xb35));return;}_0x21a708=_0x5d6aee[_0x51bbf2(0xbdb)];switch(_0x550b93){case _0x51bbf2(0xb93):_0x535e65=_0x21a708===_0x51bbf2(0x5c5)===_0x2af0c1[_0x51bbf2(0x43f)];break;case _0x51bbf2(0xc17):_0x535e65=_0x21a708===_0x2af0c1['correctResponse'];break;default:_0x535e65=parseInt(_0x21a708)===_0x2af0c1['correctAnswerIndex'];break;}}const _0x51e94d={'questionIndex':localQuestionIndex,'isCorrect':_0x535e65,'answerValue':_0x21a708},_0x318fed={[_0x51bbf2(0xb99)+_0x38f0b7+_0x51bbf2(0x749)]:arrayUnion(_0x51e94d)};_0x535e65&&(_0x318fed[_0x51bbf2(0xb99)+_0x38f0b7+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x51bbf2(0x2d5)+appId+_0x51bbf2(0xa92),currentTeamQuizId),_0x318fed),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x51bbf2(0xca6)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0xa1719a){console[_0x51bbf2(0xb62)](_0x51bbf2(0xae8),_0xa1719a),showMessage(_0x51bbf2(0x66a));}}async function displayTeamQuizFinalResults(){const _0x54884a=_0x315eb9;studentQuizArea[_0x54884a(0xd75)][_0x54884a(0x8d6)](_0x54884a(0x721)),studentResultArea[_0x54884a(0xd75)][_0x54884a(0x8cc)](_0x54884a(0x721));const _0x4e4c0f=doc(db,_0x54884a(0x2d5)+appId+_0x54884a(0xa92),currentTeamQuizId),_0x2ceebd=await getDoc(_0x4e4c0f);if(!_0x2ceebd[_0x54884a(0xb5a)]()){studentResultArea[_0x54884a(0xb6b)]=_0x54884a(0x6b0);return;}const _0x1cf141=_0x2ceebd[_0x54884a(0x5ac)]();let _0x46ef80=[];const _0x561da4=_0x1cf141[_0x54884a(0x500)]||_0x54884a(0x547);if(_0x561da4==='group'){const _0x292d5=_0x1cf141['groups'][userId];_0x292d5?_0x46ef80=[{'name':'กลุ่ม:\x20'+localTeamPlayers[_0x54884a(0x6f5)](',\x20'),'score':_0x292d5['score']||0x0}]:_0x46ef80=[{'name':_0x54884a(0xd7d),'score':_0x54884a(0x6d7)}];}else _0x46ef80=localTeamPlayers['map'](_0x2bc02a=>({'name':_0x2bc02a,'score':_0x1cf141['responses'][_0x2bc02a]?.['score']||0x0}))[_0x54884a(0x7a1)]((_0x2d8db0,_0x3e738c)=>_0x3e738c[_0x54884a(0xad9)]-_0x2d8db0[_0x54884a(0xad9)]);studentResultArea[_0x54884a(0xb6b)]=_0x54884a(0x4ea)+_0x46ef80[_0x54884a(0x947)](_0x48a551=>_0x54884a(0x22e)+_0x48a551['name']+_0x54884a(0xaee)+_0x48a551[_0x54884a(0xad9)]+'\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage[_0x54884a(0xb41)]('activeGameSession'),currentMode===_0x54884a(0xbe0)&&currentTeamQuizId&&setTimeout(()=>{const _0x441cc7=_0x54884a;deleteDoc(doc(db,_0x441cc7(0x2d5)+appId+'/public/data/teamQuizzes',currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0x315eb9(0x231)};const allMathTopics=[{'category':_0x315eb9(0x252),'name':_0x315eb9(0xd34)},{'category':_0x315eb9(0x252),'name':_0x315eb9(0x64e)},{'category':_0x315eb9(0x252),'name':'การปัดเศษและประมาณค่า'},{'category':_0x315eb9(0x252),'name':_0x315eb9(0xac7)},{'category':_0x315eb9(0x252),'name':_0x315eb9(0x6f3)},{'category':'จำนวนและการดำเนินการ','name':'การลบ'},{'category':_0x315eb9(0x252),'name':_0x315eb9(0xc77)},{'category':_0x315eb9(0x252),'name':_0x315eb9(0x3c3)},{'category':_0x315eb9(0x252),'name':_0x315eb9(0x7fb)},{'category':_0x315eb9(0x252),'name':_0x315eb9(0x770)},{'category':_0x315eb9(0x252),'name':'ศูนย์'},{'category':'จำนวนและการดำเนินการ','name':'ค่าสัมบูรณ์'},{'category':'จำนวนและการดำเนินการ','name':_0x315eb9(0x701)},{'category':_0x315eb9(0x252),'name':_0x315eb9(0x490)},{'category':_0x315eb9(0x252),'name':'ห.ร.ม.\x20(GCD)'},{'category':'จำนวนและการดำเนินการ','name':_0x315eb9(0xc1a)},{'category':_0x315eb9(0x252),'name':'อัตราส่วนและสัดส่วน'},{'category':_0x315eb9(0x252),'name':_0x315eb9(0x247)},{'category':'จำนวนและการดำเนินการ','name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':_0x315eb9(0x252),'name':_0x315eb9(0x6c9)},{'category':_0x315eb9(0x252),'name':_0x315eb9(0x29f)},{'category':'จำนวนและการดำเนินการ','name':'การคูณเศษส่วน'},{'category':_0x315eb9(0x252),'name':_0x315eb9(0x21e)},{'category':'จำนวนและการดำเนินการ','name':_0x315eb9(0x6e9)},{'category':'จำนวนและการดำเนินการ','name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0x315eb9(0x252),'name':'การบวกทศนิยม'},{'category':'จำนวนและการดำเนินการ','name':_0x315eb9(0x55d)},{'category':_0x315eb9(0x252),'name':_0x315eb9(0xa33)},{'category':_0x315eb9(0x252),'name':_0x315eb9(0x776)},{'category':_0x315eb9(0x252),'name':_0x315eb9(0x337)},{'category':'จำนวนและการดำเนินการ','name':_0x315eb9(0xad0)},{'category':_0x315eb9(0x252),'name':_0x315eb9(0x39d)},{'category':_0x315eb9(0x252),'name':'ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน'},{'category':'จำนวนและการดำเนินการ','name':_0x315eb9(0x68e)},{'category':'จำนวนและการดำเนินการ','name':'รากที่สองและที่สาม'},{'category':_0x315eb9(0x252),'name':_0x315eb9(0xcd0)},{'category':_0x315eb9(0x252),'name':_0x315eb9(0x4a1)},{'category':'การวัด','name':_0x315eb9(0xca9)},{'category':_0x315eb9(0xaa4),'name':_0x315eb9(0x1f6)},{'category':'การวัด','name':_0x315eb9(0x38a)},{'category':_0x315eb9(0xaa4),'name':_0x315eb9(0x53c)},{'category':'การวัด','name':_0x315eb9(0x917)},{'category':_0x315eb9(0xaa4),'name':_0x315eb9(0xbd4)},{'category':_0x315eb9(0xaa4),'name':'พื้นที่สี่เหลี่ยม'},{'category':_0x315eb9(0xaa4),'name':_0x315eb9(0xc72)},{'category':'การวัด','name':_0x315eb9(0x47d)},{'category':_0x315eb9(0xaa4),'name':_0x315eb9(0x680)},{'category':_0x315eb9(0xaa4),'name':'ปริมาตรรูปทรงสามมิติ'},{'category':'การวัด','name':_0x315eb9(0x7c4)},{'category':_0x315eb9(0xaa4),'name':_0x315eb9(0x568)},{'category':'การวัด','name':_0x315eb9(0x605)},{'category':_0x315eb9(0xc06),'name':_0x315eb9(0xc6d)},{'category':_0x315eb9(0xc06),'name':'ความสัมพันธ์ของมุม'},{'category':_0x315eb9(0xc06),'name':_0x315eb9(0x5ae)},{'category':'เรขาคณิต','name':_0x315eb9(0xc72)},{'category':_0x315eb9(0xc06),'name':_0x315eb9(0x9c7)},{'category':_0x315eb9(0xc06),'name':_0x315eb9(0xcb0)},{'category':_0x315eb9(0xc06),'name':_0x315eb9(0x3bd)},{'category':'เรขาคณิต','name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0x315eb9(0xc06),'name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':_0x315eb9(0xc06),'name':_0x315eb9(0x793)},{'category':_0x315eb9(0xc06),'name':_0x315eb9(0x495)},{'category':_0x315eb9(0xc06),'name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':'เรขาคณิต','name':'สมมาตร\x20(แกน/จุด)'},{'category':_0x315eb9(0xc06),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':_0x315eb9(0xc06),'name':_0x315eb9(0x6cc)},{'category':_0x315eb9(0x3c7),'name':_0x315eb9(0x1f1)},{'category':_0x315eb9(0x3c7),'name':_0x315eb9(0x71d)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x315eb9(0x74e)},{'category':_0x315eb9(0x3c7),'name':_0x315eb9(0x37c)},{'category':_0x315eb9(0x3c7),'name':_0x315eb9(0x521)},{'category':_0x315eb9(0x3c7),'name':_0x315eb9(0x8f5)},{'category':_0x315eb9(0x3c7),'name':_0x315eb9(0x8bb)},{'category':_0x315eb9(0x3c7),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':_0x315eb9(0x3c7),'name':_0x315eb9(0x4b8)},{'category':_0x315eb9(0x3c7),'name':_0x315eb9(0x868)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x315eb9(0x6aa)},{'category':_0x315eb9(0x3c7),'name':_0x315eb9(0x573)},{'category':_0x315eb9(0x3c7),'name':_0x315eb9(0x877)},{'category':_0x315eb9(0x3c7),'name':_0x315eb9(0xb4b)},{'category':_0x315eb9(0x3c7),'name':_0x315eb9(0x634)},{'category':_0x315eb9(0x3c7),'name':'ระบบอสมการ'},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชัน:\x20แนวคิดและสัญกรณ์'},{'category':_0x315eb9(0x3c7),'name':_0x315eb9(0x328)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x315eb9(0x597)},{'category':_0x315eb9(0x3c7),'name':_0x315eb9(0x978)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x315eb9(0x20c)},{'category':_0x315eb9(0x3c7),'name':_0x315eb9(0x2f9)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0x315eb9(0x3c7),'name':_0x315eb9(0xc79)},{'category':_0x315eb9(0x3c7),'name':_0x315eb9(0x3fd)},{'category':_0x315eb9(0x3c7),'name':_0x315eb9(0x7e4)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x315eb9(0xd66)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x315eb9(0xa6b)},{'category':_0x315eb9(0x3c7),'name':_0x315eb9(0x867)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันลอการิทึม'},{'category':_0x315eb9(0x3c7),'name':_0x315eb9(0x53e)},{'category':_0x315eb9(0x3c7),'name':'ลำดับเรขาคณิต\x20(GP)'},{'category':_0x315eb9(0x3c7),'name':_0x315eb9(0x325)},{'category':_0x315eb9(0x3c7),'name':_0x315eb9(0x86d)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x315eb9(0x454)},{'category':_0x315eb9(0xda8),'name':_0x315eb9(0x9bb)},{'category':_0x315eb9(0xda8),'name':_0x315eb9(0xd98)},{'category':_0x315eb9(0xda8),'name':_0x315eb9(0x28d)},{'category':'เรขาคณิตวิเคราะห์','name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':_0x315eb9(0xda8),'name':_0x315eb9(0xa32)},{'category':_0x315eb9(0xda8),'name':_0x315eb9(0x55b)},{'category':_0x315eb9(0xda8),'name':_0x315eb9(0x3a7)},{'category':_0x315eb9(0xda8),'name':_0x315eb9(0xc41)},{'category':_0x315eb9(0xda8),'name':_0x315eb9(0x9fb)},{'category':_0x315eb9(0xb87),'name':_0x315eb9(0x7c2)},{'category':_0x315eb9(0xb87),'name':_0x315eb9(0x8a0)},{'category':_0x315eb9(0xb87),'name':_0x315eb9(0x544)},{'category':_0x315eb9(0xb87),'name':_0x315eb9(0xad8)},{'category':_0x315eb9(0xb87),'name':'กฎของไซน์'},{'category':'ตรีโกณมิติ','name':_0x315eb9(0x971)},{'category':_0x315eb9(0xb87),'name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':'ตรีโกณมิติ','name':_0x315eb9(0x6a1)},{'category':'ตรีโกณมิติ','name':_0x315eb9(0x32a)},{'category':_0x315eb9(0xb87),'name':_0x315eb9(0x649)},{'category':_0x315eb9(0xb87),'name':_0x315eb9(0x7a4)},{'category':_0x315eb9(0x540),'name':_0x315eb9(0x3e6)},{'category':'สถิติและความน่าจะเป็น','name':_0x315eb9(0x76e)},{'category':_0x315eb9(0x540),'name':'ตารางความถี่'},{'category':_0x315eb9(0x540),'name':_0x315eb9(0xd04)},{'category':'สถิติและความน่าจะเป็น','name':_0x315eb9(0x69a)},{'category':_0x315eb9(0x540),'name':_0x315eb9(0x895)},{'category':'สถิติและความน่าจะเป็น','name':_0x315eb9(0xb54)},{'category':_0x315eb9(0x540),'name':_0x315eb9(0x8e6)},{'category':_0x315eb9(0x540),'name':'ฐานนิยม'},{'category':_0x315eb9(0x540),'name':_0x315eb9(0xbc8)},{'category':'สถิติและความน่าจะเป็น','name':_0x315eb9(0xa8a)},{'category':_0x315eb9(0x540),'name':_0x315eb9(0x9c3)},{'category':_0x315eb9(0x540),'name':_0x315eb9(0x281)},{'category':_0x315eb9(0x540),'name':_0x315eb9(0x5cc)},{'category':_0x315eb9(0x540),'name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':_0x315eb9(0x540),'name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x315eb9(0x540),'name':_0x315eb9(0x852)},{'category':_0x315eb9(0x540),'name':_0x315eb9(0xb08)},{'category':_0x315eb9(0x540),'name':_0x315eb9(0xd8c)},{'category':'สถิติและความน่าจะเป็น','name':_0x315eb9(0x8d7)},{'category':_0x315eb9(0x540),'name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':_0x315eb9(0x540),'name':_0x315eb9(0x5e8)},{'category':_0x315eb9(0x540),'name':'การแจกแจงทวินาม\x20(พื้นฐาน)'},{'category':_0x315eb9(0x540),'name':_0x315eb9(0x2b7)},{'category':_0x315eb9(0xc56),'name':'ลิมิต'},{'category':_0x315eb9(0xc56),'name':_0x315eb9(0x839)},{'category':_0x315eb9(0xc56),'name':_0x315eb9(0x525)},{'category':_0x315eb9(0xc56),'name':_0x315eb9(0x6cf)},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':_0x315eb9(0xc56),'name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':_0x315eb9(0xc56),'name':'ความชันเส้นสัมผัส'},{'category':_0x315eb9(0xc56),'name':_0x315eb9(0xa9c)},{'category':_0x315eb9(0xc56),'name':_0x315eb9(0x3b4)},{'category':'แคลคูลัสเบื้องต้น','name':_0x315eb9(0x646)},{'category':_0x315eb9(0xc56),'name':_0x315eb9(0x786)},{'category':'แคลคูลัสเบื้องต้น','name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':'แคลคูลัสเบื้องต้น','name':_0x315eb9(0xa65)},{'category':_0x315eb9(0x9f5),'name':_0x315eb9(0x404)},{'category':_0x315eb9(0x9f5),'name':_0x315eb9(0xa85)},{'category':_0x315eb9(0x9f5),'name':_0x315eb9(0xacf)},{'category':_0x315eb9(0x9f5),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x315eb9(0x9f5),'name':_0x315eb9(0x873)},{'category':_0x315eb9(0x9f5),'name':_0x315eb9(0x553)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'แก้ระบบสมการด้วยเมทริกซ์'},{'category':_0x315eb9(0x6c4),'name':_0x315eb9(0x204)},{'category':_0x315eb9(0x6c4),'name':_0x315eb9(0x734)},{'category':_0x315eb9(0x6c4),'name':_0x315eb9(0xa22)},{'category':_0x315eb9(0x6c4),'name':'ค่าเสื่อมราคา'},{'category':_0x315eb9(0x6c4),'name':'ร้อยละประยุกต์'},{'category':_0x315eb9(0xa6f),'name':_0x315eb9(0x4ed)},{'category':_0x315eb9(0xa6f),'name':_0x315eb9(0x526)},{'category':_0x315eb9(0xa6f),'name':_0x315eb9(0xd96)}];function renderTopicCheckboxes(){const _0x1c3e1b=_0x315eb9,_0xfad6e5=document[_0x1c3e1b(0x695)](_0x1c3e1b(0x938));if(!_0xfad6e5)return;const _0x4fbe43=allMathTopics,_0x3b2dc0=customMathTopics['map'](_0x5eb2dc=>({'id':_0x5eb2dc['id'],'category':'หัวข้อที่สร้างเอง','name':_0x5eb2dc[_0x1c3e1b(0x38d)]})),_0x1a8e50=[..._0x4fbe43,..._0x3b2dc0],_0x33de2f=_0x1a8e50[_0x1c3e1b(0x60f)]((_0x1afae4,_0xadaf3e)=>{const _0x56884e=_0x1c3e1b;return!_0x1afae4[_0xadaf3e['category']]&&(_0x1afae4[_0xadaf3e[_0x56884e(0x712)]]=[]),_0x1afae4[_0xadaf3e[_0x56884e(0x712)]]['push'](_0xadaf3e),_0x1afae4;},{});let _0x3f80ff='';const _0x158053=[_0x1c3e1b(0xb44),...Object[_0x1c3e1b(0x811)](_0x33de2f)[_0x1c3e1b(0x9c1)](_0x28989c=>_0x28989c!==_0x1c3e1b(0xb44))];for(const _0x6ed65e of _0x158053){if(_0x33de2f[_0x6ed65e]){const _0x4dc187=_0x6ed65e==='หัวข้อที่สร้างเอง',_0x469994=_0x4dc187?_0x1c3e1b(0x499):_0x1c3e1b(0x9aa),_0x373d61=_0x4dc187?_0x1c3e1b(0xca8):'text-indigo-700';_0x3f80ff+=_0x1c3e1b(0x52f),_0x3f80ff+=_0x1c3e1b(0x3b6)+_0x373d61+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x469994+_0x1c3e1b(0x590)+_0x6ed65e+_0x1c3e1b(0xb97),_0x33de2f[_0x6ed65e][_0x1c3e1b(0x2d4)](_0x288985=>{const _0x1eb0fe=_0x1c3e1b,_0x17dbb3=!!_0x288985['id'],_0x5bc9b4=_0x17dbb3?_0x1eb0fe(0x83f)+_0x288985['id']+_0x1eb0fe(0x2f1)+_0x288985['id']+_0x1eb0fe(0x488)+_0x288985['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x288985['id']+_0x1eb0fe(0x9c9):'';_0x3f80ff+=_0x1eb0fe(0x25b)+(_0x288985['id']||'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22'+_0x288985[_0x1eb0fe(0x38d)]+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x288985[_0x1eb0fe(0x38d)]+_0x1eb0fe(0x5ed)+(_0x17dbb3?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x288985['name']+'\x22>':'')+_0x1eb0fe(0xd1c)+_0x5bc9b4+_0x1eb0fe(0x449);}),_0x3f80ff+=_0x1c3e1b(0x4cd);}}_0xfad6e5[_0x1c3e1b(0xb6b)]=_0x3f80ff||_0x1c3e1b(0x9ab),_0xfad6e5[_0x1c3e1b(0x538)]('change',updateSelectedTopicsCount),_0xfad6e5[_0x1c3e1b(0x59b)](_0x1c3e1b(0x40b),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x50f7ac,_0x559d59){const _0x47f6f1=_0x315eb9;if(!_0x50f7ac||!_0x559d59['trim']()){showMessage('ชื่อหัวข้อห้ามว่าง');return;}try{const _0x2d001d=doc(db,_0x47f6f1(0x2d5)+appId+_0x47f6f1(0xc2c),_0x50f7ac);await updateDoc(_0x2d001d,{'name':_0x559d59['trim']()}),showMessage(_0x47f6f1(0x9cf));}catch(_0x377159){console[_0x47f6f1(0xb62)]('Error\x20updating\x20custom\x20topic:',_0x377159),showMessage(_0x47f6f1(0x9a8));}}function toggleTopicEditMode(_0x512830,_0x31a893){const _0x1f16fe=_0x315eb9;if(!_0x512830)return;const _0x2de5b3=_0x512830[_0x1f16fe(0xc31)]('.topic-name-display'),_0x983094=_0x512830[_0x1f16fe(0xc31)](_0x1f16fe(0x614)),_0x30c511=_0x512830[_0x1f16fe(0xc31)](_0x1f16fe(0x6ae)),_0x2ef1ea=_0x512830['querySelector'](_0x1f16fe(0x7ed));_0x2de5b3['classList'][_0x1f16fe(0x352)](_0x1f16fe(0x721),_0x31a893),_0x983094['classList'][_0x1f16fe(0x352)](_0x1f16fe(0x721),!_0x31a893),_0x30c511['classList'][_0x1f16fe(0x352)](_0x1f16fe(0x721),_0x31a893),_0x2ef1ea[_0x1f16fe(0xd75)][_0x1f16fe(0x352)]('hidden',!_0x31a893),_0x31a893&&(_0x983094[_0x1f16fe(0x56d)](),_0x983094[_0x1f16fe(0x5c1)]());}async function handleStartLiveRace(_0x5cb14a){const _0x115f5a=_0x315eb9;let _0xc40d78=allQuizzes['find'](_0x3de16a=>_0x3de16a['id']===_0x5cb14a);if(!_0xc40d78){const _0x365f73=doc(db,'artifacts/'+appId+_0x115f5a(0xc5d),_0x5cb14a),_0x2e6b6d=await getDoc(_0x365f73);if(!_0x2e6b6d['exists']()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0xc40d78={'id':_0x2e6b6d['id'],..._0x2e6b6d['data']()};}const _0xfe59ac=getShuffledQuiz(_0xc40d78);currentQuizData=_0xfe59ac;const _0x566db6=_0xc40d78[_0x115f5a(0x88e)]||currentProjectId||null,_0x5a0a45=Math[_0x115f5a(0x4a5)](0x3e8+Math[_0x115f5a(0x625)]()*0x2328)[_0x115f5a(0x2c8)]();currentLiveGamePin=_0x5a0a45;try{const _0x5863fb=await addDoc(collection(db,'artifacts/'+appId+_0x115f5a(0xc05)),{'quizId':_0x5cb14a,'projectId':_0x566db6,'status':_0x115f5a(0xd39),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x5a0a45,'createdAt':serverTimestamp(),'shuffledQuiz':_0xfe59ac});currentLiveGameId=_0x5863fb['id'],showAdminLobbyView(_0x5a0a45,_0xc40d78[_0x115f5a(0xd28)]),listenForLiveGameUpdates();}catch(_0x33bdec){console[_0x115f5a(0xb62)]('Error\x20starting\x20live\x20race:',_0x33bdec),showMessage(_0x115f5a(0x34b));}}function updateSelectedTopicsCount(){const _0x137777=_0x315eb9,_0x430622=document['getElementById'](_0x137777(0x938)),_0x4f4c8c=_0x430622['querySelectorAll']('input[type=\x22checkbox\x22]:checked')['length'],_0x3b411b=document[_0x137777(0x695)](_0x137777(0x239));_0x4f4c8c>0x0?_0x3b411b['textContent']=_0x137777(0xb36)+_0x4f4c8c+'\x20หัวข้อ)':_0x3b411b[_0x137777(0x97a)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x315eb9(0xa49),quizLeaderboardSortOrder='desc',currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x315eb9(0x3bb),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x315eb9(0xc1c),scratchpadPenColor=_0x315eb9(0x71b),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x223938,_0x382684){const _0x2dd48a=_0x315eb9;return Math[_0x2dd48a(0x266)](Math[_0x2dd48a(0xa70)](_0x223938['x']-_0x382684['x'],0x2)+Math[_0x2dd48a(0xa70)](_0x223938['y']-_0x382684['y'],0x2));}function getMidpoint(_0x2e39c8,_0x470d7b){return{'x':(_0x2e39c8['x']+_0x470d7b['x'])/0x2,'y':(_0x2e39c8['y']+_0x470d7b['y'])/0x2};}function getTransformedPoint(_0x57a6f8,_0x4227a5){return{'x':(_0x57a6f8-scratchpadOffset['x'])/scratchpadScale,'y':(_0x4227a5-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x1a4cfd=_0x315eb9;if(!scratchpadCtx)return;const _0x3c94e0=scratchpadCtx[_0x1a4cfd(0x60b)],_0x5bddeb=window[_0x1a4cfd(0xb0c)]||0x1,_0x1a5bc5=document['getElementById'](_0x1a4cfd(0x8c3));_0x1a5bc5&&(_0x1a5bc5[_0x1a4cfd(0x7a9)][_0x1a4cfd(0x53d)]='0\x200',_0x1a5bc5[_0x1a4cfd(0x7a9)]['transform']=_0x1a4cfd(0xb63)+scratchpadOffset['x']+_0x1a4cfd(0x6ee)+scratchpadOffset['y']+_0x1a4cfd(0xaa1)+scratchpadScale+')'),scratchpadCtx[_0x1a4cfd(0x206)](),scratchpadCtx[_0x1a4cfd(0x359)](_0x5bddeb,0x0,0x0,_0x5bddeb,0x0,0x0),scratchpadCtx['clearRect'](0x0,0x0,_0x3c94e0[_0x1a4cfd(0x7c1)],_0x3c94e0[_0x1a4cfd(0x6b1)]),scratchpadCtx[_0x1a4cfd(0x6d0)](),scratchpadCtx[_0x1a4cfd(0x206)](),scratchpadCtx[_0x1a4cfd(0x25e)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x1a4cfd(0x23f)](scratchpadScale,scratchpadScale),strokes[_0x1a4cfd(0x2d4)](_0x5da733=>{drawStroke(_0x5da733);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx['restore']();}function renderGroupModeQuestion(){const _0x15b792=_0x315eb9;if(localQuestionIndex>=currentQuizData[_0x15b792(0xab9)][_0x15b792(0xca6)]){displayTeamQuizFinalResults();return;}const _0x1e0c11=currentQuizData[_0x15b792(0xab9)][localQuestionIndex],_0x3a2986=_0x1e0c11[_0x15b792(0x9e0)]||currentQuizData[_0x15b792(0xa41)];let _0x42a9c=_0x1e0c11[_0x15b792(0x858)]||_0x1e0c11['questionText'],_0x49639b='';switch(_0x3a2986){case _0x15b792(0x959):case'fill_in_with_choices':_0x49639b=_0x1e0c11['options'][_0x15b792(0x947)]((_0x7a2309,_0x1d474c)=>_0x15b792(0x229)+_0x1d474c+_0x15b792(0xbfc)+_0x1d474c+_0x15b792(0x362)+_0x1d474c+'\x22>'+_0x7a2309+_0x15b792(0x2d8))[_0x15b792(0x6f5)]('');break;case _0x15b792(0xb93):_0x49639b=_0x15b792(0x25d);break;case'short_answer':case'fill_in_no_choices':_0x49639b='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>';break;case'matching_item':_0x49639b=_0x15b792(0xcd2)+_0x1e0c11[_0x15b792(0x556)][_0x15b792(0x947)](_0x3bcd6f=>_0x15b792(0xb7e)+_0x3bcd6f+'\x22>'+_0x3bcd6f+_0x15b792(0x866))['join']('')+'</select>';break;default:_0x49639b=_0x15b792(0xadc);break;}studentQuizArea['innerHTML']=_0x15b792(0x2b0)+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData[_0x15b792(0xab9)]['length']+_0x15b792(0x555)+localTeamPlayers[_0x15b792(0x6f5)](',\x20')+_0x15b792(0xad4)+(localQuestionIndex+0x1)+'.\x20'+_0x42a9c+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1e0c11['imageCode']?_0x15b792(0xd4e)+_0x1e0c11[_0x15b792(0xaf3)]+_0x15b792(0x4cd):'')+_0x15b792(0x3f6)+_0x49639b+_0x15b792(0x7f3),studentQuizArea[_0x15b792(0xd75)]['remove'](_0x15b792(0x721));if(window[_0x15b792(0x3af)])MathJax[_0x15b792(0xcaf)]([studentQuizArea]);document[_0x15b792(0x695)](_0x15b792(0x3a5))[_0x15b792(0x59b)](_0x15b792(0xc9a),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x46d96a,_0x47b00a=null,_0x3e7165,_0x4ea251=null,_0x28926a=![],_0x56d8a5=null){const _0x5e1266=_0x315eb9,_0x3ceb4e=document[_0x5e1266(0x695)](_0x5e1266(0xbec));_0x3ceb4e&&_0x3ceb4e[_0x5e1266(0x780)]({'behavior':_0x5e1266(0x4f0),'block':_0x5e1266(0x801)}),generateQuiz(_0x46d96a,_0x47b00a,null,_0x56d8a5,!![],_0x3e7165,_0x4ea251,_0x28926a);}function handleGenerateAndShowLesson(_0x2acf4b,_0x441a63){const _0xbabac9=_0x315eb9,_0x5477e9=document[_0xbabac9(0x695)](_0xbabac9(0x756)),_0x37ed8e=document['getElementById']('lesson-view-title'),_0x54808c=document[_0xbabac9(0x695)](_0xbabac9(0xc1e)),_0x383e7d=document[_0xbabac9(0x695)](_0xbabac9(0x5b3));[_0xbabac9(0xa48),'memoryContent',_0xbabac9(0xb03),_0xbabac9(0x443)][_0xbabac9(0x2d4)](_0x2c8af5=>{const _0x23d08e=_0xbabac9,_0x52a082=document['getElementById'](_0x2c8af5)[_0x23d08e(0xcf8)];_0x52a082&&(_0x52a082['style'][_0x23d08e(0x9e8)]='block');}),_0x37ed8e[_0xbabac9(0x97a)]=_0xbabac9(0x503)+_0x2acf4b,_0x383e7d[_0xbabac9(0xd75)][_0xbabac9(0x8d6)]('hidden'),_0x54808c[_0xbabac9(0xd75)]['remove']('hidden'),_0x5477e9['classList']['remove'](_0xbabac9(0x721)),generateLesson(_0x2acf4b,_0x441a63)[_0xbabac9(0x346)](_0x3ec05d=>{const _0x2692c3=_0xbabac9;console[_0x2692c3(0xb62)](_0x2692c3(0x6e1),_0x3ec05d),showMessage(_0x2692c3(0x93e)),_0x5477e9[_0x2692c3(0xd75)][_0x2692c3(0x8d6)](_0x2692c3(0x721));});}function handlePointerDown(_0xbc011d){const _0x2ee906=_0x315eb9;_0xbc011d[_0x2ee906(0xb8f)]();const _0x3c571a=scratchpadCtx[_0x2ee906(0x60b)],_0x970ecc=_0x3c571a[_0x2ee906(0xc27)](),_0x55a163=_0xbc011d[_0x2ee906(0x49e)]||(_0xbc011d['touches']?'touch':_0x2ee906(0x42d));if(_0x55a163==='pen'||_0x55a163===_0x2ee906(0x42d)){if(_0xbc011d['pointerType']===_0x2ee906(0x42d)&&_0xbc011d[_0x2ee906(0x698)]!==0x0){_0xbc011d[_0x2ee906(0x698)]===0x1&&(isMousePanning=!![],panStart={'x':_0xbc011d[_0x2ee906(0x601)],'y':_0xbc011d[_0x2ee906(0x6a6)]},_0x3c571a['style'][_0x2ee906(0x50c)]=_0x2ee906(0xbba));return;}activeTool===_0x2ee906(0x307)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x5cb9db=getTransformedPoint(_0xbc011d[_0x2ee906(0x601)]-_0x970ecc['left'],_0xbc011d[_0x2ee906(0x6a6)]-_0x970ecc[_0x2ee906(0x74f)]);let _0xdc033={'tool':activeTool,'points':[_0x5cb9db]};if(activeTool===_0x2ee906(0xc1c))_0xdc033[_0x2ee906(0xd49)]=scratchpadPenColor,_0xdc033[_0x2ee906(0x2ff)]=scratchpadPenSize;else{if(activeTool===_0x2ee906(0x4a3))_0xdc033['color']=scratchpadPenColor,_0xdc033['size']=scratchpadEraserSize;else{if(activeTool===_0x2ee906(0xa6a))_0xdc033[_0x2ee906(0xd49)]=scratchpadHighlighterColor,_0xdc033[_0x2ee906(0x2ff)]=scratchpadHighlighterSize;else activeTool===_0x2ee906(0x307)&&(_0xdc033[_0x2ee906(0xd49)]=scratchpadPenColor,_0xdc033[_0x2ee906(0x2ff)]=scratchpadPenSize);}}currentStroke=_0xdc033;}else _0xbc011d[_0x2ee906(0x3a3)]&&(_0xbc011d[_0x2ee906(0x3a3)][_0x2ee906(0xca6)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0xbc011d['touches'][0x0][_0x2ee906(0x601)],'y':_0xbc011d[_0x2ee906(0x3a3)][0x0][_0x2ee906(0x6a6)]},{'x':_0xbc011d[_0x2ee906(0x3a3)][0x1][_0x2ee906(0x601)],'y':_0xbc011d[_0x2ee906(0x3a3)][0x1]['clientY']}),initialPinchDistance=getDistance({'x':_0xbc011d[_0x2ee906(0x3a3)][0x0][_0x2ee906(0x601)],'y':_0xbc011d['touches'][0x0][_0x2ee906(0x6a6)]},{'x':_0xbc011d[_0x2ee906(0x3a3)][0x1][_0x2ee906(0x601)],'y':_0xbc011d[_0x2ee906(0x3a3)][0x1]['clientY']})));}function animateTrail(){const _0x58cdc2=_0x315eb9,_0x7b7a7c=Date[_0x58cdc2(0x320)]();let _0x3bc438=![];for(let _0x370ab8=strokes[_0x58cdc2(0xca6)]-0x1;_0x370ab8>=0x0;_0x370ab8--){const _0x1c8c31=strokes[_0x370ab8];if(_0x1c8c31[_0x58cdc2(0x6a0)]===_0x58cdc2(0x307)&&_0x1c8c31[_0x58cdc2(0x667)]){const _0x30f862=_0x7b7a7c-_0x1c8c31['fadeStartTime'];_0x30f862>=TRAIL_DURATION?strokes[_0x58cdc2(0xb50)](_0x370ab8,0x1):(_0x1c8c31[_0x58cdc2(0x804)]=0x1-_0x30f862/TRAIL_DURATION,_0x3bc438=!![]);}}redrawScratchpad(),_0x3bc438?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x1926e3){const _0x5095e2=_0x315eb9;if(!_0x1926e3||_0x1926e3[_0x5095e2(0xb4e)]['length']<0x1)return;scratchpadCtx[_0x5095e2(0x206)](),scratchpadCtx[_0x5095e2(0xa1c)]=_0x5095e2(0xb77),scratchpadCtx[_0x5095e2(0x9b6)]=_0x5095e2(0xb77);if(_0x1926e3[_0x5095e2(0x6a0)]===_0x5095e2(0x307)){const _0x4f8be5=_0x1926e3[_0x5095e2(0x2ff)]/scratchpadScale;scratchpadCtx[_0x5095e2(0x635)]=_0x1926e3[_0x5095e2(0x804)]??0x1,scratchpadCtx[_0x5095e2(0x35c)]=_0x5095e2(0x690),scratchpadCtx['shadowBlur']=_0x4f8be5*0x3,scratchpadCtx['strokeStyle']=_0x5095e2(0x2be),scratchpadCtx[_0x5095e2(0x7ad)]=_0x4f8be5*2.5,scratchpadCtx[_0x5095e2(0x722)](),scratchpadCtx['moveTo'](_0x1926e3[_0x5095e2(0xb4e)][0x0]['x'],_0x1926e3[_0x5095e2(0xb4e)][0x0]['y']);for(let _0x55ee7b=0x1;_0x55ee7b<_0x1926e3[_0x5095e2(0xb4e)]['length']-0x1;_0x55ee7b++){const _0x29f1d1=getMidpoint(_0x1926e3['points'][_0x55ee7b],_0x1926e3[_0x5095e2(0xb4e)][_0x55ee7b+0x1]);scratchpadCtx[_0x5095e2(0xc91)](_0x1926e3[_0x5095e2(0xb4e)][_0x55ee7b]['x'],_0x1926e3[_0x5095e2(0xb4e)][_0x55ee7b]['y'],_0x29f1d1['x'],_0x29f1d1['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x5095e2(0x35c)]=_0x5095e2(0x2d9),scratchpadCtx['shadowBlur']=0x0,scratchpadCtx[_0x5095e2(0xa04)]=_0x5095e2(0x607),scratchpadCtx['lineWidth']=_0x4f8be5,scratchpadCtx[_0x5095e2(0xb71)](),scratchpadCtx[_0x5095e2(0x782)]();}else{if(_0x1926e3['tool']===_0x5095e2(0xa6a)){scratchpadCtx[_0x5095e2(0x931)]=_0x5095e2(0x532),scratchpadCtx['strokeStyle']=_0x1926e3[_0x5095e2(0xd49)],scratchpadCtx[_0x5095e2(0x7ad)]=_0x1926e3['size'],scratchpadCtx['beginPath'](),scratchpadCtx[_0x5095e2(0x461)](_0x1926e3[_0x5095e2(0xb4e)][0x0]['x'],_0x1926e3[_0x5095e2(0xb4e)][0x0]['y']);for(let _0x11b87e=0x1;_0x11b87e<_0x1926e3['points'][_0x5095e2(0xca6)]-0x1;_0x11b87e++){const _0xc82274=getMidpoint(_0x1926e3[_0x5095e2(0xb4e)][_0x11b87e],_0x1926e3['points'][_0x11b87e+0x1]);scratchpadCtx[_0x5095e2(0xc91)](_0x1926e3[_0x5095e2(0xb4e)][_0x11b87e]['x'],_0x1926e3[_0x5095e2(0xb4e)][_0x11b87e]['y'],_0xc82274['x'],_0xc82274['y']);}scratchpadCtx[_0x5095e2(0xb71)](),scratchpadCtx[_0x5095e2(0x782)]();}else{scratchpadCtx[_0x5095e2(0x931)]=_0x1926e3[_0x5095e2(0x6a0)]===_0x5095e2(0x4a3)?_0x5095e2(0xbf4):'source-over',scratchpadCtx[_0x5095e2(0xa04)]=_0x1926e3[_0x5095e2(0xd49)],scratchpadCtx[_0x5095e2(0x7ad)]=_0x1926e3[_0x5095e2(0x2ff)],scratchpadCtx[_0x5095e2(0x722)](),scratchpadCtx[_0x5095e2(0x461)](_0x1926e3[_0x5095e2(0xb4e)][0x0]['x'],_0x1926e3[_0x5095e2(0xb4e)][0x0]['y']);for(let _0x63b890=0x1;_0x63b890<_0x1926e3[_0x5095e2(0xb4e)][_0x5095e2(0xca6)]-0x1;_0x63b890++){const _0x6c7b07=getMidpoint(_0x1926e3[_0x5095e2(0xb4e)][_0x63b890],_0x1926e3[_0x5095e2(0xb4e)][_0x63b890+0x1]);scratchpadCtx[_0x5095e2(0xc91)](_0x1926e3[_0x5095e2(0xb4e)][_0x63b890]['x'],_0x1926e3[_0x5095e2(0xb4e)][_0x63b890]['y'],_0x6c7b07['x'],_0x6c7b07['y']);}scratchpadCtx[_0x5095e2(0xb71)](),scratchpadCtx['closePath']();}}scratchpadCtx[_0x5095e2(0x6d0)]();}function handlePointerMove(_0x502e30){const _0x5e8312=_0x315eb9;_0x502e30[_0x5e8312(0xb8f)]();const _0x5b7f85=scratchpadCtx[_0x5e8312(0x60b)],_0x24210d=_0x5b7f85[_0x5e8312(0xc27)]();if(_0x502e30[_0x5e8312(0x3a3)]){if(_0x502e30[_0x5e8312(0x3a3)]['length']===0x1&&isDrawingOnScratchpad){const _0x5f43ec=getTransformedPoint(_0x502e30[_0x5e8312(0x3a3)][0x0][_0x5e8312(0x601)]-_0x24210d[_0x5e8312(0x59f)],_0x502e30['touches'][0x0][_0x5e8312(0x6a6)]-_0x24210d[_0x5e8312(0x74f)]);currentStroke[_0x5e8312(0xb4e)]['push'](_0x5f43ec),redrawScratchpad();}else{if(_0x502e30['touches'][_0x5e8312(0xca6)]===0x2&&isPanning){const _0x4214b0=getDistance({'x':_0x502e30[_0x5e8312(0x3a3)][0x0]['clientX'],'y':_0x502e30[_0x5e8312(0x3a3)][0x0][_0x5e8312(0x6a6)]},{'x':_0x502e30[_0x5e8312(0x3a3)][0x1][_0x5e8312(0x601)],'y':_0x502e30['touches'][0x1][_0x5e8312(0x6a6)]}),_0x2dda4e=getMidpoint({'x':_0x502e30[_0x5e8312(0x3a3)][0x0][_0x5e8312(0x601)],'y':_0x502e30[_0x5e8312(0x3a3)][0x0][_0x5e8312(0x6a6)]},{'x':_0x502e30[_0x5e8312(0x3a3)][0x1]['clientX'],'y':_0x502e30['touches'][0x1]['clientY']}),_0x2f8c9b=_0x4214b0/ initialPinchDistance,_0x184ca8=Math['min'](Math[_0x5e8312(0xd57)](scratchpadScale*_0x2f8c9b,MIN_SCALE),MAX_SCALE),_0x421733=_0x2dda4e['x']-panStart['x'],_0x26173d=_0x2dda4e['y']-panStart['y'];scratchpadOffset['x']=_0x2dda4e['x']-(_0x2dda4e['x']-scratchpadOffset['x'])*(_0x184ca8/scratchpadScale),scratchpadOffset['y']=_0x2dda4e['y']-(_0x2dda4e['y']-scratchpadOffset['y'])*(_0x184ca8/scratchpadScale),scratchpadOffset['x']+=_0x421733,scratchpadOffset['y']+=_0x26173d,scratchpadScale=_0x184ca8,initialPinchDistance=_0x4214b0,panStart=_0x2dda4e,redrawScratchpad();}}}else{if(isMousePanning){const _0x7e6f4d=_0x502e30[_0x5e8312(0x601)]-panStart['x'],_0x7add9e=_0x502e30['clientY']-panStart['y'];scratchpadOffset['x']+=_0x7e6f4d,scratchpadOffset['y']+=_0x7add9e,panStart={'x':_0x502e30[_0x5e8312(0x601)],'y':_0x502e30[_0x5e8312(0x6a6)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x4d67c6=getTransformedPoint(_0x502e30[_0x5e8312(0x601)]-_0x24210d['left'],_0x502e30['clientY']-_0x24210d[_0x5e8312(0x74f)]);currentStroke[_0x5e8312(0xb4e)][_0x5e8312(0xd41)](_0x4d67c6),redrawScratchpad();}}}}function handlePointerUp(_0x3bd4f1){const _0x1b39eb=_0x315eb9;_0x3bd4f1['preventDefault']();const _0x435f9c=scratchpadCtx[_0x1b39eb(0x60b)];isMousePanning&&(isMousePanning=![],_0x435f9c['style'][_0x1b39eb(0x50c)]=_0x1b39eb(0xbf5)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke['points']['length']>0x1&&(strokes[_0x1b39eb(0xd41)](currentStroke),currentStroke[_0x1b39eb(0x6a0)]===_0x1b39eb(0x307)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x51199e=_0x1b39eb,_0x57ba9e=strokes['filter'](_0x298200=>_0x298200[_0x51199e(0x6a0)]===_0x51199e(0x307)&&!_0x298200[_0x51199e(0x667)]);if(_0x57ba9e['length']>0x0){const _0x2ce245=Date[_0x51199e(0x320)]();_0x57ba9e[_0x51199e(0x2d4)](_0x512fdd=>_0x512fdd[_0x51199e(0x667)]=_0x2ce245),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x50d18d){const _0x42fc0d=_0x315eb9;_0x50d18d[_0x42fc0d(0xb8f)]();const _0x5e185a=_0x50d18d[_0x42fc0d(0xb53)]*-0.005,_0x26b9fd=Math[_0x42fc0d(0x777)](Math[_0x42fc0d(0xd57)](scratchpadScale+_0x5e185a,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x50d18d['clientX']-(_0x50d18d[_0x42fc0d(0x601)]-scratchpadOffset['x'])*(_0x26b9fd/scratchpadScale),scratchpadOffset['y']=_0x50d18d[_0x42fc0d(0x6a6)]-(_0x50d18d[_0x42fc0d(0x6a6)]-scratchpadOffset['y'])*(_0x26b9fd/scratchpadScale),scratchpadScale=_0x26b9fd,redrawScratchpad();}function undo(){const _0x106d08=_0x315eb9;strokes[_0x106d08(0xca6)]>0x0&&(redoStrokes['push'](strokes[_0x106d08(0x3a8)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x487ec6=_0x315eb9;redoStrokes[_0x487ec6(0xca6)]>0x0&&(strokes[_0x487ec6(0xd41)](redoStrokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x343094=_0x315eb9;document[_0x343094(0x695)](_0x343094(0x679))['disabled']=strokes['length']===0x0,document['getElementById'](_0x343094(0x387))[_0x343094(0x22a)]=redoStrokes['length']===0x0;}function openScratchpad(_0x5354e8,_0x535d45){const _0x486985=_0x315eb9,_0x2a9b99=document[_0x486985(0x695)](_0x486985(0x207)),_0x6f883a=document[_0x486985(0x695)](_0x486985(0x4ef)),_0x20fd4e=document[_0x486985(0x695)]('scratchpad-options'),_0x5e80d3=document[_0x486985(0x695)](_0x486985(0x7bc));_0x6f883a['innerHTML']=_0x5354e8[_0x486985(0x858)]||_0x5354e8[_0x486985(0x620)],_0x20fd4e[_0x486985(0xb6b)]=_0x535d45['map']((_0x394bed,_0x225374)=>'<div>'+String[_0x486985(0xc63)](0x41+_0x225374)+'.\x20'+_0x394bed+'</div>')['join'](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x2a9b99[_0x486985(0xd75)][_0x486985(0x8cc)]('hidden'),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x486985(0x3af)])MathJax[_0x486985(0xcaf)]([_0x6f883a,_0x20fd4e]);}function openBlueprintQuizSettings(){const _0x48e6d5=_0x315eb9,_0x1c307d=document[_0x48e6d5(0x695)](_0x48e6d5(0x7d3)),_0x1a3606=blueprintPageSettings||(currentProjectData?currentProjectData[_0x48e6d5(0x516)]:{})||{};document['getElementById'](_0x48e6d5(0xc3a))['value']=_0x1a3606[_0x48e6d5(0xa41)]||document[_0x48e6d5(0x695)]('quiz-type-select')['value'],document[_0x48e6d5(0x695)](_0x48e6d5(0x22c))['innerHTML']=document[_0x48e6d5(0x695)](_0x48e6d5(0x512))['innerHTML'],document['getElementById'](_0x48e6d5(0x22c))['value']=_0x1a3606[_0x48e6d5(0x562)]||document[_0x48e6d5(0x695)](_0x48e6d5(0x512))[_0x48e6d5(0xbdb)],document[_0x48e6d5(0x695)](_0x48e6d5(0xb61))[_0x48e6d5(0xb6b)]=document[_0x48e6d5(0x695)](_0x48e6d5(0x5e1))[_0x48e6d5(0xb6b)],document[_0x48e6d5(0x695)](_0x48e6d5(0xb61))[_0x48e6d5(0xbdb)]=_0x1a3606[_0x48e6d5(0x1fd)]||document['getElementById'](_0x48e6d5(0x5e1))[_0x48e6d5(0xbdb)],document['getElementById'](_0x48e6d5(0x965))[_0x48e6d5(0xbdb)]=_0x1a3606['numQuestions']||document[_0x48e6d5(0x695)](_0x48e6d5(0x5eb))[_0x48e6d5(0xbdb)],document[_0x48e6d5(0x695)]('bp-modal-passing-score-input')[_0x48e6d5(0xbdb)]=_0x1a3606[_0x48e6d5(0x75d)]||document[_0x48e6d5(0x695)](_0x48e6d5(0x505))[_0x48e6d5(0xbdb)],document[_0x48e6d5(0x695)]('bp-modal-num-choices')['value']=_0x1a3606[_0x48e6d5(0x5f4)]||document['getElementById']('num-choices')[_0x48e6d5(0xbdb)],document['getElementById'](_0x48e6d5(0x672))[_0x48e6d5(0xbdb)]=_0x1a3606[_0x48e6d5(0xbaf)]||document['getElementById'](_0x48e6d5(0x3fe))[_0x48e6d5(0xbdb)],document[_0x48e6d5(0x695)]('bp-modal-include-images-checkbox')[_0x48e6d5(0x364)]=_0x1a3606[_0x48e6d5(0x419)]||document[_0x48e6d5(0x695)](_0x48e6d5(0xcc9))[_0x48e6d5(0x364)],_0x1c307d[_0x48e6d5(0xd75)][_0x48e6d5(0x8cc)](_0x48e6d5(0x721));}function handleSaveBlueprintPageSettings(){const _0x37e389=_0x315eb9;blueprintPageSettings={'quizType':document[_0x37e389(0x695)](_0x37e389(0xc3a))[_0x37e389(0xbdb)],'difficultyValue':document[_0x37e389(0x695)](_0x37e389(0x22c))['value'],'complexityValue':document[_0x37e389(0x695)](_0x37e389(0xb61))['value'],'numQuestions':document[_0x37e389(0x695)](_0x37e389(0x965))['value'],'passingScore':document[_0x37e389(0x695)](_0x37e389(0x730))[_0x37e389(0xbdb)],'numChoices':document[_0x37e389(0x695)](_0x37e389(0x829))[_0x37e389(0xbdb)],'shuffle':document[_0x37e389(0x695)](_0x37e389(0x672))[_0x37e389(0xbdb)],'includeImages':document[_0x37e389(0x695)](_0x37e389(0xbbc))[_0x37e389(0x364)]},showMessage(_0x37e389(0x226)),document[_0x37e389(0x695)](_0x37e389(0x7d3))[_0x37e389(0xd75)][_0x37e389(0x8d6)](_0x37e389(0x721));}function listenForParallelTestShortcuts(){const _0x1ea6c1=_0x315eb9,_0x410579=doc(db,_0x1ea6c1(0x974),_0x1ea6c1(0xd8d));onSnapshot(_0x410579,_0x19a546=>{const _0x2dc2ce=_0x1ea6c1;let _0x5c293f=[],_0x396328=[],_0x40f7fc={};if(_0x19a546[_0x2dc2ce(0xb5a)]()){const _0x245e54=_0x19a546[_0x2dc2ce(0x5ac)]();_0x5c293f=_0x245e54[_0x2dc2ce(0x69b)]||[],_0x396328=_0x245e54[_0x2dc2ce(0xa52)]||[],_0x40f7fc=_0x245e54['parallelShortcutOrder']||{};}!_0x396328[_0x2dc2ce(0x559)](_0x27f06d=>_0x27f06d['id']===_0x2dc2ce(0xcea))&&_0x396328[_0x2dc2ce(0x859)]({'id':_0x2dc2ce(0xcea),'name':_0x2dc2ce(0x5d0),'isDefault':!![]}),!_0x5c293f[_0x2dc2ce(0x559)](_0x570023=>_0x570023['id']==='parallel-default-1')&&_0x5c293f[_0x2dc2ce(0x859)]({'id':_0x2dc2ce(0xd6e),'name':'ต้นฉบับ\x201','url':'','isDefault':!![]}),!_0x5c293f['find'](_0x5d1e52=>_0x5d1e52['id']===_0x2dc2ce(0xca2))&&_0x5c293f[_0x2dc2ce(0x859)]({'id':_0x2dc2ce(0xca2),'name':'ต้นฉบับ\x202','url':'','isDefault':!![]}),parallelTestShortcuts=_0x5c293f,parallelShortcutTabs=_0x396328,parallelShortcutOrder=_0x40f7fc,renderParallelTestShortcuts(),!document['getElementById'](_0x2dc2ce(0x54b))['classList'][_0x2dc2ce(0x9d9)]('hidden')&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x3c4b2f=_0x315eb9,_0x253043=doc(db,_0x3c4b2f(0x974),'parallelTestShortcutsConfig');try{await setDoc(_0x253043,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x34494e){console[_0x3c4b2f(0xb62)](_0x3c4b2f(0x75c),_0x34494e);}}function renderAdditionalParallelShortcutsModal(){const _0x28592f=_0x315eb9,_0xaccfd5=document['getElementById'](_0x28592f(0x502)),_0x1130b1=document[_0x28592f(0x695)](_0x28592f(0x754));if(!_0xaccfd5||!_0x1130b1)return;_0xaccfd5['innerHTML']=parallelShortcutTabs[_0x28592f(0x947)](_0xe4a2bb=>{const _0x83b3fb=_0x28592f,_0x2103ea=_0xe4a2bb['id']===activeParallelShortcutTabId;return _0x83b3fb(0x7ec)+_0xe4a2bb['id']+_0x83b3fb(0x8b8)+(_0x2103ea?_0x83b3fb(0x429):_0x83b3fb(0xabf))+_0x83b3fb(0xa2e)+_0xe4a2bb[_0x83b3fb(0x38d)]+_0x83b3fb(0xc44)+_0xe4a2bb['name']+_0x83b3fb(0xc8c)+(!_0xe4a2bb[_0x83b3fb(0x398)]?_0x83b3fb(0xa35)+_0xe4a2bb['id']+_0x83b3fb(0x726):'')+_0x83b3fb(0xb8b);})[_0x28592f(0x6f5)]('');const _0x116946=parallelShortcutTabs['find'](_0x395ad8=>_0x395ad8['id']===activeParallelShortcutTabId);let _0x470f84=_0x116946?.[_0x28592f(0x398)]?[...parallelTestShortcuts]:parallelTestShortcuts['filter'](_0x3b774b=>(_0x116946?.[_0x28592f(0x548)]||[])[_0x28592f(0xcac)](_0x3b774b['id']));const _0x4c2375=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x470f84['sort']((_0x1bf342,_0x5dd97a)=>{const _0x15e632=_0x28592f,_0x21a3fd=_0x4c2375['indexOf'](_0x1bf342['id']),_0x3267fe=_0x4c2375[_0x15e632(0x38e)](_0x5dd97a['id']);return(_0x21a3fd===-0x1?Infinity:_0x21a3fd)-(_0x3267fe===-0x1?Infinity:_0x3267fe);}),_0x1130b1['innerHTML']=_0x470f84[_0x28592f(0x947)](_0x320bd9=>{const _0x15063c=_0x28592f,_0x216cd5=_0x320bd9[_0x15063c(0x822)]?'🔁':'🔗',_0xa10f3f=parallelShortcutTabs[_0x15063c(0x9c1)](_0x548007=>!_0x548007[_0x15063c(0x398)]),_0x5ba747=_0x116946[_0x15063c(0x398)]&&_0xa10f3f[_0x15063c(0xca6)]>0x0?_0x15063c(0x42f)+_0xa10f3f[_0x15063c(0x947)](_0x3fe5c7=>'<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x320bd9['id']+_0x15063c(0x471)+_0x3fe5c7['id']+'\x22>'+_0x3fe5c7[_0x15063c(0x38d)]+'</a>')[_0x15063c(0x6f5)]('')+_0x15063c(0x32c):'';return _0x15063c(0xc7a)+_0x320bd9['id']+_0x15063c(0x4d6)+_0x216cd5+'\x20'+_0x320bd9[_0x15063c(0x38d)]+_0x15063c(0xc3d)+_0x320bd9['id']+_0x15063c(0xba8)+_0x320bd9['id']+_0x15063c(0x29c)+(!_0x320bd9[_0x15063c(0x398)]?'<button\x20data-id=\x22'+_0x320bd9['id']+_0x15063c(0x97d):'')+_0x15063c(0xae3)+(!_0x116946[_0x15063c(0x398)]?_0x15063c(0x71e)+_0x320bd9['id']+_0x15063c(0xc4f):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ba747+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x28592f(0x6f5)]('')||_0x28592f(0xd60),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x218bd3=_0x315eb9;document['querySelectorAll']('.parallel-shortcut-tab-btn')[_0x218bd3(0x2d4)](_0xba25e3=>{const _0x4f1c50=_0x218bd3;_0xba25e3[_0x4f1c50(0x3cf)]=_0x51e9df=>{const _0x350589=_0x4f1c50;activeParallelShortcutTabId=_0x51e9df['currentTarget']['dataset'][_0x350589(0xaa5)],renderAdditionalParallelShortcutsModal();},_0xba25e3[_0x4f1c50(0x9d8)]=_0x389b6b=>{const _0x2d5578=_0x4f1c50,_0x23fe5b=_0x389b6b[_0x2d5578(0x4de)][_0x2d5578(0xc31)](_0x2d5578(0x652));_0x389b6b[_0x2d5578(0x4de)][_0x2d5578(0xc31)](_0x2d5578(0x76a))[_0x2d5578(0xd75)][_0x2d5578(0x8d6)](_0x2d5578(0x721)),_0x23fe5b['classList'][_0x2d5578(0x8cc)]('hidden'),_0x23fe5b[_0x2d5578(0x56d)](),_0x23fe5b[_0x2d5578(0x5c1)]();};}),document[_0x218bd3(0x4e3)](_0x218bd3(0x6e3))['forEach'](_0x3196c3=>{const _0xb66ecb=_0x218bd3,_0x2a931d=()=>{const _0x290363=_0x42ad,_0x77e84=_0x3196c3[_0x290363(0xb12)](_0x290363(0x9a0))[_0x290363(0x4b5)][_0x290363(0xaa5)],_0x3c01e0=parallelShortcutTabs['find'](_0xcbd996=>_0xcbd996['id']===_0x77e84);_0x3c01e0&&(_0x3c01e0[_0x290363(0x38d)]=_0x3196c3[_0x290363(0xbdb)]['trim']()||_0x3c01e0[_0x290363(0x38d)],saveParallelShortcutConfig());};_0x3196c3[_0xb66ecb(0x2a5)]=_0x2a931d,_0x3196c3[_0xb66ecb(0x5f2)]=_0x181e4d=>{const _0x23191f=_0xb66ecb;if(_0x181e4d[_0x23191f(0x902)]===_0x23191f(0xd6c))_0x3196c3[_0x23191f(0x705)]();};}),document[_0x218bd3(0x4e3)](_0x218bd3(0x78b))['forEach'](_0x3d02b3=>_0x3d02b3['onclick']=_0x4cd8a7=>{const _0x113b32=_0x218bd3,_0x18b7f6=_0x4cd8a7[_0x113b32(0x4de)]['dataset'][_0x113b32(0xaa5)];showConfirmation(_0x113b32(0xa82),()=>{const _0x4c58af=_0x113b32;parallelShortcutTabs=parallelShortcutTabs[_0x4c58af(0x9c1)](_0x390f35=>_0x390f35['id']!==_0x18b7f6),delete parallelShortcutOrder[_0x18b7f6];if(activeParallelShortcutTabId===_0x18b7f6)activeParallelShortcutTabId='all';saveParallelShortcutConfig();});}),document[_0x218bd3(0x4e3)](_0x218bd3(0xc48))[_0x218bd3(0x2d4)](_0x5143e6=>_0x5143e6[_0x218bd3(0x3cf)]=_0x412fd7=>{const _0x418036=_0x218bd3;_0x412fd7[_0x418036(0xb8f)]();const {shortcutId:_0x4363b6,targetTabId:_0x3c849a}=_0x412fd7[_0x418036(0x4de)][_0x418036(0x4b5)],_0x53c36b=parallelShortcutTabs[_0x418036(0x559)](_0x4d44c4=>_0x4d44c4['id']===_0x3c849a);_0x53c36b&&!_0x53c36b[_0x418036(0x548)][_0x418036(0xcac)](_0x4363b6)&&(_0x53c36b['shortcutIds'][_0x418036(0xd41)](_0x4363b6),saveParallelShortcutConfig());}),document[_0x218bd3(0x4e3)]('.remove-parallel-shortcut-from-tab-btn')[_0x218bd3(0x2d4)](_0x4a4867=>_0x4a4867[_0x218bd3(0x3cf)]=_0x4dbc37=>{const _0xaaa13b=_0x218bd3,_0x21f1c5=_0x4dbc37['currentTarget'][_0xaaa13b(0x4b5)][_0xaaa13b(0x976)],_0x39934d=parallelShortcutTabs['find'](_0xb0f5fd=>_0xb0f5fd['id']===activeParallelShortcutTabId);_0x39934d&&!_0x39934d[_0xaaa13b(0x398)]&&(_0x39934d[_0xaaa13b(0x548)]=_0x39934d['shortcutIds'][_0xaaa13b(0x9c1)](_0x4d2c23=>_0x4d2c23!==_0x21f1c5),saveParallelShortcutConfig());}),document[_0x218bd3(0x4e3)](_0x218bd3(0xb83))['forEach'](_0x4ea0a4=>_0x4ea0a4[_0x218bd3(0x3cf)]=_0x2f1a44=>{const _0xe3f902=_0x218bd3;_0x2f1a44[_0xe3f902(0xd8b)]();const _0x2b1139=_0x2f1a44[_0xe3f902(0x4de)][_0xe3f902(0x596)];document['querySelectorAll'](_0xe3f902(0x425))['forEach'](_0x12c829=>_0x12c829[_0xe3f902(0xd75)]['add'](_0xe3f902(0x721))),_0x2b1139[_0xe3f902(0xd75)][_0xe3f902(0x8cc)](_0xe3f902(0x721));});const _0x4bacd2=document[_0x218bd3(0x695)](_0x218bd3(0x754));let _0x46cc06=null;_0x4bacd2['ondragstart']=_0x44c2aa=>{const _0x44a7c7=_0x218bd3;_0x46cc06=_0x44c2aa[_0x44a7c7(0x819)][_0x44a7c7(0xb12)](_0x44a7c7(0x3d3));if(_0x46cc06)setTimeout(()=>_0x46cc06[_0x44a7c7(0xd75)][_0x44a7c7(0x8d6)](_0x44a7c7(0x88d)),0x0);},_0x4bacd2[_0x218bd3(0xb01)]=()=>{const _0x37b8cb=_0x218bd3;_0x46cc06&&(_0x46cc06[_0x37b8cb(0xd75)][_0x37b8cb(0x8cc)]('opacity-50'),_0x46cc06=null);},_0x4bacd2[_0x218bd3(0x687)]=_0x12120e=>{const _0x1ed288=_0x218bd3;_0x12120e[_0x1ed288(0xb8f)]();},_0x4bacd2['ondrop']=_0x769c39=>{const _0x3049a4=_0x218bd3;_0x769c39[_0x3049a4(0xb8f)]();if(_0x46cc06){const _0x373856=[..._0x4bacd2[_0x3049a4(0x4e3)](_0x3049a4(0x400))][_0x3049a4(0x60f)]((_0x490e7d,_0x2aee10)=>{const _0x6e664d=_0x3049a4,_0x5e9d0d=_0x2aee10[_0x6e664d(0xc27)](),_0x319abd=_0x769c39[_0x6e664d(0x6a6)]-_0x5e9d0d[_0x6e664d(0x74f)]-_0x5e9d0d[_0x6e664d(0x6b1)]/0x2;return _0x319abd<0x0&&_0x319abd>_0x490e7d['offset']?{'offset':_0x319abd,'element':_0x2aee10}:_0x490e7d;},{'offset':Number[_0x3049a4(0xbc2)]})[_0x3049a4(0x270)];_0x373856==null?_0x4bacd2['appendChild'](_0x46cc06):_0x4bacd2[_0x3049a4(0x88a)](_0x46cc06,_0x373856);const _0x7ac6bc=[..._0x4bacd2[_0x3049a4(0x4e3)](_0x3049a4(0x3d3))]['map'](_0x3666aa=>_0x3666aa[_0x3049a4(0x4b5)]['shortcutId']);parallelShortcutOrder[activeParallelShortcutTabId]=_0x7ac6bc,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0xbe6e7e=_0x315eb9,_0x31fa2a=prompt(_0xbe6e7e(0x23c),_0xbe6e7e(0x870));_0x31fa2a&&_0x31fa2a[_0xbe6e7e(0xbcf)]()&&(parallelShortcutTabs['push']({'id':_0xbe6e7e(0x9d2)+Date[_0xbe6e7e(0x320)](),'name':_0x31fa2a[_0xbe6e7e(0xbcf)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0xb7dc2d=_0x315eb9,_0x53f062=document[_0xb7dc2d(0x695)](_0xb7dc2d(0xd95)),_0xef3589=document[_0xb7dc2d(0x695)](_0xb7dc2d(0x754)),_0x2ea0b6=document['getElementById'](_0xb7dc2d(0x660));if(_0x2ea0b6)_0x2ea0b6[_0xb7dc2d(0xd75)][_0xb7dc2d(0x8d6)](_0xb7dc2d(0x721));if(!_0x53f062||!_0xef3589)return;const _0x1227a2=parallelTestShortcuts[_0xb7dc2d(0x7c9)](0x0,0x4),_0x5ae7f5=parallelTestShortcuts[_0xb7dc2d(0x7c9)](0x4);_0x53f062['innerHTML']=_0x1227a2[_0xb7dc2d(0x947)](_0x10c529=>{const _0xf35cdd=_0xb7dc2d,_0x27019b=_0x10c529[_0xf35cdd(0x822)]&&_0x10c529[_0xf35cdd(0x822)][_0xf35cdd(0xbcf)]()!=='',_0x48d631=_0x27019b?_0xf35cdd(0xb84):_0xf35cdd(0x7f0),_0x145f8d=_0x27019b?'🔁':'🔗',_0x5295cc=!_0x10c529[_0xf35cdd(0x398)]?_0xf35cdd(0x4e8)+_0x10c529['id']+_0xf35cdd(0x984):'';return _0xf35cdd(0xb43)+_0x10c529['id']+_0xf35cdd(0x665)+_0x48d631+_0xf35cdd(0x739)+_0x145f8d+'\x20'+_0x10c529[_0xf35cdd(0x38d)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x10c529['id']+'\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5295cc+_0xf35cdd(0x504);})['join'](''),_0x5ae7f5[_0xb7dc2d(0xca6)]>0x0&&(_0x53f062['innerHTML']+=_0xb7dc2d(0xd11)),_0x5ae7f5[_0xb7dc2d(0xca6)]>0x0?_0xef3589['innerHTML']=_0x5ae7f5['map'](_0x157c47=>_0xb7dc2d(0xaba)+(_0x157c47[_0xb7dc2d(0x822)]?'🔁':'🔗')+'\x20'+_0x157c47[_0xb7dc2d(0x38d)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x157c47['id']+_0xb7dc2d(0xb66)+_0x157c47['id']+_0xb7dc2d(0x4ab)+(!_0x157c47[_0xb7dc2d(0x398)]?_0xb7dc2d(0x4e8)+_0x157c47['id']+_0xb7dc2d(0x97d):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0xb7dc2d(0x6f5)](''):_0xef3589[_0xb7dc2d(0xb6b)]=_0xb7dc2d(0xbd0);}function openParallelTestShortcutEditor(_0x37edaa=null){const _0x395bcb=_0x315eb9,_0x27d0c6=document[_0x395bcb(0x695)](_0x395bcb(0x345)),_0x28cef3=document['getElementById'](_0x395bcb(0x3f2)),_0x207095=document['getElementById'](_0x395bcb(0x3dd)),_0x36a15e=document['getElementById']('parallel-shortcut-name-input'),_0x47b99a=document[_0x395bcb(0x695)](_0x395bcb(0x757));if(_0x37edaa){const _0x35f0a1=parallelTestShortcuts[_0x395bcb(0x559)](_0x4a4a5b=>_0x4a4a5b['id']===_0x37edaa);if(!_0x35f0a1)return;_0x28cef3[_0x395bcb(0x97a)]=_0x395bcb(0x732),_0x207095['value']=_0x35f0a1['id'],_0x36a15e[_0x395bcb(0xbdb)]=_0x35f0a1[_0x395bcb(0x38d)],_0x47b99a[_0x395bcb(0xbdb)]=_0x35f0a1[_0x395bcb(0x822)]||'';}else _0x28cef3[_0x395bcb(0x97a)]=_0x395bcb(0x935),_0x207095[_0x395bcb(0xbdb)]='',_0x36a15e[_0x395bcb(0xbdb)]='',_0x47b99a['value']='';_0x27d0c6[_0x395bcb(0xd75)][_0x395bcb(0x8cc)](_0x395bcb(0x721));}async function saveParallelTestShortcutChanges(){const _0x5b2cb4=_0x315eb9,_0x215645=document[_0x5b2cb4(0x695)](_0x5b2cb4(0x3dd))[_0x5b2cb4(0xbdb)],_0x4bbb52=document[_0x5b2cb4(0x695)]('parallel-shortcut-name-input')[_0x5b2cb4(0xbdb)][_0x5b2cb4(0xbcf)](),_0xe53305=document[_0x5b2cb4(0x695)](_0x5b2cb4(0x757))['value'][_0x5b2cb4(0xbcf)]();if(!_0x4bbb52){showMessage(_0x5b2cb4(0xa44));return;}const _0x36d756={'id':_0x215645||_0x5b2cb4(0xa12)+Date[_0x5b2cb4(0x320)](),'name':_0x4bbb52,'url':_0xe53305,'isDefault':_0x215645[_0x5b2cb4(0x6db)](_0x5b2cb4(0x316))};let _0x3711f7;_0x215645?_0x3711f7=parallelTestShortcuts[_0x5b2cb4(0x947)](_0x3b03c6=>_0x3b03c6['id']===_0x215645?_0x36d756:_0x3b03c6):_0x3711f7=[...parallelTestShortcuts,_0x36d756];try{const _0x4eed4e=doc(db,'globalSettings',_0x5b2cb4(0xd8d));await setDoc(_0x4eed4e,{'shortcuts':_0x3711f7},{'merge':!![]}),document[_0x5b2cb4(0x695)](_0x5b2cb4(0x345))['classList'][_0x5b2cb4(0x8d6)](_0x5b2cb4(0x721));}catch(_0xe1aa24){console[_0x5b2cb4(0xb62)](_0x5b2cb4(0x8d0),_0xe1aa24),showMessage(_0x5b2cb4(0x9e7));}}async function handleParallelTestShortcutClick(_0x70d884){const _0x1d776c=_0x315eb9,_0x29fd95=parallelTestShortcuts['find'](_0x418681=>_0x418681['id']===_0x70d884);if(!_0x29fd95)return;if(!_0x29fd95[_0x1d776c(0x822)]||_0x29fd95[_0x1d776c(0x822)]['trim']()===''){openParallelTestShortcutEditor(_0x70d884);return;}const _0x1e0b03=document[_0x1d776c(0x695)](_0x1d776c(0x2da)),_0x3c3846=document[_0x1d776c(0x695)](_0x1d776c(0x2ad));document[_0x1d776c(0x695)](_0x1d776c(0xbec))['classList']['remove'](_0x1d776c(0x721)),document['getElementById'](_0x1d776c(0x82e))[_0x1d776c(0xb6b)]='',_0x1e0b03['classList'][_0x1d776c(0x8cc)](_0x1d776c(0x721)),_0x3c3846[_0x1d776c(0x97a)]=_0x1d776c(0x800);try{let _0x3d8bbb;_0x29fd95[_0x1d776c(0x822)][_0x1d776c(0x766)]()[_0x1d776c(0xcac)](_0x1d776c(0x40a))?_0x3d8bbb='source_document.txt':_0x3d8bbb='source_document.pdf';const _0x3cd8ba=await fetchFileFromUrl(_0x29fd95[_0x1d776c(0x822)],_0x3d8bbb);await handleGenerateParallelTest(_0x3cd8ba);}catch(_0x29d811){console[_0x1d776c(0xb62)](_0x1d776c(0x80e),_0x29d811),showMessage(_0x1d776c(0x99a)+_0x29d811[_0x1d776c(0x9eb)]),_0x1e0b03[_0x1d776c(0xd75)][_0x1d776c(0x8d6)](_0x1d776c(0x721));}}function initializeScratchpadCanvas(){const _0x3be7e7=_0x315eb9,_0x5a6d52=document['getElementById'](_0x3be7e7(0x90f)),_0x2b7226=document[_0x3be7e7(0xc31)](_0x3be7e7(0xda0));if(!_0x5a6d52||!_0x2b7226)return;scratchpadCtx=_0x5a6d52[_0x3be7e7(0xa09)]('2d',{'willReadFrequently':!![]});const _0xffadae=window[_0x3be7e7(0xb0c)]||0x1,_0x31c477=_0x2b7226[_0x3be7e7(0xc27)]();_0x5a6d52[_0x3be7e7(0x7c1)]=_0x31c477['width']*_0xffadae,_0x5a6d52['height']=_0x31c477['height']*_0xffadae,_0x5a6d52[_0x3be7e7(0x7a9)][_0x3be7e7(0x7c1)]=_0x31c477['width']+'px',_0x5a6d52['style'][_0x3be7e7(0x6b1)]=_0x31c477[_0x3be7e7(0x6b1)]+'px',scratchpadCtx[_0x3be7e7(0x23f)](_0xffadae,_0xffadae),scratchpadCtx[_0x3be7e7(0xa1c)]=_0x3be7e7(0xb77),scratchpadCtx[_0x3be7e7(0x9b6)]=_0x3be7e7(0xb77),_0x5a6d52[_0x3be7e7(0x538)](_0x3be7e7(0x470),handlePointerDown),_0x5a6d52[_0x3be7e7(0x538)](_0x3be7e7(0xbcb),handlePointerMove),_0x5a6d52['removeEventListener'](_0x3be7e7(0x213),handlePointerUp),_0x5a6d52[_0x3be7e7(0x538)](_0x3be7e7(0x836),handlePointerUp),_0x5a6d52[_0x3be7e7(0x538)](_0x3be7e7(0xd71),handleWheel),_0x5a6d52[_0x3be7e7(0x538)](_0x3be7e7(0x682),handlePointerDown),_0x5a6d52['removeEventListener']('touchmove',handlePointerMove),_0x5a6d52[_0x3be7e7(0x538)](_0x3be7e7(0x5dc),handlePointerUp),_0x5a6d52[_0x3be7e7(0x59b)](_0x3be7e7(0x470),handlePointerDown),_0x5a6d52[_0x3be7e7(0x59b)]('pointermove',handlePointerMove),_0x5a6d52[_0x3be7e7(0x59b)](_0x3be7e7(0x213),handlePointerUp),_0x5a6d52[_0x3be7e7(0x59b)]('pointercancel',handlePointerUp),_0x5a6d52[_0x3be7e7(0x59b)](_0x3be7e7(0xd71),handleWheel,{'passive':![]}),_0x5a6d52[_0x3be7e7(0x59b)](_0x3be7e7(0x682),handlePointerDown,{'passive':![]}),_0x5a6d52[_0x3be7e7(0x59b)](_0x3be7e7(0x7f5),handlePointerMove,{'passive':![]}),_0x5a6d52[_0x3be7e7(0x59b)](_0x3be7e7(0x5dc),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x7298e1=_0x315eb9,_0x58b0ae=document['getElementById'](_0x7298e1(0x207)),_0x1055df=document[_0x7298e1(0x695)]('scratchpad-controls');_0x1055df[_0x7298e1(0xb6b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>'+scratchpadHighlighterSize+_0x7298e1(0x5b0);const _0x5c66cc=document[_0x7298e1(0x695)](_0x7298e1(0x6fe)),_0x798629=document[_0x7298e1(0x695)](_0x7298e1(0xc25)),_0x324e1b=document['getElementById'](_0x7298e1(0x809)),_0x25764d=document[_0x7298e1(0x695)]('highlighter-tool-btn'),_0x5e14f2=document[_0x7298e1(0x695)](_0x7298e1(0xd12)),_0x497e3d=document[_0x7298e1(0x695)]('highlighter-tools-group'),_0x305c68=document[_0x7298e1(0x695)](_0x7298e1(0xa2b)),_0x4f7bb3=[_0x5c66cc,_0x798629,_0x324e1b,_0x25764d];document['getElementById'](_0x7298e1(0x563))[_0x7298e1(0x59b)]('click',()=>_0x58b0ae[_0x7298e1(0xd75)][_0x7298e1(0x8d6)](_0x7298e1(0x721))),document[_0x7298e1(0x695)](_0x7298e1(0x707))['addEventListener'](_0x7298e1(0xc9a),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document['getElementById']('scratchpad-clear-btn')[_0x7298e1(0x59b)](_0x7298e1(0xc9a),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x7298e1(0x695)](_0x7298e1(0x679))['addEventListener']('click',undo),document[_0x7298e1(0x695)]('redo-btn')[_0x7298e1(0x59b)](_0x7298e1(0xc9a),redo);const _0x3c5852=_0x2e5c7d=>{const _0x12699a=_0x7298e1;_0x4f7bb3[_0x12699a(0x2d4)](_0x16e312=>_0x16e312['classList']['remove'](_0x12699a(0xb81))),_0x2e5c7d[_0x12699a(0xd75)][_0x12699a(0x8d6)]('active'),_0x5e14f2[_0x12699a(0xd75)]['add']('hidden'),_0x497e3d['classList'][_0x12699a(0x8d6)]('hidden'),_0x305c68[_0x12699a(0xd75)][_0x12699a(0x8d6)]('hidden');if(activeTool===_0x12699a(0xc1c)||activeTool===_0x12699a(0x307))_0x5e14f2['classList']['remove'](_0x12699a(0x721));else{if(activeTool==='highlighter')_0x497e3d[_0x12699a(0xd75)][_0x12699a(0x8cc)]('hidden');else activeTool===_0x12699a(0x4a3)&&_0x305c68[_0x12699a(0xd75)][_0x12699a(0x8cc)](_0x12699a(0x721));}};_0x5c66cc[_0x7298e1(0x59b)](_0x7298e1(0xc9a),()=>{const _0x443da9=_0x7298e1;activeTool=_0x443da9(0xc1c),_0x3c5852(_0x5c66cc);}),_0x798629['addEventListener'](_0x7298e1(0xc9a),()=>{const _0x2f36eb=_0x7298e1;activeTool=_0x2f36eb(0x4a3),_0x3c5852(_0x798629);}),_0x324e1b[_0x7298e1(0x59b)](_0x7298e1(0xc9a),()=>{const _0x58e7cc=_0x7298e1;activeTool=_0x58e7cc(0x307),_0x3c5852(_0x324e1b);}),_0x25764d['addEventListener'](_0x7298e1(0xc9a),()=>{const _0x191aaa=_0x7298e1;activeTool=_0x191aaa(0xa6a),_0x3c5852(_0x25764d);}),_0x5e14f2['querySelectorAll'](_0x7298e1(0x27a))['forEach'](_0xc85010=>{const _0x1e5343=_0x7298e1;_0xc85010[_0x1e5343(0x59b)](_0x1e5343(0xc9a),_0x4bae9b=>{const _0x35db53=_0x1e5343;scratchpadPenSize=parseInt(_0x4bae9b['target'][_0x35db53(0x4b5)]['size'],0xa),_0x5e14f2[_0x35db53(0x4e3)](_0x35db53(0x27a))['forEach'](_0x5cbb42=>_0x5cbb42[_0x35db53(0xd75)]['remove'](_0x35db53(0xb81))),_0x4bae9b[_0x35db53(0x819)][_0x35db53(0xd75)]['add'](_0x35db53(0xb81));});}),_0x305c68[_0x7298e1(0x4e3)](_0x7298e1(0x234))['forEach'](_0x405851=>{const _0x2f8724=_0x7298e1;_0x405851[_0x2f8724(0x59b)]('click',_0x2b7f25=>{const _0x2cf3ad=_0x2f8724,_0x12ac95=_0x2b7f25[_0x2cf3ad(0x4de)];scratchpadEraserSize=parseInt(_0x12ac95[_0x2cf3ad(0x4b5)]['size'],0xa),_0x305c68[_0x2cf3ad(0x4e3)](_0x2cf3ad(0x234))[_0x2cf3ad(0x2d4)](_0x973f92=>_0x973f92[_0x2cf3ad(0xd75)][_0x2cf3ad(0x8cc)]('active')),_0x12ac95[_0x2cf3ad(0xd75)][_0x2cf3ad(0x8d6)](_0x2cf3ad(0xb81));});}),_0x5e14f2['querySelectorAll']('.pen-color-btn')[_0x7298e1(0x2d4)](_0x1eb351=>{const _0xcefd24=_0x7298e1;_0x1eb351['addEventListener'](_0xcefd24(0xc9a),_0x432d31=>{const _0x1b6edf=_0xcefd24;scratchpadPenColor=_0x432d31[_0x1b6edf(0x819)][_0x1b6edf(0x4b5)]['color'],_0x5e14f2['querySelectorAll']('.pen-color-btn')[_0x1b6edf(0x2d4)](_0x8bb373=>_0x8bb373[_0x1b6edf(0xd75)]['remove'](_0x1b6edf(0xb81))),_0x432d31[_0x1b6edf(0x819)][_0x1b6edf(0xd75)][_0x1b6edf(0x8d6)](_0x1b6edf(0xb81));});}),_0x497e3d[_0x7298e1(0x4e3)]('.highlighter-color-btn')[_0x7298e1(0x2d4)](_0xa54377=>{const _0x2258b6=_0x7298e1;_0xa54377[_0x2258b6(0x59b)](_0x2258b6(0xc9a),_0x3df1ed=>{const _0x32ae95=_0x2258b6;scratchpadHighlighterColor=_0x3df1ed[_0x32ae95(0x819)][_0x32ae95(0x4b5)][_0x32ae95(0xd49)],_0x497e3d['querySelectorAll'](_0x32ae95(0x1f8))[_0x32ae95(0x2d4)](_0x1649e4=>_0x1649e4[_0x32ae95(0xd75)]['remove']('active')),_0x3df1ed['target'][_0x32ae95(0xd75)][_0x32ae95(0x8d6)](_0x32ae95(0xb81));});});const _0x464237=document['getElementById'](_0x7298e1(0x251)),_0x5f1f58=document[_0x7298e1(0x695)](_0x7298e1(0x20b));_0x464237[_0x7298e1(0x59b)](_0x7298e1(0xb7f),_0x30f5d5=>{const _0x373b81=_0x7298e1,_0x302e67=parseInt(_0x30f5d5[_0x373b81(0x819)][_0x373b81(0xbdb)],0xa);scratchpadHighlighterSize=_0x302e67,_0x5f1f58[_0x373b81(0x97a)]=_0x302e67;}),window['addEventListener'](_0x7298e1(0x3f3),()=>{const _0x2768e7=_0x7298e1;!_0x58b0ae[_0x2768e7(0xd75)][_0x2768e7(0x9d9)](_0x2768e7(0x721))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':_0x315eb9(0x715),'description':_0x315eb9(0xbef),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':'quick_thinker','name':_0x315eb9(0xc21),'description':_0x315eb9(0xd84),'icon':_0x315eb9(0x6a5)},'ON_FIRE':{'id':_0x315eb9(0xc46),'name':_0x315eb9(0x3cb),'description':_0x315eb9(0x908),'icon':_0x315eb9(0xc84)},'FIRST_TRY_ACE':{'id':_0x315eb9(0x5e5),'name':_0x315eb9(0x475),'description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':_0x315eb9(0xbab)},'COMEBACK_KING':{'id':_0x315eb9(0x9e6),'name':'ราชาคัมแบ็ก','description':_0x315eb9(0x8f0),'icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':_0x315eb9(0x696),'name':_0x315eb9(0x542),'description':_0x315eb9(0x8fb),'icon':_0x315eb9(0x310)},'PERSEVERANCE':{'id':'perseverance','name':_0x315eb9(0x918),'description':_0x315eb9(0xc43),'icon':_0x315eb9(0x466)}},firebaseConfig={'apiKey':'AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','authDomain':_0x315eb9(0x668),'projectId':_0x315eb9(0x765),'storageBucket':_0x315eb9(0x4d0),'messagingSenderId':_0x315eb9(0x378),'appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':_0x315eb9(0x7c7)},appId=typeof __app_id!=='undefined'?__app_id:'ai-quiz-generator-v3',adminView=document[_0x315eb9(0x695)](_0x315eb9(0xc7e)),studentView=document[_0x315eb9(0x695)](_0x315eb9(0x59c)),projectDashboardView=document[_0x315eb9(0x695)](_0x315eb9(0x28b)),projectDetailView=document[_0x315eb9(0x695)](_0x315eb9(0xa90)),quizResultsView=document[_0x315eb9(0x695)](_0x315eb9(0x986)),projectList=document[_0x315eb9(0x695)](_0x315eb9(0x3bf)),noProjectsMsg=document[_0x315eb9(0x695)]('no-projects-msg'),projectTitle=document[_0x315eb9(0x695)](_0x315eb9(0x6ac)),projectIdDisplay=document[_0x315eb9(0x695)](_0x315eb9(0x856)),studentList=document[_0x315eb9(0x695)](_0x315eb9(0xb64)),messageModal=document[_0x315eb9(0x695)](_0x315eb9(0x4be)),modalMessage=document[_0x315eb9(0x695)](_0x315eb9(0x61c)),createProjectModal=document[_0x315eb9(0x695)](_0x315eb9(0x41d)),adminPasswordModal=document['getElementById'](_0x315eb9(0x2e7)),confirmationModal=document[_0x315eb9(0x695)](_0x315eb9(0xc0f)),userIdDisplay=document['getElementById'](_0x315eb9(0xa56)),topicTab=document[_0x315eb9(0x695)](_0x315eb9(0x4c7)),textTab=document[_0x315eb9(0x695)]('text-tab'),topicInputArea=document[_0x315eb9(0x695)](_0x315eb9(0x58e)),textInputArea=document['getElementById'](_0x315eb9(0x821)),manageTab=document[_0x315eb9(0x695)](_0x315eb9(0x9d6)),resultsTab=document[_0x315eb9(0x695)]('results-tab'),leaderboardTab=document['getElementById'](_0x315eb9(0x250)),manageTabContent=document['getElementById'](_0x315eb9(0x25a)),resultsTabContent=document[_0x315eb9(0x695)]('results-tab-content'),leaderboardTabContent=document[_0x315eb9(0x695)]('leaderboard-tab-content'),projectQuizzesList=document[_0x315eb9(0x695)]('project-quizzes-list'),fileTab=document[_0x315eb9(0x695)](_0x315eb9(0x223)),fileInputArea=document[_0x315eb9(0x695)]('file-input-area'),fileUploadInput=document[_0x315eb9(0x695)]('file-upload-input'),worksheetTab=document[_0x315eb9(0x695)](_0x315eb9(0x9fe)),worksheetInputArea=document[_0x315eb9(0x695)](_0x315eb9(0x98d)),generateWorksheetBtn=document[_0x315eb9(0x695)](_0x315eb9(0x683)),studentInitialView=document[_0x315eb9(0x695)](_0x315eb9(0x546)),studentNameSelectionView=document[_0x315eb9(0x695)]('student-name-selection-view'),studentQuizArea=document[_0x315eb9(0x695)]('student-quiz-area'),studentResultArea=document['getElementById'](_0x315eb9(0xa5b)),studentReadingArea=document[_0x315eb9(0x695)](_0x315eb9(0xa80)),loadQuizBtn=document[_0x315eb9(0x695)]('load-quiz-btn'),startQuizBtn=document[_0x315eb9(0x695)]('start-quiz-btn'),studentJoinGameView=document[_0x315eb9(0x695)](_0x315eb9(0x2b6)),presentationModal=document['getElementById'](_0x315eb9(0xb48)),renameQuizModal=document[_0x315eb9(0x695)](_0x315eb9(0x9b1)),moveQuizModal=document['getElementById']('move-quiz-modal'),quizSettingsModal=document['getElementById']('quiz-settings-modal'),quizStatusModal=document[_0x315eb9(0x695)]('quiz-status-modal'),liveGameView=document[_0x315eb9(0x695)](_0x315eb9(0xb2c));function handleFixLessonLatex(){const _0x1f0ed8=_0x315eb9,_0x499648=document[_0x1f0ed8(0x695)](_0x1f0ed8(0x5f9));if(!_0x499648){showMessage('ไม่พบเนื้อหาบทเรียนที่จะแก้ไข');return;}const _0x28afb3=_0x499648[_0x1f0ed8(0x4e3)]([_0x1f0ed8(0x38f),'.ai-content\x20li','.ai-content\x20blockquote',_0x1f0ed8(0x8eb),_0x1f0ed8(0x246)][_0x1f0ed8(0x6f5)](','));let _0x466d1f=0x0;const _0x5a1bd7=_0x4d3b2b=>_0x4d3b2b[_0x1f0ed8(0x97a)]||'',_0x4530ff=(_0x15567c,_0xcb4e7b)=>{const _0x24e90d=_0x1f0ed8;if(_0x15567c['querySelector']&&_0x15567c[_0x24e90d(0xc31)]('mjx-container'))return;_0x15567c[_0x24e90d(0x97a)]=_0xcb4e7b;},_0x32a87e=_0x6fceb8=>_0x6fceb8['replace'](/\u00A0/g,'\x20')[_0x1f0ed8(0x963)](/\u200B/g,'')[_0x1f0ed8(0x963)](/\r\n?/g,'\x0a'),_0xa66fe2=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x5958e2=_0x11a89b=>{const _0x2a5073=_0x1f0ed8;let _0x230bc1=_0x11a89b['trim']();const _0x1d4997=['frac','dfrac',_0x2a5073(0x6c5),_0x2a5073(0x266),'text',_0x2a5073(0x6dd),_0x2a5073(0x51f),'div',_0x2a5073(0x5f6),_0x2a5073(0x453),'le','ge',_0x2a5073(0x626),'pm',_0x2a5073(0x989),_0x2a5073(0xc96),'cos',_0x2a5073(0x432),'log','ln','sum',_0x2a5073(0x49f),'binom','left','right','overline',_0x2a5073(0x943),'circ',_0x2a5073(0xbd7)];_0x1d4997[_0x2a5073(0x2d4)](_0x119f03=>{const _0x316db8=_0x2a5073;_0x230bc1=_0x230bc1[_0x316db8(0x963)](new RegExp(_0x316db8(0x7da)+_0x119f03+'\x5cb','g'),(_0x584990,_0x4db5ba)=>_0x4db5ba+'\x5c'+_0x119f03);});const _0x1ff630=[[/×/g,_0x2a5073(0xba2)],[/·/g,'\x5ccdot'],[/÷/g,_0x2a5073(0x237)],[/≤/g,_0x2a5073(0x93c)],[/≥/g,'\x5cge'],[/≠/g,_0x2a5073(0x6f1)],[/±/g,_0x2a5073(0x616)],[/∑/g,'\x5csum'],[/−/g,'-']];return _0x1ff630[_0x2a5073(0x2d4)](([_0xb11b17,_0x583c5e])=>{_0x230bc1=_0x230bc1['replace'](_0xb11b17,_0x583c5e);}),_0x230bc1=_0x230bc1[_0x2a5073(0x963)](/√\s*([A-Za-z0-9]+)/g,_0x2a5073(0x5b4)),_0x230bc1=_0x230bc1[_0x2a5073(0x963)](/(\d+)\s*%/g,'$1\x5c%'),_0x230bc1;},_0x297c5f=_0x14e57e=>{const _0x1911ea=_0x1f0ed8;if(/\$|\\\(|\\\[/[_0x1911ea(0x462)](_0x14e57e))return _0x14e57e;if(!_0xa66fe2[_0x1911ea(0x462)](_0x14e57e))return _0x14e57e;const _0x269ede=_0x14e57e[_0x1911ea(0x5cf)](/^\s*/)[0x0],_0x2f52fb=_0x14e57e[_0x1911ea(0x5cf)](/\s*$/)[0x0],_0x1e6cbc=_0x14e57e[_0x1911ea(0xbcf)]();return _0x269ede+'$'+_0x5958e2(_0x1e6cbc)+'$'+_0x2f52fb;};_0x28afb3[_0x1f0ed8(0x2d4)](_0x4ca9a5=>{const _0x5197cd=_0x1f0ed8,_0x1399a1=_0x5a1bd7(_0x4ca9a5);let _0x449099=_0x32a87e(_0x1399a1);_0x449099=_0x449099[_0x5197cd(0x963)](/\$([^$]*?)\$/g,(_0x1a32fb,_0x45d9aa)=>'$'+_0x5958e2(_0x45d9aa)+'$');const _0x15c0a4=_0x449099[_0x5197cd(0x5fa)](/(\s+)/),_0x28e9ea=_0x15c0a4[_0x5197cd(0x947)](_0x184979=>{const _0x3a07f4=_0x5197cd;if(/\s+/[_0x3a07f4(0x462)](_0x184979))return _0x184979;return _0x297c5f(_0x184979);});_0x449099=_0x28e9ea['join'](''),_0x449099!==_0x1399a1&&(_0x4530ff(_0x4ca9a5,_0x449099),_0x466d1f++);});if(_0x466d1f>0x0){showMessage(_0x1f0ed8(0xd3e)+_0x466d1f+'\x20จุดเรียบร้อยแล้ว');try{window[_0x1f0ed8(0x3af)]&&MathJax[_0x1f0ed8(0xcaf)]&&MathJax[_0x1f0ed8(0xcaf)]([_0x499648]);}catch(_0x43a138){console['error'](_0x1f0ed8(0x875),_0x43a138);}}else showMessage(_0x1f0ed8(0x2f6));}function handleAutoFixLatex(){const _0xa8b48d=_0x315eb9,_0x36b1bf=document[_0xa8b48d(0x695)](_0xa8b48d(0x529))||document,_0xec5515=_0x36b1bf[_0xa8b48d(0x4e3)](_0xa8b48d(0xd61));let _0x105e6a=0x0;const _0x1434fc=_0x1a469f=>_0xa8b48d(0xbdb)in _0x1a469f?String(_0x1a469f[_0xa8b48d(0xbdb)]):_0x1a469f[_0xa8b48d(0x91f)]!==undefined?_0x1a469f[_0xa8b48d(0x91f)]:_0x1a469f[_0xa8b48d(0x97a)]||'',_0x18dbd7=(_0x11ccbc,_0xb9d835)=>{const _0x30f2a4=_0xa8b48d;if(_0x30f2a4(0xbdb)in _0x11ccbc){_0x11ccbc[_0x30f2a4(0xbdb)]=_0xb9d835;return;}if(_0x11ccbc[_0x30f2a4(0xc31)]&&_0x11ccbc['querySelector']('mjx-container'))return;if(_0x11ccbc[_0x30f2a4(0x91f)]!==undefined)_0x11ccbc[_0x30f2a4(0x91f)]=_0xb9d835;else _0x11ccbc[_0x30f2a4(0x97a)]=_0xb9d835;},_0x1fb7ef=_0x5228da=>_0x5228da[_0xa8b48d(0x963)](/\u00A0/g,'\x20')[_0xa8b48d(0x963)](/\u200B/g,'')[_0xa8b48d(0x963)](/\r\n?/g,'\x0a'),_0x4548fe=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x321e28=_0x1e4c9f=>{const _0x5a1eaa=_0xa8b48d;let _0x1c3b42=_0x1e4c9f[_0x5a1eaa(0xbcf)]();_0x1c3b42=_0x1c3b42['replace'](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,'\x5cfrac{$1}{$2}'),_0x1c3b42=_0x1c3b42['replace'](/\bfrac(\d)(\d)/g,'\x5cfrac{$1}{$2}');const _0x3e3b5b=[_0x5a1eaa(0x684),_0x5a1eaa(0x266),_0x5a1eaa(0x6dd),'cdot','div',_0x5a1eaa(0x5f6),_0x5a1eaa(0x453),_0x5a1eaa(0x626),'pm',_0x5a1eaa(0xc96),_0x5a1eaa(0xb47),_0x5a1eaa(0x432),_0x5a1eaa(0x95e),'ln'];_0x3e3b5b[_0x5a1eaa(0x2d4)](_0x58b91c=>{const _0x5545fe=_0x5a1eaa;_0x1c3b42=_0x1c3b42[_0x5545fe(0x963)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x58b91c+'\x5cb','g'),(_0x554f5e,_0x371b0d)=>_0x371b0d+'\x5c'+_0x58b91c);});const _0x46c5d1=[[/×/g,_0x5a1eaa(0xba2)],[/·/g,_0x5a1eaa(0x631)],[/÷/g,_0x5a1eaa(0x237)],[/≤/g,_0x5a1eaa(0x93c)],[/≥/g,_0x5a1eaa(0x295)],[/≠/g,_0x5a1eaa(0x6f1)],[/±/g,'\x5cpm']];return _0x46c5d1[_0x5a1eaa(0x2d4)](([_0x5a5a09,_0x423e64])=>{const _0x14bb93=_0x5a1eaa;_0x1c3b42=_0x1c3b42[_0x14bb93(0x963)](_0x5a5a09,_0x423e64);}),_0x1c3b42;},_0xb12874=_0xee37d9=>{const _0x1d3409=_0xa8b48d;if(/\$|\\\(|\\\[/[_0x1d3409(0x462)](_0xee37d9))return _0xee37d9;if(!_0x4548fe[_0x1d3409(0x462)](_0xee37d9))return _0xee37d9;const _0x3f3592=_0xee37d9[_0x1d3409(0x5cf)](/^\s*/)[0x0],_0x21cbf5=_0xee37d9[_0x1d3409(0x5cf)](/\s*$/)[0x0],_0x5a9e35=_0xee37d9[_0x1d3409(0xbcf)]();return _0x3f3592+'$'+_0x321e28(_0x5a9e35)+'$'+_0x21cbf5;};_0xec5515['forEach'](_0x3f571c=>{const _0x498c91=_0xa8b48d,_0x39cc03=_0x1434fc(_0x3f571c);let _0x3f418c=_0x1fb7ef(_0x39cc03);_0x3f418c=_0x3f418c[_0x498c91(0x963)](/\$([^$]*?)\$/g,(_0x1ef180,_0x3ea50a)=>'$'+_0x321e28(_0x3ea50a)+'$');const _0x5bf7b6=_0x3f418c[_0x498c91(0x5fa)](/(\s+)/),_0x5a9dcf=_0x5bf7b6[_0x498c91(0x947)](_0x21e5c2=>/\s+/['test'](_0x21e5c2)?_0x21e5c2:_0xb12874(_0x21e5c2));_0x3f418c=_0x5a9dcf['join'](''),_0x3f418c!==_0x39cc03&&(_0x18dbd7(_0x3f571c,_0x3f418c),_0x105e6a++);});if(_0x105e6a>0x0){showMessage(_0xa8b48d(0x99e)+_0x105e6a+_0xa8b48d(0xd10));try{if(window[_0xa8b48d(0x3af)]&&MathJax[_0xa8b48d(0xcaf)])MathJax[_0xa8b48d(0xcaf)]();}catch(_0x5b7f1b){}}else showMessage(_0xa8b48d(0x676));}async function listenForCustomMathTopics(){const _0x59b1ba=_0x315eb9,_0x8dadcf=collection(db,_0x59b1ba(0x2d5)+appId+_0x59b1ba(0xc2c));onSnapshot(_0x8dadcf,_0x17e65d=>{const _0x287a26=_0x59b1ba;customMathTopics=_0x17e65d[_0x287a26(0x80f)]['map'](_0x17f670=>({'id':_0x17f670['id'],..._0x17f670['data']()})),renderTopicCheckboxes();},_0x9d079c=>{const _0x1ee3aa=_0x59b1ba;console[_0x1ee3aa(0xb62)](_0x1ee3aa(0x886),_0x9d079c);});}function handleSelectAllTopics(){const _0x53a20a=_0x315eb9,_0x113722=document[_0x53a20a(0x695)](_0x53a20a(0x938)),_0x54f56d=_0x113722[_0x53a20a(0x4e3)](_0x53a20a(0xbbb));_0x54f56d[_0x53a20a(0x2d4)](_0x45894=>{const _0x49db2b=_0x53a20a;_0x45894[_0x49db2b(0x364)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0xddd69e=_0x315eb9,_0x20edd1=document[_0xddd69e(0x695)](_0xddd69e(0x938)),_0x5c0669=_0x20edd1[_0xddd69e(0x4e3)](_0xddd69e(0xbbb));_0x5c0669[_0xddd69e(0x2d4)](_0x360dbb=>{const _0x15cf85=_0xddd69e;_0x360dbb[_0x15cf85(0x364)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0xc74af7){const _0x4ccd80=_0x315eb9;if(!_0xc74af7)return;try{const _0x2255ea=doc(db,'artifacts/'+appId+_0x4ccd80(0xc2c),_0xc74af7);await deleteDoc(_0x2255ea),showMessage('ลบหัวข้อสำเร็จ');}catch(_0x4af121){console[_0x4ccd80(0xb62)]('Error\x20deleting\x20custom\x20topic:',_0x4af121),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x32c8b5=_0x315eb9,_0x23475e=document['getElementById'](_0x32c8b5(0x923)),_0x673227=_0x23475e[_0x32c8b5(0xbdb)][_0x32c8b5(0xbcf)]();if(!_0x673227){showMessage(_0x32c8b5(0x4fe));return;}if(!userId){showMessage(_0x32c8b5(0xaa8));return;}try{const _0x1b775d=collection(db,_0x32c8b5(0x2d5)+appId+_0x32c8b5(0xc2c));await addDoc(_0x1b775d,{'name':_0x673227,'createdAt':serverTimestamp()}),_0x23475e[_0x32c8b5(0xbdb)]='',showMessage('เพิ่มหัวข้อ\x20\x22'+_0x673227+_0x32c8b5(0x9a7));}catch(_0x3bcb06){console[_0x32c8b5(0xb62)](_0x32c8b5(0xbb9),_0x3bcb06),showMessage(_0x32c8b5(0x957));}}async function handleUpdateOldQuizzes(){const _0x56a2db=_0x315eb9;showConfirmation(_0x56a2db(0x6bf),async()=>{const _0x5db560=_0x56a2db,_0x79d062=document['getElementById'](_0x5db560(0x2da)),_0x15a8a5=document[_0x5db560(0x695)](_0x5db560(0x2ad)),_0x5671ed=_0x15a8a5[_0x5db560(0x97a)];_0x79d062[_0x5db560(0xd75)][_0x5db560(0x8cc)]('hidden'),_0x15a8a5['textContent']=_0x5db560(0x723);try{const _0x2c4655=collection(db,_0x5db560(0x2d5)+appId+_0x5db560(0xc5d)),_0x1657f4=await getDocs(_0x2c4655);if(_0x1657f4[_0x5db560(0x7e1)]){showMessage(_0x5db560(0x7b6));return;}const _0x43c950=writeBatch(db);let _0x4cb1af=0x0;_0x1657f4[_0x5db560(0x2d4)](_0x16910f=>{const _0x36b8d8=_0x5db560,_0x2dce98=_0x16910f[_0x36b8d8(0x5ac)](),_0x53215d=_0x16910f['id'];if(_0x2dce98[_0x36b8d8(0xab9)]&&_0x2dce98['questions']['length']>0x0&&!_0x2dce98[_0x36b8d8(0xab9)][0x0][_0x36b8d8(0xd9d)]('id')){console['log'](_0x36b8d8(0xbde)+_0x53215d+'\x20('+_0x2dce98['topic']+')'),_0x4cb1af++;const _0x4f36f7=_0x2dce98['questions'][_0x36b8d8(0x947)]((_0xd0349a,_0x7712d7)=>{const _0x294945=_0x36b8d8;return{..._0xd0349a,'id':_0xd0349a['id']||'q_'+Date[_0x294945(0x320)]()+'_'+_0x53215d+'_'+_0x7712d7};}),_0x5154e1=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x53215d);_0x43c950['update'](_0x5154e1,{'questions':_0x4f36f7});}}),_0x4cb1af>0x0?(_0x15a8a5[_0x5db560(0x97a)]=_0x5db560(0x3da)+_0x4cb1af+'\x20รายการ...',await _0x43c950[_0x5db560(0xba4)](),showMessage(_0x5db560(0x5ba)+_0x4cb1af+_0x5db560(0x5fe))):showMessage(_0x5db560(0x5c6));}catch(_0x4b3c81){console['error'](_0x5db560(0x7c0),_0x4b3c81),showMessage(_0x5db560(0x5c3)+_0x4b3c81['message']);}finally{_0x79d062['classList'][_0x5db560(0x8d6)](_0x5db560(0x721)),_0x15a8a5[_0x5db560(0x97a)]=_0x5671ed;}});}async function handleBulkUpdateQuizSettings(){const _0x534fbc=_0x315eb9,_0x3f8c36={'shuffle':document[_0x534fbc(0x695)](_0x534fbc(0x806))[_0x534fbc(0xbdb)],'resultsDisplay':document[_0x534fbc(0x695)]('bulk-results-display-select')[_0x534fbc(0xbdb)],'loopUntilPass':document[_0x534fbc(0x695)](_0x534fbc(0x32f))[_0x534fbc(0x364)],'isConfidenceScoringEnabled':document[_0x534fbc(0x695)](_0x534fbc(0x48a))['checked'],'confidenceMode':document[_0x534fbc(0x695)](_0x534fbc(0x48e))['value']};try{showMessage(_0x534fbc(0x8f7));const _0x3e5cdd=await getDocs(collection(db,_0x534fbc(0x2d5)+appId+_0x534fbc(0xc5d))),_0x30900e=_0x3e5cdd[_0x534fbc(0x80f)][_0x534fbc(0x947)](_0x1d8886=>({'id':_0x1d8886['id'],'data':_0x1d8886[_0x534fbc(0x5ac)]()})),_0xa643a9=_0x30900e[_0x534fbc(0xca6)];showConfirmation(_0x534fbc(0x78c)+_0xa643a9+'\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x592a13=_0x534fbc,_0x3ea134=document[_0x592a13(0x695)](_0x592a13(0x883));_0x3ea134[_0x592a13(0x22a)]=!![],_0x3ea134[_0x592a13(0xb6b)]=_0x592a13(0x916);try{const _0x3e7f48=writeBatch(db);_0x30900e[_0x592a13(0x2d4)](_0x923420=>{const _0x607d09=_0x592a13,_0x5547b1=doc(db,_0x607d09(0x2d5)+appId+'/public/data/quizzes',_0x923420['id']),_0x5e7b67={..._0x923420[_0x607d09(0x5ac)][_0x607d09(0x516)]||{},..._0x3f8c36};_0x3e7f48['update'](_0x5547b1,{'settings':_0x5e7b67});}),await _0x3e7f48['commit'](),document[_0x592a13(0x695)](_0x592a13(0x92d))[_0x592a13(0xd75)]['add'](_0x592a13(0x721)),showMessage(_0x592a13(0xc5e)+_0xa643a9+_0x592a13(0xcd1));}catch(_0xaf33a3){console[_0x592a13(0xb62)](_0x592a13(0x372),_0xaf33a3),showMessage(_0x592a13(0x8c5));}finally{_0x3ea134[_0x592a13(0x22a)]=![],_0x3ea134[_0x592a13(0xb6b)]=_0x592a13(0x82d);}});}catch(_0x43de50){console[_0x534fbc(0xb62)](_0x534fbc(0x3f9),_0x43de50),showMessage(_0x534fbc(0x628));}}async function handleSaveProjectName(){const _0x40892a=_0x315eb9,_0x34cd4a=document[_0x40892a(0x695)](_0x40892a(0x6ac)),_0x25700d=document[_0x40892a(0x695)]('save-project-name-btn'),_0x27c0f2=_0x34cd4a[_0x40892a(0x97a)][_0x40892a(0xbcf)]();if(!_0x27c0f2||!currentProjectId){showMessage(_0x40892a(0x344)),_0x34cd4a[_0x40892a(0x97a)]=currentProjectData['projectName'];return;}_0x25700d[_0x40892a(0x22a)]=!![],_0x25700d[_0x40892a(0xb6b)]=_0x40892a(0xa89);try{const _0x2571da=doc(db,_0x40892a(0x2d5)+appId+_0x40892a(0x36a),currentProjectId);await updateDoc(_0x2571da,{'projectName':_0x27c0f2}),currentProjectData&&(currentProjectData[_0x40892a(0x36b)]=_0x27c0f2),showMessage(_0x40892a(0xb51));}catch(_0x461942){console[_0x40892a(0xb62)](_0x40892a(0x3e1),_0x461942),showMessage(_0x40892a(0x9e7)),_0x34cd4a['textContent']=currentProjectData[_0x40892a(0x36b)];}finally{_0x25700d['classList']['add'](_0x40892a(0x721)),_0x25700d['disabled']=![],_0x25700d[_0x40892a(0xb6b)]=_0x40892a(0x69f);}}function handleGeneratePracticeTest(_0x71149f,_0x5b66e4){const _0x182d91=_0x315eb9,_0x39e4f7=document[_0x182d91(0x695)](_0x182d91(0x756)),_0x1757c4=document[_0x182d91(0x695)]('lesson-view-title'),_0x3a876c=document[_0x182d91(0x695)](_0x182d91(0xc1e)),_0x5c067d=document[_0x182d91(0x695)]('lesson-sections-container');_0x1757c4[_0x182d91(0x97a)]=_0x182d91(0x48f)+_0x71149f,_0x5c067d[_0x182d91(0xd75)]['add'](_0x182d91(0x721)),_0x3a876c[_0x182d91(0xd75)][_0x182d91(0x8cc)](_0x182d91(0x721)),_0x39e4f7['classList'][_0x182d91(0x8cc)](_0x182d91(0x721)),generatePracticeTest(_0x71149f,_0x5b66e4)[_0x182d91(0x346)](_0x4f1cd6=>{const _0x12724d=_0x182d91;console['error']('Failed\x20to\x20generate\x20practice\x20test:',_0x4f1cd6),showMessage(_0x12724d(0x9f8)),_0x39e4f7[_0x12724d(0xd75)][_0x12724d(0x8d6)](_0x12724d(0x721));});}async function generatePracticeTest(_0x3c7504,_0x3582b3){const _0x64ca8d=_0x315eb9;[_0x64ca8d(0xa48),_0x64ca8d(0x44f),_0x64ca8d(0xb03),_0x64ca8d(0x443)]['forEach'](_0x4545eb=>{const _0x9a5932=_0x64ca8d,_0x4ed7b6=document[_0x9a5932(0x695)](_0x4545eb)['parentElement'];_0x4ed7b6&&(_0x4ed7b6[_0x9a5932(0x7a9)][_0x9a5932(0x9e8)]=_0x9a5932(0x4f9));});try{const _0x283a7c='โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด',_0xdaff1a=_0x64ca8d(0xb6e)+_0x3582b3+'\x27\x20ในหัวข้อ\x20\x27'+_0x3c7504+_0x64ca8d(0x8c6),_0x4a7677=await callGemini(_0xdaff1a,!![]),_0x14887b=document[_0x64ca8d(0x695)]('lesson-view-title'),_0x544245=document[_0x64ca8d(0x695)](_0x64ca8d(0xc1e)),_0x535439=document[_0x64ca8d(0x695)](_0x64ca8d(0x5b3)),_0x20f21c=document[_0x64ca8d(0x695)](_0x64ca8d(0xb03))[_0x64ca8d(0xcf8)];_0x14887b[_0x64ca8d(0x91f)]=_0x64ca8d(0x4ad)+_0x3c7504[_0x64ca8d(0x963)](/•\s/g,'')+_0x64ca8d(0x256)+_0x3582b3+')',currentApplicationData=JSON[_0x64ca8d(0x55c)](_0x4a7677);const _0x6885b0=document[_0x64ca8d(0x695)](_0x64ca8d(0xb03));_0x6885b0[_0x64ca8d(0xb6b)]=currentApplicationData['map']((_0x3cfcd8,_0x3e0744)=>_0x64ca8d(0xd77)+(_0x3e0744+0x1)+'.\x20'+marked[_0x64ca8d(0x9a6)](_0x3cfcd8[_0x64ca8d(0x3ab)])+_0x64ca8d(0xb8d)+_0x3e0744+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3cfcd8[_0x64ca8d(0x6ce)][_0x64ca8d(0x947)]((_0x4178f1,_0x4c9c80)=>_0x64ca8d(0x81a)+_0x3e0744+',\x20'+_0x4c9c80+_0x64ca8d(0x394)+String[_0x64ca8d(0xc63)](0x61+_0x4c9c80)+'.\x20'+marked['parseInline'](_0x4178f1)+_0x64ca8d(0xd93))[_0x64ca8d(0x6f5)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x64ca8d(0x6f5)](''),window[_0x64ca8d(0x3af)]&&MathJax[_0x64ca8d(0xcaf)]([_0x6885b0]),_0x20f21c&&(_0x20f21c[_0x64ca8d(0x7a9)][_0x64ca8d(0x9e8)]=_0x64ca8d(0xc58)),_0x544245[_0x64ca8d(0xd75)]['add']('hidden'),_0x535439[_0x64ca8d(0xd75)]['remove'](_0x64ca8d(0x721));}catch(_0x2df48b){console[_0x64ca8d(0xb62)](_0x2df48b);throw _0x2df48b;}}async function callGemini(_0x550501,_0x48de71=![]){const _0x1d57f5=_0x315eb9,_0x5519f5='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x62ae5f='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x5519f5,_0x2a7088={'contents':[{'parts':[{'text':_0x550501}]}]};_0x48de71&&(_0x2a7088['generationConfig']={'responseMimeType':'application/json'},_0x550501[_0x1d57f5(0xcac)](_0x1d57f5(0x751))?_0x2a7088[_0x1d57f5(0x33a)][_0x1d57f5(0x20e)]={'type':_0x1d57f5(0xac9),'properties':{'gradeLevel':{'type':_0x1d57f5(0x277)},'curriculum':{'type':_0x1d57f5(0x8fe),'items':{'type':_0x1d57f5(0xac9),'properties':{'sara':{'type':_0x1d57f5(0x277)},'mainTopics':{'type':'ARRAY','items':{'type':_0x1d57f5(0xac9),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0x1d57f5(0x8fe),'items':{'type':_0x1d57f5(0x277)}}},'required':[_0x1d57f5(0x3a1),'subTopics']}}},'required':[_0x1d57f5(0x31a),_0x1d57f5(0xa3f)]}}},'required':[_0x1d57f5(0xd89),'curriculum']}:_0x2a7088[_0x1d57f5(0x33a)]['responseSchema']={'type':_0x1d57f5(0x8fe),'items':{'type':_0x1d57f5(0xac9),'properties':{'question':{'type':_0x1d57f5(0x277)},'options':{'type':_0x1d57f5(0x8fe),'items':{'type':_0x1d57f5(0x277)}},'answer':{'type':_0x1d57f5(0x97c)}},'required':[_0x1d57f5(0x3ab),_0x1d57f5(0x6ce),'answer']}});try{const _0x1a28f8=await fetch(_0x62ae5f,{'method':_0x1d57f5(0xd20),'headers':{'Content-Type':_0x1d57f5(0x3c0)},'body':JSON['stringify'](_0x2a7088)});if(!_0x1a28f8['ok']){const _0xd0ecb2=await _0x1a28f8[_0x1d57f5(0x5f1)]();console[_0x1d57f5(0xb62)]('API\x20Error\x20Body:',_0xd0ecb2);throw new Error(_0x1d57f5(0xd21)+_0x1a28f8['status']);}const _0xf0897c=await _0x1a28f8[_0x1d57f5(0x8c2)]();if(_0xf0897c['candidates']&&_0xf0897c['candidates'][0x0]['content']&&_0xf0897c[_0x1d57f5(0x5ab)][0x0][_0x1d57f5(0x8fa)][_0x1d57f5(0x24c)][0x0])return _0xf0897c['candidates'][0x0][_0x1d57f5(0x8fa)][_0x1d57f5(0x24c)][0x0][_0x1d57f5(0x5f1)];else{console[_0x1d57f5(0xb62)]('Unexpected\x20API\x20response\x20structure:',_0xf0897c);if(_0xf0897c[_0x1d57f5(0x5ab)]&&_0xf0897c[_0x1d57f5(0x5ab)][0x0][_0x1d57f5(0x42e)]===_0x1d57f5(0x949))return JSON[_0x1d57f5(0xd46)]({'error':_0x1d57f5(0x9ac)});throw new Error('Invalid\x20response\x20structure\x20from\x20API.');}}catch(_0x188d46){console[_0x1d57f5(0xb62)](_0x1d57f5(0x494),_0x188d46);throw _0x188d46;}}async function generateLesson(_0x42cc8d=null,_0xd8065f=null){const _0x543c83=_0x315eb9,_0x16313e=_0x42cc8d,_0x3ec1c7=_0xd8065f||_0x543c83(0xb72),_0x453f97=document[_0x543c83(0x695)](_0x543c83(0xc1e)),_0x2d07aa=document[_0x543c83(0x695)](_0x543c83(0x2c4));_0x2d07aa[_0x543c83(0x97a)]='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0x16313e+_0x543c83(0x84c);try{let _0x3aca5a=[];const _0xc5b03e=document[_0x543c83(0x695)](_0x543c83(0x4bc))?.[_0x543c83(0xbdb)][_0x543c83(0xbcf)]();if(_0xc5b03e)try{_0x2d07aa[_0x543c83(0x97a)]=_0x543c83(0x7b4);const _0x1e8d68=await fetchFileFromUrl(_0xc5b03e,_0x543c83(0xd67)),_0x1860d0=await new Promise((_0x2bc747,_0x24c2b9)=>{const _0x8cb851=_0x543c83,_0x312d75=new FileReader();_0x312d75['readAsDataURL'](_0x1e8d68),_0x312d75[_0x8cb851(0x83e)]=()=>_0x2bc747(_0x312d75[_0x8cb851(0xa55)][_0x8cb851(0x5fa)](',')[0x1]),_0x312d75['onerror']=_0x24c2b9;});_0x3aca5a[_0x543c83(0xd41)]({'inlineData':{'mimeType':_0x1e8d68[_0x543c83(0x789)],'data':_0x1860d0}});}catch(_0x2ae474){console[_0x543c83(0xb62)](_0x543c83(0x900),_0x2ae474),showMessage(_0x543c83(0x557));}const _0x3f486b=_0x543c83(0x396)+_0x16313e+'\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22'+_0x16313e+_0x543c83(0x510);_0x2d07aa[_0x543c83(0x97a)]=_0x543c83(0x3f4)+_0x16313e+_0x543c83(0x84c);const _0x225d6f=_0x543c83(0x746)+_0x3ec1c7+_0x543c83(0xc37)+_0x16313e+_0x543c83(0x3d4)+_0x3f486b+_0x543c83(0x56f),_0x4da2b6=_0x543c83(0x51b)+_0x16313e+'\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27'+_0x3ec1c7+_0x543c83(0xc52)+_0x3f486b+_0x543c83(0x41a),_0x4831a1=_0x543c83(0xb6e)+_0x3ec1c7+'\x27\x20ในหัวข้อ\x20\x27'+_0x16313e+_0x543c83(0x430)+_0x3f486b+_0x543c83(0x574),_0x4ae96a=_0x543c83(0x477)+_0x16313e+'\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x3ec1c7+_0x543c83(0x7a6)+_0x3f486b+_0x543c83(0x3a6),_0x4a9260={'type':_0x543c83(0x8fe),'items':{'type':_0x543c83(0xac9),'properties':{'question':{'type':'STRING'},'options':{'type':_0x543c83(0x8fe),'items':{'type':_0x543c83(0x277)}},'answer':{'type':_0x543c83(0x97c)}},'required':[_0x543c83(0x3ab),'options','answer']}},[_0x3576ec,_0x218209,_0x4faaf1,_0x85c3c0]=await Promise[_0x543c83(0xcea)]([handleApiCall([{'text':_0x225d6f},..._0x3aca5a],_0x543c83(0x324),null,null,![]),handleApiCall([{'text':_0x4da2b6},..._0x3aca5a],_0x543c83(0x324),null,null,![]),handleApiCall([{'text':_0x4831a1},..._0x3aca5a],_0x543c83(0x324),_0x4a9260,null,![]),handleApiCall([{'text':_0x4ae96a},..._0x3aca5a],_0x543c83(0x324),null,null,![])]),_0x11441a=JSON[_0x543c83(0xd46)](_0x4faaf1||[]),_0x584439=document[_0x543c83(0x695)](_0x543c83(0xb75)),_0x2286ac=document[_0x543c83(0x695)](_0x543c83(0x5b3));_0x584439[_0x543c83(0x91f)]='บทเรียนเรื่อง:\x20'+_0x16313e[_0x543c83(0x963)](/•\\s/g,'')+'\x20(สำหรับ\x20'+_0x3ec1c7+')',['pointContent',_0x543c83(0x44f),_0x543c83(0x443)]['forEach'](_0x161c37=>{const _0x46c110=_0x543c83;document[_0x46c110(0x695)](_0x161c37)['innerHTML']='';}),document[_0x543c83(0x695)]('pointContent')[_0x543c83(0xb6b)]=_0x3576ec?marked[_0x543c83(0x55c)](_0x3576ec):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document[_0x543c83(0x695)](_0x543c83(0x44f))['innerHTML']=_0x218209?marked[_0x543c83(0x55c)](_0x218209):_0x543c83(0x273),document[_0x543c83(0x695)](_0x543c83(0x443))[_0x543c83(0xb6b)]=_0x85c3c0?marked[_0x543c83(0x55c)](_0x85c3c0):_0x543c83(0x273),currentApplicationData=JSON['parse'](_0x11441a);const _0x5313eb=document[_0x543c83(0x695)]('applicationContent');_0x5313eb[_0x543c83(0xb6b)]=(currentApplicationData||[])[_0x543c83(0x947)]((_0x1764bf,_0x5d6e7c)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x5d6e7c+0x1)+'.\x20'+marked[_0x543c83(0x9a6)](_0x1764bf[_0x543c83(0x3ab)]||'')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x5d6e7c+_0x543c83(0x93d)+(_0x1764bf[_0x543c83(0x6ce)]||[])[_0x543c83(0x947)]((_0x18d73e,_0x736c0e)=>_0x543c83(0x81a)+_0x5d6e7c+',\x20'+_0x736c0e+_0x543c83(0x394)+String['fromCharCode'](0x61+_0x736c0e)+'.\x20'+marked[_0x543c83(0x9a6)](_0x18d73e||'')+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x543c83(0x6f5)]('')+_0x543c83(0x4b0))[_0x543c83(0x6f5)]('')||_0x543c83(0xb3d),window['MathJax']&&MathJax[_0x543c83(0xcaf)]([_0x2286ac]),_0x453f97[_0x543c83(0xd75)][_0x543c83(0x8d6)](_0x543c83(0x721)),_0x2286ac[_0x543c83(0xd75)][_0x543c83(0x8cc)](_0x543c83(0x721));}catch(_0x3d4260){console[_0x543c83(0xb62)](_0x3d4260);throw _0x3d4260;}}function checkAnswer(_0x43e91a,_0x4d35a1){const _0x102fe8=_0x315eb9,_0x16e6fe=currentApplicationData[_0x43e91a],_0x39cd55=document['getElementById']('q'+_0x43e91a+_0x102fe8(0x255)),_0x3adc60=_0x39cd55[_0x102fe8(0x678)](_0x102fe8(0x698));for(let _0xb1ba5e of _0x3adc60){_0xb1ba5e[_0x102fe8(0x22a)]=!![];}_0x4d35a1===_0x16e6fe[_0x102fe8(0xd0a)]?_0x3adc60[_0x4d35a1][_0x102fe8(0xd75)][_0x102fe8(0x8d6)](_0x102fe8(0x642)):(_0x3adc60[_0x4d35a1]['classList'][_0x102fe8(0x8d6)]('incorrect'),_0x3adc60[_0x16e6fe[_0x102fe8(0xd0a)]][_0x102fe8(0xd75)][_0x102fe8(0x8d6)](_0x102fe8(0x642)));}window[_0x315eb9(0xb19)]=handleGenerateAndShowLesson,window[_0x315eb9(0x3d9)]=checkAnswer,window[_0x315eb9(0x2c1)]=handleGeneratePracticeTest,window['handleGenerateQuizFromBlueprintTopic']=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x420e0f=_0x315eb9;try{const _0x57c689=initializeApp(firebaseConfig);db=getFirestore(_0x57c689),auth=getAuth(_0x57c689),setupAuthListener(),setupEventListeners(),showView(_0x420e0f(0x282)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x318e3d){console[_0x420e0f(0xb62)](_0x420e0f(0x70d),_0x318e3d),showMessage(_0x420e0f(0x8ff));}}async function handleVerifyAnswersInEditor(){const _0x411bcc=_0x315eb9,_0x4e30ea=document[_0x411bcc(0x695)]('quiz-editor-modal');if(!_0x4e30ea)return;const _0xa35743=document[_0x411bcc(0x695)](_0x411bcc(0xabc));_0xa35743[_0x411bcc(0x22a)]=!![],_0xa35743[_0x411bcc(0xb6b)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...';try{const _0x8e3347=_0x4e30ea[_0x411bcc(0x4e3)](_0x411bcc(0x9fd)),_0x3ec892=Array['from'](_0x8e3347)[_0x411bcc(0x947)]((_0x2ef6a4,_0x573ba4)=>{const _0x44feb2=_0x411bcc,_0x5b633a=_0x2ef6a4['dataset'][_0x44feb2(0xc36)],_0x503e2b=_0x2ef6a4[_0x44feb2(0xc31)](_0x44feb2(0xa0b))[_0x44feb2(0xbdb)];let _0x308566=null,_0x43cda9='';switch(_0x5b633a){case'multiple_choice':const _0xd3b116=_0x2ef6a4['querySelectorAll'](_0x44feb2(0x6af));_0x308566=Array[_0x44feb2(0x768)](_0xd3b116)['map'](_0x156052=>_0x156052['value']);const _0x817920=_0x2ef6a4[_0x44feb2(0xc31)](_0x44feb2(0xca5));_0x817920&&(_0x43cda9=_0x308566[parseInt(_0x817920[_0x44feb2(0xbdb)])]);break;case _0x44feb2(0x735):_0x308566=[],_0x43cda9=_0x2ef6a4['querySelector'](_0x44feb2(0xbe6))[_0x44feb2(0xbdb)];break;case _0x44feb2(0xb93):_0x308566=[_0x44feb2(0x5c5),_0x44feb2(0x778)];const _0x58e240=_0x2ef6a4[_0x44feb2(0xc31)]('input[type=\x22radio\x22]:checked');_0x43cda9=_0x58e240?_0x58e240[_0x44feb2(0xbdb)]:'';break;case'matching_item':_0x308566=[],_0x43cda9=_0x2ef6a4[_0x44feb2(0xc31)]('.correct-response-input')['value'];break;}return{'question':_0x503e2b,'options':_0x308566,'proposedAnswer':_0x43cda9};}),_0x5b252f=_0x411bcc(0x9c0)+JSON[_0x411bcc(0xd46)](_0x3ec892)+_0x411bcc(0x63a),_0x7e6bd7={'type':_0x411bcc(0x8fe),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x411bcc(0x994)},'justification':{'type':'STRING'},'correctOptionExists':{'type':_0x411bcc(0x994)},'suggestedAnswer':{'type':_0x411bcc(0x277)},'newOptionsPayload':{'type':'OBJECT','properties':{'newOptions':{'type':'ARRAY','items':{'type':_0x411bcc(0x277)}},'newCorrectIndex':{'type':'NUMBER'}}}},'required':[_0x411bcc(0x952),_0x411bcc(0xa06),'justification']}},_0x396780=await callAnalysisApi(_0x5b252f,{'type':'OBJECT','properties':{'result':_0x7e6bd7},'required':['result']});displayVerificationResultsInEditor(_0x396780[_0x411bcc(0xa55)]);}catch(_0x49c185){console[_0x411bcc(0xb62)](_0x411bcc(0x49c),_0x49c185),showMessage(_0x411bcc(0xcc3));}finally{_0xa35743[_0x411bcc(0x22a)]=![],_0xa35743[_0x411bcc(0xb6b)]=_0x411bcc(0xd22);}}function displayVerificationResultsInEditor(_0x4d9300){const _0xe000d7=_0x315eb9;_0x4d9300[_0xe000d7(0x2d4)](_0x145c87=>{const _0x598281=_0xe000d7,_0x499d33=document[_0x598281(0xc31)](_0x598281(0xc6f)+_0x145c87[_0x598281(0x952)]+'\x22]');if(!_0x499d33)return;const _0x149770=_0x499d33[_0x598281(0xc31)](_0x598281(0xaad));if(_0x149770)_0x149770[_0x598281(0x8cc)]();let _0x83e40='';if(_0x145c87['newOptionsPayload']&&_0x145c87[_0x598281(0xd16)][_0x598281(0xc02)]){const _0x164093=_0x145c87[_0x598281(0xd16)][_0x598281(0xc02)],_0x13d06c=_0x145c87[_0x598281(0xd16)][_0x598281(0xd45)],_0x26b51d=_0x499d33[_0x598281(0x4b5)][_0x598281(0xc36)];if(_0x26b51d===_0x598281(0x959)){const _0x2d959f=_0x499d33[_0x598281(0x4e3)](_0x598281(0x6af));_0x2d959f[_0x598281(0x2d4)]((_0x51a3b4,_0x17d5fd)=>{const _0x5aa3d3=_0x598281;_0x164093[_0x17d5fd]?_0x51a3b4['value']=_0x164093[_0x17d5fd]:_0x51a3b4['value']=_0x5aa3d3(0xb5e);});const _0x2bff98=_0x499d33[_0x598281(0xc31)](_0x598281(0x74b)+_0x13d06c+'\x22]');_0x2bff98&&(_0x2bff98[_0x598281(0x364)]=!![]),_0x83e40=_0x598281(0x750),_0x499d33[_0x598281(0xd75)][_0x598281(0x8d6)](_0x598281(0x5e9),_0x598281(0x4c2),'duration-300'),setTimeout(()=>{const _0xc3cc79=_0x598281;_0x499d33['classList']['remove'](_0xc3cc79(0x5e9));},0x9c4);}}else{if(!_0x145c87[_0x598281(0xa06)]&&_0x145c87[_0x598281(0x9c8)]){const _0x9727b9=_0x145c87[_0x598281(0x9c8)]?_0x598281(0x302):'';_0x83e40=_0x598281(0xc73)+_0x9727b9+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x145c87[_0x598281(0x719)]+_0x598281(0x543)+(_0x145c87[_0x598281(0x9c8)]?_0x598281(0xc4c)+_0x145c87['suggestedAnswer']+_0x598281(0xb97):'')+_0x598281(0x249);const _0x66449a=_0x499d33[_0x598281(0x4b5)][_0x598281(0xc36)],_0x2d0d01=_0x1ce227=>{const _0x6c12e6=_0x598281;if(!_0x1ce227)return;_0x1ce227['classList'][_0x6c12e6(0x8d6)]('bg-green-200','transition-all',_0x6c12e6(0x77a)),setTimeout(()=>{const _0x3334b8=_0x6c12e6;_0x1ce227[_0x3334b8(0xd75)][_0x3334b8(0x8cc)](_0x3334b8(0x4d9));},0x9c4);};if(_0x66449a===_0x598281(0x959)){const _0x1ebf40=Array['from'](_0x499d33[_0x598281(0x4e3)](_0x598281(0x6af))),_0x27a9d8=_0x1ebf40[_0x598281(0x67d)](_0x5efbce=>_0x5efbce[_0x598281(0xbdb)][_0x598281(0xbcf)]()[_0x598281(0x766)]()===_0x145c87[_0x598281(0x9c8)][_0x598281(0xbcf)]()[_0x598281(0x766)]());if(_0x27a9d8!==-0x1){const _0x4ec8a3=_0x499d33[_0x598281(0xc31)](_0x598281(0x74b)+_0x27a9d8+'\x22]');_0x4ec8a3&&(_0x4ec8a3['checked']=!![],_0x2d0d01(_0x4ec8a3[_0x598281(0xb12)](_0x598281(0xa7b))));}}else{if(_0x66449a===_0x598281(0x735)||_0x66449a===_0x598281(0xc17)){const _0xb522d9=_0x499d33[_0x598281(0xc31)](_0x598281(0x9cd));_0xb522d9&&(_0xb522d9[_0x598281(0xbdb)]=_0x145c87['suggestedAnswer'],_0x2d0d01(_0xb522d9));}else{if(_0x66449a==='true_false'){const _0x2f135b=_0x145c87[_0x598281(0x9c8)][_0x598281(0xbcf)]()[_0x598281(0x766)](),_0x23d07f=_0x499d33[_0x598281(0xc31)](_0x598281(0x74b)+_0x2f135b+'\x22]');_0x23d07f&&(_0x23d07f['checked']=!![],_0x2d0d01(_0x23d07f[_0x598281(0xb12)]('div')));}}}}else _0x145c87['isCorrect']&&(_0x83e40='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');}_0x499d33['insertAdjacentHTML'](_0x598281(0x43e),_0x83e40);}),showMessage(_0xe000d7(0x402));}async function handleVerifyAnswers(){const _0x283f47=_0x315eb9;if(!currentQuizData||!currentQuizData[_0x283f47(0xab9)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0x5efbea=document['getElementById'](_0x283f47(0x1ee));_0x5efbea['disabled']=!![],_0x5efbea[_0x283f47(0xb6b)]=_0x283f47(0x8e3);try{const _0x229f41=currentQuizData[_0x283f47(0xab9)][_0x283f47(0x947)]((_0x1073e7,_0x2ffe48)=>{const _0x4c5543=_0x283f47;let _0x239f23='';const _0x305668=_0x1073e7[_0x4c5543(0x9e0)]||currentQuizData[_0x4c5543(0xa41)];switch(_0x305668){case _0x4c5543(0x959):_0x239f23=_0x1073e7['options'][_0x1073e7[_0x4c5543(0x794)]];break;case _0x4c5543(0x735):_0x239f23=_0x1073e7[_0x4c5543(0xc00)];break;case _0x4c5543(0xb93):_0x239f23=_0x1073e7[_0x4c5543(0x43f)][_0x4c5543(0x2c8)]();break;case _0x4c5543(0xc17):_0x239f23=_0x1073e7[_0x4c5543(0x5a6)];break;}return{'question':_0x1073e7['stem']||_0x1073e7[_0x4c5543(0x620)],'options':_0x1073e7[_0x4c5543(0x6ce)]||null,'proposedAnswer':_0x239f23};}),_0xaa0a98=_0x283f47(0x8d2)+JSON[_0x283f47(0xd46)](_0x229f41)+_0x283f47(0x876),_0x4b8063={'type':_0x283f47(0x8fe),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x283f47(0x994)},'justification':{'type':_0x283f47(0x277)},'suggestedAnswer':{'type':_0x283f47(0x277)}},'required':['questionIndex',_0x283f47(0xa06),_0x283f47(0x719)]}},_0x394365=await callAnalysisApi(_0xaa0a98,{'type':_0x283f47(0xac9),'properties':{'result':_0x4b8063},'required':[_0x283f47(0xa55)]});displayVerificationResults(_0x394365['result']);}catch(_0x457961){console['error'](_0x283f47(0xb06),_0x457961),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x5efbea['disabled']=![],_0x5efbea[_0x283f47(0xb6b)]=_0x283f47(0xaae);}}function displayVerificationResults(_0x3c9cdd){const _0x4e72e2=_0x315eb9;_0x3c9cdd[_0x4e72e2(0x2d4)](_0x32d55c=>{const _0x419cbe=_0x4e72e2,_0x47da73=document[_0x419cbe(0xc31)]('div[data-question-index=\x22'+_0x32d55c[_0x419cbe(0x952)]+'\x22]');if(_0x47da73){const _0x2ea15b=_0x47da73[_0x419cbe(0xc31)](_0x419cbe(0x52a));if(_0x2ea15b)_0x2ea15b['remove']();let _0x2a01cf='';_0x32d55c[_0x419cbe(0xa06)]?_0x2a01cf=_0x419cbe(0xb2d):_0x2a01cf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x32d55c[_0x419cbe(0x719)]+_0x419cbe(0x5da)+(_0x32d55c[_0x419cbe(0x9c8)]?_0x419cbe(0xc4c)+_0x32d55c[_0x419cbe(0x9c8)]+_0x419cbe(0xb97):'')+_0x419cbe(0x9a4),_0x47da73[_0x419cbe(0x8d5)](_0x419cbe(0x43e),_0x2a01cf);}}),showMessage(_0x4e72e2(0x402));}function compareNumericalAnswers(_0x2146c1,_0x5773a2){const _0x22f1f5=_0x315eb9,_0x5bc48f=String(_0x2146c1)[_0x22f1f5(0x963)](',','.')[_0x22f1f5(0x963)](/[^\d.-]/g,'')[_0x22f1f5(0xbcf)](),_0x53e809=String(_0x5773a2)['replace'](',','.')['replace'](/[^\d.-]/g,'')[_0x22f1f5(0xbcf)]();if(_0x5bc48f===''||_0x53e809==='')return![];const _0x4307f5=parseFloat(_0x5bc48f),_0x52a7e8=parseFloat(_0x53e809);if(isNaN(_0x4307f5)||isNaN(_0x52a7e8))return![];return Math[_0x22f1f5(0x393)](_0x4307f5-_0x52a7e8)<0.001;}function isPotentiallyNumeric(_0x58faf3){const _0x2cf19f=_0x315eb9;if(typeof _0x58faf3!=='string'&&typeof _0x58faf3!==_0x2cf19f(0x785))return![];const _0x19e91a=String(_0x58faf3)[_0x2cf19f(0x963)](',','.')[_0x2cf19f(0xbcf)]();return _0x19e91a!==''&&!isNaN(parseFloat(_0x19e91a))&&isFinite(_0x19e91a);}async function gradeShortAnswer(_0x7233e3,_0x4695d0){const _0x46374b=_0x315eb9,_0xe9c3c9=_0x4695d0[_0x46374b(0xc00)],_0x26e65d=String(_0x7233e3)[_0x46374b(0x963)](/\$/g,'')[_0x46374b(0xbcf)](),_0x258947=String(_0xe9c3c9)[_0x46374b(0x963)](/\$/g,'')[_0x46374b(0xbcf)]();if(_0x26e65d['toLowerCase']()===_0x258947['toLowerCase']())return!![];if(isPotentiallyNumeric(_0x26e65d)&&isPotentiallyNumeric(_0x258947)){if(compareNumericalAnswers(_0x26e65d,_0x258947))return!![];}return console[_0x46374b(0x95e)](_0x46374b(0x484)),await gradeShortAnswerWithAI(_0x7233e3,_0xe9c3c9);}async function revealAnswerForAdmin(_0x2b3be5,_0x4d1f39){const _0x448f7a=_0x315eb9,_0x3803ca=doc(db,_0x448f7a(0x2d5)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x3803ca,{'questionStatus':_0x448f7a(0x981)});}function showTop5LeaderboardView(_0x1fad65){const _0x1fb50d=_0x315eb9,_0x3d9ed1=Object['values'](_0x1fad65['players']||{})[_0x1fb50d(0x9c1)](_0x284a7a=>_0x284a7a[_0x1fb50d(0xbfe)]===_0x1fb50d(0xb81));_0x3d9ed1[_0x1fb50d(0x7a1)]((_0x2a11f9,_0x316e71)=>_0x316e71[_0x1fb50d(0xad9)]-_0x2a11f9[_0x1fb50d(0xad9)]);const _0x2fbc15=_0x3d9ed1['slice'](0x0,0x5),_0x1fb941=_0x1fb50d(0xb86)+_0x2fbc15['map']((_0x63e44f,_0x23a306)=>_0x1fb50d(0x8bd)+(_0x23a306+0x1)+'.\x20'+(_0x63e44f[_0x1fb50d(0x38d)]||Object[_0x1fb50d(0x811)](_0x1fad65[_0x1fb50d(0x5ca)])[_0x1fb50d(0x559)](_0x2da6a4=>_0x1fad65[_0x1fb50d(0x5ca)][_0x2da6a4]===_0x63e44f))+_0x1fb50d(0xd3d)+_0x63e44f[_0x1fb50d(0xad9)]+_0x1fb50d(0x5a7))[_0x1fb50d(0x6f5)]('')+_0x1fb50d(0x8f8)+(_0x1fad65[_0x1fb50d(0x365)]+0x1===currentQuizData['questions']['length']?_0x1fb50d(0xb5f):_0x1fb50d(0xa39))+_0x1fb50d(0x290);liveGameView[_0x1fb50d(0xb6b)]=_0x1fb941,document[_0x1fb50d(0x695)](_0x1fb50d(0x44c))[_0x1fb50d(0x59b)]('click',async()=>{const _0x5a1aa1=_0x1fb50d,_0x3f78a0=doc(db,_0x5a1aa1(0x2d5)+appId+_0x5a1aa1(0xc05),currentLiveGameId),_0x29248a=_0x1fad65[_0x5a1aa1(0x365)]+0x1;if(_0x29248a<currentQuizData[_0x5a1aa1(0xab9)][_0x5a1aa1(0xca6)]){const _0x49ca2b={'currentQuestionIndex':_0x29248a,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x5a1aa1(0xbe3)};Object[_0x5a1aa1(0x811)](_0x1fad65[_0x5a1aa1(0x5ca)])[_0x5a1aa1(0x2d4)](_0x92370b=>{const _0x541046=_0x5a1aa1;_0x49ca2b['players.'+_0x92370b+_0x541046(0x296)]=![];}),await updateDoc(_0x3f78a0,_0x49ca2b);}else await updateDoc(_0x3f78a0,{'status':_0x5a1aa1(0xa86)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x51cd31=>{const _0xae3e12=_0x42ad;if(_0x51cd31){userId=_0x51cd31[_0xae3e12(0xaec)],userIdDisplay[_0xae3e12(0x97a)]=userId;const _0x5348aa=await loadUserPreferences();_0x5348aa['projectSortOrder']&&(document['getElementById'](_0xae3e12(0x725))[_0xae3e12(0xbdb)]=_0x5348aa[_0xae3e12(0x326)]);globalDashboardSettings[_0xae3e12(0xa3c)]=_0x5348aa[_0xae3e12(0xa3c)]||_0xae3e12(0x231);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x554224,_0x513bfa){const _0x4c6dec=_0x315eb9;if(!userId)return;try{const _0x33207c=doc(db,_0x4c6dec(0x2d5)+appId+_0x4c6dec(0xb17)+userId+'/preferences/main'),_0x375800={};_0x375800[_0x554224]=_0x513bfa,await setDoc(_0x33207c,_0x375800,{'merge':!![]});}catch(_0x3fe48e){console[_0x4c6dec(0xb62)](_0x4c6dec(0x1f5),_0x3fe48e);}}async function loadUserPreferences(){const _0xccc867=_0x315eb9;if(!userId)return{};try{const _0x36ce4e=doc(db,_0xccc867(0x2d5)+appId+_0xccc867(0xb17)+userId+_0xccc867(0xce4)),_0x276e85=await getDoc(_0x36ce4e);if(_0x276e85['exists']())return _0x276e85['data']();return{};}catch(_0xe17321){return console[_0xccc867(0xb62)](_0xccc867(0xd52),_0xe17321),{};}}function parseIndentedBlueprint(_0x3ba4b2){const _0x2e772b=_0x315eb9,_0x3148f2=_0x3ba4b2[_0x2e772b(0x5fa)]('\x0a')[_0x2e772b(0x9c1)](_0x2a4f23=>_0x2a4f23['trim']()!==''),_0x55e385=[];let _0x571b2e=null,_0x23040=null;return _0x3148f2[_0x2e772b(0x2d4)](_0x5ef793=>{const _0x1a3e26=_0x2e772b,_0x159006=_0x5ef793[_0x1a3e26(0x5cf)](/^\s*/)[0x0][_0x1a3e26(0xca6)],_0x599c68=_0x5ef793['trim']();if(_0x159006===0x0)_0x571b2e={'sara':_0x599c68,'mainTopics':[]},_0x55e385['push'](_0x571b2e),_0x23040=null;else{if(_0x159006>0x0&&_0x159006<0x8&&_0x571b2e)_0x23040={'topicName':_0x599c68,'subTopics':[]},_0x571b2e[_0x1a3e26(0xa3f)]['push'](_0x23040);else _0x159006>=0x8&&_0x23040&&_0x23040[_0x1a3e26(0x338)][_0x1a3e26(0xd41)](_0x599c68);}}),{'curriculum':_0x55e385};}async function handleManualBlueprintSave(){const _0x662e8f=_0x315eb9,_0x1a566a=document['getElementById'](_0x662e8f(0x28e))['value'][_0x662e8f(0xbcf)](),_0xaa8571=document['getElementById']('manual-bp-grade-level')['value']['trim'](),_0x382729=document[_0x662e8f(0x695)](_0x662e8f(0x39b))[_0x662e8f(0xbdb)];if(!_0x1a566a||!_0xaa8571||!_0x382729){showMessage(_0x662e8f(0x40e));return;}const _0x4917d9=parseIndentedBlueprint(_0x382729);if(!_0x4917d9[_0x662e8f(0x2a0)]||_0x4917d9[_0x662e8f(0x2a0)][_0x662e8f(0xca6)]===0x0){showMessage(_0x662e8f(0x6b2));return;}const _0x4630e3={};let _0x3e4399=0x0;_0x4917d9['curriculum'][_0x662e8f(0x2d4)](_0x5d881d=>{_0x5d881d['mainTopics']['forEach'](_0x41f181=>{const _0x370b70=_0x42ad;_0x41f181[_0x370b70(0x338)]['forEach'](_0x1fc4bc=>{const _0x2fefb5=_0x370b70,_0x532401=_0x2fefb5(0x298)+Date[_0x2fefb5(0x320)]()+Math[_0x2fefb5(0x625)]()[_0x2fefb5(0x2c8)](0x24)['substr'](0x2,0x9);_0x4630e3[_0x532401]={'sara':_0x5d881d[_0x2fefb5(0x31a)],'mainTopic':_0x41f181[_0x2fefb5(0x3a1)],'subTopic':_0x1fc4bc,'status':_0x2fefb5(0x33b),'lessonContent':null,'order':_0x3e4399++};});});});try{const _0x3857b1=collection(db,_0x662e8f(0x2d5)+appId+_0x662e8f(0x380));await addDoc(_0x3857b1,{'projectName':_0x1a566a,'gradeLevel':_0xaa8571,'topics':_0x4630e3,'createdAt':serverTimestamp()}),showMessage(_0x662e8f(0xa27)+_0x1a566a+_0x662e8f(0xb39)),document[_0x662e8f(0x695)](_0x662e8f(0xc47))['classList'][_0x662e8f(0x8d6)](_0x662e8f(0x721));}catch(_0x573a16){console[_0x662e8f(0xb62)](_0x662e8f(0x6fb),_0x573a16),showMessage(_0x662e8f(0xaef));}}function handleClearAllLinksForTopic(_0x3ff603){const _0x5f46f8=_0x315eb9;showConfirmation(_0x5f46f8(0x6ea),async()=>{const _0x54c3d8=_0x5f46f8;try{const _0x3ff4a0=doc(db,_0x54c3d8(0x2d5)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x3ff4a0,{[_0x54c3d8(0x8ca)+_0x3ff603+_0x54c3d8(0x39e)]:[]}),showMessage(_0x54c3d8(0x4e9)),openTopicQuizBank(_0x3ff603),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x37c3a7){console[_0x54c3d8(0xb62)]('Error\x20clearing\x20all\x20links:',_0x37c3a7),showMessage(_0x54c3d8(0xaf7));}});}function showPodiumView(_0x143c68,_0x445464=_0x315eb9(0xb9c)){const _0x265c02=_0x315eb9,_0x12f070=Object['entries'](_0x143c68)[_0x265c02(0x947)](([_0x4826bd,_0x45c0e2])=>({'name':_0x4826bd,'score':_0x45c0e2[_0x265c02(0xad9)]||0x0,'badges':_0x45c0e2[_0x265c02(0x68b)]||[],'hasPerfectScoreBonus':_0x45c0e2[_0x265c02(0x37f)]||![]}));_0x12f070['sort']((_0x430ca7,_0x5a4fa7)=>{const _0x529a8a=_0x265c02,_0x30548c=_0x5a4fa7[_0x529a8a(0xad9)]-_0x430ca7['score'];if(_0x30548c!==0x0)return _0x30548c;return(_0x5a4fa7[_0x529a8a(0x68b)][_0x529a8a(0xca6)]||0x0)-(_0x430ca7[_0x529a8a(0x68b)][_0x529a8a(0xca6)]||0x0);});const _0xce748e=_0x1e4680=>{const _0x32c444=_0x265c02;if(!_0x1e4680||_0x1e4680[_0x32c444(0xca6)]===0x0)return'';const _0x576d9f={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x32c444(0x9cc)+_0x1e4680[_0x32c444(0x947)](_0x72c68b=>_0x576d9f[_0x72c68b]||'')[_0x32c444(0x6f5)]('')+_0x32c444(0x4cd);},_0xa55a34=_0x12f070[_0x265c02(0x7c9)](0x3),_0x1a03cd=_0xa55a34[_0x265c02(0xca6)]>0x0?_0x265c02(0x871)+_0xa55a34[_0x265c02(0x947)]((_0x25616a,_0x554ad7)=>{const _0x3a34fc=_0x265c02,_0x4dfbad=_0x25616a['hasPerfectScoreBonus']?_0x3a34fc(0xb96):'';return _0x3a34fc(0x8c4)+(_0x554ad7+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x25616a[_0x3a34fc(0x38d)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x25616a[_0x3a34fc(0xad9)]+'\x20คะแนน\x20'+_0x4dfbad+_0x3a34fc(0x595);})[_0x265c02(0x6f5)]('')+_0x265c02(0x582):'',_0x5236aa=_0x265c02(0x508)+(_0x12f070[0x1]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x12f070[0x1][_0x265c02(0x38d)]+_0x265c02(0xb97)+_0xce748e(_0x12f070[0x1][_0x265c02(0x68b)])+'<p\x20class=\x22text-xl\x22>'+_0x12f070[0x1][_0x265c02(0xad9)]+_0x265c02(0xd47)+(_0x12f070[0x1][_0x265c02(0x37f)]?_0x265c02(0x7d2):'')+_0x265c02(0x787):'<div\x20class=\x22flex-1\x22></div>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x12f070[0x0]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>'+_0x12f070[0x0][_0x265c02(0x38d)]+_0x265c02(0xb97)+_0xce748e(_0x12f070[0x0][_0x265c02(0x68b)])+_0x265c02(0xd0e)+_0x12f070[0x0][_0x265c02(0xad9)]+_0x265c02(0xd47)+(_0x12f070[0x0][_0x265c02(0x37f)]?_0x265c02(0x7d2):'')+_0x265c02(0x4b9):'<div\x20class=\x22flex-1\x22></div>')+_0x265c02(0x63a)+(_0x12f070[0x2]?_0x265c02(0xa1a)+_0x12f070[0x2][_0x265c02(0x38d)]+_0x265c02(0xb97)+_0xce748e(_0x12f070[0x2][_0x265c02(0x68b)])+'<p\x20class=\x22text-xl\x22>'+_0x12f070[0x2][_0x265c02(0xad9)]+_0x265c02(0xd47)+(_0x12f070[0x2]['hasPerfectScoreBonus']?_0x265c02(0x7d2):'')+_0x265c02(0x638):_0x265c02(0xd37))+_0x265c02(0x892)+_0x1a03cd+_0x265c02(0x34f)+(currentMode===_0x265c02(0xbe0)?_0x265c02(0x2af):_0x265c02(0x483))+_0x265c02(0xa77);liveGameView[_0x265c02(0xb6b)]=_0x5236aa,currentMode===_0x265c02(0xbe0)&&document[_0x265c02(0x695)](_0x265c02(0x763))[_0x265c02(0x59b)]('click',async()=>{const _0x1802ad=_0x265c02;let _0x27e1a8;_0x445464===_0x1802ad(0x8e5)?_0x27e1a8=doc(db,_0x1802ad(0x2d5)+appId+_0x1802ad(0x2b5),currentLiveGameId):_0x27e1a8=doc(db,_0x1802ad(0x2d5)+appId+_0x1802ad(0xc05),currentLiveGameId),await deleteDoc(_0x27e1a8);});}function renderSyncSummaryView(_0x1f9ec6,_0xf2def2,_0x12eda4){const _0x127fc1=_0x315eb9,_0x17b277=!_0x12eda4&&_0x2c0235==='anonymous'&&_0x1f9ec6[_0x127fc1(0x4c3)]===![],_0x5897cd=Object[_0x127fc1(0xb3a)](_0x1f9ec6[_0x127fc1(0x5ca)]||{}),_0x464c6d=_0x1f9ec6[_0x127fc1(0x8e2)][_0x127fc1(0xab9)],_0x223166=_0xf2def2[_0x127fc1(0x9e0)]||_0x1f9ec6['shuffledQuiz'][_0x127fc1(0xa41)];let _0x2ea34e=[];_0x223166===_0x127fc1(0xb93)?_0x2ea34e=[_0x127fc1(0x9ca),_0x127fc1(0x685)]:_0x2ea34e=_0xf2def2['options']||[];const _0x1a3956=new Array(_0x2ea34e[_0x127fc1(0xca6)])['fill'](0x0),_0x19dc03={};_0x2ea34e[_0x127fc1(0x2d4)]((_0x55f61b,_0x152159)=>{_0x19dc03[_0x152159]=[];}),Object[_0x127fc1(0x9d1)](_0x1f9ec6[_0x127fc1(0x5ca)]||{})[_0x127fc1(0x2d4)](([_0x3dca37,_0x203c5d])=>{const _0x3ce58b=_0x127fc1;if(_0x203c5d[_0x3ce58b(0xbfe)]!=='inactive'&&_0x203c5d['lastAnswerIndex']!==undefined&&_0x203c5d['lastAnswerIndex']!==null){const _0x4335b7=_0x203c5d[_0x3ce58b(0xaab)];if(_0x19dc03[_0x4335b7]!==undefined){const _0x1e1d62=_0x17b277?_0x1f9ec6['playerNicknames'][_0x3dca37]||_0x3ce58b(0xd4b):_0x3dca37;_0x19dc03[_0x4335b7][_0x3ce58b(0xd41)](_0x1e1d62),_0x1a3956[_0x4335b7]++;}}});let _0x3691a2='';const _0x2c0235=_0x1f9ec6['gameVariant']||_0x127fc1(0x25c),_0x1a86d5=_0x1f9ec6[_0x127fc1(0x365)]>=_0x464c6d[_0x127fc1(0xca6)]-0x1;_0x12eda4?_0x2c0235==='reveal_at_end'?_0x1a86d5?_0x3691a2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x20(เริ่มข้อ\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x3691a2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x3691a2=_0x127fc1(0x289):_0x2c0235===_0x127fc1(0x7e7)?_0x3691a2='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>':_0x3691a2=_0x127fc1(0x62e);const _0x2508e4=_0x127fc1(0x66c)+_0xf2def2[_0x127fc1(0x620)]+_0x127fc1(0x593)+_0x1a3956[_0x127fc1(0x947)]((_0x5453b3,_0x2bc841)=>{const _0x43e802=_0x127fc1,_0x354d5b=_0x19dc03[_0x2bc841][_0x43e802(0xca6)]>0x0?_0x19dc03[_0x2bc841][_0x43e802(0x6f5)](',\x20'):_0x43e802(0x6e0),_0x366cd7='#6366F1';return _0x43e802(0x992)+_0x5453b3+_0x43e802(0xd15)+_0x366cd7+_0x43e802(0x67c)+_0x2bc841+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x2ea34e[_0x2bc841]+_0x43e802(0x205)+_0x2bc841+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x354d5b+_0x43e802(0x975);})[_0x127fc1(0x6f5)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3691a2+_0x127fc1(0x8c0);liveGameView[_0x127fc1(0xb6b)]=_0x2508e4;if(window[_0x127fc1(0x3af)])MathJax[_0x127fc1(0xcaf)]();if(_0x12eda4){const _0xeb0514=doc(db,_0x127fc1(0x2d5)+appId+'/public/data/syncGames',currentLiveGameId);document[_0x127fc1(0x695)]('show-results-btn')?.[_0x127fc1(0x59b)](_0x127fc1(0xc9a),async()=>{const _0x1bc31b=_0x127fc1;await updateDoc(_0xeb0514,{'status':_0x1bc31b(0x744)});}),document[_0x127fc1(0x695)](_0x127fc1(0x762))?.[_0x127fc1(0x59b)]('click',()=>{openScratchpad(_0xf2def2,_0x2ea34e);}),document[_0x127fc1(0x695)](_0x127fc1(0x3db))?.[_0x127fc1(0x59b)](_0x127fc1(0xc9a),async()=>{const _0x249bd2=_0x127fc1,_0x5e6ca5=_0x1f9ec6[_0x249bd2(0x365)]+0x1,_0x326b41={};Object[_0x249bd2(0x811)](_0x1f9ec6['players'])[_0x249bd2(0x2d4)](_0x31533e=>{const _0x34953b=_0x249bd2;_0x326b41['players.'+_0x31533e+_0x34953b(0x3fb)]=![],_0x326b41['players.'+_0x31533e+_0x34953b(0x422)]=null;}),await updateDoc(_0xeb0514,{..._0x326b41,'status':_0x249bd2(0x3ab),'currentQuestionIndex':_0x5e6ca5,'questionDisplayedAt':serverTimestamp()});}),document[_0x127fc1(0x695)](_0x127fc1(0xcf5))?.[_0x127fc1(0x59b)](_0x127fc1(0xc9a),async()=>{const _0x28dff=_0x127fc1;await updateDoc(_0xeb0514,{'status':_0x28dff(0x744),'reviewQuestionIndex':0x0});});}}async function handleShowStudentRankings(){const _0x4d7865=_0x315eb9,_0x4730bb=document[_0x4d7865(0xc31)](_0x4d7865(0x32b));_0x4730bb&&(_0x4730bb[_0x4d7865(0xb6b)]=_0x4d7865(0x8d9));const _0x2bafb7=document[_0x4d7865(0xc31)](_0x4d7865(0x4b1));_0x2bafb7&&(_0x2bafb7[_0x4d7865(0xb6b)]=_0x4d7865(0x8e1));const _0x50ebd6=document[_0x4d7865(0x695)](_0x4d7865(0x8a5));_0x50ebd6[_0x4d7865(0xd75)][_0x4d7865(0x8cc)](_0x4d7865(0x721)),document['getElementById'](_0x4d7865(0xa97))[_0x4d7865(0x3cf)]=()=>_0x50ebd6[_0x4d7865(0xd75)][_0x4d7865(0x8d6)]('hidden');const _0x50d219=document[_0x4d7865(0x695)]('student-quiz-leaderboard-tab'),_0x3f374e=document['getElementById'](_0x4d7865(0x95f)),_0x893a9c=document[_0x4d7865(0x695)](_0x4d7865(0x2a1)),_0xc4bac5=document[_0x4d7865(0x695)](_0x4d7865(0x4c1));_0x50d219['onclick']=()=>{const _0x5433d5=_0x4d7865;_0x50d219[_0x5433d5(0xd75)][_0x5433d5(0x8d6)](_0x5433d5(0xb81)),_0x3f374e[_0x5433d5(0xd75)][_0x5433d5(0x8cc)]('active'),_0x893a9c[_0x5433d5(0xd75)]['remove']('hidden'),_0xc4bac5[_0x5433d5(0xd75)][_0x5433d5(0x8d6)](_0x5433d5(0x721));},_0x3f374e['onclick']=()=>{const _0xd40006=_0x4d7865;_0x3f374e[_0xd40006(0xd75)][_0xd40006(0x8d6)]('active'),_0x50d219[_0xd40006(0xd75)][_0xd40006(0x8cc)]('active'),_0xc4bac5[_0xd40006(0xd75)][_0xd40006(0x8cc)](_0xd40006(0x721)),_0x893a9c[_0xd40006(0xd75)][_0xd40006(0x8d6)]('hidden');};try{const _0x37e83e=collection(db,_0x4d7865(0x2d5)+appId+_0x4d7865(0xb5c)+currentQuizData['id']+_0x4d7865(0xaa7)),_0x322c8a=await getDocs(_0x37e83e),_0xca6ea=_0x322c8a[_0x4d7865(0x80f)]['map'](_0x3deffe=>_0x3deffe[_0x4d7865(0x5ac)]());renderQuizLeaderboard(_0xca6ea,currentQuizData,'student-quiz-leaderboard-table-body');const _0x26c1c4=collection(db,_0x4d7865(0x2d5)+appId+_0x4d7865(0xa6e)+currentQuizData[_0x4d7865(0x88e)]+_0x4d7865(0x558)),_0x5f89e5=await getDocs(_0x26c1c4),_0x15858=_0x5f89e5[_0x4d7865(0x80f)][_0x4d7865(0x947)](_0x12c817=>_0x12c817[_0x4d7865(0x5ac)]());renderLeaderboard(_0x15858,_0x4d7865(0xc70));}catch(_0x4699cd){console[_0x4d7865(0xb62)]('Error\x20fetching\x20student\x20rankings:',_0x4699cd),showMessage(_0x4d7865(0xd7f));}}async function handleSaveToBank(_0x25f967){const _0x3da8d0=_0x315eb9,_0x44bcd8=_0x25f967['currentTarget'],_0xfb278d=_0x44bcd8[_0x3da8d0(0x4b5)]['index'],_0x34b8b2=currentQuizData['questions'][_0xfb278d];if(!userId){showMessage(_0x3da8d0(0xd00));return;}try{const _0x13213f={..._0x34b8b2,'originalTopic':currentQuizData[_0x3da8d0(0xd28)],'savedAt':serverTimestamp()},_0x277b3d=collection(db,_0x3da8d0(0x2d5)+appId+_0x3da8d0(0xb17)+userId+_0x3da8d0(0xadf));await addDoc(_0x277b3d,_0x13213f),showMessage(_0x3da8d0(0x6a2)),_0x44bcd8[_0x3da8d0(0xd75)]['remove'](_0x3da8d0(0xa5d)),_0x44bcd8[_0x3da8d0(0xd75)][_0x3da8d0(0x8d6)](_0x3da8d0(0x44e)),_0x44bcd8[_0x3da8d0(0x22a)]=!![];}catch(_0x2897d1){console[_0x3da8d0(0xb62)]('Error\x20saving\x20to\x20question\x20bank:',_0x2897d1),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function selectProjectAndGenerateBlueprintQuiz(_0x3e9358,_0x13804e=null,_0x378341=null,_0x4c110d=![]){const _0x29d97a=_0x315eb9;cameFromBlueprint=!![];const _0x1874e6=document[_0x29d97a(0x695)](_0x29d97a(0x4bc))?.[_0x29d97a(0xbdb)][_0x29d97a(0xbcf)]();let _0x2f185e=null;if(_0x1874e6){showMessage(_0x29d97a(0x7b4));try{const _0x5dfae4=await fetchFileFromUrl(_0x1874e6,'reference_onet.pdf'),_0x3a8a71=await new Promise((_0x3a927a,_0x142149)=>{const _0x116286=_0x29d97a,_0x118aaa=new FileReader();_0x118aaa[_0x116286(0xa05)](_0x5dfae4),_0x118aaa[_0x116286(0x83e)]=()=>_0x3a927a(_0x118aaa[_0x116286(0xa55)]['split'](',')[0x1]),_0x118aaa['onerror']=_0x142149;});_0x2f185e=[{'inlineData':{'mimeType':_0x5dfae4[_0x29d97a(0x789)],'data':_0x3a8a71}}],messageModal['classList']['add'](_0x29d97a(0x721));}catch(_0x526c64){console[_0x29d97a(0xb62)](_0x29d97a(0x4d3),_0x526c64),showMessage(_0x29d97a(0x73b));}}const _0x865c83=document[_0x29d97a(0x695)](_0x29d97a(0x28c)),_0x4a7868=document[_0x29d97a(0x695)](_0x29d97a(0x416)),_0x4fd198=_0x865c83['querySelector']('h3'),_0x5e4b61=document['getElementById'](_0x29d97a(0x88b)),_0x233fbd=document[_0x29d97a(0x695)](_0x29d97a(0xd5d));_0x4fd198[_0x29d97a(0x97a)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x5e4b61[_0x29d97a(0x97a)]=_0x29d97a(0x8b5),_0x5e4b61[_0x29d97a(0x22a)]=!![];allProjects[_0x29d97a(0xca6)]===0x0?_0x4a7868[_0x29d97a(0xb6b)]=_0x29d97a(0xc08):(_0x4a7868[_0x29d97a(0xb6b)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects[_0x29d97a(0x947)](_0x5f9778=>_0x29d97a(0xb7e)+_0x5f9778['id']+'\x22>'+_0x5f9778[_0x29d97a(0x36b)]+_0x29d97a(0x866))[_0x29d97a(0x6f5)](''),_0x5e4b61[_0x29d97a(0x22a)]=![]);_0x865c83[_0x29d97a(0xd75)][_0x29d97a(0x8cc)](_0x29d97a(0x721));const _0x44ba0e=async()=>{const _0x1a87b0=_0x29d97a,_0x5a0135=_0x4a7868['value'];if(!_0x5a0135){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0x865c83[_0x1a87b0(0xd75)][_0x1a87b0(0x8d6)](_0x1a87b0(0x721)),document['getElementById'](_0x1a87b0(0x485))[_0x1a87b0(0xd75)][_0x1a87b0(0x8d6)](_0x1a87b0(0x721)),await loadProjectDetails(_0x5a0135),showView(_0x1a87b0(0x5bd)),handleGenerateQuizFromBlueprintTopic(_0x3e9358,_0x13804e,_0x5a0135,_0x378341,_0x4c110d,_0x2f185e),_0x17ff3f();},_0x17ff3f=()=>{const _0x29bf66=_0x29d97a;_0x4fd198[_0x29bf66(0x97a)]=_0x29bf66(0x657),_0x5e4b61[_0x29bf66(0x97a)]=_0x29bf66(0xa3d),_0x5e4b61[_0x29bf66(0x538)](_0x29bf66(0xc9a),_0x44ba0e),_0x233fbd[_0x29bf66(0x538)](_0x29bf66(0xc9a),_0x17ff3f),_0x5e4b61['addEventListener']('click',confirmMoveQuiz);};_0x5e4b61[_0x29d97a(0x538)]('click',confirmMoveQuiz),_0x5e4b61[_0x29d97a(0x59b)](_0x29d97a(0xc9a),_0x44ba0e),_0x233fbd[_0x29d97a(0x59b)]('click',_0x17ff3f);}function listenForStarredQuizzes(){const _0xb244f5=_0x315eb9;if(!userId)return;const _0x3bb24e=collection(db,_0xb244f5(0x2d5)+appId+_0xb244f5(0xc5d)),_0x5c01b6=query(_0x3bb24e,where(_0xb244f5(0xcd9),'==',!![]));onSnapshot(_0x5c01b6,_0x3a9efa=>{const _0x396989=_0xb244f5;starredQuizzes=_0x3a9efa[_0x396989(0x80f)]['map'](_0x2948a9=>({'id':_0x2948a9['id'],..._0x2948a9[_0x396989(0x5ac)]()})),currentProjectId===_0x396989(0x3de)?renderQuizzes():renderProjects();},_0x1be3bc=>{const _0x3f6aa5=_0xb244f5;console[_0x3f6aa5(0xb62)]('Error\x20listening\x20for\x20starred\x20quizzes:',_0x1be3bc);});}function listenForFileShortcuts(){const _0x2e9204=_0x315eb9,_0x151ec6=doc(db,'globalSettings',_0x2e9204(0xc14));onSnapshot(_0x151ec6,_0x2ba2f4=>{const _0x13adc4=_0x2e9204;let _0x192bf4=[],_0x44715a=[],_0x14eadc={};if(_0x2ba2f4[_0x13adc4(0xb5a)]()){const _0x3c186c=_0x2ba2f4[_0x13adc4(0x5ac)]();_0x192bf4=_0x3c186c[_0x13adc4(0x69b)]||[],_0x44715a=_0x3c186c[_0x13adc4(0x63d)]||[],_0x14eadc=_0x3c186c['fileShortcutOrder']||{};}!_0x44715a[_0x13adc4(0x559)](_0x2a527f=>_0x2a527f['id']===_0x13adc4(0xcea))&&_0x44715a['unshift']({'id':_0x13adc4(0xcea),'name':_0x13adc4(0xbd1),'isDefault':!![]}),!_0x192bf4['find'](_0x32b903=>_0x32b903['id']===_0x13adc4(0xcd3))&&_0x192bf4[_0x13adc4(0x859)]({'id':'file-default-1','name':_0x13adc4(0x2d3),'url':'','isDefault':!![]}),!_0x192bf4['find'](_0x290d22=>_0x290d22['id']===_0x13adc4(0x55f))&&_0x192bf4[_0x13adc4(0x859)]({'id':_0x13adc4(0x55f),'name':_0x13adc4(0x8de),'url':'','isDefault':!![]}),fileShortcuts=_0x192bf4,fileShortcutTabs=_0x44715a,fileShortcutOrder=_0x14eadc,renderFileShortcuts(),!document[_0x13adc4(0x695)]('additional-file-shortcuts-modal')[_0x13adc4(0xd75)][_0x13adc4(0x9d9)](_0x13adc4(0x721))&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x456de7=_0x315eb9,_0x225634=doc(db,'globalSettings',_0x456de7(0xc14));try{await setDoc(_0x225634,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x4596b0){console[_0x456de7(0xb62)](_0x456de7(0x697),_0x4596b0);}}function renderAdditionalFileShortcutsModal(){const _0x22e991=_0x315eb9,_0x5c4a06=document[_0x22e991(0x695)](_0x22e991(0x3fc)),_0x1dae84=document[_0x22e991(0x695)](_0x22e991(0x421));if(!_0x5c4a06||!_0x1dae84)return;_0x5c4a06['innerHTML']=fileShortcutTabs[_0x22e991(0x947)](_0x2b9e3a=>{const _0x34f6dd=_0x22e991,_0x1fc303=_0x2b9e3a['id']===activeFileShortcutTabId;return _0x34f6dd(0x7ec)+_0x2b9e3a['id']+_0x34f6dd(0x7f6)+(_0x1fc303?_0x34f6dd(0x429):_0x34f6dd(0xabf))+_0x34f6dd(0xa2e)+_0x2b9e3a[_0x34f6dd(0x38d)]+_0x34f6dd(0xc44)+_0x2b9e3a[_0x34f6dd(0x38d)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x2b9e3a[_0x34f6dd(0x398)]?_0x34f6dd(0xa35)+_0x2b9e3a['id']+_0x34f6dd(0x357):'')+_0x34f6dd(0xb8b);})[_0x22e991(0x6f5)]('');const _0x173013=fileShortcutTabs['find'](_0x4a2032=>_0x4a2032['id']===activeFileShortcutTabId);let _0xd82976=_0x173013?.[_0x22e991(0x398)]?[...fileShortcuts]:fileShortcuts[_0x22e991(0x9c1)](_0x5af88a=>(_0x173013?.[_0x22e991(0x548)]||[])[_0x22e991(0xcac)](_0x5af88a['id']));const _0x46d26b=fileShortcutOrder[activeFileShortcutTabId]||[];_0xd82976['sort']((_0x1b78d4,_0xcc0920)=>{const _0x2a99a2=_0x22e991,_0x49a0fb=_0x46d26b[_0x2a99a2(0x38e)](_0x1b78d4['id']),_0x536ee9=_0x46d26b[_0x2a99a2(0x38e)](_0xcc0920['id']);return(_0x49a0fb===-0x1?Infinity:_0x49a0fb)-(_0x536ee9===-0x1?Infinity:_0x536ee9);}),_0x1dae84[_0x22e991(0xb6b)]=_0xd82976[_0x22e991(0x947)](_0x368196=>{const _0x496224=_0x22e991,_0x3105cf=_0x368196[_0x496224(0x822)]?'📄':'🔗',_0x11de38=fileShortcutTabs[_0x496224(0x9c1)](_0x517edc=>!_0x517edc[_0x496224(0x398)]),_0x421fb2=_0x173013[_0x496224(0x398)]&&_0x11de38[_0x496224(0xca6)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x11de38[_0x496224(0x947)](_0x4b1e89=>_0x496224(0xc85)+_0x368196['id']+_0x496224(0x471)+_0x4b1e89['id']+'\x22>'+_0x4b1e89[_0x496224(0x38d)]+_0x496224(0x3e8))[_0x496224(0x6f5)]('')+_0x496224(0x32c):'';return _0x496224(0xc7a)+_0x368196['id']+_0x496224(0xa83)+_0x3105cf+'\x20'+_0x368196['name']+_0x496224(0xc3d)+_0x368196['id']+_0x496224(0xb7c)+_0x368196['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x368196[_0x496224(0x398)]?_0x496224(0x4e8)+_0x368196['id']+_0x496224(0x6b4):'')+_0x496224(0xae3)+(!_0x173013[_0x496224(0x398)]?_0x496224(0x71e)+_0x368196['id']+_0x496224(0x2db):'')+_0x496224(0xae3)+_0x421fb2+_0x496224(0x77e);})['join']('')||'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x252f70=_0x315eb9;document[_0x252f70(0x4e3)](_0x252f70(0xccb))[_0x252f70(0x2d4)](_0x21f049=>{const _0x2a11a6=_0x252f70;_0x21f049[_0x2a11a6(0x3cf)]=_0x10111d=>{const _0x229607=_0x2a11a6;activeFileShortcutTabId=_0x10111d[_0x229607(0x4de)][_0x229607(0x4b5)][_0x229607(0xaa5)],renderAdditionalFileShortcutsModal();},_0x21f049[_0x2a11a6(0x9d8)]=_0x288d7c=>{const _0x213459=_0x2a11a6,_0x368ed1=_0x288d7c[_0x213459(0x4de)][_0x213459(0xc31)]('.tab-name-input');_0x288d7c[_0x213459(0x4de)][_0x213459(0xc31)](_0x213459(0x76a))['classList'][_0x213459(0x8d6)](_0x213459(0x721)),_0x368ed1[_0x213459(0xd75)]['remove'](_0x213459(0x721)),_0x368ed1[_0x213459(0x56d)](),_0x368ed1['select']();};}),document[_0x252f70(0x4e3)](_0x252f70(0x2ae))['forEach'](_0x575ac7=>{const _0x326cde=_0x252f70,_0x492c05=()=>{const _0x4c8039=_0x42ad,_0x208d9b=_0x575ac7[_0x4c8039(0xb12)](_0x4c8039(0xccb))[_0x4c8039(0x4b5)][_0x4c8039(0xaa5)],_0x4a4c79=fileShortcutTabs[_0x4c8039(0x559)](_0x2b090f=>_0x2b090f['id']===_0x208d9b);_0x4a4c79&&(_0x4a4c79[_0x4c8039(0x38d)]=_0x575ac7['value'][_0x4c8039(0xbcf)]()||_0x4a4c79[_0x4c8039(0x38d)],saveFileShortcutConfig());};_0x575ac7[_0x326cde(0x2a5)]=_0x492c05,_0x575ac7[_0x326cde(0x5f2)]=_0x293dac=>{const _0x310687=_0x326cde;if(_0x293dac['key']==='Enter')_0x575ac7[_0x310687(0x705)]();};}),document[_0x252f70(0x4e3)]('.delete-file-shortcut-tab-btn')[_0x252f70(0x2d4)](_0xb4374a=>_0xb4374a[_0x252f70(0x3cf)]=_0x521def=>{const _0x4bbba3=_0x252f70,_0x2b8c23=_0x521def[_0x4bbba3(0x4de)][_0x4bbba3(0x4b5)][_0x4bbba3(0xaa5)];showConfirmation(_0x4bbba3(0xa82),()=>{const _0x377041=_0x4bbba3;fileShortcutTabs=fileShortcutTabs[_0x377041(0x9c1)](_0x47fe40=>_0x47fe40['id']!==_0x2b8c23),delete fileShortcutOrder[_0x2b8c23];if(activeFileShortcutTabId===_0x2b8c23)activeFileShortcutTabId=_0x377041(0xcea);saveFileShortcutConfig();});}),document[_0x252f70(0x4e3)](_0x252f70(0x743))['forEach'](_0x1e8441=>_0x1e8441[_0x252f70(0x3cf)]=_0x5510e6=>{const _0x28d844=_0x252f70;_0x5510e6[_0x28d844(0xb8f)]();const {shortcutId:_0x3c05f3,targetTabId:_0x27565f}=_0x5510e6['currentTarget'][_0x28d844(0x4b5)],_0x36f037=fileShortcutTabs[_0x28d844(0x559)](_0x1c685b=>_0x1c685b['id']===_0x27565f);_0x36f037&&!_0x36f037['shortcutIds'][_0x28d844(0xcac)](_0x3c05f3)&&(_0x36f037['shortcutIds']['push'](_0x3c05f3),saveFileShortcutConfig());}),document[_0x252f70(0x4e3)]('.remove-file-shortcut-from-tab-btn')['forEach'](_0x4c8982=>_0x4c8982[_0x252f70(0x3cf)]=_0x338b63=>{const _0xeca71b=_0x252f70,_0x2aef9e=_0x338b63[_0xeca71b(0x4de)][_0xeca71b(0x4b5)]['shortcutId'],_0x337ad0=fileShortcutTabs[_0xeca71b(0x559)](_0x217d99=>_0x217d99['id']===activeFileShortcutTabId);_0x337ad0&&!_0x337ad0[_0xeca71b(0x398)]&&(_0x337ad0[_0xeca71b(0x548)]=_0x337ad0[_0xeca71b(0x548)]['filter'](_0x3dd991=>_0x3dd991!==_0x2aef9e),saveFileShortcutConfig());}),document[_0x252f70(0x4e3)](_0x252f70(0x640))[_0x252f70(0x2d4)](_0x26d095=>_0x26d095[_0x252f70(0x3cf)]=_0x2ce074=>{const _0x3d69f8=_0x252f70;_0x2ce074[_0x3d69f8(0xd8b)]();const _0xdc7b0d=_0x2ce074[_0x3d69f8(0x4de)]['nextElementSibling'];document[_0x3d69f8(0x4e3)](_0x3d69f8(0xcc1))[_0x3d69f8(0x2d4)](_0x2a6768=>_0x2a6768[_0x3d69f8(0xd75)][_0x3d69f8(0x8d6)](_0x3d69f8(0x721))),_0xdc7b0d[_0x3d69f8(0xd75)][_0x3d69f8(0x8cc)](_0x3d69f8(0x721));});const _0x348056=document[_0x252f70(0x695)](_0x252f70(0x421));let _0x5a44a1=null;_0x348056[_0x252f70(0x68c)]=_0x4eb5a6=>{const _0x19d9ed=_0x252f70;_0x5a44a1=_0x4eb5a6[_0x19d9ed(0x819)][_0x19d9ed(0xb12)](_0x19d9ed(0x3d3));if(_0x5a44a1)setTimeout(()=>_0x5a44a1['classList'][_0x19d9ed(0x8d6)]('opacity-50'),0x0);},_0x348056[_0x252f70(0xb01)]=()=>{const _0x4a08a8=_0x252f70;_0x5a44a1&&(_0x5a44a1[_0x4a08a8(0xd75)][_0x4a08a8(0x8cc)](_0x4a08a8(0x88d)),_0x5a44a1=null);},_0x348056[_0x252f70(0x687)]=_0x23b07f=>{const _0x423e40=_0x252f70;_0x23b07f[_0x423e40(0xb8f)]();},_0x348056[_0x252f70(0xccd)]=_0x3ca35d=>{const _0x2d9b85=_0x252f70;_0x3ca35d[_0x2d9b85(0xb8f)]();if(_0x5a44a1){const _0x449a9c=[..._0x348056['querySelectorAll'](_0x2d9b85(0x400))]['reduce']((_0x496ba0,_0x5aa8af)=>{const _0x467709=_0x2d9b85,_0x57bf78=_0x5aa8af['getBoundingClientRect'](),_0x294c92=_0x3ca35d[_0x467709(0x6a6)]-_0x57bf78[_0x467709(0x74f)]-_0x57bf78['height']/0x2;return _0x294c92<0x0&&_0x294c92>_0x496ba0[_0x467709(0x837)]?{'offset':_0x294c92,'element':_0x5aa8af}:_0x496ba0;},{'offset':Number[_0x2d9b85(0xbc2)]})[_0x2d9b85(0x270)];_0x449a9c==null?_0x348056[_0x2d9b85(0xbbd)](_0x5a44a1):_0x348056[_0x2d9b85(0x88a)](_0x5a44a1,_0x449a9c);const _0x4c46ba=[..._0x348056[_0x2d9b85(0x4e3)]('.shortcut-list-item')][_0x2d9b85(0x947)](_0x31c0e5=>_0x31c0e5[_0x2d9b85(0x4b5)][_0x2d9b85(0x976)]);fileShortcutOrder[activeFileShortcutTabId]=_0x4c46ba,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x5ed914=_0x315eb9,_0x2a321d=prompt(_0x5ed914(0x23c),_0x5ed914(0x870));_0x2a321d&&_0x2a321d['trim']()&&(fileShortcutTabs['push']({'id':'tab_'+Date[_0x5ed914(0x320)](),'name':_0x2a321d['trim'](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x282238=_0x315eb9,_0x53d3dd=document[_0x282238(0x695)]('file-shortcut-container'),_0x7ea08a=document[_0x282238(0x695)](_0x282238(0x421)),_0x5cdb05=document[_0x282238(0x695)]('file-shortcuts-loading-msg');if(_0x5cdb05)_0x5cdb05['classList'][_0x282238(0x8d6)](_0x282238(0x721));if(!_0x53d3dd||!_0x7ea08a)return;const _0x260bae=fileShortcuts[_0x282238(0x7c9)](0x0,0x4),_0xd265d2=fileShortcuts['slice'](0x4);_0x53d3dd[_0x282238(0xb6b)]=_0x260bae[_0x282238(0x947)](_0xc03454=>{const _0x19b16d=_0x282238,_0x4185cd=_0xc03454[_0x19b16d(0x822)]&&_0xc03454[_0x19b16d(0x822)][_0x19b16d(0xbcf)]()!=='',_0x49a939=selectedFile&&selectedFile['shortcutId']===_0xc03454['id'];let _0xf9251e=_0x19b16d(0x7f0),_0x39f1ec='🔗';if(_0x49a939)_0xf9251e='bg-green-600\x20text-white\x20ring-4\x20ring-green-300',_0x39f1ec=_0x19b16d(0xcd6);else _0x4185cd&&(_0xf9251e='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0x39f1ec='📄');const _0x172ec7=!_0xc03454['isDefault']?_0x19b16d(0x4e8)+_0xc03454['id']+_0x19b16d(0xc13):'';return _0x19b16d(0xb43)+_0xc03454['id']+_0x19b16d(0x537)+_0xf9251e+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>'+_0x39f1ec+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>'+_0xc03454[_0x19b16d(0x38d)]+_0x19b16d(0x218)+_0xc03454['id']+'\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x172ec7+_0x19b16d(0x504);})['join'](''),_0xd265d2['length']>0x0&&(_0x53d3dd['innerHTML']+=_0x282238(0xc0c)),_0xd265d2[_0x282238(0xca6)]>0x0?_0x7ea08a[_0x282238(0xb6b)]=_0xd265d2[_0x282238(0x947)](_0xbd274=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+(_0xbd274[_0x282238(0x822)]?'📄':'🔗')+'\x20'+_0xbd274[_0x282238(0x38d)]+_0x282238(0xcba)+_0xbd274['id']+_0x282238(0xd69)+_0xbd274['id']+_0x282238(0x3a2)+(!_0xbd274[_0x282238(0x398)]?_0x282238(0x4e8)+_0xbd274['id']+'\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x282238(0x4b0))[_0x282238(0x6f5)](''):_0x7ea08a[_0x282238(0xb6b)]=_0x282238(0xbd0);}function openFileShortcutEditor(_0x573304=null){const _0x43386f=_0x315eb9,_0x15be9f=document[_0x43386f(0x695)]('file-shortcut-editor-modal'),_0x3a320b=document[_0x43386f(0x695)]('file-shortcut-modal-title'),_0x6935ef=document[_0x43386f(0x695)](_0x43386f(0x4a7)),_0x1f2e73=document[_0x43386f(0x695)](_0x43386f(0xb40)),_0xfe5704=document['getElementById']('file-shortcut-url-input');if(_0x573304){const _0x4f3b8d=fileShortcuts[_0x43386f(0x559)](_0x17fa75=>_0x17fa75['id']===_0x573304);if(!_0x4f3b8d)return;_0x3a320b[_0x43386f(0x97a)]=_0x43386f(0xb2f),_0x6935ef[_0x43386f(0xbdb)]=_0x4f3b8d['id'],_0x1f2e73[_0x43386f(0xbdb)]=_0x4f3b8d[_0x43386f(0x38d)],_0xfe5704['value']=_0x4f3b8d['url']||'';}else _0x3a320b[_0x43386f(0x97a)]=_0x43386f(0x950),_0x6935ef[_0x43386f(0xbdb)]='',_0x1f2e73['value']='',_0xfe5704[_0x43386f(0xbdb)]='';_0x15be9f['classList'][_0x43386f(0x8cc)]('hidden');}async function saveFileShortcutChanges(){const _0x17fb3d=_0x315eb9,_0x49af3d=document[_0x17fb3d(0x695)](_0x17fb3d(0x4a7))[_0x17fb3d(0xbdb)],_0x55fdc5=document[_0x17fb3d(0x695)](_0x17fb3d(0xb40))[_0x17fb3d(0xbdb)][_0x17fb3d(0xbcf)](),_0x4d4226=document[_0x17fb3d(0x695)](_0x17fb3d(0x455))[_0x17fb3d(0xbdb)][_0x17fb3d(0xbcf)]();if(!_0x55fdc5){showMessage(_0x17fb3d(0xa44));return;}const _0x10c961={'id':_0x49af3d||_0x17fb3d(0x489)+Date[_0x17fb3d(0x320)](),'name':_0x55fdc5,'url':_0x4d4226,'isDefault':_0x49af3d[_0x17fb3d(0x6db)](_0x17fb3d(0x2b2))};let _0x765834;_0x49af3d?_0x765834=fileShortcuts[_0x17fb3d(0x947)](_0x3f0a9f=>_0x3f0a9f['id']===_0x49af3d?_0x10c961:_0x3f0a9f):_0x765834=[...fileShortcuts,_0x10c961];try{const _0xbf4140=doc(db,_0x17fb3d(0x974),_0x17fb3d(0xc14));await setDoc(_0xbf4140,{'shortcuts':_0x765834},{'merge':!![]}),document[_0x17fb3d(0x695)](_0x17fb3d(0x1ff))[_0x17fb3d(0xd75)][_0x17fb3d(0x8d6)]('hidden');}catch(_0x2a2ca0){console[_0x17fb3d(0xb62)](_0x17fb3d(0xd70),_0x2a2ca0),showMessage(_0x17fb3d(0x9e7));}}async function handleFileShortcutClick(_0x3499f3){const _0x4e0c08=_0x315eb9,_0x353e0d=fileShortcuts[_0x4e0c08(0x559)](_0x527709=>_0x527709['id']===_0x3499f3);if(!_0x353e0d)return;if(!_0x353e0d[_0x4e0c08(0x822)]||_0x353e0d['url'][_0x4e0c08(0xbcf)]()===''){openFileShortcutEditor(_0x3499f3);return;}const _0x254549=document[_0x4e0c08(0xc31)](_0x4e0c08(0x9db)+_0x3499f3+'\x22]');if(_0x254549){const _0x1401b6=_0x254549[_0x4e0c08(0xb6b)];_0x254549[_0x4e0c08(0xb6b)]=_0x4e0c08(0xce0),_0x254549[_0x4e0c08(0x22a)]=!![];}document['querySelectorAll'](_0x4e0c08(0x9ee))[_0x4e0c08(0x2d4)](_0x365361=>{const _0x3807ee=_0x4e0c08;if(_0x365361['dataset']['id']!==_0x3499f3)_0x365361[_0x3807ee(0xd75)][_0x3807ee(0x8d6)]('opacity-50','pointer-events-none');});try{const _0x1ad6f9=new URL(_0x353e0d['url'])['pathname'],_0x34cbe0=_0x1ad6f9[_0x4e0c08(0x4e1)](_0x1ad6f9[_0x4e0c08(0x3a9)]('/')+0x1)||(_0x353e0d[_0x4e0c08(0x822)][_0x4e0c08(0xcac)](_0x4e0c08(0x40a))?_0x4e0c08(0x50d):'file.pdf'),_0x1768df=await fetchFileFromUrl(_0x353e0d[_0x4e0c08(0x822)],_0x34cbe0);_0x1768df[_0x4e0c08(0x976)]=_0x3499f3,selectedFile=_0x1768df,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0x4e0c08(0x695)](_0x4e0c08(0x796))['scrollIntoView']({'behavior':_0x4e0c08(0x4f0),'block':'center'});}catch(_0x5f57e6){console[_0x4e0c08(0xb62)]('Error\x20processing\x20file\x20shortcut\x20click:',_0x5f57e6),showMessage('เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20'+_0x5f57e6[_0x4e0c08(0x9eb)]),renderFileShortcuts();}finally{document[_0x4e0c08(0x4e3)](_0x4e0c08(0x9ee))['forEach'](_0x5cf4a6=>{const _0x280e1a=_0x4e0c08;_0x5cf4a6[_0x280e1a(0xd75)][_0x280e1a(0x8cc)](_0x280e1a(0x88d),'pointer-events-none'),_0x5cf4a6[_0x280e1a(0x22a)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x5b0bb6=_0x315eb9;if(allQuizzesGlobal[_0x5b0bb6(0xca6)]>0x0)return;console[_0x5b0bb6(0x95e)]('Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...'),showMessage(_0x5b0bb6(0xbac));try{const _0x5109ec=await getDocs(collection(db,'artifacts/'+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x5109ec['docs']['map'](_0x6edc56=>({'id':_0x6edc56['id'],..._0x6edc56[_0x5b0bb6(0x5ac)]()})),console[_0x5b0bb6(0x95e)](_0x5b0bb6(0x769)+allQuizzesGlobal[_0x5b0bb6(0xca6)]+'\x20quizzes\x20into\x20global\x20cache.'),messageModal[_0x5b0bb6(0xd75)][_0x5b0bb6(0x8d6)]('hidden');}catch(_0x12a248){console[_0x5b0bb6(0xb62)](_0x5b0bb6(0x3b9),_0x12a248),messageModal[_0x5b0bb6(0xd75)][_0x5b0bb6(0x8d6)](_0x5b0bb6(0x721));throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0x1a6964=_0x315eb9;if(!currentQuizData||!currentQuizData[_0x1a6964(0xab9)]){showMessage(_0x1a6964(0x5ea));return;}const _0x487eee=currentQuizData,_0x131572=window[_0x1a6964(0x26f)]('',_0x1a6964(0xc60)),_0x2404e9=_0x339a67=>String[_0x1a6964(0xc63)](0x41+_0x339a67),_0x7cb380=_0x1a6964(0x2e2)+_0x487eee['topic']+_0x1a6964(0xafd)+_0x487eee[_0x1a6964(0xd28)]+_0x1a6964(0x2e3)+_0x487eee['questions'][_0x1a6964(0x947)]((_0x16232a,_0x1e04fa)=>{const _0x34881a=_0x1a6964;let _0x5588a2='';const _0x3ad96f=_0x16232a[_0x34881a(0x9e0)]||_0x487eee[_0x34881a(0xa41)];switch(_0x3ad96f){case _0x34881a(0x959):case'fill_in_with_choices':_0x5588a2=_0x34881a(0x444)+_0x16232a[_0x34881a(0x6ce)]['map']((_0x274d7a,_0x101efd)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x2404e9(_0x101efd)+'.\x20'+_0x274d7a+_0x34881a(0x7dd))['join'](_0x34881a(0x381))+_0x34881a(0x4cd);break;case _0x34881a(0xb93):_0x5588a2=_0x34881a(0x6a8);break;default:_0x5588a2=_0x34881a(0x850);break;}return _0x34881a(0xbaa)+(_0x1e04fa+0x1)+_0x34881a(0x33e)+(_0x16232a[_0x34881a(0x858)]||_0x16232a['questionText'])+_0x34881a(0x389)+(_0x16232a[_0x34881a(0xaf3)]?_0x34881a(0x69e)+_0x16232a['imageCode']+_0x34881a(0x4cd):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5588a2+_0x34881a(0x278);})[_0x1a6964(0x6f5)]('')+_0x1a6964(0x755);_0x131572[_0x1a6964(0xd65)][_0x1a6964(0x308)](_0x7cb380),_0x131572[_0x1a6964(0xd65)]['close'](),_0x131572[_0x1a6964(0x83e)]=function(){setTimeout(()=>{const _0x3f84fd=_0x42ad;_0x131572[_0x3f84fd(0x983)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0xe6fd47=_0x315eb9;if(!currentQuizData||!currentQuizData[_0xe6fd47(0xab9)]){showMessage(_0xe6fd47(0x5ea));return;}const _0x23264c=currentQuizData,_0x5ed415=window['open']('',_0xe6fd47(0xc60)),_0x582be3=_0x51ef8e=>String['fromCharCode'](0x41+_0x51ef8e),_0x130903=_0xe6fd47(0xc01)+_0x23264c[_0xe6fd47(0xd28)]+_0xe6fd47(0x579)+_0x23264c[_0xe6fd47(0xab9)][_0xe6fd47(0x947)]((_0x33f77d,_0x3b8433)=>{const _0x1f3b61=_0xe6fd47;let _0x34028f='';const _0x3c11f6=_0x33f77d[_0x1f3b61(0x9e0)]||_0x23264c[_0x1f3b61(0xa41)];switch(_0x3c11f6){case _0x1f3b61(0x959):case _0x1f3b61(0xd94):_0x34028f=_0x1f3b61(0x5ad)+_0x33f77d[_0x1f3b61(0x6ce)]['map']((_0x272423,_0x14db16)=>_0x1f3b61(0x21c)+_0x582be3(_0x14db16)+'.\x20'+_0x272423+'</span>')[_0x1f3b61(0x6f5)](_0x1f3b61(0x381))+_0x1f3b61(0x249);break;case _0x1f3b61(0xb93):_0x34028f=_0x1f3b61(0xd01);break;default:_0x34028f='';break;}return _0x1f3b61(0x807)+_0x23264c[_0x1f3b61(0xd28)]+_0x1f3b61(0x509)+(_0x3b8433+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x33f77d['stem']||_0x33f77d[_0x1f3b61(0x620)])+_0x1f3b61(0x389)+(_0x33f77d[_0x1f3b61(0xaf3)]?_0x1f3b61(0x7ce)+_0x33f77d[_0x1f3b61(0xaf3)]+_0x1f3b61(0x4cd):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x34028f+_0x1f3b61(0xa45);})['join']('')+_0xe6fd47(0x7e5);_0x5ed415[_0xe6fd47(0xd65)][_0xe6fd47(0x308)](_0x130903),_0x5ed415[_0xe6fd47(0xd65)][_0xe6fd47(0x367)](),_0x5ed415['onload']=function(){setTimeout(()=>{const _0x3f9119=_0x42ad;_0x5ed415[_0x3f9119(0x983)]();},0x5dc);};}async function handleToggleStarQuiz(_0x3a9184){const _0x39e2f5=_0x315eb9,_0x181667=doc(db,_0x39e2f5(0x2d5)+appId+_0x39e2f5(0xc5d),_0x3a9184);try{const _0x160773=await getDoc(_0x181667);if(_0x160773['exists']()){const _0x2452f1=_0x160773['data']()['isStarred']||![];await updateDoc(_0x181667,{'isStarred':!_0x2452f1});}}catch(_0x4e9218){console[_0x39e2f5(0xb62)](_0x39e2f5(0x91a),_0x4e9218),showMessage('เกิดข้อผิดพลาดในการติดดาว');}}async function displayQuestionBank(){const _0x41fb20=_0x315eb9,_0x261530=document['getElementById']('bank-input-area');_0x261530[_0x41fb20(0xb6b)]=_0x41fb20(0xb4f);try{const _0x437286=collection(db,_0x41fb20(0x2d5)+appId+_0x41fb20(0xb17)+userId+'/questionBank'),_0x5250c9=query(_0x437286),_0x1b1091=await getDocs(_0x5250c9);if(_0x1b1091[_0x41fb20(0x7e1)]){_0x261530[_0x41fb20(0xb6b)]=_0x41fb20(0x675);return;}let _0x4f636b=_0x1b1091[_0x41fb20(0x80f)]['map'](_0x4353c7=>{const _0x4ea806=_0x41fb20,_0x10e393=_0x4353c7[_0x4ea806(0x5ac)](),_0x421f14=_0x4353c7['id'];return _0x4ea806(0x24b)+JSON['stringify'](_0x10e393)+_0x4ea806(0xd3b)+(_0x10e393['questionText']||_0x10e393['stem'])+_0x4ea806(0x639)+_0x10e393[_0x4ea806(0xd42)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('');_0x261530['innerHTML']=_0x41fb20(0x64c)+_0x4f636b+_0x41fb20(0x413),document[_0x41fb20(0x695)]('create-from-bank-btn')[_0x41fb20(0x59b)]('click',createQuizFromBank);}catch(_0x420384){console['error'](_0x41fb20(0xb11),_0x420384),_0x261530['innerHTML']=_0x41fb20(0x8ac);}}async function handleExportLessonToPDF(){const _0x53883b=_0x315eb9,_0x2b7829=document[_0x53883b(0x695)](_0x53883b(0x5b3)),_0x237a47=document[_0x53883b(0x695)](_0x53883b(0xb75))[_0x53883b(0x97a)]||_0x53883b(0x94a);if(!_0x2b7829){showMessage('ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export');return;}const _0x11f50a=window[_0x53883b(0x26f)]('','_blank'),_0x321031=_0x53883b(0x79e)+_0x237a47+_0x53883b(0xa18)+_0x237a47+_0x53883b(0xcb3)+_0x2b7829['innerHTML']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x11f50a[_0x53883b(0xd65)]['write'](_0x321031),_0x11f50a[_0x53883b(0xd65)]['close'](),_0x11f50a['onload']=function(){setTimeout(()=>{const _0x5c6ffc=_0x42ad;_0x11f50a[_0x5c6ffc(0x983)]();},0x7d0);};}function showAdminLiveQuestionView(_0x20cabd,_0x55bb74,_0x4cb572){const _0x507f95=_0x315eb9,_0x2a8a90=_0x20cabd[_0x507f95(0x9e0)]||currentQuizData[_0x507f95(0xa41)];let _0x19ac08='';if(_0x2a8a90==='multiple_choice'||_0x2a8a90===_0x507f95(0xb93)){const _0x49042d=_0x2a8a90===_0x507f95(0xb93)?[_0x507f95(0x26d),_0x507f95(0x383)]:_0x20cabd[_0x507f95(0x6ce)],_0xb8a2df=_0x2a8a90===_0x507f95(0xb93)?_0x20cabd[_0x507f95(0x43f)]?0x0:0x1:_0x20cabd[_0x507f95(0x794)];_0x19ac08=_0x49042d['map']((_0x3a654c,_0x4ca208)=>_0x507f95(0x3c1)+(_0x4ca208===_0xb8a2df)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3a654c+_0x507f95(0x504))[_0x507f95(0x6f5)]('');}else{if(_0x2a8a90===_0x507f95(0xc17)){const _0x3c6482=_0x20cabd[_0x507f95(0x556)]||[];_0x19ac08=_0x3c6482['map'](_0x31b146=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x31b146===_0x20cabd[_0x507f95(0x5a6)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x31b146+_0x507f95(0x504))[_0x507f95(0x6f5)]('');}}const _0x5f3642=_0x20cabd[_0x507f95(0x858)]||_0x20cabd[_0x507f95(0x620)],_0x348b1e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x55bb74+0x1)+_0x507f95(0xcd4)+_0x4cb572+_0x507f95(0x91d)+currentLiveGamePin+_0x507f95(0x424)+_0x5f3642+_0x507f95(0x93f)+_0x19ac08+_0x507f95(0x703);liveGameView[_0x507f95(0xb6b)]=_0x348b1e,window[_0x507f95(0x3af)]&&MathJax[_0x507f95(0xcaf)]&&MathJax[_0x507f95(0xcaf)]([liveGameView]),document[_0x507f95(0x695)](_0x507f95(0xd5f))[_0x507f95(0x59b)](_0x507f95(0xc9a),()=>revealAnswerForAdmin(_0x55bb74,_0x4cb572)),document[_0x507f95(0x695)](_0x507f95(0xc7f))[_0x507f95(0x59b)](_0x507f95(0xc9a),async()=>{const _0x124c84=_0x507f95;showConfirmation(_0x124c84(0x30f),async()=>{const _0x25143b=_0x124c84,_0x3b14bc=doc(db,_0x25143b(0x2d5)+appId+_0x25143b(0xc05),currentLiveGameId);await updateDoc(_0x3b14bc,{'status':_0x25143b(0xa86)});});}),document['getElementById'](_0x507f95(0x6d8))[_0x507f95(0x59b)](_0x507f95(0xc9a),()=>{const _0x560d1d=_0x507f95;document[_0x560d1d(0x695)](_0x560d1d(0x6dc))['classList'][_0x560d1d(0x352)](_0x560d1d(0x721));});}function promptForProjectBeforeGenerating(_0x39a07c){const _0x205724=_0x315eb9,_0x50a60e=document['getElementById']('move-quiz-modal'),_0x378a2f=document['getElementById'](_0x205724(0x416)),_0x501d3f=_0x50a60e[_0x205724(0xc31)]('h3'),_0x2493ba=document[_0x205724(0x695)](_0x205724(0x88b)),_0x4ed515=document[_0x205724(0x695)]('cancel-move-quiz-btn');_0x501d3f[_0x205724(0x97a)]=_0x205724(0xc8d),_0x2493ba[_0x205724(0x97a)]='เลือกและเริ่มสร้าง',_0x2493ba[_0x205724(0x22a)]=!![];allProjects[_0x205724(0xca6)]===0x0?_0x378a2f[_0x205724(0xb6b)]=_0x205724(0xc08):(_0x378a2f[_0x205724(0xb6b)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects[_0x205724(0x947)](_0x578160=>_0x205724(0xb7e)+_0x578160['id']+'\x22>'+_0x578160[_0x205724(0x36b)]+_0x205724(0x866))['join'](''),_0x2493ba[_0x205724(0x22a)]=![]);_0x50a60e[_0x205724(0xd75)]['remove'](_0x205724(0x721));const _0x14703f=async()=>{const _0x11df4b=_0x205724,_0x100260=_0x378a2f['value'];if(!_0x100260){showMessage(_0x11df4b(0x214));return;}_0x50a60e[_0x11df4b(0xd75)][_0x11df4b(0x8d6)](_0x11df4b(0x721)),await loadProjectDetails(_0x100260),showView(_0x11df4b(0x5bd)),handleGenerateQuizFromBlueprintTopic(_0x39a07c),_0x4e5670();},_0x4e5670=()=>{const _0x309da6=_0x205724;_0x501d3f[_0x309da6(0x97a)]=_0x309da6(0x657),_0x2493ba[_0x309da6(0x97a)]='ย้าย',_0x2493ba[_0x309da6(0x538)]('click',_0x14703f),_0x4ed515[_0x309da6(0x538)](_0x309da6(0xc9a),_0x4e5670),_0x2493ba[_0x309da6(0x59b)](_0x309da6(0xc9a),confirmMoveQuiz);};_0x2493ba['removeEventListener']('click',confirmMoveQuiz),_0x2493ba[_0x205724(0x59b)](_0x205724(0xc9a),_0x14703f),_0x4ed515[_0x205724(0x59b)]('click',_0x4e5670);}function showStudentLiveQuestionView(_0x3271ac,_0x4dfed9,_0x3dfff7){const _0x1ddba0=_0x315eb9,_0x5522d9=_0x3271ac[_0x1ddba0(0x9e0)]||currentQuizData[_0x1ddba0(0xa41)];let _0x23c48c='';if(_0x5522d9===_0x1ddba0(0x959)||_0x5522d9===_0x1ddba0(0xb93)){const _0xc3d9d5=_0x5522d9===_0x1ddba0(0xb93)?[_0x1ddba0(0x26d),_0x1ddba0(0x383)]:_0x3271ac['options'];_0x23c48c=_0xc3d9d5[_0x1ddba0(0x947)]((_0x1e1e89,_0x2b49d7)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x2b49d7+_0x1ddba0(0xb2a)+_0x1e1e89+_0x1ddba0(0xc8f))[_0x1ddba0(0x6f5)]('');}else{if(_0x5522d9===_0x1ddba0(0xc17)){const _0x504c5f=_0x3271ac[_0x1ddba0(0x556)]||[];_0x23c48c=_0x504c5f[_0x1ddba0(0x947)]((_0x4f8a87,_0x48d4db)=>_0x1ddba0(0xd99)+_0x48d4db+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4f8a87+_0x1ddba0(0xc8f))['join']('');}else _0x5522d9===_0x1ddba0(0x735)&&(_0x23c48c=_0x1ddba0(0xba9));}const _0x423ebc=_0x3271ac[_0x1ddba0(0x858)]||_0x3271ac['questionText'],_0x7bc8ed=_0x1ddba0(0xa67)+(_0x4dfed9+0x1)+_0x1ddba0(0xcd4)+_0x3dfff7+_0x1ddba0(0x4ff)+_0x423ebc+_0x1ddba0(0x2fb)+_0x23c48c+_0x1ddba0(0x9fa);liveGameView['innerHTML']=_0x7bc8ed;window[_0x1ddba0(0x3af)]&&MathJax[_0x1ddba0(0xcaf)]&&MathJax[_0x1ddba0(0xcaf)]([liveGameView]);const _0x2d8f15=document[_0x1ddba0(0x695)](_0x1ddba0(0x3ad));_0x2d8f15&&_0x2d8f15['addEventListener']('click',()=>{const _0xbde53d=_0x1ddba0,_0x36ee3c=document[_0xbde53d(0x695)](_0xbde53d(0x3d0))[_0xbde53d(0xbdb)];handleLiveAnswer(_0x36ee3c,_0x3271ac);}),document[_0x1ddba0(0x695)](_0x1ddba0(0xd19))[_0x1ddba0(0x59b)](_0x1ddba0(0xc9a),_0x458fd8=>{const _0x4e68e9=_0x1ddba0,_0x2b92f5=_0x458fd8['target'][_0x4e68e9(0xb12)](_0x4e68e9(0xbb2));if(_0x2b92f5){const _0x221d61=parseInt(_0x2b92f5[_0x4e68e9(0x4b5)]['index']);handleLiveAnswer(_0x221d61,_0x3271ac);}});}function listenForBlueprintShortcuts(){const _0x562de3=doc(db,'globalSettings','dashboardConfig');onSnapshot(_0x562de3,_0x379962=>{const _0x2dc2c0=_0x42ad;let _0x2f0610=[],_0x22ce45=[],_0x9f41a0={};if(_0x379962['exists']()){const _0x2920e7=_0x379962['data']();_0x2f0610=_0x2920e7[_0x2dc2c0(0x8f6)]||[],_0x22ce45=_0x2920e7[_0x2dc2c0(0xc61)]||[],_0x9f41a0=_0x2920e7['shortcutOrder']||{};}!_0x22ce45[_0x2dc2c0(0x559)](_0x534eb7=>_0x534eb7['id']===_0x2dc2c0(0xcea))&&_0x22ce45[_0x2dc2c0(0x859)]({'id':_0x2dc2c0(0xcea),'name':'ปุ่มลัดทั้งหมด','isDefault':!![]}),!_0x2f0610[_0x2dc2c0(0x559)](_0x2f6da7=>_0x2f6da7['id']===_0x2dc2c0(0x50f))&&_0x2f0610[_0x2dc2c0(0x859)]({'id':_0x2dc2c0(0x50f),'name':'Blueprint\x201','blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x2f0610['find'](_0x34a734=>_0x34a734['id']==='default-2')&&_0x2f0610[_0x2dc2c0(0x859)]({'id':_0x2dc2c0(0x99c),'name':_0x2dc2c0(0x8dd),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x2f0610,shortcutTabs=_0x22ce45,shortcutOrder=_0x9f41a0,renderBlueprintShortcuts(),!document[_0x2dc2c0(0x695)](_0x2dc2c0(0xc59))['classList'][_0x2dc2c0(0x9d9)]('hidden')&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x59e6b9=_0x315eb9,_0x6c325b=document[_0x59e6b9(0x695)]('shortcut-tabs-nav'),_0x1b9c0b=document[_0x59e6b9(0x695)](_0x59e6b9(0x4bf));if(!_0x6c325b||!_0x1b9c0b)return;_0x6c325b['innerHTML']=shortcutTabs[_0x59e6b9(0x947)](_0x24caf0=>{const _0x3ba190=_0x59e6b9,_0x3168b2=_0x24caf0['id']===activeShortcutTabId,_0x3e0eb9=_0x3ba190(0x429),_0x3218fc='border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300';return _0x3ba190(0xb46)+_0x24caf0['id']+_0x3ba190(0x85e)+(_0x3168b2?_0x3e0eb9:_0x3218fc)+_0x3ba190(0xb0a)+_0x24caf0[_0x3ba190(0x38d)]+_0x3ba190(0x710)+_0x24caf0[_0x3ba190(0x38d)]+'\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x24caf0[_0x3ba190(0x398)]?_0x3ba190(0xaea)+_0x24caf0['id']+_0x3ba190(0x817):'')+_0x3ba190(0x504);})[_0x59e6b9(0x6f5)]('');const _0x2550e7=shortcutTabs[_0x59e6b9(0x559)](_0x2eeb2e=>_0x2eeb2e['id']===activeShortcutTabId);let _0x58f15f=[];if(_0x2550e7){if(_0x2550e7['isDefault'])_0x58f15f=[...blueprintShortcuts];else{const _0x59f2c5=_0x2550e7[_0x59e6b9(0x548)]||[];_0x58f15f=blueprintShortcuts[_0x59e6b9(0x9c1)](_0x201f18=>_0x59f2c5[_0x59e6b9(0xcac)](_0x201f18['id']));}}const _0x2ce9d9=shortcutOrder[activeShortcutTabId]||[];_0x58f15f['sort']((_0x3b1b98,_0x3b6c50)=>{const _0x5cc279=_0x59e6b9,_0x462252=_0x2ce9d9[_0x5cc279(0x38e)](_0x3b1b98['id']),_0x162922=_0x2ce9d9[_0x5cc279(0x38e)](_0x3b6c50['id']);if(_0x462252===-0x1)return 0x1;if(_0x162922===-0x1)return-0x1;return _0x462252-_0x162922;}),_0x1b9c0b[_0x59e6b9(0xb6b)]=_0x58f15f[_0x59e6b9(0xca6)]>0x0?_0x58f15f['map'](_0x3754ed=>{const _0x446d51=_0x59e6b9;let _0x3014a4='🧩';if(_0x3754ed[_0x446d51(0x46b)]&&_0x3754ed[_0x446d51(0x6f7)])_0x3014a4='📗';else{if(_0x3754ed['blueprintUrl'])_0x3014a4='📘';}const _0x8026d6=shortcutTabs[_0x446d51(0x9c1)](_0xb5d41=>!_0xb5d41[_0x446d51(0x398)]),_0x455504=_0x2550e7[_0x446d51(0x398)]&&_0x8026d6[_0x446d51(0xca6)]>0x0?_0x446d51(0x911)+_0x8026d6[_0x446d51(0x947)](_0x520776=>_0x446d51(0x473)+_0x3754ed['id']+_0x446d51(0x471)+_0x520776['id']+'\x22>'+_0x520776[_0x446d51(0x38d)]+'</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x446d51(0x6f5)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':'';return _0x446d51(0xb88)+_0x3754ed['id']+_0x446d51(0x6e5)+_0x3014a4+'\x20'+_0x3754ed['name']+_0x446d51(0x619)+_0x3754ed['id']+_0x446d51(0x998)+_0x3754ed['id']+_0x446d51(0xc90)+(!_0x3754ed[_0x446d51(0x398)]?_0x446d51(0x4e8)+_0x3754ed['id']+_0x446d51(0x5d1):'')+_0x446d51(0x498)+(!_0x2550e7[_0x446d51(0x398)]?_0x446d51(0x71e)+_0x3754ed['id']+_0x446d51(0x3c2):'')+_0x446d51(0x498)+_0x455504+_0x446d51(0x7ae);})[_0x59e6b9(0x6f5)](''):'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x302f43=_0x315eb9;document[_0x302f43(0x4e3)](_0x302f43(0x53a))[_0x302f43(0x2d4)](_0x28356d=>{const _0x377098=_0x302f43;_0x28356d[_0x377098(0x59b)](_0x377098(0xc9a),_0x2c44b3=>{const _0x5cdf1f=_0x377098;activeShortcutTabId=_0x2c44b3[_0x5cdf1f(0x4de)]['dataset'][_0x5cdf1f(0xaa5)],renderAdditionalShortcutsModal();}),_0x28356d[_0x377098(0x59b)](_0x377098(0x64f),_0x2933d6=>{const _0x4d3639=_0x377098,_0x5ef874=_0x2933d6[_0x4d3639(0x4de)];_0x5ef874[_0x4d3639(0xc31)](_0x4d3639(0x76a))['classList'][_0x4d3639(0x8d6)](_0x4d3639(0x721));const _0x47f7ee=_0x5ef874[_0x4d3639(0xc31)](_0x4d3639(0x652));_0x47f7ee[_0x4d3639(0xd75)]['remove']('hidden'),_0x47f7ee['focus'](),_0x47f7ee[_0x4d3639(0x5c1)]();});}),document[_0x302f43(0x4e3)]('.tab-name-input')[_0x302f43(0x2d4)](_0x38e65e=>{const _0x586642=_0x302f43,_0x52aa04=()=>{const _0x37aba5=_0x42ad,_0x3643a5=_0x38e65e['closest'](_0x37aba5(0x53a))[_0x37aba5(0x4b5)]['tabId'];handleRenameShortcutTab(_0x3643a5,_0x38e65e['value']);};_0x38e65e[_0x586642(0x59b)](_0x586642(0x705),_0x52aa04),_0x38e65e[_0x586642(0x59b)]('keydown',_0x6225cb=>{const _0x4c7f59=_0x586642;if(_0x6225cb[_0x4c7f59(0x902)]===_0x4c7f59(0xd6c))_0x38e65e[_0x4c7f59(0x705)]();});}),document[_0x302f43(0x4e3)](_0x302f43(0x592))[_0x302f43(0x2d4)](_0x339a43=>{const _0x5c45bf=_0x302f43;_0x339a43[_0x5c45bf(0x59b)]('click',_0x40b6ef=>handleDeleteShortcutTab(_0x40b6ef[_0x5c45bf(0x4de)][_0x5c45bf(0x4b5)][_0x5c45bf(0xaa5)]));}),document['querySelectorAll'](_0x302f43(0x349))[_0x302f43(0x2d4)](_0x78a8da=>{_0x78a8da['addEventListener']('click',_0x26d4cf=>{const _0x56e5b4=_0x42ad;_0x26d4cf[_0x56e5b4(0xb8f)]();const {shortcutId:_0x5d8f72,targetTabId:_0x1ae814}=_0x26d4cf[_0x56e5b4(0x4de)]['dataset'];handleMoveShortcutToTab(_0x5d8f72,_0x1ae814);});}),document['querySelectorAll'](_0x302f43(0xce9))[_0x302f43(0x2d4)](_0x48a280=>{const _0x420745=_0x302f43;_0x48a280[_0x420745(0x59b)](_0x420745(0xc9a),_0x1c9cd0=>{const _0x566f10=_0x420745;handleRemoveShortcutFromTab(_0x1c9cd0[_0x566f10(0x4de)]['dataset'][_0x566f10(0x976)],activeShortcutTabId);});});const _0x181e53=document['getElementById']('additional-shortcuts-list');_0x181e53[_0x302f43(0x4e3)](_0x302f43(0x24d))['forEach'](_0x33276a=>{const _0x2d8fad=_0x302f43;_0x33276a[_0x2d8fad(0x59b)](_0x2d8fad(0xc9a),()=>{const _0x128ac0=_0x2d8fad;document[_0x128ac0(0x695)](_0x128ac0(0xc59))[_0x128ac0(0xd75)]['add']('hidden'),handleShortcutClick(_0x33276a[_0x128ac0(0x4b5)]['id']);});});let _0x5eb0f5=null;_0x181e53[_0x302f43(0x59b)](_0x302f43(0x98c),_0x52280b=>{const _0xb0a1a1=_0x302f43;_0x5eb0f5=_0x52280b[_0xb0a1a1(0x819)][_0xb0a1a1(0xb12)](_0xb0a1a1(0x3d3)),_0x5eb0f5&&setTimeout(()=>_0x5eb0f5['classList'][_0xb0a1a1(0x8d6)]('opacity-50'),0x0);}),_0x181e53[_0x302f43(0x59b)](_0x302f43(0x9b0),()=>{const _0x3d90d8=_0x302f43;_0x5eb0f5&&(_0x5eb0f5[_0x3d90d8(0xd75)][_0x3d90d8(0x8cc)](_0x3d90d8(0x88d)),_0x5eb0f5=null);}),_0x181e53['addEventListener'](_0x302f43(0xc10),_0x350199=>{const _0x21c399=_0x302f43;_0x350199[_0x21c399(0xb8f)]();const _0x131176=[..._0x181e53['querySelectorAll'](_0x21c399(0x400))]['reduce']((_0x17fb9b,_0x470f3a)=>{const _0x3b82cf=_0x21c399,_0x65ed=_0x470f3a[_0x3b82cf(0xc27)](),_0x5a5848=_0x350199['clientY']-_0x65ed[_0x3b82cf(0x74f)]-_0x65ed[_0x3b82cf(0x6b1)]/0x2;return _0x5a5848<0x0&&_0x5a5848>_0x17fb9b[_0x3b82cf(0x837)]?{'offset':_0x5a5848,'element':_0x470f3a}:_0x17fb9b;},{'offset':Number['NEGATIVE_INFINITY']})['element'];_0x131176==null?_0x181e53[_0x21c399(0xbbd)](_0x5eb0f5):_0x181e53[_0x21c399(0x88a)](_0x5eb0f5,_0x131176);}),_0x181e53[_0x302f43(0x59b)](_0x302f43(0x41b),_0x16a2cb=>{const _0x4bb790=_0x302f43;_0x16a2cb[_0x4bb790(0xb8f)]();if(_0x5eb0f5){const _0x5844a6=[..._0x181e53['querySelectorAll'](_0x4bb790(0x3d3))][_0x4bb790(0x947)](_0x2cd597=>_0x2cd597[_0x4bb790(0x4b5)][_0x4bb790(0x976)]);handleShortcutOrderChange(activeShortcutTabId,_0x5844a6);}}),document[_0x302f43(0x4e3)](_0x302f43(0xb1d))['forEach'](_0x413b60=>{const _0x1f1550=_0x302f43;_0x413b60[_0x1f1550(0x59b)](_0x1f1550(0xc9a),_0x468d34=>{const _0x2c4d57=_0x1f1550;_0x468d34[_0x2c4d57(0xd8b)]();const _0x590220=_0x468d34[_0x2c4d57(0x4de)]['nextElementSibling'],_0x50424b=_0x590220[_0x2c4d57(0xd75)][_0x2c4d57(0x9d9)](_0x2c4d57(0x721));document['querySelectorAll'](_0x2c4d57(0x3b3))['forEach'](_0x46f3e7=>_0x46f3e7['classList'][_0x2c4d57(0x8d6)](_0x2c4d57(0x721))),_0x50424b&&_0x590220[_0x2c4d57(0xd75)][_0x2c4d57(0x8cc)](_0x2c4d57(0x721));});});}document[_0x315eb9(0x59b)](_0x315eb9(0xc9a),_0xabcfc4=>{const _0x258b09=_0x315eb9;!_0xabcfc4[_0x258b09(0x819)][_0x258b09(0xb12)](_0x258b09(0x228))&&document[_0x258b09(0x4e3)](_0x258b09(0x3b3))[_0x258b09(0x2d4)](_0x2b9777=>_0x2b9777[_0x258b09(0xd75)][_0x258b09(0x8d6)](_0x258b09(0x721)));});async function saveShortcutConfig(){const _0x1ffe69=_0x315eb9,_0x328298=doc(db,_0x1ffe69(0x974),_0x1ffe69(0xd50));try{await setDoc(_0x328298,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0xcbbe99){console['error'](_0x1ffe69(0xa47),_0xcbbe99);}}async function handleAddShortcutTab(){const _0x44cf11=_0x315eb9,_0x24a0e7=prompt('กรุณาตั้งชื่อแท็บใหม่:','แท็บใหม่');if(!_0x24a0e7||_0x24a0e7[_0x44cf11(0xbcf)]()==='')return;shortcutTabs[_0x44cf11(0xd41)]({'id':_0x44cf11(0x9d2)+Date[_0x44cf11(0x320)](),'name':_0x24a0e7['trim'](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x1222e9,_0x3b3f46){const _0x175a72=_0x315eb9,_0x18b1ae=shortcutTabs['find'](_0x44b430=>_0x44b430['id']===_0x1222e9);_0x18b1ae&&_0x3b3f46[_0x175a72(0xbcf)]()!==''&&(_0x18b1ae[_0x175a72(0x38d)]=_0x3b3f46[_0x175a72(0xbcf)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x4b4162){const _0x358691=_0x315eb9,_0xdd3a14=shortcutTabs['find'](_0x4373eb=>_0x4373eb['id']===_0x4b4162);_0xdd3a14&&!_0xdd3a14[_0x358691(0x398)]&&showConfirmation(_0x358691(0xa38)+_0xdd3a14['name']+_0x358691(0x2df),async()=>{const _0x1d946f=_0x358691;shortcutTabs=shortcutTabs[_0x1d946f(0x9c1)](_0x248211=>_0x248211['id']!==_0x4b4162),delete shortcutOrder[_0x4b4162];if(activeShortcutTabId===_0x4b4162)activeShortcutTabId=_0x1d946f(0xcea);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x1f287b,_0x5092dd){const _0x579e6a=_0x315eb9,_0x26a128=shortcutTabs[_0x579e6a(0x559)](_0x537979=>_0x537979['id']===_0x5092dd);_0x26a128&&!_0x26a128[_0x579e6a(0x548)][_0x579e6a(0xcac)](_0x1f287b)&&(_0x26a128[_0x579e6a(0x548)][_0x579e6a(0xd41)](_0x1f287b),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x185c71,_0xe68381){const _0x4abf8b=_0x315eb9,_0x28abe5=shortcutTabs[_0x4abf8b(0x559)](_0x38b8dc=>_0x38b8dc['id']===_0xe68381);_0x28abe5&&!_0x28abe5[_0x4abf8b(0x398)]&&(_0x28abe5[_0x4abf8b(0x548)]=_0x28abe5[_0x4abf8b(0x548)][_0x4abf8b(0x9c1)](_0x4af125=>_0x4af125!==_0x185c71),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x5ad0f3,_0x5a70aa){shortcutOrder[_0x5ad0f3]=_0x5a70aa,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x5d6522=_0x315eb9,_0x151bd2=document[_0x5d6522(0x695)](_0x5d6522(0xd8a)),_0x7131a0=document[_0x5d6522(0x695)](_0x5d6522(0x4bf)),_0x8d2a72=document['getElementById']('shortcuts-loading-msg');_0x8d2a72&&_0x8d2a72[_0x5d6522(0xd75)][_0x5d6522(0x8d6)](_0x5d6522(0x721));if(!_0x151bd2||!_0x7131a0)return;const _0x45521a=blueprintShortcuts[_0x5d6522(0x7c9)](0x0,0x4),_0x12c98e=blueprintShortcuts[_0x5d6522(0x7c9)](0x4);_0x151bd2[_0x5d6522(0xb6b)]=_0x45521a[_0x5d6522(0x947)](_0x28eb9f=>{const _0x5ee072=_0x5d6522;let _0x178bd5=_0x5ee072(0x7f0),_0x3e6e69='🧩';if(_0x28eb9f[_0x5ee072(0x46b)]&&_0x28eb9f[_0x5ee072(0x6f7)])_0x178bd5=_0x5ee072(0x8dc),_0x3e6e69='📗';else _0x28eb9f[_0x5ee072(0x46b)]&&(_0x178bd5='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0x3e6e69='📘');const _0x1b393b=!_0x28eb9f[_0x5ee072(0x398)]?_0x5ee072(0x4e8)+_0x28eb9f['id']+_0x5ee072(0x84d):'';return _0x5ee072(0xb43)+_0x28eb9f['id']+'\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x178bd5+_0x5ee072(0x739)+_0x3e6e69+'\x20'+_0x28eb9f[_0x5ee072(0x38d)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x28eb9f['id']+_0x5ee072(0x966)+_0x1b393b+_0x5ee072(0x504);})['join'](''),_0x12c98e['length']>0x0&&(_0x151bd2['innerHTML']+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),_0x12c98e['length']>0x0?_0x7131a0['innerHTML']=_0x12c98e[_0x5d6522(0x947)](_0x51b2d2=>{const _0x48c200=_0x5d6522;let _0x3f317e='🧩';if(_0x51b2d2[_0x48c200(0x46b)]&&_0x51b2d2[_0x48c200(0x6f7)])_0x3f317e='📗';else _0x51b2d2[_0x48c200(0x46b)]&&(_0x3f317e='📘');return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x3f317e+'\x20'+_0x51b2d2['name']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x51b2d2['id']+'\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x51b2d2['id']+'\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x51b2d2[_0x48c200(0x398)]?'<button\x20data-id=\x22'+_0x51b2d2['id']+_0x48c200(0x5d1):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x5d6522(0x6f5)](''):_0x7131a0[_0x5d6522(0xb6b)]=_0x5d6522(0xbd0);}function getMimeTypeFromFilename(_0x44508d){const _0x4339c5=_0x315eb9,_0x17ff13=_0x44508d[_0x4339c5(0x5fa)]('.')['pop']()[_0x4339c5(0x766)]();switch(_0x17ff13){case _0x4339c5(0x7b7):return _0x4339c5(0x35e);case _0x4339c5(0xaa0):return _0x4339c5(0xc55);default:return _0x4339c5(0x35e);}}function openShortcutEditor(_0x3fbb45=null){const _0x4e0310=_0x315eb9,_0x2148be=document[_0x4e0310(0x695)](_0x4e0310(0x3b1)),_0x2bebea=document[_0x4e0310(0x695)]('shortcut-modal-title'),_0x24538f=document[_0x4e0310(0x695)](_0x4e0310(0x220)),_0x40fd7c=document[_0x4e0310(0x695)](_0x4e0310(0x210)),_0x1a7495=document[_0x4e0310(0x695)](_0x4e0310(0x8b0)),_0x2b36aa=document[_0x4e0310(0x695)]('shortcut-reference-url-input');if(_0x3fbb45){const _0x1c42d4=blueprintShortcuts[_0x4e0310(0x559)](_0x443589=>_0x443589['id']===_0x3fbb45);if(!_0x1c42d4)return;_0x2bebea['textContent']=_0x4e0310(0x7c6),_0x24538f['value']=_0x1c42d4['id'],_0x40fd7c['value']=_0x1c42d4[_0x4e0310(0x38d)],_0x1a7495[_0x4e0310(0xbdb)]=_0x1c42d4[_0x4e0310(0x46b)]||'',_0x2b36aa[_0x4e0310(0xbdb)]=_0x1c42d4[_0x4e0310(0x6f7)]||'';}else _0x2bebea['textContent']=_0x4e0310(0x85f),_0x24538f['value']='',_0x40fd7c[_0x4e0310(0xbdb)]='',_0x1a7495['value']='',_0x2b36aa[_0x4e0310(0xbdb)]='';_0x2148be['classList'][_0x4e0310(0x8cc)](_0x4e0310(0x721));}async function saveShortcutChanges(){const _0x44ced8=_0x315eb9,_0x424955=document[_0x44ced8(0x695)](_0x44ced8(0x220))[_0x44ced8(0xbdb)],_0xc2636c=document[_0x44ced8(0x695)](_0x44ced8(0x210))[_0x44ced8(0xbdb)][_0x44ced8(0xbcf)](),_0x18aa75=document[_0x44ced8(0x695)]('shortcut-blueprint-url-input')[_0x44ced8(0xbdb)]['trim']();if(!_0xc2636c||!_0x18aa75){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27');return;}const _0x54f4e2={'id':_0x424955||'shortcut_'+Date[_0x44ced8(0x320)](),'name':_0xc2636c,'blueprintUrl':_0x18aa75,'referenceUrl':document['getElementById'](_0x44ced8(0x90e))['value'][_0x44ced8(0xbcf)](),'isDefault':_0x424955[_0x44ced8(0x6db)](_0x44ced8(0xcca))};let _0x7c5ff9;_0x424955?_0x7c5ff9=blueprintShortcuts[_0x44ced8(0x947)](_0x560c0e=>_0x560c0e['id']===_0x424955?_0x54f4e2:_0x560c0e):_0x7c5ff9=[...blueprintShortcuts,_0x54f4e2];try{const _0x459c88=doc(db,_0x44ced8(0x974),'dashboardConfig');await setDoc(_0x459c88,{'blueprintShortcuts':_0x7c5ff9},{'merge':!![]}),document[_0x44ced8(0x695)]('shortcut-editor-modal')[_0x44ced8(0xd75)][_0x44ced8(0x8d6)]('hidden');}catch(_0x553d8d){console['error'](_0x44ced8(0x26b),_0x553d8d),showMessage(_0x44ced8(0x9e7));}}async function handleShortcutClick(_0x48c0bd){const _0x3c9ade=_0x315eb9,_0x1e0ba5=blueprintShortcuts[_0x3c9ade(0x559)](_0x31387a=>_0x31387a['id']===_0x48c0bd);if(!_0x1e0ba5||!_0x1e0ba5[_0x3c9ade(0x46b)])return;document[_0x3c9ade(0x695)]('blueprint-options-container')[_0x3c9ade(0xd75)]['add'](_0x3c9ade(0x721)),document[_0x3c9ade(0x695)]('generate-from-blueprint-btn')['disabled']=!![];const _0x1d9de3=document[_0x3c9ade(0x695)](_0x3c9ade(0x2da)),_0x12604b=document[_0x3c9ade(0x695)]('loader-text');document[_0x3c9ade(0x695)](_0x3c9ade(0xbec))[_0x3c9ade(0xd75)][_0x3c9ade(0x8cc)](_0x3c9ade(0x721)),document[_0x3c9ade(0x695)](_0x3c9ade(0x82e))['innerHTML']='',_0x1d9de3['classList'][_0x3c9ade(0x8cc)](_0x3c9ade(0x721));try{_0x12604b[_0x3c9ade(0x97a)]=_0x3c9ade(0xc5f);const _0x463c19=await fetchFileFromUrl(_0x1e0ba5[_0x3c9ade(0x46b)],_0x3c9ade(0x34c));let _0x48bf92=null;if(_0x1e0ba5[_0x3c9ade(0x6f7)]){_0x12604b['textContent']=_0x3c9ade(0x7db);const _0x3698f3=_0x1e0ba5[_0x3c9ade(0x6f7)][_0x3c9ade(0x766)]()['endsWith'](_0x3c9ade(0x40a))?_0x3c9ade(0xbb0):'reference.pdf';_0x48bf92=await fetchFileFromUrl(_0x1e0ba5[_0x3c9ade(0x6f7)],_0x3698f3);}await handleGenerateFromBlueprintWithFiles(_0x463c19,_0x48bf92);}catch(_0x55048f){console[_0x3c9ade(0xb62)](_0x3c9ade(0x6b7),_0x55048f),showMessage(_0x3c9ade(0x99a)+_0x55048f[_0x3c9ade(0x9eb)]),_0x1d9de3[_0x3c9ade(0xd75)]['add'](_0x3c9ade(0x721));}}function getDirectDownloadUrl(_0x5bacfd){const _0x2dbacc=_0x5bacfd['match'](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x2dbacc&&_0x2dbacc[0x1])return'https://drive.google.com/uc?export=download&id='+_0x2dbacc[0x1];return _0x5bacfd;}async function fetchFileFromUrl(_0x19a11f,_0x4c2200){const _0x2b6754=_0x315eb9,_0x1dca33=getDirectDownloadUrl(_0x19a11f),_0x1701f3=_0x2b6754(0xc92)+encodeURIComponent(_0x1dca33),_0x31032e=await fetch(_0x1701f3);if(!_0x31032e['ok'])throw new Error(_0x2b6754(0x2aa)+_0x31032e['status']+')');const _0x4eee39=await _0x31032e[_0x2b6754(0x4df)](),_0x396efd=await new Promise((_0xe21aed,_0x22ad94)=>{const _0x2a4449=_0x2b6754,_0x1e30f8=new FileReader();_0x1e30f8[_0x2a4449(0x22f)]=()=>_0xe21aed(new Uint8Array(_0x1e30f8[_0x2a4449(0xa55)])),_0x1e30f8[_0x2a4449(0xd1e)]=_0x22ad94,_0x1e30f8[_0x2a4449(0xbfd)](_0x4eee39[_0x2a4449(0x7c9)](0x0,0x4));});let _0x479dd7='';const _0x2cd608=new TextDecoder()['decode'](_0x396efd);return _0x2cd608==='%PDF'?(_0x479dd7=_0x2b6754(0x35e),console[_0x2b6754(0x95e)]('File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.')):(_0x479dd7=_0x2b6754(0xc55),console[_0x2b6754(0x95e)](_0x2b6754(0x64d))),new File([_0x4eee39],_0x4c2200,{'type':_0x479dd7});}async function handleGenerateFromBlueprintWithFiles(_0x33aac2,_0x2854ad=null){const _0xfc29fe=_0x315eb9;if(!_0x33aac2){showMessage(_0xfc29fe(0xda4));return;}const _0x5c0eba=document['getElementById'](_0xfc29fe(0x2da)),_0x35f1d7=document[_0xfc29fe(0x695)](_0xfc29fe(0x2ad));_0x5c0eba['classList'][_0xfc29fe(0x8cc)]('hidden'),document[_0xfc29fe(0x695)](_0xfc29fe(0xbec))[_0xfc29fe(0xd75)]['remove'](_0xfc29fe(0x721)),document[_0xfc29fe(0x695)]('generated-quiz-container')[_0xfc29fe(0xb6b)]='';try{_0x35f1d7[_0xfc29fe(0x97a)]=_0xfc29fe(0xbbf);const _0x5c64ed=await new Promise((_0x447880,_0x32f468)=>{const _0x3b7241=_0xfc29fe,_0x54f6c8=new FileReader();_0x54f6c8[_0x3b7241(0xa05)](_0x33aac2),_0x54f6c8[_0x3b7241(0x83e)]=()=>_0x447880(_0x54f6c8[_0x3b7241(0xa55)][_0x3b7241(0x5fa)](',')[0x1]),_0x54f6c8[_0x3b7241(0xd1e)]=_0x32f468;}),_0x342e0b=[];if(_0x2854ad){_0x35f1d7[_0xfc29fe(0x97a)]=_0xfc29fe(0x7bb);const _0x32759a=await _0x2854ad['text']();_0x342e0b['push']({'text':'\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a'+_0x32759a});}const _0x6d13de=[{'text':_0xfc29fe(0x324)},{'inlineData':{'mimeType':_0x33aac2[_0xfc29fe(0x789)],'data':_0x5c64ed}},..._0x342e0b];await handleGenerateFromBlueprint(_0x6d13de);}catch(_0x2ed818){console[_0xfc29fe(0xb62)]('Error\x20in\x20generating\x20from\x20files:',_0x2ed818),showMessage('เกิดข้อผิดพลาด:\x20'+_0x2ed818[_0xfc29fe(0x9eb)]),_0x5c0eba[_0xfc29fe(0xd75)][_0xfc29fe(0x8d6)](_0xfc29fe(0x721));}}async function handleLiveAnswer(_0x35d960,_0x4faef2){const _0x451324=_0x315eb9;document[_0x451324(0x4e3)](_0x451324(0xd90))[_0x451324(0x2d4)](_0x16a69f=>_0x16a69f[_0x451324(0x22a)]=!![]);const _0x189d00=_0x4faef2[_0x451324(0x9e0)]||currentQuizData[_0x451324(0xa41)];let _0x352670=![],_0x1e9513=_0x35d960;if(_0x189d00===_0x451324(0x735)){const _0x4756e6=(_0x35d960||'')[_0x451324(0x2c8)]();_0x352670=await gradeShortAnswer(_0x4756e6,_0x4faef2);}else{if(_0x189d00===_0x451324(0x959))_0x352670=_0x35d960===_0x4faef2[_0x451324(0x794)];else{if(_0x189d00==='true_false'){const _0x2b7c62=_0x4faef2[_0x451324(0x43f)];_0x352670=_0x35d960===0x0&&_0x2b7c62||_0x35d960===0x1&&!_0x2b7c62;}else{if(_0x189d00===_0x451324(0xc17)){const _0x302df7=_0x4faef2[_0x451324(0x556)][_0x35d960];_0x352670=_0x302df7===_0x4faef2[_0x451324(0x5a6)],_0x1e9513=_0x302df7;}}}}const _0x1cdb30=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x3e6dce={};_0x3e6dce[_0x451324(0xafb)+currentStudentName+_0x451324(0x296)]=!![],_0x3e6dce[_0x451324(0xafb)+currentStudentName+'.lastAnswerCorrect']=_0x352670,_0x3e6dce[_0x451324(0xafb)+currentStudentName+_0x451324(0x422)]=_0x189d00===_0x451324(0x735)||_0x189d00===_0x451324(0xc17)?null:_0x35d960,_0x3e6dce[_0x451324(0xafb)+currentStudentName+'.lastAnswerValue']=_0x1e9513,_0x3e6dce[_0x451324(0xafb)+currentStudentName+'.submittedAt']=serverTimestamp(),_0x3e6dce[_0x451324(0xafb)+currentStudentName+_0x451324(0x318)]=![],await updateDoc(_0x1cdb30,_0x3e6dce),liveGameView[_0x451324(0xb6b)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function showAdminSummaryView(_0x48b1d6,_0x558cf7){const _0x17642f=_0x315eb9,_0x2663d6=Object[_0x17642f(0xb3a)](_0x48b1d6[_0x17642f(0x5ca)]||{}),_0x31ff28=_0x558cf7[_0x17642f(0x9e0)]||currentQuizData[_0x17642f(0xa41)],_0x363ca2=_0x31ff28===_0x17642f(0xb93)?[_0x17642f(0x26d),_0x17642f(0x383)]:_0x558cf7[_0x17642f(0x6ce)]||_0x558cf7[_0x17642f(0x556)]||[],_0xc6e081={},_0x1fd488=new Array(_0x363ca2[_0x17642f(0xca6)])['fill'](0x0);_0x363ca2[_0x17642f(0x2d4)]((_0x3870f2,_0x510b1a)=>{_0xc6e081[_0x510b1a]=[];}),Object[_0x17642f(0x9d1)](_0x48b1d6[_0x17642f(0x5ca)]||{})['forEach'](([_0x164eaa,_0x2ccebe])=>{const _0x10fbf9=_0x17642f;if(_0x2ccebe[_0x10fbf9(0xbfe)]==='active'&&_0x2ccebe[_0x10fbf9(0xaab)]!==undefined){const _0x3a11d3=_0x2ccebe['lastAnswerIndex'];_0xc6e081[_0x3a11d3]&&(_0xc6e081[_0x3a11d3][_0x10fbf9(0xd41)](_0x164eaa),_0x1fd488[_0x3a11d3]++);}});const _0x24dd56=Math[_0x17642f(0xd57)](..._0x1fd488,0x1),_0x4aa281=_0x17642f(0x99f)+(_0x558cf7[_0x17642f(0x858)]||_0x558cf7[_0x17642f(0x620)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1fd488[_0x17642f(0x947)]((_0x32ee61,_0x4e5065)=>{const _0x2e8fbe=_0x17642f,_0x58a259=_0xc6e081[_0x4e5065][_0x2e8fbe(0xca6)]>0x0?_0xc6e081[_0x4e5065][_0x2e8fbe(0x6f5)](',\x20'):_0x2e8fbe(0x6e0);let _0x3b6786=![];if(_0x31ff28==='multiple_choice')_0x3b6786=_0x4e5065===_0x558cf7['correctAnswerIndex'];else{if(_0x31ff28===_0x2e8fbe(0xb93)){const _0x534df3=_0x558cf7[_0x2e8fbe(0x43f)];_0x3b6786=_0x534df3&&_0x4e5065===0x0||!_0x534df3&&_0x4e5065===0x1;}else _0x31ff28==='matching_item'&&(_0x3b6786=_0x363ca2[_0x4e5065]===_0x558cf7[_0x2e8fbe(0x5a6)]);}const _0x4ed868=_0x3b6786?'#26890c':_0x2e8fbe(0xb16);return _0x2e8fbe(0xce8)+_0x32ee61+_0x2e8fbe(0xcff)+_0x4ed868+_0x2e8fbe(0x67c)+_0x4e5065+_0x2e8fbe(0xbd2)+_0x363ca2[_0x4e5065]+_0x2e8fbe(0x205)+_0x4e5065+'\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x58a259+_0x2e8fbe(0x975);})['join']('')+_0x17642f(0x552);liveGameView[_0x17642f(0xb6b)]=_0x4aa281;if(window[_0x17642f(0x3af)])MathJax[_0x17642f(0xcaf)]();document[_0x17642f(0x695)](_0x17642f(0x496))[_0x17642f(0x59b)]('click',async()=>{const _0x2bd97e=_0x17642f,_0x3f6b63=doc(db,'artifacts/'+appId+_0x2bd97e(0xc05),currentLiveGameId);await updateDoc(_0x3f6b63,{'questionStatus':_0x2bd97e(0x924)});}),document[_0x17642f(0x695)](_0x17642f(0x5a9))[_0x17642f(0x59b)]('click',()=>{openScratchpad(_0x558cf7,_0x363ca2);});}function showPlayerSummaryView(_0x537969,_0x572ece){const _0x5037fe=_0x315eb9,_0x537fb3=Object[_0x5037fe(0xb3a)](_0x537969[_0x5037fe(0x5ca)]||{}),_0x5bf4f4=_0x537969[_0x5037fe(0x5ca)][_0x572ece],_0x299424=_0x537fb3[_0x5037fe(0x9c1)](_0x418f00=>_0x418f00['status']===_0x5037fe(0xb81))['sort']((_0x33c214,_0x196364)=>_0x196364[_0x5037fe(0xad9)]-_0x33c214[_0x5037fe(0xad9)]),_0x42a15d=_0x299424[_0x5037fe(0x67d)](_0x3b4cc5=>_0x3b4cc5===_0x5bf4f4)+0x1,_0x3f0ad6=_0x5bf4f4[_0x5037fe(0xd06)]?_0x5037fe(0x90b):_0x5037fe(0x8b6),_0x25df26=_0x5bf4f4[_0x5037fe(0xd06)]?'bg-green-500':_0x5037fe(0xbb6),_0x231d81=_0x5bf4f4[_0x5037fe(0x4b7)]||0x0,_0x4e6655='bg-gradient-to-br\x20from-indigo-600\x20to-purple-700',_0x4a5671='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x4e6655+_0x5037fe(0xac1)+_0x25df26+_0x5037fe(0x433)+_0x3f0ad6+_0x5037fe(0xc98)+_0x231d81+_0x5037fe(0xd08)+(_0x42a15d>0x0?_0x42a15d:'-')+_0x5037fe(0xba7);liveGameView[_0x5037fe(0xb6b)]=_0x4a5671;}function createQuizFromBank(){const _0x684928=_0x315eb9,_0x7ecb85=document[_0x684928(0x4e3)](_0x684928(0x390));if(_0x7ecb85[_0x684928(0xca6)]===0x0){showMessage(_0x684928(0xcc8));return;}const _0x439094=[];_0x7ecb85[_0x684928(0x2d4)](_0x1ba0fb=>{const _0x280f31=_0x684928;_0x439094[_0x280f31(0xd41)](JSON[_0x280f31(0x55c)](_0x1ba0fb[_0x280f31(0xbdb)]));});const _0x3fcbbb={'topic':_0x684928(0xad3),'questions':_0x439094};displayGeneratedQuiz(_0x3fcbbb);}function showAdminLobbyView(_0x1bc0e9,_0x594210){const _0xbc1f07=_0x315eb9;showView(_0xbc1f07(0x4e5));const _0x1ad46b=_0xbc1f07(0x201)+_0x594210+_0xbc1f07(0x291)+_0x1bc0e9+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0xbc1f07(0xb6b)]=_0x1ad46b,document['getElementById'](_0xbc1f07(0xc2f))['addEventListener'](_0xbc1f07(0xc9a),async()=>{const _0x2d5517=_0xbc1f07;if(!currentQuizData||!currentQuizData[_0x2d5517(0xab9)]||currentQuizData[_0x2d5517(0xab9)][_0x2d5517(0xca6)]===0x0){showMessage(_0x2d5517(0x62d));return;}try{const _0x25a677=doc(db,_0x2d5517(0x2d5)+appId+_0x2d5517(0xc05),currentLiveGameId);await updateDoc(_0x25a677,{'status':_0x2d5517(0x3ab),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x5567c8=currentQuizData[_0x2d5517(0xab9)][0x0],_0x58ba5a=currentQuizData[_0x2d5517(0xab9)][_0x2d5517(0xca6)];showAdminLiveQuestionView(_0x5567c8,0x0,_0x58ba5a);}catch(_0x56804d){console[_0x2d5517(0xb62)](_0x2d5517(0xab1),_0x56804d),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openQuizBankModal(){const _0xe35c7a=_0x315eb9;if(allQuizzesGlobal[_0xe35c7a(0xca6)]===0x0){const _0x39e039=await getDocs(collection(db,_0xe35c7a(0x2d5)+appId+_0xe35c7a(0xc5d)));allQuizzesGlobal=_0x39e039['docs'][_0xe35c7a(0x947)](_0x41e99a=>({'id':_0x41e99a['id'],..._0x41e99a[_0xe35c7a(0x5ac)]()}));}renderQuizBankList(''),document[_0xe35c7a(0x695)](_0xe35c7a(0x814))['classList'][_0xe35c7a(0x8cc)]('hidden');}function renderQuizBankList(_0x29ce14='',_0x13fab2=![]){const _0x260185=_0x315eb9,_0xab0819=document[_0x260185(0x695)](_0x260185(0x86a)),_0x966e65=_0x29ce14[_0x260185(0x766)]()['trim'](),_0xb6026a=allQuizzesGlobal['map'](_0x234dc7=>({..._0x234dc7,'projectName':allProjects[_0x260185(0x559)](_0x27d318=>_0x27d318['id']===_0x234dc7[_0x260185(0x88e)])?.[_0x260185(0x36b)]||_0x260185(0x6d7)}))['filter'](_0x5f34cb=>(_0x5f34cb[_0x260185(0xd28)]||'')['toLowerCase']()[_0x260185(0xcac)](_0x966e65)||(_0x5f34cb[_0x260185(0x36b)]||'')[_0x260185(0x766)]()[_0x260185(0xcac)](_0x966e65)||_0x5f34cb['id'][_0x260185(0x2c8)]()['includes'](_0x966e65));document[_0x260185(0x695)](_0x260185(0x8a4))[_0x260185(0x97a)]='('+_0xb6026a['length']+_0x260185(0x43a),_0xab0819[_0x260185(0xb6b)]=_0xb6026a['length']?_0xb6026a[_0x260185(0x947)](_0x3aaa56=>{const _0x41ea5a=_0x260185,_0x4edce3=!_0x13fab2?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3aaa56['id']+_0x41ea5a(0x37e)+_0x3aaa56['id']+_0x41ea5a(0x578)+_0x3aaa56['id']+_0x41ea5a(0xae9)+_0x3aaa56['id']+_0x41ea5a(0x67e)+_0x3aaa56['id']+_0x41ea5a(0x72d)+_0x3aaa56['id']+'\x22\x20data-topic=\x22'+_0x3aaa56[_0x41ea5a(0xd28)]+_0x41ea5a(0x874):'';return'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x3aaa56['id']+_0x41ea5a(0x3ea)+(_0x3aaa56['topic']||_0x41ea5a(0xb57))+_0x41ea5a(0x6ef)+(_0x3aaa56[_0x41ea5a(0xab9)]?.[_0x41ea5a(0xca6)]||0x0)+_0x41ea5a(0x66d)+_0x3aaa56[_0x41ea5a(0x36b)]+_0x41ea5a(0x530)+_0x3aaa56['id']+_0x41ea5a(0xc89)+_0x4edce3+_0x41ea5a(0x748);})['join'](''):_0x260185(0xd6f),!_0x13fab2&&(_0xab0819[_0x260185(0x4e3)](_0x260185(0x9dd))['forEach'](_0x57f8c6=>{const _0x139bb8=_0x260185;_0x57f8c6['addEventListener'](_0x139bb8(0xc9a),()=>{const _0x3997b1=_0x139bb8,_0xf7b1e5=_0x57f8c6['dataset']['id'];document[_0x3997b1(0x695)](_0x3997b1(0x814))[_0x3997b1(0xd75)]['add'](_0x3997b1(0x721)),showQuizDetailView(_0xf7b1e5);});}),_0xab0819['querySelectorAll'](_0x260185(0x3f8))['forEach'](_0x4b5ee4=>{const _0x512205=_0x260185;_0x4b5ee4[_0x512205(0x59b)](_0x512205(0xc9a),_0x320ba4=>{const _0x3c5ddf=_0x512205;_0x320ba4['stopPropagation']();const _0x117ac9=_0x4b5ee4[_0x3c5ddf(0x4b5)]['id'],_0x2c656e=allQuizzesGlobal['find'](_0x56ab69=>_0x56ab69['id']===_0x117ac9);_0x2c656e?(currentQuizData=_0x2c656e,document[_0x3c5ddf(0x695)](_0x3c5ddf(0x814))[_0x3c5ddf(0xd75)][_0x3c5ddf(0x8d6)](_0x3c5ddf(0x721)),startAdminTest()):showMessage(_0x3c5ddf(0x930));});}),_0xab0819[_0x260185(0x4e3)](_0x260185(0xa93))[_0x260185(0x2d4)](_0x1d1a20=>{const _0x294da4=_0x260185;_0x1d1a20[_0x294da4(0x59b)](_0x294da4(0xc9a),_0x521d28=>{const _0x4b5137=_0x294da4;_0x521d28['stopPropagation']();const _0x1705c0=_0x1d1a20[_0x4b5137(0x4b5)]['id'],_0x43a7b9=allQuizzesGlobal[_0x4b5137(0x559)](_0x56d8cc=>_0x56d8cc['id']===_0x1705c0);_0x43a7b9?(document[_0x4b5137(0x695)]('quiz-bank-modal')['classList'][_0x4b5137(0x8d6)](_0x4b5137(0x721)),handleGenerateParallelFromBank(_0x43a7b9)):showMessage(_0x4b5137(0x930));});}),_0xab0819['querySelectorAll']('.quiz-bank-present-btn')[_0x260185(0x2d4)](_0x20f483=>{const _0x22732b=_0x260185;_0x20f483[_0x22732b(0x59b)](_0x22732b(0xc9a),_0x466bb8=>{const _0x3ffc84=_0x22732b;_0x466bb8[_0x3ffc84(0xd8b)]();const _0x475674=_0x20f483[_0x3ffc84(0x4b5)]['id'],_0x45647f=allQuizzesGlobal[_0x3ffc84(0x559)](_0x1fcb4e=>_0x1fcb4e['id']===_0x475674);_0x45647f?(document[_0x3ffc84(0x695)](_0x3ffc84(0x814))[_0x3ffc84(0xd75)][_0x3ffc84(0x8d6)]('hidden'),startPresentation(_0x45647f)):showMessage(_0x3ffc84(0x930));});}),_0xab0819[_0x260185(0x4e3)](_0x260185(0x464))['forEach'](_0x18058c=>{const _0x553054=_0x260185;_0x18058c['addEventListener'](_0x553054(0xc9a),_0x4ccaf8=>{const _0x4f0bee=_0x553054;_0x4ccaf8[_0x4f0bee(0xd8b)]();const _0x11af08=_0x18058c['dataset']['id'];document[_0x4f0bee(0x695)](_0x4f0bee(0x814))[_0x4f0bee(0xd75)][_0x4f0bee(0x8d6)]('hidden'),handleMoveQuiz(_0x11af08);});}),_0xab0819[_0x260185(0x4e3)](_0x260185(0xaf5))[_0x260185(0x2d4)](_0x257c50=>{const _0x1f8353=_0x260185;_0x257c50[_0x1f8353(0x59b)](_0x1f8353(0xc9a),_0x2efa13=>{const _0x4811e4=_0x1f8353;_0x2efa13[_0x4811e4(0xd8b)]();const _0x21ba03=_0x257c50[_0x4811e4(0x4b5)]['id'];document[_0x4811e4(0x695)](_0x4811e4(0x814))[_0x4811e4(0xd75)][_0x4811e4(0x8d6)](_0x4811e4(0x721)),handleQuizSettings(_0x21ba03);});}),_0xab0819['querySelectorAll'](_0x260185(0x305))['forEach'](_0x57bf89=>{const _0x25d568=_0x260185;_0x57bf89[_0x25d568(0x59b)](_0x25d568(0xc9a),_0x599ab3=>{const _0x15ffcf=_0x25d568;_0x599ab3[_0x15ffcf(0xd8b)]();const _0x1bb1ed=_0x57bf89['dataset']['id'],_0x3beff0=_0x57bf89['dataset']['topic'];showConfirmation(_0x15ffcf(0x4c8)+_0x3beff0+_0x15ffcf(0x9b8),()=>handleDeleteQuiz(_0x1bb1ed));});}));}async function handleCompareResults(_0x432d1c,_0x4c299e){const _0x23961f=_0x315eb9,_0x58019c=document['getElementById'](_0x23961f(0x219)),_0x5d2d35=document['getElementById'](_0x23961f(0x693)),_0x31436b=document[_0x23961f(0x695)](_0x23961f(0x2b9));document['getElementById']('comparison-overall-tab')[_0x23961f(0xd75)]['add'](_0x23961f(0xb81)),document['getElementById'](_0x23961f(0x262))['classList']['remove']('active'),_0x5d2d35[_0x23961f(0xd75)][_0x23961f(0x8cc)](_0x23961f(0x721)),_0x31436b[_0x23961f(0xd75)]['add']('hidden'),_0x5d2d35[_0x23961f(0xb6b)]=_0x23961f(0xb4f),_0x31436b[_0x23961f(0xb6b)]='',_0x58019c[_0x23961f(0xd75)][_0x23961f(0x8cc)](_0x23961f(0x721));try{const _0x2886a3=doc(db,_0x23961f(0x2d5)+appId+'/public/data/quizzes',_0x432d1c),_0x2a41bd=await getDoc(_0x2886a3);if(!_0x2a41bd[_0x23961f(0xb5a)]())throw new Error(_0x23961f(0x8c9));const _0x5edaeb=_0x2a41bd['data'](),_0xb66be8=_0x5edaeb[_0x23961f(0xab9)][_0x23961f(0xca6)],_0x671a6b=collection(db,'artifacts/'+appId+_0x23961f(0xb5c)+_0x4c299e+_0x23961f(0xaa7)),_0x58b0cb=collection(db,_0x23961f(0x2d5)+appId+_0x23961f(0xb5c)+_0x432d1c+_0x23961f(0xaa7)),[_0x280455,_0x3dd5dd]=await Promise[_0x23961f(0xcea)]([getDocs(_0x671a6b),getDocs(_0x58b0cb)]),_0x5ec3dd=_0x280455['docs'][_0x23961f(0x947)](_0x54dd30=>_0x54dd30['data']()),_0x5c23bf=_0x3dd5dd[_0x23961f(0x80f)]['map'](_0x2f710c=>_0x2f710c['data']()),_0x563402=_0x5ec3dd[_0x23961f(0x947)](_0x706b02=>_0x706b02[_0x23961f(0xb6f)]),_0x5d318d=_0x5c23bf['map'](_0x15c4bd=>_0x15c4bd['latestScore']),_0x498246=calculateMeanAndStdDev(_0x563402),_0x230e26=calculateMeanAndStdDev(_0x5d318d),_0x2ec036=_0x498246['mean'],_0x361810=_0x230e26['mean'],_0x3a05dd=_0x361810-_0x2ec036;let _0x5152b8=_0x23961f(0x853)+_0x2ec036[_0x23961f(0x3ba)](0x2)+_0x23961f(0x523)+_0x361810[_0x23961f(0x3ba)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20'+(_0x3a05dd>=0x0?_0x23961f(0x709):_0x23961f(0x4d7))+_0x23961f(0xa9d)+(_0x3a05dd>=0x0?'text-emerald-800':_0x23961f(0x835))+_0x23961f(0x541)+(_0x3a05dd>=0x0?_0x23961f(0xc87):_0x23961f(0x6fd))+'\x22>'+(_0x3a05dd>=0x0?'+':'')+_0x3a05dd[_0x23961f(0x3ba)](0x2)+_0x23961f(0xcfb);_0x5d2d35[_0x23961f(0xb6b)]=_0x5152b8;const _0x191511=document[_0x23961f(0x695)](_0x23961f(0xab2))[_0x23961f(0xa09)]('2d');if(chartInstances[_0x23961f(0x591)])chartInstances['comparison']['destroy']();chartInstances['comparison']=new Chart(_0x191511,{'type':_0x23961f(0x401),'data':{'labels':[_0x23961f(0xc0a)],'datasets':[{'label':_0x23961f(0x2bc),'data':[_0x2ec036],'backgroundColor':_0x23961f(0x9dc)},{'label':_0x23961f(0x570),'data':[_0x361810],'backgroundColor':'rgba(16,\x20185,\x20129,\x200.7)'}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0xb66be8}}}});const _0x3962f5=currentProjectData['students']||[],_0xf2666a=_0x3962f5[_0x23961f(0x947)](_0x1e7b0e=>{const _0x1653af=_0x23961f,_0x718cd9=_0x5ec3dd['find'](_0x264512=>_0x264512['studentName']===_0x1e7b0e),_0x366228=_0x5c23bf[_0x1653af(0x559)](_0x1c1ad5=>_0x1c1ad5[_0x1653af(0x8be)]===_0x1e7b0e),_0x47cec0=_0x718cd9?_0x718cd9['latestScore']:null,_0x58c961=_0x366228?_0x366228[_0x1653af(0xb6f)]:null,_0x11eda5=_0x47cec0!==null&&_0x58c961!==null?_0x58c961-_0x47cec0:null,_0x4daf1d=_0x47cec0!==null?calculateZScore(_0x47cec0,_0x498246[_0x1653af(0x6de)],_0x498246['stdDev']):null,_0x595e42=_0x58c961!==null?calculateZScore(_0x58c961,_0x230e26[_0x1653af(0x6de)],_0x230e26[_0x1653af(0x75b)]):null,_0x1ea9a2=_0x4daf1d!==null?calculateTScore(_0x4daf1d):null,_0xacf5e7=_0x595e42!==null?calculateTScore(_0x595e42):null,_0x1d577e=_0x1ea9a2!==null&&_0xacf5e7!==null?_0xacf5e7-_0x1ea9a2:null;return{'name':_0x1e7b0e,'preScore':_0x47cec0,'postScore':_0x58c961,'gain':_0x11eda5,'preTScore':_0x1ea9a2,'postTScore':_0xacf5e7,'tGain':_0x1d577e};});renderIndividualComparisonTable(_0xf2666a,_0x31436b);}catch(_0x4f5d32){console[_0x23961f(0xb62)](_0x23961f(0x76c),_0x4f5d32),_0x5d2d35[_0x23961f(0xb6b)]=_0x23961f(0x60a);}}async function saveBlueprintProject(){const _0x25fd16=_0x315eb9;if(!extractedBlueprintData||!extractedBlueprintData[_0x25fd16(0x2a0)]){showMessage(_0x25fd16(0x810));return;}const _0x3a2075=prompt(_0x25fd16(0x354),_0x25fd16(0x61d));if(!_0x3a2075||_0x3a2075['trim']()==='')return;const _0x1c07a1={};extractedBlueprintData[_0x25fd16(0x2a0)][_0x25fd16(0x2d4)](_0xc7abfc=>{const _0x34221d=_0x25fd16;_0xc7abfc[_0x34221d(0xa3f)][_0x34221d(0x2d4)](_0x4479e1=>{const _0x26b942=_0x34221d;_0x4479e1[_0x26b942(0x338)][_0x26b942(0x2d4)](_0x32a3b9=>{const _0x3b6bb4=_0x26b942,_0x3b152b='topic_'+Date[_0x3b6bb4(0x320)]()+Math[_0x3b6bb4(0x625)]()[_0x3b6bb4(0x2c8)](0x24)[_0x3b6bb4(0xd29)](0x2,0x9);_0x1c07a1[_0x3b152b]={'sara':_0xc7abfc[_0x3b6bb4(0x31a)],'mainTopic':_0x4479e1[_0x3b6bb4(0x3a1)],'subTopic':_0x32a3b9,'status':_0x3b6bb4(0x33b),'lessonContent':null};});});});try{const _0x23128f=collection(db,_0x25fd16(0x2d5)+appId+_0x25fd16(0x380));await addDoc(_0x23128f,{'projectName':_0x3a2075[_0x25fd16(0xbcf)](),'gradeLevel':extractedBlueprintData['gradeLevel'],'topics':_0x1c07a1,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x3a2075[_0x25fd16(0xbcf)]()+_0x25fd16(0xb39)),document['getElementById'](_0x25fd16(0x34a))[_0x25fd16(0xd75)][_0x25fd16(0x8d6)](_0x25fd16(0x721));}catch(_0x5b01fc){console['error'](_0x25fd16(0x330),_0x5b01fc),showMessage(_0x25fd16(0xaef));}}async function showBlueprintProjects(){const _0x409912=_0x315eb9,_0x320521=document[_0x409912(0x695)](_0x409912(0x1fa)),_0x35e573=document['getElementById'](_0x409912(0x2dd));_0x35e573['innerHTML']='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>',_0x320521[_0x409912(0xd75)]['remove'](_0x409912(0x721));try{const _0x36cfb2=collection(db,_0x409912(0x2d5)+appId+_0x409912(0x380)),_0x3b836e=await getDocs(_0x36cfb2);if(_0x3b836e[_0x409912(0x7e1)]){_0x35e573[_0x409912(0xb6b)]=_0x409912(0x641);return;}const _0x35501b=_0x3b836e['docs']['map'](_0x41b713=>({'id':_0x41b713['id'],..._0x41b713['data']()}));_0x35501b['sort']((_0x37f513,_0x21870c)=>_0x37f513['projectName'][_0x409912(0x9f1)](_0x21870c[_0x409912(0x36b)],'th')),_0x35e573['innerHTML']=_0x35501b['map'](_0x237b7c=>_0x409912(0x216)+_0x237b7c[_0x409912(0x36b)]+_0x409912(0xc45)+_0x237b7c[_0x409912(0xd89)]+_0x409912(0xb15)+Object[_0x409912(0x811)](_0x237b7c[_0x409912(0x358)])[_0x409912(0xca6)]+'\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x237b7c['id']+_0x409912(0x4cf)+_0x237b7c['id']+_0x409912(0x90a))[_0x409912(0x6f5)]('');}catch(_0x7f1d1){console[_0x409912(0xb62)]('Error\x20loading\x20blueprint\x20projects:',_0x7f1d1),_0x35e573[_0x409912(0xb6b)]=_0x409912(0x60e);}}async function displayBlueprintProjectManager(_0x2fe8d7){const _0x53c5f6=_0x315eb9;currentBlueprintProjectId=_0x2fe8d7,document[_0x53c5f6(0x695)]('blueprint-projects-modal')['classList']['add'](_0x53c5f6(0x721)),showView('admin-dashboard'),projectDashboardView[_0x53c5f6(0xd75)][_0x53c5f6(0x8d6)](_0x53c5f6(0x721));const _0x484dba=document[_0x53c5f6(0x695)]('blueprint-project-manager-view');_0x484dba[_0x53c5f6(0xd75)]['remove']('hidden'),document[_0x53c5f6(0x695)]('bp-topic-list-container')[_0x53c5f6(0xb6b)]=_0x53c5f6(0xb4f);try{const _0x3451ce=doc(db,_0x53c5f6(0x2d5)+appId+_0x53c5f6(0x380),_0x2fe8d7),_0x39a742=await getDoc(_0x3451ce);if(!_0x39a742[_0x53c5f6(0xb5a)]())throw new Error(_0x53c5f6(0x334));const _0x5bfb92={'id':_0x39a742['id'],..._0x39a742[_0x53c5f6(0x5ac)]()};document[_0x53c5f6(0x695)](_0x53c5f6(0x47c))[_0x53c5f6(0x97a)]=_0x5bfb92[_0x53c5f6(0x36b)],document[_0x53c5f6(0x695)](_0x53c5f6(0x4bc))[_0x53c5f6(0xbdb)]=_0x5bfb92['referenceFileUrl']||'',renderBlueprintTopicManager(_0x5bfb92);}catch(_0x4405cc){console[_0x53c5f6(0xb62)](_0x53c5f6(0xc6a),_0x4405cc),showMessage(_0x4405cc[_0x53c5f6(0x9eb)]),showView('admin-dashboard');}}function renderBlueprintTopicManager(_0x52fd35){const _0x499e1a=_0x315eb9,_0xbc5335=document[_0x499e1a(0x695)]('bp-topic-list-container'),_0x53be2e=_0x52fd35[_0x499e1a(0x358)]||{};if(Object['keys'](_0x53be2e)[_0x499e1a(0xca6)]===0x0){_0xbc5335[_0x499e1a(0xb6b)]=_0x499e1a(0x9e1);return;}const _0x381d64=Object[_0x499e1a(0x9d1)](_0x53be2e)[_0x499e1a(0x947)](([_0x405c2b,_0xc410b1])=>({'id':_0x405c2b,..._0xc410b1}))[_0x499e1a(0x7a1)]((_0x26784b,_0x40650a)=>(_0x26784b[_0x499e1a(0x8cd)]??Infinity)-(_0x40650a[_0x499e1a(0x8cd)]??Infinity)),_0x51b9bc={};_0x381d64[_0x499e1a(0x2d4)](_0x15dc99=>{const _0x5ebcbe=_0x499e1a,{sara:_0x14f909,mainTopic:_0x39dea0}=_0x15dc99;!_0x51b9bc[_0x14f909]&&(_0x51b9bc[_0x14f909]={}),!_0x51b9bc[_0x14f909][_0x39dea0]&&(_0x51b9bc[_0x14f909][_0x39dea0]=[]),_0x51b9bc[_0x14f909][_0x39dea0][_0x5ebcbe(0xd41)](_0x15dc99);});let _0x230d80='';for(const _0x1a9b8c in _0x51b9bc){_0x230d80+='<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x1a9b8c+_0x499e1a(0x62c);for(const _0x40fc14 in _0x51b9bc[_0x1a9b8c]){_0x230d80+=_0x499e1a(0x434)+_0x40fc14+'</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x51b9bc[_0x1a9b8c][_0x40fc14][_0x499e1a(0x2d4)](_0xf9c1cf=>{const _0x26b9b1=_0x499e1a,_0x2f9ddd=_0xf9c1cf['id'],_0x2db229=_0xf9c1cf['linkedQuizIds']||[],_0x330446=_0x2db229[_0x26b9b1(0xca6)]>0x0,_0x5d3726=_0xf9c1cf[_0x26b9b1(0xbfe)]==='generated';let _0x1eb416='';_0x330446?_0x1eb416=_0x26b9b1(0x885)+_0x2db229['length']+_0x26b9b1(0x8ce):_0x1eb416=_0x26b9b1(0x8df)+(_0x5d3726?'bg-green-200\x20text-green-800':_0x26b9b1(0xb2e))+'\x22>'+(_0x5d3726?_0x26b9b1(0xd9c):'ยังไม่สร้าง')+_0x26b9b1(0x4e6);const _0xa5ad44=!_0x5d3726?_0x26b9b1(0x336):'',_0x2f3b5a=!_0x5d3726?_0x26b9b1(0x517):'';let _0x4b89ad=_0x5d3726?_0x26b9b1(0x52d):_0x26b9b1(0xbb3);_0x230d80+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22'+_0x2f9ddd+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>'+_0xf9c1cf[_0x26b9b1(0x91e)]+_0x26b9b1(0xa50)+_0x1eb416+_0x26b9b1(0x89f)+_0xa5ad44+_0x26b9b1(0x6c1)+_0x2f3b5a+_0x26b9b1(0x474)+_0x4b89ad+_0x26b9b1(0x43d);}),_0x230d80+=_0x499e1a(0x309);}_0x230d80+='</div>';}_0xbc5335['innerHTML']=_0x230d80;}async function handleDeepDeleteBlueprintProject(_0x500d8f){const _0x3e21e1=_0x315eb9,_0x437395=doc(db,_0x3e21e1(0x2d5)+appId+'/public/data/blueprintProjects',_0x500d8f),_0x10b59b=await getDoc(_0x437395);if(!_0x10b59b[_0x3e21e1(0xb5a)]()){showMessage('ไม่พบโปรเจคที่ต้องการลบ');return;}const _0x28b942=_0x10b59b['data']()[_0x3e21e1(0x36b)];showConfirmation(_0x3e21e1(0xd80)+_0x28b942+'\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!',async()=>{const _0x58d87b=_0x3e21e1;showMessage(_0x58d87b(0x98e));try{const _0xfd2111=writeBatch(db),_0xff0efa=_0x10b59b['data'](),_0x29d74f=_0xff0efa[_0x58d87b(0x358)]||{};for(const _0x3189ea in _0x29d74f){const _0x2b1f86=doc(db,'artifacts/'+appId+_0x58d87b(0x9ff)+_0x500d8f+_0x58d87b(0x1ef),_0x3189ea);_0xfd2111[_0x58d87b(0xbce)](_0x2b1f86);}const _0x260511=new Set();for(const _0x122e33 in _0x29d74f){_0x29d74f[_0x122e33][_0x58d87b(0xa57)]&&_0x29d74f[_0x122e33][_0x58d87b(0xa57)][_0x58d87b(0x2d4)](_0xe08745=>_0x260511['add'](_0xe08745));}for(const _0x491be4 of _0x260511){await handleDeleteQuiz(_0x491be4,![]);}_0xfd2111[_0x58d87b(0xbce)](_0x437395),await _0xfd2111[_0x58d87b(0xba4)](),showMessage(_0x58d87b(0xa84)+_0x28b942+'\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!'),showBlueprintProjects();}catch(_0x512d7b){console['error']('Error\x20during\x20deep\x20delete:',_0x512d7b),showMessage(_0x58d87b(0xd5e));}});}async function openTopicQuizBank(_0x23bf16){const _0x27d084=_0x315eb9,_0x40e9c5=document[_0x27d084(0x695)](_0x27d084(0x3cc)),_0x21ebd1=document[_0x27d084(0x695)](_0x27d084(0x3ed)),_0x159b83=document['getElementById'](_0x27d084(0xd9f));try{await ensureGlobalQuizzesLoaded();const _0x104d8d=doc(db,_0x27d084(0x2d5)+appId+_0x27d084(0x380),currentBlueprintProjectId),_0x450694=await getDoc(_0x104d8d);if(!_0x450694[_0x27d084(0xb5a)]())return;const _0x462635=_0x450694[_0x27d084(0x5ac)](),_0x589303=_0x462635[_0x27d084(0x358)][_0x23bf16];document[_0x27d084(0x695)](_0x27d084(0x4f8))[_0x27d084(0x97a)]=_0x589303['subTopic'];const _0x5b3520=_0x589303[_0x27d084(0xa57)]||[];_0x159b83[_0x27d084(0xd75)][_0x27d084(0x352)](_0x27d084(0x721),_0x5b3520[_0x27d084(0xca6)]===0x0),_0x159b83[_0x27d084(0x3cf)]=()=>handleClearAllLinksForTopic(_0x23bf16);if(_0x5b3520[_0x27d084(0xca6)]===0x0)_0x21ebd1[_0x27d084(0xb6b)]=_0x27d084(0x863);else{const _0x54f6c0=allQuizzesGlobal['filter'](_0x2ac21c=>_0x5b3520['includes'](_0x2ac21c['id']));_0x21ebd1[_0x27d084(0xb6b)]=_0x54f6c0[_0x27d084(0x947)](_0x5b9dea=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22'+_0x5b9dea['id']+_0x27d084(0xcab)+_0x5b9dea[_0x27d084(0xd28)]+_0x27d084(0x361)+_0x5b9dea['id']+_0x27d084(0xb15)+_0x5b9dea['questions'][_0x27d084(0xca6)]+_0x27d084(0xcd8)+_0x5b9dea['id']+'\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5b9dea['id']+_0x27d084(0x386)+_0x5b9dea['id']+'\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5b9dea['id']+_0x27d084(0x906)+_0x5b9dea['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x5b9dea['id']+_0x27d084(0x61e)+_0x23bf16+_0x27d084(0x431)+_0x5b9dea['id']+'\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x27d084(0x6f5)]('');}document[_0x27d084(0x695)]('add-from-global-bank-btn')[_0x27d084(0x3cf)]=()=>{openQuizSelectorForBlueprint(_0x23bf16);},document[_0x27d084(0x695)]('close-topic-bank-btn')[_0x27d084(0x3cf)]=()=>_0x40e9c5[_0x27d084(0xd75)][_0x27d084(0x8d6)](_0x27d084(0x721)),_0x40e9c5['classList'][_0x27d084(0x8cc)](_0x27d084(0x721));}catch(_0x25f861){showMessage(_0x25f861[_0x27d084(0x9eb)]);}}async function openQuizSelectorForBlueprint(_0x1fbecf){const _0x96c5b5=_0x315eb9,_0x260f72=document['getElementById'](_0x96c5b5(0x814)),_0x4ebb40=document[_0x96c5b5(0x695)](_0x96c5b5(0x3cc));_0x4ebb40[_0x96c5b5(0xd75)]['add'](_0x96c5b5(0x721)),document[_0x96c5b5(0x695)](_0x96c5b5(0x581))?.[_0x96c5b5(0x8cc)]();const _0x1a8fd2=document['createElement']('button');_0x1a8fd2['id']=_0x96c5b5(0x581),_0x1a8fd2[_0x96c5b5(0xb55)]=_0x96c5b5(0x57a),_0x1a8fd2[_0x96c5b5(0x97a)]=_0x96c5b5(0x30a),_0x1a8fd2[_0x96c5b5(0x22a)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x260f72[_0x96c5b5(0xd75)][_0x96c5b5(0x8cc)](_0x96c5b5(0x721)),renderQuizBankListForMultiSelect(''),document[_0x96c5b5(0x695)](_0x96c5b5(0x899))[_0x96c5b5(0x7a9)][_0x96c5b5(0x9e8)]=_0x96c5b5(0x4f9),_0x260f72['querySelector']('.flex.justify-between.items-center')[_0x96c5b5(0xbbd)](_0x1a8fd2);const _0x241fad=(_0x26167e=![])=>{const _0x5d678f=_0x96c5b5;_0x260f72['classList'][_0x5d678f(0x8d6)](_0x5d678f(0x721)),document[_0x5d678f(0x695)]('bulk-quiz-settings-btn')['style']['display']=_0x5d678f(0x331),_0x1a8fd2[_0x5d678f(0x8cc)](),_0x26167e&&openTopicQuizBank(_0x1fbecf);};_0x1a8fd2[_0x96c5b5(0x3cf)]=async()=>{const _0x5c03fc=_0x96c5b5,_0x2df41d=Array[_0x5c03fc(0x768)](document[_0x5c03fc(0x4e3)]('.quiz-bank-checkbox:checked'))[_0x5c03fc(0x947)](_0x3bff2d=>_0x3bff2d[_0x5c03fc(0xbdb)]);if(_0x2df41d['length']===0x0)return;try{const _0x349e37=doc(db,_0x5c03fc(0x2d5)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x277d27=(await getDoc(_0x349e37))[_0x5c03fc(0x5ac)](),_0x222bd7=_0x277d27['topics'][_0x1fbecf][_0x5c03fc(0xa57)]||[],_0x244b0d=[...new Set([..._0x222bd7,..._0x2df41d])];await updateDoc(_0x349e37,{[_0x5c03fc(0x8ca)+_0x1fbecf+_0x5c03fc(0x39e)]:_0x244b0d}),showMessage(_0x5c03fc(0x5bf)+_0x2df41d[_0x5c03fc(0xca6)]+_0x5c03fc(0x7d0)),_0x241fad(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3ccb0b){console['error']('Error\x20linking\x20quizzes:',_0x3ccb0b);}},document[_0x96c5b5(0x695)](_0x96c5b5(0x987))['onclick']=()=>_0x241fad(!![]);}catch(_0x117128){showMessage(_0x117128[_0x96c5b5(0x9eb)]),_0x4ebb40[_0x96c5b5(0xd75)][_0x96c5b5(0x8cc)]('hidden');}}function handleClearLinkedQuiz(_0x3b06c8){const _0x31e5a5=_0x315eb9;showConfirmation(_0x31e5a5(0x5a1),async()=>{const _0x1598db=_0x31e5a5;try{const _0x4046ba=doc(db,_0x1598db(0x2d5)+appId+_0x1598db(0x380),currentBlueprintProjectId);await updateDoc(_0x4046ba,{[_0x1598db(0x8ca)+_0x3b06c8+_0x1598db(0x71c)]:deleteField()}),showMessage(_0x1598db(0x2c7)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x459fa2){console[_0x1598db(0xb62)](_0x1598db(0xcc0),_0x459fa2),showMessage('เกิดข้อผิดพลาด');}});}async function addTopicToProject(){const _0x41a99d=_0x315eb9,_0x511982=prompt(_0x41a99d(0x427));if(!_0x511982||_0x511982[_0x41a99d(0xbcf)]()==='')return;const _0x294387=prompt(_0x41a99d(0x524),_0x41a99d(0x63b)),_0x1499ff=prompt(_0x41a99d(0x6c2),'หัวข้อหลักใหม่'),_0x455f65=_0x41a99d(0x298)+Date['now']()+Math['random']()['toString'](0x24)[_0x41a99d(0xd29)](0x2,0x9),_0x31d70a={'sara':_0x294387,'mainTopic':_0x1499ff,'subTopic':_0x511982[_0x41a99d(0xbcf)](),'status':_0x41a99d(0x33b),'lessonContent':null};try{const _0x22fe98=doc(db,_0x41a99d(0x2d5)+appId+_0x41a99d(0x380),currentBlueprintProjectId);await updateDoc(_0x22fe98,{[_0x41a99d(0x8ca)+_0x455f65]:_0x31d70a}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x18a948){console[_0x41a99d(0xb62)](_0x41a99d(0x4c0),_0x18a948),showMessage(_0x41a99d(0xc9c));}}async function editTopicInProject(_0x49dae4){const _0x53ffef=_0x315eb9,_0x5c2519=document[_0x53ffef(0xc31)](_0x53ffef(0x5be)+_0x49dae4+'\x22]'),_0x5423d9=_0x5c2519[_0x53ffef(0xc31)](_0x53ffef(0xb74)),_0x97972a=_0x5423d9['textContent'],_0x56e062=prompt(_0x53ffef(0x891),_0x97972a);if(!_0x56e062||_0x56e062['trim']()===''||_0x56e062[_0x53ffef(0xbcf)]()===_0x97972a)return;try{const _0x2151a3=doc(db,_0x53ffef(0x2d5)+appId+_0x53ffef(0x380),currentBlueprintProjectId);await updateDoc(_0x2151a3,{['topics.'+_0x49dae4+_0x53ffef(0xa4f)]:_0x56e062[_0x53ffef(0xbcf)]()}),_0x5423d9[_0x53ffef(0x97a)]=_0x56e062['trim'](),showMessage(_0x53ffef(0x9cf));}catch(_0x1be82f){console[_0x53ffef(0xb62)]('Error\x20editing\x20topic:',_0x1be82f),showMessage(_0x53ffef(0x862));}}async function deleteTopicFromProject(_0x3d12a8){const _0x5271e9=_0x315eb9;if(!confirm('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?'))return;try{const _0x2e0720=doc(db,_0x5271e9(0x2d5)+appId+_0x5271e9(0x380),currentBlueprintProjectId);await updateDoc(_0x2e0720,{[_0x5271e9(0x8ca)+_0x3d12a8]:deleteField()}),document[_0x5271e9(0xc31)](_0x5271e9(0x5be)+_0x3d12a8+'\x22]')[_0x5271e9(0x8cc)](),showMessage(_0x5271e9(0x954));}catch(_0x150c39){console['error'](_0x5271e9(0xc1f),_0x150c39),showMessage(_0x5271e9(0x62a));}}async function generateAndSaveLessonForBlueprint(_0x3bf741,_0x35d1b9,_0xac1f9d){handleGenerateAndShowLesson(_0x35d1b9,_0xac1f9d);const _0x3c9f9c=setInterval(async()=>{const _0x194f92=_0x42ad,_0x338a20=document[_0x194f92(0x695)](_0x194f92(0x756)),_0x12c567=_0x338a20[_0x194f92(0xd75)][_0x194f92(0x9d9)](_0x194f92(0x721));if(_0x12c567){clearInterval(_0x3c9f9c);if(currentApplicationData&&currentApplicationData[_0x194f92(0xca6)]>0x0){const _0x3affe1={'point':document[_0x194f92(0x695)](_0x194f92(0xa48))['innerHTML'],'memory':document[_0x194f92(0x695)]('memoryContent')[_0x194f92(0xb6b)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x194f92(0x695)]('summaryContent')[_0x194f92(0xb6b)]};try{const _0x56e9dd=doc(db,_0x194f92(0x2d5)+appId+_0x194f92(0x380),currentBlueprintProjectId),_0x33ad59=doc(db,_0x194f92(0x2d5)+appId+_0x194f92(0x9ff)+currentBlueprintProjectId+'/lessons',_0x3bf741),_0x4433c9=writeBatch(db);_0x4433c9['set'](_0x33ad59,{'content':_0x3affe1}),_0x4433c9[_0x194f92(0x31c)](_0x56e9dd,{[_0x194f92(0x8ca)+_0x3bf741+_0x194f92(0x7af)]:_0x194f92(0xcdc)}),await _0x4433c9[_0x194f92(0xba4)](),console[_0x194f92(0x95e)]('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x3bf741+_0x194f92(0x740)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0xaa5695){console[_0x194f92(0xb62)](_0x194f92(0x569),_0xaa5695);}}}},0x3e8);}function displayHalfMarkResult(_0x4ed5ca,_0x57c78b){const _0x44c24f=_0x315eb9,_0x239faa=_0x4ed5ca>=_0x57c78b/0x2,_0x5eb5e9=_0x239faa?_0x44c24f(0x3ec):'bg-red-100',_0x3c7bee=_0x239faa?_0x44c24f(0x45f):_0x44c24f(0xaf9),_0x1085b6=_0x239faa?'text-green-800':'text-red-800',_0x4b8feb=_0x239faa?'ทำคะแนนได้เกินครึ่ง':_0x44c24f(0xc57),_0x4bb9ca=_0x239faa?_0x44c24f(0xab3):'สู้ๆ\x20ลองอีกครั้งนะ';let _0x1063d3=_0x44c24f(0x27c)+_0x5eb5e9+_0x44c24f(0x60c)+_0x3c7bee+_0x44c24f(0x80a)+_0x1085b6+_0x44c24f(0x826)+_0x4b8feb+_0x44c24f(0xac8)+_0x4bb9ca+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x44c24f(0xb6b)]=_0x1063d3,studentResultArea[_0x44c24f(0xd75)][_0x44c24f(0x8cc)](_0x44c24f(0x721)),studentQuizArea[_0x44c24f(0xd75)][_0x44c24f(0x8d6)]('hidden'),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x239faa});}function displayPerfectScoreResult(_0x17689d,_0x132d0a){const _0x53ad4c=_0x315eb9,_0x32746e=_0x17689d===_0x132d0a,_0x18ea50=_0x32746e?_0x53ad4c(0x2dc):_0x53ad4c(0x446),_0x573133=_0x32746e?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':_0x53ad4c(0xaa9),_0x5843f1=_0x32746e?'text-yellow-800':_0x53ad4c(0xae0),_0x50c087=_0x32746e?_0x53ad4c(0xa11):_0x53ad4c(0x50e),_0x3f76fb=_0x32746e?_0x53ad4c(0x6ca):'เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม';let _0x4a288c=_0x53ad4c(0x27c)+_0x18ea50+_0x53ad4c(0x60c)+_0x573133+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x5843f1+_0x53ad4c(0x826)+_0x50c087+_0x53ad4c(0xac8)+_0x3f76fb+_0x53ad4c(0x2ea);studentResultArea['innerHTML']=_0x4a288c,studentResultArea[_0x53ad4c(0xd75)]['remove']('hidden'),studentQuizArea[_0x53ad4c(0xd75)][_0x53ad4c(0x8d6)]('hidden'),setupResultScreenBackButton({'showRankings':![],'score':_0x17689d,'totalQuestions':_0x132d0a});}function renderIndividualComparisonTable(_0x5df427,_0x4879ad){const _0x295f53=_0x315eb9;_0x5df427[_0x295f53(0x7a1)]((_0x5a27ab,_0xb30b46)=>(_0xb30b46[_0x295f53(0xcf7)]??-Infinity)-(_0x5a27ab[_0x295f53(0xcf7)]??-Infinity));let _0x2096a3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x5df427[_0x295f53(0xca6)]===0x0?_0x2096a3+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x5df427[_0x295f53(0x2d4)]((_0x20118d,_0x2afdb9)=>{const _0x5aea67=_0x295f53;let _0x10558e='-',_0x26dbbb='';if(_0x20118d[_0x5aea67(0xd2e)]!==null){const _0x3877fe=_0x20118d[_0x5aea67(0xd2e)]>0x0?_0x5aea67(0x44e):_0x20118d[_0x5aea67(0xd2e)]<0x0?_0x5aea67(0xa14):_0x5aea67(0x5a8),_0x49f798=_0x20118d[_0x5aea67(0xd2e)]>0x0?'+':'';_0x10558e=_0x5aea67(0xa75)+_0x3877fe+'\x22>'+_0x49f798+_0x20118d[_0x5aea67(0xd2e)]+_0x5aea67(0x4e6);if(_0x20118d[_0x5aea67(0xd2e)]>0x0)_0x26dbbb='<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>';else _0x20118d['gain']<0x0?_0x26dbbb=_0x5aea67(0x90d):_0x26dbbb=_0x5aea67(0x236);}let _0x435783='-';if(_0x20118d[_0x5aea67(0xcf7)]!==null){const _0x5cfe2c=_0x20118d[_0x5aea67(0xcf7)]>0x0?'text-green-600':_0x20118d['tGain']<0x0?'text-red-600':_0x5aea67(0x5a8),_0x5ce8d9=_0x20118d['tGain']>0x0?'+':'';_0x435783='<span\x20class=\x22font-bold\x20'+_0x5cfe2c+'\x22>'+_0x5ce8d9+_0x20118d[_0x5aea67(0xcf7)][_0x5aea67(0x3ba)](0x2)+_0x5aea67(0x4e6);}_0x2096a3+=_0x5aea67(0x3aa)+(_0x2afdb9+0x1)+_0x5aea67(0x2a9)+_0x20118d[_0x5aea67(0x38d)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x20118d['preScore']??'-')+_0x5aea67(0x68f)+(_0x20118d[_0x5aea67(0x89d)]??'-')+_0x5aea67(0xc09)+_0x10558e+_0x5aea67(0xa51)+_0x26dbbb+_0x5aea67(0x89a)+(_0x20118d[_0x5aea67(0x58b)]?.[_0x5aea67(0x3ba)](0x2)??'-')+_0x5aea67(0xa1b)+(_0x20118d[_0x5aea67(0x75a)]?.[_0x5aea67(0x3ba)](0x2)??'-')+_0x5aea67(0xc09)+_0x435783+_0x5aea67(0x5cd);}),_0x2096a3+='</tbody></table></div>',_0x4879ad[_0x295f53(0xb6b)]=_0x2096a3;}function handleRenameQuiz(_0x346a4f,_0x4584e2){const _0x2bedf4=_0x315eb9;actionTargetId=_0x346a4f,document[_0x2bedf4(0x695)](_0x2bedf4(0x92e))[_0x2bedf4(0xbdb)]=_0x4584e2,renameQuizModal[_0x2bedf4(0xd75)][_0x2bedf4(0x8cc)]('hidden');}function setupComparisonModalTabs(){const _0x5b30e4=_0x315eb9,_0x4c8525=document[_0x5b30e4(0x695)]('comparison-overall-tab'),_0x2c0590=document[_0x5b30e4(0x695)](_0x5b30e4(0x262)),_0x50afe5=document[_0x5b30e4(0x695)](_0x5b30e4(0x693)),_0x17d3ff=document[_0x5b30e4(0x695)]('comparison-individual-content');_0x4c8525[_0x5b30e4(0x59b)](_0x5b30e4(0xc9a),()=>{const _0x156ae2=_0x5b30e4;_0x4c8525['classList'][_0x156ae2(0x8d6)]('active'),_0x2c0590[_0x156ae2(0xd75)]['remove'](_0x156ae2(0xb81)),_0x50afe5[_0x156ae2(0xd75)][_0x156ae2(0x8cc)]('hidden'),_0x17d3ff[_0x156ae2(0xd75)][_0x156ae2(0x8d6)](_0x156ae2(0x721));}),_0x2c0590[_0x5b30e4(0x59b)](_0x5b30e4(0xc9a),()=>{const _0x27bcb9=_0x5b30e4;_0x2c0590[_0x27bcb9(0xd75)][_0x27bcb9(0x8d6)](_0x27bcb9(0xb81)),_0x4c8525[_0x27bcb9(0xd75)][_0x27bcb9(0x8cc)](_0x27bcb9(0xb81)),_0x17d3ff[_0x27bcb9(0xd75)][_0x27bcb9(0x8cc)](_0x27bcb9(0x721)),_0x50afe5['classList'][_0x27bcb9(0x8d6)](_0x27bcb9(0x721));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x2dfcf1=_0x315eb9;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x4cdaea=doc(db,_0x2dfcf1(0x2d5)+appId+_0x2dfcf1(0xc05),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x4cdaea,_0x4b88dd=>{const _0x225455=_0x2dfcf1;if(!_0x4b88dd[_0x225455(0xb5a)]()){showMessage(_0x225455(0x727));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x225455(0x5bd)):showView(_0x225455(0x282));return;}const _0x530251=_0x4b88dd['data']();_0x530251['shuffledQuiz']&&(currentQuizData=_0x530251[_0x225455(0x8e2)]);!currentQuizData&&_0x530251[_0x225455(0xc24)]&&((async()=>{const _0x4f2154=_0x225455;try{const _0x421e9b=doc(db,_0x4f2154(0x2d5)+appId+_0x4f2154(0xc5d),_0x530251[_0x4f2154(0xc24)]),_0x2cf0a4=await getDoc(_0x421e9b);_0x2cf0a4[_0x4f2154(0xb5a)]()&&(currentQuizData={'id':_0x2cf0a4['id'],..._0x2cf0a4[_0x4f2154(0x5ac)]()});}catch(_0x10c40e){console[_0x4f2154(0xb62)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0x10c40e);}})());switch(_0x530251[_0x225455(0xbfe)]){case _0x225455(0xd39):if(currentMode===_0x225455(0xbe0)){const _0x7e620=_0x530251[_0x225455(0x5ca)]?Object['entries'](_0x530251[_0x225455(0x5ca)]):[],_0x3b7c57=_0x7e620['filter'](([_0x19363b,_0x1a1f2f])=>_0x1a1f2f[_0x225455(0xbfe)]==='active'),_0x23d1a9=document[_0x225455(0x695)](_0x225455(0x8a8));if(_0x23d1a9)_0x23d1a9['textContent']=_0x3b7c57['length'];const _0x17c7cd=document[_0x225455(0x695)](_0x225455(0x753));_0x17c7cd&&(_0x17c7cd[_0x225455(0xb6b)]=_0x3b7c57[_0x225455(0x947)](([_0x5a9f43,_0x528222])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5a9f43+_0x225455(0xd2b)+_0x5a9f43+_0x225455(0xb5d))[_0x225455(0x6f5)](''));const _0x3b458d=document[_0x225455(0x695)]('start-game-btn');_0x3b458d&&(_0x3b458d[_0x225455(0x22a)]=_0x3b7c57['length']===0x0);}else showView(_0x225455(0x4e5)),liveGameView['innerHTML']=_0x225455(0xabb)+currentStudentName+_0x225455(0xc88);break;case _0x225455(0x3ab):const _0x447d47=_0x530251[_0x225455(0x365)];if(currentQuizData&&currentQuizData[_0x225455(0xab9)][_0x447d47]){const _0x257e27=currentQuizData['questions'][_0x447d47],_0x11e274=_0x530251[_0x225455(0x9ce)]||_0x225455(0xbe3);switch(_0x11e274){case'summary_chart':currentMode==='admin'?showAdminSummaryView(_0x530251,_0x257e27):showPlayerSummaryView(_0x530251,currentStudentName);break;case _0x225455(0x924):currentMode===_0x225455(0xbe0)&&showTop5LeaderboardView(_0x530251);break;case'answering':default:if(currentMode===_0x225455(0xbe0)){const _0x330ce2=writeBatch(db);let _0xbc9e66=![];Object[_0x225455(0x9d1)](_0x530251[_0x225455(0x5ca)])['forEach'](([_0x4837ee,_0x49204d])=>{const _0x373322=_0x225455;if(_0x49204d[_0x373322(0xbfe)]===_0x373322(0xb81)&&_0x49204d['submittedAt']&&!_0x49204d[_0x373322(0x222)]){_0xbc9e66=!![];const _0x47a4b5=_0x49204d[_0x373322(0xaf2)]['toDate']()-_0x530251['questionDisplayedAt'][_0x373322(0x8f3)]();let _0x52f6d8=0x0;if(_0x49204d[_0x373322(0xd06)]){const _0x135601=0x3e8,_0x511012=0x1f4,_0x381c59=0x4e20;let _0x3fadb5=_0x47a4b5/_0x381c59;if(_0x3fadb5>0x1)_0x3fadb5=0x1;const _0x3910f7=Math[_0x373322(0xb77)](_0x3fadb5*_0x511012);_0x52f6d8=_0x135601-_0x3910f7;}const _0x19c52d=doc(db,_0x373322(0x2d5)+appId+_0x373322(0xc05),currentLiveGameId);_0x330ce2['update'](_0x19c52d,{['players.'+_0x4837ee+_0x373322(0x3fa)]:increment(_0x52f6d8),['players.'+_0x4837ee+'.pointsLastQuestion']:_0x52f6d8,[_0x373322(0xafb)+_0x4837ee+_0x373322(0x318)]:!![]});}});_0xbc9e66&&_0x330ce2[_0x225455(0xba4)]()[_0x225455(0x346)](_0x563c43=>console[_0x225455(0xb62)]('Error\x20committing\x20score\x20updates:',_0x563c43));lastRenderedAdminQuestionIndex!==_0x447d47&&(showAdminLiveQuestionView(_0x257e27,_0x447d47,currentQuizData[_0x225455(0xab9)][_0x225455(0xca6)]),lastRenderedAdminQuestionIndex=_0x447d47);const _0x594835=_0x530251['players']||{},_0x56cd6d=Object[_0x225455(0xb3a)](_0x594835)[_0x225455(0x9c1)](_0x2542f6=>_0x2542f6['status']===_0x225455(0xb81)),_0x534f42=_0x56cd6d[_0x225455(0xca6)],_0x4afcfa=_0x56cd6d[_0x225455(0x9c1)](_0x5e6e52=>_0x5e6e52[_0x225455(0x745)]===!![])[_0x225455(0xca6)],_0x90d0c1=document['getElementById'](_0x225455(0x492));if(_0x90d0c1)_0x90d0c1[_0x225455(0x97a)]=_0x4afcfa+'/'+_0x534f42;const _0x3fad90=document['getElementById'](_0x225455(0x54a));if(_0x3fad90){let _0x1e2abc=Object[_0x225455(0x9d1)](_0x594835)[_0x225455(0x9c1)](([_0x792bde,_0x4afa83])=>_0x4afa83[_0x225455(0xbfe)]===_0x225455(0xb81))[_0x225455(0x947)](([_0x230ca3,_0x4f3ec1])=>{const _0x48b22e=_0x225455,_0x2d83ac=_0x4f3ec1[_0x48b22e(0x745)]===!![],_0x5d530a=_0x2d83ac?_0x48b22e(0x373):_0x48b22e(0xd2c),_0x51f780=_0x2d83ac?_0x48b22e(0xcd6):_0x48b22e(0x3ca);return _0x48b22e(0x293)+_0x5d530a+_0x48b22e(0x623)+_0x51f780+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x230ca3+_0x48b22e(0x409)+_0x230ca3+_0x48b22e(0x2e1);})[_0x225455(0x6f5)]('');_0x3fad90['innerHTML']=_0x1e2abc||_0x225455(0x47f);}_0x534f42>0x0&&_0x4afcfa===_0x534f42&&revealAnswerForAdmin(_0x447d47,currentQuizData[_0x225455(0xab9)][_0x225455(0xca6)]);}else{const _0x22313c=_0x530251['players'][currentStudentName];_0x22313c&&!_0x22313c['answeredCurrentQuestion']&&showStudentLiveQuestionView(_0x257e27,_0x447d47,currentQuizData[_0x225455(0xab9)][_0x225455(0xca6)]);}break;}}break;case'podium':showPodiumView(_0x530251['players'],_0x225455(0xb9c));break;}});}async function openGlobalActivityModal(){const _0x4df5d8=_0x315eb9;if(allQuizzesGlobal[_0x4df5d8(0xca6)]===0x0){const _0x2553ab=await getDocs(collection(db,_0x4df5d8(0x2d5)+appId+_0x4df5d8(0xc5d)));allQuizzesGlobal=_0x2553ab[_0x4df5d8(0x80f)][_0x4df5d8(0x947)](_0x5a97f8=>({'id':_0x5a97f8['id'],..._0x5a97f8[_0x4df5d8(0x5ac)]()}));}renderGlobalActivityList(''),document[_0x4df5d8(0x695)]('global-activity-modal')[_0x4df5d8(0xd75)][_0x4df5d8(0x8cc)](_0x4df5d8(0x721));}function renderGlobalActivityList(_0x5ab34b=''){const _0x2e588d=_0x315eb9,_0xaf3c1=document['getElementById'](_0x2e588d(0x244)),_0x1a8dde=_0x5ab34b['toLowerCase']()[_0x2e588d(0xbcf)](),_0x3b38d2=allQuizzesGlobal[_0x2e588d(0x947)](_0x47b2f6=>({..._0x47b2f6,'projectName':allProjects[_0x2e588d(0x559)](_0x14eab3=>_0x14eab3['id']===_0x47b2f6[_0x2e588d(0x88e)])?.[_0x2e588d(0x36b)]||_0x2e588d(0x6d7)}))[_0x2e588d(0x9c1)](_0x37e11d=>(_0x37e11d[_0x2e588d(0xd28)]||'')[_0x2e588d(0x766)]()[_0x2e588d(0xcac)](_0x1a8dde)||(_0x37e11d[_0x2e588d(0x36b)]||'')[_0x2e588d(0x766)]()[_0x2e588d(0xcac)](_0x1a8dde));document[_0x2e588d(0x695)]('global-quiz-count')[_0x2e588d(0x97a)]='('+_0x3b38d2[_0x2e588d(0xca6)]+_0x2e588d(0x43a),_0xaf3c1[_0x2e588d(0xb6b)]=_0x3b38d2['length']?_0x3b38d2['map'](_0x7688b4=>_0x2e588d(0x549)+(_0x7688b4[_0x2e588d(0xd28)]||'(ไม่มีชื่อ)')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x7688b4[_0x2e588d(0xab9)]?.['length']||0x0)+_0x2e588d(0x4a2)+_0x7688b4[_0x2e588d(0x36b)]+_0x2e588d(0x907)+_0x7688b4['id']+_0x2e588d(0xaa2)+_0x7688b4['id']+_0x2e588d(0xc99)+_0x7688b4['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x7688b4['id']+_0x2e588d(0xbe9))['join'](''):_0x2e588d(0xd6f);}async function handleKickPlayer(_0x15bc1e){const _0x73aa19=_0x315eb9;if(!currentLiveGameId||!_0x15bc1e)return;const _0x93c6e0=doc(db,_0x73aa19(0x2d5)+appId+_0x73aa19(0xc05),currentLiveGameId),_0x1c436e={};_0x1c436e['players.'+_0x15bc1e+_0x73aa19(0x7af)]=_0x73aa19(0x2f2);try{await updateDoc(_0x93c6e0,_0x1c436e);}catch(_0x3dc4a5){console[_0x73aa19(0xb62)](_0x73aa19(0x5b2)+_0x15bc1e+':',_0x3dc4a5),showMessage(_0x73aa19(0xa16));}}async function authenticateUser(){const _0x4227de=_0x315eb9;try{typeof __initial_auth_token!==_0x4227de(0xa25)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x48b7ea){console[_0x4227de(0xb62)](_0x4227de(0xca7),_0x48b7ea),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x7c6709){const _0x7611c7=_0x315eb9;adminView[_0x7611c7(0xd75)][_0x7611c7(0x8d6)]('hidden'),studentView[_0x7611c7(0xd75)][_0x7611c7(0x8d6)](_0x7611c7(0x721)),projectDashboardView[_0x7611c7(0xd75)][_0x7611c7(0x8d6)](_0x7611c7(0x721)),projectDetailView[_0x7611c7(0xd75)]['add']('hidden'),quizResultsView['classList'][_0x7611c7(0x8d6)](_0x7611c7(0x721)),liveGameView[_0x7611c7(0xd75)][_0x7611c7(0x8d6)](_0x7611c7(0x721)),document[_0x7611c7(0x695)](_0x7611c7(0x485))[_0x7611c7(0xd75)][_0x7611c7(0x8d6)](_0x7611c7(0x721)),studentInitialView['classList'][_0x7611c7(0x8d6)](_0x7611c7(0x721)),studentJoinGameView[_0x7611c7(0xd75)][_0x7611c7(0x8d6)](_0x7611c7(0x721)),studentNameSelectionView[_0x7611c7(0xd75)]['add'](_0x7611c7(0x721)),studentQuizArea[_0x7611c7(0xd75)][_0x7611c7(0x8d6)](_0x7611c7(0x721)),studentResultArea['classList'][_0x7611c7(0x8d6)](_0x7611c7(0x721)),studentReadingArea[_0x7611c7(0xd75)][_0x7611c7(0x8d6)](_0x7611c7(0x721));const _0x2df5d2=document['getElementById']('student-team-selection-view'),_0x3a2a92=document['getElementById'](_0x7611c7(0x78f));if(_0x2df5d2)_0x2df5d2[_0x7611c7(0xd75)][_0x7611c7(0x8d6)]('hidden');if(_0x3a2a92)_0x3a2a92[_0x7611c7(0xd75)][_0x7611c7(0x8d6)](_0x7611c7(0x721));switch(_0x7c6709){case _0x7611c7(0x586):adminView[_0x7611c7(0xd75)]['remove'](_0x7611c7(0x721)),projectDashboardView[_0x7611c7(0xd75)][_0x7611c7(0x8cc)]('hidden');break;case _0x7611c7(0x5bd):adminView[_0x7611c7(0xd75)][_0x7611c7(0x8cc)](_0x7611c7(0x721)),projectDetailView[_0x7611c7(0xd75)][_0x7611c7(0x8cc)](_0x7611c7(0x721));break;case _0x7611c7(0xaff):adminView[_0x7611c7(0xd75)]['remove']('hidden'),quizResultsView[_0x7611c7(0xd75)][_0x7611c7(0x8cc)](_0x7611c7(0x721));break;case'student':studentView[_0x7611c7(0xd75)][_0x7611c7(0x8cc)](_0x7611c7(0x721)),studentInitialView[_0x7611c7(0xd75)]['remove'](_0x7611c7(0x721));break;case _0x7611c7(0x4e5):liveGameView['classList'][_0x7611c7(0x8cc)](_0x7611c7(0x721));break;case'student-team-join':studentView[_0x7611c7(0xd75)][_0x7611c7(0x8cc)]('hidden');if(_0x2df5d2)_0x2df5d2['classList'][_0x7611c7(0x8cc)](_0x7611c7(0x721));break;case _0x7611c7(0x472):studentView[_0x7611c7(0xd75)][_0x7611c7(0x8cc)](_0x7611c7(0x721));if(_0x3a2a92)_0x3a2a92['classList'][_0x7611c7(0x8cc)](_0x7611c7(0x721));break;default:studentView['classList']['remove'](_0x7611c7(0x721)),studentInitialView[_0x7611c7(0xd75)][_0x7611c7(0x8cc)](_0x7611c7(0x721));break;}}function showJoinGameView(){const _0x5ce34e=_0x315eb9;studentInitialView[_0x5ce34e(0xd75)][_0x5ce34e(0x8d6)](_0x5ce34e(0x721)),studentJoinGameView[_0x5ce34e(0xd75)]['remove']('hidden');}function _0x4252(){const _0x18d3cf=['.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','analytics-summary-cards','<p\x20class=\x22text-2xl\x22>','cancel-quiz-settings-btn','\x20จุด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','pen-tools-group','cancel-test-btn','baseVal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','newOptionsPayload','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','live-options-container','resultsDisplay','.sortable-header','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','onerror','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','POST','API\x20call\x20failed\x20with\x20status:\x20','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','หมดเวลาสำหรับข้อนี้!','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','student-passcode-input','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','cancel-shortcut-edit-btn','topic','substr','button[type=\x22submit\x22]','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','bg-gray-500','save-project-name-btn','gain','confirm-delete-btn','badgesCount','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','.edit-question-btn','การนับ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','#results-table','<div\x20class=\x22flex-1\x22></div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','lobby','</p><div>','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','dispatchEvent','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','แก้ไขสูตรคณิตศาสตร์\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','push','originalTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','newCorrectIndex','stringify','\x20คะแนน\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','color','AI\x20did\x20not\x20return\x20any\x20content.','???','blueprint-topics-list','.color-palette-popup','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','dashboardConfig','ไม่สามารถสร้างโปรเจคได้','Error\x20loading\x20user\x20preferences:','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','date_desc','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','\x22\x20name=\x22confidence','max','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','far\x20fa-star','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-global-activity-btn','practiceProblems','cancel-move-quiz-btn','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','reveal-answer-btn','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','bg-yellow-50','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','...\x22)?','document','ฟังก์ชันค่าสัมบูรณ์','reference_onet.pdf','27411472','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','icon','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','Enter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','parallel-default-1','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','Error\x20saving\x20file\x20shortcut:','wheel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.use-hidden-file-shortcut-btn','project-passcode-modal','classList','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','submission','.quiz-status-btn','admin-testing','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','.bp-create-onet-quiz-btn','กลุ่มของคุณ','</span></p>','ไม่สามารถโหลดข้อมูลอันดับได้','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','bg-green-200\x20text-green-900','ไม่มีคำอธิบาย','selected-answer-index-hidden','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','gradeLevel','blueprint-shortcut-container','stopPropagation','ความน่าจะเป็นแบบมีเงื่อนไข','parallelTestShortcutsConfig','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','getTextContent','.live-answer-btn,\x20#live-submit-short-answer-btn','<tr>','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_with_choices','parallel-shortcut-container','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','modal-adaptive-quiz-checkbox','ความชันและเส้นตรง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','global-activity-modal','สร้างแล้ว','hasOwnProperty','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','clear-all-links-btn','.scratchpad-content-wrapper','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','webkitExitFullscreen','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่พบไฟล์\x20Test\x20Blueprint','จากไฟล์ที่แนบมานี้,\x20','#DBEAFE','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','เรขาคณิตวิเคราะห์','กำลังสร้างรูปภาพ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','ตัวเลือก\x20ก','Error\x20moving\x20quiz:','verify-answers-btn','/lessons','reviewQuestionIndex','ตัวแปรและนิพจน์','practice-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','Error\x20saving\x20user\x20preference:','หน่วยมวล/น้ำหนักและการแปลง','confidence-input-','.highlighter-color-btn','#confidence-input-','blueprint-projects-modal','half_mark_status','ย้ายแบบทดสอบสำเร็จ','complexityValue','.delete-hidden-file-shortcut-btn','file-shortcut-editor-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','isFinished','\x22,\x20','ดอกเบี้ยอย่างง่าย','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','save','scratchpad-modal','memory','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','scores','highlighter-size-value','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','date_asc','responseSchema','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','shortcut-name-input','totalQuestions','toLocaleDateString','pointerup','กรุณาเลือกโปรเจคก่อน','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','quiz-leaderboard-table','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','comparison-modal','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','hint','การหารเศษส่วน','Error\x20joining\x20team\x20quiz:','shortcut-id-input','Error\x20updating\x20project\x20color:','isScored','file-tab','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','blockReason','.group\x5c/dropdown','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','disabled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bp-modal-difficulty-level-select','answered','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','onloadend','กรุณาเลือกสถานะ','grid','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','.eraser-size-btn','บันทึกผลการเล่นเกมของ\x20','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','\x5cdiv','pinnedProjects','selected-topics-count','label[for=\x22num-questions\x22]','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาตั้งชื่อแท็บใหม่:','quiz-form','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','scale','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','confirm-quiz-settings-btn','.project-card-content','\x20(ID:\x20','global-activity-quiz-list','manage','.ai-content\x20h3','อัตราและอัตราหน่วย','\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','parts','.use-hidden-shortcut-btn','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','leaderboard-tab','highlighter-size-slider','จำนวนและการดำเนินการ','Error\x20deleting\x20student:','timer-container','-options','\x20(สำหรับ\x20','generated-quiz-actions','next-question-btn','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','manage-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','classic','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','translate','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','จำนวนคู่:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','comparison-individual-tab','กรุณาใส่ชื่อนักเรียน','.topic-selection-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','sqrt','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','game-start-modal-title','#E5E7EB','Error\x20confirming\x20players\x20for\x20sync\x20game:','Error\x20saving\x20shortcut:','กรุณาใส่ชื่อโปรเจค','ใช่','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','open','element','\x20pointer-events-none\x22>','per-question-options','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','cancel-create-project-btn','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','STRING','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</button>','.pen-size-btn','แผนการสอน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','promise','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','.save-custom-topic-btn','red','ส่วนเบี่ยงเบนมาตรฐาน','student','save-parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','<i\x20class=\x22fas\x20fa-pen\x22></i>','teachingContent','numeric','ไม่สามารถเพิ่มนักเรียนได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','project-dashboard-view','move-quiz-modal','เส้นตรง:\x20รูปแบบสมการ','manual-bp-project-name','กำลังเตรียมไฟล์อ้างอิง...','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','mode-switcher-btn','\x5cge','.answeredCurrentQuestion','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</h3>','การลบเศษส่วน','curriculum','student-quiz-leaderboard-content','add-shortcut-tab-btn','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','onblur','.group','จับคู่เพื่อเปรียบเทียบผล','hint-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','mousemove','.quiz-settings-btn','loader-text','#file-shortcut-tabs-nav\x20.tab-name-input','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','file-default-','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','confidence-scoring-checkbox','/public/data/syncGames','student-join-game-view','ความคาดหมาย\x20(Expected\x20value)','kick-player-btn','comparison-individual-content','%</span>','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','ก่อนเรียน','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','rgba(239,\x2068,\x2068,\x200.7)','modal-timer-duration-container','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','handleGeneratePracticeTest','items','start-presentation-btn','lesson-loader-text','overallGroups','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยกเลิกการเชื่อมโยงสำเร็จ','toString','text-gray-200','additional-file-shortcuts-modal','msExitFullscreen','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','6xHMnQj','math-topic-search-input','force-math-checkbox','manual-bp-grade-level','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20data-quiz-id=\x22','ไฟล์ลัด\x201','forEach','artifacts/','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</label></div>','transparent','loader','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','bg-yellow-100','blueprint-project-list','quick_thinker','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','\x20ตอบ','Team\x20Quiz','admin-password-modal','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','ไม่ได้ตอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','All\x20groups\x20have\x20finished.\x20Ending\x20game.','confidence-choice-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','Error\x20adding\x20students:','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','inactive','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','quiz-search-input','ไม่สามารถโหลดรายการโปรเจคได้','ฟังก์ชันเชิงเส้นและกราฟ','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','removeAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-green-300\x20bg-green-50','size','modal-passing-score-input','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','progress-project-select','.quiz-bank-delete-btn','close-additional-file-shortcuts-btn','trail','write','</div></div>','เพิ่มรายการที่เลือก','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','พิมพ์ตอบ','.game-start-btn','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','fa-user-astronaut\x20text-blue-700','#D1FAE5','original-mode-checkbox','.edit-hidden-parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','parallel-default-','autoTable','.isScored','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','sara','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','update','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','แบบปรนัย\x204\x20ตัวเลือก','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','now','Error\x20saving\x20questions\x20to\x20practice\x20bank:','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','\x20คนที่ส่ง\x20ตอบถูก\x20(','...','ผลรวมอนุกรม\x20(Σ)','projectSortOrder','.delete-svg-btn','โดเมนและเรนจ์','position','สมการตรีโกณมิติ','#student-quiz-leaderboard-content\x20thead','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','bulk-loop-until-pass-checkbox','Error\x20saving\x20blueprint\x20project:','flex','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','removeChild','ไม่พบโปรเจค','confident','disabled\x20bg-gray-400\x20cursor-not-allowed','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','subTopics','ลบโปรเจคสำเร็จแล้ว','generationConfig','not_generated','delete-svg-btn','getAttributeNS','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','solution','isNormalTopic','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','ชื่อโปรเจคห้ามว่าง','parallel-shortcut-editor-modal','catch','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','.move-shortcut-item','save-blueprint-as-project-btn','เกิดข้อผิดพลาดในการสร้างห้องเกม','blueprint.pdf','shouldSaveResults','back-to-dashboard-btn','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','user','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','toggle','คัดลอกแบบทดสอบสำเร็จ','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','generate-from-text-btn','showImproveButton','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','topics','setTransform','แก้ไขข้อนี้','[data-topic-container-id]','shadowColor','members','application/pdf','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','checked','currentQuestionIndex','worksheet-topic-input','close','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reference-pdf-upload','/public/data/projects','projectName','quiz-end-time','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','Error\x20in\x20handleApiCall:','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','bg-green-500','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','temp-loader-results','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','274192258111','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','กำลังเตรียมไฟล์...','parallel-test-tab','การแยกตัวประกอบ','fixed','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','hasPerfectScoreBonus','/public/data/blueprintProjects','<br>','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','ไม่ใช่','textarea[name=\x22question_single\x22]','Error\x20deleting\x20shortcut:','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','redo-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หน่วยเวลาและการคำนวณเวลา','bg-green-200\x20text-green-800','บันทึกแบบทดสอบสำเร็จแล้ว!','name','indexOf','.ai-content\x20p','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','normal','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','abs',')\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','createElementNS','isDefault','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','manual-bp-content','sync-manage-players-btn','ปรับเพิ่ม/ลดเป็นร้อยละ','.linkedQuizIds','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','export-lesson-to-pdf-btn','topicName','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touches','padStart','submit-group-answer-btn','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','พาราโบลา','pop','lastIndexOf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','question','bg-gray-50','live-submit-short-answer-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','MathJax','สร้างคำถามแบบใช่/ไม่ใช่','shortcut-editor-modal','loop-until-pass-checkbox','.move-shortcut-dropdown','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','<p\x20class=\x22font-bold\x20text-sm\x20','files','lesson-plan-modal','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','toFixed','rgba(255,\x20255,\x200,\x200.5)','ยืนยันการกระทำ','รูปสี่เหลี่ยมและสมบัติ','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-list','application/json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','การหาร','both','save-file-shortcut-btn','teacherTips','พีชคณิตและฟังก์ชัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','getPage','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','ท็อปฟอร์ม','topic-quiz-bank-modal','\x22\x20ให้เป็นคำถามประเภท\x20\x22','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','onclick','live-short-answer-input','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','modal-results-display-select','.shortcut-list-item','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','lesson-plan-title','confirmation-message','name_asc','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','checkAnswer','กำลังอัปเดตแบบทดสอบ\x20','next-sync-question-btn','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','parallel-shortcut-id-input','starred','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','.color-palette-btn','Error\x20updating\x20project\x20name:','AI\x20Fix\x20Error:','ดูผลสรุปสุดท้าย','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','แบบทดสอบ:\x20','ชนิดของข้อมูลและการเก็บข้อมูล','MathJax\x20typeset\x20error\x20(analytics):','</a>','export-leaderboard-image-btn','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','bg-green-100','topic-bank-list','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','timer-bar','timed','Error\x20joining\x20activity:','parallel-shortcut-modal-title','resize','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','.edit-hidden-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','<div><input\x20type=\x22radio\x22\x20id=\x22q','.quiz-bank-try-btn','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','.score','.answered','file-shortcut-tabs-nav','ฟังก์ชันสัมพัทธ์\x20(rational)','shuffle-setting-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','.shortcut-list-item:not(.opacity-50)','bar','ตรวจทานเฉลยเสร็จสิ้น!','แบบทดสอบซ่อมเสริม','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','กำลังค้นหากิจกรรม...','confidenceMode','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','confidence-mode-select','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','.txt','change','show_results_and_answers','leaderboard-quiz','กรุณากรอกข้อมูลให้ครบทุกช่อง','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','</div>\x0a</div>\x0a','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','1502850ALYJck','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.edit-shortcut-btn','perfect_score_status','move-quiz-project-select','gameVariant','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','includeImages','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','drop','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','create-project-modal','.project-card-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','show_pass_fail_only','additional-file-shortcuts-list','.lastAnswerIndex','setAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','.move-parallel-shortcut-dropdown','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','.export-pdf-list-btn','border-indigo-500\x20text-indigo-600','ไม่พบข้อมูลโปรเจค','สอบปกติ','เกิดข้อผิดพลาดในการเข้าร่วมเกม','mouse','finishReason','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','\x22\x20data-quiz-id=\x22','tan','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','</p><p><strong>เฉลย:</strong>\x20','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ชุด)','เกิดข้อผิดพลาดในการสร้างใบงาน','<div\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','beforeend','correctAnswer','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','text-white','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','summaryContent','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','bg-blue-100','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','\x22\x20name=\x22drill_answer\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20name=\x22question_single\x22\x20value=\x22','<i\x20class=\x22fas\x20fa-magic\x22></i>','goto-next-question-btn','topicId','text-green-600','memoryContent','(ก่อนเรียน)','ceil','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','geq','จำนวนเชิงซ้อน\x20(เสริม)','file-shortcut-url-input','สลับไปโหมดผู้ควบคุม','</div></div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','add-file-shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','analytics-tab-content','.edit-parallel-shortcut-btn','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','team-student-list','moveTo','test','student-team-selection-view','.quiz-bank-move-btn','cancel-file-shortcut-edit-btn','fa-dumbbell\x20text-gray-700','ไม่มี','leaderboard_','.parallel-quiz-btn','documentElement','blueprintUrl','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','selectedTopicNames','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','.draggable-text','pointerdown','\x22\x20data-target-tab-id=\x22','student-progress','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ผ่านฉลุย','ไม่พบข้อมูลการจับคู่','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','AI\x20Formula\x20Fix\x20Error:','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','#F59E0B',',\x20r=','bp-project-title','พื้นที่วงกลม/ส่วนของวงกลม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','back-to-dashboard-from-bp-btn','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','cancel-game-start-btn','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','blueprint-project-manager-view','close-presentation-btn','countdown-display','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','file-shortcut_','bulk-confidence-scoring-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','\x22><i\x20class=\x22fas\x20','bulk-confidence-mode-select','กำลังสร้างแบบทดสอบ:\x20','ตัวประกอบและตัวประกอบเฉพาะ','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','answer-counter','separate-by-content-checkbox','Error\x20calling\x20Gemini\x20API:','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','show-leaderboard-btn','wakeLock','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fas\x20fa-user-edit','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mouseup','Error\x20verifying\x20answers\x20in\x20editor:','6224fIhquW','pointerType','prod','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','สัญกรณ์วิทยาศาสตร์','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','eraser','back-to-home-manual-release','floor','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-shortcut-id-input','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','team-quiz-topic','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','แบบทดสอบฝึกฝนเรื่อง:\x20','classWeaknesses','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','#student-project-leaderboard-content\x20thead','fill_in_the_blank','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','#open-additional-parallel-shortcuts-btn','dataset','href','pointsLastQuestion','สมการค่าสัมบูรณ์','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','viewBox','Invalid\x20response\x20structure\x20from\x20AI.','bp-reference-file-url','#ffffff','message-modal','additional-shortcuts-list','Error\x20adding\x20topic:','student-project-leaderboard-content','transition-all','isAnonymousRevealed','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','.ai-fix-formula-btn','authed_project_','topic-tab','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','isArray','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','</div>','คำถามถัดไป','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ai-quiz-app-aefee.firebasestorage.app','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','startTime','Could\x20not\x20fetch\x20reference\x20file:','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','bg-red-100','line-through\x20text-red-700','bg-green-200','ผู้ควบคุม\x20(ทดสอบ)','anonymous','join-group-activity-btn','quiz-editor-modal','currentTarget','blob','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','substring','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','querySelectorAll','confirm-confident','live-game','</span>','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<button\x20data-id=\x22','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-id-input','answers','ค่าความจริง/ตารางค่าความจริง','touchcancel','scratchpad-question','smooth','save-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','fix\x20the\x20option','sync-short-answer-input','อัปเดตพฤติกรรมสำหรับ\x20','fixedData','100px','topic-bank-subtopic-name','none','#retake-for-improvement-btn','</body></html>','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','mode','close-additional-parallel-shortcuts-btn','parallel-shortcut-tabs-nav','กำลังสร้างบทเรียน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','passing-score-input','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','modal-timer-duration-label','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','.start-presentation-list-btn','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','cursor','file.txt','ยังไม่เต็มนะ','default-1','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20(ส่วนนี้จะถูกจัดการโดย\x20prompt\x20ของ\x20application)\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','difficulty-level-select','asc','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','blueprint-upload-input','settings','กรุณาสร้างบทเรียนก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','text-gray-400\x20hover:text-indigo-600','.\x20แต่ละข้อมี\x20','สำหรับหัวข้อ\x20\x27','fix-lesson-latex-btn','รอ...','fas\x20fa-star\x20text-yellow-500','cdot','separate-by-content-from-file-checkbox','สมการเชิงเส้นตัวแปรเดียว','#FCE7F3','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','อยู่ในสาระการเรียนรู้ใด:','อนุพันธ์:\x20กฎพื้นฐาน','รูปแบบการให้เหตุผล','has','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','quiz-editor-questions-container','.verification-result','กรุณาป้อนรหัสแบบทดสอบ','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','<div\x20class=\x22mb-3\x20topic-category\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','commonMistakes','multiply','behavior-log-tab-btn','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','removeEventListener','generate-from-file-btn','.shortcut-tab-btn','add-parallel-shortcut-tab-btn','ปริมาตร/ความจุและการแปลง','transformOrigin','ลำดับเลขคณิต\x20(AP)','Error\x20generating\x20parallel\x20test\x20from\x20bank:','สถิติและความน่าจะเป็น','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','ผู้เชี่ยวชาญ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','มุมพิเศษ\x2045°-45°-90°','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','student-initial-view','team','shortcutIds','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','live-player-list','additional-parallel-shortcuts-modal','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','ควรปรับปรุง','สร้างโปรเจคสำเร็จ!','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','editable-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ดีเทอร์มิแนนต์','confirm-not-confident','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','allResponses','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','/studentProfiles','find','onchange','วงกลม:\x20สมการและสมบัติ','parse','การลบทศนิยม','loopUntilPass','file-default-2','Error\x20preparing\x20content\x20quiz:','game-start-quiz-id','difficultyValue','scratchpad-close-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.view-bp-lesson-btn','รอเปิด','per-question-text','สเกลและแผนที่','Error\x20saving\x20lesson\x20to\x20project:','firstScore','\x22\x20ออกจากคลังนี้?','ตัวเลือก\x20ค','focus','scores-tab-content','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','หลังเรียน','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','สมการยกกำลัง','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','Error\x20updating\x20sort\x20preference:','Original\x20quiz\x20not\x20found','applicationData','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','border-indigo-400\x20ring-2\x20ring-indigo-200','behavior-log-container','จับคู่แบบทดสอบสำเร็จ!','คำถามดิบ:\x20\x22','results-table','timer-mode-select','confirm-link-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x0a\x20\x20\x20\x20','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','admin-dashboard','latestSubmittedAt','student-name-select','perQuestionStats','after','preTScore','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','topic-input-area','quiz-results-table-body','\x20mr-2\x22></i>','comparison','.delete-shortcut-tab-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.admin-try-quiz-list-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','nextElementSibling','องค์ประกอบของฟังก์ชัน','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','สอบซ่อม','results-display-select','addEventListener','student-view','.delete-custom-topic-btn','visible','left','then','คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','border-red-300\x20bg-red-50','standardTopic','correctResponse','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-500','open-scratchpad-btn','contentEditable','candidates','data','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','สามเหลี่ยม\x20(ชนิด/สมบัติ)','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','confirm-game-start-modal','Failed\x20to\x20kick\x20player\x20','lesson-sections-container','\x5csqrt{$1}','groups.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','outerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','bg-red-200\x20text-red-800','อัปเดตแบบทดสอบเก่า\x20','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','project-detail','[data-topic-id=\x22','เพิ่ม\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','select','.delete-hidden-parallel-shortcut-btn','เกิดข้อผิดพลาดในการอัปเดต:\x20','Error\x20generating\x20lesson\x20plan:','true','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','players','timer-duration-label','การแจกแจงปกติและ\x20z-score','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#F3E8FF','match','ต้นฉบับทั้งหมด','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','.cancel-edit-topic-btn','API\x20Error\x20Response:','activeGameSession','pin','nickname-input','.bp-generate-lesson-btn','ข้อ\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','touchend','modal-timer-duration-input','</p></div>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','<button\x20data-value=\x22','question-complexity-select','attempts','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','presentation-slide-container','first_try_ace','tooltipTarget','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','การจัดหมู่\x20(Combination)','bg-yellow-200','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','num-questions','บันทึกการแก้ไข','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','sync-player-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','text','onkeydown','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','numChoices','Error\x20generating\x20easy\x20version\x20quiz:','leq','cancel-bp-settings-btn','128qzNfjP','lesson-view-content','split','results-table-container','Failed\x20to\x20get\x20standardized\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x20รายการสำเร็จ!','scrollHeight','show-in-student-dashboard-checkbox','clientX','join-live-game-btn','พบข้อสอบ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','ค่าคลาดเคลื่อนของการวัด','<li>','#FFFFFF','Error\x20generating\x20teaching\x20content:','สร้างใหม่','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','canvas','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','reduce','):\x20','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','prev-question-btn','.topic-name-input','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','\x5cpm','project-quizzes-list','fullscreenElement','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','delete-all-students-btn','บทเรียนเรื่อง:\x20','modal-message','Blueprint\x20O-NET\x20ป.6','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','questionText','stepByStepExamples','presentation-scratchpad-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','random','neq','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','upperGroupResponders','เกิดข้อผิดพลาดในการลบ','s;\x22\x20title=\x22','</h4>','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','\x5ccdot','student-quiz-topic','fill_in_no_choices','อสมการค่าสัมบูรณ์','globalAlpha','.correct-response-input','บันทึกคำถามใหม่\x20','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สาระที่\x201','isLooping','fileShortcutTabs','whole_quiz','Error\x20during\x20blueprint\x20link\x20cleanup:','.move-file-shortcut-menu-btn','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','correct','close-lesson-view-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','ปริพันธ์ไม่จำกัด','ไม่พบแบบทดสอบ','\x20(p=','กราฟฟังก์ชันตรีโกณ','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','ระบบเลขและค่าประจำหลัก','dblclick','check-answer-btn','</span></td>','.tab-name-input','ยังไม่ส่ง','ยอดเยี่ยม','str','cancel-rename-quiz-btn','ย้ายแบบทดสอบไปโปรเจคอื่น','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','pinned-items','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','endTime','parallel-shortcuts-loading-msg','2-digit','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','generate-from-blueprint-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','fadeStartTime','ai-quiz-app-aefee.firebaseapp.com','execCommand','เกิดข้อผิดพลาดในการส่งคำตอบ','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-quiz-status-btn','<div\x20class=\x22space-y-4\x22>','bp-modal-shuffle-setting-select','confirm-rename-quiz-btn','upper_group_count','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','getElementsByTagName','undo-btn','เกิดข้อผิดพลาดในการบันทึกลำดับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','findIndex','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','พื้นที่ผิวรูปทรงสามมิติ','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touchstart','generate-worksheet-btn','frac','ไม่ใช่\x20/\x20ผิด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','ondragover','คัดลอกรหัสแล้ว!','#view-rankings-btn','starred-project','badges','ondragstart','Error\x20resetting\x20project\x20order:','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','rgba(239,\x2068,\x2068,\x200.9)','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','comparison-overall-content','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getElementById','specialist','Error\x20saving\x20file\x20shortcut\x20config:','button','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','ฮิสโตแกรม','shortcuts','Error\x20fetching\x20quiz\x20settings:','ผ่าน','<div\x20class=\x22my-2\x22>','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','tool','การแปลงรูปอัตลักษณ์','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','save-game-results-checkbox','fa-bolt\x20text-blue-500','clientY','ตัวเลือก\x20ง','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','modal-confidence-mode-select','สมการราก\x20(radical)','---\x20[คำถามใหม่]\x20---','project-title','\x20(\x22','.topic-actions-view','input[type=\x22text\x22]','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','height','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','save-quiz-btn','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','border-red-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','Error\x20processing\x20shortcut\x20click:','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','\x20\x20\x20-\x20','warn','requestFullscreen','jspdf','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','bg-green-200\x20text-green-900\x20font-bold','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','อยู่ในหัวข้อหลักใด:','manual_release','คณิตการเงิน/บูรณาการ','tfrac','submission-status-chart','ระยะเวลา\x20(วินาที):','bank-tab','การบวกเศษส่วน','สุดยอด!\x20ตอบถูกทุกข้อ','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','ทฤษฎีบทพีทาโกรัสและการประยุกต์','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','options','อนุพันธ์:\x20กฎลูกโซ่','restore','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','</select>','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','copy-quiz-id-btn','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','N/A','manage-players-btn','post-test','#add-question-editor-btn','startsWith','live-player-management','times','mean','.png','ไม่มีผู้ตอบตัวเลือกนี้','Failed\x20to\x20generate\x20lesson:','กรุณาป้อนหัวข้อสำหรับใบงาน','#parallel-shortcut-tabs-nav\x20.tab-name-input','bp-add-topic-btn','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','ไม่พบข้อมูลเกม','ข้อที่\x20','</span><span\x20class=\x22font-bold\x22>','จำนวนคละ','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','group','px,\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','move','\x5cneq','screen','การบวก','th-TH','join','totalPoints','referenceUrl','summary','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','parseFromString','Error\x20saving\x20manual\x20blueprint\x20project:','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','text-red-900','pen-tool-btn','project-search-input','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','เส้นจำนวน','คำอธิบาย...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','every','blur','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','reset-view-btn','input[name=\x22status-option\x22]:checked','bg-emerald-100','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x20จาก\x20','end-team-quiz-btn','Firebase\x20initialization\x20failed:','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','/public/data/practiceBank','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','input[name=\x22question_single\x22]:checked','category','behavior-log','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','คะแนนเต็ม','add-parallel-shortcut-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','close-comparison-modal-footer-btn','justification','reset-project-order-btn','#000000','.linkedQuizId','การกระจายและการจัดหมู่','<button\x20data-shortcut-id=\x22','bg-red-100\x20text-red-800','per-question-timer-container','hidden','beginPath','กำลังสแกนหาแบบทดสอบเก่า...','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','project-sort-select','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','เกมสิ้นสุดลงแล้ว','Error\x20saving\x20quiz\x20edits:','editor-quiz-topic','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','text-indigo-800','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','บันทึกการตั้งค่าสำเร็จ','bp-quiz-settings-btn','bp-modal-passing-score-input','รหัสไม่ถูกต้อง','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','.unpair-quiz-btn','ดอกเบี้ยทบต้น','short_answer','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','ส่งแล้ว','projectOrder','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','toDataURL','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20to\x20blueprint\x20topic\x20','.delete-file-shortcut-btn','กำลังสร้างแบบทดสอบ\x20\x22','\x20สำเร็จ','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','createObjectURL','.move-file-shortcut-item','results','answeredCurrentQuestion','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','_opt','\x0a\x20\x20\x20\x20\x20\x20</div>','.answers','showInStudentDashboard','input[type=\x22radio\x22][value=\x22','```','กำลังกลับเข้าสู่เกม\x20','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','top','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Test\x20Blueprint','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','player-list-lobby','additional-parallel-shortcuts-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','lesson-view-modal','parallel-shortcut-url-input','.bp-live-btn','Error\x20saving\x20submission:','postTScore','stdDev','Error\x20saving\x20parallel\x20shortcut\x20config:','passingScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','กำลังอ่านและเตรียมไฟล์...','generate-from-parallel-test-btn','open-sync-scratchpad-btn','close-game-final-btn','\x22\x20data-pre-test-id=\x22','ai-quiz-app-aefee','toLowerCase','สำหรับโปรเจค:\x20','from','Loaded\x20','.tab-name-display','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','Error\x20comparing\x20results:','\x22\x20name=\x22question','การจัดกลุ่มข้อมูล','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','จำนวนเต็มลบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','leaderboard-quiz-tab-content','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','copy','end-sync-game-btn','การหารทศนิยม','min','false','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','duration-300','cancel-admin-login-btn','input[name=\x22syncVariant\x22]:checked','Error\x20deleting\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','scrollIntoView','td,\x20th','closePath','createElement','adaptive-quiz-checkbox','number','ปริพันธ์จำกัด','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','จำนวนข้อ:','type','isPasscodeEnabled','.delete-parallel-shortcut-tab-btn','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-progress-view','confirm-passcode-btn','Error\x20starting\x20team\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','correctAnswerIndex','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','file-input-area','behaviorLog','(คัดลอก)\x20','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','rows','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','next-drill-btn','คะแนน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','.delete-quiz-btn','analytics-tab-btn','sort','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','blueprint-input-area','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','mandatory','fa-pen','style','กรุณาใส่ชื่อใหม่','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','lineWidth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.status','set','.rename-quiz-btn','bg-black/10','ยืนยันการจับคู่','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','เกี่ยวกับหัวข้อ\x20\x22','ไม่พบแบบทดสอบในระบบเลย','pdf','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','editable-text-','results-quiz-title','กำลังอ่านไฟล์อ้างอิง...','scratchpad-controls','sync-player-management','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','Error\x20updating\x20old\x20quizzes:','width','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','มุมและการวัดมุม','<button\x20id=\x22','แก้ไขปุ่มลัด','G-V90KRM0L63','\x22\x20จำนวน\x20','slice','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','label','<div\x20class=\x22my-6\x22>','lessonPlan','\x20แบบทดสอบลงในคลังสำเร็จ!','Failed\x20to\x20end\x20group\x20mode\x20game:','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','blueprint-settings-modal','fill','#10B981','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','fullscreenchange','\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27','(^|[^\x5c\x5c])\x5cb','กำลังดึงไฟล์อ้างอิงจากลิงก์...','ตรวจคะแนนใหม่\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.kick-player-btn-sync','results_','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','empty','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','matching','ฟังก์ชันราก\x20(root)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','open-quiz-bank-btn','reveal_at_end','กรุณาวาง\x20URL\x20ของบทความก่อน','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','Error\x20generating\x20worksheet:','หยุดระบบจับเวลาหรี่หน้าจอ','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','.topic-actions-edit','promptFeedback','</span></div>','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','\x22\x20data-topic=\x22','bulk-confidence-mode-container','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','createdAt','touchmove','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','cancel-manual-bp-btn','score-distribution-chart','\x20\x20\x20-\x20คำตอบ:\x20','จำนวนเต็มบวก','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','applicationHTML','modal-confidence-mode-container','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','center','.bp-delete-topic-btn','แบบทดสอบที่ติดดาว','opacity','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','bulk-shuffle-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','link-input-area','trail-tool-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','qIndex','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','cancel-parallel-shortcut-edit-btn','Error\x20processing\x20parallel\x20shortcut\x20click:','docs','ไม่พบข้อมูลหัวข้อที่จะบันทึก','keys','738024eeYHuX','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','quiz-bank-modal','quiz-leaderboard-table-body','.confidence-choice-btn','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','interesting-stats-wrapper','target','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','-tab','lowerGroupNames','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','หมดเวลา!\x20กำลังส่งคำตอบ...','download','text-input-area','url','not_confident','[data-topic-id]','<option\x20value=\x22\x22>กำลังโหลด...</option>','\x20mb-2\x22>','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','answerText','bp-modal-num-choices','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','text-gray-300\x20hover:text-white','ยืนยันและอัปเดตทั้งหมด','generated-quiz-container','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','isConfidenceScoringEnabled','bp-topic-list-container','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','shuffleSetting','AI\x20ไม่สามารถประมวลผลข้อมูลได้','text-red-800','pointercancel','offset','blueprint-topics-list-container','ความต่อเนื่อง','arrayBuffer','.project-card-container[data-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','link-url-input','onload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20during\x20class\x20analysis:','earned-badges-container','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','จากเนื้อหาต่อไปนี้:\x20\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','application','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','lowerGroupResponders','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','mixed','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','timer-duration-input','\x22...','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','ownerSVGElement','<div\x20class=\x22answer-space\x22></div>','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','กฎบวกและกฎคูณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','cancel-bulk-quiz-settings-btn','.quiz-bank-checkbox:checked','project-id-display','.sort-indicator','stem','unshift','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','$1\x20\x5cfrac','confidence-scoring-toggle','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','เพิ่มปุ่มลัดใหม่','strength-weakness-analysis-container','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','เกิดข้อผิดพลาดในการแก้ไข','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','currentMode','rgba(79,\x2070,\x20229,\x201)','</option>','ฟังก์ชันยกกำลัง','สมการเหตุผล\x20(rational)','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','bank-quiz-list','.csv','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เพิ่มคำถามใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทฤษฎีทวินาม\x20(เบื้องต้น)','Error\x20saving\x20reference\x20URL:','hover:bg-indigo-100','แท็บใหม่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Attempting\x20to\x20save\x20game\x20results...','อินเวอร์สของเมทริกซ์','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','MathJax\x20re-render\x20failed:','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการลอการิทึม','save-settings-btn','\x22\x20value=\x22true\x22\x20','presentation-short-answer-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','<div\x20id=\x22q-image-container-','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','Error\x20saving\x20quiz:','Error\x20fetching\x20lesson\x20content:','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','</tbody></table>','กำลังวิเคราะห์หัวข้อ...','confirm-bulk-quiz-settings-btn','#FEF3C7','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','Error\x20listening\x20for\x20custom\x20math\x20topics:','responses','.delete-hidden-shortcut-btn','setAttributeNS','insertBefore','confirm-move-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','opacity-50','projectId','Error\x20deleting\x20submission:','learningGaps','แก้ไขชื่อหัวข้อย่อย:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','แผนภาพกล่อง\x20(box\x20plot)','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','#math-topics-checkbox-container\x20input:checked','isRemedial','bulk-quiz-settings-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','input[name=\x22drill_answer\x22]:checked','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','postScore','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','มุมพิเศษ\x2030°-60°-90°','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','Error\x20generating\x20from\x20link:','modal-shuffle-select','quiz-bank-count','student-rankings-modal','msRequestFullscreen','กรุณาพิมพ์คำตอบของกลุ่ม','player-count','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','กำลังสร้างแบบทดสอบจากหัวข้อ...','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','game-pin-input','shortcut-blueprint-url-input','targetId','เลือกโปรเจคเพื่อบันทึก','main-correct-answer-display','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','เลือกและเริ่มสร้าง','ผิด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','461277oXNAsG','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','</li>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','studentName','ไม่ผ่าน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','passcode-input-container','json','scratchpad-header','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','select[name=\x22question_single\x22]','cancel-blueprint-projects-btn','ไม่พบข้อมูลข้อสอบหลังเรียน','topics.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','remove','order','\x20ชุด)</span>','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','Error\x20saving\x20parallel\x20shortcut:','รีเซ็ตลำดับโปรเจคแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','back-to-student-home-btn','passcode','insertAdjacentHTML','add','ความเป็นอิสระของเหตุการณ์','previousElementSibling','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','.live-summary-tooltip.visible','bg-green-500\x20hover:bg-green-600\x20text-white','Blueprint\x202','ไฟล์ลัด\x202','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','shuffledQuiz','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','<h1></h1>','sync','มัธยฐาน','lesson-plan-content','file-topic-input','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-results-btn','.ai-content\x20td','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','groups','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','title','toDate','modal-confidence-scoring-checkbox','ระบบสมการเชิงเส้นสองตัวแปร','blueprintShortcuts','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','content','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','API\x20call\x20failed','คณิตศาสตร์','ARRAY','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','string','key','Error\x20generating\x20from\x20parallel\x20test\x20file:','(หลังเรียน)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ตอบถูก\x203\x20ข้อติดต่อกัน','คัดลอกไม่สำเร็จ','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ถูกต้อง!','\x20|\x20ID:\x20','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','shortcut-reference-url-input','scratchpad-canvas',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','.edit-quiz-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22p-2\x20rounded-md\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','อุณหภูมิและการแปลง','ผู้ไม่ยอมแพ้','Error\x20showing\x20quiz\x20detail\x20view:','Error\x20toggling\x20star\x20status:','password-error-msg','draggable-text','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','subTopic','innerText','standard','sync-matching-select','quiz','custom-math-topic-input','leaderboard','<textarea\x20name=\x22question','parallel-test-input-area','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','\x22.\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','list','game-start-mode','answerValue','bulk-quiz-settings-modal','rename-quiz-input','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','ไม่พบข้อมูลแบบทดสอบ','globalCompositeOperation','Error\x20pairing\x20quizzes:','save-quiz-edits-btn','thead','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','start-sync-game-btn','เกิดข้อผิดพลาดในการลบแบบทดสอบ','math-topics-checkbox-container','ถูก','ตัวเลือก\x20ข','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','\x5cle','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','เปิดใช้งาน','underline','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','analyze-strengths-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','map','input[name=\x22syncVariant\x22][value=\x22classic\x22]','SAFETY','บทเรียน','per-q-countdown','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','checkbox','explanation','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','เพิ่มปุ่มลัดจากไฟล์ใหม่','questions_only','questionIndex','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','ลบหัวข้อสำเร็จ','per_question','point','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','results-tab-content','multiple_choice','teacherSuggestions','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submissions','log','student-project-leaderboard-tab','text-gray-700','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','No\x20player\x20data\x20to\x20save.','replace','.live-answer-btn,\x20#sync-submit-btn','bp-modal-num-questions','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปิดใช้งาน','view-my-progress-btn','mousedown','</th>','body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','global-quiz-search-input','backgroundColor','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','กฎของโคไซน์','confirm-join-game-btn','http://www.w3.org/2000/svg','globalSettings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','shortcutId','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','ฟังก์ชันผกผัน','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','textContent','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','NUMBER','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','description','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','summary_chart','parent','print','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-results-view','cancel-quiz-bank-btn','ref','approx','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dragstart','worksheet-input-area','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงสรุปข้อต่อไป...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','BOOLEAN','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','scores-tab-btn','exitFullscreen','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','เกิดข้อผิดพลาด:\x20','confirm-team-players-btn','default-2','circle','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','.parallel-shortcut-tab-btn','<tr><td\x20colspan=\x22','webkitRequestFullscreen','Error\x20loading\x20quiz\x20for\x20student:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-lesson-pdf-btn','parseInline','\x22\x20สำเร็จ','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','class','fas\x20fa-bookmark','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','data:application/vnd.ms-word;charset=utf-8,','project-passcode-input','dragend','rename-quiz-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','lineCap','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','_opt1\x22>ไม่ใช่</label></div>','ระยะทางและจุดกึ่งกลาง','\x22>ไม่ใช่</p>','toISOString','เกิดข้อผิดพลาดในการปักหมุด','Error\x20confirming\x20players:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','filter','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','ความแปรปรวน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','close-additional-shortcuts-btn','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','ความเท่ากันทุกประการของสามเหลี่ยม','suggestedAnswer','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ใช่\x20/\x20ถูก','สร้างคำถามใหม่\x201\x20ข้อ\x20','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','.ideal-answer-input,\x20.correct-response-input','questionStatus','แก้ไขหัวข้อสำเร็จ','text-red-500\x20hover:text-red-700','entries','tab_','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','Error\x20saving\x20project\x20order:','manage-tab','dimmed','ondblclick','contains','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.file-shortcut-btn[data-id=\x22','rgba(59,\x20130,\x20246,\x200.7)','.quiz-bank-item','-tab-content','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','questionType','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','ไม่พบตารางสำหรับ\x20Export','comeback_king','เกิดข้อผิดพลาดในการบันทึก','display','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','get','message','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','เกิดข้อผิดพลาดในการลบผลสอบ','.file-shortcut-btn','release','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','localeCompare','\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','เวกเตอร์และเมทริกซ์\x20(เสริม)','Error\x20listening\x20for\x20student\x20profiles:','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','projectSort','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ไฮเพอร์โบลา','bg-black/20','.question-editor-item','worksheet-tab','/public/data/blueprintProjects/','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สร้างชุดคำถามจับคู่','strokeStyle','readAsDataURL','isCorrect','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','getContext','confidence-modal','textarea','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','students','toLocaleString','.quiz-result-card','คะแนนเต็ม!','parallel-shortcut_','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','text-red-600','setFont','เกิดข้อผิดพลาดในการนำผู้เล่นออก','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','short','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','lineJoin','quiz-type-select','bg-red-500\x20text-white\x20font-bold','pre-test','\x20ตัวเลือก)','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เงินงวด\x20(อนุกรมเงินงวด)','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','สร้างคำถามแบบเติมคำในช่องว่าง','undefined','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','บันทึกโปรเจค\x20\x22','เริ่มกิจกรรม:\x20','Error\x20analyzing\x20file\x20for\x20topics:','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','eraser-tools-group','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','analytics','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนนักเรียน','ระยะจากจุดถึงเส้นตรง','การคูณทศนิยม','timerMode','<button\x20data-tab-id=\x22','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','dim-overlay','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','ข้อต่อไป','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','projectView','ย้าย','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','mainTopics','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','quizType','index','AI\x20grading\x20failed:','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-status-btn','Error\x20saving\x20shortcut\x20config:','pointContent','bestScore','temp-loader-text-results','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบนี้ปิดใช้งานอยู่','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','.subTopic','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','parallelShortcutTabs','.edit-custom-topic-btn','textarea[name=\x22team_answer\x22]','result','user-id-display','linkedQuizIds','btn','ตรวจพบการออกจากหน้าจอครบ\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','student-result-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','text-purple-600','keydown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','null','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','\x20คู่\x20','mouseleave','พื้นที่ใต้กราฟ/ระหว่างกราฟ','Error\x20duplicating\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','กำลังสร้างเนื้อหา:\x20','highlighter','ฟังก์ชันแบบชิ้นส่วน','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','/public/data/projects/','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','pow','\x20ข้อ\x20','overflowY','visibilityState','function','<span\x20class=\x22font-bold\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','Error\x20starting\x20group\x20quiz:','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','div','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','passcode-error-msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','student-reading-area','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจว่าต้องการลบแท็บนี้?','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','ลบโปรเจค\x20\x22','ดอทโปรดักต์\x20(dot)','podium','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','total','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','ส่วนเบี่ยงเบนเฉลี่ย','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','question-analytics-container','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','student-team-join','Error\x20updating\x20quiz\x20status:','project-detail-view','\x22>ใช่</p>','/public/data/teamQuizzes','.quiz-bank-parallel-btn','.shortcut-btn','.topic-name-display','\x0a---\x0a','close-student-rankings-btn','\x20from\x20sync\x20game:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','bg-green-400\x20text-white\x20font-bold','อัตราการเปลี่ยนแปลงทันที','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22','txt','px)\x20scale(','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','การวัด','tabId','เนื้อหาสำหรับสอน:\x20','/submissions','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','PERFECT_SCORE','lastAnswerIndex','sync-variant-selector','.verification-result-editor','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','timestamp','กำลังสร้างคำถามข้อ\x20','Error\x20starting\x20game:','comparison-chart','ยอดเยี่ยม!','.parallel-shortcut-btn','</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','bg-green-100\x20text-green-800','GlobalWorkerOptions','Error\x20creating\x20project:','questions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','verify-answers-editor-btn','กรุณาเลือกโปรเจคที่ต้องการบันทึก','presentation-ai-result','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(ก่อนเรียน)\x20','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','isAdaptive','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','ลำดับการดำเนินการ\x20(PEMDAS)','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','OBJECT','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','wasConfident','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','Error\x20generating\x20hybrid\x20quiz:','flex\x20flex-col\x20gap-2','การประยุกต์เวกเตอร์พื้นฐาน','ร้อยละพื้นฐาน','.star-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','แบบทดสอบจากคลังส่วนตัว','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','save-visibility-settings-btn','475012AGIYoX','<li\x20class=\x22','เรเดียนและการแปลงหน่วย','score','\x22\x20data-q-type=\x22','Error\x20listening\x20for\x20projects:','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','modal-loop-until-pass-checkbox','.toggle-actions-btn','/questionBank','text-blue-800','ระยะเวลา\x20(นาที):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','option','คำเตือน\x20(','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','back-from-results-btn','Error\x20submitting\x20team\x20answer:','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','Leaderboard\x20update\x20transaction\x20failed:\x20','uid','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','เกิดข้อผิดพลาดในการบันทึกโปรเจค','bg-green-100\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submittedAt','imageCode','perfect_score','.quiz-bank-settings-btn','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','\x20ข้อ...','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','.delete-student-btn','players.','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','.auto-resize-textarea','quiz-results','add-file-shortcut-btn','ondragend','text-indigo-600','applicationContent','finished','.presentation-option','Error\x20verifying\x20answers:','presentation-explanation','แผนภาพเวนน์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','reveal-names-btn','devicePixelRatio','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','_opt0\x22\x20name=\x22question','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','Error\x20displaying\x20question\x20bank:','closest','grid-view-btn','.duplicate-quiz-btn','\x20|\x20','#e21b3c','/users/','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','handleGenerateAndShowLesson','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','cancel-team-selection-btn','instructions','.move-shortcut-menu-btn','export-excel-btn','upperGroupNames','destroy','offsetWidth','QUICK_THINKER','Group\x20Mode','text-red-300\x20hover:text-red-100','gamePin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','scheduled_pending','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','keyup','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-bp-project-btn','live-game-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-gray-200\x20text-gray-700','แก้ไขปุ่มลัดจากไฟล์','generate-from-topic-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกคำตอบ','(เลือกแล้ว\x20','input[name=\x22team_player\x22]:checked','blueprint-tab','\x22\x20สำเร็จ!','values','ยกเลิกการจับคู่สำเร็จ','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','numQuestions','admin-try-quiz-btn','file-shortcut-name-input','removeItem','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','หัวข้อที่สร้างเอง','minHeight','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','cos','presentation-modal','getScreenCTM','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','อสมการเชิงเส้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','show_results_only','points','<div\x20class=\x22loader\x20mx-auto\x22></div>','splice','เปลี่ยนชื่อโปรเจคสำเร็จ','ตั้งเวลา\x20(เปิด)','deltaY','ค่าเฉลี่ย','className','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','(ไม่มีชื่อ)','setItem','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','exists','อัปเดตสถานะสำเร็จ','/public/data/quizzes/','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','สรุปผลสุดท้าย','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','bp-modal-question-complexity-select','error','translate(','student-list','timer-duration-container','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','innerHTML','export-pdf-modal','text-red-700','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','latestScore','actions-container-','stroke','ไม่ระบุ','confidence-scoring-description','[data-field=\x22subTopic\x22]','lesson-view-title','gameData','round','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','.bp-present-btn','<svg','\x20ครั้ง)</span></td>','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','<option\x20value=\x22','input','list-view-btn','active','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.move-parallel-shortcut-menu-btn','bg-teal-500\x20hover:bg-teal-600\x20text-white','team-player-status-grid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตรีโกณมิติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','auto-fix-latex-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','กำลังจับคู่...','preventDefault','leaderboard-quiz-tab-btn','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','true_false','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','</p>','กรุณาเลือกคำตอบก่อนครับ','responses.','Error\x20saving\x20visibility\x20settings:','\x22\x20class=\x22pin-project-btn\x20','live-race','\x20คะแนน</span></div>','Error\x20opening\x20quiz\x20editor:','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','.file-topic-selection-btn','auto','\x5ctimes','.start-live-race-btn','commit','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','fa-rocket\x20text-purple-500','กำลังโหลดคลังข้อสอบทั้งหมด...','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','shuffle','reference.txt','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','.live-answer-btn','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','createdBy','.generate-lesson-btn','bg-red-500','timerDuration','classStrengths','Error\x20adding\x20custom\x20topic:','grabbing','input[type=\x22checkbox\x22]','bp-modal-include-images-checkbox','appendChild','scrollX','กำลังอ่านไฟล์\x20Test\x20Blueprint...','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','pairedQuizId','NEGATIVE_INFINITY','จัดการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','Auto-linking\x20new\x20quiz\x20','admin-password-input','พิสัย','กำลังดึงข้อมูลจากลิงก์...','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','pointermove','bg-green-50','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','delete','trim','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','ไฟล์ทั้งหมด','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','.ai-fix-question-btn','เส้นรอบรูป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','add-custom-math-topic-btn','deg','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','value','update-old-quizzes-btn','schedule','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','admin','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.question-editor-item:last-of-type','answering','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','.ideal-answer-input','_opt1\x22\x20name=\x22question','</td>','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','\x22><span>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','quiz-generation-area','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตอบถูกทุกข้อในแบบทดสอบนี้','submit','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','svg','destination-out','default','Error\x20saving\x20settings:','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','Error\x20regenerating\x20question\x20in\x20editor:','topic-input','start-live-race-generated-btn','sync-submit-btn','\x22\x20name=\x22team_answer\x22\x20value=\x22','readAsArrayBuffer','status','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','idealAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','newOptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','text/html','/public/data/liveGames','เรขาคณิต','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','คะแนนเฉลี่ย','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','23028021Qhkywj','confirmation-modal','dragover','text-red-700\x20bg-red-100','130765zggTcg','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','fileShortcutsConfig','screen_exit','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','matching_item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','Error\x20submitting\x20group\x20answer:','ค.ร.น.\x20(LCM)','[*]','pen','student-progress-content','lesson-loader','Error\x20deleting\x20topic:','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','เซียนสมองไว','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','bg-red-50','quizId','eraser-tool-btn','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','getBoundingClientRect','export-leaderboard-word-btn','<option>กำลังโหลดโปรเจค...</option>','confidence_single','q-image-container-','/public/data/customMathTopics','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ตัวเลือก.\x20','start-game-btn','FileReader\x20error:','querySelector','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','qType','\x27\x20ในหัวข้อ\x20\x27','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','bp-modal-quiz-type-select','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','attemptNumber','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','p-2\x20bg-black/10\x20rounded-md','isPinned','วงรี','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','on_fire','manual-blueprint-modal','.move-parallel-shortcut-item','code','close-comparison-modal-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p><strong>คำตอบที่แนะนำ:</strong>\x20','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','.move-quiz-btn','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','เกิดข้อผิดพลาดในการลบนักเรียน','text/csv;charset=utf-8;','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','ON_FIRE','modal-timer-mode-select','text/plain','แคลคูลัสเบื้องต้น','คะแนนยังไม่ถึงครึ่ง','block','additional-shortcuts-modal','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','.copy-quiz-id-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/quizzes','อัปเดตการตั้งค่าของแบบทดสอบ\x20','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','_blank','shortcutTabs','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','fromCharCode','select-all-topics-btn','bank-input-area','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','link-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','COMEBACK_KING','Error\x20displaying\x20blueprint\x20project:','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','จุด\x20เส้น\x20ระนาบ','สลับไปโหมดนักเรียน','.question-editor-item[data-q-index=\x22','student-project-leaderboard-table-body','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','พื้นที่สามเหลี่ยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','text-green-600\x20font-bold','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','การคูณ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันพหุนาม','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','เกิดข้อผิดพลาดในการอ่านไฟล์','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','admin-view','end-game-btn','.bp-try-btn',':</span><span>','#FEE2E2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20แสดงชื่อจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-fire\x20text-orange-500','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','text-emerald-900','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-options-container','Failed\x20to\x20get\x20hint:','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quadraticCurveTo','https://corsproxy.io/?','สร้างแบบทดสอบปรนัย','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','preTestId','sin','cloneNode','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','click','บันทึกการตั้งค่าการแสดงผลสำเร็จ','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','cancel-export-pdf-btn','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','generate-from-link-btn','num-choices','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','parallel-default-2','พบ\x20Sync\x20Game!','desc','input[type=\x22radio\x22]:checked','length','Authentication\x20failed:','text-blue-700','หน่วยความยาวและการแปลง','<span\x20title=\x22','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','includes','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20(ส่วนนี้เพิ่มเข้ามาเพื่อความชัดเจน\x20แม้จะอยู่ใน\x20qualityDirective\x20แล้ว)\x0a*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','scheduled','typesetPromise','ความคล้ายของรูป','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','interesting-stats-container','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการ\x20สำเร็จ!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','</td></tr>','file-topics-list','file-topics-list-container','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','lower_group_count','PROMPT_PLACEHOLDER','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','questionId','Error\x20clearing\x20linked\x20quiz:','.move-file-shortcut-dropdown','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','confirm-admin-login-btn','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','.pdf','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','include-images-checkbox','default-','.file-shortcut-tab-btn','quizMode','ondrop','#open-additional-file-shortcuts-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','รูปสแควร์รูท\x20(surd)','\x20ชุดสำเร็จ!','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','file-default-1','\x20/\x20','originalQuestionText','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','bottom','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','isStarred','font-bold\x20text-green-700','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','generated','\x22.\x20Ideal\x20Answer:\x20\x22','visibilitychange','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','Error\x20fetching\x20projects\x20for\x20move:','\x22\x5cn','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','/preferences/main','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','leaderboard-table-body','font-bold\x20text-red-700\x20line-through','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','.remove-shortcut-from-tab-btn','all','enable-passcode-checkbox','PERSEVERANCE','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','image/png','playerName','แบบทดสอบนี้หมดเวลาแล้ว','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','.doc','พบ\x20Team\x20Quiz!','กรุณาเลือกโปรเจคปลายทาง','show-final-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','tGain','parentElement','getDocument','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','สร้างแบบทดสอบ','parallel-test-upload-input','Error\x20saving\x20game\x20results:','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','ไม่พบข้อมูลผู้ใช้','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','modal-close-btn','\x22\x20data-name=\x22','กราฟแท่ง\x20กราฟเส้น','\x20link(s)\x20for\x20quiz\x20ID:\x20','lastAnswerCorrect','helvetica','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','answer','doughnut'];_0x4252=function(){return _0x18d3cf;};return _0x4252();}async function handleSaveVisibilitySettings(){const _0x1805bd=_0x315eb9;if(!currentProjectId)return;const _0x486fc0=doc(db,_0x1805bd(0x2d5)+appId+_0x1805bd(0x36a),currentProjectId);try{await updateDoc(_0x486fc0,{'settings.showInStudentDashboard':document[_0x1805bd(0x695)](_0x1805bd(0x600))['checked'],'settings.isPasscodeEnabled':document[_0x1805bd(0x695)](_0x1805bd(0xceb))[_0x1805bd(0x364)],'settings.passcode':document[_0x1805bd(0x695)](_0x1805bd(0x9af))[_0x1805bd(0xbdb)][_0x1805bd(0xbcf)]()}),showMessage(_0x1805bd(0xc9b));}catch(_0x4585f8){console[_0x1805bd(0xb62)](_0x1805bd(0xb9a),_0x4585f8),showMessage(_0x1805bd(0x9e7));}}function setupEventListeners(){const _0x31367b=_0x315eb9,_0x251def=document['getElementById'](_0x31367b(0xa37));_0x251def&&(_0x251def['addEventListener'](_0x31367b(0x969),wakeUpScreen),_0x251def[_0x31367b(0x59b)](_0x31367b(0x682),wakeUpScreen));document['getElementById']('save-bp-reference-btn')['addEventListener'](_0x31367b(0xc9a),async()=>{const _0x5d4fb6=_0x31367b;if(!currentBlueprintProjectId)return;const _0x17d2ec=document[_0x5d4fb6(0x695)](_0x5d4fb6(0x4bc))[_0x5d4fb6(0xbdb)][_0x5d4fb6(0xbcf)](),_0x505edc=doc(db,_0x5d4fb6(0x2d5)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);try{await updateDoc(_0x505edc,{'referenceFileUrl':_0x17d2ec}),showMessage(_0x5d4fb6(0x6d6));}catch(_0x29ed7a){console[_0x5d4fb6(0xb62)](_0x5d4fb6(0x86e),_0x29ed7a),showMessage(_0x5d4fb6(0x9e7));}}),document[_0x31367b(0x695)](_0x31367b(0x53b))['addEventListener'](_0x31367b(0xc9a),handleAddParallelShortcutTab),document[_0x31367b(0x695)](_0x31367b(0x926))[_0x31367b(0x59b)](_0x31367b(0xc9a),_0x59a100=>{const _0x1feff2=_0x31367b;_0x59a100[_0x1feff2(0x819)][_0x1feff2(0xb12)](_0x1feff2(0x4b4))&&(activeParallelShortcutTabId=_0x1feff2(0xcea),renderAdditionalParallelShortcutsModal(),document[_0x1feff2(0x695)](_0x1feff2(0x54b))[_0x1feff2(0xd75)][_0x1feff2(0x8cc)](_0x1feff2(0x721)));}),document[_0x31367b(0x695)](_0x31367b(0x501))['addEventListener']('click',()=>{const _0x57828a=_0x31367b;document[_0x57828a(0x695)](_0x57828a(0x54b))['classList'][_0x57828a(0x8d6)](_0x57828a(0x721));}),document['addEventListener'](_0x31367b(0xc9a),_0x4f84da=>{const _0xb77551=_0x31367b;!_0x4f84da[_0xb77551(0x819)][_0xb77551(0xb12)]('.group\x5c/dropdown-parallel')&&document[_0xb77551(0x4e3)](_0xb77551(0x425))['forEach'](_0x16b11b=>_0x16b11b[_0xb77551(0xd75)][_0xb77551(0x8d6)]('hidden'));}),document['getElementById'](_0x31367b(0x459))['addEventListener'](_0x31367b(0xc9a),handleAddFileShortcutTab),document[_0x31367b(0x695)](_0x31367b(0x796))[_0x31367b(0x59b)](_0x31367b(0xc9a),_0x3b6ecc=>{const _0x365d85=_0x31367b;_0x3b6ecc[_0x365d85(0x819)][_0x365d85(0xb12)](_0x365d85(0xcce))&&(activeFileShortcutTabId=_0x365d85(0xcea),renderAdditionalFileShortcutsModal(),document['getElementById']('additional-file-shortcuts-modal')[_0x365d85(0xd75)][_0x365d85(0x8cc)]('hidden'));}),document[_0x31367b(0x695)]('close-additional-file-shortcuts-btn')[_0x31367b(0x59b)]('click',()=>{const _0x2e3d60=_0x31367b;document[_0x2e3d60(0x695)]('additional-file-shortcuts-modal')[_0x2e3d60(0xd75)]['add'](_0x2e3d60(0x721));}),document[_0x31367b(0x59b)](_0x31367b(0xc9a),_0x19efbd=>{const _0xb8785e=_0x31367b;!_0x19efbd['target'][_0xb8785e(0xb12)]('.group\x5c/dropdown-file')&&document[_0xb8785e(0x4e3)]('.move-file-shortcut-dropdown')[_0xb8785e(0x2d4)](_0x3749b8=>_0x3749b8[_0xb8785e(0xd75)]['add']('hidden'));}),document[_0x31367b(0x695)](_0x31367b(0x2a2))[_0x31367b(0x59b)](_0x31367b(0xc9a),handleAddShortcutTab),document[_0x31367b(0x695)]('parallel-shortcut-container')[_0x31367b(0x59b)]('click',_0x18d5db=>{const _0x33fc8e=_0x31367b,_0x214241=_0x18d5db[_0x33fc8e(0x819)][_0x33fc8e(0xb12)](_0x33fc8e(0xab4)),_0x3b03e2=_0x18d5db[_0x33fc8e(0x819)][_0x33fc8e(0xb12)](_0x33fc8e(0x45c)),_0x514bdf=_0x18d5db[_0x33fc8e(0x819)][_0x33fc8e(0xb12)]('.delete-parallel-shortcut-btn');if(_0x3b03e2)openParallelTestShortcutEditor(_0x3b03e2['dataset']['id']);else{if(_0x514bdf){const _0x263222=_0x514bdf[_0x33fc8e(0x4b5)]['id'];showConfirmation(_0x33fc8e(0x741),async()=>{const _0x365472=_0x33fc8e,_0x433008=parallelTestShortcuts['filter'](_0x3956fe=>_0x3956fe['id']!==_0x263222),_0x548f74=doc(db,_0x365472(0x974),_0x365472(0xd8d));await setDoc(_0x548f74,{'shortcuts':_0x433008},{'merge':!![]});});}else _0x214241&&handleParallelTestShortcutClick(_0x214241['dataset']['id']);}}),document['getElementById'](_0x31367b(0x716))[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>openParallelTestShortcutEditor(null)),document[_0x31367b(0x695)](_0x31367b(0x80d))['addEventListener'](_0x31367b(0xc9a),()=>{const _0x45841c=_0x31367b;document['getElementById']('parallel-shortcut-editor-modal')[_0x45841c(0xd75)]['add']('hidden');}),document[_0x31367b(0x695)](_0x31367b(0x283))[_0x31367b(0x59b)](_0x31367b(0xc9a),saveParallelTestShortcutChanges),document[_0x31367b(0x695)](_0x31367b(0x926))[_0x31367b(0x59b)](_0x31367b(0xc9a),_0x386a2c=>{const _0x519fc9=_0x31367b;_0x386a2c['target'][_0x519fc9(0xb12)](_0x519fc9(0x4b4))&&document[_0x519fc9(0x695)](_0x519fc9(0x54b))[_0x519fc9(0xd75)][_0x519fc9(0x8cc)](_0x519fc9(0x721));}),document['getElementById'](_0x31367b(0x501))['addEventListener'](_0x31367b(0xc9a),()=>{const _0x573c6d=_0x31367b;document[_0x573c6d(0x695)](_0x573c6d(0x54b))['classList'][_0x573c6d(0x8d6)](_0x573c6d(0x721));}),document[_0x31367b(0x695)](_0x31367b(0x754))[_0x31367b(0x59b)](_0x31367b(0xc9a),_0x24adb5=>{const _0x391694=_0x31367b,_0xc8b933=document['getElementById'](_0x391694(0x54b)),_0x303e4a=_0x24adb5['target'][_0x391694(0xb12)]('.use-hidden-parallel-shortcut-btn'),_0x10c501=_0x24adb5['target'][_0x391694(0xb12)](_0x391694(0x313)),_0x3ce65e=_0x24adb5[_0x391694(0x819)][_0x391694(0xb12)](_0x391694(0x5c2));if(_0x303e4a)_0xc8b933[_0x391694(0xd75)][_0x391694(0x8d6)]('hidden'),handleParallelTestShortcutClick(_0x303e4a[_0x391694(0x4b5)]['id']);else{if(_0x10c501)_0xc8b933[_0x391694(0xd75)][_0x391694(0x8d6)](_0x391694(0x721)),openParallelTestShortcutEditor(_0x10c501['dataset']['id']);else{if(_0x3ce65e){const _0x1168d8=_0x3ce65e[_0x391694(0x4b5)]['id'];showConfirmation(_0x391694(0x741),async()=>{const _0x16a009=_0x391694,_0x4bcea3=parallelTestShortcuts[_0x16a009(0x9c1)](_0x55a523=>_0x55a523['id']!==_0x1168d8),_0x1a4e79=doc(db,'globalSettings',_0x16a009(0xd8d));await setDoc(_0x1a4e79,{'shortcuts':_0x4bcea3},{'merge':!![]});});}}}}),document[_0x31367b(0x695)]('file-shortcut-container')['addEventListener'](_0x31367b(0xc9a),_0x4baf16=>{const _0x51fc0d=_0x31367b,_0x4a0f4d=_0x4baf16[_0x51fc0d(0x819)]['closest'](_0x51fc0d(0x9ee)),_0x50dddc=_0x4baf16[_0x51fc0d(0x819)][_0x51fc0d(0xb12)]('.edit-file-shortcut-btn'),_0x5b0d71=_0x4baf16[_0x51fc0d(0x819)][_0x51fc0d(0xb12)](_0x51fc0d(0x73e));if(_0x50dddc)openFileShortcutEditor(_0x50dddc['dataset']['id']);else{if(_0x5b0d71){const _0x598994=_0x5b0d71[_0x51fc0d(0x4b5)]['id'];showConfirmation(_0x51fc0d(0x741),async()=>{const _0x504bf8=_0x51fc0d,_0x295213=fileShortcuts[_0x504bf8(0x9c1)](_0xdfdc87=>_0xdfdc87['id']!==_0x598994),_0x1c662f=doc(db,_0x504bf8(0x974),'fileShortcutsConfig');await setDoc(_0x1c662f,{'shortcuts':_0x295213},{'merge':!![]});});}else _0x4a0f4d&&handleFileShortcutClick(_0x4a0f4d['dataset']['id']);}}),document[_0x31367b(0x695)](_0x31367b(0xb00))['addEventListener'](_0x31367b(0xc9a),()=>openFileShortcutEditor(null)),document['getElementById'](_0x31367b(0x465))['addEventListener']('click',()=>{const _0x21f2a4=_0x31367b;document['getElementById'](_0x21f2a4(0x1ff))['classList'][_0x21f2a4(0x8d6)](_0x21f2a4(0x721));}),document[_0x31367b(0x695)](_0x31367b(0x3c5))[_0x31367b(0x59b)](_0x31367b(0xc9a),saveFileShortcutChanges),document[_0x31367b(0x695)](_0x31367b(0x796))[_0x31367b(0x59b)](_0x31367b(0xc9a),_0x7fb099=>{const _0x1aad73=_0x31367b;_0x7fb099[_0x1aad73(0x819)][_0x1aad73(0xb12)]('#open-additional-file-shortcuts-btn')&&document[_0x1aad73(0x695)](_0x1aad73(0x2ca))[_0x1aad73(0xd75)]['remove'](_0x1aad73(0x721));}),document[_0x31367b(0x695)](_0x31367b(0x306))[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{const _0x812b0f=_0x31367b;document[_0x812b0f(0x695)](_0x812b0f(0x2ca))[_0x812b0f(0xd75)]['add'](_0x812b0f(0x721));}),document['getElementById'](_0x31367b(0x421))[_0x31367b(0x59b)](_0x31367b(0xc9a),_0x611516=>{const _0x54f43f=_0x31367b,_0x294e1d=document[_0x54f43f(0x695)](_0x54f43f(0x2ca)),_0x4b6a01=_0x611516[_0x54f43f(0x819)][_0x54f43f(0xb12)](_0x54f43f(0xd73)),_0x28ed49=_0x611516[_0x54f43f(0x819)][_0x54f43f(0xb12)]('.edit-hidden-file-shortcut-btn'),_0x2a7727=_0x611516[_0x54f43f(0x819)]['closest'](_0x54f43f(0x1fe));if(_0x4b6a01)_0x294e1d[_0x54f43f(0xd75)]['add']('hidden'),handleFileShortcutClick(_0x4b6a01['dataset']['id']);else{if(_0x28ed49)_0x294e1d[_0x54f43f(0xd75)]['add'](_0x54f43f(0x721)),openFileShortcutEditor(_0x28ed49[_0x54f43f(0x4b5)]['id']);else{if(_0x2a7727){const _0x1a1636=_0x2a7727[_0x54f43f(0x4b5)]['id'];showConfirmation(_0x54f43f(0x741),async()=>{const _0x5e7592=_0x54f43f,_0x419283=fileShortcuts[_0x5e7592(0x9c1)](_0x5b369a=>_0x5b369a['id']!==_0x1a1636),_0x57cf07=doc(db,_0x5e7592(0x974),_0x5e7592(0xc14));await setDoc(_0x57cf07,{'shortcuts':_0x419283},{'merge':!![]});});}}}}),document[_0x31367b(0x695)](_0x31367b(0x7a3))['addEventListener'](_0x31367b(0xc9a),_0x2d22c1=>{const _0x5cc145=_0x31367b;_0x2d22c1[_0x5cc145(0x819)][_0x5cc145(0xb12)]('#open-additional-shortcuts-btn')&&(activeShortcutTabId=_0x5cc145(0xcea),renderAdditionalShortcutsModal(),document['getElementById']('additional-shortcuts-modal')[_0x5cc145(0xd75)][_0x5cc145(0x8cc)](_0x5cc145(0x721)));}),document[_0x31367b(0x695)](_0x31367b(0x9c5))[_0x31367b(0x59b)]('click',()=>{const _0x43054b=_0x31367b;document[_0x43054b(0x695)]('additional-shortcuts-modal')[_0x43054b(0xd75)][_0x43054b(0x8d6)](_0x43054b(0x721));}),document['getElementById'](_0x31367b(0x4bf))[_0x31367b(0x59b)](_0x31367b(0xc9a),_0x4d44e8=>{const _0x2dc0e6=_0x31367b,_0x2258c5=_0x4d44e8[_0x2dc0e6(0x819)][_0x2dc0e6(0xb12)](_0x2dc0e6(0x24d)),_0x1bf3e5=_0x4d44e8[_0x2dc0e6(0x819)][_0x2dc0e6(0xb12)](_0x2dc0e6(0x3f5)),_0x523abf=_0x4d44e8[_0x2dc0e6(0x819)][_0x2dc0e6(0xb12)](_0x2dc0e6(0x888)),_0x207dde=document['getElementById'](_0x2dc0e6(0xc59));if(_0x2258c5)_0x207dde[_0x2dc0e6(0xd75)][_0x2dc0e6(0x8d6)](_0x2dc0e6(0x721)),handleShortcutClick(_0x2258c5[_0x2dc0e6(0x4b5)]['id']);else{if(_0x1bf3e5)_0x207dde[_0x2dc0e6(0xd75)][_0x2dc0e6(0x8d6)](_0x2dc0e6(0x721)),openShortcutEditor(_0x1bf3e5[_0x2dc0e6(0x4b5)]['id']);else{if(_0x523abf){const _0x165dbb=_0x523abf[_0x2dc0e6(0x4b5)]['id'],_0x381a77=blueprintShortcuts[_0x2dc0e6(0x559)](_0x88c0b3=>_0x88c0b3['id']===_0x165dbb)?.[_0x2dc0e6(0x38d)];showConfirmation(_0x2dc0e6(0xa17)+_0x381a77+'\x22?',async()=>{const _0x585044=_0x2dc0e6,_0x568de3=blueprintShortcuts[_0x585044(0x9c1)](_0x240e7a=>_0x240e7a['id']!==_0x165dbb);try{const _0x103fd2=doc(db,'globalSettings',_0x585044(0xd50));await setDoc(_0x103fd2,{'blueprintShortcuts':_0x568de3},{'merge':!![]});}catch(_0x288382){console[_0x585044(0xb62)](_0x585044(0x385),_0x288382);}});}}}}),document[_0x31367b(0x695)]('blueprint-shortcut-container')[_0x31367b(0x59b)]('click',_0x37bd7e=>{const _0x2843c4=_0x31367b,_0x5bab03=_0x37bd7e[_0x2843c4(0x819)][_0x2843c4(0xb12)](_0x2843c4(0xa94)),_0x187b5b=_0x37bd7e[_0x2843c4(0x819)][_0x2843c4(0xb12)](_0x2843c4(0x414)),_0x1c79f7=_0x37bd7e['target'][_0x2843c4(0xb12)]('.delete-shortcut-btn');if(_0x187b5b)openShortcutEditor(_0x187b5b[_0x2843c4(0x4b5)]['id']);else{if(_0x1c79f7){const _0x45139d=_0x1c79f7[_0x2843c4(0x4b5)]['id'],_0x1e0695=blueprintShortcuts[_0x2843c4(0x559)](_0x26a602=>_0x26a602['id']===_0x45139d)?.[_0x2843c4(0x38d)];showConfirmation(_0x2843c4(0xa17)+_0x1e0695+'\x22?',async()=>{const _0x2f1eca=_0x2843c4,_0x5b3bf9=blueprintShortcuts[_0x2f1eca(0x9c1)](_0x11c962=>_0x11c962['id']!==_0x45139d);try{const _0x32cdd3=doc(db,_0x2f1eca(0x974),'dashboardConfig');await setDoc(_0x32cdd3,{'blueprintShortcuts':_0x5b3bf9},{'merge':!![]});}catch(_0x4d3975){console[_0x2f1eca(0xb62)](_0x2f1eca(0x385),_0x4d3975);}});}else _0x5bab03&&handleShortcutClick(_0x5bab03['dataset']['id']);}}),document[_0x31367b(0x695)]('add-shortcut-btn')['addEventListener']('click',()=>openShortcutEditor(null)),document[_0x31367b(0x695)](_0x31367b(0xd27))[_0x31367b(0x59b)]('click',()=>{const _0xdd9d41=_0x31367b;document[_0xdd9d41(0x695)](_0xdd9d41(0x3b1))[_0xdd9d41(0xd75)][_0xdd9d41(0x8d6)]('hidden');}),document[_0x31367b(0x695)](_0x31367b(0x4f1))[_0x31367b(0x59b)](_0x31367b(0xc9a),saveShortcutChanges),document[_0x31367b(0x695)]('generate-from-blueprint-btn')[_0x31367b(0x59b)](_0x31367b(0xc9a),async()=>{const _0xe654d9=_0x31367b,_0x3f598b=document[_0xe654d9(0x695)](_0xe654d9(0x515)),_0x5dc097=document['getElementById'](_0xe654d9(0x369));_0x3f598b[_0xe654d9(0x3b7)][_0xe654d9(0xca6)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x3f598b['files'][0x0],_0x5dc097[_0xe654d9(0x3b7)][0x0]||null):showMessage(_0xe654d9(0xc66));}),document['getElementById'](_0x31367b(0x3cc))[_0x31367b(0x59b)](_0x31367b(0xc9a),async _0x118eb4=>{const _0x281c54=_0x31367b,_0xdf1b27=document[_0x281c54(0x695)](_0x281c54(0x3cc)),_0x4205f7=_0x118eb4[_0x281c54(0x819)][_0x281c54(0xb12)]('.bp-view-analysis-btn'),_0x4cf2fa=_0x118eb4[_0x281c54(0x819)][_0x281c54(0xb12)]('.bp-unlink-quiz-btn'),_0x52bb43=_0x118eb4[_0x281c54(0x819)][_0x281c54(0xb12)](_0x281c54(0xb79)),_0x5b3fce=_0x118eb4[_0x281c54(0x819)][_0x281c54(0xb12)](_0x281c54(0xc80)),_0x25e92e=_0x118eb4[_0x281c54(0x819)][_0x281c54(0xb12)](_0x281c54(0x758)),_0x1742ab=_0x118eb4[_0x281c54(0x819)][_0x281c54(0xb12)]('.bp-game-btn');if(_0x4205f7){cameFromBlueprint=!![];const _0xf842=_0x4205f7[_0x281c54(0x4b5)][_0x281c54(0xc24)];showQuizDetailView(_0xf842),_0xdf1b27[_0x281c54(0xd75)][_0x281c54(0x8d6)]('hidden');}else{if(_0x4cf2fa){const _0x5e9115=_0x4cf2fa[_0x281c54(0x4b5)][_0x281c54(0x44d)],_0x3f1e4c=_0x4cf2fa[_0x281c54(0x4b5)][_0x281c54(0xc24)],_0x1ecb86=allQuizzesGlobal['find'](_0x4371c4=>_0x4371c4['id']===_0x3f1e4c),_0x414fdf=_0x1ecb86?_0x1ecb86[_0x281c54(0xd28)]:'รายการนี้';showConfirmation(_0x281c54(0x89c)+_0x414fdf+_0x281c54(0x56b),async()=>{const _0x3babf6=_0x281c54;try{const _0x2b6a04=doc(db,_0x3babf6(0x2d5)+appId+_0x3babf6(0x380),currentBlueprintProjectId);await updateDoc(_0x2b6a04,{[_0x3babf6(0x8ca)+_0x5e9115+_0x3babf6(0x39e)]:arrayRemove(_0x3f1e4c)}),showMessage('นำแบบทดสอบออกจากคลังนี้แล้ว'),openTopicQuizBank(_0x5e9115),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x46e897){console[_0x3babf6(0xb62)]('Error\x20unlinking\x20quiz:',_0x46e897),showMessage('เกิดข้อผิดพลาดในการนำแบบทดสอบออก');}});}else{if(_0x52bb43){cameFromBlueprint=!![];const _0x3fe085=_0x52bb43[_0x281c54(0x4b5)]['quizId'],_0x266929=allQuizzesGlobal[_0x281c54(0x559)](_0x435e91=>_0x435e91['id']===_0x3fe085);_0x266929&&(startPresentation(_0x266929),_0xdf1b27[_0x281c54(0xd75)][_0x281c54(0x8d6)](_0x281c54(0x721)));}else{if(_0x5b3fce){cameFromBlueprint=!![];const _0x1026fd=_0x5b3fce[_0x281c54(0x4b5)][_0x281c54(0xc24)],_0x3b7980=allQuizzesGlobal['find'](_0xd8b8fd=>_0xd8b8fd['id']===_0x1026fd);_0x3b7980&&(currentQuizData=_0x3b7980,startAdminTest(),_0xdf1b27[_0x281c54(0xd75)][_0x281c54(0x8d6)](_0x281c54(0x721)));}else{if(_0x25e92e)cameFromBlueprint=!![],handleStartLiveRace(_0x25e92e[_0x281c54(0x4b5)][_0x281c54(0xc24)]),_0xdf1b27['classList'][_0x281c54(0x8d6)](_0x281c54(0x721));else{if(_0x1742ab){cameFromBlueprint=!![];const _0x5a1c37=_0x1742ab['dataset'][_0x281c54(0xc24)],_0x31227a=_0x1742ab['dataset']['mode'],_0x5a7823=allQuizzesGlobal[_0x281c54(0x559)](_0x274020=>_0x274020['id']===_0x5a1c37);_0x5a7823&&(showGameStartConfirmationModal(_0x5a1c37,_0x31227a,_0x5a7823['topic']),_0xdf1b27['classList'][_0x281c54(0x8d6)]('hidden'));}}}}}}}),document[_0x31367b(0x695)]('manual-create-blueprint-btn')['addEventListener'](_0x31367b(0xc9a),()=>{const _0x18f2dc=_0x31367b;document[_0x18f2dc(0x695)]('manual-blueprint-modal')[_0x18f2dc(0xd75)]['remove']('hidden'),document['getElementById'](_0x18f2dc(0x28e))[_0x18f2dc(0xbdb)]='',document['getElementById'](_0x18f2dc(0x2d0))[_0x18f2dc(0xbdb)]='',document[_0x18f2dc(0x695)](_0x18f2dc(0x39b))[_0x18f2dc(0xbdb)]='';}),document[_0x31367b(0x695)](_0x31367b(0x7f8))[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{const _0x517bd1=_0x31367b;document[_0x517bd1(0x695)](_0x517bd1(0xc47))[_0x517bd1(0xd75)]['add'](_0x517bd1(0x721));}),document['getElementById']('confirm-manual-bp-btn')[_0x31367b(0x59b)](_0x31367b(0xc9a),handleManualBlueprintSave),document['getElementById'](_0x31367b(0x5f7))[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>document['getElementById'](_0x31367b(0x7d3))[_0x31367b(0xd75)]['add']('hidden')),document[_0x31367b(0x695)]('save-bp-settings-btn')[_0x31367b(0x59b)](_0x31367b(0xc9a),handleSaveBlueprintPageSettings),document['getElementById'](_0x31367b(0x72f))[_0x31367b(0x59b)](_0x31367b(0xc9a),openBlueprintQuizSettings),document[_0x31367b(0x695)](_0x31367b(0x34a))[_0x31367b(0x59b)]('click',saveBlueprintProject),document[_0x31367b(0x695)]('open-blueprint-projects-btn')['addEventListener'](_0x31367b(0xc9a),showBlueprintProjects),document[_0x31367b(0x695)](_0x31367b(0x8c8))[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{const _0x4e8455=_0x31367b;document[_0x4e8455(0x695)](_0x4e8455(0x1fa))[_0x4e8455(0xd75)]['add'](_0x4e8455(0x721));}),document['getElementById'](_0x31367b(0x2dd))[_0x31367b(0x59b)](_0x31367b(0xc9a),_0xd02ae8=>{const _0x31f24b=_0x31367b,_0x199639=_0xd02ae8[_0x31f24b(0x819)][_0x31f24b(0xb12)]('.open-bp-project-btn'),_0x3db9c7=_0xd02ae8[_0x31f24b(0x819)][_0x31f24b(0xb12)](_0x31f24b(0xb2b));if(_0x199639)displayBlueprintProjectManager(_0x199639['dataset']['id']);else _0x3db9c7&&handleDeepDeleteBlueprintProject(_0x3db9c7[_0x31f24b(0x4b5)]['id']);}),document[_0x31367b(0x695)](_0x31367b(0x480))['addEventListener'](_0x31367b(0xc9a),()=>{const _0xbf427f=_0x31367b;currentBlueprintProjectId=null,currentProjectId=null,document['getElementById'](_0xbf427f(0x485))['classList'][_0xbf427f(0x8d6)](_0xbf427f(0x721)),showView(_0xbf427f(0x586));}),document[_0x31367b(0x695)](_0x31367b(0x6e4))[_0x31367b(0x59b)](_0x31367b(0xc9a),addTopicToProject),document['getElementById'](_0x31367b(0x831))['addEventListener']('click',async _0xc0eea5=>{const _0x25d71d=_0x31367b,_0x4699f2=_0xc0eea5['target'][_0x25d71d(0xb12)](_0x25d71d(0x824));if(!_0x4699f2)return;const _0x47f4f6=_0x4699f2[_0x25d71d(0x4b5)]['topicId'],_0x3bf5d4=_0xc0eea5[_0x25d71d(0x819)][_0x25d71d(0xb12)](_0x25d71d(0xd7c)),_0xb1e91d=_0xc0eea5['target'][_0x25d71d(0xb12)]('.bp-create-content-quiz-btn'),_0x1f71a3=_0xc0eea5[_0x25d71d(0x819)][_0x25d71d(0xb12)]('.bp-create-topic-quiz-btn'),_0x4cd307=_0xc0eea5[_0x25d71d(0x819)]['closest']('.bp-open-topic-bank-btn'),_0x4982a3=_0xc0eea5[_0x25d71d(0x819)][_0x25d71d(0xb12)](_0x25d71d(0x565)),_0x4fcb28=_0xc0eea5['target']['closest'](_0x25d71d(0x5d7)),_0x1ad0ce=_0xc0eea5[_0x25d71d(0x819)]['closest']('.bp-edit-topic-btn'),_0x2dd7c6=_0xc0eea5[_0x25d71d(0x819)]['closest'](_0x25d71d(0x802)),_0x477cc2=_0xfc6cdf=>{const _0x414b93=_0x25d71d,_0x917d02=_0xfc6cdf[_0x414b93(0xc31)](_0x414b93(0xb74))[_0x414b93(0x97a)][_0x414b93(0xbcf)](),_0x1de571=_0xfc6cdf['closest']('.space-y-1.pl-4')[_0x414b93(0x8d8)],_0xf942f5=_0x1de571?_0x1de571[_0x414b93(0x97a)][_0x414b93(0xbcf)]():'';return _0xf942f5+':\x20'+_0x917d02;};if(_0x4cd307)openTopicQuizBank(_0x47f4f6);else{if(_0x3bf5d4){const _0x45f3ea=_0x477cc2(_0x4699f2);selectProjectAndGenerateBlueprintQuiz(_0x45f3ea,null,_0x47f4f6,!![]);}else{if(_0xb1e91d){const _0xa32057=_0x477cc2(_0x4699f2);try{const _0x48384d=doc(db,_0x25d71d(0x2d5)+appId+_0x25d71d(0x9ff)+currentBlueprintProjectId+_0x25d71d(0x1ef),_0x47f4f6),_0x54a211=await getDoc(_0x48384d);if(_0x54a211[_0x25d71d(0xb5a)]()){const _0x2c7209=_0x54a211[_0x25d71d(0x5ac)]()[_0x25d71d(0x8fa)],_0x3f2535=document[_0x25d71d(0x783)](_0x25d71d(0xa7b)),_0x10195d=_0x3b6591=>{const _0x25bef3=_0x25d71d;if(!_0x3b6591)return'';return _0x3f2535[_0x25bef3(0xb6b)]=_0x3b6591,_0x3f2535[_0x25bef3(0x97a)]||_0x3f2535['innerText']||'';},_0xdd6a5=(_0x10195d(_0x2c7209[_0x25d71d(0x956)])+'\x20'+_0x10195d(_0x2c7209['memory'])+'\x20'+_0x10195d(_0x2c7209[_0x25d71d(0x6f8)]))['trim']();selectProjectAndGenerateBlueprintQuiz(_0xa32057,_0xdd6a5,_0x47f4f6,![]);}else showMessage(_0x25d71d(0x58c));}catch(_0x433e09){console['error'](_0x25d71d(0x560),_0x433e09),showMessage('เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ');}}else{if(_0x1f71a3){const _0x5595b8=_0x477cc2(_0x4699f2);selectProjectAndGenerateBlueprintQuiz(_0x5595b8,null,_0x47f4f6,![]);}else{if(_0x4982a3){const _0x57cb52=doc(db,_0x25d71d(0x2d5)+appId+_0x25d71d(0x380),currentBlueprintProjectId),_0x4ae763=await getDoc(_0x57cb52);if(_0x4ae763[_0x25d71d(0xb5a)]()){const _0x189d73=_0x4ae763[_0x25d71d(0x5ac)](),_0x3ca0cc=_0x189d73[_0x25d71d(0x358)][_0x47f4f6];if(_0x3ca0cc&&_0x3ca0cc[_0x25d71d(0xbfe)]==='generated')try{const _0x21c648=doc(db,'artifacts/'+appId+_0x25d71d(0x9ff)+currentBlueprintProjectId+_0x25d71d(0x1ef),_0x47f4f6),_0xa387e0=await getDoc(_0x21c648);if(_0xa387e0[_0x25d71d(0xb5a)]()){const _0x3ac8ba=_0xa387e0[_0x25d71d(0x5ac)]()['content'];document[_0x25d71d(0x695)](_0x25d71d(0xb75))[_0x25d71d(0x97a)]=_0x25d71d(0x61b)+_0x477cc2(_0x4699f2),document['getElementById'](_0x25d71d(0xa48))[_0x25d71d(0xb6b)]=_0x3ac8ba[_0x25d71d(0x956)],document['getElementById'](_0x25d71d(0x44f))[_0x25d71d(0xb6b)]=_0x3ac8ba[_0x25d71d(0x208)],document['getElementById']('summaryContent')[_0x25d71d(0xb6b)]=_0x3ac8ba[_0x25d71d(0x6f8)];const _0x4e0887=document[_0x25d71d(0x695)](_0x25d71d(0xb03));_0x3ac8ba[_0x25d71d(0x577)]?(currentApplicationData=_0x3ac8ba[_0x25d71d(0x577)],_0x4e0887[_0x25d71d(0xb6b)]=currentApplicationData['map']((_0x30f0c8,_0x5e7d9d)=>_0x25d71d(0xa40)+(_0x5e7d9d+0x1)+'.\x20'+marked[_0x25d71d(0x9a6)](_0x30f0c8[_0x25d71d(0x3ab)])+_0x25d71d(0xa3a)+_0x5e7d9d+'-options\x22>'+_0x30f0c8['options'][_0x25d71d(0x947)]((_0x4151f3,_0xba0d3f)=>_0x25d71d(0x4cc)+_0x5e7d9d+',\x20'+_0xba0d3f+')\x22>'+String[_0x25d71d(0xc63)](0x61+_0xba0d3f)+'.\x20'+marked[_0x25d71d(0x9a6)](_0x4151f3)+_0x25d71d(0x279))[_0x25d71d(0x6f5)]('')+_0x25d71d(0x309))[_0x25d71d(0x6f5)]('')):(currentApplicationData=[],_0x4e0887[_0x25d71d(0xb6b)]=_0x3ac8ba[_0x25d71d(0x7fd)]||_0x3ac8ba[_0x25d71d(0x845)]),document[_0x25d71d(0x695)]('lesson-loader')[_0x25d71d(0xd75)][_0x25d71d(0x8d6)](_0x25d71d(0x721)),document[_0x25d71d(0x695)](_0x25d71d(0x5b3))['classList']['remove'](_0x25d71d(0x721)),document[_0x25d71d(0x695)](_0x25d71d(0x756))['classList']['remove'](_0x25d71d(0x721)),window[_0x25d71d(0x3af)]&&MathJax['typesetPromise']([document[_0x25d71d(0x695)](_0x25d71d(0x5f9))]);}else showMessage(_0x25d71d(0xc22));}catch(_0x5d8efe){console[_0x25d71d(0xb62)](_0x25d71d(0x87f),_0x5d8efe),showMessage(_0x25d71d(0xd76));}else showMessage(_0x25d71d(0x343));}}else{if(_0x4fcb28){const _0x164aba=_0x477cc2(_0x4699f2),_0x5ac573=doc(db,_0x25d71d(0x2d5)+appId+_0x25d71d(0x380),currentBlueprintProjectId),_0x21f0ec=await getDoc(_0x5ac573);if(_0x21f0ec['exists']()){const _0x389527=_0x21f0ec['data']();generateAndSaveLessonForBlueprint(_0x47f4f6,_0x164aba,_0x389527[_0x25d71d(0xd89)]);}}else{if(_0x1ad0ce)editTopicInProject(_0x47f4f6);else _0x2dd7c6&&deleteTopicFromProject(_0x47f4f6);}}}}}}}),document[_0x31367b(0x695)](_0x31367b(0x51c))['addEventListener'](_0x31367b(0xc9a),handleFixLessonLatex),document[_0x31367b(0x695)](_0x31367b(0x3a0))[_0x31367b(0x59b)]('click',handleExportLessonToPDF),document[_0x31367b(0x695)](_0x31367b(0x643))[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{const _0x2bde1b=_0x31367b;document[_0x2bde1b(0x695)](_0x2bde1b(0x756))[_0x2bde1b(0xd75)][_0x2bde1b(0x8d6)]('hidden');});const _0x18754a=document[_0x31367b(0x695)](_0x31367b(0x48a)),_0x4158cd=document[_0x31367b(0x695)](_0x31367b(0x7f2));_0x18754a[_0x31367b(0x59b)]('change',()=>{const _0x5db035=_0x31367b;_0x4158cd['classList'][_0x5db035(0x352)](_0x5db035(0x721),!_0x18754a[_0x5db035(0x364)]);});const _0x59d1de=document[_0x31367b(0x695)]('confidence-scoring-checkbox'),_0x2da028=document['getElementById']('confidence-mode-container');_0x59d1de['addEventListener'](_0x31367b(0x40b),()=>{const _0x23c0f5=_0x31367b;_0x2da028[_0x23c0f5(0xd75)][_0x23c0f5(0x352)](_0x23c0f5(0x721),!_0x59d1de[_0x23c0f5(0x364)]);});const _0x449858=document[_0x31367b(0x695)](_0x31367b(0x8f4)),_0x5494bc=document[_0x31367b(0x695)](_0x31367b(0x7fe));_0x449858[_0x31367b(0x59b)](_0x31367b(0x40b),()=>{const _0x20378c=_0x31367b;_0x5494bc[_0x20378c(0xd75)][_0x20378c(0x352)](_0x20378c(0x721),!_0x449858[_0x20378c(0x364)]);});const _0x4bf725=document[_0x31367b(0x695)](_0x31367b(0xa0a)),_0x2db248=async _0x23c06c=>{const _0x449cdf=_0x31367b,_0x2f61d5=document[_0x449cdf(0x695)](_0x449cdf(0xa0a)),_0x436387=_0x2f61d5[_0x449cdf(0x4b5)][_0x449cdf(0x864)],_0x516322=document[_0x449cdf(0x695)](_0x449cdf(0xd83));_0x2f61d5['classList'][_0x449cdf(0x8d6)](_0x449cdf(0x721));if(_0x436387===_0x449cdf(0x3f0)){const _0x4afd1b=_0x516322[_0x449cdf(0xbdb)],_0x2198f7={'answer':_0x4afd1b,'wasConfident':_0x23c06c};proceedToNextQuestion(_0x2198f7);}else{if(_0x436387===_0x449cdf(0x8e5)){const _0x17e5b5=_0x516322['dataset']['answerValue'],_0x2c99f6=JSON['parse'](_0x516322[_0x449cdf(0x4b5)][_0x449cdf(0x3ab)]),_0x48dc55=JSON[_0x449cdf(0x55c)](_0x516322[_0x449cdf(0x4b5)][_0x449cdf(0xb76)]),_0x45e52a=_0x516322[_0x449cdf(0x4b5)][_0x449cdf(0xcef)];handleSyncAnswerSubmit(_0x17e5b5,_0x2c99f6,_0x48dc55,_0x45e52a,_0x23c06c);}}_0x2f61d5['dataset'][_0x449cdf(0x864)]='';};document[_0x31367b(0x695)](_0x31367b(0x4e4))['addEventListener'](_0x31367b(0xc9a),()=>_0x2db248(!![])),document['getElementById'](_0x31367b(0x554))[_0x31367b(0x59b)]('click',()=>_0x2db248(![])),liveGameView[_0x31367b(0x59b)](_0x31367b(0xc9a),_0x4ed084=>{const _0x57b816=_0x31367b,_0x5cfbbc=_0x4ed084[_0x57b816(0x819)][_0x57b816(0xb12)](_0x57b816(0x7de));if(_0x5cfbbc){const _0x18633c=_0x5cfbbc['dataset'][_0x57b816(0xcef)];_0x18633c&&handleKickPlayerSync(_0x18633c);}});const _0x5ef033=document['getElementById']('confirm-game-start-btn'),_0x5ce2e5=document[_0x31367b(0x695)](_0x31367b(0x482));_0x5ce2e5['addEventListener'](_0x31367b(0xc9a),()=>{const _0x2d66da=_0x31367b;document[_0x2d66da(0x695)](_0x2d66da(0x5b1))[_0x2d66da(0xd75)][_0x2d66da(0x8d6)](_0x2d66da(0x721));}),_0x5ef033[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{const _0x454762=_0x31367b,_0x3fa3b6=document[_0x454762(0x695)]('game-start-quiz-id')[_0x454762(0xbdb)],_0x5b5b87=document['getElementById'](_0x454762(0x92b))[_0x454762(0xbdb)],_0x479e79=document[_0x454762(0x695)](_0x454762(0x6a4))['checked'];document[_0x454762(0x695)](_0x454762(0x5b1))[_0x454762(0xd75)]['add']('hidden');switch(_0x5b5b87){case _0x454762(0xb9c):handleStartLiveRace(_0x3fa3b6,_0x479e79);break;case'team':handleStartTeamQuiz(_0x3fa3b6,_0x479e79);break;case'group':handleStartGroupMode(_0x3fa3b6,_0x479e79);break;case'sync':const _0x21286c=document[_0x454762(0xc31)](_0x454762(0x77c))[_0x454762(0xbdb)]||_0x454762(0x25c);handleStartSyncMode(_0x3fa3b6,_0x479e79,_0x21286c);break;}}),document[_0x31367b(0x695)](_0x31367b(0x4dc))['addEventListener'](_0x31367b(0xc9a),handleJoinGroupActivity),liveGameView[_0x31367b(0x59b)]('click',_0x3fce12=>{const _0x41726a=_0x31367b,_0xc494dd=_0x3fce12[_0x41726a(0x819)][_0x41726a(0xb12)]('.summary-bar-item');document[_0x41726a(0x4e3)](_0x41726a(0x8db))[_0x41726a(0x2d4)](_0x3c8dbc=>{const _0xb00b6d=_0x41726a;(!_0xc494dd||_0x3c8dbc['id']!==_0xc494dd[_0xb00b6d(0x4b5)][_0xb00b6d(0x5e6)])&&_0x3c8dbc['classList'][_0xb00b6d(0x8cc)](_0xb00b6d(0x59e));});if(!_0xc494dd)return;const _0x39bd18=_0xc494dd[_0x41726a(0x4b5)][_0x41726a(0x5e6)],_0x2aa948=document[_0x41726a(0x695)](_0x39bd18);_0x2aa948&&_0x2aa948['classList'][_0x41726a(0x352)](_0x41726a(0x59e));}),liveGameView[_0x31367b(0x59b)](_0x31367b(0xc9a),_0x4676e2=>{const _0x249cb0=_0x31367b;if(_0x4676e2['target'][_0x249cb0(0xd75)][_0x249cb0(0x9d9)](_0x249cb0(0x2b8))){const _0xa53234=_0x4676e2['target'][_0x249cb0(0x4b5)][_0x249cb0(0xcef)];_0xa53234&&handleKickPlayer(_0xa53234);}}),document[_0x31367b(0x695)](_0x31367b(0x6ac))[_0x31367b(0x59b)](_0x31367b(0x56d),()=>document['getElementById'](_0x31367b(0xd2d))['classList'][_0x31367b(0x8cc)]('hidden')),document['getElementById'](_0x31367b(0xd2d))[_0x31367b(0x59b)]('click',handleSaveProjectName),document[_0x31367b(0x695)](_0x31367b(0x6ac))[_0x31367b(0x59b)](_0x31367b(0xa5e),_0x14f79f=>{const _0x4de011=_0x31367b;_0x14f79f['key']===_0x4de011(0xd6c)&&(_0x14f79f['preventDefault'](),_0x14f79f[_0x4de011(0x819)][_0x4de011(0x705)](),handleSaveProjectName());}),document['getElementById'](_0x31367b(0x899))[_0x31367b(0x59b)]('click',()=>{const _0x4e1f19=_0x31367b;document[_0x4e1f19(0x695)](_0x4e1f19(0x92d))[_0x4e1f19(0xd75)]['remove'](_0x4e1f19(0x721));}),document[_0x31367b(0x695)](_0x31367b(0x854))[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{const _0xe93568=_0x31367b;document[_0xe93568(0x695)](_0xe93568(0x92d))[_0xe93568(0xd75)][_0xe93568(0x8d6)]('hidden');}),document[_0x31367b(0x695)](_0x31367b(0x883))['addEventListener']('click',handleBulkUpdateQuizSettings),document[_0x31367b(0x695)](_0x31367b(0x294))[_0x31367b(0x59b)]('click',handleModeSwitch),document[_0x31367b(0x695)](_0x31367b(0xbdc))[_0x31367b(0x59b)](_0x31367b(0xc9a),handleUpdateOldQuizzes),document[_0x31367b(0x695)](_0x31367b(0x71a))[_0x31367b(0x59b)](_0x31367b(0xc9a),handleResetProjectOrder),document['getElementById'](_0x31367b(0xad5))[_0x31367b(0x59b)](_0x31367b(0xc9a),handleSaveVisibilitySettings),document[_0x31367b(0x695)](_0x31367b(0xbd6))[_0x31367b(0x59b)](_0x31367b(0xc9a),handleAddCustomMathTopic),document[_0x31367b(0x695)](_0x31367b(0xc64))[_0x31367b(0x59b)](_0x31367b(0xc9a),handleSelectAllTopics),document[_0x31367b(0x695)]('deselect-all-topics-btn')['addEventListener']('click',handleDeselectAllTopics),document[_0x31367b(0x695)](_0x31367b(0x34e))['addEventListener'](_0x31367b(0xc9a),()=>{if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView('admin-dashboard');}}),document[_0x31367b(0x695)]('back-to-project-btn')[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{const _0x3c714d=_0x31367b;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x3c714d(0x5bd));}}),document[_0x31367b(0x695)]('back-to-dashboard-from-results-btn')[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{const _0x44f2ea=_0x31367b;showView(_0x44f2ea(0x586));}),document['getElementById'](_0x31367b(0xd02))[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{const _0xc64344=_0x31367b;messageModal[_0xc64344(0xd75)][_0xc64344(0x8d6)](_0xc64344(0x721)),typeof modalConfirmAction===_0xc64344(0xa74)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x31367b(0x695)]('create-project-btn')[_0x31367b(0x59b)]('click',()=>createProjectModal[_0x31367b(0xd75)][_0x31367b(0x8cc)](_0x31367b(0x721))),document[_0x31367b(0x695)](_0x31367b(0x274))['addEventListener'](_0x31367b(0xc9a),()=>createProjectModal[_0x31367b(0xd75)]['add'](_0x31367b(0x721))),document[_0x31367b(0x695)](_0x31367b(0x77b))[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>adminPasswordModal[_0x31367b(0xd75)]['add'](_0x31367b(0x721))),document[_0x31367b(0x695)](_0x31367b(0xcc5))[_0x31367b(0x59b)]('click',handleAdminLogin),document[_0x31367b(0x695)](_0x31367b(0xbc7))['addEventListener'](_0x31367b(0xb29),_0x123cac=>{const _0xa99db9=_0x31367b;if(_0x123cac['key']===_0xa99db9(0xd6c))handleAdminLogin();}),document[_0x31367b(0x695)]('cancel-delete-btn')[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{const _0xe081cf=_0x31367b;confirmationModal[_0xe081cf(0xd75)][_0xe081cf(0x8d6)]('hidden'),confirmAction=null;}),document['getElementById'](_0x31367b(0xd2f))[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{const _0x5f5444=_0x31367b;confirmAction&&confirmAction(),confirmationModal['classList'][_0x5f5444(0x8d6)](_0x5f5444(0x721)),confirmAction=null;}),document['getElementById'](_0x31367b(0x656))[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>renameQuizModal[_0x31367b(0xd75)][_0x31367b(0x8d6)](_0x31367b(0x721))),document[_0x31367b(0x695)](_0x31367b(0x673))[_0x31367b(0x59b)](_0x31367b(0xc9a),confirmRenameQuiz),document['getElementById']('cancel-move-quiz-btn')['addEventListener'](_0x31367b(0xc9a),()=>moveQuizModal[_0x31367b(0xd75)]['add'](_0x31367b(0x721))),document[_0x31367b(0x695)](_0x31367b(0x88b))[_0x31367b(0x59b)](_0x31367b(0xc9a),confirmMoveQuiz),document[_0x31367b(0x695)](_0x31367b(0xd0f))[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>quizSettingsModal[_0x31367b(0xd75)][_0x31367b(0x8d6)](_0x31367b(0x721))),document['getElementById'](_0x31367b(0x241))['addEventListener'](_0x31367b(0xc9a),confirmQuizSettings),document[_0x31367b(0x695)](_0x31367b(0xa46))['addEventListener']('click',()=>quizStatusModal[_0x31367b(0xd75)][_0x31367b(0x8d6)]('hidden')),document[_0x31367b(0x695)](_0x31367b(0x670))[_0x31367b(0x59b)](_0x31367b(0xc9a),confirmQuizStatus);const _0x175716=document['getElementById'](_0x31367b(0xb6c));document['getElementById'](_0x31367b(0xc9d))[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{_0x175716['classList']['add']('hidden');}),document[_0x31367b(0x695)]('export-compact-pdf-btn')[_0x31367b(0x59b)](_0x31367b(0xc9a),async()=>{const _0x45f033=_0x31367b,_0x3ccc17=allQuizzes[_0x45f033(0x559)](_0x5f46c4=>_0x5f46c4['id']===actionTargetId);_0x3ccc17?(currentQuizData=_0x3ccc17,exportQuizAsWorksheetPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x175716['classList'][_0x45f033(0x8d6)](_0x45f033(0x721));}),document[_0x31367b(0x695)]('export-tutor-pdf-btn')[_0x31367b(0x59b)](_0x31367b(0xc9a),async()=>{const _0x43d132=_0x31367b,_0x6aff84=allQuizzes['find'](_0x17d33a=>_0x17d33a['id']===actionTargetId);_0x6aff84?(currentQuizData=_0x6aff84,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x175716[_0x43d132(0xd75)][_0x43d132(0x8d6)](_0x43d132(0x721));});const _0x5c38f2=document[_0x31367b(0x695)]('open-global-live-btn');_0x5c38f2[_0x31367b(0xb6b)]=_0x31367b(0x3d1),_0x5c38f2[_0x31367b(0x59b)](_0x31367b(0xc9a),openGlobalActivityModal),document['getElementById'](_0x31367b(0xd5b))[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{const _0x232248=_0x31367b;document[_0x232248(0x695)](_0x232248(0xd9b))[_0x232248(0xd75)]['add']('hidden');}),document[_0x31367b(0x695)](_0x31367b(0x96d))['addEventListener']('input',_0x440555=>{const _0x419b80=_0x31367b;renderGlobalActivityList(_0x440555['target'][_0x419b80(0xbdb)]);}),document[_0x31367b(0x695)]('global-activity-quiz-list')['addEventListener'](_0x31367b(0xc9a),_0x370973=>{const _0xf27ae5=_0x31367b,_0x404414=_0x370973['target'][_0xf27ae5(0xb12)](_0xf27ae5(0x30e));if(!_0x404414)return;const _0x402589=_0x404414[_0xf27ae5(0x4b5)]['id'],_0x243ee4=_0x404414[_0xf27ae5(0x4b5)][_0xf27ae5(0x500)],_0x300643=allQuizzesGlobal['find'](_0x188ee5=>_0x188ee5['id']===_0x402589);_0x300643&&(document[_0xf27ae5(0x695)](_0xf27ae5(0xd9b))[_0xf27ae5(0xd75)][_0xf27ae5(0x8d6)](_0xf27ae5(0x721)),_0x243ee4==='live-race'?handleStartLiveRace(_0x402589):showGameStartConfirmationModal(_0x402589,_0x243ee4,_0x300643[_0xf27ae5(0xd28)]));}),document['getElementById'](_0x31367b(0x6ff))['addEventListener']('input',renderProjects),document[_0x31367b(0x695)](_0x31367b(0x725))[_0x31367b(0x59b)](_0x31367b(0x40b),async()=>{const _0x3d160c=_0x31367b,_0x2223ca=document[_0x3d160c(0x695)](_0x3d160c(0x725))['value'],_0x32c9ea=doc(db,_0x3d160c(0x974),_0x3d160c(0xd50));try{await setDoc(_0x32c9ea,{'projectSort':_0x2223ca},{'merge':!![]});}catch(_0x2855e8){console[_0x3d160c(0xb62)](_0x3d160c(0x575),_0x2855e8),showMessage(_0x3d160c(0x93b));}}),document['getElementById'](_0x31367b(0x2f7))[_0x31367b(0x59b)]('input',renderQuizzes),document[_0x31367b(0x695)](_0x31367b(0xb13))[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{const _0x2f0677=_0x31367b;globalDashboardSettings[_0x2f0677(0xa3c)]=_0x2f0677(0x231),saveUserPreference(_0x2f0677(0xa3c),'grid'),renderProjects();}),document[_0x31367b(0x695)](_0x31367b(0xb80))[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{const _0x40a530=_0x31367b;globalDashboardSettings[_0x40a530(0xa3c)]='list',saveUserPreference(_0x40a530(0xa3c),'list'),renderProjects();}),manageTab[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>switchProjectTab(_0x31367b(0x245))),resultsTab[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>switchProjectTab(_0x31367b(0x744))),leaderboardTab[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>switchProjectTab(_0x31367b(0x924))),document[_0x31367b(0x695)](_0x31367b(0x7a0))[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>switchQuizDetailTab('analytics')),document['getElementById'](_0x31367b(0x996))[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>switchQuizDetailTab(_0x31367b(0x20a))),document[_0x31367b(0x695)]('leaderboard-quiz-tab-btn')[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>switchQuizDetailTab(_0x31367b(0x40d))),document[_0x31367b(0x695)](_0x31367b(0x533))[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>switchQuizDetailTab(_0x31367b(0x713))),document[_0x31367b(0x695)]('analyze-strengths-btn')[_0x31367b(0x59b)](_0x31367b(0xc9a),handleAnalyzeClass),generateWorksheetBtn['addEventListener'](_0x31367b(0xc9a),generateWorksheet);const _0x53d5f2=document[_0x31367b(0x695)](_0x31367b(0xc67)),_0x3e3908=document[_0x31367b(0x695)](_0x31367b(0x808)),_0x628a15=document['getElementById'](_0x31367b(0xb38)),_0x175e24=document[_0x31367b(0x695)](_0x31367b(0x7a3)),_0x29077c=document['getElementById'](_0x31367b(0x37b)),_0x269865=document[_0x31367b(0x695)](_0x31367b(0x926));topicTab[_0x31367b(0x59b)]('click',()=>{const _0x48dc5d=_0x31367b;topicTab[_0x48dc5d(0xd75)][_0x48dc5d(0x8d6)](_0x48dc5d(0xb81)),textTab[_0x48dc5d(0xd75)]['remove'](_0x48dc5d(0xb81)),fileTab['classList'][_0x48dc5d(0x8cc)](_0x48dc5d(0xb81)),worksheetTab[_0x48dc5d(0xd75)][_0x48dc5d(0x8cc)]('active');if(_0x53d5f2)_0x53d5f2[_0x48dc5d(0xd75)][_0x48dc5d(0x8cc)](_0x48dc5d(0xb81));if(_0x628a15)_0x628a15[_0x48dc5d(0xd75)]['remove'](_0x48dc5d(0xb81));if(_0x29077c)_0x29077c[_0x48dc5d(0xd75)]['remove']('active');topicInputArea[_0x48dc5d(0xd75)]['remove'](_0x48dc5d(0x721)),textInputArea[_0x48dc5d(0xd75)][_0x48dc5d(0x8d6)](_0x48dc5d(0x721)),fileInputArea['classList'][_0x48dc5d(0x8d6)](_0x48dc5d(0x721)),worksheetInputArea[_0x48dc5d(0xd75)][_0x48dc5d(0x8d6)]('hidden');if(_0x3e3908)_0x3e3908['classList'][_0x48dc5d(0x8d6)]('hidden');if(_0x175e24)_0x175e24[_0x48dc5d(0xd75)]['add'](_0x48dc5d(0x721));if(_0x269865)_0x269865[_0x48dc5d(0xd75)][_0x48dc5d(0x8d6)](_0x48dc5d(0x721));}),textTab[_0x31367b(0x59b)]('click',()=>{const _0x5cedcb=_0x31367b;textTab['classList']['add'](_0x5cedcb(0xb81)),topicTab[_0x5cedcb(0xd75)]['remove'](_0x5cedcb(0xb81)),fileTab[_0x5cedcb(0xd75)]['remove'](_0x5cedcb(0xb81)),worksheetTab[_0x5cedcb(0xd75)][_0x5cedcb(0x8cc)](_0x5cedcb(0xb81));if(_0x53d5f2)_0x53d5f2['classList'][_0x5cedcb(0x8cc)]('active');if(_0x628a15)_0x628a15[_0x5cedcb(0xd75)][_0x5cedcb(0x8cc)](_0x5cedcb(0xb81));if(_0x29077c)_0x29077c[_0x5cedcb(0xd75)]['remove'](_0x5cedcb(0xb81));textInputArea[_0x5cedcb(0xd75)][_0x5cedcb(0x8cc)](_0x5cedcb(0x721)),topicInputArea['classList'][_0x5cedcb(0x8d6)](_0x5cedcb(0x721)),fileInputArea[_0x5cedcb(0xd75)][_0x5cedcb(0x8d6)](_0x5cedcb(0x721)),worksheetInputArea['classList'][_0x5cedcb(0x8d6)](_0x5cedcb(0x721));if(_0x3e3908)_0x3e3908[_0x5cedcb(0xd75)][_0x5cedcb(0x8d6)]('hidden');if(_0x175e24)_0x175e24[_0x5cedcb(0xd75)][_0x5cedcb(0x8d6)](_0x5cedcb(0x721));if(_0x269865)_0x269865['classList'][_0x5cedcb(0x8d6)](_0x5cedcb(0x721));}),fileTab[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{const _0x332e63=_0x31367b;fileTab[_0x332e63(0xd75)][_0x332e63(0x8d6)]('active'),topicTab[_0x332e63(0xd75)][_0x332e63(0x8cc)](_0x332e63(0xb81)),textTab[_0x332e63(0xd75)]['remove'](_0x332e63(0xb81)),worksheetTab[_0x332e63(0xd75)][_0x332e63(0x8cc)](_0x332e63(0xb81));if(_0x53d5f2)_0x53d5f2[_0x332e63(0xd75)]['remove']('active');if(_0x628a15)_0x628a15[_0x332e63(0xd75)][_0x332e63(0x8cc)](_0x332e63(0xb81));if(_0x29077c)_0x29077c['classList']['remove']('active');fileInputArea[_0x332e63(0xd75)]['remove'](_0x332e63(0x721)),topicInputArea[_0x332e63(0xd75)][_0x332e63(0x8d6)](_0x332e63(0x721)),textInputArea[_0x332e63(0xd75)][_0x332e63(0x8d6)](_0x332e63(0x721)),worksheetInputArea['classList'][_0x332e63(0x8d6)](_0x332e63(0x721));if(_0x3e3908)_0x3e3908[_0x332e63(0xd75)][_0x332e63(0x8d6)](_0x332e63(0x721));if(_0x175e24)_0x175e24[_0x332e63(0xd75)][_0x332e63(0x8d6)](_0x332e63(0x721));if(_0x269865)_0x269865['classList'][_0x332e63(0x8d6)]('hidden');}),worksheetTab[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{const _0x1b2289=_0x31367b;worksheetTab[_0x1b2289(0xd75)][_0x1b2289(0x8d6)]('active'),topicTab['classList']['remove']('active'),textTab[_0x1b2289(0xd75)][_0x1b2289(0x8cc)](_0x1b2289(0xb81)),fileTab[_0x1b2289(0xd75)][_0x1b2289(0x8cc)](_0x1b2289(0xb81));if(_0x53d5f2)_0x53d5f2[_0x1b2289(0xd75)][_0x1b2289(0x8cc)](_0x1b2289(0xb81));if(_0x628a15)_0x628a15['classList'][_0x1b2289(0x8cc)]('active');if(_0x29077c)_0x29077c[_0x1b2289(0xd75)][_0x1b2289(0x8cc)]('active');worksheetInputArea[_0x1b2289(0xd75)][_0x1b2289(0x8cc)](_0x1b2289(0x721)),topicInputArea['classList'][_0x1b2289(0x8d6)](_0x1b2289(0x721)),textInputArea[_0x1b2289(0xd75)]['add'](_0x1b2289(0x721)),fileInputArea[_0x1b2289(0xd75)]['add'](_0x1b2289(0x721));if(_0x3e3908)_0x3e3908['classList'][_0x1b2289(0x8d6)](_0x1b2289(0x721));if(_0x175e24)_0x175e24[_0x1b2289(0xd75)]['add'](_0x1b2289(0x721));if(_0x269865)_0x269865[_0x1b2289(0xd75)][_0x1b2289(0x8d6)](_0x1b2289(0x721));});const _0x2e94b1=document[_0x31367b(0x695)](_0x31367b(0x6c8)),_0x52de65=document['getElementById'](_0x31367b(0xc65));_0x2e94b1&&_0x2e94b1[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{const _0x1b80d3=_0x31367b;topicTab['classList'][_0x1b80d3(0x8cc)](_0x1b80d3(0xb81)),textTab[_0x1b80d3(0xd75)][_0x1b80d3(0x8cc)]('active'),fileTab[_0x1b80d3(0xd75)]['remove']('active'),worksheetTab[_0x1b80d3(0xd75)][_0x1b80d3(0x8cc)]('active');if(_0x53d5f2)_0x53d5f2[_0x1b80d3(0xd75)]['remove'](_0x1b80d3(0xb81));if(_0x628a15)_0x628a15[_0x1b80d3(0xd75)][_0x1b80d3(0x8cc)]('active');if(_0x29077c)_0x29077c[_0x1b80d3(0xd75)][_0x1b80d3(0x8cc)]('active');_0x2e94b1[_0x1b80d3(0xd75)]['add'](_0x1b80d3(0xb81)),topicInputArea[_0x1b80d3(0xd75)][_0x1b80d3(0x8d6)](_0x1b80d3(0x721)),textInputArea[_0x1b80d3(0xd75)][_0x1b80d3(0x8d6)](_0x1b80d3(0x721)),fileInputArea[_0x1b80d3(0xd75)]['add']('hidden'),worksheetInputArea[_0x1b80d3(0xd75)][_0x1b80d3(0x8d6)](_0x1b80d3(0x721));if(_0x3e3908)_0x3e3908[_0x1b80d3(0xd75)][_0x1b80d3(0x8d6)](_0x1b80d3(0x721));if(_0x175e24)_0x175e24[_0x1b80d3(0xd75)][_0x1b80d3(0x8d6)](_0x1b80d3(0x721));if(_0x269865)_0x269865['classList'][_0x1b80d3(0x8d6)](_0x1b80d3(0x721));_0x52de65[_0x1b80d3(0xd75)][_0x1b80d3(0x8cc)](_0x1b80d3(0x721)),displayQuestionBank();});_0x53d5f2&&(_0x53d5f2[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{const _0x3ec6dd=_0x31367b;_0x53d5f2['classList'][_0x3ec6dd(0x8d6)](_0x3ec6dd(0xb81)),topicTab['classList']['remove'](_0x3ec6dd(0xb81)),textTab[_0x3ec6dd(0xd75)]['remove'](_0x3ec6dd(0xb81)),fileTab[_0x3ec6dd(0xd75)][_0x3ec6dd(0x8cc)](_0x3ec6dd(0xb81)),worksheetTab[_0x3ec6dd(0xd75)][_0x3ec6dd(0x8cc)](_0x3ec6dd(0xb81));if(_0x628a15)_0x628a15[_0x3ec6dd(0xd75)]['remove'](_0x3ec6dd(0xb81));if(_0x29077c)_0x29077c['classList']['remove'](_0x3ec6dd(0xb81));_0x3e3908[_0x3ec6dd(0xd75)][_0x3ec6dd(0x8cc)](_0x3ec6dd(0x721)),topicInputArea[_0x3ec6dd(0xd75)][_0x3ec6dd(0x8d6)](_0x3ec6dd(0x721)),textInputArea[_0x3ec6dd(0xd75)]['add'](_0x3ec6dd(0x721)),fileInputArea[_0x3ec6dd(0xd75)]['add'](_0x3ec6dd(0x721)),worksheetInputArea[_0x3ec6dd(0xd75)][_0x3ec6dd(0x8d6)]('hidden');if(_0x175e24)_0x175e24['classList'][_0x3ec6dd(0x8d6)]('hidden');if(_0x269865)_0x269865[_0x3ec6dd(0xd75)][_0x3ec6dd(0x8d6)](_0x3ec6dd(0x721));}),document[_0x31367b(0x695)](_0x31367b(0xc9f))[_0x31367b(0x59b)](_0x31367b(0xc9a),handleGenerateFromLink));_0x628a15&&_0x628a15[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{const _0x15be04=_0x31367b;_0x628a15[_0x15be04(0xd75)]['add']('active'),topicTab[_0x15be04(0xd75)][_0x15be04(0x8cc)](_0x15be04(0xb81)),textTab['classList'][_0x15be04(0x8cc)]('active'),fileTab['classList'][_0x15be04(0x8cc)](_0x15be04(0xb81)),worksheetTab['classList'][_0x15be04(0x8cc)]('active');if(_0x53d5f2)_0x53d5f2[_0x15be04(0xd75)][_0x15be04(0x8cc)]('active');if(_0x2e94b1)_0x2e94b1[_0x15be04(0xd75)][_0x15be04(0x8cc)]('active');if(_0x29077c)_0x29077c[_0x15be04(0xd75)][_0x15be04(0x8cc)](_0x15be04(0xb81));_0x175e24[_0x15be04(0xd75)][_0x15be04(0x8cc)](_0x15be04(0x721)),topicInputArea[_0x15be04(0xd75)][_0x15be04(0x8d6)](_0x15be04(0x721)),textInputArea[_0x15be04(0xd75)][_0x15be04(0x8d6)]('hidden'),fileInputArea['classList'][_0x15be04(0x8d6)](_0x15be04(0x721)),worksheetInputArea[_0x15be04(0xd75)][_0x15be04(0x8d6)](_0x15be04(0x721));if(_0x3e3908)_0x3e3908[_0x15be04(0xd75)]['add']('hidden');if(_0x52de65)_0x52de65[_0x15be04(0xd75)][_0x15be04(0x8d6)](_0x15be04(0x721));if(_0x269865)_0x269865[_0x15be04(0xd75)][_0x15be04(0x8d6)](_0x15be04(0x721));});_0x29077c&&_0x29077c[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{const _0x556bb3=_0x31367b;_0x29077c[_0x556bb3(0xd75)][_0x556bb3(0x8d6)](_0x556bb3(0xb81)),topicTab['classList'][_0x556bb3(0x8cc)](_0x556bb3(0xb81)),textTab[_0x556bb3(0xd75)][_0x556bb3(0x8cc)]('active'),fileTab[_0x556bb3(0xd75)][_0x556bb3(0x8cc)]('active'),worksheetTab['classList'][_0x556bb3(0x8cc)](_0x556bb3(0xb81));if(_0x53d5f2)_0x53d5f2[_0x556bb3(0xd75)]['remove'](_0x556bb3(0xb81));if(_0x628a15)_0x628a15[_0x556bb3(0xd75)][_0x556bb3(0x8cc)]('active');if(_0x2e94b1)_0x2e94b1['classList']['remove'](_0x556bb3(0xb81));_0x269865[_0x556bb3(0xd75)][_0x556bb3(0x8cc)]('hidden'),topicInputArea['classList'][_0x556bb3(0x8d6)](_0x556bb3(0x721)),textInputArea[_0x556bb3(0xd75)][_0x556bb3(0x8d6)](_0x556bb3(0x721)),fileInputArea[_0x556bb3(0xd75)][_0x556bb3(0x8d6)]('hidden'),worksheetInputArea[_0x556bb3(0xd75)][_0x556bb3(0x8d6)](_0x556bb3(0x721));if(_0x3e3908)_0x3e3908['classList'][_0x556bb3(0x8d6)]('hidden');if(_0x175e24)_0x175e24[_0x556bb3(0xd75)]['add'](_0x556bb3(0x721));if(_0x52de65)_0x52de65[_0x556bb3(0xd75)][_0x556bb3(0x8d6)](_0x556bb3(0x721));});const _0x1af542=document['getElementById'](_0x31367b(0x515)),_0x8095ea=document[_0x31367b(0x695)](_0x31367b(0x663));if(_0x1af542){const _0x3c5e8c=document[_0x31367b(0x695)](_0x31367b(0x515)),_0xb656bf=document[_0x31367b(0x695)]('generate-from-blueprint-btn'),_0x65b879=document[_0x31367b(0x695)](_0x31367b(0xc8a)),_0x46a20e=document[_0x31367b(0x695)](_0x31367b(0x493)),_0x25aeae=document[_0x31367b(0x695)](_0x31367b(0x838)),_0x39a1e5=document[_0x31367b(0x695)](_0x31367b(0xd4c));_0x3c5e8c&&_0x3c5e8c['addEventListener'](_0x31367b(0x40b),async _0x1126a2=>{const _0x313c9d=_0x31367b;_0x65b879[_0x313c9d(0xd75)][_0x313c9d(0x8d6)](_0x313c9d(0x721)),_0x25aeae[_0x313c9d(0xd75)][_0x313c9d(0x8d6)](_0x313c9d(0x721)),_0x46a20e[_0x313c9d(0x364)]=![],_0xb656bf[_0x313c9d(0x22a)]=!![];const _0x24845b=_0x1126a2[_0x313c9d(0x819)][_0x313c9d(0x3b7)][0x0];if(_0x24845b){_0xb656bf[_0x313c9d(0x22a)]=![];try{const _0x38f00f=await extractTextFromPdf(_0x24845b);await analyzeBlueprintForTopics(_0x38f00f);}catch(_0x420c32){showMessage(_0x313c9d(0x2f4)),_0x65b879[_0x313c9d(0xd75)]['add'](_0x313c9d(0x721));}}}),_0x46a20e&&_0x46a20e[_0x31367b(0x59b)](_0x31367b(0x40b),_0x5d55ee=>{const _0x5dd036=_0x31367b,_0x46eb10=_0x5d55ee[_0x5dd036(0x819)][_0x5dd036(0x364)];_0x25aeae[_0x5dd036(0xd75)][_0x5dd036(0x352)](_0x5dd036(0x721),!_0x46eb10),_0xb656bf[_0x5dd036(0x22a)]=_0x46eb10;}),_0x39a1e5&&(_0x39a1e5&&_0x39a1e5[_0x31367b(0x59b)](_0x31367b(0xc9a),_0x41caf1=>{const _0x4291c2=_0x31367b,_0xda5141=_0x41caf1[_0x4291c2(0x819)][_0x4291c2(0xb12)](_0x4291c2(0x264)),_0x3e009b=_0x41caf1[_0x4291c2(0x819)][_0x4291c2(0xb12)]('.generate-content-btn');if(_0xda5141){const _0x673045=unescape(_0xda5141['dataset']['topic']);generateQuizForSingleTopic(_0x673045);}else{if(_0x3e009b){const _0x575642=unescape(_0x3e009b['dataset'][_0x4291c2(0xd28)]);handleGenerateTeachingContent(_0x575642);}}}));}_0x8095ea&&_0x8095ea[_0x31367b(0x59b)]('click',handleGenerateFromBlueprint);const _0x476c0f=document[_0x31367b(0x695)](_0x31367b(0xcfd)),_0x38d347=document[_0x31367b(0x695)](_0x31367b(0x761));_0x476c0f&&_0x476c0f[_0x31367b(0x59b)](_0x31367b(0x40b),_0x3452d6=>{const _0x3247d2=_0x31367b;_0x38d347[_0x3247d2(0x22a)]=_0x3452d6[_0x3247d2(0x819)][_0x3247d2(0x3b7)][_0x3247d2(0xca6)]===0x0;});_0x38d347&&_0x38d347[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x31367b(0x59b)](_0x31367b(0xc9a),handleLoadQuiz),startQuizBtn[_0x31367b(0x59b)](_0x31367b(0xc9a),async()=>{const _0xa5b884=_0x31367b,_0x2ff629=document['getElementById'](_0xa5b884(0x588));currentStudentName=_0x2ff629[_0xa5b884(0xbdb)];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}try{const _0x5f25cf=currentQuizData['id'],_0x7fc182=doc(db,_0xa5b884(0x2d5)+appId+_0xa5b884(0xb5c)+_0x5f25cf+_0xa5b884(0xaa7),currentStudentName),_0x5b1e42=await getDoc(_0x7fc182);!_0x5b1e42['exists']()?await setDoc(_0x7fc182,{'studentName':currentStudentName,'startedAt':new Date()[_0xa5b884(0x9bd)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x7fc182,{'startedAt':new Date()[_0xa5b884(0x9bd)]()});}catch(_0x240c78){console[_0xa5b884(0xb62)]('Failed\x20to\x20create/update\x20submission\x20record:',_0x240c78),showMessage('เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง');return;}studentNameSelectionView[_0xa5b884(0xd75)][_0xa5b884(0x8d6)](_0xa5b884(0x721)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x31367b(0x695)](_0x31367b(0x602))[_0x31367b(0x59b)](_0x31367b(0xc9a),showJoinGameView),document[_0x31367b(0x695)](_0x31367b(0x972))[_0x31367b(0x59b)](_0x31367b(0xc9a),handleJoinLiveGame),document['getElementById']('back-to-student-initial-btn')[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>showView(_0x31367b(0x282)));const _0x356b4e=()=>{const _0x307650=_0x31367b,_0x54b0da=document['getElementById'](_0x307650(0x7ba))[_0x307650(0x97a)][_0x307650(0x963)](/[^a-z0-9]/gi,'_')[_0x307650(0x766)]();return _0x307650(0x7df)+(_0x54b0da||'quiz');},_0x4cec29=document[_0x31367b(0x695)](_0x31367b(0x2ce));_0x4cec29&&_0x4cec29['addEventListener']('input',_0x32478a=>{const _0x48e6d0=_0x31367b,_0x277f30=_0x32478a[_0x48e6d0(0x819)][_0x48e6d0(0xbdb)][_0x48e6d0(0x766)]()[_0x48e6d0(0xbcf)](),_0x49358d=document[_0x48e6d0(0x695)](_0x48e6d0(0x938)),_0x2e7175=_0x49358d[_0x48e6d0(0x4e3)]('.topic-category');_0x2e7175['forEach'](_0x32a7fb=>{const _0x45ebf2=_0x48e6d0;let _0x4e7cee=![];const _0x665953=_0x32a7fb['querySelectorAll']('.topic-row');_0x665953['forEach'](_0x72d049=>{const _0x536aee=_0x42ad,_0x3ffe13=_0x72d049[_0x536aee(0xc31)](_0x536aee(0xa95))['textContent'][_0x536aee(0x766)]();_0x3ffe13['includes'](_0x277f30)?(_0x72d049['style']['display']=_0x536aee(0x331),_0x4e7cee=!![]):_0x72d049[_0x536aee(0x7a9)][_0x536aee(0x9e8)]=_0x536aee(0x4f9);}),_0x4e7cee?_0x32a7fb[_0x45ebf2(0x7a9)][_0x45ebf2(0x9e8)]=_0x45ebf2(0xc58):_0x32a7fb[_0x45ebf2(0x7a9)][_0x45ebf2(0x9e8)]=_0x45ebf2(0x4f9);});});document[_0x31367b(0x695)]('export-image-btn')[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>exportTableAsImage(_0x31367b(0x5fb),_0x356b4e())),document[_0x31367b(0x695)]('export-pdf-btn')[_0x31367b(0x59b)]('click',()=>exportTableAsPDF(_0x31367b(0x57f),_0x356b4e())),document[_0x31367b(0x695)]('export-word-btn')[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>exportTableAsWord(_0x31367b(0x5fb),_0x356b4e())),document[_0x31367b(0x695)](_0x31367b(0xb1e))[_0x31367b(0x59b)]('click',()=>exportTableAsExcel(_0x31367b(0x57f),_0x356b4e()));const _0x5965af=()=>{const _0x36f8e3=_0x31367b,_0x2117be=document[_0x36f8e3(0x695)](_0x36f8e3(0x7ba))[_0x36f8e3(0x97a)][_0x36f8e3(0x963)](/[^a-z0-9]/gi,'_')[_0x36f8e3(0x766)]();return _0x36f8e3(0x468)+(_0x2117be||_0x36f8e3(0x922));};document[_0x31367b(0x695)](_0x31367b(0x3e9))[_0x31367b(0x59b)]('click',()=>exportTableAsImage('quiz-leaderboard-table-container',_0x5965af())),document[_0x31367b(0x695)]('export-leaderboard-pdf-btn')[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>exportTableAsPDF(_0x31367b(0x217),_0x5965af())),document[_0x31367b(0x695)](_0x31367b(0xc28))[_0x31367b(0x59b)]('click',()=>exportTableAsWord('quiz-leaderboard-table-container',_0x5965af())),document[_0x31367b(0x695)]('export-leaderboard-excel-btn')[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>exportTableAsExcel(_0x31367b(0x217),_0x5965af())),projectQuizzesList[_0x31367b(0x59b)](_0x31367b(0xc9a),async _0x4f4419=>{const _0x321225=_0x31367b,_0x1887d4=_0x4f4419[_0x321225(0x819)][_0x321225(0xb12)]('.quiz-result-card'),_0x325529=_0x4f4419[_0x321225(0x819)][_0x321225(0xb12)]('.generate-post-test-btn'),_0x55fba8=_0x4f4419[_0x321225(0x819)]['closest']('.compare-results-btn'),_0x40a478=_0x4f4419[_0x321225(0x819)][_0x321225(0xb12)](_0x321225(0xbb5)),_0x173bc1=_0x4f4419[_0x321225(0x819)][_0x321225(0xb12)](_0x321225(0xad1)),_0x25a6c1=_0x4f4419[_0x321225(0x819)]['closest'](_0x321225(0xc5b)),_0x3ce962=_0x4f4419[_0x321225(0x819)][_0x321225(0xb12)](_0x321225(0x913)),_0x57af96=_0x4f4419[_0x321225(0x819)][_0x321225(0xb12)](_0x321225(0x2ac)),_0x2d9beb=_0x4f4419[_0x321225(0x819)][_0x321225(0xb12)](_0x321225(0xb14)),_0x3ef604=_0x4f4419[_0x321225(0x819)]['closest'](_0x321225(0x7b1)),_0x5b0131=_0x4f4419['target'][_0x321225(0xb12)](_0x321225(0x469)),_0x54b02d=_0x4f4419[_0x321225(0x819)][_0x321225(0xb12)](_0x321225(0xc4e)),_0x253ba2=_0x4f4419[_0x321225(0x819)]['closest']('.pair-quiz-btn'),_0x517a80=_0x4f4419[_0x321225(0x819)][_0x321225(0xb12)](_0x321225(0x733)),_0x5e8aa9=_0x4f4419[_0x321225(0x819)][_0x321225(0xb12)](_0x321225(0x50a)),_0x3e4c8e=_0x4f4419[_0x321225(0x819)][_0x321225(0xb12)](_0x321225(0x594)),_0xd037be=_0x4f4419[_0x321225(0x819)]['closest'](_0x321225(0x428)),_0x28fa94=_0x4f4419[_0x321225(0x819)]['closest'](_0x321225(0x79f)),_0x324243=_0x4f4419[_0x321225(0x819)][_0x321225(0xb12)](_0x321225(0xd79)),_0x103af1=_0x4f4419['target'][_0x321225(0xb12)](_0x321225(0xade)),_0x76cecf=_0x4f4419['target'][_0x321225(0xb12)]('.generate-easy-version-btn'),_0x16c25a=_0x4f4419['target'][_0x321225(0xb12)]('.start-game-btn'),_0x955b46=_0x4f4419['target']['closest'](_0x321225(0xba3));if(_0x16c25a){const _0x55d209=_0x16c25a[_0x321225(0x4b5)][_0x321225(0xc24)],_0x17a870=_0x16c25a[_0x321225(0x4b5)][_0x321225(0x500)],_0x2eb5ca=allQuizzes[_0x321225(0x559)](_0x5bdf84=>_0x5bdf84['id']===_0x55d209);_0x2eb5ca&&showGameStartConfirmationModal(_0x55d209,_0x17a870,_0x2eb5ca[_0x321225(0xd28)]);}else{if(_0x955b46){const _0x22ff9f=_0x955b46[_0x321225(0x4b5)][_0x321225(0xc24)];handleStartLiveRace(_0x22ff9f);}else{if(_0x103af1){const _0x4c0386=_0x103af1[_0x321225(0x4b5)]['quizId'],_0x3fef84=document[_0x321225(0x695)](_0x321225(0xb70)+_0x4c0386);_0x3fef84&&_0x3fef84['classList'][_0x321225(0x352)](_0x321225(0x721));}else{if(_0x325529){const _0x41e37d=_0x325529[_0x321225(0x4b5)][_0x321225(0xc24)],_0x19c504=allQuizzes[_0x321225(0x559)](_0x50e5e7=>_0x50e5e7['id']===_0x41e37d);_0x19c504&&handleGenerateParallelPostTest(_0x19c504);}else{if(_0x55fba8)handleCompareResults(_0x55fba8[_0x321225(0x4b5)][_0x321225(0xc24)],_0x55fba8['dataset'][_0x321225(0xc95)]);else{if(_0x40a478){const _0x4fc62c=_0x40a478['dataset']['quizId'],_0x511b20=allQuizzes['find'](_0x44d9b3=>_0x44d9b3['id']===_0x4fc62c);_0x511b20&&_0x511b20[_0x321225(0x7cf)]?(displayLessonPlan(_0x511b20[_0x321225(0x7cf)],_0x511b20),showConfirmation(_0x321225(0x736),()=>handleGenerateLessonPlan(_0x4fc62c)),document['getElementById'](_0x321225(0xc0f))[_0x321225(0xc31)]('h3')[_0x321225(0x97a)]='แผนการสอน',document[_0x321225(0x695)](_0x321225(0xd2f))['textContent']=_0x321225(0x609)):handleGenerateLessonPlan(_0x4fc62c);}else{if(_0x173bc1)handleToggleStarQuiz(_0x173bc1[_0x321225(0x4b5)][_0x321225(0xc24)]);else{if(_0x25a6c1)copyTextToClipboard(_0x25a6c1['dataset'][_0x321225(0xc24)],'คัดลอกรหัสแล้ว!');else{if(_0x3ce962)handleOpenQuizEditor(_0x3ce962[_0x321225(0x4b5)][_0x321225(0xc24)]);else{if(_0x57af96)handleQuizSettings(_0x57af96['dataset'][_0x321225(0xc24)]);else{if(_0x2d9beb)handleDuplicateQuiz(_0x2d9beb[_0x321225(0x4b5)][_0x321225(0xc24)]);else{if(_0x3ef604)handleRenameQuiz(_0x3ef604[_0x321225(0x4b5)][_0x321225(0xc24)],_0x3ef604[_0x321225(0x4b5)][_0x321225(0xd28)]);else{if(_0x5b0131){const _0x5b1297=_0x5b0131[_0x321225(0x4b5)]['quizId'],_0x57a321=allQuizzes[_0x321225(0x559)](_0x15b54a=>_0x15b54a['id']===_0x5b1297);_0x57a321&&handleGenerateParallelFromBank(_0x57a321);}else{if(_0x54b02d)handleMoveQuiz(_0x54b02d[_0x321225(0x4b5)][_0x321225(0xc24)]);else{if(_0x253ba2)handleManualQuizPairing(_0x253ba2[_0x321225(0x4b5)]['quizId']);else{if(_0x517a80)handleUnpairQuiz(_0x517a80[_0x321225(0x4b5)][_0x321225(0xc24)]);else{if(_0x5e8aa9){const _0x3af28e=_0x5e8aa9['dataset'][_0x321225(0xc24)],_0xa45b18=allQuizzes[_0x321225(0x559)](_0x1c400c=>_0x1c400c['id']===_0x3af28e);if(_0xa45b18)startPresentation(_0xa45b18);}else{if(_0x3e4c8e){const _0x15b08b=_0x3e4c8e[_0x321225(0x4b5)][_0x321225(0xc24)],_0x49dda2=allQuizzes[_0x321225(0x559)](_0x1e3646=>_0x1e3646['id']===_0x15b08b);_0x49dda2&&(currentQuizData=_0x49dda2,startAdminTest());}else{if(_0xd037be)actionTargetId=_0xd037be['dataset'][_0x321225(0xc24)],document['getElementById']('export-pdf-modal')['classList'][_0x321225(0x8cc)](_0x321225(0x721));else{if(_0x28fa94)showConfirmation(_0x321225(0x4c8)+_0x28fa94[_0x321225(0x4b5)][_0x321225(0xd28)]+_0x321225(0x6b8),()=>handleDeleteQuiz(_0x28fa94[_0x321225(0x4b5)]['quizId']));else{if(_0x324243)handleQuizStatus(_0x324243[_0x321225(0x4b5)]['quizId']);else{if(_0x76cecf)handleGenerateEasyVersionQuiz(_0x76cecf[_0x321225(0x4b5)]['quizId']);else _0x1887d4&&showQuizDetailView(_0x1887d4[_0x321225(0x4b5)][_0x321225(0xc24)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x31367b(0x695)](_0x31367b(0xb1b))['addEventListener']('click',()=>showView(_0x31367b(0x282))),document['getElementById']('confirm-team-players-btn')[_0x31367b(0x59b)](_0x31367b(0xc9a),confirmAndStartTeamQuiz),document['getElementById'](_0x31367b(0x217))[_0x31367b(0xc31)]('thead')[_0x31367b(0x59b)](_0x31367b(0xc9a),_0x81b6e4=>{const _0x27699c=_0x31367b,_0x53d03d=_0x81b6e4[_0x27699c(0x819)][_0x27699c(0xb12)](_0x27699c(0xd1b));if(!_0x53d03d||!_0x53d03d[_0x27699c(0x4b5)][_0x27699c(0x7a1)])return;const _0x24fe6a=_0x53d03d[_0x27699c(0x4b5)]['sort'];if(quizLeaderboardSortBy===_0x24fe6a)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?_0x27699c(0xca4):'asc';else{quizLeaderboardSortBy=_0x24fe6a;const _0x43c31b=[_0x27699c(0x8be)];quizLeaderboardSortOrder=_0x43c31b['includes'](_0x24fe6a)?'asc':'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x27699c(0x815));}),document[_0x31367b(0x695)](_0x31367b(0x486))[_0x31367b(0x59b)]('click',closePresentation),document['getElementById'](_0x31367b(0x613))[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x31367b(0x695)](_0x31367b(0x258))[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{const _0x5a279f=_0x31367b;currentQuizData[_0x5a279f(0xab9)]&&currentPresentationSlide<currentQuizData[_0x5a279f(0xab9)][_0x5a279f(0xca6)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x31367b(0x59b)]('fullscreenchange',()=>{const _0xafe487=_0x31367b;!document[_0xafe487(0x618)]&&(presentationModal['style'][_0xafe487(0x9e8)]='none');}),document[_0x31367b(0x695)](_0x31367b(0x61a))['addEventListener'](_0x31367b(0xc9a),handleDeleteAllStudents),studentList['addEventListener'](_0x31367b(0xc9a),_0x25f968=>{const _0x125637=_0x31367b,_0x233c7a=_0x25f968['target'][_0x125637(0xb12)](_0x125637(0xafa));if(_0x233c7a){const _0x5daf0b=_0x233c7a[_0x125637(0x4b5)][_0x125637(0x8be)];handleDeleteStudent(_0x5daf0b);}}),document[_0x31367b(0x695)](_0x31367b(0x539))[_0x31367b(0x59b)](_0x31367b(0xc9a),handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0x31367b(0x40b),_0x12efb8=>{const _0x32248e=_0x31367b,_0x2abbc1=_0x12efb8[_0x32248e(0x819)][_0x32248e(0x3b7)][0x0],_0x10ff8a=document['getElementById'](_0x32248e(0x539)),_0x21bffc=document[_0x32248e(0x695)](_0x32248e(0xcb8)),_0x2618e2=document[_0x32248e(0x695)](_0x32248e(0x520));_0x2abbc1?(selectedFile=_0x2abbc1,_0x2618e2[_0x32248e(0x364)]?(_0x10ff8a[_0x32248e(0x22a)]=!![],analyzeFileForTopics(_0x2abbc1)):(_0x10ff8a[_0x32248e(0x22a)]=![],_0x21bffc[_0x32248e(0xd75)][_0x32248e(0x8d6)](_0x32248e(0x721)))):(selectedFile=null,_0x10ff8a[_0x32248e(0x22a)]=!![],_0x21bffc[_0x32248e(0xd75)][_0x32248e(0x8d6)](_0x32248e(0x721)));}),document[_0x31367b(0x695)](_0x31367b(0x520))['addEventListener']('change',_0x295656=>{const _0x447c6d=_0x31367b,_0x45ef28=_0x295656[_0x447c6d(0x819)][_0x447c6d(0x364)],_0x2f61e9=document['getElementById'](_0x447c6d(0x539)),_0x128559=document[_0x447c6d(0x695)](_0x447c6d(0xcb8));_0x45ef28?(_0x2f61e9[_0x447c6d(0x22a)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x128559[_0x447c6d(0xd75)][_0x447c6d(0x8cc)](_0x447c6d(0x721)),document[_0x447c6d(0x695)]('file-topics-list')['innerHTML']=_0x447c6d(0x233))):(_0x128559['classList'][_0x447c6d(0x8d6)](_0x447c6d(0x721)),_0x2f61e9['disabled']=!selectedFile);}),document['getElementById'](_0x31367b(0xcb8))[_0x31367b(0x59b)](_0x31367b(0xc9a),_0x636b83=>{const _0x5b6d7b=_0x31367b,_0x4ff960=_0x636b83[_0x5b6d7b(0x819)]['closest'](_0x5b6d7b(0xba0)),_0x3205cd=_0x636b83[_0x5b6d7b(0x819)][_0x5b6d7b(0xb12)]('.generate-content-btn');if(_0x4ff960){const _0x1a6cff=unescape(_0x4ff960[_0x5b6d7b(0x4b5)][_0x5b6d7b(0xd28)]);generateHybridQuizForTopic(_0x1a6cff);}else{if(_0x3205cd){const _0x4987e9=unescape(_0x3205cd['dataset'][_0x5b6d7b(0xd28)]),_0x3a4340=document[_0x5b6d7b(0x695)](_0x5b6d7b(0x512))[_0x5b6d7b(0xbdb)];handleGenerateAndShowLesson(_0x4987e9,_0x3a4340);}}}),document[_0x31367b(0x695)](_0x31367b(0x580))['addEventListener'](_0x31367b(0x40b),_0x5a3177=>{const _0x380c25=_0x31367b,_0x379deb=document[_0x380c25(0x695)](_0x380c25(0xb65)),_0x22d084=document[_0x380c25(0x695)](_0x380c25(0x5cb)),_0x3367ad=document[_0x380c25(0x695)]('timer-duration-input');_0x5a3177[_0x380c25(0x819)][_0x380c25(0xbdb)]===_0x380c25(0x4f9)?_0x379deb[_0x380c25(0xd75)]['add'](_0x380c25(0x721)):(_0x379deb[_0x380c25(0xd75)][_0x380c25(0x8cc)]('hidden'),_0x5a3177[_0x380c25(0x819)]['value']===_0x380c25(0x63e)?(_0x22d084['textContent']=_0x380c25(0xae1),_0x3367ad['value']='10'):(_0x22d084[_0x380c25(0x97a)]=_0x380c25(0x6c7),_0x3367ad[_0x380c25(0xbdb)]='30'));}),document[_0x31367b(0x695)](_0x31367b(0xa1d))[_0x31367b(0x59b)](_0x31367b(0x40b),_0x4fcee9=>{const _0x5ae064=_0x31367b,_0x109a0f=document[_0x5ae064(0x695)]('num-choices-container'),_0x85d480=_0x4fcee9[_0x5ae064(0x819)]['value'],_0x174c16=document[_0x5ae064(0xc31)](_0x5ae064(0x23a)),_0x1def52=document[_0x5ae064(0x695)](_0x5ae064(0x505)),_0x485981=document[_0x5ae064(0x695)](_0x5ae064(0x5eb));_0x85d480==='matching'?_0x174c16['textContent']=_0x5ae064(0x260):_0x174c16[_0x5ae064(0x97a)]=_0x5ae064(0x788),_0x85d480===_0x5ae064(0x959)||_0x85d480===_0x5ae064(0xd94)||_0x85d480===_0x5ae064(0x849)?_0x109a0f[_0x5ae064(0xd75)][_0x5ae064(0x8cc)](_0x5ae064(0x721)):_0x109a0f['classList'][_0x5ae064(0x8d6)](_0x5ae064(0x721)),_0x1def52[_0x5ae064(0xd57)]=_0x485981[_0x5ae064(0xbdb)];}),document['getElementById'](_0x31367b(0x5eb))[_0x31367b(0x59b)](_0x31367b(0xb7f),_0x4a5c25=>{const _0x56d2f1=_0x31367b;document[_0x56d2f1(0x695)](_0x56d2f1(0x505))[_0x56d2f1(0xd57)]=_0x4a5c25[_0x56d2f1(0x819)][_0x56d2f1(0xbdb)];}),document[_0x31367b(0x695)](_0x31367b(0xc54))[_0x31367b(0x59b)]('change',_0xe58dc0=>{const _0x2741e4=_0x31367b,_0x2a0bf9=document[_0x2741e4(0x695)](_0x2741e4(0x2bf)),_0x17aa32=document['getElementById'](_0x2741e4(0x507)),_0x3babca=document[_0x2741e4(0x695)](_0x2741e4(0x5dd));_0xe58dc0[_0x2741e4(0x819)]['value']===_0x2741e4(0x4f9)?_0x2a0bf9[_0x2741e4(0xd75)][_0x2741e4(0x8d6)](_0x2741e4(0x721)):(_0x2a0bf9[_0x2741e4(0xd75)][_0x2741e4(0x8cc)](_0x2741e4(0x721)),_0xe58dc0[_0x2741e4(0x819)][_0x2741e4(0xbdb)]===_0x2741e4(0x63e)?_0x17aa32[_0x2741e4(0x97a)]='ระยะเวลา\x20(นาที):':_0x17aa32[_0x2741e4(0x97a)]='ระยะเวลา\x20(วินาที):');}),document[_0x31367b(0x695)]('cancel-quiz-edits-btn')[_0x31367b(0x59b)]('click',()=>{const _0x418255=_0x31367b;document['getElementById'](_0x418255(0x4dd))['classList'][_0x418255(0x8d6)](_0x418255(0x721));}),document['getElementById']('cancel-quiz-edits-btn-footer')[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{const _0x4e5a0c=_0x31367b;document[_0x4e5a0c(0x695)](_0x4e5a0c(0x4dd))[_0x4e5a0c(0xd75)]['add'](_0x4e5a0c(0x721));}),document['getElementById']('verify-answers-editor-btn')[_0x31367b(0x59b)]('click',handleVerifyAnswersInEditor),document[_0x31367b(0x695)]('save-quiz-edits-btn')[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{const _0x28bc89=_0x31367b;document[_0x28bc89(0x695)]('quiz-editor-modal')[_0x28bc89(0xd75)]['add']('hidden'),showConfirmation(_0x28bc89(0xd63),handleSaveChanges);}),document[_0x31367b(0x695)](_0x31367b(0xb89))[_0x31367b(0x59b)](_0x31367b(0xc9a),handleAutoFixLatex);const _0x2753b0=document[_0x31367b(0x695)]('quiz-editor-questions-container');_0x2753b0&&_0x2753b0[_0x31367b(0x59b)](_0x31367b(0xc9a),_0x5e52bd=>{const _0x52719f=_0x31367b,_0x41fcda=_0x5e52bd['target']['closest']('.regenerate-question-editor-btn');if(_0x41fcda){const _0x4749ef=_0x41fcda[_0x52719f(0xb12)](_0x52719f(0x9fd)),_0x2561a8=parseInt(_0x4749ef[_0x52719f(0x4b5)][_0x52719f(0x80b)],0xa);handleRegenerateQuestionInEditor(_0x2561a8);return;}const _0x4cb546=_0x5e52bd[_0x52719f(0x819)][_0x52719f(0xb12)]('.delete-question-editor-btn');if(_0x4cb546){const _0x41fd11=_0x4cb546['closest'](_0x52719f(0x9fd)),_0x3a18ce=parseInt(_0x41fd11[_0x52719f(0x4b5)][_0x52719f(0x80b)],0xa);handleDeleteQuestionInEditor(_0x3a18ce);return;}const _0x53aaa0=_0x5e52bd[_0x52719f(0x819)][_0x52719f(0xb12)](_0x52719f(0x6da));if(_0x53aaa0){handleAddQuestionInEditor();return;}});document[_0x31367b(0x695)](_0x31367b(0x7e6))['addEventListener'](_0x31367b(0xc9a),openQuizBankModal),document[_0x31367b(0x695)](_0x31367b(0x987))['addEventListener'](_0x31367b(0xc9a),()=>{const _0x48b31f=_0x31367b;document[_0x48b31f(0x695)](_0x48b31f(0x814))[_0x48b31f(0xd75)][_0x48b31f(0x8d6)]('hidden');}),document[_0x31367b(0x695)]('bank-quiz-search-input')[_0x31367b(0x59b)]('input',_0xaa916e=>renderQuizBankList(_0xaa916e['target']['value']));const _0x223460=document[_0x31367b(0x695)]('math-topics-checkbox-container');if(_0x223460){let _0x3ae6cc=null;_0x223460['addEventListener'](_0x31367b(0xc9a),_0x128374=>{const _0x5ede53=_0x31367b,_0x259fe3=_0x128374[_0x5ede53(0x819)],_0x274673=_0x259fe3[_0x5ede53(0xb12)](_0x5ede53(0xa53)),_0x17d20b=_0x259fe3[_0x5ede53(0xb12)](_0x5ede53(0x59d)),_0x28edb2=_0x259fe3[_0x5ede53(0xb12)](_0x5ede53(0x27f)),_0x79cc86=_0x259fe3[_0x5ede53(0xb12)](_0x5ede53(0x5d2));if(_0x17d20b){_0x128374[_0x5ede53(0xb8f)]();const _0x14c8af=_0x17d20b['dataset']['id'],_0x2e4093=_0x17d20b[_0x5ede53(0xb12)](_0x5ede53(0x2a6))['querySelector']('.topic-name-display')['textContent'];showConfirmation(_0x5ede53(0xa26)+_0x2e4093+'\x22?',()=>handleDeleteCustomTopic(_0x14c8af));}else{if(_0x274673){_0x128374[_0x5ede53(0xb8f)]();_0x3ae6cc&&toggleTopicEditMode(_0x3ae6cc,![]);const _0x105b9d=_0x274673[_0x5ede53(0xb12)]('[data-topic-container-id]');_0x3ae6cc=_0x105b9d,toggleTopicEditMode(_0x105b9d,!![]);}else{if(_0x28edb2){_0x128374['preventDefault']();const _0x5b0755=_0x28edb2[_0x5ede53(0x4b5)]['id'],_0x3ffc77=_0x28edb2[_0x5ede53(0xb12)](_0x5ede53(0x35b)),_0x8c67d3=_0x3ffc77['querySelector']('.topic-name-input')[_0x5ede53(0xbdb)];handleUpdateCustomTopic(_0x5b0755,_0x8c67d3),_0x3ae6cc=null;}else{if(_0x79cc86){_0x128374[_0x5ede53(0xb8f)]();const _0x4c9515=_0x79cc86[_0x5ede53(0xb12)](_0x5ede53(0x35b));toggleTopicEditMode(_0x4c9515,![]),_0x3ae6cc=null;}}}}}),document['getElementById']('close-lesson-plan-modal-btn')[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{const _0x6b3ca9=_0x31367b;document[_0x6b3ca9(0x695)](_0x6b3ca9(0x3b8))['classList'][_0x6b3ca9(0x8d6)](_0x6b3ca9(0x721));}),document['getElementById']('close-lesson-plan-modal-footer-btn')[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{const _0x58b43b=_0x31367b;document['getElementById'](_0x58b43b(0x3b8))[_0x58b43b(0xd75)][_0x58b43b(0x8d6)](_0x58b43b(0x721));}),document[_0x31367b(0x695)](_0x31367b(0x9a5))['addEventListener'](_0x31367b(0xc9a),handleExportLessonPDF);}document[_0x31367b(0x695)](_0x31367b(0xc4a))['addEventListener']('click',()=>{const _0x4356dd=_0x31367b;document[_0x4356dd(0x695)](_0x4356dd(0x219))[_0x4356dd(0xd75)][_0x4356dd(0x8d6)](_0x4356dd(0x721));}),document[_0x31367b(0x695)](_0x31367b(0x718))[_0x31367b(0x59b)](_0x31367b(0xc9a),()=>{const _0x419981=_0x31367b;document[_0x419981(0x695)](_0x419981(0x219))[_0x419981(0xd75)]['add'](_0x419981(0x721));}),setupComparisonModalTabs(),document[_0x31367b(0x96b)]['addEventListener'](_0x31367b(0xc9a),function(_0x56abfc){const _0x4a63f3=_0x31367b;if(_0x56abfc[_0x4a63f3(0x819)][_0x4a63f3(0xd75)][_0x4a63f3(0x9d9)](_0x4a63f3(0x1f2))){const _0x18679e=unescape(_0x56abfc[_0x4a63f3(0x819)][_0x4a63f3(0x4b5)][_0x4a63f3(0xd28)]);startSkillPractice(_0x18679e);}}),document[_0x31367b(0x695)](_0x31367b(0x56e))[_0x31367b(0x59b)](_0x31367b(0xc9a),_0x431301=>{const _0x4d51b6=_0x31367b,_0x3932ce=_0x431301[_0x4d51b6(0x819)][_0x4d51b6(0xb12)]('.delete-submission-btn');if(_0x3932ce){const _0x708587=_0x3932ce[_0x4d51b6(0x4b5)][_0x4d51b6(0x8be)];handleDeleteSubmission(_0x708587);}});}async function handleStartGroupMode(_0x33e988,_0xf87636=![]){const _0x43edaf=_0x315eb9,_0x258343=allQuizzes[_0x43edaf(0x559)](_0x5c1926=>_0x5c1926['id']===_0x33e988)||allQuizzesGlobal['find'](_0x4751b4=>_0x4751b4['id']===_0x33e988);if(!_0x258343){showMessage(_0x43edaf(0x930));return;}currentQuizData=getShuffledQuiz(_0x258343);const _0x5cd549=Math['floor'](0x3e8+Math[_0x43edaf(0x625)]()*0x2328)[_0x43edaf(0x2c8)]();try{const _0x884888=await addDoc(collection(db,_0x43edaf(0x2d5)+appId+'/public/data/teamQuizzes'),{'quizId':_0x258343['id'],'projectId':_0x258343[_0x43edaf(0x88e)],'status':'lobby','pin':_0x5cd549,'mode':'group','createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0xf87636});currentTeamQuizId=_0x884888['id'],showView(_0x43edaf(0x4e5)),renderAdminTeamQuizDashboard(_0x5cd549,_0x258343[_0x43edaf(0xd28)],_0x43edaf(0x6ed)),listenForTeamQuizUpdates();}catch(_0x19b328){console[_0x43edaf(0xb62)](_0x43edaf(0xa79),_0x19b328),showMessage(_0x43edaf(0xa3b));}}async function showStudentProgressView(){const _0x107624=_0x315eb9;studentInitialView[_0x107624(0xd75)][_0x107624(0x8d6)](_0x107624(0x721)),document[_0x107624(0x695)]('student-progress-view')[_0x107624(0xd75)][_0x107624(0x8cc)](_0x107624(0x721));const _0x5b5ff4=document[_0x107624(0x695)](_0x107624(0x304)),_0x3241cc=document['getElementById']('progress-student-select'),_0x3e6dac=document[_0x107624(0x695)](_0x107624(0xc1d));_0x3e6dac[_0x107624(0xb6b)]=_0x107624(0x5c0),_0x3241cc[_0x107624(0xb6b)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x3241cc[_0x107624(0x22a)]=!![],_0x5b5ff4[_0x107624(0xb6b)]=_0x107624(0x825);if(allProjects[_0x107624(0xca6)]===0x0){const _0x389618=collection(db,_0x107624(0x2d5)+appId+_0x107624(0x36a)),_0x446b41=await getDocs(_0x389618);allProjects=_0x446b41['docs'][_0x107624(0x947)](_0x56f391=>({'id':_0x56f391['id'],..._0x56f391[_0x107624(0x5ac)]()}));}const _0x5f3646=allProjects[_0x107624(0x9c1)](_0x1bd11d=>_0x1bd11d[_0x107624(0x516)]?.['showInStudentDashboard']!==![]);_0x5f3646[_0x107624(0x7a1)]((_0x2b84ea,_0x36968c)=>_0x2b84ea[_0x107624(0x36b)]['localeCompare'](_0x36968c[_0x107624(0x36b)],'th')),_0x5b5ff4[_0x107624(0xb6b)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+_0x5f3646[_0x107624(0x947)](_0xa2bebe=>'<option\x20value=\x22'+_0xa2bebe['id']+'\x22>'+_0xa2bebe[_0x107624(0x36b)]+_0x107624(0x866))['join'](''),_0x5b5ff4[_0x107624(0x55a)]=()=>{const _0x2a0b11=_0x107624,_0x28d49b=_0x3241cc['value'],_0x2c4f83=_0x5b5ff4[_0x2a0b11(0xbdb)];_0x3241cc[_0x2a0b11(0x22a)]=!![],_0x3241cc[_0x2a0b11(0xb6b)]=_0x2a0b11(0xc33),_0x3e6dac[_0x2a0b11(0xb6b)]=_0x2a0b11(0x24a);if(!_0x2c4f83)return;const _0x1a5773=allProjects[_0x2a0b11(0x559)](_0x5cf45d=>_0x5cf45d['id']===_0x2c4f83);if(!_0x1a5773||!_0x1a5773[_0x2a0b11(0xa0e)])return;const _0x2888a4=()=>{const _0x144f72=_0x2a0b11;_0x3241cc['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0x1a5773['students'][_0x144f72(0x947)](_0x2ac6e3=>_0x144f72(0xb7e)+_0x2ac6e3+'\x22>'+_0x2ac6e3+_0x144f72(0x866))[_0x144f72(0x6f5)](''),_0x3241cc['disabled']=![];const _0x3c39ec=Array[_0x144f72(0x768)](_0x3241cc[_0x144f72(0x6ce)])[_0x144f72(0x947)](_0x4af5f2=>_0x4af5f2[_0x144f72(0xbdb)]);if(_0x28d49b&&_0x3c39ec[_0x144f72(0xcac)](_0x28d49b))_0x3241cc[_0x144f72(0xbdb)]=_0x28d49b,_0x3241cc['dispatchEvent'](new Event(_0x144f72(0x40b)));else _0x1a5773[_0x144f72(0xa0e)][_0x144f72(0xca6)]===0x1&&(_0x3241cc['value']=_0x1a5773[_0x144f72(0xa0e)][0x0],_0x3241cc[_0x144f72(0xd3c)](new Event(_0x144f72(0x40b))));};if(_0x1a5773[_0x2a0b11(0x516)]?.[_0x2a0b11(0x78a)]){if(sessionStorage['getItem'](_0x2a0b11(0x4c6)+_0x2c4f83)===_0x2a0b11(0x5c5)){_0x2888a4();return;}const _0x2aca0f=document[_0x2a0b11(0x695)](_0x2a0b11(0xd74)),_0x37568d=document[_0x2a0b11(0x695)](_0x2a0b11(0x790)),_0x1381f0=document[_0x2a0b11(0x695)]('cancel-passcode-btn'),_0x509544=document[_0x2a0b11(0x695)](_0x2a0b11(0xd25)),_0x5a22aa=document[_0x2a0b11(0x695)](_0x2a0b11(0xa7d));document[_0x2a0b11(0x695)]('passcode-prompt-message')['textContent']=_0x2a0b11(0x767)+_0x1a5773[_0x2a0b11(0x36b)],_0x509544[_0x2a0b11(0xbdb)]='',_0x5a22aa[_0x2a0b11(0xd75)]['add'](_0x2a0b11(0x721)),_0x2aca0f[_0x2a0b11(0xd75)][_0x2a0b11(0x8cc)]('hidden');const _0x2d13a6=()=>{const _0x195358=_0x2a0b11,_0x27a8ee=_0x509544['value']['trim']();_0x27a8ee===_0x1a5773[_0x195358(0x516)][_0x195358(0x8d4)]?(sessionStorage[_0x195358(0xb58)](_0x195358(0x4c6)+_0x2c4f83,_0x195358(0x5c5)),_0x2aca0f[_0x195358(0xd75)][_0x195358(0x8d6)]('hidden'),_0x2888a4(),_0x37568d['removeEventListener'](_0x195358(0xc9a),_0x2d13a6)):_0x5a22aa[_0x195358(0xd75)]['remove'](_0x195358(0x721));};_0x37568d['onclick']=_0x2d13a6,_0x1381f0[_0x2a0b11(0x3cf)]=()=>{const _0xc3a3dc=_0x2a0b11;_0x2aca0f[_0xc3a3dc(0xd75)][_0xc3a3dc(0x8d6)](_0xc3a3dc(0x721)),_0x5b5ff4[_0xc3a3dc(0xbdb)]='',_0x37568d[_0xc3a3dc(0x538)]('click',_0x2d13a6);};}else _0x2888a4();},_0x3241cc['onchange']=()=>{const _0x33292e=_0x107624,_0x184384=_0x5b5ff4[_0x33292e(0xbdb)],_0x506393=_0x3241cc['value'];_0x184384&&_0x506393&&renderStudentProgressDashboard(_0x184384,_0x506393);};}async function confirmAndJoinSyncGame(){const _0x487df5=_0x315eb9,_0x5740a4=Array['from'](document[_0x487df5(0x4e3)](_0x487df5(0xb37)))['map'](_0x52deac=>_0x52deac[_0x487df5(0xbdb)]);if(_0x5740a4[_0x487df5(0xca6)]===0x0){showMessage(_0x487df5(0x452));return;}localTeamPlayers=_0x5740a4,localPlayerTurnIndex=0x0;const _0x3b8cfc=doc(db,'artifacts/'+appId+_0x487df5(0x2b5),currentLiveGameId);try{const _0x4e22aa={};_0x5740a4[_0x487df5(0x2d4)](_0x30a36a=>{const _0x21c768=_0x487df5;_0x4e22aa[_0x21c768(0xafb)+_0x30a36a]={'name':_0x30a36a,'score':0x0,'answered':![],'status':_0x21c768(0xb81)};}),await updateDoc(_0x3b8cfc,_0x4e22aa),document[_0x487df5(0x695)](_0x487df5(0x463))[_0x487df5(0xd75)]['add'](_0x487df5(0x721)),currentStudentName=_0x5740a4[0x0],listenForSyncGameUpdates();const _0x5a743d={'gameId':currentLiveGameId,'mode':_0x487df5(0x8e5),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x487df5(0xb58)](_0x487df5(0x5d4),JSON[_0x487df5(0xd46)](_0x5a743d)),currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x487df5(0x59b)](_0x487df5(0x7d7),handleFullscreenChange),document[_0x487df5(0x59b)](_0x487df5(0xcde),handleVisibilityChange),enterFullscreen(),window[_0x487df5(0x59b)](_0x487df5(0x2ab),resetDimTimer),window[_0x487df5(0x59b)]('mousedown',resetDimTimer),window[_0x487df5(0x59b)](_0x487df5(0x682),resetDimTimer),window[_0x487df5(0x59b)]('keydown',resetDimTimer),resetDimTimer());}catch(_0x5372af){console[_0x487df5(0xb62)](_0x487df5(0x26a),_0x5372af),showMessage(_0x487df5(0x46c));}}async function resumeActiveGameSession(){const _0x70e645=_0x315eb9,_0x43146e=sessionStorage['getItem'](_0x70e645(0x5d4));if(!_0x43146e)return;const _0x1b65d0=JSON['parse'](_0x43146e),{gameId:_0x4b6dad,mode:_0x463d2e,players:_0x1468aa,turnIndex:_0x1783f0}=_0x1b65d0;try{let _0xce5afe,_0x25739b;_0x463d2e==='sync'?_0xce5afe=doc(db,_0x70e645(0x2d5)+appId+_0x70e645(0x2b5),_0x4b6dad):_0xce5afe=doc(db,_0x70e645(0x2d5)+appId+_0x70e645(0xa92),_0x4b6dad);_0x25739b=await getDoc(_0xce5afe);if(!_0x25739b[_0x70e645(0xb5a)]()||_0x25739b[_0x70e645(0x5ac)]()[_0x70e645(0xbfe)]==='finished'||_0x25739b[_0x70e645(0x5ac)]()['status']===_0x70e645(0xa86)){sessionStorage[_0x70e645(0xb41)](_0x70e645(0x5d4));return;}console[_0x70e645(0x95e)](_0x70e645(0x74d)+_0x463d2e+_0x70e645(0x243)+_0x4b6dad+')'),localTeamPlayers=_0x1468aa,localPlayerTurnIndex=_0x1783f0;if(_0x463d2e===_0x70e645(0x8e5))currentLiveGameId=_0x4b6dad,currentStudentName=_0x1468aa[0x0],showView(_0x70e645(0x4e5)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x4b6dad;const _0x5035af=_0x25739b[_0x70e645(0x5ac)](),_0x44e1f3=doc(db,_0x70e645(0x2d5)+appId+'/public/data/quizzes',_0x5035af['quizId']),_0x52afdc=await getDoc(_0x44e1f3);_0x52afdc[_0x70e645(0xb5a)]()&&(currentQuizData=getShuffledQuiz({'id':_0x52afdc['id'],..._0x52afdc['data']()}),showView('student'),studentInitialView[_0x70e645(0xd75)]['add'](_0x70e645(0x721)),renderTeamQuizQuestion());}}catch(_0x2065e9){console['error']('Failed\x20to\x20resume\x20game\x20session:',_0x2065e9),sessionStorage[_0x70e645(0xb41)](_0x70e645(0x5d4));}}function activateFileInputAreaWithLoadedFile(){const _0x5f5d8e=_0x315eb9,_0x4111a2=document[_0x5f5d8e(0x695)](_0x5f5d8e(0x539)),_0x1eb0da=document[_0x5f5d8e(0x695)](_0x5f5d8e(0xcb8)),_0x2d93d5=document[_0x5f5d8e(0x695)](_0x5f5d8e(0x520));selectedFile?_0x2d93d5[_0x5f5d8e(0x364)]?(_0x4111a2[_0x5f5d8e(0x22a)]=!![],analyzeFileForTopics(selectedFile)):(_0x4111a2[_0x5f5d8e(0x22a)]=![],_0x1eb0da[_0x5f5d8e(0xd75)][_0x5f5d8e(0x8d6)]('hidden')):(_0x4111a2[_0x5f5d8e(0x22a)]=!![],_0x1eb0da[_0x5f5d8e(0xd75)][_0x5f5d8e(0x8d6)](_0x5f5d8e(0x721)));}async function handleKickPlayerSync(_0xc29dfc){const _0x53d93c=_0x315eb9;if(!currentLiveGameId||!_0xc29dfc)return;const _0x48ee0c=doc(db,_0x53d93c(0x2d5)+appId+_0x53d93c(0x2b5),currentLiveGameId),_0x3435a6={};_0x3435a6[_0x53d93c(0xafb)+_0xc29dfc+'.status']=_0x53d93c(0x2f2);try{await updateDoc(_0x48ee0c,_0x3435a6);}catch(_0x1a85ba){console[_0x53d93c(0xb62)](_0x53d93c(0x5b2)+_0xc29dfc+_0x53d93c(0xa98),_0x1a85ba),showMessage(_0x53d93c(0xa16));}}async function renderStudentProgressDashboard(_0x25dfc0,_0x51343a){const _0x40da31=_0x315eb9,_0x9a232f=document[_0x40da31(0x695)](_0x40da31(0xc1d));_0x9a232f[_0x40da31(0xb6b)]=_0x40da31(0xb4f);try{const _0x12736b=collection(db,'artifacts/'+appId+_0x40da31(0xc5d)),_0x585727=query(_0x12736b,where(_0x40da31(0x88e),'==',_0x25dfc0)),_0x1fb878=await getDocs(_0x585727),_0x26577d=_0x1fb878[_0x40da31(0x80f)][_0x40da31(0x947)](_0x4c0617=>({'id':_0x4c0617['id'],..._0x4c0617[_0x40da31(0x5ac)]()})),_0x44c6ec=_0x26577d[_0x40da31(0x947)](_0x5788fc=>getDoc(doc(db,_0x40da31(0x2d5)+appId+_0x40da31(0xb5c)+_0x5788fc['id']+'/submissions',_0x51343a))),_0x1c96d0=await Promise['all'](_0x44c6ec),_0x9a7bb8=_0x1c96d0[_0x40da31(0x9c1)](_0x1309c1=>_0x1309c1[_0x40da31(0xb5a)]())[_0x40da31(0x947)](_0x552d9b=>({'quizId':_0x552d9b[_0x40da31(0x988)][_0x40da31(0x982)][_0x40da31(0x982)]['id'],..._0x552d9b[_0x40da31(0x5ac)]()}));if(_0x9a7bb8['length']===0x0){_0x9a232f[_0x40da31(0xb6b)]=_0x40da31(0xc16);return;}let _0x32cecc=_0x40da31(0x671);_0x9a7bb8[_0x40da31(0x2d4)](_0xec3767=>{const _0x3166de=_0x40da31,_0x5c2c58=_0x26577d[_0x3166de(0x559)](_0x424dca=>_0x424dca['id']===_0xec3767[_0x3166de(0xc24)]),_0x45bee4=_0x5c2c58[_0x3166de(0x516)]?.[_0x3166de(0xd1a)]||_0x3166de(0x40c),_0x422921=_0x5c2c58[_0x3166de(0x516)]?.['passingScore']??0x0,_0x372845=_0xec3767['bestScore']>=_0x422921;let _0x87da2='',_0x1d8045=_0x3166de(0x3ac);switch(_0x45bee4){case _0x3166de(0x40c):case'show_results_only':_0x1d8045=_0x372845?'bg-green-50':'bg-red-50',_0x87da2=_0x3166de(0xb09)+(_0x372845?'text-green-700':_0x3166de(0xb6d))+'\x22>'+_0xec3767[_0x3166de(0xa49)]+_0x3166de(0xcd4)+_0xec3767['totalQuestions']+_0x3166de(0xad2)+(_0x372845?_0x3166de(0x38b):'bg-red-200\x20text-red-800')+'\x22>'+(_0x372845?_0x3166de(0x69d):'ไม่ผ่าน')+_0x3166de(0xb31);break;case _0x3166de(0x420):_0x1d8045=_0x372845?_0x3166de(0xbcc):_0x3166de(0xc23),_0x87da2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x372845?_0x3166de(0x38b):_0x3166de(0x5b9))+'\x22>'+(_0x372845?'ผ่าน':_0x3166de(0x8bf))+_0x3166de(0xb31);break;case _0x3166de(0x6c3):_0x1d8045=_0x3166de(0xd62),_0x87da2=_0x3166de(0xb68);break;}_0x32cecc+=_0x3166de(0x8cb)+_0x1d8045+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+_0x5c2c58[_0x3166de(0xd28)]+_0x3166de(0x72a)+_0xec3767[_0x3166de(0x5e2)][_0x3166de(0xca6)]+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0xec3767['latestSubmittedAt'])['toLocaleDateString'](_0x3166de(0x6f4))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x87da2+_0x3166de(0xa2c);}),_0x32cecc+=_0x40da31(0x4cd),_0x9a232f[_0x40da31(0xb6b)]=_0x32cecc;}catch(_0x206899){console[_0x40da31(0xb62)]('Error\x20rendering\x20student\x20progress:',_0x206899),_0x9a232f[_0x40da31(0xb6b)]=_0x40da31(0x60d);}}function renderQuizBankListForMultiSelect(_0x40762f=''){const _0x2a7479=_0x315eb9,_0x1722b7=document['getElementById'](_0x2a7479(0x86a)),_0x34956c=_0x40762f[_0x2a7479(0x766)]()[_0x2a7479(0xbcf)](),_0xc1c7ff=allQuizzesGlobal[_0x2a7479(0x947)](_0x48d60c=>({..._0x48d60c,'projectName':allProjects['find'](_0x44b6d0=>_0x44b6d0['id']===_0x48d60c['projectId'])?.[_0x2a7479(0x36b)]||_0x2a7479(0x6d7)}))['filter'](_0xafb3ad=>(_0xafb3ad[_0x2a7479(0xd28)]||'')[_0x2a7479(0x766)]()['includes'](_0x34956c)||(_0xafb3ad[_0x2a7479(0x36b)]||'')[_0x2a7479(0x766)]()[_0x2a7479(0xcac)](_0x34956c)||_0xafb3ad['id'][_0x2a7479(0x2c8)]()['includes'](_0x34956c));_0x1722b7[_0x2a7479(0xb6b)]=_0xc1c7ff[_0x2a7479(0xca6)]?_0xc1c7ff[_0x2a7479(0x947)](_0x54fdde=>_0x2a7479(0xb67)+_0x54fdde['id']+_0x2a7479(0x9e2)+(_0x54fdde[_0x2a7479(0xd28)]||_0x2a7479(0xb57))+_0x2a7479(0x64b)+_0x54fdde[_0x2a7479(0x36b)]+_0x2a7479(0x90c)+_0x54fdde['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0x2a7479(0x6f5)](''):_0x2a7479(0xd6f),_0x1722b7[_0x2a7479(0x55a)]=()=>{const _0x599108=_0x2a7479,_0x978b56=document['querySelector'](_0x599108(0x855));document[_0x599108(0x695)](_0x599108(0x581))[_0x599108(0x22a)]=!_0x978b56;};}function setupStudentProgressListeners(){const _0x20f7fa=_0x315eb9;document[_0x20f7fa(0x695)](_0x20f7fa(0x968))[_0x20f7fa(0x59b)](_0x20f7fa(0xc9a),showStudentProgressView),document[_0x20f7fa(0x695)](_0x20f7fa(0x8d3))['addEventListener']('click',()=>{const _0x26a51f=_0x20f7fa;document[_0x26a51f(0x695)](_0x26a51f(0x78f))['classList'][_0x26a51f(0x8d6)](_0x26a51f(0x721)),document[_0x26a51f(0x695)](_0x26a51f(0x546))[_0x26a51f(0xd75)][_0x26a51f(0x8cc)](_0x26a51f(0x721));});}async function startSkillPractice(_0x1bc0f9){const _0x50e277=_0x315eb9;studentResultArea[_0x50e277(0xd75)][_0x50e277(0x8d6)](_0x50e277(0x721)),studentQuizArea['innerHTML']=_0x50e277(0xb26),studentQuizArea['classList'][_0x50e277(0x8cc)](_0x50e277(0x721));try{const _0x3e41c7=await getStandardizedTopic(_0x1bc0f9);console[_0x50e277(0x95e)](_0x50e277(0x57e)+_0x1bc0f9+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x3e41c7+'\x22'),studentQuizArea['querySelector']('p')['textContent']=_0x50e277(0x851)+_0x3e41c7+'\x22...';const _0xd462f5=collection(db,_0x50e277(0x2d5)+appId+_0x50e277(0x70f)),_0x1c1e47=query(_0xd462f5,where(_0x50e277(0xd28),'==',_0x3e41c7)),_0x4faf3b=await getDocs(_0x1c1e47);if(_0x4faf3b[_0x50e277(0x80f)][_0x50e277(0xca6)]>=0x3){console[_0x50e277(0x95e)](_0x50e277(0x603)+_0x4faf3b[_0x50e277(0x80f)][_0x50e277(0xca6)]+'\x20ข้อในคลังสำหรับหัวข้อ\x20\x22'+_0x3e41c7+_0x50e277(0x5bc));let _0x2e420b=_0x4faf3b[_0x50e277(0x80f)][_0x50e277(0x947)](_0x4b33e8=>_0x4b33e8[_0x50e277(0x5ac)]());shuffleArray(_0x2e420b);const _0x3b3a67={'topic':_0x3e41c7,'questions':_0x2e420b[_0x50e277(0x7c9)](0x0,0x3)};displaySkillPracticeDrill(_0x3b3a67);}else{console[_0x50e277(0x95e)](_0x50e277(0x351)+_0x3e41c7+_0x50e277(0xa2a));const _0x402c0f=await generatePracticeQuestions(_0x3e41c7);await saveDrillToPracticeBank(_0x402c0f,_0x3e41c7),displaySkillPracticeDrill(_0x402c0f);}}catch(_0x3f87f3){console['error'](_0x50e277(0xa87),_0x3f87f3),showMessage(_0x50e277(0x479)),studentQuizArea[_0x50e277(0xd75)][_0x50e277(0x8d6)]('hidden'),studentResultArea[_0x50e277(0xd75)][_0x50e277(0x8cc)](_0x50e277(0x721));}}async function saveDrillToPracticeBank(_0x1dd833,_0x2b23ce){const _0x33730c=_0x315eb9,_0x403405=collection(db,_0x33730c(0x2d5)+appId+_0x33730c(0x70f)),_0x56b2b0=writeBatch(db);_0x1dd833[_0x33730c(0xab9)][_0x33730c(0x2d4)](_0x208da2=>{const _0x381319=_0x33730c,_0x44d3cc=doc(_0x403405);_0x56b2b0[_0x381319(0x7b0)](_0x44d3cc,{'topic':_0x2b23ce,'questionText':_0x208da2[_0x381319(0x620)],'options':_0x208da2[_0x381319(0x6ce)],'correctAnswerIndex':_0x208da2[_0x381319(0x794)],'explanation':_0x208da2[_0x381319(0x94e)],'createdAt':serverTimestamp()});});try{await _0x56b2b0[_0x33730c(0xba4)](),console[_0x33730c(0x95e)](_0x33730c(0x637)+_0x1dd833[_0x33730c(0xab9)][_0x33730c(0xca6)]+'\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ');}catch(_0x1365a9){console['error'](_0x33730c(0x321),_0x1365a9);}}async function getStandardizedTopic(_0xe13cc){const _0xdb1481=_0x315eb9,_0x33260d=_0xdb1481(0x32e)+_0xe13cc+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x1d9761={'type':'OBJECT','properties':{'standardTopic':{'type':'STRING'}},'required':[_0xdb1481(0x5a5)]};try{const _0x4c860b=await callAnalysisApi(_0x33260d,_0x1d9761);return _0x4c860b[_0xdb1481(0x5a5)];}catch(_0x287abf){return console[_0xdb1481(0xb62)](_0xdb1481(0x5fc),_0x287abf),_0xe13cc;}}async function handleGenerateEasyVersionQuiz(_0xe002d6){const _0x1b178a=_0x315eb9,_0xbae829=document[_0x1b178a(0x695)](_0x1b178a(0x958)),_0x2e769d=document[_0x1b178a(0x695)](_0x1b178a(0x617));_0x2e769d[_0x1b178a(0xd75)][_0x1b178a(0x8d6)]('hidden');const _0x5a148c=_0x1b178a(0x940);_0xbae829[_0x1b178a(0x8d5)](_0x1b178a(0x43e),_0x5a148c);try{const _0x3fa3b3=allQuizzes[_0x1b178a(0x559)](_0x217c0c=>_0x217c0c['id']===_0xe002d6);if(!_0x3fa3b3)throw new Error(_0x1b178a(0x371));const _0x2875fe=_0x1b178a(0xa5c)+JSON[_0x1b178a(0xd46)](_0x3fa3b3[_0x1b178a(0xab9)])+_0x1b178a(0xb92),_0x34fd95={'type':'OBJECT','properties':{'questionText':{'type':_0x1b178a(0x277)},'questionType':{'type':_0x1b178a(0x277)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x1b178a(0x277)},'imageCode':{'type':'STRING'}},'required':[_0x1b178a(0x620),'questionType',_0x1b178a(0x94e)]},_0x3e924c={'type':_0x1b178a(0xac9),'properties':{'questions':{'type':_0x1b178a(0x8fe),'items':_0x34fd95}},'required':['questions']},_0x146b87=await callAnalysisApi(_0x2875fe,_0x3e924c);_0x146b87&&_0x146b87[_0x1b178a(0xab9)]&&_0x146b87[_0x1b178a(0xab9)][_0x1b178a(0x2d4)](_0x47e60e=>{const _0x5bf924=_0x1b178a;if(_0x47e60e[_0x5bf924(0xd9d)](_0x5bf924(0xaf3))){const _0x5c1ba6=String(_0x47e60e['imageCode'])[_0x5bf924(0xbcf)]();(_0x5c1ba6===''||_0x5c1ba6[_0x5bf924(0x766)]()===_0x5bf924(0xa61)||!_0x5c1ba6['startsWith'](_0x5bf924(0xb7a)))&&delete _0x47e60e[_0x5bf924(0xaf3)];}});if(!_0x146b87||!_0x146b87[_0x1b178a(0xab9)]||_0x146b87['questions']['length']===0x0)throw new Error(_0x1b178a(0xb10));const _0x58c612=_0x146b87[_0x1b178a(0xab9)]['map']((_0x3a85b5,_0x479ccd)=>({..._0x3a85b5,'id':'q_'+Date[_0x1b178a(0x320)]()+'_'+_0x479ccd})),_0x5b3e7f={'projectId':_0x3fa3b3['projectId'],'quizType':_0x3fa3b3['quizType'],'settings':_0x3fa3b3[_0x1b178a(0x516)],'createdBy':_0x3fa3b3[_0x1b178a(0xbb4)],'status':_0x1b178a(0xb81),'topic':'(ฉบับง่าย)\x20'+_0x3fa3b3[_0x1b178a(0xd28)],'questions':_0x58c612,'createdAt':new Date()[_0x1b178a(0x9bd)](),'quizMode':'standard','pairedQuizId':null};let _0x4bc4f3;while(!![]){_0x4bc4f3=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x1b178a(0x2c8)]();const _0x600634=await getDoc(doc(db,_0x1b178a(0x2d5)+appId+'/public/data/quizzes',_0x4bc4f3));if(!_0x600634[_0x1b178a(0xb5a)]())break;}await setDoc(doc(db,_0x1b178a(0x2d5)+appId+_0x1b178a(0xc5d),_0x4bc4f3),_0x5b3e7f),showMessage(_0x1b178a(0x4af));}catch(_0x334e45){console['error'](_0x1b178a(0x5f5),_0x334e45),showMessage(_0x1b178a(0x99a)+_0x334e45[_0x1b178a(0x9eb)]);}finally{const _0x606fff=document[_0x1b178a(0x695)](_0x1b178a(0x376));_0x606fff&&_0x606fff[_0x1b178a(0x8cc)](),_0x2e769d[_0x1b178a(0xd75)]['remove'](_0x1b178a(0x721));}}async function generatePracticeQuestions(_0x5d61a2){const _0x24c100=_0x315eb9,_0x4ba78d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22'+_0x5d61a2+_0x24c100(0x35f)+simpleMathPrompt+_0x24c100(0x827),_0x97fefc={'type':_0x24c100(0xac9),'properties':{'questionText':{'type':_0x24c100(0x277)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x24c100(0x97c)},'explanation':{'type':_0x24c100(0x277)}},'required':[_0x24c100(0x620),_0x24c100(0x6ce),_0x24c100(0x794),_0x24c100(0x94e)]},_0xb75742={'type':'OBJECT','properties':{'topic':{'type':_0x24c100(0x277)},'questions':{'type':_0x24c100(0x8fe),'items':_0x97fefc}},'required':[_0x24c100(0xd28),_0x24c100(0xab9)]};return await callAnalysisApi(_0x4ba78d,_0xb75742);}function displayLessonPlan(_0x5ca5d5,_0x524d1f){const _0x5a8b73=_0x315eb9,_0x158878=_0x5a8b73(0x905)+_0x524d1f['topic']+_0x5a8b73(0x94c)+_0x5ca5d5[_0x5a8b73(0x890)][_0x5a8b73(0x947)](_0x1e0cd6=>_0x5a8b73(0x606)+_0x1e0cd6+_0x5a8b73(0x8bc))[_0x5a8b73(0x6f5)]('')+_0x5a8b73(0xb59)+_0x5ca5d5[_0x5a8b73(0x286)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x5ca5d5[_0x5a8b73(0xd5c)][_0x5a8b73(0x947)](_0x266683=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x266683[_0x5a8b73(0x3ab)]+_0x5a8b73(0x436)+_0x266683['solution']+_0x5a8b73(0x5de))[_0x5a8b73(0x6f5)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x5a8b73(0x695)](_0x5a8b73(0x3d5))['textContent']=_0x5a8b73(0x27b)+_0x524d1f[_0x5a8b73(0xd28)],document['getElementById']('lesson-plan-content')[_0x5a8b73(0xb6b)]=_0x158878,document[_0x5a8b73(0x695)]('lesson-plan-modal')['classList'][_0x5a8b73(0x8cc)]('hidden');if(window[_0x5a8b73(0x3af)])MathJax[_0x5a8b73(0xcaf)]();}function displaySkillPracticeDrill(_0x4430cc){const _0x144dca=_0x315eb9;let _0x5c7a72=0x0;const _0x51e4c5=_0x4430cc[_0x144dca(0xab9)],_0x388181=()=>{const _0x4e0a0b=_0x144dca,_0x38f03d=_0x51e4c5[_0x5c7a72],_0x157d39=_0x4e0a0b(0x395)+(_0x5c7a72+0x1)+_0x4e0a0b(0xcd4)+_0x51e4c5[_0x4e0a0b(0xca6)]+_0x4e0a0b(0xd3f)+_0x38f03d[_0x4e0a0b(0x620)]+_0x4e0a0b(0x297)+_0x38f03d[_0x4e0a0b(0x6ce)][_0x4e0a0b(0x947)]((_0x10e05b,_0x218b76)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_'+_0x218b76+_0x4e0a0b(0x448)+_0x218b76+_0x4e0a0b(0x84a)+_0x218b76+'\x22>'+_0x10e05b+_0x4e0a0b(0x5a2))[_0x4e0a0b(0x6f5)]('')+_0x4e0a0b(0x1f3);studentQuizArea[_0x4e0a0b(0xb6b)]=_0x157d39;if(window[_0x4e0a0b(0x3af)])MathJax['typesetPromise']([studentQuizArea]);document['getElementById']('hint-btn')['addEventListener'](_0x4e0a0b(0xc9a),async()=>{const _0xd5c0f3=_0x4e0a0b,_0x47f5cf=await getHintForQuestion(_0x38f03d[_0xd5c0f3(0x620)]);showMessage(_0x47f5cf);}),document['getElementById'](_0x4e0a0b(0x650))[_0x4e0a0b(0x59b)](_0x4e0a0b(0xc9a),()=>{const _0x49b990=_0x4e0a0b,_0x58eba1=document['querySelector'](_0x49b990(0x89b));if(!_0x58eba1){showMessage(_0x49b990(0xb98));return;}const _0x504e27=document[_0x49b990(0x695)]('drill-feedback'),_0x31b30d=parseInt(_0x58eba1[_0x49b990(0xbdb)])===_0x38f03d['correctAnswerIndex'];_0x31b30d?(_0x504e27[_0x49b990(0xb55)]=_0x49b990(0x332),_0x504e27[_0x49b990(0xb6b)]='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x38f03d[_0x49b990(0x94e)]):(_0x504e27[_0x49b990(0xb55)]=_0x49b990(0x418),_0x504e27[_0x49b990(0xb6b)]=_0x49b990(0xd58)+_0x38f03d[_0x49b990(0x94e)]);_0x504e27['classList'][_0x49b990(0x8cc)](_0x49b990(0x721));if(window[_0x49b990(0x3af)])MathJax['typesetPromise']([_0x504e27]);document['getElementById'](_0x49b990(0x650))[_0x49b990(0xd75)][_0x49b990(0x8d6)]('hidden'),document[_0x49b990(0x695)](_0x49b990(0x2a8))[_0x49b990(0xd75)]['add'](_0x49b990(0x721)),document[_0x49b990(0x695)](_0x49b990(0x79c))[_0x49b990(0xd75)][_0x49b990(0x8cc)](_0x49b990(0x721));}),document[_0x4e0a0b(0x695)](_0x4e0a0b(0x79c))[_0x4e0a0b(0x59b)]('click',()=>{const _0x35bb54=_0x4e0a0b;_0x5c7a72++,_0x5c7a72<_0x51e4c5[_0x35bb54(0xca6)]?_0x388181():(studentQuizArea[_0x35bb54(0xb6b)]=_0x35bb54(0xd72),document[_0x35bb54(0x695)](_0x35bb54(0x8ea))[_0x35bb54(0x59b)](_0x35bb54(0xc9a),()=>{const _0x790dd4=_0x35bb54;studentQuizArea[_0x790dd4(0xd75)][_0x790dd4(0x8d6)](_0x790dd4(0x721)),studentResultArea['classList'][_0x790dd4(0x8cc)](_0x790dd4(0x721));}));});};_0x388181();}async function getHintForQuestion(_0x1069f6){const _0x1eb393=_0x315eb9,_0x137571=_0x1eb393(0x7ab)+_0x1069f6+_0x1eb393(0x89e),_0x5a95b7={'type':'OBJECT','properties':{'hint':{'type':_0x1eb393(0x277)}},'required':[_0x1eb393(0x21d)]};try{const _0x23046c=await callAnalysisApi(_0x137571,_0x5a95b7);return _0x23046c[_0x1eb393(0x21d)];}catch(_0x247be1){return console[_0x1eb393(0xb62)](_0x1eb393(0xc8b),_0x247be1),_0x1eb393(0x65e);}}async function extractTextFromPdf(_0x5f1133){const _0x4a1842=_0x315eb9;pdfjsLib[_0x4a1842(0xab7)]['workerSrc']=_0x4a1842(0x535);const _0x5b66a2=await _0x5f1133[_0x4a1842(0x83a)](),_0x1396ca=await pdfjsLib[_0x4a1842(0xcf9)](_0x5b66a2)[_0x4a1842(0x27d)],_0x122b09=_0x1396ca['numPages'];let _0x413b7a='';for(let _0x4295be=0x1;_0x4295be<=_0x122b09;_0x4295be++){const _0x48179b=await _0x1396ca[_0x4a1842(0x3c9)](_0x4295be),_0x182780=await _0x48179b[_0x4a1842(0xd8f)](),_0x410ab6=_0x182780[_0x4a1842(0x2c2)][_0x4a1842(0x947)](_0x114385=>_0x114385[_0x4a1842(0x655)])[_0x4a1842(0x6f5)]('\x20');_0x413b7a+=_0x410ab6+'\x0a\x0a';}return _0x413b7a;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x132abb){const _0x8db732=_0x315eb9,_0x24f585=document[_0x8db732(0x695)]('blueprint-options-container'),_0x33b777=document[_0x8db732(0x695)](_0x8db732(0xd4c)),_0x26b6e2=document[_0x8db732(0x695)](_0x8db732(0x34a));_0x24f585[_0x8db732(0xd75)][_0x8db732(0x8cc)](_0x8db732(0x721)),_0x33b777['innerHTML']=_0x8db732(0x861),_0x26b6e2[_0x8db732(0xd75)][_0x8db732(0x8d6)](_0x8db732(0x721));try{const _0x447f0b=_0x8db732(0x224)+_0x132abb+_0x8db732(0xca1),_0x3b717c={'type':_0x8db732(0xac9),'properties':{'gradeLevel':{'type':_0x8db732(0x277)},'curriculum':{'type':_0x8db732(0x8fe),'items':{'type':'OBJECT','properties':{'sara':{'type':_0x8db732(0x277)},'mainTopics':{'type':_0x8db732(0x8fe),'items':{'type':'OBJECT','properties':{'topicName':{'type':_0x8db732(0x277)},'subTopics':{'type':_0x8db732(0x8fe),'items':{'type':_0x8db732(0x277)}}},'required':['topicName',_0x8db732(0x338)]}}},'required':[_0x8db732(0x31a),_0x8db732(0xa3f)]}}},'required':['gradeLevel',_0x8db732(0x2a0)]},_0xf79d3=await callAnalysisApi(_0x447f0b,_0x3b717c);if(_0xf79d3&&_0xf79d3[_0x8db732(0x2a0)])extractedBlueprintData=_0xf79d3,renderBlueprintTopics(_0xf79d3),_0x26b6e2[_0x8db732(0xd75)][_0x8db732(0x8cc)]('hidden');else throw new Error('AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้');}catch(_0x5089a6){console['error']('Error\x20analyzing\x20blueprint\x20topics:',_0x5089a6),_0x33b777[_0x8db732(0xb6b)]=_0x8db732(0x4d4);}}function renderBlueprintTopics(_0x5e8bb4){const _0x556795=_0x315eb9,_0x572d00=document['getElementById']('blueprint-topics-list'),_0x1a2ec9=_0x5e8bb4[_0x556795(0xd89)],_0x583219=_0x556795(0x961)+_0x1a2ec9+'</h3>';let _0x3c9373='';_0x5e8bb4['curriculum']['forEach'](_0x30a6b9=>{const _0xf1170b=_0x556795;_0x3c9373+=_0xf1170b(0xd6d)+_0x30a6b9[_0xf1170b(0x31a)]+_0xf1170b(0x62c),_0x30a6b9[_0xf1170b(0xa3f)]['forEach'](_0x2fe1e4=>{const _0x95abef=_0xf1170b;_0x3c9373+=_0x95abef(0xd7b)+_0x2fe1e4['topicName']+_0x95abef(0x92f),_0x2fe1e4[_0x95abef(0x338)][_0x95abef(0x2d4)](_0x4ba4b0=>{const _0x5a2a64=_0x95abef;_0x3c9373+='\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27'+_0x4ba4b0['replace'](/'/g,'\x5c\x27')+'\x27,\x20\x27'+_0x1a2ec9[_0x5a2a64(0x963)](/'/g,'\x5c\x27')+_0x5a2a64(0x7e9)+_0x4ba4b0+_0x5a2a64(0x7d9)+_0x4ba4b0['replace'](/'/g,'\x5c\x27')+_0x5a2a64(0x611);}),_0x3c9373+=_0x95abef(0x309);}),_0x3c9373+='</div>';}),_0x572d00[_0x556795(0xb6b)]=_0x583219+_0x3c9373;}async function handleGenerateTeachingContent(_0x11e0c6){const _0x1179e3=_0x315eb9,_0x769c37=document[_0x1179e3(0x695)](_0x1179e3(0x3b8)),_0x177577=document[_0x1179e3(0x695)]('lesson-plan-content');document[_0x1179e3(0x695)](_0x1179e3(0x3d5))['textContent']=_0x1179e3(0xa69)+_0x11e0c6,_0x177577[_0x1179e3(0xb6b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x769c37[_0x1179e3(0xd75)][_0x1179e3(0x8cc)](_0x1179e3(0x721));try{const _0x4cedab=_0x1179e3(0xa7c)+_0x11e0c6+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x5c628d={'type':_0x1179e3(0xac9),'properties':{'keyConcepts':{'type':_0x1179e3(0x8fe),'items':{'type':_0x1179e3(0x277)}},'commonMistakes':{'type':'ARRAY','items':{'type':_0x1179e3(0x277)}},'stepByStepExamples':{'type':_0x1179e3(0x8fe),'items':{'type':_0x1179e3(0xac9),'properties':{'question':{'type':_0x1179e3(0x277)},'solution':{'type':_0x1179e3(0x277)}},'required':['question',_0x1179e3(0x33f)]}},'teacherTips':{'type':'ARRAY','items':{'type':_0x1179e3(0x277)}}},'required':['keyConcepts',_0x1179e3(0x531),_0x1179e3(0x621),_0x1179e3(0x3c6)]},_0x5ac3b1=await callAnalysisApi(_0x4cedab,_0x5c628d);displayTeachingContent(_0x5ac3b1,_0x11e0c6);}catch(_0x475d32){console[_0x1179e3(0xb62)](_0x1179e3(0x608),_0x475d32),_0x177577[_0x1179e3(0xb6b)]=_0x1179e3(0x7e2)+_0x475d32[_0x1179e3(0x9eb)]+'</p>';}}function displayTeachingContent(_0xf0856b,_0x349f5f){const _0x233fe8=_0x315eb9,_0x1c82ea=document['getElementById']('lesson-plan-content');document['getElementById'](_0x233fe8(0x3d5))['textContent']=_0x233fe8(0xaa6)+_0x349f5f;const _0x4c49a1=_0x233fe8(0x7ac)+_0xf0856b['keyConcepts'][_0x233fe8(0x947)](_0x1b1682=>_0x233fe8(0x606)+_0x1b1682+'</li>')[_0x233fe8(0x6f5)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0xf0856b[_0x233fe8(0x531)][_0x233fe8(0x947)](_0x1c665e=>_0x233fe8(0x606)+_0x1c665e+_0x233fe8(0x8bc))[_0x233fe8(0x6f5)]('')+_0x233fe8(0x7cc)+_0xf0856b[_0x233fe8(0x621)]['map'](_0x566113=>_0x233fe8(0x97f)+_0x566113[_0x233fe8(0x3ab)]+_0x233fe8(0x929)+_0x566113[_0x233fe8(0x33f)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x233fe8(0x6f5)]('')+_0x233fe8(0x39f)+_0xf0856b[_0x233fe8(0x3c6)][_0x233fe8(0x947)](_0x30825d=>_0x233fe8(0x606)+_0x30825d+_0x233fe8(0x8bc))[_0x233fe8(0x6f5)]('')+_0x233fe8(0x31d);_0x1c82ea[_0x233fe8(0xb6b)]=_0x4c49a1;if(window[_0x233fe8(0x3af)])MathJax['typesetPromise']([_0x1c82ea]);}async function generateQuizForSingleTopic(_0x4d6655){const _0x74f424=_0x315eb9;console[_0x74f424(0x95e)]('กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22'+_0x4d6655+'\x22');const _0x246e3f=document['getElementById']('reference-pdf-upload'),_0xdb5112=_0x246e3f[_0x74f424(0x3b7)]['length']>0x0?_0x246e3f[_0x74f424(0x3b7)][0x0]:null;let _0x352b5f=null;if(_0xdb5112)try{const _0x2fb697=new FileReader();_0x2fb697[_0x74f424(0xa05)](_0xdb5112);const _0x51a233=await new Promise((_0x3e9003,_0x1396e3)=>{const _0x14607b=_0x74f424;_0x2fb697[_0x14607b(0x83e)]=()=>_0x3e9003(_0x2fb697[_0x14607b(0xa55)]['split'](',')[0x1]),_0x2fb697['onerror']=_0x4cb6cd=>_0x1396e3(_0x4cb6cd);});_0x352b5f=[{'inlineData':{'mimeType':_0xdb5112['type'],'data':_0x51a233}}];}catch(_0x1cfe00){console[_0x74f424(0xb62)](_0x74f424(0xd55),_0x1cfe00),showMessage(_0x74f424(0x9f7));return;}generateQuiz(_0x4d6655,null,null,_0x352b5f,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x53692f=null){const _0x2cb694=_0x315eb9,_0x5d8587=document[_0x2cb694(0x695)](_0x2cb694(0x2da)),_0x391551=document['getElementById'](_0x2cb694(0x2ad));let _0x47bb9c,_0x107064=[];if(_0x53692f)_0x47bb9c=_0x53692f,_0x107064=_0x47bb9c[_0x2cb694(0x7c9)](0x2);else{const _0x496715=document[_0x2cb694(0x695)](_0x2cb694(0x515)),_0x475460=document[_0x2cb694(0x695)](_0x2cb694(0x369)),_0x125691=_0x496715[_0x2cb694(0x3b7)][0x0];if(!_0x125691){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}_0x391551[_0x2cb694(0x97a)]=_0x2cb694(0x37a);const _0x1a4897=await new Promise((_0x5e0299,_0x11ddd4)=>{const _0x65159d=_0x2cb694,_0x2b2cfa=new FileReader();_0x2b2cfa['readAsDataURL'](_0x125691),_0x2b2cfa['onload']=()=>_0x5e0299(_0x2b2cfa[_0x65159d(0xa55)][_0x65159d(0x5fa)](',')[0x1]),_0x2b2cfa[_0x65159d(0xd1e)]=_0x11ddd4;});_0x47bb9c=[{'text':_0x2cb694(0xcbc)},{'inlineData':{'mimeType':_0x125691[_0x2cb694(0x789)],'data':_0x1a4897}}];if(_0x475460[_0x2cb694(0x3b7)][_0x2cb694(0xca6)]>0x0){const _0x27cf7c=_0x475460['files'][0x0];_0x391551['textContent']=_0x2cb694(0x28f);const _0x12ea2a=await new Promise((_0x17274a,_0xcd1ee9)=>{const _0x81c4e1=_0x2cb694,_0x584e29=new FileReader();_0x584e29[_0x81c4e1(0xa05)](_0x27cf7c),_0x584e29[_0x81c4e1(0x83e)]=()=>_0x17274a(_0x584e29['result'][_0x81c4e1(0x5fa)](',')[0x1]),_0x584e29[_0x81c4e1(0xd1e)]=_0xcd1ee9;}),_0x24d66d={'inlineData':{'mimeType':_0x27cf7c[_0x2cb694(0x789)],'data':_0x12ea2a}};_0x47bb9c[_0x2cb694(0xd41)](_0x24d66d),_0x107064[_0x2cb694(0xd41)](_0x24d66d);}}const _0x95e97=_0x2cb694(0xcc6),_0x3c7a96='\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20';let _0x7b05a='';_0x107064&&_0x107064[_0x2cb694(0xca6)]>0x0?_0x7b05a=_0x95e97:_0x7b05a=_0x3c7a96;const _0xd38d49=_0x2cb694(0xc71)+_0x7b05a+_0x2cb694(0xcad),_0x169f51={'type':_0x2cb694(0xac9),'properties':{'questionText':{'type':_0x2cb694(0x277)},'questionType':{'type':_0x2cb694(0x277),'enum':['multiple_choice',_0x2cb694(0x735),'true_false','matching_item']},'options':{'type':'ARRAY','items':{'type':_0x2cb694(0x277)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x2cb694(0x277)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x2cb694(0x277)},'imageCode':{'type':_0x2cb694(0x277)}},'required':['questionType','explanation']},_0x251341={'type':'OBJECT','properties':{'topic':{'type':_0x2cb694(0x277)},'questions':{'type':_0x2cb694(0x8fe),'items':_0x169f51}},'required':[_0x2cb694(0xd28),_0x2cb694(0xab9)]};_0x47bb9c[0x0][_0x2cb694(0x5f1)]=_0xd38d49,await handleApiCall(_0x47bb9c,_0x2cb694(0xb78),_0x251341);}function proceedToNextQuestion(_0x4ac51f){const _0x5bb036=_0x315eb9;studentAnswersPerQuestion[_0x5bb036(0xd41)](_0x4ac51f),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x5bb036(0xab9)][_0x5bb036(0xca6)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x465db0,_0x118adf,_0x5b9d97){const _0x6e5a46=_0x315eb9,_0x40a97d=Object[_0x6e5a46(0xb3a)](_0x465db0[_0x6e5a46(0x5ca)]||{}),_0x98c3ca=_0x40a97d[_0x6e5a46(0xca6)],_0x42d9d2=[..._0x40a97d][_0x6e5a46(0x7a1)]((_0x3e5ec3,_0x27c95a)=>_0x27c95a['score']-_0x3e5ec3[_0x6e5a46(0xad9)]),_0x5eaf8a=_0x5b9d97,_0xf4aeb6=_0x465db0[_0x6e5a46(0x417)]||'classic',_0x230716=!_0x118adf&&_0xf4aeb6===_0x6e5a46(0x4db)&&_0x465db0[_0x6e5a46(0x4c3)]===![];let _0x273ce2='';const _0x28af4c=_0x465db0['shuffledQuiz']['questions'],_0x3d472c=_0x28af4c[_0x5eaf8a],_0x4f76d2=_0x5c7271=>String[_0x6e5a46(0xc63)](0x41+_0x5c7271);let _0x669ffc='',_0x548cac='';if(_0x3d472c){const _0x5c11d6=_0x3d472c[_0x6e5a46(0x9e0)]||_0x465db0[_0x6e5a46(0x8e2)][_0x6e5a46(0xa41)];if(_0x5c11d6==='multiple_choice'&&_0x3d472c[_0x6e5a46(0x6ce)]&&_0x3d472c[_0x6e5a46(0x794)]!==undefined){const _0x4f205e=_0x3d472c['correctAnswerIndex'];_0x669ffc=_0x3d472c[_0x6e5a46(0x6ce)][_0x4f205e],_0x548cac=_0x4f76d2(_0x4f205e)+'.';}else{if(_0x5c11d6==='true_false'){const _0x5b18d8=_0x3d472c[_0x6e5a46(0x43f)]===!![]||String(_0x3d472c[_0x6e5a46(0x43f)])['toLowerCase']()==='true';_0x5b18d8?(_0x669ffc=_0x6e5a46(0x9ca),_0x548cac='ก.'):(_0x669ffc=_0x6e5a46(0x685),_0x548cac='ข.');}else{if(_0x5c11d6===_0x6e5a46(0xc17))_0x669ffc=_0x3d472c[_0x6e5a46(0x5a6)]||'-',_0x548cac='';else _0x5c11d6===_0x6e5a46(0x735)&&(_0x669ffc=_0x3d472c[_0x6e5a46(0xc00)]||'-',_0x548cac='');}}}_0x669ffc&&(_0x273ce2=_0x6e5a46(0x81e)+(_0x5eaf8a+0x1)+_0x6e5a46(0xb8c)+_0x548cac+'\x20'+_0x669ffc+_0x6e5a46(0x5db));const _0x20b9bf=_0x42d9d2['map'](_0x1a3ecb=>{const _0x8cd069=_0x6e5a46,_0x33011c=(_0x1a3ecb['answers']||[])['filter'](_0x1ff3bb=>_0x1ff3bb[_0x8cd069(0x952)]<=_0x5eaf8a),_0x535c89=_0x33011c[_0x8cd069(0x9c1)](_0x1415fd=>_0x1415fd[_0x8cd069(0xa06)])['length'];let _0x5f329d=![];const _0x2bc96d=(_0x1a3ecb['answers']||[])[_0x8cd069(0x559)](_0x4ebabf=>_0x4ebabf[_0x8cd069(0x952)]===_0x5eaf8a);_0x2bc96d&&_0x2bc96d[_0x8cd069(0xa06)]&&(_0x5f329d=!![]);const _0x468f0a=_0x5f329d?'bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg':_0x8cd069(0x9fc),_0x3fa17b=_0x230716?_0x465db0['playerNicknames'][_0x1a3ecb[_0x8cd069(0x38d)]]||'???':_0x1a3ecb['name'];return _0x8cd069(0x506)+_0x468f0a+_0x8cd069(0xbea)+_0x3fa17b+_0x8cd069(0x6e8)+_0x535c89+_0x8cd069(0xb9d);})[_0x6e5a46(0x6f5)](''),_0x154efc=_0x28af4c[_0x6e5a46(0x947)]((_0x1af28e,_0x5ef751)=>{const _0x1ae372=_0x6e5a46;if(_0x5ef751>_0x5eaf8a)return'';const _0x53bbde=_0x40a97d['filter'](_0x2bbe92=>_0x2bbe92[_0x1ae372(0x4ec)]&&_0x2bbe92[_0x1ae372(0x4ec)][_0x1ae372(0x559)](_0x39ab34=>_0x39ab34[_0x1ae372(0x952)]===_0x5ef751&&_0x39ab34['isCorrect']))[_0x1ae372(0xca6)],_0x36d92b=_0x5ef751===_0x5eaf8a,_0x5b95e1=_0x36d92b?_0x1ae372(0x315):_0x1ae372(0xc3f);return _0x1ae372(0x36e)+_0x5b95e1+_0x1ae372(0x363)+(_0x5ef751+0x1)+_0x1ae372(0x910)+_0x53bbde+_0x1ae372(0xcd4)+_0x98c3ca+_0x1ae372(0xd1d);})[_0x6e5a46(0x6f5)]('');let _0x14ec63='',_0x181bb7='';if(_0x118adf){const _0x385431=_0xf4aeb6===_0x6e5a46(0x25c)&&_0x465db0['currentQuestionIndex']>=_0x28af4c['length']-0x1,_0x24dd9b=_0xf4aeb6===_0x6e5a46(0x7e7)&&_0x465db0[_0x6e5a46(0x1f0)]>=_0x28af4c[_0x6e5a46(0xca6)]-0x1,_0x4ece5e=_0xf4aeb6==='anonymous'&&_0x465db0['reviewQuestionIndex']>=_0x28af4c[_0x6e5a46(0xca6)]-0x1;_0x385431||_0x24dd9b||_0x4ece5e?_0xf4aeb6===_0x6e5a46(0x4db)&&_0x465db0[_0x6e5a46(0x4c3)]===![]?_0x14ec63=_0x6e5a46(0xc83):_0x14ec63=_0x6e5a46(0x8ad):_0x14ec63='<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>',_0x181bb7='<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>';}const _0x2d40c0=_0x6e5a46(0x659)+_0x465db0[_0x6e5a46(0x8e2)][_0x6e5a46(0xd28)]+_0x6e5a46(0xced)+_0x181bb7+_0x6e5a46(0x892)+_0x273ce2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+(_0x20b9bf||_0x6e5a46(0xa3e))+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0x154efc+_0x6e5a46(0xd86)+(_0x118adf?_0x6e5a46(0x8ef)+_0x14ec63+_0x6e5a46(0x4cd):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x2d40c0;if(window[_0x6e5a46(0x3af)]){const _0x4a236f=document[_0x6e5a46(0x695)](_0x6e5a46(0x8b3));_0x4a236f&&MathJax[_0x6e5a46(0xcaf)]([_0x4a236f]);}if(_0x118adf){document[_0x6e5a46(0x695)]('next-sync-question-btn')[_0x6e5a46(0x3cf)]=async()=>{const _0x15ed0c=_0x6e5a46,_0x16f898=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x16b40d=_0xf4aeb6===_0x15ed0c(0x25c)&&_0x465db0[_0x15ed0c(0x365)]>=_0x28af4c['length']-0x1,_0x54037c=_0xf4aeb6==='reveal_at_end'&&_0x465db0['reviewQuestionIndex']>=_0x28af4c['length']-0x1,_0x1ecfec=_0xf4aeb6==='anonymous'&&_0x465db0[_0x15ed0c(0x1f0)]>=_0x28af4c['length']-0x1;if(_0xf4aeb6===_0x15ed0c(0x25c)){if(!_0x16b40d){const _0x3bbc84=_0x465db0[_0x15ed0c(0x365)]+0x1,_0x53461b={};Object[_0x15ed0c(0x811)](_0x465db0['players'])['forEach'](_0x5127fd=>{const _0x25037e=_0x15ed0c;_0x53461b['players.'+_0x5127fd+_0x25037e(0x3fb)]=![],_0x53461b['players.'+_0x5127fd+_0x25037e(0x422)]=null;}),await updateDoc(_0x16f898,{..._0x53461b,'status':_0x15ed0c(0x3ab),'currentQuestionIndex':_0x3bbc84,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x16f898,{'status':_0x15ed0c(0xa86)});}else!_0x54037c&&!_0x1ecfec?await updateDoc(_0x16f898,{'reviewQuestionIndex':increment(0x1)}):await updateDoc(_0x16f898,{'status':_0x15ed0c(0xa86)});},document['getElementById'](_0x6e5a46(0xb0b))?.['addEventListener'](_0x6e5a46(0xc9a),async()=>{const _0x21a864=_0x6e5a46,_0x382304=doc(db,_0x21a864(0x2d5)+appId+_0x21a864(0x2b5),currentLiveGameId);await updateDoc(_0x382304,{'isAnonymousRevealed':!![]});});const _0x329cc3=document[_0x6e5a46(0x695)](_0x6e5a46(0x775));_0x329cc3&&(_0x329cc3[_0x6e5a46(0x3cf)]=()=>{const _0x287c25=_0x6e5a46;showConfirmation(_0x287c25(0x30f),async()=>{const _0x4a6ec3=_0x287c25,_0x38e2e3=doc(db,_0x4a6ec3(0x2d5)+appId+_0x4a6ec3(0x2b5),currentLiveGameId);await updateDoc(_0x38e2e3,{'status':_0x4a6ec3(0xa86)});});});}}async function handleGenerateParallelFromBank(_0x4312ef){const _0x2562b9=_0x315eb9,_0x5c0c1f=document[_0x2562b9(0x695)]('results-tab-content'),_0x593e8e=document[_0x2562b9(0x695)](_0x2562b9(0x617));_0x593e8e[_0x2562b9(0xd75)][_0x2562b9(0x8d6)]('hidden');const _0x2e7eea='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22'+_0x4312ef[_0x2562b9(0xd28)]+_0x2562b9(0xc26);_0x5c0c1f[_0x2562b9(0x8d5)](_0x2562b9(0x43e),_0x2e7eea);const _0x1af8d1=document[_0x2562b9(0x695)](_0x2562b9(0xa4a));try{const _0x3823d2=_0x4312ef[_0x2562b9(0xab9)][_0x2562b9(0x947)]((_0x10a55d,_0x407368)=>{const _0xf39eef=_0x2562b9;let _0x1ee60c=_0x407368+0x1+'.\x20'+(_0x10a55d[_0xf39eef(0x620)]||_0x10a55d['stem'])+'\x0a';if(_0x10a55d['options'])_0x1ee60c+=_0x10a55d['options'][_0xf39eef(0x947)]((_0x1084d3,_0x2fbf60)=>_0xf39eef(0x6ba)+(_0x2fbf60===_0x10a55d[_0xf39eef(0x794)]?_0xf39eef(0xc1b):'')+'\x20'+_0x1084d3)['join']('\x0a');else _0x10a55d[_0xf39eef(0xc00)]&&(_0x1ee60c+=_0xf39eef(0x7fa)+_0x10a55d[_0xf39eef(0xc00)]);return _0x1ee60c;})[_0x2562b9(0x6f5)]('\x0a\x0a');_0x1af8d1[_0x2562b9(0x97a)]=_0x2562b9(0xd85);const _0x28a64f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22'+_0x4312ef['topic']+_0x2562b9(0xa4c)+_0x3823d2+_0x2562b9(0xaf1)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2e4364={'type':_0x2562b9(0xac9),'properties':{'questionText':{'type':_0x2562b9(0x277)},'questionType':{'type':_0x2562b9(0x277),'enum':[_0x2562b9(0x959),_0x2562b9(0x735),_0x2562b9(0xb93),_0x2562b9(0xc17)]},'options':{'type':_0x2562b9(0x8fe),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x2562b9(0x97c)},'idealAnswer':{'type':_0x2562b9(0x277)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x2562b9(0x277)},'correctResponse':{'type':_0x2562b9(0x277)},'allResponses':{'type':'ARRAY','items':{'type':_0x2562b9(0x277)}},'explanation':{'type':_0x2562b9(0x277)},'imageCode':{'type':_0x2562b9(0x277)}},'required':[_0x2562b9(0x9e0),'explanation']},_0x42a9df={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2562b9(0x8fe),'items':_0x2e4364}},'required':[_0x2562b9(0xd28),_0x2562b9(0xab9)]},_0x4a2ffc=await callAnalysisApi(_0x28a64f,_0x42a9df),_0x50cf5b=_0x4a2ffc[_0x2562b9(0xab9)][_0x2562b9(0x947)]((_0x308a5f,_0x1c3aff)=>({..._0x308a5f,'id':'q_'+Date[_0x2562b9(0x320)]()+'_'+_0x1c3aff})),_0x36e4cd='(คู่ขนาน)\x20'+_0x4312ef[_0x2562b9(0xd28)],_0x22dd33={'topic':_0x36e4cd,'questions':_0x50cf5b,'quizType':_0x4312ef[_0x2562b9(0xa41)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x2562b9(0x9bd)](),'status':_0x2562b9(0xb81),'settings':_0x4312ef[_0x2562b9(0x516)],'quizMode':'standard','pairedQuizId':null,'lessonPlan':null};let _0x22a571;while(!![]){_0x22a571=Math[_0x2562b9(0x4a5)](0x3e8+Math[_0x2562b9(0x625)]()*0x2328)['toString']();const _0x20410d=await getDoc(doc(db,_0x2562b9(0x2d5)+appId+_0x2562b9(0xc5d),_0x22a571));if(!_0x20410d[_0x2562b9(0xb5a)]())break;}await setDoc(doc(db,_0x2562b9(0x2d5)+appId+_0x2562b9(0xc5d),_0x22a571),_0x22dd33),showMessage(_0x2562b9(0xd53));}catch(_0x34acb4){console['error'](_0x2562b9(0x53f),_0x34acb4),showMessage('เกิดข้อผิดพลาด:\x20'+_0x34acb4[_0x2562b9(0x9eb)]);}finally{const _0x39d5e3=document[_0x2562b9(0x695)]('temp-loader-results');_0x39d5e3&&_0x39d5e3[_0x2562b9(0x8cc)](),_0x593e8e[_0x2562b9(0xd75)][_0x2562b9(0x8cc)](_0x2562b9(0x721));}}async function handleGenerateParallelPostTest(_0x81d12b){const _0x37acc2=_0x315eb9,_0x4d6e15=document[_0x37acc2(0x695)](_0x37acc2(0x958)),_0x137ecb=document['getElementById'](_0x37acc2(0x617));_0x137ecb[_0x37acc2(0xd75)][_0x37acc2(0x8d6)](_0x37acc2(0x721));const _0x27dc0f=_0x37acc2(0x98f);_0x4d6e15[_0x37acc2(0x8d5)](_0x37acc2(0x43e),_0x27dc0f);try{const _0x22b548=_0x81d12b[_0x37acc2(0xab9)]['map']((_0x4c5340,_0xafa9e8)=>{const _0x58295e=_0x37acc2;let _0x1bb0f5=_0xafa9e8+0x1+'.\x20'+(_0x4c5340[_0x58295e(0x620)]||_0x4c5340[_0x58295e(0x858)]);if(_0x4c5340[_0x58295e(0x6ce)])_0x1bb0f5+=_0x58295e(0x4c9)+_0x4c5340[_0x58295e(0x6ce)]['join'](',\x20');return _0x1bb0f5;})[_0x37acc2(0x6f5)]('\x0a\x0a'),_0x5aa2ee='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x81d12b[_0x37acc2(0xd28)]+_0x37acc2(0x215)+_0x22b548+_0x37acc2(0x9b4)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x5a5eec={'type':_0x37acc2(0xac9),'properties':{'topic':{'type':_0x37acc2(0x277)},'questions':{'type':_0x37acc2(0x8fe),'items':{'type':_0x37acc2(0xac9),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x37acc2(0x277)},'options':{'type':_0x37acc2(0x8fe),'items':{'type':_0x37acc2(0x277)}},'correctAnswerIndex':{'type':_0x37acc2(0x97c)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x37acc2(0x277)}},'required':[_0x37acc2(0x620),_0x37acc2(0x94e)]}}},'required':[_0x37acc2(0xd28),_0x37acc2(0xab9)]},_0x545e39=await callAnalysisApi(_0x5aa2ee,_0x5a5eec),_0x5cebb9=_0x81d12b[_0x37acc2(0xd28)][_0x37acc2(0x963)](_0x37acc2(0x450),'')[_0x37acc2(0xbcf)](),_0x4dbbad=_0x37acc2(0x904)+_0x5cebb9,_0x504786={..._0x545e39,'topic':_0x4dbbad,'quizType':_0x81d12b[_0x37acc2(0xa41)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x37acc2(0x9bd)](),'status':_0x37acc2(0xb81),'settings':_0x81d12b[_0x37acc2(0x516)],'quizMode':_0x37acc2(0x6d9),'pairedQuizId':_0x81d12b['id']};let _0x50eb87;while(!![]){_0x50eb87=Math[_0x37acc2(0x4a5)](0x3e8+Math[_0x37acc2(0x625)]()*0x2328)['toString']();const _0x3555d9=await getDoc(doc(db,_0x37acc2(0x2d5)+appId+_0x37acc2(0xc5d),_0x50eb87));if(!_0x3555d9[_0x37acc2(0xb5a)]())break;}await setDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x50eb87),_0x504786);const _0x49e4e5=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x81d12b['id']);await updateDoc(_0x49e4e5,{'pairedQuizId':_0x50eb87}),showMessage(_0x37acc2(0x832));}catch(_0x40bed5){console[_0x37acc2(0xb62)]('Error\x20generating\x20parallel\x20post-test:',_0x40bed5),showMessage(_0x37acc2(0x99a)+_0x40bed5['message']);}finally{const _0x2f42f5=document['getElementById'](_0x37acc2(0x376));if(_0x2f42f5)_0x2f42f5[_0x37acc2(0x8cc)]();_0x137ecb[_0x37acc2(0xd75)][_0x37acc2(0x8cc)]('hidden');}}async function handleGenerateParallelTest(_0x93887=null){const _0x6779d0=_0x315eb9;let _0x328f64=_0x93887;if(!_0x328f64){const _0x232089=document[_0x6779d0(0x695)]('parallel-test-upload-input');_0x232089[_0x6779d0(0x3b7)][_0x6779d0(0xca6)]>0x0&&(_0x328f64=_0x232089['files'][0x0]);}if(!_0x328f64){showMessage(_0x6779d0(0xaf6));return;}const _0x2fd5c8=document[_0x6779d0(0x695)](_0x6779d0(0x2da)),_0xb99353=document[_0x6779d0(0x695)]('loader-text'),_0x4aa914=document['getElementById'](_0x6779d0(0x82e)),_0x4018d8=document[_0x6779d0(0x695)]('generate-from-parallel-test-btn');_0x4018d8[_0x6779d0(0x22a)]=!![],document[_0x6779d0(0x695)]('quiz-generation-area')[_0x6779d0(0xd75)][_0x6779d0(0x8cc)](_0x6779d0(0x721)),_0x4aa914['innerHTML']='',_0x2fd5c8['classList'][_0x6779d0(0x8cc)](_0x6779d0(0x721)),_0xb99353[_0x6779d0(0x97a)]=_0x6779d0(0x8a1);const _0x12ea5b=new FileReader();_0x12ea5b[_0x6779d0(0xa05)](_0x328f64),_0x12ea5b[_0x6779d0(0x83e)]=async()=>{const _0x498f99=_0x6779d0;try{const _0x4c18c6=_0x12ea5b[_0x498f99(0xa55)][_0x498f99(0x5fa)](',')[0x1],_0xf23271=_0x328f64[_0x498f99(0x789)];_0xb99353[_0x498f99(0x97a)]='วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x14ae04=document[_0x498f99(0x695)](_0x498f99(0xcc9))['checked'],_0xe5bab0=_0x14ae04?_0x498f99(0x392):'',_0x585239=_0x498f99(0x261),_0x2e81df={'type':_0x498f99(0xac9),'properties':{'questionText':{'type':_0x498f99(0x277)},'questionType':{'type':'STRING','enum':[_0x498f99(0x959),_0x498f99(0x735)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x498f99(0x97c)},'idealAnswer':{'type':_0x498f99(0x277)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x498f99(0x277)}},'required':['questionText','questionType',_0x498f99(0x94e)]},_0x318c04={'type':_0x498f99(0xac9),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x2e81df}},'required':[_0x498f99(0xd28),'questions']},_0x424f14=[{'text':_0x585239},{'inlineData':{'mimeType':_0xf23271,'data':_0x4c18c6}}];await handleApiCall(_0x424f14,_0x498f99(0xc9e),_0x318c04);}catch(_0x21dbcb){console['error'](_0x498f99(0x903),_0x21dbcb),showMessage(_0x498f99(0x99a)+_0x21dbcb['message']),_0x4aa914[_0x498f99(0xb6b)]=_0x498f99(0xb9f);}finally{_0x2fd5c8[_0x498f99(0xd75)]['add'](_0x498f99(0x721)),_0x4018d8[_0x498f99(0x22a)]=![];}},_0x12ea5b[_0x6779d0(0xd1e)]=_0x556bd9=>{const _0xe24fec=_0x6779d0;console[_0xe24fec(0xb62)](_0xe24fec(0xc30),_0x556bd9),showMessage(_0xe24fec(0xc7b)),_0x2fd5c8[_0xe24fec(0xd75)][_0xe24fec(0x8d6)]('hidden'),_0x4018d8[_0xe24fec(0x22a)]=![];};}async function handleRegenerateQuestionInEditor(_0x320caf){const _0x375ed2=_0x315eb9;if(currentEditingQuizData===null)return;const _0x251000=document['querySelector'](_0x375ed2(0xc6f)+_0x320caf+'\x22]');_0x251000&&(_0x251000[_0x375ed2(0xb6b)]=_0x375ed2(0x4d5));const _0x579094=currentEditingQuizData['questions'][_0x320caf],_0xf455b4=currentEditingQuizData[_0x375ed2(0xd28)],_0x595b0c=_0x579094['questionType'],_0x927d7e={'type':'OBJECT','properties':{'questionText':{'type':_0x375ed2(0x277)},'options':{'type':'ARRAY','items':{'type':_0x375ed2(0x277)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x375ed2(0x277)}},'required':['questionText',_0x375ed2(0x6ce),_0x375ed2(0x794),'explanation']},_0x165fe2={'type':_0x375ed2(0xac9),'properties':{'questionText':{'type':_0x375ed2(0x277)},'idealAnswer':{'type':_0x375ed2(0x277)},'explanation':{'type':_0x375ed2(0x277)}},'required':['questionText',_0x375ed2(0xc00),_0x375ed2(0x94e)]};let _0x44688b,_0x3e4257='';_0x595b0c===_0x375ed2(0x959)?(_0x44688b=_0x927d7e,_0x3e4257=_0x375ed2(0x31e)):(_0x44688b=_0x165fe2,_0x3e4257='แบบเติมคำตอบ');const _0x1fb6dc=_0x375ed2(0xa00)+_0xf455b4+_0x375ed2(0x3cd)+_0x3e4257+_0x375ed2(0x598)+(_0x579094['questionText']||_0x579094['stem'])+_0x375ed2(0x928)+simpleMathPrompt;try{const _0x57b585=await callAnalysisApi(_0x1fb6dc,_0x44688b);currentEditingQuizData[_0x375ed2(0xab9)][_0x320caf]={..._0x579094,..._0x57b585},renderQuizEditor(currentEditingQuizData);}catch(_0x4248cb){console[_0x375ed2(0xb62)](_0x375ed2(0xbf8),_0x4248cb),showMessage(_0x375ed2(0x7cb)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x2ee526=_0x315eb9,_0x580c91=document[_0x2ee526(0x695)](_0x2ee526(0x294));currentMode==='student'?(currentMode='admin',_0x580c91['innerHTML']=_0x2ee526(0x2a3),_0x580c91['title']=_0x2ee526(0xc6e),showView(_0x2ee526(0x586))):(currentMode=_0x2ee526(0x282),_0x580c91[_0x2ee526(0xb6b)]='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x580c91[_0x2ee526(0x8f2)]=_0x2ee526(0x456),showView(_0x2ee526(0x282)));}function handleAdminLogin(){const _0x5c7887=_0x315eb9,_0x46f719=document['getElementById']('admin-password-input'),_0x165d5a=document['getElementById'](_0x5c7887(0x91b));if(_0x46f719[_0x5c7887(0xbdb)]===_0x5c7887(0xd68)){adminPasswordModal[_0x5c7887(0xd75)][_0x5c7887(0x8d6)]('hidden'),_0x46f719[_0x5c7887(0xbdb)]='',_0x165d5a[_0x5c7887(0xd75)]['add'](_0x5c7887(0x721)),currentMode=_0x5c7887(0xbe0);const _0x29bed9=document[_0x5c7887(0x695)](_0x5c7887(0x294));_0x29bed9[_0x5c7887(0xb6b)]=_0x5c7887(0x2a3),_0x29bed9[_0x5c7887(0x8f2)]='สลับไปโหมดนักเรียน',showView(_0x5c7887(0x586));}else _0x165d5a[_0x5c7887(0xd75)][_0x5c7887(0x8cc)](_0x5c7887(0x721)),_0x46f719['value']='';}function switchProjectTab(_0x41a132){const _0x120143=_0x315eb9;[_0x120143(0x245),'results',_0x120143(0x924)][_0x120143(0x2d4)](_0x42ae61=>{const _0x2b3694=_0x120143;document[_0x2b3694(0x695)](_0x42ae61+'-tab')[_0x2b3694(0xd75)][_0x2b3694(0x8cc)](_0x2b3694(0xb81)),document[_0x2b3694(0x695)](_0x42ae61+_0x2b3694(0x9de))[_0x2b3694(0xd75)][_0x2b3694(0x8d6)](_0x2b3694(0x721));}),document['getElementById'](_0x41a132+_0x120143(0x81b))[_0x120143(0xd75)]['add'](_0x120143(0xb81)),document['getElementById'](_0x41a132+_0x120143(0x9de))[_0x120143(0xd75)][_0x120143(0x8cc)](_0x120143(0x721));}function switchQuizDetailTab(_0x22c972){const _0x3a57c5=_0x315eb9,_0x8b99be={'analytics':{'btn':_0x3a57c5(0x7a0),'content':_0x3a57c5(0x45b)},'scores':{'btn':_0x3a57c5(0x996),'content':_0x3a57c5(0x56e)},'leaderboard-quiz':{'btn':_0x3a57c5(0xb90),'content':_0x3a57c5(0x772)},'behavior-log':{'btn':_0x3a57c5(0x533),'content':'behavior-log-tab-content'}};for(const _0x14ad11 in _0x8b99be){document['getElementById'](_0x8b99be[_0x14ad11][_0x3a57c5(0xa58)])[_0x3a57c5(0xd75)][_0x3a57c5(0x8cc)](_0x3a57c5(0xb81)),document[_0x3a57c5(0x695)](_0x8b99be[_0x14ad11][_0x3a57c5(0x8fa)])[_0x3a57c5(0xd75)][_0x3a57c5(0x8d6)](_0x3a57c5(0x721));}document['getElementById'](_0x8b99be[_0x22c972][_0x3a57c5(0xa58)])[_0x3a57c5(0xd75)]['add']('active'),document[_0x3a57c5(0x695)](_0x8b99be[_0x22c972][_0x3a57c5(0x8fa)])['classList']['remove']('hidden');}function showMessage(_0x473d64,_0x47cf20=null){const _0x3ca508=_0x315eb9;modalMessage[_0x3ca508(0x97a)]=_0x473d64,modalConfirmAction=_0x47cf20,messageModal[_0x3ca508(0xd75)][_0x3ca508(0x8cc)](_0x3ca508(0x721));}function showConfirmation(_0x24c676,_0x1c2c01){const _0x23fcf0=_0x315eb9;document[_0x23fcf0(0x695)](_0x23fcf0(0x3d6))['textContent']=_0x24c676,document[_0x23fcf0(0x695)](_0x23fcf0(0xc0f))[_0x23fcf0(0xc31)]('h3')[_0x23fcf0(0x97a)]=_0x23fcf0(0x3bc),confirmAction=_0x1c2c01,confirmationModal[_0x23fcf0(0xd75)]['remove']('hidden');}function listenForProjects(){const _0x28d1fc=_0x315eb9,_0x22bf9d=doc(db,_0x28d1fc(0x974),_0x28d1fc(0xd50));onSnapshot(_0x22bf9d,_0x274cf2=>{const _0x3c15a4=_0x28d1fc;if(_0x274cf2[_0x3c15a4(0xb5a)]()){const _0x180a44=_0x274cf2[_0x3c15a4(0x5ac)]();globalDashboardSettings['projectSort']=_0x180a44[_0x3c15a4(0x9f9)]||_0x3c15a4(0xd54),globalDashboardSettings[_0x3c15a4(0x238)]=_0x180a44[_0x3c15a4(0x238)]||[],globalDashboardSettings[_0x3c15a4(0x738)]=_0x180a44[_0x3c15a4(0x738)]||[];}allProjects['length']>0x0&&renderProjects();});const _0x758ce2=collection(db,'artifacts/'+appId+_0x28d1fc(0x36a));unsubscribeProjectsListener=onSnapshot(_0x758ce2,_0x2a3599=>{const _0x77d35c=_0x28d1fc;allProjects=_0x2a3599[_0x77d35c(0x80f)][_0x77d35c(0x947)](_0x2efaed=>({'id':_0x2efaed['id'],..._0x2efaed[_0x77d35c(0x5ac)]()})),renderProjects();},_0x1dcd1e=>{const _0x17a196=_0x28d1fc;console['error'](_0x17a196(0xadb),_0x1dcd1e),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}function showColorPalette(_0x81e6fc,_0xf021f3){const _0x3d3afc=_0x315eb9;document[_0x3d3afc(0x4e3)](_0x3d3afc(0xd4d))['forEach'](_0x106d54=>_0x106d54[_0x3d3afc(0x8cc)]());const _0xc2107a=[_0x3d3afc(0x607),_0x3d3afc(0xc82),_0x3d3afc(0x884),_0x3d3afc(0x311),_0x3d3afc(0xda6),'#E0E7FF',_0x3d3afc(0x5ce),_0x3d3afc(0x522),'#E5E7EB'],_0x29402c=document[_0x3d3afc(0x783)](_0x3d3afc(0xa7b));_0x29402c[_0x3d3afc(0xb55)]=_0x3d3afc(0xa8d),_0xc2107a[_0x3d3afc(0x2d4)](_0x5e5233=>{const _0x1ee927=_0x3d3afc,_0x2f97ee=document[_0x1ee927(0x783)](_0x1ee927(0xa7b));_0x2f97ee['className']=_0x1ee927(0x869),_0x2f97ee['style'][_0x1ee927(0x96e)]=_0x5e5233,_0x2f97ee[_0x1ee927(0x59b)]('click',()=>{handleProjectColorChange(_0xf021f3,_0x5e5233),_0x29402c['remove']();}),_0x29402c[_0x1ee927(0xbbd)](_0x2f97ee);}),document[_0x3d3afc(0x96b)][_0x3d3afc(0xbbd)](_0x29402c);const _0x23b9cf=_0x81e6fc[_0x3d3afc(0xc27)]();_0x29402c['style'][_0x3d3afc(0x74f)]=_0x23b9cf['bottom']+window['scrollY']+'px',_0x29402c[_0x3d3afc(0x7a9)][_0x3d3afc(0x59f)]=_0x23b9cf['left']+window[_0x3d3afc(0xbbe)]-_0x29402c[_0x3d3afc(0xb21)]/0x2+'px';}async function handleProjectColorChange(_0x1d9113,_0x3327e9){const _0x4d6b89=_0x315eb9,_0x2888b6=doc(db,_0x4d6b89(0x2d5)+appId+_0x4d6b89(0x36a),_0x1d9113);try{await updateDoc(_0x2888b6,{'color':_0x3327e9});}catch(_0x2c8f57){console[_0x4d6b89(0xb62)](_0x4d6b89(0x221),_0x2c8f57),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x2a7f43=_0x315eb9,_0x4dabe4=globalDashboardSettings[_0x2a7f43(0x9f9)]||_0x2a7f43(0xd54),_0x4d6ea3=new Set(globalDashboardSettings[_0x2a7f43(0x238)]||[]),_0x45f6e2=globalDashboardSettings[_0x2a7f43(0xa3c)]||'grid',_0x4ad967=document['getElementById'](_0x2a7f43(0xb13)),_0x5ef045=document[_0x2a7f43(0x695)](_0x2a7f43(0xb80));_0x4ad967[_0x2a7f43(0xd75)][_0x2a7f43(0x352)](_0x2a7f43(0xb81),_0x45f6e2==='grid'),_0x5ef045[_0x2a7f43(0xd75)][_0x2a7f43(0x352)](_0x2a7f43(0xb81),_0x45f6e2===_0x2a7f43(0x92a)),document['getElementById'](_0x2a7f43(0x725))[_0x2a7f43(0xbdb)]=_0x4dabe4;const _0x2be1e9=document[_0x2a7f43(0x695)](_0x2a7f43(0x6ff))[_0x2a7f43(0xbdb)][_0x2a7f43(0x766)]();let _0x208efd=allProjects['filter'](_0x394c50=>_0x394c50['projectName'][_0x2a7f43(0x766)]()['includes'](_0x2be1e9));const _0x168463=_0x208efd['filter'](_0x39d53b=>_0x4d6ea3['has'](_0x39d53b['id'])),_0x56d060=_0x208efd['filter'](_0x316d5b=>!_0x4d6ea3[_0x2a7f43(0x527)](_0x316d5b['id'])),_0x270e47=(_0x472dec,_0x5ebd4f)=>{const _0x144d5e=_0x2a7f43;switch(_0x4dabe4){case _0x144d5e(0x3d7):return _0x472dec[_0x144d5e(0x36b)][_0x144d5e(0x9f1)](_0x5ebd4f[_0x144d5e(0x36b)],'th');case'name_desc':return _0x5ebd4f[_0x144d5e(0x36b)][_0x144d5e(0x9f1)](_0x472dec[_0x144d5e(0x36b)],'th');case _0x144d5e(0x20d):return new Date(_0x472dec[_0x144d5e(0x7f4)])-new Date(_0x5ebd4f['createdAt']);default:return new Date(_0x5ebd4f[_0x144d5e(0x7f4)])-new Date(_0x472dec[_0x144d5e(0x7f4)]);}};_0x168463[_0x2a7f43(0x7a1)](_0x270e47),_0x56d060[_0x2a7f43(0x7a1)](_0x270e47);const _0x4feb48=[..._0x168463,..._0x56d060],_0x31e2b1=globalDashboardSettings[_0x2a7f43(0x738)]||[];_0x31e2b1[_0x2a7f43(0xca6)]>0x0&&_0x45f6e2===_0x2a7f43(0x231)&&_0x4feb48[_0x2a7f43(0x7a1)]((_0x2776ad,_0x37e4d4)=>{const _0x3b5e0b=_0x2a7f43,_0x882791=_0x31e2b1['indexOf'](_0x2776ad['id']),_0x2ebd6c=_0x31e2b1[_0x3b5e0b(0x38e)](_0x37e4d4['id']);if(_0x882791===-0x1)return 0x1;if(_0x2ebd6c===-0x1)return-0x1;return _0x882791-_0x2ebd6c;});const _0xad9fc={};await Promise[_0x2a7f43(0xcea)](_0x4feb48[_0x2a7f43(0x947)](async _0x414d69=>{const _0xb96c2c=_0x2a7f43,_0x2c7763=query(collection(db,_0xb96c2c(0x2d5)+appId+_0xb96c2c(0xc5d)),where('projectId','==',_0x414d69['id'])),_0x250315=await getDocs(_0x2c7763);_0xad9fc[_0x414d69['id']]=_0x250315['size'];}));const _0x2cca0c=document[_0x2a7f43(0x695)]('project-list');let _0x3ee09c='';if(_0x45f6e2===_0x2a7f43(0x231)){_0x2cca0c[_0x2a7f43(0xb55)]=_0x2a7f43(0xa23);if(starredQuizzes[_0x2a7f43(0xca6)]>0x0&&_0x2be1e9===''){const _0x38e567=starredQuizzes[_0x2a7f43(0x947)](_0x50a8f8=>{const _0x186c08=_0x2a7f43,_0x1e548a=allProjects[_0x186c08(0x559)](_0xb02886=>_0xb02886['id']===_0x50a8f8['projectId']);return{..._0x50a8f8,'projectName':_0x1e548a?_0x1e548a[_0x186c08(0x36b)]:_0x186c08(0x6d7)};});_0x3ee09c+=_0x2a7f43(0xd5a)+_0x38e567['map'](_0x166c6c=>_0x2a7f43(0xcb5)+_0x166c6c[_0x2a7f43(0xd28)]+'\x22>'+_0x166c6c[_0x2a7f43(0xd28)]+_0x2a7f43(0x2ee)+_0x166c6c['projectName']+'\x22>จาก:\x20'+_0x166c6c[_0x2a7f43(0x36b)]+_0x2a7f43(0x31b))['join']('')+_0x2a7f43(0x299)+starredQuizzes[_0x2a7f43(0xca6)]+_0x2a7f43(0x624);}_0x4feb48[_0x2a7f43(0x2d4)](_0x101c0b=>{const _0xa8ddb8=_0x2a7f43,_0x1293be=_0xad9fc[_0x101c0b['id']]??0x0,_0x471049=_0x4d6ea3[_0xa8ddb8(0x527)](_0x101c0b['id']),_0x5ed73b=_0x101c0b[_0xa8ddb8(0xd49)]||'#FFFFFF',_0x5c1923=parseInt(_0x5ed73b[_0xa8ddb8(0x4e1)](0x1,0x3),0x10)*0.299+parseInt(_0x5ed73b[_0xa8ddb8(0x4e1)](0x3,0x5),0x10)*0.587+parseInt(_0x5ed73b[_0xa8ddb8(0x4e1)](0x5,0x7),0x10)*0.114<0xba,_0x1f7878=_0x5c1923?'text-white':_0xa8ddb8(0x72b),_0x2b9a32=_0x5c1923?_0xa8ddb8(0x2c9):'text-gray-500';_0x3ee09c+=_0xa8ddb8(0x45a)+(_0x471049?_0xa8ddb8(0x57b):'border-gray-200')+_0xa8ddb8(0x5c9)+_0x5ed73b+';\x22\x20data-id=\x22'+_0x101c0b['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x101c0b['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x5c1923?_0xa8ddb8(0x82c):_0xa8ddb8(0x519))+'\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x101c0b['id']+_0xa8ddb8(0xb9b)+(_0x5c1923?_0xa8ddb8(0x82c):_0xa8ddb8(0x519))+_0xa8ddb8(0xda7)+(_0x471049?_0x5c1923?'text-yellow-300':'text-indigo-600':'')+_0xa8ddb8(0x4fd)+_0x101c0b['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20'+_0x1f7878+_0xa8ddb8(0x271)+_0x101c0b[_0xa8ddb8(0x36b)]+_0xa8ddb8(0x41c)+_0x2b9a32+_0xa8ddb8(0x4a9)+new Date(_0x101c0b[_0xa8ddb8(0x7f4)])[_0xa8ddb8(0x212)]('th-TH')+_0xa8ddb8(0x265)+(_0x5c1923?'text-gray-100':_0xa8ddb8(0x960))+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x1293be+'\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x101c0b['id']+_0xa8ddb8(0xd03)+_0x101c0b[_0xa8ddb8(0x36b)]+'\x22\x20class=\x22delete-project-btn\x20'+(_0x5c1923?_0xa8ddb8(0xb24):_0xa8ddb8(0x9d0))+_0xa8ddb8(0x6be);});}else _0x2cca0c[_0x2a7f43(0xb55)]=_0x2a7f43(0xace),starredQuizzes[_0x2a7f43(0xca6)]>0x0&&_0x2be1e9===''&&(_0x3ee09c+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x2a7f43(0xca6)]+'\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20'),_0x3ee09c+=_0x2a7f43(0xbca),_0x4feb48[_0x2a7f43(0x2d4)](_0x1ade51=>{const _0x4f120c=_0x2a7f43,_0x1507a1=_0xad9fc[_0x1ade51['id']]??0x0,_0xffe2ad=_0x4d6ea3[_0x4f120c(0x527)](_0x1ade51['id']);_0x3ee09c+=_0x4f120c(0x5b8)+(_0x1ade51[_0x4f120c(0xd49)]||_0x4f120c(0x269))+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x1ade51['id']+_0x4f120c(0x717)+_0x1ade51[_0x4f120c(0x36b)]+_0x4f120c(0xa4e)+_0x1507a1+_0x4f120c(0xc4d)+new Date(_0x1ade51[_0x4f120c(0x7f4)])[_0x4f120c(0xa0f)](_0x4f120c(0x6f4))+_0x4f120c(0xce5)+_0x1ade51['id']+_0x4f120c(0x21b)+(_0xffe2ad?_0x4f120c(0xb02):'')+_0x4f120c(0x29d)+_0x1ade51['id']+_0x4f120c(0xd03)+_0x1ade51['projectName']+_0x4f120c(0x3be);});projectList[_0x2a7f43(0xb6b)]=_0x3ee09c,noProjectsMsg[_0x2a7f43(0xd75)][_0x2a7f43(0x352)]('hidden',_0x3ee09c[_0x2a7f43(0xca6)]>0x0);}document[_0x315eb9(0x695)]('confirm-create-project-btn')[_0x315eb9(0x59b)](_0x315eb9(0xc9a),async()=>{const _0x261980=_0x315eb9,_0x131bc3=document[_0x261980(0x695)]('project-name-input'),_0x1948c9=_0x131bc3['value'][_0x261980(0xbcf)]();if(!_0x1948c9){showMessage(_0x261980(0x26c));return;}try{const _0x479223=doc(collection(db,_0x261980(0x2d5)+appId+_0x261980(0x36a)));await setDoc(_0x479223,{'projectName':_0x1948c9,'students':[],'settings':{'resultsDisplay':_0x261980(0x40c),'shuffleSetting':_0x261980(0x4f9),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x261980(0x4f9),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x261980(0x9bd)]()}),_0x131bc3[_0x261980(0xbdb)]='',createProjectModal[_0x261980(0xd75)][_0x261980(0x8d6)](_0x261980(0x721)),showMessage(_0x261980(0x54e));}catch(_0x48f157){console[_0x261980(0xb62)](_0x261980(0xab8),_0x48f157),showMessage(_0x261980(0xd51));}}),projectList[_0x315eb9(0x59b)](_0x315eb9(0xc9a),async _0x1b3656=>{const _0x2f8454=_0x315eb9,_0x138790=_0x1b3656[_0x2f8454(0x819)][_0x2f8454(0xb12)](_0x2f8454(0x242)),_0x54ad53=_0x1b3656[_0x2f8454(0x819)][_0x2f8454(0xb12)]('.delete-project-btn'),_0x134322=_0x1b3656[_0x2f8454(0x819)][_0x2f8454(0xb12)]('.pin-project-btn'),_0x1b8fbf=_0x1b3656[_0x2f8454(0x819)][_0x2f8454(0xb12)](_0x2f8454(0x3e0));if(_0x134322){const _0x162cc7=_0x134322['dataset']['id'],_0x5ed7d1=doc(db,'globalSettings',_0x2f8454(0xd50)),_0x46cb7e=globalDashboardSettings['pinnedProjects'];let _0x3f9960;_0x46cb7e[_0x2f8454(0xcac)](_0x162cc7)?_0x3f9960=_0x46cb7e['filter'](_0x15021d=>_0x15021d!==_0x162cc7):_0x3f9960=[..._0x46cb7e,_0x162cc7];try{await setDoc(_0x5ed7d1,{'pinnedProjects':_0x3f9960},{'merge':!![]});}catch(_0x2c0ff5){console[_0x2f8454(0xb62)]('Error\x20updating\x20pin\x20status:',_0x2c0ff5),showMessage(_0x2f8454(0x9be));}}else{if(_0x1b8fbf){const _0x1685ae=_0x1b8fbf['dataset']['id'];showColorPalette(_0x1b8fbf,_0x1685ae);}else{if(_0x138790){const _0x1f9f40=_0x138790['dataset']['id'];_0x1f9f40===_0x2f8454(0x68a)?showStarredProjectView():(currentProjectId=_0x1f9f40,await loadProjectDetails(currentProjectId),showView(_0x2f8454(0x5bd)));}else{if(_0x54ad53){const _0x346ecb=_0x54ad53[_0x2f8454(0x4b5)]['id'],_0x10f4eb=_0x54ad53[_0x2f8454(0x4b5)][_0x2f8454(0x38d)];showConfirmation(_0x2f8454(0x2a4)+_0x10f4eb+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x346ecb));}}}}}),projectList[_0x315eb9(0x59b)](_0x315eb9(0x98c),_0x40baf8=>{const _0x3356f8=_0x315eb9,_0x571c00=_0x40baf8[_0x3356f8(0x819)][_0x3356f8(0xb12)](_0x3356f8(0x41e));_0x571c00&&_0x571c00[_0x3356f8(0xd75)]['add'](_0x3356f8(0x88d));}),projectList[_0x315eb9(0x59b)]('dragend',_0x1dfd52=>{const _0x3d3604=_0x315eb9,_0x4b528b=_0x1dfd52['target']['closest'](_0x3d3604(0x41e));_0x4b528b&&_0x4b528b[_0x3d3604(0xd75)]['remove'](_0x3d3604(0x88d));}),projectList[_0x315eb9(0x59b)](_0x315eb9(0xc10),_0x216cca=>{const _0x4b30af=_0x315eb9;_0x216cca[_0x4b30af(0xb8f)]();const _0x5547eb=document[_0x4b30af(0xc31)]('.project-card-container.opacity-50');if(!_0x5547eb)return;const _0x4fbd9b=getDragAfterElement(projectList,_0x216cca[_0x4b30af(0x6a6)]);_0x4fbd9b==null?projectList[_0x4b30af(0xbbd)](_0x5547eb):projectList['insertBefore'](_0x5547eb,_0x4fbd9b);}),projectList[_0x315eb9(0x59b)]('drop',_0x5d0dea=>{const _0x49ced1=_0x315eb9;_0x5d0dea['preventDefault']();const _0x44a54f=[...projectList['querySelectorAll'](_0x49ced1(0x83b))][_0x49ced1(0x947)](_0x2a979e=>_0x2a979e[_0x49ced1(0x4b5)]['id']);saveProjectOrder(_0x44a54f);});function renderBehaviorLog(_0x4ad28f){const _0x2a5c46=_0x315eb9,_0x2b39eb=document[_0x2a5c46(0x695)](_0x2a5c46(0x57c));if(!_0x2b39eb)return;const _0x149176=_0x4ad28f[_0x2a5c46(0x9c1)](_0x4b4d1c=>_0x4b4d1c['behaviorLog']&&_0x4b4d1c[_0x2a5c46(0x797)]['length']>0x0);if(_0x149176['length']===0x0){_0x2b39eb[_0x2a5c46(0xb6b)]=_0x2a5c46(0x880);return;}let _0x5f0df5='';_0x149176[_0x2a5c46(0x2d4)](_0x59d51e=>{const _0x761a68=_0x2a5c46;_0x5f0df5+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x59d51e['studentName']+_0x761a68(0x8b7),_0x59d51e[_0x761a68(0x797)][_0x761a68(0x7a1)]((_0x2ae17e,_0x96b25a)=>new Date(_0x96b25a[_0x761a68(0xaaf)])-new Date(_0x2ae17e['timestamp']))[_0x761a68(0x2d4)](_0x3f61e7=>{const _0x1da172=_0x761a68,_0x3e3fa8=new Date(_0x3f61e7['timestamp'])[_0x1da172(0xa0f)](_0x1da172(0x6f4),{'dateStyle':_0x1da172(0xa19),'timeStyle':'medium'});_0x5f0df5+=_0x1da172(0x5ee)+_0x3f61e7[_0x1da172(0xc3c)]+_0x1da172(0xa6d)+_0x3e3fa8+_0x1da172(0xa0c);}),_0x5f0df5+=_0x761a68(0x4b0);}),_0x2b39eb[_0x2a5c46(0xb6b)]=_0x5f0df5;}function getDragAfterElement(_0x4aef03,_0x42f072){const _0x362cd2=_0x315eb9,_0x370cdf=[..._0x4aef03['querySelectorAll']('.project-card-container:not(.opacity-50)')];return _0x370cdf[_0x362cd2(0x60f)]((_0x5ef8d7,_0x541256)=>{const _0x5b425a=_0x362cd2,_0x2aff27=_0x541256[_0x5b425a(0xc27)](),_0x212722=_0x42f072-_0x2aff27[_0x5b425a(0x74f)]-_0x2aff27[_0x5b425a(0x6b1)]/0x2;return _0x212722<0x0&&_0x212722>_0x5ef8d7[_0x5b425a(0x837)]?{'offset':_0x212722,'element':_0x541256}:_0x5ef8d7;},{'offset':Number[_0x362cd2(0xbc2)]})[_0x362cd2(0x270)];}async function saveProjectOrder(_0x29eb5e){const _0x148a8d=_0x315eb9,_0x52f28a=doc(db,_0x148a8d(0x974),_0x148a8d(0xd50));try{await setDoc(_0x52f28a,{'projectOrder':_0x29eb5e},{'merge':!![]});}catch(_0x4fecf9){console[_0x148a8d(0xb62)](_0x148a8d(0x9d5),_0x4fecf9),showMessage(_0x148a8d(0x67a));}}async function logBehaviorEvent(_0x27952d,_0x1ceafe={}){const _0x3cb7ba=_0x315eb9;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x3cb7ba(0x6bb)](_0x3cb7ba(0x4d1));return;}const _0x22e358=doc(db,_0x3cb7ba(0x2d5)+appId+_0x3cb7ba(0xb5c)+currentQuizData['id']+_0x3cb7ba(0xaa7),currentStudentName),_0x42721e={'event':_0x27952d,'timestamp':new Date()[_0x3cb7ba(0x9bd)](),..._0x1ceafe};try{await updateDoc(_0x22e358,{'behaviorLog':arrayUnion(_0x42721e)}),console[_0x3cb7ba(0x95e)](_0x3cb7ba(0x4f5)+currentStudentName+_0x3cb7ba(0x740));}catch(_0x1a8e9e){_0x1a8e9e[_0x3cb7ba(0xc49)]==='not-found'?console[_0x3cb7ba(0x6bb)]('ไม่พบเอกสารการส่งงานของ\x20'+currentStudentName+_0x3cb7ba(0x96f)):console[_0x3cb7ba(0xb62)](_0x3cb7ba(0xcb1),_0x1a8e9e);}}function calculateMeanAndStdDev(_0x5eb56f){const _0x38e41b=_0x315eb9;if(_0x5eb56f[_0x38e41b(0xca6)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x3f7208=_0x5eb56f['reduce']((_0x2f5390,_0x216e06)=>_0x2f5390+_0x216e06,0x0)/_0x5eb56f[_0x38e41b(0xca6)];if(_0x5eb56f[_0x38e41b(0xca6)]===0x1)return{'mean':_0x3f7208,'stdDev':0x0};const _0x41cecb=Math[_0x38e41b(0x266)](_0x5eb56f[_0x38e41b(0x947)](_0x5c03ef=>Math[_0x38e41b(0xa70)](_0x5c03ef-_0x3f7208,0x2))['reduce']((_0x30b20e,_0x23f381)=>_0x30b20e+_0x23f381,0x0)/(_0x5eb56f['length']-0x1));return{'mean':_0x3f7208,'stdDev':_0x41cecb};}function calculateZScore(_0xbf403e,_0x1e98ef,_0x59d405){if(_0x59d405===0x0)return 0x0;return(_0xbf403e-_0x1e98ef)/_0x59d405;}function calculateTScore(_0x1b8a2a){return 0xa*_0x1b8a2a+0x32;}function showStarredProjectView(){const _0x162d0d=_0x315eb9;currentProjectId='starred',currentProjectData=null,projectTitle[_0x162d0d(0x97a)]=_0x162d0d(0x803),projectIdDisplay[_0x162d0d(0x97a)]=_0x162d0d(0x65c),showView(_0x162d0d(0x5bd)),manageTab['classList'][_0x162d0d(0x8d6)]('hidden'),leaderboardTab['classList'][_0x162d0d(0x8d6)](_0x162d0d(0x721)),switchProjectTab(_0x162d0d(0x744)),renderQuizzes();}async function loadProjectDetails(_0x553b46){const _0x2087e2=_0x315eb9,_0x465d1c=doc(db,'artifacts/'+appId+'/public/data/projects',_0x553b46),_0x7b52f=await getDoc(_0x465d1c);if(_0x7b52f[_0x2087e2(0xb5a)]()){manageTab['classList'][_0x2087e2(0x8cc)]('hidden'),leaderboardTab[_0x2087e2(0xd75)][_0x2087e2(0x8cc)](_0x2087e2(0x721)),currentProjectData=_0x7b52f[_0x2087e2(0x5ac)](),projectTitle[_0x2087e2(0x97a)]=currentProjectData['projectName'],projectIdDisplay[_0x2087e2(0x97a)]=_0x553b46;const _0x3e3eca=currentProjectData['settings']||{};document[_0x2087e2(0x695)](_0x2087e2(0x3fe))['value']=_0x3e3eca[_0x2087e2(0x833)]||_0x2087e2(0x4f9);const _0x1a264e=document[_0x2087e2(0x695)]('show-in-student-dashboard-checkbox');_0x1a264e[_0x2087e2(0x364)]=_0x3e3eca[_0x2087e2(0x74a)]!==![];const _0x4c923c=document['getElementById']('enable-passcode-checkbox'),_0x444395=document[_0x2087e2(0x695)](_0x2087e2(0x8c1)),_0x5280da=document['getElementById']('project-passcode-input'),_0x3d5b4e=_0x3e3eca[_0x2087e2(0x78a)]||![];_0x4c923c[_0x2087e2(0x364)]=_0x3d5b4e,_0x5280da['value']=_0x3e3eca[_0x2087e2(0x8d4)]||'',_0x444395[_0x2087e2(0xd75)]['toggle'](_0x2087e2(0x721),!_0x3d5b4e),_0x4c923c[_0x2087e2(0x55a)]=()=>{const _0xa2e5fb=_0x2087e2;_0x444395[_0xa2e5fb(0xd75)]['toggle']('hidden',!_0x4c923c[_0xa2e5fb(0x364)]);},document['getElementById']('confidence-scoring-checkbox')[_0x2087e2(0x364)]=_0x3e3eca[_0x2087e2(0x830)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x553b46),listenForProjectQuizzes(_0x553b46),listenForStudentProfiles(_0x553b46);}else showMessage('ไม่พบโปรเจค'),showView(_0x2087e2(0x586));}async function handleResetProjectOrder(){const _0x1c77c7=_0x315eb9,_0x370e8c=doc(db,_0x1c77c7(0x974),_0x1c77c7(0xd50));try{await setDoc(_0x370e8c,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x1c77c7(0x8d1));}catch(_0xe63d87){console[_0x1c77c7(0xb62)](_0x1c77c7(0x68d),_0xe63d87),showMessage(_0x1c77c7(0x630));}}async function handleTogglePinProject(_0x260cac){const _0x435d37=_0x315eb9;if(!_0x260cac)return;const _0x25072c=doc(db,_0x435d37(0x2d5)+appId+'/public/data/projects',_0x260cac);try{const _0x3520f4=await getDoc(_0x25072c);if(_0x3520f4['exists']()){const _0x3ca7d6=_0x3520f4['data']()[_0x435d37(0xc40)]||![];await updateDoc(_0x25072c,{'isPinned':!_0x3ca7d6});}}catch(_0x148dda){console[_0x435d37(0xb62)]('Error\x20toggling\x20pin\x20status:',_0x148dda),showMessage(_0x435d37(0x9be));}}async function handleDeleteProject(_0x3864ae){const _0x35f428=_0x315eb9;try{const _0x17adaf=writeBatch(db),_0x19d4df=collection(db,_0x35f428(0x2d5)+appId+_0x35f428(0xc5d)),_0x4dcb36=query(_0x19d4df,where('projectId','==',_0x3864ae)),_0x3e6ff4=await getDocs(_0x4dcb36);for(const _0x3318c1 of _0x3e6ff4['docs']){const _0x332565=collection(db,_0x35f428(0x2d5)+appId+_0x35f428(0xb5c)+_0x3318c1['id']+_0x35f428(0xaa7)),_0x546496=await getDocs(_0x332565);_0x546496[_0x35f428(0x2d4)](_0x1a5c59=>{const _0x36e23c=_0x35f428;_0x17adaf[_0x36e23c(0xbce)](_0x1a5c59[_0x36e23c(0x988)]);}),_0x17adaf[_0x35f428(0xbce)](_0x3318c1[_0x35f428(0x988)]);}const _0x210d12=collection(db,_0x35f428(0x2d5)+appId+_0x35f428(0xa6e)+_0x3864ae+'/studentProfiles'),_0x56a2bc=await getDocs(_0x210d12);_0x56a2bc[_0x35f428(0x2d4)](_0x53a976=>{const _0x442b74=_0x35f428;_0x17adaf[_0x442b74(0xbce)](_0x53a976['ref']);});const _0x6e3412=doc(db,_0x35f428(0x2d5)+appId+_0x35f428(0x36a),_0x3864ae);_0x17adaf['delete'](_0x6e3412),await _0x17adaf[_0x35f428(0xba4)](),showMessage(_0x35f428(0x339)),showView('admin-dashboard');}catch(_0x4b3cca){console[_0x35f428(0xb62)](_0x35f428(0x77d),_0x4b3cca),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x315eb9(0x695)](_0x315eb9(0x878))[_0x315eb9(0x59b)](_0x315eb9(0xc9a),async()=>{const _0x5d2881=_0x315eb9;if(!currentProjectId)return;const _0x12957b={'defaultNumQuestions':parseInt(document['getElementById'](_0x5d2881(0x5eb))[_0x5d2881(0xbdb)]),'defaultNumChoices':parseInt(document[_0x5d2881(0x695)](_0x5d2881(0xca0))[_0x5d2881(0xbdb)]),'defaultPassingScore':parseInt(document[_0x5d2881(0x695)](_0x5d2881(0x505))[_0x5d2881(0xbdb)]),'resultsDisplay':document[_0x5d2881(0x695)]('results-display-select')[_0x5d2881(0xbdb)],'shuffleSetting':document[_0x5d2881(0x695)](_0x5d2881(0x3fe))[_0x5d2881(0xbdb)],'timerMode':document[_0x5d2881(0x695)]('timer-mode-select')['value'],'timerDuration':parseInt(document[_0x5d2881(0x695)](_0x5d2881(0x84b))['value']),'isConfidenceScoringEnabled':document[_0x5d2881(0x695)](_0x5d2881(0x2b4))[_0x5d2881(0x364)],'confidenceMode':document['getElementById'](_0x5d2881(0x408))[_0x5d2881(0xbdb)]};try{const _0x3db270=doc(db,_0x5d2881(0x2d5)+appId+_0x5d2881(0x36a),currentProjectId);await updateDoc(_0x3db270,{'settings':_0x12957b}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x474f0f){console[_0x5d2881(0xb62)](_0x5d2881(0xbf6),_0x474f0f),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x10b4ec){const _0x4d0b03=_0x315eb9,_0x6b9b0a=doc(db,_0x4d0b03(0x2d5)+appId+_0x4d0b03(0x36a),_0x10b4ec);unsubscribeStudentsListener=onSnapshot(_0x6b9b0a,_0x29050e=>{const _0x4ae6a9=_0x4d0b03;if(_0x29050e[_0x4ae6a9(0xb5a)]()){const _0x121508=_0x29050e[_0x4ae6a9(0x5ac)]();currentProjectData=_0x121508,renderStudentList(_0x121508['students']||[]);}});}function renderStudentList(_0x277d4f){const _0x512e83=_0x315eb9,_0x4563c6=document[_0x512e83(0x695)](_0x512e83(0x61a));_0x277d4f[_0x512e83(0xca6)]===0x0?(studentList[_0x512e83(0xb6b)]=_0x512e83(0x724),_0x4563c6[_0x512e83(0xd75)][_0x512e83(0x8d6)](_0x512e83(0x721))):(studentList['innerHTML']=_0x277d4f[_0x512e83(0x947)](_0x55daff=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x55daff+_0x512e83(0x6d2)+_0x55daff+_0x512e83(0xa81))['join'](''),_0x4563c6[_0x512e83(0xd75)][_0x512e83(0x8cc)]('hidden'));}document[_0x315eb9(0x695)]('add-student-btn')['addEventListener'](_0x315eb9(0xc9a),async()=>{const _0x3b1aa5=_0x315eb9;if(!currentProjectId)return;const _0x236ba6=document[_0x3b1aa5(0x695)]('student-name-input'),_0x44c040=_0x236ba6[_0x3b1aa5(0xbdb)][_0x3b1aa5(0xbcf)]();if(!_0x44c040){showMessage(_0x3b1aa5(0x263));return;}const _0x405aac=_0x44c040['split']('\x0a')[_0x3b1aa5(0x947)](_0x333322=>_0x333322['trim']())[_0x3b1aa5(0x9c1)](_0x932ea6=>_0x932ea6);if(_0x405aac[_0x3b1aa5(0xca6)]===0x0)return;try{const _0x2d4417=doc(db,_0x3b1aa5(0x2d5)+appId+'/public/data/projects',currentProjectId),_0x545fa3=await getDoc(_0x2d4417);if(_0x545fa3[_0x3b1aa5(0xb5a)]()){const _0x1da085=_0x545fa3['data']()['students']||[],_0x24ac61=[...new Set([..._0x1da085,..._0x405aac])];await updateDoc(_0x2d4417,{'students':_0x24ac61}),_0x236ba6[_0x3b1aa5(0xbdb)]='';}}catch(_0x5a06af){console[_0x3b1aa5(0xb62)](_0x3b1aa5(0x2ef),_0x5a06af),showMessage(_0x3b1aa5(0x288));}});async function handleManualQuizPairing(_0xf6bc5){const _0x143a1f=_0x315eb9,_0x5cfbcf=document[_0x143a1f(0x695)](_0x143a1f(0x28c)),_0x3a6543=document[_0x143a1f(0x695)](_0x143a1f(0x416)),_0x58d610=_0x5cfbcf[_0x143a1f(0xc31)]('h3'),_0x19f66f=document[_0x143a1f(0x695)]('confirm-move-quiz-btn'),_0x249e05=document['getElementById'](_0x143a1f(0xd5d));_0x58d610['textContent']=_0x143a1f(0x2a7),_0x3a6543[_0x143a1f(0xb6b)]=_0x143a1f(0x584),_0x19f66f[_0x143a1f(0x97a)]=_0x143a1f(0x7b3),_0x5cfbcf[_0x143a1f(0xd75)][_0x143a1f(0x8cc)](_0x143a1f(0x721));const _0x53544e=allQuizzes[_0x143a1f(0x9c1)](_0x51c8dc=>_0x51c8dc['id']!==_0xf6bc5);_0x53544e[_0x143a1f(0xca6)]===0x0?(_0x3a6543[_0x143a1f(0xb6b)]=_0x143a1f(0x3ee),_0x19f66f[_0x143a1f(0x22a)]=!![]):(_0x3a6543[_0x143a1f(0xb6b)]='<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>'+_0x53544e[_0x143a1f(0x947)](_0x30dd39=>'<option\x20value=\x22'+_0x30dd39['id']+'\x22>'+_0x30dd39['topic']+_0x143a1f(0x866))[_0x143a1f(0x6f5)](''),_0x19f66f[_0x143a1f(0x22a)]=![]);const _0xbd9687=async()=>{const _0x46234a=_0x143a1f,_0x55fe94=_0x3a6543[_0x46234a(0xbdb)];if(!_0x55fe94){showMessage('กรุณาเลือกแบบทดสอบที่ต้องการจับคู่');return;}_0x19f66f[_0x46234a(0x22a)]=!![],_0x19f66f[_0x46234a(0x97a)]=_0x46234a(0xb8e);try{const _0x415d43=doc(db,_0x46234a(0x2d5)+appId+_0x46234a(0xc5d),_0xf6bc5),_0x31b81c=doc(db,_0x46234a(0x2d5)+appId+_0x46234a(0xc5d),_0x55fe94),_0x5db063=writeBatch(db);_0x5db063[_0x46234a(0x31c)](_0x415d43,{'pairedQuizId':_0x55fe94}),_0x5db063[_0x46234a(0x31c)](_0x31b81c,{'pairedQuizId':_0xf6bc5}),await _0x5db063[_0x46234a(0xba4)](),showMessage(_0x46234a(0x57d)),_0x5cfbcf[_0x46234a(0xd75)][_0x46234a(0x8d6)](_0x46234a(0x721));}catch(_0x83d7d8){console[_0x46234a(0xb62)](_0x46234a(0x932),_0x83d7d8),showMessage('เกิดข้อผิดพลาดในการจับคู่');}finally{_0x58d610[_0x46234a(0x97a)]=_0x46234a(0x657),_0x19f66f[_0x46234a(0x97a)]='ย้าย',_0x19f66f['disabled']=![],_0x19f66f[_0x46234a(0x538)](_0x46234a(0xc9a),_0xbd9687),_0x249e05[_0x46234a(0x538)](_0x46234a(0xc9a),_0x4758a9);}},_0x4758a9=()=>{const _0x1d4598=_0x143a1f;_0x5cfbcf[_0x1d4598(0xd75)][_0x1d4598(0x8d6)]('hidden'),_0x58d610[_0x1d4598(0x97a)]=_0x1d4598(0x657),_0x19f66f['textContent']='ย้าย',_0x19f66f['removeEventListener'](_0x1d4598(0xc9a),_0xbd9687),_0x249e05[_0x1d4598(0x538)]('click',_0x4758a9);};_0x19f66f[_0x143a1f(0x59b)](_0x143a1f(0xc9a),_0xbd9687),_0x249e05[_0x143a1f(0x59b)](_0x143a1f(0xc9a),_0x4758a9);}function handleDeleteStudent(_0x248143){const _0x2de3f9=_0x315eb9;showConfirmation(_0x2de3f9(0x447)+_0x248143+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0x1c4062=_0x2de3f9;if(!currentProjectId||!currentProjectData)return;const _0xb78421=currentProjectData[_0x1c4062(0xa0e)]['filter'](_0x271658=>_0x271658!==_0x248143);try{const _0x23172d=doc(db,_0x1c4062(0x2d5)+appId+_0x1c4062(0x36a),currentProjectId),_0x3fab6a=doc(db,'artifacts/'+appId+_0x1c4062(0xa6e)+currentProjectId+'/studentProfiles',_0x248143),_0x2f2122=writeBatch(db);_0x2f2122[_0x1c4062(0x31c)](_0x23172d,{'students':_0xb78421}),_0x2f2122['delete'](_0x3fab6a),await _0x2f2122['commit']();}catch(_0x260a00){console[_0x1c4062(0xb62)](_0x1c4062(0x253),_0x260a00),showMessage(_0x1c4062(0xc50));}});}function handleDeleteAllStudents(){const _0x59b44e=_0x315eb9;showConfirmation(_0x59b44e(0xb28),async()=>{const _0x4cdf99=_0x59b44e;if(!currentProjectId)return;try{const _0x2a18ac=doc(db,_0x4cdf99(0x2d5)+appId+'/public/data/projects',currentProjectId),_0x2ba559=collection(db,_0x4cdf99(0x2d5)+appId+_0x4cdf99(0xa6e)+currentProjectId+_0x4cdf99(0x558)),_0x45c47=await getDocs(_0x2ba559),_0x24dfc5=writeBatch(db);_0x24dfc5[_0x4cdf99(0x31c)](_0x2a18ac,{'students':[]}),_0x45c47[_0x4cdf99(0x2d4)](_0x330ae6=>_0x24dfc5[_0x4cdf99(0xbce)](_0x330ae6[_0x4cdf99(0x988)])),await _0x24dfc5[_0x4cdf99(0xba4)]();}catch(_0x5d2bba){console['error']('Error\x20deleting\x20all\x20students:',_0x5d2bba),showMessage(_0x4cdf99(0x627));}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x513742){const _0xfd45dc=_0x315eb9,_0x46c37b=document['getElementById'](_0xfd45dc(0xcb8)),_0x31b053=document[_0xfd45dc(0x695)](_0xfd45dc(0xcb7));_0x46c37b['classList'][_0xfd45dc(0x8cc)](_0xfd45dc(0x721)),_0x31b053[_0xfd45dc(0xb6b)]=_0xfd45dc(0x39a);try{const _0x14fea5=new FileReader();_0x14fea5[_0xfd45dc(0xa05)](_0x513742),await new Promise((_0x319b13,_0x1aac13)=>{const _0x2e4378=_0xfd45dc;_0x14fea5[_0x2e4378(0x83e)]=()=>{const _0xf2ad7c=_0x2e4378;fileDataBase64=_0x14fea5[_0xf2ad7c(0xa55)][_0xf2ad7c(0x5fa)](',')[0x1],fileMimeType=_0x513742[_0xf2ad7c(0x789)],_0x319b13();},_0x14fea5[_0x2e4378(0xd1e)]=_0xec7cf3=>_0x1aac13(_0xec7cf3);});if(!fileDataBase64)throw new Error(_0xfd45dc(0x9d3));const _0x18a69b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x599825={'type':_0xfd45dc(0xac9),'properties':{'topics':{'type':_0xfd45dc(0x8fe),'items':{'type':'STRING'}}},'required':['topics']},_0x36e22d=[{'text':_0x18a69b},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x89bd22=await handleApiCall(_0x36e22d,_0xfd45dc(0x882),_0x599825,null,![]);if(_0x89bd22&&_0x89bd22['topics'])extractedFileTopics=_0x89bd22[_0xfd45dc(0x358)],renderFileTopics();else throw new Error(_0xfd45dc(0x9f4));}catch(_0x5bc0f0){console[_0xfd45dc(0xb62)](_0xfd45dc(0xa29),_0x5bc0f0),_0x31b053[_0xfd45dc(0xb6b)]=_0xfd45dc(0x79b)+_0x5bc0f0[_0xfd45dc(0x9eb)]+_0xfd45dc(0xb97);}}function renderFileTopics(){const _0x3f8360=_0x315eb9,_0x4e988e=document[_0x3f8360(0x695)](_0x3f8360(0xcb7));if(extractedFileTopics[_0x3f8360(0xca6)]===0x0){_0x4e988e[_0x3f8360(0xb6b)]=_0x3f8360(0x7bf);return;}_0x4e988e['innerHTML']=extractedFileTopics[_0x3f8360(0x947)](_0x46c971=>_0x3f8360(0x9b2)+_0x46c971+_0x3f8360(0x3ff)+escape(_0x46c971)+_0x3f8360(0xaa3)+escape(_0x46c971)+_0x3f8360(0x5d9))[_0x3f8360(0x6f5)]('');}async function generateHybridQuizForTopic(_0x2af781){const _0x2e53fc=_0x315eb9,_0x4d1ddf=parseInt(document[_0x2e53fc(0x695)]('num-questions')['value'],0xa),_0x4cc1c3=document[_0x2e53fc(0x695)]('quiz-type-select')[_0x2e53fc(0xbdb)],_0x136db3=document['getElementById'](_0x2e53fc(0xca0))[_0x2e53fc(0xbdb)],_0x42a2d7=document[_0x2e53fc(0x695)](_0x2e53fc(0xcc9))[_0x2e53fc(0x364)],_0x16825f=_0x42a2d7?_0x2e53fc(0x94f):_0x2e53fc(0xbc5);let _0x164bfd='',_0x33c348;const _0x3461fc={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x2e53fc(0x8fe),'items':{'type':_0x2e53fc(0x277)}},'correctAnswerIndex':{'type':_0x2e53fc(0x97c)},'explanation':{'type':_0x2e53fc(0x277)},'imageCode':{'type':'STRING'}},'required':[_0x2e53fc(0x620),'options',_0x2e53fc(0x794),_0x2e53fc(0x94e)]},_0x2b6fc1={'type':_0x2e53fc(0xac9),'properties':{'questionText':{'type':_0x2e53fc(0x277)},'correctAnswer':{'type':_0x2e53fc(0x994)},'explanation':{'type':_0x2e53fc(0x277)},'imageCode':{'type':_0x2e53fc(0x277)}},'required':['questionText',_0x2e53fc(0x43f),'explanation']},_0x5206ab={'type':_0x2e53fc(0xac9),'properties':{'questionText':{'type':_0x2e53fc(0x277)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2e53fc(0x277)}},'required':[_0x2e53fc(0x620),_0x2e53fc(0xc00),_0x2e53fc(0x94e)]},_0x1dd314={'type':_0x2e53fc(0xac9),'properties':{'questionType':{'type':_0x2e53fc(0x277),'enum':[_0x2e53fc(0xc17)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x2e53fc(0x277)},'allResponses':{'type':'ARRAY','items':{'type':'STRING'}},'explanation':{'type':_0x2e53fc(0x277)},'imageCode':{'type':_0x2e53fc(0x277)}},'required':['questionType',_0x2e53fc(0x858),_0x2e53fc(0x5a6),'allResponses','explanation']};switch(_0x4cc1c3){case _0x2e53fc(0x959):_0x164bfd=_0x2e53fc(0x795)+_0x136db3+_0x2e53fc(0xa20),_0x33c348=_0x3461fc;break;case _0x2e53fc(0xb93):_0x164bfd=_0x2e53fc(0x8ae),_0x33c348=_0x2b6fc1;break;case _0x2e53fc(0x633):_0x164bfd='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)',_0x33c348=_0x5206ab;break;case _0x2e53fc(0x7e3):_0x164bfd=_0x2e53fc(0xc7c),_0x33c348=_0x1dd314;break;case _0x2e53fc(0xd94):_0x164bfd='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20'+_0x136db3+_0x2e53fc(0xa20),_0x33c348=_0x3461fc;break;default:_0x164bfd='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x136db3+'\x20ตัวเลือก)',_0x33c348=_0x3461fc;break;}const _0x2e939f='สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด',_0x4224b5=document[_0x2e53fc(0x695)](_0x2e53fc(0x2da)),_0x5e5018=document[_0x2e53fc(0x695)](_0x2e53fc(0x2ad)),_0xffe7bb=document[_0x2e53fc(0x695)]('generated-quiz-container');document[_0x2e53fc(0x695)](_0x2e53fc(0xbec))[_0x2e53fc(0xd75)][_0x2e53fc(0x8cc)]('hidden'),_0xffe7bb[_0x2e53fc(0xb6b)]='',_0x4224b5[_0x2e53fc(0xd75)]['remove'](_0x2e53fc(0x721)),_0x5e5018[_0x2e53fc(0x97a)]=_0x2e53fc(0x699)+_0x2af781+_0x2e53fc(0x7c8)+_0x4d1ddf+_0x2e53fc(0xaf8);try{const _0x12050f='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a',_0x5b9c85=_0x2e53fc(0x7be)+_0x2af781+_0x2e53fc(0xc94)+_0x4d1ddf+_0x2e53fc(0x5e7)+_0x2af781+_0x2e53fc(0x6f9)+_0x4d1ddf+_0x2e53fc(0x382)+_0x16825f+_0x2e53fc(0x5c8)+_0x164bfd+_0x2e53fc(0x9c6)+_0x2e939f+_0x2e53fc(0xd9a)+_0x12050f+_0x2e53fc(0x551)+simpleMathPrompt+_0x2e53fc(0xa99),_0x5ae718={'type':_0x2e53fc(0xac9),'properties':{'topic':{'type':_0x2e53fc(0x277)},'questions':{'type':_0x2e53fc(0x8fe),'items':_0x33c348}},'required':[_0x2e53fc(0xd28),_0x2e53fc(0xab9)]},_0x50a266=[{'text':_0x5b9c85},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x50a266,_0x2e53fc(0x73f)+_0x2af781+_0x2e53fc(0x84c),_0x5ae718);}catch(_0x31250d){console[_0x2e53fc(0xb62)](_0x2e53fc(0xacd),_0x31250d),showMessage(_0x2e53fc(0x99a)+_0x31250d[_0x2e53fc(0x9eb)]),_0xffe7bb[_0x2e53fc(0xb6b)]=_0x2e53fc(0x7b8);}finally{_0x4224b5[_0x2e53fc(0xd75)]['add'](_0x2e53fc(0x721));}}async function handleGenerateFromFileClick(){const _0x3957b7=_0x315eb9;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x26c0fd=document['getElementById'](_0x3957b7(0x2da)),_0x3faf14=document[_0x3957b7(0x695)]('loader-text'),_0x3095ec=document[_0x3957b7(0x695)](_0x3957b7(0x82e)),_0x870bd7=document[_0x3957b7(0x695)]('generate-from-file-btn');_0x870bd7[_0x3957b7(0x22a)]=!![],document[_0x3957b7(0x695)](_0x3957b7(0xbec))['classList'][_0x3957b7(0x8cc)]('hidden'),_0x3095ec['innerHTML']='',_0x26c0fd[_0x3957b7(0xd75)]['remove']('hidden'),_0x3faf14[_0x3957b7(0x97a)]=_0x3957b7(0x760);try{const _0x2fba0e=await new Promise((_0x4eb3d5,_0x4189fe)=>{const _0x236982=_0x3957b7,_0x453809=new FileReader();_0x453809[_0x236982(0xa05)](selectedFile),_0x453809['onload']=()=>_0x4eb3d5(_0x453809[_0x236982(0xa55)][_0x236982(0x5fa)](',')[0x1]),_0x453809[_0x236982(0xd1e)]=_0x57e440=>_0x4189fe(_0x57e440);});await generateQuizFromFile(selectedFile[_0x3957b7(0x789)],_0x2fba0e);}catch(_0x41cf90){console[_0x3957b7(0xb62)]('Error\x20processing\x20file\x20for\x20AI:',_0x41cf90),showMessage(_0x3957b7(0x437)+_0x41cf90[_0x3957b7(0x9eb)]),_0x26c0fd[_0x3957b7(0xd75)][_0x3957b7(0x8d6)](_0x3957b7(0x721)),_0x870bd7[_0x3957b7(0x22a)]=![];}}function autoFormatMath(_0xb35563){const _0x51cd9f=_0x315eb9;if(typeof _0xb35563!==_0x51cd9f(0x901)||!_0xb35563)return _0xb35563;const _0x55b26b=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x27e117=_0xb35563['replace'](_0x55b26b,_0x427684=>{return'$'+_0x427684['trim']()+'$';});return _0x27e117;}function sanitizeQuizData(_0x49c48e){const _0x2290b3=_0x315eb9;if(!_0x49c48e||!_0x49c48e[_0x2290b3(0xab9)])return _0x49c48e;const _0x317918={'imes':_0x2290b3(0xba2),'div':_0x2290b3(0x237)},_0x245a34=_0x2b1a38=>{const _0x5fa2a7=_0x2290b3;if(typeof _0x2b1a38!==_0x5fa2a7(0x901))return _0x2b1a38;let _0x1ec21a=_0x2b1a38;for(const [_0x42e03e,_0x1b4a77]of Object[_0x5fa2a7(0x9d1)](_0x317918)){const _0x2ce74c=new RegExp('\x5cb'+_0x42e03e+'\x5cb','g');_0x1ec21a=_0x1ec21a[_0x5fa2a7(0x963)](_0x2ce74c,_0x1b4a77);}return _0x1ec21a=_0x1ec21a[_0x5fa2a7(0x963)](/\\\//g,'\x5cdiv'),_0x1ec21a=_0x1ec21a['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')[_0x5fa2a7(0x963)](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')[_0x5fa2a7(0x963)](/÷/g,_0x5fa2a7(0x237))[_0x5fa2a7(0x963)](/×/g,'\x5ctimes'),_0x1ec21a=_0x1ec21a[_0x5fa2a7(0x963)](/(\d)(\\frac)/g,_0x5fa2a7(0x85c)),_0x1ec21a=autoFormatMath(_0x1ec21a),_0x1ec21a;};return _0x49c48e['topic']&&(_0x49c48e[_0x2290b3(0xd28)]=_0x245a34(_0x49c48e[_0x2290b3(0xd28)])),_0x49c48e['questions'][_0x2290b3(0x2d4)](_0x538ee1=>{const _0x16455d=_0x2290b3;_0x538ee1[_0x16455d(0x620)]=_0x245a34(_0x538ee1[_0x16455d(0x620)]),_0x538ee1['options']&&(_0x538ee1[_0x16455d(0x6ce)]=_0x538ee1[_0x16455d(0x6ce)][_0x16455d(0x947)](_0x245a34)),_0x538ee1[_0x16455d(0x94e)]&&(_0x538ee1['explanation']=_0x245a34(_0x538ee1['explanation'])),_0x538ee1['stem']&&(_0x538ee1['stem']=_0x245a34(_0x538ee1[_0x16455d(0x858)])),_0x538ee1[_0x16455d(0x5a6)]&&(_0x538ee1['correctResponse']=_0x245a34(_0x538ee1['correctResponse'])),_0x538ee1['allResponses']&&(_0x538ee1['allResponses']=_0x538ee1[_0x16455d(0x556)][_0x16455d(0x947)](_0x245a34));}),_0x49c48e;}const simpleMathPrompt=_0x315eb9(0xc62);async function handleGenerateFromLink(){const _0xebd1af=_0x315eb9,_0x1f3090=document[_0xebd1af(0x695)](_0xebd1af(0x83d)),_0x298ef9=document['getElementById']('link-topic-input'),_0x96a29c=_0x1f3090['value']['trim'](),_0x416240=_0x298ef9[_0xebd1af(0xbdb)][_0xebd1af(0xbcf)]();if(!_0x96a29c){showMessage(_0xebd1af(0x7e8));return;}const _0x2303c7=document['getElementById'](_0xebd1af(0x2da)),_0x194572=document[_0xebd1af(0x695)]('loader-text'),_0x3240c5=document[_0xebd1af(0x695)]('generated-quiz-container'),_0x30ed0f=document[_0xebd1af(0x695)](_0xebd1af(0xc9f));document[_0xebd1af(0x695)](_0xebd1af(0xbec))[_0xebd1af(0xd75)][_0xebd1af(0x8cc)]('hidden'),_0x3240c5[_0xebd1af(0xb6b)]='',_0x2303c7[_0xebd1af(0xd75)][_0xebd1af(0x8cc)](_0xebd1af(0x721)),_0x194572[_0xebd1af(0x97a)]=_0xebd1af(0xbc9),_0x30ed0f['disabled']=!![];try{const _0x2bf914='https://corsproxy.io/?'+encodeURIComponent(_0x96a29c),_0x4c0ac3=await fetch(_0x2bf914);if(!_0x4c0ac3['ok'])throw new Error(_0xebd1af(0x2e4)+_0x4c0ac3['status']+')');const _0x462437=await _0x4c0ac3[_0xebd1af(0x5f1)](),_0x404408=extractTextFromHtml(_0x462437);if(!_0x404408||_0x404408['length']<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x416240,_0x404408);}catch(_0x2185bd){console[_0xebd1af(0xb62)](_0xebd1af(0x8a2),_0x2185bd),showMessage(_0xebd1af(0x99a)+_0x2185bd['message']),_0x3240c5['innerHTML']=_0xebd1af(0xbb1);}finally{_0x2303c7[_0xebd1af(0xd75)][_0xebd1af(0x8d6)](_0xebd1af(0x721)),_0x30ed0f['disabled']=![];}}function extractTextFromHtml(_0x556c11){const _0x50db7f=_0x315eb9,_0x3cca49=new DOMParser()[_0x50db7f(0x6fa)](_0x556c11,_0x50db7f(0xc04));return _0x3cca49['querySelectorAll'](_0x50db7f(0x322))[_0x50db7f(0x2d4)](_0x2301a1=>_0x2301a1[_0x50db7f(0x8cc)]()),_0x3cca49[_0x50db7f(0x96b)][_0x50db7f(0x97a)]||'';}document[_0x315eb9(0x695)](_0x315eb9(0xb30))[_0x315eb9(0x59b)](_0x315eb9(0xc9a),()=>{const _0x36d7e2=_0x315eb9,_0x1931e3=document['getElementById'](_0x36d7e2(0xbf9))[_0x36d7e2(0xbdb)][_0x36d7e2(0xbcf)]();generateQuiz(_0x1931e3,null);}),document[_0x315eb9(0x695)]('generate-from-text-btn')['addEventListener'](_0x315eb9(0xc9a),()=>{const _0x3feb99=_0x315eb9,_0x41dae1=document['getElementById']('text-content-input')[_0x3feb99(0xbdb)][_0x3feb99(0xbcf)]();if(!_0x41dae1){showMessage(_0x3feb99(0x7a2));return;}const _0x4345ee=document[_0x3feb99(0x695)]('topic-input')['value']['trim']();generateQuiz(_0x4345ee,_0x41dae1);});async function generateQuiz(_0x5ae922,_0x56f240,_0x3986c2=null,_0x64c0a2=null,_0x78b82a=![],_0x136ea9=null,_0x3cec26=null,_0x28aee7=![]){const _0x326ad5=_0x315eb9;let _0x23f846={};if(_0x78b82a&&blueprintPageSettings)_0x23f846=blueprintPageSettings;else{const _0xa028ab=document[_0x326ad5(0x4e3)](_0x326ad5(0x897));_0x23f846={'quizType':document[_0x326ad5(0x695)]('quiz-type-select')[_0x326ad5(0xbdb)],'numQuestions':document[_0x326ad5(0x695)](_0x326ad5(0x5eb))[_0x326ad5(0xbdb)],'numChoices':document[_0x326ad5(0x695)](_0x326ad5(0xca0))['value'],'includeImages':document['getElementById'](_0x326ad5(0xcc9))['checked'],'isNormalTopic':document[_0x326ad5(0x695)](_0x326ad5(0x2cf))[_0x326ad5(0x364)],'difficultyValue':document['getElementById'](_0x326ad5(0x512))['value'],'complexityValue':document[_0x326ad5(0x695)](_0x326ad5(0x5e1))[_0x326ad5(0xbdb)],'selectedTopicNames':Array[_0x326ad5(0x768)](_0xa028ab)['map'](_0x5e1fd4=>_0x5e1fd4[_0x326ad5(0xbdb)])};}const _0x4109ad=_0x23f846[_0x326ad5(0x340)]?'':_0x326ad5(0x8fd),_0x3fead3=_0x23f846['difficultyValue']!==_0x326ad5(0xba1)?'โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x23f846[_0x326ad5(0x562)]+'\x22':'',_0x2b79ec=_0x23f846[_0x326ad5(0x1fd)]!==_0x326ad5(0x849)?_0x326ad5(0x30c)+_0x23f846[_0x326ad5(0x1fd)]+_0x326ad5(0x5bb):'';let _0x4ff710='';_0x23f846[_0x326ad5(0x46d)]&&_0x23f846[_0x326ad5(0x46d)][_0x326ad5(0xca6)]>0x0&&(_0x4ff710='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x23f846[_0x326ad5(0x46d)]['join'](',\x20')+'.');let _0x1ca45d='';_0x64c0a2&&(_0x1ca45d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x997a18='',_0x3dacca='',_0x40d705,_0x4e3d4a=_0x326ad5(0x7b5)+_0x5ae922+'\x22';if(!_0x5ae922&&_0x56f240)_0x4e3d4a='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x5ae922&&!_0x56f240&&(_0x4e3d4a=_0x326ad5(0x259));const _0x13f6da={'type':_0x326ad5(0xac9),'properties':{'questionText':{'type':_0x326ad5(0x277)},'options':{'type':_0x326ad5(0x8fe),'items':{'type':_0x326ad5(0x277)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x326ad5(0x277)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x326ad5(0x6ce),_0x326ad5(0x794),_0x326ad5(0x94e)]},_0x13248d={'type':_0x326ad5(0xac9),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x326ad5(0x277)}},'required':[_0x326ad5(0x620),'idealAnswer',_0x326ad5(0x94e)]},_0x2a6fd4={'type':_0x326ad5(0xac9),'properties':{'questionText':{'type':_0x326ad5(0x277)},'questionType':{'type':_0x326ad5(0x277),'enum':[_0x326ad5(0x959),_0x326ad5(0x735)]},'options':{'type':_0x326ad5(0x8fe),'items':{'type':_0x326ad5(0x277)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x326ad5(0x277)},'explanation':{'type':_0x326ad5(0x277)},'imageCode':{'type':_0x326ad5(0x277)}},'required':[_0x326ad5(0x620),_0x326ad5(0x9e0),_0x326ad5(0x94e)]},_0x531ccd={'type':_0x326ad5(0xac9),'properties':{'questionText':{'type':_0x326ad5(0x277)},'correctAnswer':{'type':_0x326ad5(0x994)},'explanation':{'type':_0x326ad5(0x277)},'imageCode':{'type':_0x326ad5(0x277)}},'required':[_0x326ad5(0x620),'correctAnswer',_0x326ad5(0x94e)]},_0x37c5ac={'type':'OBJECT','properties':{'questionType':{'type':_0x326ad5(0x277),'enum':['matching_item']},'stem':{'type':_0x326ad5(0x277)},'correctResponse':{'type':_0x326ad5(0x277)},'allResponses':{'type':_0x326ad5(0x8fe),'items':{'type':'STRING'}},'explanation':{'type':_0x326ad5(0x277)},'imageCode':{'type':_0x326ad5(0x277)}},'required':[_0x326ad5(0x9e0),_0x326ad5(0x858),_0x326ad5(0x5a6),_0x326ad5(0x556),_0x326ad5(0x94e)]};let _0x1a5c38;if(_0x3986c2!==null){const _0x254793=currentQuizData[_0x326ad5(0xab9)][_0x3986c2][_0x326ad5(0x9e0)],_0x78ea0=_0x23f846[_0x326ad5(0x419)]?_0x326ad5(0x52c):'';_0x997a18=_0x326ad5(0x9cb)+_0x4e3d4a+'\x20'+_0x4ff710+'\x20'+_0x3fead3+_0x326ad5(0xa08)+_0x78ea0+'\x20'+simpleMathPrompt;if(_0x254793===_0x326ad5(0x959))_0x40d705=_0x13f6da;else{if(_0x254793===_0x326ad5(0xc17))_0x40d705={'type':'OBJECT','properties':{'questionType':{'type':_0x326ad5(0x277),'enum':[_0x326ad5(0xc17)]},'stem':{'type':_0x326ad5(0x277)},'correctResponse':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionType',_0x326ad5(0x858),_0x326ad5(0x5a6),_0x326ad5(0x94e)]};else _0x40d705=_0x13248d;}_0x1a5c38=_0x40d705;}else{const _0xc4975e=_0x23f846[_0x326ad5(0x419)]?_0x326ad5(0x977):'';switch(_0x23f846[_0x326ad5(0xa41)]){case _0x326ad5(0x959):_0x997a18=_0x326ad5(0xc93)+_0x4109ad+'\x20'+_0x23f846[_0x326ad5(0xb3e)]+_0x326ad5(0xa71)+_0x4e3d4a+'\x20'+_0x4ff710+'\x20'+_0x3fead3+'\x20'+_0x2b79ec+'\x20'+_0x1ca45d+_0x326ad5(0x51a)+_0x23f846[_0x326ad5(0x5f4)]+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0xc4975e+'\x20'+simpleMathPrompt,_0x40d705=_0x13f6da;break;case _0x326ad5(0xd94):_0x997a18=_0x326ad5(0xa24)+_0x4109ad+'\x20'+_0x23f846['numQuestions']+'\x20ข้อ\x20'+_0x4e3d4a+'\x20'+_0x4ff710+'\x20'+_0x3fead3+'\x20'+_0x2b79ec+'\x20'+_0x1ca45d+_0x326ad5(0xc5a)+_0x23f846['numChoices']+_0x326ad5(0x953)+_0xc4975e+'\x20'+simpleMathPrompt,_0x40d705=_0x13f6da;break;case _0x326ad5(0x633):_0x997a18=_0x326ad5(0xa24)+_0x4109ad+'\x20'+_0x23f846['numQuestions']+_0x326ad5(0xa71)+_0x4e3d4a+'\x20'+_0x4ff710+'\x20'+_0x3fead3+'\x20'+_0x2b79ec+'\x20'+_0x1ca45d+_0x326ad5(0x4a0)+_0xc4975e+'\x20'+simpleMathPrompt,_0x40d705=_0x13248d;break;case _0x326ad5(0x849):_0x997a18=_0x326ad5(0xcfc)+_0x4109ad+'\x20'+_0x23f846[_0x326ad5(0xb3e)]+'\x20ข้อ\x20'+_0x4e3d4a+'\x20'+_0x4ff710+'\x20'+_0x3fead3+'\x20'+_0x2b79ec+'\x20'+_0x1ca45d+_0x326ad5(0xc0d)+_0x23f846[_0x326ad5(0x5f4)]+_0x326ad5(0xc2e)+_0xc4975e+'\x20'+simpleMathPrompt+'.',_0x40d705=_0x2a6fd4;break;case'true_false':_0x997a18=_0x326ad5(0x3b0)+_0x4109ad+'\x20'+_0x23f846[_0x326ad5(0xb3e)]+'\x20ข้อ\x20'+_0x4e3d4a+'\x20'+_0x4ff710+'\x20'+_0x3fead3+'\x20'+_0x2b79ec+'\x20'+_0x1ca45d+_0x326ad5(0xd0c)+_0xc4975e+'\x20'+simpleMathPrompt,_0x40d705=_0x531ccd;break;case _0x326ad5(0x7e3):_0x997a18=_0x326ad5(0xa03)+_0x4109ad+'\x20'+_0x23f846[_0x326ad5(0xb3e)]+_0x326ad5(0xa63)+_0x4e3d4a+'\x20'+_0x4ff710+'\x20'+_0x3fead3+'\x20'+_0x2b79ec+'\x20'+_0x1ca45d+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0xc4975e+'\x20'+simpleMathPrompt,_0x40d705=_0x37c5ac;break;}_0x1a5c38={'type':'OBJECT','properties':{'topic':{'type':_0x326ad5(0x277)},'questions':{'type':_0x326ad5(0x8fe),'items':_0x40d705}},'required':[_0x326ad5(0xd28),_0x326ad5(0xab9)]};}const _0xda29fa=_0x326ad5(0xcc6);_0x56f240?(_0x28aee7?_0x997a18=_0x326ad5(0x843)+_0x56f240+_0x326ad5(0x203)+_0x997a18+_0xda29fa:_0x997a18=_0x326ad5(0x843)+_0x56f240+_0x326ad5(0x203)+_0x997a18,_0x3dacca=_0x326ad5(0x2eb)):(_0x28aee7&&(_0x997a18+=_0xda29fa),_0x3dacca=_0x326ad5(0x8ab));let _0x35f135;return _0x64c0a2?(_0x35f135=[{'text':_0x997a18},..._0x64c0a2],_0x3dacca='กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...'):_0x35f135=_0x997a18,handleApiCall(_0x35f135,_0x3dacca,_0x1a5c38,_0x3986c2,!![],_0x136ea9,_0x3cec26);}async function generateQuizFromFile(_0x800a15,_0x31e3e8){const _0x5a1a28=_0x315eb9,_0x3a5c30=document[_0x5a1a28(0x695)](_0x5a1a28(0x8e8))['value'][_0x5a1a28(0xbcf)](),_0x20d1e3=document[_0x5a1a28(0x695)](_0x5a1a28(0xa1d))[_0x5a1a28(0xbdb)],_0x54704b=document['getElementById'](_0x5a1a28(0x5eb))[_0x5a1a28(0xbdb)],_0x50bd2e=document['getElementById']('num-choices')[_0x5a1a28(0xbdb)],_0x3d2bea=document['getElementById'](_0x5a1a28(0xcc9))[_0x5a1a28(0x364)],_0x5b61ca=document['getElementById'](_0x5a1a28(0x2cf))[_0x5a1a28(0x364)],_0x5e1881=_0x5b61ca?'':_0x5a1a28(0x8fd),_0x1e22e5=document['getElementById'](_0x5a1a28(0x312))[_0x5a1a28(0x364)];let _0x4a9358='',_0xc4face;const _0x2a68b7=_0x3d2bea?_0x5a1a28(0x977):'';if(_0x1e22e5)_0x4a9358=_0x5a1a28(0x84e)+_0x2a68b7+'\x0a'+simpleMathPrompt+'\x0a',_0xc4face={'type':'OBJECT','properties':{'questionText':{'type':_0x5a1a28(0x277)},'questionType':{'type':_0x5a1a28(0x277),'enum':['multiple_choice',_0x5a1a28(0x735),'true_false',_0x5a1a28(0xc17)]},'options':{'type':_0x5a1a28(0x8fe),'items':{'type':_0x5a1a28(0x277)}},'correctAnswerIndex':{'type':_0x5a1a28(0x97c)},'idealAnswer':{'type':_0x5a1a28(0x277)},'correctAnswer':{'type':_0x5a1a28(0x994)},'stem':{'type':_0x5a1a28(0x277)},'correctResponse':{'type':_0x5a1a28(0x277)},'allResponses':{'type':_0x5a1a28(0x8fe),'items':{'type':_0x5a1a28(0x277)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5a1a28(0x277)}},'required':[_0x5a1a28(0x9e0),_0x5a1a28(0x94e)]};else{let _0x1f764d=_0x5a1a28(0x7b5)+_0x3a5c30+'\x22';!_0x3a5c30&&(_0x1f764d=_0x5a1a28(0x8f1));switch(_0x20d1e3){case _0x5a1a28(0x959):_0x4a9358=_0x5a1a28(0xc93)+_0x5e1881+'\x20'+_0x54704b+_0x5a1a28(0xa71)+_0x1f764d+_0x5a1a28(0x51a)+_0x50bd2e+_0x5a1a28(0x65a)+_0x2a68b7+'\x20'+simpleMathPrompt,_0xc4face={'type':'OBJECT','properties':{'questionText':{'type':_0x5a1a28(0x277)},'options':{'type':_0x5a1a28(0x8fe),'items':{'type':_0x5a1a28(0x277)}},'correctAnswerIndex':{'type':_0x5a1a28(0x97c)},'explanation':{'type':_0x5a1a28(0x277)},'imageCode':{'type':_0x5a1a28(0x277)}},'required':['questionText',_0x5a1a28(0x6ce),_0x5a1a28(0x794),_0x5a1a28(0x94e)]};break;case _0x5a1a28(0xd94):_0x4a9358=_0x5a1a28(0xa24)+_0x5e1881+'\x20'+_0x54704b+'\x20ข้อ\x20'+_0x1f764d+_0x5a1a28(0xc5a)+_0x50bd2e+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x2a68b7+'\x20'+simpleMathPrompt,_0xc4face={'type':'OBJECT','properties':{'questionText':{'type':_0x5a1a28(0x277)},'options':{'type':'ARRAY','items':{'type':_0x5a1a28(0x277)}},'correctAnswerIndex':{'type':_0x5a1a28(0x97c)},'explanation':{'type':_0x5a1a28(0x277)},'imageCode':{'type':'STRING'}},'required':['questionText','options',_0x5a1a28(0x794),'explanation']};break;case _0x5a1a28(0x633):_0x4a9358=_0x5a1a28(0xa24)+_0x5e1881+'\x20'+_0x54704b+_0x5a1a28(0xa71)+_0x1f764d+_0x5a1a28(0x87d)+_0x2a68b7+'\x20'+simpleMathPrompt,_0xc4face={'type':'OBJECT','properties':{'questionText':{'type':_0x5a1a28(0x277)},'idealAnswer':{'type':_0x5a1a28(0x277)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5a1a28(0x277)}},'required':[_0x5a1a28(0x620),_0x5a1a28(0xc00),_0x5a1a28(0x94e)]};break;case _0x5a1a28(0x849):_0x4a9358=_0x5a1a28(0xcfc)+_0x5e1881+'\x20'+_0x54704b+'\x20ข้อ\x20'+_0x1f764d+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x50bd2e+_0x5a1a28(0x5af)+_0x2a68b7+'\x20'+simpleMathPrompt+_0x5a1a28(0x2e8),_0xc4face={'type':'OBJECT','properties':{'questionText':{'type':_0x5a1a28(0x277)},'questionType':{'type':_0x5a1a28(0x277),'enum':[_0x5a1a28(0x959),_0x5a1a28(0x735)]},'options':{'type':'ARRAY','items':{'type':_0x5a1a28(0x277)}},'correctAnswerIndex':{'type':_0x5a1a28(0x97c)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x5a1a28(0x277)},'imageCode':{'type':_0x5a1a28(0x277)}},'required':[_0x5a1a28(0x620),_0x5a1a28(0x9e0),_0x5a1a28(0x94e)]};break;case _0x5a1a28(0xb93):_0x4a9358=_0x5a1a28(0x3b0)+_0x5e1881+'\x20'+_0x54704b+_0x5a1a28(0xa71)+_0x1f764d+_0x5a1a28(0xc42)+_0x2a68b7+'\x20'+simpleMathPrompt,_0xc4face={'type':_0x5a1a28(0xac9),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x5a1a28(0x994)},'explanation':{'type':_0x5a1a28(0x277)},'imageCode':{'type':_0x5a1a28(0x277)}},'required':[_0x5a1a28(0x620),'correctAnswer','explanation']};break;case _0x5a1a28(0x7e3):_0x4a9358=_0x5a1a28(0xa03)+_0x5e1881+'\x20'+_0x54704b+_0x5a1a28(0xa63)+_0x1f764d+_0x5a1a28(0xcc4)+_0x54704b+_0x5a1a28(0x2e0)+_0x2a68b7+'\x20'+simpleMathPrompt,_0xc4face={'type':_0x5a1a28(0xac9),'properties':{'questionType':{'type':_0x5a1a28(0x277),'enum':[_0x5a1a28(0xc17)]},'stem':{'type':_0x5a1a28(0x277)},'correctResponse':{'type':_0x5a1a28(0x277)},'allResponses':{'type':_0x5a1a28(0x8fe),'items':{'type':_0x5a1a28(0x277)}},'explanation':{'type':_0x5a1a28(0x277)},'imageCode':{'type':_0x5a1a28(0x277)}},'required':[_0x5a1a28(0x9e0),_0x5a1a28(0x858),_0x5a1a28(0x5a6),_0x5a1a28(0x556),_0x5a1a28(0x94e)]};break;}}const _0x3888f2={'type':_0x5a1a28(0xac9),'properties':{'topic':{'type':_0x5a1a28(0x277)},'questions':{'type':_0x5a1a28(0x8fe),'items':_0xc4face}},'required':[_0x5a1a28(0xd28),_0x5a1a28(0xab9)]},_0x44d366=_0x5a1a28(0xda5)+_0x4a9358,_0x163271={'contents':[{'parts':[{'text':_0x44d366},{'inlineData':{'mimeType':_0x800a15,'data':_0x31e3e8}}]}],'generationConfig':{'responseMimeType':_0x5a1a28(0x3c0),'responseSchema':_0x3888f2}};return handleApiCall(_0x163271['contents'][0x0][_0x5a1a28(0x24c)],_0x5a1a28(0xbed),_0x3888f2);}async function handleApiCall(_0x494a0a,_0x2ceb96,_0x24d016,_0xe1526b=null,_0x24cfef=!![],_0x5668ac=null,_0x3489b0=null){const _0x4c9233=_0x315eb9,_0x3207dd=document[_0x4c9233(0x695)](_0x4c9233(0xbec)),_0x182ae5=document[_0x4c9233(0x695)](_0x4c9233(0x2da)),_0x1adccc=document[_0x4c9233(0x695)](_0x4c9233(0x2ad)),_0x440a34=document[_0x4c9233(0x695)](_0x4c9233(0x82e));_0x3207dd['classList'][_0x4c9233(0x8cc)](_0x4c9233(0x721));_0xe1526b===null&&_0x24cfef&&(_0x440a34[_0x4c9233(0xb6b)]='');_0x182ae5[_0x4c9233(0xd75)][_0x4c9233(0x8cc)](_0x4c9233(0x721)),_0x1adccc[_0x4c9233(0x97a)]=_0x2ceb96,document['getElementById'](_0x4c9233(0xb30))[_0x4c9233(0x22a)]=!![],document[_0x4c9233(0x695)]('generate-from-text-btn')[_0x4c9233(0x22a)]=!![],document[_0x4c9233(0x695)](_0x4c9233(0xc9f))[_0x4c9233(0x22a)]=!![];const _0x10f33d=document[_0x4c9233(0x695)](_0x4c9233(0x539));if(_0x10f33d)_0x10f33d[_0x4c9233(0x22a)]=!![];const _0x48eb2f=document[_0x4c9233(0x695)](_0x4c9233(0x663));if(_0x48eb2f)_0x48eb2f[_0x4c9233(0x22a)]=!![];const _0x50ef58=document[_0x4c9233(0x695)](_0x4c9233(0x761));if(_0x50ef58)_0x50ef58[_0x4c9233(0x22a)]=!![];try{const _0x181c60=Array[_0x4c9233(0x4cb)](_0x494a0a)?_0x494a0a:[{'text':_0x494a0a}],_0xae5d9e={'contents':[{'role':_0x4c9233(0x350),'parts':_0x181c60}]};_0x24d016&&(_0xae5d9e[_0x4c9233(0x33a)]={'responseMimeType':_0x4c9233(0x3c0),'responseSchema':_0x24d016});const _0x3d8f4f=_0x4c9233(0xb94),_0x53071f='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x3d8f4f,_0xb19382=await fetch(_0x53071f,{'method':_0x4c9233(0xd20),'headers':{'Content-Type':_0x4c9233(0x3c0)},'body':JSON[_0x4c9233(0xd46)](_0xae5d9e)});if(!_0xb19382['ok']){const _0x321a9a=await _0xb19382[_0x4c9233(0x5f1)]();console[_0x4c9233(0xb62)](_0x4c9233(0x5d3),_0x321a9a);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0xb19382[_0x4c9233(0xbfe)]);}const _0xba50c2=await _0xb19382[_0x4c9233(0x8c2)]();if(!_0xba50c2[_0x4c9233(0x5ab)]||_0xba50c2['candidates'][_0x4c9233(0xca6)]===0x0){let _0x30baef=_0x4c9233(0xd4a);return _0xba50c2[_0x4c9233(0x7ee)]?.['blockReason']&&(_0x30baef=_0x4c9233(0x799)+_0xba50c2[_0x4c9233(0x7ee)]['blockReason']+'.'),console[_0x4c9233(0xb62)](_0x30baef,JSON[_0x4c9233(0xd46)](_0xba50c2)),null;}const _0x1fc981=_0xba50c2[_0x4c9233(0x5ab)][0x0][_0x4c9233(0x8fa)][_0x4c9233(0x24c)][0x0][_0x4c9233(0x5f1)];if(_0x24d016){let _0x519636=_0x1fc981;if(_0x519636['startsWith']('```json'))_0x519636=_0x519636[_0x4c9233(0x4e1)](0x7,_0x519636['length']-0x3)[_0x4c9233(0xbcf)]();else _0x519636[_0x4c9233(0x6db)](_0x4c9233(0x74c))&&(_0x519636=_0x519636[_0x4c9233(0x4e1)](0x3,_0x519636['length']-0x3)[_0x4c9233(0xbcf)]());let _0x54f3b2=JSON['parse'](_0x519636);if(_0x24cfef){if(_0xe1526b!==null){}else currentQuizData=_0x54f3b2,displayGeneratedQuiz(currentQuizData,_0x5668ac,_0x3489b0);}return _0x54f3b2;}else return _0x1fc981;}catch(_0x4be4cb){console[_0x4c9233(0xb62)](_0x4c9233(0x370),_0x4be4cb),showMessage('เกิดข้อผิดพลาดในการสร้าง:\x20'+_0x4be4cb['message']);_0x24cfef&&(_0x440a34[_0x4c9233(0xb6b)]=_0x4c9233(0x896));throw _0x4be4cb;}finally{_0x182ae5['classList'][_0x4c9233(0x8d6)](_0x4c9233(0x721)),document[_0x4c9233(0x695)](_0x4c9233(0xb30))[_0x4c9233(0x22a)]=![],document[_0x4c9233(0x695)](_0x4c9233(0x355))['disabled']=![],document[_0x4c9233(0x695)]('generate-from-link-btn')['disabled']=![];if(_0x10f33d)_0x10f33d[_0x4c9233(0x22a)]=![];if(_0x48eb2f)_0x48eb2f['disabled']=![];if(_0x50ef58)_0x50ef58['disabled']=![];}}function exitFullscreen(){const _0x1b6e10=_0x315eb9;if(document[_0x1b6e10(0x997)])document[_0x1b6e10(0x997)]()[_0x1b6e10(0x346)](_0x31883b=>console[_0x1b6e10(0xb62)](_0x31883b));else{if(document['webkitExitFullscreen'])document[_0x1b6e10(0xda2)]();else document[_0x1b6e10(0x2cb)]&&document['msExitFullscreen']();}}function enterFullscreen(){const _0x520941=_0x315eb9,_0x4c8f09=document[_0x520941(0x46a)];if(_0x4c8f09[_0x520941(0x6bc)])_0x4c8f09[_0x520941(0x6bc)]()[_0x520941(0x346)](_0x35f1c2=>{const _0x2df93f=_0x520941;console[_0x2df93f(0xb62)](_0x2df93f(0x993)+_0x35f1c2[_0x2df93f(0x9eb)]+'\x20('+_0x35f1c2[_0x2df93f(0x38d)]+')');});else{if(_0x4c8f09[_0x520941(0x9a2)])_0x4c8f09[_0x520941(0x9a2)]();else _0x4c8f09[_0x520941(0x8a6)]&&_0x4c8f09[_0x520941(0x8a6)]();}}function handleCheatingEvent(){const _0x46aac9=_0x315eb9;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x46aac9(0xc15),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x46aac9(0xa59)+maxCheatAttempts+_0x46aac9(0x3dc)),document[_0x46aac9(0x695)](_0x46aac9(0x23d))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x46aac9(0x538)](_0x46aac9(0xcde),handleVisibilityChange),document[_0x46aac9(0x538)]('fullscreenchange',handleFullscreenChange)):showMessage(_0x46aac9(0xae5)+cheatAttempts+'/'+maxCheatAttempts+_0x46aac9(0x7ca),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x471109=_0x315eb9;if(currentMode===_0x471109(0xd7a)||!isQuizActive)return;if(document[_0x471109(0xa73)]==='hidden')handleCheatingEvent();else document[_0x471109(0xa73)]===_0x471109(0x59e)&&(console['log'](_0x471109(0x8ed)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x1ab60e=_0x315eb9;if(currentMode===_0x1ab60e(0xd7a)||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x45a92b,_0x34c515=null,_0x318003=null){const _0x37eb2f=_0x315eb9,_0x2ffcfa=document[_0x37eb2f(0x695)]('generated-quiz-container');let _0x5d4776=_0x37eb2f(0x66e)+_0x45a92b[_0x37eb2f(0xd28)]+_0x37eb2f(0x29e);_0x45a92b[_0x37eb2f(0xab9)]['forEach']((_0x1939ea,_0x519abb)=>{const _0x3d1ff4=_0x37eb2f;!_0x1939ea['id']&&(_0x1939ea['id']='q_'+Date[_0x3d1ff4(0x320)]()+'_'+_0x519abb);const _0x270ea4=_0x1939ea[_0x3d1ff4(0x9e0)]||_0x45a92b[_0x3d1ff4(0xa41)];_0x5d4776+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22'+_0x519abb+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x519abb+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x519abb+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x270ea4){case _0x3d1ff4(0xc17):_0x5d4776+=_0x3d1ff4(0xa68)+_0x519abb+'\x22>'+(_0x519abb+0x1)+'.\x20'+_0x1939ea[_0x3d1ff4(0x858)]+_0x3d1ff4(0xb97);_0x1939ea[_0x3d1ff4(0xaf3)]&&(_0x5d4776+='<div\x20id=\x22q-image-container-'+_0x519abb+_0x3d1ff4(0x78d)+_0x1939ea[_0x3d1ff4(0xaf3)]+_0x3d1ff4(0x4cd));_0x5d4776+=_0x3d1ff4(0x442)+_0x519abb+'\x22>'+_0x1939ea[_0x3d1ff4(0x5a6)]+'</span></div>',_0x5d4776+=_0x3d1ff4(0xb91)+_0x519abb+'\x22>'+_0x1939ea[_0x3d1ff4(0x94e)]+_0x3d1ff4(0x7ef);break;case _0x3d1ff4(0x735):_0x5d4776+=_0x3d1ff4(0xa68)+_0x519abb+'\x22>'+(_0x519abb+0x1)+'.\x20'+_0x1939ea[_0x3d1ff4(0x620)]+_0x3d1ff4(0xb97);_0x1939ea['imageCode']&&(_0x5d4776+=_0x3d1ff4(0x87c)+_0x519abb+_0x3d1ff4(0x78d)+_0x1939ea[_0x3d1ff4(0xaf3)]+'</div>');_0x5d4776+='<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-'+_0x519abb+'\x22>'+_0x1939ea[_0x3d1ff4(0xc00)]+_0x3d1ff4(0x7ef),_0x5d4776+=_0x3d1ff4(0xb91)+_0x519abb+'\x22>'+_0x1939ea[_0x3d1ff4(0x94e)]+'</span></div>';break;case _0x3d1ff4(0xb93):_0x5d4776+=_0x3d1ff4(0xa68)+_0x519abb+'\x22>'+(_0x519abb+0x1)+'.\x20'+_0x1939ea[_0x3d1ff4(0x620)]+'</p>';_0x1939ea[_0x3d1ff4(0xaf3)]&&(_0x5d4776+=_0x3d1ff4(0x87c)+_0x519abb+_0x3d1ff4(0x78d)+_0x1939ea[_0x3d1ff4(0xaf3)]+_0x3d1ff4(0x4cd));_0x5d4776+=_0x3d1ff4(0x9c2)+(_0x1939ea['correctAnswer']===!![]?_0x3d1ff4(0xc74):'')+_0x3d1ff4(0xcbe)+(_0x1939ea[_0x3d1ff4(0x43f)]===![]?_0x3d1ff4(0xc74):'')+_0x3d1ff4(0x275),_0x5d4776+=_0x3d1ff4(0xb91)+_0x519abb+'\x22>'+_0x1939ea[_0x3d1ff4(0x94e)]+_0x3d1ff4(0x7ef);break;case'fill_in_the_blank':case _0x3d1ff4(0x959):default:_0x5d4776+=_0x3d1ff4(0xa68)+_0x519abb+'\x22>'+(_0x519abb+0x1)+'.\x20'+_0x1939ea[_0x3d1ff4(0x620)]+_0x3d1ff4(0xb97);_0x1939ea[_0x3d1ff4(0xaf3)]&&(_0x5d4776+=_0x3d1ff4(0x87c)+_0x519abb+_0x3d1ff4(0x78d)+_0x1939ea[_0x3d1ff4(0xaf3)]+_0x3d1ff4(0x4cd));_0x5d4776+=_0x3d1ff4(0xd40)+_0x519abb+_0x3d1ff4(0xbe1)+(_0x1939ea['options']||[])['map']((_0x58b56b,_0x5d0646)=>_0x3d1ff4(0xad7)+(_0x5d0646===_0x1939ea[_0x3d1ff4(0x794)]?_0x3d1ff4(0xc74):'')+'\x22>'+_0x58b56b+_0x3d1ff4(0x8bc))[_0x3d1ff4(0x6f5)]('')+_0x3d1ff4(0x348),_0x5d4776+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x519abb+'\x22>'+_0x1939ea[_0x3d1ff4(0x94e)]+_0x3d1ff4(0x7ef);break;}_0x5d4776+=_0x3d1ff4(0x4cd);}),_0x5d4776+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>',_0x2ffcfa[_0x37eb2f(0xb6b)]=_0x5d4776,document[_0x37eb2f(0x4e3)](_0x37eb2f(0xd33))[_0x37eb2f(0x2d4)](_0x201638=>_0x201638['addEventListener'](_0x37eb2f(0xc9a),handleEditQuestion)),document[_0x37eb2f(0x4e3)]('.regenerate-question-btn')[_0x37eb2f(0x2d4)](_0x57fec1=>_0x57fec1[_0x37eb2f(0x59b)](_0x37eb2f(0xc9a),handleRegenerateQuestion)),document[_0x37eb2f(0x695)]('export-worksheet-pdf-btn')[_0x37eb2f(0x59b)](_0x37eb2f(0xc9a),exportQuizAsWorksheetPDF),document[_0x37eb2f(0x695)](_0x37eb2f(0x1ee))[_0x37eb2f(0x59b)](_0x37eb2f(0xc9a),handleVerifyAnswers);const _0x4f9bc8=document[_0x37eb2f(0x695)](_0x37eb2f(0x6b3));if(_0x4f9bc8){const _0x5ad108=_0x34c515||currentProjectId;_0x4f9bc8['addEventListener'](_0x37eb2f(0xc9a),()=>saveQuiz(_0x5ad108,_0x318003));}if(window[_0x37eb2f(0x3af)])window['MathJax']['typesetPromise']([_0x2ffcfa]);}function handleRegenerateQuestion(_0x42de87){const _0x1453b1=_0x315eb9,_0x17d787=_0x42de87['currentTarget'][_0x1453b1(0x4b5)][_0x1453b1(0xa42)],_0x55a210=currentQuizData[_0x1453b1(0xd28)];showMessage(_0x1453b1(0xab0)+(parseInt(_0x17d787)+0x1)+'\x20ใหม่...'),generateQuiz(_0x55a210,null,parseInt(_0x17d787));}function getPointerPosition(_0x5dc7df,_0x1d21ef){const _0x2e619b=_0x315eb9,_0x3dfbf8=_0x5dc7df[_0x2e619b(0xb49)]();let _0x144d40,_0x2dd9ad;return _0x1d21ef['touches']&&_0x1d21ef['touches'][_0x2e619b(0xca6)]>0x0?(_0x144d40=_0x1d21ef[_0x2e619b(0x3a3)][0x0][_0x2e619b(0x601)],_0x2dd9ad=_0x1d21ef['touches'][0x0][_0x2e619b(0x6a6)]):(_0x144d40=_0x1d21ef[_0x2e619b(0x601)],_0x2dd9ad=_0x1d21ef[_0x2e619b(0x6a6)]),{'x':(_0x144d40-_0x3dfbf8['e'])/_0x3dfbf8['a'],'y':(_0x2dd9ad-_0x3dfbf8['f'])/_0x3dfbf8['d']};}function startDrag(_0x3dc295){const _0xde004d=_0x315eb9;_0x3dc295[_0xde004d(0x789)]===_0xde004d(0x682)&&_0x3dc295[_0xde004d(0xb8f)]();const _0xdd4d74=_0x3dc295[_0xde004d(0x819)][_0xde004d(0xb12)](_0xde004d(0x46f));if(_0xdd4d74){draggedSvgElement=_0xdd4d74;const _0x2eec9c=draggedSvgElement[_0xde004d(0x84f)],_0x14dd5e=getPointerPosition(_0x2eec9c,_0x3dc295);svgOffset['x']=_0x14dd5e['x']-parseFloat(draggedSvgElement[_0xde004d(0x33d)](null,'x')),svgOffset['y']=_0x14dd5e['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x5896ce,_0x270809){const _0x26129a=_0x315eb9,_0x40fcb0={};if(_0x270809['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x2aea9a=[..._0x270809][_0x26129a(0x7a1)]((_0x3d205e,_0x1732be)=>{const _0x5327ba=_0x26129a,_0x130140=_0x1732be['latestScore']-_0x3d205e[_0x5327ba(0xb6f)];if(_0x130140!==0x0)return _0x130140;const _0x5e4fe9=_0x3d205e['attempts']?.[_0x5327ba(0xca6)]||0x1,_0xb40395=_0x1732be[_0x5327ba(0x5e2)]?.[_0x5327ba(0xca6)]||0x1,_0x89588c=_0x5e4fe9-_0xb40395;if(_0x89588c!==0x0)return _0x89588c;const _0xa02812=new Date(_0x3d205e[_0x5327ba(0x587)]),_0x24390d=new Date(_0x1732be[_0x5327ba(0x587)]),_0xb21054=_0xa02812-_0x24390d;if(_0xb21054!==0x0)return _0xb21054;return _0x3d205e[_0x5327ba(0x8be)][_0x5327ba(0x9f1)](_0x1732be['studentName'],'th');}),_0x39aa7c=_0x2aea9a[_0x26129a(0xca6)],_0x5f0c28=Math[_0x26129a(0xd57)](0x1,Math[_0x26129a(0x4a5)](_0x39aa7c*0.33));if(_0x5f0c28===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x4ae079=_0x2aea9a['slice'](0x0,_0x5f0c28),_0x2fcfae=_0x2aea9a[_0x26129a(0x7c9)](-_0x5f0c28),_0x275ffe=_0x4ae079[_0x26129a(0x947)](_0x359aca=>_0x359aca[_0x26129a(0x8be)]),_0x4609f4=_0x2fcfae[_0x26129a(0x947)](_0xa33052=>_0xa33052[_0x26129a(0x8be)]);return _0x5896ce['questions'][_0x26129a(0x2d4)]((_0x15ceff,_0x84ec69)=>{const _0x634d97=_0x26129a,_0x46a3b0=_0x15ceff[_0x634d97(0x858)]||_0x15ceff[_0x634d97(0x620)];let _0x3c2ae5=0x0,_0x43f532=0x0,_0x1356e6=0x0;const _0x1e5d26=[],_0x41a085=[];_0x4ae079[_0x634d97(0x2d4)](_0x293ccf=>{const _0x3b6b44=_0x634d97,_0x383eee=_0x293ccf[_0x3b6b44(0x5e2)][_0x293ccf['attempts'][_0x3b6b44(0xca6)]-0x1],_0x156348=_0x383eee['answers'][_0x3b6b44(0x559)](_0x4377d2=>_0x4377d2[_0x3b6b44(0xcd5)]===_0x46a3b0);_0x1e5d26[_0x3b6b44(0xd41)]({'name':_0x293ccf[_0x3b6b44(0x8be)],'isCorrect':_0x156348?_0x156348['isCorrect']:![]}),_0x156348&&_0x156348[_0x3b6b44(0xa06)]&&_0x43f532++;}),_0x2fcfae[_0x634d97(0x2d4)](_0x15664f=>{const _0x2ef7ed=_0x634d97,_0x510162=_0x15664f[_0x2ef7ed(0x5e2)][_0x15664f[_0x2ef7ed(0x5e2)][_0x2ef7ed(0xca6)]-0x1],_0x126971=_0x510162[_0x2ef7ed(0x4ec)]['find'](_0x42564e=>_0x42564e[_0x2ef7ed(0xcd5)]===_0x46a3b0);_0x41a085[_0x2ef7ed(0xd41)]({'name':_0x15664f[_0x2ef7ed(0x8be)],'isCorrect':_0x126971?_0x126971[_0x2ef7ed(0xa06)]:![]}),_0x126971&&_0x126971[_0x2ef7ed(0xa06)]&&_0x1356e6++;}),_0x270809['forEach'](_0x50a4ca=>{const _0x5d597d=_0x634d97,_0x50826f=_0x50a4ca[_0x5d597d(0x5e2)][_0x50a4ca['attempts']['length']-0x1],_0x120cee=_0x50826f[_0x5d597d(0x4ec)][_0x5d597d(0x559)](_0x5c6bbe=>_0x5c6bbe[_0x5d597d(0xcd5)]===_0x46a3b0);_0x120cee&&_0x120cee[_0x5d597d(0xa06)]&&_0x3c2ae5++;});const _0x39d235=_0x39aa7c>0x0?_0x3c2ae5/_0x39aa7c:0x0,_0x3302ba=_0x5f0c28>0x0?_0x43f532/_0x5f0c28-_0x1356e6/_0x5f0c28:0x0;_0x40fcb0[_0x84ec69]={'p':_0x39d235,'r':_0x3302ba,'upperGroupResponders':_0x1e5d26,'lowerGroupResponders':_0x41a085};}),{'perQuestionStats':_0x40fcb0,'overallGroups':{'upperGroupNames':_0x275ffe,'lowerGroupNames':_0x4609f4}};}function drag(_0xdd01c3){const _0x10bd34=_0x315eb9;if(draggedSvgElement){_0xdd01c3[_0x10bd34(0xb8f)]();const _0x311adc=draggedSvgElement[_0x10bd34(0x84f)],_0x448798=getPointerPosition(_0x311adc,_0xdd01c3),_0x107226=_0x311adc[_0x10bd34(0x4ba)][_0x10bd34(0xd14)];let _0x266770=_0x448798['x']-svgOffset['x'],_0x15825e=_0x448798['y']-svgOffset['y'];const _0x1a8b3b=draggedSvgElement['getBBox']();_0x266770=Math[_0x10bd34(0xd57)](_0x107226['x'],Math[_0x10bd34(0x777)](_0x266770,_0x107226['x']+_0x107226[_0x10bd34(0x7c1)]-_0x1a8b3b[_0x10bd34(0x7c1)])),_0x15825e=Math[_0x10bd34(0xd57)](_0x107226['y'],Math[_0x10bd34(0x777)](_0x15825e,_0x107226['y']+_0x107226['height']-_0x1a8b3b['height'])),draggedSvgElement[_0x10bd34(0x889)](null,'x',_0x266770),draggedSvgElement[_0x10bd34(0x889)](null,'y',_0x15825e);}}function endDrag(_0x21de5c){draggedSvgElement=null;}function handleSvgEditClick(_0x4b43e1){const _0x220fe9=_0x315eb9;if(_0x4b43e1[_0x220fe9(0x819)][_0x220fe9(0xd75)][_0x220fe9(0x9d9)](_0x220fe9(0x33c))){const _0x6ef605=_0x4b43e1[_0x220fe9(0x819)][_0x220fe9(0x4b5)][_0x220fe9(0x8b1)],_0x239f3e=_0x4b43e1['currentTarget'],_0x40c980=_0x239f3e[_0x220fe9(0xc31)]('#'+_0x6ef605);_0x40c980&&_0x40c980['remove'](),_0x4b43e1[_0x220fe9(0x819)][_0x220fe9(0x8cc)]();}}function handleEditQuestion(_0x3277c3){const _0xde07be=_0x315eb9,_0x333bbc=_0x3277c3[_0xde07be(0x4de)],_0x3c1764=_0x333bbc[_0xde07be(0x4b5)][_0xde07be(0xa42)],_0x2db903=currentQuizData['questions'][_0x3c1764],_0x156b7b=document[_0xde07be(0x695)]('q-text-'+_0x3c1764),_0x128ea8=document[_0xde07be(0x695)]('q-explanation-'+_0x3c1764),_0x2bcff9=document[_0xde07be(0x695)](_0xde07be(0xc2b)+_0x3c1764);if(_0x333bbc[_0xde07be(0xb6b)][_0xde07be(0xcac)](_0xde07be(0x7a8))){_0x333bbc[_0xde07be(0xb6b)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x333bbc[_0xde07be(0x8f2)]=_0xde07be(0x5ec);if(_0x156b7b)_0x156b7b['contentEditable']=!![];if(_0x128ea8)_0x128ea8[_0xde07be(0x5aa)]=!![];if(_0x2bcff9){const _0xf00095=_0x2bcff9[_0xde07be(0xc31)](_0xde07be(0xbf3));if(_0xf00095){const _0x289560=_0xf00095[_0xde07be(0x4e3)](_0xde07be(0x5f1));_0x289560[_0xde07be(0x2d4)]((_0x145c7f,_0x1c475a)=>{const _0xf6c157=_0xde07be,_0x3aed07=_0xf6c157(0x7b9)+_0x3c1764+'-'+_0x1c475a;_0x145c7f['id']=_0x3aed07,_0x145c7f[_0xf6c157(0xd75)]['add'](_0xf6c157(0x91c)),_0x145c7f[_0xf6c157(0x7a9)]['cursor']=_0xf6c157(0x6f0);const _0x51730a=document[_0xf6c157(0x397)](_0xf6c157(0x973),_0xf6c157(0x99d)),_0x3c8e53=_0x145c7f['getBBox']();_0x51730a[_0xf6c157(0x423)]('cx',String(_0x3c8e53['x']+_0x3c8e53['width']+0x5)),_0x51730a[_0xf6c157(0x423)]('cy',String(_0x3c8e53['y']+_0x3c8e53[_0xf6c157(0x6b1)]/0x2-0x5)),_0x51730a[_0xf6c157(0x423)]('r','5'),_0x51730a[_0xf6c157(0x423)](_0xf6c157(0x7d4),_0xf6c157(0x280)),_0x51730a[_0xf6c157(0x423)](_0xf6c157(0x9a9),_0xf6c157(0x33c)),_0x51730a[_0xf6c157(0x4b5)][_0xf6c157(0x8b1)]=_0x3aed07,_0x145c7f[_0xf6c157(0x58a)](_0x51730a);}),_0xf00095[_0xde07be(0x59b)](_0xde07be(0x969),startDrag),_0xf00095[_0xde07be(0x59b)](_0xde07be(0x2ab),drag),_0xf00095[_0xde07be(0x59b)](_0xde07be(0x49b),endDrag),_0xf00095['addEventListener'](_0xde07be(0xa64),endDrag),_0xf00095[_0xde07be(0x59b)]('touchstart',startDrag,{'passive':![]}),_0xf00095[_0xde07be(0x59b)](_0xde07be(0x7f5),drag,{'passive':![]}),_0xf00095['addEventListener'](_0xde07be(0x5dc),endDrag),_0xf00095[_0xde07be(0x59b)](_0xde07be(0x4ee),endDrag),_0xf00095[_0xde07be(0x59b)](_0xde07be(0xc9a),handleSvgEditClick);}}if(_0x156b7b)_0x156b7b[_0xde07be(0x56d)]();}else{_0x333bbc['innerHTML']=_0xde07be(0x285),_0x333bbc[_0xde07be(0x8f2)]=_0xde07be(0x35a);if(_0x156b7b){_0x156b7b['contentEditable']=![];const _0x317242=_0x2db903['questionType']||currentQuizData[_0xde07be(0xa41)];_0x317242==='matching_item'?_0x2db903[_0xde07be(0x858)]=_0x156b7b[_0xde07be(0x91f)][_0xde07be(0x4e1)](_0x156b7b['innerText']['indexOf']('.')+0x2)[_0xde07be(0xbcf)]():_0x2db903[_0xde07be(0x620)]=_0x156b7b[_0xde07be(0x91f)]['substring'](_0x156b7b[_0xde07be(0x91f)][_0xde07be(0x38e)]('.')+0x2)[_0xde07be(0xbcf)]();}_0x128ea8&&(_0x128ea8['contentEditable']=![],_0x2db903[_0xde07be(0x94e)]=_0x128ea8['innerText']);if(_0x2bcff9){const _0x2019b0=_0x2bcff9[_0xde07be(0xc31)]('svg');if(_0x2019b0){const _0x13e5d6=_0x2019b0[_0xde07be(0xc97)](!![]);_0x13e5d6['querySelectorAll']('.delete-svg-btn')['forEach'](_0x377e19=>_0x377e19['remove']()),_0x13e5d6[_0xde07be(0x4e3)]('.draggable-text')[_0xde07be(0x2d4)](_0xec8211=>{const _0x4513dd=_0xde07be;_0xec8211[_0x4513dd(0xd75)][_0x4513dd(0x8cc)]('draggable-text'),_0xec8211[_0x4513dd(0x7a9)][_0x4513dd(0x50c)]=_0x4513dd(0xbf5),_0xec8211[_0x4513dd(0x2fc)]('id');}),_0x2db903[_0xde07be(0xaf3)]=_0x13e5d6[_0xde07be(0x5b7)],_0x2019b0[_0xde07be(0x538)](_0xde07be(0x969),startDrag),_0x2019b0[_0xde07be(0x538)](_0xde07be(0x2ab),drag),_0x2019b0[_0xde07be(0x538)]('mouseup',endDrag),_0x2019b0[_0xde07be(0x538)](_0xde07be(0xa64),endDrag),_0x2019b0[_0xde07be(0x538)]('touchstart',startDrag),_0x2019b0[_0xde07be(0x538)](_0xde07be(0x7f5),drag),_0x2019b0[_0xde07be(0x538)](_0xde07be(0x5dc),endDrag),_0x2019b0['removeEventListener'](_0xde07be(0x4ee),endDrag),_0x2019b0[_0xde07be(0x538)]('click',handleSvgEditClick),_0x2019b0[_0xde07be(0x4e3)](_0xde07be(0x327))['forEach'](_0x5e0a68=>_0x5e0a68['remove']()),_0x2019b0[_0xde07be(0x4e3)](_0xde07be(0x46f))[_0xde07be(0x2d4)](_0x4f14af=>{const _0x24d13a=_0xde07be;_0x4f14af[_0x24d13a(0xd75)][_0x24d13a(0x8cc)](_0x24d13a(0x91c)),_0x4f14af[_0x24d13a(0x7a9)][_0x24d13a(0x50c)]=_0x24d13a(0xbf5);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x3a9cce){const _0x14f4b4=_0x315eb9,_0x45838f=document['getElementById'](_0x14f4b4(0x4dd)),_0x21b561=document[_0x14f4b4(0x695)](_0x14f4b4(0x529));_0x21b561['innerHTML']=_0x14f4b4(0xb4f),_0x45838f[_0x14f4b4(0xd75)][_0x14f4b4(0x8cc)]('hidden');try{const _0x518a5f=doc(db,'artifacts/'+appId+_0x14f4b4(0xc5d),_0x3a9cce),_0xb5d1de=await getDoc(_0x518a5f);if(!_0xb5d1de['exists']())throw new Error(_0x14f4b4(0x647));currentEditingQuizData={'id':_0x3a9cce,..._0xb5d1de[_0x14f4b4(0x5ac)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x4225c){console[_0x14f4b4(0xb62)](_0x14f4b4(0xb9e),_0x4225c),showMessage('เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ'),_0x45838f[_0x14f4b4(0xd75)][_0x14f4b4(0x8d6)](_0x14f4b4(0x721));}}function renderQuizEditor(_0x239870){const _0x46e080=_0x315eb9;document[_0x46e080(0x695)]('editor-quiz-topic')[_0x46e080(0xbdb)]=_0x239870[_0x46e080(0xd28)];const _0x786093=document[_0x46e080(0x695)]('quiz-editor-questions-container');let _0x2107ed=_0x239870[_0x46e080(0xab9)][_0x46e080(0x947)]((_0x57918a,_0x15f735)=>{const _0x317579=_0x46e080;let _0x5d06dd='';const _0x53a3a6=_0x57918a[_0x317579(0x9e0)]||_0x239870[_0x317579(0xa41)];switch(_0x53a3a6){case'multiple_choice':const _0x576f28=(_0x57918a[_0x317579(0x6ce)]||[])[_0x317579(0x947)]((_0x5641f4,_0x162aa1)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x15f735+_0x317579(0x7d8)+_0x162aa1+'\x22\x20'+(_0x162aa1===_0x57918a['correctAnswerIndex']?_0x317579(0x364):'')+_0x317579(0x70a)+_0x5641f4+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x317579(0x6f5)]('');_0x5d06dd=_0x317579(0xb4c)+_0x576f28+_0x317579(0xc2d);break;case'short_answer':_0x5d06dd=_0x317579(0x6a3)+(_0x57918a[_0x317579(0xc00)]||'')+_0x317579(0x9b3);break;case _0x317579(0xb93):_0x5d06dd=_0x317579(0xbda)+_0x15f735+_0x317579(0x879)+(_0x57918a[_0x317579(0x43f)]===!![]?_0x317579(0x364):'')+_0x317579(0xcf1)+_0x15f735+'\x22\x20value=\x22false\x22\x20'+(_0x57918a['correctAnswer']===![]?_0x317579(0x364):'')+_0x317579(0x303);break;case _0x317579(0xc17):_0x5d06dd=_0x317579(0x5fd)+(_0x57918a[_0x317579(0x5a6)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}let _0x3a5faa=_0x57918a[_0x317579(0x620)]||_0x57918a['stem']||'';return _0x3a5faa=_0x3a5faa['replace'](/<br\s*\/?>/gi,'\x0a'),_0x317579(0x25f)+_0x15f735+_0x317579(0xada)+_0x53a3a6+_0x317579(0x45e)+(_0x15f735+0x1)+'\x20('+_0x53a3a6+_0x317579(0xd4f)+_0x3a5faa+_0x317579(0xab5)+_0x5d06dd+_0x317579(0x410);})[_0x46e080(0x6f5)]('');_0x786093[_0x46e080(0xb6b)]=_0x2107ed;const _0x30eb14=_0x46e080(0x86c);_0x786093[_0x46e080(0x8d5)](_0x46e080(0x43e),_0x30eb14),_0x786093[_0x46e080(0x4e3)](_0x46e080(0xafe))[_0x46e080(0x2d4)](_0x741c41=>{const _0x1f30bf=_0x46e080;_0x741c41['style'][_0x1f30bf(0xa72)]=_0x1f30bf(0x721),_0x741c41[_0x1f30bf(0x7a9)][_0x1f30bf(0xb45)]=_0x1f30bf(0x4f7),_0x741c41[_0x1f30bf(0x79a)]=0x4;const _0x2509bb=()=>{const _0xd82060=_0x1f30bf;_0x741c41[_0xd82060(0x7a9)][_0xd82060(0x6b1)]=_0xd82060(0xba1),_0x741c41[_0xd82060(0x7a9)][_0xd82060(0x6b1)]=_0x741c41[_0xd82060(0x5ff)]+'px';};_0x741c41['addEventListener']('input',_0x2509bb),_0x2509bb();}),_0x786093['querySelectorAll'](_0x46e080(0xbd3))[_0x46e080(0x2d4)](_0x41ed02=>{const _0x184440=_0x46e080;_0x41ed02[_0x184440(0x59b)](_0x184440(0xc9a),handleAiFixQuestion);});}function handleDeleteQuestionInEditor(_0x55c8b3){const _0x272ee7=_0x315eb9;if(!currentEditingQuizData||!currentEditingQuizData[_0x272ee7(0xab9)][_0x55c8b3])return;const _0x40f380=currentEditingQuizData[_0x272ee7(0xab9)][_0x55c8b3]['questionText']||currentEditingQuizData[_0x272ee7(0xab9)][_0x55c8b3][_0x272ee7(0x858)];showConfirmation(_0x272ee7(0xa8b)+(_0x55c8b3+0x1)+_0x272ee7(0x6ad)+_0x40f380[_0x272ee7(0x4e1)](0x0,0x14)+_0x272ee7(0xd64),()=>{const _0xbe4ba0=_0x272ee7;currentEditingQuizData[_0xbe4ba0(0xab9)][_0xbe4ba0(0xb50)](_0x55c8b3,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0xbe4ba0(0x75f));});}function handleAddQuestionInEditor(){const _0x13cbcc=_0x315eb9;if(!currentEditingQuizData)return;const _0x36b7c7={'id':'q_'+Date[_0x13cbcc(0x320)]()+'_new','questionType':_0x13cbcc(0x959),'questionText':_0x13cbcc(0x6ab),'options':[_0x13cbcc(0xdab),_0x13cbcc(0x93a),_0x13cbcc(0x56c),_0x13cbcc(0x6a7)],'correctAnswerIndex':0x0,'explanation':_0x13cbcc(0x702)};currentEditingQuizData[_0x13cbcc(0xab9)][_0x13cbcc(0xd41)](_0x36b7c7),renderQuizEditor(currentEditingQuizData);const _0x5836a4=document[_0x13cbcc(0xc31)](_0x13cbcc(0xbe2));_0x5836a4&&(_0x5836a4[_0x13cbcc(0x780)]({'behavior':_0x13cbcc(0x4f0),'block':'center'}),_0x5836a4['querySelector']('textarea')[_0x13cbcc(0x56d)]());}async function handleAiFixQuestion(_0x156ac7){const _0x2a2ce7=_0x315eb9,_0x54a690=_0x156ac7[_0x2a2ce7(0x4de)],_0x4c0627=_0x54a690[_0x2a2ce7(0xb12)](_0x2a2ce7(0x9fd));if(!_0x4c0627)return;const _0x4117ba=parseInt(_0x4c0627['dataset']['qIndex'],0xa);if(isNaN(_0x4117ba)||!currentEditingQuizData['questions'][_0x4117ba]){showMessage(_0x2a2ce7(0x54c));return;}const _0x5a52cf=currentEditingQuizData[_0x2a2ce7(0xab9)][_0x4117ba];_0x54a690[_0x2a2ce7(0xb6b)]=_0x2a2ce7(0xa89),_0x54a690['disabled']=!![];const _0x220cc1=_0x2a2ce7(0x1f4)+JSON['stringify'](_0x5a52cf)+_0x2a2ce7(0xa9a);let _0x268221;const _0x1f35ba=_0x5a52cf[_0x2a2ce7(0x9e0)]||currentEditingQuizData[_0x2a2ce7(0xa41)];switch(_0x1f35ba){case _0x2a2ce7(0x735):_0x268221={'type':_0x2a2ce7(0xac9),'properties':{'questionText':{'type':_0x2a2ce7(0x277)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x2a2ce7(0x277)}},'required':['questionText',_0x2a2ce7(0xc00),_0x2a2ce7(0x94e)]};break;case _0x2a2ce7(0x959):default:_0x268221={'type':_0x2a2ce7(0xac9),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x2a2ce7(0x8fe),'items':{'type':_0x2a2ce7(0x277)}},'correctAnswerIndex':{'type':_0x2a2ce7(0x97c)},'explanation':{'type':_0x2a2ce7(0x277)},'imageCode':{'type':_0x2a2ce7(0x277)}},'required':[_0x2a2ce7(0x620),_0x2a2ce7(0x6ce),_0x2a2ce7(0x794),_0x2a2ce7(0x94e)]};break;}try{let _0x45c866=await callAnalysisApi(_0x220cc1,_0x268221);_0x45c866[_0x2a2ce7(0x6ce)]&&Array['isArray'](_0x45c866[_0x2a2ce7(0x6ce)])&&(_0x45c866[_0x2a2ce7(0x6ce)]=_0x45c866[_0x2a2ce7(0x6ce)][_0x2a2ce7(0x947)](_0x26041f=>typeof _0x26041f===_0x2a2ce7(0x901)?_0x26041f['replace'](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0x26041f)),_0x5a52cf[_0x2a2ce7(0xaf3)]&&_0x5a52cf[_0x2a2ce7(0xaf3)]['includes'](_0x2a2ce7(0x4f3))&&(_0x45c866[_0x2a2ce7(0xaf3)]=''),currentEditingQuizData[_0x2a2ce7(0xab9)][_0x4117ba]={..._0x5a52cf,..._0x45c866},renderQuizEditor(currentEditingQuizData),showMessage('AI\x20แก้ไขคำถามสำเร็จ!');}catch(_0x55ab24){console[_0x2a2ce7(0xb62)](_0x2a2ce7(0x3e2),_0x55ab24),showMessage(_0x2a2ce7(0xc3e)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x387a85=_0x315eb9,_0x16b709=document[_0x387a85(0x695)](_0x387a85(0x933));_0x16b709['disabled']=!![],_0x16b709[_0x387a85(0xb6b)]=_0x387a85(0x995);try{const _0x55d04b=document['getElementById'](_0x387a85(0x729))[_0x387a85(0xbdb)],_0x303799=document[_0x387a85(0x4e3)](_0x387a85(0x9fd));let _0x5be33e=[];const _0x5b54eb=Array[_0x387a85(0x768)](_0x303799)['map']((_0x3a505d,_0x463b38)=>{const _0x1f08a7=_0x387a85,_0x58a8f8=_0x3a505d[_0x1f08a7(0x4b5)]['qType'],_0x4f4460=_0x3a505d[_0x1f08a7(0xc31)](_0x1f08a7(0xa0b))['value'][_0x1f08a7(0x963)](/\n/g,_0x1f08a7(0x381));let _0x495acf={'questionType':_0x58a8f8};const _0x2beb56=currentEditingQuizData[_0x1f08a7(0xab9)][_0x463b38];switch(_0x58a8f8){case _0x1f08a7(0x959):_0x495acf[_0x1f08a7(0x620)]=_0x4f4460;const _0x26d12e=_0x3a505d[_0x1f08a7(0x4e3)]('input[type=\x22text\x22]');_0x495acf['options']=Array[_0x1f08a7(0x768)](_0x26d12e)['map'](_0x5e12b9=>_0x5e12b9['value']);const _0x54a898=_0x3a505d[_0x1f08a7(0xc31)](_0x1f08a7(0xca5));_0x495acf[_0x1f08a7(0x794)]=_0x54a898?parseInt(_0x54a898[_0x1f08a7(0xbdb)]):0x0;break;case _0x1f08a7(0x735):_0x495acf['questionText']=_0x4f4460,_0x495acf[_0x1f08a7(0xc00)]=_0x3a505d[_0x1f08a7(0xc31)](_0x1f08a7(0xbe6))['value'];break;case'true_false':_0x495acf[_0x1f08a7(0x620)]=_0x4f4460;const _0x3e17e7=_0x3a505d[_0x1f08a7(0xc31)]('input[type=\x22radio\x22]:checked');_0x495acf[_0x1f08a7(0x43f)]=_0x3e17e7?_0x3e17e7[_0x1f08a7(0xbdb)]===_0x1f08a7(0x5c5):!![];break;case'matching_item':_0x495acf['stem']=_0x4f4460;const _0x475fca=_0x3a505d[_0x1f08a7(0xc31)](_0x1f08a7(0x636));_0x495acf[_0x1f08a7(0x5a6)]=_0x475fca?_0x475fca['value']:'',_0x5be33e[_0x1f08a7(0xd41)](_0x495acf[_0x1f08a7(0x5a6)]);break;default:_0x495acf[_0x1f08a7(0x620)]=_0x4f4460;break;}return{..._0x2beb56,..._0x495acf};});_0x5be33e[_0x387a85(0xca6)]>0x0&&_0x5b54eb[_0x387a85(0x2d4)](_0xbb904b=>{const _0x37cbf5=_0x387a85;_0xbb904b[_0x37cbf5(0x9e0)]===_0x37cbf5(0xc17)&&(_0xbb904b[_0x37cbf5(0x556)]=_0x5be33e);});const _0x1a6f2b=currentEditingQuizData['id'],_0x3b801d=doc(db,_0x387a85(0x2d5)+appId+_0x387a85(0xc5d),_0x1a6f2b);await updateDoc(_0x3b801d,{'topic':_0x55d04b,'questions':_0x5b54eb}),document[_0x387a85(0x695)]('quiz-editor-modal')['classList'][_0x387a85(0x8d6)](_0x387a85(0x721)),showMessage(_0x387a85(0x341),()=>initiateReGradeProcess(_0x1a6f2b));}catch(_0x4c6738){console['error'](_0x387a85(0x728),_0x4c6738),showMessage(_0x387a85(0x9e7));}finally{_0x16b709[_0x387a85(0x22a)]=![],_0x16b709[_0x387a85(0xb6b)]=_0x387a85(0xcdb);}}async function initiateReGradeProcess(_0x2abdd3){const _0x4c53c2=_0x315eb9;showMessage(_0x4c53c2(0x407));try{const _0x5ea565=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x2abdd3),_0x15fb0a=await getDoc(_0x5ea565);if(!_0x15fb0a[_0x4c53c2(0xb5a)]())throw new Error(_0x4c53c2(0x930));const _0x542ede={'id':_0x2abdd3,..._0x15fb0a[_0x4c53c2(0x5ac)]()},_0x4a664e=collection(db,_0x4c53c2(0x2d5)+appId+_0x4c53c2(0xc5d),_0x2abdd3,_0x4c53c2(0x95d)),_0x5972c1=await getDocs(_0x4a664e);if(_0x5972c1[_0x4c53c2(0x7e1)]){showMessage('ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่');return;}const _0x3013b1=_0x5972c1[_0x4c53c2(0x80f)][_0x4c53c2(0x947)](_0x137b64=>reGradeSingleSubmission(_0x137b64,_0x542ede));await Promise[_0x4c53c2(0xcea)](_0x3013b1);if(_0x542ede[_0x4c53c2(0x88e)]){const _0x5e73ae=doc(db,_0x4c53c2(0x2d5)+appId+'/public/data/projects',_0x542ede[_0x4c53c2(0x88e)]),_0x35806b=await getDoc(_0x5e73ae);if(_0x35806b[_0x4c53c2(0xb5a)]()&&_0x35806b[_0x4c53c2(0x5ac)]()[_0x4c53c2(0xa0e)]){const _0x20e2af=_0x35806b[_0x4c53c2(0x5ac)]()['students'][_0x4c53c2(0x947)](_0x3d244f=>updateStudentProfile(_0x542ede[_0x4c53c2(0x88e)],_0x3d244f));await Promise['all'](_0x20e2af);}}showMessage(_0x4c53c2(0x7dc)+_0x5972c1['size']+_0x4c53c2(0x5e3));}catch(_0x56e36d){console[_0x4c53c2(0xb62)]('Re-grade\x20process\x20failed:',_0x56e36d),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x56e36d['message']);}}async function reGradeSingleSubmission(_0x1975c1,_0x21763e){const _0x513401=_0x315eb9,_0x22745e=_0x1975c1[_0x513401(0x5ac)](),_0x2116d4=_0x22745e[_0x513401(0x8be)],_0x53a051=_0x22745e['attempts']||[],_0x4662cb=[];for(const _0x1a4158 of _0x53a051){let _0x421054=0x0,_0x113c89=[],_0x5ee43f=0x0;const _0xdbb4a3=[];for(const _0x570677 of _0x1a4158[_0x513401(0x4ec)]){let _0x58c581;_0x570677[_0x513401(0xcbf)]&&(_0x58c581=_0x21763e[_0x513401(0xab9)][_0x513401(0x559)](_0x48129a=>_0x48129a['id']===_0x570677[_0x513401(0xcbf)]));!_0x58c581&&_0x570677[_0x513401(0xcd5)]&&(_0x58c581=_0x21763e[_0x513401(0xab9)][_0x513401(0x559)](_0x1a20cd=>(_0x1a20cd['stem']||_0x1a20cd['questionText'])===_0x570677[_0x513401(0xcd5)]));let _0x2dabb8=![];if(_0x58c581){const _0xa45fdd=_0x58c581['questionType']||_0x21763e[_0x513401(0xa41)];switch(_0xa45fdd){case _0x513401(0x959):if(_0x58c581[_0x513401(0x6ce)]&&_0x58c581[_0x513401(0x794)]<_0x58c581[_0x513401(0x6ce)][_0x513401(0xca6)]){const _0x2e6a95=_0x58c581['options'][_0x58c581[_0x513401(0x794)]];_0x2dabb8=_0x570677['answerText']===_0x2e6a95;}break;case _0x513401(0xb93):const _0x638c8b=_0x570677[_0x513401(0xd0a)]===!![]||_0x570677['answer']===_0x513401(0x5c5);_0x2dabb8=_0x638c8b===_0x58c581['correctAnswer'];break;case _0x513401(0xc17):_0x2dabb8=_0x570677[_0x513401(0xd0a)]===_0x58c581[_0x513401(0x5a6)];break;case'short_answer':_0x2dabb8=await gradeShortAnswer(_0x570677['answer'],_0x58c581);break;default:_0x2dabb8=_0x570677[_0x513401(0xa06)];break;}}if(_0x2dabb8){_0x421054++,_0x5ee43f++;if(_0x5ee43f===0x3)_0x113c89['push'](BADGES[_0x513401(0xc53)]['id']);}else _0x5ee43f=0x0;_0xdbb4a3[_0x513401(0xd41)]({..._0x570677,'isCorrect':_0x2dabb8});}let _0x3d7e8a=_0x421054*0xa;_0x421054===_0x21763e[_0x513401(0xab9)][_0x513401(0xca6)]&&(_0x3d7e8a+=0x32,_0x113c89[_0x513401(0xd41)](BADGES[_0x513401(0xaaa)]['id'])),_0x4662cb[_0x513401(0xd41)]({..._0x1a4158,'score':_0x421054,'points':_0x3d7e8a,'badges':Array[_0x513401(0x768)](new Set(_0x113c89)),'answers':_0xdbb4a3});}const _0x21e452=_0x4662cb[_0x513401(0xca6)]>0x0?_0x4662cb[0x0][_0x513401(0xad9)]:0x0,_0x371be7=Math[_0x513401(0xd57)](..._0x4662cb[_0x513401(0x947)](_0x278ec2=>_0x278ec2[_0x513401(0xad9)])),_0x2d4f01=_0x4662cb[_0x513401(0xca6)]>0x0?_0x4662cb[_0x4662cb[_0x513401(0xca6)]-0x1]['score']:0x0,_0x43be8d=_0x4662cb[_0x513401(0xca6)]>0x0?_0x4662cb[_0x4662cb[_0x513401(0xca6)]-0x1][_0x513401(0xb4e)]:0x0,_0x18b693=doc(db,_0x513401(0x2d5)+appId+_0x513401(0xb5c)+_0x21763e['id']+'/submissions',_0x2116d4);await updateDoc(_0x18b693,{'attempts':_0x4662cb,'firstScore':_0x21e452,'bestScore':_0x371be7,'latestScore':_0x2d4f01,'points':_0x43be8d});}function cleanupQuizOptions(_0x2f5e81){const _0x6aefa0=_0x315eb9,_0x14424c=(_0x2dc881,_0x4d5130)=>_0x4d5130===0x0?_0x2dc881:_0x14424c(_0x4d5130,_0x2dc881%_0x4d5130),_0x57d832=_0x1a8ec6=>{const _0x55de91=_0x42ad;if(typeof _0x1a8ec6!=='string')return null;_0x1a8ec6=_0x1a8ec6['trim']();const _0x1b6d19=_0x1a8ec6[_0x55de91(0x5fa)](/[ /]/)[_0x55de91(0x9c1)](_0x480898=>_0x480898!=='');if(_0x1b6d19[_0x55de91(0xca6)]===0x3)return parseInt(_0x1b6d19[0x0])+parseInt(_0x1b6d19[0x1])/parseInt(_0x1b6d19[0x2]);else{if(_0x1b6d19[_0x55de91(0xca6)]===0x2)return parseInt(_0x1b6d19[0x0])/parseInt(_0x1b6d19[0x1]);else{if(_0x1b6d19[_0x55de91(0xca6)]===0x1&&!isNaN(_0x1b6d19[0x0]))return parseFloat(_0x1b6d19[0x0]);}}return null;},_0x896b9a=_0x1d1765=>{const _0x525ee1=_0x42ad;if(typeof _0x1d1765!==_0x525ee1(0x901))return _0x1d1765;const _0x45952f=_0x1d1765[_0x525ee1(0x5cf)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x45952f){const _0x2a943c=parseInt(_0x45952f[0x1]);let _0xb535da=parseInt(_0x45952f[0x2]),_0x5c7fee=parseInt(_0x45952f[0x3]);const _0x21fbd0=_0x14424c(_0xb535da,_0x5c7fee);_0xb535da/=_0x21fbd0,_0x5c7fee/=_0x21fbd0;if(_0x5c7fee===0x1)return(_0x2a943c+_0xb535da)['toString']();return _0x2a943c+'\x20'+_0xb535da+'/'+_0x5c7fee;}return _0x1d1765;};return _0x2f5e81&&_0x2f5e81[_0x6aefa0(0xab9)]&&_0x2f5e81[_0x6aefa0(0xab9)][_0x6aefa0(0x2d4)](_0x2704cb=>{const _0x25d235=_0x6aefa0;if(_0x2704cb[_0x25d235(0x9e0)]===_0x25d235(0x959)&&_0x2704cb['options']){const _0x1c8c4b=new Map(),_0x19304c=_0x2704cb[_0x25d235(0x6ce)][_0x2704cb[_0x25d235(0x794)]];_0x2704cb[_0x25d235(0x6ce)]['forEach'](_0x4bd395=>{const _0x13f9e5=_0x25d235,_0x2759a0=_0x896b9a(_0x4bd395),_0x3320c1=_0x57d832(_0x2759a0);_0x3320c1!==null&&!_0x1c8c4b[_0x13f9e5(0x527)](_0x3320c1)&&_0x1c8c4b[_0x13f9e5(0x7b0)](_0x3320c1,_0x2759a0);}),_0x2704cb['options']=Array[_0x25d235(0x768)](_0x1c8c4b['values']());const _0x599949=_0x2704cb[_0x25d235(0x6ce)][_0x25d235(0x67d)](_0x329175=>_0x329175===_0x896b9a(_0x19304c));_0x2704cb[_0x25d235(0x794)]=_0x599949!==-0x1?_0x599949:0x0;}}),_0x2f5e81;}function showGameStartConfirmationModal(_0x31b3dd,_0x571d1e,_0x3897c4){const _0x112f27=_0x315eb9,_0x1749a9=document[_0x112f27(0x695)]('confirm-game-start-modal');document[_0x112f27(0x695)](_0x112f27(0x268))['textContent']=_0x112f27(0xa28)+_0x3897c4,document[_0x112f27(0x695)](_0x112f27(0x561))[_0x112f27(0xbdb)]=_0x31b3dd,document[_0x112f27(0x695)](_0x112f27(0x92b))['value']=_0x571d1e,document['getElementById']('save-game-results-checkbox')['checked']=!![];const _0x259c19=document[_0x112f27(0x695)](_0x112f27(0xaac));_0x571d1e==='sync'?(_0x259c19['classList']['remove']('hidden'),document['querySelector'](_0x112f27(0x948))[_0x112f27(0x364)]=!![]):_0x259c19[_0x112f27(0xd75)]['add'](_0x112f27(0x721)),_0x1749a9[_0x112f27(0xd75)][_0x112f27(0x8cc)]('hidden');}async function saveGameResultsAsSubmissions(_0x38eefb){const _0x4c9f8d=_0x315eb9;console[_0x4c9f8d(0x95e)](_0x4c9f8d(0x872),_0x38eefb);const _0x3db871=_0x38eefb['quizId'];let _0x5c94ef=[];if(_0x38eefb['players'])_0x5c94ef=Object['entries'](_0x38eefb['players'])[_0x4c9f8d(0x947)](([_0x34f691,_0x18bca4])=>({'name':_0x34f691,..._0x18bca4}));else{if(_0x38eefb['groups'])Object[_0x4c9f8d(0xb3a)](_0x38eefb[_0x4c9f8d(0x8ee)])[_0x4c9f8d(0x2d4)](_0x3e50bf=>{const _0x14fe5f=_0x4c9f8d;_0x3e50bf[_0x14fe5f(0x35d)]['forEach'](_0x18be8c=>{const _0x1c9292=_0x14fe5f;_0x5c94ef[_0x1c9292(0xd41)]({'name':_0x18be8c,'score':_0x3e50bf[_0x1c9292(0xad9)],'answers':_0x3e50bf[_0x1c9292(0x4ec)]});});});else _0x38eefb['responses']&&Object['entries'](_0x38eefb['responses'])[_0x4c9f8d(0x2d4)](([_0x424c8c,_0x20282f])=>{const _0x4218d5=_0x4c9f8d;_0x5c94ef[_0x4218d5(0xd41)]({'name':_0x424c8c,..._0x20282f});});}if(_0x5c94ef[_0x4c9f8d(0xca6)]===0x0){console[_0x4c9f8d(0x95e)](_0x4c9f8d(0x962));return;}const _0x2efd6a=_0x38eefb[_0x4c9f8d(0x8e2)]?.[_0x4c9f8d(0xab9)][_0x4c9f8d(0xca6)]||currentQuizData[_0x4c9f8d(0xab9)][_0x4c9f8d(0xca6)],_0x391332=writeBatch(db);for(const _0x426c10 of _0x5c94ef){const _0xe2d37c=doc(db,_0x4c9f8d(0x2d5)+appId+'/public/data/quizzes/'+_0x3db871+_0x4c9f8d(0xaa7),_0x426c10[_0x4c9f8d(0x38d)]),_0x2bdaee=(_0x426c10[_0x4c9f8d(0x4ec)]||[])[_0x4c9f8d(0x9c1)](_0xdef73e=>_0xdef73e[_0x4c9f8d(0xa06)])[_0x4c9f8d(0xca6)];let _0xb72eb3=_0x2bdaee;_0x38eefb[_0x4c9f8d(0x830)]&&_0x426c10['answers']&&_0x426c10['answers'][_0x4c9f8d(0x2d4)](_0x37bc16=>{const _0x2a2de2=_0x4c9f8d;if(_0x37bc16['isCorrect']&&(_0x37bc16[_0x2a2de2(0xacb)]===!![]||_0x37bc16[_0x2a2de2(0xacb)]==='confident'))_0xb72eb3+=0x1;else!_0x37bc16[_0x2a2de2(0xa06)]&&(_0x37bc16[_0x2a2de2(0xacb)]===!![]||_0x37bc16[_0x2a2de2(0xacb)]===_0x2a2de2(0x335))&&(_0xb72eb3-=0x1);});_0x2efd6a>0x0&&_0x2bdaee===_0x2efd6a&&(_0xb72eb3+=0x1);const _0x589bf2={'score':_0x2bdaee,'points':_0xb72eb3,'badges':_0x426c10[_0x4c9f8d(0x68b)]||[],'submittedAt':new Date()[_0x4c9f8d(0x9bd)](),'answers':(_0x426c10[_0x4c9f8d(0x4ec)]||[])['map'](_0x235858=>({'questionId':_0x235858[_0x4c9f8d(0xcbf)],'answer':_0x235858[_0x4c9f8d(0xd0a)],'answerText':_0x235858['answerText'],'isCorrect':_0x235858[_0x4c9f8d(0xa06)],'originalQuestionText':_0x235858[_0x4c9f8d(0xcd5)],'wasConfident':_0x235858[_0x4c9f8d(0xacb)]}))},_0x34e606=await getDoc(_0xe2d37c),_0x2aa92f=_0x34e606[_0x4c9f8d(0xb5a)]()?_0x34e606['data']():{},_0x3099b=_0x2aa92f[_0x4c9f8d(0xa49)]||0x0,_0x431f3e=_0x2aa92f[_0x4c9f8d(0x5e2)]||[],_0x1987fa={'studentName':_0x426c10[_0x4c9f8d(0x38d)],'totalQuestions':_0x2efd6a,'attempts':arrayUnion(_0x589bf2),'latestScore':_0x2bdaee,'points':_0xb72eb3,'latestSubmittedAt':_0x589bf2[_0x4c9f8d(0xaf2)],'bestScore':Math['max'](_0x3099b,_0x2bdaee),'firstScore':_0x431f3e[_0x4c9f8d(0xca6)]===0x0?_0x2bdaee:_0x2aa92f[_0x4c9f8d(0x56a)]||0x0};_0x391332[_0x4c9f8d(0x7b0)](_0xe2d37c,_0x1987fa,{'merge':!![]});}try{await _0x391332[_0x4c9f8d(0xba4)](),showMessage(_0x4c9f8d(0x235)+_0x5c94ef[_0x4c9f8d(0xca6)]+_0x4c9f8d(0xcb4));const _0x4d5992=_0x38eefb[_0x4c9f8d(0x8e2)]?.[_0x4c9f8d(0x88e)]||currentQuizData?.[_0x4c9f8d(0x88e)]||currentProjectId;if(_0x4d5992){const _0x5c10e8=[...new Set(_0x5c94ef[_0x4c9f8d(0x947)](_0x3fca33=>_0x3fca33[_0x4c9f8d(0x38d)]))];for(const _0x5573d2 of _0x5c10e8){await updateStudentProfile(_0x4d5992,_0x5573d2);}}}catch(_0x19b65e){console[_0x4c9f8d(0xb62)](_0x4c9f8d(0xcfe),_0x19b65e),showMessage(_0x4c9f8d(0x2fa));}}async function saveQuiz(_0x412ea4=null,_0x5a8657=null){const _0x5ad448=_0x315eb9,_0x1f2e4e=_0x412ea4||currentProjectId;if(!_0x1f2e4e){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x5ad448(0xab9)]||!userId){showMessage(_0x5ad448(0x491));return;}const _0x3700ea=document['getElementById'](_0x5ad448(0x6b3));_0x3700ea[_0x5ad448(0x22a)]=!![],_0x3700ea[_0x5ad448(0xb6b)]=_0x5ad448(0x995);const _0x3931dd=document['getElementById']('pre-test-checkbox')[_0x5ad448(0x364)];let _0x1bed68=document[_0x5ad448(0x695)](_0x5ad448(0x550))['innerText'][_0x5ad448(0xbcf)]();_0x3931dd&&!_0x1bed68[_0x5ad448(0x6db)](_0x5ad448(0x450))&&(_0x1bed68=_0x5ad448(0xac3)+_0x1bed68);try{const _0x923829={'resultsDisplay':document[_0x5ad448(0x695)](_0x5ad448(0x59a))[_0x5ad448(0xbdb)],'shuffle':document[_0x5ad448(0x695)](_0x5ad448(0x3fe))[_0x5ad448(0xbdb)],'timerMode':document['getElementById'](_0x5ad448(0x580))[_0x5ad448(0xbdb)],'timerDuration':parseInt(document[_0x5ad448(0x695)]('timer-duration-input')[_0x5ad448(0xbdb)])||0xa,'passingScore':parseInt(document[_0x5ad448(0x695)](_0x5ad448(0x505))['value'])||0x0,'isAdaptive':document[_0x5ad448(0x695)](_0x5ad448(0x784))[_0x5ad448(0x364)],'loopUntilPass':document[_0x5ad448(0x695)](_0x5ad448(0x3b2))[_0x5ad448(0x364)]},_0x315b53=(currentQuizData[_0x5ad448(0xab9)]||[])[_0x5ad448(0x947)]((_0x481b8d,_0xb5a92d)=>{const _0x59e90a=_0x5ad448,_0x43f687=document['getElementById'](_0x59e90a(0xa1d))[_0x59e90a(0xbdb)],_0x217761={'id':'q_'+Date[_0x59e90a(0x320)]()+'_'+_0xb5a92d,'questionText':_0x481b8d[_0x59e90a(0x620)]||'','explanation':_0x481b8d[_0x59e90a(0x94e)]||_0x59e90a(0xd82),'questionType':_0x481b8d[_0x59e90a(0x9e0)]||_0x43f687,'imageCode':_0x481b8d[_0x59e90a(0xaf3)]||null};return(_0x217761['questionType']==='multiple_choice'||_0x217761['questionType']===_0x59e90a(0xd94)||_0x217761[_0x59e90a(0x9e0)]===_0x59e90a(0x849)&&_0x481b8d[_0x59e90a(0x6ce)])&&(_0x217761[_0x59e90a(0x6ce)]=_0x481b8d[_0x59e90a(0x6ce)]||[],_0x217761[_0x59e90a(0x794)]=_0x481b8d[_0x59e90a(0x794)]!==undefined?_0x481b8d[_0x59e90a(0x794)]:0x0),(_0x217761['questionType']===_0x59e90a(0x735)||_0x217761[_0x59e90a(0x9e0)]===_0x59e90a(0x633)||_0x217761['questionType']===_0x59e90a(0x849)&&_0x481b8d['idealAnswer'])&&(_0x217761['idealAnswer']=_0x481b8d[_0x59e90a(0xc00)]||''),_0x217761[_0x59e90a(0x9e0)]==='true_false'&&(_0x217761[_0x59e90a(0x43f)]=_0x481b8d['correctAnswer']===!![]),_0x217761[_0x59e90a(0x9e0)]==='matching_item'&&(_0x217761[_0x59e90a(0x858)]=_0x481b8d[_0x59e90a(0x858)]||'',_0x217761[_0x59e90a(0x5a6)]=_0x481b8d[_0x59e90a(0x5a6)]||'',_0x217761[_0x59e90a(0x556)]=_0x481b8d[_0x59e90a(0x556)]||[]),_0x217761;}),_0x234be4={'topic':_0x1bed68,'quizType':currentQuizData[_0x5ad448(0xa41)]||_0x5ad448(0x959),'questions':_0x315b53,'projectId':_0x1f2e4e,'createdBy':userId,'createdAt':new Date()[_0x5ad448(0x9bd)](),'status':_0x5ad448(0xb81),'settings':_0x923829,'quizMode':_0x3931dd?_0x5ad448(0xa1f):_0x5ad448(0x920),'pairedQuizId':null,'lessonPlan':null};let _0x324a7e;while(!![]){_0x324a7e=Math['floor'](0x3e8+Math[_0x5ad448(0x625)]()*0x2328)['toString']();const _0x4959d8=await getDoc(doc(db,_0x5ad448(0x2d5)+appId+_0x5ad448(0xc5d),_0x324a7e));if(!_0x4959d8[_0x5ad448(0xb5a)]())break;}await setDoc(doc(db,_0x5ad448(0x2d5)+appId+_0x5ad448(0xc5d),_0x324a7e),_0x234be4);if(_0x5a8657&&currentBlueprintProjectId){console['log'](_0x5ad448(0xbc6)+_0x324a7e+_0x5ad448(0x73d)+_0x5a8657);try{const _0x2bdbaf=doc(db,_0x5ad448(0x2d5)+appId+_0x5ad448(0x380),currentBlueprintProjectId);await updateDoc(_0x2bdbaf,{['topics.'+_0x5a8657+_0x5ad448(0x39e)]:arrayUnion(_0x324a7e)});}catch(_0x290b25){console[_0x5ad448(0xb62)](_0x5ad448(0x944),_0x290b25);}}currentQuizData[_0x5ad448(0x516)]=_0x923829,currentQuizData['id']=_0x324a7e;const _0x1685f8=document['getElementById'](_0x5ad448(0x257));_0x1685f8[_0x5ad448(0xb6b)]=_0x5ad448(0xdaa)+_0x324a7e+_0x5ad448(0x8ec),document['getElementById'](_0x5ad448(0x6d5))[_0x5ad448(0x59b)](_0x5ad448(0xc9a),()=>copyTextToClipboard(_0x324a7e,_0x5ad448(0x688))),document['getElementById'](_0x5ad448(0xbfa))['addEventListener'](_0x5ad448(0xc9a),()=>handleStartLiveRace(_0x324a7e)),document[_0x5ad448(0x695)](_0x5ad448(0x2c3))[_0x5ad448(0x59b)]('click',()=>startPresentation(currentQuizData)),document[_0x5ad448(0x695)](_0x5ad448(0xb3f))[_0x5ad448(0x59b)](_0x5ad448(0xc9a),startAdminTest),showMessage(_0x5ad448(0x38c));}catch(_0x5db4bc){console['error'](_0x5ad448(0x87e),_0x5db4bc),showMessage(_0x5ad448(0x23e));}finally{_0x3700ea[_0x5ad448(0x22a)]=![],_0x3700ea[_0x5ad448(0xb6b)]=_0x5ad448(0x846);}}function promptForProjectAndSave(){const _0x4a89e3=_0x315eb9,_0x5b6a1b=document['getElementById'](_0x4a89e3(0x28c)),_0x4503f8=document[_0x4a89e3(0x695)](_0x4a89e3(0x416)),_0x343779=_0x5b6a1b[_0x4a89e3(0xc31)]('h3'),_0x584b7f=document[_0x4a89e3(0x695)]('confirm-move-quiz-btn');_0x343779['textContent']=_0x4a89e3(0x8b2),_0x584b7f['textContent']='เลือกและบันทึก';allProjects[_0x4a89e3(0xca6)]===0x0?(_0x4503f8['innerHTML']=_0x4a89e3(0x912),_0x584b7f['disabled']=!![]):(_0x4503f8[_0x4a89e3(0xb6b)]=allProjects['map'](_0x4ee2ac=>'<option\x20value=\x22'+_0x4ee2ac['id']+'\x22>'+_0x4ee2ac['projectName']+_0x4a89e3(0x866))[_0x4a89e3(0x6f5)](''),_0x584b7f['disabled']=![]);_0x5b6a1b[_0x4a89e3(0xd75)]['remove']('hidden');const _0x2f31c5=()=>{const _0x459e22=_0x4a89e3,_0x337baa=_0x4503f8[_0x459e22(0xbdb)];_0x337baa?(currentProjectId=_0x337baa,_0x5b6a1b[_0x459e22(0xd75)][_0x459e22(0x8d6)](_0x459e22(0x721)),saveQuiz(),_0x343779['textContent']='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x584b7f['textContent']=_0x459e22(0xa3d),_0x584b7f[_0x459e22(0x538)](_0x459e22(0xc9a),_0x2f31c5),_0x584b7f[_0x459e22(0x59b)](_0x459e22(0xc9a),confirmMoveQuiz)):showMessage(_0x459e22(0xabd));};_0x584b7f[_0x4a89e3(0x538)](_0x4a89e3(0xc9a),confirmMoveQuiz),_0x584b7f[_0x4a89e3(0x59b)](_0x4a89e3(0xc9a),_0x2f31c5);}function copyTextToClipboard(_0x32f09b,_0x5ef041){const _0x3d02b1=_0x315eb9,_0x602486=document[_0x3d02b1(0x783)](_0x3d02b1(0xa0b));_0x602486[_0x3d02b1(0xbdb)]=_0x32f09b,_0x602486[_0x3d02b1(0x7a9)][_0x3d02b1(0x329)]=_0x3d02b1(0x37d),_0x602486[_0x3d02b1(0x7a9)]['opacity']='0',document[_0x3d02b1(0x96b)][_0x3d02b1(0xbbd)](_0x602486),_0x602486[_0x3d02b1(0x56d)](),_0x602486[_0x3d02b1(0x5c1)]();try{const _0x5cfc04=document[_0x3d02b1(0x669)](_0x3d02b1(0x774));showMessage(_0x5cfc04?_0x5ef041:'คัดลอกไม่สำเร็จ');}catch(_0x395981){showMessage(_0x3d02b1(0x909)),console[_0x3d02b1(0xb62)]('Copy\x20command\x20failed',_0x395981);}document[_0x3d02b1(0x96b)][_0x3d02b1(0x333)](_0x602486);}function listenForProjectQuizzes(_0x5b4fb0){const _0x36cb3c=_0x315eb9,_0x57f394=collection(db,_0x36cb3c(0x2d5)+appId+_0x36cb3c(0xc5d)),_0x190f6a=query(_0x57f394,where(_0x36cb3c(0x88e),'==',_0x5b4fb0));unsubscribeQuizzesListener=onSnapshot(_0x190f6a,async _0x1f57fd=>{const _0x8f837b=_0x36cb3c;allQuizzes=_0x1f57fd[_0x8f837b(0x80f)]['map'](_0x4e7451=>({'id':_0x4e7451['id'],..._0x4e7451[_0x8f837b(0x5ac)]()})),renderQuizzes();},_0x452c3e=>{const _0x164f63=_0x36cb3c;console[_0x164f63(0xb62)]('Error\x20fetching\x20project\x20quizzes:',_0x452c3e),document[_0x164f63(0x695)](_0x164f63(0x617))['innerHTML']='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}function _0x42ad(_0x4eb89c,_0x203e57){const _0x4252ad=_0x4252();return _0x42ad=function(_0x42ad47,_0x5639dd){_0x42ad47=_0x42ad47-0x1ee;let _0x30e8cd=_0x4252ad[_0x42ad47];return _0x30e8cd;},_0x42ad(_0x4eb89c,_0x203e57);}async function renderQuizzes(){const _0x112e84=_0x315eb9,_0x23f913=document['getElementById'](_0x112e84(0x617)),_0x36df6d=document[_0x112e84(0x695)](_0x112e84(0x2f7))[_0x112e84(0xbdb)][_0x112e84(0x766)]();let _0x4b58e3;currentProjectId===_0x112e84(0x3de)?_0x4b58e3=starredQuizzes:_0x4b58e3=allQuizzes;let _0x53a4cd=_0x4b58e3['filter'](_0x575594=>_0x575594[_0x112e84(0xd28)][_0x112e84(0x766)]()[_0x112e84(0xcac)](_0x36df6d));_0x53a4cd[_0x112e84(0x7a1)]((_0x431dbb,_0x40c469)=>new Date(_0x40c469[_0x112e84(0x7f4)])-new Date(_0x431dbb[_0x112e84(0x7f4)]));if(_0x53a4cd[_0x112e84(0xca6)]===0x0){_0x23f913[_0x112e84(0xb6b)]=_0x112e84(0x30b);return;}const _0x2138e4={},_0x43b0bc=_0x53a4cd[_0x112e84(0x947)](async _0x57fc11=>{const _0x162e8c=_0x112e84,_0x23bf53=collection(db,'artifacts/'+appId+_0x162e8c(0xb5c)+_0x57fc11['id']+'/submissions'),_0x3ecefd=await getDocs(_0x23bf53);_0x2138e4[_0x57fc11['id']]=_0x3ecefd[_0x162e8c(0x2ff)];});await Promise[_0x112e84(0xcea)](_0x43b0bc);let _0x184580='';_0x53a4cd['forEach'](_0x38079c=>{const _0x139bae=_0x112e84,_0x30f153=_0x2138e4[_0x38079c['id']]||0x0,_0x46cbca=_0x38079c[_0x139bae(0xbfe)]||_0x139bae(0xb81),_0x32993c=_0x38079c[_0x139bae(0x516)]?.[_0x139bae(0xa34)]||_0x139bae(0x4f9);let _0x32e22e='',_0xe9c397='';const _0x394e5b=new Date();let _0x46798f=_0x46cbca;if(_0x46cbca===_0x139bae(0xcae)){const _0x474a65=_0x38079c['startTime']?new Date(_0x38079c[_0x139bae(0x4d2)]):null,_0x5cc1ac=_0x38079c['endTime']?new Date(_0x38079c[_0x139bae(0x65f)]):null;if(_0x5cc1ac&&_0x394e5b>_0x5cc1ac)_0x46798f=_0x139bae(0x2f2);else _0x474a65&&_0x394e5b<_0x474a65?_0x46798f=_0x139bae(0xb27):_0x46798f=_0x139bae(0xb81);}switch(_0x46798f){case _0x139bae(0x2f2):_0x32e22e=_0x139bae(0x967),_0xe9c397=_0x139bae(0xc11);break;case _0x139bae(0xb27):_0x32e22e=_0x139bae(0x566),_0xe9c397='text-blue-700\x20bg-blue-100';break;case'active':_0x32e22e=_0x32993c!==_0x139bae(0x4f9)?'เปิด\x20(จับเวลา)':_0x139bae(0x942),_0xe9c397='text-green-700\x20bg-green-100';break;default:_0x32e22e=_0x139bae(0xb52),_0xe9c397='text-green-700\x20bg-green-100';break;}let _0x52a209='';const _0x209615={'day':_0x139bae(0x661),'month':_0x139bae(0x661),'year':_0x139bae(0x287),'hour':_0x139bae(0x661),'minute':'2-digit','hour12':![]};if(_0x46cbca==='scheduled'){if(_0x38079c[_0x139bae(0x4d2)])_0x52a209+=_0x139bae(0x82f)+new Date(_0x38079c[_0x139bae(0x4d2)])['toLocaleString'](_0x139bae(0x6f4),_0x209615)+'</p>';if(_0x38079c['endTime'])_0x52a209+=_0x139bae(0x714)+new Date(_0x38079c[_0x139bae(0x65f)])['toLocaleString'](_0x139bae(0x6f4),_0x209615)+'</p>';}let _0x52256c='';if(_0x38079c[_0x139bae(0xbc1)]){const _0x53d161=allQuizzes['find'](_0x41d83a=>_0x41d83a['id']===_0x38079c['pairedQuizId']);if(_0x53d161){let _0x50055a,_0x4baeae;new Date(_0x38079c['createdAt'])<new Date(_0x53d161[_0x139bae(0x7f4)])?(_0x50055a=_0x38079c['id'],_0x4baeae=_0x53d161['id']):(_0x50055a=_0x53d161['id'],_0x4baeae=_0x38079c['id']),_0x52256c+=_0x139bae(0xc03)+_0x4baeae+_0x139bae(0x764)+_0x50055a+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x38079c['quizMode']===_0x139bae(0xa1f)&&(_0x52256c+=_0x139bae(0x771)+_0x38079c['id']+_0x139bae(0x2f0));if(_0x38079c[_0x139bae(0xccc)]===_0x139bae(0xa1f)&&_0x30f153>0x0)_0x52256c+=_0x139bae(0x771)+_0x38079c['id']+_0x139bae(0x2c6);else!_0x38079c['pairedQuizId']&&_0x38079c[_0x139bae(0xccc)]!==_0x139bae(0xa1f)&&_0x30f153>0x0&&(_0x52256c+=_0x139bae(0x771)+_0x38079c['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');let _0x24a8a4='';_0x38079c[_0x139bae(0xbc1)]?_0x24a8a4=_0x139bae(0x2d2)+_0x38079c['id']+_0x139bae(0x445):_0x24a8a4=_0x139bae(0x2d2)+_0x38079c['id']+_0x139bae(0x6d4),_0x184580+=_0x139bae(0x83c)+_0x38079c['id']+_0x139bae(0xa5a)+_0x38079c[_0x139bae(0xd28)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x38079c['questions'][_0x139bae(0xca6)]+_0x139bae(0x658)+new Date(_0x38079c['createdAt'])[_0x139bae(0xa0f)](_0x139bae(0x6f4))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x30f153+'</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x52a209+_0x139bae(0x458)+_0xe9c397+'\x22>'+_0x32e22e+_0x139bae(0xbd9)+_0x38079c['id']+_0x139bae(0xda3)+_0x38079c['id']+_0x139bae(0x85a)+(_0x38079c['isStarred']?_0x139bae(0x51e):_0x139bae(0xd59))+_0x139bae(0x267)+_0x52256c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x38079c['id']+_0x139bae(0x6ec)+_0x38079c['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x38079c['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x38079c['id']+_0x139bae(0x979)+_0x38079c['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x38079c['id']+_0x139bae(0xb0f)+_0x38079c['id']+_0x139bae(0x7f1)+_0x38079c['topic']+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x38079c['id']+_0x139bae(0x4e7)+_0x38079c['id']+_0x139bae(0xc07)+_0x24a8a4+_0x139bae(0x564)+_0x38079c['id']+_0x139bae(0x9b7)+_0x38079c['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x38079c['id']+_0x139bae(0x82a)+_0x38079c['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x38079c['id']+_0x139bae(0xb32)+_0x38079c['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x38079c['id']+_0x139bae(0x842)+_0x38079c['id']+'\x22\x20data-topic=\x22'+_0x38079c[_0x139bae(0xd28)]+_0x139bae(0x970)+_0x38079c['id']+_0x139bae(0xb82);}),_0x23f913[_0x112e84(0xb6b)]=_0x184580,document[_0x112e84(0x4e3)](_0x112e84(0xa10))[_0x112e84(0x2d4)](_0x2f348e=>{const _0x5b3522=_0x112e84;_0x2f348e[_0x5b3522(0x59b)](_0x5b3522(0xc9a),()=>{const _0x403cf5=_0x5b3522,_0x35842a=_0x2f348e[_0x403cf5(0x4b5)]['quizId'];showQuizDetailView(_0x35842a);});});}async function handleUnpairQuiz(_0x123576){const _0x43aa35=_0x315eb9,_0x143ae9=allQuizzes[_0x43aa35(0x559)](_0x8e773a=>_0x8e773a['id']===_0x123576);if(!_0x143ae9||!_0x143ae9[_0x43aa35(0xbc1)]){showMessage(_0x43aa35(0x476));return;}showConfirmation(_0x43aa35(0x301),async()=>{const _0x41634a=_0x43aa35;try{const _0x5d388c=doc(db,_0x41634a(0x2d5)+appId+_0x41634a(0xc5d),_0x123576),_0x484b76=doc(db,_0x41634a(0x2d5)+appId+_0x41634a(0xc5d),_0x143ae9['pairedQuizId']),_0x46507=writeBatch(db);_0x46507[_0x41634a(0x31c)](_0x5d388c,{'pairedQuizId':null}),_0x46507[_0x41634a(0x31c)](_0x484b76,{'pairedQuizId':null}),await _0x46507[_0x41634a(0xba4)](),showMessage(_0x41634a(0xb3b));}catch(_0x106bba){console[_0x41634a(0xb62)]('Error\x20unpairing\x20quizzes:',_0x106bba),showMessage(_0x41634a(0xd1f));}});}function formatAndPrintLessonPlan(_0x75fc65,_0x5cf2ef){const _0x19aa4f=_0x315eb9,_0x18c2aa=window[_0x19aa4f(0x26f)]('',_0x19aa4f(0xc60)),_0x78e087=_0x19aa4f(0xb8a)+_0x5cf2ef[_0x19aa4f(0xd28)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x5cf2ef[_0x19aa4f(0xd28)]+_0x19aa4f(0x7c3)+_0x75fc65[_0x19aa4f(0x890)][_0x19aa4f(0x947)](_0x20e45f=>_0x19aa4f(0x606)+_0x20e45f+_0x19aa4f(0x8bc))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x75fc65[_0x19aa4f(0x286)]+_0x19aa4f(0x98b)+_0x75fc65[_0x19aa4f(0xd5c)][_0x19aa4f(0x947)](_0x5862a9=>_0x19aa4f(0x6b6)+_0x5862a9[_0x19aa4f(0x3ab)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20'+_0x5862a9[_0x19aa4f(0x33f)]+_0x19aa4f(0x4a6))[_0x19aa4f(0x6f5)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x18c2aa[_0x19aa4f(0xd65)][_0x19aa4f(0x308)](_0x78e087),_0x18c2aa[_0x19aa4f(0xd65)]['close'](),_0x18c2aa['onload']=function(){setTimeout(()=>{const _0x918981=_0x42ad;_0x18c2aa[_0x918981(0x983)]();},0x3e8);};}async function handleAiFixFormula(_0xee70ed){const _0x18b5d3=_0x315eb9,_0x1dce94=document[_0x18b5d3(0xc31)](_0x18b5d3(0xc6f)+_0xee70ed+'\x22]');if(!_0x1dce94)return;const _0x41965d=_0x1dce94[_0x18b5d3(0x4b5)][_0x18b5d3(0xc36)],_0x467a96=_0x1dce94[_0x18b5d3(0xc31)](_0x18b5d3(0x4c5));let _0x4ea7ec={'question':_0x1dce94[_0x18b5d3(0xc31)](_0x18b5d3(0xa0b))[_0x18b5d3(0xbdb)]};switch(_0x41965d){case _0x18b5d3(0x959):_0x4ea7ec[_0x18b5d3(0x6ce)]=Array['from'](_0x1dce94[_0x18b5d3(0x4e3)](_0x18b5d3(0x6af)))[_0x18b5d3(0x947)](_0x535f5c=>_0x535f5c['value']);break;case _0x18b5d3(0x735):_0x4ea7ec[_0x18b5d3(0xc00)]=_0x1dce94[_0x18b5d3(0xc31)](_0x18b5d3(0xbe6))[_0x18b5d3(0xbdb)];break;case _0x18b5d3(0xc17):_0x4ea7ec['correctResponse']=_0x1dce94[_0x18b5d3(0xc31)](_0x18b5d3(0x636))['value'];break;}_0x467a96[_0x18b5d3(0xb6b)]=_0x18b5d3(0xa89),_0x467a96['disabled']=!![];try{const _0x3f0113=_0x18b5d3(0x388)+JSON['stringify'](_0x4ea7ec)+_0x18b5d3(0x276),_0x2e12f1={'type':'OBJECT','properties':{'fixedData':{'type':_0x18b5d3(0xac9),'properties':{'question':{'type':'STRING'},'options':{'type':_0x18b5d3(0x8fe),'items':{'type':'STRING'}},'idealAnswer':{'type':_0x18b5d3(0x277)},'correctResponse':{'type':'STRING'}},'required':[_0x18b5d3(0x3ab)]}},'required':[_0x18b5d3(0x4f6)]},_0x48f681=await callAnalysisApi(_0x3f0113,_0x2e12f1);if(_0x48f681&&_0x48f681[_0x18b5d3(0x4f6)]){const _0x3cccf7=_0x48f681[_0x18b5d3(0x4f6)];_0x1dce94[_0x18b5d3(0xc31)](_0x18b5d3(0xa0b))['value']=_0x3cccf7[_0x18b5d3(0x3ab)]||_0x4ea7ec['question'];switch(_0x41965d){case _0x18b5d3(0x959):_0x3cccf7['options']&&_0x3cccf7['options'][_0x18b5d3(0xca6)]>0x0&&_0x1dce94['querySelectorAll'](_0x18b5d3(0x6af))[_0x18b5d3(0x2d4)]((_0x34ae3c,_0x1461fe)=>{const _0x33ad7a=_0x18b5d3;_0x34ae3c[_0x33ad7a(0xbdb)]=_0x3cccf7[_0x33ad7a(0x6ce)][_0x1461fe]||_0x4ea7ec[_0x33ad7a(0x6ce)][_0x1461fe];});break;case'short_answer':_0x1dce94['querySelector'](_0x18b5d3(0xbe6))[_0x18b5d3(0xbdb)]=_0x3cccf7[_0x18b5d3(0xc00)]||_0x4ea7ec[_0x18b5d3(0xc00)];break;case _0x18b5d3(0xc17):_0x1dce94['querySelector'](_0x18b5d3(0x636))[_0x18b5d3(0xbdb)]=_0x3cccf7[_0x18b5d3(0x5a6)]||_0x4ea7ec[_0x18b5d3(0x5a6)];break;}if(_0x4ea7ec[_0x18b5d3(0x3ab)]!==_0x3cccf7[_0x18b5d3(0x3ab)])try{const _0x4cb64f=collection(db,_0x18b5d3(0x2d5)+appId+'/public/data/learnedFixes');await addDoc(_0x4cb64f,{'broken':_0x4ea7ec['question'],'fixed':_0x3cccf7[_0x18b5d3(0x3ab)],'createdAt':serverTimestamp()});}catch(_0x58a6c8){console[_0x18b5d3(0xb62)](_0x18b5d3(0x534),_0x58a6c8);}showMessage(_0x18b5d3(0xc34));}else throw new Error(_0x18b5d3(0x834));}catch(_0xc29b21){console[_0x18b5d3(0xb62)](_0x18b5d3(0x478),_0xc29b21),showMessage('เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร');}finally{_0x467a96[_0x18b5d3(0xb6b)]=_0x18b5d3(0x44b),_0x467a96[_0x18b5d3(0x22a)]=![];}}async function handleGenerateLessonPlan(_0x29dfad){const _0x5a7058=_0x315eb9;showMessage('AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่');try{const _0x4ccd0f=doc(db,_0x5a7058(0x2d5)+appId+_0x5a7058(0xc5d),_0x29dfad),_0x299dc2=await getDoc(_0x4ccd0f);if(!_0x299dc2[_0x5a7058(0xb5a)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x53e113={'id':_0x29dfad,..._0x299dc2[_0x5a7058(0x5ac)]()},_0x402edd=collection(db,_0x5a7058(0x2d5)+appId+'/public/data/quizzes',_0x29dfad,_0x5a7058(0x95d)),_0x2259cb=await getDocs(_0x402edd),_0x4fa511=_0x2259cb[_0x5a7058(0x80f)][_0x5a7058(0x947)](_0x59443c=>_0x59443c['data']());if(_0x4fa511[_0x5a7058(0xca6)]===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x108c56=calculateItemAnalysis(_0x53e113,_0x4fa511)[_0x5a7058(0x589)],_0x15398d=calculateDistractorAnalysis(_0x53e113,_0x4fa511),_0x32994c=_0xb75c8d=>{const _0x580988=_0x5a7058;if(!_0xb75c8d)return'';return _0xb75c8d[_0x580988(0x963)](/\\/g,'\x5c\x5c')[_0x580988(0x963)](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x4ede06='สรุปผลการวิเคราะห์:\x5cn';_0x53e113[_0x5a7058(0xab9)][_0x5a7058(0x2d4)]((_0x499482,_0x46bc63)=>{const _0x2c4a74=_0x5a7058,_0x186452=_0x108c56[_0x46bc63]?.['p'][_0x2c4a74(0x3ba)](0x2)||'N/A',_0x4a2c8a=_0x108c56[_0x46bc63]?.['r'][_0x2c4a74(0x3ba)](0x2)||_0x2c4a74(0x6d7),_0x3b799e=_0x32994c(_0x499482[_0x2c4a74(0x620)]||_0x499482['stem']);_0x4ede06+='-\x20ข้อ\x20'+(_0x46bc63+0x1)+_0x2c4a74(0x648)+_0x186452+_0x2c4a74(0x47b)+_0x4a2c8a+_0x2c4a74(0x610)+_0x3b799e+'\x5cn';if(_0x499482['questionType']==='multiple_choice'&&_0x15398d[_0x46bc63]){const _0x32622c=_0x15398d[_0x46bc63],_0x58704a=Object[_0x2c4a74(0x811)](_0x32622c)[_0x2c4a74(0x9c1)](_0x963741=>parseInt(_0x963741)!==_0x499482[_0x2c4a74(0x794)])[_0x2c4a74(0x7a1)]((_0x43951e,_0x121764)=>_0x32622c[_0x121764][_0x2c4a74(0xa88)]-_0x32622c[_0x43951e]['total'])[0x0];if(_0x58704a&&_0x32622c[_0x58704a][_0x2c4a74(0xa88)]>0x0){const _0x4956b6=_0x32994c(_0x32622c[_0x58704a][_0x2c4a74(0x5f1)]);_0x4ede06+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x4956b6+_0x2c4a74(0xce2);}}});const _0xc2cbe6=_0x5a7058(0x893)+_0x53e113[_0x5a7058(0xd28)]+_0x5a7058(0x9da)+_0x4ede06+_0x5a7058(0x22b),_0x307a20={'type':_0x5a7058(0xac9),'properties':{'learningGaps':{'type':'ARRAY','items':{'type':_0x5a7058(0x277)}},'teachingContent':{'type':_0x5a7058(0x277)},'practiceProblems':{'type':_0x5a7058(0x8fe),'items':{'type':_0x5a7058(0xac9),'properties':{'question':{'type':_0x5a7058(0x277)},'solution':{'type':_0x5a7058(0x277)}}}}},'required':['learningGaps',_0x5a7058(0x286),_0x5a7058(0xd5c)]},_0xc3576=await callAnalysisApi(_0xc2cbe6,_0x307a20);await updateDoc(_0x4ccd0f,{'lessonPlan':_0xc3576});const _0xc91bf5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x53e113[_0x5a7058(0xd28)]+_0x5a7058(0x5a3)+_0xc3576[_0x5a7058(0x890)]['map'](_0x18330d=>'<li>'+_0x18330d+_0x5a7058(0x8bc))[_0x5a7058(0x6f5)]('')+_0x5a7058(0x9e9)+_0xc3576[_0x5a7058(0x286)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0xc3576[_0x5a7058(0xd5c)][_0x5a7058(0x947)](_0x337e17=>_0x5a7058(0x8b4)+_0x337e17[_0x5a7058(0x3ab)]+_0x5a7058(0x436)+_0x337e17[_0x5a7058(0x33f)]+_0x5a7058(0x5de))['join']('')+_0x5a7058(0xb6a);document[_0x5a7058(0x695)](_0x5a7058(0x3d5))[_0x5a7058(0x97a)]=_0x5a7058(0x27b)+_0x53e113['topic'],document[_0x5a7058(0x695)](_0x5a7058(0x8e7))[_0x5a7058(0xb6b)]=_0xc91bf5,document[_0x5a7058(0x695)](_0x5a7058(0x3b8))['classList'][_0x5a7058(0x8cc)](_0x5a7058(0x721));if(window['MathJax'])MathJax[_0x5a7058(0xcaf)]();messageModal[_0x5a7058(0xd75)][_0x5a7058(0x8d6)](_0x5a7058(0x721));}catch(_0xe93332){console[_0x5a7058(0xb62)](_0x5a7058(0x5c4),_0xe93332),showMessage(_0x5a7058(0x99a)+_0xe93332['message']);}}async function handleDuplicateQuiz(_0x462a5d){const _0x5f44c1=_0x315eb9;try{const _0x7423c6=doc(db,_0x5f44c1(0x2d5)+appId+'/public/data/quizzes',_0x462a5d),_0x9af0a6=await getDoc(_0x7423c6);if(_0x9af0a6['exists']()){const _0x28c343=_0x9af0a6[_0x5f44c1(0x5ac)]();let _0x45f1a1='',_0x37b8f0=_0x5f44c1(0x920),_0x106d7b=null;if(_0x28c343['quizMode']===_0x5f44c1(0xa1f)){let _0x42aac3=_0x28c343[_0x5f44c1(0xd28)][_0x5f44c1(0x963)]('(ก่อนเรียน)','')[_0x5f44c1(0xbcf)]();_0x45f1a1=_0x5f44c1(0x904)+_0x42aac3,_0x37b8f0=_0x5f44c1(0x6d9),_0x106d7b=_0x462a5d;}else _0x45f1a1=_0x5f44c1(0x798)+_0x28c343[_0x5f44c1(0xd28)];const _0x40956c={..._0x28c343,'topic':_0x45f1a1,'createdAt':new Date()[_0x5f44c1(0x9bd)](),'quizMode':_0x37b8f0,'pairedQuizId':_0x106d7b};let _0x4574a9;while(!![]){_0x4574a9=Math[_0x5f44c1(0x4a5)](0x3e8+Math[_0x5f44c1(0x625)]()*0x2328)[_0x5f44c1(0x2c8)]();const _0x50340c=await getDoc(doc(db,_0x5f44c1(0x2d5)+appId+_0x5f44c1(0xc5d),_0x4574a9));if(!_0x50340c['exists']())break;}const _0x20d297=doc(db,_0x5f44c1(0x2d5)+appId+_0x5f44c1(0xc5d),_0x4574a9);await setDoc(_0x20d297,_0x40956c),_0x40956c[_0x5f44c1(0xccc)]===_0x5f44c1(0x6d9)&&await updateDoc(_0x7423c6,{'pairedQuizId':_0x4574a9}),showMessage(_0x5f44c1(0x353));}else throw new Error(_0x5f44c1(0x576));}catch(_0x435178){console[_0x5f44c1(0xb62)](_0x5f44c1(0xa66),_0x435178),showMessage('เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ');}}async function handleDeleteQuiz(_0x595894,_0x38f19=!![]){const _0xef2ca1=_0x315eb9;try{const _0x559392=writeBatch(db),_0xfaf82d=collection(db,_0xef2ca1(0x2d5)+appId+_0xef2ca1(0xb5c)+_0x595894+_0xef2ca1(0xaa7)),_0x23786c=await getDocs(_0xfaf82d);_0x23786c[_0xef2ca1(0x2d4)](_0x2ab0e8=>{const _0x474501=_0xef2ca1;_0x559392[_0x474501(0xbce)](doc(_0xfaf82d,_0x2ab0e8['id']));});const _0x2eb51d=doc(db,_0xef2ca1(0x2d5)+appId+_0xef2ca1(0xc5d),_0x595894);_0x559392[_0xef2ca1(0xbce)](_0x2eb51d),await _0x559392['commit']();try{console['log'](_0xef2ca1(0xafc)+_0x595894+'\x20in\x20all\x20blueprint\x20projects.');const _0x3832c9=collection(db,_0xef2ca1(0x2d5)+appId+_0xef2ca1(0x380)),_0x3ce05c=await getDocs(_0x3832c9),_0x35e968=[];_0x3ce05c[_0xef2ca1(0x2d4)](_0x24b826=>{const _0x480d32=_0xef2ca1,_0x217dbc=_0x24b826['data'](),_0x20aa6c=_0x217dbc[_0x480d32(0x358)]||{};let _0xf7d37b=![];for(const _0x45e60c in _0x20aa6c){const _0x5bfe16=_0x20aa6c[_0x45e60c];if(_0x5bfe16[_0x480d32(0xa57)]&&_0x5bfe16[_0x480d32(0xa57)][_0x480d32(0xcac)](_0x595894)){_0xf7d37b=!![];const _0x4ff68e=doc(db,_0x480d32(0x2d5)+appId+'/public/data/blueprintProjects',_0x24b826['id']),_0x5ec85a=updateDoc(_0x4ff68e,{['topics.'+_0x45e60c+_0x480d32(0x39e)]:arrayRemove(_0x595894)});_0x35e968['push'](_0x5ec85a);}}}),_0x35e968[_0xef2ca1(0xca6)]>0x0&&(await Promise[_0xef2ca1(0xcea)](_0x35e968),console[_0xef2ca1(0x95e)]('Successfully\x20removed\x20'+_0x35e968['length']+_0xef2ca1(0xd05)+_0x595894+'.'));}catch(_0x4c34ab){console[_0xef2ca1(0xb62)](_0xef2ca1(0x63f),_0x4c34ab);}_0x38f19&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0x4a50d2){console[_0xef2ca1(0xb62)]('Error\x20deleting\x20quiz:',_0x4a50d2),_0x38f19&&showMessage(_0xef2ca1(0x937));}}async function showQuizDetailView(_0x32891e){const _0x354ad0=_0x315eb9;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x354ad0(0xa2f));try{const _0x43eebe=doc(db,'artifacts/'+appId+_0x354ad0(0xc5d),_0x32891e),_0x2da386=await getDoc(_0x43eebe);if(!_0x2da386[_0x354ad0(0xb5a)]()){showMessage(_0x354ad0(0x930));return;}const _0x264699={'id':_0x2da386['id'],..._0x2da386[_0x354ad0(0x5ac)]()};currentQuizData=_0x264699;const _0x48b4fa=doc(db,_0x354ad0(0x2d5)+appId+_0x354ad0(0x36a),_0x264699[_0x354ad0(0x88e)]),_0x5c4af1=await getDoc(_0x48b4fa);_0x5c4af1['exists']()?(currentProjectData=_0x5c4af1[_0x354ad0(0x5ac)](),currentProjectId=_0x264699[_0x354ad0(0x88e)]):(currentProjectData={'students':[]},currentProjectId=_0x264699[_0x354ad0(0x88e)]);document['getElementById'](_0x354ad0(0x7ba))[_0x354ad0(0x97a)]=_0x264699[_0x354ad0(0xd28)],document[_0x354ad0(0x695)]('results-quiz-id-display')[_0x354ad0(0x97a)]=_0x32891e;const _0x50d34b=collection(db,_0x354ad0(0x2d5)+appId+_0x354ad0(0xc5d),_0x32891e,_0x354ad0(0x95d));unsubscribeSubmissionsListener=onSnapshot(_0x50d34b,_0x5454a2=>{const _0x2727d3=_0x354ad0,_0x15ef4e=_0x5454a2[_0x2727d3(0x80f)][_0x2727d3(0x947)](_0x476f91=>({'id':_0x476f91['id'],..._0x476f91['data']()}));currentSubmissions=_0x15ef4e;const _0x54b3e7=_0x15ef4e[_0x2727d3(0x9c1)](_0x56fc39=>_0x56fc39['attempts']&&_0x56fc39[_0x2727d3(0x5e2)][_0x2727d3(0xca6)]>0x0);renderBehaviorLog(_0x15ef4e),renderAnswerGrid(currentProjectData['students'],_0x54b3e7,_0x264699),renderAnalytics(_0x264699,_0x54b3e7),renderQuizResultsTable(currentProjectData['students'],_0x15ef4e,_0x264699),renderQuizLeaderboard(_0x54b3e7,_0x264699,'quiz-leaderboard-table-body');}),showView('quiz-results');}catch(_0x42d8b9){console[_0x354ad0(0xb62)](_0x354ad0(0x919),_0x42d8b9),showMessage('เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ');}}function renderAnswerGrid(_0x465ecd,_0x39b0f6,_0x205760){const _0xf13f8d=_0x315eb9,_0x5783d2=document['getElementById']('answer-grid-container');if(!_0x5783d2)return;if(!_0x465ecd||_0x465ecd[_0xf13f8d(0xca6)]===0x0){_0x5783d2[_0xf13f8d(0xb6b)]=_0xf13f8d(0x645);return;}const _0x171f51=_0x205760[_0xf13f8d(0xab9)],_0x47911d=_0x39b0f6['reduce']((_0x451de0,_0x46b0b2)=>{return _0x451de0[_0x46b0b2['studentName']]=_0x46b0b2,_0x451de0;},{}),_0x4f69a5=_0x3ddd9b=>String[_0xf13f8d(0xc63)](0x41+_0x3ddd9b),_0xb57e2c=_0x29f5a5=>{const _0x5e26aa=_0xf13f8d,_0x2fc987=_0x29f5a5[_0x5e26aa(0x9e0)]||_0x205760[_0x5e26aa(0xa41)];switch(_0x2fc987){case _0x5e26aa(0x959):return _0x29f5a5[_0x5e26aa(0x6ce)]&&_0x29f5a5[_0x5e26aa(0x6ce)]['length']>_0x29f5a5[_0x5e26aa(0x794)]?_0x4f69a5(_0x29f5a5[_0x5e26aa(0x794)]):'-';case'true_false':const _0x33dfee=_0x29f5a5[_0x5e26aa(0x43f)]===!![]||String(_0x29f5a5['correctAnswer'])['toLowerCase']()===_0x5e26aa(0x5c5);return _0x33dfee?_0x5e26aa(0x26d):_0x5e26aa(0x383);case'matching_item':return _0x29f5a5[_0x5e26aa(0x5a6)]||'-';case'short_answer':return _0x5e26aa(0x30d);default:return'-';}},_0x521218=(_0x1d94d6,_0x4327c8)=>{const _0x372826=_0xf13f8d;if(_0x4327c8[_0x372826(0xd0a)]===null||_0x4327c8[_0x372826(0xd0a)]===undefined)return'-';const _0x2a6c8f=_0x1d94d6[_0x372826(0x9e0)]||_0x205760[_0x372826(0xa41)];switch(_0x2a6c8f){case _0x372826(0x959):const _0x5e0d9b=_0x1d94d6['options'][_0x372826(0x67d)](_0x1cf737=>_0x1cf737===_0x4327c8[_0x372826(0x828)]);return _0x5e0d9b!==-0x1?_0x4f69a5(_0x5e0d9b):_0x4327c8[_0x372826(0x828)]||'-';case _0x372826(0xb93):if(_0x4327c8[_0x372826(0xd0a)]=='0'||_0x4327c8[_0x372826(0xd0a)]===!![]||_0x4327c8['answer']===_0x372826(0x5c5))return _0x372826(0x26d);return _0x372826(0x383);default:return _0x4327c8[_0x372826(0xd0a)];}};let _0x2210dc=_0xf13f8d(0xac2)+_0x171f51[_0xf13f8d(0x947)]((_0x58c453,_0x21e5c6)=>_0xf13f8d(0x4ca)+(_0x21e5c6+0x1)+_0xf13f8d(0x96a))[_0xf13f8d(0x6f5)]('')+_0xf13f8d(0x946)+_0x171f51[_0xf13f8d(0x947)](_0x11b1ae=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0xb57e2c(_0x11b1ae)+_0xf13f8d(0xbe8))[_0xf13f8d(0x6f5)]('')+_0xf13f8d(0xc86);_0x465ecd['forEach'](_0x52f518=>{const _0x43ba3e=_0xf13f8d;_0x2210dc+=_0x43ba3e(0xd91),_0x2210dc+=_0x43ba3e(0x481)+_0x52f518+_0x43ba3e(0xbe8);const _0x3e33ce=_0x47911d[_0x52f518];if(_0x3e33ce){const _0x2bc6db=_0x3e33ce[_0x43ba3e(0x5e2)][_0x3e33ce[_0x43ba3e(0x5e2)]['length']-0x1];_0x171f51[_0x43ba3e(0x2d4)]((_0xdd66f9,_0x1b4934)=>{const _0x15dbf1=_0x43ba3e,_0x1404e0=_0x2bc6db[_0x15dbf1(0x4ec)][_0x15dbf1(0x559)](_0x2ce9d0=>_0x2ce9d0[_0x15dbf1(0xcbf)]===_0xdd66f9['id']);if(_0x1404e0){let _0x14fa75='';const _0x1a2389=_0x1404e0['isCorrect']===!![],_0x16d9c6=_0x1404e0[_0x15dbf1(0xacb)]===!![]||_0x1404e0[_0x15dbf1(0xacb)]==='confident';_0x16d9c6?_0x14fa75=_0x1a2389?_0x15dbf1(0xa9b):_0x15dbf1(0xa1e):_0x14fa75=_0x1a2389?_0x15dbf1(0x3ec):_0x15dbf1(0x4d7),_0x2210dc+=_0x15dbf1(0xb95)+_0x14fa75+'\x22>'+_0x521218(_0xdd66f9,_0x1404e0)+_0x15dbf1(0xbe8);}else _0x2210dc+=_0x15dbf1(0x399);});}else _0x2210dc+=_0x171f51[_0x43ba3e(0x947)](()=>_0x43ba3e(0xa76))[_0x43ba3e(0x6f5)]('');_0x2210dc+='</tr>';}),_0x2210dc+=_0xf13f8d(0x881),_0x5783d2['innerHTML']=_0x2210dc;}function renderQuizResultsTable(_0x327db9,_0x4665f4,_0x24082e){const _0x1ae69d=_0x315eb9,_0x5c1682=_0x4665f4[_0x1ae69d(0x60f)]((_0x47e8ce,_0x273a31)=>{return _0x47e8ce[_0x273a31['studentName']]=_0x273a31,_0x47e8ce;},{}),_0x2dc38c=document[_0x1ae69d(0xc31)]('#results-table\x20thead\x20tr');_0x2dc38c&&!_0x2dc38c['innerHTML'][_0x1ae69d(0xcac)](_0x1ae69d(0xbc3))&&(_0x2dc38c[_0x1ae69d(0xb6b)]+=_0x1ae69d(0xbdf));const _0x1ea957=document[_0x1ae69d(0x695)](_0x1ae69d(0x58f));if(!_0x327db9||_0x327db9[_0x1ae69d(0xca6)]===0x0){_0x1ea957[_0x1ae69d(0xb6b)]=_0x1ae69d(0x8e0);return;}const _0x271374=_0x24082e['isRemedial']===!![],_0x2762b9=_0x24082e[_0x1ae69d(0x516)]?.['passingScore']??-0x1;let _0xcf7326='';_0x327db9[_0x1ae69d(0x2d4)](_0x261a01=>{const _0x9dbf22=_0x1ae69d,_0x1b94b3=_0x5c1682[_0x261a01];let _0x52cd8c='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+(_0x271374?'bg-amber-100\x20text-amber-800':'bg-blue-100\x20text-blue-800')+'\x22>'+(_0x271374?_0x9dbf22(0x599):_0x9dbf22(0x42b))+_0x9dbf22(0x651);if(_0x1b94b3){if(_0x1b94b3[_0x9dbf22(0x5e2)]&&_0x1b94b3[_0x9dbf22(0x5e2)]['length']>0x0){let _0x134f17=_0x271374?_0x1b94b3[_0x9dbf22(0xa49)]===_0x1b94b3['totalQuestions']:_0x2762b9!==-0x1&&_0x1b94b3[_0x9dbf22(0xa49)]>=_0x2762b9;const _0x8b07cd=_0x134f17?_0x9dbf22(0xab6):'bg-red-100\x20text-red-800',_0x5d806a=_0x134f17?_0x9dbf22(0x69d):_0x9dbf22(0x8bf),_0x150b6e=_0x9dbf22(0xbf1)+_0x8b07cd+'\x22>'+_0x5d806a+_0x9dbf22(0x651),_0x3ae15b='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0x1b94b3[_0x9dbf22(0x5e2)]?.[_0x9dbf22(0xca6)]||0x1)+_0x9dbf22(0xb7b);_0xcf7326+=_0x9dbf22(0x528)+_0x261a01+_0x9dbf22(0xccf)+_0x1b94b3[_0x9dbf22(0xa49)]+_0x9dbf22(0xcd4)+_0x1b94b3[_0x9dbf22(0x211)]+_0x9dbf22(0x23b)+_0x150b6e+_0x9dbf22(0x9f3)+_0x52cd8c+_0x9dbf22(0x664)+_0x1b94b3['firstScore']+_0x9dbf22(0xcd4)+_0x1b94b3[_0x9dbf22(0x211)]+_0x9dbf22(0xd38)+_0x1b94b3['latestScore']+_0x9dbf22(0xcd4)+_0x1b94b3[_0x9dbf22(0x211)]+_0x9dbf22(0x844)+(_0x1b94b3[_0x9dbf22(0xb4e)]||0x0)+_0x9dbf22(0x23b)+_0x3ae15b+_0x9dbf22(0xa5f)+new Date(_0x1b94b3['latestSubmittedAt'])[_0x9dbf22(0xa0f)](_0x9dbf22(0x6f4))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x261a01+_0x9dbf22(0x45d);}else{const _0x148fbf=_0x9dbf22(0x435);_0xcf7326+=_0x9dbf22(0x8da)+_0x261a01+_0x9dbf22(0x2f3)+_0x52cd8c+_0x9dbf22(0x2fd)+_0x148fbf+_0x9dbf22(0xa5f)+new Date(_0x1b94b3['startedAt'])[_0x9dbf22(0xa0f)](_0x9dbf22(0x6f4))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x261a01+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else{const _0x5dd881=_0x9dbf22(0x662);_0xcf7326+=_0x9dbf22(0x5f0)+_0x261a01+_0x9dbf22(0x95c)+_0x52cd8c+_0x9dbf22(0x75e)+_0x5dd881+_0x9dbf22(0x200);}}),_0x1ea957['innerHTML']=_0xcf7326;}async function confirmRenameQuiz(){const _0x166a53=_0x315eb9,_0x22b43f=document[_0x166a53(0x695)](_0x166a53(0x92e))['value'][_0x166a53(0xbcf)]();if(!_0x22b43f){showMessage(_0x166a53(0x7aa));return;}if(!actionTargetId)return;const _0x38cb20=doc(db,_0x166a53(0x2d5)+appId+_0x166a53(0xc5d),actionTargetId);try{await updateDoc(_0x38cb20,{'topic':_0x22b43f}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x166a53(0xd75)][_0x166a53(0x8d6)](_0x166a53(0x721)),actionTargetId=null;}catch(_0x2f9121){console[_0x166a53(0xb62)]('Error\x20renaming\x20quiz:',_0x2f9121),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x25a3fe){const _0x437e7b=_0x315eb9;actionTargetId=_0x25a3fe;const _0x3b9a43=document[_0x437e7b(0x695)]('move-quiz-project-select');_0x3b9a43[_0x437e7b(0xb6b)]=_0x437e7b(0xc29),moveQuizModal[_0x437e7b(0xd75)]['remove'](_0x437e7b(0x721));try{const _0x1aa9e3=collection(db,_0x437e7b(0x2d5)+appId+_0x437e7b(0x36a)),_0x176cdc=await getDocs(_0x1aa9e3),_0x5a811a=_0x176cdc[_0x437e7b(0x80f)][_0x437e7b(0x947)](_0x1b8383=>({'id':_0x1b8383['id'],..._0x1b8383[_0x437e7b(0x5ac)]()})),_0x2e48cf=_0x5a811a['filter'](_0x1b254c=>_0x1b254c['id']!==currentProjectId);if(_0x2e48cf[_0x437e7b(0xca6)]===0x0){_0x3b9a43['innerHTML']=_0x437e7b(0xc38),document[_0x437e7b(0x695)](_0x437e7b(0x88b))[_0x437e7b(0x22a)]=!![];return;}_0x3b9a43[_0x437e7b(0xb6b)]=_0x2e48cf['map'](_0x4edf22=>_0x437e7b(0xb7e)+_0x4edf22['id']+'\x22>'+_0x4edf22['projectName']+_0x437e7b(0x866))['join'](''),document[_0x437e7b(0x695)](_0x437e7b(0x88b))['disabled']=![];}catch(_0x4cd82a){console[_0x437e7b(0xb62)](_0x437e7b(0xce1),_0x4cd82a),showMessage(_0x437e7b(0x2f8)),moveQuizModal['classList'][_0x437e7b(0x8d6)]('hidden');}}async function confirmMoveQuiz(){const _0x3de413=_0x315eb9,_0x4d0d17=document[_0x3de413(0x695)](_0x3de413(0x416))[_0x3de413(0xbdb)];if(!_0x4d0d17){showMessage(_0x3de413(0xcf4));return;}if(!actionTargetId)return;const _0x23037f=doc(db,_0x3de413(0x2d5)+appId+_0x3de413(0xc5d),actionTargetId);try{await updateDoc(_0x23037f,{'projectId':_0x4d0d17}),showMessage(_0x3de413(0x1fc)),moveQuizModal['classList'][_0x3de413(0x8d6)](_0x3de413(0x721)),actionTargetId=null;}catch(_0xf994a0){console[_0x3de413(0xb62)](_0x3de413(0xdac),_0xf994a0),showMessage('เกิดข้อผิดพลาดในการย้ายแบบทดสอบ');}}async function handleQuizSettings(_0x4fa349){const _0x38552d=_0x315eb9;actionTargetId=_0x4fa349;const _0x350812=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x4fa349);try{const _0x4929a7=await getDoc(_0x350812);if(_0x4929a7['exists']()){const _0x5082e8=_0x4929a7[_0x38552d(0x5ac)](),_0x24d987=_0x5082e8[_0x38552d(0x516)]||{},_0x89e500=_0x5082e8[_0x38552d(0xab9)][_0x38552d(0xca6)];document[_0x38552d(0x695)](_0x38552d(0x8a3))[_0x38552d(0xbdb)]=_0x24d987[_0x38552d(0xbaf)]||_0x38552d(0x4f9),document[_0x38552d(0x695)](_0x38552d(0x3d2))['value']=_0x24d987[_0x38552d(0xd1a)]||_0x38552d(0x40c),document[_0x38552d(0x695)](_0x38552d(0xc54))['value']=_0x24d987['timerMode']||_0x38552d(0x4f9),document[_0x38552d(0x695)]('modal-timer-duration-input')[_0x38552d(0xbdb)]=_0x24d987[_0x38552d(0xbb7)]||0xa,document['getElementById'](_0x38552d(0x300))[_0x38552d(0xbdb)]=_0x24d987[_0x38552d(0x75d)]||Math[_0x38552d(0x4a5)](_0x89e500/0x2),document[_0x38552d(0x695)](_0x38552d(0x300))[_0x38552d(0xd57)]=_0x89e500,document['getElementById'](_0x38552d(0xd97))[_0x38552d(0x364)]=_0x24d987[_0x38552d(0xac5)]||![],document[_0x38552d(0x695)](_0x38552d(0xadd))[_0x38552d(0x364)]=_0x24d987[_0x38552d(0x55e)]||![];const _0x1bd18b=_0x24d987['isConfidenceScoringEnabled']||![];document[_0x38552d(0x695)]('modal-confidence-scoring-checkbox')[_0x38552d(0x364)]=_0x1bd18b,document[_0x38552d(0x695)](_0x38552d(0x6a9))['value']=_0x24d987[_0x38552d(0x406)]||'checkbox';const _0x498c05=document[_0x38552d(0x695)]('modal-confidence-mode-container');_0x498c05['classList']['toggle'](_0x38552d(0x721),!_0x1bd18b),document[_0x38552d(0x695)](_0x38552d(0xc54))[_0x38552d(0xd3c)](new Event(_0x38552d(0x40b))),quizSettingsModal['classList']['remove'](_0x38552d(0x721));}else showMessage(_0x38552d(0x930));}catch(_0x1d108a){console['error'](_0x38552d(0x69c),_0x1d108a),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x342b3b=_0x315eb9;if(!actionTargetId)return;const _0x1cd9a4=doc(db,'artifacts/'+appId+_0x342b3b(0xc5d),actionTargetId),_0x496bdb={'shuffle':document[_0x342b3b(0x695)](_0x342b3b(0x8a3))[_0x342b3b(0xbdb)],'resultsDisplay':document[_0x342b3b(0x695)](_0x342b3b(0x3d2))[_0x342b3b(0xbdb)],'timerMode':document[_0x342b3b(0x695)]('modal-timer-mode-select')[_0x342b3b(0xbdb)],'timerDuration':parseInt(document[_0x342b3b(0x695)](_0x342b3b(0x5dd))[_0x342b3b(0xbdb)])||0xa,'passingScore':parseInt(document[_0x342b3b(0x695)](_0x342b3b(0x300))[_0x342b3b(0xbdb)])||0x0,'isAdaptive':document['getElementById']('modal-adaptive-quiz-checkbox')[_0x342b3b(0x364)],'loopUntilPass':document[_0x342b3b(0x695)](_0x342b3b(0xadd))[_0x342b3b(0x364)],'isConfidenceScoringEnabled':document[_0x342b3b(0x695)](_0x342b3b(0x8f4))[_0x342b3b(0x364)],'confidenceMode':document['getElementById']('modal-confidence-mode-select')[_0x342b3b(0xbdb)]};try{await updateDoc(_0x1cd9a4,{'settings':_0x496bdb}),showMessage(_0x342b3b(0x72e)),quizSettingsModal[_0x342b3b(0xd75)][_0x342b3b(0x8d6)]('hidden'),actionTargetId=null;}catch(_0x55c58c){console[_0x342b3b(0xb62)]('Error\x20updating\x20quiz\x20settings:',_0x55c58c),showMessage(_0x342b3b(0x9e7));}}async function confirmQuizStatus(){const _0x23aa4b=_0x315eb9;if(!actionTargetId)return;const _0x1879d2=doc(db,'artifacts/'+appId+'/public/data/quizzes',actionTargetId),_0x305331=document[_0x23aa4b(0xc31)](_0x23aa4b(0x708));if(!_0x305331){showMessage(_0x23aa4b(0x230));return;}const _0x58a2cd=_0x305331[_0x23aa4b(0xbdb)];let _0x56b05b={};if(_0x58a2cd===_0x23aa4b(0xb81)||_0x58a2cd==='inactive')_0x56b05b={'status':_0x58a2cd,'startTime':null,'endTime':null};else{if(_0x58a2cd===_0x23aa4b(0xbdd)){const _0x542761=document[_0x23aa4b(0x695)]('quiz-start-time')[_0x23aa4b(0xbdb)],_0x5be602=document['getElementById'](_0x23aa4b(0x36c))[_0x23aa4b(0xbdb)];if(!_0x542761&&!_0x5be602){showMessage('กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง');return;}_0x56b05b={'status':_0x23aa4b(0xcae),'startTime':_0x542761?new Date(_0x542761)['toISOString']():null,'endTime':_0x5be602?new Date(_0x5be602)[_0x23aa4b(0x9bd)]():null};}}try{await updateDoc(_0x1879d2,_0x56b05b),showMessage(_0x23aa4b(0xb5b)),quizStatusModal[_0x23aa4b(0xd75)][_0x23aa4b(0x8d6)](_0x23aa4b(0x721)),actionTargetId=null;}catch(_0x492b53){console[_0x23aa4b(0xb62)](_0x23aa4b(0xa8f),_0x492b53),showMessage('เกิดข้อผิดพลาดในการอัปเดตสถานะ');}}function listenForStudentProfiles(_0x3ce2f6){const _0x21acc2=_0x315eb9,_0x4d5929=collection(db,_0x21acc2(0x2d5)+appId+_0x21acc2(0xa6e)+_0x3ce2f6+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x4d5929,_0x5d2a76=>{const _0x54e226=_0x21acc2,_0x3f8b05=_0x5d2a76[_0x54e226(0x80f)]['map'](_0x473fac=>_0x473fac[_0x54e226(0x5ac)]());renderLeaderboard(_0x3f8b05,_0x54e226(0xce6));},_0x360bb0=>{const _0x1e0e32=_0x21acc2;console[_0x1e0e32(0xb62)](_0x1e0e32(0x9f6),_0x360bb0),document[_0x1e0e32(0x695)](_0x1e0e32(0xce6))[_0x1e0e32(0xb6b)]=_0x1e0e32(0x8cf);});}function renderLeaderboard(_0x4ec9df,_0x566a9f){const _0x366242=_0x315eb9,_0x1d74e9=document[_0x366242(0x695)](_0x566a9f);if(!_0x4ec9df||_0x4ec9df['length']===0x0){_0x1d74e9['innerHTML']=_0x366242(0x9df);return;}_0x4ec9df['sort']((_0x225056,_0x53da25)=>{const _0x2093b6=_0x366242,_0x3da909=(_0x53da25[_0x2093b6(0x6f6)]||0x0)-(_0x225056[_0x2093b6(0x6f6)]||0x0);if(_0x3da909!==0x0)return _0x3da909;const _0x4bf451=(_0x53da25[_0x2093b6(0xd30)]?.[_0x2093b6(0x696)]||0x0)-(_0x225056[_0x2093b6(0xd30)]?.['specialist']||0x0);if(_0x4bf451!==0x0)return _0x4bf451;const _0x52a8a1=(_0x53da25[_0x2093b6(0xd30)]?.[_0x2093b6(0x5e5)]||0x0)-(_0x225056[_0x2093b6(0xd30)]?.['first_try_ace']||0x0);if(_0x52a8a1!==0x0)return _0x52a8a1;const _0x53d87c=(_0x53da25[_0x2093b6(0xd30)]?.[_0x2093b6(0xaf4)]||0x0)-(_0x225056[_0x2093b6(0xd30)]?.[_0x2093b6(0xaf4)]||0x0);if(_0x53d87c!==0x0)return _0x53d87c;const _0x1f27a4=(_0x53da25['badgesCount']?.['quick_thinker']||0x0)-(_0x225056[_0x2093b6(0xd30)]?.[_0x2093b6(0x2de)]||0x0);if(_0x1f27a4!==0x0)return _0x1f27a4;return _0x225056[_0x2093b6(0x8be)][_0x2093b6(0x9f1)](_0x53da25['studentName'],'th');});let _0x1a1d84='';_0x4ec9df[_0x366242(0x2d4)]((_0x4d1a2d,_0x227769)=>{const _0x8e43c0=_0x366242,_0x53bdcd=_0x227769+0x1,_0x5c37b6=_0x4d1a2d['badgesCount']||{};let _0x527db1='';const _0x377f1a=[_0x8e43c0(0x696),_0x8e43c0(0xaf4),_0x8e43c0(0x5e5),'quick_thinker'];_0x377f1a['forEach'](_0x225c3b=>{const _0xea789b=_0x8e43c0;if(_0x5c37b6[_0x225c3b]>0x0){const _0x9c287b=Object[_0xea789b(0xb3a)](BADGES)[_0xea789b(0x559)](_0x55f359=>_0x55f359['id']===_0x225c3b);_0x9c287b&&(_0x225c3b===_0xea789b(0x696)?_0x527db1+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x9c287b[_0xea789b(0x38d)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x9c287b[_0xea789b(0xd6a)]+_0xea789b(0x426):_0x527db1+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x9c287b[_0xea789b(0x38d)]+'\x20('+_0x5c37b6[_0x225c3b]+_0xea789b(0x571)+_0x9c287b[_0xea789b(0xd6a)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x5c37b6[_0x225c3b]+_0xea789b(0x29b));}}),_0x1a1d84+=_0x8e43c0(0x96c)+_0x53bdcd+_0x8e43c0(0x2d7)+_0x4d1a2d['studentName']+_0x8e43c0(0x6cd)+(_0x4d1a2d['totalPoints']||0x0)+_0x8e43c0(0x2d7)+(_0x527db1||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1d74e9[_0x366242(0xb6b)]=_0x1a1d84;}function displayLoopScreen(_0x4925b9,_0x3423ec,_0x858a12){const _0x27ccb3=_0x315eb9;let _0x47186c='';_0x858a12!=='show_pass_fail_only'&&(_0x47186c=_0x27ccb3(0x4c4)+_0x4925b9+'\x20/\x20'+_0x3423ec+'</strong></p>');const _0x10addb=_0x27ccb3(0xa30)+_0x47186c+_0x27ccb3(0x360);studentResultArea[_0x27ccb3(0xb6b)]=_0x10addb,studentResultArea[_0x27ccb3(0xd75)][_0x27ccb3(0x8cc)]('hidden'),studentQuizArea[_0x27ccb3(0xd75)][_0x27ccb3(0x8d6)](_0x27ccb3(0x721)),document['getElementById']('retake-quiz-loop-btn')[_0x27ccb3(0x59b)](_0x27ccb3(0xc9a),()=>{const _0x3dbce2=_0x27ccb3;studentResultArea[_0x3dbce2(0xd75)][_0x3dbce2(0x8d6)](_0x3dbce2(0x721)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x3a5f6d,_0xd6c2d8,_0x14532b){const _0x59ecce=_0x315eb9,_0x19bdc1=document['getElementById'](_0x14532b),_0x28555b=_0x14532b==='student-quiz-leaderboard-table-body',_0x893cb0=_0xd6c2d8[_0x59ecce(0xab9)][_0x59ecce(0xca6)],_0x158338=document[_0x59ecce(0x695)](_0x14532b)[_0x59ecce(0xb12)]('table');if(_0x158338&&!_0x28555b){const _0x4069a0=_0x158338[_0x59ecce(0xc31)](_0x59ecce(0x934));_0x4069a0[_0x59ecce(0xb6b)]=_0x59ecce(0xd43);}if(!_0x3a5f6d||_0x3a5f6d['length']===0x0){_0x19bdc1['innerHTML']=_0x59ecce(0x9a1)+(_0x28555b?0x6:0x8)+_0x59ecce(0x4e0);return;}const _0x939c51=[..._0x3a5f6d];_0x939c51[_0x59ecce(0x7a1)]((_0x526a5e,_0x5121cc)=>{const _0x3ff63d=_0x59ecce;let _0x457430,_0xf21ef6;switch(quizLeaderboardSortBy){case _0x3ff63d(0x8be):_0x457430=_0x526a5e[_0x3ff63d(0x8be)]||'',_0xf21ef6=_0x5121cc['studentName']||'';return quizLeaderboardSortOrder===_0x3ff63d(0x513)?_0x457430[_0x3ff63d(0x9f1)](_0xf21ef6,'th'):_0xf21ef6[_0x3ff63d(0x9f1)](_0x457430,'th');case'points':_0x457430=_0x526a5e[_0x3ff63d(0xb4e)]||0x0,_0xf21ef6=_0x5121cc['points']||0x0;break;case _0x3ff63d(0x5e2):_0x457430=_0x526a5e[_0x3ff63d(0x5e2)]?.['length']||0x1,_0xf21ef6=_0x5121cc[_0x3ff63d(0x5e2)]?.[_0x3ff63d(0xca6)]||0x1;break;case _0x3ff63d(0x587):_0x457430=new Date(_0x526a5e[_0x3ff63d(0x587)]),_0xf21ef6=new Date(_0x5121cc['latestSubmittedAt']);break;case _0x3ff63d(0xa49):default:_0x457430=_0x526a5e['bestScore'],_0xf21ef6=_0x5121cc[_0x3ff63d(0xa49)];break;}if(_0x457430<_0xf21ef6)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x457430>_0xf21ef6)return quizLeaderboardSortOrder===_0x3ff63d(0x513)?0x1:-0x1;return 0x0;});const _0x5c1152=_0xd6c2d8[_0x59ecce(0x898)]===!![],_0x3f8c81=_0xd6c2d8[_0x59ecce(0x516)]?.['passingScore']??-0x1;let _0x57e903='';_0x939c51[_0x59ecce(0x2d4)]((_0x2fd839,_0x36ad0b)=>{const _0x9f8913=_0x59ecce,_0x1e8e2e=_0x36ad0b+0x1;let _0x308dae=_0x9f8913(0x2c0);if(_0x5c1152||_0x3f8c81!==-0x1){let _0x3c95b7=_0x5c1152?_0x2fd839['bestScore']===_0x893cb0:_0x2fd839['bestScore']>=_0x3f8c81;const _0xaea6a7=_0x3c95b7?_0x9f8913(0xab6):_0x9f8913(0x71f),_0x19f850=_0x3c95b7?_0x9f8913(0x69d):_0x9f8913(0x8bf);_0x308dae=_0x9f8913(0x4ac)+_0xaea6a7+'\x22>'+_0x19f850+'</span></td>';}const _0x4ce0b1=_0x2fd839['attempts'][_0x2fd839[_0x9f8913(0x5e2)][_0x9f8913(0xca6)]-0x1],_0x43d280=(_0x4ce0b1[_0x9f8913(0x68b)]||[])[_0x9f8913(0x947)](_0x173dc5=>{const _0x5f12d4=_0x9f8913,_0x3fc0e9=Object['values'](BADGES)[_0x5f12d4(0x559)](_0x428c9b=>_0x428c9b['id']===_0x173dc5);return _0x3fc0e9?_0x5f12d4(0xcaa)+_0x3fc0e9[_0x5f12d4(0x38d)]+_0x5f12d4(0x48d)+_0x3fc0e9[_0x5f12d4(0xd6a)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})[_0x9f8913(0x6f5)]('');_0x57e903+=_0x9f8913(0xba6)+_0x1e8e2e+_0x9f8913(0xc76)+_0x2fd839[_0x9f8913(0x8be)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x2fd839[_0x9f8913(0xa49)]+_0x9f8913(0xcd4)+_0x893cb0+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x308dae+_0x9f8913(0x4f2)+(_0x2fd839[_0x9f8913(0xb4e)]||0x0)+_0x9f8913(0x78e)+(_0x28555b?'':_0x9f8913(0xbeb)+(_0x2fd839[_0x9f8913(0x5e2)]?.[_0x9f8913(0xca6)]||0x1)+'</td>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x28555b?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x2fd839[_0x9f8913(0x587)])['toLocaleString'](_0x9f8913(0x6f4))+_0x9f8913(0xbe8))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x43d280||'-')+_0x9f8913(0xbcd);}),_0x19bdc1[_0x59ecce(0xb6b)]=_0x57e903,_0x158338&&!_0x28555b&&_0x158338[_0x59ecce(0x4e3)]('thead\x20.sortable-header')['forEach'](_0x5f1b64=>{const _0x36e91f=_0x59ecce,_0x12dee7=_0x5f1b64[_0x36e91f(0xc31)](_0x36e91f(0x857));if(_0x12dee7)_0x12dee7[_0x36e91f(0x8cc)]();_0x5f1b64[_0x36e91f(0x4b5)][_0x36e91f(0x7a1)]===quizLeaderboardSortBy&&(_0x5f1b64['innerHTML']+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder===_0x36e91f(0x513)?'▲':'▼')+_0x36e91f(0x4e6));});}async function handleDeleteSubmission(_0x2fec0c){const _0x4166fb=_0x315eb9;if(!currentQuizData||!currentQuizData['id']||!_0x2fec0c){showMessage(_0x4166fb(0x377));return;}showConfirmation(_0x4166fb(0x54f)+_0x2fec0c+_0x4166fb(0x779),async()=>{const _0x25036b=_0x4166fb,_0x464801=currentQuizData['id'],_0x48b665=doc(db,'artifacts/'+appId+_0x25036b(0xb5c)+_0x464801+'/submissions',_0x2fec0c);try{await deleteDoc(_0x48b665),showMessage('ลบผลสอบของ\x20'+_0x2fec0c+_0x25036b(0x740));}catch(_0x45a183){console[_0x25036b(0xb62)](_0x25036b(0x88f),_0x45a183),showMessage(_0x25036b(0x9ed));}});}async function handleLoadQuiz(){const _0x5a97ba=_0x315eb9,_0x584faf=document['getElementById'](_0x5a97ba(0x4eb)),_0x7c4c2e=_0x584faf['value'][_0x5a97ba(0xbcf)]();if(!_0x7c4c2e){showMessage(_0x5a97ba(0x52b));return;}loadQuizBtn[_0x5a97ba(0x22a)]=!![],loadQuizBtn[_0x5a97ba(0xb6b)]=_0x5a97ba(0x3e4);try{const _0x42564f=doc(db,_0x5a97ba(0x2d5)+appId+'/public/data/quizzes',_0x7c4c2e),_0x3a5ef8=await getDoc(_0x42564f);if(!_0x3a5ef8['exists']()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x3a5ef8['id'],..._0x3a5ef8[_0x5a97ba(0x5ac)]()};const _0x57145e=currentQuizData[_0x5a97ba(0xbfe)]||'active',_0x27b51a=new Date();if(_0x57145e===_0x5a97ba(0x2f2)){showMessage(_0x5a97ba(0xa4d));return;}if(_0x57145e===_0x5a97ba(0xcae)){const _0x175e06=currentQuizData[_0x5a97ba(0x4d2)]?new Date(currentQuizData[_0x5a97ba(0x4d2)]):null,_0x10d348=currentQuizData[_0x5a97ba(0x65f)]?new Date(currentQuizData[_0x5a97ba(0x65f)]):null;if(_0x175e06&&_0x27b51a<_0x175e06){showMessage(_0x5a97ba(0x2f5)+_0x175e06[_0x5a97ba(0xa0f)](_0x5a97ba(0x6f4),{'hour12':![]}));return;}if(_0x10d348&&_0x27b51a>_0x10d348){showMessage(_0x5a97ba(0xcf0));return;}}const _0x305488=currentQuizData['projectId'];currentProjectId=_0x305488;const _0x1b1445=doc(db,'artifacts/'+appId+_0x5a97ba(0x36a),_0x305488),_0x3dc4d4=await getDoc(_0x1b1445);if(!_0x3dc4d4[_0x5a97ba(0xb5a)]()){showMessage(_0x5a97ba(0xcdf));return;}const _0x37df91=_0x3dc4d4[_0x5a97ba(0x5ac)]();currentStudentProjectData=_0x37df91,displayStudentNameSelector(_0x37df91[_0x5a97ba(0xa0e)],currentQuizData[_0x5a97ba(0xd28)]);}catch(_0x3c2d8d){console[_0x5a97ba(0xb62)](_0x5a97ba(0x9a3),_0x3c2d8d),showMessage(_0x5a97ba(0xbff));}finally{loadQuizBtn[_0x5a97ba(0x22a)]=![],loadQuizBtn[_0x5a97ba(0xb6b)]='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleJoinLiveGame(){const _0x8cfe9b=_0x315eb9,_0x3f81e4=document['getElementById'](_0x8cfe9b(0x8af)),_0xe2dffd=document['getElementById'](_0x8cfe9b(0x5d6)),_0x4ee146=document[_0x8cfe9b(0x695)](_0x8cfe9b(0x972)),_0x53b240=_0x3f81e4[_0x8cfe9b(0xbdb)][_0x8cfe9b(0xbcf)](),_0x4285ca=_0xe2dffd[_0x8cfe9b(0xbdb)][_0x8cfe9b(0xbcf)]();if(!_0x53b240||!_0x4285ca){showMessage(_0x8cfe9b(0xc75));return;}_0x4ee146['disabled']=!![],_0x4ee146[_0x8cfe9b(0xb6b)]=_0x8cfe9b(0xbe5);try{const _0x225d54=collection(db,_0x8cfe9b(0x2d5)+appId+_0x8cfe9b(0xc05)),_0x48276c=query(_0x225d54,where(_0x8cfe9b(0xb25),'==',_0x53b240),where(_0x8cfe9b(0xbfe),'in',[_0x8cfe9b(0xd39),_0x8cfe9b(0x3ab)])),_0x35b9a9=await getDocs(_0x48276c);if(_0x35b9a9[_0x8cfe9b(0x7e1)]){showMessage(_0x8cfe9b(0x20f));return;}const _0x33851f=_0x35b9a9[_0x8cfe9b(0x80f)][0x0],_0x13069a=_0x33851f['data']();currentLiveGameId=_0x33851f['id'];const _0x5c8001=_0x13069a['quizId'],_0x36fdbd=doc(db,_0x8cfe9b(0x2d5)+appId+_0x8cfe9b(0xc5d),_0x5c8001),_0xfa02b3=await getDoc(_0x36fdbd);if(!_0xfa02b3['exists']()){showMessage(_0x8cfe9b(0x27e));return;}currentQuizData={'id':_0xfa02b3['id'],..._0xfa02b3[_0x8cfe9b(0x5ac)]()};if(_0x13069a[_0x8cfe9b(0x5ca)]&&_0x13069a[_0x8cfe9b(0x5ca)][_0x4285ca]){const _0x52c2f4=_0x13069a[_0x8cfe9b(0x5ca)][_0x4285ca];if(_0x52c2f4[_0x8cfe9b(0xbfe)]==='inactive'){_0x4ee146[_0x8cfe9b(0xb6b)]=_0x8cfe9b(0x692);const _0x161310={};_0x161310[_0x8cfe9b(0xafb)+_0x4285ca+'.status']=_0x8cfe9b(0xb81),await updateDoc(doc(db,_0x8cfe9b(0x2d5)+appId+_0x8cfe9b(0xc05),currentLiveGameId),_0x161310),showView(_0x8cfe9b(0x4e5)),currentStudentName=_0x4285ca,listenForLiveGameUpdates();return;}else{showMessage(_0x8cfe9b(0x76f));return;}}if(_0x13069a[_0x8cfe9b(0xbfe)]!==_0x8cfe9b(0xd39)){showMessage('ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว');return;}_0x4ee146[_0x8cfe9b(0xb6b)]=_0x8cfe9b(0x980);const _0x52a1c1={};_0x52a1c1[_0x8cfe9b(0xafb)+_0x4285ca]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x8cfe9b(0xb81)},await updateDoc(doc(db,_0x8cfe9b(0x2d5)+appId+_0x8cfe9b(0xc05),currentLiveGameId),_0x52a1c1),currentStudentName=_0x4285ca,listenForLiveGameUpdates();}catch(_0x220bae){console[_0x8cfe9b(0xb62)]('Error\x20joining\x20live\x20game:',_0x220bae),showMessage(_0x8cfe9b(0x42c));}finally{_0x4ee146[_0x8cfe9b(0x22a)]=![],_0x4ee146['innerHTML']='<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม';}}function displayStudentNameSelector(_0x359aae,_0x1c100b){const _0x38cdd0=_0x315eb9,_0x54bb18=document[_0x38cdd0(0x695)](_0x38cdd0(0x588));document[_0x38cdd0(0x695)](_0x38cdd0(0x632))[_0x38cdd0(0x97a)]=_0x38cdd0(0x3e5)+_0x1c100b,!_0x359aae||_0x359aae[_0x38cdd0(0xca6)]===0x0?(_0x54bb18['innerHTML']=_0x38cdd0(0x545),startQuizBtn[_0x38cdd0(0x22a)]=!![]):(_0x54bb18['innerHTML']=_0x38cdd0(0x4b3),_0x359aae['forEach'](_0x587057=>{const _0x19c27b=_0x38cdd0,_0x3f60a4=document[_0x19c27b(0x783)](_0x19c27b(0xae4));_0x3f60a4[_0x19c27b(0xbdb)]=_0x587057,_0x3f60a4[_0x19c27b(0x97a)]=_0x587057,_0x54bb18[_0x19c27b(0xbbd)](_0x3f60a4);}),startQuizBtn[_0x38cdd0(0x22a)]=![]),studentInitialView['classList'][_0x38cdd0(0x8d6)](_0x38cdd0(0x721)),studentNameSelectionView['classList']['remove'](_0x38cdd0(0x721));}function shuffleArray(_0x92051){const _0x466a90=_0x315eb9;for(let _0x14c77e=_0x92051[_0x466a90(0xca6)]-0x1;_0x14c77e>0x0;_0x14c77e--){const _0x347041=Math[_0x466a90(0x4a5)](Math[_0x466a90(0x625)]()*(_0x14c77e+0x1));[_0x92051[_0x14c77e],_0x92051[_0x347041]]=[_0x92051[_0x347041],_0x92051[_0x14c77e]];}}function getShuffledQuiz(_0x4e3945){const _0x11cd26=_0x315eb9;let _0x3c04e5=JSON[_0x11cd26(0x55c)](JSON[_0x11cd26(0xd46)](_0x4e3945));const _0xdc6cfb=_0x3c04e5['settings']?.['shuffle']||'none';if(_0xdc6cfb===_0x11cd26(0x4f9))return _0x3c04e5;return(_0xdc6cfb===_0x11cd26(0x951)||_0xdc6cfb===_0x11cd26(0x3c4))&&shuffleArray(_0x3c04e5[_0x11cd26(0xab9)]),(_0xdc6cfb==='choices_only'||_0xdc6cfb===_0x11cd26(0x3c4))&&_0x3c04e5[_0x11cd26(0xab9)][_0x11cd26(0x2d4)](_0x4ee748=>{const _0xb73192=_0x11cd26,_0x54a8a7=_0x4ee748[_0xb73192(0x9e0)]||_0x3c04e5[_0xb73192(0xa41)];if(_0x4ee748[_0xb73192(0x6ce)]){let _0x5a86a3=_0x4ee748[_0xb73192(0x6ce)][_0xb73192(0x947)]((_0x2632e0,_0x4fbd05)=>({'text':_0x2632e0,'isCorrect':_0x4fbd05===_0x4ee748[_0xb73192(0x794)]}));shuffleArray(_0x5a86a3),_0x4ee748['options']=_0x5a86a3[_0xb73192(0x947)](_0x154971=>_0x154971[_0xb73192(0x5f1)]),_0x4ee748[_0xb73192(0x794)]=_0x5a86a3['findIndex'](_0x3465ae=>_0x3465ae['isCorrect']);}_0x54a8a7===_0xb73192(0xc17)&&_0x4ee748['allResponses']&&shuffleArray(_0x4ee748[_0xb73192(0x556)]);}),_0x3c04e5;}function displayQuizForStudent(_0x16354c){const _0x443b7e=_0x315eb9;studentQuizArea[_0x443b7e(0xd75)][_0x443b7e(0x8cc)]('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x16354c);currentMode!==_0x443b7e(0xd7a)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener']('fullscreenchange',handleFullscreenChange),document[_0x443b7e(0x59b)](_0x443b7e(0xcde),handleVisibilityChange),enterFullscreen(),window['addEventListener']('mousemove',resetDimTimer),window[_0x443b7e(0x59b)](_0x443b7e(0x969),resetDimTimer),window[_0x443b7e(0x59b)]('touchstart',resetDimTimer),window[_0x443b7e(0x59b)](_0x443b7e(0xa5e),resetDimTimer),resetDimTimer());const _0x12b23=currentDisplayedQuiz[_0x443b7e(0x516)]?.[_0x443b7e(0xa34)]||_0x443b7e(0x4f9);if(_0x12b23===_0x443b7e(0x63e))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz['settings'][_0x443b7e(0xbb7)]);else _0x12b23===_0x443b7e(0x955)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x5dd4bb=_0x315eb9,_0x4deeb7=currentDisplayedQuiz['settings']?.[_0x5dd4bb(0x830)]===!![],_0x5add29=currentDisplayedQuiz[_0x5dd4bb(0x516)]?.['confidenceMode']||_0x5dd4bb(0x94d);let _0x3dbc72='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x5dd4bb(0xd28)]+_0x5dd4bb(0x81d)+(currentMode===_0x5dd4bb(0xd7a)?_0x5dd4bb(0x24e):'')+_0x5dd4bb(0x292);currentDisplayedQuiz[_0x5dd4bb(0xab9)][_0x5dd4bb(0x2d4)]((_0x3e5ed2,_0x419700)=>{const _0x3962a2=_0x5dd4bb,_0x3ee3f2=_0x3e5ed2[_0x3962a2(0x9e0)]||currentDisplayedQuiz[_0x3962a2(0xa41)];_0x3dbc72+=_0x3962a2(0x894);if(_0x3ee3f2===_0x3962a2(0xc17)){}else _0x3dbc72+='<p>'+(_0x419700+0x1)+'.\x20'+(_0x3e5ed2[_0x3962a2(0xb1c)]||_0x3e5ed2[_0x3962a2(0x620)])+'</p>',_0x3e5ed2[_0x3962a2(0xaf3)]&&(_0x3dbc72+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x3e5ed2[_0x3962a2(0xaf3)]+_0x3962a2(0x4cd));_0x3dbc72+='</div><div\x20class=\x22space-y-2\x22>';switch(_0x3ee3f2){case _0x3962a2(0x735):_0x3dbc72+=_0x3962a2(0x925)+_0x419700+_0x3962a2(0xce3);break;case _0x3962a2(0xb93):_0x3dbc72+=_0x3962a2(0x3f7)+_0x419700+_0x3962a2(0xb0e)+_0x419700+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x419700+'_opt0\x22>ใช่</label></div>',_0x3dbc72+=_0x3962a2(0x3f7)+_0x419700+_0x3962a2(0xbe7)+_0x419700+_0x3962a2(0xc32)+_0x419700+_0x3962a2(0x9ba);break;case _0x3962a2(0xc17):_0x3dbc72+=_0x3962a2(0x3eb)+_0x3e5ed2['stem']+_0x3962a2(0x9d4)+_0x419700+_0x3962a2(0xa9e)+_0x3e5ed2[_0x3962a2(0x556)][_0x3962a2(0x947)](_0x59077c=>'<option\x20value=\x22'+_0x59077c+'\x22>'+_0x59077c+_0x3962a2(0x866))[_0x3962a2(0x6f5)]('')+_0x3962a2(0x2cc);break;default:_0x3dbc72+=_0x3e5ed2[_0x3962a2(0x6ce)][_0x3962a2(0x947)]((_0x2f9f40,_0xf64c70)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x419700+_0x3962a2(0x747)+_0xf64c70+_0x3962a2(0x76d)+_0x419700+_0x3962a2(0x7d8)+_0xf64c70+_0x3962a2(0xbc0)+_0x419700+_0x3962a2(0x747)+_0xf64c70+'\x22>'+_0x2f9f40+_0x3962a2(0x347))['join']('');break;}_0x3dbc72+=_0x3962a2(0x4cd),_0x4deeb7&&(_0x3dbc72+=_0x3962a2(0x5c7),_0x5add29===_0x3962a2(0x7a7)?_0x3dbc72+=_0x3962a2(0x9ad)+_0x419700+_0x3962a2(0xd56)+_0x419700+'\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22'+_0x419700+_0x3962a2(0xcfa)+_0x419700+_0x3962a2(0x49a):_0x3dbc72+=_0x3962a2(0x65d)+_0x419700+'\x22\x20name=\x22confidence'+_0x419700+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence'+_0x419700+'\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3dbc72+=_0x3962a2(0x4cd)),_0x3dbc72+=_0x3962a2(0x4cd);}),_0x3dbc72+='<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>',_0x3dbc72+='</form>',studentQuizArea['innerHTML']=_0x3dbc72;if(currentMode==='admin-testing'){const _0x53d409=document[_0x5dd4bb(0x695)](_0x5dd4bb(0xd13));if(_0x53d409)_0x53d409[_0x5dd4bb(0x59b)](_0x5dd4bb(0xc9a),cancelAdminTest);}const _0x31b98d=document[_0x5dd4bb(0x695)](_0x5dd4bb(0x23d));_0x31b98d&&(_0x31b98d[_0x5dd4bb(0x59b)](_0x5dd4bb(0xbf0),handleSubmitQuiz),_0x31b98d['addEventListener']('click',_0x54bd4d=>{const _0x3a8d92=_0x5dd4bb;if(_0x54bd4d[_0x3a8d92(0x819)]['classList']['contains'](_0x3a8d92(0x2ed))){const _0x365453=_0x54bd4d['target'],_0xd4d680=_0x365453[_0x3a8d92(0x4b5)]['questionIndex'],_0x1e340e=_0x365453['dataset'][_0x3a8d92(0xbdb)];document[_0x3a8d92(0x695)](_0x3a8d92(0x1f7)+_0xd4d680)[_0x3a8d92(0xbdb)]=_0x1e340e;const _0x48a106=_0x365453[_0x3a8d92(0xcf8)];_0x48a106['querySelectorAll'](_0x3a8d92(0x816))[_0x3a8d92(0x2d4)](_0x523ca5=>_0x523ca5[_0x3a8d92(0xd75)][_0x3a8d92(0x8cc)](_0x3a8d92(0xb81))),_0x365453[_0x3a8d92(0xd75)][_0x3a8d92(0x8d6)](_0x3a8d92(0xb81));}}));if(window[_0x5dd4bb(0x3af)])window[_0x5dd4bb(0x3af)][_0x5dd4bb(0xcaf)]([studentQuizArea]);}async function handleSubmitQuiz(_0x556b96){const _0x5b8913=_0x315eb9;if(_0x556b96)_0x556b96['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x57fc8d=document[_0x5b8913(0x695)](_0x5b8913(0x23d));if(!_0x57fc8d)return;const _0x407c91=currentDisplayedQuiz[_0x5b8913(0x516)]?.[_0x5b8913(0x830)]===!![],_0x2af4e3=currentDisplayedQuiz[_0x5b8913(0x516)]?.[_0x5b8913(0x406)]||_0x5b8913(0x94d);if(_0x407c91&&_0x2af4e3===_0x5b8913(0x7a7)){let _0x4f4524=!![];for(let _0x173071=0x0;_0x173071<currentDisplayedQuiz[_0x5b8913(0xab9)]['length'];_0x173071++){const _0x12aea2=_0x57fc8d[_0x5b8913(0xc31)](_0x5b8913(0x1f9)+_0x173071);if(!_0x12aea2||_0x12aea2[_0x5b8913(0xbdb)]===''){_0x4f4524=![];break;}}if(!_0x4f4524){showMessage(_0x5b8913(0x2bb));return;}}const _0x36b937=_0x57fc8d[_0x5b8913(0xc31)](_0x5b8913(0xd2a)),_0x51845a=currentDisplayedQuiz[_0x5b8913(0xab9)]['some'](_0x1eb001=>_0x1eb001[_0x5b8913(0x9e0)]==='short_answer');_0x36b937&&(_0x36b937[_0x5b8913(0x22a)]=!![],_0x36b937[_0x5b8913(0xb6b)]=_0x51845a?'<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':_0x5b8913(0xd48));const _0x227d4f=new FormData(_0x57fc8d),_0x440238=currentDisplayedQuiz['questions'][_0x5b8913(0x947)]((_0x5632ac,_0x1ebd63)=>{const _0x4ba642=_0x5b8913,_0x516fa5=_0x227d4f[_0x4ba642(0x9ea)](_0x4ba642(0x3ab)+_0x1ebd63);let _0x2aefd4;_0x2af4e3===_0x4ba642(0x7a7)?_0x2aefd4=_0x227d4f[_0x4ba642(0x9ea)]('confidence'+_0x1ebd63):_0x2aefd4=_0x227d4f[_0x4ba642(0x9ea)]('confidence'+_0x1ebd63)==='on';let _0xfa99ef=null;if(_0x516fa5!==null&&_0x516fa5!==undefined){const _0x12cf85=_0x5632ac['questionType']||currentDisplayedQuiz['quizType'];_0x12cf85===_0x4ba642(0x959)||_0x12cf85===_0x4ba642(0x4b2)?_0xfa99ef=parseInt(_0x516fa5):_0xfa99ef=_0x516fa5;}return{'answer':_0xfa99ef,'wasConfident':_0x2aefd4};}),_0x5073af=currentQuizData['id'],_0x34fdcd=doc(db,'artifacts/'+appId+_0x5b8913(0xb5c)+_0x5073af+'/submissions',currentStudentName),_0x4f25ac=await getDoc(_0x34fdcd),_0x4ed532=_0x4f25ac[_0x5b8913(0xb5a)]()?_0x4f25ac[_0x5b8913(0x5ac)]():{},_0x209c26=_0x4ed532[_0x5b8913(0x5e2)]||[];await processAndSubmitAnswers(_0x440238,_0x209c26);}async function gradeShortAnswerWithAI(_0x561d4f,_0x8daaec){const _0x98e3a8=_0x315eb9;if(!_0x561d4f||!_0x8daaec)return![];try{const _0x5417de='Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22'+_0x561d4f+_0x98e3a8(0xcdd)+_0x8daaec+_0x98e3a8(0x511),_0x93d30d={'contents':[{'role':_0x98e3a8(0x350),'parts':[{'text':_0x5417de}]}]},_0x327438=_0x98e3a8(0xb94),_0x285ef8='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x327438,_0x4805c2=await fetch(_0x285ef8,{'method':_0x98e3a8(0xd20),'headers':{'Content-Type':_0x98e3a8(0x3c0)},'body':JSON[_0x98e3a8(0xd46)](_0x93d30d)});if(!_0x4805c2['ok'])throw new Error(_0x98e3a8(0x8fc));const _0x272550=await _0x4805c2[_0x98e3a8(0x8c2)](),_0x385c5d=_0x272550[_0x98e3a8(0x5ab)][0x0][_0x98e3a8(0x8fa)][_0x98e3a8(0x24c)][0x0][_0x98e3a8(0x5f1)][_0x98e3a8(0xbcf)]()[_0x98e3a8(0x766)]();return _0x385c5d===_0x98e3a8(0x5c5);}catch(_0x510cd2){return console['error'](_0x98e3a8(0xa43),_0x510cd2),![];}}async function processAndSubmitAnswers(_0x2cc18d,_0x309cd0){const _0x4c39dd=_0x315eb9;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x4c39dd(0x538)]('fullscreenchange',handleFullscreenChange),document[_0x4c39dd(0x538)](_0x4c39dd(0xcde),handleVisibilityChange);let _0x4afd9b=0x0;const _0x4e7a61=[],_0x440c46=currentDisplayedQuiz[_0x4c39dd(0xab9)][_0x4c39dd(0xca6)];let _0x48a139=0x0,_0xf3a366=[];const _0x44cf68=currentDisplayedQuiz['questions'];for(let _0x2aa559=0x0;_0x2aa559<_0x44cf68[_0x4c39dd(0xca6)];_0x2aa559++){const _0x581480=_0x44cf68[_0x2aa559],_0x1a2c81=_0x2cc18d[_0x2aa559],_0x23cca6=_0x1a2c81?_0x1a2c81[_0x4c39dd(0xd0a)]:null,_0x48d9b9=_0x1a2c81?_0x1a2c81['wasConfident']:null;let _0x5edeea=![],_0x19d1bc=0x0;if(_0x23cca6!==null&&_0x23cca6!==''){const _0x22406d=_0x581480[_0x4c39dd(0x9e0)]||currentDisplayedQuiz[_0x4c39dd(0xa41)];switch(_0x22406d){case _0x4c39dd(0xc17):_0x5edeea=_0x23cca6===_0x581480[_0x4c39dd(0x5a6)];break;case _0x4c39dd(0xb93):const _0x46ceab=_0x23cca6===!![]||_0x23cca6===_0x4c39dd(0x5c5);_0x5edeea=_0x46ceab===_0x581480[_0x4c39dd(0x43f)];break;case _0x4c39dd(0x735):_0x5edeea=await gradeShortAnswer(_0x23cca6,_0x581480);break;case _0x4c39dd(0x959):default:_0x5edeea=Number(_0x23cca6)===_0x581480['correctAnswerIndex'];break;}}if(currentDisplayedQuiz[_0x4c39dd(0x516)]?.[_0x4c39dd(0x830)]){const _0x395f4c=_0x1a2c81?_0x1a2c81['wasConfident']:null;if(_0x5edeea&&(_0x395f4c===!![]||_0x395f4c===_0x4c39dd(0x335)))_0x19d1bc=0x2;else{if(_0x5edeea)_0x19d1bc=0x1;else{if(!_0x5edeea&&(_0x395f4c===![]||_0x395f4c===_0x4c39dd(0x823)||_0x395f4c===null))_0x19d1bc=0x0;else!_0x5edeea&&(_0x395f4c===!![]||_0x395f4c===_0x4c39dd(0x335))&&(_0x19d1bc=-0x1);}}}else _0x19d1bc=_0x5edeea?0x1:0x0;_0x4afd9b+=_0x19d1bc;if(_0x5edeea){_0x48a139++;if(_0x48a139===0x3)_0xf3a366['push'](BADGES[_0x4c39dd(0xc53)]['id']);}else _0x48a139=0x0;let _0x2cf824=null;_0x581480[_0x4c39dd(0x6ce)]&&_0x23cca6!==null&&(_0x2cf824=_0x581480['options'][_0x23cca6]),_0x4e7a61[_0x4c39dd(0xd41)]({'questionId':_0x581480['id'],'answer':_0x23cca6,'answerText':_0x2cf824,'isCorrect':_0x5edeea,'wasConfident':_0x48d9b9,'pointsAwarded':_0x19d1bc,'originalQuestionText':_0x581480[_0x4c39dd(0x858)]||_0x581480[_0x4c39dd(0x620)]});}const _0x578045=_0x4e7a61[_0x4c39dd(0x9c1)](_0x3a7a45=>_0x3a7a45['isCorrect'])[_0x4c39dd(0xca6)],_0x117c4a=currentDisplayedQuiz['settings']?.['passingScore']??Math['floor'](_0x440c46/0x2);_0x578045===_0x440c46&&_0x440c46>0x0&&!currentDisplayedQuiz[_0x4c39dd(0x898)]&&_0xf3a366['push'](BADGES['PERFECT_SCORE']['id']);const _0x534eb4=currentDisplayedQuiz[_0x4c39dd(0x516)]?.[_0x4c39dd(0xa34)];if(_0x534eb4===_0x4c39dd(0x63e)&&quizStartTime){const _0x2dee01=(new Date()-quizStartTime)/0x3e8,_0x5ac447=currentDisplayedQuiz[_0x4c39dd(0x516)][_0x4c39dd(0xbb7)]*0x3c;_0x578045>=_0x117c4a&&_0x2dee01<_0x5ac447/0x2&&_0xf3a366['push'](BADGES[_0x4c39dd(0xb22)]['id']);}_0x309cd0[_0x4c39dd(0xca6)]===0x0&&_0x578045===_0x440c46&&_0x440c46>0x0&&_0xf3a366[_0x4c39dd(0xd41)](BADGES['FIRST_TRY_ACE']['id']);if(_0x309cd0[_0x4c39dd(0xca6)]>0x0){const _0xd8ba86=_0x309cd0[0x0]['score'];if(_0xd8ba86<_0x117c4a&&_0x578045>=_0x117c4a){const _0x32bf15=_0x309cd0['some'](_0x38f16c=>(_0x38f16c[_0x4c39dd(0x68b)]||[])[_0x4c39dd(0xcac)](BADGES[_0x4c39dd(0xc69)]['id']));!_0x32bf15&&_0xf3a366[_0x4c39dd(0xd41)](BADGES[_0x4c39dd(0xc69)]['id']);}}_0x309cd0[_0x4c39dd(0xca6)]===0x4&&_0xf3a366[_0x4c39dd(0xd41)](BADGES[_0x4c39dd(0xcec)]['id']);const _0x120f15=currentDisplayedQuiz['settings'][_0x4c39dd(0xd1a)];if(currentMode===_0x4c39dd(0xd7a)){handleResultDisplay(_0x120f15,_0x578045,_0x4afd9b,_0xf3a366,_0x4e7a61,_0x440c46);return;}const _0x2182e8=currentQuizData['id'],_0x17a843=doc(db,'artifacts/'+appId+_0x4c39dd(0xb5c)+_0x2182e8+'/submissions',currentStudentName);try{const _0x361b73=[..._0x309cd0],_0x2ddbb9={'score':_0x578045,'points':_0x4afd9b,'badges':Array[_0x4c39dd(0x768)](new Set(_0xf3a366)),'submittedAt':new Date()[_0x4c39dd(0x9bd)](),'answers':_0x4e7a61};_0x361b73[_0x4c39dd(0xd41)](_0x2ddbb9);const _0x795a90=_0x309cd0[_0x4c39dd(0xca6)]===0x0?_0x578045:_0x309cd0[0x0]['score']||0x0,_0x3a0650=Math['max'](..._0x361b73[_0x4c39dd(0x947)](_0x2109c5=>_0x2109c5[_0x4c39dd(0xad9)]));await setDoc(_0x17a843,{'studentName':currentStudentName,'totalQuestions':_0x440c46,'attempts':_0x361b73,'firstScore':_0x795a90,'bestScore':_0x3a0650,'latestScore':_0x578045,'points':_0x4afd9b,'latestSubmittedAt':_0x2ddbb9['submittedAt']},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x4c39dd(0x88e)],currentStudentName),handleResultDisplay(_0x120f15,_0x578045,_0x4afd9b,_0xf3a366,_0x4e7a61,_0x440c46);}catch(_0xc2a03d){console[_0x4c39dd(0xb62)](_0x4c39dd(0x759),_0xc2a03d),showMessage(_0x4c39dd(0x36f));}}async function updateStudentProfile(_0x3257ad,_0x50e7e7){const _0x4bfa58=_0x315eb9,_0x5935a0=doc(db,_0x4bfa58(0x2d5)+appId+_0x4bfa58(0xa6e)+_0x3257ad+_0x4bfa58(0x558),_0x50e7e7);try{const _0x3ee93c=query(collection(db,_0x4bfa58(0x2d5)+appId+'/public/data/quizzes'),where(_0x4bfa58(0x88e),'==',_0x3257ad)),_0x46eedf=await getDocs(_0x3ee93c),_0x4d708c=new Map(_0x46eedf[_0x4bfa58(0x80f)][_0x4bfa58(0x947)](_0x245790=>[_0x245790['id'],_0x245790['data']()])),_0x412bbe=Array[_0x4bfa58(0x768)](_0x4d708c['keys']());await runTransaction(db,async _0xfc11d=>{const _0x301aba=_0x4bfa58;let _0x30ac3d=0x0;const _0x147500={};let _0x321d95=!![],_0x16cd30=0x0,_0xcb5856=0x0;for(const _0x546831 of _0x412bbe){const _0x9713ea=_0x4d708c[_0x301aba(0x9ea)](_0x546831),_0x214f3d=doc(db,_0x301aba(0x2d5)+appId+'/public/data/quizzes/'+_0x546831+_0x301aba(0xaa7),_0x50e7e7),_0x1fd31c=await _0xfc11d['get'](_0x214f3d);if(_0x1fd31c[_0x301aba(0xb5a)]()){const _0x1ed87c=_0x1fd31c[_0x301aba(0x5ac)](),_0x3030b6=_0x1ed87c[_0x301aba(0x5e2)]||[];if(_0x3030b6['length']>0x0){const _0x2ca574=_0x3030b6[_0x301aba(0x60f)]((_0x32af74,_0x7cb9b7)=>{const _0x48df9e=_0x301aba;if(_0x7cb9b7[_0x48df9e(0xad9)]>_0x32af74[_0x48df9e(0xad9)])return _0x7cb9b7;if(_0x7cb9b7['score']===_0x32af74['score'])return(_0x7cb9b7[_0x48df9e(0xb4e)]||0x0)>(_0x32af74[_0x48df9e(0xb4e)]||0x0)?_0x7cb9b7:_0x32af74;return _0x32af74;},{'score':-0x1,'points':-0x1});_0x2ca574[_0x301aba(0xad9)]>-0x1&&(_0x30ac3d+=_0x2ca574['points']||0x0,(_0x2ca574[_0x301aba(0x68b)]||[])[_0x301aba(0x2d4)](_0x1dae0c=>{_0x147500[_0x1dae0c]=(_0x147500[_0x1dae0c]||0x0)+0x1;}));}}if(_0x9713ea[_0x301aba(0xd28)]!==_0x301aba(0x403)){_0xcb5856++;if(_0x1fd31c[_0x301aba(0xb5a)]()){_0x16cd30++;const _0x3c1c04=_0x1fd31c[_0x301aba(0x5ac)]();_0x3c1c04[_0x301aba(0xa49)]!==_0x3c1c04['totalQuestions']&&(_0x321d95=![]);}else _0x321d95=![];}}_0xcb5856>0x0&&_0x16cd30===_0xcb5856&&_0x321d95?_0x147500['specialist']=0x1:_0x147500[_0x301aba(0x696)]=0x0,_0xfc11d[_0x301aba(0x7b0)](_0x5935a0,{'studentName':_0x50e7e7,'totalPoints':_0x30ac3d,'unlockedBadges':Object[_0x301aba(0x811)](_0x147500)['filter'](_0x2fa965=>_0x147500[_0x2fa965]>0x0),'badgesCount':_0x147500},{'merge':!![]});});}catch(_0x5e11f3){console[_0x4bfa58(0xb62)](_0x4bfa58(0xaeb),_0x5e11f3),showMessage(_0x4bfa58(0xae6));}}function startAdminTest(){const _0x5a82bd=_0x315eb9;if(!currentQuizData){showMessage(_0x5a82bd(0x927));return;}let _0xc550bd=JSON['parse'](JSON['stringify'](currentQuizData));currentMode=_0x5a82bd(0xd7a),currentStudentName=_0x5a82bd(0x4da),adminView[_0x5a82bd(0xd75)][_0x5a82bd(0x8d6)](_0x5a82bd(0x721)),studentView[_0x5a82bd(0xd75)][_0x5a82bd(0x8cc)](_0x5a82bd(0x721)),studentInitialView['classList'][_0x5a82bd(0x8d6)](_0x5a82bd(0x721)),studentNameSelectionView[_0x5a82bd(0xd75)][_0x5a82bd(0x8d6)]('hidden'),studentResultArea[_0x5a82bd(0xd75)][_0x5a82bd(0x8d6)](_0x5a82bd(0x721)),studentQuizArea['classList'][_0x5a82bd(0x8cc)](_0x5a82bd(0x721)),quizStartTime=new Date(),displayQuizForStudent(_0xc550bd);}function handleResultDisplay(_0x4e8811,_0x559645,_0x3c2246,_0x588c04,_0x3aca96,_0x1e6924){const _0x318683=_0x315eb9;if(_0x4e8811===_0x318683(0x6c3)){displaySubmissionConfirmation();return;}const _0x31431f=currentDisplayedQuiz['settings']?.[_0x318683(0x75d)]??Math[_0x318683(0x4a5)](_0x1e6924/0x2),_0x1cad89=currentDisplayedQuiz[_0x318683(0x516)]?.[_0x318683(0xac5)]??![],_0x50bfb5=currentDisplayedQuiz[_0x318683(0x516)]?.[_0x318683(0x55e)]===!![],_0x243df1=_0x559645<_0x31431f,_0x2896fd=_0x4e8811==='half_mark_status'||_0x4e8811===_0x318683(0x415);if(_0x50bfb5&&_0x243df1&&!_0x2896fd){_0x4e8811===_0x318683(0x40c)?displayResultsWithAnswers(_0x559645,_0x3c2246,_0x588c04,_0x3aca96,_0x1e6924,!![]):displayLoopScreen(_0x559645,_0x1e6924,_0x4e8811);return;}if(_0x1cad89&&_0x243df1){startAdaptiveFlow(_0x3aca96,_0x559645,_0x1e6924);return;}switch(_0x4e8811){case _0x318683(0x40c):displayResultsWithAnswers(_0x559645,_0x3c2246,_0x588c04,_0x3aca96,_0x1e6924);break;case _0x318683(0xb4d):displayResultsScoreOnly(_0x559645,_0x3c2246,_0x588c04,_0x1e6924);break;case _0x318683(0x420):displayPassFailOnly(_0x559645,_0x1e6924);break;case _0x318683(0x1fb):displayHalfMarkResult(_0x559645,_0x1e6924);break;case _0x318683(0x415):displayPerfectScoreResult(_0x559645,_0x1e6924);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0xa1a132){const _0x303c4a=_0x315eb9;studentReadingArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x3eefb2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa1a132+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20'+simpleMathPrompt+_0x303c4a(0x9f2),_0x238c5b={'type':_0x303c4a(0xac9),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x303c4a(0x277)}},'correctAnswerIndex':{'type':_0x303c4a(0x97c)},'explanation':{'type':_0x303c4a(0x277)}},'required':[_0x303c4a(0x620),_0x303c4a(0x6ce),_0x303c4a(0x794),_0x303c4a(0x94e)]},_0x3b995e={'type':_0x303c4a(0xac9),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x303c4a(0x8fe),'items':_0x238c5b}},'required':[_0x303c4a(0xd28),'questions']};try{const _0x178a2e=await callAnalysisApi(_0x3eefb2,_0x3b995e);_0x178a2e[_0x303c4a(0x898)]=!![],studentReadingArea['classList']['add'](_0x303c4a(0x721));const _0x32e526={...currentDisplayedQuiz[_0x303c4a(0x516)],'isAdaptive':![],'resultsDisplay':_0x303c4a(0x40c)};_0x178a2e[_0x303c4a(0x516)]=_0x32e526,displayQuizForStudent(_0x178a2e);}catch(_0x5f079f){console['error']('Remedial\x20quiz\x20generation\x20failed:',_0x5f079f),showMessage(_0x303c4a(0xac4)),showView(_0x303c4a(0x282));}}function displayPassFailOnly(_0x35e8e8,_0x5822b9){const _0x2e992c=_0x315eb9,_0x12f5ff=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x3cd4a1=currentDisplayedQuiz[_0x2e992c(0x898)]===!![];let _0x34d72e='',_0x50e9fb=![];if(_0x3cd4a1||_0x12f5ff!==-0x1){_0x50e9fb=_0x3cd4a1?_0x35e8e8===_0x5822b9:_0x35e8e8>=_0x12f5ff;const _0x40f228=_0x50e9fb?_0x2e992c(0xab6):_0x2e992c(0x71f),_0x4b3be6=_0x50e9fb?_0x2e992c(0x69d):_0x2e992c(0x8bf);_0x34d72e='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0x40f228+'\x22>'+_0x4b3be6+_0x2e992c(0x7ef);}else _0x34d72e=_0x2e992c(0xc35);let _0x2b31ea=_0x2e992c(0x67b)+currentStudentName+_0x2e992c(0xc0b)+_0x34d72e+_0x2e992c(0x9e3);studentResultArea[_0x2e992c(0xb6b)]=_0x2b31ea,studentResultArea[_0x2e992c(0xd75)][_0x2e992c(0x8cc)](_0x2e992c(0x721)),studentQuizArea[_0x2e992c(0xd75)][_0x2e992c(0x8d6)](_0x2e992c(0x721)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x50e9fb});}function cancelAdminTest(){const _0x982301=_0x315eb9;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x982301(0x538)]('fullscreenchange',handleFullscreenChange),document['removeEventListener']('visibilitychange',handleVisibilityChange),currentMode=_0x982301(0xbe0),studentView[_0x982301(0xd75)][_0x982301(0x8d6)](_0x982301(0x721)),adminView['classList']['remove'](_0x982301(0x721)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x982301(0x5bd));}function setupResultScreenBackButton(_0x3f43d7){const _0x49fb23=_0x315eb9,_0x5031db={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x3f43d7};if(_0x5031db[_0x49fb23(0x63c)]){const _0x1393fa=_0x49fb23(0xc5c);studentResultArea[_0x49fb23(0x8d5)](_0x49fb23(0x43e),_0x1393fa),document[_0x49fb23(0x695)]('retake-quiz-loop-btn')['addEventListener'](_0x49fb23(0xc9a),()=>{const _0xe68975=_0x49fb23;studentResultArea[_0xe68975(0xd75)][_0xe68975(0x8d6)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x199168=_0x49fb23(0xae7),_0x5d9827=currentMode==='admin-testing',_0x431770=_0x5d9827?_0x49fb23(0xaca):_0x49fb23(0x615);let _0x1ed4c3='';_0x5031db['showRankings']&&(_0x1ed4c3+=_0x49fb23(0x3b5));let _0x21daf7=_0x5031db[_0x49fb23(0x356)];_0x21daf7===undefined&&(_0x21daf7=_0x5031db[_0x49fb23(0xad9)]<_0x5031db[_0x49fb23(0x211)]);_0x21daf7&&(_0x1ed4c3+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x1ed4c3+=_0x49fb23(0x7c5)+_0x199168+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0x431770+'</button>';const _0x197d74=_0x49fb23(0x375)+_0x1ed4c3+'</div>';studentResultArea[_0x49fb23(0x8d5)](_0x49fb23(0x43e),_0x197d74),studentResultArea[_0x49fb23(0xc31)](_0x49fb23(0x689))?.[_0x49fb23(0x59b)]('click',handleShowStudentRankings);const _0x40f643=studentResultArea[_0x49fb23(0xc31)](_0x49fb23(0x4fa));_0x40f643&&_0x40f643['addEventListener'](_0x49fb23(0xc9a),()=>{const _0x2e8fce=_0x49fb23;studentResultArea[_0x2e8fce(0xd75)][_0x2e8fce(0x8d6)](_0x2e8fce(0x721)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x49fb23(0x695)](_0x199168)[_0x49fb23(0x59b)](_0x49fb23(0xc9a),()=>{const _0x1615d6=_0x49fb23;_0x5d9827?(currentMode=_0x1615d6(0xbe0),studentView[_0x1615d6(0xd75)][_0x1615d6(0x8d6)](_0x1615d6(0x721)),adminView[_0x1615d6(0xd75)]['remove']('hidden'),showView('project-detail')):(showView(_0x1615d6(0x282)),document[_0x1615d6(0x695)](_0x1615d6(0x4eb))[_0x1615d6(0xbdb)]='');});}function displayResultsWithAnswers(_0x5dbf91,_0x3070fd,_0x2a1d15,_0x5a6987,_0x2d901d,_0x5f32c4=![]){const _0x5b1586=_0x315eb9,_0x378070=_0x2d901d>0x0?_0x5dbf91/_0x2d901d*0x64:0x0,_0x35f865=currentDisplayedQuiz[_0x5b1586(0x516)]?.[_0x5b1586(0x75d)]??-0x1,_0x1ce374=currentDisplayedQuiz[_0x5b1586(0x898)]===!![];let _0x37aebd='';if(_0x1ce374||_0x35f865!==-0x1){let _0x18b423=_0x1ce374?_0x5dbf91===_0x2d901d:_0x5dbf91>=_0x35f865;const _0x2b05ea=_0x18b423?_0x5b1586(0xab6):_0x5b1586(0x71f),_0x4f3ea8=_0x18b423?'ผ่าน':_0x5b1586(0x8bf);_0x37aebd=_0x5b1586(0xb4a)+_0x2b05ea+'\x22>'+_0x4f3ea8+_0x5b1586(0xb97);}let _0x1bae9a=_0x5b1586(0xbc4)+currentStudentName+_0x5b1586(0x2d6)+_0x5dbf91+_0x5b1586(0xa36)+_0x2d901d+_0x5b1586(0x8ba)+_0x37aebd+_0x5b1586(0x87b)+_0x3070fd+_0x5b1586(0x64a)+_0x378070[_0x5b1586(0x3ba)](0x0)+_0x5b1586(0x2b1);currentDisplayedQuiz['questions'][_0x5b1586(0x2d4)]((_0xf08bdb,_0x5f66ce)=>{const _0x332553=_0x5b1586,_0x30c581=_0x5a6987[_0x5f66ce],_0x3b9673=_0x30c581[_0x332553(0xd0a)],_0x3ee4c2=_0x30c581[_0x332553(0xa06)],_0x38d765=_0xf08bdb[_0x332553(0x9e0)]||currentDisplayedQuiz[_0x332553(0xa41)];_0x1bae9a+=_0x332553(0x773)+(_0x3ee4c2?_0x332553(0x2fe):_0x332553(0x5a4))+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x5f66ce+0x1)+'.\x20'+(_0xf08bdb[_0x332553(0x858)]||_0xf08bdb['questionText'])+_0x332553(0xa7a);switch(_0x38d765){case'matching_item':const _0x41a874=_0x3b9673||_0x332553(0x2e9),_0x38e3c8=_0xf08bdb[_0x332553(0x5a6)];_0x1bae9a+=_0x332553(0xb1a)+(!_0x3ee4c2?_0x332553(0x4d8):'')+'\x22>'+_0x41a874+_0x332553(0xd7e);!_0x3ee4c2&&(_0x1bae9a+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x38e3c8+_0x332553(0xb97));break;case'short_answer':_0x1bae9a+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x3b9673||'ไม่ได้ตอบ')+'</p>',_0x1bae9a+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0xf08bdb[_0x332553(0xc00)]+_0x332553(0xb97);break;case _0x332553(0xb93):_0x1bae9a+=_0x332553(0xa9f)+(_0xf08bdb[_0x332553(0x43f)]===!![]?_0x332553(0xcda):'')+'\x20'+(_0x3b9673===_0x332553(0x5c5)&&!_0x3ee4c2?'line-through\x20text-red-700':'')+_0x332553(0xa91),_0x1bae9a+=_0x332553(0xa9f)+(_0xf08bdb[_0x332553(0x43f)]===![]?_0x332553(0xcda):'')+'\x20'+(_0x3b9673===_0x332553(0x778)&&!_0x3ee4c2?'line-through\x20text-red-700':'')+_0x332553(0x9bc);break;default:_0x1bae9a+=_0xf08bdb[_0x332553(0x6ce)][_0x332553(0x947)]((_0xc2d4bd,_0x2fa2d8)=>{const _0x5b9af0=_0x332553;let _0x52aae1='',_0x8e0259='';if(_0x2fa2d8===_0xf08bdb[_0x5b9af0(0x794)])_0x52aae1=_0x5b9af0(0xcda),_0x8e0259='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x2fa2d8===_0x3b9673&&(_0x52aae1=_0x5b9af0(0xce7),_0x8e0259=_0x5b9af0(0xba5));return _0x5b9af0(0x43c)+_0x52aae1+'\x22>'+_0x8e0259+_0xc2d4bd+_0x5b9af0(0x4cd);})[_0x332553(0x6f5)]('');break;}_0x1bae9a+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0xf08bdb[_0x332553(0x94e)]||_0x332553(0xd82))+_0x332553(0x4cd);if(!_0x3ee4c2){const _0x1d775b=_0xf08bdb[_0x332553(0x858)]||_0xf08bdb[_0x332553(0x620)];_0x1bae9a+=_0x332553(0x26e)+escape(_0x1d775b)+_0x332553(0xacc);}_0x1bae9a+='</div>';}),studentResultArea['innerHTML']=_0x1bae9a,renderEarnedBadges(_0x2a1d15,_0x5b1586(0x841)),studentResultArea[_0x5b1586(0xd75)][_0x5b1586(0x8cc)](_0x5b1586(0x721)),studentQuizArea[_0x5b1586(0xd75)][_0x5b1586(0x8d6)](_0x5b1586(0x721)),setupResultScreenBackButton({'isLooping':_0x5f32c4,'score':_0x5dbf91,'totalQuestions':_0x2d901d,'showRankings':!![]});if(window[_0x5b1586(0x3af)])window[_0x5b1586(0x3af)][_0x5b1586(0xcaf)]([studentResultArea]);}function displayResultsScoreOnly(_0x22c0d3,_0x9d9b90,_0x1ecab6,_0x2a5136){const _0x4ed959=_0x315eb9,_0x3abde3=_0x2a5136>0x0?_0x22c0d3/_0x2a5136*0x64:0x0,_0x158f75=currentDisplayedQuiz['settings']?.[_0x4ed959(0x75d)]??-0x1,_0x2685b8=currentDisplayedQuiz['isRemedial']===!![];let _0x4660ed='';if(_0x2685b8||_0x158f75!==-0x1){let _0x3a27b5=_0x2685b8?_0x22c0d3===_0x2a5136:_0x22c0d3>=_0x158f75;const _0x504b93=_0x3a27b5?_0x4ed959(0xab6):_0x4ed959(0x71f),_0x4477bc=_0x3a27b5?_0x4ed959(0x69d):_0x4ed959(0x8bf);_0x4660ed=_0x4ed959(0xb4a)+_0x504b93+'\x22>'+_0x4477bc+_0x4ed959(0xb97);}let _0x4af8fd=_0x4ed959(0x67b)+currentStudentName+_0x4ed959(0x240)+_0x22c0d3+_0x4ed959(0x9ec)+_0x2a5136+_0x4ed959(0x8ba)+_0x4660ed+_0x4ed959(0x87b)+_0x9d9b90+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20'+_0x3abde3[_0x4ed959(0x3ba)](0x0)+_0x4ed959(0x70e);studentResultArea[_0x4ed959(0xb6b)]=_0x4af8fd,renderEarnedBadges(_0x1ecab6,_0x4ed959(0x841)),studentResultArea[_0x4ed959(0xd75)][_0x4ed959(0x8cc)](_0x4ed959(0x721)),studentQuizArea[_0x4ed959(0xd75)][_0x4ed959(0x8d6)](_0x4ed959(0x721)),setupResultScreenBackButton({'score':_0x22c0d3,'totalQuestions':_0x2a5136,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x3affc3=_0x315eb9;let _0x11714b=_0x3affc3(0x7d6)+currentStudentName+_0x3affc3(0xa02);studentResultArea[_0x3affc3(0xb6b)]=_0x11714b,studentResultArea[_0x3affc3(0xd75)]['remove']('hidden'),studentQuizArea[_0x3affc3(0xd75)][_0x3affc3(0x8d6)]('hidden'),document[_0x3affc3(0x695)](_0x3affc3(0x4a4))['addEventListener'](_0x3affc3(0xc9a),()=>{const _0x11b10f=_0x3affc3;showView('student'),document[_0x11b10f(0x695)](_0x11b10f(0x4eb))[_0x11b10f(0xbdb)]='';});}function renderEarnedBadges(_0x12a052,_0x5d879c){const _0x2574de=_0x315eb9,_0x2f4601=document[_0x2574de(0x695)](_0x5d879c);if(!_0x2f4601||!_0x12a052||_0x12a052[_0x2574de(0xca6)]===0x0)return;let _0xf1e2b='';_0x12a052[_0x2574de(0x2d4)]((_0x143009,_0x2f3c30)=>{const _0x10c01d=_0x2574de,_0x5490f3=Object[_0x10c01d(0xb3a)](BADGES)[_0x10c01d(0x559)](_0x5ec6c2=>_0x5ec6c2['id']===_0x143009);_0x5490f3&&(_0xf1e2b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x2f3c30*0.2+_0x10c01d(0x62b)+_0x5490f3[_0x10c01d(0x97e)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x5490f3[_0x10c01d(0xd6a)]+_0x10c01d(0xb56)+_0x5490f3['name']+_0x10c01d(0x7e0));}),_0x2f4601[_0x2574de(0xb6b)]=_0xf1e2b;}function startPresentation(_0x1b35f5){const _0x58ecd1=_0x315eb9;currentQuizData=getShuffledQuiz(_0x1b35f5),currentPresentationSlide=0x0,presentationModal[_0x58ecd1(0x7a9)][_0x58ecd1(0x9e8)]=_0x58ecd1(0x331),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x259e59=_0x315eb9;document[_0x259e59(0x618)]&&document[_0x259e59(0x997)](),presentationModal[_0x259e59(0x7a9)][_0x259e59(0x9e8)]=_0x259e59(0x4f9);}function renderPresentationSlide(_0x30c644){const _0x2cdc60=_0x315eb9,_0x2abf18=document[_0x2cdc60(0x695)](_0x2cdc60(0x5e4));if(!currentQuizData||!currentQuizData[_0x2cdc60(0xab9)]||!currentQuizData[_0x2cdc60(0xab9)][_0x30c644]){_0x2abf18['innerHTML']='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0xc2e874=currentQuizData[_0x2cdc60(0xab9)][_0x30c644],_0x3045d4=_0xc2e874['questionType']||currentQuizData[_0x2cdc60(0xa41)];_0x2abf18['innerHTML']='';let _0x17df0b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xc2e874['imageCode']?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0xc2e874['imageCode']+_0x2cdc60(0x4cd):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>'+(_0x30c644+0x1)+'.\x20'+(_0xc2e874[_0x2cdc60(0x858)]||_0xc2e874['questionText'])+_0x2cdc60(0xb33);switch(_0x3045d4){case _0x2cdc60(0xc17):_0x17df0b+=_0xc2e874[_0x2cdc60(0x556)]['map'](_0x42813b=>_0x2cdc60(0xa0d)+_0x42813b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2cdc60(0x6f5)]('');break;case _0x2cdc60(0xb93):_0x17df0b+=_0x2cdc60(0x50b),_0x17df0b+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case _0x2cdc60(0x633):case _0x2cdc60(0x735):_0x17df0b+=_0x2cdc60(0x88c);break;case'fill_in_the_blank':case _0x2cdc60(0x959):default:_0x17df0b+=_0xc2e874['options'][_0x2cdc60(0x947)]((_0x4c72db,_0x20aeda)=>_0x2cdc60(0x991)+_0x20aeda+_0x2cdc60(0x8e9)+_0x4c72db+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');break;}_0x17df0b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0xc2e874[_0x2cdc60(0x94e)]||_0x2cdc60(0xd82))+_0x2cdc60(0xa2c),_0x2abf18[_0x2cdc60(0xb6b)]=_0x17df0b;if(window[_0x2cdc60(0x3af)])window[_0x2cdc60(0x3af)]['typesetPromise']([_0x2abf18]);let _0x1e7e2f=[];switch(_0x3045d4){case _0x2cdc60(0xc17):_0x1e7e2f=_0xc2e874[_0x2cdc60(0x556)]||[];break;case _0x2cdc60(0xb93):_0x1e7e2f=['ใช่',_0x2cdc60(0x383)];break;default:_0x1e7e2f=_0xc2e874['options']||[];break;}const _0x1bb04a=document[_0x2cdc60(0x695)](_0x2cdc60(0x622));_0x1bb04a&&(_0x1bb04a[_0x2cdc60(0x3cf)]=()=>{openScratchpad(_0xc2e874,_0x1e7e2f);});document['querySelectorAll'](_0x2cdc60(0xb05))[_0x2cdc60(0x2d4)](_0x13e908=>{const _0x279f54=_0x2cdc60;_0x13e908[_0x279f54(0x59b)]('click',_0x469107=>revealAnswerForPresentation(_0x30c644,_0x469107[_0x279f54(0x4de)]));});const _0x1e1813=document[_0x2cdc60(0x695)]('check-presentation-answer-btn');_0x1e1813&&_0x1e1813[_0x2cdc60(0x59b)](_0x2cdc60(0xc9a),()=>checkShortAnswerForPresentation(_0x30c644)),document[_0x2cdc60(0x695)]('slide-counter')[_0x2cdc60(0x97a)]=_0x2cdc60(0x6e7)+(_0x30c644+0x1)+_0x2cdc60(0xcd4)+currentQuizData[_0x2cdc60(0xab9)][_0x2cdc60(0xca6)],document[_0x2cdc60(0x695)]('prev-question-btn')[_0x2cdc60(0x22a)]=_0x30c644===0x0,document[_0x2cdc60(0x695)](_0x2cdc60(0x258))[_0x2cdc60(0x22a)]=_0x30c644===currentQuizData[_0x2cdc60(0xab9)][_0x2cdc60(0xca6)]-0x1;}async function checkShortAnswerForPresentation(_0x2181ba){const _0x4fba89=_0x315eb9,_0x4193dc=currentQuizData[_0x4fba89(0xab9)][_0x2181ba],_0x12154a=document[_0x4fba89(0x695)](_0x4fba89(0x87a)),_0x3e9665=document[_0x4fba89(0x695)]('check-presentation-answer-btn'),_0x170baf=document[_0x4fba89(0x695)](_0x4fba89(0xabe)),_0x4f839a=document['getElementById']('presentation-explanation');if(!_0x12154a||!_0x3e9665||!_0x170baf||!_0x4f839a)return;const _0x3488af=_0x12154a['value']['trim']();if(_0x3488af==='')return;_0x3e9665[_0x4fba89(0x22a)]=!![],_0x3e9665[_0x4fba89(0xb6b)]=_0x4fba89(0xd26),_0x12154a[_0x4fba89(0x22a)]=!![];const _0x4c4562=await gradeShortAnswer(_0x3488af,_0x4193dc);_0x4c4562?_0x170baf[_0x4fba89(0xb6b)]=_0x4fba89(0xaed):_0x170baf['innerHTML']=_0x4fba89(0x374)+_0x4193dc[_0x4fba89(0xc00)]+')',_0x170baf[_0x4fba89(0xd75)][_0x4fba89(0x8cc)]('hidden'),_0x4f839a['classList'][_0x4fba89(0x8cc)](_0x4fba89(0x721)),_0x3e9665['classList'][_0x4fba89(0x8d6)]('hidden');}function revealAnswerForPresentation(_0x456ba0,_0x3ea5e2){const _0x4816c9=_0x315eb9,_0xf02a19=currentQuizData['questions'][_0x456ba0],_0x553ad6=_0xf02a19[_0x4816c9(0x9e0)]||currentQuizData['quizType'];document['querySelectorAll']('.presentation-option')[_0x4816c9(0x2d4)](_0x3d6729=>{const _0x4464ff=_0x4816c9;_0x3d6729['disabled']=!![],_0x3d6729[_0x4464ff(0xd75)]['remove'](_0x4464ff(0x86f));let _0x85510e=![];if(_0x553ad6===_0x4464ff(0x959)||_0x553ad6===_0x4464ff(0x4b2)){const _0x4cc8b2=parseInt(_0x3d6729[_0x4464ff(0x4b5)][_0x4464ff(0xa42)]);_0x85510e=_0x4cc8b2===_0xf02a19['correctAnswerIndex'];}else{if(_0x553ad6==='true_false'){const _0x58b5db=_0x3d6729[_0x4464ff(0x4b5)]['answer']==='true';_0x85510e=_0x58b5db===_0xf02a19[_0x4464ff(0x43f)];}else _0x553ad6===_0x4464ff(0xc17)&&(_0x85510e=_0x3d6729[_0x4464ff(0x97a)]['trim']()===_0xf02a19[_0x4464ff(0x5a6)]);}_0x85510e?_0x3d6729['classList']['add'](_0x4464ff(0x373),_0x4464ff(0x441),'border-green-700'):_0x3d6729[_0x4464ff(0xd75)][_0x4464ff(0x8d6)](_0x4464ff(0x88d));}),_0x3ea5e2[_0x4816c9(0xd75)][_0x4816c9(0x8cc)]('opacity-50');let _0x4a34e4=![];if(_0x553ad6===_0x4816c9(0x959))_0x4a34e4=parseInt(_0x3ea5e2[_0x4816c9(0x4b5)][_0x4816c9(0xa42)])===_0xf02a19[_0x4816c9(0x794)];else{if(_0x553ad6===_0x4816c9(0xb93))_0x4a34e4=_0x3ea5e2['dataset'][_0x4816c9(0xd0a)]===_0x4816c9(0x5c5)===_0xf02a19[_0x4816c9(0x43f)];else _0x553ad6===_0x4816c9(0xc17)&&(_0x4a34e4=_0x3ea5e2[_0x4816c9(0x97a)][_0x4816c9(0xbcf)]()===_0xf02a19[_0x4816c9(0x5a6)]);}!_0x4a34e4&&_0x3ea5e2[_0x4816c9(0xd75)][_0x4816c9(0x8d6)](_0x4816c9(0xbb6),'text-white',_0x4816c9(0x6b5)),document[_0x4816c9(0x695)](_0x4816c9(0xb07))[_0x4816c9(0xd75)]['remove'](_0x4816c9(0x721));}function startWholeQuizTimer(_0x5978ba){const _0x364597=_0x315eb9,_0x1dff43=document[_0x364597(0x695)](_0x364597(0x254));if(!_0x1dff43)return;const _0x506d8d=Date[_0x364597(0x320)]()+_0x5978ba*0x3c*0x3e8;_0x1dff43[_0x364597(0xb6b)]=_0x364597(0xa7e);const _0xae2f5b=document[_0x364597(0x695)](_0x364597(0x487));quizTimerInterval=setInterval(()=>{const _0x5c1fc3=_0x364597,_0x555354=_0x506d8d-Date[_0x5c1fc3(0x320)]();if(_0x555354<=0x0)clearInterval(quizTimerInterval),_0xae2f5b['textContent']='00:00',showMessage(_0x5c1fc3(0x81f)),handleSubmitQuiz(null);else{const _0x5d8ca8=Math['floor'](_0x555354/0x3e8/0x3c%0x3c)[_0x5c1fc3(0x2c8)]()[_0x5c1fc3(0x3a4)](0x2,'0'),_0x14b0b0=Math['floor'](_0x555354/0x3e8%0x3c)[_0x5c1fc3(0x2c8)]()['padStart'](0x2,'0');_0xae2f5b[_0x5c1fc3(0x97a)]=_0x5d8ca8+':'+_0x14b0b0;}},0x3e8);}function renderPerQuestionView(){const _0xecbac7=_0x315eb9;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x33bf03=currentDisplayedQuiz[_0xecbac7(0xab9)][currentQuestionIndex],_0x6fdf9a=_0x33bf03[_0xecbac7(0x9e0)]||currentDisplayedQuiz['quizType'],_0x3c1c51=currentDisplayedQuiz['settings']?.['isConfidenceScoringEnabled']===!![];let _0x21efe4=_0xecbac7(0x47e)+(currentQuestionIndex+0x1)+_0xecbac7(0x70b)+currentDisplayedQuiz[_0xecbac7(0xab9)]['length']+_0xecbac7(0x342)+(currentMode===_0xecbac7(0xd7a)?_0xecbac7(0x24e):'')+_0xecbac7(0x5b6)+currentDisplayedQuiz['topic']+_0xecbac7(0xd88);studentQuizArea['innerHTML']=_0x21efe4;let _0x3a4fe4=_0x33bf03[_0xecbac7(0x858)]||_0x33bf03['questionText'];_0x33bf03[_0xecbac7(0xaf3)]&&(_0x3a4fe4+=_0xecbac7(0xd4e)+_0x33bf03[_0xecbac7(0xaf3)]+_0xecbac7(0x4cd));let _0x1ea63b='';switch(_0x6fdf9a){case _0xecbac7(0x735):case _0xecbac7(0x633):_0x1ea63b=_0xecbac7(0x80c);break;case'true_false':_0x1ea63b=_0xecbac7(0xc39);break;case'matching_item':_0x1ea63b=_0xecbac7(0x985)+(_0x33bf03[_0xecbac7(0x556)]||[])['map'](_0x5731c7=>_0xecbac7(0xb7e)+_0x5731c7+'\x22>'+_0x5731c7+'</option>')[_0xecbac7(0x6f5)]('')+_0xecbac7(0x9e4);break;default:_0x33bf03[_0xecbac7(0x6ce)]&&(_0x1ea63b=_0x33bf03[_0xecbac7(0x6ce)][_0xecbac7(0x947)]((_0x43cc41,_0x4c1c6f)=>_0xecbac7(0xa6c)+_0x4c1c6f+_0xecbac7(0x44a)+_0x4c1c6f+_0xecbac7(0x666)+_0x4c1c6f+'\x22>'+_0x43cc41+_0xecbac7(0x2d8))[_0xecbac7(0x6f5)](''));break;}document['getElementById'](_0xecbac7(0x567))['innerHTML']=_0x3a4fe4,document[_0xecbac7(0x695)](_0xecbac7(0x272))[_0xecbac7(0xb6b)]=_0x1ea63b;const _0x32aed2=currentDisplayedQuiz[_0xecbac7(0x516)]?.[_0xecbac7(0x830)]===!![],_0x5a6bdf=currentDisplayedQuiz[_0xecbac7(0x516)]?.[_0xecbac7(0x406)]||'checkbox';if(_0x32aed2&&_0x5a6bdf===_0xecbac7(0x94d)){const _0xedc64e=_0xecbac7(0x3c8);studentQuizArea[_0xecbac7(0xc31)]('.mb-6.p-4')[_0xecbac7(0x8d5)](_0xecbac7(0x43e),_0xedc64e);}studentQuizArea[_0xecbac7(0x8d5)](_0xecbac7(0x43e),_0xecbac7(0xa4b)+(currentQuestionIndex===currentDisplayedQuiz[_0xecbac7(0xab9)][_0xecbac7(0xca6)]-0x1?'ส่งคำตอบ':_0xecbac7(0x4ce))+_0xecbac7(0xd44));currentMode==='admin-testing'&&document[_0xecbac7(0x695)](_0xecbac7(0xd13))?.[_0xecbac7(0x59b)](_0xecbac7(0xc9a),cancelAdminTest);document[_0xecbac7(0x695)]('next-question-timed-btn')[_0xecbac7(0x59b)](_0xecbac7(0xc9a),()=>handleNextQuestionInTimedMode(![]));if(window[_0xecbac7(0x3af)])window[_0xecbac7(0x3af)][_0xecbac7(0xcaf)]([studentQuizArea]);currentDisplayedQuiz[_0xecbac7(0x516)]?.[_0xecbac7(0xa34)]===_0xecbac7(0x955)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x32f1a9=_0x315eb9,_0x273c64=currentDisplayedQuiz[_0x32f1a9(0x516)]['timerDuration'],_0x4cbbb4=document[_0x32f1a9(0x695)](_0x32f1a9(0x720));if(!_0x4cbbb4)return;let _0x20eeba=_0x273c64;_0x4cbbb4[_0x32f1a9(0xb6b)]=_0x32f1a9(0x67f)+_0x20eeba+_0x32f1a9(0x368);const _0x3248df=document['getElementById'](_0x32f1a9(0x3ef)),_0x2a6dfb=document[_0x32f1a9(0x695)](_0x32f1a9(0x94b));perQuestionTimerInterval=setInterval(()=>{const _0x2326c0=_0x32f1a9;_0x20eeba--;const _0x15e2f4=_0x20eeba/_0x273c64*0x64;_0x3248df[_0x2326c0(0x7a9)][_0x2326c0(0x7c1)]=_0x15e2f4+'%',_0x2a6dfb[_0x2326c0(0x97a)]=_0x20eeba,_0x20eeba<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x2326c0(0xd23)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0xb13e58=![]){const _0xb81f70=_0x315eb9;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x2e0e86=null,_0xb3e614=![];if(!_0xb13e58){const _0x483c09=currentDisplayedQuiz[_0xb81f70(0xab9)][currentQuestionIndex],_0x312918=_0x483c09[_0xb81f70(0x9e0)]||currentDisplayedQuiz['quizType'];if(_0x312918==='short_answer'||_0x312918==='fill_in_no_choices')_0x2e0e86=document[_0xb81f70(0xc31)](_0xb81f70(0x384))?.[_0xb81f70(0xbdb)][_0xb81f70(0xbcf)]()??'';else{if(_0x312918===_0xb81f70(0xc17))_0x2e0e86=document['querySelector'](_0xb81f70(0x8c7))?.[_0xb81f70(0xbdb)]??'';else{const _0x53d440=document[_0xb81f70(0xc31)](_0xb81f70(0x711));_0x53d440&&(_0x2e0e86=_0x53d440['value']);}}if(_0x2e0e86===null||_0x2e0e86===''){showMessage('กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ'),startPerQuestionTimer();return;}const _0x510f3b=currentDisplayedQuiz[_0xb81f70(0x516)]?.[_0xb81f70(0x830)]===!![],_0x8f96e4=currentDisplayedQuiz[_0xb81f70(0x516)]?.[_0xb81f70(0x406)]||_0xb81f70(0x94d);if(_0x510f3b&&_0x8f96e4===_0xb81f70(0x7a7)){document['getElementById'](_0xb81f70(0xa0a))[_0xb81f70(0x4b5)][_0xb81f70(0x864)]=_0xb81f70(0x3f0),document[_0xb81f70(0x695)](_0xb81f70(0xd83))[_0xb81f70(0xbdb)]=_0x2e0e86,document[_0xb81f70(0x695)](_0xb81f70(0xa0a))[_0xb81f70(0xd75)][_0xb81f70(0x8cc)]('hidden');return;}const _0xa5a62e=document[_0xb81f70(0x695)](_0xb81f70(0xc2a));_0xa5a62e&&(_0xb3e614=_0xa5a62e['checked']);}const _0x289c86={'answer':_0x2e0e86,'wasConfident':_0xb3e614};proceedToNextQuestion(_0x289c86);}async function finalizePerQuestionQuiz(){const _0x141a17=_0x315eb9,_0x3ab152=currentDisplayedQuiz[_0x141a17(0xab9)]['some'](_0x56781c=>_0x56781c[_0x141a17(0x9e0)]===_0x141a17(0x735));_0x3ab152?showMessage(_0x141a17(0xb18)):showMessage(_0x141a17(0x411));const _0x4142a1=currentQuizData['id'],_0x39ed46=doc(db,_0x141a17(0x2d5)+appId+'/public/data/quizzes/'+_0x4142a1+'/submissions',currentStudentName),_0x2ac7f1=await getDoc(_0x39ed46),_0xc13f5b=_0x2ac7f1[_0x141a17(0xb5a)]()?_0x2ac7f1[_0x141a17(0x5ac)]():{},_0x19cf54=_0xc13f5b['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x19cf54);}function getResultsFilename(){const _0x49633d=_0x315eb9,_0x45e2a1=document[_0x49633d(0x695)]('results-quiz-title')['textContent'][_0x49633d(0x963)](/[^a-z0-9]/gi,'_')[_0x49633d(0x766)]();return'results_'+(_0x45e2a1||'quiz');}function exportResultsAsImage(){const _0x1cf909=_0x315eb9,_0x27af03=document[_0x1cf909(0x695)](_0x1cf909(0x5fb));showMessage(_0x1cf909(0xda9)),html2canvas(_0x27af03)[_0x1cf909(0x5a0)](_0x5dbad6=>{const _0x1c5726=_0x1cf909,_0x328b13=document[_0x1c5726(0x783)]('a');_0x328b13[_0x1c5726(0x820)]=getResultsFilename()+_0x1c5726(0x6df),_0x328b13['href']=_0x5dbad6[_0x1c5726(0x73a)](_0x1c5726(0xcee)),_0x328b13[_0x1c5726(0xc9a)](),messageModal[_0x1c5726(0xd75)]['add'](_0x1c5726(0x721));});}function exportResultsAsPDF(){const _0x498f6=_0x315eb9,{jsPDF:_0x44ad73}=window[_0x498f6(0x6bd)],_0x49b92f=new _0x44ad73();_0x49b92f['setFont'](_0x498f6(0xd07),_0x498f6(0x391)),_0x49b92f['autoTable']({'html':_0x498f6(0xd36)}),_0x49b92f[_0x498f6(0x206)](getResultsFilename()+_0x498f6(0xcc7));}function exportResultsAsWord(){const _0x431192=_0x315eb9,_0x4ea932=_0x431192(0x61f)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x431192(0xa01)+_0x431192(0xbf7),_0x5f5d95=_0x431192(0x4fb),_0x5876ea=_0x4ea932+document[_0x431192(0x695)](_0x431192(0x5fb))['innerHTML']+_0x5f5d95,_0x47e844=_0x431192(0x9ae)+encodeURIComponent(_0x5876ea),_0x344b1c=document[_0x431192(0x783)]('a');document[_0x431192(0x96b)][_0x431192(0xbbd)](_0x344b1c),_0x344b1c[_0x431192(0x4b6)]=_0x47e844,_0x344b1c['download']=getResultsFilename()+_0x431192(0xcf2),_0x344b1c[_0x431192(0xc9a)](),document['body'][_0x431192(0x333)](_0x344b1c);}function exportResultsAsExcel(){const _0x3ba3e4=_0x315eb9,_0x1a7b29=document[_0x3ba3e4(0x695)](_0x3ba3e4(0x57f));let _0xacd238=[];for(let _0x4d645f=0x0;_0x4d645f<_0x1a7b29[_0x3ba3e4(0x79a)][_0x3ba3e4(0xca6)];_0x4d645f++){let _0x3407bd=[],_0x17a946=_0x1a7b29['rows'][_0x4d645f]['querySelectorAll'](_0x3ba3e4(0x781));for(let _0x5a5605=0x0;_0x5a5605<_0x17a946[_0x3ba3e4(0xca6)];_0x5a5605++){_0x3407bd[_0x3ba3e4(0xd41)]('\x22'+_0x17a946[_0x5a5605][_0x3ba3e4(0x91f)][_0x3ba3e4(0x963)](/"/g,'\x22\x22')+'\x22');}_0xacd238[_0x3ba3e4(0xd41)](_0x3407bd[_0x3ba3e4(0x6f5)](','));}const _0x384d0d=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0xacd238['join']('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x3edc6a=document['createElement']('a');_0x3edc6a[_0x3ba3e4(0x4b6)]=URL[_0x3ba3e4(0x742)](_0x384d0d),_0x3edc6a[_0x3ba3e4(0x820)]=getResultsFilename()+_0x3ba3e4(0x86b),_0x3edc6a[_0x3ba3e4(0xc9a)]();}function exportTableAsImage(_0x286050,_0x4fa8bb){const _0x4211a4=_0x315eb9,_0x1407d8=document[_0x4211a4(0x695)](_0x286050);if(!_0x1407d8){showMessage(_0x4211a4(0x9e5));return;}showMessage(_0x4211a4(0xda9)),html2canvas(_0x1407d8)[_0x4211a4(0x5a0)](_0x23406d=>{const _0xd10ad4=_0x4211a4,_0x5f29ba=document[_0xd10ad4(0x783)]('a');_0x5f29ba[_0xd10ad4(0x820)]=_0x4fa8bb+'.png',_0x5f29ba[_0xd10ad4(0x4b6)]=_0x23406d[_0xd10ad4(0x73a)]('image/png'),_0x5f29ba[_0xd10ad4(0xc9a)](),messageModal[_0xd10ad4(0xd75)][_0xd10ad4(0x8d6)](_0xd10ad4(0x721));});}function exportTableAsPDF(_0x3bc6f6,_0x379fb9){const _0x3de647=_0x315eb9,{jsPDF:_0x42749e}=window['jspdf'],_0x384676=new _0x42749e();_0x384676[_0x3de647(0xa15)](_0x3de647(0xd07),_0x3de647(0x391)),_0x384676[_0x3de647(0x317)]({'html':'#'+_0x3bc6f6}),_0x384676[_0x3de647(0x206)](_0x379fb9+'.pdf');}function exportTableAsWord(_0x5e113a,_0x4dcae3){const _0x339576=_0x315eb9,_0x376f6f=document[_0x339576(0x695)](_0x5e113a);if(!_0x376f6f){showMessage(_0x339576(0x9e5));return;}const _0x68a54d=_0x339576(0x61f)+_0x339576(0xda1)+_0x339576(0xa01)+_0x339576(0xbf7),_0x427756='</body></html>',_0x10ecd1=_0x68a54d+_0x376f6f['innerHTML']+_0x427756,_0x57b500=_0x339576(0x9ae)+encodeURIComponent(_0x10ecd1),_0x5a9694=document[_0x339576(0x783)]('a');document[_0x339576(0x96b)][_0x339576(0xbbd)](_0x5a9694),_0x5a9694[_0x339576(0x4b6)]=_0x57b500,_0x5a9694['download']=_0x4dcae3+_0x339576(0xcf2),_0x5a9694[_0x339576(0xc9a)](),document[_0x339576(0x96b)][_0x339576(0x333)](_0x5a9694);}function exportTableAsExcel(_0x394cd1,_0x84164d){const _0x2c912f=_0x315eb9,_0x525cc0=document['getElementById'](_0x394cd1);if(!_0x525cc0){showMessage(_0x2c912f(0x9e5));return;}let _0x1d8d1f=[];for(let _0xb3109b=0x0;_0xb3109b<_0x525cc0[_0x2c912f(0x79a)][_0x2c912f(0xca6)];_0xb3109b++){let _0x1b944a=[],_0x599755=_0x525cc0['rows'][_0xb3109b][_0x2c912f(0x4e3)](_0x2c912f(0x781));for(let _0x251a65=0x0;_0x251a65<_0x599755['length'];_0x251a65++){_0x1b944a[_0x2c912f(0xd41)]('\x22'+_0x599755[_0x251a65][_0x2c912f(0x91f)][_0x2c912f(0x963)](/"/g,'\x22\x22')+'\x22');}_0x1d8d1f[_0x2c912f(0xd41)](_0x1b944a['join'](','));}const _0x5894d6=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x1d8d1f[_0x2c912f(0x6f5)]('\x0a')],{'type':_0x2c912f(0xc51)}),_0x1fdc91=document[_0x2c912f(0x783)]('a');_0x1fdc91[_0x2c912f(0x4b6)]=URL['createObjectURL'](_0x5894d6),_0x1fdc91[_0x2c912f(0x820)]=_0x84164d+_0x2c912f(0x86b),_0x1fdc91['click']();}function renderAnalytics(_0x212298,_0x5ad83e){const _0x2d2afc=_0x315eb9,_0x1a4af0=_0x5ad83e[_0x2d2afc(0x9c1)](_0x10b3a9=>_0x10b3a9['latestScore']!==undefined),_0x1149df=currentProjectData[_0x2d2afc(0xa0e)][_0x2d2afc(0xca6)],_0x4bac68=_0x1a4af0[_0x2d2afc(0xca6)],_0x1fd639=_0x1149df-_0x4bac68,_0x47a2ef=_0x1149df>0x0?_0x4bac68/_0x1149df*0x64:0x0,_0x52e026=_0x1a4af0[_0x2d2afc(0x947)](_0x437c2f=>_0x437c2f[_0x2d2afc(0xb6f)]),_0x50b369=_0x52e026[_0x2d2afc(0xca6)]>0x0?_0x52e026[_0x2d2afc(0x60f)]((_0x17a3a9,_0x10fef5)=>_0x17a3a9+_0x10fef5,0x0)/_0x52e026[_0x2d2afc(0xca6)]:0x0,_0x3fb259=_0x212298['questions'][_0x2d2afc(0xca6)],_0x3d5d7a=_0x3fb259>0x0?_0x50b369/_0x3fb259*0x64:0x0,_0x3eb317=calculateItemAnalysis(_0x212298,_0x1a4af0),_0xc8d151=calculateReliabilityKR20(_0x212298,_0x1a4af0,_0x3eb317[_0x2d2afc(0x589)]);let _0x265de3='';if(_0xc8d151!==null){let _0x1cdbbc='';if(_0xc8d151>=0.9)_0x1cdbbc=_0x2d2afc(0x654);else{if(_0xc8d151>=0.8)_0x1cdbbc='ดีมาก';else{if(_0xc8d151>=0.7)_0x1cdbbc='ดี';else{if(_0xc8d151>=0.6)_0x1cdbbc='พอใช้';else _0x1cdbbc=_0x2d2afc(0x54d);}}}_0x265de3=_0x2d2afc(0xcf6)+_0xc8d151['toFixed'](0x2)+_0x2d2afc(0x379)+_0x1cdbbc+_0x2d2afc(0x2d1);}const _0x45dc1a=document[_0x2d2afc(0x695)](_0x2d2afc(0xd0d));_0x45dc1a[_0x2d2afc(0xb6b)]=_0x2d2afc(0xc8e)+_0x47a2ef[_0x2d2afc(0x3ba)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x4bac68+'/'+_0x1149df+_0x2d2afc(0xc7d)+_0x50b369[_0x2d2afc(0x3ba)](0x2)+_0x2d2afc(0x58d)+_0x3d5d7a[_0x2d2afc(0x3ba)](0x0)+_0x2d2afc(0xa07)+(_0x52e026[_0x2d2afc(0xca6)]>0x0?Math['max'](..._0x52e026):_0x2d2afc(0x6d7))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>'+(_0x52e026['length']>0x0?Math[_0x2d2afc(0x777)](..._0x52e026):'N/A')+_0x2d2afc(0xc89)+_0x265de3+_0x2d2afc(0x9f2);const _0x561285=document['getElementById'](_0x2d2afc(0x818));_0x561285&&_0x561285[_0x2d2afc(0x8cc)]();const _0x26a1b1=_0x2d2afc(0x792);_0x45dc1a['insertAdjacentHTML']('afterend',_0x26a1b1);const _0xd19ac=currentProjectData[_0x2d2afc(0xa0e)]||[];renderSubmissionChart(_0x4bac68,_0x1fd639,_0x1a4af0,_0xd19ac),renderScoreDistributionChart(_0x1a4af0,_0x3fb259),renderQuestionAnalytics(_0x212298,_0x1a4af0,_0xd19ac),renderInterestingStats(_0x212298,_0x1a4af0);}async function handleExportLessonPDF(){const _0x5c7369=_0x315eb9,_0x3eaba1=document[_0x5c7369(0x695)](_0x5c7369(0x8e7)),_0x1a606c=document[_0x5c7369(0x695)](_0x5c7369(0x3d5))[_0x5c7369(0x97a)],_0x295738=window[_0x5c7369(0x26f)]('',_0x5c7369(0xc60)),_0x53fb58=_0x5c7369(0x79e)+_0x1a606c+_0x5c7369(0x681)+_0x3eaba1[_0x5c7369(0xb6b)]+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x295738[_0x5c7369(0xd65)][_0x5c7369(0x308)](_0x53fb58),_0x295738[_0x5c7369(0xd65)]['close'](),_0x295738[_0x5c7369(0x83e)]=function(){setTimeout(()=>{const _0x3cf5dc=_0x42ad;_0x295738[_0x3cf5dc(0x983)]();},0x5dc);};}function renderInterestingStats(_0x23827c,_0x5141c4){const _0x19fd18=_0x315eb9,_0x49b8b9=document['getElementById'](_0x19fd18(0xcb2));if(!_0x49b8b9)return;if(_0x5141c4[_0x19fd18(0xca6)]===0x0){_0x49b8b9[_0x19fd18(0xb6b)]=_0x19fd18(0x3df);return;}const _0x1a9071=_0x23827c[_0x19fd18(0xab9)][_0x19fd18(0x947)]((_0x277aa3,_0x3cacf2)=>({'index':_0x3cacf2+0x1,'text':_0x277aa3[_0x19fd18(0x620)]||_0x277aa3[_0x19fd18(0x858)],'correct':0x0}));_0x5141c4[_0x19fd18(0x2d4)](_0x17a182=>{const _0xb2fa63=_0x19fd18,_0x25c4b4=_0x17a182[_0xb2fa63(0x5e2)][_0x17a182[_0xb2fa63(0x5e2)][_0xb2fa63(0xca6)]-0x1];_0x25c4b4&&_0x25c4b4[_0xb2fa63(0x4ec)]&&_0x25c4b4['answers'][_0xb2fa63(0x2d4)](_0x1485a7=>{const _0x3647af=_0xb2fa63,_0x26e7c8=_0x1a9071[_0x3647af(0x559)](_0x5f49dc=>_0x5f49dc[_0x3647af(0x5f1)]===_0x1485a7['originalQuestionText']);_0x1485a7['isCorrect']&&_0x26e7c8&&_0x26e7c8[_0x3647af(0x642)]++;});});const _0x387ecc=_0x5141c4[_0x19fd18(0xca6)],_0x17cd8a=Math[_0x19fd18(0xd57)](..._0x1a9071[_0x19fd18(0x947)](_0x2a6ff0=>_0x2a6ff0['correct'])),_0x451ce2=Math['min'](..._0x1a9071[_0x19fd18(0x947)](_0x59049a=>_0x59049a[_0x19fd18(0x642)])),_0x4ef2cd=_0x1a9071[_0x19fd18(0x9c1)](_0xf8726e=>_0xf8726e[_0x19fd18(0x642)]===_0x17cd8a)[_0x19fd18(0x947)](_0x1bdcc9=>'ข้อ\x20'+_0x1bdcc9['index']),_0x4ac08b=_0x1a9071[_0x19fd18(0x9c1)](_0x18c83a=>_0x18c83a[_0x19fd18(0x642)]===_0x451ce2)[_0x19fd18(0x947)](_0x4831f0=>_0x19fd18(0x5d8)+_0x4831f0[_0x19fd18(0xa42)]),_0x3f4923=_0x5141c4['sort']((_0x426a73,_0x3ecc08)=>_0x3ecc08[_0x19fd18(0xb6f)]-_0x426a73[_0x19fd18(0xb6f)])['filter']((_0x429af0,_0x2b2fda,_0x1279bd)=>_0x429af0['latestScore']===_0x1279bd[0x0]['latestScore']),_0x1ad540=_0x5141c4[_0x19fd18(0x7a1)]((_0x22ed79,_0x55cf48)=>_0x22ed79[_0x19fd18(0xb6f)]-_0x55cf48[_0x19fd18(0xb6f)])[_0x19fd18(0x9c1)]((_0x16dbc8,_0x2b7b42,_0x5229e9)=>_0x16dbc8['latestScore']===_0x5229e9[0x0]['latestScore']),_0x2671a2=_0x19fd18(0x686)+_0x4ef2cd['join'](',\x20')+_0x19fd18(0x644)+_0x17cd8a+_0x19fd18(0xcd4)+_0x387ecc+_0x19fd18(0x585)+_0x4ac08b[_0x19fd18(0x6f5)](',\x20')+_0x19fd18(0x644)+(_0x387ecc-_0x451ce2)+_0x19fd18(0xcd4)+_0x387ecc+_0x19fd18(0x76b)+_0x3f4923[_0x19fd18(0x947)](_0x64a324=>_0x64a324[_0x19fd18(0x8be)])[_0x19fd18(0x6f5)](',\x20')+_0x19fd18(0xd35)+_0x3f4923[0x0]['latestScore']+_0x19fd18(0xd24)+_0x1ad540[_0x19fd18(0x947)](_0x60bd05=>_0x60bd05[_0x19fd18(0x8be)])[_0x19fd18(0x6f5)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x1ad540[0x0][_0x19fd18(0xb6f)]+_0x19fd18(0x848);_0x49b8b9[_0x19fd18(0xb6b)]=_0x2671a2;}function renderSubmissionChart(_0x191073,_0x23cce0,_0x1ad413,_0x431cb5){const _0x59f191=_0x315eb9,_0x5218f8=document['getElementById'](_0x59f191(0x6c6))[_0x59f191(0xa09)]('2d'),_0xdaa573=_0x1ad413['map'](_0x33a7a4=>_0x33a7a4[_0x59f191(0x8be)]),_0x441858=_0x431cb5[_0x59f191(0x9c1)](_0x4ed19b=>!_0xdaa573[_0x59f191(0xcac)](_0x4ed19b));chartInstances['submission']&&chartInstances['submission']['destroy'](),chartInstances[_0x59f191(0xd78)]=new Chart(_0x5218f8,{'type':_0x59f191(0xd0b),'data':{'labels':[_0x59f191(0x737),_0x59f191(0x653)],'datasets':[{'data':[_0x191073,_0x23cce0],'backgroundColor':[_0x59f191(0x7d5),_0x59f191(0x47a)],'borderColor':[_0x59f191(0x4bd),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x59f191(0xcd7)},'tooltip':{'callbacks':{'label':function(_0x19198d){const _0x45d25d=_0x59f191;let _0x4e4c2c=_0x19198d[_0x45d25d(0x7cd)]||'';return _0x4e4c2c&&(_0x4e4c2c+=':\x20'),_0x4e4c2c+=_0x19198d['raw'],_0x4e4c2c;},'afterLabel':function(_0x2a64f2){const _0x1db4c6=_0x59f191;let _0x5cb4c1;return _0x2a64f2['dataIndex']===0x0?_0x5cb4c1=_0xdaa573:_0x5cb4c1=_0x441858,_0x5cb4c1[_0x1db4c6(0xca6)]>0x0?_0x5cb4c1[_0x1db4c6(0x6f5)]('\x0a'):_0x1db4c6(0x467);}}}}}});}function renderScoreDistributionChart(_0x33ad34,_0x1d8eec){const _0x4761c7=_0x315eb9,_0x1e414f=document[_0x4761c7(0x695)](_0x4761c7(0x7f9))[_0x4761c7(0xa09)]('2d'),_0x458ca6={};for(let _0x3b9b29=0x0;_0x3b9b29<=_0x1d8eec;_0x3b9b29++){_0x458ca6[_0x3b9b29]=0x0;}_0x33ad34[_0x4761c7(0x2d4)](_0x550b5d=>{const _0x26dbf2=_0x4761c7;_0x458ca6[_0x550b5d[_0x26dbf2(0xb6f)]]!==undefined&&_0x458ca6[_0x550b5d[_0x26dbf2(0xb6f)]]++;}),chartInstances[_0x4761c7(0xad9)]&&chartInstances[_0x4761c7(0xad9)][_0x4761c7(0xb20)](),chartInstances[_0x4761c7(0xad9)]=new Chart(_0x1e414f,{'type':_0x4761c7(0x401),'data':{'labels':Object[_0x4761c7(0x811)](_0x458ca6),'datasets':[{'label':_0x4761c7(0xa31),'data':Object[_0x4761c7(0xb3a)](_0x458ca6),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':_0x4761c7(0x865),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x4761c7(0x79d)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x504d78){const _0x14a4e7=_0x4761c7,_0x3aaef9=_0x504d78[_0x14a4e7(0x7cd)],_0xf2738d=_0x33ad34[_0x14a4e7(0x9c1)](_0x44dbde=>_0x44dbde[_0x14a4e7(0xb6f)]==_0x3aaef9)[_0x14a4e7(0x947)](_0x53dad7=>_0x53dad7['studentName']);return _0xf2738d[_0x14a4e7(0xca6)]>0x0?_0xf2738d[_0x14a4e7(0x6f5)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0xace858,_0x2d770d,_0x55e68a){const _0x46abe3=_0x315eb9,_0x366bf2=document[_0x46abe3(0x695)](_0x46abe3(0xa8c));if(_0x55e68a[_0x46abe3(0xca6)]===0x0){_0x366bf2['innerHTML']=_0x46abe3(0x6b9);return;}const _0x41b5f8=calculateItemAnalysis(_0xace858,_0x2d770d),_0x5d819e=calculateDistractorAnalysis(_0xace858,_0x2d770d);let _0xeae1d4='';_0x41b5f8['overallGroups']&&(_0xeae1d4=_0x46abe3(0xbae)+_0x41b5f8['overallGroups'][_0x46abe3(0xb1f)]['length']+_0x46abe3(0x694)+_0x41b5f8[_0x46abe3(0x2c5)][_0x46abe3(0xb1f)][_0x46abe3(0x947)](_0x124999=>_0x46abe3(0x606)+_0x124999+_0x46abe3(0x8bc))[_0x46abe3(0x6f5)]('')+_0x46abe3(0x7f7)+_0x41b5f8['overallGroups'][_0x46abe3(0x81c)][_0x46abe3(0xca6)]+_0x46abe3(0x694)+_0x41b5f8[_0x46abe3(0x2c5)][_0x46abe3(0x81c)]['map'](_0x35bc00=>_0x46abe3(0x606)+_0x35bc00+_0x46abe3(0x8bc))[_0x46abe3(0x6f5)]('')+_0x46abe3(0xae2));let _0x56a2e6='';const _0x134a4a=_0x2d770d[_0x46abe3(0x947)](_0x3f70a=>_0x3f70a['studentName']),_0x3fea33=_0x15fb0d=>{const _0x371d9a=_0x46abe3;if(_0x15fb0d>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x15fb0d>=0.6)return _0x371d9a(0x77f);if(_0x15fb0d>=0.4)return _0x371d9a(0x9b9);if(_0x15fb0d>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0x371d9a(0x7ff);},_0x475009=_0x2238c2=>{const _0x3ecce3=_0x46abe3;if(_0x2238c2<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x2238c2>=0.4)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>';if(_0x2238c2>=0.3)return _0x3ecce3(0x3ce);if(_0x2238c2>=0.2)return _0x3ecce3(0xcc2);return _0x3ecce3(0x612);},_0x8f5eee=_0xde6fbe=>{const _0x35bcf0=_0x46abe3,_0x315194=_0xde6fbe[_0x35bcf0(0x3ba)](0x0);if(parseFloat(_0x315194)===0x64)return'<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x315194+_0x35bcf0(0x2ba);if(_0xde6fbe>=0x32)return _0x35bcf0(0x999)+_0x315194+_0x35bcf0(0x2ba);return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x315194+_0x35bcf0(0x2ba);};_0xace858[_0x46abe3(0xab9)][_0x46abe3(0x2d4)]((_0x1d616d,_0x28ba4a)=>{const _0x528786=_0x46abe3,_0x4ed758=_0x41b5f8[_0x528786(0x589)][_0x28ba4a],_0x221a04=_0x5d819e[_0x28ba4a],_0x7300d9=_0x1d616d[_0x528786(0x858)]||_0x1d616d[_0x528786(0x620)]||_0x1d616d[_0x528786(0xb1c)];let _0xea8a6f=0x0;const _0x713895=[],_0x57a055=[];_0x2d770d['forEach'](_0x1e6d52=>{const _0x38a46f=_0x528786,_0x32ff70=_0x1e6d52[_0x38a46f(0x5e2)][_0x1e6d52[_0x38a46f(0x5e2)][_0x38a46f(0xca6)]-0x1];if(_0x32ff70&&_0x32ff70[_0x38a46f(0x4ec)]){const _0x357e94=_0x32ff70[_0x38a46f(0x4ec)][_0x38a46f(0x559)](_0xb9f2de=>_0xb9f2de['originalQuestionText']===_0x7300d9)??_0x32ff70[_0x38a46f(0x4ec)][_0x28ba4a]??null;_0x357e94&&(_0x357e94['isCorrect']?(_0xea8a6f++,_0x713895[_0x38a46f(0xd41)](_0x1e6d52[_0x38a46f(0x8be)])):_0x57a055[_0x38a46f(0xd41)](_0x1e6d52[_0x38a46f(0x8be)]));}});const _0x4c88b5=_0x2d770d[_0x528786(0xca6)]>0x0?_0xea8a6f/_0x2d770d[_0x528786(0xca6)]*0x64:0x0,_0x14ac80=_0x55e68a['filter'](_0x397257=>!_0x134a4a[_0x528786(0xcac)](_0x397257)),_0x442037=_0x4ed758?_0x528786(0xc18)+_0x4ed758['p'][_0x528786(0x3ba)](0x2)+_0x528786(0xd3a)+_0x3fea33(_0x4ed758['p'])+_0x528786(0x2bd)+_0x4ed758['r'][_0x528786(0x3ba)](0x2)+_0x528786(0xd3a)+_0x475009(_0x4ed758['r'])+_0x528786(0x73c)+_0x8f5eee(_0x4c88b5)+_0x528786(0x706):'';let _0x3fdefd='';_0x221a04&&(_0x3fdefd=_0x528786(0x48b)+Object[_0x528786(0x811)](_0x221a04)[_0x528786(0x947)](_0x4ad657=>{const _0x430398=_0x528786,_0x2501ad=_0x221a04[_0x4ad657],_0x1f5d42=parseInt(_0x4ad657)===_0x1d616d[_0x430398(0x794)],_0x280691=!_0x1f5d42&&_0x2501ad[_0x430398(0xcbb)]>_0x2501ad['upper_group_count'];return'<tr\x20class=\x22'+(_0x1f5d42?_0x430398(0xaf0):'')+_0x430398(0x752)+(_0x1f5d42?'✔\x20':'')+_0x2501ad[_0x430398(0x5f1)]+_0x430398(0x21a)+_0x2501ad[_0x430398(0x674)]+_0x430398(0x21a)+_0x2501ad[_0x430398(0xcbb)]+'\x20'+(_0x280691?'👍':'')+_0x430398(0x21a)+_0x2501ad[_0x430398(0xa88)]+_0x430398(0xcb6);})['join']('')+_0x528786(0xc68));let _0x25b25a='';_0x4ed758&&_0x4ed758[_0x528786(0x629)]&&(_0x25b25a=_0x528786(0x8aa)+_0x4ed758[_0x528786(0x629)][_0x528786(0xca6)]+_0x528786(0x536)+_0x4ed758[_0x528786(0x629)][_0x528786(0x947)](_0x3e9f45=>_0x528786(0x606)+(_0x3e9f45[_0x528786(0xa06)]?_0x528786(0x48c):_0x528786(0x46e))+'\x20'+_0x3e9f45[_0x528786(0x38d)]+'</li>')[_0x528786(0x6f5)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x4ed758['lowerGroupResponders'][_0x528786(0xca6)]+_0x528786(0x536)+_0x4ed758[_0x528786(0x847)][_0x528786(0x947)](_0x23a6c3=>_0x528786(0x606)+(_0x23a6c3['isCorrect']?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x528786(0x46e))+'\x20'+_0x23a6c3['name']+_0x528786(0x8bc))[_0x528786(0x6f5)]('')+_0x528786(0xa13)),_0x56a2e6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x28ba4a+0x1)+':\x20'+_0x7300d9+_0x528786(0x813)+_0x442037+_0x528786(0x514)+_0x7300d9+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0xea8a6f+_0x528786(0x70b)+_0x2d770d['length']+_0x528786(0x323)+_0x4c88b5[_0x528786(0x3ba)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x713895[_0x528786(0xca6)]+_0x528786(0xb60)+(_0x713895[_0x528786(0xca6)]>0x0?_0x713895[_0x528786(0x6f5)](',\x20'):_0x528786(0x467))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x57a055[_0x528786(0xca6)]+_0x528786(0xb60)+(_0x57a055[_0x528786(0xca6)]>0x0?_0x57a055['join'](',\x20'):_0x528786(0x467))+_0x528786(0x28a)+_0x14ac80[_0x528786(0xca6)]+_0x528786(0xb60)+(_0x14ac80['length']>0x0?_0x14ac80['join'](',\x20'):_0x528786(0x467))+_0x528786(0x5f3)+_0x3fdefd+_0x528786(0x498)+_0x25b25a+_0x528786(0x6eb);}),_0x366bf2[_0x46abe3(0xb6b)]=_0xeae1d4+_0x56a2e6;try{window[_0x46abe3(0x3af)]&&MathJax['typesetPromise']&&MathJax[_0x46abe3(0xcaf)]([_0x366bf2]);}catch(_0x4a80b5){console[_0x46abe3(0xb62)](_0x46abe3(0x3e7),_0x4a80b5);}}function calculateDistractorAnalysis(_0x571144,_0x95e779){const _0x3ee9f4=_0x315eb9,_0xf8c0dd={};if(_0x95e779['length']<0x2)return _0xf8c0dd;const _0x3b8863=[..._0x95e779]['sort']((_0x4d11bd,_0x1e1eaa)=>{const _0x50f3b1=_0x42ad,_0xe85fd2=_0x1e1eaa[_0x50f3b1(0xb6f)]-_0x4d11bd[_0x50f3b1(0xb6f)];if(_0xe85fd2!==0x0)return _0xe85fd2;const _0x9a502c=_0x4d11bd[_0x50f3b1(0x5e2)]?.[_0x50f3b1(0xca6)]||0x1,_0x4f7fdf=_0x1e1eaa[_0x50f3b1(0x5e2)]?.[_0x50f3b1(0xca6)]||0x1,_0x2b52ce=_0x9a502c-_0x4f7fdf;if(_0x2b52ce!==0x0)return _0x2b52ce;const _0x54346b=new Date(_0x4d11bd[_0x50f3b1(0x587)]),_0x237667=new Date(_0x1e1eaa['latestSubmittedAt']),_0x1a91f9=_0x54346b-_0x237667;if(_0x1a91f9!==0x0)return _0x1a91f9;return _0x4d11bd[_0x50f3b1(0x8be)]['localeCompare'](_0x1e1eaa[_0x50f3b1(0x8be)],'th');}),_0x5d30c4=_0x3b8863[_0x3ee9f4(0xca6)],_0x382fb0=Math[_0x3ee9f4(0xd57)](0x1,Math[_0x3ee9f4(0x4a5)](_0x5d30c4*0.33)),_0x5f088d=_0x3b8863[_0x3ee9f4(0x7c9)](0x0,_0x382fb0),_0x2a58b5=_0x3b8863[_0x3ee9f4(0x7c9)](-_0x382fb0);return _0x571144[_0x3ee9f4(0xab9)]['forEach']((_0x220377,_0x368c89)=>{const _0xf7efaa=_0x3ee9f4;if(_0x220377[_0xf7efaa(0x9e0)]!==_0xf7efaa(0x959)||!_0x220377[_0xf7efaa(0x6ce)])return;const _0xb89d26=_0x220377[_0xf7efaa(0x620)],_0x2bfd2a={};_0x220377['options'][_0xf7efaa(0x2d4)]((_0x5e654b,_0x5c42ec)=>{_0x2bfd2a[_0x5c42ec]={'text':_0x5e654b,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x3b8863[_0xf7efaa(0x2d4)](_0x2c2aa3=>{const _0x16a117=_0xf7efaa,_0x713e5e=_0x2c2aa3[_0x16a117(0x5e2)][_0x2c2aa3[_0x16a117(0x5e2)][_0x16a117(0xca6)]-0x1],_0x1deee7=_0x713e5e[_0x16a117(0x4ec)][_0x16a117(0x559)](_0xefa03e=>_0xefa03e[_0x16a117(0xcd5)]===_0xb89d26);if(_0x1deee7&&_0x1deee7[_0x16a117(0xd0a)]!==null){const _0xf7c10d=_0x220377[_0x16a117(0x6ce)][_0x16a117(0x67d)](_0x557a84=>_0x557a84===_0x1deee7[_0x16a117(0x828)]);_0xf7c10d!==-0x1&&_0x2bfd2a[_0xf7c10d]&&(_0x2bfd2a[_0xf7c10d][_0x16a117(0xa88)]++,_0x5f088d[_0x16a117(0xcac)](_0x2c2aa3)&&_0x2bfd2a[_0xf7c10d][_0x16a117(0x674)]++,_0x2a58b5[_0x16a117(0xcac)](_0x2c2aa3)&&_0x2bfd2a[_0xf7c10d][_0x16a117(0xcbb)]++);}}),_0xf8c0dd[_0x368c89]=_0x2bfd2a;}),_0xf8c0dd;}function calculateReliabilityKR20(_0x5ec029,_0x15dfc3,_0x5f0eb4){const _0x3566bb=_0x315eb9,_0x5ab737=_0x5ec029[_0x3566bb(0xab9)][_0x3566bb(0xca6)];if(_0x5ab737<0x2||_0x15dfc3['length']<0x2)return null;const _0x35e13e=_0x15dfc3[_0x3566bb(0x947)](_0x51cd2d=>_0x51cd2d['latestScore']),_0x3dbe0a=_0x35e13e[_0x3566bb(0x60f)]((_0x4d4338,_0x53608c)=>_0x4d4338+_0x53608c,0x0)/_0x35e13e[_0x3566bb(0xca6)],_0x2d72e1=_0x35e13e['map'](_0x544f57=>Math[_0x3566bb(0xa70)](_0x544f57-_0x3dbe0a,0x2))[_0x3566bb(0x60f)]((_0x4963bb,_0x40e34f)=>_0x4963bb+_0x40e34f,0x0)/_0x35e13e[_0x3566bb(0xca6)];if(_0x2d72e1===0x0)return null;let _0x415e6b=0x0;for(let _0x542f16=0x0;_0x542f16<_0x5ab737;_0x542f16++){const _0x5b0714=_0x5f0eb4[_0x542f16]?.['p'];if(_0x5b0714===undefined)continue;const _0x59478a=0x1-_0x5b0714;_0x415e6b+=_0x5b0714*_0x59478a;}if(_0x415e6b===0x0)return null;const _0x1f86fa=_0x5ab737/(_0x5ab737-0x1)*(0x1-_0x415e6b/_0x2d72e1);if(_0x1f86fa>0x1)return null;return _0x1f86fa;}async function handleAnalyzeClass(){const _0x56a812=_0x315eb9;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x56a812(0xd18));return;}const _0x26f978=collection(db,_0x56a812(0x2d5)+appId+_0x56a812(0xb5c)+currentQuizData['id']+_0x56a812(0xaa7)),_0x22bf8b=await getDocs(_0x26f978),_0x21887e=_0x22bf8b[_0x56a812(0x80f)]['map'](_0x5d426a=>_0x5d426a[_0x56a812(0x5ac)]());if(_0x21887e[_0x56a812(0xca6)]<0x2){showMessage(_0x56a812(0xd09));return;}const _0x21e0eb=document[_0x56a812(0x695)](_0x56a812(0x860));_0x21e0eb[_0x56a812(0xb6b)]=_0x56a812(0x65b),document[_0x56a812(0x695)](_0x56a812(0x945))[_0x56a812(0x22a)]=!![];const _0x37d5bf=_0x21887e[_0x56a812(0x947)]((_0x133513,_0x4bbf22)=>{const _0x3d572a=_0x56a812,_0x365bda=_0x133513[_0x3d572a(0x5e2)][_0x133513[_0x3d572a(0x5e2)][_0x3d572a(0xca6)]-0x1];if(!_0x365bda)return'';return _0x3d572a(0x209)+(_0x4bbf22+0x1)+'\x20('+_0x133513[_0x3d572a(0x8be)]+_0x3d572a(0xa62)+_0x365bda[_0x3d572a(0xad9)]+'/'+_0x133513[_0x3d572a(0x211)]+_0x3d572a(0x284)+JSON[_0x3d572a(0xd46)](_0x365bda[_0x3d572a(0x4ec)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x56a812(0x6f5)](_0x56a812(0xa96)),_0xfdeef3=_0x56a812(0xbd5)+currentQuizData['topic']+_0x56a812(0x5df)+JSON[_0x56a812(0xd46)](currentQuizData[_0x56a812(0xab9)])+_0x56a812(0x914)+_0x37d5bf+_0x56a812(0x3d8),_0x4803b7={'type':'OBJECT','properties':{'classStrengths':{'type':_0x56a812(0x8fe),'items':{'type':_0x56a812(0x277)}},'classWeaknesses':{'type':'ARRAY','items':{'type':_0x56a812(0x277)}},'teacherSuggestions':{'type':_0x56a812(0x8fe),'items':{'type':'STRING'}}},'required':[_0x56a812(0xbb8),'classWeaknesses',_0x56a812(0x95a)]};try{const _0x77a2db=await callAnalysisApi(_0xfdeef3,_0x4803b7);displayClassAnalysis(_0x77a2db);}catch(_0x6ed3e1){console['error'](_0x56a812(0x840),_0x6ed3e1),_0x21e0eb[_0x56a812(0xb6b)]='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x6ed3e1['message']+_0x56a812(0x5de);}finally{document[_0x56a812(0x695)]('analyze-strengths-btn')[_0x56a812(0x22a)]=![];}}function displayClassAnalysis(_0x3b89fd){const _0x168694=_0x315eb9,_0x5f5b15=document[_0x168694(0x695)]('strength-weakness-analysis-container');if(!_0x3b89fd){_0x5f5b15['innerHTML']=_0x168694(0xa78);return;}_0x5f5b15['innerHTML']=_0x168694(0x66f)+_0x3b89fd[_0x168694(0xbb8)]['map'](_0x111ac5=>_0x168694(0x606)+_0x111ac5+'</li>')[_0x168694(0x6f5)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3b89fd[_0x168694(0x4ae)][_0x168694(0x947)](_0xf7a409=>_0x168694(0x606)+_0xf7a409+_0x168694(0x8bc))[_0x168694(0x6f5)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3b89fd['teacherSuggestions'][_0x168694(0x947)](_0x4795d4=>'<li>'+_0x4795d4+_0x168694(0x8bc))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x3a28d1,_0x22fdc1){const _0x4b3230=_0x315eb9,_0x14cfe4=_0x4b3230(0xbe4)+_0x3a28d1[_0x4b3230(0xd28)]+_0x4b3230(0x232)+_0x3a28d1[_0x4b3230(0xd28)]+_0x4b3230(0xa21)+_0x3a28d1[_0x4b3230(0xab9)][_0x4b3230(0x947)]((_0x570f30,_0x4ec664)=>_0x4b3230(0x319)+(_0x4ec664+0x1)+'.\x20'+_0x570f30['questionText']+_0x4b3230(0xbee)+(_0x570f30[_0x4b3230(0xaf3)]?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0x570f30['imageCode']+_0x4b3230(0x4cd):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x22fdc1[_0x4b3230(0xd65)][_0x4b3230(0x308)](_0x14cfe4),_0x22fdc1[_0x4b3230(0xd65)][_0x4b3230(0x367)](),_0x22fdc1[_0x4b3230(0x83e)]=function(){setTimeout(()=>{const _0x4f6a1b=_0x42ad;_0x22fdc1[_0x4f6a1b(0x983)]();},0x3e8);};}async function generateWorksheet(){const _0x4934df=_0x315eb9,_0x476529=document['getElementById'](_0x4934df(0x366))[_0x4934df(0xbdb)]['trim']();if(!_0x476529){showMessage(_0x4934df(0x6e2));return;}const _0x84c3bc=document[_0x4934df(0x695)]('force-math-checkbox')[_0x4934df(0x364)],_0x350e06=_0x84c3bc?'':_0x4934df(0x8fd),_0x1562d2=window[_0x4934df(0x26f)]('',_0x4934df(0xc60));_0x1562d2[_0x4934df(0xd65)][_0x4934df(0x308)](_0x4934df(0x8e4));const _0x55677a=parseInt(document[_0x4934df(0x695)]('num-questions')[_0x4934df(0xbdb)]),_0xbf3ca6=document[_0x4934df(0x695)](_0x4934df(0xcc9))[_0x4934df(0x364)],_0x2f18ed=_0xbf3ca6?_0x4934df(0x7fc):'',_0x5aa261=_0x4934df(0x9c4)+_0x350e06+'ที่พิมพ์ได้\x20จำนวน\x20'+_0x55677a+_0x4934df(0x941)+_0x476529+_0x4934df(0xa2d)+_0x2f18ed+_0x4934df(0x62f)+simpleMathPrompt+_0x4934df(0x583),_0x278bee={'type':_0x4934df(0xac9),'properties':{'topic':{'type':_0x4934df(0x277)},'questions':{'type':_0x4934df(0x8fe),'items':{'type':_0x4934df(0xac9),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x4934df(0x620)]}}},'required':[_0x4934df(0xd28),_0x4934df(0xab9)]};document['getElementById'](_0x4934df(0x2ad))['textContent']='',document[_0x4934df(0x695)](_0x4934df(0x2da))[_0x4934df(0xd75)][_0x4934df(0x8cc)](_0x4934df(0x721)),document['getElementById'](_0x4934df(0xbec))[_0x4934df(0xd75)][_0x4934df(0x8cc)]('hidden'),generateWorksheetBtn[_0x4934df(0x22a)]=!![];try{const _0x4bf06d=await callAnalysisApi(_0x5aa261,_0x278bee);formatAndPrintWorksheet(_0x4bf06d,_0x1562d2);}catch(_0x463f75){console[_0x4934df(0xb62)](_0x4934df(0x7ea),_0x463f75);if(_0x1562d2)_0x1562d2['close']();showMessage(_0x4934df(0x43b));}finally{document[_0x4934df(0x695)](_0x4934df(0x2da))[_0x4934df(0xd75)][_0x4934df(0x8d6)]('hidden'),document[_0x4934df(0x695)](_0x4934df(0xbec))[_0x4934df(0xd75)][_0x4934df(0x8d6)](_0x4934df(0x721)),generateWorksheetBtn[_0x4934df(0x22a)]=![];}}async function callAnalysisApi(_0x5ce980,_0x4d75c0){const _0x44888c=_0x315eb9,_0x2e89e5={'contents':[{'role':'user','parts':[{'text':_0x5ce980}]}],'generationConfig':{'responseMimeType':_0x44888c(0x3c0),'responseSchema':_0x4d75c0}},_0x2a10f2=_0x44888c(0xb94),_0x2345dd=_0x44888c(0xcb9)+_0x2a10f2,_0x421112=await fetch(_0x2345dd,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x2e89e5)});if(!_0x421112['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x421112[_0x44888c(0xbfe)]);const _0x54b4fe=await _0x421112[_0x44888c(0x8c2)]();if(_0x54b4fe[_0x44888c(0x5ab)]?.[0x0]?.['content']?.[_0x44888c(0x24c)]?.[0x0])return JSON[_0x44888c(0x55c)](_0x54b4fe[_0x44888c(0x5ab)][0x0][_0x44888c(0x8fa)]['parts'][0x0][_0x44888c(0x5f1)]);else{let _0x147a9f=_0x44888c(0x4bb);if(_0x54b4fe[_0x44888c(0x7ee)]?.[_0x44888c(0x227)])_0x147a9f='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x54b4fe[_0x44888c(0x7ee)][_0x44888c(0x227)]+'.';else _0x54b4fe[_0x44888c(0x5ab)]?.[0x0]?.['finishReason']&&_0x54b4fe[_0x44888c(0x5ab)][0x0][_0x44888c(0x42e)]!=='STOP'&&(_0x147a9f='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x54b4fe['candidates'][0x0][_0x44888c(0x42e)]+'.');console[_0x44888c(0xb62)](_0x147a9f,JSON[_0x44888c(0xd46)](_0x54b4fe));throw new Error(_0x147a9f);}}async function handleStartSyncMode(_0x306a1c,_0x1ff19b=![],_0x2e30de=_0x315eb9(0x25c)){const _0x374047=_0x315eb9,_0x42777d=allQuizzes[_0x374047(0x559)](_0x3c592f=>_0x3c592f['id']===_0x306a1c)||allQuizzesGlobal[_0x374047(0x559)](_0x5e645d=>_0x5e645d['id']===_0x306a1c);if(!_0x42777d){showMessage(_0x374047(0x930));return;}currentQuizData=getShuffledQuiz(_0x42777d);const _0x38d162=Math[_0x374047(0x4a5)](0x3e8+Math[_0x374047(0x625)]()*0x2328)['toString'](),_0x25164d=doc(db,_0x374047(0x2d5)+appId+'/public/data/projects',_0x42777d[_0x374047(0x88e)]),_0x30aa30=await getDoc(_0x25164d);if(!_0x30aa30[_0x374047(0xb5a)]()){showMessage(_0x374047(0x572));return;}const _0x17adea=_0x30aa30[_0x374047(0x5ac)]()[_0x374047(0xa0e)]||[],_0x3bb901={};if(_0x2e30de==='anonymous'){const _0x4a7028=[...ANONYMOUS_NAMES][_0x374047(0x7a1)](()=>0.5-Math[_0x374047(0x625)]());_0x17adea[_0x374047(0x2d4)]((_0x39e174,_0x1aeb62)=>{_0x3bb901[_0x39e174]=_0x4a7028[_0x1aeb62]||'ผู้เล่น\x20'+(_0x1aeb62+0x1);});}try{const _0x44954f=await addDoc(collection(db,_0x374047(0x2d5)+appId+'/public/data/syncGames'),{'quizId':_0x42777d['id'],'pin':_0x38d162,'status':'lobby','currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x1ff19b,'players':{},'gameVariant':_0x2e30de,'reviewQuestionIndex':0x0,'playerNicknames':_0x3bb901,'isAnonymousRevealed':![]});currentLiveGameId=_0x44954f['id'],showView(_0x374047(0x4e5)),renderSyncLobbyView(_0x38d162,_0x42777d[_0x374047(0xd28)]),listenForSyncGameUpdates();}catch(_0xbbae66){console[_0x374047(0xb62)]('Error\x20starting\x20sync\x20game:',_0xbbae66),showMessage(_0x374047(0x700));}}function calculateFinalPodiumScores(_0x3a6247){const _0x580955=_0x315eb9;if(!_0x3a6247||!_0x3a6247[_0x580955(0x8e2)]||!_0x3a6247[_0x580955(0x5ca)])return _0x3a6247[_0x580955(0x5ca)]||{};const _0x496187=_0x3a6247[_0x580955(0x8e2)][_0x580955(0xab9)][_0x580955(0xca6)],_0x41d9a3=JSON[_0x580955(0x55c)](JSON[_0x580955(0xd46)](_0x3a6247['players']));return Object[_0x580955(0xb3a)](_0x41d9a3)[_0x580955(0x2d4)](_0x50d923=>{const _0xcf2fe0=_0x580955,_0x450d75=_0x50d923[_0xcf2fe0(0xad9)];let _0x37bdaf=_0x450d75,_0x14807e=0x0;_0x3a6247[_0xcf2fe0(0x830)]&&_0x50d923[_0xcf2fe0(0x4ec)]&&_0x50d923['answers'][_0xcf2fe0(0x2d4)](_0x2e93d3=>{const _0x183817=_0xcf2fe0;if(_0x2e93d3[_0x183817(0xa06)]&&(_0x2e93d3[_0x183817(0xacb)]===!![]||_0x2e93d3[_0x183817(0xacb)]===_0x183817(0x335)))_0x14807e+=0x1;else!_0x2e93d3[_0x183817(0xa06)]&&(_0x2e93d3[_0x183817(0xacb)]===!![]||_0x2e93d3[_0x183817(0xacb)]===_0x183817(0x335))&&(_0x14807e-=0x1);}),_0x37bdaf+=_0x14807e,_0x496187>0x0&&_0x450d75===_0x496187&&(_0x37bdaf+=0x1,_0x50d923[_0xcf2fe0(0x37f)]=!![]),_0x50d923[_0xcf2fe0(0xad9)]=_0x37bdaf;}),_0x41d9a3;}function listenForSyncGameUpdates(){const _0x5e6113=_0x315eb9;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x7ec469=doc(db,_0x5e6113(0x2d5)+appId+_0x5e6113(0x2b5),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x7ec469,_0x392d32=>{const _0x95bca7=_0x5e6113;if(!_0x392d32[_0x95bca7(0xb5a)]()){sessionStorage['removeItem'](_0x95bca7(0x5d4));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x95bca7(0xbe0)?showView('project-detail'):showView(_0x95bca7(0x282));return;}const _0x4fc2c9=_0x392d32[_0x95bca7(0x5ac)]();currentMode===_0x95bca7(0xbe0)?updateAdminSyncView(_0x4fc2c9):updateStudentSyncView(_0x4fc2c9);});}function renderSyncLobbyView(_0x12c315,_0x330473){const _0x38f774=_0x315eb9;liveGameView[_0x38f774(0xb6b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20'+_0x330473+_0x38f774(0x291)+_0x12c315+_0x38f774(0xd17);const _0x21625c=document[_0x38f774(0x695)](_0x38f774(0x85d)),_0x311b70=document[_0x38f774(0x695)](_0x38f774(0xb73));_0x21625c[_0x38f774(0x59b)](_0x38f774(0x40b),()=>{const _0x239b0f=_0x38f774;_0x311b70['style'][_0x239b0f(0x9e8)]=_0x21625c[_0x239b0f(0x364)]?_0x239b0f(0xc58):_0x239b0f(0x4f9);}),document[_0x38f774(0x695)](_0x38f774(0x936))[_0x38f774(0x59b)](_0x38f774(0xc9a),async()=>{const _0x4dba9d=_0x38f774,_0x37cca0=doc(db,_0x4dba9d(0x2d5)+appId+_0x4dba9d(0x2b5),currentLiveGameId),_0x3f7f79=document[_0x4dba9d(0x695)](_0x4dba9d(0x85d))[_0x4dba9d(0x364)];await updateDoc(_0x37cca0,{'status':_0x4dba9d(0x3ab),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x3f7f79});});}function updateAdminSyncView(_0x240f50){const _0x2fed9b=_0x315eb9;switch(_0x240f50['status']){case _0x2fed9b(0xd39):renderSyncLobbyView(_0x240f50['pin'],_0x240f50['shuffledQuiz'][_0x2fed9b(0xd28)]);const _0x22dc5c=Object[_0x2fed9b(0x9d1)](_0x240f50[_0x2fed9b(0x5ca)]||{})[_0x2fed9b(0x9c1)](([_0x6973fb,_0x480b11])=>_0x480b11['status']!=='inactive');document[_0x2fed9b(0x695)](_0x2fed9b(0x8a8))[_0x2fed9b(0x97a)]=_0x22dc5c[_0x2fed9b(0xca6)],document[_0x2fed9b(0x695)]('player-list-lobby')[_0x2fed9b(0xb6b)]=_0x22dc5c[_0x2fed9b(0x947)](([_0x24a1df,_0x24d278])=>_0x2fed9b(0x24f)+_0x24a1df+_0x2fed9b(0x440)+_0x24a1df+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2fed9b(0x6f5)]('')||_0x2fed9b(0x95b),document[_0x2fed9b(0x695)]('start-sync-game-btn')[_0x2fed9b(0x22a)]=_0x22dc5c[_0x2fed9b(0xca6)]===0x0;break;case _0x2fed9b(0x3ab):const _0x585f66=Object['values'](_0x240f50['players']||{})[_0x2fed9b(0x9c1)](_0x58d8e4=>_0x58d8e4[_0x2fed9b(0xbfe)]!==_0x2fed9b(0x2f2)),_0x3a6584=_0x585f66[_0x2fed9b(0x9c1)](_0x436b59=>_0x436b59[_0x2fed9b(0x22d)])[_0x2fed9b(0xca6)],_0x1b6da1=_0x3a6584===_0x585f66[_0x2fed9b(0xca6)]&&_0x585f66['length']>0x0;if(_0x1b6da1&&_0x240f50[_0x2fed9b(0xbfe)]===_0x2fed9b(0x3ab)){const _0x56a64c=doc(db,_0x2fed9b(0x2d5)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x56a64c,{'status':_0x2fed9b(0x6f8)});}else{if(document[_0x2fed9b(0x695)]('sync-player-management')===null)renderAdminSyncQuestionView(_0x240f50);else{const _0x31ce73=document['getElementById'](_0x2fed9b(0x492));_0x31ce73&&(_0x31ce73[_0x2fed9b(0x97a)]=_0x3a6584+'/'+_0x585f66['length']);const _0x1a9bc9=document[_0x2fed9b(0x695)](_0x2fed9b(0x5ef));_0x1a9bc9&&(_0x1a9bc9[_0x2fed9b(0xb6b)]=_0x585f66[_0x2fed9b(0x947)](_0xc66852=>{const _0xeb1813=_0x2fed9b,_0x5ab053=_0xc66852[_0xeb1813(0x22d)]?'bg-green-500':'bg-gray-500',_0x177034=_0xc66852[_0xeb1813(0x22d)]?_0xeb1813(0xcd6):_0xeb1813(0x3ca);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x5ab053+_0xeb1813(0xc78)+_0x177034+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0xc66852['name']+_0xeb1813(0x82b)+_0xc66852[_0xeb1813(0x38d)]+_0xeb1813(0x4e2);})[_0x2fed9b(0x6f5)](''));}}break;case _0x2fed9b(0x6f8):const _0x8509bf=_0x240f50[_0x2fed9b(0x365)],_0x1431b7=_0x240f50['shuffledQuiz'][_0x2fed9b(0xab9)][_0x8509bf];renderSyncSummaryView(_0x240f50,_0x1431b7,!![]);break;case _0x2fed9b(0x744):const _0x3243a2=_0x240f50[_0x2fed9b(0x417)]||_0x2fed9b(0x25c);_0x3243a2==='reveal_at_end'?renderAdminSyncDashboard(_0x240f50,!![],_0x240f50[_0x2fed9b(0x1f0)]):renderAdminSyncDashboard(_0x240f50,!![],_0x240f50[_0x2fed9b(0x365)]);break;case _0x2fed9b(0xa86):_0x240f50[_0x2fed9b(0x34d)]&&saveGameResultsAsSubmissions(_0x240f50);sessionStorage[_0x2fed9b(0xb41)](_0x2fed9b(0x5d4));const _0x33ed26=calculateFinalPodiumScores(_0x240f50);showPodiumView(_0x33ed26,_0x2fed9b(0x8e5));break;}}function renderAdminSyncQuestionView(_0x545555){const _0x587fe3=_0x315eb9,_0x4ab104=_0x545555['currentQuestionIndex'],_0x4dd537=_0x545555[_0x587fe3(0x8e2)][_0x587fe3(0xab9)][_0x4ab104],_0x22caa6=_0x545555['shuffledQuiz'][_0x587fe3(0xab9)][_0x587fe3(0xca6)],_0xc06de=Object[_0x587fe3(0xb3a)](_0x545555['players']||{})[_0x587fe3(0x9c1)](_0x4ea02d=>_0x4ea02d[_0x587fe3(0xbfe)]!==_0x587fe3(0x2f2)),_0x420443=_0xc06de[_0x587fe3(0x9c1)](_0x453be9=>_0x453be9[_0x587fe3(0x22d)])['length'],_0x1d2a30=_0x420443===_0xc06de['length']&&_0xc06de[_0x587fe3(0xca6)]>0x0,_0x284739=(_0x4dd537[_0x587fe3(0x6ce)]||[])['map'](_0x54031b=>_0x587fe3(0xc6c)+_0x54031b+'</div>')[_0x587fe3(0x6f5)]('');liveGameView['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x4ab104+0x1)+'\x20/\x20'+_0x22caa6+_0x587fe3(0xd6b)+_0x420443+'/'+_0xc06de[_0x587fe3(0xca6)]+_0x587fe3(0xa7f)+_0x4dd537['questionText']+_0x587fe3(0x8f9)+_0x284739+_0x587fe3(0xb42)+(!_0x1d2a30?_0x587fe3(0x22a):'')+_0x587fe3(0xb0d);if(window[_0x587fe3(0x3af)])MathJax['typesetPromise']();document[_0x587fe3(0x695)]('show-results-btn')[_0x587fe3(0x59b)]('click',async()=>{const _0x56c965=_0x587fe3,_0x55360b=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x55360b,{'status':_0x56c965(0x744)});}),document[_0x587fe3(0x695)](_0x587fe3(0x762))['onclick']=()=>{const _0x4ecc22=_0x587fe3;openScratchpad(_0x4dd537,_0x4dd537[_0x4ecc22(0x6ce)]||[]);},document[_0x587fe3(0x695)](_0x587fe3(0x39c))[_0x587fe3(0x59b)](_0x587fe3(0xc9a),()=>{const _0x58f915=_0x587fe3;document[_0x58f915(0x695)](_0x58f915(0x7bd))[_0x58f915(0xd75)]['toggle'](_0x58f915(0x721));});}function renderSyncLeaderboardView(_0x456bc0,_0x31a822){const _0x3e0156=_0x315eb9,_0x49044c=Object['values'](_0x456bc0[_0x3e0156(0x5ca)]||{});_0x49044c[_0x3e0156(0x7a1)]((_0x2f2a82,_0x55548e)=>_0x55548e['score']-_0x2f2a82[_0x3e0156(0xad9)]);const _0x2b1acc=_0x49044c[_0x3e0156(0x7c9)](0x0,0x5);let _0x413b83='';if(_0x31a822){const _0x1aa2f0=_0x456bc0[_0x3e0156(0x365)]>=_0x456bc0[_0x3e0156(0x8e2)][_0x3e0156(0xab9)][_0x3e0156(0xca6)]-0x1;_0x413b83=_0x3e0156(0x4fc)+(_0x1aa2f0?_0x3e0156(0x3e3):_0x3e0156(0xa39))+_0x3e0156(0x40f);}else _0x413b83='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>';liveGameView[_0x3e0156(0xb6b)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>'+_0x2b1acc[_0x3e0156(0x947)]((_0x5e7e85,_0x47d166)=>'<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>'+(_0x47d166+0x1)+'.\x20'+_0x5e7e85[_0x3e0156(0x38d)]+_0x3e0156(0x6e8)+_0x5e7e85[_0x3e0156(0xad9)]+_0x3e0156(0x7ef))[_0x3e0156(0x6f5)]('')+_0x3e0156(0x6d1)+_0x413b83+_0x3e0156(0x9e3),_0x31a822&&document['getElementById'](_0x3e0156(0x3db))['addEventListener']('click',async()=>{const _0x431290=_0x3e0156,_0x37a908=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x1a343e=_0x456bc0[_0x431290(0x365)]+0x1;if(_0x1a343e<_0x456bc0[_0x431290(0x8e2)]['questions'][_0x431290(0xca6)]){const _0x449031={};Object[_0x431290(0x811)](_0x456bc0[_0x431290(0x5ca)])[_0x431290(0x2d4)](_0x1de3b2=>{const _0x438595=_0x431290;_0x449031[_0x438595(0xafb)+_0x1de3b2+'.answered']=![];}),await updateDoc(_0x37a908,{..._0x449031,'status':_0x431290(0x3ab),'currentQuestionIndex':_0x1a343e,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x37a908,{'status':_0x431290(0xa86)});});}async function handleJoinSyncGame(){const _0x2433d9=_0x315eb9,_0x581af6=prompt(_0x2433d9(0x6cb));if(!_0x581af6||_0x581af6[_0x2433d9(0xbcf)]()[_0x2433d9(0xca6)]!==0x2){showMessage(_0x2433d9(0x731));return;}try{const _0x532490=collection(db,_0x2433d9(0x2d5)+appId+_0x2433d9(0x2b5)),_0x5dc325=query(_0x532490,where('pin','==',_0x581af6[_0x2433d9(0xbcf)]()),where(_0x2433d9(0xbfe),'==',_0x2433d9(0xd39))),_0x361882=await getDocs(_0x5dc325);if(_0x361882[_0x2433d9(0x7e1)]){showMessage(_0x2433d9(0x72c));return;}const _0x267ecd=_0x361882[_0x2433d9(0x80f)][0x0];currentLiveGameId=_0x267ecd['id'];const _0x377b6e=_0x267ecd[_0x2433d9(0x5ac)](),_0x5c5a2f=doc(db,_0x2433d9(0x2d5)+appId+_0x2433d9(0xc5d),_0x377b6e[_0x2433d9(0xc24)]),_0x2d83f7=await getDoc(_0x5c5a2f);if(!_0x2d83f7['exists']())throw new Error('ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้');const _0x147c0c=_0x2d83f7[_0x2433d9(0x5ac)](),_0x6f0c85=doc(db,_0x2433d9(0x2d5)+appId+_0x2433d9(0x36a),_0x147c0c['projectId']),_0x33a9b8=await getDoc(_0x6f0c85);if(!_0x33a9b8[_0x2433d9(0xb5a)]())throw new Error(_0x2433d9(0x42a));currentQuizData=_0x377b6e[_0x2433d9(0x8e2)];const _0x46773c=_0x33a9b8['data']();showView(_0x2433d9(0xa8e)),showTeamPlayerSelection(_0x46773c[_0x2433d9(0xa0e)],_0x147c0c[_0x2433d9(0xd28)]);const _0x228959=document['getElementById'](_0x2433d9(0x99b));_0x228959[_0x2433d9(0x3cf)]=confirmAndJoinSyncGame;}catch(_0x4d019e){console[_0x2433d9(0xb62)]('Error\x20joining\x20sync\x20game:',_0x4d019e),showMessage('เกิดข้อผิดพลาด:\x20'+_0x4d019e[_0x2433d9(0x9eb)]);}}function updateStudentSyncView(_0x179fb9){const _0x450a45=_0x315eb9,_0x37c299=_0x179fb9[_0x450a45(0x5ca)][localTeamPlayers[0x0]];switch(_0x179fb9[_0x450a45(0xbfe)]){case _0x450a45(0xd39):showView(_0x450a45(0x4e5)),liveGameView[_0x450a45(0xb6b)]=_0x450a45(0xb69);break;case _0x450a45(0x3ab):const _0x242821=localTeamPlayers['every'](_0x192db8=>_0x179fb9[_0x450a45(0x5ca)][_0x192db8]?.[_0x450a45(0x22d)]===!![]);_0x242821?liveGameView['innerHTML']=_0x450a45(0x438):renderStudentSyncQuestionView(_0x179fb9);break;case'summary':liveGameView[_0x450a45(0xb6b)]=_0x450a45(0x29a);break;case _0x450a45(0x744):localPlayerTurnIndex=0x0;const _0x502cda=_0x179fb9[_0x450a45(0x417)]||_0x450a45(0x25c);_0x502cda===_0x450a45(0x7e7)?renderAdminSyncDashboard(_0x179fb9,![],_0x179fb9['reviewQuestionIndex']):renderStudentSyncResultsView(_0x179fb9);break;case _0x450a45(0xa86):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener'](_0x450a45(0x7d7),handleFullscreenChange),document['removeEventListener']('visibilitychange',handleVisibilityChange),sessionStorage['removeItem'](_0x450a45(0x5d4));const _0x47f1e5=calculateFinalPodiumScores(_0x179fb9);showPodiumView(_0x47f1e5,'sync');break;}}function renderStudentSyncResultsView(_0x3d8430){const _0x1c28bc=_0x315eb9,_0x32130e=localTeamPlayers['map'](_0x1a7069=>_0x3d8430[_0x1c28bc(0x5ca)][_0x1a7069])[_0x1c28bc(0x9c1)](Boolean);_0x32130e[_0x1c28bc(0x7a1)]((_0x3e6dd9,_0x588969)=>(_0x588969[_0x1c28bc(0xad9)]||0x0)-(_0x3e6dd9[_0x1c28bc(0xad9)]||0x0));const _0x3c5972=_0x3d8430[_0x1c28bc(0x417)]||_0x1c28bc(0x25c),_0xaeea2=_0x3d8430[_0x1c28bc(0x8e2)]['questions'];let _0x27eb41='';if(_0x3c5972===_0x1c28bc(0x7e7)){const _0x32dda7=_0x3d8430[_0x1c28bc(0x1f0)]>=_0xaeea2[_0x1c28bc(0xca6)]-0x1;_0x32dda7?_0x27eb41='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x27eb41=_0x1c28bc(0x990);}else{const _0x7e5d41=_0x3d8430[_0x1c28bc(0x365)]>=_0xaeea2[_0x1c28bc(0xca6)]-0x1;_0x7e5d41?_0x27eb41='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x27eb41=_0x1c28bc(0x677);}const _0x4db9a6=_0x1c28bc(0xbf2)+_0x32130e[_0x1c28bc(0x947)]((_0x304c85,_0x24af93)=>_0x1c28bc(0x518)+(_0x24af93+0x1)+_0x1c28bc(0xd32)+_0x304c85[_0x1c28bc(0x38d)]+_0x1c28bc(0xd31)+_0x304c85[_0x1c28bc(0xad9)]+_0x1c28bc(0x439))['join']('')+_0x1c28bc(0x892)+_0x27eb41+_0x1c28bc(0x248);liveGameView[_0x1c28bc(0xb6b)]=_0x4db9a6;}function renderStudentSyncQuestionView(_0x1c3bad){const _0x2b6a19=_0x315eb9;while(localPlayerTurnIndex<localTeamPlayers[_0x2b6a19(0xca6)]&&_0x1c3bad['players'][localTeamPlayers[localPlayerTurnIndex]]?.[_0x2b6a19(0x22d)]===!![]){localPlayerTurnIndex++;}const _0x2d0a8d=localTeamPlayers[localPlayerTurnIndex];if(!_0x2d0a8d)return;const _0x4f0569=_0x1c3bad[_0x2b6a19(0x365)],_0x10a87d=_0x1c3bad[_0x2b6a19(0x8e2)][_0x2b6a19(0xab9)][_0x2b6a19(0xca6)],_0x4fc22b=_0x1c3bad[_0x2b6a19(0x8e2)][_0x2b6a19(0xab9)][_0x4f0569],_0x86a62a=_0x4fc22b[_0x2b6a19(0x9e0)]||_0x1c3bad['shuffledQuiz']['quizType'];let _0x597185='',_0x3b4e78=![];switch(_0x86a62a){case'true_false':_0x597185='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x2b6a19(0x735):case _0x2b6a19(0x633):_0x3b4e78=!![],_0x597185=_0x2b6a19(0xcbd);break;case _0x2b6a19(0xc17):_0x3b4e78=!![],_0x597185='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4fc22b[_0x2b6a19(0x556)]||[])[_0x2b6a19(0x947)](_0x388fbc=>_0x2b6a19(0xb7e)+_0x388fbc+'\x22>'+_0x388fbc+'</option>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x2b6a19(0x959):default:_0x597185=(_0x4fc22b['options']||[])[_0x2b6a19(0x947)]((_0x521d4e,_0x4bd34f)=>_0x2b6a19(0x5e0)+_0x4bd34f+_0x2b6a19(0x36d)+_0x521d4e+'</button>')[_0x2b6a19(0x6f5)]('');break;}liveGameView[_0x2b6a19(0xb6b)]=_0x2b6a19(0x604)+(_0x4f0569+0x1)+'\x20/\x20'+_0x10a87d+_0x2b6a19(0xac0)+_0x2d0a8d+_0x2b6a19(0x32d)+(_0x4fc22b[_0x2b6a19(0x620)]||_0x4fc22b['stem'])+_0x2b6a19(0x691)+_0x597185+_0x2b6a19(0xb34);if(window[_0x2b6a19(0x3af)])MathJax[_0x2b6a19(0xcaf)]();function _0x33c313(_0x23e662,_0x58c4f3,_0x3ea599,_0xc25241){const _0x587ecc=_0x2b6a19,_0x17b29c=_0x3ea599[_0x587ecc(0x830)]===!![];if(_0x17b29c){document['getElementById']('confidence-modal')['dataset'][_0x587ecc(0x864)]='sync';const _0x24cf59=document[_0x587ecc(0x695)]('selected-answer-index-hidden');_0x24cf59['dataset'][_0x587ecc(0x92c)]=_0x23e662,_0x24cf59[_0x587ecc(0x4b5)][_0x587ecc(0x3ab)]=JSON[_0x587ecc(0xd46)](_0x58c4f3),_0x24cf59[_0x587ecc(0x4b5)]['gameData']=JSON['stringify'](_0x3ea599),_0x24cf59[_0x587ecc(0x4b5)][_0x587ecc(0xcef)]=_0xc25241,document['getElementById'](_0x587ecc(0xa0a))[_0x587ecc(0xd75)][_0x587ecc(0x8cc)]('hidden');}else handleSyncAnswerSubmit(_0x23e662,_0x58c4f3,_0x3ea599,_0xc25241,![]);}_0x3b4e78?document[_0x2b6a19(0x695)](_0x2b6a19(0xbfb))[_0x2b6a19(0x59b)](_0x2b6a19(0xc9a),()=>{const _0x16acf0=_0x2b6a19,_0x259542=document['getElementById'](_0x16acf0(0x4f4))||document[_0x16acf0(0x695)](_0x16acf0(0x921));if(_0x259542[_0x16acf0(0xbdb)][_0x16acf0(0xbcf)]()===''){showMessage(_0x16acf0(0x66b));return;}_0x33c313(_0x259542['value'],_0x4fc22b,_0x1c3bad,_0x2d0a8d);}):document[_0x2b6a19(0x4e3)](_0x2b6a19(0xbb2))[_0x2b6a19(0x2d4)](_0x92cde9=>{const _0x4c4b94=_0x2b6a19;_0x92cde9[_0x4c4b94(0x59b)](_0x4c4b94(0xc9a),()=>{const _0x3ba982=_0x4c4b94;_0x33c313(_0x92cde9[_0x3ba982(0x4b5)]['value'],_0x4fc22b,_0x1c3bad,_0x2d0a8d);});});}async function handleSyncAnswerSubmit(_0x3b0351,_0x2f5d1d,_0x5d334a,_0x295360,_0x5cb07c){const _0x384c91=_0x315eb9;document[_0x384c91(0x4e3)](_0x384c91(0x964))[_0x384c91(0x2d4)](_0x49f4a4=>_0x49f4a4[_0x384c91(0x22a)]=!![]);const _0x5d7b7e=_0x2f5d1d[_0x384c91(0x9e0)]||_0x5d334a['shuffledQuiz'][_0x384c91(0xa41)];let _0x56591b=![],_0x423bfa=_0x3b0351;switch(_0x5d7b7e){case'true_false':const _0x16dc92=parseInt(_0x3b0351),_0x3d9329=_0x2f5d1d[_0x384c91(0x43f)]===!![]||String(_0x2f5d1d['correctAnswer'])[_0x384c91(0x766)]()===_0x384c91(0x5c5);_0x56591b=_0x16dc92===0x0&&_0x3d9329||_0x16dc92===0x1&&!_0x3d9329,_0x423bfa=_0x16dc92===0x0?_0x384c91(0x9ca):'ไม่ใช่\x20/\x20ผิด';break;case _0x384c91(0x735):case _0x384c91(0x633):_0x56591b=await gradeShortAnswer(_0x3b0351,_0x2f5d1d);break;case _0x384c91(0xc17):_0x56591b=_0x3b0351===_0x2f5d1d[_0x384c91(0x5a6)];break;case _0x384c91(0x959):default:const _0x46d28d=parseInt(_0x3b0351);_0x56591b=_0x46d28d===_0x2f5d1d[_0x384c91(0x794)];_0x2f5d1d[_0x384c91(0x6ce)]&&_0x2f5d1d[_0x384c91(0x6ce)][_0x46d28d]&&(_0x423bfa=_0x2f5d1d['options'][_0x46d28d]);break;}const _0x50d73d=_0x56591b?0x1:0x0,_0x3b905e=doc(db,_0x384c91(0x2d5)+appId+_0x384c91(0x2b5),currentLiveGameId),_0x3a40a3={};_0x3a40a3['players.'+_0x295360+_0x384c91(0x3fa)]=increment(_0x50d73d),_0x3a40a3[_0x384c91(0xafb)+_0x295360+'.answered']=!![];let _0x1e0bf4=null;(_0x5d7b7e===_0x384c91(0x959)||_0x5d7b7e==='true_false'||_0x5d7b7e===_0x384c91(0xd94))&&(_0x1e0bf4=parseInt(_0x3b0351));_0x3a40a3[_0x384c91(0xafb)+_0x295360+'.lastAnswerIndex']=_0x1e0bf4;const _0x2e3f51={'questionIndex':_0x5d334a[_0x384c91(0x365)],'questionId':_0x2f5d1d['id'],'answer':_0x3b0351,'answerText':_0x423bfa,'isCorrect':_0x56591b,'originalQuestionText':_0x2f5d1d[_0x384c91(0x620)]||_0x2f5d1d['stem'],'wasConfident':_0x5cb07c};_0x3a40a3[_0x384c91(0xafb)+_0x295360+_0x384c91(0x749)]=arrayUnion(_0x2e3f51),await updateDoc(_0x3b905e,_0x3a40a3);}initialize();
