const _0x3db3a6=_0x5ca2;(function(_0x41e76e,_0x517bd0){const _0x2b2f08=_0x5ca2,_0x258f4e=_0x41e76e();while(!![]){try{const _0x291d2a=-parseInt(_0x2b2f08(0x9ec))/0x1*(-parseInt(_0x2b2f08(0x818))/0x2)+parseInt(_0x2b2f08(0x49b))/0x3+-parseInt(_0x2b2f08(0x559))/0x4*(parseInt(_0x2b2f08(0xe56))/0x5)+parseInt(_0x2b2f08(0x6bc))/0x6*(parseInt(_0x2b2f08(0xd71))/0x7)+parseInt(_0x2b2f08(0x43b))/0x8+-parseInt(_0x2b2f08(0xaef))/0x9*(-parseInt(_0x2b2f08(0x119))/0xa)+-parseInt(_0x2b2f08(0x6fb))/0xb;if(_0x291d2a===_0x517bd0)break;else _0x258f4e['push'](_0x258f4e['shift']());}catch(_0x44741b){_0x258f4e['push'](_0x258f4e['shift']());}}}(_0x3507,0x892fd));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove,getCountFromServer}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const ANONYMOUS_NAMES=[_0x3db3a6(0x995),_0x3db3a6(0x7d2),_0x3db3a6(0x243),_0x3db3a6(0x582),'นกฮูกกลางวัน',_0x3db3a6(0x8f4),_0x3db3a6(0x931),_0x3db3a6(0xd8d),'เพนกวินไฟ',_0x3db3a6(0x36c),_0x3db3a6(0xbe),_0x3db3a6(0xce6),'เงาปริศนา',_0x3db3a6(0xe52),_0x3db3a6(0xe20),'จอมเวทย์ขนมหวาน',_0x3db3a6(0x97f),'ซามูไรสายเดี่ยว',_0x3db3a6(0x990),_0x3db3a6(0x85e),'หมีขั้วโลกใต้',_0x3db3a6(0x70f),_0x3db3a6(0x537),_0x3db3a6(0x533),'กุ้งเต้นแร้งกา',_0x3db3a6(0x4d5),_0x3db3a6(0x646),_0x3db3a6(0x141),_0x3db3a6(0xcae),_0x3db3a6(0xc4),_0x3db3a6(0x4f4),_0x3db3a6(0xcde),_0x3db3a6(0xa41),_0x3db3a6(0x825),_0x3db3a6(0xc0d),_0x3db3a6(0x92e),_0x3db3a6(0xb30),_0x3db3a6(0x490),_0x3db3a6(0xb5f),_0x3db3a6(0x78a),_0x3db3a6(0x977),_0x3db3a6(0x932),_0x3db3a6(0x3ab),'พิซซ่าหน้าทุเรียน',_0x3db3a6(0x403),_0x3db3a6(0xa37),_0x3db3a6(0x135),'ครัวซองต์',_0x3db3a6(0x59e),_0x3db3a6(0x3ad),_0x3db3a6(0x73a),_0x3db3a6(0xbf1),_0x3db3a6(0x75d),'นอนไม่พอ',_0x3db3a6(0xdaa),'แบตหมด',_0x3db3a6(0xbc8),'โหลดนาน',_0x3db3a6(0x591),_0x3db3a6(0x4d2),_0x3db3a6(0x856),_0x3db3a6(0x7b1),_0x3db3a6(0x3db),_0x3db3a6(0x6d5),_0x3db3a6(0x555),_0x3db3a6(0x501),_0x3db3a6(0x117),_0x3db3a6(0x1e0),_0x3db3a6(0xa6a),_0x3db3a6(0x38d),_0x3db3a6(0x817),'ช่างภาพ','เกมเมอร์','ศิลปิน',_0x3db3a6(0xcb9),_0x3db3a6(0xdca),_0x3db3a6(0x8b5),_0x3db3a6(0xb26),_0x3db3a6(0x2f4),'ครูใหญ่',_0x3db3a6(0xcd5),'ปล่อยพลัง',_0x3db3a6(0xdc),_0x3db3a6(0x79a),_0x3db3a6(0x7b2),_0x3db3a6(0xa12),_0x3db3a6(0x306),'ไอรอนแมน','กัปตัน','ฮัลค์','รักแรกพบ',_0x3db3a6(0x294),'แอบชอบ',_0x3db3a6(0xe3),'เพื่อนสนิท','คู่จิ้น','แฟนทิพย์',_0x3db3a6(0x3ff),_0x3db3a6(0xa26),_0x3db3a6(0x7eb)];let lastSeenQuestionIndex=-0x1,orderedPlayerSelection=[],clientSideHiddenOptions={},blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId='all',fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x3db3a6(0xd1a),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId='all',fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x20c5b9=_0x3db3a6;if(_0x20c5b9(0xc6a)in navigator)try{wakeLock=await navigator[_0x20c5b9(0xc6a)]['request'](_0x20c5b9(0xd2e)),console[_0x20c5b9(0x6e6)](_0x20c5b9(0x107)),wakeLock[_0x20c5b9(0x844)](_0x20c5b9(0xe34),()=>{const _0x53e58a=_0x20c5b9;console[_0x53e58a(0x6e6)](_0x53e58a(0x6ba));});}catch(_0x4b2042){console[_0x20c5b9(0xe4d)](_0x20c5b9(0x297)+_0x4b2042[_0x20c5b9(0x339)]+',\x20'+_0x4b2042['message']);}else console[_0x20c5b9(0x1ef)](_0x20c5b9(0x660));},releaseWakeLock=async()=>{const _0x2204c1=_0x3db3a6;wakeLock!==null&&(await wakeLock[_0x2204c1(0xe34)](),wakeLock=null,console['log'](_0x2204c1(0xb6a)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x58df98=_0x3db3a6;if(!document[_0x58df98(0x379)][_0x58df98(0x605)]['contains'](_0x58df98(0x2d0))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x197b20=_0x58df98;document[_0x197b20(0x379)][_0x197b20(0x605)][_0x197b20(0xd74)](_0x197b20(0x2d0)),console[_0x197b20(0x6e6)]('หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน');},inactivityTime);}}function wakeUpScreen(_0x5551f7){const _0x31cdea=_0x3db3a6;_0x5551f7&&(_0x5551f7[_0x31cdea(0xe28)](),_0x5551f7['preventDefault']());document[_0x31cdea(0x379)][_0x31cdea(0x605)][_0x31cdea(0x31b)](_0x31cdea(0x2d0));if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x44b0d4=_0x31cdea;document[_0x44b0d4(0x379)]['classList'][_0x44b0d4(0xd74)](_0x44b0d4(0x2d0));},inactivityTime);}function stopDimTimer(){const _0x1415be=_0x3db3a6;if(dimTimer)clearTimeout(dimTimer);document[_0x1415be(0x379)][_0x1415be(0x605)]['remove']('dimmed'),window['removeEventListener'](_0x1415be(0x19e),resetDimTimer),window['removeEventListener'](_0x1415be(0xb3b),resetDimTimer),window[_0x1415be(0xe2c)](_0x1415be(0x109),resetDimTimer),window[_0x1415be(0xe2c)](_0x1415be(0x4fe),resetDimTimer),console[_0x1415be(0x6e6)](_0x1415be(0x6c7));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x4dae1d,_0x3b17c3=![]){const _0x1a7fd8=_0x3db3a6,_0x23c0e4=allQuizzes[_0x1a7fd8(0xe8)](_0x123169=>_0x123169['id']===_0x4dae1d)||allQuizzesGlobal[_0x1a7fd8(0xe8)](_0x66f4c=>_0x66f4c['id']===_0x4dae1d);if(!_0x23c0e4){showMessage(_0x1a7fd8(0x393));return;}currentQuizData=getShuffledQuiz(_0x23c0e4);const _0x32829c=Math[_0x1a7fd8(0x7f6)](0x3e8+Math[_0x1a7fd8(0x2cc)]()*0x2328)[_0x1a7fd8(0x99d)]();try{const _0x3f4585=await addDoc(collection(db,'artifacts/'+appId+_0x1a7fd8(0x266)),{'quizId':_0x23c0e4['id'],'projectId':_0x23c0e4[_0x1a7fd8(0x47e)],'status':_0x1a7fd8(0xd8),'pin':_0x32829c,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x3b17c3});currentTeamQuizId=_0x3f4585['id'],showView(_0x1a7fd8(0x939)),renderAdminTeamQuizDashboard(_0x32829c,_0x23c0e4['topic']),listenForTeamQuizUpdates();}catch(_0x24afb7){console[_0x1a7fd8(0xe4d)](_0x1a7fd8(0x222),_0x24afb7),showMessage(_0x1a7fd8(0x48b));}}function renderAdminTeamQuizDashboard(_0x4b41c6,_0x52fd7a,_0x50a004=_0x3db3a6(0xd21)){const _0x3bda79=_0x3db3a6,_0x20f808=_0x50a004===_0x3bda79(0xa56)?_0x3bda79(0x916):_0x3bda79(0x3e1);liveGameView[_0x3bda79(0x545)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>'+_0x20f808+':\x20'+_0x52fd7a+_0x3bda79(0x4ee)+_0x4b41c6+_0x3bda79(0x26e),document[_0x3bda79(0x283)](_0x3bda79(0x2b1))[_0x3bda79(0x844)](_0x3bda79(0x425),async()=>{const _0x53f208=_0x3bda79;showConfirmation(_0x53f208(0xa9e),async()=>{const _0x4af367=_0x53f208;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,'artifacts/'+appId+_0x4af367(0x266),currentTeamQuizId)),showView('project-detail');});});}function listenForTeamQuizUpdates(){const _0x43c9ac=_0x3db3a6;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x3ef918=doc(db,_0x43c9ac(0x981)+appId+_0x43c9ac(0x266),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x3ef918,_0x26144c=>{const _0x574d53=_0x43c9ac;if(!_0x26144c['exists']()){sessionStorage[_0x574d53(0xdc2)](_0x574d53(0xd4d));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x574d53(0xdd7));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x574d53(0x964)):showView(_0x574d53(0xae3));return;}const _0x284010=_0x26144c[_0x574d53(0x366)]();if(currentMode===_0x574d53(0xa9)){if(_0x284010[_0x574d53(0x93a)]===_0x574d53(0xa56)&&_0x284010[_0x574d53(0x360)]!==_0x574d53(0x46f)&&_0x284010[_0x574d53(0x360)]!==_0x574d53(0x6d8)){const _0x24f8a2=Object[_0x574d53(0x2e5)](_0x284010[_0x574d53(0xcf9)]||{});if(_0x24f8a2[_0x574d53(0x110)]>0x0){const _0x10c8f4=_0x24f8a2[_0x574d53(0xaf9)](_0x1645e8=>_0x1645e8[_0x574d53(0xb6d)]===!![]);_0x10c8f4&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x284010);}else{if(_0x284010[_0x574d53(0x360)]===_0x574d53(0x46f)||_0x284010['status']===_0x574d53(0x6d8)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x284010[_0x574d53(0x93a)]==='group'){const _0x49a833=_0x284010[_0x574d53(0xcf9)][userId];(!_0x49a833||!_0x49a833['isFinished'])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x541170){const _0x221078=_0x3db3a6;console[_0x221078(0x6e6)]('All\x20groups\x20have\x20finished.\x20Ending\x20game.');const _0x2d0105=doc(db,_0x221078(0x981)+appId+_0x221078(0x266),_0x541170);try{const _0x34b6f9=await getDoc(_0x2d0105);if(_0x34b6f9[_0x221078(0xaed)]()){const _0x1830ce=_0x34b6f9[_0x221078(0x366)]();_0x1830ce[_0x221078(0x438)]&&await saveGameResultsAsSubmissions(_0x1830ce);}await updateDoc(_0x2d0105,{'status':_0x221078(0x46f)});}catch(_0x4b7570){console[_0x221078(0xe4d)]('Failed\x20to\x20end\x20group\x20mode\x20game:',_0x4b7570);}}function updateAdminTeamDashboard(_0x3d375c){const _0x54ef85=_0x3db3a6,_0x5473b1=document[_0x54ef85(0x283)](_0x54ef85(0x35b));if(!_0x5473b1)return;const _0x45ac7f=_0x3d375c['mode']||'team',_0x18e9c4=currentQuizData['questions'][_0x54ef85(0x110)];if(_0x45ac7f===_0x54ef85(0xa56)){const _0x2acd6d=Object[_0x54ef85(0x2e5)](_0x3d375c[_0x54ef85(0xcf9)]||{});if(_0x2acd6d[_0x54ef85(0x110)]===0x0){_0x5473b1[_0x54ef85(0x545)]=_0x54ef85(0x50f);return;}const _0x236d63=[..._0x2acd6d][_0x54ef85(0x667)]((_0xb3a100,_0x1e7f9e)=>_0x1e7f9e[_0x54ef85(0x791)]-_0xb3a100[_0x54ef85(0x791)]),_0x10430a=_0x236d63[_0x54ef85(0x87e)]((_0x3d5759,_0x2d347c)=>{const _0x3f4570=_0x54ef85,_0x191f01=_0x3d5759['answers']?.[_0x3f4570(0x110)]||0x0;return _0x3f4570(0xb6e)+(_0x2d347c+0x1)+_0x3f4570(0xb8b)+_0x3d5759[_0x3f4570(0x7aa)][_0x3f4570(0xd6e)](',\x20')+_0x3f4570(0x304)+_0x191f01+'/'+_0x18e9c4+_0x3f4570(0xada)+_0x3d5759['score']+_0x3f4570(0x29c);})['join'](''),_0x14e9f9=currentQuizData[_0x54ef85(0x13f)][_0x54ef85(0x87e)]((_0x8c20c7,_0x1e1a4b)=>{const _0x58a23c=_0x54ef85;let _0x9db616=0x0,_0x299604=0x0;_0x2acd6d[_0x58a23c(0x277)](_0x530b15=>{const _0xa2f8c4=_0x58a23c,_0x1e2027=_0x530b15[_0xa2f8c4(0x749)]?.[_0xa2f8c4(0xe8)](_0x2e0a09=>_0x2e0a09['questionIndex']===_0x1e1a4b);if(_0x1e2027){_0x299604++;if(_0x1e2027['isCorrect'])_0x9db616++;}});const _0x418212=_0x299604>0x0&&_0x299604===_0x2acd6d[_0x58a23c(0x110)],_0x3a922e=_0x418212?_0x58a23c(0x9ea):_0x58a23c(0xcbd),_0x426edf=_0x418212?_0x58a23c(0x20a):'';return _0x58a23c(0xb5e)+_0x3a922e+_0x58a23c(0xc79)+(_0x1e1a4b+0x1)+':</span><span>'+_0x426edf+_0x58a23c(0x6b0)+_0x9db616+'/'+_0x2acd6d[_0x58a23c(0x110)]+_0x58a23c(0x342);})['join']('');_0x5473b1['innerHTML']=_0x54ef85(0x21b)+_0x10430a+_0x54ef85(0x51b)+_0x14e9f9+_0x54ef85(0xdde);return;}const _0x3097a2=_0x3d375c[_0x54ef85(0x37a)]||{},_0x1fd68f=Object[_0x54ef85(0x598)](_0x3097a2);if(_0x1fd68f[_0x54ef85(0x110)]===0x0){_0x5473b1[_0x54ef85(0x545)]=_0x54ef85(0x875);return;}const _0x34b94c=_0x1fd68f['map'](_0x139453=>({'name':_0x139453,'score':_0x3097a2[_0x139453][_0x54ef85(0x791)]||0x0}))[_0x54ef85(0x667)]((_0x5fc41a,_0xebc53b)=>_0xebc53b[_0x54ef85(0x791)]-_0x5fc41a['score']),_0x479a5a=_0x34b94c['map'](_0x108520=>{const _0x3df9fd=_0x54ef85,_0x33d0fc=_0x3097a2[_0x108520[_0x3df9fd(0x339)]]?.[_0x3df9fd(0x749)]?.[_0x3df9fd(0x110)]||0x0,_0x251f95=Math[_0x3df9fd(0x9ae)](_0x18e9c4/_0x1fd68f[_0x3df9fd(0x110)]);return _0x3df9fd(0x2c7)+_0x108520[_0x3df9fd(0x339)]+_0x3df9fd(0xd89)+_0x33d0fc+'/'+_0x251f95+_0x3df9fd(0x5c5)+_0x108520[_0x3df9fd(0x791)]+'\x20คะแนน</span></div>';})['join'](''),_0x271d43=_0x1fd68f[_0x54ef85(0x53b)]((_0x54df99,_0x3415f0)=>_0x54df99+(_0x3097a2[_0x3415f0][_0x54ef85(0x749)]?.[_0x54ef85(0x110)]||0x0),0x0),_0x28a372=currentQuizData[_0x54ef85(0x13f)]['map']((_0x411c03,_0x12093f)=>{const _0x3ef8a6=_0x54ef85;let _0x41c751=null,_0x51bef0=null;for(const _0x1ed33d of _0x1fd68f){const _0x1bd814=_0x3097a2[_0x1ed33d][_0x3ef8a6(0x749)]?.[_0x3ef8a6(0xe8)](_0x11e62c=>_0x11e62c[_0x3ef8a6(0xda4)]===_0x12093f);if(_0x1bd814){_0x41c751=_0x1bd814,_0x51bef0=_0x1ed33d;break;}}const _0x3e9c67=!!_0x41c751,_0x1079e9=_0x3e9c67&&_0x41c751['isCorrect'],_0x2c6df8=(Math[_0x3ef8a6(0x7f6)](_0x12093f/_0x1fd68f[_0x3ef8a6(0x110)])+0x1)*_0x1fd68f[_0x3ef8a6(0x110)],_0x4ab0fa=_0x271d43>=_0x2c6df8,_0x741e3a=_0x4ab0fa?_0x3ef8a6(0x488):'bg-black/10',_0x492dd6=_0x4ab0fa?_0x3ef8a6(0x20a):'';let _0x1dd4a4=_0x3ef8a6(0x24f);return _0x3e9c67&&(_0x1dd4a4=_0x51bef0+_0x3ef8a6(0x797)+(_0x1079e9?_0x3ef8a6(0xa8f):_0x3ef8a6(0x522))),_0x3ef8a6(0xb5e)+_0x741e3a+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x12093f+0x1)+_0x3ef8a6(0x233)+_0x492dd6+_0x3ef8a6(0x5ca)+_0x1dd4a4+'</p></div>';})[_0x54ef85(0xd6e)]('');_0x5473b1[_0x54ef85(0x545)]=_0x54ef85(0x437)+_0x479a5a+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>'+_0x28a372+'</div></div></div>';}async function handleJoinTeamQuiz(){const _0x316511=_0x3db3a6,_0x4c7212=prompt(_0x316511(0xbce));if(!_0x4c7212||_0x4c7212[_0x316511(0xc29)]()[_0x316511(0x110)]!==0x4){showMessage(_0x316511(0x781));return;}try{const _0x267120=collection(db,_0x316511(0x981)+appId+_0x316511(0x266)),_0x862a4b=query(_0x267120,where(_0x316511(0xc57),'==',_0x4c7212[_0x316511(0xc29)]()),where(_0x316511(0x360),'==',_0x316511(0xd8))),_0x3c293c=await getDocs(_0x862a4b);if(_0x3c293c[_0x316511(0x43c)]){showMessage(_0x316511(0xae8));return;}const _0x34db67=_0x3c293c[_0x316511(0xcf4)][0x0];currentTeamQuizId=_0x34db67['id'];const _0x4ba4a4=_0x34db67[_0x316511(0x366)](),_0x1d0d6b=doc(db,_0x316511(0x981)+appId+_0x316511(0x7ee),_0x4ba4a4[_0x316511(0x47e)]),_0x4cb694=doc(db,_0x316511(0x981)+appId+_0x316511(0x8e0),_0x4ba4a4['quizId']),[_0x1f5c61,_0x4dd31e]=await Promise[_0x316511(0xd1a)]([getDoc(_0x1d0d6b),getDoc(_0x4cb694)]);if(!_0x1f5c61[_0x316511(0xaed)]()||!_0x4dd31e[_0x316511(0xaed)]())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x4dd31e['id'],..._0x4dd31e[_0x316511(0x366)]()});const _0x504313=_0x1f5c61[_0x316511(0x366)]();showTeamPlayerSelection(_0x504313[_0x316511(0x138)],currentQuizData[_0x316511(0xe5f)]);}catch(_0x40583d){console[_0x316511(0xe4d)](_0x316511(0x10f),_0x40583d),showMessage(_0x316511(0xe07)+_0x40583d['message']);}}let currentInputPin='';function handleJoinGroupActivity(){const _0x4cc26d=_0x3db3a6;currentInputPin='',updatePinDisplay(),document['getElementById'](_0x4cc26d(0xa2c))[_0x4cc26d(0x605)]['remove']('hidden');}function updatePinDisplay(){const _0x45a02c=_0x3db3a6,_0x3097ae=document['querySelectorAll'](_0x45a02c(0xd17));_0x3097ae[_0x45a02c(0x277)]((_0x45584c,_0x3d54f6)=>{const _0x1c96e5=_0x45a02c;_0x3d54f6<currentInputPin[_0x1c96e5(0x110)]?(_0x45584c['textContent']=currentInputPin[_0x3d54f6],_0x45584c[_0x1c96e5(0x605)][_0x1c96e5(0xd74)](_0x1c96e5(0x3c5),_0x1c96e5(0x96a)),_0x45584c[_0x1c96e5(0x605)]['remove'](_0x1c96e5(0x953),_0x1c96e5(0x296))):(_0x45584c[_0x1c96e5(0x1bd)]='',_0x45584c[_0x1c96e5(0x605)][_0x1c96e5(0x31b)](_0x1c96e5(0x3c5),'bg-white'),_0x45584c[_0x1c96e5(0x605)][_0x1c96e5(0xd74)]('border-gray-300','bg-gray-50'));});}async function handlePinKeyPress(_0x5622c5){const _0x13cc17=_0x3db3a6;if(_0x5622c5===_0x13cc17(0x6d2))currentInputPin=currentInputPin[_0x13cc17(0x972)](0x0,-0x1);else currentInputPin[_0x13cc17(0x110)]<0x4&&(currentInputPin+=_0x5622c5);updatePinDisplay(),currentInputPin[_0x13cc17(0x110)]===0x4&&setTimeout(async()=>{const _0x146ec5=_0x13cc17;document[_0x146ec5(0x283)](_0x146ec5(0xa2c))[_0x146ec5(0x605)]['add'](_0x146ec5(0x9a0)),await processJoinWithPin(currentInputPin),currentInputPin='',updatePinDisplay();},0x12c);}async function processJoinWithPin(_0x4f4fa5){const _0x53ab1b=_0x3db3a6,_0x47129e=_0x4f4fa5['trim']();showMessage(_0x53ab1b(0xa6d));try{const _0x467700=collection(db,'artifacts/'+appId+_0x53ab1b(0x266)),_0x36ec58=query(_0x467700,where('pin','==',_0x47129e),where(_0x53ab1b(0x360),'==',_0x53ab1b(0xd8))),_0x48bc9e=await getDocs(_0x36ec58);if(!_0x48bc9e[_0x53ab1b(0x43c)]){console['log'](_0x53ab1b(0x460)),await proceedWithTeamQuizJoin(_0x48bc9e[_0x53ab1b(0xcf4)][0x0]);return;}const _0x5eb03a=collection(db,'artifacts/'+appId+_0x53ab1b(0x7f8)),_0x3e36bf=query(_0x5eb03a,where(_0x53ab1b(0xc57),'==',_0x47129e),where(_0x53ab1b(0x360),'in',['lobby','question',_0x53ab1b(0xe2e),_0x53ab1b(0x940)])),_0x3aa236=await getDocs(_0x3e36bf);if(!_0x3aa236[_0x53ab1b(0x43c)]){console[_0x53ab1b(0x6e6)](_0x53ab1b(0x896)),await proceedWithSyncQuizJoin(_0x3aa236['docs'][0x0]);return;}showMessage('ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว');}catch(_0x312685){console[_0x53ab1b(0xe4d)](_0x53ab1b(0xca9),_0x312685),showMessage(_0x53ab1b(0x326)+_0x312685[_0x53ab1b(0x226)]);}}async function proceedWithTeamQuizJoin(_0x1729f8){const _0x11d63b=_0x3db3a6;currentTeamQuizId=_0x1729f8['id'];const _0x450091=_0x1729f8['data'](),_0x373121=doc(db,_0x11d63b(0x981)+appId+'/public/data/projects',_0x450091[_0x11d63b(0x47e)]),_0x119a00=doc(db,'artifacts/'+appId+_0x11d63b(0x8e0),_0x450091['quizId']),[_0x1a4f85,_0xba0e4c]=await Promise[_0x11d63b(0xd1a)]([getDoc(_0x373121),getDoc(_0x119a00)]);if(!_0x1a4f85['exists']()||!_0xba0e4c[_0x11d63b(0xaed)]())throw new Error(_0x11d63b(0x4d7));currentQuizData=getShuffledQuiz({'id':_0xba0e4c['id'],..._0xba0e4c[_0x11d63b(0x366)]()}),showTeamPlayerSelection(_0x1a4f85[_0x11d63b(0x366)]()[_0x11d63b(0x138)],currentQuizData[_0x11d63b(0xe5f)],_0x450091[_0x11d63b(0x93a)]||'team'),messageModal[_0x11d63b(0x605)][_0x11d63b(0xd74)](_0x11d63b(0x9a0));}async function proceedWithSyncQuizJoin(_0x36d604){const _0x4e3e04=_0x3db3a6;currentLiveGameId=_0x36d604['id'];const _0x542b87=_0x36d604[_0x4e3e04(0x366)](),_0x23ca29=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x542b87[_0x4e3e04(0xbc3)]),_0x386a0e=await getDoc(_0x23ca29);if(!_0x386a0e[_0x4e3e04(0xaed)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x1482b3=_0x386a0e[_0x4e3e04(0x366)](),_0x4e3045=doc(db,_0x4e3e04(0x981)+appId+_0x4e3e04(0x7ee),_0x1482b3[_0x4e3e04(0x47e)]),_0x32c53e=await getDoc(_0x4e3045);if(!_0x32c53e[_0x4e3e04(0xaed)]())throw new Error(_0x4e3e04(0x8e2));currentQuizData=_0x542b87['shuffledQuiz'],showView(_0x4e3e04(0x30e)),showTeamPlayerSelection(_0x32c53e[_0x4e3e04(0x366)]()[_0x4e3e04(0x138)],_0x1482b3['topic'],_0x4e3e04(0xa8e));const _0x6db116=document[_0x4e3e04(0x283)](_0x4e3e04(0x1c2)),_0x236fff=_0x6db116[_0x4e3e04(0x99e)](!![]);_0x6db116[_0x4e3e04(0xc7e)][_0x4e3e04(0x948)](_0x236fff,_0x6db116),_0x236fff[_0x4e3e04(0x74a)]=confirmAndJoinSyncGame,messageModal[_0x4e3e04(0x605)]['add'](_0x4e3e04(0x9a0));}function getCleanApplicationHTML(){const _0x4205ba=_0x3db3a6,_0x3a5cc7=document[_0x4205ba(0x283)](_0x4205ba(0xa02));if(!_0x3a5cc7)return'';const _0x2bed55=_0x3a5cc7[_0x4205ba(0x99e)](!![]);return _0x2bed55[_0x4205ba(0x68a)](_0x4205ba(0x186))['forEach'](_0x10d2f6=>{const _0x55d081=_0x4205ba;_0x10d2f6[_0x55d081(0x605)]['remove'](_0x55d081(0xc14),'incorrect'),_0x10d2f6[_0x55d081(0xc71)]=![];}),_0x2bed55[_0x4205ba(0x545)];}function showTeamPlayerSelection(_0x5ed57a,_0x29d63b,_0x344236=_0x3db3a6(0xd21)){const _0x51e265=_0x3db3a6;studentInitialView['classList'][_0x51e265(0xd74)]('hidden'),studentJoinGameView[_0x51e265(0x605)][_0x51e265(0xd74)](_0x51e265(0x9a0)),document['getElementById'](_0x51e265(0x3b9))[_0x51e265(0x605)][_0x51e265(0x31b)](_0x51e265(0x9a0)),orderedPlayerSelection=[];let _0x41faef=_0x51e265(0x3e1);if(_0x344236===_0x51e265(0xa56))_0x41faef=_0x51e265(0x916);else _0x344236===_0x51e265(0xa8e)&&(_0x41faef=_0x51e265(0x8e8));document[_0x51e265(0x283)](_0x51e265(0xb0c))[_0x51e265(0x1bd)]=_0x41faef+':\x20'+_0x29d63b;const _0x363471=document['getElementById'](_0x51e265(0xc9e));if(!_0x5ed57a||_0x5ed57a[_0x51e265(0x110)]===0x0){_0x363471[_0x51e265(0x545)]=_0x51e265(0xc97),document[_0x51e265(0x283)]('confirm-team-players-btn')[_0x51e265(0xc71)]=!![];return;}_0x363471[_0x51e265(0x545)]=_0x5ed57a[_0x51e265(0x87e)](_0x1e3f58=>_0x51e265(0xc37)+_0x1e3f58+'\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x20text-gray-700\x22>'+_0x1e3f58+_0x51e265(0x8c2))[_0x51e265(0xd6e)](''),document[_0x51e265(0x283)]('confirm-team-players-btn')[_0x51e265(0xc71)]=![];const _0x1a5e7b=_0x363471[_0x51e265(0x68a)](_0x51e265(0x812));_0x1a5e7b['forEach'](_0x4e40d1=>{const _0x1065d7=_0x51e265;_0x4e40d1[_0x1065d7(0x844)](_0x1065d7(0xbb6),_0x3da708=>{const _0x33ae26=_0x1065d7,_0x439fc6=_0x3da708[_0x33ae26(0x543)]['value'];_0x3da708['target'][_0x33ae26(0x61b)]?!orderedPlayerSelection[_0x33ae26(0x2e8)](_0x439fc6)&&orderedPlayerSelection[_0x33ae26(0x827)](_0x439fc6):orderedPlayerSelection=orderedPlayerSelection['filter'](_0x351be9=>_0x351be9!==_0x439fc6),updateSelectionOrderVisuals(_0x363471);});});}function updateSelectionOrderVisuals(_0x32ec26){const _0x2f1f74=_0x3db3a6,_0x9e4da7=_0x32ec26[_0x2f1f74(0x68a)]('input[name=\x22team_player\x22]');_0x9e4da7[_0x2f1f74(0x277)](_0x331e9c=>{const _0x47a3a4=_0x2f1f74,_0x54ffef=_0x331e9c['closest'](_0x47a3a4(0x531)),_0x431e96=_0x54ffef[_0x47a3a4(0x1a6)]('.order-badge');if(_0x331e9c['checked']){const _0x454917=orderedPlayerSelection[_0x47a3a4(0x52f)](_0x331e9c['value']);_0x454917!==-0x1&&(_0x431e96[_0x47a3a4(0x1bd)]=_0x47a3a4(0xc1c)+(_0x454917+0x1),_0x431e96[_0x47a3a4(0x605)]['remove']('hidden'),_0x54ffef[_0x47a3a4(0x605)][_0x47a3a4(0xd74)]('bg-indigo-50',_0x47a3a4(0xadd)));}else _0x431e96['classList']['add'](_0x47a3a4(0x9a0)),_0x54ffef['classList'][_0x47a3a4(0x31b)](_0x47a3a4(0x28c),'border-indigo-200');});}async function confirmAndStartTeamQuiz(){const _0x1a39a4=_0x3db3a6,_0x379bdd=[...orderedPlayerSelection];if(_0x379bdd['length']===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x379bdd,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x5a913f=doc(db,_0x1a39a4(0x981)+appId+'/public/data/teamQuizzes',currentTeamQuizId);try{const _0x4db941=await getDoc(_0x5a913f);if(!_0x4db941[_0x1a39a4(0xaed)]())throw new Error(_0x1a39a4(0x428));const _0x249171=_0x4db941['data']();if(_0x249171[_0x1a39a4(0x93a)]===_0x1a39a4(0xa56)){const _0x182dc1={[_0x1a39a4(0x73d)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x5a913f,_0x182dc1);}else{const _0x40f37e=_0x249171[_0x1a39a4(0x37a)]||{};localTeamPlayers['forEach'](_0x58fa8e=>{!_0x40f37e[_0x58fa8e]&&(_0x40f37e[_0x58fa8e]={'score':0x0,'answers':[]});}),await updateDoc(_0x5a913f,{'responses':_0x40f37e});}document[_0x1a39a4(0x283)](_0x1a39a4(0x3b9))[_0x1a39a4(0x605)]['add']('hidden'),renderTeamQuizQuestion();const _0x323944={'gameId':currentTeamQuizId,'mode':_0x249171[_0x1a39a4(0x93a)]||_0x1a39a4(0xd21),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x1a39a4(0xba0)]('activeGameSession',JSON[_0x1a39a4(0x6b3)](_0x323944)),listenForTeamQuizUpdates();}catch(_0x591ed8){console['error']('Error\x20confirming\x20players:',_0x591ed8),showMessage(_0x1a39a4(0xb10));}}async function renderTeamQuizQuestion(){const _0x6e32b0=_0x3db3a6;if(localQuestionIndex>=currentQuizData['questions'][_0x6e32b0(0x110)]){displayTeamQuizFinalResults();return;}const _0x2f465f=currentQuizData[_0x6e32b0(0x13f)][localQuestionIndex],_0x4390fd=localTeamPlayers[localPlayerIndex],_0x34d54e=_0x2f465f[_0x6e32b0(0x430)]||currentQuizData[_0x6e32b0(0x461)];let _0x4a3fd4=_0x2f465f['stem']||_0x2f465f[_0x6e32b0(0xb0e)],_0x2b1b2f='';switch(_0x34d54e){case _0x6e32b0(0x6f2):case _0x6e32b0(0x161):_0x2b1b2f=_0x2f465f[_0x6e32b0(0xbed)][_0x6e32b0(0x87e)]((_0x2af263,_0x17c995)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x17c995+_0x6e32b0(0x7d3)+_0x17c995+_0x6e32b0(0x9e3)+_0x17c995+'\x22>'+_0x2af263+_0x6e32b0(0x85b))[_0x6e32b0(0xd6e)]('');break;case _0x6e32b0(0x50e):_0x2b1b2f='<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>';break;case _0x6e32b0(0x358):case'fill_in_no_choices':_0x2b1b2f='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>';break;case _0x6e32b0(0x1f4):_0x2b1b2f=_0x6e32b0(0x70a)+_0x2f465f[_0x6e32b0(0x17b)][_0x6e32b0(0x87e)](_0x1e9279=>_0x6e32b0(0x4cc)+_0x1e9279+'\x22>'+_0x1e9279+_0x6e32b0(0xc4e))[_0x6e32b0(0xd6e)]('')+_0x6e32b0(0x180);break;default:_0x2b1b2f=_0x6e32b0(0xd3c);break;}studentQuizArea['innerHTML']=_0x6e32b0(0x9c3)+(localQuestionIndex+0x1)+_0x6e32b0(0x9a6)+currentQuizData[_0x6e32b0(0x13f)][_0x6e32b0(0x110)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20'+_0x4390fd+_0x6e32b0(0xd29)+(localQuestionIndex+0x1)+'.\x20'+_0x4a3fd4+_0x6e32b0(0x819)+(_0x2f465f['imageCode']?_0x6e32b0(0x18f)+_0x2f465f[_0x6e32b0(0xc8b)]+_0x6e32b0(0xdc0):'')+_0x6e32b0(0x369)+_0x2b1b2f+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x6e32b0(0x605)][_0x6e32b0(0x31b)](_0x6e32b0(0x9a0));if(window['MathJax'])MathJax[_0x6e32b0(0x130)]([studentQuizArea]);document[_0x6e32b0(0x283)](_0x6e32b0(0xbac))['addEventListener']('click',handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x44cb14=_0x3db3a6,_0x513268=currentQuizData['questions'][localQuestionIndex],_0x4955cf=_0x513268[_0x44cb14(0x430)]||currentQuizData['quizType'];let _0x4fc0ed=null,_0x364fe9=![];if(_0x4955cf===_0x44cb14(0x358)||_0x4955cf===_0x44cb14(0x1c8)){const _0x11fafe=document[_0x44cb14(0x1a6)]('textarea[name=\x22team_answer\x22]');if(!_0x11fafe||!_0x11fafe[_0x44cb14(0xa89)][_0x44cb14(0xc29)]()){showMessage('กรุณาพิมพ์คำตอบของกลุ่ม');return;}_0x4fc0ed=_0x11fafe['value'][_0x44cb14(0xc29)](),_0x364fe9=await gradeShortAnswer(_0x4fc0ed,_0x513268);}else{const _0x3b8321=document[_0x44cb14(0x1a6)](_0x44cb14(0x33c));if(!_0x3b8321||_0x3b8321[_0x44cb14(0xa89)]===''){showMessage('กรุณาเลือกคำตอบของกลุ่ม');return;}_0x4fc0ed=_0x3b8321[_0x44cb14(0xa89)];switch(_0x4955cf){case _0x44cb14(0x50e):_0x364fe9=_0x4fc0ed==='true'===_0x513268[_0x44cb14(0xad1)];break;case _0x44cb14(0x1f4):_0x364fe9=_0x4fc0ed===_0x513268['correctResponse'];break;default:_0x364fe9=parseInt(_0x4fc0ed)===_0x513268[_0x44cb14(0x7ed)];break;}}const _0x12443d={'questionIndex':localQuestionIndex,'isCorrect':_0x364fe9},_0x9f4258=userId,_0x4ac5c8={[_0x44cb14(0x73d)+_0x9f4258+_0x44cb14(0x2e6)]:arrayUnion(_0x12443d)};_0x364fe9&&(_0x4ac5c8['groups.'+_0x9f4258+_0x44cb14(0x684)]=increment(0x1));try{await updateDoc(doc(db,_0x44cb14(0x981)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x4ac5c8),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x44cb14(0x13f)][_0x44cb14(0x110)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0xe87777){console[_0x44cb14(0xe4d)](_0x44cb14(0x3fa),_0xe87777),showMessage(_0x44cb14(0x51f));}}async function handleTeamAnswerSubmit(){const _0xa637ba=_0x3db3a6,_0x4ea254=await getDoc(doc(db,_0xa637ba(0x981)+appId+_0xa637ba(0x266),currentTeamQuizId));if(!_0x4ea254['exists']())return;const _0x35758e=_0x4ea254['data']();if(_0x35758e[_0xa637ba(0x93a)]===_0xa637ba(0xa56)){handleGroupAnswerSubmit();return;}const _0x319724=localTeamPlayers[localPlayerIndex],_0x1596db=currentQuizData['questions'][localQuestionIndex],_0x3bbf97=_0x1596db[_0xa637ba(0x430)]||currentQuizData[_0xa637ba(0x461)];let _0x26ade1=null,_0x41db3e=![];if(_0x3bbf97===_0xa637ba(0x358)||_0x3bbf97==='fill_in_no_choices'){const _0x3e43e5=document[_0xa637ba(0x1a6)](_0xa637ba(0x15e));if(!_0x3e43e5||!_0x3e43e5[_0xa637ba(0xa89)][_0xa637ba(0xc29)]()){showMessage(_0xa637ba(0xd23));return;}_0x26ade1=_0x3e43e5[_0xa637ba(0xa89)][_0xa637ba(0xc29)](),_0x41db3e=await gradeShortAnswer(_0x26ade1,_0x1596db);}else{const _0x4d3e39=document[_0xa637ba(0x1a6)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x4d3e39||_0x4d3e39[_0xa637ba(0xa89)]===''){showMessage(_0xa637ba(0xba));return;}_0x26ade1=_0x4d3e39['value'];switch(_0x3bbf97){case _0xa637ba(0x50e):_0x41db3e=_0x26ade1===_0xa637ba(0x503)===_0x1596db['correctAnswer'];break;case _0xa637ba(0x1f4):_0x41db3e=_0x26ade1===_0x1596db[_0xa637ba(0xdcc)];break;default:_0x41db3e=parseInt(_0x26ade1)===_0x1596db[_0xa637ba(0x7ed)];break;}}const _0x30a357={'questionIndex':localQuestionIndex,'isCorrect':_0x41db3e,'answerValue':_0x26ade1},_0x25a305={[_0xa637ba(0x427)+_0x319724+'.answers']:arrayUnion(_0x30a357)};_0x41db3e&&(_0x25a305[_0xa637ba(0x427)+_0x319724+'.score']=increment(0x1));try{await updateDoc(doc(db,_0xa637ba(0x981)+appId+_0xa637ba(0x266),currentTeamQuizId),_0x25a305),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0xa637ba(0x110)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x3646ea){console['error'](_0xa637ba(0x49e),_0x3646ea),showMessage(_0xa637ba(0x51f));}}async function displayTeamQuizFinalResults(){const _0x41d091=_0x3db3a6;studentQuizArea[_0x41d091(0x605)][_0x41d091(0xd74)](_0x41d091(0x9a0)),studentResultArea[_0x41d091(0x605)][_0x41d091(0x31b)](_0x41d091(0x9a0));const _0x20452b=doc(db,_0x41d091(0x981)+appId+_0x41d091(0x266),currentTeamQuizId),_0x2ff0f=await getDoc(_0x20452b);if(!_0x2ff0f['exists']()){studentResultArea[_0x41d091(0x545)]=_0x41d091(0xbf7);return;}const _0x35e57a=_0x2ff0f[_0x41d091(0x366)]();let _0x318906=[];const _0x568a9b=_0x35e57a['mode']||_0x41d091(0xd21);if(_0x568a9b==='group'){const _0x3d1fe8=_0x35e57a['groups'][userId];_0x3d1fe8?_0x318906=[{'name':_0x41d091(0x4f3)+localTeamPlayers[_0x41d091(0xd6e)](',\x20'),'score':_0x3d1fe8[_0x41d091(0x791)]||0x0}]:_0x318906=[{'name':'กลุ่มของคุณ','score':_0x41d091(0x88b)}];}else _0x318906=localTeamPlayers['map'](_0x420e41=>({'name':_0x420e41,'score':_0x35e57a[_0x41d091(0x37a)][_0x420e41]?.[_0x41d091(0x791)]||0x0}))[_0x41d091(0x667)]((_0x1a6539,_0x488c02)=>_0x488c02[_0x41d091(0x791)]-_0x1a6539['score']);studentResultArea[_0x41d091(0x545)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x318906['map'](_0x49f486=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+_0x49f486[_0x41d091(0x339)]+_0x41d091(0xa5a)+_0x49f486[_0x41d091(0x791)]+_0x41d091(0x17c))[_0x41d091(0xd6e)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage['removeItem'](_0x41d091(0xd4d)),currentMode===_0x41d091(0xa9)&&currentTeamQuizId&&setTimeout(()=>{const _0x460f62=_0x41d091;deleteDoc(doc(db,_0x460f62(0x981)+appId+_0x460f62(0x266),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':'grid'};const allMathTopics=[{'category':_0x3db3a6(0x847),'name':'การนับ'},{'category':_0x3db3a6(0x847),'name':_0x3db3a6(0x52b)},{'category':_0x3db3a6(0x847),'name':_0x3db3a6(0xce1)},{'category':_0x3db3a6(0x847),'name':_0x3db3a6(0x721)},{'category':_0x3db3a6(0x847),'name':_0x3db3a6(0xe3a)},{'category':_0x3db3a6(0x847),'name':_0x3db3a6(0x210)},{'category':_0x3db3a6(0x847),'name':_0x3db3a6(0xdbd)},{'category':_0x3db3a6(0x847),'name':'การหาร'},{'category':_0x3db3a6(0x847),'name':_0x3db3a6(0xb38)},{'category':_0x3db3a6(0x847),'name':_0x3db3a6(0x49c)},{'category':_0x3db3a6(0x847),'name':_0x3db3a6(0xc25)},{'category':'จำนวนและการดำเนินการ','name':_0x3db3a6(0x691)},{'category':_0x3db3a6(0x847),'name':_0x3db3a6(0x31f)},{'category':_0x3db3a6(0x847),'name':_0x3db3a6(0x8fd)},{'category':_0x3db3a6(0x847),'name':'ห.ร.ม.\x20(GCD)'},{'category':_0x3db3a6(0x847),'name':_0x3db3a6(0x54d)},{'category':_0x3db3a6(0x847),'name':_0x3db3a6(0x5fa)},{'category':_0x3db3a6(0x847),'name':'อัตราและอัตราหน่วย'},{'category':'จำนวนและการดำเนินการ','name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':_0x3db3a6(0x847),'name':_0x3db3a6(0x2d2)},{'category':_0x3db3a6(0x847),'name':_0x3db3a6(0xac7)},{'category':_0x3db3a6(0x847),'name':'การคูณเศษส่วน'},{'category':_0x3db3a6(0x847),'name':_0x3db3a6(0x24b)},{'category':_0x3db3a6(0x847),'name':_0x3db3a6(0xb2b)},{'category':_0x3db3a6(0x847),'name':'ทศนิยม\x20(ค่าประจำหลัก)'},{'category':_0x3db3a6(0x847),'name':_0x3db3a6(0x8e1)},{'category':_0x3db3a6(0x847),'name':'การลบทศนิยม'},{'category':_0x3db3a6(0x847),'name':'การคูณทศนิยม'},{'category':'จำนวนและการดำเนินการ','name':'การหารทศนิยม'},{'category':_0x3db3a6(0x847),'name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x3db3a6(0x847),'name':'ร้อยละพื้นฐาน'},{'category':'จำนวนและการดำเนินการ','name':_0x3db3a6(0xb45)},{'category':'จำนวนและการดำเนินการ','name':_0x3db3a6(0xa00)},{'category':_0x3db3a6(0x847),'name':_0x3db3a6(0x675)},{'category':_0x3db3a6(0x847),'name':_0x3db3a6(0x387)},{'category':_0x3db3a6(0x847),'name':_0x3db3a6(0x21f)},{'category':'จำนวนและการดำเนินการ','name':_0x3db3a6(0x491)},{'category':_0x3db3a6(0x1cb),'name':'หน่วยความยาวและการแปลง'},{'category':'การวัด','name':_0x3db3a6(0xd64)},{'category':_0x3db3a6(0x1cb),'name':'หน่วยเวลาและการคำนวณเวลา'},{'category':_0x3db3a6(0x1cb),'name':_0x3db3a6(0x639)},{'category':_0x3db3a6(0x1cb),'name':_0x3db3a6(0x833)},{'category':_0x3db3a6(0x1cb),'name':_0x3db3a6(0xdfb)},{'category':_0x3db3a6(0x1cb),'name':_0x3db3a6(0xaba)},{'category':_0x3db3a6(0x1cb),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x3db3a6(0x1cb),'name':_0x3db3a6(0x8b6)},{'category':'การวัด','name':_0x3db3a6(0xd9d)},{'category':'การวัด','name':_0x3db3a6(0xa18)},{'category':_0x3db3a6(0x1cb),'name':_0x3db3a6(0xe01)},{'category':_0x3db3a6(0x1cb),'name':_0x3db3a6(0xbb)},{'category':'การวัด','name':_0x3db3a6(0xa6e)},{'category':_0x3db3a6(0x86f),'name':'จุด\x20เส้น\x20ระนาบ'},{'category':_0x3db3a6(0x86f),'name':_0x3db3a6(0x251)},{'category':_0x3db3a6(0x86f),'name':_0x3db3a6(0x34c)},{'category':_0x3db3a6(0x86f),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x3db3a6(0x86f),'name':_0x3db3a6(0x252)},{'category':_0x3db3a6(0x86f),'name':_0x3db3a6(0x2f8)},{'category':_0x3db3a6(0x86f),'name':_0x3db3a6(0x279)},{'category':'เรขาคณิต','name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0x3db3a6(0x86f),'name':_0x3db3a6(0x5ea)},{'category':_0x3db3a6(0x86f),'name':_0x3db3a6(0xe22)},{'category':_0x3db3a6(0x86f),'name':_0x3db3a6(0x745)},{'category':_0x3db3a6(0x86f),'name':_0x3db3a6(0x6d4)},{'category':_0x3db3a6(0x86f),'name':'สมมาตร\x20(แกน/จุด)'},{'category':_0x3db3a6(0x86f),'name':_0x3db3a6(0x3c8)},{'category':_0x3db3a6(0x86f),'name':_0x3db3a6(0x5db)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3db3a6(0x947)},{'category':_0x3db3a6(0x556),'name':_0x3db3a6(0x7dd)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3db3a6(0xad4)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3db3a6(0x5ef)},{'category':_0x3db3a6(0x556),'name':_0x3db3a6(0xbcc)},{'category':_0x3db3a6(0x556),'name':_0x3db3a6(0xb15)},{'category':_0x3db3a6(0x556),'name':_0x3db3a6(0x74c)},{'category':_0x3db3a6(0x556),'name':_0x3db3a6(0x1b5)},{'category':_0x3db3a6(0x556),'name':'สมการค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3db3a6(0xddd)},{'category':_0x3db3a6(0x556),'name':'สมการราก\x20(radical)'},{'category':_0x3db3a6(0x556),'name':'สมการยกกำลัง'},{'category':_0x3db3a6(0x556),'name':_0x3db3a6(0x588)},{'category':_0x3db3a6(0x556),'name':_0x3db3a6(0x747)},{'category':_0x3db3a6(0x556),'name':_0x3db3a6(0x732)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3db3a6(0x18e)},{'category':_0x3db3a6(0x556),'name':_0x3db3a6(0xe0f)},{'category':_0x3db3a6(0x556),'name':_0x3db3a6(0x615)},{'category':_0x3db3a6(0x556),'name':'องค์ประกอบของฟังก์ชัน'},{'category':_0x3db3a6(0x556),'name':_0x3db3a6(0xabf)},{'category':_0x3db3a6(0x556),'name':_0x3db3a6(0xd85)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0x3db3a6(0x556),'name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0x3db3a6(0x556),'name':'ฟังก์ชันพหุนาม'},{'category':_0x3db3a6(0x556),'name':_0x3db3a6(0xc5e)},{'category':_0x3db3a6(0x556),'name':_0x3db3a6(0x719)},{'category':_0x3db3a6(0x556),'name':_0x3db3a6(0x4ac)},{'category':_0x3db3a6(0x556),'name':_0x3db3a6(0xb0d)},{'category':_0x3db3a6(0x556),'name':_0x3db3a6(0x11e)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x3db3a6(0x35f)},{'category':_0x3db3a6(0x556),'name':'ลำดับเลขคณิต\x20(AP)'},{'category':_0x3db3a6(0x556),'name':_0x3db3a6(0xdb)},{'category':_0x3db3a6(0x556),'name':_0x3db3a6(0x6be)},{'category':_0x3db3a6(0x556),'name':'ทฤษฎีทวินาม\x20(เบื้องต้น)'},{'category':_0x3db3a6(0x556),'name':_0x3db3a6(0x9d0)},{'category':_0x3db3a6(0x47a),'name':_0x3db3a6(0x2d4)},{'category':_0x3db3a6(0x47a),'name':'ความชันและเส้นตรง'},{'category':_0x3db3a6(0x47a),'name':_0x3db3a6(0xb39)},{'category':'เรขาคณิตวิเคราะห์','name':_0x3db3a6(0xdb6)},{'category':_0x3db3a6(0x47a),'name':_0x3db3a6(0x585)},{'category':_0x3db3a6(0x47a),'name':'วงกลม:\x20สมการและสมบัติ'},{'category':_0x3db3a6(0x47a),'name':_0x3db3a6(0xa7)},{'category':_0x3db3a6(0x47a),'name':_0x3db3a6(0x42e)},{'category':_0x3db3a6(0x47a),'name':_0x3db3a6(0x9cf)},{'category':_0x3db3a6(0xa50),'name':_0x3db3a6(0x903)},{'category':'ตรีโกณมิติ','name':_0x3db3a6(0x7a9)},{'category':_0x3db3a6(0xa50),'name':'มุมพิเศษ\x2045°-45°-90°'},{'category':_0x3db3a6(0xa50),'name':_0x3db3a6(0x312)},{'category':_0x3db3a6(0xa50),'name':_0x3db3a6(0x4a0)},{'category':_0x3db3a6(0xa50),'name':'กฎของโคไซน์'},{'category':'ตรีโกณมิติ','name':_0x3db3a6(0x9c8)},{'category':'ตรีโกณมิติ','name':_0x3db3a6(0x8f5)},{'category':_0x3db3a6(0xa50),'name':_0x3db3a6(0xc87)},{'category':_0x3db3a6(0xa50),'name':'กราฟฟังก์ชันตรีโกณ'},{'category':_0x3db3a6(0xa50),'name':_0x3db3a6(0xe40)},{'category':_0x3db3a6(0x2d1),'name':_0x3db3a6(0x92d)},{'category':_0x3db3a6(0x2d1),'name':_0x3db3a6(0x2a7)},{'category':'สถิติและความน่าจะเป็น','name':'ตารางความถี่'},{'category':'สถิติและความน่าจะเป็น','name':_0x3db3a6(0x234)},{'category':_0x3db3a6(0x2d1),'name':_0x3db3a6(0x125)},{'category':_0x3db3a6(0x2d1),'name':_0x3db3a6(0x5ff)},{'category':_0x3db3a6(0x2d1),'name':'ค่าเฉลี่ย'},{'category':'สถิติและความน่าจะเป็น','name':_0x3db3a6(0x82b)},{'category':_0x3db3a6(0x2d1),'name':'ฐานนิยม'},{'category':_0x3db3a6(0x2d1),'name':'พิสัย'},{'category':_0x3db3a6(0x2d1),'name':_0x3db3a6(0x5fd)},{'category':_0x3db3a6(0x2d1),'name':_0x3db3a6(0x687)},{'category':_0x3db3a6(0x2d1),'name':_0x3db3a6(0x473)},{'category':_0x3db3a6(0x2d1),'name':'การแจกแจงปกติและ\x20z-score'},{'category':'สถิติและความน่าจะเป็น','name':_0x3db3a6(0x4e7)},{'category':'สถิติและความน่าจะเป็น','name':_0x3db3a6(0xe39)},{'category':'สถิติและความน่าจะเป็น','name':_0x3db3a6(0x3e4)},{'category':'สถิติและความน่าจะเป็น','name':'แผนภาพเวนน์'},{'category':_0x3db3a6(0x2d1),'name':_0x3db3a6(0x7f3)},{'category':'สถิติและความน่าจะเป็น','name':_0x3db3a6(0xd0c)},{'category':_0x3db3a6(0x2d1),'name':_0x3db3a6(0x551)},{'category':_0x3db3a6(0x2d1),'name':_0x3db3a6(0xd52)},{'category':_0x3db3a6(0x2d1),'name':_0x3db3a6(0x5e9)},{'category':'สถิติและความน่าจะเป็น','name':_0x3db3a6(0xa23)},{'category':_0x3db3a6(0x597),'name':_0x3db3a6(0x4b7)},{'category':'แคลคูลัสเบื้องต้น','name':_0x3db3a6(0x85a)},{'category':_0x3db3a6(0x597),'name':_0x3db3a6(0xa8d)},{'category':_0x3db3a6(0x597),'name':'อนุพันธ์:\x20กฎลูกโซ่'},{'category':_0x3db3a6(0x597),'name':_0x3db3a6(0x924)},{'category':_0x3db3a6(0x597),'name':_0x3db3a6(0x71e)},{'category':_0x3db3a6(0x597),'name':_0x3db3a6(0x8d4)},{'category':_0x3db3a6(0x597),'name':_0x3db3a6(0x78e)},{'category':'แคลคูลัสเบื้องต้น','name':_0x3db3a6(0x655)},{'category':_0x3db3a6(0x597),'name':_0x3db3a6(0x4c1)},{'category':_0x3db3a6(0x597),'name':_0x3db3a6(0x506)},{'category':_0x3db3a6(0x597),'name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x3db3a6(0x597),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':_0x3db3a6(0xa6f),'name':'ดอทโปรดักต์\x20(dot)'},{'category':_0x3db3a6(0xa6f),'name':_0x3db3a6(0x34a)},{'category':_0x3db3a6(0xa6f),'name':_0x3db3a6(0x275)},{'category':_0x3db3a6(0xa6f),'name':_0x3db3a6(0x73e)},{'category':_0x3db3a6(0xa6f),'name':_0x3db3a6(0xb12)},{'category':_0x3db3a6(0xa6f),'name':_0x3db3a6(0x162)},{'category':_0x3db3a6(0x2b3),'name':'ดอกเบี้ยอย่างง่าย'},{'category':_0x3db3a6(0x2b3),'name':'ดอกเบี้ยทบต้น'},{'category':'คณิตการเงิน/บูรณาการ','name':_0x3db3a6(0x33e)},{'category':_0x3db3a6(0x2b3),'name':_0x3db3a6(0x98d)},{'category':_0x3db3a6(0x2b3),'name':_0x3db3a6(0x9b2)},{'category':_0x3db3a6(0x5b9),'name':_0x3db3a6(0xb63)},{'category':_0x3db3a6(0x5b9),'name':_0x3db3a6(0x448)},{'category':_0x3db3a6(0x5b9),'name':_0x3db3a6(0x878)}];function renderTopicCheckboxes(){const _0x512e97=_0x3db3a6,_0xf1d7fa=document[_0x512e97(0x283)](_0x512e97(0xe1d));if(!_0xf1d7fa)return;const _0x5b84b3=allMathTopics,_0x418398=customMathTopics['map'](_0x25b017=>({'id':_0x25b017['id'],'category':_0x512e97(0x929),'name':_0x25b017['name']})),_0x7bec0a=[..._0x5b84b3,..._0x418398],_0x50f325=_0x7bec0a[_0x512e97(0x53b)]((_0x66add9,_0x371ec9)=>{const _0xf2f0dd=_0x512e97;return!_0x66add9[_0x371ec9[_0xf2f0dd(0xca1)]]&&(_0x66add9[_0x371ec9[_0xf2f0dd(0xca1)]]=[]),_0x66add9[_0x371ec9[_0xf2f0dd(0xca1)]][_0xf2f0dd(0x827)](_0x371ec9),_0x66add9;},{});let _0x34d3b5='';const _0x1b309d=[_0x512e97(0x929),...Object['keys'](_0x50f325)[_0x512e97(0x1a1)](_0x3b6470=>_0x3b6470!==_0x512e97(0x929))];for(const _0x22168b of _0x1b309d){if(_0x50f325[_0x22168b]){const _0x3b403a=_0x22168b===_0x512e97(0x929),_0x1128ca=_0x3b403a?_0x512e97(0xcfe):'fas\x20fa-bookmark',_0x23aeeb=_0x3b403a?_0x512e97(0x8ae):_0x512e97(0x3e6);_0x34d3b5+=_0x512e97(0xb6),_0x34d3b5+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x23aeeb+_0x512e97(0xaa4)+_0x1128ca+'\x20mr-2\x22></i>'+_0x22168b+_0x512e97(0x74f),_0x50f325[_0x22168b][_0x512e97(0x277)](_0x3582ef=>{const _0x3e9d73=_0x512e97,_0x3fc5ec=!!_0x3582ef['id'],_0x40cfef=_0x3fc5ec?_0x3e9d73(0x95d)+_0x3582ef['id']+_0x3e9d73(0xaca)+_0x3582ef['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3582ef['id']+_0x3e9d73(0x858)+_0x3582ef['id']+_0x3e9d73(0xdbe):'';_0x34d3b5+=_0x3e9d73(0x2ef)+(_0x3582ef['id']||'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22'+_0x3582ef['name']+_0x3e9d73(0xd22)+_0x3582ef[_0x3e9d73(0x339)]+_0x3e9d73(0xa84)+(_0x3fc5ec?_0x3e9d73(0x250)+_0x3582ef[_0x3e9d73(0x339)]+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x40cfef+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x34d3b5+='</div>';}}_0xf1d7fa['innerHTML']=_0x34d3b5||_0x512e97(0x8bd),_0xf1d7fa[_0x512e97(0xe2c)](_0x512e97(0xbb6),updateSelectedTopicsCount),_0xf1d7fa[_0x512e97(0x844)]('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x3f3b8f,_0x36ab1c){const _0x340331=_0x3db3a6;if(!_0x3f3b8f||!_0x36ab1c['trim']()){showMessage(_0x340331(0x58a));return;}try{const _0x1eded8=doc(db,_0x340331(0x981)+appId+_0x340331(0xb3f),_0x3f3b8f);await updateDoc(_0x1eded8,{'name':_0x36ab1c[_0x340331(0xc29)]()}),showMessage(_0x340331(0xc38));}catch(_0x124f2c){console[_0x340331(0xe4d)](_0x340331(0x408),_0x124f2c),showMessage(_0x340331(0x829));}}function toggleTopicEditMode(_0x5335a5,_0x1b491d){const _0x448cb8=_0x3db3a6;if(!_0x5335a5)return;const _0x2317cd=_0x5335a5[_0x448cb8(0x1a6)](_0x448cb8(0x580)),_0x515a61=_0x5335a5['querySelector'](_0x448cb8(0x68c)),_0x18ec42=_0x5335a5[_0x448cb8(0x1a6)](_0x448cb8(0x6aa)),_0x4e1555=_0x5335a5[_0x448cb8(0x1a6)](_0x448cb8(0x9f1));_0x2317cd['classList'][_0x448cb8(0xc7c)]('hidden',_0x1b491d),_0x515a61[_0x448cb8(0x605)][_0x448cb8(0xc7c)]('hidden',!_0x1b491d),_0x18ec42[_0x448cb8(0x605)][_0x448cb8(0xc7c)](_0x448cb8(0x9a0),_0x1b491d),_0x4e1555[_0x448cb8(0x605)][_0x448cb8(0xc7c)]('hidden',!_0x1b491d),_0x1b491d&&(_0x515a61[_0x448cb8(0xccd)](),_0x515a61['select']());}async function handleStartLiveRace(_0x2ee30a){const _0x179c72=_0x3db3a6;let _0x58fc8d=allQuizzes[_0x179c72(0xe8)](_0x273161=>_0x273161['id']===_0x2ee30a);if(!_0x58fc8d){const _0x41b56e=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x2ee30a),_0x5bd7af=await getDoc(_0x41b56e);if(!_0x5bd7af['exists']()){showMessage(_0x179c72(0x393));return;}_0x58fc8d={'id':_0x5bd7af['id'],..._0x5bd7af[_0x179c72(0x366)]()};}const _0x9a67ec=getShuffledQuiz(_0x58fc8d);currentQuizData=_0x9a67ec;const _0x15d36=_0x58fc8d[_0x179c72(0x47e)]||currentProjectId||null,_0x2bfe38=Math[_0x179c72(0x7f6)](0x3e8+Math[_0x179c72(0x2cc)]()*0x2328)[_0x179c72(0x99d)]();currentLiveGamePin=_0x2bfe38;try{const _0x59d942=await addDoc(collection(db,_0x179c72(0x981)+appId+_0x179c72(0xb8)),{'quizId':_0x2ee30a,'projectId':_0x15d36,'status':_0x179c72(0xd8),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x2bfe38,'createdAt':serverTimestamp(),'shuffledQuiz':_0x9a67ec});currentLiveGameId=_0x59d942['id'],showAdminLobbyView(_0x2bfe38,_0x58fc8d[_0x179c72(0xe5f)]),listenForLiveGameUpdates();}catch(_0x8d273c){console[_0x179c72(0xe4d)](_0x179c72(0x441),_0x8d273c),showMessage(_0x179c72(0x514));}}function updateSelectedTopicsCount(){const _0x365618=_0x3db3a6,_0x38dd3c=document[_0x365618(0x283)](_0x365618(0xe1d)),_0xd8b5ff=_0x38dd3c[_0x365618(0x68a)](_0x365618(0x661))[_0x365618(0x110)],_0x2393a7=document[_0x365618(0x283)](_0x365618(0x5d7));_0xd8b5ff>0x0?_0x2393a7[_0x365618(0x1bd)]=_0x365618(0x502)+_0xd8b5ff+'\x20หัวข้อ)':_0x2393a7[_0x365618(0x1bd)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x3db3a6(0x2d6),quizLeaderboardSortOrder=_0x3db3a6(0x329),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,cancelAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],cachedOtherPlayersForQuestion=null,cachedQuestionIndexForPlayers=-0x1,currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,syncQuestionTimerInterval=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor='rgba(255,\x20255,\x200,\x200.5)',scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x3db3a6(0x733),scratchpadPenColor='#000000',scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x2914d3,_0x2cc141){const _0x14b27c=_0x3db3a6;return Math['sqrt'](Math[_0x14b27c(0x388)](_0x2914d3['x']-_0x2cc141['x'],0x2)+Math[_0x14b27c(0x388)](_0x2914d3['y']-_0x2cc141['y'],0x2));}function getMidpoint(_0x2dc708,_0x58a7c6){return{'x':(_0x2dc708['x']+_0x58a7c6['x'])/0x2,'y':(_0x2dc708['y']+_0x58a7c6['y'])/0x2};}function getTransformedPoint(_0x597195,_0x3d6ba8){return{'x':(_0x597195-scratchpadOffset['x'])/scratchpadScale,'y':(_0x3d6ba8-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x357b88=_0x3db3a6;if(!scratchpadCtx)return;const _0x42587b=scratchpadCtx['canvas'],_0x284934=window[_0x357b88(0x7f9)]||0x1,_0x26d807=document[_0x357b88(0x283)]('scratchpad-header');_0x26d807&&(_0x26d807['style'][_0x357b88(0x887)]=_0x357b88(0xad),_0x26d807[_0x357b88(0xbeb)][_0x357b88(0x3ed)]=_0x357b88(0x7d4)+scratchpadOffset['x']+_0x357b88(0x353)+scratchpadOffset['y']+_0x357b88(0xbf6)+scratchpadScale+')'),scratchpadCtx[_0x357b88(0x371)](),scratchpadCtx['setTransform'](_0x284934,0x0,0x0,_0x284934,0x0,0x0),scratchpadCtx['clearRect'](0x0,0x0,_0x42587b[_0x357b88(0x532)],_0x42587b['height']),scratchpadCtx['restore'](),scratchpadCtx['save'](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x357b88(0x59f)](scratchpadScale,scratchpadScale),strokes[_0x357b88(0x277)](_0xb66d3c=>{drawStroke(_0xb66d3c);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x357b88(0xa1b)]();}function renderGroupModeQuestion(){const _0x497bc5=_0x3db3a6;if(localQuestionIndex>=currentQuizData['questions'][_0x497bc5(0x110)]){displayTeamQuizFinalResults();return;}const _0x688334=currentQuizData[_0x497bc5(0x13f)][localQuestionIndex],_0x5db716=_0x688334['questionType']||currentQuizData[_0x497bc5(0x461)];let _0x378dfb=_0x688334['stem']||_0x688334[_0x497bc5(0xb0e)],_0x1c6415='';switch(_0x5db716){case _0x497bc5(0x6f2):case _0x497bc5(0x161):_0x1c6415=_0x688334[_0x497bc5(0xbed)][_0x497bc5(0x87e)]((_0x2e03de,_0x5482fc)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x5482fc+_0x497bc5(0x7d3)+_0x5482fc+_0x497bc5(0x9e3)+_0x5482fc+'\x22>'+_0x2e03de+_0x497bc5(0x85b))[_0x497bc5(0xd6e)]('');break;case _0x497bc5(0x50e):_0x1c6415=_0x497bc5(0x630);break;case _0x497bc5(0x358):case _0x497bc5(0x1c8):_0x1c6415=_0x497bc5(0x27d);break;case _0x497bc5(0x1f4):_0x1c6415=_0x497bc5(0x70a)+_0x688334[_0x497bc5(0x17b)][_0x497bc5(0x87e)](_0x49f9db=>_0x497bc5(0x4cc)+_0x49f9db+'\x22>'+_0x49f9db+_0x497bc5(0xc4e))['join']('')+_0x497bc5(0x180);break;default:_0x1c6415=_0x497bc5(0xd3c);break;}studentQuizArea[_0x497bc5(0x545)]=_0x497bc5(0x9c3)+(localQuestionIndex+0x1)+_0x497bc5(0x9a6)+currentQuizData[_0x497bc5(0x13f)]['length']+_0x497bc5(0x4e1)+localTeamPlayers[_0x497bc5(0xd6e)](',\x20')+_0x497bc5(0xd29)+(localQuestionIndex+0x1)+'.\x20'+_0x378dfb+_0x497bc5(0x819)+(_0x688334[_0x497bc5(0xc8b)]?_0x497bc5(0x18f)+_0x688334['imageCode']+'</div>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x1c6415+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x497bc5(0x605)][_0x497bc5(0x31b)]('hidden');if(window[_0x497bc5(0x4d4)])MathJax['typesetPromise']([studentQuizArea]);document[_0x497bc5(0x283)]('submit-group-answer-btn')[_0x497bc5(0x844)]('click',handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x440728,_0x9990b0=null,_0x37e971,_0x398c4a=null,_0x29d48a=![],_0x2150b9=null){const _0x590204=_0x3db3a6,_0x3b625d=document[_0x590204(0x283)](_0x590204(0x1a0));_0x3b625d&&_0x3b625d['scrollIntoView']({'behavior':_0x590204(0xa77),'block':_0x590204(0x9d)}),generateQuiz(_0x440728,_0x9990b0,null,_0x2150b9,!![],_0x37e971,_0x398c4a,_0x29d48a);}function handleGenerateAndShowLesson(_0x1f4404,_0x12a19a){const _0x1af851=_0x3db3a6,_0x3e75ee=document[_0x1af851(0x283)]('lesson-view-modal'),_0x36bd05=document[_0x1af851(0x283)](_0x1af851(0x778)),_0x4300a2=document[_0x1af851(0x283)](_0x1af851(0x8e9)),_0x3ee742=document['getElementById'](_0x1af851(0xe17));[_0x1af851(0x104),_0x1af851(0x58b),'applicationContent','summaryContent'][_0x1af851(0x277)](_0x1c0fb8=>{const _0x360194=_0x1af851,_0x9c42fc=document[_0x360194(0x283)](_0x1c0fb8)[_0x360194(0x6a9)];_0x9c42fc&&(_0x9c42fc[_0x360194(0xbeb)]['display']='block');}),_0x36bd05[_0x1af851(0x1bd)]=_0x1af851(0xc44)+_0x1f4404,_0x3ee742[_0x1af851(0x605)]['add']('hidden'),_0x4300a2[_0x1af851(0x605)][_0x1af851(0x31b)](_0x1af851(0x9a0)),_0x3e75ee[_0x1af851(0x605)][_0x1af851(0x31b)](_0x1af851(0x9a0)),generateLesson(_0x1f4404,_0x12a19a)[_0x1af851(0xc1e)](_0x2d1f96=>{const _0x2dbc2a=_0x1af851;console['error'](_0x2dbc2a(0xcc),_0x2d1f96),showMessage('ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้'),_0x3e75ee[_0x2dbc2a(0x605)][_0x2dbc2a(0xd74)](_0x2dbc2a(0x9a0));});}function handlePointerDown(_0x58648e){const _0x16ad9e=_0x3db3a6;_0x58648e['preventDefault']();const _0x4595ec=scratchpadCtx['canvas'],_0x2efb6d=_0x4595ec[_0x16ad9e(0xd3b)](),_0x4b776e=_0x58648e['pointerType']||(_0x58648e[_0x16ad9e(0xe36)]?_0x16ad9e(0xafa):_0x16ad9e(0x93f));if(_0x4b776e===_0x16ad9e(0x733)||_0x4b776e===_0x16ad9e(0x93f)){if(_0x58648e[_0x16ad9e(0x221)]==='mouse'&&_0x58648e[_0x16ad9e(0x397)]!==0x0){_0x58648e[_0x16ad9e(0x397)]===0x1&&(isMousePanning=!![],panStart={'x':_0x58648e['clientX'],'y':_0x58648e[_0x16ad9e(0x679)]},_0x4595ec[_0x16ad9e(0xbeb)][_0x16ad9e(0x1a8)]='grabbing');return;}activeTool==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x226298=getTransformedPoint(_0x58648e[_0x16ad9e(0x5c8)]-_0x2efb6d[_0x16ad9e(0x976)],_0x58648e[_0x16ad9e(0x679)]-_0x2efb6d[_0x16ad9e(0x159)]);let _0xe4405f={'tool':activeTool,'points':[_0x226298]};if(activeTool===_0x16ad9e(0x733))_0xe4405f[_0x16ad9e(0x6b1)]=scratchpadPenColor,_0xe4405f[_0x16ad9e(0xa45)]=scratchpadPenSize;else{if(activeTool===_0x16ad9e(0xc0e))_0xe4405f[_0x16ad9e(0x6b1)]=scratchpadPenColor,_0xe4405f[_0x16ad9e(0xa45)]=scratchpadEraserSize;else{if(activeTool==='highlighter')_0xe4405f[_0x16ad9e(0x6b1)]=scratchpadHighlighterColor,_0xe4405f['size']=scratchpadHighlighterSize;else activeTool===_0x16ad9e(0xa6)&&(_0xe4405f['color']=scratchpadPenColor,_0xe4405f[_0x16ad9e(0xa45)]=scratchpadPenSize);}}currentStroke=_0xe4405f;}else _0x58648e[_0x16ad9e(0xe36)]&&(_0x58648e['touches'][_0x16ad9e(0x110)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x58648e[_0x16ad9e(0xe36)][0x0][_0x16ad9e(0x5c8)],'y':_0x58648e['touches'][0x0]['clientY']},{'x':_0x58648e['touches'][0x1][_0x16ad9e(0x5c8)],'y':_0x58648e['touches'][0x1][_0x16ad9e(0x679)]}),initialPinchDistance=getDistance({'x':_0x58648e[_0x16ad9e(0xe36)][0x0][_0x16ad9e(0x5c8)],'y':_0x58648e[_0x16ad9e(0xe36)][0x0][_0x16ad9e(0x679)]},{'x':_0x58648e['touches'][0x1]['clientX'],'y':_0x58648e[_0x16ad9e(0xe36)][0x1][_0x16ad9e(0x679)]})));}function animateTrail(){const _0x267427=_0x3db3a6,_0x46b06a=Date[_0x267427(0x9e4)]();let _0x4a0eba=![];for(let _0x343724=strokes[_0x267427(0x110)]-0x1;_0x343724>=0x0;_0x343724--){const _0x19c73a=strokes[_0x343724];if(_0x19c73a[_0x267427(0xc7b)]===_0x267427(0xa6)&&_0x19c73a[_0x267427(0xbf5)]){const _0xde5298=_0x46b06a-_0x19c73a['fadeStartTime'];_0xde5298>=TRAIL_DURATION?strokes[_0x267427(0x127)](_0x343724,0x1):(_0x19c73a[_0x267427(0x5ed)]=0x1-_0xde5298/TRAIL_DURATION,_0x4a0eba=!![]);}}redrawScratchpad(),_0x4a0eba?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x41dc58){const _0x3551f4=_0x3db3a6;if(!_0x41dc58||_0x41dc58[_0x3551f4(0x685)]['length']<0x1)return;scratchpadCtx['save'](),scratchpadCtx[_0x3551f4(0x2fb)]=_0x3551f4(0x86c),scratchpadCtx[_0x3551f4(0x7e8)]='round';if(_0x41dc58[_0x3551f4(0xc7b)]===_0x3551f4(0xa6)){const _0x16b422=_0x41dc58[_0x3551f4(0xa45)]/scratchpadScale;scratchpadCtx[_0x3551f4(0xcc5)]=_0x41dc58[_0x3551f4(0x5ed)]??0x1,scratchpadCtx[_0x3551f4(0x94d)]='rgba(239,\x2068,\x2068,\x200.9)',scratchpadCtx[_0x3551f4(0x751)]=_0x16b422*0x3,scratchpadCtx[_0x3551f4(0x56a)]=_0x3551f4(0xcca),scratchpadCtx['lineWidth']=_0x16b422*2.5,scratchpadCtx[_0x3551f4(0x77a)](),scratchpadCtx[_0x3551f4(0xe27)](_0x41dc58[_0x3551f4(0x685)][0x0]['x'],_0x41dc58[_0x3551f4(0x685)][0x0]['y']);for(let _0x39eb77=0x1;_0x39eb77<_0x41dc58[_0x3551f4(0x685)][_0x3551f4(0x110)]-0x1;_0x39eb77++){const _0x350436=getMidpoint(_0x41dc58[_0x3551f4(0x685)][_0x39eb77],_0x41dc58[_0x3551f4(0x685)][_0x39eb77+0x1]);scratchpadCtx[_0x3551f4(0xe29)](_0x41dc58[_0x3551f4(0x685)][_0x39eb77]['x'],_0x41dc58[_0x3551f4(0x685)][_0x39eb77]['y'],_0x350436['x'],_0x350436['y']);}scratchpadCtx['stroke'](),scratchpadCtx['shadowColor']=_0x3551f4(0xce4),scratchpadCtx[_0x3551f4(0x751)]=0x0,scratchpadCtx[_0x3551f4(0x56a)]=_0x3551f4(0xe13),scratchpadCtx['lineWidth']=_0x16b422,scratchpadCtx[_0x3551f4(0x1a3)](),scratchpadCtx['closePath']();}else{if(_0x41dc58[_0x3551f4(0xc7b)]===_0x3551f4(0x4aa)){scratchpadCtx[_0x3551f4(0x9f4)]=_0x3551f4(0xac4),scratchpadCtx[_0x3551f4(0x56a)]=_0x41dc58[_0x3551f4(0x6b1)],scratchpadCtx[_0x3551f4(0x410)]=_0x41dc58[_0x3551f4(0xa45)],scratchpadCtx[_0x3551f4(0x77a)](),scratchpadCtx[_0x3551f4(0xe27)](_0x41dc58[_0x3551f4(0x685)][0x0]['x'],_0x41dc58[_0x3551f4(0x685)][0x0]['y']);for(let _0x94025b=0x1;_0x94025b<_0x41dc58['points'][_0x3551f4(0x110)]-0x1;_0x94025b++){const _0xb9137f=getMidpoint(_0x41dc58[_0x3551f4(0x685)][_0x94025b],_0x41dc58['points'][_0x94025b+0x1]);scratchpadCtx[_0x3551f4(0xe29)](_0x41dc58[_0x3551f4(0x685)][_0x94025b]['x'],_0x41dc58[_0x3551f4(0x685)][_0x94025b]['y'],_0xb9137f['x'],_0xb9137f['y']);}scratchpadCtx[_0x3551f4(0x1a3)](),scratchpadCtx['closePath']();}else{scratchpadCtx['globalCompositeOperation']=_0x41dc58[_0x3551f4(0xc7b)]===_0x3551f4(0xc0e)?_0x3551f4(0xe2f):'source-over',scratchpadCtx[_0x3551f4(0x56a)]=_0x41dc58[_0x3551f4(0x6b1)],scratchpadCtx['lineWidth']=_0x41dc58['size'],scratchpadCtx[_0x3551f4(0x77a)](),scratchpadCtx[_0x3551f4(0xe27)](_0x41dc58['points'][0x0]['x'],_0x41dc58['points'][0x0]['y']);for(let _0x285c16=0x1;_0x285c16<_0x41dc58['points'][_0x3551f4(0x110)]-0x1;_0x285c16++){const _0x55cd6d=getMidpoint(_0x41dc58[_0x3551f4(0x685)][_0x285c16],_0x41dc58[_0x3551f4(0x685)][_0x285c16+0x1]);scratchpadCtx[_0x3551f4(0xe29)](_0x41dc58['points'][_0x285c16]['x'],_0x41dc58[_0x3551f4(0x685)][_0x285c16]['y'],_0x55cd6d['x'],_0x55cd6d['y']);}scratchpadCtx[_0x3551f4(0x1a3)](),scratchpadCtx['closePath']();}}scratchpadCtx[_0x3551f4(0xa1b)]();}function handlePointerMove(_0x500592){const _0x524ffa=_0x3db3a6;_0x500592['preventDefault']();const _0x48270a=scratchpadCtx[_0x524ffa(0x688)],_0x4e9ece=_0x48270a[_0x524ffa(0xd3b)]();if(_0x500592[_0x524ffa(0xe36)]){if(_0x500592[_0x524ffa(0xe36)][_0x524ffa(0x110)]===0x1&&isDrawingOnScratchpad){const _0x34ba8e=getTransformedPoint(_0x500592[_0x524ffa(0xe36)][0x0][_0x524ffa(0x5c8)]-_0x4e9ece[_0x524ffa(0x976)],_0x500592[_0x524ffa(0xe36)][0x0]['clientY']-_0x4e9ece[_0x524ffa(0x159)]);currentStroke[_0x524ffa(0x685)][_0x524ffa(0x827)](_0x34ba8e),redrawScratchpad();}else{if(_0x500592[_0x524ffa(0xe36)][_0x524ffa(0x110)]===0x2&&isPanning){const _0x4b9637=getDistance({'x':_0x500592[_0x524ffa(0xe36)][0x0][_0x524ffa(0x5c8)],'y':_0x500592[_0x524ffa(0xe36)][0x0]['clientY']},{'x':_0x500592[_0x524ffa(0xe36)][0x1]['clientX'],'y':_0x500592[_0x524ffa(0xe36)][0x1][_0x524ffa(0x679)]}),_0x2a41b2=getMidpoint({'x':_0x500592['touches'][0x0][_0x524ffa(0x5c8)],'y':_0x500592[_0x524ffa(0xe36)][0x0][_0x524ffa(0x679)]},{'x':_0x500592[_0x524ffa(0xe36)][0x1][_0x524ffa(0x5c8)],'y':_0x500592[_0x524ffa(0xe36)][0x1][_0x524ffa(0x679)]}),_0x316866=_0x4b9637/ initialPinchDistance,_0x190eec=Math['min'](Math['max'](scratchpadScale*_0x316866,MIN_SCALE),MAX_SCALE),_0x506388=_0x2a41b2['x']-panStart['x'],_0xbc2253=_0x2a41b2['y']-panStart['y'];scratchpadOffset['x']=_0x2a41b2['x']-(_0x2a41b2['x']-scratchpadOffset['x'])*(_0x190eec/scratchpadScale),scratchpadOffset['y']=_0x2a41b2['y']-(_0x2a41b2['y']-scratchpadOffset['y'])*(_0x190eec/scratchpadScale),scratchpadOffset['x']+=_0x506388,scratchpadOffset['y']+=_0xbc2253,scratchpadScale=_0x190eec,initialPinchDistance=_0x4b9637,panStart=_0x2a41b2,redrawScratchpad();}}}else{if(isMousePanning){const _0x2875ee=_0x500592[_0x524ffa(0x5c8)]-panStart['x'],_0x185999=_0x500592['clientY']-panStart['y'];scratchpadOffset['x']+=_0x2875ee,scratchpadOffset['y']+=_0x185999,panStart={'x':_0x500592['clientX'],'y':_0x500592[_0x524ffa(0x679)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x2e9440=getTransformedPoint(_0x500592[_0x524ffa(0x5c8)]-_0x4e9ece['left'],_0x500592[_0x524ffa(0x679)]-_0x4e9ece[_0x524ffa(0x159)]);currentStroke[_0x524ffa(0x685)]['push'](_0x2e9440),redrawScratchpad();}}}}function handlePointerUp(_0x29eba1){const _0x152266=_0x3db3a6;_0x29eba1[_0x152266(0xde6)]();const _0x5c8b58=scratchpadCtx[_0x152266(0x688)];isMousePanning&&(isMousePanning=![],_0x5c8b58[_0x152266(0xbeb)][_0x152266(0x1a8)]=_0x152266(0x6cc)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x152266(0x685)][_0x152266(0x110)]>0x1&&(strokes['push'](currentStroke),currentStroke[_0x152266(0xc7b)]==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0xd4b0fb=_0x152266,_0x5ab250=strokes[_0xd4b0fb(0x1a1)](_0x14c103=>_0x14c103[_0xd4b0fb(0xc7b)]===_0xd4b0fb(0xa6)&&!_0x14c103['fadeStartTime']);if(_0x5ab250[_0xd4b0fb(0x110)]>0x0){const _0x3c22d3=Date[_0xd4b0fb(0x9e4)]();_0x5ab250[_0xd4b0fb(0x277)](_0x5287d1=>_0x5287d1['fadeStartTime']=_0x3c22d3),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x3cba38){const _0x2c741b=_0x3db3a6;_0x3cba38[_0x2c741b(0xde6)]();const _0x1bf55c=_0x3cba38[_0x2c741b(0xaaa)]*-0.005,_0x211e05=Math[_0x2c741b(0xcc7)](Math[_0x2c741b(0x8c3)](scratchpadScale+_0x1bf55c,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x3cba38[_0x2c741b(0x5c8)]-(_0x3cba38[_0x2c741b(0x5c8)]-scratchpadOffset['x'])*(_0x211e05/scratchpadScale),scratchpadOffset['y']=_0x3cba38['clientY']-(_0x3cba38[_0x2c741b(0x679)]-scratchpadOffset['y'])*(_0x211e05/scratchpadScale),scratchpadScale=_0x211e05,redrawScratchpad();}function undo(){const _0x1435fb=_0x3db3a6;strokes[_0x1435fb(0x110)]>0x0&&(redoStrokes[_0x1435fb(0x827)](strokes[_0x1435fb(0x965)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x298676=_0x3db3a6;redoStrokes[_0x298676(0x110)]>0x0&&(strokes[_0x298676(0x827)](redoStrokes[_0x298676(0x965)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x57416b=_0x3db3a6;document[_0x57416b(0x283)]('undo-btn')['disabled']=strokes[_0x57416b(0x110)]===0x0,document[_0x57416b(0x283)](_0x57416b(0xa64))[_0x57416b(0xc71)]=redoStrokes[_0x57416b(0x110)]===0x0;}function openScratchpad(_0x4df548,_0x24aa36){const _0x47f497=_0x3db3a6,_0x2ff771=document[_0x47f497(0x283)]('scratchpad-modal'),_0x339e6f=document[_0x47f497(0x283)](_0x47f497(0x94f)),_0x716a68=document[_0x47f497(0x283)](_0x47f497(0xd38)),_0x2159d9=document['getElementById']('scratchpad-controls');_0x339e6f['innerHTML']=_0x4df548['stem']||_0x4df548['questionText'],_0x716a68['innerHTML']=_0x24aa36['map']((_0x4b5ffd,_0x42ab8b)=>'<div>'+String['fromCharCode'](0x41+_0x42ab8b)+'.\x20'+_0x4b5ffd+'</div>')[_0x47f497(0xd6e)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x2ff771[_0x47f497(0x605)][_0x47f497(0x31b)](_0x47f497(0x9a0)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x47f497(0x4d4)])MathJax[_0x47f497(0x130)]([_0x339e6f,_0x716a68]);}function openBlueprintQuizSettings(){const _0xa0c434=_0x3db3a6,_0x243082=document[_0xa0c434(0x283)](_0xa0c434(0xb4e)),_0x2eea60=blueprintPageSettings||(currentProjectData?currentProjectData['settings']:{})||{};document['getElementById'](_0xa0c434(0xcaf))[_0xa0c434(0xa89)]=_0x2eea60[_0xa0c434(0x461)]||document[_0xa0c434(0x283)](_0xa0c434(0x801))[_0xa0c434(0xa89)],document[_0xa0c434(0x283)]('bp-modal-difficulty-level-select')[_0xa0c434(0x545)]=document[_0xa0c434(0x283)](_0xa0c434(0xc58))[_0xa0c434(0x545)],document[_0xa0c434(0x283)](_0xa0c434(0xe53))[_0xa0c434(0xa89)]=_0x2eea60['difficultyValue']||document['getElementById']('difficulty-level-select')[_0xa0c434(0xa89)],document[_0xa0c434(0x283)](_0xa0c434(0x821))[_0xa0c434(0x545)]=document[_0xa0c434(0x283)](_0xa0c434(0xc3b))[_0xa0c434(0x545)],document[_0xa0c434(0x283)](_0xa0c434(0x821))[_0xa0c434(0xa89)]=_0x2eea60[_0xa0c434(0x1f5)]||document[_0xa0c434(0x283)]('question-complexity-select')['value'],document[_0xa0c434(0x283)](_0xa0c434(0xa3e))[_0xa0c434(0xa89)]=_0x2eea60[_0xa0c434(0xd67)]||document[_0xa0c434(0x283)](_0xa0c434(0x92c))[_0xa0c434(0xa89)],document[_0xa0c434(0x283)](_0xa0c434(0xe0c))[_0xa0c434(0xa89)]=_0x2eea60[_0xa0c434(0xe44)]||document['getElementById']('passing-score-input')[_0xa0c434(0xa89)],document[_0xa0c434(0x283)](_0xa0c434(0x97c))[_0xa0c434(0xa89)]=_0x2eea60[_0xa0c434(0xa9a)]||document[_0xa0c434(0x283)](_0xa0c434(0xb4d))[_0xa0c434(0xa89)],document[_0xa0c434(0x283)](_0xa0c434(0xbb9))[_0xa0c434(0xa89)]=_0x2eea60[_0xa0c434(0xd4)]||document[_0xa0c434(0x283)](_0xa0c434(0x6e0))['value'],document[_0xa0c434(0x283)](_0xa0c434(0x55f))['checked']=_0x2eea60[_0xa0c434(0xbcb)]||document[_0xa0c434(0x283)](_0xa0c434(0x305))[_0xa0c434(0x61b)],_0x243082[_0xa0c434(0x605)]['remove']('hidden');}function handleSaveBlueprintPageSettings(){const _0x58a08c=_0x3db3a6;blueprintPageSettings={'quizType':document['getElementById']('bp-modal-quiz-type-select')[_0x58a08c(0xa89)],'difficultyValue':document[_0x58a08c(0x283)](_0x58a08c(0xe53))[_0x58a08c(0xa89)],'complexityValue':document[_0x58a08c(0x283)](_0x58a08c(0x821))[_0x58a08c(0xa89)],'numQuestions':document[_0x58a08c(0x283)](_0x58a08c(0xa3e))[_0x58a08c(0xa89)],'passingScore':document[_0x58a08c(0x283)]('bp-modal-passing-score-input')['value'],'numChoices':document[_0x58a08c(0x283)](_0x58a08c(0x97c))[_0x58a08c(0xa89)],'shuffle':document[_0x58a08c(0x283)]('bp-modal-shuffle-setting-select')[_0x58a08c(0xa89)],'includeImages':document[_0x58a08c(0x283)](_0x58a08c(0x55f))[_0x58a08c(0x61b)]},showMessage(_0x58a08c(0x913)),document[_0x58a08c(0x283)](_0x58a08c(0xb4e))['classList'][_0x58a08c(0xd74)](_0x58a08c(0x9a0));}function listenForParallelTestShortcuts(){const _0x4c67fd=_0x3db3a6,_0x3da381=doc(db,_0x4c67fd(0x2c2),_0x4c67fd(0x469));onSnapshot(_0x3da381,_0x15c81b=>{const _0x538eb0=_0x4c67fd;let _0x5dadb4=[],_0x1b6873=[],_0x3aa515={};if(_0x15c81b[_0x538eb0(0xaed)]()){const _0x424e0f=_0x15c81b[_0x538eb0(0x366)]();_0x5dadb4=_0x424e0f[_0x538eb0(0x5f4)]||[],_0x1b6873=_0x424e0f[_0x538eb0(0x20f)]||[],_0x3aa515=_0x424e0f['parallelShortcutOrder']||{};}!_0x1b6873[_0x538eb0(0xe8)](_0x5d6832=>_0x5d6832['id']===_0x538eb0(0xd1a))&&_0x1b6873[_0x538eb0(0x33a)]({'id':_0x538eb0(0xd1a),'name':_0x538eb0(0xaf3),'isDefault':!![]}),!_0x5dadb4[_0x538eb0(0xe8)](_0x65c2f2=>_0x65c2f2['id']===_0x538eb0(0x170))&&_0x5dadb4[_0x538eb0(0x33a)]({'id':_0x538eb0(0x170),'name':_0x538eb0(0x820),'url':'','isDefault':!![]}),!_0x5dadb4[_0x538eb0(0xe8)](_0x13057d=>_0x13057d['id']===_0x538eb0(0x2fe))&&_0x5dadb4[_0x538eb0(0x33a)]({'id':_0x538eb0(0x2fe),'name':_0x538eb0(0x2a3),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x5dadb4,parallelShortcutTabs=_0x1b6873,parallelShortcutOrder=_0x3aa515,renderParallelTestShortcuts(),!document[_0x538eb0(0x283)](_0x538eb0(0xb85))[_0x538eb0(0x605)][_0x538eb0(0x5a0)](_0x538eb0(0x9a0))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x432f71=_0x3db3a6,_0x373a7c=doc(db,_0x432f71(0x2c2),_0x432f71(0x469));try{await setDoc(_0x373a7c,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x159968){console[_0x432f71(0xe4d)](_0x432f71(0xc27),_0x159968);}}function renderAdditionalParallelShortcutsModal(){const _0xa35c95=_0x3db3a6,_0x1ceb5c=document[_0xa35c95(0x283)](_0xa35c95(0xa34)),_0x2a7d3f=document[_0xa35c95(0x283)](_0xa35c95(0x3bf));if(!_0x1ceb5c||!_0x2a7d3f)return;_0x1ceb5c[_0xa35c95(0x545)]=parallelShortcutTabs[_0xa35c95(0x87e)](_0x38c8c1=>{const _0x2238df=_0xa35c95,_0x2ca316=_0x38c8c1['id']===activeParallelShortcutTabId;return _0x2238df(0xbaa)+_0x38c8c1['id']+'\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x2ca316?_0x2238df(0x803):_0x2238df(0xb75))+_0x2238df(0xcdc)+_0x38c8c1[_0x2238df(0x339)]+_0x2238df(0xe3d)+_0x38c8c1[_0x2238df(0x339)]+_0x2238df(0x98b)+(!_0x38c8c1[_0x2238df(0x36e)]?_0x2238df(0xa5c)+_0x38c8c1['id']+_0x2238df(0x4ad):'')+_0x2238df(0x5f8);})['join']('');const _0x1be9f9=parallelShortcutTabs[_0xa35c95(0xe8)](_0x4bf8a9=>_0x4bf8a9['id']===activeParallelShortcutTabId);let _0x102b46=_0x1be9f9?.[_0xa35c95(0x36e)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0xa35c95(0x1a1)](_0x1d910a=>(_0x1be9f9?.[_0xa35c95(0x6c3)]||[])['includes'](_0x1d910a['id']));const _0x34136c=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x102b46['sort']((_0x12b3e5,_0x2e8e2b)=>{const _0x356fde=_0xa35c95,_0x17351d=_0x34136c[_0x356fde(0x52f)](_0x12b3e5['id']),_0x205725=_0x34136c[_0x356fde(0x52f)](_0x2e8e2b['id']);return(_0x17351d===-0x1?Infinity:_0x17351d)-(_0x205725===-0x1?Infinity:_0x205725);}),_0x2a7d3f[_0xa35c95(0x545)]=_0x102b46[_0xa35c95(0x87e)](_0x4c4e8c=>{const _0x5b2160=_0xa35c95,_0x1d3d8d=_0x4c4e8c[_0x5b2160(0xd87)]?'🔁':'🔗',_0x29ba75=parallelShortcutTabs[_0x5b2160(0x1a1)](_0x288f89=>!_0x288f89[_0x5b2160(0x36e)]),_0x398226=_0x1be9f9['isDefault']&&_0x29ba75['length']>0x0?_0x5b2160(0xdf8)+_0x29ba75['map'](_0x36150b=>_0x5b2160(0x4e9)+_0x4c4e8c['id']+_0x5b2160(0xa68)+_0x36150b['id']+'\x22>'+_0x36150b[_0x5b2160(0x339)]+'</a>')[_0x5b2160(0xd6e)]('')+_0x5b2160(0x215):'';return _0x5b2160(0x694)+_0x4c4e8c['id']+_0x5b2160(0x414)+_0x1d3d8d+'\x20'+_0x4c4e8c[_0x5b2160(0x339)]+_0x5b2160(0x247)+_0x4c4e8c['id']+_0x5b2160(0xdec)+_0x4c4e8c['id']+_0x5b2160(0x794)+(!_0x4c4e8c['isDefault']?_0x5b2160(0xa22)+_0x4c4e8c['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x1be9f9['isDefault']?_0x5b2160(0x2e7)+_0x4c4e8c['id']+_0x5b2160(0x163):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x398226+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})['join']('')||_0xa35c95(0x664),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x4d572e=_0x3db3a6;document[_0x4d572e(0x68a)](_0x4d572e(0xc1b))['forEach'](_0x4b87a9=>{const _0x39a262=_0x4d572e;_0x4b87a9['onclick']=_0x354df0=>{const _0x385945=_0x5ca2;activeParallelShortcutTabId=_0x354df0[_0x385945(0x4c4)][_0x385945(0x845)][_0x385945(0x11f)],renderAdditionalParallelShortcutsModal();},_0x4b87a9[_0x39a262(0x232)]=_0x2d1d0f=>{const _0x12bcec=_0x39a262,_0xe6a5c9=_0x2d1d0f['currentTarget'][_0x12bcec(0x1a6)](_0x12bcec(0x7f0));_0x2d1d0f['currentTarget'][_0x12bcec(0x1a6)](_0x12bcec(0x29d))['classList']['add'](_0x12bcec(0x9a0)),_0xe6a5c9[_0x12bcec(0x605)][_0x12bcec(0x31b)](_0x12bcec(0x9a0)),_0xe6a5c9['focus'](),_0xe6a5c9[_0x12bcec(0x7f7)]();};}),document['querySelectorAll'](_0x4d572e(0x1e4))[_0x4d572e(0x277)](_0x2d0002=>{const _0x5b9bbb=_0x4d572e,_0x28c24f=()=>{const _0x326cd9=_0x5ca2,_0xd5eda=_0x2d0002[_0x326cd9(0x455)](_0x326cd9(0xc1b))['dataset'][_0x326cd9(0x11f)],_0x3c94b4=parallelShortcutTabs['find'](_0x2ceb83=>_0x2ceb83['id']===_0xd5eda);_0x3c94b4&&(_0x3c94b4[_0x326cd9(0x339)]=_0x2d0002[_0x326cd9(0xa89)]['trim']()||_0x3c94b4['name'],saveParallelShortcutConfig());};_0x2d0002[_0x5b9bbb(0x3fc)]=_0x28c24f,_0x2d0002[_0x5b9bbb(0x3bc)]=_0x14e10c=>{const _0x6b5f61=_0x5b9bbb;if(_0x14e10c[_0x6b5f61(0x94e)]==='Enter')_0x2d0002['blur']();};}),document[_0x4d572e(0x68a)](_0x4d572e(0xc7d))[_0x4d572e(0x277)](_0x4bc106=>_0x4bc106[_0x4d572e(0x74a)]=_0x496109=>{const _0x365845=_0x4d572e,_0x12d922=_0x496109[_0x365845(0x4c4)][_0x365845(0x845)][_0x365845(0x11f)];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0x2ef6aa=_0x365845;parallelShortcutTabs=parallelShortcutTabs[_0x2ef6aa(0x1a1)](_0x3d1031=>_0x3d1031['id']!==_0x12d922),delete parallelShortcutOrder[_0x12d922];if(activeParallelShortcutTabId===_0x12d922)activeParallelShortcutTabId=_0x2ef6aa(0xd1a);saveParallelShortcutConfig();});}),document[_0x4d572e(0x68a)](_0x4d572e(0xc94))['forEach'](_0x268516=>_0x268516[_0x4d572e(0x74a)]=_0x52cf7a=>{const _0x4640c1=_0x4d572e;_0x52cf7a['preventDefault']();const {shortcutId:_0x3fb226,targetTabId:_0x33af9c}=_0x52cf7a[_0x4640c1(0x4c4)][_0x4640c1(0x845)],_0x3a85ee=parallelShortcutTabs['find'](_0x273229=>_0x273229['id']===_0x33af9c);_0x3a85ee&&!_0x3a85ee[_0x4640c1(0x6c3)]['includes'](_0x3fb226)&&(_0x3a85ee[_0x4640c1(0x6c3)][_0x4640c1(0x827)](_0x3fb226),saveParallelShortcutConfig());}),document[_0x4d572e(0x68a)](_0x4d572e(0x10c))[_0x4d572e(0x277)](_0x11abbd=>_0x11abbd[_0x4d572e(0x74a)]=_0x30db67=>{const _0x34effa=_0x4d572e,_0x29f484=_0x30db67['currentTarget']['dataset'][_0x34effa(0xb66)],_0x2f8238=parallelShortcutTabs['find'](_0x3ac01e=>_0x3ac01e['id']===activeParallelShortcutTabId);_0x2f8238&&!_0x2f8238[_0x34effa(0x36e)]&&(_0x2f8238['shortcutIds']=_0x2f8238[_0x34effa(0x6c3)][_0x34effa(0x1a1)](_0x1c3225=>_0x1c3225!==_0x29f484),saveParallelShortcutConfig());}),document['querySelectorAll'](_0x4d572e(0xd0b))[_0x4d572e(0x277)](_0x24a50b=>_0x24a50b[_0x4d572e(0x74a)]=_0x2fe86d=>{const _0x3b1595=_0x4d572e;_0x2fe86d['stopPropagation']();const _0x26807b=_0x2fe86d[_0x3b1595(0x4c4)][_0x3b1595(0x5ae)];document[_0x3b1595(0x68a)]('.move-parallel-shortcut-dropdown')['forEach'](_0x607a93=>_0x607a93[_0x3b1595(0x605)]['add'](_0x3b1595(0x9a0))),_0x26807b[_0x3b1595(0x605)][_0x3b1595(0x31b)](_0x3b1595(0x9a0));});const _0x4a367f=document[_0x4d572e(0x283)](_0x4d572e(0x3bf));let _0x38306d=null;_0x4a367f[_0x4d572e(0xc03)]=_0x314405=>{const _0xac3792=_0x4d572e;_0x38306d=_0x314405[_0xac3792(0x543)][_0xac3792(0x455)](_0xac3792(0x765));if(_0x38306d)setTimeout(()=>_0x38306d['classList']['add'](_0xac3792(0x862)),0x0);},_0x4a367f[_0x4d572e(0xd6b)]=()=>{const _0x14bf2c=_0x4d572e;_0x38306d&&(_0x38306d[_0x14bf2c(0x605)][_0x14bf2c(0x31b)](_0x14bf2c(0x862)),_0x38306d=null);},_0x4a367f[_0x4d572e(0x4f2)]=_0xbf33a4=>{_0xbf33a4['preventDefault']();},_0x4a367f[_0x4d572e(0x772)]=_0x10703c=>{const _0x1889a8=_0x4d572e;_0x10703c['preventDefault']();if(_0x38306d){const _0x5df466=[..._0x4a367f[_0x1889a8(0x68a)](_0x1889a8(0xc63))][_0x1889a8(0x53b)]((_0x1bf01e,_0x4c96d3)=>{const _0x5e1b71=_0x1889a8,_0x38aa6e=_0x4c96d3[_0x5e1b71(0xd3b)](),_0x5681d9=_0x10703c[_0x5e1b71(0x679)]-_0x38aa6e['top']-_0x38aa6e['height']/0x2;return _0x5681d9<0x0&&_0x5681d9>_0x1bf01e[_0x5e1b71(0xc31)]?{'offset':_0x5681d9,'element':_0x4c96d3}:_0x1bf01e;},{'offset':Number[_0x1889a8(0x1c9)]})['element'];_0x5df466==null?_0x4a367f[_0x1889a8(0x2ea)](_0x38306d):_0x4a367f[_0x1889a8(0x124)](_0x38306d,_0x5df466);const _0x510cee=[..._0x4a367f[_0x1889a8(0x68a)]('.shortcut-list-item')][_0x1889a8(0x87e)](_0x1ad2b2=>_0x1ad2b2[_0x1889a8(0x845)][_0x1889a8(0xb66)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x510cee,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x45d8e1=_0x3db3a6,_0x59f612=prompt('กรุณาตั้งชื่อแท็บใหม่:',_0x45d8e1(0x899));_0x59f612&&_0x59f612[_0x45d8e1(0xc29)]()&&(parallelShortcutTabs[_0x45d8e1(0x827)]({'id':_0x45d8e1(0x71c)+Date[_0x45d8e1(0x9e4)](),'name':_0x59f612[_0x45d8e1(0xc29)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x428d20=_0x3db3a6,_0x1312a5=document[_0x428d20(0x283)]('parallel-shortcut-container'),_0x55f38f=document[_0x428d20(0x283)]('additional-parallel-shortcuts-list'),_0x43a5cd=document[_0x428d20(0x283)]('parallel-shortcuts-loading-msg');if(_0x43a5cd)_0x43a5cd['classList'][_0x428d20(0xd74)](_0x428d20(0x9a0));if(!_0x1312a5||!_0x55f38f)return;const _0x4bd9e3=parallelTestShortcuts[_0x428d20(0x972)](0x0,0x4),_0xe0ad90=parallelTestShortcuts[_0x428d20(0x972)](0x4);_0x1312a5[_0x428d20(0x545)]=_0x4bd9e3[_0x428d20(0x87e)](_0x4645e1=>{const _0x7a3c3c=_0x428d20,_0x2cb30f=_0x4645e1[_0x7a3c3c(0xd87)]&&_0x4645e1['url']['trim']()!=='',_0x2ed623=_0x2cb30f?_0x7a3c3c(0x376):_0x7a3c3c(0x16b),_0x141ea7=_0x2cb30f?'🔁':'🔗',_0x17c999=!_0x4645e1[_0x7a3c3c(0x36e)]?_0x7a3c3c(0xa22)+_0x4645e1['id']+_0x7a3c3c(0xa27):'';return _0x7a3c3c(0x1a7)+_0x4645e1['id']+_0x7a3c3c(0x9f5)+_0x2ed623+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0x141ea7+'\x20'+_0x4645e1[_0x7a3c3c(0x339)]+_0x7a3c3c(0x1ce)+_0x4645e1['id']+_0x7a3c3c(0x268)+_0x17c999+_0x7a3c3c(0xbb7);})['join'](''),_0xe0ad90[_0x428d20(0x110)]>0x0&&(_0x1312a5[_0x428d20(0x545)]+=_0x428d20(0x7cb)),_0xe0ad90[_0x428d20(0x110)]>0x0?_0x55f38f[_0x428d20(0x545)]=_0xe0ad90[_0x428d20(0x87e)](_0x40e061=>_0x428d20(0xb92)+(_0x40e061['url']?'🔁':'🔗')+'\x20'+_0x40e061[_0x428d20(0x339)]+_0x428d20(0xa9f)+_0x40e061['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x40e061['id']+_0x428d20(0x238)+(!_0x40e061[_0x428d20(0x36e)]?_0x428d20(0xa22)+_0x40e061['id']+'\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x428d20(0xd6e)](''):_0x55f38f['innerHTML']=_0x428d20(0xe5c);}function openParallelTestShortcutEditor(_0x5a5f45=null){const _0x231619=_0x3db3a6,_0x34344e=document['getElementById'](_0x231619(0x1e5)),_0x2163f3=document[_0x231619(0x283)](_0x231619(0x90e)),_0x3937b8=document['getElementById'](_0x231619(0x27f)),_0x3922c5=document[_0x231619(0x283)](_0x231619(0x99f)),_0x1a80e1=document['getElementById'](_0x231619(0xc9d));if(_0x5a5f45){const _0x84398b=parallelTestShortcuts['find'](_0x29e65b=>_0x29e65b['id']===_0x5a5f45);if(!_0x84398b)return;_0x2163f3[_0x231619(0x1bd)]=_0x231619(0xb69),_0x3937b8[_0x231619(0xa89)]=_0x84398b['id'],_0x3922c5[_0x231619(0xa89)]=_0x84398b[_0x231619(0x339)],_0x1a80e1[_0x231619(0xa89)]=_0x84398b[_0x231619(0xd87)]||'';}else _0x2163f3[_0x231619(0x1bd)]='เพิ่มปุ่มลัดข้อสอบต้นฉบับ',_0x3937b8[_0x231619(0xa89)]='',_0x3922c5['value']='',_0x1a80e1[_0x231619(0xa89)]='';_0x34344e[_0x231619(0x605)][_0x231619(0x31b)](_0x231619(0x9a0));}async function saveParallelTestShortcutChanges(){const _0x2f8f3b=_0x3db3a6,_0x209195=document[_0x2f8f3b(0x283)](_0x2f8f3b(0x27f))[_0x2f8f3b(0xa89)],_0x13b0a9=document[_0x2f8f3b(0x283)](_0x2f8f3b(0x99f))[_0x2f8f3b(0xa89)][_0x2f8f3b(0xc29)](),_0x1b746c=document[_0x2f8f3b(0x283)](_0x2f8f3b(0xc9d))[_0x2f8f3b(0xa89)][_0x2f8f3b(0xc29)]();if(!_0x13b0a9){showMessage(_0x2f8f3b(0x58d));return;}const _0x3d4e87={'id':_0x209195||_0x2f8f3b(0x734)+Date[_0x2f8f3b(0x9e4)](),'name':_0x13b0a9,'url':_0x1b746c,'isDefault':_0x209195['startsWith'](_0x2f8f3b(0x4af))};let _0x40b99a;_0x209195?_0x40b99a=parallelTestShortcuts['map'](_0x1e85b5=>_0x1e85b5['id']===_0x209195?_0x3d4e87:_0x1e85b5):_0x40b99a=[...parallelTestShortcuts,_0x3d4e87];try{const _0xfa2560=doc(db,_0x2f8f3b(0x2c2),_0x2f8f3b(0x469));await setDoc(_0xfa2560,{'shortcuts':_0x40b99a},{'merge':!![]}),document[_0x2f8f3b(0x283)]('parallel-shortcut-editor-modal')[_0x2f8f3b(0x605)][_0x2f8f3b(0xd74)](_0x2f8f3b(0x9a0));}catch(_0x2100d5){console['error'](_0x2f8f3b(0x256),_0x2100d5),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleParallelTestShortcutClick(_0xff896d){const _0x5183d0=_0x3db3a6,_0x5e6ed3=parallelTestShortcuts[_0x5183d0(0xe8)](_0x1f514c=>_0x1f514c['id']===_0xff896d);if(!_0x5e6ed3)return;if(!_0x5e6ed3[_0x5183d0(0xd87)]||_0x5e6ed3[_0x5183d0(0xd87)]['trim']()===''){openParallelTestShortcutEditor(_0xff896d);return;}const _0x189bf1=document[_0x5183d0(0x283)]('loader'),_0x2c9eb9=document['getElementById'](_0x5183d0(0x550));document[_0x5183d0(0x283)](_0x5183d0(0x1a0))['classList'][_0x5183d0(0x31b)](_0x5183d0(0x9a0)),document['getElementById']('generated-quiz-container')[_0x5183d0(0x545)]='',_0x189bf1[_0x5183d0(0x605)]['remove']('hidden'),_0x2c9eb9[_0x5183d0(0x1bd)]=_0x5183d0(0x4c6);try{let _0x2ddf84;_0x5e6ed3[_0x5183d0(0xd87)]['toLowerCase']()[_0x5183d0(0x2e8)]('.txt')?_0x2ddf84=_0x5183d0(0x7d0):_0x2ddf84=_0x5183d0(0xa73);const _0x44a43d=await fetchFileFromUrl(_0x5e6ed3['url'],_0x2ddf84);await handleGenerateParallelTest(_0x44a43d);}catch(_0x9cd871){console[_0x5183d0(0xe4d)](_0x5183d0(0x727),_0x9cd871),showMessage('เกิดข้อผิดพลาด:\x20'+_0x9cd871[_0x5183d0(0x226)]),_0x189bf1[_0x5183d0(0x605)]['add'](_0x5183d0(0x9a0));}}function initializeScratchpadCanvas(){const _0x18900c=_0x3db3a6,_0x6f1cbf=document[_0x18900c(0x283)](_0x18900c(0xa87)),_0x27abe1=document[_0x18900c(0x1a6)](_0x18900c(0x429));if(!_0x6f1cbf||!_0x27abe1)return;scratchpadCtx=_0x6f1cbf[_0x18900c(0x2c4)]('2d',{'willReadFrequently':!![]});const _0x3b7359=window[_0x18900c(0x7f9)]||0x1,_0x257e70=_0x27abe1[_0x18900c(0xd3b)]();_0x6f1cbf[_0x18900c(0x532)]=_0x257e70[_0x18900c(0x532)]*_0x3b7359,_0x6f1cbf[_0x18900c(0x521)]=_0x257e70[_0x18900c(0x521)]*_0x3b7359,_0x6f1cbf[_0x18900c(0xbeb)][_0x18900c(0x532)]=_0x257e70[_0x18900c(0x532)]+'px',_0x6f1cbf[_0x18900c(0xbeb)][_0x18900c(0x521)]=_0x257e70[_0x18900c(0x521)]+'px',scratchpadCtx['scale'](_0x3b7359,_0x3b7359),scratchpadCtx[_0x18900c(0x2fb)]=_0x18900c(0x86c),scratchpadCtx['lineCap']='round',_0x6f1cbf[_0x18900c(0xe2c)](_0x18900c(0x3f0),handlePointerDown),_0x6f1cbf['removeEventListener']('pointermove',handlePointerMove),_0x6f1cbf[_0x18900c(0xe2c)]('pointerup',handlePointerUp),_0x6f1cbf[_0x18900c(0xe2c)](_0x18900c(0x79b),handlePointerUp),_0x6f1cbf[_0x18900c(0xe2c)](_0x18900c(0xb41),handleWheel),_0x6f1cbf['removeEventListener'](_0x18900c(0x109),handlePointerDown),_0x6f1cbf[_0x18900c(0xe2c)](_0x18900c(0x1df),handlePointerMove),_0x6f1cbf[_0x18900c(0xe2c)]('touchend',handlePointerUp),_0x6f1cbf['addEventListener']('pointerdown',handlePointerDown),_0x6f1cbf[_0x18900c(0x844)](_0x18900c(0x971),handlePointerMove),_0x6f1cbf[_0x18900c(0x844)](_0x18900c(0xdf1),handlePointerUp),_0x6f1cbf['addEventListener']('pointercancel',handlePointerUp),_0x6f1cbf['addEventListener']('wheel',handleWheel,{'passive':![]}),_0x6f1cbf[_0x18900c(0x844)](_0x18900c(0x109),handlePointerDown,{'passive':![]}),_0x6f1cbf[_0x18900c(0x844)]('touchmove',handlePointerMove,{'passive':![]}),_0x6f1cbf[_0x18900c(0x844)](_0x18900c(0xcf),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x51621b=_0x3db3a6,_0x5ef00e=document[_0x51621b(0x283)](_0x51621b(0xa95)),_0x181c99=document['getElementById']('scratchpad-controls');_0x181c99['innerHTML']=_0x51621b(0x417)+scratchpadHighlighterSize+_0x51621b(0x2e4);const _0x1eb385=document[_0x51621b(0x283)](_0x51621b(0x56c)),_0x35af25=document[_0x51621b(0x283)](_0x51621b(0xd95)),_0x515f2e=document[_0x51621b(0x283)]('trail-tool-btn'),_0x252a51=document['getElementById']('highlighter-tool-btn'),_0x26291a=document[_0x51621b(0x283)](_0x51621b(0xb76)),_0x238b72=document[_0x51621b(0x283)](_0x51621b(0x4a2)),_0x529713=document[_0x51621b(0x283)](_0x51621b(0x83b)),_0x2682b4=[_0x1eb385,_0x35af25,_0x515f2e,_0x252a51];document[_0x51621b(0x283)](_0x51621b(0x84a))[_0x51621b(0x844)](_0x51621b(0x425),()=>_0x5ef00e['classList']['add'](_0x51621b(0x9a0))),document[_0x51621b(0x283)](_0x51621b(0xc26))[_0x51621b(0x844)](_0x51621b(0x425),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x51621b(0x283)](_0x51621b(0xc3d))['addEventListener'](_0x51621b(0x425),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x51621b(0x283)]('undo-btn')[_0x51621b(0x844)](_0x51621b(0x425),undo),document[_0x51621b(0x283)](_0x51621b(0xa64))[_0x51621b(0x844)](_0x51621b(0x425),redo);const _0xbe2dd7=_0xe3ece=>{const _0x15cae5=_0x51621b;_0x2682b4[_0x15cae5(0x277)](_0x19f8a0=>_0x19f8a0[_0x15cae5(0x605)][_0x15cae5(0x31b)](_0x15cae5(0xcce))),_0xe3ece[_0x15cae5(0x605)][_0x15cae5(0xd74)]('active'),_0x26291a[_0x15cae5(0x605)][_0x15cae5(0xd74)](_0x15cae5(0x9a0)),_0x238b72['classList'][_0x15cae5(0xd74)](_0x15cae5(0x9a0)),_0x529713['classList'][_0x15cae5(0xd74)](_0x15cae5(0x9a0));if(activeTool===_0x15cae5(0x733)||activeTool===_0x15cae5(0xa6))_0x26291a[_0x15cae5(0x605)][_0x15cae5(0x31b)]('hidden');else{if(activeTool===_0x15cae5(0x4aa))_0x238b72[_0x15cae5(0x605)][_0x15cae5(0x31b)]('hidden');else activeTool===_0x15cae5(0xc0e)&&_0x529713[_0x15cae5(0x605)][_0x15cae5(0x31b)]('hidden');}};_0x1eb385[_0x51621b(0x844)](_0x51621b(0x425),()=>{const _0x484396=_0x51621b;activeTool=_0x484396(0x733),_0xbe2dd7(_0x1eb385);}),_0x35af25[_0x51621b(0x844)](_0x51621b(0x425),()=>{const _0x2515a9=_0x51621b;activeTool=_0x2515a9(0xc0e),_0xbe2dd7(_0x35af25);}),_0x515f2e[_0x51621b(0x844)](_0x51621b(0x425),()=>{const _0x45aaa4=_0x51621b;activeTool=_0x45aaa4(0xa6),_0xbe2dd7(_0x515f2e);}),_0x252a51['addEventListener'](_0x51621b(0x425),()=>{const _0x7cbd50=_0x51621b;activeTool=_0x7cbd50(0x4aa),_0xbe2dd7(_0x252a51);}),_0x26291a[_0x51621b(0x68a)](_0x51621b(0xc6b))[_0x51621b(0x277)](_0x289db5=>{const _0x16fc73=_0x51621b;_0x289db5[_0x16fc73(0x844)](_0x16fc73(0x425),_0x1e7eae=>{const _0x27bfcd=_0x16fc73;scratchpadPenSize=parseInt(_0x1e7eae['target'][_0x27bfcd(0x845)][_0x27bfcd(0xa45)],0xa),_0x26291a[_0x27bfcd(0x68a)](_0x27bfcd(0xc6b))[_0x27bfcd(0x277)](_0x4a198d=>_0x4a198d['classList']['remove'](_0x27bfcd(0xcce))),_0x1e7eae[_0x27bfcd(0x543)][_0x27bfcd(0x605)]['add'](_0x27bfcd(0xcce));});}),_0x529713[_0x51621b(0x68a)](_0x51621b(0xdf6))[_0x51621b(0x277)](_0x25de1c=>{const _0x3665da=_0x51621b;_0x25de1c[_0x3665da(0x844)](_0x3665da(0x425),_0x22cead=>{const _0x4fab6c=_0x3665da,_0x1c169f=_0x22cead['currentTarget'];scratchpadEraserSize=parseInt(_0x1c169f[_0x4fab6c(0x845)][_0x4fab6c(0xa45)],0xa),_0x529713[_0x4fab6c(0x68a)]('.eraser-size-btn')[_0x4fab6c(0x277)](_0x534c76=>_0x534c76['classList']['remove'](_0x4fab6c(0xcce))),_0x1c169f[_0x4fab6c(0x605)][_0x4fab6c(0xd74)](_0x4fab6c(0xcce));});}),_0x26291a['querySelectorAll']('.pen-color-btn')[_0x51621b(0x277)](_0xd22f73=>{const _0x31575c=_0x51621b;_0xd22f73[_0x31575c(0x844)](_0x31575c(0x425),_0x4aa08b=>{const _0x158b56=_0x31575c;scratchpadPenColor=_0x4aa08b['target']['dataset'][_0x158b56(0x6b1)],_0x26291a['querySelectorAll'](_0x158b56(0xba8))[_0x158b56(0x277)](_0x411a8c=>_0x411a8c['classList']['remove'](_0x158b56(0xcce))),_0x4aa08b[_0x158b56(0x543)][_0x158b56(0x605)][_0x158b56(0xd74)](_0x158b56(0xcce));});}),_0x238b72[_0x51621b(0x68a)]('.highlighter-color-btn')[_0x51621b(0x277)](_0x3e34ca=>{_0x3e34ca['addEventListener']('click',_0x5b7d67=>{const _0x25eb3d=_0x5ca2;scratchpadHighlighterColor=_0x5b7d67[_0x25eb3d(0x543)][_0x25eb3d(0x845)][_0x25eb3d(0x6b1)],_0x238b72[_0x25eb3d(0x68a)](_0x25eb3d(0x128))[_0x25eb3d(0x277)](_0x46eb28=>_0x46eb28[_0x25eb3d(0x605)][_0x25eb3d(0x31b)](_0x25eb3d(0xcce))),_0x5b7d67[_0x25eb3d(0x543)]['classList']['add'](_0x25eb3d(0xcce));});});const _0x7cf89e=document['getElementById'](_0x51621b(0x994)),_0x1b241b=document[_0x51621b(0x283)]('highlighter-size-value');_0x7cf89e[_0x51621b(0x844)](_0x51621b(0x3df),_0x2069d0=>{const _0x325e84=_0x51621b,_0x270ffd=parseInt(_0x2069d0[_0x325e84(0x543)]['value'],0xa);scratchpadHighlighterSize=_0x270ffd,_0x1b241b[_0x325e84(0x1bd)]=_0x270ffd;}),window[_0x51621b(0x844)](_0x51621b(0xe37),()=>{const _0x3eb523=_0x51621b;!_0x5ef00e[_0x3eb523(0x605)]['contains'](_0x3eb523(0x9a0))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x3db3a6(0xc22),'name':_0x3db3a6(0x15d),'description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':_0x3db3a6(0xb82)},'QUICK_THINKER':{'id':'quick_thinker','name':_0x3db3a6(0xc59),'description':_0x3db3a6(0x216),'icon':_0x3db3a6(0xba3)},'ON_FIRE':{'id':_0x3db3a6(0x385),'name':_0x3db3a6(0xe09),'description':_0x3db3a6(0x80e),'icon':_0x3db3a6(0x7ff)},'FIRST_TRY_ACE':{'id':_0x3db3a6(0x1e6),'name':_0x3db3a6(0x4b2),'description':_0x3db3a6(0xd3d),'icon':'fa-rocket\x20text-purple-500'},'COMEBACK_KING':{'id':_0x3db3a6(0xe5),'name':_0x3db3a6(0x627),'description':_0x3db3a6(0xb52),'icon':_0x3db3a6(0x936)},'SPECIALIST':{'id':_0x3db3a6(0x9aa),'name':_0x3db3a6(0xe23),'description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':_0x3db3a6(0x4fb)},'PERSEVERANCE':{'id':_0x3db3a6(0x83a),'name':_0x3db3a6(0xbb5),'description':_0x3db3a6(0x1c0),'icon':_0x3db3a6(0x8fe)}},firebaseConfig={'apiKey':_0x3db3a6(0xb9d),'authDomain':_0x3db3a6(0x7e4),'projectId':_0x3db3a6(0xd45),'storageBucket':_0x3db3a6(0x525),'messagingSenderId':_0x3db3a6(0x54c),'appId':_0x3db3a6(0xbec),'measurementId':_0x3db3a6(0x3b1)},appId=typeof __app_id!==_0x3db3a6(0x9b5)?__app_id:_0x3db3a6(0x6b4),adminView=document[_0x3db3a6(0x283)](_0x3db3a6(0xda7)),studentView=document[_0x3db3a6(0x283)](_0x3db3a6(0x1c6)),projectDashboardView=document[_0x3db3a6(0x283)]('project-dashboard-view'),projectDetailView=document[_0x3db3a6(0x283)](_0x3db3a6(0xd9)),quizResultsView=document[_0x3db3a6(0x283)]('quiz-results-view'),projectList=document['getElementById'](_0x3db3a6(0x407)),noProjectsMsg=document[_0x3db3a6(0x283)](_0x3db3a6(0xd34)),projectTitle=document[_0x3db3a6(0x283)](_0x3db3a6(0x766)),projectIdDisplay=document[_0x3db3a6(0x283)]('project-id-display'),studentList=document[_0x3db3a6(0x283)](_0x3db3a6(0x103)),messageModal=document[_0x3db3a6(0x283)](_0x3db3a6(0xd33)),modalMessage=document[_0x3db3a6(0x283)](_0x3db3a6(0x949)),createProjectModal=document[_0x3db3a6(0x283)](_0x3db3a6(0x81b)),adminPasswordModal=document['getElementById'](_0x3db3a6(0xb55)),confirmationModal=document[_0x3db3a6(0x283)](_0x3db3a6(0x44d)),userIdDisplay=document[_0x3db3a6(0x283)](_0x3db3a6(0xd1b)),topicTab=document[_0x3db3a6(0x283)](_0x3db3a6(0x885)),textTab=document['getElementById']('text-tab'),topicInputArea=document[_0x3db3a6(0x283)]('topic-input-area'),textInputArea=document[_0x3db3a6(0x283)](_0x3db3a6(0xb48)),manageTab=document['getElementById'](_0x3db3a6(0x89f)),resultsTab=document['getElementById'](_0x3db3a6(0x45b)),leaderboardTab=document['getElementById']('leaderboard-tab'),manageTabContent=document[_0x3db3a6(0x283)](_0x3db3a6(0x485)),resultsTabContent=document[_0x3db3a6(0x283)](_0x3db3a6(0x66d)),leaderboardTabContent=document[_0x3db3a6(0x283)](_0x3db3a6(0x1e1)),projectQuizzesList=document[_0x3db3a6(0x283)](_0x3db3a6(0x838)),fileTab=document['getElementById'](_0x3db3a6(0xb09)),fileInputArea=document[_0x3db3a6(0x283)]('file-input-area'),fileUploadInput=document[_0x3db3a6(0x283)](_0x3db3a6(0xd6d)),worksheetTab=document['getElementById'](_0x3db3a6(0x93b)),worksheetInputArea=document[_0x3db3a6(0x283)](_0x3db3a6(0x2a2)),generateWorksheetBtn=document[_0x3db3a6(0x283)](_0x3db3a6(0xc39)),studentInitialView=document[_0x3db3a6(0x283)](_0x3db3a6(0x962)),studentNameSelectionView=document[_0x3db3a6(0x283)](_0x3db3a6(0xdc7)),studentQuizArea=document[_0x3db3a6(0x283)]('student-quiz-area'),studentResultArea=document[_0x3db3a6(0x283)](_0x3db3a6(0x68b)),studentReadingArea=document['getElementById'](_0x3db3a6(0x6c6)),loadQuizBtn=document[_0x3db3a6(0x283)](_0x3db3a6(0xc49)),startQuizBtn=document[_0x3db3a6(0x283)](_0x3db3a6(0x872)),studentJoinGameView=document[_0x3db3a6(0x283)](_0x3db3a6(0xde5)),presentationModal=document[_0x3db3a6(0x283)](_0x3db3a6(0xb23)),renameQuizModal=document['getElementById'](_0x3db3a6(0x236)),moveQuizModal=document[_0x3db3a6(0x283)](_0x3db3a6(0x22c)),quizSettingsModal=document[_0x3db3a6(0x283)]('quiz-settings-modal'),quizStatusModal=document['getElementById'](_0x3db3a6(0xd4f)),liveGameView=document[_0x3db3a6(0x283)]('live-game-view');function handleFixLessonLatex(){const _0x47c2bb=_0x3db3a6,_0x1bc51e=document[_0x47c2bb(0x283)](_0x47c2bb(0xb01));if(!_0x1bc51e){showMessage(_0x47c2bb(0x658));return;}const _0x5003e4=_0x1bc51e[_0x47c2bb(0x68a)]([_0x47c2bb(0x8ce),_0x47c2bb(0xa3c),_0x47c2bb(0xa97),'.ai-content\x20td',_0x47c2bb(0x4a9)]['join'](','));let _0x30be4d=0x0;const _0x2dc9cf=_0x2878c3=>_0x2878c3[_0x47c2bb(0x1bd)]||'',_0x12bac1=(_0x4cd018,_0x28cec3)=>{const _0x32f73f=_0x47c2bb;if(_0x4cd018[_0x32f73f(0x1a6)]&&_0x4cd018[_0x32f73f(0x1a6)]('mjx-container'))return;_0x4cd018[_0x32f73f(0x1bd)]=_0x28cec3;},_0x206839=_0x2f1f76=>_0x2f1f76[_0x47c2bb(0x950)](/\u00A0/g,'\x20')[_0x47c2bb(0x950)](/\u200B/g,'')[_0x47c2bb(0x950)](/\r\n?/g,'\x0a'),_0x5840ac=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0xa26738=_0x10c0f1=>{const _0x13fd82=_0x47c2bb;let _0x37bbcd=_0x10c0f1[_0x13fd82(0xc29)]();const _0x37f75e=['frac',_0x13fd82(0x8d6),'tfrac',_0x13fd82(0x864),_0x13fd82(0x38a),_0x13fd82(0x60b),_0x13fd82(0x39a),'div',_0x13fd82(0x350),_0x13fd82(0x6e1),'le','ge',_0x13fd82(0x634),'pm',_0x13fd82(0x718),_0x13fd82(0x946),'cos',_0x13fd82(0x6c5),'log','ln',_0x13fd82(0xb19),_0x13fd82(0xcd4),_0x13fd82(0x386),_0x13fd82(0x976),'right',_0x13fd82(0x3d8),_0x13fd82(0xe11),_0x13fd82(0x6c4),'deg'];_0x37f75e['forEach'](_0x287478=>{const _0x3559dc=_0x13fd82;_0x37bbcd=_0x37bbcd[_0x3559dc(0x950)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x287478+'\x5cb','g'),(_0x54a6ab,_0x533b23)=>_0x533b23+'\x5c'+_0x287478);});const _0x8ece4a=[[/×/g,_0x13fd82(0x13d)],[/·/g,_0x13fd82(0x955)],[/÷/g,_0x13fd82(0x7d1)],[/≤/g,'\x5cle'],[/≥/g,_0x13fd82(0x432)],[/≠/g,_0x13fd82(0x293)],[/±/g,_0x13fd82(0xc09)],[/∑/g,_0x13fd82(0x6d3)],[/−/g,'-']];return _0x8ece4a[_0x13fd82(0x277)](([_0x18cb1f,_0x49dd06])=>{const _0x58c84b=_0x13fd82;_0x37bbcd=_0x37bbcd[_0x58c84b(0x950)](_0x18cb1f,_0x49dd06);}),_0x37bbcd=_0x37bbcd[_0x13fd82(0x950)](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0x37bbcd=_0x37bbcd['replace'](/(\d+)\s*%/g,_0x13fd82(0xa94)),_0x37bbcd;},_0x37ce5c=_0x2523a5=>{const _0x400b9=_0x47c2bb;if(/\$|\\\(|\\\[/[_0x400b9(0x8c6)](_0x2523a5))return _0x2523a5;if(!_0x5840ac['test'](_0x2523a5))return _0x2523a5;const _0x814ad=_0x2523a5[_0x400b9(0xd7a)](/^\s*/)[0x0],_0x31fea4=_0x2523a5[_0x400b9(0xd7a)](/\s*$/)[0x0],_0x395f44=_0x2523a5[_0x400b9(0xc29)]();return _0x814ad+'$'+_0xa26738(_0x395f44)+'$'+_0x31fea4;};_0x5003e4['forEach'](_0x23433a=>{const _0x316cbc=_0x47c2bb,_0xdea8a0=_0x2dc9cf(_0x23433a);let _0x2f0b6e=_0x206839(_0xdea8a0);_0x2f0b6e=_0x2f0b6e[_0x316cbc(0x950)](/\$([^$]*?)\$/g,(_0x4f04b0,_0x4b42d4)=>'$'+_0xa26738(_0x4b42d4)+'$');const _0x1f5991=_0x2f0b6e['split'](/(\s+)/),_0xbe90c7=_0x1f5991['map'](_0x4ae4dd=>{if(/\s+/['test'](_0x4ae4dd))return _0x4ae4dd;return _0x37ce5c(_0x4ae4dd);});_0x2f0b6e=_0xbe90c7[_0x316cbc(0xd6e)](''),_0x2f0b6e!==_0xdea8a0&&(_0x12bac1(_0x23433a,_0x2f0b6e),_0x30be4d++);});if(_0x30be4d>0x0){showMessage(_0x47c2bb(0x12f)+_0x30be4d+_0x47c2bb(0x715));try{window[_0x47c2bb(0x4d4)]&&MathJax[_0x47c2bb(0x130)]&&MathJax['typesetPromise']([_0x1bc51e]);}catch(_0xccc055){console[_0x47c2bb(0xe4d)](_0x47c2bb(0x5dd),_0xccc055);}}else showMessage('ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม');}function handleAutoFixLatex(){const _0x38ba79=_0x3db3a6,_0x47c97d=document['getElementById'](_0x38ba79(0x720))||document,_0x3e2fe6=_0x47c97d[_0x38ba79(0x68a)](_0x38ba79(0x13a));let _0x4c034a=0x0;const _0x3148a0=_0x1ab54e=>_0x38ba79(0xa89)in _0x1ab54e?String(_0x1ab54e[_0x38ba79(0xa89)]):_0x1ab54e[_0x38ba79(0xba9)]!==undefined?_0x1ab54e[_0x38ba79(0xba9)]:_0x1ab54e[_0x38ba79(0x1bd)]||'',_0x13b112=(_0x5791e6,_0x1cf2c0)=>{const _0x3f640f=_0x38ba79;if(_0x3f640f(0xa89)in _0x5791e6){_0x5791e6[_0x3f640f(0xa89)]=_0x1cf2c0;return;}if(_0x5791e6['querySelector']&&_0x5791e6[_0x3f640f(0x1a6)](_0x3f640f(0x8bc)))return;if(_0x5791e6[_0x3f640f(0xba9)]!==undefined)_0x5791e6[_0x3f640f(0xba9)]=_0x1cf2c0;else _0x5791e6[_0x3f640f(0x1bd)]=_0x1cf2c0;},_0x24049e=_0x140765=>_0x140765['replace'](/\u00A0/g,'\x20')[_0x38ba79(0x950)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x3c639b=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x3f22ab=_0x17ba82=>{const _0x2a8191=_0x38ba79;let _0x3e4d54=_0x17ba82['trim']();_0x3e4d54=_0x3e4d54['replace'](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x2a8191(0x46d)),_0x3e4d54=_0x3e4d54[_0x2a8191(0x950)](/\bfrac(\d)(\d)/g,'\x5cfrac{$1}{$2}');const _0x31baba=[_0x2a8191(0x8a5),_0x2a8191(0x864),_0x2a8191(0x60b),_0x2a8191(0x39a),_0x2a8191(0x223),_0x2a8191(0x350),'geq','neq','pm',_0x2a8191(0x946),_0x2a8191(0xe04),'tan','log','ln'];_0x31baba[_0x2a8191(0x277)](_0x8763a9=>{_0x3e4d54=_0x3e4d54['replace'](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x8763a9+'\x5cb','g'),(_0x25a5b2,_0x1d9ea8)=>_0x1d9ea8+'\x5c'+_0x8763a9);});const _0x3969f9=[[/×/g,_0x2a8191(0x13d)],[/·/g,'\x5ccdot'],[/÷/g,'\x5cdiv'],[/≤/g,_0x2a8191(0x52e)],[/≥/g,_0x2a8191(0x432)],[/≠/g,_0x2a8191(0x293)],[/±/g,_0x2a8191(0xc09)]];return _0x3969f9['forEach'](([_0x4df5b1,_0x3e2756])=>{_0x3e4d54=_0x3e4d54['replace'](_0x4df5b1,_0x3e2756);}),_0x3e4d54;},_0x1dbd9d=_0x558b9f=>{const _0x270dd0=_0x38ba79;if(/\$|\\\(|\\\[/[_0x270dd0(0x8c6)](_0x558b9f))return _0x558b9f;if(!_0x3c639b[_0x270dd0(0x8c6)](_0x558b9f))return _0x558b9f;const _0x3c9d5b=_0x558b9f[_0x270dd0(0xd7a)](/^\s*/)[0x0],_0x281978=_0x558b9f[_0x270dd0(0xd7a)](/\s*$/)[0x0],_0x22fa74=_0x558b9f[_0x270dd0(0xc29)]();return _0x3c9d5b+'$'+_0x3f22ab(_0x22fa74)+'$'+_0x281978;};_0x3e2fe6[_0x38ba79(0x277)](_0x509e0f=>{const _0x5b5be7=_0x38ba79,_0x2d98a8=_0x3148a0(_0x509e0f);let _0x5fbff1=_0x24049e(_0x2d98a8);_0x5fbff1=_0x5fbff1['replace'](/\$([^$]*?)\$/g,(_0xd6c6d3,_0x4466b5)=>'$'+_0x3f22ab(_0x4466b5)+'$');const _0xa7080f=_0x5fbff1[_0x5b5be7(0x7ea)](/(\s+)/),_0x20ff53=_0xa7080f[_0x5b5be7(0x87e)](_0x44d124=>/\s+/[_0x5b5be7(0x8c6)](_0x44d124)?_0x44d124:_0x1dbd9d(_0x44d124));_0x5fbff1=_0x20ff53[_0x5b5be7(0xd6e)](''),_0x5fbff1!==_0x2d98a8&&(_0x13b112(_0x509e0f,_0x5fbff1),_0x4c034a++);});if(_0x4c034a>0x0){showMessage(_0x38ba79(0x76b)+_0x4c034a+_0x38ba79(0x458));try{if(window[_0x38ba79(0x4d4)]&&MathJax[_0x38ba79(0x130)])MathJax[_0x38ba79(0x130)]();}catch(_0x49f1cd){}}else showMessage(_0x38ba79(0x4e2));}async function listenForCustomMathTopics(){const _0x48c652=_0x3db3a6,_0x3e7adb=collection(db,_0x48c652(0x981)+appId+_0x48c652(0xb3f));onSnapshot(_0x3e7adb,_0x470825=>{const _0x4a112f=_0x48c652;customMathTopics=_0x470825[_0x4a112f(0xcf4)][_0x4a112f(0x87e)](_0x1c868a=>({'id':_0x1c868a['id'],..._0x1c868a[_0x4a112f(0x366)]()})),renderTopicCheckboxes();},_0xb46fae=>{const _0x4724db=_0x48c652;console[_0x4724db(0xe4d)](_0x4724db(0xac1),_0xb46fae);});}function handleSelectAllTopics(){const _0x401a98=_0x3db3a6,_0x2b1bec=document[_0x401a98(0x283)](_0x401a98(0xe1d)),_0x44fca1=_0x2b1bec[_0x401a98(0x68a)]('input[type=\x22checkbox\x22]');_0x44fca1[_0x401a98(0x277)](_0x110d61=>{const _0x52c580=_0x401a98;_0x110d61[_0x52c580(0x61b)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x241e20=_0x3db3a6,_0x373a4b=document['getElementById']('math-topics-checkbox-container'),_0x3edd68=_0x373a4b[_0x241e20(0x68a)](_0x241e20(0x474));_0x3edd68[_0x241e20(0x277)](_0x5da756=>{_0x5da756['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x38eb96){const _0x25e51d=_0x3db3a6;if(!_0x38eb96)return;try{const _0x567c52=doc(db,_0x25e51d(0x981)+appId+_0x25e51d(0xb3f),_0x38eb96);await deleteDoc(_0x567c52),showMessage(_0x25e51d(0xd7f));}catch(_0x31ff26){console[_0x25e51d(0xe4d)](_0x25e51d(0xa9b),_0x31ff26),showMessage(_0x25e51d(0x59c));}}async function handleAddCustomMathTopic(){const _0x4fba0a=_0x3db3a6,_0x48c492=document[_0x4fba0a(0x283)](_0x4fba0a(0xb93)),_0x39ff86=_0x48c492[_0x4fba0a(0xa89)][_0x4fba0a(0xc29)]();if(!_0x39ff86){showMessage(_0x4fba0a(0xae5));return;}if(!userId){showMessage(_0x4fba0a(0x463));return;}try{const _0x4c9660=collection(db,_0x4fba0a(0x981)+appId+_0x4fba0a(0xb3f));await addDoc(_0x4c9660,{'name':_0x39ff86,'createdAt':serverTimestamp()}),_0x48c492[_0x4fba0a(0xa89)]='',showMessage(_0x4fba0a(0x53f)+_0x39ff86+_0x4fba0a(0x4b5));}catch(_0x1a04f5){console[_0x4fba0a(0xe4d)](_0x4fba0a(0xa8c),_0x1a04f5),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){const _0x48df52=_0x3db3a6;showConfirmation(_0x48df52(0x3af),async()=>{const _0x279594=_0x48df52,_0x1daac9=document[_0x279594(0x283)](_0x279594(0x344)),_0x5bed70=document['getElementById']('loader-text'),_0x47bfa1=_0x5bed70[_0x279594(0x1bd)];_0x1daac9['classList'][_0x279594(0x31b)]('hidden'),_0x5bed70[_0x279594(0x1bd)]=_0x279594(0x8af);try{const _0x2aa4d9=collection(db,_0x279594(0x981)+appId+_0x279594(0x8e0)),_0x23cd29=await getDocs(_0x2aa4d9);if(_0x23cd29[_0x279594(0x43c)]){showMessage('ไม่พบแบบทดสอบในระบบเลย');return;}const _0x29e84b=writeBatch(db);let _0x20622f=0x0;_0x23cd29[_0x279594(0x277)](_0xb6197c=>{const _0x2be1a3=_0x279594,_0x2c04a7=_0xb6197c['data'](),_0x4020d6=_0xb6197c['id'];if(_0x2c04a7[_0x2be1a3(0x13f)]&&_0x2c04a7[_0x2be1a3(0x13f)][_0x2be1a3(0x110)]>0x0&&!_0x2c04a7[_0x2be1a3(0x13f)][0x0][_0x2be1a3(0x74b)]('id')){console['log'](_0x2be1a3(0x3de)+_0x4020d6+'\x20('+_0x2c04a7[_0x2be1a3(0xe5f)]+')'),_0x20622f++;const _0x2b7e3e=_0x2c04a7['questions'][_0x2be1a3(0x87e)]((_0x421341,_0x320b47)=>{const _0x3fa999=_0x2be1a3;return{..._0x421341,'id':_0x421341['id']||'q_'+Date[_0x3fa999(0x9e4)]()+'_'+_0x4020d6+'_'+_0x320b47};}),_0x2712c8=doc(db,_0x2be1a3(0x981)+appId+_0x2be1a3(0x8e0),_0x4020d6);_0x29e84b[_0x2be1a3(0xd55)](_0x2712c8,{'questions':_0x2b7e3e});}}),_0x20622f>0x0?(_0x5bed70['textContent']=_0x279594(0xbe8)+_0x20622f+_0x279594(0x5d0),await _0x29e84b[_0x279594(0x85d)](),showMessage(_0x279594(0xe4e)+_0x20622f+_0x279594(0x84c))):showMessage(_0x279594(0xe45));}catch(_0x5ac5ce){console['error']('Error\x20updating\x20old\x20quizzes:',_0x5ac5ce),showMessage(_0x279594(0x4b9)+_0x5ac5ce['message']);}finally{_0x1daac9['classList'][_0x279594(0xd74)](_0x279594(0x9a0)),_0x5bed70[_0x279594(0x1bd)]=_0x47bfa1;}});}async function handleBulkUpdateQuizSettings(){const _0x28b848=_0x3db3a6,_0x3166bf={'shuffle':document[_0x28b848(0x283)]('bulk-shuffle-select')[_0x28b848(0xa89)],'resultsDisplay':document[_0x28b848(0x283)](_0x28b848(0xc28))[_0x28b848(0xa89)],'loopUntilPass':document['getElementById'](_0x28b848(0x3d3))['checked'],'isConfidenceScoringEnabled':document[_0x28b848(0x283)](_0x28b848(0x2cf))['checked'],'confidenceMode':document[_0x28b848(0x283)](_0x28b848(0x453))[_0x28b848(0xa89)]};try{showMessage(_0x28b848(0x5b0));const _0x5a1848=await getDocs(collection(db,_0x28b848(0x981)+appId+_0x28b848(0x8e0))),_0x5918df=_0x5a1848[_0x28b848(0xcf4)][_0x28b848(0x87e)](_0x395030=>({'id':_0x395030['id'],'data':_0x395030['data']()})),_0x4ee2a8=_0x5918df[_0x28b848(0x110)];showConfirmation(_0x28b848(0x757)+_0x4ee2a8+_0x28b848(0xea),async()=>{const _0x573258=_0x28b848,_0xa4600e=document[_0x573258(0x283)]('confirm-bulk-quiz-settings-btn');_0xa4600e[_0x573258(0xc71)]=!![],_0xa4600e[_0x573258(0x545)]=_0x573258(0x586);try{const _0x5c4737=writeBatch(db);_0x5918df[_0x573258(0x277)](_0x4e9bc2=>{const _0x4a9acc=_0x573258,_0x556d70=doc(db,_0x4a9acc(0x981)+appId+'/public/data/quizzes',_0x4e9bc2['id']),_0x3c9ac2={..._0x4e9bc2[_0x4a9acc(0x366)][_0x4a9acc(0x477)]||{},..._0x3166bf};_0x5c4737[_0x4a9acc(0xd55)](_0x556d70,{'settings':_0x3c9ac2});}),await _0x5c4737['commit'](),document['getElementById']('bulk-quiz-settings-modal')[_0x573258(0x605)][_0x573258(0xd74)](_0x573258(0x9a0)),showMessage(_0x573258(0x52a)+_0x4ee2a8+_0x573258(0x526));}catch(_0x16c095){console[_0x573258(0xe4d)]('Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):',_0x16c095),showMessage(_0x573258(0x1d2));}finally{_0xa4600e[_0x573258(0xc71)]=![],_0xa4600e[_0x573258(0x545)]='ยืนยันและอัปเดตทั้งหมด';}});}catch(_0x57f513){console['error'](_0x28b848(0xa5b),_0x57f513),showMessage(_0x28b848(0xbee));}}async function handleSaveProjectName(){const _0x1f2d75=_0x3db3a6,_0x42669b=document['getElementById'](_0x1f2d75(0x766)),_0x727c7f=document[_0x1f2d75(0x283)](_0x1f2d75(0xdc8)),_0xb62e14=_0x42669b[_0x1f2d75(0x1bd)][_0x1f2d75(0xc29)]();if(!_0xb62e14||!currentProjectId){showMessage(_0x1f2d75(0x8cb)),_0x42669b[_0x1f2d75(0x1bd)]=currentProjectData[_0x1f2d75(0xe60)];return;}_0x727c7f[_0x1f2d75(0xc71)]=!![],_0x727c7f[_0x1f2d75(0x545)]=_0x1f2d75(0xdfa);try{const _0x17be67=doc(db,_0x1f2d75(0x981)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x17be67,{'projectName':_0xb62e14}),currentProjectData&&(currentProjectData['projectName']=_0xb62e14),showMessage(_0x1f2d75(0x9a1));}catch(_0x34f659){console[_0x1f2d75(0xe4d)]('Error\x20updating\x20project\x20name:',_0x34f659),showMessage(_0x1f2d75(0x7c3)),_0x42669b[_0x1f2d75(0x1bd)]=currentProjectData[_0x1f2d75(0xe60)];}finally{_0x727c7f[_0x1f2d75(0x605)]['add'](_0x1f2d75(0x9a0)),_0x727c7f[_0x1f2d75(0xc71)]=![],_0x727c7f['innerHTML']=_0x1f2d75(0x662);}}function handleGeneratePracticeTest(_0x391325,_0x1d07f8){const _0x5be884=_0x3db3a6,_0x59db8f=document[_0x5be884(0x283)](_0x5be884(0xba5)),_0xcc2443=document[_0x5be884(0x283)](_0x5be884(0x778)),_0x1663df=document[_0x5be884(0x283)]('lesson-loader'),_0x353364=document['getElementById'](_0x5be884(0xe17));_0xcc2443[_0x5be884(0x1bd)]=_0x5be884(0x937)+_0x391325,_0x353364[_0x5be884(0x605)][_0x5be884(0xd74)](_0x5be884(0x9a0)),_0x1663df[_0x5be884(0x605)][_0x5be884(0x31b)](_0x5be884(0x9a0)),_0x59db8f[_0x5be884(0x605)][_0x5be884(0x31b)](_0x5be884(0x9a0)),generatePracticeTest(_0x391325,_0x1d07f8)[_0x5be884(0xc1e)](_0x2c1e2a=>{const _0x14ec89=_0x5be884;console['error']('Failed\x20to\x20generate\x20practice\x20test:',_0x2c1e2a),showMessage(_0x14ec89(0xc5f)),_0x59db8f['classList'][_0x14ec89(0xd74)](_0x14ec89(0x9a0));});}async function generatePracticeTest(_0x4945b2,_0x1e4d22){const _0x6955f8=_0x3db3a6;['pointContent','memoryContent',_0x6955f8(0xa02),_0x6955f8(0x357)][_0x6955f8(0x277)](_0x36b99a=>{const _0x147628=_0x6955f8,_0x436ecc=document[_0x147628(0x283)](_0x36b99a)[_0x147628(0x6a9)];_0x436ecc&&(_0x436ecc[_0x147628(0xbeb)]['display']=_0x147628(0xdff));});try{const _0x407561=_0x6955f8(0xa31),_0x530d46='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x1e4d22+_0x6955f8(0x637)+_0x4945b2+_0x6955f8(0xc8a),_0x15c7ed=await callGemini(_0x530d46,!![]),_0x4cd919=document[_0x6955f8(0x283)]('lesson-view-title'),_0x56ec78=document[_0x6955f8(0x283)](_0x6955f8(0x8e9)),_0x4bba8a=document['getElementById'](_0x6955f8(0xe17)),_0x222928=document[_0x6955f8(0x283)](_0x6955f8(0xa02))[_0x6955f8(0x6a9)];_0x4cd919[_0x6955f8(0xba9)]='แบบทดสอบฝึกฝนเรื่อง:\x20'+_0x4945b2[_0x6955f8(0x950)](/•\s/g,'')+_0x6955f8(0x20d)+_0x1e4d22+')',currentApplicationData=JSON[_0x6955f8(0x11c)](_0x15c7ed);const _0x508988=document['getElementById'](_0x6955f8(0xa02));_0x508988[_0x6955f8(0x545)]=currentApplicationData['map']((_0x56e522,_0x13023f)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x13023f+0x1)+'.\x20'+marked[_0x6955f8(0xdb2)](_0x56e522['question'])+_0x6955f8(0x4b3)+_0x13023f+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x56e522[_0x6955f8(0xbed)][_0x6955f8(0x87e)]((_0x20868e,_0x15573f)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x13023f+',\x20'+_0x15573f+_0x6955f8(0x15f)+String['fromCharCode'](0x61+_0x15573f)+'.\x20'+marked[_0x6955f8(0xdb2)](_0x20868e)+_0x6955f8(0xa8a))[_0x6955f8(0xd6e)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x6955f8(0xd6e)](''),window[_0x6955f8(0x4d4)]&&MathJax['typesetPromise']([_0x508988]),_0x222928&&(_0x222928[_0x6955f8(0xbeb)]['display']=_0x6955f8(0xbbd)),_0x56ec78[_0x6955f8(0x605)][_0x6955f8(0xd74)]('hidden'),_0x4bba8a['classList']['remove'](_0x6955f8(0x9a0));}catch(_0x3651ca){console[_0x6955f8(0xe4d)](_0x3651ca);throw _0x3651ca;}}async function callGemini(_0x1d16a2,_0x30a8f3=![]){const _0x4a6df3=_0x3db3a6,_0x3f7b87=_0x4a6df3(0x7bd),_0x46b4c4=_0x4a6df3(0x83e)+_0x3f7b87,_0x32f6d1={'contents':[{'parts':[{'text':_0x1d16a2}]}]};_0x30a8f3&&(_0x32f6d1[_0x4a6df3(0x785)]={'responseMimeType':_0x4a6df3(0x87b)},_0x1d16a2['includes'](_0x4a6df3(0x399))?_0x32f6d1['generationConfig'][_0x4a6df3(0xc65)]={'type':_0x4a6df3(0xbc1),'properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':'ARRAY','items':{'type':_0x4a6df3(0xbc1),'properties':{'sara':{'type':_0x4a6df3(0xa44)},'mainTopics':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'topicName':{'type':_0x4a6df3(0xa44)},'subTopics':{'type':_0x4a6df3(0x1ff),'items':{'type':'STRING'}}},'required':[_0x4a6df3(0x510),_0x4a6df3(0x76d)]}}},'required':[_0x4a6df3(0x75b),_0x4a6df3(0x18c)]}}},'required':[_0x4a6df3(0x53c),_0x4a6df3(0xbdf)]}:_0x32f6d1[_0x4a6df3(0x785)][_0x4a6df3(0xc65)]={'type':_0x4a6df3(0x1ff),'items':{'type':_0x4a6df3(0xbc1),'properties':{'question':{'type':_0x4a6df3(0xa44)},'options':{'type':_0x4a6df3(0x1ff),'items':{'type':'STRING'}},'answer':{'type':'NUMBER'}},'required':['question',_0x4a6df3(0xbed),_0x4a6df3(0x9a9)]}});try{const _0x4ac15f=await fetch(_0x46b4c4,{'method':_0x4a6df3(0x4df),'headers':{'Content-Type':_0x4a6df3(0x87b)},'body':JSON[_0x4a6df3(0x6b3)](_0x32f6d1)});if(!_0x4ac15f['ok']){const _0x3fd1c6=await _0x4ac15f[_0x4a6df3(0x38a)]();console[_0x4a6df3(0xe4d)]('API\x20Error\x20Body:',_0x3fd1c6);throw new Error(_0x4a6df3(0x5bb)+_0x4ac15f[_0x4a6df3(0x360)]);}const _0x4f809e=await _0x4ac15f[_0x4a6df3(0xbff)]();if(_0x4f809e[_0x4a6df3(0x6af)]&&_0x4f809e[_0x4a6df3(0x6af)][0x0][_0x4a6df3(0x44c)]&&_0x4f809e[_0x4a6df3(0x6af)][0x0][_0x4a6df3(0x44c)][_0x4a6df3(0x5d5)][0x0])return _0x4f809e[_0x4a6df3(0x6af)][0x0][_0x4a6df3(0x44c)]['parts'][0x0][_0x4a6df3(0x38a)];else{console[_0x4a6df3(0xe4d)](_0x4a6df3(0x811),_0x4f809e);if(_0x4f809e[_0x4a6df3(0x6af)]&&_0x4f809e[_0x4a6df3(0x6af)][0x0][_0x4a6df3(0x197)]===_0x4a6df3(0x761))return JSON[_0x4a6df3(0x6b3)]({'error':_0x4a6df3(0x942)});throw new Error('Invalid\x20response\x20structure\x20from\x20API.');}}catch(_0x1f966b){console[_0x4a6df3(0xe4d)](_0x4a6df3(0x487),_0x1f966b);throw _0x1f966b;}}async function generateLesson(_0x21ad76=null,_0x3d49a0=null){const _0x34acaf=_0x3db3a6,_0x327e01=_0x21ad76,_0x18ce82=_0x3d49a0||_0x34acaf(0xc9a),_0x2ba0b7=document[_0x34acaf(0x283)](_0x34acaf(0x8e9)),_0x1b3343=document[_0x34acaf(0x283)](_0x34acaf(0xb5c));_0x1b3343[_0x34acaf(0x1bd)]=_0x34acaf(0x921)+_0x327e01+_0x34acaf(0x218);try{let _0x5e2763=[];const _0x4eb167=document[_0x34acaf(0x283)](_0x34acaf(0x735))?.[_0x34acaf(0xa89)][_0x34acaf(0xc29)]();if(_0x4eb167)try{_0x1b3343[_0x34acaf(0x1bd)]=_0x34acaf(0x126);const _0x4fdbe2=await fetchFileFromUrl(_0x4eb167,_0x34acaf(0x774)),_0x2d2f7d=await new Promise((_0x42b0e0,_0x4bc68c)=>{const _0x207873=_0x34acaf,_0x15b58f=new FileReader();_0x15b58f[_0x207873(0x640)](_0x4fdbe2),_0x15b58f[_0x207873(0xafb)]=()=>_0x42b0e0(_0x15b58f['result'][_0x207873(0x7ea)](',')[0x1]),_0x15b58f[_0x207873(0x29a)]=_0x4bc68c;});_0x5e2763['push']({'inlineData':{'mimeType':_0x4fdbe2[_0x34acaf(0x816)],'data':_0x2d2f7d}});}catch(_0x5b32d6){console[_0x34acaf(0xe4d)](_0x34acaf(0x836),_0x5b32d6),showMessage(_0x34acaf(0xb1));}const _0x520b0a=_0x34acaf(0x68d)+_0x327e01+_0x34acaf(0x475)+_0x327e01+_0x34acaf(0x5a4);_0x1b3343['textContent']=_0x34acaf(0x921)+_0x327e01+'\x22...';const _0x22cc57=_0x34acaf(0xd6c)+_0x18ce82+'\x27\x20ในหัวข้อ\x20\x27'+_0x327e01+_0x34acaf(0x6dd)+_0x520b0a+'.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art',_0x3c2655=_0x34acaf(0x671)+_0x327e01+_0x34acaf(0x189)+_0x18ce82+'\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20'+_0x520b0a+_0x34acaf(0xb50),_0x22c82e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กสำหรับการสร้างตัวเลือก\x20(Advanced\x20Distractor\x20Rule):**\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องออกแบบมาเพื่อดักจับ\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20เช่น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การคำนวณผิดในขั้นตอนสุดท้าย\x20(Calculation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20การจำสูตรผิด\x20หรือสลับตัวแปร\x20(Conceptual\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ลืมแปลงหน่วย\x20หรือตีความโจทย์ผิด\x20(Unit/Interpretation\x20Error)\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผลและใกล้เคียงกับคำตอบจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x15000b=_0x34acaf(0x69a)+_0x18ce82+'\x27\x20ในหัวข้อ\x20\x27'+_0x327e01+_0x34acaf(0x1c7)+_0x520b0a+'.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x22c82e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x3902c8='สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27'+_0x327e01+_0x34acaf(0xa2b)+_0x18ce82+'\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20'+_0x520b0a+_0x34acaf(0x968),_0x3989e2={'type':_0x34acaf(0x1ff),'items':{'type':_0x34acaf(0xbc1),'properties':{'question':{'type':_0x34acaf(0xa44)},'options':{'type':_0x34acaf(0x1ff),'items':{'type':_0x34acaf(0xa44)}},'answer':{'type':_0x34acaf(0xc1d)}},'required':[_0x34acaf(0xc78),_0x34acaf(0xbed),_0x34acaf(0x9a9)]}},[_0x2ee143,_0xa4db05,_0x75b49e,_0x20e5e3]=await Promise[_0x34acaf(0xd1a)]([handleApiCall([{'text':_0x22cc57},..._0x5e2763],_0x34acaf(0xb1b),null,null,![]),handleApiCall([{'text':_0x3c2655},..._0x5e2763],_0x34acaf(0xb1b),null,null,![]),handleApiCall([{'text':_0x15000b},..._0x5e2763],_0x34acaf(0xb1b),_0x3989e2,null,![]),handleApiCall([{'text':_0x3902c8},..._0x5e2763],_0x34acaf(0xb1b),null,null,![])]),_0x520116=JSON[_0x34acaf(0x6b3)](_0x75b49e||[]),_0x24da54=document[_0x34acaf(0x283)](_0x34acaf(0x778)),_0x2ae093=document[_0x34acaf(0x283)](_0x34acaf(0xe17));_0x24da54[_0x34acaf(0xba9)]=_0x34acaf(0x706)+_0x327e01[_0x34acaf(0x950)](/•\s/g,'')+_0x34acaf(0x20d)+_0x18ce82+')',[_0x34acaf(0x104),_0x34acaf(0x58b),_0x34acaf(0x357)][_0x34acaf(0x277)](_0x877eae=>{const _0x8d7eb6=_0x34acaf;document[_0x8d7eb6(0x283)](_0x877eae)['innerHTML']='';}),document[_0x34acaf(0x283)]('pointContent')['innerHTML']=_0x2ee143?marked['parse'](_0x2ee143):_0x34acaf(0xca3),document[_0x34acaf(0x283)](_0x34acaf(0x58b))[_0x34acaf(0x545)]=_0xa4db05?marked['parse'](_0xa4db05):_0x34acaf(0xca3),document[_0x34acaf(0x283)]('summaryContent')[_0x34acaf(0x545)]=_0x20e5e3?marked['parse'](_0x20e5e3):_0x34acaf(0xca3),currentApplicationData=JSON[_0x34acaf(0x11c)](_0x520116);const _0x26f052=document['getElementById'](_0x34acaf(0xa02));_0x26f052[_0x34acaf(0x545)]=(currentApplicationData||[])[_0x34acaf(0x87e)]((_0x38265a,_0x4bd2eb)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x4bd2eb+0x1)+'.\x20'+marked[_0x34acaf(0xdb2)](_0x38265a[_0x34acaf(0xc78)]||'')+_0x34acaf(0x4b3)+_0x4bd2eb+_0x34acaf(0xb11)+(_0x38265a[_0x34acaf(0xbed)]||[])[_0x34acaf(0x87e)]((_0x46c89a,_0x2ea94f)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x4bd2eb+',\x20'+_0x2ea94f+_0x34acaf(0x15f)+String['fromCharCode'](0x61+_0x2ea94f)+'.\x20'+marked[_0x34acaf(0xdb2)](_0x46c89a||'')+_0x34acaf(0xa8a))[_0x34acaf(0xd6e)]('')+_0x34acaf(0x86d))[_0x34acaf(0xd6e)]('')||_0x34acaf(0x359),window[_0x34acaf(0x4d4)]&&MathJax[_0x34acaf(0x130)]([_0x2ae093]),_0x2ba0b7['classList']['add'](_0x34acaf(0x9a0)),_0x2ae093[_0x34acaf(0x605)][_0x34acaf(0x31b)](_0x34acaf(0x9a0));}catch(_0xc89afb){console[_0x34acaf(0xe4d)](_0xc89afb);throw _0xc89afb;}}function checkAnswer(_0xdc21bb,_0x1e8149){const _0x521011=_0x3db3a6,_0x32d3bb=currentApplicationData[_0xdc21bb],_0x54f4b3=document[_0x521011(0x283)]('q'+_0xdc21bb+_0x521011(0xd5f)),_0x406392=_0x54f4b3['getElementsByTagName']('button');for(let _0x1e3808 of _0x406392){_0x1e3808[_0x521011(0xc71)]=!![];}_0x1e8149===_0x32d3bb[_0x521011(0x9a9)]?_0x406392[_0x1e8149][_0x521011(0x605)]['add'](_0x521011(0xc14)):(_0x406392[_0x1e8149][_0x521011(0x605)][_0x521011(0xd74)]('incorrect'),_0x406392[_0x32d3bb[_0x521011(0x9a9)]][_0x521011(0x605)][_0x521011(0xd74)](_0x521011(0xc14)));}window[_0x3db3a6(0xa40)]=handleGenerateAndShowLesson,window[_0x3db3a6(0x945)]=checkAnswer,window[_0x3db3a6(0xb2d)]=handleGeneratePracticeTest,window[_0x3db3a6(0x11a)]=handleGenerateQuizFromBlueprintTopic;let cropperInstance=null;function ensureCropperModalExists(){const _0x36b978=_0x3db3a6;if(document[_0x36b978(0x283)](_0x36b978(0x30a)))return;const _0x1ca1be=_0x36b978(0xe49);document['body'][_0x36b978(0xc4c)](_0x36b978(0x136),_0x1ca1be),setupCropperButtons();}function setupCropperButtons(){const _0x5e7482=_0x3db3a6;document[_0x5e7482(0x283)](_0x5e7482(0xd06))[_0x5e7482(0x844)](_0x5e7482(0x425),()=>{const _0x43f8cf=_0x5e7482;document[_0x43f8cf(0x283)](_0x43f8cf(0x30a))[_0x43f8cf(0x605)]['add']('hidden'),cropperInstance&&(cropperInstance[_0x43f8cf(0x278)](),cropperInstance=null),document['getElementById'](_0x43f8cf(0x678))[_0x43f8cf(0xa89)]='';}),document[_0x5e7482(0x283)]('confirm-crop-btn')[_0x5e7482(0x844)](_0x5e7482(0x425),()=>{const _0x57cc80=_0x5e7482;if(!cropperInstance)return;const _0x56b213=document[_0x57cc80(0x283)](_0x57cc80(0x689)),_0x325e55=_0x56b213[_0x57cc80(0x545)];_0x56b213[_0x57cc80(0x545)]=_0x57cc80(0x9b1),_0x56b213[_0x57cc80(0xc71)]=!![],cropperInstance[_0x57cc80(0x93d)]()[_0x57cc80(0x650)](async _0x430891=>{const _0xb62183=_0x57cc80;document['getElementById'](_0xb62183(0x30a))[_0xb62183(0x605)][_0xb62183(0xd74)]('hidden');const _0x42e182=new File([_0x430891],'cropped_image.png',{'type':'image/png'});await handleScanImageForText(_0x42e182),_0x56b213['innerHTML']=_0x325e55,_0x56b213[_0xb62183(0xc71)]=![],cropperInstance[_0xb62183(0x278)](),cropperInstance=null;},_0x57cc80(0x65e));});}function startCropper(_0x4037d0){const _0x18d627=_0x3db3a6;ensureCropperModalExists();const _0x5377f0=document[_0x18d627(0x283)]('cropper-modal'),_0x5c1ec6=document['getElementById']('image-to-crop'),_0x18a8f5=new FileReader();_0x18a8f5['onload']=_0x4652cc=>{const _0x50e5a3=_0x18d627;_0x5c1ec6[_0x50e5a3(0x46a)]=_0x4652cc[_0x50e5a3(0x543)][_0x50e5a3(0x796)],_0x5377f0[_0x50e5a3(0x605)][_0x50e5a3(0x31b)](_0x50e5a3(0x9a0));if(cropperInstance)cropperInstance[_0x50e5a3(0x278)]();cropperInstance=new Cropper(_0x5c1ec6,{'viewMode':0x1,'dragMode':_0x50e5a3(0x71b),'autoCropArea':0.8,'restore':![],'guides':!![],'center':!![],'highlight':![],'cropBoxMovable':!![],'cropBoxResizable':!![],'toggleDragModeOnDblclick':![]});},_0x18a8f5[_0x18d627(0x640)](_0x4037d0);}document[_0x3db3a6(0x844)](_0x3db3a6(0x160),()=>{const _0x3a183c=_0x3db3a6,_0x2e939b=document[_0x3a183c(0x283)](_0x3a183c(0x678)),_0x245ac3=document[_0x3a183c(0x283)](_0x3a183c(0xe1b));_0x245ac3&&_0x2e939b&&(_0x245ac3[_0x3a183c(0x844)]('click',()=>{const _0x2a1745=_0x3a183c;_0x2e939b[_0x2a1745(0xa89)]='',_0x2e939b[_0x2a1745(0x425)]();}),_0x2e939b[_0x3a183c(0x844)](_0x3a183c(0xbb6),_0x1e78d2=>{const _0x5382cf=_0x3a183c;_0x1e78d2[_0x5382cf(0x543)]['files']&&_0x1e78d2[_0x5382cf(0x543)]['files'][_0x5382cf(0x110)]>0x0&&startCropper(_0x1e78d2[_0x5382cf(0x543)][_0x5382cf(0x7a4)][0x0]);}));});async function handleScanImageForText(_0x23c50b){const _0x32cb91=_0x3db3a6,_0x2e3de7=document[_0x32cb91(0x283)](_0x32cb91(0x9a5)),_0x477d2f=document[_0x32cb91(0x283)](_0x32cb91(0xc80));if(!_0x23c50b)return;_0x477d2f[_0x32cb91(0xc71)]=!![],_0x477d2f[_0x32cb91(0x545)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังอ่านรูปภาพ...',_0x2e3de7[_0x32cb91(0xb49)]='AI\x20กำลังพยายามอ่านข้อความจากรูปภาพของคุณ\x20กรุณารอสักครู่...';try{const _0x238221=await new Promise((_0x41a8d8,_0x3a1b37)=>{const _0x3c4831=_0x32cb91,_0x4f6802=new FileReader();_0x4f6802[_0x3c4831(0x640)](_0x23c50b),_0x4f6802[_0x3c4831(0xafb)]=()=>_0x41a8d8(_0x4f6802[_0x3c4831(0x796)][_0x3c4831(0x7ea)](',')[0x1]),_0x4f6802[_0x3c4831(0x29a)]=_0x3a1b37;}),_0x2cde3d=_0x32cb91(0x618),_0x5d7ea9=[{'text':_0x2cde3d},{'inlineData':{'mimeType':_0x23c50b[_0x32cb91(0x816)],'data':_0x238221}}],_0x25674b=await handleApiCall(_0x5d7ea9,_0x32cb91(0x6ad),null,null,![]);if(_0x25674b){const _0x23160d=_0x2e3de7[_0x32cb91(0xa89)][_0x32cb91(0xc29)]();_0x2e3de7[_0x32cb91(0xa89)]=_0x23160d?_0x23160d+'\x0a\x0a'+_0x25674b:_0x25674b,showMessage('สแกนข้อความเรียบร้อยแล้ว!\x20คุณสามารถตรวจสอบและแก้ไขได้ก่อนสร้างแบบทดสอบ');}else throw new Error(_0x32cb91(0xb89));}catch(_0x4850f5){console[_0x32cb91(0xe4d)](_0x32cb91(0x23f),_0x4850f5),showMessage(_0x32cb91(0x263)+_0x4850f5[_0x32cb91(0x226)]);}finally{_0x477d2f[_0x32cb91(0xc71)]=![],_0x477d2f[_0x32cb91(0x545)]='<i\x20class=\x22fas\x20fa-camera\x22></i>\x20สแกนข้อความจากรูปภาพ',document[_0x32cb91(0x283)](_0x32cb91(0x3dc))['value']='';}}async function initialize(){const _0x57c4f2=_0x3db3a6;try{const _0x592515=initializeApp(firebaseConfig);db=getFirestore(_0x592515),auth=getAuth(_0x592515),setupAuthListener(),setupEventListeners(),showView(_0x57c4f2(0xae3)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x352877){console[_0x57c4f2(0xe4d)](_0x57c4f2(0x290),_0x352877),showMessage(_0x57c4f2(0xded));}}async function handleVerifyAnswersInEditor(){const _0x254993=_0x3db3a6,_0x766407=document[_0x254993(0x283)]('quiz-editor-modal');if(!_0x766407)return;const _0x113d14=document[_0x254993(0x283)](_0x254993(0x184));_0x113d14[_0x254993(0xc71)]=!![],_0x113d14['innerHTML']=_0x254993(0x982);try{const _0x3ac4c8=_0x766407[_0x254993(0x68a)](_0x254993(0x48d)),_0xb728f8=Array[_0x254993(0x4e4)](_0x3ac4c8)[_0x254993(0x87e)]((_0x489af1,_0x4bff6b)=>{const _0x4038a0=_0x254993,_0x4ae434=_0x489af1[_0x4038a0(0x845)]['qType'],_0x594857=_0x489af1[_0x4038a0(0x1a6)]('textarea')[_0x4038a0(0xa89)];let _0x2d9cb5=null,_0x12fc77='';switch(_0x4ae434){case _0x4038a0(0x6f2):const _0x32e4a7=_0x489af1[_0x4038a0(0x68a)](_0x4038a0(0x1cc));_0x2d9cb5=Array[_0x4038a0(0x4e4)](_0x32e4a7)[_0x4038a0(0x87e)](_0x173d94=>_0x173d94[_0x4038a0(0xa89)]);const _0x3fc2b1=_0x489af1['querySelector']('input[type=\x22radio\x22]:checked');_0x3fc2b1&&(_0x12fc77=_0x2d9cb5[parseInt(_0x3fc2b1['value'])]||'');break;case _0x4038a0(0x358):case'fill_in_no_choices':_0x2d9cb5=[],_0x12fc77=_0x489af1['querySelector']('.ideal-answer-input')[_0x4038a0(0xa89)];break;case _0x4038a0(0x50e):_0x2d9cb5=[_0x4038a0(0x503),_0x4038a0(0xdf9)];const _0xce9454=_0x489af1[_0x4038a0(0x1a6)](_0x4038a0(0xabc));_0x12fc77=_0xce9454?_0xce9454[_0x4038a0(0xa89)]:'';break;case'matching_item':_0x2d9cb5=[],_0x12fc77=_0x489af1['querySelector'](_0x4038a0(0x693))[_0x4038a0(0xa89)];break;}return{'questionIndex':_0x4bff6b,'questionType':_0x4ae434,'question':_0x594857,'options':_0x2d9cb5,'proposedAnswer':_0x12fc77};}),_0x39ffd9=_0x254993(0x8d8)+JSON[_0x254993(0x6b3)](_0xb728f8)+_0x254993(0x9ba),_0x4b8a94={'type':'ARRAY','items':{'type':_0x254993(0xbc1),'properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':_0x254993(0xd50)},'justification':{'type':_0x254993(0xa44)},'correctOptionExists':{'type':_0x254993(0xd50)},'suggestedAnswer':{'type':_0x254993(0xa44)},'newOptionsPayload':{'type':_0x254993(0xbc1),'properties':{'newOptions':{'type':_0x254993(0x1ff),'items':{'type':_0x254993(0xa44)}},'newCorrectIndex':{'type':_0x254993(0xc1d)}},'required':[_0x254993(0x39d),'newCorrectIndex']}},'required':[_0x254993(0xda4),'isCorrect','justification']}},_0x199c11=await callAnalysisApi(_0x39ffd9,{'type':_0x254993(0xbc1),'properties':{'result':_0x4b8a94},'required':[_0x254993(0x796)]});if(_0x199c11&&_0x199c11[_0x254993(0x796)])displayVerificationResultsInEditor(_0x199c11[_0x254993(0x796)]);else throw new Error(_0x254993(0xa81));}catch(_0xfe37c5){console[_0x254993(0xe4d)]('Error\x20verifying\x20answers\x20in\x20editor:',_0xfe37c5),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ:\x20'+_0xfe37c5[_0x254993(0x226)]);}finally{_0x113d14[_0x254993(0xc71)]=![],_0x113d14[_0x254993(0x545)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x1894b7){const _0x164848=_0x3db3a6;_0x1894b7[_0x164848(0x277)](_0x31f9ce=>{const _0x336bea=_0x164848,_0x2dd909=document[_0x336bea(0x1a6)](_0x336bea(0x41d)+_0x31f9ce[_0x336bea(0xda4)]+'\x22]');if(!_0x2dd909)return;const _0x35fd34=_0x2dd909['querySelector'](_0x336bea(0x56b));if(_0x35fd34)_0x35fd34['remove']();let _0x1914b1='';if(_0x31f9ce[_0x336bea(0xdc1)]&&_0x31f9ce[_0x336bea(0xdc1)][_0x336bea(0x39d)]){const _0x30d8f8=_0x31f9ce['newOptionsPayload'][_0x336bea(0x39d)],_0x540a54=_0x31f9ce[_0x336bea(0xdc1)]['newCorrectIndex'],_0x2737df=_0x2dd909[_0x336bea(0x845)][_0x336bea(0xa52)];if(_0x2737df===_0x336bea(0x6f2)){const _0x49a8a9=_0x2dd909[_0x336bea(0x68a)]('input[type=\x22text\x22]');_0x49a8a9['forEach']((_0x1b535c,_0xed5afc)=>{const _0x49613f=_0x336bea;_0x30d8f8[_0xed5afc]?_0x1b535c[_0x49613f(0xa89)]=_0x30d8f8[_0xed5afc]:_0x1b535c['value']=_0x49613f(0x42b);});const _0x41167f=_0x2dd909['querySelector']('input[type=\x22radio\x22][value=\x22'+_0x540a54+'\x22]');_0x41167f&&(_0x41167f[_0x336bea(0x61b)]=!![]),_0x1914b1=_0x336bea(0x6c9),_0x2dd909['classList'][_0x336bea(0xd74)](_0x336bea(0xa85),_0x336bea(0xa6c),'duration-300'),setTimeout(()=>{const _0x4690fe=_0x336bea;_0x2dd909[_0x4690fe(0x605)][_0x4690fe(0x31b)](_0x4690fe(0xa85));},0x9c4);}}else{if(!_0x31f9ce[_0x336bea(0xb7c)]&&_0x31f9ce[_0x336bea(0x7e1)]){const _0xc9fc29=_0x31f9ce[_0x336bea(0x7e1)]?_0x336bea(0x17f):'';_0x1914b1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0xc9fc29+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x31f9ce[_0x336bea(0xa24)]+_0x336bea(0xf5)+(_0x31f9ce[_0x336bea(0x7e1)]?_0x336bea(0xc61)+_0x31f9ce[_0x336bea(0x7e1)]+_0x336bea(0x74f):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';const _0x36bb0e=_0x2dd909[_0x336bea(0x845)]['qType'],_0x3894d6=_0x1293c9=>{const _0x50add5=_0x336bea;if(!_0x1293c9)return;_0x1293c9['classList'][_0x50add5(0xd74)](_0x50add5(0x2b5),_0x50add5(0xa6c),_0x50add5(0xb7)),setTimeout(()=>{const _0x27400c=_0x50add5;_0x1293c9[_0x27400c(0x605)][_0x27400c(0x31b)](_0x27400c(0x2b5));},0x9c4);};if(_0x36bb0e===_0x336bea(0x6f2)){const _0x3f2c93=Array[_0x336bea(0x4e4)](_0x2dd909[_0x336bea(0x68a)](_0x336bea(0x1cc))),_0x2fd729=_0x3f2c93['findIndex'](_0x2eda10=>_0x2eda10[_0x336bea(0xa89)][_0x336bea(0xc29)]()['toLowerCase']()===_0x31f9ce[_0x336bea(0x7e1)][_0x336bea(0xc29)]()[_0x336bea(0xa8)]());if(_0x2fd729!==-0x1){const _0x2e5a54=_0x2dd909[_0x336bea(0x1a6)]('input[type=\x22radio\x22][value=\x22'+_0x2fd729+'\x22]');_0x2e5a54&&(_0x2e5a54[_0x336bea(0x61b)]=!![],_0x3894d6(_0x2e5a54[_0x336bea(0x455)](_0x336bea(0x223))));}}else{if(_0x36bb0e===_0x336bea(0x358)||_0x36bb0e===_0x336bea(0x1f4)){const _0x37417f=_0x2dd909[_0x336bea(0x1a6)](_0x336bea(0xe14));_0x37417f&&(_0x37417f[_0x336bea(0xa89)]=_0x31f9ce[_0x336bea(0x7e1)],_0x3894d6(_0x37417f));}else{if(_0x36bb0e==='true_false'){const _0x5913e3=_0x31f9ce[_0x336bea(0x7e1)][_0x336bea(0xc29)]()[_0x336bea(0xa8)](),_0x49efb7=_0x2dd909[_0x336bea(0x1a6)](_0x336bea(0x47c)+_0x5913e3+'\x22]');_0x49efb7&&(_0x49efb7[_0x336bea(0x61b)]=!![],_0x3894d6(_0x49efb7[_0x336bea(0x455)](_0x336bea(0x223))));}}}}else _0x31f9ce[_0x336bea(0xb7c)]&&(_0x1914b1=_0x336bea(0xc6c));}_0x2dd909[_0x336bea(0xc4c)](_0x336bea(0x136),_0x1914b1);}),showMessage(_0x164848(0x7c6));}async function handleVerifyAnswers(){const _0x592279=_0x3db3a6;if(!currentQuizData||!currentQuizData[_0x592279(0x13f)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน');return;}const _0x2cdb0b=document[_0x592279(0x283)](_0x592279(0x652));_0x2cdb0b[_0x592279(0xc71)]=!![],_0x2cdb0b[_0x592279(0x545)]=_0x592279(0x982);try{const _0x597750=currentQuizData[_0x592279(0x13f)][_0x592279(0x87e)]((_0xa2d44d,_0x290397)=>{const _0xe4ef23=_0x592279;let _0x760a07='';const _0x3ac122=_0xa2d44d[_0xe4ef23(0x430)]||currentQuizData[_0xe4ef23(0x461)];switch(_0x3ac122){case'multiple_choice':_0x760a07=_0xa2d44d['options'][_0xa2d44d[_0xe4ef23(0x7ed)]];break;case _0xe4ef23(0x358):_0x760a07=_0xa2d44d[_0xe4ef23(0x649)];break;case _0xe4ef23(0x50e):_0x760a07=_0xa2d44d[_0xe4ef23(0xad1)][_0xe4ef23(0x99d)]();break;case'matching_item':_0x760a07=_0xa2d44d[_0xe4ef23(0xdcc)];break;}return{'question':_0xa2d44d['stem']||_0xa2d44d[_0xe4ef23(0xb0e)],'options':_0xa2d44d['options']||null,'proposedAnswer':_0x760a07};}),_0x435772=_0x592279(0x8db)+JSON[_0x592279(0x6b3)](_0x597750)+_0x592279(0xd11),_0x20d955={'type':_0x592279(0x1ff),'items':{'type':_0x592279(0xbc1),'properties':{'questionIndex':{'type':_0x592279(0xc1d)},'isCorrect':{'type':_0x592279(0xd50)},'justification':{'type':_0x592279(0xa44)},'suggestedAnswer':{'type':_0x592279(0xa44)}},'required':[_0x592279(0xda4),_0x592279(0xb7c),_0x592279(0xa24)]}},_0x5174a5=await callAnalysisApi(_0x435772,{'type':_0x592279(0xbc1),'properties':{'result':_0x20d955},'required':[_0x592279(0x796)]});displayVerificationResults(_0x5174a5['result']);}catch(_0x5a1806){console[_0x592279(0xe4d)](_0x592279(0x85f),_0x5a1806),showMessage(_0x592279(0x61c));}finally{_0x2cdb0b[_0x592279(0xc71)]=![],_0x2cdb0b[_0x592279(0x545)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง';}}function displayVerificationResults(_0x3982b9){const _0x19f5e5=_0x3db3a6;_0x3982b9[_0x19f5e5(0x277)](_0x101657=>{const _0x1105aa=_0x19f5e5,_0x46a23a=document['querySelector'](_0x1105aa(0xbd0)+_0x101657['questionIndex']+'\x22]');if(_0x46a23a){const _0x5bc50e=_0x46a23a[_0x1105aa(0x1a6)](_0x1105aa(0x10b));if(_0x5bc50e)_0x5bc50e[_0x1105aa(0x31b)]();let _0x6f4714='';_0x101657[_0x1105aa(0xb7c)]?_0x6f4714='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x6f4714='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x101657[_0x1105aa(0xa24)]+_0x1105aa(0xe5d)+(_0x101657[_0x1105aa(0x7e1)]?_0x1105aa(0xc61)+_0x101657[_0x1105aa(0x7e1)]+_0x1105aa(0x74f):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x46a23a[_0x1105aa(0xc4c)](_0x1105aa(0x136),_0x6f4714);}}),showMessage('ตรวจทานเฉลยเสร็จสิ้น!');}function compareNumericalAnswers(_0x559f33,_0x7f1277){const _0x511009=_0x3db3a6,_0x3f60e0=String(_0x559f33)[_0x511009(0x950)](',','.')[_0x511009(0x950)](/[^\d.-]/g,'')['trim'](),_0xa7ffc6=String(_0x7f1277)[_0x511009(0x950)](',','.')[_0x511009(0x950)](/[^\d.-]/g,'')[_0x511009(0xc29)]();if(_0x3f60e0===''||_0xa7ffc6==='')return![];const _0x3a82ab=parseFloat(_0x3f60e0),_0x2ea5c5=parseFloat(_0xa7ffc6);if(isNaN(_0x3a82ab)||isNaN(_0x2ea5c5))return![];return Math[_0x511009(0xa03)](_0x3a82ab-_0x2ea5c5)<0.001;}function isPotentiallyNumeric(_0x496640){const _0x12fe76=_0x3db3a6;if(typeof _0x496640!=='string'&&typeof _0x496640!=='number')return![];const _0x1a86f7=String(_0x496640)[_0x12fe76(0x950)](',','.')[_0x12fe76(0xc29)]();return _0x1a86f7!==''&&!isNaN(parseFloat(_0x1a86f7))&&isFinite(_0x1a86f7);}async function gradeShortAnswer(_0x50bc73,_0x29b5bb){const _0x19f632=_0x3db3a6,_0x39754c=_0x29b5bb[_0x19f632(0x649)],_0x3f3bdf=String(_0x50bc73)[_0x19f632(0x950)](/\$/g,'')[_0x19f632(0xc29)](),_0x355d4b=String(_0x39754c)[_0x19f632(0x950)](/\$/g,'')[_0x19f632(0xc29)]();if(_0x3f3bdf[_0x19f632(0xa8)]()===_0x355d4b[_0x19f632(0xa8)]())return!![];if(isPotentiallyNumeric(_0x3f3bdf)&&isPotentiallyNumeric(_0x355d4b)){if(compareNumericalAnswers(_0x3f3bdf,_0x355d4b))return!![];}return console[_0x19f632(0x6e6)](_0x19f632(0xc2a)),![];}async function revealAnswerForAdmin(_0x3a5354,_0x2fe117){const _0x2d0296=_0x3db3a6,_0x309018=doc(db,_0x2d0296(0x981)+appId+_0x2d0296(0xb8),currentLiveGameId);await updateDoc(_0x309018,{'questionStatus':'summary_chart'});}function showTop5LeaderboardView(_0x747713){const _0x6d2bdf=_0x3db3a6,_0x36a266=Object[_0x6d2bdf(0x2e5)](_0x747713[_0x6d2bdf(0x5ec)]||{})['filter'](_0x2e2890=>_0x2e2890[_0x6d2bdf(0x360)]==='active');_0x36a266['sort']((_0x77121a,_0x3c0d25)=>_0x3c0d25[_0x6d2bdf(0x791)]-_0x77121a[_0x6d2bdf(0x791)]);const _0x84d30a=_0x36a266['slice'](0x0,0x5),_0x56c854=_0x6d2bdf(0x632)+_0x84d30a[_0x6d2bdf(0x87e)]((_0x41ac9d,_0x3b5b5c)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0x3b5b5c+0x1)+'.\x20'+(_0x41ac9d[_0x6d2bdf(0x339)]||Object['keys'](_0x747713[_0x6d2bdf(0x5ec)])[_0x6d2bdf(0xe8)](_0x4ec314=>_0x747713[_0x6d2bdf(0x5ec)][_0x4ec314]===_0x41ac9d))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+_0x41ac9d[_0x6d2bdf(0x791)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x6d2bdf(0xd6e)]('')+_0x6d2bdf(0x37f)+(_0x747713['currentQuestionIndex']+0x1===currentQuizData[_0x6d2bdf(0x13f)]['length']?_0x6d2bdf(0x777):_0x6d2bdf(0xc30))+_0x6d2bdf(0x95b);liveGameView[_0x6d2bdf(0x545)]=_0x56c854,document['getElementById'](_0x6d2bdf(0xd3f))['addEventListener'](_0x6d2bdf(0x425),async()=>{const _0xeb20ad=_0x6d2bdf,_0x1e99dc=doc(db,_0xeb20ad(0x981)+appId+_0xeb20ad(0xb8),currentLiveGameId),_0x9505f1=_0x747713[_0xeb20ad(0x854)]+0x1;if(_0x9505f1<currentQuizData[_0xeb20ad(0x13f)][_0xeb20ad(0x110)]){const _0x2f3021={'currentQuestionIndex':_0x9505f1,'questionDisplayedAt':serverTimestamp(),'questionStatus':'answering'};Object[_0xeb20ad(0x598)](_0x747713[_0xeb20ad(0x5ec)])[_0xeb20ad(0x277)](_0x5c8cf0=>{const _0x1113e7=_0xeb20ad;_0x2f3021[_0x1113e7(0xcf2)+_0x5c8cf0+_0x1113e7(0xe1c)]=![];}),await updateDoc(_0x1e99dc,_0x2f3021);}else await updateDoc(_0x1e99dc,{'status':_0xeb20ad(0x46f)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x2bfd7b=>{const _0x50da0d=_0x5ca2;if(_0x2bfd7b){userId=_0x2bfd7b[_0x50da0d(0x4c2)],userIdDisplay['textContent']=userId;const _0x47bbc3=await loadUserPreferences();_0x47bbc3[_0x50da0d(0x192)]&&(document[_0x50da0d(0x283)](_0x50da0d(0xa3f))['value']=_0x47bbc3[_0x50da0d(0x192)]);globalDashboardSettings[_0x50da0d(0xd40)]=_0x47bbc3['projectView']||_0x50da0d(0xa07);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x28056d,_0x21731a){const _0x461efe=_0x3db3a6;if(!userId)return;try{const _0xeedcba=doc(db,_0x461efe(0x981)+appId+_0x461efe(0xafe)+userId+_0x461efe(0xdf)),_0x10df2e={};_0x10df2e[_0x28056d]=_0x21731a,await setDoc(_0xeedcba,_0x10df2e,{'merge':!![]});}catch(_0x180ac8){console['error'](_0x461efe(0x567),_0x180ac8);}}async function loadUserPreferences(){const _0x2956ca=_0x3db3a6;if(!userId)return{};try{const _0x4c7d78=doc(db,_0x2956ca(0x981)+appId+_0x2956ca(0xafe)+userId+'/preferences/main'),_0x17d079=await getDoc(_0x4c7d78);if(_0x17d079[_0x2956ca(0xaed)]())return _0x17d079[_0x2956ca(0x366)]();return{};}catch(_0x806fa1){return console[_0x2956ca(0xe4d)](_0x2956ca(0xbfc),_0x806fa1),{};}}function parseIndentedBlueprint(_0x133ecd){const _0x34b7a4=_0x3db3a6,_0x2615dc=_0x133ecd[_0x34b7a4(0x7ea)]('\x0a')[_0x34b7a4(0x1a1)](_0x14139b=>_0x14139b[_0x34b7a4(0xc29)]()!==''),_0x3f4cbf=[];let _0x479c55=null,_0x145996=null;return _0x2615dc[_0x34b7a4(0x277)](_0x5877aa=>{const _0x3f1d79=_0x34b7a4,_0x4d2344=_0x5877aa[_0x3f1d79(0xd7a)](/^\s*/)[0x0][_0x3f1d79(0x110)],_0x37f2ea=_0x5877aa[_0x3f1d79(0xc29)]();if(_0x4d2344===0x0)_0x479c55={'sara':_0x37f2ea,'mainTopics':[]},_0x3f4cbf[_0x3f1d79(0x827)](_0x479c55),_0x145996=null;else{if(_0x4d2344>0x0&&_0x4d2344<0x8&&_0x479c55)_0x145996={'topicName':_0x37f2ea,'subTopics':[]},_0x479c55[_0x3f1d79(0x18c)][_0x3f1d79(0x827)](_0x145996);else _0x4d2344>=0x8&&_0x145996&&_0x145996[_0x3f1d79(0x76d)][_0x3f1d79(0x827)](_0x37f2ea);}}),{'curriculum':_0x3f4cbf};}async function handleManualBlueprintSave(){const _0x6ded54=_0x3db3a6,_0x147022=document['getElementById']('manual-bp-project-name')[_0x6ded54(0xa89)][_0x6ded54(0xc29)](),_0x2f3646=document[_0x6ded54(0x283)](_0x6ded54(0x5e7))[_0x6ded54(0xa89)][_0x6ded54(0xc29)](),_0x25d29f=document[_0x6ded54(0x283)]('manual-bp-content')[_0x6ded54(0xa89)];if(!_0x147022||!_0x2f3646||!_0x25d29f){showMessage('กรุณากรอกข้อมูลให้ครบทุกช่อง');return;}const _0x40f798=parseIndentedBlueprint(_0x25d29f);if(!_0x40f798[_0x6ded54(0xbdf)]||_0x40f798[_0x6ded54(0xbdf)]['length']===0x0){showMessage('ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้');return;}const _0x4369b8={};let _0x102465=0x0;_0x40f798['curriculum'][_0x6ded54(0x277)](_0x861afa=>{const _0x17d9e9=_0x6ded54;_0x861afa[_0x17d9e9(0x18c)]['forEach'](_0x1df922=>{const _0x2f42f1=_0x17d9e9;_0x1df922[_0x2f42f1(0x76d)]['forEach'](_0x429928=>{const _0x774951=_0x2f42f1,_0x5048b6=_0x774951(0x6bb)+Date['now']()+Math[_0x774951(0x2cc)]()[_0x774951(0x99d)](0x24)[_0x774951(0x55c)](0x2,0x9);_0x4369b8[_0x5048b6]={'sara':_0x861afa[_0x774951(0x75b)],'mainTopic':_0x1df922[_0x774951(0x510)],'subTopic':_0x429928,'status':_0x774951(0xb20),'lessonContent':null,'order':_0x102465++};});});});try{const _0x24f7d5=collection(db,_0x6ded54(0x981)+appId+_0x6ded54(0xfb));await addDoc(_0x24f7d5,{'projectName':_0x147022,'gradeLevel':_0x2f3646,'topics':_0x4369b8,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x147022+_0x6ded54(0xddc)),document[_0x6ded54(0x283)](_0x6ded54(0xb0a))[_0x6ded54(0x605)][_0x6ded54(0xd74)](_0x6ded54(0x9a0));}catch(_0x45b575){console[_0x6ded54(0xe4d)](_0x6ded54(0x459),_0x45b575),showMessage(_0x6ded54(0x9be));}}function handleClearAllLinksForTopic(_0x5b21dd){const _0x3c9e6a=_0x3db3a6;showConfirmation(_0x3c9e6a(0xc5b),async()=>{const _0x4fed84=_0x3c9e6a;try{const _0x689cdf=doc(db,_0x4fed84(0x981)+appId+_0x4fed84(0xfb),currentBlueprintProjectId);await updateDoc(_0x689cdf,{['topics.'+_0x5b21dd+_0x4fed84(0x6ae)]:[]}),showMessage(_0x4fed84(0x596)),openTopicQuizBank(_0x5b21dd),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0xa02b8b){console[_0x4fed84(0xe4d)](_0x4fed84(0xae1),_0xa02b8b),showMessage(_0x4fed84(0x653));}});}function showPodiumView(_0x927932,_0x22046c=_0x3db3a6(0xcbc),_0x94e4c7=null){const _0x28cb89=_0x3db3a6,_0x1358a2=_0x94e4c7?.[_0x28cb89(0xc89)]===!![],_0x27c829=Object['entries'](_0x927932)[_0x28cb89(0x87e)](([_0x287c5a,_0x573a78])=>({'name':_0x287c5a,'realScore':_0x573a78['realScore']||_0x573a78[_0x28cb89(0x791)]||0x0,'totalPoints':_0x573a78[_0x28cb89(0xd53)]||0x0,'badges':_0x573a78[_0x28cb89(0x6d1)]||[],'hasPerfectScoreBonus':_0x573a78[_0x28cb89(0xde4)]||![],'correctStreak':_0x573a78[_0x28cb89(0xa2e)]||0x0})),_0x1510d2=Math[_0x28cb89(0x8c3)](..._0x27c829[_0x28cb89(0x87e)](_0x128600=>_0x128600[_0x28cb89(0xd53)]),-Infinity),_0xed0a0a=Math[_0x28cb89(0x8c3)](..._0x27c829['map'](_0x3fd47b=>_0x3fd47b[_0x28cb89(0x6d9)]),-Infinity);_0x27c829[_0x28cb89(0x667)]((_0x287e3b,_0x4ef839)=>{const _0x1c5de1=_0x28cb89;if(_0x1358a2){const _0x1ac0cd=_0x4ef839[_0x1c5de1(0xd53)]-_0x287e3b[_0x1c5de1(0xd53)];if(_0x1ac0cd!==0x0)return _0x1ac0cd;const _0x5c3d72=_0x4ef839[_0x1c5de1(0x6d9)]-_0x287e3b[_0x1c5de1(0x6d9)];if(_0x5c3d72!==0x0)return _0x5c3d72;return _0x287e3b[_0x1c5de1(0x339)][_0x1c5de1(0x879)](_0x4ef839[_0x1c5de1(0x339)],'th');}else{const _0x512242=_0x4ef839[_0x1c5de1(0xd53)]-_0x287e3b['totalPoints'];if(_0x512242!==0x0)return _0x512242;const _0x62883d=_0x4ef839[_0x1c5de1(0x6d9)]-_0x287e3b['realScore'];if(_0x62883d!==0x0)return _0x62883d;return _0x287e3b['name']['localeCompare'](_0x4ef839[_0x1c5de1(0x339)],'th');}});let _0x26abcd=0x1;for(let _0x5ab1b4=0x0;_0x5ab1b4<_0x27c829['length'];_0x5ab1b4++){if(_0x5ab1b4>0x0){const _0x4f1a6d=_0x27c829[_0x5ab1b4-0x1],_0x518050=_0x27c829[_0x5ab1b4],_0x12a7ee=_0x518050[_0x28cb89(0xd53)]===_0x4f1a6d[_0x28cb89(0xd53)]&&_0x518050[_0x28cb89(0x6d9)]===_0x4f1a6d[_0x28cb89(0x6d9)];!_0x12a7ee&&(_0x26abcd=_0x5ab1b4+0x1);}_0x27c829[_0x5ab1b4]['displayRank']=_0x26abcd;}const _0x5e04c0=_0x4e8807=>{const _0x964a04=_0x28cb89;if(!_0x4e8807||_0x4e8807[_0x964a04(0x110)]===0x0)return'';const _0x491b7d={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x964a04(0xd0f)+_0x4e8807['map'](_0x51ab3f=>_0x491b7d[_0x51ab3f]||'')[_0x964a04(0xd6e)]('')+'</div>';},_0x4d0aae=_0x263f09=>{const _0x54e4fa=_0x28cb89;let _0x14bab0='';if(_0x1358a2){if(_0x263f09[_0x54e4fa(0xd53)]===_0x1510d2&&_0x1510d2>0x0)_0x14bab0+=_0x54e4fa(0xb87);if(_0x263f09['realScore']===_0xed0a0a&&_0xed0a0a>0x0)_0x14bab0+='<span\x20title=\x22เทพวิชาการ\x22>🎓</span>\x20';}else{if(_0x263f09[_0x54e4fa(0xde4)])_0x14bab0=_0x54e4fa(0x14b);}let _0x3b41f4='';_0x263f09['correctStreak']>=0x3&&(_0x3b41f4=_0x54e4fa(0x315)+_0x263f09[_0x54e4fa(0xa2e)]+'</span>');if(_0x1358a2){const _0x38f354=_0x263f09['totalPoints']>=0x0?'(+'+_0x263f09[_0x54e4fa(0xd53)][_0x54e4fa(0x33b)]()+')':'('+_0x263f09[_0x54e4fa(0xd53)][_0x54e4fa(0x33b)]()+')';return _0x54e4fa(0xa1f)+_0x263f09[_0x54e4fa(0x6d9)]+_0x54e4fa(0x6a5)+_0x38f354+_0x54e4fa(0x21d)+_0x14bab0+_0x3b41f4+_0x54e4fa(0x2e2);}else return _0x54e4fa(0xa1f)+_0x263f09['totalPoints']['toLocaleString']()+_0x54e4fa(0x154)+_0x14bab0+_0x3b41f4+_0x54e4fa(0x2e2);},_0x1b4afe=_0x4d5d1a=>{const _0x339f2b=_0x28cb89;if(_0x4d5d1a>=0x3)return _0x339f2b(0xb98)+_0x4d5d1a+_0x339f2b(0x3a6);return'';},_0x39b8e1=_0x27c829[_0x28cb89(0x972)](0x3),_0xc0301b=_0x39b8e1['length']>0x0?_0x28cb89(0x3bd)+_0x39b8e1[_0x28cb89(0x87e)]((_0x46be5f,_0x44f660)=>{const _0x104a5f=_0x28cb89;let _0x3e2ff0='';if(_0x1358a2){if(_0x46be5f['totalPoints']===_0x1510d2&&_0x1510d2>0x0)_0x3e2ff0+=_0x104a5f(0xb29);if(_0x46be5f[_0x104a5f(0x6d9)]===_0xed0a0a&&_0xed0a0a>0x0)_0x3e2ff0+='🎓\x20';}let _0x5c39c1='';return _0x1358a2?_0x5c39c1=_0x46be5f[_0x104a5f(0x6d9)]+_0x104a5f(0xcab)+_0x46be5f[_0x104a5f(0xd53)][_0x104a5f(0x33b)]()+')':_0x5c39c1=_0x46be5f[_0x104a5f(0xd53)]['toLocaleString']()+'\x20คะแนน',_0x104a5f(0xd28)+_0x46be5f[_0x104a5f(0x313)]+_0x104a5f(0xe43)+_0x46be5f[_0x104a5f(0x339)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1b4afe(_0x46be5f['correctStreak'])+_0x104a5f(0x648)+_0x5c39c1+'\x20'+_0x3e2ff0+_0x104a5f(0x676);})[_0x28cb89(0xd6e)]('')+_0x28cb89(0xb22):'',_0x13dad9=_0x28cb89(0x9c7)+(_0x27c829[0x1]?_0x28cb89(0x842)+_0x27c829[0x1][_0x28cb89(0x339)]+_0x28cb89(0x74f)+_0x4d0aae(_0x27c829[0x1])+'<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x20shadow-lg\x20border-t-4\x20border-gray-300\x22>'+_0x27c829[0x1][_0x28cb89(0x313)]+'</div></div>':_0x28cb89(0x600))+_0x28cb89(0x7b6)+(_0x27c829[0x0]?_0x28cb89(0x804)+_0x27c829[0x0]['name']+_0x28cb89(0x74f)+_0x4d0aae(_0x27c829[0x0])+_0x28cb89(0x2a1)+_0x27c829[0x0][_0x28cb89(0x313)]+_0x28cb89(0x362):_0x28cb89(0x600))+_0x28cb89(0x7b6)+(_0x27c829[0x2]?_0x28cb89(0x7b3)+_0x27c829[0x2][_0x28cb89(0x339)]+_0x28cb89(0x74f)+_0x4d0aae(_0x27c829[0x2])+'<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x20shadow-lg\x20border-t-4\x20border-amber-600\x22>'+_0x27c829[0x2][_0x28cb89(0x313)]+'</div></div>':_0x28cb89(0x600))+_0x28cb89(0xd73)+_0xc0301b+_0x28cb89(0x9d5)+(currentMode===_0x28cb89(0xa9)?_0x28cb89(0xb00):_0x28cb89(0x6a8))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';liveGameView['innerHTML']=_0x13dad9,currentMode===_0x28cb89(0xa9)?document['getElementById']('close-game-final-btn')['addEventListener'](_0x28cb89(0x425),async()=>{const _0x5f52a7=_0x28cb89;let _0x305df7;_0x22046c===_0x5f52a7(0xa8e)?_0x305df7=doc(db,_0x5f52a7(0x981)+appId+'/public/data/syncGames',currentLiveGameId):_0x305df7=doc(db,_0x5f52a7(0x981)+appId+_0x5f52a7(0xb8),currentLiveGameId),await deleteDoc(_0x305df7);}):document['getElementById'](_0x28cb89(0x497))?.['addEventListener'](_0x28cb89(0x425),()=>{const _0x30db1d=_0x28cb89;showView(_0x30db1d(0xae3));});}function renderSyncSummaryView(_0x429857,_0x52bff1,_0x5e5a30){const _0x3fb87d=_0x3db3a6,_0x5bd163=_0x429857[_0x3fb87d(0x5f3)]||_0x3fb87d(0x6ac),_0x4dad3c=(_0x5bd163===_0x3fb87d(0x2c0)||_0x5bd163===_0x3fb87d(0x6de))&&_0x429857[_0x3fb87d(0xd57)]===![],_0x2d6f2e=_0x5bd163===_0x3fb87d(0xa1c)||_0x5bd163==='anonymous_reveal_end',_0x2d9f12=_0x429857[_0x3fb87d(0x84d)]['questions'],_0x1277fa=_0x52bff1[_0x3fb87d(0x430)]||_0x429857[_0x3fb87d(0x84d)][_0x3fb87d(0x461)],_0x445909=_0x1277fa===_0x3fb87d(0x358)||_0x1277fa===_0x3fb87d(0x1c8);let _0x40f792='';if(_0x445909){let _0x3599b1=0x0,_0x587b90=0x0;const _0x529bfa=[],_0x6ae754=[];Object[_0x3fb87d(0xa71)](_0x429857['players']||{})[_0x3fb87d(0x277)](([_0x4acc18,_0x54d65c])=>{const _0x5f02e1=_0x3fb87d,_0x26640b=(_0x54d65c[_0x5f02e1(0x749)]||[])[_0x5f02e1(0xe8)](_0x22e425=>_0x22e425[_0x5f02e1(0xda4)]===_0x429857['currentQuestionIndex']);if(_0x54d65c[_0x5f02e1(0x360)]!==_0x5f02e1(0x69e)&&_0x26640b){const _0x26c1b6=_0x26640b[_0x5f02e1(0x72e)],_0x4387be=_0x4dad3c?_0x429857[_0x5f02e1(0xbe5)][_0x4acc18]||_0x5f02e1(0xca0):_0x4acc18;_0x26640b[_0x5f02e1(0xb7c)]?(_0x3599b1++,_0x529bfa[_0x5f02e1(0x827)](_0x4387be)):(_0x587b90++,_0x6ae754['push'](_0x5f02e1(0x787)+_0x4387be+_0x5f02e1(0xd5a)+(_0x26c1b6||_0x5f02e1(0xbfe))));}}),_0x40f792=_0x3fb87d(0x2ce)+_0x3599b1+_0x3fb87d(0x5e1)+(_0x529bfa['length']>0x0?_0x529bfa['join'](',\x20'):'-')+_0x3fb87d(0x67f)+_0x587b90+_0x3fb87d(0x574)+(_0x6ae754[_0x3fb87d(0x110)]>0x0?_0x6ae754[_0x3fb87d(0xd6e)](_0x3fb87d(0xb65)):'-')+_0x3fb87d(0x4ae);}else{let _0x26a7e2=[];_0x1277fa===_0x3fb87d(0x50e)?_0x26a7e2=[_0x3fb87d(0x45e),'ไม่ใช่\x20/\x20ผิด']:_0x26a7e2=_0x52bff1[_0x3fb87d(0xbed)]||[];const _0x415455=new Array(_0x26a7e2['length'])['fill'](0x0),_0x3136bc={};_0x26a7e2['forEach']((_0x3e1e96,_0x1c232a)=>{_0x3136bc[_0x1c232a]=[];}),Object[_0x3fb87d(0xa71)](_0x429857['players']||{})['forEach'](([_0x211c93,_0x52f556])=>{const _0xc4c992=_0x3fb87d,_0x2a970d=(_0x52f556[_0xc4c992(0x749)]||[])[_0xc4c992(0xe8)](_0x4f3086=>_0x4f3086[_0xc4c992(0xda4)]===_0x429857[_0xc4c992(0x854)]);if(_0x52f556[_0xc4c992(0x360)]!=='inactive'&&_0x2a970d&&_0x2a970d[_0xc4c992(0x9a9)]!==null){const _0x50fa72=parseInt(_0x2a970d[_0xc4c992(0x9a9)]);if(!isNaN(_0x50fa72)&&_0x3136bc[_0x50fa72]!==undefined){const _0x3dbc03=_0x4dad3c?_0x429857[_0xc4c992(0xbe5)][_0x211c93]||'???':_0x211c93;_0x3136bc[_0x50fa72]['push'](_0x3dbc03),_0x415455[_0x50fa72]++;}}}),_0x40f792='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x415455[_0x3fb87d(0x87e)]((_0xf70013,_0x5db9f0)=>{const _0x2ac884=_0x3fb87d,_0x3bdc27=_0x3136bc[_0x5db9f0][_0x2ac884(0x110)]>0x0?_0x3136bc[_0x5db9f0]['join'](',\x20'):_0x2ac884(0xb31),_0x32f260='#6366F1';return _0x2ac884(0xbd3)+_0xf70013+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x20style=\x22min-height:\x2060px;\x20background-color:\x20'+_0x32f260+_0x2ac884(0x9dd)+_0x5db9f0+_0x2ac884(0xd75)+_0x26a7e2[_0x5db9f0]+_0x2ac884(0x802)+_0x5db9f0+_0x2ac884(0x85c)+_0x3bdc27+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x3fb87d(0xd6e)]('')+_0x3fb87d(0x131);}let _0xf3a7be='';const _0x5493c8=_0x429857[_0x3fb87d(0x854)]>=_0x2d9f12[_0x3fb87d(0x110)]-0x1;_0x5e5a30?_0x2d6f2e?_0x5493c8?_0xf3a7be=_0x3fb87d(0x288):_0xf3a7be=_0x3fb87d(0xba2):_0xf3a7be=_0x3fb87d(0x979):_0x2d6f2e?_0xf3a7be=_0x3fb87d(0x3c7):_0xf3a7be=_0x3fb87d(0xaae);const _0x10e363=_0x5e5a30?_0x3fb87d(0x4a3)+_0x429857[_0x3fb87d(0xc57)]+_0x3fb87d(0xde0):'',_0x448e52='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x10e363+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>'+(_0x52bff1[_0x3fb87d(0xb0e)]||_0x52bff1[_0x3fb87d(0x2f5)]||'')+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x40f792+_0x3fb87d(0x682)+_0xf3a7be+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x3fb87d(0x545)]=_0x448e52;if(window['MathJax'])MathJax[_0x3fb87d(0x130)]();if(_0x5e5a30){const _0x50109e=doc(db,'artifacts/'+appId+_0x3fb87d(0x7f8),currentLiveGameId);document['getElementById'](_0x3fb87d(0xb4a))?.[_0x3fb87d(0x844)](_0x3fb87d(0x425),async()=>{const _0x40be62=_0x3fb87d,_0x95d10c=Object[_0x40be62(0x2e5)](_0x429857['players']||{})['map'](_0x492a0a=>({'name':_0x492a0a[_0x40be62(0x339)],'score':_0x492a0a[_0x40be62(0x791)]||0x0,'totalPoints':_0x492a0a['totalPoints']||0x0,'pointsLastRound':_0x492a0a[_0x40be62(0xc21)]||0x0,'answers':_0x492a0a[_0x40be62(0x749)]||[],'correctStreak':_0x492a0a[_0x40be62(0xa2e)]||0x0}));await updateDoc(_0x50109e,{'status':_0x40be62(0x940),'publicLeaderboard':_0x95d10c});}),document[_0x3fb87d(0x283)]('open-sync-scratchpad-btn')?.[_0x3fb87d(0x844)](_0x3fb87d(0x425),()=>{const _0x38ba37=_0x3fb87d;openScratchpad(_0x52bff1,_0x52bff1[_0x38ba37(0xbed)]||[]);}),document['getElementById'](_0x3fb87d(0x7a1))?.[_0x3fb87d(0x844)](_0x3fb87d(0x425),async()=>{const _0x3a8719=_0x3fb87d,_0x58c774=_0x429857[_0x3a8719(0x854)]+0x1;await updateDoc(_0x50109e,{'status':_0x3a8719(0xc78),'currentQuestionIndex':_0x58c774,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}),document[_0x3fb87d(0x283)](_0x3fb87d(0xe9))?.[_0x3fb87d(0x844)](_0x3fb87d(0x425),async()=>{const _0x36871c=_0x3fb87d,_0x53668b=Object['values'](_0x429857[_0x36871c(0x5ec)]||{})[_0x36871c(0x87e)](_0x4e9d2c=>({'name':_0x4e9d2c['name'],'score':_0x4e9d2c[_0x36871c(0x791)]||0x0,'totalPoints':_0x4e9d2c['totalPoints']||0x0,'pointsLastRound':_0x4e9d2c[_0x36871c(0xc21)]||0x0,'answers':_0x4e9d2c[_0x36871c(0x749)]||[],'correctStreak':_0x4e9d2c[_0x36871c(0xa2e)]||0x0}));await updateDoc(_0x50109e,{'status':'results','reviewQuestionIndex':0x0,'publicLeaderboard':_0x53668b});});}}function renderAnonymousStudentResultsView(_0x4d5bba){const _0x5c53e6=_0x3db3a6,_0x206de5=_0x4d5bba[_0x5c53e6(0x854)]>=_0x4d5bba[_0x5c53e6(0x84d)][_0x5c53e6(0x13f)]['length']-0x1;let _0x2dea7d='';if(_0x4d5bba['isAnonymousRevealed']===!![]){const _0x2a939d=_0x4d5bba[_0x5c53e6(0x5ec)][localTeamPlayers[0x0]],_0x2be479=_0x2a939d[_0x5c53e6(0x339)],_0x2e87de=_0x2a939d[_0x5c53e6(0x791)];_0x2dea7d=_0x5c53e6(0x5a9)+_0x2be479+_0x5c53e6(0x6f8)+_0x2e87de+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}else _0x2dea7d=_0x5c53e6(0x102)+(_0x206de5?_0x5c53e6(0x436):_0x5c53e6(0x472))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';const _0x3bdabf=_0x5c53e6(0x5c9)+_0x2dea7d+_0x5c53e6(0x1f9);liveGameView[_0x5c53e6(0x545)]=_0x3bdabf;}async function handleShowStudentRankings(){const _0x494b74=_0x3db3a6,_0x2413f6=document[_0x494b74(0x1a6)]('#student-quiz-leaderboard-content\x20thead');_0x2413f6&&(_0x2413f6['innerHTML']=_0x494b74(0xb81));const _0x16d9d3=document[_0x494b74(0x1a6)]('#student-project-leaderboard-content\x20thead');_0x16d9d3&&(_0x16d9d3['innerHTML']=_0x494b74(0xb34));const _0x51f788=document[_0x494b74(0x283)](_0x494b74(0x325));_0x51f788[_0x494b74(0x605)][_0x494b74(0x31b)](_0x494b74(0x9a0)),document[_0x494b74(0x283)](_0x494b74(0x6f7))[_0x494b74(0x74a)]=()=>_0x51f788[_0x494b74(0x605)][_0x494b74(0xd74)](_0x494b74(0x9a0));const _0x3f7c9a=document[_0x494b74(0x283)](_0x494b74(0x5f6)),_0x183595=document['getElementById'](_0x494b74(0x3ac)),_0x28a411=document[_0x494b74(0x283)](_0x494b74(0xb25)),_0x673e19=document['getElementById'](_0x494b74(0x9e5));_0x3f7c9a[_0x494b74(0x74a)]=()=>{const _0x12c57e=_0x494b74;_0x3f7c9a['classList']['add'](_0x12c57e(0xcce)),_0x183595[_0x12c57e(0x605)]['remove'](_0x12c57e(0xcce)),_0x28a411[_0x12c57e(0x605)]['remove'](_0x12c57e(0x9a0)),_0x673e19[_0x12c57e(0x605)][_0x12c57e(0xd74)](_0x12c57e(0x9a0));},_0x183595['onclick']=()=>{const _0x2718e6=_0x494b74;_0x183595[_0x2718e6(0x605)]['add'](_0x2718e6(0xcce)),_0x3f7c9a[_0x2718e6(0x605)][_0x2718e6(0x31b)]('active'),_0x673e19[_0x2718e6(0x605)]['remove'](_0x2718e6(0x9a0)),_0x28a411['classList'][_0x2718e6(0xd74)]('hidden');};try{const _0x3a1d63=collection(db,_0x494b74(0x981)+appId+_0x494b74(0x1c4)+currentQuizData['id']+_0x494b74(0xb8f)),_0x59620f=await getDocs(_0x3a1d63),_0x2640c=_0x59620f['docs'][_0x494b74(0x87e)](_0x25bec3=>_0x25bec3[_0x494b74(0x366)]());renderQuizLeaderboard(_0x2640c,currentQuizData,_0x494b74(0x612));const _0x40d5ee=collection(db,_0x494b74(0x981)+appId+_0x494b74(0xb91)+currentQuizData[_0x494b74(0x47e)]+_0x494b74(0xfa)),_0x4496d4=await getDocs(_0x40d5ee),_0x39a330=_0x4496d4[_0x494b74(0xcf4)]['map'](_0xe2a016=>_0xe2a016[_0x494b74(0x366)]());renderLeaderboard(_0x39a330,'student-project-leaderboard-table-body');}catch(_0x5016dc){console['error'](_0x494b74(0x922),_0x5016dc),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x73a276){const _0x333e53=_0x3db3a6,_0x1eddbe=_0x73a276['currentTarget'],_0x217c08=_0x1eddbe[_0x333e53(0x845)][_0x333e53(0x908)],_0x1c8d1b=currentQuizData[_0x333e53(0x13f)][_0x217c08];if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้');return;}try{const _0x274d9b={..._0x1c8d1b,'originalTopic':currentQuizData[_0x333e53(0xe5f)],'savedAt':serverTimestamp()},_0x49f8b0=collection(db,_0x333e53(0x981)+appId+_0x333e53(0xafe)+userId+_0x333e53(0x644));await addDoc(_0x49f8b0,_0x274d9b),showMessage(_0x333e53(0x62e)),_0x1eddbe[_0x333e53(0x605)][_0x333e53(0x31b)](_0x333e53(0x6db)),_0x1eddbe['classList'][_0x333e53(0xd74)](_0x333e53(0xa08)),_0x1eddbe['disabled']=!![];}catch(_0x4f6277){console[_0x333e53(0xe4d)](_0x333e53(0x364),_0x4f6277),showMessage(_0x333e53(0x7c3));}}async function selectProjectAndGenerateBlueprintQuiz(_0x1ca5d1,_0x5e0672=null,_0x5743cb=null,_0x26e691=![]){const _0x53b5e6=_0x3db3a6;cameFromBlueprint=!![];const _0x136133=document[_0x53b5e6(0x283)](_0x53b5e6(0x735))?.[_0x53b5e6(0xa89)][_0x53b5e6(0xc29)]();let _0x499f31=null;if(_0x136133){showMessage(_0x53b5e6(0x126));try{const _0x5bb66f=await fetchFileFromUrl(_0x136133,_0x53b5e6(0x774)),_0x27f955=await new Promise((_0x2dce1f,_0x10c62b)=>{const _0x3204ec=_0x53b5e6,_0x30fd30=new FileReader();_0x30fd30[_0x3204ec(0x640)](_0x5bb66f),_0x30fd30[_0x3204ec(0xafb)]=()=>_0x2dce1f(_0x30fd30['result'][_0x3204ec(0x7ea)](',')[0x1]),_0x30fd30[_0x3204ec(0x29a)]=_0x10c62b;});_0x499f31=[{'inlineData':{'mimeType':_0x5bb66f['type'],'data':_0x27f955}}],messageModal[_0x53b5e6(0x605)][_0x53b5e6(0xd74)](_0x53b5e6(0x9a0));}catch(_0x37aa7d){console[_0x53b5e6(0xe4d)](_0x53b5e6(0x6fe),_0x37aa7d),showMessage('ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ');}}const _0x388ecb=document[_0x53b5e6(0x283)]('move-quiz-modal'),_0x207119=document['getElementById'](_0x53b5e6(0xcd8)),_0x210436=_0x388ecb[_0x53b5e6(0x1a6)]('h3'),_0x4e4aad=document[_0x53b5e6(0x283)](_0x53b5e6(0x64f)),_0x477510=document[_0x53b5e6(0x283)]('cancel-move-quiz-btn');_0x210436[_0x53b5e6(0x1bd)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x4e4aad['textContent']=_0x53b5e6(0xf9),_0x4e4aad[_0x53b5e6(0xc71)]=!![];allProjects[_0x53b5e6(0x110)]===0x0?_0x207119[_0x53b5e6(0x545)]=_0x53b5e6(0x35a):(_0x207119[_0x53b5e6(0x545)]=_0x53b5e6(0xc3)+allProjects[_0x53b5e6(0x87e)](_0x2e1365=>_0x53b5e6(0x4cc)+_0x2e1365['id']+'\x22>'+_0x2e1365[_0x53b5e6(0xe60)]+_0x53b5e6(0xc4e))['join'](''),_0x4e4aad['disabled']=![]);_0x388ecb['classList'][_0x53b5e6(0x31b)](_0x53b5e6(0x9a0));const _0x23bf39=async()=>{const _0x35dd93=_0x53b5e6,_0x4ae180=_0x207119['value'];if(!_0x4ae180){showMessage(_0x35dd93(0x108));return;}_0x388ecb[_0x35dd93(0x605)][_0x35dd93(0xd74)](_0x35dd93(0x9a0)),document['getElementById'](_0x35dd93(0x4c3))[_0x35dd93(0x605)][_0x35dd93(0xd74)](_0x35dd93(0x9a0)),await loadProjectDetails(_0x4ae180),showView(_0x35dd93(0x964)),handleGenerateQuizFromBlueprintTopic(_0x1ca5d1,_0x5e0672,_0x4ae180,_0x5743cb,_0x26e691,_0x499f31),_0x3342cb();},_0x3342cb=()=>{const _0x550b97=_0x53b5e6;_0x210436[_0x550b97(0x1bd)]=_0x550b97(0xaee),_0x4e4aad['textContent']='ย้าย',_0x4e4aad[_0x550b97(0xe2c)](_0x550b97(0x425),_0x23bf39),_0x477510[_0x550b97(0xe2c)](_0x550b97(0x425),_0x3342cb),_0x4e4aad[_0x550b97(0x844)](_0x550b97(0x425),confirmMoveQuiz);};_0x4e4aad[_0x53b5e6(0xe2c)](_0x53b5e6(0x425),confirmMoveQuiz),_0x4e4aad['addEventListener'](_0x53b5e6(0x425),_0x23bf39),_0x477510[_0x53b5e6(0x844)](_0x53b5e6(0x425),_0x3342cb);}function listenForStarredQuizzes(){const _0x4141e1=_0x3db3a6;if(!userId)return;const _0x19b325=collection(db,_0x4141e1(0x981)+appId+_0x4141e1(0x8e0)),_0x3a0513=query(_0x19b325,where(_0x4141e1(0xae9),'==',!![]));onSnapshot(_0x3a0513,_0x56e5e6=>{const _0x22d648=_0x4141e1;starredQuizzes=_0x56e5e6[_0x22d648(0xcf4)][_0x22d648(0x87e)](_0x484f1d=>({'id':_0x484f1d['id'],..._0x484f1d[_0x22d648(0x366)]()})),currentProjectId===_0x22d648(0x7d5)?renderQuizzes():renderProjects();},_0x3c8f5f=>{const _0x3d3ab6=_0x4141e1;console['error'](_0x3d3ab6(0xb5),_0x3c8f5f);});}function listenForFileShortcuts(){const _0x2cc294=_0x3db3a6,_0xe061a2=doc(db,_0x2cc294(0x2c2),_0x2cc294(0x120));onSnapshot(_0xe061a2,_0x5c53f8=>{const _0xdbeac5=_0x2cc294;let _0x2a73e5=[],_0x3dd7a9=[],_0x24a229={};if(_0x5c53f8[_0xdbeac5(0xaed)]()){const _0x41d110=_0x5c53f8[_0xdbeac5(0x366)]();_0x2a73e5=_0x41d110['shortcuts']||[],_0x3dd7a9=_0x41d110[_0xdbeac5(0x4b8)]||[],_0x24a229=_0x41d110[_0xdbeac5(0x64e)]||{};}!_0x3dd7a9[_0xdbeac5(0xe8)](_0x419e06=>_0x419e06['id']==='all')&&_0x3dd7a9[_0xdbeac5(0x33a)]({'id':'all','name':_0xdbeac5(0xd68),'isDefault':!![]}),!_0x2a73e5[_0xdbeac5(0xe8)](_0x57a2ac=>_0x57a2ac['id']===_0xdbeac5(0x9ee))&&_0x2a73e5[_0xdbeac5(0x33a)]({'id':_0xdbeac5(0x9ee),'name':_0xdbeac5(0x1ac),'url':'','isDefault':!![]}),!_0x2a73e5['find'](_0x62c6b7=>_0x62c6b7['id']==='file-default-2')&&_0x2a73e5[_0xdbeac5(0x33a)]({'id':_0xdbeac5(0x6cd),'name':_0xdbeac5(0x683),'url':'','isDefault':!![]}),fileShortcuts=_0x2a73e5,fileShortcutTabs=_0x3dd7a9,fileShortcutOrder=_0x24a229,renderFileShortcuts(),!document[_0xdbeac5(0x283)](_0xdbeac5(0x3b7))['classList'][_0xdbeac5(0x5a0)]('hidden')&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x583de1=_0x3db3a6,_0x530073=doc(db,_0x583de1(0x2c2),_0x583de1(0x120));try{await setDoc(_0x530073,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x305d9c){console[_0x583de1(0xe4d)](_0x583de1(0x3f6),_0x305d9c);}}function renderAdditionalFileShortcutsModal(){const _0x35d58a=_0x3db3a6,_0x501926=document[_0x35d58a(0x283)](_0x35d58a(0xa01)),_0x31c69a=document[_0x35d58a(0x283)](_0x35d58a(0x6e9));if(!_0x501926||!_0x31c69a)return;_0x501926['innerHTML']=fileShortcutTabs['map'](_0x32820b=>{const _0x57bf4c=_0x35d58a,_0x369e81=_0x32820b['id']===activeFileShortcutTabId;return _0x57bf4c(0xbaa)+_0x32820b['id']+_0x57bf4c(0xa0a)+(_0x369e81?_0x57bf4c(0x803):'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x32820b['name']+_0x57bf4c(0xe3d)+_0x32820b['name']+_0x57bf4c(0x98b)+(!_0x32820b[_0x57bf4c(0x36e)]?'<button\x20data-tab-id=\x22'+_0x32820b['id']+_0x57bf4c(0xcbf):'')+_0x57bf4c(0x5f8);})[_0x35d58a(0xd6e)]('');const _0x217543=fileShortcutTabs[_0x35d58a(0xe8)](_0x15ca1b=>_0x15ca1b['id']===activeFileShortcutTabId);let _0x9db223=_0x217543?.[_0x35d58a(0x36e)]?[...fileShortcuts]:fileShortcuts[_0x35d58a(0x1a1)](_0x30e4c4=>(_0x217543?.[_0x35d58a(0x6c3)]||[])[_0x35d58a(0x2e8)](_0x30e4c4['id']));const _0xa32cbc=fileShortcutOrder[activeFileShortcutTabId]||[];_0x9db223['sort']((_0x4f22f6,_0x265987)=>{const _0x5e0d7e=_0x35d58a,_0x1b9617=_0xa32cbc[_0x5e0d7e(0x52f)](_0x4f22f6['id']),_0x480ce7=_0xa32cbc['indexOf'](_0x265987['id']);return(_0x1b9617===-0x1?Infinity:_0x1b9617)-(_0x480ce7===-0x1?Infinity:_0x480ce7);}),_0x31c69a[_0x35d58a(0x545)]=_0x9db223[_0x35d58a(0x87e)](_0x274aac=>{const _0x39d005=_0x35d58a,_0x22cc64=_0x274aac[_0x39d005(0xd87)]?'📄':'🔗',_0x3c50e5=fileShortcutTabs[_0x39d005(0x1a1)](_0xbeb5d7=>!_0xbeb5d7[_0x39d005(0x36e)]),_0x566c68=_0x217543['isDefault']&&_0x3c50e5[_0x39d005(0x110)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3c50e5[_0x39d005(0x87e)](_0x5c6c16=>_0x39d005(0x60a)+_0x274aac['id']+_0x39d005(0xa68)+_0x5c6c16['id']+'\x22>'+_0x5c6c16[_0x39d005(0x339)]+_0x39d005(0xe5a))['join']('')+_0x39d005(0x215):'';return _0x39d005(0x694)+_0x274aac['id']+_0x39d005(0x56e)+_0x22cc64+'\x20'+_0x274aac[_0x39d005(0x339)]+_0x39d005(0x247)+_0x274aac['id']+_0x39d005(0xd04)+_0x274aac['id']+_0x39d005(0x98f)+(!_0x274aac[_0x39d005(0x36e)]?_0x39d005(0xa22)+_0x274aac['id']+_0x39d005(0x9da):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x217543[_0x39d005(0x36e)]?_0x39d005(0x2e7)+_0x274aac['id']+'\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x39d005(0x175)+_0x566c68+_0x39d005(0xb6c);})['join']('')||_0x35d58a(0x664),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x35f7d7=_0x3db3a6;document['querySelectorAll'](_0x35f7d7(0x63b))['forEach'](_0x29db7f=>{const _0x2567e8=_0x35f7d7;_0x29db7f[_0x2567e8(0x74a)]=_0x51f4e5=>{const _0x4c7a22=_0x2567e8;activeFileShortcutTabId=_0x51f4e5[_0x4c7a22(0x4c4)][_0x4c7a22(0x845)]['tabId'],renderAdditionalFileShortcutsModal();},_0x29db7f[_0x2567e8(0x232)]=_0x2896fa=>{const _0x328566=_0x2567e8,_0x40ea65=_0x2896fa[_0x328566(0x4c4)][_0x328566(0x1a6)](_0x328566(0x7f0));_0x2896fa[_0x328566(0x4c4)][_0x328566(0x1a6)](_0x328566(0x29d))[_0x328566(0x605)]['add'](_0x328566(0x9a0)),_0x40ea65[_0x328566(0x605)][_0x328566(0x31b)](_0x328566(0x9a0)),_0x40ea65[_0x328566(0xccd)](),_0x40ea65[_0x328566(0x7f7)]();};}),document[_0x35f7d7(0x68a)](_0x35f7d7(0xd48))[_0x35f7d7(0x277)](_0x2f49dc=>{const _0x2b262d=_0x35f7d7,_0x49f797=()=>{const _0x2353f8=_0x5ca2,_0x30f7b1=_0x2f49dc[_0x2353f8(0x455)](_0x2353f8(0x63b))[_0x2353f8(0x845)][_0x2353f8(0x11f)],_0x1f3065=fileShortcutTabs[_0x2353f8(0xe8)](_0x1c1481=>_0x1c1481['id']===_0x30f7b1);_0x1f3065&&(_0x1f3065[_0x2353f8(0x339)]=_0x2f49dc[_0x2353f8(0xa89)][_0x2353f8(0xc29)]()||_0x1f3065[_0x2353f8(0x339)],saveFileShortcutConfig());};_0x2f49dc[_0x2b262d(0x3fc)]=_0x49f797,_0x2f49dc[_0x2b262d(0x3bc)]=_0xe02738=>{const _0x371f4c=_0x2b262d;if(_0xe02738[_0x371f4c(0x94e)]==='Enter')_0x2f49dc[_0x371f4c(0x40e)]();};}),document['querySelectorAll'](_0x35f7d7(0xdce))[_0x35f7d7(0x277)](_0x1baca5=>_0x1baca5['onclick']=_0x9fe481=>{const _0x5feceb=_0x35f7d7,_0x537961=_0x9fe481[_0x5feceb(0x4c4)][_0x5feceb(0x845)][_0x5feceb(0x11f)];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0x334d71=_0x5feceb;fileShortcutTabs=fileShortcutTabs[_0x334d71(0x1a1)](_0x5bab9c=>_0x5bab9c['id']!==_0x537961),delete fileShortcutOrder[_0x537961];if(activeFileShortcutTabId===_0x537961)activeFileShortcutTabId=_0x334d71(0xd1a);saveFileShortcutConfig();});}),document[_0x35f7d7(0x68a)]('.move-file-shortcut-item')[_0x35f7d7(0x277)](_0x5510d4=>_0x5510d4['onclick']=_0x49a6c3=>{const _0x40d359=_0x35f7d7;_0x49a6c3[_0x40d359(0xde6)]();const {shortcutId:_0x491c17,targetTabId:_0x5db106}=_0x49a6c3[_0x40d359(0x4c4)][_0x40d359(0x845)],_0x316956=fileShortcutTabs[_0x40d359(0xe8)](_0x56fd84=>_0x56fd84['id']===_0x5db106);_0x316956&&!_0x316956[_0x40d359(0x6c3)][_0x40d359(0x2e8)](_0x491c17)&&(_0x316956['shortcutIds'][_0x40d359(0x827)](_0x491c17),saveFileShortcutConfig());}),document[_0x35f7d7(0x68a)](_0x35f7d7(0x41c))[_0x35f7d7(0x277)](_0x1ba352=>_0x1ba352['onclick']=_0x1e9d78=>{const _0x32cf09=_0x35f7d7,_0x2abda8=_0x1e9d78[_0x32cf09(0x4c4)]['dataset'][_0x32cf09(0xb66)],_0x2c911c=fileShortcutTabs['find'](_0x191d37=>_0x191d37['id']===activeFileShortcutTabId);_0x2c911c&&!_0x2c911c[_0x32cf09(0x36e)]&&(_0x2c911c['shortcutIds']=_0x2c911c[_0x32cf09(0x6c3)][_0x32cf09(0x1a1)](_0x2b76f1=>_0x2b76f1!==_0x2abda8),saveFileShortcutConfig());}),document[_0x35f7d7(0x68a)](_0x35f7d7(0xaa6))[_0x35f7d7(0x277)](_0x48d28d=>_0x48d28d[_0x35f7d7(0x74a)]=_0x306025=>{const _0x5e141b=_0x35f7d7;_0x306025['stopPropagation']();const _0x55e8d3=_0x306025[_0x5e141b(0x4c4)]['nextElementSibling'];document[_0x5e141b(0x68a)](_0x5e141b(0x893))[_0x5e141b(0x277)](_0x39acff=>_0x39acff[_0x5e141b(0x605)][_0x5e141b(0xd74)](_0x5e141b(0x9a0))),_0x55e8d3[_0x5e141b(0x605)][_0x5e141b(0x31b)](_0x5e141b(0x9a0));});const _0x9ef2ca=document[_0x35f7d7(0x283)](_0x35f7d7(0x6e9));let _0xfa948a=null;_0x9ef2ca[_0x35f7d7(0xc03)]=_0x8241b7=>{const _0x51e917=_0x35f7d7;_0xfa948a=_0x8241b7[_0x51e917(0x543)][_0x51e917(0x455)]('.shortcut-list-item');if(_0xfa948a)setTimeout(()=>_0xfa948a[_0x51e917(0x605)][_0x51e917(0xd74)](_0x51e917(0x862)),0x0);},_0x9ef2ca[_0x35f7d7(0xd6b)]=()=>{const _0x287f96=_0x35f7d7;_0xfa948a&&(_0xfa948a[_0x287f96(0x605)]['remove'](_0x287f96(0x862)),_0xfa948a=null);},_0x9ef2ca['ondragover']=_0x14363a=>{const _0x35c5df=_0x35f7d7;_0x14363a[_0x35c5df(0xde6)]();},_0x9ef2ca['ondrop']=_0x1eddbd=>{const _0x4d6dc8=_0x35f7d7;_0x1eddbd[_0x4d6dc8(0xde6)]();if(_0xfa948a){const _0x74f24d=[..._0x9ef2ca['querySelectorAll']('.shortcut-list-item:not(.opacity-50)')][_0x4d6dc8(0x53b)]((_0x4d2367,_0x2f5a32)=>{const _0x521cae=_0x4d6dc8,_0x46014e=_0x2f5a32['getBoundingClientRect'](),_0x411b88=_0x1eddbd['clientY']-_0x46014e['top']-_0x46014e[_0x521cae(0x521)]/0x2;return _0x411b88<0x0&&_0x411b88>_0x4d2367[_0x521cae(0xc31)]?{'offset':_0x411b88,'element':_0x2f5a32}:_0x4d2367;},{'offset':Number[_0x4d6dc8(0x1c9)]})[_0x4d6dc8(0x927)];_0x74f24d==null?_0x9ef2ca[_0x4d6dc8(0x2ea)](_0xfa948a):_0x9ef2ca[_0x4d6dc8(0x124)](_0xfa948a,_0x74f24d);const _0x41d520=[..._0x9ef2ca[_0x4d6dc8(0x68a)]('.shortcut-list-item')][_0x4d6dc8(0x87e)](_0x4d1573=>_0x4d1573[_0x4d6dc8(0x845)][_0x4d6dc8(0xb66)]);fileShortcutOrder[activeFileShortcutTabId]=_0x41d520,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x5edbd3=_0x3db3a6,_0x7c0b8e=prompt(_0x5edbd3(0xb2c),_0x5edbd3(0x899));_0x7c0b8e&&_0x7c0b8e[_0x5edbd3(0xc29)]()&&(fileShortcutTabs['push']({'id':'tab_'+Date[_0x5edbd3(0x9e4)](),'name':_0x7c0b8e[_0x5edbd3(0xc29)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x11231d=_0x3db3a6,_0x59be95=document['getElementById'](_0x11231d(0xccf)),_0x521448=document[_0x11231d(0x283)](_0x11231d(0x6e9)),_0x356993=document[_0x11231d(0x283)]('file-shortcuts-loading-msg');if(_0x356993)_0x356993[_0x11231d(0x605)]['add'](_0x11231d(0x9a0));if(!_0x59be95||!_0x521448)return;const _0x2ce47c=fileShortcuts[_0x11231d(0x972)](0x0,0x4),_0x1e9fcc=fileShortcuts[_0x11231d(0x972)](0x4);_0x59be95[_0x11231d(0x545)]=_0x2ce47c[_0x11231d(0x87e)](_0x419fd8=>{const _0x5acf0f=_0x11231d,_0x25fe86=_0x419fd8[_0x5acf0f(0xd87)]&&_0x419fd8['url'][_0x5acf0f(0xc29)]()!=='',_0x55f6a5=selectedFile&&selectedFile[_0x5acf0f(0xb66)]===_0x419fd8['id'];let _0x4f06e9=_0x5acf0f(0x16b),_0x414073='🔗';if(_0x55f6a5)_0x4f06e9=_0x5acf0f(0xb73),_0x414073=_0x5acf0f(0x5fb);else _0x25fe86&&(_0x4f06e9=_0x5acf0f(0x74d),_0x414073='📄');const _0x5ad7a5=!_0x419fd8['isDefault']?_0x5acf0f(0xa22)+_0x419fd8['id']+'\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x5acf0f(0x1a7)+_0x419fd8['id']+_0x5acf0f(0x4cf)+_0x4f06e9+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>'+_0x414073+_0x5acf0f(0x654)+_0x419fd8[_0x5acf0f(0x339)]+_0x5acf0f(0x943)+_0x419fd8['id']+_0x5acf0f(0x52c)+_0x5ad7a5+_0x5acf0f(0xbb7);})[_0x11231d(0xd6e)](''),_0x1e9fcc['length']>0x0&&(_0x59be95['innerHTML']+=_0x11231d(0x118)),_0x1e9fcc[_0x11231d(0x110)]>0x0?_0x521448['innerHTML']=_0x1e9fcc[_0x11231d(0x87e)](_0x346d22=>_0x11231d(0x285)+(_0x346d22[_0x11231d(0xd87)]?'📄':'🔗')+'\x20'+_0x346d22['name']+_0x11231d(0xa9f)+_0x346d22['id']+_0x11231d(0x2b9)+_0x346d22['id']+_0x11231d(0xc2f)+(!_0x346d22['isDefault']?'<button\x20data-id=\x22'+_0x346d22['id']+_0x11231d(0x9da):'')+_0x11231d(0x86d))[_0x11231d(0xd6e)](''):_0x521448[_0x11231d(0x545)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function openFileShortcutEditor(_0x50a3fe=null){const _0x955ed8=_0x3db3a6,_0x25262c=document['getElementById']('file-shortcut-editor-modal'),_0x13f27a=document['getElementById'](_0x955ed8(0x5e8)),_0x22c3a3=document['getElementById'](_0x955ed8(0x4bf)),_0x3a60ef=document[_0x955ed8(0x283)]('file-shortcut-name-input'),_0x2d4915=document[_0x955ed8(0x283)](_0x955ed8(0x8cd));if(_0x50a3fe){const _0x3d7318=fileShortcuts['find'](_0x3deac3=>_0x3deac3['id']===_0x50a3fe);if(!_0x3d7318)return;_0x13f27a[_0x955ed8(0x1bd)]=_0x955ed8(0x489),_0x22c3a3[_0x955ed8(0xa89)]=_0x3d7318['id'],_0x3a60ef[_0x955ed8(0xa89)]=_0x3d7318[_0x955ed8(0x339)],_0x2d4915[_0x955ed8(0xa89)]=_0x3d7318[_0x955ed8(0xd87)]||'';}else _0x13f27a['textContent']=_0x955ed8(0xca4),_0x22c3a3[_0x955ed8(0xa89)]='',_0x3a60ef[_0x955ed8(0xa89)]='',_0x2d4915['value']='';_0x25262c[_0x955ed8(0x605)]['remove'](_0x955ed8(0x9a0));}async function saveFileShortcutChanges(){const _0x50ae91=_0x3db3a6,_0x4417ca=document[_0x50ae91(0x283)](_0x50ae91(0x4bf))['value'],_0x1f2465=document[_0x50ae91(0x283)](_0x50ae91(0xcf6))['value'][_0x50ae91(0xc29)](),_0x16107b=document[_0x50ae91(0x283)](_0x50ae91(0x8cd))[_0x50ae91(0xa89)][_0x50ae91(0xc29)]();if(!_0x1f2465){showMessage(_0x50ae91(0x58d));return;}const _0x4e8541={'id':_0x4417ca||'file-shortcut_'+Date[_0x50ae91(0x9e4)](),'name':_0x1f2465,'url':_0x16107b,'isDefault':_0x4417ca[_0x50ae91(0x9bd)](_0x50ae91(0xe31))};let _0x41cdcb;_0x4417ca?_0x41cdcb=fileShortcuts[_0x50ae91(0x87e)](_0xda3977=>_0xda3977['id']===_0x4417ca?_0x4e8541:_0xda3977):_0x41cdcb=[...fileShortcuts,_0x4e8541];try{const _0x576417=doc(db,_0x50ae91(0x2c2),_0x50ae91(0x120));await setDoc(_0x576417,{'shortcuts':_0x41cdcb},{'merge':!![]}),document['getElementById']('file-shortcut-editor-modal')['classList'][_0x50ae91(0xd74)](_0x50ae91(0x9a0));}catch(_0x18d8bc){console['error'](_0x50ae91(0xdc5),_0x18d8bc),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleFileShortcutClick(_0x531df7){const _0x1b43e3=_0x3db3a6,_0x42b01a=fileShortcuts[_0x1b43e3(0xe8)](_0x271dd4=>_0x271dd4['id']===_0x531df7);if(!_0x42b01a)return;if(!_0x42b01a[_0x1b43e3(0xd87)]||_0x42b01a['url']['trim']()===''){openFileShortcutEditor(_0x531df7);return;}const _0x3d199d=document['querySelector'](_0x1b43e3(0x3da)+_0x531df7+'\x22]');if(_0x3d199d){const _0x4546a9=_0x3d199d[_0x1b43e3(0x545)];_0x3d199d[_0x1b43e3(0x545)]='<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>',_0x3d199d[_0x1b43e3(0xc71)]=!![];}document[_0x1b43e3(0x68a)](_0x1b43e3(0x4d8))[_0x1b43e3(0x277)](_0x38d0f6=>{const _0x5a0dfb=_0x1b43e3;if(_0x38d0f6[_0x5a0dfb(0x845)]['id']!==_0x531df7)_0x38d0f6['classList'][_0x5a0dfb(0xd74)](_0x5a0dfb(0x862),'pointer-events-none');});try{const _0x61941a=new URL(_0x42b01a[_0x1b43e3(0xd87)])[_0x1b43e3(0x68f)],_0x47608c=_0x61941a[_0x1b43e3(0xa2a)](_0x61941a[_0x1b43e3(0xdb9)]('/')+0x1)||(_0x42b01a[_0x1b43e3(0xd87)][_0x1b43e3(0x2e8)](_0x1b43e3(0x60f))?_0x1b43e3(0xd02):_0x1b43e3(0x2d7)),_0x3843f2=await fetchFileFromUrl(_0x42b01a[_0x1b43e3(0xd87)],_0x47608c);_0x3843f2[_0x1b43e3(0xb66)]=_0x531df7,selectedFile=_0x3843f2,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document['getElementById'](_0x1b43e3(0x69f))[_0x1b43e3(0x391)]({'behavior':_0x1b43e3(0xa77),'block':_0x1b43e3(0x9d)});}catch(_0x47fa7d){console['error'](_0x1b43e3(0xe21),_0x47fa7d),showMessage(_0x1b43e3(0x57e)+_0x47fa7d[_0x1b43e3(0x226)]),renderFileShortcuts();}finally{document[_0x1b43e3(0x68a)](_0x1b43e3(0x4d8))[_0x1b43e3(0x277)](_0x4d18d9=>{const _0x308239=_0x1b43e3;_0x4d18d9[_0x308239(0x605)][_0x308239(0x31b)](_0x308239(0x862),'pointer-events-none'),_0x4d18d9[_0x308239(0xc71)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x332306=_0x3db3a6;if(allQuizzesGlobal[_0x332306(0x110)]>0x0)return;console['log'](_0x332306(0xca2)),showMessage(_0x332306(0x21c));try{const _0x4ff9f8=await getDocs(collection(db,'artifacts/'+appId+_0x332306(0x8e0)));allQuizzesGlobal=_0x4ff9f8[_0x332306(0xcf4)][_0x332306(0x87e)](_0x41e98e=>({'id':_0x41e98e['id'],..._0x41e98e[_0x332306(0x366)]()})),console['log'](_0x332306(0xc33)+allQuizzesGlobal[_0x332306(0x110)]+_0x332306(0x8c1)),messageModal[_0x332306(0x605)][_0x332306(0xd74)](_0x332306(0x9a0));}catch(_0xec6ce3){console[_0x332306(0xe4d)](_0x332306(0x724),_0xec6ce3),messageModal['classList'][_0x332306(0xd74)](_0x332306(0x9a0));throw new Error(_0x332306(0x776));}}function exportQuizAsWorksheetPDF(){const _0x341504=_0x3db3a6;if(!currentQuizData||!currentQuizData[_0x341504(0x13f)]){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x59c8d0=currentQuizData,_0x1e6d25=window[_0x341504(0x860)]('',_0x341504(0x6a6)),_0x3295b0=_0x58d95f=>String['fromCharCode'](0x41+_0x58d95f),_0x38f9d1=_0x341504(0xe41)+_0x59c8d0['topic']+_0x341504(0x869)+_0x59c8d0['topic']+_0x341504(0x4e0)+_0x59c8d0[_0x341504(0x13f)][_0x341504(0x87e)]((_0xcbd314,_0x2ce009)=>{const _0x4cbc63=_0x341504;let _0x2404cf='';const _0x1a34ed=_0xcbd314[_0x4cbc63(0x430)]||_0x59c8d0['quizType'];switch(_0x1a34ed){case _0x4cbc63(0x6f2):case _0x4cbc63(0x161):_0x2404cf=_0x4cbc63(0x81e)+_0xcbd314[_0x4cbc63(0xbed)]['map']((_0x46a48e,_0x11ac2a)=>_0x4cbc63(0x2d8)+_0x3295b0(_0x11ac2a)+'.\x20'+_0x46a48e+_0x4cbc63(0x3e2))[_0x4cbc63(0xd6e)]('<br>')+_0x4cbc63(0xdc0);break;case _0x4cbc63(0x50e):_0x2404cf=_0x4cbc63(0x5d3);break;default:_0x2404cf='<div\x20class=\x22answer-space\x22></div>';break;}return _0x4cbc63(0x2c1)+(_0x2ce009+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0xcbd314[_0x4cbc63(0x2f5)]||_0xcbd314['questionText'])+_0x4cbc63(0x18d)+(_0xcbd314[_0x4cbc63(0xc8b)]?_0x4cbc63(0x6dc)+_0xcbd314[_0x4cbc63(0xc8b)]+_0x4cbc63(0xdc0):'')+_0x4cbc63(0xaf6)+_0x2404cf+_0x4cbc63(0x75c);})[_0x341504(0xd6e)]('')+_0x341504(0xda1);_0x1e6d25[_0x341504(0xa66)]['write'](_0x38f9d1),_0x1e6d25['document'][_0x341504(0xaff)](),_0x1e6d25[_0x341504(0xafb)]=function(){setTimeout(()=>{const _0x1025fe=_0x5ca2;_0x1e6d25[_0x1025fe(0x70d)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x53c9f4=_0x3db3a6;if(!currentQuizData||!currentQuizData[_0x53c9f4(0x13f)]){showMessage(_0x53c9f4(0x520));return;}const _0x4d1ab7=currentQuizData,_0x42f01a=window[_0x53c9f4(0x860)]('',_0x53c9f4(0x6a6)),_0x448a62=_0x42a9a3=>String['fromCharCode'](0x41+_0x42a9a3),_0x5615e8=_0x53c9f4(0xa7e)+_0x4d1ab7['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4d1ab7[_0x53c9f4(0x13f)]['map']((_0x6b8602,_0x318ceb)=>{const _0x11f94d=_0x53c9f4;let _0x2c9738='';const _0x1c4d9b=_0x6b8602[_0x11f94d(0x430)]||_0x4d1ab7[_0x11f94d(0x461)];switch(_0x1c4d9b){case _0x11f94d(0x6f2):case _0x11f94d(0x161):_0x2c9738=_0x11f94d(0xe16)+_0x6b8602[_0x11f94d(0xbed)][_0x11f94d(0x87e)]((_0x500a67,_0x37fcbe)=>_0x11f94d(0xa33)+_0x448a62(_0x37fcbe)+'.\x20'+_0x500a67+'</span>')[_0x11f94d(0xd6e)](_0x11f94d(0xb65))+_0x11f94d(0x499);break;case _0x11f94d(0x50e):_0x2c9738=_0x11f94d(0xa0e);break;default:_0x2c9738='';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20'+_0x4d1ab7[_0x11f94d(0xe5f)]+_0x11f94d(0xc5d)+(_0x318ceb+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x6b8602['stem']||_0x6b8602[_0x11f94d(0xb0e)])+_0x11f94d(0x18d)+(_0x6b8602[_0x11f94d(0xc8b)]?_0x11f94d(0xd91)+_0x6b8602[_0x11f94d(0xc8b)]+_0x11f94d(0xdc0):'')+_0x11f94d(0xaf6)+_0x2c9738+_0x11f94d(0x8e4);})[_0x53c9f4(0xd6e)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x42f01a[_0x53c9f4(0xa66)][_0x53c9f4(0xa48)](_0x5615e8),_0x42f01a[_0x53c9f4(0xa66)][_0x53c9f4(0xaff)](),_0x42f01a[_0x53c9f4(0xafb)]=function(){setTimeout(()=>{const _0x941acc=_0x5ca2;_0x42f01a[_0x941acc(0x70d)]();},0x5dc);};}async function handleToggleStarQuiz(_0x2efb13){const _0x4d372c=_0x3db3a6,_0xd35eaa=doc(db,'artifacts/'+appId+_0x4d372c(0x8e0),_0x2efb13);try{const _0x10ffcf=await getDoc(_0xd35eaa);if(_0x10ffcf['exists']()){const _0xe422=_0x10ffcf[_0x4d372c(0x366)]()[_0x4d372c(0xae9)]||![];await updateDoc(_0xd35eaa,{'isStarred':!_0xe422});}}catch(_0x1f47e8){console['error'](_0x4d372c(0x623),_0x1f47e8),showMessage(_0x4d372c(0x33d));}}async function displayQuestionBank(){const _0x33c5e0=_0x3db3a6,_0x35c20b=document['getElementById'](_0x33c5e0(0xe47));_0x35c20b[_0x33c5e0(0x545)]=_0x33c5e0(0x42f);try{const _0xf813c7=collection(db,_0x33c5e0(0x981)+appId+_0x33c5e0(0xafe)+userId+'/questionBank'),_0x2ed84e=query(_0xf813c7),_0x35ee7d=await getDocs(_0x2ed84e);if(_0x35ee7d[_0x33c5e0(0x43c)]){_0x35c20b[_0x33c5e0(0x545)]=_0x33c5e0(0x212);return;}let _0x170105=_0x35ee7d[_0x33c5e0(0xcf4)][_0x33c5e0(0x87e)](_0x348a0a=>{const _0x370536=_0x33c5e0,_0x4242a6=_0x348a0a[_0x370536(0x366)](),_0x21cda2=_0x348a0a['id'];return _0x370536(0x389)+JSON[_0x370536(0x6b3)](_0x4242a6)+_0x370536(0x77b)+(_0x4242a6[_0x370536(0xb0e)]||_0x4242a6[_0x370536(0x2f5)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x4242a6[_0x370536(0xc6)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x33c5e0(0xd6e)]('');_0x35c20b['innerHTML']=_0x33c5e0(0x49f)+_0x170105+_0x33c5e0(0xd12),document[_0x33c5e0(0x283)](_0x33c5e0(0xa20))[_0x33c5e0(0x844)](_0x33c5e0(0x425),createQuizFromBank);}catch(_0xa5dd88){console[_0x33c5e0(0xe4d)]('Error\x20displaying\x20question\x20bank:',_0xa5dd88),_0x35c20b[_0x33c5e0(0x545)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>';}}async function handleExportLessonToPDF(){const _0x5179c4=_0x3db3a6,_0x27f6e1=document[_0x5179c4(0x283)](_0x5179c4(0xe17)),_0x38c88b=document[_0x5179c4(0x283)](_0x5179c4(0x778))[_0x5179c4(0x1bd)]||_0x5179c4(0x171);if(!_0x27f6e1){showMessage(_0x5179c4(0x980));return;}const _0x15ffea=window[_0x5179c4(0x860)]('','_blank'),_0x530724=_0x5179c4(0x15a)+_0x38c88b+_0x5179c4(0x9d6)+_0x38c88b+_0x5179c4(0xd1f)+_0x27f6e1[_0x5179c4(0x545)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x15ffea[_0x5179c4(0xa66)][_0x5179c4(0xa48)](_0x530724),_0x15ffea['document']['close'](),_0x15ffea[_0x5179c4(0xafb)]=function(){setTimeout(()=>{const _0x39b6f3=_0x5ca2;_0x15ffea[_0x39b6f3(0x70d)]();},0x7d0);};}function showAdminLiveQuestionView(_0xf7b5c5,_0x1f3361,_0xe4dc62){const _0xfc278=_0x3db3a6,_0x1a1e73=_0xf7b5c5[_0xfc278(0x430)]||currentQuizData[_0xfc278(0x461)];let _0xe3dd1='';if(_0x1a1e73==='multiple_choice'||_0x1a1e73==='true_false'){const _0x478d1=_0x1a1e73==='true_false'?['ใช่',_0xfc278(0x9ab)]:_0xf7b5c5['options'],_0x6ca94a=_0x1a1e73===_0xfc278(0x50e)?_0xf7b5c5[_0xfc278(0xad1)]?0x0:0x1:_0xf7b5c5[_0xfc278(0x7ed)];_0xe3dd1=_0x478d1[_0xfc278(0x87e)]((_0x57af08,_0x14a021)=>_0xfc278(0x5d9)+(_0x14a021===_0x6ca94a)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x57af08+_0xfc278(0xbb7))['join']('');}else{if(_0x1a1e73==='matching_item'){const _0x122516=_0xf7b5c5[_0xfc278(0x17b)]||[];_0xe3dd1=_0x122516[_0xfc278(0x87e)](_0x3b600d=>_0xfc278(0x5d9)+(_0x3b600d===_0xf7b5c5[_0xfc278(0xdcc)])+_0xfc278(0x60c)+_0x3b600d+_0xfc278(0xbb7))[_0xfc278(0xd6e)]('');}}const _0x43bf1b=_0xf7b5c5[_0xfc278(0x2f5)]||_0xf7b5c5['questionText'],_0x307bde=_0xfc278(0x6f3)+(_0x1f3361+0x1)+_0xfc278(0x9a6)+_0xe4dc62+_0xfc278(0x6a4)+currentLiveGamePin+_0xfc278(0x2b8)+_0x43bf1b+_0xfc278(0x44b)+_0xe3dd1+_0xfc278(0xcfa);liveGameView[_0xfc278(0x545)]=_0x307bde,window[_0xfc278(0x4d4)]&&MathJax[_0xfc278(0x130)]&&MathJax[_0xfc278(0x130)]([liveGameView]),document[_0xfc278(0x283)](_0xfc278(0x604))[_0xfc278(0x844)](_0xfc278(0x425),()=>revealAnswerForAdmin(_0x1f3361,_0xe4dc62)),document[_0xfc278(0x283)](_0xfc278(0x330))[_0xfc278(0x844)]('click',async()=>{const _0x2cfe7a=_0xfc278;showConfirmation(_0x2cfe7a(0x698),async()=>{const _0x130a07=_0x2cfe7a,_0x269646=doc(db,_0x130a07(0x981)+appId+_0x130a07(0xb8),currentLiveGameId);await updateDoc(_0x269646,{'status':_0x130a07(0x46f)});});}),document[_0xfc278(0x283)](_0xfc278(0x9c9))[_0xfc278(0x844)](_0xfc278(0x425),()=>{const _0x24b531=_0xfc278;document[_0x24b531(0x283)](_0x24b531(0x59d))[_0x24b531(0x605)][_0x24b531(0xc7c)]('hidden');});}function promptForProjectBeforeGenerating(_0x34e214){const _0x4c379c=_0x3db3a6,_0x27fd70=document[_0x4c379c(0x283)](_0x4c379c(0x22c)),_0x1312f1=document[_0x4c379c(0x283)]('move-quiz-project-select'),_0x239ada=_0x27fd70[_0x4c379c(0x1a6)]('h3'),_0x35992d=document[_0x4c379c(0x283)]('confirm-move-quiz-btn'),_0x4cb561=document[_0x4c379c(0x283)](_0x4c379c(0x8f1));_0x239ada['textContent']=_0x4c379c(0x669),_0x35992d[_0x4c379c(0x1bd)]=_0x4c379c(0xf9),_0x35992d[_0x4c379c(0xc71)]=!![];allProjects[_0x4c379c(0x110)]===0x0?_0x1312f1['innerHTML']=_0x4c379c(0x35a):(_0x1312f1[_0x4c379c(0x545)]=_0x4c379c(0xc3)+allProjects[_0x4c379c(0x87e)](_0x35f219=>'<option\x20value=\x22'+_0x35f219['id']+'\x22>'+_0x35f219[_0x4c379c(0xe60)]+_0x4c379c(0xc4e))[_0x4c379c(0xd6e)](''),_0x35992d[_0x4c379c(0xc71)]=![]);_0x27fd70[_0x4c379c(0x605)]['remove']('hidden');const _0x196cfd=async()=>{const _0x4830fc=_0x4c379c,_0x799321=_0x1312f1[_0x4830fc(0xa89)];if(!_0x799321){showMessage(_0x4830fc(0x108));return;}_0x27fd70['classList'][_0x4830fc(0xd74)](_0x4830fc(0x9a0)),await loadProjectDetails(_0x799321),showView(_0x4830fc(0x964)),handleGenerateQuizFromBlueprintTopic(_0x34e214),_0x163fe7();},_0x163fe7=()=>{const _0x528a7a=_0x4c379c;_0x239ada[_0x528a7a(0x1bd)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x35992d['textContent']=_0x528a7a(0x291),_0x35992d[_0x528a7a(0xe2c)](_0x528a7a(0x425),_0x196cfd),_0x4cb561['removeEventListener']('click',_0x163fe7),_0x35992d[_0x528a7a(0x844)](_0x528a7a(0x425),confirmMoveQuiz);};_0x35992d[_0x4c379c(0xe2c)](_0x4c379c(0x425),confirmMoveQuiz),_0x35992d['addEventListener'](_0x4c379c(0x425),_0x196cfd),_0x4cb561['addEventListener']('click',_0x163fe7);}function showStudentLiveQuestionView(_0x768ebd,_0xda646f,_0x53db3e){const _0x66adc6=_0x3db3a6,_0x1f6309=_0x768ebd[_0x66adc6(0x430)]||currentQuizData[_0x66adc6(0x461)];let _0x57b653='';if(_0x1f6309===_0x66adc6(0x6f2)||_0x1f6309==='true_false'){const _0x1ca289=_0x1f6309==='true_false'?[_0x66adc6(0x993),_0x66adc6(0x9ab)]:_0x768ebd['options'];_0x57b653=_0x1ca289[_0x66adc6(0x87e)]((_0x162d1e,_0x3299da)=>_0x66adc6(0x2f9)+_0x3299da+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x162d1e+_0x66adc6(0x5c6))[_0x66adc6(0xd6e)]('');}else{if(_0x1f6309===_0x66adc6(0x1f4)){const _0x2d347e=_0x768ebd[_0x66adc6(0x17b)]||[];_0x57b653=_0x2d347e['map']((_0x7f7545,_0x45a37e)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x45a37e+_0x66adc6(0xd8f)+_0x7f7545+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}else _0x1f6309==='short_answer'&&(_0x57b653=_0x66adc6(0x895));}const _0x50a909=_0x768ebd[_0x66adc6(0x2f5)]||_0x768ebd[_0x66adc6(0xb0e)],_0x46a2af=_0x66adc6(0x865)+(_0xda646f+0x1)+_0x66adc6(0x9a6)+_0x53db3e+_0x66adc6(0x30b)+_0x50a909+_0x66adc6(0x7ac)+_0x57b653+_0x66adc6(0x1fd);liveGameView[_0x66adc6(0x545)]=_0x46a2af;window[_0x66adc6(0x4d4)]&&MathJax[_0x66adc6(0x130)]&&MathJax['typesetPromise']([liveGameView]);const _0x3b49a6=document['getElementById'](_0x66adc6(0xaa0));_0x3b49a6&&_0x3b49a6[_0x66adc6(0x844)](_0x66adc6(0x425),()=>{const _0x103aad=_0x66adc6,_0x141b45=document[_0x103aad(0x283)](_0x103aad(0x739))[_0x103aad(0xa89)];handleLiveAnswer(_0x141b45,_0x768ebd);}),document[_0x66adc6(0x283)]('live-options-container')[_0x66adc6(0x844)]('click',_0xf236a1=>{const _0x5bac9f=_0x66adc6,_0x10aaeb=_0xf236a1[_0x5bac9f(0x543)]['closest'](_0x5bac9f(0xe4c));if(_0x10aaeb){const _0x59682a=parseInt(_0x10aaeb[_0x5bac9f(0x845)][_0x5bac9f(0x908)]);handleLiveAnswer(_0x59682a,_0x768ebd);}});}function listenForBlueprintShortcuts(){const _0x3df328=_0x3db3a6,_0x34fdf4=doc(db,_0x3df328(0x2c2),_0x3df328(0x73c));onSnapshot(_0x34fdf4,_0x23c717=>{const _0x3f7f04=_0x3df328;let _0x1bf457=[],_0x190089=[],_0x8e8c09={};if(_0x23c717[_0x3f7f04(0xaed)]()){const _0x14834c=_0x23c717[_0x3f7f04(0x366)]();_0x1bf457=_0x14834c['blueprintShortcuts']||[],_0x190089=_0x14834c[_0x3f7f04(0x7e2)]||[],_0x8e8c09=_0x14834c[_0x3f7f04(0x507)]||{};}!_0x190089[_0x3f7f04(0xe8)](_0x4a0b55=>_0x4a0b55['id']===_0x3f7f04(0xd1a))&&_0x190089[_0x3f7f04(0x33a)]({'id':_0x3f7f04(0xd1a),'name':_0x3f7f04(0x378),'isDefault':!![]}),!_0x1bf457[_0x3f7f04(0xe8)](_0x3cce8b=>_0x3cce8b['id']===_0x3f7f04(0x11b))&&_0x1bf457[_0x3f7f04(0x33a)]({'id':_0x3f7f04(0x11b),'name':_0x3f7f04(0x40c),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x1bf457[_0x3f7f04(0xe8)](_0x11bd37=>_0x11bd37['id']==='default-2')&&_0x1bf457[_0x3f7f04(0x33a)]({'id':'default-2','name':_0x3f7f04(0x50b),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x1bf457,shortcutTabs=_0x190089,shortcutOrder=_0x8e8c09,renderBlueprintShortcuts(),!document['getElementById'](_0x3f7f04(0xc4a))[_0x3f7f04(0x605)][_0x3f7f04(0x5a0)]('hidden')&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x493917=_0x3db3a6,_0x2ec3e1=document[_0x493917(0x283)](_0x493917(0xa90)),_0x10c630=document[_0x493917(0x283)](_0x493917(0xe10));if(!_0x2ec3e1||!_0x10c630)return;_0x2ec3e1[_0x493917(0x545)]=shortcutTabs[_0x493917(0x87e)](_0x13691b=>{const _0x3f0323=_0x493917,_0x5c7e74=_0x13691b['id']===activeShortcutTabId,_0x5558cd=_0x3f0323(0x803),_0x35e8e2='border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300';return _0x3f0323(0xd4c)+_0x13691b['id']+'\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20'+(_0x5c7e74?_0x5558cd:_0x35e8e2)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x13691b[_0x3f0323(0x339)]+_0x3f0323(0x43f)+_0x13691b['name']+_0x3f0323(0x2f0)+(!_0x13691b[_0x3f0323(0x36e)]?_0x3f0323(0x63a)+_0x13691b['id']+_0x3f0323(0x4f0):'')+_0x3f0323(0xbb7);})[_0x493917(0xd6e)]('');const _0x4695f7=shortcutTabs[_0x493917(0xe8)](_0x2c9c75=>_0x2c9c75['id']===activeShortcutTabId);let _0x1fc864=[];if(_0x4695f7){if(_0x4695f7[_0x493917(0x36e)])_0x1fc864=[...blueprintShortcuts];else{const _0x549097=_0x4695f7[_0x493917(0x6c3)]||[];_0x1fc864=blueprintShortcuts['filter'](_0x21cf3d=>_0x549097[_0x493917(0x2e8)](_0x21cf3d['id']));}}const _0x34ab17=shortcutOrder[activeShortcutTabId]||[];_0x1fc864['sort']((_0x4758d6,_0x4ba730)=>{const _0x5f1ad4=_0x493917,_0x2d5c95=_0x34ab17[_0x5f1ad4(0x52f)](_0x4758d6['id']),_0x5293b9=_0x34ab17[_0x5f1ad4(0x52f)](_0x4ba730['id']);if(_0x2d5c95===-0x1)return 0x1;if(_0x5293b9===-0x1)return-0x1;return _0x2d5c95-_0x5293b9;}),_0x10c630[_0x493917(0x545)]=_0x1fc864[_0x493917(0x110)]>0x0?_0x1fc864[_0x493917(0x87e)](_0x252570=>{const _0x4d48e2=_0x493917;let _0x5a8c73='🧩';if(_0x252570['blueprintUrl']&&_0x252570[_0x4d48e2(0x28b)])_0x5a8c73='📗';else{if(_0x252570['blueprintUrl'])_0x5a8c73='📘';}const _0x2a1456=shortcutTabs[_0x4d48e2(0x1a1)](_0x266a5b=>!_0x266a5b[_0x4d48e2(0x36e)]),_0x5975e5=_0x4695f7[_0x4d48e2(0x36e)]&&_0x2a1456['length']>0x0?_0x4d48e2(0xe0d)+_0x2a1456[_0x4d48e2(0x87e)](_0x2e7b46=>_0x4d48e2(0x411)+_0x252570['id']+'\x22\x20data-target-tab-id=\x22'+_0x2e7b46['id']+'\x22>'+_0x2e7b46[_0x4d48e2(0x339)]+_0x4d48e2(0xa92))[_0x4d48e2(0xd6e)]('')+_0x4d48e2(0x9fd):'';return _0x4d48e2(0x500)+_0x252570['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x5a8c73+'\x20'+_0x252570[_0x4d48e2(0x339)]+_0x4d48e2(0xc0)+_0x252570['id']+_0x4d48e2(0x384)+_0x252570['id']+_0x4d48e2(0x3e5)+(!_0x252570[_0x4d48e2(0x36e)]?_0x4d48e2(0xa22)+_0x252570['id']+'\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x4d48e2(0xa96)+(!_0x4695f7[_0x4d48e2(0x36e)]?_0x4d48e2(0x2e7)+_0x252570['id']+_0x4d48e2(0x602):'')+_0x4d48e2(0xa96)+_0x5975e5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x493917(0xd6e)](''):_0x493917(0x664),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0xc0b50c=_0x3db3a6;document[_0xc0b50c(0x68a)](_0xc0b50c(0x8a4))[_0xc0b50c(0x277)](_0x3875b9=>{const _0xf1da59=_0xc0b50c;_0x3875b9['addEventListener']('click',_0x454de3=>{const _0x847291=_0x5ca2;activeShortcutTabId=_0x454de3[_0x847291(0x4c4)][_0x847291(0x845)][_0x847291(0x11f)],renderAdditionalShortcutsModal();}),_0x3875b9[_0xf1da59(0x844)](_0xf1da59(0x710),_0x3465c7=>{const _0x2b9551=_0xf1da59,_0x28206e=_0x3465c7[_0x2b9551(0x4c4)];_0x28206e[_0x2b9551(0x1a6)](_0x2b9551(0x29d))[_0x2b9551(0x605)][_0x2b9551(0xd74)](_0x2b9551(0x9a0));const _0x3192d4=_0x28206e[_0x2b9551(0x1a6)]('.tab-name-input');_0x3192d4[_0x2b9551(0x605)][_0x2b9551(0x31b)](_0x2b9551(0x9a0)),_0x3192d4[_0x2b9551(0xccd)](),_0x3192d4['select']();});}),document['querySelectorAll'](_0xc0b50c(0x7f0))[_0xc0b50c(0x277)](_0x4691ec=>{const _0x1e90f4=_0xc0b50c,_0x37ad20=()=>{const _0x2c414c=_0x5ca2,_0x41a531=_0x4691ec[_0x2c414c(0x455)](_0x2c414c(0x8a4))[_0x2c414c(0x845)][_0x2c414c(0x11f)];handleRenameShortcutTab(_0x41a531,_0x4691ec[_0x2c414c(0xa89)]);};_0x4691ec[_0x1e90f4(0x844)](_0x1e90f4(0x40e),_0x37ad20),_0x4691ec['addEventListener'](_0x1e90f4(0x4fe),_0x8d3fd5=>{const _0x3f5431=_0x1e90f4;if(_0x8d3fd5['key']===_0x3f5431(0xa7c))_0x4691ec['blur']();});}),document['querySelectorAll'](_0xc0b50c(0x383))[_0xc0b50c(0x277)](_0x3cce46=>{const _0x38c923=_0xc0b50c;_0x3cce46[_0x38c923(0x844)]('click',_0x4d2d60=>handleDeleteShortcutTab(_0x4d2d60[_0x38c923(0x4c4)][_0x38c923(0x845)][_0x38c923(0x11f)]));}),document[_0xc0b50c(0x68a)](_0xc0b50c(0xe5b))[_0xc0b50c(0x277)](_0x58cd91=>{const _0x1f1741=_0xc0b50c;_0x58cd91[_0x1f1741(0x844)](_0x1f1741(0x425),_0x566a67=>{const _0x5a8f3c=_0x1f1741;_0x566a67[_0x5a8f3c(0xde6)]();const {shortcutId:_0x33bc37,targetTabId:_0x4fc461}=_0x566a67[_0x5a8f3c(0x4c4)][_0x5a8f3c(0x845)];handleMoveShortcutToTab(_0x33bc37,_0x4fc461);});}),document[_0xc0b50c(0x68a)]('.remove-shortcut-from-tab-btn')[_0xc0b50c(0x277)](_0x285311=>{const _0x14e89d=_0xc0b50c;_0x285311['addEventListener'](_0x14e89d(0x425),_0x55e111=>{const _0x5ae56c=_0x14e89d;handleRemoveShortcutFromTab(_0x55e111[_0x5ae56c(0x4c4)][_0x5ae56c(0x845)][_0x5ae56c(0xb66)],activeShortcutTabId);});});const _0x49f178=document['getElementById'](_0xc0b50c(0xe10));_0x49f178[_0xc0b50c(0x68a)](_0xc0b50c(0x9af))[_0xc0b50c(0x277)](_0x3643d4=>{const _0x168fea=_0xc0b50c;_0x3643d4[_0x168fea(0x844)](_0x168fea(0x425),()=>{const _0x24f233=_0x168fea;document[_0x24f233(0x283)](_0x24f233(0xc4a))[_0x24f233(0x605)][_0x24f233(0xd74)]('hidden'),handleShortcutClick(_0x3643d4['dataset']['id']);});});let _0x3579f3=null;_0x49f178[_0xc0b50c(0x844)]('dragstart',_0x4a02e7=>{const _0xb25825=_0xc0b50c;_0x3579f3=_0x4a02e7['target'][_0xb25825(0x455)](_0xb25825(0x765)),_0x3579f3&&setTimeout(()=>_0x3579f3[_0xb25825(0x605)]['add'](_0xb25825(0x862)),0x0);}),_0x49f178[_0xc0b50c(0x844)](_0xc0b50c(0x71a),()=>{const _0x5d4973=_0xc0b50c;_0x3579f3&&(_0x3579f3['classList']['remove'](_0x5d4973(0x862)),_0x3579f3=null);}),_0x49f178[_0xc0b50c(0x844)](_0xc0b50c(0x87a),_0x2c8d75=>{const _0x3af83f=_0xc0b50c;_0x2c8d75[_0x3af83f(0xde6)]();const _0x3a7d95=[..._0x49f178[_0x3af83f(0x68a)](_0x3af83f(0xc63))]['reduce']((_0x31e92c,_0x37d26c)=>{const _0x428b09=_0x3af83f,_0xb629aa=_0x37d26c[_0x428b09(0xd3b)](),_0x4efa81=_0x2c8d75[_0x428b09(0x679)]-_0xb629aa['top']-_0xb629aa['height']/0x2;return _0x4efa81<0x0&&_0x4efa81>_0x31e92c[_0x428b09(0xc31)]?{'offset':_0x4efa81,'element':_0x37d26c}:_0x31e92c;},{'offset':Number[_0x3af83f(0x1c9)]})[_0x3af83f(0x927)];_0x3a7d95==null?_0x49f178[_0x3af83f(0x2ea)](_0x3579f3):_0x49f178['insertBefore'](_0x3579f3,_0x3a7d95);}),_0x49f178[_0xc0b50c(0x844)](_0xc0b50c(0xdd9),_0xfe26c1=>{const _0xa660ed=_0xc0b50c;_0xfe26c1[_0xa660ed(0xde6)]();if(_0x3579f3){const _0x52ad6c=[..._0x49f178['querySelectorAll'](_0xa660ed(0x765))][_0xa660ed(0x87e)](_0x242a1a=>_0x242a1a[_0xa660ed(0x845)][_0xa660ed(0xb66)]);handleShortcutOrderChange(activeShortcutTabId,_0x52ad6c);}}),document[_0xc0b50c(0x68a)](_0xc0b50c(0x651))[_0xc0b50c(0x277)](_0xf8ce42=>{const _0xe00b93=_0xc0b50c;_0xf8ce42[_0xe00b93(0x844)](_0xe00b93(0x425),_0xde6794=>{const _0x208beb=_0xe00b93;_0xde6794['stopPropagation']();const _0x365c4a=_0xde6794[_0x208beb(0x4c4)][_0x208beb(0x5ae)],_0x516430=_0x365c4a[_0x208beb(0x605)][_0x208beb(0x5a0)](_0x208beb(0x9a0));document[_0x208beb(0x68a)]('.move-shortcut-dropdown')[_0x208beb(0x277)](_0x189cbd=>_0x189cbd['classList']['add'](_0x208beb(0x9a0))),_0x516430&&_0x365c4a[_0x208beb(0x605)][_0x208beb(0x31b)]('hidden');});});}document['addEventListener']('click',_0x5b39d2=>{const _0x230ad2=_0x3db3a6;!_0x5b39d2[_0x230ad2(0x543)][_0x230ad2(0x455)](_0x230ad2(0xcee))&&document[_0x230ad2(0x68a)](_0x230ad2(0x2b6))[_0x230ad2(0x277)](_0x3460ba=>_0x3460ba[_0x230ad2(0x605)][_0x230ad2(0xd74)]('hidden'));});async function saveShortcutConfig(){const _0x2c6a8b=_0x3db3a6,_0x4b96a4=doc(db,_0x2c6a8b(0x2c2),'dashboardConfig');try{await setDoc(_0x4b96a4,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x5dc15a){console[_0x2c6a8b(0xe4d)](_0x2c6a8b(0x530),_0x5dc15a);}}async function handleAddShortcutTab(){const _0x485ff4=_0x3db3a6,_0x501085=prompt(_0x485ff4(0xb2c),'แท็บใหม่');if(!_0x501085||_0x501085[_0x485ff4(0xc29)]()==='')return;shortcutTabs[_0x485ff4(0x827)]({'id':_0x485ff4(0x71c)+Date['now'](),'name':_0x501085[_0x485ff4(0xc29)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x535ebd,_0x3884e4){const _0x5d7c6e=_0x3db3a6,_0x42a77c=shortcutTabs['find'](_0xf103fd=>_0xf103fd['id']===_0x535ebd);_0x42a77c&&_0x3884e4[_0x5d7c6e(0xc29)]()!==''&&(_0x42a77c['name']=_0x3884e4[_0x5d7c6e(0xc29)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x139447){const _0x4c6312=_0x3db3a6,_0x153f77=shortcutTabs[_0x4c6312(0xe8)](_0x4c2794=>_0x4c2794['id']===_0x139447);_0x153f77&&!_0x153f77['isDefault']&&showConfirmation('คุณแน่ใจว่าต้องการลบแท็บ\x20\x22'+_0x153f77[_0x4c6312(0x339)]+_0x4c6312(0xd26),async()=>{const _0x5be401=_0x4c6312;shortcutTabs=shortcutTabs[_0x5be401(0x1a1)](_0x166860=>_0x166860['id']!==_0x139447),delete shortcutOrder[_0x139447];if(activeShortcutTabId===_0x139447)activeShortcutTabId=_0x5be401(0xd1a);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x3eb65f,_0x4fc70c){const _0x4ee7f4=_0x3db3a6,_0x399d03=shortcutTabs['find'](_0x33d427=>_0x33d427['id']===_0x4fc70c);_0x399d03&&!_0x399d03[_0x4ee7f4(0x6c3)][_0x4ee7f4(0x2e8)](_0x3eb65f)&&(_0x399d03[_0x4ee7f4(0x6c3)][_0x4ee7f4(0x827)](_0x3eb65f),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x274ab8,_0x5cce73){const _0x492328=_0x3db3a6,_0x3e6b69=shortcutTabs[_0x492328(0xe8)](_0x4e3f1a=>_0x4e3f1a['id']===_0x5cce73);_0x3e6b69&&!_0x3e6b69[_0x492328(0x36e)]&&(_0x3e6b69[_0x492328(0x6c3)]=_0x3e6b69[_0x492328(0x6c3)][_0x492328(0x1a1)](_0x5520e8=>_0x5520e8!==_0x274ab8),await saveShortcutConfig());}function _0x5ca2(_0x34a800,_0x38a6c8){const _0x350728=_0x3507();return _0x5ca2=function(_0x5ca2e9,_0x519955){_0x5ca2e9=_0x5ca2e9-0x9d;let _0x3787d4=_0x350728[_0x5ca2e9];return _0x3787d4;},_0x5ca2(_0x34a800,_0x38a6c8);}async function handleShortcutOrderChange(_0xb112af,_0x1d7b6d){shortcutOrder[_0xb112af]=_0x1d7b6d,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x4ca4fb=_0x3db3a6,_0x1bcf52=document['getElementById'](_0x4ca4fb(0x121)),_0x5033bc=document[_0x4ca4fb(0x283)](_0x4ca4fb(0xe10)),_0x3fc3a2=document[_0x4ca4fb(0x283)](_0x4ca4fb(0xb2));_0x3fc3a2&&_0x3fc3a2['classList']['add']('hidden');if(!_0x1bcf52||!_0x5033bc)return;const _0x30b03f=blueprintShortcuts['slice'](0x0,0x4),_0x3fed2d=blueprintShortcuts['slice'](0x4);_0x1bcf52[_0x4ca4fb(0x545)]=_0x30b03f[_0x4ca4fb(0x87e)](_0x1aae8a=>{const _0x54baa1=_0x4ca4fb;let _0x502985=_0x54baa1(0x16b),_0x13cfb0='🧩';if(_0x1aae8a['blueprintUrl']&&_0x1aae8a[_0x54baa1(0x28b)])_0x502985=_0x54baa1(0x16e),_0x13cfb0='📗';else _0x1aae8a[_0x54baa1(0xb2a)]&&(_0x502985='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0x13cfb0='📘');const _0x5d24cc=!_0x1aae8a['isDefault']?_0x54baa1(0xa22)+_0x1aae8a['id']+_0x54baa1(0xbd8):'';return _0x54baa1(0x1a7)+_0x1aae8a['id']+_0x54baa1(0xccb)+_0x502985+_0x54baa1(0x6ca)+_0x13cfb0+'\x20'+_0x1aae8a[_0x54baa1(0x339)]+_0x54baa1(0x1ce)+_0x1aae8a['id']+_0x54baa1(0xe4)+_0x5d24cc+_0x54baa1(0xbb7);})[_0x4ca4fb(0xd6e)](''),_0x3fed2d[_0x4ca4fb(0x110)]>0x0&&(_0x1bcf52[_0x4ca4fb(0x545)]+=_0x4ca4fb(0xd54)),_0x3fed2d['length']>0x0?_0x5033bc[_0x4ca4fb(0x545)]=_0x3fed2d[_0x4ca4fb(0x87e)](_0x9e9895=>{const _0x460ca0=_0x4ca4fb;let _0x2019ab='🧩';if(_0x9e9895[_0x460ca0(0xb2a)]&&_0x9e9895[_0x460ca0(0x28b)])_0x2019ab='📗';else _0x9e9895[_0x460ca0(0xb2a)]&&(_0x2019ab='📘');return _0x460ca0(0x638)+_0x2019ab+'\x20'+_0x9e9895[_0x460ca0(0x339)]+_0x460ca0(0xc0)+_0x9e9895['id']+'\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x9e9895['id']+_0x460ca0(0x3e5)+(!_0x9e9895[_0x460ca0(0x36e)]?'<button\x20data-id=\x22'+_0x9e9895['id']+_0x460ca0(0xe0e):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x4ca4fb(0xd6e)](''):_0x5033bc[_0x4ca4fb(0x545)]=_0x4ca4fb(0xe5c);}function getMimeTypeFromFilename(_0x107926){const _0x24efef=_0x3db3a6,_0x20ed2c=_0x107926[_0x24efef(0x7ea)]('.')['pop']()['toLowerCase']();switch(_0x20ed2c){case _0x24efef(0xcbe):return _0x24efef(0x1b1);case _0x24efef(0x771):return _0x24efef(0x9a2);default:return _0x24efef(0x1b1);}}function openShortcutEditor(_0x551606=null){const _0x1b4abb=_0x3db3a6,_0x4a9202=document[_0x1b4abb(0x283)]('shortcut-editor-modal'),_0x2672fe=document[_0x1b4abb(0x283)](_0x1b4abb(0xc74)),_0x179634=document['getElementById'](_0x1b4abb(0x1a5)),_0x56f8d4=document['getElementById'](_0x1b4abb(0xc8d)),_0x2ee222=document[_0x1b4abb(0x283)]('shortcut-blueprint-url-input'),_0x5c4ccc=document['getElementById'](_0x1b4abb(0x1cf));if(_0x551606){const _0xa3643d=blueprintShortcuts[_0x1b4abb(0xe8)](_0x4e7ee5=>_0x4e7ee5['id']===_0x551606);if(!_0xa3643d)return;_0x2672fe[_0x1b4abb(0x1bd)]=_0x1b4abb(0x835),_0x179634[_0x1b4abb(0xa89)]=_0xa3643d['id'],_0x56f8d4[_0x1b4abb(0xa89)]=_0xa3643d[_0x1b4abb(0x339)],_0x2ee222[_0x1b4abb(0xa89)]=_0xa3643d[_0x1b4abb(0xb2a)]||'',_0x5c4ccc[_0x1b4abb(0xa89)]=_0xa3643d[_0x1b4abb(0x28b)]||'';}else _0x2672fe[_0x1b4abb(0x1bd)]='เพิ่มปุ่มลัดใหม่',_0x179634[_0x1b4abb(0xa89)]='',_0x56f8d4[_0x1b4abb(0xa89)]='',_0x2ee222['value']='',_0x5c4ccc[_0x1b4abb(0xa89)]='';_0x4a9202[_0x1b4abb(0x605)]['remove'](_0x1b4abb(0x9a0));}async function saveShortcutChanges(){const _0xcbb74b=_0x3db3a6,_0x3dd3ec=document[_0xcbb74b(0x283)]('shortcut-id-input')['value'],_0x31a88a=document['getElementById']('shortcut-name-input')[_0xcbb74b(0xa89)][_0xcbb74b(0xc29)](),_0x3ae8e3=document[_0xcbb74b(0x283)](_0xcbb74b(0x46b))['value'][_0xcbb74b(0xc29)]();if(!_0x31a88a||!_0x3ae8e3){showMessage(_0xcbb74b(0xae4));return;}const _0x5e9c07={'id':_0x3dd3ec||_0xcbb74b(0x377)+Date[_0xcbb74b(0x9e4)](),'name':_0x31a88a,'blueprintUrl':_0x3ae8e3,'referenceUrl':document[_0xcbb74b(0x283)](_0xcbb74b(0x1cf))[_0xcbb74b(0xa89)][_0xcbb74b(0xc29)](),'isDefault':_0x3dd3ec[_0xcbb74b(0x9bd)](_0xcbb74b(0x6fd))};let _0x580f07;_0x3dd3ec?_0x580f07=blueprintShortcuts[_0xcbb74b(0x87e)](_0x180946=>_0x180946['id']===_0x3dd3ec?_0x5e9c07:_0x180946):_0x580f07=[...blueprintShortcuts,_0x5e9c07];try{const _0x380d67=doc(db,_0xcbb74b(0x2c2),'dashboardConfig');await setDoc(_0x380d67,{'blueprintShortcuts':_0x580f07},{'merge':!![]}),document[_0xcbb74b(0x283)](_0xcbb74b(0xcc0))[_0xcbb74b(0x605)][_0xcbb74b(0xd74)](_0xcbb74b(0x9a0));}catch(_0x3f5647){console[_0xcbb74b(0xe4d)](_0xcbb74b(0xc15),_0x3f5647),showMessage(_0xcbb74b(0x7c3));}}async function handleShortcutClick(_0x870cbd){const _0x4a0c8b=_0x3db3a6,_0x5bbbe7=blueprintShortcuts[_0x4a0c8b(0xe8)](_0xc33115=>_0xc33115['id']===_0x870cbd);if(!_0x5bbbe7||!_0x5bbbe7['blueprintUrl'])return;document[_0x4a0c8b(0x283)](_0x4a0c8b(0x444))[_0x4a0c8b(0x605)]['add']('hidden'),document[_0x4a0c8b(0x283)](_0x4a0c8b(0xaeb))['disabled']=!![];const _0xa4ede6=document[_0x4a0c8b(0x283)](_0x4a0c8b(0x344)),_0x1cf7bf=document['getElementById'](_0x4a0c8b(0x550));document[_0x4a0c8b(0x283)](_0x4a0c8b(0x1a0))[_0x4a0c8b(0x605)][_0x4a0c8b(0x31b)](_0x4a0c8b(0x9a0)),document[_0x4a0c8b(0x283)](_0x4a0c8b(0x42d))[_0x4a0c8b(0x545)]='',_0xa4ede6[_0x4a0c8b(0x605)][_0x4a0c8b(0x31b)]('hidden');try{_0x1cf7bf[_0x4a0c8b(0x1bd)]=_0x4a0c8b(0xd60);const _0x2c4c71=await fetchFileFromUrl(_0x5bbbe7[_0x4a0c8b(0xb2a)],_0x4a0c8b(0x2ac));let _0x2cb593=null;if(_0x5bbbe7['referenceUrl']){_0x1cf7bf['textContent']=_0x4a0c8b(0x978);const _0x37bb43=_0x5bbbe7[_0x4a0c8b(0x28b)][_0x4a0c8b(0xa8)]()['endsWith'](_0x4a0c8b(0x60f))?_0x4a0c8b(0x831):_0x4a0c8b(0x7f1);_0x2cb593=await fetchFileFromUrl(_0x5bbbe7[_0x4a0c8b(0x28b)],_0x37bb43);}await handleGenerateFromBlueprintWithFiles(_0x2c4c71,_0x2cb593);}catch(_0x383eae){console[_0x4a0c8b(0xe4d)](_0x4a0c8b(0x9e1),_0x383eae),showMessage(_0x4a0c8b(0xe07)+_0x383eae[_0x4a0c8b(0x226)]),_0xa4ede6[_0x4a0c8b(0x605)][_0x4a0c8b(0xd74)](_0x4a0c8b(0x9a0));}}function getDirectDownloadUrl(_0x513d65){const _0x3a3896=_0x3db3a6,_0x212685=_0x513d65[_0x3a3896(0xd7a)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x212685&&_0x212685[0x1])return _0x3a3896(0x725)+_0x212685[0x1];return _0x513d65;}async function fetchFileFromUrl(_0x144738,_0x24e6b){const _0x40f984=_0x3db3a6,_0x342f17=getDirectDownloadUrl(_0x144738),_0x4077a2=_0x40f984(0xbe3)+encodeURIComponent(_0x342f17),_0x286c6b=await fetch(_0x4077a2);if(!_0x286c6b['ok'])throw new Error(_0x40f984(0x941)+_0x286c6b[_0x40f984(0x360)]+')');const _0xcd34a8=await _0x286c6b['blob'](),_0x3e5a88=await new Promise((_0x457a7a,_0x11a6cb)=>{const _0x466aba=_0x40f984,_0x20a064=new FileReader();_0x20a064[_0x466aba(0x626)]=()=>_0x457a7a(new Uint8Array(_0x20a064[_0x466aba(0x796)])),_0x20a064[_0x466aba(0x29a)]=_0x11a6cb,_0x20a064[_0x466aba(0x8f9)](_0xcd34a8['slice'](0x0,0x4));});let _0x1aa92f='';const _0xe492bf=new TextDecoder()[_0x40f984(0xa4b)](_0x3e5a88);return _0xe492bf===_0x40f984(0xaf1)?(_0x1aa92f=_0x40f984(0x1b1),console[_0x40f984(0x6e6)]('File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.')):(_0x1aa92f=_0x40f984(0x9a2),console[_0x40f984(0x6e6)](_0x40f984(0x90d))),new File([_0xcd34a8],_0x24e6b,{'type':_0x1aa92f});}async function handleGenerateFromBlueprintWithFiles(_0x58532f,_0x4d2e42=null){const _0xa4f8a7=_0x3db3a6;if(!_0x58532f){showMessage(_0xa4f8a7(0x29f));return;}const _0x1769b3=document[_0xa4f8a7(0x283)]('loader'),_0x4d2438=document[_0xa4f8a7(0x283)](_0xa4f8a7(0x550));_0x1769b3[_0xa4f8a7(0x605)][_0xa4f8a7(0x31b)](_0xa4f8a7(0x9a0)),document['getElementById'](_0xa4f8a7(0x1a0))[_0xa4f8a7(0x605)]['remove']('hidden'),document[_0xa4f8a7(0x283)](_0xa4f8a7(0x42d))[_0xa4f8a7(0x545)]='';try{_0x4d2438['textContent']=_0xa4f8a7(0xbf2);const _0x3b60fc=await new Promise((_0x485284,_0x31df0b)=>{const _0x2d49a3=_0xa4f8a7,_0x41f718=new FileReader();_0x41f718[_0x2d49a3(0x640)](_0x58532f),_0x41f718['onload']=()=>_0x485284(_0x41f718[_0x2d49a3(0x796)][_0x2d49a3(0x7ea)](',')[0x1]),_0x41f718['onerror']=_0x31df0b;}),_0x3dad93=[];if(_0x4d2e42){_0x4d2438['textContent']=_0xa4f8a7(0x714);const _0x56da5a=await _0x4d2e42[_0xa4f8a7(0x38a)]();_0x3dad93[_0xa4f8a7(0x827)]({'text':_0xa4f8a7(0x9e9)+_0x56da5a});}const _0x242291=[{'text':'...'},{'inlineData':{'mimeType':_0x58532f[_0xa4f8a7(0x816)],'data':_0x3b60fc}},..._0x3dad93];await handleGenerateFromBlueprint(_0x242291);}catch(_0x57263d){console[_0xa4f8a7(0xe4d)](_0xa4f8a7(0x89b),_0x57263d),showMessage(_0xa4f8a7(0xe07)+_0x57263d[_0xa4f8a7(0x226)]),_0x1769b3[_0xa4f8a7(0x605)]['add']('hidden');}}async function handleLiveAnswer(_0x1f3c6d,_0x4d5c9c){const _0x502bf5=_0x3db3a6;document[_0x502bf5(0x68a)]('.live-answer-btn,\x20#live-submit-short-answer-btn')[_0x502bf5(0x277)](_0x3fc459=>_0x3fc459[_0x502bf5(0xc71)]=!![]);const _0x1364dd=_0x4d5c9c[_0x502bf5(0x430)]||currentQuizData[_0x502bf5(0x461)];let _0x3085fc=![],_0x1e66de=_0x1f3c6d;if(_0x1364dd===_0x502bf5(0x358)){const _0x7c692f=(_0x1f3c6d||'')[_0x502bf5(0x99d)]();_0x3085fc=await gradeShortAnswer(_0x7c692f,_0x4d5c9c);}else{if(_0x1364dd===_0x502bf5(0x6f2))_0x3085fc=_0x1f3c6d===_0x4d5c9c['correctAnswerIndex'];else{if(_0x1364dd===_0x502bf5(0x50e)){const _0x5120a7=_0x4d5c9c[_0x502bf5(0xad1)];_0x3085fc=_0x1f3c6d===0x0&&_0x5120a7||_0x1f3c6d===0x1&&!_0x5120a7;}else{if(_0x1364dd===_0x502bf5(0x1f4)){const _0x19805a=_0x4d5c9c[_0x502bf5(0x17b)][_0x1f3c6d];_0x3085fc=_0x19805a===_0x4d5c9c[_0x502bf5(0xdcc)],_0x1e66de=_0x19805a;}}}}const _0x4a76b6=doc(db,'artifacts/'+appId+_0x502bf5(0xb8),currentLiveGameId),_0x5f20e1={};_0x5f20e1[_0x502bf5(0xcf2)+currentStudentName+_0x502bf5(0xe1c)]=!![],_0x5f20e1[_0x502bf5(0xcf2)+currentStudentName+_0x502bf5(0xa0f)]=_0x3085fc,_0x5f20e1[_0x502bf5(0xcf2)+currentStudentName+_0x502bf5(0x544)]=_0x1364dd===_0x502bf5(0x358)||_0x1364dd===_0x502bf5(0x1f4)?null:_0x1f3c6d,_0x5f20e1[_0x502bf5(0xcf2)+currentStudentName+_0x502bf5(0xcff)]=_0x1e66de,_0x5f20e1[_0x502bf5(0xcf2)+currentStudentName+_0x502bf5(0x700)]=serverTimestamp(),_0x5f20e1['players.'+currentStudentName+_0x502bf5(0x5e4)]=![],await updateDoc(_0x4a76b6,_0x5f20e1),liveGameView[_0x502bf5(0x545)]=_0x502bf5(0x5bf);}function showAdminSummaryView(_0xa6cea8,_0x40b042){const _0x51f708=_0x3db3a6,_0xf4528a=Object[_0x51f708(0x2e5)](_0xa6cea8[_0x51f708(0x5ec)]||{}),_0x1bb3de=_0x40b042[_0x51f708(0x430)]||currentQuizData[_0x51f708(0x461)],_0x72afa=_0x1bb3de==='true_false'?[_0x51f708(0x993),_0x51f708(0x9ab)]:_0x40b042['options']||_0x40b042[_0x51f708(0x17b)]||[],_0x13e96c={},_0x1b7d1d=new Array(_0x72afa[_0x51f708(0x110)])['fill'](0x0);_0x72afa['forEach']((_0x583c2f,_0x176b5f)=>{_0x13e96c[_0x176b5f]=[];}),Object[_0x51f708(0xa71)](_0xa6cea8['players']||{})[_0x51f708(0x277)](([_0x54cdc1,_0x1fb0de])=>{const _0x2dc59d=_0x51f708;if(_0x1fb0de['status']===_0x2dc59d(0xcce)&&_0x1fb0de[_0x2dc59d(0x267)]!==undefined){const _0x2bb51d=_0x1fb0de[_0x2dc59d(0x267)];_0x13e96c[_0x2bb51d]&&(_0x13e96c[_0x2bb51d][_0x2dc59d(0x827)](_0x54cdc1),_0x1b7d1d[_0x2bb51d]++);}});const _0x40ce3c=Math[_0x51f708(0x8c3)](..._0x1b7d1d,0x1),_0x42e29a=_0x51f708(0xc4d)+(_0x40b042[_0x51f708(0x2f5)]||_0x40b042[_0x51f708(0xb0e)])+_0x51f708(0x911)+_0x1b7d1d[_0x51f708(0x87e)]((_0x4548fc,_0x228c9d)=>{const _0x367d7e=_0x51f708,_0x2e059e=_0x13e96c[_0x228c9d]['length']>0x0?_0x13e96c[_0x228c9d][_0x367d7e(0xd6e)](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้';let _0x10649e=![];if(_0x1bb3de===_0x367d7e(0x6f2))_0x10649e=_0x228c9d===_0x40b042['correctAnswerIndex'];else{if(_0x1bb3de===_0x367d7e(0x50e)){const _0x522061=_0x40b042['correctAnswer'];_0x10649e=_0x522061&&_0x228c9d===0x0||!_0x522061&&_0x228c9d===0x1;}else _0x1bb3de==='matching_item'&&(_0x10649e=_0x72afa[_0x228c9d]===_0x40b042[_0x367d7e(0xdcc)]);}const _0x54baa2=_0x10649e?_0x367d7e(0x566):_0x367d7e(0x3c6);return _0x367d7e(0xb96)+_0x4548fc+_0x367d7e(0xccc)+_0x54baa2+_0x367d7e(0x480)+_0x228c9d+_0x367d7e(0x398)+_0x72afa[_0x228c9d]+_0x367d7e(0xa76)+_0x228c9d+_0x367d7e(0xdea)+_0x2e059e+_0x367d7e(0x928);})[_0x51f708(0xd6e)]('')+_0x51f708(0x478);liveGameView['innerHTML']=_0x42e29a;if(window[_0x51f708(0x4d4)])MathJax['typesetPromise']();document[_0x51f708(0x283)](_0x51f708(0x8a2))[_0x51f708(0x844)]('click',async()=>{const _0xb5c004=_0x51f708,_0x22346e=doc(db,_0xb5c004(0x981)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x22346e,{'questionStatus':'leaderboard'});}),document[_0x51f708(0x283)](_0x51f708(0x504))[_0x51f708(0x844)]('click',()=>{openScratchpad(_0x40b042,_0x72afa);});}function showPlayerSummaryView(_0x5652df,_0x1b515b){const _0x470fc8=_0x3db3a6,_0x322d6a=Object[_0x470fc8(0x2e5)](_0x5652df[_0x470fc8(0x5ec)]||{}),_0x1e54ff=_0x5652df['players'][_0x1b515b],_0x330c78=_0x322d6a[_0x470fc8(0x1a1)](_0x82e4cd=>_0x82e4cd[_0x470fc8(0x360)]==='active')[_0x470fc8(0x667)]((_0x419521,_0x1ad158)=>_0x1ad158[_0x470fc8(0x791)]-_0x419521[_0x470fc8(0x791)]),_0x3948d4=_0x330c78[_0x470fc8(0x35e)](_0x1f7aa9=>_0x1f7aa9===_0x1e54ff)+0x1,_0x41ae72=_0x1e54ff['lastAnswerCorrect']?_0x470fc8(0x66e):_0x470fc8(0x522),_0x319f72=_0x1e54ff[_0x470fc8(0xf6)]?'bg-green-500':_0x470fc8(0x6c0),_0x56f090=_0x1e54ff[_0x470fc8(0xd44)]||0x0,_0xe8ff5=_0x470fc8(0x926),_0x20f4ee=_0x470fc8(0x2e1)+_0xe8ff5+_0x470fc8(0xd1e)+_0x319f72+_0x470fc8(0xb99)+_0x41ae72+_0x470fc8(0x43a)+_0x56f090+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>'+(_0x3948d4>0x0?_0x3948d4:'-')+_0x470fc8(0x19c);liveGameView[_0x470fc8(0x545)]=_0x20f4ee;}function createQuizFromBank(){const _0x4b5107=_0x3db3a6,_0x21d5d8=document[_0x4b5107(0x68a)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x21d5d8[_0x4b5107(0x110)]===0x0){showMessage(_0x4b5107(0xd9e));return;}const _0x236561=[];_0x21d5d8[_0x4b5107(0x277)](_0x5d8df1=>{const _0x3e5a0c=_0x4b5107;_0x236561[_0x3e5a0c(0x827)](JSON[_0x3e5a0c(0x11c)](_0x5d8df1['value']));});const _0x4377e0={'topic':_0x4b5107(0xbfb),'questions':_0x236561};displayGeneratedQuiz(_0x4377e0);}function showAdminLobbyView(_0xc3073b,_0x2ceaf4){const _0x4f0acb=_0x3db3a6;showView(_0x4f0acb(0x939));const _0x216116='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x2ceaf4+_0x4f0acb(0x4ee)+_0xc3073b+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x4f0acb(0x545)]=_0x216116,document[_0x4f0acb(0x283)](_0x4f0acb(0x918))[_0x4f0acb(0x844)](_0x4f0acb(0x425),async()=>{const _0x2a3a3b=_0x4f0acb;if(!currentQuizData||!currentQuizData['questions']||currentQuizData[_0x2a3a3b(0x13f)][_0x2a3a3b(0x110)]===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x2e114e=doc(db,_0x2a3a3b(0x981)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x2e114e,{'status':_0x2a3a3b(0xc78),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x2022d6=currentQuizData[_0x2a3a3b(0x13f)][0x0],_0x6d6630=currentQuizData[_0x2a3a3b(0x13f)][_0x2a3a3b(0x110)];showAdminLiveQuestionView(_0x2022d6,0x0,_0x6d6630);}catch(_0x360837){console[_0x2a3a3b(0xe4d)](_0x2a3a3b(0xb6f),_0x360837),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openQuizBankModal(){const _0x3151fa=_0x3db3a6;if(allQuizzesGlobal['length']===0x0){const _0x231f3b=await getDocs(collection(db,_0x3151fa(0x981)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x231f3b[_0x3151fa(0xcf4)]['map'](_0x5905dd=>({'id':_0x5905dd['id'],..._0x5905dd[_0x3151fa(0x366)]()}));}renderQuizBankList(''),document[_0x3151fa(0x283)](_0x3151fa(0x83d))['classList'][_0x3151fa(0x31b)](_0x3151fa(0x9a0));}function renderQuizBankList(_0x2fc921='',_0x72f7bd=![]){const _0x1b86a0=_0x3db3a6,_0x1647f3=document[_0x1b86a0(0x283)](_0x1b86a0(0xe0)),_0x5b68b5=_0x2fc921['toLowerCase']()['trim'](),_0x259f82=allQuizzesGlobal[_0x1b86a0(0x87e)](_0x1ab0dd=>({..._0x1ab0dd,'projectName':allProjects['find'](_0x11a367=>_0x11a367['id']===_0x1ab0dd[_0x1b86a0(0x47e)])?.[_0x1b86a0(0xe60)]||'N/A'}))[_0x1b86a0(0x1a1)](_0x1a510c=>(_0x1a510c[_0x1b86a0(0xe5f)]||'')['toLowerCase']()[_0x1b86a0(0x2e8)](_0x5b68b5)||(_0x1a510c[_0x1b86a0(0xe60)]||'')[_0x1b86a0(0xa8)]()[_0x1b86a0(0x2e8)](_0x5b68b5)||_0x1a510c['id'][_0x1b86a0(0x99d)]()['includes'](_0x5b68b5));document[_0x1b86a0(0x283)]('quiz-bank-count')[_0x1b86a0(0x1bd)]='('+_0x259f82['length']+_0x1b86a0(0x40d),_0x1647f3[_0x1b86a0(0x545)]=_0x259f82[_0x1b86a0(0x110)]?_0x259f82[_0x1b86a0(0x87e)](_0x1b3292=>{const _0x11a6d5=_0x1b86a0,_0x53fe1e=!_0x72f7bd?_0x11a6d5(0x4e8)+_0x1b3292['id']+_0x11a6d5(0x14f)+_0x1b3292['id']+'\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1b3292['id']+_0x11a6d5(0xc2d)+_0x1b3292['id']+_0x11a6d5(0x176)+_0x1b3292['id']+_0x11a6d5(0x8dc)+_0x1b3292['id']+_0x11a6d5(0xb1d)+_0x1b3292[_0x11a6d5(0xe5f)]+_0x11a6d5(0x960):'';return _0x11a6d5(0x762)+_0x1b3292['id']+_0x11a6d5(0x14d)+(_0x1b3292[_0x11a6d5(0xe5f)]||'(ไม่มีชื่อ)')+_0x11a6d5(0x9cd)+(_0x1b3292['questions']?.[_0x11a6d5(0x110)]||0x0)+_0x11a6d5(0x3fb)+_0x1b3292[_0x11a6d5(0xe60)]+_0x11a6d5(0x3b4)+_0x1b3292['id']+_0x11a6d5(0x884)+_0x53fe1e+'\x0a\x20\x20\x20\x20\x20\x20</div>';})[_0x1b86a0(0xd6e)](''):_0x1b86a0(0xac3),!_0x72f7bd&&(_0x1647f3['querySelectorAll'](_0x1b86a0(0x606))[_0x1b86a0(0x277)](_0x3f6234=>{const _0x2affce=_0x1b86a0;_0x3f6234[_0x2affce(0x844)](_0x2affce(0x425),()=>{const _0x557e1b=_0x2affce,_0x44f930=_0x3f6234[_0x557e1b(0x845)]['id'];document[_0x557e1b(0x283)]('quiz-bank-modal')[_0x557e1b(0x605)][_0x557e1b(0xd74)](_0x557e1b(0x9a0)),showQuizDetailView(_0x44f930);});}),_0x1647f3['querySelectorAll']('.quiz-bank-try-btn')['forEach'](_0x125d20=>{const _0x4ba329=_0x1b86a0;_0x125d20[_0x4ba329(0x844)]('click',_0x5b4a84=>{const _0x3359a2=_0x4ba329;_0x5b4a84[_0x3359a2(0xe28)]();const _0x228c3f=_0x125d20[_0x3359a2(0x845)]['id'],_0x3b84b9=allQuizzesGlobal[_0x3359a2(0xe8)](_0x5cf768=>_0x5cf768['id']===_0x228c3f);_0x3b84b9?(currentQuizData=_0x3b84b9,document[_0x3359a2(0x283)](_0x3359a2(0x83d))[_0x3359a2(0x605)]['add'](_0x3359a2(0x9a0)),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x1647f3[_0x1b86a0(0x68a)]('.quiz-bank-parallel-btn')[_0x1b86a0(0x277)](_0x44ff5c=>{const _0x20ab86=_0x1b86a0;_0x44ff5c[_0x20ab86(0x844)](_0x20ab86(0x425),_0x323a2e=>{const _0x2bb077=_0x20ab86;_0x323a2e[_0x2bb077(0xe28)]();const _0x3bff12=_0x44ff5c[_0x2bb077(0x845)]['id'],_0x4471b0=allQuizzesGlobal[_0x2bb077(0xe8)](_0x71b8b9=>_0x71b8b9['id']===_0x3bff12);_0x4471b0?(document[_0x2bb077(0x283)](_0x2bb077(0x83d))['classList'][_0x2bb077(0xd74)](_0x2bb077(0x9a0)),handleGenerateParallelFromBank(_0x4471b0)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x1647f3[_0x1b86a0(0x68a)](_0x1b86a0(0x39f))['forEach'](_0x11d1b6=>{const _0x346c68=_0x1b86a0;_0x11d1b6[_0x346c68(0x844)](_0x346c68(0x425),_0x5b27c0=>{const _0x1239be=_0x346c68;_0x5b27c0['stopPropagation']();const _0x3b9630=_0x11d1b6['dataset']['id'],_0xed466d=allQuizzesGlobal[_0x1239be(0xe8)](_0x3ba631=>_0x3ba631['id']===_0x3b9630);_0xed466d?(document[_0x1239be(0x283)](_0x1239be(0x83d))['classList'][_0x1239be(0xd74)](_0x1239be(0x9a0)),startPresentation(_0xed466d)):showMessage(_0x1239be(0x393));});}),_0x1647f3[_0x1b86a0(0x68a)](_0x1b86a0(0xe54))[_0x1b86a0(0x277)](_0x3023bd=>{const _0x58e43d=_0x1b86a0;_0x3023bd[_0x58e43d(0x844)](_0x58e43d(0x425),_0xc78f4a=>{const _0x554144=_0x58e43d;_0xc78f4a[_0x554144(0xe28)]();const _0x444104=_0x3023bd[_0x554144(0x845)]['id'];document[_0x554144(0x283)]('quiz-bank-modal')[_0x554144(0x605)][_0x554144(0xd74)](_0x554144(0x9a0)),handleMoveQuiz(_0x444104);});}),_0x1647f3[_0x1b86a0(0x68a)](_0x1b86a0(0xe2b))['forEach'](_0x3ffd95=>{const _0x325852=_0x1b86a0;_0x3ffd95[_0x325852(0x844)](_0x325852(0x425),_0x1a4708=>{const _0xa2b34a=_0x325852;_0x1a4708[_0xa2b34a(0xe28)]();const _0x1dc8e6=_0x3ffd95[_0xa2b34a(0x845)]['id'];document['getElementById']('quiz-bank-modal')['classList'][_0xa2b34a(0xd74)](_0xa2b34a(0x9a0)),handleQuizSettings(_0x1dc8e6);});}),_0x1647f3['querySelectorAll'](_0x1b86a0(0xd4e))[_0x1b86a0(0x277)](_0x464c61=>{const _0x93172=_0x1b86a0;_0x464c61[_0x93172(0x844)](_0x93172(0x425),_0x49efc7=>{const _0x297838=_0x93172;_0x49efc7[_0x297838(0xe28)]();const _0x4eb3e5=_0x464c61['dataset']['id'],_0x4ede80=_0x464c61['dataset'][_0x297838(0xe5f)];showConfirmation(_0x297838(0x3f7)+_0x4ede80+_0x297838(0x13e),()=>handleDeleteQuiz(_0x4eb3e5));});}));}async function handleCompareResults(_0x17446d,_0x26129d){const _0x5442e2=_0x3db3a6,_0x43aef2=document[_0x5442e2(0x283)](_0x5442e2(0x511)),_0x35e034=document[_0x5442e2(0x283)]('comparison-overall-content'),_0x3d6121=document[_0x5442e2(0x283)](_0x5442e2(0x1c5));document['getElementById'](_0x5442e2(0x323))[_0x5442e2(0x605)]['add'](_0x5442e2(0xcce)),document[_0x5442e2(0x283)](_0x5442e2(0x5c0))[_0x5442e2(0x605)][_0x5442e2(0x31b)]('active'),_0x35e034[_0x5442e2(0x605)][_0x5442e2(0x31b)](_0x5442e2(0x9a0)),_0x3d6121[_0x5442e2(0x605)][_0x5442e2(0xd74)](_0x5442e2(0x9a0)),_0x35e034[_0x5442e2(0x545)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x3d6121[_0x5442e2(0x545)]='',_0x43aef2[_0x5442e2(0x605)][_0x5442e2(0x31b)](_0x5442e2(0x9a0));try{const _0x859c5=doc(db,_0x5442e2(0x981)+appId+'/public/data/quizzes',_0x17446d),_0x2712fd=await getDoc(_0x859c5);if(!_0x2712fd['exists']())throw new Error(_0x5442e2(0x76f));const _0x3aa6c5=_0x2712fd['data'](),_0x29bf26=_0x3aa6c5[_0x5442e2(0x13f)][_0x5442e2(0x110)],_0x26b61a=collection(db,'artifacts/'+appId+_0x5442e2(0x1c4)+_0x26129d+_0x5442e2(0xb8f)),_0x5e533e=collection(db,'artifacts/'+appId+_0x5442e2(0x1c4)+_0x17446d+_0x5442e2(0xb8f)),[_0x55b42f,_0x102072]=await Promise[_0x5442e2(0xd1a)]([getDocs(_0x26b61a),getDocs(_0x5e533e)]),_0x1507df=_0x55b42f[_0x5442e2(0xcf4)][_0x5442e2(0x87e)](_0x5cec66=>_0x5cec66[_0x5442e2(0x366)]()),_0x3c3a94=_0x102072[_0x5442e2(0xcf4)][_0x5442e2(0x87e)](_0x237fd3=>_0x237fd3[_0x5442e2(0x366)]()),_0x3c8769=_0x1507df['map'](_0x40418e=>_0x40418e[_0x5442e2(0x1ab)]),_0x2758f0=_0x3c3a94[_0x5442e2(0x87e)](_0x285a3e=>_0x285a3e[_0x5442e2(0x1ab)]),_0x22ab49=calculateMeanAndStdDev(_0x3c8769),_0x1731b=calculateMeanAndStdDev(_0x2758f0),_0x25cc75=_0x22ab49[_0x5442e2(0xdeb)],_0x16e28b=_0x1731b[_0x5442e2(0xdeb)],_0x5f00cf=_0x16e28b-_0x25cc75;let _0x2a7773=_0x5442e2(0x468)+_0x25cc75[_0x5442e2(0x457)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>'+_0x16e28b['toFixed'](0x2)+_0x5442e2(0x60d)+(_0x5f00cf>=0x0?_0x5442e2(0x4f6):'bg-red-100')+_0x5442e2(0xf1)+(_0x5f00cf>=0x0?_0x5442e2(0x594):_0x5442e2(0x348))+_0x5442e2(0x5b8)+(_0x5f00cf>=0x0?_0x5442e2(0x2bd):'text-red-900')+'\x22>'+(_0x5f00cf>=0x0?'+':'')+_0x5f00cf[_0x5442e2(0x457)](0x2)+_0x5442e2(0x115);_0x35e034['innerHTML']=_0x2a7773;const _0x20513a=document['getElementById'](_0x5442e2(0xce5))[_0x5442e2(0x2c4)]('2d');if(chartInstances[_0x5442e2(0x445)])chartInstances[_0x5442e2(0x445)][_0x5442e2(0x278)]();chartInstances['comparison']=new Chart(_0x20513a,{'type':_0x5442e2(0x610),'data':{'labels':[_0x5442e2(0x3ba)],'datasets':[{'label':_0x5442e2(0x255),'data':[_0x25cc75],'backgroundColor':_0x5442e2(0x198)},{'label':'หลังเรียน','data':[_0x16e28b],'backgroundColor':_0x5442e2(0x365)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x29bf26}}}});const _0x105038=currentProjectData[_0x5442e2(0x138)]||[],_0x5842a6=_0x105038[_0x5442e2(0x87e)](_0x409215=>{const _0x247f89=_0x5442e2,_0x2827c8=_0x1507df[_0x247f89(0xe8)](_0x537ca0=>_0x537ca0[_0x247f89(0x28e)]===_0x409215),_0x27ab8c=_0x3c3a94[_0x247f89(0xe8)](_0x541fb4=>_0x541fb4[_0x247f89(0x28e)]===_0x409215),_0x3eab75=_0x2827c8?_0x2827c8['latestScore']:null,_0x21427b=_0x27ab8c?_0x27ab8c['latestScore']:null,_0x13e5cf=_0x3eab75!==null&&_0x21427b!==null?_0x21427b-_0x3eab75:null,_0x25ab3b=_0x3eab75!==null?calculateZScore(_0x3eab75,_0x22ab49[_0x247f89(0xdeb)],_0x22ab49[_0x247f89(0x421)]):null,_0x25bffd=_0x21427b!==null?calculateZScore(_0x21427b,_0x1731b[_0x247f89(0xdeb)],_0x1731b['stdDev']):null,_0x219e09=_0x25ab3b!==null?calculateTScore(_0x25ab3b):null,_0x30d3e0=_0x25bffd!==null?calculateTScore(_0x25bffd):null,_0x117826=_0x219e09!==null&&_0x30d3e0!==null?_0x30d3e0-_0x219e09:null;return{'name':_0x409215,'preScore':_0x3eab75,'postScore':_0x21427b,'gain':_0x13e5cf,'preTScore':_0x219e09,'postTScore':_0x30d3e0,'tGain':_0x117826};});renderIndividualComparisonTable(_0x5842a6,_0x3d6121);}catch(_0x4b4f61){console['error']('Error\x20comparing\x20results:',_0x4b4f61),_0x35e034[_0x5442e2(0x545)]=_0x5442e2(0x738);}}async function saveBlueprintProject(){const _0x1fda37=_0x3db3a6;if(!extractedBlueprintData||!extractedBlueprintData[_0x1fda37(0xbdf)]){showMessage(_0x1fda37(0x832));return;}const _0xb52696=prompt(_0x1fda37(0xb02),_0x1fda37(0x663));if(!_0xb52696||_0xb52696[_0x1fda37(0xc29)]()==='')return;const _0x53cb3e={};extractedBlueprintData[_0x1fda37(0xbdf)][_0x1fda37(0x277)](_0x1adf16=>{const _0x30e165=_0x1fda37;_0x1adf16[_0x30e165(0x18c)]['forEach'](_0x48804=>{const _0x41daa4=_0x30e165;_0x48804[_0x41daa4(0x76d)][_0x41daa4(0x277)](_0x497bf8=>{const _0x5ec2b0=_0x41daa4,_0x2fca72=_0x5ec2b0(0x6bb)+Date[_0x5ec2b0(0x9e4)]()+Math[_0x5ec2b0(0x2cc)]()[_0x5ec2b0(0x99d)](0x24)[_0x5ec2b0(0x55c)](0x2,0x9);_0x53cb3e[_0x2fca72]={'sara':_0x1adf16[_0x5ec2b0(0x75b)],'mainTopic':_0x48804['topicName'],'subTopic':_0x497bf8,'status':_0x5ec2b0(0xb20),'lessonContent':null};});});});try{const _0xc3b7f=collection(db,_0x1fda37(0x981)+appId+_0x1fda37(0xfb));await addDoc(_0xc3b7f,{'projectName':_0xb52696[_0x1fda37(0xc29)](),'gradeLevel':extractedBlueprintData[_0x1fda37(0x53c)],'topics':_0x53cb3e,'createdAt':serverTimestamp()}),showMessage(_0x1fda37(0x7e9)+_0xb52696['trim']()+_0x1fda37(0xddc)),document[_0x1fda37(0x283)](_0x1fda37(0xee))[_0x1fda37(0x605)]['add'](_0x1fda37(0x9a0));}catch(_0x5b9654){console[_0x1fda37(0xe4d)]('Error\x20saving\x20blueprint\x20project:',_0x5b9654),showMessage('เกิดข้อผิดพลาดในการบันทึกโปรเจค');}}async function showBlueprintProjects(){const _0x309028=_0x3db3a6,_0x200ac6=document[_0x309028(0x283)](_0x309028(0xb78)),_0x55599d=document[_0x309028(0x283)](_0x309028(0x723));_0x55599d[_0x309028(0x545)]=_0x309028(0xe1e),_0x200ac6['classList'][_0x309028(0x31b)]('hidden');try{const _0x21809b=collection(db,'artifacts/'+appId+_0x309028(0xfb)),_0xaa25fe=await getDocs(_0x21809b);if(_0xaa25fe[_0x309028(0x43c)]){_0x55599d[_0x309028(0x545)]=_0x309028(0xbe0);return;}const _0x5e4587=_0xaa25fe['docs'][_0x309028(0x87e)](_0x3c9a14=>({'id':_0x3c9a14['id'],..._0x3c9a14['data']()}));_0x5e4587['sort']((_0x56e244,_0x90cee0)=>_0x56e244['projectName'][_0x309028(0x879)](_0x90cee0['projectName'],'th')),_0x55599d['innerHTML']=_0x5e4587[_0x309028(0x87e)](_0xdf960f=>_0x309028(0x476)+_0xdf960f['projectName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>'+_0xdf960f[_0x309028(0x53c)]+'\x20|\x20'+Object['keys'](_0xdf960f['topics'])[_0x309028(0x110)]+_0x309028(0xd25)+_0xdf960f['id']+_0x309028(0x528)+_0xdf960f['id']+'\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x309028(0xd6e)]('');}catch(_0x49be7b){console[_0x309028(0xe4d)](_0x309028(0x355),_0x49be7b),_0x55599d[_0x309028(0x545)]=_0x309028(0x986);}}async function displayBlueprintProjectManager(_0x45b5c9){const _0x2a134d=_0x3db3a6;currentBlueprintProjectId=_0x45b5c9,document[_0x2a134d(0x283)](_0x2a134d(0xb78))[_0x2a134d(0x605)][_0x2a134d(0xd74)]('hidden'),showView(_0x2a134d(0x8b0)),projectDashboardView[_0x2a134d(0x605)][_0x2a134d(0xd74)](_0x2a134d(0x9a0));const _0xa5bf04=document[_0x2a134d(0x283)](_0x2a134d(0x4c3));_0xa5bf04[_0x2a134d(0x605)][_0x2a134d(0x31b)]('hidden'),document[_0x2a134d(0x283)](_0x2a134d(0x88a))[_0x2a134d(0x545)]=_0x2a134d(0x42f);try{const _0x17a878=doc(db,_0x2a134d(0x981)+appId+'/public/data/blueprintProjects',_0x45b5c9),_0x34a5b5=await getDoc(_0x17a878);if(!_0x34a5b5[_0x2a134d(0xaed)]())throw new Error('ไม่พบโปรเจค');const _0x552bac={'id':_0x34a5b5['id'],..._0x34a5b5['data']()};document[_0x2a134d(0x283)](_0x2a134d(0x3cc))['textContent']=_0x552bac['projectName'],document[_0x2a134d(0x283)](_0x2a134d(0x735))[_0x2a134d(0xa89)]=_0x552bac[_0x2a134d(0x4a7)]||'',renderBlueprintTopicManager(_0x552bac);}catch(_0x21168e){console[_0x2a134d(0xe4d)]('Error\x20displaying\x20blueprint\x20project:',_0x21168e),showMessage(_0x21168e[_0x2a134d(0x226)]),showView(_0x2a134d(0x8b0));}}function renderBlueprintTopicManager(_0x1a5b83){const _0x2db8d5=_0x3db3a6,_0x836759=document['getElementById'](_0x2db8d5(0x88a)),_0x29a45f=_0x1a5b83[_0x2db8d5(0xa1a)]||{};if(Object['keys'](_0x29a45f)[_0x2db8d5(0x110)]===0x0){_0x836759[_0x2db8d5(0x545)]=_0x2db8d5(0x8b3);return;}const _0x1ad210=Object['entries'](_0x29a45f)[_0x2db8d5(0x87e)](([_0x2ee705,_0x8834a1])=>({'id':_0x2ee705,..._0x8834a1}))[_0x2db8d5(0x667)]((_0x1597cb,_0x26e97e)=>(_0x1597cb[_0x2db8d5(0x199)]??Infinity)-(_0x26e97e[_0x2db8d5(0x199)]??Infinity)),_0x43b2ff={};_0x1ad210[_0x2db8d5(0x277)](_0x100d76=>{const _0x591e19=_0x2db8d5,{sara:_0x239445,mainTopic:_0x1c9a9e}=_0x100d76;!_0x43b2ff[_0x239445]&&(_0x43b2ff[_0x239445]={}),!_0x43b2ff[_0x239445][_0x1c9a9e]&&(_0x43b2ff[_0x239445][_0x1c9a9e]=[]),_0x43b2ff[_0x239445][_0x1c9a9e][_0x591e19(0x827)](_0x100d76);});let _0x1c7279='';for(const _0x2200e9 in _0x43b2ff){_0x1c7279+=_0x2db8d5(0x493)+_0x2200e9+_0x2db8d5(0x956);for(const _0x51559a in _0x43b2ff[_0x2200e9]){_0x1c7279+=_0x2db8d5(0x886)+_0x51559a+'</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x43b2ff[_0x2200e9][_0x51559a]['forEach'](_0x520d28=>{const _0x3b9694=_0x2db8d5,_0x159dd8=_0x520d28['id'],_0x152e6f=_0x520d28[_0x3b9694(0xbf8)]||[],_0x44ad06=_0x152e6f[_0x3b9694(0x110)]>0x0,_0xd61ffa=_0x520d28[_0x3b9694(0x360)]==='generated';let _0x4fb8e5='';_0x44ad06?_0x4fb8e5=_0x3b9694(0xb9c)+_0x152e6f[_0x3b9694(0x110)]+'\x20ชุด)</span>':_0x4fb8e5=_0x3b9694(0x28a)+(_0xd61ffa?'bg-green-200\x20text-green-800':_0x3b9694(0x8d9))+'\x22>'+(_0xd61ffa?_0x3b9694(0x9fb):_0x3b9694(0xc2))+_0x3b9694(0x3a6);const _0x1d1ea5=!_0xd61ffa?_0x3b9694(0x763):'',_0x45a004=!_0xd61ffa?_0x3b9694(0xb44):'';let _0x1026f8=_0xd61ffa?_0x3b9694(0x4ca):_0x3b9694(0x1e3);_0x1c7279+=_0x3b9694(0x988)+_0x159dd8+_0x3b9694(0xd3e)+_0x520d28['subTopic']+_0x3b9694(0x191)+_0x4fb8e5+_0x3b9694(0x1d5)+_0x1d1ea5+'\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20'+_0x45a004+'\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1026f8+_0x3b9694(0x599);}),_0x1c7279+=_0x2db8d5(0x362);}_0x1c7279+=_0x2db8d5(0xdc0);}_0x836759[_0x2db8d5(0x545)]=_0x1c7279;}async function handleDeepDeleteBlueprintProject(_0x16703c){const _0x11cd97=_0x3db3a6,_0x39bbdd=doc(db,_0x11cd97(0x981)+appId+_0x11cd97(0xfb),_0x16703c),_0x2d0c6c=await getDoc(_0x39bbdd);if(!_0x2d0c6c['exists']()){showMessage(_0x11cd97(0xcd));return;}const _0x5e46e0=_0x2d0c6c[_0x11cd97(0x366)]()[_0x11cd97(0xe60)];showConfirmation('คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22'+_0x5e46e0+_0x11cd97(0x23e),async()=>{const _0x5a9526=_0x11cd97;showMessage('กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...');try{const _0x4c37aa=writeBatch(db),_0x1799a1=_0x2d0c6c[_0x5a9526(0x366)](),_0x16dd1a=_0x1799a1[_0x5a9526(0xa1a)]||{};for(const _0x54b1d5 in _0x16dd1a){const _0x467304=doc(db,'artifacts/'+appId+_0x5a9526(0x8ac)+_0x16703c+_0x5a9526(0xc17),_0x54b1d5);_0x4c37aa[_0x5a9526(0x3ec)](_0x467304);}const _0x1c540a=new Set();for(const _0x4f6f96 in _0x16dd1a){_0x16dd1a[_0x4f6f96][_0x5a9526(0xbf8)]&&_0x16dd1a[_0x4f6f96][_0x5a9526(0xbf8)][_0x5a9526(0x277)](_0xc7d59f=>_0x1c540a['add'](_0xc7d59f));}for(const _0x234e21 of _0x1c540a){await handleDeleteQuiz(_0x234e21,![]);}_0x4c37aa[_0x5a9526(0x3ec)](_0x39bbdd),await _0x4c37aa[_0x5a9526(0x85d)](),showMessage('ลบโปรเจค\x20\x22'+_0x5e46e0+_0x5a9526(0x784)),showBlueprintProjects();}catch(_0x1a91b9){console['error']('Error\x20during\x20deep\x20delete:',_0x1a91b9),showMessage(_0x5a9526(0x768));}});}async function openTopicQuizBank(_0x5ed10d){const _0x207424=_0x3db3a6,_0x2ab971=document[_0x207424(0x283)](_0x207424(0x3a5)),_0xc22b49=document[_0x207424(0x283)]('topic-bank-list'),_0x3a4c6b=document[_0x207424(0x283)](_0x207424(0x316));try{await ensureGlobalQuizzesLoaded();const _0x189536=doc(db,_0x207424(0x981)+appId+_0x207424(0xfb),currentBlueprintProjectId),_0x411ed1=await getDoc(_0x189536);if(!_0x411ed1['exists']())return;const _0x493ca5=_0x411ed1['data'](),_0x1b826f=_0x493ca5[_0x207424(0xa1a)][_0x5ed10d];document[_0x207424(0x283)](_0x207424(0x101))[_0x207424(0x1bd)]=_0x1b826f[_0x207424(0xd58)];const _0x325a46=_0x1b826f[_0x207424(0xbf8)]||[];_0x3a4c6b['classList']['toggle'](_0x207424(0x9a0),_0x325a46['length']===0x0),_0x3a4c6b['onclick']=()=>handleClearAllLinksForTopic(_0x5ed10d);if(_0x325a46[_0x207424(0x110)]===0x0)_0xc22b49[_0x207424(0x545)]='<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>';else{const _0x2b391f=allQuizzesGlobal[_0x207424(0x1a1)](_0x11bdd1=>_0x325a46[_0x207424(0x2e8)](_0x11bdd1['id']));_0xc22b49[_0x207424(0x545)]=_0x2b391f[_0x207424(0x87e)](_0x5b96cb=>_0x207424(0x620)+_0x5b96cb['id']+_0x207424(0xa7d)+_0x5b96cb[_0x207424(0xe5f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20'+_0x5b96cb['id']+_0x207424(0x4c7)+_0x5b96cb[_0x207424(0x13f)]['length']+_0x207424(0x2f3)+_0x5b96cb['id']+_0x207424(0x5e3)+_0x5b96cb['id']+'\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a<button\x20data-quiz-id=\x22'+_0x5b96cb['id']+'\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x0a<button\x20data-quiz-id=\x22'+_0x5b96cb['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22Sync\x20Mode\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x0a</button>\x0a\x0a<button\x20data-topic-id=\x22'+_0x5ed10d+'\x22\x20data-quiz-id=\x22'+_0x5b96cb['id']+_0x207424(0x3d1))[_0x207424(0xd6e)]('');}document[_0x207424(0x283)]('add-from-global-bank-btn')['onclick']=()=>{openQuizSelectorForBlueprint(_0x5ed10d);},document[_0x207424(0x283)](_0x207424(0x92f))[_0x207424(0x74a)]=()=>_0x2ab971['classList'][_0x207424(0xd74)](_0x207424(0x9a0)),_0x2ab971[_0x207424(0x605)][_0x207424(0x31b)](_0x207424(0x9a0));}catch(_0x22ccf0){showMessage(_0x22ccf0['message']);}}async function openQuizSelectorForBlueprint(_0x55c8f8){const _0x149b9a=_0x3db3a6,_0xd10b7d=document[_0x149b9a(0x283)](_0x149b9a(0x83d)),_0x21f943=document[_0x149b9a(0x283)](_0x149b9a(0x3a5));_0x21f943[_0x149b9a(0x605)]['add'](_0x149b9a(0x9a0)),document['getElementById']('confirm-link-quiz-btn')?.[_0x149b9a(0x31b)]();const _0x2835bb=document['createElement'](_0x149b9a(0x397));_0x2835bb['id']=_0x149b9a(0xb13),_0x2835bb[_0x149b9a(0xbc2)]=_0x149b9a(0xb72),_0x2835bb[_0x149b9a(0x1bd)]=_0x149b9a(0x9a3),_0x2835bb['disabled']=!![];try{await ensureGlobalQuizzesLoaded(),_0xd10b7d[_0x149b9a(0x605)][_0x149b9a(0x31b)](_0x149b9a(0x9a0)),renderQuizBankListForMultiSelect(''),document[_0x149b9a(0x283)](_0x149b9a(0x726))['style'][_0x149b9a(0x853)]=_0x149b9a(0xdff),_0xd10b7d['querySelector'](_0x149b9a(0x892))[_0x149b9a(0x2ea)](_0x2835bb);const _0x24c35e=(_0x1c7101=![])=>{const _0x48b2c3=_0x149b9a;_0xd10b7d[_0x48b2c3(0x605)][_0x48b2c3(0xd74)](_0x48b2c3(0x9a0)),document[_0x48b2c3(0x283)](_0x48b2c3(0x726))[_0x48b2c3(0xbeb)][_0x48b2c3(0x853)]=_0x48b2c3(0x204),_0x2835bb[_0x48b2c3(0x31b)](),_0x1c7101&&openTopicQuizBank(_0x55c8f8);};_0x2835bb['onclick']=async()=>{const _0x11b331=_0x149b9a,_0x37c0b4=Array[_0x11b331(0x4e4)](document[_0x11b331(0x68a)](_0x11b331(0x54a)))[_0x11b331(0x87e)](_0xba2858=>_0xba2858['value']);if(_0x37c0b4[_0x11b331(0x110)]===0x0)return;try{const _0x1b07fa=doc(db,_0x11b331(0x981)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x49703b=(await getDoc(_0x1b07fa))[_0x11b331(0x366)](),_0x54d077=_0x49703b['topics'][_0x55c8f8][_0x11b331(0xbf8)]||[],_0x22d842=[...new Set([..._0x54d077,..._0x37c0b4])];await updateDoc(_0x1b07fa,{['topics.'+_0x55c8f8+_0x11b331(0x6ae)]:_0x22d842}),showMessage(_0x11b331(0xa2f)+_0x37c0b4[_0x11b331(0x110)]+_0x11b331(0x5c1)),_0x24c35e(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x24f05e){console['error'](_0x11b331(0xd9a),_0x24f05e);}},document[_0x149b9a(0x283)]('cancel-quiz-bank-btn')['onclick']=()=>_0x24c35e(!![]);}catch(_0x4704c3){showMessage(_0x4704c3[_0x149b9a(0x226)]),_0x21f943['classList']['remove']('hidden');}}function handleClearLinkedQuiz(_0x3d32ee){showConfirmation('คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?',async()=>{const _0x2434e3=_0x5ca2;try{const _0x4ac960=doc(db,_0x2434e3(0x981)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x4ac960,{[_0x2434e3(0x2c3)+_0x3d32ee+_0x2434e3(0x769)]:deleteField()}),showMessage(_0x2434e3(0x64d)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4f33f5){console[_0x2434e3(0xe4d)]('Error\x20clearing\x20linked\x20quiz:',_0x4f33f5),showMessage(_0x2434e3(0xd3));}});}async function addTopicToProject(){const _0x5d8e77=_0x3db3a6,_0x48929d=prompt(_0x5d8e77(0x2a4));if(!_0x48929d||_0x48929d[_0x5d8e77(0xc29)]()==='')return;const _0x5b0710=prompt(_0x5d8e77(0xe42),_0x5d8e77(0x855)),_0x289101=prompt(_0x5d8e77(0x5fe),_0x5d8e77(0x3c4)),_0x31d648='topic_'+Date[_0x5d8e77(0x9e4)]()+Math[_0x5d8e77(0x2cc)]()[_0x5d8e77(0x99d)](0x24)[_0x5d8e77(0x55c)](0x2,0x9),_0xa48fff={'sara':_0x5b0710,'mainTopic':_0x289101,'subTopic':_0x48929d[_0x5d8e77(0xc29)](),'status':_0x5d8e77(0xb20),'lessonContent':null};try{const _0x10d76f=doc(db,_0x5d8e77(0x981)+appId+_0x5d8e77(0xfb),currentBlueprintProjectId);await updateDoc(_0x10d76f,{['topics.'+_0x31d648]:_0xa48fff}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x430645){console['error']('Error\x20adding\x20topic:',_0x430645),showMessage(_0x5d8e77(0xca8));}}async function editTopicInProject(_0x630d4e){const _0x56d013=_0x3db3a6,_0x154803=document['querySelector'](_0x56d013(0x6fa)+_0x630d4e+'\x22]'),_0x5aa510=_0x154803['querySelector'](_0x56d013(0xad5)),_0x1d2f50=_0x5aa510[_0x56d013(0x1bd)],_0x524657=prompt(_0x56d013(0x227),_0x1d2f50);if(!_0x524657||_0x524657[_0x56d013(0xc29)]()===''||_0x524657[_0x56d013(0xc29)]()===_0x1d2f50)return;try{const _0x3f182e=doc(db,_0x56d013(0x981)+appId+_0x56d013(0xfb),currentBlueprintProjectId);await updateDoc(_0x3f182e,{[_0x56d013(0x2c3)+_0x630d4e+'.subTopic']:_0x524657[_0x56d013(0xc29)]()}),_0x5aa510['textContent']=_0x524657[_0x56d013(0xc29)](),showMessage('แก้ไขหัวข้อสำเร็จ');}catch(_0x3f5c5e){console[_0x56d013(0xe4d)](_0x56d013(0x65b),_0x3f5c5e),showMessage(_0x56d013(0xde8));}}async function deleteTopicFromProject(_0xb432a6){const _0x53c8a3=_0x3db3a6;if(!confirm(_0x53c8a3(0x419)))return;try{const _0x36f14c=doc(db,'artifacts/'+appId+_0x53c8a3(0xfb),currentBlueprintProjectId);await updateDoc(_0x36f14c,{[_0x53c8a3(0x2c3)+_0xb432a6]:deleteField()}),document[_0x53c8a3(0x1a6)](_0x53c8a3(0x6fa)+_0xb432a6+'\x22]')['remove'](),showMessage(_0x53c8a3(0xd7f));}catch(_0x5d6ea1){console[_0x53c8a3(0xe4d)]('Error\x20deleting\x20topic:',_0x5d6ea1),showMessage('เกิดข้อผิดพลาดในการลบ');}}async function generateAndSaveLessonForBlueprint(_0x5e02b6,_0x1f1775,_0x4c8c61){handleGenerateAndShowLesson(_0x1f1775,_0x4c8c61);const _0x1f7231=setInterval(async()=>{const _0x52e03e=_0x5ca2,_0xb50b91=document[_0x52e03e(0x283)](_0x52e03e(0xba5)),_0x2d4108=_0xb50b91[_0x52e03e(0x605)][_0x52e03e(0x5a0)](_0x52e03e(0x9a0));if(_0x2d4108){clearInterval(_0x1f7231);if(currentApplicationData&&currentApplicationData[_0x52e03e(0x110)]>0x0){const _0x370c5b={'point':document[_0x52e03e(0x283)]('pointContent')[_0x52e03e(0x545)],'memory':document[_0x52e03e(0x283)](_0x52e03e(0x58b))[_0x52e03e(0x545)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x52e03e(0x283)](_0x52e03e(0x357))[_0x52e03e(0x545)]};try{const _0x508e43=doc(db,_0x52e03e(0x981)+appId+_0x52e03e(0xfb),currentBlueprintProjectId),_0x4bc727=doc(db,_0x52e03e(0x981)+appId+_0x52e03e(0x8ac)+currentBlueprintProjectId+_0x52e03e(0xc17),_0x5e02b6),_0x52f01e=writeBatch(db);_0x52f01e[_0x52e03e(0xb94)](_0x4bc727,{'content':_0x370c5b}),_0x52f01e['update'](_0x508e43,{[_0x52e03e(0x2c3)+_0x5e02b6+_0x52e03e(0xa98)]:'generated'}),await _0x52f01e[_0x52e03e(0x85d)](),console[_0x52e03e(0x6e6)]('บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20'+_0x5e02b6+_0x52e03e(0x933)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x27f9ae){console[_0x52e03e(0xe4d)](_0x52e03e(0x5df),_0x27f9ae);}}}},0x3e8);}function displayHalfMarkResult(_0x49f3b8,_0x56400c){const _0x29a1b6=_0x3db3a6,_0x1de74c=_0x49f3b8>=_0x56400c/0x2,_0x214e1e=_0x1de74c?_0x29a1b6(0x852):'bg-red-100',_0x51def1=_0x1de74c?_0x29a1b6(0x9b3):_0x29a1b6(0xdd4),_0x17a5fc=_0x1de74c?_0x29a1b6(0x1fb):_0x29a1b6(0x348),_0x504de7=_0x1de74c?_0x29a1b6(0x452):_0x29a1b6(0x214),_0x523a95=_0x1de74c?_0x29a1b6(0x89e):_0x29a1b6(0x8d3);let _0x441c0d=_0x29a1b6(0x1b9)+_0x214e1e+_0x29a1b6(0x641)+_0x51def1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x17a5fc+_0x29a1b6(0xafd)+_0x504de7+_0x29a1b6(0x814)+_0x523a95+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x29a1b6(0x545)]=_0x441c0d,studentResultArea[_0x29a1b6(0x605)][_0x29a1b6(0x31b)]('hidden'),studentQuizArea[_0x29a1b6(0x605)]['add'](_0x29a1b6(0x9a0)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x1de74c});}function displayPerfectScoreResult(_0x2caa43,_0xd80a0){const _0x1b4ec9=_0x3db3a6,_0x2e4f9f=_0x2caa43===_0xd80a0,_0x3c8e93=_0x2e4f9f?'bg-yellow-100':_0x1b4ec9(0xbdc),_0x49cbec=_0x2e4f9f?_0x1b4ec9(0xadf):_0x1b4ec9(0x571),_0x5a22be=_0x2e4f9f?_0x1b4ec9(0xd96):_0x1b4ec9(0x552),_0x501a5a=_0x2e4f9f?_0x1b4ec9(0xc11):_0x1b4ec9(0xa36),_0x403a53=_0x2e4f9f?_0x1b4ec9(0x19d):'เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม';let _0x20c7ec=_0x1b4ec9(0x1b9)+_0x3c8e93+_0x1b4ec9(0x641)+_0x49cbec+_0x1b4ec9(0x959)+_0x5a22be+_0x1b4ec9(0xafd)+_0x501a5a+_0x1b4ec9(0x814)+_0x403a53+_0x1b4ec9(0x4b6);studentResultArea[_0x1b4ec9(0x545)]=_0x20c7ec,studentResultArea['classList']['remove'](_0x1b4ec9(0x9a0)),studentQuizArea['classList'][_0x1b4ec9(0xd74)](_0x1b4ec9(0x9a0)),setupResultScreenBackButton({'showRankings':![],'score':_0x2caa43,'totalQuestions':_0xd80a0});}function renderIndividualComparisonTable(_0x4747fa,_0x269248){const _0xf11cce=_0x3db3a6;_0x4747fa[_0xf11cce(0x667)]((_0xe20b41,_0x3fba6c)=>(_0x3fba6c['tGain']??-Infinity)-(_0xe20b41[_0xf11cce(0xe46)]??-Infinity));let _0x38bcc3=_0xf11cce(0x703);_0x4747fa[_0xf11cce(0x110)]===0x0?_0x38bcc3+=_0xf11cce(0xc56):_0x4747fa['forEach']((_0x36e128,_0x584831)=>{const _0x54e745=_0xf11cce;let _0x374331='-',_0x331164='';if(_0x36e128[_0x54e745(0x516)]!==null){const _0x255ab7=_0x36e128['gain']>0x0?_0x54e745(0xa08):_0x36e128[_0x54e745(0x516)]<0x0?_0x54e745(0x7fd):_0x54e745(0xab4),_0x5189e2=_0x36e128[_0x54e745(0x516)]>0x0?'+':'';_0x374331=_0x54e745(0x345)+_0x255ab7+'\x22>'+_0x5189e2+_0x36e128[_0x54e745(0x516)]+_0x54e745(0x3a6);if(_0x36e128['gain']>0x0)_0x331164=_0x54e745(0xd46);else _0x36e128[_0x54e745(0x516)]<0x0?_0x331164='<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>':_0x331164='<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>';}let _0x237215='-';if(_0x36e128['tGain']!==null){const _0x578750=_0x36e128[_0x54e745(0xe46)]>0x0?_0x54e745(0xa08):_0x36e128[_0x54e745(0xe46)]<0x0?_0x54e745(0x7fd):_0x54e745(0xab4),_0x4f0052=_0x36e128[_0x54e745(0xe46)]>0x0?'+':'';_0x237215=_0x54e745(0x345)+_0x578750+'\x22>'+_0x4f0052+_0x36e128[_0x54e745(0xe46)]['toFixed'](0x2)+'</span>';}_0x38bcc3+=_0x54e745(0x9db)+(_0x584831+0x1)+_0x54e745(0x55b)+_0x36e128[_0x54e745(0x339)]+_0x54e745(0xbda)+(_0x36e128[_0x54e745(0x258)]??'-')+_0x54e745(0x63e)+(_0x36e128[_0x54e745(0x5a7)]??'-')+_0x54e745(0xbda)+_0x374331+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>'+_0x331164+_0x54e745(0xab8)+(_0x36e128[_0x54e745(0xd42)]?.[_0x54e745(0x457)](0x2)??'-')+_0x54e745(0x4e5)+(_0x36e128[_0x54e745(0x930)]?.['toFixed'](0x2)??'-')+_0x54e745(0xbda)+_0x237215+_0x54e745(0xa62);}),_0x38bcc3+=_0xf11cce(0xa1d),_0x269248[_0xf11cce(0x545)]=_0x38bcc3;}function handleRenameQuiz(_0x56dde6,_0x34d20d){const _0x3a855d=_0x3db3a6;actionTargetId=_0x56dde6,document[_0x3a855d(0x283)](_0x3a855d(0xabd))['value']=_0x34d20d,renameQuizModal['classList']['remove'](_0x3a855d(0x9a0));}function setupComparisonModalTabs(){const _0xa13d05=_0x3db3a6,_0x5181bb=document[_0xa13d05(0x283)](_0xa13d05(0x323)),_0x232a67=document['getElementById'](_0xa13d05(0x5c0)),_0x5dc6f0=document[_0xa13d05(0x283)](_0xa13d05(0xbbc)),_0x222ff1=document['getElementById'](_0xa13d05(0x1c5));_0x5181bb['addEventListener'](_0xa13d05(0x425),()=>{const _0x4338e2=_0xa13d05;_0x5181bb[_0x4338e2(0x605)][_0x4338e2(0xd74)](_0x4338e2(0xcce)),_0x232a67[_0x4338e2(0x605)][_0x4338e2(0x31b)](_0x4338e2(0xcce)),_0x5dc6f0[_0x4338e2(0x605)]['remove'](_0x4338e2(0x9a0)),_0x222ff1[_0x4338e2(0x605)][_0x4338e2(0xd74)](_0x4338e2(0x9a0));}),_0x232a67[_0xa13d05(0x844)](_0xa13d05(0x425),()=>{const _0x573b70=_0xa13d05;_0x232a67[_0x573b70(0x605)][_0x573b70(0xd74)](_0x573b70(0xcce)),_0x5181bb[_0x573b70(0x605)][_0x573b70(0x31b)](_0x573b70(0xcce)),_0x222ff1[_0x573b70(0x605)][_0x573b70(0x31b)](_0x573b70(0x9a0)),_0x5dc6f0[_0x573b70(0x605)]['add']('hidden');});}setupComparisonModalTabs();function listenForLiveGameUpdates(){if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x54130d=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x54130d,_0x21cc57=>{const _0x6a3b37=_0x5ca2;if(!_0x21cc57[_0x6a3b37(0xaed)]()){showMessage(_0x6a3b37(0x1ad));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x6a3b37(0x964)):showView(_0x6a3b37(0xae3));return;}const _0x16d3f5=_0x21cc57[_0x6a3b37(0x366)]();_0x16d3f5['shuffledQuiz']&&(currentQuizData=_0x16d3f5[_0x6a3b37(0x84d)]);!currentQuizData&&_0x16d3f5['quizId']&&((async()=>{const _0x511e65=_0x6a3b37;try{const _0x243a79=doc(db,_0x511e65(0x981)+appId+'/public/data/quizzes',_0x16d3f5[_0x511e65(0xbc3)]),_0x36b096=await getDoc(_0x243a79);_0x36b096['exists']()&&(currentQuizData={'id':_0x36b096['id'],..._0x36b096['data']()});}catch(_0x5d5814){console[_0x511e65(0xe4d)](_0x511e65(0xbde),_0x5d5814);}})());switch(_0x16d3f5[_0x6a3b37(0x360)]){case'lobby':if(currentMode==='admin'){const _0x7d54ac=_0x16d3f5['players']?Object[_0x6a3b37(0xa71)](_0x16d3f5[_0x6a3b37(0x5ec)]):[],_0xe118fe=_0x7d54ac[_0x6a3b37(0x1a1)](([_0x4600ba,_0x33c77c])=>_0x33c77c['status']===_0x6a3b37(0xcce)),_0x502d67=document[_0x6a3b37(0x283)](_0x6a3b37(0xe3b));if(_0x502d67)_0x502d67[_0x6a3b37(0x1bd)]=_0xe118fe[_0x6a3b37(0x110)];const _0x16a335=document[_0x6a3b37(0x283)](_0x6a3b37(0x783));_0x16a335&&(_0x16a335[_0x6a3b37(0x545)]=_0xe118fe[_0x6a3b37(0x87e)](([_0x4f274a,_0x3a5515])=>_0x6a3b37(0xb1c)+_0x4f274a+_0x6a3b37(0x2df)+_0x4f274a+_0x6a3b37(0xa86))['join'](''));const _0x3caabe=document[_0x6a3b37(0x283)](_0x6a3b37(0x918));_0x3caabe&&(_0x3caabe[_0x6a3b37(0xc71)]=_0xe118fe[_0x6a3b37(0x110)]===0x0);}else showView(_0x6a3b37(0x939)),liveGameView[_0x6a3b37(0x545)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+_0x6a3b37(0x4ff);break;case _0x6a3b37(0xc78):const _0x2367e3=_0x16d3f5['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0x6a3b37(0x13f)][_0x2367e3]){const _0x39df9a=currentQuizData['questions'][_0x2367e3],_0x439719=_0x16d3f5['questionStatus']||'answering';switch(_0x439719){case'summary_chart':currentMode===_0x6a3b37(0xa9)?showAdminSummaryView(_0x16d3f5,_0x39df9a):showPlayerSummaryView(_0x16d3f5,currentStudentName);break;case _0x6a3b37(0x354):currentMode==='admin'&&showTop5LeaderboardView(_0x16d3f5);break;case _0x6a3b37(0x6e2):default:if(currentMode==='admin'){const _0x5e4fb0=writeBatch(db);let _0x438002=![];Object[_0x6a3b37(0xa71)](_0x16d3f5['players'])['forEach'](([_0x2318b9,_0x55c208])=>{const _0x579b0a=_0x6a3b37;if(_0x55c208[_0x579b0a(0x360)]==='active'&&_0x55c208[_0x579b0a(0xf2)]&&!_0x55c208[_0x579b0a(0xb59)]){_0x438002=!![];const _0x541232=_0x55c208[_0x579b0a(0xf2)]['toDate']()-_0x16d3f5[_0x579b0a(0x674)]['toDate']();let _0x2e248f=0x0;if(_0x55c208[_0x579b0a(0xf6)]){const _0x7e36e8=0x3e8,_0xb19848=0x1f4,_0x1a0b0f=0x4e20;let _0xfead0c=_0x541232/_0x1a0b0f;if(_0xfead0c>0x1)_0xfead0c=0x1;const _0x5cee54=Math[_0x579b0a(0x86c)](_0xfead0c*_0xb19848);_0x2e248f=_0x7e36e8-_0x5cee54;}const _0x122ab8=doc(db,_0x579b0a(0x981)+appId+_0x579b0a(0xb8),currentLiveGameId);_0x5e4fb0[_0x579b0a(0xd55)](_0x122ab8,{[_0x579b0a(0xcf2)+_0x2318b9+_0x579b0a(0x684)]:increment(_0x2e248f),['players.'+_0x2318b9+_0x579b0a(0x6f4)]:_0x2e248f,[_0x579b0a(0xcf2)+_0x2318b9+_0x579b0a(0x5e4)]:!![]});}});_0x438002&&_0x5e4fb0[_0x6a3b37(0x85d)]()[_0x6a3b37(0xc1e)](_0x31d3cb=>console[_0x6a3b37(0xe4d)](_0x6a3b37(0xe00),_0x31d3cb));lastRenderedAdminQuestionIndex!==_0x2367e3&&(showAdminLiveQuestionView(_0x39df9a,_0x2367e3,currentQuizData[_0x6a3b37(0x13f)][_0x6a3b37(0x110)]),lastRenderedAdminQuestionIndex=_0x2367e3);const _0x37d7b6=_0x16d3f5['players']||{},_0x1b1e76=Object[_0x6a3b37(0x2e5)](_0x37d7b6)[_0x6a3b37(0x1a1)](_0x331da7=>_0x331da7[_0x6a3b37(0x360)]==='active'),_0x1594df=_0x1b1e76[_0x6a3b37(0x110)],_0x101a77=_0x1b1e76[_0x6a3b37(0x1a1)](_0x5b12cc=>_0x5b12cc[_0x6a3b37(0xa9c)]===!![])[_0x6a3b37(0x110)],_0x2f52ad=document['getElementById'](_0x6a3b37(0x8a3));if(_0x2f52ad)_0x2f52ad[_0x6a3b37(0x1bd)]=_0x101a77+'/'+_0x1594df;const _0x4ddbed=document[_0x6a3b37(0x283)](_0x6a3b37(0x7e0));if(_0x4ddbed){let _0x510a69=Object[_0x6a3b37(0xa71)](_0x37d7b6)['filter'](([_0x2e8870,_0x43e029])=>_0x43e029[_0x6a3b37(0x360)]===_0x6a3b37(0xcce))[_0x6a3b37(0x87e)](([_0x45c91c,_0x3c7e42])=>{const _0x15f64d=_0x6a3b37,_0x178e07=_0x3c7e42[_0x15f64d(0xa9c)]===!![],_0x41e654=_0x178e07?_0x15f64d(0x2b2):'bg-gray-500',_0x4610ac=_0x178e07?_0x15f64d(0x5fb):_0x15f64d(0xb9);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x41e654+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4610ac+_0x15f64d(0xc0a)+_0x45c91c+_0x15f64d(0xd35)+_0x45c91c+_0x15f64d(0xa4d);})[_0x6a3b37(0xd6e)]('');_0x4ddbed[_0x6a3b37(0x545)]=_0x510a69||_0x6a3b37(0xdc4);}_0x1594df>0x0&&_0x101a77===_0x1594df&&revealAnswerForAdmin(_0x2367e3,currentQuizData[_0x6a3b37(0x13f)][_0x6a3b37(0x110)]);}else{const _0x764db1=_0x16d3f5[_0x6a3b37(0x5ec)][currentStudentName];_0x764db1&&!_0x764db1[_0x6a3b37(0xa9c)]&&showStudentLiveQuestionView(_0x39df9a,_0x2367e3,currentQuizData[_0x6a3b37(0x13f)][_0x6a3b37(0x110)]);}break;}}break;case _0x6a3b37(0x46f):showPodiumView(_0x16d3f5[_0x6a3b37(0x5ec)],_0x6a3b37(0xcbc));break;}});}async function openGlobalActivityModal(){const _0x61403a=_0x3db3a6;if(allQuizzesGlobal[_0x61403a(0x110)]===0x0){const _0x5e28d0=await getDocs(collection(db,'artifacts/'+appId+_0x61403a(0x8e0)));allQuizzesGlobal=_0x5e28d0['docs'][_0x61403a(0x87e)](_0x3e41ec=>({'id':_0x3e41ec['id'],..._0x3e41ec[_0x61403a(0x366)]()}));}renderGlobalActivityList(''),document['getElementById'](_0x61403a(0x2be))[_0x61403a(0x605)][_0x61403a(0x31b)](_0x61403a(0x9a0));}function renderGlobalActivityList(_0x3b582c=''){const _0xeace17=_0x3db3a6,_0x96a9b6=document[_0xeace17(0x283)]('global-activity-quiz-list'),_0x480445=_0x3b582c[_0xeace17(0xa8)]()['trim'](),_0x77f7cb=allQuizzesGlobal[_0xeace17(0x87e)](_0x22b915=>({..._0x22b915,'projectName':allProjects['find'](_0xf15795=>_0xf15795['id']===_0x22b915[_0xeace17(0x47e)])?.[_0xeace17(0xe60)]||_0xeace17(0x88b)}))[_0xeace17(0x1a1)](_0x23eeaf=>(_0x23eeaf[_0xeace17(0xe5f)]||'')['toLowerCase']()['includes'](_0x480445)||(_0x23eeaf[_0xeace17(0xe60)]||'')[_0xeace17(0xa8)]()[_0xeace17(0x2e8)](_0x480445));document[_0xeace17(0x283)]('global-quiz-count')['textContent']='('+_0x77f7cb[_0xeace17(0x110)]+'\x20ชุด)',_0x96a9b6[_0xeace17(0x545)]=_0x77f7cb[_0xeace17(0x110)]?_0x77f7cb[_0xeace17(0x87e)](_0x1b79af=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x1b79af['topic']||_0xeace17(0xcd2))+_0xeace17(0xaac)+(_0x1b79af[_0xeace17(0x13f)]?.[_0xeace17(0x110)]||0x0)+_0xeace17(0x122)+_0x1b79af['projectName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x1b79af['id']+_0xeace17(0x433)+_0x1b79af['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20pointer-events-none\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20')[_0xeace17(0xd6e)](''):_0xeace17(0xac3);}async function handleKickPlayer(_0x30c645){const _0x3c308e=_0x3db3a6;if(!currentLiveGameId||!_0x30c645)return;const _0x34deb5=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x269c40={};_0x269c40[_0x3c308e(0xcf2)+_0x30c645+'.status']='inactive';try{await updateDoc(_0x34deb5,_0x269c40);}catch(_0x34fd01){console[_0x3c308e(0xe4d)]('Failed\x20to\x20kick\x20player\x20'+_0x30c645+':',_0x34fd01),showMessage(_0x3c308e(0x6e5));}}async function authenticateUser(){const _0x2a7e78=_0x3db3a6;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0xf79848){console[_0x2a7e78(0xe4d)](_0x2a7e78(0x80c),_0xf79848),showMessage(_0x2a7e78(0x509));}}function showView(_0x1a1861){const _0x11c77e=_0x3db3a6;adminView[_0x11c77e(0x605)][_0x11c77e(0xd74)](_0x11c77e(0x9a0)),studentView[_0x11c77e(0x605)][_0x11c77e(0xd74)](_0x11c77e(0x9a0)),projectDashboardView['classList'][_0x11c77e(0xd74)](_0x11c77e(0x9a0)),projectDetailView[_0x11c77e(0x605)][_0x11c77e(0xd74)]('hidden'),quizResultsView[_0x11c77e(0x605)][_0x11c77e(0xd74)](_0x11c77e(0x9a0)),liveGameView[_0x11c77e(0x605)][_0x11c77e(0xd74)](_0x11c77e(0x9a0)),document['getElementById']('blueprint-project-manager-view')[_0x11c77e(0x605)]['add']('hidden'),studentInitialView[_0x11c77e(0x605)][_0x11c77e(0xd74)]('hidden'),studentJoinGameView['classList']['add'](_0x11c77e(0x9a0)),studentNameSelectionView[_0x11c77e(0x605)]['add'](_0x11c77e(0x9a0)),studentQuizArea[_0x11c77e(0x605)][_0x11c77e(0xd74)](_0x11c77e(0x9a0)),studentResultArea[_0x11c77e(0x605)]['add'](_0x11c77e(0x9a0)),studentReadingArea[_0x11c77e(0x605)][_0x11c77e(0xd74)](_0x11c77e(0x9a0));const _0x3dd3b8=document['getElementById']('student-team-selection-view'),_0x12a5a4=document['getElementById'](_0x11c77e(0x177));if(_0x3dd3b8)_0x3dd3b8[_0x11c77e(0x605)][_0x11c77e(0xd74)](_0x11c77e(0x9a0));if(_0x12a5a4)_0x12a5a4[_0x11c77e(0x605)][_0x11c77e(0xd74)](_0x11c77e(0x9a0));switch(_0x1a1861){case _0x11c77e(0x8b0):adminView['classList']['remove'](_0x11c77e(0x9a0)),projectDashboardView[_0x11c77e(0x605)][_0x11c77e(0x31b)](_0x11c77e(0x9a0));break;case _0x11c77e(0x964):adminView['classList'][_0x11c77e(0x31b)](_0x11c77e(0x9a0)),projectDetailView['classList'][_0x11c77e(0x31b)](_0x11c77e(0x9a0));break;case _0x11c77e(0xb70):adminView[_0x11c77e(0x605)][_0x11c77e(0x31b)](_0x11c77e(0x9a0)),quizResultsView['classList']['remove'](_0x11c77e(0x9a0));break;case'student':studentView[_0x11c77e(0x605)][_0x11c77e(0x31b)](_0x11c77e(0x9a0)),studentInitialView[_0x11c77e(0x605)][_0x11c77e(0x31b)](_0x11c77e(0x9a0));break;case _0x11c77e(0x939):liveGameView['classList'][_0x11c77e(0x31b)](_0x11c77e(0x9a0));break;case _0x11c77e(0x30e):studentView[_0x11c77e(0x605)][_0x11c77e(0x31b)](_0x11c77e(0x9a0));if(_0x3dd3b8)_0x3dd3b8[_0x11c77e(0x605)]['remove']('hidden');break;case'student-progress':studentView[_0x11c77e(0x605)][_0x11c77e(0x31b)](_0x11c77e(0x9a0));if(_0x12a5a4)_0x12a5a4['classList'][_0x11c77e(0x31b)](_0x11c77e(0x9a0));break;default:studentView['classList'][_0x11c77e(0x31b)]('hidden'),studentInitialView[_0x11c77e(0x605)]['remove']('hidden');break;}}function showJoinGameView(){const _0x4401e1=_0x3db3a6;studentInitialView['classList'][_0x4401e1(0xd74)]('hidden'),studentJoinGameView[_0x4401e1(0x605)][_0x4401e1(0x31b)](_0x4401e1(0x9a0));}async function handleSaveVisibilitySettings(){const _0x1e7ddf=_0x3db3a6;if(!currentProjectId)return;const _0x2e4458=doc(db,'artifacts/'+appId+_0x1e7ddf(0x7ee),currentProjectId);try{await updateDoc(_0x2e4458,{'settings.showInStudentDashboard':document['getElementById'](_0x1e7ddf(0xe12))[_0x1e7ddf(0x61b)],'settings.isPasscodeEnabled':document[_0x1e7ddf(0x283)](_0x1e7ddf(0x850))['checked'],'settings.passcode':document[_0x1e7ddf(0x283)](_0x1e7ddf(0x2fa))[_0x1e7ddf(0xa89)][_0x1e7ddf(0xc29)]()}),showMessage(_0x1e7ddf(0x327));}catch(_0x1ec3b6){console[_0x1e7ddf(0xe4d)](_0x1e7ddf(0x5bc),_0x1ec3b6),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x1945e5=_0x3db3a6,_0x1ced10=document['getElementById'](_0x1945e5(0x3dc)),_0xbd1952=document[_0x1945e5(0x283)]('scan-text-image-btn');_0x1ced10&&_0xbd1952&&(_0xbd1952[_0x1945e5(0x844)](_0x1945e5(0x425),()=>_0x1ced10['click']()),_0x1ced10[_0x1945e5(0x844)](_0x1945e5(0xbb6),_0x4525e6=>{const _0x213b6a=_0x1945e5;_0x4525e6[_0x213b6a(0x543)][_0x213b6a(0x7a4)]['length']>0x0&&handleScanImageForText(_0x4525e6[_0x213b6a(0x543)]['files'][0x0]);}));const _0xe2fb8d=document[_0x1945e5(0x283)]('wager-all-in-btn');_0xe2fb8d&&_0xe2fb8d[_0x1945e5(0x844)](_0x1945e5(0x425),()=>{const _0x36133a=_0x1945e5,_0x5f0dde=document[_0x36133a(0x283)]('wager-slider'),_0x85c007=document['getElementById'](_0x36133a(0xcc8));_0x5f0dde&&(_0x5f0dde[_0x36133a(0xa89)]=_0x5f0dde[_0x36133a(0x8c3)],_0x85c007&&(_0x85c007['textContent']=_0x5f0dde[_0x36133a(0xa89)],_0x85c007[_0x36133a(0x605)][_0x36133a(0x31b)]('scale-125'),void _0x85c007[_0x36133a(0xd84)],_0x85c007[_0x36133a(0x605)][_0x36133a(0xd74)](_0x36133a(0x3ed),_0x36133a(0x9e6),_0x36133a(0x7bf),_0x36133a(0x7fd)),setTimeout(()=>_0x85c007[_0x36133a(0x605)][_0x36133a(0x31b)](_0x36133a(0x7bf),_0x36133a(0x7fd)),0xc8)));});document[_0x1945e5(0x283)](_0x1945e5(0x42c))[_0x1945e5(0x844)]('click',()=>{const _0x136bfb=_0x1945e5;document[_0x136bfb(0x283)](_0x136bfb(0xd5))['classList']['add']('hidden');}),document['getElementById']('confirm-wager-btn')[_0x1945e5(0x844)](_0x1945e5(0x425),()=>{const _0x38f0bf=_0x1945e5,_0x44cbd9=document[_0x38f0bf(0x283)](_0x38f0bf(0xd5)),_0xedf44=document[_0x38f0bf(0x283)](_0x38f0bf(0xf4)),_0x17707f=document[_0x38f0bf(0x283)](_0x38f0bf(0x405))[_0x38f0bf(0xa89)],_0x4aaa61=_0xedf44[_0x38f0bf(0x845)][_0x38f0bf(0x2ed)],_0xbaec4a=JSON[_0x38f0bf(0x11c)](_0xedf44[_0x38f0bf(0x845)][_0x38f0bf(0xc78)]),_0x3eb41e=JSON['parse'](_0xedf44[_0x38f0bf(0x845)][_0x38f0bf(0x98c)]),_0x45fb68=_0xedf44[_0x38f0bf(0x845)][_0x38f0bf(0x36a)];_0x44cbd9[_0x38f0bf(0x605)]['add'](_0x38f0bf(0x9a0)),handleSyncAnswerSubmit(_0x4aaa61,_0xbaec4a,_0x3eb41e,_0x45fb68,![],_0x17707f);}),document[_0x1945e5(0x68a)](_0x1945e5(0x401))[_0x1945e5(0x277)](_0x46206f=>{const _0x577d26=_0x1945e5;_0x46206f[_0x577d26(0x844)]('change',_0x59404d=>{const _0x2042d5=_0x577d26,_0x4011d9=document[_0x2042d5(0x283)](_0x2042d5(0x486));_0x59404d[_0x2042d5(0x543)]['value']===_0x2042d5(0x2c0)?_0x4011d9[_0x2042d5(0x605)]['remove'](_0x2042d5(0x9a0)):_0x4011d9['classList'][_0x2042d5(0xd74)](_0x2042d5(0x9a0));});}),document['getElementById'](_0x1945e5(0xd99))[_0x1945e5(0x844)](_0x1945e5(0xbb6),_0x1cb3b8=>{const _0x124c2a=_0x1945e5;document['getElementById']('sync-timer-duration-container')[_0x124c2a(0x605)][_0x124c2a(0xc7c)](_0x124c2a(0x9a0),!_0x1cb3b8['target'][_0x124c2a(0x61b)]);});const _0x898aae=document['getElementById']('cancel-confidence-btn'),_0x40aca1=document[_0x1945e5(0x283)](_0x1945e5(0xd5e));_0x898aae&&_0x40aca1&&_0x898aae[_0x1945e5(0x844)](_0x1945e5(0x425),()=>{const _0x286e7f=_0x1945e5;_0x40aca1['classList'][_0x286e7f(0xd74)](_0x286e7f(0x9a0)),_0x40aca1[_0x286e7f(0x845)]['currentMode']='';});const _0x1d25e7=document['getElementById'](_0x1945e5(0x643));_0x1d25e7&&(_0x1d25e7['addEventListener']('mousedown',wakeUpScreen),_0x1d25e7[_0x1945e5(0x844)](_0x1945e5(0x109),wakeUpScreen));document[_0x1945e5(0x283)](_0x1945e5(0x8ca))[_0x1945e5(0x844)]('click',async()=>{const _0x167bc6=_0x1945e5;if(!currentBlueprintProjectId)return;const _0x886d6a=document[_0x167bc6(0x283)](_0x167bc6(0x735))[_0x167bc6(0xa89)][_0x167bc6(0xc29)](),_0x458050=doc(db,'artifacts/'+appId+_0x167bc6(0xfb),currentBlueprintProjectId);try{await updateDoc(_0x458050,{'referenceFileUrl':_0x886d6a}),showMessage(_0x167bc6(0x991));}catch(_0x9703be){console['error'](_0x167bc6(0xbdd),_0x9703be),showMessage(_0x167bc6(0x7c3));}}),document[_0x1945e5(0x283)]('add-parallel-shortcut-tab-btn')[_0x1945e5(0x844)](_0x1945e5(0x425),handleAddParallelShortcutTab),document[_0x1945e5(0x283)](_0x1945e5(0xcb4))[_0x1945e5(0x844)](_0x1945e5(0x425),_0x429b71=>{const _0x384162=_0x1945e5;_0x429b71[_0x384162(0x543)][_0x384162(0x455)](_0x384162(0xc3a))&&(activeParallelShortcutTabId=_0x384162(0xd1a),renderAdditionalParallelShortcutsModal(),document[_0x384162(0x283)](_0x384162(0xb85))[_0x384162(0x605)][_0x384162(0x31b)](_0x384162(0x9a0)));}),document['getElementById'](_0x1945e5(0xbcf))['addEventListener'](_0x1945e5(0x425),()=>{const _0x218764=_0x1945e5;document['getElementById'](_0x218764(0xb85))[_0x218764(0x605)][_0x218764(0xd74)](_0x218764(0x9a0));}),document[_0x1945e5(0x844)](_0x1945e5(0x425),_0x1cc087=>{const _0x3a46eb=_0x1945e5;!_0x1cc087[_0x3a46eb(0x543)]['closest']('.group\x5c/dropdown-parallel')&&document['querySelectorAll']('.move-parallel-shortcut-dropdown')['forEach'](_0x1e2fc0=>_0x1e2fc0[_0x3a46eb(0x605)]['add'](_0x3a46eb(0x9a0)));}),document['getElementById'](_0x1945e5(0xcda))[_0x1945e5(0x844)](_0x1945e5(0x425),handleAddFileShortcutTab),document['getElementById'](_0x1945e5(0x69f))[_0x1945e5(0x844)](_0x1945e5(0x425),_0x582192=>{const _0x40c202=_0x1945e5;_0x582192[_0x40c202(0x543)][_0x40c202(0x455)]('#open-additional-file-shortcuts-btn')&&(activeFileShortcutTabId=_0x40c202(0xd1a),renderAdditionalFileShortcutsModal(),document[_0x40c202(0x283)](_0x40c202(0x3b7))['classList'][_0x40c202(0x31b)](_0x40c202(0x9a0)));}),document[_0x1945e5(0x283)](_0x1945e5(0xcf1))[_0x1945e5(0x844)](_0x1945e5(0x425),()=>{const _0x13f832=_0x1945e5;document[_0x13f832(0x283)]('additional-file-shortcuts-modal')[_0x13f832(0x605)]['add']('hidden');}),document[_0x1945e5(0x844)]('click',_0x1e2759=>{const _0x5a0b86=_0x1945e5;!_0x1e2759[_0x5a0b86(0x543)][_0x5a0b86(0x455)]('.group\x5c/dropdown-file')&&document[_0x5a0b86(0x68a)](_0x5a0b86(0x893))[_0x5a0b86(0x277)](_0x34e14c=>_0x34e14c['classList'][_0x5a0b86(0xd74)](_0x5a0b86(0x9a0)));}),document[_0x1945e5(0x283)](_0x1945e5(0x83f))['addEventListener'](_0x1945e5(0x425),handleAddShortcutTab),document[_0x1945e5(0x283)]('parallel-shortcut-container')[_0x1945e5(0x844)](_0x1945e5(0x425),_0x366847=>{const _0x3289f8=_0x1945e5,_0x18c56f=_0x366847[_0x3289f8(0x543)]['closest'](_0x3289f8(0xe15)),_0x182bb5=_0x366847['target']['closest'](_0x3289f8(0x5f2)),_0x2b0a43=_0x366847[_0x3289f8(0x543)][_0x3289f8(0x455)](_0x3289f8(0xc7a));if(_0x182bb5)openParallelTestShortcutEditor(_0x182bb5[_0x3289f8(0x845)]['id']);else{if(_0x2b0a43){const _0x4eb259=_0x2b0a43[_0x3289f8(0x845)]['id'];showConfirmation(_0x3289f8(0x4db),async()=>{const _0xaccffa=_0x3289f8,_0x3aa582=parallelTestShortcuts[_0xaccffa(0x1a1)](_0x3f4789=>_0x3f4789['id']!==_0x4eb259),_0x5af8f1=doc(db,_0xaccffa(0x2c2),_0xaccffa(0x469));await setDoc(_0x5af8f1,{'shortcuts':_0x3aa582},{'merge':!![]});});}else _0x18c56f&&handleParallelTestShortcutClick(_0x18c56f[_0x3289f8(0x845)]['id']);}}),document['getElementById']('add-parallel-shortcut-btn')[_0x1945e5(0x844)]('click',()=>openParallelTestShortcutEditor(null)),document['getElementById'](_0x1945e5(0xa6b))[_0x1945e5(0x844)]('click',()=>{const _0x5793a5=_0x1945e5;document[_0x5793a5(0x283)]('parallel-shortcut-editor-modal')[_0x5793a5(0x605)]['add'](_0x5793a5(0x9a0));}),document['getElementById'](_0x1945e5(0x9fc))[_0x1945e5(0x844)]('click',saveParallelTestShortcutChanges),document[_0x1945e5(0x283)](_0x1945e5(0xcb4))[_0x1945e5(0x844)](_0x1945e5(0x425),_0x59c7a7=>{const _0x5d358a=_0x1945e5;_0x59c7a7[_0x5d358a(0x543)]['closest']('#open-additional-parallel-shortcuts-btn')&&document[_0x5d358a(0x283)](_0x5d358a(0xb85))[_0x5d358a(0x605)]['remove'](_0x5d358a(0x9a0));}),document[_0x1945e5(0x283)](_0x1945e5(0xbcf))[_0x1945e5(0x844)](_0x1945e5(0x425),()=>{const _0x4ec9b1=_0x1945e5;document[_0x4ec9b1(0x283)](_0x4ec9b1(0xb85))[_0x4ec9b1(0x605)][_0x4ec9b1(0xd74)](_0x4ec9b1(0x9a0));}),document[_0x1945e5(0x283)]('additional-parallel-shortcuts-list')[_0x1945e5(0x844)](_0x1945e5(0x425),_0x566a39=>{const _0x345f99=_0x1945e5,_0x230ed0=document[_0x345f99(0x283)](_0x345f99(0xb85)),_0x4b9e48=_0x566a39[_0x345f99(0x543)][_0x345f99(0x455)]('.use-hidden-parallel-shortcut-btn'),_0x3bad3c=_0x566a39[_0x345f99(0x543)][_0x345f99(0x455)](_0x345f99(0x737)),_0x1aac31=_0x566a39[_0x345f99(0x543)][_0x345f99(0x455)]('.delete-hidden-parallel-shortcut-btn');if(_0x4b9e48)_0x230ed0['classList'][_0x345f99(0xd74)]('hidden'),handleParallelTestShortcutClick(_0x4b9e48[_0x345f99(0x845)]['id']);else{if(_0x3bad3c)_0x230ed0[_0x345f99(0x605)]['add'](_0x345f99(0x9a0)),openParallelTestShortcutEditor(_0x3bad3c[_0x345f99(0x845)]['id']);else{if(_0x1aac31){const _0x3f2899=_0x1aac31[_0x345f99(0x845)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x19a514=_0x345f99,_0x1e37d9=parallelTestShortcuts['filter'](_0x1ae5f=>_0x1ae5f['id']!==_0x3f2899),_0x39e642=doc(db,_0x19a514(0x2c2),_0x19a514(0x469));await setDoc(_0x39e642,{'shortcuts':_0x1e37d9},{'merge':!![]});});}}}}),document[_0x1945e5(0x283)](_0x1945e5(0xccf))[_0x1945e5(0x844)](_0x1945e5(0x425),_0x40f72a=>{const _0x55c054=_0x1945e5,_0x285b77=_0x40f72a[_0x55c054(0x543)]['closest']('.file-shortcut-btn'),_0x201993=_0x40f72a[_0x55c054(0x543)][_0x55c054(0x455)](_0x55c054(0xdf3)),_0x32b4ba=_0x40f72a[_0x55c054(0x543)][_0x55c054(0x455)]('.delete-file-shortcut-btn');if(_0x201993)openFileShortcutEditor(_0x201993[_0x55c054(0x845)]['id']);else{if(_0x32b4ba){const _0x1408e8=_0x32b4ba[_0x55c054(0x845)]['id'];showConfirmation(_0x55c054(0x4db),async()=>{const _0x128e9e=_0x55c054,_0x526fca=fileShortcuts[_0x128e9e(0x1a1)](_0x53881c=>_0x53881c['id']!==_0x1408e8),_0x27a867=doc(db,_0x128e9e(0x2c2),_0x128e9e(0x120));await setDoc(_0x27a867,{'shortcuts':_0x526fca},{'merge':!![]});});}else _0x285b77&&handleFileShortcutClick(_0x285b77['dataset']['id']);}}),document[_0x1945e5(0x283)]('add-file-shortcut-btn')[_0x1945e5(0x844)]('click',()=>openFileShortcutEditor(null)),document[_0x1945e5(0x283)]('cancel-file-shortcut-edit-btn')['addEventListener'](_0x1945e5(0x425),()=>{const _0x276d63=_0x1945e5;document[_0x276d63(0x283)](_0x276d63(0xe58))[_0x276d63(0x605)][_0x276d63(0xd74)](_0x276d63(0x9a0));}),document[_0x1945e5(0x283)](_0x1945e5(0xdba))[_0x1945e5(0x844)](_0x1945e5(0x425),saveFileShortcutChanges),document[_0x1945e5(0x283)](_0x1945e5(0x69f))[_0x1945e5(0x844)](_0x1945e5(0x425),_0x189d9c=>{const _0xa12028=_0x1945e5;_0x189d9c[_0xa12028(0x543)][_0xa12028(0x455)]('#open-additional-file-shortcuts-btn')&&document[_0xa12028(0x283)](_0xa12028(0x3b7))[_0xa12028(0x605)][_0xa12028(0x31b)](_0xa12028(0x9a0));}),document[_0x1945e5(0x283)](_0x1945e5(0xcf1))['addEventListener'](_0x1945e5(0x425),()=>{const _0xffb3f3=_0x1945e5;document['getElementById']('additional-file-shortcuts-modal')[_0xffb3f3(0x605)][_0xffb3f3(0xd74)](_0xffb3f3(0x9a0));}),document[_0x1945e5(0x283)]('additional-file-shortcuts-list')[_0x1945e5(0x844)](_0x1945e5(0x425),_0x5bc132=>{const _0x2222fc=_0x1945e5,_0x41d745=document[_0x2222fc(0x283)](_0x2222fc(0x3b7)),_0x46c454=_0x5bc132[_0x2222fc(0x543)]['closest'](_0x2222fc(0x2d3)),_0x478dea=_0x5bc132[_0x2222fc(0x543)]['closest'](_0x2222fc(0xab5)),_0x1ce7c0=_0x5bc132[_0x2222fc(0x543)][_0x2222fc(0x455)](_0x2222fc(0xd90));if(_0x46c454)_0x41d745[_0x2222fc(0x605)][_0x2222fc(0xd74)](_0x2222fc(0x9a0)),handleFileShortcutClick(_0x46c454['dataset']['id']);else{if(_0x478dea)_0x41d745[_0x2222fc(0x605)][_0x2222fc(0xd74)](_0x2222fc(0x9a0)),openFileShortcutEditor(_0x478dea[_0x2222fc(0x845)]['id']);else{if(_0x1ce7c0){const _0x5d9f4c=_0x1ce7c0['dataset']['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x1fceea=_0x2222fc,_0x121cb1=fileShortcuts[_0x1fceea(0x1a1)](_0x114be5=>_0x114be5['id']!==_0x5d9f4c),_0x118752=doc(db,_0x1fceea(0x2c2),'fileShortcutsConfig');await setDoc(_0x118752,{'shortcuts':_0x121cb1},{'merge':!![]});});}}}}),document['getElementById'](_0x1945e5(0x97a))[_0x1945e5(0x844)]('click',_0x4fd173=>{const _0x1eab20=_0x1945e5;_0x4fd173[_0x1eab20(0x543)]['closest'](_0x1eab20(0x1bf))&&(activeShortcutTabId=_0x1eab20(0xd1a),renderAdditionalShortcutsModal(),document['getElementById'](_0x1eab20(0xc4a))[_0x1eab20(0x605)][_0x1eab20(0x31b)](_0x1eab20(0x9a0)));}),document[_0x1945e5(0x283)](_0x1945e5(0x912))[_0x1945e5(0x844)](_0x1945e5(0x425),()=>{const _0x21efed=_0x1945e5;document['getElementById'](_0x21efed(0xc4a))[_0x21efed(0x605)][_0x21efed(0xd74)]('hidden');}),document[_0x1945e5(0x283)](_0x1945e5(0xe10))[_0x1945e5(0x844)](_0x1945e5(0x425),_0xb3db4f=>{const _0xafeaf2=_0x1945e5,_0x338e48=_0xb3db4f[_0xafeaf2(0x543)][_0xafeaf2(0x455)](_0xafeaf2(0x9af)),_0x19dd0b=_0xb3db4f['target'][_0xafeaf2(0x455)]('.edit-hidden-shortcut-btn'),_0x2d8cf7=_0xb3db4f[_0xafeaf2(0x543)][_0xafeaf2(0x455)]('.delete-hidden-shortcut-btn'),_0x206b0b=document['getElementById']('additional-shortcuts-modal');if(_0x338e48)_0x206b0b[_0xafeaf2(0x605)][_0xafeaf2(0xd74)]('hidden'),handleShortcutClick(_0x338e48[_0xafeaf2(0x845)]['id']);else{if(_0x19dd0b)_0x206b0b['classList']['add']('hidden'),openShortcutEditor(_0x19dd0b[_0xafeaf2(0x845)]['id']);else{if(_0x2d8cf7){const _0x46f548=_0x2d8cf7[_0xafeaf2(0x845)]['id'],_0x581acb=blueprintShortcuts[_0xafeaf2(0xe8)](_0x488017=>_0x488017['id']===_0x46f548)?.[_0xafeaf2(0x339)];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x581acb+'\x22?',async()=>{const _0x426700=_0xafeaf2,_0x5ab574=blueprintShortcuts['filter'](_0x5e32ac=>_0x5e32ac['id']!==_0x46f548);try{const _0x8b8a1e=doc(db,_0x426700(0x2c2),_0x426700(0x73c));await setDoc(_0x8b8a1e,{'blueprintShortcuts':_0x5ab574},{'merge':!![]});}catch(_0x2b793b){console[_0x426700(0xe4d)](_0x426700(0x66c),_0x2b793b);}});}}}}),document[_0x1945e5(0x283)](_0x1945e5(0x121))[_0x1945e5(0x844)](_0x1945e5(0x425),_0xa2ea24=>{const _0x5ac131=_0x1945e5,_0x7792b1=_0xa2ea24['target'][_0x5ac131(0x455)](_0x5ac131(0x1a4)),_0x35b658=_0xa2ea24[_0x5ac131(0x543)][_0x5ac131(0x455)]('.edit-shortcut-btn'),_0x442cf9=_0xa2ea24[_0x5ac131(0x543)][_0x5ac131(0x455)]('.delete-shortcut-btn');if(_0x35b658)openShortcutEditor(_0x35b658[_0x5ac131(0x845)]['id']);else{if(_0x442cf9){const _0x11af60=_0x442cf9[_0x5ac131(0x845)]['id'],_0x2e1f25=blueprintShortcuts['find'](_0x36fa7d=>_0x36fa7d['id']===_0x11af60)?.[_0x5ac131(0x339)];showConfirmation(_0x5ac131(0x83c)+_0x2e1f25+'\x22?',async()=>{const _0x55fbeb=_0x5ac131,_0x2c0a84=blueprintShortcuts[_0x55fbeb(0x1a1)](_0x2a8caa=>_0x2a8caa['id']!==_0x11af60);try{const _0x5a0d3f=doc(db,_0x55fbeb(0x2c2),_0x55fbeb(0x73c));await setDoc(_0x5a0d3f,{'blueprintShortcuts':_0x2c0a84},{'merge':!![]});}catch(_0x53615f){console[_0x55fbeb(0xe4d)](_0x55fbeb(0x66c),_0x53615f);}});}else _0x7792b1&&handleShortcutClick(_0x7792b1[_0x5ac131(0x845)]['id']);}}),document['getElementById']('add-shortcut-btn')[_0x1945e5(0x844)](_0x1945e5(0x425),()=>openShortcutEditor(null)),document[_0x1945e5(0x283)](_0x1945e5(0x55a))['addEventListener']('click',()=>{const _0x33afe5=_0x1945e5;document[_0x33afe5(0x283)](_0x33afe5(0xcc0))[_0x33afe5(0x605)][_0x33afe5(0xd74)](_0x33afe5(0x9a0));}),document[_0x1945e5(0x283)](_0x1945e5(0x466))[_0x1945e5(0x844)]('click',saveShortcutChanges),document[_0x1945e5(0x283)](_0x1945e5(0xaeb))[_0x1945e5(0x844)]('click',async()=>{const _0xd45237=_0x1945e5,_0x1ce1cb=document[_0xd45237(0x283)]('blueprint-upload-input'),_0x2ab5ca=document[_0xd45237(0x283)]('reference-pdf-upload');_0x1ce1cb[_0xd45237(0x7a4)][_0xd45237(0x110)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x1ce1cb[_0xd45237(0x7a4)][0x0],_0x2ab5ca[_0xd45237(0x7a4)][0x0]||null):showMessage(_0xd45237(0x9e));}),document[_0x1945e5(0x283)](_0x1945e5(0x3a5))['addEventListener']('click',async _0x437c0e=>{const _0x9b3276=_0x1945e5,_0x3218cb=document['getElementById'](_0x9b3276(0x3a5)),_0x2f4e35=_0x437c0e[_0x9b3276(0x543)][_0x9b3276(0x455)]('.bp-view-analysis-btn'),_0x4a7066=_0x437c0e[_0x9b3276(0x543)][_0x9b3276(0x455)](_0x9b3276(0x966)),_0x25f5fd=_0x437c0e[_0x9b3276(0x543)][_0x9b3276(0x455)](_0x9b3276(0xbf)),_0x528e71=_0x437c0e[_0x9b3276(0x543)][_0x9b3276(0x455)](_0x9b3276(0x7a3)),_0x1af3a9=_0x437c0e[_0x9b3276(0x543)][_0x9b3276(0x455)](_0x9b3276(0x49d)),_0x28f9f4=_0x437c0e[_0x9b3276(0x543)][_0x9b3276(0x455)](_0x9b3276(0xd9c));if(_0x2f4e35){cameFromBlueprint=!![];const _0x4fec2e=_0x2f4e35['dataset']['quizId'];showQuizDetailView(_0x4fec2e),_0x3218cb[_0x9b3276(0x605)][_0x9b3276(0xd74)](_0x9b3276(0x9a0));}else{if(_0x4a7066){const _0xd4d758=_0x4a7066['dataset'][_0x9b3276(0xc62)],_0xbc6e3b=_0x4a7066[_0x9b3276(0x845)][_0x9b3276(0xbc3)],_0x463828=allQuizzesGlobal['find'](_0x3fb8ab=>_0x3fb8ab['id']===_0xbc6e3b),_0x307792=_0x463828?_0x463828[_0x9b3276(0xe5f)]:_0x9b3276(0xa42);showConfirmation(_0x9b3276(0x729)+_0x307792+'\x22\x20ออกจากคลังนี้?',async()=>{const _0x2e8e5f=_0x9b3276;try{const _0x3a2185=doc(db,_0x2e8e5f(0x981)+appId+_0x2e8e5f(0xfb),currentBlueprintProjectId);await updateDoc(_0x3a2185,{[_0x2e8e5f(0x2c3)+_0xd4d758+_0x2e8e5f(0x6ae)]:arrayRemove(_0xbc6e3b)}),showMessage('นำแบบทดสอบออกจากคลังนี้แล้ว'),openTopicQuizBank(_0xd4d758),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1de55d){console['error'](_0x2e8e5f(0x494),_0x1de55d),showMessage('เกิดข้อผิดพลาดในการนำแบบทดสอบออก');}});}else{if(_0x25f5fd){cameFromBlueprint=!![];const _0x490a51=_0x25f5fd[_0x9b3276(0x845)][_0x9b3276(0xbc3)],_0x320e1c=allQuizzesGlobal[_0x9b3276(0xe8)](_0x4ad9ab=>_0x4ad9ab['id']===_0x490a51);_0x320e1c&&(startPresentation(_0x320e1c),_0x3218cb['classList']['add'](_0x9b3276(0x9a0)));}else{if(_0x528e71){cameFromBlueprint=!![];const _0x277661=_0x528e71[_0x9b3276(0x845)][_0x9b3276(0xbc3)],_0x5b4e5f=allQuizzesGlobal[_0x9b3276(0xe8)](_0x10cbe4=>_0x10cbe4['id']===_0x277661);_0x5b4e5f&&(currentQuizData=_0x5b4e5f,startAdminTest(),_0x3218cb[_0x9b3276(0x605)][_0x9b3276(0xd74)](_0x9b3276(0x9a0)));}else{if(_0x1af3a9)cameFromBlueprint=!![],handleStartLiveRace(_0x1af3a9[_0x9b3276(0x845)][_0x9b3276(0xbc3)]),_0x3218cb['classList'][_0x9b3276(0xd74)]('hidden');else{if(_0x28f9f4){cameFromBlueprint=!![];const _0x36d2ee=_0x28f9f4[_0x9b3276(0x845)][_0x9b3276(0xbc3)],_0x6bc3b7=_0x28f9f4['dataset']['mode'],_0x1b9359=allQuizzesGlobal['find'](_0x2d811f=>_0x2d811f['id']===_0x36d2ee);_0x1b9359&&(showGameStartConfirmationModal(_0x36d2ee,_0x6bc3b7,_0x1b9359[_0x9b3276(0xe5f)]),_0x3218cb[_0x9b3276(0x605)][_0x9b3276(0xd74)]('hidden'));}}}}}}}),document['getElementById']('manual-create-blueprint-btn')[_0x1945e5(0x844)](_0x1945e5(0x425),()=>{const _0x40ed81=_0x1945e5;document[_0x40ed81(0x283)](_0x40ed81(0xb0a))[_0x40ed81(0x605)]['remove'](_0x40ed81(0x9a0)),document[_0x40ed81(0x283)](_0x40ed81(0x12e))['value']='',document['getElementById'](_0x40ed81(0x5e7))[_0x40ed81(0xa89)]='',document['getElementById'](_0x40ed81(0xdcf))['value']='';}),document[_0x1945e5(0x283)](_0x1945e5(0xa29))[_0x1945e5(0x844)](_0x1945e5(0x425),()=>{const _0x477a2a=_0x1945e5;document['getElementById'](_0x477a2a(0xb0a))[_0x477a2a(0x605)][_0x477a2a(0xd74)]('hidden');}),document['getElementById'](_0x1945e5(0x975))[_0x1945e5(0x844)](_0x1945e5(0x425),handleManualBlueprintSave),document[_0x1945e5(0x283)]('cancel-bp-settings-btn')[_0x1945e5(0x844)](_0x1945e5(0x425),()=>document[_0x1945e5(0x283)](_0x1945e5(0xb4e))[_0x1945e5(0x605)]['add'](_0x1945e5(0x9a0))),document[_0x1945e5(0x283)](_0x1945e5(0xcc2))[_0x1945e5(0x844)](_0x1945e5(0x425),handleSaveBlueprintPageSettings),document[_0x1945e5(0x283)](_0x1945e5(0xca5))[_0x1945e5(0x844)](_0x1945e5(0x425),openBlueprintQuizSettings),document[_0x1945e5(0x283)](_0x1945e5(0xee))[_0x1945e5(0x844)](_0x1945e5(0x425),saveBlueprintProject),document[_0x1945e5(0x283)]('open-blueprint-projects-btn')['addEventListener']('click',showBlueprintProjects),document['getElementById'](_0x1945e5(0x71f))[_0x1945e5(0x844)](_0x1945e5(0x425),()=>{const _0x47ce25=_0x1945e5;document[_0x47ce25(0x283)](_0x47ce25(0xb78))[_0x47ce25(0x605)][_0x47ce25(0xd74)](_0x47ce25(0x9a0));}),document['getElementById'](_0x1945e5(0x723))['addEventListener'](_0x1945e5(0x425),_0x2fce66=>{const _0x23f1e0=_0x1945e5,_0x332d87=_0x2fce66['target'][_0x23f1e0(0x455)](_0x23f1e0(0xb24)),_0x1b4e08=_0x2fce66[_0x23f1e0(0x543)][_0x23f1e0(0x455)]('.delete-bp-project-btn');if(_0x332d87)displayBlueprintProjectManager(_0x332d87[_0x23f1e0(0x845)]['id']);else _0x1b4e08&&handleDeepDeleteBlueprintProject(_0x1b4e08['dataset']['id']);}),document[_0x1945e5(0x283)]('back-to-dashboard-from-bp-btn')['addEventListener'](_0x1945e5(0x425),()=>{const _0x3d9007=_0x1945e5;currentBlueprintProjectId=null,currentProjectId=null,document[_0x3d9007(0x283)]('blueprint-project-manager-view')['classList'][_0x3d9007(0xd74)](_0x3d9007(0x9a0)),showView('admin-dashboard');}),document[_0x1945e5(0x283)](_0x1945e5(0xd32))[_0x1945e5(0x844)](_0x1945e5(0x425),addTopicToProject),document[_0x1945e5(0x283)]('bp-topic-list-container')[_0x1945e5(0x844)](_0x1945e5(0x425),async _0x1dc4f1=>{const _0x38f664=_0x1945e5,_0x97a502=_0x1dc4f1[_0x38f664(0x543)]['closest'](_0x38f664(0x134));if(!_0x97a502)return;const _0xe35258=_0x97a502['dataset'][_0x38f664(0xc62)],_0x164256=_0x1dc4f1['target'][_0x38f664(0x455)](_0x38f664(0x758)),_0x77d796=_0x1dc4f1['target'][_0x38f664(0x455)](_0x38f664(0xd72)),_0x406ad1=_0x1dc4f1[_0x38f664(0x543)][_0x38f664(0x455)](_0x38f664(0x225)),_0x1e7039=_0x1dc4f1[_0x38f664(0x543)][_0x38f664(0x455)]('.bp-open-topic-bank-btn'),_0x20ebc6=_0x1dc4f1[_0x38f664(0x543)][_0x38f664(0x455)]('.view-bp-lesson-btn'),_0x3e5398=_0x1dc4f1['target'][_0x38f664(0x455)]('.bp-generate-lesson-btn'),_0x4c4d9e=_0x1dc4f1['target'][_0x38f664(0x455)](_0x38f664(0xaa3)),_0x46a991=_0x1dc4f1['target'][_0x38f664(0x455)](_0x38f664(0x7af)),_0x38d95d=_0x1208cf=>{const _0x311372=_0x38f664,_0x511193=_0x1208cf[_0x311372(0x1a6)](_0x311372(0xad5))[_0x311372(0x1bd)]['trim'](),_0x242d1b=_0x1208cf[_0x311372(0x455)](_0x311372(0x7cf))[_0x311372(0x8bf)],_0x59f89=_0x242d1b?_0x242d1b[_0x311372(0x1bd)][_0x311372(0xc29)]():'';return _0x59f89+':\x20'+_0x511193;};if(_0x1e7039)openTopicQuizBank(_0xe35258);else{if(_0x164256){const _0x23e73b=_0x38d95d(_0x97a502);selectProjectAndGenerateBlueprintQuiz(_0x23e73b,null,_0xe35258,!![]);}else{if(_0x77d796){const _0x54d362=_0x38d95d(_0x97a502);try{const _0x589156=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+_0x38f664(0xc17),_0xe35258),_0x517455=await getDoc(_0x589156);if(_0x517455['exists']()){const _0x3709ee=_0x517455[_0x38f664(0x366)]()[_0x38f664(0x44c)],_0x18a42b=document['createElement']('div'),_0x178cf2=_0x9cc582=>{const _0x385184=_0x38f664;if(!_0x9cc582)return'';return _0x18a42b[_0x385184(0x545)]=_0x9cc582,_0x18a42b[_0x385184(0x1bd)]||_0x18a42b[_0x385184(0xba9)]||'';},_0xff9724=(_0x178cf2(_0x3709ee['point'])+'\x20'+_0x178cf2(_0x3709ee[_0x38f664(0xbc6)])+'\x20'+_0x178cf2(_0x3709ee[_0x38f664(0xe2e)]))[_0x38f664(0xc29)]();selectProjectAndGenerateBlueprintQuiz(_0x54d362,_0xff9724,_0xe35258,![]);}else showMessage(_0x38f664(0x1b8));}catch(_0x2aaa15){console[_0x38f664(0xe4d)](_0x38f664(0x1f8),_0x2aaa15),showMessage(_0x38f664(0xbb3));}}else{if(_0x406ad1){const _0x4fbe63=_0x38d95d(_0x97a502);selectProjectAndGenerateBlueprintQuiz(_0x4fbe63,null,_0xe35258,![]);}else{if(_0x20ebc6){const _0x3cc274=doc(db,_0x38f664(0x981)+appId+_0x38f664(0xfb),currentBlueprintProjectId),_0x2bc055=await getDoc(_0x3cc274);if(_0x2bc055[_0x38f664(0xaed)]()){const _0x57c976=_0x2bc055['data'](),_0x18e805=_0x57c976['topics'][_0xe35258];if(_0x18e805&&_0x18e805[_0x38f664(0x360)]===_0x38f664(0xd65))try{const _0x119afc=doc(db,'artifacts/'+appId+_0x38f664(0x8ac)+currentBlueprintProjectId+_0x38f664(0xc17),_0xe35258),_0x324821=await getDoc(_0x119afc);if(_0x324821[_0x38f664(0xaed)]()){const _0x303399=_0x324821[_0x38f664(0x366)]()[_0x38f664(0x44c)];document['getElementById'](_0x38f664(0x778))['textContent']=_0x38f664(0x706)+_0x38d95d(_0x97a502),document[_0x38f664(0x283)](_0x38f664(0x104))['innerHTML']=_0x303399[_0x38f664(0x38e)],document['getElementById']('memoryContent')[_0x38f664(0x545)]=_0x303399[_0x38f664(0xbc6)],document[_0x38f664(0x283)](_0x38f664(0x357))[_0x38f664(0x545)]=_0x303399[_0x38f664(0xe2e)];const _0x3b8326=document[_0x38f664(0x283)](_0x38f664(0xa02));_0x303399[_0x38f664(0xa14)]?(currentApplicationData=_0x303399[_0x38f664(0xa14)],_0x3b8326[_0x38f664(0x545)]=currentApplicationData[_0x38f664(0x87e)]((_0x36f22f,_0x539883)=>_0x38f664(0xfd)+(_0x539883+0x1)+'.\x20'+marked[_0x38f664(0xdb2)](_0x36f22f[_0x38f664(0xc78)])+_0x38f664(0x257)+_0x539883+_0x38f664(0xc54)+_0x36f22f[_0x38f664(0xbed)][_0x38f664(0x87e)]((_0x5c41e8,_0x520e9a)=>_0x38f664(0x587)+_0x539883+',\x20'+_0x520e9a+_0x38f664(0x15f)+String['fromCharCode'](0x61+_0x520e9a)+'.\x20'+marked[_0x38f664(0xdb2)](_0x5c41e8)+'</button>')['join']('')+_0x38f664(0x362))[_0x38f664(0xd6e)]('')):(currentApplicationData=[],_0x3b8326[_0x38f664(0x545)]=_0x303399[_0x38f664(0xbf0)]||_0x303399[_0x38f664(0x4a5)]),document[_0x38f664(0x283)](_0x38f664(0x8e9))[_0x38f664(0x605)]['add'](_0x38f664(0x9a0)),document['getElementById'](_0x38f664(0xe17))[_0x38f664(0x605)][_0x38f664(0x31b)](_0x38f664(0x9a0)),document[_0x38f664(0x283)](_0x38f664(0xba5))[_0x38f664(0x605)][_0x38f664(0x31b)](_0x38f664(0x9a0)),window['MathJax']&&MathJax['typesetPromise']([document['getElementById'](_0x38f664(0xb01))]);}else showMessage(_0x38f664(0x492));}catch(_0x59ef51){console[_0x38f664(0xe4d)](_0x38f664(0x479),_0x59ef51),showMessage(_0x38f664(0x6ce));}else showMessage(_0x38f664(0x446));}}else{if(_0x3e5398){const _0x1fd14c=_0x38d95d(_0x97a502),_0x19ed19=doc(db,_0x38f664(0x981)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x220a77=await getDoc(_0x19ed19);if(_0x220a77[_0x38f664(0xaed)]()){const _0x3a57d3=_0x220a77[_0x38f664(0x366)]();generateAndSaveLessonForBlueprint(_0xe35258,_0x1fd14c,_0x3a57d3[_0x38f664(0x53c)]);}}else{if(_0x4c4d9e)editTopicInProject(_0xe35258);else _0x46a991&&deleteTopicFromProject(_0xe35258);}}}}}}}),document[_0x1945e5(0x283)](_0x1945e5(0x8cf))[_0x1945e5(0x844)](_0x1945e5(0x425),handleFixLessonLatex),document[_0x1945e5(0x283)](_0x1945e5(0xbf9))[_0x1945e5(0x844)](_0x1945e5(0x425),handleExportLessonToPDF),document[_0x1945e5(0x283)](_0x1945e5(0xcdb))[_0x1945e5(0x844)](_0x1945e5(0x425),()=>{const _0x436f1f=_0x1945e5;document[_0x436f1f(0x283)]('lesson-view-modal')[_0x436f1f(0x605)][_0x436f1f(0xd74)](_0x436f1f(0x9a0));});const _0x5fd04d=document['getElementById'](_0x1945e5(0x2cf)),_0x418f0d=document['getElementById'](_0x1945e5(0x148));_0x5fd04d['addEventListener']('change',()=>{const _0x277e26=_0x1945e5;_0x418f0d[_0x277e26(0x605)]['toggle']('hidden',!_0x5fd04d['checked']);});const _0x56b85e=document['getElementById'](_0x1945e5(0xc82)),_0x2e81ca=document[_0x1945e5(0x283)](_0x1945e5(0x307));_0x56b85e[_0x1945e5(0x844)](_0x1945e5(0xbb6),()=>{const _0x2a2967=_0x1945e5;_0x2e81ca[_0x2a2967(0x605)]['toggle'](_0x2a2967(0x9a0),!_0x56b85e[_0x2a2967(0x61b)]);});const _0x3e5a90=document[_0x1945e5(0x283)]('modal-confidence-scoring-checkbox'),_0x3b8315=document[_0x1945e5(0x283)](_0x1945e5(0x2fd));_0x3e5a90['addEventListener']('change',()=>{const _0x3959cc=_0x1945e5;_0x3b8315['classList'][_0x3959cc(0xc7c)](_0x3959cc(0x9a0),!_0x3e5a90[_0x3959cc(0x61b)]);});const _0x25d05b=document[_0x1945e5(0x283)]('confidence-modal'),_0x141267=async _0x8b1511=>{const _0x3b4334=_0x1945e5,_0x27f514=document[_0x3b4334(0x283)](_0x3b4334(0xd5e)),_0x3abcf7=_0x27f514[_0x3b4334(0x845)]['currentMode'],_0x4f0252=document[_0x3b4334(0x283)](_0x3b4334(0x728));_0x27f514[_0x3b4334(0x605)][_0x3b4334(0xd74)](_0x3b4334(0x9a0));if(_0x3abcf7===_0x3b4334(0x3a2)){const _0x1af8f4=_0x4f0252['value'],_0x398fe2={'answer':_0x1af8f4,'wasConfident':_0x8b1511};proceedToNextQuestion(_0x398fe2);}else{if(_0x3abcf7===_0x3b4334(0xa8e)){const _0x113f1a=_0x4f0252[_0x3b4334(0x845)]['answerValue'],_0x5bb5a3=JSON[_0x3b4334(0x11c)](_0x4f0252['dataset'][_0x3b4334(0xc78)]),_0x1d0094=JSON[_0x3b4334(0x11c)](_0x4f0252[_0x3b4334(0x845)][_0x3b4334(0x98c)]),_0x31a27f=_0x4f0252[_0x3b4334(0x845)][_0x3b4334(0x36a)];handleSyncAnswerSubmit(_0x113f1a,_0x5bb5a3,_0x1d0094,_0x31a27f,_0x8b1511);}}_0x27f514[_0x3b4334(0x845)][_0x3b4334(0xe1)]='';};document[_0x1945e5(0x283)](_0x1945e5(0xca))['addEventListener'](_0x1945e5(0x425),()=>_0x141267(!![])),document[_0x1945e5(0x283)](_0x1945e5(0x3d0))[_0x1945e5(0x844)](_0x1945e5(0x425),()=>_0x141267(![])),liveGameView['addEventListener']('click',_0x4cc9b7=>{const _0x401ed1=_0x1945e5,_0x3137f0=_0x4cc9b7[_0x401ed1(0x543)]['closest'](_0x401ed1(0x692));if(_0x3137f0){const _0x354bf2=_0x3137f0[_0x401ed1(0x845)][_0x401ed1(0x36a)];_0x354bf2&&handleKickPlayerSync(_0x354bf2);}});const _0x946e93=document[_0x1945e5(0x283)](_0x1945e5(0x9f7)),_0x21c62d=document[_0x1945e5(0x283)](_0x1945e5(0x86e));_0x21c62d[_0x1945e5(0x844)](_0x1945e5(0x425),()=>{const _0x41246f=_0x1945e5;document[_0x41246f(0x283)]('confirm-game-start-modal')['classList'][_0x41246f(0xd74)]('hidden');}),_0x946e93['addEventListener'](_0x1945e5(0x425),()=>{const _0x14f557=_0x1945e5,_0x159568=document[_0x14f557(0x283)](_0x14f557(0xc5a))[_0x14f557(0xa89)],_0x321060=document[_0x14f557(0x283)]('game-start-mode')['value'],_0x440f86=document[_0x14f557(0x283)](_0x14f557(0x6da))[_0x14f557(0x61b)];document[_0x14f557(0x283)](_0x14f557(0xb68))[_0x14f557(0x605)]['add']('hidden');switch(_0x321060){case _0x14f557(0xcbc):handleStartLiveRace(_0x159568,_0x440f86);break;case _0x14f557(0xd21):handleStartTeamQuiz(_0x159568,_0x440f86);break;case _0x14f557(0xa56):handleStartGroupMode(_0x159568,_0x440f86);break;case _0x14f557(0xa8e):const _0x1f4105=document[_0x14f557(0x1a6)](_0x14f557(0x1fc))['value']||'classic';handleStartSyncMode(_0x159568,_0x440f86,_0x1f4105);break;}}),document[_0x1945e5(0x283)](_0x1945e5(0x95c))[_0x1945e5(0x844)]('click',handleJoinGroupActivity),liveGameView[_0x1945e5(0x844)](_0x1945e5(0x425),_0x3611e1=>{const _0x4065fc=_0x1945e5,_0x2bd049=_0x3611e1['target'][_0x4065fc(0x455)](_0x4065fc(0x8de));document['querySelectorAll'](_0x4065fc(0x88e))[_0x4065fc(0x277)](_0x412cd3=>{const _0x40ec10=_0x4065fc;(!_0x2bd049||_0x412cd3['id']!==_0x2bd049[_0x40ec10(0x845)]['tooltipTarget'])&&_0x412cd3[_0x40ec10(0x605)][_0x40ec10(0x31b)]('visible');});if(!_0x2bd049)return;const _0x138d5e=_0x2bd049[_0x4065fc(0x845)]['tooltipTarget'],_0x383bd3=document[_0x4065fc(0x283)](_0x138d5e);_0x383bd3&&_0x383bd3[_0x4065fc(0x605)][_0x4065fc(0xc7c)]('visible');}),liveGameView[_0x1945e5(0x844)](_0x1945e5(0x425),_0x5db3d6=>{const _0x877dc5=_0x1945e5;if(_0x5db3d6[_0x877dc5(0x543)][_0x877dc5(0x605)][_0x877dc5(0x5a0)]('kick-player-btn')){const _0x2cbec1=_0x5db3d6[_0x877dc5(0x543)][_0x877dc5(0x845)][_0x877dc5(0x36a)];_0x2cbec1&&handleKickPlayer(_0x2cbec1);}}),document['getElementById'](_0x1945e5(0x766))[_0x1945e5(0x844)](_0x1945e5(0xccd),()=>document[_0x1945e5(0x283)](_0x1945e5(0xdc8))['classList'][_0x1945e5(0x31b)]('hidden')),document[_0x1945e5(0x283)](_0x1945e5(0xdc8))[_0x1945e5(0x844)]('click',handleSaveProjectName),document['getElementById'](_0x1945e5(0x766))[_0x1945e5(0x844)](_0x1945e5(0x4fe),_0x30bed4=>{const _0x1ad3c9=_0x1945e5;_0x30bed4['key']===_0x1ad3c9(0xa7c)&&(_0x30bed4[_0x1ad3c9(0xde6)](),_0x30bed4[_0x1ad3c9(0x543)][_0x1ad3c9(0x40e)](),handleSaveProjectName());}),document['getElementById']('bulk-quiz-settings-btn')['addEventListener'](_0x1945e5(0x425),()=>{const _0x21e79b=_0x1945e5;document[_0x21e79b(0x283)](_0x21e79b(0x9d1))['classList']['remove'](_0x21e79b(0x9a0));}),document[_0x1945e5(0x283)](_0x1945e5(0xe59))[_0x1945e5(0x844)](_0x1945e5(0x425),()=>{const _0x1ced7e=_0x1945e5;document[_0x1ced7e(0x283)](_0x1ced7e(0x9d1))[_0x1ced7e(0x605)][_0x1ced7e(0xd74)](_0x1ced7e(0x9a0));}),document[_0x1945e5(0x283)](_0x1945e5(0x140))[_0x1945e5(0x844)](_0x1945e5(0x425),handleBulkUpdateQuizSettings),document[_0x1945e5(0x283)](_0x1945e5(0x404))[_0x1945e5(0x844)](_0x1945e5(0x425),handleModeSwitch),document[_0x1945e5(0x283)]('update-old-quizzes-btn')[_0x1945e5(0x844)](_0x1945e5(0x425),handleUpdateOldQuizzes),document['getElementById'](_0x1945e5(0x8dd))['addEventListener']('click',handleResetProjectOrder),document[_0x1945e5(0x283)](_0x1945e5(0x248))['addEventListener']('click',handleSaveVisibilitySettings),document[_0x1945e5(0x283)]('add-custom-math-topic-btn')[_0x1945e5(0x844)]('click',handleAddCustomMathTopic),document['getElementById'](_0x1945e5(0x367))[_0x1945e5(0x844)](_0x1945e5(0x425),handleSelectAllTopics),document[_0x1945e5(0x283)](_0x1945e5(0xe26))[_0x1945e5(0x844)]('click',handleDeselectAllTopics),document[_0x1945e5(0x283)](_0x1945e5(0xb37))[_0x1945e5(0x844)](_0x1945e5(0x425),()=>{const _0x3b8304=_0x1945e5;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x3b8304(0x8b0));}}),document[_0x1945e5(0x283)]('back-to-project-btn')['addEventListener'](_0x1945e5(0x425),()=>{const _0x53a3ab=_0x1945e5;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x53a3ab(0x964));}}),document['getElementById'](_0x1945e5(0x997))[_0x1945e5(0x844)](_0x1945e5(0x425),()=>{const _0x3c275a=_0x1945e5;showView(_0x3c275a(0x8b0));}),document[_0x1945e5(0x283)](_0x1945e5(0x6c1))['addEventListener'](_0x1945e5(0x425),()=>{const _0x300583=_0x1945e5;messageModal[_0x300583(0x605)][_0x300583(0xd74)](_0x300583(0x9a0)),typeof modalConfirmAction===_0x300583(0x495)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x1945e5(0x283)](_0x1945e5(0xc24))[_0x1945e5(0x844)](_0x1945e5(0x425),()=>createProjectModal[_0x1945e5(0x605)][_0x1945e5(0x31b)]('hidden')),document[_0x1945e5(0x283)](_0x1945e5(0xc81))[_0x1945e5(0x844)]('click',()=>createProjectModal[_0x1945e5(0x605)][_0x1945e5(0xd74)](_0x1945e5(0x9a0))),document[_0x1945e5(0x283)](_0x1945e5(0xbd6))[_0x1945e5(0x844)](_0x1945e5(0x425),()=>adminPasswordModal[_0x1945e5(0x605)][_0x1945e5(0xd74)]('hidden')),document['getElementById']('confirm-admin-login-btn')[_0x1945e5(0x844)]('click',handleAdminLogin),document[_0x1945e5(0x283)](_0x1945e5(0x4dd))['addEventListener'](_0x1945e5(0x402),_0x1b6e72=>{const _0xcc734e=_0x1945e5;if(_0x1b6e72[_0xcc734e(0x94e)]===_0xcc734e(0xa7c))handleAdminLogin();}),document[_0x1945e5(0x283)](_0x1945e5(0x42a))['addEventListener'](_0x1945e5(0x425),()=>{const _0x3feece=_0x1945e5;confirmationModal[_0x3feece(0x605)][_0x3feece(0xd74)](_0x3feece(0x9a0)),typeof cancelAction===_0x3feece(0x495)&&cancelAction(),confirmAction=null,cancelAction=null;}),document[_0x1945e5(0x283)]('confirm-delete-btn')['addEventListener'](_0x1945e5(0x425),()=>{const _0x57b7bf=_0x1945e5;confirmAction&&confirmAction(),confirmationModal[_0x57b7bf(0x605)][_0x57b7bf(0xd74)]('hidden'),confirmAction=null,cancelAction=null;}),document[_0x1945e5(0x283)](_0x1945e5(0xc83))[_0x1945e5(0x844)](_0x1945e5(0x425),()=>renameQuizModal['classList'][_0x1945e5(0xd74)]('hidden')),document[_0x1945e5(0x283)](_0x1945e5(0xa11))[_0x1945e5(0x844)](_0x1945e5(0x425),confirmRenameQuiz),document[_0x1945e5(0x283)](_0x1945e5(0x8f1))[_0x1945e5(0x844)](_0x1945e5(0x425),()=>moveQuizModal[_0x1945e5(0x605)]['add'](_0x1945e5(0x9a0))),document[_0x1945e5(0x283)](_0x1945e5(0x64f))[_0x1945e5(0x844)]('click',confirmMoveQuiz),document['getElementById'](_0x1945e5(0x925))[_0x1945e5(0x844)](_0x1945e5(0x425),()=>quizSettingsModal['classList'][_0x1945e5(0xd74)](_0x1945e5(0x9a0))),document[_0x1945e5(0x283)](_0x1945e5(0x35c))[_0x1945e5(0x844)]('click',confirmQuizSettings),document[_0x1945e5(0x283)](_0x1945e5(0xdd2))[_0x1945e5(0x844)](_0x1945e5(0x425),()=>quizStatusModal['classList'][_0x1945e5(0xd74)]('hidden')),document['getElementById'](_0x1945e5(0x518))[_0x1945e5(0x844)]('click',confirmQuizStatus);const _0x79084d=document[_0x1945e5(0x283)](_0x1945e5(0x139));document[_0x1945e5(0x283)](_0x1945e5(0x195))['addEventListener'](_0x1945e5(0x425),()=>{const _0x4ed50e=_0x1945e5;_0x79084d[_0x4ed50e(0x605)][_0x4ed50e(0xd74)](_0x4ed50e(0x9a0));}),document[_0x1945e5(0x283)](_0x1945e5(0x7f2))[_0x1945e5(0x844)](_0x1945e5(0x425),async()=>{const _0x5971e6=_0x1945e5,_0x1c2ed5=allQuizzes['find'](_0x728b21=>_0x728b21['id']===actionTargetId);_0x1c2ed5?(currentQuizData=_0x1c2ed5,exportQuizAsWorksheetPDF()):showMessage(_0x5971e6(0x393)),_0x79084d['classList']['add'](_0x5971e6(0x9a0));}),document['getElementById'](_0x1945e5(0x8a0))['addEventListener'](_0x1945e5(0x425),async()=>{const _0x2ad846=_0x1945e5,_0x34fd2b=allQuizzes[_0x2ad846(0xe8)](_0x53db0f=>_0x53db0f['id']===actionTargetId);_0x34fd2b?(currentQuizData=_0x34fd2b,exportQuizAsTutorPDF()):showMessage(_0x2ad846(0x393)),_0x79084d[_0x2ad846(0x605)][_0x2ad846(0xd74)](_0x2ad846(0x9a0));});const _0x480d6d=document[_0x1945e5(0x283)](_0x1945e5(0x382));_0x480d6d['innerHTML']='<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม',_0x480d6d[_0x1945e5(0x844)]('click',openGlobalActivityModal),document['getElementById'](_0x1945e5(0x5e0))[_0x1945e5(0x844)](_0x1945e5(0x425),()=>{const _0x1cf650=_0x1945e5;document['getElementById'](_0x1cf650(0x2be))[_0x1cf650(0x605)]['add']('hidden');}),document['getElementById'](_0x1945e5(0x546))[_0x1945e5(0x844)](_0x1945e5(0x3df),_0x517cdc=>{const _0x4f5295=_0x1945e5;renderGlobalActivityList(_0x517cdc[_0x4f5295(0x543)][_0x4f5295(0xa89)]);}),document[_0x1945e5(0x283)]('global-activity-quiz-list')[_0x1945e5(0x844)](_0x1945e5(0x425),_0x320b2a=>{const _0x3c9ead=_0x1945e5,_0x5aadd6=_0x320b2a['target'][_0x3c9ead(0x455)](_0x3c9ead(0x9e8));if(!_0x5aadd6)return;const _0x55e5af=_0x5aadd6[_0x3c9ead(0x845)]['id'],_0x883ba9=_0x5aadd6['dataset']['mode'],_0x5a5a9c=allQuizzesGlobal[_0x3c9ead(0xe8)](_0x1b09b2=>_0x1b09b2['id']===_0x55e5af);_0x5a5a9c&&(document['getElementById'](_0x3c9ead(0x2be))[_0x3c9ead(0x605)][_0x3c9ead(0xd74)](_0x3c9ead(0x9a0)),_0x883ba9===_0x3c9ead(0xcbc)?handleStartLiveRace(_0x55e5af):showGameStartConfirmationModal(_0x55e5af,_0x883ba9,_0x5a5a9c['topic']));}),document[_0x1945e5(0x283)](_0x1945e5(0x96e))['addEventListener'](_0x1945e5(0x3df),renderProjects),document[_0x1945e5(0x283)](_0x1945e5(0xa3f))[_0x1945e5(0x844)](_0x1945e5(0xbb6),async()=>{const _0x280937=_0x1945e5,_0x5647eb=document[_0x280937(0x283)](_0x280937(0xa3f))[_0x280937(0xa89)],_0x30d041=doc(db,_0x280937(0x2c2),_0x280937(0x73c));try{await setDoc(_0x30d041,{'projectSort':_0x5647eb},{'merge':!![]});}catch(_0x15141f){console['error'](_0x280937(0x481),_0x15141f),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document[_0x1945e5(0x283)](_0x1945e5(0xe2d))[_0x1945e5(0x844)](_0x1945e5(0x3df),renderQuizzes),document[_0x1945e5(0x283)]('grid-view-btn')[_0x1945e5(0x844)](_0x1945e5(0x425),()=>{const _0x15b3bb=_0x1945e5;globalDashboardSettings['projectView']='grid',saveUserPreference(_0x15b3bb(0xd40),'grid'),renderProjects();}),document[_0x1945e5(0x283)](_0x1945e5(0x93e))['addEventListener'](_0x1945e5(0x425),()=>{const _0x1bf062=_0x1945e5;globalDashboardSettings[_0x1bf062(0xd40)]=_0x1bf062(0x823),saveUserPreference(_0x1bf062(0xd40),_0x1bf062(0x823)),renderProjects();}),manageTab[_0x1945e5(0x844)]('click',()=>switchProjectTab(_0x1945e5(0x98a))),resultsTab[_0x1945e5(0x844)](_0x1945e5(0x425),()=>switchProjectTab(_0x1945e5(0x940))),leaderboardTab[_0x1945e5(0x844)](_0x1945e5(0x425),()=>switchProjectTab(_0x1945e5(0x354))),document[_0x1945e5(0x283)](_0x1945e5(0x690))[_0x1945e5(0x844)]('click',()=>switchQuizDetailTab(_0x1945e5(0x59b))),document['getElementById'](_0x1945e5(0xcd3))[_0x1945e5(0x844)](_0x1945e5(0x425),()=>switchQuizDetailTab('scores')),document[_0x1945e5(0x283)]('leaderboard-quiz-tab-btn')[_0x1945e5(0x844)](_0x1945e5(0x425),()=>switchQuizDetailTab(_0x1945e5(0x1b0))),document[_0x1945e5(0x283)](_0x1945e5(0xcfc))['addEventListener']('click',()=>switchQuizDetailTab('behavior-log')),document[_0x1945e5(0x283)](_0x1945e5(0x3a4))[_0x1945e5(0x844)](_0x1945e5(0x425),handleAnalyzeClass),generateWorksheetBtn[_0x1945e5(0x844)]('click',generateWorksheet);const _0x3bbfd8=document[_0x1945e5(0x283)](_0x1945e5(0x935)),_0x558df9=document[_0x1945e5(0x283)](_0x1945e5(0x29e)),_0x35a1f9=document[_0x1945e5(0x283)](_0x1945e5(0x62a)),_0x1b1e5c=document['getElementById'](_0x1945e5(0x97a)),_0x7e0d84=document[_0x1945e5(0x283)](_0x1945e5(0xa0d)),_0x5937d2=document['getElementById'](_0x1945e5(0xcb4));topicTab[_0x1945e5(0x844)](_0x1945e5(0x425),()=>{const _0xa624af=_0x1945e5;topicTab[_0xa624af(0x605)][_0xa624af(0xd74)](_0xa624af(0xcce)),textTab[_0xa624af(0x605)][_0xa624af(0x31b)](_0xa624af(0xcce)),fileTab[_0xa624af(0x605)][_0xa624af(0x31b)](_0xa624af(0xcce)),worksheetTab['classList'][_0xa624af(0x31b)](_0xa624af(0xcce));if(_0x3bbfd8)_0x3bbfd8['classList']['remove']('active');if(_0x35a1f9)_0x35a1f9[_0xa624af(0x605)][_0xa624af(0x31b)](_0xa624af(0xcce));if(_0x7e0d84)_0x7e0d84[_0xa624af(0x605)]['remove'](_0xa624af(0xcce));topicInputArea[_0xa624af(0x605)][_0xa624af(0x31b)](_0xa624af(0x9a0)),textInputArea[_0xa624af(0x605)][_0xa624af(0xd74)](_0xa624af(0x9a0)),fileInputArea['classList'][_0xa624af(0xd74)](_0xa624af(0x9a0)),worksheetInputArea[_0xa624af(0x605)]['add'](_0xa624af(0x9a0));if(_0x558df9)_0x558df9['classList']['add']('hidden');if(_0x1b1e5c)_0x1b1e5c[_0xa624af(0x605)]['add'](_0xa624af(0x9a0));if(_0x5937d2)_0x5937d2[_0xa624af(0x605)]['add'](_0xa624af(0x9a0));}),textTab['addEventListener']('click',()=>{const _0x1b6724=_0x1945e5;textTab[_0x1b6724(0x605)][_0x1b6724(0xd74)]('active'),topicTab[_0x1b6724(0x605)][_0x1b6724(0x31b)](_0x1b6724(0xcce)),fileTab[_0x1b6724(0x605)][_0x1b6724(0x31b)]('active'),worksheetTab['classList'][_0x1b6724(0x31b)](_0x1b6724(0xcce));if(_0x3bbfd8)_0x3bbfd8[_0x1b6724(0x605)][_0x1b6724(0x31b)](_0x1b6724(0xcce));if(_0x35a1f9)_0x35a1f9[_0x1b6724(0x605)]['remove']('active');if(_0x7e0d84)_0x7e0d84[_0x1b6724(0x605)][_0x1b6724(0x31b)](_0x1b6724(0xcce));textInputArea[_0x1b6724(0x605)][_0x1b6724(0x31b)]('hidden'),topicInputArea[_0x1b6724(0x605)][_0x1b6724(0xd74)](_0x1b6724(0x9a0)),fileInputArea['classList'][_0x1b6724(0xd74)](_0x1b6724(0x9a0)),worksheetInputArea[_0x1b6724(0x605)][_0x1b6724(0xd74)](_0x1b6724(0x9a0));if(_0x558df9)_0x558df9['classList'][_0x1b6724(0xd74)]('hidden');if(_0x1b1e5c)_0x1b1e5c[_0x1b6724(0x605)][_0x1b6724(0xd74)](_0x1b6724(0x9a0));if(_0x5937d2)_0x5937d2[_0x1b6724(0x605)][_0x1b6724(0xd74)](_0x1b6724(0x9a0));}),fileTab['addEventListener']('click',()=>{const _0x17cbdd=_0x1945e5;fileTab[_0x17cbdd(0x605)][_0x17cbdd(0xd74)]('active'),topicTab[_0x17cbdd(0x605)][_0x17cbdd(0x31b)](_0x17cbdd(0xcce)),textTab[_0x17cbdd(0x605)]['remove']('active'),worksheetTab[_0x17cbdd(0x605)][_0x17cbdd(0x31b)]('active');if(_0x3bbfd8)_0x3bbfd8[_0x17cbdd(0x605)][_0x17cbdd(0x31b)](_0x17cbdd(0xcce));if(_0x35a1f9)_0x35a1f9[_0x17cbdd(0x605)][_0x17cbdd(0x31b)](_0x17cbdd(0xcce));if(_0x7e0d84)_0x7e0d84['classList'][_0x17cbdd(0x31b)](_0x17cbdd(0xcce));fileInputArea[_0x17cbdd(0x605)][_0x17cbdd(0x31b)](_0x17cbdd(0x9a0)),topicInputArea['classList']['add'](_0x17cbdd(0x9a0)),textInputArea['classList']['add']('hidden'),worksheetInputArea['classList'][_0x17cbdd(0xd74)](_0x17cbdd(0x9a0));if(_0x558df9)_0x558df9[_0x17cbdd(0x605)][_0x17cbdd(0xd74)](_0x17cbdd(0x9a0));if(_0x1b1e5c)_0x1b1e5c[_0x17cbdd(0x605)]['add'](_0x17cbdd(0x9a0));if(_0x5937d2)_0x5937d2[_0x17cbdd(0x605)][_0x17cbdd(0xd74)]('hidden');}),worksheetTab[_0x1945e5(0x844)]('click',()=>{const _0x8c358b=_0x1945e5;worksheetTab['classList'][_0x8c358b(0xd74)](_0x8c358b(0xcce)),topicTab[_0x8c358b(0x605)][_0x8c358b(0x31b)](_0x8c358b(0xcce)),textTab['classList']['remove'](_0x8c358b(0xcce)),fileTab['classList']['remove'](_0x8c358b(0xcce));if(_0x3bbfd8)_0x3bbfd8['classList'][_0x8c358b(0x31b)](_0x8c358b(0xcce));if(_0x35a1f9)_0x35a1f9[_0x8c358b(0x605)][_0x8c358b(0x31b)](_0x8c358b(0xcce));if(_0x7e0d84)_0x7e0d84[_0x8c358b(0x605)][_0x8c358b(0x31b)]('active');worksheetInputArea[_0x8c358b(0x605)]['remove'](_0x8c358b(0x9a0)),topicInputArea['classList']['add'](_0x8c358b(0x9a0)),textInputArea[_0x8c358b(0x605)][_0x8c358b(0xd74)]('hidden'),fileInputArea['classList'][_0x8c358b(0xd74)](_0x8c358b(0x9a0));if(_0x558df9)_0x558df9['classList'][_0x8c358b(0xd74)]('hidden');if(_0x1b1e5c)_0x1b1e5c[_0x8c358b(0x605)][_0x8c358b(0xd74)](_0x8c358b(0x9a0));if(_0x5937d2)_0x5937d2[_0x8c358b(0x605)][_0x8c358b(0xd74)]('hidden');});const _0x41b8f2=document[_0x1945e5(0x283)](_0x1945e5(0x282)),_0x3be4e2=document['getElementById']('bank-input-area');_0x41b8f2&&_0x41b8f2['addEventListener'](_0x1945e5(0x425),()=>{const _0x31bffa=_0x1945e5;topicTab[_0x31bffa(0x605)][_0x31bffa(0x31b)](_0x31bffa(0xcce)),textTab[_0x31bffa(0x605)]['remove'](_0x31bffa(0xcce)),fileTab[_0x31bffa(0x605)][_0x31bffa(0x31b)]('active'),worksheetTab['classList'][_0x31bffa(0x31b)]('active');if(_0x3bbfd8)_0x3bbfd8['classList'][_0x31bffa(0x31b)](_0x31bffa(0xcce));if(_0x35a1f9)_0x35a1f9[_0x31bffa(0x605)][_0x31bffa(0x31b)]('active');if(_0x7e0d84)_0x7e0d84[_0x31bffa(0x605)][_0x31bffa(0x31b)](_0x31bffa(0xcce));_0x41b8f2['classList'][_0x31bffa(0xd74)](_0x31bffa(0xcce)),topicInputArea['classList'][_0x31bffa(0xd74)](_0x31bffa(0x9a0)),textInputArea[_0x31bffa(0x605)][_0x31bffa(0xd74)](_0x31bffa(0x9a0)),fileInputArea[_0x31bffa(0x605)]['add'](_0x31bffa(0x9a0)),worksheetInputArea[_0x31bffa(0x605)][_0x31bffa(0xd74)](_0x31bffa(0x9a0));if(_0x558df9)_0x558df9[_0x31bffa(0x605)][_0x31bffa(0xd74)](_0x31bffa(0x9a0));if(_0x1b1e5c)_0x1b1e5c['classList']['add'](_0x31bffa(0x9a0));if(_0x5937d2)_0x5937d2[_0x31bffa(0x605)][_0x31bffa(0xd74)](_0x31bffa(0x9a0));_0x3be4e2['classList'][_0x31bffa(0x31b)](_0x31bffa(0x9a0)),displayQuestionBank();});_0x3bbfd8&&(_0x3bbfd8[_0x1945e5(0x844)](_0x1945e5(0x425),()=>{const _0x48336f=_0x1945e5;_0x3bbfd8[_0x48336f(0x605)][_0x48336f(0xd74)](_0x48336f(0xcce)),topicTab[_0x48336f(0x605)]['remove'](_0x48336f(0xcce)),textTab[_0x48336f(0x605)][_0x48336f(0x31b)](_0x48336f(0xcce)),fileTab['classList'][_0x48336f(0x31b)]('active'),worksheetTab['classList'][_0x48336f(0x31b)]('active');if(_0x35a1f9)_0x35a1f9[_0x48336f(0x605)][_0x48336f(0x31b)](_0x48336f(0xcce));if(_0x7e0d84)_0x7e0d84[_0x48336f(0x605)]['remove']('active');_0x558df9[_0x48336f(0x605)][_0x48336f(0x31b)](_0x48336f(0x9a0)),topicInputArea[_0x48336f(0x605)][_0x48336f(0xd74)]('hidden'),textInputArea[_0x48336f(0x605)][_0x48336f(0xd74)]('hidden'),fileInputArea[_0x48336f(0x605)][_0x48336f(0xd74)]('hidden'),worksheetInputArea[_0x48336f(0x605)][_0x48336f(0xd74)](_0x48336f(0x9a0));if(_0x1b1e5c)_0x1b1e5c[_0x48336f(0x605)]['add'](_0x48336f(0x9a0));if(_0x5937d2)_0x5937d2[_0x48336f(0x605)][_0x48336f(0xd74)](_0x48336f(0x9a0));}),document['getElementById']('generate-from-link-btn')[_0x1945e5(0x844)](_0x1945e5(0x425),handleGenerateFromLink));_0x35a1f9&&_0x35a1f9[_0x1945e5(0x844)](_0x1945e5(0x425),()=>{const _0x12ca52=_0x1945e5;_0x35a1f9[_0x12ca52(0x605)][_0x12ca52(0xd74)](_0x12ca52(0xcce)),topicTab[_0x12ca52(0x605)][_0x12ca52(0x31b)](_0x12ca52(0xcce)),textTab[_0x12ca52(0x605)][_0x12ca52(0x31b)]('active'),fileTab['classList']['remove'](_0x12ca52(0xcce)),worksheetTab[_0x12ca52(0x605)]['remove'](_0x12ca52(0xcce));if(_0x3bbfd8)_0x3bbfd8[_0x12ca52(0x605)][_0x12ca52(0x31b)](_0x12ca52(0xcce));if(_0x41b8f2)_0x41b8f2[_0x12ca52(0x605)][_0x12ca52(0x31b)]('active');if(_0x7e0d84)_0x7e0d84['classList']['remove'](_0x12ca52(0xcce));_0x1b1e5c[_0x12ca52(0x605)][_0x12ca52(0x31b)](_0x12ca52(0x9a0)),topicInputArea[_0x12ca52(0x605)][_0x12ca52(0xd74)]('hidden'),textInputArea['classList'][_0x12ca52(0xd74)](_0x12ca52(0x9a0)),fileInputArea['classList'][_0x12ca52(0xd74)](_0x12ca52(0x9a0)),worksheetInputArea[_0x12ca52(0x605)]['add'](_0x12ca52(0x9a0));if(_0x558df9)_0x558df9[_0x12ca52(0x605)][_0x12ca52(0xd74)](_0x12ca52(0x9a0));if(_0x3be4e2)_0x3be4e2[_0x12ca52(0x605)][_0x12ca52(0xd74)](_0x12ca52(0x9a0));if(_0x5937d2)_0x5937d2[_0x12ca52(0x605)][_0x12ca52(0xd74)](_0x12ca52(0x9a0));});_0x7e0d84&&_0x7e0d84[_0x1945e5(0x844)]('click',()=>{const _0xd687aa=_0x1945e5;_0x7e0d84['classList'][_0xd687aa(0xd74)](_0xd687aa(0xcce)),topicTab['classList'][_0xd687aa(0x31b)](_0xd687aa(0xcce)),textTab['classList'][_0xd687aa(0x31b)](_0xd687aa(0xcce)),fileTab[_0xd687aa(0x605)]['remove'](_0xd687aa(0xcce)),worksheetTab[_0xd687aa(0x605)]['remove']('active');if(_0x3bbfd8)_0x3bbfd8[_0xd687aa(0x605)]['remove'](_0xd687aa(0xcce));if(_0x35a1f9)_0x35a1f9['classList']['remove'](_0xd687aa(0xcce));if(_0x41b8f2)_0x41b8f2['classList']['remove'](_0xd687aa(0xcce));_0x5937d2[_0xd687aa(0x605)][_0xd687aa(0x31b)](_0xd687aa(0x9a0)),topicInputArea[_0xd687aa(0x605)][_0xd687aa(0xd74)](_0xd687aa(0x9a0)),textInputArea['classList'][_0xd687aa(0xd74)](_0xd687aa(0x9a0)),fileInputArea[_0xd687aa(0x605)]['add'](_0xd687aa(0x9a0)),worksheetInputArea[_0xd687aa(0x605)]['add'](_0xd687aa(0x9a0));if(_0x558df9)_0x558df9[_0xd687aa(0x605)][_0xd687aa(0xd74)]('hidden');if(_0x1b1e5c)_0x1b1e5c['classList'][_0xd687aa(0xd74)]('hidden');if(_0x3be4e2)_0x3be4e2[_0xd687aa(0x605)][_0xd687aa(0xd74)]('hidden');});const _0xe12a39=document[_0x1945e5(0x283)](_0x1945e5(0xb77)),_0x3584b8=document[_0x1945e5(0x283)]('generate-from-blueprint-btn');if(_0xe12a39){const _0x3a48df=document['getElementById'](_0x1945e5(0xb77)),_0x57c4a4=document[_0x1945e5(0x283)](_0x1945e5(0xaeb)),_0x1524b4=document[_0x1945e5(0x283)](_0x1945e5(0x444)),_0xb426fd=document[_0x1945e5(0x283)](_0x1945e5(0x822)),_0x214e20=document['getElementById'](_0x1945e5(0xc7)),_0x27e371=document['getElementById'](_0x1945e5(0xbe2));_0x3a48df&&_0x3a48df[_0x1945e5(0x844)]('change',async _0x40e56f=>{const _0x13e34e=_0x1945e5;_0x1524b4[_0x13e34e(0x605)][_0x13e34e(0xd74)](_0x13e34e(0x9a0)),_0x214e20[_0x13e34e(0x605)][_0x13e34e(0xd74)](_0x13e34e(0x9a0)),_0xb426fd['checked']=![],_0x57c4a4[_0x13e34e(0xc71)]=!![];const _0xd42170=_0x40e56f[_0x13e34e(0x543)][_0x13e34e(0x7a4)][0x0];if(_0xd42170){_0x57c4a4['disabled']=![];try{const _0x394f9e=await extractTextFromPdf(_0xd42170);await analyzeBlueprintForTopics(_0x394f9e);}catch(_0x90217f){showMessage('ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้'),_0x1524b4[_0x13e34e(0x605)]['add']('hidden');}}}),_0xb426fd&&_0xb426fd[_0x1945e5(0x844)](_0x1945e5(0xbb6),_0x52d2b4=>{const _0x48939f=_0x1945e5,_0x23c97b=_0x52d2b4[_0x48939f(0x543)][_0x48939f(0x61b)];_0x214e20[_0x48939f(0x605)][_0x48939f(0xc7c)](_0x48939f(0x9a0),!_0x23c97b),_0x57c4a4['disabled']=_0x23c97b;}),_0x27e371&&(_0x27e371&&_0x27e371['addEventListener'](_0x1945e5(0x425),_0xd19481=>{const _0x500c00=_0x1945e5,_0x27fd86=_0xd19481['target']['closest'](_0x500c00(0x7b9)),_0x9368b3=_0xd19481['target'][_0x500c00(0x455)](_0x500c00(0x57d));if(_0x27fd86){const _0x4570f1=unescape(_0x27fd86[_0x500c00(0x845)][_0x500c00(0xe5f)]);generateQuizForSingleTopic(_0x4570f1);}else{if(_0x9368b3){const _0x34994e=unescape(_0x9368b3['dataset'][_0x500c00(0xe5f)]);handleGenerateTeachingContent(_0x34994e);}}}));}_0x3584b8&&_0x3584b8[_0x1945e5(0x844)](_0x1945e5(0x425),handleGenerateFromBlueprint);const _0xaff38f=document[_0x1945e5(0x283)](_0x1945e5(0x779)),_0x495950=document[_0x1945e5(0x283)](_0x1945e5(0x47f));_0xaff38f&&_0xaff38f[_0x1945e5(0x844)](_0x1945e5(0xbb6),_0x516e06=>{const _0x38e182=_0x1945e5;_0x495950['disabled']=_0x516e06[_0x38e182(0x543)][_0x38e182(0x7a4)][_0x38e182(0x110)]===0x0;});_0x495950&&_0x495950[_0x1945e5(0x844)](_0x1945e5(0x425),()=>{handleGenerateParallelTest();});loadQuizBtn[_0x1945e5(0x844)]('click',handleLoadQuiz),startQuizBtn[_0x1945e5(0x844)](_0x1945e5(0x425),async()=>{const _0x3b817e=_0x1945e5,_0x24e848=document[_0x3b817e(0x283)](_0x3b817e(0x7a7));currentStudentName=_0x24e848['value'];if(!currentStudentName){showMessage(_0x3b817e(0x702));return;}try{const _0x51cf11=currentQuizData['id'],_0x5ab15b=doc(db,_0x3b817e(0x981)+appId+_0x3b817e(0x1c4)+_0x51cf11+'/submissions',currentStudentName),_0x17b7db=await getDoc(_0x5ab15b);!_0x17b7db['exists']()?await setDoc(_0x5ab15b,{'studentName':currentStudentName,'startedAt':new Date()[_0x3b817e(0x848)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x5ab15b,{'startedAt':new Date()[_0x3b817e(0x848)]()});}catch(_0x3e7657){console[_0x3b817e(0xe4d)](_0x3b817e(0x7ab),_0x3e7657),showMessage(_0x3b817e(0x32b));return;}studentNameSelectionView[_0x3b817e(0x605)][_0x3b817e(0xd74)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x1945e5(0x45d))['addEventListener'](_0x1945e5(0x425),showJoinGameView),document['getElementById'](_0x1945e5(0x861))[_0x1945e5(0x844)]('click',handleJoinLiveGame),document[_0x1945e5(0x283)](_0x1945e5(0x17d))[_0x1945e5(0x844)](_0x1945e5(0x425),()=>showView('student'));const _0x134138=()=>{const _0x5863fd=_0x1945e5,_0xed3cc4=document[_0x5863fd(0x283)](_0x5863fd(0x973))[_0x5863fd(0x1bd)][_0x5863fd(0x950)](/[^a-z0-9]/gi,'_')[_0x5863fd(0xa8)]();return _0x5863fd(0xa78)+(_0xed3cc4||'quiz');},_0x8c44fe=document['getElementById']('math-topic-search-input');_0x8c44fe&&_0x8c44fe[_0x1945e5(0x844)](_0x1945e5(0x3df),_0x1b6a31=>{const _0x1dff8f=_0x1945e5,_0xec9a10=_0x1b6a31[_0x1dff8f(0x543)]['value'][_0x1dff8f(0xa8)]()[_0x1dff8f(0xc29)](),_0x90cf5=document[_0x1dff8f(0x283)](_0x1dff8f(0xe1d)),_0x5a1489=_0x90cf5['querySelectorAll'](_0x1dff8f(0x93c));_0x5a1489[_0x1dff8f(0x277)](_0x26d4af=>{const _0x1b8e88=_0x1dff8f;let _0xc76058=![];const _0x141e5a=_0x26d4af[_0x1b8e88(0x68a)](_0x1b8e88(0xe5e));_0x141e5a[_0x1b8e88(0x277)](_0x587ebc=>{const _0x5be6e4=_0x1b8e88,_0x2283f6=_0x587ebc[_0x5be6e4(0x1a6)]('.topic-name-display')[_0x5be6e4(0x1bd)][_0x5be6e4(0xa8)]();_0x2283f6[_0x5be6e4(0x2e8)](_0xec9a10)?(_0x587ebc[_0x5be6e4(0xbeb)][_0x5be6e4(0x853)]=_0x5be6e4(0x204),_0xc76058=!![]):_0x587ebc['style'][_0x5be6e4(0x853)]=_0x5be6e4(0xdff);}),_0xc76058?_0x26d4af[_0x1b8e88(0xbeb)][_0x1b8e88(0x853)]=_0x1b8e88(0xbbd):_0x26d4af[_0x1b8e88(0xbeb)][_0x1b8e88(0x853)]='none';});});document[_0x1945e5(0x283)](_0x1945e5(0x10e))[_0x1945e5(0x844)](_0x1945e5(0x425),()=>exportTableAsImage(_0x1945e5(0x954),_0x134138())),document[_0x1945e5(0x283)](_0x1945e5(0xcd6))[_0x1945e5(0x844)](_0x1945e5(0x425),()=>exportTableAsPDF('results-table',_0x134138())),document[_0x1945e5(0x283)]('export-word-btn')[_0x1945e5(0x844)](_0x1945e5(0x425),()=>exportTableAsWord(_0x1945e5(0x954),_0x134138())),document[_0x1945e5(0x283)]('export-excel-btn')['addEventListener']('click',()=>exportTableAsExcel('results-table',_0x134138()));const _0x835ca5=()=>{const _0x10b1c0=_0x1945e5,_0x4b70c1=document['getElementById'](_0x10b1c0(0x973))[_0x10b1c0(0x1bd)]['replace'](/[^a-z0-9]/gi,'_')[_0x10b1c0(0xa8)]();return _0x10b1c0(0x471)+(_0x4b70c1||_0x10b1c0(0xbbb));};document[_0x1945e5(0x283)]('export-leaderboard-image-btn')[_0x1945e5(0x844)](_0x1945e5(0x425),()=>exportTableAsImage(_0x1945e5(0xa7a),_0x835ca5())),document[_0x1945e5(0x283)](_0x1945e5(0x695))['addEventListener'](_0x1945e5(0x425),()=>exportTableAsPDF('quiz-leaderboard-table',_0x835ca5())),document[_0x1945e5(0x283)](_0x1945e5(0x8e7))[_0x1945e5(0x844)](_0x1945e5(0x425),()=>exportTableAsWord(_0x1945e5(0xa7a),_0x835ca5())),document['getElementById'](_0x1945e5(0x271))['addEventListener']('click',()=>exportTableAsExcel(_0x1945e5(0x28d),_0x835ca5())),projectQuizzesList[_0x1945e5(0x844)](_0x1945e5(0x425),async _0x34ffa4=>{const _0x397690=_0x1945e5,_0x3802b3=_0x34ffa4[_0x397690(0x543)][_0x397690(0x455)](_0x397690(0x76c)),_0xc8b401=_0x34ffa4[_0x397690(0x543)][_0x397690(0x455)](_0x397690(0x24c)),_0x303731=_0x34ffa4['target'][_0x397690(0x455)](_0x397690(0x145)),_0x3f53fd=_0x34ffa4[_0x397690(0x543)][_0x397690(0x455)](_0x397690(0x3f1)),_0x47c1b2=_0x34ffa4[_0x397690(0x543)][_0x397690(0x455)](_0x397690(0x62b)),_0x12c169=_0x34ffa4['target']['closest'](_0x397690(0x409)),_0x4a90ec=_0x34ffa4[_0x397690(0x543)][_0x397690(0x455)](_0x397690(0x8b9)),_0x2e4ef9=_0x34ffa4[_0x397690(0x543)]['closest']('.quiz-settings-btn'),_0x30da35=_0x34ffa4[_0x397690(0x543)][_0x397690(0x455)](_0x397690(0xc91)),_0x4dc355=_0x34ffa4[_0x397690(0x543)][_0x397690(0x455)](_0x397690(0x2f7)),_0x412945=_0x34ffa4['target']['closest'](_0x397690(0xd83)),_0x24f89=_0x34ffa4[_0x397690(0x543)]['closest']('.move-quiz-btn'),_0x57797c=_0x34ffa4[_0x397690(0x543)]['closest'](_0x397690(0xacb)),_0x3684b3=_0x34ffa4[_0x397690(0x543)]['closest']('.unpair-quiz-btn'),_0x5a21fd=_0x34ffa4[_0x397690(0x543)][_0x397690(0x455)](_0x397690(0x4cb)),_0x586387=_0x34ffa4[_0x397690(0x543)][_0x397690(0x455)](_0x397690(0xab1)),_0x442ad8=_0x34ffa4['target'][_0x397690(0x455)](_0x397690(0xd8a)),_0x986cd2=_0x34ffa4['target'][_0x397690(0x455)](_0x397690(0xd98)),_0x551115=_0x34ffa4[_0x397690(0x543)][_0x397690(0x455)](_0x397690(0xd7e)),_0x5ecad3=_0x34ffa4[_0x397690(0x543)]['closest'](_0x397690(0x2e3)),_0x1c9cb4=_0x34ffa4[_0x397690(0x543)]['closest']('.generate-easy-version-btn'),_0x44b3d4=_0x34ffa4[_0x397690(0x543)]['closest'](_0x397690(0x8bb)),_0x605f11=_0x34ffa4[_0x397690(0x543)]['closest'](_0x397690(0x8a9));if(_0x44b3d4){const _0x545923=_0x44b3d4['dataset'][_0x397690(0xbc3)],_0x4e5d70=_0x44b3d4[_0x397690(0x845)][_0x397690(0x93a)],_0x256b9a=allQuizzes['find'](_0x1e086d=>_0x1e086d['id']===_0x545923);_0x256b9a&&showGameStartConfirmationModal(_0x545923,_0x4e5d70,_0x256b9a[_0x397690(0xe5f)]);}else{if(_0x605f11){const _0x190073=_0x605f11[_0x397690(0x845)][_0x397690(0xbc3)];handleStartLiveRace(_0x190073);}else{if(_0x5ecad3){const _0x2d2cf1=_0x5ecad3['dataset'][_0x397690(0xbc3)],_0x91ff4a=document[_0x397690(0x283)](_0x397690(0x7c8)+_0x2d2cf1);_0x91ff4a&&_0x91ff4a[_0x397690(0x605)][_0x397690(0xc7c)](_0x397690(0x9a0));}else{if(_0xc8b401){const _0x288dc6=_0xc8b401[_0x397690(0x845)]['quizId'],_0x34b83a=allQuizzes[_0x397690(0xe8)](_0x56031d=>_0x56031d['id']===_0x288dc6);_0x34b83a&&handleGenerateParallelPostTest(_0x34b83a);}else{if(_0x303731)handleCompareResults(_0x303731[_0x397690(0x845)][_0x397690(0xbc3)],_0x303731[_0x397690(0x845)][_0x397690(0xc92)]);else{if(_0x3f53fd){const _0x1c4de3=_0x3f53fd[_0x397690(0x845)][_0x397690(0xbc3)],_0x12e1c9=allQuizzes['find'](_0x5a0f98=>_0x5a0f98['id']===_0x1c4de3);_0x12e1c9&&_0x12e1c9[_0x397690(0x5d2)]?(displayLessonPlan(_0x12e1c9[_0x397690(0x5d2)],_0x12e1c9),showConfirmation(_0x397690(0x333),()=>handleGenerateLessonPlan(_0x1c4de3)),document[_0x397690(0x283)](_0x397690(0x44d))['querySelector']('h3')['textContent']=_0x397690(0x286),document[_0x397690(0x283)]('confirm-delete-btn')[_0x397690(0x1bd)]=_0x397690(0x8d0)):handleGenerateLessonPlan(_0x1c4de3);}else{if(_0x47c1b2)handleToggleStarQuiz(_0x47c1b2[_0x397690(0x845)][_0x397690(0xbc3)]);else{if(_0x12c169)copyTextToClipboard(_0x12c169[_0x397690(0x845)]['quizId'],'คัดลอกรหัสแล้ว!');else{if(_0x4a90ec)handleOpenQuizEditor(_0x4a90ec[_0x397690(0x845)][_0x397690(0xbc3)]);else{if(_0x2e4ef9)handleQuizSettings(_0x2e4ef9['dataset'][_0x397690(0xbc3)]);else{if(_0x30da35)handleDuplicateQuiz(_0x30da35[_0x397690(0x845)]['quizId']);else{if(_0x4dc355)handleRenameQuiz(_0x4dc355[_0x397690(0x845)]['quizId'],_0x4dc355[_0x397690(0x845)]['topic']);else{if(_0x412945){const _0x43f02c=_0x412945[_0x397690(0x845)]['quizId'],_0x25639c=allQuizzes[_0x397690(0xe8)](_0x281388=>_0x281388['id']===_0x43f02c);_0x25639c&&handleGenerateParallelFromBank(_0x25639c);}else{if(_0x24f89)handleMoveQuiz(_0x24f89[_0x397690(0x845)][_0x397690(0xbc3)]);else{if(_0x57797c)handleManualQuizPairing(_0x57797c['dataset']['quizId']);else{if(_0x3684b3)handleUnpairQuiz(_0x3684b3[_0x397690(0x845)][_0x397690(0xbc3)]);else{if(_0x5a21fd){const _0x11ec89=_0x5a21fd[_0x397690(0x845)][_0x397690(0xbc3)],_0x1ef31c=allQuizzes['find'](_0x263d74=>_0x263d74['id']===_0x11ec89);if(_0x1ef31c)startPresentation(_0x1ef31c);}else{if(_0x586387){const _0x191034=_0x586387['dataset']['quizId'],_0x51c58c=allQuizzes['find'](_0xe1112e=>_0xe1112e['id']===_0x191034);_0x51c58c&&(currentQuizData=_0x51c58c,startAdminTest());}else{if(_0x442ad8)actionTargetId=_0x442ad8[_0x397690(0x845)][_0x397690(0xbc3)],document[_0x397690(0x283)](_0x397690(0x139))[_0x397690(0x605)]['remove']('hidden');else{if(_0x986cd2)showConfirmation(_0x397690(0x3f7)+_0x986cd2[_0x397690(0x845)][_0x397690(0xe5f)]+_0x397690(0xaf5),()=>handleDeleteQuiz(_0x986cd2[_0x397690(0x845)]['quizId']));else{if(_0x551115)handleQuizStatus(_0x551115[_0x397690(0x845)][_0x397690(0xbc3)]);else{if(_0x1c9cb4)handleGenerateEasyVersionQuiz(_0x1c9cb4[_0x397690(0x845)][_0x397690(0xbc3)]);else _0x3802b3&&showQuizDetailView(_0x3802b3[_0x397690(0x845)][_0x397690(0xbc3)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x1945e5(0x283)]('cancel-team-selection-btn')[_0x1945e5(0x844)](_0x1945e5(0x425),()=>showView(_0x1945e5(0xae3))),document[_0x1945e5(0x283)](_0x1945e5(0x1c2))[_0x1945e5(0x844)](_0x1945e5(0x425),confirmAndStartTeamQuiz),document['getElementById'](_0x1945e5(0x28d))[_0x1945e5(0x1a6)](_0x1945e5(0x158))[_0x1945e5(0x844)](_0x1945e5(0x425),_0x3cf9ac=>{const _0xa4922c=_0x1945e5,_0x14e19a=_0x3cf9ac[_0xa4922c(0x543)][_0xa4922c(0x455)]('.sortable-header');if(!_0x14e19a||!_0x14e19a['dataset'][_0xa4922c(0x667)])return;const _0x46a741=_0x14e19a['dataset'][_0xa4922c(0x667)];if(quizLeaderboardSortBy===_0x46a741)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0xa4922c(0x863)?_0xa4922c(0x329):_0xa4922c(0x863);else{quizLeaderboardSortBy=_0x46a741;const _0x3fb6d6=[_0xa4922c(0x28e)];quizLeaderboardSortOrder=_0x3fb6d6[_0xa4922c(0x2e8)](_0x46a741)?'asc':_0xa4922c(0x329);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0xa4922c(0xd8b));}),document[_0x1945e5(0x283)](_0x1945e5(0x897))['addEventListener']('click',closePresentation),document[_0x1945e5(0x283)](_0x1945e5(0x989))['addEventListener'](_0x1945e5(0x425),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0x1945e5(0xe63))['addEventListener'](_0x1945e5(0x425),()=>{const _0x1ea7c9=_0x1945e5;currentQuizData[_0x1ea7c9(0x13f)]&&currentPresentationSlide<currentQuizData[_0x1ea7c9(0x13f)][_0x1ea7c9(0x110)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x1945e5(0x844)]('fullscreenchange',()=>{const _0x2330f4=_0x1945e5;!document[_0x2330f4(0x48a)]&&(presentationModal['style'][_0x2330f4(0x853)]='none');}),document[_0x1945e5(0x283)](_0x1945e5(0x23d))[_0x1945e5(0x844)](_0x1945e5(0x425),handleDeleteAllStudents),studentList[_0x1945e5(0x844)]('click',_0x1ff15e=>{const _0xadb54d=_0x1945e5,_0x539d30=_0x1ff15e[_0xadb54d(0x543)]['closest']('.delete-student-btn');if(_0x539d30){const _0xc077de=_0x539d30[_0xadb54d(0x845)][_0xadb54d(0x28e)];handleDeleteStudent(_0xc077de);}}),document[_0x1945e5(0x283)](_0x1945e5(0xed))[_0x1945e5(0x844)]('click',handleGenerateFromFileClick),fileUploadInput[_0x1945e5(0x844)](_0x1945e5(0xbb6),_0x11684c=>{const _0xbb016=_0x1945e5,_0x56c516=_0x11684c[_0xbb016(0x543)][_0xbb016(0x7a4)][0x0],_0x1b20d7=document['getElementById']('generate-from-file-btn'),_0x53951c=document[_0xbb016(0x283)](_0xbb016(0x857)),_0x3f5dcc=document[_0xbb016(0x283)](_0xbb016(0x2cd));_0x56c516?(selectedFile=_0x56c516,_0x3f5dcc['checked']?(_0x1b20d7[_0xbb016(0xc71)]=!![],analyzeFileForTopics(_0x56c516)):(_0x1b20d7[_0xbb016(0xc71)]=![],_0x53951c[_0xbb016(0x605)][_0xbb016(0xd74)](_0xbb016(0x9a0)))):(selectedFile=null,_0x1b20d7[_0xbb016(0xc71)]=!![],_0x53951c[_0xbb016(0x605)][_0xbb016(0xd74)](_0xbb016(0x9a0)));}),document[_0x1945e5(0x283)](_0x1945e5(0x2cd))[_0x1945e5(0x844)]('change',_0x2f583e=>{const _0x4e3eb5=_0x1945e5,_0x5c941f=_0x2f583e[_0x4e3eb5(0x543)][_0x4e3eb5(0x61b)],_0x47fc02=document[_0x4e3eb5(0x283)]('generate-from-file-btn'),_0x37700e=document[_0x4e3eb5(0x283)](_0x4e3eb5(0x857));_0x5c941f?(_0x47fc02[_0x4e3eb5(0xc71)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x37700e[_0x4e3eb5(0x605)][_0x4e3eb5(0x31b)](_0x4e3eb5(0x9a0)),document[_0x4e3eb5(0x283)](_0x4e3eb5(0xbc9))[_0x4e3eb5(0x545)]=_0x4e3eb5(0xdb8))):(_0x37700e['classList'][_0x4e3eb5(0xd74)](_0x4e3eb5(0x9a0)),_0x47fc02[_0x4e3eb5(0xc71)]=!selectedFile);}),document['getElementById'](_0x1945e5(0x857))[_0x1945e5(0x844)](_0x1945e5(0x425),_0x2e4aff=>{const _0x353ffe=_0x1945e5,_0x10006d=_0x2e4aff[_0x353ffe(0x543)][_0x353ffe(0x455)](_0x353ffe(0x3f5)),_0x4a6fd4=_0x2e4aff[_0x353ffe(0x543)]['closest'](_0x353ffe(0x57d));if(_0x10006d){const _0x411f3c=unescape(_0x10006d['dataset']['topic']);generateHybridQuizForTopic(_0x411f3c);}else{if(_0x4a6fd4){const _0x124614=unescape(_0x4a6fd4[_0x353ffe(0x845)]['topic']),_0x547c7e=document[_0x353ffe(0x283)](_0x353ffe(0xc58))[_0x353ffe(0xa89)];handleGenerateAndShowLesson(_0x124614,_0x547c7e);}}}),document[_0x1945e5(0x283)](_0x1945e5(0x713))[_0x1945e5(0x844)](_0x1945e5(0xbb6),_0x396c91=>{const _0x2fb536=_0x1945e5,_0x40bb30=document[_0x2fb536(0x283)](_0x2fb536(0x2ca)),_0x1c073f=document['getElementById'](_0x2fb536(0x39c)),_0x12107a=document['getElementById']('timer-duration-input');_0x396c91[_0x2fb536(0x543)][_0x2fb536(0xa89)]===_0x2fb536(0xdff)?_0x40bb30[_0x2fb536(0x605)][_0x2fb536(0xd74)](_0x2fb536(0x9a0)):(_0x40bb30[_0x2fb536(0x605)][_0x2fb536(0x31b)](_0x2fb536(0x9a0)),_0x396c91[_0x2fb536(0x543)][_0x2fb536(0xa89)]===_0x2fb536(0xcdf)?(_0x1c073f['textContent']='ระยะเวลา\x20(นาที):',_0x12107a[_0x2fb536(0xa89)]='10'):(_0x1c073f['textContent']='ระยะเวลา\x20(วินาที):',_0x12107a['value']='30'));}),document[_0x1945e5(0x283)](_0x1945e5(0x801))['addEventListener'](_0x1945e5(0xbb6),_0x4f3625=>{const _0x5a5108=_0x1945e5,_0x54c972=document[_0x5a5108(0x283)]('num-choices-container'),_0x4fb3af=_0x4f3625[_0x5a5108(0x543)][_0x5a5108(0xa89)],_0xbb034d=document[_0x5a5108(0x1a6)](_0x5a5108(0x560)),_0x2971e9=document['getElementById'](_0x5a5108(0x1ea)),_0x491972=document['getElementById'](_0x5a5108(0x92c));_0x4fb3af==='matching'?_0xbb034d[_0x5a5108(0x1bd)]=_0x5a5108(0x237):_0xbb034d[_0x5a5108(0x1bd)]=_0x5a5108(0x149),_0x4fb3af===_0x5a5108(0x6f2)||_0x4fb3af===_0x5a5108(0x161)||_0x4fb3af===_0x5a5108(0xd05)?_0x54c972[_0x5a5108(0x605)]['remove'](_0x5a5108(0x9a0)):_0x54c972['classList']['add'](_0x5a5108(0x9a0)),_0x2971e9[_0x5a5108(0x8c3)]=_0x491972[_0x5a5108(0xa89)];}),document[_0x1945e5(0x283)](_0x1945e5(0x92c))['addEventListener'](_0x1945e5(0x3df),_0x27eec3=>{const _0x416c2d=_0x1945e5;document[_0x416c2d(0x283)]('passing-score-input')[_0x416c2d(0x8c3)]=_0x27eec3[_0x416c2d(0x543)][_0x416c2d(0xa89)];}),document[_0x1945e5(0x283)](_0x1945e5(0x36f))[_0x1945e5(0x844)](_0x1945e5(0xbb6),_0x19b216=>{const _0x3b5fc9=_0x1945e5,_0x330f7c=document[_0x3b5fc9(0x283)](_0x3b5fc9(0x963)),_0x2deace=document[_0x3b5fc9(0x283)](_0x3b5fc9(0xe08)),_0x464e79=document['getElementById'](_0x3b5fc9(0x12b));_0x19b216[_0x3b5fc9(0x543)][_0x3b5fc9(0xa89)]==='none'?_0x330f7c[_0x3b5fc9(0x605)][_0x3b5fc9(0xd74)](_0x3b5fc9(0x9a0)):(_0x330f7c[_0x3b5fc9(0x605)][_0x3b5fc9(0x31b)](_0x3b5fc9(0x9a0)),_0x19b216[_0x3b5fc9(0x543)][_0x3b5fc9(0xa89)]==='whole_quiz'?_0x2deace['textContent']=_0x3b5fc9(0xa4e):_0x2deace[_0x3b5fc9(0x1bd)]='ระยะเวลา\x20(วินาที):');}),document[_0x1945e5(0x283)](_0x1945e5(0xa49))[_0x1945e5(0x844)](_0x1945e5(0x425),()=>{const _0x4f8128=_0x1945e5;document[_0x4f8128(0x283)]('quiz-editor-modal')[_0x4f8128(0x605)][_0x4f8128(0xd74)](_0x4f8128(0x9a0));}),document[_0x1945e5(0x283)](_0x1945e5(0x3d6))[_0x1945e5(0x844)](_0x1945e5(0x425),()=>{const _0x554afd=_0x1945e5;document['getElementById'](_0x554afd(0x563))['classList'][_0x554afd(0xd74)]('hidden');}),document[_0x1945e5(0x283)](_0x1945e5(0x184))[_0x1945e5(0x844)]('click',handleVerifyAnswersInEditor),document[_0x1945e5(0x283)]('save-quiz-edits-btn')[_0x1945e5(0x844)]('click',()=>{const _0x56c99f=_0x1945e5;document[_0x56c99f(0x283)](_0x56c99f(0x563))['classList'][_0x56c99f(0xd74)](_0x56c99f(0x9a0)),showConfirmation(_0x56c99f(0x837),handleSaveChanges);}),document[_0x1945e5(0x283)](_0x1945e5(0xbb0))['addEventListener']('click',handleAutoFixLatex);const _0x153720=document[_0x1945e5(0x283)](_0x1945e5(0x720));_0x153720&&_0x153720[_0x1945e5(0x844)](_0x1945e5(0x425),_0x357034=>{const _0x35957e=_0x1945e5,_0x4a19b1=_0x357034['target'][_0x35957e(0x455)](_0x35957e(0x593));if(_0x4a19b1){const _0x4ab874=_0x4a19b1[_0x35957e(0x455)]('.question-editor-item'),_0x17a58b=parseInt(_0x4ab874['dataset'][_0x35957e(0x3e7)],0xa);handleRegenerateQuestionInEditor(_0x17a58b);return;}const _0x13ec52=_0x357034['target']['closest'](_0x35957e(0x4ed));if(_0x13ec52){const _0x16feaf=_0x13ec52[_0x35957e(0x455)](_0x35957e(0x48d)),_0x4f685b=parseInt(_0x16feaf[_0x35957e(0x845)][_0x35957e(0x3e7)],0xa);handleDeleteQuestionInEditor(_0x4f685b);return;}const _0x166010=_0x357034[_0x35957e(0x543)]['closest']('#add-question-editor-btn');if(_0x166010){handleAddQuestionInEditor();return;}});document['getElementById'](_0x1945e5(0x82a))[_0x1945e5(0x844)]('click',openQuizBankModal),document['getElementById']('cancel-quiz-bank-btn')[_0x1945e5(0x844)](_0x1945e5(0x425),()=>{const _0x8ca592=_0x1945e5;document[_0x8ca592(0x283)](_0x8ca592(0x83d))[_0x8ca592(0x605)][_0x8ca592(0xd74)](_0x8ca592(0x9a0));}),document[_0x1945e5(0x283)](_0x1945e5(0x4d9))[_0x1945e5(0x844)]('input',_0x37ddf9=>renderQuizBankList(_0x37ddf9[_0x1945e5(0x543)][_0x1945e5(0xa89)]));const _0x5cbed0=document[_0x1945e5(0x283)]('math-topics-checkbox-container');if(_0x5cbed0){let _0x16059b=null;_0x5cbed0[_0x1945e5(0x844)]('click',_0x58bf2d=>{const _0x58aa45=_0x1945e5,_0x360166=_0x58bf2d[_0x58aa45(0x543)],_0x510fc6=_0x360166['closest'](_0x58aa45(0x558)),_0x5e4d96=_0x360166[_0x58aa45(0x455)]('.delete-custom-topic-btn'),_0x27b357=_0x360166[_0x58aa45(0x455)]('.save-custom-topic-btn'),_0x1b3a49=_0x360166[_0x58aa45(0x455)](_0x58aa45(0xb7d));if(_0x5e4d96){_0x58bf2d[_0x58aa45(0xde6)]();const _0x163026=_0x5e4d96['dataset']['id'],_0x59a166=_0x5e4d96[_0x58aa45(0x455)](_0x58aa45(0x5e2))['querySelector']('.topic-name-display')['textContent'];showConfirmation(_0x58aa45(0x91c)+_0x59a166+'\x22?',()=>handleDeleteCustomTopic(_0x163026));}else{if(_0x510fc6){_0x58bf2d['preventDefault']();_0x16059b&&toggleTopicEditMode(_0x16059b,![]);const _0x541fc9=_0x510fc6[_0x58aa45(0x455)](_0x58aa45(0x318));_0x16059b=_0x541fc9,toggleTopicEditMode(_0x541fc9,!![]);}else{if(_0x27b357){_0x58bf2d[_0x58aa45(0xde6)]();const _0x2e4a74=_0x27b357[_0x58aa45(0x845)]['id'],_0x15cbb6=_0x27b357[_0x58aa45(0x455)]('[data-topic-container-id]'),_0x6f095b=_0x15cbb6['querySelector'](_0x58aa45(0x68c))[_0x58aa45(0xa89)];handleUpdateCustomTopic(_0x2e4a74,_0x6f095b),_0x16059b=null;}else{if(_0x1b3a49){_0x58bf2d[_0x58aa45(0xde6)]();const _0x5c24a4=_0x1b3a49[_0x58aa45(0x455)](_0x58aa45(0x318));toggleTopicEditMode(_0x5c24a4,![]),_0x16059b=null;}}}}}),document[_0x1945e5(0x283)](_0x1945e5(0xaea))['addEventListener'](_0x1945e5(0x425),()=>{const _0x21efde=_0x1945e5;document[_0x21efde(0x283)](_0x21efde(0xc8))[_0x21efde(0x605)][_0x21efde(0xd74)]('hidden');}),document[_0x1945e5(0x283)](_0x1945e5(0x7b0))[_0x1945e5(0x844)](_0x1945e5(0x425),()=>{const _0x46720d=_0x1945e5;document['getElementById'](_0x46720d(0xc8))[_0x46720d(0x605)]['add'](_0x46720d(0x9a0));}),document[_0x1945e5(0x283)]('export-lesson-pdf-btn')[_0x1945e5(0x844)](_0x1945e5(0x425),handleExportLessonPDF);}document['getElementById'](_0x1945e5(0x15b))[_0x1945e5(0x844)](_0x1945e5(0x425),()=>{const _0x264b2e=_0x1945e5;document[_0x264b2e(0x283)](_0x264b2e(0x511))[_0x264b2e(0x605)]['add'](_0x264b2e(0x9a0));}),document[_0x1945e5(0x283)](_0x1945e5(0x7b7))[_0x1945e5(0x844)](_0x1945e5(0x425),()=>{const _0x4f7797=_0x1945e5;document[_0x4f7797(0x283)](_0x4f7797(0x511))[_0x4f7797(0x605)]['add'](_0x4f7797(0x9a0));}),setupComparisonModalTabs(),document[_0x1945e5(0x379)]['addEventListener'](_0x1945e5(0x425),function(_0x256a5a){const _0x39d844=_0x1945e5;if(_0x256a5a[_0x39d844(0x543)][_0x39d844(0x605)][_0x39d844(0x5a0)]('practice-topic-btn')){const _0x5389dc=unescape(_0x256a5a[_0x39d844(0x543)][_0x39d844(0x845)][_0x39d844(0xe5f)]);startSkillPractice(_0x5389dc);}}),document[_0x1945e5(0x283)](_0x1945e5(0xab))[_0x1945e5(0x844)](_0x1945e5(0x425),_0xb13c60=>{const _0x3aca8f=_0x1945e5,_0xc2004c=_0xb13c60[_0x3aca8f(0x543)][_0x3aca8f(0x455)](_0x3aca8f(0x25e));if(_0xc2004c){const _0x170fef=_0xc2004c['dataset']['studentName'];handleDeleteSubmission(_0x170fef);return;}const _0x318513=_0xb13c60['target']['closest'](_0x3aca8f(0x958));if(_0x318513){const _0x8e2954=_0x318513['dataset'][_0x3aca8f(0x28e)],_0x3454e3=_0x318513['dataset'][_0x3aca8f(0x800)],_0x4cad5e=prompt(_0x3aca8f(0x815)+_0x8e2954+'\x22\x0a(ใส่ค่าเดิมที่ถูกต้องลงไป)',_0x3454e3);if(_0x4cad5e!==null&&_0x4cad5e[_0x3aca8f(0xc29)]()!==''){const _0x4f8c0f=parseInt(_0x4cad5e,0xa);!isNaN(_0x4f8c0f)?handleManualEditPoints(_0x8e2954,_0x4f8c0f):alert(_0x3aca8f(0x1ee));}}}),document[_0x1945e5(0x283)](_0x1945e5(0x2aa))?.[_0x1945e5(0x844)](_0x1945e5(0x425),()=>{const _0x5a1128=_0x1945e5;document['getElementById'](_0x5a1128(0xa2c))[_0x5a1128(0x605)][_0x5a1128(0xd74)](_0x5a1128(0x9a0));}),document[_0x1945e5(0x68a)]('.pin-key')['forEach'](_0x5ae2cf=>{const _0x3ba850=_0x1945e5;_0x5ae2cf[_0x3ba850(0x844)](_0x3ba850(0x425),()=>{const _0x33f39c=_0x3ba850;handlePinKeyPress(_0x5ae2cf[_0x33f39c(0x845)]['val']);});}),document[_0x1945e5(0x283)]('pin-backspace-btn')?.[_0x1945e5(0x844)]('click',()=>{handlePinKeyPress('backspace');});}async function handleStartGroupMode(_0x245593,_0x793aca=![]){const _0x20c9ec=_0x3db3a6,_0x240517=allQuizzes['find'](_0x20e3a8=>_0x20e3a8['id']===_0x245593)||allQuizzesGlobal['find'](_0x3f5164=>_0x3f5164['id']===_0x245593);if(!_0x240517){showMessage(_0x20c9ec(0x393));return;}currentQuizData=getShuffledQuiz(_0x240517);const _0x56faf7=Math['floor'](0x3e8+Math[_0x20c9ec(0x2cc)]()*0x2328)[_0x20c9ec(0x99d)]();try{const _0x5c687e=await addDoc(collection(db,_0x20c9ec(0x981)+appId+'/public/data/teamQuizzes'),{'quizId':_0x240517['id'],'projectId':_0x240517['projectId'],'status':_0x20c9ec(0xd8),'pin':_0x56faf7,'mode':'group','createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x793aca});currentTeamQuizId=_0x5c687e['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x56faf7,_0x240517[_0x20c9ec(0xe5f)],_0x20c9ec(0xa56)),listenForTeamQuizUpdates();}catch(_0x165623){console[_0x20c9ec(0xe4d)](_0x20c9ec(0x6b2),_0x165623),showMessage(_0x20c9ec(0x35d));}}async function showStudentProgressView(){const _0x30ce61=_0x3db3a6;studentInitialView[_0x30ce61(0x605)][_0x30ce61(0xd74)](_0x30ce61(0x9a0)),document[_0x30ce61(0x283)]('student-progress-view')[_0x30ce61(0x605)][_0x30ce61(0x31b)]('hidden');const _0x146a82=document[_0x30ce61(0x283)](_0x30ce61(0x4d1)),_0x548477=document[_0x30ce61(0x283)](_0x30ce61(0x292)),_0x4fa9d2=document['getElementById'](_0x30ce61(0x396));_0x4fa9d2[_0x30ce61(0x545)]=_0x30ce61(0xb97),_0x548477[_0x30ce61(0x545)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x548477[_0x30ce61(0xc71)]=!![],_0x146a82[_0x30ce61(0x545)]='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects[_0x30ce61(0x110)]===0x0){const _0xf72397=collection(db,_0x30ce61(0x981)+appId+'/public/data/projects'),_0x171a86=await getDocs(_0xf72397);allProjects=_0x171a86['docs'][_0x30ce61(0x87e)](_0x3b5fc7=>({'id':_0x3b5fc7['id'],..._0x3b5fc7[_0x30ce61(0x366)]()}));}const _0xbb5b29=allProjects[_0x30ce61(0x1a1)](_0x410403=>_0x410403[_0x30ce61(0x477)]?.[_0x30ce61(0x3b0)]!==![]);_0xbb5b29[_0x30ce61(0x667)]((_0x35392d,_0x2ad31a)=>_0x35392d['projectName'][_0x30ce61(0x879)](_0x2ad31a[_0x30ce61(0xe60)],'th')),_0x146a82['innerHTML']=_0x30ce61(0xc3)+_0xbb5b29[_0x30ce61(0x87e)](_0x230a8d=>_0x30ce61(0x4cc)+_0x230a8d['id']+'\x22>'+_0x230a8d['projectName']+_0x30ce61(0xc4e))['join'](''),_0x146a82[_0x30ce61(0x548)]=()=>{const _0x220630=_0x30ce61,_0x51f92f=_0x548477[_0x220630(0xa89)],_0x2d8c70=_0x146a82['value'];_0x548477[_0x220630(0xc71)]=!![],_0x548477[_0x220630(0x545)]=_0x220630(0xced),_0x4fa9d2[_0x220630(0x545)]=_0x220630(0x3c1);if(!_0x2d8c70)return;const _0x29b4af=allProjects[_0x220630(0xe8)](_0x368377=>_0x368377['id']===_0x2d8c70);if(!_0x29b4af||!_0x29b4af['students'])return;const _0x45e6c4=()=>{const _0x372393=_0x220630;_0x548477[_0x372393(0x545)]=_0x372393(0xced)+_0x29b4af[_0x372393(0x138)][_0x372393(0x87e)](_0x2f7c68=>_0x372393(0x4cc)+_0x2f7c68+'\x22>'+_0x2f7c68+_0x372393(0xc4e))[_0x372393(0xd6e)](''),_0x548477[_0x372393(0xc71)]=![];const _0x1f1a38=Array[_0x372393(0x4e4)](_0x548477[_0x372393(0xbed)])[_0x372393(0x87e)](_0xc49896=>_0xc49896[_0x372393(0xa89)]);if(_0x51f92f&&_0x1f1a38[_0x372393(0x2e8)](_0x51f92f))_0x548477[_0x372393(0xa89)]=_0x51f92f,_0x548477[_0x372393(0xcb)](new Event(_0x372393(0xbb6)));else _0x29b4af[_0x372393(0x138)][_0x372393(0x110)]===0x1&&(_0x548477[_0x372393(0xa89)]=_0x29b4af[_0x372393(0x138)][0x0],_0x548477['dispatchEvent'](new Event(_0x372393(0xbb6))));};if(_0x29b4af['settings']?.[_0x220630(0x8f7)]){if(sessionStorage['getItem'](_0x220630(0x529)+_0x2d8c70)===_0x220630(0x503)){_0x45e6c4();return;}const _0x56f258=document[_0x220630(0x283)]('project-passcode-modal'),_0x385919=document['getElementById']('confirm-passcode-btn'),_0x12945f=document['getElementById'](_0x220630(0xadb)),_0xbd31d2=document['getElementById'](_0x220630(0xa57)),_0x159005=document[_0x220630(0x283)](_0x220630(0xe35));document[_0x220630(0x283)](_0x220630(0x540))['textContent']='สำหรับโปรเจค:\x20'+_0x29b4af['projectName'],_0xbd31d2[_0x220630(0xa89)]='',_0x159005['classList']['add'](_0x220630(0x9a0)),_0x56f258['classList'][_0x220630(0x31b)]('hidden');const _0x70c7b8=()=>{const _0x241581=_0x220630,_0x133e76=_0xbd31d2['value'][_0x241581(0xc29)]();_0x133e76===_0x29b4af[_0x241581(0x477)][_0x241581(0x2a9)]?(sessionStorage[_0x241581(0xba0)](_0x241581(0x529)+_0x2d8c70,'true'),_0x56f258[_0x241581(0x605)][_0x241581(0xd74)](_0x241581(0x9a0)),_0x45e6c4(),_0x385919['removeEventListener'](_0x241581(0x425),_0x70c7b8)):_0x159005[_0x241581(0x605)]['remove'](_0x241581(0x9a0));};_0x385919[_0x220630(0x74a)]=_0x70c7b8,_0x12945f[_0x220630(0x74a)]=()=>{const _0x58ef27=_0x220630;_0x56f258[_0x58ef27(0x605)][_0x58ef27(0xd74)](_0x58ef27(0x9a0)),_0x146a82['value']='',_0x385919[_0x58ef27(0xe2c)](_0x58ef27(0x425),_0x70c7b8);};}else _0x45e6c4();},_0x548477[_0x30ce61(0x548)]=()=>{const _0x11c412=_0x30ce61,_0x5ccfbe=_0x146a82[_0x11c412(0xa89)],_0x30a2ae=_0x548477[_0x11c412(0xa89)];_0x5ccfbe&&_0x30a2ae&&renderStudentProgressDashboard(_0x5ccfbe,_0x30a2ae);};}async function confirmAndJoinSyncGame(){const _0x1f9c3f=_0x3db3a6;lastSeenQuestionIndex=-0x1,sessionStorage[_0x1f9c3f(0xdc2)]('pollUsedThisTurn'),sessionStorage[_0x1f9c3f(0xdc2)](_0x1f9c3f(0x50c)),Object[_0x1f9c3f(0x598)](sessionStorage)[_0x1f9c3f(0x277)](_0x3fb5a7=>{const _0x4808a7=_0x1f9c3f;(_0x3fb5a7[_0x4808a7(0x9bd)](_0x4808a7(0xc40))||_0x3fb5a7[_0x4808a7(0x9bd)]('powerupUsed_q')||_0x3fb5a7[_0x4808a7(0x9bd)](_0x4808a7(0x16f)))&&sessionStorage['removeItem'](_0x3fb5a7);});const _0x348fc4=[...orderedPlayerSelection];if(_0x348fc4[_0x1f9c3f(0x110)]===0x0){showMessage(_0x1f9c3f(0xbe1));return;}localTeamPlayers=_0x348fc4,localPlayerTurnIndex=0x0,cachedPlayerData={};try{const _0x17399f=writeBatch(db),_0x47165=serverTimestamp();for(const _0x5dbe6f of _0x348fc4){const _0x1b3ee6=doc(db,_0x1f9c3f(0x981)+appId+_0x1f9c3f(0x395)+currentLiveGameId+_0x1f9c3f(0x25a),_0x5dbe6f),_0x10772d=await getDoc(_0x1b3ee6);if(_0x10772d[_0x1f9c3f(0xaed)]())_0x17399f[_0x1f9c3f(0xd55)](_0x1b3ee6,{'status':'active'});else{const _0x55fc36={'name':_0x5dbe6f,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0,'revealOptions':0x0},'answered':![],'status':'active','answers':[],'joinedAt':_0x47165,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};_0x17399f[_0x1f9c3f(0xb94)](_0x1b3ee6,_0x55fc36);}}await _0x17399f[_0x1f9c3f(0x85d)](),showView('live-game'),document['getElementById']('student-team-selection-view')['classList']['add'](_0x1f9c3f(0x9a0)),currentStudentName=_0x348fc4[0x0],listenForSyncGameUpdates();const _0x49ef33={'gameId':currentLiveGameId,'mode':_0x1f9c3f(0xa8e),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x1f9c3f(0xba0)](_0x1f9c3f(0xd4d),JSON[_0x1f9c3f(0x6b3)](_0x49ef33)),currentMode!==_0x1f9c3f(0x983)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener']('fullscreenchange',handleFullscreenChange),document['addEventListener']('visibilitychange',handleVisibilityChange),enterFullscreen(),window[_0x1f9c3f(0x844)](_0x1f9c3f(0x19e),resetDimTimer),window[_0x1f9c3f(0x844)](_0x1f9c3f(0xb3b),resetDimTimer),window['addEventListener'](_0x1f9c3f(0x109),resetDimTimer),window[_0x1f9c3f(0x844)](_0x1f9c3f(0x4fe),resetDimTimer),resetDimTimer());}catch(_0x2da569){console['error'](_0x1f9c3f(0x7d7),_0x2da569),showMessage(_0x1f9c3f(0x7bb)+_0x2da569[_0x1f9c3f(0x226)]);}}async function resumeActiveGameSession(){const _0x46fd53=_0x3db3a6,_0x432001=sessionStorage[_0x46fd53(0x901)]('activeGameSession');if(!_0x432001)return;const _0xae08fc=JSON[_0x46fd53(0x11c)](_0x432001),{gameId:_0x244559,mode:_0x5e31e5,role:_0x4a76f8,players:_0x5e9b54,turnIndex:_0x5c2a77}=_0xae08fc;try{if(_0x4a76f8===_0x46fd53(0xa9)&&_0x5e31e5===_0x46fd53(0xa8e)){const _0x136d60=doc(db,_0x46fd53(0x981)+appId+_0x46fd53(0x7f8),_0x244559),_0x6b6428=await getDoc(_0x136d60);if(!_0x6b6428[_0x46fd53(0xaed)]()||_0x6b6428['data']()['status']==='podium'||_0x6b6428[_0x46fd53(0x366)]()[_0x46fd53(0x360)]===_0x46fd53(0x6d8)){sessionStorage[_0x46fd53(0xdc2)](_0x46fd53(0xd4d));return;}console['log'](_0x46fd53(0xb36)+_0x244559+')'),currentMode=_0x46fd53(0xa9),currentLiveGameId=_0x244559,currentQuizData=_0x6b6428[_0x46fd53(0x366)]()['shuffledQuiz'],showView(_0x46fd53(0x939)),listenForSyncGameUpdates();}else{if(_0x5e31e5===_0x46fd53(0xa8e)&&_0x5e9b54){const _0x49e107=doc(db,_0x46fd53(0x981)+appId+_0x46fd53(0x7f8),_0x244559),_0x588f26=await getDoc(_0x49e107);if(!_0x588f26['exists']()||_0x588f26[_0x46fd53(0x366)]()[_0x46fd53(0x360)]===_0x46fd53(0x46f)||_0x588f26[_0x46fd53(0x366)]()[_0x46fd53(0x360)]===_0x46fd53(0x6d8)){sessionStorage[_0x46fd53(0xdc2)](_0x46fd53(0xd4d));return;}console['log']('กำลังกลับเข้าสู่เกม\x20(Player)\x20(ID:\x20'+_0x244559+')'),currentLiveGameId=_0x244559,currentStudentName=_0x5e9b54[0x0],localTeamPlayers=_0x5e9b54,showView(_0x46fd53(0x939)),listenForSyncGameUpdates();}else{if((_0x5e31e5==='team'||_0x5e31e5==='group')&&_0x5e9b54){const _0x23dbd2=doc(db,_0x46fd53(0x981)+appId+_0x46fd53(0x266),_0x244559),_0xc113b7=await getDoc(_0x23dbd2);if(!_0xc113b7[_0x46fd53(0xaed)]()||_0xc113b7[_0x46fd53(0x366)]()[_0x46fd53(0x360)]==='podium'||_0xc113b7[_0x46fd53(0x366)]()[_0x46fd53(0x360)]==='finished'){sessionStorage[_0x46fd53(0xdc2)]('activeGameSession');return;}console[_0x46fd53(0x6e6)]('กำลังกลับเข้าสู่เกม\x20'+_0x5e31e5+_0x46fd53(0xdf2)+_0x244559+')'),currentTeamQuizId=_0x244559,localTeamPlayers=_0x5e9b54,localQuestionIndex=_0xae08fc['questionIndex']||0x0,localPlayerIndex=_0xae08fc[_0x46fd53(0x228)]||0x0;const _0x5bb246=_0xc113b7['data'](),_0x357342=doc(db,_0x46fd53(0x981)+appId+_0x46fd53(0x8e0),_0x5bb246[_0x46fd53(0xbc3)]),_0xa2f49=await getDoc(_0x357342);_0xa2f49[_0x46fd53(0xaed)]()&&(currentQuizData=getShuffledQuiz({'id':_0xa2f49['id'],..._0xa2f49[_0x46fd53(0x366)]()}),showView('student'),studentInitialView[_0x46fd53(0x605)]['add'](_0x46fd53(0x9a0)),_0x5e31e5===_0x46fd53(0xa56)?renderGroupModeQuestion():renderTeamQuizQuestion(),listenForTeamQuizUpdates());}}}}catch(_0x5d8508){console[_0x46fd53(0xe4d)](_0x46fd53(0x203),_0x5d8508),sessionStorage[_0x46fd53(0xdc2)](_0x46fd53(0xd4d));}}async function handleUsePowerup(_0xf8db15,_0x2a577c,_0x5ba326,_0x240f0c,_0x2812af){const _0x35cd65=_0x3db3a6,_0x47e502=_0x240f0c[_0x35cd65(0x854)],_0xf9b40a=_0x35cd65(0xa4c)+_0x47e502+'_p'+_0xf8db15,_0x2445e6=sessionStorage['getItem'](_0xf9b40a);if(_0x2445e6&&_0x2a577c!=='buyTime'&&_0x2a577c!==_0x35cd65(0x565)){showMessage(_0x35cd65(0x15c));const _0x2d96eb=document[_0x35cd65(0x283)](_0x35cd65(0x553)+_0x2a577c);if(_0x2d96eb)_0x2d96eb['disabled']=![];return;}if(_0x2a577c===_0x35cd65(0xc8e)){sessionStorage['setItem'](_0xf9b40a,_0x2a577c),playSystemSound(_0x35cd65(0xdb1)),renderStudentSyncQuestionView(_0x240f0c);return;}const _0x30718d=doc(db,_0x35cd65(0x981)+appId+_0x35cd65(0x395)+currentLiveGameId+_0x35cd65(0x25a),_0xf8db15);try{await runTransaction(db,async _0x1119b8=>{const _0x2642cf=_0x35cd65,_0xa3b3b5=await _0x1119b8[_0x2642cf(0xc72)](_0x30718d);if(!_0xa3b3b5[_0x2642cf(0xaed)]())throw'ไม่พบข้อมูลผู้เล่น';const _0x1e17db=_0xa3b3b5['data'](),_0x1f1bbb=_0x1e17db[_0x2642cf(0xb4c)]||{},_0x31d062=_0x1f1bbb[_0x2a577c]||0x0;if(_0x31d062<=0x0)throw _0x2642cf(0xda2);const _0x564b26={};_0x564b26[_0x2642cf(0x77f)+_0x2a577c]=increment(-0x1);_0x2a577c!==_0x2642cf(0xc8e)&&(_0x564b26[_0x2642cf(0xa2e)]=0x0);if(_0x2a577c===_0x2642cf(0x828)){const _0x5531dc=(_0x240f0c['timerDuration']||0xf0)*0x3e8,_0xb64345=_0x5531dc*0.25;_0x564b26[_0x2642cf(0x132)]=increment(_0xb64345);}_0x1119b8['update'](_0x30718d,_0x564b26);}),_0x2a577c==='poll'&&sessionStorage['setItem']('pollUsedThisTurn',_0x35cd65(0x503)),_0x2a577c!==_0x35cd65(0x828)&&_0x2a577c!==_0x35cd65(0x565)&&sessionStorage[_0x35cd65(0xba0)](_0xf9b40a,_0x2a577c),playSystemSound(_0x35cd65(0xdb1)),applyPowerupEffect(_0xf8db15,_0x2a577c,_0x5ba326,_0x240f0c,_0x2812af),(_0x2a577c===_0x35cd65(0x90a)||_0x2a577c==='fiftyFifty'||_0x2a577c===_0x35cd65(0x7d6)||_0x2a577c===_0x35cd65(0xaa8))&&renderStudentSyncQuestionView(_0x240f0c),_0x2a577c!==_0x35cd65(0xc8e)&&_0x2812af[_0x35cd65(0xa2e)]>0x0&&showMessage(_0x35cd65(0xb2f)+_0x2a577c+_0x35cd65(0x576));}catch(_0x19f293){console[_0x35cd65(0xe4d)]('Powerup\x20use\x20failed:',_0x19f293),showMessage(typeof _0x19f293===_0x35cd65(0x89a)?_0x19f293:_0x35cd65(0xa59));const _0x1f1bf3=document[_0x35cd65(0x283)](_0x35cd65(0x553)+_0x2a577c);if(_0x1f1bf3)_0x1f1bf3[_0x35cd65(0xc71)]=![];}}async function getCachedOtherPlayers(_0x1c2689,_0x249e37){const _0x2360de=_0x3db3a6,_0x54b141=_0x1c2689[_0x2360de(0x854)];if(cachedOtherPlayersForQuestion&&cachedQuestionIndexForPlayers===_0x54b141)return console['log'](_0x2360de(0x9f3)),cachedOtherPlayersForQuestion;console[_0x2360de(0x6e6)](_0x2360de(0xc6e));const _0x324329=collection(db,_0x2360de(0x981)+appId+_0x2360de(0x395)+currentLiveGameId+_0x2360de(0x25a)),_0x426acf=query(_0x324329,where(_0x2360de(0x360),'==',_0x2360de(0xcce))),_0x5c07ff=await getDocs(_0x426acf),_0x374e8d=[];return _0x5c07ff['forEach'](_0x31d27e=>{const _0x376527=_0x2360de,_0x42f917=_0x31d27e['data']();_0x374e8d[_0x376527(0x827)](_0x42f917);}),cachedOtherPlayersForQuestion=_0x374e8d,cachedQuestionIndexForPlayers=_0x54b141,_0x374e8d;}async function applyPowerupEffect(_0x5530e4,_0x982fc4,_0x5cff56,_0x4d3ab8,_0x49da03){const _0xe65df4=_0x3db3a6,_0x3a2b04=_0x5cff56,_0x959a09=_0x4d3ab8[_0xe65df4(0x854)];switch(_0x982fc4){case _0xe65df4(0xc8e):showMessage(_0xe65df4(0xc1f));break;case'secondChance':showMessage(_0xe65df4(0x2af));break;case'buyTime':const _0x460eff=(_0x4d3ab8['timerDuration']||0xf0)*0.25;showMessage('⏳\x20ซื้อเวลาสำเร็จ!\x20ได้เพิ่ม\x20'+_0x460eff+_0xe65df4(0x95e));break;case _0xe65df4(0x90a):case _0xe65df4(0xb8d):const _0x3cebc0=document['querySelectorAll']('.live-answer-btn');if(_0x3cebc0[_0xe65df4(0x110)]===0x0){showMessage(_0xe65df4(0x659));return;}const _0x10a14a=_0xe65df4(0x16f)+_0x959a09+'_p'+_0x5530e4,_0x5778ae=JSON['parse'](sessionStorage[_0xe65df4(0x901)](_0x10a14a)||'[]');let _0x4338e3;const _0x52038a=_0x3a2b04['questionType']||_0x4d3ab8[_0xe65df4(0x84d)][_0xe65df4(0x461)];_0x52038a===_0xe65df4(0x50e)?_0x4338e3=String(_0x3a2b04[_0xe65df4(0xad1)])[_0xe65df4(0xa8)]()==='true'?0x0:0x1:_0x4338e3=_0x3a2b04['correctAnswerIndex'];const _0x4e093a=Array[_0xe65df4(0x4e4)](_0x3cebc0)[_0xe65df4(0x1a1)](_0x198cbf=>parseInt(_0x198cbf[_0xe65df4(0x845)]['value'])!==_0x4338e3&&!_0x5778ae[_0xe65df4(0x2e8)](_0x198cbf[_0xe65df4(0x845)][_0xe65df4(0xa89)]));if(_0x4e093a['length']===0x0){showMessage('ไม่เหลือตัวเลือกผิดให้ตัดแล้วครับ!');return;}shuffleArray(_0x4e093a);const _0xfdb310=_0x982fc4==='cutOne'?0x1:0x2,_0x3a5ca3=[];for(let _0x118953=0x0;_0x118953<_0xfdb310;_0x118953++){_0x4e093a[_0x118953]&&(_0x4e093a[_0x118953][_0xe65df4(0x605)][_0xe65df4(0xd74)](_0xe65df4(0x9a0)),_0x3a5ca3[_0xe65df4(0x827)](_0x4e093a[_0x118953][_0xe65df4(0x845)][_0xe65df4(0xa89)]));}const _0xfced=[..._0x5778ae,..._0x3a5ca3];sessionStorage['setItem'](_0x10a14a,JSON[_0xe65df4(0x6b3)](_0xfced)),showMessage(_0x982fc4==='cutOne'?_0xe65df4(0xaf8):_0xe65df4(0x269));break;default:showMessage(_0xe65df4(0xbbf)+_0x982fc4+_0xe65df4(0xac8));}}async function handleForceConfident(_0x13e3b6,_0x32f01b){const _0x5a29d4=_0x3db3a6;if(!currentLiveGameId||!_0x13e3b6)return;const _0x184ef6=doc(db,_0x5a29d4(0x981)+appId+_0x5a29d4(0x395)+currentLiveGameId+'/players',_0x13e3b6);try{await updateDoc(_0x184ef6,{'isForcedConfident':!![]}),showMessage('ใช้\x20\x22บังคับมั่นใจ\x22\x20กับ\x20'+_0x32f01b+_0x5a29d4(0xbc0));}catch(_0x542f07){console[_0x5a29d4(0xe4d)](_0x5a29d4(0xc20),_0x542f07),showMessage(_0x5a29d4(0xff));}}async function handleRefundPowerup(_0x2212c8,_0x4d6f8c){const _0x5e2235=_0x3db3a6,_0x46579e=doc(db,_0x5e2235(0x981)+appId+_0x5e2235(0x395)+currentLiveGameId+_0x5e2235(0x25a),_0x2212c8);try{const _0x54e2a2={};_0x54e2a2['powerups.'+_0x4d6f8c]=increment(0x1),await updateDoc(_0x46579e,_0x54e2a2),console[_0x5e2235(0x6e6)]('Refunded\x20'+_0x4d6f8c+_0x5e2235(0x9e0)+_0x2212c8);}catch(_0x50be69){console[_0x5e2235(0xe4d)]('Failed\x20to\x20refund\x20powerup:',_0x50be69);}}async function handleApplyJinx(_0x527522,_0xd5cbf1){const _0x40234a=_0x3db3a6;if(!currentLiveGameId||!_0x527522)return;const _0x3ce14a=doc(db,'artifacts/'+appId+_0x40234a(0x395)+currentLiveGameId+_0x40234a(0x25a),_0x527522);try{await updateDoc(_0x3ce14a,{'isJinxed':!![]}),showMessage(_0x40234a(0x625)+_0xd5cbf1+_0x40234a(0xbc0));}catch(_0x54cc26){console[_0x40234a(0xe4d)](_0x40234a(0xb17),_0x54cc26),showMessage('เกิดข้อผิดพลาดในการใช้ไอเทม');}}function activateFileInputAreaWithLoadedFile(){const _0x4ab158=_0x3db3a6,_0xc4416c=document[_0x4ab158(0x283)](_0x4ab158(0xed)),_0x4251a3=document[_0x4ab158(0x283)](_0x4ab158(0x857)),_0x19e96c=document[_0x4ab158(0x283)](_0x4ab158(0x2cd));selectedFile?_0x19e96c[_0x4ab158(0x61b)]?(_0xc4416c[_0x4ab158(0xc71)]=!![],analyzeFileForTopics(selectedFile)):(_0xc4416c[_0x4ab158(0xc71)]=![],_0x4251a3[_0x4ab158(0x605)][_0x4ab158(0xd74)](_0x4ab158(0x9a0))):(_0xc4416c[_0x4ab158(0xc71)]=!![],_0x4251a3[_0x4ab158(0x605)][_0x4ab158(0xd74)](_0x4ab158(0x9a0)));}async function handleKickPlayerSync(_0x5c8d49){const _0x5b7bb3=_0x3db3a6;if(!currentLiveGameId||!_0x5c8d49)return;const _0xde7809=doc(db,_0x5b7bb3(0x981)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x5b7bb3(0x25a),_0x5c8d49);try{await updateDoc(_0xde7809,{'status':'inactive'});}catch(_0x430dea){console[_0x5b7bb3(0xe4d)](_0x5b7bb3(0x3e9)+_0x5c8d49+':',_0x430dea),showMessage(_0x5b7bb3(0x6e5));}}async function renderStudentProgressDashboard(_0x567f70,_0x4c0312){const _0x474920=_0x3db3a6,_0x18a48d=document[_0x474920(0x283)](_0x474920(0x396));_0x18a48d[_0x474920(0x545)]=_0x474920(0x42f);try{const _0x5ad2a4=collection(db,_0x474920(0x981)+appId+'/public/data/quizzes'),_0x39988f=query(_0x5ad2a4,where(_0x474920(0x47e),'==',_0x567f70)),_0x5764cd=await getDocs(_0x39988f),_0x13c1f9=_0x5764cd[_0x474920(0xcf4)]['map'](_0x3d7788=>({'id':_0x3d7788['id'],..._0x3d7788['data']()})),_0x19021f=_0x13c1f9[_0x474920(0x87e)](_0x57a9bf=>getDoc(doc(db,'artifacts/'+appId+_0x474920(0x1c4)+_0x57a9bf['id']+_0x474920(0xb8f),_0x4c0312))),_0x2b8072=await Promise[_0x474920(0xd1a)](_0x19021f),_0x445ba7=_0x2b8072['filter'](_0x1150a8=>_0x1150a8[_0x474920(0xaed)]())[_0x474920(0x87e)](_0x386990=>({'quizId':_0x386990[_0x474920(0xc84)][_0x474920(0x5ee)]['parent']['id'],..._0x386990['data']()}));if(_0x445ba7[_0x474920(0x110)]===0x0){_0x18a48d['innerHTML']=_0x474920(0xd59);return;}let _0xf8787a='<div\x20class=\x22space-y-4\x22>';_0x445ba7[_0x474920(0x277)](_0x1856b0=>{const _0x3f8216=_0x474920,_0x313f0c=_0x13c1f9[_0x3f8216(0xe8)](_0x5b263f=>_0x5b263f['id']===_0x1856b0[_0x3f8216(0xbc3)]),_0x469cba=_0x313f0c[_0x3f8216(0x477)]?.[_0x3f8216(0x5fc)]||_0x3f8216(0x601),_0x28799c=_0x313f0c[_0x3f8216(0x477)]?.['passingScore']??0x0,_0x3cd08f=_0x1856b0['bestScore']>=_0x28799c;let _0x3e99d9='',_0x44cc59=_0x3f8216(0x296);switch(_0x469cba){case _0x3f8216(0x601):case _0x3f8216(0xacd):_0x44cc59=_0x3cd08f?'bg-green-50':_0x3f8216(0x254),_0x3e99d9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20'+(_0x3cd08f?'text-green-700':_0x3f8216(0x341))+'\x22>'+_0x1856b0[_0x3f8216(0x2d6)]+_0x3f8216(0x9a6)+_0x1856b0['totalQuestions']+_0x3f8216(0xc10)+(_0x3cd08f?_0x3f8216(0xabb):_0x3f8216(0xe25))+'\x22>'+(_0x3cd08f?'ผ่าน':_0x3f8216(0x3a3))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x3f8216(0x9b9):_0x44cc59=_0x3cd08f?_0x3f8216(0xaf0):'bg-red-50',_0x3e99d9=_0x3f8216(0xc4b)+(_0x3cd08f?_0x3f8216(0xabb):'bg-red-200\x20text-red-800')+'\x22>'+(_0x3cd08f?'ผ่าน':_0x3f8216(0x3a3))+_0x3f8216(0x819);break;case _0x3f8216(0x272):_0x44cc59=_0x3f8216(0x8f2),_0x3e99d9=_0x3f8216(0xd8c);break;}_0xf8787a+=_0x3f8216(0x9d2)+_0x44cc59+_0x3f8216(0x309)+_0x313f0c[_0x3f8216(0xe5f)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x1856b0['attempts'][_0x3f8216(0x110)]+_0x3f8216(0xe2a)+new Date(_0x1856b0[_0x3f8216(0x213)])[_0x3f8216(0xc8c)](_0x3f8216(0xd76))+_0x3f8216(0x6c8)+_0x3e99d9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0xf8787a+=_0x474920(0xdc0),_0x18a48d[_0x474920(0x545)]=_0xf8787a;}catch(_0x282aab){console[_0x474920(0xe4d)](_0x474920(0x830),_0x282aab),_0x18a48d[_0x474920(0x545)]=_0x474920(0x45a);}}function renderQuizBankListForMultiSelect(_0x22affe=''){const _0x59479d=_0x3db3a6,_0x36acc0=document[_0x59479d(0x283)](_0x59479d(0xe0)),_0x1ea966=_0x22affe[_0x59479d(0xa8)]()[_0x59479d(0xc29)](),_0x547113=allQuizzesGlobal['map'](_0x4b34dd=>({..._0x4b34dd,'projectName':allProjects[_0x59479d(0xe8)](_0x12bdc2=>_0x12bdc2['id']===_0x4b34dd[_0x59479d(0x47e)])?.['projectName']||_0x59479d(0x88b)}))[_0x59479d(0x1a1)](_0x58cba3=>(_0x58cba3[_0x59479d(0xe5f)]||'')['toLowerCase']()[_0x59479d(0x2e8)](_0x1ea966)||(_0x58cba3[_0x59479d(0xe60)]||'')[_0x59479d(0xa8)]()[_0x59479d(0x2e8)](_0x1ea966)||_0x58cba3['id'][_0x59479d(0x99d)]()['includes'](_0x1ea966));_0x36acc0[_0x59479d(0x545)]=_0x547113[_0x59479d(0x110)]?_0x547113[_0x59479d(0x87e)](_0x1d9276=>_0x59479d(0x7b8)+_0x1d9276['id']+_0x59479d(0xacf)+(_0x1d9276[_0x59479d(0xe5f)]||_0x59479d(0xcd2))+_0x59479d(0x194)+_0x1d9276[_0x59479d(0xe60)]+_0x59479d(0x8ba)+_0x1d9276['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')[_0x59479d(0xd6e)](''):_0x59479d(0xac3),_0x36acc0[_0x59479d(0x548)]=()=>{const _0x5c933e=_0x59479d,_0x50cf06=document[_0x5c933e(0x1a6)]('.quiz-bank-checkbox:checked');document[_0x5c933e(0x283)](_0x5c933e(0xb13))[_0x5c933e(0xc71)]=!_0x50cf06;};}function setupStudentProgressListeners(){const _0x5dad39=_0x3db3a6;document[_0x5dad39(0x283)](_0x5dad39(0x870))[_0x5dad39(0x844)](_0x5dad39(0x425),showStudentProgressView),document[_0x5dad39(0x283)](_0x5dad39(0x5be))['addEventListener'](_0x5dad39(0x425),()=>{const _0x42ed15=_0x5dad39;document[_0x42ed15(0x283)](_0x42ed15(0x177))[_0x42ed15(0x605)][_0x42ed15(0xd74)]('hidden'),document[_0x42ed15(0x283)](_0x42ed15(0x962))[_0x42ed15(0x605)][_0x42ed15(0x31b)](_0x42ed15(0x9a0));});}async function startSkillPractice(_0x4009dd){const _0x4b9243=_0x3db3a6;studentResultArea['classList'][_0x4b9243(0xd74)]('hidden'),studentQuizArea['innerHTML']=_0x4b9243(0x5f0),studentQuizArea['classList'][_0x4b9243(0x31b)]('hidden');try{const _0x597eae=await getStandardizedTopic(_0x4009dd);console[_0x4b9243(0x6e6)]('คำถามดิบ:\x20\x22'+_0x4009dd+'\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22'+_0x597eae+'\x22'),studentQuizArea[_0x4b9243(0x1a6)]('p')[_0x4b9243(0x1bd)]=_0x4b9243(0x41f)+_0x597eae+_0x4b9243(0x218);const _0x47fce0=collection(db,_0x4b9243(0x981)+appId+'/public/data/practiceBank'),_0x3735c1=query(_0x47fce0,where('topic','==',_0x597eae)),_0x4ce389=await getDocs(_0x3735c1);if(_0x4ce389[_0x4b9243(0xcf4)][_0x4b9243(0x110)]>=0x3){console[_0x4b9243(0x6e6)](_0x4b9243(0x235)+_0x4ce389[_0x4b9243(0xcf4)][_0x4b9243(0x110)]+_0x4b9243(0xe2)+_0x597eae+_0x4b9243(0x187));let _0xe840db=_0x4ce389[_0x4b9243(0xcf4)][_0x4b9243(0x87e)](_0x590194=>_0x590194[_0x4b9243(0x366)]());shuffleArray(_0xe840db);const _0x2225c4={'topic':_0x597eae,'questions':_0xe840db[_0x4b9243(0x972)](0x0,0x3)};displaySkillPracticeDrill(_0x2225c4);}else{console[_0x4b9243(0x6e6)](_0x4b9243(0xef)+_0x597eae+'\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...');const _0x5b390e=await generatePracticeQuestions(_0x597eae);await saveDrillToPracticeBank(_0x5b390e,_0x597eae),displaySkillPracticeDrill(_0x5b390e);}}catch(_0x1f7340){console['error'](_0x4b9243(0xa10),_0x1f7340),showMessage(_0x4b9243(0xa5d)),studentQuizArea[_0x4b9243(0x605)][_0x4b9243(0xd74)](_0x4b9243(0x9a0)),studentResultArea[_0x4b9243(0x605)][_0x4b9243(0x31b)](_0x4b9243(0x9a0));}}async function saveDrillToPracticeBank(_0x59f2b1,_0x4617a9){const _0x5689f4=_0x3db3a6,_0x473362=collection(db,_0x5689f4(0x981)+appId+_0x5689f4(0x9df)),_0x23ea78=writeBatch(db);_0x59f2b1[_0x5689f4(0x13f)][_0x5689f4(0x277)](_0x5c2b1f=>{const _0x519a21=_0x5689f4,_0x257dd3=doc(_0x473362);_0x23ea78[_0x519a21(0xb94)](_0x257dd3,{'topic':_0x4617a9,'questionText':_0x5c2b1f[_0x519a21(0xb0e)],'options':_0x5c2b1f['options'],'correctAnswerIndex':_0x5c2b1f[_0x519a21(0x7ed)],'explanation':_0x5c2b1f[_0x519a21(0x166)],'createdAt':serverTimestamp()});});try{await _0x23ea78['commit'](),console[_0x5689f4(0x6e6)]('บันทึกคำถามใหม่\x20'+_0x59f2b1[_0x5689f4(0x13f)]['length']+_0x5689f4(0x8c4));}catch(_0x4bd53b){console['error'](_0x5689f4(0x792),_0x4bd53b);}}async function getStandardizedTopic(_0x5968a1){const _0x476a6b=_0x3db3a6,_0x3c8f40=_0x476a6b(0xcf0)+_0x5968a1+_0x476a6b(0x19a),_0x57ecd9={'type':'OBJECT','properties':{'standardTopic':{'type':'STRING'}},'required':['standardTopic']};try{const _0xbe830=await callAnalysisApi(_0x3c8f40,_0x57ecd9);return _0xbe830[_0x476a6b(0x311)];}catch(_0x50f78d){return console[_0x476a6b(0xe4d)](_0x476a6b(0x756),_0x50f78d),_0x5968a1;}}async function handleGenerateEasyVersionQuiz(_0x40783a){const _0x377c92=_0x3db3a6,_0x55ad84=document[_0x377c92(0x283)](_0x377c92(0x66d)),_0x1ac74c=document['getElementById'](_0x377c92(0x838));_0x1ac74c['classList'][_0x377c92(0xd74)](_0x377c92(0x9a0));const _0x8681af=_0x377c92(0xd77);_0x55ad84['insertAdjacentHTML'](_0x377c92(0x136),_0x8681af);try{const _0x24166a=allQuizzes[_0x377c92(0xe8)](_0x1de11b=>_0x1de11b['id']===_0x40783a);if(!_0x24166a)throw new Error(_0x377c92(0x3f4));const _0x3cff5d=_0x377c92(0xce2)+JSON[_0x377c92(0x6b3)](_0x24166a['questions'])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x1ba0d6={'type':'OBJECT','properties':{'questionText':{'type':_0x377c92(0xa44)},'questionType':{'type':_0x377c92(0xa44)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x377c92(0xa44)},'explanation':{'type':_0x377c92(0xa44)},'imageCode':{'type':_0x377c92(0xa44)}},'required':['questionText',_0x377c92(0x430),_0x377c92(0x166)]},_0x28e596={'type':'OBJECT','properties':{'questions':{'type':_0x377c92(0x1ff),'items':_0x1ba0d6}},'required':[_0x377c92(0x13f)]},_0x20f63a=await callAnalysisApi(_0x3cff5d,_0x28e596);_0x20f63a&&_0x20f63a[_0x377c92(0x13f)]&&_0x20f63a['questions']['forEach'](_0x55d86f=>{const _0x24ee1c=_0x377c92;if(_0x55d86f[_0x24ee1c(0x74b)](_0x24ee1c(0xc8b))){const _0x57aecc=String(_0x55d86f[_0x24ee1c(0xc8b)])['trim']();(_0x57aecc===''||_0x57aecc[_0x24ee1c(0xa8)]()==='null'||!_0x57aecc[_0x24ee1c(0x9bd)]('<svg'))&&delete _0x55d86f[_0x24ee1c(0xc8b)];}});if(!_0x20f63a||!_0x20f63a['questions']||_0x20f63a['questions'][_0x377c92(0x110)]===0x0)throw new Error(_0x377c92(0xc64));const _0x9b7359=_0x20f63a['questions'][_0x377c92(0x87e)]((_0x9902ca,_0x142019)=>({..._0x9902ca,'id':'q_'+Date['now']()+'_'+_0x142019})),_0x87eaa0={'projectId':_0x24166a[_0x377c92(0x47e)],'quizType':_0x24166a[_0x377c92(0x461)],'settings':_0x24166a[_0x377c92(0x477)],'createdBy':_0x24166a[_0x377c92(0x517)],'status':_0x377c92(0xcce),'topic':'(ฉบับง่าย)\x20'+_0x24166a[_0x377c92(0xe5f)],'questions':_0x9b7359,'createdAt':new Date()[_0x377c92(0x848)](),'quizMode':_0x377c92(0x6e8),'pairedQuizId':null};let _0x50aeb3;while(!![]){_0x50aeb3=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x377c92(0x99d)]();const _0x4b1397=await getDoc(doc(db,'artifacts/'+appId+_0x377c92(0x8e0),_0x50aeb3));if(!_0x4b1397[_0x377c92(0xaed)]())break;}await setDoc(doc(db,_0x377c92(0x981)+appId+_0x377c92(0x8e0),_0x50aeb3),_0x87eaa0),showMessage(_0x377c92(0xb83));}catch(_0x247c78){console[_0x377c92(0xe4d)](_0x377c92(0x26a),_0x247c78),showMessage(_0x377c92(0xe07)+_0x247c78[_0x377c92(0x226)]);}finally{const _0x7d4f4c=document[_0x377c92(0x283)]('temp-loader-results');_0x7d4f4c&&_0x7d4f4c[_0x377c92(0x31b)](),_0x1ac74c[_0x377c92(0x605)][_0x377c92(0x31b)]('hidden');}}async function generatePracticeQuestions(_0x5aa7d4){const _0x1c2044=_0x3db3a6,_0x4de6a1=_0x1c2044(0x69c)+_0x5aa7d4+_0x1c2044(0xc7f)+simpleMathPrompt+_0x1c2044(0xb64),_0x33ab06={'type':_0x1c2044(0xbc1),'properties':{'questionText':{'type':_0x1c2044(0xa44)},'options':{'type':_0x1c2044(0x1ff),'items':{'type':_0x1c2044(0xa44)}},'correctAnswerIndex':{'type':_0x1c2044(0xc1d)},'explanation':{'type':_0x1c2044(0xa44)}},'required':[_0x1c2044(0xb0e),_0x1c2044(0xbed),_0x1c2044(0x7ed),'explanation']},_0x560c85={'type':_0x1c2044(0xbc1),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x1c2044(0x1ff),'items':_0x33ab06}},'required':[_0x1c2044(0xe5f),_0x1c2044(0x13f)]};return await callAnalysisApi(_0x4de6a1,_0x560c85);}function displayLessonPlan(_0x7b65fa,_0x39943c){const _0x2f0caf=_0x3db3a6,_0x14edbe=_0x2f0caf(0xe61)+_0x39943c[_0x2f0caf(0xe5f)]+_0x2f0caf(0x62c)+_0x7b65fa[_0x2f0caf(0x3d7)]['map'](_0x518dc6=>_0x2f0caf(0xd24)+_0x518dc6+_0x2f0caf(0x241))['join']('')+_0x2f0caf(0xc46)+_0x7b65fa['teachingContent']+_0x2f0caf(0x4ea)+_0x7b65fa[_0x2f0caf(0x317)][_0x2f0caf(0x87e)](_0x3806b1=>_0x2f0caf(0x3eb)+_0x3806b1[_0x2f0caf(0xc78)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x3806b1[_0x2f0caf(0xa99)]+_0x2f0caf(0x416))[_0x2f0caf(0xd6e)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x2f0caf(0x283)](_0x2f0caf(0x77c))[_0x2f0caf(0x1bd)]=_0x2f0caf(0x6ff)+_0x39943c[_0x2f0caf(0xe5f)],document[_0x2f0caf(0x283)](_0x2f0caf(0xcec))[_0x2f0caf(0x545)]=_0x14edbe,document[_0x2f0caf(0x283)](_0x2f0caf(0xc8))[_0x2f0caf(0x605)]['remove'](_0x2f0caf(0x9a0));if(window['MathJax'])MathJax[_0x2f0caf(0x130)]();}function displaySkillPracticeDrill(_0x46c198){const _0x4a6506=_0x3db3a6;let _0x8daa2c=0x0;const _0x5efe16=_0x46c198[_0x4a6506(0x13f)],_0x47ec1a=()=>{const _0x1d3388=_0x4a6506,_0x4a5b99=_0x5efe16[_0x8daa2c],_0x336d1e=_0x1d3388(0xce9)+(_0x8daa2c+0x1)+_0x1d3388(0x9a6)+_0x5efe16['length']+_0x1d3388(0x4dc)+_0x4a5b99['questionText']+_0x1d3388(0x642)+_0x4a5b99[_0x1d3388(0xbed)]['map']((_0x33cf0e,_0x41315b)=>_0x1d3388(0x1e2)+_0x41315b+_0x1d3388(0x5b4)+_0x41315b+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x41315b+'\x22>'+_0x33cf0e+_0x1d3388(0xd1d))[_0x1d3388(0xd6e)]('')+_0x1d3388(0x75e);studentQuizArea[_0x1d3388(0x545)]=_0x336d1e;if(window[_0x1d3388(0x4d4)])MathJax[_0x1d3388(0x130)]([studentQuizArea]);document['getElementById'](_0x1d3388(0xa47))['addEventListener']('click',async()=>{const _0x5164bd=_0x1d3388,_0x5a7816=await getHintForQuestion(_0x4a5b99[_0x5164bd(0xb0e)]);showMessage(_0x5a7816);}),document['getElementById'](_0x1d3388(0x231))[_0x1d3388(0x844)](_0x1d3388(0x425),()=>{const _0x474a73=_0x1d3388,_0x595c3a=document[_0x474a73(0x1a6)](_0x474a73(0x3f3));if(!_0x595c3a){showMessage(_0x474a73(0xe18));return;}const _0x40bda3=document[_0x474a73(0x283)](_0x474a73(0xd97)),_0x476155=parseInt(_0x595c3a[_0x474a73(0xa89)])===_0x4a5b99[_0x474a73(0x7ed)];_0x476155?(_0x40bda3['className']=_0x474a73(0xcdd),_0x40bda3[_0x474a73(0x545)]=_0x474a73(0x1b4)+_0x4a5b99[_0x474a73(0x166)]):(_0x40bda3['className']=_0x474a73(0x1da),_0x40bda3[_0x474a73(0x545)]='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x4a5b99[_0x474a73(0x166)]);_0x40bda3[_0x474a73(0x605)][_0x474a73(0x31b)](_0x474a73(0x9a0));if(window['MathJax'])MathJax[_0x474a73(0x130)]([_0x40bda3]);document[_0x474a73(0x283)](_0x474a73(0x231))[_0x474a73(0x605)]['add']('hidden'),document['getElementById'](_0x474a73(0xa47))[_0x474a73(0x605)]['add']('hidden'),document['getElementById']('next-drill-btn')[_0x474a73(0x605)][_0x474a73(0x31b)](_0x474a73(0x9a0));}),document[_0x1d3388(0x283)](_0x1d3388(0x3ee))[_0x1d3388(0x844)]('click',()=>{const _0x57a3a4=_0x1d3388;_0x8daa2c++,_0x8daa2c<_0x5efe16[_0x57a3a4(0x110)]?_0x47ec1a():(studentQuizArea[_0x57a3a4(0x545)]=_0x57a3a4(0x78b),document[_0x57a3a4(0x283)](_0x57a3a4(0xa32))[_0x57a3a4(0x844)](_0x57a3a4(0x425),()=>{const _0x31e0ee=_0x57a3a4;studentQuizArea[_0x31e0ee(0x605)][_0x31e0ee(0xd74)](_0x31e0ee(0x9a0)),studentResultArea[_0x31e0ee(0x605)][_0x31e0ee(0x31b)](_0x31e0ee(0x9a0));}));});};_0x47ec1a();}async function getHintForQuestion(_0x43a748){const _0x47eacf=_0x3db3a6,_0x4dd32a=_0x47eacf(0x7c4)+_0x43a748+'\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด',_0x17b034={'type':_0x47eacf(0xbc1),'properties':{'hint':{'type':_0x47eacf(0xa44)}},'required':[_0x47eacf(0x5c3)]};try{const _0x514a2c=await callAnalysisApi(_0x4dd32a,_0x17b034);return _0x514a2c['hint'];}catch(_0x30882e){return console[_0x47eacf(0xe4d)]('Failed\x20to\x20get\x20hint:',_0x30882e),_0x47eacf(0xb74);}}async function extractTextFromPdf(_0x43ace4){const _0x25e823=_0x3db3a6;pdfjsLib[_0x25e823(0x4fc)][_0x25e823(0x635)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x48609b=await _0x43ace4['arrayBuffer'](),_0x16f3a9=await pdfjsLib[_0x25e823(0x657)](_0x48609b)[_0x25e823(0xb61)],_0x55ee99=_0x16f3a9[_0x25e823(0xbaf)];let _0x4d7758='';for(let _0x188d52=0x1;_0x188d52<=_0x55ee99;_0x188d52++){const _0xcebfe1=await _0x16f3a9[_0x25e823(0x805)](_0x188d52),_0x1b2e9b=await _0xcebfe1['getTextContent'](),_0x77e333=_0x1b2e9b[_0x25e823(0x53e)][_0x25e823(0x87e)](_0x481b0a=>_0x481b0a[_0x25e823(0xe3c)])[_0x25e823(0xd6e)]('\x20');_0x4d7758+=_0x77e333+'\x0a\x0a';}return _0x4d7758;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x84b1fb){const _0x361cc5=_0x3db3a6,_0x11d176=document[_0x361cc5(0x283)](_0x361cc5(0x444)),_0x29c216=document[_0x361cc5(0x283)](_0x361cc5(0xbe2)),_0x563f20=document[_0x361cc5(0x283)](_0x361cc5(0xee));_0x11d176[_0x361cc5(0x605)][_0x361cc5(0x31b)](_0x361cc5(0x9a0)),_0x29c216[_0x361cc5(0x545)]='<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>',_0x563f20['classList'][_0x361cc5(0xd74)](_0x361cc5(0x9a0));try{const _0x107292=_0x361cc5(0xac)+_0x84b1fb+_0x361cc5(0x9ef),_0x13bf14={'type':_0x361cc5(0xbc1),'properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':'ARRAY','items':{'type':_0x361cc5(0xbc1),'properties':{'sara':{'type':_0x361cc5(0xa44)},'mainTopics':{'type':'ARRAY','items':{'type':_0x361cc5(0xbc1),'properties':{'topicName':{'type':_0x361cc5(0xa44)},'subTopics':{'type':_0x361cc5(0x1ff),'items':{'type':_0x361cc5(0xa44)}}},'required':['topicName',_0x361cc5(0x76d)]}}},'required':[_0x361cc5(0x75b),_0x361cc5(0x18c)]}}},'required':[_0x361cc5(0x53c),_0x361cc5(0xbdf)]},_0x4112cc=await callAnalysisApi(_0x107292,_0x13bf14);if(_0x4112cc&&_0x4112cc[_0x361cc5(0xbdf)])extractedBlueprintData=_0x4112cc,renderBlueprintTopics(_0x4112cc),_0x563f20[_0x361cc5(0x605)][_0x361cc5(0x31b)](_0x361cc5(0x9a0));else throw new Error(_0x361cc5(0x614));}catch(_0x180788){console['error'](_0x361cc5(0xd00),_0x180788),_0x29c216['innerHTML']=_0x361cc5(0x2bc);}}function renderBlueprintTopics(_0x354c68){const _0x421de5=_0x3db3a6,_0x510537=document[_0x421de5(0x283)]('blueprint-topics-list'),_0x50bc22=_0x354c68['gradeLevel'],_0x33fce8=_0x421de5(0x54f)+_0x50bc22+_0x421de5(0xcb1);let _0x1c042a='';_0x354c68['curriculum'][_0x421de5(0x277)](_0x28c1d7=>{const _0x47c45a=_0x421de5;_0x1c042a+=_0x47c45a(0x13c)+_0x28c1d7['sara']+'</h4>',_0x28c1d7['mainTopics'][_0x47c45a(0x277)](_0x23abd5=>{const _0x1289e9=_0x47c45a;_0x1c042a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>'+_0x23abd5[_0x1289e9(0x510)]+_0x1289e9(0x431),_0x23abd5[_0x1289e9(0x76d)][_0x1289e9(0x277)](_0x253ea1=>{const _0x537a8c=_0x1289e9;_0x1c042a+='\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27'+_0x253ea1['replace'](/'/g,'\x5c\x27')+_0x537a8c(0x64b)+_0x50bc22[_0x537a8c(0x950)](/'/g,'\x5c\x27')+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20'+_0x253ea1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27'+_0x253ea1['replace'](/'/g,'\x5c\x27')+_0x537a8c(0x636);}),_0x1c042a+=_0x1289e9(0x362);}),_0x1c042a+=_0x47c45a(0xdc0);}),_0x510537[_0x421de5(0x545)]=_0x33fce8+_0x1c042a;}async function handleGenerateTeachingContent(_0x1c68d8){const _0x2c950e=_0x3db3a6,_0x19e209=document[_0x2c950e(0x283)](_0x2c950e(0xc8)),_0x22d269=document[_0x2c950e(0x283)]('lesson-plan-content');document[_0x2c950e(0x283)](_0x2c950e(0x77c))[_0x2c950e(0x1bd)]=_0x2c950e(0xbc4)+_0x1c68d8,_0x22d269[_0x2c950e(0x545)]=_0x2c950e(0x8be),_0x19e209['classList'][_0x2c950e(0x31b)](_0x2c950e(0x9a0));try{const _0xe35245='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22'+_0x1c68d8+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x19f53a={'type':_0x2c950e(0xbc1),'properties':{'keyConcepts':{'type':_0x2c950e(0x1ff),'items':{'type':'STRING'}},'commonMistakes':{'type':_0x2c950e(0x1ff),'items':{'type':_0x2c950e(0xa44)}},'stepByStepExamples':{'type':_0x2c950e(0x1ff),'items':{'type':_0x2c950e(0xbc1),'properties':{'question':{'type':'STRING'},'solution':{'type':_0x2c950e(0xa44)}},'required':[_0x2c950e(0xc78),_0x2c950e(0xa99)]}},'teacherTips':{'type':_0x2c950e(0x1ff),'items':{'type':_0x2c950e(0xa44)}}},'required':[_0x2c950e(0x467),_0x2c950e(0x498),'stepByStepExamples',_0x2c950e(0x96d)]},_0x28865c=await callAnalysisApi(_0xe35245,_0x19f53a);displayTeachingContent(_0x28865c,_0x1c68d8);}catch(_0x3408e5){console['error'](_0x2c950e(0xe33),_0x3408e5),_0x22d269[_0x2c950e(0x545)]=_0x2c950e(0xb57)+_0x3408e5[_0x2c950e(0x226)]+_0x2c950e(0x74f);}}function displayTeachingContent(_0x6276f5,_0x8d4c97){const _0x3afbbe=_0x3db3a6,_0x1c2434=document[_0x3afbbe(0x283)]('lesson-plan-content');document[_0x3afbbe(0x283)](_0x3afbbe(0x77c))[_0x3afbbe(0x1bd)]=_0x3afbbe(0xbd9)+_0x8d4c97;const _0x54e45b=_0x3afbbe(0x423)+_0x6276f5[_0x3afbbe(0x467)][_0x3afbbe(0x87e)](_0x2ef94d=>'<li>'+_0x2ef94d+_0x3afbbe(0x241))[_0x3afbbe(0xd6e)]('')+_0x3afbbe(0x561)+_0x6276f5[_0x3afbbe(0x498)]['map'](_0x1b2ad6=>_0x3afbbe(0xd24)+_0x1b2ad6+'</li>')[_0x3afbbe(0xd6e)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>'+_0x6276f5[_0x3afbbe(0xb9b)][_0x3afbbe(0x87e)](_0x987b7b=>_0x3afbbe(0x780)+_0x987b7b[_0x3afbbe(0xc78)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>'+_0x987b7b[_0x3afbbe(0xa99)]+_0x3afbbe(0x49a))['join']('')+_0x3afbbe(0xd43)+_0x6276f5[_0x3afbbe(0x96d)]['map'](_0x3188e8=>_0x3afbbe(0xd24)+_0x3188e8+'</li>')[_0x3afbbe(0xd6e)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x1c2434[_0x3afbbe(0x545)]=_0x54e45b;if(window[_0x3afbbe(0x4d4)])MathJax[_0x3afbbe(0x130)]([_0x1c2434]);}async function generateQuizForSingleTopic(_0x16daf5){const _0x502390=_0x3db3a6;console[_0x502390(0x6e6)](_0x502390(0xcc3)+_0x16daf5+'\x22');const _0xbe6969=document[_0x502390(0x283)](_0x502390(0x64c)),_0x438ded=_0xbe6969['files'][_0x502390(0x110)]>0x0?_0xbe6969['files'][0x0]:null;let _0x23b2a9=null;if(_0x438ded)try{const _0x4b96a2=new FileReader();_0x4b96a2[_0x502390(0x640)](_0x438ded);const _0x442273=await new Promise((_0x168401,_0x33f5e7)=>{const _0x54df9e=_0x502390;_0x4b96a2[_0x54df9e(0xafb)]=()=>_0x168401(_0x4b96a2[_0x54df9e(0x796)]['split'](',')[0x1]),_0x4b96a2[_0x54df9e(0x29a)]=_0x520d0f=>_0x33f5e7(_0x520d0f);});_0x23b2a9=[{'inlineData':{'mimeType':_0x438ded['type'],'data':_0x442273}}];}catch(_0x5c28b4){console[_0x502390(0xe4d)](_0x502390(0x343),_0x5c28b4),showMessage(_0x502390(0x3e0));return;}generateQuiz(_0x16daf5,null,null,_0x23b2a9,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x49f3d9=null){const _0xb43654=_0x3db3a6,_0x27b1fe=document[_0xb43654(0x283)]('loader'),_0x52df0a=document[_0xb43654(0x283)](_0xb43654(0x550));let _0x5c6837,_0x411e28=[];if(_0x49f3d9)_0x5c6837=_0x49f3d9,_0x411e28=_0x5c6837['slice'](0x2);else{const _0x508c52=document['getElementById'](_0xb43654(0xb77)),_0x3d4a30=document[_0xb43654(0x283)](_0xb43654(0x64c)),_0x194e9d=_0x508c52[_0xb43654(0x7a4)][0x0];if(!_0x194e9d){showMessage(_0xb43654(0xb4));return;}_0x52df0a[_0xb43654(0x1bd)]=_0xb43654(0xd7d);const _0x577f95=await new Promise((_0x24bafa,_0x3441fb)=>{const _0xf506be=_0xb43654,_0x36862a=new FileReader();_0x36862a[_0xf506be(0x640)](_0x194e9d),_0x36862a[_0xf506be(0xafb)]=()=>_0x24bafa(_0x36862a[_0xf506be(0x796)][_0xf506be(0x7ea)](',')[0x1]),_0x36862a[_0xf506be(0x29a)]=_0x3441fb;});_0x5c6837=[{'text':_0xb43654(0x846)},{'inlineData':{'mimeType':_0x194e9d[_0xb43654(0x816)],'data':_0x577f95}}];if(_0x3d4a30[_0xb43654(0x7a4)][_0xb43654(0x110)]>0x0){const _0x775c3c=_0x3d4a30[_0xb43654(0x7a4)][0x0];_0x52df0a[_0xb43654(0x1bd)]='กำลังเตรียมไฟล์อ้างอิง...';const _0x4ec221=await new Promise((_0x1117c1,_0x3e0c11)=>{const _0x3689f4=_0xb43654,_0x203e7d=new FileReader();_0x203e7d['readAsDataURL'](_0x775c3c),_0x203e7d[_0x3689f4(0xafb)]=()=>_0x1117c1(_0x203e7d[_0x3689f4(0x796)][_0x3689f4(0x7ea)](',')[0x1]),_0x203e7d[_0x3689f4(0x29a)]=_0x3e0c11;}),_0x381b08={'inlineData':{'mimeType':_0x775c3c[_0xb43654(0x816)],'data':_0x4ec221}};_0x5c6837[_0xb43654(0x827)](_0x381b08),_0x411e28[_0xb43654(0x827)](_0x381b08);}}const _0x37c02f=_0xb43654(0x904),_0x48f0da=_0xb43654(0x34b);let _0x7f0fdb='';_0x411e28&&_0x411e28['length']>0x0?_0x7f0fdb=_0x37c02f:_0x7f0fdb=_0x48f0da;const _0x29fe7d=_0xb43654(0xbab)+_0x7f0fdb+_0xb43654(0x4a6),_0xb2674a={'type':'OBJECT','properties':{'questionText':{'type':_0xb43654(0xa44)},'questionType':{'type':_0xb43654(0xa44),'enum':['multiple_choice',_0xb43654(0x358),_0xb43654(0x50e),_0xb43654(0x1f4)]},'options':{'type':_0xb43654(0x1ff),'items':{'type':_0xb43654(0xa44)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0xb43654(0xd50)},'explanation':{'type':_0xb43654(0xa44)},'imageCode':{'type':_0xb43654(0xa44)}},'required':[_0xb43654(0x430),_0xb43654(0x166)]},_0x1cd853={'type':'OBJECT','properties':{'topic':{'type':_0xb43654(0xa44)},'questions':{'type':_0xb43654(0x1ff),'items':_0xb2674a}},'required':[_0xb43654(0xe5f),_0xb43654(0x13f)]};_0x5c6837[0x0][_0xb43654(0x38a)]=_0x29fe7d,await handleApiCall(_0x5c6837,_0xb43654(0x1ca),_0x1cd853);}function proceedToNextQuestion(_0x1d8ed5){const _0xeac22b=_0x3db3a6;studentAnswersPerQuestion[_0xeac22b(0x827)](_0x1d8ed5),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0xeac22b(0x110)]?finalizePerQuestionQuiz():renderPerQuestionView();}function getCentralPotHTML(_0x574c2b){const _0x350d9f=_0x3db3a6,_0x180b20=_0x574c2b[_0x350d9f(0xd14)]||0x0,_0x2feff9=_0x574c2b['isBlackMarketEnabled']===!![];if(!_0x2feff9)return'';if(_0x180b20===0x0)return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20bg-black/20\x20px-3\x20py-1\x20rounded-full\x20border\x20border-white/10\x20text-gray-300\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sack-dollar\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>กองกลาง:\x200</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20bg-gradient-to-r\x20from-yellow-500\x20to-amber-600\x20text-white\x20px-4\x20py-1\x20rounded-full\x20border-2\x20border-yellow-200\x20shadow-lg\x20shadow-yellow-500/50\x20animate-pulse\x20transform\x20hover:scale-105\x20transition-transform\x20cursor-help\x22\x20title=\x22เงินรางวัลส่วนเกินจากรอบที่แล้ว\x20จะถูกนำมาหารเพิ่มให้ผู้ชนะในรอบนี้!\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sack-dollar\x20text-xl\x20animate-bounce\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-lg\x20drop-shadow-md\x22>กองกลาง:\x20'+_0x180b20[_0x350d9f(0x33b)]()+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function renderAdminSyncDashboard(_0x5e951e,_0x9fdb36,_0x36d6cb){const _0x459ee2=_0x3db3a6,_0x2b4dab=Object['values'](_0x5e951e[_0x459ee2(0x5ec)]||{}),_0x516904=_0x2b4dab[_0x459ee2(0x110)],_0x56af26=_0x36d6cb,_0x12eb9c=_0x5e951e['gameVariant']||_0x459ee2(0x6ac),_0x2f1c6f=_0x12eb9c===_0x459ee2(0x2c0)||_0x12eb9c===_0x459ee2(0x6de),_0xf014ab=_0x12eb9c===_0x459ee2(0xa1c)||_0x12eb9c===_0x459ee2(0x6de),_0x59f954=_0x5e951e['isAnonymousRevealed']===!![],_0x65138a=_0x12eb9c===_0x459ee2(0x2ff),_0x369776=_0x5e951e[_0x459ee2(0x84d)]['questions'],_0x11e297=_0x369776[_0x56af26],_0x410672=_0x4edbed=>String[_0x459ee2(0x24d)](0x41+_0x4edbed),_0x3a019b=_0x2b4dab['map'](_0x4dd6f8=>{const _0x57968f=_0x459ee2,_0x28ddca=(_0x4dd6f8[_0x57968f(0x749)]||[])[_0x57968f(0x1a1)](_0x58c892=>{const _0x237c5f=_0x57968f;if(_0xf014ab)return _0x58c892[_0x237c5f(0xda4)]<=_0x56af26;return!![];});let _0x29465f=0x0,_0x4bf7f1=0x0;_0xf014ab?(_0x29465f=_0x28ddca[_0x57968f(0x1a1)](_0x588fc7=>_0x588fc7[_0x57968f(0xb7c)])['length'],_0x4bf7f1=_0x28ddca[_0x57968f(0x53b)]((_0x547e17,_0x2e9cea)=>_0x547e17+(_0x2e9cea[_0x57968f(0x2d5)]||0x0),0x0)):(_0x29465f=_0x4dd6f8[_0x57968f(0x791)]||0x0,_0x4bf7f1=_0x4dd6f8[_0x57968f(0xd53)]||0x0);const _0x505413=[..._0x28ddca][_0x57968f(0x667)]((_0x22a352,_0x2d8c09)=>_0x22a352['questionIndex']-_0x2d8c09[_0x57968f(0xda4)]);let _0x31700c=0x0;return _0x505413[_0x57968f(0x277)](_0x377d4f=>{const _0x2bb986=_0x57968f,_0x2f71e8=_0x377d4f[_0x2bb986(0xba6)]&&_0x377d4f[_0x2bb986(0xba6)]!==_0x2bb986(0xc8e)||_0x377d4f['usedBuyTime'];_0x377d4f[_0x2bb986(0xb7c)]?_0x2f71e8?_0x31700c=0x0:_0x31700c++:_0x31700c=0x0;}),{..._0x4dd6f8,'realScore':_0x29465f,'totalPoints':_0x4bf7f1,'answers':_0x28ddca,'correctStreak':_0x31700c};}),_0xbca168=Math[_0x459ee2(0x8c3)](..._0x3a019b[_0x459ee2(0x87e)](_0x57f002=>_0x57f002[_0x459ee2(0xd53)]),-Infinity),_0x2a7199=Math[_0x459ee2(0x8c3)](..._0x3a019b[_0x459ee2(0x87e)](_0x214c81=>_0x214c81[_0x459ee2(0x6d9)]),-Infinity),_0x488213=_0x5e951e[_0x459ee2(0xc89)]===!![],_0x31a2d0=[..._0x3a019b][_0x459ee2(0x667)]((_0x3a6394,_0x5838b5)=>{const _0x1d867a=_0x459ee2;if(_0x488213){const _0x489068=_0x5838b5[_0x1d867a(0xd53)]-_0x3a6394[_0x1d867a(0xd53)];if(_0x489068!==0x0)return _0x489068;const _0x115082=_0x5838b5[_0x1d867a(0x6d9)]-_0x3a6394[_0x1d867a(0x6d9)];if(_0x115082!==0x0)return _0x115082;return(_0x3a6394[_0x1d867a(0x339)]||'')['localeCompare'](_0x5838b5[_0x1d867a(0x339)]||'','th');}else{const _0x6fcb24=_0x5838b5[_0x1d867a(0xd53)]-_0x3a6394[_0x1d867a(0xd53)];if(_0x6fcb24!==0x0)return _0x6fcb24;const _0x17c5ab=_0x5838b5[_0x1d867a(0x6d9)]-_0x3a6394[_0x1d867a(0x6d9)];if(_0x17c5ab!==0x0)return _0x17c5ab;return(_0x3a6394[_0x1d867a(0x339)]||'')[_0x1d867a(0x879)](_0x5838b5[_0x1d867a(0x339)]||'','th');}});let _0x302dd6=0x1;for(let _0x1e997e=0x0;_0x1e997e<_0x31a2d0[_0x459ee2(0x110)];_0x1e997e++){if(_0x1e997e>0x0){const _0x313d1f=_0x31a2d0[_0x1e997e-0x1],_0x3bed33=_0x31a2d0[_0x1e997e];let _0xc1f804=![];_0x488213?_0xc1f804=_0x3bed33[_0x459ee2(0xd53)]===_0x313d1f[_0x459ee2(0xd53)]&&_0x3bed33['realScore']===_0x313d1f[_0x459ee2(0x6d9)]:_0xc1f804=_0x3bed33['totalPoints']===_0x313d1f['totalPoints']&&_0x3bed33[_0x459ee2(0x6d9)]===_0x313d1f[_0x459ee2(0x6d9)],!_0xc1f804&&(_0x302dd6=_0x1e997e+0x1);}_0x31a2d0[_0x1e997e][_0x459ee2(0x313)]=_0x302dd6;}let _0x2e53bf='';const _0x2c24ab=!_0x65138a&&!(_0x2f1c6f&&_0x5e951e[_0x459ee2(0xb9e)]===![]);if(_0x11e297&&_0x2c24ab){let _0x48f88d='',_0x20ad31='';const _0x4611c6=_0x11e297['questionType']||_0x5e951e[_0x459ee2(0x84d)][_0x459ee2(0x461)];if(_0x4611c6==='multiple_choice'&&_0x11e297[_0x459ee2(0xbed)]){const _0x5efebc=_0x11e297[_0x459ee2(0x7ed)];_0x48f88d=_0x11e297[_0x459ee2(0xbed)][_0x5efebc],_0x20ad31=_0x410672(_0x5efebc)+'.';}else{if(_0x4611c6===_0x459ee2(0x50e)){const _0x57db71=String(_0x11e297[_0x459ee2(0xad1)])[_0x459ee2(0xa8)]()===_0x459ee2(0x503);_0x48f88d=_0x57db71?'ใช่\x20/\x20ถูก':_0x459ee2(0x807),_0x20ad31=_0x57db71?'ก.':'ข.';}else{if(_0x4611c6===_0x459ee2(0x1f4))_0x48f88d=_0x11e297[_0x459ee2(0xdcc)]||'-';else(_0x4611c6===_0x459ee2(0x358)||_0x4611c6===_0x459ee2(0x1c8))&&(_0x48f88d=_0x11e297['idealAnswer']||'-');}}_0x48f88d&&(_0x2e53bf=_0x459ee2(0x14c)+(_0x56af26+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>'+_0x20ad31+'\x20'+_0x48f88d+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0xf4ebbb=_0x31a2d0[_0x459ee2(0x87e)]((_0x5130a0,_0x27d895)=>{const _0x3b6c16=_0x459ee2,_0x57c3fc=_0x5130a0[_0x3b6c16(0x6d9)],_0x2c8170=_0x5130a0[_0x3b6c16(0xd53)],_0x5777d2=(_0x5130a0['answers']||[])[_0x3b6c16(0xe8)](_0x17145e=>_0x17145e[_0x3b6c16(0xda4)]===_0x36d6cb),_0x287af4=_0x5130a0[_0x3b6c16(0x749)][_0x3b6c16(0x110)];let _0x36bde8='';_0x5777d2&&_0x5777d2['potBonus']>0x0&&(_0x36bde8=_0x3b6c16(0xb6b)+_0x5777d2[_0x3b6c16(0x9ed)]+_0x3b6c16(0xc02));let _0x289c65='';if(_0x5777d2){if(_0x5777d2['wasForced'])_0x289c65+='<span\x20title=\x22โดนบังคับมั่นใจ\x22>👻</span>';if(_0x5777d2[_0x3b6c16(0x608)])_0x289c65+=_0x3b6c16(0xc05);if(_0x5777d2[_0x3b6c16(0xbe6)])_0x289c65+='<span\x20title=\x22ใช้:\x20ซื้อเวลา\x22>⏳</span>';const _0x4e176b=_0x5777d2[_0x3b6c16(0xba6)];if(_0x4e176b){const _0x526570={'poll':'📊','cutOne':'✂️','insurance':'🛡️','fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':'👁️'};if(_0x526570[_0x4e176b])_0x289c65+=_0x3b6c16(0x47b)+_0x526570[_0x4e176b]+_0x3b6c16(0x3a6);}}let _0x3905f4='';const _0x31078b=_0x5130a0[_0x3b6c16(0xa2e)]||0x0,_0xe07a43=_0x5777d2&&_0x5777d2['usedBuyTime'],_0x227d69=_0x5777d2&&_0x5777d2[_0x3b6c16(0xba6)]&&_0x5777d2['powerupUsed']!=='wagerMultiplier';!_0x65138a&&_0x31078b>=0x3&&!_0xe07a43&&!_0x227d69&&(_0x3905f4+=_0x3b6c16(0x9f6)+_0x31078b+_0x3b6c16(0x3a6));if(!_0x65138a&&_0x287af4>0x0){if(_0x488213){if(_0x2c8170===_0xbca168&&_0xbca168>0x0)_0x3905f4+=_0x3b6c16(0x969);if(_0x57c3fc===_0x2a7199&&_0x2a7199>0x0)_0x3905f4+=_0x3b6c16(0x8ff);}else{const _0x5379c7=_0x5130a0[_0x3b6c16(0x6d9)]===_0x36d6cb+0x1;if(_0x5379c7)_0x3905f4+=_0x3b6c16(0xd66);}if(_0x3905f4===''&&_0x2c8170<0x0)_0x3905f4+=_0x3b6c16(0x8b1);}let _0xba08de=_0x3b6c16(0x992),_0x53d46c=![],_0x39c0bf=![];if(!_0x65138a){const _0xfa4c4f=(_0x5130a0[_0x3b6c16(0x749)]||[])['find'](_0x1615e2=>_0x1615e2[_0x3b6c16(0xda4)]===_0x56af26);if(_0xfa4c4f){const _0x21d6e9=_0xfa4c4f['isCorrect'],_0x4dc82d=_0xfa4c4f[_0x3b6c16(0x535)]===!![]||_0xfa4c4f[_0x3b6c16(0x535)]==='confident',_0xbe189b=_0xfa4c4f[_0x3b6c16(0xba6)];if(_0xbe189b===_0x3b6c16(0xc8e))_0x21d6e9?(_0xba08de=_0x3b6c16(0x557),_0x53d46c=!![]):(_0xba08de=_0x3b6c16(0x462),_0x39c0bf=!![]);else{if(_0x4dc82d)_0xba08de=_0x21d6e9?_0x3b6c16(0xb16):'bg-[#EF4444]\x20text-white\x20font-bold';else _0x21d6e9&&(_0xba08de=_0x3b6c16(0xad7));}}}let _0x375c93='';const _0x50f5fc=_0x5130a0[_0x3b6c16(0x339)],_0x377d21=_0x5e951e[_0x3b6c16(0xbe5)][_0x5130a0[_0x3b6c16(0x339)]]||_0x3b6c16(0xca0),_0xbff408=_0x3b6c16(0x8a7),_0x227ce7=_0x3b6c16(0xec),_0x998d29=_0x53d46c?_0x3b6c16(0xd96):_0x3b6c16(0x375);let _0x5dd820='';const _0x5e6782=_0x2c8170>=0x0?'(+'+_0x2c8170['toLocaleString']()+')':'('+_0x2c8170[_0x3b6c16(0x33b)]()+')',_0x345f12=_0x3b6c16(0x456)+_0x57c3fc+_0x3b6c16(0x6a5)+_0x5e6782+'\x20'+_0x36bde8+_0x3b6c16(0x114);if(_0x9fdb36){if(_0x2f1c6f&&!_0x59f954)_0x39c0bf?_0x375c93=_0x3b6c16(0x78d)+_0xbff408+_0x3b6c16(0x22e)+_0x50f5fc+'\x20('+_0x377d21+_0x3b6c16(0x442)+_0x227ce7+'\x22>'+_0x50f5fc+_0x3b6c16(0x1d3)+_0x289c65+'\x20'+_0x3905f4+'<span\x20class=\x22block\x20text-sm\x20'+_0x998d29+_0x3b6c16(0x100)+_0x227ce7+_0x3b6c16(0xa35)+_0x377d21+_0x3b6c16(0x882):_0x375c93='<div\x20style=\x22'+_0xbff408+'\x22\x20title=\x22'+_0x377d21+_0x3b6c16(0x96c)+_0x227ce7+'\x22>'+_0x377d21+_0x3b6c16(0x1d3)+_0x289c65+'\x20'+_0x3905f4+_0x3b6c16(0xdc0),_0x5dd820=_0x345f12;else{if(_0x2f1c6f&&_0x59f954)_0x375c93=_0x3b6c16(0x78d)+_0xbff408+_0x3b6c16(0x22e)+_0x50f5fc+_0x3b6c16(0x96c)+_0x227ce7+'\x22>'+_0x50f5fc+_0x3b6c16(0x1d3)+_0x289c65+'\x20'+_0x3905f4+_0x3b6c16(0xbb4)+_0x998d29+'\x22\x20style=\x22'+_0x227ce7+'\x22>('+_0x377d21+')</span></div>',_0x5dd820=_0x345f12;else _0x65138a?(_0x375c93='<div\x20style=\x22'+_0xbff408+_0x3b6c16(0x22e)+_0x50f5fc+_0x3b6c16(0x96c)+_0x227ce7+'\x22>'+_0x50f5fc+_0x3b6c16(0x1d3)+_0x289c65+'\x20'+_0x3905f4+_0x3b6c16(0xdc0),_0x5dd820=''):(_0x375c93=_0x3b6c16(0x78d)+_0xbff408+_0x3b6c16(0x22e)+_0x50f5fc+_0x3b6c16(0x96c)+_0x227ce7+'\x22>'+_0x50f5fc+'</span>\x20'+_0x289c65+'\x20'+_0x3905f4+_0x3b6c16(0xdc0),_0x5dd820=_0x345f12);}}return _0x3b6c16(0xc53)+_0xba08de+'\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20w-6\x20text-center\x22>'+_0x5130a0[_0x3b6c16(0x313)]+_0x3b6c16(0xaa9)+_0x375c93+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5dd820+_0x3b6c16(0x131);})['join'](''),_0x4d22f3=_0x369776['map']((_0x59f73a,_0x4c59d7)=>{const _0x20c30c=_0x459ee2;if(_0xf014ab&&_0x4c59d7>_0x56af26||_0x65138a)return'';const _0x266479=_0x3a019b['filter'](_0x116f5c=>_0x116f5c[_0x20c30c(0x749)]&&_0x116f5c['answers']['find'](_0x3c7a97=>_0x3c7a97[_0x20c30c(0xda4)]===_0x4c59d7&&_0x3c7a97[_0x20c30c(0xb7c)]))['length'],_0x45f490=_0x4c59d7===_0x56af26,_0x2a7f94=_0x45f490?_0x20c30c(0x1eb):_0x20c30c(0xcb5);return _0x20c30c(0x9b0)+_0x2a7f94+_0x20c30c(0xbf3)+(_0x4c59d7+0x1)+_0x20c30c(0x5e5)+_0x266479+'\x20/\x20'+_0x516904+_0x20c30c(0x249);})['join']('');let _0x318cc3='',_0x265b7f='';if(_0x9fdb36){const _0x14a34a=_0x12eb9c===_0x459ee2(0x6ac)&&_0x5e951e[_0x459ee2(0x854)]>=_0x369776['length']-0x1,_0x2fd134=_0xf014ab&&_0x5e951e[_0x459ee2(0x178)]>=_0x369776[_0x459ee2(0x110)]-0x1,_0x24492e=_0x12eb9c===_0x459ee2(0x2ff)&&_0x5e951e[_0x459ee2(0x854)]>=_0x369776[_0x459ee2(0x110)]-0x1,_0x2ea665=_0x2f1c6f&&!_0xf014ab&&_0x5e951e['currentQuestionIndex']>=_0x369776[_0x459ee2(0x110)]-0x1;if(_0xf014ab)_0x2fd134?_0x2f1c6f&&!_0x59f954?_0x318cc3=_0x459ee2(0x4b1):_0x318cc3=_0x459ee2(0x57b):_0x318cc3=_0x459ee2(0x87c);else _0x14a34a||_0x24492e||_0x2ea665?_0x2f1c6f&&!_0x59f954?_0x318cc3=_0x459ee2(0x4b1):_0x318cc3=_0x459ee2(0x57b):_0x318cc3=_0x459ee2(0x33f);_0x265b7f=_0x459ee2(0xdad);}const _0x13799f=_0x65138a||_0x2f1c6f&&!_0x5e951e[_0x459ee2(0xb9e)]?'':_0x459ee2(0x3b2)+_0x4d22f3+_0x459ee2(0x362),_0x238718=_0x65138a||_0x2f1c6f&&!_0x5e951e['showAnswerInAnonymous']?_0x459ee2(0xbe9):_0x459ee2(0x439),_0x3bcf83=getCentralPotHTML(_0x5e951e),_0x4458e0=_0x459ee2(0x4fd)+_0x5e951e['shuffledQuiz'][_0x459ee2(0xe5f)]+_0x459ee2(0x9b7)+_0x5e951e['pin']+_0x459ee2(0x859)+_0x3bcf83+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x265b7f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2e53bf+_0x459ee2(0x4e3)+_0x238718+_0x459ee2(0x6b5)+(_0xf4ebbb||'<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>')+_0x459ee2(0xe24)+_0x13799f+_0x459ee2(0xde2)+(_0x9fdb36?_0x459ee2(0x67a)+_0x318cc3+_0x459ee2(0xdc0):'')+_0x459ee2(0x1f9);liveGameView[_0x459ee2(0x545)]=_0x4458e0;if(window[_0x459ee2(0x4d4)]){const _0x599e13=document[_0x459ee2(0x283)]('main-correct-answer-display');_0x599e13&&MathJax['typesetPromise']([_0x599e13]);}if(_0x9fdb36){const _0x54bab3=document['getElementById'](_0x459ee2(0x7a1));_0x54bab3&&(_0x54bab3['onclick']=async()=>{const _0x216530=_0x459ee2,_0x2d4924=doc(db,_0x216530(0x981)+appId+_0x216530(0x7f8),currentLiveGameId),_0x5d1f25=_0x5e951e[_0x216530(0x854)]+0x1,_0x4e4ea1=_0x5e951e[_0x216530(0x84d)][_0x216530(0x13f)][_0x216530(0x110)];!_0xf014ab&&_0x5d1f25<_0x4e4ea1?await updateDoc(_0x2d4924,{'status':_0x216530(0xc78),'currentQuestionIndex':_0x5d1f25,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]}):await updateDoc(_0x2d4924,{'status':_0x216530(0x46f)});});const _0x50792f=document[_0x459ee2(0x283)]('next-review-question-btn');_0x50792f&&(_0x50792f[_0x459ee2(0x74a)]=async()=>{const _0x160553=_0x459ee2,_0x4bc0d2=doc(db,_0x160553(0x981)+appId+_0x160553(0x7f8),currentLiveGameId);await updateDoc(_0x4bc0d2,{'reviewQuestionIndex':increment(0x1)});});document[_0x459ee2(0x283)](_0x459ee2(0x370))?.[_0x459ee2(0x844)](_0x459ee2(0x425),async()=>{const _0xd1920b=_0x459ee2;await updateDoc(doc(db,_0xd1920b(0x981)+appId+_0xd1920b(0x7f8),currentLiveGameId),{'isAnonymousRevealed':!![]});});const _0x4f71b7=document['getElementById'](_0x459ee2(0x31d));_0x4f71b7&&(_0x4f71b7[_0x459ee2(0x74a)]=()=>{const _0x1f98c3=_0x459ee2;showConfirmation(_0x1f98c3(0x698),async()=>{const _0xf00f13=_0x1f98c3;await updateDoc(doc(db,_0xf00f13(0x981)+appId+_0xf00f13(0x7f8),currentLiveGameId),{'status':_0xf00f13(0x46f)});});});}}async function handleGenerateParallelFromBank(_0x5a69bf){const _0xa0975c=_0x3db3a6,_0x55fe9a=document[_0xa0975c(0x283)](_0xa0975c(0x66d)),_0x1d46d4=document['getElementById'](_0xa0975c(0x838));_0x1d46d4[_0xa0975c(0x605)][_0xa0975c(0xd74)]('hidden');const _0x17358b=_0xa0975c(0x673)+_0x5a69bf['topic']+_0xa0975c(0x6df);_0x55fe9a[_0xa0975c(0xc4c)](_0xa0975c(0x136),_0x17358b);const _0x2d1844=document[_0xa0975c(0x283)]('temp-loader-text-results');try{const _0x522cd4=_0x5a69bf[_0xa0975c(0x13f)][_0xa0975c(0x87e)]((_0x5d8cee,_0x4d4ab0)=>{const _0x534090=_0xa0975c;let _0x17c94f=_0x4d4ab0+0x1+'.\x20'+(_0x5d8cee[_0x534090(0xb0e)]||_0x5d8cee[_0x534090(0x2f5)])+'\x0a';if(_0x5d8cee[_0x534090(0xbed)])_0x17c94f+=_0x5d8cee['options']['map']((_0x1497d6,_0x320bd8)=>_0x534090(0x877)+(_0x320bd8===_0x5d8cee[_0x534090(0x7ed)]?_0x534090(0x656):'')+'\x20'+_0x1497d6)[_0x534090(0xd6e)]('\x0a');else _0x5d8cee[_0x534090(0x649)]&&(_0x17c94f+=_0x534090(0x8fb)+_0x5d8cee[_0x534090(0x649)]);return _0x17c94f;})[_0xa0975c(0xd6e)]('\x0a\x0a');_0x2d1844[_0xa0975c(0x1bd)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x522440=_0xa0975c(0xa7f)+_0x5a69bf['topic']+_0xa0975c(0x70e)+_0x522cd4+_0xa0975c(0xc9f)+simpleMathPrompt+_0xa0975c(0x9ba),_0x36c003={'type':_0xa0975c(0xbc1),'properties':{'questionText':{'type':_0xa0975c(0xa44)},'questionType':{'type':'STRING','enum':[_0xa0975c(0x6f2),_0xa0975c(0x358),_0xa0975c(0x50e),_0xa0975c(0x1f4)]},'options':{'type':_0xa0975c(0x1ff),'items':{'type':_0xa0975c(0xa44)}},'correctAnswerIndex':{'type':_0xa0975c(0xc1d)},'idealAnswer':{'type':_0xa0975c(0xa44)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':'STRING'},'correctResponse':{'type':_0xa0975c(0xa44)},'allResponses':{'type':_0xa0975c(0x1ff),'items':{'type':_0xa0975c(0xa44)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0xa0975c(0xa44)}},'required':[_0xa0975c(0x430),_0xa0975c(0x166)]},_0x4b8113={'type':_0xa0975c(0xbc1),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0xa0975c(0x1ff),'items':_0x36c003}},'required':[_0xa0975c(0xe5f),'questions']},_0xac7c68=await callAnalysisApi(_0x522440,_0x4b8113),_0x439f8a=_0xac7c68['questions']['map']((_0x4506b8,_0x3b1d30)=>({..._0x4506b8,'id':'q_'+Date[_0xa0975c(0x9e4)]()+'_'+_0x3b1d30})),_0x7c0167=_0xa0975c(0x46e)+_0x5a69bf[_0xa0975c(0xe5f)],_0x5d189e={'topic':_0x7c0167,'questions':_0x439f8a,'quizType':_0x5a69bf[_0xa0975c(0x461)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0xa0975c(0x848)](),'status':_0xa0975c(0xcce),'settings':_0x5a69bf[_0xa0975c(0x477)],'quizMode':_0xa0975c(0x6e8),'pairedQuizId':null,'lessonPlan':null};let _0xf17742;while(!![]){_0xf17742=Math[_0xa0975c(0x7f6)](0x3e8+Math['random']()*0x2328)[_0xa0975c(0x99d)]();const _0x2951f1=await getDoc(doc(db,_0xa0975c(0x981)+appId+_0xa0975c(0x8e0),_0xf17742));if(!_0x2951f1[_0xa0975c(0xaed)]())break;}await setDoc(doc(db,_0xa0975c(0x981)+appId+'/public/data/quizzes',_0xf17742),_0x5d189e),showMessage('สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!');}catch(_0x4ca776){console['error'](_0xa0975c(0x143),_0x4ca776),showMessage(_0xa0975c(0xe07)+_0x4ca776[_0xa0975c(0x226)]);}finally{const _0x7f6a2a=document['getElementById'](_0xa0975c(0x22a));_0x7f6a2a&&_0x7f6a2a[_0xa0975c(0x31b)](),_0x1d46d4[_0xa0975c(0x605)][_0xa0975c(0x31b)](_0xa0975c(0x9a0));}}async function handleGenerateParallelPostTest(_0x2aeea){const _0x2b4bb4=_0x3db3a6,_0xd7b849=document['getElementById'](_0x2b4bb4(0x66d)),_0x40a1ba=document[_0x2b4bb4(0x283)](_0x2b4bb4(0x838));_0x40a1ba[_0x2b4bb4(0x605)][_0x2b4bb4(0xd74)](_0x2b4bb4(0x9a0));const _0x1776e9=_0x2b4bb4(0x9e7);_0xd7b849[_0x2b4bb4(0xc4c)](_0x2b4bb4(0x136),_0x1776e9);try{const _0x4db777=_0x2aeea['questions'][_0x2b4bb4(0x87e)]((_0x6cc9a4,_0x30ad9e)=>{const _0x3edc51=_0x2b4bb4;let _0xfaa81e=_0x30ad9e+0x1+'.\x20'+(_0x6cc9a4['questionText']||_0x6cc9a4['stem']);if(_0x6cc9a4['options'])_0xfaa81e+='\x0a\x20\x20\x20-\x20ตัวเลือก:\x20'+_0x6cc9a4[_0x3edc51(0xbed)][_0x3edc51(0xd6e)](',\x20');return _0xfaa81e;})[_0x2b4bb4(0xd6e)]('\x0a\x0a'),_0x417ce8=_0x2b4bb4(0x464)+_0x2aeea[_0x2b4bb4(0xe5f)]+_0x2b4bb4(0x88f)+_0x4db777+_0x2b4bb4(0xa16)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x377864={'type':_0x2b4bb4(0xbc1),'properties':{'topic':{'type':_0x2b4bb4(0xa44)},'questions':{'type':'ARRAY','items':{'type':_0x2b4bb4(0xbc1),'properties':{'questionText':{'type':_0x2b4bb4(0xa44)},'questionType':{'type':_0x2b4bb4(0xa44)},'options':{'type':_0x2b4bb4(0x1ff),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2b4bb4(0xa44)}},'required':['questionText',_0x2b4bb4(0x166)]}}},'required':[_0x2b4bb4(0xe5f),_0x2b4bb4(0x13f)]},_0x553b67=await callAnalysisApi(_0x417ce8,_0x377864),_0x17e452=_0x2aeea[_0x2b4bb4(0xe5f)][_0x2b4bb4(0x950)](_0x2b4bb4(0xbd7),'')['trim'](),_0x2a89d2=_0x2b4bb4(0xc66)+_0x17e452,_0x4d763e={..._0x553b67,'topic':_0x2a89d2,'quizType':_0x2aeea[_0x2b4bb4(0x461)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x2b4bb4(0x848)](),'status':_0x2b4bb4(0xcce),'settings':_0x2aeea[_0x2b4bb4(0x477)],'quizMode':'post-test','pairedQuizId':_0x2aeea['id']};let _0x1c2de7;while(!![]){_0x1c2de7=Math[_0x2b4bb4(0x7f6)](0x3e8+Math[_0x2b4bb4(0x2cc)]()*0x2328)[_0x2b4bb4(0x99d)]();const _0x56ed75=await getDoc(doc(db,_0x2b4bb4(0x981)+appId+_0x2b4bb4(0x8e0),_0x1c2de7));if(!_0x56ed75[_0x2b4bb4(0xaed)]())break;}await setDoc(doc(db,_0x2b4bb4(0x981)+appId+'/public/data/quizzes',_0x1c2de7),_0x4d763e);const _0x11ed54=doc(db,_0x2b4bb4(0x981)+appId+_0x2b4bb4(0x8e0),_0x2aeea['id']);await updateDoc(_0x11ed54,{'pairedQuizId':_0x1c2de7}),showMessage(_0x2b4bb4(0xb0f));}catch(_0xa7816d){console['error'](_0x2b4bb4(0x347),_0xa7816d),showMessage(_0x2b4bb4(0xe07)+_0xa7816d[_0x2b4bb4(0x226)]);}finally{const _0x4d097a=document[_0x2b4bb4(0x283)]('temp-loader-results');if(_0x4d097a)_0x4d097a[_0x2b4bb4(0x31b)]();_0x40a1ba[_0x2b4bb4(0x605)][_0x2b4bb4(0x31b)](_0x2b4bb4(0x9a0));}}async function handleGenerateParallelTest(_0x1bb54c=null){const _0x4fee85=_0x3db3a6;let _0x5c4d2d=_0x1bb54c;if(!_0x5c4d2d){const _0x5661b9=document['getElementById'](_0x4fee85(0x779));_0x5661b9[_0x4fee85(0x7a4)][_0x4fee85(0x110)]>0x0&&(_0x5c4d2d=_0x5661b9['files'][0x0]);}if(!_0x5c4d2d){showMessage(_0x4fee85(0x2c8));return;}const _0x3ab2de=document['getElementById'](_0x4fee85(0x344)),_0x114db7=document[_0x4fee85(0x283)](_0x4fee85(0x550)),_0x35723f=document['getElementById']('generated-quiz-container'),_0x1b1cfa=document['getElementById'](_0x4fee85(0x47f));_0x1b1cfa[_0x4fee85(0xc71)]=!![],document['getElementById'](_0x4fee85(0x1a0))[_0x4fee85(0x605)][_0x4fee85(0x31b)](_0x4fee85(0x9a0)),_0x35723f['innerHTML']='',_0x3ab2de[_0x4fee85(0x605)][_0x4fee85(0x31b)](_0x4fee85(0x9a0)),_0x114db7[_0x4fee85(0x1bd)]=_0x4fee85(0xdf0);const _0x56dbf6=new FileReader();_0x56dbf6[_0x4fee85(0x640)](_0x5c4d2d),_0x56dbf6[_0x4fee85(0xafb)]=async()=>{const _0xf3a0db=_0x4fee85;try{const _0x46cbc0=_0x56dbf6[_0xf3a0db(0x796)][_0xf3a0db(0x7ea)](',')[0x1],_0x225f14=_0x5c4d2d[_0xf3a0db(0x816)];_0x114db7[_0xf3a0db(0x1bd)]=_0xf3a0db(0x332);const _0x56b259=document[_0xf3a0db(0x283)](_0xf3a0db(0x305))[_0xf3a0db(0x61b)],_0x4d0c88=_0x56b259?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x3c2ff3=_0xf3a0db(0xb53),_0x117418={'type':'OBJECT','properties':{'questionText':{'type':_0xf3a0db(0xa44)},'questionType':{'type':'STRING','enum':[_0xf3a0db(0x6f2),_0xf3a0db(0x358)]},'options':{'type':'ARRAY','items':{'type':_0xf3a0db(0xa44)}},'correctAnswerIndex':{'type':_0xf3a0db(0xc1d)},'idealAnswer':{'type':_0xf3a0db(0xa44)},'explanation':{'type':_0xf3a0db(0xa44)},'imageCode':{'type':_0xf3a0db(0xa44)}},'required':[_0xf3a0db(0xb0e),_0xf3a0db(0x430),'explanation']},_0x324544={'type':_0xf3a0db(0xbc1),'properties':{'topic':{'type':_0xf3a0db(0xa44)},'questions':{'type':_0xf3a0db(0x1ff),'items':_0x117418}},'required':[_0xf3a0db(0xe5f),_0xf3a0db(0x13f)]},_0x5754ab=[{'text':_0x3c2ff3},{'inlineData':{'mimeType':_0x225f14,'data':_0x46cbc0}}];await handleApiCall(_0x5754ab,'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...',_0x324544);}catch(_0x15e6a1){console[_0xf3a0db(0xe4d)](_0xf3a0db(0x25d),_0x15e6a1),showMessage(_0xf3a0db(0xe07)+_0x15e6a1[_0xf3a0db(0x226)]),_0x35723f[_0xf3a0db(0x545)]=_0xf3a0db(0x133);}finally{_0x3ab2de[_0xf3a0db(0x605)][_0xf3a0db(0xd74)](_0xf3a0db(0x9a0)),_0x1b1cfa['disabled']=![];}},_0x56dbf6[_0x4fee85(0x29a)]=_0x436444=>{const _0x3b72e3=_0x4fee85;console[_0x3b72e3(0xe4d)](_0x3b72e3(0xdda),_0x436444),showMessage(_0x3b72e3(0x5cb)),_0x3ab2de[_0x3b72e3(0x605)]['add']('hidden'),_0x1b1cfa[_0x3b72e3(0xc71)]=![];};}async function handleRegenerateQuestionInEditor(_0x548efe){const _0x158336=_0x3db3a6;if(currentEditingQuizData===null)return;const _0x5f1548=document['querySelector'](_0x158336(0x41d)+_0x548efe+'\x22]');_0x5f1548&&(_0x5f1548[_0x158336(0x545)]=_0x158336(0x39b));const _0x46ac13=currentEditingQuizData['questions'][_0x548efe],_0x1c28be=currentEditingQuizData[_0x158336(0xe5f)],_0x2518a2=_0x46ac13[_0x158336(0x430)],_0x464518={'type':_0x158336(0xbc1),'properties':{'questionText':{'type':_0x158336(0xa44)},'options':{'type':_0x158336(0x1ff),'items':{'type':_0x158336(0xa44)}},'correctAnswerIndex':{'type':_0x158336(0xc1d)},'explanation':{'type':_0x158336(0xa44)}},'required':['questionText',_0x158336(0xbed),_0x158336(0x7ed),_0x158336(0x166)]},_0x31f497={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x158336(0xa44)}},'required':['questionText',_0x158336(0x649),_0x158336(0x166)]};let _0xfe702d,_0x412e1f='';_0x2518a2===_0x158336(0x6f2)?(_0xfe702d=_0x464518,_0x412e1f=_0x158336(0x573)):(_0xfe702d=_0x31f497,_0x412e1f=_0x158336(0x27c));const _0x59c933='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x1c28be+_0x158336(0xc04)+_0x412e1f+_0x158336(0x536)+(_0x46ac13[_0x158336(0xb0e)]||_0x46ac13[_0x158336(0x2f5)])+_0x158336(0xb46)+simpleMathPrompt;try{const _0x2e4d59=await callAnalysisApi(_0x59c933,_0xfe702d);currentEditingQuizData[_0x158336(0x13f)][_0x548efe]={..._0x46ac13,..._0x2e4d59},renderQuizEditor(currentEditingQuizData);}catch(_0x36dfa8){console[_0x158336(0xe4d)]('Error\x20regenerating\x20question\x20in\x20editor:',_0x36dfa8),showMessage(_0x158336(0x340)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x20e6b6=_0x3db3a6,_0x147fa1=document[_0x20e6b6(0x283)](_0x20e6b6(0x404));currentMode===_0x20e6b6(0xae3)?(currentMode=_0x20e6b6(0xa9),_0x147fa1[_0x20e6b6(0x545)]=_0x20e6b6(0x3a1),_0x147fa1[_0x20e6b6(0x569)]=_0x20e6b6(0xc0c),showView(_0x20e6b6(0x8b0))):(currentMode='student',_0x147fa1[_0x20e6b6(0x545)]='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x147fa1[_0x20e6b6(0x569)]=_0x20e6b6(0x4f8),showView(_0x20e6b6(0xae3)));}function handleAdminLogin(){const _0x24a77c=_0x3db3a6,_0x40328f=document[_0x24a77c(0x283)](_0x24a77c(0x4dd)),_0x2497c1=document[_0x24a77c(0x283)]('password-error-msg');if(_0x40328f[_0x24a77c(0xa89)]===_0x24a77c(0xd2b)){adminPasswordModal[_0x24a77c(0x605)][_0x24a77c(0xd74)](_0x24a77c(0x9a0)),_0x40328f[_0x24a77c(0xa89)]='',_0x2497c1[_0x24a77c(0x605)][_0x24a77c(0xd74)](_0x24a77c(0x9a0)),currentMode=_0x24a77c(0xa9);const _0x51fd45=document[_0x24a77c(0x283)](_0x24a77c(0x404));_0x51fd45[_0x24a77c(0x545)]=_0x24a77c(0x3a1),_0x51fd45[_0x24a77c(0x569)]=_0x24a77c(0xc0c),showView('admin-dashboard');}else _0x2497c1[_0x24a77c(0x605)][_0x24a77c(0x31b)](_0x24a77c(0x9a0)),_0x40328f[_0x24a77c(0xa89)]='';}function switchProjectTab(_0x340e6e){const _0x4bec0e=_0x3db3a6;[_0x4bec0e(0x98a),_0x4bec0e(0x940),_0x4bec0e(0x354)][_0x4bec0e(0x277)](_0xe2d21=>{const _0x194069=_0x4bec0e;document[_0x194069(0x283)](_0xe2d21+_0x194069(0x9ce))[_0x194069(0x605)][_0x194069(0x31b)](_0x194069(0xcce)),document['getElementById'](_0xe2d21+_0x194069(0x5ac))['classList']['add'](_0x194069(0x9a0));}),document[_0x4bec0e(0x283)](_0x340e6e+_0x4bec0e(0x9ce))['classList']['add'](_0x4bec0e(0xcce)),document[_0x4bec0e(0x283)](_0x340e6e+_0x4bec0e(0x5ac))[_0x4bec0e(0x605)][_0x4bec0e(0x31b)](_0x4bec0e(0x9a0));}function switchQuizDetailTab(_0x392d83){const _0xc35a33=_0x3db3a6,_0x1401bc={'analytics':{'btn':_0xc35a33(0x690),'content':_0xc35a33(0xbe4)},'scores':{'btn':_0xc35a33(0xcd3),'content':_0xc35a33(0xab)},'leaderboard-quiz':{'btn':_0xc35a33(0x21e),'content':_0xc35a33(0x179)},'behavior-log':{'btn':_0xc35a33(0xcfc),'content':'behavior-log-tab-content'}};for(const _0x208eac in _0x1401bc){document[_0xc35a33(0x283)](_0x1401bc[_0x208eac][_0xc35a33(0x3dd)])[_0xc35a33(0x605)]['remove'](_0xc35a33(0xcce)),document[_0xc35a33(0x283)](_0x1401bc[_0x208eac]['content'])['classList']['add'](_0xc35a33(0x9a0));}document[_0xc35a33(0x283)](_0x1401bc[_0x392d83][_0xc35a33(0x3dd)])[_0xc35a33(0x605)]['add']('active'),document[_0xc35a33(0x283)](_0x1401bc[_0x392d83][_0xc35a33(0x44c)])[_0xc35a33(0x605)][_0xc35a33(0x31b)]('hidden');}function showMessage(_0x4131d7,_0x4fd450=null){const _0x3f923f=_0x3db3a6;modalMessage['innerHTML']=_0x4131d7[_0x3f923f(0x950)](/\n/g,_0x3f923f(0xb65)),modalConfirmAction=_0x4fd450,messageModal[_0x3f923f(0x605)]['remove'](_0x3f923f(0x9a0));}function showConfirmation(_0x52de9a,_0x57343f,_0x37b524=null){const _0x44b529=_0x3db3a6;document[_0x44b529(0x283)](_0x44b529(0xb8a))[_0x44b529(0x1bd)]=_0x52de9a,document[_0x44b529(0x283)](_0x44b529(0x44d))[_0x44b529(0x1a6)]('h3')['textContent']=_0x44b529(0x4f1),confirmAction=_0x57343f,cancelAction=_0x37b524,confirmationModal[_0x44b529(0x605)][_0x44b529(0x31b)](_0x44b529(0x9a0));}function listenForProjects(){const _0x24c8f3=_0x3db3a6,_0x23ca20=doc(db,_0x24c8f3(0x2c2),'dashboardConfig');onSnapshot(_0x23ca20,_0x2c774b=>{const _0x568a81=_0x24c8f3;if(_0x2c774b[_0x568a81(0xaed)]()){const _0x2d0088=_0x2c774b['data']();globalDashboardSettings[_0x568a81(0x2da)]=_0x2d0088[_0x568a81(0x2da)]||_0x568a81(0xc75),globalDashboardSettings[_0x568a81(0xd1)]=_0x2d0088[_0x568a81(0xd1)]||[],globalDashboardSettings[_0x568a81(0xc98)]=_0x2d0088['projectOrder']||[];}allProjects['length']>0x0&&renderProjects();});const _0x4cb3fc=collection(db,_0x24c8f3(0x981)+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0x4cb3fc,_0x1a8c1b=>{const _0x17f67e=_0x24c8f3;allProjects=_0x1a8c1b[_0x17f67e(0xcf4)][_0x17f67e(0x87e)](_0x15488e=>({'id':_0x15488e['id'],..._0x15488e['data']()})),renderProjects();},_0x23bb2c=>{const _0x18452a=_0x24c8f3;console[_0x18452a(0xe4d)]('Error\x20listening\x20for\x20projects:',_0x23bb2c),showMessage(_0x18452a(0xa70));});}function showColorPalette(_0x21dbad,_0x54d148){const _0x2cbee3=_0x3db3a6;document[_0x2cbee3(0x68a)](_0x2cbee3(0xbfa))[_0x2cbee3(0x277)](_0xee3ab6=>_0xee3ab6[_0x2cbee3(0x31b)]());const _0x172c67=['#FFFFFF',_0x2cbee3(0x4c8),_0x2cbee3(0xacc),_0x2cbee3(0x31c),'#DBEAFE',_0x2cbee3(0x1cd),_0x2cbee3(0xbc5),_0x2cbee3(0x67b),_0x2cbee3(0xe1a)],_0x37c554=document[_0x2cbee3(0x1d1)](_0x2cbee3(0x223));_0x37c554[_0x2cbee3(0xbc2)]=_0x2cbee3(0x87d),_0x172c67['forEach'](_0x4aaea0=>{const _0x24400b=_0x2cbee3,_0x2c7f6e=document[_0x24400b(0x1d1)]('div');_0x2c7f6e[_0x24400b(0xbc2)]=_0x24400b(0xfe),_0x2c7f6e[_0x24400b(0xbeb)][_0x24400b(0x6f9)]=_0x4aaea0,_0x2c7f6e[_0x24400b(0x844)](_0x24400b(0x425),()=>{const _0x1ac030=_0x24400b;handleProjectColorChange(_0x54d148,_0x4aaea0),_0x37c554[_0x1ac030(0x31b)]();}),_0x37c554[_0x24400b(0x2ea)](_0x2c7f6e);}),document[_0x2cbee3(0x379)][_0x2cbee3(0x2ea)](_0x37c554);const _0x583d83=_0x21dbad['getBoundingClientRect']();_0x37c554[_0x2cbee3(0xbeb)]['top']=_0x583d83['bottom']+window[_0x2cbee3(0xc67)]+'px',_0x37c554[_0x2cbee3(0xbeb)][_0x2cbee3(0x976)]=_0x583d83[_0x2cbee3(0x976)]+window[_0x2cbee3(0x40f)]-_0x37c554[_0x2cbee3(0xd84)]/0x2+'px';}async function handleProjectColorChange(_0x400403,_0x337319){const _0x172cc3=_0x3db3a6,_0x5a3df7=doc(db,_0x172cc3(0x981)+appId+_0x172cc3(0x7ee),_0x400403);try{await updateDoc(_0x5a3df7,{'color':_0x337319});}catch(_0x5a9694){console[_0x172cc3(0xe4d)]('Error\x20updating\x20project\x20color:',_0x5a9694),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x504b05=_0x3db3a6,_0x37e0bf=globalDashboardSettings[_0x504b05(0x2da)]||'date_desc',_0x2aed25=new Set(globalDashboardSettings[_0x504b05(0xd1)]||[]),_0x51272f=globalDashboardSettings['projectView']||'grid',_0x7ba024=document[_0x504b05(0x283)](_0x504b05(0x622)),_0x5d460b=document['getElementById'](_0x504b05(0x93e));_0x7ba024[_0x504b05(0x605)][_0x504b05(0xc7c)](_0x504b05(0xcce),_0x51272f===_0x504b05(0xa07)),_0x5d460b[_0x504b05(0x605)][_0x504b05(0xc7c)](_0x504b05(0xcce),_0x51272f===_0x504b05(0x823)),document[_0x504b05(0x283)]('project-sort-select')[_0x504b05(0xa89)]=_0x37e0bf;const _0x279212=document['getElementById']('project-search-input')[_0x504b05(0xa89)][_0x504b05(0xa8)]();let _0x437828=allProjects['filter'](_0x54e040=>_0x54e040[_0x504b05(0xe60)][_0x504b05(0xa8)]()[_0x504b05(0x2e8)](_0x279212));const _0x29ffa8=_0x437828[_0x504b05(0x1a1)](_0x4a44eb=>_0x2aed25['has'](_0x4a44eb['id'])),_0x21b2c5=_0x437828['filter'](_0x120822=>!_0x2aed25[_0x504b05(0x205)](_0x120822['id'])),_0x1809d4=(_0x421448,_0xf72102)=>{const _0x341643=_0x504b05;switch(_0x37e0bf){case'name_asc':return _0x421448[_0x341643(0xe60)][_0x341643(0x879)](_0xf72102[_0x341643(0xe60)],'th');case _0x341643(0xa4f):return _0xf72102[_0x341643(0xe60)]['localeCompare'](_0x421448[_0x341643(0xe60)],'th');case'date_asc':return new Date(_0x421448[_0x341643(0xb8e)])-new Date(_0xf72102[_0x341643(0xb8e)]);default:return new Date(_0xf72102['createdAt'])-new Date(_0x421448['createdAt']);}};_0x29ffa8[_0x504b05(0x667)](_0x1809d4),_0x21b2c5[_0x504b05(0x667)](_0x1809d4);const _0x355b8b=[..._0x29ffa8,..._0x21b2c5],_0x34fc60=globalDashboardSettings[_0x504b05(0xc98)]||[];_0x34fc60['length']>0x0&&_0x51272f===_0x504b05(0xa07)&&_0x355b8b[_0x504b05(0x667)]((_0x5a0f41,_0x2987e8)=>{const _0xb83e48=_0x504b05,_0xbbe124=_0x34fc60[_0xb83e48(0x52f)](_0x5a0f41['id']),_0xfdbc74=_0x34fc60[_0xb83e48(0x52f)](_0x2987e8['id']);if(_0xbbe124===-0x1)return 0x1;if(_0xfdbc74===-0x1)return-0x1;return _0xbbe124-_0xfdbc74;});const _0x288381={};await Promise['all'](_0x355b8b['map'](async _0x39c1fd=>{const _0x3828b0=_0x504b05,_0x17d7c4=query(collection(db,'artifacts/'+appId+_0x3828b0(0x8e0)),where('projectId','==',_0x39c1fd['id'])),_0x3bd4ae=await getCountFromServer(_0x17d7c4);_0x288381[_0x39c1fd['id']]=_0x3bd4ae[_0x3828b0(0x366)]()[_0x3828b0(0x7c1)];}));const _0x430c95=document[_0x504b05(0x283)](_0x504b05(0x407));let _0x2401f7='';if(_0x51272f===_0x504b05(0xa07)){_0x430c95[_0x504b05(0xbc2)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes['length']>0x0&&_0x279212===''){const _0x10345a=starredQuizzes[_0x504b05(0x87e)](_0x5b6d72=>{const _0x34cad7=_0x504b05,_0x4ce8f4=allProjects[_0x34cad7(0xe8)](_0x3cda74=>_0x3cda74['id']===_0x5b6d72[_0x34cad7(0x47e)]);return{..._0x5b6d72,'projectName':_0x4ce8f4?_0x4ce8f4[_0x34cad7(0xe60)]:'N/A'};});_0x2401f7+=_0x504b05(0x9ca)+_0x10345a['map'](_0x1f433d=>_0x504b05(0xa54)+_0x1f433d[_0x504b05(0xe5f)]+'\x22>'+_0x1f433d['topic']+_0x504b05(0xa69)+_0x1f433d[_0x504b05(0xe60)]+'\x22>จาก:\x20'+_0x1f433d[_0x504b05(0xe60)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x504b05(0xd6e)]('')+_0x504b05(0x264)+starredQuizzes[_0x504b05(0x110)]+_0x504b05(0x5cc);}_0x355b8b['forEach'](_0x15978f=>{const _0x9ab9cb=_0x504b05,_0x5baa76=_0x288381[_0x15978f['id']]??0x0,_0x216b02=_0x2aed25[_0x9ab9cb(0x205)](_0x15978f['id']),_0x14a4b3=_0x15978f[_0x9ab9cb(0x6b1)]||_0x9ab9cb(0xe13),_0x3a4f7d=parseInt(_0x14a4b3['substring'](0x1,0x3),0x10)*0.299+parseInt(_0x14a4b3[_0x9ab9cb(0xa2a)](0x3,0x5),0x10)*0.587+parseInt(_0x14a4b3[_0x9ab9cb(0xa2a)](0x5,0x7),0x10)*0.114<0xba,_0x3c8a6d=_0x3a4f7d?_0x9ab9cb(0x1fe):_0x9ab9cb(0x412),_0x582fac=_0x3a4f7d?_0x9ab9cb(0x1ba):'text-gray-500';_0x2401f7+=_0x9ab9cb(0xae7)+(_0x216b02?'border-indigo-400\x20ring-2\x20ring-indigo-200':_0x9ab9cb(0xcba))+_0x9ab9cb(0xd69)+_0x14a4b3+_0x9ab9cb(0x2ae)+_0x15978f['id']+_0x9ab9cb(0x748)+_0x15978f['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x3a4f7d?_0x9ab9cb(0x731):_0x9ab9cb(0x549))+'\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x15978f['id']+_0x9ab9cb(0x666)+(_0x3a4f7d?_0x9ab9cb(0x731):_0x9ab9cb(0x549))+_0x9ab9cb(0x5cd)+(_0x216b02?_0x3a4f7d?_0x9ab9cb(0xbe7):'text-indigo-600':'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22'+_0x15978f['id']+_0x9ab9cb(0x4cd)+_0x3c8a6d+_0x9ab9cb(0xa21)+_0x15978f['projectName']+_0x9ab9cb(0x2db)+_0x582fac+_0x9ab9cb(0xa58)+new Date(_0x15978f[_0x9ab9cb(0xb8e)])[_0x9ab9cb(0xc8c)]('th-TH')+_0x9ab9cb(0x624)+(_0x3a4f7d?'text-gray-100':'text-gray-700')+_0x9ab9cb(0xdd5)+_0x5baa76+_0x9ab9cb(0x760)+_0x15978f['id']+'\x22\x20data-name=\x22'+_0x15978f['projectName']+_0x9ab9cb(0xc1a)+(_0x3a4f7d?'text-red-300\x20hover:text-red-100':_0x9ab9cb(0x76a))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x430c95[_0x504b05(0xbc2)]=_0x504b05(0xdee),starredQuizzes[_0x504b05(0x110)]>0x0&&_0x279212===''&&(_0x2401f7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+starredQuizzes[_0x504b05(0x110)]+_0x504b05(0x447)),_0x2401f7+=_0x504b05(0xd0a),_0x355b8b[_0x504b05(0x277)](_0x2f1b8a=>{const _0x48332e=_0x504b05,_0x1438d2=_0x288381[_0x2f1b8a['id']]??0x0,_0x5d460a=_0x2aed25[_0x48332e(0x205)](_0x2f1b8a['id']);_0x2401f7+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x2f1b8a[_0x48332e(0x6b1)]||_0x48332e(0xe1a))+_0x48332e(0xa8b)+_0x2f1b8a['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x2f1b8a[_0x48332e(0xe60)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0x1438d2+_0x48332e(0x696)+new Date(_0x2f1b8a['createdAt'])[_0x48332e(0x33b)](_0x48332e(0xd76))+_0x48332e(0xcc1)+_0x2f1b8a['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x5d460a?_0x48332e(0x2e9):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x2f1b8a['id']+_0x48332e(0x7be)+_0x2f1b8a[_0x48332e(0xe60)]+_0x48332e(0x90f);});_0x430c95['innerHTML']=_0x2401f7,noProjectsMsg[_0x504b05(0x605)][_0x504b05(0xc7c)](_0x504b05(0x9a0),_0x2401f7[_0x504b05(0x110)]>0x0);}document[_0x3db3a6(0x283)](_0x3db3a6(0xd47))[_0x3db3a6(0x844)](_0x3db3a6(0x425),async()=>{const _0x3ad5a2=_0x3db3a6,_0x23defa=document[_0x3ad5a2(0x283)](_0x3ad5a2(0x712)),_0x31419d=_0x23defa[_0x3ad5a2(0xa89)][_0x3ad5a2(0xc29)]();if(!_0x31419d){showMessage('กรุณาใส่ชื่อโปรเจค');return;}try{const _0x397b66=doc(collection(db,_0x3ad5a2(0x981)+appId+'/public/data/projects'));await setDoc(_0x397b66,{'projectName':_0x31419d,'students':[],'settings':{'resultsDisplay':_0x3ad5a2(0x601),'shuffleSetting':_0x3ad5a2(0xdff),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x3ad5a2(0xdff),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x3ad5a2(0x848)]()}),_0x23defa[_0x3ad5a2(0xa89)]='',createProjectModal[_0x3ad5a2(0x605)]['add'](_0x3ad5a2(0x9a0)),showMessage(_0x3ad5a2(0xd78));}catch(_0x3e4fb5){console[_0x3ad5a2(0xe4d)](_0x3ad5a2(0x3c3),_0x3e4fb5),showMessage(_0x3ad5a2(0xcc9));}}),projectList[_0x3db3a6(0x844)](_0x3db3a6(0x425),async _0x4938f3=>{const _0x1ad96d=_0x3db3a6,_0x3dac61=_0x4938f3[_0x1ad96d(0x543)][_0x1ad96d(0x455)](_0x1ad96d(0x7fc)),_0x154d30=_0x4938f3[_0x1ad96d(0x543)][_0x1ad96d(0x455)](_0x1ad96d(0x10d)),_0x3e8e80=_0x4938f3[_0x1ad96d(0x543)][_0x1ad96d(0x455)](_0x1ad96d(0x67d)),_0x206706=_0x4938f3['target'][_0x1ad96d(0x455)](_0x1ad96d(0x6f0));if(_0x3e8e80){const _0x435ea9=_0x3e8e80[_0x1ad96d(0x845)]['id'],_0x1ed7d9=doc(db,_0x1ad96d(0x2c2),_0x1ad96d(0x73c)),_0x7f0d0f=globalDashboardSettings[_0x1ad96d(0xd1)];let _0x265dda;_0x7f0d0f[_0x1ad96d(0x2e8)](_0x435ea9)?_0x265dda=_0x7f0d0f[_0x1ad96d(0x1a1)](_0x3a05ce=>_0x3a05ce!==_0x435ea9):_0x265dda=[..._0x7f0d0f,_0x435ea9];try{await setDoc(_0x1ed7d9,{'pinnedProjects':_0x265dda},{'merge':!![]});}catch(_0x3f2d8c){console[_0x1ad96d(0xe4d)](_0x1ad96d(0xc19),_0x3f2d8c),showMessage('เกิดข้อผิดพลาดในการปักหมุด');}}else{if(_0x206706){const _0x4386de=_0x206706[_0x1ad96d(0x845)]['id'];showColorPalette(_0x206706,_0x4386de);}else{if(_0x3dac61){const _0x460912=_0x3dac61[_0x1ad96d(0x845)]['id'];_0x460912===_0x1ad96d(0x944)?showStarredProjectView():(currentProjectId=_0x460912,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x154d30){const _0x168a38=_0x154d30[_0x1ad96d(0x845)]['id'],_0xaab9c3=_0x154d30[_0x1ad96d(0x845)]['name'];showConfirmation(_0x1ad96d(0x165)+_0xaab9c3+_0x1ad96d(0xaf5),()=>handleDeleteProject(_0x168a38));}}}}}),projectList[_0x3db3a6(0x844)]('dragstart',_0x270962=>{const _0xb5e8f2=_0x3db3a6,_0x3437e1=_0x270962[_0xb5e8f2(0x543)][_0xb5e8f2(0x455)](_0xb5e8f2(0x111));_0x3437e1&&_0x3437e1[_0xb5e8f2(0x605)][_0xb5e8f2(0xd74)](_0xb5e8f2(0x862));}),projectList['addEventListener'](_0x3db3a6(0x71a),_0x4ecba5=>{const _0x43f52d=_0x3db3a6,_0x136615=_0x4ecba5[_0x43f52d(0x543)][_0x43f52d(0x455)]('.project-card-container');_0x136615&&_0x136615[_0x43f52d(0x605)][_0x43f52d(0x31b)](_0x43f52d(0x862));}),projectList[_0x3db3a6(0x844)](_0x3db3a6(0x87a),_0x3e4c5f=>{const _0x4a837d=_0x3db3a6;_0x3e4c5f['preventDefault']();const _0x2913d2=document['querySelector'](_0x4a837d(0x4d3));if(!_0x2913d2)return;const _0xbf0d7a=getDragAfterElement(projectList,_0x3e4c5f[_0x4a837d(0x679)]);_0xbf0d7a==null?projectList[_0x4a837d(0x2ea)](_0x2913d2):projectList[_0x4a837d(0x124)](_0x2913d2,_0xbf0d7a);}),projectList[_0x3db3a6(0x844)]('drop',_0x40b3c7=>{const _0x3fd29a=_0x3db3a6;_0x40b3c7[_0x3fd29a(0xde6)]();const _0x37d218=[...projectList[_0x3fd29a(0x68a)]('.project-card-container[data-id]')][_0x3fd29a(0x87e)](_0x3fa177=>_0x3fa177[_0x3fd29a(0x845)]['id']);saveProjectOrder(_0x37d218);});function renderBehaviorLog(_0x44c6ef){const _0x31e8c7=_0x3db3a6,_0x45b2a3=document[_0x31e8c7(0x283)]('behavior-log-container');if(!_0x45b2a3)return;const _0x2cfaa0=_0x44c6ef['filter'](_0x5cebe5=>_0x5cebe5[_0x31e8c7(0x538)]&&_0x5cebe5[_0x31e8c7(0x538)][_0x31e8c7(0x110)]>0x0);if(_0x2cfaa0[_0x31e8c7(0x110)]===0x0){_0x45b2a3[_0x31e8c7(0x545)]=_0x31e8c7(0xd2);return;}let _0x3432d6='';_0x2cfaa0[_0x31e8c7(0x277)](_0x20f558=>{const _0x57c09b=_0x31e8c7;_0x3432d6+=_0x57c09b(0x87f)+_0x20f558[_0x57c09b(0x28e)]+_0x57c09b(0xdb4),_0x20f558[_0x57c09b(0x538)]['sort']((_0x43d121,_0x1bac69)=>new Date(_0x1bac69[_0x57c09b(0xbea)])-new Date(_0x43d121[_0x57c09b(0xbea)]))['forEach'](_0x8fb39c=>{const _0x3cc190=_0x57c09b,_0xbe7809=new Date(_0x8fb39c['timestamp'])['toLocaleString'](_0x3cc190(0xd76),{'dateStyle':_0x3cc190(0xc51),'timeStyle':'medium'});_0x3432d6+=_0x3cc190(0xc77)+_0x8fb39c[_0x3cc190(0xe51)]+_0x3cc190(0xd7b)+_0xbe7809+_0x3cc190(0xdc6);}),_0x3432d6+=_0x57c09b(0x86d);}),_0x45b2a3[_0x31e8c7(0x545)]=_0x3432d6;}function getDragAfterElement(_0xbb51c9,_0x3fe2bb){const _0x438eb9=_0x3db3a6,_0x57097c=[..._0xbb51c9[_0x438eb9(0x68a)](_0x438eb9(0x523))];return _0x57097c[_0x438eb9(0x53b)]((_0x2746be,_0x20b676)=>{const _0x1b658b=_0x438eb9,_0x2625c8=_0x20b676[_0x1b658b(0xd3b)](),_0x515823=_0x3fe2bb-_0x2625c8[_0x1b658b(0x159)]-_0x2625c8['height']/0x2;return _0x515823<0x0&&_0x515823>_0x2746be[_0x1b658b(0xc31)]?{'offset':_0x515823,'element':_0x20b676}:_0x2746be;},{'offset':Number[_0x438eb9(0x1c9)]})['element'];}async function saveProjectOrder(_0x117eb7){const _0x483a27=_0x3db3a6,_0x580492=doc(db,_0x483a27(0x2c2),_0x483a27(0x73c));try{await setDoc(_0x580492,{'projectOrder':_0x117eb7},{'merge':!![]});}catch(_0x29d6bc){console[_0x483a27(0xe4d)](_0x483a27(0x422),_0x29d6bc),showMessage('เกิดข้อผิดพลาดในการบันทึกลำดับ');}}async function logBehaviorEvent(_0x2a280d,_0xad993e={}){const _0x57fbe0=_0x3db3a6;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x57fbe0(0x1ef)](_0x57fbe0(0x2dd));return;}const _0x1f158a=doc(db,_0x57fbe0(0x981)+appId+_0x57fbe0(0x1c4)+currentQuizData['id']+'/submissions',currentStudentName),_0x10dd20={'event':_0x2a280d,'timestamp':new Date()[_0x57fbe0(0x848)](),..._0xad993e};try{await updateDoc(_0x1f158a,{'behaviorLog':arrayUnion(_0x10dd20)}),console[_0x57fbe0(0x6e6)](_0x57fbe0(0x70c)+currentStudentName+_0x57fbe0(0x933));}catch(_0x4df251){_0x4df251[_0x57fbe0(0x6b9)]===_0x57fbe0(0x5bd)?console[_0x57fbe0(0x1ef)](_0x57fbe0(0xe02)+currentStudentName+_0x57fbe0(0xc55)):console[_0x57fbe0(0xe4d)]('เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:',_0x4df251);}}function getScoreTier(_0x25159a,_0x4ba8ec){const _0x48ee3a=_0x3db3a6;if(_0x4ba8ec===0x0){if(_0x25159a===0x0)return{'text':_0x48ee3a(0x704),'icon':'⏳'};return{'text':'(พยายามอยู่)','icon':'😥'};}const _0xe2e041=_0x25159a/(_0x4ba8ec===0x0?0x1:_0x4ba8ec);if(_0xe2e041===0x1)return{'text':_0x48ee3a(0x1dc),'icon':'👑'};if(_0xe2e041>=0.7)return{'text':_0x48ee3a(0x27e),'icon':'🔥'};if(_0xe2e041>=0.4)return{'text':_0x48ee3a(0xd16),'icon':'🏃'};return{'text':_0x48ee3a(0x938),'icon':'😥'};}function calculateMeanAndStdDev(_0x130fea){const _0x21c849=_0x3db3a6;if(_0x130fea[_0x21c849(0x110)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x282d0b=_0x130fea[_0x21c849(0x53b)]((_0x221ed1,_0x3f7347)=>_0x221ed1+_0x3f7347,0x0)/_0x130fea['length'];if(_0x130fea[_0x21c849(0x110)]===0x1)return{'mean':_0x282d0b,'stdDev':0x0};const _0x237b7d=Math[_0x21c849(0x864)](_0x130fea[_0x21c849(0x87e)](_0x333fb2=>Math[_0x21c849(0x388)](_0x333fb2-_0x282d0b,0x2))[_0x21c849(0x53b)]((_0x431d37,_0x5f5479)=>_0x431d37+_0x5f5479,0x0)/(_0x130fea[_0x21c849(0x110)]-0x1));return{'mean':_0x282d0b,'stdDev':_0x237b7d};}function calculateZScore(_0x5118b6,_0x2092d1,_0x37ca20){if(_0x37ca20===0x0)return 0x0;return(_0x5118b6-_0x2092d1)/_0x37ca20;}function calculateTScore(_0x59c307){return 0xa*_0x59c307+0x32;}function showStarredProjectView(){const _0x36e4e7=_0x3db3a6;currentProjectId='starred',currentProjectData=null,projectTitle[_0x36e4e7(0x1bd)]=_0x36e4e7(0xa91),projectIdDisplay['textContent']=_0x36e4e7(0xd09),showView(_0x36e4e7(0x964)),manageTab[_0x36e4e7(0x605)]['add'](_0x36e4e7(0x9a0)),leaderboardTab[_0x36e4e7(0x605)]['add']('hidden'),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x4c039b){const _0xe68bf=_0x3db3a6,_0x1e830e=doc(db,'artifacts/'+appId+_0xe68bf(0x7ee),_0x4c039b),_0x5c4ddc=await getDoc(_0x1e830e);if(_0x5c4ddc['exists']()){manageTab[_0xe68bf(0x605)][_0xe68bf(0x31b)](_0xe68bf(0x9a0)),leaderboardTab[_0xe68bf(0x605)][_0xe68bf(0x31b)](_0xe68bf(0x9a0)),currentProjectData=_0x5c4ddc[_0xe68bf(0x366)](),projectTitle[_0xe68bf(0x1bd)]=currentProjectData[_0xe68bf(0xe60)],projectIdDisplay[_0xe68bf(0x1bd)]=_0x4c039b;const _0x4bc2dc=currentProjectData['settings']||{};document[_0xe68bf(0x283)](_0xe68bf(0x6e0))[_0xe68bf(0xa89)]=_0x4bc2dc['shuffleSetting']||_0xe68bf(0xdff);const _0xea34ad=document[_0xe68bf(0x283)](_0xe68bf(0xe12));_0xea34ad['checked']=_0x4bc2dc[_0xe68bf(0x3b0)]!==![];const _0x582131=document[_0xe68bf(0x283)]('enable-passcode-checkbox'),_0x1a25e6=document[_0xe68bf(0x283)](_0xe68bf(0x9bc)),_0x24bf4d=document[_0xe68bf(0x283)](_0xe68bf(0x2fa)),_0x324099=_0x4bc2dc[_0xe68bf(0x8f7)]||![];_0x582131[_0xe68bf(0x61b)]=_0x324099,_0x24bf4d[_0xe68bf(0xa89)]=_0x4bc2dc['passcode']||'',_0x1a25e6[_0xe68bf(0x605)][_0xe68bf(0xc7c)](_0xe68bf(0x9a0),!_0x324099),_0x582131['onchange']=()=>{const _0x581b08=_0xe68bf;_0x1a25e6['classList'][_0x581b08(0xc7c)](_0x581b08(0x9a0),!_0x582131[_0x581b08(0x61b)]);},document[_0xe68bf(0x283)](_0xe68bf(0xc82))['checked']=_0x4bc2dc[_0xe68bf(0x647)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x4c039b),listenForProjectQuizzes(_0x4c039b),listenForStudentProfiles(_0x4c039b);}else showMessage(_0xe68bf(0x45f)),showView(_0xe68bf(0x8b0));}async function handleResetProjectOrder(){const _0x4eb453=_0x3db3a6,_0x4022f2=doc(db,_0x4eb453(0x2c2),_0x4eb453(0x73c));try{await setDoc(_0x4022f2,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x4eb453(0x8d2));}catch(_0x494afb){console[_0x4eb453(0xe4d)](_0x4eb453(0x985),_0x494afb),showMessage(_0x4eb453(0x6c2));}}async function handleTogglePinProject(_0x4f60b5){const _0x1830a8=_0x3db3a6;if(!_0x4f60b5)return;const _0x532a0a=doc(db,_0x1830a8(0x981)+appId+_0x1830a8(0x7ee),_0x4f60b5);try{const _0x11e2f6=await getDoc(_0x532a0a);if(_0x11e2f6[_0x1830a8(0xaed)]()){const _0x4a3248=_0x11e2f6[_0x1830a8(0x366)]()[_0x1830a8(0x24a)]||![];await updateDoc(_0x532a0a,{'isPinned':!_0x4a3248});}}catch(_0x1033eb){console[_0x1830a8(0xe4d)](_0x1830a8(0x443),_0x1033eb),showMessage(_0x1830a8(0x40a));}}async function handleDeleteProject(_0x14c7dc){const _0x1c93c5=_0x3db3a6;try{const _0x13287f=writeBatch(db),_0x26cdb1=collection(db,_0x1c93c5(0x981)+appId+_0x1c93c5(0x8e0)),_0x44c8c0=query(_0x26cdb1,where('projectId','==',_0x14c7dc)),_0x45cf32=await getDocs(_0x44c8c0);for(const _0x1433f3 of _0x45cf32[_0x1c93c5(0xcf4)]){const _0x252ad3=collection(db,_0x1c93c5(0x981)+appId+_0x1c93c5(0x1c4)+_0x1433f3['id']+_0x1c93c5(0xb8f)),_0x596315=await getDocs(_0x252ad3);_0x596315['forEach'](_0x30b72d=>{const _0x39d6a5=_0x1c93c5;_0x13287f[_0x39d6a5(0x3ec)](_0x30b72d['ref']);}),_0x13287f[_0x1c93c5(0x3ec)](_0x1433f3[_0x1c93c5(0xc84)]);}const _0x2f4d11=collection(db,_0x1c93c5(0x981)+appId+_0x1c93c5(0xb91)+_0x14c7dc+_0x1c93c5(0xfa)),_0x48b148=await getDocs(_0x2f4d11);_0x48b148[_0x1c93c5(0x277)](_0x97d81b=>{const _0x2e16cf=_0x1c93c5;_0x13287f[_0x2e16cf(0x3ec)](_0x97d81b[_0x2e16cf(0xc84)]);});const _0x33feee=doc(db,_0x1c93c5(0x981)+appId+'/public/data/projects',_0x14c7dc);_0x13287f['delete'](_0x33feee),await _0x13287f['commit'](),showMessage(_0x1c93c5(0x34e)),showView(_0x1c93c5(0x8b0));}catch(_0x1b4fe2){console[_0x1c93c5(0xe4d)](_0x1c93c5(0x699),_0x1b4fe2),showMessage(_0x1c93c5(0x4ab));}}document[_0x3db3a6(0x283)](_0x3db3a6(0x984))[_0x3db3a6(0x844)](_0x3db3a6(0x425),async()=>{const _0x294001=_0x3db3a6;if(!currentProjectId)return;const _0x5e2602={'defaultNumQuestions':parseInt(document[_0x294001(0x283)]('num-questions')[_0x294001(0xa89)]),'defaultNumChoices':parseInt(document['getElementById'](_0x294001(0xb4d))['value']),'defaultPassingScore':parseInt(document[_0x294001(0x283)](_0x294001(0x1ea))['value']),'resultsDisplay':document['getElementById'](_0x294001(0x4fa))[_0x294001(0xa89)],'shuffleSetting':document[_0x294001(0x283)](_0x294001(0x6e0))[_0x294001(0xa89)],'timerMode':document[_0x294001(0x283)](_0x294001(0x713))[_0x294001(0xa89)],'timerDuration':parseInt(document[_0x294001(0x283)]('timer-duration-input')['value']),'isConfidenceScoringEnabled':document['getElementById'](_0x294001(0xc82))[_0x294001(0x61b)],'confidenceMode':document['getElementById']('confidence-mode-select')['value']};try{const _0x1f7701=doc(db,_0x294001(0x981)+appId+_0x294001(0x7ee),currentProjectId);await updateDoc(_0x1f7701,{'settings':_0x5e2602}),showMessage(_0x294001(0xd63));}catch(_0x207cc8){console[_0x294001(0xe4d)]('Error\x20saving\x20settings:',_0x207cc8),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x49faab){const _0x3312ea=_0x3db3a6,_0x4c298c=doc(db,_0x3312ea(0x981)+appId+_0x3312ea(0x7ee),_0x49faab);unsubscribeStudentsListener=onSnapshot(_0x4c298c,_0x38521f=>{const _0x133809=_0x3312ea;if(_0x38521f[_0x133809(0xaed)]()){const _0x44d8f4=_0x38521f[_0x133809(0x366)]();currentProjectData=_0x44d8f4,renderStudentList(_0x44d8f4[_0x133809(0x138)]||[]);}});}function renderStudentList(_0x41538a){const _0x2bbf5b=_0x3db3a6,_0x6a9751=document['getElementById'](_0x2bbf5b(0x23d));_0x41538a[_0x2bbf5b(0x110)]===0x0?(studentList[_0x2bbf5b(0x545)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x6a9751['classList'][_0x2bbf5b(0xd74)](_0x2bbf5b(0x9a0))):(studentList[_0x2bbf5b(0x545)]=_0x41538a[_0x2bbf5b(0x87e)](_0x2b6322=>_0x2bbf5b(0xdbf)+_0x2b6322+_0x2bbf5b(0x5aa)+_0x2b6322+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2bbf5b(0xd6e)](''),_0x6a9751[_0x2bbf5b(0x605)][_0x2bbf5b(0x31b)](_0x2bbf5b(0x9a0)));}document['getElementById'](_0x3db3a6(0x7c2))[_0x3db3a6(0x844)](_0x3db3a6(0x425),async()=>{const _0x13131e=_0x3db3a6;if(!currentProjectId)return;const _0x5019ad=document['getElementById'](_0x13131e(0xb7f)),_0xf28492=_0x5019ad[_0x13131e(0xa89)][_0x13131e(0xc29)]();if(!_0xf28492){showMessage(_0x13131e(0xa09));return;}const _0xfe5129=_0xf28492[_0x13131e(0x7ea)]('\x0a')[_0x13131e(0x87e)](_0x43bcee=>_0x43bcee[_0x13131e(0xc29)]())[_0x13131e(0x1a1)](_0x1783e0=>_0x1783e0);if(_0xfe5129[_0x13131e(0x110)]===0x0)return;try{const _0x5f048a=doc(db,'artifacts/'+appId+_0x13131e(0x7ee),currentProjectId),_0x578ea1=await getDoc(_0x5f048a);if(_0x578ea1[_0x13131e(0xaed)]()){const _0x27a63a=_0x578ea1[_0x13131e(0x366)]()[_0x13131e(0x138)]||[],_0x38009a=[...new Set([..._0x27a63a,..._0xfe5129])];await updateDoc(_0x5f048a,{'students':_0x38009a}),_0x5019ad[_0x13131e(0xa89)]='';}}catch(_0x35af5c){console['error'](_0x13131e(0xd10),_0x35af5c),showMessage(_0x13131e(0xda9));}});async function handleManualQuizPairing(_0x2a56a7){const _0x3bd916=_0x3db3a6,_0x5bb6f4=document[_0x3bd916(0x283)](_0x3bd916(0x22c)),_0x3d8a48=document[_0x3bd916(0x283)](_0x3bd916(0xcd8)),_0x598209=_0x5bb6f4[_0x3bd916(0x1a6)]('h3'),_0x550c92=document[_0x3bd916(0x283)](_0x3bd916(0x64f)),_0x433df9=document['getElementById'](_0x3bd916(0x8f1));_0x598209[_0x3bd916(0x1bd)]=_0x3bd916(0x750),_0x3d8a48[_0x3bd916(0x545)]=_0x3bd916(0xb4b),_0x550c92[_0x3bd916(0x1bd)]=_0x3bd916(0x17a),_0x5bb6f4[_0x3bd916(0x605)][_0x3bd916(0x31b)](_0x3bd916(0x9a0));const _0x1e4d11=allQuizzes[_0x3bd916(0x1a1)](_0x31d1d2=>_0x31d1d2['id']!==_0x2a56a7);_0x1e4d11['length']===0x0?(_0x3d8a48['innerHTML']=_0x3bd916(0x45c),_0x550c92['disabled']=!![]):(_0x3d8a48['innerHTML']=_0x3bd916(0xa19)+_0x1e4d11[_0x3bd916(0x87e)](_0x3a96ac=>_0x3bd916(0x4cc)+_0x3a96ac['id']+'\x22>'+_0x3a96ac[_0x3bd916(0xe5f)]+'</option>')[_0x3bd916(0xd6e)](''),_0x550c92[_0x3bd916(0xc71)]=![]);const _0x4ea525=async()=>{const _0x2625db=_0x3bd916,_0x1559bd=_0x3d8a48[_0x2625db(0xa89)];if(!_0x1559bd){showMessage('กรุณาเลือกแบบทดสอบที่ต้องการจับคู่');return;}_0x550c92['disabled']=!![],_0x550c92['textContent']=_0x2625db(0x508);try{const _0x3edd9f=doc(db,_0x2625db(0x981)+appId+_0x2625db(0x8e0),_0x2a56a7),_0x3f2d44=doc(db,_0x2625db(0x981)+appId+_0x2625db(0x8e0),_0x1559bd),_0xe08a17=writeBatch(db);_0xe08a17[_0x2625db(0xd55)](_0x3edd9f,{'pairedQuizId':_0x1559bd}),_0xe08a17[_0x2625db(0xd55)](_0x3f2d44,{'pairedQuizId':_0x2a56a7}),await _0xe08a17[_0x2625db(0x85d)](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0x5bb6f4[_0x2625db(0x605)]['add']('hidden');}catch(_0x17260b){console[_0x2625db(0xe4d)]('Error\x20pairing\x20quizzes:',_0x17260b),showMessage(_0x2625db(0x91a));}finally{_0x598209[_0x2625db(0x1bd)]=_0x2625db(0xaee),_0x550c92[_0x2625db(0x1bd)]=_0x2625db(0x291),_0x550c92[_0x2625db(0xc71)]=![],_0x550c92['removeEventListener'](_0x2625db(0x425),_0x4ea525),_0x433df9[_0x2625db(0xe2c)]('click',_0x118176);}},_0x118176=()=>{const _0x530a15=_0x3bd916;_0x5bb6f4[_0x530a15(0x605)][_0x530a15(0xd74)]('hidden'),_0x598209[_0x530a15(0x1bd)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x550c92[_0x530a15(0x1bd)]=_0x530a15(0x291),_0x550c92[_0x530a15(0xe2c)]('click',_0x4ea525),_0x433df9[_0x530a15(0xe2c)]('click',_0x118176);};_0x550c92['addEventListener'](_0x3bd916(0x425),_0x4ea525),_0x433df9[_0x3bd916(0x844)]('click',_0x118176);}function handleDeleteStudent(_0x3ab103){const _0x1b0dad=_0x3db3a6;showConfirmation(_0x1b0dad(0x7a0)+_0x3ab103+'\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย',async()=>{const _0x517915=_0x1b0dad;if(!currentProjectId||!currentProjectData)return;const _0x4b9b6f=currentProjectData[_0x517915(0x138)][_0x517915(0x1a1)](_0x2d3283=>_0x2d3283!==_0x3ab103);try{const _0x5090a6=doc(db,_0x517915(0x981)+appId+_0x517915(0x7ee),currentProjectId),_0x401f63=doc(db,_0x517915(0x981)+appId+_0x517915(0xb91)+currentProjectId+_0x517915(0xfa),_0x3ab103),_0x1aa807=writeBatch(db);_0x1aa807[_0x517915(0xd55)](_0x5090a6,{'students':_0x4b9b6f}),_0x1aa807[_0x517915(0x3ec)](_0x401f63),await _0x1aa807['commit']();}catch(_0x2f70c3){console[_0x517915(0xe4d)](_0x517915(0x9a8),_0x2f70c3),showMessage('เกิดข้อผิดพลาดในการลบนักเรียน');}});}function handleDeleteAllStudents(){const _0x28fdc8=_0x3db3a6;showConfirmation(_0x28fdc8(0x7df),async()=>{const _0x38e922=_0x28fdc8;if(!currentProjectId)return;try{const _0x29c6d4=doc(db,_0x38e922(0x981)+appId+_0x38e922(0x7ee),currentProjectId),_0x34396b=collection(db,_0x38e922(0x981)+appId+_0x38e922(0xb91)+currentProjectId+_0x38e922(0xfa)),_0x3ed2a5=await getDocs(_0x34396b),_0x3a7fa0=writeBatch(db);_0x3a7fa0[_0x38e922(0xd55)](_0x29c6d4,{'students':[]}),_0x3ed2a5[_0x38e922(0x277)](_0x4e5d5f=>_0x3a7fa0[_0x38e922(0x3ec)](_0x4e5d5f[_0x38e922(0xc84)])),await _0x3a7fa0['commit']();}catch(_0xc5c7ab){console[_0x38e922(0xe4d)](_0x38e922(0x7f5),_0xc5c7ab),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x330a94){const _0x3d9cf2=_0x3db3a6,_0x1b11c5=document[_0x3d9cf2(0x283)](_0x3d9cf2(0x857)),_0x3ccb88=document[_0x3d9cf2(0x283)](_0x3d9cf2(0xbc9));_0x1b11c5['classList'][_0x3d9cf2(0x31b)](_0x3d9cf2(0x9a0)),_0x3ccb88[_0x3d9cf2(0x545)]=_0x3d9cf2(0xd31);try{const _0xa1559=new FileReader();_0xa1559[_0x3d9cf2(0x640)](_0x330a94),await new Promise((_0x2e12da,_0x249c02)=>{const _0x1645fa=_0x3d9cf2;_0xa1559['onload']=()=>{const _0x122ebe=_0x5ca2;fileDataBase64=_0xa1559['result'][_0x122ebe(0x7ea)](',')[0x1],fileMimeType=_0x330a94[_0x122ebe(0x816)],_0x2e12da();},_0xa1559[_0x1645fa(0x29a)]=_0x207bfd=>_0x249c02(_0x207bfd);});if(!fileDataBase64)throw new Error(_0x3d9cf2(0x91e));const _0x2aad06=_0x3d9cf2(0xd03),_0x178d4f={'type':_0x3d9cf2(0xbc1),'properties':{'topics':{'type':_0x3d9cf2(0x1ff),'items':{'type':_0x3d9cf2(0xa44)}}},'required':[_0x3d9cf2(0xa1a)]},_0x527fe2=[{'text':_0x2aad06},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x433268=await handleApiCall(_0x527fe2,_0x3d9cf2(0x324),_0x178d4f,null,![]);if(_0x433268&&_0x433268[_0x3d9cf2(0xa1a)])extractedFileTopics=_0x433268[_0x3d9cf2(0xa1a)],renderFileTopics();else throw new Error('AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้');}catch(_0x3d92ce){console[_0x3d9cf2(0xe4d)](_0x3d9cf2(0x6ec),_0x3d92ce),_0x3ccb88['innerHTML']=_0x3d9cf2(0xcad)+_0x3d92ce[_0x3d9cf2(0x226)]+_0x3d9cf2(0x74f);}}function renderFileTopics(){const _0x34cbed=_0x3db3a6,_0x2c3076=document[_0x34cbed(0x283)](_0x34cbed(0xbc9));if(extractedFileTopics[_0x34cbed(0x110)]===0x0){_0x2c3076[_0x34cbed(0x545)]=_0x34cbed(0xd0);return;}_0x2c3076[_0x34cbed(0x545)]=extractedFileTopics[_0x34cbed(0x87e)](_0x3cf1b2=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>'+_0x3cf1b2+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0x3cf1b2)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22'+escape(_0x3cf1b2)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')[_0x34cbed(0xd6e)]('');}async function generateHybridQuizForTopic(_0x5e9058){const _0x47b941=_0x3db3a6,_0x5b56cc=parseInt(document[_0x47b941(0x283)](_0x47b941(0x92c))[_0x47b941(0xa89)],0xa),_0x4f6d88=document[_0x47b941(0x283)](_0x47b941(0x801))[_0x47b941(0xa89)],_0xa1879=document['getElementById'](_0x47b941(0xb4d))[_0x47b941(0xa89)],_0x4ac543=document[_0x47b941(0x283)](_0x47b941(0x305))[_0x47b941(0x61b)],_0x37a66f=_0x4ac543?'สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22':'ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ';let _0x75ee4b='',_0xabd356;const _0x18ec5f={'type':_0x47b941(0xbc1),'properties':{'questionText':{'type':_0x47b941(0xa44)},'options':{'type':_0x47b941(0x1ff),'items':{'type':_0x47b941(0xa44)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x47b941(0xa44)},'imageCode':{'type':_0x47b941(0xa44)}},'required':[_0x47b941(0xb0e),_0x47b941(0xbed),'correctAnswerIndex',_0x47b941(0x166)]},_0x3bdc1e={'type':_0x47b941(0xbc1),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x47b941(0xd50)},'explanation':{'type':_0x47b941(0xa44)},'imageCode':{'type':_0x47b941(0xa44)}},'required':[_0x47b941(0xb0e),'correctAnswer',_0x47b941(0x166)]},_0x3c2b5a={'type':_0x47b941(0xbc1),'properties':{'questionText':{'type':_0x47b941(0xa44)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x47b941(0xa44)},'imageCode':{'type':_0x47b941(0xa44)}},'required':['questionText',_0x47b941(0x649),'explanation']},_0x4043e7={'type':_0x47b941(0xbc1),'properties':{'questionType':{'type':'STRING','enum':[_0x47b941(0x1f4)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x47b941(0x1ff),'items':{'type':_0x47b941(0xa44)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x47b941(0xa44)}},'required':[_0x47b941(0x430),_0x47b941(0x2f5),'correctResponse',_0x47b941(0x17b),_0x47b941(0x166)]};switch(_0x4f6d88){case _0x47b941(0x6f2):const _0x1b9f19=_0x47b941(0x5dc);prompt=_0x47b941(0x1a9)+subjectPrefix+'\x20'+settings['numQuestions']+'\x20ข้อ\x20'+topicInstruction+'\x20'+topicRefinementInstruction+'\x20'+difficultyInstruction+'\x20'+complexityInstruction+'\x20'+referenceInstruction+_0x47b941(0xb40)+settings[_0x47b941(0xa9a)]+'\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1b9f19+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x37a66f+'\x20'+simpleMathPrompt,schema=_0x18ec5f;break;case _0x47b941(0x50e):_0x75ee4b=_0x47b941(0x2b0),_0xabd356=_0x3bdc1e;break;case _0x47b941(0x1c8):_0x75ee4b=_0x47b941(0x4c5),_0xabd356=_0x3c2b5a;break;case _0x47b941(0xb05):_0x75ee4b=_0x47b941(0x349),_0xabd356=_0x4043e7;break;case _0x47b941(0x161):_0x75ee4b='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20'+_0xa1879+'\x20ตัวเลือก)',_0xabd356=_0x18ec5f;break;default:_0x75ee4b=_0x47b941(0x773)+_0xa1879+'\x20ตัวเลือก)',_0xabd356=_0x18ec5f;break;}const _0x19393a=_0x47b941(0xd6a),_0x12394c=document[_0x47b941(0x283)](_0x47b941(0x344)),_0x3dd981=document[_0x47b941(0x283)](_0x47b941(0x550)),_0x1d00e7=document[_0x47b941(0x283)](_0x47b941(0x42d));document[_0x47b941(0x283)](_0x47b941(0x1a0))[_0x47b941(0x605)]['remove']('hidden'),_0x1d00e7[_0x47b941(0x545)]='',_0x12394c[_0x47b941(0x605)][_0x47b941(0x31b)]('hidden'),_0x3dd981[_0x47b941(0x1bd)]='AI\x20กำลังสร้างแบบทดสอบ\x20\x22'+_0x5e9058+_0x47b941(0xe38)+_0x5b56cc+_0x47b941(0xa38);try{const _0x5bdd22='\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a',_0x573880=_0x47b941(0x5c4)+_0x5e9058+_0x47b941(0xcb8)+_0x5b56cc+_0x47b941(0xe64)+_0x5e9058+_0x47b941(0xa04)+_0x5b56cc+'\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20'+_0x37a66f+_0x47b941(0x8f6)+_0x75ee4b+'**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20'+_0x19393a+_0x47b941(0xbc)+_0x5bdd22+_0x47b941(0xd56)+simpleMathPrompt+_0x47b941(0x9ba),_0x5c738c={'type':_0x47b941(0xbc1),'properties':{'topic':{'type':_0x47b941(0xa44)},'questions':{'type':_0x47b941(0x1ff),'items':_0xabd356}},'required':[_0x47b941(0xe5f),_0x47b941(0x13f)]},_0x6954e6=[{'text':_0x573880},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x6954e6,_0x47b941(0x435)+_0x5e9058+_0x47b941(0x218),_0x5c738c);}catch(_0x5834fc){console[_0x47b941(0xe4d)](_0x47b941(0xdf5),_0x5834fc),showMessage(_0x47b941(0xe07)+_0x5834fc['message']),_0x1d00e7[_0x47b941(0x545)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>';}finally{_0x12394c[_0x47b941(0x605)][_0x47b941(0xd74)](_0x47b941(0x9a0));}}async function handleGenerateFromFileClick(){const _0x2dd01e=_0x3db3a6;if(!selectedFile){showMessage(_0x2dd01e(0xf3));return;}const _0x570062=document[_0x2dd01e(0x283)](_0x2dd01e(0x344)),_0x57808f=document[_0x2dd01e(0x283)](_0x2dd01e(0x550)),_0x2f2135=document['getElementById'](_0x2dd01e(0x42d)),_0x258256=document[_0x2dd01e(0x283)](_0x2dd01e(0xed));_0x258256['disabled']=!![],document[_0x2dd01e(0x283)](_0x2dd01e(0x1a0))[_0x2dd01e(0x605)][_0x2dd01e(0x31b)]('hidden'),_0x2f2135[_0x2dd01e(0x545)]='',_0x570062['classList'][_0x2dd01e(0x31b)](_0x2dd01e(0x9a0)),_0x57808f[_0x2dd01e(0x1bd)]=_0x2dd01e(0x75f);try{const _0x2a93a0=await new Promise((_0x83017e,_0x482525)=>{const _0xf87b67=_0x2dd01e,_0x1d0614=new FileReader();_0x1d0614[_0xf87b67(0x640)](selectedFile),_0x1d0614[_0xf87b67(0xafb)]=()=>_0x83017e(_0x1d0614[_0xf87b67(0x796)][_0xf87b67(0x7ea)](',')[0x1]),_0x1d0614[_0xf87b67(0x29a)]=_0x2b44f1=>_0x482525(_0x2b44f1);});await generateQuizFromFile(selectedFile['type'],_0x2a93a0);}catch(_0x52668c){console[_0x2dd01e(0xe4d)](_0x2dd01e(0x157),_0x52668c),showMessage(_0x2dd01e(0x1de)+_0x52668c[_0x2dd01e(0x226)]),_0x570062[_0x2dd01e(0x605)][_0x2dd01e(0xd74)](_0x2dd01e(0x9a0)),_0x258256[_0x2dd01e(0xc71)]=![];}}function autoFormatMath(_0x5f170d){const _0x1375e5=_0x3db3a6;if(typeof _0x5f170d!==_0x1375e5(0x89a)||!_0x5f170d)return _0x5f170d;const _0x59d49f=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x1fb001=_0x5f170d[_0x1375e5(0x950)](_0x59d49f,_0x32cdcb=>{const _0x57ba27=_0x1375e5;return'$'+_0x32cdcb[_0x57ba27(0xc29)]()+'$';});return _0x1fb001;}function sanitizeQuizData(_0x34bbfb){const _0x5ce752=_0x3db3a6;if(!_0x34bbfb||!_0x34bbfb['questions'])return _0x34bbfb;const _0x1b5e78=_0x1e938b=>{const _0x1452b2=_0x5ca2;if(typeof _0x1e938b!==_0x1452b2(0x89a))return _0x1e938b;let _0x180de8=_0x1e938b;_0x180de8=_0x180de8['replace'](/\\\(/g,'$')['replace'](/\\\)/g,'$'),_0x180de8=_0x180de8[_0x1452b2(0x950)](/\\\[/g,'$$')[_0x1452b2(0x950)](/\\\]/g,'$$'),_0x180de8=_0x180de8[_0x1452b2(0x950)](/\\?imes\b/g,_0x1452b2(0x13d));const _0x438138=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div|\\cdot)\s*\d+(\.\d+)?|(\\frac\{.+?\}\{.+?\})|(\\sqrt\{.+?\})|(\\text\{.+?\})|(\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;return _0x180de8=_0x180de8[_0x1452b2(0x950)](_0x438138,_0x3be36d=>{const _0x148704=_0x1452b2;return'$'+_0x3be36d[_0x148704(0xc29)]()+'$';}),_0x180de8;};return _0x34bbfb[_0x5ce752(0xe5f)]&&(_0x34bbfb[_0x5ce752(0xe5f)]=_0x1b5e78(_0x34bbfb[_0x5ce752(0xe5f)])),_0x34bbfb[_0x5ce752(0x13f)][_0x5ce752(0x277)](_0xacc42=>{const _0x13d9cf=_0x5ce752;_0xacc42[_0x13d9cf(0xb0e)]=_0x1b5e78(_0xacc42['questionText']),_0xacc42['stem']=_0x1b5e78(_0xacc42[_0x13d9cf(0x2f5)]),_0xacc42[_0x13d9cf(0xbed)]&&(_0xacc42['options']=_0xacc42[_0x13d9cf(0xbed)]['map'](_0x460691=>_0x1b5e78(_0x460691))),_0xacc42['explanation']&&(_0xacc42[_0x13d9cf(0x166)]=_0x1b5e78(_0xacc42[_0x13d9cf(0x166)])),_0xacc42[_0x13d9cf(0xdcc)]&&(_0xacc42[_0x13d9cf(0xdcc)]=_0x1b5e78(_0xacc42[_0x13d9cf(0xdcc)])),_0xacc42[_0x13d9cf(0x17b)]&&(_0xacc42['allResponses']=_0xacc42['allResponses'][_0x13d9cf(0x87e)](_0x4207c2=>_0x1b5e78(_0x4207c2))),_0xacc42[_0x13d9cf(0x649)]&&(_0xacc42[_0x13d9cf(0x649)]=_0x1b5e78(_0xacc42['idealAnswer']));}),_0x34bbfb;}const simpleMathPrompt=_0x3db3a6(0x5da);async function handleGenerateFromLink(){const _0x1d6079=_0x3db3a6,_0x4efeb2=document[_0x1d6079(0x283)](_0x1d6079(0x289)),_0x163cb1=document['getElementById'](_0x1d6079(0xda0)),_0x29c965=_0x4efeb2['value'][_0x1d6079(0xc29)](),_0x38f9ff=_0x163cb1[_0x1d6079(0xa89)][_0x1d6079(0xc29)]();if(!_0x29c965){showMessage(_0x1d6079(0x63c));return;}const _0x4632b4=document['getElementById']('loader'),_0xf1e570=document[_0x1d6079(0x283)](_0x1d6079(0x550)),_0xa99419=document[_0x1d6079(0x283)](_0x1d6079(0x42d)),_0x3f2aba=document[_0x1d6079(0x283)](_0x1d6079(0xa67));document[_0x1d6079(0x283)](_0x1d6079(0x1a0))[_0x1d6079(0x605)][_0x1d6079(0x31b)](_0x1d6079(0x9a0)),_0xa99419[_0x1d6079(0x545)]='',_0x4632b4['classList'][_0x1d6079(0x31b)]('hidden'),_0xf1e570['textContent']=_0x1d6079(0x169),_0x3f2aba[_0x1d6079(0xc71)]=!![];try{const _0x108142=_0x1d6079(0xbe3)+encodeURIComponent(_0x29c965),_0x17a93c=await fetch(_0x108142);if(!_0x17a93c['ok'])throw new Error(_0x1d6079(0xcd1)+_0x17a93c[_0x1d6079(0x360)]+')');const _0x26e35f=await _0x17a93c[_0x1d6079(0x38a)](),_0x2a4005=extractTextFromHtml(_0x26e35f);if(!_0x2a4005||_0x2a4005[_0x1d6079(0x110)]<0x64)throw new Error(_0x1d6079(0x741));await generateQuiz(_0x38f9ff,_0x2a4005);}catch(_0x24d09e){console[_0x1d6079(0xe4d)](_0x1d6079(0x113),_0x24d09e),showMessage('เกิดข้อผิดพลาด:\x20'+_0x24d09e['message']),_0xa99419[_0x1d6079(0x545)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>';}finally{_0x4632b4[_0x1d6079(0x605)]['add']('hidden'),_0x3f2aba[_0x1d6079(0xc71)]=![];}}function extractTextFromHtml(_0x4956ea){const _0x309541=_0x3db3a6,_0x14a2c8=new DOMParser()[_0x309541(0xae6)](_0x4956ea,'text/html');return _0x14a2c8[_0x309541(0x68a)](_0x309541(0x406))[_0x309541(0x277)](_0x24a3b1=>_0x24a3b1[_0x309541(0x31b)]()),_0x14a2c8[_0x309541(0x379)][_0x309541(0x1bd)]||'';}document[_0x3db3a6(0x283)]('generate-from-topic-btn')[_0x3db3a6(0x844)](_0x3db3a6(0x425),()=>{const _0x3c690e=_0x3db3a6,_0x53d0d9=document[_0x3c690e(0x283)]('topic-input')[_0x3c690e(0xa89)]['trim']();generateQuiz(_0x53d0d9,null);}),document['getElementById'](_0x3db3a6(0x8b8))[_0x3db3a6(0x844)](_0x3db3a6(0x425),()=>{const _0x5f2259=_0x3db3a6,_0x28e129=document[_0x5f2259(0x283)](_0x5f2259(0x9a5))[_0x5f2259(0xa89)][_0x5f2259(0xc29)]();if(!_0x28e129){showMessage('กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ');return;}const _0x815ccf=document[_0x5f2259(0x283)]('topic-input')[_0x5f2259(0xa89)][_0x5f2259(0xc29)]();generateQuiz(_0x815ccf,_0x28e129);});async function generateQuiz(_0x5165cd,_0x3fec27,_0x14057e=null,_0x4b6eca=null,_0x38f639=![],_0x57f39a=null,_0x1aef21=null,_0x3e6e10=![]){const _0xa52636=_0x3db3a6;let _0xb75811={};if(_0x38f639&&blueprintPageSettings)_0xb75811=blueprintPageSettings;else{const _0x19ea01=document[_0xa52636(0x68a)]('#math-topics-checkbox-container\x20input:checked');_0xb75811={'quizType':document[_0xa52636(0x283)](_0xa52636(0x801))[_0xa52636(0xa89)],'numQuestions':document[_0xa52636(0x283)](_0xa52636(0x92c))[_0xa52636(0xa89)],'numChoices':document[_0xa52636(0x283)]('num-choices')[_0xa52636(0xa89)],'includeImages':document[_0xa52636(0x283)](_0xa52636(0x305))['checked'],'isNormalTopic':document[_0xa52636(0x283)]('force-math-checkbox')[_0xa52636(0x61b)],'difficultyValue':document[_0xa52636(0x283)](_0xa52636(0xc58))[_0xa52636(0xa89)],'complexityValue':document[_0xa52636(0x283)](_0xa52636(0xc3b))[_0xa52636(0xa89)],'selectedTopicNames':Array['from'](_0x19ea01)['map'](_0x502873=>_0x502873[_0xa52636(0xa89)])};}const _0x1eeb89=_0xb75811['isNormalTopic']?'':_0xa52636(0x361),_0x1214d0=_0xb75811['difficultyValue']!==_0xa52636(0x181)?_0xa52636(0xb9a)+_0xb75811[_0xa52636(0xd36)]+'\x22':'',_0x208291=_0xb75811[_0xa52636(0x1f5)]!==_0xa52636(0xd05)?'โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0xb75811[_0xa52636(0x1f5)]+_0xa52636(0x9dc):'';let _0x1a3d3f='';_0xb75811[_0xa52636(0x568)]&&_0xb75811[_0xa52636(0x568)][_0xa52636(0x110)]>0x0&&(_0x1a3d3f=_0xa52636(0x57c)+_0xb75811[_0xa52636(0x568)][_0xa52636(0xd6e)](',\x20')+'.');let _0x3fdc7a='';_0x4b6eca&&(_0x3fdc7a=_0xa52636(0xc18));let _0x2dd778='',_0x5d2fc3='',_0x5f2e59,_0x515b58=_0xa52636(0x8e3)+_0x5165cd+'\x22';if(!_0x5165cd&&_0x3fec27)_0x515b58='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ';else!_0x5165cd&&!_0x3fec27&&(_0x515b58='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0x2c4389={'type':_0xa52636(0xbc1),'properties':{'questionText':{'type':_0xa52636(0xa44)},'options':{'type':_0xa52636(0x1ff),'items':{'type':_0xa52636(0xa44)}},'correctAnswerIndex':{'type':_0xa52636(0xc1d)},'explanation':{'type':_0xa52636(0xa44)},'imageCode':{'type':'STRING'}},'required':[_0xa52636(0xb0e),'options','correctAnswerIndex',_0xa52636(0x166)]},_0x43420d={'type':_0xa52636(0xbc1),'properties':{'questionText':{'type':_0xa52636(0xa44)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0xa52636(0xa44)},'imageCode':{'type':_0xa52636(0xa44)}},'required':[_0xa52636(0xb0e),_0xa52636(0x649),_0xa52636(0x166)]},_0x102f7f={'type':_0xa52636(0xbc1),'properties':{'questionText':{'type':_0xa52636(0xa44)},'questionType':{'type':'STRING','enum':['multiple_choice','short_answer']},'options':{'type':'ARRAY','items':{'type':_0xa52636(0xa44)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0xa52636(0xa44)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0xa52636(0xb0e),_0xa52636(0x430),'explanation']},_0x3e85bb={'type':_0xa52636(0xbc1),'properties':{'questionText':{'type':_0xa52636(0xa44)},'correctAnswer':{'type':_0xa52636(0xd50)},'explanation':{'type':_0xa52636(0xa44)},'imageCode':{'type':_0xa52636(0xa44)}},'required':[_0xa52636(0xb0e),_0xa52636(0xad1),_0xa52636(0x166)]},_0x10dcb3={'type':'OBJECT','properties':{'questionType':{'type':_0xa52636(0xa44),'enum':[_0xa52636(0x1f4)]},'stem':{'type':_0xa52636(0xa44)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0xa52636(0x1ff),'items':{'type':_0xa52636(0xa44)}},'explanation':{'type':_0xa52636(0xa44)},'imageCode':{'type':_0xa52636(0xa44)}},'required':[_0xa52636(0x430),'stem',_0xa52636(0xdcc),'allResponses',_0xa52636(0x166)]};let _0x33c27;if(_0x14057e!==null){const _0x42bef3=currentQuizData[_0xa52636(0x13f)][_0x14057e]['questionType'],_0x561143=_0xb75811[_0xa52636(0xbcb)]?_0xa52636(0xac6):'';_0x2dd778=_0xa52636(0x8b2)+_0x515b58+'\x20'+_0x1a3d3f+'\x20'+_0x1214d0+_0xa52636(0x1c1)+_0x561143+'\x20'+simpleMathPrompt;if(_0x42bef3==='multiple_choice')_0x5f2e59=_0x2c4389;else{if(_0x42bef3===_0xa52636(0x1f4))_0x5f2e59={'type':_0xa52636(0xbc1),'properties':{'questionType':{'type':_0xa52636(0xa44),'enum':[_0xa52636(0x1f4)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'explanation':{'type':_0xa52636(0xa44)},'imageCode':{'type':_0xa52636(0xa44)}},'required':[_0xa52636(0x430),_0xa52636(0x2f5),'correctResponse',_0xa52636(0x166)]};else _0x5f2e59=_0x43420d;}_0x33c27=_0x5f2e59;}else{const _0x5b6882=_0xb75811[_0xa52636(0xbcb)]?_0xa52636(0x220):'';switch(_0xb75811[_0xa52636(0x461)]){case'multiple_choice':const _0x137b65=_0xa52636(0x5dc);_0x2dd778=_0xa52636(0x1a9)+_0x1eeb89+'\x20'+_0xb75811[_0xa52636(0xd67)]+_0xa52636(0xc9c)+_0x515b58+'\x20'+_0x1a3d3f+'\x20'+_0x1214d0+'\x20'+_0x208291+'\x20'+_0x3fdc7a+_0xa52636(0xb40)+_0xb75811[_0xa52636(0xa9a)]+_0xa52636(0x8c7)+_0x137b65+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x5b6882+'\x20'+simpleMathPrompt,_0x5f2e59=_0x2c4389;break;case'fill_in_with_choices':_0x2dd778=_0xa52636(0x8a6)+_0x1eeb89+'\x20'+_0xb75811[_0xa52636(0xd67)]+_0xa52636(0xc9c)+_0x515b58+'\x20'+_0x1a3d3f+'\x20'+_0x1214d0+'\x20'+_0x208291+'\x20'+_0x3fdc7a+_0xa52636(0xc70)+_0xb75811['numChoices']+_0xa52636(0x1e8)+_0x5b6882+'\x20'+simpleMathPrompt,_0x5f2e59=_0x2c4389;break;case _0xa52636(0x1c8):_0x2dd778=_0xa52636(0x8a6)+_0x1eeb89+'\x20'+_0xb75811['numQuestions']+'\x20ข้อ\x20'+_0x515b58+'\x20'+_0x1a3d3f+'\x20'+_0x1214d0+'\x20'+_0x208291+'\x20'+_0x3fdc7a+_0xa52636(0x7da)+_0x5b6882+'\x20'+simpleMathPrompt,_0x5f2e59=_0x43420d;break;case _0xa52636(0xd05):_0x2dd778=_0xa52636(0x670)+_0x1eeb89+'\x20'+_0xb75811['numQuestions']+_0xa52636(0xc9c)+_0x515b58+'\x20'+_0x1a3d3f+'\x20'+_0x1214d0+'\x20'+_0x208291+'\x20'+_0x3fdc7a+_0xa52636(0x86b)+_0xb75811[_0xa52636(0xa9a)]+_0xa52636(0x97d)+_0x5b6882+'\x20'+simpleMathPrompt+'.',_0x5f2e59=_0x102f7f;break;case _0xa52636(0x50e):_0x2dd778=_0xa52636(0x3e8)+_0x1eeb89+'\x20'+_0xb75811['numQuestions']+_0xa52636(0xc9c)+_0x515b58+'\x20'+_0x1a3d3f+'\x20'+_0x1214d0+'\x20'+_0x208291+'\x20'+_0x3fdc7a+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x5b6882+'\x20'+simpleMathPrompt,_0x5f2e59=_0x3e85bb;break;case _0xa52636(0xb05):_0x2dd778=_0xa52636(0x5b3)+_0x1eeb89+'\x20'+_0xb75811['numQuestions']+'\x20คู่\x20'+_0x515b58+'\x20'+_0x1a3d3f+'\x20'+_0x1214d0+'\x20'+_0x208291+'\x20'+_0x3fdc7a+_0xa52636(0x82e)+_0x5b6882+'\x20'+simpleMathPrompt,_0x5f2e59=_0x10dcb3;break;}_0x33c27={'type':_0xa52636(0xbc1),'properties':{'topic':{'type':_0xa52636(0xa44)},'questions':{'type':_0xa52636(0x1ff),'items':_0x5f2e59}},'required':[_0xa52636(0xe5f),_0xa52636(0x13f)]};}const _0x524fc6=_0xa52636(0x2cb);_0x3fec27?(_0x3e6e10?_0x2dd778=_0xa52636(0x840)+_0x3fec27+_0xa52636(0x61f)+_0x2dd778+_0x524fc6:_0x2dd778=_0xa52636(0x840)+_0x3fec27+_0xa52636(0x61f)+_0x2dd778,_0x5d2fc3=_0xa52636(0x746)):(_0x3e6e10&&(_0x2dd778+=_0x524fc6),_0x5d2fc3=_0xa52636(0x4eb));let _0x54bb97;return _0x4b6eca?(_0x54bb97=[{'text':_0x2dd778},..._0x4b6eca],_0x5d2fc3=_0xa52636(0x6ed)):_0x54bb97=_0x2dd778,handleApiCall(_0x54bb97,_0x5d2fc3,_0x33c27,_0x14057e,!![],_0x57f39a,_0x1aef21);}async function generateQuizFromFile(_0x4c561e,_0x47bd83){const _0x1fd29c=_0x3db3a6,_0x3ccc5f=document[_0x1fd29c(0x283)]('file-topic-input')[_0x1fd29c(0xa89)][_0x1fd29c(0xc29)](),_0x32e4aa=document[_0x1fd29c(0x283)](_0x1fd29c(0x801))[_0x1fd29c(0xa89)],_0xa86502=document[_0x1fd29c(0x283)](_0x1fd29c(0x92c))['value'],_0x592ade=document[_0x1fd29c(0x283)](_0x1fd29c(0xb4d))[_0x1fd29c(0xa89)],_0x48be0c=document['getElementById'](_0x1fd29c(0x305))[_0x1fd29c(0x61b)],_0x40ccba=document[_0x1fd29c(0x283)](_0x1fd29c(0xc5c))['checked'],_0x773e5d=_0x40ccba?'':'คณิตศาสตร์',_0x3d3b93=document[_0x1fd29c(0x283)](_0x1fd29c(0xf0))[_0x1fd29c(0x61b)];let _0xe66c13='',_0x4d37be;const _0x31aaf0=_0x48be0c?_0x1fd29c(0x220):'';if(_0x3d3b93)_0xe66c13=_0x1fd29c(0x54b)+_0x31aaf0+'\x0a'+simpleMathPrompt+'\x0a',_0x4d37be={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x1fd29c(0xa44),'enum':[_0x1fd29c(0x6f2),_0x1fd29c(0x358),'true_false',_0x1fd29c(0x1f4)]},'options':{'type':'ARRAY','items':{'type':_0x1fd29c(0xa44)}},'correctAnswerIndex':{'type':_0x1fd29c(0xc1d)},'idealAnswer':{'type':_0x1fd29c(0xa44)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':_0x1fd29c(0xa44)}},'explanation':{'type':_0x1fd29c(0xa44)},'imageCode':{'type':_0x1fd29c(0xa44)}},'required':[_0x1fd29c(0x430),_0x1fd29c(0x166)]};else{let _0x5bf0b0=_0x1fd29c(0x8e3)+_0x3ccc5f+'\x22';!_0x3ccc5f&&(_0x5bf0b0=_0x1fd29c(0x44a));switch(_0x32e4aa){case _0x1fd29c(0x6f2):const _0xb31391=_0x1fd29c(0x3c2);_0xe66c13='สร้างแบบทดสอบปรนัย'+_0x773e5d+'\x20'+_0xa86502+_0x1fd29c(0xc9c)+_0x5bf0b0+_0x1fd29c(0x8a1)+_0x592ade+_0x1fd29c(0x449)+_0xb31391+_0x1fd29c(0x5d4)+_0x31aaf0+'\x20'+simpleMathPrompt,_0x4d37be={'type':'OBJECT','properties':{'questionText':{'type':_0x1fd29c(0xa44)},'options':{'type':_0x1fd29c(0x1ff),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1fd29c(0xc1d)},'explanation':{'type':_0x1fd29c(0xa44)},'imageCode':{'type':_0x1fd29c(0xa44)}},'required':[_0x1fd29c(0xb0e),_0x1fd29c(0xbed),'correctAnswerIndex',_0x1fd29c(0x166)]};break;case _0x1fd29c(0x161):_0xe66c13=_0x1fd29c(0x8a6)+_0x773e5d+'\x20'+_0xa86502+_0x1fd29c(0xc9c)+_0x5bf0b0+_0x1fd29c(0xc70)+_0x592ade+_0x1fd29c(0x1e8)+_0x31aaf0+'\x20'+simpleMathPrompt,_0x4d37be={'type':'OBJECT','properties':{'questionText':{'type':_0x1fd29c(0xa44)},'options':{'type':_0x1fd29c(0x1ff),'items':{'type':_0x1fd29c(0xa44)}},'correctAnswerIndex':{'type':_0x1fd29c(0xc1d)},'explanation':{'type':_0x1fd29c(0xa44)},'imageCode':{'type':_0x1fd29c(0xa44)}},'required':[_0x1fd29c(0xb0e),_0x1fd29c(0xbed),'correctAnswerIndex',_0x1fd29c(0x166)]};break;case'fill_in_no_choices':_0xe66c13=_0x1fd29c(0x8a6)+_0x773e5d+'\x20'+_0xa86502+_0x1fd29c(0xc9c)+_0x5bf0b0+_0x1fd29c(0xaa)+_0x31aaf0+'\x20'+simpleMathPrompt,_0x4d37be={'type':_0x1fd29c(0xbc1),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x1fd29c(0xa44)},'explanation':{'type':_0x1fd29c(0xa44)},'imageCode':{'type':_0x1fd29c(0xa44)}},'required':[_0x1fd29c(0xb0e),_0x1fd29c(0x649),_0x1fd29c(0x166)]};break;case _0x1fd29c(0xd05):_0xe66c13=_0x1fd29c(0x670)+_0x773e5d+'\x20'+_0xa86502+_0x1fd29c(0xc9c)+_0x5bf0b0+_0x1fd29c(0x1dd)+_0x592ade+_0x1fd29c(0xb3e)+_0x31aaf0+'\x20'+simpleMathPrompt+_0x1fd29c(0xdd0),_0x4d37be={'type':_0x1fd29c(0xbc1),'properties':{'questionText':{'type':_0x1fd29c(0xa44)},'questionType':{'type':'STRING','enum':[_0x1fd29c(0x6f2),_0x1fd29c(0x358)]},'options':{'type':_0x1fd29c(0x1ff),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1fd29c(0xc1d)},'idealAnswer':{'type':_0x1fd29c(0xa44)},'explanation':{'type':_0x1fd29c(0xa44)},'imageCode':{'type':_0x1fd29c(0xa44)}},'required':[_0x1fd29c(0xb0e),_0x1fd29c(0x430),_0x1fd29c(0x166)]};break;case _0x1fd29c(0x50e):_0xe66c13=_0x1fd29c(0x3e8)+_0x773e5d+'\x20'+_0xa86502+_0x1fd29c(0xc9c)+_0x5bf0b0+_0x1fd29c(0xd93)+_0x31aaf0+'\x20'+simpleMathPrompt,_0x4d37be={'type':'OBJECT','properties':{'questionText':{'type':_0x1fd29c(0xa44)},'correctAnswer':{'type':_0x1fd29c(0xd50)},'explanation':{'type':_0x1fd29c(0xa44)},'imageCode':{'type':_0x1fd29c(0xa44)}},'required':[_0x1fd29c(0xb0e),_0x1fd29c(0xad1),_0x1fd29c(0x166)]};break;case'matching':_0xe66c13=_0x1fd29c(0x5b3)+_0x773e5d+'\x20'+_0xa86502+_0x1fd29c(0x849)+_0x5bf0b0+_0x1fd29c(0xb3)+_0xa86502+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x31aaf0+'\x20'+simpleMathPrompt,_0x4d37be={'type':'OBJECT','properties':{'questionType':{'type':_0x1fd29c(0xa44),'enum':[_0x1fd29c(0x1f4)]},'stem':{'type':_0x1fd29c(0xa44)},'correctResponse':{'type':_0x1fd29c(0xa44)},'allResponses':{'type':_0x1fd29c(0x1ff),'items':{'type':_0x1fd29c(0xa44)}},'explanation':{'type':_0x1fd29c(0xa44)},'imageCode':{'type':'STRING'}},'required':[_0x1fd29c(0x430),_0x1fd29c(0x2f5),'correctResponse',_0x1fd29c(0x17b),'explanation']};break;}}const _0x3574f3={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x1fd29c(0x1ff),'items':_0x4d37be}},'required':[_0x1fd29c(0xe5f),_0x1fd29c(0x13f)]},_0x72e3c=_0x1fd29c(0x6f5)+_0xe66c13,_0x5ae41e={'contents':[{'parts':[{'text':_0x72e3c},{'inlineData':{'mimeType':_0x4c561e,'data':_0x47bd83}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x3574f3}};return handleApiCall(_0x5ae41e['contents'][0x0][_0x1fd29c(0x5d5)],_0x1fd29c(0x32f),_0x3574f3);}async function handleApiCall(_0x4e00c5,_0x3f3f46,_0x378f2e,_0x432123=null,_0x2e4107=!![],_0x2fdd2f=null,_0x29a7d1=null){const _0x12ece6=_0x3db3a6,_0x217fdf=document[_0x12ece6(0x283)](_0x12ece6(0x1a0)),_0x168286=document[_0x12ece6(0x283)](_0x12ece6(0x344)),_0x5221fb=document[_0x12ece6(0x283)](_0x12ece6(0x550)),_0x1f6bf4=document[_0x12ece6(0x283)](_0x12ece6(0x42d));_0x217fdf[_0x12ece6(0x605)][_0x12ece6(0x31b)](_0x12ece6(0x9a0));_0x432123===null&&_0x2e4107&&(_0x1f6bf4[_0x12ece6(0x545)]='');_0x168286['classList'][_0x12ece6(0x31b)](_0x12ece6(0x9a0)),_0x5221fb['textContent']=_0x3f3f46,document[_0x12ece6(0x283)](_0x12ece6(0x338))[_0x12ece6(0xc71)]=!![],document[_0x12ece6(0x283)](_0x12ece6(0x8b8))['disabled']=!![],document[_0x12ece6(0x283)]('generate-from-link-btn')[_0x12ece6(0xc71)]=!![];const _0x5626c8=document[_0x12ece6(0x283)](_0x12ece6(0xed));if(_0x5626c8)_0x5626c8[_0x12ece6(0xc71)]=!![];const _0x420b24=document[_0x12ece6(0x283)](_0x12ece6(0xaeb));if(_0x420b24)_0x420b24[_0x12ece6(0xc71)]=!![];const _0x2eb1b0=document[_0x12ece6(0x283)](_0x12ece6(0x47f));if(_0x2eb1b0)_0x2eb1b0[_0x12ece6(0xc71)]=!![];try{const _0x45acd9=Array['isArray'](_0x4e00c5)?_0x4e00c5:[{'text':_0x4e00c5}],_0x50fd03={'contents':[{'role':_0x12ece6(0x633),'parts':_0x45acd9}]};_0x378f2e&&(_0x50fd03[_0x12ece6(0x785)]={'responseMimeType':'application/json','responseSchema':_0x378f2e});const _0x3b3692='AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08',_0x863229=_0x12ece6(0x83e)+_0x3b3692,_0x5c8045=await fetch(_0x863229,{'method':_0x12ece6(0x4df),'headers':{'Content-Type':_0x12ece6(0x87b)},'body':JSON[_0x12ece6(0x6b3)](_0x50fd03)});if(!_0x5c8045['ok']){const _0x20b0c4=await _0x5c8045[_0x12ece6(0x38a)]();console[_0x12ece6(0xe4d)]('API\x20Error\x20Response:',_0x20b0c4);throw new Error(_0x12ece6(0x5bb)+_0x5c8045[_0x12ece6(0x360)]);}const _0x1d587b=await _0x5c8045[_0x12ece6(0xbff)]();if(!_0x1d587b[_0x12ece6(0x6af)]||_0x1d587b[_0x12ece6(0x6af)][_0x12ece6(0x110)]===0x0){let _0x109532=_0x12ece6(0x334);return _0x1d587b['promptFeedback']?.[_0x12ece6(0x6b7)]&&(_0x109532='Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20'+_0x1d587b[_0x12ece6(0x88c)][_0x12ece6(0x6b7)]+'.'),console[_0x12ece6(0xe4d)](_0x109532,JSON[_0x12ece6(0x6b3)](_0x1d587b)),null;}const _0x22a132=_0x1d587b[_0x12ece6(0x6af)][0x0][_0x12ece6(0x44c)][_0x12ece6(0x5d5)][0x0][_0x12ece6(0x38a)];if(_0x378f2e){let _0x5d2ae3=_0x22a132;if(_0x5d2ae3[_0x12ece6(0x9bd)](_0x12ece6(0x9c2)))_0x5d2ae3=_0x5d2ae3['substring'](0x7,_0x5d2ae3[_0x12ece6(0x110)]-0x3)[_0x12ece6(0xc29)]();else _0x5d2ae3[_0x12ece6(0x9bd)](_0x12ece6(0xaa2))&&(_0x5d2ae3=_0x5d2ae3[_0x12ece6(0xa2a)](0x3,_0x5d2ae3[_0x12ece6(0x110)]-0x3)['trim']());let _0x997e22=JSON[_0x12ece6(0x11c)](_0x5d2ae3);if(_0x997e22['questions']&&Array[_0x12ece6(0x7ce)](_0x997e22[_0x12ece6(0x13f)])){const _0x19ff9d=_0x997e22[_0x12ece6(0x13f)]['filter'](_0x598590=>_0x598590[_0x12ece6(0x430)]===_0x12ece6(0x1f4));if(_0x19ff9d[_0x12ece6(0x110)]>0x1){const _0x5867fd=_0x19ff9d[_0x12ece6(0x87e)](_0x7adfd0=>_0x7adfd0[_0x12ece6(0xdcc)])[_0x12ece6(0x1a1)](_0x2f64cd=>_0x2f64cd&&_0x2f64cd[_0x12ece6(0xc29)]()!=='');shuffleArray(_0x5867fd),_0x19ff9d[_0x12ece6(0x277)](_0x211eaa=>{_0x211eaa['allResponses']=[..._0x5867fd];}),console['log']('Matching\x20options\x20synced:',_0x5867fd);}}if(_0x2e4107){if(_0x432123!==null){if(currentEditingQuizData&&currentEditingQuizData[_0x12ece6(0x13f)]){}}else currentQuizData=_0x997e22,displayGeneratedQuiz(currentQuizData,_0x2fdd2f,_0x29a7d1);}return _0x997e22;}else return _0x22a132;}catch(_0x550471){console[_0x12ece6(0xe4d)]('Error\x20in\x20handleApiCall:',_0x550471),showMessage(_0x12ece6(0x144)+_0x550471[_0x12ece6(0x226)]);_0x2e4107&&(_0x1f6bf4[_0x12ece6(0x545)]=_0x12ece6(0xe3f));throw _0x550471;}finally{_0x168286[_0x12ece6(0x605)]['add'](_0x12ece6(0x9a0)),document[_0x12ece6(0x283)]('generate-from-topic-btn')[_0x12ece6(0xc71)]=![],document[_0x12ece6(0x283)](_0x12ece6(0x8b8))[_0x12ece6(0xc71)]=![],document[_0x12ece6(0x283)](_0x12ece6(0xa67))[_0x12ece6(0xc71)]=![];if(_0x5626c8)_0x5626c8[_0x12ece6(0xc71)]=![];if(_0x420b24)_0x420b24[_0x12ece6(0xc71)]=![];if(_0x2eb1b0)_0x2eb1b0[_0x12ece6(0xc71)]=![];}}function exitFullscreen(){const _0x412848=_0x3db3a6;if(document['exitFullscreen'])document[_0x412848(0xd15)]()[_0x412848(0xc1e)](_0x87bf05=>console['error'](_0x87bf05));else{if(document[_0x412848(0xb0)])document[_0x412848(0xb0)]();else document[_0x412848(0xa82)]&&document[_0x412848(0xa82)]();}}function enterFullscreen(){const _0x5e4211=_0x3db3a6,_0x1d0316=document[_0x5e4211(0x554)];if(_0x1d0316[_0x5e4211(0x23c)])_0x1d0316['requestFullscreen']()['catch'](_0x4c7285=>{const _0x46543e=_0x5e4211;console[_0x46543e(0xe4d)](_0x46543e(0x34f)+_0x4c7285[_0x46543e(0x226)]+'\x20('+_0x4c7285[_0x46543e(0x339)]+')');});else{if(_0x1d0316[_0x5e4211(0x3c0)])_0x1d0316[_0x5e4211(0x3c0)]();else _0x1d0316['msRequestFullscreen']&&_0x1d0316[_0x5e4211(0x3b3)]();}}function handleCheatingEvent(){const _0x40221f=_0x3db3a6;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent('screen_exit',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x40221f(0x81d)+maxCheatAttempts+_0x40221f(0x26f)),document['getElementById'](_0x40221f(0x2b7))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x40221f(0xe2c)](_0x40221f(0x914),handleVisibilityChange),document[_0x40221f(0xe2c)](_0x40221f(0xd0d),handleFullscreenChange)):showMessage(_0x40221f(0x96f)+cheatAttempts+'/'+maxCheatAttempts+_0x40221f(0x795),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x47d5a6=_0x3db3a6;if(currentMode===_0x47d5a6(0x983)||!isQuizActive)return;if(document[_0x47d5a6(0xd0e)]==='hidden')handleCheatingEvent();else document[_0x47d5a6(0xd0e)]===_0x47d5a6(0x7b4)&&(console[_0x47d5a6(0x6e6)](_0x47d5a6(0x374)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x556ec7=_0x3db3a6;if(currentMode===_0x556ec7(0x983)||!isQuizActive)return;!document[_0x556ec7(0x48a)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x4a5fcd,_0x264169=null,_0x549115=null){const _0x434e2e=_0x3db3a6,_0x34fe99=document[_0x434e2e(0x283)](_0x434e2e(0x42d));let _0xafd0f3=_0x434e2e(0xa79)+_0x4a5fcd[_0x434e2e(0xe5f)]+'</h3>';_0x4a5fcd[_0x434e2e(0x13f)][_0x434e2e(0x277)]((_0x5683fe,_0x24e0b7)=>{const _0x130253=_0x434e2e;!_0x5683fe['id']&&(_0x5683fe['id']='q_'+Date[_0x130253(0x9e4)]()+'_'+_0x24e0b7);const _0x5b9074=_0x5683fe['questionType']||_0x4a5fcd[_0x130253(0x461)];_0xafd0f3+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22'+_0x24e0b7+_0x130253(0xb62)+_0x24e0b7+_0x130253(0xb3d)+_0x24e0b7+_0x130253(0x7fa);_0x5b9074==='matching_item'?_0xafd0f3+=_0x130253(0xa60)+_0x24e0b7+'\x22>'+(_0x24e0b7+0x1)+'.\x20'+_0x5683fe[_0x130253(0x2f5)]+'</p>':_0xafd0f3+=_0x130253(0xa60)+_0x24e0b7+'\x22>'+(_0x24e0b7+0x1)+'.\x20'+_0x5683fe[_0x130253(0xb0e)]+_0x130253(0x74f);_0x5683fe['imageCode']&&(_0xafd0f3+=_0x130253(0x3d5)+_0x24e0b7+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x5683fe['imageCode']+_0x130253(0xdc0));if(_0x5683fe['options']&&Array[_0x130253(0x7ce)](_0x5683fe['options'])&&_0x5683fe[_0x130253(0xbed)][_0x130253(0x110)]>0x0)_0xafd0f3+=_0x130253(0xbbe)+_0x24e0b7+_0x130253(0x9de)+_0x5683fe['options'][_0x130253(0x87e)]((_0x268acb,_0x54c3e5)=>_0x130253(0x717)+(_0x54c3e5===_0x5683fe[_0x130253(0x7ed)]?_0x130253(0x7ca):'')+'\x22>'+_0x268acb+_0x130253(0x241))['join']('')+_0x130253(0x2b4);else{if(_0x5b9074===_0x130253(0x1f4)||_0x5683fe[_0x130253(0xdcc)])_0xafd0f3+=_0x130253(0x891)+_0x24e0b7+'\x22>'+_0x5683fe[_0x130253(0xdcc)]+'</span></div>';else{if(_0x5b9074===_0x130253(0x50e)||typeof _0x5683fe[_0x130253(0xad1)]===_0x130253(0xda3))_0xafd0f3+=_0x130253(0xae0)+(_0x5683fe[_0x130253(0xad1)]===!![]?_0x130253(0x7ca):'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x5683fe[_0x130253(0xad1)]===![]?'text-green-600\x20font-bold':'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else _0x5683fe['idealAnswer']?_0xafd0f3+=_0x130253(0xda5)+_0x24e0b7+'\x22>'+_0x5683fe[_0x130253(0x649)]+_0x130253(0x998):_0xafd0f3+='<p\x20class=\x22text-red-500\x20text-sm\x22>ข้อผิดพลาด:\x20ไม่พบข้อมูลเฉลยหรือตัวเลือก</p>';}}_0xafd0f3+=_0x130253(0xc36)+_0x24e0b7+'\x22>'+_0x5683fe['explanation']+_0x130253(0x998),_0xafd0f3+=_0x130253(0xdc0);}),_0xafd0f3+=_0x434e2e(0x394),_0x34fe99[_0x434e2e(0x545)]=_0xafd0f3,document[_0x434e2e(0x68a)](_0x434e2e(0x146))['forEach'](_0x2b6bf2=>_0x2b6bf2[_0x434e2e(0x844)](_0x434e2e(0x425),handleEditQuestion)),document[_0x434e2e(0x68a)](_0x434e2e(0xc50))['forEach'](_0x13a754=>_0x13a754['addEventListener'](_0x434e2e(0x425),handleRegenerateQuestion)),document['getElementById'](_0x434e2e(0x18a))['addEventListener']('click',exportQuizAsWorksheetPDF),document[_0x434e2e(0x283)](_0x434e2e(0x652))['addEventListener'](_0x434e2e(0x425),handleVerifyAnswers);const _0x4def9a=document[_0x434e2e(0x283)]('save-quiz-btn');if(_0x4def9a){const _0x49dc02=_0x264169||currentProjectId;_0x4def9a['addEventListener']('click',()=>saveQuiz(_0x49dc02,_0x549115));}if(window['MathJax'])window[_0x434e2e(0x4d4)][_0x434e2e(0x130)]([_0x34fe99]);}function handleRegenerateQuestion(_0x3446c4){const _0x37c14e=_0x3db3a6,_0x527bc4=_0x3446c4[_0x37c14e(0x4c4)][_0x37c14e(0x845)][_0x37c14e(0x908)],_0x2e20aa=currentQuizData[_0x37c14e(0xe5f)];showMessage(_0x37c14e(0xa88)+(parseInt(_0x527bc4)+0x1)+'\x20ใหม่...'),generateQuiz(_0x2e20aa,null,parseInt(_0x527bc4));}function getPointerPosition(_0x1214eb,_0x170789){const _0x383ae9=_0x3db3a6,_0x5df1b8=_0x1214eb[_0x383ae9(0x890)]();let _0x483e88,_0x41f55a;return _0x170789[_0x383ae9(0xe36)]&&_0x170789[_0x383ae9(0xe36)][_0x383ae9(0x110)]>0x0?(_0x483e88=_0x170789[_0x383ae9(0xe36)][0x0][_0x383ae9(0x5c8)],_0x41f55a=_0x170789[_0x383ae9(0xe36)][0x0]['clientY']):(_0x483e88=_0x170789['clientX'],_0x41f55a=_0x170789['clientY']),{'x':(_0x483e88-_0x5df1b8['e'])/_0x5df1b8['a'],'y':(_0x41f55a-_0x5df1b8['f'])/_0x5df1b8['d']};}function startDrag(_0x338587){const _0x4c3434=_0x3db3a6;_0x338587['type']===_0x4c3434(0x109)&&_0x338587[_0x4c3434(0xde6)]();const _0x4449e3=_0x338587[_0x4c3434(0x543)][_0x4c3434(0x455)](_0x4c3434(0x915));if(_0x4449e3){draggedSvgElement=_0x4449e3;const _0x41e90f=draggedSvgElement[_0x4c3434(0x37d)],_0x477bb8=getPointerPosition(_0x41e90f,_0x338587);svgOffset['x']=_0x477bb8['x']-parseFloat(draggedSvgElement['getAttributeNS'](null,'x')),svgOffset['y']=_0x477bb8['y']-parseFloat(draggedSvgElement[_0x4c3434(0x1ed)](null,'y'));}}function calculateItemAnalysis(_0x47b649,_0x3e0aa9){const _0x93c54e=_0x3db3a6,_0x37aa04={};if(_0x3e0aa9[_0x93c54e(0x110)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x1b9d18=[..._0x3e0aa9][_0x93c54e(0x667)]((_0x2ac12a,_0x1683c5)=>{const _0x353b49=_0x93c54e,_0x4bc112=_0x1683c5['latestScore']-_0x2ac12a[_0x353b49(0x1ab)];if(_0x4bc112!==0x0)return _0x4bc112;const _0x3fd531=_0x2ac12a[_0x353b49(0x57f)]?.[_0x353b49(0x110)]||0x1,_0x327f09=_0x1683c5[_0x353b49(0x57f)]?.[_0x353b49(0x110)]||0x1,_0x266586=_0x3fd531-_0x327f09;if(_0x266586!==0x0)return _0x266586;const _0x36e131=new Date(_0x2ac12a[_0x353b49(0x213)]),_0x476db8=new Date(_0x1683c5[_0x353b49(0x213)]),_0x289075=_0x36e131-_0x476db8;if(_0x289075!==0x0)return _0x289075;return _0x2ac12a[_0x353b49(0x28e)][_0x353b49(0x879)](_0x1683c5[_0x353b49(0x28e)],'th');}),_0x496252=_0x1b9d18[_0x93c54e(0x110)],_0x2c4013=Math[_0x93c54e(0x8c3)](0x1,Math[_0x93c54e(0x7f6)](_0x496252*0.33));if(_0x2c4013===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x9559ba=_0x1b9d18[_0x93c54e(0x972)](0x0,_0x2c4013),_0x26e184=_0x1b9d18[_0x93c54e(0x972)](-_0x2c4013),_0x39aedf=_0x9559ba[_0x93c54e(0x87e)](_0x56c405=>_0x56c405['studentName']),_0x24715f=_0x26e184[_0x93c54e(0x87e)](_0x5aba24=>_0x5aba24[_0x93c54e(0x28e)]);return _0x47b649['questions']['forEach']((_0x4b3062,_0x400f2f)=>{const _0x123265=_0x93c54e,_0x213462=_0x4b3062[_0x123265(0x2f5)]||_0x4b3062[_0x123265(0xb0e)];let _0x44b847=0x0,_0x257c9f=0x0,_0x4ad531=0x0;const _0x2de26e=[],_0x17be2e=[];_0x9559ba['forEach'](_0x32b556=>{const _0x3546eb=_0x123265,_0x3605f7=_0x32b556['attempts'][_0x32b556['attempts'][_0x3546eb(0x110)]-0x1],_0x449d99=_0x3605f7[_0x3546eb(0x749)]['find'](_0x3a1f47=>_0x3a1f47[_0x3546eb(0x2bf)]===_0x213462);_0x2de26e['push']({'name':_0x32b556[_0x3546eb(0x28e)],'isCorrect':_0x449d99?_0x449d99[_0x3546eb(0xb7c)]:![]}),_0x449d99&&_0x449d99[_0x3546eb(0xb7c)]&&_0x257c9f++;}),_0x26e184[_0x123265(0x277)](_0x1d2c19=>{const _0x51418f=_0x123265,_0x52b26e=_0x1d2c19[_0x51418f(0x57f)][_0x1d2c19[_0x51418f(0x57f)][_0x51418f(0x110)]-0x1],_0x5249a6=_0x52b26e['answers']['find'](_0x2cdbf6=>_0x2cdbf6['originalQuestionText']===_0x213462);_0x17be2e[_0x51418f(0x827)]({'name':_0x1d2c19['studentName'],'isCorrect':_0x5249a6?_0x5249a6['isCorrect']:![]}),_0x5249a6&&_0x5249a6[_0x51418f(0xb7c)]&&_0x4ad531++;}),_0x3e0aa9[_0x123265(0x277)](_0x296091=>{const _0x4acc36=_0x123265,_0x292b40=_0x296091['attempts'][_0x296091[_0x4acc36(0x57f)][_0x4acc36(0x110)]-0x1],_0x3220f2=_0x292b40[_0x4acc36(0x749)]['find'](_0x2cada1=>_0x2cada1[_0x4acc36(0x2bf)]===_0x213462);_0x3220f2&&_0x3220f2[_0x4acc36(0xb7c)]&&_0x44b847++;});const _0x3b6dc2=_0x496252>0x0?_0x44b847/_0x496252:0x0,_0x3bcd5b=_0x2c4013>0x0?_0x257c9f/_0x2c4013-_0x4ad531/_0x2c4013:0x0;_0x37aa04[_0x400f2f]={'p':_0x3b6dc2,'r':_0x3bcd5b,'upperGroupResponders':_0x2de26e,'lowerGroupResponders':_0x17be2e};}),{'perQuestionStats':_0x37aa04,'overallGroups':{'upperGroupNames':_0x39aedf,'lowerGroupNames':_0x24715f}};}function drag(_0x297f38){const _0x567345=_0x3db3a6;if(draggedSvgElement){_0x297f38[_0x567345(0xde6)]();const _0x4dea78=draggedSvgElement['ownerSVGElement'],_0x1cef27=getPointerPosition(_0x4dea78,_0x297f38),_0x2f6de9=_0x4dea78[_0x567345(0x65a)][_0x567345(0x95f)];let _0x39b7db=_0x1cef27['x']-svgOffset['x'],_0x4b62e0=_0x1cef27['y']-svgOffset['y'];const _0x4d269b=draggedSvgElement['getBBox']();_0x39b7db=Math['max'](_0x2f6de9['x'],Math[_0x567345(0xcc7)](_0x39b7db,_0x2f6de9['x']+_0x2f6de9[_0x567345(0x532)]-_0x4d269b[_0x567345(0x532)])),_0x4b62e0=Math['max'](_0x2f6de9['y'],Math['min'](_0x4b62e0,_0x2f6de9['y']+_0x2f6de9[_0x567345(0x521)]-_0x4d269b[_0x567345(0x521)])),draggedSvgElement[_0x567345(0xa83)](null,'x',_0x39b7db),draggedSvgElement[_0x567345(0xa83)](null,'y',_0x4b62e0);}}function endDrag(_0x30f74f){draggedSvgElement=null;}function handleSvgEditClick(_0x2ea288){const _0x48771f=_0x3db3a6;if(_0x2ea288['target'][_0x48771f(0x605)][_0x48771f(0x5a0)](_0x48771f(0x38b))){const _0x2c40fc=_0x2ea288[_0x48771f(0x543)]['dataset']['targetId'],_0x34a45b=_0x2ea288[_0x48771f(0x4c4)],_0x5c7e24=_0x34a45b[_0x48771f(0x1a6)]('#'+_0x2c40fc);_0x5c7e24&&_0x5c7e24[_0x48771f(0x31b)](),_0x2ea288['target']['remove']();}}function handleEditQuestion(_0x4fca9b){const _0x13ea6e=_0x3db3a6,_0x1f8361=_0x4fca9b[_0x13ea6e(0x4c4)],_0x3bb7fd=_0x1f8361[_0x13ea6e(0x845)][_0x13ea6e(0x908)],_0x35de19=currentQuizData['questions'][_0x3bb7fd],_0x149766=document[_0x13ea6e(0x283)]('q-text-'+_0x3bb7fd),_0xa11493=document[_0x13ea6e(0x283)]('q-explanation-'+_0x3bb7fd),_0x1395d0=document['getElementById'](_0x13ea6e(0xce)+_0x3bb7fd);if(_0x1f8361['innerHTML'][_0x13ea6e(0x2e8)]('fa-pen')){_0x1f8361[_0x13ea6e(0x545)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x1f8361[_0x13ea6e(0x569)]='บันทึกการแก้ไข';if(_0x149766)_0x149766[_0x13ea6e(0xb21)]=!![];if(_0xa11493)_0xa11493['contentEditable']=!![];if(_0x1395d0){const _0x51534b=_0x1395d0[_0x13ea6e(0x1a6)](_0x13ea6e(0x496));if(_0x51534b){const _0x46c8bf=_0x51534b[_0x13ea6e(0x68a)]('text');_0x46c8bf[_0x13ea6e(0x277)]((_0xe30b6c,_0x6645f2)=>{const _0x27f526=_0x13ea6e,_0x30bf69=_0x27f526(0x2f1)+_0x3bb7fd+'-'+_0x6645f2;_0xe30b6c['id']=_0x30bf69,_0xe30b6c[_0x27f526(0x605)][_0x27f526(0xd74)](_0x27f526(0x224)),_0xe30b6c[_0x27f526(0xbeb)][_0x27f526(0x1a8)]=_0x27f526(0x71b);const _0x37d1c6=document['createElementNS'](_0x27f526(0x534),_0x27f526(0x9bf)),_0x1fb90b=_0xe30b6c[_0x27f526(0x168)]();_0x37d1c6[_0x27f526(0x44f)]('cx',String(_0x1fb90b['x']+_0x1fb90b[_0x27f526(0x532)]+0x5)),_0x37d1c6[_0x27f526(0x44f)]('cy',String(_0x1fb90b['y']+_0x1fb90b[_0x27f526(0x521)]/0x2-0x5)),_0x37d1c6['setAttribute']('r','5'),_0x37d1c6['setAttribute'](_0x27f526(0x9d9),'red'),_0x37d1c6[_0x27f526(0x44f)](_0x27f526(0x996),_0x27f526(0x38b)),_0x37d1c6[_0x27f526(0x845)][_0x27f526(0x5e6)]=_0x30bf69,_0xe30b6c[_0x27f526(0xd51)](_0x37d1c6);}),_0x51534b['addEventListener'](_0x13ea6e(0xb3b),startDrag),_0x51534b[_0x13ea6e(0x844)]('mousemove',drag),_0x51534b[_0x13ea6e(0x844)](_0x13ea6e(0x207),endDrag),_0x51534b[_0x13ea6e(0x844)](_0x13ea6e(0x182),endDrag),_0x51534b[_0x13ea6e(0x844)](_0x13ea6e(0x109),startDrag,{'passive':![]}),_0x51534b[_0x13ea6e(0x844)](_0x13ea6e(0x1df),drag,{'passive':![]}),_0x51534b[_0x13ea6e(0x844)](_0x13ea6e(0xcf),endDrag),_0x51534b[_0x13ea6e(0x844)]('touchcancel',endDrag),_0x51534b['addEventListener']('click',handleSvgEditClick);}}if(_0x149766)_0x149766[_0x13ea6e(0xccd)]();}else{_0x1f8361[_0x13ea6e(0x545)]=_0x13ea6e(0x3ea),_0x1f8361['title']='แก้ไขข้อนี้';if(_0x149766){_0x149766[_0x13ea6e(0xb21)]=![];const _0x5caec5=_0x35de19[_0x13ea6e(0x430)]||currentQuizData['quizType'];_0x5caec5===_0x13ea6e(0x1f4)?_0x35de19[_0x13ea6e(0x2f5)]=_0x149766[_0x13ea6e(0xba9)]['substring'](_0x149766[_0x13ea6e(0xba9)][_0x13ea6e(0x52f)]('.')+0x2)['trim']():_0x35de19[_0x13ea6e(0xb0e)]=_0x149766[_0x13ea6e(0xba9)][_0x13ea6e(0xa2a)](_0x149766[_0x13ea6e(0xba9)][_0x13ea6e(0x52f)]('.')+0x2)['trim']();}_0xa11493&&(_0xa11493[_0x13ea6e(0xb21)]=![],_0x35de19['explanation']=_0xa11493[_0x13ea6e(0xba9)]);if(_0x1395d0){const _0x4a1951=_0x1395d0[_0x13ea6e(0x1a6)](_0x13ea6e(0x496));if(_0x4a1951){const _0x55e099=_0x4a1951[_0x13ea6e(0x99e)](!![]);_0x55e099[_0x13ea6e(0x68a)](_0x13ea6e(0xad9))[_0x13ea6e(0x277)](_0x554edb=>_0x554edb['remove']()),_0x55e099[_0x13ea6e(0x68a)](_0x13ea6e(0x915))['forEach'](_0x573aba=>{const _0x3dc544=_0x13ea6e;_0x573aba[_0x3dc544(0x605)][_0x3dc544(0x31b)](_0x3dc544(0x224)),_0x573aba[_0x3dc544(0xbeb)][_0x3dc544(0x1a8)]=_0x3dc544(0x6cc),_0x573aba[_0x3dc544(0x5a3)]('id');}),_0x35de19[_0x13ea6e(0xc8b)]=_0x55e099['outerHTML'],_0x4a1951[_0x13ea6e(0xe2c)]('mousedown',startDrag),_0x4a1951[_0x13ea6e(0xe2c)](_0x13ea6e(0x19e),drag),_0x4a1951[_0x13ea6e(0xe2c)](_0x13ea6e(0x207),endDrag),_0x4a1951[_0x13ea6e(0xe2c)]('mouseleave',endDrag),_0x4a1951[_0x13ea6e(0xe2c)](_0x13ea6e(0x109),startDrag),_0x4a1951[_0x13ea6e(0xe2c)](_0x13ea6e(0x1df),drag),_0x4a1951[_0x13ea6e(0xe2c)]('touchend',endDrag),_0x4a1951[_0x13ea6e(0xe2c)](_0x13ea6e(0x28f),endDrag),_0x4a1951[_0x13ea6e(0xe2c)](_0x13ea6e(0x425),handleSvgEditClick),_0x4a1951[_0x13ea6e(0x68a)]('.delete-svg-btn')[_0x13ea6e(0x277)](_0x49dd74=>_0x49dd74['remove']()),_0x4a1951[_0x13ea6e(0x68a)]('.draggable-text')[_0x13ea6e(0x277)](_0x29b5e4=>{const _0x53d383=_0x13ea6e;_0x29b5e4[_0x53d383(0x605)][_0x53d383(0x31b)](_0x53d383(0x224)),_0x29b5e4[_0x53d383(0xbeb)]['cursor']=_0x53d383(0x6cc);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x792dc){const _0x5c8092=_0x3db3a6,_0x2891d2=document[_0x5c8092(0x283)](_0x5c8092(0x563)),_0x1b345c=document[_0x5c8092(0x283)](_0x5c8092(0x720));_0x1b345c[_0x5c8092(0x545)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x2891d2[_0x5c8092(0x605)][_0x5c8092(0x31b)](_0x5c8092(0x9a0));try{const _0x3bebd7=doc(db,_0x5c8092(0x981)+appId+'/public/data/quizzes',_0x792dc),_0x32120d=await getDoc(_0x3bebd7);if(!_0x32120d[_0x5c8092(0xaed)]())throw new Error(_0x5c8092(0x999));currentEditingQuizData={'id':_0x792dc,..._0x32120d[_0x5c8092(0x366)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x44a6d2){console['error'](_0x5c8092(0x84f),_0x44a6d2),showMessage(_0x5c8092(0x26b)),_0x2891d2[_0x5c8092(0x605)]['add'](_0x5c8092(0x9a0));}}function renderQuizEditor(_0x2c64e2){const _0x4dadbe=_0x3db3a6;document[_0x4dadbe(0x283)]('editor-quiz-topic')[_0x4dadbe(0xa89)]=_0x2c64e2['topic'];const _0x3f9bdc=document[_0x4dadbe(0x283)](_0x4dadbe(0x720));let _0x54e375=_0x2c64e2[_0x4dadbe(0x13f)][_0x4dadbe(0x87e)]((_0x303e1c,_0x1b3c79)=>{const _0x31c2e7=_0x4dadbe;let _0x56238c='';const _0x51aba6=_0x303e1c[_0x31c2e7(0x430)]||_0x2c64e2[_0x31c2e7(0x461)],_0x43ecfb=(_0x51aba6==='short_answer'||_0x51aba6===_0x31c2e7(0x1c8))&&_0x303e1c['options']&&_0x303e1c[_0x31c2e7(0xbed)][_0x31c2e7(0x110)]>0x0;switch(_0x51aba6){case _0x31c2e7(0x6f2):const _0xfb145b=(_0x303e1c[_0x31c2e7(0xbed)]||[])[_0x31c2e7(0x87e)]((_0x433ba5,_0x54b96d)=>_0x31c2e7(0xdef)+_0x1b3c79+_0x31c2e7(0x754)+_0x54b96d+'\x22\x20'+(_0x54b96d===_0x303e1c['correctAnswerIndex']?_0x31c2e7(0x61b):'')+_0x31c2e7(0x4f5)+_0x433ba5+_0x31c2e7(0x7c0))[_0x31c2e7(0xd6e)]('');_0x56238c=_0x31c2e7(0x37c)+_0xfb145b+_0x31c2e7(0x920);break;case _0x31c2e7(0x1c8):case'short_answer':_0x56238c=_0x31c2e7(0x174)+(_0x303e1c[_0x31c2e7(0x649)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';if(_0x43ecfb){const _0x5cb281=(_0x303e1c[_0x31c2e7(0xbed)]||[])[_0x31c2e7(0x87e)]((_0x48d79d,_0x34795d)=>_0x31c2e7(0x67e)+_0x1b3c79+_0x31c2e7(0x754)+_0x34795d+'\x22\x20'+(_0x34795d===_0x303e1c['correctAnswerIndex']?_0x31c2e7(0x61b):'')+_0x31c2e7(0x3cf)+_0x48d79d+_0x31c2e7(0xb04))[_0x31c2e7(0xd6e)]('');_0x56238c+=_0x31c2e7(0xa9d)+_0x5cb281+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}break;case _0x31c2e7(0x50e):_0x56238c=_0x31c2e7(0x8b7)+_0x1b3c79+_0x31c2e7(0x4ec)+(_0x303e1c[_0x31c2e7(0xad1)]===!![]?_0x31c2e7(0x61b):'')+_0x31c2e7(0x413)+_0x1b3c79+_0x31c2e7(0x9b6)+(_0x303e1c[_0x31c2e7(0xad1)]===![]?_0x31c2e7(0x61b):'')+_0x31c2e7(0xd5b);break;case _0x31c2e7(0x1f4):_0x56238c=_0x31c2e7(0x331)+(_0x303e1c[_0x31c2e7(0xdcc)]||'')+_0x31c2e7(0xd37);break;}let _0x217f9e=_0x303e1c[_0x31c2e7(0xb0e)]||_0x303e1c['stem']||'';_0x217f9e=_0x217f9e[_0x31c2e7(0x950)](/<br\s*\/?>/gi,'\x0a');let _0x227b7c='';if(_0x51aba6===_0x31c2e7(0x6f2))_0x227b7c='<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22แปลงเป็นแบบเติมคำ\x20(แต่ซ่อนตัวเลือกไว้ขาย)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>';else _0x43ecfb&&(_0x227b7c='<button\x20class=\x22toggle-hidden-options-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x20rounded-full\x20hover:bg-purple-100\x22\x20title=\x22กลับคืนเป็นแบบตัวเลือก\x20(Multiple\x20Choice)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>');return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0x1b3c79+_0x31c2e7(0x84b)+_0x51aba6+'\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x227b7c+'\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-formula-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22ให้\x20AI\x20ช่วยซ่อมสูตร\x20LaTeX\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20'+(_0x1b3c79+0x1)+'\x20('+_0x51aba6+_0x31c2e7(0xd49)+_0x217f9e+_0x31c2e7(0xc85)+_0x56238c+_0x31c2e7(0xda6);})[_0x4dadbe(0xd6e)]('');_0x3f9bdc[_0x4dadbe(0x545)]=_0x54e375;const _0x29e371=_0x4dadbe(0x351);_0x3f9bdc['insertAdjacentHTML']('beforeend',_0x29e371),_0x3f9bdc[_0x4dadbe(0x68a)](_0x4dadbe(0xe7))[_0x4dadbe(0x277)](_0x2c0e0c=>{const _0x1cdddc=_0x4dadbe;_0x2c0e0c[_0x1cdddc(0xbeb)][_0x1cdddc(0xcb2)]=_0x1cdddc(0x9a0),_0x2c0e0c['style'][_0x1cdddc(0x5b7)]=_0x1cdddc(0x5a8),_0x2c0e0c[_0x1cdddc(0xc0b)]=0x4;const _0x4e245e=()=>{const _0xb6b4a6=_0x1cdddc;_0x2c0e0c[_0xb6b4a6(0xbeb)][_0xb6b4a6(0x521)]=_0xb6b4a6(0x181),_0x2c0e0c[_0xb6b4a6(0xbeb)]['height']=_0x2c0e0c[_0xb6b4a6(0x1d6)]+'px';};_0x2c0e0c[_0x1cdddc(0x844)](_0x1cdddc(0x3df),_0x4e245e),_0x4e245e();}),_0x3f9bdc[_0x4dadbe(0x68a)](_0x4dadbe(0x562))[_0x4dadbe(0x277)](_0xcdaa0f=>{const _0x4c8479=_0x4dadbe;_0xcdaa0f[_0x4c8479(0x844)](_0x4c8479(0x425),handleAiFixQuestion);}),_0x3f9bdc[_0x4dadbe(0x68a)](_0x4dadbe(0x1f0))[_0x4dadbe(0x277)](_0x43c73e=>{const _0x392cc2=_0x4dadbe;_0x43c73e[_0x392cc2(0x844)](_0x392cc2(0x425),_0x4282dc=>{const _0x190730=_0x392cc2,_0x12f157=parseInt(_0x4282dc[_0x190730(0x4c4)]['closest'](_0x190730(0x48d))[_0x190730(0x845)][_0x190730(0x3e7)],0xa);handleAiFixFormula(_0x12f157);});}),_0x3f9bdc[_0x4dadbe(0x68a)](_0x4dadbe(0x987))[_0x4dadbe(0x277)](_0x1efbf8=>{const _0x4dbd38=_0x4dadbe;_0x1efbf8[_0x4dbd38(0x844)](_0x4dbd38(0x425),_0x2884bb=>{const _0x2d4932=_0x4dbd38,_0x48c363=parseInt(_0x2884bb[_0x2d4932(0x4c4)][_0x2d4932(0x455)]('.question-editor-item')[_0x2d4932(0x845)][_0x2d4932(0x3e7)],0xa);handleToggleHiddenOptions(_0x48c363);});});}function handleToggleHiddenOptions(_0x365346){const _0x5b18aa=_0x3db3a6;if(!currentEditingQuizData||!currentEditingQuizData[_0x5b18aa(0x13f)][_0x365346])return;const _0x345522=currentEditingQuizData['questions'][_0x365346],_0x51ca2a=_0x345522[_0x5b18aa(0x430)]||_0x5b18aa(0x6f2),_0x36ce09=document[_0x5b18aa(0x1a6)](_0x5b18aa(0x41d)+_0x365346+'\x22]');if(_0x36ce09){_0x345522[_0x5b18aa(0xb0e)]=_0x36ce09[_0x5b18aa(0x1a6)]('textarea')[_0x5b18aa(0xa89)];if(_0x51ca2a===_0x5b18aa(0x6f2)){const _0x2f19c8=_0x36ce09[_0x5b18aa(0x68a)]('.option-input');_0x345522[_0x5b18aa(0xbed)]=Array[_0x5b18aa(0x4e4)](_0x2f19c8)[_0x5b18aa(0x87e)](_0x38479d=>_0x38479d[_0x5b18aa(0xa89)]);const _0x3eb7ca=_0x36ce09[_0x5b18aa(0x1a6)](_0x5b18aa(0xabc));if(_0x3eb7ca)_0x345522['correctAnswerIndex']=parseInt(_0x3eb7ca[_0x5b18aa(0xa89)]);}else{if(_0x51ca2a===_0x5b18aa(0x358)||_0x51ca2a===_0x5b18aa(0x1c8)){const _0xc1ad6=_0x36ce09[_0x5b18aa(0x1a6)]('.ideal-answer-input');if(_0xc1ad6)_0x345522[_0x5b18aa(0x649)]=_0xc1ad6[_0x5b18aa(0xa89)];const _0x131f66=_0x36ce09['querySelectorAll'](_0x5b18aa(0x81f));_0x131f66[_0x5b18aa(0x110)]>0x0&&(_0x345522[_0x5b18aa(0xbed)]=Array[_0x5b18aa(0x4e4)](_0x131f66)['map'](_0x4dad86=>_0x4dad86[_0x5b18aa(0xa89)]));}}}_0x51ca2a===_0x5b18aa(0x6f2)?(_0x345522[_0x5b18aa(0x430)]='short_answer',_0x345522[_0x5b18aa(0xbed)]&&_0x345522[_0x5b18aa(0x7ed)]!==undefined&&(_0x345522[_0x5b18aa(0x649)]=_0x345522['options'][_0x345522[_0x5b18aa(0x7ed)]]||'')):_0x345522[_0x5b18aa(0x430)]=_0x5b18aa(0x6f2),renderQuizEditor(currentEditingQuizData);}function handleDeleteQuestionInEditor(_0x41c0d8){const _0x25f2ab=_0x3db3a6;if(!currentEditingQuizData||!currentEditingQuizData[_0x25f2ab(0x13f)][_0x41c0d8])return;const _0x5ca936=currentEditingQuizData[_0x25f2ab(0x13f)][_0x41c0d8][_0x25f2ab(0xb0e)]||currentEditingQuizData[_0x25f2ab(0x13f)][_0x41c0d8][_0x25f2ab(0x2f5)];showConfirmation(_0x25f2ab(0x211)+(_0x41c0d8+0x1)+_0x25f2ab(0xc47)+_0x5ca936[_0x25f2ab(0xa2a)](0x0,0x14)+_0x25f2ab(0x9f),()=>{const _0x25ba0c=_0x25f2ab;currentEditingQuizData[_0x25ba0c(0x13f)][_0x25ba0c(0x127)](_0x41c0d8,0x1),renderQuizEditor(currentEditingQuizData),showMessage(_0x25ba0c(0xc34));});}function handleAddQuestionInEditor(){const _0x32407d=_0x3db3a6;if(!currentEditingQuizData)return;const _0x35ae99=document['getElementById'](_0x32407d(0x50d)),_0x288e14=_0x35ae99?_0x35ae99[_0x32407d(0xa89)]:_0x32407d(0x6f2);let _0x792398={'id':'q_'+Date[_0x32407d(0x9e4)]()+'_new','questionType':_0x288e14,'questionText':'---\x20[คำถามใหม่]\x20---','explanation':_0x32407d(0x6d0)};switch(_0x288e14){case _0x32407d(0x6f2):_0x792398[_0x32407d(0xbed)]=[_0x32407d(0x7b5),_0x32407d(0x80f),_0x32407d(0x786),_0x32407d(0x13b)],_0x792398[_0x32407d(0x7ed)]=0x0;break;case _0x32407d(0x358):case _0x32407d(0x1c8):_0x792398[_0x32407d(0x649)]=_0x32407d(0x202);break;case _0x32407d(0x50e):_0x792398['correctAnswer']=!![];break;case _0x32407d(0x1f4):_0x792398[_0x32407d(0x2f5)]=_0x32407d(0x967),_0x792398[_0x32407d(0xdcc)]='คู่คำตอบ...',_0x792398[_0x32407d(0xb0e)]=_0x32407d(0x967);break;}currentEditingQuizData[_0x32407d(0x13f)][_0x32407d(0x827)](_0x792398),renderQuizEditor(currentEditingQuizData),setTimeout(()=>{const _0xf5ba65=_0x32407d,_0x233673=document[_0xf5ba65(0x1a6)](_0xf5ba65(0x1a2));if(_0x233673){_0x233673['scrollIntoView']({'behavior':_0xf5ba65(0xa77),'block':_0xf5ba65(0x9d)});const _0x1db834=_0x233673['querySelector']('textarea');if(_0x1db834)_0x1db834[_0xf5ba65(0xccd)]();}},0x64);}async function handleAiFixQuestion(_0x473b76){const _0x9eb039=_0x3db3a6,_0x2a4670=_0x473b76[_0x9eb039(0x4c4)],_0x24012b=_0x2a4670[_0x9eb039(0x455)]('.question-editor-item');if(!_0x24012b)return;const _0x367cb0=parseInt(_0x24012b[_0x9eb039(0x845)]['qIndex'],0xa);if(isNaN(_0x367cb0)||!currentEditingQuizData['questions'][_0x367cb0]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x23c25b=currentEditingQuizData[_0x9eb039(0x13f)][_0x367cb0];_0x2a4670[_0x9eb039(0x545)]=_0x9eb039(0xdfa),_0x2a4670[_0x9eb039(0xc71)]=!![];const _0x4c92b5=_0x9eb039(0x8e6)+JSON['stringify'](_0x23c25b)+_0x9eb039(0xd39);let _0x586c5d;const _0x5dffdd=_0x23c25b[_0x9eb039(0x430)]||currentEditingQuizData[_0x9eb039(0x461)];switch(_0x5dffdd){case _0x9eb039(0x358):_0x586c5d={'type':_0x9eb039(0xbc1),'properties':{'questionText':{'type':_0x9eb039(0xa44)},'idealAnswer':{'type':_0x9eb039(0xa44)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x9eb039(0xa44)}},'required':['questionText',_0x9eb039(0x649),_0x9eb039(0x166)]};break;case _0x9eb039(0x6f2):default:_0x586c5d={'type':_0x9eb039(0xbc1),'properties':{'questionText':{'type':_0x9eb039(0xa44)},'options':{'type':_0x9eb039(0x1ff),'items':{'type':_0x9eb039(0xa44)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x9eb039(0xb0e),_0x9eb039(0xbed),'correctAnswerIndex',_0x9eb039(0x166)]};break;}try{let _0x902dcf=await callAnalysisApi(_0x4c92b5,_0x586c5d);_0x902dcf[_0x9eb039(0xbed)]&&Array[_0x9eb039(0x7ce)](_0x902dcf[_0x9eb039(0xbed)])&&(_0x902dcf[_0x9eb039(0xbed)]=_0x902dcf[_0x9eb039(0xbed)][_0x9eb039(0x87e)](_0x4e57f7=>typeof _0x4e57f7===_0x9eb039(0x89a)?_0x4e57f7['replace'](/S(\s*[\d_]+?\s*)S/g,_0x9eb039(0xa46)):_0x4e57f7)),_0x23c25b[_0x9eb039(0xc8b)]&&_0x23c25b[_0x9eb039(0xc8b)]['includes'](_0x9eb039(0xa25))&&(_0x902dcf[_0x9eb039(0xc8b)]=''),currentEditingQuizData[_0x9eb039(0x13f)][_0x367cb0]={..._0x23c25b,..._0x902dcf},renderQuizEditor(currentEditingQuizData),showMessage(_0x9eb039(0xc23));}catch(_0x1597f5){console[_0x9eb039(0xe4d)](_0x9eb039(0x29b),_0x1597f5),showMessage(_0x9eb039(0x82c)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x5d1a4b=_0x3db3a6,_0x473853=document['getElementById']('save-quiz-edits-btn');_0x473853[_0x5d1a4b(0xc71)]=!![],_0x473853[_0x5d1a4b(0x545)]=_0x5d1a4b(0x356);try{const _0x3a39b1=document[_0x5d1a4b(0x283)](_0x5d1a4b(0x709))[_0x5d1a4b(0xa89)],_0x46bf14=document[_0x5d1a4b(0x68a)](_0x5d1a4b(0x48d));let _0x36256f=[];const _0x473596=Array[_0x5d1a4b(0x4e4)](_0x46bf14)['map']((_0x30a75a,_0x211199)=>{const _0x51096a=_0x5d1a4b,_0x6e42d9=_0x30a75a[_0x51096a(0x845)][_0x51096a(0xa52)],_0xf4f2d5=_0x30a75a[_0x51096a(0x1a6)](_0x51096a(0xc12))[_0x51096a(0xa89)][_0x51096a(0x950)](/\n/g,_0x51096a(0xb65));let _0x429302={'questionType':_0x6e42d9};const _0x3eacd6=currentEditingQuizData['questions'][_0x211199]||{};switch(_0x6e42d9){case _0x51096a(0x6f2):_0x429302['questionText']=_0xf4f2d5;const _0x4283e3=_0x30a75a[_0x51096a(0x68a)](_0x51096a(0x752));_0x429302[_0x51096a(0xbed)]=Array[_0x51096a(0x4e4)](_0x4283e3)[_0x51096a(0x87e)](_0x108469=>_0x108469[_0x51096a(0xa89)]);const _0x33d1dd=_0x30a75a[_0x51096a(0x1a6)](_0x51096a(0xabc));_0x429302[_0x51096a(0x7ed)]=_0x33d1dd?parseInt(_0x33d1dd[_0x51096a(0xa89)]):0x0;break;case _0x51096a(0x1c8):case _0x51096a(0x358):_0x429302[_0x51096a(0xb0e)]=_0xf4f2d5,_0x429302['idealAnswer']=_0x30a75a[_0x51096a(0x1a6)](_0x51096a(0x55e))['value'];const _0x494f77=_0x30a75a['querySelectorAll'](_0x51096a(0x81f));_0x494f77[_0x51096a(0x110)]>0x0?(_0x429302[_0x51096a(0xbed)]=Array[_0x51096a(0x4e4)](_0x494f77)['map'](_0x11d9e4=>_0x11d9e4['value']),_0x3eacd6['correctAnswerIndex']!==undefined?_0x429302[_0x51096a(0x7ed)]=_0x3eacd6['correctAnswerIndex']:_0x429302[_0x51096a(0x7ed)]=0x0):(delete _0x429302[_0x51096a(0xbed)],delete _0x429302['correctAnswerIndex']);break;case _0x51096a(0x50e):_0x429302[_0x51096a(0xb0e)]=_0xf4f2d5;const _0x2f3be5=_0x30a75a[_0x51096a(0x1a6)](_0x51096a(0xabc));_0x429302['correctAnswer']=_0x2f3be5?_0x2f3be5[_0x51096a(0xa89)]===_0x51096a(0x503):!![];break;case'matching_item':_0x429302[_0x51096a(0x2f5)]=_0xf4f2d5;const _0x55bd1e=_0x30a75a[_0x51096a(0x1a6)]('.correct-response-input');_0x429302[_0x51096a(0xdcc)]=_0x55bd1e?_0x55bd1e[_0x51096a(0xa89)]:'',_0x36256f[_0x51096a(0x827)](_0x429302[_0x51096a(0xdcc)]);break;default:_0x429302[_0x51096a(0xb0e)]=_0xf4f2d5;break;}return{..._0x3eacd6,..._0x429302};});_0x36256f['length']>0x0&&_0x473596[_0x5d1a4b(0x277)](_0x1d06c4=>{const _0x359b88=_0x5d1a4b;_0x1d06c4['questionType']===_0x359b88(0x1f4)&&(_0x1d06c4[_0x359b88(0x17b)]=_0x36256f);});const _0x35bfcc=currentEditingQuizData['id'],_0x2076ba=doc(db,_0x5d1a4b(0x981)+appId+_0x5d1a4b(0x8e0),_0x35bfcc);await updateDoc(_0x2076ba,{'topic':_0x3a39b1,'questions':_0x473596}),document['getElementById']('quiz-editor-modal')[_0x5d1a4b(0x605)][_0x5d1a4b(0xd74)]('hidden'),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0x35bfcc));}catch(_0x4890e1){console[_0x5d1a4b(0xe4d)]('Error\x20saving\x20quiz\x20edits:',_0x4890e1),showMessage('เกิดข้อผิดพลาดในการบันทึก');}finally{_0x473853[_0x5d1a4b(0xc71)]=![],_0x473853[_0x5d1a4b(0x545)]=_0x5d1a4b(0xa43);}}async function initiateReGradeProcess(_0x5c5ea9){const _0x5b9904=_0x3db3a6;showMessage('กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่');try{const _0x43b900=doc(db,_0x5b9904(0x981)+appId+_0x5b9904(0x8e0),_0x5c5ea9),_0x33ae72=await getDoc(_0x43b900);if(!_0x33ae72[_0x5b9904(0xaed)]())throw new Error(_0x5b9904(0x393));const _0x3a2fe8={'id':_0x5c5ea9,..._0x33ae72[_0x5b9904(0x366)]()},_0x3d1bb6=collection(db,_0x5b9904(0x981)+appId+'/public/data/quizzes',_0x5c5ea9,_0x5b9904(0x866)),_0x28e139=await getDocs(_0x3d1bb6);if(_0x28e139[_0x5b9904(0x43c)]){showMessage('ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่');return;}const _0x462bda=_0x28e139[_0x5b9904(0xcf4)][_0x5b9904(0x87e)](_0x51e035=>reGradeSingleSubmission(_0x51e035,_0x3a2fe8));await Promise['all'](_0x462bda);if(_0x3a2fe8[_0x5b9904(0x47e)]){const _0x450caf=doc(db,_0x5b9904(0x981)+appId+_0x5b9904(0x7ee),_0x3a2fe8['projectId']),_0x3ca979=await getDoc(_0x450caf);if(_0x3ca979[_0x5b9904(0xaed)]()&&_0x3ca979[_0x5b9904(0x366)]()[_0x5b9904(0x138)]){const _0x1c0df1=_0x3ca979[_0x5b9904(0x366)]()[_0x5b9904(0x138)][_0x5b9904(0x87e)](_0x45a433=>updateStudentProfile(_0x3a2fe8[_0x5b9904(0x47e)],_0x45a433));await Promise[_0x5b9904(0xd1a)](_0x1c0df1);}}showMessage(_0x5b9904(0xaad)+_0x28e139[_0x5b9904(0xa45)]+'\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว');}catch(_0x55a237){console[_0x5b9904(0xe4d)](_0x5b9904(0x613),_0x55a237),showMessage('เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20'+_0x55a237[_0x5b9904(0x226)]);}}async function reGradeSingleSubmission(_0x296d66,_0x11544c){const _0x2e5cc1=_0x3db3a6,_0x2a282d=_0x296d66[_0x2e5cc1(0x366)](),_0x1d6e86=_0x2a282d[_0x2e5cc1(0x28e)],_0x5d6cbf=_0x2a282d[_0x2e5cc1(0x57f)]||[],_0x2c4fe6=[];for(const _0x5b3a16 of _0x5d6cbf){let _0x254184=0x0,_0x3480ab=[],_0x7bedb7=0x0;const _0x3fc30f=[];for(const _0x15d388 of _0x5b3a16[_0x2e5cc1(0x749)]){let _0x1e6c80;_0x15d388[_0x2e5cc1(0x73f)]&&(_0x1e6c80=_0x11544c['questions'][_0x2e5cc1(0xe8)](_0x3b4c15=>_0x3b4c15['id']===_0x15d388[_0x2e5cc1(0x73f)]));!_0x1e6c80&&_0x15d388[_0x2e5cc1(0x2bf)]&&(_0x1e6c80=_0x11544c[_0x2e5cc1(0x13f)][_0x2e5cc1(0xe8)](_0x1fe4f4=>(_0x1fe4f4['stem']||_0x1fe4f4[_0x2e5cc1(0xb0e)])===_0x15d388[_0x2e5cc1(0x2bf)]));let _0x162802=![];if(_0x1e6c80){const _0xbf1f65=_0x1e6c80[_0x2e5cc1(0x430)]||_0x11544c['quizType'];switch(_0xbf1f65){case _0x2e5cc1(0x6f2):if(_0x1e6c80[_0x2e5cc1(0xbed)]&&_0x1e6c80['correctAnswerIndex']<_0x1e6c80[_0x2e5cc1(0xbed)]['length']){const _0x408036=_0x1e6c80[_0x2e5cc1(0xbed)][_0x1e6c80[_0x2e5cc1(0x7ed)]];_0x162802=_0x15d388[_0x2e5cc1(0x72e)]===_0x408036;}break;case _0x2e5cc1(0x50e):const _0x5790d7=_0x15d388[_0x2e5cc1(0x9a9)]===!![]||_0x15d388['answer']==='true';_0x162802=_0x5790d7===_0x1e6c80[_0x2e5cc1(0xad1)];break;case _0x2e5cc1(0x1f4):_0x162802=_0x15d388[_0x2e5cc1(0x9a9)]===_0x1e6c80[_0x2e5cc1(0xdcc)];break;case _0x2e5cc1(0x358):_0x162802=await gradeShortAnswer(_0x15d388['answer'],_0x1e6c80);break;default:_0x162802=_0x15d388[_0x2e5cc1(0xb7c)];break;}}if(_0x162802){_0x254184++,_0x7bedb7++;if(_0x7bedb7===0x3)_0x3480ab[_0x2e5cc1(0x827)](BADGES['ON_FIRE']['id']);}else _0x7bedb7=0x0;_0x3fc30f[_0x2e5cc1(0x827)]({..._0x15d388,'isCorrect':_0x162802});}let _0x3187c6=0x0;const _0x44598c=_0x5b3a16[_0x2e5cc1(0xb7a)]===!![]||_0x5b3a16[_0x2e5cc1(0x685)]>_0x11544c[_0x2e5cc1(0x13f)][_0x2e5cc1(0x110)]*0x14;_0x44598c?_0x3187c6=_0x5b3a16[_0x2e5cc1(0x685)]:(_0x3187c6=_0x254184*0xa,_0x254184===_0x11544c['questions'][_0x2e5cc1(0x110)]&&(_0x3187c6+=0x32,_0x3480ab[_0x2e5cc1(0x827)](BADGES[_0x2e5cc1(0x6ab)]['id']))),_0x2c4fe6[_0x2e5cc1(0x827)]({..._0x5b3a16,'score':_0x254184,'points':_0x3187c6,'badges':Array[_0x2e5cc1(0x4e4)](new Set(_0x3480ab)),'answers':_0x3fc30f});}const _0x16b6a5=_0x2c4fe6['length']>0x0?_0x2c4fe6[0x0]['score']:0x0,_0x2acbf2=Math[_0x2e5cc1(0x8c3)](..._0x2c4fe6[_0x2e5cc1(0x87e)](_0xfdf20d=>_0xfdf20d[_0x2e5cc1(0x791)])),_0x161382=_0x2c4fe6[_0x2e5cc1(0x110)]>0x0?_0x2c4fe6[_0x2c4fe6['length']-0x1][_0x2e5cc1(0x791)]:0x0,_0x4fdd8b=_0x2c4fe6[_0x2e5cc1(0x110)]>0x0?_0x2c4fe6[_0x2c4fe6['length']-0x1][_0x2e5cc1(0x685)]:0x0,_0x938c4e=doc(db,_0x2e5cc1(0x981)+appId+_0x2e5cc1(0x1c4)+_0x11544c['id']+_0x2e5cc1(0xb8f),_0x1d6e86);await updateDoc(_0x938c4e,{'attempts':_0x2c4fe6,'firstScore':_0x16b6a5,'bestScore':_0x2acbf2,'latestScore':_0x161382,'points':_0x4fdd8b});}function cleanupQuizOptions(_0x3406f3){const _0x3bee38=_0x3db3a6,_0x1ec37f=(_0x25bde2,_0x3e24b2)=>_0x3e24b2===0x0?_0x25bde2:_0x1ec37f(_0x3e24b2,_0x25bde2%_0x3e24b2),_0x2176fa=_0x57ec24=>{const _0x594de3=_0x5ca2;if(typeof _0x57ec24!=='string')return null;_0x57ec24=_0x57ec24[_0x594de3(0xc29)]();const _0x74e813=_0x57ec24[_0x594de3(0x7ea)](/[ /]/)[_0x594de3(0x1a1)](_0x3023c6=>_0x3023c6!=='');if(_0x74e813['length']===0x3)return parseInt(_0x74e813[0x0])+parseInt(_0x74e813[0x1])/parseInt(_0x74e813[0x2]);else{if(_0x74e813['length']===0x2)return parseInt(_0x74e813[0x0])/parseInt(_0x74e813[0x1]);else{if(_0x74e813[_0x594de3(0x110)]===0x1&&!isNaN(_0x74e813[0x0]))return parseFloat(_0x74e813[0x0]);}}return null;},_0x3724ae=_0x30f843=>{const _0x10045d=_0x5ca2;if(typeof _0x30f843!==_0x10045d(0x89a))return _0x30f843;const _0x4e68b0=_0x30f843[_0x10045d(0xd7a)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x4e68b0){const _0x62e963=parseInt(_0x4e68b0[0x1]);let _0x3c85b8=parseInt(_0x4e68b0[0x2]),_0x3bc2c1=parseInt(_0x4e68b0[0x3]);const _0x4a99b9=_0x1ec37f(_0x3c85b8,_0x3bc2c1);_0x3c85b8/=_0x4a99b9,_0x3bc2c1/=_0x4a99b9;if(_0x3bc2c1===0x1)return(_0x62e963+_0x3c85b8)['toString']();return _0x62e963+'\x20'+_0x3c85b8+'/'+_0x3bc2c1;}return _0x30f843;};return _0x3406f3&&_0x3406f3['questions']&&_0x3406f3[_0x3bee38(0x13f)][_0x3bee38(0x277)](_0x408d60=>{const _0x5c411f=_0x3bee38;if(_0x408d60[_0x5c411f(0x430)]===_0x5c411f(0x6f2)&&_0x408d60[_0x5c411f(0xbed)]){const _0x6c25ed=new Map(),_0x154906=_0x408d60['options'][_0x408d60['correctAnswerIndex']];_0x408d60[_0x5c411f(0xbed)][_0x5c411f(0x277)](_0x73b77f=>{const _0x49a042=_0x5c411f,_0x72c493=_0x3724ae(_0x73b77f),_0xe58df1=_0x2176fa(_0x72c493);_0xe58df1!==null&&!_0x6c25ed['has'](_0xe58df1)&&_0x6c25ed[_0x49a042(0xb94)](_0xe58df1,_0x72c493);}),_0x408d60[_0x5c411f(0xbed)]=Array[_0x5c411f(0x4e4)](_0x6c25ed['values']());const _0x3253e2=_0x408d60[_0x5c411f(0xbed)][_0x5c411f(0x35e)](_0x1e0b23=>_0x1e0b23===_0x3724ae(_0x154906));_0x408d60[_0x5c411f(0x7ed)]=_0x3253e2!==-0x1?_0x3253e2:0x0;}}),_0x3406f3;}function showGameStartConfirmationModal(_0x199355,_0x116045,_0x2838af){const _0x50bb6d=_0x3db3a6,_0x1dc134=document['getElementById'](_0x50bb6d(0xb68));document[_0x50bb6d(0x283)](_0x50bb6d(0xa28))[_0x50bb6d(0x1bd)]='เริ่มกิจกรรม:\x20'+_0x2838af,document[_0x50bb6d(0x283)](_0x50bb6d(0xc5a))[_0x50bb6d(0xa89)]=_0x199355,document[_0x50bb6d(0x283)](_0x50bb6d(0x3ae))[_0x50bb6d(0xa89)]=_0x116045,document[_0x50bb6d(0x283)](_0x50bb6d(0x6da))[_0x50bb6d(0x61b)]=!![];const _0x3d601d=document['getElementById']('sync-variant-selector'),_0x31dd66=document[_0x50bb6d(0x283)]('sync-timer-enable-checkbox'),_0x8041a=document[_0x50bb6d(0x283)](_0x50bb6d(0x609)),_0x1dc1d0=document[_0x50bb6d(0x283)](_0x50bb6d(0x229)),_0x430ed9=document[_0x50bb6d(0x283)](_0x50bb6d(0x486));if(_0x116045===_0x50bb6d(0xa8e)){_0x3d601d[_0x50bb6d(0x605)][_0x50bb6d(0x31b)]('hidden');const _0x170c95=_0x50bb6d(0x2c0);document[_0x50bb6d(0x1a6)](_0x50bb6d(0x89d)+_0x170c95+'\x22]')[_0x50bb6d(0x61b)]=!![];if(_0x430ed9)_0x430ed9[_0x50bb6d(0x605)][_0x50bb6d(0x31b)](_0x50bb6d(0x9a0));_0x31dd66[_0x50bb6d(0x61b)]=!![],_0x8041a[_0x50bb6d(0x605)][_0x50bb6d(0x31b)](_0x50bb6d(0x9a0)),document['getElementById'](_0x50bb6d(0xa4))['value']='300',_0x1dc1d0[_0x50bb6d(0x605)][_0x50bb6d(0x31b)](_0x50bb6d(0x9a0)),document[_0x50bb6d(0x283)](_0x50bb6d(0xc2e))[_0x50bb6d(0x61b)]=!![];}else{_0x3d601d[_0x50bb6d(0x605)][_0x50bb6d(0xd74)]('hidden');if(_0x430ed9)_0x430ed9[_0x50bb6d(0x605)]['add'](_0x50bb6d(0x9a0));_0x31dd66[_0x50bb6d(0x61b)]=![],_0x8041a[_0x50bb6d(0x605)]['add']('hidden'),_0x1dc1d0[_0x50bb6d(0x605)][_0x50bb6d(0xd74)](_0x50bb6d(0x9a0));}_0x1dc134[_0x50bb6d(0x605)]['remove'](_0x50bb6d(0x9a0));}async function saveGameResultsAsSubmissions(_0x59f8c2){const _0x28ec6c=_0x3db3a6;if(_0x59f8c2[_0x28ec6c(0x2ec)]){console['log'](_0x28ec6c(0x4a4));return;}console[_0x28ec6c(0x6e6)]('Saving\x20game\x20results\x20(Optimized)...',_0x59f8c2);const _0x5e459f=_0x59f8c2[_0x28ec6c(0xbc3)];let _0xd03cd7=[];if(_0x59f8c2[_0x28ec6c(0x5ec)])_0xd03cd7=Object['entries'](_0x59f8c2[_0x28ec6c(0x5ec)])[_0x28ec6c(0x87e)](([_0x1c6474,_0x396007])=>({'name':_0x1c6474,..._0x396007}));else _0x59f8c2['groups']&&Object[_0x28ec6c(0x2e5)](_0x59f8c2[_0x28ec6c(0xcf9)])[_0x28ec6c(0x277)](_0x4dcbbb=>{const _0x494627=_0x28ec6c;_0x4dcbbb['members'][_0x494627(0x277)](_0xdb96ea=>{const _0xfeb82e=_0x494627;_0xd03cd7[_0xfeb82e(0x827)]({'name':_0xdb96ea,'score':_0x4dcbbb[_0xfeb82e(0x791)],'answers':_0x4dcbbb[_0xfeb82e(0x749)]});});});if(_0xd03cd7['length']===0x0)return;const _0x14f744=_0x59f8c2[_0x28ec6c(0x84d)]?.['questions']['length']||currentQuizData[_0x28ec6c(0x13f)][_0x28ec6c(0x110)],_0x204886=writeBatch(db),_0x47ece6=_0x59f8c2[_0x28ec6c(0x84d)]?.[_0x28ec6c(0x47e)]||currentQuizData?.['projectId']||currentProjectId,_0x423d8a={};for(const _0x1a9253 of _0xd03cd7){const _0x3956cb=doc(db,_0x28ec6c(0x981)+appId+_0x28ec6c(0x1c4)+_0x5e459f+_0x28ec6c(0xb8f),_0x1a9253[_0x28ec6c(0x339)]),_0x2b3677=(_0x1a9253[_0x28ec6c(0x749)]||[])['filter'](_0x3dd6b0=>_0x3dd6b0[_0x28ec6c(0xb7c)])['length'];let _0x1c6af6=_0x1a9253[_0x28ec6c(0xd53)]!==undefined?_0x1a9253[_0x28ec6c(0xd53)]:_0x2b3677,_0x15d771=_0x1a9253[_0x28ec6c(0x6d1)]||[];if(_0x2b3677===_0x14f744&&_0x14f744>0x0){if(!_0x15d771[_0x28ec6c(0x2e8)]('perfect_score'))_0x15d771['push'](_0x28ec6c(0xc22));}const _0x482924={'score':_0x2b3677,'points':_0x1c6af6,'badges':_0x15d771,'submittedAt':new Date()[_0x28ec6c(0x848)](),'isSyncGame':!![],'answers':(_0x1a9253[_0x28ec6c(0x749)]||[])[_0x28ec6c(0x87e)](_0x1037a5=>({'questionId':_0x1037a5['questionId'],'answer':_0x1037a5['answer'],'answerText':_0x1037a5[_0x28ec6c(0x72e)],'isCorrect':_0x1037a5['isCorrect'],'originalQuestionText':_0x1037a5['originalQuestionText'],'wasConfident':_0x1037a5[_0x28ec6c(0x535)],'powerupUsed':_0x1037a5[_0x28ec6c(0xba6)]||null}))},_0x37cda4=await getDoc(_0x3956cb),_0x1dc908=_0x37cda4['exists']()?_0x37cda4['data']():{},_0x28d363=_0x1dc908['points']||0x0;let _0x5f49a7=0x0;_0x1c6af6>_0x28d363&&(_0x5f49a7=_0x1c6af6-_0x28d363);const _0x47d7be={'studentName':_0x1a9253[_0x28ec6c(0x339)],'totalQuestions':_0x14f744,'attempts':arrayUnion(_0x482924),'latestScore':_0x2b3677,'points':Math[_0x28ec6c(0x8c3)](_0x28d363,_0x1c6af6),'latestSubmittedAt':_0x482924[_0x28ec6c(0xf2)],'bestScore':Math[_0x28ec6c(0x8c3)](_0x1dc908[_0x28ec6c(0x2d6)]||0x0,_0x2b3677),'firstScore':_0x1dc908[_0x28ec6c(0xc06)]!==undefined?_0x1dc908[_0x28ec6c(0xc06)]:_0x2b3677};_0x204886[_0x28ec6c(0xb94)](_0x3956cb,_0x47d7be,{'merge':!![]}),_0x47ece6&&(!_0x423d8a[_0x1a9253['name']]&&(_0x423d8a[_0x1a9253['name']]={'pointsToAdd':0x0,'badgesToAdd':[]}),_0x423d8a[_0x1a9253[_0x28ec6c(0x339)]][_0x28ec6c(0x9a7)]+=_0x5f49a7,_0x15d771[_0x28ec6c(0x277)](_0x142c04=>{const _0x34a146=_0x28ec6c;_0x423d8a[_0x1a9253[_0x34a146(0x339)]]['badgesToAdd']['push'](_0x142c04);}));}if(_0x47ece6)for(const [_0x48e03a,_0x5dfb58]of Object[_0x28ec6c(0xa71)](_0x423d8a)){if(_0x5dfb58[_0x28ec6c(0x9a7)]>0x0||_0x5dfb58[_0x28ec6c(0x39e)][_0x28ec6c(0x110)]>0x0){const _0x543a1e=doc(db,_0x28ec6c(0x981)+appId+'/public/data/projects/'+_0x47ece6+_0x28ec6c(0xfa),_0x48e03a),_0x5c30df={'studentName':_0x48e03a,'totalPoints':increment(_0x5dfb58['pointsToAdd'])};_0x5dfb58[_0x28ec6c(0x39e)]['forEach'](_0x358c5b=>{const _0x2d74f7=_0x28ec6c;_0x5c30df[_0x2d74f7(0x65d)+_0x358c5b]=increment(0x1);}),_0x204886['set'](_0x543a1e,_0x5c30df,{'merge':!![]});}}try{if(currentLiveGameId){const _0xc606d0=doc(db,'artifacts/'+appId+_0x28ec6c(0x7f8),currentLiveGameId);_0x204886[_0x28ec6c(0xd55)](_0xc606d0,{'resultsSaved':!![]});}await _0x204886['commit'](),console['log'](_0x28ec6c(0x8ab)),showMessage(_0x28ec6c(0x1bb));}catch(_0x1e55e4){console[_0x28ec6c(0xe4d)]('Error\x20saving\x20game\x20results:',_0x1e55e4),showMessage('เกิดข้อผิดพลาดในการบันทึกผลคะแนน');}}async function saveQuiz(_0x49c338=null,_0x46c298=null){const _0xaf0a51=_0x3db3a6,_0x554ff2=_0x49c338||currentProjectId;if(!_0x554ff2){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage('ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้');return;}const _0x3fe24f=document[_0xaf0a51(0x283)]('save-quiz-btn');_0x3fe24f[_0xaf0a51(0xc71)]=!![],_0x3fe24f[_0xaf0a51(0x545)]=_0xaf0a51(0x356);const _0x5dd62e=document[_0xaf0a51(0x283)](_0xaf0a51(0x7cd))[_0xaf0a51(0x61b)];let _0x3bd43c=document[_0xaf0a51(0x283)]('editable-quiz-topic')[_0xaf0a51(0xba9)]['trim']();_0x5dd62e&&!_0x3bd43c[_0xaf0a51(0x9bd)](_0xaf0a51(0xbd7))&&(_0x3bd43c='(ก่อนเรียน)\x20'+_0x3bd43c);try{const _0x3bd3ac={'resultsDisplay':document['getElementById']('results-display-select')[_0xaf0a51(0xa89)],'shuffle':document['getElementById'](_0xaf0a51(0x6e0))['value'],'timerMode':document[_0xaf0a51(0x283)](_0xaf0a51(0x713))[_0xaf0a51(0xa89)],'timerDuration':parseInt(document[_0xaf0a51(0x283)](_0xaf0a51(0xd79))[_0xaf0a51(0xa89)])||0xa,'passingScore':parseInt(document[_0xaf0a51(0x283)](_0xaf0a51(0x1ea))[_0xaf0a51(0xa89)])||0x0,'isAdaptive':document['getElementById'](_0xaf0a51(0x79f))['checked'],'loopUntilPass':document['getElementById'](_0xaf0a51(0x99c))[_0xaf0a51(0x61b)]},_0x2a4cfe=(currentQuizData[_0xaf0a51(0x13f)]||[])[_0xaf0a51(0x87e)]((_0x269a3f,_0x75fd20)=>{const _0x5c035e=_0xaf0a51,_0x1ad893=document['getElementById'](_0x5c035e(0x801))['value'],_0x5bec9b={'id':'q_'+Date['now']()+'_'+_0x75fd20,'questionText':_0x269a3f[_0x5c035e(0xb0e)]||'','explanation':_0x269a3f[_0x5c035e(0x166)]||_0x5c035e(0x2eb),'questionType':_0x269a3f[_0x5c035e(0x430)]||_0x1ad893,'imageCode':_0x269a3f[_0x5c035e(0xc8b)]||null};return(_0x5bec9b[_0x5c035e(0x430)]===_0x5c035e(0x6f2)||_0x5bec9b[_0x5c035e(0x430)]===_0x5c035e(0x161)||_0x5bec9b[_0x5c035e(0x430)]===_0x5c035e(0xd05)&&_0x269a3f[_0x5c035e(0xbed)])&&(_0x5bec9b[_0x5c035e(0xbed)]=_0x269a3f['options']||[],_0x5bec9b[_0x5c035e(0x7ed)]=_0x269a3f[_0x5c035e(0x7ed)]!==undefined?_0x269a3f[_0x5c035e(0x7ed)]:0x0),(_0x5bec9b[_0x5c035e(0x430)]==='short_answer'||_0x5bec9b[_0x5c035e(0x430)]===_0x5c035e(0x1c8)||_0x5bec9b[_0x5c035e(0x430)]==='mixed'&&_0x269a3f[_0x5c035e(0x649)])&&(_0x5bec9b[_0x5c035e(0x649)]=_0x269a3f[_0x5c035e(0x649)]||''),_0x5bec9b[_0x5c035e(0x430)]===_0x5c035e(0x50e)&&(_0x5bec9b[_0x5c035e(0xad1)]=_0x269a3f['correctAnswer']===!![]),_0x5bec9b['questionType']===_0x5c035e(0x1f4)&&(_0x5bec9b[_0x5c035e(0x2f5)]=_0x269a3f[_0x5c035e(0x2f5)]||'',_0x5bec9b['correctResponse']=_0x269a3f[_0x5c035e(0xdcc)]||'',_0x5bec9b[_0x5c035e(0x17b)]=_0x269a3f[_0x5c035e(0x17b)]||[]),_0x5bec9b;}),_0x40ff98={'topic':_0x3bd43c,'quizType':currentQuizData[_0xaf0a51(0x461)]||_0xaf0a51(0x6f2),'questions':_0x2a4cfe,'projectId':_0x554ff2,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0xaf0a51(0xcce),'settings':_0x3bd3ac,'quizMode':_0x5dd62e?_0xaf0a51(0x392):_0xaf0a51(0x6e8),'pairedQuizId':null,'lessonPlan':null};let _0x183bf6;while(!![]){_0x183bf6=Math['floor'](0x3e8+Math[_0xaf0a51(0x2cc)]()*0x2328)[_0xaf0a51(0x99d)]();const _0x1d3201=await getDoc(doc(db,_0xaf0a51(0x981)+appId+_0xaf0a51(0x8e0),_0x183bf6));if(!_0x1d3201[_0xaf0a51(0xaed)]())break;}await setDoc(doc(db,_0xaf0a51(0x981)+appId+'/public/data/quizzes',_0x183bf6),_0x40ff98);if(_0x46c298&&currentBlueprintProjectId){console[_0xaf0a51(0x6e6)](_0xaf0a51(0xbcd)+_0x183bf6+_0xaf0a51(0xbca)+_0x46c298);try{const _0x576aea=doc(db,_0xaf0a51(0x981)+appId+_0xaf0a51(0xfb),currentBlueprintProjectId);await updateDoc(_0x576aea,{[_0xaf0a51(0x2c3)+_0x46c298+_0xaf0a51(0x6ae)]:arrayUnion(_0x183bf6)});}catch(_0x864560){console['error'](_0xaf0a51(0xe65),_0x864560);}}currentQuizData[_0xaf0a51(0x477)]=_0x3bd3ac,currentQuizData['id']=_0x183bf6;const _0x3e2c5d=document[_0xaf0a51(0x283)](_0xaf0a51(0xa5f));_0x3e2c5d[_0xaf0a51(0x545)]=_0xaf0a51(0xb5d)+_0x183bf6+'</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',document[_0xaf0a51(0x283)]('copy-quiz-id-btn')[_0xaf0a51(0x844)](_0xaf0a51(0x425),()=>copyTextToClipboard(_0x183bf6,'คัดลอกรหัสแล้ว!')),document[_0xaf0a51(0x283)]('start-live-race-generated-btn')[_0xaf0a51(0x844)]('click',()=>handleStartLiveRace(_0x183bf6)),document[_0xaf0a51(0x283)](_0xaf0a51(0x25b))[_0xaf0a51(0x844)](_0xaf0a51(0x425),()=>startPresentation(currentQuizData)),document[_0xaf0a51(0x283)]('admin-try-quiz-btn')[_0xaf0a51(0x844)](_0xaf0a51(0x425),startAdminTest),showMessage(_0xaf0a51(0x8b4));}catch(_0x399172){console[_0xaf0a51(0xe4d)](_0xaf0a51(0x284),_0x399172),showMessage(_0xaf0a51(0xb84));}finally{_0x3fe24f[_0xaf0a51(0xc71)]=![],_0x3fe24f[_0xaf0a51(0x545)]=_0xaf0a51(0x253);}}function promptForProjectAndSave(){const _0x2f6cdb=_0x3db3a6,_0x18f693=document[_0x2f6cdb(0x283)](_0x2f6cdb(0x22c)),_0x3392e4=document[_0x2f6cdb(0x283)](_0x2f6cdb(0xcd8)),_0x365f26=_0x18f693['querySelector']('h3'),_0x5019e1=document[_0x2f6cdb(0x283)](_0x2f6cdb(0x64f));_0x365f26['textContent']=_0x2f6cdb(0x79c),_0x5019e1['textContent']=_0x2f6cdb(0xa75);allProjects[_0x2f6cdb(0x110)]===0x0?(_0x3392e4[_0x2f6cdb(0x545)]=_0x2f6cdb(0xb90),_0x5019e1[_0x2f6cdb(0xc71)]=!![]):(_0x3392e4[_0x2f6cdb(0x545)]=allProjects[_0x2f6cdb(0x87e)](_0x142837=>_0x2f6cdb(0x4cc)+_0x142837['id']+'\x22>'+_0x142837[_0x2f6cdb(0xe60)]+'</option>')[_0x2f6cdb(0xd6e)](''),_0x5019e1[_0x2f6cdb(0xc71)]=![]);_0x18f693[_0x2f6cdb(0x605)]['remove'](_0x2f6cdb(0x9a0));const _0x3edba5=()=>{const _0x2d224b=_0x2f6cdb,_0x550dbf=_0x3392e4[_0x2d224b(0xa89)];_0x550dbf?(currentProjectId=_0x550dbf,_0x18f693['classList'][_0x2d224b(0xd74)](_0x2d224b(0x9a0)),saveQuiz(),_0x365f26[_0x2d224b(0x1bd)]=_0x2d224b(0xaee),_0x5019e1[_0x2d224b(0x1bd)]=_0x2d224b(0x291),_0x5019e1['removeEventListener'](_0x2d224b(0x425),_0x3edba5),_0x5019e1[_0x2d224b(0x844)]('click',confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x5019e1['removeEventListener'](_0x2f6cdb(0x425),confirmMoveQuiz),_0x5019e1[_0x2f6cdb(0x844)](_0x2f6cdb(0x425),_0x3edba5);}function copyTextToClipboard(_0x1f9389,_0x408f3a){const _0xff452=_0x3db3a6,_0xd607c4=document[_0xff452(0x1d1)](_0xff452(0xc12));_0xd607c4[_0xff452(0xa89)]=_0x1f9389,_0xd607c4['style'][_0xff452(0xaf4)]='fixed',_0xd607c4[_0xff452(0xbeb)][_0xff452(0x5ed)]='0',document[_0xff452(0x379)][_0xff452(0x2ea)](_0xd607c4),_0xd607c4['focus'](),_0xd607c4[_0xff452(0x7f7)]();try{const _0x1a16c7=document[_0xff452(0x3f2)](_0xff452(0xc0f));showMessage(_0x1a16c7?_0x408f3a:_0xff452(0xcb3));}catch(_0x5e4b66){showMessage(_0xff452(0xcb3)),console['error'](_0xff452(0xc3c),_0x5e4b66);}document[_0xff452(0x379)][_0xff452(0x6cf)](_0xd607c4);}function listenForProjectQuizzes(_0x42d8da){const _0x21451b=_0x3db3a6,_0x48452a=collection(db,_0x21451b(0x981)+appId+_0x21451b(0x8e0)),_0x311999=query(_0x48452a,where(_0x21451b(0x47e),'==',_0x42d8da));unsubscribeQuizzesListener=onSnapshot(_0x311999,async _0x2c8c06=>{const _0x7c784d=_0x21451b;allQuizzes=_0x2c8c06[_0x7c784d(0xcf4)][_0x7c784d(0x87e)](_0x11bbcf=>({'id':_0x11bbcf['id'],..._0x11bbcf[_0x7c784d(0x366)]()})),renderQuizzes();},_0x5dc316=>{const _0x1568b4=_0x21451b;console['error'](_0x1568b4(0x440),_0x5dc316),document[_0x1568b4(0x283)](_0x1568b4(0x838))[_0x1568b4(0x545)]=_0x1568b4(0x611);});}async function renderQuizzes(){const _0x4480c5=_0x3db3a6,_0x552e78=document[_0x4480c5(0x283)](_0x4480c5(0x838)),_0x33df2d=document[_0x4480c5(0x283)]('quiz-search-input')['value']['toLowerCase']();let _0x194545;currentProjectId===_0x4480c5(0x7d5)?_0x194545=starredQuizzes:_0x194545=allQuizzes;let _0x1b4670=_0x194545[_0x4480c5(0x1a1)](_0x41de7d=>_0x41de7d[_0x4480c5(0xe5f)][_0x4480c5(0xa8)]()[_0x4480c5(0x2e8)](_0x33df2d));_0x1b4670[_0x4480c5(0x667)]((_0x3ecdd9,_0x25ffb2)=>new Date(_0x25ffb2[_0x4480c5(0xb8e)])-new Date(_0x3ecdd9['createdAt']));if(_0x1b4670[_0x4480c5(0x110)]===0x0){_0x552e78['innerHTML']=_0x4480c5(0x6d6);return;}const _0x1f0763={},_0x2cb8b6=_0x1b4670[_0x4480c5(0x87e)](async _0x4a63fb=>{const _0x9ac87d=_0x4480c5,_0x51ee87=collection(db,'artifacts/'+appId+_0x9ac87d(0x1c4)+_0x4a63fb['id']+_0x9ac87d(0xb8f)),_0x300cf4=await getCountFromServer(_0x51ee87);_0x1f0763[_0x4a63fb['id']]=_0x300cf4[_0x9ac87d(0x366)]()[_0x9ac87d(0x7c1)];});await Promise[_0x4480c5(0xd1a)](_0x2cb8b6);let _0x452f4d='';_0x1b4670['forEach'](_0x1ec946=>{const _0x52cba7=_0x4480c5,_0x4b019c=_0x1f0763[_0x1ec946['id']]||0x0,_0x32f7c7=_0x1ec946['status']||_0x52cba7(0xcce),_0x507a99=_0x1ec946[_0x52cba7(0x477)]?.['timerMode']||_0x52cba7(0xdff);let _0x295dc3='',_0x13046a='';const _0x3c20f7=new Date();let _0x70c6ec=_0x32f7c7;if(_0x32f7c7===_0x52cba7(0x7de)){const _0xee3667=_0x1ec946[_0x52cba7(0x37b)]?new Date(_0x1ec946[_0x52cba7(0x37b)]):null,_0x29290c=_0x1ec946[_0x52cba7(0x2e0)]?new Date(_0x1ec946['endTime']):null;if(_0x29290c&&_0x3c20f7>_0x29290c)_0x70c6ec=_0x52cba7(0x69e);else _0xee3667&&_0x3c20f7<_0xee3667?_0x70c6ec=_0x52cba7(0x5f9):_0x70c6ec=_0x52cba7(0xcce);}switch(_0x70c6ec){case'inactive':_0x295dc3=_0x52cba7(0xd07),_0x13046a=_0x52cba7(0xde7);break;case'scheduled_pending':_0x295dc3=_0x52cba7(0xa51),_0x13046a=_0x52cba7(0xb42);break;case _0x52cba7(0xcce):_0x295dc3=_0x507a99!==_0x52cba7(0xdff)?_0x52cba7(0x8f0):_0x52cba7(0x4ce),_0x13046a=_0x52cba7(0x112);break;default:_0x295dc3='ตั้งเวลา\x20(เปิด)',_0x13046a=_0x52cba7(0x112);break;}let _0x264548='';const _0x43df80={'day':_0x52cba7(0xaa5),'month':_0x52cba7(0xaa5),'year':_0x52cba7(0xdae),'hour':_0x52cba7(0xaa5),'minute':_0x52cba7(0xaa5),'hour12':![]};if(_0x32f7c7===_0x52cba7(0x7de)){if(_0x1ec946['startTime'])_0x264548+=_0x52cba7(0x527)+new Date(_0x1ec946['startTime'])[_0x52cba7(0x33b)](_0x52cba7(0xd76),_0x43df80)+_0x52cba7(0x74f);if(_0x1ec946['endTime'])_0x264548+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x1ec946[_0x52cba7(0x2e0)])['toLocaleString'](_0x52cba7(0xd76),_0x43df80)+_0x52cba7(0x74f);}let _0x1d000c='';if(_0x1ec946[_0x52cba7(0x2ad)]){const _0x3a1518=allQuizzes[_0x52cba7(0xe8)](_0x4e61cf=>_0x4e61cf['id']===_0x1ec946[_0x52cba7(0x2ad)]);if(_0x3a1518){let _0x232c3c,_0x1e5482;new Date(_0x1ec946[_0x52cba7(0xb8e)])<new Date(_0x3a1518['createdAt'])?(_0x232c3c=_0x1ec946['id'],_0x1e5482=_0x3a1518['id']):(_0x232c3c=_0x3a1518['id'],_0x1e5482=_0x1ec946['id']),_0x1d000c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1e5482+_0x52cba7(0x64a)+_0x232c3c+_0x52cba7(0xba7);}}else _0x1ec946[_0x52cba7(0x188)]==='pre-test'&&(_0x1d000c+=_0x52cba7(0x871)+_0x1ec946['id']+_0x52cba7(0xdb3));if(_0x1ec946[_0x52cba7(0x188)]==='pre-test'&&_0x4b019c>0x0)_0x1d000c+=_0x52cba7(0x871)+_0x1ec946['id']+_0x52cba7(0x30d);else!_0x1ec946[_0x52cba7(0x2ad)]&&_0x1ec946['quizMode']!=='pre-test'&&_0x4b019c>0x0&&(_0x1d000c+=_0x52cba7(0x871)+_0x1ec946['id']+_0x52cba7(0xa1));let _0x5597fa='';_0x1ec946['pairedQuizId']?_0x5597fa=_0x52cba7(0x1d9)+_0x1ec946['id']+_0x52cba7(0x1f3):_0x5597fa=_0x52cba7(0x1d9)+_0x1ec946['id']+'\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>';const _0xd6c715=_0x52cba7(0x770)+_0x1ec946['id']+_0x52cba7(0x65f);_0x452f4d+=_0x52cba7(0x400)+_0x1ec946['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x1ec946['topic']+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x1ec946[_0x52cba7(0x13f)][_0x52cba7(0x110)]+_0x52cba7(0x1f7)+new Date(_0x1ec946['createdAt'])[_0x52cba7(0x33b)](_0x52cba7(0xd76))+_0x52cba7(0x106)+_0x4b019c+_0x52cba7(0xf8)+_0x264548+_0x52cba7(0xeb)+_0x13046a+'\x22>'+_0x295dc3+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1ec946['id']+_0x52cba7(0xdd1)+_0x1ec946['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x1ec946[_0x52cba7(0xae9)]?_0x52cba7(0x2ba):_0x52cba7(0xadc))+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1d000c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd6c715+_0x52cba7(0xe62)+_0x1ec946['id']+_0x52cba7(0x2a6)+_0x1ec946['id']+'\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1ec946['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1ec946['id']+_0x52cba7(0x2fc)+_0x1ec946['id']+_0x52cba7(0x5ce)+_0x1ec946['id']+_0x52cba7(0xdd6)+_0x1ec946['id']+_0x52cba7(0xb1d)+_0x1ec946['topic']+_0x52cba7(0xb28)+_0x1ec946['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1ec946['id']+_0x52cba7(0x97e)+_0x5597fa+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1ec946['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1ec946['id']+_0x52cba7(0x575)+_0x1ec946['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1ec946['id']+_0x52cba7(0xc99)+_0x1ec946['id']+_0x52cba7(0xb1d)+_0x1ec946['topic']+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1ec946['id']+_0x52cba7(0xb3a);}),_0x552e78[_0x4480c5(0x545)]=_0x452f4d,document['querySelectorAll'](_0x4480c5(0x76c))[_0x4480c5(0x277)](_0x577874=>{const _0x449d07=_0x4480c5;_0x577874[_0x449d07(0x844)]('click',()=>{const _0x4944af=_0x449d07,_0x461cb0=_0x577874[_0x4944af(0x845)][_0x4944af(0xbc3)];showQuizDetailView(_0x461cb0);});});}async function handleUnpairQuiz(_0x2d246d){const _0x3f9c3c=_0x3db3a6,_0x7d9e42=allQuizzes[_0x3f9c3c(0xe8)](_0x251c02=>_0x251c02['id']===_0x2d246d);if(!_0x7d9e42||!_0x7d9e42[_0x3f9c3c(0x2ad)]){showMessage(_0x3f9c3c(0x137));return;}showConfirmation(_0x3f9c3c(0x2bb),async()=>{const _0x5ba4ed=_0x3f9c3c;try{const _0x590611=doc(db,_0x5ba4ed(0x981)+appId+_0x5ba4ed(0x8e0),_0x2d246d),_0x25589d=doc(db,_0x5ba4ed(0x981)+appId+_0x5ba4ed(0x8e0),_0x7d9e42[_0x5ba4ed(0x2ad)]),_0xe726d4=writeBatch(db);_0xe726d4[_0x5ba4ed(0xd55)](_0x590611,{'pairedQuizId':null}),_0xe726d4['update'](_0x25589d,{'pairedQuizId':null}),await _0xe726d4['commit'](),showMessage(_0x5ba4ed(0x578));}catch(_0x3dce47){console['error'](_0x5ba4ed(0x63f),_0x3dce47),showMessage(_0x5ba4ed(0x8ec));}});}function formatAndPrintLessonPlan(_0x44db46,_0x51d644){const _0x54de43=_0x3db3a6,_0x237c04=window[_0x54de43(0x860)]('',_0x54de43(0x6a6)),_0x4c1ad5=_0x54de43(0x9c1)+_0x51d644[_0x54de43(0xe5f)]+_0x54de43(0x742)+_0x51d644['topic']+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x44db46['learningGaps'][_0x54de43(0x87e)](_0x181806=>'<li>'+_0x181806+_0x54de43(0x241))[_0x54de43(0xd6e)]('')+_0x54de43(0x1b2)+_0x44db46['teachingContent']+_0x54de43(0xb86)+_0x44db46['practiceProblems'][_0x54de43(0x87e)](_0x5a81a7=>_0x54de43(0x153)+_0x5a81a7['question']+_0x54de43(0x7ef)+_0x5a81a7['solution']+_0x54de43(0x5af))[_0x54de43(0xd6e)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x237c04[_0x54de43(0xa66)][_0x54de43(0xa48)](_0x4c1ad5),_0x237c04[_0x54de43(0xa66)]['close'](),_0x237c04['onload']=function(){setTimeout(()=>{const _0xf4a961=_0x5ca2;_0x237c04[_0xf4a961(0x70d)]();},0x3e8);};}async function handleAiFixFormula(_0x2afeba){const _0x422ad5=_0x3db3a6,_0x5d884a=document['querySelector'](_0x422ad5(0x41d)+_0x2afeba+'\x22]');if(!_0x5d884a)return;const _0x359869=_0x5d884a[_0x422ad5(0x845)][_0x422ad5(0xa52)],_0x2fb409=_0x5d884a[_0x422ad5(0x1a6)](_0x422ad5(0x1f0));let _0x2d296b={'question':_0x5d884a['querySelector'](_0x422ad5(0xc12))[_0x422ad5(0xa89)]};switch(_0x359869){case _0x422ad5(0x6f2):_0x2d296b[_0x422ad5(0xbed)]=Array[_0x422ad5(0x4e4)](_0x5d884a[_0x422ad5(0x68a)]('input[type=\x22text\x22]'))['map'](_0x2befde=>_0x2befde[_0x422ad5(0xa89)]);break;case _0x422ad5(0x1c8):case _0x422ad5(0x358):_0x2d296b[_0x422ad5(0x649)]=_0x5d884a['querySelector'](_0x422ad5(0x55e))[_0x422ad5(0xa89)];break;case _0x422ad5(0x1f4):_0x2d296b['correctResponse']=_0x5d884a[_0x422ad5(0x1a6)](_0x422ad5(0x693))[_0x422ad5(0xa89)];break;}_0x2fb409[_0x422ad5(0x545)]=_0x422ad5(0xdfa),_0x2fb409[_0x422ad5(0xc71)]=!![];try{const _0x20a72d=_0x422ad5(0xcfd)+JSON['stringify'](_0x2d296b)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x2c981e={'type':_0x422ad5(0xbc1),'properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':_0x422ad5(0xa44)},'options':{'type':_0x422ad5(0x1ff),'items':{'type':_0x422ad5(0xa44)}},'idealAnswer':{'type':_0x422ad5(0xa44)},'correctResponse':{'type':_0x422ad5(0xa44)}},'required':[_0x422ad5(0xc78)]}},'required':['fixedData']},_0x41d9a7=await callAnalysisApi(_0x20a72d,_0x2c981e);if(_0x41d9a7&&_0x41d9a7['fixedData']){const _0x2db12b=_0x41d9a7[_0x422ad5(0x1b3)];_0x5d884a[_0x422ad5(0x1a6)]('textarea')[_0x422ad5(0xa89)]=_0x2db12b['question']||_0x2d296b[_0x422ad5(0xc78)];switch(_0x359869){case _0x422ad5(0x6f2):_0x2db12b['options']&&_0x2db12b[_0x422ad5(0xbed)][_0x422ad5(0x110)]>0x0&&_0x5d884a['querySelectorAll']('input[type=\x22text\x22]')[_0x422ad5(0x277)]((_0x5ae901,_0x337427)=>{const _0x4125eb=_0x422ad5;_0x5ae901['value']=_0x2db12b[_0x4125eb(0xbed)][_0x337427]||_0x2d296b[_0x4125eb(0xbed)][_0x337427];});break;case _0x422ad5(0x1c8):case _0x422ad5(0x358):_0x5d884a[_0x422ad5(0x1a6)]('.ideal-answer-input')[_0x422ad5(0xa89)]=_0x2db12b['idealAnswer']||_0x2d296b[_0x422ad5(0x649)];break;case _0x422ad5(0x1f4):_0x5d884a[_0x422ad5(0x1a6)](_0x422ad5(0x693))[_0x422ad5(0xa89)]=_0x2db12b['correctResponse']||_0x2d296b[_0x422ad5(0xdcc)];break;}showMessage(_0x422ad5(0x753));}else throw new Error('AI\x20ไม่สามารถประมวลผลข้อมูลได้');}catch(_0x78ca08){console[_0x422ad5(0xe4d)](_0x422ad5(0x260),_0x78ca08),showMessage(_0x422ad5(0x36b));}finally{_0x2fb409['innerHTML']='<i\x20class=\x22fas\x20fa-square-root-alt\x22></i>',_0x2fb409['disabled']=![];}}async function handleGenerateLessonPlan(_0x177080){const _0x30c596=_0x3db3a6;showMessage(_0x30c596(0x1e9));try{const _0x387e8d=doc(db,'artifacts/'+appId+_0x30c596(0x8e0),_0x177080),_0x4cadab=await getDoc(_0x387e8d);if(!_0x4cadab[_0x30c596(0xaed)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x1c2bb3={'id':_0x177080,..._0x4cadab[_0x30c596(0x366)]()},_0x3c76af=collection(db,'artifacts/'+appId+_0x30c596(0x8e0),_0x177080,'submissions'),_0xb76964=await getDocs(_0x3c76af),_0xe4a336=_0xb76964['docs'][_0x30c596(0x87e)](_0x580c4f=>_0x580c4f[_0x30c596(0x366)]());if(_0xe4a336[_0x30c596(0x110)]===0x0)throw new Error(_0x30c596(0x71d));const _0x25e9ce=calculateItemAnalysis(_0x1c2bb3,_0xe4a336)['perQuestionStats'],_0x363732=calculateDistractorAnalysis(_0x1c2bb3,_0xe4a336),_0x4e195c=_0x27e3a2=>{const _0xc093da=_0x30c596;if(!_0x27e3a2)return'';return _0x27e3a2[_0xc093da(0x950)](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')[_0xc093da(0x950)](/\n/g,'\x5cn');};let _0x4a1261=_0x30c596(0x78c);_0x1c2bb3['questions'][_0x30c596(0x277)]((_0x22f328,_0x4f9f85)=>{const _0x49ca5=_0x30c596,_0x5a392f=_0x25e9ce[_0x4f9f85]?.['p'][_0x49ca5(0x457)](0x2)||_0x49ca5(0x88b),_0x4f7989=_0x25e9ce[_0x4f9f85]?.['r'][_0x49ca5(0x457)](0x2)||_0x49ca5(0x88b),_0xc33c81=_0x4e195c(_0x22f328[_0x49ca5(0xb0e)]||_0x22f328[_0x49ca5(0x2f5)]);_0x4a1261+=_0x49ca5(0xc35)+(_0x4f9f85+0x1)+'\x20(p='+_0x5a392f+_0x49ca5(0xc41)+_0x4f7989+'):\x20'+_0xc33c81+'\x5cn';if(_0x22f328['questionType']==='multiple_choice'&&_0x363732[_0x4f9f85]){const _0xfe9cad=_0x363732[_0x4f9f85],_0x508ca4=Object[_0x49ca5(0x598)](_0xfe9cad)[_0x49ca5(0x1a1)](_0x31d346=>parseInt(_0x31d346)!==_0x22f328['correctAnswerIndex'])[_0x49ca5(0x667)]((_0x26db1e,_0x38e5e6)=>_0xfe9cad[_0x38e5e6][_0x49ca5(0x7a2)]-_0xfe9cad[_0x26db1e]['total'])[0x0];if(_0x508ca4&&_0xfe9cad[_0x508ca4][_0x49ca5(0x7a2)]>0x0){const _0x1b1ef7=_0x4e195c(_0xfe9cad[_0x508ca4][_0x49ca5(0x38a)]);_0x4a1261+=_0x49ca5(0x1f2)+_0x1b1ef7+_0x49ca5(0x6f1);}}});const _0x121d92='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x1c2bb3[_0x30c596(0xe5f)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4a1261+_0x30c596(0x8cc),_0x5f4df7={'type':'OBJECT','properties':{'learningGaps':{'type':'ARRAY','items':{'type':_0x30c596(0xa44)}},'teachingContent':{'type':'STRING'},'practiceProblems':{'type':_0x30c596(0x1ff),'items':{'type':_0x30c596(0xbc1),'properties':{'question':{'type':_0x30c596(0xa44)},'solution':{'type':'STRING'}}}}},'required':[_0x30c596(0x3d7),_0x30c596(0x7e3),'practiceProblems']},_0x29d12e=await callAnalysisApi(_0x121d92,_0x5f4df7);await updateDoc(_0x387e8d,{'lessonPlan':_0x29d12e});const _0x43e257=_0x30c596(0x868)+_0x1c2bb3[_0x30c596(0xe5f)]+_0x30c596(0x482)+_0x29d12e[_0x30c596(0x3d7)][_0x30c596(0x87e)](_0x3f299b=>_0x30c596(0xd24)+_0x3f299b+_0x30c596(0x241))[_0x30c596(0xd6e)]('')+_0x30c596(0x451)+_0x29d12e[_0x30c596(0x7e3)]+_0x30c596(0x92a)+_0x29d12e['practiceProblems'][_0x30c596(0x87e)](_0x104485=>_0x30c596(0x3eb)+_0x104485[_0x30c596(0xc78)]+_0x30c596(0x147)+_0x104485[_0x30c596(0xa99)]+_0x30c596(0x416))[_0x30c596(0xd6e)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x30c596(0x283)](_0x30c596(0x77c))[_0x30c596(0x1bd)]=_0x30c596(0x6ff)+_0x1c2bb3[_0x30c596(0xe5f)],document[_0x30c596(0x283)]('lesson-plan-content')['innerHTML']=_0x43e257,document[_0x30c596(0x283)](_0x30c596(0xc8))['classList']['remove'](_0x30c596(0x9a0));if(window[_0x30c596(0x4d4)])MathJax[_0x30c596(0x130)]();messageModal[_0x30c596(0x605)]['add']('hidden');}catch(_0x417478){console[_0x30c596(0xe4d)](_0x30c596(0xcc4),_0x417478),showMessage('เกิดข้อผิดพลาด:\x20'+_0x417478['message']);}}async function handleDuplicateQuiz(_0x97c287){const _0x12f0fa=_0x3db3a6;try{const _0x5790d6=doc(db,_0x12f0fa(0x981)+appId+'/public/data/quizzes',_0x97c287),_0x538920=await getDoc(_0x5790d6);if(_0x538920[_0x12f0fa(0xaed)]()){const _0xe5c008=_0x538920[_0x12f0fa(0x366)]();let _0x2bf42d='',_0x1c3906=_0x12f0fa(0x6e8),_0x8f0a18=null;if(_0xe5c008['quizMode']==='pre-test'){let _0x29bcc1=_0xe5c008[_0x12f0fa(0xe5f)][_0x12f0fa(0x950)](_0x12f0fa(0xbd7),'')[_0x12f0fa(0xc29)]();_0x2bf42d=_0x12f0fa(0xc66)+_0x29bcc1,_0x1c3906=_0x12f0fa(0x577),_0x8f0a18=_0x97c287;}else _0x2bf42d=_0x12f0fa(0x10a)+_0xe5c008[_0x12f0fa(0xe5f)];const _0x294706={..._0xe5c008,'topic':_0x2bf42d,'createdAt':new Date()['toISOString'](),'quizMode':_0x1c3906,'pairedQuizId':_0x8f0a18};let _0x3f2c45;while(!![]){_0x3f2c45=Math[_0x12f0fa(0x7f6)](0x3e8+Math[_0x12f0fa(0x2cc)]()*0x2328)['toString']();const _0x3de1f1=await getDoc(doc(db,_0x12f0fa(0x981)+appId+_0x12f0fa(0x8e0),_0x3f2c45));if(!_0x3de1f1['exists']())break;}const _0x4f8106=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x3f2c45);await setDoc(_0x4f8106,_0x294706),_0x294706[_0x12f0fa(0x188)]==='post-test'&&await updateDoc(_0x5790d6,{'pairedQuizId':_0x3f2c45}),showMessage('คัดลอกแบบทดสอบสำเร็จ');}else throw new Error(_0x12f0fa(0x8eb));}catch(_0x479647){console[_0x12f0fa(0xe4d)](_0x12f0fa(0xb06),_0x479647),showMessage(_0x12f0fa(0x900));}}async function handleDeleteQuiz(_0x2c5250,_0x505c06=!![]){const _0x10cb2b=_0x3db3a6;try{const _0x4a7e44=writeBatch(db),_0x17814e=collection(db,'artifacts/'+appId+_0x10cb2b(0x1c4)+_0x2c5250+'/submissions'),_0xdece47=await getDocs(_0x17814e);_0xdece47[_0x10cb2b(0x277)](_0x130512=>{const _0xd6a3e0=_0x10cb2b;_0x4a7e44[_0xd6a3e0(0x3ec)](doc(_0x17814e,_0x130512['id']));});const _0x25110e=doc(db,_0x10cb2b(0x981)+appId+_0x10cb2b(0x8e0),_0x2c5250);_0x4a7e44['delete'](_0x25110e),await _0x4a7e44['commit']();try{console[_0x10cb2b(0x6e6)](_0x10cb2b(0x91d)+_0x2c5250+_0x10cb2b(0x94b));const _0x3f9121=collection(db,_0x10cb2b(0x981)+appId+_0x10cb2b(0xfb)),_0x3954db=await getDocs(_0x3f9121),_0x3aa4f4=[];_0x3954db[_0x10cb2b(0x277)](_0x347fc2=>{const _0x12666f=_0x10cb2b,_0x542def=_0x347fc2[_0x12666f(0x366)](),_0x16bea1=_0x542def[_0x12666f(0xa1a)]||{};let _0x5f5b8b=![];for(const _0x31019d in _0x16bea1){const _0x2bbcbe=_0x16bea1[_0x31019d];if(_0x2bbcbe[_0x12666f(0xbf8)]&&_0x2bbcbe['linkedQuizIds'][_0x12666f(0x2e8)](_0x2c5250)){_0x5f5b8b=!![];const _0x51502e=doc(db,_0x12666f(0x981)+appId+'/public/data/blueprintProjects',_0x347fc2['id']),_0xbe9266=updateDoc(_0x51502e,{['topics.'+_0x31019d+_0x12666f(0x6ae)]:arrayRemove(_0x2c5250)});_0x3aa4f4['push'](_0xbe9266);}}}),_0x3aa4f4[_0x10cb2b(0x110)]>0x0&&(await Promise[_0x10cb2b(0xd1a)](_0x3aa4f4),console[_0x10cb2b(0x6e6)]('Successfully\x20removed\x20'+_0x3aa4f4[_0x10cb2b(0x110)]+_0x10cb2b(0xc00)+_0x2c5250+'.'));}catch(_0x3eebc9){console[_0x10cb2b(0xe4d)](_0x10cb2b(0xac0),_0x3eebc9);}_0x505c06&&showMessage(_0x10cb2b(0x156));}catch(_0x44c053){console[_0x10cb2b(0xe4d)](_0x10cb2b(0x30f),_0x44c053),_0x505c06&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x3cbc8b){const _0x2cbd96=_0x3db3a6;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x2cbd96(0x59b));try{const _0x33d708=doc(db,_0x2cbd96(0x981)+appId+_0x2cbd96(0x8e0),_0x3cbc8b),_0x3bb42a=await getDoc(_0x33d708);if(!_0x3bb42a['exists']()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}const _0x42adf2={'id':_0x3bb42a['id'],..._0x3bb42a[_0x2cbd96(0x366)]()};currentQuizData=_0x42adf2;const _0x566919=doc(db,_0x2cbd96(0x981)+appId+_0x2cbd96(0x7ee),_0x42adf2[_0x2cbd96(0x47e)]),_0x135ce1=await getDoc(_0x566919);_0x135ce1[_0x2cbd96(0xaed)]()?(currentProjectData=_0x135ce1['data'](),currentProjectId=_0x42adf2[_0x2cbd96(0x47e)]):(currentProjectData={'students':[]},currentProjectId=_0x42adf2['projectId']);document[_0x2cbd96(0x283)](_0x2cbd96(0x973))['textContent']=_0x42adf2[_0x2cbd96(0xe5f)],document[_0x2cbd96(0x283)](_0x2cbd96(0xab7))[_0x2cbd96(0x1bd)]=_0x3cbc8b;const _0x266e44=collection(db,_0x2cbd96(0x981)+appId+_0x2cbd96(0x8e0),_0x3cbc8b,'submissions');unsubscribeSubmissionsListener=onSnapshot(_0x266e44,_0x35d235=>{const _0x385eaf=_0x2cbd96,_0x39adf9=_0x35d235[_0x385eaf(0xcf4)][_0x385eaf(0x87e)](_0x56a724=>({'id':_0x56a724['id'],..._0x56a724[_0x385eaf(0x366)]()}));currentSubmissions=_0x39adf9;const _0x22a82e=_0x39adf9[_0x385eaf(0x1a1)](_0x6539c8=>_0x6539c8[_0x385eaf(0x57f)]&&_0x6539c8['attempts']['length']>0x0);renderBehaviorLog(_0x39adf9),renderAnswerGrid(currentProjectData[_0x385eaf(0x138)],_0x22a82e,_0x42adf2),renderAnalytics(_0x42adf2,_0x22a82e),renderQuizResultsTable(currentProjectData[_0x385eaf(0x138)],_0x39adf9,_0x42adf2),renderQuizLeaderboard(_0x22a82e,_0x42adf2,_0x385eaf(0xd8b));}),showView('quiz-results');}catch(_0x2d5cdb){console['error'](_0x2cbd96(0x2a8),_0x2d5cdb),showMessage(_0x2cbd96(0xc42));}}function renderAnswerGrid(_0x30d2de,_0x41cc9d,_0x2b8a79){const _0x222751=_0x3db3a6,_0x4ece55=document[_0x222751(0x283)](_0x222751(0xd3a));if(!_0x4ece55)return;if(!_0x30d2de||_0x30d2de[_0x222751(0x110)]===0x0){_0x4ece55[_0x222751(0x545)]=_0x222751(0xb32);return;}const _0x52a6ff=_0x2b8a79['questions'],_0x370d3f=_0x41cc9d['reduce']((_0x5a579c,_0x369be5)=>{const _0x4a59de=_0x222751;return _0x5a579c[_0x369be5[_0x4a59de(0x28e)]]=_0x369be5,_0x5a579c;},{}),_0x3d275e=_0x37dc17=>String['fromCharCode'](0x41+_0x37dc17),_0x2d18ac=_0x502cc2=>{const _0x3941cf=_0x222751,_0x331831=_0x502cc2[_0x3941cf(0x430)]||_0x2b8a79[_0x3941cf(0x461)];switch(_0x331831){case'multiple_choice':return _0x502cc2[_0x3941cf(0xbed)]&&_0x502cc2['options'][_0x3941cf(0x110)]>_0x502cc2[_0x3941cf(0x7ed)]?_0x3d275e(_0x502cc2[_0x3941cf(0x7ed)]):'-';case'true_false':const _0x538434=_0x502cc2[_0x3941cf(0xad1)]===!![]||String(_0x502cc2[_0x3941cf(0xad1)])[_0x3941cf(0xa8)]()===_0x3941cf(0x503);return _0x538434?_0x3941cf(0x993):'ไม่ใช่';case'matching_item':return _0x502cc2[_0x3941cf(0xdcc)]||'-';case _0x3941cf(0x358):return'พิมพ์ตอบ';default:return'-';}},_0x5ecbae=(_0x3ce76b,_0x217a7a)=>{const _0x15c3c1=_0x222751;if(_0x217a7a['answer']===null||_0x217a7a[_0x15c3c1(0x9a9)]===undefined)return'-';const _0x291e89=_0x3ce76b[_0x15c3c1(0x430)]||_0x2b8a79[_0x15c3c1(0x461)];switch(_0x291e89){case _0x15c3c1(0x6f2):const _0x7339aa=_0x3ce76b['options'][_0x15c3c1(0x35e)](_0x11d229=>_0x11d229===_0x217a7a[_0x15c3c1(0x72e)]);return _0x7339aa!==-0x1?_0x3d275e(_0x7339aa):_0x217a7a[_0x15c3c1(0x72e)]||'-';case'true_false':if(_0x217a7a['answer']=='0'||_0x217a7a[_0x15c3c1(0x9a9)]===!![]||_0x217a7a['answer']===_0x15c3c1(0x503))return _0x15c3c1(0x993);return _0x15c3c1(0x9ab);default:return _0x217a7a[_0x15c3c1(0x9a9)];}};let _0x21c7fb=_0x222751(0x43e)+_0x52a6ff['map']((_0x1bbe92,_0x34f582)=>_0x222751(0x3fe)+(_0x34f582+0x1)+'</th>')['join']('')+_0x222751(0x697)+_0x52a6ff['map'](_0x37b686=>_0x222751(0x172)+_0x2d18ac(_0x37b686)+_0x222751(0xd41))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x30d2de['forEach'](_0x77bb59=>{const _0x51384f=_0x222751;_0x21c7fb+=_0x51384f(0x72a),_0x21c7fb+=_0x51384f(0x390)+_0x77bb59+'</td>';const _0x25cb6f=_0x370d3f[_0x77bb59];if(_0x25cb6f){const _0x1497e2=_0x25cb6f[_0x51384f(0x57f)][_0x25cb6f[_0x51384f(0x57f)][_0x51384f(0x110)]-0x1];_0x52a6ff[_0x51384f(0x277)]((_0x520f88,_0x208f0b)=>{const _0x160123=_0x51384f,_0x496bf6=_0x1497e2[_0x160123(0x749)][_0x160123(0xe8)](_0x52d814=>_0x52d814[_0x160123(0x73f)]===_0x520f88['id']);if(_0x496bf6){let _0x2fc87d='';const _0x221559=_0x496bf6[_0x160123(0xb7c)]===!![],_0x39797c=_0x496bf6[_0x160123(0x535)]===!![]||_0x496bf6[_0x160123(0x535)]==='confident',_0x1a2e8d=_0x496bf6[_0x160123(0xba6)];if(_0x1a2e8d===_0x160123(0xc8e))_0x221559?_0x2fc87d='bg-yellow-300\x20text-yellow-900\x20font-bold':_0x2fc87d=_0x160123(0x462);else _0x39797c?_0x2fc87d=_0x221559?_0x160123(0x123):'bg-red-500\x20text-white\x20font-bold':_0x2fc87d=_0x221559?_0x160123(0xd6f):'bg-red-100\x20text-red-800';_0x21c7fb+=_0x160123(0x57a)+_0x2fc87d+'\x22>'+_0x5ecbae(_0x520f88,_0x496bf6)+_0x160123(0xd41);}else _0x21c7fb+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x21c7fb+=_0x52a6ff[_0x51384f(0x87e)](()=>_0x51384f(0x905))[_0x51384f(0xd6e)]('');_0x21c7fb+=_0x51384f(0x1d8);}),_0x21c7fb+=_0x222751(0xa13),_0x4ece55[_0x222751(0x545)]=_0x21c7fb;}function renderQuizResultsTable(_0x22c28c,_0x44307e,_0x4dae85){const _0x113f49=_0x3db3a6,_0x312a54=_0x44307e[_0x113f49(0x53b)]((_0x56f60e,_0x5e77b7)=>{const _0x520fe4=_0x113f49;return _0x56f60e[_0x5e77b7[_0x520fe4(0x28e)]]=_0x5e77b7,_0x56f60e;},{}),_0xcfd98d=document[_0x113f49(0x1a6)](_0x113f49(0x5c7));_0xcfd98d&&!_0xcfd98d['innerHTML'][_0x113f49(0x2e8)]('จัดการ')&&(_0xcfd98d['innerHTML']+=_0x113f49(0xbb2));const _0x2bbab8=document['getElementById'](_0x113f49(0xdcd));if(!_0x22c28c||_0x22c28c['length']===0x0){_0x2bbab8['innerHTML']=_0x113f49(0xa2);return;}const _0x1336c7=_0x4dae85[_0x113f49(0x4d6)]===!![],_0xf28df=_0x4dae85['settings']?.[_0x113f49(0xe44)]??-0x1;let _0x187269='';_0x22c28c[_0x113f49(0x277)](_0x74392=>{const _0x363053=_0x113f49,_0xb48e2a=_0x312a54[_0x74392];let _0x151113=_0x363053(0x2f6)+(_0x1336c7?'bg-amber-100\x20text-amber-800':_0x363053(0xd61))+'\x22>'+(_0x1336c7?_0x363053(0x873):_0x363053(0x273))+_0x363053(0x572);if(_0xb48e2a){if(_0xb48e2a[_0x363053(0x57f)]&&_0xb48e2a['attempts'][_0x363053(0x110)]>0x0){let _0x3d9041=_0x1336c7?_0xb48e2a['bestScore']===_0xb48e2a[_0x363053(0x82d)]:_0xf28df!==-0x1&&_0xb48e2a[_0x363053(0x2d6)]>=_0xf28df;const _0x47c72c=_0x3d9041?_0x363053(0xd6f):_0x363053(0x883),_0x4ade42=_0x3d9041?_0x363053(0x6eb):_0x363053(0x3a3),_0x229810=_0x363053(0xb5b)+_0x47c72c+'\x22>'+_0x4ade42+_0x363053(0x572),_0x1471ef='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0xb48e2a[_0x363053(0x57f)]?.[_0x363053(0x110)]||0x1)+_0x363053(0x363),_0x5cde8e=_0x363053(0x1b7)+(_0xb48e2a[_0x363053(0x685)]||0x0)[_0x363053(0x33b)]()+_0x363053(0x513)+_0x74392+_0x363053(0xd2f)+(_0xb48e2a[_0x363053(0x685)]||0x0)+_0x363053(0x3ce);_0x187269+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x74392+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0xb48e2a[_0x363053(0x2d6)]+_0x363053(0x9a6)+_0xb48e2a['totalQuestions']+_0x363053(0xab6)+_0x229810+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x151113+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0xb48e2a[_0x363053(0xc06)]+_0x363053(0x9a6)+_0xb48e2a['totalQuestions']+_0x363053(0xa15)+_0xb48e2a['latestScore']+_0x363053(0x9a6)+_0xb48e2a[_0x363053(0x82d)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x5cde8e+_0x363053(0xab6)+_0x1471ef+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0xb48e2a[_0x363053(0x213)])[_0x363053(0x33b)]('th-TH')+_0x363053(0x6b8)+_0x74392+_0x363053(0x621);}else{const _0x14c680=_0x363053(0x300);_0x187269+=_0x363053(0x6a3)+_0x74392+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x151113+_0x363053(0x25c)+_0x14c680+_0x363053(0x7a6)+new Date(_0xb48e2a[_0x363053(0x4ba)])['toLocaleString'](_0x363053(0xd76))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x74392+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else{const _0xeee52d=_0x363053(0x6fc);_0x187269+=_0x363053(0x7ad)+_0x74392+_0x363053(0x4e6)+_0x151113+_0x363053(0x58c)+_0xeee52d+_0x363053(0x686);}}),_0x2bbab8[_0x113f49(0x545)]=_0x187269;}async function confirmRenameQuiz(){const _0x5d0b79=_0x3db3a6,_0x677638=document['getElementById'](_0x5d0b79(0xabd))[_0x5d0b79(0xa89)][_0x5d0b79(0xc29)]();if(!_0x677638){showMessage(_0x5d0b79(0x67c));return;}if(!actionTargetId)return;const _0x453314=doc(db,'artifacts/'+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x453314,{'topic':_0x677638}),showMessage(_0x5d0b79(0xdcb)),renameQuizModal[_0x5d0b79(0x605)]['add'](_0x5d0b79(0x9a0)),actionTargetId=null;}catch(_0x1b87f8){console[_0x5d0b79(0xe4d)](_0x5d0b79(0x3d2),_0x1b87f8),showMessage(_0x5d0b79(0x7cc));}}async function handleMoveQuiz(_0x27d91b){const _0x19be39=_0x3db3a6;actionTargetId=_0x27d91b;const _0x260d47=document[_0x19be39(0x283)](_0x19be39(0xcd8));_0x260d47['innerHTML']='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal[_0x19be39(0x605)][_0x19be39(0x31b)](_0x19be39(0x9a0));try{const _0x173633=collection(db,'artifacts/'+appId+'/public/data/projects'),_0x255e35=await getDocs(_0x173633),_0x103f16=_0x255e35['docs'][_0x19be39(0x87e)](_0x1e5799=>({'id':_0x1e5799['id'],..._0x1e5799[_0x19be39(0x366)]()})),_0x425157=_0x103f16[_0x19be39(0x1a1)](_0x14cbd4=>_0x14cbd4['id']!==currentProjectId);if(_0x425157[_0x19be39(0x110)]===0x0){_0x260d47[_0x19be39(0x545)]=_0x19be39(0xca7),document[_0x19be39(0x283)]('confirm-move-quiz-btn')[_0x19be39(0xc71)]=!![];return;}_0x260d47[_0x19be39(0x545)]=_0x425157['map'](_0x16f26a=>_0x19be39(0x4cc)+_0x16f26a['id']+'\x22>'+_0x16f26a[_0x19be39(0xe60)]+_0x19be39(0xc4e))[_0x19be39(0xd6e)](''),document[_0x19be39(0x283)](_0x19be39(0x64f))[_0x19be39(0xc71)]=![];}catch(_0x5306e1){console[_0x19be39(0xe4d)](_0x19be39(0x54e),_0x5306e1),showMessage(_0x19be39(0x335)),moveQuizModal[_0x19be39(0x605)][_0x19be39(0xd74)](_0x19be39(0x9a0));}}async function confirmMoveQuiz(){const _0x8584aa=_0x3db3a6,_0xf8a83c=document[_0x8584aa(0x283)](_0x8584aa(0xcd8))[_0x8584aa(0xa89)];if(!_0xf8a83c){showMessage(_0x8584aa(0xa3));return;}if(!actionTargetId)return;const _0x47821a=doc(db,_0x8584aa(0x981)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x47821a,{'projectId':_0xf8a83c}),showMessage(_0x8584aa(0xb2e)),moveQuizModal[_0x8584aa(0x605)][_0x8584aa(0xd74)]('hidden'),actionTargetId=null;}catch(_0x4e9b68){console[_0x8584aa(0xe4d)](_0x8584aa(0xb7b),_0x4e9b68),showMessage(_0x8584aa(0xc95));}}async function handleQuizSettings(_0x578a7d){const _0x5bbceb=_0x3db3a6;actionTargetId=_0x578a7d;const _0x8f4c09=doc(db,_0x5bbceb(0x981)+appId+_0x5bbceb(0x8e0),_0x578a7d);try{const _0x246832=await getDoc(_0x8f4c09);if(_0x246832[_0x5bbceb(0xaed)]()){const _0x59fef3=_0x246832[_0x5bbceb(0x366)](),_0x282d22=_0x59fef3[_0x5bbceb(0x477)]||{},_0x58da64=_0x59fef3['questions']['length'];document['getElementById'](_0x5bbceb(0xcf5))['value']=_0x282d22[_0x5bbceb(0xd4)]||_0x5bbceb(0xdff),document[_0x5bbceb(0x283)](_0x5bbceb(0xe06))[_0x5bbceb(0xa89)]=_0x282d22['resultsDisplay']||_0x5bbceb(0x601),document[_0x5bbceb(0x283)]('modal-timer-mode-select')['value']=_0x282d22[_0x5bbceb(0xe4b)]||_0x5bbceb(0xdff),document[_0x5bbceb(0x283)](_0x5bbceb(0x12b))[_0x5bbceb(0xa89)]=_0x282d22[_0x5bbceb(0x730)]||0xa,document['getElementById'](_0x5bbceb(0x20e))[_0x5bbceb(0xa89)]=_0x282d22['passingScore']||Math[_0x5bbceb(0x7f6)](_0x58da64/0x2),document[_0x5bbceb(0x283)](_0x5bbceb(0x20e))[_0x5bbceb(0x8c3)]=_0x58da64,document[_0x5bbceb(0x283)]('modal-adaptive-quiz-checkbox')['checked']=_0x282d22[_0x5bbceb(0x314)]||![],document[_0x5bbceb(0x283)](_0x5bbceb(0x50a))[_0x5bbceb(0x61b)]=_0x282d22[_0x5bbceb(0x70b)]||![];const _0x46462a=_0x282d22[_0x5bbceb(0x647)]||![];document[_0x5bbceb(0x283)](_0x5bbceb(0x672))['checked']=_0x46462a,document['getElementById'](_0x5bbceb(0xcb6))[_0x5bbceb(0xa89)]=_0x282d22['confidenceMode']||_0x5bbceb(0xb43);const _0x40cfbe=document[_0x5bbceb(0x283)](_0x5bbceb(0x2fd));_0x40cfbe[_0x5bbceb(0x605)][_0x5bbceb(0xc7c)](_0x5bbceb(0x9a0),!_0x46462a),document['getElementById'](_0x5bbceb(0x36f))[_0x5bbceb(0xcb)](new Event(_0x5bbceb(0xbb6))),quizSettingsModal['classList'][_0x5bbceb(0x31b)]('hidden');}else showMessage(_0x5bbceb(0x393));}catch(_0x3e5f80){console[_0x5bbceb(0xe4d)]('Error\x20fetching\x20quiz\x20settings:',_0x3e5f80),showMessage(_0x5bbceb(0xc6d));}}async function confirmQuizSettings(){const _0x4c569d=_0x3db3a6;if(!actionTargetId)return;const _0x14eda6=doc(db,_0x4c569d(0x981)+appId+_0x4c569d(0x8e0),actionTargetId),_0x83bd29={'shuffle':document['getElementById']('modal-shuffle-select')[_0x4c569d(0xa89)],'resultsDisplay':document[_0x4c569d(0x283)](_0x4c569d(0xe06))[_0x4c569d(0xa89)],'timerMode':document[_0x4c569d(0x283)](_0x4c569d(0x36f))[_0x4c569d(0xa89)],'timerDuration':parseInt(document[_0x4c569d(0x283)](_0x4c569d(0x12b))[_0x4c569d(0xa89)])||0xa,'passingScore':parseInt(document[_0x4c569d(0x283)]('modal-passing-score-input')['value'])||0x0,'isAdaptive':document[_0x4c569d(0x283)]('modal-adaptive-quiz-checkbox')[_0x4c569d(0x61b)],'loopUntilPass':document['getElementById'](_0x4c569d(0x50a))['checked'],'isConfidenceScoringEnabled':document[_0x4c569d(0x283)](_0x4c569d(0x672))[_0x4c569d(0x61b)],'confidenceMode':document[_0x4c569d(0x283)](_0x4c569d(0xcb6))[_0x4c569d(0xa89)]};try{await updateDoc(_0x14eda6,{'settings':_0x83bd29}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal[_0x4c569d(0x605)][_0x4c569d(0xd74)](_0x4c569d(0x9a0)),actionTargetId=null;}catch(_0x35f83c){console['error']('Error\x20updating\x20quiz\x20settings:',_0x35f83c),showMessage(_0x4c569d(0x7c3));}}async function confirmQuizStatus(){const _0xa599b8=_0x3db3a6;if(!actionTargetId)return;const _0x45ebb5=doc(db,'artifacts/'+appId+_0xa599b8(0x8e0),actionTargetId),_0x32cdaf=document[_0xa599b8(0x1a6)]('input[name=\x22status-option\x22]:checked');if(!_0x32cdaf){showMessage('กรุณาเลือกสถานะ');return;}const _0x427ffb=_0x32cdaf[_0xa599b8(0xa89)];let _0xf0b5dc={};if(_0x427ffb===_0xa599b8(0xcce)||_0x427ffb===_0xa599b8(0x69e))_0xf0b5dc={'status':_0x427ffb,'startTime':null,'endTime':null};else{if(_0x427ffb===_0xa599b8(0x8ef)){const _0x921bc0=document['getElementById'](_0xa599b8(0x707))['value'],_0x136ce7=document[_0xa599b8(0x283)](_0xa599b8(0xc1))[_0xa599b8(0xa89)];if(!_0x921bc0&&!_0x136ce7){showMessage(_0xa599b8(0xe6));return;}_0xf0b5dc={'status':_0xa599b8(0x7de),'startTime':_0x921bc0?new Date(_0x921bc0)[_0xa599b8(0x848)]():null,'endTime':_0x136ce7?new Date(_0x136ce7)[_0xa599b8(0x848)]():null};}}try{await updateDoc(_0x45ebb5,_0xf0b5dc),showMessage(_0xa599b8(0x12d)),quizStatusModal[_0xa599b8(0x605)]['add']('hidden'),actionTargetId=null;}catch(_0x8c5978){console[_0xa599b8(0xe4d)](_0xa599b8(0xcd9),_0x8c5978),showMessage('เกิดข้อผิดพลาดในการอัปเดตสถานะ');}}function listenForStudentProfiles(_0x3d97f3){const _0x3392d6=_0x3db3a6,_0x3e3356=collection(db,'artifacts/'+appId+_0x3392d6(0xb91)+_0x3d97f3+_0x3392d6(0xfa));unsubscribeStudentProfilesListener=onSnapshot(_0x3e3356,_0x5a32d5=>{const _0x3b37f3=_0x3392d6,_0x330bdd=_0x5a32d5[_0x3b37f3(0xcf4)][_0x3b37f3(0x87e)](_0x1e04f8=>_0x1e04f8['data']());renderLeaderboard(_0x330bdd,_0x3b37f3(0x7ec));},_0x40a26c=>{const _0x1db8e3=_0x3392d6;console[_0x1db8e3(0xe4d)]('Error\x20listening\x20for\x20student\x20profiles:',_0x40a26c),document[_0x1db8e3(0x283)](_0x1db8e3(0x7ec))['innerHTML']='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x546fa0,_0x250784){const _0x1ebfbb=_0x3db3a6,_0x93836b=document[_0x1ebfbb(0x283)](_0x250784);if(!_0x546fa0||_0x546fa0['length']===0x0){_0x93836b[_0x1ebfbb(0x545)]=_0x1ebfbb(0x505);return;}_0x546fa0[_0x1ebfbb(0x667)]((_0x2e21de,_0x2e3213)=>{const _0x3c3d4e=_0x1ebfbb,_0x3a29fd=(_0x2e3213['totalPoints']||0x0)-(_0x2e21de[_0x3c3d4e(0xd53)]||0x0);if(_0x3a29fd!==0x0)return _0x3a29fd;const _0x35b56c=(_0x2e3213[_0x3c3d4e(0x6f6)]?.['specialist']||0x0)-(_0x2e21de[_0x3c3d4e(0x6f6)]?.['specialist']||0x0);if(_0x35b56c!==0x0)return _0x35b56c;const _0x4579fe=(_0x2e3213[_0x3c3d4e(0x6f6)]?.[_0x3c3d4e(0x1e6)]||0x0)-(_0x2e21de[_0x3c3d4e(0x6f6)]?.[_0x3c3d4e(0x1e6)]||0x0);if(_0x4579fe!==0x0)return _0x4579fe;const _0x184f4a=(_0x2e3213[_0x3c3d4e(0x6f6)]?.[_0x3c3d4e(0xc22)]||0x0)-(_0x2e21de[_0x3c3d4e(0x6f6)]?.['perfect_score']||0x0);if(_0x184f4a!==0x0)return _0x184f4a;const _0x1b7d63=(_0x2e3213['badgesCount']?.[_0x3c3d4e(0x579)]||0x0)-(_0x2e21de[_0x3c3d4e(0x6f6)]?.['quick_thinker']||0x0);if(_0x1b7d63!==0x0)return _0x1b7d63;return _0x2e21de[_0x3c3d4e(0x28e)][_0x3c3d4e(0x879)](_0x2e3213['studentName'],'th');});let _0x4b3d4c='';_0x546fa0[_0x1ebfbb(0x277)]((_0x2d0d4e,_0x53a31d)=>{const _0x42aad3=_0x1ebfbb,_0xa4ad01=_0x53a31d+0x1,_0x4004f9=_0x2d0d4e[_0x42aad3(0x6f6)]||{};let _0x3eb514='';const _0x1f8252=[_0x42aad3(0x9aa),_0x42aad3(0xc22),_0x42aad3(0x1e6),'quick_thinker'];_0x1f8252[_0x42aad3(0x277)](_0x50596c=>{const _0x1ef7a7=_0x42aad3;if(_0x4004f9[_0x50596c]>0x0){const _0x5aae50=Object[_0x1ef7a7(0x2e5)](BADGES)[_0x1ef7a7(0xe8)](_0x402b4c=>_0x402b4c['id']===_0x50596c);_0x5aae50&&(_0x50596c===_0x1ef7a7(0x9aa)?_0x3eb514+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22'+_0x5aae50[_0x1ef7a7(0x339)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x5aae50[_0x1ef7a7(0x246)]+_0x1ef7a7(0x14e):_0x3eb514+=_0x1ef7a7(0x5ba)+_0x5aae50[_0x1ef7a7(0x339)]+'\x20('+_0x4004f9[_0x50596c]+_0x1ef7a7(0xab3)+_0x5aae50[_0x1ef7a7(0x246)]+_0x1ef7a7(0x75a)+_0x4004f9[_0x50596c]+_0x1ef7a7(0x79e));}}),_0x4b3d4c+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0xa4ad01+_0x42aad3(0x51d)+_0x2d0d4e[_0x42aad3(0x28e)]+_0x42aad3(0xa63)+(_0x2d0d4e['totalPoints']||0x0)[_0x42aad3(0x33b)]()+_0x42aad3(0x51d)+(_0x3eb514||'-')+_0x42aad3(0x9bb);}),_0x93836b[_0x1ebfbb(0x545)]=_0x4b3d4c;}function displayLoopScreen(_0x5db587,_0x24035e,_0x50c553){const _0x118957=_0x3db3a6;let _0x5c448f='';_0x50c553!==_0x118957(0x9b9)&&(_0x5c448f=_0x118957(0x894)+_0x5db587+_0x118957(0x9a6)+_0x24035e+_0x118957(0x8f8));const _0x58f966=_0x118957(0x53d)+_0x5c448f+_0x118957(0x164);studentResultArea[_0x118957(0x545)]=_0x58f966,studentResultArea[_0x118957(0x605)][_0x118957(0x31b)](_0x118957(0x9a0)),studentQuizArea[_0x118957(0x605)][_0x118957(0xd74)]('hidden'),document[_0x118957(0x283)](_0x118957(0x346))[_0x118957(0x844)]('click',()=>{const _0x27303e=_0x118957;studentResultArea[_0x27303e(0x605)][_0x27303e(0xd74)](_0x27303e(0x9a0)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x455e5e,_0x2aea26,_0xd78bc4){const _0x9f29d0=_0x3db3a6,_0x158526=document['getElementById'](_0xd78bc4),_0xe860e9=_0xd78bc4===_0x9f29d0(0x612),_0x54aaa1=_0x2aea26[_0x9f29d0(0x13f)]['length'],_0x3f0778=document[_0x9f29d0(0x283)](_0xd78bc4)[_0x9f29d0(0x455)](_0x9f29d0(0x72b));if(_0x3f0778&&!_0xe860e9){const _0x249538=_0x3f0778['querySelector'](_0x9f29d0(0x158));_0x249538[_0x9f29d0(0x545)]=_0x9f29d0(0x3be);}if(!_0x455e5e||_0x455e5e[_0x9f29d0(0x110)]===0x0){_0x158526['innerHTML']=_0x9f29d0(0xbb8)+(_0xe860e9?0x6:0x8)+_0x9f29d0(0x759);return;}const _0x4fd5a9=[..._0x455e5e];_0x4fd5a9[_0x9f29d0(0x667)]((_0x48983c,_0x142f53)=>{const _0x1bb7f=_0x9f29d0;let _0x381281,_0xc419dc;switch(quizLeaderboardSortBy){case'studentName':_0x381281=_0x48983c[_0x1bb7f(0x28e)]||'',_0xc419dc=_0x142f53[_0x1bb7f(0x28e)]||'';return quizLeaderboardSortOrder===_0x1bb7f(0x863)?_0x381281[_0x1bb7f(0x879)](_0xc419dc,'th'):_0xc419dc[_0x1bb7f(0x879)](_0x381281,'th');case _0x1bb7f(0x685):_0x381281=_0x48983c[_0x1bb7f(0x685)]||0x0,_0xc419dc=_0x142f53[_0x1bb7f(0x685)]||0x0;break;case _0x1bb7f(0x57f):_0x381281=_0x48983c['attempts']?.['length']||0x1,_0xc419dc=_0x142f53[_0x1bb7f(0x57f)]?.[_0x1bb7f(0x110)]||0x1;break;case'latestSubmittedAt':_0x381281=new Date(_0x48983c[_0x1bb7f(0x213)]),_0xc419dc=new Date(_0x142f53[_0x1bb7f(0x213)]);break;case'bestScore':default:_0x381281=_0x48983c[_0x1bb7f(0x2d6)],_0xc419dc=_0x142f53['bestScore'];break;}if(_0x381281<_0xc419dc)return quizLeaderboardSortOrder===_0x1bb7f(0x863)?-0x1:0x1;if(_0x381281>_0xc419dc)return quizLeaderboardSortOrder==='asc'?0x1:-0x1;return 0x0;});const _0x244108=_0x2aea26['isRemedial']===!![],_0x3de4f5=_0x2aea26['settings']?.[_0x9f29d0(0xe44)]??-0x1;let _0x7970a2='';_0x4fd5a9[_0x9f29d0(0x277)]((_0x3425e5,_0x3049fb)=>{const _0x2daddf=_0x9f29d0,_0x135e94=_0x3049fb+0x1;let _0xa1f218=_0x2daddf(0xb14);if(_0x244108||_0x3de4f5!==-0x1){let _0x23e596=_0x244108?_0x3425e5['bestScore']===_0x54aaa1:_0x3425e5[_0x2daddf(0x2d6)]>=_0x3de4f5;const _0x3aa3d0=_0x23e596?_0x2daddf(0xd6f):_0x2daddf(0x883),_0x119b70=_0x23e596?_0x2daddf(0x6eb):_0x2daddf(0x3a3);_0xa1f218=_0x2daddf(0x9d7)+_0x3aa3d0+'\x22>'+_0x119b70+_0x2daddf(0x572);}const _0x56e070=_0x3425e5[_0x2daddf(0x57f)][_0x3425e5['attempts'][_0x2daddf(0x110)]-0x1],_0x45139f=(_0x56e070['badges']||[])[_0x2daddf(0x87e)](_0x20abdc=>{const _0x28eedc=_0x2daddf,_0x125f95=Object[_0x28eedc(0x2e5)](BADGES)['find'](_0x21c83f=>_0x21c83f['id']===_0x20abdc);return _0x125f95?_0x28eedc(0xe3e)+_0x125f95[_0x28eedc(0x339)]+_0x28eedc(0x8ad)+_0x125f95[_0x28eedc(0x246)]+_0x28eedc(0x23b):'';})['join']('');_0x7970a2+=_0x2daddf(0xb27)+_0x135e94+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x3425e5['studentName']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x3425e5[_0x2daddf(0x2d6)]+_0x2daddf(0x9a6)+_0x54aaa1+_0x2daddf(0x798)+_0xa1f218+_0x2daddf(0xd2c)+(_0x3425e5['points']||0x0)['toLocaleString']()+_0x2daddf(0x798)+(_0xe860e9?'':_0x2daddf(0x7d9)+(_0x3425e5[_0x2daddf(0x57f)]?.[_0x2daddf(0x110)]||0x1)+_0x2daddf(0xd41))+_0x2daddf(0x7b6)+(_0xe860e9?'':_0x2daddf(0x7a8)+new Date(_0x3425e5['latestSubmittedAt'])[_0x2daddf(0x33b)](_0x2daddf(0xd76))+'</td>')+_0x2daddf(0xa61)+(_0x45139f||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x158526['innerHTML']=_0x7970a2,_0x3f0778&&!_0xe860e9&&_0x3f0778[_0x9f29d0(0x68a)](_0x9f29d0(0x281))[_0x9f29d0(0x277)](_0x1ed680=>{const _0x22277f=_0x9f29d0,_0x54320b=_0x1ed680[_0x22277f(0x1a6)](_0x22277f(0x66b));if(_0x54320b)_0x54320b[_0x22277f(0x31b)]();_0x1ed680[_0x22277f(0x845)][_0x22277f(0x667)]===quizLeaderboardSortBy&&(_0x1ed680['innerHTML']+=_0x22277f(0xb03)+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+_0x22277f(0x3a6));});}async function handleDeleteSubmission(_0x5eb909){const _0x24d60a=_0x3db3a6;if(!currentQuizData||!currentQuizData['id']||!_0x5eb909){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation(_0x24d60a(0xdd8)+_0x5eb909+_0x24d60a(0x547),async()=>{const _0x2a4293=_0x24d60a,_0x488d6b=currentQuizData['id'],_0x256ef1=doc(db,_0x2a4293(0x981)+appId+_0x2a4293(0x1c4)+_0x488d6b+'/submissions',_0x5eb909);try{await deleteDoc(_0x256ef1),showMessage(_0x2a4293(0x59a)+_0x5eb909+_0x2a4293(0x933));}catch(_0x35ce70){console[_0x2a4293(0xe4d)]('Error\x20deleting\x20submission:',_0x35ce70),showMessage('เกิดข้อผิดพลาดในการลบผลสอบ');}});}async function handleLoadQuiz(){const _0x9b066c=_0x3db3a6,_0x500bec=document[_0x9b066c(0x283)](_0x9b066c(0xddb)),_0x160a01=_0x500bec[_0x9b066c(0xa89)][_0x9b066c(0xc29)]();if(!_0x160a01){showMessage(_0x9b066c(0xaa1));return;}loadQuizBtn[_0x9b066c(0xc71)]=!![],loadQuizBtn[_0x9b066c(0x545)]=_0x9b066c(0xc88);try{const _0x53f821=doc(db,_0x9b066c(0x981)+appId+_0x9b066c(0x8e0),_0x160a01),_0x128577=await getDoc(_0x53f821);if(!_0x128577['exists']()){showMessage(_0x9b066c(0xa72));return;}currentQuizData={'id':_0x128577['id'],..._0x128577[_0x9b066c(0x366)]()};const _0x269daa=currentQuizData[_0x9b066c(0x360)]||'active',_0x17f5d2=new Date();if(_0x269daa===_0x9b066c(0x69e)){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x269daa===_0x9b066c(0x7de)){const _0x17c5d6=currentQuizData[_0x9b066c(0x37b)]?new Date(currentQuizData[_0x9b066c(0x37b)]):null,_0x408650=currentQuizData[_0x9b066c(0x2e0)]?new Date(currentQuizData['endTime']):null;if(_0x17c5d6&&_0x17f5d2<_0x17c5d6){showMessage(_0x9b066c(0x629)+_0x17c5d6[_0x9b066c(0x33b)](_0x9b066c(0xd76),{'hour12':![]}));return;}if(_0x408650&&_0x17f5d2>_0x408650){showMessage(_0x9b066c(0x539));return;}}const _0x5d0f59=currentQuizData[_0x9b066c(0x47e)];currentProjectId=_0x5d0f59;const _0x5af280=doc(db,_0x9b066c(0x981)+appId+'/public/data/projects',_0x5d0f59),_0x40dd04=await getDoc(_0x5af280);if(!_0x40dd04[_0x9b066c(0xaed)]()){showMessage(_0x9b066c(0xcd0));return;}const _0x30695f=_0x40dd04['data']();currentStudentProjectData=_0x30695f,displayStudentNameSelector(_0x30695f[_0x9b066c(0x138)],currentQuizData[_0x9b066c(0xe5f)]);}catch(_0x3a85d4){console[_0x9b066c(0xe4d)](_0x9b066c(0xdf4),_0x3a85d4),showMessage('เกิดข้อผิดพลาดในการโหลดแบบทดสอบ');}finally{loadQuizBtn['disabled']=![],loadQuizBtn[_0x9b066c(0x545)]='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleManualEditPoints(_0x43c302,_0x13e5a1){const _0x9b54a7=_0x3db3a6;if(!currentQuizData||!currentQuizData['id'])return;const _0x48c5f6=currentQuizData['id'],_0x2e5808=doc(db,'artifacts/'+appId+_0x9b54a7(0x1c4)+_0x48c5f6+_0x9b54a7(0xb8f),_0x43c302);try{const _0x25fe24=await getDoc(_0x2e5808);if(!_0x25fe24[_0x9b54a7(0xaed)]())return;const _0xe3b49d=_0x25fe24['data'](),_0x425635=_0xe3b49d[_0x9b54a7(0x57f)]||[];_0x425635['length']>0x0&&(_0x425635[_0x425635['length']-0x1][_0x9b54a7(0x685)]=_0x13e5a1,_0x425635[_0x425635[_0x9b54a7(0x110)]-0x1][_0x9b54a7(0xb7a)]=!![]),await updateDoc(_0x2e5808,{'points':_0x13e5a1,'attempts':_0x425635}),currentProjectData&&currentProjectId&&await updateStudentProfile(currentProjectId,_0x43c302),showMessage('แก้ไข\x20Points\x20ของ\x20'+_0x43c302+_0x9b54a7(0x1ae)+_0x13e5a1+_0x9b54a7(0xbc0));}catch(_0x1167b0){console[_0x9b54a7(0xe4d)](_0x9b54a7(0xade),_0x1167b0),showMessage('เกิดข้อผิดพลาดในการบันทึกคะแนน');}}async function handleJoinLiveGame(){const _0x3f0ddc=_0x3db3a6,_0x45a4d8=document[_0x3f0ddc(0x283)](_0x3f0ddc(0x851)),_0x458137=document[_0x3f0ddc(0x283)](_0x3f0ddc(0xb18)),_0x251100=document[_0x3f0ddc(0x283)](_0x3f0ddc(0x861)),_0x373b3a=_0x45a4d8[_0x3f0ddc(0xa89)][_0x3f0ddc(0xc29)](),_0x1dc49f=_0x458137[_0x3f0ddc(0xa89)][_0x3f0ddc(0xc29)]();if(!_0x373b3a||!_0x1dc49f){showMessage(_0x3f0ddc(0x7e6));return;}_0x251100[_0x3f0ddc(0xc71)]=!![],_0x251100[_0x3f0ddc(0x545)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...';try{const _0xa5e5ea=collection(db,_0x3f0ddc(0x981)+appId+_0x3f0ddc(0x7f8)),_0x6df4fd=query(_0xa5e5ea,where(_0x3f0ddc(0xc57),'==',_0x373b3a),where(_0x3f0ddc(0x360),'in',['lobby',_0x3f0ddc(0xc78),'summary',_0x3f0ddc(0x940)])),_0x1b8e9a=await getDocs(_0x6df4fd);if(_0x1b8e9a[_0x3f0ddc(0x43c)]){const _0x932d1d=collection(db,_0x3f0ddc(0x981)+appId+'/public/data/liveGames'),_0x136737=query(_0x932d1d,where(_0x3f0ddc(0xde9),'==',_0x373b3a)),_0x366dd2=await getDocs(_0x136737);if(!_0x366dd2[_0x3f0ddc(0x43c)]){await proceedWithTeamQuizJoin(_0x366dd2[_0x3f0ddc(0xcf4)][0x0]);return;}showMessage(_0x3f0ddc(0x9b4));return;}const _0x155779=_0x1b8e9a[_0x3f0ddc(0xcf4)][0x0];currentLiveGameId=_0x155779['id'];const _0x4e8f3d=_0x155779['data'](),_0x177446=doc(db,_0x3f0ddc(0x981)+appId+_0x3f0ddc(0x8e0),_0x4e8f3d[_0x3f0ddc(0xbc3)]),_0x40180f=await getDoc(_0x177446);_0x40180f['exists']()&&(currentQuizData=_0x4e8f3d[_0x3f0ddc(0x84d)]);const _0x2f9ea1=doc(db,'artifacts/'+appId+'/public/data/syncGames/'+currentLiveGameId+_0x3f0ddc(0x25a),_0x1dc49f),_0x48c6a5=await getDoc(_0x2f9ea1);if(_0x48c6a5[_0x3f0ddc(0xaed)]())_0x251100[_0x3f0ddc(0x545)]=_0x3f0ddc(0xd70),await updateDoc(_0x2f9ea1,{'status':_0x3f0ddc(0xcce)}),showMessage(_0x3f0ddc(0x32a)+_0x1dc49f+'!\x20ข้อมูลของคุณถูกกู้คืนแล้ว');else{if(_0x4e8f3d['status']!=='lobby'){}_0x251100[_0x3f0ddc(0x545)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';const _0x29690b={'name':_0x1dc49f,'score':0x0,'totalPoints':0x0,'pointsLastRound':0x0,'powerups':{'fiftyFifty':0x0,'secondChance':0x0,'buyTime':0x0,'poll':0x0,'wagerMultiplier':0x0,'forceConfident':0x0,'cutOne':0x0,'insurance':0x0,'strategyScan':0x0,'jinx':0x0,'revealOptions':0x0},'answered':![],'status':_0x3f0ddc(0xcce),'answers':[],'joinedAt':serverTimestamp(),'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0};await setDoc(_0x2f9ea1,_0x29690b);}currentStudentName=_0x1dc49f,localTeamPlayers=[_0x1dc49f],showView(_0x3f0ddc(0x939)),listenForSyncGameUpdates();const _0x337442={'gameId':currentLiveGameId,'mode':_0x3f0ddc(0xa8e),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x3f0ddc(0xba0)]('activeGameSession',JSON[_0x3f0ddc(0x6b3)](_0x337442));}catch(_0x112ebf){console[_0x3f0ddc(0xe4d)](_0x3f0ddc(0x841),_0x112ebf),showMessage('เกิดข้อผิดพลาดในการเข้าร่วม:\x20'+_0x112ebf['message']);}finally{_0x251100[_0x3f0ddc(0xc71)]=![];if(_0x251100[_0x3f0ddc(0x545)][_0x3f0ddc(0x2e8)](_0x3f0ddc(0x68e)))_0x251100[_0x3f0ddc(0x545)]=_0x3f0ddc(0x82f);}}function displayStudentNameSelector(_0x4ddd72,_0x5b4e93){const _0x25ff87=_0x3db3a6,_0x6c0475=document['getElementById'](_0x25ff87(0x7a7));document[_0x25ff87(0x283)]('student-quiz-topic')[_0x25ff87(0x1bd)]=_0x25ff87(0x744)+_0x5b4e93,!_0x4ddd72||_0x4ddd72['length']===0x0?(_0x6c0475['innerHTML']='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0x25ff87(0xc71)]=!![]):(_0x6c0475['innerHTML']=_0x25ff87(0x22f),_0x4ddd72[_0x25ff87(0x277)](_0x19c557=>{const _0x14ade9=_0x25ff87,_0x531abe=document[_0x14ade9(0x1d1)](_0x14ade9(0x219));_0x531abe[_0x14ade9(0xa89)]=_0x19c557,_0x531abe[_0x14ade9(0x1bd)]=_0x19c557,_0x6c0475[_0x14ade9(0x2ea)](_0x531abe);}),startQuizBtn[_0x25ff87(0xc71)]=![]),studentInitialView['classList'][_0x25ff87(0xd74)](_0x25ff87(0x9a0)),studentNameSelectionView[_0x25ff87(0x605)][_0x25ff87(0x31b)](_0x25ff87(0x9a0));}function shuffleArray(_0x3c3ae2){const _0x2a92f7=_0x3db3a6;for(let _0x39b296=_0x3c3ae2[_0x2a92f7(0x110)]-0x1;_0x39b296>0x0;_0x39b296--){const _0x20b74d=Math[_0x2a92f7(0x7f6)](Math[_0x2a92f7(0x2cc)]()*(_0x39b296+0x1));[_0x3c3ae2[_0x39b296],_0x3c3ae2[_0x20b74d]]=[_0x3c3ae2[_0x20b74d],_0x3c3ae2[_0x39b296]];}}function getShuffledQuiz(_0x56190f){const _0xfd1051=_0x3db3a6;let _0x233c7e=JSON['parse'](JSON['stringify'](_0x56190f));const _0x737182=_0x233c7e[_0xfd1051(0x477)]?.[_0xfd1051(0xd4)]||_0xfd1051(0xdff);if(_0x737182===_0xfd1051(0xdff))return _0x233c7e;return(_0x737182===_0xfd1051(0xdd)||_0x737182===_0xfd1051(0x8c8))&&shuffleArray(_0x233c7e['questions']),(_0x737182===_0xfd1051(0xbd4)||_0x737182===_0xfd1051(0x8c8))&&_0x233c7e[_0xfd1051(0x13f)]['forEach'](_0x40c894=>{const _0x4fd081=_0xfd1051,_0x1180ec=_0x40c894[_0x4fd081(0x430)]||_0x233c7e[_0x4fd081(0x461)];if(_0x40c894[_0x4fd081(0xbed)]){let _0xd8e018=_0x40c894[_0x4fd081(0xbed)][_0x4fd081(0x87e)]((_0x19c70b,_0x1abf5c)=>({'text':_0x19c70b,'isCorrect':_0x1abf5c===_0x40c894[_0x4fd081(0x7ed)]}));shuffleArray(_0xd8e018),_0x40c894[_0x4fd081(0xbed)]=_0xd8e018[_0x4fd081(0x87e)](_0x236418=>_0x236418[_0x4fd081(0x38a)]),_0x40c894[_0x4fd081(0x7ed)]=_0xd8e018[_0x4fd081(0x35e)](_0x16f2fc=>_0x16f2fc[_0x4fd081(0xb7c)]);}_0x1180ec==='matching_item'&&_0x40c894[_0x4fd081(0x17b)]&&shuffleArray(_0x40c894[_0x4fd081(0x17b)]);}),_0x233c7e;}function displayQuizForStudent(_0xeb6de7){const _0x2f151e=_0x3db3a6;studentQuizArea[_0x2f151e(0x605)][_0x2f151e(0x31b)](_0x2f151e(0x9a0)),currentDisplayedQuiz=getShuffledQuiz(_0xeb6de7);currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x2f151e(0xd0d),handleFullscreenChange),document[_0x2f151e(0x844)](_0x2f151e(0x914),handleVisibilityChange),enterFullscreen(),window[_0x2f151e(0x844)](_0x2f151e(0x19e),resetDimTimer),window[_0x2f151e(0x844)](_0x2f151e(0xb3b),resetDimTimer),window['addEventListener']('touchstart',resetDimTimer),window[_0x2f151e(0x844)](_0x2f151e(0x4fe),resetDimTimer),resetDimTimer());const _0x3d22a4=currentDisplayedQuiz[_0x2f151e(0x477)]?.[_0x2f151e(0xe4b)]||'none';if(_0x3d22a4==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x2f151e(0x477)][_0x2f151e(0x730)]);else _0x3d22a4===_0x2f151e(0x680)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}window[_0x3db3a6(0x201)]=function(_0xb1c9f6){const _0x175702=_0x3db3a6,_0x5a0827=document[_0x175702(0x283)](_0x175702(0xc73)+_0xb1c9f6),_0x2fcc5e=document[_0x175702(0x68a)](_0x175702(0xd27));_0x2fcc5e[_0x175702(0x277)](_0x20eafe=>{const _0x43cb93=_0x175702;if(_0x20eafe['id']!==_0x43cb93(0xc73)+_0xb1c9f6)_0x20eafe['classList'][_0x43cb93(0xd74)](_0x43cb93(0x9a0));});if(_0x5a0827)_0x5a0827[_0x175702(0x605)]['toggle'](_0x175702(0x9a0));},window['selectMathOption']=function(_0x1cf408,_0x7c76d6){const _0x5b18d9=_0x3db3a6,_0x270ce7=currentDisplayedQuiz;if(!_0x270ce7)return;const _0x28c76c=_0x270ce7['questions'][_0x1cf408],_0x39333f=_0x28c76c[_0x5b18d9(0x17b)][_0x7c76d6],_0x54331=document[_0x5b18d9(0x283)](_0x5b18d9(0x512)+_0x1cf408);if(_0x54331)_0x54331[_0x5b18d9(0xa89)]=_0x39333f;const _0x490849=document[_0x5b18d9(0x283)]('selected-text-'+_0x1cf408);if(_0x490849){_0x490849[_0x5b18d9(0x545)]=_0x39333f;if(window[_0x5b18d9(0x4d4)])MathJax[_0x5b18d9(0x130)]([_0x490849]);_0x490849[_0x5b18d9(0x605)]['add'](_0x5b18d9(0x3e6),_0x5b18d9(0x90b));}const _0xbbb53b=document[_0x5b18d9(0x283)](_0x5b18d9(0xc73)+_0x1cf408);if(_0xbbb53b)_0xbbb53b[_0x5b18d9(0x605)]['add'](_0x5b18d9(0x9a0));},document['addEventListener'](_0x3db3a6(0x425),_0x47dc43=>{const _0x3e70d6=_0x3db3a6;!_0x47dc43[_0x3e70d6(0x543)]['closest'](_0x3e70d6(0xb79))&&document['querySelectorAll'](_0x3e70d6(0xd27))[_0x3e70d6(0x277)](_0x240a68=>_0x240a68['classList']['add']('hidden'));});function renderFullQuizForm(){const _0x183094=_0x3db3a6,_0x41b09a=currentDisplayedQuiz[_0x183094(0x477)]?.[_0x183094(0x647)]===!![],_0x55bd22=currentDisplayedQuiz[_0x183094(0x477)]?.[_0x183094(0xe32)]||_0x183094(0xb43);let _0x904108=![],_0x234bbe=_0x183094(0xb08)+currentDisplayedQuiz[_0x183094(0xe5f)]+_0x183094(0x1af)+(currentMode===_0x183094(0x983)?_0x183094(0xce3):'')+_0x183094(0xba1);currentDisplayedQuiz[_0x183094(0x13f)]['forEach']((_0x73794b,_0x281128)=>{const _0x220c92=_0x183094,_0x54a8c0=_0x73794b['questionType']||currentDisplayedQuiz[_0x220c92(0x461)],_0x41813f=_0x220c92(0x84e)+(0x64-_0x281128)+';';_0x54a8c0===_0x220c92(0x1f4)&&!_0x904108&&(_0x234bbe+=_0x220c92(0x6b6),_0x904108=!![]);_0x234bbe+=_0x220c92(0x424)+_0x41813f+'\x22>';_0x54a8c0!==_0x220c92(0x1f4)&&(_0x234bbe+=_0x220c92(0x27b)+(_0x281128+0x1)+'.\x20'+(_0x73794b[_0x220c92(0xcf8)]||_0x73794b[_0x220c92(0xb0e)])+_0x220c92(0x819)+(_0x73794b['imageCode']?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x73794b['imageCode']+_0x220c92(0xdc0):'')+_0x220c92(0x72f));_0x234bbe+=_0x220c92(0x7c5);if(_0x54a8c0==='matching_item'&&_0x73794b[_0x220c92(0x17b)])_0x234bbe+=_0x220c92(0x874)+(_0x281128+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22leading-snug\x22>'+_0x73794b[_0x220c92(0x2f5)]+_0x220c92(0xac9)+_0x281128+'\x22\x20id=\x22input-'+_0x281128+_0x220c92(0xdfd)+_0x281128+_0x220c92(0xbd)+_0x281128+'\x22\x20class=\x22truncate\x20text-gray-500\x22>--\x20เลือกคำตอบ\x20--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-down\x20text-gray-400\x20text-sm\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22dropdown-list-'+_0x281128+_0x220c92(0x5a6)+_0x73794b[_0x220c92(0x17b)][_0x220c92(0x87e)]((_0x275a9a,_0x3f7fbe)=>_0x220c92(0x12a)+_0x281128+',\x20'+_0x3f7fbe+_0x220c92(0xa17)+_0x275a9a+_0x220c92(0xd5c))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else{if(_0x54a8c0===_0x220c92(0x50e))_0x234bbe+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x281128+_0x220c92(0x4d0)+_0x281128+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x281128+_0x220c92(0x9e2),_0x234bbe+=_0x220c92(0x18b)+_0x281128+'_opt1\x22\x20name=\x22question'+_0x281128+_0x220c92(0x934)+_0x281128+_0x220c92(0x6e3);else _0x73794b[_0x220c92(0xbed)]&&Array[_0x220c92(0x7ce)](_0x73794b[_0x220c92(0xbed)])&&_0x73794b[_0x220c92(0xbed)][_0x220c92(0x110)]>0x0?_0x234bbe+=_0x73794b[_0x220c92(0xbed)][_0x220c92(0x87e)]((_0x4d7515,_0x1fd0eb)=>_0x220c92(0xad0)+_0x281128+_0x220c92(0x3a0)+_0x1fd0eb+_0x220c92(0x9c0)+_0x281128+_0x220c92(0x754)+_0x1fd0eb+_0x220c92(0xcf7)+_0x281128+'_opt'+_0x1fd0eb+'\x22>'+_0x4d7515+_0x220c92(0x2ee))[_0x220c92(0xd6e)](''):_0x234bbe+='<textarea\x20name=\x22question'+_0x281128+_0x220c92(0x152);}_0x234bbe+=_0x220c92(0xdc0),_0x41b09a&&(_0x234bbe+=_0x220c92(0xce8),_0x55bd22==='mandatory'?_0x234bbe+=_0x220c92(0xdf7)+_0x281128+_0x220c92(0xda8)+_0x281128+_0x220c92(0x38f)+_0x281128+_0x220c92(0x581)+_0x281128+_0x220c92(0x434):_0x234bbe+=_0x220c92(0x6a0)+_0x281128+_0x220c92(0xda8)+_0x281128+_0x220c92(0x20c)+_0x281128+_0x220c92(0xbfd),_0x234bbe+='</div>'),_0x234bbe+=_0x220c92(0xdc0);}),_0x234bbe+=_0x183094(0x1aa),_0x234bbe+='</form>',studentQuizArea[_0x183094(0x545)]=_0x234bbe;if(currentMode==='admin-testing'){const _0x32f2fd=document[_0x183094(0x283)]('cancel-test-btn');if(_0x32f2fd)_0x32f2fd['addEventListener'](_0x183094(0x425),cancelAdminTest);}const _0x1b6cd1=document['getElementById'](_0x183094(0x2b7));_0x1b6cd1&&(_0x1b6cd1[_0x183094(0x844)](_0x183094(0x11d),handleSubmitQuiz),_0x1b6cd1[_0x183094(0x844)](_0x183094(0x425),_0x56a1f7=>{const _0xd8de43=_0x183094;if(_0x56a1f7[_0xd8de43(0x543)][_0xd8de43(0x605)][_0xd8de43(0x5a0)](_0xd8de43(0xc60))){const _0x37500a=_0x56a1f7[_0xd8de43(0x543)],_0x312ddb=_0x37500a[_0xd8de43(0x845)][_0xd8de43(0xda4)],_0x655616=_0x37500a[_0xd8de43(0x845)]['value'];document['getElementById']('confidence-input-'+_0x312ddb)['value']=_0x655616;const _0x21b1cb=_0x37500a[_0xd8de43(0x6a9)];_0x21b1cb[_0xd8de43(0x68a)](_0xd8de43(0x16d))[_0xd8de43(0x277)](_0x48a0be=>_0x48a0be[_0xd8de43(0x605)][_0xd8de43(0x31b)]('active')),_0x37500a[_0xd8de43(0x605)][_0xd8de43(0xd74)](_0xd8de43(0xcce));}})),window[_0x183094(0x4d4)]&&setTimeout(()=>{const _0x1df777=_0x183094;window[_0x1df777(0x4d4)]['typesetPromise']([studentQuizArea]);},0x32);}async function handleSubmitQuiz(_0x4a83c2){const _0x31855d=_0x3db3a6;if(_0x4a83c2)_0x4a83c2[_0x31855d(0xde6)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x4a09af=document[_0x31855d(0x283)]('quiz-form');if(!_0x4a09af)return;const _0x4b4729=currentDisplayedQuiz[_0x31855d(0x477)]?.['isConfidenceScoringEnabled']===!![],_0x3c9365=currentDisplayedQuiz['settings']?.[_0x31855d(0xe32)]||_0x31855d(0xb43);if(_0x4b4729&&_0x3c9365===_0x31855d(0xcea)){let _0x44d070=!![];for(let _0x576749=0x0;_0x576749<currentDisplayedQuiz['questions'][_0x31855d(0x110)];_0x576749++){const _0x4f7c9c=_0x4a09af[_0x31855d(0x1a6)](_0x31855d(0x8c0)+_0x576749);if(!_0x4f7c9c||_0x4f7c9c[_0x31855d(0xa89)]===''){_0x44d070=![];break;}}if(!_0x44d070){showMessage(_0x31855d(0x9cc));return;}}const _0x1f480f=_0x4a09af[_0x31855d(0x1a6)](_0x31855d(0xc90)),_0x1fe9b4=currentDisplayedQuiz[_0x31855d(0x13f)][_0x31855d(0xbf4)](_0x35aab5=>_0x35aab5[_0x31855d(0x430)]===_0x31855d(0x358));_0x1f480f&&(_0x1f480f['disabled']=!![],_0x1f480f['innerHTML']=_0x1fe9b4?_0x31855d(0x98e):_0x31855d(0x230));const _0x2b6ce9=new FormData(_0x4a09af),_0x401386=currentDisplayedQuiz[_0x31855d(0x13f)]['map']((_0x4fa2ea,_0x106da7)=>{const _0x551967=_0x31855d,_0x301f7a=_0x2b6ce9['get'](_0x551967(0xc78)+_0x106da7);let _0x456b4b;_0x3c9365==='mandatory'?_0x456b4b=_0x2b6ce9[_0x551967(0xc72)]('confidence'+_0x106da7):_0x456b4b=_0x2b6ce9[_0x551967(0xc72)](_0x551967(0xaaf)+_0x106da7)==='on';let _0x27883f=null;if(_0x301f7a!==null&&_0x301f7a!==undefined){const _0x184740=_0x4fa2ea[_0x551967(0x430)]||currentDisplayedQuiz[_0x551967(0x461)];_0x184740===_0x551967(0x6f2)||_0x184740===_0x551967(0x9b8)?_0x27883f=parseInt(_0x301f7a):_0x27883f=_0x301f7a;}return{'answer':_0x27883f,'wasConfident':_0x456b4b};}),_0x4f1160=currentQuizData['id'],_0x48f0f5=doc(db,_0x31855d(0x981)+appId+_0x31855d(0x1c4)+_0x4f1160+'/submissions',currentStudentName),_0x1ed7f2=await getDoc(_0x48f0f5),_0x1bd01a=_0x1ed7f2['exists']()?_0x1ed7f2[_0x31855d(0x366)]():{},_0x3d2465=_0x1bd01a['attempts']||[];await processAndSubmitAnswers(_0x401386,_0x3d2465);}async function gradeShortAnswerWithAI(_0x367395,_0x43e4f0){const _0x2c953f=_0x3db3a6;if(!_0x367395||!_0x43e4f0)return![];try{const _0x1345c4=_0x2c953f(0x4bb)+_0x367395+_0x2c953f(0xbd5)+_0x43e4f0+_0x2c953f(0xd9b),_0x4fbe22={'contents':[{'role':_0x2c953f(0x633),'parts':[{'text':_0x1345c4}]}]},_0x4f587f=_0x2c953f(0x7bd),_0x201a87=_0x2c953f(0x83e)+_0x4f587f,_0x151288=await fetch(_0x201a87,{'method':_0x2c953f(0x4df),'headers':{'Content-Type':'application/json'},'body':JSON[_0x2c953f(0x6b3)](_0x4fbe22)});if(!_0x151288['ok'])throw new Error('API\x20call\x20failed');const _0x2dc24d=await _0x151288[_0x2c953f(0xbff)](),_0x3914f0=_0x2dc24d['candidates'][0x0]['content'][_0x2c953f(0x5d5)][0x0]['text']['trim']()['toLowerCase']();return _0x3914f0===_0x2c953f(0x503);}catch(_0x35e678){return console[_0x2c953f(0xe4d)](_0x2c953f(0x94c),_0x35e678),![];}}async function processAndSubmitAnswers(_0x1f3cb4,_0xa9090b){const _0x446c54=_0x3db3a6;releaseWakeLock(),stopDimTimer();try{document[_0x446c54(0x48a)]&&await document['exitFullscreen']();}catch(_0x384d86){console[_0x446c54(0x1ef)](_0x446c54(0xb07),_0x384d86);}isQuizActive=![],document[_0x446c54(0xe2c)](_0x446c54(0xd0d),handleFullscreenChange),document['removeEventListener'](_0x446c54(0x914),handleVisibilityChange);let _0x2dc6cb=0x0;const _0x52a496=[],_0x3ccd30=currentDisplayedQuiz[_0x446c54(0x13f)][_0x446c54(0x110)];let _0x4b0540=0x0,_0x11bf66=[];const _0x141ff2=currentDisplayedQuiz[_0x446c54(0x13f)];for(let _0x21d713=0x0;_0x21d713<_0x141ff2['length'];_0x21d713++){const _0x17e9ff=_0x141ff2[_0x21d713],_0x2e8634=_0x1f3cb4[_0x21d713],_0x38ebdc=_0x2e8634?_0x2e8634[_0x446c54(0x9a9)]:null,_0x207cb0=_0x2e8634?_0x2e8634[_0x446c54(0x535)]:null;let _0x1daf6c=![],_0x5f451c=0x0;if(_0x38ebdc!==null&&_0x38ebdc!==''){const _0x5c71c3=_0x17e9ff[_0x446c54(0x430)]||currentDisplayedQuiz[_0x446c54(0x461)];switch(_0x5c71c3){case _0x446c54(0x1f4):_0x1daf6c=_0x38ebdc===_0x17e9ff['correctResponse'];break;case _0x446c54(0x50e):const _0x1d91a9=_0x38ebdc===!![]||_0x38ebdc===_0x446c54(0x503);_0x1daf6c=_0x1d91a9===_0x17e9ff[_0x446c54(0xad1)];break;case _0x446c54(0x1c8):case _0x446c54(0x358):_0x1daf6c=await gradeShortAnswer(_0x38ebdc,_0x17e9ff);break;case _0x446c54(0x6f2):case _0x446c54(0x161):default:_0x1daf6c=Number(_0x38ebdc)===_0x17e9ff[_0x446c54(0x7ed)];break;}}if(currentDisplayedQuiz[_0x446c54(0x477)]?.[_0x446c54(0x647)]){const _0x5bdbbd=_0x2e8634?_0x2e8634['wasConfident']:null;if(_0x1daf6c&&(_0x5bdbbd===!![]||_0x5bdbbd===_0x446c54(0x8a8)))_0x5f451c=0x2;else{if(_0x1daf6c)_0x5f451c=0x1;else{if(!_0x1daf6c&&(_0x5bdbbd===![]||_0x5bdbbd==='not_confident'||_0x5bdbbd===null))_0x5f451c=0x0;else!_0x1daf6c&&(_0x5bdbbd===!![]||_0x5bdbbd==='confident')&&(_0x5f451c=-0x1);}}}else _0x5f451c=_0x1daf6c?0x1:0x0;_0x2dc6cb+=_0x5f451c;if(_0x1daf6c){_0x4b0540++;if(_0x4b0540===0x3)_0x11bf66[_0x446c54(0x827)](BADGES[_0x446c54(0x4b0)]['id']);}else _0x4b0540=0x0;let _0xe40904=null;_0x17e9ff[_0x446c54(0xbed)]&&(_0x17e9ff[_0x446c54(0x430)]===_0x446c54(0x6f2)||_0x17e9ff[_0x446c54(0x430)]===_0x446c54(0x161))&&_0x38ebdc!==null?_0xe40904=_0x17e9ff[_0x446c54(0xbed)][_0x38ebdc]:_0xe40904=_0x38ebdc,_0x52a496[_0x446c54(0x827)]({'questionId':_0x17e9ff['id'],'answer':_0x38ebdc,'answerText':_0xe40904,'isCorrect':_0x1daf6c,'wasConfident':_0x207cb0,'pointsAwarded':_0x5f451c,'originalQuestionText':_0x17e9ff[_0x446c54(0x2f5)]||_0x17e9ff[_0x446c54(0xb0e)]});}const _0x3be6f1=_0x52a496['filter'](_0xdb4aa8=>_0xdb4aa8[_0x446c54(0xb7c)])[_0x446c54(0x110)],_0x2d4ddf=currentDisplayedQuiz['settings']?.[_0x446c54(0xe44)]??Math['floor'](_0x3ccd30/0x2);_0x3be6f1===_0x3ccd30&&_0x3ccd30>0x0&&!currentDisplayedQuiz[_0x446c54(0x4d6)]&&_0x11bf66[_0x446c54(0x827)](BADGES['PERFECT_SCORE']['id']);const _0x293e27=currentDisplayedQuiz['settings']?.[_0x446c54(0xe4b)];if(_0x293e27===_0x446c54(0xcdf)&&quizStartTime){const _0xba3d47=(new Date()-quizStartTime)/0x3e8,_0x1b83bb=currentDisplayedQuiz[_0x446c54(0x477)][_0x446c54(0x730)]*0x3c;_0x3be6f1>=_0x2d4ddf&&_0xba3d47<_0x1b83bb/0x2&&_0x11bf66[_0x446c54(0x827)](BADGES[_0x446c54(0xd8e)]['id']);}_0xa9090b['length']===0x0&&_0x3be6f1===_0x3ccd30&&_0x3ccd30>0x0&&_0x11bf66['push'](BADGES[_0x446c54(0xdd3)]['id']);if(_0xa9090b[_0x446c54(0x110)]>0x0){const _0x463ccd=_0xa9090b[0x0][_0x446c54(0x791)];if(_0x463ccd<_0x2d4ddf&&_0x3be6f1>=_0x2d4ddf){const _0x45c705=_0xa9090b[_0x446c54(0xbf4)](_0x555e08=>(_0x555e08[_0x446c54(0x6d1)]||[])[_0x446c54(0x2e8)](BADGES[_0x446c54(0x94a)]['id']));!_0x45c705&&_0x11bf66[_0x446c54(0x827)](BADGES[_0x446c54(0x94a)]['id']);}}_0xa9090b[_0x446c54(0x110)]===0x4&&_0x11bf66[_0x446c54(0x827)](BADGES[_0x446c54(0x415)]['id']);const _0x582e05=currentDisplayedQuiz[_0x446c54(0x477)][_0x446c54(0x5fc)];if(currentMode===_0x446c54(0x983)){handleResultDisplay(_0x582e05,_0x3be6f1,_0x2dc6cb,_0x11bf66,_0x52a496,_0x3ccd30);return;}const _0x25bfc=currentQuizData['id'],_0x558b7c=doc(db,_0x446c54(0x981)+appId+_0x446c54(0x1c4)+_0x25bfc+_0x446c54(0xb8f),currentStudentName);try{const _0x425d2d=[..._0xa9090b],_0x4d151d={'score':_0x3be6f1,'points':_0x2dc6cb,'badges':Array[_0x446c54(0x4e4)](new Set(_0x11bf66)),'submittedAt':new Date()[_0x446c54(0x848)](),'answers':_0x52a496};_0x425d2d[_0x446c54(0x827)](_0x4d151d);const _0x3b29fa=_0xa9090b[_0x446c54(0x110)]===0x0?_0x3be6f1:_0xa9090b[0x0]['score']||0x0,_0x27b1e4=Math['max'](..._0x425d2d['map'](_0x58c492=>_0x58c492[_0x446c54(0x791)]));await setDoc(_0x558b7c,{'studentName':currentStudentName,'totalQuestions':_0x3ccd30,'attempts':_0x425d2d,'firstScore':_0x3b29fa,'bestScore':_0x27b1e4,'latestScore':_0x3be6f1,'points':_0x2dc6cb,'latestSubmittedAt':_0x4d151d[_0x446c54(0xf2)]},{'merge':!![]}),await updateStudentProfile(currentQuizData['projectId'],currentStudentName),handleResultDisplay(_0x582e05,_0x3be6f1,_0x2dc6cb,_0x11bf66,_0x52a496,_0x3ccd30);}catch(_0x531cea){console['error'](_0x446c54(0x2c9),_0x531cea),showMessage(_0x446c54(0x41b));}}async function updateStudentProfile(_0x1d69b0,_0x50685b){const _0x459112=_0x3db3a6,_0x48372a=doc(db,'artifacts/'+appId+_0x459112(0xb91)+_0x1d69b0+'/studentProfiles',_0x50685b);try{const _0x4db6a3=query(collection(db,_0x459112(0x981)+appId+'/public/data/quizzes'),where('projectId','==',_0x1d69b0)),_0x150cde=await getDocs(_0x4db6a3),_0x4e8dfd=_0x150cde['docs'][_0x459112(0x87e)](_0x51fe0c=>_0x51fe0c['id']);let _0x35f899=0x0;const _0x2ded7d={},_0x2e4be8=_0x4e8dfd[_0x459112(0x87e)](_0xd8f8a2=>getDoc(doc(db,_0x459112(0x981)+appId+_0x459112(0x1c4)+_0xd8f8a2+_0x459112(0xb8f),_0x50685b))),_0x14e575=await Promise[_0x459112(0xd1a)](_0x2e4be8);_0x14e575[_0x459112(0x277)](_0x38ada2=>{const _0xcf76cb=_0x459112;if(_0x38ada2[_0xcf76cb(0xaed)]()){const _0x21a561=_0x38ada2[_0xcf76cb(0x366)]();_0x35f899+=_0x21a561['points']||0x0,_0x21a561[_0xcf76cb(0x57f)]&&_0x21a561[_0xcf76cb(0x57f)]['forEach'](_0x20d0cb=>{const _0x1f317e=_0xcf76cb;_0x20d0cb[_0x1f317e(0x6d1)]&&_0x20d0cb['badges'][_0x1f317e(0x277)](_0x57e19d=>{});});}}),await setDoc(_0x48372a,{'studentName':_0x50685b,'totalPoints':_0x35f899},{'merge':!![]});}catch(_0x8575ec){console['error']('Profile\x20recalculation\x20error:',_0x8575ec);}}function startAdminTest(){const _0x559a26=_0x3db3a6;if(!currentQuizData){showMessage(_0x559a26(0xbd1));return;}let _0x5ed753=JSON[_0x559a26(0x11c)](JSON[_0x559a26(0x6b3)](currentQuizData));currentMode=_0x559a26(0x983),currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView[_0x559a26(0x605)][_0x559a26(0xd74)](_0x559a26(0x9a0)),studentView['classList'][_0x559a26(0x31b)](_0x559a26(0x9a0)),studentInitialView[_0x559a26(0x605)][_0x559a26(0xd74)]('hidden'),studentNameSelectionView[_0x559a26(0x605)][_0x559a26(0xd74)]('hidden'),studentResultArea[_0x559a26(0x605)][_0x559a26(0xd74)](_0x559a26(0x9a0)),studentQuizArea[_0x559a26(0x605)][_0x559a26(0x31b)](_0x559a26(0x9a0)),quizStartTime=new Date(),displayQuizForStudent(_0x5ed753);}function handleResultDisplay(_0x44db7d,_0xbae108,_0x1692f1,_0x4bfd26,_0x5e7827,_0x3e3446){const _0x28aa43=_0x3db3a6;if(_0x44db7d==='manual_release'){displaySubmissionConfirmation();return;}const _0x5764f8=currentDisplayedQuiz['settings']?.[_0x28aa43(0xe44)]??Math['floor'](_0x3e3446/0x2),_0x4ac625=currentDisplayedQuiz['settings']?.[_0x28aa43(0x314)]??![],_0x591708=currentDisplayedQuiz[_0x28aa43(0x477)]?.[_0x28aa43(0x70b)]===!![],_0xe61f3c=_0xbae108<_0x5764f8,_0x3b1779=_0x44db7d===_0x28aa43(0x44e)||_0x44db7d===_0x28aa43(0x3fd);if(_0x591708&&_0xe61f3c&&!_0x3b1779){_0x44db7d===_0x28aa43(0x601)?displayResultsWithAnswers(_0xbae108,_0x1692f1,_0x4bfd26,_0x5e7827,_0x3e3446,!![]):displayLoopScreen(_0xbae108,_0x3e3446,_0x44db7d);return;}if(_0x4ac625&&_0xe61f3c){startAdaptiveFlow(_0x5e7827,_0xbae108,_0x3e3446);return;}switch(_0x44db7d){case'show_results_and_answers':displayResultsWithAnswers(_0xbae108,_0x1692f1,_0x4bfd26,_0x5e7827,_0x3e3446);break;case _0x28aa43(0xacd):displayResultsScoreOnly(_0xbae108,_0x1692f1,_0x4bfd26,_0x3e3446);break;case _0x28aa43(0x9b9):displayPassFailOnly(_0xbae108,_0x3e3446);break;case _0x28aa43(0x44e):displayHalfMarkResult(_0xbae108,_0x3e3446);break;case _0x28aa43(0x3fd):displayPerfectScoreResult(_0xbae108,_0x3e3446);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x2a40a2){const _0x482c28=_0x3db3a6;studentReadingArea[_0x482c28(0x545)]=_0x482c28(0x270);const _0x33444c=_0x482c28(0x58e)+_0x2a40a2+_0x482c28(0x142)+simpleMathPrompt+_0x482c28(0x7a5),_0x325c1f={'type':'OBJECT','properties':{'questionText':{'type':_0x482c28(0xa44)},'options':{'type':'ARRAY','items':{'type':_0x482c28(0xa44)}},'correctAnswerIndex':{'type':_0x482c28(0xc1d)},'explanation':{'type':'STRING'}},'required':[_0x482c28(0xb0e),_0x482c28(0xbed),_0x482c28(0x7ed),'explanation']},_0x392053={'type':'OBJECT','properties':{'topic':{'type':_0x482c28(0xa44)},'questions':{'type':_0x482c28(0x1ff),'items':_0x325c1f}},'required':[_0x482c28(0xe5f),_0x482c28(0x13f)]};try{const _0x19809d=await callAnalysisApi(_0x33444c,_0x392053);_0x19809d[_0x482c28(0x4d6)]=!![],studentReadingArea['classList']['add'](_0x482c28(0x9a0));const _0x6ec559={...currentDisplayedQuiz[_0x482c28(0x477)],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x19809d[_0x482c28(0x477)]=_0x6ec559,displayQuizForStudent(_0x19809d);}catch(_0xa8b5cb){console[_0x482c28(0xe4d)](_0x482c28(0x261),_0xa8b5cb),showMessage(_0x482c28(0x209)),showView('student');}}function displayPassFailOnly(_0x3becf4,_0x7c33ee){const _0x2be533=_0x3db3a6,_0x97e8c4=currentDisplayedQuiz['settings']?.[_0x2be533(0xe44)]??-0x1,_0x17bfa9=currentDisplayedQuiz[_0x2be533(0x4d6)]===!![];let _0x332e0e='',_0xf3b52d=![];if(_0x17bfa9||_0x97e8c4!==-0x1){_0xf3b52d=_0x17bfa9?_0x3becf4===_0x7c33ee:_0x3becf4>=_0x97e8c4;const _0xfe958e=_0xf3b52d?_0x2be533(0xd6f):'bg-red-100\x20text-red-800',_0x152a60=_0xf3b52d?_0x2be533(0x6eb):_0x2be533(0x3a3);_0x332e0e=_0x2be533(0x3cb)+_0xfe958e+'\x22>'+_0x152a60+_0x2be533(0x998);}else _0x332e0e=_0x2be533(0x9fa);let _0x589a7f=_0x2be533(0xb4f)+currentStudentName+_0x2be533(0xce0)+_0x332e0e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x2be533(0x545)]=_0x589a7f,studentResultArea[_0x2be533(0x605)]['remove'](_0x2be533(0x9a0)),studentQuizArea['classList'][_0x2be533(0xd74)](_0x2be533(0x9a0)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0xf3b52d});}function _0x3507(){const _0x463136=['p-2\x20bg-black/10\x20rounded-md','modal-confidence-mode-select','ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x201\x20ข้อ','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','นักดนตรี','border-gray-200','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-race','bg-black/10','pdf','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','shortcut-editor-modal','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','save-bp-settings-btn','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','Error\x20generating\x20lesson\x20plan:','globalAlpha','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','min','wager-amount-display','ไม่สามารถสร้างโปรเจคได้','rgba(239,\x2068,\x2068,\x200.7)','\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','focus','active','file-shortcut-container','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','(ไม่มีชื่อ)','scores-tab-btn','prod','พลังคลื่นเต่า','export-pdf-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','move-quiz-project-select','Error\x20updating\x20quiz\x20status:','add-file-shortcut-tab-btn','close-lesson-view-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','สายลับจับบ้านเล็ก','whole_quiz','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การปัดเศษและประมาณค่า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','transparent','comparison-chart','มือปราบสายรุ้ง','download','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','mandatory','use-powerup-revealOptions','lesson-plan-content','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','.group\x5c/dropdown','bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','close-additional-file-shortcuts-btn','players.','open-market-btn','docs','modal-shuffle-select','file-shortcut-name-input','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','instructions','groups','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','behavior-log-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','fas\x20fa-user-edit','.lastAnswerValue','Error\x20analyzing\x20blueprint\x20topics:','presentation-slide-container','file.txt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','mixed','cancel-crop-btn','ปิดใช้งาน','รายงานผลคะแนน','pinned-items','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.move-parallel-shortcut-menu-btn','ความเป็นอิสระของเหตุการณ์','fullscreenchange','visibilityState','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','Error\x20adding\x20students:','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','docChanges','centralPot','exitFullscreen','(กำลังไล่ตาม)','.pin-digit-box','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','cancel-test-btn','all','user-id-display','fontSize','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','team','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','กรุณาพิมพ์คำตอบ','<li>','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','[id^=\x22dropdown-list-\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','<span\x20class=\x22text-blue-300\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>🎓</span>','27411472','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300','screen','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-current-points=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','bp-add-topic-btn','message-modal','no-projects-msg','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','difficultyValue','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','answer-grid-container','getBoundingClientRect','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','ทำคะแนนเต็มในการทำครั้งแรก','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','goto-next-question-btn','projectView','</td>','preTScore','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','pointsLastQuestion','ai-quiz-app-aefee','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','confirm-create-project-btn','#file-shortcut-tabs-nav\x20.tab-name-input','):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','font-bold\x20text-green-700','✂️\x20ตัด\x201\x20ตัวเลือก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','activeGameSession','.quiz-bank-delete-btn','quiz-status-modal','BOOLEAN','after','การจัดหมู่\x20(Combination)','totalPoints','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','update','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isAnonymousRevealed','subTopic','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','</span>:\x20','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.csv','confidence-modal','-options','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','bg-blue-100\x20text-blue-800','bg-yellow-400\x20text-yellow-900\x20hover:bg-yellow-500\x20shadow-md\x20border-b-4\x20border-yellow-600\x20active:border-b-0\x20active:translate-y-1','บันทึกการตั้งค่าแล้ว','หน่วยมวล/น้ำหนักและการแปลง','generated','<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>','numQuestions','ไฟล์ทั้งหมด','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','ondragend','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','file-upload-input','join','bg-green-100\x20text-green-800','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกู้คืนข้อมูล...','196zrRyIh','.bp-create-content-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','th-TH','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สร้างโปรเจคสำเร็จ!','timer-duration-input','match',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','ซื้อ\x20\x22','กำลังเตรียมไฟล์...','.quiz-status-btn','ลบหัวข้อสำเร็จ','href','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','classWeaknesses','.parallel-quiz-btn','offsetWidth','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20w-full\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20sm:items-center\x20gap-3\x20flex-grow\x20min-w-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-shrink-0\x20w-8\x20h-8\x20flex\x20items-center\x20justify-center\x20rounded-full\x20bg-black/10\x20font-bold\x20text-lg\x20mt-1\x20sm:mt-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','url','.presentation-option','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','.export-pdf-list-btn','quiz-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สิงโตยิ้ม','QUICK_THINKER','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.delete-hidden-file-shortcut-btn','<div\x20class=\x22my-6\x22>','bg-white\x20text-gray-800','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','submission','eraser-tool-btn','text-yellow-800','drill-feedback','.delete-quiz-btn','sync-timer-enable-checkbox','Error\x20linking\x20quizzes:','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','.bp-game-btn','พื้นที่ผิวรูปทรงสามมิติ','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','teacherSuggestions','link-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x09\x09\x09\x0a\x09\x09\x09<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a</div>\x0a\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','คุณไม่มีไอเทมนี้ในคลัง\x20(กรุณาลองรีเฟรชหน้าจอ)','boolean','questionIndex','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','admin-view','\x22\x20name=\x22confidence','ไม่สามารถเพิ่มนักเรียนได้','ติดซีรีส์','width\x2060s\x20linear','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20right-0\x20top-0\x20transform\x20scale-90\x20origin-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','numeric','lowerGroupResponders','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier\x22\x20class=\x22','powerup','parseInline','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','เส้นตรง:\x20ขนาน/ตั้งฉาก','sync-player-management','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','lastIndexOf','save-file-shortcut-btn','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x20text-center\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การคูณ','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</div>','newOptionsPayload','removeItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20flex\x20justify-center\x20mt-8\x20pb-8\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22student-exit-game-btn\x22\x20onclick=\x22window.location.reload()\x22\x20class=\x22bg-red-600\x20hover:bg-red-700\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-full\x20text-xl\x20shadow-lg\x20transition-transform\x20transform\x20hover:scale-105\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sign-out-alt\x22></i>\x20จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','Error\x20saving\x20file\x20shortcut:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-name-selection-view','save-project-name-btn','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','นักเขียน','เปลี่ยนชื่อแบบทดสอบสำเร็จ','correctResponse','quiz-results-table-body','.delete-file-shortcut-tab-btn','manual-bp-content','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','cancel-quiz-status-btn','FIRST_TRY_ACE','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','กิจกรรมสิ้นสุดลงแล้ว','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','drop','FileReader\x20error:','quiz-id-input','\x22\x20สำเร็จ!','สมการเหตุผล\x20(rational)','</div></div></div>','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','</strong></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-manage-btn','hasPerfectScoreBonus','student-join-game-view','preventDefault','text-red-700\x20bg-red-100','เกิดข้อผิดพลาดในการแก้ไข','gamePin','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mean','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','flex\x20flex-col\x20gap-2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','pointerup','\x20(Player)\x20(ID:\x20','.edit-file-shortcut-btn','Error\x20loading\x20quiz\x20for\x20student:','Error\x20generating\x20hybrid\x20quiz:','.eraser-size-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','false','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','เส้นรอบรูป','<button\x20id=\x22use-powerup-secondChance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🔁\x20แก้ตัว\x20(','\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20p-3\x20border\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-left\x20flex\x20justify-between\x20items-center\x20hover:border-indigo-500\x20focus:ring-2\x20focus:ring-indigo-200\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.toggleMathDropdown(','isLooping','none','Error\x20committing\x20score\x20updates:','มุมและการวัดมุม','ไม่พบเอกสารการส่งงานของ\x20','\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22\x20','cos','maxHeight','modal-results-display-select','เกิดข้อผิดพลาด:\x20','modal-timer-duration-label','ท็อปฟอร์ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-center\x20py-3\x20px-4\x20rounded-lg\x20bg-gradient-to-r\x20from-yellow-400\x20to-yellow-600\x20text-black\x20font-extrabold\x20mb-3\x20animate-pulse\x20border-4\x20border-yellow-200\x20shadow-lg\x20text-xl\x20transform\x20scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','wasForced','bp-modal-passing-score-input','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','additional-shortcuts-list','underline','show-in-student-dashboard-checkbox','#FFFFFF','.ideal-answer-input,\x20.correct-response-input','.parallel-shortcut-btn','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','lesson-sections-container','กรุณาเลือกคำตอบก่อนครับ','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่ได้จับเวลา','#E5E7EB','camera-crop-btn','.answeredCurrentQuestion','math-topics-checkbox-container','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','อัศวินรัตติกาล','Error\x20processing\x20file\x20shortcut\x20click:','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','ผู้เชี่ยวชาญ','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-200\x20text-red-800','deselect-all-topics-btn','moveTo','stopPropagation','quadraticCurveTo','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','.quiz-bank-settings-btn','removeEventListener','quiz-search-input','summary','destination-out','Error\x20calculating\x20final\x20scores\x20with\x20pot:','file-default-','confidenceMode','Error\x20generating\x20teaching\x20content:','release','passcode-error-msg','touches','resize','\x22\x20จำนวน\x20','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','การบวก','player-count','str','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','<span\x20title=\x22','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','อยู่ในสาระการเรียนรู้ใด:','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','passingScore','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','tGain','bank-input-area','\x20คนที่ส่ง\x20ตอบถูก\x20(','\x0a\x20\x20\x20\x20<div\x20id=\x22cropper-modal\x22\x20class=\x22fixed\x20inset-0\x20bg-black\x20bg-opacity-90\x20z-[70]\x20hidden\x20flex\x20flex-col\x20items-center\x20justify-center\x20p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20w-full\x20max-w-4xl\x20h-[70vh]\x20bg-black\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20id=\x22image-to-crop\x22\x20src=\x22\x22\x20class=\x22max-w-full\x20max-h-full\x20block\x22\x20style=\x22display:\x20block;\x20max-width:\x20100%;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-crop-btn\x22\x20class=\x22bg-gray-500\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-gray-600\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x20ยกเลิก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-crop-btn\x22\x20class=\x22bg-green-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-green-700\x20font-bold\x20shadow-lg\x20transform\x20transition\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crop-alt\x22></i>\x20ตัดส่วนนี้\x20&\x20สแกน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>','oninput','timerMode','.live-answer-btn','error','อัปเดตแบบทดสอบเก่า\x20','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','ส่งคำตอบไม่สำเร็จ\x20กรุณาลองใหม่','attemptNumber','สายลมแห่งโชคชะตา','bp-modal-difficulty-level-select','.quiz-bank-move-btn','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','8825RDWqfj','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','file-shortcut-editor-modal','cancel-bulk-quiz-settings-btn','</a>','.move-shortcut-item','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-row','topic','projectName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','next-question-btn','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','center','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','...\x22)?','lower_group_count','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','กรุณาเลือกโปรเจคปลายทาง','sync-timer-duration-input','MathJax\x20typeset\x20error\x20(analytics):','trail','พาราโบลา','toLowerCase','admin','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','scores-tab-content','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','0\x200','sync-timer-countdown','ข้อที่\x20','webkitExitFullscreen','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','shortcuts-loading-msg','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','Error\x20listening\x20for\x20starred\x20quizzes:','<div\x20class=\x22mb-3\x20topic-category\x22>','duration-300','/public/data/liveGames','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','กรุณาเลือกคำตอบ','สเกลและแผนที่','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22selected-text-','ผู้พิชิตดาว','.bp-present-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','quiz-end-time','ยังไม่สร้าง','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','หนอนหนังสือ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','originalTopic','blueprint-topics-list-container','lesson-plan-modal','use-powerup-fiftyFifty','confirm-confident','dispatchEvent','Failed\x20to\x20generate\x20lesson:','ไม่พบโปรเจคที่ต้องการลบ','q-image-container-','touchend','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','pinnedProjects','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','เกิดข้อผิดพลาด','shuffle','wager-modal','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','lobby','project-detail-view','showRankings','ลำดับเรขาคณิต\x20(GP)','แปลงร่าง','questions_only','กำลังสร้างรูปภาพ\x20(ซ่อนผลลัพธ์)...','/preferences/main','bank-quiz-list','currentMode','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','อกหัก','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','comeback_king','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','.auto-resize-textarea','find','show-final-results-btn','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','word-break:\x20break-all;','generate-from-file-btn','save-blueprint-as-project-btn','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','original-mode-checkbox','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','submittedAt','กรุณาเลือกไฟล์ก่อน','selected-answer-index-hidden-wager','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lastAnswerCorrect','\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20text-sm\x20flex\x20items-center\x20min-h-[54px]\x22\x20','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เลือกและเริ่มสร้าง','/studentProfiles','/public/data/blueprintProjects','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','เกิดข้อผิดพลาดในการใช้ไอเทม','\x22\x20style=\x22','topic-bank-subtopic-name','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-list','pointContent','start','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','กรุณาเลือกโปรเจคก่อน','touchstart','(คัดลอก)\x20','.verification-result','.remove-parallel-shortcut-from-tab-btn','.delete-project-btn','export-image-btn','Error\x20joining\x20team\x20quiz:','length','.project-card-container','text-green-700\x20bg-green-100','Error\x20generating\x20from\x20link:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','#results-table','ทะเล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','2800eEoUpc','handleGenerateQuizFromBlueprintTopic','default-1','parse','submit','ฟังก์ชันยกกำลัง','tabId','fileShortcutsConfig','blueprint-shortcut-container','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','bg-green-400\x20text-white\x20font-bold','insertBefore','ฮิสโตแกรม','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','splice','.highlighter-color-btn','start-sync-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20border-gray-100\x20hover:bg-indigo-50\x20cursor-pointer\x20transition-colors\x20text-sm\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22window.selectMathOption(','modal-timer-duration-input','Market\x20entry\x20payment\x20failed:','อัปเดตสถานะสำเร็จ','manual-bp-project-name','แก้ไขสูตรคณิตศาสตร์\x20','typesetPromise','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','timeBonusThisQuestion','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','[data-topic-id]','หมูกระทะจะเยียวยาทุกสิ่ง','beforeend','ไม่พบข้อมูลการจับคู่','students','export-pdf-modal','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','ตัวเลือก\x20ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','\x5ctimes','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','questions','confirm-bulk-quiz-settings-btn','เสือซ่อนเล็บ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','Error\x20generating\x20parallel\x20test\x20from\x20bank:','เกิดข้อผิดพลาดในการสร้าง:\x20','.compare-results-btn','.edit-question-btn','</p><p><strong>เฉลย:</strong>\x20','bulk-confidence-mode-container','จำนวนข้อ:','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-yellow-300\x20ml-1\x22>+1\x20✨</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>เฉลยคำตอบข้อที่\x20','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการเข้าตลาดมืด','AudioContext','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','ลบแบบทดสอบสำเร็จแล้ว','Error\x20processing\x20file\x20for\x20AI:','thead','top','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','close-comparison-modal-btn','คุณสามารถใช้ตัวช่วยได้เพียง\x201\x20ครั้งต่อ\x201\x20ข้อครับ','คะแนนเต็ม','textarea[name=\x22team_answer\x22]',')\x22>','DOMContentLoaded','fill_in_with_choices','แก้ระบบสมการด้วยเมทริกซ์','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','explanation','%</span>','getBBox','กำลังดึงข้อมูลจากลิงก์...','เข้าตลาดมืดครั้งต่อไปเสียค่าธรรมเนียม\x201\x20Point\x20ยืนยัน?','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','Waiting\x20for\x20server\x20timestamp\x20for\x20timer...','.confidence-choice-btn','bg-green-500\x20hover:bg-green-600\x20text-white','hiddenOptions_q','parallel-default-1','บทเรียน','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','</span></p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','student-progress-view','reviewQuestionIndex','leaderboard-quiz-tab-content','ยืนยันการจับคู่','allResponses','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-student-initial-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','</select>','auto','mouseleave','rgba(79,\x2070,\x20229,\x201)','verify-answers-editor-btn','line-through\x20text-red-700','.application-options\x20button','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','quizMode','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','export-worksheet-pdf-btn','<div><input\x20type=\x22radio\x22\x20id=\x22q','mainTopics','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระบบอสมการ','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectSortOrder','use-powerup-cutOne','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','cancel-export-pdf-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>','finishReason','rgba(59,\x20130,\x20246,\x200.7)','order','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','setFont','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สุดยอด!\x20ตอบถูกทุกข้อ','mousemove','upperGroupResponders','quiz-generation-area','filter','.question-editor-item:last-of-type','stroke','.shortcut-btn','shortcut-id-input','querySelector','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','cursor','สร้างแบบทดสอบปรนัย','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','latestScore','ไฟล์ลัด\x201','เกมสิ้นสุดลงแล้ว','\x20เป็น\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-quiz','application/pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','fixedData','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','jspdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-blue-600\x22>','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','text-gray-200','บันทึกผลการเรียนเรียบร้อยแล้ว!\x20(โหมดประหยัดทรัพยากร)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','textContent','\x0a---\x0a','#open-additional-shortcuts-btn','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','confirm-team-players-btn','bg-[#EF4444]\x20text-white\x20font-bold','/public/data/quizzes/','comparison-individual-content','student-view','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_no_choices','NEGATIVE_INFINITY','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','การวัด','input[type=\x22text\x22]','#E0E7FF','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','shortcut-reference-url-input','toDataURL','createElement','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','</span>\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','scrollHeight','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','</tr>','<button\x20data-quiz-id=\x22','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','<span\x20class=\x22font-bold\x22>','(นำโด่ง)',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','touchmove','ภูเขา','leaderboard-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','#parallel-shortcut-tabs-nav\x20.tab-name-input','parallel-shortcut-editor-modal','first_try_ace','<p\x20class=\x22','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','passing-score-input','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','font-bold\x20text-red-700\x20line-through','getAttributeNS','กรุณากรอกเป็นตัวเลขเท่านั้น','warn','.ai-fix-formula-btn','<span>','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','matching_item','complexityValue','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-item-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20shrink-0\x20','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','Error\x20preparing\x20content\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','text-green-800','input[name=\x22syncVariant\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text-white','ARRAY','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>','toggleMathDropdown','คำตอบที่ถูกต้อง','Failed\x20to\x20resume\x20game\x20session:','flex','has','currentTime','mouseup','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','\x20(สำหรับ\x20','modal-passing-score-input','parallelShortcutTabs','การลบ','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','latestSubmittedAt','คะแนนยังไม่ถึงครึ่ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','\x22\x20x','\x22...','option','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20p-2\x20bg-red-600\x20text-white\x20rounded-lg\x20text-center\x20animate-bounce\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hand-holding-usd\x20fa-2x\x20mb-1\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-bold\x22>เดิมพันผิด!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-extrabold\x20text-yellow-300\x22>💸\x20เงินถูกยึดเข้ากองกลาง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','กำลังโหลดคลังข้อสอบทั้งหมด...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>','leaderboard-quiz-tab-btn','รูปสแควร์รูท\x20(surd)','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','pointerType','Error\x20starting\x20team\x20quiz:','div','draggable-text','.bp-create-topic-quiz-btn','message','แก้ไขชื่อหัวข้อย่อย:','playerIndex','black-market-settings-container','temp-loader-results','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','move-quiz-modal','\x20ข้อแล้ว!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-[10px]\x20text-white/90\x20mt-1\x20font-normal\x20bg-black/10\x20rounded\x20px-2\x20py-0.5\x20inline-block\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20⚠️\x20การใช้ตัวช่วย\x20(ยกเว้นเดิมพัน)\x20จะรีเซ็ต\x20Combo\x20เป็น\x200\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','check-answer-btn','ondblclick',':</span><span>','กราฟแท่ง\x20กราฟเส้น','พบข้อสอบ\x20','rename-quiz-modal','จำนวนคู่:','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20mx-1\x20text-lg\x22></i></span>','requestFullscreen','delete-all-students-btn','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','OCR\x20Error:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</li>','added','เทพทรู','toDate','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','icon','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','save-visibility-settings-btn','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','isPinned','การหารเศษส่วน','.generate-post-test-btn','fromCharCode','\x20\x0a\x20\x20\x20\x20','รอ...','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','ความสัมพันธ์ของมุม','ความเท่ากันทุกประการของสามเหลี่ยม','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','bg-red-50','ก่อนเรียน','Error\x20saving\x20parallel\x20shortcut:','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','preScore','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/players','start-presentation-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20from\x20parallel\x20test\x20file:','.delete-submission-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','AI\x20Formula\x20Fix\x20Error:','Remedial\x20quiz\x20generation\x20failed:','bg-gray-600','เกิดข้อผิดพลาดในการอ่านรูปภาพ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','/public/data/teamQuizzes','lastAnswerIndex','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','⚡️\x2050:50\x20ทำงาน!\x20ตัดตัวเลือกผิดออกไปแล้ว!','Error\x20generating\x20easy\x20version\x20quiz:','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','perQuestionStats','connect','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','export-leaderboard-excel-btn','manual_release','สอบปกติ','exponentialRampToValueAtTime','เมทริกซ์:\x20บวก/คูณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-orange-500\x20to-red-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-4\x20shadow-lg\x20animate-pulse\x20border-2\x20border-yellow-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-lg\x20font-extrabold\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ON\x20FIRE!\x20คะแนน\x20x2</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-fire\x20text-yellow-200\x20text-2xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-100\x22>ตอบถูกต่อเนื่อง\x20','forEach','destroy','รูปสี่เหลี่ยมและสมบัติ','\x22\x20min=\x221\x22\x20max=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','แบบเติมคำตอบ','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','(ตามมาติดๆ)','parallel-shortcut-id-input','หมดเวลา!\x20กำลังส่งคำตอบ...','thead\x20.sortable-header','bank-tab','getElementById','Error\x20saving\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','แผนการสอน','#ffffff','<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เข้าสู่ช่วงเฉลยคำตอบ\x20(Review)</button>','link-url-input','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','referenceUrl','bg-indigo-50','quiz-leaderboard-table','studentName','touchcancel','Firebase\x20initialization\x20failed:','ย้าย','progress-student-select','\x5cneq','คนโสด','sync-matching-select','bg-gray-50','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Export\x20Image\x20Error:','onerror','AI\x20Fix\x20Error:','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.tab-name-display','link-input-area','ไม่พบไฟล์\x20Test\x20Blueprint','showSlowResponders','<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x20shadow-xl\x20border-t-4\x20border-yellow-300\x22>','worksheet-input-area','ต้นฉบับ\x202','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','interesting-stats-wrapper','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','การจัดกลุ่มข้อมูล','Error\x20showing\x20quiz\x20detail\x20view:','passcode','close-pin-modal-btn','earned-badges-container','blueprint.pdf','pairedQuizId',';\x22\x20data-id=\x22','🔁\x20โอกาสครั้งที่สองทำงาน!\x20หากตอบผิด\x20คุณจะได้เลือกใหม่ทันที\x201\x20ครั้ง','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','end-team-quiz-btn','bg-green-500','คณิตการเงิน/บูรณาการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','bg-green-200','.move-shortcut-dropdown','quiz-form','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','fas\x20fa-star\x20text-yellow-500','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','text-emerald-900','global-activity-modal','originalQuestionText','anonymous','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','globalSettings','topics.','getContext','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','student-exit-game-btn','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','Error\x20saving\x20submission:','timer-duration-container','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x0aห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Miscalculation:**\x20คำนวณผิดในจุดสำคัญ\x20(เช่น\x20ลืมตัวทด,\x20ลืมหาร,\x20คูณผิดตำแหน่ง)\x0a2.\x20**Misconception:**\x20ใช้สูตรผิด,\x20สลับตัวแปร,\x20เข้าใจนิยามคลาดเคลื่อน\x0a3.\x20**Partial\x20Answer:**\x20ตอบสิ่งที่โจทย์ไม่ได้ถาม\x20(เช่น\x20โจทย์ถามเส้นรอบรูป\x20แต่ตอบพื้นที่)\x0a4.\x20**Unit\x20Trap:**\x20ลืมแปลงหน่วย\x20หรือแปลงผิด\x0a*ตัวลวงทุกข้อต้องดูสมจริงจนนักเรียนที่\x20\x27เกือบรู้\x27\x20หลงกลได้*\x0a','random','separate-by-content-from-file-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-center\x20items-end\x20gap-8\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','bulk-confidence-scoring-checkbox','dimmed','สถิติและความน่าจะเป็น','การบวกเศษส่วน','.use-hidden-file-shortcut-btn','ระยะทางและจุดกึ่งกลาง','pointsAwarded','bestScore','file.pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectSort','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','endTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.toggle-actions-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','values','.answers','<button\x20data-shortcut-id=\x22','includes','text-indigo-600','appendChild','ไม่มีคำอธิบาย','resultsSaved','answerValue','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','editable-text-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','นักกีฬา','stem','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','.rename-quiz-btn','ความคล้ายของรูป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','project-passcode-input','lineJoin','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','modal-confidence-mode-container','parallel-default-2','competition','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','<span\x20class=\x22ml-1\x20text-orange-500\x20animate-pulse\x20font-bold\x20text-sm\x22>🔥\x20x','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x20ml-1\x20hover:bg-red-500/20\x20rounded-full\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button></div>',')</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','include-images-checkbox','ธอร์ค้อนบิน','confidence-mode-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20sm:justify-end\x20w-full\x20sm:w-auto\x20pl-11\x20sm:pl-0\x20mt-1\x20sm:mt-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-70\x20sm:hidden\x22>คะแนนรวม:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-xl\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','cropper-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','ส่งคำตอบ','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-team-join','Error\x20deleting\x20quiz:','suspended','standardTopic','เรเดียนและการแปลงหน่วย','displayRank','isAdaptive','\x20<span\x20class=\x22text-orange-400\x20font-bold\x20animate-pulse\x20ml-1\x20text-lg\x20drop-shadow-sm\x22>🔥\x20x','clear-all-links-btn','practiceProblems','[data-topic-container-id]','เปลี่ยนโจทย์เติมคำ\x20ให้กลายเป็นแบบเลือกตอบ\x20(เฉพาะข้อที่มีตัวเลือกซ่อนอยู่)','Auto-cleanup\x20failed:','remove','#D1FAE5','end-sync-game-btn','</button>','เส้นจำนวน','P/อัน)','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','ไม่พบข้อมูลผู้เล่น','comparison-overall-tab','กำลังวิเคราะห์หัวข้อ...','student-rankings-modal','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','บันทึกการตั้งค่าการแสดงผลสำเร็จ','#view-rankings-btn','desc','ยินดีต้อนรับกลับ\x20','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','ยอดเยี่ยม','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','end-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','AI\x20did\x20not\x20return\x20any\x20content.','ไม่สามารถโหลดรายการโปรเจคได้','anon-show-answer-toggle','check-presentation-answer-btn','generate-from-topic-btn','name','unshift','toLocaleString','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','เกิดข้อผิดพลาดในการติดดาว','เงินงวด\x20(อนุกรมเงินงวด)','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','text-red-700','\x20กลุ่ม</p></div>','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','loader','<span\x20class=\x22font-bold\x20','retake-quiz-loop-btn','Error\x20generating\x20parallel\x20post-test:','text-red-800','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','การประยุกต์เวกเตอร์พื้นฐาน','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','สามเหลี่ยม\x20(ชนิด/สมบัติ)','webkitAudioContext','ลบโปรเจคสำเร็จแล้ว','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','leq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x20items-center\x20gap-2\x20p-4\x20bg-gray-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x22>เพิ่มข้อใหม่แบบ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22new-question-type-select\x22\x20class=\x22p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22multiple_choice\x22>ปรนัย\x20(4\x20ตัวเลือก)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22short_answer\x22>เติมคำ\x20(พิมพ์ตอบ)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22true_false\x22>ถูก/ผิด</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22matching_item\x22>จับคู่</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x20เพิ่ม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','px,\x20','leaderboard','Error\x20loading\x20blueprint\x20projects:','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','summaryContent','short_answer','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','team-player-status-grid','confirm-quiz-settings-btn','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','findIndex','ฟังก์ชันลอการิทึม','status','คณิตศาสตร์','</div></div>','\x20ครั้ง)</span></td>','Error\x20saving\x20to\x20question\x20bank:','rgba(16,\x20185,\x20129,\x200.7)','data','select-all-topics-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','playerName','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','จิงโจ้สโลว์ไลฟ์','ไม่มี','isDefault','modal-timer-mode-select','reveal-names-btn','save','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20scale-110\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','text-gray-300','bg-teal-500\x20hover:bg-teal-600\x20text-white','shortcut_','ปุ่มลัดทั้งหมด','body','responses','startTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','ownerSVGElement','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-gray-100\x20opacity-70','</span><span\x20class=\x22font-bold\x22>','open-global-live-btn','.delete-shortcut-tab-btn','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','on_fire','binom','รากที่สองและที่สาม','pow','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','text','delete-svg-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','แม่น้ำ','point','\x22\x20value=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','scrollIntoView','pre-test','ไม่พบข้อมูลแบบทดสอบ','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','/public/data/syncGames/','student-progress-content','button','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','Test\x20Blueprint','cdot','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','timer-duration-label','newOptions','badgesToAdd','.quiz-bank-present-btn','_opt','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','timed','ไม่ผ่าน','analyze-strengths-btn','topic-quiz-bank-modal','</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','then','<button\x20data-value=\x22','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','ส้มตำปูปลาร้า','student-project-leaderboard-tab','ลาเต้ไม่หวาน','game-start-mode','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','showInStudentDashboard','G-V90KRM0L63','<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','msRequestFullscreen','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-xs\x20bg-yellow-100\x20text-yellow-800\x20px-2\x20py-0.5\x20rounded-full\x20font-bold\x20ml-1\x20shadow-sm\x20border\x20border-yellow-300\x22\x20title=\x22ส่วนแบ่งจากคนตอบผิด\x22>+','additional-file-shortcuts-modal','marginBottom','student-team-selection-view','คะแนนเฉลี่ย','powerupUsedThisTurn','onkeydown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','additional-parallel-shortcuts-list','webkitRequestFullscreen','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','\x0a\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Rules):**\x0a\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความเข้าใจผิดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','Error\x20creating\x20project:','หัวข้อหลักใหม่','border-indigo-500','#e21b3c','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','การสร้างรูปด้วยวงเวียน–สันตรง','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ไม่มีตัวเลือก','state','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','bp-project-title','สรุปคะแนนของคุณ','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22แก้ไข\x20Points\x20ด้วยมือ\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pen\x20text-xs\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20class=\x22accent-gray-500\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','confirm-not-confident','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20renaming\x20quiz:','bulk-loop-until-pass-checkbox','showImproveButton','<div\x20id=\x22q-image-container-','cancel-quiz-edits-btn-footer','learningGaps','overline','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','.file-shortcut-btn[data-id=\x22','สายหมอก','scan-text-image-input','btn','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','input','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','Team\x20Quiz','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-80\x20ml-1\x20font-medium\x22>','กฎบวกและกฎคูณ','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-indigo-700','qIndex','สร้างคำถามแบบใช่/ไม่ใช่','Failed\x20to\x20kick\x20player\x20','<i\x20class=\x22fas\x20fa-pen\x22></i>','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','delete','transform','next-drill-btn','confidence-scoring-description','pointerdown','.generate-lesson-btn','execCommand','input[name=\x22drill_answer\x22]:checked','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','.file-topic-selection-btn','Error\x20saving\x20file\x20shortcut\x20config:','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','.live-answer-btn,\x20#sync-submit-btn','Error\x20generating\x20worksheet:','Error\x20submitting\x20group\x20answer:','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','onblur','perfect_score_status','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','คนคุย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','input[name=\x22syncVariant\x22]','keyup','ไอติมทอด','mode-switcher-btn','wager-slider','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','project-list','Error\x20updating\x20custom\x20topic:','.copy-quiz-id-list-btn','เกิดข้อผิดพลาดในการปักหมุด','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-80\x20ml-1\x20font-medium\x22>','Blueprint\x201','\x20ชุด)','blur','scrollX','lineWidth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','text-indigo-800','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','PERSEVERANCE','</p></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','autoTable','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','resume','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','.remove-file-shortcut-from-tab-btn','.question-editor-item[data-q-index=\x22','destination','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','afterend','stdDev','Error\x20saving\x20project\x20order:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x20relative\x22\x20style=\x22','click','instantWager','responses.','ไม่พบข้อมูลเกม','.scratchpad-content-wrapper','cancel-delete-btn','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','cancel-wager-btn','generated-quiz-container','วงรี','<div\x20class=\x22loader\x20mx-auto\x22></div>','questionType','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','\x5cge','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างแบบทดสอบ\x20\x22','รอผู้ควบคุมแสดงผลสรุปสุดท้าย...','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','shouldSaveResults','md:col-span-1','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','3504992vVztET','empty','\x20จาก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','Error\x20fetching\x20project\x20quizzes:','Error\x20starting\x20live\x20race:',')\x22><span\x20style=\x22','Error\x20toggling\x20pin\x20status:','blueprint-options-container','comparison','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','รูปแบบการให้เหตุผล','\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','content','confirmation-modal','half_mark_status','setAttribute','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','ทำคะแนนได้เกินครึ่ง','bulk-confidence-mode-select','🔁\x20โอกาสครั้งที่สอง','closest','<span\x20class=\x22font-bold\x20text-right\x20flex\x20items-center\x20justify-end\x20flex-wrap\x20gap-1\x22\x20style=\x22flex-shrink:\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toFixed','\x20จุด','Error\x20saving\x20manual\x20blueprint\x20project:','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','results-tab','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','join-live-game-btn','ใช่\x20/\x20ถูก','ไม่พบโปรเจค','พบ\x20Team\x20Quiz!','quizType','bg-red-700\x20text-white\x20font-bold','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-center\x20my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-lg\x20border-4\x20border-white/20\x20active:scale-95\x20animate-pulse\x20py-3\x20px-6\x20rounded-full\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20<span>เดิมพันหมดหน้าตัก!\x20(วัดดวง)</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-[10px]\x20opacity-90\x20font-normal\x22>(ผิด=โดดตบ\x2010\x20ครั้ง!)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','save-shortcut-btn','keyConcepts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','parallelTestShortcutsConfig','src','shortcut-blueprint-url-input','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cfrac{$1}{$2}','(คู่ขนาน)\x20','podium','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','leaderboard_','รอผู้ควบคุมไปข้อต่อไป...','ส่วนเบี่ยงเบนมาตรฐาน','input[type=\x22checkbox\x22]','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','settings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20fetching\x20lesson\x20content:','เรขาคณิตวิเคราะห์','<span\x20title=\x22ใช้ไอเทม\x22>','input[type=\x22radio\x22][value=\x22','\x20คนสุดท้าย!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-2xl\x20font-extrabold\x20text-yellow-300\x20drop-shadow-md\x22>','projectId','generate-from-parallel-test-btn',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','Error\x20updating\x20sort\x20preference:','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x20ทำงานอยู่!</div>','manage-tab-content','anon-settings-container','Error\x20calling\x20Gemini\x20API:','bg-green-200\x20text-green-900','แก้ไขปุ่มลัดจากไฟล์','fullscreenElement','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','bg-purple-600\x20text-white\x20hover:bg-purple-700\x20shadow-md','.question-editor-item','<span\x20title=\x22ใช้เวลา\x22>⏳</span>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','อินฟลูเอนเซอร์','สัญกรณ์วิทยาศาสตร์','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','Error\x20unlinking\x20quiz:','function','svg','student-back-to-home-btn','commonMistakes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','1365774tVLFqR','จำนวนเต็มลบ','.bp-live-btn','Error\x20submitting\x20team\x20answer:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','กฎของไซน์','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','highlighter-tools-group','<div\x20class=\x22absolute\x20top-4\x20left-4\x20bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>PIN:\x20<strong\x20class=\x22font-bold\x22>','Game\x20results\x20already\x20saved.\x20Skipping.','application','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','referenceFileUrl','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','.ai-content\x20h3','highlighter','เกิดข้อผิดพลาดในการลบโปรเจค','ฟังก์ชันค่าสัมบูรณ์','\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','parallel-default-','ON_FIRE','<div\x20class=\x22flex\x20gap-4\x22><button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22><i\x20class=\x22fas\x20fa-eye\x22></i>\x20เปิดเผยชื่อจริง</button><button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button></div>','ผ่านฉลุย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20สำเร็จ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ลิมิต','fileShortcutTabs','เกิดข้อผิดพลาดในการอัปเดต:\x20','startedAt','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','per-question-text','isJinxed','file-shortcut-id-input','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','ปริพันธ์ไม่จำกัด','uid','blueprint-project-manager-view','currentTarget','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','\x20|\x20','#FEE2E2','<button\x20data-value=\x220\x22\x20data-index=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','.start-presentation-list-btn','<option\x20value=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','เปิดใช้งาน','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','_opt0\x22\x20name=\x22question','progress-project-select','กองดอง','.project-card-container.opacity-50','MathJax','หมาป่าเดียวดาย','isRemedial','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','.file-shortcut-btn','bank-quiz-search-input','removed','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','admin-password-input','market-current-points','POST','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','from','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','กำลังสร้างแบบทดสอบจากหัวข้อ...','\x22\x20value=\x22true\x22\x20','.delete-question-editor-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยืนยันการกระทำ','ondragover','กลุ่ม:\x20','ยอดนักสืบ','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','bg-emerald-100','pollUsedThisTurn','สลับไปโหมดผู้ควบคุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','results-display-select','fa-user-astronaut\x20text-blue-700','GlobalWorkerOptions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','keydown','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','ท้องฟ้า','(เลือกแล้ว\x20','true','open-scratchpad-btn','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','ปริพันธ์จำกัด','shortcutOrder','กำลังจับคู่...','การยืนยันตัวตนล้มเหลว','modal-loop-until-pass-checkbox','Blueprint\x202','onSecondChance','new-question-type-select','true_false','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','topicName','comparison-modal','input-','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-points-btn\x20text-gray-400\x20hover:text-orange-500\x20transition-colors\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-student-name=\x22','เกิดข้อผิดพลาดในการสร้างห้องเกม','🛡️','gain','createdBy','confirm-quiz-status-btn','คำตอบผิด!\x20คุณได้โอกาสแก้ตัว\x201\x20ครั้ง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','fontFamily','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','🚀\x20คุณเดิมพันหมดหน้าตัก!','เกิดข้อผิดพลาดในการส่งคำตอบ','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','height','ผิด','.project-card-container:not(.opacity-50)','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22>💰\x20เดิมพันเลือกเอง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22use-powerup-wagerMultiplier-instant\x22\x20class=\x22','ai-quiz-app-aefee.firebasestorage.app','\x20ชุดสำเร็จ!','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','authed_project_','อัปเดตการตั้งค่าของแบบทดสอบ\x20','ระบบเลขและค่าประจำหลัก','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</body></html>','\x5cle','indexOf','Error\x20saving\x20shortcut\x20config:','label','width','ไก่ฟ้าพญาลอ','http://www.w3.org/2000/svg','wasConfident','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','ปลาทูคะนอง','behaviorLog','แบบทดสอบนี้หมดเวลาแล้ว','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','reduce','gradeLevel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','items','เพิ่มหัวข้อ\x20\x22','passcode-prompt-message','🌗\x2050:50','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','target','.lastAnswerIndex','innerHTML','global-quiz-search-input','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','onchange','text-gray-400\x20hover:text-indigo-600','.quiz-bank-checkbox:checked','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','274192258111','ค.ร.น.\x20(LCM)','Error\x20fetching\x20projects\x20for\x20move:','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','loader-text','การเรียงสับเปลี่ยน\x20(Permutation)','text-blue-800','use-powerup-','documentElement','ดวงดาว','พีชคณิตและฟังก์ชัน','bg-yellow-300\x20text-yellow-900\x20font-bold','.edit-custom-topic-btn','68ftXYRD','cancel-shortcut-edit-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','substr','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','.ideal-answer-input','bp-modal-include-images-checkbox','label[for=\x22num-questions\x22]','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','.ai-fix-question-btn','quiz-editor-modal','AI\x20request\x20was\x20blocked.\x20Reason:\x20','strategyScan','#26890c','Error\x20saving\x20user\x20preference:','selectedTopicNames','title','strokeStyle','.verification-result-editor','pen-tool-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-blue-400\x20to-cyan-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-undo-alt\x20fa-lg\x22></i>\x20<span>โอกาสครั้งที่สอง!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตอบผิดได้\x201\x20ครั้งโดยไม่เสียคะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','border-green-700','<div\x20class=\x22col-span-full\x20text-center\x20p-8\x20bg-black/20\x20rounded-lg\x20border-2\x20border-dashed\x20border-white/30\x22><i\x20class=\x22fas\x20fa-eye-slash\x20text-4xl\x20text-yellow-300\x20mb-4\x22></i><p\x20class=\x22text-xl\x20font-bold\x20text-white\x22>ตัวเลือกถูกซ่อนอยู่</p></div>','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','</span></td>','แบบปรนัย\x204\x20ตัวเลือก','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-red-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#ef4444;\x22\x20data-tooltip-target=\x22tooltip-hidden-incorrect\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-incorrect\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-red-400\x22>รายละเอียดคนตอบผิด:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-48\x20overflow-y-auto\x20space-y-1\x22>','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22!\x20Combo\x20ถูกรีเซ็ตเป็น\x200','post-test','ยกเลิกการจับคู่สำเร็จ','quick_thinker','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดู\x20Podium\x20<i\x20class=\x22fas\x20fa-trophy\x22></i></button>','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','.generate-content-btn','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','attempts','.topic-name-display','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','เหมียวขี้เซา','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Invalid\x20response\x20structure\x20from\x20AI.','ระยะจากจุดถึงเส้นตรง','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','สมการลอการิทึม','0\x20(รอโบนัส)','ชื่อหัวข้อห้ามว่าง','memoryContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','404\x20Not\x20Found','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.regenerate-question-editor-btn','text-emerald-800','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','แคลคูลัสเบื้องต้น','keys','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลบผลสอบของ\x20','analytics','เกิดข้อผิดพลาดในการลบหัวข้อ','live-player-management','ชีสเค้ก','scale','contains','frequency','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-yellow-400\x20to-orange-500\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>เวลาโบนัสทำงาน!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>+25%\x20เวลาคิดเพิ่มพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','removeAttribute','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22hidden\x20absolute\x20top-full\x20left-0\x20w-full\x20mt-1\x20bg-white\x20border\x20border-gray-300\x20rounded-lg\x20shadow-xl\x20max-h-60\x20overflow-y-auto\x20z-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','postScore','100px','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-white\x20mt-4\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','confidence-scoring-toggle','-tab-content','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22block\x20text-sm\x20mt-1\x20font-normal\x20text-red-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(ตอบถูก\x20x2\x20/\x20ตอบผิดเสียเงินเข้ากองกลาง!)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','nextElementSibling','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','presentation-short-answer-input','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','สร้างชุดคำถามจับคู่','\x22\x20name=\x22drill_answer\x22\x20value=\x22','ซื้อ\x20(','<div\x20class=\x22flex\x20flex-col\x20items-center\x20gap-2\x20my-4\x20p-2\x20bg-black/20\x20rounded-lg\x22><div\x20class=\x22flex\x20flex-wrap\x20justify-center\x20items-stretch\x20gap-2\x20w-full\x22>','minHeight','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','API\x20call\x20failed\x20with\x20status:\x20','Error\x20saving\x20visibility\x20settings:','not-found','back-to-student-home-btn','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','comparison-individual-tab','\x20แบบทดสอบลงในคลังสำเร็จ!','modified','hint','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#results-table\x20thead\x20tr','clientX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','เกิดข้อผิดพลาดในการอ่านไฟล์','\x20รายการ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','price','\x20รายการ...','itemId','lessonPlan','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x0a\x20\x20\x20\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20\x0a\x20\x20\x20\x20','parts','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','selected-topics-count','คุณมี\x20Points\x20ไม่พอ\x20(ซื้อได้สูงสุด\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','ทฤษฎีบทพีทาโกรัสและการประยุกต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเหล็กการสร้างตัวเลือก\x20(Distractor\x20Engineering):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ห้ามสุ่มตัวเลขมั่วๆ\x20มาใส่เป็นตัวหลอก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตัวเลือกที่ผิด\x20(Distractors)\x20ต้องเกิดจาก\x20\x22ความผิดพลาดที่พบบ่อย\x22\x20(Common\x20Misconceptions)\x20ของนักเรียนในเรื่องนั้นๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ตัวเลือกต้องดูสมเหตุสมผล\x20ไม่ใช่ผิดแบบเห็นได้ชัด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ถ้าเป็นโจทย์คำนวณ\x20ให้ดักทางคนที่ลืมทดเลข,\x20ลืมเปลี่ยนหน่วย,\x20หรือจำสูตรผิด','MathJax\x20re-render\x20failed:','triangle','Error\x20saving\x20lesson\x20to\x20project:','cancel-global-activity-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-4\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x20shadow-lg\x20border-2\x20border-green-400\x20transition-transform\x20hover:scale-105\x22\x20style=\x22min-height:\x20120px;\x20background-color:\x20#22c55e;\x22\x20data-tooltip-target=\x22tooltip-hidden-correct\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-4xl\x20mb-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20pointer-events-none\x22>ตอบถูก</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-hidden-correct\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-xl\x20p-3\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-2\x20border-b\x20border-gray-600\x20pb-1\x20text-green-400\x22>รายชื่อคนเก่ง:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-40\x20overflow-y-auto\x22>','.group','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a<button\x20data-quiz-id=\x22','.isScored',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','targetId','manual-bp-grade-level','file-shortcut-modal-title','การแจกแจงทวินาม\x20(พื้นฐาน)','วงกลม:\x20คอร์ดและเส้นสัมผัส','close-market-btn','players','opacity','parent','การแยกตัวประกอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','รอผู้ควบคุม','.edit-parallel-shortcut-btn','gameVariant','shortcuts','timer-bar','student-quiz-leaderboard-tab','question-analytics-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','scheduled_pending','อัตราส่วนและสัดส่วน','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','resultsDisplay','ส่วนเบี่ยงเบนเฉลี่ย','อยู่ในหัวข้อหลักใด:','แผนภาพกล่อง\x20(box\x20plot)','<div\x20class=\x22flex-1\x22></div>','show_results_and_answers','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','New\x20question\x20detected.\x20Cleaning\x20up.','reveal-answer-btn','classList','.quiz-bank-item','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','wasJinxed','sync-timer-duration-container','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','times','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.txt','bar','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','student-quiz-leaderboard-table-body','Re-grade\x20process\x20failed:','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','โดเมนและเรนจ์','<div\x20class=\x22w-full\x20text-center\x20py-2\x20px-3\x20rounded-lg\x20bg-yellow-500\x20text-black\x20font-bold\x20mb-3\x20animate-pulse\x20shadow-md\x22>','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20แกะข้อความจากรูปภาพนี้\x20(OCR)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20อ่านตัวอักษรทั้งหมดในรูปภาพ\x20ไม่ว่าจะเป็นภาษาไทยหรืออังกฤษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20จัดรูปแบบเว้นวรรคและบรรทัดให้เหมือนต้นฉบับมากที่สุด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20ไม่ต้องใส่คำนำหน้าอย่าง\x20\x22นี่คือข้อความ\x22\x20ให้ส่งคืนเฉพาะเนื้อหาในรูปเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','padStart','<p><strong>คำตอบของคุณ:</strong>\x20','checked','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','\x22,\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','grid-view-btn','Error\x20toggling\x20star\x20status:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','ใช้\x20\x22คำสาป\x22\x20กับ\x20','onloadend','ราชาคัมแบ็ก','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','blueprint-tab','.star-quiz-btn','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20id=\x22sync-short-answer-input\x22\x20inputmode=\x22decimal\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20max-w-lg\x20p-4\x20border-2\x20border-gray-300\x20rounded-lg\x20text-gray-800\x20text-3xl\x20text-center\x20font-bold\x20focus:border-indigo-500\x20focus:ring-2\x20focus:ring-indigo-200\x20outline-none\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20placeholder=\x220\x22\x20autocomplete=\x22off\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','.answered','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','user','neq','workerSrc','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','\x27\x20ในหัวข้อ\x20\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','ปริมาตร/ความจุและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','.file-shortcut-tab-btn','กรุณาวาง\x20URL\x20ของบทความก่อน','หมดเวลาสำหรับข้อนี้!','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','Error\x20unpairing\x20quizzes:','readAsDataURL','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dim-overlay','/questionBank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','กระต่ายตื่นตูม','isConfidenceScoringEnabled','\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x20text-base\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','idealAnswer','\x22\x20data-pre-test-id=\x22','\x27,\x20\x27','reference-pdf-upload','ยกเลิกการเชื่อมโยงสำเร็จ','fileShortcutOrder','confirm-move-quiz-btn','toBlob','.move-shortcut-menu-btn','verify-answers-btn','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','[*]','getDocument','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','❌\x20ไอเทมนี้ใช้ได้เฉพาะกับข้อสอบแบบตัวเลือกเท่านั้นครับ','viewBox','Error\x20editing\x20topic:','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','badgesCount.','image/png','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20bg-indigo-600\x20text-white\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x22></i>\x20Sync\x20Mode\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','input[type=\x22checkbox\x22]:checked','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','Blueprint\x20O-NET\x20ป.6','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','sync-timer-bar','\x22\x20class=\x22pin-project-btn\x20','sort','เกิดข้อผิดพลาดในการซื้อ','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','.png','.sort-indicator','Error\x20deleting\x20shortcut:','results-tab-content','ถูกต้อง!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-3\x20rounded-lg\x20transition-all\x20duration-300\x20','สร้างแบบทดสอบ','สำหรับหัวข้อ\x20\x27','modal-confidence-scoring-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','questionDisplayedAt','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','camera-input','clientY','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','#FCE7F3','กรุณาใส่ชื่อใหม่','.pin-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20opacity-75\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22hidden-correct-answer-','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/3\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','per_question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-500\x20to-slate-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-shield-alt\x20fa-lg\x22></i>\x20<span>ประกันภัยทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ป้องกันการเสียคะแนนหากตอบผิด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>','ไฟล์ลัด\x202','.score','points','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความแปรปรวน','canvas','confirm-crop-btn','querySelectorAll','student-result-area','.topic-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','spinner','pathname','analytics-tab-btn','ค่าสัมบูรณ์','.kick-player-btn-sync','.correct-response-input','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','export-leaderboard-pdf-btn','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','Error\x20deleting\x20project:','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','#4338ca','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','use-powerup-wagerMultiplier','inactive','file-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','ตลาดมืด\x20(0\x20P)','bg-indigo-600\x20hover:bg-indigo-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','\x20คะแนน\x20','_blank','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-price=\x22','<button\x20id=\x22student-back-to-home-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','parentElement','.topic-actions-view','PERFECT_SCORE','classic','AI\x20กำลังสแกนข้อความ...','.linkedQuizIds','candidates','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','color','Error\x20starting\x20group\x20quiz:','stringify','ai-quiz-generator-v3','\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20mb-6\x20p-4\x20bg-indigo-50\x20border-l-4\x20border-indigo-500\x20text-indigo-900\x20rounded-r-lg\x20shadow-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-bold\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exchange-alt\x20mr-3\x22></i>\x20คำชี้แจง:\x20จับคู่ข้อความต่อไปนี้ให้ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blockReason','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','code','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','topic_','194412cMAvRi','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22buy-time-confirm-btn\x20text-white\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20text-sm\x20','ผลรวมอนุกรม\x20(Σ)','isForcedConfident','bg-red-500','modal-close-btn','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','shortcutIds','circ','tan','student-reading-area','หยุดระบบจับเวลาหรี่หน้าจอ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','border-green-300\x20bg-green-50','default','file-default-2','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','removeChild','คำอธิบาย...','badges','backspace','\x5csum','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','ก้อนเมฆ','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','finished','realScore','save-game-results-checkbox','text-purple-600','<div\x20class=\x22my-2\x22>','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','anonymous_reveal_end','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','shuffle-setting-select','geq','answering','_opt1\x22>ไม่ใช่</label></div>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการนำผู้เล่นออก','log','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22buy-time-quantity-input\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-16\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20text-sm\x20text-center\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20value=\x221\x22\x20min=\x221\x22\x20max=\x22','standard','additional-file-shortcuts-list','upper_group_count','ผ่าน','Error\x20analyzing\x20file\x20for\x20topics:','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','<i\x20class=\x22fas\x20fa-ban\x22></i>\x20ใช้ไม่ได้','<span\x20class=\x22text-blue-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>🎓</span>','.color-palette-btn','\x22\x5cn','multiple_choice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','.pointsLastQuestion','จากไฟล์ที่แนบมานี้,\x20','badgesCount','close-student-rankings-btn','\x20(นั่นคือคุณ!)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20text-yellow-300\x20mt-2\x22>','backgroundColor','[data-topic-id=\x22','30431489EWLMkb','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','default-','Could\x20not\x20fetch\x20reference\x20file:','แผนการสอน:\x20','.submittedAt','overallGroups','กรุณาเลือกชื่อของคุณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','(รอคะแนน)','incorrect','บทเรียนเรื่อง:\x20','quiz-start-time','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','editor-quiz-topic','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','loopUntilPass','อัปเดตพฤติกรรมสำหรับ\x20','print','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แมวเก้าชีวิต','dblclick','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22','project-name-input','timer-mode-select','กำลังอ่านไฟล์อ้างอิง...','\x20จุดเรียบร้อยแล้ว','\x22\x20name=\x22question_single\x22\x20value=\x22','<li\x20class=\x22','approx','ฟังก์ชันราก\x20(root)','dragend','move','tab_','ยังไม่มีนักเรียนส่งงาน','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','cancel-blueprint-projects-btn','quiz-editor-questions-container','ลำดับการดำเนินการ\x20(PEMDAS)','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','blueprint-project-list','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','https://drive.google.com/uc?export=download&id=','bulk-quiz-settings-btn','Error\x20processing\x20parallel\x20shortcut\x20click:','selected-answer-index-hidden','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','<tr>','table','presentation-scratchpad-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','answerText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timerDuration','text-gray-300\x20hover:text-white','อสมการค่าสัมบูรณ์','pen','parallel-shortcut_','bp-reference-file-url','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','.edit-hidden-parallel-shortcut-btn','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','live-short-answer-input','สายตาสั้น','createOscillator','dashboardConfig','groups.','อินเวอร์สของเมทริกซ์','questionId','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','market-timer-bar','แบบทดสอบ:\x20','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','อสมการเชิงเส้น','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','answers','onclick','hasOwnProperty','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','bg-blue-500\x20hover:bg-blue-600\x20text-white','.doc','</p>','จับคู่เพื่อเปรียบเทียบผล','shadowBlur','.option-input','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','\x22\x20value=\x22','\x27Sarabun\x27,\x20sans-serif','Failed\x20to\x20get\x20standardized\x20topic:','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','.bp-create-onet-quiz-btn','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','sara','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ออฟฟิศซินโดรม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอ่านและเตรียมไฟล์...','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','SAFETY','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','disabled\x20bg-gray-400\x20cursor-not-allowed','<p\x20class=\x22text-green-700\x22><strong>(ไม่มีข้อมูลตัวเลือก)</strong></p>','.shortcut-list-item','project-title','overflow','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','.linkedQuizId','text-red-500\x20hover:text-red-700','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','.quiz-result-card','subTopics','next-question-timed-btn','ไม่พบข้อมูลข้อสอบหลังเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','txt','ondrop','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','reference_onet.pdf','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','ไม่สามารถโหลดคลังข้อสอบได้','สรุปผลสุดท้าย','lesson-view-title','parallel-test-upload-input','beginPath','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','lesson-plan-title','slowResponderCount','hover:bg-indigo-100','powerups.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','รหัสไม่ถูกต้อง','wagerAmount','player-list-lobby','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','generationConfig','ตัวเลือก\x20ค','<span\x20class=\x22text-yellow-200\x20font-bold\x22>','upperGroupNames','30px','ดาวสภา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สรุปผลการวิเคราะห์:\x5cn','<div\x20style=\x22','อัตราการเปลี่ยนแปลงทันที','<span\x20class=\x22text-xs\x20bg-yellow-100\x20text-yellow-800\x20px-2\x20py-0.5\x20rounded-full\x20font-bold\x20ml-1\x20shadow-sm\x20border\x20border-yellow-300\x22\x20title=\x22ส่วนแบ่งจากกองกลาง\x22>+','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','score','Error\x20saving\x20questions\x20to\x20practice\x20bank:','timer-container','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','result','\x20ตอบ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','ตัวแทนแห่งดวงจันทร์','pointercancel','เลือกโปรเจคเพื่อบันทึก','lowerGroupNames','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','adaptive-quiz-checkbox','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','next-sync-question-btn','total','.bp-try-btn','files','\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','student-name-select','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','มุมพิเศษ\x2030°-60°-90°','members','Failed\x20to\x20create/update\x20submission\x20record:','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','fixed','.bp-delete-topic-btn','close-lesson-plan-modal-footer-btn','ตะวันฉาย','ดาบพิฆาตอสูร','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x20transform\x20transition\x20hover:scale-105\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-700\x22></i><p\x20class=\x22font-bold\x20text-2xl\x20truncate\x22>','visible','ตัวเลือก\x20ก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-comparison-modal-footer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','.topic-selection-btn','classStrengths','เกิดข้อผิดพลาดในการเข้าร่วม:\x20','มี\x20Points\x20ไม่เพียงพอ','AIzaSyCtoNyZdnHyihAxOD_M0HTLKoWdB-vHM08','\x22\x20data-name=\x22','scale-125','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','count','add-student-btn','เกิดข้อผิดพลาดในการบันทึก','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','<div\x20class=\x22space-y-2\x22>','ตรวจทานเฉลยเสร็จสิ้น!','ผู้เล่น\x20','actions-container-','เกิดข้อผิดพลาดในการสร้างรูปภาพ','text-green-600\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','pre-test-checkbox','isArray','.space-y-1.pl-4','source_document.txt','\x5cdiv','บักแตงโม','\x22\x20name=\x22team_answer\x22\x20value=\x22','translate(','starred','insurance','Error\x20joining\x20sync\x20game:','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','open-sync-scratchpad-btn','การกระจายและการจัดหมู่','scheduled','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','live-player-list','suggestedAnswer','shortcutTabs','teachingContent','ai-quiz-app-aefee.firebaseapp.com','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','ส่งแล้ว','lineCap','บันทึกโปรเจค\x20\x22','split','มูเตลู','leaderboard-table-body','correctAnswerIndex','/public/data/projects','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','.tab-name-input','reference.pdf','export-compact-pdf-btn','ความน่าจะเป็นแบบมีเงื่อนไข','👁️\x20เผยตัวเลือก','Error\x20deleting\x20all\x20students:','floor','select','/public/data/syncGames','devicePixelRatio','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','20px','.project-card-content','text-red-600','\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-left\x22\x20style=\x22flex-shrink:\x200;\x20min-width:\x202.5rem;\x22>','fa-fire\x20text-orange-500','currentPoints','quiz-type-select','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','border-indigo-500\x20text-indigo-600','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x20transform\x20transition\x20hover:scale-105\x20z-10\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x20animate-bounce\x22></i><p\x20class=\x22font-bold\x20text-3xl\x20truncate\x22>','getPage','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่ใช่\x20/\x20ผิด','\x20border\x20border-white/10\x20shadow-sm\x22>','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%;\x20transition:\x20width\x200.5s\x20linear\x200s;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','strength-weakness-analysis-container','Authentication\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-600\x20text-white\x20text-center\x20py-4\x20px-6\x20rounded-xl\x20shadow-2xl\x20animate-pulse\x20border-4\x20border-red-800\x20relative\x20overflow-hidden\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-0\x20left-0\x20w-full\x20h-full\x20bg-white\x20opacity-10\x20transform\x20-skew-x-12\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20mb-2\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-shipping-fast\x20fa-lg\x22></i>\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>รออีก\x20','ตอบถูก\x203\x20ข้อติดต่อกัน','ตัวเลือก\x20ข','👁️','Unexpected\x20API\x20response\x20structure:','input[name=\x22team_player\x22]','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','แก้ไขคะแนน\x20Points\x20ของ\x20\x22','type','นักเดินทาง','2039806eyMmjb','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#10B981','create-project-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','ตรวจพบการออกจากหน้าจอครบ\x20','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','.hidden-option-input','ต้นฉบับ\x201','bp-modal-question-complexity-select','separate-by-content-checkbox','list','100%','ดาวTikTok','data:application/vnd.ms-word;charset=utf-8,','push','buyTime','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','open-quiz-bank-btn','มัธยฐาน','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','totalQuestions','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','Error\x20rendering\x20student\x20progress:','reference.txt','ไม่พบข้อมูลหัวข้อที่จะบันทึก','อุณหภูมิและการแปลง','input-slow-count','แก้ไขปุ่มลัด','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','project-quizzes-list','padding','perseverance','eraser-tools-group','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','quiz-bank-modal','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=','add-shortcut-tab-btn','จากเนื้อหาต่อไปนี้:\x20\x22','Error\x20joining\x20live\x20game:','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x20transform\x20transition\x20hover:scale-105\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x20truncate\x22>','<span\x20title=\x22โดนบังคับ\x22>👻</span>','addEventListener','dataset','PROMPT_PLACEHOLDER','จำนวนและการดำเนินการ','toISOString','\x20คู่\x20','scratchpad-close-btn','\x22\x20data-q-type=\x22','\x20รายการสำเร็จ!','shuffledQuiz','z-index:\x20','Error\x20opening\x20quiz\x20editor:','enable-passcode-checkbox','game-pin-input','bg-green-100','display','currentQuestionIndex','สาระที่\x201','จันทร์เจ้า','file-topics-list-container','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความต่อเนื่อง','</label></div>','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>','commit','มังกรกินจุ','Error\x20verifying\x20answers:','open','confirm-join-game-btn','opacity-50','asc','sqrt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','submissions','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','<div\x20class=\x22flex\x20flex-wrap\x20gap-1\x22>',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','round','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','cancel-game-start-btn','เรขาคณิต','view-my-progress-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','start-quiz-btn','สอบซ่อม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20p-3\x20bg-blue-50\x20rounded\x20border\x20border-blue-100\x20font-semibold\x20text-blue-800\x20flex\x20items-start\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-indigo-600\x20text-lg\x20mt-[-2px]\x22>','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20\x20\x20-\x20','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','localeCompare','dragover','application/json','<button\x20id=\x22next-review-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>เฉลยข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','map','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','sine','sync-submit-btn',')</span></div>','bg-red-100\x20text-red-800','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','topic-tab','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','transformOrigin','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','คำถามถัดไป','bp-topic-list-container','N/A','promptFeedback','<div\x20id=\x22slow-responder-container\x22\x20class=\x22mt-6\x20w-full\x20max-w-4xl\x20mx-auto\x20px-4\x22></div>','.live-summary-tooltip.visible','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getScreenCTM','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','.flex.justify-between.items-center','.move-file-shortcut-dropdown','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พบ\x20Sync\x20Game!','close-presentation-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','แท็บใหม่','string','Error\x20in\x20generating\x20from\x20files:','ไม่ได้ตอบ','input[name=\x22syncVariant\x22][value=\x22','ยอดเยี่ยม!','manage-tab','export-tutor-pdf-btn','.\x20\x0a\x20\x20\x20\x20แต่ละข้อมี\x20','show-leaderboard-btn','answer-counter','.shortcut-tab-btn','frac','สร้างคำถามแบบเติมคำในช่องว่าง','line-height:\x201.3;\x20min-width:\x200;','confident','.start-live-race-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Save\x20complete\x20(Optimized\x20Read)','/public/data/blueprintProjects/','\x22><i\x20class=\x22fas\x20','text-blue-700','กำลังสแกนหาแบบทดสอบเก่า...','admin-dashboard','<span\x20class=\x22text-red-400\x20ml-1\x22>⚠️</span>','สร้างคำถามใหม่\x201\x20ข้อ\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','บันทึกแบบทดสอบสำเร็จแล้ว!','นักวิทยาศาสตร์','พื้นที่วงกลม/ส่วนของวงกลม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','generate-from-text-btn','.edit-quiz-btn','\x20|\x20ID:\x20','.start-game-btn','mjx-container','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','previousElementSibling','#confidence-input-','\x20quizzes\x20into\x20global\x20cache.','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22order-badge\x20bg-indigo-600\x20text-white\x20text-xs\x20font-bold\x20px-2\x20py-1\x20rounded-full\x20hidden\x20shadow-sm\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','max','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20gap-1\x20sm:gap-3\x20min-w-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','test','\x20ตัวเลือก.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','both','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','save-bp-reference-btn','ชื่อโปรเจคห้ามว่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','file-shortcut-url-input','.ai-content\x20p','fix-lesson-latex-btn','สร้างใหม่','<span\x20class=\x22text-yellow-300\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>👑</span>','รีเซ็ตลำดับโปรเจคแล้ว','สู้ๆ\x20ลองอีกครั้งนะ','ความชันเส้นสัมผัส','sync-short-answer-input','dfrac','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20**ตรวจสอบความถูกต้อง:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้อง\x20->\x20ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20**กรณีผิดหรือข้อมูลไม่ครบ\x20(สำคัญ):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20หรือเป็นค่าว่าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20หรือถ้า\x20\x22options\x22\x20ว่างเปล่า\x20หรือมีแต่ค่าขยะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และ\x20**ต้องสร้าง\x20\x22newOptionsPayload\x22**\x20ขึ้นมาใหม่\x20โดยมีกฎเหล็กดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20**ต้องเป็น\x20Array\x20ที่มี\x20String\x20จำนวน\x204\x20ตัวเลือกเสมอ**\x20(ห้ามขาด\x20ห้ามเกิน)\x20ประกอบด้วยคำตอบที่ถูก\x201\x20ข้อ\x20และตัวลวงสมเหตุสมผล\x203\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20ตำแหน่ง\x20(0-3)\x20ของข้อที่ถูก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องตรวจสอบ:\x20','bg-gray-200\x20text-gray-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','reset-project-order-btn','.summary-bar-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','/public/data/quizzes','การบวกทศนิยม','ไม่พบข้อมูลโปรเจค','เกี่ยวกับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','-9999px','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','export-leaderboard-word-btn','Sync\x20Mode','lesson-loader','<button\x20id=\x22use-powerup-buyTime\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>⏳\x20ซื้อเวลา\x20(','Original\x20quiz\x20not\x20found','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','text/csv;charset=utf-8;','.pdf','schedule','เปิด\x20(จับเวลา)','cancel-move-quiz-btn','bg-yellow-50','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','เต่าสายฟ้า','การแปลงรูปอัตลักษณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','isPasscodeEnabled','</strong></p>','readAsArrayBuffer','</span><button\x20data-player-name=\x22','\x20\x20\x20-\x20คำตอบ:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตัวประกอบและตัวประกอบเฉพาะ','fa-dumbbell\x20text-gray-700','<span\x20class=\x22text-blue-300\x20ml-1\x22\x20title=\x22เทพวิชาการ\x22>🎓</span>','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','getItem','ควรปรับปรุง','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวงขั้นสูง\x20(Advanced\x20Distractor\x20Rule):**\x20ห้ามใช้ตัวเลขสุ่ม!\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ต้องออกแบบมาอย่างจงใจเพื่อดักจับ\x20\x22Misconception\x22\x20ของนักเรียน:\x0a1.\x20**Calculation\x20Error:**\x20คำนวณผิดในขั้นตอนสุดท้าย\x20หรือลืมทด\x0a2.\x20**Concept\x20Error:**\x20ใช้สูตรผิด\x20หรือสลับตัวแปร\x0a3.\x20**Unit\x20Error:**\x20ลืมแปลงหน่วย\x0a*ตัวลวงทุกข้อต้องเป็นคำตอบที่นักเรียนที่\x20\x22รู้ไม่จริง\x22\x20มีโอกาสตอบได้*\x0a','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','index','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cutOne','font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','parallel-shortcut-modal-title','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-additional-shortcuts-btn','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','visibilitychange','.draggable-text','Group\x20Mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','start-game-btn','Error\x20starting\x20sync\x20game:','เกิดข้อผิดพลาดในการจับคู่','score-distribution-chart','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','เตรียมพบกับผลสรุปสุดท้าย','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','Error\x20fetching\x20student\x20rankings:','ดีมาก','อนุพันธ์:\x20ผลคูณ/ผลหาร','cancel-quiz-settings-btn','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','element','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','หัวข้อที่สร้างเอง','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','#retake-for-improvement-btn','num-questions','ชนิดของข้อมูลและการเก็บข้อมูล','CEOพันล้าน','close-topic-bank-btn','postTScore','โลมาบิน','ชาไข่มุก','\x20สำเร็จ','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','link-tab','fa-shield-alt\x20text-gray-600','กำลังสร้างแบบทดสอบ:\x20','(พยายามอยู่)','live-game','mode','worksheet-tab','.topic-category','getCroppedCanvas','list-view-btn','mouse','results','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','starred-project','checkAnswer','sin','ตัวแปรและนิพจน์','replaceChild','modal-message','COMEBACK_KING','\x20in\x20all\x20blueprint\x20projects.','AI\x20grading\x20failed:','shadowColor','key','scratchpad-question','replace','transition','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','border-gray-300','results-table-container','\x5ccdot','</h4>','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','.edit-points-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20mt-2\x20opacity-90\x20font-medium\x20bg-black/20\x20inline-block\x20px-3\x20py-1\x20rounded-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20รีบตอบหน่อยจ้า!\x20เพื่อนรออยู่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','join-group-activity-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20วินาที','baseVal','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','student-initial-view','modal-timer-duration-container','project-detail','pop','.bp-unlink-quiz-btn','คำถาม...','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','<span\x20class=\x22text-yellow-300\x20ml-1\x22\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>','bg-white','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-gray-700\x20to-gray-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-gray-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-ghost\x22></i>\x20<span>ถูกบังคับมั่นใจ!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20opacity-80\x22>ต้องเดิมพันด้วยความมั่นใจสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22><span\x20style=\x22','teacherTips','project-search-input','คำเตือน\x20(','slide-counter','pointermove','slice','results-quiz-title','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','confirm-manual-bp-btn','left','กาแฟขม','กำลังดึงไฟล์อ้างอิงจากลิงก์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22><i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','blueprint-input-area','คุณมี\x20Points\x20ไม่พอ\x20(ต้องใช้\x201P)','bp-modal-num-choices','\x20ตัวเลือก.\x20','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','นินจาชาเขียว','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','artifacts/','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','admin-testing','save-settings-btn','Error\x20resetting\x20project\x20order:','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','.toggle-hidden-options-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','prev-question-btn','manage','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gameData','ค่าเสื่อมราคา','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โจรสลัดอวกาศ','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','bg-black/20','ใช่','highlighter-size-slider','นักล่าฝัน','class','back-to-dashboard-from-results-btn','</span></div>','ไม่พบแบบทดสอบ','สรุปอันดับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loop-until-pass-checkbox','toString','cloneNode','parallel-shortcut-name-input','hidden','เปลี่ยนชื่อโปรเจคสำเร็จ','text/plain','เพิ่มรายการที่เลือก','</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-6\x20text-center\x22>สรุปอันดับ\x20(รายบุคคล)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-2\x22>','text-content-input','\x20/\x20','pointsToAdd','Error\x20deleting\x20student:','answer','specialist','ไม่ใช่','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ceil','.use-hidden-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20กำลังประมวลผล...','ร้อยละประยุกต์','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','ไม่พบห้องเกมด้วยรหัสนี้\x20หรือเกมจบไปแล้ว','undefined','\x22\x20value=\x22false\x22\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PIN:\x20<strong\x20class=\x22font-bold\x22>','fill_in_the_blank','show_pass_fail_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passcode-input-container','startsWith','เกิดข้อผิดพลาดในการบันทึกโปรเจค','circle','\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','```json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22',')</button>','textAlign','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','manage-players-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div><span\x20class=\x22text-xs\x20bg-white/20\x20px-2\x20py-0.5\x20rounded-full\x20whitespace-nowrap\x22>คุณ</span></div>','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','-tab','ไฮเพอร์โบลา','จำนวนเชิงซ้อน\x20(เสริม)','bulk-quiz-settings-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','\x22>ไม่ใช่</p>','ไม่พบตารางสำหรับ\x20Export','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x20mr-2\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','fill','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy',';\x22\x20data-tooltip-target=\x22tooltip-','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/practiceBank','\x20to\x20','Error\x20processing\x20shortcut\x20click:','_opt0\x22>ใช่</label></div>','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','now','student-project-leaderboard-content','transition-transform','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.game-start-btn','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','bg-green-200\x20text-green-900\x20font-bold','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','1gfnkfU','potBonus','file-default-1','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','per-question-timer-container','.topic-actions-edit','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','ใช้ข้อมูลเพื่อนจาก\x20Cache\x20(ประหยัดเน็ต)','globalCompositeOperation','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','\x20<span\x20class=\x22text-orange-500\x20animate-pulse\x20font-bold\x22\x20title=\x22On\x20Fire!\x20(x2\x20Points)\x22>🔥\x20x','confirm-game-start-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','00:00','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','สร้างแล้ว','save-parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','file-shortcut-tabs-nav','applicationContent','abs','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','slow-responder-container','<h1></h1>','grid','text-green-600','กรุณาใส่ชื่อนักเรียน','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','bg-gray-400\x20text-gray-600\x20cursor-not-allowed\x20border-b-4\x20border-gray-500\x20opacity-70','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','parallel-test-tab','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.lastAnswerCorrect','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','confirm-rename-quiz-btn','คาถาแยกเงาพันร่าง','</tbody></table>','applicationData','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปริมาตรรูปทรงสามมิติ','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','topics','restore','reveal_at_end','</tbody></table></div>','per-q-countdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','create-from-bank-btn','\x20pointer-events-none\x22>','<button\x20data-id=\x22','ความคาดหมาย\x20(Expected\x20value)','justification','fix\x20the\x20option','สถานะไม่ชัดเจน','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','game-start-modal-title','cancel-manual-bp-btn','substring','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','pin-entry-modal','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','correctStreak','เพิ่ม\x20','dataIndex','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','back-to-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','parallel-shortcut-tabs-nav','\x22>(','ยังไม่เต็มนะ','ข้าวมันไก่พิเศษ','\x20ข้อ...','createGain','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.ai-content\x20li','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-modal-num-questions','project-sort-select','handleGenerateAndShowLesson','คนดีศรีสยาม','รายการนี้','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','STRING','size','$$$1$','hint-btn','write','cancel-quiz-edits-btn','<span\x20class=\x22ml-2\x20text-orange-500\x20animate-pulse\x20font-bold\x22>🔥\x20x','decode','powerupUsed_q','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระยะเวลา\x20(นาที):','name_desc','ตรีโกณมิติ','รอเปิด','qType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','group','student-passcode-input','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','เกิดข้อผิดพลาดในการใช้ตัวช่วย','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','<button\x20data-tab-id=\x22','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','zIndex','generated-quiz-actions','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','redo-btn','select[name=\x22question_single\x22]','document','generate-from-link-btn','\x22\x20data-target-tab-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','ป่าไม้','cancel-parallel-shortcut-edit-btn','transition-all','กำลังค้นหากิจกรรม...','ค่าคลาดเคลื่อนของการวัด','เวกเตอร์และเมทริกซ์\x20(เสริม)','เกิดข้อผิดพลาดในการโหลดโปรเจค','entries','ไม่พบแบบทดสอบสำหรับรหัสนี้','source_document.pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','เลือกและบันทึก','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','smooth','results_','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','quiz-leaderboard-table-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/20\x20hover:bg-white/30\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x20backdrop-blur-sm\x20border\x20border-white/20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-500\x20disabled:cursor-not-allowed\x20shadow-lg\x22\x20','Enter','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','\x22><p\x20class=\x22font-semibold\x22>','AI\x20ไม่ส่งผลลัพธ์กลับมา','msExitFullscreen','setAttributeNS','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-yellow-200','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-canvas','กำลังสร้างคำถามข้อ\x20','value','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','Error\x20adding\x20custom\x20topic:','อนุพันธ์:\x20กฎพื้นฐาน','sync','ถูก','shortcut-tabs-nav','แบบทดสอบที่ติดดาว','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submission-status-chart','$1\x5c%','scratchpad-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.ai-content\x20blockquote','.status','solution','numChoices','Error\x20deleting\x20custom\x20topic:','answeredCurrentQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-yellow-50\x20border\x20border-yellow-200\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20mb-2\x20text-yellow-800\x20text-xs\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye-slash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ตัวเลือกที่ถูกซ่อน\x20(ใช้สำหรับไอเทม\x20\x22เผยตัวเลือก\x22\x20ใน\x20Sync\x20Mode)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22>','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','live-submit-short-answer-btn','กรุณาป้อนรหัสแบบทดสอบ','```','.bp-edit-topic-btn','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','2-digit','.move-file-shortcut-menu-btn','ตลาดมืด\x20(','revealOptions','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','deltaY','ถ้าคุณตอบข้อนี้ผิด\x20คุณจะได้เลือกตอบอีก\x201\x20ครั้ง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','ตรวจคะแนนใหม่\x20','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','confidence','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.admin-try-quiz-list-btn','presentation-explanation','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','text-gray-500','.edit-hidden-file-shortcut-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-quiz-id-display','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','พื้นที่สี่เหลี่ยม','bg-green-200\x20text-green-800','input[type=\x22radio\x22]:checked','rename-quiz-input','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','ฟังก์ชันผกผัน','Error\x20during\x20blueprint\x20link\x20cleanup:','Error\x20listening\x20for\x20custom\x20math\x20topics:','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','multiply','confidence_single','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','การลบเศษส่วน','\x20แล้ว!','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20sm:w-1/2\x20relative\x20custom-math-dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20name=\x22question','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.pair-quiz-btn','#FEF3C7','show_results_only','use-powerup-wagerMultiplier-instant','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','correctAnswer','bg-gray-400','กรุณาป้อนหัวข้อสำหรับใบงาน','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','[data-field=\x22subTopic\x22]','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','bg-[#DCFCE7]\x20text-green-900','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','.delete-svg-btn','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','cancel-passcode-btn','far\x20fa-star','border-indigo-200','Error\x20updating\x20points:','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','Error\x20clearing\x20all\x20links:','<div\x20class=\x22','student','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','parseFromString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','isStarred','close-lesson-plan-modal-btn','generate-from-blueprint-btn','/3</span></div>','exists','ย้ายแบบทดสอบไปโปรเจคอื่น','17289bmgZkh','bg-green-50','%PDF','<button\x20data-value=\x221\x22\x20data-index=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>','ต้นฉบับทั้งหมด','position','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','⚡️\x20ตัดตัวเลือกผิดออกไป\x201\x20ข้อแล้ว!','every','touch','onload','bg-gradient-to-r\x20from-red-500\x20to-pink-600\x20text-white\x20shadow-md\x20border-b-4\x20border-red-800\x20active:border-b-0\x20active:translate-y-1','\x20mb-2\x22>','/users/','close','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','lesson-view-content','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','<span\x20class=\x22sort-indicator\x20ml-2\x22>','\x22\x20class=\x22w-full\x20p-1\x20border\x20border-dashed\x20border-gray-400\x20rounded-md\x20bg-gray-50\x20hidden-option-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','matching','Error\x20duplicating\x20quiz:','Fullscreen\x20exit\x20failed\x20(safe\x20to\x20ignore):','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','file-tab','manual-blueprint-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20sm:justify-end\x20w-full\x20sm:w-auto\x20pl-11\x20sm:pl-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20opacity-70\x20sm:hidden\x22>คะแนนรวม:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-xl\x22>','team-quiz-topic','ฟังก์ชันแบบชิ้นส่วน','questionText','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดีเทอร์มิแนนต์','confirm-link-quiz-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','ระบบสมการเชิงเส้นสองตัวแปร','bg-[#4ADE80]\x20text-green-900\x20font-bold','Failed\x20to\x20apply\x20jinx:','nickname-input','sum','setValueAtTime','...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22\x20data-topic=\x22','publicLeaderboard','createObjectURL','not_generated','contentEditable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','presentation-modal','.open-bp-project-btn','student-quiz-leaderboard-content','นักประดิษฐ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','👑\x20','blueprintUrl','จำนวนคละ','กรุณาตั้งชื่อแท็บใหม่:','handleGeneratePracticeTest','ย้ายแบบทดสอบสำเร็จ','คุณใช้ตัวช่วย\x20\x22','เศรษฐีดูไบ','ไม่มีผู้ตอบตัวเลือกนี้','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x20backdrop-blur-sm\x20border\x20border-white/10\x20shadow-sm\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','linearRampToValueAtTime','กำลังกลับเข้าสู่เกม\x20(Admin)\x20(ID:\x20','back-to-dashboard-btn','จำนวนเต็มบวก','เส้นตรง:\x20รูปแบบสมการ','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','mousedown','<tr\x20class=\x22','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','/public/data/customMathTopics','.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อมี\x20','wheel','text-blue-700\x20bg-blue-100','checkbox','กรุณาสร้างบทเรียนก่อน','ปรับเพิ่ม/ลดเป็นร้อยละ','\x22.\x20','stop','text-input-area','placeholder','show-results-btn','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','powerups','num-choices','blueprint-settings-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งพิเศษเรื่องตัวเลือก\x20(Distractors):**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ในการสร้างโจทย์ข้อใหม่\x20ห้ามสุ่มตัวลวงมั่วๆ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตัวลวงต้องมีความ\x20\x22สมมูล\x22\x20กับข้อสอบต้นฉบับ\x20คือดักทางผิดในจุดเดียวกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เช่น\x20ถ้าต้นฉบับดักคนลืมคูณ\x202,\x20โจทย์คู่ขนานของคุณก็ต้องมีตัวลวงที่ดักคนลืมคูณ\x202\x20เช่นกัน\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**กฎเพิ่มเติม:**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','admin-password-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isScored','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','lesson-loader-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','<div\x20class=\x22p-2\x20rounded-md\x20','เน็ตไอดอล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','promise','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ค่าความจริง/ตารางค่าความจริง','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','<br>','shortcutId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','confirm-game-start-modal','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','<span\x20class=\x22text-xs\x20bg-yellow-100\x20text-yellow-800\x20px-2\x20py-0.5\x20rounded-full\x20font-bold\x20ml-1\x20border\x20border-yellow-300\x20shadow-sm\x22\x20title=\x22ส่วนแบ่งจากกองกลาง\x22>+','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','isFinished','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','Error\x20starting\x20game:','quiz-results','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','pen-tools-group','blueprint-upload-input','blueprint-projects-modal','.custom-math-dropdown','isSyncGame','Error\x20moving\x20quiz:','isCorrect','.cancel-edit-topic-btn','<div\x20class=\x22my-4\x22><div\x20id=\x22sync-timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200/50\x20rounded-full\x20h-2.5\x22><div\x20id=\x22sync-timer-bar\x22\x20class=\x22bg-yellow-400\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div></div><p\x20class=\x22text-center\x20text-sm\x20text-yellow-300\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22sync-timer-countdown\x22\x20class=\x22font-bold\x22>','student-name-input','doc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','fa-crown\x20text-yellow-500','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','additional-parallel-shortcuts-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20title=\x22เจ้าพ่อตลาดมืด\x22>👑</span>\x20','\x20คนสุดท้าย!</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-3xl\x20font-extrabold\x20text-yellow-300\x20tracking-wide\x20drop-shadow-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20ไม่สามารถอ่านข้อความได้','confirmation-message','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','black-market-modal','fiftyFifty','createdAt','/submissions','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','/public/data/projects/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','custom-math-topic-input','set','firstElementChild','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','<span\x20class=\x22text-orange-400\x20font-bold\x20ml-2\x20text-sm\x20animate-pulse\x22>🔥\x20x','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','stepByStepExamples','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','showAnswerInAnonymous','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20items-center\x20gap-1\x20min-w-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-lg\x20truncate\x20break-words\x20max-w-[180px]\x20sm:max-w-xs\x20leading-tight\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setItem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','fa-bolt\x20text-blue-500','\x22\x20class=\x22w-12\x20p-0.5\x20text-black\x20text-center\x20rounded\x20font-bold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-manage-btn\x22\x20class=\x22text-gray-400\x20hover:text-white\x20px-2\x22><i\x20class=\x22fas\x20fa-chevron-up\x22></i>\x20ซ่อน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-start\x20gap-2\x20max-h-32\x20overflow-y-auto\x20custom-scrollbar\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lesson-view-modal','powerupUsed','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pen-color-btn','innerText','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','submit-team-answer-btn','secondChance','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','numPages','auto-fix-latex-btn','ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ','<span\x20class=\x22block\x20text-sm\x20','ผู้ไม่ยอมแพ้','change','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x22','bp-modal-shuffle-setting-select','.mb-6.p-4','quiz','comparison-overall-content','block','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','ใช้ไอเทม\x20','\x20สำเร็จ!','OBJECT','className','quizId','กำลังสร้างเนื้อหา:\x20','#F3E8FF','memory','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เน็ตช้า','file-topics-list','\x20to\x20blueprint\x20topic\x20','includeImages','สมการเชิงเส้นตัวแปรเดียว','Auto-linking\x20new\x20quiz\x20','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','close-additional-parallel-shortcuts-btn','div[data-question-index=\x22','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','choices_only','\x22.\x20Ideal\x20Answer:\x20\x22','cancel-admin-login-btn','(ก่อนเรียน)','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','เนื้อหาสำหรับสอน:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-blue-100','Error\x20saving\x20reference\x20URL:','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','curriculum','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','blueprint-topics-list','https://corsproxy.io/?','analytics-tab-content','playerNicknames','usedBuyTime','text-yellow-300','กำลังอัปเดตแบบทดสอบ\x20','md:col-span-3','timestamp','style','1:274192258111:web:4120c9118229b5644dd48a','options','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','\x20p-3\x20rounded-lg\x20flex\x20flex-col\x20gap-2\x20border-2\x20border-black/10\x20shadow-sm\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20sm:flex-row\x20sm:items-center\x20sm:justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-3\x20w-full\x20sm:w-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-shrink-0\x20w-8\x20h-8\x20flex\x20items-center\x20justify-center\x20rounded-full\x20bg-black/10\x20font-bold\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','applicationHTML','ปวดหลัง','กำลังอ่านไฟล์\x20Test\x20Blueprint...','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','some','fadeStartTime','px)\x20scale(','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','linkedQuizIds','export-lesson-to-pdf-btn','.color-palette-popup','แบบทดสอบจากคลังส่วนตัว','Error\x20loading\x20user\x20preferences:','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(ไม่ตอบ)','json','\x20link(s)\x20for\x20quiz\x20ID:\x20','bg-red-100\x20text-red-900','\x20Pot</span>','ondragstart','\x22\x20ให้เป็นคำถามประเภท\x20\x22','<span\x20title=\x22โดนคำสาป\x22>😈</span>','firstScore','</td></tr>','</span>\x20วินาที</p></div>','\x5cpm','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','rows','สลับไปโหมดนักเรียน','ยูทูปเบอร์ฝึกหัด','eraser','copy','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','คะแนนเต็ม!','textarea','<button\x20id=\x22open-market-btn\x22\x20class=\x22','correct','Error\x20saving\x20shortcut:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','/lessons','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20pin\x20status:','\x22\x20class=\x22delete-project-btn\x20','.parallel-shortcut-tab-btn','คนที่\x20','NUMBER','catch','💰\x20โหมดเดิมพันทำงาน!\x20เลือกคำตอบเพื่อเปิดหน้าต่างเดิมพัน','Failed\x20to\x20apply\x20forceConfident:','pointsLastRound','perfect_score','AI\x20แก้ไขคำถามสำเร็จ!','create-project-btn','ศูนย์','reset-view-btn','Error\x20saving\x20parallel\x20shortcut\x20config:','bulk-results-display-select','trim','Exact/Numeric\x20checks\x20failed.\x20AI\x20grading\x20is\x20DISABLED.','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','enable-black-market-checkbox','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ข้อต่อไป','offset','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20flex\x20justify-center\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','Loaded\x20','ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)','-\x20ข้อ\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20rounded-md\x20hover:bg-gray-100\x20cursor-pointer\x20border\x20border-transparent\x20hover:border-gray-200\x20transition-all\x20select-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','แก้ไขหัวข้อสำเร็จ','generate-worksheet-btn','#open-additional-parallel-shortcuts-btn','question-complexity-select','Copy\x20command\x20failed','scratchpad-clear-btn','worksheet-topic-input','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','freeMarketEntryUsed_q',',\x20r=','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','<div\x20class=\x22flex\x20items-center\x20gap-2\x22><div>','กำลังสร้างบทเรียน:\x20','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>กำลังรอข้อมูลผู้เล่น...</h2></div>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x20(\x22','<span\x20title=\x22ใช้\x20','load-quiz-btn','additional-shortcuts-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','insertAdjacentHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','</option>','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x20relative\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x20leading-tight\x20max-w-5xl\x22>','.regenerate-question-btn','short','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','-options\x22>','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','pin','difficulty-level-select','เซียนสมองไว','game-start-quiz-id','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','force-math-checkbox','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','ฟังก์ชันสัมพัทธ์\x20(rational)','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','confidence-choice-btn','<p><strong>คำตอบที่แนะนำ:</strong>\x20','topicId','.shortcut-list-item:not(.opacity-50)','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','responseSchema','(หลังเรียน)\x20','scrollY','answered','1000px','wakeLock','.pen-size-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','โหลดข้อมูลเพื่อนใหม่จาก\x20Server...','bold','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','disabled','get','dropdown-list-','shortcut-modal-title','date_desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-purple-500\x20to-indigo-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-adjust\x20fa-lg\x22></i>\x20<span>50:50\x20ทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตัดตัวเลือกผิดออก\x202\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','question','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','.delete-parallel-shortcut-btn','tool','toggle','.delete-parallel-shortcut-tab-btn','parentNode','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','scan-text-image-btn','cancel-create-project-btn','confidence-scoring-checkbox','cancel-rename-quiz-btn','ref','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','เกิดข้อผิดพลาดในการสร้างใบงาน','สมการตรีโกณมิติ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','isBlackMarketEnabled','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','imageCode','toLocaleDateString','shortcut-name-input','wagerMultiplier','use-powerup-secondChance','button[type=\x22submit\x22]','.duplicate-quiz-btn','preTestId','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','.move-parallel-shortcut-item','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','helvetica','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','projectOrder','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ไม่ระบุ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20w-full\x20max-w-4xl\x20mx-auto\x20px-4\x20fade-in\x22\x20id=\x22slow-responder-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-600\x20text-white\x20text-center\x20py-3\x20px-6\x20rounded-xl\x20shadow-2xl\x20animate-pulse\x20border-4\x20border-red-800\x20relative\x20overflow-hidden\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-lg\x20font-bold\x20mb-1\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-shipping-fast\x22></i>\x20<span>รออีก\x20','\x20ข้อ\x20','parallel-shortcut-url-input','team-student-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','???','category','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','เพิ่มปุ่มลัดจากไฟล์ใหม่','bp-quiz-settings-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','Error\x20joining\x20activity:','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','\x20คะแนน\x20(','จำนวนนักเรียน','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','ม้าดีดกะโหลก','bp-modal-quiz-type-select','market-item-list','</h3>','overflowY','คัดลอกไม่สำเร็จ','parallel-test-input-area'];_0x3507=function(){return _0x463136;};return _0x3507();}function cancelAdminTest(){const _0x57781c=_0x3db3a6;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x57781c(0xe2c)](_0x57781c(0xd0d),handleFullscreenChange),document[_0x57781c(0xe2c)](_0x57781c(0x914),handleVisibilityChange),currentMode='admin',studentView[_0x57781c(0x605)]['add'](_0x57781c(0x9a0)),adminView['classList'][_0x57781c(0x31b)]('hidden'),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView('project-detail');}function setupResultScreenBackButton(_0x23c016){const _0x528163=_0x3db3a6,_0x4b235e={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x23c016};if(_0x4b235e[_0x528163(0xdfe)]){const _0x8c3648=_0x528163(0x22b);studentResultArea[_0x528163(0xc4c)](_0x528163(0x136),_0x8c3648),document[_0x528163(0x283)]('retake-quiz-loop-btn')['addEventListener'](_0x528163(0x425),()=>{const _0x1eb1bf=_0x528163;studentResultArea[_0x1eb1bf(0x605)]['add'](_0x1eb1bf(0x9a0)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x4669da='back-from-results-btn',_0x272a22=currentMode===_0x528163(0x983),_0x8fc5b8=_0x272a22?_0x528163(0xddf):_0x528163(0xcaa);let _0x3e4142='';_0x4b235e[_0x528163(0xda)]&&(_0x3e4142+='<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>');let _0x2c46c0=_0x4b235e[_0x528163(0x3d4)];_0x2c46c0===undefined&&(_0x2c46c0=_0x4b235e[_0x528163(0x791)]<_0x4b235e[_0x528163(0x82d)]);_0x2c46c0&&(_0x3e4142+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x3e4142+='<button\x20id=\x22'+_0x4669da+_0x528163(0x8f3)+_0x8fc5b8+_0x528163(0x31e);const _0xece7e8=_0x528163(0xd81)+_0x3e4142+'</div>';studentResultArea[_0x528163(0xc4c)](_0x528163(0x136),_0xece7e8),studentResultArea['querySelector'](_0x528163(0x328))?.[_0x528163(0x844)](_0x528163(0x425),handleShowStudentRankings);const _0x4c65cc=studentResultArea['querySelector'](_0x528163(0x92b));_0x4c65cc&&_0x4c65cc['addEventListener']('click',()=>{const _0x45b99c=_0x528163;studentResultArea[_0x45b99c(0x605)][_0x45b99c(0xd74)](_0x45b99c(0x9a0)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x528163(0x283)](_0x4669da)['addEventListener']('click',()=>{const _0x2d4206=_0x528163;_0x272a22?(currentMode=_0x2d4206(0xa9),studentView[_0x2d4206(0x605)][_0x2d4206(0xd74)]('hidden'),adminView[_0x2d4206(0x605)][_0x2d4206(0x31b)](_0x2d4206(0x9a0)),showView(_0x2d4206(0x964))):(showView(_0x2d4206(0xae3)),document[_0x2d4206(0x283)](_0x2d4206(0xddb))[_0x2d4206(0xa89)]='');});}function displayResultsWithAnswers(_0x26a66c,_0x2bbab6,_0x2848e3,_0x371f96,_0x5994d0,_0x5caa52=![]){const _0xf22701=_0x3db3a6,_0xa211ac=_0x5994d0>0x0?_0x26a66c/_0x5994d0*0x64:0x0,_0x339b0d=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x198d82=currentDisplayedQuiz[_0xf22701(0x4d6)]===!![];let _0x5d0a6e='';if(_0x198d82||_0x339b0d!==-0x1){let _0x4c763f=_0x198d82?_0x26a66c===_0x5994d0:_0x26a66c>=_0x339b0d;const _0x7acb77=_0x4c763f?_0xf22701(0xd6f):_0xf22701(0x883),_0x3d6021=_0x4c763f?'ผ่าน':_0xf22701(0x3a3);_0x5d0a6e=_0xf22701(0x9ac)+_0x7acb77+'\x22>'+_0x3d6021+_0xf22701(0x74f);}let _0x1736d7=_0xf22701(0x3d9)+currentStudentName+_0xf22701(0xb54)+_0x26a66c+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x5994d0+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5d0a6e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x2bbab6+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0xa211ac[_0xf22701(0x457)](0x0)+_0xf22701(0xdc9);currentDisplayedQuiz[_0xf22701(0x13f)]['forEach']((_0x2d29bb,_0xde633e)=>{const _0x57dfe3=_0xf22701,_0x5ea8e1=_0x371f96[_0xde633e],_0x140935=_0x5ea8e1[_0x57dfe3(0x9a9)],_0xb411ac=_0x5ea8e1[_0x57dfe3(0xb7c)],_0x1e14b9=_0x2d29bb['questionType']||currentDisplayedQuiz['quizType'];_0x1736d7+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0xb411ac?_0x57dfe3(0x6cb):'border-red-300\x20bg-red-50')+_0x57dfe3(0xa80)+(_0xde633e+0x1)+'.\x20'+(_0x2d29bb[_0x57dfe3(0x2f5)]||_0x2d29bb[_0x57dfe3(0xb0e)])+_0x57dfe3(0xbd2);switch(_0x1e14b9){case _0x57dfe3(0x1f4):const _0x4a9f67=_0x140935||_0x57dfe3(0x89c),_0x550158=_0x2d29bb['correctResponse'];_0x1736d7+=_0x57dfe3(0x9ff)+(!_0xb411ac?_0x57dfe3(0x185):'')+'\x22>'+_0x4a9f67+_0x57dfe3(0x173);!_0xb411ac&&(_0x1736d7+=_0x57dfe3(0x4a8)+_0x550158+'</p>');break;case _0x57dfe3(0x1c8):case _0x57dfe3(0x358):_0x1736d7+=_0x57dfe3(0x61a)+(_0x140935||_0x57dfe3(0x89c))+_0x57dfe3(0x74f),_0x1736d7+=_0x57dfe3(0x155)+_0x2d29bb[_0x57dfe3(0x649)]+_0x57dfe3(0x74f);break;case _0x57dfe3(0x50e):_0x1736d7+=_0x57dfe3(0x1e7)+(_0x2d29bb[_0x57dfe3(0xad1)]===!![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x140935===_0x57dfe3(0x503)&&!_0xb411ac?'line-through\x20text-red-700':'')+'\x22>ใช่</p>',_0x1736d7+='<p\x20class=\x22'+(_0x2d29bb['correctAnswer']===![]?_0x57dfe3(0xd4a):'')+'\x20'+(_0x140935===_0x57dfe3(0xdf9)&&!_0xb411ac?_0x57dfe3(0x185):'')+_0x57dfe3(0x9d3);break;case _0x57dfe3(0x6f2):case'fill_in_with_choices':default:if(_0x2d29bb[_0x57dfe3(0xbed)]&&Array['isArray'](_0x2d29bb['options']))_0x1736d7+=_0x2d29bb[_0x57dfe3(0xbed)][_0x57dfe3(0x87e)]((_0x42b693,_0x56b681)=>{const _0x38bc83=_0x57dfe3;let _0x50d49e='',_0x9abd83='';if(_0x56b681===_0x2d29bb[_0x38bc83(0x7ed)])_0x50d49e=_0x38bc83(0xd4a),_0x9abd83=_0x38bc83(0x4bc);else _0x56b681===_0x140935&&(_0x50d49e=_0x38bc83(0x1ec),_0x9abd83=_0x38bc83(0xad6));return _0x38bc83(0xae2)+_0x50d49e+'\x22>'+_0x9abd83+_0x42b693+_0x38bc83(0xdc0);})[_0x57dfe3(0xd6e)]('');else{_0x1736d7+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x140935||'ไม่ได้ตอบ')+_0x57dfe3(0x74f);if(!_0xb411ac)_0x1736d7+=_0x57dfe3(0x764);}break;}_0x1736d7+=_0x57dfe3(0xa2d)+(_0x2d29bb['explanation']||_0x57dfe3(0x2eb))+_0x57dfe3(0xdc0);if(!_0xb411ac){const _0x488b15=_0x2d29bb['stem']||_0x2d29bb['questionText'];_0x1736d7+=_0x57dfe3(0x974)+escape(_0x488b15)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x1736d7+=_0x57dfe3(0xdc0);}),studentResultArea[_0xf22701(0x545)]=_0x1736d7,renderEarnedBadges(_0x2848e3,_0xf22701(0x2ab)),studentResultArea['classList']['remove'](_0xf22701(0x9a0)),studentQuizArea['classList']['add']('hidden'),setupResultScreenBackButton({'isLooping':_0x5caa52,'score':_0x26a66c,'totalQuestions':_0x5994d0,'showRankings':!![]});if(window[_0xf22701(0x4d4)])window[_0xf22701(0x4d4)][_0xf22701(0x130)]([studentResultArea]);}function displayResultsScoreOnly(_0x520009,_0x130e13,_0x52eab2,_0x405a53){const _0x34a584=_0x3db3a6,_0x40d443=_0x405a53>0x0?_0x520009/_0x405a53*0x64:0x0,_0x256f15=currentDisplayedQuiz[_0x34a584(0x477)]?.[_0x34a584(0xe44)]??-0x1,_0x4c945f=currentDisplayedQuiz[_0x34a584(0x4d6)]===!![];let _0x251137='';if(_0x4c945f||_0x256f15!==-0x1){let _0x4ed5ed=_0x4c945f?_0x520009===_0x405a53:_0x520009>=_0x256f15;const _0x205080=_0x4ed5ed?_0x34a584(0xd6f):_0x34a584(0x883),_0x233e87=_0x4ed5ed?_0x34a584(0x6eb):'ไม่ผ่าน';_0x251137='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x205080+'\x22>'+_0x233e87+_0x34a584(0x74f);}let _0x1b81c1=_0x34a584(0xb4f)+currentStudentName+_0x34a584(0x32d)+_0x520009+_0x34a584(0x775)+_0x405a53+_0x34a584(0xbc7)+_0x251137+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x130e13+_0x34a584(0xdbb)+_0x40d443[_0x34a584(0x457)](0x0)+_0x34a584(0x876);studentResultArea[_0x34a584(0x545)]=_0x1b81c1,renderEarnedBadges(_0x52eab2,_0x34a584(0x2ab)),studentResultArea[_0x34a584(0x605)][_0x34a584(0x31b)]('hidden'),studentQuizArea['classList'][_0x34a584(0xd74)]('hidden'),setupResultScreenBackButton({'score':_0x520009,'totalQuestions':_0x405a53,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x3b4a3f=_0x3db3a6;let _0x327cfc=_0x3b4a3f(0x2c5)+currentStudentName+_0x3b4a3f(0x4b4);studentResultArea[_0x3b4a3f(0x545)]=_0x327cfc,studentResultArea['classList'][_0x3b4a3f(0x31b)](_0x3b4a3f(0x9a0)),studentQuizArea[_0x3b4a3f(0x605)]['add'](_0x3b4a3f(0x9a0)),document[_0x3b4a3f(0x283)]('back-to-home-manual-release')[_0x3b4a3f(0x844)](_0x3b4a3f(0x425),()=>{const _0x2d372e=_0x3b4a3f;showView(_0x2d372e(0xae3)),document[_0x2d372e(0x283)](_0x2d372e(0xddb))[_0x2d372e(0xa89)]='';});}function renderEarnedBadges(_0x3e4f89,_0x3a4e7b){const _0x5153b2=_0x3db3a6,_0x13f7b4=document[_0x5153b2(0x283)](_0x3a4e7b);if(!_0x13f7b4||!_0x3e4f89||_0x3e4f89['length']===0x0)return;let _0x10a83f='';_0x3e4f89[_0x5153b2(0x277)]((_0x3e51a3,_0x2ed8ae)=>{const _0xd5c307=_0x5153b2,_0x503436=Object[_0xd5c307(0x2e5)](BADGES)['find'](_0x5fbfa0=>_0x5fbfa0['id']===_0x3e51a3);_0x503436&&(_0x10a83f+=_0xd5c307(0x17e)+_0x2ed8ae*0.2+'s;\x22\x20title=\x22'+_0x503436['description']+_0xd5c307(0x542)+_0x503436['icon']+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x503436['name']+_0xd5c307(0x8fc));}),_0x13f7b4[_0x5153b2(0x545)]=_0x10a83f;}function startPresentation(_0x55009e){const _0x52fdf8=_0x3db3a6;currentQuizData=getShuffledQuiz(_0x55009e),currentPresentationSlide=0x0,presentationModal[_0x52fdf8(0xbeb)][_0x52fdf8(0x853)]=_0x52fdf8(0x204),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x131f14=_0x3db3a6;document[_0x131f14(0x48a)]&&document[_0x131f14(0xd15)](),presentationModal[_0x131f14(0xbeb)][_0x131f14(0x853)]=_0x131f14(0xdff);}function renderPresentationSlide(_0x30bbf9){const _0x90ab78=_0x3db3a6,_0x387e26=document[_0x90ab78(0x283)](_0x90ab78(0xd01));if(!currentQuizData||!currentQuizData[_0x90ab78(0x13f)]||!currentQuizData['questions'][_0x30bbf9]){_0x387e26['innerHTML']='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x59bd4e=currentQuizData[_0x90ab78(0x13f)][_0x30bbf9],_0x3a872e=_0x59bd4e[_0x90ab78(0x430)]||currentQuizData[_0x90ab78(0x461)];_0x387e26[_0x90ab78(0x545)]='';let _0xc342a6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x59bd4e[_0x90ab78(0xc8b)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x59bd4e[_0x90ab78(0xc8b)]+_0x90ab78(0xdc0):'')+_0x90ab78(0x90c)+(_0x30bbf9+0x1)+'.\x20'+(_0x59bd4e[_0x90ab78(0x2f5)]||_0x59bd4e[_0x90ab78(0xb0e)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x3a872e){case _0x90ab78(0x1f4):_0xc342a6+=_0x59bd4e[_0x90ab78(0x17b)]['map'](_0x165d99=>_0x90ab78(0xb58)+_0x165d99+_0x90ab78(0x99b))[_0x90ab78(0xd6e)]('');break;case _0x90ab78(0x50e):_0xc342a6+=_0x90ab78(0x352),_0xc342a6+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case _0x90ab78(0x1c8):case'short_answer':_0xc342a6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x90ab78(0x9b8):case _0x90ab78(0x6f2):default:_0xc342a6+=_0x59bd4e[_0x90ab78(0xbed)]['map']((_0x470b94,_0x294ba8)=>_0x90ab78(0x898)+_0x294ba8+_0x90ab78(0x7db)+_0x470b94+_0x90ab78(0x99b))[_0x90ab78(0xd6e)]('');break;}_0xc342a6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x59bd4e['explanation']||'ไม่มีคำอธิบาย')+_0x90ab78(0xd30),_0x387e26[_0x90ab78(0x545)]=_0xc342a6;if(window['MathJax'])window[_0x90ab78(0x4d4)][_0x90ab78(0x130)]([_0x387e26]);let _0x47ca28=[];switch(_0x3a872e){case _0x90ab78(0x1f4):_0x47ca28=_0x59bd4e[_0x90ab78(0x17b)]||[];break;case _0x90ab78(0x50e):_0x47ca28=[_0x90ab78(0x993),'ไม่ใช่'];break;default:_0x47ca28=_0x59bd4e['options']||[];break;}const _0x581ddb=document['getElementById'](_0x90ab78(0x72c));_0x581ddb&&(_0x581ddb[_0x90ab78(0x74a)]=()=>{openScratchpad(_0x59bd4e,_0x47ca28);});document['querySelectorAll'](_0x90ab78(0xd88))['forEach'](_0x5b1b84=>{const _0xc4cf0d=_0x90ab78;_0x5b1b84[_0xc4cf0d(0x844)](_0xc4cf0d(0x425),_0x4b7645=>revealAnswerForPresentation(_0x30bbf9,_0x4b7645[_0xc4cf0d(0x4c4)]));});const _0x219deb=document[_0x90ab78(0x283)]('check-presentation-answer-btn');_0x219deb&&_0x219deb[_0x90ab78(0x844)](_0x90ab78(0x425),()=>checkShortAnswerForPresentation(_0x30bbf9)),document[_0x90ab78(0x283)](_0x90ab78(0x970))['textContent']=_0x90ab78(0xaf)+(_0x30bbf9+0x1)+_0x90ab78(0x9a6)+currentQuizData['questions']['length'],document[_0x90ab78(0x283)](_0x90ab78(0x989))['disabled']=_0x30bbf9===0x0,document[_0x90ab78(0x283)](_0x90ab78(0xe63))['disabled']=_0x30bbf9===currentQuizData[_0x90ab78(0x13f)][_0x90ab78(0x110)]-0x1;}async function checkShortAnswerForPresentation(_0x279f64){const _0x4a7543=_0x3db3a6,_0x209b69=currentQuizData[_0x4a7543(0x13f)][_0x279f64],_0x5cc82e=document['getElementById'](_0x4a7543(0x5b1)),_0x4b000a=document[_0x4a7543(0x283)](_0x4a7543(0x337)),_0x3b8969=document[_0x4a7543(0x283)]('presentation-ai-result'),_0x1ee0bb=document[_0x4a7543(0x283)](_0x4a7543(0xab2));if(!_0x5cc82e||!_0x4b000a||!_0x3b8969||!_0x1ee0bb)return;const _0x15567a=_0x5cc82e[_0x4a7543(0xa89)][_0x4a7543(0xc29)]();if(_0x15567a==='')return;_0x4b000a[_0x4a7543(0xc71)]=!![],_0x4b000a[_0x4a7543(0x545)]=_0x4a7543(0xe57),_0x5cc82e[_0x4a7543(0xc71)]=!![];const _0x4b3467=await gradeShortAnswer(_0x15567a,_0x209b69);_0x4b3467?_0x3b8969['innerHTML']=_0x4a7543(0x265):_0x3b8969[_0x4a7543(0x545)]=_0x4a7543(0x4c0)+_0x209b69[_0x4a7543(0x649)]+')',_0x3b8969[_0x4a7543(0x605)][_0x4a7543(0x31b)]('hidden'),_0x1ee0bb[_0x4a7543(0x605)]['remove'](_0x4a7543(0x9a0)),_0x4b000a[_0x4a7543(0x605)][_0x4a7543(0xd74)](_0x4a7543(0x9a0));}function revealAnswerForPresentation(_0x21a630,_0xc755a2){const _0x235fa1=_0x3db3a6,_0x171257=currentQuizData['questions'][_0x21a630],_0x3b3e8d=_0x171257[_0x235fa1(0x430)]||currentQuizData['quizType'];document['querySelectorAll'](_0x235fa1(0xd88))[_0x235fa1(0x277)](_0x495a67=>{const _0xefc6dd=_0x235fa1;_0x495a67[_0xefc6dd(0xc71)]=!![],_0x495a67[_0xefc6dd(0x605)][_0xefc6dd(0x31b)](_0xefc6dd(0x77e));let _0x3243ae=![];if(_0x3b3e8d===_0xefc6dd(0x6f2)||_0x3b3e8d===_0xefc6dd(0x9b8)){const _0x1c34a3=parseInt(_0x495a67['dataset']['index']);_0x3243ae=_0x1c34a3===_0x171257[_0xefc6dd(0x7ed)];}else{if(_0x3b3e8d===_0xefc6dd(0x50e)){const _0x400c8b=_0x495a67['dataset'][_0xefc6dd(0x9a9)]===_0xefc6dd(0x503);_0x3243ae=_0x400c8b===_0x171257['correctAnswer'];}else _0x3b3e8d===_0xefc6dd(0x1f4)&&(_0x3243ae=_0x495a67[_0xefc6dd(0x1bd)][_0xefc6dd(0xc29)]()===_0x171257['correctResponse']);}_0x3243ae?_0x495a67['classList'][_0xefc6dd(0xd74)](_0xefc6dd(0x2b2),_0xefc6dd(0x1fe),_0xefc6dd(0x56f)):_0x495a67['classList'][_0xefc6dd(0xd74)](_0xefc6dd(0x862));}),_0xc755a2['classList'][_0x235fa1(0x31b)](_0x235fa1(0x862));let _0x3b8b68=![];if(_0x3b3e8d===_0x235fa1(0x6f2))_0x3b8b68=parseInt(_0xc755a2['dataset'][_0x235fa1(0x908)])===_0x171257[_0x235fa1(0x7ed)];else{if(_0x3b3e8d==='true_false')_0x3b8b68=_0xc755a2[_0x235fa1(0x845)][_0x235fa1(0x9a9)]===_0x235fa1(0x503)===_0x171257['correctAnswer'];else _0x3b3e8d==='matching_item'&&(_0x3b8b68=_0xc755a2['textContent']['trim']()===_0x171257[_0x235fa1(0xdcc)]);}!_0x3b8b68&&_0xc755a2[_0x235fa1(0x605)]['add'](_0x235fa1(0x6c0),_0x235fa1(0x1fe),'border-red-700'),document[_0x235fa1(0x283)](_0x235fa1(0xab2))[_0x235fa1(0x605)][_0x235fa1(0x31b)]('hidden');}function startWholeQuizTimer(_0x281ec1){const _0x3adcab=_0x3db3a6,_0x96969a=document[_0x3adcab(0x283)](_0x3adcab(0x793));if(!_0x96969a)return;const _0x4e3653=Date[_0x3adcab(0x9e4)]()+_0x281ec1*0x3c*0x3e8;_0x96969a[_0x3adcab(0x545)]=_0x3adcab(0xb51);const _0x21a290=document[_0x3adcab(0x283)]('countdown-display');quizTimerInterval=setInterval(()=>{const _0x1bb4d7=_0x3adcab,_0x4f4b98=_0x4e3653-Date[_0x1bb4d7(0x9e4)]();if(_0x4f4b98<=0x0)clearInterval(quizTimerInterval),_0x21a290[_0x1bb4d7(0x1bd)]=_0x1bb4d7(0x9f9),showMessage(_0x1bb4d7(0x280)),handleSubmitQuiz(null);else{const _0x22a15a=Math[_0x1bb4d7(0x7f6)](_0x4f4b98/0x3e8/0x3c%0x3c)[_0x1bb4d7(0x99d)]()['padStart'](0x2,'0'),_0x4cd05b=Math[_0x1bb4d7(0x7f6)](_0x4f4b98/0x3e8%0x3c)[_0x1bb4d7(0x99d)]()[_0x1bb4d7(0x619)](0x2,'0');_0x21a290['textContent']=_0x22a15a+':'+_0x4cd05b;}},0x3e8);}function renderPerQuestionView(){const _0x339ba3=_0x3db3a6;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x180b0e=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x503307=_0x180b0e[_0x339ba3(0x430)]||currentDisplayedQuiz[_0x339ba3(0x461)],_0x1eb495=currentDisplayedQuiz[_0x339ba3(0x477)]?.[_0x339ba3(0x647)]===!![];let _0x2ab616=_0x339ba3(0x645)+(currentQuestionIndex+0x1)+'\x20จาก\x20'+currentDisplayedQuiz[_0x339ba3(0x13f)][_0x339ba3(0x110)]+_0x339ba3(0x806)+(currentMode===_0x339ba3(0x983)?_0x339ba3(0xce3):'')+_0x339ba3(0xc16)+currentDisplayedQuiz[_0x339ba3(0xe5f)]+_0x339ba3(0x25f);studentQuizArea[_0x339ba3(0x545)]=_0x2ab616;let _0x17ded0=_0x180b0e['stem']||_0x180b0e[_0x339ba3(0xb0e)];_0x180b0e[_0x339ba3(0xc8b)]&&(_0x17ded0+=_0x339ba3(0x18f)+_0x180b0e[_0x339ba3(0xc8b)]+'</div>');let _0x1446e0='';switch(_0x503307){case'short_answer':case _0x339ba3(0x1c8):_0x1446e0='<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x339ba3(0x50e):_0x1446e0='<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>';break;case _0x339ba3(0x1f4):_0x1446e0=_0x339ba3(0x952)+(_0x180b0e['allResponses']||[])['map'](_0x326679=>'<option\x20value=\x22'+_0x326679+'\x22>'+_0x326679+'</option>')['join']('')+_0x339ba3(0xa74);break;default:_0x180b0e[_0x339ba3(0xbed)]&&(_0x1446e0=_0x180b0e[_0x339ba3(0xbed)][_0x339ba3(0x87e)]((_0x1d5f28,_0x1b4ca0)=>_0x339ba3(0xa55)+_0x1b4ca0+_0x339ba3(0x716)+_0x1b4ca0+_0x339ba3(0x888)+_0x1b4ca0+'\x22>'+_0x1d5f28+_0x339ba3(0x85b))['join'](''));break;}document[_0x339ba3(0x283)](_0x339ba3(0x4bd))[_0x339ba3(0x545)]=_0x17ded0,document[_0x339ba3(0x283)]('per-question-options')[_0x339ba3(0x545)]=_0x1446e0;const _0x2fa6c8=currentDisplayedQuiz[_0x339ba3(0x477)]?.[_0x339ba3(0x647)]===!![],_0x1f7872=currentDisplayedQuiz[_0x339ba3(0x477)]?.[_0x339ba3(0xe32)]||_0x339ba3(0xb43);if(_0x2fa6c8&&_0x1f7872==='checkbox'){const _0xcbfca6=_0x339ba3(0x4f9);studentQuizArea[_0x339ba3(0x1a6)](_0x339ba3(0xbba))[_0x339ba3(0xc4c)]('beforeend',_0xcbfca6);}studentQuizArea[_0x339ba3(0xc4c)](_0x339ba3(0x136),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz[_0x339ba3(0x13f)][_0x339ba3(0x110)]-0x1?_0x339ba3(0x30c):_0x339ba3(0x889))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20');currentMode===_0x339ba3(0x983)&&document[_0x339ba3(0x283)](_0x339ba3(0xd19))?.['addEventListener']('click',cancelAdminTest);document['getElementById'](_0x339ba3(0x76e))[_0x339ba3(0x844)](_0x339ba3(0x425),()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window[_0x339ba3(0x4d4)]['typesetPromise']([studentQuizArea]);currentDisplayedQuiz[_0x339ba3(0x477)]?.[_0x339ba3(0xe4b)]===_0x339ba3(0x680)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x240231=_0x3db3a6,_0x1e68a4=currentDisplayedQuiz[_0x240231(0x477)][_0x240231(0x730)],_0x2ea61a=document[_0x240231(0x283)](_0x240231(0x9f0));if(!_0x2ea61a)return;let _0xaa6e05=_0x1e68a4;_0x2ea61a['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0xaa6e05+_0x240231(0x740);const _0x2e7a51=document[_0x240231(0x283)](_0x240231(0x5f5)),_0x7f9e27=document[_0x240231(0x283)](_0x240231(0xa1e));perQuestionTimerInterval=setInterval(()=>{const _0x4eede3=_0x240231;_0xaa6e05--;const _0x31a569=_0xaa6e05/_0x1e68a4*0x64;_0x2e7a51['style']['width']=_0x31a569+'%',_0x7f9e27[_0x4eede3(0x1bd)]=_0xaa6e05,_0xaa6e05<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x4eede3(0x63d)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x315cdb=![]){const _0x5b4689=_0x3db3a6;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x182500=null,_0x58efef=![];if(!_0x315cdb){const _0x255f2d=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x5e5b43=_0x255f2d[_0x5b4689(0x430)]||currentDisplayedQuiz[_0x5b4689(0x461)];if(_0x5e5b43===_0x5b4689(0x358)||_0x5e5b43===_0x5b4689(0x1c8))_0x182500=document[_0x5b4689(0x1a6)]('textarea[name=\x22question_single\x22]')?.['value']['trim']()??'';else{if(_0x5e5b43===_0x5b4689(0x1f4))_0x182500=document[_0x5b4689(0x1a6)](_0x5b4689(0xa65))?.[_0x5b4689(0xa89)]??'';else{const _0xf934b6=document[_0x5b4689(0x1a6)]('input[name=\x22question_single\x22]:checked');_0xf934b6&&(_0x182500=_0xf934b6[_0x5b4689(0xa89)]);}}if(_0x182500===null||_0x182500===''){showMessage('กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ'),startPerQuestionTimer();return;}const _0x457e16=currentDisplayedQuiz[_0x5b4689(0x477)]?.[_0x5b4689(0x647)]===!![],_0xe7315d=currentDisplayedQuiz[_0x5b4689(0x477)]?.[_0x5b4689(0xe32)]||_0x5b4689(0xb43);if(_0x457e16&&_0xe7315d===_0x5b4689(0xcea)){document[_0x5b4689(0x283)]('confidence-modal')[_0x5b4689(0x845)]['currentMode']='timed',document[_0x5b4689(0x283)](_0x5b4689(0x728))[_0x5b4689(0xa89)]=_0x182500,document[_0x5b4689(0x283)](_0x5b4689(0xd5e))['classList'][_0x5b4689(0x31b)]('hidden');return;}const _0x1a4ca9=document['getElementById'](_0x5b4689(0xac5));_0x1a4ca9&&(_0x58efef=_0x1a4ca9[_0x5b4689(0x61b)]);}const _0x5e4f1c={'answer':_0x182500,'wasConfident':_0x58efef};proceedToNextQuestion(_0x5e4f1c);}async function finalizePerQuestionQuiz(){const _0x47b588=_0x3db3a6,_0x94b0ba=currentDisplayedQuiz[_0x47b588(0x13f)][_0x47b588(0xbf4)](_0x255113=>_0x255113['questionType']===_0x47b588(0x358));_0x94b0ba?showMessage(_0x47b588(0x813)):showMessage(_0x47b588(0x595));const _0x5b80f1=currentQuizData['id'],_0x5f3196=doc(db,_0x47b588(0x981)+appId+_0x47b588(0x1c4)+_0x5b80f1+_0x47b588(0xb8f),currentStudentName),_0x18ff56=await getDoc(_0x5f3196),_0xd10704=_0x18ff56[_0x47b588(0xaed)]()?_0x18ff56[_0x47b588(0x366)]():{},_0x30097e=_0xd10704['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x30097e);}function getResultsFilename(){const _0x7dc6c=_0x3db3a6,_0x152e93=document[_0x7dc6c(0x283)](_0x7dc6c(0x973))[_0x7dc6c(0x1bd)][_0x7dc6c(0x950)](/[^a-z0-9]/gi,'_')[_0x7dc6c(0xa8)]();return _0x7dc6c(0xa78)+(_0x152e93||_0x7dc6c(0xbbb));}function exportResultsAsImage(){const _0x1a5e3=_0x3db3a6,_0x33c5ff=document['getElementById']('results-table-container');showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x33c5ff)[_0x1a5e3(0x3a8)](_0x390b17=>{const _0x280230=_0x1a5e3,_0x33f333=document['createElement']('a');_0x33f333[_0x280230(0xce7)]=getResultsFilename()+_0x280230(0x66a),_0x33f333[_0x280230(0xd80)]=_0x390b17[_0x280230(0x1d0)](_0x280230(0x65e)),_0x33f333['click'](),messageModal[_0x280230(0x605)][_0x280230(0xd74)](_0x280230(0x9a0));});}function exportResultsAsPDF(){const _0x1976f8=_0x3db3a6,{jsPDF:_0x53b292}=window[_0x1976f8(0x1b6)],_0x5ca55d=new _0x53b292();_0x5ca55d[_0x1976f8(0x19b)](_0x1976f8(0xc96),'normal'),_0x5ca55d[_0x1976f8(0x418)]({'html':_0x1976f8(0x116)}),_0x5ca55d[_0x1976f8(0x371)](getResultsFilename()+_0x1976f8(0x8ee));}function exportResultsAsWord(){const _0x4f194c=_0x3db3a6,_0x331273=_0x4f194c(0x677)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x4f194c(0x628)+_0x4f194c(0x470),_0x36d17b=_0x4f194c(0x52d),_0x191cb6=_0x331273+document[_0x4f194c(0x283)](_0x4f194c(0x954))['innerHTML']+_0x36d17b,_0x4c9189=_0x4f194c(0x826)+encodeURIComponent(_0x191cb6),_0x3744fc=document[_0x4f194c(0x1d1)]('a');document['body'][_0x4f194c(0x2ea)](_0x3744fc),_0x3744fc[_0x4f194c(0xd80)]=_0x4c9189,_0x3744fc[_0x4f194c(0xce7)]=getResultsFilename()+_0x4f194c(0x74e),_0x3744fc[_0x4f194c(0x425)](),document[_0x4f194c(0x379)][_0x4f194c(0x6cf)](_0x3744fc);}function exportResultsAsExcel(){const _0x41fa43=_0x3db3a6,_0x77b9d2=document[_0x41fa43(0x283)]('results-table');let _0xb035a0=[];for(let _0x100584=0x0;_0x100584<_0x77b9d2[_0x41fa43(0xc0b)][_0x41fa43(0x110)];_0x100584++){let _0xf0c1bf=[],_0xed66d6=_0x77b9d2['rows'][_0x100584][_0x41fa43(0x68a)]('td,\x20th');for(let _0x1af47b=0x0;_0x1af47b<_0xed66d6[_0x41fa43(0x110)];_0x1af47b++){_0xf0c1bf[_0x41fa43(0x827)]('\x22'+_0xed66d6[_0x1af47b]['innerText'][_0x41fa43(0x950)](/"/g,'\x22\x22')+'\x22');}_0xb035a0[_0x41fa43(0x827)](_0xf0c1bf[_0x41fa43(0xd6e)](','));}const _0x528ce2=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0xb035a0[_0x41fa43(0xd6e)]('\x0a')],{'type':_0x41fa43(0x8ed)}),_0x1a5723=document[_0x41fa43(0x1d1)]('a');_0x1a5723[_0x41fa43(0xd80)]=URL[_0x41fa43(0xb1f)](_0x528ce2),_0x1a5723[_0x41fa43(0xce7)]=getResultsFilename()+_0x41fa43(0xd5d),_0x1a5723[_0x41fa43(0x425)]();}function exportTableAsImage(_0xd23af0,_0x51e9ab){const _0x452644=_0x3db3a6,_0x57f452=document[_0x452644(0x283)](_0xd23af0),_0x27aaef=document[_0x452644(0x283)](_0x452644(0x973));if(!_0x57f452){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage(_0x452644(0xde));const _0x6bb40d=document[_0x452644(0x1d1)](_0x452644(0x223));_0x6bb40d['style']['backgroundColor']=_0x452644(0x287),_0x6bb40d[_0x452644(0xbeb)][_0x452644(0x839)]=_0x452644(0x789),_0x6bb40d[_0x452644(0xbeb)][_0x452644(0x532)]=_0x452644(0xc69),_0x6bb40d['style'][_0x452644(0xaf4)]=_0x452644(0x7ae),_0x6bb40d['style'][_0x452644(0x976)]=_0x452644(0x8e5),_0x6bb40d[_0x452644(0xbeb)][_0x452644(0x159)]='0',_0x6bb40d[_0x452644(0xbeb)][_0x452644(0xa5e)]='-1';const _0x229d6f=document['createElement']('h1');_0x229d6f[_0x452644(0xba9)]=_0x27aaef?_0x27aaef[_0x452644(0xba9)]:_0x452644(0xd08),_0x229d6f[_0x452644(0xbeb)][_0x452644(0x9c6)]='center',_0x229d6f[_0x452644(0xbeb)][_0x452644(0x51c)]=_0x452644(0x755),_0x229d6f[_0x452644(0xbeb)][_0x452644(0xd1c)]='28px',_0x229d6f[_0x452644(0xbeb)]['fontWeight']=_0x452644(0xc6f),_0x229d6f[_0x452644(0xbeb)]['color']=_0x452644(0x69b),_0x229d6f[_0x452644(0xbeb)][_0x452644(0x3b8)]=_0x452644(0x7fb);const _0xddc35e=_0x57f452[_0x452644(0x99e)](!![]);_0xddc35e[_0x452644(0xbeb)][_0x452644(0xe05)]=_0x452644(0xdff),_0xddc35e[_0x452644(0xbeb)][_0x452644(0x767)]=_0x452644(0x7b4);const _0x24ec7d=_0xddc35e['querySelectorAll']('th');let _0x34c138=-0x1;_0x24ec7d['forEach']((_0x2457ce,_0x360af6)=>{const _0x477ccf=_0x452644;_0x2457ce['textContent'][_0x477ccf(0xc29)]()==='ผล'&&(_0x2457ce[_0x477ccf(0xbeb)][_0x477ccf(0x853)]=_0x477ccf(0xdff),_0x34c138=_0x360af6);});if(_0x34c138!==-0x1){const _0x13c295=_0xddc35e['querySelectorAll']('tr');_0x13c295['forEach'](_0x4f50bc=>{const _0x47a6cf=_0x452644,_0x3137b8=_0x4f50bc['querySelectorAll']('td');_0x3137b8[_0x47a6cf(0x110)]>_0x34c138&&(_0x3137b8[_0x34c138][_0x47a6cf(0xbeb)]['display']=_0x47a6cf(0xdff));});}_0x6bb40d['appendChild'](_0x229d6f),_0x6bb40d['appendChild'](_0xddc35e),document[_0x452644(0x379)][_0x452644(0x2ea)](_0x6bb40d),html2canvas(_0x6bb40d,{'scale':0x2,'useCORS':!![],'backgroundColor':_0x452644(0x287)})[_0x452644(0x3a8)](_0x188c5c=>{const _0x4c7900=_0x452644,_0x3b2e4a=document[_0x4c7900(0x1d1)]('a');_0x3b2e4a[_0x4c7900(0xce7)]=_0x51e9ab+_0x4c7900(0x66a),_0x3b2e4a['href']=_0x188c5c[_0x4c7900(0x1d0)](_0x4c7900(0x65e)),_0x3b2e4a[_0x4c7900(0x425)](),document[_0x4c7900(0x379)][_0x4c7900(0x6cf)](_0x6bb40d),messageModal['classList'][_0x4c7900(0xd74)](_0x4c7900(0x9a0));})[_0x452644(0xc1e)](_0x196c2a=>{const _0x19a313=_0x452644;console[_0x19a313(0xe4d)](_0x19a313(0x299),_0x196c2a),document['body'][_0x19a313(0x6cf)](_0x6bb40d),showMessage(_0x19a313(0x7c9));});}function exportTableAsPDF(_0x40880d,_0x4829ef){const _0x33f0e0=_0x3db3a6,{jsPDF:_0x4f5595}=window[_0x33f0e0(0x1b6)],_0x112570=new _0x4f5595();_0x112570[_0x33f0e0(0x19b)](_0x33f0e0(0xc96),'normal'),_0x112570[_0x33f0e0(0x418)]({'html':'#'+_0x40880d}),_0x112570['save'](_0x4829ef+_0x33f0e0(0x8ee));}function exportTableAsWord(_0xcc2475,_0x3d714a){const _0x4c75ec=_0x3db3a6,_0x4fe991=document[_0x4c75ec(0x283)](_0xcc2475);if(!_0x4fe991){showMessage(_0x4c75ec(0x9d4));return;}const _0x3120b4='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x5b9ec1='</body></html>',_0x1c0d42=_0x3120b4+_0x4fe991[_0x4c75ec(0x545)]+_0x5b9ec1,_0x3c4e12=_0x4c75ec(0x826)+encodeURIComponent(_0x1c0d42),_0x534847=document[_0x4c75ec(0x1d1)]('a');document[_0x4c75ec(0x379)][_0x4c75ec(0x2ea)](_0x534847),_0x534847['href']=_0x3c4e12,_0x534847[_0x4c75ec(0xce7)]=_0x3d714a+_0x4c75ec(0x74e),_0x534847['click'](),document['body'][_0x4c75ec(0x6cf)](_0x534847);}function exportTableAsExcel(_0x41184d,_0x21bae4){const _0x24ffde=_0x3db3a6,_0x7b6dcc=document['getElementById'](_0x41184d);if(!_0x7b6dcc){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}let _0xf4fb3d=[];for(let _0x7947e1=0x0;_0x7947e1<_0x7b6dcc['rows']['length'];_0x7947e1++){let _0x37605c=[],_0x229fd3=_0x7b6dcc[_0x24ffde(0xc0b)][_0x7947e1][_0x24ffde(0x68a)]('td,\x20th');for(let _0x405c30=0x0;_0x405c30<_0x229fd3[_0x24ffde(0x110)];_0x405c30++){_0x37605c[_0x24ffde(0x827)]('\x22'+_0x229fd3[_0x405c30][_0x24ffde(0xba9)][_0x24ffde(0x950)](/"/g,'\x22\x22')+'\x22');}_0xf4fb3d['push'](_0x37605c[_0x24ffde(0xd6e)](','));}const _0x2b14ab=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0xf4fb3d['join']('\x0a')],{'type':_0x24ffde(0x8ed)}),_0x200aab=document['createElement']('a');_0x200aab[_0x24ffde(0xd80)]=URL[_0x24ffde(0xb1f)](_0x2b14ab),_0x200aab['download']=_0x21bae4+_0x24ffde(0xd5d),_0x200aab['click']();}function renderAnalytics(_0x58296f,_0x473af6){const _0x3337cd=_0x3db3a6,_0x5f485b=_0x473af6[_0x3337cd(0x1a1)](_0x23f7ee=>_0x23f7ee[_0x3337cd(0x1ab)]!==undefined),_0x303449=currentProjectData[_0x3337cd(0x138)][_0x3337cd(0x110)],_0x564d7d=_0x5f485b[_0x3337cd(0x110)],_0x1a4e4e=_0x303449-_0x564d7d,_0x368a38=_0x303449>0x0?_0x564d7d/_0x303449*0x64:0x0,_0x5d4b8d=_0x5f485b[_0x3337cd(0x87e)](_0x2e1e93=>_0x2e1e93[_0x3337cd(0x1ab)]),_0x5f47c6=_0x5d4b8d[_0x3337cd(0x110)]>0x0?_0x5d4b8d[_0x3337cd(0x53b)]((_0x570e22,_0x3e2d32)=>_0x570e22+_0x3e2d32,0x0)/_0x5d4b8d[_0x3337cd(0x110)]:0x0,_0xa1d8b2=_0x58296f[_0x3337cd(0x13f)][_0x3337cd(0x110)],_0x99a1fe=_0xa1d8b2>0x0?_0x5f47c6/_0xa1d8b2*0x64:0x0,_0x21d898=calculateItemAnalysis(_0x58296f,_0x5f485b),_0x1d00a5=calculateReliabilityKR20(_0x58296f,_0x5f485b,_0x21d898[_0x3337cd(0x26c)]);let _0xe6ea32='';if(_0x1d00a5!==null){let _0x233f3f='';if(_0x1d00a5>=0.9)_0x233f3f=_0x3337cd(0x32c);else{if(_0x1d00a5>=0.8)_0x233f3f=_0x3337cd(0x923);else{if(_0x1d00a5>=0.7)_0x233f3f='ดี';else{if(_0x1d00a5>=0.6)_0x233f3f='พอใช้';else _0x233f3f=_0x3337cd(0x902);}}}_0xe6ea32=_0x3337cd(0x72d)+_0x1d00a5[_0x3337cd(0x457)](0x2)+_0x3337cd(0x51a)+_0x233f3f+_0x3337cd(0xaf7);}const _0x137fd5=document[_0x3337cd(0x283)]('analytics-summary-cards');_0x137fd5[_0x3337cd(0x545)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x368a38[_0x3337cd(0x457)](0x0)+_0x3337cd(0x9eb)+_0x564d7d+'/'+_0x303449+_0x3337cd(0xd7)+_0x5f47c6[_0x3337cd(0x457)](0x2)+_0x3337cd(0x3a7)+_0x99a1fe['toFixed'](0x0)+_0x3337cd(0x590)+(_0x5d4b8d[_0x3337cd(0x110)]>0x0?Math[_0x3337cd(0x8c3)](..._0x5d4b8d):'N/A')+_0x3337cd(0xc52)+(_0x5d4b8d[_0x3337cd(0x110)]>0x0?Math[_0x3337cd(0xcc7)](..._0x5d4b8d):_0x3337cd(0x88b))+_0x3337cd(0x884)+_0xe6ea32+_0x3337cd(0x7a5);const _0xd56604=document['getElementById'](_0x3337cd(0x2a5));_0xd56604&&_0xd56604['remove']();const _0x52cba2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x137fd5[_0x3337cd(0xc4c)](_0x3337cd(0x420),_0x52cba2);const _0x41baa9=currentProjectData[_0x3337cd(0x138)]||[];renderSubmissionChart(_0x564d7d,_0x1a4e4e,_0x5f485b,_0x41baa9),renderScoreDistributionChart(_0x5f485b,_0xa1d8b2),renderQuestionAnalytics(_0x58296f,_0x5f485b,_0x41baa9),renderInterestingStats(_0x58296f,_0x5f485b);}async function handleExportLessonPDF(){const _0x579174=_0x3db3a6,_0x356461=document['getElementById'](_0x579174(0xcec)),_0x19fe0c=document['getElementById']('lesson-plan-title')[_0x579174(0x1bd)],_0x4d9a69=window[_0x579174(0x860)]('',_0x579174(0x6a6)),_0x826511='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x19fe0c+_0x579174(0x259)+_0x356461[_0x579174(0x545)]+_0x579174(0x6e4);_0x4d9a69[_0x579174(0xa66)][_0x579174(0xa48)](_0x826511),_0x4d9a69[_0x579174(0xa66)][_0x579174(0xaff)](),_0x4d9a69['onload']=function(){setTimeout(()=>{const _0x2bd51e=_0x5ca2;_0x4d9a69[_0x2bd51e(0x70d)]();},0x5dc);};}function renderInterestingStats(_0xeea97f,_0x519b74){const _0x465864=_0x3db3a6,_0x48c271=document[_0x465864(0x283)]('interesting-stats-container');if(!_0x48c271)return;if(_0x519b74[_0x465864(0x110)]===0x0){_0x48c271['innerHTML']=_0x465864(0xd6);return;}const _0x5a50fa=_0xeea97f[_0x465864(0x13f)]['map']((_0x3f2863,_0x1f1ccc)=>({'index':_0x1f1ccc+0x1,'text':_0x3f2863['questionText']||_0x3f2863['stem'],'correct':0x0}));_0x519b74[_0x465864(0x277)](_0x295583=>{const _0x6dbc43=_0x465864,_0x5727d7=_0x295583[_0x6dbc43(0x57f)][_0x295583['attempts'][_0x6dbc43(0x110)]-0x1];_0x5727d7&&_0x5727d7[_0x6dbc43(0x749)]&&_0x5727d7[_0x6dbc43(0x749)][_0x6dbc43(0x277)](_0x3a258d=>{const _0x2eaa62=_0x6dbc43,_0x29505a=_0x5a50fa[_0x2eaa62(0xe8)](_0x363f2c=>_0x363f2c['text']===_0x3a258d[_0x2eaa62(0x2bf)]);_0x3a258d[_0x2eaa62(0xb7c)]&&_0x29505a&&_0x29505a[_0x2eaa62(0xc14)]++;});});const _0x1a4ee1=_0x519b74['length'],_0x432973=Math[_0x465864(0x8c3)](..._0x5a50fa[_0x465864(0x87e)](_0x3a9024=>_0x3a9024['correct'])),_0xeeea83=Math[_0x465864(0xcc7)](..._0x5a50fa[_0x465864(0x87e)](_0x316815=>_0x316815[_0x465864(0xc14)])),_0x4300ec=_0x5a50fa[_0x465864(0x1a1)](_0x5abcb4=>_0x5abcb4[_0x465864(0xc14)]===_0x432973)['map'](_0x352c61=>'ข้อ\x20'+_0x352c61[_0x465864(0x908)]),_0x5e969f=_0x5a50fa[_0x465864(0x1a1)](_0xd9444c=>_0xd9444c['correct']===_0xeeea83)[_0x465864(0x87e)](_0x1e57f3=>_0x465864(0x239)+_0x1e57f3[_0x465864(0x908)]),_0x192b5f=_0x519b74[_0x465864(0x667)]((_0x64074e,_0x535dbd)=>_0x535dbd['latestScore']-_0x64074e[_0x465864(0x1ab)])[_0x465864(0x1a1)]((_0x155510,_0xa89c78,_0x11310b)=>_0x155510[_0x465864(0x1ab)]===_0x11310b[0x0][_0x465864(0x1ab)]),_0x5880aa=_0x519b74[_0x465864(0x667)]((_0x2b8702,_0x45d10c)=>_0x2b8702[_0x465864(0x1ab)]-_0x45d10c[_0x465864(0x1ab)])['filter']((_0x31f85d,_0x275dbf,_0x102dcd)=>_0x31f85d[_0x465864(0x1ab)]===_0x102dcd[0x0]['latestScore']),_0x49e8db=_0x465864(0xab9)+_0x4300ec[_0x465864(0xd6e)](',\x20')+_0x465864(0xdb5)+_0x432973+_0x465864(0x9a6)+_0x1a4ee1+_0x465864(0x9fe)+_0x5e969f['join'](',\x20')+_0x465864(0xdb5)+(_0x1a4ee1-_0xeeea83)+_0x465864(0x9a6)+_0x1a4ee1+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x192b5f[_0x465864(0x87e)](_0x33c5e7=>_0x33c5e7[_0x465864(0x28e)])[_0x465864(0xd6e)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x192b5f[0x0][_0x465864(0x1ab)]+_0x465864(0x799)+_0x5880aa['map'](_0x521191=>_0x521191[_0x465864(0x28e)])[_0x465864(0xd6e)](',\x20')+_0x465864(0xc93)+_0x5880aa[0x0][_0x465864(0x1ab)]+_0x465864(0x1d4);_0x48c271['innerHTML']=_0x49e8db;}function renderSubmissionChart(_0x39b141,_0x15fe30,_0x68f2c3,_0x2c3d81){const _0x16c3d4=_0x3db3a6,_0x47f3da=document[_0x16c3d4(0x283)](_0x16c3d4(0xa93))['getContext']('2d'),_0x4ed742=_0x68f2c3[_0x16c3d4(0x87e)](_0x38437f=>_0x38437f[_0x16c3d4(0x28e)]),_0x269517=_0x2c3d81[_0x16c3d4(0x1a1)](_0x38e406=>!_0x4ed742['includes'](_0x38e406));chartInstances['submission']&&chartInstances[_0x16c3d4(0xd94)][_0x16c3d4(0x278)](),chartInstances[_0x16c3d4(0xd94)]=new Chart(_0x47f3da,{'type':'doughnut','data':{'labels':[_0x16c3d4(0x7e7),'ยังไม่ส่ง'],'datasets':[{'data':[_0x39b141,_0x15fe30],'backgroundColor':[_0x16c3d4(0x81a),'#F59E0B'],'borderColor':[_0x16c3d4(0x287),_0x16c3d4(0x287)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0x12f863){const _0x8bac8=_0x16c3d4;let _0x45ff17=_0x12f863[_0x8bac8(0x531)]||'';return _0x45ff17&&(_0x45ff17+=':\x20'),_0x45ff17+=_0x12f863['raw'],_0x45ff17;},'afterLabel':function(_0x521a0b){const _0x5b00f1=_0x16c3d4;let _0x4185c8;return _0x521a0b[_0x5b00f1(0xa30)]===0x0?_0x4185c8=_0x4ed742:_0x4185c8=_0x269517,_0x4185c8[_0x5b00f1(0x110)]>0x0?_0x4185c8['join']('\x0a'):_0x5b00f1(0x36d);}}}}}});}function renderScoreDistributionChart(_0x585522,_0x3299dc){const _0x4bca73=_0x3db3a6,_0x394168=document['getElementById'](_0x4bca73(0x91b))[_0x4bca73(0x2c4)]('2d'),_0x22abb4={};for(let _0x204eab=0x0;_0x204eab<=_0x3299dc;_0x204eab++){_0x22abb4[_0x204eab]=0x0;}_0x585522[_0x4bca73(0x277)](_0x3f3a91=>{const _0x227eb2=_0x4bca73;_0x22abb4[_0x3f3a91[_0x227eb2(0x1ab)]]!==undefined&&_0x22abb4[_0x3f3a91[_0x227eb2(0x1ab)]]++;}),chartInstances[_0x4bca73(0x791)]&&chartInstances[_0x4bca73(0x791)][_0x4bca73(0x278)](),chartInstances[_0x4bca73(0x791)]=new Chart(_0x394168,{'type':_0x4bca73(0x610),'data':{'labels':Object[_0x4bca73(0x598)](_0x22abb4),'datasets':[{'label':_0x4bca73(0xcac),'data':Object[_0x4bca73(0x2e5)](_0x22abb4),'backgroundColor':'rgba(79,\x2070,\x20229,\x200.8)','borderColor':_0x4bca73(0x183),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':'คะแนน'}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x39f2c6){const _0xee4672=_0x4bca73,_0x15d654=_0x39f2c6[_0xee4672(0x531)],_0x304a6b=_0x585522[_0xee4672(0x1a1)](_0x439585=>_0x439585[_0xee4672(0x1ab)]==_0x15d654)[_0xee4672(0x87e)](_0x5ed19a=>_0x5ed19a[_0xee4672(0x28e)]);return _0x304a6b['length']>0x0?_0x304a6b['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x25e423,_0x29c470,_0x3f25d1){const _0x576bbe=_0x3db3a6,_0x2c6c5a=document[_0x576bbe(0x283)](_0x576bbe(0x5f7));if(_0x3f25d1['length']===0x0){_0x2c6c5a['innerHTML']='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x3458db=calculateItemAnalysis(_0x25e423,_0x29c470),_0x4e0515=calculateDistractorAnalysis(_0x25e423,_0x29c470);let _0x531492='';_0x3458db[_0x576bbe(0x701)]&&(_0x531492=_0x576bbe(0x81c)+_0x3458db[_0x576bbe(0x701)][_0x576bbe(0x788)][_0x576bbe(0x110)]+_0x576bbe(0x2d9)+_0x3458db[_0x576bbe(0x701)][_0x576bbe(0x788)][_0x576bbe(0x87e)](_0x27b4f9=>_0x576bbe(0xd24)+_0x27b4f9+_0x576bbe(0x241))[_0x576bbe(0xd6e)]('')+_0x576bbe(0x1fa)+_0x3458db[_0x576bbe(0x701)][_0x576bbe(0x79d)]['length']+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3458db[_0x576bbe(0x701)]['lowerGroupNames'][_0x576bbe(0x87e)](_0x5d7c6b=>_0x576bbe(0xd24)+_0x5d7c6b+_0x576bbe(0x241))[_0x576bbe(0xd6e)]('')+_0x576bbe(0xc2c));let _0x1d438c='';const _0x44874a=_0x29c470[_0x576bbe(0x87e)](_0x5edb1f=>_0x5edb1f[_0x576bbe(0x28e)]),_0x2bfa3f=_0x5a901e=>{const _0x59b7e2=_0x576bbe;if(_0x5a901e>=0.8)return _0x59b7e2(0x2de);if(_0x5a901e>=0.6)return _0x59b7e2(0x321);if(_0x5a901e>=0.4)return _0x59b7e2(0x37e);if(_0x5a901e>=0.2)return _0x59b7e2(0xbae);return _0x59b7e2(0x5d6);},_0x467739=_0x5e0c90=>{const _0x4c9d94=_0x576bbe;if(_0x5e0c90<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x5e0c90>=0.4)return _0x4c9d94(0x907);if(_0x5e0c90>=0.3)return _0x4c9d94(0xc3f);if(_0x5e0c90>=0.2)return _0x4c9d94(0x5a5);return _0x4c9d94(0xd20);},_0x15f361=_0x242e02=>{const _0x5da6bf=_0x576bbe,_0x290927=_0x242e02[_0x5da6bf(0x457)](0x0);if(parseFloat(_0x290927)===0x64)return _0x5da6bf(0x4a1)+_0x290927+_0x5da6bf(0x167);if(_0x242e02>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x290927+_0x5da6bf(0x167);return _0x5da6bf(0x9f2)+_0x290927+_0x5da6bf(0x167);};_0x25e423[_0x576bbe(0x13f)][_0x576bbe(0x277)]((_0x3d19c8,_0x166e16)=>{const _0x207f3c=_0x576bbe,_0x501f71=_0x3458db['perQuestionStats'][_0x166e16],_0x2325b0=_0x4e0515[_0x166e16],_0x49c61f=_0x3d19c8[_0x207f3c(0x2f5)]||_0x3d19c8['questionText']||_0x3d19c8[_0x207f3c(0xcf8)];let _0x9afaf4=0x0;const _0x42c1e6=[],_0x4fe412=[];_0x29c470['forEach'](_0x4cd529=>{const _0x2fc5f9=_0x207f3c,_0x212b9a=_0x4cd529[_0x2fc5f9(0x57f)][_0x4cd529['attempts'][_0x2fc5f9(0x110)]-0x1];if(_0x212b9a&&_0x212b9a[_0x2fc5f9(0x749)]){const _0x361d2c=_0x212b9a[_0x2fc5f9(0x749)][_0x2fc5f9(0xe8)](_0x1da7c9=>_0x1da7c9[_0x2fc5f9(0x2bf)]===_0x49c61f)??_0x212b9a[_0x2fc5f9(0x749)][_0x166e16]??null;_0x361d2c&&(_0x361d2c['isCorrect']?(_0x9afaf4++,_0x42c1e6['push'](_0x4cd529[_0x2fc5f9(0x28e)])):_0x4fe412[_0x2fc5f9(0x827)](_0x4cd529[_0x2fc5f9(0x28e)]));}});const _0x1af86d=_0x29c470[_0x207f3c(0x110)]>0x0?_0x9afaf4/_0x29c470['length']*0x64:0x0,_0x46c7e5=_0x3f25d1[_0x207f3c(0x1a1)](_0x177d39=>!_0x44874a[_0x207f3c(0x2e8)](_0x177d39)),_0x264082=_0x501f71?_0x207f3c(0x790)+_0x501f71['p'][_0x207f3c(0x457)](0x2)+'</p><div>'+_0x2bfa3f(_0x501f71['p'])+_0x207f3c(0x58f)+_0x501f71['r'][_0x207f3c(0x457)](0x2)+'</p><div>'+_0x467739(_0x501f71['r'])+_0x207f3c(0x592)+_0x15f361(_0x1af86d)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0x25c7ae='';_0x2325b0&&(_0x25c7ae='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object[_0x207f3c(0x598)](_0x2325b0)[_0x207f3c(0x87e)](_0x3ec728=>{const _0x375592=_0x207f3c,_0x5be85e=_0x2325b0[_0x3ec728],_0x4176f5=parseInt(_0x3ec728)===_0x3d19c8['correctAnswerIndex'],_0x1e4020=!_0x4176f5&&_0x5be85e['lower_group_count']>_0x5be85e[_0x375592(0x6ea)];return _0x375592(0xb3c)+(_0x4176f5?'bg-green-100\x20font-bold':'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x4176f5?'✔\x20':'')+_0x5be85e[_0x375592(0x38a)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x5be85e['upper_group_count']+_0x375592(0x65c)+_0x5be85e[_0x375592(0xa0)]+'\x20'+(_0x1e4020?'👍':'')+_0x375592(0x65c)+_0x5be85e[_0x375592(0x7a2)]+_0x375592(0xc07);})['join']('')+_0x207f3c(0x61e));let _0x4df0c6='';_0x501f71&&_0x501f71['upperGroupResponders']&&(_0x4df0c6=_0x207f3c(0xe1f)+_0x501f71[_0x207f3c(0x19f)][_0x207f3c(0x110)]+_0x207f3c(0xabe)+_0x501f71[_0x207f3c(0x19f)][_0x207f3c(0x87e)](_0x1b2c38=>_0x207f3c(0xd24)+(_0x1b2c38[_0x207f3c(0xb7c)]?_0x207f3c(0x53a):_0x207f3c(0xb71))+'\x20'+_0x1b2c38['name']+'</li>')[_0x207f3c(0xd6e)]('')+_0x207f3c(0x8d7)+_0x501f71[_0x207f3c(0xdaf)][_0x207f3c(0x110)]+_0x207f3c(0xabe)+_0x501f71['lowerGroupResponders'][_0x207f3c(0x87e)](_0x385fe7=>_0x207f3c(0xd24)+(_0x385fe7[_0x207f3c(0xb7c)]?_0x207f3c(0x53a):_0x207f3c(0xb71))+'\x20'+_0x385fe7['name']+'</li>')['join']('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x1d438c+=_0x207f3c(0x38c)+(_0x166e16+0x1)+':\x20'+_0x49c61f+_0x207f3c(0xc5)+_0x264082+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0x49c61f+_0x207f3c(0x736)+_0x9afaf4+_0x207f3c(0x43d)+_0x29c470[_0x207f3c(0x110)]+_0x207f3c(0xe48)+_0x1af86d['toFixed'](0x0)+_0x207f3c(0x617)+_0x42c1e6[_0x207f3c(0x110)]+_0x207f3c(0x245)+(_0x42c1e6[_0x207f3c(0x110)]>0x0?_0x42c1e6[_0x207f3c(0xd6e)](',\x20'):_0x207f3c(0x36d))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x4fe412[_0x207f3c(0x110)]+_0x207f3c(0x245)+(_0x4fe412[_0x207f3c(0x110)]>0x0?_0x4fe412['join'](',\x20'):'ไม่มี')+_0x207f3c(0x5b2)+_0x46c7e5[_0x207f3c(0x110)]+_0x207f3c(0x245)+(_0x46c7e5[_0x207f3c(0x110)]>0x0?_0x46c7e5['join'](',\x20'):_0x207f3c(0x36d))+_0x207f3c(0x583)+_0x25c7ae+_0x207f3c(0xa96)+_0x4df0c6+_0x207f3c(0x61d);}),_0x2c6c5a['innerHTML']=_0x531492+_0x1d438c;try{window[_0x576bbe(0x4d4)]&&MathJax['typesetPromise']&&MathJax[_0x576bbe(0x130)]([_0x2c6c5a]);}catch(_0x575881){console[_0x576bbe(0xe4d)](_0x576bbe(0xa5),_0x575881);}}function calculateDistractorAnalysis(_0x36e739,_0x1357cd){const _0x5077b0=_0x3db3a6,_0x4866cf={};if(_0x1357cd[_0x5077b0(0x110)]<0x2)return _0x4866cf;const _0x3b5db4=[..._0x1357cd][_0x5077b0(0x667)]((_0x1a4fe5,_0x4ce3d4)=>{const _0x27d57c=_0x5077b0,_0x1f7a9e=_0x4ce3d4[_0x27d57c(0x1ab)]-_0x1a4fe5['latestScore'];if(_0x1f7a9e!==0x0)return _0x1f7a9e;const _0x3eecbe=_0x1a4fe5[_0x27d57c(0x57f)]?.[_0x27d57c(0x110)]||0x1,_0x36e642=_0x4ce3d4[_0x27d57c(0x57f)]?.[_0x27d57c(0x110)]||0x1,_0x50fb81=_0x3eecbe-_0x36e642;if(_0x50fb81!==0x0)return _0x50fb81;const _0x3c7dd9=new Date(_0x1a4fe5[_0x27d57c(0x213)]),_0xea2c89=new Date(_0x4ce3d4[_0x27d57c(0x213)]),_0x242e8b=_0x3c7dd9-_0xea2c89;if(_0x242e8b!==0x0)return _0x242e8b;return _0x1a4fe5[_0x27d57c(0x28e)][_0x27d57c(0x879)](_0x4ce3d4[_0x27d57c(0x28e)],'th');}),_0x18641c=_0x3b5db4[_0x5077b0(0x110)],_0x33bda4=Math['max'](0x1,Math[_0x5077b0(0x7f6)](_0x18641c*0.33)),_0x4768d1=_0x3b5db4[_0x5077b0(0x972)](0x0,_0x33bda4),_0x9737c0=_0x3b5db4['slice'](-_0x33bda4);return _0x36e739['questions'][_0x5077b0(0x277)]((_0x305dbf,_0x2b5f5e)=>{const _0x249a6e=_0x5077b0;if(_0x305dbf[_0x249a6e(0x430)]!==_0x249a6e(0x6f2)||!_0x305dbf[_0x249a6e(0xbed)])return;const _0xfa5ebc=_0x305dbf[_0x249a6e(0xb0e)],_0x1133c4={};_0x305dbf[_0x249a6e(0xbed)][_0x249a6e(0x277)]((_0x1f71bf,_0x991c77)=>{_0x1133c4[_0x991c77]={'text':_0x1f71bf,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x3b5db4[_0x249a6e(0x277)](_0x292343=>{const _0xa0cbc2=_0x249a6e,_0x150399=_0x292343['attempts'][_0x292343[_0xa0cbc2(0x57f)][_0xa0cbc2(0x110)]-0x1],_0xd15e0e=_0x150399[_0xa0cbc2(0x749)][_0xa0cbc2(0xe8)](_0x11666a=>_0x11666a[_0xa0cbc2(0x2bf)]===_0xfa5ebc);if(_0xd15e0e&&_0xd15e0e[_0xa0cbc2(0x9a9)]!==null){const _0x53b560=_0x305dbf[_0xa0cbc2(0xbed)]['findIndex'](_0x401215=>_0x401215===_0xd15e0e[_0xa0cbc2(0x72e)]);_0x53b560!==-0x1&&_0x1133c4[_0x53b560]&&(_0x1133c4[_0x53b560]['total']++,_0x4768d1['includes'](_0x292343)&&_0x1133c4[_0x53b560][_0xa0cbc2(0x6ea)]++,_0x9737c0[_0xa0cbc2(0x2e8)](_0x292343)&&_0x1133c4[_0x53b560][_0xa0cbc2(0xa0)]++);}}),_0x4866cf[_0x2b5f5e]=_0x1133c4;}),_0x4866cf;}function calculateReliabilityKR20(_0x3d1d5b,_0x4e9abf,_0x40705f){const _0x270a07=_0x3db3a6,_0x1e7dbf=_0x3d1d5b[_0x270a07(0x13f)][_0x270a07(0x110)];if(_0x1e7dbf<0x2||_0x4e9abf[_0x270a07(0x110)]<0x2)return null;const _0x559d6e=_0x4e9abf[_0x270a07(0x87e)](_0x3c2535=>_0x3c2535[_0x270a07(0x1ab)]),_0xa2437f=_0x559d6e[_0x270a07(0x53b)]((_0x2e503b,_0x198967)=>_0x2e503b+_0x198967,0x0)/_0x559d6e['length'],_0x374a4e=_0x559d6e[_0x270a07(0x87e)](_0x2e5b94=>Math[_0x270a07(0x388)](_0x2e5b94-_0xa2437f,0x2))['reduce']((_0xdcb991,_0x36b174)=>_0xdcb991+_0x36b174,0x0)/_0x559d6e['length'];if(_0x374a4e===0x0)return null;let _0x315a3b=0x0;for(let _0x475c8f=0x0;_0x475c8f<_0x1e7dbf;_0x475c8f++){const _0x5196df=_0x40705f[_0x475c8f]?.['p'];if(_0x5196df===undefined)continue;const _0x2395c5=0x1-_0x5196df;_0x315a3b+=_0x5196df*_0x2395c5;}if(_0x315a3b===0x0)return null;const _0x1b7064=_0x1e7dbf/(_0x1e7dbf-0x1)*(0x1-_0x315a3b/_0x374a4e);if(_0x1b7064>0x1)return null;return _0x1b7064;}async function handleAnalyzeClass(){const _0x28b8df=_0x3db3a6;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x5a395e=collection(db,_0x28b8df(0x981)+appId+_0x28b8df(0x1c4)+currentQuizData['id']+'/submissions'),_0x1d0683=await getDocs(_0x5a395e),_0x35e9ab=_0x1d0683[_0x28b8df(0xcf4)][_0x28b8df(0x87e)](_0x11f8fa=>_0x11f8fa['data']());if(_0x35e9ab[_0x28b8df(0x110)]<0x2){showMessage(_0x28b8df(0xac2));return;}const _0x190548=document['getElementById'](_0x28b8df(0x80b));_0x190548[_0x28b8df(0x545)]=_0x28b8df(0x60e),document['getElementById'](_0x28b8df(0x3a4))[_0x28b8df(0xc71)]=!![];const _0x311984=_0x35e9ab[_0x28b8df(0x87e)]((_0x4312ef,_0x362653)=>{const _0x569211=_0x28b8df,_0x52a30c=_0x4312ef[_0x569211(0x57f)][_0x4312ef['attempts'][_0x569211(0x110)]-0x1];if(!_0x52a30c)return'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20'+(_0x362653+0x1)+'\x20('+_0x4312ef['studentName']+_0x569211(0xa0c)+_0x52a30c[_0x569211(0x791)]+'/'+_0x4312ef['totalQuestions']+_0x569211(0x631)+JSON['stringify'](_0x52a30c[_0x569211(0x749)])+_0x569211(0x9ba);})[_0x28b8df(0xd6e)](_0x28b8df(0x1be)),_0x40d1b6=_0x28b8df(0x2f2)+currentQuizData[_0x28b8df(0xe5f)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20'+JSON['stringify'](currentQuizData[_0x28b8df(0x13f)])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x311984+_0x28b8df(0xcd7),_0x3f6425={'type':_0x28b8df(0xbc1),'properties':{'classStrengths':{'type':_0x28b8df(0x1ff),'items':{'type':'STRING'}},'classWeaknesses':{'type':_0x28b8df(0x1ff),'items':{'type':_0x28b8df(0xa44)}},'teacherSuggestions':{'type':'ARRAY','items':{'type':_0x28b8df(0xa44)}}},'required':[_0x28b8df(0x7ba),'classWeaknesses','teacherSuggestions']};try{const _0xa92c51=await callAnalysisApi(_0x40d1b6,_0x3f6425);displayClassAnalysis(_0xa92c51);}catch(_0x21d33e){console['error']('Error\x20during\x20class\x20analysis:',_0x21d33e),_0x190548[_0x28b8df(0x545)]='<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20'+_0x21d33e['message']+_0x28b8df(0x416);}finally{document[_0x28b8df(0x283)](_0x28b8df(0x3a4))['disabled']=![];}}function displayClassAnalysis(_0x2d7ac3){const _0x1db296=_0x3db3a6,_0x824b0b=document[_0x1db296(0x283)]('strength-weakness-analysis-container');if(!_0x2d7ac3){_0x824b0b[_0x1db296(0x545)]=_0x1db296(0x809);return;}_0x824b0b['innerHTML']=_0x1db296(0x917)+_0x2d7ac3[_0x1db296(0x7ba)][_0x1db296(0x87e)](_0x3a3200=>_0x1db296(0xd24)+_0x3a3200+'</li>')[_0x1db296(0xd6e)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2d7ac3[_0x1db296(0xd82)]['map'](_0x4fecdd=>_0x1db296(0xd24)+_0x4fecdd+_0x1db296(0x241))['join']('')+_0x1db296(0x909)+_0x2d7ac3[_0x1db296(0xd9f)]['map'](_0x364086=>'<li>'+_0x364086+_0x1db296(0x241))[_0x1db296(0xd6e)]('')+_0x1db296(0x8df);}function formatAndPrintWorksheet(_0x31fb78,_0x403a8b){const _0x4a2d4e=_0x3db3a6,_0x7f739=_0x4a2d4e(0xb67)+_0x31fb78[_0x4a2d4e(0xe5f)]+_0x4a2d4e(0x48f)+_0x31fb78[_0x4a2d4e(0xe5f)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x31fb78['questions']['map']((_0x40252f,_0x41ab49)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x41ab49+0x1)+'.\x20'+_0x40252f[_0x4a2d4e(0xb0e)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x40252f[_0x4a2d4e(0xc8b)]?_0x4a2d4e(0x450)+_0x40252f['imageCode']+_0x4a2d4e(0xdc0):'')+_0x4a2d4e(0x906))[_0x4a2d4e(0xd6e)]('')+_0x4a2d4e(0xb60);_0x403a8b['document'][_0x4a2d4e(0xa48)](_0x7f739),_0x403a8b['document']['close'](),_0x403a8b[_0x4a2d4e(0xafb)]=function(){setTimeout(()=>{const _0x213a01=_0x5ca2;_0x403a8b[_0x213a01(0x70d)]();},0x3e8);};}async function generateWorksheet(){const _0x2fba78=_0x3db3a6,_0x1de1fe=document[_0x2fba78(0x283)](_0x2fba78(0xc3e))['value'][_0x2fba78(0xc29)]();if(!_0x1de1fe){showMessage(_0x2fba78(0xad3));return;}const _0x3e26fd=document[_0x2fba78(0x283)](_0x2fba78(0xc5c))[_0x2fba78(0x61b)],_0x2a29cf=_0x3e26fd?'':'คณิตศาสตร์',_0x48d439=window[_0x2fba78(0x860)]('',_0x2fba78(0x6a6));_0x48d439['document'][_0x2fba78(0xa48)](_0x2fba78(0xa06));const _0x20bf2a=parseInt(document[_0x2fba78(0x283)](_0x2fba78(0x92c))[_0x2fba78(0xa89)]),_0x32dc72=document[_0x2fba78(0x283)](_0x2fba78(0x305))[_0x2fba78(0x61b)],_0x51523f=_0x32dc72?_0x2fba78(0x867):'',_0x2fe375='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x2a29cf+'ที่พิมพ์ได้\x20จำนวน\x20'+_0x20bf2a+_0x2fba78(0x4ef)+_0x1de1fe+_0x2fba78(0x3b5)+_0x51523f+_0x2fba78(0x9f8)+simpleMathPrompt+_0x2fba78(0x24e),_0x3dc181={'type':_0x2fba78(0xbc1),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2fba78(0x1ff),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0x2fba78(0xa44)},'imageCode':{'type':'STRING'}},'required':['questionText']}}},'required':['topic',_0x2fba78(0x13f)]};document['getElementById'](_0x2fba78(0x550))['textContent']='',document[_0x2fba78(0x283)](_0x2fba78(0x344))[_0x2fba78(0x605)]['remove'](_0x2fba78(0x9a0)),document[_0x2fba78(0x283)]('quiz-generation-area')[_0x2fba78(0x605)][_0x2fba78(0x31b)](_0x2fba78(0x9a0)),generateWorksheetBtn[_0x2fba78(0xc71)]=!![];try{const _0x14eb96=await callAnalysisApi(_0x2fe375,_0x3dc181);formatAndPrintWorksheet(_0x14eb96,_0x48d439);}catch(_0x13acc7){console[_0x2fba78(0xe4d)](_0x2fba78(0x3f9),_0x13acc7);if(_0x48d439)_0x48d439[_0x2fba78(0xaff)]();showMessage(_0x2fba78(0xc86));}finally{document[_0x2fba78(0x283)](_0x2fba78(0x344))['classList'][_0x2fba78(0xd74)]('hidden'),document[_0x2fba78(0x283)](_0x2fba78(0x1a0))[_0x2fba78(0x605)][_0x2fba78(0xd74)](_0x2fba78(0x9a0)),generateWorksheetBtn[_0x2fba78(0xc71)]=![];}}async function callAnalysisApi(_0x363eb5,_0x310c90){const _0x4d06e0=_0x3db3a6,_0xc04e91={'contents':[{'role':_0x4d06e0(0x633),'parts':[{'text':_0x363eb5}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x310c90}},_0x1d9be0=_0x4d06e0(0x7bd),_0x1a3b60=_0x4d06e0(0x83e)+_0x1d9be0,_0x3ebcf5=await fetch(_0x1a3b60,{'method':'POST','headers':{'Content-Type':_0x4d06e0(0x87b)},'body':JSON[_0x4d06e0(0x6b3)](_0xc04e91)});if(!_0x3ebcf5['ok'])throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x3ebcf5[_0x4d06e0(0x360)]);const _0x45ee37=await _0x3ebcf5['json']();if(_0x45ee37[_0x4d06e0(0x6af)]?.[0x0]?.[_0x4d06e0(0x44c)]?.[_0x4d06e0(0x5d5)]?.[0x0])return JSON['parse'](_0x45ee37[_0x4d06e0(0x6af)][0x0][_0x4d06e0(0x44c)][_0x4d06e0(0x5d5)][0x0][_0x4d06e0(0x38a)]);else{let _0x2b1b1c=_0x4d06e0(0x584);if(_0x45ee37[_0x4d06e0(0x88c)]?.[_0x4d06e0(0x6b7)])_0x2b1b1c=_0x4d06e0(0x564)+_0x45ee37[_0x4d06e0(0x88c)][_0x4d06e0(0x6b7)]+'.';else _0x45ee37[_0x4d06e0(0x6af)]?.[0x0]?.[_0x4d06e0(0x197)]&&_0x45ee37[_0x4d06e0(0x6af)][0x0][_0x4d06e0(0x197)]!=='STOP'&&(_0x2b1b1c=_0x4d06e0(0x208)+_0x45ee37['candidates'][0x0]['finishReason']+'.');console[_0x4d06e0(0xe4d)](_0x2b1b1c,JSON[_0x4d06e0(0x6b3)](_0x45ee37));throw new Error(_0x2b1b1c);}}async function handleStartSyncMode(_0x26e34a,_0x2459fa=![],_0x543c28=_0x3db3a6(0x6ac)){const _0x5a1b00=_0x3db3a6,_0x137a62=allQuizzes[_0x5a1b00(0xe8)](_0x51448f=>_0x51448f['id']===_0x26e34a)||allQuizzesGlobal[_0x5a1b00(0xe8)](_0x44b773=>_0x44b773['id']===_0x26e34a);if(!_0x137a62){showMessage(_0x5a1b00(0x393));return;}currentQuizData=getShuffledQuiz(_0x137a62);const _0x202dcb=Math[_0x5a1b00(0x7f6)](0x3e8+Math[_0x5a1b00(0x2cc)]()*0x2328)[_0x5a1b00(0x99d)](),_0x3d2abd=doc(db,_0x5a1b00(0x981)+appId+_0x5a1b00(0x7ee),_0x137a62[_0x5a1b00(0x47e)]),_0x430e38=await getDoc(_0x3d2abd);if(!_0x430e38[_0x5a1b00(0xaed)]()){showMessage(_0x5a1b00(0xbb1));return;}const _0x2c5115=_0x430e38[_0x5a1b00(0x366)]()[_0x5a1b00(0x138)]||[],_0x2a3ca4={};if(_0x543c28===_0x5a1b00(0x2c0)||_0x543c28==='anonymous_reveal_end'){const _0x88e35d=[...ANONYMOUS_NAMES][_0x5a1b00(0x667)](()=>0.5-Math['random']());_0x2c5115[_0x5a1b00(0x277)]((_0x52c9b6,_0x45b415)=>{const _0x3d4112=_0x5a1b00;_0x2a3ca4[_0x52c9b6]=_0x88e35d[_0x45b415]||_0x3d4112(0x7c7)+(_0x45b415+0x1);});}const _0xfe158d=document[_0x5a1b00(0x283)](_0x5a1b00(0xd99))[_0x5a1b00(0x61b)],_0x10b254=parseInt(document['getElementById'](_0x5a1b00(0xa4))[_0x5a1b00(0xa89)],0xa);let _0x2333e2={'timerMode':'none','timerDuration':0x0};_0xfe158d&&(_0x2333e2[_0x5a1b00(0xe4b)]='per_question',_0x2333e2[_0x5a1b00(0x730)]=_0x10b254||0xf0);const _0x39e924=document[_0x5a1b00(0x283)](_0x5a1b00(0x336))['checked'],_0x526430=document[_0x5a1b00(0x283)]('enable-black-market-checkbox')['checked'];try{const _0x6b86f5=await addDoc(collection(db,_0x5a1b00(0x981)+appId+_0x5a1b00(0x7f8)),{'quizId':_0x137a62['id'],'pin':_0x202dcb,'status':_0x5a1b00(0xd8),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x2459fa,'players':{},'gameVariant':_0x543c28,'reviewQuestionIndex':0x0,'playerNicknames':_0x2a3ca4,'isAnonymousRevealed':![],..._0x2333e2,'showAnswerInAnonymous':_0x39e924,'isBlackMarketEnabled':_0x526430,'showSlowResponders':!![],'slowResponderCount':0x3});currentLiveGameId=_0x6b86f5['id'],showView('live-game'),renderSyncLobbyView(_0x202dcb,_0x137a62[_0x5a1b00(0xe5f)]),listenForSyncGameUpdates();const _0x37b22d={'gameId':currentLiveGameId,'mode':_0x5a1b00(0xa8e),'role':_0x5a1b00(0xa9)};sessionStorage[_0x5a1b00(0xba0)](_0x5a1b00(0xd4d),JSON[_0x5a1b00(0x6b3)](_0x37b22d));}catch(_0x2dd8d7){console['error'](_0x5a1b00(0x919),_0x2dd8d7),showMessage(_0x5a1b00(0xe4f));}}function calculateFinalPodiumScores(_0x38bee2){const _0x37f598=_0x3db3a6;if(!_0x38bee2||!_0x38bee2['shuffledQuiz']||!_0x38bee2[_0x37f598(0x5ec)])return _0x38bee2[_0x37f598(0x5ec)]||{};const _0x3905e3=_0x38bee2[_0x37f598(0x84d)][_0x37f598(0x13f)]['length'],_0x21fef1=JSON[_0x37f598(0x11c)](JSON[_0x37f598(0x6b3)](_0x38bee2[_0x37f598(0x5ec)]));return Object[_0x37f598(0x2e5)](_0x21fef1)['forEach'](_0x54664f=>{const _0xe66fe=_0x37f598,_0x503021=_0x54664f[_0xe66fe(0x791)]||0x0,_0x47eedb=_0x54664f['totalPoints']||0x0;_0x3905e3>0x0&&_0x503021===_0x3905e3?_0x54664f[_0xe66fe(0xde4)]=!![]:_0x54664f[_0xe66fe(0xde4)]=![],_0x54664f[_0xe66fe(0x6d9)]=_0x503021,_0x54664f[_0xe66fe(0xd53)]=_0x47eedb;}),_0x21fef1;}let cachedGameData=null,cachedPlayerData={},unsubscribePlayerDocListener=null,unsubscribePlayersCollectionListener=null;function listenForSyncGameUpdates(){const _0x16c207=_0x3db3a6;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();if(unsubscribePlayerDocListener)unsubscribePlayerDocListener();if(unsubscribePlayersCollectionListener)unsubscribePlayersCollectionListener();cachedPlayerData={},cachedGameData=null;const _0xf1a282=doc(db,_0x16c207(0x981)+appId+'/public/data/syncGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0xf1a282,_0x382af5=>{const _0x39b50d=_0x16c207;if(!_0x382af5[_0x39b50d(0xaed)]()){sessionStorage[_0x39b50d(0xdc2)]('activeGameSession'),showMessage(_0x39b50d(0xdd7));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x39b50d(0xa9)?showView(_0x39b50d(0x964)):showView('student');return;}cachedGameData=_0x382af5[_0x39b50d(0x366)](),cachedGameData['shuffledQuiz']&&(currentQuizData=cachedGameData[_0x39b50d(0x84d)]),syncDataAndRender();});const _0x3e4f05=collection(db,'artifacts/'+appId+'/public/data/syncGames/'+currentLiveGameId+_0x16c207(0x25a));if(currentMode===_0x16c207(0xa9))unsubscribePlayersCollectionListener=onSnapshot(_0x3e4f05,_0x523904=>{const _0x2f00a9=_0x16c207;_0x523904[_0x2f00a9(0xd13)]()[_0x2f00a9(0x277)](_0x34523a=>{const _0x517316=_0x2f00a9;if(_0x34523a[_0x517316(0x816)]===_0x517316(0x242)||_0x34523a[_0x517316(0x816)]==='modified')cachedPlayerData[_0x34523a[_0x517316(0xb80)]['id']]=_0x34523a[_0x517316(0xb80)]['data']();else _0x34523a[_0x517316(0x816)]===_0x517316(0x4da)&&delete cachedPlayerData[_0x34523a[_0x517316(0xb80)]['id']];}),syncDataAndRender();});else{if(localTeamPlayers&&localTeamPlayers[_0x16c207(0x110)]>0x0){const _0x5a1060=query(_0x3e4f05,where(_0x16c207(0x339),'in',localTeamPlayers));unsubscribePlayersCollectionListener=onSnapshot(_0x5a1060,_0x454ef7=>{const _0x2c5f59=_0x16c207;_0x454ef7[_0x2c5f59(0xd13)]()[_0x2c5f59(0x277)](_0x4ff64b=>{const _0x3e2f0a=_0x2c5f59;(_0x4ff64b[_0x3e2f0a(0x816)]===_0x3e2f0a(0x242)||_0x4ff64b[_0x3e2f0a(0x816)]===_0x3e2f0a(0x5c2))&&(cachedPlayerData[_0x4ff64b['doc']['id']]=_0x4ff64b[_0x3e2f0a(0xb80)][_0x3e2f0a(0x366)]());}),syncDataAndRender();});}}}function syncDataAndRender(){const _0x1d79c5=_0x3db3a6;if(!cachedGameData)return;const _0x4bded8={},_0x52b90b=cachedGameData[_0x1d79c5(0x854)];Object[_0x1d79c5(0x598)](cachedPlayerData)[_0x1d79c5(0x277)](_0x217459=>{const _0x51d77d=_0x1d79c5,_0x2c990f=cachedPlayerData[_0x217459],_0xcca930=_0x2c990f[_0x51d77d(0x749)]&&_0x2c990f[_0x51d77d(0x749)][_0x51d77d(0xbf4)](_0x528eee=>_0x528eee['questionIndex']===_0x52b90b);_0x4bded8[_0x217459]={..._0x2c990f,'answered':_0xcca930};});const _0x18f035={...cachedGameData,'players':_0x4bded8};currentMode===_0x1d79c5(0xa9)?updateAdminSyncView(_0x18f035):updateStudentSyncView(_0x18f035);}function renderSyncLobbyView(_0x12a51f,_0x4a5f63){const _0x47005e=_0x3db3a6;liveGameView[_0x47005e(0x545)]=_0x47005e(0x2dc)+_0x4a5f63+_0x47005e(0x4ee)+_0x12a51f+_0x47005e(0xc2b);const _0x468691=document[_0x47005e(0x283)]('confidence-scoring-toggle'),_0x1e98bc=document[_0x47005e(0x283)](_0x47005e(0x3ef));_0x468691['addEventListener'](_0x47005e(0xbb6),()=>{const _0x1484a0=_0x47005e;_0x1e98bc[_0x1484a0(0xbeb)][_0x1484a0(0x853)]=_0x468691[_0x1484a0(0x61b)]?_0x1484a0(0xbbd):_0x1484a0(0xdff);}),document['getElementById'](_0x47005e(0x129))[_0x47005e(0x844)](_0x47005e(0x425),async()=>{const _0x5f377c=_0x47005e,_0x14fb70=doc(db,_0x5f377c(0x981)+appId+'/public/data/syncGames',currentLiveGameId),_0x3a671b=document[_0x5f377c(0x283)](_0x5f377c(0x5ab))[_0x5f377c(0x61b)];await updateDoc(_0x14fb70,{'status':_0x5f377c(0xc78),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x3a671b});});}function updateAdminSyncView(_0x4e9438){const _0x2481d3=_0x3db3a6;if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x4e9438['status']){case'lobby':renderSyncLobbyView(_0x4e9438[_0x2481d3(0xc57)],_0x4e9438['shuffledQuiz'][_0x2481d3(0xe5f)]);const _0x4028a8=Object[_0x2481d3(0xa71)](_0x4e9438[_0x2481d3(0x5ec)]||{})[_0x2481d3(0x1a1)](([_0x3b2483,_0x328f23])=>_0x328f23[_0x2481d3(0x360)]!==_0x2481d3(0x69e));document[_0x2481d3(0x283)]('player-count')[_0x2481d3(0x1bd)]=_0x4028a8[_0x2481d3(0x110)],document['getElementById'](_0x2481d3(0x783))['innerHTML']=_0x4028a8[_0x2481d3(0x87e)](([_0x2a6831,_0x330c6f])=>_0x2481d3(0x373)+_0x2a6831+_0x2481d3(0x9c4)+_0x2a6831+_0x2481d3(0xbdb))['join']('')||_0x2481d3(0x3aa),document['getElementById'](_0x2481d3(0x129))[_0x2481d3(0xc71)]=_0x4028a8[_0x2481d3(0x110)]===0x0;break;case _0x2481d3(0xc78):const _0x2fdaea=Object[_0x2481d3(0x2e5)](_0x4e9438['players']||{})[_0x2481d3(0x1a1)](_0x5ed18e=>_0x5ed18e[_0x2481d3(0x360)]!=='inactive'),_0x66163f=_0x2fdaea[_0x2481d3(0x1a1)](_0x540fe3=>_0x540fe3[_0x2481d3(0xc68)]===!![]||_0x540fe3[_0x2481d3(0xa9c)]===!![]),_0xd609c8=_0x2fdaea[_0x2481d3(0x1a1)](_0x1cecc1=>!_0x1cecc1[_0x2481d3(0xc68)]&&!_0x1cecc1[_0x2481d3(0xa9c)]),_0x433853=_0x66163f[_0x2481d3(0x110)],_0x1a6c17=_0xd609c8[_0x2481d3(0x110)],_0x5965a2=_0x2fdaea[_0x2481d3(0x110)],_0x4b0e20=_0x433853===_0x5965a2&&_0x5965a2>0x0;if(_0x4b0e20&&_0x4e9438['status']===_0x2481d3(0xc78)){const _0x34532a=doc(db,_0x2481d3(0x981)+appId+_0x2481d3(0x7f8),currentLiveGameId);updateDoc(_0x34532a,{'status':_0x2481d3(0xe2e)});return;}if(document[_0x2481d3(0x283)]('sync-player-management')===null)renderAdminSyncQuestionView(_0x4e9438);else{const _0x138d63=document[_0x2481d3(0x283)]('answer-counter');_0x138d63&&(_0x138d63[_0x2481d3(0x1bd)]=_0x433853+'/'+_0x5965a2);const _0x48e5e1=document['getElementById'](_0x2481d3(0xb4a));if(_0x48e5e1)_0x48e5e1[_0x2481d3(0xc71)]=!_0x4b0e20;const _0x329fc8=document[_0x2481d3(0x283)]('sync-player-list');_0x329fc8&&(_0x329fc8[_0x2481d3(0x545)]=_0x2fdaea[_0x2481d3(0x87e)](_0x2ca4eb=>{const _0x57a9e4=_0x2481d3,_0x27f01b=_0x2ca4eb[_0x57a9e4(0xc68)]===!![]||_0x2ca4eb[_0x57a9e4(0xa9c)]===!![],_0x2d805a=_0x27f01b?'bg-green-500':'bg-gray-600',_0x5748dd=_0x27f01b?_0x57a9e4(0x5fb):_0x57a9e4(0xb9);return'<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x2d805a+_0x57a9e4(0x808)+_0x5748dd+_0x57a9e4(0x1f1)+_0x2ca4eb[_0x57a9e4(0x339)]+_0x57a9e4(0x8fa)+_0x2ca4eb['name']+_0x57a9e4(0x302);})[_0x2481d3(0xd6e)](''));const _0x5bdac7=document[_0x2481d3(0x283)]('manage-total-players'),_0x3e305e=document[_0x2481d3(0x283)]('manage-waiting-players');if(_0x5bdac7)_0x5bdac7[_0x2481d3(0x1bd)]=_0x5965a2;if(_0x3e305e)_0x3e305e[_0x2481d3(0x1bd)]=_0x1a6c17;const _0x3cfb45=_0x4e9438[_0x2481d3(0x2a0)]!==![],_0x193c1b=parseInt(_0x4e9438['slowResponderCount']||0x3,0xa),_0x3aeab1=document[_0x2481d3(0x283)](_0x2481d3(0xa05));if(_0x3aeab1){if(_0x3cfb45&&_0x1a6c17>0x0&&_0x1a6c17<=_0x193c1b&&_0x5965a2>_0x1a6c17){const _0x5dce6c=_0xd609c8[_0x2481d3(0x87e)](_0x10c3b8=>_0x10c3b8['name'])['join'](',\x20');_0x3aeab1[_0x2481d3(0x545)]=_0x2481d3(0x80d)+_0x1a6c17+_0x2481d3(0xb88)+_0x5dce6c+_0x2481d3(0x95a);}else _0x3aeab1[_0x2481d3(0x545)]='';}}const _0x406692=_0x4e9438[_0x2481d3(0xe4b)]==='per_question'&&_0x4e9438[_0x2481d3(0x674)];if(_0x406692){const _0x3bf7be=_0x4e9438[_0x2481d3(0x674)]['toDate']()['getTime'](),_0x40a634=_0x4e9438[_0x2481d3(0x730)]*0x3e8,_0x13b019=_0x3bf7be+_0x40a634,_0x38685e=document[_0x2481d3(0x283)](_0x2481d3(0x665)),_0x5cca5e=document[_0x2481d3(0x283)](_0x2481d3(0xae));syncQuestionTimerInterval=setInterval(()=>{const _0x1cab7c=_0x2481d3,_0x25199f=Date['now'](),_0x44e269=_0x2fdaea[_0x1cab7c(0x110)]>0x0&&_0x2fdaea[_0x1cab7c(0xaf9)](_0x4d7390=>{const _0x7a248e=_0x1cab7c;if(_0x4d7390[_0x7a248e(0xc68)])return!![];const _0x17ff87=_0x4d7390[_0x7a248e(0x132)]||0x0;return _0x25199f>=_0x3bf7be+_0x40a634+_0x17ff87;});if(_0x44e269){clearInterval(syncQuestionTimerInterval);const _0x7d8535=doc(db,_0x1cab7c(0x981)+appId+_0x1cab7c(0x7f8),currentLiveGameId);updateDoc(_0x7d8535,{'status':_0x1cab7c(0xe2e)});return;}const _0x57d7e5=_0x13b019-_0x25199f;if(_0x57d7e5<=0x0){if(_0x38685e)_0x38685e[_0x1cab7c(0xbeb)]['width']='0%';if(_0x5cca5e)_0x5cca5e[_0x1cab7c(0x1bd)]=_0x1cab7c(0x589);}else{if(_0x38685e&&_0x5cca5e){const _0x2498d1=_0x57d7e5/_0x40a634*0x64;_0x38685e['style']['width']=_0x2498d1+'%',_0x5cca5e[_0x1cab7c(0x1bd)]=Math[_0x1cab7c(0x9ae)](_0x57d7e5/0x3e8);}}},0x1f4);}break;case'summary':const _0x3d30b2=_0x4e9438['currentQuestionIndex'],_0x38233f=_0x4e9438[_0x2481d3(0x84d)][_0x2481d3(0x13f)][_0x3d30b2];renderSyncSummaryView(_0x4e9438,_0x38233f,!![]);break;case _0x2481d3(0x940):const _0x386bdc=_0x4e9438[_0x2481d3(0x5f3)]||_0x2481d3(0x6ac);_0x386bdc===_0x2481d3(0xa1c)||_0x386bdc===_0x2481d3(0x6de)?renderAdminSyncDashboard(_0x4e9438,!![],_0x4e9438[_0x2481d3(0x178)]):(_0x4e9438[_0x2481d3(0x360)]===_0x2481d3(0x940)&&!_0x4e9438['scoresCalculated']&&((async()=>{const _0x13a267=_0x2481d3;try{const _0x379252=doc(db,_0x13a267(0x981)+appId+'/public/data/syncGames',currentLiveGameId);await updateDoc(_0x379252,{'scoresCalculated':!![]});const _0x4572a2=cachedPlayerData||{},_0x298322=_0x4e9438[_0x13a267(0x84d)][_0x13a267(0x13f)]['length'],_0x305cfd=_0x4e9438[_0x13a267(0x854)],_0x61edf4=writeBatch(db);let _0x2782b8=0x0;const _0x32e173=[];Object[_0x13a267(0xa71)](_0x4572a2)[_0x13a267(0x277)](([_0x127e5d,_0x5e5ac4])=>{const _0x40358b=_0x13a267;if(_0x5e5ac4[_0x40358b(0x360)]!==_0x40358b(0x69e)){const _0x5b32d3=(_0x5e5ac4['answers']||[])[_0x40358b(0xe8)](_0x5c348d=>_0x5c348d[_0x40358b(0xda4)]===_0x305cfd);if(_0x5b32d3&&_0x5b32d3[_0x40358b(0xba6)]===_0x40358b(0xc8e)){const _0x4d5a27=_0x5b32d3[_0x40358b(0x782)]||0x0;_0x5b32d3[_0x40358b(0xb7c)]?_0x32e173['push'](_0x127e5d):_0x2782b8+=_0x4d5a27;}}});const _0x137182=_0x4e9438[_0x13a267(0xd14)]||0x0,_0x115503=_0x137182+_0x2782b8;let _0x35e624=0x0,_0x4416d6=_0x115503;_0x32e173[_0x13a267(0x110)]>0x0&&_0x115503>0x0&&(_0x35e624=Math[_0x13a267(0x7f6)](_0x115503/_0x32e173[_0x13a267(0x110)]),_0x4416d6=_0x115503%_0x32e173[_0x13a267(0x110)]);const _0x5a7d43=[];Object['values'](_0x4572a2)[_0x13a267(0x277)](_0x3478dc=>{const _0x43a7cc=_0x13a267;if(_0x3478dc['status']!==_0x43a7cc(0x69e)){const _0x1370cd=_0x3478dc[_0x43a7cc(0x339)],_0x1692b7=doc(db,'artifacts/'+appId+_0x43a7cc(0x395)+currentLiveGameId+_0x43a7cc(0x25a),_0x1370cd);let _0x4ce718=0x0,_0x3ac5b1=_0x3478dc[_0x43a7cc(0x749)];_0x32e173['includes'](_0x1370cd)&&_0x35e624>0x0&&(_0x4ce718=_0x35e624,_0x3ac5b1=(_0x3478dc[_0x43a7cc(0x749)]||[])['map'](_0x42a567=>{if(_0x42a567['questionIndex']===_0x305cfd)return{..._0x42a567,'potBonus':_0x35e624};return _0x42a567;}),_0x61edf4[_0x43a7cc(0xd55)](_0x1692b7,{'answers':_0x3ac5b1}));const _0x1b36f1=_0x3478dc[_0x43a7cc(0x791)]||0x0;let _0x15fd87=_0x3478dc[_0x43a7cc(0xd53)]||0x0;_0x15fd87+=_0x4ce718,_0x298322>0x0&&_0x1b36f1===_0x298322&&(_0x15fd87+=0x1),_0x61edf4[_0x43a7cc(0xd55)](_0x1692b7,{'score':_0x1b36f1,'totalPoints':_0x15fd87,'pointsLastRound':_0x15fd87}),_0x5a7d43[_0x43a7cc(0x827)]({..._0x3478dc,'score':_0x1b36f1,'totalPoints':_0x15fd87,'pointsLastRound':_0x15fd87,'answers':_0x3ac5b1,'correctStreak':_0x3478dc[_0x43a7cc(0xa2e)]});}}),_0x61edf4['update'](_0x379252,{'centralPot':_0x4416d6,'publicLeaderboard':_0x5a7d43}),await _0x61edf4[_0x13a267(0x85d)](),console[_0x13a267(0x6e6)]('Pot\x20Distributed.\x20Leaderboard\x20Updated.');}catch(_0xbf41a8){console[_0x13a267(0xe4d)](_0x13a267(0xe30),_0xbf41a8);}})()),renderAdminSyncDashboard(_0x4e9438,!![],_0x4e9438['currentQuestionIndex']));break;case'podium':const _0x5c5382=Object['keys'](_0x4e9438[_0x2481d3(0x5ec)]||{})[_0x2481d3(0x110)]>0x0,_0x52e38d=_0x4e9438[_0x2481d3(0x2ec)]===!![],_0x498333=_0x4e9438['shouldSaveResults']===!![];_0x498333&&!_0x52e38d&&_0x5c5382&&saveGameResultsAsSubmissions(_0x4e9438);sessionStorage[_0x2481d3(0xdc2)](_0x2481d3(0xd4d));const _0x4c52c9=calculateFinalPodiumScores(_0x4e9438);showPodiumView(_0x4c52c9,'sync',_0x4e9438);break;}}function renderAdminSyncQuestionView(_0x33c3c4){const _0x20cba3=_0x3db3a6,_0x2f9d5a=_0x33c3c4[_0x20cba3(0x854)],_0x423859=_0x33c3c4['shuffledQuiz'][_0x20cba3(0x13f)][_0x2f9d5a],_0x569248=_0x33c3c4[_0x20cba3(0x84d)]['questions'][_0x20cba3(0x110)],_0x571b1b=Object[_0x20cba3(0x2e5)](_0x33c3c4['players']||{})[_0x20cba3(0x1a1)](_0x3861ac=>_0x3861ac[_0x20cba3(0x360)]!=='inactive'),_0x45d085=_0x571b1b[_0x20cba3(0x1a1)](_0x41868a=>_0x41868a[_0x20cba3(0xc68)]===!![]||_0x41868a[_0x20cba3(0xa9c)]===!![]),_0x4a8ab9=_0x571b1b['filter'](_0x3576ec=>!_0x3576ec['answered']&&!_0x3576ec[_0x20cba3(0xa9c)]),_0xc2df81=_0x45d085['length'],_0x5b3395=_0x571b1b['length'],_0x5d6cc1=_0x4a8ab9[_0x20cba3(0x110)],_0x33749f=_0xc2df81===_0x5b3395&&_0x5b3395>0x0,_0x5e4103=_0x33c3c4[_0x20cba3(0x2a0)]!==![],_0x473f9e=parseInt(_0x33c3c4[_0x20cba3(0x77d)]||0x3,0xa),_0x485ee4=getCentralPotHTML(_0x33c3c4),_0x29569e=_0x423859[_0x20cba3(0x430)]||_0x33c3c4[_0x20cba3(0x84d)]['quizType'];let _0x504cb0='';(_0x29569e===_0x20cba3(0x358)||_0x29569e==='fill_in_no_choices')&&_0x423859[_0x20cba3(0xbed)]&&_0x423859[_0x20cba3(0xbed)][_0x20cba3(0x110)]>0x0?_0x504cb0=_0x20cba3(0x570):_0x504cb0=(_0x423859['options']||[])[_0x20cba3(0x87e)](_0x2da852=>_0x20cba3(0xb33)+_0x2da852+_0x20cba3(0xdc0))[_0x20cba3(0xd6e)]('');let _0x33ee01='';_0x33c3c4['timerMode']===_0x20cba3(0x680)&&(_0x33ee01=_0x20cba3(0xb7e)+_0x33c3c4[_0x20cba3(0x730)]+_0x20cba3(0xc08));const _0x18af92=_0x571b1b['map'](_0x330d2e=>{const _0x2ef4a4=_0x20cba3,_0x28bc3f=_0x330d2e['answered']===!![]||_0x330d2e['answeredCurrentQuestion']===!![],_0x2c2818=_0x28bc3f?_0x2ef4a4(0x2b2):_0x2ef4a4(0x262),_0x4ca7b9=_0x28bc3f?_0x2ef4a4(0x5fb):_0x2ef4a4(0xb9);return'<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x2c2818+_0x2ef4a4(0x808)+_0x4ca7b9+_0x2ef4a4(0x1f1)+_0x330d2e[_0x2ef4a4(0x339)]+_0x2ef4a4(0x8fa)+_0x330d2e[_0x2ef4a4(0x339)]+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x20ml-1\x20hover:bg-red-500/20\x20rounded-full\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button></div>';})[_0x20cba3(0xd6e)]('');let _0x4e78d3='';if(_0x5e4103&&_0x5d6cc1>0x0&&_0x5d6cc1<=_0x473f9e&&_0x5b3395>_0x5d6cc1){const _0x5a23c4=_0x4a8ab9[_0x20cba3(0x87e)](_0x257c43=>_0x257c43[_0x20cba3(0x339)])[_0x20cba3(0xd6e)](',\x20');_0x4e78d3=_0x20cba3(0xc9b)+_0x5d6cc1+_0x20cba3(0x47d)+_0x5a23c4+_0x20cba3(0x20b);}else _0x4e78d3=_0x20cba3(0x88d);liveGameView[_0x20cba3(0x545)]=_0x20cba3(0x483)+(_0x2f9d5a+0x1)+'\x20/\x20'+_0x569248+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22><i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>'+_0x33c3c4['pin']+_0x20cba3(0x7e5)+_0x485ee4+_0x20cba3(0x8c9)+_0xc2df81+'/'+_0x5b3395+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x20border\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users-cog\x20mr-1\x22></i>\x20จัดการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-sm\x20border\x20border-white/10\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-wrap\x20items-center\x20justify-between\x20mb-3\x20pb-2\x20border-b\x20border-white/10\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20cursor-pointer\x20text-yellow-300\x20hover:text-yellow-200\x20select-none\x20bg-black/20\x20px-2\x20py-1\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22toggle-slow-responders\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20rounded\x22\x20'+(_0x5e4103?_0x20cba3(0x61b):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-2\x20font-semibold\x22><i\x20class=\x22fas\x20fa-bell\x22></i>\x20แจ้งเตือนคนช้า</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20text-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>เตือนเมื่อเหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22number\x22\x20id=\x22input-slow-count\x22\x20value=\x22'+_0x473f9e+_0x20cba3(0x27a)+Math[_0x20cba3(0x8c3)](0x1,_0x5b3395-0x1)+_0x20cba3(0xba4)+_0x18af92+_0x20cba3(0x910)+_0x33ee01+_0x20cba3(0xc4f)+(_0x423859['questionText']||_0x423859[_0x20cba3(0x2f5)])+_0x20cba3(0x961)+_0x504cb0+_0x20cba3(0x920)+_0x4e78d3+_0x20cba3(0xa7b)+(!_0x33749f?_0x20cba3(0xc71):'')+_0x20cba3(0x9d8);if(window['MathJax'])MathJax['typesetPromise']();const _0x5e62ab=doc(db,_0x20cba3(0x981)+appId+_0x20cba3(0x7f8),currentLiveGameId);document[_0x20cba3(0x283)](_0x20cba3(0xb4a))[_0x20cba3(0x844)](_0x20cba3(0x425),async()=>{await updateDoc(_0x5e62ab,{'status':'summary'});}),document[_0x20cba3(0x283)](_0x20cba3(0x7dc))[_0x20cba3(0x74a)]=()=>{const _0x544eb2=_0x20cba3;openScratchpad(_0x423859,_0x423859[_0x544eb2(0xbed)]||[]);};const _0x29cafa=document[_0x20cba3(0x283)](_0x20cba3(0xdb7));document[_0x20cba3(0x283)]('sync-manage-players-btn')[_0x20cba3(0x844)]('click',()=>{const _0x40ced2=_0x20cba3;_0x29cafa['classList'][_0x40ced2(0x31b)]('hidden');}),document['getElementById'](_0x20cba3(0xde3))[_0x20cba3(0x844)](_0x20cba3(0x425),()=>{const _0x533c4c=_0x20cba3;_0x29cafa[_0x533c4c(0x605)][_0x533c4c(0xd74)](_0x533c4c(0x9a0));}),document[_0x20cba3(0x283)]('toggle-slow-responders')[_0x20cba3(0x844)](_0x20cba3(0xbb6),async _0x13c7e5=>{const _0x121939=_0x20cba3;await updateDoc(_0x5e62ab,{'showSlowResponders':_0x13c7e5[_0x121939(0x543)][_0x121939(0x61b)]});}),document[_0x20cba3(0x283)](_0x20cba3(0x834))[_0x20cba3(0x844)](_0x20cba3(0xbb6),async _0x42447e=>{const _0x133ff6=_0x20cba3;let _0xbfeb82=parseInt(_0x42447e[_0x133ff6(0x543)][_0x133ff6(0xa89)]);if(_0xbfeb82<0x1)_0xbfeb82=0x1;await updateDoc(_0x5e62ab,{'slowResponderCount':_0xbfeb82});});const _0x1ae37b=document[_0x20cba3(0x283)]('end-sync-game-btn');_0x1ae37b&&(_0x1ae37b[_0x20cba3(0x74a)]=()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้?',async()=>{const _0x94d540=_0x5ca2;await updateDoc(_0x5e62ab,{'status':_0x94d540(0x46f)});});});}function renderSyncLeaderboardView(_0x71a73b,_0x28960b){const _0x32f822=_0x3db3a6,_0x19c870=Object['values'](_0x71a73b[_0x32f822(0x5ec)]||{});_0x19c870[_0x32f822(0x667)]((_0x5e0dc3,_0x48ba80)=>_0x48ba80[_0x32f822(0x791)]-_0x5e0dc3[_0x32f822(0x791)]);const _0x562f27=_0x19c870['slice'](0x0,0x5);let _0x155b6e='';if(_0x28960b){const _0x247d3d=_0x71a73b['currentQuestionIndex']>=_0x71a73b[_0x32f822(0x84d)]['questions'][_0x32f822(0x110)]-0x1;_0x155b6e=_0x32f822(0x957)+(_0x247d3d?'ดูผลสรุปสุดท้าย':_0x32f822(0xc30))+_0x32f822(0x7d8);}else _0x155b6e=_0x32f822(0x722);liveGameView[_0x32f822(0x545)]=_0x32f822(0x1bc)+_0x562f27[_0x32f822(0x87e)]((_0x1d2729,_0x115e3c)=>'<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>'+(_0x115e3c+0x1)+'.\x20'+_0x1d2729[_0x32f822(0x339)]+_0x32f822(0x381)+_0x1d2729['score']+_0x32f822(0x998))[_0x32f822(0xd6e)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x155b6e+_0x32f822(0x1f9),_0x28960b&&document[_0x32f822(0x283)](_0x32f822(0x7a1))['addEventListener'](_0x32f822(0x425),async()=>{const _0x27c6a9=_0x32f822,_0x1c2e63=doc(db,_0x27c6a9(0x981)+appId+_0x27c6a9(0x7f8),currentLiveGameId),_0x1e1736=_0x71a73b[_0x27c6a9(0x854)]+0x1;if(_0x1e1736<_0x71a73b['shuffledQuiz'][_0x27c6a9(0x13f)][_0x27c6a9(0x110)]){const _0x2c8998={};Object['keys'](_0x71a73b[_0x27c6a9(0x5ec)])[_0x27c6a9(0x277)](_0x5ae9f1=>{const _0x5b4ba5=_0x27c6a9;_0x2c8998[_0x5b4ba5(0xcf2)+_0x5ae9f1+_0x5b4ba5(0x62f)]=![];}),await updateDoc(_0x1c2e63,{'status':_0x27c6a9(0xc78),'currentQuestionIndex':_0x1e1736,'questionDisplayedAt':serverTimestamp(),'scoresCalculated':![]});}else await updateDoc(_0x1c2e63,{'status':'podium'});});}async function handleJoinSyncGame(){const _0x449678=_0x3db3a6,_0x3c3ac5=prompt('กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):');if(!_0x3c3ac5||_0x3c3ac5[_0x449678(0xc29)]()[_0x449678(0x110)]!==0x2){showMessage(_0x449678(0x781));return;}try{const _0x248f37=collection(db,_0x449678(0x981)+appId+_0x449678(0x7f8)),_0x21dc5e=query(_0x248f37,where('pin','==',_0x3c3ac5[_0x449678(0xc29)]()),where(_0x449678(0x360),'==',_0x449678(0xd8))),_0xcb4108=await getDocs(_0x21dc5e);if(_0xcb4108[_0x449678(0x43c)]){showMessage('ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว');return;}const _0x2d0b93=_0xcb4108[_0x449678(0xcf4)][0x0];currentLiveGameId=_0x2d0b93['id'];const _0x176337=_0x2d0b93['data'](),_0x26fa8f=doc(db,_0x449678(0x981)+appId+'/public/data/quizzes',_0x176337[_0x449678(0xbc3)]),_0x1d11aa=await getDoc(_0x26fa8f);if(!_0x1d11aa['exists']())throw new Error(_0x449678(0x708));const _0xf51f19=_0x1d11aa[_0x449678(0x366)](),_0x2baf5b=doc(db,'artifacts/'+appId+'/public/data/projects',_0xf51f19['projectId']),_0x6f4c51=await getDoc(_0x2baf5b);if(!_0x6f4c51['exists']())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x176337[_0x449678(0x84d)];const _0x31e8f4=_0x6f4c51['data']();showView('student-team-join'),showTeamPlayerSelection(_0x31e8f4['students'],_0xf51f19[_0x449678(0xe5f)]);const _0x3592ca=document[_0x449678(0x283)](_0x449678(0x1c2));_0x3592ca[_0x449678(0x74a)]=confirmAndJoinSyncGame;}catch(_0x2d25eb){console['error'](_0x449678(0x7d7),_0x2d25eb),showMessage('เกิดข้อผิดพลาด:\x20'+_0x2d25eb[_0x449678(0x226)]);}}function updateStudentSyncView(_0x28239b){const _0x4a9568=_0x3db3a6,_0x44303b=localTeamPlayers[0x0],_0x2294ff=_0x28239b[_0x4a9568(0x5ec)][_0x44303b]||{};if(syncQuestionTimerInterval)clearInterval(syncQuestionTimerInterval);switch(_0x28239b['status']){case'lobby':showView(_0x4a9568(0x939)),liveGameView[_0x4a9568(0x545)]=_0x4a9568(0x55d);break;case _0x4a9568(0xc78):if(_0x28239b[_0x4a9568(0x854)]!==lastSeenQuestionIndex){console['log'](_0x4a9568(0x603)),sessionStorage[_0x4a9568(0xdc2)](_0x4a9568(0x3bb)),sessionStorage[_0x4a9568(0xdc2)]('onSecondChance'),sessionStorage[_0x4a9568(0xdc2)](_0x4a9568(0x4f7));const _0x9604e2='freeMarketEntryUsed_q'+lastSeenQuestionIndex,_0x6d10af=_0x4a9568(0xa4c)+lastSeenQuestionIndex,_0x7c1e0c=_0x4a9568(0x16f)+lastSeenQuestionIndex;Object[_0x4a9568(0x598)](sessionStorage)[_0x4a9568(0x277)](_0xe916ff=>{const _0x1ca844=_0x4a9568;(_0xe916ff[_0x1ca844(0x9bd)](_0x9604e2)||_0xe916ff[_0x1ca844(0x9bd)](_0x6d10af)||_0xe916ff[_0x1ca844(0x9bd)](_0x7c1e0c))&&sessionStorage['removeItem'](_0xe916ff);});if(_0x2294ff['isJinxed']||_0x2294ff['isForcedConfident']||(_0x2294ff[_0x4a9568(0x132)]||0x0)>0x0){const _0x593348=doc(db,_0x4a9568(0x981)+appId+'/public/data/syncGames/'+currentLiveGameId+_0x4a9568(0x25a),_0x44303b);updateDoc(_0x593348,{'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0})[_0x4a9568(0xc1e)](_0x5b7fd0=>console[_0x4a9568(0xe4d)](_0x4a9568(0x31a),_0x5b7fd0));}lastSeenQuestionIndex=_0x28239b['currentQuestionIndex'];}localPlayerTurnIndex=0x0;const _0x3fb622=localTeamPlayers[_0x4a9568(0xaf9)](_0x3788d4=>_0x28239b['players'][_0x3788d4]?.[_0x4a9568(0xc68)]===!![]);if(_0x3fb622)liveGameView[_0x4a9568(0x545)]=_0x4a9568(0xe55);else{renderStudentSyncQuestionView(_0x28239b);if(_0x28239b[_0x4a9568(0xe4b)]==='per_question'){if(!_0x28239b[_0x4a9568(0x674)]){console[_0x4a9568(0x6e6)](_0x4a9568(0x16c));return;}const _0x2c28b6=_0x28239b['questionDisplayedAt'][_0x4a9568(0x244)]()['getTime'](),_0x1e2f65=_0x28239b[_0x4a9568(0x730)]*0x3e8,_0xcb844a=localTeamPlayers['map'](_0x43fb0e=>_0x28239b[_0x4a9568(0x5ec)][_0x43fb0e]?.[_0x4a9568(0x132)]||0x0),_0x2f88f3=Math[_0x4a9568(0x8c3)](..._0xcb844a,0x0),_0x5f5342=_0x2c28b6+_0x1e2f65+_0x2f88f3;syncQuestionTimerInterval=setInterval(()=>{const _0x257b6=_0x4a9568,_0x59fa91=_0x5f5342-Date[_0x257b6(0x9e4)](),_0x514964=document['getElementById'](_0x257b6(0x665)),_0x4942a0=document['getElementById']('sync-timer-countdown');if(_0x59fa91<=0x0){clearInterval(syncQuestionTimerInterval);if(_0x514964)_0x514964[_0x257b6(0xbeb)][_0x257b6(0x532)]='0%';if(_0x4942a0)_0x4942a0[_0x257b6(0x1bd)]='0';liveGameView[_0x257b6(0x545)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20fa-3x\x20text-yellow-300\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุม...\x20(คำตอบของคุณไม่ถูกบันทึก)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{if(_0x514964&&_0x4942a0){const _0x223005=_0x1e2f65+_0x2f88f3,_0x3e5540=_0x223005>0x0?_0x59fa91/_0x223005*0x64:0x0;_0x514964[_0x257b6(0xbeb)]['width']=_0x3e5540+'%',_0x4942a0[_0x257b6(0x1bd)]=Math['ceil'](_0x59fa91/0x3e8);}}},0x1f4);}}break;case'summary':liveGameView[_0x4a9568(0x545)]=_0x4a9568(0x9ad);break;case _0x4a9568(0x940):localPlayerTurnIndex=0x0;const _0x369967=_0x28239b['gameVariant']||_0x4a9568(0x6ac);if(_0x369967===_0x4a9568(0x2c0)||_0x369967==='anonymous_reveal_end')renderStudentAnonymousResultsView(_0x28239b,_0x28239b[_0x4a9568(0x854)]);else _0x369967===_0x4a9568(0x2ff)?renderStudentCompetitionResultsView(_0x28239b,_0x28239b[_0x4a9568(0x854)]):renderStudentSyncResultsView(_0x28239b);break;case _0x4a9568(0x46f):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x4a9568(0xe2c)]('fullscreenchange',handleFullscreenChange),document[_0x4a9568(0xe2c)](_0x4a9568(0x914),handleVisibilityChange),sessionStorage[_0x4a9568(0xdc2)](_0x4a9568(0xd4d));const _0x26019f=liveGameView[_0x4a9568(0x545)],_0x447e93=_0x26019f['includes'](_0x4a9568(0x3cd))||_0x26019f['includes'](_0x4a9568(0x99a));if(!_0x447e93){const _0xb2f8aa=_0x28239b[_0x4a9568(0x5f3)]||'classic',_0x1cd095=_0x28239b['shuffledQuiz'][_0x4a9568(0x13f)][_0x4a9568(0x110)]-0x1;if(_0xb2f8aa===_0x4a9568(0x2c0)||_0xb2f8aa===_0x4a9568(0x6de))renderStudentAnonymousResultsView(_0x28239b,_0x1cd095);else _0xb2f8aa==='competition'?renderStudentCompetitionResultsView(_0x28239b,_0x1cd095):renderStudentSyncResultsView(_0x28239b);}const _0x5562bb=liveGameView[_0x4a9568(0x68a)]('p');_0x5562bb[_0x4a9568(0x277)](_0x2ed905=>{const _0x3cb142=_0x4a9568;(_0x2ed905[_0x3cb142(0x1bd)][_0x3cb142(0x2e8)](_0x3cb142(0x91f))||_0x2ed905[_0x3cb142(0x1bd)][_0x3cb142(0x2e8)](_0x3cb142(0x5f1)))&&(_0x2ed905['style'][_0x3cb142(0x853)]=_0x3cb142(0xdff));});if(!document['getElementById'](_0x4a9568(0x2c6))){const _0x3efbfb=_0x4a9568(0xdc3);liveGameView[_0x4a9568(0xb95)]?liveGameView[_0x4a9568(0xb95)][_0x4a9568(0xc4c)](_0x4a9568(0x136),_0x3efbfb):liveGameView[_0x4a9568(0xc4c)]('beforeend',_0x3efbfb);}break;}}function renderStudentSyncResultsView(_0x4565cb){const _0x415b4c=_0x3db3a6;let _0x154504=[];_0x4565cb[_0x415b4c(0xb1e)]&&Array[_0x415b4c(0x7ce)](_0x4565cb[_0x415b4c(0xb1e)])&&_0x4565cb[_0x415b4c(0xb1e)][_0x415b4c(0x110)]>0x0?_0x154504=_0x4565cb[_0x415b4c(0xb1e)]:_0x154504=Object[_0x415b4c(0x2e5)](_0x4565cb['players']||{});const _0x451d1c=_0x4565cb[_0x415b4c(0x5f3)]||_0x415b4c(0x6ac),_0x416d23=_0x451d1c===_0x415b4c(0xa1c)||_0x451d1c===_0x415b4c(0x6de),_0x47ffae=_0x4565cb[_0x415b4c(0x84d)][_0x415b4c(0x13f)],_0x5533d8=_0x416d23&&_0x4565cb[_0x415b4c(0x178)]!==undefined?_0x4565cb[_0x415b4c(0x178)]:_0x4565cb[_0x415b4c(0x854)],_0x39fc31=_0x416d23?_0x4565cb[_0x415b4c(0x178)]:_0x4565cb[_0x415b4c(0x854)],_0xe1c652=_0x154504[_0x415b4c(0x87e)](_0x1b8a02=>{const _0x2cf544=_0x415b4c,_0x176d55=(_0x1b8a02[_0x2cf544(0x749)]||[])['filter'](_0x8d4d8e=>_0x8d4d8e[_0x2cf544(0xda4)]<=_0x5533d8);let _0x17c85e=0x0,_0x1e1eea=0x0;_0x416d23?(_0x17c85e=_0x176d55[_0x2cf544(0x1a1)](_0x2858ca=>_0x2858ca[_0x2cf544(0xb7c)])[_0x2cf544(0x110)],_0x1e1eea=_0x176d55[_0x2cf544(0x53b)]((_0x2471c,_0x3a5b02)=>_0x2471c+(_0x3a5b02[_0x2cf544(0x2d5)]||0x0),0x0)):(_0x17c85e=_0x1b8a02[_0x2cf544(0x791)]||0x0,_0x1e1eea=_0x1b8a02[_0x2cf544(0xd53)]||0x0);const _0x167912=[..._0x176d55][_0x2cf544(0x667)]((_0x36970a,_0x46489a)=>_0x36970a[_0x2cf544(0xda4)]-_0x46489a[_0x2cf544(0xda4)]);let _0x2ee4c7=0x0;return _0x167912[_0x2cf544(0x277)](_0x20c047=>{const _0xed5431=_0x2cf544,_0x3d7ce3=_0x20c047['powerupUsed']&&_0x20c047['powerupUsed']!=='wagerMultiplier'||_0x20c047['usedBuyTime'];_0x20c047[_0xed5431(0xb7c)]?_0x2ee4c7=_0x3d7ce3?0x0:_0x2ee4c7+0x1:_0x2ee4c7=0x0;}),{..._0x1b8a02,'realScore':_0x17c85e,'totalPoints':_0x1e1eea,'answers':_0x1b8a02[_0x2cf544(0x749)],'correctStreak':_0x2ee4c7};}),_0x5b708e=Math[_0x415b4c(0x8c3)](..._0xe1c652[_0x415b4c(0x87e)](_0x49b8e2=>_0x49b8e2[_0x415b4c(0xd53)]),-Infinity),_0x4eedda=Math[_0x415b4c(0x8c3)](..._0xe1c652[_0x415b4c(0x87e)](_0x1e037e=>_0x1e037e[_0x415b4c(0x6d9)]),-Infinity),_0x19a1a1=_0x4565cb['isBlackMarketEnabled']===!![],_0x3e5a0a=[..._0xe1c652][_0x415b4c(0x667)]((_0x450b5d,_0x1a084e)=>{const _0x5a64ec=_0x415b4c;if(_0x19a1a1){const _0xcfee44=_0x1a084e[_0x5a64ec(0xd53)]-_0x450b5d['totalPoints'];if(_0xcfee44!==0x0)return _0xcfee44;const _0x25cee0=_0x1a084e['realScore']-_0x450b5d['realScore'];if(_0x25cee0!==0x0)return _0x25cee0;return(_0x450b5d[_0x5a64ec(0x339)]||'')[_0x5a64ec(0x879)](_0x1a084e[_0x5a64ec(0x339)]||'','th');}else{const _0x43953e=_0x1a084e[_0x5a64ec(0xd53)]-_0x450b5d[_0x5a64ec(0xd53)];if(_0x43953e!==0x0)return _0x43953e;const _0x16348d=_0x1a084e[_0x5a64ec(0x6d9)]-_0x450b5d[_0x5a64ec(0x6d9)];if(_0x16348d!==0x0)return _0x16348d;return(_0x450b5d[_0x5a64ec(0x339)]||'')[_0x5a64ec(0x879)](_0x1a084e['name']||'','th');}});let _0x293190=0x1;for(let _0x9e8170=0x0;_0x9e8170<_0x3e5a0a[_0x415b4c(0x110)];_0x9e8170++){if(_0x9e8170>0x0){const _0x3ae649=_0x3e5a0a[_0x9e8170-0x1],_0x4a07d7=_0x3e5a0a[_0x9e8170];let _0x82e2ad=_0x4a07d7[_0x415b4c(0xd53)]===_0x3ae649[_0x415b4c(0xd53)]&&_0x4a07d7[_0x415b4c(0x6d9)]===_0x3ae649['realScore'];!_0x82e2ad&&(_0x293190=_0x9e8170+0x1);}_0x3e5a0a[_0x9e8170]['displayRank']=_0x293190;}let _0x1a8f37=_0x3e5a0a['filter'](_0x313064=>localTeamPlayers['includes'](_0x313064[_0x415b4c(0x339)]));_0x1a8f37[_0x415b4c(0x667)]((_0x18c6b6,_0x463e1c)=>(_0x463e1c[_0x415b4c(0xd53)]||0x0)-(_0x18c6b6['totalPoints']||0x0));let _0x442ffb='';const _0x11e981=_0x416d23?_0x5533d8>=_0x47ffae[_0x415b4c(0x110)]-0x1:_0x4565cb[_0x415b4c(0x854)]>=_0x47ffae[_0x415b4c(0x110)]-0x1;if(_0x4565cb[_0x415b4c(0x360)]===_0x415b4c(0x46f))_0x442ffb='';else _0x11e981?_0x442ffb=_0x415b4c(0x607):_0x442ffb=_0x415b4c(0x3c7);const _0x1c97f6=getCentralPotHTML(_0x4565cb),_0xa2861a=_0x415b4c(0x372)+_0x1c97f6+_0x415b4c(0xdbc)+_0x1a8f37[_0x415b4c(0x87e)]((_0x5553e9,_0x456588)=>{const _0x306e2f=_0x415b4c;let _0x1e32ad=_0x306e2f(0xd92);const _0x4cba23=(_0x5553e9[_0x306e2f(0x749)]||[])['find'](_0x4568f2=>_0x4568f2[_0x306e2f(0xda4)]===_0x39fc31);let _0x4c40b8='';_0x4cba23&&_0x4cba23[_0x306e2f(0x9ed)]>0x0&&(_0x4c40b8=_0x306e2f(0x3b6)+_0x4cba23[_0x306e2f(0x9ed)]+_0x306e2f(0xc02));let _0x1a77aa='';if(_0x4cba23){if(_0x4cba23['wasForced'])_0x1a77aa+='<span\x20title=\x22โดนบังคับ\x22>👻</span>';if(_0x4cba23[_0x306e2f(0x608)])_0x1a77aa+=_0x306e2f(0xc05);if(_0x4cba23[_0x306e2f(0xbe6)])_0x1a77aa+=_0x306e2f(0x48e);const _0x1cc0b5=_0x4cba23[_0x306e2f(0xba6)];if(_0x1cc0b5){const _0x99bae2={'poll':'📊','cutOne':'✂️','insurance':_0x306e2f(0x515),'fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','revealOptions':_0x306e2f(0x810)};if(_0x99bae2[_0x1cc0b5])_0x1a77aa+=_0x306e2f(0xc48)+_0x1cc0b5+'\x22>'+_0x99bae2[_0x1cc0b5]+'</span>';}}if(_0x4cba23){const _0x3a15ee=_0x4cba23[_0x306e2f(0xb7c)],_0x25cd3c=_0x4cba23[_0x306e2f(0x535)]===!![]||_0x4cba23['wasConfident']===_0x306e2f(0x8a8),_0xbab230=_0x4cba23[_0x306e2f(0xba6)];if(_0xbab230===_0x306e2f(0xc8e))_0x1e32ad=_0x3a15ee?_0x306e2f(0x557):_0x306e2f(0x462);else{if(_0x25cd3c)_0x1e32ad=_0x3a15ee?_0x306e2f(0xb16):'bg-[#EF4444]\x20text-white\x20font-bold';else _0x3a15ee?_0x1e32ad='bg-[#DCFCE7]\x20text-green-900':_0x1e32ad=_0x306e2f(0xc01);}}let _0x9b4121='';_0x4cba23&&_0x4cba23[_0x306e2f(0xba6)]===_0x306e2f(0xc8e)&&!_0x4cba23[_0x306e2f(0xb7c)]&&(_0x9b4121=_0x306e2f(0x21a));const _0x56d0e9=_0x5553e9[_0x306e2f(0xd53)]>=0x0?'(+'+_0x5553e9[_0x306e2f(0xd53)][_0x306e2f(0x33b)]()+')':'('+_0x5553e9[_0x306e2f(0xd53)][_0x306e2f(0x33b)]()+')';let _0x35efb1='';const _0x417b5e=_0x5553e9['answers']['length'],_0x275fbd=_0x5533d8+0x1;if(_0x417b5e>0x0){if(_0x19a1a1){if(_0x5553e9[_0x306e2f(0xd53)]===_0x5b708e&&_0x5b708e>0x0)_0x35efb1+='<span\x20class=\x22text-yellow-500\x20ml-1\x20text-2xl\x20drop-shadow-md\x22>👑</span>';if(_0x5553e9[_0x306e2f(0x6d9)]===_0x4eedda&&_0x4eedda>0x0)_0x35efb1+=_0x306e2f(0x6ef);}else{if(_0x5553e9[_0x306e2f(0x6d9)]===_0x275fbd)_0x35efb1+='<span\x20class=\x22text-yellow-400\x20ml-1\x20text-xl\x20drop-shadow-md\x22>⭐</span>';}const _0x57998c=_0x35efb1[_0x306e2f(0x2e8)]('👑')||_0x35efb1[_0x306e2f(0x2e8)]('🎓')||_0x35efb1[_0x306e2f(0x2e8)]('⭐');if(!_0x57998c&&_0x5553e9['totalPoints']<0x0)_0x35efb1+='<span\x20class=\x22text-red-500\x20ml-1\x20text-xl\x22>⚠️</span>';}let _0xb624a8='';const _0x59444d=_0x4cba23&&_0x4cba23['usedBuyTime'],_0x285d17=_0x4cba23&&_0x4cba23[_0x306e2f(0xba6)]&&_0x4cba23[_0x306e2f(0xba6)]!==_0x306e2f(0xc8e);if(!_0x59444d&&!_0x285d17){const _0x22a300=_0x5553e9[_0x306e2f(0xa2e)]||0x0;_0x22a300>=0x3&&(_0xb624a8=_0x306e2f(0xa4a)+_0x22a300+'</span>');}return _0x306e2f(0xd18)+_0x1e32ad+_0x306e2f(0xbef)+_0x5553e9[_0x306e2f(0x313)]+_0x306e2f(0xb9f)+_0x5553e9[_0x306e2f(0x339)]+_0x306e2f(0x368)+_0x1a77aa+'\x20'+_0x35efb1+'\x20'+_0xb624a8+_0x306e2f(0xb0b)+_0x5553e9[_0x306e2f(0x6d9)]+_0x306e2f(0x3e3)+_0x56d0e9+_0x306e2f(0xb5a)+_0x4c40b8+_0x306e2f(0xa3d)+_0x9b4121+_0x306e2f(0x240);})[_0x415b4c(0xd6e)]('')+_0x415b4c(0xd73)+_0x442ffb+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x415b4c(0x545)]=_0xa2861a;}function renderStudentAnonymousResultsView(_0x222bc5,_0x254b41){const _0x45c81b=_0x3db3a6;let _0x4c50c0=[];_0x222bc5[_0x45c81b(0xb1e)]?_0x4c50c0=_0x222bc5[_0x45c81b(0xb1e)]:_0x4c50c0=Object[_0x45c81b(0x2e5)](_0x222bc5[_0x45c81b(0x5ec)]||{});const _0x9f55b0=_0x222bc5[_0x45c81b(0x5f3)]||_0x45c81b(0x6ac),_0x31f2af=_0x9f55b0===_0x45c81b(0xa1c)||_0x9f55b0===_0x45c81b(0x6de),_0x4f8280=_0x222bc5[_0x45c81b(0xd57)]===!![],_0x2b9fce=_0x222bc5[_0x45c81b(0x84d)][_0x45c81b(0x13f)],_0x5ac6cd=_0x31f2af&&_0x222bc5['reviewQuestionIndex']!==undefined?_0x222bc5[_0x45c81b(0x178)]:_0x254b41,_0x2a7183=_0x4c50c0[_0x45c81b(0x87e)](_0x1a6567=>{const _0x100071=_0x45c81b,_0x433de0=(_0x1a6567['answers']||[])[_0x100071(0x1a1)](_0x1f7368=>_0x1f7368[_0x100071(0xda4)]<=_0x5ac6cd);let _0x2688dd=0x0,_0x11081b=0x0;_0x31f2af?(_0x2688dd=_0x433de0['filter'](_0x168a1c=>_0x168a1c[_0x100071(0xb7c)])[_0x100071(0x110)],_0x11081b=_0x433de0[_0x100071(0x53b)]((_0x33b076,_0x1b2720)=>_0x33b076+(_0x1b2720[_0x100071(0x2d5)]||0x0),0x0)):(_0x2688dd=_0x1a6567['score']||0x0,_0x11081b=_0x1a6567[_0x100071(0xd53)]||0x0);const _0x1548db=[..._0x433de0][_0x100071(0x667)]((_0x57e237,_0x2a7f0f)=>_0x57e237[_0x100071(0xda4)]-_0x2a7f0f[_0x100071(0xda4)]);let _0x43ef48=0x0;return _0x1548db[_0x100071(0x277)](_0x567fa7=>{const _0x346026=_0x100071,_0x351999=_0x567fa7['powerupUsed']&&_0x567fa7[_0x346026(0xba6)]!=='wagerMultiplier'||_0x567fa7[_0x346026(0xbe6)];_0x567fa7[_0x346026(0xb7c)]?_0x43ef48=_0x351999?0x0:_0x43ef48+0x1:_0x43ef48=0x0;}),{..._0x1a6567,'realScore':_0x2688dd,'totalPoints':_0x11081b,'answers':_0x433de0,'correctStreak':_0x43ef48};}),_0x1f0c5=Math[_0x45c81b(0x8c3)](..._0x2a7183[_0x45c81b(0x87e)](_0x2fe2e8=>_0x2fe2e8[_0x45c81b(0xd53)]),-Infinity),_0x5b71df=Math[_0x45c81b(0x8c3)](..._0x2a7183[_0x45c81b(0x87e)](_0x55a570=>_0x55a570[_0x45c81b(0x6d9)]),-Infinity),_0x192936=_0x222bc5[_0x45c81b(0xc89)]===!![],_0x3a79b7=[..._0x2a7183]['sort']((_0x5aeb5d,_0x363659)=>{const _0x23fc68=_0x45c81b;if(_0x192936){if(_0x363659[_0x23fc68(0xd53)]!==_0x5aeb5d[_0x23fc68(0xd53)])return _0x363659[_0x23fc68(0xd53)]-_0x5aeb5d[_0x23fc68(0xd53)];if(_0x363659[_0x23fc68(0x6d9)]!==_0x5aeb5d['realScore'])return _0x363659[_0x23fc68(0x6d9)]-_0x5aeb5d['realScore'];}else{if(_0x363659[_0x23fc68(0xd53)]!==_0x5aeb5d[_0x23fc68(0xd53)])return _0x363659[_0x23fc68(0xd53)]-_0x5aeb5d[_0x23fc68(0xd53)];if(_0x363659[_0x23fc68(0x6d9)]!==_0x5aeb5d[_0x23fc68(0x6d9)])return _0x363659[_0x23fc68(0x6d9)]-_0x5aeb5d[_0x23fc68(0x6d9)];}return(_0x5aeb5d['name']||'')[_0x23fc68(0x879)](_0x363659['name']||'','th');});let _0x255d7c=0x1;for(let _0x3c0935=0x0;_0x3c0935<_0x3a79b7[_0x45c81b(0x110)];_0x3c0935++){if(_0x3c0935>0x0){const _0x46fd38=_0x3a79b7[_0x3c0935-0x1],_0x50daee=_0x3a79b7[_0x3c0935];let _0x41b5c6=_0x50daee[_0x45c81b(0xd53)]===_0x46fd38[_0x45c81b(0xd53)]&&_0x50daee[_0x45c81b(0x6d9)]===_0x46fd38['realScore'];!_0x41b5c6&&(_0x255d7c=_0x3c0935+0x1);}_0x3a79b7[_0x3c0935][_0x45c81b(0x313)]=_0x255d7c;}let _0x34a2f8=null;const _0x194589=_0x2a7183['filter'](_0x3e6fde=>localTeamPlayers[_0x45c81b(0x2e8)](_0x3e6fde[_0x45c81b(0x339)]));_0x34a2f8=_0x194589['length']>0x0?_0x194589[_0x45c81b(0x667)]((_0x45b1b9,_0x1d232c)=>_0x1d232c[_0x45c81b(0xd53)]-_0x45b1b9[_0x45c81b(0xd53)])[0x0]:null;if(!_0x34a2f8){liveGameView['innerHTML']=_0x45c81b(0xc45);return;}const _0x14e91e=_0x192936?_0x34a2f8[_0x45c81b(0xd53)]:_0x34a2f8['totalPoints'],_0x234c40=_0x5ac6cd+0x1,_0x17393f=_0x3a79b7['map']((_0x217d15,_0x37313c)=>{const _0x439d76=_0x45c81b,_0x95c808=_0x217d15[_0x439d76(0x6d9)],_0x40e894=_0x217d15[_0x439d76(0xd53)],_0x102a26=(_0x217d15[_0x439d76(0x749)]||[])[_0x439d76(0xe8)](_0x107e77=>_0x107e77[_0x439d76(0xda4)]===_0x5ac6cd);let _0xfe8885='';_0x102a26&&_0x102a26[_0x439d76(0x9ed)]>0x0&&(_0xfe8885=_0x439d76(0x78f)+_0x102a26[_0x439d76(0x9ed)]+_0x439d76(0xc02));let _0x112eeb='';if(_0x102a26){if(_0x102a26[_0x439d76(0xe0b)])_0x112eeb+=_0x439d76(0x843);if(_0x102a26[_0x439d76(0x608)])_0x112eeb+=_0x439d76(0xc05);if(_0x102a26[_0x439d76(0xbe6)])_0x112eeb+=_0x439d76(0x48e);const _0x175ad3=_0x102a26[_0x439d76(0xba6)];if(_0x175ad3){const _0x1b8219={'poll':'📊','cutOne':'✂️','insurance':'🛡️','fiftyFifty':'🌗','wagerMultiplier':'💰','secondChance':'🔁','buyTime':'⏳','revealOptions':_0x439d76(0x810)};if(_0x1b8219[_0x175ad3])_0x112eeb+=_0x439d76(0xc48)+_0x175ad3+'\x22>'+_0x1b8219[_0x175ad3]+_0x439d76(0x3a6);}}let _0x58a1e7='';if(_0x234c40>0x0){if(_0x192936){if(_0x40e894===_0x1f0c5&&_0x1f0c5>0x0)_0x58a1e7+=_0x439d76(0x8d1);if(_0x95c808===_0x5b71df&&_0x5b71df>0x0)_0x58a1e7+=_0x439d76(0xd2a);}else{const _0x1d53a5=_0x217d15[_0x439d76(0x6d9)]===_0x234c40&&_0x234c40>0x0;if(_0x1d53a5)_0x58a1e7='<span\x20class=\x22text-yellow-300\x20ml-1\x22>⭐</span>';}if(_0x58a1e7===''&&_0x40e894<0x0)_0x58a1e7=_0x439d76(0x8b1);}let _0x64c7d='';const _0x119606=_0x102a26&&_0x102a26[_0x439d76(0xbe6)],_0x255d8d=_0x102a26&&_0x102a26['powerupUsed']&&_0x102a26[_0x439d76(0xba6)]!==_0x439d76(0xc8e);if(!_0x119606&&!_0x255d8d){const _0x7a8834=_0x217d15[_0x439d76(0xa2e)]||0x0;_0x7a8834>=0x3&&(_0x64c7d=_0x439d76(0x301)+_0x7a8834+_0x439d76(0x3a6));}let _0x7ee3ff=_0x439d76(0x992),_0xabc739=![];if(_0x102a26){const _0x20f518=_0x102a26[_0x439d76(0xb7c)],_0x36da8b=_0x102a26[_0x439d76(0x535)]===!![]||_0x102a26[_0x439d76(0x535)]===_0x439d76(0x8a8),_0x7f08dd=_0x102a26[_0x439d76(0xba6)];if(_0x7f08dd==='wagerMultiplier')_0x20f518?(_0x7ee3ff=_0x439d76(0x557),_0xabc739=!![]):_0x7ee3ff=_0x439d76(0x462);else{if(_0x36da8b)_0x7ee3ff=_0x20f518?'bg-[#4ADE80]\x20text-green-900\x20font-bold':_0x439d76(0x1c3);else _0x20f518&&(_0x7ee3ff=_0x439d76(0xad7));}}let _0x4f3bac='';const _0x2dbf79=_0x217d15[_0x439d76(0x339)],_0x398edc=_0x222bc5[_0x439d76(0xbe5)][_0x217d15['name']]||_0x439d76(0xca0),_0x49985f=localTeamPlayers['includes'](_0x2dbf79),_0x2cfb5d=_0xabc739?_0x439d76(0xd96):_0x439d76(0x375),_0x3c5002=_0x192936?_0x217d15[_0x439d76(0xd53)]:_0x217d15['totalPoints'],_0x80dff4=_0x4f8280||_0x49985f||_0x14e91e>_0x3c5002;_0x80dff4?_0x4f3bac=_0x439d76(0xad8)+_0x2dbf79+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20'+_0x2cfb5d+_0x439d76(0xa35)+_0x398edc+_0x439d76(0x303):_0x4f3bac=_0x439d76(0x1db)+_0x398edc+_0x439d76(0x3a6);_0x49985f&&(_0x4f3bac=_0x439d76(0xc43)+_0x4f3bac+_0x439d76(0x9cb));const _0x2c8965=_0x439d76(0x86a)+_0x112eeb+'\x20'+_0x58a1e7+'\x20'+_0x64c7d+_0x439d76(0xdc0),_0x52a085=_0x40e894>=0x0?'(+'+_0x40e894['toLocaleString']()+')':'('+_0x40e894[_0x439d76(0x33b)]()+')';return _0x439d76(0x66f)+_0x7ee3ff+_0x439d76(0xd86)+_0x217d15[_0x439d76(0x313)]+_0x439d76(0x8c5)+_0x4f3bac+_0x439d76(0xab0)+_0x2c8965+_0x439d76(0x308)+_0x95c808+_0x439d76(0x40b)+_0x52a085+_0x439d76(0x3e2)+_0xfe8885+'\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x45c81b(0xd6e)]('');let _0x1b939d='';const _0xdf2c29=_0x31f2af?_0x5ac6cd>=_0x2b9fce[_0x45c81b(0x110)]-0x1:_0x222bc5['currentQuestionIndex']>=_0x2b9fce[_0x45c81b(0x110)]-0x1;if(_0x222bc5[_0x45c81b(0x360)]==='podium')_0x1b939d='';else _0xdf2c29?_0x1b939d=_0x45c81b(0x607):_0x1b939d=_0x45c81b(0x3c7);const _0x53eb3b=getCentralPotHTML(_0x222bc5),_0x400bce='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20scale-110\x22>'+_0x53eb3b+_0x45c81b(0x9a4)+_0x17393f+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1b939d+_0x45c81b(0x1f9);liveGameView[_0x45c81b(0x545)]=_0x400bce;}function renderStudentCompetitionResultsView(_0x1c9529,_0xc889eb){const _0x1496b9=_0x3db3a6,_0x33e8fb=Object[_0x1496b9(0x2e5)](_0x1c9529['players']||{}),_0x57c362=_0xc889eb,_0x19cefc=_0x1c9529[_0x1496b9(0x5f3)]||'classic',_0x4cf9c2=_0x1c9529['shuffledQuiz'][_0x1496b9(0x13f)],_0x4a0914=_0x33e8fb[_0x1496b9(0x87e)](_0xf39837=>{const _0x534a8e=_0x1496b9,_0x5aa122=_0xf39837[_0x534a8e(0x791)]||0x0,_0x1478b1=_0xf39837['totalPoints']||0x0,_0x26e951=(_0xf39837[_0x534a8e(0x749)]||[])[_0x534a8e(0x1a1)](_0x4ad49c=>_0x19cefc==='reveal_at_end'?_0x4ad49c[_0x534a8e(0xda4)]<=_0x57c362:!![]);return{..._0xf39837,'realScore':_0x5aa122,'totalPoints':_0x1478b1,'answers':_0x26e951};}),_0x518ebd=_0x1c9529[_0x1496b9(0xc89)]===!![],_0x14c3f8=[..._0x4a0914][_0x1496b9(0x667)]((_0x1ae40e,_0x208f34)=>{const _0x20e5e7=_0x1496b9;if(_0x518ebd){const _0x1ec386=_0x208f34[_0x20e5e7(0x6d9)]-_0x1ae40e['realScore'];if(_0x1ec386!==0x0)return _0x1ec386;const _0x47e4d4=_0x208f34['totalPoints']-_0x1ae40e[_0x20e5e7(0xd53)];if(_0x47e4d4!==0x0)return _0x47e4d4;return(_0x1ae40e[_0x20e5e7(0x339)]||'')['localeCompare'](_0x208f34[_0x20e5e7(0x339)]||'','th');}else{const _0x1cd194=_0x208f34['totalPoints']-_0x1ae40e[_0x20e5e7(0xd53)];if(_0x1cd194!==0x0)return _0x1cd194;const _0x1aa39f=_0x208f34[_0x20e5e7(0x6d9)]-_0x1ae40e[_0x20e5e7(0x6d9)];if(_0x1aa39f!==0x0)return _0x1aa39f;return(_0x1ae40e[_0x20e5e7(0x339)]||'')['localeCompare'](_0x208f34[_0x20e5e7(0x339)]||'','th');}});let _0x4124ab=0x1;for(let _0x54215a=0x0;_0x54215a<_0x14c3f8['length'];_0x54215a++){if(_0x54215a>0x0){const _0x3b47ce=_0x14c3f8[_0x54215a-0x1],_0x5c6fa8=_0x14c3f8[_0x54215a];let _0x30a785=![];_0x518ebd?_0x30a785=_0x5c6fa8[_0x1496b9(0x6d9)]===_0x3b47ce[_0x1496b9(0x6d9)]&&_0x5c6fa8[_0x1496b9(0xd53)]===_0x3b47ce[_0x1496b9(0xd53)]:_0x30a785=_0x5c6fa8[_0x1496b9(0xd53)]===_0x3b47ce[_0x1496b9(0xd53)]&&_0x5c6fa8[_0x1496b9(0x6d9)]===_0x3b47ce[_0x1496b9(0x6d9)],!_0x30a785&&(_0x4124ab=_0x54215a+0x1);}_0x14c3f8[_0x54215a][_0x1496b9(0x313)]=_0x4124ab;}const _0x515181=_0x14c3f8['map']((_0x58aa0c,_0x4ed9b2)=>{const _0x45d667=_0x1496b9,_0x386483='';let _0x51708a=_0x45d667(0x992);const _0x4fb131=_0x58aa0c[_0x45d667(0x339)],_0x3c7355=_0x45d667(0x8a7),_0x284704='word-break:\x20break-all;',_0xd83dd8=_0x45d667(0x78d)+_0x3c7355+'\x22\x20title=\x22'+_0x4fb131+_0x45d667(0x96c)+_0x284704+'\x22>'+_0x4fb131+_0x45d667(0x3a6)+_0x386483+'</div>',_0x34472d='';return _0x45d667(0x66f)+_0x51708a+_0x45d667(0x7fe)+_0x58aa0c['displayRank']+_0x45d667(0x200)+_0xd83dd8+_0x45d667(0x920)+_0x34472d+_0x45d667(0x131);})[_0x1496b9(0xd6e)]('');let _0x5b0e62='';const _0x37c704=_0x19cefc===_0x1496b9(0xa1c)?_0x1c9529[_0x1496b9(0x178)]>=_0x4cf9c2[_0x1496b9(0x110)]-0x1:_0x1c9529[_0x1496b9(0x854)]>=_0x4cf9c2['length']-0x1;_0x37c704?_0x5b0e62=_0x1496b9(0x607):_0x5b0e62=_0x1496b9(0x3c7);const _0x2ac549=_0x1496b9(0xcc6)+_0x515181+_0x1496b9(0xde2)+_0x5b0e62+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x2ac549;}function renderStudentSyncQuestionView(_0x3a95a6){const _0x3f79db=_0x3db3a6;while(localPlayerTurnIndex<localTeamPlayers[_0x3f79db(0x110)]&&_0x3a95a6['players'][localTeamPlayers[localPlayerTurnIndex]]?.[_0x3f79db(0xc68)]===!![]){localPlayerTurnIndex++;}const _0x5428d4=localTeamPlayers[localPlayerTurnIndex];if(!_0x5428d4)return;const _0x3d9fe6=_0x3a95a6[_0x3f79db(0x5ec)][_0x5428d4],_0x2fee21=_0x3a95a6[_0x3f79db(0x854)],_0x4d8fb5=_0x3a95a6[_0x3f79db(0x84d)][_0x3f79db(0x13f)][_0x3f79db(0x110)],_0x52285b=_0x3a95a6[_0x3f79db(0x84d)][_0x3f79db(0x13f)][_0x2fee21],_0x246d9d=_0x52285b[_0x3f79db(0x430)]||_0x3a95a6[_0x3f79db(0x84d)][_0x3f79db(0x461)];let _0x1196e5='',_0x1a707e=![];const _0x233abe='powerupUsed_q'+_0x2fee21+'_p'+_0x5428d4,_0x3a74a8=sessionStorage[_0x3f79db(0x901)](_0x233abe),_0x5ee220=_0x3a74a8===_0x3f79db(0xaa8),_0x2cc8cc=_0x3f79db(0x16f)+_0x2fee21+'_p'+_0x5428d4,_0x86dda1=JSON[_0x3f79db(0x11c)](sessionStorage[_0x3f79db(0x901)](_0x2cc8cc)||'[]')['map'](String);if((_0x246d9d===_0x3f79db(0x358)||_0x246d9d===_0x3f79db(0x1c8))&&_0x5ee220&&_0x52285b[_0x3f79db(0xbed)]&&_0x52285b['options']['length']>0x0)_0x1196e5=_0x52285b['options']['map']((_0x5089d4,_0x3465c2)=>{const _0x84f6e1=_0x3f79db;if(_0x86dda1['includes'](String(_0x3465c2)))return'';return _0x84f6e1(0x3a9)+_0x5089d4+'\x22\x20data-index=\x22'+_0x3465c2+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20border-2\x20border-purple-300\x20shadow-md\x20transform\x20transition-transform\x20hover:scale-105\x22>'+_0x5089d4+_0x84f6e1(0x31e);})[_0x3f79db(0xd6e)]('');else{if(_0x246d9d===_0x3f79db(0x358)||_0x246d9d==='fill_in_no_choices'){_0x1a707e=!![];const _0x319a79=_0x52285b[_0x3f79db(0x649)]&&/^-?[\d.,]+$/[_0x3f79db(0x8c6)](String(_0x52285b[_0x3f79db(0x649)])[_0x3f79db(0xc29)]());let _0x43ac8b='';_0x319a79?_0x43ac8b=_0x3f79db(0x62d):_0x43ac8b=_0x3f79db(0x298),_0x1196e5=_0x3f79db(0x8da)+_0x43ac8b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}else switch(_0x246d9d){case'true_false':const _0x2f7e7f=_0x86dda1[_0x3f79db(0x2e8)]('0')?'':_0x3f79db(0x4c9),_0x110f09=_0x86dda1[_0x3f79db(0x2e8)]('1')?'':_0x3f79db(0xaf2);_0x1196e5=_0x2f7e7f+_0x110f09;break;case'matching_item':_0x1a707e=!![],_0x1196e5=_0x3f79db(0x6d7)+(_0x52285b[_0x3f79db(0x17b)]||[])['map'](_0x32daec=>_0x3f79db(0x4cc)+_0x32daec+'\x22>'+_0x32daec+_0x3f79db(0xc4e))[_0x3f79db(0xd6e)]('')+_0x3f79db(0x23a);break;case _0x3f79db(0x6f2):default:_0x1196e5=(_0x52285b[_0x3f79db(0xbed)]||[])['map']((_0x462429,_0x51ee6b)=>{const _0x24258a=_0x3f79db;if(_0x86dda1[_0x24258a(0x2e8)](String(_0x51ee6b)))return'';return _0x24258a(0x3a9)+_0x51ee6b+'\x22\x20data-index=\x22'+_0x51ee6b+_0x24258a(0x1d7)+_0x462429+_0x24258a(0x31e);})[_0x3f79db(0xd6e)]('');break;}}let _0xc74b12='';_0x3a95a6[_0x3f79db(0xe4b)]==='per_question'&&(_0xc74b12=_0x3f79db(0x80a)+_0x3a95a6[_0x3f79db(0x730)]+_0x3f79db(0xfc));let _0x58fd97='';const _0x224a97=_0x3a95a6['gameVariant']||_0x3f79db(0x6ac),_0xb5304a=['reveal_at_end',_0x3f79db(0x6de),_0x3f79db(0x2ff)][_0x3f79db(0x2e8)](_0x224a97);if(_0x3a95a6[_0x3f79db(0xc89)]===!![]){if(_0xb5304a)!_0x3a74a8&&(_0x58fd97=_0x3f79db(0x465));else{const _0x38f65c=_0x3d9fe6['totalPoints']||0x0,_0x4c9074=_0x3d9fe6['powerups']||{},_0x389fc7=[_0x4c9074[_0x3f79db(0x828)]>0x0?_0x3f79db(0x8ea)+_0x4c9074[_0x3f79db(0x828)]+_0x3f79db(0x9c5):'',_0x4c9074[_0x3f79db(0xaa8)]>0x0?'<button\x20id=\x22use-powerup-revealOptions\x22\x20class=\x22powerup-btn\x20bg-purple-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x20font-bold\x20border-2\x20border-yellow-300\x20shadow-sm\x22>👁️\x20เผยตัวเลือก\x20('+_0x4c9074['revealOptions']+_0x3f79db(0x9c5):'',_0x4c9074['cutOne']>0x0?'<button\x20id=\x22use-powerup-cutOne\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>✂️\x20ตัด\x201\x20('+_0x4c9074[_0x3f79db(0x90a)]+_0x3f79db(0x9c5):'',_0x4c9074[_0x3f79db(0x7d6)]>0x0?'<button\x20id=\x22use-powerup-insurance\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🛡️\x20ประกันภัย\x20('+_0x4c9074[_0x3f79db(0x7d6)]+_0x3f79db(0x9c5):'',_0x4c9074['fiftyFifty']>0x0?'<button\x20id=\x22use-powerup-fiftyFifty\x22\x20class=\x22powerup-btn\x20bg-green-500\x20text-white\x20py-1\x20px-3\x20rounded-full\x20text-xs\x22>🌗\x2050:50\x20('+_0x4c9074[_0x3f79db(0xb8d)]+_0x3f79db(0x9c5):'',_0x4c9074[_0x3f79db(0xbad)]>0x0?_0x3f79db(0xdfc)+_0x4c9074[_0x3f79db(0xbad)]+_0x3f79db(0x9c5):''][_0x3f79db(0x1a1)](Boolean)[_0x3f79db(0xd6e)]('\x20'),_0x3bcb51=_0x3f79db(0xc40)+_0x2fee21+'_p'+_0x5428d4,_0x39729c=sessionStorage['getItem'](_0x3bcb51)==='true',_0x2aafd3=_0x38f65c>0x0&&(!_0x39729c||_0x38f65c>=0x1),_0x417977=_0x38f65c===0x0?_0x3f79db(0x6a1):_0x39729c?'ตลาดมืด\x20(-1\x20P)':_0x3f79db(0xaa7)+_0x38f65c+'\x20P)',_0x323fef=_0x2aafd3?_0x3f79db(0x48c):'bg-gray-400\x20text-gray-200\x20cursor-not-allowed\x20opacity-70',_0x4ef90a=_0x2aafd3?'':_0x3f79db(0xc71);let _0x153332=_0x3f79db(0xc13)+_0x323fef+_0x3f79db(0xf7)+_0x4ef90a+'><i\x20class=\x22fas\x20fa-store\x20mr-2\x22></i>\x20'+_0x417977+_0x3f79db(0x31e);if(!_0x3a74a8){const _0x3e2ec2=_0x38f65c>0x0,_0x5ab2db=_0x3e2ec2?_0x3f79db(0xd62):_0x3f79db(0xa0b),_0x43b02c=_0x3e2ec2?_0x3f79db(0xafc):_0x3f79db(0xcef),_0x1339c8=_0x3e2ec2?'':_0x3f79db(0xc71);_0x153332+=_0x3f79db(0xdb0)+_0x5ab2db+_0x3f79db(0xe03)+_0x1339c8+_0x3f79db(0x524)+_0x43b02c+'\x20py-1\x20px-3\x20rounded-lg\x20font-bold\x20transition-all\x20flex\x20flex-col\x20items-center\x20justify-center\x20min-h-[54px]\x22\x20'+_0x1339c8+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-rocket\x22></i>\x20เดิมพันทุ่มหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}_0x58fd97=_0x3f79db(0x5b6)+_0x153332+'</div><div\x20class=\x22flex\x20flex-wrap\x20gap-1\x20items-center\x20justify-center\x20mt-1\x22>'+(_0x389fc7||'')+_0x3f79db(0x362);}}let _0x4e2c94='';_0x3d9fe6[_0x3f79db(0x4be)]&&(_0x4e2c94+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-red-700\x20to-red-900\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-skull-crossbones\x22></i>\x20<span>คุณโดนคำสาป!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20opacity-80\x22>คะแนนติดลบ\x20x2\x20ถ้าตอบผิด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');_0x3d9fe6[_0x3f79db(0x6bf)]&&(_0x4e2c94+=_0x3f79db(0x96b));(_0x3d9fe6[_0x3f79db(0x132)]||0x0)>0x0&&(_0x4e2c94+=_0x3f79db(0x5a2));if(_0x3a74a8){if(_0x3a74a8===_0x3f79db(0xc8e)){const _0x56e1b8=_0xb5304a?_0x3f79db(0x51e):'💰\x20โหมดเดิมพันทำงานอยู่!';_0x4e2c94+=_0x3f79db(0xe0a)+_0x56e1b8+_0x3f79db(0x5ad);}else{if(_0x3a74a8==='cutOne')_0x4e2c94+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-green-400\x20to-emerald-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-cut\x20fa-lg\x22></i>\x20<span>ตัดตัวเลือกทำงาน!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>ตัวเลือกที่ผิด\x201\x20ข้อถูกตัดออกแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else{if(_0x3a74a8===_0x3f79db(0xb8d))_0x4e2c94+=_0x3f79db(0xc76);else{if(_0x3a74a8==='secondChance')_0x4e2c94+=_0x3f79db(0x56d);else{if(_0x3a74a8==='revealOptions')_0x4e2c94+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20bg-gradient-to-r\x20from-pink-500\x20to-rose-600\x20text-white\x20text-center\x20py-2\x20px-4\x20rounded-lg\x20mb-3\x20shadow-lg\x20animate-pulse\x20border-2\x20border-white/30\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xl\x20font-bold\x20flex\x20items-center\x20justify-center\x20gap-2\x22><i\x20class=\x22fas\x20fa-eye\x20fa-lg\x22></i>\x20<span>เผยตัวเลือก!</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20opacity-90\x22>แสดงตัวเลือกที่ซ่อนอยู่เรียบร้อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else _0x3a74a8===_0x3f79db(0x7d6)?_0x4e2c94+=_0x3f79db(0x681):_0x4e2c94+=_0x3f79db(0x616)+_0x3a74a8+_0x3f79db(0x484);}}}}}let _0xb97b73='';if(!_0xb5304a){const _0x13cb06=_0x3d9fe6[_0x3f79db(0xa2e)]||0x0;if(_0x13cb06>=0x3)_0xb97b73=_0x3f79db(0x276)+_0x13cb06+_0x3f79db(0x22d);else _0x13cb06>0x0&&(_0xb97b73='<div\x20class=\x22w-full\x20text-center\x20mb-4\x22><span\x20class=\x22text-xs\x20font-bold\x20text-orange-400\x20bg-black/20\x20px-2\x20py-1\x20rounded-full\x22>🔥\x20Combo:\x20'+_0x13cb06+_0x3f79db(0xaec));}const _0xa69dc5=getCentralPotHTML(_0x3a95a6);liveGameView[_0x3f79db(0x545)]=_0x3f79db(0xc32)+(_0x2fee21+0x1)+_0x3f79db(0x9a6)+_0x4d8fb5+_0x3f79db(0xdac)+_0xa69dc5+_0x3f79db(0xa53)+_0x5428d4+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xb97b73+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xc74b12+_0x3f79db(0x9d5)+_0x58fd97+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4e2c94+_0x3f79db(0x32e)+(_0x52285b['questionText']||_0x52285b[_0x3f79db(0x2f5)])+_0x3f79db(0x961)+_0x1196e5+_0x3f79db(0xca6);if(window[_0x3f79db(0x4d4)])MathJax['typesetPromise']();function _0x305608(_0x5c919f,_0xfea3ae,_0x332670,_0x1b89f9){const _0x194453=_0x3f79db,_0x2d4aab=_0x332670['isConfidenceScoringEnabled']===!![],_0x301d3e=_0x332670[_0x194453(0x854)],_0x5f2b5f=_0x194453(0xa4c)+_0x301d3e+'_p'+_0x1b89f9,_0x379a86=sessionStorage[_0x194453(0x901)](_0x5f2b5f),_0x170266=_0x379a86==='wagerMultiplier',_0x46bcca=_0x332670[_0x194453(0x5ec)][_0x1b89f9];if(_0x170266){const _0x103942=sessionStorage[_0x194453(0x901)]('instantWager')===_0x194453(0x503);if(_0xb5304a||_0x103942){const _0xa0b829=_0x46bcca[_0x194453(0xd53)]||0x0;sessionStorage[_0x194453(0xdc2)]('instantWager'),handleSyncAnswerSubmit(_0x5c919f,_0xfea3ae,_0x332670,_0x1b89f9,![],_0xa0b829);}else{const _0xe3a706=document['getElementById'](_0x194453(0xd5)),_0x3ab484=document[_0x194453(0x283)](_0x194453(0x405)),_0x4eaf6f=document[_0x194453(0x283)]('wager-amount-display'),_0x24f8a8=document[_0x194453(0x283)]('wager-max-points'),_0x13aad4=_0x46bcca[_0x194453(0xd53)]||0x0;_0x3ab484[_0x194453(0x8c3)]=_0x13aad4,_0x3ab484[_0x194453(0xa89)]=_0x13aad4,_0x4eaf6f[_0x194453(0x1bd)]=_0x13aad4,_0x24f8a8[_0x194453(0x1bd)]=_0x13aad4,_0x3ab484[_0x194453(0xe4a)]=()=>{const _0x597a06=_0x194453;_0x4eaf6f[_0x597a06(0x1bd)]=_0x3ab484[_0x597a06(0xa89)];};const _0x2a74cf=document['getElementById']('selected-answer-index-hidden-wager');_0x2a74cf[_0x194453(0x845)]['answerValue']=_0x5c919f,_0x2a74cf[_0x194453(0x845)][_0x194453(0xc78)]=JSON[_0x194453(0x6b3)](_0xfea3ae),_0x2a74cf[_0x194453(0x845)][_0x194453(0x98c)]=JSON[_0x194453(0x6b3)](_0x332670),_0x2a74cf[_0x194453(0x845)][_0x194453(0x36a)]=_0x1b89f9,_0xe3a706[_0x194453(0x605)][_0x194453(0x31b)](_0x194453(0x9a0));}}else{if(_0x2d4aab){document[_0x194453(0x283)](_0x194453(0xd5e))[_0x194453(0x845)][_0x194453(0xe1)]=_0x194453(0xa8e);const _0x3a6705=document[_0x194453(0x283)]('selected-answer-index-hidden');_0x3a6705[_0x194453(0x845)][_0x194453(0x2ed)]=_0x5c919f,_0x3a6705['dataset'][_0x194453(0xc78)]=JSON['stringify'](_0xfea3ae),_0x3a6705[_0x194453(0x845)][_0x194453(0x98c)]=JSON[_0x194453(0x6b3)](_0x332670),_0x3a6705['dataset'][_0x194453(0x36a)]=_0x1b89f9,document[_0x194453(0x283)]('confidence-modal')[_0x194453(0x605)][_0x194453(0x31b)](_0x194453(0x9a0));}else handleSyncAnswerSubmit(_0x5c919f,_0xfea3ae,_0x332670,_0x1b89f9,![],0x0);}}_0x1a707e?document['getElementById'](_0x3f79db(0x881))[_0x3f79db(0x844)]('click',()=>{const _0x57dbe7=_0x3f79db,_0xc891a4=document[_0x57dbe7(0x283)](_0x57dbe7(0x8d5))||document[_0x57dbe7(0x283)](_0x57dbe7(0x295));if(_0xc891a4[_0x57dbe7(0xa89)]['trim']()===''){showMessage(_0x57dbe7(0xa3a));return;}_0x305608(_0xc891a4[_0x57dbe7(0xa89)],_0x52285b,_0x3a95a6,_0x5428d4);}):document['querySelectorAll']('.live-answer-btn')[_0x3f79db(0x277)](_0x491180=>{const _0xbc6008=_0x3f79db;_0x491180[_0xbc6008(0x844)]('click',()=>{const _0x21f40b=_0xbc6008;_0x305608(_0x491180[_0x21f40b(0x845)][_0x21f40b(0xa89)],_0x52285b,_0x3a95a6,_0x5428d4);});});if(_0x3a95a6[_0x3f79db(0xc89)]===!![]){if(!_0xb5304a){const _0x4bf733=document[_0x3f79db(0x283)](_0x3f79db(0xcf3));_0x4bf733&&_0x4bf733[_0x3f79db(0x844)](_0x3f79db(0x425),()=>{const _0x51a8fb=_0x3f79db,_0xb21ce8=_0x51a8fb(0xc40)+_0x2fee21+'_p'+_0x5428d4,_0x4cb840=sessionStorage['getItem'](_0xb21ce8)===_0x51a8fb(0x503);if(!_0x4cb840)openBlackMarket(_0x3a95a6,_0x3d9fe6),sessionStorage[_0x51a8fb(0xba0)](_0xb21ce8,'true'),renderStudentSyncQuestionView(_0x3a95a6);else{if(_0x3d9fe6[_0x51a8fb(0xd53)]<0x1){showMessage(_0x51a8fb(0x97b));return;}showConfirmation(_0x51a8fb(0x16a),()=>{handlePayForMarketEntry(_0x5428d4,_0x3a95a6,_0x3d9fe6);});}}),document[_0x3f79db(0x283)]('use-powerup-buyTime')?.['addEventListener'](_0x3f79db(0x425),_0x14162f=>{const _0x18b25e=_0x3f79db;_0x14162f[_0x18b25e(0x543)][_0x18b25e(0xc71)]=!![],handleUsePowerup(_0x5428d4,_0x18b25e(0x828),_0x52285b,_0x3a95a6,_0x3d9fe6);}),document['getElementById'](_0x3f79db(0x193))?.[_0x3f79db(0x844)](_0x3f79db(0x425),_0x544946=>{const _0x576e8c=_0x3f79db;_0x544946[_0x576e8c(0x543)][_0x576e8c(0xc71)]=!![],handleUsePowerup(_0x5428d4,_0x576e8c(0x90a),_0x52285b,_0x3a95a6,_0x3d9fe6);}),document[_0x3f79db(0x283)]('use-powerup-insurance')?.[_0x3f79db(0x844)](_0x3f79db(0x425),_0x3e8134=>{const _0x3e790d=_0x3f79db;_0x3e8134[_0x3e790d(0x543)][_0x3e790d(0xc71)]=!![],handleUsePowerup(_0x5428d4,'insurance',_0x52285b,_0x3a95a6,_0x3d9fe6);}),document[_0x3f79db(0x283)](_0x3f79db(0xc9))?.[_0x3f79db(0x844)](_0x3f79db(0x425),_0x35a555=>{const _0x43d47f=_0x3f79db;_0x35a555['target']['disabled']=!![],handleUsePowerup(_0x5428d4,_0x43d47f(0xb8d),_0x52285b,_0x3a95a6,_0x3d9fe6);}),document[_0x3f79db(0x283)](_0x3f79db(0xc8f))?.[_0x3f79db(0x844)](_0x3f79db(0x425),_0x4188e7=>{const _0x3a5493=_0x3f79db;_0x4188e7[_0x3a5493(0x543)][_0x3a5493(0xc71)]=!![],handleUsePowerup(_0x5428d4,_0x3a5493(0xbad),_0x52285b,_0x3a95a6,_0x3d9fe6);}),document[_0x3f79db(0x283)](_0x3f79db(0xceb))?.[_0x3f79db(0x844)](_0x3f79db(0x425),_0x326148=>{const _0x4ff968=_0x3f79db;_0x326148['target'][_0x4ff968(0xc71)]=!![],handleUsePowerup(_0x5428d4,_0x4ff968(0xaa8),_0x52285b,_0x3a95a6,_0x3d9fe6);}),document[_0x3f79db(0x283)](_0x3f79db(0x69d))?.[_0x3f79db(0x844)]('click',_0x26ec65=>{const _0x80a13e=_0x3f79db;_0x26ec65['target'][_0x80a13e(0xc71)]=!![],sessionStorage[_0x80a13e(0xba0)](_0x80a13e(0x426),_0x80a13e(0xdf9)),handleUsePowerup(_0x5428d4,_0x80a13e(0xc8e),_0x52285b,_0x3a95a6,_0x3d9fe6);});}document[_0x3f79db(0x283)](_0x3f79db(0xace))?.[_0x3f79db(0x844)](_0x3f79db(0x425),_0x368cef=>{const _0x54a666=_0x3f79db;_0x368cef[_0x54a666(0x543)][_0x54a666(0xc71)]=!![],sessionStorage[_0x54a666(0xba0)](_0x54a666(0x426),'true'),handleUsePowerup(_0x5428d4,'wagerMultiplier',_0x52285b,_0x3a95a6,_0x3d9fe6);});}}async function handleSyncAnswerSubmit(_0x5b9282,_0x29cd9e,_0x47aa8b,_0x10373a,_0x110675,_0x3637cc=0x0){const _0x49dc2d=_0x3db3a6;document['querySelectorAll'](_0x49dc2d(0x3f8))[_0x49dc2d(0x277)](_0x94c5b=>_0x94c5b[_0x49dc2d(0xc71)]=!![]);const _0x31c390=_0x47aa8b['currentQuestionIndex'],_0x2d6a82=_0x49dc2d(0xa4c)+_0x31c390+'_p'+_0x10373a,_0x13018f=sessionStorage[_0x49dc2d(0x901)](_0x2d6a82),_0x1afb5d=_0x47aa8b[_0x49dc2d(0x5ec)][_0x10373a]||{},_0x512e53=_0x1afb5d[_0x49dc2d(0x6bf)]===!![],_0x3fc4ba=sessionStorage[_0x49dc2d(0x901)](_0x49dc2d(0x50c))===_0x49dc2d(0x503);let _0x4c0a35=_0x1afb5d[_0x49dc2d(0xa2e)]||0x0;_0x13018f&&_0x13018f!==_0x49dc2d(0xc8e)&&(_0x4c0a35=0x0);const _0x2f703b=_0x4c0a35>=0x3,_0x1adfb8=_0x29cd9e['questionType']||_0x47aa8b[_0x49dc2d(0x84d)][_0x49dc2d(0x461)];let _0xf9f45c=![],_0x132106=_0x5b9282;switch(_0x1adfb8){case _0x49dc2d(0x50e):const _0xbf36f6=parseInt(_0x5b9282),_0x53a0b7=_0x29cd9e[_0x49dc2d(0xad1)]===!![]||String(_0x29cd9e[_0x49dc2d(0xad1)])['toLowerCase']()===_0x49dc2d(0x503);_0xf9f45c=_0xbf36f6===0x0&&_0x53a0b7||_0xbf36f6===0x1&&!_0x53a0b7,_0x132106=_0xbf36f6===0x0?_0x49dc2d(0x45e):_0x49dc2d(0x807);break;case _0x49dc2d(0x358):case _0x49dc2d(0x1c8):_0xf9f45c=await gradeShortAnswer(_0x5b9282,_0x29cd9e);break;case _0x49dc2d(0x1f4):_0xf9f45c=_0x5b9282===_0x29cd9e['correctResponse'];break;case'multiple_choice':default:const _0x5283ae=parseInt(_0x5b9282);_0xf9f45c=_0x5283ae===_0x29cd9e[_0x49dc2d(0x7ed)];_0x29cd9e[_0x49dc2d(0xbed)]&&_0x29cd9e[_0x49dc2d(0xbed)][_0x5283ae]&&(_0x132106=_0x29cd9e[_0x49dc2d(0xbed)][_0x5283ae]);break;}if(!_0xf9f45c&&_0x13018f===_0x49dc2d(0xbad)&&!_0x3fc4ba){sessionStorage['removeItem'](_0x2d6a82),sessionStorage[_0x49dc2d(0xba0)](_0x49dc2d(0x50c),_0x49dc2d(0x503)),showMessage(_0x49dc2d(0x519)),document[_0x49dc2d(0x68a)](_0x49dc2d(0x3f8))[_0x49dc2d(0x277)](_0x4700de=>{const _0x57622a=_0x49dc2d;if(!_0x4700de['classList'][_0x57622a(0x5a0)]('hidden'))_0x4700de[_0x57622a(0xc71)]=![];});return;}let _0x2ae127=0x0;const _0xd8034c=_0x13018f===_0x49dc2d(0xc8e),_0x89bbe0=_0x13018f==='insurance',_0x4fe0a7=sessionStorage[_0x49dc2d(0x901)](_0x49dc2d(0x4f7))===_0x49dc2d(0x503),_0x18c52a=_0x1afb5d[_0x49dc2d(0x4be)]===!![];if(_0xd8034c){const _0x394e01=parseInt(_0x3637cc,0xa)||0x0;_0x2ae127=_0xf9f45c?_0x394e01*0x2:-_0x394e01;}else{if(_0x4fe0a7&&!_0xf9f45c)_0x2ae127=_0x110675===!![]||_0x110675===_0x49dc2d(0x8a8)||_0x512e53?-0x4:-0x2;else{if(_0x512e53)_0x2ae127=_0xf9f45c?0x2:-0x1;else{if(_0x47aa8b['isConfidenceScoringEnabled']){if(_0xf9f45c&&(_0x110675===!![]||_0x110675===_0x49dc2d(0x8a8)))_0x2ae127=0x2;else{if(_0xf9f45c)_0x2ae127=0x1;else{if(!_0xf9f45c&&(_0x110675===![]||_0x110675==='not_confident'||_0x110675===null))_0x2ae127=0x0;else{if(!_0xf9f45c&&(_0x110675===!![]||_0x110675===_0x49dc2d(0x8a8)))_0x2ae127=-0x1;}}}}else _0x2ae127=_0xf9f45c?0x1:0x0;}}}_0x2f703b&&_0x2ae127>0x0&&(_0x2ae127*=0x2);_0x18c52a&&!_0xf9f45c&&_0x2ae127<0x0&&(_0x2ae127*=0x2);!_0xf9f45c&&_0x89bbe0&&(_0x2ae127=0x0);const _0x2de761=(_0x1afb5d[_0x49dc2d(0x132)]||0x0)>0x0,_0x1ea2a0=_0x13018f&&_0x13018f!==_0x49dc2d(0xc8e);let _0x3af960=0x0;_0xf9f45c&&(_0x3af960=_0x1ea2a0?0x0:_0x4c0a35+0x1);const _0xdfac0f={'questionIndex':_0x47aa8b[_0x49dc2d(0x854)],'questionId':_0x29cd9e['id'],'answer':_0x5b9282,'answerText':_0x132106,'isCorrect':_0xf9f45c,'originalQuestionText':_0x29cd9e[_0x49dc2d(0xb0e)]||_0x29cd9e['stem'],'wasConfident':_0x512e53?'confident':_0x110675||![],'pointsAwarded':_0x2ae127,'powerupUsed':_0x13018f||null,'wagerAmount':_0xd8034c?parseInt(_0x3637cc,0xa)||0x0:0x0,'wasJinxed':_0x18c52a||![],'wasForced':_0x512e53||![],'usedPoll':_0x4fe0a7||![],'usedBuyTime':_0x2de761,'streakActive':_0x2f703b},_0x48529f=doc(db,_0x49dc2d(0x981)+appId+_0x49dc2d(0x395)+currentLiveGameId+_0x49dc2d(0x25a),_0x10373a),_0xec4674=_0x1afb5d[_0x49dc2d(0x749)]||[],_0x4ab2bb=_0xec4674[_0x49dc2d(0x1a1)](_0x3edcec=>_0x3edcec['questionIndex']!==_0x47aa8b['currentQuestionIndex']),_0x155948=[..._0x4ab2bb,_0xdfac0f],_0x2127e4=_0x155948[_0x49dc2d(0x1a1)](_0x2b532a=>_0x2b532a[_0x49dc2d(0xb7c)])[_0x49dc2d(0x110)],_0x48aa52={'answers':_0x155948,'score':_0x2127e4,'totalPoints':increment(_0x2ae127),'answered':!![],'lastAnswerIndex':_0x1adfb8===_0x49dc2d(0x6f2)||_0x1adfb8==='true_false'?parseInt(_0x5b9282):null,'lastAnswerValue':_0x132106,'isJinxed':![],'isForcedConfident':![],'timeBonusThisQuestion':0x0,'correctStreak':_0x3af960};if(_0x3fc4ba)sessionStorage[_0x49dc2d(0xdc2)](_0x49dc2d(0x50c));try{await updateDoc(_0x48529f,_0x48aa52);}catch(_0x5d4a9a){console['error']('Error\x20submitting\x20answer:',_0x5d4a9a),showMessage(_0x49dc2d(0xe50)),document['querySelectorAll'](_0x49dc2d(0x3f8))[_0x49dc2d(0x277)](_0xedafe6=>_0xedafe6['disabled']=![]);}}const allMarketItems=[{'id':_0x3db3a6(0x828),'name':'⏳\x20ซื้อเวลา','price':0x1,'desc':'เพิ่มเวลา\x20+25%\x20ของเวลาเริ่มต้นในข้อนี้\x20(สำหรับคุณ)'},{'id':_0x3db3a6(0x90a),'name':_0x3db3a6(0xd4b),'price':0x2,'desc':_0x3db3a6(0xcb7)},{'id':_0x3db3a6(0xb8d),'name':_0x3db3a6(0x541),'price':0x5,'desc':'ตัดตัวเลือกที่\x20\x22ผิด\x22\x20ออก\x202\x20ข้อ\x20(เหลือ\x201\x20ถูก\x201\x20ผิด)'},{'id':_0x3db3a6(0xbad),'name':_0x3db3a6(0x454),'price':0x7,'desc':_0x3db3a6(0xaab)},{'id':_0x3db3a6(0xaa8),'name':_0x3db3a6(0x7f4),'price':0xc,'desc':_0x3db3a6(0x319)}];function openBlackMarket(_0x42148c,_0x46ed3e){const _0x5a4d97=_0x3db3a6;let _0x38e31e=null;const _0x46c0a1=document['getElementById'](_0x5a4d97(0xb8c)),_0x2b94af=document[_0x5a4d97(0x283)](_0x5a4d97(0xcb0)),_0x80a330=document[_0x5a4d97(0x283)](_0x5a4d97(0x4de)),_0x49b598=document[_0x5a4d97(0x283)](_0x5a4d97(0x743)),_0x4ef337=_0x46ed3e[_0x5a4d97(0xd53)]||0x0;_0x80a330[_0x5a4d97(0x1bd)]=_0x4ef337;const _0x606d4d=_0x42148c['currentQuestionIndex'],_0x1ccf56=_0x42148c[_0x5a4d97(0x84d)][_0x5a4d97(0x13f)][_0x606d4d],_0xd74feb=_0x1ccf56[_0x5a4d97(0x430)]||_0x42148c[_0x5a4d97(0x84d)][_0x5a4d97(0x461)],_0x3445f1=_0x42148c[_0x5a4d97(0xe4b)]==='per_question',_0x59fb4a=allMarketItems;_0x2b94af[_0x5a4d97(0x545)]=_0x59fb4a[_0x5a4d97(0x87e)](_0x36110c=>{const _0x3bbd82=_0x5a4d97,_0x376c40=_0x4ef337>=_0x36110c['price'];if(_0x36110c['id']===_0x3bbd82(0x828)){const _0x58c770=_0x376c40?Math[_0x3bbd82(0x7f6)](_0x4ef337/_0x36110c['price']):0x0,_0x1bef43=_0x376c40&&_0x3445f1;let _0x3e8498=_0x3bbd82(0x5b5)+_0x36110c[_0x3bbd82(0x5cf)]+_0x3bbd82(0x320),_0x4602f7=_0x1bef43?_0x3bbd82(0x6a2):_0x3bbd82(0xad2);return!_0x3445f1&&(_0x3e8498=_0x3bbd82(0xe19),_0x4602f7='bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-3\x20border\x20rounded-lg\x20'+(!_0x1bef43?_0x3bbd82(0x380):_0x3bbd82(0x96a))+_0x3bbd82(0x196)+_0x36110c[_0x3bbd82(0x339)]+_0x3bbd82(0xcfb)+_0x36110c[_0x3bbd82(0x329)]+_0x3bbd82(0x6e7)+_0x58c770+'\x22\x20'+(!_0x1bef43?'disabled':'')+_0x3bbd82(0x6bd)+_0x4602f7+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-item-id=\x22'+_0x36110c['id']+_0x3bbd82(0x190)+_0x36110c[_0x3bbd82(0x5cf)]+_0x3bbd82(0xa3b)+(!_0x1bef43?_0x3bbd82(0xc71):'')+_0x3bbd82(0x46c)+_0x3e8498+_0x3bbd82(0x8aa);}else{let _0x274d37=!_0x376c40,_0x14324f=_0x376c40?_0x3bbd82(0x6a2):_0x3bbd82(0xad2),_0x2cc713=_0x3bbd82(0x5b5)+_0x36110c[_0x3bbd82(0x5cf)]+'P)';if(_0x36110c['id']==='revealOptions'){const _0x53c00c=_0x1ccf56[_0x3bbd82(0xbed)]&&_0x1ccf56[_0x3bbd82(0xbed)][_0x3bbd82(0x110)]>0x0,_0x35d7ff=_0xd74feb===_0x3bbd82(0x358)||_0xd74feb===_0x3bbd82(0x1c8);(!_0x53c00c||!_0x35d7ff)&&(_0x274d37=!![],_0x14324f=_0x3bbd82(0xd2d),_0x2cc713=_0x3bbd82(0x6ee));}if(_0x36110c['id']==='cutOne'||_0x36110c['id']===_0x3bbd82(0xb8d)){const _0x106814=_0xd74feb==='short_answer'||_0xd74feb==='fill_in_no_choices',_0x271d93=_0x1ccf56[_0x3bbd82(0xbed)]&&_0x1ccf56[_0x3bbd82(0xbed)][_0x3bbd82(0x110)]>0x0;(_0x106814||!_0x271d93)&&(_0x274d37=!![],_0x14324f='bg-gray-300\x20text-gray-500\x20cursor-not-allowed\x20border\x20border-gray-300',_0x2cc713=_0x3bbd82(0x3c9));}return _0x3bbd82(0xde1)+(_0x274d37?_0x3bbd82(0x380):_0x3bbd82(0x96a))+_0x3bbd82(0x196)+_0x36110c[_0x3bbd82(0x339)]+_0x3bbd82(0xcfb)+_0x36110c[_0x3bbd82(0x329)]+_0x3bbd82(0x1f6)+_0x14324f+_0x3bbd82(0x711)+_0x36110c['id']+_0x3bbd82(0x6a7)+_0x36110c[_0x3bbd82(0x5cf)]+_0x3bbd82(0x14a)+(_0x274d37?'disabled':'')+_0x3bbd82(0xcbb)+_0x2cc713+_0x3bbd82(0xb56);}})[_0x5a4d97(0xd6e)](''),_0x46c0a1['classList']['remove']('hidden'),_0x49b598[_0x5a4d97(0xbeb)][_0x5a4d97(0x951)]='none',_0x49b598['style']['width']=_0x5a4d97(0x824),setTimeout(()=>{const _0x356b2a=_0x5a4d97;_0x49b598[_0x356b2a(0xbeb)][_0x356b2a(0x951)]=_0x356b2a(0xdab),_0x49b598[_0x356b2a(0xbeb)]['width']='0%';},0x32),_0x38e31e=setTimeout(()=>{const _0x2a536a=_0x5a4d97;_0x46c0a1['classList'][_0x2a536a(0xd74)](_0x2a536a(0x9a0));},0xea60),document[_0x5a4d97(0x283)](_0x5a4d97(0x5eb))[_0x5a4d97(0x74a)]=()=>{const _0x3c39de=_0x5a4d97;clearTimeout(_0x38e31e),_0x46c0a1[_0x3c39de(0x605)]['add'](_0x3c39de(0x9a0));},_0x2b94af[_0x5a4d97(0x68a)]('.buy-item-btn')['forEach'](_0x259cad=>{const _0x186025=_0x5a4d97;_0x259cad[_0x186025(0x74a)]=_0x360f2e=>{const _0x362913=_0x186025,_0x253e67=_0x360f2e[_0x362913(0x543)][_0x362913(0x845)][_0x362913(0x5d1)],_0x386aef=parseInt(_0x360f2e[_0x362913(0x543)][_0x362913(0x845)][_0x362913(0x5cf)],0xa);clearTimeout(_0x38e31e),_0x46c0a1[_0x362913(0x605)]['add'](_0x362913(0x9a0)),handleBuyItem(_0x46ed3e[_0x362913(0x339)],_0x253e67,_0x386aef,0x1);};}),_0x2b94af[_0x5a4d97(0x68a)]('.buy-time-confirm-btn')[_0x5a4d97(0x277)](_0x49c32e=>{const _0x6db33c=_0x5a4d97;_0x49c32e[_0x6db33c(0x74a)]=_0x121f32=>{const _0x504635=_0x6db33c,_0x109c28=_0x121f32['target'][_0x504635(0x845)][_0x504635(0x5d1)],_0x153620=parseInt(_0x121f32['target'][_0x504635(0x845)]['price'],0xa),_0x5439dd=document['getElementById']('buy-time-quantity-input'),_0x21e004=parseInt(_0x5439dd[_0x504635(0xa89)],0xa),_0x34eb47=parseInt(_0x5439dd[_0x504635(0x8c3)],0xa);if(!_0x21e004||_0x21e004<0x1){showMessage('กรุณาระบุจำนวนที่ถูกต้อง\x20(อย่างน้อย\x201\x20ชิ้น)');return;}if(_0x21e004>_0x34eb47){showMessage(_0x504635(0x5d8)+_0x34eb47+'\x20ชิ้น)');return;}clearTimeout(_0x38e31e),_0x46c0a1[_0x504635(0x605)][_0x504635(0xd74)](_0x504635(0x9a0)),handleBuyItem(_0x46ed3e[_0x504635(0x339)],_0x109c28,_0x153620,_0x21e004);};});}async function handleBuyItem(_0x4d0145,_0x3af4e9,_0x53db55,_0x961ebf=0x1){const _0x39d00a=_0x3db3a6,_0x2bc45f=doc(db,'artifacts/'+appId+_0x39d00a(0x395)+currentLiveGameId+_0x39d00a(0x25a),_0x4d0145);try{await runTransaction(db,async _0x3a1d68=>{const _0x5917b0=_0x39d00a,_0x171cf1=await _0x3a1d68[_0x5917b0(0xc72)](_0x2bc45f);if(!_0x171cf1[_0x5917b0(0xaed)]())throw'ไม่พบข้อมูลผู้เล่น';const _0x8a7074=_0x171cf1[_0x5917b0(0x366)]()[_0x5917b0(0xd53)]||0x0,_0x556aca=_0x53db55*_0x961ebf;if(_0x8a7074<_0x556aca)throw _0x5917b0(0x7bc);const _0xfed709={};_0xfed709[_0x5917b0(0xd53)]=increment(-_0x556aca),_0xfed709[_0x5917b0(0x77f)+_0x3af4e9]=increment(_0x961ebf),_0x3a1d68[_0x5917b0(0xd55)](_0x2bc45f,_0xfed709);}),showMessage(_0x39d00a(0xd7c)+_0x3af4e9+_0x39d00a(0x217)+_0x961ebf+_0x39d00a(0xbc0));}catch(_0x37dd41){console[_0x39d00a(0xe4d)]('Buy\x20Item\x20failed:\x20',_0x37dd41),showMessage(typeof _0x37dd41===_0x39d00a(0x89a)?_0x37dd41:_0x39d00a(0x668));}}async function handlePayForMarketEntry(_0x5dfc4a,_0x493d11,_0x435a48){const _0x22e353=_0x3db3a6,_0x2d67a9=doc(db,'artifacts/'+appId+_0x22e353(0x395)+currentLiveGameId+_0x22e353(0x25a),_0x5dfc4a);try{await runTransaction(db,async _0x701e03=>{const _0x4b3088=_0x22e353,_0x313529=await _0x701e03[_0x4b3088(0xc72)](_0x2d67a9);if(!_0x313529[_0x4b3088(0xaed)]())throw _0x4b3088(0x322);const _0x576d11=_0x313529['data']()[_0x4b3088(0xd53)]||0x0;if(_0x576d11<0x1)throw'มี\x20Points\x20ไม่เพียงพอ\x20(ต้องใช้\x201P)';const _0x23e0f5={};_0x23e0f5[_0x4b3088(0xd53)]=increment(-0x1),_0x701e03[_0x4b3088(0xd55)](_0x2d67a9,_0x23e0f5);});const _0x10f221={..._0x435a48,'totalPoints':(_0x435a48['totalPoints']||0x0)-0x1};openBlackMarket(_0x493d11,_0x10f221);}catch(_0x26ebb1){console[_0x22e353(0xe4d)](_0x22e353(0x12c),_0x26ebb1),showMessage(typeof _0x26ebb1===_0x22e353(0x89a)?_0x26ebb1:_0x22e353(0x150));}}const audioCtx=new(window[(_0x3db3a6(0x151))]||window[(_0x3db3a6(0x34d))])();function playSystemSound(_0x5b66ab){const _0x1dc5f6=_0x3db3a6;if(audioCtx[_0x1dc5f6(0x3ca)]===_0x1dc5f6(0x310))audioCtx[_0x1dc5f6(0x41a)]();const _0x5cbf91=audioCtx[_0x1dc5f6(0x73b)](),_0x211e0f=audioCtx[_0x1dc5f6(0xa39)]();_0x5cbf91[_0x1dc5f6(0x26d)](_0x211e0f),_0x211e0f[_0x1dc5f6(0x26d)](audioCtx[_0x1dc5f6(0x41e)]);const _0x1f4f27=audioCtx[_0x1dc5f6(0x206)];if(_0x5b66ab==='correct')_0x5cbf91['type']=_0x1dc5f6(0x880),_0x5cbf91[_0x1dc5f6(0x5a1)][_0x1dc5f6(0xb1a)](0x258,_0x1f4f27),_0x5cbf91[_0x1dc5f6(0x5a1)][_0x1dc5f6(0x274)](0x4b0,_0x1f4f27+0.1),_0x211e0f[_0x1dc5f6(0x516)][_0x1dc5f6(0xb1a)](0.1,_0x1f4f27),_0x211e0f[_0x1dc5f6(0x516)][_0x1dc5f6(0x274)](0.01,_0x1f4f27+0.5),_0x5cbf91[_0x1dc5f6(0x105)](_0x1f4f27),_0x5cbf91[_0x1dc5f6(0xb47)](_0x1f4f27+0.5);else{if(_0x5b66ab===_0x1dc5f6(0x705))_0x5cbf91[_0x1dc5f6(0x816)]='sawtooth',_0x5cbf91['frequency'][_0x1dc5f6(0xb1a)](0x96,_0x1f4f27),_0x5cbf91[_0x1dc5f6(0x5a1)]['exponentialRampToValueAtTime'](0x64,_0x1f4f27+0.2),_0x211e0f[_0x1dc5f6(0x516)][_0x1dc5f6(0xb1a)](0.1,_0x1f4f27),_0x211e0f[_0x1dc5f6(0x516)][_0x1dc5f6(0x274)](0.01,_0x1f4f27+0.3),_0x5cbf91[_0x1dc5f6(0x105)](_0x1f4f27),_0x5cbf91['stop'](_0x1f4f27+0.3);else _0x5b66ab===_0x1dc5f6(0xdb1)&&(_0x5cbf91[_0x1dc5f6(0x816)]=_0x1dc5f6(0x5de),_0x5cbf91[_0x1dc5f6(0x5a1)][_0x1dc5f6(0xb1a)](0x12c,_0x1f4f27),_0x5cbf91[_0x1dc5f6(0x5a1)]['linearRampToValueAtTime'](0x258,_0x1f4f27+0.1),_0x211e0f[_0x1dc5f6(0x516)][_0x1dc5f6(0xb1a)](0.1,_0x1f4f27),_0x211e0f[_0x1dc5f6(0x516)][_0x1dc5f6(0xb35)](0.01,_0x1f4f27+0.3),_0x5cbf91[_0x1dc5f6(0x105)](_0x1f4f27),_0x5cbf91['stop'](_0x1f4f27+0.3));}}initialize();
