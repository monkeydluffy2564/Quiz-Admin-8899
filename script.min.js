const _0x4c4cf8=_0x3869;(function(_0x5be45d,_0x27c6aa){const _0x44eab1=_0x3869,_0x44025c=_0x5be45d();while(!![]){try{const _0x2c17e3=-parseInt(_0x44eab1(0xa19))/0x1+parseInt(_0x44eab1(0xc85))/0x2*(parseInt(_0x44eab1(0x3c1))/0x3)+parseInt(_0x44eab1(0x23d))/0x4*(parseInt(_0x44eab1(0x273))/0x5)+parseInt(_0x44eab1(0x35c))/0x6+parseInt(_0x44eab1(0xd86))/0x7*(parseInt(_0x44eab1(0x372))/0x8)+parseInt(_0x44eab1(0xd4b))/0x9+-parseInt(_0x44eab1(0x20a))/0xa;if(_0x2c17e3===_0x27c6aa)break;else _0x44025c['push'](_0x44025c['shift']());}catch(_0x55b51e){_0x44025c['push'](_0x44025c['shift']());}}}(_0xdc5a,0x6649f));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId=_0x4c4cf8(0xa9a),fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x4c4cf8(0xa9a),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId='all',fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x2075fe=_0x4c4cf8;if(_0x2075fe(0x7c2)in navigator)try{wakeLock=await navigator[_0x2075fe(0x7c2)][_0x2075fe(0x855)](_0x2075fe(0x8ed)),console[_0x2075fe(0xdea)](_0x2075fe(0xa4a)),wakeLock[_0x2075fe(0x28f)]('release',()=>{const _0x34ce08=_0x2075fe;console[_0x34ce08(0xdea)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว');});}catch(_0x1b4931){console[_0x2075fe(0x3f6)](_0x2075fe(0xdbd)+_0x1b4931[_0x2075fe(0x7e7)]+',\x20'+_0x1b4931[_0x2075fe(0xb40)]);}else console['warn']('เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API');},releaseWakeLock=async()=>{const _0x363692=_0x4c4cf8;wakeLock!==null&&(await wakeLock['release'](),wakeLock=null,console[_0x363692(0xdea)](_0x363692(0xa27)));};let dimTimer=null;const ANONYMOUS_NAMES=['นักล่าฝัน',_0x4c4cf8(0xda4),_0x4c4cf8(0xbc3),'เหมียวขี้เซา','นกฮูกกลางวัน','เต่าสายฟ้า',_0x4c4cf8(0xb46),'สิงโตยิ้ม',_0x4c4cf8(0x42b),_0x4c4cf8(0x75b),_0x4c4cf8(0x479),'มือปราบสายรุ้ง',_0x4c4cf8(0xa6a),_0x4c4cf8(0x322),_0x4c4cf8(0xcd4),'จอมเวทย์ขนมหวาน',_0x4c4cf8(0x4ff),_0x4c4cf8(0x627),'โจรสลัดอวกาศ',_0x4c4cf8(0x4fb),_0x4c4cf8(0x4aa),_0x4c4cf8(0x4c1),'ปลาทูคะนอง',_0x4c4cf8(0xc19),_0x4c4cf8(0x277),_0x4c4cf8(0x8f3),_0x4c4cf8(0x4ca),_0x4c4cf8(0x3b6),_0x4c4cf8(0xaba),'หนอนหนังสือ',_0x4c4cf8(0x8be),'สายลับจับบ้านเล็ก',_0x4c4cf8(0x1de),_0x4c4cf8(0x56d),_0x4c4cf8(0x852),_0x4c4cf8(0xa21),'เศรษฐีดูไบ',_0x4c4cf8(0xafe),'เน็ตไอดอล',_0x4c4cf8(0x773),_0x4c4cf8(0x927),_0x4c4cf8(0x51c),'ส้มตำปูปลาร้า',_0x4c4cf8(0x3bc),'ไอติมทอด','ข้าวมันไก่พิเศษ',_0x4c4cf8(0x867),_0x4c4cf8(0xd99),_0x4c4cf8(0xa47),_0x4c4cf8(0xd36),_0x4c4cf8(0x3fb),_0x4c4cf8(0x781),_0x4c4cf8(0x4dd),'นอนไม่พอ',_0x4c4cf8(0xad9),'แบตหมด',_0x4c4cf8(0xb25),_0x4c4cf8(0x8ad),_0x4c4cf8(0xcc0),_0x4c4cf8(0x825),_0x4c4cf8(0x434),_0x4c4cf8(0x1fa),_0x4c4cf8(0x48a),_0x4c4cf8(0x5ee),_0x4c4cf8(0x5d1),_0x4c4cf8(0x1f5),_0x4c4cf8(0x5cc),'ภูเขา',_0x4c4cf8(0x31f),_0x4c4cf8(0x593),'นักเดินทาง',_0x4c4cf8(0x241),_0x4c4cf8(0x6b9),_0x4c4cf8(0xa5b),_0x4c4cf8(0x4f6),_0x4c4cf8(0x85c),_0x4c4cf8(0xde7),'นักประดิษฐ์',_0x4c4cf8(0x998),_0x4c4cf8(0x492),_0x4c4cf8(0xa0f),'ปล่อยพลัง',_0x4c4cf8(0x827),_0x4c4cf8(0xa07),_0x4c4cf8(0x40a),_0x4c4cf8(0x737),_0x4c4cf8(0xb6c),_0x4c4cf8(0x574),_0x4c4cf8(0xb43),'ฮัลค์',_0x4c4cf8(0x930),_0x4c4cf8(0x427),_0x4c4cf8(0x8e4),_0x4c4cf8(0x552),_0x4c4cf8(0x914),_0x4c4cf8(0xd4c),_0x4c4cf8(0x610),_0x4c4cf8(0x626),'สถานะไม่ชัดเจน',_0x4c4cf8(0xaa6)],inactivityTime=0xea60;function resetDimTimer(){const _0x33d932=_0x4c4cf8;if(!document[_0x33d932(0x7c0)][_0x33d932(0x67b)][_0x33d932(0x8de)]('dimmed')){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x5d4a55=_0x33d932;document[_0x5d4a55(0x7c0)][_0x5d4a55(0x67b)][_0x5d4a55(0x602)](_0x5d4a55(0xa6d)),console[_0x5d4a55(0xdea)](_0x5d4a55(0x5fe));},inactivityTime);}}function wakeUpScreen(_0x5a167c){const _0x5c6515=_0x4c4cf8;_0x5a167c&&(_0x5a167c[_0x5c6515(0xa1e)](),_0x5a167c[_0x5c6515(0x6c3)]());document[_0x5c6515(0x7c0)][_0x5c6515(0x67b)][_0x5c6515(0x7d5)]('dimmed');if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x4b4bcd=_0x5c6515;document[_0x4b4bcd(0x7c0)][_0x4b4bcd(0x67b)]['add']('dimmed');},inactivityTime);}function stopDimTimer(){const _0xe7c646=_0x4c4cf8;if(dimTimer)clearTimeout(dimTimer);document[_0xe7c646(0x7c0)][_0xe7c646(0x67b)][_0xe7c646(0x7d5)](_0xe7c646(0xa6d)),window['removeEventListener'](_0xe7c646(0xaff),resetDimTimer),window[_0xe7c646(0x965)](_0xe7c646(0x338),resetDimTimer),window[_0xe7c646(0x965)](_0xe7c646(0xc33),resetDimTimer),window[_0xe7c646(0x965)](_0xe7c646(0xc8b),resetDimTimer),console[_0xe7c646(0xdea)](_0xe7c646(0xb55));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];function _0x3869(_0x51ca12,_0x4eb05d){const _0xdc5aba=_0xdc5a();return _0x3869=function(_0x38695e,_0x112ebb){_0x38695e=_0x38695e-0x1de;let _0x4ed3d4=_0xdc5aba[_0x38695e];return _0x4ed3d4;},_0x3869(_0x51ca12,_0x4eb05d);}async function handleStartTeamQuiz(_0xf9811c,_0x5cb5d2=![]){const _0x56a748=_0x4c4cf8,_0x418dbc=allQuizzes[_0x56a748(0x4c4)](_0x4cf7dc=>_0x4cf7dc['id']===_0xf9811c)||allQuizzesGlobal['find'](_0x1fe1aa=>_0x1fe1aa['id']===_0xf9811c);if(!_0x418dbc){showMessage(_0x56a748(0x91d));return;}currentQuizData=getShuffledQuiz(_0x418dbc);const _0x11e4a4=Math[_0x56a748(0xd2a)](0x3e8+Math[_0x56a748(0xb9d)]()*0x2328)[_0x56a748(0x2f2)]();try{const _0x518d56=await addDoc(collection(db,'artifacts/'+appId+'/public/data/teamQuizzes'),{'quizId':_0x418dbc['id'],'projectId':_0x418dbc['projectId'],'status':_0x56a748(0xd1e),'pin':_0x11e4a4,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x5cb5d2});currentTeamQuizId=_0x518d56['id'],showView(_0x56a748(0x379)),renderAdminTeamQuizDashboard(_0x11e4a4,_0x418dbc[_0x56a748(0x3e7)]),listenForTeamQuizUpdates();}catch(_0x46b184){console['error']('Error\x20starting\x20team\x20quiz:',_0x46b184),showMessage(_0x56a748(0x7e2));}}function renderAdminTeamQuizDashboard(_0x355bfd,_0x779b29,_0x486634=_0x4c4cf8(0xd81)){const _0x2d54e4=_0x4c4cf8,_0x402e82=_0x486634===_0x2d54e4(0xdc0)?_0x2d54e4(0x8c0):'Team\x20Quiz';liveGameView[_0x2d54e4(0x66e)]=_0x2d54e4(0xd18)+_0x402e82+':\x20'+_0x779b29+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>'+_0x355bfd+_0x2d54e4(0x3be),document[_0x2d54e4(0x967)](_0x2d54e4(0x1ed))[_0x2d54e4(0x28f)](_0x2d54e4(0x526),async()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?',async()=>{const _0x3e3c7e=_0x3869;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x3e3c7e(0x4e9)+appId+_0x3e3c7e(0xbaf),currentTeamQuizId)),showView(_0x3e3c7e(0xd22));});});}function listenForTeamQuizUpdates(){const _0x1ccc1b=_0x4c4cf8;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x12266e=doc(db,'artifacts/'+appId+_0x1ccc1b(0xbaf),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x12266e,_0x282da4=>{const _0x4dc481=_0x1ccc1b;if(!_0x282da4[_0x4dc481(0x78d)]()){sessionStorage[_0x4dc481(0x794)](_0x4dc481(0x499));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x4dc481(0x411));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x4dc481(0x694)?showView(_0x4dc481(0xd22)):showView('student');return;}const _0x500958=_0x282da4[_0x4dc481(0x6bc)]();if(currentMode==='admin'){if(_0x500958[_0x4dc481(0x93d)]===_0x4dc481(0xdc0)&&_0x500958[_0x4dc481(0x27d)]!==_0x4dc481(0xbfa)&&_0x500958[_0x4dc481(0x27d)]!==_0x4dc481(0xcec)){const _0x52a4fd=Object['values'](_0x500958[_0x4dc481(0xc96)]||{});if(_0x52a4fd[_0x4dc481(0xbe0)]>0x0){const _0x5e66f4=_0x52a4fd[_0x4dc481(0x563)](_0x164347=>_0x164347['isFinished']===!![]);_0x5e66f4&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x500958);}else{if(_0x500958['status']===_0x4dc481(0xbfa)||_0x500958[_0x4dc481(0x27d)]===_0x4dc481(0xcec)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x500958[_0x4dc481(0x93d)]===_0x4dc481(0xdc0)){const _0x54c0d2=_0x500958[_0x4dc481(0xc96)][userId];(!_0x54c0d2||!_0x54c0d2[_0x4dc481(0x260)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x5606d4){const _0x251839=_0x4c4cf8;console[_0x251839(0xdea)](_0x251839(0x8cc));const _0x2c9508=doc(db,_0x251839(0x4e9)+appId+_0x251839(0xbaf),_0x5606d4);try{const _0x17c4d3=await getDoc(_0x2c9508);if(_0x17c4d3[_0x251839(0x78d)]()){const _0x4f3f8e=_0x17c4d3[_0x251839(0x6bc)]();_0x4f3f8e[_0x251839(0x257)]&&await saveGameResultsAsSubmissions(_0x4f3f8e);}await updateDoc(_0x2c9508,{'status':_0x251839(0xbfa)});}catch(_0x4029ea){console['error'](_0x251839(0x306),_0x4029ea);}}function updateAdminTeamDashboard(_0x181927){const _0x35ad5a=_0x4c4cf8,_0x10fd48=document[_0x35ad5a(0x967)](_0x35ad5a(0x3dc));if(!_0x10fd48)return;const _0x4db3f4=_0x181927[_0x35ad5a(0x93d)]||_0x35ad5a(0xd81),_0x12ee5c=currentQuizData['questions'][_0x35ad5a(0xbe0)];if(_0x4db3f4===_0x35ad5a(0xdc0)){const _0x537bb3=Object[_0x35ad5a(0x8c3)](_0x181927['groups']||{});if(_0x537bb3[_0x35ad5a(0xbe0)]===0x0){_0x10fd48[_0x35ad5a(0x66e)]=_0x35ad5a(0x767);return;}const _0x4d81e3=[..._0x537bb3][_0x35ad5a(0x8a7)]((_0x22ba10,_0x4af6f9)=>_0x4af6f9[_0x35ad5a(0x53c)]-_0x22ba10[_0x35ad5a(0x53c)]),_0xbc9e74=_0x4d81e3[_0x35ad5a(0x928)]((_0x1c9248,_0x19e99e)=>{const _0x247c32=_0x35ad5a,_0x4b8a45=_0x1c9248['answers']?.[_0x247c32(0xbe0)]||0x0;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+(_0x19e99e+0x1)+'.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>'+_0x1c9248['members']['join'](',\x20')+_0x247c32(0x6f8)+_0x4b8a45+'/'+_0x12ee5c+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x1c9248['score']+_0x247c32(0x92b);})[_0x35ad5a(0xbe3)](''),_0x6f77=currentQuizData['questions'][_0x35ad5a(0x928)]((_0x5c49cc,_0x599753)=>{const _0x1a5836=_0x35ad5a;let _0x4e719a=0x0,_0x132d0a=0x0;_0x537bb3[_0x1a5836(0xa3f)](_0x2ef97c=>{const _0x5cf242=_0x1a5836,_0x51b638=_0x2ef97c[_0x5cf242(0x646)]?.[_0x5cf242(0x4c4)](_0x3e3f02=>_0x3e3f02[_0x5cf242(0x884)]===_0x599753);if(_0x51b638){_0x132d0a++;if(_0x51b638['isCorrect'])_0x4e719a++;}});const _0x148344=_0x132d0a>0x0&&_0x132d0a===_0x537bb3[_0x1a5836(0xbe0)],_0x2f242a=_0x148344?_0x1a5836(0x8b2):_0x1a5836(0xcd5),_0x57a44c=_0x148344?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';return _0x1a5836(0xac8)+_0x2f242a+_0x1a5836(0x82c)+(_0x599753+0x1)+_0x1a5836(0xca4)+_0x57a44c+_0x1a5836(0x46c)+_0x4e719a+'/'+_0x537bb3[_0x1a5836(0xbe0)]+_0x1a5836(0x32c);})[_0x35ad5a(0xbe3)]('');_0x10fd48[_0x35ad5a(0x66e)]=_0x35ad5a(0xcda)+_0xbc9e74+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>'+_0x6f77+_0x35ad5a(0x988);return;}const _0xe06b8=_0x181927[_0x35ad5a(0x640)]||{},_0x3a5c60=Object[_0x35ad5a(0xadf)](_0xe06b8);if(_0x3a5c60[_0x35ad5a(0xbe0)]===0x0){_0x10fd48[_0x35ad5a(0x66e)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>';return;}const _0x4eb58b=_0x3a5c60[_0x35ad5a(0x928)](_0x5a5045=>({'name':_0x5a5045,'score':_0xe06b8[_0x5a5045]['score']||0x0}))[_0x35ad5a(0x8a7)]((_0x1aee1e,_0x31ba73)=>_0x31ba73[_0x35ad5a(0x53c)]-_0x1aee1e[_0x35ad5a(0x53c)]),_0x3f04cb=_0x4eb58b[_0x35ad5a(0x928)](_0x3f2142=>{const _0x40407b=_0x35ad5a,_0x1dbaa9=_0xe06b8[_0x3f2142[_0x40407b(0x7e7)]]?.[_0x40407b(0x646)]?.[_0x40407b(0xbe0)]||0x0,_0x4263b6=Math['ceil'](_0x12ee5c/_0x3a5c60[_0x40407b(0xbe0)]);return _0x40407b(0x205)+_0x3f2142[_0x40407b(0x7e7)]+_0x40407b(0xade)+_0x1dbaa9+'/'+_0x4263b6+_0x40407b(0x51f)+_0x3f2142[_0x40407b(0x53c)]+_0x40407b(0x8d3);})[_0x35ad5a(0xbe3)](''),_0x160962=_0x3a5c60[_0x35ad5a(0x2c1)]((_0x294eb2,_0x15343e)=>_0x294eb2+(_0xe06b8[_0x15343e][_0x35ad5a(0x646)]?.[_0x35ad5a(0xbe0)]||0x0),0x0),_0x5dfbe6=currentQuizData[_0x35ad5a(0x271)][_0x35ad5a(0x928)]((_0x29ef67,_0x5ec8e8)=>{const _0x1d16cd=_0x35ad5a;let _0x4193f6=null,_0x1d7f77=null;for(const _0x14b28d of _0x3a5c60){const _0x2f6203=_0xe06b8[_0x14b28d][_0x1d16cd(0x646)]?.[_0x1d16cd(0x4c4)](_0x29bc1a=>_0x29bc1a[_0x1d16cd(0x884)]===_0x5ec8e8);if(_0x2f6203){_0x4193f6=_0x2f6203,_0x1d7f77=_0x14b28d;break;}}const _0x25ec1c=!!_0x4193f6,_0x177d92=_0x25ec1c&&_0x4193f6[_0x1d16cd(0x4d1)],_0x3e0a72=(Math[_0x1d16cd(0xd2a)](_0x5ec8e8/_0x3a5c60[_0x1d16cd(0xbe0)])+0x1)*_0x3a5c60[_0x1d16cd(0xbe0)],_0x2d6f02=_0x160962>=_0x3e0a72,_0x1de44=_0x2d6f02?_0x1d16cd(0x435):_0x1d16cd(0xcd5),_0x542891=_0x2d6f02?_0x1d16cd(0xbbd):'';let _0x43e644=_0x1d16cd(0x9e0);return _0x25ec1c&&(_0x43e644=_0x1d7f77+'\x20ตอบ'+(_0x177d92?_0x1d16cd(0xd6a):_0x1d16cd(0x292))),_0x1d16cd(0xac8)+_0x1de44+_0x1d16cd(0x82c)+(_0x5ec8e8+0x1)+_0x1d16cd(0xca4)+_0x542891+'</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'+_0x43e644+'</p></div>';})[_0x35ad5a(0xbe3)]('');_0x10fd48[_0x35ad5a(0x66e)]=_0x35ad5a(0x27a)+_0x3f04cb+_0x35ad5a(0x82a)+_0x5dfbe6+_0x35ad5a(0x988);}async function handleJoinTeamQuiz(){const _0x45e165=_0x4c4cf8,_0x1000f1=prompt('กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):');if(!_0x1000f1||_0x1000f1[_0x45e165(0x46b)]()[_0x45e165(0xbe0)]!==0x4){showMessage(_0x45e165(0x3cc));return;}try{const _0x469c6f=collection(db,_0x45e165(0x4e9)+appId+_0x45e165(0xbaf)),_0x1a827e=query(_0x469c6f,where('pin','==',_0x1000f1[_0x45e165(0x46b)]()),where(_0x45e165(0x27d),'==',_0x45e165(0xd1e))),_0x5effdf=await getDocs(_0x1a827e);if(_0x5effdf['empty']){showMessage(_0x45e165(0x3ed));return;}const _0x2528fc=_0x5effdf['docs'][0x0];currentTeamQuizId=_0x2528fc['id'];const _0x4b458e=_0x2528fc[_0x45e165(0x6bc)](),_0xc3c5d9=doc(db,_0x45e165(0x4e9)+appId+_0x45e165(0x9f8),_0x4b458e[_0x45e165(0x6fe)]),_0x26ae5e=doc(db,_0x45e165(0x4e9)+appId+_0x45e165(0x2fe),_0x4b458e['quizId']),[_0x131f0e,_0x8335fe]=await Promise[_0x45e165(0xa9a)]([getDoc(_0xc3c5d9),getDoc(_0x26ae5e)]);if(!_0x131f0e[_0x45e165(0x78d)]()||!_0x8335fe[_0x45e165(0x78d)]())throw new Error(_0x45e165(0xd7d));currentQuizData=getShuffledQuiz({'id':_0x8335fe['id'],..._0x8335fe[_0x45e165(0x6bc)]()});const _0x280074=_0x131f0e[_0x45e165(0x6bc)]();showTeamPlayerSelection(_0x280074[_0x45e165(0x547)],currentQuizData[_0x45e165(0x3e7)]);}catch(_0x1adc77){console['error'](_0x45e165(0xdf7),_0x1adc77),showMessage(_0x45e165(0x50b)+_0x1adc77[_0x45e165(0xb40)]);}}async function handleJoinGroupActivity(){const _0x5d87f3=_0x4c4cf8,_0x53674a=prompt(_0x5d87f3(0x231));if(!_0x53674a||_0x53674a['trim']()['length']!==0x4){showMessage(_0x5d87f3(0xcb5));return;}const _0x433057=_0x53674a[_0x5d87f3(0x46b)]();showMessage(_0x5d87f3(0x6f9));try{const _0x28f9d6=collection(db,'artifacts/'+appId+_0x5d87f3(0xbaf)),_0x1f20a7=query(_0x28f9d6,where(_0x5d87f3(0xb53),'==',_0x433057),where(_0x5d87f3(0x27d),'==',_0x5d87f3(0xd1e))),_0x52982c=await getDocs(_0x1f20a7);if(!_0x52982c['empty']){console[_0x5d87f3(0xdea)](_0x5d87f3(0xd01)),await proceedWithTeamQuizJoin(_0x52982c[_0x5d87f3(0x9ff)][0x0]);return;}const _0x1be0f5=collection(db,'artifacts/'+appId+_0x5d87f3(0xa4d)),_0x57d86e=query(_0x1be0f5,where('pin','==',_0x433057),where(_0x5d87f3(0x27d),'==',_0x5d87f3(0xd1e))),_0x35eb4c=await getDocs(_0x57d86e);if(!_0x35eb4c['empty']){console[_0x5d87f3(0xdea)]('พบ\x20Sync\x20Game!'),await proceedWithSyncQuizJoin(_0x35eb4c['docs'][0x0]);return;}showMessage('ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว');}catch(_0x5dfffe){console[_0x5d87f3(0x3f6)]('Error\x20joining\x20activity:',_0x5dfffe),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x5dfffe[_0x5d87f3(0xb40)]);}}async function proceedWithTeamQuizJoin(_0x4a0488){const _0x1938a3=_0x4c4cf8;currentTeamQuizId=_0x4a0488['id'];const _0xe991b6=_0x4a0488[_0x1938a3(0x6bc)](),_0x3989c2=doc(db,_0x1938a3(0x4e9)+appId+_0x1938a3(0x9f8),_0xe991b6[_0x1938a3(0x6fe)]),_0x4b954d=doc(db,_0x1938a3(0x4e9)+appId+_0x1938a3(0x2fe),_0xe991b6[_0x1938a3(0x519)]),[_0x207d0f,_0x8b1bfe]=await Promise['all']([getDoc(_0x3989c2),getDoc(_0x4b954d)]);if(!_0x207d0f[_0x1938a3(0x78d)]()||!_0x8b1bfe[_0x1938a3(0x78d)]())throw new Error(_0x1938a3(0xd7d));currentQuizData=getShuffledQuiz({'id':_0x8b1bfe['id'],..._0x8b1bfe[_0x1938a3(0x6bc)]()}),showTeamPlayerSelection(_0x207d0f[_0x1938a3(0x6bc)]()['students'],currentQuizData['topic'],_0xe991b6[_0x1938a3(0x93d)]||'team'),messageModal[_0x1938a3(0x67b)][_0x1938a3(0x602)](_0x1938a3(0x75c));}async function proceedWithSyncQuizJoin(_0x24764a){const _0x7d41d5=_0x4c4cf8;currentLiveGameId=_0x24764a['id'];const _0x362527=_0x24764a[_0x7d41d5(0x6bc)](),_0x1f9f25=doc(db,_0x7d41d5(0x4e9)+appId+_0x7d41d5(0x2fe),_0x362527[_0x7d41d5(0x519)]),_0x381fb5=await getDoc(_0x1f9f25);if(!_0x381fb5[_0x7d41d5(0x78d)]())throw new Error(_0x7d41d5(0x91d));const _0x3c4fff=_0x381fb5[_0x7d41d5(0x6bc)](),_0xda8f44=doc(db,_0x7d41d5(0x4e9)+appId+_0x7d41d5(0x9f8),_0x3c4fff['projectId']),_0x55349c=await getDoc(_0xda8f44);if(!_0x55349c[_0x7d41d5(0x78d)]())throw new Error(_0x7d41d5(0x771));currentQuizData=_0x362527[_0x7d41d5(0xc8d)],showView(_0x7d41d5(0x5dd)),showTeamPlayerSelection(_0x55349c[_0x7d41d5(0x6bc)]()[_0x7d41d5(0x547)],_0x3c4fff['topic'],_0x7d41d5(0x9a3)),document[_0x7d41d5(0x967)](_0x7d41d5(0x2a9))[_0x7d41d5(0x508)]=confirmAndJoinSyncGame,messageModal['classList'][_0x7d41d5(0x602)](_0x7d41d5(0x75c));}function getCleanApplicationHTML(){const _0x43137c=_0x4c4cf8,_0x3925fe=document[_0x43137c(0x967)](_0x43137c(0xcbc));if(!_0x3925fe)return'';const _0x4e7da4=_0x3925fe[_0x43137c(0x812)](!![]);return _0x4e7da4[_0x43137c(0xdd7)](_0x43137c(0x4ea))['forEach'](_0x10fee8=>{const _0x4d8a44=_0x43137c;_0x10fee8[_0x4d8a44(0x67b)][_0x4d8a44(0x7d5)](_0x4d8a44(0x5d9),'incorrect'),_0x10fee8[_0x4d8a44(0x367)]=![];}),_0x4e7da4[_0x43137c(0x66e)];}function showTeamPlayerSelection(_0x2063fb,_0x4137c6,_0x1644b5=_0x4c4cf8(0xd81)){const _0x5aa2fc=_0x4c4cf8;studentInitialView[_0x5aa2fc(0x67b)][_0x5aa2fc(0x602)]('hidden'),studentJoinGameView[_0x5aa2fc(0x67b)]['add'](_0x5aa2fc(0x75c)),document[_0x5aa2fc(0x967)](_0x5aa2fc(0x9ae))[_0x5aa2fc(0x67b)][_0x5aa2fc(0x7d5)]('hidden');let _0x5c156e=_0x5aa2fc(0xb75);if(_0x1644b5===_0x5aa2fc(0xdc0))_0x5c156e=_0x5aa2fc(0x8c0);else _0x1644b5===_0x5aa2fc(0x9a3)&&(_0x5c156e='Sync\x20Mode');document[_0x5aa2fc(0x967)](_0x5aa2fc(0x5e7))[_0x5aa2fc(0xb9a)]=_0x5c156e+':\x20'+_0x4137c6;const _0x2a450c=document['getElementById'](_0x5aa2fc(0x7ba));if(!_0x2063fb||_0x2063fb[_0x5aa2fc(0xbe0)]===0x0){_0x2a450c[_0x5aa2fc(0x66e)]=_0x5aa2fc(0xbb7),document['getElementById'](_0x5aa2fc(0x2a9))['disabled']=!![];return;}_0x2a450c[_0x5aa2fc(0x66e)]=_0x2063fb['map'](_0x1b6eca=>_0x5aa2fc(0x78e)+_0x1b6eca+_0x5aa2fc(0x2b4)+_0x1b6eca+_0x5aa2fc(0xc3f))[_0x5aa2fc(0xbe3)](''),document[_0x5aa2fc(0x967)](_0x5aa2fc(0x2a9))[_0x5aa2fc(0x367)]=![];}async function confirmAndStartTeamQuiz(){const _0x1f64f7=_0x4c4cf8,_0x3ef0e7=Array[_0x1f64f7(0xa4f)](document['querySelectorAll'](_0x1f64f7(0x236)))[_0x1f64f7(0x928)](_0x42db44=>_0x42db44[_0x1f64f7(0x734)]);if(_0x3ef0e7[_0x1f64f7(0xbe0)]===0x0){showMessage(_0x1f64f7(0xb3c));return;}localTeamPlayers=_0x3ef0e7,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x314afe=doc(db,'artifacts/'+appId+_0x1f64f7(0xbaf),currentTeamQuizId);try{const _0x81302d=await getDoc(_0x314afe);if(!_0x81302d['exists']())throw new Error(_0x1f64f7(0x2be));const _0x2f4c62=_0x81302d['data']();if(_0x2f4c62[_0x1f64f7(0x93d)]===_0x1f64f7(0xdc0)){const _0x5dbc74={['groups.'+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x314afe,_0x5dbc74);}else{const _0x536917=_0x2f4c62[_0x1f64f7(0x640)]||{};localTeamPlayers['forEach'](_0x3e8b17=>{!_0x536917[_0x3e8b17]&&(_0x536917[_0x3e8b17]={'score':0x0,'answers':[]});}),await updateDoc(_0x314afe,{'responses':_0x536917});}document[_0x1f64f7(0x967)](_0x1f64f7(0x9ae))[_0x1f64f7(0x67b)][_0x1f64f7(0x602)](_0x1f64f7(0x75c)),renderTeamQuizQuestion();const _0x56cf5b={'gameId':currentTeamQuizId,'mode':_0x2f4c62['mode']||_0x1f64f7(0xd81),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x1f64f7(0x9be)](_0x1f64f7(0x499),JSON[_0x1f64f7(0xa88)](_0x56cf5b)),listenForTeamQuizUpdates();}catch(_0x2d50f4){console[_0x1f64f7(0x3f6)]('Error\x20confirming\x20players:',_0x2d50f4),showMessage(_0x1f64f7(0xcc9));}}async function renderTeamQuizQuestion(){const _0x2f663f=_0x4c4cf8;if(localQuestionIndex>=currentQuizData['questions']['length']){displayTeamQuizFinalResults();return;}const _0x265a35=currentQuizData[_0x2f663f(0x271)][localQuestionIndex],_0x590500=localTeamPlayers[localPlayerIndex],_0x43f0d3=_0x265a35[_0x2f663f(0x252)]||currentQuizData['quizType'];let _0x468d4d=_0x265a35['stem']||_0x265a35[_0x2f663f(0xa42)],_0x45b4f0='';switch(_0x43f0d3){case _0x2f663f(0x474):case _0x2f663f(0x922):_0x45b4f0=_0x265a35[_0x2f663f(0x2e6)][_0x2f663f(0x928)]((_0x408703,_0x279ad2)=>_0x2f663f(0x392)+_0x279ad2+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x279ad2+_0x2f663f(0xafd)+_0x279ad2+'\x22>'+_0x408703+_0x2f663f(0x387))['join']('');break;case _0x2f663f(0x34e):_0x45b4f0=_0x2f663f(0x4d9);break;case'short_answer':case _0x2f663f(0x5b4):_0x45b4f0='<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>';break;case'matching_item':_0x45b4f0='<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>'+_0x265a35[_0x2f663f(0x541)][_0x2f663f(0x928)](_0x2a7e98=>_0x2f663f(0x63b)+_0x2a7e98+'\x22>'+_0x2a7e98+'</option>')[_0x2f663f(0xbe3)]('')+_0x2f663f(0xc53);break;default:_0x45b4f0=_0x2f663f(0x270);break;}studentQuizArea['innerHTML']=_0x2f663f(0x2d3)+(localQuestionIndex+0x1)+_0x2f663f(0xb12)+currentQuizData[_0x2f663f(0x271)][_0x2f663f(0xbe0)]+_0x2f663f(0xcde)+_0x590500+_0x2f663f(0x7c6)+(localQuestionIndex+0x1)+'.\x20'+_0x468d4d+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x265a35['imageCode']?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x265a35['imageCode']+'</div>':'')+_0x2f663f(0x842)+_0x45b4f0+_0x2f663f(0xdb8),studentQuizArea[_0x2f663f(0x67b)]['remove'](_0x2f663f(0x75c));if(window['MathJax'])MathJax[_0x2f663f(0x634)]([studentQuizArea]);document[_0x2f663f(0x967)](_0x2f663f(0x1ea))[_0x2f663f(0x28f)](_0x2f663f(0x526),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x25b1d5=_0x4c4cf8,_0x1ebe3e=currentQuizData[_0x25b1d5(0x271)][localQuestionIndex],_0x177b25=_0x1ebe3e[_0x25b1d5(0x252)]||currentQuizData['quizType'];let _0x34bc81=null,_0x3d63f2=![];if(_0x177b25===_0x25b1d5(0xa9d)||_0x177b25==='fill_in_no_choices'){const _0xbe86e9=document[_0x25b1d5(0x5c7)](_0x25b1d5(0xc4f));if(!_0xbe86e9||!_0xbe86e9[_0x25b1d5(0x734)][_0x25b1d5(0x46b)]()){showMessage(_0x25b1d5(0x5b7));return;}_0x34bc81=_0xbe86e9['value'][_0x25b1d5(0x46b)](),_0x3d63f2=await gradeShortAnswer(_0x34bc81,_0x1ebe3e);}else{const _0x3ef671=document[_0x25b1d5(0x5c7)](_0x25b1d5(0x5ff));if(!_0x3ef671||_0x3ef671[_0x25b1d5(0x734)]===''){showMessage(_0x25b1d5(0x97c));return;}_0x34bc81=_0x3ef671[_0x25b1d5(0x734)];switch(_0x177b25){case _0x25b1d5(0x34e):_0x3d63f2=_0x34bc81===_0x25b1d5(0x75e)===_0x1ebe3e['correctAnswer'];break;case _0x25b1d5(0xa02):_0x3d63f2=_0x34bc81===_0x1ebe3e['correctResponse'];break;default:_0x3d63f2=parseInt(_0x34bc81)===_0x1ebe3e[_0x25b1d5(0x4e7)];break;}}const _0x42807b={'questionIndex':localQuestionIndex,'isCorrect':_0x3d63f2},_0x396f67=userId,_0x4c26a2={['groups.'+_0x396f67+_0x25b1d5(0x41c)]:arrayUnion(_0x42807b)};_0x3d63f2&&(_0x4c26a2[_0x25b1d5(0x41a)+_0x396f67+_0x25b1d5(0x71f)]=increment(0x1));try{await updateDoc(doc(db,'artifacts/'+appId+_0x25b1d5(0xbaf),currentTeamQuizId),_0x4c26a2),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x25b1d5(0x271)]['length']?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x3b1309){console[_0x25b1d5(0x3f6)](_0x25b1d5(0x3a3),_0x3b1309),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function handleTeamAnswerSubmit(){const _0x4f405b=_0x4c4cf8,_0xe25f17=await getDoc(doc(db,'artifacts/'+appId+_0x4f405b(0xbaf),currentTeamQuizId));if(!_0xe25f17[_0x4f405b(0x78d)]())return;const _0xeb318=_0xe25f17[_0x4f405b(0x6bc)]();if(_0xeb318[_0x4f405b(0x93d)]===_0x4f405b(0xdc0)){handleGroupAnswerSubmit();return;}const _0x48ccdc=localTeamPlayers[localPlayerIndex],_0x16d873=currentQuizData[_0x4f405b(0x271)][localQuestionIndex],_0xfc5497=_0x16d873[_0x4f405b(0x252)]||currentQuizData[_0x4f405b(0xa28)];let _0x813e5f=null,_0x180dfc=![];if(_0xfc5497===_0x4f405b(0xa9d)||_0xfc5497==='fill_in_no_choices'){const _0x16206b=document[_0x4f405b(0x5c7)](_0x4f405b(0xc4f));if(!_0x16206b||!_0x16206b['value']['trim']()){showMessage(_0x4f405b(0xca7));return;}_0x813e5f=_0x16206b[_0x4f405b(0x734)]['trim'](),_0x180dfc=await gradeShortAnswer(_0x813e5f,_0x16d873);}else{const _0x2d3f9b=document[_0x4f405b(0x5c7)]('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x2d3f9b||_0x2d3f9b[_0x4f405b(0x734)]===''){showMessage('กรุณาเลือกคำตอบ');return;}_0x813e5f=_0x2d3f9b[_0x4f405b(0x734)];switch(_0xfc5497){case'true_false':_0x180dfc=_0x813e5f==='true'===_0x16d873[_0x4f405b(0x60b)];break;case _0x4f405b(0xa02):_0x180dfc=_0x813e5f===_0x16d873[_0x4f405b(0x99f)];break;default:_0x180dfc=parseInt(_0x813e5f)===_0x16d873[_0x4f405b(0x4e7)];break;}}const _0x1dbbdc={'questionIndex':localQuestionIndex,'isCorrect':_0x180dfc,'answerValue':_0x813e5f},_0x46cf46={[_0x4f405b(0x4fa)+_0x48ccdc+'.answers']:arrayUnion(_0x1dbbdc)};_0x180dfc&&(_0x46cf46[_0x4f405b(0x4fa)+_0x48ccdc+_0x4f405b(0x71f)]=increment(0x1));try{await updateDoc(doc(db,_0x4f405b(0x4e9)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x46cf46),localPlayerIndex++,localPlayerIndex>=localTeamPlayers['length']&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x11e3e8){console[_0x4f405b(0x3f6)]('Error\x20submitting\x20team\x20answer:',_0x11e3e8),showMessage(_0x4f405b(0x3f1));}}async function displayTeamQuizFinalResults(){const _0x289656=_0x4c4cf8;studentQuizArea['classList'][_0x289656(0x602)](_0x289656(0x75c)),studentResultArea[_0x289656(0x67b)][_0x289656(0x7d5)](_0x289656(0x75c));const _0xeedb3=doc(db,_0x289656(0x4e9)+appId+_0x289656(0xbaf),currentTeamQuizId),_0x15ec4f=await getDoc(_0xeedb3);if(!_0x15ec4f['exists']()){studentResultArea[_0x289656(0x66e)]=_0x289656(0xbc4);return;}const _0x2b32c7=_0x15ec4f[_0x289656(0x6bc)]();let _0x246720=[];const _0x4e2248=_0x2b32c7[_0x289656(0x93d)]||_0x289656(0xd81);if(_0x4e2248===_0x289656(0xdc0)){const _0x4f0f16=_0x2b32c7[_0x289656(0xc96)][userId];_0x4f0f16?_0x246720=[{'name':_0x289656(0x368)+localTeamPlayers[_0x289656(0xbe3)](',\x20'),'score':_0x4f0f16[_0x289656(0x53c)]||0x0}]:_0x246720=[{'name':_0x289656(0xcb8),'score':_0x289656(0x9bd)}];}else _0x246720=localTeamPlayers[_0x289656(0x928)](_0x17c2b0=>({'name':_0x17c2b0,'score':_0x2b32c7[_0x289656(0x640)][_0x17c2b0]?.[_0x289656(0x53c)]||0x0}))[_0x289656(0x8a7)]((_0x5631fa,_0x2a2cce)=>_0x2a2cce[_0x289656(0x53c)]-_0x5631fa[_0x289656(0x53c)]);studentResultArea[_0x289656(0x66e)]=_0x289656(0xca8)+_0x246720['map'](_0x2a3186=>_0x289656(0xcfa)+_0x2a3186[_0x289656(0x7e7)]+_0x289656(0xbe1)+_0x2a3186[_0x289656(0x53c)]+_0x289656(0x25b))[_0x289656(0xbe3)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage[_0x289656(0x794)](_0x289656(0x499)),currentMode==='admin'&&currentTeamQuizId&&setTimeout(()=>{const _0x4472ed=_0x289656;deleteDoc(doc(db,_0x4472ed(0x4e9)+appId+_0x4472ed(0xbaf),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x4c4cf8(0xbd2),'pinnedProjects':[],'projectView':_0x4c4cf8(0x39c)};const allMathTopics=[{'category':_0x4c4cf8(0x72b),'name':_0x4c4cf8(0x920)},{'category':'จำนวนและการดำเนินการ','name':_0x4c4cf8(0xdcd)},{'category':'จำนวนและการดำเนินการ','name':_0x4c4cf8(0xd20)},{'category':_0x4c4cf8(0x72b),'name':'ลำดับการดำเนินการ\x20(PEMDAS)'},{'category':_0x4c4cf8(0x72b),'name':_0x4c4cf8(0xc05)},{'category':'จำนวนและการดำเนินการ','name':'การลบ'},{'category':_0x4c4cf8(0x72b),'name':_0x4c4cf8(0xa16)},{'category':_0x4c4cf8(0x72b),'name':_0x4c4cf8(0x980)},{'category':'จำนวนและการดำเนินการ','name':_0x4c4cf8(0x909)},{'category':_0x4c4cf8(0x72b),'name':_0x4c4cf8(0x754)},{'category':_0x4c4cf8(0x72b),'name':'ศูนย์'},{'category':_0x4c4cf8(0x72b),'name':'ค่าสัมบูรณ์'},{'category':_0x4c4cf8(0x72b),'name':'เส้นจำนวน'},{'category':'จำนวนและการดำเนินการ','name':_0x4c4cf8(0xb26)},{'category':'จำนวนและการดำเนินการ','name':_0x4c4cf8(0x37e)},{'category':_0x4c4cf8(0x72b),'name':'ค.ร.น.\x20(LCM)'},{'category':_0x4c4cf8(0x72b),'name':_0x4c4cf8(0x2c2)},{'category':_0x4c4cf8(0x72b),'name':_0x4c4cf8(0x274)},{'category':_0x4c4cf8(0x72b),'name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':'จำนวนและการดำเนินการ','name':'การบวกเศษส่วน'},{'category':_0x4c4cf8(0x72b),'name':_0x4c4cf8(0x7eb)},{'category':_0x4c4cf8(0x72b),'name':_0x4c4cf8(0x623)},{'category':_0x4c4cf8(0x72b),'name':_0x4c4cf8(0x8b9)},{'category':_0x4c4cf8(0x72b),'name':_0x4c4cf8(0xc6e)},{'category':_0x4c4cf8(0x72b),'name':_0x4c4cf8(0xc1f)},{'category':_0x4c4cf8(0x72b),'name':'การบวกทศนิยม'},{'category':_0x4c4cf8(0x72b),'name':_0x4c4cf8(0x36e)},{'category':_0x4c4cf8(0x72b),'name':'การคูณทศนิยม'},{'category':_0x4c4cf8(0x72b),'name':_0x4c4cf8(0xc22)},{'category':_0x4c4cf8(0x72b),'name':_0x4c4cf8(0x7dd)},{'category':_0x4c4cf8(0x72b),'name':_0x4c4cf8(0xa44)},{'category':'จำนวนและการดำเนินการ','name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':_0x4c4cf8(0x72b),'name':_0x4c4cf8(0x317)},{'category':'จำนวนและการดำเนินการ','name':_0x4c4cf8(0x8f8)},{'category':'จำนวนและการดำเนินการ','name':_0x4c4cf8(0xa09)},{'category':'จำนวนและการดำเนินการ','name':'รูปสแควร์รูท\x20(surd)'},{'category':_0x4c4cf8(0x72b),'name':_0x4c4cf8(0x9e8)},{'category':'การวัด','name':'หน่วยความยาวและการแปลง'},{'category':'การวัด','name':_0x4c4cf8(0x743)},{'category':'การวัด','name':_0x4c4cf8(0xccd)},{'category':_0x4c4cf8(0x6f2),'name':_0x4c4cf8(0x68e)},{'category':_0x4c4cf8(0x6f2),'name':'อุณหภูมิและการแปลง'},{'category':_0x4c4cf8(0x6f2),'name':_0x4c4cf8(0xca5)},{'category':'การวัด','name':'พื้นที่สี่เหลี่ยม'},{'category':'การวัด','name':_0x4c4cf8(0xb11)},{'category':_0x4c4cf8(0x6f2),'name':_0x4c4cf8(0x8bb)},{'category':_0x4c4cf8(0x6f2),'name':_0x4c4cf8(0x6ae)},{'category':_0x4c4cf8(0x6f2),'name':'ปริมาตรรูปทรงสามมิติ'},{'category':'การวัด','name':'มุมและการวัดมุม'},{'category':_0x4c4cf8(0x6f2),'name':_0x4c4cf8(0x5df)},{'category':_0x4c4cf8(0x6f2),'name':'ค่าคลาดเคลื่อนของการวัด'},{'category':_0x4c4cf8(0xaef),'name':_0x4c4cf8(0xd3c)},{'category':_0x4c4cf8(0xaef),'name':_0x4c4cf8(0x7df)},{'category':_0x4c4cf8(0xaef),'name':_0x4c4cf8(0x925)},{'category':'เรขาคณิต','name':_0x4c4cf8(0xb11)},{'category':'เรขาคณิต','name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':_0x4c4cf8(0xaef),'name':_0x4c4cf8(0x462)},{'category':'เรขาคณิต','name':_0x4c4cf8(0xada)},{'category':_0x4c4cf8(0xaef),'name':'รูปหลายเหลี่ยมและมุมภายใน'},{'category':_0x4c4cf8(0xaef),'name':_0x4c4cf8(0xd10)},{'category':_0x4c4cf8(0xaef),'name':'วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม'},{'category':_0x4c4cf8(0xaef),'name':_0x4c4cf8(0x7cf)},{'category':_0x4c4cf8(0xaef),'name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':'เรขาคณิต','name':_0x4c4cf8(0x81f)},{'category':_0x4c4cf8(0xaef),'name':_0x4c4cf8(0xcd1)},{'category':'เรขาคณิต','name':_0x4c4cf8(0x228)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4c4cf8(0xd87)},{'category':_0x4c4cf8(0x357),'name':_0x4c4cf8(0xc27)},{'category':_0x4c4cf8(0x357),'name':_0x4c4cf8(0x244)},{'category':_0x4c4cf8(0x357),'name':'การแยกตัวประกอบ'},{'category':_0x4c4cf8(0x357),'name':_0x4c4cf8(0xa48)},{'category':_0x4c4cf8(0x357),'name':_0x4c4cf8(0x4f5)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4c4cf8(0x360)},{'category':_0x4c4cf8(0x357),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':_0x4c4cf8(0x357),'name':_0x4c4cf8(0x3d3)},{'category':_0x4c4cf8(0x357),'name':'สมการเหตุผล\x20(rational)'},{'category':_0x4c4cf8(0x357),'name':_0x4c4cf8(0xcb2)},{'category':_0x4c4cf8(0x357),'name':'สมการยกกำลัง'},{'category':_0x4c4cf8(0x357),'name':_0x4c4cf8(0x302)},{'category':'พีชคณิตและฟังก์ชัน','name':'อสมการเชิงเส้น'},{'category':_0x4c4cf8(0x357),'name':_0x4c4cf8(0x800)},{'category':_0x4c4cf8(0x357),'name':_0x4c4cf8(0x4ae)},{'category':_0x4c4cf8(0x357),'name':_0x4c4cf8(0x9a2)},{'category':'พีชคณิตและฟังก์ชัน','name':'โดเมนและเรนจ์'},{'category':_0x4c4cf8(0x357),'name':_0x4c4cf8(0xbae)},{'category':_0x4c4cf8(0x357),'name':'ฟังก์ชันผกผัน'},{'category':'พีชคณิตและฟังก์ชัน','name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':_0x4c4cf8(0x357),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0x4c4cf8(0x357),'name':_0x4c4cf8(0xc4e)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4c4cf8(0xc28)},{'category':_0x4c4cf8(0x357),'name':_0x4c4cf8(0x29a)},{'category':_0x4c4cf8(0x357),'name':_0x4c4cf8(0xae1)},{'category':_0x4c4cf8(0x357),'name':'ฟังก์ชันค่าสัมบูรณ์'},{'category':_0x4c4cf8(0x357),'name':_0x4c4cf8(0x3e8)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันยกกำลัง'},{'category':_0x4c4cf8(0x357),'name':_0x4c4cf8(0x9d5)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4c4cf8(0x232)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4c4cf8(0x9ec)},{'category':_0x4c4cf8(0x357),'name':_0x4c4cf8(0x6fa)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x4c4cf8(0x710)},{'category':_0x4c4cf8(0x357),'name':_0x4c4cf8(0x78c)},{'category':'เรขาคณิตวิเคราะห์','name':_0x4c4cf8(0x200)},{'category':'เรขาคณิตวิเคราะห์','name':_0x4c4cf8(0xbdd)},{'category':_0x4c4cf8(0x9e9),'name':_0x4c4cf8(0x6d9)},{'category':_0x4c4cf8(0x9e9),'name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':_0x4c4cf8(0x9e9),'name':_0x4c4cf8(0x6c6)},{'category':_0x4c4cf8(0x9e9),'name':_0x4c4cf8(0x7d6)},{'category':_0x4c4cf8(0x9e9),'name':_0x4c4cf8(0x5ef)},{'category':_0x4c4cf8(0x9e9),'name':_0x4c4cf8(0xb5e)},{'category':_0x4c4cf8(0x9e9),'name':_0x4c4cf8(0x3f0)},{'category':_0x4c4cf8(0x3e2),'name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':_0x4c4cf8(0x3e2),'name':'มุมพิเศษ\x2030°-60°-90°'},{'category':_0x4c4cf8(0x3e2),'name':_0x4c4cf8(0x3a6)},{'category':_0x4c4cf8(0x3e2),'name':'เรเดียนและการแปลงหน่วย'},{'category':'ตรีโกณมิติ','name':_0x4c4cf8(0x1ec)},{'category':_0x4c4cf8(0x3e2),'name':_0x4c4cf8(0xa70)},{'category':'ตรีโกณมิติ','name':_0x4c4cf8(0x722)},{'category':_0x4c4cf8(0x3e2),'name':_0x4c4cf8(0x22b)},{'category':_0x4c4cf8(0x3e2),'name':_0x4c4cf8(0xcd9)},{'category':'ตรีโกณมิติ','name':_0x4c4cf8(0xde3)},{'category':_0x4c4cf8(0x3e2),'name':_0x4c4cf8(0xd3f)},{'category':'สถิติและความน่าจะเป็น','name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':_0x4c4cf8(0xb95),'name':_0x4c4cf8(0x388)},{'category':'สถิติและความน่าจะเป็น','name':_0x4c4cf8(0xaf4)},{'category':_0x4c4cf8(0xb95),'name':'กราฟแท่ง\x20กราฟเส้น'},{'category':_0x4c4cf8(0xb95),'name':_0x4c4cf8(0x648)},{'category':_0x4c4cf8(0xb95),'name':_0x4c4cf8(0x7b3)},{'category':_0x4c4cf8(0xb95),'name':_0x4c4cf8(0x487)},{'category':_0x4c4cf8(0xb95),'name':_0x4c4cf8(0x371)},{'category':_0x4c4cf8(0xb95),'name':_0x4c4cf8(0x9af)},{'category':_0x4c4cf8(0xb95),'name':'พิสัย'},{'category':_0x4c4cf8(0xb95),'name':_0x4c4cf8(0x647)},{'category':'สถิติและความน่าจะเป็น','name':'ความแปรปรวน'},{'category':_0x4c4cf8(0xb95),'name':'ส่วนเบี่ยงเบนมาตรฐาน'},{'category':_0x4c4cf8(0xb95),'name':'การแจกแจงปกติและ\x20z-score'},{'category':_0x4c4cf8(0xb95),'name':_0x4c4cf8(0x860)},{'category':'สถิติและความน่าจะเป็น','name':_0x4c4cf8(0xda7)},{'category':'สถิติและความน่าจะเป็น','name':'กฎบวกและกฎคูณ'},{'category':_0x4c4cf8(0xb95),'name':_0x4c4cf8(0xc43)},{'category':_0x4c4cf8(0xb95),'name':'ความน่าจะเป็นแบบมีเงื่อนไข'},{'category':_0x4c4cf8(0xb95),'name':_0x4c4cf8(0x2b5)},{'category':_0x4c4cf8(0xb95),'name':_0x4c4cf8(0x218)},{'category':_0x4c4cf8(0xb95),'name':_0x4c4cf8(0x438)},{'category':_0x4c4cf8(0xb95),'name':_0x4c4cf8(0x573)},{'category':_0x4c4cf8(0xb95),'name':_0x4c4cf8(0xc58)},{'category':'แคลคูลัสเบื้องต้น','name':_0x4c4cf8(0x863)},{'category':'แคลคูลัสเบื้องต้น','name':'ความต่อเนื่อง'},{'category':_0x4c4cf8(0xd4a),'name':_0x4c4cf8(0xd24)},{'category':_0x4c4cf8(0xd4a),'name':'อนุพันธ์:\x20กฎลูกโซ่'},{'category':_0x4c4cf8(0xd4a),'name':_0x4c4cf8(0xb09)},{'category':'แคลคูลัสเบื้องต้น','name':_0x4c4cf8(0xadc)},{'category':'แคลคูลัสเบื้องต้น','name':_0x4c4cf8(0x2ed)},{'category':'แคลคูลัสเบื้องต้น','name':_0x4c4cf8(0xc24)},{'category':_0x4c4cf8(0xd4a),'name':_0x4c4cf8(0xa0d)},{'category':'แคลคูลัสเบื้องต้น','name':_0x4c4cf8(0x562)},{'category':_0x4c4cf8(0xd4a),'name':_0x4c4cf8(0x836)},{'category':_0x4c4cf8(0xd4a),'name':_0x4c4cf8(0xdc5)},{'category':_0x4c4cf8(0xd4a),'name':_0x4c4cf8(0x8d2)},{'category':_0x4c4cf8(0x707),'name':_0x4c4cf8(0xd74)},{'category':_0x4c4cf8(0x707),'name':'ดอทโปรดักต์\x20(dot)'},{'category':_0x4c4cf8(0x707),'name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':_0x4c4cf8(0x707),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x4c4cf8(0x707),'name':_0x4c4cf8(0x8a6)},{'category':_0x4c4cf8(0x707),'name':'ดีเทอร์มิแนนต์'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':'แก้ระบบสมการด้วยเมทริกซ์'},{'category':_0x4c4cf8(0x1f6),'name':_0x4c4cf8(0x6e5)},{'category':_0x4c4cf8(0x1f6),'name':_0x4c4cf8(0xc30)},{'category':_0x4c4cf8(0x1f6),'name':_0x4c4cf8(0xbda)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x4c4cf8(0x5e3)},{'category':_0x4c4cf8(0x1f6),'name':'ร้อยละประยุกต์'},{'category':_0x4c4cf8(0x9e1),'name':_0x4c4cf8(0xd2e)},{'category':_0x4c4cf8(0x9e1),'name':_0x4c4cf8(0x8a3)},{'category':_0x4c4cf8(0x9e1),'name':_0x4c4cf8(0x207)}];function renderTopicCheckboxes(){const _0x1dd5f6=_0x4c4cf8,_0xa67eb9=document['getElementById'](_0x1dd5f6(0x782));if(!_0xa67eb9)return;const _0x161acf=allMathTopics,_0x88f15d=customMathTopics[_0x1dd5f6(0x928)](_0x33dc1b=>({'id':_0x33dc1b['id'],'category':_0x1dd5f6(0x44b),'name':_0x33dc1b[_0x1dd5f6(0x7e7)]})),_0x4df441=[..._0x161acf,..._0x88f15d],_0x2117ec=_0x4df441[_0x1dd5f6(0x2c1)]((_0x5800b7,_0x13146b)=>{const _0x4e1752=_0x1dd5f6;return!_0x5800b7[_0x13146b[_0x4e1752(0x908)]]&&(_0x5800b7[_0x13146b['category']]=[]),_0x5800b7[_0x13146b['category']][_0x4e1752(0xb0e)](_0x13146b),_0x5800b7;},{});let _0x49c68b='';const _0x1d5778=[_0x1dd5f6(0x44b),...Object[_0x1dd5f6(0xadf)](_0x2117ec)[_0x1dd5f6(0x3d0)](_0x8f0482=>_0x8f0482!==_0x1dd5f6(0x44b))];for(const _0x5657eb of _0x1d5778){if(_0x2117ec[_0x5657eb]){const _0x4b713c=_0x5657eb===_0x1dd5f6(0x44b),_0x5c7700=_0x4b713c?_0x1dd5f6(0x9a7):'fas\x20fa-bookmark',_0x2e06e8=_0x4b713c?_0x1dd5f6(0x669):_0x1dd5f6(0x8d7);_0x49c68b+=_0x1dd5f6(0xace),_0x49c68b+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x2e06e8+_0x1dd5f6(0x4b4)+_0x5c7700+_0x1dd5f6(0xdeb)+_0x5657eb+_0x1dd5f6(0x2b7),_0x2117ec[_0x5657eb][_0x1dd5f6(0xa3f)](_0x422447=>{const _0x471a2b=_0x1dd5f6,_0x26768b=!!_0x422447['id'],_0x275857=_0x26768b?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x422447['id']+_0x471a2b(0xd4f)+_0x422447['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x422447['id']+_0x471a2b(0x2fd)+_0x422447['id']+_0x471a2b(0x334):'';_0x49c68b+=_0x471a2b(0x952)+(_0x422447['id']||'')+_0x471a2b(0x933)+_0x422447[_0x471a2b(0x7e7)]+_0x471a2b(0x243)+_0x422447[_0x471a2b(0x7e7)]+_0x471a2b(0x559)+(_0x26768b?_0x471a2b(0x3ce)+_0x422447[_0x471a2b(0x7e7)]+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x275857+_0x471a2b(0x4b5);}),_0x49c68b+='</div>';}}_0xa67eb9['innerHTML']=_0x49c68b||_0x1dd5f6(0x3df),_0xa67eb9[_0x1dd5f6(0x965)](_0x1dd5f6(0xd53),updateSelectedTopicsCount),_0xa67eb9[_0x1dd5f6(0x28f)](_0x1dd5f6(0xd53),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x5ad3c3,_0x28974c){const _0x4dfe01=_0x4c4cf8;if(!_0x5ad3c3||!_0x28974c['trim']()){showMessage(_0x4dfe01(0x5f9));return;}try{const _0x2a829d=doc(db,_0x4dfe01(0x4e9)+appId+_0x4dfe01(0x748),_0x5ad3c3);await updateDoc(_0x2a829d,{'name':_0x28974c[_0x4dfe01(0x46b)]()}),showMessage(_0x4dfe01(0x259));}catch(_0x307006){console['error']('Error\x20updating\x20custom\x20topic:',_0x307006),showMessage(_0x4dfe01(0x90d));}}function toggleTopicEditMode(_0x1a895c,_0xe292d2){const _0x5a119a=_0x4c4cf8;if(!_0x1a895c)return;const _0x365448=_0x1a895c['querySelector'](_0x5a119a(0x3ff)),_0x3d8e1c=_0x1a895c[_0x5a119a(0x5c7)](_0x5a119a(0x5fa)),_0x4e2afa=_0x1a895c[_0x5a119a(0x5c7)]('.topic-actions-view'),_0x42b5ee=_0x1a895c[_0x5a119a(0x5c7)]('.topic-actions-edit');_0x365448['classList'][_0x5a119a(0x992)]('hidden',_0xe292d2),_0x3d8e1c[_0x5a119a(0x67b)][_0x5a119a(0x992)](_0x5a119a(0x75c),!_0xe292d2),_0x4e2afa[_0x5a119a(0x67b)][_0x5a119a(0x992)]('hidden',_0xe292d2),_0x42b5ee[_0x5a119a(0x67b)][_0x5a119a(0x992)]('hidden',!_0xe292d2),_0xe292d2&&(_0x3d8e1c['focus'](),_0x3d8e1c[_0x5a119a(0xb2b)]());}async function handleStartLiveRace(_0x5761d5){const _0x17da6c=_0x4c4cf8;let _0x4a2ed6=allQuizzes[_0x17da6c(0x4c4)](_0x14edc9=>_0x14edc9['id']===_0x5761d5);if(!_0x4a2ed6){const _0x5c7969=doc(db,_0x17da6c(0x4e9)+appId+_0x17da6c(0x2fe),_0x5761d5),_0xc57d99=await getDoc(_0x5c7969);if(!_0xc57d99[_0x17da6c(0x78d)]()){showMessage(_0x17da6c(0x91d));return;}_0x4a2ed6={'id':_0xc57d99['id'],..._0xc57d99[_0x17da6c(0x6bc)]()};}const _0x1b0e60=getShuffledQuiz(_0x4a2ed6);currentQuizData=_0x1b0e60;const _0x2f6f5f=_0x4a2ed6['projectId']||currentProjectId||null,_0x58aa87=Math[_0x17da6c(0xd2a)](0x3e8+Math[_0x17da6c(0xb9d)]()*0x2328)[_0x17da6c(0x2f2)]();currentLiveGamePin=_0x58aa87;try{const _0x5b269d=await addDoc(collection(db,_0x17da6c(0x4e9)+appId+'/public/data/liveGames'),{'quizId':_0x5761d5,'projectId':_0x2f6f5f,'status':_0x17da6c(0xd1e),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x58aa87,'createdAt':serverTimestamp(),'shuffledQuiz':_0x1b0e60});currentLiveGameId=_0x5b269d['id'],showAdminLobbyView(_0x58aa87,_0x4a2ed6[_0x17da6c(0x3e7)]),listenForLiveGameUpdates();}catch(_0x57eb52){console[_0x17da6c(0x3f6)]('Error\x20starting\x20live\x20race:',_0x57eb52),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}function updateSelectedTopicsCount(){const _0x176cac=_0x4c4cf8,_0x4d31fe=document[_0x176cac(0x967)]('math-topics-checkbox-container'),_0x53055a=_0x4d31fe[_0x176cac(0xdd7)](_0x176cac(0xa31))[_0x176cac(0xbe0)],_0x4bad58=document[_0x176cac(0x967)](_0x176cac(0x7b7));_0x53055a>0x0?_0x4bad58[_0x176cac(0xb9a)]=_0x176cac(0xae9)+_0x53055a+_0x176cac(0x330):_0x4bad58[_0x176cac(0xb9a)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x4c4cf8(0xbbe),quizLeaderboardSortOrder=_0x4c4cf8(0xc74),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;function _0xdc5a(){const _0x48c132=['learningGaps','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','currentTarget','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','attempts','multiply','ถูก','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','button','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','helvetica','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','members','quiz-leaderboard-table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','แก้ไขปุ่มลัดจากไฟล์','list','<button\x20data-value=\x22','bg-yellow-200','.generate-post-test-btn','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','now','สร้างแบบทดสอบปรนัย','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','fullscreenchange','flex\x20flex-col\x20gap-2','Error\x20saving\x20submission:','team','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามแบบใช่/ไม่ใช่','line-through\x20text-red-700','loopUntilPass','21lgwZBd','ตัวแปรและนิพจน์','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','localeCompare','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','additional-shortcuts-list','เปิด\x20(จับเวลา)','.pen-color-btn','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','referenceFileUrl','toLocaleDateString','<div><input\x20type=\x22radio\x22\x20id=\x22q','[data-topic-container-id]','sync-player-list','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cpm','ครัวซองต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','สาระที่\x201','scores-tab-btn','text-gray-500','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','.edit-file-shortcut-btn','playerName','กำลังดึงไฟล์อ้างอิงจากลิงก์...','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','start-game-btn','บักแตงโม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','both','verify-answers-editor-btn','/public/data/blueprintProjects','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','quiz-results','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','justification','Authentication\x20failed:','_opt','border-red-700','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','totalQuestions','Error\x20saving\x20lesson\x20to\x20project:','cancel-shortcut-edit-btn','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','input[type=\x22radio\x22][value=\x22','bg-red-100','สรุปผลสุดท้าย','ผ่าน','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','.status','group','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','currentQuestionIndex','\x22><span>','ทฤษฎีบทพื้นฐานของแคลคูลัส','editor-quiz-topic','commit','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','cancel-manual-bp-btn','source-over','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','project-detail-view','ระบบเลขและค่าประจำหลัก','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','teacherSuggestions','q-explanation-','scrollHeight','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','move-quiz-project-select','text-indigo-800','querySelectorAll','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','mandatory','ยกเลิกการจับคู่สำเร็จ','QUICK_THINKER','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answeredCurrentQuestion','.png','goto-next-question-btn','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','delete','manage-players-btn','กราฟฟังก์ชันตรีโกณ','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.cancel-edit-topic-btn','add-parallel-shortcut-tab-btn','นักวิทยาศาสตร์','slide-counter','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','log','\x20mr-2\x22></i>','<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','player-count','<option\x20value=\x22\x22>กำลังโหลด...</option>','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','neq','#DBEAFE','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','ตรวจทานเฉลยเสร็จสิ้น!','deselect-all-topics-btn','pen','Error\x20joining\x20team\x20quiz:','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','.pointsLastQuestion','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','parallel-shortcut-modal-title','Error\x20processing\x20file\x20for\x20AI:','.isScored','show_pass_fail_only','คนดีศรีสยาม','grabbing','bp-quiz-settings-btn','No\x20player\x20data\x20to\x20save.','Error\x20saving\x20quiz:','student-result-area','เลือกและบันทึก','.duplicate-quiz-btn','export-image-btn','.edit-quiz-btn','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','submit-team-answer-btn','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','กฎของไซน์','end-team-quiz-btn','Unexpected\x20API\x20response\x20structure:','ควรปรับปรุง','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','Error\x20updating\x20project\x20color:','#student-quiz-leaderboard-content\x20thead','save-quiz-edits-btn','Error\x20processing\x20file\x20shortcut\x20click:','ท้องฟ้า','คณิตการเงิน/บูรณาการ','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','redo-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','ตะวันฉาย','Error\x20regenerating\x20question\x20in\x20editor:','parentElement','studentName','applicationHTML','translate(','ระยะทางและจุดกึ่งกลาง','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','globalAlpha','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','.unpair-quiz-btn','padStart','10018070PYArYD','text-green-600\x20font-bold','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','auto','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/practiceBank','cancel-parallel-shortcut-edit-btn','AI\x20Formula\x20Fix\x20Error:','student-progress-view','\x20mb-2\x22>','#FEF3C7','Firebase\x20initialization\x20failed:','lineJoin','showInStudentDashboard','การเรียงสับเปลี่ยน\x20(Permutation)','จำนวนนักเรียน','quiz-bank-modal','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','Error\x20generating\x20worksheet:','ใช่\x20/\x20ถูก','bp-modal-difficulty-level-select','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','</span></p>','bulk-results-display-select','fix\x20the\x20option','#E5E7EB','preTScore','bg-green-200\x20text-green-800','topic-input-area','font-bold\x20text-red-700\x20line-through','ทฤษฎีบทพีทาโกรัสและการประยุกต์','ยังไม่มีนักเรียนส่งงาน','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','การแปลงรูปอัตลักษณ์','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','#open-additional-parallel-shortcuts-btn','แบบปรนัย\x204\x20ตัวเลือก','worksheet-input-area','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','ลำดับเลขคณิต\x20(AP)','abs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','input[name=\x22team_player\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','quiz-editor-modal','mainTopics','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','จำนวนคู่:','dashboardConfig','277664PxpjNO','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','splice','.pen-size-btn','ช่างภาพ','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','toLocaleString','live-game-view','newCorrectIndex','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','Error\x20committing\x20score\x20updates:','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','lesson-loader-text','admin-view','ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้','bg-red-50','pointContent','questionType','whole_quiz','summaryContent','\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','shouldSaveResults','parallel-default-2','แก้ไขหัวข้อสำเร็จ','00:00','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','create-project-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','isFinished','link-topic-input','.correct-response-input','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','save-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','behavior-log-container','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','pinned-items','tGain','button[type=\x22submit\x22]','bottom','some','อัปเดตสถานะสำเร็จ','#FEE2E2','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','questions','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','5yzluXZ','อัตราและอัตราหน่วย','.verification-result','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','กุ้งเต้นแร้งกา','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','touch','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','#file-shortcut-tabs-nav\x20.tab-name-input','\x20ใหม่...','status','พิมพ์ตอบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','msExitFullscreen','write','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','Error\x20generating\x20teaching\x20content:','(ฉบับง่าย)\x20','transform','close-student-rankings-btn','lesson-plan-modal','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','generated-quiz-container','confirm-bulk-quiz-settings-btn','addEventListener','after','no-projects-msg','ผิด','tooltipTarget','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','.live-answer-btn,\x20#sync-submit-btn','td,\x20th','bank-tab','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันสัมพัทธ์\x20(rational)','postTScore','reference.txt','ปิดใช้งาน','modal-confidence-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','join-live-game-btn','toISOString','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','fromCharCode','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','label','confirm-team-players-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','results-tab','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','pop','stroke','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','translate','Error\x20calling\x20Gemini\x20API:','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','</body></html>','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','ความเป็นอิสระของเหตุการณ์','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>','เซียนสมองไว','scheduled','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','round','imageCode','ไม่พบข้อมูลเกม','bg-black/20','top','reduce','อัตราส่วนและสัดส่วน','onkeydown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.ideal-answer-input,\x20.correct-response-input','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','wheel','#results-table','ไม่มีผู้ตอบตัวเลือกนี้','lesson-plan-title','Failed\x20to\x20generate\x20lesson:','onload','%PDF','\x22\x20สำเร็จ','isRemedial','\x22\x20จำนวน\x20','คะแนนเฉลี่ย','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','unshift','.sortable-header','verify-answers-btn','กรุณาเลือกคำตอบก่อนครับ','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','STOP','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','function','hasPerfectScoreBonus','เกิดข้อผิดพลาดในการลบโปรเจค','bulk-confidence-mode-select','.move-shortcut-dropdown','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','startsWith','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','size','cursor','options','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','.quiz-bank-checkbox:checked','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','answerText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ความชันเส้นสัมผัส','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','เพิ่มปุ่มลัดใหม่','close-lesson-view-btn','ผู้ควบคุม\x20(ทดสอบ)','toString','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-red-500\x20text-white\x20font-bold','\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','referenceUrl','modal-confidence-mode-container','ผู้ไม่ยอมแพ้','sync-submit-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','\x22\x20data-quiz-id=\x22','load-quiz-btn','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','/public/data/quizzes','insertBefore','cancel-game-start-btn','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สมการลอการิทึม','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','num-questions','dataset','Failed\x20to\x20end\x20group\x20mode\x20game:','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-duration-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-2xl\x22>','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','ทำคะแนนเต็มในการทำครั้งแรก','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','scratchpad-header','#e21b3c','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','\x22\x20value=\x22true\x22\x20','gradeLevel','confidence-scoring-checkbox','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','move','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','quiz-leaderboard-table-body','Could\x20not\x20fetch\x20reference\x20file:','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','autoTable','approx','ป่าไม้','modal-timer-duration-input','save-file-shortcut-btn','สายลมแห่งโชคชะตา','text-indigo-600','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','lesson-view-content','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','timer-duration-container','tan','\x20กลุ่ม</p></div>','Error\x20adding\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','.save-custom-topic-btn','\x20หัวข้อ)','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบฝึกฝนเรื่อง:\x20','\x20คนที่ส่ง\x20ตอบถูก\x20(','export-pdf-modal','mousedown','.start-game-btn','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','mode-switcher-btn','open-scratchpad-btn','lineWidth','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','generate-from-file-btn','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','print','projectOrder','left','shadowBlur','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','Error\x20during\x20deep\x20delete:','webkitRequestFullscreen','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','modal-timer-duration-label','ARRAY','authed_project_','num-choices','display','true_false','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','solution','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','ไม่สามารถโหลดรายการโปรเจคได้','.edit-hidden-shortcut-btn','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','พีชคณิตและฟังก์ชัน','<button\x20data-quiz-id=\x22','text-green-800','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','null','890214lAKaVD','\x20ชุด)','bar','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20','คุณแน่ใจว่าต้องการลบแท็บนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','พอใช้','.tab-name-input','.parallel-quiz-btn','disabled','กลุ่ม:\x20','confirm-rename-quiz-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','createElementNS','additional-shortcuts-modal','การลบทศนิยม','highlighter','.delete-quiz-btn','มัธยฐาน','1415800NcTIMt','cancel-export-pdf-btn','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','url','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','live-game','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','bp-add-topic-btn','Failed\x20to\x20get\x20standardized\x20topic:','badgesCount','ห.ร.ม.\x20(GCD)','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','get','passcode','analytics-summary-cards','default-1','#add-question-editor-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</label></div>','การจัดกลุ่มข้อมูล','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','<button\x20data-tab-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','???','parallel-test-upload-input','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','ข้อ\x20','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','selected-answer-index-hidden','handleGenerateAndShowLesson','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','.answered','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','grid','clearRect','execCommand','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','เกิดข้อผิดพลาดในการเข้าร่วมเกม','answer-grid-container','Error\x20submitting\x20group\x20answer:','resultsDisplay','(ไม่มีชื่อ)','มุมพิเศษ\x2045°-45°-90°','getTextContent','include-images-checkbox','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','selectedTopicNames','choices_only','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสแกนหาแบบทดสอบเก่า...','confidence-mode-select','open-blueprint-projects-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','\x22><i\x20class=\x22fas\x20','text-gray-400\x20hover:text-indigo-600','\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','เสือซ่อนเล็บ','trail-tool-btn','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','.game-start-btn','quick_thinker','พิซซ่าหน้าทุเรียน','font-bold\x20text-green-700','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','327rOEKuE','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','save-bp-reference-btn','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','back-from-results-btn','.remove-file-shortcut-from-tab-btn','upper_group_count','players','Error\x20saving\x20questions\x20to\x20practice\x20bank:','คะแนนเต็ม','<button\x20data-shortcut-id=\x22','รหัสไม่ถูกต้อง','results-quiz-title','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','getBBox','filter','blueprint-topics-list-container','cancel-file-shortcut-edit-btn','สมการค่าสัมบูรณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.bp-edit-topic-btn','.delete-shortcut-tab-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','canvas','STRING','team-player-status-grid','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','save-game-results-checkbox','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','file-input-area','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','ตรีโกณมิติ','\x20|\x20','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','fileShortcutsConfig','แบบเติมคำตอบ','topic','ฟังก์ชันแบบชิ้นส่วน','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','student-list','btn','shortcutIds','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','getContext','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','ไฮเพอร์โบลา','เกิดข้อผิดพลาดในการส่งคำตอบ','bank-input-area','catch','reviewQuestionIndex','ไม่สามารถเพิ่มนักเรียนได้','error','underline','topics.','project-passcode-input','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','สายตาสั้น','sync-matching-select','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','.topic-name-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','Error\x20linking\x20quizzes:','</td></tr>','gameData','passcode-input-container','#26890c','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','.start-presentation-list-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ดาบพิฆาตอสูร','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','center','\x20รายการ\x20สำเร็จ!','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','document','กิจกรรมสิ้นสุดลงแล้ว','แท็บใหม่','.use-hidden-shortcut-btn','เกิดข้อผิดพลาดในการปักหมุด','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','groups.','then','.answers','classStrengths','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','bg-red-200\x20text-red-800','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','check-answer-btn','answer','timer-mode-select','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','player-list-lobby','showRankings','คนโสด','/preferences/main','ตอบถูก\x203\x20ข้อติดต่อกัน','.delete-shortcut-btn','เพนกวินไฟ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','cancel-rename-quiz-btn','Error\x20updating\x20project\x20name:','Error\x20joining\x20sync\x20game:','globalSettings','hint','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','frac','จันทร์เจ้า','bg-green-200\x20text-green-900','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','restore','การจัดหมู่\x20(Combination)','createElement','question-complexity-select','bp-project-title','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20</div>','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','quiz-status-modal','(คัดลอก)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','blueprint-upload-input','confirmation-modal','\x20ตัวเลือก)','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manual-blueprint-modal','summary','หัวข้อที่สร้างเอง','closePath','.move-file-shortcut-dropdown','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','focus','instructions','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','student-progress','projectName','checkAnswer','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','Error\x20editing\x20topic:','game-pin-input','newOptions','lastAnswerCorrect','border-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','th-TH','generate-from-link-btn','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','text-tab','user','ความคล้ายของรูป','onerror','scratchpad-modal','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','blueprint-projects-modal','file-shortcut-modal-title','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','trim','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',',\x20r=','Error\x20generating\x20parallel\x20test\x20from\x20bank:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','visibilitychange','multiple_choice','additional-parallel-shortcuts-modal','\x20รายการสำเร็จ!','cdot','export-lesson-to-pdf-btn','ผู้พิชิตดาว','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','dispatchEvent','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reveal-names-btn','practiceProblems','totalPoints','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</span></td>','.ai-content\x20blockquote','per-question-timer-container','ค่าเฉลี่ย','admin-try-quiz-btn','student-quiz-leaderboard-tab','สายหมอก','project-passcode-modal','/public/data/blueprintProjects/','postScore','bg-green-500','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','กรุณาใส่ชื่อโปรเจค','ลบผลสอบของ\x20','ครูใหญ่','\x27\x20ในหัวข้อ\x20\x27','สอบปกติ','student-initial-view','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.bp-delete-topic-btn','กำลังจับคู่...','activeGameSession','/lessons','Error\x20clearing\x20all\x20links:','presentation-explanation','.\x20แต่ละข้อมี\x20','min','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','add-from-global-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','qType','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','subTopics','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','textarea','หมีขั้วโลกใต้','gain','delete-all-students-btn',';\x22\x20data-id=\x22','ระบบอสมการ','\x20ชุดสำเร็จ!','parent','link-tab','far\x20fa-star','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topics','generate-from-text-btn','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','application/pdf','exitFullscreen','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','file-shortcut-editor-modal','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','mjx-container','POST','แมวเก้าชีวิต','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<tr><td\x20colspan=\x22','find','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','checked','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','\x20รายการ...','คัดลอกแบบทดสอบสำเร็จ','กระต่ายตื่นตูม','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','ไม่สามารถบันทึกการตั้งค่าได้','input','findIndex','.project-card-content','.bp-game-btn','isCorrect','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','class','\x22\x20name=\x22question_single\x22\x20value=\x22','upperGroupResponders','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','position','duration-300','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','ออฟฟิศซินโดรม','generated','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20data-q-type=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','\x20ข้อ\x20','.project-card-container[data-id]','ไม่มี','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correctAnswerIndex','times','artifacts/','.application-options\x20button','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','application','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','incorrect','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quizMode','\x22\x20name=\x22question','message-modal','border-indigo-500\x20text-indigo-600','ระบบสมการเชิงเส้นสองตัวแปร','นักดนตรี','ยืนยันการจับคู่','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','responses.','มังกรกินจุ','.shortcut-tab-btn','modal-message','ยอดเยี่ยม','นินจาชาเขียว','resize','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','prev-question-btn','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','กรุณาป้อนหัวข้อสำหรับใบงาน','บันทึกผลการเล่นเกมของ\x20','text/plain','onclick','start-quiz-btn','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาด:\x20','อัปเดตแบบทดสอบเก่า\x20','ไม่สามารถสร้างโปรเจคได้','lesson-view-title','สลับไปโหมดนักเรียน','offsetWidth','color','timed','cancel-create-project-btn','/public/data/liveGames','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','shuffleSetting','standard','fileShortcutTabs','quizId','tfrac','lower_group_count','ชาไข่มุก','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','https://corsproxy.io/?','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','shortcuts','คัดลอกรหัสแล้ว!','.delete-custom-topic-btn','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','แบบทดสอบนี้ปิดใช้งานอยู่','click','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','replace','difficultyValue','project-quizzes-list','questionDisplayedAt','text-blue-700\x20bg-blue-100','toDate','.delete-file-shortcut-btn','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','adaptive-quiz-checkbox','\x22\x20data-topic=\x22','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','border-gray-200','globalCompositeOperation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','timerDuration','close-game-final-btn','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','score','บันทึกโปรเจค\x20\x22','grid-view-btn','สร้างแล้ว','originalQuestionText','allResponses','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','generate-from-topic-btn','.bp-live-btn','getBoundingClientRect','circ','students','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','save-settings-btn','isScored','createdBy','innerText','setAttributeNS','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','comparison','อกหัก','teachingContent','bulk-confidence-mode-container','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','classic','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','BOOLEAN','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','):\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','getElementsByTagName','file-shortcuts-loading-msg','number','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','ปริพันธ์ไม่จำกัด','every','.summary-bar-item','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','save-visibility-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20','ไม่ใช่','auto-fix-latex-btn','API\x20call\x20failed','ปุ่มลัดทั้งหมด','ดาวTikTok','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','การแจกแจงทวินาม\x20(พื้นฐาน)','ไอรอนแมน','fa-pen','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','red','textarea[name=\x22question_single\x22]','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic-bank-subtopic-name','progress-project-select','-options\x22>','ส่งแล้ว','passing-score-input','manage','.file-shortcut-btn','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','q-text-','quiz-settings-modal','asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','idealAnswer','parseInline','toFixed','text-red-800','\x22\x5cn','\x20|\x20ID:\x20','Error\x20deleting\x20shortcut:','perseverance','close-additional-file-shortcuts-btn','student-quiz-leaderboard-content','destination-out','Error\x20moving\x20quiz:','ไม่ผ่าน','แม่น้ำ','Error\x20fetching\x20project\x20quizzes:','projectSort','text-red-600','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','Loaded\x20','เกิดข้อผิดพลาดในการลบนักเรียน','Blueprint\x201','quiz-generation-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','export-leaderboard-image-btn','parallel-default-1','fill_in_the_blank','fadeStartTime','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','\x20คู่\x20','close-additional-shortcuts-btn','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','numChoices','shuffle-setting-select','strength-weakness-analysis-container','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bg-gray-50','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','ข้อต่อไป','_opt0\x22\x20name=\x22question','removeAttribute','live-player-list','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20resume\x20game\x20session:','fill_in_no_choices','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','student-quiz-topic','กรุณาพิมพ์คำตอบของกลุ่ม','เกมสิ้นสุดลงแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','bg-gray-500','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','#F3E8FF','next-question-btn','num-choices-container','27411472','เกิดข้อผิดพลาดในการจับคู่','modal-loop-until-pass-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','querySelector','text-green-700\x20bg-green-100','(ก่อนเรียน)\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','ทะเล','text','difficulty-level-select','กรุณาเลือกโปรเจคที่ต้องการบันทึก','rgba(239,\x2068,\x2068,\x200.9)','ดวงดาว','\x22\x20data-pre-test-id=\x22','.project-card-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','(ก่อนเรียน)','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','input[name=\x22syncVariant\x22]:checked','bg-green-200','correct','strokeStyle','<button\x20id=\x22','.bp-create-onet-quiz-btn','student-team-join','update','สเกลและแผนที่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','file-shortcut-id-input','ค่าเสื่อมราคา','ที่พิมพ์ได้\x20จำนวน\x20','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ','ไม่พบโปรเจค','team-quiz-topic','sum','Error\x20saving\x20parallel\x20shortcut:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','Error\x20generating\x20hybrid\x20quiz:','text-gray-300\x20hover:text-white','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','ก้อนเมฆ','พาราโบลา','.file-shortcut-tab-btn','pointsLastQuestion','bp-modal-passing-score-input','.use-hidden-parallel-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','confidence-mode-container','presentation-scratchpad-btn','numQuestions','API\x20Error\x20Body:','ชื่อหัวข้อห้ามว่าง','.topic-name-input','[*]','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','</a>','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','add','rgba(59,\x20130,\x20246,\x200.7)','admin-dashboard','reference-pdf-upload','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ตั้งเวลา\x20(เปิด)','not_confident','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','correctAnswer','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','date_asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','normal','แฟนทิพย์','pointercancel','ยกเลิกการเชื่อมโยงสำเร็จ','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','parallel-shortcut-editor-modal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','leaderboard-tab-content','export-worksheet-pdf-btn','topic-bank-list','fa-bolt\x20text-blue-500','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','projectSortOrder','แบบทดสอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','perfect_score','fas\x20fa-star\x20text-yellow-500','#view-rankings-btn','file-default-1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','การคูณเศษส่วน','student-rankings-modal','viewBox','คนคุย','ซามูไรสายเดี่ยว','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','.quiz-bank-settings-btn','results','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','pointer-events-none','submit','application/json','</span></div>','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','Error\x20fetching\x20projects\x20for\x20move:','typesetPromise','.move-file-shortcut-item','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','NEGATIVE_INFINITY','เลือกและเริ่มสร้าง','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','live-submit-short-answer-btn','<option\x20value=\x22','actions-container-','per_question','AI\x20แก้ไขคำถามสำเร็จ!','mixed','responses','rgba(79,\x2070,\x20229,\x200.8)','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','<i\x20class=\x22fas\x20fa-pen\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','answers','ส่วนเบี่ยงเบนเฉลี่ย','ฮิสโตแกรม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','div[data-question-index=\x22','</form>','Error\x20loading\x20quiz\x20for\x20student:','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','คณิตศาสตร์','back-to-dashboard-from-results-btn','ไม่พบตารางสำหรับ\x20Export','additional-parallel-shortcuts-list','Error\x20during\x20class\x20analysis:','ไม่พบข้อมูลหัวข้อที่จะบันทึก','file-topics-list','leq','\x20(สำหรับ\x20','</tr>','.highlighter-color-btn','presentation-slide-container','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','ไฟล์ลัด\x201','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','toLowerCase','bg-red-100\x20text-red-800','.eraser-size-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','ย้ายแบบทดสอบไปโปรเจคอื่น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','text-blue-700','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','Blueprint\x202','rename-quiz-modal','innerHTML','close-comparison-modal-footer-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกชื่อของคุณ','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','flex','shortcut-name-input','touches','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','file-shortcut-name-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','eraser-tool-btn','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','classList','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','element','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','ดูผลสรุปสุดท้าย','บทเรียนเรื่อง:\x20','กำลังอ่านไฟล์\x20Test\x20Blueprint...','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','blueprint-settings-modal','.ai-fix-formula-btn','\x20\x0a\x20\x20\x20\x20','opacity','back-to-home-manual-release','bg-amber-100\x20text-amber-800','delete-svg-btn','eraser','show-final-results-btn','ปริมาตร/ความจุและการแปลง','editable-quiz-topic','bg-green-400\x20text-white\x20font-bold','confirm-confident','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','admin','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','documentElement','geq','lowerGroupNames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20adding\x20custom\x20topic:','isStarred','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','kick-player-btn','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','responseSchema','sync-manage-players-btn','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','bp-modal-quiz-type-select','editable-text-','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','Error\x20deleting\x20topic:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่ผิวรูปทรงสามมิติ','rgba(239,\x2068,\x2068,\x200.7)','q-image-container-','bg-blue-100\x20text-blue-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','lastIndexOf','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','ยืนยันการกระทำ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','274192258111','เกมเมอร์','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','Error\x20in\x20generating\x20from\x20files:','data','เพิ่มหัวข้อ\x20\x22','ondblclick','คำเตือน\x20(','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','preventDefault','ต้นฉบับ\x202','อัปเดตพฤติกรรมสำหรับ\x20','ระยะจากจุดถึงเส้นตรง','getItem','ใช่','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','getScreenCTM','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','pairedQuizId','Error\x20loading\x20user\x20preferences:','.question-editor-item','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','.flex.justify-between.items-center','ลบหัวข้อสำเร็จ','createdAt','ไม่พบแบบทดสอบสำหรับรหัสนี้','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','parse','bp-reference-file-url','key','เส้นตรง:\x20รูปแบบสมการ','.edit-parallel-shortcut-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','AI\x20did\x20not\x20return\x20any\x20content.','score-distribution-chart','scratchpad-options','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','show-results-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ดอกเบี้ยอย่างง่าย','ก่อนเรียน','บทเรียน','nickname-input','text/csv;charset=utf-8;','สอบซ่อม','manual-bp-grade-level','isDefault','pathname','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','result','การวัด','.delete-question-editor-btn','back-to-project-btn','จับคู่แบบทดสอบสำเร็จ!','<div\x20id=\x22q-image-container-','point','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','กำลังค้นหากิจกรรม...','ผลรวมอนุกรม\x20(Σ)','transparent','perQuestionStats','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','projectId','.topic-selection-btn','getPage','Error\x20generating\x20from\x20parallel\x20test\x20file:','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน\x20','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','เวกเตอร์และเมทริกซ์\x20(เสริม)','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','quiz-results-view','<div\x20class=\x22flex-1\x22></div>','ทฤษฎีทวินาม\x20(เบื้องต้น)','empty','-tab-content','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','pointerup','สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27','.move-shortcut-menu-btn','.group\x5c/dropdown-parallel','per-q-countdown','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','student-project-leaderboard-content','ย้ายแบบทดสอบสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','confidence-input-','.score','scores','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','cancel-passcode-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-names-btn\x22\x20class=\x22w-1/2\x20bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20แสดงชื่อจริง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-1/2\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ดูผลสรุปสุดท้าย\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','href','Error\x20processing\x20parallel\x20shortcut\x20click:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','project-list','half_mark_status','จำนวนและการดำเนินการ','nextElementSibling','create-project-btn','quiz','link-url-input','export-tutor-pdf-btn','เกิดข้อผิดพลาดในการติดดาว','slice','.use-hidden-file-shortcut-btn','value','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','คาถาแยกเงาพันร่าง','json','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','Error\x20saving\x20to\x20question\x20bank:','\x5csum','separate-by-content-from-file-checkbox','cancel-blueprint-projects-btn','Error\x20listening\x20for\x20starred\x20quizzes:','results-table','เกิดข้อผิดพลาดในการนำผู้เล่นออก','\x22\x20class=\x22color-palette-btn\x20','cancel-quiz-settings-btn','หน่วยมวล/น้ำหนักและการแปลง','Auto-linking\x20new\x20quiz\x20','promptFeedback','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','/public/data/customMathTopics','warn','select[name=\x22question_single\x22]','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','submission','<span\x20class=\x22font-bold\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','countdown-display','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x22>ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','border-red-300\x20bg-red-50','Copy\x20command\x20failed','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','จำนวนเต็มลบ','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','sara','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','add-student-btn','close-lesson-plan-modal-footer-btn','prod','จิงโจ้สโลว์ไลฟ์','hidden','touchmove','true','scores-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','height','ข้อที่\x20','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','file-shortcut_','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกคำถามใหม่\x20','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','.generate-lesson-btn','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.live-answer-btn,\x20#live-submit-short-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','MathJax\x20typeset\x20error\x20(analytics):','isPinned','\x22\x20value=\x22','answerValue','ไม่พบข้อมูลโปรเจค','scheduled_pending','ดาวสภา','ไม่ใช่\x20/\x20ผิด','teacherTips','#retake-for-improvement-btn','tab_','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','generate-worksheet-btn','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','open-global-live-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','ปวดหลัง','math-topics-checkbox-container','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','source_document.pdf','bg-green-50','.ideal-answer-input','\x20\x20\x20-\x20','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','เกิดข้อผิดพลาดในการสร้างใบงาน','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','จำนวนเชิงซ้อน\x20(เสริม)','exists','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','getAttributeNS','project-sort-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','settings','removeItem','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','rows','not-found','comparison-individual-tab','.verification-result-editor','Error\x20saving\x20reference\x20URL:','startedAt','parts','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','shuffle','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','generate-from-parallel-test-btn','Error\x20in\x20handleApiCall:','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','file.txt','MathJax','bg-green-100\x20text-green-800','border-green-300\x20bg-green-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22loader\x20mx-auto\x22></div>','create-from-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','finishReason','Error\x20duplicating\x20quiz:','Error\x20toggling\x20star\x20status:','parallel-shortcuts-loading-msg','แผนภาพกล่อง\x20(box\x20plot)','.delete-bp-project-btn','กรุณาตั้งชื่อแท็บใหม่:','lesson-view-modal','selected-topics-count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text-gray-700','team-student-list','ย้าย','.scratchpad-content-wrapper','แก้ไขสูตรคณิตศาสตร์\x20','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','Error\x20updating\x20quiz\x20status:','body','.delete-project-btn','wakeLock','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','Error\x20updating\x20sort\x20preference:','submission-status-chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20generate\x20practice\x20test:','\x20จาก\x20','startTime','กรุณาเลือกโปรเจคปลายทาง','pre-test','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','next-drill-btn','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','original-mode-checkbox','showImproveButton','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','remove','วงกลม:\x20สมการและสมบัติ','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-name-select','Error\x20resetting\x20project\x20order:','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','.tab-name-display','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','ความสัมพันธ์ของมุม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','เนื้อหาสำหรับสอน:\x20','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','gameVariant','แผนการสอน','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','name','none','2-digit','bank-quiz-list','การลบเศษส่วน','end-game-btn','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','.delete-hidden-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','cancel-quiz-edits-btn-footer','confirm-join-game-btn','view-my-progress-btn','worksheet-tab','.question-editor-item[data-q-index=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','.delete-parallel-shortcut-btn','touchcancel','pointerdown','คะแนน','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','Error\x20saving\x20shortcut\x20config:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','อสมการค่าสัมบูรณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','starred-project','.confidence-choice-btn','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','จากเนื้อหาต่อไปนี้:\x20\x22','manual-bp-project-name','blockReason','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20easy\x20version\x20quiz:','scrollIntoView','manual-bp-content','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','leaderboard-tab','moveTo','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','cloneNode','...','\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22','กรุณาใส่ชื่อใหม่','div','</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','global-quiz-search-input','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','\x22>ไม่ใช่</p>','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','answering','สมมาตร\x20(แกน/จุด)','leaderboard-quiz','ไม่ระบุ','<i\x20class=\x22fas\x20fa-magic\x22></i>','<br>','Error\x20analyzing\x20file\x20for\x20topics:','กองดอง','projectView','แปลงร่าง','stepByStepExamples','.shortcut-btn','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','bg-yellow-100','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','confirm-passcode-btn','กรุณาเลือกไฟล์ก่อน','bg-blue-100','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','\x20\x20\x20-\x20คำตอบ:\x20','confirm-create-project-btn','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','submissions','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','ปริพันธ์จำกัด','has','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','.bp-try-btn','</div>','add-shortcut-tab-btn','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','data:application/vnd.ms-word;charset=utf-8,','.rename-quiz-btn','name_desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','เกิดข้อผิดพลาดในการบันทึก','.ai-content\x20h3','COMEBACK_KING','.ai-fix-question-btn','memory','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบแบบทดสอบ','PROMPT_PLACEHOLDER','fixed','icon','text/html','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20','text-red-700','inactive','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','ยูทูปเบอร์ฝึกหัด','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','overallGroups','request','overline','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','.copy-quiz-id-list-btn','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','setAttribute','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>','นักเขียน','keyup','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manual-create-blueprint-btn','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','math-topic-search-input','\x0a\x20\x20\x20\x20','ลิมิต','<p\x20class=\x22text-xl\x22>','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','กำลังสร้างแบบทดสอบ:\x20','หมูกระทะจะเยียวยาทุกสิ่ง','/public/data/quizzes/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','memoryContent','student-project-leaderboard-tab','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','setFont','sqrt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','linkedQuizIds','leaderboard-quiz-tab-content','ไม่มีคำอธิบาย','file-default-','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','rename-quiz-input','bg-green-600\x20text-white\x20ring-4\x20ring-green-300','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','highlighter-tool-btn','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','\x5cdiv','<li>','questionIndex','ผู้เชี่ยวชาญ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','close-lesson-plan-modal-btn','checkbox','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','bg-emerald-100','แบบทดสอบซ่อมเสริม','text-content-input','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','newOptionsPayload','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','ระยะเวลา\x20(นาที):','.edit-hidden-parallel-shortcut-btn','temp-loader-results','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','parallel-shortcut_','back-to-dashboard-btn','first_try_ace','ตัวเลือก\x20ง','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','topicName','pow','.ai-content\x20li','Error\x20fetching\x20quiz\x20settings:','leaderboard','รูปแบบการให้เหตุผล','file-shortcut-container','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','อินเวอร์สของเมทริกซ์','sort','.doc','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','explanation','label[for=\x22num-questions\x22]','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','โหลดนาน','border-indigo-400\x20ring-2\x20ring-indigo-200','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','endTime','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','bg-green-200\x20text-green-900\x20font-bold','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','</span><span\x20class=\x22font-bold\x22>','</p></div>','.group\x5c/dropdown','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','OBJECT','การหารเศษส่วน','numPages','พื้นที่วงกลม/ส่วนของวงกลม','scratchpad-close-btn','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยอดนักสืบ','.color-palette-popup','Group\x20Mode','readAsDataURL','สำหรับโปรเจค:\x20','values','.csv','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','ไม่พบข้อมูลผู้ใช้','input[name=\x22status-option\x22]:checked','\x22.\x20Ideal\x20Answer:\x20\x22','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','previousElementSibling','All\x20groups\x20have\x20finished.\x20Ending\x20game.','jspdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ตัวเลือก\x20ค','worksheet-topic-input','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','พื้นที่ใต้กราฟ/ระหว่างกราฟ','\x20คะแนน</span></div>','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','cancel-bulk-quiz-settings-btn','แก้ไขปุ่มลัด','text-indigo-700','/public/data/learnedFixes','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','preScore','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','isConfidenceScoringEnabled','contains','<span\x20class=\x22sort-indicator\x20ml-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','ไม่พบข้อมูลข้อสอบหลังเรียน','parallel-default-','bg-red-500','แอบชอบ','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.view-bp-lesson-btn','show-in-student-dashboard-checkbox','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','parallelShortcutTabs','file-upload-input','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','.move-shortcut-item','screen','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','bp-modal-num-choices','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22,\x20','หมาป่าเดียวดาย','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','dragend','100px','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','export-word-btn','lesson-sections-container','hint-btn','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20(ส่วนนี้จะถูกจัดการโดย\x20prompt\x20ของ\x20application)\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-2\x22>','visible','set','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','<h1></h1>','<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','confidence-scoring-description','substr','beforeend','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','category','จำนวนเต็มบวก','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','blueprint-project-manager-view','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','เพื่อนสนิท','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','attemptNumber','custom-math-topic-input','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','.shortcut-list-item:not(.opacity-50)','short','\x20จุด','ไม่พบข้อมูลแบบทดสอบ','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','name_asc','การนับ','SAFETY','fill_in_with_choices','index','quiz-editor-questions-container','สามเหลี่ยม\x20(ชนิด/สมบัติ)','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กาแฟขม','map','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shortcut-reference-url-input','.open-bp-project-btn','.bp-view-analysis-btn','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','รักแรกพบ','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','leaderboard-quiz-tab-btn','Error\x20saving\x20game\x20results:','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เพิ่มคำถามใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','mode','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','#F59E0B','max','bg-teal-500\x20hover:bg-teal-600\x20text-white','\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-student-initial-btn','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','บันทึกการตั้งค่าสำเร็จ','.bp-unlink-quiz-btn','bulk-quiz-settings-btn','ai-quiz-app-aefee.firebasestorage.app','game-start-mode','onblur','shortcutId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','disabled\x20bg-gray-400\x20cursor-not-allowed','earned-badges-container','isAnonymousRevealed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','enable-passcode-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','\x5cge','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','.sort-indicator','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','keyConcepts','text-purple-600','pdf','AI\x20grading\x20failed:','กำลังสร้างรูปภาพ...','.quiz-bank-move-btn','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','เพิ่มรายการที่เลือก','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','removeEventListener','question','getElementById','latestSubmittedAt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','เลือกโปรเจคเพื่อบันทึก','\x20สำเร็จ','```json','isNormalTopic','</h4>','ระยะเวลา\x20(วินาที):','Leaderboard\x20update\x20transaction\x20failed:\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','minHeight','bp-topic-list-container','.parallel-shortcut-tab-btn','manage-tab-content','\x22\x20class=\x22delete-project-btn\x20','quiz-start-time','กรุณาเลือกคำตอบของกลุ่ม','confirm-delete-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','การหาร','copy','คะแนนเต็ม!','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','false','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','</div></div></div>','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20','insertAdjacentHTML','close','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','Error\x20confirming\x20players\x20for\x20sync\x20game:','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','add-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','toggle','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','ผู้เล่น\x20','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','นักกีฬา','save-shortcut-btn','classWeaknesses','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','admin-password-input','topic_','cancel-admin-login-btn','correctResponse','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','global-activity-modal','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','sync','File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.','...\x22)?','สร้างแบบทดสอบ','fas\x20fa-user-edit','files','comparison-individual-content','behavior-log-tab-btn','ผ่านฉลุย','Error\x20renaming\x20quiz:','คำถามดิบ:\x20\x22','student-team-selection-view','ฐานนิยม','bg-gray-200\x20text-gray-700','</p><div>','\x20(p=','pointerType','\x5cneq','bulk-quiz-settings-modal','<p><strong>คำตอบที่แนะนำ:</strong>\x20','highlighter-size-value','bp-modal-include-images-checkbox','Error\x20updating\x20pin\x20status:','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','answered','quiz-leaderboard-table-container','N/A','setItem','analytics-tab-content','Error\x20saving\x20project\x20order:','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','_blank','blueprintUrl','bulk-shuffle-select','points','undo-btn','global-quiz-count','.topic-row','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','สุดยอด!\x20ตอบถูกทุกข้อ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','confidence_single','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','tabId','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','\x22\x20value=\x22false\x22\x20','ฟังก์ชันลอการิทึม','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','\x5ccdot','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','ไม่สามารถโหลดข้อมูลอันดับได้','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','anonymous','save-parallel-shortcut-btn','analyze-strengths-btn','bulk-confidence-scoring-checkbox','รอ...','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','clientX','starred','devicePixelRatio','block','สัญกรณ์วิทยาศาสตร์','เรขาคณิตวิเคราะห์','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','ลำดับเรขาคณิต\x20(GP)','1:274192258111:web:4120c9118229b5644dd48a','เกิดข้อผิดพลาดในการอัปเดต:\x20','/public/data/projects/','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','fullscreenElement','แผนการสอน:\x20','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','contents','\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!','uid','/public/data/projects','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','file.pdf','ยังไม่เต็มนะ','cancel-quiz-edits-btn','results-display-select','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','docs','opacity-50','parallelTestShortcutsConfig','matching_item','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','.answeredCurrentQuestion','questions_only','ตัวแทนแห่งดวงจันทร์','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','รากที่สองและที่สาม','confirm-not-confident','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','image/png','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','live-race','พลังคลื่นเต่า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','dblclick','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','</h3>','student-project-leaderboard-table-body','การคูณ','เริ่มกิจกรรม:\x20','-tab','539691ZvXhCV','_opt1\x22>ไม่ใช่</label></div>','parallel-shortcut-url-input','back-to-dashboard-from-bp-btn','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','stopPropagation','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','ไฟล์ทั้งหมด','CEOพันล้าน','AI\x20Fix\x20Error:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/submissions','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','quizType','file-shortcut-url-input','pre-test-checkbox','Error\x20updating\x20old\x20quizzes:','student-quiz-leaderboard-table-body','ต้นฉบับ\x201','จากไฟล์ที่แนบมานี้,\x20','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','จับคู่เพื่อเปรียบเทียบผล','input[type=\x22checkbox\x22]:checked','.quiz-settings-btn','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','quiz-form','lesson-loader','#000000','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','lesson-plan-content','bp-modal-question-complexity-select','<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','requestFullscreen','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','forEach','input[name=\x22question_single\x22]:checked','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','questionText','[data-field=\x22subTopic\x22]','ร้อยละพื้นฐาน','save-project-name-btn','isArray','ชีสเค้ก','สมการเชิงเส้นตัวแปรเดียว','style','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','.parallel-shortcut-btn','test','/public/data/syncGames','cancel-move-quiz-btn','from','visibilityState','ตรวจคะแนนใหม่\x20','blueprint-shortcut-container','description','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','summary_chart','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','shadowColor','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','modal-timer-mode-select','\x5cle','ศิลปิน','ondragend','<span\x20title=\x22','\x22...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','additional-file-shortcuts-list','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','Invalid\x20response\x20structure\x20from\x20API.','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','passingScore','bg-green-100','<li\x20class=\x22','currentMode','เงาปริศนา','medium','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','dimmed','.delete-parallel-shortcut-tab-btn','submittedAt','กฎของโคไซน์','text-red-500\x20hover:text-red-700','.compare-results-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','per-question-text','items','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','passcode-prompt-message','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','fa-fire\x20text-orange-500','.generate-content-btn','gamePin','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#ffffff','Error\x20saving\x20shortcut:','close-additional-parallel-shortcuts-btn','update-old-quizzes-btn','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','เกิดข้อผิดพลาดในการอัปเดตสถานะ','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','text-green-600','stringify','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','.file-shortcut-btn[data-id=\x22','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','default-','beginPath','generate-from-blueprint-btn','PERSEVERANCE','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','.ai-content\x20td','presentation-short-answer-input','quiz-id-input','text-red-900','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','all','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','student-passcode-input','short_answer','removeChild','next-question-timed-btn','quiz-search-input','source_document.txt','Failed\x20to\x20get\x20hint:','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','firstScore','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','มูเตลู','latestScore','เกิดข้อผิดพลาดในการบันทึกโปรเจค','destroy','candidates','ai-quiz-app-aefee.firebaseapp.com','Error\x20starting\x20sync\x20game:','cancel-quiz-bank-btn','modal-confidence-scoring-checkbox','mean','comparison-overall-content','default-2','scratchpad-controls','overflowY','.txt','main-correct-answer-display','.pdf','txt','trail','confirm-link-quiz-btn','ม้าดีดกะโหลก','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','save','\x22\x20data-target-tab-id=\x22','thead','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','_new','reveal_at_end','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','<div\x20class=\x22','<div\x20class=\x22p-2\x20rounded-md\x20','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','default','ON_FIRE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','show_results_and_answers','<div\x20class=\x22mb-3\x20topic-category\x22>','.mb-6.p-4','generationConfig','match','parallel-test-tab','ยืนยันและอัปเดตทั้งหมด','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างคำถามข้อ\x20','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ติดซีรีส์','รูปสี่เหลี่ยมและสมบัติ','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','keys','download','ฟังก์ชันราก\x20(root)','.delete-student-btn','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','readAsArrayBuffer','ดีมาก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','target','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','(เลือกแล้ว\x20','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','\x22\x20name=\x22team_answer\x22\x20value=\x22','manual_release','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','เรขาคณิต','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','loader-text','ยังไม่ส่ง','scrollY','ตารางความถี่','.space-y-1.pl-4','ondragover','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กำลังดึงข้อมูลจากลิงก์...','shortcutOrder','กรุณากรอกข้อมูลให้ครบทุกช่อง',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','อินฟลูเอนเซอร์','mousemove','modal-close-btn','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','includes','#FFFFFF','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','save-bp-settings-btn','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','subTopic','end-sync-game-btn','อนุพันธ์:\x20ผลคูณ/ผลหาร','.linkedQuizId','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','push','<div\x20class=\x22space-y-4\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่สามเหลี่ยม','\x20/\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','หมดเวลาสำหรับข้อนี้!','.shortcut-list-item','mouseup','hasOwnProperty','bg-yellow-50','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mouse','quiz-type-select','ลบโปรเจคสำเร็จแล้ว','open-sync-scratchpad-btn','lastAnswerIndex','API\x20call\x20failed\x20with\x20status:\x20','scrollX','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','reference_onet.pdf','loader','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','เน็ตช้า','ตัวประกอบและตัวประกอบเฉพาะ','tool','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','active','dataIndex','select','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','answer-counter','<tr\x20class=\x22','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','$1\x20\x5cfrac','arrayBuffer','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-rocket\x20text-purple-500','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','file-topic-input','results-table-container','interesting-stats-container','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','clientY','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','blueprint-project-list','<svg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','message','#open-additional-shortcuts-btn','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','กัปตัน','timerMode','Error\x20during\x20blueprint\x20link\x20cleanup:','โลมาบิน','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.live-summary-tooltip.visible','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','คัดลอกไม่สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','pinnedProjects','.live-answer-btn','MathJax\x20re-render\x20failed:','targetId','dfrac','blob','pin','results_','หยุดระบบจับเวลาหรี่หน้าจอ','\x20ตัวเลือก.\x20','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','shortcut-modal-title','\x20mx-1\x20text-lg\x22></i></span>','[data-topic-id=\x22','playerNicknames','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','วงรี','.quiz-bank-present-btn','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','Enter','bp-modal-num-questions','-\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','parallel-test-input-area','Error\x20generating\x20from\x20link:','export-leaderboard-pdf-btn','กำลังเตรียมไฟล์...','parallel-shortcut-name-input','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','msRequestFullscreen','ธอร์ค้อนบิน','.star-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับหัวข้อ\x20\x27','%</span>','topic-quiz-bank-modal','<tr>','\x0a---\x0a','Original\x20quiz\x20not\x20found','Team\x20Quiz','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fixedData','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','confidence-modal','split','leaderboard-table-body','ราชาคัมแบ็ก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','quadraticCurveTo','project-title','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','blueprint.pdf','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20','blueprint-options-container','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','Error\x20listening\x20for\x20custom\x20math\x20topics:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','\x22\x20สำเร็จ!','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analytics-tab-btn','retake-quiz-loop-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','dragstart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','behaviorLog','สถิติและความน่าจะเป็น','</option>','upperGroupNames','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','.edit-custom-topic-btn','textContent','hover:bg-indigo-100','PERFECT_SCORE','random','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','workerSrc','\x20from\x20sync\x20game:','confirm-manual-bp-btn','Error\x20verifying\x20answers\x20in\x20editor:','\x22\x20data-name=\x22','bp-modal-shuffle-setting-select','curriculum','matching','เกิดข้อผิดพลาดในการลบผลสอบ','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','substring','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','toDataURL','timer-duration-input','NUMBER','องค์ประกอบของฟังก์ชัน','/public/data/teamQuizzes','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','not_generated','ไม่พบเนื้อหาบทเรียนที่จะแก้ไข','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','เกิดข้อผิดพลาดในการบันทึกลำดับ','กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','applicationData','file-default-2','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','confirm-game-start-modal','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','bestScore','.move-quiz-btn','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','presentation-modal','คำถามถัดไป','เทพทรู','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','closest','onchange','เกิดข้อผิดพลาดในการลบหัวข้อ','content','การยืนยันตัวตนล้มเหลว','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','confidence-choice-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','isAdaptive','\x22\x20name=\x22confidence','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','date_desc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','Error\x20showing\x20quiz\x20detail\x20view:','specialist','topic-input','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบไฟล์\x20Test\x20Blueprint','เงินงวด\x20(อนุกรมเงินงวด)','.quiz-bank-parallel-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความชันและเส้นตรง','fill','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','length','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','join','suggestedAnswer','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','blur','.move-file-shortcut-menu-btn','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','.quiz-bank-delete-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','</p><p><strong>เฉลย:</strong>\x20','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointermove','quiz-bank-count','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','appendChild','.question-editor-item:last-of-type','indexOf','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','qIndex','transition-all','podium','questionId','drop','Blueprint\x20O-NET\x20ป.6','student','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','scale','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','topicId','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','การบวก','createObjectURL','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','.draggable-text','confident','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','thead\x20.sortable-header','add-file-shortcut-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','ตัวเลือก\x20ก','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','dragover','เพิ่มปุ่มลัดจากไฟล์ใหม่','#student-project-leaderboard-content\x20thead','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','ไม่พบแบบทดสอบ','ไก่ฟ้าพญาลอ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','behavior-log','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','global-activity-quiz-list','ทศนิยม\x20(ค่าประจำหลัก)','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','players.','การหารทศนิยม','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','อัตราการเปลี่ยนแปลงทันที','.bp-create-content-quiz-btn','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','การกระจายและการจัดหมู่','ฟังก์ชันพหุนาม','force-math-checkbox','width','Error\x20verifying\x20answers:','cos','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','.export-pdf-list-btn','ดอกเบี้ยทบต้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','Error\x20deleting\x20student:','touchstart','join-group-activity-btn','generated-quiz-actions','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','entries','input[type=\x22text\x22]','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','.linkedQuizIds','export-lesson-pdf-btn','เกี่ยวกับหัวข้อ\x20\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','กำลังวิเคราะห์หัวข้อ...','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','shortcut-id-input','แผนภาพเวนน์','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x22>ใช่</p>','stdDev','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-global-activity-btn','back-to-student-home-btn','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','move-quiz-modal','<i\x20class=\x22fas\x20fa-save\x22></i>','ฟังก์ชันกำลังสองและกราฟ','textarea[name=\x22team_answer\x22]','bank-quiz-search-input','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','</select>','open','contentEditable','text-gray-100','ไม่พบโปรเจคที่ต้องการลบ','ความคาดหมาย\x20(Expected\x20value)','file-topics-list-container','/studentProfiles','shortcut-editor-modal','results-quiz-id-display','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','.move-parallel-shortcut-menu-btn','includeImages','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','Error\x20joining\x20live\x20game:','.kick-player-btn-sync','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','Error\x20toggling\x20pin\x20status:','file-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x20(เริ่มข้อ\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(16,\x20185,\x20129,\x200.7)','เปลี่ยนชื่อโปรเจคสำเร็จ','\x5ctimes','ไม่พบเอกสารการส่งงานของ\x20','สู้ๆ\x20ลองอีกครั้งนะ','จำนวนคละ','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','deltaY','#E0E7FF','สร้างใหม่','desc','ถูกต้อง!','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','confirm-move-quiz-btn','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','แบบทดสอบนี้หมดเวลาแล้ว','เกิดข้อผิดพลาด','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','text-red-700\x20bg-red-100','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-300\x20hover:text-red-100','modal-passing-score-input','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนรหัสแบบทดสอบ','dim-overlay','input[type=\x22radio\x22]:checked','แก้ไขข้อนี้','9110aTbYdn','rgba(79,\x2070,\x20229,\x201)','.move-parallel-shortcut-item','add-file-shortcut-btn','---\x20[คำถามใหม่]\x20---','.delete-hidden-file-shortcut-btn','keydown','px)\x20scale(','shuffledQuiz','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','smooth','\x20ชุด)</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20fetching\x20student\x20rankings:','.quiz-bank-try-btn','สร้างคำถามแบบเติมคำในช่องว่าง','groups','badges','touchend','Error\x20saving\x20manual\x20blueprint\x20project:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','add-custom-math-topic-btn','start-live-race-generated-btn','_opt1\x22\x20name=\x22question','cancel-team-selection-btn','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','shortcut-blueprint-url-input','student-name-input','game-start-quiz-id',':</span><span>','เส้นรอบรูป','แก้ไขชื่อหัวข้อย่อย:','กรุณาพิมพ์คำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20ออกจากคลังนี้?','ต้นฉบับทั้งหมด','on_fire','live-options-container','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.lastAnswerIndex','timer-duration-label','บันทึกการตั้งค่าแล้ว',')\x22>','สมการราก\x20(radical)','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','<textarea\x20name=\x22question','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','ondragstart','promise','กลุ่มของคุณ','draggable-text','หัวข้อหลักใหม่','submit-group-answer-btn','applicationContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</td>','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','404\x20Not\x20Found','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','กำลังสร้างเนื้อหา:\x20','sync-player-management','stem','student-progress-content','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div>','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','input[type=\x22checkbox\x22]','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','next-sync-question-btn','หน่วยเวลาและการคำนวณเวลา','svg','Error\x20saving\x20blueprint\x20project:','Error\x20deleting\x20quiz:','การสร้างรูปด้วยวงเวียน–สันตรง','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','modal-adaptive-quiz-checkbox','อัศวินรัตติกาล','bg-black/10','quiz-end-time','cancel-delete-btn','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','สมการตรีโกณมิติ','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','</span>','add-parallel-shortcut-btn','เกิดข้อผิดพลาดในการแก้ไข','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','offset','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','table','http://www.w3.org/2000/svg','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','อยู่ในสาระการเรียนรู้ใด:','cancel-test-btn','/questionBank','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','text-emerald-800','Error\x20starting\x20group\x20quiz:','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>','finished','รีเซ็ตลำดับโปรเจคแล้ว','</tbody></table></div>','confidenceMode','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','Error\x20listening\x20for\x20student\x20profiles:','start-sync-game-btn','clear-all-links-btn','กำลังสร้างแบบทดสอบจากหัวข้อ...','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','standardTopic','Error\x20fetching\x20lesson\x20content:','/users/','.regenerate-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','title','undefined','.edit-shortcut-btn','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','</li>','text-input-area','พบ\x20Team\x20Quiz!','list-view-btn','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','สร้างชุดคำถามจับคู่','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','.quiz-result-card','หลังเรียน','ลบโปรเจค\x20\x22','className','<p><strong>คำตอบของคุณ:</strong>\x20','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.topic-category','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','วงกลม:\x20คอร์ดและเส้นสัมผัส','questionStatus','game-start-modal-title','จัดการ','right','additional-file-shortcuts-modal','save-blueprint-as-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','#6366F1','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','.delete-hidden-parallel-shortcut-btn','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','total','lobby','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','การปัดเศษและประมาณค่า','\x5cfrac{$1}{$2}','project-detail','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','อนุพันธ์:\x20กฎพื้นฐาน','parallel-shortcut-container','text-white','.toggle-actions-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','floor','circle','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','input[name=\x22drill_answer\x22]:checked','ค่าความจริง/ตารางค่าความจริง','ref','export-excel-btn','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','Invalid\x20response\x20structure\x20from\x20AI.','blueprintShortcuts','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','fa-dumbbell\x20text-gray-700','ลาเต้ไม่หวาน','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','lowerGroupResponders','results-tab-content','isPasscodeEnabled','interesting-stats-wrapper','จุด\x20เส้น\x20ระนาบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','wasConfident','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','(หลังเรียน)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','manage-tab','type','link-input-area','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','student-name-selection-view',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','แคลคูลัสเบื้องต้น','6437412drSxoP','คู่จิ้น','timestamp','sin','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.delete-submission-btn','.pin-project-btn','practice-topic-btn','change','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','admin-testing','Error\x20opening\x20quiz\x20editor:','string','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','.presentation-option','commonMistakes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','parallel-shortcut-id-input','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'];_0xdc5a=function(){return _0x48c132;};return _0xdc5a();}let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor='rgba(255,\x20255,\x200,\x200.5)',scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor=_0x4c4cf8(0xa36),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0xfb2866,_0x3bb31){const _0x544132=_0x4c4cf8;return Math[_0x544132(0x870)](Math['pow'](_0xfb2866['x']-_0x3bb31['x'],0x2)+Math['pow'](_0xfb2866['y']-_0x3bb31['y'],0x2));}function getMidpoint(_0x43ad3b,_0x491339){return{'x':(_0x43ad3b['x']+_0x491339['x'])/0x2,'y':(_0x43ad3b['y']+_0x491339['y'])/0x2};}function getTransformedPoint(_0x1f3ef5,_0x573af3){return{'x':(_0x1f3ef5-scratchpadOffset['x'])/scratchpadScale,'y':(_0x573af3-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x23d64b=_0x4c4cf8;if(!scratchpadCtx)return;const _0x20779c=scratchpadCtx[_0x23d64b(0x3da)],_0x5b2adb=window[_0x23d64b(0x9e6)]||0x1,_0x4de288=document[_0x23d64b(0x967)](_0x23d64b(0x311));_0x4de288&&(_0x4de288[_0x23d64b(0xa49)]['transformOrigin']='0\x200',_0x4de288[_0x23d64b(0xa49)][_0x23d64b(0x288)]=_0x23d64b(0x1ff)+scratchpadOffset['x']+'px,\x20'+scratchpadOffset['y']+_0x23d64b(0xc8c)+scratchpadScale+')'),scratchpadCtx[_0x23d64b(0xabc)](),scratchpadCtx['setTransform'](_0x5b2adb,0x0,0x0,_0x5b2adb,0x0,0x0),scratchpadCtx[_0x23d64b(0x39d)](0x0,0x0,_0x20779c['width'],_0x20779c['height']),scratchpadCtx['restore'](),scratchpadCtx['save'](),scratchpadCtx[_0x23d64b(0x2b0)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x23d64b(0xc01)](scratchpadScale,scratchpadScale),strokes[_0x23d64b(0xa3f)](_0x5d2ac7=>{drawStroke(_0x5d2ac7);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x23d64b(0x437)]();}function renderGroupModeQuestion(){const _0x516d6e=_0x4c4cf8;if(localQuestionIndex>=currentQuizData[_0x516d6e(0x271)]['length']){displayTeamQuizFinalResults();return;}const _0x477149=currentQuizData[_0x516d6e(0x271)][localQuestionIndex],_0x3b8484=_0x477149[_0x516d6e(0x252)]||currentQuizData[_0x516d6e(0xa28)];let _0xc11f9a=_0x477149['stem']||_0x477149[_0x516d6e(0xa42)],_0x4c5ca1='';switch(_0x3b8484){case _0x516d6e(0x474):case _0x516d6e(0x922):_0x4c5ca1=_0x477149['options'][_0x516d6e(0x928)]((_0x52733e,_0x5ad055)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x5ad055+_0x516d6e(0xaeb)+_0x5ad055+_0x516d6e(0xafd)+_0x5ad055+'\x22>'+_0x52733e+_0x516d6e(0x387))[_0x516d6e(0xbe3)]('');break;case'true_false':_0x4c5ca1=_0x516d6e(0x4d9);break;case _0x516d6e(0xa9d):case _0x516d6e(0x5b4):_0x4c5ca1=_0x516d6e(0x79f);break;case _0x516d6e(0xa02):_0x4c5ca1=_0x516d6e(0x2ac)+_0x477149['allResponses'][_0x516d6e(0x928)](_0x3e8bb7=>_0x516d6e(0x63b)+_0x3e8bb7+'\x22>'+_0x3e8bb7+_0x516d6e(0xb96))[_0x516d6e(0xbe3)]('')+_0x516d6e(0xc53);break;default:_0x4c5ca1=_0x516d6e(0x270);break;}studentQuizArea[_0x516d6e(0x66e)]=_0x516d6e(0x2d3)+(localQuestionIndex+0x1)+_0x516d6e(0xb12)+currentQuizData['questions'][_0x516d6e(0xbe0)]+_0x516d6e(0x4e1)+localTeamPlayers[_0x516d6e(0xbe3)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0xc11f9a+_0x516d6e(0x579)+(_0x477149['imageCode']?_0x516d6e(0x89c)+_0x477149['imageCode']+_0x516d6e(0x83b):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x4c5ca1+_0x516d6e(0x409),studentQuizArea['classList']['remove']('hidden');if(window['MathJax'])MathJax[_0x516d6e(0x634)]([studentQuizArea]);document[_0x516d6e(0x967)](_0x516d6e(0xcbb))[_0x516d6e(0x28f)](_0x516d6e(0x526),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x1426b5,_0x475265=null,_0x3cc460,_0x12de7d=null,_0x5c0ece=![],_0x3ba672=null){const _0x5688b4=_0x4c4cf8,_0x11f39f=document['getElementById'](_0x5688b4(0x59b));_0x11f39f&&_0x11f39f[_0x5688b4(0x80c)]({'behavior':_0x5688b4(0xc8f),'block':_0x5688b4(0x40c)}),generateQuiz(_0x1426b5,_0x475265,null,_0x3ba672,!![],_0x3cc460,_0x12de7d,_0x5c0ece);}function handleGenerateAndShowLesson(_0x57b72b,_0x28a75e){const _0xe93f7c=_0x4c4cf8,_0x1909ff=document[_0xe93f7c(0x967)](_0xe93f7c(0x7b6)),_0x595e1f=document[_0xe93f7c(0x967)](_0xe93f7c(0x50e)),_0x35d26b=document['getElementById'](_0xe93f7c(0xa35)),_0x1fbfbb=document['getElementById'](_0xe93f7c(0x8fa));['pointContent',_0xe93f7c(0x86b),_0xe93f7c(0xcbc),_0xe93f7c(0x254)][_0xe93f7c(0xa3f)](_0x12e8bc=>{const _0x20a478=_0xe93f7c,_0x4e014a=document['getElementById'](_0x12e8bc)['parentElement'];_0x4e014a&&(_0x4e014a['style']['display']=_0x20a478(0x9e7));}),_0x595e1f[_0xe93f7c(0xb9a)]='กำลังสร้างบทเรียน:\x20'+_0x57b72b,_0x1fbfbb['classList'][_0xe93f7c(0x602)](_0xe93f7c(0x75c)),_0x35d26b[_0xe93f7c(0x67b)][_0xe93f7c(0x7d5)](_0xe93f7c(0x75c)),_0x1909ff['classList'][_0xe93f7c(0x7d5)]('hidden'),generateLesson(_0x57b72b,_0x28a75e)[_0xe93f7c(0x3f3)](_0x446bbe=>{const _0x8693fd=_0xe93f7c;console[_0x8693fd(0x3f6)](_0x8693fd(0x2cb),_0x446bbe),showMessage(_0x8693fd(0xbc0)),_0x1909ff[_0x8693fd(0x67b)][_0x8693fd(0x602)](_0x8693fd(0x75c));});}function handlePointerDown(_0xdb3e57){const _0x74d392=_0x4c4cf8;_0xdb3e57['preventDefault']();const _0x197594=scratchpadCtx[_0x74d392(0x3da)],_0x12cf83=_0x197594['getBoundingClientRect'](),_0x237a41=_0xdb3e57[_0x74d392(0x9b3)]||(_0xdb3e57[_0x74d392(0x675)]?_0x74d392(0x279):_0x74d392(0xb1a));if(_0x237a41===_0x74d392(0xdf6)||_0x237a41===_0x74d392(0xb1a)){if(_0xdb3e57[_0x74d392(0x9b3)]===_0x74d392(0xb1a)&&_0xdb3e57['button']!==0x0){_0xdb3e57[_0x74d392(0xd6c)]===0x1&&(isMousePanning=!![],panStart={'x':_0xdb3e57[_0x74d392(0x9e4)],'y':_0xdb3e57[_0x74d392(0xb3a)]},_0x197594[_0x74d392(0xa49)]['cursor']=_0x74d392(0x1df));return;}activeTool===_0x74d392(0xab8)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x4bc98c=getTransformedPoint(_0xdb3e57['clientX']-_0x12cf83['left'],_0xdb3e57[_0x74d392(0xb3a)]-_0x12cf83[_0x74d392(0x2c0)]);let _0x21920f={'tool':activeTool,'points':[_0x4bc98c]};if(activeTool===_0x74d392(0xdf6))_0x21920f[_0x74d392(0x511)]=scratchpadPenColor,_0x21920f[_0x74d392(0x2e4)]=scratchpadPenSize;else{if(activeTool==='eraser')_0x21920f[_0x74d392(0x511)]=scratchpadPenColor,_0x21920f['size']=scratchpadEraserSize;else{if(activeTool===_0x74d392(0x36f))_0x21920f['color']=scratchpadHighlighterColor,_0x21920f[_0x74d392(0x2e4)]=scratchpadHighlighterSize;else activeTool==='trail'&&(_0x21920f[_0x74d392(0x511)]=scratchpadPenColor,_0x21920f[_0x74d392(0x2e4)]=scratchpadPenSize);}}currentStroke=_0x21920f;}else _0xdb3e57[_0x74d392(0x675)]&&(_0xdb3e57['touches'][_0x74d392(0xbe0)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0xdb3e57[_0x74d392(0x675)][0x0][_0x74d392(0x9e4)],'y':_0xdb3e57['touches'][0x0][_0x74d392(0xb3a)]},{'x':_0xdb3e57['touches'][0x1][_0x74d392(0x9e4)],'y':_0xdb3e57[_0x74d392(0x675)][0x1][_0x74d392(0xb3a)]}),initialPinchDistance=getDistance({'x':_0xdb3e57[_0x74d392(0x675)][0x0][_0x74d392(0x9e4)],'y':_0xdb3e57[_0x74d392(0x675)][0x0][_0x74d392(0xb3a)]},{'x':_0xdb3e57['touches'][0x1][_0x74d392(0x9e4)],'y':_0xdb3e57['touches'][0x1][_0x74d392(0xb3a)]})));}function animateTrail(){const _0x5557de=_0x4c4cf8,_0xa0d6e2=Date[_0x5557de(0xd7b)]();let _0x3c4b2e=![];for(let _0x288e7b=strokes[_0x5557de(0xbe0)]-0x1;_0x288e7b>=0x0;_0x288e7b--){const _0x3b97d6=strokes[_0x288e7b];if(_0x3b97d6[_0x5557de(0xb27)]===_0x5557de(0xab8)&&_0x3b97d6[_0x5557de(0x5a0)]){const _0x53c221=_0xa0d6e2-_0x3b97d6['fadeStartTime'];_0x53c221>=TRAIL_DURATION?strokes[_0x5557de(0x23f)](_0x288e7b,0x1):(_0x3b97d6[_0x5557de(0x688)]=0x1-_0x53c221/TRAIL_DURATION,_0x3c4b2e=!![]);}}redrawScratchpad(),_0x3c4b2e?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x5899dd){const _0x483c2d=_0x4c4cf8;if(!_0x5899dd||_0x5899dd[_0x483c2d(0x9c8)][_0x483c2d(0xbe0)]<0x1)return;scratchpadCtx[_0x483c2d(0xabc)](),scratchpadCtx[_0x483c2d(0x216)]=_0x483c2d(0x2bc),scratchpadCtx['lineCap']=_0x483c2d(0x2bc);if(_0x5899dd[_0x483c2d(0xb27)]===_0x483c2d(0xab8)){const _0x9ff53e=_0x5899dd['size']/scratchpadScale;scratchpadCtx[_0x483c2d(0x204)]=_0x5899dd[_0x483c2d(0x688)]??0x1,scratchpadCtx[_0x483c2d(0xa57)]=_0x483c2d(0x5d0),scratchpadCtx[_0x483c2d(0x344)]=_0x9ff53e*0x3,scratchpadCtx['strokeStyle']=_0x483c2d(0x6af),scratchpadCtx[_0x483c2d(0x33d)]=_0x9ff53e*2.5,scratchpadCtx[_0x483c2d(0xa8f)](),scratchpadCtx[_0x483c2d(0x810)](_0x5899dd['points'][0x0]['x'],_0x5899dd[_0x483c2d(0x9c8)][0x0]['y']);for(let _0x517d0c=0x1;_0x517d0c<_0x5899dd[_0x483c2d(0x9c8)][_0x483c2d(0xbe0)]-0x1;_0x517d0c++){const _0x3aa8e4=getMidpoint(_0x5899dd[_0x483c2d(0x9c8)][_0x517d0c],_0x5899dd[_0x483c2d(0x9c8)][_0x517d0c+0x1]);scratchpadCtx[_0x483c2d(0xb80)](_0x5899dd[_0x483c2d(0x9c8)][_0x517d0c]['x'],_0x5899dd[_0x483c2d(0x9c8)][_0x517d0c]['y'],_0x3aa8e4['x'],_0x3aa8e4['y']);}scratchpadCtx[_0x483c2d(0x2ae)](),scratchpadCtx[_0x483c2d(0xa57)]=_0x483c2d(0x6fb),scratchpadCtx['shadowBlur']=0x0,scratchpadCtx[_0x483c2d(0x5da)]='#FFFFFF',scratchpadCtx[_0x483c2d(0x33d)]=_0x9ff53e,scratchpadCtx['stroke'](),scratchpadCtx['closePath']();}else{if(_0x5899dd[_0x483c2d(0xb27)]===_0x483c2d(0x36f)){scratchpadCtx[_0x483c2d(0x537)]=_0x483c2d(0xd69),scratchpadCtx[_0x483c2d(0x5da)]=_0x5899dd['color'],scratchpadCtx[_0x483c2d(0x33d)]=_0x5899dd['size'],scratchpadCtx['beginPath'](),scratchpadCtx[_0x483c2d(0x810)](_0x5899dd[_0x483c2d(0x9c8)][0x0]['x'],_0x5899dd[_0x483c2d(0x9c8)][0x0]['y']);for(let _0x3eb9d7=0x1;_0x3eb9d7<_0x5899dd[_0x483c2d(0x9c8)][_0x483c2d(0xbe0)]-0x1;_0x3eb9d7++){const _0x1c8900=getMidpoint(_0x5899dd[_0x483c2d(0x9c8)][_0x3eb9d7],_0x5899dd[_0x483c2d(0x9c8)][_0x3eb9d7+0x1]);scratchpadCtx[_0x483c2d(0xb80)](_0x5899dd[_0x483c2d(0x9c8)][_0x3eb9d7]['x'],_0x5899dd['points'][_0x3eb9d7]['y'],_0x1c8900['x'],_0x1c8900['y']);}scratchpadCtx[_0x483c2d(0x2ae)](),scratchpadCtx[_0x483c2d(0x44c)]();}else{scratchpadCtx['globalCompositeOperation']=_0x5899dd[_0x483c2d(0xb27)]===_0x483c2d(0x68c)?_0x483c2d(0x590):_0x483c2d(0xdca),scratchpadCtx[_0x483c2d(0x5da)]=_0x5899dd[_0x483c2d(0x511)],scratchpadCtx[_0x483c2d(0x33d)]=_0x5899dd['size'],scratchpadCtx[_0x483c2d(0xa8f)](),scratchpadCtx[_0x483c2d(0x810)](_0x5899dd[_0x483c2d(0x9c8)][0x0]['x'],_0x5899dd[_0x483c2d(0x9c8)][0x0]['y']);for(let _0x36ff0c=0x1;_0x36ff0c<_0x5899dd[_0x483c2d(0x9c8)]['length']-0x1;_0x36ff0c++){const _0x5ac7c4=getMidpoint(_0x5899dd[_0x483c2d(0x9c8)][_0x36ff0c],_0x5899dd[_0x483c2d(0x9c8)][_0x36ff0c+0x1]);scratchpadCtx[_0x483c2d(0xb80)](_0x5899dd[_0x483c2d(0x9c8)][_0x36ff0c]['x'],_0x5899dd[_0x483c2d(0x9c8)][_0x36ff0c]['y'],_0x5ac7c4['x'],_0x5ac7c4['y']);}scratchpadCtx['stroke'](),scratchpadCtx[_0x483c2d(0x44c)]();}}scratchpadCtx['restore']();}function handlePointerMove(_0x56aa07){const _0x1ac176=_0x4c4cf8;_0x56aa07['preventDefault']();const _0x4c1f58=scratchpadCtx[_0x1ac176(0x3da)],_0x4dbede=_0x4c1f58[_0x1ac176(0x545)]();if(_0x56aa07[_0x1ac176(0x675)]){if(_0x56aa07[_0x1ac176(0x675)][_0x1ac176(0xbe0)]===0x1&&isDrawingOnScratchpad){const _0x5bf3a3=getTransformedPoint(_0x56aa07[_0x1ac176(0x675)][0x0]['clientX']-_0x4dbede[_0x1ac176(0x343)],_0x56aa07[_0x1ac176(0x675)][0x0][_0x1ac176(0xb3a)]-_0x4dbede[_0x1ac176(0x2c0)]);currentStroke['points'][_0x1ac176(0xb0e)](_0x5bf3a3),redrawScratchpad();}else{if(_0x56aa07[_0x1ac176(0x675)][_0x1ac176(0xbe0)]===0x2&&isPanning){const _0x119bbc=getDistance({'x':_0x56aa07[_0x1ac176(0x675)][0x0][_0x1ac176(0x9e4)],'y':_0x56aa07[_0x1ac176(0x675)][0x0][_0x1ac176(0xb3a)]},{'x':_0x56aa07['touches'][0x1][_0x1ac176(0x9e4)],'y':_0x56aa07['touches'][0x1]['clientY']}),_0x60997b=getMidpoint({'x':_0x56aa07[_0x1ac176(0x675)][0x0][_0x1ac176(0x9e4)],'y':_0x56aa07[_0x1ac176(0x675)][0x0][_0x1ac176(0xb3a)]},{'x':_0x56aa07[_0x1ac176(0x675)][0x1][_0x1ac176(0x9e4)],'y':_0x56aa07[_0x1ac176(0x675)][0x1][_0x1ac176(0xb3a)]}),_0x7bd7ea=_0x119bbc/ initialPinchDistance,_0x1d008c=Math['min'](Math[_0x1ac176(0x940)](scratchpadScale*_0x7bd7ea,MIN_SCALE),MAX_SCALE),_0x54cde7=_0x60997b['x']-panStart['x'],_0x1f1c16=_0x60997b['y']-panStart['y'];scratchpadOffset['x']=_0x60997b['x']-(_0x60997b['x']-scratchpadOffset['x'])*(_0x1d008c/scratchpadScale),scratchpadOffset['y']=_0x60997b['y']-(_0x60997b['y']-scratchpadOffset['y'])*(_0x1d008c/scratchpadScale),scratchpadOffset['x']+=_0x54cde7,scratchpadOffset['y']+=_0x1f1c16,scratchpadScale=_0x1d008c,initialPinchDistance=_0x119bbc,panStart=_0x60997b,redrawScratchpad();}}}else{if(isMousePanning){const _0x39f4d8=_0x56aa07['clientX']-panStart['x'],_0x4900ea=_0x56aa07[_0x1ac176(0xb3a)]-panStart['y'];scratchpadOffset['x']+=_0x39f4d8,scratchpadOffset['y']+=_0x4900ea,panStart={'x':_0x56aa07[_0x1ac176(0x9e4)],'y':_0x56aa07['clientY']},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x10fcbc=getTransformedPoint(_0x56aa07['clientX']-_0x4dbede[_0x1ac176(0x343)],_0x56aa07[_0x1ac176(0xb3a)]-_0x4dbede[_0x1ac176(0x2c0)]);currentStroke[_0x1ac176(0x9c8)][_0x1ac176(0xb0e)](_0x10fcbc),redrawScratchpad();}}}}function handlePointerUp(_0xf37137){const _0x4e8d1d=_0x4c4cf8;_0xf37137['preventDefault']();const _0x50179f=scratchpadCtx[_0x4e8d1d(0x3da)];isMousePanning&&(isMousePanning=![],_0x50179f[_0x4e8d1d(0xa49)][_0x4e8d1d(0x2e5)]='default'),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x4e8d1d(0x9c8)]['length']>0x1&&(strokes[_0x4e8d1d(0xb0e)](currentStroke),currentStroke['tool']===_0x4e8d1d(0xab8)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x4e5037=_0x4e8d1d,_0x199b06=strokes[_0x4e5037(0x3d0)](_0x31d1a3=>_0x31d1a3[_0x4e5037(0xb27)]==='trail'&&!_0x31d1a3['fadeStartTime']);if(_0x199b06[_0x4e5037(0xbe0)]>0x0){const _0x3b5afa=Date[_0x4e5037(0xd7b)]();_0x199b06['forEach'](_0x220031=>_0x220031[_0x4e5037(0x5a0)]=_0x3b5afa),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x4775d8){const _0xd46353=_0x4c4cf8;_0x4775d8[_0xd46353(0x6c3)]();const _0x55a766=_0x4775d8[_0xd46353(0xc71)]*-0.005,_0x27b909=Math[_0xd46353(0x49e)](Math[_0xd46353(0x940)](scratchpadScale+_0x55a766,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x4775d8['clientX']-(_0x4775d8['clientX']-scratchpadOffset['x'])*(_0x27b909/scratchpadScale),scratchpadOffset['y']=_0x4775d8[_0xd46353(0xb3a)]-(_0x4775d8['clientY']-scratchpadOffset['y'])*(_0x27b909/scratchpadScale),scratchpadScale=_0x27b909,redrawScratchpad();}function undo(){const _0x20851c=_0x4c4cf8;strokes['length']>0x0&&(redoStrokes[_0x20851c(0xb0e)](strokes[_0x20851c(0x2ad)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x5a0932=_0x4c4cf8;redoStrokes['length']>0x0&&(strokes[_0x5a0932(0xb0e)](redoStrokes[_0x5a0932(0x2ad)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x47bd43=_0x4c4cf8;document[_0x47bd43(0x967)](_0x47bd43(0x9c9))[_0x47bd43(0x367)]=strokes[_0x47bd43(0xbe0)]===0x0,document[_0x47bd43(0x967)](_0x47bd43(0x1f8))[_0x47bd43(0x367)]=redoStrokes['length']===0x0;}function openScratchpad(_0x59cd46,_0x133919){const _0x115db9=_0x4c4cf8,_0x2ee78b=document[_0x115db9(0x967)](_0x115db9(0x464)),_0x4dc99b=document['getElementById']('scratchpad-question'),_0x4ab9c3=document['getElementById'](_0x115db9(0x6e0)),_0x58d73a=document[_0x115db9(0x967)](_0x115db9(0xab2));_0x4dc99b[_0x115db9(0x66e)]=_0x59cd46[_0x115db9(0xcc5)]||_0x59cd46[_0x115db9(0xa42)],_0x4ab9c3[_0x115db9(0x66e)]=_0x133919[_0x115db9(0x928)]((_0x28ef34,_0x532efc)=>'<div>'+String[_0x115db9(0x2a6)](0x41+_0x532efc)+'.\x20'+_0x28ef34+'</div>')[_0x115db9(0xbe3)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x2ee78b[_0x115db9(0x67b)][_0x115db9(0x7d5)](_0x115db9(0x75c)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x115db9(0x7a4)])MathJax[_0x115db9(0x634)]([_0x4dc99b,_0x4ab9c3]);}function openBlueprintQuizSettings(){const _0xe33ea1=_0x4c4cf8,_0x2ea00b=document[_0xe33ea1(0x967)](_0xe33ea1(0x685)),_0x2fee74=blueprintPageSettings||(currentProjectData?currentProjectData[_0xe33ea1(0x793)]:{})||{};document[_0xe33ea1(0x967)](_0xe33ea1(0x6a5))['value']=_0x2fee74['quizType']||document[_0xe33ea1(0x967)](_0xe33ea1(0xb1b))[_0xe33ea1(0x734)],document['getElementById'](_0xe33ea1(0x21e))['innerHTML']=document[_0xe33ea1(0x967)](_0xe33ea1(0x5ce))[_0xe33ea1(0x66e)],document[_0xe33ea1(0x967)](_0xe33ea1(0x21e))['value']=_0x2fee74['difficultyValue']||document['getElementById'](_0xe33ea1(0x5ce))[_0xe33ea1(0x734)],document[_0xe33ea1(0x967)](_0xe33ea1(0xa3a))['innerHTML']=document[_0xe33ea1(0x967)](_0xe33ea1(0x43a))[_0xe33ea1(0x66e)],document['getElementById'](_0xe33ea1(0xa3a))[_0xe33ea1(0x734)]=_0x2fee74['complexityValue']||document[_0xe33ea1(0x967)](_0xe33ea1(0x43a))['value'],document[_0xe33ea1(0x967)](_0xe33ea1(0xb62))[_0xe33ea1(0x734)]=_0x2fee74[_0xe33ea1(0x5f7)]||document[_0xe33ea1(0x967)](_0xe33ea1(0x304))[_0xe33ea1(0x734)],document['getElementById'](_0xe33ea1(0x5f2))[_0xe33ea1(0x734)]=_0x2fee74['passingScore']||document[_0xe33ea1(0x967)](_0xe33ea1(0x57e))[_0xe33ea1(0x734)],document[_0xe33ea1(0x967)](_0xe33ea1(0x8ef))[_0xe33ea1(0x734)]=_0x2fee74[_0xe33ea1(0x5a5)]||document[_0xe33ea1(0x967)]('num-choices')['value'],document[_0xe33ea1(0x967)](_0xe33ea1(0xba4))[_0xe33ea1(0x734)]=_0x2fee74[_0xe33ea1(0x79e)]||document['getElementById'](_0xe33ea1(0x5a6))['value'],document['getElementById'](_0xe33ea1(0x9b8))[_0xe33ea1(0x4c6)]=_0x2fee74[_0xe33ea1(0xc60)]||document[_0xe33ea1(0x967)](_0xe33ea1(0x3a8))[_0xe33ea1(0x4c6)],_0x2ea00b[_0xe33ea1(0x67b)][_0xe33ea1(0x7d5)]('hidden');}function handleSaveBlueprintPageSettings(){const _0x3d19ca=_0x4c4cf8;blueprintPageSettings={'quizType':document['getElementById'](_0x3d19ca(0x6a5))[_0x3d19ca(0x734)],'difficultyValue':document[_0x3d19ca(0x967)](_0x3d19ca(0x21e))[_0x3d19ca(0x734)],'complexityValue':document['getElementById'](_0x3d19ca(0xa3a))[_0x3d19ca(0x734)],'numQuestions':document[_0x3d19ca(0x967)](_0x3d19ca(0xb62))['value'],'passingScore':document[_0x3d19ca(0x967)](_0x3d19ca(0x5f2))[_0x3d19ca(0x734)],'numChoices':document[_0x3d19ca(0x967)](_0x3d19ca(0x8ef))[_0x3d19ca(0x734)],'shuffle':document[_0x3d19ca(0x967)](_0x3d19ca(0xba4))['value'],'includeImages':document[_0x3d19ca(0x967)](_0x3d19ca(0x9b8))[_0x3d19ca(0x4c6)]},showMessage(_0x3d19ca(0x4c5)),document[_0x3d19ca(0x967)](_0x3d19ca(0x685))[_0x3d19ca(0x67b)]['add'](_0x3d19ca(0x75c));}function listenForParallelTestShortcuts(){const _0x1fbafd=_0x4c4cf8,_0x58bd8d=doc(db,_0x1fbafd(0x430),_0x1fbafd(0xa01));onSnapshot(_0x58bd8d,_0xcb011a=>{const _0x439d8b=_0x1fbafd;let _0x36822f=[],_0x46e29b=[],_0x46b66b={};if(_0xcb011a['exists']()){const _0x3b825b=_0xcb011a['data']();_0x36822f=_0x3b825b['shortcuts']||[],_0x46e29b=_0x3b825b[_0x439d8b(0x8e9)]||[],_0x46b66b=_0x3b825b['parallelShortcutOrder']||{};}!_0x46e29b[_0x439d8b(0x4c4)](_0x16a27e=>_0x16a27e['id']===_0x439d8b(0xa9a))&&_0x46e29b[_0x439d8b(0x2d5)]({'id':'all','name':_0x439d8b(0xcaa),'isDefault':!![]}),!_0x36822f[_0x439d8b(0x4c4)](_0x5c2ad5=>_0x5c2ad5['id']===_0x439d8b(0x59e))&&_0x36822f['unshift']({'id':_0x439d8b(0x59e),'name':_0x439d8b(0xa2d),'url':'','isDefault':!![]}),!_0x36822f[_0x439d8b(0x4c4)](_0x242ed9=>_0x242ed9['id']===_0x439d8b(0x258))&&_0x36822f['unshift']({'id':_0x439d8b(0x258),'name':_0x439d8b(0x6c4),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x36822f,parallelShortcutTabs=_0x46e29b,parallelShortcutOrder=_0x46b66b,renderParallelTestShortcuts(),!document[_0x439d8b(0x967)](_0x439d8b(0x475))[_0x439d8b(0x67b)][_0x439d8b(0x8de)](_0x439d8b(0x75c))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x5e013d=_0x4c4cf8,_0x260fd7=doc(db,_0x5e013d(0x430),'parallelTestShortcutsConfig');try{await setDoc(_0x260fd7,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x5b4eda){console[_0x5e013d(0x3f6)]('Error\x20saving\x20parallel\x20shortcut\x20config:',_0x5b4eda);}}function renderAdditionalParallelShortcutsModal(){const _0x35b001=_0x4c4cf8,_0x28d98e=document['getElementById']('parallel-shortcut-tabs-nav'),_0x59cbaa=document[_0x35b001(0x967)](_0x35b001(0x653));if(!_0x28d98e||!_0x59cbaa)return;_0x28d98e['innerHTML']=parallelShortcutTabs[_0x35b001(0x928)](_0x545eda=>{const _0x5200fd=_0x35b001,_0x105d8b=_0x545eda['id']===activeParallelShortcutTabId;return _0x5200fd(0x56f)+_0x545eda['id']+_0x5200fd(0x36b)+(_0x105d8b?_0x5200fd(0x4f4):'border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300')+_0x5200fd(0xd1a)+_0x545eda[_0x5200fd(0x7e7)]+_0x5200fd(0xb34)+_0x545eda['name']+_0x5200fd(0x69e)+(!_0x545eda[_0x5200fd(0x6ec)]?_0x5200fd(0x38c)+_0x545eda['id']+'\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+_0x5200fd(0x887);})['join']('');const _0x204ee8=parallelShortcutTabs['find'](_0x5e1d04=>_0x5e1d04['id']===activeParallelShortcutTabId);let _0x5be0e8=_0x204ee8?.['isDefault']?[...parallelTestShortcuts]:parallelTestShortcuts['filter'](_0x1d6d5b=>(_0x204ee8?.[_0x35b001(0x3ec)]||[])[_0x35b001(0xb02)](_0x1d6d5b['id']));const _0x37e7f7=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x5be0e8[_0x35b001(0x8a7)]((_0x3540c6,_0x8b99a5)=>{const _0x4ddd7a=_0x35b001,_0xf6b38=_0x37e7f7['indexOf'](_0x3540c6['id']),_0x478ba1=_0x37e7f7[_0x4ddd7a(0xbf6)](_0x8b99a5['id']);return(_0xf6b38===-0x1?Infinity:_0xf6b38)-(_0x478ba1===-0x1?Infinity:_0x478ba1);}),_0x59cbaa[_0x35b001(0x66e)]=_0x5be0e8[_0x35b001(0x928)](_0xaca73e=>{const _0x5813b3=_0x35b001,_0x181ec1=_0xaca73e['url']?'🔁':'🔗',_0x134666=parallelShortcutTabs[_0x5813b3(0x3d0)](_0x307b2b=>!_0x307b2b[_0x5813b3(0x6ec)]),_0x1c7947=_0x204ee8[_0x5813b3(0x6ec)]&&_0x134666[_0x5813b3(0xbe0)]>0x0?_0x5813b3(0x80a)+_0x134666[_0x5813b3(0x928)](_0x98e294=>_0x5813b3(0xdcb)+_0xaca73e['id']+_0x5813b3(0xabd)+_0x98e294['id']+'\x22>'+_0x98e294[_0x5813b3(0x7e7)]+'</a>')[_0x5813b3(0xbe3)]('')+_0x5813b3(0xd73):'';return _0x5813b3(0x398)+_0xaca73e['id']+_0x5813b3(0xca0)+_0x181ec1+'\x20'+_0xaca73e[_0x5813b3(0x7e7)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xaca73e['id']+_0x5813b3(0xbb3)+_0xaca73e['id']+_0x5813b3(0x299)+(!_0xaca73e[_0x5813b3(0x6ec)]?_0x5813b3(0x902)+_0xaca73e['id']+_0x5813b3(0xbd0):'')+_0x5813b3(0xb0c)+(!_0x204ee8[_0x5813b3(0x6ec)]?_0x5813b3(0x3cb)+_0xaca73e['id']+_0x5813b3(0x37a):'')+_0x5813b3(0xb0c)+_0x1c7947+_0x5813b3(0xdc1);})['join']('')||_0x35b001(0x7d1),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x145196=_0x4c4cf8;document['querySelectorAll'](_0x145196(0x978))[_0x145196(0xa3f)](_0x4a046b=>{const _0x38b49d=_0x145196;_0x4a046b[_0x38b49d(0x508)]=_0xa75660=>{const _0x22bbe0=_0x38b49d;activeParallelShortcutTabId=_0xa75660[_0x22bbe0(0xd66)][_0x22bbe0(0x305)]['tabId'],renderAdditionalParallelShortcutsModal();},_0x4a046b[_0x38b49d(0x6be)]=_0x506d4d=>{const _0x4df15a=_0x38b49d,_0x429012=_0x506d4d[_0x4df15a(0xd66)][_0x4df15a(0x5c7)](_0x4df15a(0x365));_0x506d4d[_0x4df15a(0xd66)][_0x4df15a(0x5c7)](_0x4df15a(0x7dc))[_0x4df15a(0x67b)][_0x4df15a(0x602)]('hidden'),_0x429012[_0x4df15a(0x67b)][_0x4df15a(0x7d5)](_0x4df15a(0x75c)),_0x429012[_0x4df15a(0x44f)](),_0x429012['select']();};}),document[_0x145196(0xdd7)]('#parallel-shortcut-tabs-nav\x20.tab-name-input')[_0x145196(0xa3f)](_0x40be7f=>{const _0x38bf87=_0x145196,_0x48779c=()=>{const _0x1d835e=_0x3869,_0x5e3972=_0x40be7f[_0x1d835e(0xbc5)](_0x1d835e(0x978))['dataset']['tabId'],_0x2ed185=parallelShortcutTabs[_0x1d835e(0x4c4)](_0x51f632=>_0x51f632['id']===_0x5e3972);_0x2ed185&&(_0x2ed185[_0x1d835e(0x7e7)]=_0x40be7f[_0x1d835e(0x734)][_0x1d835e(0x46b)]()||_0x2ed185[_0x1d835e(0x7e7)],saveParallelShortcutConfig());};_0x40be7f['onblur']=_0x48779c,_0x40be7f[_0x38bf87(0x2c3)]=_0x32c251=>{const _0x3d833d=_0x38bf87;if(_0x32c251[_0x3d833d(0x6d8)]===_0x3d833d(0xb61))_0x40be7f['blur']();};}),document[_0x145196(0xdd7)](_0x145196(0xa6e))['forEach'](_0x3cf115=>_0x3cf115[_0x145196(0x508)]=_0x49f21a=>{const _0x526023=_0x145196,_0x44572b=_0x49f21a['currentTarget']['dataset']['tabId'];showConfirmation(_0x526023(0x362),()=>{const _0x42d911=_0x526023;parallelShortcutTabs=parallelShortcutTabs[_0x42d911(0x3d0)](_0x500449=>_0x500449['id']!==_0x44572b),delete parallelShortcutOrder[_0x44572b];if(activeParallelShortcutTabId===_0x44572b)activeParallelShortcutTabId='all';saveParallelShortcutConfig();});}),document[_0x145196(0xdd7)](_0x145196(0xc87))[_0x145196(0xa3f)](_0x39d0d0=>_0x39d0d0[_0x145196(0x508)]=_0x5183c1=>{const _0xa425f8=_0x145196;_0x5183c1[_0xa425f8(0x6c3)]();const {shortcutId:_0x16b01b,targetTabId:_0x5eb691}=_0x5183c1[_0xa425f8(0xd66)][_0xa425f8(0x305)],_0x53e533=parallelShortcutTabs[_0xa425f8(0x4c4)](_0x2cf893=>_0x2cf893['id']===_0x5eb691);_0x53e533&&!_0x53e533[_0xa425f8(0x3ec)][_0xa425f8(0xb02)](_0x16b01b)&&(_0x53e533[_0xa425f8(0x3ec)][_0xa425f8(0xb0e)](_0x16b01b),saveParallelShortcutConfig());}),document[_0x145196(0xdd7)]('.remove-parallel-shortcut-from-tab-btn')[_0x145196(0xa3f)](_0x39e4c2=>_0x39e4c2[_0x145196(0x508)]=_0x483841=>{const _0x2d4f03=_0x145196,_0x1285e9=_0x483841[_0x2d4f03(0xd66)][_0x2d4f03(0x305)]['shortcutId'],_0x5524ff=parallelShortcutTabs['find'](_0x4c56c4=>_0x4c56c4['id']===activeParallelShortcutTabId);_0x5524ff&&!_0x5524ff[_0x2d4f03(0x6ec)]&&(_0x5524ff['shortcutIds']=_0x5524ff[_0x2d4f03(0x3ec)][_0x2d4f03(0x3d0)](_0x33915d=>_0x33915d!==_0x1285e9),saveParallelShortcutConfig());}),document['querySelectorAll'](_0x145196(0xc5f))[_0x145196(0xa3f)](_0x590748=>_0x590748[_0x145196(0x508)]=_0x4b38ff=>{const _0x5bf381=_0x145196;_0x4b38ff['stopPropagation']();const _0x23e5d9=_0x4b38ff[_0x5bf381(0xd66)][_0x5bf381(0x72c)];document[_0x5bf381(0xdd7)]('.move-parallel-shortcut-dropdown')[_0x5bf381(0xa3f)](_0x3cd344=>_0x3cd344[_0x5bf381(0x67b)][_0x5bf381(0x602)]('hidden')),_0x23e5d9[_0x5bf381(0x67b)]['remove'](_0x5bf381(0x75c));});const _0x3c0e5f=document[_0x145196(0x967)](_0x145196(0x653));let _0x279fd2=null;_0x3c0e5f['ondragstart']=_0x587385=>{const _0x24e6ef=_0x145196;_0x279fd2=_0x587385[_0x24e6ef(0xae7)][_0x24e6ef(0xbc5)](_0x24e6ef(0xb15));if(_0x279fd2)setTimeout(()=>_0x279fd2[_0x24e6ef(0x67b)][_0x24e6ef(0x602)](_0x24e6ef(0xa00)),0x0);},_0x3c0e5f[_0x145196(0xa5c)]=()=>{const _0x4c8935=_0x145196;_0x279fd2&&(_0x279fd2[_0x4c8935(0x67b)][_0x4c8935(0x7d5)]('opacity-50'),_0x279fd2=null);},_0x3c0e5f[_0x145196(0xaf6)]=_0x47de39=>{const _0x3f5137=_0x145196;_0x47de39[_0x3f5137(0x6c3)]();},_0x3c0e5f['ondrop']=_0x27b746=>{const _0x4a4813=_0x145196;_0x27b746[_0x4a4813(0x6c3)]();if(_0x279fd2){const _0x1b5737=[..._0x3c0e5f[_0x4a4813(0xdd7)]('.shortcut-list-item:not(.opacity-50)')]['reduce']((_0x370a54,_0x5c9472)=>{const _0x46a0b0=_0x4a4813,_0x1c52ad=_0x5c9472['getBoundingClientRect'](),_0x57edf2=_0x27b746[_0x46a0b0(0xb3a)]-_0x1c52ad[_0x46a0b0(0x2c0)]-_0x1c52ad[_0x46a0b0(0x761)]/0x2;return _0x57edf2<0x0&&_0x57edf2>_0x370a54[_0x46a0b0(0xce0)]?{'offset':_0x57edf2,'element':_0x5c9472}:_0x370a54;},{'offset':Number[_0x4a4813(0x637)]})[_0x4a4813(0x67d)];_0x1b5737==null?_0x3c0e5f[_0x4a4813(0xbf4)](_0x279fd2):_0x3c0e5f[_0x4a4813(0x2ff)](_0x279fd2,_0x1b5737);const _0x14bdb2=[..._0x3c0e5f[_0x4a4813(0xdd7)](_0x4a4813(0xb15))][_0x4a4813(0x928)](_0x478349=>_0x478349[_0x4a4813(0x305)][_0x4a4813(0x94b)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x14bdb2,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x196065=_0x4c4cf8,_0x2dd7dc=prompt(_0x196065(0x7b5),'แท็บใหม่');_0x2dd7dc&&_0x2dd7dc[_0x196065(0x46b)]()&&(parallelShortcutTabs[_0x196065(0xb0e)]({'id':_0x196065(0x777)+Date[_0x196065(0xd7b)](),'name':_0x2dd7dc[_0x196065(0x46b)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0xae6f9=_0x4c4cf8,_0x3b2f47=document[_0xae6f9(0x967)](_0xae6f9(0xd25)),_0x33b584=document[_0xae6f9(0x967)](_0xae6f9(0x653)),_0x2876be=document['getElementById'](_0xae6f9(0x7b2));if(_0x2876be)_0x2876be['classList']['add']('hidden');if(!_0x3b2f47||!_0x33b584)return;const _0x53cf6f=parallelTestShortcuts[_0xae6f9(0x732)](0x0,0x4),_0x2e6e56=parallelTestShortcuts['slice'](0x4);_0x3b2f47[_0xae6f9(0x66e)]=_0x53cf6f['map'](_0x3ae7e9=>{const _0x422cff=_0xae6f9,_0x549867=_0x3ae7e9[_0x422cff(0x376)]&&_0x3ae7e9[_0x422cff(0x376)]['trim']()!=='',_0x56783b=_0x549867?_0x422cff(0x941):_0x422cff(0x865),_0x382a9f=_0x549867?'🔁':'🔗',_0x47eda6=!_0x3ae7e9[_0x422cff(0x6ec)]?_0x422cff(0x902)+_0x3ae7e9['id']+_0x422cff(0x542):'';return _0x422cff(0xdbe)+_0x3ae7e9['id']+_0x422cff(0x7c3)+_0x56783b+_0x422cff(0xc7b)+_0x382a9f+'\x20'+_0x3ae7e9[_0x422cff(0x7e7)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3ae7e9['id']+_0x422cff(0xb77)+_0x47eda6+_0x422cff(0xcbd);})[_0xae6f9(0xbe3)](''),_0x2e6e56['length']>0x0&&(_0x3b2f47['innerHTML']+=_0xae6f9(0x38d)),_0x2e6e56['length']>0x0?_0x33b584[_0xae6f9(0x66e)]=_0x2e6e56[_0xae6f9(0x928)](_0x513b43=>_0xae6f9(0xb91)+(_0x513b43[_0xae6f9(0x376)]?'🔁':'🔗')+'\x20'+_0x513b43[_0xae6f9(0x7e7)]+_0xae6f9(0xc5d)+_0x513b43['id']+'\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x513b43['id']+_0xae6f9(0x93a)+(!_0x513b43[_0xae6f9(0x6ec)]?_0xae6f9(0x902)+_0x513b43['id']+_0xae6f9(0xbd0):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0xae6f9(0xbe3)](''):_0x33b584[_0xae6f9(0x66e)]=_0xae6f9(0xc2d);}function openParallelTestShortcutEditor(_0x4410f0=null){const _0x32911e=_0x4c4cf8,_0x133d2c=document[_0x32911e(0x967)]('parallel-shortcut-editor-modal'),_0x5448e0=document['getElementById'](_0x32911e(0xdfd)),_0x590721=document['getElementById'](_0x32911e(0xd61)),_0x5f5732=document['getElementById']('parallel-shortcut-name-input'),_0x507f84=document[_0x32911e(0x967)]('parallel-shortcut-url-input');if(_0x4410f0){const _0x5e905c=parallelTestShortcuts[_0x32911e(0x4c4)](_0x321c0a=>_0x321c0a['id']===_0x4410f0);if(!_0x5e905c)return;_0x5448e0[_0x32911e(0xb9a)]=_0x32911e(0x7f8),_0x590721[_0x32911e(0x734)]=_0x5e905c['id'],_0x5f5732[_0x32911e(0x734)]=_0x5e905c[_0x32911e(0x7e7)],_0x507f84[_0x32911e(0x734)]=_0x5e905c[_0x32911e(0x376)]||'';}else _0x5448e0[_0x32911e(0xb9a)]=_0x32911e(0x3b9),_0x590721[_0x32911e(0x734)]='',_0x5f5732[_0x32911e(0x734)]='',_0x507f84[_0x32911e(0x734)]='';_0x133d2c['classList']['remove']('hidden');}async function saveParallelTestShortcutChanges(){const _0x3ea529=_0x4c4cf8,_0x4816b1=document[_0x3ea529(0x967)](_0x3ea529(0xd61))[_0x3ea529(0x734)],_0x56c2dd=document[_0x3ea529(0x967)](_0x3ea529(0xb69))['value'][_0x3ea529(0x46b)](),_0x4905ab=document[_0x3ea529(0x967)](_0x3ea529(0xa1b))['value'][_0x3ea529(0x46b)]();if(!_0x56c2dd){showMessage(_0x3ea529(0x995));return;}const _0x45ef05={'id':_0x4816b1||_0x3ea529(0x898)+Date['now'](),'name':_0x56c2dd,'url':_0x4905ab,'isDefault':_0x4816b1[_0x3ea529(0x2e2)](_0x3ea529(0x8e2))};let _0x5a1a5f;_0x4816b1?_0x5a1a5f=parallelTestShortcuts[_0x3ea529(0x928)](_0x11d748=>_0x11d748['id']===_0x4816b1?_0x45ef05:_0x11d748):_0x5a1a5f=[...parallelTestShortcuts,_0x45ef05];try{const _0x5e2afc=doc(db,_0x3ea529(0x430),'parallelTestShortcutsConfig');await setDoc(_0x5e2afc,{'shortcuts':_0x5a1a5f},{'merge':!![]}),document[_0x3ea529(0x967)](_0x3ea529(0x614))[_0x3ea529(0x67b)][_0x3ea529(0x602)](_0x3ea529(0x75c));}catch(_0x28042e){console[_0x3ea529(0x3f6)](_0x3ea529(0x5e9),_0x28042e),showMessage(_0x3ea529(0x843));}}async function handleParallelTestShortcutClick(_0x485c38){const _0x1050a6=_0x4c4cf8,_0x45cbce=parallelTestShortcuts[_0x1050a6(0x4c4)](_0x133fae=>_0x133fae['id']===_0x485c38);if(!_0x45cbce)return;if(!_0x45cbce[_0x1050a6(0x376)]||_0x45cbce[_0x1050a6(0x376)][_0x1050a6(0x46b)]()===''){openParallelTestShortcutEditor(_0x485c38);return;}const _0xf8247a=document[_0x1050a6(0x967)]('loader'),_0x2ec51f=document[_0x1050a6(0x967)]('loader-text');document[_0x1050a6(0x967)](_0x1050a6(0x59b))[_0x1050a6(0x67b)]['remove']('hidden'),document[_0x1050a6(0x967)](_0x1050a6(0x28d))['innerHTML']='',_0xf8247a[_0x1050a6(0x67b)][_0x1050a6(0x7d5)](_0x1050a6(0x75c)),_0x2ec51f[_0x1050a6(0xb9a)]=_0x1050a6(0xb39);try{let _0x51cd0d;_0x45cbce[_0x1050a6(0x376)][_0x1050a6(0x660)]()[_0x1050a6(0xb02)](_0x1050a6(0xab4))?_0x51cd0d=_0x1050a6(0xaa1):_0x51cd0d=_0x1050a6(0x784);const _0xd5c42a=await fetchFileFromUrl(_0x45cbce[_0x1050a6(0x376)],_0x51cd0d);await handleGenerateParallelTest(_0xd5c42a);}catch(_0x23ad66){console[_0x1050a6(0x3f6)](_0x1050a6(0x726),_0x23ad66),showMessage('เกิดข้อผิดพลาด:\x20'+_0x23ad66['message']),_0xf8247a[_0x1050a6(0x67b)]['add'](_0x1050a6(0x75c));}}function initializeScratchpadCanvas(){const _0x3baf50=_0x4c4cf8,_0x11dcd0=document[_0x3baf50(0x967)]('scratchpad-canvas'),_0x292be4=document[_0x3baf50(0x5c7)](_0x3baf50(0x7bc));if(!_0x11dcd0||!_0x292be4)return;scratchpadCtx=_0x11dcd0[_0x3baf50(0x3ee)]('2d',{'willReadFrequently':!![]});const _0x5701b9=window[_0x3baf50(0x9e6)]||0x1,_0x40c6b5=_0x292be4[_0x3baf50(0x545)]();_0x11dcd0[_0x3baf50(0xc2a)]=_0x40c6b5[_0x3baf50(0xc2a)]*_0x5701b9,_0x11dcd0[_0x3baf50(0x761)]=_0x40c6b5[_0x3baf50(0x761)]*_0x5701b9,_0x11dcd0['style']['width']=_0x40c6b5[_0x3baf50(0xc2a)]+'px',_0x11dcd0[_0x3baf50(0xa49)]['height']=_0x40c6b5[_0x3baf50(0x761)]+'px',scratchpadCtx[_0x3baf50(0xc01)](_0x5701b9,_0x5701b9),scratchpadCtx['lineJoin']=_0x3baf50(0x2bc),scratchpadCtx['lineCap']=_0x3baf50(0x2bc),_0x11dcd0[_0x3baf50(0x965)](_0x3baf50(0x7fb),handlePointerDown),_0x11dcd0[_0x3baf50(0x965)]('pointermove',handlePointerMove),_0x11dcd0['removeEventListener'](_0x3baf50(0x714),handlePointerUp),_0x11dcd0[_0x3baf50(0x965)](_0x3baf50(0x611),handlePointerUp),_0x11dcd0[_0x3baf50(0x965)]('wheel',handleWheel),_0x11dcd0[_0x3baf50(0x965)](_0x3baf50(0xc33),handlePointerDown),_0x11dcd0[_0x3baf50(0x965)]('touchmove',handlePointerMove),_0x11dcd0[_0x3baf50(0x965)]('touchend',handlePointerUp),_0x11dcd0[_0x3baf50(0x28f)](_0x3baf50(0x7fb),handlePointerDown),_0x11dcd0[_0x3baf50(0x28f)](_0x3baf50(0xbf0),handlePointerMove),_0x11dcd0['addEventListener']('pointerup',handlePointerUp),_0x11dcd0[_0x3baf50(0x28f)](_0x3baf50(0x611),handlePointerUp),_0x11dcd0[_0x3baf50(0x28f)](_0x3baf50(0x2c7),handleWheel,{'passive':![]}),_0x11dcd0[_0x3baf50(0x28f)](_0x3baf50(0xc33),handlePointerDown,{'passive':![]}),_0x11dcd0[_0x3baf50(0x28f)](_0x3baf50(0x75d),handlePointerMove,{'passive':![]}),_0x11dcd0[_0x3baf50(0x28f)](_0x3baf50(0xc98),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x4b5e4b=_0x4c4cf8,_0x3959ef=document['getElementById'](_0x4b5e4b(0x464)),_0x1bc60d=document[_0x4b5e4b(0x967)]('scratchpad-controls');_0x1bc60d[_0x4b5e4b(0x66e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>'+scratchpadHighlighterSize+_0x4b5e4b(0x93e);const _0x49c42b=document[_0x4b5e4b(0x967)]('pen-tool-btn'),_0x1814ea=document[_0x4b5e4b(0x967)](_0x4b5e4b(0x679)),_0xe43b95=document[_0x4b5e4b(0x967)](_0x4b5e4b(0x3b7)),_0x1f44cd=document[_0x4b5e4b(0x967)](_0x4b5e4b(0x87b)),_0x4783c8=document[_0x4b5e4b(0x967)]('pen-tools-group'),_0x19a1ad=document['getElementById']('highlighter-tools-group'),_0x30d2ce=document['getElementById']('eraser-tools-group'),_0x5a7ca8=[_0x49c42b,_0x1814ea,_0xe43b95,_0x1f44cd];document[_0x4b5e4b(0x967)](_0x4b5e4b(0x8bc))['addEventListener'](_0x4b5e4b(0x526),()=>_0x3959ef[_0x4b5e4b(0x67b)][_0x4b5e4b(0x602)](_0x4b5e4b(0x75c))),document[_0x4b5e4b(0x967)]('reset-view-btn')[_0x4b5e4b(0x28f)]('click',()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document['getElementById']('scratchpad-clear-btn')[_0x4b5e4b(0x28f)](_0x4b5e4b(0x526),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x4b5e4b(0x967)]('undo-btn')[_0x4b5e4b(0x28f)](_0x4b5e4b(0x526),undo),document[_0x4b5e4b(0x967)](_0x4b5e4b(0x1f8))['addEventListener'](_0x4b5e4b(0x526),redo);const _0x519bf8=_0x1de181=>{const _0x4a3553=_0x4b5e4b;_0x5a7ca8['forEach'](_0x317011=>_0x317011['classList'][_0x4a3553(0x7d5)]('active')),_0x1de181[_0x4a3553(0x67b)]['add'](_0x4a3553(0xb29)),_0x4783c8[_0x4a3553(0x67b)][_0x4a3553(0x602)]('hidden'),_0x19a1ad[_0x4a3553(0x67b)]['add'](_0x4a3553(0x75c)),_0x30d2ce[_0x4a3553(0x67b)]['add'](_0x4a3553(0x75c));if(activeTool===_0x4a3553(0xdf6)||activeTool==='trail')_0x4783c8[_0x4a3553(0x67b)][_0x4a3553(0x7d5)](_0x4a3553(0x75c));else{if(activeTool===_0x4a3553(0x36f))_0x19a1ad['classList']['remove'](_0x4a3553(0x75c));else activeTool===_0x4a3553(0x68c)&&_0x30d2ce['classList'][_0x4a3553(0x7d5)]('hidden');}};_0x49c42b[_0x4b5e4b(0x28f)]('click',()=>{const _0x112110=_0x4b5e4b;activeTool=_0x112110(0xdf6),_0x519bf8(_0x49c42b);}),_0x1814ea['addEventListener'](_0x4b5e4b(0x526),()=>{activeTool='eraser',_0x519bf8(_0x1814ea);}),_0xe43b95['addEventListener'](_0x4b5e4b(0x526),()=>{const _0x271b13=_0x4b5e4b;activeTool=_0x271b13(0xab8),_0x519bf8(_0xe43b95);}),_0x1f44cd[_0x4b5e4b(0x28f)](_0x4b5e4b(0x526),()=>{const _0x241ba1=_0x4b5e4b;activeTool=_0x241ba1(0x36f),_0x519bf8(_0x1f44cd);}),_0x4783c8[_0x4b5e4b(0xdd7)]('.pen-size-btn')[_0x4b5e4b(0xa3f)](_0x289d46=>{const _0x42d0a8=_0x4b5e4b;_0x289d46[_0x42d0a8(0x28f)](_0x42d0a8(0x526),_0x38fca8=>{const _0xb9a3ed=_0x42d0a8;scratchpadPenSize=parseInt(_0x38fca8['target'][_0xb9a3ed(0x305)][_0xb9a3ed(0x2e4)],0xa),_0x4783c8[_0xb9a3ed(0xdd7)](_0xb9a3ed(0x240))[_0xb9a3ed(0xa3f)](_0x2a7e02=>_0x2a7e02[_0xb9a3ed(0x67b)][_0xb9a3ed(0x7d5)](_0xb9a3ed(0xb29))),_0x38fca8[_0xb9a3ed(0xae7)]['classList'][_0xb9a3ed(0x602)]('active');});}),_0x30d2ce['querySelectorAll'](_0x4b5e4b(0x662))[_0x4b5e4b(0xa3f)](_0x25f0f4=>{const _0x287cbd=_0x4b5e4b;_0x25f0f4[_0x287cbd(0x28f)](_0x287cbd(0x526),_0x4449a8=>{const _0x5b2d10=_0x287cbd,_0x2e4476=_0x4449a8[_0x5b2d10(0xd66)];scratchpadEraserSize=parseInt(_0x2e4476[_0x5b2d10(0x305)][_0x5b2d10(0x2e4)],0xa),_0x30d2ce[_0x5b2d10(0xdd7)](_0x5b2d10(0x662))[_0x5b2d10(0xa3f)](_0x1d56a5=>_0x1d56a5['classList']['remove']('active')),_0x2e4476[_0x5b2d10(0x67b)][_0x5b2d10(0x602)](_0x5b2d10(0xb29));});}),_0x4783c8[_0x4b5e4b(0xdd7)](_0x4b5e4b(0xd8e))[_0x4b5e4b(0xa3f)](_0x2da85f=>{const _0x1cf567=_0x4b5e4b;_0x2da85f[_0x1cf567(0x28f)](_0x1cf567(0x526),_0x5eb06b=>{const _0x3de52b=_0x1cf567;scratchpadPenColor=_0x5eb06b[_0x3de52b(0xae7)][_0x3de52b(0x305)][_0x3de52b(0x511)],_0x4783c8['querySelectorAll'](_0x3de52b(0xd8e))[_0x3de52b(0xa3f)](_0xd39332=>_0xd39332[_0x3de52b(0x67b)]['remove']('active')),_0x5eb06b[_0x3de52b(0xae7)][_0x3de52b(0x67b)]['add'](_0x3de52b(0xb29));});}),_0x19a1ad[_0x4b5e4b(0xdd7)]('.highlighter-color-btn')[_0x4b5e4b(0xa3f)](_0xa1ea77=>{const _0xaa33ca=_0x4b5e4b;_0xa1ea77[_0xaa33ca(0x28f)](_0xaa33ca(0x526),_0x49f3ec=>{const _0x405327=_0xaa33ca;scratchpadHighlighterColor=_0x49f3ec['target'][_0x405327(0x305)]['color'],_0x19a1ad[_0x405327(0xdd7)](_0x405327(0x65a))[_0x405327(0xa3f)](_0x2b8535=>_0x2b8535['classList']['remove'](_0x405327(0xb29))),_0x49f3ec[_0x405327(0xae7)][_0x405327(0x67b)][_0x405327(0x602)]('active');});});const _0x1bb3ae=document['getElementById']('highlighter-size-slider'),_0x43fc76=document[_0x4b5e4b(0x967)](_0x4b5e4b(0x9b7));_0x1bb3ae[_0x4b5e4b(0x28f)]('input',_0x30eb41=>{const _0x5c2ac0=_0x4b5e4b,_0x21cdc1=parseInt(_0x30eb41['target'][_0x5c2ac0(0x734)],0xa);scratchpadHighlighterSize=_0x21cdc1,_0x43fc76['textContent']=_0x21cdc1;}),window[_0x4b5e4b(0x28f)](_0x4b5e4b(0x500),()=>{const _0x51c33b=_0x4b5e4b;!_0x3959ef[_0x51c33b(0x67b)]['contains'](_0x51c33b(0x75c))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x4c4cf8(0x61e),'name':_0x4c4cf8(0x3ca),'description':'ตอบถูกทุกข้อในแบบทดสอบนี้','icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':'quick_thinker','name':_0x4c4cf8(0x2b8),'description':_0x4c4cf8(0x9d3),'icon':_0x4c4cf8(0x619)},'ON_FIRE':{'id':_0x4c4cf8(0xcab),'name':'ท็อปฟอร์ม','description':_0x4c4cf8(0x429),'icon':_0x4c4cf8(0xa7b)},'FIRST_TRY_ACE':{'id':'first_try_ace','name':_0x4c4cf8(0x9ab),'description':_0x4c4cf8(0x30f),'icon':_0x4c4cf8(0xb33)},'COMEBACK_KING':{'id':'comeback_king','name':_0x4c4cf8(0xb7e),'description':_0x4c4cf8(0x705),'icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':_0x4c4cf8(0xbd6),'name':_0x4c4cf8(0x885),'description':_0x4c4cf8(0xbb0),'icon':'fa-user-astronaut\x20text-blue-700'},'PERSEVERANCE':{'id':_0x4c4cf8(0x58d),'name':_0x4c4cf8(0x2f8),'description':'ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','icon':_0x4c4cf8(0xd35)}},firebaseConfig={'apiKey':_0x4c4cf8(0xc8e),'authDomain':_0x4c4cf8(0xaab),'projectId':'ai-quiz-app-aefee','storageBucket':_0x4c4cf8(0x948),'messagingSenderId':_0x4c4cf8(0x6b8),'appId':_0x4c4cf8(0x9ed),'measurementId':'G-V90KRM0L63'},appId=typeof __app_id!=='undefined'?__app_id:'ai-quiz-generator-v3',adminView=document[_0x4c4cf8(0x967)](_0x4c4cf8(0x24e)),studentView=document['getElementById']('student-view'),projectDashboardView=document[_0x4c4cf8(0x967)]('project-dashboard-view'),projectDetailView=document[_0x4c4cf8(0x967)](_0x4c4cf8(0xdcc)),quizResultsView=document['getElementById'](_0x4c4cf8(0x70e)),projectList=document[_0x4c4cf8(0x967)](_0x4c4cf8(0x729)),noProjectsMsg=document[_0x4c4cf8(0x967)](_0x4c4cf8(0x291)),projectTitle=document[_0x4c4cf8(0x967)](_0x4c4cf8(0xb81)),projectIdDisplay=document[_0x4c4cf8(0x967)]('project-id-display'),studentList=document[_0x4c4cf8(0x967)](_0x4c4cf8(0x3ea)),messageModal=document['getElementById'](_0x4c4cf8(0x4f3)),modalMessage=document['getElementById'](_0x4c4cf8(0x4fd)),createProjectModal=document[_0x4c4cf8(0x967)](_0x4c4cf8(0x25e)),adminPasswordModal=document[_0x4c4cf8(0x967)]('admin-password-modal'),confirmationModal=document[_0x4c4cf8(0x967)](_0x4c4cf8(0x443)),userIdDisplay=document['getElementById']('user-id-display'),topicTab=document[_0x4c4cf8(0x967)]('topic-tab'),textTab=document[_0x4c4cf8(0x967)](_0x4c4cf8(0x460)),topicInputArea=document[_0x4c4cf8(0x967)](_0x4c4cf8(0x226)),textInputArea=document['getElementById'](_0x4c4cf8(0xd00)),manageTab=document[_0x4c4cf8(0x967)](_0x4c4cf8(0xd43)),resultsTab=document[_0x4c4cf8(0x967)](_0x4c4cf8(0x2ab)),leaderboardTab=document[_0x4c4cf8(0x967)](_0x4c4cf8(0x80f)),manageTabContent=document['getElementById'](_0x4c4cf8(0x979)),resultsTabContent=document[_0x4c4cf8(0x967)](_0x4c4cf8(0xd39)),leaderboardTabContent=document[_0x4c4cf8(0x967)](_0x4c4cf8(0x616)),projectQuizzesList=document[_0x4c4cf8(0x967)](_0x4c4cf8(0x52a)),fileTab=document[_0x4c4cf8(0x967)](_0x4c4cf8(0xc67)),fileInputArea=document[_0x4c4cf8(0x967)](_0x4c4cf8(0x3e0)),fileUploadInput=document[_0x4c4cf8(0x967)](_0x4c4cf8(0x8ea)),worksheetTab=document['getElementById'](_0x4c4cf8(0x7f5)),worksheetInputArea=document['getElementById'](_0x4c4cf8(0x22f)),generateWorksheetBtn=document[_0x4c4cf8(0x967)](_0x4c4cf8(0x779)),studentInitialView=document[_0x4c4cf8(0x967)](_0x4c4cf8(0x495)),studentNameSelectionView=document[_0x4c4cf8(0x967)](_0x4c4cf8(0xd48)),studentQuizArea=document['getElementById']('student-quiz-area'),studentResultArea=document[_0x4c4cf8(0x967)](_0x4c4cf8(0x1e3)),studentReadingArea=document[_0x4c4cf8(0x967)]('student-reading-area'),loadQuizBtn=document['getElementById'](_0x4c4cf8(0x2fc)),startQuizBtn=document[_0x4c4cf8(0x967)](_0x4c4cf8(0x509)),studentJoinGameView=document[_0x4c4cf8(0x967)]('student-join-game-view'),presentationModal=document[_0x4c4cf8(0x967)](_0x4c4cf8(0xbc1)),renameQuizModal=document[_0x4c4cf8(0x967)](_0x4c4cf8(0x66d)),moveQuizModal=document[_0x4c4cf8(0x967)](_0x4c4cf8(0xc4c)),quizSettingsModal=document[_0x4c4cf8(0x967)](_0x4c4cf8(0x583)),quizStatusModal=document[_0x4c4cf8(0x967)](_0x4c4cf8(0x43f)),liveGameView=document['getElementById'](_0x4c4cf8(0x247));function handleFixLessonLatex(){const _0xaed2b7=_0x4c4cf8,_0x42478d=document[_0xaed2b7(0x967)]('lesson-view-content');if(!_0x42478d){showMessage(_0xaed2b7(0xbb2));return;}const _0xe733a5=_0x42478d['querySelectorAll'](['.ai-content\x20p',_0xaed2b7(0x8a0),_0xaed2b7(0x485),_0xaed2b7(0xa93),_0xaed2b7(0x844)]['join'](','));let _0x446860=0x0;const _0x585d82=_0x1a8e4f=>_0x1a8e4f[_0xaed2b7(0xb9a)]||'',_0x25bb02=(_0x302d61,_0x1d922e)=>{const _0x3e4dab=_0xaed2b7;if(_0x302d61[_0x3e4dab(0x5c7)]&&_0x302d61['querySelector'](_0x3e4dab(0x4bf)))return;_0x302d61[_0x3e4dab(0xb9a)]=_0x1d922e;},_0x9ca6e4=_0x4609ff=>_0x4609ff['replace'](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x17004b=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x4c2d0e=_0x2aa49b=>{const _0x4a0d26=_0xaed2b7;let _0x5b8953=_0x2aa49b[_0x4a0d26(0x46b)]();const _0x2110e3=[_0x4a0d26(0x433),_0x4a0d26(0xb51),_0x4a0d26(0x51a),'sqrt',_0x4a0d26(0x5cd),'times',_0x4a0d26(0x477),_0x4a0d26(0x816),_0x4a0d26(0x657),_0x4a0d26(0x698),'le','ge',_0x4a0d26(0xdf1),'pm',_0x4a0d26(0x31e),_0x4a0d26(0xd4e),'cos',_0x4a0d26(0x32b),_0x4a0d26(0xdea),'ln',_0x4a0d26(0x5e8),_0x4a0d26(0x75a),'binom',_0x4a0d26(0x343),_0x4a0d26(0xd14),_0x4a0d26(0x856),_0x4a0d26(0x3f7),_0x4a0d26(0x546),'deg'];_0x2110e3[_0x4a0d26(0xa3f)](_0x2647a4=>{const _0x52ed6d=_0x4a0d26;_0x5b8953=_0x5b8953[_0x52ed6d(0x528)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x2647a4+'\x5cb','g'),(_0x48386d,_0x4dda4d)=>_0x4dda4d+'\x5c'+_0x2647a4);});const _0x44743a=[[/×/g,_0x4a0d26(0xc6b)],[/·/g,_0x4a0d26(0x9d7)],[/÷/g,_0x4a0d26(0x882)],[/≤/g,'\x5cle'],[/≥/g,_0x4a0d26(0x954)],[/≠/g,_0x4a0d26(0x9b4)],[/±/g,'\x5cpm'],[/∑/g,_0x4a0d26(0x73b)],[/−/g,'-']];return _0x44743a[_0x4a0d26(0xa3f)](([_0x22b4ad,_0x8aff83])=>{_0x5b8953=_0x5b8953['replace'](_0x22b4ad,_0x8aff83);}),_0x5b8953=_0x5b8953[_0x4a0d26(0x528)](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0x5b8953=_0x5b8953[_0x4a0d26(0x528)](/(\d+)\s*%/g,'$1\x5c%'),_0x5b8953;},_0x54f476=_0x212e06=>{const _0x50210d=_0xaed2b7;if(/\$|\\\(|\\\[/[_0x50210d(0xa4c)](_0x212e06))return _0x212e06;if(!_0x17004b[_0x50210d(0xa4c)](_0x212e06))return _0x212e06;const _0xbe9e2b=_0x212e06[_0x50210d(0xad1)](/^\s*/)[0x0],_0x3bc61b=_0x212e06[_0x50210d(0xad1)](/\s*$/)[0x0],_0x3821e5=_0x212e06[_0x50210d(0x46b)]();return _0xbe9e2b+'$'+_0x4c2d0e(_0x3821e5)+'$'+_0x3bc61b;};_0xe733a5['forEach'](_0x26a74a=>{const _0x3ff131=_0xaed2b7,_0x1d6256=_0x585d82(_0x26a74a);let _0x2ccdb6=_0x9ca6e4(_0x1d6256);_0x2ccdb6=_0x2ccdb6['replace'](/\$([^$]*?)\$/g,(_0x1196ae,_0x43a698)=>'$'+_0x4c2d0e(_0x43a698)+'$');const _0x93d8a4=_0x2ccdb6[_0x3ff131(0xb7c)](/(\s+)/),_0x390b87=_0x93d8a4['map'](_0x126c96=>{if(/\s+/['test'](_0x126c96))return _0x126c96;return _0x54f476(_0x126c96);});_0x2ccdb6=_0x390b87[_0x3ff131(0xbe3)](''),_0x2ccdb6!==_0x1d6256&&(_0x25bb02(_0x26a74a,_0x2ccdb6),_0x446860++);});if(_0x446860>0x0){showMessage(_0xaed2b7(0x7bd)+_0x446860+'\x20จุดเรียบร้อยแล้ว');try{window[_0xaed2b7(0x7a4)]&&MathJax[_0xaed2b7(0x634)]&&MathJax[_0xaed2b7(0x634)]([_0x42478d]);}catch(_0x589870){console[_0xaed2b7(0x3f6)](_0xaed2b7(0xb4f),_0x589870);}}else showMessage(_0xaed2b7(0xd37));}function handleAutoFixLatex(){const _0xfed84=_0x4c4cf8,_0x44a82b=document[_0xfed84(0x967)](_0xfed84(0x924))||document,_0x2b59ac=_0x44a82b[_0xfed84(0xdd7)](_0xfed84(0x51d));let _0x7363d8=0x0;const _0x129dfc=_0x55287e=>'value'in _0x55287e?String(_0x55287e[_0xfed84(0x734)]):_0x55287e[_0xfed84(0x54c)]!==undefined?_0x55287e[_0xfed84(0x54c)]:_0x55287e[_0xfed84(0xb9a)]||'',_0x494057=(_0x5d1843,_0x14049b)=>{const _0x64cc6=_0xfed84;if(_0x64cc6(0x734)in _0x5d1843){_0x5d1843[_0x64cc6(0x734)]=_0x14049b;return;}if(_0x5d1843[_0x64cc6(0x5c7)]&&_0x5d1843[_0x64cc6(0x5c7)]('mjx-container'))return;if(_0x5d1843[_0x64cc6(0x54c)]!==undefined)_0x5d1843['innerText']=_0x14049b;else _0x5d1843[_0x64cc6(0xb9a)]=_0x14049b;},_0x5081da=_0x383327=>_0x383327[_0xfed84(0x528)](/\u00A0/g,'\x20')[_0xfed84(0x528)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x2fcb01=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x11cd81=_0x4f5c76=>{const _0x580e8f=_0xfed84;let _0x4451e3=_0x4f5c76[_0x580e8f(0x46b)]();_0x4451e3=_0x4451e3['replace'](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x580e8f(0xd21)),_0x4451e3=_0x4451e3[_0x580e8f(0x528)](/\bfrac(\d)(\d)/g,'\x5cfrac{$1}{$2}');const _0x5cbf14=[_0x580e8f(0x433),'sqrt',_0x580e8f(0x4e8),_0x580e8f(0x477),_0x580e8f(0x816),_0x580e8f(0x657),_0x580e8f(0x698),_0x580e8f(0xdf1),'pm',_0x580e8f(0xd4e),_0x580e8f(0xc2c),_0x580e8f(0x32b),'log','ln'];_0x5cbf14[_0x580e8f(0xa3f)](_0x3df614=>{const _0x2b8389=_0x580e8f;_0x4451e3=_0x4451e3[_0x2b8389(0x528)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x3df614+'\x5cb','g'),(_0x3ac190,_0x50dab0)=>_0x50dab0+'\x5c'+_0x3df614);});const _0x4380d2=[[/×/g,_0x580e8f(0xc6b)],[/·/g,_0x580e8f(0x9d7)],[/÷/g,_0x580e8f(0x882)],[/≤/g,_0x580e8f(0xa5a)],[/≥/g,_0x580e8f(0x954)],[/≠/g,_0x580e8f(0x9b4)],[/±/g,_0x580e8f(0xd98)]];return _0x4380d2[_0x580e8f(0xa3f)](([_0x29d75b,_0x38ee8d])=>{const _0x5835d2=_0x580e8f;_0x4451e3=_0x4451e3[_0x5835d2(0x528)](_0x29d75b,_0x38ee8d);}),_0x4451e3;},_0x2f52f4=_0x52ec27=>{const _0x8bf317=_0xfed84;if(/\$|\\\(|\\\[/[_0x8bf317(0xa4c)](_0x52ec27))return _0x52ec27;if(!_0x2fcb01[_0x8bf317(0xa4c)](_0x52ec27))return _0x52ec27;const _0x108f5f=_0x52ec27[_0x8bf317(0xad1)](/^\s*/)[0x0],_0x40c8dc=_0x52ec27[_0x8bf317(0xad1)](/\s*$/)[0x0],_0x26967d=_0x52ec27['trim']();return _0x108f5f+'$'+_0x11cd81(_0x26967d)+'$'+_0x40c8dc;};_0x2b59ac[_0xfed84(0xa3f)](_0x44676e=>{const _0x3229da=_0xfed84,_0x53afc4=_0x129dfc(_0x44676e);let _0x191c60=_0x5081da(_0x53afc4);_0x191c60=_0x191c60['replace'](/\$([^$]*?)\$/g,(_0x3f3fac,_0xf56546)=>'$'+_0x11cd81(_0xf56546)+'$');const _0x535761=_0x191c60[_0x3229da(0xb7c)](/(\s+)/),_0x43246b=_0x535761['map'](_0x109108=>/\s+/[_0x3229da(0xa4c)](_0x109108)?_0x109108:_0x2f52f4(_0x109108));_0x191c60=_0x43246b[_0x3229da(0xbe3)](''),_0x191c60!==_0x53afc4&&(_0x494057(_0x44676e,_0x191c60),_0x7363d8++);});if(_0x7363d8>0x0){showMessage(_0xfed84(0x2e9)+_0x7363d8+_0xfed84(0x91c));try{if(window[_0xfed84(0x7a4)]&&MathJax['typesetPromise'])MathJax[_0xfed84(0x634)]();}catch(_0x35c3ee){}}else showMessage(_0xfed84(0x332));}async function listenForCustomMathTopics(){const _0x4042b7=_0x4c4cf8,_0x4b22d6=collection(db,_0x4042b7(0x4e9)+appId+_0x4042b7(0x748));onSnapshot(_0x4b22d6,_0x17e511=>{const _0x4e583d=_0x4042b7;customMathTopics=_0x17e511[_0x4e583d(0x9ff)]['map'](_0x2e8728=>({'id':_0x2e8728['id'],..._0x2e8728[_0x4e583d(0x6bc)]()})),renderTopicCheckboxes();},_0x4c08e2=>{const _0x126b6e=_0x4042b7;console[_0x126b6e(0x3f6)](_0x126b6e(0xb89),_0x4c08e2);});}function handleSelectAllTopics(){const _0x478817=_0x4c4cf8,_0x38daf6=document['getElementById'](_0x478817(0x782)),_0x40d6e3=_0x38daf6[_0x478817(0xdd7)]('input[type=\x22checkbox\x22]');_0x40d6e3[_0x478817(0xa3f)](_0x9da736=>{const _0x2cdab8=_0x478817;_0x9da736[_0x2cdab8(0x4c6)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x3f8ff4=_0x4c4cf8,_0x20875a=document[_0x3f8ff4(0x967)](_0x3f8ff4(0x782)),_0x33fe81=_0x20875a[_0x3f8ff4(0xdd7)](_0x3f8ff4(0xcca));_0x33fe81[_0x3f8ff4(0xa3f)](_0x542a85=>{const _0x45b7f1=_0x3f8ff4;_0x542a85[_0x45b7f1(0x4c6)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x45b196){const _0x480ed6=_0x4c4cf8;if(!_0x45b196)return;try{const _0x1ebaec=doc(db,_0x480ed6(0x4e9)+appId+'/public/data/customMathTopics',_0x45b196);await deleteDoc(_0x1ebaec),showMessage(_0x480ed6(0x6d2));}catch(_0x1c2896){console[_0x480ed6(0x3f6)]('Error\x20deleting\x20custom\x20topic:',_0x1c2896),showMessage(_0x480ed6(0xbc7));}}async function handleAddCustomMathTopic(){const _0x180a99=_0x4c4cf8,_0x5ec348=document['getElementById'](_0x180a99(0x917)),_0x16a6d4=_0x5ec348[_0x180a99(0x734)]['trim']();if(!_0x16a6d4){showMessage(_0x180a99(0xa1d));return;}if(!userId){showMessage(_0x180a99(0x2a7));return;}try{const _0x470387=collection(db,_0x180a99(0x4e9)+appId+_0x180a99(0x748));await addDoc(_0x470387,{'name':_0x16a6d4,'createdAt':serverTimestamp()}),_0x5ec348[_0x180a99(0x734)]='',showMessage(_0x180a99(0x6bd)+_0x16a6d4+_0x180a99(0x2ce));}catch(_0x1b7b42){console[_0x180a99(0x3f6)](_0x180a99(0x69b),_0x1b7b42),showMessage(_0x180a99(0x2e7));}}async function handleUpdateOldQuizzes(){const _0x400426=_0x4c4cf8;showConfirmation(_0x400426(0x446),async()=>{const _0x44cf75=_0x400426,_0x2f02bc=document[_0x44cf75(0x967)](_0x44cf75(0xb23)),_0x14ed64=document[_0x44cf75(0x967)](_0x44cf75(0xaf1)),_0xba5412=_0x14ed64[_0x44cf75(0xb9a)];_0x2f02bc['classList']['remove'](_0x44cf75(0x75c)),_0x14ed64['textContent']=_0x44cf75(0x3af);try{const _0x468029=collection(db,_0x44cf75(0x4e9)+appId+'/public/data/quizzes'),_0x4472bf=await getDocs(_0x468029);if(_0x4472bf[_0x44cf75(0x711)]){showMessage('ไม่พบแบบทดสอบในระบบเลย');return;}const _0x84386=writeBatch(db);let _0x28f77c=0x0;_0x4472bf[_0x44cf75(0xa3f)](_0x2326dd=>{const _0x526444=_0x44cf75,_0x543667=_0x2326dd['data'](),_0xac3a5b=_0x2326dd['id'];if(_0x543667[_0x526444(0x271)]&&_0x543667['questions']['length']>0x0&&!_0x543667['questions'][0x0]['hasOwnProperty']('id')){console[_0x526444(0xdea)](_0x526444(0x963)+_0xac3a5b+'\x20('+_0x543667['topic']+')'),_0x28f77c++;const _0x5ca354=_0x543667[_0x526444(0x271)][_0x526444(0x928)]((_0x4fb68f,_0x3ff1a4)=>{const _0x470796=_0x526444;return{..._0x4fb68f,'id':_0x4fb68f['id']||'q_'+Date[_0x470796(0xd7b)]()+'_'+_0xac3a5b+'_'+_0x3ff1a4};}),_0x354c62=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0xac3a5b);_0x84386[_0x526444(0x5de)](_0x354c62,{'questions':_0x5ca354});}}),_0x28f77c>0x0?(_0x14ed64[_0x44cf75(0xb9a)]='กำลังอัปเดตแบบทดสอบ\x20'+_0x28f77c+_0x44cf75(0x4c8),await _0x84386[_0x44cf75(0xdc7)](),showMessage(_0x44cf75(0x50c)+_0x28f77c+_0x44cf75(0x476))):showMessage(_0x44cf75(0xb42));}catch(_0x50c032){console['error'](_0x44cf75(0xa2b),_0x50c032),showMessage(_0x44cf75(0x9ee)+_0x50c032[_0x44cf75(0xb40)]);}finally{_0x2f02bc['classList'][_0x44cf75(0x602)](_0x44cf75(0x75c)),_0x14ed64[_0x44cf75(0xb9a)]=_0xba5412;}});}async function handleBulkUpdateQuizSettings(){const _0x3c22a6=_0x4c4cf8,_0x4873c8={'shuffle':document['getElementById'](_0x3c22a6(0x9c7))[_0x3c22a6(0x734)],'resultsDisplay':document[_0x3c22a6(0x967)](_0x3c22a6(0x221))[_0x3c22a6(0x734)],'loopUntilPass':document[_0x3c22a6(0x967)]('bulk-loop-until-pass-checkbox')[_0x3c22a6(0x4c6)],'isConfidenceScoringEnabled':document[_0x3c22a6(0x967)](_0x3c22a6(0x9df))['checked'],'confidenceMode':document[_0x3c22a6(0x967)](_0x3c22a6(0x2df))[_0x3c22a6(0x734)]};try{showMessage(_0x3c22a6(0xd40));const _0x2a3418=await getDocs(collection(db,'artifacts/'+appId+'/public/data/quizzes')),_0x4b1e0d=_0x2a3418[_0x3c22a6(0x9ff)][_0x3c22a6(0x928)](_0x360787=>({'id':_0x360787['id'],'data':_0x360787[_0x3c22a6(0x6bc)]()})),_0x3b4c52=_0x4b1e0d[_0x3c22a6(0xbe0)];showConfirmation(_0x3c22a6(0x54f)+_0x3b4c52+_0x3c22a6(0xa3e),async()=>{const _0x200a65=_0x3c22a6,_0xd7c13=document[_0x200a65(0x967)](_0x200a65(0x28e));_0xd7c13[_0x200a65(0x367)]=!![],_0xd7c13[_0x200a65(0x66e)]=_0x200a65(0xd88);try{const _0x2ec8c5=writeBatch(db);_0x4b1e0d['forEach'](_0x7eac43=>{const _0x4a7728=_0x200a65,_0x25d771=doc(db,'artifacts/'+appId+_0x4a7728(0x2fe),_0x7eac43['id']),_0xb2cdf2={..._0x7eac43['data']['settings']||{},..._0x4873c8};_0x2ec8c5[_0x4a7728(0x5de)](_0x25d771,{'settings':_0xb2cdf2});}),await _0x2ec8c5['commit'](),document[_0x200a65(0x967)](_0x200a65(0x9b5))[_0x200a65(0x67b)][_0x200a65(0x602)]('hidden'),showMessage('อัปเดตการตั้งค่าของแบบทดสอบ\x20'+_0x3b4c52+_0x200a65(0x4af));}catch(_0x2af33d){console['error'](_0x200a65(0x2af),_0x2af33d),showMessage(_0x200a65(0x66a));}finally{_0xd7c13[_0x200a65(0x367)]=![],_0xd7c13[_0x200a65(0x66e)]=_0x200a65(0xad3);}});}catch(_0x42fd1f){console[_0x3c22a6(0x3f6)]('Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:',_0x42fd1f),showMessage(_0x3c22a6(0x396));}}async function handleSaveProjectName(){const _0x500563=_0x4c4cf8,_0x4aab82=document[_0x500563(0x967)]('project-title'),_0x59d959=document[_0x500563(0x967)]('save-project-name-btn'),_0x1a8aa6=_0x4aab82[_0x500563(0xb9a)][_0x500563(0x46b)]();if(!_0x1a8aa6||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0x4aab82[_0x500563(0xb9a)]=currentProjectData[_0x500563(0x453)];return;}_0x59d959[_0x500563(0x367)]=!![],_0x59d959[_0x500563(0x66e)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{const _0x2c01ee=doc(db,_0x500563(0x4e9)+appId+_0x500563(0x9f8),currentProjectId);await updateDoc(_0x2c01ee,{'projectName':_0x1a8aa6}),currentProjectData&&(currentProjectData[_0x500563(0x453)]=_0x1a8aa6),showMessage(_0x500563(0xc6a));}catch(_0x1e4e83){console['error'](_0x500563(0x42e),_0x1e4e83),showMessage(_0x500563(0x843)),_0x4aab82['textContent']=currentProjectData[_0x500563(0x453)];}finally{_0x59d959[_0x500563(0x67b)][_0x500563(0x602)](_0x500563(0x75c)),_0x59d959[_0x500563(0x367)]=![],_0x59d959[_0x500563(0x66e)]=_0x500563(0xbf7);}}function handleGeneratePracticeTest(_0x448926,_0x515186){const _0x4e5855=_0x4c4cf8,_0x58fc92=document[_0x4e5855(0x967)](_0x4e5855(0x7b6)),_0x326f0b=document['getElementById'](_0x4e5855(0x50e)),_0x5ea6de=document[_0x4e5855(0x967)]('lesson-loader'),_0x3d690e=document['getElementById'](_0x4e5855(0x8fa));_0x326f0b[_0x4e5855(0xb9a)]=_0x4e5855(0x866)+_0x448926,_0x3d690e['classList'][_0x4e5855(0x602)]('hidden'),_0x5ea6de['classList'][_0x4e5855(0x7d5)](_0x4e5855(0x75c)),_0x58fc92[_0x4e5855(0x67b)][_0x4e5855(0x7d5)]('hidden'),generatePracticeTest(_0x448926,_0x515186)['catch'](_0x146793=>{const _0x482efd=_0x4e5855;console[_0x482efd(0x3f6)](_0x482efd(0x7ca),_0x146793),showMessage(_0x482efd(0x24f)),_0x58fc92[_0x482efd(0x67b)][_0x482efd(0x602)](_0x482efd(0x75c));});}async function generatePracticeTest(_0x119251,_0x2b0979){const _0x188de8=_0x4c4cf8;[_0x188de8(0x251),'memoryContent',_0x188de8(0xcbc),_0x188de8(0x254)][_0x188de8(0xa3f)](_0x50d931=>{const _0x19eb78=_0x188de8,_0x2593a2=document['getElementById'](_0x50d931)['parentElement'];_0x2593a2&&(_0x2593a2['style']['display']=_0x19eb78(0x7e8));});try{const _0x3995e5=_0x188de8(0x340),_0x289a27=_0x188de8(0x34f)+_0x2b0979+_0x188de8(0x493)+_0x119251+'\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX',_0x142f51=await callGemini(_0x289a27,!![]),_0x40cf74=document[_0x188de8(0x967)](_0x188de8(0x50e)),_0x394c1a=document[_0x188de8(0x967)](_0x188de8(0xa35)),_0x3fa198=document['getElementById']('lesson-sections-container'),_0x4099bd=document[_0x188de8(0x967)](_0x188de8(0xcbc))[_0x188de8(0x1fc)];_0x40cf74[_0x188de8(0x54c)]=_0x188de8(0x335)+_0x119251[_0x188de8(0x528)](/•\s/g,'')+_0x188de8(0x658)+_0x2b0979+')',currentApplicationData=JSON[_0x188de8(0x6d6)](_0x142f51);const _0x845e85=document[_0x188de8(0x967)](_0x188de8(0xcbc));_0x845e85[_0x188de8(0x66e)]=currentApplicationData[_0x188de8(0x928)]((_0x162dac,_0x1d5c91)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x1d5c91+0x1)+'.\x20'+marked[_0x188de8(0x587)](_0x162dac[_0x188de8(0x966)])+_0x188de8(0x5ca)+_0x1d5c91+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x162dac[_0x188de8(0x2e6)][_0x188de8(0x928)]((_0x4e2055,_0x2b0af5)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x1d5c91+',\x20'+_0x2b0af5+_0x188de8(0xcb1)+String[_0x188de8(0x2a6)](0x61+_0x2b0af5)+'.\x20'+marked[_0x188de8(0x587)](_0x4e2055)+_0x188de8(0x6e4))['join']('')+_0x188de8(0x4d7))['join'](''),window['MathJax']&&MathJax['typesetPromise']([_0x845e85]),_0x4099bd&&(_0x4099bd[_0x188de8(0xa49)]['display']=_0x188de8(0x9e7)),_0x394c1a[_0x188de8(0x67b)][_0x188de8(0x602)]('hidden'),_0x3fa198[_0x188de8(0x67b)]['remove'](_0x188de8(0x75c));}catch(_0x4bedb6){console[_0x188de8(0x3f6)](_0x4bedb6);throw _0x4bedb6;}}async function callGemini(_0x487387,_0xa27791=![]){const _0x43d61d=_0x4c4cf8,_0x39970d=_0x43d61d(0x88f),_0x4e1c3a=_0x43d61d(0x81b)+_0x39970d,_0x4c99c0={'contents':[{'parts':[{'text':_0x487387}]}]};_0xa27791&&(_0x4c99c0[_0x43d61d(0xad0)]={'responseMimeType':_0x43d61d(0x62e)},_0x487387[_0x43d61d(0xb02)]('Test\x20Blueprint')?_0x4c99c0['generationConfig'][_0x43d61d(0x6a1)]={'type':_0x43d61d(0x8b8),'properties':{'gradeLevel':{'type':_0x43d61d(0x3db)},'curriculum':{'type':_0x43d61d(0x34a),'items':{'type':_0x43d61d(0x8b8),'properties':{'sara':{'type':_0x43d61d(0x3db)},'mainTopics':{'type':'ARRAY','items':{'type':_0x43d61d(0x8b8),'properties':{'topicName':{'type':_0x43d61d(0x3db)},'subTopics':{'type':_0x43d61d(0x34a),'items':{'type':_0x43d61d(0x3db)}}},'required':[_0x43d61d(0x89e),'subTopics']}}},'required':['sara',_0x43d61d(0x239)]}}},'required':[_0x43d61d(0x315),_0x43d61d(0xba5)]}:_0x4c99c0[_0x43d61d(0xad0)]['responseSchema']={'type':_0x43d61d(0x34a),'items':{'type':_0x43d61d(0x8b8),'properties':{'question':{'type':_0x43d61d(0x3db)},'options':{'type':_0x43d61d(0x34a),'items':{'type':_0x43d61d(0x3db)}},'answer':{'type':_0x43d61d(0xbad)}},'required':['question','options',_0x43d61d(0x422)]}});try{const _0x4244b8=await fetch(_0x4e1c3a,{'method':_0x43d61d(0x4c0),'headers':{'Content-Type':_0x43d61d(0x62e)},'body':JSON[_0x43d61d(0xa88)](_0x4c99c0)});if(!_0x4244b8['ok']){const _0x2ea9a2=await _0x4244b8[_0x43d61d(0x5cd)]();console[_0x43d61d(0x3f6)](_0x43d61d(0x5f8),_0x2ea9a2);throw new Error('API\x20call\x20failed\x20with\x20status:\x20'+_0x4244b8['status']);}const _0x332510=await _0x4244b8[_0x43d61d(0x738)]();if(_0x332510['candidates']&&_0x332510[_0x43d61d(0xaaa)][0x0][_0x43d61d(0xbc8)]&&_0x332510['candidates'][0x0]['content'][_0x43d61d(0x79c)][0x0])return _0x332510['candidates'][0x0]['content'][_0x43d61d(0x79c)][0x0]['text'];else{console[_0x43d61d(0x3f6)](_0x43d61d(0x1ee),_0x332510);if(_0x332510[_0x43d61d(0xaaa)]&&_0x332510[_0x43d61d(0xaaa)][0x0][_0x43d61d(0x7af)]===_0x43d61d(0x921))return JSON[_0x43d61d(0xa88)]({'error':_0x43d61d(0x572)});throw new Error(_0x43d61d(0xa64));}}catch(_0x471f74){console[_0x43d61d(0x3f6)](_0x43d61d(0x2b1),_0x471f74);throw _0x471f74;}}async function generateLesson(_0x10bb43=null,_0x2f9270=null){const _0x1da3cd=_0x4c4cf8,_0x7eba73=_0x10bb43,_0x501c63=_0x2f9270||_0x1da3cd(0x821),_0x352aeb=document['getElementById']('lesson-loader'),_0x3007f4=document[_0x1da3cd(0x967)](_0x1da3cd(0x24d));_0x3007f4[_0x1da3cd(0xb9a)]=_0x1da3cd(0x804)+_0x7eba73+_0x1da3cd(0xa5e);try{let _0xf045c=[];const _0x41f827=document[_0x1da3cd(0x967)](_0x1da3cd(0x6d7))?.['value'][_0x1da3cd(0x46b)]();if(_0x41f827)try{_0x3007f4[_0x1da3cd(0xb9a)]=_0x1da3cd(0x4cb);const _0x3c3104=await fetchFileFromUrl(_0x41f827,_0x1da3cd(0xb22)),_0x1e0c0c=await new Promise((_0x110dc8,_0x35a7bd)=>{const _0x4a5438=_0x1da3cd,_0x276c11=new FileReader();_0x276c11[_0x4a5438(0x8c1)](_0x3c3104),_0x276c11[_0x4a5438(0x2cc)]=()=>_0x110dc8(_0x276c11['result'][_0x4a5438(0xb7c)](',')[0x1]),_0x276c11[_0x4a5438(0x463)]=_0x35a7bd;});_0xf045c[_0x1da3cd(0xb0e)]({'inlineData':{'mimeType':_0x3c3104[_0x1da3cd(0xd44)],'data':_0x1e0c0c}});}catch(_0x1e57f1){console[_0x1da3cd(0x3f6)](_0x1da3cd(0x89d),_0x1e57f1),showMessage(_0x1da3cd(0x2a0));}const _0x413ef2=_0x1da3cd(0x663)+_0x7eba73+'\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22'+_0x7eba73+_0x1da3cd(0x8fc);_0x3007f4[_0x1da3cd(0xb9a)]=_0x1da3cd(0x804)+_0x7eba73+_0x1da3cd(0xa5e);const _0x49e387=_0x1da3cd(0x242)+_0x501c63+_0x1da3cd(0x493)+_0x7eba73+'\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20'+_0x413ef2+_0x1da3cd(0x8b1),_0x49e6d0=_0x1da3cd(0xb6f)+_0x7eba73+_0x1da3cd(0xd9e)+_0x501c63+_0x1da3cd(0x375)+_0x413ef2+_0x1da3cd(0x201),_0x1aec85='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x501c63+_0x1da3cd(0x493)+_0x7eba73+_0x1da3cd(0xdb2)+_0x413ef2+_0x1da3cd(0xc70),_0x16f08f=_0x1da3cd(0x715)+_0x7eba73+_0x1da3cd(0xa25)+_0x501c63+_0x1da3cd(0x21b)+_0x413ef2+_0x1da3cd(0x9f4),_0x37ed75={'type':_0x1da3cd(0x34a),'items':{'type':_0x1da3cd(0x8b8),'properties':{'question':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x1da3cd(0x3db)}},'answer':{'type':'NUMBER'}},'required':[_0x1da3cd(0x966),_0x1da3cd(0x2e6),_0x1da3cd(0x422)]}},[_0x1ec7c2,_0x13be1b,_0x109d46,_0x42ab16]=await Promise['all']([handleApiCall([{'text':_0x49e387},..._0xf045c],_0x1da3cd(0x813),null,null,![]),handleApiCall([{'text':_0x49e6d0},..._0xf045c],_0x1da3cd(0x813),null,null,![]),handleApiCall([{'text':_0x1aec85},..._0xf045c],_0x1da3cd(0x813),_0x37ed75,null,![]),handleApiCall([{'text':_0x16f08f},..._0xf045c],_0x1da3cd(0x813),null,null,![])]),_0x2336b8=JSON['stringify'](_0x109d46||[]),_0x114622=document[_0x1da3cd(0x967)](_0x1da3cd(0x50e)),_0x58e5e0=document['getElementById'](_0x1da3cd(0x8fa));_0x114622['innerText']=_0x1da3cd(0x682)+_0x7eba73[_0x1da3cd(0x528)](/•\\s/g,'')+_0x1da3cd(0x658)+_0x501c63+')',[_0x1da3cd(0x251),'memoryContent','summaryContent'][_0x1da3cd(0xa3f)](_0x1f014f=>{const _0x35ddb9=_0x1da3cd;document[_0x35ddb9(0x967)](_0x1f014f)['innerHTML']='';}),document['getElementById'](_0x1da3cd(0x251))['innerHTML']=_0x1ec7c2?marked['parse'](_0x1ec7c2):'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>',document[_0x1da3cd(0x967)](_0x1da3cd(0x86b))[_0x1da3cd(0x66e)]=_0x13be1b?marked[_0x1da3cd(0x6d6)](_0x13be1b):_0x1da3cd(0x38b),document[_0x1da3cd(0x967)]('summaryContent')[_0x1da3cd(0x66e)]=_0x42ab16?marked['parse'](_0x42ab16):_0x1da3cd(0x38b),currentApplicationData=JSON[_0x1da3cd(0x6d6)](_0x2336b8);const _0x4825b1=document[_0x1da3cd(0x967)]('applicationContent');_0x4825b1[_0x1da3cd(0x66e)]=(currentApplicationData||[])[_0x1da3cd(0x928)]((_0x18fbc4,_0x115ceb)=>_0x1da3cd(0xd63)+(_0x115ceb+0x1)+'.\x20'+marked[_0x1da3cd(0x587)](_0x18fbc4[_0x1da3cd(0x966)]||'')+_0x1da3cd(0x5ca)+_0x115ceb+_0x1da3cd(0xbd8)+(_0x18fbc4[_0x1da3cd(0x2e6)]||[])['map']((_0x375ef8,_0x3f4265)=>_0x1da3cd(0x40f)+_0x115ceb+',\x20'+_0x3f4265+')\x22>'+String['fromCharCode'](0x61+_0x3f4265)+'.\x20'+marked[_0x1da3cd(0x587)](_0x375ef8||'')+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1da3cd(0xbe3)]('')||'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>',window[_0x1da3cd(0x7a4)]&&MathJax[_0x1da3cd(0x634)]([_0x58e5e0]),_0x352aeb['classList'][_0x1da3cd(0x602)](_0x1da3cd(0x75c)),_0x58e5e0[_0x1da3cd(0x67b)][_0x1da3cd(0x7d5)]('hidden');}catch(_0x3664c2){console[_0x1da3cd(0x3f6)](_0x3664c2);throw _0x3664c2;}}function checkAnswer(_0x23d97b,_0x323e45){const _0x174880=_0x4c4cf8,_0x21ff40=currentApplicationData[_0x23d97b],_0x23e320=document[_0x174880(0x967)]('q'+_0x23d97b+'-options'),_0x5199e1=_0x23e320[_0x174880(0x55e)](_0x174880(0xd6c));for(let _0x4f2ff6 of _0x5199e1){_0x4f2ff6['disabled']=!![];}_0x323e45===_0x21ff40[_0x174880(0x422)]?_0x5199e1[_0x323e45][_0x174880(0x67b)][_0x174880(0x602)]('correct'):(_0x5199e1[_0x323e45]['classList'][_0x174880(0x602)](_0x174880(0x4ef)),_0x5199e1[_0x21ff40[_0x174880(0x422)]]['classList'][_0x174880(0x602)]('correct'));}window[_0x4c4cf8(0x395)]=handleGenerateAndShowLesson,window[_0x4c4cf8(0x454)]=checkAnswer,window['handleGeneratePracticeTest']=handleGeneratePracticeTest,window['handleGenerateQuizFromBlueprintTopic']=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x6cf298=_0x4c4cf8;try{const _0x45b3db=initializeApp(firebaseConfig);db=getFirestore(_0x45b3db),auth=getAuth(_0x45b3db),setupAuthListener(),setupEventListeners(),showView(_0x6cf298(0xbfe)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x322f1b){console[_0x6cf298(0x3f6)](_0x6cf298(0x215),_0x322f1b),showMessage(_0x6cf298(0x895));}}async function handleVerifyAnswersInEditor(){const _0x4c5e9e=_0x4c4cf8,_0x141b92=document['getElementById'](_0x4c5e9e(0x238));if(!_0x141b92)return;const _0x416ca3=document['getElementById']('verify-answers-editor-btn');_0x416ca3[_0x4c5e9e(0x367)]=!![],_0x416ca3['innerHTML']=_0x4c5e9e(0x35f);try{const _0x2670d7=_0x141b92[_0x4c5e9e(0xdd7)](_0x4c5e9e(0x6cf)),_0x2609ee=Array[_0x4c5e9e(0xa4f)](_0x2670d7)[_0x4c5e9e(0x928)]((_0x2b4614,_0xa717dd)=>{const _0x2c0869=_0x4c5e9e,_0x47f5af=_0x2b4614[_0x2c0869(0x305)][_0x2c0869(0x4a3)],_0x5888d6=_0x2b4614[_0x2c0869(0x5c7)](_0x2c0869(0x4a9))[_0x2c0869(0x734)];let _0x14c79d=null,_0x272fda='';switch(_0x47f5af){case _0x2c0869(0x474):const _0xdb99ca=_0x2b4614[_0x2c0869(0xdd7)](_0x2c0869(0xc38));_0x14c79d=Array[_0x2c0869(0xa4f)](_0xdb99ca)['map'](_0x3ab5fc=>_0x3ab5fc[_0x2c0869(0x734)]);const _0x42e9c2=_0x2b4614[_0x2c0869(0x5c7)](_0x2c0869(0xc83));_0x42e9c2&&(_0x272fda=_0x14c79d[parseInt(_0x42e9c2[_0x2c0869(0x734)])]);break;case'short_answer':_0x14c79d=[],_0x272fda=_0x2b4614[_0x2c0869(0x5c7)](_0x2c0869(0x786))[_0x2c0869(0x734)];break;case _0x2c0869(0x34e):_0x14c79d=[_0x2c0869(0x75e),'false'];const _0xfa4c01=_0x2b4614[_0x2c0869(0x5c7)]('input[type=\x22radio\x22]:checked');_0x272fda=_0xfa4c01?_0xfa4c01[_0x2c0869(0x734)]:'';break;case _0x2c0869(0xa02):_0x14c79d=[],_0x272fda=_0x2b4614['querySelector'](_0x2c0869(0x262))[_0x2c0869(0x734)];break;}return{'question':_0x5888d6,'options':_0x14c79d,'proposedAnswer':_0x272fda};}),_0x556572=_0x4c5e9e(0x5ea)+JSON['stringify'](_0x2609ee)+_0x4c5e9e(0xbea),_0x2379b2={'type':_0x4c5e9e(0x34a),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x4c5e9e(0xbad)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':'STRING'},'correctOptionExists':{'type':_0x4c5e9e(0x55a)},'suggestedAnswer':{'type':'STRING'},'newOptionsPayload':{'type':_0x4c5e9e(0x8b8),'properties':{'newOptions':{'type':'ARRAY','items':{'type':_0x4c5e9e(0x3db)}},'newCorrectIndex':{'type':_0x4c5e9e(0xbad)}}}},'required':['questionIndex','isCorrect','justification']}},_0x2013b0=await callAnalysisApi(_0x556572,{'type':_0x4c5e9e(0x8b8),'properties':{'result':_0x2379b2},'required':[_0x4c5e9e(0x6f1)]});displayVerificationResultsInEditor(_0x2013b0['result']);}catch(_0x398557){console[_0x4c5e9e(0x3f6)](_0x4c5e9e(0xba2),_0x398557),showMessage(_0x4c5e9e(0xc51));}finally{_0x416ca3['disabled']=![],_0x416ca3[_0x4c5e9e(0x66e)]=_0x4c5e9e(0xb98);}}function displayVerificationResultsInEditor(_0x4070aa){const _0x2217df=_0x4c4cf8;_0x4070aa[_0x2217df(0xa3f)](_0x21da41=>{const _0x1ed0a0=_0x2217df,_0x387108=document['querySelector']('.question-editor-item[data-q-index=\x22'+_0x21da41[_0x1ed0a0(0x884)]+'\x22]');if(!_0x387108)return;const _0x4eaf54=_0x387108[_0x1ed0a0(0x5c7)](_0x1ed0a0(0x799));if(_0x4eaf54)_0x4eaf54[_0x1ed0a0(0x7d5)]();let _0x37bcc5='';if(_0x21da41[_0x1ed0a0(0x890)]&&_0x21da41[_0x1ed0a0(0x890)][_0x1ed0a0(0x458)]){const _0x54f525=_0x21da41[_0x1ed0a0(0x890)][_0x1ed0a0(0x458)],_0xdde3f5=_0x21da41[_0x1ed0a0(0x890)][_0x1ed0a0(0x248)],_0x1e3186=_0x387108[_0x1ed0a0(0x305)][_0x1ed0a0(0x4a3)];if(_0x1e3186===_0x1ed0a0(0x474)){const _0xe803ae=_0x387108[_0x1ed0a0(0xdd7)]('input[type=\x22text\x22]');_0xe803ae[_0x1ed0a0(0xa3f)]((_0x9001fa,_0x594af8)=>{const _0x1f0bd9=_0x1ed0a0;_0x54f525[_0x594af8]?_0x9001fa[_0x1f0bd9(0x734)]=_0x54f525[_0x594af8]:_0x9001fa[_0x1f0bd9(0x734)]=_0x1f0bd9(0x280);});const _0x496deb=_0x387108[_0x1ed0a0(0x5c7)](_0x1ed0a0(0xdb9)+_0xdde3f5+'\x22]');_0x496deb&&(_0x496deb['checked']=!![]),_0x37bcc5=_0x1ed0a0(0xacc),_0x387108[_0x1ed0a0(0x67b)]['add'](_0x1ed0a0(0xd78),_0x1ed0a0(0xbf9),_0x1ed0a0(0x4db)),setTimeout(()=>{const _0x3ba278=_0x1ed0a0;_0x387108['classList'][_0x3ba278(0x7d5)](_0x3ba278(0xd78));},0x9c4);}}else{if(!_0x21da41[_0x1ed0a0(0x4d1)]&&_0x21da41['suggestedAnswer']){const _0x154516=_0x21da41[_0x1ed0a0(0xbe4)]?_0x1ed0a0(0x6f0):'';_0x37bcc5=_0x1ed0a0(0x2bb)+_0x154516+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x21da41[_0x1ed0a0(0xdae)]+_0x1ed0a0(0xb32)+(_0x21da41['suggestedAnswer']?_0x1ed0a0(0x9b6)+_0x21da41['suggestedAnswer']+_0x1ed0a0(0x2b7):'')+_0x1ed0a0(0x8ce);const _0x5abaae=_0x387108['dataset'][_0x1ed0a0(0x4a3)],_0x5b271a=_0x565476=>{const _0x3bb5d6=_0x1ed0a0;if(!_0x565476)return;_0x565476[_0x3bb5d6(0x67b)][_0x3bb5d6(0x602)]('bg-green-200',_0x3bb5d6(0xbf9),_0x3bb5d6(0x4db)),setTimeout(()=>{const _0xec632c=_0x3bb5d6;_0x565476['classList'][_0xec632c(0x7d5)](_0xec632c(0x5d8));},0x9c4);};if(_0x5abaae===_0x1ed0a0(0x474)){const _0x555120=Array[_0x1ed0a0(0xa4f)](_0x387108[_0x1ed0a0(0xdd7)](_0x1ed0a0(0xc38))),_0x270729=_0x555120[_0x1ed0a0(0x4ce)](_0x5d54e8=>_0x5d54e8[_0x1ed0a0(0x734)][_0x1ed0a0(0x46b)]()[_0x1ed0a0(0x660)]()===_0x21da41['suggestedAnswer'][_0x1ed0a0(0x46b)]()['toLowerCase']());if(_0x270729!==-0x1){const _0x47afba=_0x387108[_0x1ed0a0(0x5c7)](_0x1ed0a0(0xdb9)+_0x270729+'\x22]');_0x47afba&&(_0x47afba[_0x1ed0a0(0x4c6)]=!![],_0x5b271a(_0x47afba[_0x1ed0a0(0xbc5)]('div')));}}else{if(_0x5abaae===_0x1ed0a0(0xa9d)||_0x5abaae==='matching_item'){const _0x31099e=_0x387108[_0x1ed0a0(0x5c7)](_0x1ed0a0(0x2c5));_0x31099e&&(_0x31099e[_0x1ed0a0(0x734)]=_0x21da41[_0x1ed0a0(0xbe4)],_0x5b271a(_0x31099e));}else{if(_0x5abaae===_0x1ed0a0(0x34e)){const _0x47b117=_0x21da41[_0x1ed0a0(0xbe4)]['trim']()[_0x1ed0a0(0x660)](),_0x28f16a=_0x387108['querySelector'](_0x1ed0a0(0xdb9)+_0x47b117+'\x22]');_0x28f16a&&(_0x28f16a[_0x1ed0a0(0x4c6)]=!![],_0x5b271a(_0x28f16a[_0x1ed0a0(0xbc5)](_0x1ed0a0(0x816))));}}}}else _0x21da41['isCorrect']&&(_0x37bcc5=_0x1ed0a0(0x9e2));}_0x387108[_0x1ed0a0(0x98b)]('beforeend',_0x37bcc5);}),showMessage(_0x2217df(0xdf4));}async function handleVerifyAnswers(){const _0x13ac4d=_0x4c4cf8;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x13ac4d(0xb04));return;}const _0x3fc464=document[_0x13ac4d(0x967)](_0x13ac4d(0x2d7));_0x3fc464[_0x13ac4d(0x367)]=!![],_0x3fc464[_0x13ac4d(0x66e)]=_0x13ac4d(0x35f);try{const _0x568b57=currentQuizData[_0x13ac4d(0x271)][_0x13ac4d(0x928)]((_0x490e9e,_0xc69481)=>{const _0x113636=_0x13ac4d;let _0x38ef58='';const _0x1a0a1c=_0x490e9e['questionType']||currentQuizData[_0x113636(0xa28)];switch(_0x1a0a1c){case _0x113636(0x474):_0x38ef58=_0x490e9e[_0x113636(0x2e6)][_0x490e9e['correctAnswerIndex']];break;case _0x113636(0xa9d):_0x38ef58=_0x490e9e[_0x113636(0x586)];break;case'true_false':_0x38ef58=_0x490e9e['correctAnswer']['toString']();break;case _0x113636(0xa02):_0x38ef58=_0x490e9e['correctResponse'];break;}return{'question':_0x490e9e[_0x113636(0xcc5)]||_0x490e9e[_0x113636(0xa42)],'options':_0x490e9e['options']||null,'proposedAnswer':_0x38ef58};}),_0x543c12='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x13ac4d(0xa88)](_0x568b57)+_0x13ac4d(0x96a),_0x336962={'type':_0x13ac4d(0x34a),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x13ac4d(0xbad)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':_0x13ac4d(0x3db)},'suggestedAnswer':{'type':_0x13ac4d(0x3db)}},'required':['questionIndex',_0x13ac4d(0x4d1),_0x13ac4d(0xdae)]}},_0x1f1d6a=await callAnalysisApi(_0x543c12,{'type':'OBJECT','properties':{'result':_0x336962},'required':['result']});displayVerificationResults(_0x1f1d6a[_0x13ac4d(0x6f1)]);}catch(_0x4e7e57){console[_0x13ac4d(0x3f6)](_0x13ac4d(0xc2b),_0x4e7e57),showMessage(_0x13ac4d(0xc51));}finally{_0x3fc464[_0x13ac4d(0x367)]=![],_0x3fc464[_0x13ac4d(0x66e)]=_0x13ac4d(0x859);}}function displayVerificationResults(_0x2fcdb7){const _0x1b0ce5=_0x4c4cf8;_0x2fcdb7[_0x1b0ce5(0xa3f)](_0x4bcbb2=>{const _0x660561=_0x1b0ce5,_0x15bad3=document[_0x660561(0x5c7)](_0x660561(0x64c)+_0x4bcbb2[_0x660561(0x884)]+'\x22]');if(_0x15bad3){const _0x5635a3=_0x15bad3['querySelector'](_0x660561(0x275));if(_0x5635a3)_0x5635a3[_0x660561(0x7d5)]();let _0x510cdd='';_0x4bcbb2['isCorrect']?_0x510cdd=_0x660561(0x570):_0x510cdd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20'+_0x4bcbb2['justification']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4bcbb2['suggestedAnswer']?_0x660561(0x9b6)+_0x4bcbb2[_0x660561(0xbe4)]+'</p>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x15bad3['insertAdjacentHTML'](_0x660561(0x906),_0x510cdd);}}),showMessage(_0x1b0ce5(0xdf4));}function compareNumericalAnswers(_0x5372a6,_0x48eed1){const _0x155326=_0x4c4cf8,_0x4d2546=String(_0x5372a6)[_0x155326(0x528)](',','.')[_0x155326(0x528)](/[^\d.-]/g,'')[_0x155326(0x46b)](),_0x58f0df=String(_0x48eed1)[_0x155326(0x528)](',','.')[_0x155326(0x528)](/[^\d.-]/g,'')[_0x155326(0x46b)]();if(_0x4d2546===''||_0x58f0df==='')return![];const _0x56752b=parseFloat(_0x4d2546),_0x1cd782=parseFloat(_0x58f0df);if(isNaN(_0x56752b)||isNaN(_0x1cd782))return![];return Math[_0x155326(0x233)](_0x56752b-_0x1cd782)<0.001;}function isPotentiallyNumeric(_0x187716){const _0x16cf7f=_0x4c4cf8;if(typeof _0x187716!=='string'&&typeof _0x187716!==_0x16cf7f(0x560))return![];const _0x1d65af=String(_0x187716)[_0x16cf7f(0x528)](',','.')[_0x16cf7f(0x46b)]();return _0x1d65af!==''&&!isNaN(parseFloat(_0x1d65af))&&isFinite(_0x1d65af);}async function gradeShortAnswer(_0x25973b,_0x2a7b3d){const _0x7f9f1a=_0x4c4cf8,_0x5c3357=_0x2a7b3d[_0x7f9f1a(0x586)],_0x34d05b=String(_0x25973b)['replace'](/\$/g,'')[_0x7f9f1a(0x46b)](),_0x2989b2=String(_0x5c3357)[_0x7f9f1a(0x528)](/\$/g,'')[_0x7f9f1a(0x46b)]();if(_0x34d05b[_0x7f9f1a(0x660)]()===_0x2989b2[_0x7f9f1a(0x660)]())return!![];if(isPotentiallyNumeric(_0x34d05b)&&isPotentiallyNumeric(_0x2989b2)){if(compareNumericalAnswers(_0x34d05b,_0x2989b2))return!![];}return console[_0x7f9f1a(0xdea)](_0x7f9f1a(0x308)),await gradeShortAnswerWithAI(_0x25973b,_0x5c3357);}async function revealAnswerForAdmin(_0x4e6131,_0x448502){const _0x3ebf5f=_0x4c4cf8,_0x152294=doc(db,_0x3ebf5f(0x4e9)+appId+_0x3ebf5f(0x514),currentLiveGameId);await updateDoc(_0x152294,{'questionStatus':_0x3ebf5f(0xa55)});}function showTop5LeaderboardView(_0x5355c2){const _0x187e0f=_0x4c4cf8,_0x38968e=Object[_0x187e0f(0x8c3)](_0x5355c2['players']||{})[_0x187e0f(0x3d0)](_0x50aa2e=>_0x50aa2e['status']===_0x187e0f(0xb29));_0x38968e[_0x187e0f(0x8a7)]((_0x483c73,_0x3d2ae3)=>_0x3d2ae3[_0x187e0f(0x53c)]-_0x483c73[_0x187e0f(0x53c)]);const _0xba112c=_0x38968e['slice'](0x0,0x5),_0x4be5c7=_0x187e0f(0x5b2)+_0xba112c[_0x187e0f(0x928)]((_0x44f5ac,_0x34f567)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>'+(_0x34f567+0x1)+'.\x20'+(_0x44f5ac[_0x187e0f(0x7e7)]||Object[_0x187e0f(0xadf)](_0x5355c2['players'])[_0x187e0f(0x4c4)](_0x38484f=>_0x5355c2['players'][_0x38484f]===_0x44f5ac))+_0x187e0f(0x8b3)+_0x44f5ac[_0x187e0f(0x53c)]+_0x187e0f(0xa03))[_0x187e0f(0xbe3)]('')+_0x187e0f(0xaf7)+(_0x5355c2['currentQuestionIndex']+0x1===currentQuizData[_0x187e0f(0x271)][_0x187e0f(0xbe0)]?_0x187e0f(0xdbb):_0x187e0f(0x5ad))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x187e0f(0x66e)]=_0x4be5c7,document[_0x187e0f(0x967)](_0x187e0f(0xddf))[_0x187e0f(0x28f)](_0x187e0f(0x526),async()=>{const _0x5a55bb=_0x187e0f,_0x4650ae=doc(db,_0x5a55bb(0x4e9)+appId+_0x5a55bb(0x514),currentLiveGameId),_0x489237=_0x5355c2[_0x5a55bb(0xdc3)]+0x1;if(_0x489237<currentQuizData[_0x5a55bb(0x271)][_0x5a55bb(0xbe0)]){const _0x2cd251={'currentQuestionIndex':_0x489237,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x5a55bb(0x81e)};Object['keys'](_0x5355c2[_0x5a55bb(0x3c8)])['forEach'](_0x38b039=>{const _0x14c094=_0x5a55bb;_0x2cd251[_0x14c094(0xc21)+_0x38b039+_0x14c094(0xa05)]=![];}),await updateDoc(_0x4650ae,_0x2cd251);}else await updateDoc(_0x4650ae,{'status':'podium'});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x255e44=>{const _0x1c6c9d=_0x3869;if(_0x255e44){userId=_0x255e44[_0x1c6c9d(0x9f7)],userIdDisplay[_0x1c6c9d(0xb9a)]=userId;const _0x17ba70=await loadUserPreferences();_0x17ba70[_0x1c6c9d(0x61b)]&&(document[_0x1c6c9d(0x967)](_0x1c6c9d(0x790))[_0x1c6c9d(0x734)]=_0x17ba70[_0x1c6c9d(0x61b)]);globalDashboardSettings[_0x1c6c9d(0x826)]=_0x17ba70[_0x1c6c9d(0x826)]||_0x1c6c9d(0x39c);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x408eda,_0x3c4c1f){const _0x5b7a48=_0x4c4cf8;if(!userId)return;try{const _0x45ff72=doc(db,'artifacts/'+appId+_0x5b7a48(0xcf8)+userId+_0x5b7a48(0x428)),_0x545495={};_0x545495[_0x408eda]=_0x3c4c1f,await setDoc(_0x45ff72,_0x545495,{'merge':!![]});}catch(_0x55f896){console[_0x5b7a48(0x3f6)]('Error\x20saving\x20user\x20preference:',_0x55f896);}}async function loadUserPreferences(){const _0x3f4d7b=_0x4c4cf8;if(!userId)return{};try{const _0x367203=doc(db,_0x3f4d7b(0x4e9)+appId+_0x3f4d7b(0xcf8)+userId+_0x3f4d7b(0x428)),_0x510e5b=await getDoc(_0x367203);if(_0x510e5b[_0x3f4d7b(0x78d)]())return _0x510e5b['data']();return{};}catch(_0x55ef7c){return console['error'](_0x3f4d7b(0x6ce),_0x55ef7c),{};}}function parseIndentedBlueprint(_0x1d090d){const _0x570fa5=_0x4c4cf8,_0x3a770d=_0x1d090d[_0x570fa5(0xb7c)]('\x0a')[_0x570fa5(0x3d0)](_0xe374b1=>_0xe374b1[_0x570fa5(0x46b)]()!==''),_0x32c356=[];let _0x23cbaa=null,_0x1345ee=null;return _0x3a770d['forEach'](_0x39e9c9=>{const _0x2d74a8=_0x570fa5,_0x42dcba=_0x39e9c9[_0x2d74a8(0xad1)](/^\s*/)[0x0]['length'],_0x46cc16=_0x39e9c9[_0x2d74a8(0x46b)]();if(_0x42dcba===0x0)_0x23cbaa={'sara':_0x46cc16,'mainTopics':[]},_0x32c356['push'](_0x23cbaa),_0x1345ee=null;else{if(_0x42dcba>0x0&&_0x42dcba<0x8&&_0x23cbaa)_0x1345ee={'topicName':_0x46cc16,'subTopics':[]},_0x23cbaa['mainTopics'][_0x2d74a8(0xb0e)](_0x1345ee);else _0x42dcba>=0x8&&_0x1345ee&&_0x1345ee[_0x2d74a8(0x4a5)]['push'](_0x46cc16);}}),{'curriculum':_0x32c356};}async function handleManualBlueprintSave(){const _0xb10aa9=_0x4c4cf8,_0x2ddb89=document[_0xb10aa9(0x967)]('manual-bp-project-name')[_0xb10aa9(0x734)]['trim'](),_0x14b4e1=document[_0xb10aa9(0x967)](_0xb10aa9(0x6eb))[_0xb10aa9(0x734)][_0xb10aa9(0x46b)](),_0x482617=document[_0xb10aa9(0x967)](_0xb10aa9(0x80d))[_0xb10aa9(0x734)];if(!_0x2ddb89||!_0x14b4e1||!_0x482617){showMessage(_0xb10aa9(0xafb));return;}const _0x1579bd=parseIndentedBlueprint(_0x482617);if(!_0x1579bd[_0xb10aa9(0xba5)]||_0x1579bd['curriculum'][_0xb10aa9(0xbe0)]===0x0){showMessage(_0xb10aa9(0x667));return;}const _0x38c2f8={};let _0x4c5ebe=0x0;_0x1579bd[_0xb10aa9(0xba5)][_0xb10aa9(0xa3f)](_0x43c590=>{const _0x7fd9c9=_0xb10aa9;_0x43c590[_0x7fd9c9(0x239)]['forEach'](_0x46acd1=>{const _0x5f4e38=_0x7fd9c9;_0x46acd1[_0x5f4e38(0x4a5)][_0x5f4e38(0xa3f)](_0x240f58=>{const _0x3e675a=_0x5f4e38,_0x15db66='topic_'+Date['now']()+Math['random']()[_0x3e675a(0x2f2)](0x24)['substr'](0x2,0x9);_0x38c2f8[_0x15db66]={'sara':_0x43c590[_0x3e675a(0x756)],'mainTopic':_0x46acd1[_0x3e675a(0x89e)],'subTopic':_0x240f58,'status':_0x3e675a(0xbb1),'lessonContent':null,'order':_0x4c5ebe++};});});});try{const _0x194c29=collection(db,_0xb10aa9(0x4e9)+appId+_0xb10aa9(0xdaa));await addDoc(_0x194c29,{'projectName':_0x2ddb89,'gradeLevel':_0x14b4e1,'topics':_0x38c2f8,'createdAt':serverTimestamp()}),showMessage(_0xb10aa9(0x53d)+_0x2ddb89+_0xb10aa9(0xb8d)),document['getElementById'](_0xb10aa9(0x449))[_0xb10aa9(0x67b)]['add'](_0xb10aa9(0x75c));}catch(_0x17663b){console[_0xb10aa9(0x3f6)](_0xb10aa9(0xc99),_0x17663b),showMessage(_0xb10aa9(0xaa8));}}function handleClearAllLinksForTopic(_0x5c60fe){const _0x6f5ec9=_0x4c4cf8;showConfirmation(_0x6f5ec9(0xb7a),async()=>{const _0x1c1679=_0x6f5ec9;try{const _0x335a8c=doc(db,_0x1c1679(0x4e9)+appId+_0x1c1679(0xdaa),currentBlueprintProjectId);await updateDoc(_0x335a8c,{[_0x1c1679(0x3f8)+_0x5c60fe+_0x1c1679(0xc3c)]:[]}),showMessage(_0x1c1679(0x6cb)),openTopicQuizBank(_0x5c60fe),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x253eb0){console[_0x1c1679(0x3f6)](_0x1c1679(0x49b),_0x253eb0),showMessage(_0x1c1679(0x753));}});}function showPodiumView(_0x346be7,_0x2d8ad4='live-race'){const _0x4a8d5c=_0x4c4cf8,_0x2e8b27=Object['entries'](_0x346be7)['map'](([_0x1da2da,_0x43f471])=>({'name':_0x1da2da,'score':_0x43f471[_0x4a8d5c(0x53c)]||0x0,'badges':_0x43f471[_0x4a8d5c(0xc97)]||[],'hasPerfectScoreBonus':_0x43f471[_0x4a8d5c(0x2dd)]||![]}));_0x2e8b27[_0x4a8d5c(0x8a7)]((_0x61312c,_0x3198d5)=>{const _0x49288a=_0x4a8d5c,_0x2b2d98=_0x3198d5[_0x49288a(0x53c)]-_0x61312c['score'];if(_0x2b2d98!==0x0)return _0x2b2d98;return(_0x3198d5['badges'][_0x49288a(0xbe0)]||0x0)-(_0x61312c[_0x49288a(0xc97)][_0x49288a(0xbe0)]||0x0);});const _0x2b110f=_0x180741=>{const _0x1b87cd=_0x4a8d5c;if(!_0x180741||_0x180741[_0x1b87cd(0xbe0)]===0x0)return'';const _0x457a4a={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x1b87cd(0x4e2)+_0x180741[_0x1b87cd(0x928)](_0x5a2b64=>_0x457a4a[_0x5a2b64]||'')['join']('')+_0x1b87cd(0x83b);},_0x10e41d=_0x2e8b27[_0x4a8d5c(0x732)](0x3),_0x439bb1=_0x10e41d[_0x4a8d5c(0xbe0)]>0x0?_0x4a8d5c(0xd70)+_0x10e41d[_0x4a8d5c(0x928)]((_0xe3ffca,_0x3412be)=>{const _0x1b1caa=_0x4a8d5c,_0x5e6de2=_0xe3ffca[_0x1b1caa(0x2dd)]?_0x1b1caa(0x21f):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x3412be+0x4)+_0x1b1caa(0xcd2)+_0xe3ffca[_0x1b1caa(0x7e7)]+_0x1b1caa(0xa60)+_0xe3ffca[_0x1b1caa(0x53c)]+_0x1b1caa(0x704)+_0x5e6de2+_0x1b1caa(0x27f);})[_0x4a8d5c(0xbe3)]('')+_0x4a8d5c(0x7e0):'',_0x58c079=_0x4a8d5c(0x25c)+(_0x2e8b27[0x1]?_0x4a8d5c(0x62b)+_0x2e8b27[0x1][_0x4a8d5c(0x7e7)]+_0x4a8d5c(0x2b7)+_0x2b110f(_0x2e8b27[0x1][_0x4a8d5c(0xc97)])+_0x4a8d5c(0x864)+_0x2e8b27[0x1][_0x4a8d5c(0x53c)]+'\x20คะแนน\x20'+(_0x2e8b27[0x1][_0x4a8d5c(0x2dd)]?_0x4a8d5c(0xb01):'')+_0x4a8d5c(0xdcf):'<div\x20class=\x22flex-1\x22></div>')+_0x4a8d5c(0xbea)+(_0x2e8b27[0x0]?_0x4a8d5c(0x6dc)+_0x2e8b27[0x0][_0x4a8d5c(0x7e7)]+_0x4a8d5c(0x2b7)+_0x2b110f(_0x2e8b27[0x0]['badges'])+_0x4a8d5c(0x30d)+_0x2e8b27[0x0]['score']+_0x4a8d5c(0x704)+(_0x2e8b27[0x0][_0x4a8d5c(0x2dd)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x4a8d5c(0xd7a):'<div\x20class=\x22flex-1\x22></div>')+_0x4a8d5c(0xbea)+(_0x2e8b27[0x2]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x2e8b27[0x2][_0x4a8d5c(0x7e7)]+_0x4a8d5c(0x2b7)+_0x2b110f(_0x2e8b27[0x2]['badges'])+_0x4a8d5c(0x864)+_0x2e8b27[0x2][_0x4a8d5c(0x53c)]+_0x4a8d5c(0x704)+(_0x2e8b27[0x2][_0x4a8d5c(0x2dd)]?_0x4a8d5c(0xb01):'')+_0x4a8d5c(0x90e):_0x4a8d5c(0x70f))+_0x4a8d5c(0x5e0)+_0x439bb1+_0x4a8d5c(0xd82)+(currentMode===_0x4a8d5c(0x694)?'<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>':_0x4a8d5c(0x1e8))+_0x4a8d5c(0xb3f);liveGameView[_0x4a8d5c(0x66e)]=_0x58c079,currentMode===_0x4a8d5c(0x694)&&document[_0x4a8d5c(0x967)](_0x4a8d5c(0x53a))[_0x4a8d5c(0x28f)](_0x4a8d5c(0x526),async()=>{const _0x7a356d=_0x4a8d5c;let _0x4b65ed;_0x2d8ad4===_0x7a356d(0x9a3)?_0x4b65ed=doc(db,_0x7a356d(0x4e9)+appId+_0x7a356d(0xa4d),currentLiveGameId):_0x4b65ed=doc(db,_0x7a356d(0x4e9)+appId+_0x7a356d(0x514),currentLiveGameId),await deleteDoc(_0x4b65ed);});}function renderSyncSummaryView(_0x274993,_0xb24bb0,_0xf445ec){const _0x3ca199=_0x4c4cf8,_0x1cfa26=_0x274993[_0x3ca199(0x7e4)]||_0x3ca199(0x558),_0x591798=_0x1cfa26===_0x3ca199(0x9dc)&&_0x274993[_0x3ca199(0x94f)]===![],_0x5c3419=Object[_0x3ca199(0x8c3)](_0x274993[_0x3ca199(0x3c8)]||{}),_0x3f3b34=_0x274993['shuffledQuiz'][_0x3ca199(0x271)],_0x1cd6bc=_0xb24bb0[_0x3ca199(0x252)]||_0x274993['shuffledQuiz'][_0x3ca199(0xa28)];let _0x29c3c8=[];_0x1cd6bc===_0x3ca199(0x34e)?_0x29c3c8=[_0x3ca199(0x21d),_0x3ca199(0x774)]:_0x29c3c8=_0xb24bb0['options']||[];const _0xfd47e3=new Array(_0x29c3c8[_0x3ca199(0xbe0)])[_0x3ca199(0xbde)](0x0),_0x6bdf7={};_0x29c3c8[_0x3ca199(0xa3f)]((_0x49d85c,_0x216346)=>{_0x6bdf7[_0x216346]=[];}),Object[_0x3ca199(0xc37)](_0x274993[_0x3ca199(0x3c8)]||{})['forEach'](([_0x28d73f,_0x572b2e])=>{const _0x31fe5a=_0x3ca199;if(_0x572b2e[_0x31fe5a(0x27d)]!=='inactive'&&_0x572b2e[_0x31fe5a(0xb1e)]!==undefined&&_0x572b2e[_0x31fe5a(0xb1e)]!==null){const _0x30d771=_0x572b2e['lastAnswerIndex'];if(_0x6bdf7[_0x30d771]!==undefined){const _0x5838e0=_0x591798?_0x274993[_0x31fe5a(0xb5b)][_0x28d73f]||_0x31fe5a(0x38e):_0x28d73f;_0x6bdf7[_0x30d771]['push'](_0x5838e0),_0xfd47e3[_0x30d771]++;}}});let _0x540ff2='';const _0x1b9d83=_0x274993['currentQuestionIndex']>=_0x3f3b34[_0x3ca199(0xbe0)]-0x1;_0xf445ec?_0x1cfa26===_0x3ca199(0xac3)?_0x1b9d83?_0x540ff2=_0x3ca199(0xc68):_0x540ff2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x540ff2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x1cfa26===_0x3ca199(0xac3)?_0x540ff2=_0x3ca199(0x719):_0x540ff2=_0x3ca199(0xd6f);const _0x411fff='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>'+_0xb24bb0[_0x3ca199(0xa42)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xfd47e3[_0x3ca199(0x928)]((_0x22f28b,_0x16dbf4)=>{const _0x1d4d2f=_0x3ca199,_0x55d4d7=_0x6bdf7[_0x16dbf4][_0x1d4d2f(0xbe0)]>0x0?_0x6bdf7[_0x16dbf4][_0x1d4d2f(0xbe3)](',\x20'):_0x1d4d2f(0x2c9),_0x496ca4=_0x1d4d2f(0xd19);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x22f28b+_0x1d4d2f(0x327)+_0x496ca4+_0x1d4d2f(0xc52)+_0x16dbf4+_0x1d4d2f(0x7e3)+_0x29c3c8[_0x16dbf4]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x16dbf4+_0x1d4d2f(0x20e)+_0x55d4d7+_0x1d4d2f(0x45b);})[_0x3ca199(0xbe3)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x540ff2+_0x3ca199(0x935);liveGameView[_0x3ca199(0x66e)]=_0x411fff;if(window[_0x3ca199(0x7a4)])MathJax[_0x3ca199(0x634)]();if(_0xf445ec){const _0x2247b2=doc(db,_0x3ca199(0x4e9)+appId+_0x3ca199(0xa4d),currentLiveGameId);document[_0x3ca199(0x967)](_0x3ca199(0x6e2))?.[_0x3ca199(0x28f)]('click',async()=>{const _0x124484=_0x3ca199;await updateDoc(_0x2247b2,{'status':_0x124484(0x62a)});}),document[_0x3ca199(0x967)](_0x3ca199(0xb1d))?.[_0x3ca199(0x28f)](_0x3ca199(0x526),()=>{openScratchpad(_0xb24bb0,_0x29c3c8);}),document['getElementById']('next-sync-question-btn')?.[_0x3ca199(0x28f)]('click',async()=>{const _0x197e72=_0x3ca199,_0x279b73=_0x274993[_0x197e72(0xdc3)]+0x1,_0x112b0c={};Object[_0x197e72(0xadf)](_0x274993[_0x197e72(0x3c8)])[_0x197e72(0xa3f)](_0xc73606=>{const _0x3a51b1=_0x197e72;_0x112b0c[_0x3a51b1(0xc21)+_0xc73606+_0x3a51b1(0x39a)]=![],_0x112b0c[_0x3a51b1(0xc21)+_0xc73606+_0x3a51b1(0xcae)]=null;}),await updateDoc(_0x2247b2,{..._0x112b0c,'status':'question','currentQuestionIndex':_0x279b73,'questionDisplayedAt':serverTimestamp()});}),document[_0x3ca199(0x967)](_0x3ca199(0x68d))?.[_0x3ca199(0x28f)]('click',async()=>{const _0x233bf3=_0x3ca199;await updateDoc(_0x2247b2,{'status':_0x233bf3(0x62a),'reviewQuestionIndex':0x0});});}}async function handleShowStudentRankings(){const _0x1eecc1=_0x4c4cf8,_0x5b23cf=document[_0x1eecc1(0x5c7)](_0x1eecc1(0x1f2));_0x5b23cf&&(_0x5b23cf[_0x1eecc1(0x66e)]=_0x1eecc1(0xa10));const _0x1611c9=document['querySelector'](_0x1eecc1(0xc15));_0x1611c9&&(_0x1611c9[_0x1eecc1(0x66e)]=_0x1eecc1(0xd17));const _0xd7f7a=document[_0x1eecc1(0x967)](_0x1eecc1(0x624));_0xd7f7a['classList'][_0x1eecc1(0x7d5)](_0x1eecc1(0x75c)),document['getElementById'](_0x1eecc1(0x289))[_0x1eecc1(0x508)]=()=>_0xd7f7a[_0x1eecc1(0x67b)][_0x1eecc1(0x602)]('hidden');const _0xd63f0=document['getElementById'](_0x1eecc1(0x489)),_0x5ef206=document[_0x1eecc1(0x967)](_0x1eecc1(0x86c)),_0x4379a3=document[_0x1eecc1(0x967)](_0x1eecc1(0x58f)),_0x233fb6=document['getElementById'](_0x1eecc1(0x71b));_0xd63f0[_0x1eecc1(0x508)]=()=>{const _0x517719=_0x1eecc1;_0xd63f0[_0x517719(0x67b)][_0x517719(0x602)](_0x517719(0xb29)),_0x5ef206['classList'][_0x517719(0x7d5)](_0x517719(0xb29)),_0x4379a3[_0x517719(0x67b)]['remove']('hidden'),_0x233fb6[_0x517719(0x67b)][_0x517719(0x602)](_0x517719(0x75c));},_0x5ef206[_0x1eecc1(0x508)]=()=>{const _0x4cfba6=_0x1eecc1;_0x5ef206['classList'][_0x4cfba6(0x602)](_0x4cfba6(0xb29)),_0xd63f0[_0x4cfba6(0x67b)][_0x4cfba6(0x7d5)](_0x4cfba6(0xb29)),_0x233fb6[_0x4cfba6(0x67b)]['remove']('hidden'),_0x4379a3[_0x4cfba6(0x67b)][_0x4cfba6(0x602)]('hidden');};try{const _0xa16c77=collection(db,_0x1eecc1(0x4e9)+appId+_0x1eecc1(0x868)+currentQuizData['id']+_0x1eecc1(0xa24)),_0x3ff4ad=await getDocs(_0xa16c77),_0x24ee48=_0x3ff4ad[_0x1eecc1(0x9ff)]['map'](_0x5b031e=>_0x5b031e['data']());renderQuizLeaderboard(_0x24ee48,currentQuizData,_0x1eecc1(0xa2c));const _0x12abc2=collection(db,_0x1eecc1(0x4e9)+appId+_0x1eecc1(0x9ef)+currentQuizData[_0x1eecc1(0x6fe)]+_0x1eecc1(0xc5a)),_0x475641=await getDocs(_0x12abc2),_0x3414c5=_0x475641[_0x1eecc1(0x9ff)][_0x1eecc1(0x928)](_0x3c7ea2=>_0x3c7ea2[_0x1eecc1(0x6bc)]());renderLeaderboard(_0x3414c5,_0x1eecc1(0xa15));}catch(_0x1a9991){console['error'](_0x1eecc1(0xc93),_0x1a9991),showMessage(_0x1eecc1(0x9d9));}}async function handleSaveToBank(_0x9ccb71){const _0x1d8ccb=_0x4c4cf8,_0x351766=_0x9ccb71[_0x1d8ccb(0xd66)],_0x1540a8=_0x351766[_0x1d8ccb(0x305)][_0x1d8ccb(0x923)],_0x460ed8=currentQuizData[_0x1d8ccb(0x271)][_0x1540a8];if(!userId){showMessage(_0x1d8ccb(0x8c7));return;}try{const _0x3d867b={..._0x460ed8,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x526638=collection(db,'artifacts/'+appId+_0x1d8ccb(0xcf8)+userId+_0x1d8ccb(0xce7));await addDoc(_0x526638,_0x3d867b),showMessage(_0x1d8ccb(0x6b4)),_0x351766[_0x1d8ccb(0x67b)][_0x1d8ccb(0x7d5)](_0x1d8ccb(0x95a)),_0x351766[_0x1d8ccb(0x67b)]['add'](_0x1d8ccb(0xa87)),_0x351766[_0x1d8ccb(0x367)]=!![];}catch(_0x4f05f2){console[_0x1d8ccb(0x3f6)](_0x1d8ccb(0x73a),_0x4f05f2),showMessage(_0x1d8ccb(0x843));}}async function selectProjectAndGenerateBlueprintQuiz(_0x46c382,_0x24ac52=null,_0x29465e=null,_0x3595c2=![]){const _0x301956=_0x4c4cf8;cameFromBlueprint=!![];const _0xd80f58=document[_0x301956(0x967)](_0x301956(0x6d7))?.[_0x301956(0x734)][_0x301956(0x46b)]();let _0x4e5b99=null;if(_0xd80f58){showMessage(_0x301956(0x4cb));try{const _0x3a460e=await fetchFileFromUrl(_0xd80f58,_0x301956(0xb22)),_0x43c8e4=await new Promise((_0x4a897e,_0x387b90)=>{const _0x40eb28=_0x301956,_0x3b6112=new FileReader();_0x3b6112[_0x40eb28(0x8c1)](_0x3a460e),_0x3b6112[_0x40eb28(0x2cc)]=()=>_0x4a897e(_0x3b6112[_0x40eb28(0x6f1)][_0x40eb28(0xb7c)](',')[0x1]),_0x3b6112[_0x40eb28(0x463)]=_0x387b90;});_0x4e5b99=[{'inlineData':{'mimeType':_0x3a460e[_0x301956(0xd44)],'data':_0x43c8e4}}],messageModal[_0x301956(0x67b)][_0x301956(0x602)]('hidden');}catch(_0x1d04ac){console[_0x301956(0x3f6)](_0x301956(0x31b),_0x1d04ac),showMessage(_0x301956(0x5e5));}}const _0xab19f5=document['getElementById'](_0x301956(0xc4c)),_0x3861ae=document[_0x301956(0x967)](_0x301956(0xdd5)),_0x382476=_0xab19f5[_0x301956(0x5c7)]('h3'),_0x24f671=document[_0x301956(0x967)](_0x301956(0xc77)),_0x5a4858=document[_0x301956(0x967)](_0x301956(0xa4e));_0x382476[_0x301956(0xb9a)]=_0x301956(0xdc8),_0x24f671[_0x301956(0xb9a)]=_0x301956(0x638),_0x24f671['disabled']=!![];allProjects[_0x301956(0xbe0)]===0x0?_0x3861ae[_0x301956(0x66e)]='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x3861ae[_0x301956(0x66e)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects[_0x301956(0x928)](_0x296d27=>_0x301956(0x63b)+_0x296d27['id']+'\x22>'+_0x296d27[_0x301956(0x453)]+'</option>')[_0x301956(0xbe3)](''),_0x24f671[_0x301956(0x367)]=![]);_0xab19f5['classList'][_0x301956(0x7d5)](_0x301956(0x75c));const _0x5d2d03=async()=>{const _0x345b6b=_0x301956,_0x1618f2=_0x3861ae['value'];if(!_0x1618f2){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0xab19f5[_0x345b6b(0x67b)][_0x345b6b(0x602)]('hidden'),document[_0x345b6b(0x967)](_0x345b6b(0x912))[_0x345b6b(0x67b)][_0x345b6b(0x602)](_0x345b6b(0x75c)),await loadProjectDetails(_0x1618f2),showView('project-detail'),handleGenerateQuizFromBlueprintTopic(_0x46c382,_0x24ac52,_0x1618f2,_0x29465e,_0x3595c2,_0x4e5b99),_0x1183d1();},_0x1183d1=()=>{const _0x3d7ce6=_0x301956;_0x382476['textContent']=_0x3d7ce6(0x664),_0x24f671[_0x3d7ce6(0xb9a)]=_0x3d7ce6(0x7bb),_0x24f671['removeEventListener'](_0x3d7ce6(0x526),_0x5d2d03),_0x5a4858['removeEventListener'](_0x3d7ce6(0x526),_0x1183d1),_0x24f671[_0x3d7ce6(0x28f)](_0x3d7ce6(0x526),confirmMoveQuiz);};_0x24f671[_0x301956(0x965)]('click',confirmMoveQuiz),_0x24f671[_0x301956(0x28f)](_0x301956(0x526),_0x5d2d03),_0x5a4858['addEventListener'](_0x301956(0x526),_0x1183d1);}function listenForStarredQuizzes(){const _0x1346d9=_0x4c4cf8;if(!userId)return;const _0x5b206a=collection(db,'artifacts/'+appId+_0x1346d9(0x2fe)),_0x40b708=query(_0x5b206a,where(_0x1346d9(0x69c),'==',!![]));onSnapshot(_0x40b708,_0x616bc1=>{const _0xf947f0=_0x1346d9;starredQuizzes=_0x616bc1[_0xf947f0(0x9ff)][_0xf947f0(0x928)](_0x3bee0d=>({'id':_0x3bee0d['id'],..._0x3bee0d[_0xf947f0(0x6bc)]()})),currentProjectId===_0xf947f0(0x9e5)?renderQuizzes():renderProjects();},_0x590c3b=>{const _0x44c3c0=_0x1346d9;console[_0x44c3c0(0x3f6)](_0x44c3c0(0x73e),_0x590c3b);});}function listenForFileShortcuts(){const _0x3d9d7b=_0x4c4cf8,_0x37207f=doc(db,_0x3d9d7b(0x430),_0x3d9d7b(0x3e5));onSnapshot(_0x37207f,_0x249e30=>{const _0x27c21f=_0x3d9d7b;let _0x5192d2=[],_0x416f44=[],_0x3b867b={};if(_0x249e30[_0x27c21f(0x78d)]()){const _0x5e6ef4=_0x249e30[_0x27c21f(0x6bc)]();_0x5192d2=_0x5e6ef4[_0x27c21f(0x520)]||[],_0x416f44=_0x5e6ef4[_0x27c21f(0x518)]||[],_0x3b867b=_0x5e6ef4['fileShortcutOrder']||{};}!_0x416f44['find'](_0x3746b1=>_0x3746b1['id']===_0x27c21f(0xa9a))&&_0x416f44[_0x27c21f(0x2d5)]({'id':_0x27c21f(0xa9a),'name':_0x27c21f(0xa20),'isDefault':!![]}),!_0x5192d2[_0x27c21f(0x4c4)](_0x5057ad=>_0x5057ad['id']===_0x27c21f(0x621))&&_0x5192d2[_0x27c21f(0x2d5)]({'id':_0x27c21f(0x621),'name':_0x27c21f(0x65e),'url':'','isDefault':!![]}),!_0x5192d2[_0x27c21f(0x4c4)](_0x32953f=>_0x32953f['id']===_0x27c21f(0xbb9))&&_0x5192d2[_0x27c21f(0x2d5)]({'id':'file-default-2','name':'ไฟล์ลัด\x202','url':'','isDefault':!![]}),fileShortcuts=_0x5192d2,fileShortcutTabs=_0x416f44,fileShortcutOrder=_0x3b867b,renderFileShortcuts(),!document[_0x27c21f(0x967)](_0x27c21f(0xd15))['classList'][_0x27c21f(0x8de)]('hidden')&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x4c651b=_0x4c4cf8,_0x5a1621=doc(db,_0x4c651b(0x430),_0x4c651b(0x3e5));try{await setDoc(_0x5a1621,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x28567c){console[_0x4c651b(0x3f6)]('Error\x20saving\x20file\x20shortcut\x20config:',_0x28567c);}}function renderAdditionalFileShortcutsModal(){const _0x39fd85=_0x4c4cf8,_0x2e9900=document[_0x39fd85(0x967)]('file-shortcut-tabs-nav'),_0x5f0620=document[_0x39fd85(0x967)](_0x39fd85(0xa61));if(!_0x2e9900||!_0x5f0620)return;_0x2e9900[_0x39fd85(0x66e)]=fileShortcutTabs[_0x39fd85(0x928)](_0x556fea=>{const _0x38bac1=_0x39fd85,_0x5f6336=_0x556fea['id']===activeFileShortcutTabId;return _0x38bac1(0x56f)+_0x556fea['id']+_0x38bac1(0xd8f)+(_0x5f6336?_0x38bac1(0x4f4):_0x38bac1(0x267))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x556fea[_0x38bac1(0x7e7)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x556fea['name']+_0x38bac1(0x69e)+(!_0x556fea[_0x38bac1(0x6ec)]?_0x38bac1(0x38c)+_0x556fea['id']+_0x38bac1(0x48f):'')+_0x38bac1(0x887);})['join']('');const _0x1af20d=fileShortcutTabs[_0x39fd85(0x4c4)](_0x10f137=>_0x10f137['id']===activeFileShortcutTabId);let _0x4e71cc=_0x1af20d?.[_0x39fd85(0x6ec)]?[...fileShortcuts]:fileShortcuts[_0x39fd85(0x3d0)](_0x49226c=>(_0x1af20d?.[_0x39fd85(0x3ec)]||[])[_0x39fd85(0xb02)](_0x49226c['id']));const _0x10fa45=fileShortcutOrder[activeFileShortcutTabId]||[];_0x4e71cc[_0x39fd85(0x8a7)]((_0x364ae6,_0x3c056f)=>{const _0x4e0cf0=_0x39fd85,_0x320f55=_0x10fa45[_0x4e0cf0(0xbf6)](_0x364ae6['id']),_0x3b9028=_0x10fa45[_0x4e0cf0(0xbf6)](_0x3c056f['id']);return(_0x320f55===-0x1?Infinity:_0x320f55)-(_0x3b9028===-0x1?Infinity:_0x3b9028);}),_0x5f0620[_0x39fd85(0x66e)]=_0x4e71cc['map'](_0x53269f=>{const _0x58ebed=_0x39fd85,_0x5776e9=_0x53269f['url']?'📄':'🔗',_0x59d37c=fileShortcutTabs['filter'](_0x1cda9f=>!_0x1cda9f[_0x58ebed(0x6ec)]),_0x22c7fe=_0x1af20d['isDefault']&&_0x59d37c[_0x58ebed(0xbe0)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x59d37c[_0x58ebed(0x928)](_0x13e43b=>_0x58ebed(0x9f9)+_0x53269f['id']+_0x58ebed(0xabd)+_0x13e43b['id']+'\x22>'+_0x13e43b['name']+_0x58ebed(0x5fd))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';return _0x58ebed(0x398)+_0x53269f['id']+_0x58ebed(0xbdf)+_0x5776e9+'\x20'+_0x53269f['name']+_0x58ebed(0x98f)+_0x53269f['id']+_0x58ebed(0x9a0)+_0x53269f['id']+_0x58ebed(0x76c)+(!_0x53269f['isDefault']?_0x58ebed(0x902)+_0x53269f['id']+_0x58ebed(0x2e3):'')+_0x58ebed(0xb0c)+(!_0x1af20d[_0x58ebed(0x6ec)]?'<button\x20data-shortcut-id=\x22'+_0x53269f['id']+_0x58ebed(0x60c):'')+_0x58ebed(0xb0c)+_0x22c7fe+_0x58ebed(0xdc1);})[_0x39fd85(0xbe3)]('')||_0x39fd85(0x7d1),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x2d409b=_0x4c4cf8;document[_0x2d409b(0xdd7)](_0x2d409b(0x5f0))['forEach'](_0x55e65f=>{const _0xfbaa75=_0x2d409b;_0x55e65f[_0xfbaa75(0x508)]=_0x4f39cf=>{const _0x2104ff=_0xfbaa75;activeFileShortcutTabId=_0x4f39cf[_0x2104ff(0xd66)]['dataset'][_0x2104ff(0x9d2)],renderAdditionalFileShortcutsModal();},_0x55e65f[_0xfbaa75(0x6be)]=_0xb27550=>{const _0xb9de77=_0xfbaa75,_0x13f658=_0xb27550[_0xb9de77(0xd66)]['querySelector'](_0xb9de77(0x365));_0xb27550['currentTarget'][_0xb9de77(0x5c7)]('.tab-name-display')[_0xb9de77(0x67b)][_0xb9de77(0x602)](_0xb9de77(0x75c)),_0x13f658['classList'][_0xb9de77(0x7d5)](_0xb9de77(0x75c)),_0x13f658[_0xb9de77(0x44f)](),_0x13f658['select']();};}),document['querySelectorAll'](_0x2d409b(0x27b))[_0x2d409b(0xa3f)](_0x1ee124=>{const _0x577d6b=_0x2d409b,_0x45ef11=()=>{const _0x104b9f=_0x3869,_0x4f2f1d=_0x1ee124['closest'](_0x104b9f(0x5f0))[_0x104b9f(0x305)][_0x104b9f(0x9d2)],_0x5d3f4b=fileShortcutTabs['find'](_0xf1dea6=>_0xf1dea6['id']===_0x4f2f1d);_0x5d3f4b&&(_0x5d3f4b[_0x104b9f(0x7e7)]=_0x1ee124[_0x104b9f(0x734)][_0x104b9f(0x46b)]()||_0x5d3f4b[_0x104b9f(0x7e7)],saveFileShortcutConfig());};_0x1ee124[_0x577d6b(0x94a)]=_0x45ef11,_0x1ee124['onkeydown']=_0x4c6ec5=>{const _0x59cbbb=_0x577d6b;if(_0x4c6ec5[_0x59cbbb(0x6d8)]===_0x59cbbb(0xb61))_0x1ee124[_0x59cbbb(0xbe6)]();};}),document[_0x2d409b(0xdd7)]('.delete-file-shortcut-tab-btn')[_0x2d409b(0xa3f)](_0x5885ff=>_0x5885ff[_0x2d409b(0x508)]=_0x2e6693=>{const _0x42600e=_0x2d409b,_0x1ddaea=_0x2e6693[_0x42600e(0xd66)]['dataset']['tabId'];showConfirmation(_0x42600e(0x362),()=>{const _0x2cd7b5=_0x42600e;fileShortcutTabs=fileShortcutTabs['filter'](_0x40b50d=>_0x40b50d['id']!==_0x1ddaea),delete fileShortcutOrder[_0x1ddaea];if(activeFileShortcutTabId===_0x1ddaea)activeFileShortcutTabId=_0x2cd7b5(0xa9a);saveFileShortcutConfig();});}),document[_0x2d409b(0xdd7)](_0x2d409b(0x635))[_0x2d409b(0xa3f)](_0x300bc7=>_0x300bc7[_0x2d409b(0x508)]=_0xddc0f6=>{const _0x484ee4=_0x2d409b;_0xddc0f6[_0x484ee4(0x6c3)]();const {shortcutId:_0x20cf65,targetTabId:_0x33c8c0}=_0xddc0f6[_0x484ee4(0xd66)][_0x484ee4(0x305)],_0x46cfc7=fileShortcutTabs[_0x484ee4(0x4c4)](_0x1af164=>_0x1af164['id']===_0x33c8c0);_0x46cfc7&&!_0x46cfc7[_0x484ee4(0x3ec)][_0x484ee4(0xb02)](_0x20cf65)&&(_0x46cfc7['shortcutIds']['push'](_0x20cf65),saveFileShortcutConfig());}),document[_0x2d409b(0xdd7)](_0x2d409b(0x3c6))['forEach'](_0x4cb9c4=>_0x4cb9c4['onclick']=_0x93e115=>{const _0x550ccc=_0x2d409b,_0x5b84d9=_0x93e115[_0x550ccc(0xd66)][_0x550ccc(0x305)]['shortcutId'],_0x481024=fileShortcutTabs['find'](_0x372a19=>_0x372a19['id']===activeFileShortcutTabId);_0x481024&&!_0x481024[_0x550ccc(0x6ec)]&&(_0x481024['shortcutIds']=_0x481024[_0x550ccc(0x3ec)][_0x550ccc(0x3d0)](_0x536a54=>_0x536a54!==_0x5b84d9),saveFileShortcutConfig());}),document['querySelectorAll'](_0x2d409b(0xbe7))[_0x2d409b(0xa3f)](_0x1036df=>_0x1036df['onclick']=_0x553f1e=>{const _0x581441=_0x2d409b;_0x553f1e[_0x581441(0xa1e)]();const _0x86c349=_0x553f1e[_0x581441(0xd66)][_0x581441(0x72c)];document[_0x581441(0xdd7)](_0x581441(0x44d))[_0x581441(0xa3f)](_0x15ac0c=>_0x15ac0c[_0x581441(0x67b)][_0x581441(0x602)](_0x581441(0x75c))),_0x86c349[_0x581441(0x67b)][_0x581441(0x7d5)](_0x581441(0x75c));});const _0x3d13d3=document[_0x2d409b(0x967)]('additional-file-shortcuts-list');let _0xfbd11a=null;_0x3d13d3[_0x2d409b(0xcb6)]=_0x271c87=>{const _0x44406d=_0x2d409b;_0xfbd11a=_0x271c87[_0x44406d(0xae7)]['closest'](_0x44406d(0xb15));if(_0xfbd11a)setTimeout(()=>_0xfbd11a[_0x44406d(0x67b)][_0x44406d(0x602)]('opacity-50'),0x0);},_0x3d13d3[_0x2d409b(0xa5c)]=()=>{const _0x59148e=_0x2d409b;_0xfbd11a&&(_0xfbd11a[_0x59148e(0x67b)][_0x59148e(0x7d5)](_0x59148e(0xa00)),_0xfbd11a=null);},_0x3d13d3[_0x2d409b(0xaf6)]=_0x341b1a=>{const _0x15da71=_0x2d409b;_0x341b1a[_0x15da71(0x6c3)]();},_0x3d13d3['ondrop']=_0x15381c=>{const _0x4868f4=_0x2d409b;_0x15381c[_0x4868f4(0x6c3)]();if(_0xfbd11a){const _0x20daa8=[..._0x3d13d3['querySelectorAll'](_0x4868f4(0x91a))][_0x4868f4(0x2c1)]((_0x556230,_0x2a046b)=>{const _0x2cdcab=_0x4868f4,_0x5805b3=_0x2a046b[_0x2cdcab(0x545)](),_0x3376a0=_0x15381c['clientY']-_0x5805b3[_0x2cdcab(0x2c0)]-_0x5805b3['height']/0x2;return _0x3376a0<0x0&&_0x3376a0>_0x556230[_0x2cdcab(0xce0)]?{'offset':_0x3376a0,'element':_0x2a046b}:_0x556230;},{'offset':Number['NEGATIVE_INFINITY']})['element'];_0x20daa8==null?_0x3d13d3[_0x4868f4(0xbf4)](_0xfbd11a):_0x3d13d3[_0x4868f4(0x2ff)](_0xfbd11a,_0x20daa8);const _0x32271a=[..._0x3d13d3[_0x4868f4(0xdd7)](_0x4868f4(0xb15))][_0x4868f4(0x928)](_0xde64fd=>_0xde64fd['dataset'][_0x4868f4(0x94b)]);fileShortcutOrder[activeFileShortcutTabId]=_0x32271a,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x344ab2=_0x4c4cf8,_0x2a8327=prompt(_0x344ab2(0x7b5),_0x344ab2(0x412));_0x2a8327&&_0x2a8327[_0x344ab2(0x46b)]()&&(fileShortcutTabs[_0x344ab2(0xb0e)]({'id':_0x344ab2(0x777)+Date['now'](),'name':_0x2a8327[_0x344ab2(0x46b)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x82ec99=_0x4c4cf8,_0x23b962=document['getElementById'](_0x82ec99(0x8a4)),_0x51066c=document['getElementById']('additional-file-shortcuts-list'),_0x484147=document[_0x82ec99(0x967)](_0x82ec99(0x55f));if(_0x484147)_0x484147[_0x82ec99(0x67b)]['add'](_0x82ec99(0x75c));if(!_0x23b962||!_0x51066c)return;const _0x518ad0=fileShortcuts[_0x82ec99(0x732)](0x0,0x4),_0x25d8e8=fileShortcuts['slice'](0x4);_0x23b962[_0x82ec99(0x66e)]=_0x518ad0[_0x82ec99(0x928)](_0x5978b4=>{const _0x2c61bd=_0x82ec99,_0x3fdc1a=_0x5978b4[_0x2c61bd(0x376)]&&_0x5978b4[_0x2c61bd(0x376)][_0x2c61bd(0x46b)]()!=='',_0x1b1118=selectedFile&&selectedFile[_0x2c61bd(0x94b)]===_0x5978b4['id'];let _0x12ea3b=_0x2c61bd(0x865),_0x5138af='🔗';if(_0x1b1118)_0x12ea3b=_0x2c61bd(0x878),_0x5138af='<i\x20class=\x22fas\x20fa-check-circle\x22></i>';else _0x3fdc1a&&(_0x12ea3b='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0x5138af='📄');const _0x2c190d=!_0x5978b4[_0x2c61bd(0x6ec)]?'<button\x20data-id=\x22'+_0x5978b4['id']+_0x2c61bd(0x6a8):'';return _0x2c61bd(0xdbe)+_0x5978b4['id']+_0x2c61bd(0x568)+_0x12ea3b+_0x2c61bd(0x3fa)+_0x5138af+_0x2c61bd(0x85b)+_0x5978b4[_0x2c61bd(0x7e7)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5978b4['id']+_0x2c61bd(0x942)+_0x2c190d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x82ec99(0xbe3)](''),_0x25d8e8[_0x82ec99(0xbe0)]>0x0&&(_0x23b962[_0x82ec99(0x66e)]+=_0x82ec99(0x801)),_0x25d8e8['length']>0x0?_0x51066c[_0x82ec99(0x66e)]=_0x25d8e8[_0x82ec99(0x928)](_0x26a2cf=>_0x82ec99(0x2aa)+(_0x26a2cf[_0x82ec99(0x376)]?'📄':'🔗')+'\x20'+_0x26a2cf[_0x82ec99(0x7e7)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x26a2cf['id']+_0x82ec99(0x3e9)+_0x26a2cf['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x26a2cf[_0x82ec99(0x6ec)]?_0x82ec99(0x902)+_0x26a2cf['id']+'\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>':'')+_0x82ec99(0x4d7))['join'](''):_0x51066c['innerHTML']=_0x82ec99(0xc2d);}function openFileShortcutEditor(_0x47a9e2=null){const _0x28629f=_0x4c4cf8,_0x3a098b=document[_0x28629f(0x967)](_0x28629f(0x4bd)),_0x14a89e=document['getElementById'](_0x28629f(0x468)),_0x355228=document[_0x28629f(0x967)]('file-shortcut-id-input'),_0x3f8f5b=document[_0x28629f(0x967)](_0x28629f(0x677)),_0x51e2c9=document[_0x28629f(0x967)](_0x28629f(0xa29));if(_0x47a9e2){const _0x7a6df7=fileShortcuts[_0x28629f(0x4c4)](_0xbc3508=>_0xbc3508['id']===_0x47a9e2);if(!_0x7a6df7)return;_0x14a89e[_0x28629f(0xb9a)]=_0x28629f(0xd75),_0x355228[_0x28629f(0x734)]=_0x7a6df7['id'],_0x3f8f5b[_0x28629f(0x734)]=_0x7a6df7[_0x28629f(0x7e7)],_0x51e2c9['value']=_0x7a6df7['url']||'';}else _0x14a89e[_0x28629f(0xb9a)]=_0x28629f(0xc14),_0x355228[_0x28629f(0x734)]='',_0x3f8f5b[_0x28629f(0x734)]='',_0x51e2c9[_0x28629f(0x734)]='';_0x3a098b[_0x28629f(0x67b)]['remove'](_0x28629f(0x75c));}async function saveFileShortcutChanges(){const _0x26b855=_0x4c4cf8,_0x2d79ee=document['getElementById'](_0x26b855(0x5e2))['value'],_0x5c7b25=document[_0x26b855(0x967)](_0x26b855(0x677))['value'][_0x26b855(0x46b)](),_0x2424a2=document[_0x26b855(0x967)]('file-shortcut-url-input')['value']['trim']();if(!_0x5c7b25){showMessage(_0x26b855(0x995));return;}const _0x4d5dae={'id':_0x2d79ee||_0x26b855(0x764)+Date[_0x26b855(0xd7b)](),'name':_0x5c7b25,'url':_0x2424a2,'isDefault':_0x2d79ee[_0x26b855(0x2e2)](_0x26b855(0x875))};let _0x3c7053;_0x2d79ee?_0x3c7053=fileShortcuts[_0x26b855(0x928)](_0x4f3625=>_0x4f3625['id']===_0x2d79ee?_0x4d5dae:_0x4f3625):_0x3c7053=[...fileShortcuts,_0x4d5dae];try{const _0x1ab639=doc(db,'globalSettings',_0x26b855(0x3e5));await setDoc(_0x1ab639,{'shortcuts':_0x3c7053},{'merge':!![]}),document['getElementById'](_0x26b855(0x4bd))[_0x26b855(0x67b)][_0x26b855(0x602)](_0x26b855(0x75c));}catch(_0xf388ad){console['error']('Error\x20saving\x20file\x20shortcut:',_0xf388ad),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleFileShortcutClick(_0x4c7a8a){const _0xa56adf=_0x4c4cf8,_0x4fb3bb=fileShortcuts['find'](_0x2360f7=>_0x2360f7['id']===_0x4c7a8a);if(!_0x4fb3bb)return;if(!_0x4fb3bb[_0xa56adf(0x376)]||_0x4fb3bb['url']['trim']()===''){openFileShortcutEditor(_0x4c7a8a);return;}const _0x254251=document['querySelector'](_0xa56adf(0xa8b)+_0x4c7a8a+'\x22]');if(_0x254251){const _0x558e94=_0x254251[_0xa56adf(0x66e)];_0x254251[_0xa56adf(0x66e)]=_0xa56adf(0xbeb),_0x254251[_0xa56adf(0x367)]=!![];}document['querySelectorAll'](_0xa56adf(0x580))['forEach'](_0x4898ed=>{const _0x4a66c2=_0xa56adf;if(_0x4898ed[_0x4a66c2(0x305)]['id']!==_0x4c7a8a)_0x4898ed[_0x4a66c2(0x67b)][_0x4a66c2(0x602)](_0x4a66c2(0xa00),_0x4a66c2(0x62c));});try{const _0xc9e9dc=new URL(_0x4fb3bb[_0xa56adf(0x376)])[_0xa56adf(0x6ed)],_0x55af51=_0xc9e9dc[_0xa56adf(0xba9)](_0xc9e9dc[_0xa56adf(0x6b3)]('/')+0x1)||(_0x4fb3bb[_0xa56adf(0x376)]['includes'](_0xa56adf(0xab4))?_0xa56adf(0x7a3):_0xa56adf(0x9fa)),_0x3c8395=await fetchFileFromUrl(_0x4fb3bb['url'],_0x55af51);_0x3c8395[_0xa56adf(0x94b)]=_0x4c7a8a,selectedFile=_0x3c8395,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document[_0xa56adf(0x967)](_0xa56adf(0x3e0))[_0xa56adf(0x80c)]({'behavior':_0xa56adf(0xc8f),'block':_0xa56adf(0x40c)});}catch(_0x497594){console[_0xa56adf(0x3f6)](_0xa56adf(0x1f4),_0x497594),showMessage('เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20'+_0x497594[_0xa56adf(0xb40)]),renderFileShortcuts();}finally{document[_0xa56adf(0xdd7)](_0xa56adf(0x580))[_0xa56adf(0xa3f)](_0x3e0bd2=>{const _0x57fe59=_0xa56adf;_0x3e0bd2[_0x57fe59(0x67b)][_0x57fe59(0x7d5)](_0x57fe59(0xa00),_0x57fe59(0x62c)),_0x3e0bd2['disabled']=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x5a7d4d=_0x4c4cf8;if(allQuizzesGlobal[_0x5a7d4d(0xbe0)]>0x0)return;console[_0x5a7d4d(0xdea)](_0x5a7d4d(0xae8)),showMessage('กำลังโหลดคลังข้อสอบทั้งหมด...');try{const _0x557c1d=await getDocs(collection(db,'artifacts/'+appId+_0x5a7d4d(0x2fe)));allQuizzesGlobal=_0x557c1d['docs'][_0x5a7d4d(0x928)](_0x217e9d=>({'id':_0x217e9d['id'],..._0x217e9d[_0x5a7d4d(0x6bc)]()})),console[_0x5a7d4d(0xdea)](_0x5a7d4d(0x598)+allQuizzesGlobal['length']+'\x20quizzes\x20into\x20global\x20cache.'),messageModal[_0x5a7d4d(0x67b)]['add'](_0x5a7d4d(0x75c));}catch(_0x479b7c){console[_0x5a7d4d(0x3f6)](_0x5a7d4d(0x5ed),_0x479b7c),messageModal[_0x5a7d4d(0x67b)][_0x5a7d4d(0x602)](_0x5a7d4d(0x75c));throw new Error('ไม่สามารถโหลดคลังข้อสอบได้');}}function exportQuizAsWorksheetPDF(){const _0x141a3c=_0x4c4cf8;if(!currentQuizData||!currentQuizData[_0x141a3c(0x271)]){showMessage(_0x141a3c(0x7e6));return;}const _0x2c2186=currentQuizData,_0x4866b5=window[_0x141a3c(0xc54)]('',_0x141a3c(0x9c5)),_0x337f94=_0x28b0dc=>String[_0x141a3c(0x2a6)](0x41+_0x28b0dc),_0x1d6e0a=_0x141a3c(0x350)+_0x2c2186[_0x141a3c(0x3e7)]+_0x141a3c(0x8db)+_0x2c2186[_0x141a3c(0x3e7)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2c2186[_0x141a3c(0x271)]['map']((_0x32063a,_0x549971)=>{const _0x150eb1=_0x141a3c;let _0x37c892='';const _0x48568f=_0x32063a['questionType']||_0x2c2186[_0x150eb1(0xa28)];switch(_0x48568f){case _0x150eb1(0x474):case _0x150eb1(0x922):_0x37c892=_0x150eb1(0xd03)+_0x32063a[_0x150eb1(0x2e6)][_0x150eb1(0x928)]((_0x2ebb4a,_0x3a7656)=>_0x150eb1(0xaf0)+_0x337f94(_0x3a7656)+'.\x20'+_0x2ebb4a+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('<br>')+_0x150eb1(0x83b);break;case _0x150eb1(0x34e):_0x37c892='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x37c892='<div\x20class=\x22answer-space\x22></div>';break;}return _0x150eb1(0xc31)+(_0x549971+0x1)+_0x150eb1(0x353)+(_0x32063a[_0x150eb1(0xcc5)]||_0x32063a['questionText'])+_0x150eb1(0x4a6)+(_0x32063a[_0x150eb1(0x2bd)]?_0x150eb1(0x8fd)+_0x32063a[_0x150eb1(0x2bd)]+_0x150eb1(0x83b):'')+_0x150eb1(0x386)+_0x37c892+_0x150eb1(0x585);})[_0x141a3c(0xbe3)]('')+_0x141a3c(0x24a);_0x4866b5[_0x141a3c(0x410)][_0x141a3c(0x284)](_0x1d6e0a),_0x4866b5[_0x141a3c(0x410)][_0x141a3c(0x98c)](),_0x4866b5[_0x141a3c(0x2cc)]=function(){setTimeout(()=>{const _0x54a73e=_0x3869;_0x4866b5[_0x54a73e(0x341)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x2dea9d=_0x4c4cf8;if(!currentQuizData||!currentQuizData[_0x2dea9d(0x271)]){showMessage(_0x2dea9d(0x7e6));return;}const _0x2313cd=currentQuizData,_0x16e23b=window[_0x2dea9d(0xc54)]('',_0x2dea9d(0x9c5)),_0x1d0790=_0x1eb568=>String['fromCharCode'](0x41+_0x1eb568),_0x55926f=_0x2dea9d(0x94c)+_0x2313cd[_0x2dea9d(0x3e7)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2313cd[_0x2dea9d(0x271)]['map']((_0x1c8f62,_0x33a4dd)=>{const _0x5c6df4=_0x2dea9d;let _0x26798a='';const _0x4195b8=_0x1c8f62[_0x5c6df4(0x252)]||_0x2313cd['quizType'];switch(_0x4195b8){case _0x5c6df4(0x474):case _0x5c6df4(0x922):_0x26798a=_0x5c6df4(0x938)+_0x1c8f62['options'][_0x5c6df4(0x928)]((_0x55a95f,_0x33b412)=>_0x5c6df4(0x808)+_0x1d0790(_0x33b412)+'.\x20'+_0x55a95f+_0x5c6df4(0xcdb))[_0x5c6df4(0xbe3)](_0x5c6df4(0x823))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x5c6df4(0x34e):_0x26798a=_0x5c6df4(0xa58);break;default:_0x26798a='';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20'+_0x2313cd['topic']+_0x5c6df4(0x39b)+(_0x33a4dd+0x1)+_0x5c6df4(0x263)+(_0x1c8f62['stem']||_0x1c8f62[_0x5c6df4(0xa42)])+_0x5c6df4(0x4a6)+(_0x1c8f62['imageCode']?'<div\x20class=\x22my-6\x22>'+_0x1c8f62[_0x5c6df4(0x2bd)]+_0x5c6df4(0x83b):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x26798a+_0x5c6df4(0x696);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x16e23b['document'][_0x2dea9d(0x284)](_0x55926f),_0x16e23b[_0x2dea9d(0x410)][_0x2dea9d(0x98c)](),_0x16e23b[_0x2dea9d(0x2cc)]=function(){setTimeout(()=>{_0x16e23b['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x312b2d){const _0x448417=_0x4c4cf8,_0x3b3467=doc(db,_0x448417(0x4e9)+appId+'/public/data/quizzes',_0x312b2d);try{const _0x2d3765=await getDoc(_0x3b3467);if(_0x2d3765[_0x448417(0x78d)]()){const _0x2e0c93=_0x2d3765[_0x448417(0x6bc)]()[_0x448417(0x69c)]||![];await updateDoc(_0x3b3467,{'isStarred':!_0x2e0c93});}}catch(_0x497a49){console[_0x448417(0x3f6)](_0x448417(0x7b1),_0x497a49),showMessage(_0x448417(0x731));}}async function displayQuestionBank(){const _0x5e3978=_0x4c4cf8,_0x2855f7=document[_0x5e3978(0x967)]('bank-input-area');_0x2855f7[_0x5e3978(0x66e)]=_0x5e3978(0x7a8);try{const _0x2b0602=collection(db,'artifacts/'+appId+_0x5e3978(0xcf8)+userId+_0x5e3978(0xce7)),_0x44d73d=query(_0x2b0602),_0x38944d=await getDocs(_0x44d73d);if(_0x38944d[_0x5e3978(0x711)]){_0x2855f7[_0x5e3978(0x66e)]=_0x5e3978(0x77d);return;}let _0x574077=_0x38944d[_0x5e3978(0x9ff)][_0x5e3978(0x928)](_0x35694b=>{const _0x260464=_0x5e3978,_0x2aa783=_0x35694b[_0x260464(0x6bc)](),_0x30c9c7=_0x35694b['id'];return _0x260464(0x5ac)+JSON[_0x260464(0xa88)](_0x2aa783)+_0x260464(0xd0f)+(_0x2aa783['questionText']||_0x2aa783['stem'])+_0x260464(0x8a9)+_0x2aa783['originalTopic']+_0x260464(0xb10);})[_0x5e3978(0xbe3)]('');_0x2855f7[_0x5e3978(0x66e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0x574077+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x5e3978(0x967)](_0x5e3978(0x7a9))['addEventListener'](_0x5e3978(0x526),createQuizFromBank);}catch(_0x4809de){console['error']('Error\x20displaying\x20question\x20bank:',_0x4809de),_0x2855f7[_0x5e3978(0x66e)]=_0x5e3978(0x631);}}async function handleExportLessonToPDF(){const _0x5c7ed9=_0x4c4cf8,_0x336e78=document['getElementById'](_0x5c7ed9(0x8fa)),_0x469dfe=document[_0x5c7ed9(0x967)](_0x5c7ed9(0x50e))['textContent']||_0x5c7ed9(0x6e7);if(!_0x336e78){showMessage(_0x5c7ed9(0xad7));return;}const _0x586eea=window[_0x5c7ed9(0xc54)]('','_blank'),_0x27b6d2=_0x5c7ed9(0xc1c)+_0x469dfe+_0x5c7ed9(0xb60)+_0x469dfe+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x336e78[_0x5c7ed9(0x66e)]+_0x5c7ed9(0x24a);_0x586eea[_0x5c7ed9(0x410)]['write'](_0x27b6d2),_0x586eea[_0x5c7ed9(0x410)][_0x5c7ed9(0x98c)](),_0x586eea[_0x5c7ed9(0x2cc)]=function(){setTimeout(()=>{const _0x86d101=_0x3869;_0x586eea[_0x86d101(0x341)]();},0x7d0);};}function showAdminLiveQuestionView(_0x1ae8b6,_0x5d94dd,_0x30616c){const _0x4150c1=_0x4c4cf8,_0x33ba68=_0x1ae8b6[_0x4150c1(0x252)]||currentQuizData[_0x4150c1(0xa28)];let _0x29c146='';if(_0x33ba68===_0x4150c1(0x474)||_0x33ba68==='true_false'){const _0x379c88=_0x33ba68===_0x4150c1(0x34e)?['ใช่',_0x4150c1(0x569)]:_0x1ae8b6['options'],_0x4e9828=_0x33ba68===_0x4150c1(0x34e)?_0x1ae8b6[_0x4150c1(0x60b)]?0x0:0x1:_0x1ae8b6[_0x4150c1(0x4e7)];_0x29c146=_0x379c88[_0x4150c1(0x928)]((_0xcce2d6,_0x5b038d)=>_0x4150c1(0xd56)+(_0x5b038d===_0x4e9828)+_0x4150c1(0x765)+_0xcce2d6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4150c1(0xbe3)]('');}else{if(_0x33ba68===_0x4150c1(0xa02)){const _0xa718e=_0x1ae8b6[_0x4150c1(0x541)]||[];_0x29c146=_0xa718e[_0x4150c1(0x928)](_0x1126ae=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x1126ae===_0x1ae8b6[_0x4150c1(0x99f)])+_0x4150c1(0x765)+_0x1126ae+_0x4150c1(0xcbd))['join']('');}}const _0x51645a=_0x1ae8b6[_0x4150c1(0xcc5)]||_0x1ae8b6[_0x4150c1(0xa42)],_0x45b082=_0x4150c1(0xc0e)+(_0x5d94dd+0x1)+'\x20/\x20'+_0x30616c+_0x4150c1(0x2d2)+currentLiveGamePin+_0x4150c1(0xd42)+_0x51645a+_0x4150c1(0xce1)+_0x29c146+_0x4150c1(0x2c4);liveGameView['innerHTML']=_0x45b082,window[_0x4150c1(0x7a4)]&&MathJax['typesetPromise']&&MathJax[_0x4150c1(0x634)]([liveGameView]),document[_0x4150c1(0x967)]('reveal-answer-btn')[_0x4150c1(0x28f)](_0x4150c1(0x526),()=>revealAnswerForAdmin(_0x5d94dd,_0x30616c)),document['getElementById'](_0x4150c1(0x7ec))[_0x4150c1(0x28f)](_0x4150c1(0x526),async()=>{const _0x40c3ee=_0x4150c1;showConfirmation(_0x40c3ee(0x55b),async()=>{const _0x18633f=_0x40c3ee,_0xa8b596=doc(db,_0x18633f(0x4e9)+appId+_0x18633f(0x514),currentLiveGameId);await updateDoc(_0xa8b596,{'status':_0x18633f(0xbfa)});});}),document[_0x4150c1(0x967)](_0x4150c1(0xde2))['addEventListener']('click',()=>{const _0x2e3e19=_0x4150c1;document[_0x2e3e19(0x967)]('live-player-management')[_0x2e3e19(0x67b)][_0x2e3e19(0x992)]('hidden');});}function promptForProjectBeforeGenerating(_0x457339){const _0xe378d=_0x4c4cf8,_0x2a3b4a=document[_0xe378d(0x967)]('move-quiz-modal'),_0x277c9a=document[_0xe378d(0x967)]('move-quiz-project-select'),_0x3c923e=_0x2a3b4a[_0xe378d(0x5c7)]('h3'),_0x229495=document[_0xe378d(0x967)]('confirm-move-quiz-btn'),_0x12db5b=document[_0xe378d(0x967)](_0xe378d(0xa4e));_0x3c923e['textContent']=_0xe378d(0xdc8),_0x229495[_0xe378d(0xb9a)]='เลือกและเริ่มสร้าง',_0x229495[_0xe378d(0x367)]=!![];allProjects[_0xe378d(0xbe0)]===0x0?_0x277c9a[_0xe378d(0x66e)]='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x277c9a[_0xe378d(0x66e)]=_0xe378d(0xb8c)+allProjects['map'](_0x2a37eb=>_0xe378d(0x63b)+_0x2a37eb['id']+'\x22>'+_0x2a37eb[_0xe378d(0x453)]+_0xe378d(0xb96))['join'](''),_0x229495[_0xe378d(0x367)]=![]);_0x2a3b4a[_0xe378d(0x67b)][_0xe378d(0x7d5)](_0xe378d(0x75c));const _0x546e46=async()=>{const _0x9d85f6=_0xe378d,_0x62bc44=_0x277c9a['value'];if(!_0x62bc44){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0x2a3b4a['classList'][_0x9d85f6(0x602)](_0x9d85f6(0x75c)),await loadProjectDetails(_0x62bc44),showView(_0x9d85f6(0xd22)),handleGenerateQuizFromBlueprintTopic(_0x457339),_0x5f33ad();},_0x5f33ad=()=>{const _0x17cda7=_0xe378d;_0x3c923e['textContent']=_0x17cda7(0x664),_0x229495['textContent']='ย้าย',_0x229495[_0x17cda7(0x965)](_0x17cda7(0x526),_0x546e46),_0x12db5b[_0x17cda7(0x965)](_0x17cda7(0x526),_0x5f33ad),_0x229495[_0x17cda7(0x28f)]('click',confirmMoveQuiz);};_0x229495['removeEventListener']('click',confirmMoveQuiz),_0x229495[_0xe378d(0x28f)]('click',_0x546e46),_0x12db5b['addEventListener']('click',_0x5f33ad);}function showStudentLiveQuestionView(_0x430b34,_0x35b5f9,_0x5af6b9){const _0x140ec7=_0x4c4cf8,_0x333a41=_0x430b34[_0x140ec7(0x252)]||currentQuizData[_0x140ec7(0xa28)];let _0x1bcfdf='';if(_0x333a41===_0x140ec7(0x474)||_0x333a41===_0x140ec7(0x34e)){const _0x51524d=_0x333a41==='true_false'?[_0x140ec7(0x6c8),_0x140ec7(0x569)]:_0x430b34[_0x140ec7(0x2e6)];_0x1bcfdf=_0x51524d['map']((_0x2435f9,_0x54568b)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x54568b+_0x140ec7(0x4f0)+_0x2435f9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x140ec7(0xbe3)]('');}else{if(_0x333a41===_0x140ec7(0xa02)){const _0x15b744=_0x430b34['allResponses']||[];_0x1bcfdf=_0x15b744['map']((_0x170cc3,_0x3d0e61)=>_0x140ec7(0x325)+_0x3d0e61+_0x140ec7(0x4f0)+_0x170cc3+_0x140ec7(0x9c3))[_0x140ec7(0xbe3)]('');}else _0x333a41===_0x140ec7(0xa9d)&&(_0x1bcfdf='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x2f3a4a=_0x430b34[_0x140ec7(0xcc5)]||_0x430b34[_0x140ec7(0xa42)],_0x15be3e=_0x140ec7(0x8e0)+(_0x35b5f9+0x1)+_0x140ec7(0xb12)+_0x5af6b9+_0x140ec7(0x265)+_0x2f3a4a+_0x140ec7(0x8f7)+_0x1bcfdf+_0x140ec7(0x202);liveGameView[_0x140ec7(0x66e)]=_0x15be3e;window[_0x140ec7(0x7a4)]&&MathJax[_0x140ec7(0x634)]&&MathJax[_0x140ec7(0x634)]([liveGameView]);const _0x4b5255=document['getElementById'](_0x140ec7(0x63a));_0x4b5255&&_0x4b5255[_0x140ec7(0x28f)](_0x140ec7(0x526),()=>{const _0x4c775a=_0x140ec7,_0x185e62=document[_0x4c775a(0x967)]('live-short-answer-input')[_0x4c775a(0x734)];handleLiveAnswer(_0x185e62,_0x430b34);}),document['getElementById'](_0x140ec7(0xcac))[_0x140ec7(0x28f)](_0x140ec7(0x526),_0xb9b29=>{const _0x5a6b72=_0x140ec7,_0x26df68=_0xb9b29[_0x5a6b72(0xae7)][_0x5a6b72(0xbc5)](_0x5a6b72(0xb4e));if(_0x26df68){const _0x401efb=parseInt(_0x26df68['dataset'][_0x5a6b72(0x923)]);handleLiveAnswer(_0x401efb,_0x430b34);}});}function listenForBlueprintShortcuts(){const _0x453ffb=_0x4c4cf8,_0x33aebc=doc(db,_0x453ffb(0x430),'dashboardConfig');onSnapshot(_0x33aebc,_0x369bd4=>{const _0x561f9f=_0x453ffb;let _0x3b3057=[],_0x279842=[],_0x51f10f={};if(_0x369bd4['exists']()){const _0x5a2da7=_0x369bd4[_0x561f9f(0x6bc)]();_0x3b3057=_0x5a2da7[_0x561f9f(0xd33)]||[],_0x279842=_0x5a2da7['shortcutTabs']||[],_0x51f10f=_0x5a2da7[_0x561f9f(0xafa)]||{};}!_0x279842[_0x561f9f(0x4c4)](_0x241865=>_0x241865['id']===_0x561f9f(0xa9a))&&_0x279842['unshift']({'id':_0x561f9f(0xa9a),'name':_0x561f9f(0x56c),'isDefault':!![]}),!_0x3b3057['find'](_0x15ab3f=>_0x15ab3f['id']==='default-1')&&_0x3b3057[_0x561f9f(0x2d5)]({'id':_0x561f9f(0x384),'name':_0x561f9f(0x59a),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x3b3057[_0x561f9f(0x4c4)](_0x1b5f88=>_0x1b5f88['id']===_0x561f9f(0xab1))&&_0x3b3057[_0x561f9f(0x2d5)]({'id':_0x561f9f(0xab1),'name':_0x561f9f(0x66c),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x3b3057,shortcutTabs=_0x279842,shortcutOrder=_0x51f10f,renderBlueprintShortcuts(),!document[_0x561f9f(0x967)]('additional-shortcuts-modal')[_0x561f9f(0x67b)][_0x561f9f(0x8de)](_0x561f9f(0x75c))&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0x471064=_0x4c4cf8,_0x1ed9c1=document[_0x471064(0x967)]('shortcut-tabs-nav'),_0x40cedb=document[_0x471064(0x967)](_0x471064(0xd8c));if(!_0x1ed9c1||!_0x40cedb)return;_0x1ed9c1[_0x471064(0x66e)]=shortcutTabs[_0x471064(0x928)](_0x46e9f8=>{const _0x5aac45=_0x471064,_0x1912ac=_0x46e9f8['id']===activeShortcutTabId,_0x193a25=_0x5aac45(0x4f4),_0x5eaed6=_0x5aac45(0x267);return _0x5aac45(0x276)+_0x46e9f8['id']+_0x5aac45(0x95f)+(_0x1912ac?_0x193a25:_0x5eaed6)+_0x5aac45(0xd06)+_0x46e9f8[_0x5aac45(0x7e7)]+_0x5aac45(0x22c)+_0x46e9f8[_0x5aac45(0x7e7)]+_0x5aac45(0x47e)+(!_0x46e9f8[_0x5aac45(0x6ec)]?_0x5aac45(0x6b2)+_0x46e9f8['id']+_0x5aac45(0x3bf):'')+_0x5aac45(0xcbd);})[_0x471064(0xbe3)]('');const _0x1a6208=shortcutTabs['find'](_0x403b28=>_0x403b28['id']===activeShortcutTabId);let _0x48de17=[];if(_0x1a6208){if(_0x1a6208[_0x471064(0x6ec)])_0x48de17=[...blueprintShortcuts];else{const _0x1cb144=_0x1a6208[_0x471064(0x3ec)]||[];_0x48de17=blueprintShortcuts[_0x471064(0x3d0)](_0x240b4b=>_0x1cb144[_0x471064(0xb02)](_0x240b4b['id']));}}const _0x4fde29=shortcutOrder[activeShortcutTabId]||[];_0x48de17['sort']((_0x35d87f,_0x5a7be6)=>{const _0x1b396e=_0x471064,_0x5935e9=_0x4fde29[_0x1b396e(0xbf6)](_0x35d87f['id']),_0xbeb9b8=_0x4fde29['indexOf'](_0x5a7be6['id']);if(_0x5935e9===-0x1)return 0x1;if(_0xbeb9b8===-0x1)return-0x1;return _0x5935e9-_0xbeb9b8;}),_0x40cedb[_0x471064(0x66e)]=_0x48de17[_0x471064(0xbe0)]>0x0?_0x48de17[_0x471064(0x928)](_0x3dd274=>{const _0x44ed58=_0x471064;let _0x394c30='🧩';if(_0x3dd274[_0x44ed58(0x9c6)]&&_0x3dd274[_0x44ed58(0x2f6)])_0x394c30='📗';else{if(_0x3dd274[_0x44ed58(0x9c6)])_0x394c30='📘';}const _0xacc80b=shortcutTabs[_0x44ed58(0x3d0)](_0x27a093=>!_0x27a093['isDefault']),_0x51ef97=_0x1a6208[_0x44ed58(0x6ec)]&&_0xacc80b[_0x44ed58(0xbe0)]>0x0?_0x44ed58(0x769)+_0xacc80b[_0x44ed58(0x928)](_0x5009c5=>_0x44ed58(0xcc1)+_0x3dd274['id']+_0x44ed58(0xabd)+_0x5009c5['id']+'\x22>'+_0x5009c5[_0x44ed58(0x7e7)]+'</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('')+_0x44ed58(0x29f):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22'+_0x3dd274['id']+_0x44ed58(0x380)+_0x394c30+'\x20'+_0x3dd274[_0x44ed58(0x7e7)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3dd274['id']+_0x44ed58(0xd1c)+_0x3dd274['id']+'\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x3dd274[_0x44ed58(0x6ec)]?_0x44ed58(0x902)+_0x3dd274['id']+_0x44ed58(0xd62):'')+_0x44ed58(0x5c6)+(!_0x1a6208[_0x44ed58(0x6ec)]?_0x44ed58(0x3cb)+_0x3dd274['id']+_0x44ed58(0x3b5):'')+_0x44ed58(0x5c6)+_0x51ef97+_0x44ed58(0x4a2);})[_0x471064(0xbe3)](''):'<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>',setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x4d2bbb=_0x4c4cf8;document[_0x4d2bbb(0xdd7)](_0x4d2bbb(0x4fc))[_0x4d2bbb(0xa3f)](_0x50555a=>{const _0x392666=_0x4d2bbb;_0x50555a[_0x392666(0x28f)](_0x392666(0x526),_0x48add1=>{const _0x3ecf72=_0x392666;activeShortcutTabId=_0x48add1[_0x3ecf72(0xd66)][_0x3ecf72(0x305)][_0x3ecf72(0x9d2)],renderAdditionalShortcutsModal();}),_0x50555a[_0x392666(0x28f)](_0x392666(0xa12),_0x5586f8=>{const _0x2d3be1=_0x392666,_0x424a92=_0x5586f8['currentTarget'];_0x424a92[_0x2d3be1(0x5c7)](_0x2d3be1(0x7dc))['classList'][_0x2d3be1(0x602)](_0x2d3be1(0x75c));const _0x11e80f=_0x424a92[_0x2d3be1(0x5c7)](_0x2d3be1(0x365));_0x11e80f[_0x2d3be1(0x67b)][_0x2d3be1(0x7d5)]('hidden'),_0x11e80f[_0x2d3be1(0x44f)](),_0x11e80f[_0x2d3be1(0xb2b)]();});}),document[_0x4d2bbb(0xdd7)](_0x4d2bbb(0x365))[_0x4d2bbb(0xa3f)](_0x38a4ae=>{const _0x35a321=_0x4d2bbb,_0x18c985=()=>{const _0x9f6ddf=_0x3869,_0x23a177=_0x38a4ae[_0x9f6ddf(0xbc5)]('.shortcut-tab-btn')[_0x9f6ddf(0x305)][_0x9f6ddf(0x9d2)];handleRenameShortcutTab(_0x23a177,_0x38a4ae[_0x9f6ddf(0x734)]);};_0x38a4ae['addEventListener'](_0x35a321(0xbe6),_0x18c985),_0x38a4ae[_0x35a321(0x28f)]('keydown',_0x2ba4e3=>{const _0x217fe2=_0x35a321;if(_0x2ba4e3[_0x217fe2(0x6d8)]===_0x217fe2(0xb61))_0x38a4ae[_0x217fe2(0xbe6)]();});}),document['querySelectorAll'](_0x4d2bbb(0x3d8))['forEach'](_0x20d140=>{const _0x4a374a=_0x4d2bbb;_0x20d140[_0x4a374a(0x28f)](_0x4a374a(0x526),_0x51c939=>handleDeleteShortcutTab(_0x51c939['currentTarget'][_0x4a374a(0x305)][_0x4a374a(0x9d2)]));}),document['querySelectorAll'](_0x4d2bbb(0x8ec))['forEach'](_0x47425a=>{const _0x393cbb=_0x4d2bbb;_0x47425a[_0x393cbb(0x28f)](_0x393cbb(0x526),_0x161ff9=>{const _0x5b47e3=_0x393cbb;_0x161ff9[_0x5b47e3(0x6c3)]();const {shortcutId:_0x5f4214,targetTabId:_0x10b39c}=_0x161ff9[_0x5b47e3(0xd66)][_0x5b47e3(0x305)];handleMoveShortcutToTab(_0x5f4214,_0x10b39c);});}),document[_0x4d2bbb(0xdd7)]('.remove-shortcut-from-tab-btn')[_0x4d2bbb(0xa3f)](_0x39fb00=>{const _0x127f26=_0x4d2bbb;_0x39fb00['addEventListener'](_0x127f26(0x526),_0x48e399=>{const _0x52350e=_0x127f26;handleRemoveShortcutFromTab(_0x48e399[_0x52350e(0xd66)][_0x52350e(0x305)][_0x52350e(0x94b)],activeShortcutTabId);});});const _0x37f8df=document[_0x4d2bbb(0x967)](_0x4d2bbb(0xd8c));_0x37f8df['querySelectorAll'](_0x4d2bbb(0x413))[_0x4d2bbb(0xa3f)](_0xa70f92=>{const _0x99a64f=_0x4d2bbb;_0xa70f92[_0x99a64f(0x28f)](_0x99a64f(0x526),()=>{const _0x5ca3b9=_0x99a64f;document['getElementById'](_0x5ca3b9(0x36d))[_0x5ca3b9(0x67b)][_0x5ca3b9(0x602)](_0x5ca3b9(0x75c)),handleShortcutClick(_0xa70f92['dataset']['id']);});});let _0x49f3e6=null;_0x37f8df['addEventListener'](_0x4d2bbb(0xb92),_0x203b39=>{const _0x4af69d=_0x4d2bbb;_0x49f3e6=_0x203b39[_0x4af69d(0xae7)][_0x4af69d(0xbc5)](_0x4af69d(0xb15)),_0x49f3e6&&setTimeout(()=>_0x49f3e6[_0x4af69d(0x67b)][_0x4af69d(0x602)](_0x4af69d(0xa00)),0x0);}),_0x37f8df[_0x4d2bbb(0x28f)]('dragend',()=>{const _0x17463c=_0x4d2bbb;_0x49f3e6&&(_0x49f3e6[_0x17463c(0x67b)][_0x17463c(0x7d5)]('opacity-50'),_0x49f3e6=null);}),_0x37f8df[_0x4d2bbb(0x28f)]('dragover',_0x42b76a=>{const _0xf0dc6b=_0x4d2bbb;_0x42b76a[_0xf0dc6b(0x6c3)]();const _0x130ffa=[..._0x37f8df['querySelectorAll']('.shortcut-list-item:not(.opacity-50)')][_0xf0dc6b(0x2c1)]((_0x2cd8c2,_0x3e91aa)=>{const _0x9dcc00=_0xf0dc6b,_0x5e5520=_0x3e91aa['getBoundingClientRect'](),_0x445848=_0x42b76a['clientY']-_0x5e5520[_0x9dcc00(0x2c0)]-_0x5e5520[_0x9dcc00(0x761)]/0x2;return _0x445848<0x0&&_0x445848>_0x2cd8c2[_0x9dcc00(0xce0)]?{'offset':_0x445848,'element':_0x3e91aa}:_0x2cd8c2;},{'offset':Number[_0xf0dc6b(0x637)]})[_0xf0dc6b(0x67d)];_0x130ffa==null?_0x37f8df[_0xf0dc6b(0xbf4)](_0x49f3e6):_0x37f8df[_0xf0dc6b(0x2ff)](_0x49f3e6,_0x130ffa);}),_0x37f8df['addEventListener'](_0x4d2bbb(0xbfc),_0xca1b38=>{const _0x3175cc=_0x4d2bbb;_0xca1b38['preventDefault']();if(_0x49f3e6){const _0x4f12b0=[..._0x37f8df[_0x3175cc(0xdd7)](_0x3175cc(0xb15))][_0x3175cc(0x928)](_0x5540b4=>_0x5540b4[_0x3175cc(0x305)]['shortcutId']);handleShortcutOrderChange(activeShortcutTabId,_0x4f12b0);}}),document['querySelectorAll'](_0x4d2bbb(0x716))[_0x4d2bbb(0xa3f)](_0x433456=>{const _0x45fcaf=_0x4d2bbb;_0x433456[_0x45fcaf(0x28f)](_0x45fcaf(0x526),_0x106206=>{const _0x51240f=_0x45fcaf;_0x106206[_0x51240f(0xa1e)]();const _0x2aae0a=_0x106206[_0x51240f(0xd66)][_0x51240f(0x72c)],_0x3873c7=_0x2aae0a[_0x51240f(0x67b)][_0x51240f(0x8de)](_0x51240f(0x75c));document[_0x51240f(0xdd7)](_0x51240f(0x2e0))[_0x51240f(0xa3f)](_0x5cbae6=>_0x5cbae6[_0x51240f(0x67b)]['add'](_0x51240f(0x75c))),_0x3873c7&&_0x2aae0a[_0x51240f(0x67b)]['remove']('hidden');});});}document['addEventListener'](_0x4c4cf8(0x526),_0x8fdd4c=>{const _0x24167a=_0x4c4cf8;!_0x8fdd4c[_0x24167a(0xae7)][_0x24167a(0xbc5)](_0x24167a(0x8b6))&&document[_0x24167a(0xdd7)]('.move-shortcut-dropdown')[_0x24167a(0xa3f)](_0x2e5011=>_0x2e5011['classList'][_0x24167a(0x602)](_0x24167a(0x75c)));});async function saveShortcutConfig(){const _0xcca3fb=_0x4c4cf8,_0xcbbd8f=doc(db,_0xcca3fb(0x430),_0xcca3fb(0x23c));try{await setDoc(_0xcbbd8f,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x168c80){console['error'](_0xcca3fb(0x7fe),_0x168c80);}}async function handleAddShortcutTab(){const _0x942791=_0x4c4cf8,_0x1df173=prompt(_0x942791(0x7b5),_0x942791(0x412));if(!_0x1df173||_0x1df173[_0x942791(0x46b)]()==='')return;shortcutTabs[_0x942791(0xb0e)]({'id':_0x942791(0x777)+Date['now'](),'name':_0x1df173[_0x942791(0x46b)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x5c6827,_0x1e254b){const _0x1e712d=_0x4c4cf8,_0x226037=shortcutTabs[_0x1e712d(0x4c4)](_0x26689a=>_0x26689a['id']===_0x5c6827);_0x226037&&_0x1e254b[_0x1e712d(0x46b)]()!==''&&(_0x226037[_0x1e712d(0x7e7)]=_0x1e254b[_0x1e712d(0x46b)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x220a30){const _0x145339=_0x4c4cf8,_0x52b87b=shortcutTabs[_0x145339(0x4c4)](_0xa66317=>_0xa66317['id']===_0x220a30);_0x52b87b&&!_0x52b87b[_0x145339(0x6ec)]&&showConfirmation(_0x145339(0xa38)+_0x52b87b[_0x145339(0x7e7)]+_0x145339(0xd90),async()=>{const _0x31c7db=_0x145339;shortcutTabs=shortcutTabs[_0x31c7db(0x3d0)](_0x93db14=>_0x93db14['id']!==_0x220a30),delete shortcutOrder[_0x220a30];if(activeShortcutTabId===_0x220a30)activeShortcutTabId=_0x31c7db(0xa9a);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x1fdd73,_0xc04e28){const _0x92e417=_0x4c4cf8,_0x124e13=shortcutTabs['find'](_0x350b65=>_0x350b65['id']===_0xc04e28);_0x124e13&&!_0x124e13[_0x92e417(0x3ec)][_0x92e417(0xb02)](_0x1fdd73)&&(_0x124e13[_0x92e417(0x3ec)][_0x92e417(0xb0e)](_0x1fdd73),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x77db85,_0xc84056){const _0x58a58f=_0x4c4cf8,_0x283b4a=shortcutTabs[_0x58a58f(0x4c4)](_0x24a3f4=>_0x24a3f4['id']===_0xc84056);_0x283b4a&&!_0x283b4a['isDefault']&&(_0x283b4a[_0x58a58f(0x3ec)]=_0x283b4a['shortcutIds'][_0x58a58f(0x3d0)](_0x5c0db3=>_0x5c0db3!==_0x77db85),await saveShortcutConfig());}async function handleShortcutOrderChange(_0x59926b,_0x36717f){shortcutOrder[_0x59926b]=_0x36717f,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0x174be9=_0x4c4cf8,_0x4e28fa=document[_0x174be9(0x967)](_0x174be9(0xa52)),_0x488775=document[_0x174be9(0x967)](_0x174be9(0xd8c)),_0x114436=document[_0x174be9(0x967)]('shortcuts-loading-msg');_0x114436&&_0x114436['classList'][_0x174be9(0x602)](_0x174be9(0x75c));if(!_0x4e28fa||!_0x488775)return;const _0x437633=blueprintShortcuts[_0x174be9(0x732)](0x0,0x4),_0x25d863=blueprintShortcuts[_0x174be9(0x732)](0x4);_0x4e28fa['innerHTML']=_0x437633[_0x174be9(0x928)](_0x45e847=>{const _0xc7df70=_0x174be9;let _0x40d4b4=_0xc7df70(0x865),_0x541d37='🧩';if(_0x45e847[_0xc7df70(0x9c6)]&&_0x45e847[_0xc7df70(0x2f6)])_0x40d4b4='bg-green-500\x20hover:bg-green-600\x20text-white',_0x541d37='📗';else _0x45e847[_0xc7df70(0x9c6)]&&(_0x40d4b4='bg-blue-500\x20hover:bg-blue-600\x20text-white',_0x541d37='📘');const _0xc3a728=!_0x45e847['isDefault']?_0xc7df70(0x902)+_0x45e847['id']+_0xc7df70(0xa26):'';return _0xc7df70(0xdbe)+_0x45e847['id']+'\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x40d4b4+_0xc7df70(0xc7b)+_0x541d37+'\x20'+_0x45e847[_0xc7df70(0x7e7)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x45e847['id']+_0xc7df70(0x918)+_0xc3a728+_0xc7df70(0xcbd);})[_0x174be9(0xbe3)](''),_0x25d863[_0x174be9(0xbe0)]>0x0&&(_0x4e28fa[_0x174be9(0x66e)]+=_0x174be9(0x5c5)),_0x25d863[_0x174be9(0xbe0)]>0x0?_0x488775[_0x174be9(0x66e)]=_0x25d863[_0x174be9(0x928)](_0x148ce7=>{const _0x680373=_0x174be9;let _0x479c54='🧩';if(_0x148ce7[_0x680373(0x9c6)]&&_0x148ce7[_0x680373(0x2f6)])_0x479c54='📗';else _0x148ce7[_0x680373(0x9c6)]&&(_0x479c54='📘');return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+_0x479c54+'\x20'+_0x148ce7[_0x680373(0x7e7)]+_0x680373(0x9e3)+_0x148ce7['id']+_0x680373(0xd1c)+_0x148ce7['id']+_0x680373(0xc7d)+(!_0x148ce7[_0x680373(0x6ec)]?_0x680373(0x902)+_0x148ce7['id']+_0x680373(0xd62):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x174be9(0xbe3)](''):_0x488775['innerHTML']=_0x174be9(0xc2d);}function getMimeTypeFromFilename(_0x251dd3){const _0x22f8b5=_0x4c4cf8,_0xcbdd70=_0x251dd3[_0x22f8b5(0xb7c)]('.')[_0x22f8b5(0x2ad)]()[_0x22f8b5(0x660)]();switch(_0xcbdd70){case _0x22f8b5(0x95b):return _0x22f8b5(0x4ba);case _0x22f8b5(0xab7):return _0x22f8b5(0x507);default:return _0x22f8b5(0x4ba);}}function openShortcutEditor(_0x114f80=null){const _0x46dc06=_0x4c4cf8,_0x289935=document[_0x46dc06(0x967)]('shortcut-editor-modal'),_0x18a56a=document[_0x46dc06(0x967)](_0x46dc06(0xb58)),_0x5ae16e=document[_0x46dc06(0x967)](_0x46dc06(0xc42)),_0x28d3a5=document[_0x46dc06(0x967)](_0x46dc06(0x674)),_0x2f2b3c=document[_0x46dc06(0x967)](_0x46dc06(0xca1)),_0x295578=document[_0x46dc06(0x967)]('shortcut-reference-url-input');if(_0x114f80){const _0x44a177=blueprintShortcuts['find'](_0x4b2812=>_0x4b2812['id']===_0x114f80);if(!_0x44a177)return;_0x18a56a[_0x46dc06(0xb9a)]=_0x46dc06(0x8d6),_0x5ae16e[_0x46dc06(0x734)]=_0x44a177['id'],_0x28d3a5['value']=_0x44a177[_0x46dc06(0x7e7)],_0x2f2b3c['value']=_0x44a177[_0x46dc06(0x9c6)]||'',_0x295578[_0x46dc06(0x734)]=_0x44a177[_0x46dc06(0x2f6)]||'';}else _0x18a56a[_0x46dc06(0xb9a)]=_0x46dc06(0x2ef),_0x5ae16e[_0x46dc06(0x734)]='',_0x28d3a5[_0x46dc06(0x734)]='',_0x2f2b3c[_0x46dc06(0x734)]='',_0x295578[_0x46dc06(0x734)]='';_0x289935[_0x46dc06(0x67b)]['remove'](_0x46dc06(0x75c));}async function saveShortcutChanges(){const _0x406bb7=_0x4c4cf8,_0x1c3c85=document[_0x406bb7(0x967)](_0x406bb7(0xc42))[_0x406bb7(0x734)],_0x30aadd=document[_0x406bb7(0x967)](_0x406bb7(0x674))[_0x406bb7(0x734)][_0x406bb7(0x46b)](),_0x210fb7=document['getElementById'](_0x406bb7(0xca1))[_0x406bb7(0x734)][_0x406bb7(0x46b)]();if(!_0x30aadd||!_0x210fb7){showMessage(_0x406bb7(0x6aa));return;}const _0x52226c={'id':_0x1c3c85||'shortcut_'+Date[_0x406bb7(0xd7b)](),'name':_0x30aadd,'blueprintUrl':_0x210fb7,'referenceUrl':document['getElementById'](_0x406bb7(0x92c))['value'][_0x406bb7(0x46b)](),'isDefault':_0x1c3c85[_0x406bb7(0x2e2)](_0x406bb7(0xa8e))};let _0x5e2513;_0x1c3c85?_0x5e2513=blueprintShortcuts[_0x406bb7(0x928)](_0x31e7a4=>_0x31e7a4['id']===_0x1c3c85?_0x52226c:_0x31e7a4):_0x5e2513=[...blueprintShortcuts,_0x52226c];try{const _0x44b536=doc(db,_0x406bb7(0x430),'dashboardConfig');await setDoc(_0x44b536,{'blueprintShortcuts':_0x5e2513},{'merge':!![]}),document[_0x406bb7(0x967)](_0x406bb7(0xc5b))[_0x406bb7(0x67b)][_0x406bb7(0x602)](_0x406bb7(0x75c));}catch(_0x4293d1){console[_0x406bb7(0x3f6)](_0x406bb7(0xa81),_0x4293d1),showMessage(_0x406bb7(0x843));}}async function handleShortcutClick(_0x17668a){const _0x300517=_0x4c4cf8,_0x3970ed=blueprintShortcuts[_0x300517(0x4c4)](_0x541c0f=>_0x541c0f['id']===_0x17668a);if(!_0x3970ed||!_0x3970ed['blueprintUrl'])return;document[_0x300517(0x967)](_0x300517(0xb86))[_0x300517(0x67b)]['add'](_0x300517(0x75c)),document[_0x300517(0x967)](_0x300517(0xa90))[_0x300517(0x367)]=!![];const _0xb2e077=document[_0x300517(0x967)](_0x300517(0xb23)),_0x8c3673=document[_0x300517(0x967)](_0x300517(0xaf1));document[_0x300517(0x967)](_0x300517(0x59b))[_0x300517(0x67b)]['remove'](_0x300517(0x75c)),document[_0x300517(0x967)](_0x300517(0x28d))[_0x300517(0x66e)]='',_0xb2e077[_0x300517(0x67b)][_0x300517(0x7d5)]('hidden');try{_0x8c3673[_0x300517(0xb9a)]=_0x300517(0xc5e);const _0x501dbb=await fetchFileFromUrl(_0x3970ed[_0x300517(0x9c6)],_0x300517(0xb83));let _0x323d22=null;if(_0x3970ed[_0x300517(0x2f6)]){_0x8c3673[_0x300517(0xb9a)]=_0x300517(0xda1);const _0x2447c7=_0x3970ed['referenceUrl']['toLowerCase']()['endsWith'](_0x300517(0xab4))?_0x300517(0x29c):'reference.pdf';_0x323d22=await fetchFileFromUrl(_0x3970ed['referenceUrl'],_0x2447c7);}await handleGenerateFromBlueprintWithFiles(_0x501dbb,_0x323d22);}catch(_0xf2556){console[_0x300517(0x3f6)]('Error\x20processing\x20shortcut\x20click:',_0xf2556),showMessage(_0x300517(0x50b)+_0xf2556[_0x300517(0xb40)]),_0xb2e077[_0x300517(0x67b)][_0x300517(0x602)](_0x300517(0x75c));}}function getDirectDownloadUrl(_0x41ebc9){const _0x37da5c=_0x41ebc9['match'](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x37da5c&&_0x37da5c[0x1])return'https://drive.google.com/uc?export=download&id='+_0x37da5c[0x1];return _0x41ebc9;}async function fetchFileFromUrl(_0x164d8e,_0x1d6a92){const _0x5736d7=_0x4c4cf8,_0x1647f5=getDirectDownloadUrl(_0x164d8e),_0x2c3413=_0x5736d7(0x51e)+encodeURIComponent(_0x1647f5),_0x5c1485=await fetch(_0x2c3413);if(!_0x5c1485['ok'])throw new Error('ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20'+_0x5c1485[_0x5736d7(0x27d)]+')');const _0x51cb67=await _0x5c1485[_0x5736d7(0xb52)](),_0x155100=await new Promise((_0xf6a60b,_0x45e355)=>{const _0xe93b34=_0x5736d7,_0x15e747=new FileReader();_0x15e747['onloadend']=()=>_0xf6a60b(new Uint8Array(_0x15e747['result'])),_0x15e747[_0xe93b34(0x463)]=_0x45e355,_0x15e747[_0xe93b34(0xae4)](_0x51cb67[_0xe93b34(0x732)](0x0,0x4));});let _0x3cebdd='';const _0x1d7b7b=new TextDecoder()['decode'](_0x155100);return _0x1d7b7b===_0x5736d7(0x2cd)?(_0x3cebdd=_0x5736d7(0x4ba),console[_0x5736d7(0xdea)]('File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.')):(_0x3cebdd=_0x5736d7(0x507),console[_0x5736d7(0xdea)](_0x5736d7(0x9a4))),new File([_0x51cb67],_0x1d6a92,{'type':_0x3cebdd});}async function handleGenerateFromBlueprintWithFiles(_0x28ba49,_0xa8a65a=null){const _0x27de91=_0x4c4cf8;if(!_0x28ba49){showMessage(_0x27de91(0xbd9));return;}const _0x2e2818=document[_0x27de91(0x967)]('loader'),_0x47a3c6=document[_0x27de91(0x967)](_0x27de91(0xaf1));_0x2e2818[_0x27de91(0x67b)]['remove'](_0x27de91(0x75c)),document[_0x27de91(0x967)](_0x27de91(0x59b))['classList']['remove'](_0x27de91(0x75c)),document[_0x27de91(0x967)](_0x27de91(0x28d))[_0x27de91(0x66e)]='';try{_0x47a3c6[_0x27de91(0xb9a)]=_0x27de91(0x683);const _0x37f91c=await new Promise((_0x1ceed8,_0x4ce9f8)=>{const _0xf4166b=_0x27de91,_0x36b2d5=new FileReader();_0x36b2d5['readAsDataURL'](_0x28ba49),_0x36b2d5[_0xf4166b(0x2cc)]=()=>_0x1ceed8(_0x36b2d5[_0xf4166b(0x6f1)][_0xf4166b(0xb7c)](',')[0x1]),_0x36b2d5[_0xf4166b(0x463)]=_0x4ce9f8;}),_0xa21d3a=[];if(_0xa8a65a){_0x47a3c6['textContent']='กำลังอ่านไฟล์อ้างอิง...';const _0xbb6c31=await _0xa8a65a[_0x27de91(0x5cd)]();_0xa21d3a[_0x27de91(0xb0e)]({'text':_0x27de91(0xd6b)+_0xbb6c31});}const _0x2236cd=[{'text':_0x27de91(0x813)},{'inlineData':{'mimeType':_0x28ba49[_0x27de91(0xd44)],'data':_0x37f91c}},..._0xa21d3a];await handleGenerateFromBlueprint(_0x2236cd);}catch(_0x567a09){console[_0x27de91(0x3f6)](_0x27de91(0x6bb),_0x567a09),showMessage(_0x27de91(0x50b)+_0x567a09[_0x27de91(0xb40)]),_0x2e2818[_0x27de91(0x67b)][_0x27de91(0x602)]('hidden');}}async function handleLiveAnswer(_0x28a06f,_0x278608){const _0xafe21a=_0x4c4cf8;document['querySelectorAll'](_0xafe21a(0x76a))['forEach'](_0x6bed7f=>_0x6bed7f[_0xafe21a(0x367)]=!![]);const _0x5e4670=_0x278608[_0xafe21a(0x252)]||currentQuizData[_0xafe21a(0xa28)];let _0x285576=![],_0x5392f2=_0x28a06f;if(_0x5e4670==='short_answer'){const _0x304e90=(_0x28a06f||'')['toString']();_0x285576=await gradeShortAnswer(_0x304e90,_0x278608);}else{if(_0x5e4670===_0xafe21a(0x474))_0x285576=_0x28a06f===_0x278608[_0xafe21a(0x4e7)];else{if(_0x5e4670===_0xafe21a(0x34e)){const _0x410fda=_0x278608[_0xafe21a(0x60b)];_0x285576=_0x28a06f===0x0&&_0x410fda||_0x28a06f===0x1&&!_0x410fda;}else{if(_0x5e4670==='matching_item'){const _0x3687b0=_0x278608[_0xafe21a(0x541)][_0x28a06f];_0x285576=_0x3687b0===_0x278608[_0xafe21a(0x99f)],_0x5392f2=_0x3687b0;}}}}const _0x50b437=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0xcb0e25={};_0xcb0e25['players.'+currentStudentName+_0xafe21a(0xa05)]=!![],_0xcb0e25[_0xafe21a(0xc21)+currentStudentName+'.lastAnswerCorrect']=_0x285576,_0xcb0e25['players.'+currentStudentName+_0xafe21a(0xcae)]=_0x5e4670===_0xafe21a(0xa9d)||_0x5e4670===_0xafe21a(0xa02)?null:_0x28a06f,_0xcb0e25[_0xafe21a(0xc21)+currentStudentName+'.lastAnswerValue']=_0x5392f2,_0xcb0e25[_0xafe21a(0xc21)+currentStudentName+'.submittedAt']=serverTimestamp(),_0xcb0e25[_0xafe21a(0xc21)+currentStudentName+_0xafe21a(0xdff)]=![],await updateDoc(_0x50b437,_0xcb0e25),liveGameView[_0xafe21a(0x66e)]=_0xafe21a(0x374);}function showAdminSummaryView(_0x5321b1,_0x45003b){const _0xe9e572=_0x4c4cf8,_0x54a197=Object[_0xe9e572(0x8c3)](_0x5321b1[_0xe9e572(0x3c8)]||{}),_0x417342=_0x45003b[_0xe9e572(0x252)]||currentQuizData[_0xe9e572(0xa28)],_0x185ff3=_0x417342===_0xe9e572(0x34e)?['ใช่',_0xe9e572(0x569)]:_0x45003b[_0xe9e572(0x2e6)]||_0x45003b[_0xe9e572(0x541)]||[],_0x5f242e={},_0x2a2040=new Array(_0x185ff3[_0xe9e572(0xbe0)])[_0xe9e572(0xbde)](0x0);_0x185ff3[_0xe9e572(0xa3f)]((_0x4b536b,_0x538253)=>{_0x5f242e[_0x538253]=[];}),Object[_0xe9e572(0xc37)](_0x5321b1[_0xe9e572(0x3c8)]||{})[_0xe9e572(0xa3f)](([_0xe0a79c,_0xb8285c])=>{const _0x8f84bb=_0xe9e572;if(_0xb8285c[_0x8f84bb(0x27d)]===_0x8f84bb(0xb29)&&_0xb8285c['lastAnswerIndex']!==undefined){const _0x35ac2d=_0xb8285c['lastAnswerIndex'];_0x5f242e[_0x35ac2d]&&(_0x5f242e[_0x35ac2d]['push'](_0xe0a79c),_0x2a2040[_0x35ac2d]++);}});const _0x445fbb=Math[_0xe9e572(0x940)](..._0x2a2040,0x1),_0x1326ff='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>'+(_0x45003b[_0xe9e572(0xcc5)]||_0x45003b[_0xe9e572(0xa42)])+_0xe9e572(0x4f9)+_0x2a2040[_0xe9e572(0x928)]((_0x16daf9,_0x2e7a5d)=>{const _0x29140a=_0xe9e572,_0x5a5b45=_0x5f242e[_0x2e7a5d][_0x29140a(0xbe0)]>0x0?_0x5f242e[_0x2e7a5d][_0x29140a(0xbe3)](',\x20'):_0x29140a(0x2c9);let _0x453754=![];if(_0x417342===_0x29140a(0x474))_0x453754=_0x2e7a5d===_0x45003b[_0x29140a(0x4e7)];else{if(_0x417342===_0x29140a(0x34e)){const _0x4d3691=_0x45003b['correctAnswer'];_0x453754=_0x4d3691&&_0x2e7a5d===0x0||!_0x4d3691&&_0x2e7a5d===0x1;}else _0x417342==='matching_item'&&(_0x453754=_0x185ff3[_0x2e7a5d]===_0x45003b[_0x29140a(0x99f)]);}const _0x130146=_0x453754?_0x29140a(0x406):_0x29140a(0x312);return _0x29140a(0x87d)+_0x16daf9+'</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20'+_0x130146+_0x29140a(0xc52)+_0x2e7a5d+_0x29140a(0x792)+_0x185ff3[_0x2e7a5d]+_0x29140a(0xb13)+_0x2e7a5d+_0x29140a(0x20e)+_0x5a5b45+_0x29140a(0x45b);})['join']('')+_0xe9e572(0x4b3);liveGameView[_0xe9e572(0x66e)]=_0x1326ff;if(window[_0xe9e572(0x7a4)])MathJax[_0xe9e572(0x634)]();document[_0xe9e572(0x967)]('show-leaderboard-btn')[_0xe9e572(0x28f)](_0xe9e572(0x526),async()=>{const _0x388082=_0xe9e572,_0x4c0033=doc(db,_0x388082(0x4e9)+appId+_0x388082(0x514),currentLiveGameId);await updateDoc(_0x4c0033,{'questionStatus':_0x388082(0x8a2)});}),document[_0xe9e572(0x967)](_0xe9e572(0x33c))[_0xe9e572(0x28f)]('click',()=>{openScratchpad(_0x45003b,_0x185ff3);});}function showPlayerSummaryView(_0x1e1c96,_0x14b445){const _0x46b62a=_0x4c4cf8,_0x19e29a=Object[_0x46b62a(0x8c3)](_0x1e1c96[_0x46b62a(0x3c8)]||{}),_0x57ee85=_0x1e1c96[_0x46b62a(0x3c8)][_0x14b445],_0x3f8729=_0x19e29a[_0x46b62a(0x3d0)](_0x110326=>_0x110326[_0x46b62a(0x27d)]===_0x46b62a(0xb29))[_0x46b62a(0x8a7)]((_0x5e33b5,_0x2c3fb9)=>_0x2c3fb9[_0x46b62a(0x53c)]-_0x5e33b5[_0x46b62a(0x53c)]),_0x3153c7=_0x3f8729[_0x46b62a(0x4ce)](_0xfaf66e=>_0xfaf66e===_0x57ee85)+0x1,_0x4a9b3c=_0x57ee85[_0x46b62a(0x459)]?_0x46b62a(0xc75):_0x46b62a(0x292),_0x194118=_0x57ee85[_0x46b62a(0x459)]?_0x46b62a(0x48e):_0x46b62a(0x8e3),_0x33b0e4=_0x57ee85[_0x46b62a(0x5f1)]||0x0,_0x3527dd=_0x46b62a(0x418),_0x3f30c1=_0x46b62a(0x571)+_0x3527dd+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20'+_0x194118+_0x46b62a(0x401)+_0x4a9b3c+_0x46b62a(0xaa5)+_0x33b0e4+_0x46b62a(0x88b)+(_0x3153c7>0x0?_0x3153c7:'-')+_0x46b62a(0x4f8);liveGameView['innerHTML']=_0x3f30c1;}function createQuizFromBank(){const _0x4c4290=_0x4c4cf8,_0x1b0c75=document[_0x4c4290(0xdd7)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x1b0c75['length']===0x0){showMessage(_0x4c4290(0x436));return;}const _0x21105f=[];_0x1b0c75['forEach'](_0x265b2c=>{const _0x1a88e6=_0x4c4290;_0x21105f[_0x1a88e6(0xb0e)](JSON['parse'](_0x265b2c[_0x1a88e6(0x734)]));});const _0x6c7882={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x21105f};displayGeneratedQuiz(_0x6c7882);}function showAdminLobbyView(_0x136a55,_0x3ecfe8){const _0x55e043=_0x4c4cf8;showView('live-game');const _0x20b59d=_0x55e043(0xae6)+_0x3ecfe8+_0x55e043(0x91e)+_0x136a55+_0x55e043(0x7c5);liveGameView[_0x55e043(0x66e)]=_0x20b59d,document['getElementById'](_0x55e043(0xda3))[_0x55e043(0x28f)]('click',async()=>{const _0x1479b9=_0x55e043;if(!currentQuizData||!currentQuizData[_0x1479b9(0x271)]||currentQuizData[_0x1479b9(0x271)][_0x1479b9(0xbe0)]===0x0){showMessage(_0x1479b9(0x3fd));return;}try{const _0x38ff85=doc(db,_0x1479b9(0x4e9)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x38ff85,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x4a8262=currentQuizData['questions'][0x0],_0x1caddb=currentQuizData[_0x1479b9(0x271)][_0x1479b9(0xbe0)];showAdminLiveQuestionView(_0x4a8262,0x0,_0x1caddb);}catch(_0xf7c14c){console[_0x1479b9(0x3f6)]('Error\x20starting\x20game:',_0xf7c14c),showMessage('ไม่สามารถเริ่มเกมได้');}});}async function openQuizBankModal(){const _0x87937f=_0x4c4cf8;if(allQuizzesGlobal[_0x87937f(0xbe0)]===0x0){const _0x41ad11=await getDocs(collection(db,_0x87937f(0x4e9)+appId+_0x87937f(0x2fe)));allQuizzesGlobal=_0x41ad11[_0x87937f(0x9ff)]['map'](_0x3350e1=>({'id':_0x3350e1['id'],..._0x3350e1[_0x87937f(0x6bc)]()}));}renderQuizBankList(''),document[_0x87937f(0x967)](_0x87937f(0x21a))[_0x87937f(0x67b)][_0x87937f(0x7d5)](_0x87937f(0x75c));}function renderQuizBankList(_0x597852='',_0x2bcb08=![]){const _0x395b8e=_0x4c4cf8,_0x1e8cf3=document[_0x395b8e(0x967)](_0x395b8e(0x7ea)),_0x3704b8=_0x597852['toLowerCase']()['trim'](),_0xfb1ae5=allQuizzesGlobal[_0x395b8e(0x928)](_0x5d325d=>({..._0x5d325d,'projectName':allProjects[_0x395b8e(0x4c4)](_0x54f7d8=>_0x54f7d8['id']===_0x5d325d['projectId'])?.[_0x395b8e(0x453)]||'N/A'}))[_0x395b8e(0x3d0)](_0x3061a6=>(_0x3061a6[_0x395b8e(0x3e7)]||'')['toLowerCase']()[_0x395b8e(0xb02)](_0x3704b8)||(_0x3061a6['projectName']||'')[_0x395b8e(0x660)]()['includes'](_0x3704b8)||_0x3061a6['id'][_0x395b8e(0x2f2)]()[_0x395b8e(0xb02)](_0x3704b8));document[_0x395b8e(0x967)](_0x395b8e(0xbf1))[_0x395b8e(0xb9a)]='('+_0xfb1ae5[_0x395b8e(0xbe0)]+'\x20ชุด)',_0x1e8cf3['innerHTML']=_0xfb1ae5[_0x395b8e(0xbe0)]?_0xfb1ae5[_0x395b8e(0x928)](_0x143d0e=>{const _0x4a6399=_0x395b8e,_0x42ebfa=!_0x2bcb08?_0x4a6399(0x986)+_0x143d0e['id']+'\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x143d0e['id']+_0x4a6399(0x4c2)+_0x143d0e['id']+_0x4a6399(0x2b6)+_0x143d0e['id']+_0x4a6399(0x2c6)+_0x143d0e['id']+_0x4a6399(0x8e5)+_0x143d0e['id']+_0x4a6399(0x534)+_0x143d0e[_0x4a6399(0x3e7)]+_0x4a6399(0xc11):'';return _0x4a6399(0x4c7)+_0x143d0e['id']+_0x4a6399(0x49f)+(_0x143d0e[_0x4a6399(0x3e7)]||_0x4a6399(0x3a5))+_0x4a6399(0xbb6)+(_0x143d0e[_0x4a6399(0x271)]?.[_0x4a6399(0xbe0)]||0x0)+_0x4a6399(0x9da)+_0x143d0e[_0x4a6399(0x453)]+_0x4a6399(0xbec)+_0x143d0e['id']+_0x4a6399(0xa41)+_0x42ebfa+_0x4a6399(0x43d);})[_0x395b8e(0xbe3)](''):_0x395b8e(0x879),!_0x2bcb08&&(_0x1e8cf3[_0x395b8e(0xdd7)]('.quiz-bank-item')[_0x395b8e(0xa3f)](_0x4dc3ac=>{const _0xf30acd=_0x395b8e;_0x4dc3ac[_0xf30acd(0x28f)](_0xf30acd(0x526),()=>{const _0x5024db=_0xf30acd,_0x40c5af=_0x4dc3ac[_0x5024db(0x305)]['id'];document['getElementById'](_0x5024db(0x21a))[_0x5024db(0x67b)][_0x5024db(0x602)](_0x5024db(0x75c)),showQuizDetailView(_0x40c5af);});}),_0x1e8cf3['querySelectorAll'](_0x395b8e(0xc94))[_0x395b8e(0xa3f)](_0x16669e=>{const _0xd79b0d=_0x395b8e;_0x16669e[_0xd79b0d(0x28f)]('click',_0x88afc6=>{const _0x4cd983=_0xd79b0d;_0x88afc6['stopPropagation']();const _0x10adc8=_0x16669e[_0x4cd983(0x305)]['id'],_0x20b502=allQuizzesGlobal[_0x4cd983(0x4c4)](_0x3b88cb=>_0x3b88cb['id']===_0x10adc8);_0x20b502?(currentQuizData=_0x20b502,document['getElementById']('quiz-bank-modal')[_0x4cd983(0x67b)][_0x4cd983(0x602)]('hidden'),startAdminTest()):showMessage(_0x4cd983(0x91d));});}),_0x1e8cf3[_0x395b8e(0xdd7)](_0x395b8e(0xbdb))['forEach'](_0x32a6ea=>{const _0x19741e=_0x395b8e;_0x32a6ea[_0x19741e(0x28f)](_0x19741e(0x526),_0x128354=>{const _0xecf2ca=_0x19741e;_0x128354[_0xecf2ca(0xa1e)]();const _0x40a2de=_0x32a6ea[_0xecf2ca(0x305)]['id'],_0x2a7b84=allQuizzesGlobal[_0xecf2ca(0x4c4)](_0x1e174d=>_0x1e174d['id']===_0x40a2de);_0x2a7b84?(document[_0xecf2ca(0x967)](_0xecf2ca(0x21a))[_0xecf2ca(0x67b)][_0xecf2ca(0x602)](_0xecf2ca(0x75c)),handleGenerateParallelFromBank(_0x2a7b84)):showMessage(_0xecf2ca(0x91d));});}),_0x1e8cf3[_0x395b8e(0xdd7)](_0x395b8e(0xb5f))[_0x395b8e(0xa3f)](_0x16f684=>{_0x16f684['addEventListener']('click',_0x57d466=>{const _0x22a40c=_0x3869;_0x57d466[_0x22a40c(0xa1e)]();const _0x168146=_0x16f684[_0x22a40c(0x305)]['id'],_0x4ead1b=allQuizzesGlobal['find'](_0x4aaf9e=>_0x4aaf9e['id']===_0x168146);_0x4ead1b?(document['getElementById'](_0x22a40c(0x21a))[_0x22a40c(0x67b)]['add'](_0x22a40c(0x75c)),startPresentation(_0x4ead1b)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x1e8cf3['querySelectorAll'](_0x395b8e(0x95e))[_0x395b8e(0xa3f)](_0x3f97e0=>{const _0x540408=_0x395b8e;_0x3f97e0[_0x540408(0x28f)]('click',_0x5ae367=>{const _0x1f8f57=_0x540408;_0x5ae367['stopPropagation']();const _0x42f62a=_0x3f97e0[_0x1f8f57(0x305)]['id'];document[_0x1f8f57(0x967)](_0x1f8f57(0x21a))[_0x1f8f57(0x67b)][_0x1f8f57(0x602)](_0x1f8f57(0x75c)),handleMoveQuiz(_0x42f62a);});}),_0x1e8cf3[_0x395b8e(0xdd7)](_0x395b8e(0x629))[_0x395b8e(0xa3f)](_0xe648d=>{const _0x364b44=_0x395b8e;_0xe648d['addEventListener'](_0x364b44(0x526),_0x44784b=>{const _0x31beae=_0x364b44;_0x44784b[_0x31beae(0xa1e)]();const _0x118d89=_0xe648d[_0x31beae(0x305)]['id'];document[_0x31beae(0x967)]('quiz-bank-modal')[_0x31beae(0x67b)][_0x31beae(0x602)](_0x31beae(0x75c)),handleQuizSettings(_0x118d89);});}),_0x1e8cf3[_0x395b8e(0xdd7)](_0x395b8e(0xbe9))[_0x395b8e(0xa3f)](_0x52853a=>{const _0x57d360=_0x395b8e;_0x52853a[_0x57d360(0x28f)](_0x57d360(0x526),_0x3742bf=>{const _0x28399=_0x57d360;_0x3742bf[_0x28399(0xa1e)]();const _0x2fad81=_0x52853a[_0x28399(0x305)]['id'],_0x32e514=_0x52853a[_0x28399(0x305)][_0x28399(0x3e7)];showConfirmation(_0x28399(0x61a)+_0x32e514+_0x28399(0x69d),()=>handleDeleteQuiz(_0x2fad81));});}));}async function handleCompareResults(_0x3709c8,_0x51b5d0){const _0x34b12d=_0x4c4cf8,_0xc0dbe7=document['getElementById']('comparison-modal'),_0x33f70c=document['getElementById'](_0x34b12d(0xab0)),_0x7f0e3b=document[_0x34b12d(0x967)](_0x34b12d(0x9a9));document[_0x34b12d(0x967)]('comparison-overall-tab')[_0x34b12d(0x67b)][_0x34b12d(0x602)](_0x34b12d(0xb29)),document[_0x34b12d(0x967)]('comparison-individual-tab')[_0x34b12d(0x67b)][_0x34b12d(0x7d5)](_0x34b12d(0xb29)),_0x33f70c[_0x34b12d(0x67b)][_0x34b12d(0x7d5)](_0x34b12d(0x75c)),_0x7f0e3b[_0x34b12d(0x67b)]['add'](_0x34b12d(0x75c)),_0x33f70c['innerHTML']=_0x34b12d(0x7a8),_0x7f0e3b[_0x34b12d(0x66e)]='',_0xc0dbe7[_0x34b12d(0x67b)][_0x34b12d(0x7d5)](_0x34b12d(0x75c));try{const _0x418116=doc(db,_0x34b12d(0x4e9)+appId+_0x34b12d(0x2fe),_0x3709c8),_0x17bf10=await getDoc(_0x418116);if(!_0x17bf10[_0x34b12d(0x78d)]())throw new Error(_0x34b12d(0x8e1));const _0x1a2de1=_0x17bf10[_0x34b12d(0x6bc)](),_0x12e7fd=_0x1a2de1[_0x34b12d(0x271)][_0x34b12d(0xbe0)],_0x46d517=collection(db,_0x34b12d(0x4e9)+appId+_0x34b12d(0x868)+_0x51b5d0+_0x34b12d(0xa24)),_0x2921aa=collection(db,'artifacts/'+appId+_0x34b12d(0x868)+_0x3709c8+'/submissions'),[_0x474fee,_0x4d58d0]=await Promise['all']([getDocs(_0x46d517),getDocs(_0x2921aa)]),_0x158781=_0x474fee[_0x34b12d(0x9ff)]['map'](_0x22c50b=>_0x22c50b[_0x34b12d(0x6bc)]()),_0x9cd331=_0x4d58d0[_0x34b12d(0x9ff)][_0x34b12d(0x928)](_0x19fff8=>_0x19fff8[_0x34b12d(0x6bc)]()),_0x14be5f=_0x158781[_0x34b12d(0x928)](_0x34f926=>_0x34f926['latestScore']),_0x387923=_0x9cd331[_0x34b12d(0x928)](_0x2f5822=>_0x2f5822[_0x34b12d(0xaa7)]),_0x336d4a=calculateMeanAndStdDev(_0x14be5f),_0x239bf3=calculateMeanAndStdDev(_0x387923),_0x189c5f=_0x336d4a['mean'],_0x3bae34=_0x239bf3[_0x34b12d(0xaaf)],_0x743797=_0x3bae34-_0x189c5f;let _0x1ab854='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>'+_0x189c5f[_0x34b12d(0x588)](0x2)+_0x34b12d(0xc00)+_0x3bae34['toFixed'](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20'+(_0x743797>=0x0?_0x34b12d(0x88c):_0x34b12d(0xdba))+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x743797>=0x0?_0x34b12d(0xce9):_0x34b12d(0x589))+_0x34b12d(0x8e8)+(_0x743797>=0x0?'text-emerald-900':_0x34b12d(0xa96))+'\x22>'+(_0x743797>=0x0?'+':'')+_0x743797['toFixed'](0x2)+_0x34b12d(0x8dc);_0x33f70c['innerHTML']=_0x1ab854;const _0x2756b1=document[_0x34b12d(0x967)]('comparison-chart')[_0x34b12d(0x3ee)]('2d');if(chartInstances[_0x34b12d(0x551)])chartInstances['comparison'][_0x34b12d(0xaa9)]();chartInstances[_0x34b12d(0x551)]=new Chart(_0x2756b1,{'type':_0x34b12d(0x35e),'data':{'labels':[_0x34b12d(0x2d1)],'datasets':[{'label':_0x34b12d(0x6e6),'data':[_0x189c5f],'backgroundColor':_0x34b12d(0x603)},{'label':_0x34b12d(0xd08),'data':[_0x3bae34],'backgroundColor':_0x34b12d(0xc69)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x12e7fd}}}});const _0x16f25a=currentProjectData['students']||[],_0x2a3ce5=_0x16f25a[_0x34b12d(0x928)](_0xe89e50=>{const _0x232956=_0x34b12d,_0x5936d0=_0x158781[_0x232956(0x4c4)](_0x2d7279=>_0x2d7279['studentName']===_0xe89e50),_0x5df638=_0x9cd331[_0x232956(0x4c4)](_0x43bd9d=>_0x43bd9d[_0x232956(0x1fd)]===_0xe89e50),_0x249881=_0x5936d0?_0x5936d0['latestScore']:null,_0x58c951=_0x5df638?_0x5df638[_0x232956(0xaa7)]:null,_0x5ca71c=_0x249881!==null&&_0x58c951!==null?_0x58c951-_0x249881:null,_0x3c8bce=_0x249881!==null?calculateZScore(_0x249881,_0x336d4a['mean'],_0x336d4a[_0x232956(0xc47)]):null,_0xe8cf75=_0x58c951!==null?calculateZScore(_0x58c951,_0x239bf3['mean'],_0x239bf3[_0x232956(0xc47)]):null,_0x565df8=_0x3c8bce!==null?calculateTScore(_0x3c8bce):null,_0x85b1fb=_0xe8cf75!==null?calculateTScore(_0xe8cf75):null,_0x3f6b79=_0x565df8!==null&&_0x85b1fb!==null?_0x85b1fb-_0x565df8:null;return{'name':_0xe89e50,'preScore':_0x249881,'postScore':_0x58c951,'gain':_0x5ca71c,'preTScore':_0x565df8,'postTScore':_0x85b1fb,'tGain':_0x3f6b79};});renderIndividualComparisonTable(_0x2a3ce5,_0x7f0e3b);}catch(_0x192fd4){console[_0x34b12d(0x3f6)]('Error\x20comparing\x20results:',_0x192fd4),_0x33f70c[_0x34b12d(0x66e)]=_0x34b12d(0x9fe);}}async function saveBlueprintProject(){const _0x27e976=_0x4c4cf8;if(!extractedBlueprintData||!extractedBlueprintData[_0x27e976(0xba5)]){showMessage(_0x27e976(0x655));return;}const _0x530d93=prompt(_0x27e976(0xbb5),_0x27e976(0xbfd));if(!_0x530d93||_0x530d93[_0x27e976(0x46b)]()==='')return;const _0x5b4ff5={};extractedBlueprintData[_0x27e976(0xba5)][_0x27e976(0xa3f)](_0x100584=>{const _0x390b2e=_0x27e976;_0x100584[_0x390b2e(0x239)]['forEach'](_0x5c5200=>{const _0x2d6334=_0x390b2e;_0x5c5200['subTopics'][_0x2d6334(0xa3f)](_0x41aedb=>{const _0x343016=_0x2d6334,_0x161de1=_0x343016(0x99d)+Date[_0x343016(0xd7b)]()+Math[_0x343016(0xb9d)]()[_0x343016(0x2f2)](0x24)[_0x343016(0x905)](0x2,0x9);_0x5b4ff5[_0x161de1]={'sara':_0x100584['sara'],'mainTopic':_0x5c5200['topicName'],'subTopic':_0x41aedb,'status':_0x343016(0xbb1),'lessonContent':null};});});});try{const _0x117c00=collection(db,_0x27e976(0x4e9)+appId+_0x27e976(0xdaa));await addDoc(_0x117c00,{'projectName':_0x530d93[_0x27e976(0x46b)](),'gradeLevel':extractedBlueprintData['gradeLevel'],'topics':_0x5b4ff5,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x530d93[_0x27e976(0x46b)]()+_0x27e976(0xb8d)),document[_0x27e976(0x967)](_0x27e976(0xd16))[_0x27e976(0x67b)]['add'](_0x27e976(0x75c));}catch(_0x218f5c){console[_0x27e976(0x3f6)](_0x27e976(0xccf),_0x218f5c),showMessage(_0x27e976(0xaa8));}}async function showBlueprintProjects(){const _0x36d2e0=_0x4c4cf8,_0x2072e8=document[_0x36d2e0(0x967)](_0x36d2e0(0x467)),_0x287ee1=document[_0x36d2e0(0x967)](_0x36d2e0(0xb3d));_0x287ee1[_0x36d2e0(0x66e)]=_0x36d2e0(0x5cb),_0x2072e8[_0x36d2e0(0x67b)]['remove']('hidden');try{const _0x23904f=collection(db,'artifacts/'+appId+_0x36d2e0(0xdaa)),_0x9cb2a6=await getDocs(_0x23904f);if(_0x9cb2a6['empty']){_0x287ee1[_0x36d2e0(0x66e)]=_0x36d2e0(0x390);return;}const _0x52a6a7=_0x9cb2a6[_0x36d2e0(0x9ff)][_0x36d2e0(0x928)](_0x52e0ba=>({'id':_0x52e0ba['id'],..._0x52e0ba[_0x36d2e0(0x6bc)]()}));_0x52a6a7['sort']((_0x1431fc,_0x1b6fe9)=>_0x1431fc[_0x36d2e0(0x453)][_0x36d2e0(0xd8a)](_0x1b6fe9['projectName'],'th')),_0x287ee1[_0x36d2e0(0x66e)]=_0x52a6a7[_0x36d2e0(0x928)](_0xb8a677=>_0x36d2e0(0x93c)+_0xb8a677[_0x36d2e0(0x453)]+_0x36d2e0(0x445)+_0xb8a677[_0x36d2e0(0x315)]+'\x20|\x20'+Object['keys'](_0xb8a677[_0x36d2e0(0x4b6)])[_0x36d2e0(0xbe0)]+_0x36d2e0(0x897)+_0xb8a677['id']+_0x36d2e0(0xd46)+_0xb8a677['id']+_0x36d2e0(0x3ae))[_0x36d2e0(0xbe3)]('');}catch(_0x5e06d5){console[_0x36d2e0(0x3f6)]('Error\x20loading\x20blueprint\x20projects:',_0x5e06d5),_0x287ee1[_0x36d2e0(0x66e)]=_0x36d2e0(0x4a0);}}async function displayBlueprintProjectManager(_0x2f33f4){const _0x59f70c=_0x4c4cf8;currentBlueprintProjectId=_0x2f33f4,document[_0x59f70c(0x967)](_0x59f70c(0x467))[_0x59f70c(0x67b)][_0x59f70c(0x602)](_0x59f70c(0x75c)),showView(_0x59f70c(0x604)),projectDashboardView[_0x59f70c(0x67b)][_0x59f70c(0x602)](_0x59f70c(0x75c));const _0xc047f5=document[_0x59f70c(0x967)]('blueprint-project-manager-view');_0xc047f5['classList'][_0x59f70c(0x7d5)](_0x59f70c(0x75c)),document[_0x59f70c(0x967)](_0x59f70c(0x977))['innerHTML']=_0x59f70c(0x7a8);try{const _0x6ac7b1=doc(db,'artifacts/'+appId+_0x59f70c(0xdaa),_0x2f33f4),_0x4116b3=await getDoc(_0x6ac7b1);if(!_0x4116b3[_0x59f70c(0x78d)]())throw new Error(_0x59f70c(0x5e6));const _0x4f1a8d={'id':_0x4116b3['id'],..._0x4116b3[_0x59f70c(0x6bc)]()};document[_0x59f70c(0x967)](_0x59f70c(0x43b))[_0x59f70c(0xb9a)]=_0x4f1a8d[_0x59f70c(0x453)],document[_0x59f70c(0x967)](_0x59f70c(0x6d7))[_0x59f70c(0x734)]=_0x4f1a8d[_0x59f70c(0xd91)]||'',renderBlueprintTopicManager(_0x4f1a8d);}catch(_0x2ff1b0){console[_0x59f70c(0x3f6)]('Error\x20displaying\x20blueprint\x20project:',_0x2ff1b0),showMessage(_0x2ff1b0[_0x59f70c(0xb40)]),showView('admin-dashboard');}}function renderBlueprintTopicManager(_0x367eb6){const _0x5731ed=_0x4c4cf8,_0x5af490=document[_0x5731ed(0x967)]('bp-topic-list-container'),_0x4923de=_0x367eb6[_0x5731ed(0x4b6)]||{};if(Object[_0x5731ed(0xadf)](_0x4923de)[_0x5731ed(0xbe0)]===0x0){_0x5af490[_0x5731ed(0x66e)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>';return;}const _0x1965b7=Object[_0x5731ed(0xc37)](_0x4923de)[_0x5731ed(0x928)](([_0x4efaf2,_0x35ec2c])=>({'id':_0x4efaf2,..._0x35ec2c}))[_0x5731ed(0x8a7)]((_0xcd6599,_0x338da4)=>(_0xcd6599['order']??Infinity)-(_0x338da4['order']??Infinity)),_0x11935f={};_0x1965b7['forEach'](_0x557aab=>{const {sara:_0x4173ec,mainTopic:_0xc98716}=_0x557aab;!_0x11935f[_0x4173ec]&&(_0x11935f[_0x4173ec]={}),!_0x11935f[_0x4173ec][_0xc98716]&&(_0x11935f[_0x4173ec][_0xc98716]=[]),_0x11935f[_0x4173ec][_0xc98716]['push'](_0x557aab);});let _0x2a46d5='';for(const _0x302cf7 in _0x11935f){_0x2a46d5+=_0x5731ed(0xd2c)+_0x302cf7+_0x5731ed(0x971);for(const _0x32230b in _0x11935f[_0x302cf7]){_0x2a46d5+=_0x5731ed(0x30e)+_0x32230b+_0x5731ed(0x6c0),_0x11935f[_0x302cf7][_0x32230b][_0x5731ed(0xa3f)](_0xd01437=>{const _0x5ea5b3=_0x5731ed,_0xae67d5=_0xd01437['id'],_0x45bdbe=_0xd01437[_0x5ea5b3(0x872)]||[],_0x2acfad=_0x45bdbe['length']>0x0,_0x13226f=_0xd01437[_0x5ea5b3(0x27d)]===_0x5ea5b3(0x4de);let _0x5ee25a='';_0x2acfad?_0x5ee25a='<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20('+_0x45bdbe[_0x5ea5b3(0xbe0)]+_0x5ea5b3(0xc90):_0x5ee25a=_0x5ea5b3(0x989)+(_0x13226f?_0x5ea5b3(0x225):_0x5ea5b3(0x9b0))+'\x22>'+(_0x13226f?_0x5ea5b3(0x53f):'ยังไม่สร้าง')+'</span>';const _0x3ebbec=!_0x13226f?_0x5ea5b3(0x94d):'',_0x5de3d5=!_0x13226f?'กรุณาสร้างบทเรียนก่อน':'';let _0x3f297f=_0x13226f?_0x5ea5b3(0xb57):_0x5ea5b3(0x9cd);_0x2a46d5+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22'+_0xae67d5+_0x5ea5b3(0x934)+_0xd01437[_0x5ea5b3(0xb07)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ee25a+_0x5ea5b3(0xda5)+_0x3ebbec+_0x5ea5b3(0xa7e)+_0x5de3d5+_0x5ea5b3(0x8bd)+_0x3f297f+_0x5ea5b3(0x234);}),_0x2a46d5+=_0x5731ed(0xcc8);}_0x2a46d5+=_0x5731ed(0x83b);}_0x5af490[_0x5731ed(0x66e)]=_0x2a46d5;}async function handleDeepDeleteBlueprintProject(_0x41ba6a){const _0x43c987=_0x4c4cf8,_0x4a84dc=doc(db,_0x43c987(0x4e9)+appId+_0x43c987(0xdaa),_0x41ba6a),_0x315ce8=await getDoc(_0x4a84dc);if(!_0x315ce8[_0x43c987(0x78d)]()){showMessage(_0x43c987(0xc57));return;}const _0x63c5e9=_0x315ce8['data']()[_0x43c987(0x453)];showConfirmation(_0x43c987(0x81d)+_0x63c5e9+_0x43c987(0x8ac),async()=>{const _0x472223=_0x43c987;showMessage('กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...');try{const _0x42da18=writeBatch(db),_0x461c69=_0x315ce8[_0x472223(0x6bc)](),_0x33cc7f=_0x461c69[_0x472223(0x4b6)]||{};for(const _0x3c96da in _0x33cc7f){const _0x335581=doc(db,'artifacts/'+appId+_0x472223(0x48c)+_0x41ba6a+_0x472223(0x49a),_0x3c96da);_0x42da18[_0x472223(0xde1)](_0x335581);}const _0x32737c=new Set();for(const _0x5b61a7 in _0x33cc7f){_0x33cc7f[_0x5b61a7][_0x472223(0x872)]&&_0x33cc7f[_0x5b61a7][_0x472223(0x872)]['forEach'](_0xbeca34=>_0x32737c['add'](_0xbeca34));}for(const _0x1d1012 of _0x32737c){await handleDeleteQuiz(_0x1d1012,![]);}_0x42da18[_0x472223(0xde1)](_0x4a84dc),await _0x42da18['commit'](),showMessage(_0x472223(0xd09)+_0x63c5e9+_0x472223(0x9f6)),showBlueprintProjects();}catch(_0x1e2fda){console[_0x472223(0x3f6)](_0x472223(0x346),_0x1e2fda),showMessage(_0x472223(0x77e));}});}async function openTopicQuizBank(_0x97c72a){const _0x156069=_0x4c4cf8,_0x13af59=document[_0x156069(0x967)](_0x156069(0xb71)),_0x412964=document[_0x156069(0x967)](_0x156069(0x618)),_0x24913a=document[_0x156069(0x967)](_0x156069(0xcf3));try{await ensureGlobalQuizzesLoaded();const _0x26e96c=doc(db,_0x156069(0x4e9)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x41e79c=await getDoc(_0x26e96c);if(!_0x41e79c[_0x156069(0x78d)]())return;const _0x31671f=_0x41e79c[_0x156069(0x6bc)](),_0x250c18=_0x31671f[_0x156069(0x4b6)][_0x97c72a];document[_0x156069(0x967)](_0x156069(0x57a))[_0x156069(0xb9a)]=_0x250c18[_0x156069(0xb07)];const _0x2961f8=_0x250c18[_0x156069(0x872)]||[];_0x24913a[_0x156069(0x67b)]['toggle'](_0x156069(0x75c),_0x2961f8[_0x156069(0xbe0)]===0x0),_0x24913a[_0x156069(0x508)]=()=>handleClearAllLinksForTopic(_0x97c72a);if(_0x2961f8['length']===0x0)_0x412964[_0x156069(0x66e)]='<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>';else{const _0x52880e=allQuizzesGlobal[_0x156069(0x3d0)](_0x5a0546=>_0x2961f8[_0x156069(0xb02)](_0x5a0546['id']));_0x412964[_0x156069(0x66e)]=_0x52880e[_0x156069(0x928)](_0x52f8ef=>_0x156069(0xded)+_0x52f8ef['id']+_0x156069(0x5e1)+_0x52f8ef['topic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20'+_0x52f8ef['id']+_0x156069(0x3e3)+_0x52f8ef[_0x156069(0x271)]['length']+_0x156069(0xc3a)+_0x52f8ef['id']+_0x156069(0x692)+_0x52f8ef['id']+_0x156069(0x301)+_0x52f8ef['id']+_0x156069(0xbd1)+_0x52f8ef['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x52f8ef['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x52f8ef['id']+_0x156069(0xb4a)+_0x97c72a+_0x156069(0x2fb)+_0x52f8ef['id']+'\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}document[_0x156069(0x967)](_0x156069(0x4a1))['onclick']=()=>{openQuizSelectorForBlueprint(_0x97c72a);},document[_0x156069(0x967)]('close-topic-bank-btn')[_0x156069(0x508)]=()=>_0x13af59[_0x156069(0x67b)][_0x156069(0x602)]('hidden'),_0x13af59['classList'][_0x156069(0x7d5)](_0x156069(0x75c));}catch(_0x719c63){showMessage(_0x719c63[_0x156069(0xb40)]);}}async function openQuizSelectorForBlueprint(_0x4cd910){const _0xac6dd4=_0x4c4cf8,_0x402939=document[_0xac6dd4(0x967)]('quiz-bank-modal'),_0x4dca48=document[_0xac6dd4(0x967)](_0xac6dd4(0xb71));_0x4dca48[_0xac6dd4(0x67b)]['add'](_0xac6dd4(0x75c)),document['getElementById'](_0xac6dd4(0xab9))?.[_0xac6dd4(0x7d5)]();const _0x4c20f9=document[_0xac6dd4(0x439)](_0xac6dd4(0xd6c));_0x4c20f9['id']=_0xac6dd4(0xab9),_0x4c20f9[_0xac6dd4(0xd0a)]='bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400',_0x4c20f9[_0xac6dd4(0xb9a)]=_0xac6dd4(0x961),_0x4c20f9['disabled']=!![];try{await ensureGlobalQuizzesLoaded(),_0x402939[_0xac6dd4(0x67b)][_0xac6dd4(0x7d5)](_0xac6dd4(0x75c)),renderQuizBankListForMultiSelect(''),document[_0xac6dd4(0x967)](_0xac6dd4(0x947))[_0xac6dd4(0xa49)][_0xac6dd4(0x34d)]='none',_0x402939[_0xac6dd4(0x5c7)](_0xac6dd4(0x6d1))[_0xac6dd4(0xbf4)](_0x4c20f9);const _0x42fa54=(_0x2e9cbd=![])=>{const _0x285124=_0xac6dd4;_0x402939[_0x285124(0x67b)][_0x285124(0x602)]('hidden'),document[_0x285124(0x967)](_0x285124(0x947))[_0x285124(0xa49)][_0x285124(0x34d)]='flex',_0x4c20f9['remove'](),_0x2e9cbd&&openTopicQuizBank(_0x4cd910);};_0x4c20f9[_0xac6dd4(0x508)]=async()=>{const _0xce6b40=_0xac6dd4,_0x1a4eca=Array['from'](document[_0xce6b40(0xdd7)](_0xce6b40(0x2e8)))[_0xce6b40(0x928)](_0x26809b=>_0x26809b[_0xce6b40(0x734)]);if(_0x1a4eca[_0xce6b40(0xbe0)]===0x0)return;try{const _0x5cdc37=doc(db,_0xce6b40(0x4e9)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x1430f1=(await getDoc(_0x5cdc37))[_0xce6b40(0x6bc)](),_0x102c6b=_0x1430f1[_0xce6b40(0x4b6)][_0x4cd910][_0xce6b40(0x872)]||[],_0x4d17ec=[...new Set([..._0x102c6b,..._0x1a4eca])];await updateDoc(_0x5cdc37,{[_0xce6b40(0x3f8)+_0x4cd910+_0xce6b40(0xc3c)]:_0x4d17ec}),showMessage('เพิ่ม\x20'+_0x1a4eca[_0xce6b40(0xbe0)]+'\x20แบบทดสอบลงในคลังสำเร็จ!'),_0x42fa54(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3b594e){console[_0xce6b40(0x3f6)](_0xce6b40(0x402),_0x3b594e);}},document[_0xac6dd4(0x967)](_0xac6dd4(0xaad))['onclick']=()=>_0x42fa54(!![]);}catch(_0x4a5513){showMessage(_0x4a5513[_0xac6dd4(0xb40)]),_0x4dca48[_0xac6dd4(0x67b)][_0xac6dd4(0x7d5)](_0xac6dd4(0x75c));}}function handleClearLinkedQuiz(_0x54ab7e){showConfirmation('คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?',async()=>{const _0x140531=_0x3869;try{const _0x442b4e=doc(db,_0x140531(0x4e9)+appId+_0x140531(0xdaa),currentBlueprintProjectId);await updateDoc(_0x442b4e,{['topics.'+_0x54ab7e+_0x140531(0xb0a)]:deleteField()}),showMessage(_0x140531(0x612)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x5a4456){console[_0x140531(0x3f6)]('Error\x20clearing\x20linked\x20quiz:',_0x5a4456),showMessage(_0x140531(0xc7a));}});}async function addTopicToProject(){const _0x207aa9=_0x4c4cf8,_0x1cbdc1=prompt(_0x207aa9(0xbf3));if(!_0x1cbdc1||_0x1cbdc1[_0x207aa9(0x46b)]()==='')return;const _0x394af1=prompt(_0x207aa9(0xce5),_0x207aa9(0xd9b)),_0x148886=prompt('อยู่ในหัวข้อหลักใด:',_0x207aa9(0xcba)),_0x213be9=_0x207aa9(0x99d)+Date[_0x207aa9(0xd7b)]()+Math[_0x207aa9(0xb9d)]()[_0x207aa9(0x2f2)](0x24)[_0x207aa9(0x905)](0x2,0x9),_0x17cd6f={'sara':_0x394af1,'mainTopic':_0x148886,'subTopic':_0x1cbdc1['trim'](),'status':_0x207aa9(0xbb1),'lessonContent':null};try{const _0x522a1a=doc(db,_0x207aa9(0x4e9)+appId+_0x207aa9(0xdaa),currentBlueprintProjectId);await updateDoc(_0x522a1a,{[_0x207aa9(0x3f8)+_0x213be9]:_0x17cd6f}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x59bdae){console['error'](_0x207aa9(0x32d),_0x59bdae),showMessage(_0x207aa9(0xbed));}}async function editTopicInProject(_0x68a6d7){const _0xd44bde=_0x4c4cf8,_0x5417fe=document['querySelector'](_0xd44bde(0xb5a)+_0x68a6d7+'\x22]'),_0x257be7=_0x5417fe[_0xd44bde(0x5c7)](_0xd44bde(0xa43)),_0x11f1e9=_0x257be7[_0xd44bde(0xb9a)],_0x151c58=prompt(_0xd44bde(0xca6),_0x11f1e9);if(!_0x151c58||_0x151c58[_0xd44bde(0x46b)]()===''||_0x151c58['trim']()===_0x11f1e9)return;try{const _0x2232a8=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x2232a8,{['topics.'+_0x68a6d7+'.subTopic']:_0x151c58[_0xd44bde(0x46b)]()}),_0x257be7[_0xd44bde(0xb9a)]=_0x151c58[_0xd44bde(0x46b)](),showMessage(_0xd44bde(0x259));}catch(_0x4a84b8){console[_0xd44bde(0x3f6)](_0xd44bde(0x456),_0x4a84b8),showMessage(_0xd44bde(0xcdd));}}async function deleteTopicFromProject(_0x521108){const _0x477db4=_0x4c4cf8;if(!confirm(_0x477db4(0x67f)))return;try{const _0x10e266=doc(db,_0x477db4(0x4e9)+appId+_0x477db4(0xdaa),currentBlueprintProjectId);await updateDoc(_0x10e266,{[_0x477db4(0x3f8)+_0x521108]:deleteField()}),document['querySelector'](_0x477db4(0xb5a)+_0x521108+'\x22]')[_0x477db4(0x7d5)](),showMessage(_0x477db4(0x6d2));}catch(_0x9a4648){console['error'](_0x477db4(0x6ac),_0x9a4648),showMessage('เกิดข้อผิดพลาดในการลบ');}}async function generateAndSaveLessonForBlueprint(_0x3bda8a,_0x5bb465,_0x558135){handleGenerateAndShowLesson(_0x5bb465,_0x558135);const _0x2244b9=setInterval(async()=>{const _0x28b678=_0x3869,_0x4ff0bf=document[_0x28b678(0x967)](_0x28b678(0x7b6)),_0x3cbdd3=_0x4ff0bf['classList'][_0x28b678(0x8de)](_0x28b678(0x75c));if(_0x3cbdd3){clearInterval(_0x2244b9);if(currentApplicationData&&currentApplicationData[_0x28b678(0xbe0)]>0x0){const _0x511036={'point':document[_0x28b678(0x967)](_0x28b678(0x251))[_0x28b678(0x66e)],'memory':document[_0x28b678(0x967)](_0x28b678(0x86b))[_0x28b678(0x66e)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document['getElementById']('summaryContent')['innerHTML']};try{const _0x4fc175=doc(db,'artifacts/'+appId+_0x28b678(0xdaa),currentBlueprintProjectId),_0x4935fa=doc(db,_0x28b678(0x4e9)+appId+_0x28b678(0x48c)+currentBlueprintProjectId+_0x28b678(0x49a),_0x3bda8a),_0x4738c4=writeBatch(db);_0x4738c4[_0x28b678(0x8ff)](_0x4935fa,{'content':_0x511036}),_0x4738c4[_0x28b678(0x5de)](_0x4fc175,{['topics.'+_0x3bda8a+_0x28b678(0xdbf)]:_0x28b678(0x4de)}),await _0x4738c4['commit'](),console[_0x28b678(0xdea)](_0x28b678(0x281)+_0x3bda8a+_0x28b678(0x96e)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x130af4){console[_0x28b678(0x3f6)](_0x28b678(0xdb5),_0x130af4);}}}},0x3e8);}function displayHalfMarkResult(_0x3abf97,_0x468311){const _0x20337c=_0x4c4cf8,_0x41b755=_0x3abf97>=_0x468311/0x2,_0x4a1abc=_0x41b755?_0x20337c(0xa67):_0x20337c(0xdba),_0x1c7add=_0x41b755?_0x20337c(0x86a):_0x20337c(0x6e1),_0x58cde2=_0x41b755?_0x20337c(0x359):_0x20337c(0x589),_0x3ce32b=_0x41b755?'ทำคะแนนได้เกินครึ่ง':'คะแนนยังไม่ถึงครึ่ง',_0x50436b=_0x41b755?'ยอดเยี่ยม!':_0x20337c(0xc6d);let _0x19403e=_0x20337c(0xd65)+_0x4a1abc+_0x20337c(0x92a)+_0x1c7add+_0x20337c(0x77f)+_0x58cde2+_0x20337c(0x213)+_0x3ce32b+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x50436b+_0x20337c(0xc92);studentResultArea[_0x20337c(0x66e)]=_0x19403e,studentResultArea[_0x20337c(0x67b)][_0x20337c(0x7d5)]('hidden'),studentQuizArea[_0x20337c(0x67b)]['add'](_0x20337c(0x75c)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x41b755});}function displayPerfectScoreResult(_0x570d25,_0x2f2df2){const _0x38cdbd=_0x4c4cf8,_0x442700=_0x570d25===_0x2f2df2,_0x42eb48=_0x442700?_0x38cdbd(0x82b):_0x38cdbd(0x82f),_0x397d60=_0x442700?_0x38cdbd(0xb2f):'<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>',_0x54121b=_0x442700?'text-yellow-800':'text-blue-800',_0x2842b3=_0x442700?_0x38cdbd(0x982):_0x38cdbd(0x9fb),_0x51b7b5=_0x442700?_0x38cdbd(0x9ce):_0x38cdbd(0x6a0);let _0x432c36=_0x38cdbd(0xd65)+_0x42eb48+_0x38cdbd(0x92a)+_0x397d60+_0x38cdbd(0x77f)+_0x54121b+_0x38cdbd(0x213)+_0x2842b3+_0x38cdbd(0x8d1)+_0x51b7b5+_0x38cdbd(0xc92);studentResultArea[_0x38cdbd(0x66e)]=_0x432c36,studentResultArea['classList'][_0x38cdbd(0x7d5)](_0x38cdbd(0x75c)),studentQuizArea[_0x38cdbd(0x67b)][_0x38cdbd(0x602)](_0x38cdbd(0x75c)),setupResultScreenBackButton({'showRankings':![],'score':_0x570d25,'totalQuestions':_0x2f2df2});}function renderIndividualComparisonTable(_0x735f46,_0x472e10){const _0x14a26b=_0x4c4cf8;_0x735f46[_0x14a26b(0x8a7)]((_0x511cb8,_0x19b373)=>(_0x19b373[_0x14a26b(0x26a)]??-Infinity)-(_0x511cb8['tGain']??-Infinity));let _0x280185='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x735f46[_0x14a26b(0xbe0)]===0x0?_0x280185+=_0x14a26b(0x313):_0x735f46[_0x14a26b(0xa3f)]((_0x305997,_0x1dc4dd)=>{const _0xb9725b=_0x14a26b;let _0x34251c='-',_0x3d5467='';if(_0x305997[_0xb9725b(0x4ab)]!==null){const _0x442967=_0x305997[_0xb9725b(0x4ab)]>0x0?_0xb9725b(0xa87):_0x305997[_0xb9725b(0x4ab)]<0x0?_0xb9725b(0x596):'text-gray-500',_0x5cdfa2=_0x305997[_0xb9725b(0x4ab)]>0x0?'+':'';_0x34251c=_0xb9725b(0x74d)+_0x442967+'\x22>'+_0x5cdfa2+_0x305997[_0xb9725b(0x4ab)]+_0xb9725b(0xcdb);if(_0x305997['gain']>0x0)_0x3d5467=_0xb9725b(0x64a);else _0x305997[_0xb9725b(0x4ab)]<0x0?_0x3d5467=_0xb9725b(0xa63):_0x3d5467=_0xb9725b(0x953);}let _0x2f229f='-';if(_0x305997['tGain']!==null){const _0x27ef79=_0x305997[_0xb9725b(0x26a)]>0x0?_0xb9725b(0xa87):_0x305997[_0xb9725b(0x26a)]<0x0?_0xb9725b(0x596):'text-gray-500',_0x5abd59=_0x305997[_0xb9725b(0x26a)]>0x0?'+':'';_0x2f229f=_0xb9725b(0x74d)+_0x27ef79+'\x22>'+_0x5abd59+_0x305997[_0xb9725b(0x26a)][_0xb9725b(0x588)](0x2)+_0xb9725b(0xcdb);}_0x280185+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>'+(_0x1dc4dd+0x1)+_0xb9725b(0x42c)+_0x305997[_0xb9725b(0x7e7)]+_0xb9725b(0x2d4)+(_0x305997[_0xb9725b(0x8da)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>'+(_0x305997[_0xb9725b(0x48d)]??'-')+_0xb9725b(0x2d4)+_0x34251c+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>'+_0x3d5467+_0xb9725b(0x3d9)+(_0x305997[_0xb9725b(0x224)]?.[_0xb9725b(0x588)](0x2)??'-')+_0xb9725b(0x684)+(_0x305997[_0xb9725b(0x29b)]?.['toFixed'](0x2)??'-')+_0xb9725b(0x2d4)+_0x2f229f+_0xb9725b(0xc80);}),_0x280185+=_0x14a26b(0xcee),_0x472e10[_0x14a26b(0x66e)]=_0x280185;}function handleRenameQuiz(_0x20e7de,_0x1277be){const _0xc3215=_0x4c4cf8;actionTargetId=_0x20e7de,document[_0xc3215(0x967)](_0xc3215(0x877))[_0xc3215(0x734)]=_0x1277be,renameQuizModal[_0xc3215(0x67b)][_0xc3215(0x7d5)](_0xc3215(0x75c));}function setupComparisonModalTabs(){const _0x3a6439=_0x4c4cf8,_0x3b975f=document['getElementById']('comparison-overall-tab'),_0x6965c0=document[_0x3a6439(0x967)](_0x3a6439(0x798)),_0xd5c712=document[_0x3a6439(0x967)](_0x3a6439(0xab0)),_0x1668f6=document[_0x3a6439(0x967)](_0x3a6439(0x9a9));_0x3b975f['addEventListener'](_0x3a6439(0x526),()=>{const _0x108219=_0x3a6439;_0x3b975f[_0x108219(0x67b)][_0x108219(0x602)](_0x108219(0xb29)),_0x6965c0['classList'][_0x108219(0x7d5)]('active'),_0xd5c712[_0x108219(0x67b)]['remove'](_0x108219(0x75c)),_0x1668f6[_0x108219(0x67b)][_0x108219(0x602)](_0x108219(0x75c));}),_0x6965c0[_0x3a6439(0x28f)](_0x3a6439(0x526),()=>{const _0x5308e6=_0x3a6439;_0x6965c0['classList'][_0x5308e6(0x602)](_0x5308e6(0xb29)),_0x3b975f[_0x5308e6(0x67b)][_0x5308e6(0x7d5)](_0x5308e6(0xb29)),_0x1668f6['classList'][_0x5308e6(0x7d5)](_0x5308e6(0x75c)),_0xd5c712[_0x5308e6(0x67b)]['add'](_0x5308e6(0x75c));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x5bc8f1=_0x4c4cf8;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x305f51=doc(db,_0x5bc8f1(0x4e9)+appId+_0x5bc8f1(0x514),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x305f51,_0x16a76e=>{const _0x2f155f=_0x5bc8f1;if(!_0x16a76e[_0x2f155f(0x78d)]()){showMessage(_0x2f155f(0x5b8));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x2f155f(0x694)?showView(_0x2f155f(0xd22)):showView(_0x2f155f(0xbfe));return;}const _0x433ede=_0x16a76e[_0x2f155f(0x6bc)]();_0x433ede['shuffledQuiz']&&(currentQuizData=_0x433ede[_0x2f155f(0xc8d)]);!currentQuizData&&_0x433ede[_0x2f155f(0x519)]&&((async()=>{const _0x53bbc7=_0x2f155f;try{const _0x3a9382=doc(db,_0x53bbc7(0x4e9)+appId+'/public/data/quizzes',_0x433ede[_0x53bbc7(0x519)]),_0x80132d=await getDoc(_0x3a9382);_0x80132d['exists']()&&(currentQuizData={'id':_0x80132d['id'],..._0x80132d[_0x53bbc7(0x6bc)]()});}catch(_0xac2636){console[_0x53bbc7(0x3f6)](_0x53bbc7(0x811),_0xac2636);}})());switch(_0x433ede[_0x2f155f(0x27d)]){case _0x2f155f(0xd1e):if(currentMode===_0x2f155f(0x694)){const _0x1db34a=_0x433ede[_0x2f155f(0x3c8)]?Object[_0x2f155f(0xc37)](_0x433ede[_0x2f155f(0x3c8)]):[],_0x24196c=_0x1db34a[_0x2f155f(0x3d0)](([_0x44a26e,_0x433250])=>_0x433250['status']===_0x2f155f(0xb29)),_0x483725=document[_0x2f155f(0x967)](_0x2f155f(0xdee));if(_0x483725)_0x483725[_0x2f155f(0xb9a)]=_0x24196c[_0x2f155f(0xbe0)];const _0x42c647=document['getElementById'](_0x2f155f(0x425));_0x42c647&&(_0x42c647[_0x2f155f(0x66e)]=_0x24196c[_0x2f155f(0x928)](([_0xcd7550,_0x3e2a23])=>_0x2f155f(0xb5c)+_0xcd7550+_0x2f155f(0x6c9)+_0xcd7550+_0x2f155f(0x6c1))[_0x2f155f(0xbe3)](''));const _0x2ca588=document[_0x2f155f(0x967)]('start-game-btn');_0x2ca588&&(_0x2ca588[_0x2f155f(0x367)]=_0x24196c['length']===0x0);}else showView(_0x2f155f(0x379)),liveGameView[_0x2f155f(0x66e)]=_0x2f155f(0x2a1)+currentStudentName+_0x2f155f(0x35a);break;case _0x2f155f(0x966):const _0x2e7527=_0x433ede[_0x2f155f(0xdc3)];if(currentQuizData&&currentQuizData[_0x2f155f(0x271)][_0x2e7527]){const _0x19028d=currentQuizData['questions'][_0x2e7527],_0x482a50=_0x433ede[_0x2f155f(0xd11)]||_0x2f155f(0x81e);switch(_0x482a50){case _0x2f155f(0xa55):currentMode===_0x2f155f(0x694)?showAdminSummaryView(_0x433ede,_0x19028d):showPlayerSummaryView(_0x433ede,currentStudentName);break;case _0x2f155f(0x8a2):currentMode===_0x2f155f(0x694)&&showTop5LeaderboardView(_0x433ede);break;case _0x2f155f(0x81e):default:if(currentMode==='admin'){const _0x488f62=writeBatch(db);let _0xfa4d2a=![];Object[_0x2f155f(0xc37)](_0x433ede[_0x2f155f(0x3c8)])[_0x2f155f(0xa3f)](([_0x61555e,_0x182d3b])=>{const _0x379bef=_0x2f155f;if(_0x182d3b[_0x379bef(0x27d)]==='active'&&_0x182d3b[_0x379bef(0xa6f)]&&!_0x182d3b[_0x379bef(0x54a)]){_0xfa4d2a=!![];const _0x4a1c2a=_0x182d3b[_0x379bef(0xa6f)][_0x379bef(0x52d)]()-_0x433ede[_0x379bef(0x52b)]['toDate']();let _0x4b32da=0x0;if(_0x182d3b[_0x379bef(0x459)]){const _0x205418=0x3e8,_0x50fe3f=0x1f4,_0x516607=0x4e20;let _0x3f5292=_0x4a1c2a/_0x516607;if(_0x3f5292>0x1)_0x3f5292=0x1;const _0x39ef22=Math[_0x379bef(0x2bc)](_0x3f5292*_0x50fe3f);_0x4b32da=_0x205418-_0x39ef22;}const _0x4002ff=doc(db,'artifacts/'+appId+_0x379bef(0x514),currentLiveGameId);_0x488f62[_0x379bef(0x5de)](_0x4002ff,{['players.'+_0x61555e+_0x379bef(0x71f)]:increment(_0x4b32da),[_0x379bef(0xc21)+_0x61555e+_0x379bef(0xdfa)]:_0x4b32da,[_0x379bef(0xc21)+_0x61555e+_0x379bef(0xdff)]:!![]});}});_0xfa4d2a&&_0x488f62[_0x2f155f(0xdc7)]()[_0x2f155f(0x3f3)](_0x74727c=>console[_0x2f155f(0x3f6)](_0x2f155f(0x24b),_0x74727c));lastRenderedAdminQuestionIndex!==_0x2e7527&&(showAdminLiveQuestionView(_0x19028d,_0x2e7527,currentQuizData[_0x2f155f(0x271)]['length']),lastRenderedAdminQuestionIndex=_0x2e7527);const _0xb70b6=_0x433ede[_0x2f155f(0x3c8)]||{},_0x5dfe73=Object[_0x2f155f(0x8c3)](_0xb70b6)[_0x2f155f(0x3d0)](_0x188d9d=>_0x188d9d[_0x2f155f(0x27d)]===_0x2f155f(0xb29)),_0x278e99=_0x5dfe73[_0x2f155f(0xbe0)],_0x43fd38=_0x5dfe73[_0x2f155f(0x3d0)](_0x70a451=>_0x70a451['answeredCurrentQuestion']===!![])[_0x2f155f(0xbe0)],_0x4384ee=document[_0x2f155f(0x967)](_0x2f155f(0xb2d));if(_0x4384ee)_0x4384ee[_0x2f155f(0xb9a)]=_0x43fd38+'/'+_0x278e99;const _0xd511e4=document['getElementById'](_0x2f155f(0x5b0));if(_0xd511e4){let _0x20a04c=Object[_0x2f155f(0xc37)](_0xb70b6)['filter'](([_0x818d1f,_0x25bc12])=>_0x25bc12['status']===_0x2f155f(0xb29))[_0x2f155f(0x928)](([_0x602b8f,_0x1da610])=>{const _0x45e8b2=_0x2f155f,_0x4e040d=_0x1da610[_0x45e8b2(0xddd)]===!![],_0x7bbdc1=_0x4e040d?_0x45e8b2(0x48e):_0x45e8b2(0x5bc),_0x8b7d1=_0x4e040d?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x45e8b2(0x60a);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x7bbdc1+_0x45e8b2(0x46e)+_0x8b7d1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x602b8f+_0x45e8b2(0x345)+_0x602b8f+_0x45e8b2(0x527);})[_0x2f155f(0xbe3)]('');_0xd511e4[_0x2f155f(0x66e)]=_0x20a04c||_0x2f155f(0x4a8);}_0x278e99>0x0&&_0x43fd38===_0x278e99&&revealAnswerForAdmin(_0x2e7527,currentQuizData[_0x2f155f(0x271)][_0x2f155f(0xbe0)]);}else{const _0x52b9d5=_0x433ede[_0x2f155f(0x3c8)][currentStudentName];_0x52b9d5&&!_0x52b9d5[_0x2f155f(0xddd)]&&showStudentLiveQuestionView(_0x19028d,_0x2e7527,currentQuizData['questions'][_0x2f155f(0xbe0)]);}break;}}break;case _0x2f155f(0xbfa):showPodiumView(_0x433ede[_0x2f155f(0x3c8)],_0x2f155f(0xa0e));break;}});}async function openGlobalActivityModal(){const _0x1e3be4=_0x4c4cf8;if(allQuizzesGlobal[_0x1e3be4(0xbe0)]===0x0){const _0xf01119=await getDocs(collection(db,_0x1e3be4(0x4e9)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0xf01119[_0x1e3be4(0x9ff)][_0x1e3be4(0x928)](_0x434174=>({'id':_0x434174['id'],..._0x434174['data']()}));}renderGlobalActivityList(''),document['getElementById'](_0x1e3be4(0x9a1))['classList']['remove'](_0x1e3be4(0x75c));}function renderGlobalActivityList(_0x4dfc37=''){const _0x356c04=_0x4c4cf8,_0x39239f=document[_0x356c04(0x967)](_0x356c04(0xc1e)),_0x53bb3c=_0x4dfc37[_0x356c04(0x660)]()[_0x356c04(0x46b)](),_0x3a1335=allQuizzesGlobal[_0x356c04(0x928)](_0x45ee69=>({..._0x45ee69,'projectName':allProjects['find'](_0x22bd1b=>_0x22bd1b['id']===_0x45ee69[_0x356c04(0x6fe)])?.[_0x356c04(0x453)]||_0x356c04(0x9bd)}))[_0x356c04(0x3d0)](_0x28ca3a=>(_0x28ca3a[_0x356c04(0x3e7)]||'')[_0x356c04(0x660)]()[_0x356c04(0xb02)](_0x53bb3c)||(_0x28ca3a['projectName']||'')[_0x356c04(0x660)]()['includes'](_0x53bb3c));document[_0x356c04(0x967)](_0x356c04(0x9ca))[_0x356c04(0xb9a)]='('+_0x3a1335['length']+_0x356c04(0x35d),_0x39239f[_0x356c04(0x66e)]=_0x3a1335[_0x356c04(0xbe0)]?_0x3a1335[_0x356c04(0x928)](_0xc51d69=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0xc51d69[_0x356c04(0x3e7)]||'(ไม่มีชื่อ)')+_0x356c04(0xa8d)+(_0xc51d69[_0x356c04(0x271)]?.['length']||0x0)+_0x356c04(0x9ba)+_0xc51d69['projectName']+_0x356c04(0xd0d)+_0xc51d69['id']+_0x356c04(0xc6f)+_0xc51d69['id']+_0x356c04(0xda2)+_0xc51d69['id']+_0x356c04(0xa98)+_0xc51d69['id']+_0x356c04(0x9ea))[_0x356c04(0xbe3)](''):_0x356c04(0x879);}async function handleKickPlayer(_0x311d01){const _0x1a4a39=_0x4c4cf8;if(!currentLiveGameId||!_0x311d01)return;const _0x299e2a=doc(db,'artifacts/'+appId+_0x1a4a39(0x514),currentLiveGameId),_0x32196a={};_0x32196a[_0x1a4a39(0xc21)+_0x311d01+_0x1a4a39(0xdbf)]=_0x1a4a39(0x850);try{await updateDoc(_0x299e2a,_0x32196a);}catch(_0xe8230f){console[_0x1a4a39(0x3f6)]('Failed\x20to\x20kick\x20player\x20'+_0x311d01+':',_0xe8230f),showMessage(_0x1a4a39(0x740));}}async function authenticateUser(){const _0x791f81=_0x4c4cf8;try{typeof __initial_auth_token!==_0x791f81(0xcfc)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x22465b){console[_0x791f81(0x3f6)](_0x791f81(0xdaf),_0x22465b),showMessage(_0x791f81(0xbc9));}}function showView(_0x355a58){const _0x37d309=_0x4c4cf8;adminView[_0x37d309(0x67b)]['add']('hidden'),studentView[_0x37d309(0x67b)][_0x37d309(0x602)](_0x37d309(0x75c)),projectDashboardView[_0x37d309(0x67b)]['add']('hidden'),projectDetailView[_0x37d309(0x67b)][_0x37d309(0x602)](_0x37d309(0x75c)),quizResultsView[_0x37d309(0x67b)]['add']('hidden'),liveGameView[_0x37d309(0x67b)][_0x37d309(0x602)](_0x37d309(0x75c)),document['getElementById'](_0x37d309(0x912))[_0x37d309(0x67b)][_0x37d309(0x602)](_0x37d309(0x75c)),studentInitialView[_0x37d309(0x67b)][_0x37d309(0x602)]('hidden'),studentJoinGameView[_0x37d309(0x67b)][_0x37d309(0x602)](_0x37d309(0x75c)),studentNameSelectionView[_0x37d309(0x67b)][_0x37d309(0x602)]('hidden'),studentQuizArea[_0x37d309(0x67b)][_0x37d309(0x602)](_0x37d309(0x75c)),studentResultArea[_0x37d309(0x67b)][_0x37d309(0x602)](_0x37d309(0x75c)),studentReadingArea[_0x37d309(0x67b)][_0x37d309(0x602)](_0x37d309(0x75c));const _0x190ef1=document[_0x37d309(0x967)](_0x37d309(0x9ae)),_0x1667ca=document[_0x37d309(0x967)]('student-progress-view');if(_0x190ef1)_0x190ef1[_0x37d309(0x67b)][_0x37d309(0x602)](_0x37d309(0x75c));if(_0x1667ca)_0x1667ca[_0x37d309(0x67b)][_0x37d309(0x602)](_0x37d309(0x75c));switch(_0x355a58){case _0x37d309(0x604):adminView[_0x37d309(0x67b)]['remove'](_0x37d309(0x75c)),projectDashboardView[_0x37d309(0x67b)][_0x37d309(0x7d5)](_0x37d309(0x75c));break;case _0x37d309(0xd22):adminView[_0x37d309(0x67b)]['remove'](_0x37d309(0x75c)),projectDetailView[_0x37d309(0x67b)][_0x37d309(0x7d5)](_0x37d309(0x75c));break;case _0x37d309(0xdac):adminView[_0x37d309(0x67b)][_0x37d309(0x7d5)](_0x37d309(0x75c)),quizResultsView[_0x37d309(0x67b)]['remove'](_0x37d309(0x75c));break;case _0x37d309(0xbfe):studentView[_0x37d309(0x67b)]['remove'](_0x37d309(0x75c)),studentInitialView['classList'][_0x37d309(0x7d5)]('hidden');break;case _0x37d309(0x379):liveGameView[_0x37d309(0x67b)]['remove']('hidden');break;case _0x37d309(0x5dd):studentView[_0x37d309(0x67b)][_0x37d309(0x7d5)]('hidden');if(_0x190ef1)_0x190ef1['classList'][_0x37d309(0x7d5)](_0x37d309(0x75c));break;case _0x37d309(0x452):studentView[_0x37d309(0x67b)][_0x37d309(0x7d5)](_0x37d309(0x75c));if(_0x1667ca)_0x1667ca[_0x37d309(0x67b)][_0x37d309(0x7d5)](_0x37d309(0x75c));break;default:studentView[_0x37d309(0x67b)][_0x37d309(0x7d5)](_0x37d309(0x75c)),studentInitialView[_0x37d309(0x67b)][_0x37d309(0x7d5)]('hidden');break;}}function showJoinGameView(){const _0x4e69f2=_0x4c4cf8;studentInitialView[_0x4e69f2(0x67b)]['add'](_0x4e69f2(0x75c)),studentJoinGameView[_0x4e69f2(0x67b)][_0x4e69f2(0x7d5)](_0x4e69f2(0x75c));}async function handleSaveVisibilitySettings(){const _0x3605c1=_0x4c4cf8;if(!currentProjectId)return;const _0x4b5c56=doc(db,'artifacts/'+appId+_0x3605c1(0x9f8),currentProjectId);try{await updateDoc(_0x4b5c56,{'settings.showInStudentDashboard':document[_0x3605c1(0x967)]('show-in-student-dashboard-checkbox')['checked'],'settings.isPasscodeEnabled':document[_0x3605c1(0x967)](_0x3605c1(0x951))['checked'],'settings.passcode':document[_0x3605c1(0x967)](_0x3605c1(0x3f9))['value'][_0x3605c1(0x46b)]()}),showMessage('บันทึกการตั้งค่าการแสดงผลสำเร็จ');}catch(_0x3512c2){console['error']('Error\x20saving\x20visibility\x20settings:',_0x3512c2),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x5b5dba=_0x4c4cf8,_0x5357ff=document[_0x5b5dba(0x967)](_0x5b5dba(0xc82));_0x5357ff&&(_0x5357ff['addEventListener'](_0x5b5dba(0x338),wakeUpScreen),_0x5357ff[_0x5b5dba(0x28f)](_0x5b5dba(0xc33),wakeUpScreen));document['getElementById'](_0x5b5dba(0x3c3))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),async()=>{const _0x1d5f06=_0x5b5dba;if(!currentBlueprintProjectId)return;const _0x4edbc7=document[_0x1d5f06(0x967)](_0x1d5f06(0x6d7))[_0x1d5f06(0x734)]['trim'](),_0x10f1f7=doc(db,'artifacts/'+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);try{await updateDoc(_0x10f1f7,{'referenceFileUrl':_0x4edbc7}),showMessage('บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ');}catch(_0x285c0b){console[_0x1d5f06(0x3f6)](_0x1d5f06(0x79a),_0x285c0b),showMessage(_0x1d5f06(0x843));}}),document['getElementById'](_0x5b5dba(0xde6))[_0x5b5dba(0x28f)]('click',handleAddParallelShortcutTab),document[_0x5b5dba(0x967)]('parallel-test-input-area')[_0x5b5dba(0x28f)](_0x5b5dba(0x526),_0x3e9490=>{const _0x1643fa=_0x5b5dba;_0x3e9490[_0x1643fa(0xae7)]['closest'](_0x1643fa(0x22d))&&(activeParallelShortcutTabId='all',renderAdditionalParallelShortcutsModal(),document[_0x1643fa(0x967)](_0x1643fa(0x475))[_0x1643fa(0x67b)][_0x1643fa(0x7d5)](_0x1643fa(0x75c)));}),document[_0x5b5dba(0x967)](_0x5b5dba(0xa82))['addEventListener'](_0x5b5dba(0x526),()=>{const _0x1693ed=_0x5b5dba;document[_0x1693ed(0x967)](_0x1693ed(0x475))[_0x1693ed(0x67b)][_0x1693ed(0x602)](_0x1693ed(0x75c));}),document['addEventListener'](_0x5b5dba(0x526),_0x193216=>{const _0x39cd63=_0x5b5dba;!_0x193216[_0x39cd63(0xae7)][_0x39cd63(0xbc5)](_0x39cd63(0x717))&&document[_0x39cd63(0xdd7)]('.move-parallel-shortcut-dropdown')[_0x39cd63(0xa3f)](_0x18e603=>_0x18e603[_0x39cd63(0x67b)][_0x39cd63(0x602)](_0x39cd63(0x75c)));}),document[_0x5b5dba(0x967)](_0x5b5dba(0xc0d))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),handleAddFileShortcutTab),document[_0x5b5dba(0x967)](_0x5b5dba(0x3e0))[_0x5b5dba(0x28f)]('click',_0x28ba3c=>{const _0x553cb9=_0x5b5dba;_0x28ba3c[_0x553cb9(0xae7)][_0x553cb9(0xbc5)]('#open-additional-file-shortcuts-btn')&&(activeFileShortcutTabId=_0x553cb9(0xa9a),renderAdditionalFileShortcutsModal(),document['getElementById'](_0x553cb9(0xd15))[_0x553cb9(0x67b)][_0x553cb9(0x7d5)](_0x553cb9(0x75c)));}),document[_0x5b5dba(0x967)](_0x5b5dba(0x58e))['addEventListener'](_0x5b5dba(0x526),()=>{const _0x1ea2b6=_0x5b5dba;document['getElementById'](_0x1ea2b6(0xd15))[_0x1ea2b6(0x67b)]['add'](_0x1ea2b6(0x75c));}),document[_0x5b5dba(0x28f)](_0x5b5dba(0x526),_0x1e7e18=>{const _0x5d7115=_0x5b5dba;!_0x1e7e18[_0x5d7115(0xae7)][_0x5d7115(0xbc5)]('.group\x5c/dropdown-file')&&document[_0x5d7115(0xdd7)](_0x5d7115(0x44d))['forEach'](_0x407c0a=>_0x407c0a[_0x5d7115(0x67b)][_0x5d7115(0x602)](_0x5d7115(0x75c)));}),document[_0x5b5dba(0x967)](_0x5b5dba(0x83c))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),handleAddShortcutTab),document[_0x5b5dba(0x967)]('parallel-shortcut-container')[_0x5b5dba(0x28f)](_0x5b5dba(0x526),_0x4cd19d=>{const _0x2dadba=_0x5b5dba,_0x248f60=_0x4cd19d['target']['closest'](_0x2dadba(0xa4b)),_0x5b7a5b=_0x4cd19d[_0x2dadba(0xae7)][_0x2dadba(0xbc5)](_0x2dadba(0x6da)),_0x1d9e62=_0x4cd19d[_0x2dadba(0xae7)][_0x2dadba(0xbc5)](_0x2dadba(0x7f9));if(_0x5b7a5b)openParallelTestShortcutEditor(_0x5b7a5b[_0x2dadba(0x305)]['id']);else{if(_0x1d9e62){const _0x52e573=_0x1d9e62[_0x2dadba(0x305)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x339fd0=_0x2dadba,_0x2365e0=parallelTestShortcuts['filter'](_0x3db165=>_0x3db165['id']!==_0x52e573),_0x40f845=doc(db,_0x339fd0(0x430),_0x339fd0(0xa01));await setDoc(_0x40f845,{'shortcuts':_0x2365e0},{'merge':!![]});});}else _0x248f60&&handleParallelTestShortcutClick(_0x248f60[_0x2dadba(0x305)]['id']);}}),document['getElementById'](_0x5b5dba(0xcdc))[_0x5b5dba(0x28f)]('click',()=>openParallelTestShortcutEditor(null)),document[_0x5b5dba(0x967)](_0x5b5dba(0x210))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>{const _0x417cfc=_0x5b5dba;document[_0x417cfc(0x967)](_0x417cfc(0x614))['classList'][_0x417cfc(0x602)](_0x417cfc(0x75c));}),document[_0x5b5dba(0x967)](_0x5b5dba(0x9dd))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),saveParallelTestShortcutChanges),document[_0x5b5dba(0x967)](_0x5b5dba(0xb65))['addEventListener'](_0x5b5dba(0x526),_0x20b3e5=>{const _0x94a55d=_0x5b5dba;_0x20b3e5['target'][_0x94a55d(0xbc5)](_0x94a55d(0x22d))&&document['getElementById'](_0x94a55d(0x475))['classList']['remove']('hidden');}),document[_0x5b5dba(0x967)](_0x5b5dba(0xa82))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>{const _0x2dbf87=_0x5b5dba;document[_0x2dbf87(0x967)](_0x2dbf87(0x475))['classList'][_0x2dbf87(0x602)]('hidden');}),document[_0x5b5dba(0x967)](_0x5b5dba(0x653))[_0x5b5dba(0x28f)]('click',_0x2ec673=>{const _0x1b20a7=_0x5b5dba,_0x2cacf0=document[_0x1b20a7(0x967)](_0x1b20a7(0x475)),_0x3cbc70=_0x2ec673[_0x1b20a7(0xae7)][_0x1b20a7(0xbc5)](_0x1b20a7(0x5f3)),_0x11c714=_0x2ec673[_0x1b20a7(0xae7)][_0x1b20a7(0xbc5)](_0x1b20a7(0x893)),_0x35dce5=_0x2ec673['target'][_0x1b20a7(0xbc5)](_0x1b20a7(0xd1b));if(_0x3cbc70)_0x2cacf0[_0x1b20a7(0x67b)][_0x1b20a7(0x602)]('hidden'),handleParallelTestShortcutClick(_0x3cbc70[_0x1b20a7(0x305)]['id']);else{if(_0x11c714)_0x2cacf0['classList'][_0x1b20a7(0x602)]('hidden'),openParallelTestShortcutEditor(_0x11c714[_0x1b20a7(0x305)]['id']);else{if(_0x35dce5){const _0x166910=_0x35dce5[_0x1b20a7(0x305)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0x11d085=_0x1b20a7,_0x1653ea=parallelTestShortcuts[_0x11d085(0x3d0)](_0x2624fc=>_0x2624fc['id']!==_0x166910),_0x1e0fb2=doc(db,_0x11d085(0x430),_0x11d085(0xa01));await setDoc(_0x1e0fb2,{'shortcuts':_0x1653ea},{'merge':!![]});});}}}}),document['getElementById']('file-shortcut-container')[_0x5b5dba(0x28f)](_0x5b5dba(0x526),_0xa656ea=>{const _0x1ae216=_0x5b5dba,_0x5bc0d9=_0xa656ea[_0x1ae216(0xae7)][_0x1ae216(0xbc5)](_0x1ae216(0x580)),_0x434872=_0xa656ea[_0x1ae216(0xae7)][_0x1ae216(0xbc5)](_0x1ae216(0xd9f)),_0x2c1bc8=_0xa656ea[_0x1ae216(0xae7)][_0x1ae216(0xbc5)](_0x1ae216(0x52e));if(_0x434872)openFileShortcutEditor(_0x434872[_0x1ae216(0x305)]['id']);else{if(_0x2c1bc8){const _0x563888=_0x2c1bc8[_0x1ae216(0x305)]['id'];showConfirmation(_0x1ae216(0x835),async()=>{const _0x367f31=_0x1ae216,_0x4e1a53=fileShortcuts[_0x367f31(0x3d0)](_0x130a30=>_0x130a30['id']!==_0x563888),_0x586f57=doc(db,_0x367f31(0x430),_0x367f31(0x3e5));await setDoc(_0x586f57,{'shortcuts':_0x4e1a53},{'merge':!![]});});}else _0x5bc0d9&&handleFileShortcutClick(_0x5bc0d9[_0x1ae216(0x305)]['id']);}}),document[_0x5b5dba(0x967)](_0x5b5dba(0xc88))['addEventListener'](_0x5b5dba(0x526),()=>openFileShortcutEditor(null)),document[_0x5b5dba(0x967)](_0x5b5dba(0x3d2))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>{const _0x4a0b50=_0x5b5dba;document['getElementById'](_0x4a0b50(0x4bd))[_0x4a0b50(0x67b)][_0x4a0b50(0x602)]('hidden');}),document[_0x5b5dba(0x967)](_0x5b5dba(0x321))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),saveFileShortcutChanges),document[_0x5b5dba(0x967)](_0x5b5dba(0x3e0))['addEventListener']('click',_0x288b4c=>{const _0x49482f=_0x5b5dba;_0x288b4c[_0x49482f(0xae7)]['closest']('#open-additional-file-shortcuts-btn')&&document['getElementById'](_0x49482f(0xd15))[_0x49482f(0x67b)][_0x49482f(0x7d5)](_0x49482f(0x75c));}),document['getElementById'](_0x5b5dba(0x58e))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>{const _0x2aaf3c=_0x5b5dba;document[_0x2aaf3c(0x967)]('additional-file-shortcuts-modal')['classList'][_0x2aaf3c(0x602)](_0x2aaf3c(0x75c));}),document[_0x5b5dba(0x967)](_0x5b5dba(0xa61))['addEventListener'](_0x5b5dba(0x526),_0x11f202=>{const _0x54e689=_0x5b5dba,_0x192a3b=document[_0x54e689(0x967)](_0x54e689(0xd15)),_0x4d30c6=_0x11f202[_0x54e689(0xae7)][_0x54e689(0xbc5)](_0x54e689(0x733)),_0x5a906b=_0x11f202[_0x54e689(0xae7)][_0x54e689(0xbc5)]('.edit-hidden-file-shortcut-btn'),_0x455859=_0x11f202['target'][_0x54e689(0xbc5)](_0x54e689(0xc8a));if(_0x4d30c6)_0x192a3b['classList'][_0x54e689(0x602)](_0x54e689(0x75c)),handleFileShortcutClick(_0x4d30c6[_0x54e689(0x305)]['id']);else{if(_0x5a906b)_0x192a3b['classList']['add'](_0x54e689(0x75c)),openFileShortcutEditor(_0x5a906b[_0x54e689(0x305)]['id']);else{if(_0x455859){const _0x1f0382=_0x455859['dataset']['id'];showConfirmation(_0x54e689(0x835),async()=>{const _0x42404f=_0x54e689,_0x4cfde1=fileShortcuts[_0x42404f(0x3d0)](_0xa3ba34=>_0xa3ba34['id']!==_0x1f0382),_0x3734c4=doc(db,_0x42404f(0x430),'fileShortcutsConfig');await setDoc(_0x3734c4,{'shortcuts':_0x4cfde1},{'merge':!![]});});}}}}),document[_0x5b5dba(0x967)]('blueprint-input-area')[_0x5b5dba(0x28f)](_0x5b5dba(0x526),_0x2f7f05=>{const _0x43b9fd=_0x5b5dba;_0x2f7f05[_0x43b9fd(0xae7)][_0x43b9fd(0xbc5)](_0x43b9fd(0xb41))&&(activeShortcutTabId=_0x43b9fd(0xa9a),renderAdditionalShortcutsModal(),document['getElementById'](_0x43b9fd(0x36d))[_0x43b9fd(0x67b)]['remove']('hidden'));}),document[_0x5b5dba(0x967)](_0x5b5dba(0x5a3))['addEventListener'](_0x5b5dba(0x526),()=>{const _0x4931b9=_0x5b5dba;document[_0x4931b9(0x967)](_0x4931b9(0x36d))[_0x4931b9(0x67b)]['add'](_0x4931b9(0x75c));}),document['getElementById'](_0x5b5dba(0xd8c))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),_0x929644=>{const _0x496e81=_0x5b5dba,_0x293ab2=_0x929644[_0x496e81(0xae7)][_0x496e81(0xbc5)](_0x496e81(0x413)),_0x71b361=_0x929644[_0x496e81(0xae7)][_0x496e81(0xbc5)](_0x496e81(0x355)),_0x58cdab=_0x929644[_0x496e81(0xae7)][_0x496e81(0xbc5)](_0x496e81(0x7ee)),_0x351754=document['getElementById'](_0x496e81(0x36d));if(_0x293ab2)_0x351754[_0x496e81(0x67b)]['add'](_0x496e81(0x75c)),handleShortcutClick(_0x293ab2['dataset']['id']);else{if(_0x71b361)_0x351754[_0x496e81(0x67b)][_0x496e81(0x602)](_0x496e81(0x75c)),openShortcutEditor(_0x71b361['dataset']['id']);else{if(_0x58cdab){const _0x2cb0f2=_0x58cdab[_0x496e81(0x305)]['id'],_0x4ead5b=blueprintShortcuts['find'](_0x4a956a=>_0x4a956a['id']===_0x2cb0f2)?.['name'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x4ead5b+'\x22?',async()=>{const _0x4abb05=_0x496e81,_0x1e4b28=blueprintShortcuts[_0x4abb05(0x3d0)](_0xded8a5=>_0xded8a5['id']!==_0x2cb0f2);try{const _0x1a1c6e=doc(db,_0x4abb05(0x430),_0x4abb05(0x23c));await setDoc(_0x1a1c6e,{'blueprintShortcuts':_0x1e4b28},{'merge':!![]});}catch(_0x541cd3){console[_0x4abb05(0x3f6)](_0x4abb05(0x58c),_0x541cd3);}});}}}}),document[_0x5b5dba(0x967)]('blueprint-shortcut-container')[_0x5b5dba(0x28f)](_0x5b5dba(0x526),_0xd58663=>{const _0x35e626=_0x5b5dba,_0x568b3c=_0xd58663['target'][_0x35e626(0xbc5)](_0x35e626(0x829)),_0x495844=_0xd58663['target'][_0x35e626(0xbc5)](_0x35e626(0xcfd)),_0x544652=_0xd58663[_0x35e626(0xae7)]['closest'](_0x35e626(0x42a));if(_0x495844)openShortcutEditor(_0x495844['dataset']['id']);else{if(_0x544652){const _0x49d766=_0x544652[_0x35e626(0x305)]['id'],_0x1350ac=blueprintShortcuts[_0x35e626(0x4c4)](_0x51f33c=>_0x51f33c['id']===_0x49d766)?.['name'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22'+_0x1350ac+'\x22?',async()=>{const _0x43b777=_0x35e626,_0x17dd6a=blueprintShortcuts[_0x43b777(0x3d0)](_0x244fb5=>_0x244fb5['id']!==_0x49d766);try{const _0x298205=doc(db,_0x43b777(0x430),'dashboardConfig');await setDoc(_0x298205,{'blueprintShortcuts':_0x17dd6a},{'merge':!![]});}catch(_0x5b2a8b){console[_0x43b777(0x3f6)](_0x43b777(0x58c),_0x5b2a8b);}});}else _0x568b3c&&handleShortcutClick(_0x568b3c['dataset']['id']);}}),document[_0x5b5dba(0x967)](_0x5b5dba(0x990))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>openShortcutEditor(null)),document[_0x5b5dba(0x967)](_0x5b5dba(0xdb6))[_0x5b5dba(0x28f)]('click',()=>{const _0xafa390=_0x5b5dba;document[_0xafa390(0x967)](_0xafa390(0xc5b))[_0xafa390(0x67b)][_0xafa390(0x602)]('hidden');}),document[_0x5b5dba(0x967)](_0x5b5dba(0x999))[_0x5b5dba(0x28f)]('click',saveShortcutChanges),document['getElementById']('generate-from-blueprint-btn')[_0x5b5dba(0x28f)]('click',async()=>{const _0xa5dec1=_0x5b5dba,_0x2e1acf=document[_0xa5dec1(0x967)](_0xa5dec1(0x442)),_0x49c045=document[_0xa5dec1(0x967)](_0xa5dec1(0x605));_0x2e1acf['files'][_0xa5dec1(0xbe0)]>0x0?await handleGenerateFromBlueprintWithFiles(_0x2e1acf[_0xa5dec1(0x9a8)][0x0],_0x49c045['files'][0x0]||null):showMessage(_0xa5dec1(0x853));}),document[_0x5b5dba(0x967)]('topic-quiz-bank-modal')['addEventListener'](_0x5b5dba(0x526),async _0xe871a7=>{const _0x4f4f61=_0x5b5dba,_0x48750=document[_0x4f4f61(0x967)](_0x4f4f61(0xb71)),_0x4f2c54=_0xe871a7[_0x4f4f61(0xae7)][_0x4f4f61(0xbc5)](_0x4f4f61(0x92e)),_0x1f3eb0=_0xe871a7[_0x4f4f61(0xae7)][_0x4f4f61(0xbc5)](_0x4f4f61(0x946)),_0x38d42b=_0xe871a7[_0x4f4f61(0xae7)][_0x4f4f61(0xbc5)]('.bp-present-btn'),_0x55f0ae=_0xe871a7[_0x4f4f61(0xae7)][_0x4f4f61(0xbc5)](_0x4f4f61(0x83a)),_0x53bf40=_0xe871a7[_0x4f4f61(0xae7)][_0x4f4f61(0xbc5)](_0x4f4f61(0x544)),_0x4d1ecb=_0xe871a7[_0x4f4f61(0xae7)]['closest'](_0x4f4f61(0x4d0));if(_0x4f2c54){cameFromBlueprint=!![];const _0x19472d=_0x4f2c54['dataset'][_0x4f4f61(0x519)];showQuizDetailView(_0x19472d),_0x48750['classList']['add'](_0x4f4f61(0x75c));}else{if(_0x1f3eb0){const _0x39c6ca=_0x1f3eb0[_0x4f4f61(0x305)][_0x4f4f61(0xc03)],_0x511732=_0x1f3eb0[_0x4f4f61(0x305)]['quizId'],_0x5716f6=allQuizzesGlobal[_0x4f4f61(0x4c4)](_0x433a01=>_0x433a01['id']===_0x511732),_0x36252d=_0x5716f6?_0x5716f6[_0x4f4f61(0x3e7)]:'รายการนี้';showConfirmation(_0x4f4f61(0xcd8)+_0x36252d+_0x4f4f61(0xca9),async()=>{const _0x4c021a=_0x4f4f61;try{const _0x1bbc37=doc(db,_0x4c021a(0x4e9)+appId+_0x4c021a(0xdaa),currentBlueprintProjectId);await updateDoc(_0x1bbc37,{['topics.'+_0x39c6ca+_0x4c021a(0xc3c)]:arrayRemove(_0x511732)}),showMessage('นำแบบทดสอบออกจากคลังนี้แล้ว'),openTopicQuizBank(_0x39c6ca),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x316c7b){console[_0x4c021a(0x3f6)]('Error\x20unlinking\x20quiz:',_0x316c7b),showMessage(_0x4c021a(0x838));}});}else{if(_0x38d42b){cameFromBlueprint=!![];const _0xdf60d5=_0x38d42b[_0x4f4f61(0x305)]['quizId'],_0x166233=allQuizzesGlobal[_0x4f4f61(0x4c4)](_0x3aca70=>_0x3aca70['id']===_0xdf60d5);_0x166233&&(startPresentation(_0x166233),_0x48750['classList'][_0x4f4f61(0x602)](_0x4f4f61(0x75c)));}else{if(_0x55f0ae){cameFromBlueprint=!![];const _0x387420=_0x55f0ae['dataset']['quizId'],_0x2eaeb4=allQuizzesGlobal[_0x4f4f61(0x4c4)](_0x3131f0=>_0x3131f0['id']===_0x387420);_0x2eaeb4&&(currentQuizData=_0x2eaeb4,startAdminTest(),_0x48750['classList']['add']('hidden'));}else{if(_0x53bf40)cameFromBlueprint=!![],handleStartLiveRace(_0x53bf40[_0x4f4f61(0x305)][_0x4f4f61(0x519)]),_0x48750[_0x4f4f61(0x67b)][_0x4f4f61(0x602)]('hidden');else{if(_0x4d1ecb){cameFromBlueprint=!![];const _0x4122bd=_0x4d1ecb['dataset'][_0x4f4f61(0x519)],_0x53e13d=_0x4d1ecb[_0x4f4f61(0x305)][_0x4f4f61(0x93d)],_0x21faec=allQuizzesGlobal[_0x4f4f61(0x4c4)](_0x358900=>_0x358900['id']===_0x4122bd);_0x21faec&&(showGameStartConfirmationModal(_0x4122bd,_0x53e13d,_0x21faec['topic']),_0x48750[_0x4f4f61(0x67b)][_0x4f4f61(0x602)](_0x4f4f61(0x75c)));}}}}}}}),document['getElementById'](_0x5b5dba(0x85f))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>{const _0x3c3c1e=_0x5b5dba;document[_0x3c3c1e(0x967)](_0x3c3c1e(0x449))[_0x3c3c1e(0x67b)][_0x3c3c1e(0x7d5)](_0x3c3c1e(0x75c)),document[_0x3c3c1e(0x967)](_0x3c3c1e(0x806))[_0x3c3c1e(0x734)]='',document['getElementById'](_0x3c3c1e(0x6eb))[_0x3c3c1e(0x734)]='',document[_0x3c3c1e(0x967)](_0x3c3c1e(0x80d))[_0x3c3c1e(0x734)]='';}),document[_0x5b5dba(0x967)](_0x5b5dba(0xdc9))[_0x5b5dba(0x28f)]('click',()=>{const _0x1e16f9=_0x5b5dba;document['getElementById'](_0x1e16f9(0x449))[_0x1e16f9(0x67b)][_0x1e16f9(0x602)]('hidden');}),document[_0x5b5dba(0x967)](_0x5b5dba(0xba1))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),handleManualBlueprintSave),document['getElementById']('cancel-bp-settings-btn')[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>document[_0x5b5dba(0x967)](_0x5b5dba(0x685))['classList'][_0x5b5dba(0x602)](_0x5b5dba(0x75c))),document[_0x5b5dba(0x967)](_0x5b5dba(0xb05))['addEventListener'](_0x5b5dba(0x526),handleSaveBlueprintPageSettings),document[_0x5b5dba(0x967)](_0x5b5dba(0x1e0))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),openBlueprintQuizSettings),document[_0x5b5dba(0x967)](_0x5b5dba(0xd16))['addEventListener'](_0x5b5dba(0x526),saveBlueprintProject),document[_0x5b5dba(0x967)](_0x5b5dba(0x3b1))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),showBlueprintProjects),document[_0x5b5dba(0x967)](_0x5b5dba(0x73d))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>{const _0x908a9e=_0x5b5dba;document[_0x908a9e(0x967)](_0x908a9e(0x467))[_0x908a9e(0x67b)][_0x908a9e(0x602)](_0x908a9e(0x75c));}),document[_0x5b5dba(0x967)]('blueprint-project-list')[_0x5b5dba(0x28f)](_0x5b5dba(0x526),_0xc58220=>{const _0x80f31b=_0x5b5dba,_0xe9e81c=_0xc58220[_0x80f31b(0xae7)]['closest'](_0x80f31b(0x92d)),_0x26ab85=_0xc58220['target'][_0x80f31b(0xbc5)](_0x80f31b(0x7b4));if(_0xe9e81c)displayBlueprintProjectManager(_0xe9e81c[_0x80f31b(0x305)]['id']);else _0x26ab85&&handleDeepDeleteBlueprintProject(_0x26ab85[_0x80f31b(0x305)]['id']);}),document[_0x5b5dba(0x967)](_0x5b5dba(0xa1c))['addEventListener'](_0x5b5dba(0x526),()=>{const _0x4b5f8d=_0x5b5dba;currentBlueprintProjectId=null,currentProjectId=null,document[_0x4b5f8d(0x967)](_0x4b5f8d(0x912))[_0x4b5f8d(0x67b)][_0x4b5f8d(0x602)](_0x4b5f8d(0x75c)),showView(_0x4b5f8d(0x604));}),document['getElementById'](_0x5b5dba(0x37b))[_0x5b5dba(0x28f)]('click',addTopicToProject),document['getElementById'](_0x5b5dba(0x977))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),async _0xb5731d=>{const _0x2527c7=_0x5b5dba,_0x3a1a76=_0xb5731d[_0x2527c7(0xae7)][_0x2527c7(0xbc5)]('[data-topic-id]');if(!_0x3a1a76)return;const _0x39d6cd=_0x3a1a76[_0x2527c7(0x305)]['topicId'],_0x512289=_0xb5731d[_0x2527c7(0xae7)]['closest'](_0x2527c7(0x5dc)),_0x4eef3f=_0xb5731d[_0x2527c7(0xae7)][_0x2527c7(0xbc5)](_0x2527c7(0xc25)),_0x2f7fc9=_0xb5731d['target'][_0x2527c7(0xbc5)]('.bp-create-topic-quiz-btn'),_0x26c6d0=_0xb5731d[_0x2527c7(0xae7)]['closest']('.bp-open-topic-bank-btn'),_0xef4fe7=_0xb5731d[_0x2527c7(0xae7)][_0x2527c7(0xbc5)](_0x2527c7(0x8e6)),_0x3ca912=_0xb5731d['target']['closest']('.bp-generate-lesson-btn'),_0x262773=_0xb5731d[_0x2527c7(0xae7)][_0x2527c7(0xbc5)](_0x2527c7(0x3d7)),_0x57f0c2=_0xb5731d[_0x2527c7(0xae7)][_0x2527c7(0xbc5)](_0x2527c7(0x497)),_0x17e527=_0x177445=>{const _0x35c1db=_0x2527c7,_0x343b59=_0x177445['querySelector']('[data-field=\x22subTopic\x22]')[_0x35c1db(0xb9a)][_0x35c1db(0x46b)](),_0x49295d=_0x177445[_0x35c1db(0xbc5)](_0x35c1db(0xaf5))[_0x35c1db(0x8cb)],_0x14d782=_0x49295d?_0x49295d[_0x35c1db(0xb9a)][_0x35c1db(0x46b)]():'';return _0x14d782+':\x20'+_0x343b59;};if(_0x26c6d0)openTopicQuizBank(_0x39d6cd);else{if(_0x512289){const _0x35b2f0=_0x17e527(_0x3a1a76);selectProjectAndGenerateBlueprintQuiz(_0x35b2f0,null,_0x39d6cd,!![]);}else{if(_0x4eef3f){const _0x4dc298=_0x17e527(_0x3a1a76);try{const _0x2bc29f=doc(db,'artifacts/'+appId+_0x2527c7(0x48c)+currentBlueprintProjectId+_0x2527c7(0x49a),_0x39d6cd),_0x30eae1=await getDoc(_0x2bc29f);if(_0x30eae1[_0x2527c7(0x78d)]()){const _0x3b0d92=_0x30eae1[_0x2527c7(0x6bc)]()['content'],_0x274773=document[_0x2527c7(0x439)]('div'),_0x4c44c5=_0x1b3bb4=>{const _0x33ed06=_0x2527c7;if(!_0x1b3bb4)return'';return _0x274773[_0x33ed06(0x66e)]=_0x1b3bb4,_0x274773[_0x33ed06(0xb9a)]||_0x274773['innerText']||'';},_0x2bba69=(_0x4c44c5(_0x3b0d92[_0x2527c7(0x6f7)])+'\x20'+_0x4c44c5(_0x3b0d92[_0x2527c7(0x847)])+'\x20'+_0x4c44c5(_0x3b0d92[_0x2527c7(0x44a)]))[_0x2527c7(0x46b)]();selectProjectAndGenerateBlueprintQuiz(_0x4dc298,_0x2bba69,_0x39d6cd,![]);}else showMessage('ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้');}catch(_0x27ff36){console[_0x2527c7(0x3f6)]('Error\x20preparing\x20content\x20quiz:',_0x27ff36),showMessage('เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ');}}else{if(_0x2f7fc9){const _0x1d9ad2=_0x17e527(_0x3a1a76);selectProjectAndGenerateBlueprintQuiz(_0x1d9ad2,null,_0x39d6cd,![]);}else{if(_0xef4fe7){const _0x474c5b=doc(db,_0x2527c7(0x4e9)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x53f1c9=await getDoc(_0x474c5b);if(_0x53f1c9['exists']()){const _0x16ca7b=_0x53f1c9[_0x2527c7(0x6bc)](),_0x1f25b6=_0x16ca7b['topics'][_0x39d6cd];if(_0x1f25b6&&_0x1f25b6['status']==='generated')try{const _0x370e1d=doc(db,_0x2527c7(0x4e9)+appId+'/public/data/blueprintProjects/'+currentBlueprintProjectId+_0x2527c7(0x49a),_0x39d6cd),_0xc102db=await getDoc(_0x370e1d);if(_0xc102db[_0x2527c7(0x78d)]()){const _0x5d2913=_0xc102db[_0x2527c7(0x6bc)]()[_0x2527c7(0xbc8)];document[_0x2527c7(0x967)](_0x2527c7(0x50e))['textContent']=_0x2527c7(0x682)+_0x17e527(_0x3a1a76),document['getElementById'](_0x2527c7(0x251))[_0x2527c7(0x66e)]=_0x5d2913[_0x2527c7(0x6f7)],document[_0x2527c7(0x967)](_0x2527c7(0x86b))[_0x2527c7(0x66e)]=_0x5d2913[_0x2527c7(0x847)],document[_0x2527c7(0x967)](_0x2527c7(0x254))[_0x2527c7(0x66e)]=_0x5d2913[_0x2527c7(0x44a)];const _0x439951=document[_0x2527c7(0x967)](_0x2527c7(0xcbc));_0x5d2913[_0x2527c7(0xbb8)]?(currentApplicationData=_0x5d2913[_0x2527c7(0xbb8)],_0x439951[_0x2527c7(0x66e)]=currentApplicationData[_0x2527c7(0x928)]((_0x5b1c52,_0x443fec)=>_0x2527c7(0x6a4)+(_0x443fec+0x1)+'.\x20'+marked[_0x2527c7(0x587)](_0x5b1c52[_0x2527c7(0x966)])+_0x2527c7(0xb88)+_0x443fec+_0x2527c7(0x57c)+_0x5b1c52[_0x2527c7(0x2e6)][_0x2527c7(0x928)]((_0x1c7b21,_0x369c32)=>_0x2527c7(0xdec)+_0x443fec+',\x20'+_0x369c32+')\x22>'+String['fromCharCode'](0x61+_0x369c32)+'.\x20'+marked[_0x2527c7(0x587)](_0x1c7b21)+_0x2527c7(0x817))[_0x2527c7(0xbe3)]('')+_0x2527c7(0xcc8))[_0x2527c7(0xbe3)]('')):(currentApplicationData=[],_0x439951[_0x2527c7(0x66e)]=_0x5d2913[_0x2527c7(0x1fe)]||_0x5d2913[_0x2527c7(0x4ec)]),document[_0x2527c7(0x967)](_0x2527c7(0xa35))[_0x2527c7(0x67b)][_0x2527c7(0x602)]('hidden'),document[_0x2527c7(0x967)]('lesson-sections-container')[_0x2527c7(0x67b)][_0x2527c7(0x7d5)](_0x2527c7(0x75c)),document[_0x2527c7(0x967)](_0x2527c7(0x7b6))['classList']['remove']('hidden'),window[_0x2527c7(0x7a4)]&&MathJax[_0x2527c7(0x634)]([document['getElementById'](_0x2527c7(0x328))]);}else showMessage(_0x2527c7(0x70d));}catch(_0x52b355){console[_0x2527c7(0x3f6)](_0x2527c7(0xcf7),_0x52b355),showMessage(_0x2527c7(0xd55));}else showMessage(_0x2527c7(0x702));}}else{if(_0x3ca912){const _0x2db431=_0x17e527(_0x3a1a76),_0x12d2c2=doc(db,_0x2527c7(0x4e9)+appId+_0x2527c7(0xdaa),currentBlueprintProjectId),_0x4f5623=await getDoc(_0x12d2c2);if(_0x4f5623[_0x2527c7(0x78d)]()){const _0x2116e3=_0x4f5623[_0x2527c7(0x6bc)]();generateAndSaveLessonForBlueprint(_0x39d6cd,_0x2db431,_0x2116e3['gradeLevel']);}}else{if(_0x262773)editTopicInProject(_0x39d6cd);else _0x57f0c2&&deleteTopicFromProject(_0x39d6cd);}}}}}}}),document[_0x5b5dba(0x967)]('fix-lesson-latex-btn')[_0x5b5dba(0x28f)](_0x5b5dba(0x526),handleFixLessonLatex),document[_0x5b5dba(0x967)](_0x5b5dba(0x478))['addEventListener'](_0x5b5dba(0x526),handleExportLessonToPDF),document[_0x5b5dba(0x967)](_0x5b5dba(0x2f0))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>{const _0x44b959=_0x5b5dba;document['getElementById'](_0x44b959(0x7b6))['classList'][_0x44b959(0x602)](_0x44b959(0x75c));});const _0x348da7=document[_0x5b5dba(0x967)](_0x5b5dba(0x9df)),_0x3f3749=document[_0x5b5dba(0x967)](_0x5b5dba(0x554));_0x348da7[_0x5b5dba(0x28f)]('change',()=>{const _0x4ca759=_0x5b5dba;_0x3f3749[_0x4ca759(0x67b)][_0x4ca759(0x992)](_0x4ca759(0x75c),!_0x348da7[_0x4ca759(0x4c6)]);});const _0x37c0a3=document['getElementById'](_0x5b5dba(0x316)),_0x2d1cf6=document[_0x5b5dba(0x967)](_0x5b5dba(0x5f5));_0x37c0a3['addEventListener'](_0x5b5dba(0xd53),()=>{const _0x413822=_0x5b5dba;_0x2d1cf6[_0x413822(0x67b)][_0x413822(0x992)](_0x413822(0x75c),!_0x37c0a3[_0x413822(0x4c6)]);});const _0x2e025e=document[_0x5b5dba(0x967)](_0x5b5dba(0xaae)),_0x4c20b6=document[_0x5b5dba(0x967)](_0x5b5dba(0x2f7));_0x2e025e[_0x5b5dba(0x28f)](_0x5b5dba(0xd53),()=>{const _0x23034f=_0x5b5dba;_0x4c20b6[_0x23034f(0x67b)]['toggle']('hidden',!_0x2e025e['checked']);});const _0x4a9215=document[_0x5b5dba(0x967)](_0x5b5dba(0xb7b)),_0x470283=async _0x18e638=>{const _0x1d949c=_0x5b5dba,_0x26e25c=document['getElementById'](_0x1d949c(0xb7b)),_0x5522ca=_0x26e25c['dataset'][_0x1d949c(0xa69)],_0x3ec8af=document['getElementById']('selected-answer-index-hidden');_0x26e25c['classList'][_0x1d949c(0x602)](_0x1d949c(0x75c));if(_0x5522ca===_0x1d949c(0x512)){const _0x53c066=_0x3ec8af[_0x1d949c(0x734)],_0x55f994={'answer':_0x53c066,'wasConfident':_0x18e638};proceedToNextQuestion(_0x55f994);}else{if(_0x5522ca===_0x1d949c(0x9a3)){const _0x2d3282=_0x3ec8af['dataset'][_0x1d949c(0x770)],_0x404e37=JSON[_0x1d949c(0x6d6)](_0x3ec8af['dataset'][_0x1d949c(0x966)]),_0x337507=JSON[_0x1d949c(0x6d6)](_0x3ec8af[_0x1d949c(0x305)][_0x1d949c(0x404)]),_0x388fff=_0x3ec8af['dataset'][_0x1d949c(0xda0)];handleSyncAnswerSubmit(_0x2d3282,_0x404e37,_0x337507,_0x388fff,_0x18e638);}}_0x26e25c['dataset'][_0x1d949c(0xa69)]='';};document['getElementById'](_0x5b5dba(0x691))[_0x5b5dba(0x28f)]('click',()=>_0x470283(!![])),document['getElementById'](_0x5b5dba(0xa0a))[_0x5b5dba(0x28f)]('click',()=>_0x470283(![])),liveGameView['addEventListener'](_0x5b5dba(0x526),_0x8fee75=>{const _0x157fb0=_0x5b5dba,_0x2657da=_0x8fee75[_0x157fb0(0xae7)][_0x157fb0(0xbc5)](_0x157fb0(0xc64));if(_0x2657da){const _0x1aee41=_0x2657da[_0x157fb0(0x305)][_0x157fb0(0xda0)];_0x1aee41&&handleKickPlayerSync(_0x1aee41);}});const _0x59d561=document[_0x5b5dba(0x967)]('confirm-game-start-btn'),_0x25a0aa=document['getElementById'](_0x5b5dba(0x300));_0x25a0aa['addEventListener']('click',()=>{const _0x4ad9cb=_0x5b5dba;document[_0x4ad9cb(0x967)](_0x4ad9cb(0xbbb))[_0x4ad9cb(0x67b)][_0x4ad9cb(0x602)](_0x4ad9cb(0x75c));}),_0x59d561[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>{const _0x56dfe3=_0x5b5dba,_0x337461=document['getElementById']('game-start-quiz-id')[_0x56dfe3(0x734)],_0x4eabc1=document['getElementById'](_0x56dfe3(0x949))[_0x56dfe3(0x734)],_0x309321=document[_0x56dfe3(0x967)](_0x56dfe3(0x3de))[_0x56dfe3(0x4c6)];document[_0x56dfe3(0x967)](_0x56dfe3(0xbbb))[_0x56dfe3(0x67b)][_0x56dfe3(0x602)]('hidden');switch(_0x4eabc1){case _0x56dfe3(0xa0e):handleStartLiveRace(_0x337461,_0x309321);break;case _0x56dfe3(0xd81):handleStartTeamQuiz(_0x337461,_0x309321);break;case _0x56dfe3(0xdc0):handleStartGroupMode(_0x337461,_0x309321);break;case _0x56dfe3(0x9a3):const _0x278525=document['querySelector'](_0x56dfe3(0x5d7))[_0x56dfe3(0x734)]||'classic';handleStartSyncMode(_0x337461,_0x309321,_0x278525);break;}}),document[_0x5b5dba(0x967)](_0x5b5dba(0xc34))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),handleJoinGroupActivity),liveGameView[_0x5b5dba(0x28f)](_0x5b5dba(0x526),_0x549705=>{const _0x4b36c0=_0x5b5dba,_0x3f7b30=_0x549705[_0x4b36c0(0xae7)][_0x4b36c0(0xbc5)](_0x4b36c0(0x564));document[_0x4b36c0(0xdd7)](_0x4b36c0(0xb48))['forEach'](_0x59a693=>{const _0x52cd56=_0x4b36c0;(!_0x3f7b30||_0x59a693['id']!==_0x3f7b30[_0x52cd56(0x305)][_0x52cd56(0x293)])&&_0x59a693[_0x52cd56(0x67b)][_0x52cd56(0x7d5)](_0x52cd56(0x8fe));});if(!_0x3f7b30)return;const _0x59553a=_0x3f7b30['dataset'][_0x4b36c0(0x293)],_0x146ee7=document['getElementById'](_0x59553a);_0x146ee7&&_0x146ee7[_0x4b36c0(0x67b)][_0x4b36c0(0x992)](_0x4b36c0(0x8fe));}),liveGameView['addEventListener'](_0x5b5dba(0x526),_0xd70fb=>{const _0x497b20=_0x5b5dba;if(_0xd70fb[_0x497b20(0xae7)][_0x497b20(0x67b)][_0x497b20(0x8de)](_0x497b20(0x69f))){const _0x113b31=_0xd70fb['target'][_0x497b20(0x305)][_0x497b20(0xda0)];_0x113b31&&handleKickPlayer(_0x113b31);}}),document[_0x5b5dba(0x967)](_0x5b5dba(0xb81))[_0x5b5dba(0x28f)](_0x5b5dba(0x44f),()=>document[_0x5b5dba(0x967)](_0x5b5dba(0xa45))[_0x5b5dba(0x67b)][_0x5b5dba(0x7d5)](_0x5b5dba(0x75c))),document[_0x5b5dba(0x967)](_0x5b5dba(0xa45))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),handleSaveProjectName),document[_0x5b5dba(0x967)](_0x5b5dba(0xb81))[_0x5b5dba(0x28f)](_0x5b5dba(0xc8b),_0xe4a76e=>{const _0x4b5bae=_0x5b5dba;_0xe4a76e[_0x4b5bae(0x6d8)]===_0x4b5bae(0xb61)&&(_0xe4a76e[_0x4b5bae(0x6c3)](),_0xe4a76e[_0x4b5bae(0xae7)][_0x4b5bae(0xbe6)](),handleSaveProjectName());}),document[_0x5b5dba(0x967)]('bulk-quiz-settings-btn')[_0x5b5dba(0x28f)]('click',()=>{const _0x2da425=_0x5b5dba;document[_0x2da425(0x967)](_0x2da425(0x9b5))[_0x2da425(0x67b)][_0x2da425(0x7d5)](_0x2da425(0x75c));}),document['getElementById'](_0x5b5dba(0x8d5))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>{const _0x5cdf74=_0x5b5dba;document[_0x5cdf74(0x967)](_0x5cdf74(0x9b5))[_0x5cdf74(0x67b)][_0x5cdf74(0x602)](_0x5cdf74(0x75c));}),document[_0x5b5dba(0x967)]('confirm-bulk-quiz-settings-btn')[_0x5b5dba(0x28f)](_0x5b5dba(0x526),handleBulkUpdateQuizSettings),document[_0x5b5dba(0x967)]('mode-switcher-btn')['addEventListener']('click',handleModeSwitch),document['getElementById'](_0x5b5dba(0xa83))['addEventListener'](_0x5b5dba(0x526),handleUpdateOldQuizzes),document['getElementById']('reset-project-order-btn')[_0x5b5dba(0x28f)](_0x5b5dba(0x526),handleResetProjectOrder),document[_0x5b5dba(0x967)](_0x5b5dba(0x566))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),handleSaveVisibilitySettings),document['getElementById'](_0x5b5dba(0xc9c))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),handleAddCustomMathTopic),document[_0x5b5dba(0x967)]('select-all-topics-btn')[_0x5b5dba(0x28f)]('click',handleSelectAllTopics),document['getElementById'](_0x5b5dba(0xdf5))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),handleDeselectAllTopics),document['getElementById'](_0x5b5dba(0x899))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>{const _0x76eb3f=_0x5b5dba;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x76eb3f(0x604));}}),document['getElementById'](_0x5b5dba(0x6f4))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>{const _0x575ad2=_0x5b5dba;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x575ad2(0xd22));}}),document[_0x5b5dba(0x967)](_0x5b5dba(0x651))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>{const _0x4fae35=_0x5b5dba;showView(_0x4fae35(0x604));}),document[_0x5b5dba(0x967)](_0x5b5dba(0xb00))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>{const _0x38ed1b=_0x5b5dba;messageModal[_0x38ed1b(0x67b)][_0x38ed1b(0x602)](_0x38ed1b(0x75c)),typeof modalConfirmAction===_0x38ed1b(0x2dc)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x5b5dba(0x967)](_0x5b5dba(0x72d))[_0x5b5dba(0x28f)]('click',()=>createProjectModal['classList']['remove']('hidden')),document['getElementById'](_0x5b5dba(0x513))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>createProjectModal[_0x5b5dba(0x67b)][_0x5b5dba(0x602)]('hidden')),document['getElementById'](_0x5b5dba(0x99e))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>adminPasswordModal[_0x5b5dba(0x67b)][_0x5b5dba(0x602)]('hidden')),document[_0x5b5dba(0x967)]('confirm-admin-login-btn')[_0x5b5dba(0x28f)](_0x5b5dba(0x526),handleAdminLogin),document[_0x5b5dba(0x967)](_0x5b5dba(0x99c))['addEventListener'](_0x5b5dba(0x85d),_0x1a2958=>{const _0x1f4bcf=_0x5b5dba;if(_0x1a2958[_0x1f4bcf(0x6d8)]===_0x1f4bcf(0xb61))handleAdminLogin();}),document[_0x5b5dba(0x967)](_0x5b5dba(0xcd7))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>{const _0x35b3bf=_0x5b5dba;confirmationModal['classList'][_0x35b3bf(0x602)](_0x35b3bf(0x75c)),confirmAction=null;}),document[_0x5b5dba(0x967)](_0x5b5dba(0x97d))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>{const _0x3a1a71=_0x5b5dba;confirmAction&&confirmAction(),confirmationModal['classList'][_0x3a1a71(0x602)](_0x3a1a71(0x75c)),confirmAction=null;}),document[_0x5b5dba(0x967)](_0x5b5dba(0x42d))['addEventListener']('click',()=>renameQuizModal['classList']['add']('hidden')),document['getElementById'](_0x5b5dba(0x369))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),confirmRenameQuiz),document[_0x5b5dba(0x967)](_0x5b5dba(0xa4e))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>moveQuizModal['classList'][_0x5b5dba(0x602)](_0x5b5dba(0x75c))),document[_0x5b5dba(0x967)]('confirm-move-quiz-btn')[_0x5b5dba(0x28f)]('click',confirmMoveQuiz),document[_0x5b5dba(0x967)](_0x5b5dba(0x742))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>quizSettingsModal[_0x5b5dba(0x67b)][_0x5b5dba(0x602)]('hidden')),document['getElementById']('confirm-quiz-settings-btn')['addEventListener'](_0x5b5dba(0x526),confirmQuizSettings),document[_0x5b5dba(0x967)]('cancel-quiz-status-btn')[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>quizStatusModal[_0x5b5dba(0x67b)][_0x5b5dba(0x602)](_0x5b5dba(0x75c))),document[_0x5b5dba(0x967)]('confirm-quiz-status-btn')[_0x5b5dba(0x28f)]('click',confirmQuizStatus);const _0x3517f6=document[_0x5b5dba(0x967)](_0x5b5dba(0x337));document[_0x5b5dba(0x967)](_0x5b5dba(0x373))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>{const _0x177750=_0x5b5dba;_0x3517f6[_0x177750(0x67b)][_0x177750(0x602)](_0x177750(0x75c));}),document['getElementById']('export-compact-pdf-btn')[_0x5b5dba(0x28f)](_0x5b5dba(0x526),async()=>{const _0xe810d9=_0x5b5dba,_0x18b301=allQuizzes[_0xe810d9(0x4c4)](_0x27f139=>_0x27f139['id']===actionTargetId);_0x18b301?(currentQuizData=_0x18b301,exportQuizAsWorksheetPDF()):showMessage(_0xe810d9(0x91d)),_0x3517f6[_0xe810d9(0x67b)]['add'](_0xe810d9(0x75c));}),document['getElementById'](_0x5b5dba(0x730))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),async()=>{const _0x43fbc8=_0x5b5dba,_0x4dc72d=allQuizzes[_0x43fbc8(0x4c4)](_0xcff83d=>_0xcff83d['id']===actionTargetId);_0x4dc72d?(currentQuizData=_0x4dc72d,exportQuizAsTutorPDF()):showMessage(_0x43fbc8(0x91d)),_0x3517f6[_0x43fbc8(0x67b)][_0x43fbc8(0x602)](_0x43fbc8(0x75c));});const _0x2e60d3=document[_0x5b5dba(0x967)](_0x5b5dba(0x77c));_0x2e60d3[_0x5b5dba(0x66e)]=_0x5b5dba(0x9d8),_0x2e60d3[_0x5b5dba(0x28f)](_0x5b5dba(0x526),openGlobalActivityModal),document[_0x5b5dba(0x967)](_0x5b5dba(0xc49))[_0x5b5dba(0x28f)]('click',()=>{const _0x5d4cd5=_0x5b5dba;document[_0x5d4cd5(0x967)](_0x5d4cd5(0x9a1))[_0x5d4cd5(0x67b)][_0x5d4cd5(0x602)](_0x5d4cd5(0x75c));}),document['getElementById'](_0x5b5dba(0x81a))['addEventListener'](_0x5b5dba(0x4cd),_0x28b98a=>{const _0x14e889=_0x5b5dba;renderGlobalActivityList(_0x28b98a[_0x14e889(0xae7)][_0x14e889(0x734)]);}),document['getElementById'](_0x5b5dba(0xc1e))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),_0x1fbecc=>{const _0x212b8e=_0x5b5dba,_0x1db5f0=_0x1fbecc['target']['closest'](_0x212b8e(0x3ba));if(!_0x1db5f0)return;const _0x4c78d4=_0x1db5f0[_0x212b8e(0x305)]['id'],_0x106d34=_0x1db5f0[_0x212b8e(0x305)][_0x212b8e(0x93d)],_0x5455c2=allQuizzesGlobal[_0x212b8e(0x4c4)](_0x26605a=>_0x26605a['id']===_0x4c78d4);_0x5455c2&&(document[_0x212b8e(0x967)]('global-activity-modal')[_0x212b8e(0x67b)][_0x212b8e(0x602)](_0x212b8e(0x75c)),_0x106d34==='live-race'?handleStartLiveRace(_0x4c78d4):showGameStartConfirmationModal(_0x4c78d4,_0x106d34,_0x5455c2[_0x212b8e(0x3e7)]));}),document['getElementById']('project-search-input')[_0x5b5dba(0x28f)](_0x5b5dba(0x4cd),renderProjects),document[_0x5b5dba(0x967)]('project-sort-select')[_0x5b5dba(0x28f)]('change',async()=>{const _0x1f5a18=_0x5b5dba,_0x5c61ac=document[_0x1f5a18(0x967)]('project-sort-select')[_0x1f5a18(0x734)],_0xac3ba9=doc(db,_0x1f5a18(0x430),_0x1f5a18(0x23c));try{await setDoc(_0xac3ba9,{'projectSort':_0x5c61ac},{'merge':!![]});}catch(_0x56de17){console[_0x1f5a18(0x3f6)](_0x1f5a18(0x7c7),_0x56de17),showMessage(_0x1f5a18(0x77a));}}),document['getElementById']('quiz-search-input')['addEventListener'](_0x5b5dba(0x4cd),renderQuizzes),document[_0x5b5dba(0x967)](_0x5b5dba(0x53e))[_0x5b5dba(0x28f)]('click',()=>{const _0x532e91=_0x5b5dba;globalDashboardSettings[_0x532e91(0x826)]=_0x532e91(0x39c),saveUserPreference(_0x532e91(0x826),'grid'),renderProjects();}),document[_0x5b5dba(0x967)](_0x5b5dba(0xd02))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>{const _0x4063ec=_0x5b5dba;globalDashboardSettings[_0x4063ec(0x826)]=_0x4063ec(0xd76),saveUserPreference(_0x4063ec(0x826),_0x4063ec(0xd76)),renderProjects();}),manageTab[_0x5b5dba(0x28f)]('click',()=>switchProjectTab(_0x5b5dba(0x57f))),resultsTab[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>switchProjectTab(_0x5b5dba(0x62a))),leaderboardTab['addEventListener']('click',()=>switchProjectTab(_0x5b5dba(0x8a2))),document[_0x5b5dba(0x967)](_0x5b5dba(0xb8f))[_0x5b5dba(0x28f)]('click',()=>switchQuizDetailTab('analytics')),document['getElementById']('scores-tab-btn')[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>switchQuizDetailTab(_0x5b5dba(0x720))),document[_0x5b5dba(0x967)]('leaderboard-quiz-tab-btn')[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>switchQuizDetailTab(_0x5b5dba(0x820))),document['getElementById'](_0x5b5dba(0x9aa))['addEventListener'](_0x5b5dba(0x526),()=>switchQuizDetailTab(_0x5b5dba(0xc1b))),document[_0x5b5dba(0x967)](_0x5b5dba(0x9de))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),handleAnalyzeClass),generateWorksheetBtn[_0x5b5dba(0x28f)]('click',generateWorksheet);const _0x11141d=document[_0x5b5dba(0x967)](_0x5b5dba(0x4b1)),_0x4c0ce5=document[_0x5b5dba(0x967)](_0x5b5dba(0xd45)),_0x35f429=document['getElementById']('blueprint-tab'),_0x372adc=document[_0x5b5dba(0x967)]('blueprint-input-area'),_0x331ac8=document[_0x5b5dba(0x967)](_0x5b5dba(0xad2)),_0x4f4103=document[_0x5b5dba(0x967)](_0x5b5dba(0xb65));topicTab['addEventListener']('click',()=>{const _0x21f3e3=_0x5b5dba;topicTab['classList']['add'](_0x21f3e3(0xb29)),textTab['classList'][_0x21f3e3(0x7d5)](_0x21f3e3(0xb29)),fileTab[_0x21f3e3(0x67b)][_0x21f3e3(0x7d5)]('active'),worksheetTab[_0x21f3e3(0x67b)][_0x21f3e3(0x7d5)](_0x21f3e3(0xb29));if(_0x11141d)_0x11141d[_0x21f3e3(0x67b)][_0x21f3e3(0x7d5)]('active');if(_0x35f429)_0x35f429[_0x21f3e3(0x67b)][_0x21f3e3(0x7d5)](_0x21f3e3(0xb29));if(_0x331ac8)_0x331ac8['classList']['remove'](_0x21f3e3(0xb29));topicInputArea[_0x21f3e3(0x67b)]['remove'](_0x21f3e3(0x75c)),textInputArea[_0x21f3e3(0x67b)][_0x21f3e3(0x602)](_0x21f3e3(0x75c)),fileInputArea[_0x21f3e3(0x67b)][_0x21f3e3(0x602)](_0x21f3e3(0x75c)),worksheetInputArea['classList']['add']('hidden');if(_0x4c0ce5)_0x4c0ce5['classList'][_0x21f3e3(0x602)](_0x21f3e3(0x75c));if(_0x372adc)_0x372adc['classList'][_0x21f3e3(0x602)](_0x21f3e3(0x75c));if(_0x4f4103)_0x4f4103[_0x21f3e3(0x67b)][_0x21f3e3(0x602)]('hidden');}),textTab[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>{const _0xe11b2c=_0x5b5dba;textTab[_0xe11b2c(0x67b)][_0xe11b2c(0x602)]('active'),topicTab[_0xe11b2c(0x67b)]['remove'](_0xe11b2c(0xb29)),fileTab['classList'][_0xe11b2c(0x7d5)](_0xe11b2c(0xb29)),worksheetTab[_0xe11b2c(0x67b)][_0xe11b2c(0x7d5)](_0xe11b2c(0xb29));if(_0x11141d)_0x11141d[_0xe11b2c(0x67b)][_0xe11b2c(0x7d5)](_0xe11b2c(0xb29));if(_0x35f429)_0x35f429[_0xe11b2c(0x67b)][_0xe11b2c(0x7d5)]('active');if(_0x331ac8)_0x331ac8[_0xe11b2c(0x67b)]['remove'](_0xe11b2c(0xb29));textInputArea['classList'][_0xe11b2c(0x7d5)]('hidden'),topicInputArea['classList'][_0xe11b2c(0x602)]('hidden'),fileInputArea[_0xe11b2c(0x67b)][_0xe11b2c(0x602)](_0xe11b2c(0x75c)),worksheetInputArea[_0xe11b2c(0x67b)][_0xe11b2c(0x602)](_0xe11b2c(0x75c));if(_0x4c0ce5)_0x4c0ce5[_0xe11b2c(0x67b)][_0xe11b2c(0x602)](_0xe11b2c(0x75c));if(_0x372adc)_0x372adc[_0xe11b2c(0x67b)][_0xe11b2c(0x602)](_0xe11b2c(0x75c));if(_0x4f4103)_0x4f4103[_0xe11b2c(0x67b)]['add'](_0xe11b2c(0x75c));}),fileTab[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>{const _0x5d1851=_0x5b5dba;fileTab[_0x5d1851(0x67b)][_0x5d1851(0x602)](_0x5d1851(0xb29)),topicTab[_0x5d1851(0x67b)][_0x5d1851(0x7d5)](_0x5d1851(0xb29)),textTab[_0x5d1851(0x67b)][_0x5d1851(0x7d5)](_0x5d1851(0xb29)),worksheetTab[_0x5d1851(0x67b)]['remove'](_0x5d1851(0xb29));if(_0x11141d)_0x11141d[_0x5d1851(0x67b)][_0x5d1851(0x7d5)](_0x5d1851(0xb29));if(_0x35f429)_0x35f429[_0x5d1851(0x67b)][_0x5d1851(0x7d5)](_0x5d1851(0xb29));if(_0x331ac8)_0x331ac8['classList']['remove'](_0x5d1851(0xb29));fileInputArea[_0x5d1851(0x67b)]['remove'](_0x5d1851(0x75c)),topicInputArea[_0x5d1851(0x67b)][_0x5d1851(0x602)](_0x5d1851(0x75c)),textInputArea[_0x5d1851(0x67b)][_0x5d1851(0x602)](_0x5d1851(0x75c)),worksheetInputArea[_0x5d1851(0x67b)][_0x5d1851(0x602)](_0x5d1851(0x75c));if(_0x4c0ce5)_0x4c0ce5[_0x5d1851(0x67b)]['add'](_0x5d1851(0x75c));if(_0x372adc)_0x372adc['classList'][_0x5d1851(0x602)](_0x5d1851(0x75c));if(_0x4f4103)_0x4f4103['classList'][_0x5d1851(0x602)](_0x5d1851(0x75c));}),worksheetTab[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>{const _0x164e8d=_0x5b5dba;worksheetTab[_0x164e8d(0x67b)][_0x164e8d(0x602)]('active'),topicTab[_0x164e8d(0x67b)]['remove']('active'),textTab['classList']['remove']('active'),fileTab['classList'][_0x164e8d(0x7d5)]('active');if(_0x11141d)_0x11141d[_0x164e8d(0x67b)][_0x164e8d(0x7d5)]('active');if(_0x35f429)_0x35f429[_0x164e8d(0x67b)]['remove'](_0x164e8d(0xb29));if(_0x331ac8)_0x331ac8[_0x164e8d(0x67b)][_0x164e8d(0x7d5)](_0x164e8d(0xb29));worksheetInputArea['classList']['remove']('hidden'),topicInputArea[_0x164e8d(0x67b)][_0x164e8d(0x602)](_0x164e8d(0x75c)),textInputArea[_0x164e8d(0x67b)][_0x164e8d(0x602)]('hidden'),fileInputArea[_0x164e8d(0x67b)]['add'](_0x164e8d(0x75c));if(_0x4c0ce5)_0x4c0ce5[_0x164e8d(0x67b)][_0x164e8d(0x602)](_0x164e8d(0x75c));if(_0x372adc)_0x372adc[_0x164e8d(0x67b)]['add'](_0x164e8d(0x75c));if(_0x4f4103)_0x4f4103[_0x164e8d(0x67b)][_0x164e8d(0x602)](_0x164e8d(0x75c));});const _0xa15dbf=document['getElementById'](_0x5b5dba(0x298)),_0x1b3a56=document[_0x5b5dba(0x967)](_0x5b5dba(0x3f2));_0xa15dbf&&_0xa15dbf[_0x5b5dba(0x28f)]('click',()=>{const _0x12b093=_0x5b5dba;topicTab[_0x12b093(0x67b)]['remove'](_0x12b093(0xb29)),textTab['classList'][_0x12b093(0x7d5)](_0x12b093(0xb29)),fileTab[_0x12b093(0x67b)][_0x12b093(0x7d5)](_0x12b093(0xb29)),worksheetTab[_0x12b093(0x67b)][_0x12b093(0x7d5)](_0x12b093(0xb29));if(_0x11141d)_0x11141d['classList'][_0x12b093(0x7d5)]('active');if(_0x35f429)_0x35f429['classList'][_0x12b093(0x7d5)]('active');if(_0x331ac8)_0x331ac8['classList']['remove']('active');_0xa15dbf['classList'][_0x12b093(0x602)]('active'),topicInputArea[_0x12b093(0x67b)][_0x12b093(0x602)](_0x12b093(0x75c)),textInputArea[_0x12b093(0x67b)]['add'](_0x12b093(0x75c)),fileInputArea[_0x12b093(0x67b)]['add'](_0x12b093(0x75c)),worksheetInputArea[_0x12b093(0x67b)][_0x12b093(0x602)]('hidden');if(_0x4c0ce5)_0x4c0ce5[_0x12b093(0x67b)][_0x12b093(0x602)](_0x12b093(0x75c));if(_0x372adc)_0x372adc['classList'][_0x12b093(0x602)]('hidden');if(_0x4f4103)_0x4f4103['classList'][_0x12b093(0x602)](_0x12b093(0x75c));_0x1b3a56[_0x12b093(0x67b)][_0x12b093(0x7d5)](_0x12b093(0x75c)),displayQuestionBank();});_0x11141d&&(_0x11141d[_0x5b5dba(0x28f)]('click',()=>{const _0x57379d=_0x5b5dba;_0x11141d[_0x57379d(0x67b)][_0x57379d(0x602)](_0x57379d(0xb29)),topicTab[_0x57379d(0x67b)][_0x57379d(0x7d5)](_0x57379d(0xb29)),textTab[_0x57379d(0x67b)]['remove'](_0x57379d(0xb29)),fileTab[_0x57379d(0x67b)]['remove'](_0x57379d(0xb29)),worksheetTab[_0x57379d(0x67b)]['remove'](_0x57379d(0xb29));if(_0x35f429)_0x35f429[_0x57379d(0x67b)][_0x57379d(0x7d5)]('active');if(_0x331ac8)_0x331ac8[_0x57379d(0x67b)][_0x57379d(0x7d5)]('active');_0x4c0ce5[_0x57379d(0x67b)][_0x57379d(0x7d5)](_0x57379d(0x75c)),topicInputArea['classList'][_0x57379d(0x602)]('hidden'),textInputArea[_0x57379d(0x67b)][_0x57379d(0x602)](_0x57379d(0x75c)),fileInputArea[_0x57379d(0x67b)][_0x57379d(0x602)](_0x57379d(0x75c)),worksheetInputArea[_0x57379d(0x67b)]['add'](_0x57379d(0x75c));if(_0x372adc)_0x372adc[_0x57379d(0x67b)][_0x57379d(0x602)](_0x57379d(0x75c));if(_0x4f4103)_0x4f4103['classList'][_0x57379d(0x602)](_0x57379d(0x75c));}),document[_0x5b5dba(0x967)](_0x5b5dba(0x45e))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),handleGenerateFromLink));_0x35f429&&_0x35f429['addEventListener'](_0x5b5dba(0x526),()=>{const _0x59ef5a=_0x5b5dba;_0x35f429[_0x59ef5a(0x67b)][_0x59ef5a(0x602)](_0x59ef5a(0xb29)),topicTab['classList'][_0x59ef5a(0x7d5)](_0x59ef5a(0xb29)),textTab['classList'][_0x59ef5a(0x7d5)]('active'),fileTab[_0x59ef5a(0x67b)][_0x59ef5a(0x7d5)](_0x59ef5a(0xb29)),worksheetTab['classList'][_0x59ef5a(0x7d5)](_0x59ef5a(0xb29));if(_0x11141d)_0x11141d['classList'][_0x59ef5a(0x7d5)](_0x59ef5a(0xb29));if(_0xa15dbf)_0xa15dbf[_0x59ef5a(0x67b)]['remove'](_0x59ef5a(0xb29));if(_0x331ac8)_0x331ac8[_0x59ef5a(0x67b)][_0x59ef5a(0x7d5)](_0x59ef5a(0xb29));_0x372adc[_0x59ef5a(0x67b)]['remove'](_0x59ef5a(0x75c)),topicInputArea[_0x59ef5a(0x67b)]['add']('hidden'),textInputArea[_0x59ef5a(0x67b)][_0x59ef5a(0x602)](_0x59ef5a(0x75c)),fileInputArea['classList'][_0x59ef5a(0x602)]('hidden'),worksheetInputArea[_0x59ef5a(0x67b)][_0x59ef5a(0x602)]('hidden');if(_0x4c0ce5)_0x4c0ce5['classList']['add'](_0x59ef5a(0x75c));if(_0x1b3a56)_0x1b3a56[_0x59ef5a(0x67b)][_0x59ef5a(0x602)]('hidden');if(_0x4f4103)_0x4f4103[_0x59ef5a(0x67b)][_0x59ef5a(0x602)](_0x59ef5a(0x75c));});_0x331ac8&&_0x331ac8[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>{const _0x5a95e5=_0x5b5dba;_0x331ac8[_0x5a95e5(0x67b)][_0x5a95e5(0x602)]('active'),topicTab[_0x5a95e5(0x67b)][_0x5a95e5(0x7d5)]('active'),textTab[_0x5a95e5(0x67b)]['remove']('active'),fileTab[_0x5a95e5(0x67b)][_0x5a95e5(0x7d5)](_0x5a95e5(0xb29)),worksheetTab[_0x5a95e5(0x67b)]['remove']('active');if(_0x11141d)_0x11141d[_0x5a95e5(0x67b)][_0x5a95e5(0x7d5)]('active');if(_0x35f429)_0x35f429[_0x5a95e5(0x67b)]['remove'](_0x5a95e5(0xb29));if(_0xa15dbf)_0xa15dbf[_0x5a95e5(0x67b)][_0x5a95e5(0x7d5)](_0x5a95e5(0xb29));_0x4f4103[_0x5a95e5(0x67b)]['remove']('hidden'),topicInputArea[_0x5a95e5(0x67b)][_0x5a95e5(0x602)](_0x5a95e5(0x75c)),textInputArea[_0x5a95e5(0x67b)][_0x5a95e5(0x602)]('hidden'),fileInputArea[_0x5a95e5(0x67b)]['add'](_0x5a95e5(0x75c)),worksheetInputArea[_0x5a95e5(0x67b)][_0x5a95e5(0x602)](_0x5a95e5(0x75c));if(_0x4c0ce5)_0x4c0ce5['classList'][_0x5a95e5(0x602)](_0x5a95e5(0x75c));if(_0x372adc)_0x372adc[_0x5a95e5(0x67b)]['add'](_0x5a95e5(0x75c));if(_0x1b3a56)_0x1b3a56[_0x5a95e5(0x67b)][_0x5a95e5(0x602)]('hidden');});const _0x35e265=document[_0x5b5dba(0x967)](_0x5b5dba(0x442)),_0x449303=document[_0x5b5dba(0x967)](_0x5b5dba(0xa90));if(_0x35e265){const _0x1d7b01=document[_0x5b5dba(0x967)]('blueprint-upload-input'),_0x9ea542=document[_0x5b5dba(0x967)](_0x5b5dba(0xa90)),_0x1a8072=document[_0x5b5dba(0x967)](_0x5b5dba(0xb86)),_0x2d18a3=document['getElementById']('separate-by-content-checkbox'),_0xc5ea31=document[_0x5b5dba(0x967)](_0x5b5dba(0x3d1)),_0x96f86e=document[_0x5b5dba(0x967)]('blueprint-topics-list');_0x1d7b01&&_0x1d7b01[_0x5b5dba(0x28f)]('change',async _0xec908a=>{const _0x3935b6=_0x5b5dba;_0x1a8072[_0x3935b6(0x67b)]['add'](_0x3935b6(0x75c)),_0xc5ea31[_0x3935b6(0x67b)][_0x3935b6(0x602)](_0x3935b6(0x75c)),_0x2d18a3['checked']=![],_0x9ea542[_0x3935b6(0x367)]=!![];const _0xc96ff1=_0xec908a[_0x3935b6(0xae7)][_0x3935b6(0x9a8)][0x0];if(_0xc96ff1){_0x9ea542[_0x3935b6(0x367)]=![];try{const _0x566b28=await extractTextFromPdf(_0xc96ff1);await analyzeBlueprintForTopics(_0x566b28);}catch(_0x106fce){showMessage('ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้'),_0x1a8072[_0x3935b6(0x67b)]['add'](_0x3935b6(0x75c));}}}),_0x2d18a3&&_0x2d18a3['addEventListener'](_0x5b5dba(0xd53),_0x3d7374=>{const _0x1e2bb0=_0x5b5dba,_0x2a9544=_0x3d7374[_0x1e2bb0(0xae7)][_0x1e2bb0(0x4c6)];_0xc5ea31['classList']['toggle']('hidden',!_0x2a9544),_0x9ea542[_0x1e2bb0(0x367)]=_0x2a9544;}),_0x96f86e&&(_0x96f86e&&_0x96f86e[_0x5b5dba(0x28f)](_0x5b5dba(0x526),_0x68f0e3=>{const _0x3c6692=_0x5b5dba,_0x1e9519=_0x68f0e3[_0x3c6692(0xae7)][_0x3c6692(0xbc5)](_0x3c6692(0x6ff)),_0x2d23b0=_0x68f0e3['target'][_0x3c6692(0xbc5)](_0x3c6692(0xa7c));if(_0x1e9519){const _0x3f8ed9=unescape(_0x1e9519[_0x3c6692(0x305)][_0x3c6692(0x3e7)]);generateQuizForSingleTopic(_0x3f8ed9);}else{if(_0x2d23b0){const _0x5d5d43=unescape(_0x2d23b0[_0x3c6692(0x305)][_0x3c6692(0x3e7)]);handleGenerateTeachingContent(_0x5d5d43);}}}));}_0x449303&&_0x449303[_0x5b5dba(0x28f)]('click',handleGenerateFromBlueprint);const _0x53d190=document[_0x5b5dba(0x967)](_0x5b5dba(0x38f)),_0x4bfaa1=document[_0x5b5dba(0x967)]('generate-from-parallel-test-btn');_0x53d190&&_0x53d190[_0x5b5dba(0x28f)](_0x5b5dba(0xd53),_0xc4376d=>{const _0x517d80=_0x5b5dba;_0x4bfaa1[_0x517d80(0x367)]=_0xc4376d[_0x517d80(0xae7)][_0x517d80(0x9a8)][_0x517d80(0xbe0)]===0x0;});_0x4bfaa1&&_0x4bfaa1[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>{handleGenerateParallelTest();});loadQuizBtn['addEventListener'](_0x5b5dba(0x526),handleLoadQuiz),startQuizBtn[_0x5b5dba(0x28f)](_0x5b5dba(0x526),async()=>{const _0x59d42d=_0x5b5dba,_0x118160=document[_0x59d42d(0x967)](_0x59d42d(0x7d9));currentStudentName=_0x118160[_0x59d42d(0x734)];if(!currentStudentName){showMessage(_0x59d42d(0x671));return;}try{const _0x1271a0=currentQuizData['id'],_0x5e6741=doc(db,_0x59d42d(0x4e9)+appId+'/public/data/quizzes/'+_0x1271a0+_0x59d42d(0xa24),currentStudentName),_0x4ff208=await getDoc(_0x5e6741);!_0x4ff208[_0x59d42d(0x78d)]()?await setDoc(_0x5e6741,{'studentName':currentStudentName,'startedAt':new Date()[_0x59d42d(0x2a4)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x5e6741,{'startedAt':new Date()[_0x59d42d(0x2a4)]()});}catch(_0x584248){console['error']('Failed\x20to\x20create/update\x20submission\x20record:',_0x584248),showMessage(_0x59d42d(0xdf8));return;}studentNameSelectionView[_0x59d42d(0x67b)]['add']('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x5b5dba(0x2a3))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),showJoinGameView),document[_0x5b5dba(0x967)](_0x5b5dba(0x7f3))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),handleJoinLiveGame),document[_0x5b5dba(0x967)](_0x5b5dba(0x943))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>showView(_0x5b5dba(0xbfe)));const _0x8b78ad=()=>{const _0x2bb4a5=_0x5b5dba,_0x21ae3c=document[_0x2bb4a5(0x967)](_0x2bb4a5(0x3cd))['textContent'][_0x2bb4a5(0x528)](/[^a-z0-9]/gi,'_')[_0x2bb4a5(0x660)]();return _0x2bb4a5(0xb54)+(_0x21ae3c||_0x2bb4a5(0x72e));},_0x387a92=document['getElementById'](_0x5b5dba(0x861));_0x387a92&&_0x387a92[_0x5b5dba(0x28f)](_0x5b5dba(0x4cd),_0x79b1ea=>{const _0x34a897=_0x5b5dba,_0x3402de=_0x79b1ea[_0x34a897(0xae7)][_0x34a897(0x734)][_0x34a897(0x660)]()[_0x34a897(0x46b)](),_0x4eee1e=document[_0x34a897(0x967)](_0x34a897(0x782)),_0x3c3120=_0x4eee1e[_0x34a897(0xdd7)](_0x34a897(0xd0e));_0x3c3120[_0x34a897(0xa3f)](_0x5bf03d=>{const _0x323745=_0x34a897;let _0x49d049=![];const _0x150d2a=_0x5bf03d[_0x323745(0xdd7)](_0x323745(0x9cb));_0x150d2a['forEach'](_0x45a97d=>{const _0x5699a1=_0x323745,_0x5ac261=_0x45a97d[_0x5699a1(0x5c7)](_0x5699a1(0x3ff))[_0x5699a1(0xb9a)][_0x5699a1(0x660)]();_0x5ac261['includes'](_0x3402de)?(_0x45a97d[_0x5699a1(0xa49)][_0x5699a1(0x34d)]=_0x5699a1(0x673),_0x49d049=!![]):_0x45a97d[_0x5699a1(0xa49)]['display']=_0x5699a1(0x7e8);}),_0x49d049?_0x5bf03d[_0x323745(0xa49)][_0x323745(0x34d)]=_0x323745(0x9e7):_0x5bf03d['style'][_0x323745(0x34d)]='none';});});document[_0x5b5dba(0x967)](_0x5b5dba(0x1e6))[_0x5b5dba(0x28f)]('click',()=>exportTableAsImage(_0x5b5dba(0xb37),_0x8b78ad())),document[_0x5b5dba(0x967)]('export-pdf-btn')[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>exportTableAsPDF(_0x5b5dba(0x73f),_0x8b78ad())),document[_0x5b5dba(0x967)](_0x5b5dba(0x8f9))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>exportTableAsWord(_0x5b5dba(0xb37),_0x8b78ad())),document['getElementById'](_0x5b5dba(0xd30))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>exportTableAsExcel(_0x5b5dba(0x73f),_0x8b78ad()));const _0x43577=()=>{const _0x1d8e61=_0x5b5dba,_0x55df3b=document['getElementById'](_0x1d8e61(0x3cd))[_0x1d8e61(0xb9a)][_0x1d8e61(0x528)](/[^a-z0-9]/gi,'_')['toLowerCase']();return'leaderboard_'+(_0x55df3b||_0x1d8e61(0x72e));};document['getElementById'](_0x5b5dba(0x59d))[_0x5b5dba(0x28f)]('click',()=>exportTableAsImage(_0x5b5dba(0x9bc),_0x43577())),document[_0x5b5dba(0x967)](_0x5b5dba(0xb67))['addEventListener']('click',()=>exportTableAsPDF(_0x5b5dba(0xd72),_0x43577())),document[_0x5b5dba(0x967)]('export-leaderboard-word-btn')[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>exportTableAsWord(_0x5b5dba(0x9bc),_0x43577())),document['getElementById']('export-leaderboard-excel-btn')[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>exportTableAsExcel('quiz-leaderboard-table',_0x43577())),projectQuizzesList[_0x5b5dba(0x28f)]('click',async _0x1b9490=>{const _0x408ec1=_0x5b5dba,_0x490ada=_0x1b9490[_0x408ec1(0xae7)][_0x408ec1(0xbc5)](_0x408ec1(0xd07)),_0x48c62a=_0x1b9490[_0x408ec1(0xae7)][_0x408ec1(0xbc5)](_0x408ec1(0xd79)),_0x2224f7=_0x1b9490[_0x408ec1(0xae7)]['closest'](_0x408ec1(0xa72)),_0x1c338a=_0x1b9490[_0x408ec1(0xae7)][_0x408ec1(0xbc5)](_0x408ec1(0x768)),_0x223b4a=_0x1b9490['target'][_0x408ec1(0xbc5)](_0x408ec1(0xb6d)),_0xf75cbb=_0x1b9490['target'][_0x408ec1(0xbc5)](_0x408ec1(0x858)),_0x45260e=_0x1b9490['target']['closest'](_0x408ec1(0x1e7)),_0x5b187c=_0x1b9490[_0x408ec1(0xae7)]['closest'](_0x408ec1(0xa32)),_0x20785a=_0x1b9490[_0x408ec1(0xae7)]['closest'](_0x408ec1(0x1e5)),_0x3a6047=_0x1b9490[_0x408ec1(0xae7)]['closest'](_0x408ec1(0x840)),_0x1528a9=_0x1b9490['target'][_0x408ec1(0xbc5)](_0x408ec1(0x366)),_0x2b406b=_0x1b9490[_0x408ec1(0xae7)][_0x408ec1(0xbc5)](_0x408ec1(0xbbf)),_0x1f20b7=_0x1b9490['target'][_0x408ec1(0xbc5)]('.pair-quiz-btn'),_0xe48a57=_0x1b9490[_0x408ec1(0xae7)]['closest'](_0x408ec1(0x208)),_0x5ea8a3=_0x1b9490[_0x408ec1(0xae7)][_0x408ec1(0xbc5)](_0x408ec1(0x408)),_0x598754=_0x1b9490[_0x408ec1(0xae7)][_0x408ec1(0xbc5)]('.admin-try-quiz-list-btn'),_0x2b3db3=_0x1b9490[_0x408ec1(0xae7)]['closest'](_0x408ec1(0xc2f)),_0x2d92ce=_0x1b9490[_0x408ec1(0xae7)][_0x408ec1(0xbc5)](_0x408ec1(0x370)),_0x164468=_0x1b9490[_0x408ec1(0xae7)]['closest']('.quiz-status-btn'),_0xeb85d2=_0x1b9490[_0x408ec1(0xae7)][_0x408ec1(0xbc5)](_0x408ec1(0xd27)),_0x1a0524=_0x1b9490[_0x408ec1(0xae7)][_0x408ec1(0xbc5)]('.generate-easy-version-btn'),_0x37562e=_0x1b9490[_0x408ec1(0xae7)][_0x408ec1(0xbc5)](_0x408ec1(0x339)),_0x5ee945=_0x1b9490[_0x408ec1(0xae7)][_0x408ec1(0xbc5)]('.start-live-race-btn');if(_0x37562e){const _0x448540=_0x37562e[_0x408ec1(0x305)][_0x408ec1(0x519)],_0x3587ce=_0x37562e[_0x408ec1(0x305)][_0x408ec1(0x93d)],_0x429e66=allQuizzes[_0x408ec1(0x4c4)](_0x3c81ee=>_0x3c81ee['id']===_0x448540);_0x429e66&&showGameStartConfirmationModal(_0x448540,_0x3587ce,_0x429e66['topic']);}else{if(_0x5ee945){const _0x464893=_0x5ee945[_0x408ec1(0x305)][_0x408ec1(0x519)];handleStartLiveRace(_0x464893);}else{if(_0xeb85d2){const _0x33c775=_0xeb85d2[_0x408ec1(0x305)][_0x408ec1(0x519)],_0xd76c16=document[_0x408ec1(0x967)](_0x408ec1(0x63c)+_0x33c775);_0xd76c16&&_0xd76c16['classList'][_0x408ec1(0x992)]('hidden');}else{if(_0x48c62a){const _0x436988=_0x48c62a[_0x408ec1(0x305)]['quizId'],_0x9a3203=allQuizzes[_0x408ec1(0x4c4)](_0x4f8b1b=>_0x4f8b1b['id']===_0x436988);_0x9a3203&&handleGenerateParallelPostTest(_0x9a3203);}else{if(_0x2224f7)handleCompareResults(_0x2224f7[_0x408ec1(0x305)][_0x408ec1(0x519)],_0x2224f7[_0x408ec1(0x305)]['preTestId']);else{if(_0x1c338a){const _0x11f9f6=_0x1c338a[_0x408ec1(0x305)][_0x408ec1(0x519)],_0x54d62a=allQuizzes[_0x408ec1(0x4c4)](_0x460179=>_0x460179['id']===_0x11f9f6);_0x54d62a&&_0x54d62a['lessonPlan']?(displayLessonPlan(_0x54d62a['lessonPlan'],_0x54d62a),showConfirmation(_0x408ec1(0x331),()=>handleGenerateLessonPlan(_0x11f9f6)),document[_0x408ec1(0x967)](_0x408ec1(0x443))[_0x408ec1(0x5c7)]('h3')['textContent']=_0x408ec1(0x7e5),document[_0x408ec1(0x967)](_0x408ec1(0x97d))[_0x408ec1(0xb9a)]=_0x408ec1(0xc73)):handleGenerateLessonPlan(_0x11f9f6);}else{if(_0x223b4a)handleToggleStarQuiz(_0x223b4a['dataset'][_0x408ec1(0x519)]);else{if(_0xf75cbb)copyTextToClipboard(_0xf75cbb[_0x408ec1(0x305)][_0x408ec1(0x519)],_0x408ec1(0x521));else{if(_0x45260e)handleOpenQuizEditor(_0x45260e[_0x408ec1(0x305)][_0x408ec1(0x519)]);else{if(_0x5b187c)handleQuizSettings(_0x5b187c['dataset']['quizId']);else{if(_0x20785a)handleDuplicateQuiz(_0x20785a[_0x408ec1(0x305)][_0x408ec1(0x519)]);else{if(_0x3a6047)handleRenameQuiz(_0x3a6047[_0x408ec1(0x305)][_0x408ec1(0x519)],_0x3a6047['dataset'][_0x408ec1(0x3e7)]);else{if(_0x1528a9){const _0xe0d9d9=_0x1528a9[_0x408ec1(0x305)][_0x408ec1(0x519)],_0x1fbc14=allQuizzes[_0x408ec1(0x4c4)](_0x348cfa=>_0x348cfa['id']===_0xe0d9d9);_0x1fbc14&&handleGenerateParallelFromBank(_0x1fbc14);}else{if(_0x2b406b)handleMoveQuiz(_0x2b406b[_0x408ec1(0x305)][_0x408ec1(0x519)]);else{if(_0x1f20b7)handleManualQuizPairing(_0x1f20b7[_0x408ec1(0x305)]['quizId']);else{if(_0xe48a57)handleUnpairQuiz(_0xe48a57[_0x408ec1(0x305)][_0x408ec1(0x519)]);else{if(_0x5ea8a3){const _0x3da4b1=_0x5ea8a3[_0x408ec1(0x305)][_0x408ec1(0x519)],_0x43a386=allQuizzes['find'](_0x4083ea=>_0x4083ea['id']===_0x3da4b1);if(_0x43a386)startPresentation(_0x43a386);}else{if(_0x598754){const _0x154caf=_0x598754['dataset'][_0x408ec1(0x519)],_0x5c63a4=allQuizzes[_0x408ec1(0x4c4)](_0xa9f03e=>_0xa9f03e['id']===_0x154caf);_0x5c63a4&&(currentQuizData=_0x5c63a4,startAdminTest());}else{if(_0x2b3db3)actionTargetId=_0x2b3db3[_0x408ec1(0x305)][_0x408ec1(0x519)],document[_0x408ec1(0x967)](_0x408ec1(0x337))[_0x408ec1(0x67b)][_0x408ec1(0x7d5)](_0x408ec1(0x75c));else{if(_0x2d92ce)showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x2d92ce[_0x408ec1(0x305)]['topic']+_0x408ec1(0x92f),()=>handleDeleteQuiz(_0x2d92ce['dataset'][_0x408ec1(0x519)]));else{if(_0x164468)handleQuizStatus(_0x164468[_0x408ec1(0x305)][_0x408ec1(0x519)]);else{if(_0x1a0524)handleGenerateEasyVersionQuiz(_0x1a0524['dataset'][_0x408ec1(0x519)]);else _0x490ada&&showQuizDetailView(_0x490ada['dataset']['quizId']);}}}}}}}}}}}}}}}}}}}}}}),document[_0x5b5dba(0x967)](_0x5b5dba(0xc9f))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>showView(_0x5b5dba(0xbfe))),document['getElementById'](_0x5b5dba(0x2a9))['addEventListener'](_0x5b5dba(0x526),confirmAndStartTeamQuiz),document[_0x5b5dba(0x967)](_0x5b5dba(0xd72))[_0x5b5dba(0x5c7)]('thead')[_0x5b5dba(0x28f)]('click',_0x1236c3=>{const _0x575bfb=_0x5b5dba,_0xb1da7e=_0x1236c3['target'][_0x575bfb(0xbc5)](_0x575bfb(0x2d6));if(!_0xb1da7e||!_0xb1da7e['dataset'][_0x575bfb(0x8a7)])return;const _0x2ea24f=_0xb1da7e[_0x575bfb(0x305)][_0x575bfb(0x8a7)];if(quizLeaderboardSortBy===_0x2ea24f)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x575bfb(0x584)?_0x575bfb(0xc74):_0x575bfb(0x584);else{quizLeaderboardSortBy=_0x2ea24f;const _0x1181ac=['studentName'];quizLeaderboardSortOrder=_0x1181ac[_0x575bfb(0xb02)](_0x2ea24f)?_0x575bfb(0x584):_0x575bfb(0xc74);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x575bfb(0x31a));}),document[_0x5b5dba(0x967)]('close-presentation-btn')[_0x5b5dba(0x28f)](_0x5b5dba(0x526),closePresentation),document['getElementById'](_0x5b5dba(0x502))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById']('next-question-btn')[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>{const _0x423e84=_0x5b5dba;currentQuizData[_0x423e84(0x271)]&&currentPresentationSlide<currentQuizData[_0x423e84(0x271)]['length']-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x5b5dba(0x28f)](_0x5b5dba(0xd7e),()=>{const _0x29acc8=_0x5b5dba;!document['fullscreenElement']&&(presentationModal[_0x29acc8(0xa49)][_0x29acc8(0x34d)]=_0x29acc8(0x7e8));}),document[_0x5b5dba(0x967)]('delete-all-students-btn')[_0x5b5dba(0x28f)](_0x5b5dba(0x526),handleDeleteAllStudents),studentList['addEventListener']('click',_0x29a779=>{const _0x2be259=_0x5b5dba,_0x39ab6e=_0x29a779['target'][_0x2be259(0xbc5)](_0x2be259(0xae2));if(_0x39ab6e){const _0x421d52=_0x39ab6e[_0x2be259(0x305)][_0x2be259(0x1fd)];handleDeleteStudent(_0x421d52);}}),document['getElementById'](_0x5b5dba(0x33f))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),handleGenerateFromFileClick),fileUploadInput[_0x5b5dba(0x28f)](_0x5b5dba(0xd53),_0x76f9ae=>{const _0x5c54ec=_0x5b5dba,_0x2f81a0=_0x76f9ae[_0x5c54ec(0xae7)]['files'][0x0],_0x5989fd=document[_0x5c54ec(0x967)](_0x5c54ec(0x33f)),_0x4b0451=document[_0x5c54ec(0x967)](_0x5c54ec(0xc59)),_0x222e73=document[_0x5c54ec(0x967)](_0x5c54ec(0x73c));_0x2f81a0?(selectedFile=_0x2f81a0,_0x222e73[_0x5c54ec(0x4c6)]?(_0x5989fd[_0x5c54ec(0x367)]=!![],analyzeFileForTopics(_0x2f81a0)):(_0x5989fd[_0x5c54ec(0x367)]=![],_0x4b0451[_0x5c54ec(0x67b)][_0x5c54ec(0x602)]('hidden'))):(selectedFile=null,_0x5989fd[_0x5c54ec(0x367)]=!![],_0x4b0451[_0x5c54ec(0x67b)][_0x5c54ec(0x602)](_0x5c54ec(0x75c)));}),document['getElementById'](_0x5b5dba(0x73c))['addEventListener']('change',_0x23d18a=>{const _0x5d8b16=_0x5b5dba,_0x53047e=_0x23d18a[_0x5d8b16(0xae7)][_0x5d8b16(0x4c6)],_0x29017e=document['getElementById'](_0x5d8b16(0x33f)),_0x11f367=document[_0x5d8b16(0x967)]('file-topics-list-container');_0x53047e?(_0x29017e[_0x5d8b16(0x367)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x11f367[_0x5d8b16(0x67b)][_0x5d8b16(0x7d5)](_0x5d8b16(0x75c)),document[_0x5d8b16(0x967)](_0x5d8b16(0x656))[_0x5d8b16(0x66e)]=_0x5d8b16(0xa8a))):(_0x11f367[_0x5d8b16(0x67b)][_0x5d8b16(0x602)](_0x5d8b16(0x75c)),_0x29017e[_0x5d8b16(0x367)]=!selectedFile);}),document['getElementById'](_0x5b5dba(0xc59))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),_0x14742d=>{const _0x19cf8d=_0x5b5dba,_0x205f38=_0x14742d['target'][_0x19cf8d(0xbc5)]('.file-topic-selection-btn'),_0xe92f16=_0x14742d['target']['closest']('.generate-content-btn');if(_0x205f38){const _0x1f5d14=unescape(_0x205f38[_0x19cf8d(0x305)][_0x19cf8d(0x3e7)]);generateHybridQuizForTopic(_0x1f5d14);}else{if(_0xe92f16){const _0x1bbaa1=unescape(_0xe92f16[_0x19cf8d(0x305)][_0x19cf8d(0x3e7)]),_0x768521=document[_0x19cf8d(0x967)](_0x19cf8d(0x5ce))[_0x19cf8d(0x734)];handleGenerateAndShowLesson(_0x1bbaa1,_0x768521);}}}),document['getElementById'](_0x5b5dba(0x423))[_0x5b5dba(0x28f)](_0x5b5dba(0xd53),_0x29eea5=>{const _0x224dcc=_0x5b5dba,_0x403c5c=document[_0x224dcc(0x967)](_0x224dcc(0x32a)),_0x2e1148=document['getElementById'](_0x224dcc(0xcaf)),_0x513f4c=document['getElementById'](_0x224dcc(0xbac));_0x29eea5[_0x224dcc(0xae7)][_0x224dcc(0x734)]===_0x224dcc(0x7e8)?_0x403c5c[_0x224dcc(0x67b)][_0x224dcc(0x602)]('hidden'):(_0x403c5c[_0x224dcc(0x67b)][_0x224dcc(0x7d5)]('hidden'),_0x29eea5['target'][_0x224dcc(0x734)]===_0x224dcc(0x253)?(_0x2e1148[_0x224dcc(0xb9a)]=_0x224dcc(0x892),_0x513f4c['value']='10'):(_0x2e1148['textContent']=_0x224dcc(0x972),_0x513f4c[_0x224dcc(0x734)]='30'));}),document[_0x5b5dba(0x967)](_0x5b5dba(0xb1b))[_0x5b5dba(0x28f)](_0x5b5dba(0xd53),_0x4176f5=>{const _0x347f52=_0x5b5dba,_0x1874e8=document['getElementById'](_0x347f52(0x5c1)),_0x13c5e1=_0x4176f5['target']['value'],_0x59b799=document[_0x347f52(0x5c7)](_0x347f52(0x8ab)),_0x3e8c90=document[_0x347f52(0x967)](_0x347f52(0x57e)),_0x4cd26f=document[_0x347f52(0x967)]('num-questions');_0x13c5e1===_0x347f52(0xba6)?_0x59b799['textContent']=_0x347f52(0x23b):_0x59b799['textContent']='จำนวนข้อ:',_0x13c5e1==='multiple_choice'||_0x13c5e1==='fill_in_with_choices'||_0x13c5e1===_0x347f52(0x63f)?_0x1874e8[_0x347f52(0x67b)]['remove'](_0x347f52(0x75c)):_0x1874e8[_0x347f52(0x67b)][_0x347f52(0x602)](_0x347f52(0x75c)),_0x3e8c90[_0x347f52(0x940)]=_0x4cd26f['value'];}),document[_0x5b5dba(0x967)](_0x5b5dba(0x304))[_0x5b5dba(0x28f)]('input',_0x332935=>{const _0x256092=_0x5b5dba;document[_0x256092(0x967)](_0x256092(0x57e))['max']=_0x332935[_0x256092(0xae7)][_0x256092(0x734)];}),document[_0x5b5dba(0x967)](_0x5b5dba(0xa59))[_0x5b5dba(0x28f)](_0x5b5dba(0xd53),_0x3f76d8=>{const _0x4064e3=_0x5b5dba,_0xa2386e=document[_0x4064e3(0x967)](_0x4064e3(0x30b)),_0x286331=document['getElementById'](_0x4064e3(0x349)),_0x19e7d6=document[_0x4064e3(0x967)]('modal-timer-duration-input');_0x3f76d8[_0x4064e3(0xae7)][_0x4064e3(0x734)]==='none'?_0xa2386e[_0x4064e3(0x67b)][_0x4064e3(0x602)](_0x4064e3(0x75c)):(_0xa2386e[_0x4064e3(0x67b)][_0x4064e3(0x7d5)](_0x4064e3(0x75c)),_0x3f76d8['target'][_0x4064e3(0x734)]==='whole_quiz'?_0x286331[_0x4064e3(0xb9a)]='ระยะเวลา\x20(นาที):':_0x286331[_0x4064e3(0xb9a)]=_0x4064e3(0x972));}),document[_0x5b5dba(0x967)](_0x5b5dba(0x9fc))[_0x5b5dba(0x28f)]('click',()=>{const _0x506cdc=_0x5b5dba;document[_0x506cdc(0x967)](_0x506cdc(0x238))[_0x506cdc(0x67b)][_0x506cdc(0x602)](_0x506cdc(0x75c));}),document['getElementById'](_0x5b5dba(0x7f2))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>{const _0x565d3a=_0x5b5dba;document['getElementById'](_0x565d3a(0x238))[_0x565d3a(0x67b)][_0x565d3a(0x602)](_0x565d3a(0x75c));}),document[_0x5b5dba(0x967)](_0x5b5dba(0xda9))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),handleVerifyAnswersInEditor),document[_0x5b5dba(0x967)](_0x5b5dba(0x1f3))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>{const _0x45534b=_0x5b5dba;document[_0x45534b(0x967)]('quiz-editor-modal')[_0x45534b(0x67b)][_0x45534b(0x602)]('hidden'),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document[_0x5b5dba(0x967)](_0x5b5dba(0x56a))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),handleAutoFixLatex);const _0x275f08=document[_0x5b5dba(0x967)](_0x5b5dba(0x924));_0x275f08&&_0x275f08['addEventListener'](_0x5b5dba(0x526),_0x1f8252=>{const _0x5d7360=_0x5b5dba,_0x24b2ea=_0x1f8252[_0x5d7360(0xae7)][_0x5d7360(0xbc5)]('.regenerate-question-editor-btn');if(_0x24b2ea){const _0x568a14=_0x24b2ea[_0x5d7360(0xbc5)](_0x5d7360(0x6cf)),_0x4236a9=parseInt(_0x568a14['dataset'][_0x5d7360(0xbf8)],0xa);handleRegenerateQuestionInEditor(_0x4236a9);return;}const _0x4eac11=_0x1f8252[_0x5d7360(0xae7)][_0x5d7360(0xbc5)](_0x5d7360(0x6f3));if(_0x4eac11){const _0x2c788a=_0x4eac11['closest']('.question-editor-item'),_0x33ac8f=parseInt(_0x2c788a[_0x5d7360(0x305)]['qIndex'],0xa);handleDeleteQuestionInEditor(_0x33ac8f);return;}const _0x11d462=_0x1f8252['target']['closest'](_0x5d7360(0x385));if(_0x11d462){handleAddQuestionInEditor();return;}});document[_0x5b5dba(0x967)]('open-quiz-bank-btn')[_0x5b5dba(0x28f)](_0x5b5dba(0x526),openQuizBankModal),document[_0x5b5dba(0x967)]('cancel-quiz-bank-btn')['addEventListener'](_0x5b5dba(0x526),()=>{const _0x3ad141=_0x5b5dba;document[_0x3ad141(0x967)](_0x3ad141(0x21a))[_0x3ad141(0x67b)]['add']('hidden');}),document[_0x5b5dba(0x967)](_0x5b5dba(0xc50))['addEventListener'](_0x5b5dba(0x4cd),_0x5c6462=>renderQuizBankList(_0x5c6462[_0x5b5dba(0xae7)][_0x5b5dba(0x734)]));const _0x5cf60a=document[_0x5b5dba(0x967)](_0x5b5dba(0x782));if(_0x5cf60a){let _0x15328f=null;_0x5cf60a[_0x5b5dba(0x28f)](_0x5b5dba(0x526),_0x45181c=>{const _0x4790f3=_0x5b5dba,_0x52ab8d=_0x45181c[_0x4790f3(0xae7)],_0xe0fa14=_0x52ab8d[_0x4790f3(0xbc5)](_0x4790f3(0xb99)),_0x7ae71d=_0x52ab8d[_0x4790f3(0xbc5)](_0x4790f3(0x522)),_0x3ef365=_0x52ab8d['closest'](_0x4790f3(0x32f)),_0x9c74aa=_0x52ab8d['closest'](_0x4790f3(0xde5));if(_0x7ae71d){_0x45181c[_0x4790f3(0x6c3)]();const _0x57a4e2=_0x7ae71d[_0x4790f3(0x305)]['id'],_0x4f5d09=_0x7ae71d[_0x4790f3(0xbc5)]('.group')[_0x4790f3(0x5c7)](_0x4790f3(0x3ff))['textContent'];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x4f5d09+'\x22?',()=>handleDeleteCustomTopic(_0x57a4e2));}else{if(_0xe0fa14){_0x45181c[_0x4790f3(0x6c3)]();_0x15328f&&toggleTopicEditMode(_0x15328f,![]);const _0x3b6cd2=_0xe0fa14[_0x4790f3(0xbc5)](_0x4790f3(0xd94));_0x15328f=_0x3b6cd2,toggleTopicEditMode(_0x3b6cd2,!![]);}else{if(_0x3ef365){_0x45181c[_0x4790f3(0x6c3)]();const _0x224b2b=_0x3ef365[_0x4790f3(0x305)]['id'],_0xd2e71b=_0x3ef365['closest']('[data-topic-container-id]'),_0x30c6e6=_0xd2e71b['querySelector'](_0x4790f3(0x5fa))[_0x4790f3(0x734)];handleUpdateCustomTopic(_0x224b2b,_0x30c6e6),_0x15328f=null;}else{if(_0x9c74aa){_0x45181c[_0x4790f3(0x6c3)]();const _0x35d6ad=_0x9c74aa[_0x4790f3(0xbc5)](_0x4790f3(0xd94));toggleTopicEditMode(_0x35d6ad,![]),_0x15328f=null;}}}}}),document['getElementById'](_0x5b5dba(0x888))[_0x5b5dba(0x28f)]('click',()=>{const _0x3d1376=_0x5b5dba;document[_0x3d1376(0x967)]('lesson-plan-modal')[_0x3d1376(0x67b)][_0x3d1376(0x602)]('hidden');}),document[_0x5b5dba(0x967)](_0x5b5dba(0x759))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>{const _0x2d5759=_0x5b5dba;document[_0x2d5759(0x967)](_0x2d5759(0x28a))[_0x2d5759(0x67b)]['add']('hidden');}),document[_0x5b5dba(0x967)](_0x5b5dba(0xc3d))[_0x5b5dba(0x28f)](_0x5b5dba(0x526),handleExportLessonPDF);}document[_0x5b5dba(0x967)]('close-comparison-modal-btn')[_0x5b5dba(0x28f)](_0x5b5dba(0x526),()=>{const _0x56c164=_0x5b5dba;document[_0x56c164(0x967)]('comparison-modal')[_0x56c164(0x67b)][_0x56c164(0x602)](_0x56c164(0x75c));}),document[_0x5b5dba(0x967)](_0x5b5dba(0x66f))[_0x5b5dba(0x28f)]('click',()=>{const _0x32027d=_0x5b5dba;document[_0x32027d(0x967)]('comparison-modal')[_0x32027d(0x67b)]['add'](_0x32027d(0x75c));}),setupComparisonModalTabs(),document[_0x5b5dba(0x7c0)][_0x5b5dba(0x28f)](_0x5b5dba(0x526),function(_0x56a58b){const _0x4fdd05=_0x5b5dba;if(_0x56a58b[_0x4fdd05(0xae7)][_0x4fdd05(0x67b)]['contains'](_0x4fdd05(0xd52))){const _0x1402ff=unescape(_0x56a58b[_0x4fdd05(0xae7)]['dataset'][_0x4fdd05(0x3e7)]);startSkillPractice(_0x1402ff);}}),document['getElementById']('scores-tab-content')[_0x5b5dba(0x28f)]('click',_0x359658=>{const _0x2c2575=_0x5b5dba,_0x291a16=_0x359658[_0x2c2575(0xae7)][_0x2c2575(0xbc5)](_0x2c2575(0xd50));if(_0x291a16){const _0x4b6a72=_0x291a16['dataset']['studentName'];handleDeleteSubmission(_0x4b6a72);}});}async function handleStartGroupMode(_0x13ef1e,_0x1b6acc=![]){const _0x39f096=_0x4c4cf8,_0x49f510=allQuizzes[_0x39f096(0x4c4)](_0x3a0fab=>_0x3a0fab['id']===_0x13ef1e)||allQuizzesGlobal['find'](_0x39fe91=>_0x39fe91['id']===_0x13ef1e);if(!_0x49f510){showMessage(_0x39f096(0x91d));return;}currentQuizData=getShuffledQuiz(_0x49f510);const _0x36ba59=Math['floor'](0x3e8+Math[_0x39f096(0xb9d)]()*0x2328)['toString']();try{const _0x39e0bd=await addDoc(collection(db,'artifacts/'+appId+_0x39f096(0xbaf)),{'quizId':_0x49f510['id'],'projectId':_0x49f510['projectId'],'status':_0x39f096(0xd1e),'pin':_0x36ba59,'mode':_0x39f096(0xdc0),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x1b6acc});currentTeamQuizId=_0x39e0bd['id'],showView(_0x39f096(0x379)),renderAdminTeamQuizDashboard(_0x36ba59,_0x49f510['topic'],'group'),listenForTeamQuizUpdates();}catch(_0x1da677){console['error'](_0x39f096(0xcea),_0x1da677),showMessage(_0x39f096(0x628));}}async function showStudentProgressView(){const _0x22baa1=_0x4c4cf8;studentInitialView[_0x22baa1(0x67b)][_0x22baa1(0x602)](_0x22baa1(0x75c)),document[_0x22baa1(0x967)](_0x22baa1(0x212))[_0x22baa1(0x67b)][_0x22baa1(0x7d5)](_0x22baa1(0x75c));const _0x165647=document['getElementById'](_0x22baa1(0x57b)),_0x24caad=document[_0x22baa1(0x967)]('progress-student-select'),_0x198d7c=document[_0x22baa1(0x967)](_0x22baa1(0xcc6));_0x198d7c[_0x22baa1(0x66e)]=_0x22baa1(0x74b),_0x24caad[_0x22baa1(0x66e)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x24caad[_0x22baa1(0x367)]=!![],_0x165647[_0x22baa1(0x66e)]=_0x22baa1(0xdef);if(allProjects[_0x22baa1(0xbe0)]===0x0){const _0x22d30a=collection(db,_0x22baa1(0x4e9)+appId+'/public/data/projects'),_0x40df5d=await getDocs(_0x22d30a);allProjects=_0x40df5d['docs']['map'](_0x1b3db1=>({'id':_0x1b3db1['id'],..._0x1b3db1[_0x22baa1(0x6bc)]()}));}const _0x459ca1=allProjects['filter'](_0x3f6bf4=>_0x3f6bf4['settings']?.['showInStudentDashboard']!==![]);_0x459ca1[_0x22baa1(0x8a7)]((_0x3e3a8e,_0x3abb41)=>_0x3e3a8e[_0x22baa1(0x453)][_0x22baa1(0xd8a)](_0x3abb41[_0x22baa1(0x453)],'th')),_0x165647[_0x22baa1(0x66e)]=_0x22baa1(0xb8c)+_0x459ca1[_0x22baa1(0x928)](_0x425643=>_0x22baa1(0x63b)+_0x425643['id']+'\x22>'+_0x425643[_0x22baa1(0x453)]+_0x22baa1(0xb96))[_0x22baa1(0xbe3)](''),_0x165647[_0x22baa1(0xbc6)]=()=>{const _0x36fa1a=_0x22baa1,_0x474332=_0x24caad[_0x36fa1a(0x734)],_0x254994=_0x165647[_0x36fa1a(0x734)];_0x24caad[_0x36fa1a(0x367)]=!![],_0x24caad[_0x36fa1a(0x66e)]=_0x36fa1a(0x67c),_0x198d7c['innerHTML']=_0x36fa1a(0xb24);if(!_0x254994)return;const _0x224c39=allProjects[_0x36fa1a(0x4c4)](_0x35cd46=>_0x35cd46['id']===_0x254994);if(!_0x224c39||!_0x224c39[_0x36fa1a(0x547)])return;const _0x51c652=()=>{const _0x3c2d6a=_0x36fa1a;_0x24caad[_0x3c2d6a(0x66e)]=_0x3c2d6a(0x67c)+_0x224c39[_0x3c2d6a(0x547)][_0x3c2d6a(0x928)](_0x33f25d=>_0x3c2d6a(0x63b)+_0x33f25d+'\x22>'+_0x33f25d+'</option>')['join'](''),_0x24caad[_0x3c2d6a(0x367)]=![];const _0x44c683=Array['from'](_0x24caad['options'])['map'](_0x16bdd1=>_0x16bdd1[_0x3c2d6a(0x734)]);if(_0x474332&&_0x44c683[_0x3c2d6a(0xb02)](_0x474332))_0x24caad[_0x3c2d6a(0x734)]=_0x474332,_0x24caad[_0x3c2d6a(0x47d)](new Event('change'));else _0x224c39[_0x3c2d6a(0x547)]['length']===0x1&&(_0x24caad[_0x3c2d6a(0x734)]=_0x224c39['students'][0x0],_0x24caad[_0x3c2d6a(0x47d)](new Event(_0x3c2d6a(0xd53))));};if(_0x224c39[_0x36fa1a(0x793)]?.[_0x36fa1a(0xd3a)]){if(sessionStorage[_0x36fa1a(0x6c7)](_0x36fa1a(0x34b)+_0x254994)==='true'){_0x51c652();return;}const _0x45ddda=document[_0x36fa1a(0x967)](_0x36fa1a(0x48b)),_0x238135=document[_0x36fa1a(0x967)](_0x36fa1a(0x82d)),_0x23d946=document['getElementById'](_0x36fa1a(0x723)),_0x2f19e8=document[_0x36fa1a(0x967)](_0x36fa1a(0xa9c)),_0x17c530=document[_0x36fa1a(0x967)]('passcode-error-msg');document[_0x36fa1a(0x967)](_0x36fa1a(0xa79))['textContent']=_0x36fa1a(0x8c2)+_0x224c39['projectName'],_0x2f19e8[_0x36fa1a(0x734)]='',_0x17c530[_0x36fa1a(0x67b)][_0x36fa1a(0x602)]('hidden'),_0x45ddda[_0x36fa1a(0x67b)][_0x36fa1a(0x7d5)](_0x36fa1a(0x75c));const _0x1fd27a=()=>{const _0x19235b=_0x36fa1a,_0x590093=_0x2f19e8[_0x19235b(0x734)][_0x19235b(0x46b)]();_0x590093===_0x224c39[_0x19235b(0x793)][_0x19235b(0x382)]?(sessionStorage[_0x19235b(0x9be)](_0x19235b(0x34b)+_0x254994,'true'),_0x45ddda[_0x19235b(0x67b)][_0x19235b(0x602)](_0x19235b(0x75c)),_0x51c652(),_0x238135[_0x19235b(0x965)](_0x19235b(0x526),_0x1fd27a)):_0x17c530[_0x19235b(0x67b)][_0x19235b(0x7d5)](_0x19235b(0x75c));};_0x238135[_0x36fa1a(0x508)]=_0x1fd27a,_0x23d946[_0x36fa1a(0x508)]=()=>{const _0x35bd8f=_0x36fa1a;_0x45ddda[_0x35bd8f(0x67b)][_0x35bd8f(0x602)]('hidden'),_0x165647[_0x35bd8f(0x734)]='',_0x238135['removeEventListener'](_0x35bd8f(0x526),_0x1fd27a);};}else _0x51c652();},_0x24caad[_0x22baa1(0xbc6)]=()=>{const _0xa36560=_0x22baa1,_0x179a38=_0x165647[_0xa36560(0x734)],_0x3c956f=_0x24caad['value'];_0x179a38&&_0x3c956f&&renderStudentProgressDashboard(_0x179a38,_0x3c956f);};}async function confirmAndJoinSyncGame(){const _0x3434a0=_0x4c4cf8,_0x6cfdc=Array[_0x3434a0(0xa4f)](document[_0x3434a0(0xdd7)](_0x3434a0(0x236)))['map'](_0x219014=>_0x219014['value']);if(_0x6cfdc[_0x3434a0(0xbe0)]===0x0){showMessage(_0x3434a0(0xb3c));return;}localTeamPlayers=_0x6cfdc,localPlayerTurnIndex=0x0;const _0xd87066=doc(db,_0x3434a0(0x4e9)+appId+'/public/data/syncGames',currentLiveGameId);try{const _0x23e826={};_0x6cfdc[_0x3434a0(0xa3f)](_0x3ec1c8=>{const _0x5e9a01=_0x3434a0;_0x23e826['players.'+_0x3ec1c8]={'name':_0x3ec1c8,'score':0x0,'answered':![],'status':_0x5e9a01(0xb29)};}),await updateDoc(_0xd87066,_0x23e826),document[_0x3434a0(0x967)]('student-team-selection-view')['classList'][_0x3434a0(0x602)]('hidden'),currentStudentName=_0x6cfdc[0x0],listenForSyncGameUpdates();const _0x8e75f7={'gameId':currentLiveGameId,'mode':_0x3434a0(0x9a3),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x3434a0(0x9be)]('activeGameSession',JSON[_0x3434a0(0xa88)](_0x8e75f7)),currentMode!==_0x3434a0(0xd57)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x3434a0(0x28f)](_0x3434a0(0xd7e),handleFullscreenChange),document[_0x3434a0(0x28f)](_0x3434a0(0x473),handleVisibilityChange),enterFullscreen(),window[_0x3434a0(0x28f)](_0x3434a0(0xaff),resetDimTimer),window[_0x3434a0(0x28f)](_0x3434a0(0x338),resetDimTimer),window['addEventListener'](_0x3434a0(0xc33),resetDimTimer),window[_0x3434a0(0x28f)](_0x3434a0(0xc8b),resetDimTimer),resetDimTimer());}catch(_0x51f3bb){console[_0x3434a0(0x3f6)](_0x3434a0(0x98e),_0x51f3bb),showMessage('เกิดข้อผิดพลาดในการยืนยันผู้เล่น');}}async function resumeActiveGameSession(){const _0x517a17=_0x4c4cf8,_0x23d243=sessionStorage[_0x517a17(0x6c7)](_0x517a17(0x499));if(!_0x23d243)return;const _0x9d709f=JSON[_0x517a17(0x6d6)](_0x23d243),{gameId:_0xdcda2b,mode:_0x24a210,players:_0x9d0544,turnIndex:_0x12a794}=_0x9d709f;try{let _0x3e0483,_0x355102;_0x24a210===_0x517a17(0x9a3)?_0x3e0483=doc(db,_0x517a17(0x4e9)+appId+_0x517a17(0xa4d),_0xdcda2b):_0x3e0483=doc(db,_0x517a17(0x4e9)+appId+_0x517a17(0xbaf),_0xdcda2b);_0x355102=await getDoc(_0x3e0483);if(!_0x355102[_0x517a17(0x78d)]()||_0x355102['data']()[_0x517a17(0x27d)]===_0x517a17(0xcec)||_0x355102[_0x517a17(0x6bc)]()[_0x517a17(0x27d)]===_0x517a17(0xbfa)){sessionStorage[_0x517a17(0x794)](_0x517a17(0x499));return;}console['log']('กำลังกลับเข้าสู่เกม\x20'+_0x24a210+'\x20(ID:\x20'+_0xdcda2b+')'),localTeamPlayers=_0x9d0544,localPlayerTurnIndex=_0x12a794;if(_0x24a210==='sync')currentLiveGameId=_0xdcda2b,currentStudentName=_0x9d0544[0x0],showView('live-game'),listenForSyncGameUpdates();else{currentTeamQuizId=_0xdcda2b;const _0x152053=_0x355102['data'](),_0x21d809=doc(db,_0x517a17(0x4e9)+appId+_0x517a17(0x2fe),_0x152053[_0x517a17(0x519)]),_0x2efa07=await getDoc(_0x21d809);_0x2efa07['exists']()&&(currentQuizData=getShuffledQuiz({'id':_0x2efa07['id'],..._0x2efa07[_0x517a17(0x6bc)]()}),showView(_0x517a17(0xbfe)),studentInitialView[_0x517a17(0x67b)][_0x517a17(0x602)](_0x517a17(0x75c)),renderTeamQuizQuestion());}}catch(_0x1b8cab){console[_0x517a17(0x3f6)](_0x517a17(0x5b3),_0x1b8cab),sessionStorage[_0x517a17(0x794)](_0x517a17(0x499));}}function activateFileInputAreaWithLoadedFile(){const _0x1cf53a=_0x4c4cf8,_0x2eaf74=document[_0x1cf53a(0x967)](_0x1cf53a(0x33f)),_0x2d8f6c=document[_0x1cf53a(0x967)](_0x1cf53a(0xc59)),_0x37899c=document[_0x1cf53a(0x967)](_0x1cf53a(0x73c));selectedFile?_0x37899c[_0x1cf53a(0x4c6)]?(_0x2eaf74[_0x1cf53a(0x367)]=!![],analyzeFileForTopics(selectedFile)):(_0x2eaf74[_0x1cf53a(0x367)]=![],_0x2d8f6c[_0x1cf53a(0x67b)][_0x1cf53a(0x602)]('hidden')):(_0x2eaf74[_0x1cf53a(0x367)]=!![],_0x2d8f6c['classList'][_0x1cf53a(0x602)](_0x1cf53a(0x75c)));}async function handleKickPlayerSync(_0x58817a){const _0x2a97d0=_0x4c4cf8;if(!currentLiveGameId||!_0x58817a)return;const _0x5ee290=doc(db,_0x2a97d0(0x4e9)+appId+_0x2a97d0(0xa4d),currentLiveGameId),_0x446dad={};_0x446dad['players.'+_0x58817a+_0x2a97d0(0xdbf)]=_0x2a97d0(0x850);try{await updateDoc(_0x5ee290,_0x446dad);}catch(_0x250844){console[_0x2a97d0(0x3f6)]('Failed\x20to\x20kick\x20player\x20'+_0x58817a+_0x2a97d0(0xba0),_0x250844),showMessage('เกิดข้อผิดพลาดในการนำผู้เล่นออก');}}async function renderStudentProgressDashboard(_0x509b20,_0x528f90){const _0x281ad6=_0x4c4cf8,_0x4b7fec=document[_0x281ad6(0x967)]('student-progress-content');_0x4b7fec[_0x281ad6(0x66e)]=_0x281ad6(0x7a8);try{const _0x1ca393=collection(db,_0x281ad6(0x4e9)+appId+_0x281ad6(0x2fe)),_0x5cc714=query(_0x1ca393,where(_0x281ad6(0x6fe),'==',_0x509b20)),_0xc14492=await getDocs(_0x5cc714),_0x22480b=_0xc14492[_0x281ad6(0x9ff)]['map'](_0x482c06=>({'id':_0x482c06['id'],..._0x482c06['data']()})),_0x197743=_0x22480b[_0x281ad6(0x928)](_0x104b44=>getDoc(doc(db,_0x281ad6(0x4e9)+appId+_0x281ad6(0x868)+_0x104b44['id']+_0x281ad6(0xa24),_0x528f90))),_0x35347f=await Promise[_0x281ad6(0xa9a)](_0x197743),_0x57cd6d=_0x35347f[_0x281ad6(0x3d0)](_0x237966=>_0x237966[_0x281ad6(0x78d)]())[_0x281ad6(0x928)](_0x42940a=>({'quizId':_0x42940a['ref'][_0x281ad6(0x4b0)][_0x281ad6(0x4b0)]['id'],..._0x42940a['data']()}));if(_0x57cd6d[_0x281ad6(0xbe0)]===0x0){_0x4b7fec['innerHTML']=_0x281ad6(0x7db);return;}let _0x1f1651=_0x281ad6(0xb0f);_0x57cd6d['forEach'](_0x148bbf=>{const _0x51b8a4=_0x281ad6,_0x3f8e08=_0x22480b[_0x51b8a4(0x4c4)](_0x1a9673=>_0x1a9673['id']===_0x148bbf['quizId']),_0x22a129=_0x3f8e08[_0x51b8a4(0x793)]?.[_0x51b8a4(0x3a4)]||'show_results_and_answers',_0x328744=_0x3f8e08['settings']?.[_0x51b8a4(0xa66)]??0x0,_0x2702c3=_0x148bbf['bestScore']>=_0x328744;let _0x23b21d='',_0x3639ce=_0x51b8a4(0x5aa);switch(_0x22a129){case'show_results_and_answers':case'show_results_only':_0x3639ce=_0x2702c3?_0x51b8a4(0x785):_0x51b8a4(0x250),_0x23b21d=_0x51b8a4(0xd47)+(_0x2702c3?'text-green-700':_0x51b8a4(0x84f))+'\x22>'+_0x148bbf[_0x51b8a4(0xbbe)]+_0x51b8a4(0xb12)+_0x148bbf[_0x51b8a4(0xdb4)]+_0x51b8a4(0x886)+(_0x2702c3?'bg-green-200\x20text-green-800':_0x51b8a4(0x41f))+'\x22>'+(_0x2702c3?_0x51b8a4(0xdbc):_0x51b8a4(0x592))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x51b8a4(0xe00):_0x3639ce=_0x2702c3?_0x51b8a4(0x785):_0x51b8a4(0x250),_0x23b21d=_0x51b8a4(0x67e)+(_0x2702c3?_0x51b8a4(0x225):_0x51b8a4(0x41f))+'\x22>'+(_0x2702c3?_0x51b8a4(0xdbc):_0x51b8a4(0x592))+_0x51b8a4(0x579);break;case _0x51b8a4(0xaec):_0x3639ce=_0x51b8a4(0xb18),_0x23b21d=_0x51b8a4(0x4e6);break;}_0x1f1651+=_0x51b8a4(0xb93)+_0x3639ce+_0x51b8a4(0xb28)+_0x3f8e08[_0x51b8a4(0x3e7)]+_0x51b8a4(0x466)+_0x148bbf[_0x51b8a4(0xd68)][_0x51b8a4(0xbe0)]+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x148bbf[_0x51b8a4(0x968)])[_0x51b8a4(0xd92)](_0x51b8a4(0x45d))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x23b21d+_0x51b8a4(0xddc);}),_0x1f1651+=_0x281ad6(0x83b),_0x4b7fec[_0x281ad6(0x66e)]=_0x1f1651;}catch(_0xfebd){console[_0x281ad6(0x3f6)]('Error\x20rendering\x20student\x20progress:',_0xfebd),_0x4b7fec[_0x281ad6(0x66e)]=_0x281ad6(0xcb3);}}function renderQuizBankListForMultiSelect(_0x135c1c=''){const _0x49265a=_0x4c4cf8,_0xc9bfe5=document[_0x49265a(0x967)](_0x49265a(0x7ea)),_0xaea3ab=_0x135c1c[_0x49265a(0x660)]()[_0x49265a(0x46b)](),_0x1879c9=allQuizzesGlobal[_0x49265a(0x928)](_0xd0a66f=>({..._0xd0a66f,'projectName':allProjects[_0x49265a(0x4c4)](_0x21d4d9=>_0x21d4d9['id']===_0xd0a66f[_0x49265a(0x6fe)])?.[_0x49265a(0x453)]||'N/A'}))[_0x49265a(0x3d0)](_0x22e71e=>(_0x22e71e[_0x49265a(0x3e7)]||'')[_0x49265a(0x660)]()[_0x49265a(0xb02)](_0xaea3ab)||(_0x22e71e['projectName']||'')[_0x49265a(0x660)]()[_0x49265a(0xb02)](_0xaea3ab)||_0x22e71e['id']['toString']()[_0x49265a(0xb02)](_0xaea3ab));_0xc9bfe5[_0x49265a(0x66e)]=_0x1879c9[_0x49265a(0xbe0)]?_0x1879c9[_0x49265a(0x928)](_0x2fb818=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22'+_0x2fb818['id']+_0x49265a(0x763)+(_0x2fb818['topic']||_0x49265a(0x3a5))+_0x49265a(0xd28)+_0x2fb818[_0x49265a(0x453)]+_0x49265a(0x58b)+_0x2fb818['id']+_0x49265a(0x9eb))[_0x49265a(0xbe3)](''):_0x49265a(0x879),_0xc9bfe5['onchange']=()=>{const _0x23aab3=_0x49265a,_0x215bd7=document[_0x23aab3(0x5c7)](_0x23aab3(0x2e8));document[_0x23aab3(0x967)](_0x23aab3(0xab9))[_0x23aab3(0x367)]=!_0x215bd7;};}function setupStudentProgressListeners(){const _0x41f382=_0x4c4cf8;document['getElementById'](_0x41f382(0x7f4))['addEventListener'](_0x41f382(0x526),showStudentProgressView),document[_0x41f382(0x967)](_0x41f382(0xc4a))[_0x41f382(0x28f)]('click',()=>{const _0x570429=_0x41f382;document[_0x570429(0x967)]('student-progress-view')['classList'][_0x570429(0x602)](_0x570429(0x75c)),document[_0x570429(0x967)](_0x570429(0x495))[_0x570429(0x67b)][_0x570429(0x7d5)]('hidden');});}async function startSkillPractice(_0x34f879){const _0x5e5782=_0x4c4cf8;studentResultArea[_0x5e5782(0x67b)][_0x5e5782(0x602)](_0x5e5782(0x75c)),studentQuizArea['innerHTML']=_0x5e5782(0x237),studentQuizArea[_0x5e5782(0x67b)]['remove'](_0x5e5782(0x75c));try{const _0x5457e9=await getStandardizedTopic(_0x34f879);console[_0x5e5782(0xdea)](_0x5e5782(0x9ad)+_0x34f879+_0x5e5782(0x64b)+_0x5457e9+'\x22'),studentQuizArea[_0x5e5782(0x5c7)]('p')['textContent']=_0x5e5782(0x780)+_0x5457e9+_0x5e5782(0xa5e);const _0x4f793d=collection(db,_0x5e5782(0x4e9)+appId+_0x5e5782(0x20f)),_0x2dfa3a=query(_0x4f793d,where(_0x5e5782(0x3e7),'==',_0x5457e9)),_0x37f9e5=await getDocs(_0x2dfa3a);if(_0x37f9e5[_0x5e5782(0x9ff)][_0x5e5782(0xbe0)]>=0x3){console['log']('พบข้อสอบ\x20'+_0x37f9e5[_0x5e5782(0x9ff)][_0x5e5782(0xbe0)]+_0x5e5782(0x4b8)+_0x5457e9+_0x5e5782(0x1f7));let _0x109c87=_0x37f9e5['docs'][_0x5e5782(0x928)](_0x6f0342=>_0x6f0342[_0x5e5782(0x6bc)]());shuffleArray(_0x109c87);const _0x6332d4={'topic':_0x5457e9,'questions':_0x109c87['slice'](0x0,0x3)};displaySkillPracticeDrill(_0x6332d4);}else{console[_0x5e5782(0xdea)](_0x5e5782(0x919)+_0x5457e9+_0x5e5782(0xc0f));const _0x536dd8=await generatePracticeQuestions(_0x5457e9);await saveDrillToPracticeBank(_0x536dd8,_0x5457e9),displaySkillPracticeDrill(_0x536dd8);}}catch(_0x545591){console[_0x5e5782(0x3f6)](_0x5e5782(0x555),_0x545591),showMessage(_0x5e5782(0xac6)),studentQuizArea['classList'][_0x5e5782(0x602)]('hidden'),studentResultArea['classList'][_0x5e5782(0x7d5)](_0x5e5782(0x75c));}}async function saveDrillToPracticeBank(_0x1a4c0a,_0x756f54){const _0x1b3a70=_0x4c4cf8,_0x372124=collection(db,_0x1b3a70(0x4e9)+appId+_0x1b3a70(0x20f)),_0x459d0e=writeBatch(db);_0x1a4c0a[_0x1b3a70(0x271)][_0x1b3a70(0xa3f)](_0x3db8b0=>{const _0x7a225=_0x1b3a70,_0x501409=doc(_0x372124);_0x459d0e[_0x7a225(0x8ff)](_0x501409,{'topic':_0x756f54,'questionText':_0x3db8b0[_0x7a225(0xa42)],'options':_0x3db8b0[_0x7a225(0x2e6)],'correctAnswerIndex':_0x3db8b0[_0x7a225(0x4e7)],'explanation':_0x3db8b0['explanation'],'createdAt':serverTimestamp()});});try{await _0x459d0e[_0x1b3a70(0xdc7)](),console[_0x1b3a70(0xdea)](_0x1b3a70(0x766)+_0x1a4c0a['questions'][_0x1b3a70(0xbe0)]+'\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ');}catch(_0x36d775){console[_0x1b3a70(0x3f6)](_0x1b3a70(0x3c9),_0x36d775);}}async function getStandardizedTopic(_0x33d400){const _0x561a78=_0x4c4cf8,_0x2d0c2c=_0x561a78(0xb64)+_0x33d400+_0x561a78(0x962),_0x2cdf18={'type':_0x561a78(0x8b8),'properties':{'standardTopic':{'type':_0x561a78(0x3db)}},'required':['standardTopic']};try{const _0x1de687=await callAnalysisApi(_0x2d0c2c,_0x2cdf18);return _0x1de687[_0x561a78(0xcf6)];}catch(_0x4f2525){return console['error'](_0x561a78(0x37c),_0x4f2525),_0x33d400;}}async function handleGenerateEasyVersionQuiz(_0x172b8c){const _0x13e3c2=_0x4c4cf8,_0x2e822a=document[_0x13e3c2(0x967)](_0x13e3c2(0xd39)),_0x1f33f4=document[_0x13e3c2(0x967)](_0x13e3c2(0x52a));_0x1f33f4[_0x13e3c2(0x67b)][_0x13e3c2(0x602)]('hidden');const _0x1e3de8=_0x13e3c2(0x3d4);_0x2e822a['insertAdjacentHTML'](_0x13e3c2(0x906),_0x1e3de8);try{const _0x596169=allQuizzes['find'](_0x507f5c=>_0x507f5c['id']===_0x172b8c);if(!_0x596169)throw new Error(_0x13e3c2(0xa33));const _0x3fdc34='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20'+JSON['stringify'](_0x596169[_0x13e3c2(0x271)])+_0x13e3c2(0x87f),_0xf690b3={'type':_0x13e3c2(0x8b8),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x13e3c2(0x3db)},'options':{'type':'ARRAY','items':{'type':_0x13e3c2(0x3db)}},'correctAnswerIndex':{'type':_0x13e3c2(0xbad)},'idealAnswer':{'type':_0x13e3c2(0x3db)},'explanation':{'type':_0x13e3c2(0x3db)},'imageCode':{'type':'STRING'}},'required':[_0x13e3c2(0xa42),_0x13e3c2(0x252),_0x13e3c2(0x8aa)]},_0x5a3b5d={'type':_0x13e3c2(0x8b8),'properties':{'questions':{'type':_0x13e3c2(0x34a),'items':_0xf690b3}},'required':[_0x13e3c2(0x271)]},_0x18910d=await callAnalysisApi(_0x3fdc34,_0x5a3b5d);_0x18910d&&_0x18910d[_0x13e3c2(0x271)]&&_0x18910d[_0x13e3c2(0x271)][_0x13e3c2(0xa3f)](_0x25a018=>{const _0x18fe1f=_0x13e3c2;if(_0x25a018[_0x18fe1f(0xb17)](_0x18fe1f(0x2bd))){const _0x5dc729=String(_0x25a018[_0x18fe1f(0x2bd)])[_0x18fe1f(0x46b)]();(_0x5dc729===''||_0x5dc729[_0x18fe1f(0x660)]()===_0x18fe1f(0x35b)||!_0x5dc729[_0x18fe1f(0x2e2)](_0x18fe1f(0xb3e)))&&delete _0x25a018[_0x18fe1f(0x2bd)];}});if(!_0x18910d||!_0x18910d[_0x13e3c2(0x271)]||_0x18910d[_0x13e3c2(0x271)][_0x13e3c2(0xbe0)]===0x0)throw new Error(_0x13e3c2(0x22a));const _0x59d6b2=_0x18910d[_0x13e3c2(0x271)][_0x13e3c2(0x928)]((_0x15e192,_0x2ff679)=>({..._0x15e192,'id':'q_'+Date['now']()+'_'+_0x2ff679})),_0x5f55b4={'projectId':_0x596169[_0x13e3c2(0x6fe)],'quizType':_0x596169[_0x13e3c2(0xa28)],'settings':_0x596169[_0x13e3c2(0x793)],'createdBy':_0x596169[_0x13e3c2(0x54b)],'status':'active','topic':_0x13e3c2(0x287)+_0x596169[_0x13e3c2(0x3e7)],'questions':_0x59d6b2,'createdAt':new Date()[_0x13e3c2(0x2a4)](),'quizMode':'standard','pairedQuizId':null};let _0x104791;while(!![]){_0x104791=Math[_0x13e3c2(0xd2a)](0x3e8+Math['random']()*0x2328)[_0x13e3c2(0x2f2)]();const _0x6b9b5e=await getDoc(doc(db,_0x13e3c2(0x4e9)+appId+_0x13e3c2(0x2fe),_0x104791));if(!_0x6b9b5e['exists']())break;}await setDoc(doc(db,'artifacts/'+appId+_0x13e3c2(0x2fe),_0x104791),_0x5f55b4),showMessage('สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!');}catch(_0x2ee59e){console[_0x13e3c2(0x3f6)](_0x13e3c2(0x80b),_0x2ee59e),showMessage(_0x13e3c2(0x50b)+_0x2ee59e[_0x13e3c2(0xb40)]);}finally{const _0x8bf20b=document[_0x13e3c2(0x967)](_0x13e3c2(0x894));_0x8bf20b&&_0x8bf20b[_0x13e3c2(0x7d5)](),_0x1f33f4['classList'][_0x13e3c2(0x7d5)](_0x13e3c2(0x75c));}}async function generatePracticeQuestions(_0x41475a){const _0x281595=_0x4c4cf8,_0x22b809=_0x281595(0xd5e)+_0x41475a+_0x281595(0xad8)+simpleMathPrompt+_0x281595(0x39f),_0x471578={'type':_0x281595(0x8b8),'properties':{'questionText':{'type':_0x281595(0x3db)},'options':{'type':'ARRAY','items':{'type':_0x281595(0x3db)}},'correctAnswerIndex':{'type':_0x281595(0xbad)},'explanation':{'type':_0x281595(0x3db)}},'required':[_0x281595(0xa42),'options','correctAnswerIndex',_0x281595(0x8aa)]},_0x57cab3={'type':_0x281595(0x8b8),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x471578}},'required':[_0x281595(0x3e7),'questions']};return await callAnalysisApi(_0x22b809,_0x57cab3);}function displayLessonPlan(_0x8bca71,_0x3634a9){const _0x29d300=_0x4c4cf8,_0x1d5feb=_0x29d300(0x645)+_0x3634a9[_0x29d300(0x3e7)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x8bca71[_0x29d300(0xd64)][_0x29d300(0x928)](_0x41a216=>_0x29d300(0x883)+_0x41a216+_0x29d300(0xcff))[_0x29d300(0xbe3)]('')+_0x29d300(0x4be)+_0x8bca71[_0x29d300(0x553)]+_0x29d300(0x28c)+_0x8bca71[_0x29d300(0x480)][_0x29d300(0x928)](_0x396227=>_0x29d300(0xcc2)+_0x396227[_0x29d300(0x966)]+_0x29d300(0xbee)+_0x396227[_0x29d300(0x352)]+_0x29d300(0x8b5))[_0x29d300(0xbe3)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';document['getElementById'](_0x29d300(0x2ca))[_0x29d300(0xb9a)]=_0x29d300(0x9f3)+_0x3634a9[_0x29d300(0x3e7)],document[_0x29d300(0x967)](_0x29d300(0xa39))[_0x29d300(0x66e)]=_0x1d5feb,document[_0x29d300(0x967)]('lesson-plan-modal')[_0x29d300(0x67b)][_0x29d300(0x7d5)]('hidden');if(window[_0x29d300(0x7a4)])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x5a1bbe){const _0x185f56=_0x4c4cf8;let _0x3c936b=0x0;const _0x3eca81=_0x5a1bbe[_0x185f56(0x271)],_0x2d487c=()=>{const _0x414ff6=_0x185f56,_0x5c1122=_0x3eca81[_0x3c936b],_0x5483b0=_0x414ff6(0x87e)+(_0x3c936b+0x1)+_0x414ff6(0xb12)+_0x3eca81['length']+_0x414ff6(0xc0b)+_0x5c1122[_0x414ff6(0xa42)]+_0x414ff6(0xb19)+_0x5c1122[_0x414ff6(0x2e6)][_0x414ff6(0x928)]((_0x1d0c2d,_0x2ac591)=>_0x414ff6(0x994)+_0x2ac591+'\x22\x20name=\x22drill_answer\x22\x20value=\x22'+_0x2ac591+_0x414ff6(0x99b)+_0x2ac591+'\x22>'+_0x1d0c2d+_0x414ff6(0xbef))['join']('')+_0x414ff6(0xcdf);studentQuizArea[_0x414ff6(0x66e)]=_0x5483b0;if(window[_0x414ff6(0x7a4)])MathJax[_0x414ff6(0x634)]([studentQuizArea]);document[_0x414ff6(0x967)](_0x414ff6(0x8fb))[_0x414ff6(0x28f)]('click',async()=>{const _0x6cd0fb=_0x414ff6,_0x22f34a=await getHintForQuestion(_0x5c1122[_0x6cd0fb(0xa42)]);showMessage(_0x22f34a);}),document[_0x414ff6(0x967)](_0x414ff6(0x421))[_0x414ff6(0x28f)](_0x414ff6(0x526),()=>{const _0x50cac8=_0x414ff6,_0x2b3f8f=document['querySelector'](_0x50cac8(0xd2d));if(!_0x2b3f8f){showMessage(_0x50cac8(0x2d8));return;}const _0x245339=document[_0x50cac8(0x967)]('drill-feedback'),_0x50ad95=parseInt(_0x2b3f8f[_0x50cac8(0x734)])===_0x5c1122[_0x50cac8(0x4e7)];_0x50ad95?(_0x245339['className']=_0x50cac8(0x90a),_0x245339[_0x50cac8(0x66e)]=_0x50cac8(0xc26)+_0x5c1122[_0x50cac8(0x8aa)]):(_0x245339[_0x50cac8(0xd0a)]=_0x50cac8(0x3b8),_0x245339[_0x50cac8(0x66e)]=_0x50cac8(0xa84)+_0x5c1122[_0x50cac8(0x8aa)]);_0x245339['classList'][_0x50cac8(0x7d5)](_0x50cac8(0x75c));if(window[_0x50cac8(0x7a4)])MathJax[_0x50cac8(0x634)]([_0x245339]);document[_0x50cac8(0x967)](_0x50cac8(0x421))[_0x50cac8(0x67b)]['add'](_0x50cac8(0x75c)),document[_0x50cac8(0x967)]('hint-btn')[_0x50cac8(0x67b)][_0x50cac8(0x602)](_0x50cac8(0x75c)),document[_0x50cac8(0x967)](_0x50cac8(0x7d0))[_0x50cac8(0x67b)]['remove'](_0x50cac8(0x75c));}),document['getElementById'](_0x414ff6(0x7d0))[_0x414ff6(0x28f)]('click',()=>{const _0x421de3=_0x414ff6;_0x3c936b++,_0x3c936b<_0x3eca81[_0x421de3(0xbe0)]?_0x2d487c():(studentQuizArea['innerHTML']=_0x421de3(0x950),document[_0x421de3(0x967)]('back-to-results-btn')[_0x421de3(0x28f)](_0x421de3(0x526),()=>{const _0x47a5c3=_0x421de3;studentQuizArea[_0x47a5c3(0x67b)][_0x47a5c3(0x602)]('hidden'),studentResultArea[_0x47a5c3(0x67b)][_0x47a5c3(0x7d5)](_0x47a5c3(0x75c));}));});};_0x2d487c();}async function getHintForQuestion(_0x16d2e4){const _0x71346e=_0x4c4cf8,_0x1b32ff=_0x71346e(0x4ee)+_0x16d2e4+'\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด',_0x4242aa={'type':_0x71346e(0x8b8),'properties':{'hint':{'type':_0x71346e(0x3db)}},'required':[_0x71346e(0x431)]};try{const _0x570dda=await callAnalysisApi(_0x1b32ff,_0x4242aa);return _0x570dda[_0x71346e(0x431)];}catch(_0x221008){return console[_0x71346e(0x3f6)](_0x71346e(0xaa2),_0x221008),_0x71346e(0x4eb);}}async function extractTextFromPdf(_0x22199c){const _0x4692a2=_0x4c4cf8;pdfjsLib['GlobalWorkerOptions'][_0x4692a2(0xb9f)]=_0x4692a2(0x3ab);const _0x5565b6=await _0x22199c[_0x4692a2(0xb31)](),_0x109c19=await pdfjsLib['getDocument'](_0x5565b6)[_0x4692a2(0xcb7)],_0x3481f4=_0x109c19[_0x4692a2(0x8ba)];let _0x31e01d='';for(let _0x392401=0x1;_0x392401<=_0x3481f4;_0x392401++){const _0x574c4e=await _0x109c19[_0x4692a2(0x700)](_0x392401),_0x1cfbde=await _0x574c4e[_0x4692a2(0x3a7)](),_0x513e4f=_0x1cfbde[_0x4692a2(0xa76)]['map'](_0x10ab0a=>_0x10ab0a['str'])['join']('\x20');_0x31e01d+=_0x513e4f+'\x0a\x0a';}return _0x31e01d;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x39ee5b){const _0x5c2d0c=_0x4c4cf8,_0x5384eb=document[_0x5c2d0c(0x967)](_0x5c2d0c(0xb86)),_0x1f9bb8=document[_0x5c2d0c(0x967)]('blueprint-topics-list'),_0x1d4b1b=document[_0x5c2d0c(0x967)](_0x5c2d0c(0xd16));_0x5384eb['classList'][_0x5c2d0c(0x7d5)](_0x5c2d0c(0x75c)),_0x1f9bb8[_0x5c2d0c(0x66e)]=_0x5c2d0c(0x876),_0x1d4b1b[_0x5c2d0c(0x67b)][_0x5c2d0c(0x602)](_0x5c2d0c(0x75c));try{const _0x20f92c='วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22'+_0x39ee5b+_0x5c2d0c(0x420),_0x4473d4={'type':_0x5c2d0c(0x8b8),'properties':{'gradeLevel':{'type':_0x5c2d0c(0x3db)},'curriculum':{'type':_0x5c2d0c(0x34a),'items':{'type':_0x5c2d0c(0x8b8),'properties':{'sara':{'type':_0x5c2d0c(0x3db)},'mainTopics':{'type':_0x5c2d0c(0x34a),'items':{'type':_0x5c2d0c(0x8b8),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':_0x5c2d0c(0x34a),'items':{'type':_0x5c2d0c(0x3db)}}},'required':[_0x5c2d0c(0x89e),_0x5c2d0c(0x4a5)]}}},'required':['sara',_0x5c2d0c(0x239)]}}},'required':[_0x5c2d0c(0x315),'curriculum']},_0x448d36=await callAnalysisApi(_0x20f92c,_0x4473d4);if(_0x448d36&&_0x448d36['curriculum'])extractedBlueprintData=_0x448d36,renderBlueprintTopics(_0x448d36),_0x1d4b1b['classList']['remove']('hidden');else throw new Error(_0x5c2d0c(0x5a1));}catch(_0xc31577){console['error']('Error\x20analyzing\x20blueprint\x20topics:',_0xc31577),_0x1f9bb8[_0x5c2d0c(0x66e)]=_0x5c2d0c(0x735);}}function renderBlueprintTopics(_0x32ba0a){const _0x226ba2=_0x4c4cf8,_0x5d6131=document[_0x226ba2(0x967)]('blueprint-topics-list'),_0x5807e9=_0x32ba0a[_0x226ba2(0x315)],_0x16df8c=_0x226ba2(0xb5d)+_0x5807e9+_0x226ba2(0xa14);let _0x22be99='';_0x32ba0a[_0x226ba2(0xba5)][_0x226ba2(0xa3f)](_0x2a45b9=>{const _0x252364=_0x226ba2;_0x22be99+=_0x252364(0x911)+_0x2a45b9[_0x252364(0x756)]+_0x252364(0x971),_0x2a45b9[_0x252364(0x239)][_0x252364(0xa3f)](_0x51a6dd=>{const _0x4c0180=_0x252364;_0x22be99+=_0x4c0180(0x5ba)+_0x51a6dd[_0x4c0180(0x89e)]+_0x4c0180(0x932),_0x51a6dd[_0x4c0180(0x4a5)][_0x4c0180(0xa3f)](_0x2b965d=>{const _0x4971ad=_0x4c0180;_0x22be99+=_0x4971ad(0x2a2)+_0x2b965d[_0x4971ad(0x528)](/'/g,'\x5c\x27')+'\x27,\x20\x27'+_0x5807e9['replace'](/'/g,'\x5c\x27')+_0x4971ad(0x79d)+_0x2b965d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27'+_0x2b965d[_0x4971ad(0x528)](/'/g,'\x5c\x27')+'\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a';}),_0x22be99+=_0x4c0180(0xcc8);}),_0x22be99+=_0x252364(0x83b);}),_0x5d6131[_0x226ba2(0x66e)]=_0x16df8c+_0x22be99;}async function handleGenerateTeachingContent(_0x3a58ef){const _0x22713c=_0x4c4cf8,_0x3de80b=document['getElementById'](_0x22713c(0x28a)),_0x256e44=document[_0x22713c(0x967)](_0x22713c(0xa39));document[_0x22713c(0x967)](_0x22713c(0x2ca))[_0x22713c(0xb9a)]=_0x22713c(0xcc3)+_0x3a58ef,_0x256e44[_0x22713c(0x66e)]=_0x22713c(0xb4c),_0x3de80b['classList']['remove'](_0x22713c(0x75c));try{const _0x199c03=_0x22713c(0x3aa)+_0x3a58ef+_0x22713c(0xcad),_0x276d0b={'type':'OBJECT','properties':{'keyConcepts':{'type':'ARRAY','items':{'type':'STRING'}},'commonMistakes':{'type':_0x22713c(0x34a),'items':{'type':_0x22713c(0x3db)}},'stepByStepExamples':{'type':_0x22713c(0x34a),'items':{'type':'OBJECT','properties':{'question':{'type':'STRING'},'solution':{'type':'STRING'}},'required':[_0x22713c(0x966),_0x22713c(0x352)]}},'teacherTips':{'type':'ARRAY','items':{'type':_0x22713c(0x3db)}}},'required':[_0x22713c(0x959),_0x22713c(0xd5d),_0x22713c(0x828),_0x22713c(0x775)]},_0x5bf06d=await callAnalysisApi(_0x199c03,_0x276d0b);displayTeachingContent(_0x5bf06d,_0x3a58ef);}catch(_0x280d81){console[_0x22713c(0x3f6)](_0x22713c(0x286),_0x280d81),_0x256e44[_0x22713c(0x66e)]=_0x22713c(0xa3b)+_0x280d81[_0x22713c(0xb40)]+_0x22713c(0x2b7);}}function displayTeachingContent(_0x25ee44,_0x3f73b0){const _0x55cd81=_0x4c4cf8,_0x2de129=document[_0x55cd81(0x967)](_0x55cd81(0xa39));document[_0x55cd81(0x967)](_0x55cd81(0x2ca))[_0x55cd81(0xb9a)]=_0x55cd81(0x7e1)+_0x3f73b0;const _0x57a116=_0x55cd81(0xac4)+_0x25ee44['keyConcepts'][_0x55cd81(0x928)](_0x1b09d1=>_0x55cd81(0x883)+_0x1b09d1+_0x55cd81(0xcff))[_0x55cd81(0xbe3)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>'+_0x25ee44[_0x55cd81(0xd5d)][_0x55cd81(0x928)](_0x519b43=>'<li>'+_0x519b43+_0x55cd81(0xcff))[_0x55cd81(0xbe3)]('')+_0x55cd81(0xa78)+_0x25ee44[_0x55cd81(0x828)][_0x55cd81(0x928)](_0x205112=>_0x55cd81(0x567)+_0x205112[_0x55cd81(0x966)]+_0x55cd81(0x47c)+_0x205112[_0x55cd81(0x352)]+_0x55cd81(0x90f))[_0x55cd81(0xbe3)]('')+_0x55cd81(0x432)+_0x25ee44[_0x55cd81(0x775)]['map'](_0x139b35=>'<li>'+_0x139b35+_0x55cd81(0xcff))[_0x55cd81(0xbe3)]('')+_0x55cd81(0xbaa);_0x2de129[_0x55cd81(0x66e)]=_0x57a116;if(window[_0x55cd81(0x7a4)])MathJax[_0x55cd81(0x634)]([_0x2de129]);}async function generateQuizForSingleTopic(_0x4b0ee7){const _0x13743b=_0x4c4cf8;console[_0x13743b(0xdea)]('กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22'+_0x4b0ee7+'\x22');const _0x20c09c=document[_0x13743b(0x967)]('reference-pdf-upload'),_0x43e0e0=_0x20c09c[_0x13743b(0x9a8)][_0x13743b(0xbe0)]>0x0?_0x20c09c[_0x13743b(0x9a8)][0x0]:null;let _0xb5d63=null;if(_0x43e0e0)try{const _0xffc486=new FileReader();_0xffc486[_0x13743b(0x8c1)](_0x43e0e0);const _0x544d5c=await new Promise((_0x108558,_0x935597)=>{const _0x524c65=_0x13743b;_0xffc486[_0x524c65(0x2cc)]=()=>_0x108558(_0xffc486[_0x524c65(0x6f1)]['split'](',')[0x1]),_0xffc486[_0x524c65(0x463)]=_0x555c29=>_0x935597(_0x555c29);});_0xb5d63=[{'inlineData':{'mimeType':_0x43e0e0[_0x13743b(0xd44)],'data':_0x544d5c}}];}catch(_0x4a1c0b){console[_0x13743b(0x3f6)](_0x13743b(0x295),_0x4a1c0b),showMessage(_0x13743b(0x9c2));return;}generateQuiz(_0x4b0ee7,null,null,_0xb5d63,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x419367=null){const _0x32f7fd=_0x4c4cf8,_0x4d8d7c=document[_0x32f7fd(0x967)](_0x32f7fd(0xb23)),_0x39e70f=document[_0x32f7fd(0x967)](_0x32f7fd(0xaf1));let _0x8d7fc6,_0x39979f=[];if(_0x419367)_0x8d7fc6=_0x419367,_0x39979f=_0x8d7fc6[_0x32f7fd(0x732)](0x2);else{const _0x38ac16=document[_0x32f7fd(0x967)]('blueprint-upload-input'),_0x51eae3=document[_0x32f7fd(0x967)](_0x32f7fd(0x605)),_0x21d1e3=_0x38ac16[_0x32f7fd(0x9a8)][0x0];if(!_0x21d1e3){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}_0x39e70f[_0x32f7fd(0xb9a)]=_0x32f7fd(0xb68);const _0x28f9b2=await new Promise((_0x24b682,_0x18edbe)=>{const _0x2b3f70=_0x32f7fd,_0x173ec9=new FileReader();_0x173ec9['readAsDataURL'](_0x21d1e3),_0x173ec9[_0x2b3f70(0x2cc)]=()=>_0x24b682(_0x173ec9[_0x2b3f70(0x6f1)][_0x2b3f70(0xb7c)](',')[0x1]),_0x173ec9[_0x2b3f70(0x463)]=_0x18edbe;});_0x8d7fc6=[{'text':_0x32f7fd(0x84a)},{'inlineData':{'mimeType':_0x21d1e3[_0x32f7fd(0xd44)],'data':_0x28f9b2}}];if(_0x51eae3['files'][_0x32f7fd(0xbe0)]>0x0){const _0x49aad6=_0x51eae3[_0x32f7fd(0x9a8)][0x0];_0x39e70f[_0x32f7fd(0xb9a)]='กำลังเตรียมไฟล์อ้างอิง...';const _0x4af124=await new Promise((_0xb0414a,_0x2be8f6)=>{const _0x22066f=_0x32f7fd,_0x12eb81=new FileReader();_0x12eb81['readAsDataURL'](_0x49aad6),_0x12eb81[_0x22066f(0x2cc)]=()=>_0xb0414a(_0x12eb81[_0x22066f(0x6f1)][_0x22066f(0xb7c)](',')[0x1]),_0x12eb81[_0x22066f(0x463)]=_0x2be8f6;}),_0x52643a={'inlineData':{'mimeType':_0x49aad6[_0x32f7fd(0xd44)],'data':_0x4af124}};_0x8d7fc6[_0x32f7fd(0xb0e)](_0x52643a),_0x39979f['push'](_0x52643a);}}const _0x104d61=_0x32f7fd(0x2b2),_0xc65e12=_0x32f7fd(0x88a);let _0x171005='';_0x39979f&&_0x39979f['length']>0x0?_0x171005=_0x104d61:_0x171005=_0xc65e12;const _0x51f648='\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a'+_0x171005+'\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20(ส่วนนี้เพิ่มเข้ามาเพื่อความชัดเจน\x20แม้จะอยู่ใน\x20qualityDirective\x20แล้ว)\x0a*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a',_0x132010={'type':'OBJECT','properties':{'questionText':{'type':_0x32f7fd(0x3db)},'questionType':{'type':_0x32f7fd(0x3db),'enum':['multiple_choice',_0x32f7fd(0xa9d),_0x32f7fd(0x34e),_0x32f7fd(0xa02)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x32f7fd(0xbad)},'idealAnswer':{'type':_0x32f7fd(0x3db)},'correctAnswer':{'type':_0x32f7fd(0x55a)},'explanation':{'type':_0x32f7fd(0x3db)},'imageCode':{'type':_0x32f7fd(0x3db)}},'required':[_0x32f7fd(0x252),_0x32f7fd(0x8aa)]},_0x442458={'type':_0x32f7fd(0x8b8),'properties':{'topic':{'type':_0x32f7fd(0x3db)},'questions':{'type':'ARRAY','items':_0x132010}},'required':[_0x32f7fd(0x3e7),_0x32f7fd(0x271)]};_0x8d7fc6[0x0][_0x32f7fd(0x5cd)]=_0x51f648,await handleApiCall(_0x8d7fc6,'AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...',_0x442458);}function proceedToNextQuestion(_0x3b7875){const _0x3cb698=_0x4c4cf8;studentAnswersPerQuestion[_0x3cb698(0xb0e)](_0x3b7875),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions']['length']?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x5e4213,_0x3a40c9,_0x57620b){const _0x2fde33=_0x4c4cf8,_0x542365=Object[_0x2fde33(0x8c3)](_0x5e4213['players']||{}),_0xdf80db=_0x542365[_0x2fde33(0xbe0)],_0x19ed42=[..._0x542365][_0x2fde33(0x8a7)]((_0xad58d8,_0x1af3ac)=>_0x1af3ac[_0x2fde33(0x53c)]-_0xad58d8['score']),_0x9bd112=_0x57620b,_0x53b254=_0x5e4213['gameVariant']||'classic',_0x413c22=!_0x3a40c9&&_0x53b254===_0x2fde33(0x9dc)&&_0x5e4213[_0x2fde33(0x94f)]===![];let _0x46b70d='';const _0x552452=_0x5e4213['shuffledQuiz'][_0x2fde33(0x271)],_0x54762e=_0x552452[_0x9bd112],_0x11cc5d=_0x5733b4=>String['fromCharCode'](0x41+_0x5733b4);let _0x2e408a='',_0x2bc249='';if(_0x54762e){const _0x4861d0=_0x54762e[_0x2fde33(0x252)]||_0x5e4213[_0x2fde33(0xc8d)]['quizType'];if(_0x4861d0===_0x2fde33(0x474)&&_0x54762e[_0x2fde33(0x2e6)]&&_0x54762e['correctAnswerIndex']!==undefined){const _0x20fdae=_0x54762e['correctAnswerIndex'];_0x2e408a=_0x54762e['options'][_0x20fdae],_0x2bc249=_0x11cc5d(_0x20fdae)+'.';}else{if(_0x4861d0===_0x2fde33(0x34e)){const _0x39bb4d=_0x54762e[_0x2fde33(0x60b)]===!![]||String(_0x54762e[_0x2fde33(0x60b)])['toLowerCase']()==='true';_0x39bb4d?(_0x2e408a='ใช่\x20/\x20ถูก',_0x2bc249='ก.'):(_0x2e408a='ไม่ใช่\x20/\x20ผิด',_0x2bc249='ข.');}else{if(_0x4861d0===_0x2fde33(0xa02))_0x2e408a=_0x54762e[_0x2fde33(0x99f)]||'-',_0x2bc249='';else _0x4861d0===_0x2fde33(0xa9d)&&(_0x2e408a=_0x54762e[_0x2fde33(0x586)]||'-',_0x2bc249='');}}}_0x2e408a&&(_0x46b70d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20'+(_0x9bd112+0x1)+_0x2fde33(0x7a2)+_0x2bc249+'\x20'+_0x2e408a+_0x2fde33(0x70c));const _0x1ab53e=_0x19ed42['map'](_0x3752d9=>{const _0x57d8e9=_0x2fde33,_0x21b3e6=(_0x3752d9[_0x57d8e9(0x646)]||[])[_0x57d8e9(0x3d0)](_0x15e430=>_0x15e430['questionIndex']<=_0x9bd112),_0x79cfc7=_0x21b3e6[_0x57d8e9(0x3d0)](_0x46bcfb=>_0x46bcfb[_0x57d8e9(0x4d1)])[_0x57d8e9(0xbe0)];let _0x32ee6f=![];const _0x102bb2=(_0x3752d9[_0x57d8e9(0x646)]||[])[_0x57d8e9(0x4c4)](_0x5248a1=>_0x5248a1[_0x57d8e9(0x884)]===_0x9bd112);_0x102bb2&&_0x102bb2[_0x57d8e9(0x4d1)]&&(_0x32ee6f=!![]);const _0x6a690f=_0x32ee6f?_0x57d8e9(0x2ba):_0x57d8e9(0x2bf),_0x3cebe0=_0x413c22?_0x5e4213[_0x57d8e9(0xb5b)][_0x3752d9['name']]||_0x57d8e9(0x38e):_0x3752d9['name'];return _0x57d8e9(0x40e)+_0x6a690f+_0x57d8e9(0xdc4)+_0x3cebe0+_0x57d8e9(0x8b4)+_0x79cfc7+_0x57d8e9(0x8d3);})['join'](''),_0x568b01=_0x552452[_0x2fde33(0x928)]((_0x189d33,_0x1beb3c)=>{const _0x49f63c=_0x2fde33;if(_0x1beb3c>_0x9bd112)return'';const _0x5dddc6=_0x542365[_0x49f63c(0x3d0)](_0x391e3f=>_0x391e3f[_0x49f63c(0x646)]&&_0x391e3f[_0x49f63c(0x646)][_0x49f63c(0x4c4)](_0x44429f=>_0x44429f[_0x49f63c(0x884)]===_0x1beb3c&&_0x44429f[_0x49f63c(0x4d1)]))[_0x49f63c(0xbe0)],_0x30b799=_0x1beb3c===_0x9bd112,_0x5b2027=_0x30b799?_0x49f63c(0x45f):'p-2\x20bg-black/10\x20rounded-md';return _0x49f63c(0x1f9)+_0x5b2027+_0x49f63c(0x278)+(_0x1beb3c+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0x5dddc6+_0x49f63c(0xb12)+_0xdf80db+'\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x2fde33(0xbe3)]('');let _0x1aa23a='',_0x30d7bf='';if(_0x3a40c9){const _0x430906=_0x53b254==='classic'&&_0x5e4213['currentQuestionIndex']>=_0x552452[_0x2fde33(0xbe0)]-0x1,_0x48e3a8=_0x53b254===_0x2fde33(0xac3)&&_0x5e4213[_0x2fde33(0x3f4)]>=_0x552452[_0x2fde33(0xbe0)]-0x1,_0x20260a=_0x53b254===_0x2fde33(0x9dc)&&_0x5e4213['reviewQuestionIndex']>=_0x552452[_0x2fde33(0xbe0)]-0x1;_0x430906||_0x48e3a8||_0x20260a?_0x53b254==='anonymous'&&_0x5e4213[_0x2fde33(0x94f)]===![]?_0x1aa23a=_0x2fde33(0x724):_0x1aa23a=_0x2fde33(0x680):_0x1aa23a=_0x2fde33(0x750),_0x30d7bf='<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>';}const _0x55aed5=_0x2fde33(0x871)+_0x5e4213[_0x2fde33(0xc8d)][_0x2fde33(0x3e7)]+_0x2fde33(0x974)+_0x30d7bf+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x46b70d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+(_0x1ab53e||'<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>')+_0x2fde33(0xceb)+_0x568b01+_0x2fde33(0xcf5)+(_0x3a40c9?'<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>'+_0x1aa23a+_0x2fde33(0x83b):'')+_0x2fde33(0x622);liveGameView[_0x2fde33(0x66e)]=_0x55aed5;if(window[_0x2fde33(0x7a4)]){const _0x5a9740=document[_0x2fde33(0x967)](_0x2fde33(0xab5));_0x5a9740&&MathJax[_0x2fde33(0x634)]([_0x5a9740]);}if(_0x3a40c9){document[_0x2fde33(0x967)]('next-sync-question-btn')[_0x2fde33(0x508)]=async()=>{const _0x110ade=_0x2fde33,_0x48d346=doc(db,_0x110ade(0x4e9)+appId+_0x110ade(0xa4d),currentLiveGameId),_0x16645c=_0x53b254===_0x110ade(0x558)&&_0x5e4213[_0x110ade(0xdc3)]>=_0x552452[_0x110ade(0xbe0)]-0x1,_0x525355=_0x53b254==='reveal_at_end'&&_0x5e4213[_0x110ade(0x3f4)]>=_0x552452[_0x110ade(0xbe0)]-0x1,_0x1996f7=_0x53b254===_0x110ade(0x9dc)&&_0x5e4213['reviewQuestionIndex']>=_0x552452[_0x110ade(0xbe0)]-0x1;if(_0x53b254===_0x110ade(0x558)){if(!_0x16645c){const _0x41f5b1=_0x5e4213[_0x110ade(0xdc3)]+0x1,_0x121d65={};Object['keys'](_0x5e4213[_0x110ade(0x3c8)])['forEach'](_0x25614c=>{const _0x529a3a=_0x110ade;_0x121d65[_0x529a3a(0xc21)+_0x25614c+_0x529a3a(0x39a)]=![],_0x121d65[_0x529a3a(0xc21)+_0x25614c+'.lastAnswerIndex']=null;}),await updateDoc(_0x48d346,{..._0x121d65,'status':_0x110ade(0x966),'currentQuestionIndex':_0x41f5b1,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x48d346,{'status':_0x110ade(0xbfa)});}else!_0x525355&&!_0x1996f7?await updateDoc(_0x48d346,{'reviewQuestionIndex':increment(0x1)}):await updateDoc(_0x48d346,{'status':'podium'});},document[_0x2fde33(0x967)](_0x2fde33(0x47f))?.[_0x2fde33(0x28f)](_0x2fde33(0x526),async()=>{const _0x5f2dbd=_0x2fde33,_0x394792=doc(db,_0x5f2dbd(0x4e9)+appId+_0x5f2dbd(0xa4d),currentLiveGameId);await updateDoc(_0x394792,{'isAnonymousRevealed':!![]});});const _0x5c2901=document['getElementById'](_0x2fde33(0xb08));_0x5c2901&&(_0x5c2901['onclick']=()=>{const _0x5b726d=_0x2fde33;showConfirmation(_0x5b726d(0x55b),async()=>{const _0x27ab90=_0x5b726d,_0x3cf606=doc(db,_0x27ab90(0x4e9)+appId+_0x27ab90(0xa4d),currentLiveGameId);await updateDoc(_0x3cf606,{'status':_0x27ab90(0xbfa)});});});}}async function handleGenerateParallelFromBank(_0x45b7d1){const _0x3ca801=_0x4c4cf8,_0x4e0d4f=document[_0x3ca801(0x967)]('results-tab-content'),_0x36f260=document[_0x3ca801(0x967)](_0x3ca801(0x52a));_0x36f260[_0x3ca801(0x67b)][_0x3ca801(0x602)](_0x3ca801(0x75c));const _0x5d86f3=_0x3ca801(0x857)+_0x45b7d1[_0x3ca801(0x3e7)]+_0x3ca801(0x33a);_0x4e0d4f[_0x3ca801(0x98b)](_0x3ca801(0x906),_0x5d86f3);const _0x561c37=document['getElementById']('temp-loader-text-results');try{const _0xa4ee57=_0x45b7d1[_0x3ca801(0x271)][_0x3ca801(0x928)]((_0x5eeb82,_0x216fc7)=>{const _0x37dca9=_0x3ca801;let _0x353cae=_0x216fc7+0x1+'.\x20'+(_0x5eeb82['questionText']||_0x5eeb82[_0x37dca9(0xcc5)])+'\x0a';if(_0x5eeb82[_0x37dca9(0x2e6)])_0x353cae+=_0x5eeb82[_0x37dca9(0x2e6)][_0x37dca9(0x928)]((_0x441df5,_0x33862e)=>_0x37dca9(0x787)+(_0x33862e===_0x5eeb82[_0x37dca9(0x4e7)]?_0x37dca9(0x5fb):'')+'\x20'+_0x441df5)[_0x37dca9(0xbe3)]('\x0a');else _0x5eeb82[_0x37dca9(0x586)]&&(_0x353cae+=_0x37dca9(0x831)+_0x5eeb82[_0x37dca9(0x586)]);return _0x353cae;})['join']('\x0a\x0a');_0x561c37[_0x3ca801(0xb9a)]=_0x3ca801(0x535);const _0x1dcaa2=_0x3ca801(0x71d)+_0x45b7d1['topic']+_0x3ca801(0xb47)+_0xa4ee57+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x3ca801(0x5d4),_0x13db0c={'type':_0x3ca801(0x8b8),'properties':{'questionText':{'type':_0x3ca801(0x3db)},'questionType':{'type':'STRING','enum':[_0x3ca801(0x474),_0x3ca801(0xa9d),_0x3ca801(0x34e),_0x3ca801(0xa02)]},'options':{'type':_0x3ca801(0x34a),'items':{'type':_0x3ca801(0x3db)}},'correctAnswerIndex':{'type':_0x3ca801(0xbad)},'idealAnswer':{'type':_0x3ca801(0x3db)},'correctAnswer':{'type':_0x3ca801(0x55a)},'stem':{'type':_0x3ca801(0x3db)},'correctResponse':{'type':_0x3ca801(0x3db)},'allResponses':{'type':_0x3ca801(0x34a),'items':{'type':_0x3ca801(0x3db)}},'explanation':{'type':_0x3ca801(0x3db)},'imageCode':{'type':_0x3ca801(0x3db)}},'required':['questionType',_0x3ca801(0x8aa)]},_0x9052d1={'type':_0x3ca801(0x8b8),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x3ca801(0x34a),'items':_0x13db0c}},'required':[_0x3ca801(0x3e7),_0x3ca801(0x271)]},_0x59fd1b=await callAnalysisApi(_0x1dcaa2,_0x9052d1),_0x4fa5a4=_0x59fd1b[_0x3ca801(0x271)][_0x3ca801(0x928)]((_0x5c6134,_0x3448a3)=>({..._0x5c6134,'id':'q_'+Date[_0x3ca801(0xd7b)]()+'_'+_0x3448a3})),_0x56bac3='(คู่ขนาน)\x20'+_0x45b7d1['topic'],_0x5093f5={'topic':_0x56bac3,'questions':_0x4fa5a4,'quizType':_0x45b7d1[_0x3ca801(0xa28)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x3ca801(0xb29),'settings':_0x45b7d1[_0x3ca801(0x793)],'quizMode':'standard','pairedQuizId':null,'lessonPlan':null};let _0x171207;while(!![]){_0x171207=Math[_0x3ca801(0xd2a)](0x3e8+Math[_0x3ca801(0xb9d)]()*0x2328)[_0x3ca801(0x2f2)]();const _0x28e240=await getDoc(doc(db,_0x3ca801(0x4e9)+appId+_0x3ca801(0x2fe),_0x171207));if(!_0x28e240[_0x3ca801(0x78d)]())break;}await setDoc(doc(db,_0x3ca801(0x4e9)+appId+_0x3ca801(0x2fe),_0x171207),_0x5093f5),showMessage(_0x3ca801(0x9d1));}catch(_0x4762eb){console['error'](_0x3ca801(0x470),_0x4762eb),showMessage('เกิดข้อผิดพลาด:\x20'+_0x4762eb[_0x3ca801(0xb40)]);}finally{const _0x52a56b=document['getElementById'](_0x3ca801(0x894));_0x52a56b&&_0x52a56b['remove'](),_0x36f260[_0x3ca801(0x67b)][_0x3ca801(0x7d5)](_0x3ca801(0x75c));}}async function handleGenerateParallelPostTest(_0x4ed4e8){const _0x360e18=_0x4c4cf8,_0x2993bf=document[_0x360e18(0x967)](_0x360e18(0xd39)),_0x1ad56f=document[_0x360e18(0x967)](_0x360e18(0x52a));_0x1ad56f[_0x360e18(0x67b)]['add'](_0x360e18(0x75c));const _0x87d38a=_0x360e18(0xac5);_0x2993bf['insertAdjacentHTML'](_0x360e18(0x906),_0x87d38a);try{const _0x47c68a=_0x4ed4e8[_0x360e18(0x271)][_0x360e18(0x928)]((_0x3e76d5,_0x194638)=>{const _0x34adf6=_0x360e18;let _0x442c62=_0x194638+0x1+'.\x20'+(_0x3e76d5[_0x34adf6(0xa42)]||_0x3e76d5[_0x34adf6(0xcc5)]);if(_0x3e76d5['options'])_0x442c62+=_0x34adf6(0x8d4)+_0x3e76d5[_0x34adf6(0x2e6)][_0x34adf6(0xbe3)](',\x20');return _0x442c62;})[_0x360e18(0xbe3)]('\x0a\x0a'),_0x4f2b09='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22'+_0x4ed4e8['topic']+_0x360e18(0x7d4)+_0x47c68a+_0x360e18(0xbd3)+simpleMathPrompt+_0x360e18(0x5d4),_0x3cf2cf={'type':_0x360e18(0x8b8),'properties':{'topic':{'type':_0x360e18(0x3db)},'questions':{'type':_0x360e18(0x34a),'items':{'type':_0x360e18(0x8b8),'properties':{'questionText':{'type':_0x360e18(0x3db)},'questionType':{'type':_0x360e18(0x3db)},'options':{'type':_0x360e18(0x34a),'items':{'type':_0x360e18(0x3db)}},'correctAnswerIndex':{'type':_0x360e18(0xbad)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x360e18(0x3db)}},'required':[_0x360e18(0xa42),_0x360e18(0x8aa)]}}},'required':[_0x360e18(0x3e7),_0x360e18(0x271)]},_0x146971=await callAnalysisApi(_0x4f2b09,_0x3cf2cf),_0xa338bb=_0x4ed4e8['topic']['replace'](_0x360e18(0x5d5),'')[_0x360e18(0x46b)](),_0x4141b2=_0x360e18(0xd41)+_0xa338bb,_0x319850={..._0x146971,'topic':_0x4141b2,'quizType':_0x4ed4e8[_0x360e18(0xa28)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x360e18(0x2a4)](),'status':'active','settings':_0x4ed4e8[_0x360e18(0x793)],'quizMode':'post-test','pairedQuizId':_0x4ed4e8['id']};let _0xc98f19;while(!![]){_0xc98f19=Math[_0x360e18(0xd2a)](0x3e8+Math[_0x360e18(0xb9d)]()*0x2328)['toString']();const _0x6509ca=await getDoc(doc(db,'artifacts/'+appId+_0x360e18(0x2fe),_0xc98f19));if(!_0x6509ca[_0x360e18(0x78d)]())break;}await setDoc(doc(db,_0x360e18(0x4e9)+appId+_0x360e18(0x2fe),_0xc98f19),_0x319850);const _0x536176=doc(db,_0x360e18(0x4e9)+appId+_0x360e18(0x2fe),_0x4ed4e8['id']);await updateDoc(_0x536176,{'pairedQuizId':_0xc98f19}),showMessage(_0x360e18(0x4b9));}catch(_0x2a75db){console[_0x360e18(0x3f6)]('Error\x20generating\x20parallel\x20post-test:',_0x2a75db),showMessage('เกิดข้อผิดพลาด:\x20'+_0x2a75db[_0x360e18(0xb40)]);}finally{const _0x100c35=document[_0x360e18(0x967)](_0x360e18(0x894));if(_0x100c35)_0x100c35[_0x360e18(0x7d5)]();_0x1ad56f[_0x360e18(0x67b)][_0x360e18(0x7d5)](_0x360e18(0x75c));}}async function handleGenerateParallelTest(_0x489360=null){const _0x4c5d1c=_0x4c4cf8;let _0x287796=_0x489360;if(!_0x287796){const _0x5e6338=document['getElementById']('parallel-test-upload-input');_0x5e6338[_0x4c5d1c(0x9a8)][_0x4c5d1c(0xbe0)]>0x0&&(_0x287796=_0x5e6338['files'][0x0]);}if(!_0x287796){showMessage(_0x4c5d1c(0x9c4));return;}const _0x3c6e1c=document[_0x4c5d1c(0x967)](_0x4c5d1c(0xb23)),_0x225643=document[_0x4c5d1c(0x967)](_0x4c5d1c(0xaf1)),_0x48d587=document[_0x4c5d1c(0x967)](_0x4c5d1c(0x28d)),_0x567668=document[_0x4c5d1c(0x967)]('generate-from-parallel-test-btn');_0x567668[_0x4c5d1c(0x367)]=!![],document[_0x4c5d1c(0x967)](_0x4c5d1c(0x59b))[_0x4c5d1c(0x67b)][_0x4c5d1c(0x7d5)]('hidden'),_0x48d587[_0x4c5d1c(0x66e)]='',_0x3c6e1c[_0x4c5d1c(0x67b)][_0x4c5d1c(0x7d5)](_0x4c5d1c(0x75c)),_0x225643[_0x4c5d1c(0xb9a)]=_0x4c5d1c(0x96c);const _0x30998f=new FileReader();_0x30998f[_0x4c5d1c(0x8c1)](_0x287796),_0x30998f[_0x4c5d1c(0x2cc)]=async()=>{const _0x1a0850=_0x4c5d1c;try{const _0x54f9f6=_0x30998f['result'][_0x1a0850(0xb7c)](',')[0x1],_0x302706=_0x287796[_0x1a0850(0xd44)];_0x225643[_0x1a0850(0xb9a)]='วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x4a3f02=document[_0x1a0850(0x967)]('include-images-checkbox')['checked'],_0xc8cb53=_0x4a3f02?_0x1a0850(0xa37):'',_0x24edaf=_0x1a0850(0xd29),_0x5e160f={'type':_0x1a0850(0x8b8),'properties':{'questionText':{'type':_0x1a0850(0x3db)},'questionType':{'type':_0x1a0850(0x3db),'enum':[_0x1a0850(0x474),_0x1a0850(0xa9d)]},'options':{'type':_0x1a0850(0x34a),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1a0850(0xbad)},'idealAnswer':{'type':_0x1a0850(0x3db)},'explanation':{'type':_0x1a0850(0x3db)},'imageCode':{'type':'STRING'}},'required':[_0x1a0850(0xa42),_0x1a0850(0x252),_0x1a0850(0x8aa)]},_0x27e4d3={'type':_0x1a0850(0x8b8),'properties':{'topic':{'type':_0x1a0850(0x3db)},'questions':{'type':'ARRAY','items':_0x5e160f}},'required':[_0x1a0850(0x3e7),'questions']},_0x2f234b=[{'text':_0x24edaf},{'inlineData':{'mimeType':_0x302706,'data':_0x54f9f6}}];await handleApiCall(_0x2f234b,_0x1a0850(0x465),_0x27e4d3);}catch(_0x1dc6de){console[_0x1a0850(0x3f6)](_0x1a0850(0x701),_0x1dc6de),showMessage(_0x1a0850(0x50b)+_0x1dc6de['message']),_0x48d587[_0x1a0850(0x66e)]=_0x1a0850(0x310);}finally{_0x3c6e1c[_0x1a0850(0x67b)]['add'](_0x1a0850(0x75c)),_0x567668['disabled']=![];}},_0x30998f[_0x4c5d1c(0x463)]=_0x3663c1=>{const _0x4f1a16=_0x4c5d1c;console[_0x4f1a16(0x3f6)]('FileReader\x20error:',_0x3663c1),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์'),_0x3c6e1c[_0x4f1a16(0x67b)][_0x4f1a16(0x602)](_0x4f1a16(0x75c)),_0x567668[_0x4f1a16(0x367)]=![];};}async function handleRegenerateQuestionInEditor(_0x433db5){const _0x16cc81=_0x4c4cf8;if(currentEditingQuizData===null)return;const _0x1eea81=document['querySelector']('.question-editor-item[data-q-index=\x22'+_0x433db5+'\x22]');_0x1eea81&&(_0x1eea81[_0x16cc81(0x66e)]=_0x16cc81(0x7be));const _0x38cfbf=currentEditingQuizData[_0x16cc81(0x271)][_0x433db5],_0x125179=currentEditingQuizData['topic'],_0x3cbafc=_0x38cfbf[_0x16cc81(0x252)],_0x7cd4cd={'type':_0x16cc81(0x8b8),'properties':{'questionText':{'type':_0x16cc81(0x3db)},'options':{'type':_0x16cc81(0x34a),'items':{'type':_0x16cc81(0x3db)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x16cc81(0x3db)}},'required':[_0x16cc81(0xa42),'options',_0x16cc81(0x4e7),_0x16cc81(0x8aa)]},_0x2a64aa={'type':_0x16cc81(0x8b8),'properties':{'questionText':{'type':_0x16cc81(0x3db)},'idealAnswer':{'type':_0x16cc81(0x3db)},'explanation':{'type':_0x16cc81(0x3db)}},'required':[_0x16cc81(0xa42),_0x16cc81(0x586),'explanation']};let _0xde02e0,_0xe6b024='';_0x3cbafc===_0x16cc81(0x474)?(_0xde02e0=_0x7cd4cd,_0xe6b024=_0x16cc81(0x22e)):(_0xde02e0=_0x2a64aa,_0xe6b024=_0x16cc81(0x3e6));const _0x175678=_0x16cc81(0x393)+_0x125179+'\x22\x20ให้เป็นคำถามประเภท\x20\x22'+_0xe6b024+'\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22'+(_0x38cfbf[_0x16cc81(0xa42)]||_0x38cfbf[_0x16cc81(0xcc5)])+'\x22.\x20'+simpleMathPrompt;try{const _0x4fa909=await callAnalysisApi(_0x175678,_0xde02e0);currentEditingQuizData[_0x16cc81(0x271)][_0x433db5]={..._0x38cfbf,..._0x4fa909},renderQuizEditor(currentEditingQuizData);}catch(_0x41e4d8){console[_0x16cc81(0x3f6)](_0x16cc81(0x1fb),_0x41e4d8),showMessage(_0x16cc81(0x819)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x285879=_0x4c4cf8,_0x52edcf=document[_0x285879(0x967)](_0x285879(0x33b));currentMode==='student'?(currentMode='admin',_0x52edcf[_0x285879(0x66e)]=_0x285879(0x8ee),_0x52edcf['title']='สลับไปโหมดนักเรียน',showView(_0x285879(0x604))):(currentMode=_0x285879(0xbfe),_0x52edcf['innerHTML']=_0x285879(0x955),_0x52edcf[_0x285879(0xcfb)]='สลับไปโหมดผู้ควบคุม',showView(_0x285879(0xbfe)));}function handleAdminLogin(){const _0x42f802=_0x4c4cf8,_0x20a254=document['getElementById'](_0x42f802(0x99c)),_0x33f5fc=document[_0x42f802(0x967)]('password-error-msg');if(_0x20a254[_0x42f802(0x734)]===_0x42f802(0x5c2)){adminPasswordModal['classList'][_0x42f802(0x602)](_0x42f802(0x75c)),_0x20a254[_0x42f802(0x734)]='',_0x33f5fc[_0x42f802(0x67b)]['add'](_0x42f802(0x75c)),currentMode=_0x42f802(0x694);const _0xc8e650=document[_0x42f802(0x967)](_0x42f802(0x33b));_0xc8e650[_0x42f802(0x66e)]=_0x42f802(0x8ee),_0xc8e650[_0x42f802(0xcfb)]=_0x42f802(0x50f),showView(_0x42f802(0x604));}else _0x33f5fc[_0x42f802(0x67b)]['remove'](_0x42f802(0x75c)),_0x20a254['value']='';}function switchProjectTab(_0xb10147){const _0x8ea6cc=_0x4c4cf8;['manage','results','leaderboard'][_0x8ea6cc(0xa3f)](_0x3eb551=>{const _0x2179d9=_0x8ea6cc;document['getElementById'](_0x3eb551+_0x2179d9(0xa18))['classList'][_0x2179d9(0x7d5)]('active'),document[_0x2179d9(0x967)](_0x3eb551+_0x2179d9(0x712))[_0x2179d9(0x67b)][_0x2179d9(0x602)]('hidden');}),document[_0x8ea6cc(0x967)](_0xb10147+_0x8ea6cc(0xa18))[_0x8ea6cc(0x67b)][_0x8ea6cc(0x602)](_0x8ea6cc(0xb29)),document[_0x8ea6cc(0x967)](_0xb10147+_0x8ea6cc(0x712))['classList']['remove'](_0x8ea6cc(0x75c));}function switchQuizDetailTab(_0x2d9730){const _0x7718ae=_0x4c4cf8,_0xfc884f={'analytics':{'btn':'analytics-tab-btn','content':_0x7718ae(0x9bf)},'scores':{'btn':_0x7718ae(0xd9c),'content':_0x7718ae(0x75f)},'leaderboard-quiz':{'btn':_0x7718ae(0x936),'content':_0x7718ae(0x873)},'behavior-log':{'btn':_0x7718ae(0x9aa),'content':'behavior-log-tab-content'}};for(const _0x2fddc6 in _0xfc884f){document[_0x7718ae(0x967)](_0xfc884f[_0x2fddc6][_0x7718ae(0x3eb)])['classList'][_0x7718ae(0x7d5)](_0x7718ae(0xb29)),document[_0x7718ae(0x967)](_0xfc884f[_0x2fddc6][_0x7718ae(0xbc8)])[_0x7718ae(0x67b)][_0x7718ae(0x602)](_0x7718ae(0x75c));}document[_0x7718ae(0x967)](_0xfc884f[_0x2d9730][_0x7718ae(0x3eb)])[_0x7718ae(0x67b)]['add'](_0x7718ae(0xb29)),document[_0x7718ae(0x967)](_0xfc884f[_0x2d9730][_0x7718ae(0xbc8)])[_0x7718ae(0x67b)][_0x7718ae(0x7d5)](_0x7718ae(0x75c));}function showMessage(_0x34612f,_0x443615=null){const _0xfb2420=_0x4c4cf8;modalMessage[_0xfb2420(0xb9a)]=_0x34612f,modalConfirmAction=_0x443615,messageModal[_0xfb2420(0x67b)][_0xfb2420(0x7d5)]('hidden');}function showConfirmation(_0x481c74,_0xc84885){const _0x44beac=_0x4c4cf8;document[_0x44beac(0x967)]('confirmation-message')[_0x44beac(0xb9a)]=_0x481c74,document[_0x44beac(0x967)](_0x44beac(0x443))[_0x44beac(0x5c7)]('h3')[_0x44beac(0xb9a)]=_0x44beac(0x6b5),confirmAction=_0xc84885,confirmationModal['classList'][_0x44beac(0x7d5)]('hidden');}function listenForProjects(){const _0x5d3d5f=_0x4c4cf8,_0x1b3b31=doc(db,_0x5d3d5f(0x430),_0x5d3d5f(0x23c));onSnapshot(_0x1b3b31,_0x1f3701=>{const _0x35586b=_0x5d3d5f;if(_0x1f3701[_0x35586b(0x78d)]()){const _0x1a65a8=_0x1f3701['data']();globalDashboardSettings[_0x35586b(0x595)]=_0x1a65a8[_0x35586b(0x595)]||_0x35586b(0xbd2),globalDashboardSettings[_0x35586b(0xb4d)]=_0x1a65a8[_0x35586b(0xb4d)]||[],globalDashboardSettings[_0x35586b(0x342)]=_0x1a65a8[_0x35586b(0x342)]||[];}allProjects['length']>0x0&&renderProjects();});const _0x224771=collection(db,'artifacts/'+appId+_0x5d3d5f(0x9f8));unsubscribeProjectsListener=onSnapshot(_0x224771,_0x29e22b=>{const _0x257999=_0x5d3d5f;allProjects=_0x29e22b['docs']['map'](_0x4c7b18=>({'id':_0x4c7b18['id'],..._0x4c7b18[_0x257999(0x6bc)]()})),renderProjects();},_0x479f14=>{const _0x4918a7=_0x5d3d5f;console[_0x4918a7(0x3f6)]('Error\x20listening\x20for\x20projects:',_0x479f14),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}function showColorPalette(_0x31ef28,_0x15ee34){const _0x135f13=_0x4c4cf8;document['querySelectorAll'](_0x135f13(0x8bf))[_0x135f13(0xa3f)](_0x43b0a9=>_0x43b0a9[_0x135f13(0x7d5)]());const _0x545f0c=[_0x135f13(0xb03),_0x135f13(0x26f),_0x135f13(0x214),'#D1FAE5',_0x135f13(0xdf2),_0x135f13(0xc72),_0x135f13(0x5bf),'#FCE7F3',_0x135f13(0x223)],_0x5548e1=document[_0x135f13(0x439)](_0x135f13(0x816));_0x5548e1[_0x135f13(0xd0a)]=_0x135f13(0x80e),_0x545f0c[_0x135f13(0xa3f)](_0x31fec3=>{const _0x16e186=_0x135f13,_0x553ccc=document['createElement'](_0x16e186(0x816));_0x553ccc[_0x16e186(0xd0a)]=_0x16e186(0x52f),_0x553ccc[_0x16e186(0xa49)]['backgroundColor']=_0x31fec3,_0x553ccc[_0x16e186(0x28f)](_0x16e186(0x526),()=>{handleProjectColorChange(_0x15ee34,_0x31fec3),_0x5548e1['remove']();}),_0x5548e1[_0x16e186(0xbf4)](_0x553ccc);}),document[_0x135f13(0x7c0)]['appendChild'](_0x5548e1);const _0x398af6=_0x31ef28[_0x135f13(0x545)]();_0x5548e1['style']['top']=_0x398af6[_0x135f13(0x26c)]+window[_0x135f13(0xaf3)]+'px',_0x5548e1[_0x135f13(0xa49)]['left']=_0x398af6['left']+window[_0x135f13(0xb20)]-_0x5548e1[_0x135f13(0x510)]/0x2+'px';}async function handleProjectColorChange(_0x7c7a2f,_0x121c7b){const _0x3c1e98=_0x4c4cf8,_0x5bd029=doc(db,'artifacts/'+appId+_0x3c1e98(0x9f8),_0x7c7a2f);try{await updateDoc(_0x5bd029,{'color':_0x121c7b});}catch(_0x1df704){console[_0x3c1e98(0x3f6)](_0x3c1e98(0x1f1),_0x1df704),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x42f43a=_0x4c4cf8,_0x54d829=globalDashboardSettings['projectSort']||_0x42f43a(0xbd2),_0x1197bd=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x15aa49=globalDashboardSettings['projectView']||_0x42f43a(0x39c),_0x53c087=document[_0x42f43a(0x967)](_0x42f43a(0x53e)),_0x36bee9=document['getElementById'](_0x42f43a(0xd02));_0x53c087['classList']['toggle'](_0x42f43a(0xb29),_0x15aa49===_0x42f43a(0x39c)),_0x36bee9[_0x42f43a(0x67b)][_0x42f43a(0x992)](_0x42f43a(0xb29),_0x15aa49==='list'),document[_0x42f43a(0x967)](_0x42f43a(0x790))[_0x42f43a(0x734)]=_0x54d829;const _0x33bd2d=document[_0x42f43a(0x967)]('project-search-input')[_0x42f43a(0x734)]['toLowerCase']();let _0x4c54b0=allProjects[_0x42f43a(0x3d0)](_0x2b2206=>_0x2b2206[_0x42f43a(0x453)][_0x42f43a(0x660)]()['includes'](_0x33bd2d));const _0x1a68a4=_0x4c54b0[_0x42f43a(0x3d0)](_0x4c2740=>_0x1197bd['has'](_0x4c2740['id'])),_0x1120bd=_0x4c54b0['filter'](_0x5a0f79=>!_0x1197bd[_0x42f43a(0x837)](_0x5a0f79['id'])),_0x1b6aaa=(_0x8c08bf,_0x2da662)=>{const _0x52c072=_0x42f43a;switch(_0x54d829){case _0x52c072(0x91f):return _0x8c08bf[_0x52c072(0x453)]['localeCompare'](_0x2da662[_0x52c072(0x453)],'th');case _0x52c072(0x841):return _0x2da662[_0x52c072(0x453)][_0x52c072(0xd8a)](_0x8c08bf[_0x52c072(0x453)],'th');case _0x52c072(0x60d):return new Date(_0x8c08bf[_0x52c072(0x6d3)])-new Date(_0x2da662[_0x52c072(0x6d3)]);default:return new Date(_0x2da662[_0x52c072(0x6d3)])-new Date(_0x8c08bf[_0x52c072(0x6d3)]);}};_0x1a68a4[_0x42f43a(0x8a7)](_0x1b6aaa),_0x1120bd[_0x42f43a(0x8a7)](_0x1b6aaa);const _0xde0ab6=[..._0x1a68a4,..._0x1120bd],_0x58a110=globalDashboardSettings[_0x42f43a(0x342)]||[];_0x58a110[_0x42f43a(0xbe0)]>0x0&&_0x15aa49==='grid'&&_0xde0ab6['sort']((_0x4f040b,_0x2b0fd4)=>{const _0x316e67=_0x42f43a,_0xf9780a=_0x58a110['indexOf'](_0x4f040b['id']),_0x2f8add=_0x58a110[_0x316e67(0xbf6)](_0x2b0fd4['id']);if(_0xf9780a===-0x1)return 0x1;if(_0x2f8add===-0x1)return-0x1;return _0xf9780a-_0x2f8add;});const _0x25411c={};await Promise[_0x42f43a(0xa9a)](_0xde0ab6['map'](async _0x160cc7=>{const _0x43ecc2=_0x42f43a,_0xd2958e=query(collection(db,_0x43ecc2(0x4e9)+appId+_0x43ecc2(0x2fe)),where('projectId','==',_0x160cc7['id'])),_0x313be0=await getDocs(_0xd2958e);_0x25411c[_0x160cc7['id']]=_0x313be0[_0x43ecc2(0x2e4)];}));const _0x49c7ed=document[_0x42f43a(0x967)](_0x42f43a(0x729));let _0xe4e5b9='';if(_0x15aa49===_0x42f43a(0x39c)){_0x49c7ed[_0x42f43a(0xd0a)]=_0x42f43a(0x6ba);if(starredQuizzes[_0x42f43a(0xbe0)]>0x0&&_0x33bd2d===''){const _0x27d147=starredQuizzes[_0x42f43a(0x928)](_0x6e1452=>{const _0x575d0e=_0x42f43a,_0x5b2957=allProjects[_0x575d0e(0x4c4)](_0x2ab567=>_0x2ab567['id']===_0x6e1452['projectId']);return{..._0x6e1452,'projectName':_0x5b2957?_0x5b2957['projectName']:'N/A'};});_0xe4e5b9+=_0x42f43a(0x4df)+_0x27d147['map'](_0x10d3e4=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0x10d3e4[_0x42f43a(0x3e7)]+'\x22>'+_0x10d3e4[_0x42f43a(0x3e7)]+_0x42f43a(0xa92)+_0x10d3e4[_0x42f43a(0x453)]+'\x22>จาก:\x20'+_0x10d3e4[_0x42f43a(0x453)]+_0x42f43a(0xad4))[_0x42f43a(0xbe3)]('')+_0x42f43a(0x2fa)+starredQuizzes[_0x42f43a(0xbe0)]+_0x42f43a(0x43c);}_0xde0ab6['forEach'](_0x481330=>{const _0x1f0bb3=_0x42f43a,_0x14d978=_0x25411c[_0x481330['id']]??0x0,_0x4be3ff=_0x1197bd['has'](_0x481330['id']),_0x7e23e5=_0x481330[_0x1f0bb3(0x511)]||'#FFFFFF',_0x238de1=parseInt(_0x7e23e5[_0x1f0bb3(0xba9)](0x1,0x3),0x10)*0.299+parseInt(_0x7e23e5[_0x1f0bb3(0xba9)](0x3,0x5),0x10)*0.587+parseInt(_0x7e23e5['substring'](0x5,0x7),0x10)*0.114<0xba,_0x5f445a=_0x238de1?_0x1f0bb3(0xd26):_0x1f0bb3(0xdd6),_0x156591=_0x238de1?'text-gray-200':_0x1f0bb3(0xd9d);_0xe4e5b9+=_0x1f0bb3(0x285)+(_0x4be3ff?_0x1f0bb3(0x8ae):_0x1f0bb3(0x536))+_0x1f0bb3(0x6d0)+_0x7e23e5+_0x1f0bb3(0x4ad)+_0x481330['id']+_0x1f0bb3(0x1e9)+_0x481330['id']+_0x1f0bb3(0x741)+(_0x238de1?_0x1f0bb3(0x5ec):_0x1f0bb3(0x3b4))+_0x1f0bb3(0x6c2)+_0x481330['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x238de1?_0x1f0bb3(0x5ec):_0x1f0bb3(0x3b4))+_0x1f0bb3(0xc12)+(_0x4be3ff?_0x238de1?'text-yellow-300':_0x1f0bb3(0x323):'')+_0x1f0bb3(0x504)+_0x481330['id']+_0x1f0bb3(0x7fd)+_0x5f445a+'\x20pointer-events-none\x22>'+_0x481330[_0x1f0bb3(0x453)]+_0x1f0bb3(0xc76)+_0x156591+'\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x481330[_0x1f0bb3(0x6d3)])['toLocaleDateString']('th-TH')+_0x1f0bb3(0xbe2)+(_0x238de1?_0x1f0bb3(0xc56):_0x1f0bb3(0x7b9))+_0x1f0bb3(0x2db)+_0x14d978+_0x1f0bb3(0xce8)+_0x481330['id']+'\x22\x20data-name=\x22'+_0x481330[_0x1f0bb3(0x453)]+_0x1f0bb3(0x97a)+(_0x238de1?_0x1f0bb3(0xc7e):_0x1f0bb3(0xa71))+_0x1f0bb3(0xdb7);});}else _0x49c7ed[_0x42f43a(0xd0a)]=_0x42f43a(0xd7f),starredQuizzes[_0x42f43a(0xbe0)]>0x0&&_0x33bd2d===''&&(_0xe4e5b9+=_0x42f43a(0x249)+starredQuizzes['length']+_0x42f43a(0xb82)),_0xe4e5b9+=_0x42f43a(0x581),_0xde0ab6[_0x42f43a(0xa3f)](_0x371d37=>{const _0x38032a=_0x42f43a,_0x43d9bf=_0x25411c[_0x371d37['id']]??0x0,_0x436d37=_0x1197bd[_0x38032a(0x837)](_0x371d37['id']);_0xe4e5b9+=_0x38032a(0xb49)+(_0x371d37['color']||_0x38032a(0x223))+_0x38032a(0x814)+_0x371d37['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x371d37[_0x38032a(0x453)]+_0x38032a(0xd54)+_0x43d9bf+_0x38032a(0x5be)+new Date(_0x371d37[_0x38032a(0x6d3)])[_0x38032a(0x246)](_0x38032a(0x45d))+_0x38032a(0x5a9)+_0x371d37['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x436d37?'text-indigo-600':'')+_0x38032a(0x4bc)+_0x371d37['id']+_0x38032a(0xba3)+_0x371d37['projectName']+'\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});projectList[_0x42f43a(0x66e)]=_0xe4e5b9,noProjectsMsg[_0x42f43a(0x67b)][_0x42f43a(0x992)](_0x42f43a(0x75c),_0xe4e5b9[_0x42f43a(0xbe0)]>0x0);}document[_0x4c4cf8(0x967)](_0x4c4cf8(0x832))[_0x4c4cf8(0x28f)](_0x4c4cf8(0x526),async()=>{const _0x86295a=_0x4c4cf8,_0x7322bf=document[_0x86295a(0x967)]('project-name-input'),_0x4ebed2=_0x7322bf['value']['trim']();if(!_0x4ebed2){showMessage(_0x86295a(0x490));return;}try{const _0x30adce=doc(collection(db,_0x86295a(0x4e9)+appId+_0x86295a(0x9f8)));await setDoc(_0x30adce,{'projectName':_0x4ebed2,'students':[],'settings':{'resultsDisplay':_0x86295a(0xacd),'shuffleSetting':_0x86295a(0x7e8),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x86295a(0x7e8),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()['toISOString']()}),_0x7322bf[_0x86295a(0x734)]='',createProjectModal[_0x86295a(0x67b)]['add'](_0x86295a(0x75c)),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0xf882d){console[_0x86295a(0x3f6)]('Error\x20creating\x20project:',_0xf882d),showMessage(_0x86295a(0x50d));}}),projectList[_0x4c4cf8(0x28f)](_0x4c4cf8(0x526),async _0x27dbca=>{const _0x32e6f1=_0x4c4cf8,_0x97bc2b=_0x27dbca[_0x32e6f1(0xae7)][_0x32e6f1(0xbc5)](_0x32e6f1(0x4cf)),_0x2cb58f=_0x27dbca[_0x32e6f1(0xae7)][_0x32e6f1(0xbc5)](_0x32e6f1(0x7c1)),_0x5a687f=_0x27dbca[_0x32e6f1(0xae7)]['closest'](_0x32e6f1(0xd51)),_0x565294=_0x27dbca[_0x32e6f1(0xae7)][_0x32e6f1(0xbc5)]('.color-palette-btn');if(_0x5a687f){const _0x5591e4=_0x5a687f[_0x32e6f1(0x305)]['id'],_0x32df97=doc(db,_0x32e6f1(0x430),'dashboardConfig'),_0x39acc6=globalDashboardSettings[_0x32e6f1(0xb4d)];let _0x15edc3;_0x39acc6[_0x32e6f1(0xb02)](_0x5591e4)?_0x15edc3=_0x39acc6[_0x32e6f1(0x3d0)](_0x2373f2=>_0x2373f2!==_0x5591e4):_0x15edc3=[..._0x39acc6,_0x5591e4];try{await setDoc(_0x32df97,{'pinnedProjects':_0x15edc3},{'merge':!![]});}catch(_0x513926){console[_0x32e6f1(0x3f6)](_0x32e6f1(0x9b9),_0x513926),showMessage(_0x32e6f1(0x414));}}else{if(_0x565294){const _0x5e4d39=_0x565294[_0x32e6f1(0x305)]['id'];showColorPalette(_0x565294,_0x5e4d39);}else{if(_0x97bc2b){const _0x324404=_0x97bc2b[_0x32e6f1(0x305)]['id'];_0x324404===_0x32e6f1(0x802)?showStarredProjectView():(currentProjectId=_0x324404,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x2cb58f){const _0x4d043a=_0x2cb58f[_0x32e6f1(0x305)]['id'],_0x405bee=_0x2cb58f[_0x32e6f1(0x305)][_0x32e6f1(0x7e7)];showConfirmation(_0x32e6f1(0xa3c)+_0x405bee+_0x32e6f1(0x92f),()=>handleDeleteProject(_0x4d043a));}}}}}),projectList[_0x4c4cf8(0x28f)]('dragstart',_0x1e6ae3=>{const _0x4b6570=_0x4c4cf8,_0x5c43d8=_0x1e6ae3[_0x4b6570(0xae7)][_0x4b6570(0xbc5)](_0x4b6570(0x5d3));_0x5c43d8&&_0x5c43d8['classList'][_0x4b6570(0x602)](_0x4b6570(0xa00));}),projectList['addEventListener'](_0x4c4cf8(0x8f5),_0x290ba4=>{const _0x5b09c3=_0x4c4cf8,_0x3110d7=_0x290ba4[_0x5b09c3(0xae7)][_0x5b09c3(0xbc5)](_0x5b09c3(0x5d3));_0x3110d7&&_0x3110d7[_0x5b09c3(0x67b)][_0x5b09c3(0x7d5)](_0x5b09c3(0xa00));}),projectList[_0x4c4cf8(0x28f)](_0x4c4cf8(0xc13),_0xa68595=>{const _0x11faff=_0x4c4cf8;_0xa68595['preventDefault']();const _0x5d5830=document[_0x11faff(0x5c7)]('.project-card-container.opacity-50');if(!_0x5d5830)return;const _0x4a820e=getDragAfterElement(projectList,_0xa68595[_0x11faff(0xb3a)]);_0x4a820e==null?projectList[_0x11faff(0xbf4)](_0x5d5830):projectList[_0x11faff(0x2ff)](_0x5d5830,_0x4a820e);}),projectList['addEventListener'](_0x4c4cf8(0xbfc),_0xb2aa22=>{const _0x5e1813=_0x4c4cf8;_0xb2aa22[_0x5e1813(0x6c3)]();const _0x1da52f=[...projectList[_0x5e1813(0xdd7)](_0x5e1813(0x4e4))][_0x5e1813(0x928)](_0xc6638e=>_0xc6638e['dataset']['id']);saveProjectOrder(_0x1da52f);});function renderBehaviorLog(_0x571d69){const _0x29394f=_0x4c4cf8,_0x405b83=document[_0x29394f(0x967)](_0x29394f(0x266));if(!_0x405b83)return;const _0xdc23da=_0x571d69[_0x29394f(0x3d0)](_0x52f246=>_0x52f246[_0x29394f(0xb94)]&&_0x52f246[_0x29394f(0xb94)][_0x29394f(0xbe0)]>0x0);if(_0xdc23da[_0x29394f(0xbe0)]===0x0){_0x405b83['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>';return;}let _0xf18c78='';_0xdc23da[_0x29394f(0xa3f)](_0x1ed729=>{const _0x2ef0e4=_0x29394f;_0xf18c78+=_0x2ef0e4(0xa5f)+_0x1ed729[_0x2ef0e4(0x1fd)]+_0x2ef0e4(0x6e3),_0x1ed729['behaviorLog']['sort']((_0x2a2a11,_0x3c954a)=>new Date(_0x3c954a[_0x2ef0e4(0xd4d)])-new Date(_0x2a2a11[_0x2ef0e4(0xd4d)]))[_0x2ef0e4(0xa3f)](_0x44daeb=>{const _0x39af49=_0x2ef0e4,_0x4baa21=new Date(_0x44daeb['timestamp'])['toLocaleString'](_0x39af49(0x45d),{'dateStyle':_0x39af49(0x91b),'timeStyle':_0x39af49(0xa6b)});_0xf18c78+=_0x39af49(0xd8b)+_0x44daeb[_0x39af49(0x916)]+_0x39af49(0xd49)+_0x4baa21+_0x39af49(0x36a);}),_0xf18c78+=_0x2ef0e4(0x4d7);}),_0x405b83[_0x29394f(0x66e)]=_0xf18c78;}function getDragAfterElement(_0x2d2a08,_0x101a65){const _0x2ef537=_0x4c4cf8,_0x14d5d7=[..._0x2d2a08[_0x2ef537(0xdd7)]('.project-card-container:not(.opacity-50)')];return _0x14d5d7['reduce']((_0x1ca95f,_0x4aac48)=>{const _0x408ba2=_0x2ef537,_0x2c3cce=_0x4aac48['getBoundingClientRect'](),_0x52415c=_0x101a65-_0x2c3cce[_0x408ba2(0x2c0)]-_0x2c3cce[_0x408ba2(0x761)]/0x2;return _0x52415c<0x0&&_0x52415c>_0x1ca95f['offset']?{'offset':_0x52415c,'element':_0x4aac48}:_0x1ca95f;},{'offset':Number['NEGATIVE_INFINITY']})[_0x2ef537(0x67d)];}async function saveProjectOrder(_0x240aac){const _0x544045=_0x4c4cf8,_0x409b99=doc(db,_0x544045(0x430),_0x544045(0x23c));try{await setDoc(_0x409b99,{'projectOrder':_0x240aac},{'merge':!![]});}catch(_0x5a1724){console[_0x544045(0x3f6)](_0x544045(0x9c0),_0x5a1724),showMessage(_0x544045(0xbb4));}}async function logBehaviorEvent(_0x20b761,_0x45ebfd={}){const _0xdcdfe7=_0x4c4cf8;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0xdcdfe7(0x749)](_0xdcdfe7(0x451));return;}const _0x2e71ce=doc(db,_0xdcdfe7(0x4e9)+appId+_0xdcdfe7(0x868)+currentQuizData['id']+_0xdcdfe7(0xa24),currentStudentName),_0x2541f1={'event':_0x20b761,'timestamp':new Date()[_0xdcdfe7(0x2a4)](),..._0x45ebfd};try{await updateDoc(_0x2e71ce,{'behaviorLog':arrayUnion(_0x2541f1)}),console[_0xdcdfe7(0xdea)](_0xdcdfe7(0x6c5)+currentStudentName+_0xdcdfe7(0x96e));}catch(_0xe2b12c){_0xe2b12c['code']===_0xdcdfe7(0x797)?console[_0xdcdfe7(0x749)](_0xdcdfe7(0xc6c)+currentStudentName+_0xdcdfe7(0x5ab)):console['error'](_0xdcdfe7(0xc04),_0xe2b12c);}}function calculateMeanAndStdDev(_0x29b053){const _0x377389=_0x4c4cf8;if(_0x29b053[_0x377389(0xbe0)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x5ba64c=_0x29b053[_0x377389(0x2c1)]((_0x547791,_0x43ed99)=>_0x547791+_0x43ed99,0x0)/_0x29b053['length'];if(_0x29b053[_0x377389(0xbe0)]===0x1)return{'mean':_0x5ba64c,'stdDev':0x0};const _0x1f4c21=Math[_0x377389(0x870)](_0x29b053[_0x377389(0x928)](_0x3c257e=>Math[_0x377389(0x89f)](_0x3c257e-_0x5ba64c,0x2))[_0x377389(0x2c1)]((_0x580651,_0x4e146f)=>_0x580651+_0x4e146f,0x0)/(_0x29b053['length']-0x1));return{'mean':_0x5ba64c,'stdDev':_0x1f4c21};}function calculateZScore(_0x196a4e,_0x2cd002,_0x3fad26){if(_0x3fad26===0x0)return 0x0;return(_0x196a4e-_0x2cd002)/_0x3fad26;}function calculateTScore(_0xee44ae){return 0xa*_0xee44ae+0x32;}function showStarredProjectView(){const _0x212d8a=_0x4c4cf8;currentProjectId='starred',currentProjectData=null,projectTitle[_0x212d8a(0xb9a)]='แบบทดสอบที่ติดดาว',projectIdDisplay['textContent']=_0x212d8a(0x269),showView('project-detail'),manageTab[_0x212d8a(0x67b)][_0x212d8a(0x602)](_0x212d8a(0x75c)),leaderboardTab[_0x212d8a(0x67b)][_0x212d8a(0x602)]('hidden'),switchProjectTab(_0x212d8a(0x62a)),renderQuizzes();}async function loadProjectDetails(_0x6585ec){const _0xeb82b0=_0x4c4cf8,_0x1b4b88=doc(db,'artifacts/'+appId+_0xeb82b0(0x9f8),_0x6585ec),_0x41f705=await getDoc(_0x1b4b88);if(_0x41f705[_0xeb82b0(0x78d)]()){manageTab[_0xeb82b0(0x67b)][_0xeb82b0(0x7d5)]('hidden'),leaderboardTab[_0xeb82b0(0x67b)]['remove'](_0xeb82b0(0x75c)),currentProjectData=_0x41f705[_0xeb82b0(0x6bc)](),projectTitle[_0xeb82b0(0xb9a)]=currentProjectData['projectName'],projectIdDisplay[_0xeb82b0(0xb9a)]=_0x6585ec;const _0x45cae6=currentProjectData[_0xeb82b0(0x793)]||{};document['getElementById']('shuffle-setting-select')[_0xeb82b0(0x734)]=_0x45cae6[_0xeb82b0(0x516)]||_0xeb82b0(0x7e8);const _0x486a0b=document[_0xeb82b0(0x967)](_0xeb82b0(0x8e7));_0x486a0b[_0xeb82b0(0x4c6)]=_0x45cae6[_0xeb82b0(0x217)]!==![];const _0x4eb3ae=document[_0xeb82b0(0x967)](_0xeb82b0(0x951)),_0x55453e=document[_0xeb82b0(0x967)](_0xeb82b0(0x405)),_0x1557a6=document['getElementById'](_0xeb82b0(0x3f9)),_0x22a655=_0x45cae6[_0xeb82b0(0xd3a)]||![];_0x4eb3ae[_0xeb82b0(0x4c6)]=_0x22a655,_0x1557a6[_0xeb82b0(0x734)]=_0x45cae6['passcode']||'',_0x55453e[_0xeb82b0(0x67b)]['toggle']('hidden',!_0x22a655),_0x4eb3ae[_0xeb82b0(0xbc6)]=()=>{const _0x4510af=_0xeb82b0;_0x55453e['classList']['toggle'](_0x4510af(0x75c),!_0x4eb3ae[_0x4510af(0x4c6)]);},document['getElementById'](_0xeb82b0(0x316))[_0xeb82b0(0x4c6)]=_0x45cae6[_0xeb82b0(0x8dd)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x6585ec),listenForProjectQuizzes(_0x6585ec),listenForStudentProfiles(_0x6585ec);}else showMessage('ไม่พบโปรเจค'),showView(_0xeb82b0(0x604));}async function handleResetProjectOrder(){const _0x1fe388=_0x4c4cf8,_0xc62f43=doc(db,_0x1fe388(0x430),'dashboardConfig');try{await setDoc(_0xc62f43,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x1fe388(0xced));}catch(_0x1d09d9){console[_0x1fe388(0x3f6)](_0x1fe388(0x7da),_0x1d09d9),showMessage(_0x1fe388(0xc44));}}async function handleTogglePinProject(_0x14c08c){const _0x4cd906=_0x4c4cf8;if(!_0x14c08c)return;const _0x3347fb=doc(db,_0x4cd906(0x4e9)+appId+'/public/data/projects',_0x14c08c);try{const _0x4bc6ba=await getDoc(_0x3347fb);if(_0x4bc6ba[_0x4cd906(0x78d)]()){const _0x8bba8c=_0x4bc6ba[_0x4cd906(0x6bc)]()[_0x4cd906(0x76e)]||![];await updateDoc(_0x3347fb,{'isPinned':!_0x8bba8c});}}catch(_0x405e3e){console[_0x4cd906(0x3f6)](_0x4cd906(0xc66),_0x405e3e),showMessage(_0x4cd906(0x414));}}async function handleDeleteProject(_0x527765){const _0xe58064=_0x4c4cf8;try{const _0x5acd93=writeBatch(db),_0x3b4e0d=collection(db,_0xe58064(0x4e9)+appId+_0xe58064(0x2fe)),_0x10140a=query(_0x3b4e0d,where(_0xe58064(0x6fe),'==',_0x527765)),_0x319d5c=await getDocs(_0x10140a);for(const _0x33f14d of _0x319d5c['docs']){const _0x3ef8d8=collection(db,_0xe58064(0x4e9)+appId+_0xe58064(0x868)+_0x33f14d['id']+_0xe58064(0xa24)),_0x11f5e3=await getDocs(_0x3ef8d8);_0x11f5e3[_0xe58064(0xa3f)](_0x1dc2fa=>{const _0x22ff5e=_0xe58064;_0x5acd93[_0x22ff5e(0xde1)](_0x1dc2fa[_0x22ff5e(0xd2f)]);}),_0x5acd93['delete'](_0x33f14d[_0xe58064(0xd2f)]);}const _0x411e28=collection(db,_0xe58064(0x4e9)+appId+'/public/data/projects/'+_0x527765+_0xe58064(0xc5a)),_0x28ff3e=await getDocs(_0x411e28);_0x28ff3e[_0xe58064(0xa3f)](_0x23cf60=>{const _0x46a71e=_0xe58064;_0x5acd93[_0x46a71e(0xde1)](_0x23cf60['ref']);});const _0x67a0fb=doc(db,_0xe58064(0x4e9)+appId+'/public/data/projects',_0x527765);_0x5acd93[_0xe58064(0xde1)](_0x67a0fb),await _0x5acd93[_0xe58064(0xdc7)](),showMessage(_0xe58064(0xb1c)),showView(_0xe58064(0x604));}catch(_0x338152){console[_0xe58064(0x3f6)]('Error\x20deleting\x20project:',_0x338152),showMessage(_0xe58064(0x2de));}}document[_0x4c4cf8(0x967)](_0x4c4cf8(0x549))[_0x4c4cf8(0x28f)](_0x4c4cf8(0x526),async()=>{const _0x130897=_0x4c4cf8;if(!currentProjectId)return;const _0x5850fd={'defaultNumQuestions':parseInt(document[_0x130897(0x967)](_0x130897(0x304))[_0x130897(0x734)]),'defaultNumChoices':parseInt(document[_0x130897(0x967)](_0x130897(0x34c))[_0x130897(0x734)]),'defaultPassingScore':parseInt(document[_0x130897(0x967)]('passing-score-input')[_0x130897(0x734)]),'resultsDisplay':document[_0x130897(0x967)](_0x130897(0x9fd))['value'],'shuffleSetting':document['getElementById'](_0x130897(0x5a6))['value'],'timerMode':document[_0x130897(0x967)]('timer-mode-select')[_0x130897(0x734)],'timerDuration':parseInt(document[_0x130897(0x967)](_0x130897(0xbac))[_0x130897(0x734)]),'isConfidenceScoringEnabled':document['getElementById'](_0x130897(0x316))[_0x130897(0x4c6)],'confidenceMode':document[_0x130897(0x967)](_0x130897(0x3b0))['value']};try{const _0x7a9bce=doc(db,_0x130897(0x4e9)+appId+_0x130897(0x9f8),currentProjectId);await updateDoc(_0x7a9bce,{'settings':_0x5850fd}),showMessage(_0x130897(0xcb0));}catch(_0x4f0820){console[_0x130897(0x3f6)]('Error\x20saving\x20settings:',_0x4f0820),showMessage(_0x130897(0x4cc));}});function listenForStudents(_0x55b9e3){const _0x23deb6=_0x4c4cf8,_0x1aa9f6=doc(db,_0x23deb6(0x4e9)+appId+_0x23deb6(0x9f8),_0x55b9e3);unsubscribeStudentsListener=onSnapshot(_0x1aa9f6,_0xf7629a=>{const _0x4c0963=_0x23deb6;if(_0xf7629a[_0x4c0963(0x78d)]()){const _0x5e0f16=_0xf7629a[_0x4c0963(0x6bc)]();currentProjectData=_0x5e0f16,renderStudentList(_0x5e0f16[_0x4c0963(0x547)]||[]);}});}function renderStudentList(_0xbc9db7){const _0x56d03e=_0x4c4cf8,_0x43bb40=document[_0x56d03e(0x967)](_0x56d03e(0x4ac));_0xbc9db7[_0x56d03e(0xbe0)]===0x0?(studentList[_0x56d03e(0x66e)]=_0x56d03e(0x7de),_0x43bb40[_0x56d03e(0x67b)][_0x56d03e(0x602)]('hidden')):(studentList[_0x56d03e(0x66e)]=_0xbc9db7['map'](_0x3be4fb=>_0x56d03e(0x903)+_0x3be4fb+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x3be4fb+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''),_0x43bb40[_0x56d03e(0x67b)][_0x56d03e(0x7d5)]('hidden'));}document['getElementById'](_0x4c4cf8(0x758))[_0x4c4cf8(0x28f)](_0x4c4cf8(0x526),async()=>{const _0x2f9184=_0x4c4cf8;if(!currentProjectId)return;const _0xad80=document[_0x2f9184(0x967)](_0x2f9184(0xca2)),_0x546308=_0xad80[_0x2f9184(0x734)][_0x2f9184(0x46b)]();if(!_0x546308){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x2422ad=_0x546308[_0x2f9184(0xb7c)]('\x0a')['map'](_0x550bb7=>_0x550bb7[_0x2f9184(0x46b)]())['filter'](_0x42e613=>_0x42e613);if(_0x2422ad['length']===0x0)return;try{const _0x1491b2=doc(db,'artifacts/'+appId+_0x2f9184(0x9f8),currentProjectId),_0x450019=await getDoc(_0x1491b2);if(_0x450019[_0x2f9184(0x78d)]()){const _0x234ffd=_0x450019[_0x2f9184(0x6bc)]()['students']||[],_0x3a0cf7=[...new Set([..._0x234ffd,..._0x2422ad])];await updateDoc(_0x1491b2,{'students':_0x3a0cf7}),_0xad80[_0x2f9184(0x734)]='';}}catch(_0x1299c5){console['error']('Error\x20adding\x20students:',_0x1299c5),showMessage(_0x2f9184(0x3f5));}});async function handleManualQuizPairing(_0x4a4e81){const _0x19bd9c=_0x4c4cf8,_0x2779fb=document[_0x19bd9c(0x967)](_0x19bd9c(0xc4c)),_0x58304e=document[_0x19bd9c(0x967)]('move-quiz-project-select'),_0x48b948=_0x2779fb[_0x19bd9c(0x5c7)]('h3'),_0x54159=document['getElementById'](_0x19bd9c(0xc77)),_0x27943a=document['getElementById']('cancel-move-quiz-btn');_0x48b948[_0x19bd9c(0xb9a)]=_0x19bd9c(0xa30),_0x58304e[_0x19bd9c(0x66e)]='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0x54159[_0x19bd9c(0xb9a)]=_0x19bd9c(0x4f7),_0x2779fb[_0x19bd9c(0x67b)][_0x19bd9c(0x7d5)]('hidden');const _0x49bc52=allQuizzes[_0x19bd9c(0x3d0)](_0x2d8120=>_0x2d8120['id']!==_0x4a4e81);_0x49bc52[_0x19bd9c(0xbe0)]===0x0?(_0x58304e[_0x19bd9c(0x66e)]=_0x19bd9c(0xcbf),_0x54159[_0x19bd9c(0x367)]=!![]):(_0x58304e['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>'+_0x49bc52['map'](_0x57cce7=>'<option\x20value=\x22'+_0x57cce7['id']+'\x22>'+_0x57cce7[_0x19bd9c(0x3e7)]+_0x19bd9c(0xb96))[_0x19bd9c(0xbe3)](''),_0x54159[_0x19bd9c(0x367)]=![]);const _0x247fee=async()=>{const _0x119502=_0x19bd9c,_0x17d472=_0x58304e[_0x119502(0x734)];if(!_0x17d472){showMessage(_0x119502(0xa0b));return;}_0x54159[_0x119502(0x367)]=!![],_0x54159[_0x119502(0xb9a)]=_0x119502(0x498);try{const _0x32d7cf=doc(db,'artifacts/'+appId+_0x119502(0x2fe),_0x4a4e81),_0x9ebf=doc(db,_0x119502(0x4e9)+appId+_0x119502(0x2fe),_0x17d472),_0x260730=writeBatch(db);_0x260730[_0x119502(0x5de)](_0x32d7cf,{'pairedQuizId':_0x17d472}),_0x260730['update'](_0x9ebf,{'pairedQuizId':_0x4a4e81}),await _0x260730[_0x119502(0xdc7)](),showMessage(_0x119502(0x6f5)),_0x2779fb['classList'][_0x119502(0x602)](_0x119502(0x75c));}catch(_0x1dc305){console[_0x119502(0x3f6)]('Error\x20pairing\x20quizzes:',_0x1dc305),showMessage(_0x119502(0x5c3));}finally{_0x48b948[_0x119502(0xb9a)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x54159[_0x119502(0xb9a)]=_0x119502(0x7bb),_0x54159[_0x119502(0x367)]=![],_0x54159['removeEventListener'](_0x119502(0x526),_0x247fee),_0x27943a['removeEventListener'](_0x119502(0x526),_0x3c9ee7);}},_0x3c9ee7=()=>{const _0x2c41f4=_0x19bd9c;_0x2779fb[_0x2c41f4(0x67b)][_0x2c41f4(0x602)]('hidden'),_0x48b948[_0x2c41f4(0xb9a)]=_0x2c41f4(0x664),_0x54159[_0x2c41f4(0xb9a)]=_0x2c41f4(0x7bb),_0x54159[_0x2c41f4(0x965)](_0x2c41f4(0x526),_0x247fee),_0x27943a['removeEventListener'](_0x2c41f4(0x526),_0x3c9ee7);};_0x54159[_0x19bd9c(0x28f)]('click',_0x247fee),_0x27943a[_0x19bd9c(0x28f)](_0x19bd9c(0x526),_0x3c9ee7);}function handleDeleteStudent(_0x36b6ef){const _0x425fcb=_0x4c4cf8;showConfirmation(_0x425fcb(0x3fe)+_0x36b6ef+_0x425fcb(0x613),async()=>{const _0x237b7f=_0x425fcb;if(!currentProjectId||!currentProjectData)return;const _0x335546=currentProjectData['students']['filter'](_0x1aacdc=>_0x1aacdc!==_0x36b6ef);try{const _0x56102d=doc(db,_0x237b7f(0x4e9)+appId+_0x237b7f(0x9f8),currentProjectId),_0x574b33=doc(db,_0x237b7f(0x4e9)+appId+_0x237b7f(0x9ef)+currentProjectId+_0x237b7f(0xc5a),_0x36b6ef),_0x3c3af9=writeBatch(db);_0x3c3af9[_0x237b7f(0x5de)](_0x56102d,{'students':_0x335546}),_0x3c3af9['delete'](_0x574b33),await _0x3c3af9[_0x237b7f(0xdc7)]();}catch(_0x5171ab){console[_0x237b7f(0x3f6)](_0x237b7f(0xc32),_0x5171ab),showMessage(_0x237b7f(0x599));}});}function handleDeleteAllStudents(){const _0x3f2995=_0x4c4cf8;showConfirmation(_0x3f2995(0xdc2),async()=>{const _0x42a12b=_0x3f2995;if(!currentProjectId)return;try{const _0xdd529f=doc(db,_0x42a12b(0x4e9)+appId+_0x42a12b(0x9f8),currentProjectId),_0x571d4d=collection(db,_0x42a12b(0x4e9)+appId+_0x42a12b(0x9ef)+currentProjectId+_0x42a12b(0xc5a)),_0x2e457e=await getDocs(_0x571d4d),_0x4b89bd=writeBatch(db);_0x4b89bd['update'](_0xdd529f,{'students':[]}),_0x2e457e[_0x42a12b(0xa3f)](_0x449a07=>_0x4b89bd[_0x42a12b(0xde1)](_0x449a07[_0x42a12b(0xd2f)])),await _0x4b89bd['commit']();}catch(_0x161818){console['error']('Error\x20deleting\x20all\x20students:',_0x161818),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x2500b8){const _0x1814b7=_0x4c4cf8,_0x4591bd=document[_0x1814b7(0x967)](_0x1814b7(0xc59)),_0x4a58f6=document[_0x1814b7(0x967)](_0x1814b7(0x656));_0x4591bd[_0x1814b7(0x67b)][_0x1814b7(0x7d5)]('hidden'),_0x4a58f6[_0x1814b7(0x66e)]=_0x1814b7(0xdab);try{const _0x1bc5e4=new FileReader();_0x1bc5e4['readAsDataURL'](_0x2500b8),await new Promise((_0x37668c,_0x412084)=>{const _0x151423=_0x1814b7;_0x1bc5e4[_0x151423(0x2cc)]=()=>{const _0x10bd90=_0x151423;fileDataBase64=_0x1bc5e4[_0x10bd90(0x6f1)][_0x10bd90(0xb7c)](',')[0x1],fileMimeType=_0x2500b8['type'],_0x37668c();},_0x1bc5e4[_0x151423(0x463)]=_0x51ddd9=>_0x412084(_0x51ddd9);});if(!fileDataBase64)throw new Error(_0x1814b7(0xdb3));const _0x1c4aa3='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x133a72={'type':_0x1814b7(0x8b8),'properties':{'topics':{'type':_0x1814b7(0x34a),'items':{'type':_0x1814b7(0x3db)}}},'required':['topics']},_0x1144cf=[{'text':_0x1c4aa3},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x4554bb=await handleApiCall(_0x1144cf,_0x1814b7(0xc40),_0x133a72,null,![]);if(_0x4554bb&&_0x4554bb['topics'])extractedFileTopics=_0x4554bb[_0x1814b7(0x4b6)],renderFileTopics();else throw new Error(_0x1814b7(0xc2e));}catch(_0x25d1a2){console[_0x1814b7(0x3f6)](_0x1814b7(0x824),_0x25d1a2),_0x4a58f6['innerHTML']=_0x1814b7(0x9db)+_0x25d1a2[_0x1814b7(0xb40)]+_0x1814b7(0x2b7);}}function renderFileTopics(){const _0x8e9039=_0x4c4cf8,_0x1b9f21=document[_0x8e9039(0x967)](_0x8e9039(0x656));if(extractedFileTopics[_0x8e9039(0xbe0)]===0x0){_0x1b9f21['innerHTML']=_0x8e9039(0xc20);return;}_0x1b9f21[_0x8e9039(0x66e)]=extractedFileTopics['map'](_0x26134e=>_0x8e9039(0x441)+_0x26134e+_0x8e9039(0x83e)+escape(_0x26134e)+_0x8e9039(0xa56)+escape(_0x26134e)+_0x8e9039(0xaf8))[_0x8e9039(0xbe3)]('');}async function generateHybridQuizForTopic(_0xd0f5bf){const _0x36e864=_0x4c4cf8,_0x295561=parseInt(document[_0x36e864(0x967)](_0x36e864(0x304))['value'],0xa),_0x131d14=document[_0x36e864(0x967)](_0x36e864(0xb1b))[_0x36e864(0x734)],_0x36b9b9=document[_0x36e864(0x967)](_0x36e864(0x34c))[_0x36e864(0x734)],_0x89578a=document['getElementById'](_0x36e864(0x3a8))['checked'],_0x4ab2cb=_0x89578a?_0x36e864(0xa13):'ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ';let _0x2a1ab9='',_0x145d45;const _0x1bc3e1={'type':_0x36e864(0x8b8),'properties':{'questionText':{'type':_0x36e864(0x3db)},'options':{'type':_0x36e864(0x34a),'items':{'type':_0x36e864(0x3db)}},'correctAnswerIndex':{'type':_0x36e864(0xbad)},'explanation':{'type':_0x36e864(0x3db)},'imageCode':{'type':_0x36e864(0x3db)}},'required':[_0x36e864(0xa42),'options','correctAnswerIndex',_0x36e864(0x8aa)]},_0x5ecfb6={'type':'OBJECT','properties':{'questionText':{'type':_0x36e864(0x3db)},'correctAnswer':{'type':_0x36e864(0x55a)},'explanation':{'type':_0x36e864(0x3db)},'imageCode':{'type':_0x36e864(0x3db)}},'required':[_0x36e864(0xa42),'correctAnswer','explanation']},_0x342abe={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x36e864(0x3db)},'imageCode':{'type':_0x36e864(0x3db)}},'required':[_0x36e864(0xa42),_0x36e864(0x586),_0x36e864(0x8aa)]},_0x558d3a={'type':'OBJECT','properties':{'questionType':{'type':_0x36e864(0x3db),'enum':[_0x36e864(0xa02)]},'stem':{'type':_0x36e864(0x3db)},'correctResponse':{'type':_0x36e864(0x3db)},'allResponses':{'type':'ARRAY','items':{'type':_0x36e864(0x3db)}},'explanation':{'type':_0x36e864(0x3db)},'imageCode':{'type':_0x36e864(0x3db)}},'required':['questionType',_0x36e864(0xcc5),_0x36e864(0x99f),_0x36e864(0x541),_0x36e864(0x8aa)]};switch(_0x131d14){case _0x36e864(0x474):_0x2a1ab9=_0x36e864(0xa54)+_0x36b9b9+_0x36e864(0x444),_0x145d45=_0x1bc3e1;break;case _0x36e864(0x34e):_0x2a1ab9='คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น',_0x145d45=_0x5ecfb6;break;case _0x36e864(0x5b4):_0x2a1ab9='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)',_0x145d45=_0x342abe;break;case'matching':_0x2a1ab9='คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)',_0x145d45=_0x558d3a;break;case _0x36e864(0x922):_0x2a1ab9=_0x36e864(0x84e)+_0x36b9b9+_0x36e864(0x444),_0x145d45=_0x1bc3e1;break;default:_0x2a1ab9='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x36b9b9+_0x36e864(0x444),_0x145d45=_0x1bc3e1;break;}const _0x409915=_0x36e864(0x407),_0xfbceed=document['getElementById'](_0x36e864(0xb23)),_0x132da8=document[_0x36e864(0x967)]('loader-text'),_0x4595b3=document[_0x36e864(0x967)](_0x36e864(0x28d));document['getElementById'](_0x36e864(0x59b))[_0x36e864(0x67b)][_0x36e864(0x7d5)]('hidden'),_0x4595b3[_0x36e864(0x66e)]='',_0xfbceed['classList'][_0x36e864(0x7d5)](_0x36e864(0x75c)),_0x132da8['textContent']='AI\x20กำลังสร้างแบบทดสอบ\x20\x22'+_0xd0f5bf+_0x36e864(0x2d0)+_0x295561+'\x20ข้อ...';try{const _0x1abb22=_0x36e864(0xdf0),_0x1e123b=_0x36e864(0x77b)+_0xd0f5bf+_0x36e864(0xc02)+_0x295561+_0x36e864(0xbe5)+_0xd0f5bf+_0x36e864(0x975)+_0x295561+_0x36e864(0x455)+_0x4ab2cb+_0x36e864(0x818)+_0x2a1ab9+_0x36e864(0x86d)+_0x409915+_0x36e864(0x4a4)+_0x1abb22+_0x36e864(0x530)+simpleMathPrompt+_0x36e864(0x5d4),_0x3a4a0e={'type':_0x36e864(0x8b8),'properties':{'topic':{'type':_0x36e864(0x3db)},'questions':{'type':_0x36e864(0x34a),'items':_0x145d45}},'required':[_0x36e864(0x3e7),'questions']},_0x31a273=[{'text':_0x1e123b},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x31a273,'กำลังสร้างแบบทดสอบ\x20\x22'+_0xd0f5bf+_0x36e864(0xa5e),_0x3a4a0e);}catch(_0x21bef4){console[_0x36e864(0x3f6)](_0x36e864(0x5eb),_0x21bef4),showMessage(_0x36e864(0x50b)+_0x21bef4['message']),_0x4595b3[_0x36e864(0x66e)]=_0x36e864(0xccb);}finally{_0xfbceed[_0x36e864(0x67b)]['add']('hidden');}}async function handleGenerateFromFileClick(){const _0x48d1a3=_0x4c4cf8;if(!selectedFile){showMessage(_0x48d1a3(0x82e));return;}const _0x45d219=document['getElementById'](_0x48d1a3(0xb23)),_0x34a221=document[_0x48d1a3(0x967)](_0x48d1a3(0xaf1)),_0xc1c48a=document[_0x48d1a3(0x967)]('generated-quiz-container'),_0x2f62a3=document[_0x48d1a3(0x967)]('generate-from-file-btn');_0x2f62a3[_0x48d1a3(0x367)]=!![],document[_0x48d1a3(0x967)](_0x48d1a3(0x59b))[_0x48d1a3(0x67b)]['remove'](_0x48d1a3(0x75c)),_0xc1c48a[_0x48d1a3(0x66e)]='',_0x45d219[_0x48d1a3(0x67b)][_0x48d1a3(0x7d5)](_0x48d1a3(0x75c)),_0x34a221['textContent']='กำลังอ่านและเตรียมไฟล์...';try{const _0x338139=await new Promise((_0x4c5bbf,_0x56f5ce)=>{const _0x22583b=_0x48d1a3,_0x1db139=new FileReader();_0x1db139['readAsDataURL'](selectedFile),_0x1db139[_0x22583b(0x2cc)]=()=>_0x4c5bbf(_0x1db139[_0x22583b(0x6f1)]['split'](',')[0x1]),_0x1db139[_0x22583b(0x463)]=_0x5523c5=>_0x56f5ce(_0x5523c5);});await generateQuizFromFile(selectedFile[_0x48d1a3(0xd44)],_0x338139);}catch(_0x420bde){console['error'](_0x48d1a3(0xdfe),_0x420bde),showMessage(_0x48d1a3(0x83d)+_0x420bde[_0x48d1a3(0xb40)]),_0x45d219[_0x48d1a3(0x67b)][_0x48d1a3(0x602)]('hidden'),_0x2f62a3['disabled']=![];}}function autoFormatMath(_0x32a610){if(typeof _0x32a610!=='string'||!_0x32a610)return _0x32a610;const _0x2bc40a=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x321833=_0x32a610['replace'](_0x2bc40a,_0xab165d=>{const _0x123a34=_0x3869;return'$'+_0xab165d[_0x123a34(0x46b)]()+'$';});return _0x321833;}function sanitizeQuizData(_0x86fe9f){const _0x3f5e5a=_0x4c4cf8;if(!_0x86fe9f||!_0x86fe9f[_0x3f5e5a(0x271)])return _0x86fe9f;const _0x1271b1={'imes':_0x3f5e5a(0xc6b),'div':_0x3f5e5a(0x882)},_0x5ab347=_0x51e384=>{const _0x4e5aaf=_0x3f5e5a;if(typeof _0x51e384!==_0x4e5aaf(0xd59))return _0x51e384;let _0x2f446d=_0x51e384;for(const [_0x506815,_0x2f645f]of Object[_0x4e5aaf(0xc37)](_0x1271b1)){const _0x5936f0=new RegExp('\x5cb'+_0x506815+'\x5cb','g');_0x2f446d=_0x2f446d[_0x4e5aaf(0x528)](_0x5936f0,_0x2f645f);}return _0x2f446d=_0x2f446d[_0x4e5aaf(0x528)](/\\\//g,'\x5cdiv'),_0x2f446d=_0x2f446d['replace'](/<(i|em)>\s*div\s*<\/\1>/gi,_0x4e5aaf(0x882))[_0x4e5aaf(0x528)](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')[_0x4e5aaf(0x528)](/÷/g,_0x4e5aaf(0x882))['replace'](/×/g,_0x4e5aaf(0xc6b)),_0x2f446d=_0x2f446d[_0x4e5aaf(0x528)](/(\d)(\\frac)/g,_0x4e5aaf(0xb30)),_0x2f446d=autoFormatMath(_0x2f446d),_0x2f446d;};return _0x86fe9f[_0x3f5e5a(0x3e7)]&&(_0x86fe9f[_0x3f5e5a(0x3e7)]=_0x5ab347(_0x86fe9f['topic'])),_0x86fe9f[_0x3f5e5a(0x271)][_0x3f5e5a(0xa3f)](_0x3a4e91=>{const _0x23babe=_0x3f5e5a;_0x3a4e91[_0x23babe(0xa42)]=_0x5ab347(_0x3a4e91[_0x23babe(0xa42)]),_0x3a4e91['options']&&(_0x3a4e91[_0x23babe(0x2e6)]=_0x3a4e91[_0x23babe(0x2e6)][_0x23babe(0x928)](_0x5ab347)),_0x3a4e91[_0x23babe(0x8aa)]&&(_0x3a4e91['explanation']=_0x5ab347(_0x3a4e91[_0x23babe(0x8aa)])),_0x3a4e91[_0x23babe(0xcc5)]&&(_0x3a4e91[_0x23babe(0xcc5)]=_0x5ab347(_0x3a4e91[_0x23babe(0xcc5)])),_0x3a4e91['correctResponse']&&(_0x3a4e91[_0x23babe(0x99f)]=_0x5ab347(_0x3a4e91[_0x23babe(0x99f)])),_0x3a4e91[_0x23babe(0x541)]&&(_0x3a4e91['allResponses']=_0x3a4e91[_0x23babe(0x541)][_0x23babe(0x928)](_0x5ab347));}),_0x86fe9f;}const simpleMathPrompt=_0x4c4cf8(0x531);async function handleGenerateFromLink(){const _0x570211=_0x4c4cf8,_0x4e2145=document[_0x570211(0x967)](_0x570211(0x72f)),_0x1a937c=document[_0x570211(0x967)](_0x570211(0x261)),_0x281989=_0x4e2145['value']['trim'](),_0x407096=_0x1a937c[_0x570211(0x734)][_0x570211(0x46b)]();if(!_0x281989){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x203660=document['getElementById']('loader'),_0x12adea=document[_0x570211(0x967)](_0x570211(0xaf1)),_0x475ece=document[_0x570211(0x967)](_0x570211(0x28d)),_0x3934e3=document[_0x570211(0x967)](_0x570211(0x45e));document[_0x570211(0x967)](_0x570211(0x59b))[_0x570211(0x67b)]['remove'](_0x570211(0x75c)),_0x475ece[_0x570211(0x66e)]='',_0x203660[_0x570211(0x67b)][_0x570211(0x7d5)](_0x570211(0x75c)),_0x12adea[_0x570211(0xb9a)]=_0x570211(0xaf9),_0x3934e3[_0x570211(0x367)]=!![];try{const _0x2126fb=_0x570211(0x51e)+encodeURIComponent(_0x281989),_0x1e55e2=await fetch(_0x2126fb);if(!_0x1e55e2['ok'])throw new Error(_0x570211(0x5b1)+_0x1e55e2['status']+')');const _0x53ccbd=await _0x1e55e2[_0x570211(0x5cd)](),_0x44cf6b=extractTextFromHtml(_0x53ccbd);if(!_0x44cf6b||_0x44cf6b[_0x570211(0xbe0)]<0x64)throw new Error(_0x570211(0x4dc));await generateQuiz(_0x407096,_0x44cf6b);}catch(_0x36130f){console[_0x570211(0x3f6)](_0x570211(0xb66),_0x36130f),showMessage('เกิดข้อผิดพลาด:\x20'+_0x36130f[_0x570211(0xb40)]),_0x475ece[_0x570211(0x66e)]=_0x570211(0x419);}finally{_0x203660['classList'][_0x570211(0x602)](_0x570211(0x75c)),_0x3934e3[_0x570211(0x367)]=![];}}function extractTextFromHtml(_0x22c59f){const _0x52a053=_0x4c4cf8,_0x7437a2=new DOMParser()['parseFromString'](_0x22c59f,_0x52a053(0x84d));return _0x7437a2['querySelectorAll'](_0x52a053(0xb0d))['forEach'](_0x318e4b=>_0x318e4b['remove']()),_0x7437a2['body'][_0x52a053(0xb9a)]||'';}document[_0x4c4cf8(0x967)](_0x4c4cf8(0x543))[_0x4c4cf8(0x28f)]('click',()=>{const _0x1a0b66=_0x4c4cf8,_0x45c0bf=document[_0x1a0b66(0x967)]('topic-input')[_0x1a0b66(0x734)][_0x1a0b66(0x46b)]();generateQuiz(_0x45c0bf,null);}),document[_0x4c4cf8(0x967)](_0x4c4cf8(0x4b7))[_0x4c4cf8(0x28f)]('click',()=>{const _0x25bfb3=_0x4c4cf8,_0x2f173f=document['getElementById'](_0x25bfb3(0x88e))['value'][_0x25bfb3(0x46b)]();if(!_0x2f173f){showMessage(_0x25bfb3(0x5bd));return;}const _0x443520=document[_0x25bfb3(0x967)](_0x25bfb3(0xbd7))[_0x25bfb3(0x734)][_0x25bfb3(0x46b)]();generateQuiz(_0x443520,_0x2f173f);});async function generateQuiz(_0x33bdc4,_0x56e088,_0x208d8d=null,_0x1d3f57=null,_0x97477a=![],_0x3bb92f=null,_0x43e245=null,_0x479f18=![]){const _0x32f928=_0x4c4cf8;let _0x5b2163={};if(_0x97477a&&blueprintPageSettings)_0x5b2163=blueprintPageSettings;else{const _0x3fed81=document[_0x32f928(0xdd7)]('#math-topics-checkbox-container\x20input:checked');_0x5b2163={'quizType':document[_0x32f928(0x967)](_0x32f928(0xb1b))[_0x32f928(0x734)],'numQuestions':document[_0x32f928(0x967)](_0x32f928(0x304))[_0x32f928(0x734)],'numChoices':document[_0x32f928(0x967)]('num-choices')[_0x32f928(0x734)],'includeImages':document['getElementById'](_0x32f928(0x3a8))[_0x32f928(0x4c6)],'isNormalTopic':document['getElementById']('force-math-checkbox')['checked'],'difficultyValue':document[_0x32f928(0x967)](_0x32f928(0x5ce))[_0x32f928(0x734)],'complexityValue':document['getElementById']('question-complexity-select')['value'],'selectedTopicNames':Array[_0x32f928(0xa4f)](_0x3fed81)[_0x32f928(0x928)](_0x40fb61=>_0x40fb61[_0x32f928(0x734)])};}const _0xd558f9=_0x5b2163[_0x32f928(0x970)]?'':_0x32f928(0x650),_0x241b46=_0x5b2163[_0x32f928(0x529)]!==_0x32f928(0x20d)?_0x32f928(0xd89)+_0x5b2163[_0x32f928(0x529)]+'\x22':'',_0x75cb2=_0x5b2163['complexityValue']!==_0x32f928(0x63f)?'โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x5b2163['complexityValue']+_0x32f928(0x399):'';let _0x5e3906='';_0x5b2163[_0x32f928(0x3ac)]&&_0x5b2163[_0x32f928(0x3ac)][_0x32f928(0xbe0)]>0x0&&(_0x5e3906=_0x32f928(0x929)+_0x5b2163[_0x32f928(0x3ac)][_0x32f928(0xbe3)](',\x20')+'.');let _0x17a381='';_0x1d3f57&&(_0x17a381=_0x32f928(0x524));let _0x3355ad='',_0x1bfda6='',_0x594907,_0xc538f6=_0x32f928(0xc3e)+_0x33bdc4+'\x22';if(!_0x33bdc4&&_0x56e088)_0xc538f6=_0x32f928(0x66b);else!_0x33bdc4&&!_0x56e088&&(_0xc538f6=_0x32f928(0xae3));const _0x3e75f2={'type':_0x32f928(0x8b8),'properties':{'questionText':{'type':_0x32f928(0x3db)},'options':{'type':_0x32f928(0x34a),'items':{'type':_0x32f928(0x3db)}},'correctAnswerIndex':{'type':_0x32f928(0xbad)},'explanation':{'type':_0x32f928(0x3db)},'imageCode':{'type':_0x32f928(0x3db)}},'required':['questionText',_0x32f928(0x2e6),_0x32f928(0x4e7),'explanation']},_0x253a1a={'type':_0x32f928(0x8b8),'properties':{'questionText':{'type':_0x32f928(0x3db)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x32f928(0xa42),_0x32f928(0x586),_0x32f928(0x8aa)]},_0x41976d={'type':_0x32f928(0x8b8),'properties':{'questionText':{'type':_0x32f928(0x3db)},'questionType':{'type':'STRING','enum':[_0x32f928(0x474),_0x32f928(0xa9d)]},'options':{'type':_0x32f928(0x34a),'items':{'type':_0x32f928(0x3db)}},'correctAnswerIndex':{'type':_0x32f928(0xbad)},'idealAnswer':{'type':_0x32f928(0x3db)},'explanation':{'type':_0x32f928(0x3db)},'imageCode':{'type':_0x32f928(0x3db)}},'required':[_0x32f928(0xa42),_0x32f928(0x252),'explanation']},_0x1a5e44={'type':_0x32f928(0x8b8),'properties':{'questionText':{'type':_0x32f928(0x3db)},'correctAnswer':{'type':_0x32f928(0x55a)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x32f928(0x3db)}},'required':['questionText',_0x32f928(0x60b),_0x32f928(0x8aa)]},_0x8d601c={'type':_0x32f928(0x8b8),'properties':{'questionType':{'type':_0x32f928(0x3db),'enum':[_0x32f928(0xa02)]},'stem':{'type':'STRING'},'correctResponse':{'type':_0x32f928(0x3db)},'allResponses':{'type':'ARRAY','items':{'type':_0x32f928(0x3db)}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x32f928(0x252),_0x32f928(0xcc5),_0x32f928(0x99f),_0x32f928(0x541),'explanation']};let _0x52273c;if(_0x208d8d!==null){const _0x395ba4=currentQuizData[_0x32f928(0x271)][_0x208d8d]['questionType'],_0x108737=_0x5b2163[_0x32f928(0xc60)]?_0x32f928(0xac0):'';_0x3355ad=_0x32f928(0x98a)+_0xc538f6+'\x20'+_0x5e3906+'\x20'+_0x241b46+_0x32f928(0xd31)+_0x108737+'\x20'+simpleMathPrompt;if(_0x395ba4==='multiple_choice')_0x594907=_0x3e75f2;else{if(_0x395ba4===_0x32f928(0xa02))_0x594907={'type':_0x32f928(0x8b8),'properties':{'questionType':{'type':_0x32f928(0x3db),'enum':[_0x32f928(0xa02)]},'stem':{'type':_0x32f928(0x3db)},'correctResponse':{'type':_0x32f928(0x3db)},'explanation':{'type':_0x32f928(0x3db)},'imageCode':{'type':_0x32f928(0x3db)}},'required':[_0x32f928(0x252),_0x32f928(0xcc5),_0x32f928(0x99f),_0x32f928(0x8aa)]};else _0x594907=_0x253a1a;}_0x52273c=_0x594907;}else{const _0x34d17f=_0x5b2163[_0x32f928(0xc60)]?_0x32f928(0xa99):'';switch(_0x5b2163[_0x32f928(0xa28)]){case _0x32f928(0x474):_0x3355ad=_0x32f928(0xd7c)+_0xd558f9+'\x20'+_0x5b2163[_0x32f928(0x5f7)]+_0x32f928(0x4e3)+_0xc538f6+'\x20'+_0x5e3906+'\x20'+_0x241b46+'\x20'+_0x75cb2+'\x20'+_0x17a381+_0x32f928(0x49d)+_0x5b2163['numChoices']+_0x32f928(0xc62)+_0x34d17f+'\x20'+simpleMathPrompt,_0x594907=_0x3e75f2;break;case _0x32f928(0x922):_0x3355ad='สร้างคำถามแบบเติมคำในช่องว่าง'+_0xd558f9+'\x20'+_0x5b2163['numQuestions']+_0x32f928(0x4e3)+_0xc538f6+'\x20'+_0x5e3906+'\x20'+_0x241b46+'\x20'+_0x75cb2+'\x20'+_0x17a381+_0x32f928(0x609)+_0x5b2163[_0x32f928(0x5a5)]+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x34d17f+'\x20'+simpleMathPrompt,_0x594907=_0x3e75f2;break;case _0x32f928(0x5b4):_0x3355ad='สร้างคำถามแบบเติมคำในช่องว่าง'+_0xd558f9+'\x20'+_0x5b2163[_0x32f928(0x5f7)]+_0x32f928(0x4e3)+_0xc538f6+'\x20'+_0x5e3906+'\x20'+_0x241b46+'\x20'+_0x75cb2+'\x20'+_0x17a381+_0x32f928(0xa74)+_0x34d17f+'\x20'+simpleMathPrompt,_0x594907=_0x253a1a;break;case _0x32f928(0x63f):_0x3355ad=_0x32f928(0x9a6)+_0xd558f9+'\x20'+_0x5b2163[_0x32f928(0x5f7)]+_0x32f928(0x4e3)+_0xc538f6+'\x20'+_0x5e3906+'\x20'+_0x241b46+'\x20'+_0x75cb2+'\x20'+_0x17a381+_0x32f928(0x6ab)+_0x5b2163[_0x32f928(0x5a5)]+_0x32f928(0xb56)+_0x34d17f+'\x20'+simpleMathPrompt+'.',_0x594907=_0x41976d;break;case _0x32f928(0x34e):_0x3355ad=_0x32f928(0xd83)+_0xd558f9+'\x20'+_0x5b2163[_0x32f928(0x5f7)]+_0x32f928(0x4e3)+_0xc538f6+'\x20'+_0x5e3906+'\x20'+_0x241b46+'\x20'+_0x75cb2+'\x20'+_0x17a381+_0x32f928(0x203)+_0x34d17f+'\x20'+simpleMathPrompt,_0x594907=_0x1a5e44;break;case _0x32f928(0xba6):_0x3355ad='สร้างชุดคำถามจับคู่'+_0xd558f9+'\x20'+_0x5b2163[_0x32f928(0x5f7)]+_0x32f928(0x5a2)+_0xc538f6+'\x20'+_0x5e3906+'\x20'+_0x241b46+'\x20'+_0x75cb2+'\x20'+_0x17a381+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x34d17f+'\x20'+simpleMathPrompt,_0x594907=_0x8d601c;break;}_0x52273c={'type':_0x32f928(0x8b8),'properties':{'topic':{'type':_0x32f928(0x3db)},'questions':{'type':'ARRAY','items':_0x594907}},'required':[_0x32f928(0x3e7),_0x32f928(0x271)]};}const _0x1b2a13=_0x32f928(0x2b2);_0x56e088?(_0x479f18?_0x3355ad=_0x32f928(0x805)+_0x56e088+_0x32f928(0x8f2)+_0x3355ad+_0x1b2a13:_0x3355ad=_0x32f928(0x805)+_0x56e088+_0x32f928(0x8f2)+_0x3355ad,_0x1bfda6=_0x32f928(0x548)):(_0x479f18&&(_0x3355ad+=_0x1b2a13),_0x1bfda6=_0x32f928(0xcf4));let _0x4e45b1;return _0x1d3f57?(_0x4e45b1=[{'text':_0x3355ad},..._0x1d3f57],_0x1bfda6=_0x32f928(0xc16)):_0x4e45b1=_0x3355ad,handleApiCall(_0x4e45b1,_0x1bfda6,_0x52273c,_0x208d8d,!![],_0x3bb92f,_0x43e245);}async function generateQuizFromFile(_0x5eb683,_0x398342){const _0x121b3=_0x4c4cf8,_0x377614=document[_0x121b3(0x967)](_0x121b3(0xb36))[_0x121b3(0x734)][_0x121b3(0x46b)](),_0x12508c=document[_0x121b3(0x967)](_0x121b3(0xb1b))[_0x121b3(0x734)],_0x14638d=document[_0x121b3(0x967)](_0x121b3(0x304))[_0x121b3(0x734)],_0x3f1827=document[_0x121b3(0x967)](_0x121b3(0x34c))[_0x121b3(0x734)],_0x81a646=document[_0x121b3(0x967)](_0x121b3(0x3a8))[_0x121b3(0x4c6)],_0x1930a5=document[_0x121b3(0x967)](_0x121b3(0xc29))['checked'],_0x47d3c6=_0x1930a5?'':'คณิตศาสตร์',_0x59a615=document[_0x121b3(0x967)](_0x121b3(0x7d2))[_0x121b3(0x4c6)];let _0x5847a6='',_0xe2abda;const _0x1a1315=_0x81a646?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';if(_0x59a615)_0x5847a6=_0x121b3(0x956)+_0x1a1315+'\x0a'+simpleMathPrompt+'\x0a',_0xe2abda={'type':'OBJECT','properties':{'questionText':{'type':_0x121b3(0x3db)},'questionType':{'type':_0x121b3(0x3db),'enum':[_0x121b3(0x474),_0x121b3(0xa9d),'true_false','matching_item']},'options':{'type':_0x121b3(0x34a),'items':{'type':_0x121b3(0x3db)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x121b3(0x3db)},'correctAnswer':{'type':_0x121b3(0x55a)},'stem':{'type':_0x121b3(0x3db)},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':_0x121b3(0x3db)}},'explanation':{'type':_0x121b3(0x3db)},'imageCode':{'type':_0x121b3(0x3db)}},'required':[_0x121b3(0x252),_0x121b3(0x8aa)]};else{let _0x38fdda=_0x121b3(0xc3e)+_0x377614+'\x22';!_0x377614&&(_0x38fdda=_0x121b3(0xaea));switch(_0x12508c){case _0x121b3(0x474):_0x5847a6=_0x121b3(0xd7c)+_0x47d3c6+'\x20'+_0x14638d+_0x121b3(0x4e3)+_0x38fdda+_0x121b3(0x49d)+_0x3f1827+_0x121b3(0xc62)+_0x1a1315+'\x20'+simpleMathPrompt,_0xe2abda={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'options':{'type':_0x121b3(0x34a),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x121b3(0xbad)},'explanation':{'type':_0x121b3(0x3db)},'imageCode':{'type':_0x121b3(0x3db)}},'required':[_0x121b3(0xa42),_0x121b3(0x2e6),'correctAnswerIndex',_0x121b3(0x8aa)]};break;case _0x121b3(0x922):_0x5847a6=_0x121b3(0xc95)+_0x47d3c6+'\x20'+_0x14638d+'\x20ข้อ\x20'+_0x38fdda+_0x121b3(0x609)+_0x3f1827+_0x121b3(0x600)+_0x1a1315+'\x20'+simpleMathPrompt,_0xe2abda={'type':_0x121b3(0x8b8),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x121b3(0x34a),'items':{'type':_0x121b3(0x3db)}},'correctAnswerIndex':{'type':_0x121b3(0xbad)},'explanation':{'type':_0x121b3(0x3db)},'imageCode':{'type':_0x121b3(0x3db)}},'required':[_0x121b3(0xa42),_0x121b3(0x2e6),_0x121b3(0x4e7),_0x121b3(0x8aa)]};break;case'fill_in_no_choices':_0x5847a6=_0x121b3(0xc95)+_0x47d3c6+'\x20'+_0x14638d+_0x121b3(0x4e3)+_0x38fdda+_0x121b3(0xb85)+_0x1a1315+'\x20'+simpleMathPrompt,_0xe2abda={'type':_0x121b3(0x8b8),'properties':{'questionText':{'type':_0x121b3(0x3db)},'idealAnswer':{'type':_0x121b3(0x3db)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x121b3(0x3db)}},'required':[_0x121b3(0xa42),_0x121b3(0x586),_0x121b3(0x8aa)]};break;case _0x121b3(0x63f):_0x5847a6='สร้างแบบทดสอบ'+_0x47d3c6+'\x20'+_0x14638d+_0x121b3(0x4e3)+_0x38fdda+_0x121b3(0xafc)+_0x3f1827+_0x121b3(0x361)+_0x1a1315+'\x20'+simpleMathPrompt+_0x121b3(0x9d6),_0xe2abda={'type':_0x121b3(0x8b8),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x121b3(0x3db),'enum':['multiple_choice',_0x121b3(0xa9d)]},'options':{'type':_0x121b3(0x34a),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x121b3(0xbad)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x121b3(0x3db)},'imageCode':{'type':_0x121b3(0x3db)}},'required':[_0x121b3(0xa42),_0x121b3(0x252),_0x121b3(0x8aa)]};break;case _0x121b3(0x34e):_0x5847a6='สร้างคำถามแบบใช่/ไม่ใช่'+_0x47d3c6+'\x20'+_0x14638d+_0x121b3(0x4e3)+_0x38fdda+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x1a1315+'\x20'+simpleMathPrompt,_0xe2abda={'type':_0x121b3(0x8b8),'properties':{'questionText':{'type':_0x121b3(0x3db)},'correctAnswer':{'type':_0x121b3(0x55a)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x121b3(0xa42),'correctAnswer',_0x121b3(0x8aa)]};break;case _0x121b3(0xba6):_0x5847a6=_0x121b3(0xd05)+_0x47d3c6+'\x20'+_0x14638d+'\x20คู่\x20'+_0x38fdda+_0x121b3(0x910)+_0x14638d+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x1a1315+'\x20'+simpleMathPrompt,_0xe2abda={'type':_0x121b3(0x8b8),'properties':{'questionType':{'type':_0x121b3(0x3db),'enum':[_0x121b3(0xa02)]},'stem':{'type':_0x121b3(0x3db)},'correctResponse':{'type':_0x121b3(0x3db)},'allResponses':{'type':_0x121b3(0x34a),'items':{'type':'STRING'}},'explanation':{'type':_0x121b3(0x3db)},'imageCode':{'type':_0x121b3(0x3db)}},'required':['questionType',_0x121b3(0xcc5),'correctResponse',_0x121b3(0x541),_0x121b3(0x8aa)]};break;}}const _0xb7f242={'type':_0x121b3(0x8b8),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x121b3(0x34a),'items':_0xe2abda}},'required':[_0x121b3(0x3e7),_0x121b3(0x271)]},_0x4ab38a=_0x121b3(0xa2e)+_0x5847a6,_0x21c6ca={'contents':[{'parts':[{'text':_0x4ab38a},{'inlineData':{'mimeType':_0x5eb683,'data':_0x398342}}]}],'generationConfig':{'responseMimeType':_0x121b3(0x62e),'responseSchema':_0xb7f242}};return handleApiCall(_0x21c6ca[_0x121b3(0x9f5)][0x0][_0x121b3(0x79c)],_0x121b3(0x2ee),_0xb7f242);}async function handleApiCall(_0x5aa273,_0x4b81f1,_0x1bc1be,_0x59d8b9=null,_0x1ddd95=!![],_0x5eb86b=null,_0x29a8be=null){const _0x291788=_0x4c4cf8,_0x2d57ad=document[_0x291788(0x967)](_0x291788(0x59b)),_0x50f610=document[_0x291788(0x967)](_0x291788(0xb23)),_0x59860f=document[_0x291788(0x967)](_0x291788(0xaf1)),_0x41564a=document[_0x291788(0x967)]('generated-quiz-container');_0x2d57ad[_0x291788(0x67b)][_0x291788(0x7d5)](_0x291788(0x75c));_0x59d8b9===null&&_0x1ddd95&&(_0x41564a['innerHTML']='');_0x50f610['classList'][_0x291788(0x7d5)](_0x291788(0x75c)),_0x59860f[_0x291788(0xb9a)]=_0x4b81f1,document[_0x291788(0x967)](_0x291788(0x543))[_0x291788(0x367)]=!![],document[_0x291788(0x967)](_0x291788(0x4b7))['disabled']=!![],document['getElementById']('generate-from-link-btn')[_0x291788(0x367)]=!![];const _0x4a8b00=document[_0x291788(0x967)]('generate-from-file-btn');if(_0x4a8b00)_0x4a8b00[_0x291788(0x367)]=!![];const _0x330eee=document[_0x291788(0x967)](_0x291788(0xa90));if(_0x330eee)_0x330eee[_0x291788(0x367)]=!![];const _0x1a50b7=document['getElementById'](_0x291788(0x7a0));if(_0x1a50b7)_0x1a50b7[_0x291788(0x367)]=!![];try{const _0x55537a=Array[_0x291788(0xa46)](_0x5aa273)?_0x5aa273:[{'text':_0x5aa273}],_0xf71e5b={'contents':[{'role':_0x291788(0x461),'parts':_0x55537a}]};_0x1bc1be&&(_0xf71e5b[_0x291788(0xad0)]={'responseMimeType':'application/json','responseSchema':_0x1bc1be});const _0x2929d6=_0x291788(0x88f),_0x14974c=_0x291788(0x81b)+_0x2929d6,_0x5e0944=await fetch(_0x14974c,{'method':_0x291788(0x4c0),'headers':{'Content-Type':_0x291788(0x62e)},'body':JSON[_0x291788(0xa88)](_0xf71e5b)});if(!_0x5e0944['ok']){const _0x36ba0d=await _0x5e0944[_0x291788(0x5cd)]();console[_0x291788(0x3f6)]('API\x20Error\x20Response:',_0x36ba0d);throw new Error(_0x291788(0xb1f)+_0x5e0944[_0x291788(0x27d)]);}const _0x2b7364=await _0x5e0944[_0x291788(0x738)]();if(!_0x2b7364[_0x291788(0xaaa)]||_0x2b7364[_0x291788(0xaaa)][_0x291788(0xbe0)]===0x0){let _0x180897=_0x291788(0x6de);return _0x2b7364[_0x291788(0x745)]?.[_0x291788(0x807)]&&(_0x180897=_0x291788(0x447)+_0x2b7364[_0x291788(0x745)][_0x291788(0x807)]+'.'),console[_0x291788(0x3f6)](_0x180897,JSON[_0x291788(0xa88)](_0x2b7364)),null;}const _0x51cc87=_0x2b7364[_0x291788(0xaaa)][0x0][_0x291788(0xbc8)][_0x291788(0x79c)][0x0][_0x291788(0x5cd)];if(_0x1bc1be){let _0x375e36=_0x51cc87;if(_0x375e36[_0x291788(0x2e2)](_0x291788(0x96f)))_0x375e36=_0x375e36[_0x291788(0xba9)](0x7,_0x375e36[_0x291788(0xbe0)]-0x3)[_0x291788(0x46b)]();else _0x375e36['startsWith']('```')&&(_0x375e36=_0x375e36[_0x291788(0xba9)](0x3,_0x375e36[_0x291788(0xbe0)]-0x3)[_0x291788(0x46b)]());let _0x24c962=JSON[_0x291788(0x6d6)](_0x375e36);if(_0x1ddd95){if(_0x59d8b9!==null){}else currentQuizData=_0x24c962,displayGeneratedQuiz(currentQuizData,_0x5eb86b,_0x29a8be);}return _0x24c962;}else return _0x51cc87;}catch(_0xd9e5e){console[_0x291788(0x3f6)](_0x291788(0x7a1),_0xd9e5e),showMessage('เกิดข้อผิดพลาดในการสร้าง:\x20'+_0xd9e5e['message']);_0x1ddd95&&(_0x41564a[_0x291788(0x66e)]=_0x291788(0xdf9));throw _0xd9e5e;}finally{_0x50f610['classList'][_0x291788(0x602)](_0x291788(0x75c)),document[_0x291788(0x967)](_0x291788(0x543))[_0x291788(0x367)]=![],document['getElementById'](_0x291788(0x4b7))[_0x291788(0x367)]=![],document['getElementById'](_0x291788(0x45e))[_0x291788(0x367)]=![];if(_0x4a8b00)_0x4a8b00[_0x291788(0x367)]=![];if(_0x330eee)_0x330eee[_0x291788(0x367)]=![];if(_0x1a50b7)_0x1a50b7['disabled']=![];}}function exitFullscreen(){const _0x1c7915=_0x4c4cf8;if(document[_0x1c7915(0x4bb)])document[_0x1c7915(0x4bb)]()['catch'](_0xa87ce0=>console['error'](_0xa87ce0));else{if(document['webkitExitFullscreen'])document['webkitExitFullscreen']();else document[_0x1c7915(0x283)]&&document[_0x1c7915(0x283)]();}}function enterFullscreen(){const _0x5bac08=_0x4c4cf8,_0x3ad176=document[_0x5bac08(0x697)];if(_0x3ad176['requestFullscreen'])_0x3ad176[_0x5bac08(0xa3d)]()[_0x5bac08(0x3f3)](_0x78e863=>{const _0x454787=_0x5bac08;console[_0x454787(0x3f6)](_0x454787(0x8b7)+_0x78e863[_0x454787(0xb40)]+'\x20('+_0x78e863['name']+')');});else{if(_0x3ad176[_0x5bac08(0x347)])_0x3ad176[_0x5bac08(0x347)]();else _0x3ad176[_0x5bac08(0xb6b)]&&_0x3ad176[_0x5bac08(0xb6b)]();}}function handleCheatingEvent(){const _0x498de4=_0x4c4cf8;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent('screen_exit',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+_0x498de4(0x880)),document['getElementById'](_0x498de4(0xa34))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x498de4(0x965)](_0x498de4(0x473),handleVisibilityChange),document[_0x498de4(0x965)](_0x498de4(0xd7e),handleFullscreenChange)):showMessage(_0x498de4(0x6bf)+cheatAttempts+'/'+maxCheatAttempts+_0x498de4(0x8d9),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x378101=_0x4c4cf8;if(currentMode===_0x378101(0xd57)||!isQuizActive)return;if(document[_0x378101(0xa50)]==='hidden')handleCheatingEvent();else document[_0x378101(0xa50)]==='visible'&&(console['log'](_0x378101(0xdad)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x148fd7=_0x4c4cf8;if(currentMode===_0x148fd7(0xd57)||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x3b87cf,_0x218bd9=null,_0xb535fb=null){const _0xaf9984=_0x4c4cf8,_0x4ae4cb=document['getElementById'](_0xaf9984(0x28d));let _0x2b1fe1=_0xaf9984(0x839)+_0x3b87cf[_0xaf9984(0x3e7)]+'</h3>';_0x3b87cf[_0xaf9984(0x271)][_0xaf9984(0xa3f)]((_0x22ad60,_0x1d75c6)=>{const _0x6ae8c2=_0xaf9984;!_0x22ad60['id']&&(_0x22ad60['id']='q_'+Date[_0x6ae8c2(0xd7b)]()+'_'+_0x1d75c6);const _0x951951=_0x22ad60['questionType']||_0x3b87cf[_0x6ae8c2(0xa28)];_0x2b1fe1+=_0x6ae8c2(0x791)+_0x1d75c6+_0x6ae8c2(0xc9a)+_0x1d75c6+_0x6ae8c2(0x3e4)+_0x1d75c6+_0x6ae8c2(0x294);switch(_0x951951){case _0x6ae8c2(0xa02):_0x2b1fe1+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x1d75c6+'\x22>'+(_0x1d75c6+0x1)+'.\x20'+_0x22ad60[_0x6ae8c2(0xcc5)]+_0x6ae8c2(0x2b7);_0x22ad60['imageCode']&&(_0x2b1fe1+=_0x6ae8c2(0x6f6)+_0x1d75c6+_0x6ae8c2(0x54e)+_0x22ad60[_0x6ae8c2(0x2bd)]+_0x6ae8c2(0x83b));_0x2b1fe1+=_0x6ae8c2(0x1eb)+_0x1d75c6+'\x22>'+_0x22ad60[_0x6ae8c2(0x99f)]+_0x6ae8c2(0x62f),_0x2b1fe1+=_0x6ae8c2(0x348)+_0x1d75c6+'\x22>'+_0x22ad60[_0x6ae8c2(0x8aa)]+_0x6ae8c2(0x62f);break;case _0x6ae8c2(0xa9d):_0x2b1fe1+=_0x6ae8c2(0xba8)+_0x1d75c6+'\x22>'+(_0x1d75c6+0x1)+'.\x20'+_0x22ad60[_0x6ae8c2(0xa42)]+_0x6ae8c2(0x2b7);_0x22ad60[_0x6ae8c2(0x2bd)]&&(_0x2b1fe1+=_0x6ae8c2(0x6f6)+_0x1d75c6+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x22ad60[_0x6ae8c2(0x2bd)]+_0x6ae8c2(0x83b));_0x2b1fe1+=_0x6ae8c2(0x532)+_0x1d75c6+'\x22>'+_0x22ad60[_0x6ae8c2(0x586)]+_0x6ae8c2(0x62f),_0x2b1fe1+=_0x6ae8c2(0x348)+_0x1d75c6+'\x22>'+_0x22ad60[_0x6ae8c2(0x8aa)]+_0x6ae8c2(0x62f);break;case _0x6ae8c2(0x34e):_0x2b1fe1+=_0x6ae8c2(0xba8)+_0x1d75c6+'\x22>'+(_0x1d75c6+0x1)+'.\x20'+_0x22ad60[_0x6ae8c2(0xa42)]+_0x6ae8c2(0x2b7);_0x22ad60[_0x6ae8c2(0x2bd)]&&(_0x2b1fe1+=_0x6ae8c2(0x6f6)+_0x1d75c6+_0x6ae8c2(0x54e)+_0x22ad60['imageCode']+_0x6ae8c2(0x83b));_0x2b1fe1+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x22ad60[_0x6ae8c2(0x60b)]===!![]?_0x6ae8c2(0x20b):'')+_0x6ae8c2(0x639)+(_0x22ad60[_0x6ae8c2(0x60b)]===![]?_0x6ae8c2(0x20b):'')+_0x6ae8c2(0x676),_0x2b1fe1+=_0x6ae8c2(0x348)+_0x1d75c6+'\x22>'+_0x22ad60[_0x6ae8c2(0x8aa)]+_0x6ae8c2(0x62f);break;case'fill_in_the_blank':case _0x6ae8c2(0x474):default:_0x2b1fe1+=_0x6ae8c2(0xba8)+_0x1d75c6+'\x22>'+(_0x1d75c6+0x1)+'.\x20'+_0x22ad60[_0x6ae8c2(0xa42)]+_0x6ae8c2(0x2b7);_0x22ad60[_0x6ae8c2(0x2bd)]&&(_0x2b1fe1+=_0x6ae8c2(0x6f6)+_0x1d75c6+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x22ad60[_0x6ae8c2(0x2bd)]+_0x6ae8c2(0x83b));_0x2b1fe1+=_0x6ae8c2(0x78a)+_0x1d75c6+_0x6ae8c2(0xa08)+(_0x22ad60[_0x6ae8c2(0x2e6)]||[])[_0x6ae8c2(0x928)]((_0x934649,_0x5e9295)=>_0x6ae8c2(0xa68)+(_0x5e9295===_0x22ad60['correctAnswerIndex']?_0x6ae8c2(0x20b):'')+'\x22>'+_0x934649+_0x6ae8c2(0xcff))[_0x6ae8c2(0xbe3)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>',_0x2b1fe1+=_0x6ae8c2(0x348)+_0x1d75c6+'\x22>'+_0x22ad60[_0x6ae8c2(0x8aa)]+_0x6ae8c2(0x62f);break;}_0x2b1fe1+=_0x6ae8c2(0x83b);}),_0x2b1fe1+=_0xaf9984(0x985),_0x4ae4cb[_0xaf9984(0x66e)]=_0x2b1fe1,document['querySelectorAll']('.edit-question-btn')['forEach'](_0x517416=>_0x517416['addEventListener'](_0xaf9984(0x526),handleEditQuestion)),document[_0xaf9984(0xdd7)](_0xaf9984(0xcf9))['forEach'](_0x2546d6=>_0x2546d6[_0xaf9984(0x28f)](_0xaf9984(0x526),handleRegenerateQuestion)),document[_0xaf9984(0x967)](_0xaf9984(0x617))[_0xaf9984(0x28f)]('click',exportQuizAsWorksheetPDF),document[_0xaf9984(0x967)](_0xaf9984(0x2d7))['addEventListener'](_0xaf9984(0x526),handleVerifyAnswers);const _0x646e6d=document[_0xaf9984(0x967)](_0xaf9984(0x264));if(_0x646e6d){const _0x152db1=_0x218bd9||currentProjectId;_0x646e6d[_0xaf9984(0x28f)](_0xaf9984(0x526),()=>saveQuiz(_0x152db1,_0xb535fb));}if(window[_0xaf9984(0x7a4)])window[_0xaf9984(0x7a4)][_0xaf9984(0x634)]([_0x4ae4cb]);}function handleRegenerateQuestion(_0x4154a8){const _0x200f0b=_0x4c4cf8,_0x1c0f10=_0x4154a8[_0x200f0b(0xd66)][_0x200f0b(0x305)][_0x200f0b(0x923)],_0x344278=currentQuizData['topic'];showMessage(_0x200f0b(0xad5)+(parseInt(_0x1c0f10)+0x1)+_0x200f0b(0x27c)),generateQuiz(_0x344278,null,parseInt(_0x1c0f10));}function getPointerPosition(_0x3a81e6,_0xe17316){const _0x47ead4=_0x4c4cf8,_0x376128=_0x3a81e6[_0x47ead4(0x6ca)]();let _0x279f85,_0x19add5;return _0xe17316[_0x47ead4(0x675)]&&_0xe17316['touches'][_0x47ead4(0xbe0)]>0x0?(_0x279f85=_0xe17316[_0x47ead4(0x675)][0x0]['clientX'],_0x19add5=_0xe17316[_0x47ead4(0x675)][0x0][_0x47ead4(0xb3a)]):(_0x279f85=_0xe17316[_0x47ead4(0x9e4)],_0x19add5=_0xe17316[_0x47ead4(0xb3a)]),{'x':(_0x279f85-_0x376128['e'])/_0x376128['a'],'y':(_0x19add5-_0x376128['f'])/_0x376128['d']};}function startDrag(_0x4562a5){const _0x1e4599=_0x4c4cf8;_0x4562a5[_0x1e4599(0xd44)]===_0x1e4599(0xc33)&&_0x4562a5['preventDefault']();const _0x42b56a=_0x4562a5['target'][_0x1e4599(0xbc5)]('.draggable-text');if(_0x42b56a){draggedSvgElement=_0x42b56a;const _0x416402=draggedSvgElement['ownerSVGElement'],_0x2b04ac=getPointerPosition(_0x416402,_0x4562a5);svgOffset['x']=_0x2b04ac['x']-parseFloat(draggedSvgElement[_0x1e4599(0x78f)](null,'x')),svgOffset['y']=_0x2b04ac['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x371af5,_0x11d002){const _0x28cc86=_0x4c4cf8,_0x23ba7f={};if(_0x11d002['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x1ec160=[..._0x11d002]['sort']((_0x3bda8c,_0x11de99)=>{const _0x187825=_0x3869,_0x694eef=_0x11de99[_0x187825(0xaa7)]-_0x3bda8c['latestScore'];if(_0x694eef!==0x0)return _0x694eef;const _0x2ce001=_0x3bda8c[_0x187825(0xd68)]?.[_0x187825(0xbe0)]||0x1,_0x544f2e=_0x11de99[_0x187825(0xd68)]?.['length']||0x1,_0x14bd50=_0x2ce001-_0x544f2e;if(_0x14bd50!==0x0)return _0x14bd50;const _0x50e614=new Date(_0x3bda8c[_0x187825(0x968)]),_0x21197c=new Date(_0x11de99[_0x187825(0x968)]),_0x590d56=_0x50e614-_0x21197c;if(_0x590d56!==0x0)return _0x590d56;return _0x3bda8c['studentName']['localeCompare'](_0x11de99[_0x187825(0x1fd)],'th');}),_0x57b0bb=_0x1ec160['length'],_0x5c607e=Math[_0x28cc86(0x940)](0x1,Math[_0x28cc86(0xd2a)](_0x57b0bb*0.33));if(_0x5c607e===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x2bf11e=_0x1ec160[_0x28cc86(0x732)](0x0,_0x5c607e),_0x5b585f=_0x1ec160['slice'](-_0x5c607e),_0x3bafcc=_0x2bf11e[_0x28cc86(0x928)](_0x5826be=>_0x5826be[_0x28cc86(0x1fd)]),_0x256abe=_0x5b585f[_0x28cc86(0x928)](_0x6498ac=>_0x6498ac['studentName']);return _0x371af5[_0x28cc86(0x271)][_0x28cc86(0xa3f)]((_0x326274,_0x2e7031)=>{const _0x25886c=_0x28cc86,_0x590efa=_0x326274['stem']||_0x326274[_0x25886c(0xa42)];let _0x16ad13=0x0,_0x3175b4=0x0,_0x2d3f69=0x0;const _0x546461=[],_0x2049b2=[];_0x2bf11e[_0x25886c(0xa3f)](_0x337a6a=>{const _0x453db3=_0x25886c,_0x28712b=_0x337a6a['attempts'][_0x337a6a[_0x453db3(0xd68)][_0x453db3(0xbe0)]-0x1],_0x3034ef=_0x28712b[_0x453db3(0x646)][_0x453db3(0x4c4)](_0x3d0ad=>_0x3d0ad[_0x453db3(0x540)]===_0x590efa);_0x546461[_0x453db3(0xb0e)]({'name':_0x337a6a['studentName'],'isCorrect':_0x3034ef?_0x3034ef[_0x453db3(0x4d1)]:![]}),_0x3034ef&&_0x3034ef[_0x453db3(0x4d1)]&&_0x3175b4++;}),_0x5b585f[_0x25886c(0xa3f)](_0x35f09e=>{const _0x1a2ea0=_0x25886c,_0x37fc21=_0x35f09e[_0x1a2ea0(0xd68)][_0x35f09e[_0x1a2ea0(0xd68)][_0x1a2ea0(0xbe0)]-0x1],_0x38dd7f=_0x37fc21[_0x1a2ea0(0x646)][_0x1a2ea0(0x4c4)](_0x35ac24=>_0x35ac24[_0x1a2ea0(0x540)]===_0x590efa);_0x2049b2[_0x1a2ea0(0xb0e)]({'name':_0x35f09e[_0x1a2ea0(0x1fd)],'isCorrect':_0x38dd7f?_0x38dd7f[_0x1a2ea0(0x4d1)]:![]}),_0x38dd7f&&_0x38dd7f[_0x1a2ea0(0x4d1)]&&_0x2d3f69++;}),_0x11d002[_0x25886c(0xa3f)](_0x956fda=>{const _0x518f31=_0x25886c,_0x596ae2=_0x956fda['attempts'][_0x956fda['attempts'][_0x518f31(0xbe0)]-0x1],_0x2c141c=_0x596ae2['answers'][_0x518f31(0x4c4)](_0x1c5c02=>_0x1c5c02[_0x518f31(0x540)]===_0x590efa);_0x2c141c&&_0x2c141c[_0x518f31(0x4d1)]&&_0x16ad13++;});const _0x118d0d=_0x57b0bb>0x0?_0x16ad13/_0x57b0bb:0x0,_0x8c9d96=_0x5c607e>0x0?_0x3175b4/_0x5c607e-_0x2d3f69/_0x5c607e:0x0;_0x23ba7f[_0x2e7031]={'p':_0x118d0d,'r':_0x8c9d96,'upperGroupResponders':_0x546461,'lowerGroupResponders':_0x2049b2};}),{'perQuestionStats':_0x23ba7f,'overallGroups':{'upperGroupNames':_0x3bafcc,'lowerGroupNames':_0x256abe}};}function drag(_0x364dd7){const _0x371441=_0x4c4cf8;if(draggedSvgElement){_0x364dd7['preventDefault']();const _0x3bfb42=draggedSvgElement['ownerSVGElement'],_0x1093d8=getPointerPosition(_0x3bfb42,_0x364dd7),_0x44e234=_0x3bfb42[_0x371441(0x625)]['baseVal'];let _0x1f679e=_0x1093d8['x']-svgOffset['x'],_0x495860=_0x1093d8['y']-svgOffset['y'];const _0x9cd715=draggedSvgElement[_0x371441(0x3cf)]();_0x1f679e=Math[_0x371441(0x940)](_0x44e234['x'],Math[_0x371441(0x49e)](_0x1f679e,_0x44e234['x']+_0x44e234['width']-_0x9cd715[_0x371441(0xc2a)])),_0x495860=Math[_0x371441(0x940)](_0x44e234['y'],Math[_0x371441(0x49e)](_0x495860,_0x44e234['y']+_0x44e234[_0x371441(0x761)]-_0x9cd715[_0x371441(0x761)])),draggedSvgElement[_0x371441(0x54d)](null,'x',_0x1f679e),draggedSvgElement[_0x371441(0x54d)](null,'y',_0x495860);}}function endDrag(_0x4a6313){draggedSvgElement=null;}function handleSvgEditClick(_0x43ba62){const _0x40d0e9=_0x4c4cf8;if(_0x43ba62[_0x40d0e9(0xae7)][_0x40d0e9(0x67b)][_0x40d0e9(0x8de)](_0x40d0e9(0x68b))){const _0x3a0ef9=_0x43ba62['target'][_0x40d0e9(0x305)][_0x40d0e9(0xb50)],_0x307336=_0x43ba62[_0x40d0e9(0xd66)],_0x5ef5f7=_0x307336[_0x40d0e9(0x5c7)]('#'+_0x3a0ef9);_0x5ef5f7&&_0x5ef5f7[_0x40d0e9(0x7d5)](),_0x43ba62[_0x40d0e9(0xae7)][_0x40d0e9(0x7d5)]();}}function handleEditQuestion(_0x40d098){const _0x2694d3=_0x4c4cf8,_0x3ac8c0=_0x40d098[_0x2694d3(0xd66)],_0x200b9e=_0x3ac8c0[_0x2694d3(0x305)]['index'],_0x40f459=currentQuizData[_0x2694d3(0x271)][_0x200b9e],_0x415ec2=document[_0x2694d3(0x967)](_0x2694d3(0x582)+_0x200b9e),_0x31d51f=document[_0x2694d3(0x967)](_0x2694d3(0xdd1)+_0x200b9e),_0x162c98=document[_0x2694d3(0x967)](_0x2694d3(0x6b0)+_0x200b9e);if(_0x3ac8c0[_0x2694d3(0x66e)][_0x2694d3(0xb02)](_0x2694d3(0x575))){_0x3ac8c0[_0x2694d3(0x66e)]=_0x2694d3(0xc4d),_0x3ac8c0[_0x2694d3(0xcfb)]='บันทึกการแก้ไข';if(_0x415ec2)_0x415ec2[_0x2694d3(0xc55)]=!![];if(_0x31d51f)_0x31d51f['contentEditable']=!![];if(_0x162c98){const _0x360b78=_0x162c98[_0x2694d3(0x5c7)](_0x2694d3(0xcce));if(_0x360b78){const _0x48be16=_0x360b78[_0x2694d3(0xdd7)](_0x2694d3(0x5cd));_0x48be16['forEach']((_0x3c3f6e,_0x310f98)=>{const _0x526872=_0x2694d3,_0x1349f5=_0x526872(0x6a6)+_0x200b9e+'-'+_0x310f98;_0x3c3f6e['id']=_0x1349f5,_0x3c3f6e[_0x526872(0x67b)][_0x526872(0x602)](_0x526872(0xcb9)),_0x3c3f6e[_0x526872(0xa49)][_0x526872(0x2e5)]=_0x526872(0x318);const _0x3e32e9=document[_0x526872(0x36c)](_0x526872(0xce3),_0x526872(0xd2b)),_0x116a89=_0x3c3f6e['getBBox']();_0x3e32e9[_0x526872(0x85a)]('cx',String(_0x116a89['x']+_0x116a89[_0x526872(0xc2a)]+0x5)),_0x3e32e9[_0x526872(0x85a)]('cy',String(_0x116a89['y']+_0x116a89[_0x526872(0x761)]/0x2-0x5)),_0x3e32e9[_0x526872(0x85a)]('r','5'),_0x3e32e9[_0x526872(0x85a)](_0x526872(0xbde),_0x526872(0x577)),_0x3e32e9[_0x526872(0x85a)](_0x526872(0x4d3),_0x526872(0x68b)),_0x3e32e9[_0x526872(0x305)][_0x526872(0xb50)]=_0x1349f5,_0x3c3f6e[_0x526872(0x290)](_0x3e32e9);}),_0x360b78[_0x2694d3(0x28f)](_0x2694d3(0x338),startDrag),_0x360b78[_0x2694d3(0x28f)](_0x2694d3(0xaff),drag),_0x360b78['addEventListener'](_0x2694d3(0xb16),endDrag),_0x360b78[_0x2694d3(0x28f)]('mouseleave',endDrag),_0x360b78[_0x2694d3(0x28f)](_0x2694d3(0xc33),startDrag,{'passive':![]}),_0x360b78[_0x2694d3(0x28f)](_0x2694d3(0x75d),drag,{'passive':![]}),_0x360b78[_0x2694d3(0x28f)](_0x2694d3(0xc98),endDrag),_0x360b78[_0x2694d3(0x28f)](_0x2694d3(0x7fa),endDrag),_0x360b78[_0x2694d3(0x28f)]('click',handleSvgEditClick);}}if(_0x415ec2)_0x415ec2[_0x2694d3(0x44f)]();}else{_0x3ac8c0[_0x2694d3(0x66e)]=_0x2694d3(0x644),_0x3ac8c0[_0x2694d3(0xcfb)]=_0x2694d3(0xc84);if(_0x415ec2){_0x415ec2['contentEditable']=![];const _0x2a227f=_0x40f459[_0x2694d3(0x252)]||currentQuizData[_0x2694d3(0xa28)];_0x2a227f===_0x2694d3(0xa02)?_0x40f459[_0x2694d3(0xcc5)]=_0x415ec2['innerText'][_0x2694d3(0xba9)](_0x415ec2[_0x2694d3(0x54c)][_0x2694d3(0xbf6)]('.')+0x2)[_0x2694d3(0x46b)]():_0x40f459[_0x2694d3(0xa42)]=_0x415ec2[_0x2694d3(0x54c)]['substring'](_0x415ec2[_0x2694d3(0x54c)]['indexOf']('.')+0x2)['trim']();}_0x31d51f&&(_0x31d51f[_0x2694d3(0xc55)]=![],_0x40f459[_0x2694d3(0x8aa)]=_0x31d51f[_0x2694d3(0x54c)]);if(_0x162c98){const _0xc27fa3=_0x162c98[_0x2694d3(0x5c7)](_0x2694d3(0xcce));if(_0xc27fa3){const _0x4263aa=_0xc27fa3[_0x2694d3(0x812)](!![]);_0x4263aa[_0x2694d3(0xdd7)]('.delete-svg-btn')[_0x2694d3(0xa3f)](_0xfd86a0=>_0xfd86a0[_0x2694d3(0x7d5)]()),_0x4263aa[_0x2694d3(0xdd7)](_0x2694d3(0xc09))[_0x2694d3(0xa3f)](_0xc976e5=>{const _0x243cf5=_0x2694d3;_0xc976e5[_0x243cf5(0x67b)][_0x243cf5(0x7d5)](_0x243cf5(0xcb9)),_0xc976e5[_0x243cf5(0xa49)][_0x243cf5(0x2e5)]=_0x243cf5(0xaca),_0xc976e5[_0x243cf5(0x5af)]('id');}),_0x40f459[_0x2694d3(0x2bd)]=_0x4263aa['outerHTML'],_0xc27fa3[_0x2694d3(0x965)](_0x2694d3(0x338),startDrag),_0xc27fa3[_0x2694d3(0x965)](_0x2694d3(0xaff),drag),_0xc27fa3[_0x2694d3(0x965)](_0x2694d3(0xb16),endDrag),_0xc27fa3[_0x2694d3(0x965)]('mouseleave',endDrag),_0xc27fa3['removeEventListener'](_0x2694d3(0xc33),startDrag),_0xc27fa3[_0x2694d3(0x965)](_0x2694d3(0x75d),drag),_0xc27fa3[_0x2694d3(0x965)]('touchend',endDrag),_0xc27fa3[_0x2694d3(0x965)](_0x2694d3(0x7fa),endDrag),_0xc27fa3['removeEventListener'](_0x2694d3(0x526),handleSvgEditClick),_0xc27fa3[_0x2694d3(0xdd7)]('.delete-svg-btn')['forEach'](_0x172c67=>_0x172c67[_0x2694d3(0x7d5)]()),_0xc27fa3['querySelectorAll'](_0x2694d3(0xc09))[_0x2694d3(0xa3f)](_0x333218=>{const _0x3b79b=_0x2694d3;_0x333218[_0x3b79b(0x67b)][_0x3b79b(0x7d5)](_0x3b79b(0xcb9)),_0x333218[_0x3b79b(0xa49)][_0x3b79b(0x2e5)]=_0x3b79b(0xaca);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x4f83aa){const _0x22c44d=_0x4c4cf8,_0x5ea487=document[_0x22c44d(0x967)](_0x22c44d(0x238)),_0x2c28b9=document[_0x22c44d(0x967)](_0x22c44d(0x924));_0x2c28b9[_0x22c44d(0x66e)]=_0x22c44d(0x7a8),_0x5ea487[_0x22c44d(0x67b)][_0x22c44d(0x7d5)](_0x22c44d(0x75c));try{const _0x51b693=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x4f83aa),_0x2c8fcd=await getDoc(_0x51b693);if(!_0x2c8fcd['exists']())throw new Error(_0x22c44d(0xc18));currentEditingQuizData={'id':_0x4f83aa,..._0x2c8fcd[_0x22c44d(0x6bc)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x1b9927){console[_0x22c44d(0x3f6)](_0x22c44d(0xd58),_0x1b9927),showMessage('เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ'),_0x5ea487[_0x22c44d(0x67b)]['add']('hidden');}}function renderQuizEditor(_0x1e30f7){const _0x1156d6=_0x4c4cf8;document[_0x1156d6(0x967)](_0x1156d6(0xdc6))[_0x1156d6(0x734)]=_0x1e30f7[_0x1156d6(0x3e7)];const _0x3aeacb=document[_0x1156d6(0x967)](_0x1156d6(0x924));let _0x4fe8b4=_0x1e30f7[_0x1156d6(0x271)]['map']((_0x31471e,_0x2c535a)=>{const _0x54bdd6=_0x1156d6;let _0x2be407='';const _0x54d3b7=_0x31471e[_0x54bdd6(0x252)]||_0x1e30f7[_0x54bdd6(0xa28)];switch(_0x54d3b7){case'multiple_choice':const _0x4c021f=(_0x31471e[_0x54bdd6(0x2e6)]||[])[_0x54bdd6(0x928)]((_0x367af6,_0x4eea95)=>_0x54bdd6(0x87a)+_0x2c535a+_0x54bdd6(0x76f)+_0x4eea95+'\x22\x20'+(_0x4eea95===_0x31471e[_0x54bdd6(0x4e7)]?_0x54bdd6(0x4c6):'')+_0x54bdd6(0x523)+_0x367af6+_0x54bdd6(0x472))[_0x54bdd6(0xbe3)]('');_0x2be407=_0x54bdd6(0x550)+_0x4c021f+_0x54bdd6(0xb8e);break;case _0x54bdd6(0xa9d):_0x2be407=_0x54bdd6(0x7aa)+(_0x31471e['idealAnswer']||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x54bdd6(0x34e):_0x2be407=_0x54bdd6(0x6dd)+_0x2c535a+_0x54bdd6(0x314)+(_0x31471e[_0x54bdd6(0x60b)]===!![]?'checked':'')+_0x54bdd6(0xdd8)+_0x2c535a+_0x54bdd6(0x9d4)+(_0x31471e[_0x54bdd6(0x60b)]===![]?_0x54bdd6(0x4c6):'')+_0x54bdd6(0x496);break;case'matching_item':_0x2be407='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x31471e[_0x54bdd6(0x99f)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}let _0x2db034=_0x31471e[_0x54bdd6(0xa42)]||_0x31471e[_0x54bdd6(0xcc5)]||'';return _0x2db034=_0x2db034['replace'](/<br\s*\/?>/gi,'\x0a'),_0x54bdd6(0xd5f)+_0x2c535a+_0x54bdd6(0x4e0)+_0x54d3b7+'\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20'+(_0x2c535a+0x1)+'\x20('+_0x54d3b7+'):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>'+_0x2db034+'</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>'+_0x2be407+'</div>\x0a</div>\x0a';})[_0x1156d6(0xbe3)]('');_0x3aeacb[_0x1156d6(0x66e)]=_0x4fe8b4;const _0x48ed02=_0x1156d6(0x939);_0x3aeacb[_0x1156d6(0x98b)]('beforeend',_0x48ed02),_0x3aeacb['querySelectorAll']('.auto-resize-textarea')[_0x1156d6(0xa3f)](_0xd2ee52=>{const _0x2dc618=_0x1156d6;_0xd2ee52[_0x2dc618(0xa49)][_0x2dc618(0xab3)]='hidden',_0xd2ee52[_0x2dc618(0xa49)][_0x2dc618(0x976)]=_0x2dc618(0x8f6),_0xd2ee52[_0x2dc618(0x796)]=0x4;const _0x1f1188=()=>{const _0x3f0add=_0x2dc618;_0xd2ee52['style'][_0x3f0add(0x761)]=_0x3f0add(0x20d),_0xd2ee52[_0x3f0add(0xa49)]['height']=_0xd2ee52[_0x3f0add(0xdd2)]+'px';};_0xd2ee52[_0x2dc618(0x28f)](_0x2dc618(0x4cd),_0x1f1188),_0x1f1188();}),_0x3aeacb[_0x1156d6(0xdd7)](_0x1156d6(0x846))['forEach'](_0x2d374e=>{const _0x3f2537=_0x1156d6;_0x2d374e[_0x3f2537(0x28f)](_0x3f2537(0x526),handleAiFixQuestion);});}function handleDeleteQuestionInEditor(_0x45f76a){const _0x634b99=_0x4c4cf8;if(!currentEditingQuizData||!currentEditingQuizData[_0x634b99(0x271)][_0x45f76a])return;const _0x594533=currentEditingQuizData['questions'][_0x45f76a][_0x634b99(0xa42)]||currentEditingQuizData[_0x634b99(0x271)][_0x45f76a]['stem'];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20'+(_0x45f76a+0x1)+'\x20(\x22'+_0x594533[_0x634b99(0xba9)](0x0,0x14)+_0x634b99(0x9a5),()=>{const _0x4925be=_0x634b99;currentEditingQuizData[_0x4925be(0x271)]['splice'](_0x45f76a,0x1),renderQuizEditor(currentEditingQuizData),showMessage('ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)');});}function handleAddQuestionInEditor(){const _0x29f3eb=_0x4c4cf8;if(!currentEditingQuizData)return;const _0x518693={'id':'q_'+Date['now']()+_0x29f3eb(0xac2),'questionType':'multiple_choice','questionText':_0x29f3eb(0xc89),'options':[_0x29f3eb(0xc10),'ตัวเลือก\x20ข',_0x29f3eb(0x8cf),_0x29f3eb(0x89b)],'correctAnswerIndex':0x0,'explanation':'คำอธิบาย...'};currentEditingQuizData['questions'][_0x29f3eb(0xb0e)](_0x518693),renderQuizEditor(currentEditingQuizData);const _0x449b63=document[_0x29f3eb(0x5c7)](_0x29f3eb(0xbf5));_0x449b63&&(_0x449b63[_0x29f3eb(0x80c)]({'behavior':_0x29f3eb(0xc8f),'block':_0x29f3eb(0x40c)}),_0x449b63[_0x29f3eb(0x5c7)](_0x29f3eb(0x4a9))[_0x29f3eb(0x44f)]());}async function handleAiFixQuestion(_0x352c71){const _0x1cd14c=_0x4c4cf8,_0x5c7d91=_0x352c71['currentTarget'],_0x53001c=_0x5c7d91[_0x1cd14c(0xbc5)]('.question-editor-item');if(!_0x53001c)return;const _0x401d5f=parseInt(_0x53001c[_0x1cd14c(0x305)][_0x1cd14c(0xbf8)],0xa);if(isNaN(_0x401d5f)||!currentEditingQuizData[_0x1cd14c(0x271)][_0x401d5f]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x111f5b=currentEditingQuizData[_0x1cd14c(0x271)][_0x401d5f];_0x5c7d91[_0x1cd14c(0x66e)]=_0x1cd14c(0xa04),_0x5c7d91[_0x1cd14c(0x367)]=!![];const _0x140294=_0x1cd14c(0x319)+JSON[_0x1cd14c(0xa88)](_0x111f5b)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20';let _0x1be52e;const _0x5c1256=_0x111f5b['questionType']||currentEditingQuizData[_0x1cd14c(0xa28)];switch(_0x5c1256){case _0x1cd14c(0xa9d):_0x1be52e={'type':_0x1cd14c(0x8b8),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x1cd14c(0x3db)},'imageCode':{'type':_0x1cd14c(0x3db)}},'required':[_0x1cd14c(0xa42),'idealAnswer',_0x1cd14c(0x8aa)]};break;case _0x1cd14c(0x474):default:_0x1be52e={'type':'OBJECT','properties':{'questionText':{'type':_0x1cd14c(0x3db)},'options':{'type':_0x1cd14c(0x34a),'items':{'type':_0x1cd14c(0x3db)}},'correctAnswerIndex':{'type':_0x1cd14c(0xbad)},'explanation':{'type':_0x1cd14c(0x3db)},'imageCode':{'type':_0x1cd14c(0x3db)}},'required':[_0x1cd14c(0xa42),'options',_0x1cd14c(0x4e7),_0x1cd14c(0x8aa)]};break;}try{let _0x55bf2e=await callAnalysisApi(_0x140294,_0x1be52e);_0x55bf2e['options']&&Array['isArray'](_0x55bf2e[_0x1cd14c(0x2e6)])&&(_0x55bf2e['options']=_0x55bf2e[_0x1cd14c(0x2e6)][_0x1cd14c(0x928)](_0x59fdaa=>typeof _0x59fdaa==='string'?_0x59fdaa[_0x1cd14c(0x528)](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0x59fdaa)),_0x111f5b[_0x1cd14c(0x2bd)]&&_0x111f5b[_0x1cd14c(0x2bd)][_0x1cd14c(0xb02)](_0x1cd14c(0x222))&&(_0x55bf2e[_0x1cd14c(0x2bd)]=''),currentEditingQuizData['questions'][_0x401d5f]={..._0x111f5b,..._0x55bf2e},renderQuizEditor(currentEditingQuizData),showMessage(_0x1cd14c(0x63e));}catch(_0x33b1a5){console[_0x1cd14c(0x3f6)](_0x1cd14c(0xa22),_0x33b1a5),showMessage(_0x1cd14c(0x672)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x275c48=_0x4c4cf8,_0x52e52c=document[_0x275c48(0x967)](_0x275c48(0x1f3));_0x52e52c['disabled']=!![],_0x52e52c['innerHTML']=_0x275c48(0x4d6);try{const _0x59fce5=document[_0x275c48(0x967)](_0x275c48(0xdc6))[_0x275c48(0x734)],_0x28139d=document[_0x275c48(0xdd7)]('.question-editor-item');let _0x44a554=[];const _0x59ef63=Array['from'](_0x28139d)[_0x275c48(0x928)]((_0x4f7970,_0x168c90)=>{const _0x2e388d=_0x275c48,_0x4a9ce1=_0x4f7970['dataset'][_0x2e388d(0x4a3)],_0x1197a1=_0x4f7970['querySelector'](_0x2e388d(0x4a9))[_0x2e388d(0x734)][_0x2e388d(0x528)](/\n/g,_0x2e388d(0x823));let _0x520fae={'questionType':_0x4a9ce1};const _0x49b472=currentEditingQuizData[_0x2e388d(0x271)][_0x168c90];switch(_0x4a9ce1){case _0x2e388d(0x474):_0x520fae[_0x2e388d(0xa42)]=_0x1197a1;const _0x825a90=_0x4f7970[_0x2e388d(0xdd7)](_0x2e388d(0xc38));_0x520fae[_0x2e388d(0x2e6)]=Array[_0x2e388d(0xa4f)](_0x825a90)[_0x2e388d(0x928)](_0x504228=>_0x504228[_0x2e388d(0x734)]);const _0x37fd97=_0x4f7970[_0x2e388d(0x5c7)](_0x2e388d(0xc83));_0x520fae[_0x2e388d(0x4e7)]=_0x37fd97?parseInt(_0x37fd97[_0x2e388d(0x734)]):0x0;break;case _0x2e388d(0xa9d):_0x520fae['questionText']=_0x1197a1,_0x520fae[_0x2e388d(0x586)]=_0x4f7970[_0x2e388d(0x5c7)](_0x2e388d(0x786))[_0x2e388d(0x734)];break;case _0x2e388d(0x34e):_0x520fae[_0x2e388d(0xa42)]=_0x1197a1;const _0x45600f=_0x4f7970[_0x2e388d(0x5c7)](_0x2e388d(0xc83));_0x520fae[_0x2e388d(0x60b)]=_0x45600f?_0x45600f[_0x2e388d(0x734)]===_0x2e388d(0x75e):!![];break;case _0x2e388d(0xa02):_0x520fae[_0x2e388d(0xcc5)]=_0x1197a1;const _0x406572=_0x4f7970[_0x2e388d(0x5c7)](_0x2e388d(0x262));_0x520fae['correctResponse']=_0x406572?_0x406572[_0x2e388d(0x734)]:'',_0x44a554['push'](_0x520fae[_0x2e388d(0x99f)]);break;default:_0x520fae[_0x2e388d(0xa42)]=_0x1197a1;break;}return{..._0x49b472,..._0x520fae};});_0x44a554[_0x275c48(0xbe0)]>0x0&&_0x59ef63[_0x275c48(0xa3f)](_0x39d327=>{const _0x372409=_0x275c48;_0x39d327[_0x372409(0x252)]===_0x372409(0xa02)&&(_0x39d327[_0x372409(0x541)]=_0x44a554);});const _0x28d42b=currentEditingQuizData['id'],_0x19f9eb=doc(db,_0x275c48(0x4e9)+appId+'/public/data/quizzes',_0x28d42b);await updateDoc(_0x19f9eb,{'topic':_0x59fce5,'questions':_0x59ef63}),document['getElementById']('quiz-editor-modal')[_0x275c48(0x67b)][_0x275c48(0x602)](_0x275c48(0x75c)),showMessage('บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...',()=>initiateReGradeProcess(_0x28d42b));}catch(_0xaa38be){console[_0x275c48(0x3f6)]('Error\x20saving\x20quiz\x20edits:',_0xaa38be),showMessage(_0x275c48(0x843));}finally{_0x52e52c['disabled']=![],_0x52e52c['innerHTML']=_0x275c48(0x757);}}async function initiateReGradeProcess(_0x127479){const _0x2f2d93=_0x4c4cf8;showMessage(_0x2f2d93(0x333));try{const _0x1dcdff=doc(db,_0x2f2d93(0x4e9)+appId+'/public/data/quizzes',_0x127479),_0x985f64=await getDoc(_0x1dcdff);if(!_0x985f64[_0x2f2d93(0x78d)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x13a3a0={'id':_0x127479,..._0x985f64[_0x2f2d93(0x6bc)]()},_0x10a963=collection(db,_0x2f2d93(0x4e9)+appId+'/public/data/quizzes',_0x127479,_0x2f2d93(0x834)),_0x2829d9=await getDocs(_0x10a963);if(_0x2829d9[_0x2f2d93(0x711)]){showMessage('ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่');return;}const _0xcf0718=_0x2829d9['docs'][_0x2f2d93(0x928)](_0x380d6c=>reGradeSingleSubmission(_0x380d6c,_0x13a3a0));await Promise['all'](_0xcf0718);if(_0x13a3a0[_0x2f2d93(0x6fe)]){const _0x38af21=doc(db,'artifacts/'+appId+_0x2f2d93(0x9f8),_0x13a3a0[_0x2f2d93(0x6fe)]),_0x5527e7=await getDoc(_0x38af21);if(_0x5527e7[_0x2f2d93(0x78d)]()&&_0x5527e7[_0x2f2d93(0x6bc)]()[_0x2f2d93(0x547)]){const _0x28d799=_0x5527e7[_0x2f2d93(0x6bc)]()[_0x2f2d93(0x547)][_0x2f2d93(0x928)](_0x94a688=>updateStudentProfile(_0x13a3a0['projectId'],_0x94a688));await Promise['all'](_0x28d799);}}showMessage(_0x2f2d93(0xa51)+_0x2829d9[_0x2f2d93(0x2e4)]+_0x2f2d93(0x3e1));}catch(_0x114cd9){console[_0x2f2d93(0x3f6)]('Re-grade\x20process\x20failed:',_0x114cd9),showMessage(_0x2f2d93(0x482)+_0x114cd9['message']);}}async function reGradeSingleSubmission(_0x2a8994,_0x395d5b){const _0x5070c6=_0x4c4cf8,_0x47ec0e=_0x2a8994[_0x5070c6(0x6bc)](),_0x3daa39=_0x47ec0e[_0x5070c6(0x1fd)],_0x152de0=_0x47ec0e['attempts']||[],_0x1e5590=[];for(const _0x1ff871 of _0x152de0){let _0x56a6a4=0x0,_0x419df3=[],_0x252397=0x0;const _0x238f7a=[];for(const _0xd4f3ac of _0x1ff871[_0x5070c6(0x646)]){let _0x205ee4;_0xd4f3ac[_0x5070c6(0xbfb)]&&(_0x205ee4=_0x395d5b[_0x5070c6(0x271)][_0x5070c6(0x4c4)](_0xd88653=>_0xd88653['id']===_0xd4f3ac[_0x5070c6(0xbfb)]));!_0x205ee4&&_0xd4f3ac[_0x5070c6(0x540)]&&(_0x205ee4=_0x395d5b[_0x5070c6(0x271)][_0x5070c6(0x4c4)](_0x55f9ad=>(_0x55f9ad[_0x5070c6(0xcc5)]||_0x55f9ad[_0x5070c6(0xa42)])===_0xd4f3ac['originalQuestionText']));let _0x1792cc=![];if(_0x205ee4){const _0x5a66e5=_0x205ee4[_0x5070c6(0x252)]||_0x395d5b[_0x5070c6(0xa28)];switch(_0x5a66e5){case _0x5070c6(0x474):if(_0x205ee4[_0x5070c6(0x2e6)]&&_0x205ee4[_0x5070c6(0x4e7)]<_0x205ee4[_0x5070c6(0x2e6)][_0x5070c6(0xbe0)]){const _0x50b82c=_0x205ee4[_0x5070c6(0x2e6)][_0x205ee4[_0x5070c6(0x4e7)]];_0x1792cc=_0xd4f3ac[_0x5070c6(0x2eb)]===_0x50b82c;}break;case _0x5070c6(0x34e):const _0x543931=_0xd4f3ac[_0x5070c6(0x422)]===!![]||_0xd4f3ac[_0x5070c6(0x422)]==='true';_0x1792cc=_0x543931===_0x205ee4[_0x5070c6(0x60b)];break;case _0x5070c6(0xa02):_0x1792cc=_0xd4f3ac[_0x5070c6(0x422)]===_0x205ee4[_0x5070c6(0x99f)];break;case _0x5070c6(0xa9d):_0x1792cc=await gradeShortAnswer(_0xd4f3ac[_0x5070c6(0x422)],_0x205ee4);break;default:_0x1792cc=_0xd4f3ac['isCorrect'];break;}}if(_0x1792cc){_0x56a6a4++,_0x252397++;if(_0x252397===0x3)_0x419df3[_0x5070c6(0xb0e)](BADGES[_0x5070c6(0xacb)]['id']);}else _0x252397=0x0;_0x238f7a[_0x5070c6(0xb0e)]({..._0xd4f3ac,'isCorrect':_0x1792cc});}let _0x59d22c=_0x56a6a4*0xa;_0x56a6a4===_0x395d5b[_0x5070c6(0x271)][_0x5070c6(0xbe0)]&&(_0x59d22c+=0x32,_0x419df3['push'](BADGES[_0x5070c6(0xb9c)]['id'])),_0x1e5590['push']({..._0x1ff871,'score':_0x56a6a4,'points':_0x59d22c,'badges':Array[_0x5070c6(0xa4f)](new Set(_0x419df3)),'answers':_0x238f7a});}const _0x5c8608=_0x1e5590[_0x5070c6(0xbe0)]>0x0?_0x1e5590[0x0][_0x5070c6(0x53c)]:0x0,_0x1589c0=Math[_0x5070c6(0x940)](..._0x1e5590[_0x5070c6(0x928)](_0x4a5ba1=>_0x4a5ba1['score'])),_0x5e2e5c=_0x1e5590[_0x5070c6(0xbe0)]>0x0?_0x1e5590[_0x1e5590[_0x5070c6(0xbe0)]-0x1][_0x5070c6(0x53c)]:0x0,_0x523d94=_0x1e5590['length']>0x0?_0x1e5590[_0x1e5590[_0x5070c6(0xbe0)]-0x1]['points']:0x0,_0x13b0a6=doc(db,'artifacts/'+appId+_0x5070c6(0x868)+_0x395d5b['id']+_0x5070c6(0xa24),_0x3daa39);await updateDoc(_0x13b0a6,{'attempts':_0x1e5590,'firstScore':_0x5c8608,'bestScore':_0x1589c0,'latestScore':_0x5e2e5c,'points':_0x523d94});}function cleanupQuizOptions(_0x271513){const _0x12009d=_0x4c4cf8,_0x1210e9=(_0x5520a8,_0x4bb037)=>_0x4bb037===0x0?_0x5520a8:_0x1210e9(_0x4bb037,_0x5520a8%_0x4bb037),_0xe22aa4=_0x52ce81=>{const _0x25e12c=_0x3869;if(typeof _0x52ce81!==_0x25e12c(0xd59))return null;_0x52ce81=_0x52ce81[_0x25e12c(0x46b)]();const _0x4273ca=_0x52ce81[_0x25e12c(0xb7c)](/[ /]/)[_0x25e12c(0x3d0)](_0x31139f=>_0x31139f!=='');if(_0x4273ca[_0x25e12c(0xbe0)]===0x3)return parseInt(_0x4273ca[0x0])+parseInt(_0x4273ca[0x1])/parseInt(_0x4273ca[0x2]);else{if(_0x4273ca[_0x25e12c(0xbe0)]===0x2)return parseInt(_0x4273ca[0x0])/parseInt(_0x4273ca[0x1]);else{if(_0x4273ca[_0x25e12c(0xbe0)]===0x1&&!isNaN(_0x4273ca[0x0]))return parseFloat(_0x4273ca[0x0]);}}return null;},_0x514549=_0x5a3d62=>{const _0x29c223=_0x3869;if(typeof _0x5a3d62!==_0x29c223(0xd59))return _0x5a3d62;const _0x448ca1=_0x5a3d62['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x448ca1){const _0x258e73=parseInt(_0x448ca1[0x1]);let _0x4ed638=parseInt(_0x448ca1[0x2]),_0x53016c=parseInt(_0x448ca1[0x3]);const _0x1f5ad7=_0x1210e9(_0x4ed638,_0x53016c);_0x4ed638/=_0x1f5ad7,_0x53016c/=_0x1f5ad7;if(_0x53016c===0x1)return(_0x258e73+_0x4ed638)[_0x29c223(0x2f2)]();return _0x258e73+'\x20'+_0x4ed638+'/'+_0x53016c;}return _0x5a3d62;};return _0x271513&&_0x271513[_0x12009d(0x271)]&&_0x271513[_0x12009d(0x271)][_0x12009d(0xa3f)](_0x23bcd8=>{const _0x4f33f3=_0x12009d;if(_0x23bcd8[_0x4f33f3(0x252)]===_0x4f33f3(0x474)&&_0x23bcd8[_0x4f33f3(0x2e6)]){const _0x365617=new Map(),_0x97ef4e=_0x23bcd8[_0x4f33f3(0x2e6)][_0x23bcd8[_0x4f33f3(0x4e7)]];_0x23bcd8['options'][_0x4f33f3(0xa3f)](_0x2b9366=>{const _0x3b71e9=_0x4f33f3,_0x5c00b4=_0x514549(_0x2b9366),_0x2dc940=_0xe22aa4(_0x5c00b4);_0x2dc940!==null&&!_0x365617['has'](_0x2dc940)&&_0x365617[_0x3b71e9(0x8ff)](_0x2dc940,_0x5c00b4);}),_0x23bcd8[_0x4f33f3(0x2e6)]=Array['from'](_0x365617[_0x4f33f3(0x8c3)]());const _0x56046c=_0x23bcd8[_0x4f33f3(0x2e6)]['findIndex'](_0xf1bec3=>_0xf1bec3===_0x514549(_0x97ef4e));_0x23bcd8['correctAnswerIndex']=_0x56046c!==-0x1?_0x56046c:0x0;}}),_0x271513;}function showGameStartConfirmationModal(_0x24abbc,_0x373f33,_0x1041ae){const _0x53bbc3=_0x4c4cf8,_0x25541f=document['getElementById'](_0x53bbc3(0xbbb));document['getElementById'](_0x53bbc3(0xd12))[_0x53bbc3(0xb9a)]=_0x53bbc3(0xa17)+_0x1041ae,document[_0x53bbc3(0x967)](_0x53bbc3(0xca3))[_0x53bbc3(0x734)]=_0x24abbc,document[_0x53bbc3(0x967)](_0x53bbc3(0x949))[_0x53bbc3(0x734)]=_0x373f33,document[_0x53bbc3(0x967)](_0x53bbc3(0x3de))[_0x53bbc3(0x4c6)]=!![];const _0x201e52=document[_0x53bbc3(0x967)]('sync-variant-selector');_0x373f33==='sync'?(_0x201e52[_0x53bbc3(0x67b)][_0x53bbc3(0x7d5)](_0x53bbc3(0x75c)),document[_0x53bbc3(0x5c7)]('input[name=\x22syncVariant\x22][value=\x22classic\x22]')[_0x53bbc3(0x4c6)]=!![]):_0x201e52[_0x53bbc3(0x67b)][_0x53bbc3(0x602)](_0x53bbc3(0x75c)),_0x25541f[_0x53bbc3(0x67b)][_0x53bbc3(0x7d5)]('hidden');}async function saveGameResultsAsSubmissions(_0x2eed3e){const _0x4bdef1=_0x4c4cf8;console[_0x4bdef1(0xdea)]('Attempting\x20to\x20save\x20game\x20results...',_0x2eed3e);const _0x2df0f0=_0x2eed3e[_0x4bdef1(0x519)];let _0x5171ec=[];if(_0x2eed3e['players'])_0x5171ec=Object['entries'](_0x2eed3e[_0x4bdef1(0x3c8)])[_0x4bdef1(0x928)](([_0x492c60,_0x553fe0])=>({'name':_0x492c60,..._0x553fe0}));else{if(_0x2eed3e[_0x4bdef1(0xc96)])Object['values'](_0x2eed3e[_0x4bdef1(0xc96)])[_0x4bdef1(0xa3f)](_0x11fa4b=>{const _0x56f22f=_0x4bdef1;_0x11fa4b[_0x56f22f(0xd71)][_0x56f22f(0xa3f)](_0x211a65=>{const _0x291926=_0x56f22f;_0x5171ec[_0x291926(0xb0e)]({'name':_0x211a65,'score':_0x11fa4b[_0x291926(0x53c)],'answers':_0x11fa4b[_0x291926(0x646)]});});});else _0x2eed3e[_0x4bdef1(0x640)]&&Object['entries'](_0x2eed3e['responses'])[_0x4bdef1(0xa3f)](([_0x4955d6,_0x1f43b9])=>{const _0x52a584=_0x4bdef1;_0x5171ec[_0x52a584(0xb0e)]({'name':_0x4955d6,..._0x1f43b9});});}if(_0x5171ec[_0x4bdef1(0xbe0)]===0x0){console[_0x4bdef1(0xdea)](_0x4bdef1(0x1e1));return;}const _0x5f4f1a=_0x2eed3e['shuffledQuiz']?.['questions'][_0x4bdef1(0xbe0)]||currentQuizData[_0x4bdef1(0x271)][_0x4bdef1(0xbe0)],_0x4fc843=writeBatch(db);for(const _0x702469 of _0x5171ec){const _0x62f39a=doc(db,_0x4bdef1(0x4e9)+appId+_0x4bdef1(0x868)+_0x2df0f0+_0x4bdef1(0xa24),_0x702469['name']),_0x320508=(_0x702469[_0x4bdef1(0x646)]||[])[_0x4bdef1(0x3d0)](_0x7268eb=>_0x7268eb[_0x4bdef1(0x4d1)])[_0x4bdef1(0xbe0)];let _0x227bba=_0x320508;_0x2eed3e[_0x4bdef1(0x8dd)]&&_0x702469[_0x4bdef1(0x646)]&&_0x702469[_0x4bdef1(0x646)][_0x4bdef1(0xa3f)](_0x3e1de5=>{const _0x30994f=_0x4bdef1;if(_0x3e1de5[_0x30994f(0x4d1)]&&(_0x3e1de5[_0x30994f(0xd3e)]===!![]||_0x3e1de5[_0x30994f(0xd3e)]==='confident'))_0x227bba+=0x1;else!_0x3e1de5[_0x30994f(0x4d1)]&&(_0x3e1de5[_0x30994f(0xd3e)]===!![]||_0x3e1de5[_0x30994f(0xd3e)]===_0x30994f(0xc0a))&&(_0x227bba-=0x1);});_0x5f4f1a>0x0&&_0x320508===_0x5f4f1a&&(_0x227bba+=0x1);const _0x322fde={'score':_0x320508,'points':_0x227bba,'badges':_0x702469[_0x4bdef1(0xc97)]||[],'submittedAt':new Date()['toISOString'](),'answers':(_0x702469[_0x4bdef1(0x646)]||[])[_0x4bdef1(0x928)](_0x371898=>({'questionId':_0x371898[_0x4bdef1(0xbfb)],'answer':_0x371898[_0x4bdef1(0x422)],'answerText':_0x371898[_0x4bdef1(0x2eb)],'isCorrect':_0x371898[_0x4bdef1(0x4d1)],'originalQuestionText':_0x371898[_0x4bdef1(0x540)],'wasConfident':_0x371898[_0x4bdef1(0xd3e)]}))},_0x14b48f=await getDoc(_0x62f39a),_0xc5e342=_0x14b48f[_0x4bdef1(0x78d)]()?_0x14b48f[_0x4bdef1(0x6bc)]():{},_0xd0385e=_0xc5e342['bestScore']||0x0,_0x3a862a=_0xc5e342[_0x4bdef1(0xd68)]||[],_0xb63819={'studentName':_0x702469[_0x4bdef1(0x7e7)],'totalQuestions':_0x5f4f1a,'attempts':arrayUnion(_0x322fde),'latestScore':_0x320508,'points':_0x227bba,'latestSubmittedAt':_0x322fde['submittedAt'],'bestScore':Math['max'](_0xd0385e,_0x320508),'firstScore':_0x3a862a[_0x4bdef1(0xbe0)]===0x0?_0x320508:_0xc5e342[_0x4bdef1(0xaa4)]||0x0};_0x4fc843[_0x4bdef1(0x8ff)](_0x62f39a,_0xb63819,{'merge':!![]});}try{await _0x4fc843[_0x4bdef1(0xdc7)](),showMessage(_0x4bdef1(0x506)+_0x5171ec[_0x4bdef1(0xbe0)]+_0x4bdef1(0x40d));const _0x390c46=_0x2eed3e['shuffledQuiz']?.[_0x4bdef1(0x6fe)]||currentQuizData?.[_0x4bdef1(0x6fe)]||currentProjectId;if(_0x390c46){const _0xcb97af=[...new Set(_0x5171ec[_0x4bdef1(0x928)](_0x1f53de=>_0x1f53de[_0x4bdef1(0x7e7)]))];for(const _0x2f256a of _0xcb97af){await updateStudentProfile(_0x390c46,_0x2f256a);}}}catch(_0x23b47f){console[_0x4bdef1(0x3f6)](_0x4bdef1(0x937),_0x23b47f),showMessage(_0x4bdef1(0xc39));}}async function saveQuiz(_0x243787=null,_0x13161b=null){const _0xb8ee82=_0x4c4cf8,_0x53ee02=_0x243787||currentProjectId;if(!_0x53ee02){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0xb8ee82(0xc17));return;}const _0x46497c=document[_0xb8ee82(0x967)]('save-quiz-btn');_0x46497c['disabled']=!![],_0x46497c[_0xb8ee82(0x66e)]=_0xb8ee82(0x4d6);const _0x5844bf=document[_0xb8ee82(0x967)](_0xb8ee82(0xa2a))[_0xb8ee82(0x4c6)];let _0x22a9fe=document[_0xb8ee82(0x967)](_0xb8ee82(0x68f))['innerText'][_0xb8ee82(0x46b)]();_0x5844bf&&!_0x22a9fe[_0xb8ee82(0x2e2)](_0xb8ee82(0x5d5))&&(_0x22a9fe=_0xb8ee82(0x5c9)+_0x22a9fe);try{const _0x38c027={'resultsDisplay':document[_0xb8ee82(0x967)]('results-display-select')[_0xb8ee82(0x734)],'shuffle':document[_0xb8ee82(0x967)]('shuffle-setting-select')[_0xb8ee82(0x734)],'timerMode':document[_0xb8ee82(0x967)](_0xb8ee82(0x423))[_0xb8ee82(0x734)],'timerDuration':parseInt(document[_0xb8ee82(0x967)](_0xb8ee82(0xbac))[_0xb8ee82(0x734)])||0xa,'passingScore':parseInt(document['getElementById'](_0xb8ee82(0x57e))[_0xb8ee82(0x734)])||0x0,'isAdaptive':document['getElementById'](_0xb8ee82(0x533))[_0xb8ee82(0x4c6)],'loopUntilPass':document['getElementById']('loop-until-pass-checkbox')[_0xb8ee82(0x4c6)]},_0x48afab=(currentQuizData[_0xb8ee82(0x271)]||[])[_0xb8ee82(0x928)]((_0x3b84e2,_0x4a47a9)=>{const _0x3635ee=_0xb8ee82,_0x41f649=document[_0x3635ee(0x967)](_0x3635ee(0xb1b))[_0x3635ee(0x734)],_0x1c41a6={'id':'q_'+Date[_0x3635ee(0xd7b)]()+'_'+_0x4a47a9,'questionText':_0x3b84e2[_0x3635ee(0xa42)]||'','explanation':_0x3b84e2[_0x3635ee(0x8aa)]||_0x3635ee(0x874),'questionType':_0x3b84e2[_0x3635ee(0x252)]||_0x41f649,'imageCode':_0x3b84e2[_0x3635ee(0x2bd)]||null};return(_0x1c41a6[_0x3635ee(0x252)]===_0x3635ee(0x474)||_0x1c41a6['questionType']==='fill_in_with_choices'||_0x1c41a6[_0x3635ee(0x252)]===_0x3635ee(0x63f)&&_0x3b84e2[_0x3635ee(0x2e6)])&&(_0x1c41a6['options']=_0x3b84e2[_0x3635ee(0x2e6)]||[],_0x1c41a6[_0x3635ee(0x4e7)]=_0x3b84e2[_0x3635ee(0x4e7)]!==undefined?_0x3b84e2['correctAnswerIndex']:0x0),(_0x1c41a6[_0x3635ee(0x252)]===_0x3635ee(0xa9d)||_0x1c41a6[_0x3635ee(0x252)]===_0x3635ee(0x5b4)||_0x1c41a6[_0x3635ee(0x252)]===_0x3635ee(0x63f)&&_0x3b84e2[_0x3635ee(0x586)])&&(_0x1c41a6['idealAnswer']=_0x3b84e2['idealAnswer']||''),_0x1c41a6[_0x3635ee(0x252)]===_0x3635ee(0x34e)&&(_0x1c41a6['correctAnswer']=_0x3b84e2[_0x3635ee(0x60b)]===!![]),_0x1c41a6[_0x3635ee(0x252)]===_0x3635ee(0xa02)&&(_0x1c41a6['stem']=_0x3b84e2[_0x3635ee(0xcc5)]||'',_0x1c41a6['correctResponse']=_0x3b84e2['correctResponse']||'',_0x1c41a6[_0x3635ee(0x541)]=_0x3b84e2[_0x3635ee(0x541)]||[]),_0x1c41a6;}),_0x4eb040={'topic':_0x22a9fe,'quizType':currentQuizData[_0xb8ee82(0xa28)]||_0xb8ee82(0x474),'questions':_0x48afab,'projectId':_0x53ee02,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0xb8ee82(0xb29),'settings':_0x38c027,'quizMode':_0x5844bf?_0xb8ee82(0x7ce):_0xb8ee82(0x517),'pairedQuizId':null,'lessonPlan':null};let _0xce9817;while(!![]){_0xce9817=Math[_0xb8ee82(0xd2a)](0x3e8+Math[_0xb8ee82(0xb9d)]()*0x2328)['toString']();const _0x3586f8=await getDoc(doc(db,_0xb8ee82(0x4e9)+appId+_0xb8ee82(0x2fe),_0xce9817));if(!_0x3586f8['exists']())break;}await setDoc(doc(db,_0xb8ee82(0x4e9)+appId+_0xb8ee82(0x2fe),_0xce9817),_0x4eb040);if(_0x13161b&&currentBlueprintProjectId){console[_0xb8ee82(0xdea)](_0xb8ee82(0x744)+_0xce9817+'\x20to\x20blueprint\x20topic\x20'+_0x13161b);try{const _0x21bf4e=doc(db,'artifacts/'+appId+_0xb8ee82(0xdaa),currentBlueprintProjectId);await updateDoc(_0x21bf4e,{[_0xb8ee82(0x3f8)+_0x13161b+_0xb8ee82(0xc3c)]:arrayUnion(_0xce9817)});}catch(_0x26a7ad){console[_0xb8ee82(0x3f6)](_0xb8ee82(0xde9),_0x26a7ad);}}currentQuizData[_0xb8ee82(0x793)]=_0x38c027,currentQuizData['id']=_0xce9817;const _0x27e734=document[_0xb8ee82(0x967)](_0xb8ee82(0xc35));_0x27e734[_0xb8ee82(0x66e)]=_0xb8ee82(0x665)+_0xce9817+_0xb8ee82(0xac9),document['getElementById']('copy-quiz-id-btn')['addEventListener'](_0xb8ee82(0x526),()=>copyTextToClipboard(_0xce9817,_0xb8ee82(0x521))),document['getElementById'](_0xb8ee82(0xc9d))[_0xb8ee82(0x28f)](_0xb8ee82(0x526),()=>handleStartLiveRace(_0xce9817)),document[_0xb8ee82(0x967)]('start-presentation-btn')['addEventListener'](_0xb8ee82(0x526),()=>startPresentation(currentQuizData)),document[_0xb8ee82(0x967)](_0xb8ee82(0x488))['addEventListener'](_0xb8ee82(0x526),startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x55f129){console[_0xb8ee82(0x3f6)](_0xb8ee82(0x1e2),_0x55f129),showMessage(_0xb8ee82(0x329));}finally{_0x46497c[_0xb8ee82(0x367)]=![],_0x46497c[_0xb8ee82(0x66e)]=_0xb8ee82(0x5a4);}}function promptForProjectAndSave(){const _0x59d6d2=_0x4c4cf8,_0x21810d=document[_0x59d6d2(0x967)]('move-quiz-modal'),_0x308b8c=document[_0x59d6d2(0x967)](_0x59d6d2(0xdd5)),_0x57bd66=_0x21810d[_0x59d6d2(0x5c7)]('h3'),_0x2c3722=document['getElementById'](_0x59d6d2(0xc77));_0x57bd66[_0x59d6d2(0xb9a)]=_0x59d6d2(0x96d),_0x2c3722[_0x59d6d2(0xb9a)]=_0x59d6d2(0x1e4);allProjects[_0x59d6d2(0xbe0)]===0x0?(_0x308b8c[_0x59d6d2(0x66e)]=_0x59d6d2(0x597),_0x2c3722[_0x59d6d2(0x367)]=!![]):(_0x308b8c[_0x59d6d2(0x66e)]=allProjects['map'](_0x3fdb48=>'<option\x20value=\x22'+_0x3fdb48['id']+'\x22>'+_0x3fdb48[_0x59d6d2(0x453)]+_0x59d6d2(0xb96))[_0x59d6d2(0xbe3)](''),_0x2c3722['disabled']=![]);_0x21810d[_0x59d6d2(0x67b)][_0x59d6d2(0x7d5)](_0x59d6d2(0x75c));const _0x213be6=()=>{const _0x1faa0a=_0x59d6d2,_0x1f27ad=_0x308b8c[_0x1faa0a(0x734)];_0x1f27ad?(currentProjectId=_0x1f27ad,_0x21810d[_0x1faa0a(0x67b)][_0x1faa0a(0x602)](_0x1faa0a(0x75c)),saveQuiz(),_0x57bd66['textContent']=_0x1faa0a(0x664),_0x2c3722[_0x1faa0a(0xb9a)]='ย้าย',_0x2c3722[_0x1faa0a(0x965)](_0x1faa0a(0x526),_0x213be6),_0x2c3722[_0x1faa0a(0x28f)](_0x1faa0a(0x526),confirmMoveQuiz)):showMessage(_0x1faa0a(0x5cf));};_0x2c3722[_0x59d6d2(0x965)](_0x59d6d2(0x526),confirmMoveQuiz),_0x2c3722[_0x59d6d2(0x28f)](_0x59d6d2(0x526),_0x213be6);}function copyTextToClipboard(_0x693511,_0x3edc15){const _0x52f11e=_0x4c4cf8,_0x211db3=document[_0x52f11e(0x439)]('textarea');_0x211db3[_0x52f11e(0x734)]=_0x693511,_0x211db3[_0x52f11e(0xa49)][_0x52f11e(0x4da)]=_0x52f11e(0x84b),_0x211db3[_0x52f11e(0xa49)][_0x52f11e(0x688)]='0',document['body']['appendChild'](_0x211db3),_0x211db3['focus'](),_0x211db3['select']();try{const _0x3295dd=document[_0x52f11e(0x39e)](_0x52f11e(0x981));showMessage(_0x3295dd?_0x3edc15:_0x52f11e(0xb4b));}catch(_0x637dde){showMessage(_0x52f11e(0xb4b)),console[_0x52f11e(0x3f6)](_0x52f11e(0x752),_0x637dde);}document[_0x52f11e(0x7c0)][_0x52f11e(0xa9e)](_0x211db3);}function listenForProjectQuizzes(_0x535e73){const _0x527d58=_0x4c4cf8,_0x1e57fd=collection(db,'artifacts/'+appId+_0x527d58(0x2fe)),_0x4a8c59=query(_0x1e57fd,where(_0x527d58(0x6fe),'==',_0x535e73));unsubscribeQuizzesListener=onSnapshot(_0x4a8c59,async _0x1ea481=>{const _0x76d057=_0x527d58;allQuizzes=_0x1ea481[_0x76d057(0x9ff)][_0x76d057(0x928)](_0x111b02=>({'id':_0x111b02['id'],..._0x111b02[_0x76d057(0x6bc)]()})),renderQuizzes();},_0x3f898d=>{const _0x20300a=_0x527d58;console[_0x20300a(0x3f6)](_0x20300a(0x594),_0x3f898d),document[_0x20300a(0x967)]('project-quizzes-list')['innerHTML']='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x2608a3=_0x4c4cf8,_0x51329a=document[_0x2608a3(0x967)](_0x2608a3(0x52a)),_0x3dd8cc=document[_0x2608a3(0x967)](_0x2608a3(0xaa0))['value'][_0x2608a3(0x660)]();let _0x384d5c;currentProjectId===_0x2608a3(0x9e5)?_0x384d5c=starredQuizzes:_0x384d5c=allQuizzes;let _0x3c931e=_0x384d5c[_0x2608a3(0x3d0)](_0x164a4d=>_0x164a4d['topic'][_0x2608a3(0x660)]()['includes'](_0x3dd8cc));_0x3c931e[_0x2608a3(0x8a7)]((_0xfac2a1,_0x1e47e5)=>new Date(_0x1e47e5[_0x2608a3(0x6d3)])-new Date(_0xfac2a1[_0x2608a3(0x6d3)]));if(_0x3c931e[_0x2608a3(0xbe0)]===0x0){_0x51329a[_0x2608a3(0x66e)]=_0x2608a3(0x6a9);return;}const _0x210e8f={},_0x3d1413=_0x3c931e['map'](async _0x520c8f=>{const _0x51a2ba=_0x2608a3,_0x3edb94=collection(db,_0x51a2ba(0x4e9)+appId+'/public/data/quizzes/'+_0x520c8f['id']+_0x51a2ba(0xa24)),_0x21a73a=await getDocs(_0x3edb94);_0x210e8f[_0x520c8f['id']]=_0x21a73a[_0x51a2ba(0x2e4)];});await Promise[_0x2608a3(0xa9a)](_0x3d1413);let _0x47b6a1='';_0x3c931e[_0x2608a3(0xa3f)](_0x130fc8=>{const _0x3499fd=_0x2608a3,_0x27745e=_0x210e8f[_0x130fc8['id']]||0x0,_0x5e6fa8=_0x130fc8[_0x3499fd(0x27d)]||_0x3499fd(0xb29),_0x50c4ab=_0x130fc8[_0x3499fd(0x793)]?.[_0x3499fd(0xb44)]||_0x3499fd(0x7e8);let _0x40fed1='',_0x4a5d35='';const _0x5ef199=new Date();let _0x254b65=_0x5e6fa8;if(_0x5e6fa8===_0x3499fd(0x2b9)){const _0x11ede0=_0x130fc8[_0x3499fd(0x7cc)]?new Date(_0x130fc8[_0x3499fd(0x7cc)]):null,_0x603fc1=_0x130fc8[_0x3499fd(0x8b0)]?new Date(_0x130fc8[_0x3499fd(0x8b0)]):null;if(_0x603fc1&&_0x5ef199>_0x603fc1)_0x254b65=_0x3499fd(0x850);else _0x11ede0&&_0x5ef199<_0x11ede0?_0x254b65=_0x3499fd(0x772):_0x254b65=_0x3499fd(0xb29);}switch(_0x254b65){case'inactive':_0x40fed1=_0x3499fd(0x29d),_0x4a5d35=_0x3499fd(0xc7c);break;case _0x3499fd(0x772):_0x40fed1='รอเปิด',_0x4a5d35=_0x3499fd(0x52c);break;case'active':_0x40fed1=_0x50c4ab!==_0x3499fd(0x7e8)?_0x3499fd(0xd8d):'เปิดใช้งาน',_0x4a5d35='text-green-700\x20bg-green-100';break;default:_0x40fed1=_0x3499fd(0x607),_0x4a5d35=_0x3499fd(0x5c8);break;}let _0x18eaf4='';const _0xfd7614={'day':_0x3499fd(0x7e9),'month':_0x3499fd(0x7e9),'year':'numeric','hour':_0x3499fd(0x7e9),'minute':_0x3499fd(0x7e9),'hour12':![]};if(_0x5e6fa8===_0x3499fd(0x2b9)){if(_0x130fc8['startTime'])_0x18eaf4+=_0x3499fd(0x4d8)+new Date(_0x130fc8[_0x3499fd(0x7cc)])[_0x3499fd(0x246)]('th-TH',_0xfd7614)+_0x3499fd(0x2b7);if(_0x130fc8[_0x3499fd(0x8b0)])_0x18eaf4+=_0x3499fd(0x565)+new Date(_0x130fc8['endTime'])[_0x3499fd(0x246)]('th-TH',_0xfd7614)+'</p>';}let _0x548969='';if(_0x130fc8[_0x3499fd(0x6cd)]){const _0x3cbebb=allQuizzes[_0x3499fd(0x4c4)](_0x40464e=>_0x40464e['id']===_0x130fc8[_0x3499fd(0x6cd)]);if(_0x3cbebb){let _0xfab183,_0x1d350c;new Date(_0x130fc8[_0x3499fd(0x6d3)])<new Date(_0x3cbebb[_0x3499fd(0x6d3)])?(_0xfab183=_0x130fc8['id'],_0x1d350c=_0x3cbebb['id']):(_0xfab183=_0x3cbebb['id'],_0x1d350c=_0x130fc8['id']),_0x548969+=_0x3499fd(0x256)+_0x1d350c+_0x3499fd(0x5d2)+_0xfab183+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x130fc8[_0x3499fd(0x4f1)]===_0x3499fd(0x7ce)&&(_0x548969+=_0x3499fd(0xb76)+_0x130fc8['id']+'\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(_0x130fc8[_0x3499fd(0x4f1)]==='pre-test'&&_0x27745e>0x0)_0x548969+=_0x3499fd(0xb76)+_0x130fc8['id']+_0x3499fd(0xde4);else!_0x130fc8[_0x3499fd(0x6cd)]&&_0x130fc8['quizMode']!==_0x3499fd(0x7ce)&&_0x27745e>0x0&&(_0x548969+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x130fc8['id']+_0x3499fd(0xa8c));let _0x2399a6='';_0x130fc8[_0x3499fd(0x6cd)]?_0x2399a6='<button\x20data-quiz-id=\x22'+_0x130fc8['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x2399a6=_0x3499fd(0x358)+_0x130fc8['id']+_0x3499fd(0xd23),_0x47b6a1+=_0x3499fd(0xda6)+_0x130fc8['id']+_0x3499fd(0x3b2)+_0x130fc8[_0x3499fd(0x3e7)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x130fc8[_0x3499fd(0x271)]['length']+_0x3499fd(0x67a)+new Date(_0x130fc8[_0x3499fd(0x6d3)])[_0x3499fd(0x246)]('th-TH')+_0x3499fd(0xdfc)+_0x27745e+_0x3499fd(0x417)+_0x18eaf4+_0x3499fd(0x23a)+_0x4a5d35+'\x22>'+_0x40fed1+_0x3499fd(0xdd3)+_0x130fc8['id']+_0x3499fd(0xa77)+_0x130fc8['id']+_0x3499fd(0x90b)+(_0x130fc8['isStarred']?_0x3499fd(0x61f):_0x3499fd(0x4b2))+_0x3499fd(0x85e)+_0x548969+_0x3499fd(0x5b9)+_0x130fc8['id']+_0x3499fd(0xa1f)+_0x130fc8['id']+_0x3499fd(0x7ae)+_0x130fc8['id']+_0x3499fd(0x93b)+_0x130fc8['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x130fc8['id']+_0x3499fd(0x50a)+_0x130fc8['id']+_0x3499fd(0xa86)+_0x130fc8['id']+'\x22\x20data-topic=\x22'+_0x130fc8['topic']+_0x3499fd(0x53b)+_0x130fc8['id']+_0x3499fd(0x90c)+_0x130fc8['id']+_0x3499fd(0xde0)+_0x2399a6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x130fc8['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x130fc8['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x130fc8['id']+_0x3499fd(0x606)+_0x130fc8['id']+_0x3499fd(0xd96)+_0x130fc8['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x130fc8['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x130fc8['id']+_0x3499fd(0x307)+_0x130fc8['id']+_0x3499fd(0x534)+_0x130fc8[_0x3499fd(0x3e7)]+_0x3499fd(0x7ab)+_0x130fc8['id']+_0x3499fd(0xbba);}),_0x51329a['innerHTML']=_0x47b6a1,document[_0x2608a3(0xdd7)](_0x2608a3(0xd07))[_0x2608a3(0xa3f)](_0x43c1fe=>{const _0x75f4ce=_0x2608a3;_0x43c1fe['addEventListener'](_0x75f4ce(0x526),()=>{const _0x1cc8ab=_0x75f4ce,_0xcd6453=_0x43c1fe[_0x1cc8ab(0x305)]['quizId'];showQuizDetailView(_0xcd6453);});});}async function handleUnpairQuiz(_0x314962){const _0x296b8b=_0x4c4cf8,_0x2d51b5=allQuizzes[_0x296b8b(0x4c4)](_0x5e3250=>_0x5e3250['id']===_0x314962);if(!_0x2d51b5||!_0x2d51b5[_0x296b8b(0x6cd)]){showMessage('ไม่พบข้อมูลการจับคู่');return;}showConfirmation(_0x296b8b(0x4ed),async()=>{const _0x4d955d=_0x296b8b;try{const _0x450f67=doc(db,_0x4d955d(0x4e9)+appId+_0x4d955d(0x2fe),_0x314962),_0x5529cd=doc(db,_0x4d955d(0x4e9)+appId+'/public/data/quizzes',_0x2d51b5[_0x4d955d(0x6cd)]),_0x1edcf7=writeBatch(db);_0x1edcf7[_0x4d955d(0x5de)](_0x450f67,{'pairedQuizId':null}),_0x1edcf7[_0x4d955d(0x5de)](_0x5529cd,{'pairedQuizId':null}),await _0x1edcf7['commit'](),showMessage(_0x4d955d(0xdda));}catch(_0x128025){console[_0x4d955d(0x3f6)]('Error\x20unpairing\x20quizzes:',_0x128025),showMessage(_0x4d955d(0x356));}});}function formatAndPrintLessonPlan(_0x3f04bc,_0x3a339f){const _0x44b1ff=_0x4c4cf8,_0x54b0fd=window[_0x44b1ff(0xc54)]('','_blank'),_0x5bb63e=_0x44b1ff(0x869)+_0x3a339f[_0x44b1ff(0x3e7)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20'+_0x3a339f['topic']+_0x44b1ff(0x721)+_0x3f04bc[_0x44b1ff(0xd64)]['map'](_0x95d798=>'<li>'+_0x95d798+_0x44b1ff(0xcff))[_0x44b1ff(0xbe3)]('')+_0x44b1ff(0x851)+_0x3f04bc[_0x44b1ff(0x553)]+_0x44b1ff(0x9cc)+_0x3f04bc[_0x44b1ff(0x480)]['map'](_0x50d554=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x50d554[_0x44b1ff(0x966)]+_0x44b1ff(0x649)+_0x50d554[_0x44b1ff(0x352)]+_0x44b1ff(0x45c))[_0x44b1ff(0xbe3)]('')+_0x44b1ff(0xbcc);_0x54b0fd[_0x44b1ff(0x410)][_0x44b1ff(0x284)](_0x5bb63e),_0x54b0fd[_0x44b1ff(0x410)]['close'](),_0x54b0fd[_0x44b1ff(0x2cc)]=function(){setTimeout(()=>{const _0x332278=_0x3869;_0x54b0fd[_0x332278(0x341)]();},0x3e8);};}async function handleAiFixFormula(_0x51c4b1){const _0x1e4337=_0x4c4cf8,_0x5dd451=document[_0x1e4337(0x5c7)](_0x1e4337(0x7f6)+_0x51c4b1+'\x22]');if(!_0x5dd451)return;const _0x1142f4=_0x5dd451[_0x1e4337(0x305)][_0x1e4337(0x4a3)],_0x3d8369=_0x5dd451[_0x1e4337(0x5c7)](_0x1e4337(0x686));let _0x445b2d={'question':_0x5dd451[_0x1e4337(0x5c7)]('textarea')[_0x1e4337(0x734)]};switch(_0x1142f4){case'multiple_choice':_0x445b2d['options']=Array[_0x1e4337(0xa4f)](_0x5dd451['querySelectorAll'](_0x1e4337(0xc38)))[_0x1e4337(0x928)](_0x34754e=>_0x34754e['value']);break;case _0x1e4337(0xa9d):_0x445b2d[_0x1e4337(0x586)]=_0x5dd451[_0x1e4337(0x5c7)](_0x1e4337(0x786))[_0x1e4337(0x734)];break;case _0x1e4337(0xa02):_0x445b2d[_0x1e4337(0x99f)]=_0x5dd451['querySelector']('.correct-response-input')['value'];break;}_0x3d8369[_0x1e4337(0x66e)]=_0x1e4337(0xa04),_0x3d8369['disabled']=!![];try{const _0x4b667c=_0x1e4337(0x206)+JSON[_0x1e4337(0xa88)](_0x445b2d)+_0x1e4337(0xa65),_0x9d19bb={'type':_0x1e4337(0x8b8),'properties':{'fixedData':{'type':_0x1e4337(0x8b8),'properties':{'question':{'type':_0x1e4337(0x3db)},'options':{'type':_0x1e4337(0x34a),'items':{'type':_0x1e4337(0x3db)}},'idealAnswer':{'type':'STRING'},'correctResponse':{'type':'STRING'}},'required':[_0x1e4337(0x966)]}},'required':['fixedData']},_0x18885e=await callAnalysisApi(_0x4b667c,_0x9d19bb);if(_0x18885e&&_0x18885e[_0x1e4337(0xb78)]){const _0x8b1211=_0x18885e[_0x1e4337(0xb78)];_0x5dd451[_0x1e4337(0x5c7)](_0x1e4337(0x4a9))['value']=_0x8b1211[_0x1e4337(0x966)]||_0x445b2d[_0x1e4337(0x966)];switch(_0x1142f4){case'multiple_choice':_0x8b1211[_0x1e4337(0x2e6)]&&_0x8b1211[_0x1e4337(0x2e6)][_0x1e4337(0xbe0)]>0x0&&_0x5dd451['querySelectorAll'](_0x1e4337(0xc38))[_0x1e4337(0xa3f)]((_0x1e4504,_0x590827)=>{const _0x2be0e7=_0x1e4337;_0x1e4504[_0x2be0e7(0x734)]=_0x8b1211['options'][_0x590827]||_0x445b2d[_0x2be0e7(0x2e6)][_0x590827];});break;case'short_answer':_0x5dd451[_0x1e4337(0x5c7)](_0x1e4337(0x786))[_0x1e4337(0x734)]=_0x8b1211['idealAnswer']||_0x445b2d[_0x1e4337(0x586)];break;case'matching_item':_0x5dd451[_0x1e4337(0x5c7)](_0x1e4337(0x262))[_0x1e4337(0x734)]=_0x8b1211[_0x1e4337(0x99f)]||_0x445b2d['correctResponse'];break;}if(_0x445b2d[_0x1e4337(0x966)]!==_0x8b1211[_0x1e4337(0x966)])try{const _0x3a7242=collection(db,_0x1e4337(0x4e9)+appId+_0x1e4337(0x8d8));await addDoc(_0x3a7242,{'broken':_0x445b2d[_0x1e4337(0x966)],'fixed':_0x8b1211['question'],'createdAt':serverTimestamp()});}catch(_0x4c5609){console[_0x1e4337(0x3f6)](_0x1e4337(0xb79),_0x4c5609);}showMessage(_0x1e4337(0x630));}else throw new Error('AI\x20ไม่สามารถประมวลผลข้อมูลได้');}catch(_0x54675d){console[_0x1e4337(0x3f6)](_0x1e4337(0x211),_0x54675d),showMessage(_0x1e4337(0xa7a));}finally{_0x3d8369[_0x1e4337(0x66e)]=_0x1e4337(0x822),_0x3d8369[_0x1e4337(0x367)]=![];}}async function handleGenerateLessonPlan(_0x2b7614){const _0xb6dcd8=_0x4c4cf8;showMessage(_0xb6dcd8(0x41e));try{const _0x2fdcfc=doc(db,'artifacts/'+appId+_0xb6dcd8(0x2fe),_0x2b7614),_0x1d84f7=await getDoc(_0x2fdcfc);if(!_0x1d84f7['exists']())throw new Error(_0xb6dcd8(0x91d));const _0x2d8c0b={'id':_0x2b7614,..._0x1d84f7['data']()},_0x503889=collection(db,_0xb6dcd8(0x4e9)+appId+_0xb6dcd8(0x2fe),_0x2b7614,'submissions'),_0x299572=await getDocs(_0x503889),_0xd62d65=_0x299572[_0xb6dcd8(0x9ff)][_0xb6dcd8(0x928)](_0x58aab1=>_0x58aab1['data']());if(_0xd62d65['length']===0x0)throw new Error(_0xb6dcd8(0x229));const _0x534fa1=calculateItemAnalysis(_0x2d8c0b,_0xd62d65)[_0xb6dcd8(0x6fc)],_0x4e2260=calculateDistractorAnalysis(_0x2d8c0b,_0xd62d65),_0x426071=_0x466666=>{const _0x5c16bc=_0xb6dcd8;if(!_0x466666)return'';return _0x466666[_0x5c16bc(0x528)](/\\/g,'\x5c\x5c')[_0x5c16bc(0x528)](/"/g,'\x5c\x22')[_0x5c16bc(0x528)](/\n/g,'\x5cn');};let _0x28be43='สรุปผลการวิเคราะห์:\x5cn';_0x2d8c0b[_0xb6dcd8(0x271)][_0xb6dcd8(0xa3f)]((_0x854479,_0x52084d)=>{const _0x4710ea=_0xb6dcd8,_0x405716=_0x534fa1[_0x52084d]?.['p'][_0x4710ea(0x588)](0x2)||_0x4710ea(0x9bd),_0xd8c93f=_0x534fa1[_0x52084d]?.['r']['toFixed'](0x2)||_0x4710ea(0x9bd),_0xe6d72f=_0x426071(_0x854479['questionText']||_0x854479[_0x4710ea(0xcc5)]);_0x28be43+=_0x4710ea(0xb63)+(_0x52084d+0x1)+_0x4710ea(0x9b2)+_0x405716+_0x4710ea(0x46f)+_0xd8c93f+_0x4710ea(0x55c)+_0xe6d72f+'\x5cn';if(_0x854479[_0x4710ea(0x252)]===_0x4710ea(0x474)&&_0x4e2260[_0x52084d]){const _0x1e461c=_0x4e2260[_0x52084d],_0x5969f2=Object[_0x4710ea(0xadf)](_0x1e461c)[_0x4710ea(0x3d0)](_0xb2e503=>parseInt(_0xb2e503)!==_0x854479[_0x4710ea(0x4e7)])['sort']((_0xb51420,_0x3a4aa2)=>_0x1e461c[_0x3a4aa2][_0x4710ea(0xd1d)]-_0x1e461c[_0xb51420][_0x4710ea(0xd1d)])[0x0];if(_0x5969f2&&_0x1e461c[_0x5969f2]['total']>0x0){const _0x4e7a2f=_0x426071(_0x1e461c[_0x5969f2][_0x4710ea(0x5cd)]);_0x28be43+=_0x4710ea(0xb35)+_0x4e7a2f+_0x4710ea(0x58a);}}});const _0x3505ed=_0xb6dcd8(0xbd4)+_0x2d8c0b[_0xb6dcd8(0x3e7)]+_0xb6dcd8(0xcc7)+_0x28be43+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x36d03f={'type':_0xb6dcd8(0x8b8),'properties':{'learningGaps':{'type':_0xb6dcd8(0x34a),'items':{'type':_0xb6dcd8(0x3db)}},'teachingContent':{'type':_0xb6dcd8(0x3db)},'practiceProblems':{'type':_0xb6dcd8(0x34a),'items':{'type':_0xb6dcd8(0x8b8),'properties':{'question':{'type':_0xb6dcd8(0x3db)},'solution':{'type':_0xb6dcd8(0x3db)}}}}},'required':[_0xb6dcd8(0xd64),_0xb6dcd8(0x553),_0xb6dcd8(0x480)]},_0x118a5f=await callAnalysisApi(_0x3505ed,_0x36d03f);await updateDoc(_0x2fdcfc,{'lessonPlan':_0x118a5f});const _0xb76f55='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x2d8c0b[_0xb6dcd8(0x3e7)]+_0xb6dcd8(0x728)+_0x118a5f[_0xb6dcd8(0xd64)][_0xb6dcd8(0x928)](_0x405a56=>_0xb6dcd8(0x883)+_0x405a56+_0xb6dcd8(0xcff))[_0xb6dcd8(0xbe3)]('')+_0xb6dcd8(0x900)+_0x118a5f[_0xb6dcd8(0x553)]+_0xb6dcd8(0x958)+_0x118a5f[_0xb6dcd8(0x480)][_0xb6dcd8(0x928)](_0x4198f3=>_0xb6dcd8(0xcc2)+_0x4198f3[_0xb6dcd8(0x966)]+_0xb6dcd8(0xbee)+_0x4198f3['solution']+'</p></div>')[_0xb6dcd8(0xbe3)]('')+_0xb6dcd8(0x2e1);document[_0xb6dcd8(0x967)](_0xb6dcd8(0x2ca))[_0xb6dcd8(0xb9a)]=_0xb6dcd8(0x9f3)+_0x2d8c0b['topic'],document[_0xb6dcd8(0x967)](_0xb6dcd8(0xa39))[_0xb6dcd8(0x66e)]=_0xb76f55,document[_0xb6dcd8(0x967)]('lesson-plan-modal')[_0xb6dcd8(0x67b)][_0xb6dcd8(0x7d5)](_0xb6dcd8(0x75c));if(window[_0xb6dcd8(0x7a4)])MathJax['typesetPromise']();messageModal[_0xb6dcd8(0x67b)][_0xb6dcd8(0x602)](_0xb6dcd8(0x75c));}catch(_0x384522){console[_0xb6dcd8(0x3f6)]('Error\x20generating\x20lesson\x20plan:',_0x384522),showMessage(_0xb6dcd8(0x50b)+_0x384522['message']);}}async function handleDuplicateQuiz(_0x47ca2f){const _0x1c137f=_0x4c4cf8;try{const _0x9e7f1d=doc(db,_0x1c137f(0x4e9)+appId+_0x1c137f(0x2fe),_0x47ca2f),_0x19aeef=await getDoc(_0x9e7f1d);if(_0x19aeef[_0x1c137f(0x78d)]()){const _0x292b86=_0x19aeef[_0x1c137f(0x6bc)]();let _0x24bc48='',_0x1983dc='standard',_0x538a8c=null;if(_0x292b86['quizMode']===_0x1c137f(0x7ce)){let _0xdd19d6=_0x292b86[_0x1c137f(0x3e7)]['replace'](_0x1c137f(0x5d5),'')[_0x1c137f(0x46b)]();_0x24bc48=_0x1c137f(0xd41)+_0xdd19d6,_0x1983dc='post-test',_0x538a8c=_0x47ca2f;}else _0x24bc48=_0x1c137f(0x440)+_0x292b86['topic'];const _0x320892={..._0x292b86,'topic':_0x24bc48,'createdAt':new Date()['toISOString'](),'quizMode':_0x1983dc,'pairedQuizId':_0x538a8c};let _0x4638ce;while(!![]){_0x4638ce=Math['floor'](0x3e8+Math['random']()*0x2328)[_0x1c137f(0x2f2)]();const _0x530a17=await getDoc(doc(db,_0x1c137f(0x4e9)+appId+_0x1c137f(0x2fe),_0x4638ce));if(!_0x530a17[_0x1c137f(0x78d)]())break;}const _0x193207=doc(db,_0x1c137f(0x4e9)+appId+_0x1c137f(0x2fe),_0x4638ce);await setDoc(_0x193207,_0x320892),_0x320892[_0x1c137f(0x4f1)]==='post-test'&&await updateDoc(_0x9e7f1d,{'pairedQuizId':_0x4638ce}),showMessage(_0x1c137f(0x4c9));}else throw new Error(_0x1c137f(0xb74));}catch(_0xc6e16){console[_0x1c137f(0x3f6)](_0x1c137f(0x7b0),_0xc6e16),showMessage(_0x1c137f(0x65f));}}async function handleDeleteQuiz(_0x7da2e1,_0x141a6c=!![]){const _0x5c7d09=_0x4c4cf8;try{const _0x27f088=writeBatch(db),_0x13ff80=collection(db,_0x5c7d09(0x4e9)+appId+_0x5c7d09(0x868)+_0x7da2e1+_0x5c7d09(0xa24)),_0x27b5f7=await getDocs(_0x13ff80);_0x27b5f7['forEach'](_0x17d0c8=>{const _0xf67e76=_0x5c7d09;_0x27f088[_0xf67e76(0xde1)](doc(_0x13ff80,_0x17d0c8['id']));});const _0x5c5c45=doc(db,_0x5c7d09(0x4e9)+appId+_0x5c7d09(0x2fe),_0x7da2e1);_0x27f088[_0x5c7d09(0xde1)](_0x5c5c45),await _0x27f088['commit']();try{console[_0x5c7d09(0xdea)](_0x5c7d09(0x397)+_0x7da2e1+'\x20in\x20all\x20blueprint\x20projects.');const _0x1fa3dd=collection(db,'artifacts/'+appId+_0x5c7d09(0xdaa)),_0x3fbec2=await getDocs(_0x1fa3dd),_0x2f139e=[];_0x3fbec2[_0x5c7d09(0xa3f)](_0x1a02f1=>{const _0x2f73c3=_0x5c7d09,_0x4cedaf=_0x1a02f1['data'](),_0x53858a=_0x4cedaf['topics']||{};let _0x221053=![];for(const _0x310396 in _0x53858a){const _0x179e45=_0x53858a[_0x310396];if(_0x179e45[_0x2f73c3(0x872)]&&_0x179e45[_0x2f73c3(0x872)]['includes'](_0x7da2e1)){_0x221053=!![];const _0x228b8a=doc(db,_0x2f73c3(0x4e9)+appId+_0x2f73c3(0xdaa),_0x1a02f1['id']),_0x2d3e0b=updateDoc(_0x228b8a,{[_0x2f73c3(0x3f8)+_0x310396+_0x2f73c3(0xc3c)]:arrayRemove(_0x7da2e1)});_0x2f139e['push'](_0x2d3e0b);}}}),_0x2f139e[_0x5c7d09(0xbe0)]>0x0&&(await Promise['all'](_0x2f139e),console['log']('Successfully\x20removed\x20'+_0x2f139e[_0x5c7d09(0xbe0)]+'\x20link(s)\x20for\x20quiz\x20ID:\x20'+_0x7da2e1+'.'));}catch(_0x433ac2){console[_0x5c7d09(0x3f6)](_0x5c7d09(0xb45),_0x433ac2);}_0x141a6c&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0x24f930){console[_0x5c7d09(0x3f6)](_0x5c7d09(0xcd0),_0x24f930),_0x141a6c&&showMessage(_0x5c7d09(0x849));}}async function showQuizDetailView(_0x132e4f){const _0x3407da=_0x4c4cf8;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab('analytics');try{const _0x496be7=doc(db,_0x3407da(0x4e9)+appId+_0x3407da(0x2fe),_0x132e4f),_0x1de09c=await getDoc(_0x496be7);if(!_0x1de09c[_0x3407da(0x78d)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}const _0x32328c={'id':_0x1de09c['id'],..._0x1de09c[_0x3407da(0x6bc)]()};currentQuizData=_0x32328c;const _0x12754d=doc(db,_0x3407da(0x4e9)+appId+_0x3407da(0x9f8),_0x32328c[_0x3407da(0x6fe)]),_0x2c78c4=await getDoc(_0x12754d);_0x2c78c4[_0x3407da(0x78d)]()?(currentProjectData=_0x2c78c4[_0x3407da(0x6bc)](),currentProjectId=_0x32328c['projectId']):(currentProjectData={'students':[]},currentProjectId=_0x32328c[_0x3407da(0x6fe)]);document['getElementById'](_0x3407da(0x3cd))[_0x3407da(0xb9a)]=_0x32328c[_0x3407da(0x3e7)],document[_0x3407da(0x967)](_0x3407da(0xc5c))[_0x3407da(0xb9a)]=_0x132e4f;const _0xe1c002=collection(db,'artifacts/'+appId+_0x3407da(0x2fe),_0x132e4f,_0x3407da(0x834));unsubscribeSubmissionsListener=onSnapshot(_0xe1c002,_0xbbc59f=>{const _0x6a49ca=_0x3407da,_0x2d6968=_0xbbc59f[_0x6a49ca(0x9ff)][_0x6a49ca(0x928)](_0x4d7657=>({'id':_0x4d7657['id'],..._0x4d7657[_0x6a49ca(0x6bc)]()}));currentSubmissions=_0x2d6968;const _0x3ab919=_0x2d6968[_0x6a49ca(0x3d0)](_0x3801f5=>_0x3801f5[_0x6a49ca(0xd68)]&&_0x3801f5['attempts'][_0x6a49ca(0xbe0)]>0x0);renderBehaviorLog(_0x2d6968),renderAnswerGrid(currentProjectData[_0x6a49ca(0x547)],_0x3ab919,_0x32328c),renderAnalytics(_0x32328c,_0x3ab919),renderQuizResultsTable(currentProjectData[_0x6a49ca(0x547)],_0x2d6968,_0x32328c),renderQuizLeaderboard(_0x3ab919,_0x32328c,'quiz-leaderboard-table-body');}),showView(_0x3407da(0xdac));}catch(_0x16f025){console[_0x3407da(0x3f6)](_0x3407da(0xbd5),_0x16f025),showMessage(_0x3407da(0xa62));}}function renderAnswerGrid(_0x3cd0a9,_0x2e514f,_0xab59f7){const _0xe1277c=_0x4c4cf8,_0x1a3b0e=document['getElementById'](_0xe1277c(0x3a2));if(!_0x1a3b0e)return;if(!_0x3cd0a9||_0x3cd0a9[_0xe1277c(0xbe0)]===0x0){_0x1a3b0e['innerHTML']=_0xe1277c(0x983);return;}const _0x4dc167=_0xab59f7[_0xe1277c(0x271)],_0x427060=_0x2e514f[_0xe1277c(0x2c1)]((_0xf9a25,_0x4c6a24)=>{return _0xf9a25[_0x4c6a24['studentName']]=_0x4c6a24,_0xf9a25;},{}),_0x553d1c=_0x473542=>String[_0xe1277c(0x2a6)](0x41+_0x473542),_0x5210bb=_0x2c9c23=>{const _0x1ee9ec=_0xe1277c,_0x114898=_0x2c9c23[_0x1ee9ec(0x252)]||_0xab59f7[_0x1ee9ec(0xa28)];switch(_0x114898){case'multiple_choice':return _0x2c9c23[_0x1ee9ec(0x2e6)]&&_0x2c9c23[_0x1ee9ec(0x2e6)][_0x1ee9ec(0xbe0)]>_0x2c9c23[_0x1ee9ec(0x4e7)]?_0x553d1c(_0x2c9c23[_0x1ee9ec(0x4e7)]):'-';case _0x1ee9ec(0x34e):const _0x592844=_0x2c9c23['correctAnswer']===!![]||String(_0x2c9c23['correctAnswer'])[_0x1ee9ec(0x660)]()==='true';return _0x592844?_0x1ee9ec(0x6c8):_0x1ee9ec(0x569);case'matching_item':return _0x2c9c23[_0x1ee9ec(0x99f)]||'-';case _0x1ee9ec(0xa9d):return _0x1ee9ec(0x27e);default:return'-';}},_0x1c53af=(_0x24de17,_0x4b3072)=>{const _0x1d57e2=_0xe1277c;if(_0x4b3072[_0x1d57e2(0x422)]===null||_0x4b3072[_0x1d57e2(0x422)]===undefined)return'-';const _0x2573db=_0x24de17['questionType']||_0xab59f7[_0x1d57e2(0xa28)];switch(_0x2573db){case'multiple_choice':const _0xe9acb2=_0x24de17[_0x1d57e2(0x2e6)][_0x1d57e2(0x4ce)](_0xfcc508=>_0xfcc508===_0x4b3072['answerText']);return _0xe9acb2!==-0x1?_0x553d1c(_0xe9acb2):_0x4b3072[_0x1d57e2(0x2eb)]||'-';case _0x1d57e2(0x34e):if(_0x4b3072[_0x1d57e2(0x422)]=='0'||_0x4b3072[_0x1d57e2(0x422)]===!![]||_0x4b3072['answer']===_0x1d57e2(0x75e))return _0x1d57e2(0x6c8);return _0x1d57e2(0x569);default:return _0x4b3072[_0x1d57e2(0x422)];}};let _0x414b2b=_0xe1277c(0x326)+_0x4dc167[_0xe1277c(0x928)]((_0xe95a45,_0x47b148)=>_0xe1277c(0x4d2)+(_0x47b148+0x1)+'</th>')[_0xe1277c(0xbe3)]('')+_0xe1277c(0x3d5)+_0x4dc167['map'](_0x3653b0=>_0xe1277c(0x8f4)+_0x5210bb(_0x3653b0)+_0xe1277c(0xcbe))[_0xe1277c(0xbe3)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x3cd0a9['forEach'](_0x50f0e7=>{const _0x1e891f=_0xe1277c;_0x414b2b+=_0x1e891f(0xb72),_0x414b2b+=_0x1e891f(0xbe8)+_0x50f0e7+'</td>';const _0x155e6d=_0x427060[_0x50f0e7];if(_0x155e6d){const _0x4d9786=_0x155e6d['attempts'][_0x155e6d[_0x1e891f(0xd68)][_0x1e891f(0xbe0)]-0x1];_0x4dc167['forEach']((_0x437b73,_0x241b31)=>{const _0x3b27e8=_0x1e891f,_0x3735a1=_0x4d9786['answers'][_0x3b27e8(0x4c4)](_0x557c66=>_0x557c66[_0x3b27e8(0xbfb)]===_0x437b73['id']);if(_0x3735a1){let _0x1e86d8='';const _0x261522=_0x3735a1[_0x3b27e8(0x4d1)]===!![],_0x55b5e9=_0x3735a1[_0x3b27e8(0xd3e)]===!![]||_0x3735a1[_0x3b27e8(0xd3e)]==='confident';_0x55b5e9?_0x1e86d8=_0x261522?_0x3b27e8(0x690):_0x3b27e8(0x2f4):_0x1e86d8=_0x261522?_0x3b27e8(0xa67):'bg-red-100',_0x414b2b+=_0x3b27e8(0x503)+_0x1e86d8+'\x22>'+_0x1c53af(_0x437b73,_0x3735a1)+'</td>';}else _0x414b2b+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x414b2b+=_0x4dc167[_0x1e891f(0x928)](()=>_0x1e891f(0x309))[_0x1e891f(0xbe3)]('');_0x414b2b+=_0x1e891f(0x659);}),_0x414b2b+='</tbody></table>',_0x1a3b0e['innerHTML']=_0x414b2b;}function renderQuizResultsTable(_0x467c2b,_0x5bb5ee,_0x12743a){const _0x1e77f9=_0x4c4cf8,_0xfbd3d6=_0x5bb5ee[_0x1e77f9(0x2c1)]((_0x29d244,_0x2b76b6)=>{const _0x6910e3=_0x1e77f9;return _0x29d244[_0x2b76b6[_0x6910e3(0x1fd)]]=_0x2b76b6,_0x29d244;},{}),_0x4874c2=document[_0x1e77f9(0x5c7)]('#results-table\x20thead\x20tr');_0x4874c2&&!_0x4874c2['innerHTML']['includes'](_0x1e77f9(0xd13))&&(_0x4874c2[_0x1e77f9(0x66e)]+=_0x1e77f9(0x668));const _0x552b13=document[_0x1e77f9(0x967)]('quiz-results-table-body');if(!_0x467c2b||_0x467c2b[_0x1e77f9(0xbe0)]===0x0){_0x552b13['innerHTML']=_0x1e77f9(0x33e);return;}const _0x30b7d9=_0x12743a['isRemedial']===!![],_0x5801ff=_0x12743a[_0x1e77f9(0x793)]?.['passingScore']??-0x1;let _0x57c96a='';_0x467c2b[_0x1e77f9(0xa3f)](_0x171429=>{const _0x157852=_0x1e77f9,_0x319aac=_0xfbd3d6[_0x171429];let _0x296fc0=_0x157852(0x7f1)+(_0x30b7d9?_0x157852(0x68a):_0x157852(0x6b1))+'\x22>'+(_0x30b7d9?_0x157852(0x6ea):_0x157852(0x494))+_0x157852(0x484);if(_0x319aac){if(_0x319aac['attempts']&&_0x319aac[_0x157852(0xd68)][_0x157852(0xbe0)]>0x0){let _0x2def4b=_0x30b7d9?_0x319aac['bestScore']===_0x319aac[_0x157852(0xdb4)]:_0x5801ff!==-0x1&&_0x319aac['bestScore']>=_0x5801ff;const _0x149272=_0x2def4b?'bg-green-100\x20text-green-800':_0x157852(0x661),_0x330a3f=_0x2def4b?_0x157852(0xdbc):_0x157852(0x592),_0x56e6b3=_0x157852(0x74e)+_0x149272+'\x22>'+_0x330a3f+'</span></td>',_0x16c1aa=_0x157852(0xc3b)+(_0x319aac[_0x157852(0xd68)]?.[_0x157852(0xbe0)]||0x1)+'\x20ครั้ง)</span></td>';_0x57c96a+=_0x157852(0x2ec)+_0x171429+_0x157852(0x2ea)+_0x319aac['bestScore']+'\x20/\x20'+_0x319aac[_0x157852(0xdb4)]+_0x157852(0x6ad)+_0x56e6b3+_0x157852(0xc1a)+_0x296fc0+_0x157852(0x5b5)+_0x319aac['firstScore']+_0x157852(0xb12)+_0x319aac['totalQuestions']+_0x157852(0x235)+_0x319aac[_0x157852(0xaa7)]+_0x157852(0xb12)+_0x319aac['totalQuestions']+_0x157852(0x471)+(_0x319aac['points']||0x0)+_0x157852(0x6ad)+_0x16c1aa+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x319aac['latestSubmittedAt'])[_0x157852(0x246)](_0x157852(0x45d))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x171429+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}else{const _0x1c3f09=_0x157852(0x778);_0x57c96a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x171429+_0x157852(0xc48)+_0x296fc0+_0x157852(0xbdc)+_0x1c3f09+_0x157852(0x25d)+new Date(_0x319aac[_0x157852(0x79b)])[_0x157852(0x246)](_0x157852(0x45d))+_0x157852(0xc45)+_0x171429+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else{const _0x134c30='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x57c96a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x171429+_0x157852(0x636)+_0x296fc0+_0x157852(0xa73)+_0x134c30+_0x157852(0x44e);}}),_0x552b13['innerHTML']=_0x57c96a;}async function confirmRenameQuiz(){const _0x3c4b08=_0x4c4cf8,_0x2cae15=document['getElementById']('rename-quiz-input')[_0x3c4b08(0x734)]['trim']();if(!_0x2cae15){showMessage(_0x3c4b08(0x815));return;}if(!actionTargetId)return;const _0x5b4c30=doc(db,'artifacts/'+appId+_0x3c4b08(0x2fe),actionTargetId);try{await updateDoc(_0x5b4c30,{'topic':_0x2cae15}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x3c4b08(0x67b)][_0x3c4b08(0x602)](_0x3c4b08(0x75c)),actionTargetId=null;}catch(_0x19bb1e){console[_0x3c4b08(0x3f6)](_0x3c4b08(0x9ac),_0x19bb1e),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนชื่อ');}}async function handleMoveQuiz(_0x457075){const _0x2e1c9f=_0x4c4cf8;actionTargetId=_0x457075;const _0x35f97f=document[_0x2e1c9f(0x967)]('move-quiz-project-select');_0x35f97f[_0x2e1c9f(0x66e)]='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal[_0x2e1c9f(0x67b)][_0x2e1c9f(0x7d5)](_0x2e1c9f(0x75c));try{const _0x591b46=collection(db,_0x2e1c9f(0x4e9)+appId+'/public/data/projects'),_0x13e20c=await getDocs(_0x591b46),_0x5c9ba5=_0x13e20c[_0x2e1c9f(0x9ff)]['map'](_0x3a6516=>({'id':_0x3a6516['id'],..._0x3a6516[_0x2e1c9f(0x6bc)]()})),_0x458b98=_0x5c9ba5[_0x2e1c9f(0x3d0)](_0x21dc19=>_0x21dc19['id']!==currentProjectId);if(_0x458b98['length']===0x0){_0x35f97f['innerHTML']=_0x2e1c9f(0x65c),document[_0x2e1c9f(0x967)](_0x2e1c9f(0xc77))[_0x2e1c9f(0x367)]=!![];return;}_0x35f97f[_0x2e1c9f(0x66e)]=_0x458b98['map'](_0x508d35=>_0x2e1c9f(0x63b)+_0x508d35['id']+'\x22>'+_0x508d35[_0x2e1c9f(0x453)]+_0x2e1c9f(0xb96))[_0x2e1c9f(0xbe3)](''),document[_0x2e1c9f(0x967)]('confirm-move-quiz-btn')[_0x2e1c9f(0x367)]=![];}catch(_0x92a981){console[_0x2e1c9f(0x3f6)](_0x2e1c9f(0x633),_0x92a981),showMessage(_0x2e1c9f(0x354)),moveQuizModal[_0x2e1c9f(0x67b)][_0x2e1c9f(0x602)](_0x2e1c9f(0x75c));}}async function confirmMoveQuiz(){const _0x210897=_0x4c4cf8,_0x1e3055=document[_0x210897(0x967)](_0x210897(0xdd5))['value'];if(!_0x1e3055){showMessage(_0x210897(0x7cd));return;}if(!actionTargetId)return;const _0x42de93=doc(db,_0x210897(0x4e9)+appId+_0x210897(0x2fe),actionTargetId);try{await updateDoc(_0x42de93,{'projectId':_0x1e3055}),showMessage(_0x210897(0x71c)),moveQuizModal[_0x210897(0x67b)][_0x210897(0x602)]('hidden'),actionTargetId=null;}catch(_0x413d63){console[_0x210897(0x3f6)](_0x210897(0x591),_0x413d63),showMessage(_0x210897(0x3c2));}}async function handleQuizSettings(_0x2d4d31){const _0x52dc2f=_0x4c4cf8;actionTargetId=_0x2d4d31;const _0x2a8414=doc(db,_0x52dc2f(0x4e9)+appId+'/public/data/quizzes',_0x2d4d31);try{const _0x4befb3=await getDoc(_0x2a8414);if(_0x4befb3[_0x52dc2f(0x78d)]()){const _0x49f593=_0x4befb3['data'](),_0x246703=_0x49f593[_0x52dc2f(0x793)]||{},_0x4b4999=_0x49f593['questions'][_0x52dc2f(0xbe0)];document['getElementById']('modal-shuffle-select')['value']=_0x246703['shuffle']||_0x52dc2f(0x7e8),document[_0x52dc2f(0x967)]('modal-results-display-select')[_0x52dc2f(0x734)]=_0x246703['resultsDisplay']||_0x52dc2f(0xacd),document[_0x52dc2f(0x967)](_0x52dc2f(0xa59))['value']=_0x246703['timerMode']||_0x52dc2f(0x7e8),document[_0x52dc2f(0x967)](_0x52dc2f(0x320))[_0x52dc2f(0x734)]=_0x246703[_0x52dc2f(0x539)]||0xa,document[_0x52dc2f(0x967)](_0x52dc2f(0xc7f))[_0x52dc2f(0x734)]=_0x246703[_0x52dc2f(0xa66)]||Math[_0x52dc2f(0xd2a)](_0x4b4999/0x2),document[_0x52dc2f(0x967)](_0x52dc2f(0xc7f))['max']=_0x4b4999,document[_0x52dc2f(0x967)](_0x52dc2f(0xcd3))[_0x52dc2f(0x4c6)]=_0x246703[_0x52dc2f(0xbcd)]||![],document['getElementById'](_0x52dc2f(0x5c4))[_0x52dc2f(0x4c6)]=_0x246703[_0x52dc2f(0xd85)]||![];const _0x58684a=_0x246703['isConfidenceScoringEnabled']||![];document[_0x52dc2f(0x967)](_0x52dc2f(0xaae))[_0x52dc2f(0x4c6)]=_0x58684a,document[_0x52dc2f(0x967)](_0x52dc2f(0x29e))['value']=_0x246703[_0x52dc2f(0xcef)]||'checkbox';const _0x1f51e8=document['getElementById'](_0x52dc2f(0x2f7));_0x1f51e8[_0x52dc2f(0x67b)][_0x52dc2f(0x992)](_0x52dc2f(0x75c),!_0x58684a),document[_0x52dc2f(0x967)](_0x52dc2f(0xa59))[_0x52dc2f(0x47d)](new Event(_0x52dc2f(0xd53))),quizSettingsModal['classList'][_0x52dc2f(0x7d5)](_0x52dc2f(0x75c));}else showMessage(_0x52dc2f(0x91d));}catch(_0x59696a){console[_0x52dc2f(0x3f6)](_0x52dc2f(0x8a1),_0x59696a),showMessage(_0x52dc2f(0x87c));}}async function confirmQuizSettings(){const _0x1dd9dd=_0x4c4cf8;if(!actionTargetId)return;const _0x338880=doc(db,_0x1dd9dd(0x4e9)+appId+'/public/data/quizzes',actionTargetId),_0x5520ee={'shuffle':document[_0x1dd9dd(0x967)]('modal-shuffle-select')[_0x1dd9dd(0x734)],'resultsDisplay':document[_0x1dd9dd(0x967)]('modal-results-display-select')[_0x1dd9dd(0x734)],'timerMode':document[_0x1dd9dd(0x967)](_0x1dd9dd(0xa59))[_0x1dd9dd(0x734)],'timerDuration':parseInt(document[_0x1dd9dd(0x967)](_0x1dd9dd(0x320))['value'])||0xa,'passingScore':parseInt(document['getElementById'](_0x1dd9dd(0xc7f))['value'])||0x0,'isAdaptive':document[_0x1dd9dd(0x967)](_0x1dd9dd(0xcd3))[_0x1dd9dd(0x4c6)],'loopUntilPass':document['getElementById'](_0x1dd9dd(0x5c4))[_0x1dd9dd(0x4c6)],'isConfidenceScoringEnabled':document[_0x1dd9dd(0x967)](_0x1dd9dd(0xaae))[_0x1dd9dd(0x4c6)],'confidenceMode':document[_0x1dd9dd(0x967)](_0x1dd9dd(0x29e))['value']};try{await updateDoc(_0x338880,{'settings':_0x5520ee}),showMessage(_0x1dd9dd(0x945)),quizSettingsModal['classList'][_0x1dd9dd(0x602)](_0x1dd9dd(0x75c)),actionTargetId=null;}catch(_0xe7beaa){console[_0x1dd9dd(0x3f6)]('Error\x20updating\x20quiz\x20settings:',_0xe7beaa),showMessage(_0x1dd9dd(0x843));}}async function confirmQuizStatus(){const _0x27df53=_0x4c4cf8;if(!actionTargetId)return;const _0x3c9aae=doc(db,_0x27df53(0x4e9)+appId+_0x27df53(0x2fe),actionTargetId),_0x9489cd=document[_0x27df53(0x5c7)](_0x27df53(0x8c8));if(!_0x9489cd){showMessage('กรุณาเลือกสถานะ');return;}const _0x34748d=_0x9489cd[_0x27df53(0x734)];let _0x5e060d={};if(_0x34748d===_0x27df53(0xb29)||_0x34748d==='inactive')_0x5e060d={'status':_0x34748d,'startTime':null,'endTime':null};else{if(_0x34748d==='schedule'){const _0x446dfd=document[_0x27df53(0x967)](_0x27df53(0x97b))[_0x27df53(0x734)],_0x3c0847=document[_0x27df53(0x967)](_0x27df53(0xcd6))[_0x27df53(0x734)];if(!_0x446dfd&&!_0x3c0847){showMessage(_0x27df53(0x913));return;}_0x5e060d={'status':_0x27df53(0x2b9),'startTime':_0x446dfd?new Date(_0x446dfd)['toISOString']():null,'endTime':_0x3c0847?new Date(_0x3c0847)['toISOString']():null};}}try{await updateDoc(_0x3c9aae,_0x5e060d),showMessage(_0x27df53(0x26e)),quizStatusModal[_0x27df53(0x67b)][_0x27df53(0x602)](_0x27df53(0x75c)),actionTargetId=null;}catch(_0x5255af){console[_0x27df53(0x3f6)](_0x27df53(0x7bf),_0x5255af),showMessage(_0x27df53(0xa85));}}function listenForStudentProfiles(_0x40aadf){const _0x3795e6=_0x4c4cf8,_0xbf51ac=collection(db,'artifacts/'+appId+_0x3795e6(0x9ef)+_0x40aadf+_0x3795e6(0xc5a));unsubscribeStudentProfilesListener=onSnapshot(_0xbf51ac,_0x440a88=>{const _0x443319=_0x3795e6,_0x281788=_0x440a88[_0x443319(0x9ff)][_0x443319(0x928)](_0x3dc15=>_0x3dc15[_0x443319(0x6bc)]());renderLeaderboard(_0x281788,_0x443319(0xb7d));},_0x56798e=>{const _0x2274ee=_0x3795e6;console['error'](_0x2274ee(0xcf1),_0x56798e),document[_0x2274ee(0x967)]('leaderboard-table-body')['innerHTML']='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x1752ff,_0xc3c0c2){const _0x560109=_0x4c4cf8,_0xc5a6b5=document[_0x560109(0x967)](_0xc3c0c2);if(!_0x1752ff||_0x1752ff[_0x560109(0xbe0)]===0x0){_0xc5a6b5[_0x560109(0x66e)]=_0x560109(0x1f0);return;}_0x1752ff['sort']((_0x272e77,_0x179650)=>{const _0x32d663=_0x560109,_0x153fa3=(_0x179650[_0x32d663(0x481)]||0x0)-(_0x272e77[_0x32d663(0x481)]||0x0);if(_0x153fa3!==0x0)return _0x153fa3;const _0x116bbc=(_0x179650[_0x32d663(0x37d)]?.['specialist']||0x0)-(_0x272e77[_0x32d663(0x37d)]?.[_0x32d663(0xbd6)]||0x0);if(_0x116bbc!==0x0)return _0x116bbc;const _0x3e1c94=(_0x179650[_0x32d663(0x37d)]?.[_0x32d663(0x89a)]||0x0)-(_0x272e77[_0x32d663(0x37d)]?.[_0x32d663(0x89a)]||0x0);if(_0x3e1c94!==0x0)return _0x3e1c94;const _0x576f30=(_0x179650[_0x32d663(0x37d)]?.[_0x32d663(0x61e)]||0x0)-(_0x272e77[_0x32d663(0x37d)]?.['perfect_score']||0x0);if(_0x576f30!==0x0)return _0x576f30;const _0x2b9239=(_0x179650[_0x32d663(0x37d)]?.[_0x32d663(0x3bb)]||0x0)-(_0x272e77[_0x32d663(0x37d)]?.[_0x32d663(0x3bb)]||0x0);if(_0x2b9239!==0x0)return _0x2b9239;return _0x272e77['studentName'][_0x32d663(0xd8a)](_0x179650['studentName'],'th');});let _0x1a7307='';_0x1752ff['forEach']((_0x36f034,_0x5da2be)=>{const _0x508ac5=_0x560109,_0x247266=_0x5da2be+0x1,_0x6c84c1=_0x36f034['badgesCount']||{};let _0x47f347='';const _0x522b97=['specialist',_0x508ac5(0x61e),_0x508ac5(0x89a),_0x508ac5(0x3bb)];_0x522b97[_0x508ac5(0xa3f)](_0x10eb4a=>{const _0x1dd93c=_0x508ac5;if(_0x6c84c1[_0x10eb4a]>0x0){const _0x19a555=Object['values'](BADGES)[_0x1dd93c(0x4c4)](_0x5045a1=>_0x5045a1['id']===_0x10eb4a);_0x19a555&&(_0x10eb4a===_0x1dd93c(0xbd6)?_0x47f347+=_0x1dd93c(0x363)+_0x19a555[_0x1dd93c(0x7e7)]+_0x1dd93c(0x6db)+_0x19a555['icon']+_0x1dd93c(0x2f3):_0x47f347+=_0x1dd93c(0x363)+_0x19a555[_0x1dd93c(0x7e7)]+'\x20('+_0x6c84c1[_0x10eb4a]+_0x1dd93c(0x20c)+_0x19a555[_0x1dd93c(0x84c)]+_0x1dd93c(0x272)+_0x6c84c1[_0x10eb4a]+_0x1dd93c(0xa23));}}),_0x1a7307+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x247266+_0x508ac5(0x678)+_0x36f034[_0x508ac5(0x1fd)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x36f034[_0x508ac5(0x481)]||0x0)+_0x508ac5(0x678)+(_0x47f347||'-')+_0x508ac5(0x746);}),_0xc5a6b5[_0x560109(0x66e)]=_0x1a7307;}function displayLoopScreen(_0x768206,_0x16889f,_0x5cd658){const _0x44884a=_0x4c4cf8;let _0x5af730='';_0x5cd658!=='show_pass_fail_only'&&(_0x5af730=_0x44884a(0x5d6)+_0x768206+'\x20/\x20'+_0x16889f+'</strong></p>');const _0x423bb8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5af730+_0x44884a(0x3d6);studentResultArea[_0x44884a(0x66e)]=_0x423bb8,studentResultArea[_0x44884a(0x67b)]['remove'](_0x44884a(0x75c)),studentQuizArea['classList'][_0x44884a(0x602)]('hidden'),document['getElementById'](_0x44884a(0xb90))[_0x44884a(0x28f)](_0x44884a(0x526),()=>{const _0x279ec9=_0x44884a;studentResultArea['classList'][_0x279ec9(0x602)](_0x279ec9(0x75c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x4c693f,_0x37616b,_0x5e0f54){const _0x1e655e=_0x4c4cf8,_0x2e51b=document[_0x1e655e(0x967)](_0x5e0f54),_0x17a1ab=_0x5e0f54===_0x1e655e(0xa2c),_0x45824f=_0x37616b['questions'][_0x1e655e(0xbe0)],_0x52f097=document['getElementById'](_0x5e0f54)['closest'](_0x1e655e(0xce2));if(_0x52f097&&!_0x17a1ab){const _0xc1ffe2=_0x52f097[_0x1e655e(0x5c7)](_0x1e655e(0xabe));_0xc1ffe2[_0x1e655e(0x66e)]=_0x1e655e(0xb6e);}if(!_0x4c693f||_0x4c693f[_0x1e655e(0xbe0)]===0x0){_0x2e51b['innerHTML']=_0x1e655e(0x4c3)+(_0x17a1ab?0x6:0x8)+_0x1e655e(0x2d9);return;}const _0x55f71d=[..._0x4c693f];_0x55f71d[_0x1e655e(0x8a7)]((_0xbb3861,_0x59826c)=>{const _0x366eda=_0x1e655e;let _0x5e4b92,_0x43f003;switch(quizLeaderboardSortBy){case _0x366eda(0x1fd):_0x5e4b92=_0xbb3861[_0x366eda(0x1fd)]||'',_0x43f003=_0x59826c[_0x366eda(0x1fd)]||'';return quizLeaderboardSortOrder==='asc'?_0x5e4b92['localeCompare'](_0x43f003,'th'):_0x43f003['localeCompare'](_0x5e4b92,'th');case _0x366eda(0x9c8):_0x5e4b92=_0xbb3861[_0x366eda(0x9c8)]||0x0,_0x43f003=_0x59826c[_0x366eda(0x9c8)]||0x0;break;case _0x366eda(0xd68):_0x5e4b92=_0xbb3861[_0x366eda(0xd68)]?.[_0x366eda(0xbe0)]||0x1,_0x43f003=_0x59826c['attempts']?.[_0x366eda(0xbe0)]||0x1;break;case _0x366eda(0x968):_0x5e4b92=new Date(_0xbb3861[_0x366eda(0x968)]),_0x43f003=new Date(_0x59826c[_0x366eda(0x968)]);break;case _0x366eda(0xbbe):default:_0x5e4b92=_0xbb3861[_0x366eda(0xbbe)],_0x43f003=_0x59826c[_0x366eda(0xbbe)];break;}if(_0x5e4b92<_0x43f003)return quizLeaderboardSortOrder===_0x366eda(0x584)?-0x1:0x1;if(_0x5e4b92>_0x43f003)return quizLeaderboardSortOrder===_0x366eda(0x584)?0x1:-0x1;return 0x0;});const _0x5ddd83=_0x37616b[_0x1e655e(0x2cf)]===!![],_0x1635cf=_0x37616b['settings']?.[_0x1e655e(0xa66)]??-0x1;let _0x3cf0af='';_0x55f71d[_0x1e655e(0xa3f)]((_0xbd1559,_0x5761ec)=>{const _0x3375a9=_0x1e655e,_0x2538ca=_0x5761ec+0x1;let _0x59c488=_0x3375a9(0xdce);if(_0x5ddd83||_0x1635cf!==-0x1){let _0x3799be=_0x5ddd83?_0xbd1559[_0x3375a9(0xbbe)]===_0x45824f:_0xbd1559[_0x3375a9(0xbbe)]>=_0x1635cf;const _0x178b14=_0x3799be?_0x3375a9(0x7a5):_0x3375a9(0x661),_0x130d2b=_0x3799be?'ผ่าน':_0x3375a9(0x592);_0x59c488=_0x3375a9(0xb87)+_0x178b14+'\x22>'+_0x130d2b+_0x3375a9(0x484);}const _0x3221d6=_0xbd1559[_0x3375a9(0xd68)][_0xbd1559[_0x3375a9(0xd68)][_0x3375a9(0xbe0)]-0x1],_0xc64c1=(_0x3221d6[_0x3375a9(0xc97)]||[])[_0x3375a9(0x928)](_0x34dd8f=>{const _0x2c43ad=_0x3375a9,_0x1c1cff=Object[_0x2c43ad(0x8c3)](BADGES)[_0x2c43ad(0x4c4)](_0x1dc8f2=>_0x1dc8f2['id']===_0x34dd8f);return _0x1c1cff?_0x2c43ad(0xa5d)+_0x1c1cff['name']+_0x2c43ad(0x3b3)+_0x1c1cff[_0x2c43ad(0x84c)]+_0x2c43ad(0xb59):'';})[_0x3375a9(0xbe3)]('');_0x3cf0af+=_0x3375a9(0x964)+_0x2538ca+_0x3375a9(0x561)+_0xbd1559[_0x3375a9(0x1fd)]+_0x3375a9(0x7f7)+_0xbd1559[_0x3375a9(0xbbe)]+_0x3375a9(0xb12)+_0x45824f+_0x3375a9(0xc61)+_0x59c488+_0x3375a9(0x25f)+(_0xbd1559['points']||0x0)+_0x3375a9(0xc61)+(_0x17a1ab?'':_0x3375a9(0x97e)+(_0xbd1559['attempts']?.['length']||0x1)+_0x3375a9(0xcbe))+_0x3375a9(0xbea)+(_0x17a1ab?'':_0x3375a9(0x98d)+new Date(_0xbd1559['latestSubmittedAt'])[_0x3375a9(0x246)](_0x3375a9(0x45d))+_0x3375a9(0xcbe))+_0x3375a9(0x643)+(_0xc64c1||'-')+_0x3375a9(0xd67);}),_0x2e51b[_0x1e655e(0x66e)]=_0x3cf0af,_0x52f097&&!_0x17a1ab&&_0x52f097['querySelectorAll'](_0x1e655e(0xc0c))[_0x1e655e(0xa3f)](_0x483b14=>{const _0x432d8e=_0x1e655e,_0x12de53=_0x483b14[_0x432d8e(0x5c7)](_0x432d8e(0x957));if(_0x12de53)_0x12de53['remove']();_0x483b14[_0x432d8e(0x305)][_0x432d8e(0x8a7)]===quizLeaderboardSortBy&&(_0x483b14[_0x432d8e(0x66e)]+=_0x432d8e(0x8df)+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x421f8c){const _0x14525f=_0x4c4cf8;if(!currentQuizData||!currentQuizData['id']||!_0x421f8c){showMessage(_0x14525f(0x424));return;}showConfirmation(_0x14525f(0xa9b)+_0x421f8c+_0x14525f(0xac1),async()=>{const _0xb83703=_0x14525f,_0x56f0b7=currentQuizData['id'],_0x392e53=doc(db,_0xb83703(0x4e9)+appId+'/public/data/quizzes/'+_0x56f0b7+'/submissions',_0x421f8c);try{await deleteDoc(_0x392e53),showMessage(_0xb83703(0x491)+_0x421f8c+_0xb83703(0x96e));}catch(_0x273b61){console['error']('Error\x20deleting\x20submission:',_0x273b61),showMessage(_0xb83703(0xba7));}});}async function handleLoadQuiz(){const _0x68e0be=_0x4c4cf8,_0x3fd825=document[_0x68e0be(0x967)](_0x68e0be(0xa95)),_0x1e75df=_0x3fd825['value'][_0x68e0be(0x46b)]();if(!_0x1e75df){showMessage(_0x68e0be(0xc81));return;}loadQuizBtn[_0x68e0be(0x367)]=!![],loadQuizBtn[_0x68e0be(0x66e)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...';try{const _0x49227a=doc(db,_0x68e0be(0x4e9)+appId+_0x68e0be(0x2fe),_0x1e75df),_0x1c01bb=await getDoc(_0x49227a);if(!_0x1c01bb[_0x68e0be(0x78d)]()){showMessage(_0x68e0be(0x6d4));return;}currentQuizData={'id':_0x1c01bb['id'],..._0x1c01bb[_0x68e0be(0x6bc)]()};const _0x3dc57a=currentQuizData[_0x68e0be(0x27d)]||_0x68e0be(0xb29),_0x5caa44=new Date();if(_0x3dc57a===_0x68e0be(0x850)){showMessage(_0x68e0be(0x525));return;}if(_0x3dc57a===_0x68e0be(0x2b9)){const _0x47cd24=currentQuizData[_0x68e0be(0x7cc)]?new Date(currentQuizData['startTime']):null,_0x3cff45=currentQuizData[_0x68e0be(0x8b0)]?new Date(currentQuizData[_0x68e0be(0x8b0)]):null;if(_0x47cd24&&_0x5caa44<_0x47cd24){showMessage(_0x68e0be(0xc4b)+_0x47cd24[_0x68e0be(0x246)](_0x68e0be(0x45d),{'hour12':![]}));return;}if(_0x3cff45&&_0x5caa44>_0x3cff45){showMessage(_0x68e0be(0xc79));return;}}const _0x9eb8ac=currentQuizData['projectId'];currentProjectId=_0x9eb8ac;const _0x508f10=doc(db,_0x68e0be(0x4e9)+appId+_0x68e0be(0x9f8),_0x9eb8ac),_0x360386=await getDoc(_0x508f10);if(!_0x360386['exists']()){showMessage(_0x68e0be(0xce4));return;}const _0x3ca264=_0x360386[_0x68e0be(0x6bc)]();currentStudentProjectData=_0x3ca264,displayStudentNameSelector(_0x3ca264['students'],currentQuizData[_0x68e0be(0x3e7)]);}catch(_0x572859){console[_0x68e0be(0x3f6)](_0x68e0be(0x64e),_0x572859),showMessage(_0x68e0be(0x5bb));}finally{loadQuizBtn[_0x68e0be(0x367)]=![],loadQuizBtn[_0x68e0be(0x66e)]='<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ';}}async function handleJoinLiveGame(){const _0x7ccc66=_0x4c4cf8,_0x3d2757=document['getElementById'](_0x7ccc66(0x457)),_0x25d0ea=document[_0x7ccc66(0x967)](_0x7ccc66(0x6e8)),_0x3ee202=document[_0x7ccc66(0x967)](_0x7ccc66(0x7f3)),_0x5058ee=_0x3d2757[_0x7ccc66(0x734)][_0x7ccc66(0x46b)](),_0x3aa3ac=_0x25d0ea[_0x7ccc66(0x734)][_0x7ccc66(0x46b)]();if(!_0x5058ee||!_0x3aa3ac){showMessage(_0x7ccc66(0xd5b));return;}_0x3ee202[_0x7ccc66(0x367)]=!![],_0x3ee202[_0x7ccc66(0x66e)]=_0x7ccc66(0xb9e);try{const _0x2dd658=collection(db,_0x7ccc66(0x4e9)+appId+_0x7ccc66(0x514)),_0x3b4491=query(_0x2dd658,where(_0x7ccc66(0xa7d),'==',_0x5058ee),where(_0x7ccc66(0x27d),'in',['lobby','question'])),_0x32e6b2=await getDocs(_0x3b4491);if(_0x32e6b2[_0x7ccc66(0x711)]){showMessage(_0x7ccc66(0xaa3));return;}const _0x412b99=_0x32e6b2[_0x7ccc66(0x9ff)][0x0],_0x22b212=_0x412b99[_0x7ccc66(0x6bc)]();currentLiveGameId=_0x412b99['id'];const _0x958ff7=_0x22b212[_0x7ccc66(0x519)],_0x4a4158=doc(db,_0x7ccc66(0x4e9)+appId+_0x7ccc66(0x2fe),_0x958ff7),_0x5e7f30=await getDoc(_0x4a4158);if(!_0x5e7f30[_0x7ccc66(0x78d)]()){showMessage(_0x7ccc66(0xc41));return;}currentQuizData={'id':_0x5e7f30['id'],..._0x5e7f30[_0x7ccc66(0x6bc)]()};if(_0x22b212['players']&&_0x22b212['players'][_0x3aa3ac]){const _0x5cf720=_0x22b212[_0x7ccc66(0x3c8)][_0x3aa3ac];if(_0x5cf720[_0x7ccc66(0x27d)]===_0x7ccc66(0x850)){_0x3ee202[_0x7ccc66(0x66e)]=_0x7ccc66(0xc23);const _0x3d69fa={};_0x3d69fa[_0x7ccc66(0xc21)+_0x3aa3ac+_0x7ccc66(0xdbf)]='active',await updateDoc(doc(db,_0x7ccc66(0x4e9)+appId+_0x7ccc66(0x514),currentLiveGameId),_0x3d69fa),showView('live-game'),currentStudentName=_0x3aa3ac,listenForLiveGameUpdates();return;}else{showMessage(_0x7ccc66(0x783));return;}}if(_0x22b212[_0x7ccc66(0x27d)]!==_0x7ccc66(0xd1e)){showMessage(_0x7ccc66(0x6a7));return;}_0x3ee202['innerHTML']=_0x7ccc66(0xc08);const _0x94ee24={};_0x94ee24[_0x7ccc66(0xc21)+_0x3aa3ac]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x7ccc66(0xb29)},await updateDoc(doc(db,_0x7ccc66(0x4e9)+appId+_0x7ccc66(0x514),currentLiveGameId),_0x94ee24),currentStudentName=_0x3aa3ac,listenForLiveGameUpdates();}catch(_0x294879){console[_0x7ccc66(0x3f6)](_0x7ccc66(0xc63),_0x294879),showMessage(_0x7ccc66(0x3a1));}finally{_0x3ee202['disabled']=![],_0x3ee202['innerHTML']=_0x7ccc66(0xd60);}}function displayStudentNameSelector(_0x415bbd,_0x1f0d72){const _0x21a049=_0x4c4cf8,_0x230569=document[_0x21a049(0x967)](_0x21a049(0x7d9));document[_0x21a049(0x967)](_0x21a049(0x5b6))['textContent']=_0x21a049(0x61c)+_0x1f0d72,!_0x415bbd||_0x415bbd[_0x21a049(0xbe0)]===0x0?(_0x230569[_0x21a049(0x66e)]='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0x21a049(0x367)]=!![]):(_0x230569[_0x21a049(0x66e)]=_0x21a049(0x713),_0x415bbd['forEach'](_0x157534=>{const _0x41c8c0=_0x21a049,_0x34d772=document[_0x41c8c0(0x439)]('option');_0x34d772[_0x41c8c0(0x734)]=_0x157534,_0x34d772[_0x41c8c0(0xb9a)]=_0x157534,_0x230569[_0x41c8c0(0xbf4)](_0x34d772);}),startQuizBtn[_0x21a049(0x367)]=![]),studentInitialView[_0x21a049(0x67b)][_0x21a049(0x602)]('hidden'),studentNameSelectionView[_0x21a049(0x67b)][_0x21a049(0x7d5)](_0x21a049(0x75c));}function shuffleArray(_0x10ed1a){const _0x9d29d1=_0x4c4cf8;for(let _0x2bc306=_0x10ed1a[_0x9d29d1(0xbe0)]-0x1;_0x2bc306>0x0;_0x2bc306--){const _0x9c566e=Math[_0x9d29d1(0xd2a)](Math[_0x9d29d1(0xb9d)]()*(_0x2bc306+0x1));[_0x10ed1a[_0x2bc306],_0x10ed1a[_0x9c566e]]=[_0x10ed1a[_0x9c566e],_0x10ed1a[_0x2bc306]];}}function getShuffledQuiz(_0xa90b9f){const _0xb172fc=_0x4c4cf8;let _0x47587e=JSON[_0xb172fc(0x6d6)](JSON[_0xb172fc(0xa88)](_0xa90b9f));const _0x6c9a0f=_0x47587e[_0xb172fc(0x793)]?.[_0xb172fc(0x79e)]||_0xb172fc(0x7e8);if(_0x6c9a0f===_0xb172fc(0x7e8))return _0x47587e;return(_0x6c9a0f===_0xb172fc(0xa06)||_0x6c9a0f===_0xb172fc(0xda8))&&shuffleArray(_0x47587e[_0xb172fc(0x271)]),(_0x6c9a0f===_0xb172fc(0x3ad)||_0x6c9a0f===_0xb172fc(0xda8))&&_0x47587e['questions'][_0xb172fc(0xa3f)](_0x38e9c3=>{const _0x28d4e6=_0xb172fc,_0x3770ff=_0x38e9c3[_0x28d4e6(0x252)]||_0x47587e[_0x28d4e6(0xa28)];if(_0x38e9c3[_0x28d4e6(0x2e6)]){let _0x1ed4c6=_0x38e9c3['options'][_0x28d4e6(0x928)]((_0x3d4f4a,_0x53b01c)=>({'text':_0x3d4f4a,'isCorrect':_0x53b01c===_0x38e9c3['correctAnswerIndex']}));shuffleArray(_0x1ed4c6),_0x38e9c3[_0x28d4e6(0x2e6)]=_0x1ed4c6['map'](_0x5dc7bf=>_0x5dc7bf[_0x28d4e6(0x5cd)]),_0x38e9c3[_0x28d4e6(0x4e7)]=_0x1ed4c6[_0x28d4e6(0x4ce)](_0x51a259=>_0x51a259[_0x28d4e6(0x4d1)]);}_0x3770ff===_0x28d4e6(0xa02)&&_0x38e9c3[_0x28d4e6(0x541)]&&shuffleArray(_0x38e9c3['allResponses']);}),_0x47587e;}function displayQuizForStudent(_0x428ea3){const _0x27423a=_0x4c4cf8;studentQuizArea[_0x27423a(0x67b)][_0x27423a(0x7d5)](_0x27423a(0x75c)),currentDisplayedQuiz=getShuffledQuiz(_0x428ea3);currentMode!=='admin-testing'&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document['addEventListener'](_0x27423a(0xd7e),handleFullscreenChange),document[_0x27423a(0x28f)](_0x27423a(0x473),handleVisibilityChange),enterFullscreen(),window[_0x27423a(0x28f)](_0x27423a(0xaff),resetDimTimer),window[_0x27423a(0x28f)](_0x27423a(0x338),resetDimTimer),window['addEventListener'](_0x27423a(0xc33),resetDimTimer),window[_0x27423a(0x28f)](_0x27423a(0xc8b),resetDimTimer),resetDimTimer());const _0x40351e=currentDisplayedQuiz['settings']?.[_0x27423a(0xb44)]||_0x27423a(0x7e8);if(_0x40351e===_0x27423a(0x253))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x27423a(0x793)][_0x27423a(0x539)]);else _0x40351e===_0x27423a(0x63d)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x45f054=_0x4c4cf8,_0x5d508b=currentDisplayedQuiz[_0x45f054(0x793)]?.[_0x45f054(0x8dd)]===!![],_0x8aec8f=currentDisplayedQuiz[_0x45f054(0x793)]?.[_0x45f054(0xcef)]||'checkbox';let _0x44019b=_0x45f054(0xc1d)+currentDisplayedQuiz[_0x45f054(0x3e7)]+_0x45f054(0x896)+(currentMode===_0x45f054(0xd57)?_0x45f054(0x37f):'')+_0x45f054(0xc9b);currentDisplayedQuiz[_0x45f054(0x271)]['forEach']((_0x550851,_0x2e0439)=>{const _0x230126=_0x45f054,_0x3663d2=_0x550851[_0x230126(0x252)]||currentDisplayedQuiz[_0x230126(0xa28)];_0x44019b+=_0x230126(0x7b8);if(_0x3663d2===_0x230126(0xa02)){}else _0x44019b+='<p>'+(_0x2e0439+0x1)+'.\x20'+(_0x550851['instructions']||_0x550851[_0x230126(0xa42)])+'</p>',_0x550851[_0x230126(0x2bd)]&&(_0x44019b+=_0x230126(0x89c)+_0x550851[_0x230126(0x2bd)]+_0x230126(0x83b));_0x44019b+='</div><div\x20class=\x22space-y-2\x22>';switch(_0x3663d2){case _0x230126(0xa9d):_0x44019b+=_0x230126(0xcb4)+_0x2e0439+_0x230126(0xa2f);break;case'true_false':_0x44019b+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x2e0439+_0x230126(0x5ae)+_0x2e0439+_0x230126(0x8f0)+_0x2e0439+'_opt0\x22>ใช่</label></div>',_0x44019b+=_0x230126(0xd93)+_0x2e0439+_0x230126(0xc9e)+_0x2e0439+_0x230126(0x3c4)+_0x2e0439+_0x230126(0xa1a);break;case'matching_item':_0x44019b+=_0x230126(0x727)+_0x550851[_0x230126(0xcc5)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0x2e0439+_0x230126(0xd97)+_0x550851['allResponses'][_0x230126(0x928)](_0x1cac92=>_0x230126(0x63b)+_0x1cac92+'\x22>'+_0x1cac92+'</option>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;default:_0x44019b+=_0x550851[_0x230126(0x2e6)][_0x230126(0x928)]((_0x77119d,_0x5a2e80)=>_0x230126(0xadd)+_0x2e0439+_0x230126(0xdb0)+_0x5a2e80+_0x230126(0x4f2)+_0x2e0439+'\x22\x20value=\x22'+_0x5a2e80+_0x230126(0x6ef)+_0x2e0439+_0x230126(0xdb0)+_0x5a2e80+'\x22>'+_0x77119d+_0x230126(0xb0b))[_0x230126(0xbe3)]('');break;}_0x44019b+='</div>',_0x5d508b&&(_0x44019b+='<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>',_0x8aec8f===_0x230126(0xdd9)?_0x44019b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-'+_0x2e0439+_0x230126(0xbce)+_0x2e0439+_0x230126(0xc78)+_0x2e0439+'\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22'+_0x2e0439+_0x230126(0x324):_0x44019b+=_0x230126(0x3a0)+_0x2e0439+_0x230126(0xbce)+_0x2e0439+_0x230126(0x8c6)+_0x2e0439+'\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x44019b+=_0x230126(0x83b)),_0x44019b+='</div>';}),_0x44019b+=_0x45f054(0x987),_0x44019b+=_0x45f054(0x64d),studentQuizArea['innerHTML']=_0x44019b;if(currentMode===_0x45f054(0xd57)){const _0x45ecb6=document[_0x45f054(0x967)](_0x45f054(0xce6));if(_0x45ecb6)_0x45ecb6['addEventListener']('click',cancelAdminTest);}const _0xb4e588=document[_0x45f054(0x967)](_0x45f054(0xa34));_0xb4e588&&(_0xb4e588[_0x45f054(0x28f)](_0x45f054(0x62d),handleSubmitQuiz),_0xb4e588[_0x45f054(0x28f)](_0x45f054(0x526),_0x406768=>{const _0x2fc7bc=_0x45f054;if(_0x406768[_0x2fc7bc(0xae7)]['classList'][_0x2fc7bc(0x8de)](_0x2fc7bc(0xbcb))){const _0x3cec69=_0x406768[_0x2fc7bc(0xae7)],_0x4b7c14=_0x3cec69[_0x2fc7bc(0x305)][_0x2fc7bc(0x884)],_0x2dd04d=_0x3cec69[_0x2fc7bc(0x305)][_0x2fc7bc(0x734)];document[_0x2fc7bc(0x967)](_0x2fc7bc(0x71e)+_0x4b7c14)[_0x2fc7bc(0x734)]=_0x2dd04d;const _0x52908a=_0x3cec69[_0x2fc7bc(0x1fc)];_0x52908a[_0x2fc7bc(0xdd7)](_0x2fc7bc(0x803))[_0x2fc7bc(0xa3f)](_0x4635b9=>_0x4635b9['classList']['remove']('active')),_0x3cec69[_0x2fc7bc(0x67b)][_0x2fc7bc(0x602)]('active');}}));if(window[_0x45f054(0x7a4)])window[_0x45f054(0x7a4)][_0x45f054(0x634)]([studentQuizArea]);}async function handleSubmitQuiz(_0xc41fcb){const _0x4e762a=_0x4c4cf8;if(_0xc41fcb)_0xc41fcb[_0x4e762a(0x6c3)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x4e3bb1=document[_0x4e762a(0x967)](_0x4e762a(0xa34));if(!_0x4e3bb1)return;const _0x67392a=currentDisplayedQuiz[_0x4e762a(0x793)]?.[_0x4e762a(0x8dd)]===!![],_0x357014=currentDisplayedQuiz[_0x4e762a(0x793)]?.[_0x4e762a(0xcef)]||_0x4e762a(0x889);if(_0x67392a&&_0x357014===_0x4e762a(0xdd9)){let _0x3c1065=!![];for(let _0x1ff2c5=0x0;_0x1ff2c5<currentDisplayedQuiz['questions'][_0x4e762a(0xbe0)];_0x1ff2c5++){const _0x5f3352=_0x4e3bb1['querySelector']('#confidence-input-'+_0x1ff2c5);if(!_0x5f3352||_0x5f3352['value']===''){_0x3c1065=![];break;}}if(!_0x3c1065){showMessage('กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ');return;}}const _0x12cd41=_0x4e3bb1[_0x4e762a(0x5c7)](_0x4e762a(0x26b)),_0x33d6da=currentDisplayedQuiz['questions'][_0x4e762a(0x26d)](_0x3f59f9=>_0x3f59f9[_0x4e762a(0x252)]==='short_answer');_0x12cd41&&(_0x12cd41['disabled']=!![],_0x12cd41['innerHTML']=_0x33d6da?_0x4e762a(0x46a):_0x4e762a(0x830));const _0x3e73c3=new FormData(_0x4e3bb1),_0x2b6768=currentDisplayedQuiz[_0x4e762a(0x271)]['map']((_0x2707df,_0x209210)=>{const _0x554ace=_0x4e762a,_0x531656=_0x3e73c3['get'](_0x554ace(0x966)+_0x209210);let _0x4503e2;_0x357014===_0x554ace(0xdd9)?_0x4503e2=_0x3e73c3[_0x554ace(0x381)]('confidence'+_0x209210):_0x4503e2=_0x3e73c3[_0x554ace(0x381)]('confidence'+_0x209210)==='on';let _0x199b81=null;if(_0x531656!==null&&_0x531656!==undefined){const _0x42e0a8=_0x2707df[_0x554ace(0x252)]||currentDisplayedQuiz[_0x554ace(0xa28)];_0x42e0a8==='multiple_choice'||_0x42e0a8===_0x554ace(0x59f)?_0x199b81=parseInt(_0x531656):_0x199b81=_0x531656;}return{'answer':_0x199b81,'wasConfident':_0x4503e2};}),_0x5d3c49=currentQuizData['id'],_0x541a39=doc(db,'artifacts/'+appId+_0x4e762a(0x868)+_0x5d3c49+_0x4e762a(0xa24),currentStudentName),_0x1cf214=await getDoc(_0x541a39),_0x1eb893=_0x1cf214[_0x4e762a(0x78d)]()?_0x1cf214[_0x4e762a(0x6bc)]():{},_0x5f305d=_0x1eb893[_0x4e762a(0xd68)]||[];await processAndSubmitAnswers(_0x2b6768,_0x5f305d);}async function gradeShortAnswerWithAI(_0x22d276,_0xc7d5ba){const _0x4921e3=_0x4c4cf8;if(!_0x22d276||!_0xc7d5ba)return![];try{const _0x4b3a06=_0x4921e3(0x708)+_0x22d276+_0x4921e3(0x8c9)+_0xc7d5ba+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x4d4421={'contents':[{'role':_0x4921e3(0x461),'parts':[{'text':_0x4b3a06}]}]},_0x2e31b5=_0x4921e3(0x88f),_0x1fd406='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x2e31b5,_0x55ab06=await fetch(_0x1fd406,{'method':_0x4921e3(0x4c0),'headers':{'Content-Type':_0x4921e3(0x62e)},'body':JSON['stringify'](_0x4d4421)});if(!_0x55ab06['ok'])throw new Error(_0x4921e3(0x56b));const _0x3e5cf1=await _0x55ab06[_0x4921e3(0x738)](),_0x16e4c6=_0x3e5cf1[_0x4921e3(0xaaa)][0x0]['content'][_0x4921e3(0x79c)][0x0][_0x4921e3(0x5cd)][_0x4921e3(0x46b)]()[_0x4921e3(0x660)]();return _0x16e4c6===_0x4921e3(0x75e);}catch(_0x384a3c){return console[_0x4921e3(0x3f6)](_0x4921e3(0x95c),_0x384a3c),![];}}async function processAndSubmitAnswers(_0x45a454,_0x4c63b1){const _0x34d7d8=_0x4c4cf8;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x34d7d8(0x965)](_0x34d7d8(0xd7e),handleFullscreenChange),document['removeEventListener'](_0x34d7d8(0x473),handleVisibilityChange);let _0x174a06=0x0;const _0x3d5d6b=[],_0x270fd4=currentDisplayedQuiz[_0x34d7d8(0x271)][_0x34d7d8(0xbe0)];let _0x4944c4=0x0,_0x350046=[];const _0x184ad7=currentDisplayedQuiz[_0x34d7d8(0x271)];for(let _0x1956c6=0x0;_0x1956c6<_0x184ad7[_0x34d7d8(0xbe0)];_0x1956c6++){const _0x34584c=_0x184ad7[_0x1956c6],_0x473493=_0x45a454[_0x1956c6],_0x46abc0=_0x473493?_0x473493[_0x34d7d8(0x422)]:null,_0x314502=_0x473493?_0x473493[_0x34d7d8(0xd3e)]:null;let _0x182d4d=![],_0x343cf1=0x0;if(_0x46abc0!==null&&_0x46abc0!==''){const _0x113308=_0x34584c[_0x34d7d8(0x252)]||currentDisplayedQuiz[_0x34d7d8(0xa28)];switch(_0x113308){case _0x34d7d8(0xa02):_0x182d4d=_0x46abc0===_0x34584c[_0x34d7d8(0x99f)];break;case _0x34d7d8(0x34e):const _0x441ffc=_0x46abc0===!![]||_0x46abc0==='true';_0x182d4d=_0x441ffc===_0x34584c[_0x34d7d8(0x60b)];break;case _0x34d7d8(0xa9d):_0x182d4d=await gradeShortAnswer(_0x46abc0,_0x34584c);break;case'multiple_choice':default:_0x182d4d=Number(_0x46abc0)===_0x34584c[_0x34d7d8(0x4e7)];break;}}if(currentDisplayedQuiz[_0x34d7d8(0x793)]?.['isConfidenceScoringEnabled']){const _0x2ba9da=_0x473493?_0x473493[_0x34d7d8(0xd3e)]:null;if(_0x182d4d&&(_0x2ba9da===!![]||_0x2ba9da===_0x34d7d8(0xc0a)))_0x343cf1=0x2;else{if(_0x182d4d)_0x343cf1=0x1;else{if(!_0x182d4d&&(_0x2ba9da===![]||_0x2ba9da===_0x34d7d8(0x608)||_0x2ba9da===null))_0x343cf1=0x0;else!_0x182d4d&&(_0x2ba9da===!![]||_0x2ba9da===_0x34d7d8(0xc0a))&&(_0x343cf1=-0x1);}}}else _0x343cf1=_0x182d4d?0x1:0x0;_0x174a06+=_0x343cf1;if(_0x182d4d){_0x4944c4++;if(_0x4944c4===0x3)_0x350046[_0x34d7d8(0xb0e)](BADGES['ON_FIRE']['id']);}else _0x4944c4=0x0;let _0x1eac04=null;_0x34584c[_0x34d7d8(0x2e6)]&&_0x46abc0!==null&&(_0x1eac04=_0x34584c[_0x34d7d8(0x2e6)][_0x46abc0]),_0x3d5d6b[_0x34d7d8(0xb0e)]({'questionId':_0x34584c['id'],'answer':_0x46abc0,'answerText':_0x1eac04,'isCorrect':_0x182d4d,'wasConfident':_0x314502,'pointsAwarded':_0x343cf1,'originalQuestionText':_0x34584c['stem']||_0x34584c[_0x34d7d8(0xa42)]});}const _0x5de97c=_0x3d5d6b['filter'](_0x521461=>_0x521461[_0x34d7d8(0x4d1)])[_0x34d7d8(0xbe0)],_0x3301af=currentDisplayedQuiz[_0x34d7d8(0x793)]?.[_0x34d7d8(0xa66)]??Math['floor'](_0x270fd4/0x2);_0x5de97c===_0x270fd4&&_0x270fd4>0x0&&!currentDisplayedQuiz['isRemedial']&&_0x350046[_0x34d7d8(0xb0e)](BADGES[_0x34d7d8(0xb9c)]['id']);const _0x21979f=currentDisplayedQuiz[_0x34d7d8(0x793)]?.[_0x34d7d8(0xb44)];if(_0x21979f==='whole_quiz'&&quizStartTime){const _0x3ed7d5=(new Date()-quizStartTime)/0x3e8,_0x4e5acd=currentDisplayedQuiz[_0x34d7d8(0x793)][_0x34d7d8(0x539)]*0x3c;_0x5de97c>=_0x3301af&&_0x3ed7d5<_0x4e5acd/0x2&&_0x350046[_0x34d7d8(0xb0e)](BADGES[_0x34d7d8(0xddb)]['id']);}_0x4c63b1[_0x34d7d8(0xbe0)]===0x0&&_0x5de97c===_0x270fd4&&_0x270fd4>0x0&&_0x350046[_0x34d7d8(0xb0e)](BADGES['FIRST_TRY_ACE']['id']);if(_0x4c63b1[_0x34d7d8(0xbe0)]>0x0){const _0x2b717c=_0x4c63b1[0x0]['score'];if(_0x2b717c<_0x3301af&&_0x5de97c>=_0x3301af){const _0x45d530=_0x4c63b1[_0x34d7d8(0x26d)](_0x45b6b7=>(_0x45b6b7[_0x34d7d8(0xc97)]||[])['includes'](BADGES['COMEBACK_KING']['id']));!_0x45d530&&_0x350046[_0x34d7d8(0xb0e)](BADGES[_0x34d7d8(0x845)]['id']);}}_0x4c63b1[_0x34d7d8(0xbe0)]===0x4&&_0x350046['push'](BADGES[_0x34d7d8(0xa91)]['id']);const _0x496832=currentDisplayedQuiz[_0x34d7d8(0x793)][_0x34d7d8(0x3a4)];if(currentMode===_0x34d7d8(0xd57)){handleResultDisplay(_0x496832,_0x5de97c,_0x174a06,_0x350046,_0x3d5d6b,_0x270fd4);return;}const _0x1ba8ee=currentQuizData['id'],_0x303cd5=doc(db,_0x34d7d8(0x4e9)+appId+_0x34d7d8(0x868)+_0x1ba8ee+_0x34d7d8(0xa24),currentStudentName);try{const _0xf4a550=[..._0x4c63b1],_0x4f08de={'score':_0x5de97c,'points':_0x174a06,'badges':Array[_0x34d7d8(0xa4f)](new Set(_0x350046)),'submittedAt':new Date()[_0x34d7d8(0x2a4)](),'answers':_0x3d5d6b};_0xf4a550['push'](_0x4f08de);const _0x2d6ef0=_0x4c63b1[_0x34d7d8(0xbe0)]===0x0?_0x5de97c:_0x4c63b1[0x0][_0x34d7d8(0x53c)]||0x0,_0x507975=Math[_0x34d7d8(0x940)](..._0xf4a550[_0x34d7d8(0x928)](_0x545b3e=>_0x545b3e['score']));await setDoc(_0x303cd5,{'studentName':currentStudentName,'totalQuestions':_0x270fd4,'attempts':_0xf4a550,'firstScore':_0x2d6ef0,'bestScore':_0x507975,'latestScore':_0x5de97c,'points':_0x174a06,'latestSubmittedAt':_0x4f08de[_0x34d7d8(0xa6f)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x34d7d8(0x6fe)],currentStudentName),handleResultDisplay(_0x496832,_0x5de97c,_0x174a06,_0x350046,_0x3d5d6b,_0x270fd4);}catch(_0x1a8557){console['error'](_0x34d7d8(0xd80),_0x1a8557),showMessage('เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ');}}async function updateStudentProfile(_0x1ff551,_0x4bcb57){const _0x278cab=_0x4c4cf8,_0x52b0a3=doc(db,_0x278cab(0x4e9)+appId+'/public/data/projects/'+_0x1ff551+_0x278cab(0xc5a),_0x4bcb57);try{const _0x510077=query(collection(db,'artifacts/'+appId+_0x278cab(0x2fe)),where(_0x278cab(0x6fe),'==',_0x1ff551)),_0x4416ae=await getDocs(_0x510077),_0x3a162b=new Map(_0x4416ae[_0x278cab(0x9ff)]['map'](_0x27a562=>[_0x27a562['id'],_0x27a562[_0x278cab(0x6bc)]()])),_0x4a339f=Array[_0x278cab(0xa4f)](_0x3a162b['keys']());await runTransaction(db,async _0x4fcdd7=>{const _0x3dcbb9=_0x278cab;let _0x5d34f6=0x0;const _0x35d61b={};let _0x51c4ec=!![],_0x50d4a6=0x0,_0x20ec9a=0x0;for(const _0x59fef8 of _0x4a339f){const _0x247775=_0x3a162b[_0x3dcbb9(0x381)](_0x59fef8),_0x3f16e0=doc(db,_0x3dcbb9(0x4e9)+appId+'/public/data/quizzes/'+_0x59fef8+_0x3dcbb9(0xa24),_0x4bcb57),_0x194e3d=await _0x4fcdd7[_0x3dcbb9(0x381)](_0x3f16e0);if(_0x194e3d[_0x3dcbb9(0x78d)]()){const _0x19109d=_0x194e3d[_0x3dcbb9(0x6bc)](),_0x300c86=_0x19109d['attempts']||[];if(_0x300c86['length']>0x0){const _0x5ec6b1=_0x300c86['reduce']((_0x5c6824,_0x4ab7e9)=>{const _0x3b0572=_0x3dcbb9;if(_0x4ab7e9[_0x3b0572(0x53c)]>_0x5c6824[_0x3b0572(0x53c)])return _0x4ab7e9;if(_0x4ab7e9[_0x3b0572(0x53c)]===_0x5c6824[_0x3b0572(0x53c)])return(_0x4ab7e9[_0x3b0572(0x9c8)]||0x0)>(_0x5c6824[_0x3b0572(0x9c8)]||0x0)?_0x4ab7e9:_0x5c6824;return _0x5c6824;},{'score':-0x1,'points':-0x1});_0x5ec6b1[_0x3dcbb9(0x53c)]>-0x1&&(_0x5d34f6+=_0x5ec6b1[_0x3dcbb9(0x9c8)]||0x0,(_0x5ec6b1[_0x3dcbb9(0xc97)]||[])[_0x3dcbb9(0xa3f)](_0x311d87=>{_0x35d61b[_0x311d87]=(_0x35d61b[_0x311d87]||0x0)+0x1;}));}}if(_0x247775[_0x3dcbb9(0x3e7)]!==_0x3dcbb9(0x88d)){_0x20ec9a++;if(_0x194e3d[_0x3dcbb9(0x78d)]()){_0x50d4a6++;const _0x294853=_0x194e3d[_0x3dcbb9(0x6bc)]();_0x294853[_0x3dcbb9(0xbbe)]!==_0x294853[_0x3dcbb9(0xdb4)]&&(_0x51c4ec=![]);}else _0x51c4ec=![];}}_0x20ec9a>0x0&&_0x50d4a6===_0x20ec9a&&_0x51c4ec?_0x35d61b[_0x3dcbb9(0xbd6)]=0x1:_0x35d61b['specialist']=0x0,_0x4fcdd7[_0x3dcbb9(0x8ff)](_0x52b0a3,{'studentName':_0x4bcb57,'totalPoints':_0x5d34f6,'unlockedBadges':Object[_0x3dcbb9(0xadf)](_0x35d61b)[_0x3dcbb9(0x3d0)](_0xb04603=>_0x35d61b[_0xb04603]>0x0),'badgesCount':_0x35d61b},{'merge':!![]});});}catch(_0xc5e31f){console[_0x278cab(0x3f6)](_0x278cab(0x973),_0xc5e31f),showMessage(_0x278cab(0x907));}}function startAdminTest(){const _0x49689c=_0x4c4cf8;if(!currentQuizData){showMessage(_0x49689c(0xd1f));return;}let _0x367b13=JSON[_0x49689c(0x6d6)](JSON[_0x49689c(0xa88)](currentQuizData));currentMode='admin-testing',currentStudentName=_0x49689c(0x2f1),adminView[_0x49689c(0x67b)][_0x49689c(0x602)](_0x49689c(0x75c)),studentView[_0x49689c(0x67b)]['remove'](_0x49689c(0x75c)),studentInitialView[_0x49689c(0x67b)][_0x49689c(0x602)]('hidden'),studentNameSelectionView[_0x49689c(0x67b)][_0x49689c(0x602)](_0x49689c(0x75c)),studentResultArea[_0x49689c(0x67b)][_0x49689c(0x602)](_0x49689c(0x75c)),studentQuizArea[_0x49689c(0x67b)]['remove'](_0x49689c(0x75c)),quizStartTime=new Date(),displayQuizForStudent(_0x367b13);}function handleResultDisplay(_0x352d93,_0x5129c7,_0x70f8d1,_0x20934d,_0x56b232,_0x5e369f){const _0x125cba=_0x4c4cf8;if(_0x352d93===_0x125cba(0xaec)){displaySubmissionConfirmation();return;}const _0xec32e3=currentDisplayedQuiz[_0x125cba(0x793)]?.['passingScore']??Math['floor'](_0x5e369f/0x2),_0x5c9f87=currentDisplayedQuiz['settings']?.['isAdaptive']??![],_0x457fc9=currentDisplayedQuiz['settings']?.[_0x125cba(0xd85)]===!![],_0x17db32=_0x5129c7<_0xec32e3,_0x3a92fc=_0x352d93==='half_mark_status'||_0x352d93==='perfect_score_status';if(_0x457fc9&&_0x17db32&&!_0x3a92fc){_0x352d93===_0x125cba(0xacd)?displayResultsWithAnswers(_0x5129c7,_0x70f8d1,_0x20934d,_0x56b232,_0x5e369f,!![]):displayLoopScreen(_0x5129c7,_0x5e369f,_0x352d93);return;}if(_0x5c9f87&&_0x17db32){startAdaptiveFlow(_0x56b232,_0x5129c7,_0x5e369f);return;}switch(_0x352d93){case'show_results_and_answers':displayResultsWithAnswers(_0x5129c7,_0x70f8d1,_0x20934d,_0x56b232,_0x5e369f);break;case'show_results_only':displayResultsScoreOnly(_0x5129c7,_0x70f8d1,_0x20934d,_0x5e369f);break;case'show_pass_fail_only':displayPassFailOnly(_0x5129c7,_0x5e369f);break;case _0x125cba(0x72a):displayHalfMarkResult(_0x5129c7,_0x5e369f);break;case'perfect_score_status':displayPerfectScoreResult(_0x5129c7,_0x5e369f);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x3e4f26){const _0x182a48=_0x4c4cf8;studentReadingArea['innerHTML']=_0x182a48(0x3c0);const _0x82f6f9=_0x182a48(0x7a7)+_0x3e4f26+_0x182a48(0xbbc)+simpleMathPrompt+_0x182a48(0x862),_0x2587fb={'type':_0x182a48(0x8b8),'properties':{'questionText':{'type':_0x182a48(0x3db)},'options':{'type':_0x182a48(0x34a),'items':{'type':_0x182a48(0x3db)}},'correctAnswerIndex':{'type':_0x182a48(0xbad)},'explanation':{'type':'STRING'}},'required':[_0x182a48(0xa42),'options',_0x182a48(0x4e7),_0x182a48(0x8aa)]},_0x50cfbb={'type':_0x182a48(0x8b8),'properties':{'topic':{'type':_0x182a48(0x3db)},'questions':{'type':_0x182a48(0x34a),'items':_0x2587fb}},'required':[_0x182a48(0x3e7),'questions']};try{const _0x212425=await callAnalysisApi(_0x82f6f9,_0x50cfbb);_0x212425[_0x182a48(0x2cf)]=!![],studentReadingArea['classList'][_0x182a48(0x602)]('hidden');const _0x298cb9={...currentDisplayedQuiz[_0x182a48(0x793)],'isAdaptive':![],'resultsDisplay':_0x182a48(0xacd)};_0x212425[_0x182a48(0x793)]=_0x298cb9,displayQuizForStudent(_0x212425);}catch(_0x8dad7f){console['error']('Remedial\x20quiz\x20generation\x20failed:',_0x8dad7f),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView('student');}}function displayPassFailOnly(_0x884c33,_0x1c95e8){const _0xebf383=_0x4c4cf8,_0x4aff1c=currentDisplayedQuiz['settings']?.[_0xebf383(0xa66)]??-0x1,_0x2ae0e8=currentDisplayedQuiz['isRemedial']===!![];let _0x505ca1='',_0x193ffa=![];if(_0x2ae0e8||_0x4aff1c!==-0x1){_0x193ffa=_0x2ae0e8?_0x884c33===_0x1c95e8:_0x884c33>=_0x4aff1c;const _0x44421d=_0x193ffa?_0xebf383(0x7a5):'bg-red-100\x20text-red-800',_0x59cb12=_0x193ffa?_0xebf383(0xdbc):'ไม่ผ่าน';_0x505ca1='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0x44421d+'\x22>'+_0x59cb12+_0xebf383(0x62f);}else _0x505ca1=_0xebf383(0x997);let _0x4ab9fb=_0xebf383(0x991)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x505ca1+_0xebf383(0x622);studentResultArea[_0xebf383(0x66e)]=_0x4ab9fb,studentResultArea[_0xebf383(0x67b)][_0xebf383(0x7d5)](_0xebf383(0x75c)),studentQuizArea['classList'][_0xebf383(0x602)](_0xebf383(0x75c)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x193ffa});}function cancelAdminTest(){const _0x1eefc5=_0x4c4cf8;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x1eefc5(0x965)](_0x1eefc5(0xd7e),handleFullscreenChange),document[_0x1eefc5(0x965)](_0x1eefc5(0x473),handleVisibilityChange),currentMode=_0x1eefc5(0x694),studentView[_0x1eefc5(0x67b)][_0x1eefc5(0x602)](_0x1eefc5(0x75c)),adminView[_0x1eefc5(0x67b)]['remove'](_0x1eefc5(0x75c)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x1eefc5(0xd22));}function setupResultScreenBackButton(_0x4d7693){const _0x4bab2f=_0x4c4cf8,_0x3f41fc={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x4d7693};if(_0x3f41fc['isLooping']){const _0x4a31b2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea['insertAdjacentHTML'](_0x4bab2f(0x906),_0x4a31b2),document['getElementById'](_0x4bab2f(0xb90))[_0x4bab2f(0x28f)](_0x4bab2f(0x526),()=>{const _0x366324=_0x4bab2f;studentResultArea[_0x366324(0x67b)][_0x366324(0x602)](_0x366324(0x75c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x633d17=_0x4bab2f(0x3c5),_0x120424=currentMode===_0x4bab2f(0xd57),_0xbd30ae=_0x120424?_0x4bab2f(0x576):_0x4bab2f(0x8ca);let _0x5e73bb='';_0x3f41fc[_0x4bab2f(0x426)]&&(_0x5e73bb+=_0x4bab2f(0x65d));let _0x5ea116=_0x3f41fc[_0x4bab2f(0x7d3)];_0x5ea116===undefined&&(_0x5ea116=_0x3f41fc[_0x4bab2f(0x53c)]<_0x3f41fc[_0x4bab2f(0xdb4)]);_0x5ea116&&(_0x5e73bb+=_0x4bab2f(0x7ac));_0x5e73bb+=_0x4bab2f(0x5db)+_0x633d17+_0x4bab2f(0xcfe)+_0xbd30ae+_0x4bab2f(0x817);const _0x35b2a7='<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>'+_0x5e73bb+_0x4bab2f(0x83b);studentResultArea[_0x4bab2f(0x98b)](_0x4bab2f(0x906),_0x35b2a7),studentResultArea['querySelector'](_0x4bab2f(0x620))?.[_0x4bab2f(0x28f)](_0x4bab2f(0x526),handleShowStudentRankings);const _0x522b88=studentResultArea[_0x4bab2f(0x5c7)](_0x4bab2f(0x776));_0x522b88&&_0x522b88['addEventListener'](_0x4bab2f(0x526),()=>{const _0xa8f7=_0x4bab2f;studentResultArea['classList'][_0xa8f7(0x602)](_0xa8f7(0x75c)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x4bab2f(0x967)](_0x633d17)[_0x4bab2f(0x28f)]('click',()=>{const _0x5f4c9d=_0x4bab2f;_0x120424?(currentMode='admin',studentView[_0x5f4c9d(0x67b)][_0x5f4c9d(0x602)](_0x5f4c9d(0x75c)),adminView[_0x5f4c9d(0x67b)]['remove'](_0x5f4c9d(0x75c)),showView(_0x5f4c9d(0xd22))):(showView(_0x5f4c9d(0xbfe)),document[_0x5f4c9d(0x967)]('quiz-id-input')['value']='');});}function displayResultsWithAnswers(_0x4cef90,_0x270d18,_0x5e6297,_0xc92ee3,_0x91ee88,_0x36d084=![]){const _0x25e6c3=_0x4c4cf8,_0x180f2a=_0x91ee88>0x0?_0x4cef90/_0x91ee88*0x64:0x0,_0xfdd23b=currentDisplayedQuiz['settings']?.[_0x25e6c3(0xa66)]??-0x1,_0x3a8be4=currentDisplayedQuiz[_0x25e6c3(0x2cf)]===!![];let _0x1d1904='';if(_0x3a8be4||_0xfdd23b!==-0x1){let _0x407c38=_0x3a8be4?_0x4cef90===_0x91ee88:_0x4cef90>=_0xfdd23b;const _0x4ff729=_0x407c38?_0x25e6c3(0x7a5):_0x25e6c3(0x661),_0x3cde21=_0x407c38?_0x25e6c3(0xdbc):'ไม่ผ่าน';_0x1d1904='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x4ff729+'\x22>'+_0x3cde21+_0x25e6c3(0x2b7);}let _0x5c1e4c=_0x25e6c3(0xd9a)+currentStudentName+_0x25e6c3(0x9c1)+_0x4cef90+_0x25e6c3(0x46d)+_0x91ee88+_0x25e6c3(0x670)+_0x1d1904+_0x25e6c3(0x400)+_0x270d18+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x180f2a[_0x25e6c3(0x588)](0x0)+_0x25e6c3(0x642);currentDisplayedQuiz['questions'][_0x25e6c3(0xa3f)]((_0x2218a1,_0x209589)=>{const _0x39f010=_0x25e6c3,_0x1cf46a=_0xc92ee3[_0x209589],_0x5a7c97=_0x1cf46a[_0x39f010(0x422)],_0x362b47=_0x1cf46a[_0x39f010(0x4d1)],_0x263b6d=_0x2218a1['questionType']||currentDisplayedQuiz['quizType'];_0x5c1e4c+=_0x39f010(0xb06)+(_0x362b47?_0x39f010(0x7a6):_0x39f010(0x751))+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x209589+0x1)+'.\x20'+(_0x2218a1[_0x39f010(0xcc5)]||_0x2218a1[_0x39f010(0xa42)])+_0x39f010(0x6b7);switch(_0x263b6d){case _0x39f010(0xa02):const _0x232501=_0x5a7c97||'ไม่ได้ตอบ',_0x641203=_0x2218a1[_0x39f010(0x99f)];_0x5c1e4c+=_0x39f010(0x809)+(!_0x362b47?_0x39f010(0xd84):'')+'\x22>'+_0x232501+_0x39f010(0x220);!_0x362b47&&(_0x5c1e4c+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x641203+'</p>');break;case _0x39f010(0xa9d):_0x5c1e4c+=_0x39f010(0xd0b)+(_0x5a7c97||'ไม่ได้ตอบ')+_0x39f010(0x2b7),_0x5c1e4c+=_0x39f010(0xd5a)+_0x2218a1[_0x39f010(0x586)]+_0x39f010(0x2b7);break;case _0x39f010(0x34e):_0x5c1e4c+='<p\x20class=\x22'+(_0x2218a1[_0x39f010(0x60b)]===!![]?_0x39f010(0x3bd):'')+'\x20'+(_0x5a7c97===_0x39f010(0x75e)&&!_0x362b47?_0x39f010(0xd84):'')+_0x39f010(0xc46),_0x5c1e4c+='<p\x20class=\x22'+(_0x2218a1[_0x39f010(0x60b)]===![]?_0x39f010(0x3bd):'')+'\x20'+(_0x5a7c97===_0x39f010(0x984)&&!_0x362b47?_0x39f010(0xd84):'')+_0x39f010(0x81c);break;default:_0x5c1e4c+=_0x2218a1[_0x39f010(0x2e6)][_0x39f010(0x928)]((_0x463516,_0x41804a)=>{const _0x36da95=_0x39f010;let _0x145a63='',_0x1d276c='';if(_0x41804a===_0x2218a1['correctAnswerIndex'])_0x145a63='font-bold\x20text-green-700',_0x1d276c=_0x36da95(0x268);else _0x41804a===_0x5a7c97&&(_0x145a63=_0x36da95(0x227),_0x1d276c=_0x36da95(0x736));return _0x36da95(0xac7)+_0x145a63+'\x22>'+_0x1d276c+_0x463516+_0x36da95(0x83b);})[_0x39f010(0xbe3)]('');break;}_0x5c1e4c+=_0x39f010(0xc07)+(_0x2218a1['explanation']||'ไม่มีคำอธิบาย')+_0x39f010(0x83b);if(!_0x362b47){const _0x2f632b=_0x2218a1['stem']||_0x2218a1[_0x39f010(0xa42)];_0x5c1e4c+='<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22'+escape(_0x2f632b)+_0x39f010(0xd04);}_0x5c1e4c+='</div>';}),studentResultArea[_0x25e6c3(0x66e)]=_0x5c1e4c,renderEarnedBadges(_0x5e6297,_0x25e6c3(0x94e)),studentResultArea[_0x25e6c3(0x67b)][_0x25e6c3(0x7d5)](_0x25e6c3(0x75c)),studentQuizArea['classList'][_0x25e6c3(0x602)](_0x25e6c3(0x75c)),setupResultScreenBackButton({'isLooping':_0x36d084,'score':_0x4cef90,'totalQuestions':_0x91ee88,'showRankings':!![]});if(window[_0x25e6c3(0x7a4)])window[_0x25e6c3(0x7a4)]['typesetPromise']([studentResultArea]);}function displayResultsScoreOnly(_0x1e01a8,_0x32f04e,_0x562bdc,_0x306488){const _0xe1e149=_0x4c4cf8,_0x3ccc7a=_0x306488>0x0?_0x1e01a8/_0x306488*0x64:0x0,_0x166e7c=currentDisplayedQuiz[_0xe1e149(0x793)]?.[_0xe1e149(0xa66)]??-0x1,_0x2f3e2d=currentDisplayedQuiz[_0xe1e149(0x2cf)]===!![];let _0x539c6d='';if(_0x2f3e2d||_0x166e7c!==-0x1){let _0x56c579=_0x2f3e2d?_0x1e01a8===_0x306488:_0x1e01a8>=_0x166e7c;const _0x57f8bd=_0x56c579?_0xe1e149(0x7a5):_0xe1e149(0x661),_0x1b9ce4=_0x56c579?_0xe1e149(0xdbc):_0xe1e149(0x592);_0x539c6d=_0xe1e149(0xb3b)+_0x57f8bd+'\x22>'+_0x1b9ce4+_0xe1e149(0x2b7);}let _0x36226b=_0xe1e149(0x991)+currentStudentName+_0xe1e149(0x5a8)+_0x1e01a8+_0xe1e149(0x7d7)+_0x306488+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x539c6d+_0xe1e149(0x400)+_0x32f04e+_0xe1e149(0x7ed)+_0x3ccc7a[_0xe1e149(0x588)](0x0)+_0xe1e149(0x557);studentResultArea[_0xe1e149(0x66e)]=_0x36226b,renderEarnedBadges(_0x562bdc,_0xe1e149(0x94e)),studentResultArea[_0xe1e149(0x67b)][_0xe1e149(0x7d5)](_0xe1e149(0x75c)),studentQuizArea[_0xe1e149(0x67b)][_0xe1e149(0x602)](_0xe1e149(0x75c)),setupResultScreenBackButton({'score':_0x1e01a8,'totalQuestions':_0x306488,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x21fcd2=_0x4c4cf8;let _0x47deaa=_0x21fcd2(0x969)+currentStudentName+_0x21fcd2(0xc36);studentResultArea[_0x21fcd2(0x66e)]=_0x47deaa,studentResultArea[_0x21fcd2(0x67b)][_0x21fcd2(0x7d5)](_0x21fcd2(0x75c)),studentQuizArea[_0x21fcd2(0x67b)][_0x21fcd2(0x602)](_0x21fcd2(0x75c)),document[_0x21fcd2(0x967)](_0x21fcd2(0x689))[_0x21fcd2(0x28f)](_0x21fcd2(0x526),()=>{const _0x5e4842=_0x21fcd2;showView(_0x5e4842(0xbfe)),document[_0x5e4842(0x967)](_0x5e4842(0xa95))[_0x5e4842(0x734)]='';});}function renderEarnedBadges(_0x2d6e11,_0x414b30){const _0x345571=_0x4c4cf8,_0x52fe4a=document[_0x345571(0x967)](_0x414b30);if(!_0x52fe4a||!_0x2d6e11||_0x2d6e11[_0x345571(0xbe0)]===0x0)return;let _0x1c088f='';_0x2d6e11[_0x345571(0xa3f)]((_0x14a94a,_0x32968e)=>{const _0x3c2da5=_0x345571,_0x150be6=Object[_0x3c2da5(0x8c3)](BADGES)[_0x3c2da5(0x4c4)](_0x52b68e=>_0x52b68e['id']===_0x14a94a);_0x150be6&&(_0x1c088f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x32968e*0.2+'s;\x22\x20title=\x22'+_0x150be6[_0x3c2da5(0xa53)]+_0x3c2da5(0xa11)+_0x150be6[_0x3c2da5(0x84c)]+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x150be6[_0x3c2da5(0x7e7)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x52fe4a[_0x345571(0x66e)]=_0x1c088f;}function startPresentation(_0x12f962){const _0x505c6d=_0x4c4cf8;currentQuizData=getShuffledQuiz(_0x12f962),currentPresentationSlide=0x0,presentationModal[_0x505c6d(0xa49)]['display']=_0x505c6d(0x673),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x2ca897=_0x4c4cf8;document[_0x2ca897(0x9f2)]&&document[_0x2ca897(0x4bb)](),presentationModal[_0x2ca897(0xa49)]['display']=_0x2ca897(0x7e8);}function renderPresentationSlide(_0x17d694){const _0x48cbad=_0x4c4cf8,_0x44dbc6=document[_0x48cbad(0x967)](_0x48cbad(0x65b));if(!currentQuizData||!currentQuizData[_0x48cbad(0x271)]||!currentQuizData[_0x48cbad(0x271)][_0x17d694]){_0x44dbc6[_0x48cbad(0x66e)]=_0x48cbad(0xd0c);return;}const _0x453dfe=currentQuizData[_0x48cbad(0x271)][_0x17d694],_0x56deb6=_0x453dfe[_0x48cbad(0x252)]||currentQuizData['quizType'];_0x44dbc6['innerHTML']='';let _0x226235=_0x48cbad(0x7f0)+(_0x453dfe[_0x48cbad(0x2bd)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x453dfe[_0x48cbad(0x2bd)]+_0x48cbad(0x83b):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>'+(_0x17d694+0x1)+'.\x20'+(_0x453dfe[_0x48cbad(0xcc5)]||_0x453dfe[_0x48cbad(0xa42)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x56deb6){case _0x48cbad(0xa02):_0x226235+=_0x453dfe[_0x48cbad(0x541)]['map'](_0x2ab404=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2ab404+_0x48cbad(0x7d8))[_0x48cbad(0xbe3)]('');break;case'true_false':_0x226235+=_0x48cbad(0x8a5),_0x226235+=_0x48cbad(0x993);break;case'fill_in_no_choices':case _0x48cbad(0xa9d):_0x226235+=_0x48cbad(0x448);break;case _0x48cbad(0x59f):case _0x48cbad(0x474):default:_0x226235+=_0x453dfe['options']['map']((_0x24692f,_0x4542a5)=>_0x48cbad(0x5f4)+_0x4542a5+_0x48cbad(0xb6a)+_0x24692f+_0x48cbad(0x7d8))[_0x48cbad(0xbe3)]('');break;}_0x226235+=_0x48cbad(0xc91)+(_0x453dfe[_0x48cbad(0x8aa)]||_0x48cbad(0x874))+_0x48cbad(0xddc),_0x44dbc6[_0x48cbad(0x66e)]=_0x226235;if(window[_0x48cbad(0x7a4)])window[_0x48cbad(0x7a4)][_0x48cbad(0x634)]([_0x44dbc6]);let _0x20201e=[];switch(_0x56deb6){case _0x48cbad(0xa02):_0x20201e=_0x453dfe[_0x48cbad(0x541)]||[];break;case _0x48cbad(0x34e):_0x20201e=[_0x48cbad(0x6c8),_0x48cbad(0x569)];break;default:_0x20201e=_0x453dfe[_0x48cbad(0x2e6)]||[];break;}const _0x171823=document[_0x48cbad(0x967)](_0x48cbad(0x5f6));_0x171823&&(_0x171823[_0x48cbad(0x508)]=()=>{openScratchpad(_0x453dfe,_0x20201e);});document[_0x48cbad(0xdd7)](_0x48cbad(0xd5c))['forEach'](_0x1161f9=>{const _0x528697=_0x48cbad;_0x1161f9[_0x528697(0x28f)](_0x528697(0x526),_0x54eaa4=>revealAnswerForPresentation(_0x17d694,_0x54eaa4[_0x528697(0xd66)]));});const _0x4e3f69=document[_0x48cbad(0x967)]('check-presentation-answer-btn');_0x4e3f69&&_0x4e3f69[_0x48cbad(0x28f)]('click',()=>checkShortAnswerForPresentation(_0x17d694)),document[_0x48cbad(0x967)](_0x48cbad(0xde8))['textContent']=_0x48cbad(0x762)+(_0x17d694+0x1)+_0x48cbad(0xb12)+currentQuizData[_0x48cbad(0x271)][_0x48cbad(0xbe0)],document[_0x48cbad(0x967)]('prev-question-btn')['disabled']=_0x17d694===0x0,document[_0x48cbad(0x967)](_0x48cbad(0x5c0))[_0x48cbad(0x367)]=_0x17d694===currentQuizData['questions'][_0x48cbad(0xbe0)]-0x1;}async function checkShortAnswerForPresentation(_0x1e305e){const _0x35e70a=_0x4c4cf8,_0x53413f=currentQuizData[_0x35e70a(0x271)][_0x1e305e],_0x399b8a=document[_0x35e70a(0x967)](_0x35e70a(0xa94)),_0x32bf38=document['getElementById']('check-presentation-answer-btn'),_0x46ae5d=document[_0x35e70a(0x967)]('presentation-ai-result'),_0x148288=document[_0x35e70a(0x967)](_0x35e70a(0x49c));if(!_0x399b8a||!_0x32bf38||!_0x46ae5d||!_0x148288)return;const _0x532032=_0x399b8a[_0x35e70a(0x734)][_0x35e70a(0x46b)]();if(_0x532032==='')return;_0x32bf38[_0x35e70a(0x367)]=!![],_0x32bf38[_0x35e70a(0x66e)]=_0x35e70a(0x377),_0x399b8a['disabled']=!![];const _0x20055e=await gradeShortAnswer(_0x532032,_0x53413f);_0x20055e?_0x46ae5d[_0x35e70a(0x66e)]=_0x35e70a(0x891):_0x46ae5d[_0x35e70a(0x66e)]='<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20'+_0x53413f[_0x35e70a(0x586)]+')',_0x46ae5d[_0x35e70a(0x67b)]['remove']('hidden'),_0x148288['classList']['remove'](_0x35e70a(0x75c)),_0x32bf38[_0x35e70a(0x67b)]['add'](_0x35e70a(0x75c));}function revealAnswerForPresentation(_0x17b491,_0x4265ec){const _0x230a49=_0x4c4cf8,_0xf9e67d=currentQuizData[_0x230a49(0x271)][_0x17b491],_0x506be1=_0xf9e67d[_0x230a49(0x252)]||currentQuizData[_0x230a49(0xa28)];document[_0x230a49(0xdd7)](_0x230a49(0xd5c))[_0x230a49(0xa3f)](_0xb92f06=>{const _0x25ad19=_0x230a49;_0xb92f06[_0x25ad19(0x367)]=!![],_0xb92f06[_0x25ad19(0x67b)][_0x25ad19(0x7d5)](_0x25ad19(0xb9b));let _0x41348b=![];if(_0x506be1===_0x25ad19(0x474)||_0x506be1==='fill_in_the_blank'){const _0xdb1bc5=parseInt(_0xb92f06[_0x25ad19(0x305)]['index']);_0x41348b=_0xdb1bc5===_0xf9e67d['correctAnswerIndex'];}else{if(_0x506be1==='true_false'){const _0x3e258a=_0xb92f06[_0x25ad19(0x305)][_0x25ad19(0x422)]===_0x25ad19(0x75e);_0x41348b=_0x3e258a===_0xf9e67d[_0x25ad19(0x60b)];}else _0x506be1===_0x25ad19(0xa02)&&(_0x41348b=_0xb92f06[_0x25ad19(0xb9a)][_0x25ad19(0x46b)]()===_0xf9e67d[_0x25ad19(0x99f)]);}_0x41348b?_0xb92f06['classList']['add']('bg-green-500','text-white',_0x25ad19(0x45a)):_0xb92f06['classList']['add'](_0x25ad19(0xa00));}),_0x4265ec[_0x230a49(0x67b)]['remove'](_0x230a49(0xa00));let _0x2735fa=![];if(_0x506be1===_0x230a49(0x474))_0x2735fa=parseInt(_0x4265ec[_0x230a49(0x305)][_0x230a49(0x923)])===_0xf9e67d[_0x230a49(0x4e7)];else{if(_0x506be1===_0x230a49(0x34e))_0x2735fa=_0x4265ec[_0x230a49(0x305)][_0x230a49(0x422)]===_0x230a49(0x75e)===_0xf9e67d[_0x230a49(0x60b)];else _0x506be1===_0x230a49(0xa02)&&(_0x2735fa=_0x4265ec[_0x230a49(0xb9a)][_0x230a49(0x46b)]()===_0xf9e67d[_0x230a49(0x99f)]);}!_0x2735fa&&_0x4265ec[_0x230a49(0x67b)][_0x230a49(0x602)](_0x230a49(0x8e3),'text-white',_0x230a49(0xdb1)),document['getElementById'](_0x230a49(0x49c))['classList'][_0x230a49(0x7d5)](_0x230a49(0x75c));}function startWholeQuizTimer(_0x5a0571){const _0x414f3f=_0x4c4cf8,_0x5ad174=document[_0x414f3f(0x967)]('timer-container');if(!_0x5ad174)return;const _0x2749ee=Date[_0x414f3f(0xd7b)]()+_0x5a0571*0x3c*0x3e8;_0x5ad174[_0x414f3f(0x66e)]=_0x414f3f(0x76b);const _0x2926ba=document[_0x414f3f(0x967)](_0x414f3f(0x74f));quizTimerInterval=setInterval(()=>{const _0x7e0bc8=_0x414f3f,_0x257687=_0x2749ee-Date[_0x7e0bc8(0xd7b)]();if(_0x257687<=0x0)clearInterval(quizTimerInterval),_0x2926ba['textContent']=_0x7e0bc8(0x25a),showMessage('หมดเวลา!\x20กำลังส่งคำตอบ...'),handleSubmitQuiz(null);else{const _0x5c4f34=Math['floor'](_0x257687/0x3e8/0x3c%0x3c)[_0x7e0bc8(0x2f2)]()[_0x7e0bc8(0x209)](0x2,'0'),_0xaafd90=Math['floor'](_0x257687/0x3e8%0x3c)[_0x7e0bc8(0x2f2)]()['padStart'](0x2,'0');_0x2926ba[_0x7e0bc8(0xb9a)]=_0x5c4f34+':'+_0xaafd90;}},0x3e8);}function renderPerQuestionView(){const _0x2890cc=_0x4c4cf8;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x405c61=currentDisplayedQuiz[_0x2890cc(0x271)][currentQuestionIndex],_0x2a68ec=_0x405c61[_0x2890cc(0x252)]||currentDisplayedQuiz['quizType'],_0x2a4c9d=currentDisplayedQuiz[_0x2890cc(0x793)]?.[_0x2890cc(0x8dd)]===!![];let _0xa5aad0=_0x2890cc(0xb7f)+(currentQuestionIndex+0x1)+_0x2890cc(0x7cb)+currentDisplayedQuiz[_0x2890cc(0x271)][_0x2890cc(0xbe0)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin-testing'?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x2890cc(0x3e7)]+_0x2890cc(0x8f1);studentQuizArea[_0x2890cc(0x66e)]=_0xa5aad0;let _0x8b9743=_0x405c61['stem']||_0x405c61[_0x2890cc(0xa42)];_0x405c61[_0x2890cc(0x2bd)]&&(_0x8b9743+=_0x2890cc(0x89c)+_0x405c61['imageCode']+_0x2890cc(0x83b));let _0x50c609='';switch(_0x2a68ec){case _0x2890cc(0xa9d):case _0x2890cc(0x5b4):_0x50c609=_0x2890cc(0x4a7);break;case _0x2890cc(0x34e):_0x50c609=_0x2890cc(0x8af);break;case _0x2890cc(0xa02):_0x50c609=_0x2890cc(0x40b)+(_0x405c61['allResponses']||[])['map'](_0x575949=>_0x2890cc(0x63b)+_0x575949+'\x22>'+_0x575949+_0x2890cc(0xb96))[_0x2890cc(0xbe3)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>';break;default:_0x405c61[_0x2890cc(0x2e6)]&&(_0x50c609=_0x405c61[_0x2890cc(0x2e6)][_0x2890cc(0x928)]((_0x1892db,_0xbaa197)=>_0x2890cc(0x64f)+_0xbaa197+_0x2890cc(0x4d4)+_0xbaa197+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt'+_0xbaa197+'\x22>'+_0x1892db+'</label></div>')[_0x2890cc(0xbe3)](''));break;}document['getElementById'](_0x2890cc(0xa75))['innerHTML']=_0x8b9743,document[_0x2890cc(0x967)]('per-question-options')[_0x2890cc(0x66e)]=_0x50c609;const _0x4e49cb=currentDisplayedQuiz[_0x2890cc(0x793)]?.[_0x2890cc(0x8dd)]===!![],_0x25637f=currentDisplayedQuiz[_0x2890cc(0x793)]?.[_0x2890cc(0xcef)]||_0x2890cc(0x889);if(_0x4e49cb&&_0x25637f==='checkbox'){const _0x166478=_0x2890cc(0x70a);studentQuizArea[_0x2890cc(0x5c7)](_0x2890cc(0xacf))[_0x2890cc(0x98b)](_0x2890cc(0x906),_0x166478);}studentQuizArea[_0x2890cc(0x98b)](_0x2890cc(0x906),_0x2890cc(0x6b6)+(currentQuestionIndex===currentDisplayedQuiz['questions']['length']-0x1?'ส่งคำตอบ':_0x2890cc(0xbc2))+_0x2890cc(0x60e));currentMode===_0x2890cc(0xd57)&&document['getElementById'](_0x2890cc(0xce6))?.[_0x2890cc(0x28f)]('click',cancelAdminTest);document[_0x2890cc(0x967)](_0x2890cc(0xa9f))[_0x2890cc(0x28f)](_0x2890cc(0x526),()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window[_0x2890cc(0x7a4)][_0x2890cc(0x634)]([studentQuizArea]);currentDisplayedQuiz[_0x2890cc(0x793)]?.[_0x2890cc(0xb44)]==='per_question'&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x5de267=_0x4c4cf8,_0x3bc2c4=currentDisplayedQuiz[_0x5de267(0x793)]['timerDuration'],_0xe9c743=document[_0x5de267(0x967)](_0x5de267(0x486));if(!_0xe9c743)return;let _0x500635=_0x3bc2c4;_0xe9c743[_0x5de267(0x66e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x500635+_0x5de267(0x601);const _0x42429e=document['getElementById']('timer-bar'),_0x281102=document['getElementById'](_0x5de267(0x718));perQuestionTimerInterval=setInterval(()=>{const _0x5b8caa=_0x5de267;_0x500635--;const _0x36c9b3=_0x500635/_0x3bc2c4*0x64;_0x42429e[_0x5b8caa(0xa49)]['width']=_0x36c9b3+'%',_0x281102[_0x5b8caa(0xb9a)]=_0x500635,_0x500635<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x5b8caa(0xb14)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0xc15f11=![]){const _0x15cd0a=_0x4c4cf8;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x27bfc0=null,_0x242121=![];if(!_0xc15f11){const _0x5c3a1c=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x4a1e4d=_0x5c3a1c['questionType']||currentDisplayedQuiz[_0x15cd0a(0xa28)];if(_0x4a1e4d==='short_answer'||_0x4a1e4d===_0x15cd0a(0x5b4))_0x27bfc0=document[_0x15cd0a(0x5c7)](_0x15cd0a(0x578))?.[_0x15cd0a(0x734)][_0x15cd0a(0x46b)]()??'';else{if(_0x4a1e4d==='matching_item')_0x27bfc0=document['querySelector'](_0x15cd0a(0x74a))?.[_0x15cd0a(0x734)]??'';else{const _0x460e6c=document[_0x15cd0a(0x5c7)](_0x15cd0a(0xa40));_0x460e6c&&(_0x27bfc0=_0x460e6c['value']);}}if(_0x27bfc0===null||_0x27bfc0===''){showMessage(_0x15cd0a(0xadb)),startPerQuestionTimer();return;}const _0x4451a5=currentDisplayedQuiz[_0x15cd0a(0x793)]?.[_0x15cd0a(0x8dd)]===!![],_0xd864db=currentDisplayedQuiz['settings']?.[_0x15cd0a(0xcef)]||_0x15cd0a(0x889);if(_0x4451a5&&_0xd864db===_0x15cd0a(0xdd9)){document['getElementById'](_0x15cd0a(0xb7b))[_0x15cd0a(0x305)][_0x15cd0a(0xa69)]=_0x15cd0a(0x512),document[_0x15cd0a(0x967)](_0x15cd0a(0x394))[_0x15cd0a(0x734)]=_0x27bfc0,document[_0x15cd0a(0x967)](_0x15cd0a(0xb7b))['classList'][_0x15cd0a(0x7d5)](_0x15cd0a(0x75c));return;}const _0x3a7558=document[_0x15cd0a(0x967)](_0x15cd0a(0x9d0));_0x3a7558&&(_0x242121=_0x3a7558['checked']);}const _0x381003={'answer':_0x27bfc0,'wasConfident':_0x242121};proceedToNextQuestion(_0x381003);}async function finalizePerQuestionQuiz(){const _0xc61469=_0x4c4cf8,_0x38618e=currentDisplayedQuiz[_0xc61469(0x271)][_0xc61469(0x26d)](_0x37ccd1=>_0x37ccd1[_0xc61469(0x252)]===_0xc61469(0xa9d));_0x38618e?showMessage(_0xc61469(0xbff)):showMessage(_0xc61469(0x9f1));const _0x2f888c=currentQuizData['id'],_0x3b07c2=doc(db,_0xc61469(0x4e9)+appId+_0xc61469(0x868)+_0x2f888c+_0xc61469(0xa24),currentStudentName),_0x16f1d6=await getDoc(_0x3b07c2),_0x4a4043=_0x16f1d6[_0xc61469(0x78d)]()?_0x16f1d6[_0xc61469(0x6bc)]():{},_0x41e550=_0x4a4043[_0xc61469(0xd68)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x41e550);}function getResultsFilename(){const _0x40ff89=_0x4c4cf8,_0x36a5ba=document[_0x40ff89(0x967)]('results-quiz-title')[_0x40ff89(0xb9a)][_0x40ff89(0x528)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x40ff89(0xb54)+(_0x36a5ba||'quiz');}function exportResultsAsImage(){const _0x1afe43=_0x4c4cf8,_0x21b94f=document[_0x1afe43(0x967)](_0x1afe43(0xb37));showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x21b94f)[_0x1afe43(0x41b)](_0x382352=>{const _0x349bdc=_0x1afe43,_0x16d5b3=document[_0x349bdc(0x439)]('a');_0x16d5b3['download']=getResultsFilename()+_0x349bdc(0xdde),_0x16d5b3[_0x349bdc(0x725)]=_0x382352[_0x349bdc(0xbab)](_0x349bdc(0xa0c)),_0x16d5b3[_0x349bdc(0x526)](),messageModal[_0x349bdc(0x67b)][_0x349bdc(0x602)](_0x349bdc(0x75c));});}function exportResultsAsPDF(){const _0x49fda6=_0x4c4cf8,{jsPDF:_0x32be88}=window[_0x49fda6(0x8cd)],_0x2f306e=new _0x32be88();_0x2f306e[_0x49fda6(0x86f)](_0x49fda6(0xd6e),_0x49fda6(0x60f)),_0x2f306e[_0x49fda6(0x31d)]({'html':_0x49fda6(0x2c8)}),_0x2f306e[_0x49fda6(0xabc)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x5543df=_0x4c4cf8,_0x4ca291=_0x5543df(0x515)+_0x5543df(0x7c4)+_0x5543df(0x960)+_0x5543df(0xabb),_0x4716c8=_0x5543df(0x2b3),_0x451814=_0x4ca291+document[_0x5543df(0x967)](_0x5543df(0xb37))[_0x5543df(0x66e)]+_0x4716c8,_0x151888=_0x5543df(0x83f)+encodeURIComponent(_0x451814),_0x53e452=document[_0x5543df(0x439)]('a');document[_0x5543df(0x7c0)][_0x5543df(0xbf4)](_0x53e452),_0x53e452[_0x5543df(0x725)]=_0x151888,_0x53e452[_0x5543df(0xae0)]=getResultsFilename()+_0x5543df(0x8a8),_0x53e452[_0x5543df(0x526)](),document[_0x5543df(0x7c0)][_0x5543df(0xa9e)](_0x53e452);}function exportResultsAsExcel(){const _0x534f4a=_0x4c4cf8,_0x35394f=document['getElementById'](_0x534f4a(0x73f));let _0x46caff=[];for(let _0x146bbe=0x0;_0x146bbe<_0x35394f[_0x534f4a(0x796)][_0x534f4a(0xbe0)];_0x146bbe++){let _0x3608a7=[],_0x2ba964=_0x35394f['rows'][_0x146bbe][_0x534f4a(0xdd7)](_0x534f4a(0x297));for(let _0x4d716f=0x0;_0x4d716f<_0x2ba964[_0x534f4a(0xbe0)];_0x4d716f++){_0x3608a7[_0x534f4a(0xb0e)]('\x22'+_0x2ba964[_0x4d716f][_0x534f4a(0x54c)][_0x534f4a(0x528)](/"/g,'\x22\x22')+'\x22');}_0x46caff[_0x534f4a(0xb0e)](_0x3608a7[_0x534f4a(0xbe3)](','));}const _0x5e776b=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x46caff[_0x534f4a(0xbe3)]('\x0a')],{'type':_0x534f4a(0x6e9)}),_0xff1ae0=document['createElement']('a');_0xff1ae0[_0x534f4a(0x725)]=URL['createObjectURL'](_0x5e776b),_0xff1ae0['download']=getResultsFilename()+_0x534f4a(0x8c4),_0xff1ae0[_0x534f4a(0x526)]();}function exportTableAsImage(_0x3d3757,_0xc336b4){const _0x5584ff=_0x4c4cf8,_0x25c97c=document['getElementById'](_0x3d3757);if(!_0x25c97c){showMessage(_0x5584ff(0x652));return;}showMessage(_0x5584ff(0x95d)),html2canvas(_0x25c97c)[_0x5584ff(0x41b)](_0x47441b=>{const _0x2a319d=_0x5584ff,_0x59a307=document[_0x2a319d(0x439)]('a');_0x59a307[_0x2a319d(0xae0)]=_0xc336b4+_0x2a319d(0xdde),_0x59a307[_0x2a319d(0x725)]=_0x47441b['toDataURL'](_0x2a319d(0xa0c)),_0x59a307['click'](),messageModal[_0x2a319d(0x67b)][_0x2a319d(0x602)](_0x2a319d(0x75c));});}function exportTableAsPDF(_0x302d86,_0x3e4548){const _0x21dda4=_0x4c4cf8,{jsPDF:_0x1cf6b7}=window[_0x21dda4(0x8cd)],_0x12f643=new _0x1cf6b7();_0x12f643[_0x21dda4(0x86f)](_0x21dda4(0xd6e),_0x21dda4(0x60f)),_0x12f643[_0x21dda4(0x31d)]({'html':'#'+_0x302d86}),_0x12f643[_0x21dda4(0xabc)](_0x3e4548+_0x21dda4(0xab6));}function exportTableAsWord(_0x1e7f18,_0x4c2ef7){const _0x22e315=_0x4c4cf8,_0x2f2c22=document[_0x22e315(0x967)](_0x1e7f18);if(!_0x2f2c22){showMessage(_0x22e315(0x652));return;}const _0x475a75='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x22e315(0x7c4)+_0x22e315(0x960)+_0x22e315(0xabb),_0x5b883c=_0x22e315(0x2b3),_0x4f448b=_0x475a75+_0x2f2c22[_0x22e315(0x66e)]+_0x5b883c,_0xe3d736=_0x22e315(0x83f)+encodeURIComponent(_0x4f448b),_0x400c50=document['createElement']('a');document[_0x22e315(0x7c0)][_0x22e315(0xbf4)](_0x400c50),_0x400c50[_0x22e315(0x725)]=_0xe3d736,_0x400c50[_0x22e315(0xae0)]=_0x4c2ef7+_0x22e315(0x8a8),_0x400c50[_0x22e315(0x526)](),document[_0x22e315(0x7c0)]['removeChild'](_0x400c50);}function exportTableAsExcel(_0x3d8db9,_0x550734){const _0x6d9cd0=_0x4c4cf8,_0x411b3d=document[_0x6d9cd0(0x967)](_0x3d8db9);if(!_0x411b3d){showMessage(_0x6d9cd0(0x652));return;}let _0x529929=[];for(let _0x278810=0x0;_0x278810<_0x411b3d[_0x6d9cd0(0x796)][_0x6d9cd0(0xbe0)];_0x278810++){let _0x15b1c9=[],_0x2c25ad=_0x411b3d['rows'][_0x278810][_0x6d9cd0(0xdd7)]('td,\x20th');for(let _0x10f560=0x0;_0x10f560<_0x2c25ad[_0x6d9cd0(0xbe0)];_0x10f560++){_0x15b1c9[_0x6d9cd0(0xb0e)]('\x22'+_0x2c25ad[_0x10f560][_0x6d9cd0(0x54c)][_0x6d9cd0(0x528)](/"/g,'\x22\x22')+'\x22');}_0x529929[_0x6d9cd0(0xb0e)](_0x15b1c9['join'](','));}const _0x20e9a0=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x529929['join']('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x543b8b=document[_0x6d9cd0(0x439)]('a');_0x543b8b[_0x6d9cd0(0x725)]=URL[_0x6d9cd0(0xc06)](_0x20e9a0),_0x543b8b[_0x6d9cd0(0xae0)]=_0x550734+_0x6d9cd0(0x8c4),_0x543b8b[_0x6d9cd0(0x526)]();}function renderAnalytics(_0x4540ea,_0x599271){const _0x284b51=_0x4c4cf8,_0x30c4f1=_0x599271[_0x284b51(0x3d0)](_0x5d2ffa=>_0x5d2ffa['latestScore']!==undefined),_0xb1cba2=currentProjectData['students'][_0x284b51(0xbe0)],_0x4d9a08=_0x30c4f1[_0x284b51(0xbe0)],_0xcd92f4=_0xb1cba2-_0x4d9a08,_0x4df4db=_0xb1cba2>0x0?_0x4d9a08/_0xb1cba2*0x64:0x0,_0x367337=_0x30c4f1[_0x284b51(0x928)](_0x319aaf=>_0x319aaf['latestScore']),_0x5b620d=_0x367337[_0x284b51(0xbe0)]>0x0?_0x367337[_0x284b51(0x2c1)]((_0x52ae15,_0xd0678c)=>_0x52ae15+_0xd0678c,0x0)/_0x367337[_0x284b51(0xbe0)]:0x0,_0x1b29ad=_0x4540ea['questions'][_0x284b51(0xbe0)],_0x1f20e2=_0x1b29ad>0x0?_0x5b620d/_0x1b29ad*0x64:0x0,_0x3a52dc=calculateItemAnalysis(_0x4540ea,_0x30c4f1),_0x2db651=calculateReliabilityKR20(_0x4540ea,_0x30c4f1,_0x3a52dc[_0x284b51(0x6fc)]);let _0x16b99b='';if(_0x2db651!==null){let _0x38adc7='';if(_0x2db651>=0.9)_0x38adc7=_0x284b51(0x4fe);else{if(_0x2db651>=0.8)_0x38adc7=_0x284b51(0xae5);else{if(_0x2db651>=0.7)_0x38adc7='ดี';else{if(_0x2db651>=0.6)_0x38adc7=_0x284b51(0x364);else _0x38adc7=_0x284b51(0x1ef);}}}_0x16b99b=_0x284b51(0x9cf)+_0x2db651[_0x284b51(0x588)](0x2)+_0x284b51(0x469)+_0x38adc7+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}const _0x224f27=document[_0x284b51(0x967)](_0x284b51(0x383));_0x224f27[_0x284b51(0x66e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>'+_0x4df4db[_0x284b51(0x588)](0x0)+_0x284b51(0xb21)+_0x4d9a08+'/'+_0xb1cba2+_0x284b51(0x6cc)+_0x5b620d[_0x284b51(0x588)](0x2)+_0x284b51(0x795)+_0x1f20e2['toFixed'](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>'+(_0x367337['length']>0x0?Math[_0x284b51(0x940)](..._0x367337):_0x284b51(0x9bd))+_0x284b51(0xd34)+(_0x367337[_0x284b51(0xbe0)]>0x0?Math[_0x284b51(0x49e)](..._0x367337):_0x284b51(0x9bd))+_0x284b51(0xa41)+_0x16b99b+_0x284b51(0x862);const _0x274b8a=document[_0x284b51(0x967)](_0x284b51(0xd3b));_0x274b8a&&_0x274b8a[_0x284b51(0x7d5)]();const _0x546b89=_0x284b51(0x97f);_0x224f27['insertAdjacentHTML']('afterend',_0x546b89);const _0x55bebe=currentProjectData[_0x284b51(0x547)]||[];renderSubmissionChart(_0x4d9a08,_0xcd92f4,_0x30c4f1,_0x55bebe),renderScoreDistributionChart(_0x30c4f1,_0x1b29ad),renderQuestionAnalytics(_0x4540ea,_0x30c4f1,_0x55bebe),renderInterestingStats(_0x4540ea,_0x30c4f1);}async function handleExportLessonPDF(){const _0x54a8dc=_0x4c4cf8,_0x25bb4b=document['getElementById'](_0x54a8dc(0xa39)),_0x41f99c=document[_0x54a8dc(0x967)]('lesson-plan-title')[_0x54a8dc(0xb9a)],_0x5b0923=window[_0x54a8dc(0xc54)]('',_0x54a8dc(0x9c5)),_0xf258d6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x41f99c+_0x54a8dc(0x47a)+_0x25bb4b[_0x54a8dc(0x66e)]+_0x54a8dc(0xcf0);_0x5b0923[_0x54a8dc(0x410)]['write'](_0xf258d6),_0x5b0923[_0x54a8dc(0x410)]['close'](),_0x5b0923['onload']=function(){setTimeout(()=>{_0x5b0923['print']();},0x5dc);};}function renderInterestingStats(_0x43bce2,_0x3f07e6){const _0x1905e4=_0x4c4cf8,_0x188100=document[_0x1905e4(0x967)](_0x1905e4(0xb38));if(!_0x188100)return;if(_0x3f07e6[_0x1905e4(0xbe0)]===0x0){_0x188100['innerHTML']=_0x1905e4(0x7ad);return;}const _0x58e47b=_0x43bce2[_0x1905e4(0x271)][_0x1905e4(0x928)]((_0x3ea591,_0x5be79a)=>({'index':_0x5be79a+0x1,'text':_0x3ea591[_0x1905e4(0xa42)]||_0x3ea591[_0x1905e4(0xcc5)],'correct':0x0}));_0x3f07e6['forEach'](_0x11b8a9=>{const _0x3401f4=_0x1905e4,_0x529fb2=_0x11b8a9['attempts'][_0x11b8a9[_0x3401f4(0xd68)][_0x3401f4(0xbe0)]-0x1];_0x529fb2&&_0x529fb2[_0x3401f4(0x646)]&&_0x529fb2[_0x3401f4(0x646)]['forEach'](_0x1e139e=>{const _0x22dca7=_0x3401f4,_0xca66d3=_0x58e47b[_0x22dca7(0x4c4)](_0xc9be40=>_0xc9be40[_0x22dca7(0x5cd)]===_0x1e139e[_0x22dca7(0x540)]);_0x1e139e[_0x22dca7(0x4d1)]&&_0xca66d3&&_0xca66d3[_0x22dca7(0x5d9)]++;});});const _0x57f3a7=_0x3f07e6[_0x1905e4(0xbe0)],_0x59f395=Math[_0x1905e4(0x940)](..._0x58e47b[_0x1905e4(0x928)](_0x32ac8a=>_0x32ac8a[_0x1905e4(0x5d9)])),_0x8e32b1=Math[_0x1905e4(0x49e)](..._0x58e47b[_0x1905e4(0x928)](_0x1cc024=>_0x1cc024[_0x1905e4(0x5d9)])),_0x47dd5c=_0x58e47b[_0x1905e4(0x3d0)](_0x85014a=>_0x85014a['correct']===_0x59f395)['map'](_0x57fce6=>'ข้อ\x20'+_0x57fce6[_0x1905e4(0x923)]),_0xcabe0f=_0x58e47b['filter'](_0x408874=>_0x408874['correct']===_0x8e32b1)[_0x1905e4(0x928)](_0x53dc45=>_0x1905e4(0x391)+_0x53dc45[_0x1905e4(0x923)]),_0x5f575e=_0x3f07e6['sort']((_0x12b2a0,_0x56b6a0)=>_0x56b6a0['latestScore']-_0x12b2a0['latestScore'])[_0x1905e4(0x3d0)]((_0x348731,_0x4ea3ec,_0x459ba7)=>_0x348731[_0x1905e4(0xaa7)]===_0x459ba7[0x0][_0x1905e4(0xaa7)]),_0x1591d5=_0x3f07e6[_0x1905e4(0x8a7)]((_0xfaeae0,_0x1e4325)=>_0xfaeae0[_0x1905e4(0xaa7)]-_0x1e4325[_0x1905e4(0xaa7)])[_0x1905e4(0x3d0)]((_0x384b9b,_0x329b3c,_0x39e824)=>_0x384b9b[_0x1905e4(0xaa7)]===_0x39e824[0x0]['latestScore']),_0x5cf7db=_0x1905e4(0xb8a)+_0x47dd5c[_0x1905e4(0xbe3)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x59f395+_0x1905e4(0xb12)+_0x57f3a7+_0x1905e4(0x47b)+_0xcabe0f['join'](',\x20')+_0x1905e4(0x7ff)+(_0x57f3a7-_0x8e32b1)+_0x1905e4(0xb12)+_0x57f3a7+_0x1905e4(0x931)+_0x5f575e[_0x1905e4(0x928)](_0x382ed=>_0x382ed['studentName'])[_0x1905e4(0xbe3)](',\x20')+_0x1905e4(0x2a5)+_0x5f575e[0x0][_0x1905e4(0xaa7)]+_0x1905e4(0x282)+_0x1591d5[_0x1905e4(0x928)](_0x1167b7=>_0x1167b7[_0x1905e4(0x1fd)])['join'](',\x20')+_0x1905e4(0x2a5)+_0x1591d5[0x0][_0x1905e4(0xaa7)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x188100[_0x1905e4(0x66e)]=_0x5cf7db;}function renderSubmissionChart(_0x2899fd,_0x48aaea,_0x1be5cb,_0x3bb97e){const _0x3b9adf=_0x4c4cf8,_0x368e74=document[_0x3b9adf(0x967)](_0x3b9adf(0x7c8))[_0x3b9adf(0x3ee)]('2d'),_0x22619d=_0x1be5cb[_0x3b9adf(0x928)](_0x1383ef=>_0x1383ef[_0x3b9adf(0x1fd)]),_0x9fedb7=_0x3bb97e[_0x3b9adf(0x3d0)](_0xf96f04=>!_0x22619d['includes'](_0xf96f04));chartInstances[_0x3b9adf(0x74c)]&&chartInstances['submission']['destroy'](),chartInstances[_0x3b9adf(0x74c)]=new Chart(_0x368e74,{'type':'doughnut','data':{'labels':[_0x3b9adf(0x57d),_0x3b9adf(0xaf2)],'datasets':[{'data':[_0x2899fd,_0x48aaea],'backgroundColor':['#10B981',_0x3b9adf(0x93f)],'borderColor':[_0x3b9adf(0xa80),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x3b9adf(0x26c)},'tooltip':{'callbacks':{'label':function(_0x1d5b22){const _0x2c24dd=_0x3b9adf;let _0x2f0e8d=_0x1d5b22[_0x2c24dd(0x2a8)]||'';return _0x2f0e8d&&(_0x2f0e8d+=':\x20'),_0x2f0e8d+=_0x1d5b22['raw'],_0x2f0e8d;},'afterLabel':function(_0x346284){const _0xcdf8bf=_0x3b9adf;let _0x57eb66;return _0x346284[_0xcdf8bf(0xb2a)]===0x0?_0x57eb66=_0x22619d:_0x57eb66=_0x9fedb7,_0x57eb66[_0xcdf8bf(0xbe0)]>0x0?_0x57eb66[_0xcdf8bf(0xbe3)]('\x0a'):_0xcdf8bf(0x4e5);}}}}}});}function renderScoreDistributionChart(_0x49b047,_0x2ac7b4){const _0x5da08c=_0x4c4cf8,_0x5e7111=document[_0x5da08c(0x967)](_0x5da08c(0x6df))[_0x5da08c(0x3ee)]('2d'),_0x5f44ed={};for(let _0x1283fc=0x0;_0x1283fc<=_0x2ac7b4;_0x1283fc++){_0x5f44ed[_0x1283fc]=0x0;}_0x49b047['forEach'](_0x131e0f=>{const _0x18a86a=_0x5da08c;_0x5f44ed[_0x131e0f[_0x18a86a(0xaa7)]]!==undefined&&_0x5f44ed[_0x131e0f['latestScore']]++;}),chartInstances['score']&&chartInstances[_0x5da08c(0x53c)][_0x5da08c(0xaa9)](),chartInstances[_0x5da08c(0x53c)]=new Chart(_0x5e7111,{'type':'bar','data':{'labels':Object['keys'](_0x5f44ed),'datasets':[{'label':_0x5da08c(0x219),'data':Object[_0x5da08c(0x8c3)](_0x5f44ed),'backgroundColor':_0x5da08c(0x641),'borderColor':_0x5da08c(0xc86),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x5da08c(0x7fc)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x36f997){const _0x44c49b=_0x5da08c,_0x1981be=_0x36f997['label'],_0x427ec3=_0x49b047[_0x44c49b(0x3d0)](_0x5d7f96=>_0x5d7f96['latestScore']==_0x1981be)[_0x44c49b(0x928)](_0x5d0dbd=>_0x5d0dbd['studentName']);return _0x427ec3['length']>0x0?_0x427ec3[_0x44c49b(0xbe3)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x409cd2,_0x8943bb,_0x14f7b5){const _0x189b8c=_0x4c4cf8,_0xcb18cd=document[_0x189b8c(0x967)]('question-analytics-container');if(_0x14f7b5[_0x189b8c(0xbe0)]===0x0){_0xcb18cd['innerHTML']='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x2dada0=calculateItemAnalysis(_0x409cd2,_0x8943bb),_0x259b20=calculateDistractorAnalysis(_0x409cd2,_0x8943bb);let _0x65c52f='';_0x2dada0['overallGroups']&&(_0x65c52f=_0x189b8c(0x632)+_0x2dada0[_0x189b8c(0x854)][_0x189b8c(0xb97)][_0x189b8c(0xbe0)]+_0x189b8c(0xa7f)+_0x2dada0[_0x189b8c(0x854)]['upperGroupNames'][_0x189b8c(0x928)](_0x1d09b1=>_0x189b8c(0x883)+_0x1d09b1+_0x189b8c(0xcff))[_0x189b8c(0xbe3)]('')+_0x189b8c(0xdd4)+_0x2dada0[_0x189b8c(0x854)]['lowerGroupNames'][_0x189b8c(0xbe0)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2dada0[_0x189b8c(0x854)][_0x189b8c(0x699)][_0x189b8c(0x928)](_0x523118=>'<li>'+_0x523118+_0x189b8c(0xcff))[_0x189b8c(0xbe3)]('')+_0x189b8c(0x703));let _0x264044='';const _0x54a0a8=_0x8943bb['map'](_0x40cef4=>_0x40cef4[_0x189b8c(0x1fd)]),_0x4f66af=_0x2281a8=>{const _0x510b4b=_0x189b8c;if(_0x2281a8>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x2281a8>=0.6)return _0x510b4b(0x31c);if(_0x2281a8>=0.4)return _0x510b4b(0x6a3);if(_0x2281a8>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0x510b4b(0xbca);},_0x19bcb4=_0x18c2c0=>{const _0x99fcb6=_0x189b8c;if(_0x18c2c0<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x18c2c0>=0.4)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>';if(_0x18c2c0>=0.3)return _0x99fcb6(0x944);if(_0x18c2c0>=0.2)return _0x99fcb6(0x556);return _0x99fcb6(0x5fc);},_0x4f5359=_0x2a7419=>{const _0x46f33e=_0x189b8c,_0x36156b=_0x2a7419[_0x46f33e(0x588)](0x0);if(parseFloat(_0x36156b)===0x64)return _0x46f33e(0xb84)+_0x36156b+'%</span>';if(_0x2a7419>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x36156b+'%</span>';return _0x46f33e(0x695)+_0x36156b+_0x46f33e(0xb70);};_0x409cd2['questions'][_0x189b8c(0xa3f)]((_0x43b5bf,_0x210c60)=>{const _0x1d72e4=_0x189b8c,_0x1abd57=_0x2dada0[_0x1d72e4(0x6fc)][_0x210c60],_0x30fc12=_0x259b20[_0x210c60],_0x551147=_0x43b5bf[_0x1d72e4(0xcc5)]||_0x43b5bf[_0x1d72e4(0xa42)]||_0x43b5bf[_0x1d72e4(0x450)];let _0x11d4d0=0x0;const _0x4fc2db=[],_0x363f97=[];_0x8943bb['forEach'](_0x381368=>{const _0x4ea81b=_0x1d72e4,_0x1130cb=_0x381368['attempts'][_0x381368[_0x4ea81b(0xd68)][_0x4ea81b(0xbe0)]-0x1];if(_0x1130cb&&_0x1130cb[_0x4ea81b(0x646)]){const _0x3ffb54=_0x1130cb[_0x4ea81b(0x646)][_0x4ea81b(0x4c4)](_0x4b9d5d=>_0x4b9d5d[_0x4ea81b(0x540)]===_0x551147)??_0x1130cb[_0x4ea81b(0x646)][_0x210c60]??null;_0x3ffb54&&(_0x3ffb54[_0x4ea81b(0x4d1)]?(_0x11d4d0++,_0x4fc2db[_0x4ea81b(0xb0e)](_0x381368[_0x4ea81b(0x1fd)])):_0x363f97[_0x4ea81b(0xb0e)](_0x381368[_0x4ea81b(0x1fd)]));}});const _0x4bd883=_0x8943bb['length']>0x0?_0x11d4d0/_0x8943bb[_0x1d72e4(0xbe0)]*0x64:0x0,_0x4622e8=_0x14f7b5['filter'](_0x4e6ce5=>!_0x54a0a8[_0x1d72e4(0xb02)](_0x4e6ce5)),_0x172b75=_0x1abd57?_0x1d72e4(0x709)+_0x1abd57['p'][_0x1d72e4(0x588)](0x2)+_0x1d72e4(0x9b1)+_0x4f66af(_0x1abd57['p'])+_0x1d72e4(0x915)+_0x1abd57['r']['toFixed'](0x2)+'</p><div>'+_0x19bcb4(_0x1abd57['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4f5359(_0x4bd883)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>':'';let _0x5a3a4f='';_0x30fc12&&(_0x5a3a4f=_0x1d72e4(0x245)+Object['keys'](_0x30fc12)[_0x1d72e4(0x928)](_0x518f9d=>{const _0x2d75fb=_0x1d72e4,_0x38b235=_0x30fc12[_0x518f9d],_0x4b8a12=parseInt(_0x518f9d)===_0x43b5bf[_0x2d75fb(0x4e7)],_0x3833ca=!_0x4b8a12&&_0x38b235[_0x2d75fb(0x51b)]>_0x38b235[_0x2d75fb(0x3c7)];return _0x2d75fb(0xb2e)+(_0x4b8a12?'bg-green-100\x20font-bold':'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x4b8a12?'✔\x20':'')+_0x38b235[_0x2d75fb(0x5cd)]+_0x2d75fb(0x96b)+_0x38b235[_0x2d75fb(0x3c7)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x38b235[_0x2d75fb(0x51b)]+'\x20'+(_0x3833ca?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x38b235[_0x2d75fb(0xd1d)]+_0x2d75fb(0x403);})[_0x1d72e4(0xbe3)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>');let _0x1c5e86='';_0x1abd57&&_0x1abd57['upperGroupResponders']&&(_0x1c5e86=_0x1d72e4(0xb8b)+_0x1abd57[_0x1d72e4(0x4d5)]['length']+_0x1d72e4(0x755)+_0x1abd57[_0x1d72e4(0x4d5)][_0x1d72e4(0x928)](_0x4921c1=>'<li>'+(_0x4921c1[_0x1d72e4(0x4d1)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x4921c1[_0x1d72e4(0x7e7)]+_0x1d72e4(0xcff))[_0x1d72e4(0xbe3)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x1abd57['lowerGroupResponders']['length']+_0x1d72e4(0x755)+_0x1abd57[_0x1d72e4(0xd38)][_0x1d72e4(0x928)](_0x2a4858=>_0x1d72e4(0x883)+(_0x2a4858[_0x1d72e4(0x4d1)]?_0x1d72e4(0x43e):_0x1d72e4(0xdf3))+'\x20'+_0x2a4858[_0x1d72e4(0x7e7)]+_0x1d72e4(0xcff))[_0x1d72e4(0xbe3)]('')+_0x1d72e4(0x415)),_0x264044+=_0x1d72e4(0x61d)+(_0x210c60+0x1)+':\x20'+_0x551147+_0x1d72e4(0x38a)+_0x172b75+_0x1d72e4(0xb2c)+_0x551147+_0x1d72e4(0xabf)+_0x11d4d0+_0x1d72e4(0x7cb)+_0x8943bb['length']+_0x1d72e4(0x336)+_0x4bd883[_0x1d72e4(0x588)](0x0)+_0x1d72e4(0x416)+_0x4fc2db['length']+_0x1d72e4(0x78b)+(_0x4fc2db[_0x1d72e4(0xbe0)]>0x0?_0x4fc2db[_0x1d72e4(0xbe3)](',\x20'):_0x1d72e4(0x4e5))+_0x1d72e4(0x6fd)+_0x363f97[_0x1d72e4(0xbe0)]+_0x1d72e4(0x78b)+(_0x363f97[_0x1d72e4(0xbe0)]>0x0?_0x363f97['join'](',\x20'):'ไม่มี')+_0x1d72e4(0x706)+_0x4622e8['length']+_0x1d72e4(0x78b)+(_0x4622e8[_0x1d72e4(0xbe0)]>0x0?_0x4622e8[_0x1d72e4(0xbe3)](',\x20'):_0x1d72e4(0x4e5))+_0x1d72e4(0x30a)+_0x5a3a4f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1c5e86+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0xcb18cd['innerHTML']=_0x65c52f+_0x264044;try{window[_0x189b8c(0x7a4)]&&MathJax['typesetPromise']&&MathJax[_0x189b8c(0x634)]([_0xcb18cd]);}catch(_0x7691e6){console[_0x189b8c(0x3f6)](_0x189b8c(0x76d),_0x7691e6);}}function calculateDistractorAnalysis(_0x436063,_0x54f6e2){const _0x15e902=_0x4c4cf8,_0x1afbd5={};if(_0x54f6e2[_0x15e902(0xbe0)]<0x2)return _0x1afbd5;const _0x48713d=[..._0x54f6e2][_0x15e902(0x8a7)]((_0x4e29b7,_0x48879e)=>{const _0x5ed8f1=_0x15e902,_0x45304d=_0x48879e[_0x5ed8f1(0xaa7)]-_0x4e29b7['latestScore'];if(_0x45304d!==0x0)return _0x45304d;const _0x58ce54=_0x4e29b7['attempts']?.[_0x5ed8f1(0xbe0)]||0x1,_0x2ebc1c=_0x48879e[_0x5ed8f1(0xd68)]?.[_0x5ed8f1(0xbe0)]||0x1,_0x2dd8b7=_0x58ce54-_0x2ebc1c;if(_0x2dd8b7!==0x0)return _0x2dd8b7;const _0x5ed01b=new Date(_0x4e29b7[_0x5ed8f1(0x968)]),_0x3a3377=new Date(_0x48879e['latestSubmittedAt']),_0x333ede=_0x5ed01b-_0x3a3377;if(_0x333ede!==0x0)return _0x333ede;return _0x4e29b7['studentName'][_0x5ed8f1(0xd8a)](_0x48879e[_0x5ed8f1(0x1fd)],'th');}),_0x1cbdb5=_0x48713d[_0x15e902(0xbe0)],_0x572e10=Math[_0x15e902(0x940)](0x1,Math[_0x15e902(0xd2a)](_0x1cbdb5*0.33)),_0x59a32a=_0x48713d['slice'](0x0,_0x572e10),_0x34b96b=_0x48713d[_0x15e902(0x732)](-_0x572e10);return _0x436063[_0x15e902(0x271)][_0x15e902(0xa3f)]((_0x178cb4,_0x1c8ad5)=>{const _0x71a4a1=_0x15e902;if(_0x178cb4['questionType']!=='multiple_choice'||!_0x178cb4[_0x71a4a1(0x2e6)])return;const _0x5914e4=_0x178cb4[_0x71a4a1(0xa42)],_0x40b3b2={};_0x178cb4['options'][_0x71a4a1(0xa3f)]((_0x186376,_0x133772)=>{_0x40b3b2[_0x133772]={'text':_0x186376,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x48713d[_0x71a4a1(0xa3f)](_0x4cb3b8=>{const _0x5a2f2e=_0x71a4a1,_0x4720d6=_0x4cb3b8[_0x5a2f2e(0xd68)][_0x4cb3b8[_0x5a2f2e(0xd68)][_0x5a2f2e(0xbe0)]-0x1],_0x3180df=_0x4720d6[_0x5a2f2e(0x646)][_0x5a2f2e(0x4c4)](_0x17ea55=>_0x17ea55[_0x5a2f2e(0x540)]===_0x5914e4);if(_0x3180df&&_0x3180df['answer']!==null){const _0x1ae380=_0x178cb4[_0x5a2f2e(0x2e6)][_0x5a2f2e(0x4ce)](_0xdcb0a0=>_0xdcb0a0===_0x3180df['answerText']);_0x1ae380!==-0x1&&_0x40b3b2[_0x1ae380]&&(_0x40b3b2[_0x1ae380][_0x5a2f2e(0xd1d)]++,_0x59a32a[_0x5a2f2e(0xb02)](_0x4cb3b8)&&_0x40b3b2[_0x1ae380][_0x5a2f2e(0x3c7)]++,_0x34b96b[_0x5a2f2e(0xb02)](_0x4cb3b8)&&_0x40b3b2[_0x1ae380][_0x5a2f2e(0x51b)]++);}}),_0x1afbd5[_0x1c8ad5]=_0x40b3b2;}),_0x1afbd5;}function calculateReliabilityKR20(_0x58192c,_0x4b110d,_0x92381d){const _0x25886e=_0x4c4cf8,_0x169918=_0x58192c[_0x25886e(0x271)][_0x25886e(0xbe0)];if(_0x169918<0x2||_0x4b110d['length']<0x2)return null;const _0x3e7ec6=_0x4b110d[_0x25886e(0x928)](_0x3d87cf=>_0x3d87cf[_0x25886e(0xaa7)]),_0x5a7147=_0x3e7ec6[_0x25886e(0x2c1)]((_0x4aca13,_0x558a11)=>_0x4aca13+_0x558a11,0x0)/_0x3e7ec6[_0x25886e(0xbe0)],_0x2fe274=_0x3e7ec6[_0x25886e(0x928)](_0x1f76c3=>Math[_0x25886e(0x89f)](_0x1f76c3-_0x5a7147,0x2))[_0x25886e(0x2c1)]((_0x5d79d6,_0x52002f)=>_0x5d79d6+_0x52002f,0x0)/_0x3e7ec6[_0x25886e(0xbe0)];if(_0x2fe274===0x0)return null;let _0x194c45=0x0;for(let _0x2b3780=0x0;_0x2b3780<_0x169918;_0x2b3780++){const _0x2ccaca=_0x92381d[_0x2b3780]?.['p'];if(_0x2ccaca===undefined)continue;const _0x173f5e=0x1-_0x2ccaca;_0x194c45+=_0x2ccaca*_0x173f5e;}if(_0x194c45===0x0)return null;const _0x1fe326=_0x169918/(_0x169918-0x1)*(0x1-_0x194c45/_0x2fe274);if(_0x1fe326>0x1)return null;return _0x1fe326;}async function handleAnalyzeClass(){const _0x5ab16b=_0x4c4cf8;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x4c8c8=collection(db,_0x5ab16b(0x4e9)+appId+_0x5ab16b(0x868)+currentQuizData['id']+'/submissions'),_0x40a3dc=await getDocs(_0x4c8c8),_0x36cd34=_0x40a3dc['docs']['map'](_0xf10a82=>_0xf10a82[_0x5ab16b(0x6bc)]());if(_0x36cd34[_0x5ab16b(0xbe0)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x22f0c4=document[_0x5ab16b(0x967)]('strength-weakness-analysis-container');_0x22f0c4['innerHTML']=_0x5ab16b(0xa97),document[_0x5ab16b(0x967)](_0x5ab16b(0x9de))[_0x5ab16b(0x367)]=!![];const _0x4c13bc=_0x36cd34['map']((_0x3b73f8,_0x4ff2ad)=>{const _0x5a4a29=_0x5ab16b,_0x1a70a1=_0x3b73f8[_0x5a4a29(0xd68)][_0x3b73f8[_0x5a4a29(0xd68)][_0x5a4a29(0xbe0)]-0x1];if(!_0x1a70a1)return'';return _0x5a4a29(0x59c)+(_0x4ff2ad+0x1)+'\x20('+_0x3b73f8['studentName']+_0x5a4a29(0xbcf)+_0x1a70a1[_0x5a4a29(0x53c)]+'/'+_0x3b73f8[_0x5a4a29(0xdb4)]+_0x5a4a29(0x501)+JSON[_0x5a4a29(0xa88)](_0x1a70a1[_0x5a4a29(0x646)])+_0x5a4a29(0x5d4);})[_0x5ab16b(0xbe3)](_0x5ab16b(0xb73)),_0x3fc616='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData[_0x5ab16b(0x3e7)]+_0x5ab16b(0x230)+JSON[_0x5ab16b(0xa88)](currentQuizData[_0x5ab16b(0x271)])+_0x5ab16b(0x926)+_0x4c13bc+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x113bac={'type':'OBJECT','properties':{'classStrengths':{'type':_0x5ab16b(0x34a),'items':{'type':_0x5ab16b(0x3db)}},'classWeaknesses':{'type':_0x5ab16b(0x34a),'items':{'type':_0x5ab16b(0x3db)}},'teacherSuggestions':{'type':_0x5ab16b(0x34a),'items':{'type':_0x5ab16b(0x3db)}}},'required':[_0x5ab16b(0x41d),'classWeaknesses',_0x5ab16b(0xdd0)]};try{const _0x1bb7da=await callAnalysisApi(_0x3fc616,_0x113bac);displayClassAnalysis(_0x1bb7da);}catch(_0x1977b8){console['error'](_0x5ab16b(0x654),_0x1977b8),_0x22f0c4['innerHTML']=_0x5ab16b(0x28b)+_0x1977b8['message']+_0x5ab16b(0x8b5);}finally{document[_0x5ab16b(0x967)](_0x5ab16b(0x9de))[_0x5ab16b(0x367)]=![];}}function displayClassAnalysis(_0x5c8519){const _0x1abde5=_0x4c4cf8,_0x2f2c81=document['getElementById'](_0x1abde5(0x5a7));if(!_0x5c8519){_0x2f2c81[_0x1abde5(0x66e)]=_0x1abde5(0x6d5);return;}_0x2f2c81[_0x1abde5(0x66e)]=_0x1abde5(0x7c9)+_0x5c8519[_0x1abde5(0x41d)][_0x1abde5(0x928)](_0x2c7ea7=>'<li>'+_0x2c7ea7+_0x1abde5(0xcff))[_0x1abde5(0xbe3)]('')+_0x1abde5(0x69a)+_0x5c8519[_0x1abde5(0x99a)]['map'](_0x5029cf=>_0x1abde5(0x883)+_0x5029cf+_0x1abde5(0xcff))[_0x1abde5(0xbe3)]('')+_0x1abde5(0x666)+_0x5c8519[_0x1abde5(0xdd0)][_0x1abde5(0x928)](_0x39e0ba=>_0x1abde5(0x883)+_0x39e0ba+'</li>')[_0x1abde5(0xbe3)]('')+_0x1abde5(0x483);}function formatAndPrintWorksheet(_0x4f3b7c,_0x5892b2){const _0x372978=_0x4c4cf8,_0x51dbe8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x4f3b7c[_0x372978(0x3e7)]+_0x372978(0xdfb)+_0x4f3b7c[_0x372978(0x3e7)]+_0x372978(0x6ee)+_0x4f3b7c['questions']['map']((_0x266509,_0x29cdec)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x29cdec+0x1)+'.\x20'+_0x266509[_0x372978(0xa42)]+_0x372978(0xd3d)+(_0x266509[_0x372978(0x2bd)]?'<div\x20class=\x22my-2\x20flex\x20justify-center\x22>'+_0x266509[_0x372978(0x2bd)]+_0x372978(0x83b):'')+_0x372978(0x30c))['join']('')+_0x372978(0x24a);_0x5892b2['document'][_0x372978(0x284)](_0x51dbe8),_0x5892b2[_0x372978(0x410)][_0x372978(0x98c)](),_0x5892b2[_0x372978(0x2cc)]=function(){setTimeout(()=>{const _0x8d399=_0x3869;_0x5892b2[_0x8d399(0x341)]();},0x3e8);};}async function generateWorksheet(){const _0x3a7d45=_0x4c4cf8,_0x323ee0=document[_0x3a7d45(0x967)](_0x3a7d45(0x8d0))[_0x3a7d45(0x734)]['trim']();if(!_0x323ee0){showMessage(_0x3a7d45(0x505));return;}const _0x782bb7=document['getElementById'](_0x3a7d45(0xc29))['checked'],_0x2dc58c=_0x782bb7?'':_0x3a7d45(0x650),_0x33a1ca=window['open']('',_0x3a7d45(0x9c5));_0x33a1ca[_0x3a7d45(0x410)][_0x3a7d45(0x284)](_0x3a7d45(0x901));const _0x121e84=parseInt(document[_0x3a7d45(0x967)](_0x3a7d45(0x304))[_0x3a7d45(0x734)]),_0x2ee321=document[_0x3a7d45(0x967)](_0x3a7d45(0x3a8))[_0x3a7d45(0x4c6)],_0xb1d709=_0x2ee321?'สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย':'',_0x47e5f1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x2dc58c+_0x3a7d45(0x5e4)+_0x121e84+_0x3a7d45(0xa89)+_0x323ee0+_0x3a7d45(0xad6)+_0xb1d709+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x3a7d45(0x687),_0x1cb85b={'type':_0x3a7d45(0x8b8),'properties':{'topic':{'type':_0x3a7d45(0x3db)},'questions':{'type':_0x3a7d45(0x34a),'items':{'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x3a7d45(0xa42)]}}},'required':[_0x3a7d45(0x3e7),_0x3a7d45(0x271)]};document[_0x3a7d45(0x967)](_0x3a7d45(0xaf1))[_0x3a7d45(0xb9a)]='',document[_0x3a7d45(0x967)]('loader')[_0x3a7d45(0x67b)][_0x3a7d45(0x7d5)](_0x3a7d45(0x75c)),document[_0x3a7d45(0x967)](_0x3a7d45(0x59b))['classList']['remove']('hidden'),generateWorksheetBtn[_0x3a7d45(0x367)]=!![];try{const _0x262f82=await callAnalysisApi(_0x47e5f1,_0x1cb85b);formatAndPrintWorksheet(_0x262f82,_0x33a1ca);}catch(_0x2def30){console[_0x3a7d45(0x3f6)](_0x3a7d45(0x21c),_0x2def30);if(_0x33a1ca)_0x33a1ca[_0x3a7d45(0x98c)]();showMessage(_0x3a7d45(0x789));}finally{document[_0x3a7d45(0x967)](_0x3a7d45(0xb23))['classList']['add'](_0x3a7d45(0x75c)),document[_0x3a7d45(0x967)](_0x3a7d45(0x59b))[_0x3a7d45(0x67b)][_0x3a7d45(0x602)](_0x3a7d45(0x75c)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x4b2756,_0x26bd30){const _0x394937=_0x4c4cf8,_0x3ad94c={'contents':[{'role':_0x394937(0x461),'parts':[{'text':_0x4b2756}]}],'generationConfig':{'responseMimeType':_0x394937(0x62e),'responseSchema':_0x26bd30}},_0x4a1428='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x3ea9d6=_0x394937(0x81b)+_0x4a1428,_0x546349=await fetch(_0x3ea9d6,{'method':_0x394937(0x4c0),'headers':{'Content-Type':_0x394937(0x62e)},'body':JSON[_0x394937(0xa88)](_0x3ad94c)});if(!_0x546349['ok'])throw new Error(_0x394937(0xb1f)+_0x546349[_0x394937(0x27d)]);const _0x1803f6=await _0x546349[_0x394937(0x738)]();if(_0x1803f6[_0x394937(0xaaa)]?.[0x0]?.[_0x394937(0xbc8)]?.[_0x394937(0x79c)]?.[0x0])return JSON['parse'](_0x1803f6[_0x394937(0xaaa)][0x0]['content'][_0x394937(0x79c)][0x0][_0x394937(0x5cd)]);else{let _0xc0075=_0x394937(0xd32);if(_0x1803f6[_0x394937(0x745)]?.[_0x394937(0x807)])_0xc0075='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x1803f6[_0x394937(0x745)]['blockReason']+'.';else _0x1803f6[_0x394937(0xaaa)]?.[0x0]?.[_0x394937(0x7af)]&&_0x1803f6[_0x394937(0xaaa)][0x0]['finishReason']!==_0x394937(0x2da)&&(_0xc0075='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x1803f6['candidates'][0x0][_0x394937(0x7af)]+'.');console['error'](_0xc0075,JSON[_0x394937(0xa88)](_0x1803f6));throw new Error(_0xc0075);}}async function handleStartSyncMode(_0x18e9a3,_0x22cc44=![],_0x91f438=_0x4c4cf8(0x558)){const _0x46e565=_0x4c4cf8,_0x4b1fe0=allQuizzes[_0x46e565(0x4c4)](_0x5087ec=>_0x5087ec['id']===_0x18e9a3)||allQuizzesGlobal[_0x46e565(0x4c4)](_0x457a81=>_0x457a81['id']===_0x18e9a3);if(!_0x4b1fe0){showMessage(_0x46e565(0x91d));return;}currentQuizData=getShuffledQuiz(_0x4b1fe0);const _0x35bd48=Math['floor'](0x3e8+Math[_0x46e565(0xb9d)]()*0x2328)[_0x46e565(0x2f2)](),_0x44d53e=doc(db,_0x46e565(0x4e9)+appId+_0x46e565(0x9f8),_0x4b1fe0[_0x46e565(0x6fe)]),_0x484ebd=await getDoc(_0x44d53e);if(!_0x484ebd[_0x46e565(0x78d)]()){showMessage('ไม่พบโปรเจคของแบบทดสอบนี้\x20ไม่สามารถเริ่มโหมด\x20Anonymous\x20ได้');return;}const _0x35fff3=_0x484ebd[_0x46e565(0x6bc)]()['students']||[],_0x1364a4={};if(_0x91f438===_0x46e565(0x9dc)){const _0x55ae98=[...ANONYMOUS_NAMES]['sort'](()=>0.5-Math[_0x46e565(0xb9d)]());_0x35fff3[_0x46e565(0xa3f)]((_0x798fad,_0x4a8e5e)=>{const _0x579e45=_0x46e565;_0x1364a4[_0x798fad]=_0x55ae98[_0x4a8e5e]||_0x579e45(0x996)+(_0x4a8e5e+0x1);});}try{const _0x448a7d=await addDoc(collection(db,'artifacts/'+appId+_0x46e565(0xa4d)),{'quizId':_0x4b1fe0['id'],'pin':_0x35bd48,'status':_0x46e565(0xd1e),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x22cc44,'players':{},'gameVariant':_0x91f438,'reviewQuestionIndex':0x0,'playerNicknames':_0x1364a4,'isAnonymousRevealed':![]});currentLiveGameId=_0x448a7d['id'],showView(_0x46e565(0x379)),renderSyncLobbyView(_0x35bd48,_0x4b1fe0[_0x46e565(0x3e7)]),listenForSyncGameUpdates();}catch(_0x506f2b){console[_0x46e565(0x3f6)](_0x46e565(0xaac),_0x506f2b),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game');}}function calculateFinalPodiumScores(_0x71c790){const _0x36de81=_0x4c4cf8;if(!_0x71c790||!_0x71c790[_0x36de81(0xc8d)]||!_0x71c790[_0x36de81(0x3c8)])return _0x71c790[_0x36de81(0x3c8)]||{};const _0x1ddb8e=_0x71c790[_0x36de81(0xc8d)][_0x36de81(0x271)]['length'],_0x23f008=JSON[_0x36de81(0x6d6)](JSON['stringify'](_0x71c790[_0x36de81(0x3c8)]));return Object[_0x36de81(0x8c3)](_0x23f008)[_0x36de81(0xa3f)](_0x2282db=>{const _0x22ec01=_0x36de81,_0x430a5a=_0x2282db['score'];let _0x1ce7d7=_0x430a5a,_0x136325=0x0;_0x71c790[_0x22ec01(0x8dd)]&&_0x2282db[_0x22ec01(0x646)]&&_0x2282db[_0x22ec01(0x646)]['forEach'](_0x2bbc68=>{const _0x3d395f=_0x22ec01;if(_0x2bbc68[_0x3d395f(0x4d1)]&&(_0x2bbc68[_0x3d395f(0xd3e)]===!![]||_0x2bbc68[_0x3d395f(0xd3e)]===_0x3d395f(0xc0a)))_0x136325+=0x1;else!_0x2bbc68[_0x3d395f(0x4d1)]&&(_0x2bbc68[_0x3d395f(0xd3e)]===!![]||_0x2bbc68['wasConfident']===_0x3d395f(0xc0a))&&(_0x136325-=0x1);}),_0x1ce7d7+=_0x136325,_0x1ddb8e>0x0&&_0x430a5a===_0x1ddb8e&&(_0x1ce7d7+=0x1,_0x2282db[_0x22ec01(0x2dd)]=!![]),_0x2282db[_0x22ec01(0x53c)]=_0x1ce7d7;}),_0x23f008;}function listenForSyncGameUpdates(){const _0x160faa=_0x4c4cf8;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x3adc60=doc(db,_0x160faa(0x4e9)+appId+_0x160faa(0xa4d),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3adc60,_0xb27c8=>{const _0x9f67fb=_0x160faa;if(!_0xb27c8[_0x9f67fb(0x78d)]()){sessionStorage[_0x9f67fb(0x794)]('activeGameSession');if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode==='admin'?showView(_0x9f67fb(0xd22)):showView(_0x9f67fb(0xbfe));return;}const _0x53c64f=_0xb27c8[_0x9f67fb(0x6bc)]();currentMode==='admin'?updateAdminSyncView(_0x53c64f):updateStudentSyncView(_0x53c64f);});}function renderSyncLobbyView(_0x33ac01,_0x56391b){const _0x50d399=_0x4c4cf8;liveGameView['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20'+_0x56391b+_0x50d399(0x91e)+_0x33ac01+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x2effdf=document[_0x50d399(0x967)]('confidence-scoring-toggle'),_0xa6f9c=document[_0x50d399(0x967)](_0x50d399(0x904));_0x2effdf[_0x50d399(0x28f)](_0x50d399(0xd53),()=>{const _0x3a4f15=_0x50d399;_0xa6f9c['style']['display']=_0x2effdf[_0x3a4f15(0x4c6)]?_0x3a4f15(0x9e7):_0x3a4f15(0x7e8);}),document[_0x50d399(0x967)](_0x50d399(0xcf2))[_0x50d399(0x28f)]('click',async()=>{const _0x38e314=_0x50d399,_0x17cfa4=doc(db,'artifacts/'+appId+_0x38e314(0xa4d),currentLiveGameId),_0x21395f=document[_0x38e314(0x967)]('confidence-scoring-toggle')[_0x38e314(0x4c6)];await updateDoc(_0x17cfa4,{'status':_0x38e314(0x966),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x21395f});});}function updateAdminSyncView(_0x5a58b){const _0x11d2e5=_0x4c4cf8;switch(_0x5a58b['status']){case _0x11d2e5(0xd1e):renderSyncLobbyView(_0x5a58b['pin'],_0x5a58b['shuffledQuiz'][_0x11d2e5(0x3e7)]);const _0x459fbf=Object['entries'](_0x5a58b[_0x11d2e5(0x3c8)]||{})[_0x11d2e5(0x3d0)](([_0x1a92d4,_0x6c65ad])=>_0x6c65ad[_0x11d2e5(0x27d)]!==_0x11d2e5(0x850));document[_0x11d2e5(0x967)](_0x11d2e5(0xdee))['textContent']=_0x459fbf['length'],document[_0x11d2e5(0x967)]('player-list-lobby')[_0x11d2e5(0x66e)]=_0x459fbf[_0x11d2e5(0x928)](([_0x497e38,_0x181d02])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x497e38+_0x11d2e5(0x615)+_0x497e38+_0x11d2e5(0x3a9))[_0x11d2e5(0xbe3)]('')||_0x11d2e5(0x70b),document[_0x11d2e5(0x967)](_0x11d2e5(0xcf2))[_0x11d2e5(0x367)]=_0x459fbf[_0x11d2e5(0xbe0)]===0x0;break;case _0x11d2e5(0x966):const _0x47f4fb=Object[_0x11d2e5(0x8c3)](_0x5a58b[_0x11d2e5(0x3c8)]||{})[_0x11d2e5(0x3d0)](_0x2d1f9a=>_0x2d1f9a['status']!==_0x11d2e5(0x850)),_0x461e0e=_0x47f4fb[_0x11d2e5(0x3d0)](_0x3f91ca=>_0x3f91ca[_0x11d2e5(0x9bb)])['length'],_0x4fdfe0=_0x461e0e===_0x47f4fb[_0x11d2e5(0xbe0)]&&_0x47f4fb[_0x11d2e5(0xbe0)]>0x0;if(_0x4fdfe0&&_0x5a58b['status']===_0x11d2e5(0x966)){const _0xeb367e=doc(db,_0x11d2e5(0x4e9)+appId+_0x11d2e5(0xa4d),currentLiveGameId);updateDoc(_0xeb367e,{'status':_0x11d2e5(0x44a)});}else{if(document[_0x11d2e5(0x967)](_0x11d2e5(0xcc4))===null)renderAdminSyncQuestionView(_0x5a58b);else{const _0x1d4001=document[_0x11d2e5(0x967)](_0x11d2e5(0xb2d));_0x1d4001&&(_0x1d4001[_0x11d2e5(0xb9a)]=_0x461e0e+'/'+_0x47f4fb[_0x11d2e5(0xbe0)]);const _0x2078fa=document['getElementById'](_0x11d2e5(0xd95));_0x2078fa&&(_0x2078fa[_0x11d2e5(0x66e)]=_0x47f4fb[_0x11d2e5(0x928)](_0x14c0df=>{const _0x564eb4=_0x11d2e5,_0x552716=_0x14c0df[_0x564eb4(0x9bb)]?_0x564eb4(0x48e):_0x564eb4(0x5bc),_0x18f72d=_0x14c0df[_0x564eb4(0x9bb)]?_0x564eb4(0x747):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x564eb4(0xa6c)+_0x552716+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x18f72d+_0x564eb4(0x32e)+_0x14c0df[_0x564eb4(0x7e7)]+_0x564eb4(0xd6d)+_0x14c0df[_0x564eb4(0x7e7)]+_0x564eb4(0x2f5);})[_0x11d2e5(0xbe3)](''));}}break;case'summary':const _0x44c47e=_0x5a58b[_0x11d2e5(0xdc3)],_0x35beed=_0x5a58b[_0x11d2e5(0xc8d)][_0x11d2e5(0x271)][_0x44c47e];renderSyncSummaryView(_0x5a58b,_0x35beed,!![]);break;case _0x11d2e5(0x62a):const _0x4e837d=_0x5a58b['gameVariant']||'classic';_0x4e837d==='reveal_at_end'?renderAdminSyncDashboard(_0x5a58b,!![],_0x5a58b[_0x11d2e5(0x3f4)]):renderAdminSyncDashboard(_0x5a58b,!![],_0x5a58b[_0x11d2e5(0xdc3)]);break;case _0x11d2e5(0xbfa):_0x5a58b[_0x11d2e5(0x257)]&&saveGameResultsAsSubmissions(_0x5a58b);sessionStorage[_0x11d2e5(0x794)]('activeGameSession');const _0x48ddfe=calculateFinalPodiumScores(_0x5a58b);showPodiumView(_0x48ddfe,'sync');break;}}function renderAdminSyncQuestionView(_0x4d300f){const _0x1a1e3d=_0x4c4cf8,_0x8ba24b=_0x4d300f[_0x1a1e3d(0xdc3)],_0x2247f2=_0x4d300f['shuffledQuiz']['questions'][_0x8ba24b],_0x3365b6=_0x4d300f[_0x1a1e3d(0xc8d)][_0x1a1e3d(0x271)][_0x1a1e3d(0xbe0)],_0x3d6bd6=Object[_0x1a1e3d(0x8c3)](_0x4d300f[_0x1a1e3d(0x3c8)]||{})['filter'](_0x2cf156=>_0x2cf156[_0x1a1e3d(0x27d)]!==_0x1a1e3d(0x850)),_0x83a122=_0x3d6bd6[_0x1a1e3d(0x3d0)](_0x3ce2a1=>_0x3ce2a1[_0x1a1e3d(0x9bb)])[_0x1a1e3d(0xbe0)],_0x119e87=_0x83a122===_0x3d6bd6[_0x1a1e3d(0xbe0)]&&_0x3d6bd6[_0x1a1e3d(0xbe0)]>0x0,_0x27dadc=(_0x2247f2[_0x1a1e3d(0x2e6)]||[])[_0x1a1e3d(0x928)](_0x49ae22=>_0x1a1e3d(0x24c)+_0x49ae22+_0x1a1e3d(0x83b))[_0x1a1e3d(0xbe3)]('');liveGameView[_0x1a1e3d(0x66e)]=_0x1a1e3d(0x538)+(_0x8ba24b+0x1)+_0x1a1e3d(0xb12)+_0x3365b6+_0x1a1e3d(0x55d)+_0x83a122+'/'+_0x3d6bd6[_0x1a1e3d(0xbe0)]+_0x1a1e3d(0x71a)+_0x2247f2[_0x1a1e3d(0xa42)]+_0x1a1e3d(0x8eb)+_0x27dadc+_0x1a1e3d(0x693)+(!_0x119e87?'disabled':'')+_0x1a1e3d(0x3dd);if(window[_0x1a1e3d(0x7a4)])MathJax[_0x1a1e3d(0x634)]();document['getElementById']('show-results-btn')[_0x1a1e3d(0x28f)]('click',async()=>{const _0x571ea5=_0x1a1e3d,_0x3a030d=doc(db,_0x571ea5(0x4e9)+appId+_0x571ea5(0xa4d),currentLiveGameId);await updateDoc(_0x3a030d,{'status':_0x571ea5(0x62a)});}),document[_0x1a1e3d(0x967)](_0x1a1e3d(0xb1d))[_0x1a1e3d(0x508)]=()=>{const _0xb04fe4=_0x1a1e3d;openScratchpad(_0x2247f2,_0x2247f2[_0xb04fe4(0x2e6)]||[]);},document[_0x1a1e3d(0x967)](_0x1a1e3d(0x6a2))['addEventListener'](_0x1a1e3d(0x526),()=>{const _0x11a6a9=_0x1a1e3d;document[_0x11a6a9(0x967)](_0x11a6a9(0xcc4))[_0x11a6a9(0x67b)][_0x11a6a9(0x992)](_0x11a6a9(0x75c));});}function renderSyncLeaderboardView(_0x15ab1b,_0x209e78){const _0x18d28e=_0x4c4cf8,_0x3bdcf3=Object[_0x18d28e(0x8c3)](_0x15ab1b[_0x18d28e(0x3c8)]||{});_0x3bdcf3['sort']((_0x318241,_0x2af6b9)=>_0x2af6b9['score']-_0x318241['score']);const _0x471e82=_0x3bdcf3[_0x18d28e(0x732)](0x0,0x5);let _0x418ca7='';if(_0x209e78){const _0x423e31=_0x15ab1b['currentQuestionIndex']>=_0x15ab1b['shuffledQuiz']['questions'][_0x18d28e(0xbe0)]-0x1;_0x418ca7=_0x18d28e(0x788)+(_0x423e31?_0x18d28e(0x681):_0x18d28e(0x5ad))+_0x18d28e(0xaee);}else _0x418ca7=_0x18d28e(0x739);liveGameView[_0x18d28e(0x66e)]=_0x18d28e(0x881)+_0x471e82[_0x18d28e(0x928)]((_0x2aeb5d,_0x3b5163)=>_0x18d28e(0xbf2)+(_0x3b5163+0x1)+'.\x20'+_0x2aeb5d[_0x18d28e(0x7e7)]+_0x18d28e(0x8b4)+_0x2aeb5d[_0x18d28e(0x53c)]+'</span></div>')[_0x18d28e(0xbe3)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x418ca7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x209e78&&document[_0x18d28e(0x967)](_0x18d28e(0xccc))[_0x18d28e(0x28f)]('click',async()=>{const _0x1dc079=_0x18d28e,_0x5b344f=doc(db,_0x1dc079(0x4e9)+appId+'/public/data/syncGames',currentLiveGameId),_0x5de758=_0x15ab1b[_0x1dc079(0xdc3)]+0x1;if(_0x5de758<_0x15ab1b[_0x1dc079(0xc8d)]['questions']['length']){const _0x47de06={};Object['keys'](_0x15ab1b['players'])[_0x1dc079(0xa3f)](_0xeb050b=>{const _0x111a78=_0x1dc079;_0x47de06[_0x111a78(0xc21)+_0xeb050b+'.answered']=![];}),await updateDoc(_0x5b344f,{..._0x47de06,'status':_0x1dc079(0x966),'currentQuestionIndex':_0x5de758,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x5b344f,{'status':_0x1dc079(0xbfa)});});}async function handleJoinSyncGame(){const _0x6cd5ff=_0x4c4cf8,_0x2b7b8a=prompt(_0x6cd5ff(0x303));if(!_0x2b7b8a||_0x2b7b8a[_0x6cd5ff(0x46b)]()[_0x6cd5ff(0xbe0)]!==0x2){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x5873a8=collection(db,_0x6cd5ff(0x4e9)+appId+_0x6cd5ff(0xa4d)),_0x5cb980=query(_0x5873a8,where(_0x6cd5ff(0xb53),'==',_0x2b7b8a[_0x6cd5ff(0x46b)]()),where(_0x6cd5ff(0x27d),'==',_0x6cd5ff(0xd1e))),_0x1f74f5=await getDocs(_0x5cb980);if(_0x1f74f5['empty']){showMessage(_0x6cd5ff(0x351));return;}const _0x53694f=_0x1f74f5[_0x6cd5ff(0x9ff)][0x0];currentLiveGameId=_0x53694f['id'];const _0x4df966=_0x53694f[_0x6cd5ff(0x6bc)](),_0x67aa01=doc(db,_0x6cd5ff(0x4e9)+appId+_0x6cd5ff(0x2fe),_0x4df966[_0x6cd5ff(0x519)]),_0x3fbaf7=await getDoc(_0x67aa01);if(!_0x3fbaf7['exists']())throw new Error(_0x6cd5ff(0x23e));const _0x5d35bd=_0x3fbaf7[_0x6cd5ff(0x6bc)](),_0x34a99b=doc(db,_0x6cd5ff(0x4e9)+appId+_0x6cd5ff(0x9f8),_0x5d35bd['projectId']),_0xf738b0=await getDoc(_0x34a99b);if(!_0xf738b0[_0x6cd5ff(0x78d)]())throw new Error('ไม่พบข้อมูลโปรเจค');currentQuizData=_0x4df966['shuffledQuiz'];const _0x9886b3=_0xf738b0['data']();showView(_0x6cd5ff(0x5dd)),showTeamPlayerSelection(_0x9886b3['students'],_0x5d35bd['topic']);const _0x50db08=document['getElementById']('confirm-team-players-btn');_0x50db08[_0x6cd5ff(0x508)]=confirmAndJoinSyncGame;}catch(_0x4bf29e){console['error'](_0x6cd5ff(0x42f),_0x4bf29e),showMessage(_0x6cd5ff(0x50b)+_0x4bf29e[_0x6cd5ff(0xb40)]);}}function updateStudentSyncView(_0x2d5510){const _0x14da8e=_0x4c4cf8,_0x59b90e=_0x2d5510['players'][localTeamPlayers[0x0]];switch(_0x2d5510[_0x14da8e(0x27d)]){case _0x14da8e(0xd1e):showView(_0x14da8e(0x379)),liveGameView[_0x14da8e(0x66e)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>';break;case'question':const _0x1e1226=localTeamPlayers['every'](_0x3611f9=>_0x2d5510[_0x14da8e(0x3c8)][_0x3611f9]?.[_0x14da8e(0x9bb)]===!![]);_0x1e1226?liveGameView['innerHTML']=_0x14da8e(0xc65):renderStudentSyncQuestionView(_0x2d5510);break;case'summary':liveGameView[_0x14da8e(0x66e)]=_0x14da8e(0x7ef);break;case'results':localPlayerTurnIndex=0x0;const _0x1c42f3=_0x2d5510[_0x14da8e(0x7e4)]||'classic';_0x1c42f3===_0x14da8e(0xac3)?renderAdminSyncDashboard(_0x2d5510,![],_0x2d5510[_0x14da8e(0x3f4)]):renderStudentSyncResultsView(_0x2d5510);break;case'podium':releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x14da8e(0x965)]('fullscreenchange',handleFullscreenChange),document[_0x14da8e(0x965)]('visibilitychange',handleVisibilityChange),sessionStorage[_0x14da8e(0x794)](_0x14da8e(0x499));const _0x3c2b33=calculateFinalPodiumScores(_0x2d5510);showPodiumView(_0x3c2b33,_0x14da8e(0x9a3));break;}}function renderStudentSyncResultsView(_0x44bfa1){const _0xb12941=_0x4c4cf8,_0x22d7c8=localTeamPlayers['map'](_0x133351=>_0x44bfa1[_0xb12941(0x3c8)][_0x133351])[_0xb12941(0x3d0)](Boolean);_0x22d7c8[_0xb12941(0x8a7)]((_0x3c53fe,_0x22f5c0)=>(_0x22f5c0['score']||0x0)-(_0x3c53fe[_0xb12941(0x53c)]||0x0));const _0x510134=_0x44bfa1[_0xb12941(0x7e4)]||_0xb12941(0x558),_0x1bdb22=_0x44bfa1['shuffledQuiz'][_0xb12941(0x271)];let _0x4a2140='';if(_0x510134===_0xb12941(0xac3)){const _0x2b02ec=_0x44bfa1[_0xb12941(0x3f4)]>=_0x1bdb22[_0xb12941(0xbe0)]-0x1;_0x2b02ec?_0x4a2140=_0xb12941(0x8c5):_0x4a2140='<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงสรุปข้อต่อไป...</p>';}else{const _0x22b633=_0x44bfa1[_0xb12941(0xdc3)]>=_0x1bdb22[_0xb12941(0xbe0)]-0x1;_0x22b633?_0x4a2140=_0xb12941(0x8c5):_0x4a2140=_0xb12941(0x719);}const _0x37bf10=_0xb12941(0xaed)+_0x22d7c8[_0xb12941(0x928)]((_0x3830a9,_0x5872e3)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x5872e3+0x1)+_0xb12941(0x833)+_0x3830a9[_0xb12941(0x7e7)]+_0xb12941(0xa60)+_0x3830a9[_0xb12941(0x53c)]+_0xb12941(0x25b))[_0xb12941(0xbe3)]('')+_0xb12941(0x5e0)+_0x4a2140+_0xb12941(0x255);liveGameView[_0xb12941(0x66e)]=_0x37bf10;}function renderStudentSyncQuestionView(_0x2e519b){const _0x2e0832=_0x4c4cf8;while(localPlayerTurnIndex<localTeamPlayers['length']&&_0x2e519b[_0x2e0832(0x3c8)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x2e0832(0x9bb)]===!![]){localPlayerTurnIndex++;}const _0x12c66d=localTeamPlayers[localPlayerTurnIndex];if(!_0x12c66d)return;const _0x3d1246=_0x2e519b['currentQuestionIndex'],_0x9ef44d=_0x2e519b[_0x2e0832(0xc8d)][_0x2e0832(0x271)][_0x2e0832(0xbe0)],_0x5f0841=_0x2e519b[_0x2e0832(0xc8d)][_0x2e0832(0x271)][_0x3d1246],_0x27f08a=_0x5f0841['questionType']||_0x2e519b[_0x2e0832(0xc8d)][_0x2e0832(0xa28)];let _0xeb491e='',_0x4f2159=![];switch(_0x27f08a){case'true_false':_0xeb491e=_0x2e0832(0x848);break;case _0x2e0832(0xa9d):case _0x2e0832(0x5b4):_0x4f2159=!![],_0xeb491e=_0x2e0832(0x56e);break;case _0x2e0832(0xa02):_0x4f2159=!![],_0xeb491e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5f0841[_0x2e0832(0x541)]||[])[_0x2e0832(0x928)](_0x156220=>_0x2e0832(0x63b)+_0x156220+'\x22>'+_0x156220+_0x2e0832(0xb96))[_0x2e0832(0xbe3)]('')+_0x2e0832(0x760);break;case _0x2e0832(0x474):default:_0xeb491e=(_0x5f0841['options']||[])[_0x2e0832(0x928)]((_0x2544a5,_0x868fcc)=>_0x2e0832(0xd77)+_0x868fcc+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>'+_0x2544a5+_0x2e0832(0x817))[_0x2e0832(0xbe3)]('');break;}liveGameView[_0x2e0832(0x66e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x3d1246+0x1)+'\x20/\x20'+_0x9ef44d+_0x2e0832(0x9f0)+_0x12c66d+_0x2e0832(0x389)+(_0x5f0841[_0x2e0832(0xa42)]||_0x5f0841[_0x2e0832(0xcc5)])+_0x2e0832(0x3ef)+_0xeb491e+_0x2e0832(0x86e);if(window[_0x2e0832(0x7a4)])MathJax[_0x2e0832(0x634)]();function _0x117c17(_0x304bfc,_0x524b32,_0x148fb7,_0x121849){const _0x34d6a3=_0x2e0832,_0x4416e0=_0x148fb7['isConfidenceScoringEnabled']===!![];if(_0x4416e0){document['getElementById'](_0x34d6a3(0xb7b))[_0x34d6a3(0x305)][_0x34d6a3(0xa69)]=_0x34d6a3(0x9a3);const _0x395c58=document['getElementById'](_0x34d6a3(0x394));_0x395c58[_0x34d6a3(0x305)][_0x34d6a3(0x770)]=_0x304bfc,_0x395c58[_0x34d6a3(0x305)][_0x34d6a3(0x966)]=JSON['stringify'](_0x524b32),_0x395c58[_0x34d6a3(0x305)]['gameData']=JSON['stringify'](_0x148fb7),_0x395c58[_0x34d6a3(0x305)][_0x34d6a3(0xda0)]=_0x121849,document[_0x34d6a3(0x967)](_0x34d6a3(0xb7b))[_0x34d6a3(0x67b)]['remove'](_0x34d6a3(0x75c));}else handleSyncAnswerSubmit(_0x304bfc,_0x524b32,_0x148fb7,_0x121849,![]);}_0x4f2159?document[_0x2e0832(0x967)](_0x2e0832(0x2f9))[_0x2e0832(0x28f)](_0x2e0832(0x526),()=>{const _0x2c60f1=_0x2e0832,_0x9d06af=document['getElementById']('sync-short-answer-input')||document[_0x2c60f1(0x967)](_0x2c60f1(0x3fc));if(_0x9d06af[_0x2c60f1(0x734)][_0x2c60f1(0x46b)]()===''){showMessage(_0x2c60f1(0x378));return;}_0x117c17(_0x9d06af['value'],_0x5f0841,_0x2e519b,_0x12c66d);}):document[_0x2e0832(0xdd7)](_0x2e0832(0xb4e))['forEach'](_0x4f5052=>{const _0x542f12=_0x2e0832;_0x4f5052[_0x542f12(0x28f)](_0x542f12(0x526),()=>{const _0x55e4c5=_0x542f12;_0x117c17(_0x4f5052['dataset'][_0x55e4c5(0x734)],_0x5f0841,_0x2e519b,_0x12c66d);});});}async function handleSyncAnswerSubmit(_0x523b6e,_0x417b22,_0x2effbf,_0x2a5591,_0x22b5d9){const _0x2a60fa=_0x4c4cf8;document[_0x2a60fa(0xdd7)](_0x2a60fa(0x296))[_0x2a60fa(0xa3f)](_0x420012=>_0x420012[_0x2a60fa(0x367)]=!![]);const _0x23d117=_0x417b22[_0x2a60fa(0x252)]||_0x2effbf[_0x2a60fa(0xc8d)]['quizType'];let _0x34d072=![],_0x27b4ce=_0x523b6e;switch(_0x23d117){case'true_false':const _0x112c51=parseInt(_0x523b6e),_0x1b0a4d=_0x417b22[_0x2a60fa(0x60b)]===!![]||String(_0x417b22[_0x2a60fa(0x60b)])[_0x2a60fa(0x660)]()===_0x2a60fa(0x75e);_0x34d072=_0x112c51===0x0&&_0x1b0a4d||_0x112c51===0x1&&!_0x1b0a4d,_0x27b4ce=_0x112c51===0x0?_0x2a60fa(0x21d):_0x2a60fa(0x774);break;case'short_answer':case _0x2a60fa(0x5b4):_0x34d072=await gradeShortAnswer(_0x523b6e,_0x417b22);break;case _0x2a60fa(0xa02):_0x34d072=_0x523b6e===_0x417b22[_0x2a60fa(0x99f)];break;case'multiple_choice':default:const _0x3a73af=parseInt(_0x523b6e);_0x34d072=_0x3a73af===_0x417b22[_0x2a60fa(0x4e7)];_0x417b22['options']&&_0x417b22['options'][_0x3a73af]&&(_0x27b4ce=_0x417b22[_0x2a60fa(0x2e6)][_0x3a73af]);break;}const _0xe9c738=_0x34d072?0x1:0x0,_0x126c69=doc(db,_0x2a60fa(0x4e9)+appId+_0x2a60fa(0xa4d),currentLiveGameId),_0x39ea80={};_0x39ea80[_0x2a60fa(0xc21)+_0x2a5591+_0x2a60fa(0x71f)]=increment(_0xe9c738),_0x39ea80['players.'+_0x2a5591+_0x2a60fa(0x39a)]=!![];let _0x394304=null;(_0x23d117==='multiple_choice'||_0x23d117===_0x2a60fa(0x34e)||_0x23d117===_0x2a60fa(0x922))&&(_0x394304=parseInt(_0x523b6e));_0x39ea80[_0x2a60fa(0xc21)+_0x2a5591+'.lastAnswerIndex']=_0x394304;const _0x3fbc9e={'questionIndex':_0x2effbf[_0x2a60fa(0xdc3)],'questionId':_0x417b22['id'],'answer':_0x523b6e,'answerText':_0x27b4ce,'isCorrect':_0x34d072,'originalQuestionText':_0x417b22[_0x2a60fa(0xa42)]||_0x417b22[_0x2a60fa(0xcc5)],'wasConfident':_0x22b5d9};_0x39ea80[_0x2a60fa(0xc21)+_0x2a5591+'.answers']=arrayUnion(_0x3fbc9e),await updateDoc(_0x126c69,_0x39ea80);}initialize();
