const _0x27ad1b=_0x5f3a;function _0x5f3a(_0x2c573f,_0x36633e){const _0x39b6f7=_0x39b6();return _0x5f3a=function(_0x5f3a1c,_0x4a74ef){_0x5f3a1c=_0x5f3a1c-0xf4;let _0xbbf26e=_0x39b6f7[_0x5f3a1c];return _0xbbf26e;},_0x5f3a(_0x2c573f,_0x36633e);}(function(_0x5c3afe,_0x428295){const _0x4cbf3d=_0x5f3a,_0x56f3e1=_0x5c3afe();while(!![]){try{const _0x131e7d=parseInt(_0x4cbf3d(0x42f))/0x1*(parseInt(_0x4cbf3d(0x8a5))/0x2)+parseInt(_0x4cbf3d(0x290))/0x3*(-parseInt(_0x4cbf3d(0x7d0))/0x4)+-parseInt(_0x4cbf3d(0x111))/0x5+parseInt(_0x4cbf3d(0x2d0))/0x6*(-parseInt(_0x4cbf3d(0x45e))/0x7)+parseInt(_0x4cbf3d(0x10c))/0x8+-parseInt(_0x4cbf3d(0x387))/0x9+parseInt(_0x4cbf3d(0x5b4))/0xa*(parseInt(_0x4cbf3d(0xb6a))/0xb);if(_0x131e7d===_0x428295)break;else _0x56f3e1['push'](_0x56f3e1['shift']());}catch(_0x34cf7f){_0x56f3e1['push'](_0x56f3e1['shift']());}}}(_0x39b6,0x4d7d1));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0xb62fbc=_0x5f3a;if('wakeLock'in navigator)try{wakeLock=await navigator[_0xb62fbc(0x286)][_0xb62fbc(0x574)](_0xb62fbc(0x9d8)),console[_0xb62fbc(0x484)]('Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง'),wakeLock[_0xb62fbc(0x234)]('release',()=>{const _0x1811ce=_0xb62fbc;console['log'](_0x1811ce(0x434));});}catch(_0x1962fa){console[_0xb62fbc(0x4a0)](_0xb62fbc(0x264)+_0x1962fa[_0xb62fbc(0x352)]+',\x20'+_0x1962fa[_0xb62fbc(0x5a6)]);}else console[_0xb62fbc(0x276)]('เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API');},releaseWakeLock=async()=>{const _0x462054=_0x5f3a;wakeLock!==null&&(await wakeLock[_0x462054(0x923)](),wakeLock=null,console[_0x462054(0x484)](_0x462054(0x28e)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x20f669=_0x5f3a;if(dimTimer)clearTimeout(dimTimer);document[_0x20f669(0x7fa)][_0x20f669(0x25c)][_0x20f669(0x525)](_0x20f669(0x71a)),dimTimer=setTimeout(()=>{const _0x2c9388=_0x20f669;document[_0x2c9388(0x7fa)][_0x2c9388(0x25c)][_0x2c9388(0x2bd)](_0x2c9388(0x71a)),console[_0x2c9388(0x484)](_0x2c9388(0x1a1));},inactivityTime);}function stopDimTimer(){const _0x23ca8a=_0x5f3a;if(dimTimer)clearTimeout(dimTimer);document[_0x23ca8a(0x7fa)][_0x23ca8a(0x25c)][_0x23ca8a(0x525)](_0x23ca8a(0x71a)),window[_0x23ca8a(0x966)](_0x23ca8a(0x8d3),resetDimTimer),window[_0x23ca8a(0x966)](_0x23ca8a(0x92b),resetDimTimer),window[_0x23ca8a(0x966)](_0x23ca8a(0x7fc),resetDimTimer),window[_0x23ca8a(0x966)](_0x23ca8a(0x99c),resetDimTimer),console[_0x23ca8a(0x484)](_0x23ca8a(0x9c4));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0x14ba6c,_0x48ab8f=![]){const _0x4bbe83=_0x5f3a,_0x1ad0f1=allQuizzes[_0x4bbe83(0x3d5)](_0xc2be2d=>_0xc2be2d['id']===_0x14ba6c)||allQuizzesGlobal[_0x4bbe83(0x3d5)](_0xf9deed=>_0xf9deed['id']===_0x14ba6c);if(!_0x1ad0f1){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x1ad0f1);const _0x4a3042=Math[_0x4bbe83(0xaac)](0x3e8+Math['random']()*0x2328)[_0x4bbe83(0x7cb)]();try{const _0x48d672=await addDoc(collection(db,_0x4bbe83(0x827)+appId+'/public/data/teamQuizzes'),{'quizId':_0x1ad0f1['id'],'projectId':_0x1ad0f1[_0x4bbe83(0x35a)],'status':_0x4bbe83(0x557),'pin':_0x4a3042,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x48ab8f});currentTeamQuizId=_0x48d672['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x4a3042,_0x1ad0f1[_0x4bbe83(0x21a)]),listenForTeamQuizUpdates();}catch(_0x304fb5){console[_0x4bbe83(0x4a0)]('Error\x20starting\x20team\x20quiz:',_0x304fb5),showMessage(_0x4bbe83(0x2a1));}}function renderAdminTeamQuizDashboard(_0x1dfdcf,_0x47ffbf,_0x4f3141='team'){const _0x5239da=_0x5f3a,_0x28d553=_0x4f3141==='group'?'Group\x20Mode':_0x5239da(0xb36);liveGameView[_0x5239da(0x415)]=_0x5239da(0xa7c)+_0x28d553+':\x20'+_0x47ffbf+_0x5239da(0x469)+_0x1dfdcf+_0x5239da(0x819),document[_0x5239da(0xa9a)](_0x5239da(0x456))[_0x5239da(0x234)](_0x5239da(0x4be),async()=>{const _0x193be0=_0x5239da;showConfirmation(_0x193be0(0x7a8),async()=>{const _0x118226=_0x193be0;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x118226(0x827)+appId+_0x118226(0xba4),currentTeamQuizId)),showView('project-detail');});});}function listenForTeamQuizUpdates(){const _0x4a6fad=_0x5f3a;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x4b03e3=doc(db,_0x4a6fad(0x827)+appId+_0x4a6fad(0xba4),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x4b03e3,_0x289cba=>{const _0x5d048c=_0x4a6fad;if(!_0x289cba[_0x5d048c(0x539)]()){sessionStorage[_0x5d048c(0x4bf)]('activeGameSession');if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x5d048c(0x861));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x5d048c(0x638)?showView('project-detail'):showView(_0x5d048c(0x21f));return;}const _0x5674a8=_0x289cba[_0x5d048c(0x4b8)]();if(currentMode==='admin'){if(_0x5674a8[_0x5d048c(0x9b8)]==='group'&&_0x5674a8[_0x5d048c(0xb84)]!==_0x5d048c(0x771)&&_0x5674a8[_0x5d048c(0xb84)]!==_0x5d048c(0xaa8)){const _0x4668cc=Object['values'](_0x5674a8[_0x5d048c(0x27b)]||{});if(_0x4668cc[_0x5d048c(0x7dc)]>0x0){const _0x57d613=_0x4668cc['every'](_0x1caa24=>_0x1caa24[_0x5d048c(0x27e)]===!![]);_0x57d613&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x5674a8);}else{if(_0x5674a8[_0x5d048c(0xb84)]===_0x5d048c(0x771)||_0x5674a8[_0x5d048c(0xb84)]==='finished'){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x5674a8['mode']===_0x5d048c(0x8dd)){const _0x1c7903=_0x5674a8['groups'][userId];(!_0x1c7903||!_0x1c7903['isFinished'])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x55aa70){const _0x440790=_0x5f3a;console['log'](_0x440790(0x986));const _0x55df75=doc(db,_0x440790(0x827)+appId+_0x440790(0xba4),_0x55aa70);try{const _0x4f5dc3=await getDoc(_0x55df75);if(_0x4f5dc3[_0x440790(0x539)]()){const _0x54b38b=_0x4f5dc3[_0x440790(0x4b8)]();_0x54b38b[_0x440790(0x40c)]&&await saveGameResultsAsSubmissions(_0x54b38b);}await updateDoc(_0x55df75,{'status':_0x440790(0x771)});}catch(_0x197505){console[_0x440790(0x4a0)](_0x440790(0x396),_0x197505);}}function updateAdminTeamDashboard(_0x476371){const _0x21bf89=_0x5f3a,_0x5f2334=document[_0x21bf89(0xa9a)](_0x21bf89(0xb5e));if(!_0x5f2334)return;const _0x20af52=_0x476371[_0x21bf89(0x9b8)]||_0x21bf89(0xa65),_0x48e95a=currentQuizData[_0x21bf89(0x4aa)]['length'];if(_0x20af52===_0x21bf89(0x8dd)){const _0x379ae7=Object[_0x21bf89(0x989)](_0x476371[_0x21bf89(0x27b)]||{});if(_0x379ae7['length']===0x0){_0x5f2334[_0x21bf89(0x415)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>';return;}const _0x1cddbd=[..._0x379ae7][_0x21bf89(0xae5)]((_0x57555c,_0x45da90)=>_0x45da90[_0x21bf89(0x8b3)]-_0x57555c[_0x21bf89(0x8b3)]),_0x4e627f=_0x1cddbd[_0x21bf89(0x821)]((_0x53040e,_0x13cdd9)=>{const _0x1c88a0=_0x21bf89,_0xcfd78f=_0x53040e[_0x1c88a0(0x184)]?.[_0x1c88a0(0x7dc)]||0x0;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+(_0x13cdd9+0x1)+_0x1c88a0(0x874)+_0x53040e[_0x1c88a0(0x29c)][_0x1c88a0(0x4ad)](',\x20')+_0x1c88a0(0x5fb)+_0xcfd78f+'/'+_0x48e95a+_0x1c88a0(0x367)+_0x53040e[_0x1c88a0(0x8b3)]+_0x1c88a0(0x6f0);})['join'](''),_0x6cdbc6=currentQuizData['questions'][_0x21bf89(0x821)]((_0xbdcbc1,_0x34c147)=>{const _0x325244=_0x21bf89;let _0x27f312=0x0,_0x3feafc=0x0;_0x379ae7[_0x325244(0x50c)](_0x170bd6=>{const _0x2202b0=_0x325244,_0x43e9ed=_0x170bd6[_0x2202b0(0x184)]?.[_0x2202b0(0x3d5)](_0x518eb4=>_0x518eb4[_0x2202b0(0x697)]===_0x34c147);if(_0x43e9ed){_0x3feafc++;if(_0x43e9ed[_0x2202b0(0x764)])_0x27f312++;}});const _0x403f25=_0x3feafc>0x0&&_0x3feafc===_0x379ae7[_0x325244(0x7dc)],_0x241532=_0x403f25?'bg-green-200\x20text-green-900\x20font-bold':_0x325244(0x686),_0x2c5285=_0x403f25?_0x325244(0x502):'';return'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x241532+_0x325244(0x6f8)+(_0x34c147+0x1)+_0x325244(0x1d8)+_0x2c5285+_0x325244(0x2d1)+_0x27f312+'/'+_0x379ae7[_0x325244(0x7dc)]+'\x20กลุ่ม</p></div>';})[_0x21bf89(0x4ad)]('');_0x5f2334[_0x21bf89(0x415)]=_0x21bf89(0x2dd)+_0x4e627f+_0x21bf89(0x732)+_0x6cdbc6+_0x21bf89(0x5f3);return;}const _0x118b57=_0x476371[_0x21bf89(0x653)]||{},_0x20a797=Object['keys'](_0x118b57);if(_0x20a797[_0x21bf89(0x7dc)]===0x0){_0x5f2334[_0x21bf89(0x415)]=_0x21bf89(0x7bd);return;}const _0x45e7bb=_0x20a797['map'](_0x3e8287=>({'name':_0x3e8287,'score':_0x118b57[_0x3e8287]['score']||0x0}))[_0x21bf89(0xae5)]((_0x4bef68,_0x28e097)=>_0x28e097['score']-_0x4bef68['score']),_0x256691=_0x45e7bb[_0x21bf89(0x821)](_0x55c9a7=>{const _0x5258e8=_0x21bf89,_0x5eb0df=_0x118b57[_0x55c9a7['name']]?.['answers']?.[_0x5258e8(0x7dc)]||0x0,_0x1ca059=Math[_0x5258e8(0xb14)](_0x48e95a/_0x20a797['length']);return _0x5258e8(0x7c7)+_0x55c9a7[_0x5258e8(0x352)]+'\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>('+_0x5eb0df+'/'+_0x1ca059+_0x5258e8(0x993)+_0x55c9a7[_0x5258e8(0x8b3)]+'\x20คะแนน</span></div>';})[_0x21bf89(0x4ad)](''),_0x1e80a7=_0x20a797['reduce']((_0x20fe87,_0x4e14ca)=>_0x20fe87+(_0x118b57[_0x4e14ca][_0x21bf89(0x184)]?.['length']||0x0),0x0),_0x2d7fcd=currentQuizData[_0x21bf89(0x4aa)][_0x21bf89(0x821)]((_0xc6398f,_0x429cf1)=>{const _0x1e43fd=_0x21bf89;let _0x266338=null,_0x26f4c7=null;for(const _0x48d08e of _0x20a797){const _0x298e8a=_0x118b57[_0x48d08e][_0x1e43fd(0x184)]?.[_0x1e43fd(0x3d5)](_0x33d364=>_0x33d364[_0x1e43fd(0x697)]===_0x429cf1);if(_0x298e8a){_0x266338=_0x298e8a,_0x26f4c7=_0x48d08e;break;}}const _0x3a0b76=!!_0x266338,_0x3cbe41=_0x3a0b76&&_0x266338['isCorrect'],_0x1cfdc0=(Math['floor'](_0x429cf1/_0x20a797['length'])+0x1)*_0x20a797[_0x1e43fd(0x7dc)],_0x366380=_0x1e80a7>=_0x1cfdc0,_0x20bddf=_0x366380?_0x1e43fd(0xa75):_0x1e43fd(0x686),_0x1019b8=_0x366380?_0x1e43fd(0x502):'';let _0x145075=_0x1e43fd(0x85d);return _0x3a0b76&&(_0x145075=_0x26f4c7+_0x1e43fd(0x5cc)+(_0x3cbe41?_0x1e43fd(0x623):_0x1e43fd(0xab6))),_0x1e43fd(0x80c)+_0x20bddf+_0x1e43fd(0x6f8)+(_0x429cf1+0x1)+_0x1e43fd(0x1d8)+_0x1019b8+'</span></p><p\x20class=\x22text-xs\x20font-normal\x22>'+_0x145075+_0x1e43fd(0x12f);})[_0x21bf89(0x4ad)]('');_0x5f2334['innerHTML']=_0x21bf89(0x39d)+_0x256691+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>'+_0x2d7fcd+_0x21bf89(0x5f3);}async function handleJoinTeamQuiz(){const _0x441310=_0x5f3a,_0x17f20f=prompt(_0x441310(0x245));if(!_0x17f20f||_0x17f20f[_0x441310(0x2b0)]()[_0x441310(0x7dc)]!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x589630=collection(db,_0x441310(0x827)+appId+'/public/data/teamQuizzes'),_0x70bdc5=query(_0x589630,where(_0x441310(0x959),'==',_0x17f20f[_0x441310(0x2b0)]()),where(_0x441310(0xb84),'==','lobby')),_0x1268af=await getDocs(_0x70bdc5);if(_0x1268af[_0x441310(0x454)]){showMessage(_0x441310(0xaab));return;}const _0x5ae439=_0x1268af['docs'][0x0];currentTeamQuizId=_0x5ae439['id'];const _0x4a8890=_0x5ae439[_0x441310(0x4b8)](),_0x14e973=doc(db,'artifacts/'+appId+_0x441310(0x98b),_0x4a8890[_0x441310(0x35a)]),_0xa3b8fd=doc(db,'artifacts/'+appId+_0x441310(0xb2f),_0x4a8890[_0x441310(0x65d)]),[_0x36320e,_0x15e519]=await Promise[_0x441310(0xab1)]([getDoc(_0x14e973),getDoc(_0xa3b8fd)]);if(!_0x36320e[_0x441310(0x539)]()||!_0x15e519[_0x441310(0x539)]())throw new Error(_0x441310(0xa79));currentQuizData=getShuffledQuiz({'id':_0x15e519['id'],..._0x15e519[_0x441310(0x4b8)]()});const _0xfa2462=_0x36320e[_0x441310(0x4b8)]();showTeamPlayerSelection(_0xfa2462['students'],currentQuizData[_0x441310(0x21a)]);}catch(_0x38b9f3){console[_0x441310(0x4a0)]('Error\x20joining\x20team\x20quiz:',_0x38b9f3),showMessage(_0x441310(0x444)+_0x38b9f3[_0x441310(0x5a6)]);}}async function handleJoinGroupActivity(){const _0xf3fe49=_0x5f3a,_0x56df11=prompt(_0xf3fe49(0x23c));if(!_0x56df11||_0x56df11[_0xf3fe49(0x2b0)]()[_0xf3fe49(0x7dc)]!==0x4){showMessage(_0xf3fe49(0x1d0));return;}const _0x5363a1=_0x56df11['trim']();showMessage(_0xf3fe49(0xadf));try{const _0x92d563=collection(db,'artifacts/'+appId+_0xf3fe49(0xba4)),_0x2c1de7=query(_0x92d563,where('pin','==',_0x5363a1),where(_0xf3fe49(0xb84),'==',_0xf3fe49(0x557))),_0x43b713=await getDocs(_0x2c1de7);if(!_0x43b713[_0xf3fe49(0x454)]){console[_0xf3fe49(0x484)]('พบ\x20Team\x20Quiz!'),await proceedWithTeamQuizJoin(_0x43b713[_0xf3fe49(0x8e0)][0x0]);return;}const _0x17692b=collection(db,'artifacts/'+appId+'/public/data/syncGames'),_0x546f40=query(_0x17692b,where('pin','==',_0x5363a1),where(_0xf3fe49(0xb84),'==',_0xf3fe49(0x557))),_0x432052=await getDocs(_0x546f40);if(!_0x432052[_0xf3fe49(0x454)]){console[_0xf3fe49(0x484)](_0xf3fe49(0x267)),await proceedWithSyncQuizJoin(_0x432052[_0xf3fe49(0x8e0)][0x0]);return;}showMessage(_0xf3fe49(0x4ff));}catch(_0x46babe){console['error'](_0xf3fe49(0x3eb),_0x46babe),showMessage(_0xf3fe49(0x523)+_0x46babe[_0xf3fe49(0x5a6)]);}}async function proceedWithTeamQuizJoin(_0x3a99b5){const _0x3c9dc7=_0x5f3a;currentTeamQuizId=_0x3a99b5['id'];const _0x26e90e=_0x3a99b5[_0x3c9dc7(0x4b8)](),_0x434cc8=doc(db,_0x3c9dc7(0x827)+appId+_0x3c9dc7(0x98b),_0x26e90e[_0x3c9dc7(0x35a)]),_0x471adf=doc(db,_0x3c9dc7(0x827)+appId+_0x3c9dc7(0xb2f),_0x26e90e[_0x3c9dc7(0x65d)]),[_0x53752e,_0x39b517]=await Promise[_0x3c9dc7(0xab1)]([getDoc(_0x434cc8),getDoc(_0x471adf)]);if(!_0x53752e[_0x3c9dc7(0x539)]()||!_0x39b517['exists']())throw new Error(_0x3c9dc7(0xa79));currentQuizData=getShuffledQuiz({'id':_0x39b517['id'],..._0x39b517[_0x3c9dc7(0x4b8)]()}),showTeamPlayerSelection(_0x53752e[_0x3c9dc7(0x4b8)]()[_0x3c9dc7(0x161)],currentQuizData[_0x3c9dc7(0x21a)],_0x26e90e['mode']||'team'),messageModal[_0x3c9dc7(0x25c)]['add'](_0x3c9dc7(0x864));}async function proceedWithSyncQuizJoin(_0x2fe639){const _0x436d70=_0x5f3a;currentLiveGameId=_0x2fe639['id'];const _0x2c34d7=_0x2fe639[_0x436d70(0x4b8)](),_0x16546c=doc(db,_0x436d70(0x827)+appId+'/public/data/quizzes',_0x2c34d7[_0x436d70(0x65d)]),_0x437075=await getDoc(_0x16546c);if(!_0x437075[_0x436d70(0x539)]())throw new Error(_0x436d70(0x461));const _0x368882=_0x437075['data'](),_0x16f347=doc(db,_0x436d70(0x827)+appId+_0x436d70(0x98b),_0x368882[_0x436d70(0x35a)]),_0x23d0e7=await getDoc(_0x16f347);if(!_0x23d0e7[_0x436d70(0x539)]())throw new Error(_0x436d70(0x85f));currentQuizData=_0x2c34d7[_0x436d70(0x150)],showView(_0x436d70(0x7f4)),showTeamPlayerSelection(_0x23d0e7[_0x436d70(0x4b8)]()[_0x436d70(0x161)],_0x368882[_0x436d70(0x21a)],_0x436d70(0x1eb)),document[_0x436d70(0xa9a)]('confirm-team-players-btn')['onclick']=confirmAndJoinSyncGame,messageModal[_0x436d70(0x25c)]['add'](_0x436d70(0x864));}function getCleanApplicationHTML(){const _0x566575=_0x5f3a,_0x3f5f6f=document[_0x566575(0xa9a)]('applicationContent');if(!_0x3f5f6f)return'';const _0x5e555e=_0x3f5f6f[_0x566575(0x34c)](!![]);return _0x5e555e[_0x566575(0x4e0)](_0x566575(0x236))[_0x566575(0x50c)](_0x5ab675=>{const _0xc3684=_0x566575;_0x5ab675[_0xc3684(0x25c)]['remove'](_0xc3684(0xa43),_0xc3684(0x785)),_0x5ab675[_0xc3684(0xb12)]=![];}),_0x5e555e[_0x566575(0x415)];}function showTeamPlayerSelection(_0x1d2d3d,_0x15731f,_0x4bc1b0=_0x27ad1b(0xa65)){const _0x302a21=_0x27ad1b;studentInitialView['classList'][_0x302a21(0x2bd)](_0x302a21(0x864)),studentJoinGameView[_0x302a21(0x25c)][_0x302a21(0x2bd)](_0x302a21(0x864)),document['getElementById'](_0x302a21(0x91e))['classList'][_0x302a21(0x525)](_0x302a21(0x864));let _0x6ff47f=_0x302a21(0xb36);if(_0x4bc1b0===_0x302a21(0x8dd))_0x6ff47f=_0x302a21(0x4fe);else _0x4bc1b0==='sync'&&(_0x6ff47f=_0x302a21(0x936));document[_0x302a21(0xa9a)](_0x302a21(0x16c))[_0x302a21(0xa0d)]=_0x6ff47f+':\x20'+_0x15731f;const _0x318064=document[_0x302a21(0xa9a)](_0x302a21(0x6a8));if(!_0x1d2d3d||_0x1d2d3d[_0x302a21(0x7dc)]===0x0){_0x318064[_0x302a21(0x415)]=_0x302a21(0x1dd),document[_0x302a21(0xa9a)](_0x302a21(0x8be))[_0x302a21(0xb12)]=!![];return;}_0x318064[_0x302a21(0x415)]=_0x1d2d3d['map'](_0x5962c5=>_0x302a21(0x3ce)+_0x5962c5+_0x302a21(0xb7e)+_0x5962c5+_0x302a21(0xb88))['join'](''),document[_0x302a21(0xa9a)]('confirm-team-players-btn')[_0x302a21(0xb12)]=![];}async function confirmAndStartTeamQuiz(){const _0x170879=_0x27ad1b,_0x2ac75c=Array['from'](document['querySelectorAll'](_0x170879(0x901)))[_0x170879(0x821)](_0x35346a=>_0x35346a[_0x170879(0x589)]);if(_0x2ac75c['length']===0x0){showMessage(_0x170879(0x115));return;}localTeamPlayers=_0x2ac75c,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x125bc6=doc(db,_0x170879(0x827)+appId+_0x170879(0xba4),currentTeamQuizId);try{const _0x3b1465=await getDoc(_0x125bc6);if(!_0x3b1465['exists']())throw new Error(_0x170879(0x518));const _0xb83fb3=_0x3b1465[_0x170879(0x4b8)]();if(_0xb83fb3[_0x170879(0x9b8)]==='group'){const _0x13c47b={[_0x170879(0x4f9)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x125bc6,_0x13c47b);}else{const _0x503457=_0xb83fb3[_0x170879(0x653)]||{};localTeamPlayers[_0x170879(0x50c)](_0x313c1e=>{!_0x503457[_0x313c1e]&&(_0x503457[_0x313c1e]={'score':0x0,'answers':[]});}),await updateDoc(_0x125bc6,{'responses':_0x503457});}document[_0x170879(0xa9a)](_0x170879(0x91e))[_0x170879(0x25c)][_0x170879(0x2bd)]('hidden'),renderTeamQuizQuestion();const _0x10cade={'gameId':currentTeamQuizId,'mode':_0xb83fb3[_0x170879(0x9b8)]||_0x170879(0xa65),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x170879(0x610)]('activeGameSession',JSON[_0x170879(0xa1a)](_0x10cade)),listenForTeamQuizUpdates();}catch(_0x5b56bc){console[_0x170879(0x4a0)](_0x170879(0xa21),_0x5b56bc),showMessage(_0x170879(0xa4b));}}async function renderTeamQuizQuestion(){const _0x5dc1d5=_0x27ad1b;if(localQuestionIndex>=currentQuizData[_0x5dc1d5(0x4aa)][_0x5dc1d5(0x7dc)]){displayTeamQuizFinalResults();return;}const _0x25b72b=currentQuizData[_0x5dc1d5(0x4aa)][localQuestionIndex],_0x2c8aa8=localTeamPlayers[localPlayerIndex],_0x33935a=_0x25b72b['questionType']||currentQuizData[_0x5dc1d5(0x447)];let _0x459354=_0x25b72b['stem']||_0x25b72b[_0x5dc1d5(0xac2)],_0x28b95c='';switch(_0x33935a){case _0x5dc1d5(0xb9a):case _0x5dc1d5(0x9ff):_0x28b95c=_0x25b72b[_0x5dc1d5(0x559)][_0x5dc1d5(0x821)]((_0x23c20a,_0xe6cb1f)=>_0x5dc1d5(0x9dc)+_0xe6cb1f+_0x5dc1d5(0x9e3)+_0xe6cb1f+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0xe6cb1f+'\x22>'+_0x23c20a+'</label></div>')['join']('');break;case _0x5dc1d5(0x9c7):_0x28b95c=_0x5dc1d5(0xb65);break;case _0x5dc1d5(0xa97):case _0x5dc1d5(0x7c8):_0x28b95c=_0x5dc1d5(0x480);break;case'matching_item':_0x28b95c=_0x5dc1d5(0x424)+_0x25b72b['allResponses']['map'](_0x4cd6b6=>_0x5dc1d5(0x82c)+_0x4cd6b6+'\x22>'+_0x4cd6b6+_0x5dc1d5(0x125))[_0x5dc1d5(0x4ad)]('')+_0x5dc1d5(0x9e0);break;default:_0x28b95c=_0x5dc1d5(0x389);break;}studentQuizArea[_0x5dc1d5(0x415)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20'+(localQuestionIndex+0x1)+_0x5dc1d5(0x3d6)+currentQuizData[_0x5dc1d5(0x4aa)][_0x5dc1d5(0x7dc)]+_0x5dc1d5(0x332)+_0x2c8aa8+_0x5dc1d5(0x896)+(localQuestionIndex+0x1)+'.\x20'+_0x459354+_0x5dc1d5(0x704)+(_0x25b72b[_0x5dc1d5(0x56d)]?_0x5dc1d5(0x48b)+_0x25b72b[_0x5dc1d5(0x56d)]+_0x5dc1d5(0xac7):'')+_0x5dc1d5(0x31a)+_0x28b95c+_0x5dc1d5(0x246),studentQuizArea[_0x5dc1d5(0x25c)][_0x5dc1d5(0x525)](_0x5dc1d5(0x864));if(window[_0x5dc1d5(0xa63)])MathJax[_0x5dc1d5(0x5e2)]([studentQuizArea]);document[_0x5dc1d5(0xa9a)](_0x5dc1d5(0x94a))[_0x5dc1d5(0x234)]('click',handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x5beec6=_0x27ad1b,_0xad2c9b=currentQuizData[_0x5beec6(0x4aa)][localQuestionIndex],_0x2906d0=_0xad2c9b[_0x5beec6(0x5fe)]||currentQuizData['quizType'];let _0x467e9c=null,_0x6b4b6a=![];if(_0x2906d0===_0x5beec6(0xa97)||_0x2906d0===_0x5beec6(0x7c8)){const _0x66c4bc=document[_0x5beec6(0x46b)](_0x5beec6(0xb91));if(!_0x66c4bc||!_0x66c4bc['value'][_0x5beec6(0x2b0)]()){showMessage(_0x5beec6(0x857));return;}_0x467e9c=_0x66c4bc[_0x5beec6(0x589)][_0x5beec6(0x2b0)](),_0x6b4b6a=await gradeShortAnswer(_0x467e9c,_0xad2c9b);}else{const _0x209e2e=document['querySelector'](_0x5beec6(0x8fc));if(!_0x209e2e||_0x209e2e[_0x5beec6(0x589)]===''){showMessage(_0x5beec6(0x802));return;}_0x467e9c=_0x209e2e[_0x5beec6(0x589)];switch(_0x2906d0){case _0x5beec6(0x9c7):_0x6b4b6a=_0x467e9c===_0x5beec6(0xaa9)===_0xad2c9b[_0x5beec6(0x8cd)];break;case'matching_item':_0x6b4b6a=_0x467e9c===_0xad2c9b['correctResponse'];break;default:_0x6b4b6a=parseInt(_0x467e9c)===_0xad2c9b[_0x5beec6(0xa18)];break;}}const _0x33c936={'questionIndex':localQuestionIndex,'isCorrect':_0x6b4b6a},_0x4675fc=userId,_0x5e5355={['groups.'+_0x4675fc+_0x5beec6(0xacc)]:arrayUnion(_0x33c936)};_0x6b4b6a&&(_0x5e5355[_0x5beec6(0x4f9)+_0x4675fc+_0x5beec6(0x88c)]=increment(0x1));try{await updateDoc(doc(db,_0x5beec6(0x827)+appId+_0x5beec6(0xba4),currentTeamQuizId),_0x5e5355),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x5beec6(0x4aa)][_0x5beec6(0x7dc)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x362360){console[_0x5beec6(0x4a0)](_0x5beec6(0xb37),_0x362360),showMessage(_0x5beec6(0x8a4));}}async function handleTeamAnswerSubmit(){const _0x57fd40=_0x27ad1b,_0x4de890=await getDoc(doc(db,_0x57fd40(0x827)+appId+_0x57fd40(0xba4),currentTeamQuizId));if(!_0x4de890[_0x57fd40(0x539)]())return;const _0x48e887=_0x4de890[_0x57fd40(0x4b8)]();if(_0x48e887[_0x57fd40(0x9b8)]===_0x57fd40(0x8dd)){handleGroupAnswerSubmit();return;}const _0x29f043=localTeamPlayers[localPlayerIndex],_0x55eb19=currentQuizData[_0x57fd40(0x4aa)][localQuestionIndex],_0x6aa958=_0x55eb19[_0x57fd40(0x5fe)]||currentQuizData['quizType'];let _0x41e0c0=null,_0x110281=![];if(_0x6aa958===_0x57fd40(0xa97)||_0x6aa958===_0x57fd40(0x7c8)){const _0x3142c4=document['querySelector'](_0x57fd40(0xb91));if(!_0x3142c4||!_0x3142c4[_0x57fd40(0x589)][_0x57fd40(0x2b0)]()){showMessage(_0x57fd40(0x7cf));return;}_0x41e0c0=_0x3142c4[_0x57fd40(0x589)]['trim'](),_0x110281=await gradeShortAnswer(_0x41e0c0,_0x55eb19);}else{const _0x28fb06=document[_0x57fd40(0x46b)](_0x57fd40(0x8fc));if(!_0x28fb06||_0x28fb06['value']===''){showMessage(_0x57fd40(0x777));return;}_0x41e0c0=_0x28fb06[_0x57fd40(0x589)];switch(_0x6aa958){case'true_false':_0x110281=_0x41e0c0===_0x57fd40(0xaa9)===_0x55eb19[_0x57fd40(0x8cd)];break;case _0x57fd40(0x62a):_0x110281=_0x41e0c0===_0x55eb19[_0x57fd40(0xa66)];break;default:_0x110281=parseInt(_0x41e0c0)===_0x55eb19[_0x57fd40(0xa18)];break;}}const _0x25ef64={'questionIndex':localQuestionIndex,'isCorrect':_0x110281,'answerValue':_0x41e0c0},_0x3c1c95={[_0x57fd40(0x78b)+_0x29f043+_0x57fd40(0xacc)]:arrayUnion(_0x25ef64)};_0x110281&&(_0x3c1c95[_0x57fd40(0x78b)+_0x29f043+_0x57fd40(0x88c)]=increment(0x1));try{await updateDoc(doc(db,_0x57fd40(0x827)+appId+_0x57fd40(0xba4),currentTeamQuizId),_0x3c1c95),localPlayerIndex++,localPlayerIndex>=localTeamPlayers['length']&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x4c8728){console[_0x57fd40(0x4a0)](_0x57fd40(0x9ac),_0x4c8728),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function displayTeamQuizFinalResults(){const _0x1e83cb=_0x27ad1b;studentQuizArea[_0x1e83cb(0x25c)][_0x1e83cb(0x2bd)]('hidden'),studentResultArea[_0x1e83cb(0x25c)][_0x1e83cb(0x525)](_0x1e83cb(0x864));const _0x38c37f=doc(db,_0x1e83cb(0x827)+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x58c29c=await getDoc(_0x38c37f);if(!_0x58c29c[_0x1e83cb(0x539)]()){studentResultArea[_0x1e83cb(0x415)]='<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>';return;}const _0x32d192=_0x58c29c[_0x1e83cb(0x4b8)]();let _0x4c321b=[];const _0x58d545=_0x32d192['mode']||_0x1e83cb(0xa65);if(_0x58d545===_0x1e83cb(0x8dd)){const _0x554bf3=_0x32d192[_0x1e83cb(0x27b)][userId];_0x554bf3?_0x4c321b=[{'name':'กลุ่ม:\x20'+localTeamPlayers[_0x1e83cb(0x4ad)](',\x20'),'score':_0x554bf3['score']||0x0}]:_0x4c321b=[{'name':_0x1e83cb(0xa06),'score':_0x1e83cb(0x36c)}];}else _0x4c321b=localTeamPlayers[_0x1e83cb(0x821)](_0x1dbd8f=>({'name':_0x1dbd8f,'score':_0x32d192['responses'][_0x1dbd8f]?.[_0x1e83cb(0x8b3)]||0x0}))[_0x1e83cb(0xae5)]((_0x5a6be6,_0xcd2de9)=>_0xcd2de9['score']-_0x5a6be6[_0x1e83cb(0x8b3)]);studentResultArea[_0x1e83cb(0x415)]=_0x1e83cb(0x1e7)+_0x4c321b[_0x1e83cb(0x821)](_0x4146c1=>_0x1e83cb(0x784)+_0x4146c1[_0x1e83cb(0x352)]+_0x1e83cb(0xa4f)+_0x4146c1[_0x1e83cb(0x8b3)]+_0x1e83cb(0x774))[_0x1e83cb(0x4ad)]('')+_0x1e83cb(0xb61),sessionStorage[_0x1e83cb(0x4bf)](_0x1e83cb(0x544)),currentMode===_0x1e83cb(0x638)&&currentTeamQuizId&&setTimeout(()=>{const _0x59cf57=_0x1e83cb;deleteDoc(doc(db,_0x59cf57(0x827)+appId+_0x59cf57(0xba4),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0x27ad1b(0x733)};const allMathTopics=[{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0x648)},{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0x9b7)},{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0x311)},{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0x231)},{'category':'จำนวนและการดำเนินการ','name':_0x27ad1b(0x94b)},{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0x3b3)},{'category':'จำนวนและการดำเนินการ','name':'การคูณ'},{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0xa4c)},{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0x94e)},{'category':_0x27ad1b(0x528),'name':'จำนวนเต็มลบ'},{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0x98a)},{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0x12b)},{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0x151)},{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0x4db)},{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0x83c)},{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0x6f5)},{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0x515)},{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0x329)},{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0x50e)},{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0x6fc)},{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0x18f)},{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0x8e7)},{'category':_0x27ad1b(0x528),'name':'การหารเศษส่วน'},{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0x457)},{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0x573)},{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0x52b)},{'category':'จำนวนและการดำเนินการ','name':_0x27ad1b(0x37b)},{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0x2d8)},{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0x5b2)},{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0x729)},{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0x786)},{'category':'จำนวนและการดำเนินการ','name':'ปรับเพิ่ม/ลดเป็นร้อยละ'},{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0x27c)},{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0x1ad)},{'category':_0x27ad1b(0x528),'name':'รากที่สองและที่สาม'},{'category':'จำนวนและการดำเนินการ','name':_0x27ad1b(0x6d4)},{'category':_0x27ad1b(0x528),'name':_0x27ad1b(0x215)},{'category':_0x27ad1b(0xa33),'name':_0x27ad1b(0x349)},{'category':_0x27ad1b(0xa33),'name':_0x27ad1b(0x9a8)},{'category':_0x27ad1b(0xa33),'name':_0x27ad1b(0x5e6)},{'category':'การวัด','name':_0x27ad1b(0x74f)},{'category':'การวัด','name':_0x27ad1b(0x229)},{'category':_0x27ad1b(0xa33),'name':_0x27ad1b(0x1b8)},{'category':_0x27ad1b(0xa33),'name':'พื้นที่สี่เหลี่ยม'},{'category':'การวัด','name':_0x27ad1b(0xb33)},{'category':_0x27ad1b(0xa33),'name':_0x27ad1b(0x440)},{'category':_0x27ad1b(0xa33),'name':_0x27ad1b(0x746)},{'category':'การวัด','name':_0x27ad1b(0x80f)},{'category':_0x27ad1b(0xa33),'name':_0x27ad1b(0x58a)},{'category':_0x27ad1b(0xa33),'name':_0x27ad1b(0x49a)},{'category':'การวัด','name':_0x27ad1b(0x4fb)},{'category':_0x27ad1b(0x14d),'name':_0x27ad1b(0x898)},{'category':_0x27ad1b(0x14d),'name':_0x27ad1b(0x279)},{'category':_0x27ad1b(0x14d),'name':_0x27ad1b(0x9a2)},{'category':'เรขาคณิต','name':_0x27ad1b(0xb33)},{'category':_0x27ad1b(0x14d),'name':'ความเท่ากันทุกประการของสามเหลี่ยม'},{'category':_0x27ad1b(0x14d),'name':'ความคล้ายของรูป'},{'category':_0x27ad1b(0x14d),'name':_0x27ad1b(0x228)},{'category':_0x27ad1b(0x14d),'name':_0x27ad1b(0x5d8)},{'category':_0x27ad1b(0x14d),'name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':_0x27ad1b(0x14d),'name':_0x27ad1b(0x487)},{'category':_0x27ad1b(0x14d),'name':_0x27ad1b(0x73d)},{'category':'เรขาคณิต','name':_0x27ad1b(0xa4e)},{'category':_0x27ad1b(0x14d),'name':'สมมาตร\x20(แกน/จุด)'},{'category':_0x27ad1b(0x14d),'name':_0x27ad1b(0x358)},{'category':_0x27ad1b(0x14d),'name':_0x27ad1b(0x529)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x27ad1b(0x103)},{'category':_0x27ad1b(0xf9),'name':_0x27ad1b(0x8ca)},{'category':_0x27ad1b(0xf9),'name':_0x27ad1b(0x437)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x27ad1b(0x594)},{'category':_0x27ad1b(0xf9),'name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x27ad1b(0x2cf)},{'category':_0x27ad1b(0xf9),'name':_0x27ad1b(0x360)},{'category':_0x27ad1b(0xf9),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':_0x27ad1b(0xf9),'name':_0x27ad1b(0x9ae)},{'category':_0x27ad1b(0xf9),'name':'สมการเหตุผล\x20(rational)'},{'category':_0x27ad1b(0xf9),'name':_0x27ad1b(0x4c0)},{'category':_0x27ad1b(0xf9),'name':_0x27ad1b(0x5db)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x27ad1b(0x2e2)},{'category':_0x27ad1b(0xf9),'name':_0x27ad1b(0x1e4)},{'category':_0x27ad1b(0xf9),'name':'อสมการค่าสัมบูรณ์'},{'category':_0x27ad1b(0xf9),'name':_0x27ad1b(0x4cb)},{'category':_0x27ad1b(0xf9),'name':_0x27ad1b(0x1cd)},{'category':_0x27ad1b(0xf9),'name':_0x27ad1b(0x43a)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x27ad1b(0x799)},{'category':_0x27ad1b(0xf9),'name':'ฟังก์ชันผกผัน'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x27ad1b(0x238)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x27ad1b(0x2b5)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x27ad1b(0x548)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x27ad1b(0xa52)},{'category':_0x27ad1b(0xf9),'name':_0x27ad1b(0x3d7)},{'category':_0x27ad1b(0xf9),'name':_0x27ad1b(0xa44)},{'category':_0x27ad1b(0xf9),'name':_0x27ad1b(0x15b)},{'category':_0x27ad1b(0xf9),'name':_0x27ad1b(0x65a)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x27ad1b(0xa4d)},{'category':_0x27ad1b(0xf9),'name':'ฟังก์ชันลอการิทึม'},{'category':_0x27ad1b(0xf9),'name':'ลำดับเลขคณิต\x20(AP)'},{'category':_0x27ad1b(0xf9),'name':_0x27ad1b(0x2ae)},{'category':'พีชคณิตและฟังก์ชัน','name':'ผลรวมอนุกรม\x20(Σ)'},{'category':_0x27ad1b(0xf9),'name':_0x27ad1b(0x996)},{'category':_0x27ad1b(0xf9),'name':_0x27ad1b(0x57f)},{'category':_0x27ad1b(0x5f0),'name':_0x27ad1b(0x2a2)},{'category':'เรขาคณิตวิเคราะห์','name':_0x27ad1b(0x75f)},{'category':_0x27ad1b(0x5f0),'name':_0x27ad1b(0x400)},{'category':_0x27ad1b(0x5f0),'name':_0x27ad1b(0x48c)},{'category':_0x27ad1b(0x5f0),'name':_0x27ad1b(0xa0f)},{'category':_0x27ad1b(0x5f0),'name':_0x27ad1b(0x6b3)},{'category':_0x27ad1b(0x5f0),'name':_0x27ad1b(0xb73)},{'category':_0x27ad1b(0x5f0),'name':_0x27ad1b(0x152)},{'category':_0x27ad1b(0x5f0),'name':_0x27ad1b(0x765)},{'category':_0x27ad1b(0xa41),'name':_0x27ad1b(0x80b)},{'category':_0x27ad1b(0xa41),'name':_0x27ad1b(0xa0b)},{'category':_0x27ad1b(0xa41),'name':_0x27ad1b(0x17d)},{'category':_0x27ad1b(0xa41),'name':_0x27ad1b(0xa08)},{'category':_0x27ad1b(0xa41),'name':'กฎของไซน์'},{'category':_0x27ad1b(0xa41),'name':_0x27ad1b(0x602)},{'category':'ตรีโกณมิติ','name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':_0x27ad1b(0xa41),'name':'การแปลงรูปอัตลักษณ์'},{'category':_0x27ad1b(0xa41),'name':_0x27ad1b(0xf4)},{'category':_0x27ad1b(0xa41),'name':_0x27ad1b(0xb43)},{'category':_0x27ad1b(0xa41),'name':_0x27ad1b(0xa60)},{'category':'สถิติและความน่าจะเป็น','name':'ชนิดของข้อมูลและการเก็บข้อมูล'},{'category':'สถิติและความน่าจะเป็น','name':_0x27ad1b(0x9e1)},{'category':'สถิติและความน่าจะเป็น','name':_0x27ad1b(0x43d)},{'category':_0x27ad1b(0x54b),'name':_0x27ad1b(0x640)},{'category':_0x27ad1b(0x54b),'name':_0x27ad1b(0x46d)},{'category':'สถิติและความน่าจะเป็น','name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':_0x27ad1b(0x54b),'name':_0x27ad1b(0x1c5)},{'category':'สถิติและความน่าจะเป็น','name':_0x27ad1b(0xa20)},{'category':_0x27ad1b(0x54b),'name':_0x27ad1b(0xaba)},{'category':_0x27ad1b(0x54b),'name':_0x27ad1b(0xa38)},{'category':_0x27ad1b(0x54b),'name':_0x27ad1b(0x8e8)},{'category':_0x27ad1b(0x54b),'name':_0x27ad1b(0x647)},{'category':_0x27ad1b(0x54b),'name':_0x27ad1b(0x2f7)},{'category':_0x27ad1b(0x54b),'name':_0x27ad1b(0x90e)},{'category':_0x27ad1b(0x54b),'name':_0x27ad1b(0x60e)},{'category':_0x27ad1b(0x54b),'name':_0x27ad1b(0xb0f)},{'category':'สถิติและความน่าจะเป็น','name':_0x27ad1b(0x127)},{'category':_0x27ad1b(0x54b),'name':_0x27ad1b(0x5f2)},{'category':_0x27ad1b(0x54b),'name':_0x27ad1b(0x52c)},{'category':_0x27ad1b(0x54b),'name':'ความเป็นอิสระของเหตุการณ์'},{'category':_0x27ad1b(0x54b),'name':_0x27ad1b(0x696)},{'category':_0x27ad1b(0x54b),'name':_0x27ad1b(0x46f)},{'category':_0x27ad1b(0x54b),'name':'การแจกแจงทวินาม\x20(พื้นฐาน)'},{'category':'สถิติและความน่าจะเป็น','name':_0x27ad1b(0xb72)},{'category':_0x27ad1b(0x5eb),'name':_0x27ad1b(0x34d)},{'category':'แคลคูลัสเบื้องต้น','name':_0x27ad1b(0x4ba)},{'category':_0x27ad1b(0x5eb),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0x27ad1b(0x5eb),'name':_0x27ad1b(0x634)},{'category':_0x27ad1b(0x5eb),'name':_0x27ad1b(0xa5c)},{'category':_0x27ad1b(0x5eb),'name':_0x27ad1b(0xb69)},{'category':_0x27ad1b(0x5eb),'name':_0x27ad1b(0x6a6)},{'category':_0x27ad1b(0x5eb),'name':_0x27ad1b(0x705)},{'category':'แคลคูลัสเบื้องต้น','name':_0x27ad1b(0x828)},{'category':_0x27ad1b(0x5eb),'name':_0x27ad1b(0x541)},{'category':'แคลคูลัสเบื้องต้น','name':_0x27ad1b(0x7c6)},{'category':'แคลคูลัสเบื้องต้น','name':_0x27ad1b(0x2ac)},{'category':'แคลคูลัสเบื้องต้น','name':_0x27ad1b(0x2de)},{'category':_0x27ad1b(0x8ac),'name':'เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์'},{'category':_0x27ad1b(0x8ac),'name':'ดอทโปรดักต์\x20(dot)'},{'category':_0x27ad1b(0x8ac),'name':_0x27ad1b(0x3cf)},{'category':_0x27ad1b(0x8ac),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x27ad1b(0x8ac),'name':_0x27ad1b(0x58f)},{'category':_0x27ad1b(0x8ac),'name':'ดีเทอร์มิแนนต์'},{'category':_0x27ad1b(0x8ac),'name':_0x27ad1b(0x2c7)},{'category':'คณิตการเงิน/บูรณาการ','name':'ดอกเบี้ยอย่างง่าย'},{'category':'คณิตการเงิน/บูรณาการ','name':'ดอกเบี้ยทบต้น'},{'category':_0x27ad1b(0x69c),'name':_0x27ad1b(0xa1c)},{'category':'คณิตการเงิน/บูรณาการ','name':'ค่าเสื่อมราคา'},{'category':_0x27ad1b(0x69c),'name':_0x27ad1b(0x7d2)},{'category':_0x27ad1b(0x333),'name':_0x27ad1b(0x738)},{'category':_0x27ad1b(0x333),'name':_0x27ad1b(0xb90)},{'category':_0x27ad1b(0x333),'name':_0x27ad1b(0x430)}];function renderTopicCheckboxes(){const _0x3d1151=_0x27ad1b,_0x40306b=document[_0x3d1151(0xa9a)](_0x3d1151(0x6ff));if(!_0x40306b)return;const _0x1604c8=allMathTopics,_0xad330a=customMathTopics[_0x3d1151(0x821)](_0x38841b=>({'id':_0x38841b['id'],'category':_0x3d1151(0x824),'name':_0x38841b['name']})),_0xa68c98=[..._0x1604c8,..._0xad330a],_0x1e9d8c=_0xa68c98['reduce']((_0x1930d3,_0x28407c)=>{const _0x18d3e8=_0x3d1151;return!_0x1930d3[_0x28407c[_0x18d3e8(0x937)]]&&(_0x1930d3[_0x28407c['category']]=[]),_0x1930d3[_0x28407c[_0x18d3e8(0x937)]][_0x18d3e8(0x2b6)](_0x28407c),_0x1930d3;},{});let _0x20e1f4='';const _0x409ec4=[_0x3d1151(0x824),...Object[_0x3d1151(0x698)](_0x1e9d8c)[_0x3d1151(0x558)](_0x12ac36=>_0x12ac36!==_0x3d1151(0x824))];for(const _0x1296b2 of _0x409ec4){if(_0x1e9d8c[_0x1296b2]){const _0x196c11=_0x1296b2===_0x3d1151(0x824),_0x129523=_0x196c11?'fas\x20fa-user-edit':_0x3d1151(0x325),_0x252bbb=_0x196c11?'text-blue-700':_0x3d1151(0x5de);_0x20e1f4+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x20e1f4+=_0x3d1151(0x969)+_0x252bbb+'\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22'+_0x129523+'\x20mr-2\x22></i>'+_0x1296b2+_0x3d1151(0x323),_0x1e9d8c[_0x1296b2][_0x3d1151(0x50c)](_0x17229e=>{const _0xe865be=_0x3d1151,_0x42bbbf=!!_0x17229e['id'],_0x1480ff=_0x42bbbf?_0xe865be(0x3f8)+_0x17229e['id']+_0xe865be(0xb49)+_0x17229e['id']+_0xe865be(0x53d)+_0x17229e['id']+_0xe865be(0x5b3)+_0x17229e['id']+_0xe865be(0x3e2):'';_0x20e1f4+=_0xe865be(0x9db)+(_0x17229e['id']||'')+_0xe865be(0x859)+_0x17229e[_0xe865be(0x352)]+_0xe865be(0x17f)+_0x17229e['name']+_0xe865be(0x109)+(_0x42bbbf?_0xe865be(0x973)+_0x17229e[_0xe865be(0x352)]+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1480ff+_0xe865be(0x503);}),_0x20e1f4+=_0x3d1151(0xac7);}}_0x40306b[_0x3d1151(0x415)]=_0x20e1f4||_0x3d1151(0x565),_0x40306b['removeEventListener']('change',updateSelectedTopicsCount),_0x40306b['addEventListener'](_0x3d1151(0x436),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x366f7b,_0x565524){const _0x541716=_0x27ad1b;if(!_0x366f7b||!_0x565524[_0x541716(0x2b0)]()){showMessage(_0x541716(0x6b6));return;}try{const _0x1978dc=doc(db,'artifacts/'+appId+_0x541716(0x1f6),_0x366f7b);await updateDoc(_0x1978dc,{'name':_0x565524[_0x541716(0x2b0)]()}),showMessage(_0x541716(0x104));}catch(_0x169362){console[_0x541716(0x4a0)](_0x541716(0x715),_0x169362),showMessage(_0x541716(0x1da));}}function toggleTopicEditMode(_0x37cccf,_0x1aafc9){const _0x1438e2=_0x27ad1b;if(!_0x37cccf)return;const _0x4a713e=_0x37cccf[_0x1438e2(0x46b)](_0x1438e2(0x497)),_0x33be0b=_0x37cccf[_0x1438e2(0x46b)](_0x1438e2(0x3ec)),_0x4cf137=_0x37cccf[_0x1438e2(0x46b)](_0x1438e2(0x2fa)),_0x2434eb=_0x37cccf[_0x1438e2(0x46b)](_0x1438e2(0x5c2));_0x4a713e[_0x1438e2(0x25c)][_0x1438e2(0x4a8)](_0x1438e2(0x864),_0x1aafc9),_0x33be0b[_0x1438e2(0x25c)]['toggle'](_0x1438e2(0x864),!_0x1aafc9),_0x4cf137[_0x1438e2(0x25c)]['toggle'](_0x1438e2(0x864),_0x1aafc9),_0x2434eb['classList']['toggle'](_0x1438e2(0x864),!_0x1aafc9),_0x1aafc9&&(_0x33be0b['focus'](),_0x33be0b['select']());}async function handleStartLiveRace(_0x1ad7a8){const _0x21cf1c=_0x27ad1b;let _0x1fca34=allQuizzes[_0x21cf1c(0x3d5)](_0x6a9c1=>_0x6a9c1['id']===_0x1ad7a8);if(!_0x1fca34){const _0x2491b9=doc(db,_0x21cf1c(0x827)+appId+'/public/data/quizzes',_0x1ad7a8),_0x26cc3f=await getDoc(_0x2491b9);if(!_0x26cc3f[_0x21cf1c(0x539)]()){showMessage(_0x21cf1c(0x461));return;}_0x1fca34={'id':_0x26cc3f['id'],..._0x26cc3f['data']()};}const _0x2fab1c=getShuffledQuiz(_0x1fca34);currentQuizData=_0x2fab1c;const _0x4a07c4=_0x1fca34[_0x21cf1c(0x35a)]||currentProjectId||null,_0x55f3a6=Math['floor'](0x3e8+Math[_0x21cf1c(0x59a)]()*0x2328)[_0x21cf1c(0x7cb)]();currentLiveGamePin=_0x55f3a6;try{const _0x4629dd=await addDoc(collection(db,_0x21cf1c(0x827)+appId+_0x21cf1c(0x3d2)),{'quizId':_0x1ad7a8,'projectId':_0x4a07c4,'status':_0x21cf1c(0x557),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x55f3a6,'createdAt':serverTimestamp(),'shuffledQuiz':_0x2fab1c});currentLiveGameId=_0x4629dd['id'],showAdminLobbyView(_0x55f3a6,_0x1fca34['topic']),listenForLiveGameUpdates();}catch(_0x3f94fe){console[_0x21cf1c(0x4a0)]('Error\x20starting\x20live\x20race:',_0x3f94fe),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}function updateSelectedTopicsCount(){const _0x13db71=_0x27ad1b,_0x5858e5=document[_0x13db71(0xa9a)](_0x13db71(0x6ff)),_0x58873c=_0x5858e5[_0x13db71(0x4e0)](_0x13db71(0x29a))['length'],_0x168a87=document['getElementById'](_0x13db71(0x579));_0x58873c>0x0?_0x168a87[_0x13db71(0xa0d)]='(เลือกแล้ว\x20'+_0x58873c+_0x13db71(0xa6c):_0x168a87[_0x13db71(0xa0d)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x27ad1b(0x21f),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x27ad1b(0x796),quizLeaderboardSortOrder=_0x27ad1b(0xa61),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x27ad1b(0x167),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x27ad1b(0x4d8),scratchpadPenColor=_0x27ad1b(0x9b3),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x17782d,_0x74efbf){const _0x1e2aa6=_0x27ad1b;return Math[_0x1e2aa6(0x6ce)](Math[_0x1e2aa6(0x4f7)](_0x17782d['x']-_0x74efbf['x'],0x2)+Math[_0x1e2aa6(0x4f7)](_0x17782d['y']-_0x74efbf['y'],0x2));}function getMidpoint(_0x151872,_0x3494b0){return{'x':(_0x151872['x']+_0x3494b0['x'])/0x2,'y':(_0x151872['y']+_0x3494b0['y'])/0x2};}function getTransformedPoint(_0xf18b43,_0xbb0d1b){return{'x':(_0xf18b43-scratchpadOffset['x'])/scratchpadScale,'y':(_0xbb0d1b-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x23756e=_0x27ad1b;if(!scratchpadCtx)return;const _0x449023=scratchpadCtx[_0x23756e(0xaaa)],_0x53c0ea=window[_0x23756e(0x714)]||0x1,_0x4e248e=document['getElementById'](_0x23756e(0x9bd));_0x4e248e&&(_0x4e248e['style'][_0x23756e(0x1e3)]=_0x23756e(0x9ec),_0x4e248e[_0x23756e(0x8f0)][_0x23756e(0x2a6)]=_0x23756e(0x409)+scratchpadOffset['x']+_0x23756e(0x73c)+scratchpadOffset['y']+_0x23756e(0x9f0)+scratchpadScale+')'),scratchpadCtx[_0x23756e(0x467)](),scratchpadCtx[_0x23756e(0x645)](_0x53c0ea,0x0,0x0,_0x53c0ea,0x0,0x0),scratchpadCtx[_0x23756e(0x918)](0x0,0x0,_0x449023[_0x23756e(0x766)],_0x449023['height']),scratchpadCtx[_0x23756e(0x927)](),scratchpadCtx[_0x23756e(0x467)](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes['forEach'](_0x490d42=>{drawStroke(_0x490d42);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x23756e(0x927)]();}function renderGroupModeQuestion(){const _0x241f63=_0x27ad1b;if(localQuestionIndex>=currentQuizData[_0x241f63(0x4aa)]['length']){displayTeamQuizFinalResults();return;}const _0x32b41c=currentQuizData[_0x241f63(0x4aa)][localQuestionIndex],_0x1fd4c9=_0x32b41c[_0x241f63(0x5fe)]||currentQuizData['quizType'];let _0x17bed0=_0x32b41c[_0x241f63(0x856)]||_0x32b41c[_0x241f63(0xac2)],_0x3d55f8='';switch(_0x1fd4c9){case _0x241f63(0xb9a):case _0x241f63(0x9ff):_0x3d55f8=_0x32b41c['options'][_0x241f63(0x821)]((_0x31ebed,_0x26f64f)=>_0x241f63(0x9dc)+_0x26f64f+_0x241f63(0x9e3)+_0x26f64f+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x26f64f+'\x22>'+_0x31ebed+'</label></div>')[_0x241f63(0x4ad)]('');break;case _0x241f63(0x9c7):_0x3d55f8=_0x241f63(0xb65);break;case'short_answer':case _0x241f63(0x7c8):_0x3d55f8=_0x241f63(0xab9);break;case _0x241f63(0x62a):_0x3d55f8=_0x241f63(0x424)+_0x32b41c[_0x241f63(0x1fc)][_0x241f63(0x821)](_0x125478=>_0x241f63(0x82c)+_0x125478+'\x22>'+_0x125478+_0x241f63(0x125))[_0x241f63(0x4ad)]('')+_0x241f63(0x9e0);break;default:_0x3d55f8=_0x241f63(0x389);break;}studentQuizArea[_0x241f63(0x415)]=_0x241f63(0x72b)+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData[_0x241f63(0x4aa)][_0x241f63(0x7dc)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20'+localTeamPlayers['join'](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+(localQuestionIndex+0x1)+'.\x20'+_0x17bed0+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x32b41c[_0x241f63(0x56d)]?_0x241f63(0x48b)+_0x32b41c['imageCode']+_0x241f63(0xac7):'')+_0x241f63(0x31a)+_0x3d55f8+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea['classList'][_0x241f63(0x525)]('hidden');if(window[_0x241f63(0xa63)])MathJax[_0x241f63(0x5e2)]([studentQuizArea]);document['getElementById']('submit-group-answer-btn')['addEventListener']('click',handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x4e1dde,_0x4737fe=null,_0x32f7d2,_0x194175=null,_0x59998d=![]){const _0x49f8b6=_0x27ad1b,_0x3c41b4=document[_0x49f8b6(0xa9a)](_0x49f8b6(0x200));_0x3c41b4&&_0x3c41b4[_0x49f8b6(0x9c1)]({'behavior':_0x49f8b6(0x662),'block':'center'}),generateQuiz(_0x4e1dde,_0x4737fe,null,null,!![],_0x32f7d2,_0x194175,_0x59998d);}function handleGenerateAndShowLesson(_0x890056,_0x4eea09){const _0x55b9d0=_0x27ad1b,_0x1795f5=document[_0x55b9d0(0xa9a)](_0x55b9d0(0x964)),_0x13aeb6=document[_0x55b9d0(0xa9a)]('lesson-view-title'),_0x13cbe8=document[_0x55b9d0(0xa9a)](_0x55b9d0(0x783)),_0x4632be=document[_0x55b9d0(0xa9a)]('lesson-sections-container');[_0x55b9d0(0x17c),_0x55b9d0(0x3ca),_0x55b9d0(0x3bc),_0x55b9d0(0xb2b)][_0x55b9d0(0x50c)](_0x3229ca=>{const _0x503237=_0x55b9d0,_0x35ba6c=document['getElementById'](_0x3229ca)[_0x503237(0x87b)];_0x35ba6c&&(_0x35ba6c['style']['display']=_0x503237(0x9ce));}),_0x13aeb6[_0x55b9d0(0xa0d)]=_0x55b9d0(0x596)+_0x890056,_0x4632be[_0x55b9d0(0x25c)][_0x55b9d0(0x2bd)](_0x55b9d0(0x864)),_0x13cbe8[_0x55b9d0(0x25c)][_0x55b9d0(0x525)]('hidden'),_0x1795f5[_0x55b9d0(0x25c)][_0x55b9d0(0x525)](_0x55b9d0(0x864)),generateLesson(_0x890056,_0x4eea09)['catch'](_0x319c9d=>{const _0x419285=_0x55b9d0;console['error'](_0x419285(0x5d1),_0x319c9d),showMessage(_0x419285(0x583)),_0x1795f5[_0x419285(0x25c)][_0x419285(0x2bd)]('hidden');});}function handlePointerDown(_0xe7ed97){const _0x8d20c4=_0x27ad1b;_0xe7ed97[_0x8d20c4(0x14f)]();const _0x19be39=scratchpadCtx[_0x8d20c4(0xaaa)],_0x564388=_0x19be39[_0x8d20c4(0x294)](),_0x143eed=_0xe7ed97[_0x8d20c4(0x72d)]||(_0xe7ed97[_0x8d20c4(0x18c)]?_0x8d20c4(0x1c3):_0x8d20c4(0xa25));if(_0x143eed===_0x8d20c4(0x4d8)||_0x143eed===_0x8d20c4(0xa25)){if(_0xe7ed97[_0x8d20c4(0x72d)]===_0x8d20c4(0xa25)&&_0xe7ed97[_0x8d20c4(0x207)]!==0x0){_0xe7ed97[_0x8d20c4(0x207)]===0x1&&(isMousePanning=!![],panStart={'x':_0xe7ed97[_0x8d20c4(0x6ca)],'y':_0xe7ed97[_0x8d20c4(0xaf0)]},_0x19be39[_0x8d20c4(0x8f0)][_0x8d20c4(0x8cf)]=_0x8d20c4(0x239));return;}activeTool===_0x8d20c4(0x99e)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x339ff7=getTransformedPoint(_0xe7ed97[_0x8d20c4(0x6ca)]-_0x564388[_0x8d20c4(0x41e)],_0xe7ed97[_0x8d20c4(0xaf0)]-_0x564388[_0x8d20c4(0x869)]);let _0x4ecb35={'tool':activeTool,'points':[_0x339ff7]};if(activeTool==='highlighter')_0x4ecb35[_0x8d20c4(0x3a4)]=scratchpadHighlighterColor,_0x4ecb35[_0x8d20c4(0x865)]=scratchpadHighlighterSize;else activeTool===_0x8d20c4(0x99e)?(_0x4ecb35[_0x8d20c4(0x3a4)]=scratchpadPenColor,_0x4ecb35[_0x8d20c4(0x865)]=scratchpadPenSize):(_0x4ecb35[_0x8d20c4(0x3a4)]=scratchpadPenColor,_0x4ecb35['size']=scratchpadPenSize);currentStroke=_0x4ecb35;}else _0xe7ed97[_0x8d20c4(0x18c)]&&(_0xe7ed97[_0x8d20c4(0x18c)]['length']===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0xe7ed97['touches'][0x0][_0x8d20c4(0x6ca)],'y':_0xe7ed97[_0x8d20c4(0x18c)][0x0][_0x8d20c4(0xaf0)]},{'x':_0xe7ed97['touches'][0x1]['clientX'],'y':_0xe7ed97[_0x8d20c4(0x18c)][0x1][_0x8d20c4(0xaf0)]}),initialPinchDistance=getDistance({'x':_0xe7ed97[_0x8d20c4(0x18c)][0x0][_0x8d20c4(0x6ca)],'y':_0xe7ed97[_0x8d20c4(0x18c)][0x0]['clientY']},{'x':_0xe7ed97[_0x8d20c4(0x18c)][0x1]['clientX'],'y':_0xe7ed97['touches'][0x1]['clientY']})));}function animateTrail(){const _0xe73deb=_0x27ad1b,_0x3b7466=Date[_0xe73deb(0x680)]();let _0xace4d3=![];for(let _0x1046cf=strokes['length']-0x1;_0x1046cf>=0x0;_0x1046cf--){const _0x11c27d=strokes[_0x1046cf];if(_0x11c27d[_0xe73deb(0x13f)]===_0xe73deb(0x99e)&&_0x11c27d[_0xe73deb(0x4f6)]){const _0x3fc938=_0x3b7466-_0x11c27d[_0xe73deb(0x4f6)];_0x3fc938>=TRAIL_DURATION?strokes[_0xe73deb(0x56e)](_0x1046cf,0x1):(_0x11c27d[_0xe73deb(0x199)]=0x1-_0x3fc938/TRAIL_DURATION,_0xace4d3=!![]);}}redrawScratchpad(),_0xace4d3?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x2dfd80){const _0x129e49=_0x27ad1b;if(!_0x2dfd80||_0x2dfd80[_0x129e49(0x206)]['length']<0x1)return;scratchpadCtx[_0x129e49(0x467)](),scratchpadCtx[_0x129e49(0x660)]=_0x129e49(0x846),scratchpadCtx[_0x129e49(0x380)]=_0x129e49(0x846);if(_0x2dfd80[_0x129e49(0x13f)]===_0x129e49(0x99e)){const _0x1a0c19=_0x2dfd80[_0x129e49(0x865)]/scratchpadScale;scratchpadCtx[_0x129e49(0xad0)]=_0x2dfd80[_0x129e49(0x199)]??0x1,scratchpadCtx['shadowColor']='rgba(239,\x2068,\x2068,\x200.9)',scratchpadCtx[_0x129e49(0x6db)]=_0x1a0c19*0x3,scratchpadCtx[_0x129e49(0xb7d)]=_0x129e49(0x9e4),scratchpadCtx['lineWidth']=_0x1a0c19*2.5,scratchpadCtx[_0x129e49(0x601)](),scratchpadCtx[_0x129e49(0x49e)](_0x2dfd80[_0x129e49(0x206)][0x0]['x'],_0x2dfd80[_0x129e49(0x206)][0x0]['y']);for(let _0x515db3=0x1;_0x515db3<_0x2dfd80[_0x129e49(0x206)][_0x129e49(0x7dc)]-0x1;_0x515db3++){const _0x109123=getMidpoint(_0x2dfd80[_0x129e49(0x206)][_0x515db3],_0x2dfd80[_0x129e49(0x206)][_0x515db3+0x1]);scratchpadCtx[_0x129e49(0x763)](_0x2dfd80[_0x129e49(0x206)][_0x515db3]['x'],_0x2dfd80[_0x129e49(0x206)][_0x515db3]['y'],_0x109123['x'],_0x109123['y']);}scratchpadCtx[_0x129e49(0xb93)](),scratchpadCtx['shadowColor']=_0x129e49(0x1c9),scratchpadCtx[_0x129e49(0x6db)]=0x0,scratchpadCtx[_0x129e49(0xb7d)]='#FFFFFF',scratchpadCtx[_0x129e49(0x19e)]=_0x1a0c19,scratchpadCtx[_0x129e49(0xb93)](),scratchpadCtx[_0x129e49(0x5a9)]();}else{if(_0x2dfd80['tool']===_0x129e49(0x932)){scratchpadCtx['globalCompositeOperation']=_0x129e49(0x3d8),scratchpadCtx[_0x129e49(0xb7d)]=_0x2dfd80[_0x129e49(0x3a4)],scratchpadCtx[_0x129e49(0x19e)]=_0x2dfd80[_0x129e49(0x865)],scratchpadCtx[_0x129e49(0x601)](),scratchpadCtx[_0x129e49(0x49e)](_0x2dfd80[_0x129e49(0x206)][0x0]['x'],_0x2dfd80[_0x129e49(0x206)][0x0]['y']);for(let _0x4d6bb3=0x1;_0x4d6bb3<_0x2dfd80['points'][_0x129e49(0x7dc)]-0x1;_0x4d6bb3++){const _0x376312=getMidpoint(_0x2dfd80[_0x129e49(0x206)][_0x4d6bb3],_0x2dfd80[_0x129e49(0x206)][_0x4d6bb3+0x1]);scratchpadCtx[_0x129e49(0x763)](_0x2dfd80[_0x129e49(0x206)][_0x4d6bb3]['x'],_0x2dfd80[_0x129e49(0x206)][_0x4d6bb3]['y'],_0x376312['x'],_0x376312['y']);}scratchpadCtx[_0x129e49(0xb93)](),scratchpadCtx['closePath']();}else{scratchpadCtx[_0x129e49(0x661)]=_0x2dfd80[_0x129e49(0x13f)]==='eraser'?'destination-out':'source-over',scratchpadCtx[_0x129e49(0xb7d)]=_0x2dfd80[_0x129e49(0x3a4)],scratchpadCtx[_0x129e49(0x19e)]=_0x2dfd80[_0x129e49(0x865)],scratchpadCtx[_0x129e49(0x601)](),scratchpadCtx[_0x129e49(0x49e)](_0x2dfd80[_0x129e49(0x206)][0x0]['x'],_0x2dfd80['points'][0x0]['y']);for(let _0x4ae088=0x1;_0x4ae088<_0x2dfd80['points']['length']-0x1;_0x4ae088++){const _0x3aa58a=getMidpoint(_0x2dfd80[_0x129e49(0x206)][_0x4ae088],_0x2dfd80[_0x129e49(0x206)][_0x4ae088+0x1]);scratchpadCtx[_0x129e49(0x763)](_0x2dfd80[_0x129e49(0x206)][_0x4ae088]['x'],_0x2dfd80[_0x129e49(0x206)][_0x4ae088]['y'],_0x3aa58a['x'],_0x3aa58a['y']);}scratchpadCtx[_0x129e49(0xb93)](),scratchpadCtx[_0x129e49(0x5a9)]();}}scratchpadCtx[_0x129e49(0x927)]();}function handlePointerMove(_0x3f31aa){const _0x29887c=_0x27ad1b;_0x3f31aa['preventDefault']();const _0x166fb6=scratchpadCtx[_0x29887c(0xaaa)],_0x126c37=_0x166fb6['getBoundingClientRect']();if(_0x3f31aa['touches']){if(_0x3f31aa[_0x29887c(0x18c)][_0x29887c(0x7dc)]===0x1&&isDrawingOnScratchpad){const _0x174216=getTransformedPoint(_0x3f31aa[_0x29887c(0x18c)][0x0]['clientX']-_0x126c37[_0x29887c(0x41e)],_0x3f31aa['touches'][0x0][_0x29887c(0xaf0)]-_0x126c37['top']);currentStroke[_0x29887c(0x206)][_0x29887c(0x2b6)](_0x174216),redrawScratchpad();}else{if(_0x3f31aa['touches'][_0x29887c(0x7dc)]===0x2&&isPanning){const _0xa156d0=getDistance({'x':_0x3f31aa[_0x29887c(0x18c)][0x0][_0x29887c(0x6ca)],'y':_0x3f31aa[_0x29887c(0x18c)][0x0][_0x29887c(0xaf0)]},{'x':_0x3f31aa[_0x29887c(0x18c)][0x1][_0x29887c(0x6ca)],'y':_0x3f31aa['touches'][0x1]['clientY']}),_0x54a95d=getMidpoint({'x':_0x3f31aa[_0x29887c(0x18c)][0x0][_0x29887c(0x6ca)],'y':_0x3f31aa[_0x29887c(0x18c)][0x0][_0x29887c(0xaf0)]},{'x':_0x3f31aa[_0x29887c(0x18c)][0x1][_0x29887c(0x6ca)],'y':_0x3f31aa['touches'][0x1][_0x29887c(0xaf0)]}),_0xa66db2=_0xa156d0/ initialPinchDistance,_0x14680d=Math['min'](Math[_0x29887c(0x130)](scratchpadScale*_0xa66db2,MIN_SCALE),MAX_SCALE),_0x133392=_0x54a95d['x']-panStart['x'],_0x266e8d=_0x54a95d['y']-panStart['y'];scratchpadOffset['x']=_0x54a95d['x']-(_0x54a95d['x']-scratchpadOffset['x'])*(_0x14680d/scratchpadScale),scratchpadOffset['y']=_0x54a95d['y']-(_0x54a95d['y']-scratchpadOffset['y'])*(_0x14680d/scratchpadScale),scratchpadOffset['x']+=_0x133392,scratchpadOffset['y']+=_0x266e8d,scratchpadScale=_0x14680d,initialPinchDistance=_0xa156d0,panStart=_0x54a95d,redrawScratchpad();}}}else{if(isMousePanning){const _0x3087c3=_0x3f31aa['clientX']-panStart['x'],_0x13feb0=_0x3f31aa[_0x29887c(0xaf0)]-panStart['y'];scratchpadOffset['x']+=_0x3087c3,scratchpadOffset['y']+=_0x13feb0,panStart={'x':_0x3f31aa[_0x29887c(0x6ca)],'y':_0x3f31aa[_0x29887c(0xaf0)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x1c6167=getTransformedPoint(_0x3f31aa[_0x29887c(0x6ca)]-_0x126c37['left'],_0x3f31aa[_0x29887c(0xaf0)]-_0x126c37['top']);currentStroke['points'][_0x29887c(0x2b6)](_0x1c6167),redrawScratchpad();}}}}function handlePointerUp(_0x4d30d8){const _0x15dd54=_0x27ad1b;_0x4d30d8[_0x15dd54(0x14f)]();const _0x35866a=scratchpadCtx[_0x15dd54(0xaaa)];isMousePanning&&(isMousePanning=![],_0x35866a[_0x15dd54(0x8f0)][_0x15dd54(0x8cf)]=_0x15dd54(0x9d9)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x15dd54(0x206)][_0x15dd54(0x7dc)]>0x1&&(strokes[_0x15dd54(0x2b6)](currentStroke),currentStroke['tool']===_0x15dd54(0x99e)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x36d04b=_0x15dd54,_0x5dd775=strokes[_0x36d04b(0x558)](_0x573790=>_0x573790['tool']==='trail'&&!_0x573790[_0x36d04b(0x4f6)]);if(_0x5dd775[_0x36d04b(0x7dc)]>0x0){const _0x30a658=Date[_0x36d04b(0x680)]();_0x5dd775[_0x36d04b(0x50c)](_0x26882a=>_0x26882a[_0x36d04b(0x4f6)]=_0x30a658),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x7533a6){const _0x4f0fe3=_0x27ad1b;_0x7533a6[_0x4f0fe3(0x14f)]();const _0xbaff7=_0x7533a6[_0x4f0fe3(0x831)]*-0.005,_0x1ee3fa=Math[_0x4f0fe3(0x60b)](Math[_0x4f0fe3(0x130)](scratchpadScale+_0xbaff7,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x7533a6[_0x4f0fe3(0x6ca)]-(_0x7533a6['clientX']-scratchpadOffset['x'])*(_0x1ee3fa/scratchpadScale),scratchpadOffset['y']=_0x7533a6[_0x4f0fe3(0xaf0)]-(_0x7533a6[_0x4f0fe3(0xaf0)]-scratchpadOffset['y'])*(_0x1ee3fa/scratchpadScale),scratchpadScale=_0x1ee3fa,redrawScratchpad();}function undo(){const _0x22af59=_0x27ad1b;strokes[_0x22af59(0x7dc)]>0x0&&(redoStrokes[_0x22af59(0x2b6)](strokes[_0x22af59(0x916)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x4b573d=_0x27ad1b;redoStrokes[_0x4b573d(0x7dc)]>0x0&&(strokes[_0x4b573d(0x2b6)](redoStrokes[_0x4b573d(0x916)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x44ad88=_0x27ad1b;document['getElementById'](_0x44ad88(0x972))[_0x44ad88(0xb12)]=strokes['length']===0x0,document[_0x44ad88(0xa9a)](_0x44ad88(0x9df))[_0x44ad88(0xb12)]=redoStrokes['length']===0x0;}function openScratchpad(_0x4de27e,_0x4feec2){const _0x536328=_0x27ad1b,_0x4c2211=document[_0x536328(0xa9a)](_0x536328(0x5d0)),_0x5ad253=document[_0x536328(0xa9a)](_0x536328(0x342)),_0x577b04=document[_0x536328(0xa9a)](_0x536328(0x88d)),_0x46a2b8=document['getElementById']('scratchpad-controls');_0x5ad253[_0x536328(0x415)]=_0x4de27e[_0x536328(0x856)]||_0x4de27e[_0x536328(0xac2)],_0x577b04[_0x536328(0x415)]=_0x4feec2['map']((_0x317920,_0x2a03cd)=>_0x536328(0x5ab)+String[_0x536328(0x756)](0x41+_0x2a03cd)+'.\x20'+_0x317920+_0x536328(0xac7))[_0x536328(0x4ad)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x4c2211[_0x536328(0x25c)][_0x536328(0x525)](_0x536328(0x864)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window['MathJax'])MathJax[_0x536328(0x5e2)]([_0x5ad253,_0x577b04]);}function openBlueprintQuizSettings(){const _0x55d38a=_0x27ad1b,_0x4c599a=document[_0x55d38a(0xa9a)](_0x55d38a(0x1a4)),_0x24a5ef=blueprintPageSettings||(currentProjectData?currentProjectData['settings']:{})||{};document[_0x55d38a(0xa9a)](_0x55d38a(0x74e))[_0x55d38a(0x589)]=_0x24a5ef['quizType']||document[_0x55d38a(0xa9a)](_0x55d38a(0x3ed))[_0x55d38a(0x589)],document[_0x55d38a(0xa9a)](_0x55d38a(0x1b0))['innerHTML']=document[_0x55d38a(0xa9a)]('difficulty-level-select')[_0x55d38a(0x415)],document[_0x55d38a(0xa9a)]('bp-modal-difficulty-level-select')[_0x55d38a(0x589)]=_0x24a5ef['difficultyValue']||document[_0x55d38a(0xa9a)](_0x55d38a(0xa26))[_0x55d38a(0x589)],document[_0x55d38a(0xa9a)](_0x55d38a(0x48a))[_0x55d38a(0x415)]=document['getElementById']('question-complexity-select')[_0x55d38a(0x415)],document[_0x55d38a(0xa9a)](_0x55d38a(0x48a))[_0x55d38a(0x589)]=_0x24a5ef['complexityValue']||document['getElementById'](_0x55d38a(0x9ef))['value'],document['getElementById'](_0x55d38a(0x752))[_0x55d38a(0x589)]=_0x24a5ef['numQuestions']||document[_0x55d38a(0xa9a)](_0x55d38a(0x232))['value'],document[_0x55d38a(0xa9a)](_0x55d38a(0x8cc))[_0x55d38a(0x589)]=_0x24a5ef[_0x55d38a(0x477)]||document[_0x55d38a(0xa9a)](_0x55d38a(0x499))[_0x55d38a(0x589)],document['getElementById']('bp-modal-num-choices')[_0x55d38a(0x589)]=_0x24a5ef[_0x55d38a(0x54e)]||document['getElementById'](_0x55d38a(0x757))[_0x55d38a(0x589)],document[_0x55d38a(0xa9a)](_0x55d38a(0x947))[_0x55d38a(0x589)]=_0x24a5ef[_0x55d38a(0x418)]||document[_0x55d38a(0xa9a)]('shuffle-setting-select')['value'],document[_0x55d38a(0xa9a)]('bp-modal-include-images-checkbox')[_0x55d38a(0x23a)]=_0x24a5ef[_0x55d38a(0x7ac)]||document[_0x55d38a(0xa9a)](_0x55d38a(0xa2e))[_0x55d38a(0x23a)],_0x4c599a['classList'][_0x55d38a(0x525)](_0x55d38a(0x864));}function handleSaveBlueprintPageSettings(){const _0x55a276=_0x27ad1b;blueprintPageSettings={'quizType':document[_0x55a276(0xa9a)](_0x55a276(0x74e))[_0x55a276(0x589)],'difficultyValue':document[_0x55a276(0xa9a)](_0x55a276(0x1b0))[_0x55a276(0x589)],'complexityValue':document[_0x55a276(0xa9a)](_0x55a276(0x48a))[_0x55a276(0x589)],'numQuestions':document['getElementById'](_0x55a276(0x752))[_0x55a276(0x589)],'passingScore':document['getElementById']('bp-modal-passing-score-input')[_0x55a276(0x589)],'numChoices':document[_0x55a276(0xa9a)](_0x55a276(0x780))[_0x55a276(0x589)],'shuffle':document['getElementById'](_0x55a276(0x947))[_0x55a276(0x589)],'includeImages':document[_0x55a276(0xa9a)]('bp-modal-include-images-checkbox')[_0x55a276(0x23a)]},showMessage(_0x55a276(0x11f)),document[_0x55a276(0xa9a)](_0x55a276(0x1a4))['classList']['add'](_0x55a276(0x864));}function initializeScratchpadCanvas(){const _0xb97223=_0x27ad1b,_0x1b78c8=document['getElementById'](_0xb97223(0x46c)),_0xba8818=document['querySelector'](_0xb97223(0xb56));if(!_0x1b78c8||!_0xba8818)return;scratchpadCtx=_0x1b78c8[_0xb97223(0xb4b)]('2d',{'willReadFrequently':!![]});const _0x103310=window[_0xb97223(0x714)]||0x1,_0x53ae3a=_0xba8818['getBoundingClientRect']();_0x1b78c8[_0xb97223(0x766)]=_0x53ae3a[_0xb97223(0x766)]*_0x103310,_0x1b78c8[_0xb97223(0x739)]=_0x53ae3a[_0xb97223(0x739)]*_0x103310,_0x1b78c8['style'][_0xb97223(0x766)]=_0x53ae3a[_0xb97223(0x766)]+'px',_0x1b78c8[_0xb97223(0x8f0)]['height']=_0x53ae3a['height']+'px',scratchpadCtx[_0xb97223(0x222)](_0x103310,_0x103310),scratchpadCtx[_0xb97223(0x660)]=_0xb97223(0x846),scratchpadCtx[_0xb97223(0x380)]=_0xb97223(0x846),_0x1b78c8['removeEventListener'](_0xb97223(0x711),handlePointerDown),_0x1b78c8[_0xb97223(0x966)](_0xb97223(0x31e),handlePointerMove),_0x1b78c8[_0xb97223(0x966)](_0xb97223(0x9eb),handlePointerUp),_0x1b78c8[_0xb97223(0x966)](_0xb97223(0x53a),handlePointerUp),_0x1b78c8[_0xb97223(0x966)](_0xb97223(0x83d),handleWheel),_0x1b78c8[_0xb97223(0x966)]('touchstart',handlePointerDown),_0x1b78c8['removeEventListener'](_0xb97223(0x59b),handlePointerMove),_0x1b78c8[_0xb97223(0x966)](_0xb97223(0x4d9),handlePointerUp),_0x1b78c8['addEventListener']('pointerdown',handlePointerDown),_0x1b78c8['addEventListener']('pointermove',handlePointerMove),_0x1b78c8[_0xb97223(0x234)](_0xb97223(0x9eb),handlePointerUp),_0x1b78c8[_0xb97223(0x234)](_0xb97223(0x53a),handlePointerUp),_0x1b78c8[_0xb97223(0x234)](_0xb97223(0x83d),handleWheel,{'passive':![]}),_0x1b78c8[_0xb97223(0x234)](_0xb97223(0x7fc),handlePointerDown,{'passive':![]}),_0x1b78c8[_0xb97223(0x234)](_0xb97223(0x59b),handlePointerMove,{'passive':![]}),_0x1b78c8[_0xb97223(0x234)](_0xb97223(0x4d9),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x3a0610=_0x27ad1b,_0x26ce05=document[_0x3a0610(0xa9a)]('scratchpad-modal'),_0x188e0f=document['getElementById'](_0x3a0610(0x8a3));_0x188e0f[_0x3a0610(0x415)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>'+scratchpadHighlighterSize+_0x3a0610(0x42b);const _0x594ae2=document[_0x3a0610(0xa9a)](_0x3a0610(0x3bd)),_0x2940db=document[_0x3a0610(0xa9a)]('eraser-tool-btn'),_0x349801=document[_0x3a0610(0xa9a)]('trail-tool-btn'),_0x1e2193=document[_0x3a0610(0xa9a)](_0x3a0610(0x753)),_0x4cf1f7=document[_0x3a0610(0xa9a)](_0x3a0610(0x14c)),_0x462b7b=document[_0x3a0610(0xa9a)](_0x3a0610(0x363)),_0x371e83=[_0x594ae2,_0x2940db,_0x349801,_0x1e2193];document['getElementById'](_0x3a0610(0xa5b))[_0x3a0610(0x234)](_0x3a0610(0x4be),()=>_0x26ce05['classList'][_0x3a0610(0x2bd)]('hidden')),document['getElementById']('reset-view-btn')[_0x3a0610(0x234)](_0x3a0610(0x4be),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x3a0610(0xa9a)](_0x3a0610(0x14b))['addEventListener'](_0x3a0610(0x4be),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x3a0610(0xa9a)](_0x3a0610(0x972))[_0x3a0610(0x234)]('click',undo),document[_0x3a0610(0xa9a)]('redo-btn')[_0x3a0610(0x234)]('click',redo);const _0x2f53a5=_0x1b3dc6=>{const _0x44e4b1=_0x3a0610;_0x371e83['forEach'](_0x48734a=>_0x48734a['classList'][_0x44e4b1(0x525)]('active')),_0x1b3dc6[_0x44e4b1(0x25c)][_0x44e4b1(0x2bd)](_0x44e4b1(0x3cc));const _0x28c147=_0x1b3dc6===_0x1e2193;_0x4cf1f7[_0x44e4b1(0x25c)]['toggle'](_0x44e4b1(0x864),_0x28c147),_0x462b7b['classList']['toggle'](_0x44e4b1(0x864),!_0x28c147);};_0x594ae2['addEventListener']('click',()=>{activeTool='pen',_0x2f53a5(_0x594ae2);}),_0x2940db[_0x3a0610(0x234)](_0x3a0610(0x4be),()=>{const _0xe743c0=_0x3a0610;activeTool=_0xe743c0(0x7b4),_0x2f53a5(_0x2940db);}),_0x349801[_0x3a0610(0x234)](_0x3a0610(0x4be),()=>{const _0xba0c55=_0x3a0610;activeTool=_0xba0c55(0x99e),_0x2f53a5(_0x349801);}),_0x1e2193[_0x3a0610(0x234)](_0x3a0610(0x4be),()=>{activeTool='highlighter',_0x2f53a5(_0x1e2193);}),_0x4cf1f7[_0x3a0610(0x4e0)](_0x3a0610(0x7cd))[_0x3a0610(0x50c)](_0x4d14ba=>{const _0x1d06ce=_0x3a0610;_0x4d14ba['addEventListener'](_0x1d06ce(0x4be),_0x2c8da6=>{const _0x158731=_0x1d06ce;scratchpadPenSize=parseInt(_0x2c8da6['target'][_0x158731(0x9f6)]['size'],0xa),_0x4cf1f7[_0x158731(0x4e0)]('.pen-size-btn')['forEach'](_0x48034c=>_0x48034c[_0x158731(0x25c)][_0x158731(0x525)](_0x158731(0x3cc))),_0x2c8da6[_0x158731(0xa7d)]['classList'][_0x158731(0x2bd)](_0x158731(0x3cc));});}),_0x4cf1f7[_0x3a0610(0x4e0)]('.pen-color-btn')['forEach'](_0x302e57=>{const _0x325d79=_0x3a0610;_0x302e57[_0x325d79(0x234)](_0x325d79(0x4be),_0x767832=>{const _0x22f4df=_0x325d79;scratchpadPenColor=_0x767832[_0x22f4df(0xa7d)][_0x22f4df(0x9f6)][_0x22f4df(0x3a4)],_0x4cf1f7[_0x22f4df(0x4e0)](_0x22f4df(0xa2a))[_0x22f4df(0x50c)](_0x30a3bb=>_0x30a3bb[_0x22f4df(0x25c)][_0x22f4df(0x525)]('active')),_0x767832[_0x22f4df(0xa7d)]['classList']['add']('active');});}),_0x462b7b['querySelectorAll']('.highlighter-color-btn')[_0x3a0610(0x50c)](_0x38f16f=>{const _0x4a7b40=_0x3a0610;_0x38f16f[_0x4a7b40(0x234)](_0x4a7b40(0x4be),_0x36b745=>{const _0x3483f0=_0x4a7b40;scratchpadHighlighterColor=_0x36b745['target'][_0x3483f0(0x9f6)][_0x3483f0(0x3a4)],_0x462b7b[_0x3483f0(0x4e0)](_0x3483f0(0x7fd))['forEach'](_0x4b9db9=>_0x4b9db9['classList'][_0x3483f0(0x525)](_0x3483f0(0x3cc))),_0x36b745[_0x3483f0(0xa7d)][_0x3483f0(0x25c)]['add'](_0x3483f0(0x3cc));});});const _0x337cf0=document['getElementById'](_0x3a0610(0x7c1)),_0x52257a=document['getElementById'](_0x3a0610(0x9e8));_0x337cf0[_0x3a0610(0x234)](_0x3a0610(0x42a),_0x3abe5d=>{const _0xcd8cf7=_0x3a0610,_0x5e14fb=parseInt(_0x3abe5d['target'][_0xcd8cf7(0x589)],0xa);scratchpadHighlighterSize=_0x5e14fb,_0x52257a['textContent']=_0x5e14fb;}),window[_0x3a0610(0x234)](_0x3a0610(0x350),()=>{const _0x39e91f=_0x3a0610;!_0x26ce05[_0x39e91f(0x25c)]['contains'](_0x39e91f(0x864))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x27ad1b(0x5c9),'name':'คะแนนเต็ม','description':_0x27ad1b(0x66f),'icon':_0x27ad1b(0x1d7)},'QUICK_THINKER':{'id':_0x27ad1b(0x19d),'name':_0x27ad1b(0x8c5),'description':_0x27ad1b(0x220),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x27ad1b(0x8b6),'name':_0x27ad1b(0x35f),'description':_0x27ad1b(0x74c),'icon':_0x27ad1b(0x422)},'FIRST_TRY_ACE':{'id':_0x27ad1b(0x7ce),'name':_0x27ad1b(0x578),'description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':_0x27ad1b(0x353)},'COMEBACK_KING':{'id':'comeback_king','name':_0x27ad1b(0x158),'description':_0x27ad1b(0x924),'icon':_0x27ad1b(0xa09)},'SPECIALIST':{'id':_0x27ad1b(0x89e),'name':_0x27ad1b(0x4da),'description':'ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','icon':_0x27ad1b(0x90d)},'PERSEVERANCE':{'id':_0x27ad1b(0x683),'name':_0x27ad1b(0x326),'description':_0x27ad1b(0x7f8),'icon':_0x27ad1b(0x1ec)}},firebaseConfig={'apiKey':'AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','authDomain':_0x27ad1b(0xa3e),'projectId':_0x27ad1b(0x801),'storageBucket':'ai-quiz-app-aefee.firebasestorage.app','messagingSenderId':_0x27ad1b(0x391),'appId':'1:274192258111:web:4120c9118229b5644dd48a','measurementId':_0x27ad1b(0x6c2)},appId=typeof __app_id!==_0x27ad1b(0x8a1)?__app_id:_0x27ad1b(0x421),adminView=document['getElementById']('admin-view'),studentView=document[_0x27ad1b(0xa9a)]('student-view'),projectDashboardView=document[_0x27ad1b(0xa9a)](_0x27ad1b(0x441)),projectDetailView=document[_0x27ad1b(0xa9a)]('project-detail-view'),quizResultsView=document[_0x27ad1b(0xa9a)](_0x27ad1b(0x7be)),projectList=document['getElementById'](_0x27ad1b(0xb45)),noProjectsMsg=document['getElementById'](_0x27ad1b(0x4f8)),projectTitle=document[_0x27ad1b(0xa9a)]('project-title'),projectIdDisplay=document['getElementById'](_0x27ad1b(0x1ac)),studentList=document[_0x27ad1b(0xa9a)](_0x27ad1b(0x488)),messageModal=document[_0x27ad1b(0xa9a)](_0x27ad1b(0x29e)),modalMessage=document[_0x27ad1b(0xa9a)](_0x27ad1b(0x8ec)),createProjectModal=document[_0x27ad1b(0xa9a)]('create-project-modal'),adminPasswordModal=document['getElementById'](_0x27ad1b(0xaa1)),confirmationModal=document[_0x27ad1b(0xa9a)]('confirmation-modal'),userIdDisplay=document[_0x27ad1b(0xa9a)](_0x27ad1b(0x576)),topicTab=document[_0x27ad1b(0xa9a)](_0x27ad1b(0x712)),textTab=document[_0x27ad1b(0xa9a)]('text-tab'),topicInputArea=document[_0x27ad1b(0xa9a)](_0x27ad1b(0x3af)),textInputArea=document[_0x27ad1b(0xa9a)]('text-input-area'),manageTab=document[_0x27ad1b(0xa9a)](_0x27ad1b(0x4dd)),resultsTab=document[_0x27ad1b(0xa9a)](_0x27ad1b(0xb57)),leaderboardTab=document[_0x27ad1b(0xa9a)]('leaderboard-tab'),manageTabContent=document[_0x27ad1b(0xa9a)](_0x27ad1b(0x22f)),resultsTabContent=document[_0x27ad1b(0xa9a)](_0x27ad1b(0x61e)),leaderboardTabContent=document[_0x27ad1b(0xa9a)](_0x27ad1b(0x9ed)),projectQuizzesList=document['getElementById'](_0x27ad1b(0x7a1)),fileTab=document[_0x27ad1b(0xa9a)]('file-tab'),fileInputArea=document['getElementById'](_0x27ad1b(0x931)),fileUploadInput=document[_0x27ad1b(0xa9a)](_0x27ad1b(0x282)),worksheetTab=document[_0x27ad1b(0xa9a)](_0x27ad1b(0x1c0)),worksheetInputArea=document[_0x27ad1b(0xa9a)](_0x27ad1b(0x9af)),generateWorksheetBtn=document['getElementById']('generate-worksheet-btn'),studentInitialView=document[_0x27ad1b(0xa9a)](_0x27ad1b(0x9f7)),studentNameSelectionView=document[_0x27ad1b(0xa9a)](_0x27ad1b(0x593)),studentQuizArea=document[_0x27ad1b(0xa9a)]('student-quiz-area'),studentResultArea=document[_0x27ad1b(0xa9a)](_0x27ad1b(0x65c)),studentReadingArea=document[_0x27ad1b(0xa9a)](_0x27ad1b(0x6af)),loadQuizBtn=document[_0x27ad1b(0xa9a)](_0x27ad1b(0x750)),startQuizBtn=document[_0x27ad1b(0xa9a)]('start-quiz-btn'),studentJoinGameView=document[_0x27ad1b(0xa9a)](_0x27ad1b(0xae6)),presentationModal=document[_0x27ad1b(0xa9a)](_0x27ad1b(0x3cd)),renameQuizModal=document['getElementById'](_0x27ad1b(0x7df)),moveQuizModal=document['getElementById']('move-quiz-modal'),quizSettingsModal=document[_0x27ad1b(0xa9a)](_0x27ad1b(0xa73)),quizStatusModal=document[_0x27ad1b(0xa9a)](_0x27ad1b(0x9e5)),liveGameView=document[_0x27ad1b(0xa9a)]('live-game-view');function handleFixLessonLatex(){const _0x52eb16=_0x27ad1b,_0x16bc6c=document[_0x52eb16(0xa9a)](_0x52eb16(0xb74));if(!_0x16bc6c){showMessage('ไม่พบเนื้อหาบทเรียนที่จะแก้ไข');return;}const _0x53d76e=_0x16bc6c[_0x52eb16(0x4e0)]([_0x52eb16(0x3fb),_0x52eb16(0xac9),_0x52eb16(0x91f),_0x52eb16(0x1a0),_0x52eb16(0x904)]['join'](','));let _0x402918=0x0;const _0x1e6564=_0x21620b=>_0x21620b[_0x52eb16(0xa0d)]||'',_0x206865=(_0x51abeb,_0x288756)=>{const _0x3d7083=_0x52eb16;if(_0x51abeb[_0x3d7083(0x46b)]&&_0x51abeb[_0x3d7083(0x46b)]('mjx-container'))return;_0x51abeb[_0x3d7083(0xa0d)]=_0x288756;},_0x15d5f3=_0x448c82=>_0x448c82[_0x52eb16(0x9da)](/\u00A0/g,'\x20')[_0x52eb16(0x9da)](/\u200B/g,'')[_0x52eb16(0x9da)](/\r\n?/g,'\x0a'),_0x2def4b=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x1d4584=_0x3e73ce=>{const _0x38e4e7=_0x52eb16;let _0x482e17=_0x3e73ce[_0x38e4e7(0x2b0)]();const _0x56b5ea=[_0x38e4e7(0x92c),_0x38e4e7(0x844),_0x38e4e7(0x252),_0x38e4e7(0x6ce),_0x38e4e7(0x428),_0x38e4e7(0xb0e),_0x38e4e7(0x302),_0x38e4e7(0xb19),'leq',_0x38e4e7(0x273),'le','ge',_0x38e4e7(0x4c6),'pm',_0x38e4e7(0x547),'sin',_0x38e4e7(0x465),_0x38e4e7(0x6fd),_0x38e4e7(0x484),'ln',_0x38e4e7(0x4e6),_0x38e4e7(0x1a3),_0x38e4e7(0x309),'left','right',_0x38e4e7(0x1f4),_0x38e4e7(0x315),_0x38e4e7(0x7b1),_0x38e4e7(0x67f)];_0x56b5ea['forEach'](_0x55d951=>{const _0x506691=_0x38e4e7;_0x482e17=_0x482e17[_0x506691(0x9da)](new RegExp(_0x506691(0x97d)+_0x55d951+'\x5cb','g'),(_0x3a3647,_0x4351e0)=>_0x4351e0+'\x5c'+_0x55d951);});const _0x3cb66b=[[/×/g,_0x38e4e7(0x35c)],[/·/g,'\x5ccdot'],[/÷/g,_0x38e4e7(0x3e3)],[/≤/g,_0x38e4e7(0x41f)],[/≥/g,'\x5cge'],[/≠/g,_0x38e4e7(0x26a)],[/±/g,_0x38e4e7(0xa98)],[/∑/g,_0x38e4e7(0x67a)],[/−/g,'-']];return _0x3cb66b[_0x38e4e7(0x50c)](([_0x5f4198,_0x43459a])=>{_0x482e17=_0x482e17['replace'](_0x5f4198,_0x43459a);}),_0x482e17=_0x482e17[_0x38e4e7(0x9da)](/√\s*([A-Za-z0-9]+)/g,_0x38e4e7(0x9f3)),_0x482e17=_0x482e17[_0x38e4e7(0x9da)](/(\d+)\s*%/g,_0x38e4e7(0x258)),_0x482e17;},_0x53cc57=_0x3cb13d=>{const _0x54b805=_0x52eb16;if(/\$|\\\(|\\\[/[_0x54b805(0x943)](_0x3cb13d))return _0x3cb13d;if(!_0x2def4b['test'](_0x3cb13d))return _0x3cb13d;const _0x470cd5=_0x3cb13d[_0x54b805(0x33b)](/^\s*/)[0x0],_0x1ccdd7=_0x3cb13d[_0x54b805(0x33b)](/\s*$/)[0x0],_0x183da7=_0x3cb13d[_0x54b805(0x2b0)]();return _0x470cd5+'$'+_0x1d4584(_0x183da7)+'$'+_0x1ccdd7;};_0x53d76e[_0x52eb16(0x50c)](_0x3ca0f9=>{const _0x59786f=_0x52eb16,_0x21e228=_0x1e6564(_0x3ca0f9);let _0x157bd2=_0x15d5f3(_0x21e228);_0x157bd2=_0x157bd2[_0x59786f(0x9da)](/\$([^$]*?)\$/g,(_0x2fb303,_0x302da4)=>'$'+_0x1d4584(_0x302da4)+'$');const _0x1cc358=_0x157bd2[_0x59786f(0x78f)](/(\s+)/),_0x3df997=_0x1cc358['map'](_0x53c103=>{const _0x5b9dee=_0x59786f;if(/\s+/[_0x5b9dee(0x943)](_0x53c103))return _0x53c103;return _0x53cc57(_0x53c103);});_0x157bd2=_0x3df997[_0x59786f(0x4ad)](''),_0x157bd2!==_0x21e228&&(_0x206865(_0x3ca0f9,_0x157bd2),_0x402918++);});if(_0x402918>0x0){showMessage('แก้ไขสูตรคณิตศาสตร์\x20'+_0x402918+'\x20จุดเรียบร้อยแล้ว');try{window['MathJax']&&MathJax[_0x52eb16(0x5e2)]&&MathJax[_0x52eb16(0x5e2)]([_0x16bc6c]);}catch(_0x44cf2d){console[_0x52eb16(0x4a0)](_0x52eb16(0x7f0),_0x44cf2d);}}else showMessage(_0x52eb16(0x91b));}function handleAutoFixLatex(){const _0x511235=_0x27ad1b,_0x37356d=document[_0x511235(0xa9a)]('quiz-editor-questions-container')||document,_0xcb08d1=_0x37356d['querySelectorAll'](_0x511235(0x7d8));let _0x42c8ab=0x0;const _0xe7350=_0x56c976=>'value'in _0x56c976?String(_0x56c976[_0x511235(0x589)]):_0x56c976[_0x511235(0x3f9)]!==undefined?_0x56c976[_0x511235(0x3f9)]:_0x56c976[_0x511235(0xa0d)]||'',_0x2bcee8=(_0x661373,_0x11a452)=>{const _0x197803=_0x511235;if(_0x197803(0x589)in _0x661373){_0x661373[_0x197803(0x589)]=_0x11a452;return;}if(_0x661373['querySelector']&&_0x661373[_0x197803(0x46b)](_0x197803(0x3d3)))return;if(_0x661373[_0x197803(0x3f9)]!==undefined)_0x661373[_0x197803(0x3f9)]=_0x11a452;else _0x661373[_0x197803(0xa0d)]=_0x11a452;},_0x420092=_0x1b3206=>_0x1b3206[_0x511235(0x9da)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x511235(0x9da)](/\r\n?/g,'\x0a'),_0x5e468e=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x2a0f75=_0x5e3999=>{const _0x4f5078=_0x511235;let _0x4551c5=_0x5e3999[_0x4f5078(0x2b0)]();_0x4551c5=_0x4551c5[_0x4f5078(0x9da)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x4f5078(0x1b9)),_0x4551c5=_0x4551c5[_0x4f5078(0x9da)](/\bfrac(\d)(\d)/g,_0x4f5078(0x1b9));const _0x2e0020=[_0x4f5078(0x92c),_0x4f5078(0x6ce),_0x4f5078(0xb0e),_0x4f5078(0x302),_0x4f5078(0xb19),'leq',_0x4f5078(0x273),_0x4f5078(0x4c6),'pm',_0x4f5078(0x78c),_0x4f5078(0x465),_0x4f5078(0x6fd),_0x4f5078(0x484),'ln'];_0x2e0020[_0x4f5078(0x50c)](_0x1b122c=>{const _0x518cdb=_0x4f5078;_0x4551c5=_0x4551c5[_0x518cdb(0x9da)](new RegExp(_0x518cdb(0x97d)+_0x1b122c+'\x5cb','g'),(_0x2aa5b6,_0x22f0ab)=>_0x22f0ab+'\x5c'+_0x1b122c);});const _0x48eb53=[[/×/g,_0x4f5078(0x35c)],[/·/g,'\x5ccdot'],[/÷/g,_0x4f5078(0x3e3)],[/≤/g,_0x4f5078(0x41f)],[/≥/g,_0x4f5078(0x89d)],[/≠/g,'\x5cneq'],[/±/g,_0x4f5078(0xa98)]];return _0x48eb53[_0x4f5078(0x50c)](([_0x3442d9,_0x369049])=>{_0x4551c5=_0x4551c5['replace'](_0x3442d9,_0x369049);}),_0x4551c5;},_0x411f43=_0x12a502=>{const _0xe1add9=_0x511235;if(/\$|\\\(|\\\[/['test'](_0x12a502))return _0x12a502;if(!_0x5e468e[_0xe1add9(0x943)](_0x12a502))return _0x12a502;const _0x154883=_0x12a502[_0xe1add9(0x33b)](/^\s*/)[0x0],_0x31c44f=_0x12a502[_0xe1add9(0x33b)](/\s*$/)[0x0],_0x23debd=_0x12a502[_0xe1add9(0x2b0)]();return _0x154883+'$'+_0x2a0f75(_0x23debd)+'$'+_0x31c44f;};_0xcb08d1['forEach'](_0x44a9b6=>{const _0x89b3a8=_0x511235,_0x100c58=_0xe7350(_0x44a9b6);let _0x151c2c=_0x420092(_0x100c58);_0x151c2c=_0x151c2c['replace'](/\$([^$]*?)\$/g,(_0x269059,_0x39c944)=>'$'+_0x2a0f75(_0x39c944)+'$');const _0x527a26=_0x151c2c['split'](/(\s+)/),_0x260c4e=_0x527a26[_0x89b3a8(0x821)](_0x30a5a2=>/\s+/['test'](_0x30a5a2)?_0x30a5a2:_0x411f43(_0x30a5a2));_0x151c2c=_0x260c4e[_0x89b3a8(0x4ad)](''),_0x151c2c!==_0x100c58&&(_0x2bcee8(_0x44a9b6,_0x151c2c),_0x42c8ab++);});if(_0x42c8ab>0x0){showMessage('แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20'+_0x42c8ab+_0x511235(0x38f));try{if(window[_0x511235(0xa63)]&&MathJax[_0x511235(0x5e2)])MathJax['typesetPromise']();}catch(_0x3e4ea7){}}else showMessage(_0x511235(0xb8f));}async function listenForCustomMathTopics(){const _0x56c593=_0x27ad1b,_0x65c8a0=collection(db,_0x56c593(0x827)+appId+_0x56c593(0x1f6));onSnapshot(_0x65c8a0,_0x17d3e6=>{const _0x1a50da=_0x56c593;customMathTopics=_0x17d3e6[_0x1a50da(0x8e0)]['map'](_0x2bf66b=>({'id':_0x2bf66b['id'],..._0x2bf66b[_0x1a50da(0x4b8)]()})),renderTopicCheckboxes();},_0xe41360=>{const _0x4c2c92=_0x56c593;console[_0x4c2c92(0x4a0)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0xe41360);});}function handleSelectAllTopics(){const _0x442b96=_0x27ad1b,_0x34c735=document['getElementById'](_0x442b96(0x6ff)),_0x3b221b=_0x34c735[_0x442b96(0x4e0)](_0x442b96(0x61c));_0x3b221b['forEach'](_0x2d6bb7=>{const _0x5375fb=_0x442b96;_0x2d6bb7[_0x5375fb(0x23a)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x2dc813=_0x27ad1b,_0x12ba88=document['getElementById'](_0x2dc813(0x6ff)),_0x427b18=_0x12ba88[_0x2dc813(0x4e0)](_0x2dc813(0x61c));_0x427b18[_0x2dc813(0x50c)](_0x21fda8=>{const _0x370cc6=_0x2dc813;_0x21fda8[_0x370cc6(0x23a)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x321094){const _0x342d9a=_0x27ad1b;if(!_0x321094)return;try{const _0x596890=doc(db,_0x342d9a(0x827)+appId+_0x342d9a(0x1f6),_0x321094);await deleteDoc(_0x596890),showMessage(_0x342d9a(0x829));}catch(_0x325893){console['error'](_0x342d9a(0xb35),_0x325893),showMessage(_0x342d9a(0x419));}}async function handleAddCustomMathTopic(){const _0x279952=_0x27ad1b,_0x24c4d9=document[_0x279952(0xa9a)](_0x279952(0x7d9)),_0x5e9d24=_0x24c4d9[_0x279952(0x589)][_0x279952(0x2b0)]();if(!_0x5e9d24){showMessage(_0x279952(0x96b));return;}if(!userId){showMessage(_0x279952(0x999));return;}try{const _0x582a2a=collection(db,_0x279952(0x827)+appId+'/public/data/customMathTopics');await addDoc(_0x582a2a,{'name':_0x5e9d24,'createdAt':serverTimestamp()}),_0x24c4d9[_0x279952(0x589)]='',showMessage(_0x279952(0x1c2)+_0x5e9d24+_0x279952(0x67d));}catch(_0x3a3dfb){console[_0x279952(0x4a0)]('Error\x20adding\x20custom\x20topic:',_0x3a3dfb),showMessage(_0x279952(0xb6b));}}async function handleUpdateOldQuizzes(){const _0x4345c2=_0x27ad1b;showConfirmation(_0x4345c2(0xb29),async()=>{const _0x3b8eef=_0x4345c2,_0x509cef=document[_0x3b8eef(0xa9a)](_0x3b8eef(0x82a)),_0x3c373c=document['getElementById'](_0x3b8eef(0x140)),_0x58f78b=_0x3c373c['textContent'];_0x509cef[_0x3b8eef(0x25c)]['remove'](_0x3b8eef(0x864)),_0x3c373c[_0x3b8eef(0xa0d)]=_0x3b8eef(0x592);try{const _0x839158=collection(db,_0x3b8eef(0x827)+appId+'/public/data/quizzes'),_0xb676a2=await getDocs(_0x839158);if(_0xb676a2[_0x3b8eef(0x454)]){showMessage('ไม่พบแบบทดสอบในระบบเลย');return;}const _0x47e809=writeBatch(db);let _0x2d4214=0x0;_0xb676a2[_0x3b8eef(0x50c)](_0xb1ee01=>{const _0x6066d7=_0x3b8eef,_0x430fe3=_0xb1ee01[_0x6066d7(0x4b8)](),_0xfbf6e5=_0xb1ee01['id'];if(_0x430fe3[_0x6066d7(0x4aa)]&&_0x430fe3[_0x6066d7(0x4aa)][_0x6066d7(0x7dc)]>0x0&&!_0x430fe3[_0x6066d7(0x4aa)][0x0][_0x6066d7(0x2cd)]('id')){console[_0x6066d7(0x484)](_0x6066d7(0x9fc)+_0xfbf6e5+'\x20('+_0x430fe3['topic']+')'),_0x2d4214++;const _0x1538c6=_0x430fe3[_0x6066d7(0x4aa)]['map']((_0x8c0dd9,_0x66d0bc)=>{const _0x152b8f=_0x6066d7;return{..._0x8c0dd9,'id':_0x8c0dd9['id']||'q_'+Date[_0x152b8f(0x680)]()+'_'+_0xfbf6e5+'_'+_0x66d0bc};}),_0x2885e1=doc(db,_0x6066d7(0x827)+appId+_0x6066d7(0xb2f),_0xfbf6e5);_0x47e809[_0x6066d7(0x8f4)](_0x2885e1,{'questions':_0x1538c6});}}),_0x2d4214>0x0?(_0x3c373c[_0x3b8eef(0xa0d)]=_0x3b8eef(0x3a2)+_0x2d4214+_0x3b8eef(0x135),await _0x47e809['commit'](),showMessage(_0x3b8eef(0x3dc)+_0x2d4214+_0x3b8eef(0x5ea))):showMessage(_0x3b8eef(0x62c));}catch(_0x5803e9){console[_0x3b8eef(0x4a0)]('Error\x20updating\x20old\x20quizzes:',_0x5803e9),showMessage('เกิดข้อผิดพลาดในการอัปเดต:\x20'+_0x5803e9[_0x3b8eef(0x5a6)]);}finally{_0x509cef[_0x3b8eef(0x25c)]['add'](_0x3b8eef(0x864)),_0x3c373c[_0x3b8eef(0xa0d)]=_0x58f78b;}});}async function handleBulkUpdateQuizSettings(){const _0x2395fc=_0x27ad1b,_0x33b5fc={'shuffle':document[_0x2395fc(0xa9a)](_0x2395fc(0x3e1))[_0x2395fc(0x589)],'resultsDisplay':document[_0x2395fc(0xa9a)](_0x2395fc(0x3ac))[_0x2395fc(0x589)],'loopUntilPass':document[_0x2395fc(0xa9a)](_0x2395fc(0x9e6))[_0x2395fc(0x23a)],'isConfidenceScoringEnabled':document[_0x2395fc(0xa9a)](_0x2395fc(0x9d7))[_0x2395fc(0x23a)],'confidenceMode':document[_0x2395fc(0xa9a)](_0x2395fc(0x73f))[_0x2395fc(0x589)]};try{showMessage(_0x2395fc(0x537));const _0x4a77fc=await getDocs(collection(db,_0x2395fc(0x827)+appId+_0x2395fc(0xb2f))),_0x3be759=_0x4a77fc['docs'][_0x2395fc(0x821)](_0x7a951a=>({'id':_0x7a951a['id'],'data':_0x7a951a['data']()})),_0x88b0d7=_0x3be759[_0x2395fc(0x7dc)];showConfirmation(_0x2395fc(0x5f8)+_0x88b0d7+'\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x29b943=_0x2395fc,_0xc0622c=document[_0x29b943(0xa9a)](_0x29b943(0x4d1));_0xc0622c[_0x29b943(0xb12)]=!![],_0xc0622c[_0x29b943(0x415)]=_0x29b943(0x3c9);try{const _0x118248=writeBatch(db);_0x3be759[_0x29b943(0x50c)](_0x317fa6=>{const _0x49553f=_0x29b943,_0x214b6b=doc(db,_0x49553f(0x827)+appId+'/public/data/quizzes',_0x317fa6['id']),_0x43cce1={..._0x317fa6['data'][_0x49553f(0x335)]||{},..._0x33b5fc};_0x118248[_0x49553f(0x8f4)](_0x214b6b,{'settings':_0x43cce1});}),await _0x118248[_0x29b943(0x675)](),document['getElementById'](_0x29b943(0x9d3))[_0x29b943(0x25c)][_0x29b943(0x2bd)](_0x29b943(0x864)),showMessage('อัปเดตการตั้งค่าของแบบทดสอบ\x20'+_0x88b0d7+'\x20ชุดสำเร็จ!');}catch(_0x4770d5){console[_0x29b943(0x4a0)](_0x29b943(0x798),_0x4770d5),showMessage(_0x29b943(0x281));}finally{_0xc0622c['disabled']=![],_0xc0622c['innerHTML']=_0x29b943(0x33e);}});}catch(_0x556155){console[_0x2395fc(0x4a0)](_0x2395fc(0x669),_0x556155),showMessage('เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด');}}async function handleSaveProjectName(){const _0x4e81e4=_0x27ad1b,_0x44f213=document[_0x4e81e4(0xa9a)](_0x4e81e4(0x3e8)),_0x135911=document[_0x4e81e4(0xa9a)](_0x4e81e4(0x168)),_0x5084d2=_0x44f213[_0x4e81e4(0xa0d)][_0x4e81e4(0x2b0)]();if(!_0x5084d2||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0x44f213['textContent']=currentProjectData['projectName'];return;}_0x135911['disabled']=!![],_0x135911['innerHTML']=_0x4e81e4(0x1ed);try{const _0xd784af=doc(db,_0x4e81e4(0x827)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0xd784af,{'projectName':_0x5084d2}),currentProjectData&&(currentProjectData['projectName']=_0x5084d2),showMessage(_0x4e81e4(0x259));}catch(_0x2a8463){console[_0x4e81e4(0x4a0)]('Error\x20updating\x20project\x20name:',_0x2a8463),showMessage(_0x4e81e4(0x79a)),_0x44f213[_0x4e81e4(0xa0d)]=currentProjectData[_0x4e81e4(0x5a8)];}finally{_0x135911[_0x4e81e4(0x25c)][_0x4e81e4(0x2bd)]('hidden'),_0x135911[_0x4e81e4(0xb12)]=![],_0x135911[_0x4e81e4(0x415)]=_0x4e81e4(0xb38);}}function handleGeneratePracticeTest(_0x10e74c,_0xe16615){const _0x5e1797=_0x27ad1b,_0x46c8ab=document[_0x5e1797(0xa9a)]('lesson-view-modal'),_0x2d5c4a=document[_0x5e1797(0xa9a)]('lesson-view-title'),_0x2db5f9=document[_0x5e1797(0xa9a)](_0x5e1797(0x783)),_0x36d8e1=document[_0x5e1797(0xa9a)](_0x5e1797(0x8fd));_0x2d5c4a[_0x5e1797(0xa0d)]=_0x5e1797(0x1e2)+_0x10e74c,_0x36d8e1[_0x5e1797(0x25c)][_0x5e1797(0x2bd)](_0x5e1797(0x864)),_0x2db5f9['classList'][_0x5e1797(0x525)](_0x5e1797(0x864)),_0x46c8ab['classList'][_0x5e1797(0x525)](_0x5e1797(0x864)),generatePracticeTest(_0x10e74c,_0xe16615)[_0x5e1797(0x1e1)](_0x5b4b9b=>{const _0x55c2f9=_0x5e1797;console[_0x55c2f9(0x4a0)](_0x55c2f9(0x254),_0x5b4b9b),showMessage('ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้'),_0x46c8ab['classList'][_0x55c2f9(0x2bd)](_0x55c2f9(0x864));});}async function generatePracticeTest(_0x20d73e,_0x27b80d){const _0x19d52d=_0x27ad1b;[_0x19d52d(0x17c),_0x19d52d(0x3ca),_0x19d52d(0x3bc),'summaryContent'][_0x19d52d(0x50c)](_0x5487e8=>{const _0x5327d3=_0x19d52d,_0x198a53=document[_0x5327d3(0xa9a)](_0x5487e8)[_0x5327d3(0x87b)];_0x198a53&&(_0x198a53[_0x5327d3(0x8f0)][_0x5327d3(0x42c)]=_0x5327d3(0x49f));});try{const _0x5969fb='โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด',_0x230881=_0x19d52d(0x980)+_0x27b80d+_0x19d52d(0x9de)+_0x20d73e+_0x19d52d(0x8e1),_0x304940=await callGemini(_0x230881,!![]),_0x4e381e=document['getElementById']('lesson-view-title'),_0x4bacf5=document[_0x19d52d(0xa9a)](_0x19d52d(0x783)),_0x4f95d1=document['getElementById'](_0x19d52d(0x8fd)),_0x293f2c=document[_0x19d52d(0xa9a)](_0x19d52d(0x3bc))[_0x19d52d(0x87b)];_0x4e381e[_0x19d52d(0x3f9)]='แบบทดสอบฝึกฝนเรื่อง:\x20'+_0x20d73e[_0x19d52d(0x9da)](/•\s/g,'')+_0x19d52d(0x620)+_0x27b80d+')',currentApplicationData=JSON['parse'](_0x304940);const _0x4e34d2=document['getElementById'](_0x19d52d(0x3bc));_0x4e34d2[_0x19d52d(0x415)]=currentApplicationData[_0x19d52d(0x821)]((_0x5d6cc0,_0x9b558)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x9b558+0x1)+'.\x20'+marked['parseInline'](_0x5d6cc0[_0x19d52d(0x96c)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x9b558+_0x19d52d(0x2f5)+_0x5d6cc0[_0x19d52d(0x559)]['map']((_0x215692,_0x235c6b)=>_0x19d52d(0x156)+_0x9b558+',\x20'+_0x235c6b+_0x19d52d(0x6df)+String[_0x19d52d(0x756)](0x61+_0x235c6b)+'.\x20'+marked['parseInline'](_0x215692)+_0x19d52d(0x6fb))[_0x19d52d(0x4ad)]('')+_0x19d52d(0x75d))[_0x19d52d(0x4ad)](''),window['MathJax']&&MathJax[_0x19d52d(0x5e2)]([_0x4e34d2]),_0x293f2c&&(_0x293f2c[_0x19d52d(0x8f0)][_0x19d52d(0x42c)]='block'),_0x4bacf5['classList'][_0x19d52d(0x2bd)]('hidden'),_0x4f95d1[_0x19d52d(0x25c)][_0x19d52d(0x525)]('hidden');}catch(_0x390fe6){console[_0x19d52d(0x4a0)](_0x390fe6);throw _0x390fe6;}}async function callGemini(_0xcc33a7,_0x4d265f=![]){const _0x1424be=_0x27ad1b,_0x155f98=_0x1424be(0x47d),_0x42c261=_0x1424be(0x501)+_0x155f98,_0x49f438={'contents':[{'parts':[{'text':_0xcc33a7}]}]};_0x4d265f&&(_0x49f438['generationConfig']={'responseMimeType':_0x1424be(0x2d5)},_0xcc33a7['includes'](_0x1424be(0x506))?_0x49f438[_0x1424be(0x237)][_0x1424be(0x334)]={'type':_0x1424be(0xb47),'properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':_0x1424be(0x863),'items':{'type':_0x1424be(0xb47),'properties':{'sara':{'type':_0x1424be(0xb86)},'mainTopics':{'type':_0x1424be(0x863),'items':{'type':_0x1424be(0xb47),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':'ARRAY','items':{'type':_0x1424be(0xb86)}}},'required':['topicName','subTopics']}}},'required':['sara',_0x1424be(0x7a6)]}}},'required':[_0x1424be(0x5be),_0x1424be(0x62b)]}:_0x49f438['generationConfig'][_0x1424be(0x334)]={'type':_0x1424be(0x863),'items':{'type':_0x1424be(0xb47),'properties':{'question':{'type':_0x1424be(0xb86)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'answer':{'type':_0x1424be(0x337)}},'required':[_0x1424be(0x96c),_0x1424be(0x559),'answer']}});try{const _0x1e2f6e=await fetch(_0x42c261,{'method':_0x1424be(0x74d),'headers':{'Content-Type':'application/json'},'body':JSON[_0x1424be(0xa1a)](_0x49f438)});if(!_0x1e2f6e['ok']){const _0x26a63d=await _0x1e2f6e[_0x1424be(0x428)]();console[_0x1424be(0x4a0)]('API\x20Error\x20Body:',_0x26a63d);throw new Error(_0x1424be(0xac8)+_0x1e2f6e[_0x1424be(0xb84)]);}const _0x21f5e9=await _0x1e2f6e[_0x1424be(0xafc)]();if(_0x21f5e9['candidates']&&_0x21f5e9[_0x1424be(0xab2)][0x0]['content']&&_0x21f5e9[_0x1424be(0xab2)][0x0]['content'][_0x1424be(0x3b5)][0x0])return _0x21f5e9['candidates'][0x0][_0x1424be(0x5a7)][_0x1424be(0x3b5)][0x0][_0x1424be(0x428)];else{console[_0x1424be(0x4a0)]('Unexpected\x20API\x20response\x20structure:',_0x21f5e9);if(_0x21f5e9[_0x1424be(0xab2)]&&_0x21f5e9[_0x1424be(0xab2)][0x0]['finishReason']==='SAFETY')return JSON[_0x1424be(0xa1a)]({'error':_0x1424be(0x439)});throw new Error(_0x1424be(0x835));}}catch(_0x26a467){console[_0x1424be(0x4a0)]('Error\x20calling\x20Gemini\x20API:',_0x26a467);throw _0x26a467;}}async function generateLesson(_0x30bd85=null,_0xb75b87=null){const _0x178672=_0x27ad1b,_0x372063=_0x30bd85,_0x2b88af=_0xb75b87||_0x178672(0x92f),_0x25754b=document[_0x178672(0xa9a)](_0x178672(0x783)),_0x404d55=document[_0x178672(0xa9a)](_0x178672(0x208));_0x404d55['textContent']=_0x178672(0x41a)+_0x372063+_0x178672(0x12a);try{const _0x32f819=_0x178672(0x6a5),_0x4eeb71='สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27'+_0x2b88af+_0x178672(0x9de)+_0x372063+_0x178672(0xaef)+_0x32f819+_0x178672(0x1e0),_0x3f7a19='สำหรับหัวข้อ\x20\x27'+_0x372063+'\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27'+_0x2b88af+_0x178672(0x94c)+_0x32f819+_0x178672(0x9fd),_0x3d859b='สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27'+_0x2b88af+'\x27\x20ในหัวข้อ\x20\x27'+_0x372063+_0x178672(0x285),_0x4b9fa1='สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27'+_0x372063+_0x178672(0x30a)+_0x2b88af+_0x178672(0x5c1)+_0x32f819+'.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ',[_0x1e256b,_0x2d8de1,_0x32d128,_0x37abb6]=await Promise[_0x178672(0xab1)]([callGemini(_0x4eeb71),callGemini(_0x3f7a19),callGemini(_0x3d859b,!![]),callGemini(_0x4b9fa1)]),_0x3117e1=document[_0x178672(0xa9a)](_0x178672(0xa92)),_0x28a7c9=document[_0x178672(0xa9a)]('lesson-sections-container');_0x3117e1[_0x178672(0x3f9)]=_0x178672(0x224)+_0x372063[_0x178672(0x9da)](/•\s/g,'')+_0x178672(0x620)+_0x2b88af+')',[_0x178672(0x17c),_0x178672(0x3ca),_0x178672(0xb2b)][_0x178672(0x50c)](_0x4928c2=>{const _0x21bf23=_0x178672;document[_0x21bf23(0xa9a)](_0x4928c2)[_0x21bf23(0x415)]='';}),document[_0x178672(0xa9a)](_0x178672(0x17c))['innerHTML']=marked['parse'](_0x1e256b),document[_0x178672(0xa9a)](_0x178672(0x3ca))[_0x178672(0x415)]=marked[_0x178672(0x327)](_0x2d8de1),document['getElementById'](_0x178672(0xb2b))[_0x178672(0x415)]=marked[_0x178672(0x327)](_0x37abb6),currentApplicationData=JSON[_0x178672(0x327)](_0x32d128);const _0x2a855b=document[_0x178672(0xa9a)](_0x178672(0x3bc));_0x2a855b[_0x178672(0x415)]=currentApplicationData['map']((_0x50c869,_0x51022f)=>_0x178672(0x3d4)+(_0x51022f+0x1)+'.\x20'+marked[_0x178672(0x8ba)](_0x50c869['question'])+_0x178672(0x36e)+_0x51022f+_0x178672(0x2f5)+_0x50c869[_0x178672(0x559)]['map']((_0x440928,_0x19b1d2)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x51022f+',\x20'+_0x19b1d2+')\x22>'+String[_0x178672(0x756)](0x61+_0x19b1d2)+'.\x20'+marked[_0x178672(0x8ba)](_0x440928)+_0x178672(0x6fb))[_0x178672(0x4ad)]('')+_0x178672(0x75d))['join'](''),window[_0x178672(0xa63)]&&MathJax[_0x178672(0x5e2)]([_0x28a7c9]),_0x25754b[_0x178672(0x25c)][_0x178672(0x2bd)](_0x178672(0x864)),_0x28a7c9[_0x178672(0x25c)][_0x178672(0x525)](_0x178672(0x864));}catch(_0x2e3071){console[_0x178672(0x4a0)](_0x2e3071);throw _0x2e3071;}finally{}}function checkAnswer(_0x4547db,_0x49081d){const _0x8d6c5b=_0x27ad1b,_0x565785=currentApplicationData[_0x4547db],_0x3e35fe=document[_0x8d6c5b(0xa9a)]('q'+_0x4547db+_0x8d6c5b(0x471)),_0x8401b5=_0x3e35fe[_0x8d6c5b(0x85b)]('button');for(let _0x215b26 of _0x8401b5){_0x215b26[_0x8d6c5b(0xb12)]=!![];}_0x49081d===_0x565785['answer']?_0x8401b5[_0x49081d][_0x8d6c5b(0x25c)][_0x8d6c5b(0x2bd)](_0x8d6c5b(0xa43)):(_0x8401b5[_0x49081d][_0x8d6c5b(0x25c)][_0x8d6c5b(0x2bd)](_0x8d6c5b(0x785)),_0x8401b5[_0x565785['answer']][_0x8d6c5b(0x25c)]['add']('correct'));}window[_0x27ad1b(0x990)]=handleGenerateAndShowLesson,window[_0x27ad1b(0x511)]=checkAnswer,window[_0x27ad1b(0x58c)]=handleGeneratePracticeTest,window['handleGenerateQuizFromBlueprintTopic']=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x4bee1d=_0x27ad1b;try{const _0x1517ec=initializeApp(firebaseConfig);db=getFirestore(_0x1517ec),auth=getAuth(_0x1517ec),setupAuthListener(),setupEventListeners(),showView('student'),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession();}catch(_0x2b219b){console[_0x4bee1d(0x4a0)](_0x4bee1d(0x403),_0x2b219b),showMessage('ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้');}}async function handleVerifyAnswersInEditor(){const _0x1dca01=_0x27ad1b,_0x5d44a5=document[_0x1dca01(0xa9a)](_0x1dca01(0x941));if(!_0x5d44a5)return;const _0x1d71fa=document[_0x1dca01(0xa9a)](_0x1dca01(0x52f));_0x1d71fa[_0x1dca01(0xb12)]=!![],_0x1d71fa[_0x1dca01(0x415)]=_0x1dca01(0x218);try{const _0x55433e=_0x5d44a5[_0x1dca01(0x4e0)](_0x1dca01(0x693)),_0x4c23bc=Array[_0x1dca01(0x39f)](_0x55433e)[_0x1dca01(0x821)]((_0x562824,_0x1f3415)=>{const _0x20ab6a=_0x1dca01,_0x739b98=_0x562824['dataset']['qType'],_0x1b1831=_0x562824[_0x20ab6a(0x46b)]('textarea')[_0x20ab6a(0x589)];let _0x55e027=null,_0x4ef6aa='';switch(_0x739b98){case _0x20ab6a(0xb9a):const _0x352e6a=_0x562824[_0x20ab6a(0x4e0)](_0x20ab6a(0x76a));_0x55e027=Array[_0x20ab6a(0x39f)](_0x352e6a)['map'](_0x9e2845=>_0x9e2845[_0x20ab6a(0x589)]);const _0x664a3e=_0x562824[_0x20ab6a(0x46b)](_0x20ab6a(0xafb));_0x664a3e&&(_0x4ef6aa=_0x55e027[parseInt(_0x664a3e[_0x20ab6a(0x589)])]);break;case _0x20ab6a(0xa97):_0x4ef6aa=_0x562824[_0x20ab6a(0x46b)](_0x20ab6a(0x13d))[_0x20ab6a(0x589)];break;case _0x20ab6a(0x9c7):const _0xe42d71=_0x562824['querySelector'](_0x20ab6a(0xafb));_0x4ef6aa=_0xe42d71?_0xe42d71[_0x20ab6a(0x589)]:'';break;case _0x20ab6a(0x62a):_0x4ef6aa=_0x562824[_0x20ab6a(0x46b)](_0x20ab6a(0xaf9))[_0x20ab6a(0x589)];break;}return{'question':_0x1b1831,'options':_0x55e027,'proposedAnswer':_0x4ef6aa};}),_0x4a2164=_0x1dca01(0x7ef)+JSON[_0x1dca01(0xa1a)](_0x4c23bc)+_0x1dca01(0x85a),_0xf57e2a={'type':'ARRAY','items':{'type':_0x1dca01(0xb47),'properties':{'questionIndex':{'type':_0x1dca01(0x337)},'isCorrect':{'type':_0x1dca01(0x1f5)},'justification':{'type':_0x1dca01(0xb86)},'suggestedAnswer':{'type':_0x1dca01(0xb86)}},'required':[_0x1dca01(0x697),_0x1dca01(0x764),_0x1dca01(0xad1)]}},_0x2f2ee4=await callAnalysisApi(_0x4a2164,{'type':'OBJECT','properties':{'result':_0xf57e2a},'required':[_0x1dca01(0x3a3)]});displayVerificationResultsInEditor(_0x2f2ee4['result']);}catch(_0x5343f4){console[_0x1dca01(0x4a0)](_0x1dca01(0x381),_0x5343f4),showMessage(_0x1dca01(0x8b9));}finally{_0x1d71fa[_0x1dca01(0xb12)]=![],_0x1d71fa['innerHTML']='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)';}}function displayVerificationResultsInEditor(_0x5a444f){const _0xde3ce5=_0x27ad1b;_0x5a444f[_0xde3ce5(0x50c)](_0x5489f4=>{const _0x4071bd=_0xde3ce5,_0x16e762=document[_0x4071bd(0x46b)](_0x4071bd(0x289)+_0x5489f4[_0x4071bd(0x697)]+'\x22]');if(!_0x16e762)return;const _0x1ada3e=_0x16e762[_0x4071bd(0x46b)]('.verification-result-editor');if(_0x1ada3e)_0x1ada3e[_0x4071bd(0x525)]();let _0xee0b30='';if(_0x5489f4['isCorrect'])_0xee0b30='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';else{const _0xe03235=_0x5489f4[_0x4071bd(0xafe)]?_0x4071bd(0xa9c):'';_0xee0b30='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0xe03235+_0x4071bd(0x452)+_0x5489f4[_0x4071bd(0xad1)]+_0x4071bd(0x4a9)+(_0x5489f4[_0x4071bd(0xafe)]?_0x4071bd(0x867)+_0x5489f4[_0x4071bd(0xafe)]+_0x4071bd(0x323):'')+_0x4071bd(0x2e1);}_0x16e762[_0x4071bd(0xaaf)](_0x4071bd(0x117),_0xee0b30);if(!_0x5489f4[_0x4071bd(0x764)]&&_0x5489f4['suggestedAnswer']){const _0x5db28b=_0x16e762[_0x4071bd(0x9f6)][_0x4071bd(0x120)],_0x4024cb=_0x2ad824=>{const _0x542d5d=_0x4071bd;if(!_0x2ad824)return;_0x2ad824[_0x542d5d(0x25c)][_0x542d5d(0x2bd)](_0x542d5d(0xb3c),_0x542d5d(0x744),_0x542d5d(0x133)),setTimeout(()=>{const _0x4c7de4=_0x542d5d;_0x2ad824[_0x4c7de4(0x25c)][_0x4c7de4(0x525)](_0x4c7de4(0xb3c));},0x9c4);};if(_0x5db28b===_0x4071bd(0xb9a)){const _0x1178a7=Array['from'](_0x16e762[_0x4071bd(0x4e0)](_0x4071bd(0x76a))),_0xc2ba8d=_0x1178a7[_0x4071bd(0x361)](_0x59ef1f=>_0x59ef1f['value'][_0x4071bd(0x2b0)]()[_0x4071bd(0x90c)]()===_0x5489f4['suggestedAnswer'][_0x4071bd(0x2b0)]()[_0x4071bd(0x90c)]());if(_0xc2ba8d!==-0x1){const _0x41d05c=_0x16e762[_0x4071bd(0x46b)](_0x4071bd(0x5b6)+_0xc2ba8d+'\x22]');_0x41d05c&&(_0x41d05c[_0x4071bd(0x23a)]=!![],_0x4024cb(_0x41d05c[_0x4071bd(0x997)]('div')));}}else{if(_0x5db28b===_0x4071bd(0xa97)||_0x5db28b==='matching_item'){const _0x447b16=_0x16e762['querySelector'](_0x4071bd(0x16f));_0x447b16&&(_0x447b16[_0x4071bd(0x589)]=_0x5489f4[_0x4071bd(0xafe)],_0x4024cb(_0x447b16));}else{if(_0x5db28b===_0x4071bd(0x9c7)){const _0x518a2f=_0x5489f4[_0x4071bd(0xafe)][_0x4071bd(0x2b0)]()[_0x4071bd(0x90c)](),_0x2fd4b8=_0x16e762[_0x4071bd(0x46b)]('input[type=\x22radio\x22][value=\x22'+_0x518a2f+'\x22]');_0x2fd4b8&&(_0x2fd4b8['checked']=!![],_0x4024cb(_0x2fd4b8[_0x4071bd(0x997)]('div')));}}}}}),showMessage(_0xde3ce5(0x954));}async function handleVerifyAnswers(){const _0x177deb=_0x27ad1b;if(!currentQuizData||!currentQuizData[_0x177deb(0x4aa)]){showMessage(_0x177deb(0x76b));return;}const _0x2e8166=document[_0x177deb(0xa9a)](_0x177deb(0x30b));_0x2e8166[_0x177deb(0xb12)]=!![],_0x2e8166[_0x177deb(0x415)]=_0x177deb(0x218);try{const _0x1edab2=currentQuizData[_0x177deb(0x4aa)][_0x177deb(0x821)]((_0x390e9c,_0x7fddb5)=>{const _0x2f5673=_0x177deb;let _0x41c998='';const _0x3afb5a=_0x390e9c[_0x2f5673(0x5fe)]||currentQuizData[_0x2f5673(0x447)];switch(_0x3afb5a){case _0x2f5673(0xb9a):_0x41c998=_0x390e9c['options'][_0x390e9c[_0x2f5673(0xa18)]];break;case _0x2f5673(0xa97):_0x41c998=_0x390e9c[_0x2f5673(0x4af)];break;case _0x2f5673(0x9c7):_0x41c998=_0x390e9c[_0x2f5673(0x8cd)]['toString']();break;case _0x2f5673(0x62a):_0x41c998=_0x390e9c[_0x2f5673(0xa66)];break;}return{'question':_0x390e9c['stem']||_0x390e9c[_0x2f5673(0xac2)],'options':_0x390e9c[_0x2f5673(0x559)]||null,'proposedAnswer':_0x41c998};}),_0xfdfde8=_0x177deb(0x121)+JSON['stringify'](_0x1edab2)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x14576a={'type':_0x177deb(0x863),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':'NUMBER'},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x177deb(0xb86)}},'required':['questionIndex',_0x177deb(0x764),_0x177deb(0xad1)]}},_0x182be9=await callAnalysisApi(_0xfdfde8,{'type':_0x177deb(0xb47),'properties':{'result':_0x14576a},'required':[_0x177deb(0x3a3)]});displayVerificationResults(_0x182be9[_0x177deb(0x3a3)]);}catch(_0x3b436d){console[_0x177deb(0x4a0)](_0x177deb(0x6e7),_0x3b436d),showMessage(_0x177deb(0x8b9));}finally{_0x2e8166[_0x177deb(0xb12)]=![],_0x2e8166[_0x177deb(0x415)]=_0x177deb(0x95a);}}function displayVerificationResults(_0x59237b){const _0x225d18=_0x27ad1b;_0x59237b['forEach'](_0x492f8a=>{const _0x5546bf=_0x5f3a,_0x5ad735=document[_0x5546bf(0x46b)](_0x5546bf(0x7d7)+_0x492f8a[_0x5546bf(0x697)]+'\x22]');if(_0x5ad735){const _0x2a0891=_0x5ad735[_0x5546bf(0x46b)]('.verification-result');if(_0x2a0891)_0x2a0891['remove']();let _0x1c29b9='';_0x492f8a[_0x5546bf(0x764)]?_0x1c29b9=_0x5546bf(0x24b):_0x1c29b9=_0x5546bf(0x2bc)+_0x492f8a[_0x5546bf(0xad1)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x492f8a[_0x5546bf(0xafe)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x492f8a[_0x5546bf(0xafe)]+'</p>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x5ad735['insertAdjacentHTML']('beforeend',_0x1c29b9);}}),showMessage(_0x225d18(0x954));}function compareNumericalAnswers(_0x46eb7b,_0x7ad534){const _0x1dcfca=_0x27ad1b,_0x500aa8=String(_0x46eb7b)[_0x1dcfca(0x9da)](',','.')[_0x1dcfca(0x9da)](/[^\d.-]/g,'')[_0x1dcfca(0x2b0)](),_0x116995=String(_0x7ad534)[_0x1dcfca(0x9da)](',','.')[_0x1dcfca(0x9da)](/[^\d.-]/g,'')[_0x1dcfca(0x2b0)]();if(_0x500aa8===''||_0x116995==='')return![];const _0x5b170d=parseFloat(_0x500aa8),_0x17bc26=parseFloat(_0x116995);if(isNaN(_0x5b170d)||isNaN(_0x17bc26))return![];return Math[_0x1dcfca(0x7d1)](_0x5b170d-_0x17bc26)<0.001;}function isPotentiallyNumeric(_0x34c232){const _0x40de09=_0x27ad1b;if(typeof _0x34c232!==_0x40de09(0x6ac)&&typeof _0x34c232!=='number')return![];const _0x57f616=String(_0x34c232)[_0x40de09(0x9da)](',','.')[_0x40de09(0x2b0)]();return _0x57f616!==''&&!isNaN(parseFloat(_0x57f616))&&isFinite(_0x57f616);}async function gradeShortAnswer(_0x21002a,_0x473173){const _0x50eb42=_0x27ad1b,_0x4dd772=_0x473173[_0x50eb42(0x4af)],_0x431964=String(_0x21002a)[_0x50eb42(0x9da)](/\$/g,'')['trim'](),_0x253f24=String(_0x4dd772)[_0x50eb42(0x9da)](/\$/g,'')[_0x50eb42(0x2b0)]();if(_0x431964[_0x50eb42(0x90c)]()===_0x253f24[_0x50eb42(0x90c)]())return!![];if(isPotentiallyNumeric(_0x431964)&&isPotentiallyNumeric(_0x253f24)){if(compareNumericalAnswers(_0x431964,_0x253f24))return!![];}return console[_0x50eb42(0x484)]('Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.'),await gradeShortAnswerWithAI(_0x21002a,_0x4dd772);}async function revealAnswerForAdmin(_0x1113b0,_0x9fd1cb){const _0x1c8657=_0x27ad1b,_0x1af40c=doc(db,_0x1c8657(0x827)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x1af40c,{'questionStatus':_0x1c8657(0x639)});}function showTop5LeaderboardView(_0x421eba){const _0x590554=_0x27ad1b,_0x4617f2=Object[_0x590554(0x989)](_0x421eba[_0x590554(0x7af)]||{})[_0x590554(0x558)](_0x115288=>_0x115288['status']===_0x590554(0x3cc));_0x4617f2[_0x590554(0xae5)]((_0x52671b,_0x53d294)=>_0x53d294[_0x590554(0x8b3)]-_0x52671b[_0x590554(0x8b3)]);const _0x5a9740=_0x4617f2[_0x590554(0xad3)](0x0,0x5),_0x10ba4c=_0x590554(0x98d)+_0x5a9740[_0x590554(0x821)]((_0x2436f9,_0x1d3e23)=>_0x590554(0xa5e)+(_0x1d3e23+0x1)+'.\x20'+(_0x2436f9[_0x590554(0x352)]||Object['keys'](_0x421eba[_0x590554(0x7af)])[_0x590554(0x3d5)](_0x1ce3c4=>_0x421eba[_0x590554(0x7af)][_0x1ce3c4]===_0x2436f9))+_0x590554(0x85e)+_0x2436f9[_0x590554(0x8b3)]+_0x590554(0x1f0))[_0x590554(0x4ad)]('')+_0x590554(0x23e)+(_0x421eba[_0x590554(0xb50)]+0x1===currentQuizData[_0x590554(0x4aa)][_0x590554(0x7dc)]?'สรุปผลสุดท้าย':'ข้อต่อไป')+_0x590554(0x8d5);liveGameView[_0x590554(0x415)]=_0x10ba4c,document['getElementById'](_0x590554(0xa8d))['addEventListener'](_0x590554(0x4be),async()=>{const _0x100b05=_0x590554,_0x4f0277=doc(db,'artifacts/'+appId+_0x100b05(0x3d2),currentLiveGameId),_0x330400=_0x421eba[_0x100b05(0xb50)]+0x1;if(_0x330400<currentQuizData[_0x100b05(0x4aa)]['length']){const _0x464746={'currentQuestionIndex':_0x330400,'questionDisplayedAt':serverTimestamp(),'questionStatus':'answering'};Object[_0x100b05(0x698)](_0x421eba[_0x100b05(0x7af)])[_0x100b05(0x50c)](_0x55a920=>{const _0x5b0e3b=_0x100b05;_0x464746[_0x5b0e3b(0x655)+_0x55a920+_0x5b0e3b(0x3b9)]=![];}),await updateDoc(_0x4f0277,_0x464746);}else await updateDoc(_0x4f0277,{'status':'podium'});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x42b1cf=>{const _0x574e8b=_0x5f3a;if(_0x42b1cf){userId=_0x42b1cf[_0x574e8b(0xb1f)],userIdDisplay[_0x574e8b(0xa0d)]=userId;const _0x1d2eee=await loadUserPreferences();_0x1d2eee[_0x574e8b(0x6d2)]&&(document[_0x574e8b(0xa9a)](_0x574e8b(0xb30))['value']=_0x1d2eee[_0x574e8b(0x6d2)]);globalDashboardSettings[_0x574e8b(0xa9f)]=_0x1d2eee['projectView']||_0x574e8b(0x733);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x45d928,_0xac449e){const _0x5457c5=_0x27ad1b;if(!userId)return;try{const _0x2a0bb4=doc(db,_0x5457c5(0x827)+appId+_0x5457c5(0x2db)+userId+'/preferences/main'),_0x57a344={};_0x57a344[_0x45d928]=_0xac449e,await setDoc(_0x2a0bb4,_0x57a344,{'merge':!![]});}catch(_0x265308){console[_0x5457c5(0x4a0)](_0x5457c5(0x230),_0x265308);}}async function loadUserPreferences(){const _0x7ea506=_0x27ad1b;if(!userId)return{};try{const _0x1ae220=doc(db,_0x7ea506(0x827)+appId+_0x7ea506(0x2db)+userId+_0x7ea506(0x32f)),_0x224a58=await getDoc(_0x1ae220);if(_0x224a58[_0x7ea506(0x539)]())return _0x224a58[_0x7ea506(0x4b8)]();return{};}catch(_0x278c1a){return console['error'](_0x7ea506(0x9ab),_0x278c1a),{};}}function parseIndentedBlueprint(_0x3542c7){const _0x258e3f=_0x27ad1b,_0x421d3a=_0x3542c7['split']('\x0a')['filter'](_0x4edb29=>_0x4edb29[_0x258e3f(0x2b0)]()!==''),_0x4ab176=[];let _0x36869a=null,_0x4bb5bd=null;return _0x421d3a[_0x258e3f(0x50c)](_0x1b7dc9=>{const _0x5d04c4=_0x258e3f,_0x2b093a=_0x1b7dc9[_0x5d04c4(0x33b)](/^\s*/)[0x0][_0x5d04c4(0x7dc)],_0x1022bc=_0x1b7dc9[_0x5d04c4(0x2b0)]();if(_0x2b093a===0x0)_0x36869a={'sara':_0x1022bc,'mainTopics':[]},_0x4ab176[_0x5d04c4(0x2b6)](_0x36869a),_0x4bb5bd=null;else{if(_0x2b093a>0x0&&_0x2b093a<0x8&&_0x36869a)_0x4bb5bd={'topicName':_0x1022bc,'subTopics':[]},_0x36869a[_0x5d04c4(0x7a6)][_0x5d04c4(0x2b6)](_0x4bb5bd);else _0x2b093a>=0x8&&_0x4bb5bd&&_0x4bb5bd['subTopics']['push'](_0x1022bc);}}),{'curriculum':_0x4ab176};}async function handleManualBlueprintSave(){const _0x692ae5=_0x27ad1b,_0x5b6b3e=document[_0x692ae5(0xa9a)]('manual-bp-project-name')[_0x692ae5(0x589)][_0x692ae5(0x2b0)](),_0x17d0a8=document[_0x692ae5(0xa9a)]('manual-bp-grade-level')[_0x692ae5(0x589)][_0x692ae5(0x2b0)](),_0x4a576b=document[_0x692ae5(0xa9a)](_0x692ae5(0x5e1))[_0x692ae5(0x589)];if(!_0x5b6b3e||!_0x17d0a8||!_0x4a576b){showMessage(_0x692ae5(0xaeb));return;}const _0x4a6d0c=parseIndentedBlueprint(_0x4a576b);if(!_0x4a6d0c['curriculum']||_0x4a6d0c[_0x692ae5(0x62b)][_0x692ae5(0x7dc)]===0x0){showMessage('ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้');return;}const _0x4fcee2={};_0x4a6d0c[_0x692ae5(0x62b)]['forEach'](_0x9f429=>{const _0x590e7e=_0x692ae5;_0x9f429[_0x590e7e(0x7a6)][_0x590e7e(0x50c)](_0x146a91=>{const _0x99fd76=_0x590e7e;_0x146a91[_0x99fd76(0x811)]['forEach'](_0x5f3551=>{const _0x314358=_0x99fd76,_0xc97219=_0x314358(0x37d)+Date[_0x314358(0x680)]()+Math['random']()[_0x314358(0x7cb)](0x24)[_0x314358(0x64c)](0x2,0x9);_0x4fcee2[_0xc97219]={'sara':_0x9f429[_0x314358(0x984)],'mainTopic':_0x146a91[_0x314358(0x754)],'subTopic':_0x5f3551,'status':'not_generated','lessonContent':null};});});});try{const _0x470d9d=collection(db,_0x692ae5(0x827)+appId+_0x692ae5(0x65b));await addDoc(_0x470d9d,{'projectName':_0x5b6b3e,'gradeLevel':_0x17d0a8,'topics':_0x4fcee2,'createdAt':serverTimestamp()}),showMessage(_0x692ae5(0x36d)+_0x5b6b3e+_0x692ae5(0x1be)),document[_0x692ae5(0xa9a)]('manual-blueprint-modal')[_0x692ae5(0x25c)][_0x692ae5(0x2bd)](_0x692ae5(0x864));}catch(_0x384ee3){console[_0x692ae5(0x4a0)](_0x692ae5(0x642),_0x384ee3),showMessage(_0x692ae5(0x2a5));}}function handleClearAllLinksForTopic(_0x1e2c4a){const _0xf968a1=_0x27ad1b;showConfirmation(_0xf968a1(0xb0c),async()=>{const _0x199311=_0xf968a1;try{const _0x355eef=doc(db,_0x199311(0x827)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x355eef,{['topics.'+_0x1e2c4a+'.linkedQuizIds']:[]}),showMessage('ล้างการเชื่อมโยงทั้งหมดสำเร็จ'),openTopicQuizBank(_0x1e2c4a),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x3367c9){console[_0x199311(0x4a0)](_0x199311(0x255),_0x3367c9),showMessage(_0x199311(0x6f7));}});}function showPodiumView(_0x2c0ece,_0x38ec06=_0x27ad1b(0xb1d)){const _0x35853e=_0x27ad1b,_0x5a8191=Object[_0x35853e(0x5d9)](_0x2c0ece)[_0x35853e(0x821)](([_0x31365b,_0x1d0052])=>({'name':_0x31365b,'score':_0x1d0052[_0x35853e(0x8b3)]||0x0,'badges':_0x1d0052[_0x35853e(0xa01)]||[],'hasPerfectScoreBonus':_0x1d0052[_0x35853e(0x89c)]||![]}));_0x5a8191[_0x35853e(0xae5)]((_0x546a1e,_0x2281b4)=>{const _0x40c744=_0x35853e,_0x32a71f=_0x2281b4[_0x40c744(0x8b3)]-_0x546a1e[_0x40c744(0x8b3)];if(_0x32a71f!==0x0)return _0x32a71f;return(_0x2281b4[_0x40c744(0xa01)]['length']||0x0)-(_0x546a1e['badges'][_0x40c744(0x7dc)]||0x0);});const _0x2155d8=_0x48a369=>{const _0x58a022=_0x35853e;if(!_0x48a369||_0x48a369[_0x58a022(0x7dc)]===0x0)return'';const _0x45baab={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x48a369[_0x58a022(0x821)](_0x31bd52=>_0x45baab[_0x31bd52]||'')[_0x58a022(0x4ad)]('')+_0x58a022(0xac7);},_0x48987a=_0x5a8191[_0x35853e(0xad3)](0x3),_0xd893b=_0x48987a[_0x35853e(0x7dc)]>0x0?_0x35853e(0x3db)+_0x48987a[_0x35853e(0x821)]((_0x56f6d8,_0x54dc12)=>{const _0x2d17f2=_0x35853e,_0x431224=_0x56f6d8['hasPerfectScoreBonus']?_0x2d17f2(0x2af):'';return _0x2d17f2(0x5d6)+(_0x54dc12+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x56f6d8[_0x2d17f2(0x352)]+_0x2d17f2(0xa3d)+_0x56f6d8[_0x2d17f2(0x8b3)]+'\x20คะแนน\x20'+_0x431224+_0x2d17f2(0x86d);})[_0x35853e(0x4ad)]('')+_0x35853e(0x7b8):'',_0x1b8ff9=_0x35853e(0xa84)+(_0x5a8191[0x1]?_0x35853e(0x460)+_0x5a8191[0x1][_0x35853e(0x352)]+_0x35853e(0x323)+_0x2155d8(_0x5a8191[0x1][_0x35853e(0xa01)])+'<p\x20class=\x22text-xl\x22>'+_0x5a8191[0x1][_0x35853e(0x8b3)]+_0x35853e(0x953)+(_0x5a8191[0x1][_0x35853e(0x89c)]?_0x35853e(0x9b6):'')+_0x35853e(0x3fa):_0x35853e(0xb4e))+_0x35853e(0x7e9)+(_0x5a8191[0x0]?_0x35853e(0x64f)+_0x5a8191[0x0][_0x35853e(0x352)]+_0x35853e(0x323)+_0x2155d8(_0x5a8191[0x0]['badges'])+_0x35853e(0x761)+_0x5a8191[0x0][_0x35853e(0x8b3)]+'\x20คะแนน\x20'+(_0x5a8191[0x0][_0x35853e(0x89c)]?_0x35853e(0x9b6):'')+_0x35853e(0x241):_0x35853e(0xb4e))+_0x35853e(0x7e9)+(_0x5a8191[0x2]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x5a8191[0x2][_0x35853e(0x352)]+'</p>'+_0x2155d8(_0x5a8191[0x2][_0x35853e(0xa01)])+_0x35853e(0x7d4)+_0x5a8191[0x2][_0x35853e(0x8b3)]+_0x35853e(0x953)+(_0x5a8191[0x2]['hasPerfectScoreBonus']?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x35853e(0x76e):_0x35853e(0xb4e))+_0x35853e(0x607)+_0xd893b+_0x35853e(0x57a)+(currentMode==='admin'?_0x35853e(0x170):'<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';liveGameView['innerHTML']=_0x1b8ff9,currentMode===_0x35853e(0x638)&&document[_0x35853e(0xa9a)](_0x35853e(0xaf2))[_0x35853e(0x234)](_0x35853e(0x4be),async()=>{const _0xbdecfc=_0x35853e;let _0x2e4c8f;_0x38ec06===_0xbdecfc(0x1eb)?_0x2e4c8f=doc(db,_0xbdecfc(0x827)+appId+_0xbdecfc(0x604),currentLiveGameId):_0x2e4c8f=doc(db,_0xbdecfc(0x827)+appId+_0xbdecfc(0x3d2),currentLiveGameId),await deleteDoc(_0x2e4c8f);});}function renderSyncSummaryView(_0x359950,_0x7f6d1d,_0x1c7577){const _0x541e8b=_0x27ad1b,_0x44ab10=Object['values'](_0x359950[_0x541e8b(0x7af)]||{}),_0x32f790=_0x7f6d1d['questionType']||_0x359950[_0x541e8b(0x150)][_0x541e8b(0x447)];let _0x471ce8=[];_0x32f790==='true_false'?_0x471ce8=[_0x541e8b(0x475),_0x541e8b(0xb27)]:_0x471ce8=_0x7f6d1d[_0x541e8b(0x559)]||[];const _0x250cc5=new Array(_0x471ce8[_0x541e8b(0x7dc)])[_0x541e8b(0x2f8)](0x0),_0xbe6168={};_0x471ce8[_0x541e8b(0x50c)]((_0x2ffe5d,_0xfff9a5)=>{_0xbe6168[_0xfff9a5]=[];}),Object[_0x541e8b(0x5d9)](_0x359950['players']||{})[_0x541e8b(0x50c)](([_0x2f44dc,_0x4cc13f])=>{const _0x456f36=_0x541e8b;if(_0x4cc13f[_0x456f36(0xb84)]!==_0x456f36(0x261)&&_0x4cc13f[_0x456f36(0x1ba)]!==undefined&&_0x4cc13f[_0x456f36(0x1ba)]!==null){const _0x37b178=_0x4cc13f['lastAnswerIndex'];_0xbe6168[_0x37b178]!==undefined&&(_0xbe6168[_0x37b178]['push'](_0x2f44dc),_0x250cc5[_0x37b178]++);}});let _0x4e334b='';_0x1c7577?_0x4e334b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20':_0x4e334b=_0x541e8b(0x4b3);const _0x1a3ddf=_0x541e8b(0x47f)+_0x7f6d1d[_0x541e8b(0xac2)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x250cc5[_0x541e8b(0x821)]((_0x7a0d5b,_0x28a3fe)=>{const _0x5deb53=_0x541e8b,_0x3333c6=_0xbe6168[_0x28a3fe][_0x5deb53(0x7dc)]>0x0?_0xbe6168[_0x28a3fe][_0x5deb53(0x4ad)](',\x20'):_0x5deb53(0x4fd),_0xd0fe60='#6366F1';return _0x5deb53(0x6b5)+_0x7a0d5b+_0x5deb53(0x88b)+_0xd0fe60+_0x5deb53(0x45b)+_0x28a3fe+_0x5deb53(0x274)+_0x471ce8[_0x28a3fe]+_0x5deb53(0xa10)+_0x28a3fe+_0x5deb53(0x256)+_0x3333c6+_0x5deb53(0x3e4);})[_0x541e8b(0x4ad)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4e334b+_0x541e8b(0x364);liveGameView[_0x541e8b(0x415)]=_0x1a3ddf;if(window[_0x541e8b(0xa63)])MathJax[_0x541e8b(0x5e2)]();_0x1c7577&&(document[_0x541e8b(0xa9a)](_0x541e8b(0xa55))[_0x541e8b(0x234)](_0x541e8b(0x4be),async()=>{const _0x101735=_0x541e8b,_0x270778=doc(db,_0x101735(0x827)+appId+_0x101735(0x604),currentLiveGameId);await updateDoc(_0x270778,{'status':_0x101735(0x884)});}),document[_0x541e8b(0xa9a)](_0x541e8b(0x915))[_0x541e8b(0x710)]=()=>{openScratchpad(_0x7f6d1d,_0x471ce8);});}async function handleShowStudentRankings(){const _0x1bf931=_0x27ad1b,_0x18ea7b=document[_0x1bf931(0x46b)](_0x1bf931(0x63f));_0x18ea7b&&(_0x18ea7b['innerHTML']=_0x1bf931(0x1e9));const _0x41dee2=document['querySelector'](_0x1bf931(0x8b2));_0x41dee2&&(_0x41dee2[_0x1bf931(0x415)]=_0x1bf931(0x988));const _0x354372=document['getElementById'](_0x1bf931(0x621));_0x354372[_0x1bf931(0x25c)][_0x1bf931(0x525)](_0x1bf931(0x864)),document[_0x1bf931(0xa9a)]('close-student-rankings-btn')[_0x1bf931(0x710)]=()=>_0x354372[_0x1bf931(0x25c)][_0x1bf931(0x2bd)](_0x1bf931(0x864));const _0x33a683=document[_0x1bf931(0xa9a)]('student-quiz-leaderboard-tab'),_0xce0fe5=document['getElementById'](_0x1bf931(0x965)),_0x259f90=document[_0x1bf931(0xa9a)]('student-quiz-leaderboard-content'),_0x30708b=document[_0x1bf931(0xa9a)](_0x1bf931(0x9d4));_0x33a683[_0x1bf931(0x710)]=()=>{const _0x1b6215=_0x1bf931;_0x33a683['classList'][_0x1b6215(0x2bd)]('active'),_0xce0fe5['classList']['remove'](_0x1b6215(0x3cc)),_0x259f90['classList'][_0x1b6215(0x525)](_0x1b6215(0x864)),_0x30708b[_0x1b6215(0x25c)][_0x1b6215(0x2bd)]('hidden');},_0xce0fe5[_0x1bf931(0x710)]=()=>{const _0xe292b5=_0x1bf931;_0xce0fe5[_0xe292b5(0x25c)][_0xe292b5(0x2bd)](_0xe292b5(0x3cc)),_0x33a683[_0xe292b5(0x25c)][_0xe292b5(0x525)](_0xe292b5(0x3cc)),_0x30708b[_0xe292b5(0x25c)]['remove'](_0xe292b5(0x864)),_0x259f90[_0xe292b5(0x25c)][_0xe292b5(0x2bd)](_0xe292b5(0x864));};try{const _0x1b5ce7=collection(db,'artifacts/'+appId+_0x1bf931(0x2c4)+currentQuizData['id']+_0x1bf931(0x4d3)),_0x4308b4=await getDocs(_0x1b5ce7),_0x44c4eb=_0x4308b4[_0x1bf931(0x8e0)]['map'](_0x5a8898=>_0x5a8898[_0x1bf931(0x4b8)]());renderQuizLeaderboard(_0x44c4eb,currentQuizData,'student-quiz-leaderboard-table-body');const _0x3b96ea=collection(db,'artifacts/'+appId+_0x1bf931(0x4b2)+currentQuizData[_0x1bf931(0x35a)]+'/studentProfiles'),_0x14d5a5=await getDocs(_0x3b96ea),_0x3355c7=_0x14d5a5[_0x1bf931(0x8e0)][_0x1bf931(0x821)](_0x17693f=>_0x17693f[_0x1bf931(0x4b8)]());renderLeaderboard(_0x3355c7,_0x1bf931(0x703));}catch(_0x492187){console[_0x1bf931(0x4a0)](_0x1bf931(0x3c0),_0x492187),showMessage(_0x1bf931(0x11d));}}async function handleSaveToBank(_0x4488d8){const _0x28b33f=_0x27ad1b,_0x3cbc7d=_0x4488d8['currentTarget'],_0x210627=_0x3cbc7d[_0x28b33f(0x9f6)][_0x28b33f(0x118)],_0x2aa852=currentQuizData['questions'][_0x210627];if(!userId){showMessage(_0x28b33f(0x491));return;}try{const _0x107d13={..._0x2aa852,'originalTopic':currentQuizData[_0x28b33f(0x21a)],'savedAt':serverTimestamp()},_0x257e36=collection(db,_0x28b33f(0x827)+appId+_0x28b33f(0x2db)+userId+_0x28b33f(0x554));await addDoc(_0x257e36,_0x107d13),showMessage(_0x28b33f(0x249)),_0x3cbc7d[_0x28b33f(0x25c)][_0x28b33f(0x525)](_0x28b33f(0x617)),_0x3cbc7d[_0x28b33f(0x25c)][_0x28b33f(0x2bd)]('text-green-600'),_0x3cbc7d[_0x28b33f(0xb12)]=!![];}catch(_0x212382){console[_0x28b33f(0x4a0)](_0x28b33f(0x605),_0x212382),showMessage(_0x28b33f(0x79a));}}function selectProjectAndGenerateBlueprintQuiz(_0x46aab0,_0x42afe8=null,_0x450aca=null,_0x8fbfb6=![]){const _0x9fe6f9=_0x27ad1b;cameFromBlueprint=!![];const _0xda21d=document[_0x9fe6f9(0xa9a)](_0x9fe6f9(0x5f1)),_0x5b4c45=document[_0x9fe6f9(0xa9a)](_0x9fe6f9(0x687)),_0x2d261b=_0xda21d[_0x9fe6f9(0x46b)]('h3'),_0xa9c0b=document[_0x9fe6f9(0xa9a)](_0x9fe6f9(0x43f)),_0x1c839f=document[_0x9fe6f9(0xa9a)](_0x9fe6f9(0x482));_0x2d261b[_0x9fe6f9(0xa0d)]=_0x9fe6f9(0x54c),_0xa9c0b['textContent']='เลือกและเริ่มสร้าง',_0xa9c0b['disabled']=!![];allProjects[_0x9fe6f9(0x7dc)]===0x0?_0x5b4c45[_0x9fe6f9(0x415)]='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0x5b4c45['innerHTML']=_0x9fe6f9(0xa8f)+allProjects[_0x9fe6f9(0x821)](_0x220320=>_0x9fe6f9(0x82c)+_0x220320['id']+'\x22>'+_0x220320[_0x9fe6f9(0x5a8)]+_0x9fe6f9(0x125))[_0x9fe6f9(0x4ad)](''),_0xa9c0b[_0x9fe6f9(0xb12)]=![]);_0xda21d['classList'][_0x9fe6f9(0x525)](_0x9fe6f9(0x864));const _0xaa3c4d=async()=>{const _0x41117b=_0x9fe6f9,_0x2443e7=_0x5b4c45[_0x41117b(0x589)];if(!_0x2443e7){showMessage(_0x41117b(0x1ab));return;}_0xda21d[_0x41117b(0x25c)][_0x41117b(0x2bd)](_0x41117b(0x864)),document['getElementById'](_0x41117b(0x782))[_0x41117b(0x25c)][_0x41117b(0x2bd)](_0x41117b(0x864)),await loadProjectDetails(_0x2443e7),showView(_0x41117b(0x242)),handleGenerateQuizFromBlueprintTopic(_0x46aab0,_0x42afe8,_0x2443e7,_0x450aca,_0x8fbfb6),_0x4f38ca();},_0x4f38ca=()=>{const _0x6d1d54=_0x9fe6f9;_0x2d261b[_0x6d1d54(0xa0d)]=_0x6d1d54(0x307),_0xa9c0b[_0x6d1d54(0xa0d)]='ย้าย',_0xa9c0b['removeEventListener'](_0x6d1d54(0x4be),_0xaa3c4d),_0x1c839f[_0x6d1d54(0x966)](_0x6d1d54(0x4be),_0x4f38ca),_0xa9c0b[_0x6d1d54(0x234)]('click',confirmMoveQuiz);};_0xa9c0b['removeEventListener'](_0x9fe6f9(0x4be),confirmMoveQuiz),_0xa9c0b[_0x9fe6f9(0x234)](_0x9fe6f9(0x4be),_0xaa3c4d),_0x1c839f[_0x9fe6f9(0x234)](_0x9fe6f9(0x4be),_0x4f38ca);}function listenForStarredQuizzes(){const _0x24f2c8=_0x27ad1b;if(!userId)return;const _0x17e120=collection(db,_0x24f2c8(0x827)+appId+_0x24f2c8(0xb2f)),_0x45f529=query(_0x17e120,where(_0x24f2c8(0xb51),'==',!![]));onSnapshot(_0x45f529,_0x599f06=>{const _0x4e3757=_0x24f2c8;starredQuizzes=_0x599f06[_0x4e3757(0x8e0)][_0x4e3757(0x821)](_0x57b7bf=>({'id':_0x57b7bf['id'],..._0x57b7bf[_0x4e3757(0x4b8)]()})),currentProjectId===_0x4e3757(0x2f3)?renderQuizzes():renderProjects();},_0x29570b=>{const _0x5ba6f7=_0x24f2c8;console[_0x5ba6f7(0x4a0)](_0x5ba6f7(0x29d),_0x29570b);});}async function ensureGlobalQuizzesLoaded(){const _0x1c2dda=_0x27ad1b;if(allQuizzesGlobal[_0x1c2dda(0x7dc)]>0x0)return;console[_0x1c2dda(0x484)](_0x1c2dda(0x6e4)),showMessage(_0x1c2dda(0x48d));try{const _0x428828=await getDocs(collection(db,_0x1c2dda(0x827)+appId+_0x1c2dda(0xb2f)));allQuizzesGlobal=_0x428828['docs']['map'](_0x1ce23f=>({'id':_0x1ce23f['id'],..._0x1ce23f[_0x1c2dda(0x4b8)]()})),console[_0x1c2dda(0x484)]('Loaded\x20'+allQuizzesGlobal['length']+'\x20quizzes\x20into\x20global\x20cache.'),messageModal[_0x1c2dda(0x25c)][_0x1c2dda(0x2bd)](_0x1c2dda(0x864));}catch(_0x6a5459){console[_0x1c2dda(0x4a0)](_0x1c2dda(0x7dd),_0x6a5459),messageModal[_0x1c2dda(0x25c)]['add'](_0x1c2dda(0x864));throw new Error(_0x1c2dda(0xa6d));}}function exportQuizAsWorksheetPDF(){const _0x45e0ae=_0x27ad1b;if(!currentQuizData||!currentQuizData[_0x45e0ae(0x4aa)]){showMessage(_0x45e0ae(0x3b8));return;}const _0x33a3e5=currentQuizData,_0x121be7=window[_0x45e0ae(0x524)]('',_0x45e0ae(0x940)),_0x296ede=_0x621c61=>String[_0x45e0ae(0x756)](0x41+_0x621c61),_0x27e981=_0x45e0ae(0x512)+_0x33a3e5[_0x45e0ae(0x21a)]+_0x45e0ae(0xa83)+_0x33a3e5[_0x45e0ae(0x21a)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x33a3e5[_0x45e0ae(0x4aa)][_0x45e0ae(0x821)]((_0x546d6c,_0x4de97e)=>{const _0x16d57c=_0x45e0ae;let _0x2db7a0='';const _0x21c86f=_0x546d6c[_0x16d57c(0x5fe)]||_0x33a3e5[_0x16d57c(0x447)];switch(_0x21c86f){case _0x16d57c(0xb9a):case _0x16d57c(0x9ff):_0x2db7a0=_0x16d57c(0x566)+_0x546d6c[_0x16d57c(0x559)][_0x16d57c(0x821)]((_0x488022,_0x11f1ab)=>_0x16d57c(0xa93)+_0x296ede(_0x11f1ab)+'.\x20'+_0x488022+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x16d57c(0x4ad)]('<br>')+_0x16d57c(0xac7);break;case _0x16d57c(0x9c7):_0x2db7a0=_0x16d57c(0xa58);break;default:_0x2db7a0=_0x16d57c(0xb10);break;}return _0x16d57c(0x736)+(_0x4de97e+0x1)+_0x16d57c(0x107)+(_0x546d6c['stem']||_0x546d6c[_0x16d57c(0xac2)])+_0x16d57c(0x571)+(_0x546d6c['imageCode']?_0x16d57c(0x468)+_0x546d6c['imageCode']+_0x16d57c(0xac7):'')+_0x16d57c(0x81a)+_0x2db7a0+_0x16d57c(0x5ac);})[_0x45e0ae(0x4ad)]('')+_0x45e0ae(0x843);_0x121be7[_0x45e0ae(0x2ed)]['write'](_0x27e981),_0x121be7['document'][_0x45e0ae(0x14a)](),_0x121be7[_0x45e0ae(0x89a)]=function(){setTimeout(()=>{const _0x4fa103=_0x5f3a;_0x121be7[_0x4fa103(0x3a0)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x70cfc8=_0x27ad1b;if(!currentQuizData||!currentQuizData[_0x70cfc8(0x4aa)]){showMessage(_0x70cfc8(0x3b8));return;}const _0x224026=currentQuizData,_0x4ce5e5=window[_0x70cfc8(0x524)]('',_0x70cfc8(0x940)),_0x52d088=_0x3c4ab8=>String[_0x70cfc8(0x756)](0x41+_0x3c4ab8),_0x17078e=_0x70cfc8(0x2f9)+_0x224026[_0x70cfc8(0x21a)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x224026[_0x70cfc8(0x4aa)][_0x70cfc8(0x821)]((_0x43a5cc,_0x4352e9)=>{const _0x27f7e7=_0x70cfc8;let _0xeeaf31='';const _0x542963=_0x43a5cc[_0x27f7e7(0x5fe)]||_0x224026[_0x27f7e7(0x447)];switch(_0x542963){case _0x27f7e7(0xb9a):case'fill_in_with_choices':_0xeeaf31=_0x27f7e7(0x8df)+_0x43a5cc[_0x27f7e7(0x559)][_0x27f7e7(0x821)]((_0xceb807,_0x4f3301)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x52d088(_0x4f3301)+'.\x20'+_0xceb807+'</span>')[_0x27f7e7(0x4ad)](_0x27f7e7(0x971))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x27f7e7(0x9c7):_0xeeaf31=_0x27f7e7(0x833);break;default:_0xeeaf31='';break;}return _0x27f7e7(0x772)+_0x224026[_0x27f7e7(0x21a)]+_0x27f7e7(0x36a)+(_0x4352e9+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x43a5cc[_0x27f7e7(0x856)]||_0x43a5cc['questionText'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x43a5cc[_0x27f7e7(0x56d)]?_0x27f7e7(0x695)+_0x43a5cc['imageCode']+_0x27f7e7(0xac7):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xeeaf31+_0x27f7e7(0x262);})['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x4ce5e5[_0x70cfc8(0x2ed)]['write'](_0x17078e),_0x4ce5e5[_0x70cfc8(0x2ed)]['close'](),_0x4ce5e5[_0x70cfc8(0x89a)]=function(){setTimeout(()=>{const _0xae749c=_0x5f3a;_0x4ce5e5[_0xae749c(0x3a0)]();},0x5dc);};}async function handleToggleStarQuiz(_0x538d1b){const _0x542f78=_0x27ad1b,_0x3b71b9=doc(db,_0x542f78(0x827)+appId+_0x542f78(0xb2f),_0x538d1b);try{const _0xf0e8a9=await getDoc(_0x3b71b9);if(_0xf0e8a9[_0x542f78(0x539)]()){const _0x4756eb=_0xf0e8a9['data']()['isStarred']||![];await updateDoc(_0x3b71b9,{'isStarred':!_0x4756eb});}}catch(_0x48fa07){console[_0x542f78(0x4a0)](_0x542f78(0x147),_0x48fa07),showMessage(_0x542f78(0x689));}}async function displayQuestionBank(){const _0x183801=_0x27ad1b,_0x312935=document[_0x183801(0xa9a)](_0x183801(0xa68));_0x312935[_0x183801(0x415)]=_0x183801(0x76d);try{const _0x5194bb=collection(db,'artifacts/'+appId+'/users/'+userId+_0x183801(0x554)),_0x17a3c0=query(_0x5194bb),_0x4532b8=await getDocs(_0x17a3c0);if(_0x4532b8[_0x183801(0x454)]){_0x312935[_0x183801(0x415)]='<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>';return;}let _0x612eb3=_0x4532b8[_0x183801(0x8e0)][_0x183801(0x821)](_0x13f11e=>{const _0xdc3fd1=_0x183801,_0x4d792a=_0x13f11e[_0xdc3fd1(0x4b8)](),_0x2c81be=_0x13f11e['id'];return _0xdc3fd1(0x3ef)+JSON[_0xdc3fd1(0xa1a)](_0x4d792a)+'\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x4d792a[_0xdc3fd1(0xac2)]||_0x4d792a[_0xdc3fd1(0x856)])+_0xdc3fd1(0x2d7)+_0x4d792a[_0xdc3fd1(0x4ee)]+_0xdc3fd1(0xb17);})['join']('');_0x312935['innerHTML']=_0x183801(0x9d2)+_0x612eb3+_0x183801(0x60a),document['getElementById']('create-from-bank-btn')[_0x183801(0x234)](_0x183801(0x4be),createQuizFromBank);}catch(_0x537812){console[_0x183801(0x4a0)](_0x183801(0x24a),_0x537812),_0x312935[_0x183801(0x415)]=_0x183801(0x102);}}async function handleExportLessonToPDF(){const _0x33195a=_0x27ad1b,_0x324ff8=document[_0x33195a(0xa9a)](_0x33195a(0x8fd)),_0x5d7cec=document[_0x33195a(0xa9a)](_0x33195a(0xa92))[_0x33195a(0xa0d)]||_0x33195a(0x435);if(!_0x324ff8){showMessage(_0x33195a(0x685));return;}const _0x316f0b=window['open']('',_0x33195a(0x940)),_0x43ddda='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x5d7cec+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>'+_0x5d7cec+_0x33195a(0x671)+_0x324ff8[_0x33195a(0x415)]+_0x33195a(0x843);_0x316f0b[_0x33195a(0x2ed)][_0x33195a(0x180)](_0x43ddda),_0x316f0b[_0x33195a(0x2ed)][_0x33195a(0x14a)](),_0x316f0b[_0x33195a(0x89a)]=function(){setTimeout(()=>{const _0x26bc84=_0x5f3a;_0x316f0b[_0x26bc84(0x3a0)]();},0x7d0);};}function showAdminLiveQuestionView(_0x3ac3f5,_0x7dc72b,_0x16b244){const _0x1e6229=_0x27ad1b,_0x322605=_0x3ac3f5[_0x1e6229(0x5fe)]||currentQuizData[_0x1e6229(0x447)];let _0x436e7a='';if(_0x322605==='multiple_choice'||_0x322605===_0x1e6229(0x9c7)){const _0x3b042d=_0x322605===_0x1e6229(0x9c7)?['ใช่',_0x1e6229(0x5d3)]:_0x3ac3f5[_0x1e6229(0x559)],_0x224c0d=_0x322605===_0x1e6229(0x9c7)?_0x3ac3f5[_0x1e6229(0x8cd)]?0x0:0x1:_0x3ac3f5['correctAnswerIndex'];_0x436e7a=_0x3b042d[_0x1e6229(0x821)]((_0x4496cd,_0x507870)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x507870===_0x224c0d)+_0x1e6229(0x336)+_0x4496cd+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x1e6229(0x4ad)]('');}else{if(_0x322605==='matching_item'){const _0xf8946=_0x3ac3f5[_0x1e6229(0x1fc)]||[];_0x436e7a=_0xf8946['map'](_0x1128bd=>_0x1e6229(0x63a)+(_0x1128bd===_0x3ac3f5[_0x1e6229(0xa66)])+_0x1e6229(0x336)+_0x1128bd+_0x1e6229(0x138))[_0x1e6229(0x4ad)]('');}}const _0x1be960=_0x3ac3f5['stem']||_0x3ac3f5[_0x1e6229(0xac2)],_0x18c600=_0x1e6229(0xa88)+(_0x7dc72b+0x1)+_0x1e6229(0x3d6)+_0x16b244+_0x1e6229(0x3b4)+currentLiveGamePin+_0x1e6229(0x8a6)+_0x1be960+_0x1e6229(0x214)+_0x436e7a+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x1e6229(0x415)]=_0x18c600,window['MathJax']&&MathJax[_0x1e6229(0x5e2)]&&MathJax[_0x1e6229(0x5e2)]([liveGameView]),document[_0x1e6229(0xa9a)](_0x1e6229(0x462))[_0x1e6229(0x234)](_0x1e6229(0x4be),()=>revealAnswerForAdmin(_0x7dc72b,_0x16b244)),document[_0x1e6229(0xa9a)](_0x1e6229(0x485))[_0x1e6229(0x234)]('click',async()=>{const _0x4b66c4=_0x1e6229;showConfirmation(_0x4b66c4(0x99b),async()=>{const _0x174441=_0x4b66c4,_0x1a7b69=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x1a7b69,{'status':_0x174441(0x771)});});}),document[_0x1e6229(0xa9a)](_0x1e6229(0x201))[_0x1e6229(0x234)](_0x1e6229(0x4be),()=>{const _0x190139=_0x1e6229;document[_0x190139(0xa9a)](_0x190139(0x139))[_0x190139(0x25c)][_0x190139(0x4a8)](_0x190139(0x864));});}function promptForProjectBeforeGenerating(_0x2fc5b2){const _0x211197=_0x27ad1b,_0x3b1972=document[_0x211197(0xa9a)](_0x211197(0x5f1)),_0xf8ce16=document[_0x211197(0xa9a)](_0x211197(0x687)),_0x19e6b0=_0x3b1972['querySelector']('h3'),_0x170ecb=document[_0x211197(0xa9a)](_0x211197(0x43f)),_0x229301=document['getElementById'](_0x211197(0x482));_0x19e6b0[_0x211197(0xa0d)]=_0x211197(0x54c),_0x170ecb['textContent']=_0x211197(0x991),_0x170ecb[_0x211197(0xb12)]=!![];allProjects['length']===0x0?_0xf8ce16[_0x211197(0x415)]='<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>':(_0xf8ce16['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects[_0x211197(0x821)](_0x207f4f=>_0x211197(0x82c)+_0x207f4f['id']+'\x22>'+_0x207f4f['projectName']+'</option>')['join'](''),_0x170ecb['disabled']=![]);_0x3b1972[_0x211197(0x25c)]['remove'](_0x211197(0x864));const _0x36f6ae=async()=>{const _0x151d9e=_0x211197,_0x38b5cb=_0xf8ce16[_0x151d9e(0x589)];if(!_0x38b5cb){showMessage(_0x151d9e(0x1ab));return;}_0x3b1972['classList'][_0x151d9e(0x2bd)](_0x151d9e(0x864)),await loadProjectDetails(_0x38b5cb),showView(_0x151d9e(0x242)),handleGenerateQuizFromBlueprintTopic(_0x2fc5b2),_0x2f762d();},_0x2f762d=()=>{const _0x163975=_0x211197;_0x19e6b0[_0x163975(0xa0d)]=_0x163975(0x307),_0x170ecb[_0x163975(0xa0d)]=_0x163975(0x998),_0x170ecb[_0x163975(0x966)](_0x163975(0x4be),_0x36f6ae),_0x229301[_0x163975(0x966)]('click',_0x2f762d),_0x170ecb[_0x163975(0x234)](_0x163975(0x4be),confirmMoveQuiz);};_0x170ecb[_0x211197(0x966)](_0x211197(0x4be),confirmMoveQuiz),_0x170ecb['addEventListener'](_0x211197(0x4be),_0x36f6ae),_0x229301[_0x211197(0x234)](_0x211197(0x4be),_0x2f762d);}function showStudentLiveQuestionView(_0x3f7941,_0x2b2e2e,_0x235cb4){const _0x40d748=_0x27ad1b,_0x203ac9=_0x3f7941[_0x40d748(0x5fe)]||currentQuizData[_0x40d748(0x447)];let _0x34c52a='';if(_0x203ac9===_0x40d748(0xb9a)||_0x203ac9===_0x40d748(0x9c7)){const _0x195ff6=_0x203ac9===_0x40d748(0x9c7)?[_0x40d748(0x463),_0x40d748(0x5d3)]:_0x3f7941[_0x40d748(0x559)];_0x34c52a=_0x195ff6[_0x40d748(0x821)]((_0x51d2e8,_0x4cea4b)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x4cea4b+_0x40d748(0x73b)+_0x51d2e8+_0x40d748(0x7e4))[_0x40d748(0x4ad)]('');}else{if(_0x203ac9===_0x40d748(0x62a)){const _0x415a36=_0x3f7941[_0x40d748(0x1fc)]||[];_0x34c52a=_0x415a36[_0x40d748(0x821)]((_0x341ca3,_0x4c0a56)=>_0x40d748(0x4f5)+_0x4c0a56+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x341ca3+_0x40d748(0x7e4))[_0x40d748(0x4ad)]('');}else _0x203ac9==='short_answer'&&(_0x34c52a=_0x40d748(0xa96));}const _0x1f1745=_0x3f7941[_0x40d748(0x856)]||_0x3f7941[_0x40d748(0xac2)],_0x31ffec='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x2b2e2e+0x1)+'\x20/\x20'+_0x235cb4+_0x40d748(0x8d4)+_0x1f1745+_0x40d748(0x615)+_0x34c52a+_0x40d748(0x914);liveGameView['innerHTML']=_0x31ffec;window[_0x40d748(0xa63)]&&MathJax['typesetPromise']&&MathJax[_0x40d748(0x5e2)]([liveGameView]);const _0xe5d5b9=document['getElementById'](_0x40d748(0x7a4));_0xe5d5b9&&_0xe5d5b9['addEventListener'](_0x40d748(0x4be),()=>{const _0x4bc866=_0x40d748,_0x6eef9b=document[_0x4bc866(0xa9a)](_0x4bc866(0x6bf))[_0x4bc866(0x589)];handleLiveAnswer(_0x6eef9b,_0x3f7941);}),document[_0x40d748(0xa9a)](_0x40d748(0xaa3))[_0x40d748(0x234)](_0x40d748(0x4be),_0x244063=>{const _0x3cff24=_0x40d748,_0x4979db=_0x244063[_0x3cff24(0xa7d)]['closest'](_0x3cff24(0x80a));if(_0x4979db){const _0x39bda4=parseInt(_0x4979db[_0x3cff24(0x9f6)][_0x3cff24(0x118)]);handleLiveAnswer(_0x39bda4,_0x3f7941);}});}async function handleLiveAnswer(_0x4ce264,_0xf74bb5){const _0x34dfc0=_0x27ad1b;document[_0x34dfc0(0x4e0)](_0x34dfc0(0x392))[_0x34dfc0(0x50c)](_0x102a68=>_0x102a68['disabled']=!![]);const _0x53e8b5=_0xf74bb5[_0x34dfc0(0x5fe)]||currentQuizData['quizType'];let _0x4aaaf1=![],_0x4cbf95=_0x4ce264;if(_0x53e8b5===_0x34dfc0(0xa97)){const _0x5a68b7=(_0x4ce264||'')[_0x34dfc0(0x7cb)]();_0x4aaaf1=await gradeShortAnswer(_0x5a68b7,_0xf74bb5);}else{if(_0x53e8b5===_0x34dfc0(0xb9a))_0x4aaaf1=_0x4ce264===_0xf74bb5[_0x34dfc0(0xa18)];else{if(_0x53e8b5==='true_false'){const _0x8b8109=_0xf74bb5['correctAnswer'];_0x4aaaf1=_0x4ce264===0x0&&_0x8b8109||_0x4ce264===0x1&&!_0x8b8109;}else{if(_0x53e8b5===_0x34dfc0(0x62a)){const _0x28fe59=_0xf74bb5['allResponses'][_0x4ce264];_0x4aaaf1=_0x28fe59===_0xf74bb5[_0x34dfc0(0xa66)],_0x4cbf95=_0x28fe59;}}}}const _0x44fc9a=doc(db,_0x34dfc0(0x827)+appId+_0x34dfc0(0x3d2),currentLiveGameId),_0x45e6d4={};_0x45e6d4[_0x34dfc0(0x655)+currentStudentName+'.answeredCurrentQuestion']=!![],_0x45e6d4[_0x34dfc0(0x655)+currentStudentName+_0x34dfc0(0x88f)]=_0x4aaaf1,_0x45e6d4[_0x34dfc0(0x655)+currentStudentName+'.lastAnswerIndex']=_0x53e8b5==='short_answer'||_0x53e8b5===_0x34dfc0(0x62a)?null:_0x4ce264,_0x45e6d4[_0x34dfc0(0x655)+currentStudentName+_0x34dfc0(0x694)]=_0x4cbf95,_0x45e6d4[_0x34dfc0(0x655)+currentStudentName+_0x34dfc0(0xa46)]=serverTimestamp(),_0x45e6d4[_0x34dfc0(0x655)+currentStudentName+_0x34dfc0(0x7e1)]=![],await updateDoc(_0x44fc9a,_0x45e6d4),liveGameView[_0x34dfc0(0x415)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>';}function showAdminSummaryView(_0x23d268,_0x434f4f){const _0x271bcd=_0x27ad1b,_0xb7606d=Object['values'](_0x23d268[_0x271bcd(0x7af)]||{}),_0x38a6ff=_0x434f4f['questionType']||currentQuizData['quizType'],_0x182dd7=_0x38a6ff==='true_false'?[_0x271bcd(0x463),_0x271bcd(0x5d3)]:_0x434f4f[_0x271bcd(0x559)]||_0x434f4f[_0x271bcd(0x1fc)]||[],_0x4c099e={},_0x585b5b=new Array(_0x182dd7[_0x271bcd(0x7dc)])[_0x271bcd(0x2f8)](0x0);_0x182dd7[_0x271bcd(0x50c)]((_0x501594,_0x311795)=>{_0x4c099e[_0x311795]=[];}),Object[_0x271bcd(0x5d9)](_0x23d268[_0x271bcd(0x7af)]||{})['forEach'](([_0x587eaf,_0x232942])=>{const _0x2a7be5=_0x271bcd;if(_0x232942[_0x2a7be5(0xb84)]===_0x2a7be5(0x3cc)&&_0x232942[_0x2a7be5(0x1ba)]!==undefined){const _0x40ff8c=_0x232942[_0x2a7be5(0x1ba)];_0x4c099e[_0x40ff8c]&&(_0x4c099e[_0x40ff8c][_0x2a7be5(0x2b6)](_0x587eaf),_0x585b5b[_0x40ff8c]++);}});const _0x513ef2=Math['max'](..._0x585b5b,0x1),_0x58188f=_0x271bcd(0xa49)+(_0x434f4f[_0x271bcd(0x856)]||_0x434f4f[_0x271bcd(0xac2)])+_0x271bcd(0x6e0)+_0x585b5b[_0x271bcd(0x821)]((_0x436972,_0x10041e)=>{const _0x5a6974=_0x271bcd,_0x210f4a=_0x4c099e[_0x10041e]['length']>0x0?_0x4c099e[_0x10041e]['join'](',\x20'):_0x5a6974(0x4fd);let _0x156f33=![];if(_0x38a6ff==='multiple_choice')_0x156f33=_0x10041e===_0x434f4f[_0x5a6974(0xa18)];else{if(_0x38a6ff===_0x5a6974(0x9c7)){const _0xbbcd95=_0x434f4f[_0x5a6974(0x8cd)];_0x156f33=_0xbbcd95&&_0x10041e===0x0||!_0xbbcd95&&_0x10041e===0x1;}else _0x38a6ff==='matching_item'&&(_0x156f33=_0x182dd7[_0x10041e]===_0x434f4f['correctResponse']);}const _0x352bb1=_0x156f33?'#26890c':'#e21b3c';return _0x5a6974(0x25a)+_0x436972+_0x5a6974(0x1a7)+_0x352bb1+_0x5a6974(0x45b)+_0x10041e+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>'+_0x182dd7[_0x10041e]+_0x5a6974(0xa10)+_0x10041e+_0x5a6974(0x256)+_0x210f4a+_0x5a6974(0x3e4);})[_0x271bcd(0x4ad)]('')+_0x271bcd(0x2d2);liveGameView[_0x271bcd(0x415)]=_0x58188f;if(window['MathJax'])MathJax['typesetPromise']();document[_0x271bcd(0xa9a)](_0x271bcd(0x51a))[_0x271bcd(0x234)]('click',async()=>{const _0x1c1dd8=_0x271bcd,_0x81da6d=doc(db,_0x1c1dd8(0x827)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x81da6d,{'questionStatus':'leaderboard'});}),document[_0x271bcd(0xa9a)](_0x271bcd(0xfc))['addEventListener'](_0x271bcd(0x4be),()=>{openScratchpad(_0x434f4f,_0x182dd7);});}function showPlayerSummaryView(_0xac4464,_0x1e14d0){const _0x1e3ef8=_0x27ad1b,_0x1191d7=Object[_0x1e3ef8(0x989)](_0xac4464['players']||{}),_0x2a7ea2=_0xac4464['players'][_0x1e14d0],_0x2fb969=_0x1191d7['filter'](_0x5690d6=>_0x5690d6[_0x1e3ef8(0xb84)]==='active')[_0x1e3ef8(0xae5)]((_0x369e1e,_0x22e9d1)=>_0x22e9d1[_0x1e3ef8(0x8b3)]-_0x369e1e['score']),_0x3c0751=_0x2fb969[_0x1e3ef8(0x361)](_0x489e28=>_0x489e28===_0x2a7ea2)+0x1,_0x54156e=_0x2a7ea2[_0x1e3ef8(0xad5)]?'ถูกต้อง!':_0x1e3ef8(0xab6),_0x54b4ba=_0x2a7ea2[_0x1e3ef8(0xad5)]?_0x1e3ef8(0x570):'bg-red-500',_0x2cb707=_0x2a7ea2[_0x1e3ef8(0x23f)]||0x0,_0x2044f9=_0x1e3ef8(0x3c7),_0x42f537='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20'+_0x2044f9+_0x1e3ef8(0x3cb)+_0x54b4ba+_0x1e3ef8(0x98f)+_0x54156e+_0x1e3ef8(0xb5d)+_0x2cb707+_0x1e3ef8(0x603)+(_0x3c0751>0x0?_0x3c0751:'-')+_0x1e3ef8(0x724);liveGameView[_0x1e3ef8(0x415)]=_0x42f537;}function createQuizFromBank(){const _0xd441a6=_0x27ad1b,_0x2fb52d=document[_0xd441a6(0x4e0)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x2fb52d[_0xd441a6(0x7dc)]===0x0){showMessage(_0xd441a6(0x2a7));return;}const _0x575a54=[];_0x2fb52d[_0xd441a6(0x50c)](_0x52578c=>{const _0x33ac56=_0xd441a6;_0x575a54[_0x33ac56(0x2b6)](JSON[_0x33ac56(0x327)](_0x52578c[_0x33ac56(0x589)]));});const _0x1760e2={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x575a54};displayGeneratedQuiz(_0x1760e2);}function showAdminLobbyView(_0x13e6cc,_0x4894e7){const _0x79279c=_0x27ad1b;showView(_0x79279c(0xb00));const _0x39ed1d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x4894e7+_0x79279c(0x469)+_0x13e6cc+_0x79279c(0x455);liveGameView[_0x79279c(0x415)]=_0x39ed1d,document[_0x79279c(0xa9a)](_0x79279c(0x935))[_0x79279c(0x234)](_0x79279c(0x4be),async()=>{const _0x12504d=_0x79279c;if(!currentQuizData||!currentQuizData[_0x12504d(0x4aa)]||currentQuizData[_0x12504d(0x4aa)]['length']===0x0){showMessage(_0x12504d(0x4b9));return;}try{const _0x329768=doc(db,_0x12504d(0x827)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x329768,{'status':_0x12504d(0x96c),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x3caa90=currentQuizData[_0x12504d(0x4aa)][0x0],_0x3c4c2a=currentQuizData[_0x12504d(0x4aa)][_0x12504d(0x7dc)];showAdminLiveQuestionView(_0x3caa90,0x0,_0x3c4c2a);}catch(_0x524a55){console[_0x12504d(0x4a0)]('Error\x20starting\x20game:',_0x524a55),showMessage(_0x12504d(0x928));}});}async function openGlobalLiveModal(){const _0x4470cd=_0x27ad1b;if(allQuizzesGlobal['length']===0x0){const _0x431ff2=await getDocs(collection(db,'artifacts/'+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x431ff2[_0x4470cd(0x8e0)][_0x4470cd(0x821)](_0x4309ba=>({'id':_0x4309ba['id'],..._0x4309ba['data']()}));}renderGlobalQuizList(''),document[_0x4470cd(0xa9a)](_0x4470cd(0x743))[_0x4470cd(0x25c)][_0x4470cd(0x525)](_0x4470cd(0x864));}async function openQuizBankModal(){const _0x5e01e7=_0x27ad1b;if(allQuizzesGlobal['length']===0x0){const _0x76e6f6=await getDocs(collection(db,_0x5e01e7(0x827)+appId+_0x5e01e7(0xb2f)));allQuizzesGlobal=_0x76e6f6[_0x5e01e7(0x8e0)][_0x5e01e7(0x821)](_0x18174d=>({'id':_0x18174d['id'],..._0x18174d['data']()}));}renderQuizBankList(''),document[_0x5e01e7(0xa9a)](_0x5e01e7(0x560))[_0x5e01e7(0x25c)][_0x5e01e7(0x525)]('hidden');}function renderQuizBankList(_0x14d073='',_0x5b4c5f=![]){const _0x487efb=_0x27ad1b,_0x1e5724=document[_0x487efb(0xa9a)](_0x487efb(0x734)),_0x124748=_0x14d073['toLowerCase']()[_0x487efb(0x2b0)](),_0x303045=allQuizzesGlobal[_0x487efb(0x821)](_0x3923b9=>({..._0x3923b9,'projectName':allProjects[_0x487efb(0x3d5)](_0x362cfc=>_0x362cfc['id']===_0x3923b9['projectId'])?.['projectName']||'N/A'}))['filter'](_0x5932c9=>(_0x5932c9[_0x487efb(0x21a)]||'')[_0x487efb(0x90c)]()['includes'](_0x124748)||(_0x5932c9[_0x487efb(0x5a8)]||'')[_0x487efb(0x90c)]()[_0x487efb(0x203)](_0x124748)||_0x5932c9['id'][_0x487efb(0x7cb)]()[_0x487efb(0x203)](_0x124748));document[_0x487efb(0xa9a)](_0x487efb(0x81d))[_0x487efb(0xa0d)]='('+_0x303045['length']+_0x487efb(0x4c1),_0x1e5724[_0x487efb(0x415)]=_0x303045[_0x487efb(0x7dc)]?_0x303045[_0x487efb(0x821)](_0x56058a=>{const _0x133036=_0x487efb,_0x50eca2=!_0x5b4c5f?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x56058a['id']+_0x133036(0x8b4)+_0x56058a['id']+'\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x56058a['id']+_0x133036(0x8a7)+_0x56058a['id']+'\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x56058a['id']+_0x133036(0xb60)+_0x56058a['id']+_0x133036(0x1cc)+_0x56058a['topic']+'\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20':'';return _0x133036(0x549)+_0x56058a['id']+_0x133036(0xabc)+(_0x56058a['topic']||_0x133036(0x24e))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x56058a['questions']?.[_0x133036(0x7dc)]||0x0)+'\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20'+_0x56058a[_0x133036(0x5a8)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0x56058a['id']+_0x133036(0x1c4)+_0x50eca2+_0x133036(0xb09);})[_0x487efb(0x4ad)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',!_0x5b4c5f&&(_0x1e5724[_0x487efb(0x4e0)](_0x487efb(0xae4))[_0x487efb(0x50c)](_0xb3bf7=>{const _0x11021a=_0x487efb;_0xb3bf7[_0x11021a(0x234)](_0x11021a(0x4be),()=>{const _0x367d6a=_0x11021a,_0xc30f9=_0xb3bf7['dataset']['id'];document[_0x367d6a(0xa9a)](_0x367d6a(0x560))[_0x367d6a(0x25c)][_0x367d6a(0x2bd)](_0x367d6a(0x864)),showQuizDetailView(_0xc30f9);});}),_0x1e5724[_0x487efb(0x4e0)](_0x487efb(0x489))['forEach'](_0x2926c7=>{const _0x3e56bc=_0x487efb;_0x2926c7[_0x3e56bc(0x234)]('click',_0x503d7c=>{const _0x1118d0=_0x3e56bc;_0x503d7c[_0x1118d0(0x86c)]();const _0x5393cd=_0x2926c7[_0x1118d0(0x9f6)]['id'],_0x8fae6a=allQuizzesGlobal[_0x1118d0(0x3d5)](_0x2fe054=>_0x2fe054['id']===_0x5393cd);_0x8fae6a?(currentQuizData=_0x8fae6a,document[_0x1118d0(0xa9a)](_0x1118d0(0x560))[_0x1118d0(0x25c)]['add'](_0x1118d0(0x864)),startAdminTest()):showMessage(_0x1118d0(0x461));});}),_0x1e5724[_0x487efb(0x4e0)](_0x487efb(0x94d))[_0x487efb(0x50c)](_0x5768ca=>{const _0x4e9a9d=_0x487efb;_0x5768ca[_0x4e9a9d(0x234)]('click',_0x461985=>{const _0x4faa34=_0x4e9a9d;_0x461985[_0x4faa34(0x86c)]();const _0x56541f=_0x5768ca['dataset']['id'],_0x178146=allQuizzesGlobal[_0x4faa34(0x3d5)](_0x4b53b3=>_0x4b53b3['id']===_0x56541f);_0x178146?(document[_0x4faa34(0xa9a)](_0x4faa34(0x560))[_0x4faa34(0x25c)][_0x4faa34(0x2bd)](_0x4faa34(0x864)),handleGenerateParallelFromBank(_0x178146)):showMessage(_0x4faa34(0x461));});}),_0x1e5724[_0x487efb(0x4e0)]('.quiz-bank-present-btn')[_0x487efb(0x50c)](_0x59df80=>{_0x59df80['addEventListener']('click',_0x407a9d=>{const _0x175011=_0x5f3a;_0x407a9d['stopPropagation']();const _0x101ab5=_0x59df80[_0x175011(0x9f6)]['id'],_0x5b577b=allQuizzesGlobal['find'](_0x4d71db=>_0x4d71db['id']===_0x101ab5);_0x5b577b?(document[_0x175011(0xa9a)](_0x175011(0x560))[_0x175011(0x25c)][_0x175011(0x2bd)](_0x175011(0x864)),startPresentation(_0x5b577b)):showMessage(_0x175011(0x461));});}),_0x1e5724[_0x487efb(0x4e0)](_0x487efb(0x4d6))['forEach'](_0x391293=>{const _0x415fc9=_0x487efb;_0x391293[_0x415fc9(0x234)]('click',_0x9224b3=>{const _0x462080=_0x415fc9;_0x9224b3[_0x462080(0x86c)]();const _0x119c6f=_0x391293[_0x462080(0x9f6)]['id'];document[_0x462080(0xa9a)](_0x462080(0x560))[_0x462080(0x25c)][_0x462080(0x2bd)](_0x462080(0x864)),handleMoveQuiz(_0x119c6f);});}),_0x1e5724[_0x487efb(0x4e0)](_0x487efb(0x248))[_0x487efb(0x50c)](_0x32a668=>{const _0x5332d5=_0x487efb;_0x32a668['addEventListener'](_0x5332d5(0x4be),_0x4b0248=>{const _0x5f0c34=_0x5332d5;_0x4b0248['stopPropagation']();const _0x40ad3e=_0x32a668['dataset']['id'];document['getElementById']('quiz-bank-modal')[_0x5f0c34(0x25c)]['add'](_0x5f0c34(0x864)),handleQuizSettings(_0x40ad3e);});}),_0x1e5724['querySelectorAll'](_0x487efb(0x313))[_0x487efb(0x50c)](_0x46cab6=>{const _0x44b0e2=_0x487efb;_0x46cab6['addEventListener'](_0x44b0e2(0x4be),_0x3272f5=>{const _0x3cbbdf=_0x44b0e2;_0x3272f5[_0x3cbbdf(0x86c)]();const _0x2b997c=_0x46cab6[_0x3cbbdf(0x9f6)]['id'],_0x2c2fe8=_0x46cab6[_0x3cbbdf(0x9f6)]['topic'];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x2c2fe8+_0x3cbbdf(0x961),()=>handleDeleteQuiz(_0x2b997c));});}));}async function handleCompareResults(_0x3b0ffe,_0x393641){const _0x3e7245=_0x27ad1b,_0x5f15db=document['getElementById'](_0x3e7245(0xb23)),_0x25c3eb=document[_0x3e7245(0xa9a)](_0x3e7245(0x7d5)),_0x32218d=document['getElementById'](_0x3e7245(0x6e3));document[_0x3e7245(0xa9a)]('comparison-overall-tab')[_0x3e7245(0x25c)][_0x3e7245(0x2bd)]('active'),document[_0x3e7245(0xa9a)]('comparison-individual-tab')[_0x3e7245(0x25c)][_0x3e7245(0x525)]('active'),_0x25c3eb[_0x3e7245(0x25c)]['remove'](_0x3e7245(0x864)),_0x32218d[_0x3e7245(0x25c)][_0x3e7245(0x2bd)](_0x3e7245(0x864)),_0x25c3eb[_0x3e7245(0x415)]='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x32218d['innerHTML']='',_0x5f15db[_0x3e7245(0x25c)][_0x3e7245(0x525)](_0x3e7245(0x864));try{const _0xc9e3c2=doc(db,_0x3e7245(0x827)+appId+'/public/data/quizzes',_0x3b0ffe),_0x4f78fc=await getDoc(_0xc9e3c2);if(!_0x4f78fc[_0x3e7245(0x539)]())throw new Error(_0x3e7245(0x119));const _0x1143d6=_0x4f78fc['data'](),_0x2ff3b1=_0x1143d6[_0x3e7245(0x4aa)][_0x3e7245(0x7dc)],_0x34d4ae=collection(db,_0x3e7245(0x827)+appId+_0x3e7245(0x2c4)+_0x393641+_0x3e7245(0x4d3)),_0x26b1e2=collection(db,_0x3e7245(0x827)+appId+_0x3e7245(0x2c4)+_0x3b0ffe+_0x3e7245(0x4d3)),[_0x5d463a,_0x1cb8d6]=await Promise[_0x3e7245(0xab1)]([getDocs(_0x34d4ae),getDocs(_0x26b1e2)]),_0x45c714=_0x5d463a[_0x3e7245(0x8e0)][_0x3e7245(0x821)](_0x1d4d2f=>_0x1d4d2f[_0x3e7245(0x4b8)]()),_0x1ecfeb=_0x1cb8d6[_0x3e7245(0x8e0)][_0x3e7245(0x821)](_0x5b2e7b=>_0x5b2e7b[_0x3e7245(0x4b8)]()),_0x5f36a3=_0x45c714[_0x3e7245(0x821)](_0x5b2ba2=>_0x5b2ba2['latestScore']),_0x1a586f=_0x1ecfeb['map'](_0x40effc=>_0x40effc[_0x3e7245(0xa17)]),_0x5a800f=calculateMeanAndStdDev(_0x5f36a3),_0x5bcbbe=calculateMeanAndStdDev(_0x1a586f),_0x25b715=_0x5a800f['mean'],_0x5c982d=_0x5bcbbe[_0x3e7245(0x320)],_0x1e92e1=_0x5c982d-_0x25b715;let _0x3de439=_0x3e7245(0x303)+_0x25b715[_0x3e7245(0x32c)](0x2)+_0x3e7245(0x839)+_0x5c982d[_0x3e7245(0x32c)](0x2)+_0x3e7245(0x66a)+(_0x1e92e1>=0x0?_0x3e7245(0x16d):'bg-red-100')+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x1e92e1>=0x0?_0x3e7245(0x8db):_0x3e7245(0x1d3))+_0x3e7245(0x1f7)+(_0x1e92e1>=0x0?'text-emerald-900':_0x3e7245(0x762))+'\x22>'+(_0x1e92e1>=0x0?'+':'')+_0x1e92e1[_0x3e7245(0x32c)](0x2)+_0x3e7245(0x69a);_0x25c3eb[_0x3e7245(0x415)]=_0x3de439;const _0x434f81=document[_0x3e7245(0xa9a)](_0x3e7245(0x878))[_0x3e7245(0xb4b)]('2d');if(chartInstances[_0x3e7245(0xa35)])chartInstances[_0x3e7245(0xa35)][_0x3e7245(0x8e2)]();chartInstances[_0x3e7245(0xa35)]=new Chart(_0x434f81,{'type':_0x3e7245(0x5bb),'data':{'labels':[_0x3e7245(0x60c)],'datasets':[{'label':'ก่อนเรียน','data':[_0x25b715],'backgroundColor':_0x3e7245(0x498)},{'label':_0x3e7245(0x6eb),'data':[_0x5c982d],'backgroundColor':_0x3e7245(0x2fd)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x2ff3b1}}}});const _0xf81f3f=currentProjectData[_0x3e7245(0x161)]||[],_0x5e1f69=_0xf81f3f['map'](_0x472c4d=>{const _0xe0cb03=_0x3e7245,_0x36b91b=_0x45c714[_0xe0cb03(0x3d5)](_0x3c4987=>_0x3c4987[_0xe0cb03(0x8d6)]===_0x472c4d),_0x31c2d5=_0x1ecfeb['find'](_0x23a2a5=>_0x23a2a5[_0xe0cb03(0x8d6)]===_0x472c4d),_0x5108aa=_0x36b91b?_0x36b91b[_0xe0cb03(0xa17)]:null,_0x1bec42=_0x31c2d5?_0x31c2d5[_0xe0cb03(0xa17)]:null,_0x565ab5=_0x5108aa!==null&&_0x1bec42!==null?_0x1bec42-_0x5108aa:null,_0x5cb302=_0x5108aa!==null?calculateZScore(_0x5108aa,_0x5a800f[_0xe0cb03(0x320)],_0x5a800f[_0xe0cb03(0x5a0)]):null,_0x1c778c=_0x1bec42!==null?calculateZScore(_0x1bec42,_0x5bcbbe[_0xe0cb03(0x320)],_0x5bcbbe[_0xe0cb03(0x5a0)]):null,_0x5d0802=_0x5cb302!==null?calculateTScore(_0x5cb302):null,_0x254460=_0x1c778c!==null?calculateTScore(_0x1c778c):null,_0x30ef66=_0x5d0802!==null&&_0x254460!==null?_0x254460-_0x5d0802:null;return{'name':_0x472c4d,'preScore':_0x5108aa,'postScore':_0x1bec42,'gain':_0x565ab5,'preTScore':_0x5d0802,'postTScore':_0x254460,'tGain':_0x30ef66};});renderIndividualComparisonTable(_0x5e1f69,_0x32218d);}catch(_0x5076c9){console[_0x3e7245(0x4a0)](_0x3e7245(0x8a8),_0x5076c9),_0x25c3eb['innerHTML']=_0x3e7245(0x190);}}async function saveBlueprintProject(){const _0x12de0a=_0x27ad1b;if(!extractedBlueprintData||!extractedBlueprintData[_0x12de0a(0x62b)]){showMessage('ไม่พบข้อมูลหัวข้อที่จะบันทึก');return;}const _0x55ab9e=prompt('กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:','Blueprint\x20O-NET\x20ป.6');if(!_0x55ab9e||_0x55ab9e[_0x12de0a(0x2b0)]()==='')return;const _0x248005={};extractedBlueprintData[_0x12de0a(0x62b)][_0x12de0a(0x50c)](_0x5d405d=>{const _0x2986c3=_0x12de0a;_0x5d405d['mainTopics'][_0x2986c3(0x50c)](_0x33f89d=>{const _0x1690ae=_0x2986c3;_0x33f89d[_0x1690ae(0x811)][_0x1690ae(0x50c)](_0x3c33ab=>{const _0x1fcfa7=_0x1690ae,_0x52ddd4=_0x1fcfa7(0x37d)+Date[_0x1fcfa7(0x680)]()+Math[_0x1fcfa7(0x59a)]()['toString'](0x24)['substr'](0x2,0x9);_0x248005[_0x52ddd4]={'sara':_0x5d405d[_0x1fcfa7(0x984)],'mainTopic':_0x33f89d[_0x1fcfa7(0x754)],'subTopic':_0x3c33ab,'status':'not_generated','lessonContent':null};});});});try{const _0x501fac=collection(db,_0x12de0a(0x827)+appId+_0x12de0a(0x65b));await addDoc(_0x501fac,{'projectName':_0x55ab9e[_0x12de0a(0x2b0)](),'gradeLevel':extractedBlueprintData[_0x12de0a(0x5be)],'topics':_0x248005,'createdAt':serverTimestamp()}),showMessage(_0x12de0a(0x36d)+_0x55ab9e[_0x12de0a(0x2b0)]()+_0x12de0a(0x1be)),document[_0x12de0a(0xa9a)](_0x12de0a(0xa28))['classList'][_0x12de0a(0x2bd)](_0x12de0a(0x864));}catch(_0x14b2cf){console[_0x12de0a(0x4a0)]('Error\x20saving\x20blueprint\x20project:',_0x14b2cf),showMessage(_0x12de0a(0x2a5));}}async function showBlueprintProjects(){const _0xa3bee6=_0x27ad1b,_0x51b4ee=document[_0xa3bee6(0xa9a)](_0xa3bee6(0xae0)),_0x383376=document[_0xa3bee6(0xa9a)](_0xa3bee6(0x646));_0x383376[_0xa3bee6(0x415)]=_0xa3bee6(0xa24),_0x51b4ee['classList']['remove'](_0xa3bee6(0x864));try{const _0xebcd46=collection(db,'artifacts/'+appId+_0xa3bee6(0x65b)),_0x5e14eb=await getDocs(_0xebcd46);if(_0x5e14eb[_0xa3bee6(0x454)]){_0x383376[_0xa3bee6(0x415)]=_0xa3bee6(0xb44);return;}const _0x1ebf16=_0x5e14eb['docs'][_0xa3bee6(0x821)](_0x1ccc1b=>({'id':_0x1ccc1b['id'],..._0x1ccc1b[_0xa3bee6(0x4b8)]()}));_0x1ebf16[_0xa3bee6(0xae5)]((_0x4baabd,_0x51c9d3)=>_0x4baabd[_0xa3bee6(0x5a8)][_0xa3bee6(0x423)](_0x51c9d3['projectName'],'th')),_0x383376[_0xa3bee6(0x415)]=_0x1ebf16[_0xa3bee6(0x821)](_0x32f71b=>_0xa3bee6(0x7bf)+_0x32f71b[_0xa3bee6(0x5a8)]+_0xa3bee6(0x53e)+_0x32f71b[_0xa3bee6(0x5be)]+_0xa3bee6(0x165)+Object[_0xa3bee6(0x698)](_0x32f71b['topics'])[_0xa3bee6(0x7dc)]+_0xa3bee6(0x71c)+_0x32f71b['id']+'\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x32f71b['id']+_0xa3bee6(0xa5f))[_0xa3bee6(0x4ad)]('');}catch(_0x1ad935){console[_0xa3bee6(0x4a0)]('Error\x20loading\x20blueprint\x20projects:',_0x1ad935),_0x383376[_0xa3bee6(0x415)]=_0xa3bee6(0x37a);}}async function displayBlueprintProjectManager(_0x4d3d7c){const _0x2d7c46=_0x27ad1b;currentBlueprintProjectId=_0x4d3d7c,document[_0x2d7c46(0xa9a)](_0x2d7c46(0xae0))[_0x2d7c46(0x25c)]['add']('hidden'),showView('admin-dashboard'),projectDashboardView[_0x2d7c46(0x25c)][_0x2d7c46(0x2bd)](_0x2d7c46(0x864));const _0x38927c=document['getElementById'](_0x2d7c46(0x782));_0x38927c[_0x2d7c46(0x25c)][_0x2d7c46(0x525)](_0x2d7c46(0x864)),document[_0x2d7c46(0xa9a)]('bp-topic-list-container')[_0x2d7c46(0x415)]=_0x2d7c46(0x76d);try{const _0x213638=doc(db,'artifacts/'+appId+_0x2d7c46(0x65b),_0x4d3d7c),_0x3fb3e9=await getDoc(_0x213638);if(!_0x3fb3e9[_0x2d7c46(0x539)]())throw new Error(_0x2d7c46(0x40a));const _0x204d9d={'id':_0x3fb3e9['id'],..._0x3fb3e9[_0x2d7c46(0x4b8)]()};document[_0x2d7c46(0xa9a)](_0x2d7c46(0xaf3))[_0x2d7c46(0xa0d)]=_0x204d9d['projectName'],renderBlueprintTopicManager(_0x204d9d);}catch(_0x5d29c3){console['error'](_0x2d7c46(0x123),_0x5d29c3),showMessage(_0x5d29c3[_0x2d7c46(0x5a6)]),showView(_0x2d7c46(0x51f));}}function renderBlueprintTopicManager(_0x320b6c){const _0xcbc42f=_0x27ad1b,_0x43067=document[_0xcbc42f(0xa9a)](_0xcbc42f(0x1b1)),_0x3140e3=_0x320b6c[_0xcbc42f(0x580)]||{};if(Object['keys'](_0x3140e3)[_0xcbc42f(0x7dc)]===0x0){_0x43067[_0xcbc42f(0x415)]=_0xcbc42f(0x216);return;}const _0x386aee={};for(const _0x3b2a33 in _0x3140e3){const _0x261b29={'id':_0x3b2a33,..._0x3140e3[_0x3b2a33]};_0x386aee[_0x261b29[_0xcbc42f(0x984)]]=_0x386aee[_0x261b29[_0xcbc42f(0x984)]]||{},_0x386aee[_0x261b29['sara']][_0x261b29[_0xcbc42f(0x1d1)]]=_0x386aee[_0x261b29[_0xcbc42f(0x984)]][_0x261b29['mainTopic']]||[],_0x386aee[_0x261b29[_0xcbc42f(0x984)]][_0x261b29[_0xcbc42f(0x1d1)]][_0xcbc42f(0x2b6)](_0x261b29);}let _0x15e8e6='';const _0x5765a6=Object[_0xcbc42f(0x698)](_0x386aee)[_0xcbc42f(0xae5)]((_0x250883,_0xcca8af)=>_0x250883[_0xcbc42f(0x423)](_0xcca8af,'th'));for(const _0x4efec7 of _0x5765a6){_0x15e8e6+=_0xcbc42f(0x3be)+_0x4efec7+'</h4>';const _0x39f30f=Object['keys'](_0x386aee[_0x4efec7])[_0xcbc42f(0xae5)]((_0x4e385f,_0x22603b)=>_0x4e385f[_0xcbc42f(0x423)](_0x22603b,'th'));for(const _0x35effe of _0x39f30f){_0x15e8e6+=_0xcbc42f(0x204)+_0x35effe+'</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x386aee[_0x4efec7][_0x35effe]['sort']((_0x30fce3,_0x976314)=>_0x30fce3[_0xcbc42f(0x84b)]['localeCompare'](_0x976314[_0xcbc42f(0x84b)],'th')),_0x386aee[_0x4efec7][_0x35effe][_0xcbc42f(0x50c)](_0x25cfc7=>{const _0x380602=_0xcbc42f,_0x1aca00=_0x25cfc7['id'],_0x33edd7=_0x25cfc7['linkedQuizIds']||[],_0x16022e=_0x33edd7[_0x380602(0x7dc)]>0x0,_0x2f4b1b=_0x25cfc7[_0x380602(0xb84)]===_0x380602(0x61d);let _0x4761dd='';_0x16022e?_0x4761dd=_0x380602(0x15e)+_0x33edd7[_0x380602(0x7dc)]+_0x380602(0x49d):_0x4761dd=_0x380602(0x957)+(_0x2f4b1b?_0x380602(0x616):_0x380602(0x8d8))+'\x22>'+(_0x2f4b1b?_0x380602(0x213):_0x380602(0x860))+'</span>';const _0x4f8931=!_0x2f4b1b?'disabled\x20bg-gray-400\x20cursor-not-allowed':'',_0x262e24=!_0x2f4b1b?'กรุณาสร้างบทเรียนก่อน':'';let _0x4208d5=_0x2f4b1b?_0x380602(0x54f):_0x380602(0x74a);_0x15e8e6+=_0x380602(0x805)+_0x1aca00+_0x380602(0xa69)+_0x25cfc7['subTopic']+_0x380602(0x76f)+_0x4761dd+_0x380602(0x445)+_0x4f8931+'\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20'+_0x262e24+_0x380602(0x7ec)+_0x4208d5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x15e8e6+=_0xcbc42f(0x93b);}_0x15e8e6+=_0xcbc42f(0xac7);}_0x43067['innerHTML']=_0x15e8e6;}async function openTopicQuizBank(_0x3faf87){const _0x3ff039=_0x27ad1b,_0x1c56f7=document[_0x3ff039(0xa9a)]('topic-quiz-bank-modal'),_0x5b0dc3=document[_0x3ff039(0xa9a)](_0x3ff039(0x684)),_0x11875b=document[_0x3ff039(0xa9a)](_0x3ff039(0x8f5));try{await ensureGlobalQuizzesLoaded();const _0x3eaa7a=doc(db,'artifacts/'+appId+_0x3ff039(0x65b),currentBlueprintProjectId),_0x244855=await getDoc(_0x3eaa7a);if(!_0x244855[_0x3ff039(0x539)]())return;const _0x73966d=_0x244855[_0x3ff039(0x4b8)](),_0x398379=_0x73966d['topics'][_0x3faf87];document['getElementById'](_0x3ff039(0xb3e))[_0x3ff039(0xa0d)]=_0x398379[_0x3ff039(0x84b)];const _0x4edd73=_0x398379[_0x3ff039(0x44c)]||[];_0x11875b['classList']['toggle'](_0x3ff039(0x864),_0x4edd73[_0x3ff039(0x7dc)]===0x0),_0x11875b[_0x3ff039(0x710)]=()=>handleClearAllLinksForTopic(_0x3faf87);if(_0x4edd73['length']===0x0)_0x5b0dc3['innerHTML']=_0x3ff039(0xb6c);else{const _0x1d1c95=allQuizzesGlobal[_0x3ff039(0x558)](_0x4baba3=>_0x4edd73['includes'](_0x4baba3['id']));_0x5b0dc3[_0x3ff039(0x415)]=_0x1d1c95[_0x3ff039(0x821)](_0x2ad83c=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22'+_0x2ad83c['id']+_0x3ff039(0x7db)+_0x2ad83c[_0x3ff039(0x21a)]+_0x3ff039(0xb26)+_0x2ad83c['id']+_0x3ff039(0x165)+_0x2ad83c[_0x3ff039(0x4aa)][_0x3ff039(0x7dc)]+_0x3ff039(0x72c)+_0x2ad83c['id']+'\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2ad83c['id']+_0x3ff039(0x4bd)+_0x2ad83c['id']+_0x3ff039(0x938)+_0x2ad83c['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2ad83c['id']+_0x3ff039(0x443)+_0x2ad83c['id']+_0x3ff039(0x34b)+_0x3faf87+_0x3ff039(0x706)+_0x2ad83c['id']+_0x3ff039(0xaad))[_0x3ff039(0x4ad)]('');}document[_0x3ff039(0xa9a)](_0x3ff039(0xa81))['onclick']=()=>{openQuizSelectorForBlueprint(_0x3faf87);},document['getElementById'](_0x3ff039(0x679))[_0x3ff039(0x710)]=()=>_0x1c56f7[_0x3ff039(0x25c)][_0x3ff039(0x2bd)](_0x3ff039(0x864)),_0x1c56f7[_0x3ff039(0x25c)][_0x3ff039(0x525)](_0x3ff039(0x864));}catch(_0x43f1a0){showMessage(_0x43f1a0['message']);}}async function openQuizSelectorForBlueprint(_0x2a4896){const _0x5787df=_0x27ad1b,_0x3ddf3b=document[_0x5787df(0xa9a)](_0x5787df(0x560)),_0x2cb4d5=document[_0x5787df(0xa9a)](_0x5787df(0x280));_0x2cb4d5[_0x5787df(0x25c)][_0x5787df(0x2bd)]('hidden'),document[_0x5787df(0xa9a)](_0x5787df(0x981))?.[_0x5787df(0x525)]();const _0x41dcbd=document['createElement']('button');_0x41dcbd['id']=_0x5787df(0x981),_0x41dcbd[_0x5787df(0x4f1)]='bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400',_0x41dcbd['textContent']=_0x5787df(0x407),_0x41dcbd[_0x5787df(0xb12)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x3ddf3b[_0x5787df(0x25c)]['remove'](_0x5787df(0x864)),renderQuizBankListForMultiSelect(''),document[_0x5787df(0xa9a)](_0x5787df(0x19f))[_0x5787df(0x8f0)][_0x5787df(0x42c)]=_0x5787df(0x49f),_0x3ddf3b[_0x5787df(0x46b)](_0x5787df(0x618))[_0x5787df(0x59e)](_0x41dcbd);const _0x3a95b0=(_0x103fec=![])=>{const _0x25d790=_0x5787df;_0x3ddf3b['classList'][_0x25d790(0x2bd)](_0x25d790(0x864)),document[_0x25d790(0xa9a)](_0x25d790(0x19f))[_0x25d790(0x8f0)]['display']=_0x25d790(0xb68),_0x41dcbd[_0x25d790(0x525)](),_0x103fec&&openTopicQuizBank(_0x2a4896);};_0x41dcbd['onclick']=async()=>{const _0x1f0286=_0x5787df,_0x2983f3=Array[_0x1f0286(0x39f)](document[_0x1f0286(0x4e0)](_0x1f0286(0x807)))[_0x1f0286(0x821)](_0x4efd56=>_0x4efd56[_0x1f0286(0x589)]);if(_0x2983f3[_0x1f0286(0x7dc)]===0x0)return;try{const _0x111ae2=doc(db,_0x1f0286(0x827)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x4ba6df=(await getDoc(_0x111ae2))['data'](),_0x4852d2=_0x4ba6df[_0x1f0286(0x580)][_0x2a4896]['linkedQuizIds']||[],_0x1c3a65=[...new Set([..._0x4852d2,..._0x2983f3])];await updateDoc(_0x111ae2,{['topics.'+_0x2a4896+_0x1f0286(0x33d)]:_0x1c3a65}),showMessage(_0x1f0286(0x8bd)+_0x2983f3[_0x1f0286(0x7dc)]+_0x1f0286(0x57c)),_0x3a95b0(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4dc2b4){console[_0x1f0286(0x4a0)](_0x1f0286(0x319),_0x4dc2b4);}},document[_0x5787df(0xa9a)](_0x5787df(0xb20))[_0x5787df(0x710)]=()=>_0x3a95b0(!![]);}catch(_0x19cd6a){showMessage(_0x19cd6a['message']),_0x2cb4d5[_0x5787df(0x25c)][_0x5787df(0x525)](_0x5787df(0x864));}}function handleClearLinkedQuiz(_0x33c7b0){showConfirmation('คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?',async()=>{const _0x5dd0c1=_0x5f3a;try{const _0x5b64c2=doc(db,_0x5dd0c1(0x827)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x5b64c2,{[_0x5dd0c1(0x35b)+_0x33c7b0+_0x5dd0c1(0x97c)]:deleteField()}),showMessage('ยกเลิกการเชื่อมโยงสำเร็จ'),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2a08e8){console[_0x5dd0c1(0x4a0)](_0x5dd0c1(0x175),_0x2a08e8),showMessage(_0x5dd0c1(0xabd));}});}async function addTopicToProject(){const _0x602611=_0x27ad1b,_0x30323a=prompt('กรุณาป้อนชื่อหัวข้อย่อยใหม่:');if(!_0x30323a||_0x30323a[_0x602611(0x2b0)]()==='')return;const _0x1c8886=prompt(_0x602611(0x664),'สาระที่\x201'),_0x344f49=prompt(_0x602611(0xb04),_0x602611(0x9f4)),_0x625188=_0x602611(0x37d)+Date[_0x602611(0x680)]()+Math['random']()[_0x602611(0x7cb)](0x24)[_0x602611(0x64c)](0x2,0x9),_0x18da82={'sara':_0x1c8886,'mainTopic':_0x344f49,'subTopic':_0x30323a['trim'](),'status':_0x602611(0x7ba),'lessonContent':null};try{const _0x2d022a=doc(db,_0x602611(0x827)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x2d022a,{['topics.'+_0x625188]:_0x18da82}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4f019f){console[_0x602611(0x4a0)](_0x602611(0x5e9),_0x4f019f),showMessage(_0x602611(0x5ff));}}async function editTopicInProject(_0x18dc69){const _0x113e48=_0x27ad1b,_0x10fd2d=document[_0x113e48(0x46b)]('[data-topic-id=\x22'+_0x18dc69+'\x22]'),_0x387cdb=_0x10fd2d['querySelector'](_0x113e48(0x612)),_0x2a513a=_0x387cdb[_0x113e48(0xa0d)],_0x5044bf=prompt(_0x113e48(0x1a2),_0x2a513a);if(!_0x5044bf||_0x5044bf['trim']()===''||_0x5044bf[_0x113e48(0x2b0)]()===_0x2a513a)return;try{const _0x378123=doc(db,_0x113e48(0x827)+appId+_0x113e48(0x65b),currentBlueprintProjectId);await updateDoc(_0x378123,{[_0x113e48(0x35b)+_0x18dc69+'.subTopic']:_0x5044bf[_0x113e48(0x2b0)]()}),_0x387cdb[_0x113e48(0xa0d)]=_0x5044bf[_0x113e48(0x2b0)](),showMessage(_0x113e48(0x104));}catch(_0xf1a4e8){console[_0x113e48(0x4a0)](_0x113e48(0xa8c),_0xf1a4e8),showMessage(_0x113e48(0x8d7));}}async function deleteTopicFromProject(_0x38f55f){const _0x2ea11f=_0x27ad1b;if(!confirm(_0x2ea11f(0x888)))return;try{const _0x43e553=doc(db,_0x2ea11f(0x827)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x43e553,{[_0x2ea11f(0x35b)+_0x38f55f]:deleteField()}),document[_0x2ea11f(0x46b)](_0x2ea11f(0xa7b)+_0x38f55f+'\x22]')[_0x2ea11f(0x525)](),showMessage(_0x2ea11f(0x829));}catch(_0x2e222d){console[_0x2ea11f(0x4a0)](_0x2ea11f(0x68a),_0x2e222d),showMessage(_0x2ea11f(0x2ad));}}async function generateAndSaveLessonForBlueprint(_0x58860a,_0x343d62,_0x348b40){handleGenerateAndShowLesson(_0x343d62,_0x348b40);const _0x441d9f=setInterval(async()=>{const _0x219f4f=_0x5f3a,_0x4fe3c1=document[_0x219f4f(0xa9a)](_0x219f4f(0x964)),_0x5e8b56=_0x4fe3c1[_0x219f4f(0x25c)]['contains'](_0x219f4f(0x864));if(_0x5e8b56){clearInterval(_0x441d9f);if(currentApplicationData&&currentApplicationData[_0x219f4f(0x7dc)]>0x0){const _0x32506c={'point':document[_0x219f4f(0xa9a)]('pointContent')['innerHTML'],'memory':document['getElementById'](_0x219f4f(0x3ca))[_0x219f4f(0x415)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document['getElementById']('summaryContent')[_0x219f4f(0x415)]};try{const _0x29f4a6=doc(db,_0x219f4f(0x827)+appId+_0x219f4f(0x65b),currentBlueprintProjectId);await updateDoc(_0x29f4a6,{[_0x219f4f(0x35b)+_0x58860a+_0x219f4f(0x44a)]:_0x32506c,[_0x219f4f(0x35b)+_0x58860a+_0x219f4f(0x46a)]:_0x219f4f(0x61d)}),console['log'](_0x219f4f(0x74b)+_0x58860a+_0x219f4f(0x42e)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x11fcf2){console[_0x219f4f(0x4a0)](_0x219f4f(0xaf4),_0x11fcf2);}}}},0x3e8);}function displayHalfMarkResult(_0x2d6394,_0x4965e0){const _0x23580d=_0x27ad1b,_0x175347=_0x2d6394>=_0x4965e0/0x2,_0x565491=_0x175347?_0x23580d(0x8b5):_0x23580d(0x808),_0x573ec1=_0x175347?'<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x58fbed=_0x175347?_0x23580d(0x2c6):'text-red-800',_0x44382c=_0x175347?_0x23580d(0x6e9):_0x23580d(0x894),_0x2f3521=_0x175347?'ยอดเยี่ยม!':'สู้ๆ\x20ลองอีกครั้งนะ';let _0x2aefa6=_0x23580d(0x453)+_0x565491+_0x23580d(0x40b)+_0x573ec1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x58fbed+'\x20mb-2\x22>'+_0x44382c+_0x23580d(0x561)+_0x2f3521+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x23580d(0x415)]=_0x2aefa6,studentResultArea[_0x23580d(0x25c)]['remove']('hidden'),studentQuizArea[_0x23580d(0x25c)][_0x23580d(0x2bd)](_0x23580d(0x864)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x175347});}function displayPerfectScoreResult(_0x541591,_0x24e5aa){const _0x49ec04=_0x27ad1b,_0x21387b=_0x541591===_0x24e5aa,_0x32ac25=_0x21387b?_0x49ec04(0xae9):_0x49ec04(0x624),_0x52656e=_0x21387b?'<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>':'<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>',_0x5e01d0=_0x21387b?_0x49ec04(0x100):_0x49ec04(0x405),_0x2d21b2=_0x21387b?'คะแนนเต็ม!':_0x49ec04(0x631),_0x1a4388=_0x21387b?_0x49ec04(0xa2f):_0x49ec04(0xae2);let _0x3fda3c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20'+_0x32ac25+_0x49ec04(0x40b)+_0x52656e+_0x49ec04(0x546)+_0x5e01d0+'\x20mb-2\x22>'+_0x2d21b2+_0x49ec04(0x561)+_0x1a4388+_0x49ec04(0x5d5);studentResultArea[_0x49ec04(0x415)]=_0x3fda3c,studentResultArea[_0x49ec04(0x25c)][_0x49ec04(0x525)](_0x49ec04(0x864)),studentQuizArea[_0x49ec04(0x25c)][_0x49ec04(0x2bd)](_0x49ec04(0x864)),setupResultScreenBackButton({'showRankings':![],'score':_0x541591,'totalQuestions':_0x24e5aa});}function renderIndividualComparisonTable(_0x34d312,_0x3d281a){const _0x4f80c6=_0x27ad1b;_0x34d312[_0x4f80c6(0xae5)]((_0x6633f9,_0x1361db)=>(_0x1361db[_0x4f80c6(0x6f6)]??-Infinity)-(_0x6633f9[_0x4f80c6(0x6f6)]??-Infinity));let _0x20dd14=_0x4f80c6(0x9e2);_0x34d312['length']===0x0?_0x20dd14+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x34d312[_0x4f80c6(0x50c)]((_0x12917e,_0x41ec6d)=>{const _0x4d7360=_0x4f80c6;let _0x3aa2bc='-',_0x1175ec='';if(_0x12917e[_0x4d7360(0xac3)]!==null){const _0x13628d=_0x12917e['gain']>0x0?_0x4d7360(0xfb):_0x12917e['gain']<0x0?_0x4d7360(0x384):_0x4d7360(0x2ca),_0x4e7ac6=_0x12917e['gain']>0x0?'+':'';_0x3aa2bc=_0x4d7360(0x136)+_0x13628d+'\x22>'+_0x4e7ac6+_0x12917e[_0x4d7360(0xac3)]+'</span>';if(_0x12917e[_0x4d7360(0xac3)]>0x0)_0x1175ec=_0x4d7360(0x347);else _0x12917e[_0x4d7360(0xac3)]<0x0?_0x1175ec=_0x4d7360(0x677):_0x1175ec=_0x4d7360(0x8d1);}let _0x4532fd='-';if(_0x12917e['tGain']!==null){const _0x525afd=_0x12917e['tGain']>0x0?_0x4d7360(0xfb):_0x12917e[_0x4d7360(0x6f6)]<0x0?_0x4d7360(0x384):_0x4d7360(0x2ca),_0x4c278c=_0x12917e[_0x4d7360(0x6f6)]>0x0?'+':'';_0x4532fd=_0x4d7360(0x136)+_0x525afd+'\x22>'+_0x4c278c+_0x12917e[_0x4d7360(0x6f6)]['toFixed'](0x2)+_0x4d7360(0x5bd);}_0x20dd14+=_0x4d7360(0x1cb)+(_0x41ec6d+0x1)+_0x4d7360(0x3c4)+_0x12917e[_0x4d7360(0x352)]+_0x4d7360(0x847)+(_0x12917e['preScore']??'-')+_0x4d7360(0xb98)+(_0x12917e[_0x4d7360(0x4b5)]??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x3aa2bc+_0x4d7360(0x834)+_0x1175ec+_0x4d7360(0x730)+(_0x12917e[_0x4d7360(0x6b9)]?.['toFixed'](0x2)??'-')+_0x4d7360(0x688)+(_0x12917e[_0x4d7360(0x3b7)]?.[_0x4d7360(0x32c)](0x2)??'-')+_0x4d7360(0x847)+_0x4532fd+_0x4d7360(0x9b5);}),_0x20dd14+=_0x4f80c6(0x2c2),_0x3d281a[_0x4f80c6(0x415)]=_0x20dd14;}function handleRenameQuiz(_0x82f3b1,_0x3430e1){const _0x5e38ab=_0x27ad1b;actionTargetId=_0x82f3b1,document[_0x5e38ab(0xa9a)](_0x5e38ab(0x30f))[_0x5e38ab(0x589)]=_0x3430e1,renameQuizModal[_0x5e38ab(0x25c)][_0x5e38ab(0x525)](_0x5e38ab(0x864));}function setupComparisonModalTabs(){const _0x3c09a9=_0x27ad1b,_0x2a76f2=document[_0x3c09a9(0xa9a)]('comparison-overall-tab'),_0x6af8c7=document['getElementById'](_0x3c09a9(0xb78)),_0x164019=document['getElementById'](_0x3c09a9(0x7d5)),_0x17bb80=document[_0x3c09a9(0xa9a)](_0x3c09a9(0x6e3));_0x2a76f2[_0x3c09a9(0x234)](_0x3c09a9(0x4be),()=>{const _0x3c9788=_0x3c09a9;_0x2a76f2['classList'][_0x3c9788(0x2bd)]('active'),_0x6af8c7[_0x3c9788(0x25c)]['remove'](_0x3c9788(0x3cc)),_0x164019[_0x3c9788(0x25c)][_0x3c9788(0x525)](_0x3c9788(0x864)),_0x17bb80['classList'][_0x3c9788(0x2bd)](_0x3c9788(0x864));}),_0x6af8c7[_0x3c09a9(0x234)](_0x3c09a9(0x4be),()=>{const _0x29db9e=_0x3c09a9;_0x6af8c7[_0x29db9e(0x25c)][_0x29db9e(0x2bd)](_0x29db9e(0x3cc)),_0x2a76f2[_0x29db9e(0x25c)][_0x29db9e(0x525)]('active'),_0x17bb80['classList'][_0x29db9e(0x525)](_0x29db9e(0x864)),_0x164019['classList'][_0x29db9e(0x2bd)](_0x29db9e(0x864));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x4e2751=''){const _0x5084bf=_0x27ad1b,_0x6af582=document[_0x5084bf(0xa9a)](_0x5084bf(0x4cc)),_0x488bba=_0x4e2751[_0x5084bf(0x90c)]()['trim'](),_0x20c9e1=allQuizzesGlobal[_0x5084bf(0x821)](_0x422076=>({..._0x422076,'projectName':allProjects['find'](_0x281a55=>_0x281a55['id']===_0x422076[_0x5084bf(0x35a)])?.[_0x5084bf(0x5a8)]||_0x422076['projectId']}))[_0x5084bf(0x558)](_0x12d9c5=>(_0x12d9c5[_0x5084bf(0x21a)]||'')[_0x5084bf(0x90c)]()['includes'](_0x488bba)||(_0x12d9c5[_0x5084bf(0x5a8)]||'')[_0x5084bf(0x90c)]()[_0x5084bf(0x203)](_0x488bba));document[_0x5084bf(0xa9a)](_0x5084bf(0xb39))[_0x5084bf(0xa0d)]='('+_0x20c9e1[_0x5084bf(0x7dc)]+_0x5084bf(0x4c1),_0x6af582[_0x5084bf(0x415)]=_0x20c9e1['length']?_0x20c9e1['map'](_0x166b51=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x166b51['id']+_0x5084bf(0x70a)+(_0x166b51[_0x5084bf(0x21a)]||_0x5084bf(0x24e))+_0x5084bf(0x459)+(_0x166b51[_0x5084bf(0x4aa)]?.['length']||0x0)+_0x5084bf(0x2f2)+_0x166b51[_0x5084bf(0x5a8)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20')['join'](''):'<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',selectedGlobalQuizId=null,document[_0x5084bf(0xa9a)]('confirm-global-live-btn')[_0x5084bf(0xb12)]=!![],_0x6af582[_0x5084bf(0x4e0)](_0x5084bf(0x227))[_0x5084bf(0x50c)](_0x4d2b08=>{const _0x5c1bad=_0x5084bf;_0x4d2b08[_0x5c1bad(0x234)](_0x5c1bad(0x4be),()=>{const _0x48a574=_0x5c1bad;selectedGlobalQuizId=_0x4d2b08[_0x48a574(0x9f6)]['id'],_0x6af582[_0x48a574(0x4e0)](_0x48a574(0x207))[_0x48a574(0x50c)](_0x28805e=>_0x28805e[_0x48a574(0x25c)][_0x48a574(0x525)](_0x48a574(0x36b),_0x48a574(0x8ea),_0x48a574(0x24c))),_0x4d2b08['classList']['add'](_0x48a574(0x36b),_0x48a574(0x8ea),'ring-purple-400'),document[_0x48a574(0xa9a)]('confirm-global-live-btn')[_0x48a574(0xb12)]=![];});});}function listenForLiveGameUpdates(){if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x3d33fe=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3d33fe,_0x3f466b=>{const _0xcc3964=_0x5f3a;if(!_0x3f466b[_0xcc3964(0x539)]()){showMessage(_0xcc3964(0x4ed));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0xcc3964(0x638)?showView(_0xcc3964(0x242)):showView(_0xcc3964(0x21f));return;}const _0x3df658=_0x3f466b[_0xcc3964(0x4b8)]();_0x3df658['shuffledQuiz']&&(currentQuizData=_0x3df658['shuffledQuiz']);!currentQuizData&&_0x3df658[_0xcc3964(0x65d)]&&((async()=>{const _0x3c2fb6=_0xcc3964;try{const _0x4c24bf=doc(db,_0x3c2fb6(0x827)+appId+'/public/data/quizzes',_0x3df658[_0x3c2fb6(0x65d)]),_0x4df5d6=await getDoc(_0x4c24bf);_0x4df5d6[_0x3c2fb6(0x539)]()&&(currentQuizData={'id':_0x4df5d6['id'],..._0x4df5d6[_0x3c2fb6(0x4b8)]()});}catch(_0x43c0ac){console[_0x3c2fb6(0x4a0)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0x43c0ac);}})());switch(_0x3df658['status']){case _0xcc3964(0x557):if(currentMode===_0xcc3964(0x638)){const _0x49f57d=_0x3df658[_0xcc3964(0x7af)]?Object[_0xcc3964(0x5d9)](_0x3df658[_0xcc3964(0x7af)]):[],_0x3722c9=_0x49f57d[_0xcc3964(0x558)](([_0x3213c0,_0x25a9f9])=>_0x25a9f9[_0xcc3964(0xb84)]===_0xcc3964(0x3cc)),_0x188775=document['getElementById'](_0xcc3964(0x9a6));if(_0x188775)_0x188775['textContent']=_0x3722c9[_0xcc3964(0x7dc)];const _0x10e48b=document[_0xcc3964(0xa9a)](_0xcc3964(0x6c7));_0x10e48b&&(_0x10e48b[_0xcc3964(0x415)]=_0x3722c9[_0xcc3964(0x821)](([_0x27d7d6,_0x581080])=>_0xcc3964(0x18e)+_0x27d7d6+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x27d7d6+_0xcc3964(0x15f))[_0xcc3964(0x4ad)](''));const _0x548740=document[_0xcc3964(0xa9a)](_0xcc3964(0x935));_0x548740&&(_0x548740[_0xcc3964(0xb12)]=_0x3722c9[_0xcc3964(0x7dc)]===0x0);}else showView(_0xcc3964(0xb00)),liveGameView['innerHTML']='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+_0xcc3964(0x674);break;case _0xcc3964(0x96c):const _0x21f35e=_0x3df658['currentQuestionIndex'];if(currentQuizData&&currentQuizData[_0xcc3964(0x4aa)][_0x21f35e]){const _0x2139b0=currentQuizData[_0xcc3964(0x4aa)][_0x21f35e],_0x1fcf8b=_0x3df658['questionStatus']||_0xcc3964(0x33f);switch(_0x1fcf8b){case _0xcc3964(0x639):currentMode===_0xcc3964(0x638)?showAdminSummaryView(_0x3df658,_0x2139b0):showPlayerSummaryView(_0x3df658,currentStudentName);break;case _0xcc3964(0x2c1):currentMode===_0xcc3964(0x638)&&showTop5LeaderboardView(_0x3df658);break;case _0xcc3964(0x33f):default:if(currentMode==='admin'){const _0x4c4a41=writeBatch(db);let _0x105d58=![];Object['entries'](_0x3df658['players'])[_0xcc3964(0x50c)](([_0x26547d,_0x19dba6])=>{const _0x10b557=_0xcc3964;if(_0x19dba6[_0x10b557(0xb84)]===_0x10b557(0x3cc)&&_0x19dba6[_0x10b557(0x321)]&&!_0x19dba6[_0x10b557(0x564)]){_0x105d58=!![];const _0x2bbb47=_0x19dba6[_0x10b557(0x321)][_0x10b557(0x1aa)]()-_0x3df658['questionDisplayedAt'][_0x10b557(0x1aa)]();let _0x4f7572=0x0;if(_0x19dba6[_0x10b557(0xad5)]){const _0x30bdcb=0x3e8,_0x3a8a68=0x1f4,_0x28ded2=0x4e20;let _0x32c08b=_0x2bbb47/_0x28ded2;if(_0x32c08b>0x1)_0x32c08b=0x1;const _0x4af638=Math[_0x10b557(0x846)](_0x32c08b*_0x3a8a68);_0x4f7572=_0x30bdcb-_0x4af638;}const _0x8545c9=doc(db,_0x10b557(0x827)+appId+_0x10b557(0x3d2),currentLiveGameId);_0x4c4a41[_0x10b557(0x8f4)](_0x8545c9,{['players.'+_0x26547d+_0x10b557(0x88c)]:increment(_0x4f7572),[_0x10b557(0x655)+_0x26547d+_0x10b557(0x8e3)]:_0x4f7572,['players.'+_0x26547d+_0x10b557(0x7e1)]:!![]});}});_0x105d58&&_0x4c4a41['commit']()[_0xcc3964(0x1e1)](_0x17ebba=>console['error'](_0xcc3964(0x5fd),_0x17ebba));lastRenderedAdminQuestionIndex!==_0x21f35e&&(showAdminLiveQuestionView(_0x2139b0,_0x21f35e,currentQuizData[_0xcc3964(0x4aa)]['length']),lastRenderedAdminQuestionIndex=_0x21f35e);const _0x28f34e=_0x3df658[_0xcc3964(0x7af)]||{},_0x4ea64a=Object['values'](_0x28f34e)[_0xcc3964(0x558)](_0x63524f=>_0x63524f['status']===_0xcc3964(0x3cc)),_0x2bf735=_0x4ea64a[_0xcc3964(0x7dc)],_0x39ee76=_0x4ea64a[_0xcc3964(0x558)](_0x24316e=>_0x24316e['answeredCurrentQuestion']===!![])['length'],_0x1f9458=document[_0xcc3964(0xa9a)](_0xcc3964(0xb25));if(_0x1f9458)_0x1f9458[_0xcc3964(0xa0d)]=_0x39ee76+'/'+_0x2bf735;const _0x493752=document[_0xcc3964(0xa9a)](_0xcc3964(0x4d0));if(_0x493752){let _0x3e9cdc=Object['entries'](_0x28f34e)[_0xcc3964(0x558)](([_0x460c24,_0x1a572a])=>_0x1a572a[_0xcc3964(0xb84)]===_0xcc3964(0x3cc))['map'](([_0x254a5d,_0x47b462])=>{const _0x19c6a9=_0xcc3964,_0x1c157f=_0x47b462[_0x19c6a9(0x9d0)]===!![],_0x1295e2=_0x1c157f?'bg-green-500':'bg-gray-500',_0xaddfc8=_0x1c157f?_0x19c6a9(0x882):'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return _0x19c6a9(0x297)+_0x1295e2+_0x19c6a9(0x243)+_0xaddfc8+_0x19c6a9(0x2aa)+_0x254a5d+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22'+_0x254a5d+_0x19c6a9(0x902);})['join']('');_0x493752[_0xcc3964(0x415)]=_0x3e9cdc||_0xcc3964(0x10d);}_0x2bf735>0x0&&_0x39ee76===_0x2bf735&&revealAnswerForAdmin(_0x21f35e,currentQuizData[_0xcc3964(0x4aa)][_0xcc3964(0x7dc)]);}else{const _0x38c654=_0x3df658[_0xcc3964(0x7af)][currentStudentName];_0x38c654&&!_0x38c654[_0xcc3964(0x9d0)]&&showStudentLiveQuestionView(_0x2139b0,_0x21f35e,currentQuizData['questions'][_0xcc3964(0x7dc)]);}break;}}break;case'podium':showPodiumView(_0x3df658[_0xcc3964(0x7af)],_0xcc3964(0xb1d));break;}});}async function handleKickPlayer(_0x382566){const _0x7081c2=_0x27ad1b;if(!currentLiveGameId||!_0x382566)return;const _0x4cd433=doc(db,_0x7081c2(0x827)+appId+_0x7081c2(0x3d2),currentLiveGameId),_0x384587={};_0x384587[_0x7081c2(0x655)+_0x382566+_0x7081c2(0x46a)]='inactive';try{await updateDoc(_0x4cd433,_0x384587);}catch(_0x21f75c){console[_0x7081c2(0x4a0)]('Failed\x20to\x20kick\x20player\x20'+_0x382566+':',_0x21f75c),showMessage(_0x7081c2(0x86a));}}async function authenticateUser(){const _0xa37a1e=_0x27ad1b;try{typeof __initial_auth_token!=='undefined'&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x1bea1c){console[_0xa37a1e(0x4a0)](_0xa37a1e(0x6ea),_0x1bea1c),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x1c4db1){const _0x4b0d19=_0x27ad1b;adminView[_0x4b0d19(0x25c)][_0x4b0d19(0x2bd)](_0x4b0d19(0x864)),studentView[_0x4b0d19(0x25c)][_0x4b0d19(0x2bd)](_0x4b0d19(0x864)),projectDashboardView[_0x4b0d19(0x25c)]['add'](_0x4b0d19(0x864)),projectDetailView['classList'][_0x4b0d19(0x2bd)](_0x4b0d19(0x864)),quizResultsView[_0x4b0d19(0x25c)][_0x4b0d19(0x2bd)]('hidden'),liveGameView[_0x4b0d19(0x25c)][_0x4b0d19(0x2bd)](_0x4b0d19(0x864)),document[_0x4b0d19(0xa9a)](_0x4b0d19(0x782))[_0x4b0d19(0x25c)][_0x4b0d19(0x2bd)](_0x4b0d19(0x864)),studentInitialView['classList'][_0x4b0d19(0x2bd)](_0x4b0d19(0x864)),studentJoinGameView[_0x4b0d19(0x25c)][_0x4b0d19(0x2bd)](_0x4b0d19(0x864)),studentNameSelectionView['classList']['add'](_0x4b0d19(0x864)),studentQuizArea['classList'][_0x4b0d19(0x2bd)](_0x4b0d19(0x864)),studentResultArea[_0x4b0d19(0x25c)]['add']('hidden'),studentReadingArea['classList'][_0x4b0d19(0x2bd)](_0x4b0d19(0x864));const _0x353893=document['getElementById'](_0x4b0d19(0x91e)),_0x1a8cf9=document[_0x4b0d19(0xa9a)]('student-progress-view');if(_0x353893)_0x353893[_0x4b0d19(0x25c)]['add'](_0x4b0d19(0x864));if(_0x1a8cf9)_0x1a8cf9[_0x4b0d19(0x25c)][_0x4b0d19(0x2bd)](_0x4b0d19(0x864));switch(_0x1c4db1){case _0x4b0d19(0x51f):adminView[_0x4b0d19(0x25c)][_0x4b0d19(0x525)](_0x4b0d19(0x864)),projectDashboardView['classList'][_0x4b0d19(0x525)](_0x4b0d19(0x864));break;case _0x4b0d19(0x242):adminView[_0x4b0d19(0x25c)][_0x4b0d19(0x525)](_0x4b0d19(0x864)),projectDetailView[_0x4b0d19(0x25c)][_0x4b0d19(0x525)]('hidden');break;case _0x4b0d19(0x3f0):adminView[_0x4b0d19(0x25c)][_0x4b0d19(0x525)](_0x4b0d19(0x864)),quizResultsView[_0x4b0d19(0x25c)][_0x4b0d19(0x525)](_0x4b0d19(0x864));break;case _0x4b0d19(0x21f):studentView[_0x4b0d19(0x25c)][_0x4b0d19(0x525)](_0x4b0d19(0x864)),studentInitialView[_0x4b0d19(0x25c)]['remove'](_0x4b0d19(0x864));break;case _0x4b0d19(0xb00):liveGameView['classList'][_0x4b0d19(0x525)]('hidden');break;case _0x4b0d19(0x7f4):studentView[_0x4b0d19(0x25c)]['remove']('hidden');if(_0x353893)_0x353893['classList']['remove'](_0x4b0d19(0x864));break;case _0x4b0d19(0x35d):studentView[_0x4b0d19(0x25c)][_0x4b0d19(0x525)]('hidden');if(_0x1a8cf9)_0x1a8cf9['classList'][_0x4b0d19(0x525)](_0x4b0d19(0x864));break;default:studentView[_0x4b0d19(0x25c)][_0x4b0d19(0x525)](_0x4b0d19(0x864)),studentInitialView[_0x4b0d19(0x25c)][_0x4b0d19(0x525)]('hidden');break;}}function showJoinGameView(){const _0x149733=_0x27ad1b;studentInitialView[_0x149733(0x25c)][_0x149733(0x2bd)](_0x149733(0x864)),studentJoinGameView['classList']['remove'](_0x149733(0x864));}async function handleSaveVisibilitySettings(){const _0x3831ea=_0x27ad1b;if(!currentProjectId)return;const _0x4e2e60=doc(db,_0x3831ea(0x827)+appId+_0x3831ea(0x98b),currentProjectId);try{await updateDoc(_0x4e2e60,{'settings.showInStudentDashboard':document[_0x3831ea(0xa9a)](_0x3831ea(0x908))[_0x3831ea(0x23a)],'settings.isPasscodeEnabled':document['getElementById'](_0x3831ea(0x194))['checked'],'settings.passcode':document[_0x3831ea(0xa9a)](_0x3831ea(0x9f9))[_0x3831ea(0x589)][_0x3831ea(0x2b0)]()}),showMessage(_0x3831ea(0x910));}catch(_0x6a53c0){console[_0x3831ea(0x4a0)](_0x3831ea(0x666),_0x6a53c0),showMessage(_0x3831ea(0x79a));}}function setupEventListeners(){const _0x3be125=_0x27ad1b;document['getElementById'](_0x3be125(0x280))[_0x3be125(0x234)](_0x3be125(0x4be),async _0xc8eb63=>{const _0x4e99e2=_0x3be125,_0x177161=document['getElementById'](_0x4e99e2(0x280)),_0xa6cb76=_0xc8eb63[_0x4e99e2(0xa7d)][_0x4e99e2(0x997)](_0x4e99e2(0x38a)),_0x2c04af=_0xc8eb63[_0x4e99e2(0xa7d)]['closest'](_0x4e99e2(0x1f2)),_0x3c991d=_0xc8eb63[_0x4e99e2(0xa7d)][_0x4e99e2(0x997)](_0x4e99e2(0x66c)),_0x464836=_0xc8eb63[_0x4e99e2(0xa7d)][_0x4e99e2(0x997)](_0x4e99e2(0x5ef)),_0x339498=_0xc8eb63[_0x4e99e2(0xa7d)][_0x4e99e2(0x997)](_0x4e99e2(0xa4a)),_0x2cdc4c=_0xc8eb63[_0x4e99e2(0xa7d)]['closest'](_0x4e99e2(0xa30));if(_0xa6cb76){cameFromBlueprint=!![];const _0x2f79e0=_0xa6cb76[_0x4e99e2(0x9f6)][_0x4e99e2(0x65d)];showQuizDetailView(_0x2f79e0),_0x177161[_0x4e99e2(0x25c)][_0x4e99e2(0x2bd)](_0x4e99e2(0x864));}else{if(_0x2c04af){const _0x3ad513=_0x2c04af[_0x4e99e2(0x9f6)][_0x4e99e2(0x702)],_0x309b36=_0x2c04af[_0x4e99e2(0x9f6)][_0x4e99e2(0x65d)],_0x12a7cd=allQuizzesGlobal[_0x4e99e2(0x3d5)](_0x25a5b8=>_0x25a5b8['id']===_0x309b36),_0x4a243f=_0x12a7cd?_0x12a7cd[_0x4e99e2(0x21a)]:'รายการนี้';showConfirmation(_0x4e99e2(0x369)+_0x4a243f+'\x22\x20ออกจากคลังนี้?',async()=>{const _0x43cc56=_0x4e99e2;try{const _0x1c45c8=doc(db,_0x43cc56(0x827)+appId+_0x43cc56(0x65b),currentBlueprintProjectId);await updateDoc(_0x1c45c8,{[_0x43cc56(0x35b)+_0x3ad513+_0x43cc56(0x33d)]:arrayRemove(_0x309b36)}),showMessage(_0x43cc56(0x650)),openTopicQuizBank(_0x3ad513),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x1d0c0b){console['error'](_0x43cc56(0x1e8),_0x1d0c0b),showMessage(_0x43cc56(0x406));}});}else{if(_0x3c991d){cameFromBlueprint=!![];const _0x2d1418=_0x3c991d[_0x4e99e2(0x9f6)]['quizId'],_0x5ac824=allQuizzesGlobal['find'](_0x418956=>_0x418956['id']===_0x2d1418);_0x5ac824&&(startPresentation(_0x5ac824),_0x177161[_0x4e99e2(0x25c)][_0x4e99e2(0x2bd)]('hidden'));}else{if(_0x464836){cameFromBlueprint=!![];const _0x1eae06=_0x464836[_0x4e99e2(0x9f6)]['quizId'],_0x523958=allQuizzesGlobal[_0x4e99e2(0x3d5)](_0x115cf0=>_0x115cf0['id']===_0x1eae06);_0x523958&&(currentQuizData=_0x523958,startAdminTest(),_0x177161[_0x4e99e2(0x25c)][_0x4e99e2(0x2bd)]('hidden'));}else{if(_0x339498)cameFromBlueprint=!![],handleStartLiveRace(_0x339498['dataset'][_0x4e99e2(0x65d)]),_0x177161[_0x4e99e2(0x25c)][_0x4e99e2(0x2bd)](_0x4e99e2(0x864));else{if(_0x2cdc4c){cameFromBlueprint=!![];const _0x1e38e2=_0x2cdc4c[_0x4e99e2(0x9f6)]['quizId'],_0x52c866=_0x2cdc4c['dataset']['mode'],_0x492f96=allQuizzesGlobal[_0x4e99e2(0x3d5)](_0x4954aa=>_0x4954aa['id']===_0x1e38e2);_0x492f96&&(showGameStartConfirmationModal(_0x1e38e2,_0x52c866,_0x492f96['topic']),_0x177161[_0x4e99e2(0x25c)]['add'](_0x4e99e2(0x864)));}}}}}}}),document[_0x3be125(0xa9a)](_0x3be125(0x745))[_0x3be125(0x234)](_0x3be125(0x4be),()=>{const _0x57caad=_0x3be125;document[_0x57caad(0xa9a)](_0x57caad(0x1a6))[_0x57caad(0x25c)]['remove']('hidden'),document[_0x57caad(0xa9a)](_0x57caad(0xacf))[_0x57caad(0x589)]='',document[_0x57caad(0xa9a)](_0x57caad(0x221))[_0x57caad(0x589)]='',document['getElementById'](_0x57caad(0x5e1))[_0x57caad(0x589)]='';}),document[_0x3be125(0xa9a)]('cancel-manual-bp-btn')[_0x3be125(0x234)](_0x3be125(0x4be),()=>{const _0x35d550=_0x3be125;document['getElementById'](_0x35d550(0x1a6))[_0x35d550(0x25c)]['add'](_0x35d550(0x864));}),document['getElementById'](_0x3be125(0x44f))[_0x3be125(0x234)](_0x3be125(0x4be),handleManualBlueprintSave),document['getElementById'](_0x3be125(0x9cb))['addEventListener'](_0x3be125(0x4be),()=>document['getElementById'](_0x3be125(0x1a4))['classList'][_0x3be125(0x2bd)](_0x3be125(0x864))),document['getElementById'](_0x3be125(0x17e))[_0x3be125(0x234)](_0x3be125(0x4be),handleSaveBlueprintPageSettings),document[_0x3be125(0xa9a)](_0x3be125(0x270))[_0x3be125(0x234)](_0x3be125(0x4be),openBlueprintQuizSettings),document[_0x3be125(0xa9a)](_0x3be125(0xa28))[_0x3be125(0x234)](_0x3be125(0x4be),saveBlueprintProject),document[_0x3be125(0xa9a)]('open-blueprint-projects-btn')[_0x3be125(0x234)](_0x3be125(0x4be),showBlueprintProjects),document[_0x3be125(0xa9a)](_0x3be125(0x6c8))[_0x3be125(0x234)](_0x3be125(0x4be),()=>{const _0x1363ea=_0x3be125;document['getElementById'](_0x1363ea(0xae0))[_0x1363ea(0x25c)][_0x1363ea(0x2bd)]('hidden');}),document[_0x3be125(0xa9a)](_0x3be125(0x646))[_0x3be125(0x234)]('click',_0x3e8829=>{const _0x4b3246=_0x3be125,_0x1fca05=_0x3e8829[_0x4b3246(0xa7d)][_0x4b3246(0x997)](_0x4b3246(0x519)),_0x27b881=_0x3e8829[_0x4b3246(0xa7d)][_0x4b3246(0x997)](_0x4b3246(0x709));if(_0x1fca05)displayBlueprintProjectManager(_0x1fca05['dataset']['id']);else{if(_0x27b881){if(confirm(_0x4b3246(0x266))){const _0x19bd08=doc(db,_0x4b3246(0x827)+appId+'/public/data/blueprintProjects',_0x27b881['dataset']['id']);deleteDoc(_0x19bd08)[_0x4b3246(0x2f6)](()=>{showMessage('ลบโปรเจคสำเร็จ'),showBlueprintProjects();});}}}}),document['getElementById'](_0x3be125(0x355))[_0x3be125(0x234)](_0x3be125(0x4be),()=>{const _0x103752=_0x3be125;currentBlueprintProjectId=null,currentProjectId=null,document[_0x103752(0xa9a)](_0x103752(0x782))[_0x103752(0x25c)][_0x103752(0x2bd)](_0x103752(0x864)),showView(_0x103752(0x51f));}),document[_0x3be125(0xa9a)](_0x3be125(0x4d2))[_0x3be125(0x234)](_0x3be125(0x4be),addTopicToProject),document[_0x3be125(0xa9a)](_0x3be125(0x1b1))[_0x3be125(0x234)]('click',async _0x21675e=>{const _0x33b4bb=_0x3be125,_0x4f120a=_0x21675e['target'][_0x33b4bb(0x997)]('[data-topic-id]');if(!_0x4f120a)return;const _0x57a85d=_0x4f120a[_0x33b4bb(0x9f6)][_0x33b4bb(0x702)],_0x438694=_0x21675e[_0x33b4bb(0xa7d)][_0x33b4bb(0x997)](_0x33b4bb(0x9f1)),_0x4708ae=_0x21675e['target'][_0x33b4bb(0x997)](_0x33b4bb(0xf8)),_0x8f1bb6=_0x21675e['target'][_0x33b4bb(0x997)](_0x33b4bb(0x2a3)),_0x49cc4b=_0x21675e[_0x33b4bb(0xa7d)][_0x33b4bb(0x997)](_0x33b4bb(0x975)),_0x4b9b9b=_0x21675e['target'][_0x33b4bb(0x997)](_0x33b4bb(0x16e)),_0x4db668=_0x21675e[_0x33b4bb(0xa7d)][_0x33b4bb(0x997)](_0x33b4bb(0x314)),_0x23726b=_0x21675e[_0x33b4bb(0xa7d)][_0x33b4bb(0x997)]('.bp-edit-topic-btn'),_0x4d2f42=_0x21675e[_0x33b4bb(0xa7d)][_0x33b4bb(0x997)](_0x33b4bb(0xb16));if(_0x49cc4b)openTopicQuizBank(_0x57a85d);else{if(_0x438694){console[_0x33b4bb(0x484)](_0x33b4bb(0x96f));const _0x103554=_0x4f120a['querySelector'](_0x33b4bb(0x612))[_0x33b4bb(0xa0d)];selectProjectAndGenerateBlueprintQuiz(_0x103554,null,_0x57a85d,!![]);}else{if(_0x4708ae){console[_0x33b4bb(0x484)]('Action:\x20Create\x20Standard\x20Quiz\x20from\x20Content.');try{const _0x2bf464=doc(db,_0x33b4bb(0x827)+appId+_0x33b4bb(0x65b),currentBlueprintProjectId),_0xe6af43=await getDoc(_0x2bf464);if(_0xe6af43[_0x33b4bb(0x539)]()){const _0x36bdea=_0xe6af43[_0x33b4bb(0x4b8)](),_0x477d3b=_0x36bdea[_0x33b4bb(0x580)][_0x57a85d],_0x1b909e=_0x477d3b['lessonContent'],_0xb18cba=document['createElement'](_0x33b4bb(0xb19)),_0x45a8a5=_0xe3d277=>{const _0x2ff191=_0x33b4bb;if(!_0xe3d277)return'';return _0xb18cba[_0x2ff191(0x415)]=_0xe3d277,_0xb18cba[_0x2ff191(0xa0d)]||_0xb18cba[_0x2ff191(0x3f9)]||'';},_0x5badd2=(_0x45a8a5(_0x1b909e[_0x33b4bb(0x4f2)])+'\x20'+_0x45a8a5(_0x1b909e['memory'])+'\x20'+_0x45a8a5(_0x1b909e['summary']))[_0x33b4bb(0x2b0)]();selectProjectAndGenerateBlueprintQuiz(_0x477d3b['subTopic'],_0x5badd2,_0x57a85d,![]);}}catch(_0x4fda12){console[_0x33b4bb(0x4a0)](_0x33b4bb(0x195),_0x4fda12);}}else{if(_0x8f1bb6){console['log'](_0x33b4bb(0xb9d));const _0x2197d2=_0x4f120a[_0x33b4bb(0x46b)]('[data-field=\x22subTopic\x22]')[_0x33b4bb(0xa0d)];selectProjectAndGenerateBlueprintQuiz(_0x2197d2,null,_0x57a85d,![]);}else{if(_0x4b9b9b){console[_0x33b4bb(0x484)](_0x33b4bb(0x917));const _0x1a93ec=doc(db,_0x33b4bb(0x827)+appId+_0x33b4bb(0x65b),currentBlueprintProjectId),_0x19e8e9=await getDoc(_0x1a93ec);if(_0x19e8e9[_0x33b4bb(0x539)]()){const _0x26a562=_0x19e8e9[_0x33b4bb(0x4b8)](),_0x436f0d=_0x26a562[_0x33b4bb(0x580)][_0x57a85d];if(_0x436f0d&&_0x436f0d[_0x33b4bb(0x25e)]){document[_0x33b4bb(0xa9a)](_0x33b4bb(0xa92))[_0x33b4bb(0xa0d)]='บทเรียนเรื่อง:\x20'+_0x436f0d['subTopic'],document[_0x33b4bb(0xa9a)](_0x33b4bb(0x17c))['innerHTML']=_0x436f0d[_0x33b4bb(0x25e)][_0x33b4bb(0x4f2)],document[_0x33b4bb(0xa9a)](_0x33b4bb(0x3ca))[_0x33b4bb(0x415)]=_0x436f0d[_0x33b4bb(0x25e)][_0x33b4bb(0x862)],document[_0x33b4bb(0xa9a)](_0x33b4bb(0xb2b))[_0x33b4bb(0x415)]=_0x436f0d['lessonContent'][_0x33b4bb(0x1ef)];const _0x1f8e39=document[_0x33b4bb(0xa9a)]('applicationContent');_0x436f0d[_0x33b4bb(0x25e)][_0x33b4bb(0x172)]?(currentApplicationData=_0x436f0d['lessonContent'][_0x33b4bb(0x172)],_0x1f8e39[_0x33b4bb(0x415)]=currentApplicationData[_0x33b4bb(0x821)]((_0x25f6d6,_0x3a3457)=>_0x33b4bb(0x77f)+(_0x3a3457+0x1)+'.\x20'+marked['parseInline'](_0x25f6d6['question'])+_0x33b4bb(0x890)+_0x3a3457+_0x33b4bb(0x2eb)+_0x25f6d6[_0x33b4bb(0x559)][_0x33b4bb(0x821)]((_0x45ccb1,_0x524466)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x3a3457+',\x20'+_0x524466+_0x33b4bb(0x6df)+String[_0x33b4bb(0x756)](0x61+_0x524466)+'.\x20'+marked['parseInline'](_0x45ccb1)+_0x33b4bb(0x7ed))[_0x33b4bb(0x4ad)]('')+_0x33b4bb(0x643))[_0x33b4bb(0x4ad)]('')):(currentApplicationData=[],_0x1f8e39['innerHTML']=_0x436f0d[_0x33b4bb(0x25e)]['applicationHTML']||_0x436f0d[_0x33b4bb(0x25e)][_0x33b4bb(0xa6f)]),document[_0x33b4bb(0xa9a)]('lesson-loader')[_0x33b4bb(0x25c)]['add'](_0x33b4bb(0x864)),document[_0x33b4bb(0xa9a)](_0x33b4bb(0x8fd))[_0x33b4bb(0x25c)][_0x33b4bb(0x525)](_0x33b4bb(0x864)),document[_0x33b4bb(0xa9a)](_0x33b4bb(0x964))[_0x33b4bb(0x25c)][_0x33b4bb(0x525)](_0x33b4bb(0x864)),window[_0x33b4bb(0xa63)]&&MathJax[_0x33b4bb(0x5e2)]([document[_0x33b4bb(0xa9a)](_0x33b4bb(0xb74))]);}else showMessage('ไม่พบข้อมูลบทเรียนที่บันทึกไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27');}}else{if(_0x4db668){console[_0x33b4bb(0x484)](_0x33b4bb(0x6be));const _0x25036e=doc(db,_0x33b4bb(0x827)+appId+_0x33b4bb(0x65b),currentBlueprintProjectId),_0xd1e8ef=await getDoc(_0x25036e);if(_0xd1e8ef[_0x33b4bb(0x539)]()){const _0x4d425b=_0xd1e8ef[_0x33b4bb(0x4b8)](),_0x253174=_0x4d425b[_0x33b4bb(0x580)][_0x57a85d];generateAndSaveLessonForBlueprint(_0x57a85d,_0x253174['subTopic'],_0x4d425b['gradeLevel']);}}else{if(_0x23726b)editTopicInProject(_0x57a85d);else _0x4d2f42&&deleteTopicFromProject(_0x57a85d);}}}}}}}),document[_0x3be125(0xa9a)](_0x3be125(0x951))[_0x3be125(0x234)]('click',handleFixLessonLatex),document[_0x3be125(0xa9a)]('export-lesson-to-pdf-btn')[_0x3be125(0x234)](_0x3be125(0x4be),handleExportLessonToPDF),document[_0x3be125(0xa9a)](_0x3be125(0x83b))[_0x3be125(0x234)](_0x3be125(0x4be),()=>{const _0x26b85b=_0x3be125;document[_0x26b85b(0xa9a)]('lesson-view-modal')[_0x26b85b(0x25c)][_0x26b85b(0x2bd)](_0x26b85b(0x864));});const _0x345acb=document['getElementById'](_0x3be125(0x9d7)),_0x4f7953=document[_0x3be125(0xa9a)](_0x3be125(0x520));_0x345acb[_0x3be125(0x234)]('change',()=>{const _0x38e94d=_0x3be125;_0x4f7953[_0x38e94d(0x25c)][_0x38e94d(0x4a8)](_0x38e94d(0x864),!_0x345acb[_0x38e94d(0x23a)]);});const _0x11b7a2=document[_0x3be125(0xa9a)](_0x3be125(0x27a)),_0x999956=document[_0x3be125(0xa9a)](_0x3be125(0x20d));_0x11b7a2[_0x3be125(0x234)](_0x3be125(0x436),()=>{const _0x3d06cb=_0x3be125;_0x999956['classList'][_0x3d06cb(0x4a8)](_0x3d06cb(0x864),!_0x11b7a2[_0x3d06cb(0x23a)]);});const _0x2ea2b=document[_0x3be125(0xa9a)](_0x3be125(0x52a)),_0x50a1c0=document[_0x3be125(0xa9a)](_0x3be125(0xa5d));_0x2ea2b[_0x3be125(0x234)](_0x3be125(0x436),()=>{const _0x427a70=_0x3be125;_0x50a1c0[_0x427a70(0x25c)][_0x427a70(0x4a8)](_0x427a70(0x864),!_0x2ea2b[_0x427a70(0x23a)]);});const _0x2cda97=document[_0x3be125(0xa9a)](_0x3be125(0xb13)),_0x172226=async _0x2632b0=>{const _0x388c22=_0x3be125,_0x2ddd6=document[_0x388c22(0xa9a)](_0x388c22(0xb13)),_0x6b3425=_0x2ddd6[_0x388c22(0x9f6)][_0x388c22(0x93d)],_0x458f7a=document[_0x388c22(0xa9a)](_0x388c22(0x625));_0x2ddd6['classList'][_0x388c22(0x2bd)]('hidden');if(_0x6b3425===_0x388c22(0x823)){const _0x2ce1c4=_0x458f7a['value'],_0x3ed577={'answer':_0x2ce1c4,'wasConfident':_0x2632b0};proceedToNextQuestion(_0x3ed577);}else{if(_0x6b3425==='sync'){const _0x447305=_0x458f7a[_0x388c22(0x9f6)]['answerValue'],_0xc7a3ea=JSON[_0x388c22(0x327)](_0x458f7a[_0x388c22(0x9f6)][_0x388c22(0x96c)]),_0x6b509c=JSON[_0x388c22(0x327)](_0x458f7a[_0x388c22(0x9f6)][_0x388c22(0xfd)]),_0x51d87d=_0x458f7a[_0x388c22(0x9f6)]['playerName'];handleSyncAnswerSubmit(_0x447305,_0xc7a3ea,_0x6b509c,_0x51d87d,_0x2632b0);}}_0x2ddd6['dataset'][_0x388c22(0x93d)]='';};document[_0x3be125(0xa9a)](_0x3be125(0x12d))[_0x3be125(0x234)](_0x3be125(0x4be),()=>_0x172226(!![])),document[_0x3be125(0xa9a)]('confirm-not-confident')[_0x3be125(0x234)](_0x3be125(0x4be),()=>_0x172226(![])),liveGameView[_0x3be125(0x234)](_0x3be125(0x4be),_0x1fe6eb=>{const _0x21e7d5=_0x3be125,_0x5ec463=_0x1fe6eb['target'][_0x21e7d5(0x997)](_0x21e7d5(0x4ae));if(_0x5ec463){const _0x352ed7=_0x5ec463[_0x21e7d5(0x9f6)][_0x21e7d5(0x49b)];_0x352ed7&&handleKickPlayerSync(_0x352ed7);}});const _0x3d4f9c=document['getElementById'](_0x3be125(0x4e4)),_0x3f59e0=document[_0x3be125(0xa9a)](_0x3be125(0x59c));_0x3f59e0[_0x3be125(0x234)](_0x3be125(0x4be),()=>{const _0x177396=_0x3be125;document[_0x177396(0xa9a)](_0x177396(0xb94))[_0x177396(0x25c)][_0x177396(0x2bd)]('hidden');}),_0x3d4f9c[_0x3be125(0x234)](_0x3be125(0x4be),()=>{const _0x1c92f5=_0x3be125,_0xd3a1bd=document[_0x1c92f5(0xa9a)](_0x1c92f5(0x8da))[_0x1c92f5(0x589)],_0x266046=document[_0x1c92f5(0xa9a)](_0x1c92f5(0x2fe))['value'],_0x172c21=document[_0x1c92f5(0xa9a)](_0x1c92f5(0x3d9))[_0x1c92f5(0x23a)];document[_0x1c92f5(0xa9a)]('confirm-game-start-modal')['classList'][_0x1c92f5(0x2bd)](_0x1c92f5(0x864));switch(_0x266046){case'live-race':handleStartLiveRace(_0xd3a1bd,_0x172c21);break;case _0x1c92f5(0xa65):handleStartTeamQuiz(_0xd3a1bd,_0x172c21);break;case'group':handleStartGroupMode(_0xd3a1bd,_0x172c21);break;case _0x1c92f5(0x1eb):handleStartSyncMode(_0xd3a1bd,_0x172c21);break;}}),document['getElementById'](_0x3be125(0xa6e))['addEventListener'](_0x3be125(0x4be),handleJoinGroupActivity),liveGameView[_0x3be125(0x234)](_0x3be125(0x4be),_0x1326df=>{const _0x22f864=_0x3be125,_0x3b3bce=_0x1326df[_0x22f864(0xa7d)][_0x22f864(0x997)](_0x22f864(0x8e9));document['querySelectorAll'](_0x22f864(0x9ea))[_0x22f864(0x50c)](_0x12544d=>{const _0x17e385=_0x22f864;(!_0x3b3bce||_0x12544d['id']!==_0x3b3bce[_0x17e385(0x9f6)]['tooltipTarget'])&&_0x12544d[_0x17e385(0x25c)][_0x17e385(0x525)](_0x17e385(0x88e));});if(!_0x3b3bce)return;const _0x3772e2=_0x3b3bce[_0x22f864(0x9f6)][_0x22f864(0x850)],_0x17a1b4=document[_0x22f864(0xa9a)](_0x3772e2);_0x17a1b4&&_0x17a1b4[_0x22f864(0x25c)][_0x22f864(0x4a8)](_0x22f864(0x88e));}),liveGameView[_0x3be125(0x234)](_0x3be125(0x4be),_0xcf87a9=>{const _0x107bc9=_0x3be125;if(_0xcf87a9[_0x107bc9(0xa7d)]['classList']['contains'](_0x107bc9(0x40e))){const _0x5151d1=_0xcf87a9[_0x107bc9(0xa7d)][_0x107bc9(0x9f6)]['playerName'];_0x5151d1&&handleKickPlayer(_0x5151d1);}}),document[_0x3be125(0xa9a)]('project-title')[_0x3be125(0x234)](_0x3be125(0xb15),()=>document[_0x3be125(0xa9a)](_0x3be125(0x168))[_0x3be125(0x25c)][_0x3be125(0x525)](_0x3be125(0x864))),document[_0x3be125(0xa9a)](_0x3be125(0x168))[_0x3be125(0x234)](_0x3be125(0x4be),handleSaveProjectName),document[_0x3be125(0xa9a)](_0x3be125(0x3e8))[_0x3be125(0x234)](_0x3be125(0x99c),_0x51c03f=>{const _0x1aaaed=_0x3be125;_0x51c03f[_0x1aaaed(0x5f7)]===_0x1aaaed(0xf5)&&(_0x51c03f[_0x1aaaed(0x14f)](),_0x51c03f[_0x1aaaed(0xa7d)][_0x1aaaed(0xb9e)](),handleSaveProjectName());}),document['getElementById'](_0x3be125(0x19f))[_0x3be125(0x234)](_0x3be125(0x4be),()=>{const _0x1db3c0=_0x3be125;document[_0x1db3c0(0xa9a)](_0x1db3c0(0x9d3))[_0x1db3c0(0x25c)][_0x1db3c0(0x525)]('hidden');}),document['getElementById'](_0x3be125(0x44d))[_0x3be125(0x234)](_0x3be125(0x4be),()=>{const _0x36b4a5=_0x3be125;document['getElementById'](_0x36b4a5(0x9d3))[_0x36b4a5(0x25c)][_0x36b4a5(0x2bd)](_0x36b4a5(0x864));}),document[_0x3be125(0xa9a)]('confirm-bulk-quiz-settings-btn')[_0x3be125(0x234)](_0x3be125(0x4be),handleBulkUpdateQuizSettings),document[_0x3be125(0xa9a)](_0x3be125(0x2cc))[_0x3be125(0x234)](_0x3be125(0x4be),handleModeSwitch),document[_0x3be125(0xa9a)](_0x3be125(0xabb))[_0x3be125(0x234)](_0x3be125(0x4be),handleUpdateOldQuizzes),document[_0x3be125(0xa9a)](_0x3be125(0x70c))[_0x3be125(0x234)](_0x3be125(0x4be),handleResetProjectOrder),document['getElementById'](_0x3be125(0x974))[_0x3be125(0x234)](_0x3be125(0x4be),handleSaveVisibilitySettings),document[_0x3be125(0xa9a)](_0x3be125(0x4dc))[_0x3be125(0x234)]('click',handleAddCustomMathTopic),document[_0x3be125(0xa9a)](_0x3be125(0x9dd))[_0x3be125(0x234)](_0x3be125(0x4be),handleSelectAllTopics),document[_0x3be125(0xa9a)](_0x3be125(0x101))[_0x3be125(0x234)]('click',handleDeselectAllTopics),document[_0x3be125(0xa9a)](_0x3be125(0xa3f))[_0x3be125(0x234)](_0x3be125(0x4be),()=>{const _0x563a99=_0x3be125;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x563a99(0x51f));}}),document['getElementById'](_0x3be125(0x7ee))[_0x3be125(0x234)]('click',()=>{const _0x2ff771=_0x3be125;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x2ff771(0x242));}}),document[_0x3be125(0xa9a)](_0x3be125(0x317))['addEventListener'](_0x3be125(0x4be),()=>{const _0x3afb3b=_0x3be125;showView(_0x3afb3b(0x51f));}),document[_0x3be125(0xa9a)]('modal-close-btn')['addEventListener'](_0x3be125(0x4be),()=>{const _0x297adb=_0x3be125;messageModal[_0x297adb(0x25c)][_0x297adb(0x2bd)](_0x297adb(0x864)),typeof modalConfirmAction===_0x297adb(0x2ec)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x3be125(0xa9a)]('create-project-btn')[_0x3be125(0x234)](_0x3be125(0x4be),()=>createProjectModal[_0x3be125(0x25c)][_0x3be125(0x525)]('hidden')),document[_0x3be125(0xa9a)](_0x3be125(0x137))[_0x3be125(0x234)]('click',()=>createProjectModal['classList'][_0x3be125(0x2bd)](_0x3be125(0x864))),document['getElementById'](_0x3be125(0x474))[_0x3be125(0x234)](_0x3be125(0x4be),()=>adminPasswordModal[_0x3be125(0x25c)]['add'](_0x3be125(0x864))),document[_0x3be125(0xa9a)](_0x3be125(0x652))['addEventListener']('click',handleAdminLogin),document[_0x3be125(0xa9a)](_0x3be125(0x913))[_0x3be125(0x234)](_0x3be125(0x6d1),_0x2e2441=>{const _0x5f1e78=_0x3be125;if(_0x2e2441[_0x5f1e78(0x5f7)]==='Enter')handleAdminLogin();}),document[_0x3be125(0xa9a)](_0x3be125(0x63c))[_0x3be125(0x234)](_0x3be125(0x4be),()=>{const _0x2c87c7=_0x3be125;confirmationModal[_0x2c87c7(0x25c)][_0x2c87c7(0x2bd)](_0x2c87c7(0x864)),confirmAction=null;}),document[_0x3be125(0xa9a)](_0x3be125(0x9bb))['addEventListener']('click',()=>{const _0x4d062d=_0x3be125;confirmAction&&confirmAction(),confirmationModal['classList']['add'](_0x4d062d(0x864)),confirmAction=null;}),document[_0x3be125(0xa9a)]('cancel-rename-quiz-btn')[_0x3be125(0x234)](_0x3be125(0x4be),()=>renameQuizModal[_0x3be125(0x25c)]['add'](_0x3be125(0x864))),document[_0x3be125(0xa9a)](_0x3be125(0x128))[_0x3be125(0x234)](_0x3be125(0x4be),confirmRenameQuiz),document['getElementById']('cancel-move-quiz-btn')['addEventListener'](_0x3be125(0x4be),()=>moveQuizModal['classList'][_0x3be125(0x2bd)](_0x3be125(0x864))),document[_0x3be125(0xa9a)](_0x3be125(0x43f))['addEventListener']('click',confirmMoveQuiz),document['getElementById']('cancel-quiz-settings-btn')[_0x3be125(0x234)](_0x3be125(0x4be),()=>quizSettingsModal[_0x3be125(0x25c)]['add']('hidden')),document[_0x3be125(0xa9a)]('confirm-quiz-settings-btn')['addEventListener'](_0x3be125(0x4be),confirmQuizSettings),document[_0x3be125(0xa9a)]('cancel-quiz-status-btn')[_0x3be125(0x234)](_0x3be125(0x4be),()=>quizStatusModal[_0x3be125(0x25c)][_0x3be125(0x2bd)](_0x3be125(0x864))),document['getElementById'](_0x3be125(0x83a))[_0x3be125(0x234)](_0x3be125(0x4be),confirmQuizStatus);const _0x2abd00=document[_0x3be125(0xa9a)](_0x3be125(0xb64));document[_0x3be125(0xa9a)]('cancel-export-pdf-btn')['addEventListener'](_0x3be125(0x4be),()=>{const _0x5c5061=_0x3be125;_0x2abd00[_0x5c5061(0x25c)][_0x5c5061(0x2bd)]('hidden');}),document[_0x3be125(0xa9a)]('export-compact-pdf-btn')[_0x3be125(0x234)]('click',async()=>{const _0x5294cf=_0x3be125,_0x2a42c8=allQuizzes['find'](_0xbdf87d=>_0xbdf87d['id']===actionTargetId);_0x2a42c8?(currentQuizData=_0x2a42c8,exportQuizAsWorksheetPDF()):showMessage(_0x5294cf(0x461)),_0x2abd00['classList']['add']('hidden');}),document[_0x3be125(0xa9a)](_0x3be125(0x1df))[_0x3be125(0x234)](_0x3be125(0x4be),async()=>{const _0x458d86=_0x3be125,_0x4447b4=allQuizzes['find'](_0x4caff5=>_0x4caff5['id']===actionTargetId);_0x4447b4?(currentQuizData=_0x4447b4,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x2abd00[_0x458d86(0x25c)][_0x458d86(0x2bd)]('hidden');}),document['getElementById'](_0x3be125(0x2bf))['addEventListener'](_0x3be125(0x4be),openGlobalLiveModal),document[_0x3be125(0xa9a)](_0x3be125(0xb31))[_0x3be125(0x234)]('click',()=>{const _0x4ca40c=_0x3be125;document[_0x4ca40c(0xa9a)](_0x4ca40c(0x743))[_0x4ca40c(0x25c)]['add'](_0x4ca40c(0x864)),selectedGlobalQuizId=null;}),document[_0x3be125(0xa9a)]('global-quiz-search-input')[_0x3be125(0x234)](_0x3be125(0x42a),_0x50acaa=>renderGlobalQuizList(_0x50acaa[_0x3be125(0xa7d)][_0x3be125(0x589)])),document[_0x3be125(0xa9a)]('confirm-global-live-btn')[_0x3be125(0x234)]('click',()=>{const _0x2ae684=_0x3be125,_0x428db2=selectedGlobalQuizId;if(!_0x428db2)return;document[_0x2ae684(0xa9a)](_0x2ae684(0x743))[_0x2ae684(0x25c)][_0x2ae684(0x2bd)](_0x2ae684(0x864)),handleStartLiveRace(_0x428db2);}),document[_0x3be125(0xa9a)](_0x3be125(0x3bb))[_0x3be125(0x234)](_0x3be125(0x42a),renderProjects),document[_0x3be125(0xa9a)](_0x3be125(0xb30))[_0x3be125(0x234)]('change',async()=>{const _0x29cb7c=_0x3be125,_0x25fa15=document['getElementById'](_0x29cb7c(0xb30))[_0x29cb7c(0x589)],_0x5aaddc=doc(db,_0x29cb7c(0x63d),'dashboardConfig');try{await setDoc(_0x5aaddc,{'projectSort':_0x25fa15},{'merge':!![]});}catch(_0x507eb9){console[_0x29cb7c(0x4a0)](_0x29cb7c(0x93f),_0x507eb9),showMessage(_0x29cb7c(0x372));}}),document[_0x3be125(0xa9a)](_0x3be125(0x8ee))[_0x3be125(0x234)]('input',renderQuizzes),document[_0x3be125(0xa9a)](_0x3be125(0x7c9))[_0x3be125(0x234)]('click',()=>{const _0x250d05=_0x3be125;globalDashboardSettings[_0x250d05(0xa9f)]=_0x250d05(0x733),saveUserPreference(_0x250d05(0xa9f),_0x250d05(0x733)),renderProjects();}),document['getElementById'](_0x3be125(0xb53))[_0x3be125(0x234)](_0x3be125(0x4be),()=>{const _0x8f1028=_0x3be125;globalDashboardSettings[_0x8f1028(0xa9f)]=_0x8f1028(0x7e2),saveUserPreference(_0x8f1028(0xa9f),'list'),renderProjects();}),manageTab[_0x3be125(0x234)](_0x3be125(0x4be),()=>switchProjectTab(_0x3be125(0x4cf))),resultsTab[_0x3be125(0x234)](_0x3be125(0x4be),()=>switchProjectTab(_0x3be125(0x884))),leaderboardTab[_0x3be125(0x234)]('click',()=>switchProjectTab('leaderboard')),document[_0x3be125(0xa9a)](_0x3be125(0x665))[_0x3be125(0x234)](_0x3be125(0x4be),()=>switchQuizDetailTab('analytics')),document[_0x3be125(0xa9a)]('scores-tab-btn')[_0x3be125(0x234)](_0x3be125(0x4be),()=>switchQuizDetailTab('scores')),document[_0x3be125(0xa9a)](_0x3be125(0x8d0))[_0x3be125(0x234)]('click',()=>switchQuizDetailTab(_0x3be125(0x116))),document[_0x3be125(0xa9a)](_0x3be125(0x809))[_0x3be125(0x234)](_0x3be125(0x4be),()=>switchQuizDetailTab(_0x3be125(0x5c5))),document[_0x3be125(0xa9a)](_0x3be125(0xb6d))[_0x3be125(0x234)](_0x3be125(0x4be),handleAnalyzeClass),generateWorksheetBtn['addEventListener'](_0x3be125(0x4be),generateWorksheet);const _0x529c3c=document[_0x3be125(0xa9a)]('link-tab'),_0x4f415a=document[_0x3be125(0xa9a)](_0x3be125(0x89f)),_0x32be6a=document[_0x3be125(0xa9a)]('blueprint-tab'),_0x5c0ce1=document[_0x3be125(0xa9a)](_0x3be125(0x9a5)),_0x38c28f=document[_0x3be125(0xa9a)](_0x3be125(0xa48)),_0x7958d5=document[_0x3be125(0xa9a)]('parallel-test-input-area');topicTab['addEventListener'](_0x3be125(0x4be),()=>{const _0x1e98c3=_0x3be125;topicTab[_0x1e98c3(0x25c)][_0x1e98c3(0x2bd)]('active'),textTab[_0x1e98c3(0x25c)]['remove']('active'),fileTab[_0x1e98c3(0x25c)][_0x1e98c3(0x525)](_0x1e98c3(0x3cc)),worksheetTab[_0x1e98c3(0x25c)][_0x1e98c3(0x525)](_0x1e98c3(0x3cc));if(_0x529c3c)_0x529c3c['classList']['remove']('active');if(_0x32be6a)_0x32be6a[_0x1e98c3(0x25c)][_0x1e98c3(0x525)](_0x1e98c3(0x3cc));if(_0x38c28f)_0x38c28f[_0x1e98c3(0x25c)][_0x1e98c3(0x525)]('active');topicInputArea['classList'][_0x1e98c3(0x525)](_0x1e98c3(0x864)),textInputArea[_0x1e98c3(0x25c)][_0x1e98c3(0x2bd)](_0x1e98c3(0x864)),fileInputArea[_0x1e98c3(0x25c)][_0x1e98c3(0x2bd)](_0x1e98c3(0x864)),worksheetInputArea[_0x1e98c3(0x25c)][_0x1e98c3(0x2bd)](_0x1e98c3(0x864));if(_0x4f415a)_0x4f415a[_0x1e98c3(0x25c)]['add'](_0x1e98c3(0x864));if(_0x5c0ce1)_0x5c0ce1[_0x1e98c3(0x25c)][_0x1e98c3(0x2bd)](_0x1e98c3(0x864));if(_0x7958d5)_0x7958d5[_0x1e98c3(0x25c)][_0x1e98c3(0x2bd)](_0x1e98c3(0x864));}),textTab[_0x3be125(0x234)](_0x3be125(0x4be),()=>{const _0x3de68e=_0x3be125;textTab['classList'][_0x3de68e(0x2bd)](_0x3de68e(0x3cc)),topicTab[_0x3de68e(0x25c)][_0x3de68e(0x525)](_0x3de68e(0x3cc)),fileTab['classList'][_0x3de68e(0x525)]('active'),worksheetTab[_0x3de68e(0x25c)][_0x3de68e(0x525)](_0x3de68e(0x3cc));if(_0x529c3c)_0x529c3c['classList'][_0x3de68e(0x525)](_0x3de68e(0x3cc));if(_0x32be6a)_0x32be6a[_0x3de68e(0x25c)][_0x3de68e(0x525)](_0x3de68e(0x3cc));if(_0x38c28f)_0x38c28f[_0x3de68e(0x25c)][_0x3de68e(0x525)]('active');textInputArea[_0x3de68e(0x25c)][_0x3de68e(0x525)](_0x3de68e(0x864)),topicInputArea[_0x3de68e(0x25c)]['add'](_0x3de68e(0x864)),fileInputArea[_0x3de68e(0x25c)][_0x3de68e(0x2bd)](_0x3de68e(0x864)),worksheetInputArea[_0x3de68e(0x25c)][_0x3de68e(0x2bd)](_0x3de68e(0x864));if(_0x4f415a)_0x4f415a['classList'][_0x3de68e(0x2bd)](_0x3de68e(0x864));if(_0x5c0ce1)_0x5c0ce1['classList'][_0x3de68e(0x2bd)](_0x3de68e(0x864));if(_0x7958d5)_0x7958d5[_0x3de68e(0x25c)][_0x3de68e(0x2bd)](_0x3de68e(0x864));}),fileTab[_0x3be125(0x234)](_0x3be125(0x4be),()=>{const _0x1c19f6=_0x3be125;fileTab[_0x1c19f6(0x25c)]['add'](_0x1c19f6(0x3cc)),topicTab['classList']['remove']('active'),textTab[_0x1c19f6(0x25c)][_0x1c19f6(0x525)](_0x1c19f6(0x3cc)),worksheetTab['classList']['remove'](_0x1c19f6(0x3cc));if(_0x529c3c)_0x529c3c[_0x1c19f6(0x25c)][_0x1c19f6(0x525)](_0x1c19f6(0x3cc));if(_0x32be6a)_0x32be6a[_0x1c19f6(0x25c)][_0x1c19f6(0x525)](_0x1c19f6(0x3cc));if(_0x38c28f)_0x38c28f[_0x1c19f6(0x25c)][_0x1c19f6(0x525)](_0x1c19f6(0x3cc));fileInputArea[_0x1c19f6(0x25c)]['remove'](_0x1c19f6(0x864)),topicInputArea[_0x1c19f6(0x25c)]['add'](_0x1c19f6(0x864)),textInputArea[_0x1c19f6(0x25c)][_0x1c19f6(0x2bd)](_0x1c19f6(0x864)),worksheetInputArea[_0x1c19f6(0x25c)]['add'](_0x1c19f6(0x864));if(_0x4f415a)_0x4f415a[_0x1c19f6(0x25c)][_0x1c19f6(0x2bd)](_0x1c19f6(0x864));if(_0x5c0ce1)_0x5c0ce1[_0x1c19f6(0x25c)]['add'](_0x1c19f6(0x864));if(_0x7958d5)_0x7958d5['classList'][_0x1c19f6(0x2bd)](_0x1c19f6(0x864));}),worksheetTab[_0x3be125(0x234)](_0x3be125(0x4be),()=>{const _0x42de68=_0x3be125;worksheetTab['classList']['add'](_0x42de68(0x3cc)),topicTab[_0x42de68(0x25c)][_0x42de68(0x525)](_0x42de68(0x3cc)),textTab['classList'][_0x42de68(0x525)]('active'),fileTab[_0x42de68(0x25c)]['remove'](_0x42de68(0x3cc));if(_0x529c3c)_0x529c3c['classList']['remove'](_0x42de68(0x3cc));if(_0x32be6a)_0x32be6a['classList'][_0x42de68(0x525)](_0x42de68(0x3cc));if(_0x38c28f)_0x38c28f[_0x42de68(0x25c)][_0x42de68(0x525)](_0x42de68(0x3cc));worksheetInputArea[_0x42de68(0x25c)][_0x42de68(0x525)](_0x42de68(0x864)),topicInputArea['classList'][_0x42de68(0x2bd)](_0x42de68(0x864)),textInputArea['classList']['add']('hidden'),fileInputArea[_0x42de68(0x25c)][_0x42de68(0x2bd)](_0x42de68(0x864));if(_0x4f415a)_0x4f415a['classList'][_0x42de68(0x2bd)]('hidden');if(_0x5c0ce1)_0x5c0ce1[_0x42de68(0x25c)]['add']('hidden');if(_0x7958d5)_0x7958d5[_0x42de68(0x25c)][_0x42de68(0x2bd)](_0x42de68(0x864));});const _0x461205=document[_0x3be125(0xa9a)]('bank-tab'),_0x487c79=document[_0x3be125(0xa9a)]('bank-input-area');_0x461205&&_0x461205['addEventListener'](_0x3be125(0x4be),()=>{const _0x9eebe=_0x3be125;topicTab[_0x9eebe(0x25c)][_0x9eebe(0x525)]('active'),textTab[_0x9eebe(0x25c)][_0x9eebe(0x525)](_0x9eebe(0x3cc)),fileTab[_0x9eebe(0x25c)][_0x9eebe(0x525)](_0x9eebe(0x3cc)),worksheetTab[_0x9eebe(0x25c)][_0x9eebe(0x525)](_0x9eebe(0x3cc));if(_0x529c3c)_0x529c3c[_0x9eebe(0x25c)][_0x9eebe(0x525)]('active');if(_0x32be6a)_0x32be6a[_0x9eebe(0x25c)]['remove'](_0x9eebe(0x3cc));if(_0x38c28f)_0x38c28f[_0x9eebe(0x25c)][_0x9eebe(0x525)](_0x9eebe(0x3cc));_0x461205[_0x9eebe(0x25c)][_0x9eebe(0x2bd)]('active'),topicInputArea[_0x9eebe(0x25c)][_0x9eebe(0x2bd)](_0x9eebe(0x864)),textInputArea[_0x9eebe(0x25c)]['add']('hidden'),fileInputArea[_0x9eebe(0x25c)][_0x9eebe(0x2bd)]('hidden'),worksheetInputArea['classList'][_0x9eebe(0x2bd)](_0x9eebe(0x864));if(_0x4f415a)_0x4f415a[_0x9eebe(0x25c)][_0x9eebe(0x2bd)](_0x9eebe(0x864));if(_0x5c0ce1)_0x5c0ce1[_0x9eebe(0x25c)]['add'](_0x9eebe(0x864));if(_0x7958d5)_0x7958d5['classList'][_0x9eebe(0x2bd)](_0x9eebe(0x864));_0x487c79[_0x9eebe(0x25c)][_0x9eebe(0x525)]('hidden'),displayQuestionBank();});_0x529c3c&&(_0x529c3c[_0x3be125(0x234)](_0x3be125(0x4be),()=>{const _0xfc6c2c=_0x3be125;_0x529c3c['classList'][_0xfc6c2c(0x2bd)]('active'),topicTab['classList'][_0xfc6c2c(0x525)]('active'),textTab[_0xfc6c2c(0x25c)][_0xfc6c2c(0x525)](_0xfc6c2c(0x3cc)),fileTab['classList'][_0xfc6c2c(0x525)](_0xfc6c2c(0x3cc)),worksheetTab['classList'][_0xfc6c2c(0x525)](_0xfc6c2c(0x3cc));if(_0x32be6a)_0x32be6a['classList'][_0xfc6c2c(0x525)]('active');if(_0x38c28f)_0x38c28f[_0xfc6c2c(0x25c)][_0xfc6c2c(0x525)]('active');_0x4f415a[_0xfc6c2c(0x25c)][_0xfc6c2c(0x525)]('hidden'),topicInputArea['classList'][_0xfc6c2c(0x2bd)](_0xfc6c2c(0x864)),textInputArea[_0xfc6c2c(0x25c)][_0xfc6c2c(0x2bd)](_0xfc6c2c(0x864)),fileInputArea[_0xfc6c2c(0x25c)]['add']('hidden'),worksheetInputArea[_0xfc6c2c(0x25c)][_0xfc6c2c(0x2bd)](_0xfc6c2c(0x864));if(_0x5c0ce1)_0x5c0ce1[_0xfc6c2c(0x25c)][_0xfc6c2c(0x2bd)](_0xfc6c2c(0x864));if(_0x7958d5)_0x7958d5[_0xfc6c2c(0x25c)]['add'](_0xfc6c2c(0x864));}),document[_0x3be125(0xa9a)](_0x3be125(0x7e6))[_0x3be125(0x234)](_0x3be125(0x4be),handleGenerateFromLink));_0x32be6a&&_0x32be6a['addEventListener'](_0x3be125(0x4be),()=>{const _0xe191cc=_0x3be125;_0x32be6a['classList']['add'](_0xe191cc(0x3cc)),topicTab[_0xe191cc(0x25c)][_0xe191cc(0x525)](_0xe191cc(0x3cc)),textTab[_0xe191cc(0x25c)]['remove'](_0xe191cc(0x3cc)),fileTab[_0xe191cc(0x25c)]['remove'](_0xe191cc(0x3cc)),worksheetTab[_0xe191cc(0x25c)]['remove'](_0xe191cc(0x3cc));if(_0x529c3c)_0x529c3c[_0xe191cc(0x25c)][_0xe191cc(0x525)](_0xe191cc(0x3cc));if(_0x461205)_0x461205['classList'][_0xe191cc(0x525)]('active');if(_0x38c28f)_0x38c28f['classList'][_0xe191cc(0x525)](_0xe191cc(0x3cc));_0x5c0ce1[_0xe191cc(0x25c)][_0xe191cc(0x525)](_0xe191cc(0x864)),topicInputArea[_0xe191cc(0x25c)][_0xe191cc(0x2bd)](_0xe191cc(0x864)),textInputArea[_0xe191cc(0x25c)][_0xe191cc(0x2bd)](_0xe191cc(0x864)),fileInputArea['classList'][_0xe191cc(0x2bd)](_0xe191cc(0x864)),worksheetInputArea[_0xe191cc(0x25c)][_0xe191cc(0x2bd)](_0xe191cc(0x864));if(_0x4f415a)_0x4f415a['classList']['add'](_0xe191cc(0x864));if(_0x487c79)_0x487c79[_0xe191cc(0x25c)][_0xe191cc(0x2bd)](_0xe191cc(0x864));if(_0x7958d5)_0x7958d5[_0xe191cc(0x25c)][_0xe191cc(0x2bd)]('hidden');});_0x38c28f&&_0x38c28f['addEventListener'](_0x3be125(0x4be),()=>{const _0x11ce00=_0x3be125;_0x38c28f[_0x11ce00(0x25c)][_0x11ce00(0x2bd)](_0x11ce00(0x3cc)),topicTab[_0x11ce00(0x25c)][_0x11ce00(0x525)](_0x11ce00(0x3cc)),textTab[_0x11ce00(0x25c)]['remove']('active'),fileTab[_0x11ce00(0x25c)]['remove'](_0x11ce00(0x3cc)),worksheetTab['classList'][_0x11ce00(0x525)](_0x11ce00(0x3cc));if(_0x529c3c)_0x529c3c['classList'][_0x11ce00(0x525)]('active');if(_0x32be6a)_0x32be6a['classList'][_0x11ce00(0x525)]('active');if(_0x461205)_0x461205[_0x11ce00(0x25c)]['remove']('active');_0x7958d5['classList'][_0x11ce00(0x525)]('hidden'),topicInputArea[_0x11ce00(0x25c)][_0x11ce00(0x2bd)](_0x11ce00(0x864)),textInputArea['classList'][_0x11ce00(0x2bd)](_0x11ce00(0x864)),fileInputArea[_0x11ce00(0x25c)][_0x11ce00(0x2bd)](_0x11ce00(0x864)),worksheetInputArea[_0x11ce00(0x25c)][_0x11ce00(0x2bd)](_0x11ce00(0x864));if(_0x4f415a)_0x4f415a[_0x11ce00(0x25c)][_0x11ce00(0x2bd)]('hidden');if(_0x5c0ce1)_0x5c0ce1[_0x11ce00(0x25c)][_0x11ce00(0x2bd)]('hidden');if(_0x487c79)_0x487c79[_0x11ce00(0x25c)][_0x11ce00(0x2bd)](_0x11ce00(0x864));});const _0x5cd20d=document[_0x3be125(0xa9a)]('blueprint-upload-input'),_0x5a954b=document[_0x3be125(0xa9a)](_0x3be125(0x79f));if(_0x5cd20d){const _0x566f5f=document[_0x3be125(0xa9a)](_0x3be125(0x26f)),_0x13e9e6=document[_0x3be125(0xa9a)]('generate-from-blueprint-btn'),_0x1837f6=document[_0x3be125(0xa9a)](_0x3be125(0x1ce)),_0x19a72b=document['getElementById'](_0x3be125(0x3d0)),_0x11b17f=document[_0x3be125(0xa9a)](_0x3be125(0xb6f)),_0x40ab79=document['getElementById'](_0x3be125(0x368));_0x566f5f&&_0x566f5f[_0x3be125(0x234)]('change',async _0x25c79e=>{const _0x5ea2ee=_0x3be125;_0x1837f6[_0x5ea2ee(0x25c)][_0x5ea2ee(0x2bd)](_0x5ea2ee(0x864)),_0x11b17f[_0x5ea2ee(0x25c)][_0x5ea2ee(0x2bd)]('hidden'),_0x19a72b[_0x5ea2ee(0x23a)]=![],_0x13e9e6[_0x5ea2ee(0xb12)]=!![];const _0x5d604d=_0x25c79e[_0x5ea2ee(0xa7d)][_0x5ea2ee(0x10b)][0x0];if(_0x5d604d){_0x13e9e6['disabled']=![];try{const _0x1e0516=await extractTextFromPdf(_0x5d604d);await analyzeBlueprintForTopics(_0x1e0516);}catch(_0x3224bc){showMessage(_0x5ea2ee(0x29b)),_0x1837f6[_0x5ea2ee(0x25c)][_0x5ea2ee(0x2bd)](_0x5ea2ee(0x864));}}}),_0x19a72b&&_0x19a72b['addEventListener']('change',_0x2a9125=>{const _0x57e90c=_0x3be125,_0x2cbff3=_0x2a9125['target'][_0x57e90c(0x23a)];_0x11b17f[_0x57e90c(0x25c)][_0x57e90c(0x4a8)]('hidden',!_0x2cbff3),_0x13e9e6[_0x57e90c(0xb12)]=_0x2cbff3;}),_0x40ab79&&(_0x40ab79&&_0x40ab79['addEventListener'](_0x3be125(0x4be),_0x50731d=>{const _0x360106=_0x3be125,_0x3d404f=_0x50731d[_0x360106(0xa7d)][_0x360106(0x997)](_0x360106(0x5ad)),_0x1adf47=_0x50731d[_0x360106(0xa7d)][_0x360106(0x997)](_0x360106(0x6e5));if(_0x3d404f){const _0x411dde=unescape(_0x3d404f[_0x360106(0x9f6)][_0x360106(0x21a)]);generateQuizForSingleTopic(_0x411dde);}else{if(_0x1adf47){const _0x17b2ee=unescape(_0x1adf47[_0x360106(0x9f6)][_0x360106(0x21a)]);handleGenerateTeachingContent(_0x17b2ee);}}}));}_0x5a954b&&_0x5a954b[_0x3be125(0x234)]('click',handleGenerateFromBlueprint);const _0x482783=document[_0x3be125(0xa9a)]('parallel-test-upload-input'),_0x6a1437=document['getElementById'](_0x3be125(0x8f6));_0x482783&&_0x482783['addEventListener'](_0x3be125(0x436),_0x35cf6d=>{const _0x426380=_0x3be125;_0x6a1437[_0x426380(0xb12)]=_0x35cf6d[_0x426380(0xa7d)][_0x426380(0x10b)]['length']===0x0;});_0x6a1437&&_0x6a1437['addEventListener']('click',handleGenerateParallelTest);loadQuizBtn['addEventListener'](_0x3be125(0x4be),handleLoadQuiz),startQuizBtn['addEventListener']('click',async()=>{const _0x1fc747=_0x3be125,_0x328eeb=document[_0x1fc747(0xa9a)]('student-name-select');currentStudentName=_0x328eeb['value'];if(!currentStudentName){showMessage(_0x1fc747(0x5bf));return;}try{const _0x58e541=currentQuizData['id'],_0x13b9ec=doc(db,_0x1fc747(0x827)+appId+'/public/data/quizzes/'+_0x58e541+_0x1fc747(0x4d3),currentStudentName),_0xdf17df=await getDoc(_0x13b9ec);!_0xdf17df[_0x1fc747(0x539)]()?await setDoc(_0x13b9ec,{'studentName':currentStudentName,'startedAt':new Date()[_0x1fc747(0x61f)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x13b9ec,{'startedAt':new Date()['toISOString']()});}catch(_0x417b3b){console[_0x1fc747(0x4a0)](_0x1fc747(0x749),_0x417b3b),showMessage(_0x1fc747(0x60f));return;}studentNameSelectionView['classList'][_0x1fc747(0x2bd)](_0x1fc747(0x864)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x3be125(0xa9a)](_0x3be125(0x11b))[_0x3be125(0x234)]('click',showJoinGameView),document[_0x3be125(0xa9a)](_0x3be125(0x7ff))[_0x3be125(0x234)](_0x3be125(0x4be),handleJoinLiveGame),document['getElementById'](_0x3be125(0x466))[_0x3be125(0x234)]('click',()=>showView(_0x3be125(0x21f)));const _0x43515f=()=>{const _0x533f1e=_0x3be125,_0x2d47a8=document[_0x533f1e(0xa9a)](_0x533f1e(0x717))[_0x533f1e(0xa0d)][_0x533f1e(0x9da)](/[^a-z0-9]/gi,'_')[_0x533f1e(0x90c)]();return'results_'+(_0x2d47a8||_0x533f1e(0x88a));},_0x49aa38=document[_0x3be125(0xa9a)](_0x3be125(0xaf6));_0x49aa38&&_0x49aa38[_0x3be125(0x234)](_0x3be125(0x42a),_0x31fc11=>{const _0x3dadb3=_0x3be125,_0x484ef2=_0x31fc11[_0x3dadb3(0xa7d)][_0x3dadb3(0x589)][_0x3dadb3(0x90c)]()[_0x3dadb3(0x2b0)](),_0x46337d=document[_0x3dadb3(0xa9a)](_0x3dadb3(0x6ff)),_0x3c0cb5=_0x46337d[_0x3dadb3(0x4e0)](_0x3dadb3(0x6da));_0x3c0cb5[_0x3dadb3(0x50c)](_0x4b7a44=>{const _0x51c1a9=_0x3dadb3;let _0x3503a5=![];const _0x3034ab=_0x4b7a44[_0x51c1a9(0x4e0)](_0x51c1a9(0x9c6));_0x3034ab[_0x51c1a9(0x50c)](_0x554d4e=>{const _0x53a81a=_0x51c1a9,_0x241cc2=_0x554d4e[_0x53a81a(0x46b)](_0x53a81a(0x497))['textContent'][_0x53a81a(0x90c)]();_0x241cc2[_0x53a81a(0x203)](_0x484ef2)?(_0x554d4e['style'][_0x53a81a(0x42c)]=_0x53a81a(0xb68),_0x3503a5=!![]):_0x554d4e[_0x53a81a(0x8f0)][_0x53a81a(0x42c)]=_0x53a81a(0x49f);}),_0x3503a5?_0x4b7a44['style'][_0x51c1a9(0x42c)]=_0x51c1a9(0x9ce):_0x4b7a44[_0x51c1a9(0x8f0)][_0x51c1a9(0x42c)]=_0x51c1a9(0x49f);});});document[_0x3be125(0xa9a)](_0x3be125(0x91d))['addEventListener']('click',()=>exportTableAsImage(_0x3be125(0xb8a),_0x43515f())),document[_0x3be125(0xa9a)](_0x3be125(0x163))[_0x3be125(0x234)](_0x3be125(0x4be),()=>exportTableAsPDF(_0x3be125(0x6bb),_0x43515f())),document[_0x3be125(0xa9a)]('export-word-btn')[_0x3be125(0x234)]('click',()=>exportTableAsWord(_0x3be125(0xb8a),_0x43515f())),document[_0x3be125(0xa9a)](_0x3be125(0x8fa))[_0x3be125(0x234)](_0x3be125(0x4be),()=>exportTableAsExcel(_0x3be125(0x6bb),_0x43515f()));const _0x47c2bc=()=>{const _0x6f2eed=_0x3be125,_0x107968=document['getElementById'](_0x6f2eed(0x717))['textContent'][_0x6f2eed(0x9da)](/[^a-z0-9]/gi,'_')[_0x6f2eed(0x90c)]();return _0x6f2eed(0x776)+(_0x107968||_0x6f2eed(0x88a));};document[_0x3be125(0xa9a)](_0x3be125(0x826))[_0x3be125(0x234)](_0x3be125(0x4be),()=>exportTableAsImage(_0x3be125(0xb79),_0x47c2bc())),document[_0x3be125(0xa9a)](_0x3be125(0x540))[_0x3be125(0x234)](_0x3be125(0x4be),()=>exportTableAsPDF('quiz-leaderboard-table',_0x47c2bc())),document[_0x3be125(0xa9a)](_0x3be125(0x28f))[_0x3be125(0x234)](_0x3be125(0x4be),()=>exportTableAsWord(_0x3be125(0xb79),_0x47c2bc())),document[_0x3be125(0xa9a)]('export-leaderboard-excel-btn')[_0x3be125(0x234)](_0x3be125(0x4be),()=>exportTableAsExcel(_0x3be125(0x1ae),_0x47c2bc())),projectQuizzesList[_0x3be125(0x234)](_0x3be125(0x4be),async _0x507c82=>{const _0x5229cf=_0x3be125,_0x4e5afc=_0x507c82[_0x5229cf(0xa7d)][_0x5229cf(0x997)]('.quiz-result-card'),_0x4a37f2=_0x507c82['target'][_0x5229cf(0x997)](_0x5229cf(0xb59)),_0x4c5be2=_0x507c82['target'][_0x5229cf(0x997)](_0x5229cf(0x67e)),_0x5c9eba=_0x507c82['target'][_0x5229cf(0x997)](_0x5229cf(0x5c8)),_0x37c16c=_0x507c82['target']['closest'](_0x5229cf(0x38b)),_0x3f0003=_0x507c82[_0x5229cf(0xa7d)]['closest'](_0x5229cf(0x65e)),_0x56fd7c=_0x507c82[_0x5229cf(0xa7d)][_0x5229cf(0x997)](_0x5229cf(0x53b)),_0x5d392c=_0x507c82['target']['closest']('.quiz-settings-btn'),_0x37481f=_0x507c82['target']['closest'](_0x5229cf(0x845)),_0x5da81f=_0x507c82[_0x5229cf(0xa7d)][_0x5229cf(0x997)](_0x5229cf(0x673)),_0x1d276e=_0x507c82[_0x5229cf(0xa7d)][_0x5229cf(0x997)](_0x5229cf(0x3b0)),_0x1ae4c1=_0x507c82[_0x5229cf(0xa7d)][_0x5229cf(0x997)](_0x5229cf(0x378)),_0x2a8421=_0x507c82[_0x5229cf(0xa7d)]['closest'](_0x5229cf(0x5a4)),_0x478822=_0x507c82[_0x5229cf(0xa7d)]['closest'](_0x5229cf(0x899)),_0xd2217=_0x507c82[_0x5229cf(0xa7d)][_0x5229cf(0x997)](_0x5229cf(0x83f)),_0x17eb2e=_0x507c82['target'][_0x5229cf(0x997)](_0x5229cf(0x905)),_0x16f6a5=_0x507c82['target'][_0x5229cf(0x997)]('.export-pdf-list-btn'),_0x56e54b=_0x507c82['target']['closest'](_0x5229cf(0x627)),_0x3addf1=_0x507c82['target'][_0x5229cf(0x997)](_0x5229cf(0x91a)),_0x486a55=_0x507c82[_0x5229cf(0xa7d)]['closest'](_0x5229cf(0x4ec)),_0x4c84f9=_0x507c82['target'][_0x5229cf(0x997)](_0x5229cf(0x599)),_0x1067c1=_0x507c82[_0x5229cf(0xa7d)][_0x5229cf(0x997)]('.start-game-btn'),_0x30aff6=_0x507c82[_0x5229cf(0xa7d)][_0x5229cf(0x997)](_0x5229cf(0x962));if(_0x1067c1){const _0x5abbc7=_0x1067c1[_0x5229cf(0x9f6)]['quizId'],_0x6887c7=_0x1067c1[_0x5229cf(0x9f6)][_0x5229cf(0x9b8)],_0x4173f8=allQuizzes['find'](_0x5d5466=>_0x5d5466['id']===_0x5abbc7);_0x4173f8&&showGameStartConfirmationModal(_0x5abbc7,_0x6887c7,_0x4173f8[_0x5229cf(0x21a)]);}else{if(_0x30aff6){const _0x13695a=_0x30aff6[_0x5229cf(0x9f6)][_0x5229cf(0x65d)];handleStartLiveRace(_0x13695a);}else{if(_0x486a55){const _0x18afde=_0x486a55[_0x5229cf(0x9f6)][_0x5229cf(0x65d)],_0x27aec3=document[_0x5229cf(0xa9a)](_0x5229cf(0x822)+_0x18afde);_0x27aec3&&_0x27aec3[_0x5229cf(0x25c)]['toggle'](_0x5229cf(0x864));}else{if(_0x4a37f2){const _0x2045b8=_0x4a37f2['dataset'][_0x5229cf(0x65d)],_0x4a9aea=allQuizzes[_0x5229cf(0x3d5)](_0x4ce47c=>_0x4ce47c['id']===_0x2045b8);_0x4a9aea&&handleGenerateParallelPostTest(_0x4a9aea);}else{if(_0x4c5be2)handleCompareResults(_0x4c5be2[_0x5229cf(0x9f6)][_0x5229cf(0x65d)],_0x4c5be2[_0x5229cf(0x9f6)][_0x5229cf(0x800)]);else{if(_0x5c9eba){const _0x4846ea=_0x5c9eba[_0x5229cf(0x9f6)]['quizId'],_0x5c7109=allQuizzes['find'](_0x41618b=>_0x41618b['id']===_0x4846ea);_0x5c7109&&_0x5c7109[_0x5229cf(0x9b1)]?(displayLessonPlan(_0x5c7109[_0x5229cf(0x9b1)],_0x5c7109),showConfirmation(_0x5229cf(0x6b4),()=>handleGenerateLessonPlan(_0x4846ea)),document[_0x5229cf(0xa9a)](_0x5229cf(0x2d3))[_0x5229cf(0x46b)]('h3')[_0x5229cf(0xa0d)]='แผนการสอน',document[_0x5229cf(0xa9a)]('confirm-delete-btn')[_0x5229cf(0xa0d)]=_0x5229cf(0xa7a)):handleGenerateLessonPlan(_0x4846ea);}else{if(_0x37c16c)handleToggleStarQuiz(_0x37c16c[_0x5229cf(0x9f6)][_0x5229cf(0x65d)]);else{if(_0x3f0003)copyTextToClipboard(_0x3f0003[_0x5229cf(0x9f6)][_0x5229cf(0x65d)],_0x5229cf(0x48f));else{if(_0x56fd7c)handleOpenQuizEditor(_0x56fd7c[_0x5229cf(0x9f6)][_0x5229cf(0x65d)]);else{if(_0x5d392c)handleQuizSettings(_0x5d392c[_0x5229cf(0x9f6)]['quizId']);else{if(_0x37481f)handleDuplicateQuiz(_0x37481f[_0x5229cf(0x9f6)]['quizId']);else{if(_0x5da81f)handleRenameQuiz(_0x5da81f[_0x5229cf(0x9f6)][_0x5229cf(0x65d)],_0x5da81f[_0x5229cf(0x9f6)][_0x5229cf(0x21a)]);else{if(_0x1d276e){const _0x41afc7=_0x1d276e[_0x5229cf(0x9f6)][_0x5229cf(0x65d)],_0xcdb699=allQuizzes['find'](_0x17617a=>_0x17617a['id']===_0x41afc7);_0xcdb699&&handleGenerateParallelFromBank(_0xcdb699);}else{if(_0x1ae4c1)handleMoveQuiz(_0x1ae4c1['dataset'][_0x5229cf(0x65d)]);else{if(_0x2a8421)handleManualQuizPairing(_0x2a8421[_0x5229cf(0x9f6)][_0x5229cf(0x65d)]);else{if(_0x478822)handleUnpairQuiz(_0x478822[_0x5229cf(0x9f6)][_0x5229cf(0x65d)]);else{if(_0xd2217){const _0x583833=_0xd2217[_0x5229cf(0x9f6)]['quizId'],_0x4e712f=allQuizzes[_0x5229cf(0x3d5)](_0x40d811=>_0x40d811['id']===_0x583833);if(_0x4e712f)startPresentation(_0x4e712f);}else{if(_0x17eb2e){const _0xf7181b=_0x17eb2e['dataset'][_0x5229cf(0x65d)],_0x3f5101=allQuizzes[_0x5229cf(0x3d5)](_0x550062=>_0x550062['id']===_0xf7181b);_0x3f5101&&(currentQuizData=_0x3f5101,startAdminTest());}else{if(_0x16f6a5)actionTargetId=_0x16f6a5[_0x5229cf(0x9f6)][_0x5229cf(0x65d)],document[_0x5229cf(0xa9a)](_0x5229cf(0xb64))[_0x5229cf(0x25c)][_0x5229cf(0x525)]('hidden');else{if(_0x56e54b)showConfirmation(_0x5229cf(0xb80)+_0x56e54b[_0x5229cf(0x9f6)]['topic']+_0x5229cf(0x6ae),()=>handleDeleteQuiz(_0x56e54b[_0x5229cf(0x9f6)][_0x5229cf(0x65d)]));else{if(_0x3addf1)handleQuizStatus(_0x3addf1[_0x5229cf(0x9f6)][_0x5229cf(0x65d)]);else{if(_0x4c84f9)handleGenerateEasyVersionQuiz(_0x4c84f9[_0x5229cf(0x9f6)][_0x5229cf(0x65d)]);else _0x4e5afc&&showQuizDetailView(_0x4e5afc[_0x5229cf(0x9f6)][_0x5229cf(0x65d)]);}}}}}}}}}}}}}}}}}}}}}}),document['getElementById'](_0x3be125(0x866))[_0x3be125(0x234)](_0x3be125(0x4be),()=>showView(_0x3be125(0x21f))),document[_0x3be125(0xa9a)]('confirm-team-players-btn')[_0x3be125(0x234)]('click',confirmAndStartTeamQuiz),document[_0x3be125(0xa9a)](_0x3be125(0x1ae))[_0x3be125(0x46b)]('thead')['addEventListener'](_0x3be125(0x4be),_0x11900c=>{const _0x36dbb7=_0x3be125,_0x39714d=_0x11900c['target'][_0x36dbb7(0x997)](_0x36dbb7(0x25b));if(!_0x39714d||!_0x39714d[_0x36dbb7(0x9f6)][_0x36dbb7(0xae5)])return;const _0x7272c3=_0x39714d[_0x36dbb7(0x9f6)][_0x36dbb7(0xae5)];if(quizLeaderboardSortBy===_0x7272c3)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?_0x36dbb7(0xa61):_0x36dbb7(0x982);else{quizLeaderboardSortBy=_0x7272c3;const _0x443d95=[_0x36dbb7(0x8d6)];quizLeaderboardSortOrder=_0x443d95[_0x36dbb7(0x203)](_0x7272c3)?_0x36dbb7(0x982):'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x36dbb7(0x84c));}),document[_0x3be125(0xa9a)](_0x3be125(0x3ab))[_0x3be125(0x234)](_0x3be125(0x4be),closePresentation),document[_0x3be125(0xa9a)]('prev-question-btn')[_0x3be125(0x234)](_0x3be125(0x4be),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0x3be125(0x233))[_0x3be125(0x234)](_0x3be125(0x4be),()=>{const _0x2c94a2=_0x3be125;currentQuizData[_0x2c94a2(0x4aa)]&&currentPresentationSlide<currentQuizData[_0x2c94a2(0x4aa)][_0x2c94a2(0x7dc)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document['addEventListener'](_0x3be125(0x6ef),()=>{const _0x5c58e1=_0x3be125;!document['fullscreenElement']&&(presentationModal[_0x5c58e1(0x8f0)][_0x5c58e1(0x42c)]=_0x5c58e1(0x49f));}),document[_0x3be125(0xa9a)](_0x3be125(0xaa7))[_0x3be125(0x234)](_0x3be125(0x4be),handleDeleteAllStudents),studentList['addEventListener'](_0x3be125(0x4be),_0x1085bb=>{const _0x59f346=_0x3be125,_0xf8aa22=_0x1085bb[_0x59f346(0xa7d)][_0x59f346(0x997)]('.delete-student-btn');if(_0xf8aa22){const _0x3173ba=_0xf8aa22[_0x59f346(0x9f6)][_0x59f346(0x8d6)];handleDeleteStudent(_0x3173ba);}}),document[_0x3be125(0xa9a)](_0x3be125(0x2c0))[_0x3be125(0x234)](_0x3be125(0x4be),handleGenerateFromFileClick),fileUploadInput[_0x3be125(0x234)]('change',_0x462dd9=>{const _0x290b37=_0x3be125,_0x19d1ad=_0x462dd9[_0x290b37(0xa7d)][_0x290b37(0x10b)][0x0],_0x44bba3=document['getElementById'](_0x290b37(0x2c0)),_0x4ba7b6=document[_0x290b37(0xa9a)]('file-topics-list-container'),_0x52d079=document[_0x290b37(0xa9a)]('separate-by-content-from-file-checkbox');_0x19d1ad?(selectedFile=_0x19d1ad,_0x52d079[_0x290b37(0x23a)]?(_0x44bba3['disabled']=!![],analyzeFileForTopics(_0x19d1ad)):(_0x44bba3[_0x290b37(0xb12)]=![],_0x4ba7b6[_0x290b37(0x25c)][_0x290b37(0x2bd)]('hidden'))):(selectedFile=null,_0x44bba3[_0x290b37(0xb12)]=!![],_0x4ba7b6[_0x290b37(0x25c)][_0x290b37(0x2bd)](_0x290b37(0x864)));}),document[_0x3be125(0xa9a)]('separate-by-content-from-file-checkbox')[_0x3be125(0x234)](_0x3be125(0x436),_0x2db884=>{const _0x36294d=_0x3be125,_0x26f06d=_0x2db884['target'][_0x36294d(0x23a)],_0x5ae0b3=document[_0x36294d(0xa9a)](_0x36294d(0x2c0)),_0xc1b4da=document['getElementById'](_0x36294d(0x316));_0x26f06d?(_0x5ae0b3[_0x36294d(0xb12)]=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0xc1b4da['classList']['remove'](_0x36294d(0x864)),document['getElementById'](_0x36294d(0x3f7))[_0x36294d(0x415)]='<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>')):(_0xc1b4da[_0x36294d(0x25c)][_0x36294d(0x2bd)](_0x36294d(0x864)),_0x5ae0b3[_0x36294d(0xb12)]=!selectedFile);}),document[_0x3be125(0xa9a)](_0x3be125(0x316))[_0x3be125(0x234)](_0x3be125(0x4be),_0x4a1d3a=>{const _0x57f8b7=_0x3be125,_0x37650d=_0x4a1d3a[_0x57f8b7(0xa7d)][_0x57f8b7(0x997)](_0x57f8b7(0x7f5)),_0x12a406=_0x4a1d3a[_0x57f8b7(0xa7d)][_0x57f8b7(0x997)](_0x57f8b7(0x6e5));if(_0x37650d){const _0x518712=unescape(_0x37650d[_0x57f8b7(0x9f6)][_0x57f8b7(0x21a)]);generateHybridQuizForTopic(_0x518712);}else{if(_0x12a406){const _0x372255=unescape(_0x12a406[_0x57f8b7(0x9f6)]['topic']),_0x123ad1=document[_0x57f8b7(0xa9a)](_0x57f8b7(0xa26))[_0x57f8b7(0x589)];handleGenerateAndShowLesson(_0x372255,_0x123ad1);}}}),document['getElementById']('timer-mode-select')[_0x3be125(0x234)](_0x3be125(0x436),_0x275e99=>{const _0x5b6b06=_0x3be125,_0x2872c9=document[_0x5b6b06(0xa9a)](_0x5b6b06(0x6a4)),_0xdabea6=document[_0x5b6b06(0xa9a)](_0x5b6b06(0x3da)),_0x542a89=document['getElementById']('timer-duration-input');_0x275e99[_0x5b6b06(0xa7d)][_0x5b6b06(0x589)]===_0x5b6b06(0x49f)?_0x2872c9[_0x5b6b06(0x25c)]['add'](_0x5b6b06(0x864)):(_0x2872c9[_0x5b6b06(0x25c)][_0x5b6b06(0x525)](_0x5b6b06(0x864)),_0x275e99[_0x5b6b06(0xa7d)][_0x5b6b06(0x589)]==='whole_quiz'?(_0xdabea6[_0x5b6b06(0xa0d)]=_0x5b6b06(0x6a9),_0x542a89[_0x5b6b06(0x589)]='10'):(_0xdabea6[_0x5b6b06(0xa0d)]=_0x5b6b06(0xb0a),_0x542a89[_0x5b6b06(0x589)]='30'));}),document[_0x3be125(0xa9a)]('quiz-type-select')[_0x3be125(0x234)]('change',_0xa02e33=>{const _0x243476=_0x3be125,_0x3b02fe=document['getElementById']('num-choices-container'),_0x40d59b=_0xa02e33[_0x243476(0xa7d)]['value'],_0x5aefe2=document[_0x243476(0x46b)](_0x243476(0xb97)),_0x14edf6=document[_0x243476(0xa9a)](_0x243476(0x499)),_0x4f9942=document[_0x243476(0xa9a)](_0x243476(0x232));_0x40d59b===_0x243476(0x420)?_0x5aefe2[_0x243476(0xa0d)]=_0x243476(0x9cd):_0x5aefe2['textContent']=_0x243476(0xb42),_0x40d59b==='multiple_choice'||_0x40d59b===_0x243476(0x9ff)||_0x40d59b===_0x243476(0x628)?_0x3b02fe[_0x243476(0x25c)][_0x243476(0x525)](_0x243476(0x864)):_0x3b02fe[_0x243476(0x25c)][_0x243476(0x2bd)](_0x243476(0x864)),_0x14edf6[_0x243476(0x130)]=_0x4f9942[_0x243476(0x589)];}),document['getElementById'](_0x3be125(0x232))[_0x3be125(0x234)](_0x3be125(0x42a),_0x2a1bdf=>{const _0x15f818=_0x3be125;document[_0x15f818(0xa9a)](_0x15f818(0x499))['max']=_0x2a1bdf[_0x15f818(0xa7d)][_0x15f818(0x589)];}),document['getElementById'](_0x3be125(0x1ea))['addEventListener']('change',_0x583523=>{const _0x53296e=_0x3be125,_0x480000=document[_0x53296e(0xa9a)]('modal-timer-duration-container'),_0x2c90ae=document[_0x53296e(0xa9a)]('modal-timer-duration-label'),_0x517c2b=document[_0x53296e(0xa9a)](_0x53296e(0x386));_0x583523['target'][_0x53296e(0x589)]===_0x53296e(0x49f)?_0x480000[_0x53296e(0x25c)][_0x53296e(0x2bd)](_0x53296e(0x864)):(_0x480000[_0x53296e(0x25c)][_0x53296e(0x525)](_0x53296e(0x864)),_0x583523[_0x53296e(0xa7d)]['value']===_0x53296e(0x356)?_0x2c90ae['textContent']='ระยะเวลา\x20(นาที):':_0x2c90ae[_0x53296e(0xa0d)]=_0x53296e(0xb0a));}),document['getElementById']('cancel-quiz-edits-btn')['addEventListener'](_0x3be125(0x4be),()=>{const _0x2cc7ed=_0x3be125;document[_0x2cc7ed(0xa9a)](_0x2cc7ed(0x941))[_0x2cc7ed(0x25c)][_0x2cc7ed(0x2bd)](_0x2cc7ed(0x864));}),document[_0x3be125(0xa9a)](_0x3be125(0x62e))['addEventListener'](_0x3be125(0x4be),()=>{const _0x477285=_0x3be125;document[_0x477285(0xa9a)]('quiz-editor-modal')['classList']['add'](_0x477285(0x864));}),document[_0x3be125(0xa9a)](_0x3be125(0x52f))['addEventListener'](_0x3be125(0x4be),handleVerifyAnswersInEditor),document[_0x3be125(0xa9a)](_0x3be125(0xa53))['addEventListener'](_0x3be125(0x4be),()=>{const _0x7af11f=_0x3be125;document[_0x7af11f(0xa9a)]('quiz-editor-modal')[_0x7af11f(0x25c)]['add']('hidden'),showConfirmation(_0x7af11f(0x338),handleSaveChanges);}),document[_0x3be125(0xa9a)](_0x3be125(0x9fa))[_0x3be125(0x234)](_0x3be125(0x4be),handleAutoFixLatex);const _0xb60aa7=document['getElementById'](_0x3be125(0x7e0));_0xb60aa7&&_0xb60aa7[_0x3be125(0x234)](_0x3be125(0x4be),_0x47a50e=>{const _0x47bbf5=_0x3be125,_0x1a8fc1=_0x47a50e['target'][_0x47bbf5(0x997)]('.regenerate-question-editor-btn'),_0x56f7c5=_0x47a50e['target'][_0x47bbf5(0x997)](_0x47bbf5(0xb8e));if(_0x1a8fc1){const _0x458a89=_0x1a8fc1[_0x47bbf5(0x997)](_0x47bbf5(0x693)),_0x26cde2=parseInt(_0x458a89['dataset'][_0x47bbf5(0x858)],0xa);handleRegenerateQuestionInEditor(_0x26cde2);}else{if(_0x56f7c5){const _0x4bc50a=_0x56f7c5[_0x47bbf5(0x997)](_0x47bbf5(0x693)),_0x751a8a=parseInt(_0x4bc50a['dataset'][_0x47bbf5(0x858)],0xa);handleAiFixFormula(_0x751a8a);}}});document['getElementById'](_0x3be125(0x425))['addEventListener'](_0x3be125(0x4be),openQuizBankModal),document[_0x3be125(0xa9a)](_0x3be125(0xb20))[_0x3be125(0x234)](_0x3be125(0x4be),()=>{const _0x9b2b60=_0x3be125;document[_0x9b2b60(0xa9a)](_0x9b2b60(0x560))[_0x9b2b60(0x25c)][_0x9b2b60(0x2bd)](_0x9b2b60(0x864));}),document['getElementById']('bank-quiz-search-input')[_0x3be125(0x234)]('input',_0x208f9c=>renderQuizBankList(_0x208f9c[_0x3be125(0xa7d)][_0x3be125(0x589)]));const _0x102f45=document[_0x3be125(0xa9a)](_0x3be125(0x6ff));if(_0x102f45){let _0x39f3c4=null;_0x102f45[_0x3be125(0x234)]('click',_0x1054c=>{const _0x35c04e=_0x3be125,_0x15dc26=_0x1054c[_0x35c04e(0xa7d)],_0x5ad8a3=_0x15dc26[_0x35c04e(0x997)]('.edit-custom-topic-btn'),_0x3f18ef=_0x15dc26[_0x35c04e(0x997)](_0x35c04e(0xb06)),_0x350d40=_0x15dc26[_0x35c04e(0x997)]('.save-custom-topic-btn'),_0x56ef9d=_0x15dc26[_0x35c04e(0x997)](_0x35c04e(0x716));if(_0x3f18ef){_0x1054c['preventDefault']();const _0x3c4e37=_0x3f18ef['dataset']['id'],_0x24494b=_0x3f18ef[_0x35c04e(0x997)](_0x35c04e(0x619))['querySelector'](_0x35c04e(0x497))[_0x35c04e(0xa0d)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22'+_0x24494b+'\x22?',()=>handleDeleteCustomTopic(_0x3c4e37));}else{if(_0x5ad8a3){_0x1054c[_0x35c04e(0x14f)]();_0x39f3c4&&toggleTopicEditMode(_0x39f3c4,![]);const _0x541cfb=_0x5ad8a3[_0x35c04e(0x997)](_0x35c04e(0x433));_0x39f3c4=_0x541cfb,toggleTopicEditMode(_0x541cfb,!![]);}else{if(_0x350d40){_0x1054c[_0x35c04e(0x14f)]();const _0xecf894=_0x350d40[_0x35c04e(0x9f6)]['id'],_0x10f510=_0x350d40['closest'](_0x35c04e(0x433)),_0x44b849=_0x10f510[_0x35c04e(0x46b)](_0x35c04e(0x3ec))[_0x35c04e(0x589)];handleUpdateCustomTopic(_0xecf894,_0x44b849),_0x39f3c4=null;}else{if(_0x56ef9d){_0x1054c['preventDefault']();const _0xb8449b=_0x56ef9d[_0x35c04e(0x997)](_0x35c04e(0x433));toggleTopicEditMode(_0xb8449b,![]),_0x39f3c4=null;}}}}}),document[_0x3be125(0xa9a)](_0x3be125(0x144))[_0x3be125(0x234)](_0x3be125(0x4be),()=>{const _0x165a4f=_0x3be125;document[_0x165a4f(0xa9a)](_0x165a4f(0x955))[_0x165a4f(0x25c)][_0x165a4f(0x2bd)](_0x165a4f(0x864));}),document[_0x3be125(0xa9a)](_0x3be125(0x90a))[_0x3be125(0x234)](_0x3be125(0x4be),()=>{const _0x140283=_0x3be125;document[_0x140283(0xa9a)](_0x140283(0x955))[_0x140283(0x25c)][_0x140283(0x2bd)](_0x140283(0x864));}),document[_0x3be125(0xa9a)](_0x3be125(0x4ce))['addEventListener']('click',handleExportLessonPDF);}document[_0x3be125(0xa9a)](_0x3be125(0x98e))[_0x3be125(0x234)](_0x3be125(0x4be),()=>{const _0x59fa3a=_0x3be125;document[_0x59fa3a(0xa9a)]('comparison-modal')[_0x59fa3a(0x25c)][_0x59fa3a(0x2bd)](_0x59fa3a(0x864));}),document[_0x3be125(0xa9a)](_0x3be125(0x64e))[_0x3be125(0x234)](_0x3be125(0x4be),()=>{const _0x20425a=_0x3be125;document['getElementById'](_0x20425a(0xb23))[_0x20425a(0x25c)]['add'](_0x20425a(0x864));}),setupComparisonModalTabs(),document[_0x3be125(0x7fa)][_0x3be125(0x234)]('click',function(_0x34b9ad){const _0x15e2d3=_0x3be125;if(_0x34b9ad['target']['classList'][_0x15e2d3(0x841)]('practice-topic-btn')){const _0x5a0131=unescape(_0x34b9ad['target'][_0x15e2d3(0x9f6)]['topic']);startSkillPractice(_0x5a0131);}}),document[_0x3be125(0xa9a)](_0x3be125(0x73a))[_0x3be125(0x234)]('click',_0x498a12=>{const _0x50b64c=_0x3be125,_0x543260=_0x498a12[_0x50b64c(0xa7d)]['closest'](_0x50b64c(0x58b));if(_0x543260){const _0x34678c=_0x543260[_0x50b64c(0x9f6)][_0x50b64c(0x8d6)];handleDeleteSubmission(_0x34678c);}});}async function handleStartGroupMode(_0x3619b0,_0x4eb8bc=![]){const _0x32703b=_0x27ad1b,_0x39b5a5=allQuizzes[_0x32703b(0x3d5)](_0x38bb49=>_0x38bb49['id']===_0x3619b0)||allQuizzesGlobal['find'](_0x3a9e35=>_0x3a9e35['id']===_0x3619b0);if(!_0x39b5a5){showMessage(_0x32703b(0x461));return;}currentQuizData=getShuffledQuiz(_0x39b5a5);const _0x4abd29=Math[_0x32703b(0xaac)](0x3e8+Math[_0x32703b(0x59a)]()*0x2328)[_0x32703b(0x7cb)]();try{const _0x3d77d9=await addDoc(collection(db,'artifacts/'+appId+_0x32703b(0xba4)),{'quizId':_0x39b5a5['id'],'projectId':_0x39b5a5[_0x32703b(0x35a)],'status':_0x32703b(0x557),'pin':_0x4abd29,'mode':_0x32703b(0x8dd),'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x4eb8bc});currentTeamQuizId=_0x3d77d9['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x4abd29,_0x39b5a5[_0x32703b(0x21a)],_0x32703b(0x8dd)),listenForTeamQuizUpdates();}catch(_0x5d9b09){console[_0x32703b(0x4a0)](_0x32703b(0x4a4),_0x5d9b09),showMessage(_0x32703b(0x741));}}async function showStudentProgressView(){const _0x358ad5=_0x27ad1b;studentInitialView[_0x358ad5(0x25c)][_0x358ad5(0x2bd)](_0x358ad5(0x864)),document['getElementById'](_0x358ad5(0xae3))[_0x358ad5(0x25c)][_0x358ad5(0x525)]('hidden');const _0x1474b4=document[_0x358ad5(0xa9a)](_0x358ad5(0x2a4)),_0x3b1048=document[_0x358ad5(0xa9a)](_0x358ad5(0xb3f)),_0x566325=document[_0x358ad5(0xa9a)]('student-progress-content');_0x566325[_0x358ad5(0x415)]=_0x358ad5(0xa8e),_0x3b1048['innerHTML']=_0x358ad5(0x470),_0x3b1048[_0x358ad5(0xb12)]=!![],_0x1474b4[_0x358ad5(0x415)]=_0x358ad5(0xad4);if(allProjects[_0x358ad5(0x7dc)]===0x0){const _0x11a65c=collection(db,_0x358ad5(0x827)+appId+'/public/data/projects'),_0x165b1e=await getDocs(_0x11a65c);allProjects=_0x165b1e[_0x358ad5(0x8e0)][_0x358ad5(0x821)](_0x5b9d53=>({'id':_0x5b9d53['id'],..._0x5b9d53[_0x358ad5(0x4b8)]()}));}const _0x27d627=allProjects[_0x358ad5(0x558)](_0x136a4d=>_0x136a4d[_0x358ad5(0x335)]?.[_0x358ad5(0x597)]!==![]);_0x27d627[_0x358ad5(0xae5)]((_0x5299ae,_0x30f594)=>_0x5299ae[_0x358ad5(0x5a8)][_0x358ad5(0x423)](_0x30f594['projectName'],'th')),_0x1474b4['innerHTML']=_0x358ad5(0xa8f)+_0x27d627[_0x358ad5(0x821)](_0x534c3e=>'<option\x20value=\x22'+_0x534c3e['id']+'\x22>'+_0x534c3e[_0x358ad5(0x5a8)]+_0x358ad5(0x125))[_0x358ad5(0x4ad)](''),_0x1474b4[_0x358ad5(0xab4)]=()=>{const _0x84c570=_0x358ad5,_0x2bc6f3=_0x3b1048[_0x84c570(0x589)],_0x252262=_0x1474b4[_0x84c570(0x589)];_0x3b1048[_0x84c570(0xb12)]=!![],_0x3b1048[_0x84c570(0x415)]=_0x84c570(0x470),_0x566325[_0x84c570(0x415)]=_0x84c570(0x1a5);if(!_0x252262)return;const _0x16ab48=allProjects[_0x84c570(0x3d5)](_0x2dc2f3=>_0x2dc2f3['id']===_0x252262);if(!_0x16ab48||!_0x16ab48['students'])return;const _0x19c15d=()=>{const _0x49ee1b=_0x84c570;_0x3b1048[_0x49ee1b(0x415)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>'+_0x16ab48[_0x49ee1b(0x161)][_0x49ee1b(0x821)](_0x287ea6=>_0x49ee1b(0x82c)+_0x287ea6+'\x22>'+_0x287ea6+_0x49ee1b(0x125))[_0x49ee1b(0x4ad)](''),_0x3b1048[_0x49ee1b(0xb12)]=![];const _0x384fd2=Array[_0x49ee1b(0x39f)](_0x3b1048[_0x49ee1b(0x559)])[_0x49ee1b(0x821)](_0x2c6863=>_0x2c6863[_0x49ee1b(0x589)]);if(_0x2bc6f3&&_0x384fd2['includes'](_0x2bc6f3))_0x3b1048[_0x49ee1b(0x589)]=_0x2bc6f3,_0x3b1048[_0x49ee1b(0xb2a)](new Event(_0x49ee1b(0x436)));else _0x16ab48['students'][_0x49ee1b(0x7dc)]===0x1&&(_0x3b1048[_0x49ee1b(0x589)]=_0x16ab48[_0x49ee1b(0x161)][0x0],_0x3b1048['dispatchEvent'](new Event(_0x49ee1b(0x436))));};if(_0x16ab48['settings']?.[_0x84c570(0x283)]){if(sessionStorage['getItem'](_0x84c570(0x398)+_0x252262)==='true'){_0x19c15d();return;}const _0x21ead7=document['getElementById']('project-passcode-modal'),_0xac8edf=document['getElementById'](_0x84c570(0x6f9)),_0x2a00da=document[_0x84c570(0xa9a)](_0x84c570(0x873)),_0x2d6e90=document[_0x84c570(0xa9a)]('student-passcode-input'),_0x59ed57=document[_0x84c570(0xa9a)]('passcode-error-msg');document[_0x84c570(0xa9a)](_0x84c570(0x701))[_0x84c570(0xa0d)]=_0x84c570(0x9a0)+_0x16ab48['projectName'],_0x2d6e90[_0x84c570(0x589)]='',_0x59ed57[_0x84c570(0x25c)]['add']('hidden'),_0x21ead7[_0x84c570(0x25c)]['remove'](_0x84c570(0x864));const _0x38b73a=()=>{const _0xa5f1ab=_0x84c570,_0x39dca9=_0x2d6e90[_0xa5f1ab(0x589)]['trim']();_0x39dca9===_0x16ab48[_0xa5f1ab(0x335)][_0xa5f1ab(0x670)]?(sessionStorage[_0xa5f1ab(0x610)](_0xa5f1ab(0x398)+_0x252262,_0xa5f1ab(0xaa9)),_0x21ead7[_0xa5f1ab(0x25c)][_0xa5f1ab(0x2bd)](_0xa5f1ab(0x864)),_0x19c15d(),_0xac8edf[_0xa5f1ab(0x966)](_0xa5f1ab(0x4be),_0x38b73a)):_0x59ed57[_0xa5f1ab(0x25c)][_0xa5f1ab(0x525)]('hidden');};_0xac8edf[_0x84c570(0x710)]=_0x38b73a,_0x2a00da[_0x84c570(0x710)]=()=>{const _0x46bf01=_0x84c570;_0x21ead7[_0x46bf01(0x25c)][_0x46bf01(0x2bd)](_0x46bf01(0x864)),_0x1474b4[_0x46bf01(0x589)]='',_0xac8edf[_0x46bf01(0x966)]('click',_0x38b73a);};}else _0x19c15d();},_0x3b1048[_0x358ad5(0xab4)]=()=>{const _0x1fbbc0=_0x358ad5,_0x4f5bd8=_0x1474b4['value'],_0x5da315=_0x3b1048[_0x1fbbc0(0x589)];_0x4f5bd8&&_0x5da315&&renderStudentProgressDashboard(_0x4f5bd8,_0x5da315);};}async function confirmAndJoinSyncGame(){const _0x4b52f7=_0x27ad1b,_0x17e37a=Array['from'](document[_0x4b52f7(0x4e0)](_0x4b52f7(0x901)))[_0x4b52f7(0x821)](_0x218d00=>_0x218d00['value']);if(_0x17e37a[_0x4b52f7(0x7dc)]===0x0){showMessage('กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน');return;}localTeamPlayers=_0x17e37a,localPlayerTurnIndex=0x0;const _0x55333f=doc(db,'artifacts/'+appId+_0x4b52f7(0x604),currentLiveGameId);try{const _0x9d1b11=await getDoc(_0x55333f);if(!_0x9d1b11['exists']())throw new Error(_0x4b52f7(0x518));const _0x41c211=_0x9d1b11[_0x4b52f7(0x4b8)]()[_0x4b52f7(0x7af)]||{};_0x17e37a[_0x4b52f7(0x50c)](_0x2e1d96=>{const _0x2e8618=_0x4b52f7;!_0x41c211[_0x2e1d96]&&(_0x41c211[_0x2e1d96]={'name':_0x2e1d96,'score':0x0,'answered':![],'status':_0x2e8618(0x3cc)});}),await updateDoc(_0x55333f,{'players':_0x41c211}),document['getElementById'](_0x4b52f7(0x91e))['classList'][_0x4b52f7(0x2bd)](_0x4b52f7(0x864)),currentStudentName=_0x17e37a[0x0],listenForSyncGameUpdates();const _0x29f6e1={'gameId':currentLiveGameId,'mode':_0x4b52f7(0x1eb),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x4b52f7(0x610)](_0x4b52f7(0x544),JSON[_0x4b52f7(0xa1a)](_0x29f6e1));}catch(_0x2ef22e){console[_0x4b52f7(0x4a0)](_0x4b52f7(0x28d),_0x2ef22e),showMessage(_0x4b52f7(0xa4b));}}async function resumeActiveGameSession(){const _0x162a34=_0x27ad1b,_0x7621c4=sessionStorage[_0x162a34(0x4e1)](_0x162a34(0x544));if(!_0x7621c4)return;const _0x2dc6eb=JSON[_0x162a34(0x327)](_0x7621c4),{gameId:_0x4dcaa4,mode:_0x4ee919,players:_0x13c95e,turnIndex:_0x3cb2c3}=_0x2dc6eb;try{let _0x8cab9,_0x5a4939;_0x4ee919===_0x162a34(0x1eb)?_0x8cab9=doc(db,'artifacts/'+appId+'/public/data/syncGames',_0x4dcaa4):_0x8cab9=doc(db,_0x162a34(0x827)+appId+_0x162a34(0xba4),_0x4dcaa4);_0x5a4939=await getDoc(_0x8cab9);if(!_0x5a4939[_0x162a34(0x539)]()||_0x5a4939[_0x162a34(0x4b8)]()[_0x162a34(0xb84)]===_0x162a34(0xaa8)||_0x5a4939[_0x162a34(0x4b8)]()[_0x162a34(0xb84)]==='podium'){sessionStorage[_0x162a34(0x4bf)](_0x162a34(0x544));return;}console[_0x162a34(0x484)](_0x162a34(0xff)+_0x4ee919+_0x162a34(0x637)+_0x4dcaa4+')'),localTeamPlayers=_0x13c95e,localPlayerTurnIndex=_0x3cb2c3;if(_0x4ee919===_0x162a34(0x1eb))currentLiveGameId=_0x4dcaa4,currentStudentName=_0x13c95e[0x0],showView(_0x162a34(0xb00)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x4dcaa4;const _0x310a9c=_0x5a4939['data'](),_0x59529d=doc(db,'artifacts/'+appId+_0x162a34(0xb2f),_0x310a9c['quizId']),_0x9b2740=await getDoc(_0x59529d);_0x9b2740[_0x162a34(0x539)]()&&(currentQuizData=getShuffledQuiz({'id':_0x9b2740['id'],..._0x9b2740[_0x162a34(0x4b8)]()}),showView(_0x162a34(0x21f)),studentInitialView['classList']['add']('hidden'),renderTeamQuizQuestion());}}catch(_0x5a3801){console[_0x162a34(0x4a0)](_0x162a34(0x5f4),_0x5a3801),sessionStorage[_0x162a34(0x4bf)](_0x162a34(0x544));}}async function handleKickPlayerSync(_0x5f325e){const _0x1d7702=_0x27ad1b;if(!currentLiveGameId||!_0x5f325e)return;const _0x335de4=doc(db,_0x1d7702(0x827)+appId+'/public/data/syncGames',currentLiveGameId),_0x336bf6={};_0x336bf6[_0x1d7702(0x655)+_0x5f325e+_0x1d7702(0x46a)]=_0x1d7702(0x261);try{await updateDoc(_0x335de4,_0x336bf6);}catch(_0x1917d2){console[_0x1d7702(0x4a0)]('Failed\x20to\x20kick\x20player\x20'+_0x5f325e+'\x20from\x20sync\x20game:',_0x1917d2),showMessage(_0x1d7702(0x86a));}}async function renderStudentProgressDashboard(_0xc2dd80,_0x3c2f71){const _0x4be1b3=_0x27ad1b,_0x10492d=document[_0x4be1b3(0xa9a)](_0x4be1b3(0x81f));_0x10492d[_0x4be1b3(0x415)]=_0x4be1b3(0x76d);try{const _0x41d262=collection(db,_0x4be1b3(0x827)+appId+_0x4be1b3(0xb2f)),_0xd372a3=query(_0x41d262,where('projectId','==',_0xc2dd80)),_0x3bc862=await getDocs(_0xd372a3),_0x2f156b=_0x3bc862['docs']['map'](_0x1acc86=>({'id':_0x1acc86['id'],..._0x1acc86['data']()})),_0x37e800=_0x2f156b[_0x4be1b3(0x821)](_0x37c2b5=>getDoc(doc(db,_0x4be1b3(0x827)+appId+_0x4be1b3(0x2c4)+_0x37c2b5['id']+_0x4be1b3(0x4d3),_0x3c2f71))),_0x11be93=await Promise[_0x4be1b3(0xab1)](_0x37e800),_0x1f3c6c=_0x11be93[_0x4be1b3(0x558)](_0x3bf8f5=>_0x3bf8f5[_0x4be1b3(0x539)]())[_0x4be1b3(0x821)](_0x3a4514=>({'quizId':_0x3a4514['ref'][_0x4be1b3(0x394)][_0x4be1b3(0x394)]['id'],..._0x3a4514[_0x4be1b3(0x4b8)]()}));if(_0x1f3c6c['length']===0x0){_0x10492d['innerHTML']=_0x4be1b3(0x209);return;}let _0x38d6bd=_0x4be1b3(0x6fa);_0x1f3c6c['forEach'](_0x20ed0b=>{const _0x23c41d=_0x4be1b3,_0x18f151=_0x2f156b[_0x23c41d(0x3d5)](_0x25844f=>_0x25844f['id']===_0x20ed0b['quizId']),_0x51875e=_0x18f151[_0x23c41d(0x335)]?.[_0x23c41d(0xb9f)]||_0x23c41d(0xa2d),_0x51a88c=_0x18f151[_0x23c41d(0x335)]?.[_0x23c41d(0x477)]??0x0,_0x5a5fdd=_0x20ed0b['bestScore']>=_0x51a88c;let _0x52cc79='',_0x3c1dd3='bg-gray-50';switch(_0x51875e){case _0x23c41d(0xa2d):case'show_results_only':_0x3c1dd3=_0x5a5fdd?_0x23c41d(0x1b4):_0x23c41d(0x331),_0x52cc79='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20'+(_0x5a5fdd?_0x23c41d(0x6a0):_0x23c41d(0xa2c))+'\x22>'+_0x20ed0b[_0x23c41d(0x796)]+_0x23c41d(0x3d6)+_0x20ed0b[_0x23c41d(0x7f9)]+_0x23c41d(0x9cf)+(_0x5a5fdd?_0x23c41d(0x616):_0x23c41d(0x240))+'\x22>'+(_0x5a5fdd?_0x23c41d(0x3fe):_0x23c41d(0x93e))+_0x23c41d(0x704);break;case _0x23c41d(0x853):_0x3c1dd3=_0x5a5fdd?_0x23c41d(0x1b4):_0x23c41d(0x331),_0x52cc79=_0x23c41d(0x4f4)+(_0x5a5fdd?_0x23c41d(0x616):_0x23c41d(0x240))+'\x22>'+(_0x5a5fdd?'ผ่าน':_0x23c41d(0x93e))+_0x23c41d(0x704);break;case _0x23c41d(0x531):_0x3c1dd3='bg-yellow-50',_0x52cc79=_0x23c41d(0x5e3);break;}_0x38d6bd+=_0x23c41d(0x5b0)+_0x3c1dd3+_0x23c41d(0x7cc)+_0x18f151[_0x23c41d(0x21a)]+_0x23c41d(0x354)+_0x20ed0b[_0x23c41d(0x870)]['length']+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x20ed0b[_0x23c41d(0x9f8)])['toLocaleDateString']('th-TH')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x52cc79+_0x23c41d(0x1e5);}),_0x38d6bd+=_0x4be1b3(0xac7),_0x10492d[_0x4be1b3(0x415)]=_0x38d6bd;}catch(_0x1fae90){console[_0x4be1b3(0x4a0)](_0x4be1b3(0x2dc),_0x1fae90),_0x10492d[_0x4be1b3(0x415)]=_0x4be1b3(0x895);}}function renderQuizBankListForMultiSelect(_0x2005f4=''){const _0x47b8ac=_0x27ad1b,_0x183fae=document[_0x47b8ac(0xa9a)](_0x47b8ac(0x734)),_0x16a5d2=_0x2005f4[_0x47b8ac(0x90c)]()['trim'](),_0x694595=allQuizzesGlobal[_0x47b8ac(0x821)](_0x4a80a3=>({..._0x4a80a3,'projectName':allProjects['find'](_0x4165a6=>_0x4165a6['id']===_0x4a80a3[_0x47b8ac(0x35a)])?.['projectName']||_0x47b8ac(0x36c)}))[_0x47b8ac(0x558)](_0x2c143f=>(_0x2c143f[_0x47b8ac(0x21a)]||'')['toLowerCase']()['includes'](_0x16a5d2)||(_0x2c143f[_0x47b8ac(0x5a8)]||'')[_0x47b8ac(0x90c)]()['includes'](_0x16a5d2)||_0x2c143f['id'][_0x47b8ac(0x7cb)]()[_0x47b8ac(0x203)](_0x16a5d2));_0x183fae['innerHTML']=_0x694595[_0x47b8ac(0x7dc)]?_0x694595[_0x47b8ac(0x821)](_0x52212f=>_0x47b8ac(0x1b7)+_0x52212f['id']+_0x47b8ac(0x5d2)+(_0x52212f[_0x47b8ac(0x21a)]||_0x47b8ac(0x24e))+_0x47b8ac(0x892)+_0x52212f[_0x47b8ac(0x5a8)]+'\x20|\x20ID:\x20'+_0x52212f['id']+_0x47b8ac(0x9c3))['join'](''):_0x47b8ac(0x52d),_0x183fae['onchange']=()=>{const _0x418e69=_0x47b8ac,_0x2f39f9=document['querySelector'](_0x418e69(0x807));document[_0x418e69(0xa9a)](_0x418e69(0x981))['disabled']=!_0x2f39f9;};}function setupStudentProgressListeners(){const _0x3264e3=_0x27ad1b;document['getElementById'](_0x3264e3(0x253))[_0x3264e3(0x234)](_0x3264e3(0x4be),showStudentProgressView),document[_0x3264e3(0xa9a)](_0x3264e3(0x52e))[_0x3264e3(0x234)](_0x3264e3(0x4be),()=>{const _0x2b85c9=_0x3264e3;document[_0x2b85c9(0xa9a)](_0x2b85c9(0xae3))[_0x2b85c9(0x25c)][_0x2b85c9(0x2bd)](_0x2b85c9(0x864)),document[_0x2b85c9(0xa9a)](_0x2b85c9(0x9f7))['classList']['remove']('hidden');});}async function startSkillPractice(_0x4c9045){const _0x3308ac=_0x27ad1b;studentResultArea[_0x3308ac(0x25c)][_0x3308ac(0x2bd)](_0x3308ac(0x864)),studentQuizArea[_0x3308ac(0x415)]=_0x3308ac(0x3ea),studentQuizArea[_0x3308ac(0x25c)][_0x3308ac(0x525)](_0x3308ac(0x864));try{const _0x2c60c7=await getStandardizedTopic(_0x4c9045);console[_0x3308ac(0x484)](_0x3308ac(0x6f2)+_0x4c9045+_0x3308ac(0x166)+_0x2c60c7+'\x22'),studentQuizArea[_0x3308ac(0x46b)]('p')[_0x3308ac(0xa0d)]=_0x3308ac(0x365)+_0x2c60c7+_0x3308ac(0x12a);const _0x569b02=collection(db,_0x3308ac(0x827)+appId+'/public/data/practiceBank'),_0x4a0648=query(_0x569b02,where(_0x3308ac(0x21a),'==',_0x2c60c7)),_0x27d11e=await getDocs(_0x4a0648);if(_0x27d11e[_0x3308ac(0x8e0)][_0x3308ac(0x7dc)]>=0x3){console[_0x3308ac(0x484)](_0x3308ac(0x299)+_0x27d11e[_0x3308ac(0x8e0)]['length']+_0x3308ac(0x36f)+_0x2c60c7+'\x22.\x20กำลังสุ่มเลือกมาใช้งาน...');let _0x66007d=_0x27d11e[_0x3308ac(0x8e0)][_0x3308ac(0x821)](_0x3f1ba2=>_0x3f1ba2[_0x3308ac(0x4b8)]());shuffleArray(_0x66007d);const _0x11c645={'topic':_0x2c60c7,'questions':_0x66007d[_0x3308ac(0xad3)](0x0,0x3)};displaySkillPracticeDrill(_0x11c645);}else{console[_0x3308ac(0x484)](_0x3308ac(0x438)+_0x2c60c7+_0x3308ac(0x7e5));const _0x12806b=await generatePracticeQuestions(_0x2c60c7);await saveDrillToPracticeBank(_0x12806b,_0x2c60c7),displaySkillPracticeDrill(_0x12806b);}}catch(_0x23331a){console[_0x3308ac(0x4a0)](_0x3308ac(0x3f4),_0x23331a),showMessage(_0x3308ac(0x298)),studentQuizArea[_0x3308ac(0x25c)]['add'](_0x3308ac(0x864)),studentResultArea[_0x3308ac(0x25c)][_0x3308ac(0x525)]('hidden');}}async function saveDrillToPracticeBank(_0x32f4fb,_0x1675b5){const _0x3c3b75=_0x27ad1b,_0x402c38=collection(db,_0x3c3b75(0x827)+appId+_0x3c3b75(0x72a)),_0x332ac2=writeBatch(db);_0x32f4fb['questions']['forEach'](_0x582d7c=>{const _0x2fe5ab=_0x3c3b75,_0x490d4e=doc(_0x402c38);_0x332ac2[_0x2fe5ab(0x72f)](_0x490d4e,{'topic':_0x1675b5,'questionText':_0x582d7c[_0x2fe5ab(0xac2)],'options':_0x582d7c['options'],'correctAnswerIndex':_0x582d7c[_0x2fe5ab(0xa18)],'explanation':_0x582d7c[_0x2fe5ab(0x735)],'createdAt':serverTimestamp()});});try{await _0x332ac2['commit'](),console['log'](_0x3c3b75(0x385)+_0x32f4fb[_0x3c3b75(0x4aa)][_0x3c3b75(0x7dc)]+_0x3c3b75(0x3c8));}catch(_0x50e123){console[_0x3c3b75(0x4a0)](_0x3c3b75(0x155),_0x50e123);}}async function getStandardizedTopic(_0x35cd45){const _0x584e3d=_0x27ad1b,_0x349961=_0x584e3d(0x87c)+_0x35cd45+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x3512ba={'type':'OBJECT','properties':{'standardTopic':{'type':_0x584e3d(0xb86)}},'required':['standardTopic']};try{const _0x15b8be=await callAnalysisApi(_0x349961,_0x3512ba);return _0x15b8be[_0x584e3d(0x958)];}catch(_0x136bd5){return console[_0x584e3d(0x4a0)](_0x584e3d(0x584),_0x136bd5),_0x35cd45;}}async function handleGenerateEasyVersionQuiz(_0x47a145){const _0x5d6982=_0x27ad1b,_0x1186f0=document[_0x5d6982(0xa9a)](_0x5d6982(0x61e)),_0x32c3e1=document[_0x5d6982(0xa9a)](_0x5d6982(0x7a1));_0x32c3e1['classList'][_0x5d6982(0x2bd)](_0x5d6982(0x864));const _0x230711=_0x5d6982(0x97a);_0x1186f0[_0x5d6982(0xaaf)]('beforeend',_0x230711);try{const _0x425737=allQuizzes[_0x5d6982(0x3d5)](_0x121182=>_0x121182['id']===_0x47a145);if(!_0x425737)throw new Error(_0x5d6982(0x817));const _0x133928=_0x5d6982(0xb1e)+JSON['stringify'](_0x425737[_0x5d6982(0x4aa)])+_0x5d6982(0xa80),_0x13e8ba={'type':_0x5d6982(0xb47),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING'},'options':{'type':_0x5d6982(0x863),'items':{'type':_0x5d6982(0xb86)}},'correctAnswerIndex':{'type':_0x5d6982(0x337)},'idealAnswer':{'type':_0x5d6982(0xb86)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x5d6982(0xb86)}},'required':[_0x5d6982(0xac2),_0x5d6982(0x5fe),_0x5d6982(0x735)]},_0x2a1e30={'type':_0x5d6982(0xb47),'properties':{'questions':{'type':_0x5d6982(0x863),'items':_0x13e8ba}},'required':[_0x5d6982(0x4aa)]},_0xc02741=await callAnalysisApi(_0x133928,_0x2a1e30);_0xc02741&&_0xc02741[_0x5d6982(0x4aa)]&&_0xc02741[_0x5d6982(0x4aa)][_0x5d6982(0x50c)](_0xfe3901=>{const _0x4403ca=_0x5d6982;if(_0xfe3901[_0x4403ca(0x2cd)](_0x4403ca(0x56d))){const _0x2aec62=String(_0xfe3901[_0x4403ca(0x56d)])[_0x4403ca(0x2b0)]();(_0x2aec62===''||_0x2aec62[_0x4403ca(0x90c)]()===_0x4403ca(0x5c7)||!_0x2aec62[_0x4403ca(0x2d6)](_0x4403ca(0x210)))&&delete _0xfe3901[_0x4403ca(0x56d)];}});if(!_0xc02741||!_0xc02741['questions']||_0xc02741[_0x5d6982(0x4aa)][_0x5d6982(0x7dc)]===0x0)throw new Error('AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้');const _0x1f1cd3=_0xc02741['questions'][_0x5d6982(0x821)]((_0x1d0a4f,_0x5dc194)=>({..._0x1d0a4f,'id':'q_'+Date[_0x5d6982(0x680)]()+'_'+_0x5dc194})),_0x1ec3d6={'projectId':_0x425737[_0x5d6982(0x35a)],'quizType':_0x425737[_0x5d6982(0x447)],'settings':_0x425737['settings'],'createdBy':_0x425737[_0x5d6982(0xa3a)],'status':_0x5d6982(0x3cc),'topic':'(ฉบับง่าย)\x20'+_0x425737[_0x5d6982(0x21a)],'questions':_0x1f1cd3,'createdAt':new Date()[_0x5d6982(0x61f)](),'quizMode':_0x5d6982(0x4c9),'pairedQuizId':null};let _0x11f63c;while(!![]){_0x11f63c=Math[_0x5d6982(0xaac)](0x3e8+Math[_0x5d6982(0x59a)]()*0x2328)[_0x5d6982(0x7cb)]();const _0x5877e1=await getDoc(doc(db,_0x5d6982(0x827)+appId+_0x5d6982(0xb2f),_0x11f63c));if(!_0x5877e1[_0x5d6982(0x539)]())break;}await setDoc(doc(db,_0x5d6982(0x827)+appId+_0x5d6982(0xb2f),_0x11f63c),_0x1ec3d6),showMessage(_0x5d6982(0x1d6));}catch(_0x4fbf93){console[_0x5d6982(0x4a0)](_0x5d6982(0x50f),_0x4fbf93),showMessage(_0x5d6982(0x444)+_0x4fbf93[_0x5d6982(0x5a6)]);}finally{const _0x36e4e8=document[_0x5d6982(0xa9a)](_0x5d6982(0x5cd));_0x36e4e8&&_0x36e4e8['remove'](),_0x32c3e1['classList'][_0x5d6982(0x525)](_0x5d6982(0x864));}}async function generatePracticeQuestions(_0x315bef){const _0x5ae3df=_0x27ad1b,_0x32812e=_0x5ae3df(0x330)+_0x315bef+_0x5ae3df(0x35e)+simpleMathPrompt+_0x5ae3df(0x2cb),_0x224a5b={'type':_0x5ae3df(0xb47),'properties':{'questionText':{'type':_0x5ae3df(0xb86)},'options':{'type':_0x5ae3df(0x863),'items':{'type':_0x5ae3df(0xb86)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x5ae3df(0xb86)}},'required':[_0x5ae3df(0xac2),_0x5ae3df(0x559),_0x5ae3df(0xa18),_0x5ae3df(0x735)]},_0x139e1c={'type':_0x5ae3df(0xb47),'properties':{'topic':{'type':_0x5ae3df(0xb86)},'questions':{'type':_0x5ae3df(0x863),'items':_0x224a5b}},'required':[_0x5ae3df(0x21a),_0x5ae3df(0x4aa)]};return await callAnalysisApi(_0x32812e,_0x139e1c);}function displayLessonPlan(_0x542bf5,_0x412b00){const _0x1b2601=_0x27ad1b,_0x52f90c=_0x1b2601(0x251)+_0x412b00['topic']+_0x1b2601(0xa03)+_0x542bf5['learningGaps'][_0x1b2601(0x821)](_0x2d9b62=>'<li>'+_0x2d9b62+_0x1b2601(0x1c7))[_0x1b2601(0x4ad)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x542bf5[_0x1b2601(0x362)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x542bf5['practiceProblems'][_0x1b2601(0x821)](_0x18c756=>_0x1b2601(0x296)+_0x18c756[_0x1b2601(0x96c)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x18c756[_0x1b2601(0x47b)]+_0x1b2601(0x12f))[_0x1b2601(0x4ad)]('')+_0x1b2601(0x268);document[_0x1b2601(0xa9a)](_0x1b2601(0x86f))['textContent']=_0x1b2601(0x9ad)+_0x412b00[_0x1b2601(0x21a)],document[_0x1b2601(0xa9a)](_0x1b2601(0x308))[_0x1b2601(0x415)]=_0x52f90c,document[_0x1b2601(0xa9a)](_0x1b2601(0x955))['classList'][_0x1b2601(0x525)](_0x1b2601(0x864));if(window[_0x1b2601(0xa63)])MathJax['typesetPromise']();}function displaySkillPracticeDrill(_0x109a27){const _0x3ece82=_0x27ad1b;let _0x4ec1e5=0x0;const _0x5dd420=_0x109a27[_0x3ece82(0x4aa)],_0x223587=()=>{const _0x4974ce=_0x3ece82,_0x523d4d=_0x5dd420[_0x4ec1e5],_0x28b00b=_0x4974ce(0xb46)+(_0x4ec1e5+0x1)+_0x4974ce(0x3d6)+_0x5dd420[_0x4974ce(0x7dc)]+_0x4974ce(0x3df)+_0x523d4d[_0x4974ce(0xac2)]+_0x4974ce(0x68f)+_0x523d4d[_0x4974ce(0x559)][_0x4974ce(0x821)]((_0x346370,_0x532d83)=>_0x4974ce(0x2be)+_0x532d83+_0x4974ce(0x55b)+_0x532d83+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x532d83+'\x22>'+_0x346370+_0x4974ce(0x832))[_0x4974ce(0x4ad)]('')+_0x4974ce(0x235);studentQuizArea['innerHTML']=_0x28b00b;if(window['MathJax'])MathJax[_0x4974ce(0x5e2)]([studentQuizArea]);document['getElementById'](_0x4974ce(0xa57))[_0x4974ce(0x234)](_0x4974ce(0x4be),async()=>{const _0x13d63e=_0x4974ce,_0x303763=await getHintForQuestion(_0x523d4d[_0x13d63e(0xac2)]);showMessage(_0x303763);}),document[_0x4974ce(0xa9a)]('check-answer-btn')[_0x4974ce(0x234)](_0x4974ce(0x4be),()=>{const _0x18ddc6=_0x4974ce,_0x3f2110=document[_0x18ddc6(0x46b)]('input[name=\x22drill_answer\x22]:checked');if(!_0x3f2110){showMessage(_0x18ddc6(0x131));return;}const _0x1ad591=document[_0x18ddc6(0xa9a)]('drill-feedback'),_0x238030=parseInt(_0x3f2110[_0x18ddc6(0x589)])===_0x523d4d['correctAnswerIndex'];_0x238030?(_0x1ad591[_0x18ddc6(0x4f1)]=_0x18ddc6(0x7c3),_0x1ad591[_0x18ddc6(0x415)]=_0x18ddc6(0xab5)+_0x523d4d[_0x18ddc6(0x735)]):(_0x1ad591[_0x18ddc6(0x4f1)]=_0x18ddc6(0x7ea),_0x1ad591[_0x18ddc6(0x415)]='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x523d4d[_0x18ddc6(0x735)]);_0x1ad591[_0x18ddc6(0x25c)]['remove'](_0x18ddc6(0x864));if(window[_0x18ddc6(0xa63)])MathJax[_0x18ddc6(0x5e2)]([_0x1ad591]);document[_0x18ddc6(0xa9a)](_0x18ddc6(0x374))[_0x18ddc6(0x25c)][_0x18ddc6(0x2bd)](_0x18ddc6(0x864)),document[_0x18ddc6(0xa9a)](_0x18ddc6(0xa57))[_0x18ddc6(0x25c)]['add'](_0x18ddc6(0x864)),document[_0x18ddc6(0xa9a)]('next-drill-btn')['classList'][_0x18ddc6(0x525)]('hidden');}),document[_0x4974ce(0xa9a)]('next-drill-btn')[_0x4974ce(0x234)]('click',()=>{const _0x5cb7c8=_0x4974ce;_0x4ec1e5++,_0x4ec1e5<_0x5dd420[_0x5cb7c8(0x7dc)]?_0x223587():(studentQuizArea[_0x5cb7c8(0x415)]=_0x5cb7c8(0xa40),document[_0x5cb7c8(0xa9a)](_0x5cb7c8(0x794))[_0x5cb7c8(0x234)](_0x5cb7c8(0x4be),()=>{const _0x1a3596=_0x5cb7c8;studentQuizArea[_0x1a3596(0x25c)][_0x1a3596(0x2bd)](_0x1a3596(0x864)),studentResultArea[_0x1a3596(0x25c)][_0x1a3596(0x525)](_0x1a3596(0x864));}));});};_0x223587();}async function getHintForQuestion(_0x5cdfe1){const _0x1733d1=_0x27ad1b,_0x2da00f=_0x1733d1(0xf7)+_0x5cdfe1+_0x1733d1(0x30e),_0xb118ed={'type':_0x1733d1(0xb47),'properties':{'hint':{'type':'STRING'}},'required':['hint']};try{const _0x230d40=await callAnalysisApi(_0x2da00f,_0xb118ed);return _0x230d40[_0x1733d1(0xa1f)];}catch(_0x1d820){return console[_0x1733d1(0x4a0)]('Failed\x20to\x20get\x20hint:',_0x1d820),'ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้';}}async function extractTextFromPdf(_0x35125c){const _0x28a148=_0x27ad1b;pdfjsLib[_0x28a148(0xaa5)][_0x28a148(0x483)]=_0x28a148(0x8f9);const _0x524652=await _0x35125c[_0x28a148(0xb9b)](),_0x2da3cf=await pdfjsLib[_0x28a148(0xba6)](_0x524652)[_0x28a148(0x5c3)],_0x2c1ca7=_0x2da3cf[_0x28a148(0x7d3)];let _0x14b6fb='';for(let _0x37027c=0x1;_0x37027c<=_0x2c1ca7;_0x37027c++){const _0x5e7493=await _0x2da3cf[_0x28a148(0xae7)](_0x37027c),_0xf17a44=await _0x5e7493[_0x28a148(0x3a5)](),_0x6de346=_0xf17a44[_0x28a148(0x71f)][_0x28a148(0x821)](_0x16a0b8=>_0x16a0b8[_0x28a148(0x142)])[_0x28a148(0x4ad)]('\x20');_0x14b6fb+=_0x6de346+'\x0a\x0a';}return _0x14b6fb;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0xe69d60){const _0x12cf8c=_0x27ad1b,_0x12ab6a=document[_0x12cf8c(0xa9a)](_0x12cf8c(0x1ce)),_0x2414bd=document['getElementById'](_0x12cf8c(0x368)),_0x1c77bc=document[_0x12cf8c(0xa9a)](_0x12cf8c(0xa28));_0x12ab6a[_0x12cf8c(0x25c)][_0x12cf8c(0x525)](_0x12cf8c(0x864)),_0x2414bd[_0x12cf8c(0x415)]=_0x12cf8c(0x20e),_0x1c77bc['classList'][_0x12cf8c(0x2bd)](_0x12cf8c(0x864));try{const _0x2ff05d=_0x12cf8c(0x37e)+_0xe69d60+_0x12cf8c(0x7f2),_0x523fc3={'type':_0x12cf8c(0xb47),'properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':_0x12cf8c(0x863),'items':{'type':_0x12cf8c(0xb47),'properties':{'sara':{'type':_0x12cf8c(0xb86)},'mainTopics':{'type':'ARRAY','items':{'type':_0x12cf8c(0xb47),'properties':{'topicName':{'type':'STRING'},'subTopics':{'type':'ARRAY','items':{'type':_0x12cf8c(0xb86)}}},'required':[_0x12cf8c(0x754),_0x12cf8c(0x811)]}}},'required':[_0x12cf8c(0x984),_0x12cf8c(0x7a6)]}}},'required':[_0x12cf8c(0x5be),_0x12cf8c(0x62b)]},_0x4869fc=await callAnalysisApi(_0x2ff05d,_0x523fc3);if(_0x4869fc&&_0x4869fc[_0x12cf8c(0x62b)])extractedBlueprintData=_0x4869fc,renderBlueprintTopics(_0x4869fc),_0x1c77bc[_0x12cf8c(0x25c)][_0x12cf8c(0x525)](_0x12cf8c(0x864));else throw new Error('AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้');}catch(_0x1292ca){console[_0x12cf8c(0x4a0)](_0x12cf8c(0xb63),_0x1292ca),_0x2414bd[_0x12cf8c(0x415)]=_0x12cf8c(0x212);}}function renderBlueprintTopics(_0x163ce7){const _0x349d91=_0x27ad1b,_0x2ada7a=document[_0x349d91(0xa9a)]('blueprint-topics-list'),_0x2329a0=_0x163ce7[_0x349d91(0x5be)],_0x3f4083=_0x349d91(0x9a1)+_0x2329a0+_0x349d91(0x69d);let _0x260b80='';_0x163ce7[_0x349d91(0x62b)][_0x349d91(0x50c)](_0x48e5cc=>{const _0x895a48=_0x349d91;_0x260b80+=_0x895a48(0x6d3)+_0x48e5cc[_0x895a48(0x984)]+_0x895a48(0xb4c),_0x48e5cc[_0x895a48(0x7a6)][_0x895a48(0x50c)](_0x4ddf17=>{const _0x11473d=_0x895a48;_0x260b80+=_0x11473d(0xb92)+_0x4ddf17[_0x11473d(0x754)]+'</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x4ddf17[_0x11473d(0x811)][_0x11473d(0x50c)](_0x57addc=>{const _0xdf117a=_0x11473d;_0x260b80+='\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27'+_0x57addc[_0xdf117a(0x9da)](/'/g,'\x5c\x27')+_0xdf117a(0x6aa)+_0x2329a0['replace'](/'/g,'\x5c\x27')+_0xdf117a(0x8bb)+_0x57addc+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27'+_0x57addc[_0xdf117a(0x9da)](/'/g,'\x5c\x27')+_0xdf117a(0x614);}),_0x260b80+=_0x11473d(0x93b);}),_0x260b80+=_0x895a48(0xac7);}),_0x2ada7a[_0x349d91(0x415)]=_0x3f4083+_0x260b80;}async function handleGenerateTeachingContent(_0x549234){const _0x10db24=_0x27ad1b,_0x4614c9=document[_0x10db24(0xa9a)](_0x10db24(0x955)),_0xbaf50b=document[_0x10db24(0xa9a)]('lesson-plan-content');document['getElementById']('lesson-plan-title')[_0x10db24(0xa0d)]=_0x10db24(0x9c8)+_0x549234,_0xbaf50b[_0x10db24(0x415)]=_0x10db24(0x740),_0x4614c9[_0x10db24(0x25c)][_0x10db24(0x525)](_0x10db24(0x864));try{const _0x50c4fa=_0x10db24(0x5ec)+_0x549234+_0x10db24(0x9c9),_0x307d67={'type':_0x10db24(0xb47),'properties':{'keyConcepts':{'type':'ARRAY','items':{'type':_0x10db24(0xb86)}},'commonMistakes':{'type':_0x10db24(0x863),'items':{'type':'STRING'}},'stepByStepExamples':{'type':'ARRAY','items':{'type':_0x10db24(0xb47),'properties':{'question':{'type':'STRING'},'solution':{'type':_0x10db24(0xb86)}},'required':[_0x10db24(0x96c),_0x10db24(0x47b)]}},'teacherTips':{'type':_0x10db24(0x863),'items':{'type':_0x10db24(0xb86)}}},'required':[_0x10db24(0x1b6),'commonMistakes','stepByStepExamples',_0x10db24(0x657)]},_0x29fc2d=await callAnalysisApi(_0x50c4fa,_0x307d67);displayTeachingContent(_0x29fc2d,_0x549234);}catch(_0x5700b0){console[_0x10db24(0x4a0)]('Error\x20generating\x20teaching\x20content:',_0x5700b0),_0xbaf50b[_0x10db24(0x415)]='<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20'+_0x5700b0[_0x10db24(0x5a6)]+'</p>';}}function displayTeachingContent(_0x36c843,_0x57bf4c){const _0x51d52a=_0x27ad1b,_0x348a55=document[_0x51d52a(0xa9a)]('lesson-plan-content');document['getElementById']('lesson-plan-title')[_0x51d52a(0xa0d)]=_0x51d52a(0x51c)+_0x57bf4c;const _0xec3607=_0x51d52a(0x56b)+_0x36c843[_0x51d52a(0x1b6)][_0x51d52a(0x821)](_0x475d9a=>_0x51d52a(0x4ef)+_0x475d9a+_0x51d52a(0x1c7))[_0x51d52a(0x4ad)]('')+_0x51d52a(0x160)+_0x36c843[_0x51d52a(0x93a)][_0x51d52a(0x821)](_0x2b9533=>_0x51d52a(0x4ef)+_0x2b9533+_0x51d52a(0x1c7))[_0x51d52a(0x4ad)]('')+'</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>'+_0x36c843[_0x51d52a(0x105)][_0x51d52a(0x821)](_0x1ab52d=>_0x51d52a(0x8af)+_0x1ab52d[_0x51d52a(0x96c)]+_0x51d52a(0x404)+_0x1ab52d[_0x51d52a(0x47b)]+_0x51d52a(0x7bb))[_0x51d52a(0x4ad)]('')+_0x51d52a(0x3f3)+_0x36c843[_0x51d52a(0x657)][_0x51d52a(0x821)](_0x43e939=>_0x51d52a(0x4ef)+_0x43e939+_0x51d52a(0x1c7))['join']('')+_0x51d52a(0x95d);_0x348a55['innerHTML']=_0xec3607;if(window[_0x51d52a(0xa63)])MathJax[_0x51d52a(0x5e2)]([_0x348a55]);}async function generateQuizForSingleTopic(_0x261f2a){const _0x450b3e=_0x27ad1b;console[_0x450b3e(0x484)](_0x450b3e(0x5df)+_0x261f2a+'\x22');const _0x2f72e8=document[_0x450b3e(0xa9a)](_0x450b3e(0x94f)),_0x4a35c4=_0x2f72e8[_0x450b3e(0x10b)]['length']>0x0?_0x2f72e8[_0x450b3e(0x10b)][0x0]:null;let _0x1e3495=null;if(_0x4a35c4)try{const _0x17f420=new FileReader();_0x17f420[_0x450b3e(0x145)](_0x4a35c4);const _0x3d422e=await new Promise((_0x21e250,_0x4232b2)=>{const _0x1440d6=_0x450b3e;_0x17f420[_0x1440d6(0x89a)]=()=>_0x21e250(_0x17f420['result'][_0x1440d6(0x78f)](',')[0x1]),_0x17f420[_0x1440d6(0x1f8)]=_0x30a0b3=>_0x4232b2(_0x30a0b3);});_0x1e3495=[{'inlineData':{'mimeType':_0x4a35c4[_0x450b3e(0x37c)],'data':_0x3d422e}}];}catch(_0x34e1f8){console[_0x450b3e(0x4a0)](_0x450b3e(0x411),_0x34e1f8),showMessage(_0x450b3e(0x318));return;}generateQuiz(_0x261f2a,null,null,_0x1e3495,!![],null,null,!![]);}async function handleGenerateFromBlueprint(){const _0x5b22b5=_0x27ad1b,_0x297d5a=document['getElementById'](_0x5b22b5(0x26f)),_0x256bbf=document[_0x5b22b5(0xa9a)](_0x5b22b5(0x94f)),_0x233def=_0x297d5a[_0x5b22b5(0x10b)][0x0],_0x312f67=_0x256bbf[_0x5b22b5(0x10b)]['length']>0x0?_0x256bbf[_0x5b22b5(0x10b)][0x0]:null;if(!_0x233def){showMessage(_0x5b22b5(0x9b9));return;}const _0x360ff0=document[_0x5b22b5(0xa9a)](_0x5b22b5(0x82a)),_0x4602f7=document[_0x5b22b5(0xa9a)](_0x5b22b5(0x140)),_0x3f8f36=document[_0x5b22b5(0xa9a)](_0x5b22b5(0x577)),_0x5d6c56=document[_0x5b22b5(0xa9a)](_0x5b22b5(0x79f));_0x5d6c56['disabled']=!![],document[_0x5b22b5(0xa9a)](_0x5b22b5(0x200))[_0x5b22b5(0x25c)][_0x5b22b5(0x525)]('hidden'),_0x3f8f36[_0x5b22b5(0x415)]='',_0x360ff0[_0x5b22b5(0x25c)][_0x5b22b5(0x525)](_0x5b22b5(0x864));try{_0x4602f7[_0x5b22b5(0xa0d)]=_0x5b22b5(0x840);const _0x4221ee=new FileReader();_0x4221ee[_0x5b22b5(0x145)](_0x233def);const _0x56db97=await new Promise((_0x5534dc,_0x23ef9b)=>{const _0x3ef646=_0x5b22b5;_0x4221ee[_0x3ef646(0x89a)]=()=>_0x5534dc(_0x4221ee[_0x3ef646(0x3a3)][_0x3ef646(0x78f)](',')[0x1]),_0x4221ee[_0x3ef646(0x1f8)]=_0x53a1d5=>_0x23ef9b(_0x53a1d5);}),_0x21561e=[];if(_0x312f67){_0x4602f7[_0x5b22b5(0xa0d)]='กำลังเตรียมไฟล์ข้อสอบอ้างอิง...';if(_0x312f67['type']===_0x5b22b5(0x8ff)){const _0x5c8ae0=await new Promise((_0x96459,_0x282b87)=>{const _0x12c782=_0x5b22b5,_0x11d5ce=new FileReader();_0x11d5ce[_0x12c782(0x815)](_0x312f67,_0x12c782(0x9ee)),_0x11d5ce[_0x12c782(0x89a)]=()=>_0x96459(_0x11d5ce[_0x12c782(0x3a3)]),_0x11d5ce[_0x12c782(0x1f8)]=_0x5a3f79=>_0x282b87(_0x5a3f79);});_0x21561e[_0x5b22b5(0x2b6)]({'text':_0x5b22b5(0x75e)+_0x5c8ae0});}else{const _0x2ee78c=new FileReader();_0x2ee78c[_0x5b22b5(0x145)](_0x312f67);const _0x5ac4c9=await new Promise((_0x382df3,_0x2c5faf)=>{const _0x3f314d=_0x5b22b5;_0x2ee78c[_0x3f314d(0x89a)]=()=>_0x382df3(_0x2ee78c[_0x3f314d(0x3a3)][_0x3f314d(0x78f)](',')[0x1]),_0x2ee78c[_0x3f314d(0x1f8)]=_0x24b5e0=>_0x2c5faf(_0x24b5e0);});_0x21561e[_0x5b22b5(0x2b6)]({'text':'\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a'}),_0x21561e['push']({'inlineData':{'mimeType':_0x312f67[_0x5b22b5(0x37c)],'data':_0x5ac4c9}});}}const _0x5b7308=_0x5b22b5(0x13b),_0x568daa=_0x5b22b5(0x20c),_0x4ca1ee=_0x5b22b5(0x836),_0x118ee4={'type':_0x5b22b5(0xb47),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x5b22b5(0xb86),'enum':[_0x5b22b5(0xb9a),_0x5b22b5(0xa97),'true_false',_0x5b22b5(0x62a)]},'options':{'type':_0x5b22b5(0x863),'items':{'type':_0x5b22b5(0xb86)}},'correctAnswerIndex':{'type':_0x5b22b5(0x337)},'idealAnswer':{'type':_0x5b22b5(0xb86)},'correctAnswer':{'type':_0x5b22b5(0x1f5)},'explanation':{'type':_0x5b22b5(0xb86)},'imageCode':{'type':'STRING'}},'required':[_0x5b22b5(0x5fe),_0x5b22b5(0x735)]},_0xdb3602={'type':'OBJECT','properties':{'topic':{'type':_0x5b22b5(0xb86)},'questions':{'type':_0x5b22b5(0x863),'items':_0x118ee4}},'required':[_0x5b22b5(0x21a),_0x5b22b5(0x4aa)]},_0x5a38f3=[{'text':_0x4ca1ee},{'inlineData':{'mimeType':_0x233def['type'],'data':_0x56db97}},..._0x21561e];await handleApiCall(_0x5a38f3,_0x5b22b5(0x4cd),_0xdb3602);}catch(_0x1ba4fd){console[_0x5b22b5(0x4a0)](_0x5b22b5(0xace),_0x1ba4fd),showMessage('เกิดข้อผิดพลาด:\x20'+_0x1ba4fd['message']),_0x3f8f36[_0x5b22b5(0x415)]=_0x5b22b5(0x291);}finally{_0x360ff0[_0x5b22b5(0x25c)][_0x5b22b5(0x2bd)](_0x5b22b5(0x864)),_0x5d6c56[_0x5b22b5(0xb12)]=![];}}function proceedToNextQuestion(_0x31383f){const _0x3126a8=_0x27ad1b;studentAnswersPerQuestion[_0x3126a8(0x2b6)](_0x31383f),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x3126a8(0x4aa)][_0x3126a8(0x7dc)]?finalizePerQuestionQuiz():renderPerQuestionView();}function _0x39b6(){const _0x1a12ff=['</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','bank-input-area','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','class','\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x20หัวข้อ)','ไม่สามารถโหลดคลังข้อสอบได้','join-group-activity-btn','application','label','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','quiz-settings-modal','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-200\x20text-green-900','worksheet-topic-input','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','btn','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','สร้างใหม่','[data-topic-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','target','requestFullscreen','confidence-scoring-toggle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','add-from-global-bank-btn','interesting-stats-wrapper','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>','bg-red-100\x20text-red-800','Error\x20editing\x20topic:','goto-next-question-btn','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','answer','API\x20call\x20failed','lesson-view-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','short_answer','\x5cpm','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getElementById','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectView','project-name-input','admin-password-modal','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','live-options-container','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','GlobalWorkerOptions','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','delete-all-students-btn','finished','true','canvas','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','floor','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','insertAdjacentHTML','student-name-select','all','candidates','</td>','onchange','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','ผิด','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','ฐานนิยม','update-old-quizzes-btn','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','เกิดข้อผิดพลาด','startTime','starred-project','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionText','gain','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','</button>','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','</div>','API\x20call\x20failed\x20with\x20status:\x20','.ai-content\x20li','ยังไม่ส่ง','answered','.answers','upper_group_count','Error\x20generating\x20from\x20blueprint:','manual-bp-project-name','globalAlpha','justification','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','slice','<option\x20value=\x22\x22>กำลังโหลด...</option>','lastAnswerCorrect','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','\x20คนที่ส่ง\x20ตอบถูก\x20(','touchcancel','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','<tr\x20class=\x22','กำลังค้นหากิจกรรม...','blueprint-projects-modal','confident','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','student-progress-view','.quiz-bank-item','sort','student-join-game-view','getPage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','bg-yellow-100','name_asc','กรุณากรอกข้อมูลให้ครบทุกช่อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','ลบแบบทดสอบสำเร็จแล้ว','Error\x20updating\x20pin\x20status:','\x27\x20สำหรับส่วน\x20\x27POINT\x27\x20','clientY','ref','close-game-final-btn','bp-project-title','Error\x20saving\x20lesson\x20to\x20project:','</div><div\x20class=\x22space-y-2\x22>','math-topic-search-input','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','ดีมาก','.correct-response-input','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','input[type=\x22radio\x22]:checked','json','</body></html>','suggestedAnswer','<li\x20class=\x22','live-game','%</span>','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','อยู่ในหัวข้อหลักใด:','Error\x20adding\x20students:','.delete-custom-topic-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20</div>','ระยะเวลา\x20(วินาที):','drop','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','times','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','<div\x20class=\x22answer-space\x22></div>','คณิตศาสตร์','disabled','confidence-modal','ceil','focus','.bp-delete-topic-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','div','upperGroupNames','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','.png','live-race','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20','uid','cancel-quiz-bank-btn','อัปเดตพฤติกรรมสำหรับ\x20','QUICK_THINKER','comparison-modal','</label></div>','answer-counter','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','ไม่ใช่\x20/\x20ผิด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','dispatchEvent','summaryContent','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-red-700\x20bg-red-100','/public/data/quizzes','project-sort-select','cancel-global-live-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','พื้นที่สามเหลี่ยม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','Error\x20deleting\x20custom\x20topic:','Team\x20Quiz','Error\x20submitting\x20group\x20answer:','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','global-live-game-count','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','bg-green-200','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','topic-bank-subtopic-name','progress-student-select','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','No\x20player\x20data\x20to\x20save.','จำนวนข้อ:','กราฟฟังก์ชันตรีโกณ','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','project-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','OBJECT','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','presentation-explanation','getContext','</h4>','student-name-input','<div\x20class=\x22flex-1\x22></div>','flex\x20flex-col\x20gap-2','currentQuestionIndex','isStarred','Error\x20showing\x20quiz\x20detail\x20view:','list-view-btn','Error\x20processing\x20file\x20for\x20AI:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','.scratchpad-content-wrapper','results-tab','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','.generate-post-test-btn','finishReason','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','team-player-status-grid','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','#FEF3C7','Error\x20analyzing\x20blueprint\x20topics:','export-pdf-modal','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','parseFromString','คัดลอกไม่สำเร็จ','flex','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','374WYHjqm','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','analyze-strengths-btn','lowerGroupResponders','blueprint-topics-list-container','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','ความคาดหมาย\x20(Expected\x20value)','พาราโบลา','lesson-view-content','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','per_question','บันทึกแบบทดสอบสำเร็จแล้ว!','comparison-individual-tab','quiz-leaderboard-table-container','\x20\x20\x20-\x20','complexityValue','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','strokeStyle','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','substring','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','Error\x20generating\x20parallel\x20test\x20from\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','status','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','STRING','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','button[type=\x22submit\x22]','results-table-container','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','.ai-fix-formula-btn','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','รูปแบบการให้เหตุผล','textarea[name=\x22team_answer\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','stroke','confirm-game-start-modal','border-indigo-400\x20ring-2\x20ring-indigo-200','API\x20Error\x20Response:','label[for=\x22num-questions\x22]','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','ไม่สามารถโหลดรายการโปรเจคได้','multiple_choice','arrayBuffer','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','Action:\x20Create\x20topic-based\x20Quiz.','blur','resultsDisplay','Error\x20in\x20handleApiCall:','สร้างคำถามแบบใช่/ไม่ใช่','FileReader\x20error:','Error\x20updating\x20project\x20color:','/public/data/teamQuizzes','Re-grade\x20process\x20failed:','getDocument','สมการตรีโกณมิติ','Enter','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','.bp-create-content-quiz-btn','พีชคณิตและฟังก์ชัน','outerHTML','text-green-600','open-scratchpad-btn','gameData','red','กำลังกลับเข้าสู่เกม\x20','text-yellow-800','deselect-all-topics-btn','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','ตัวแปรและนิพจน์','แก้ไขหัวข้อสำเร็จ','stepByStepExamples','.edit-question-btn','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','files','1303296TisNuS','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','กำลังสร้างคำถามข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','763995dSYomp','quizMode','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','presentation-short-answer-input','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','leaderboard-quiz','beforeend','index','ไม่พบข้อมูลข้อสอบหลังเรียน','submission','join-live-game-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','ไม่สามารถโหลดข้อมูลอันดับได้','AI\x20request\x20was\x20blocked.\x20Reason:\x20','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','qType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20displaying\x20blueprint\x20project:','removeChild','</option>','```','กฎบวกและกฎคูณ','confirm-rename-quiz-btn','both','\x22...','ค่าสัมบูรณ์','helvetica','confirm-confident','s;\x22\x20title=\x22','</p></div>','max','กรุณาเลือกคำตอบก่อนครับ','27411472','duration-300','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20รายการ...','<span\x20class=\x22font-bold\x20','cancel-create-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','live-player-management','เกิดข้อผิดพลาดในการอ่านไฟล์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งสำคัญ:**\x20สำหรับคำถามแต่ละข้อที่สร้างขึ้น\x20จงใช้ความคิดสร้างสรรค์เพื่อให้โจทย์มีความหลากหลาย\x20ไม่ซ้ำซากจำเจ\x20หลีกเลี่ยงการใช้โครงสร้างประโยคหรือรูปแบบปัญหาเดิมๆ\x20แค่เปลี่ยนตัวเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','.ideal-answer-input','currentTarget','tool','loader-text','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','str','behavior-log-tab-content','close-lesson-plan-modal-btn','readAsDataURL','สร้างแบบทดสอบ','Error\x20toggling\x20star\x20status:','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','STOP','close','scratchpad-clear-btn','pen-tools-group','เรขาคณิต','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','preventDefault','shuffledQuiz','เส้นจำนวน','วงรี','editable-text-','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20saving\x20questions\x20to\x20practice\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','interesting-stats-container','ราชาคัมแบ็ก','\x20to\x20blueprint\x20topic\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','ฟังก์ชันค่าสัมบูรณ์','timestamp','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','students','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','export-pdf-btn','Error\x20generating\x20from\x20parallel\x20test\x20file:','\x20|\x20','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','rgba(255,\x20255,\x200,\x200.5)','save-project-name-btn','.pdf','Original\x20quiz\x20not\x20found','ไม่พบแบบทดสอบ','team-quiz-topic','bg-emerald-100','.view-bp-lesson-btn','.ideal-answer-input,\x20.correct-response-input','<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>','#FFFFFF','applicationData','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','Error\x20clearing\x20linked\x20quiz:','opacity-50','next-question-timed-btn','\x22\x5cn','questions_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','pointContent','มุมพิเศษ\x2045°-45°-90°','save-bp-settings-btn','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','write','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','answers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','กรุณาใส่ชื่อใหม่','text-indigo-800','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','touches','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','การลบเศษส่วน','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','Attempting\x20to\x20save\x20game\x20results...','export-worksheet-pdf-btn','sync-manage-players-btn','enable-passcode-checkbox','Error\x20preparing\x20content\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','opacity','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบตารางสำหรับ\x20Export','confidence-mode-select','quick_thinker','lineWidth','bulk-quiz-settings-btn','.ai-content\x20td','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','แก้ไขชื่อหัวข้อย่อย:','prod','blueprint-settings-modal','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','manual-blueprint-modal','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','temp-loader-text-results','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','toDate','กรุณาเลือกโปรเจคก่อน','project-id-display','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','quiz-leaderboard-table','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','bp-modal-difficulty-level-select','bp-topic-list-container','ไม่มี','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','bg-green-50','.live-answer-btn,\x20#sync-submit-btn','keyConcepts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','เส้นรอบรูป','\x5cfrac{$1}{$2}','lastAnswerIndex','jspdf','dragend','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','\x22\x20สำเร็จ!','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','worksheet-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','เพิ่มหัวข้อ\x20\x22','touch','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ค่าเฉลี่ย','PERSEVERANCE','</li>','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','transparent','hover:bg-indigo-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','\x22\x20data-topic=\x22','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','blueprint-options-container','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','mainTopic','bottom','text-red-800','results-display-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','fa-crown\x20text-yellow-500',':</span><span>','td,\x20th','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','timerMode','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','export-tutor-pdf-btn','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้ภาษาที่เข้าใจง่าย\x20ใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','catch','กำลังสร้างแบบทดสอบ:\x20','transformOrigin','อสมการเชิงเส้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22question_single\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20unlinking\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','modal-timer-mode-select','sync','fa-dumbbell\x20text-gray-700','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','สร้างคำถามใหม่\x201\x20ข้อ\x20','summary','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.bp-unlink-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','overline','BOOLEAN','/public/data/customMathTopics','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','onerror','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-home-manual-release','allResponses','bg-gray-500','\x22\x20class=\x22color-palette-btn\x20','</span></p>','quiz-generation-area','manage-players-btn','shuffleSetting','includes','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','points','button','lesson-loader-text','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','choices_only','showImproveButton','**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','confidence-mode-container','<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>','not-found','<svg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','สร้างแล้ว','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สัญกรณ์วิทยาศาสตร์','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','draggable-text','topic','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','per-q-countdown','dragstart','_opt','student','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','manual-bp-grade-level','scale','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บทเรียนเรื่อง:\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt','perfect_score_status','button[data-id]','รูปสี่เหลี่ยมและสมบัติ','อุณหภูมิและการแปลง','name_desc','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','manage-tab-content','Error\x20saving\x20user\x20preference:','ลำดับการดำเนินการ\x20(PEMDAS)','num-questions','next-question-btn','addEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.application-options\x20button','generationConfig','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','grabbing','checked','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','#10B981','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pointsLastQuestion','bg-red-200\x20text-red-800','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','project-detail','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence-scoring-description','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','.quiz-bank-settings-btn','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','Error\x20displaying\x20question\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ring-purple-400','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','(ไม่มีชื่อ)','border-red-300\x20bg-red-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','tfrac','view-my-progress-btn','Failed\x20to\x20generate\x20practice\x20test:','Error\x20clearing\x20all\x20links:','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามแบบเติมคำในช่องว่าง','$1\x5c%','เปลี่ยนชื่อโปรเจคสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','.sortable-header','classList','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lessonContent','fixed','text-gray-700','inactive','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกลำดับ','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','behaviorLog','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจคนี้ทั้งหมด?','พบ\x20Sync\x20Game!','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cneq','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','countdown-display','quiz-id-input','กำลังสร้างแบบทดสอบจากหัวข้อ...','blueprint-upload-input','bp-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></td>','geq','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','href','warn','เลือกและบันทึก','short','ความสัมพันธ์ของมุม','confidence-scoring-checkbox','groups','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','\x20จาก\x20','isFinished','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','topic-quiz-bank-modal','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','file-upload-input','isPasscodeEnabled','add-student-btn','\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20โจทย์และตัวเลือกต้องมีลักษณะและความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','wakeLock','\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','rows','.question-editor-item[data-q-index=\x22','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','confidence','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','Error\x20confirming\x20players\x20for\x20sync\x20game:','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','export-leaderboard-word-btn','10509APHHlc','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','</strong></p>','getBoundingClientRect','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','พบข้อสอบ\x20','input[type=\x22checkbox\x22]:checked','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','members','Error\x20listening\x20for\x20starred\x20quizzes:','message-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','ระยะทางและจุดกึ่งกลาง','.bp-create-topic-quiz-btn','progress-project-select','เกิดข้อผิดพลาดในการบันทึกโปรเจค','transform','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','\x22\x20class=\x22delete-project-btn\x20','text/csv;charset=utf-8;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','ทฤษฎีบทพื้นฐานของแคลคูลัส','เกิดข้อผิดพลาดในการลบ','ลำดับเรขาคณิต\x20(GP)','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','trim','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','ไม่ได้ตอบ','loop-until-pass-checkbox','ฟังก์ชันเชิงเส้นและกราฟ','push','00:00','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','.confidence-choice-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','add','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','open-global-live-btn','generate-from-file-btn','leaderboard','</tbody></table></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/quizzes/','answerValue','text-green-800','แก้ระบบสมการด้วยเมทริกซ์','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','Error\x20updating\x20quiz\x20status:','text-gray-500','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','mode-switcher-btn','hasOwnProperty','per-question-text','ระบบสมการเชิงเส้นสองตัวแปร','37188MPiZTs','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','confirmation-modal','Error\x20generating\x20lesson\x20plan:','application/json','startsWith','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','การคูณทศนิยม','circle','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','/users/','Error\x20rendering\x20student\x20progress:','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','พื้นที่ใต้กราฟ/ระหว่างกราฟ','/studentProfiles','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','สมการลอการิทึม','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','#DBEAFE','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','กรุณาวาง\x20URL\x20ของบทความก่อน','-\x20ข้อ\x20','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','function','document','กำลังอ่านและเตรียมไฟล์...','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','\x22\x20value=\x22true\x22\x20','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','starred','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','then','ส่วนเบี่ยงเบนมาตรฐาน','fill','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','.topic-actions-view','เกิดข้อผิดพลาดในการปักหมุด','q-image-container-','rgba(16,\x20185,\x20129,\x200.7)','game-start-mode','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','cdot','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','totalPoints','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','</p><div>','ย้ายแบบทดสอบไปโปรเจคอื่น','lesson-plan-content','binom','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','verify-answers-btn','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','dashboardConfig','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','rename-quiz-input','ตั้งเวลา\x20(เปิด)','การปัดเศษและประมาณค่า','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','.quiz-bank-delete-btn','.bp-generate-lesson-btn','underline','file-topics-list-container','back-to-dashboard-from-results-btn','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','Error\x20linking\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','autoTable','pointermove','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','mean','submittedAt','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>','loopUntilPass','fas\x20fa-bookmark','ผู้ไม่ยอมแพ้','parse','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','อัตราและอัตราหน่วย','หมดเวลาสำหรับข้อนี้!','แบบทดสอบ:\x20','toFixed','modal-passing-score-input','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','/preferences/main','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','bg-red-50','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','responseSchema','settings','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','NUMBER','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','<textarea\x20name=\x22question','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','match','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','.linkedQuizIds','ยืนยันและอัปเดตทั้งหมด','answering','สรุปผลการวิเคราะห์:\x5cn','contentEditable','scratchpad-question','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','\x20รายการ\x20สำเร็จ!','หน่วยความยาวและการแปลง','ที่พิมพ์ได้\x20จำนวน\x20','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','cloneNode','ลิมิต','textarea','removeAttribute','resize','targetId','name','fa-rocket\x20text-purple-500','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','back-to-dashboard-from-bp-btn','whole_quiz','<button\x20data-quiz-id=\x22','การสร้างรูปด้วยวงเวียน–สันตรง','\x22.\x20','projectId','topics.','\x5ctimes','student-progress','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ท็อปฟอร์ม','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','findIndex','teachingContent','highlighter-tools-group','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','student-quiz-leaderboard-table-body','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','blueprint-topics-list','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','bg-purple-50','N/A','บันทึกโปรเจค\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','sync-short-answer-input','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','check-answer-btn','เริ่มกิจกรรม:\x20','start-live-race-generated-btn','\x22\x20class=\x22pin-project-btn\x20','.move-quiz-btn','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','การลบทศนิยม','type','topic_','วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','lineCap','Error\x20verifying\x20answers\x20in\x20editor:','#F59E0B','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','text-red-600','บันทึกคำถามใหม่\x20','modal-timer-duration-input','2755971ibMdgO','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','.bp-view-analysis-btn','.star-quiz-btn','submissions','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','backgroundColor','\x20จุด','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ:\x20','274192258111','.live-answer-btn,\x20#live-submit-short-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','parent','_opt1\x22>ไม่ใช่</label></div>','Failed\x20to\x20end\x20group\x20mode\x20game:','เลือกโปรเจคเพื่อบันทึก','authed_project_',';\x22\x20data-id=\x22','เปิดใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getAttributeNS','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','from','print','back-from-results-btn','กำลังอัปเดตแบบทดสอบ\x20','result','color','getTextContent','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','close-presentation-btn','bulk-results-display-select','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','#confidence-input-','topic-input-area','.parallel-quiz-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','</div>\x0a</div>\x0a','การลบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','parts','ผู้ควบคุม\x20(ทดสอบ)','postTScore','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','.answeredCurrentQuestion','#FEE2E2','project-search-input','applicationContent','pen-tool-btn','<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','createElement','Error\x20fetching\x20student\x20rankings:','.lastAnswerIndex','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','\x22><i\x20class=\x22fas\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','start-sync-game-btn','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','memoryContent','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','active','presentation-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','การประยุกต์เวกเตอร์พื้นฐาน','separate-by-content-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/liveGames','mjx-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','find','\x20/\x20','ฟังก์ชันสัมพัทธ์\x20(rational)','multiply','save-game-results-checkbox','timer-duration-label','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัปเดตแบบทดสอบเก่า\x20','สร้างชุดคำถามจับคู่','after','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','scrollX','bulk-shuffle-select','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5cdiv','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','editable-quiz-topic','</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-title','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20joining\x20activity:','.topic-name-input','quiz-type-select','slide-counter','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','quiz-results','ไม่พบแบบทดสอบสำหรับรหัสนี้','getBBox','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','pinnedProjects','file-topics-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','innerText','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','.ai-content\x20p','quiz-form','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ผ่าน','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','เส้นตรง:\x20รูปแบบสมการ','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','คัดลอกแบบทดสอบสำเร็จ','Firebase\x20initialization\x20failed:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','text-blue-800','เกิดข้อผิดพลาดในการนำแบบทดสอบออก','เพิ่มรายการที่เลือก','Error\x20deleting\x20all\x20students:','translate(','ไม่พบโปรเจค','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shouldSaveResults','admin-try-quiz-btn','kick-player-btn','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','เกี่ยวกับหัวข้อ\x20\x22','innerHTML','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','presentation-ai-result','shuffle','เกิดข้อผิดพลาดในการลบหัวข้อ','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','selectedTopicNames','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','left','\x5cle','matching','ai-quiz-generator-v3','fa-fire\x20text-orange-500','localeCompare','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','open-quiz-bank-btn','.delete-svg-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','text','modal-loop-until-pass-checkbox','input','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','display','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20สำเร็จ','8gWfrOy','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[data-topic-container-id]','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','บทเรียน','change','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','โดเมนและเรนจ์','visibilitychange','modal-results-display-select','ตารางความถี่','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','confirm-move-quiz-btn','พื้นที่วงกลม/ส่วนของวงกลม','project-dashboard-view','</span></div>','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','เกิดข้อผิดพลาด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','quizType','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','.project-card-container','.lessonContent','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','linkedQuizIds','cancel-bulk-quiz-settings-btn','endTime','confirm-manual-bp-btn','กำลังจับคู่...','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','empty','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','end-team-quiz-btn','จำนวนคละ','\x22\x20data-q-type=\x22','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','fixedData','14sUkFux','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','ไม่พบข้อมูลแบบทดสอบ','reveal-answer-btn','ใช่','\x22\x20name=\x22confidence','cos','back-to-student-initial-btn','save','<div\x20class=\x22my-2\x22>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','.status','querySelector','scratchpad-canvas','ฮิสโตแกรม','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','การจัดหมู่\x20(Combination)','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','-options','lower_group_count','setFont','cancel-admin-login-btn','ใช่\x20/\x20ถูก','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','passingScore','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','ข้อที่\x20','isArray','solution','startedAt','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','answer-grid-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','exitFullscreen','cancel-move-quiz-btn','workerSrc','log','end-game-btn','date_desc','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','student-list','.quiz-bank-try-btn','bp-modal-question-complexity-select','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','เส้นตรง:\x20ขนาน/ตั้งฉาก','กำลังโหลดคลังข้อสอบทั้งหมด...','เกิดข้อผิดพลาดในการลบผลสอบ','คัดลอกรหัสแล้ว!','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','ไม่พบข้อมูลผู้ใช้','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','AI\x20แก้ไขคำถามสำเร็จ!','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','select','.topic-name-display','rgba(59,\x20130,\x20246,\x200.7)','passing-score-input','สเกลและแผนที่','playerName','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','\x20ชุด)</span>','moveTo','none','error','next-sync-question-btn','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','Error\x20unpairing\x20quizzes:','Error\x20starting\x20group\x20quiz:','Error\x20moving\x20quiz:','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','toggle','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questions','Error\x20duplicating\x20quiz:','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','join','.kick-player-btn-sync','idealAnswer','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','/public/data/projects/','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','generate-from-text-btn','postScore','ไม่มีคำอธิบาย','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','data','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','ความต่อเนื่อง','เกิดข้อผิดพลาดในการจับคู่','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','click','removeItem','สมการราก\x20(radical)','\x20ชุด)','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','\x22\x20name=\x22question_single\x22\x20value=\x22','neq','\x0a\x20\x20\x20\x20','code','standard','Leaderboard\x20update\x20transaction\x20failed:\x20','ระบบอสมการ','global-quiz-list','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','export-lesson-pdf-btn','manage','live-player-list','confirm-bulk-quiz-settings-btn','bp-add-topic-btn','/submissions','<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','.quiz-bank-move-btn','เกิดข้อผิดพลาดในการลบนักเรียน','pen','touchend','ผู้เชี่ยวชาญ','ตัวประกอบและตัวประกอบเฉพาะ','add-custom-math-topic-btn','manage-tab','\x22\x20name=\x22question','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','querySelectorAll','getItem','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','confirm-game-start-btn','แบบเติมคำตอบ','sum','quiz-results-table-body','delete-svg-btn','รีเซ็ตลำดับโปรเจคแล้ว','icon','element','.toggle-actions-btn','เกมสิ้นสุดลงแล้ว','originalTopic','<li>','auto','className','point','AI\x20ไม่สามารถประมวลผลข้อมูลได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','fadeStartTime','pow','no-projects-msg','groups.','\x22\x20data-pre-test-id=\x22','ค่าคลาดเคลื่อนของการวัด','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','ไม่มีผู้ตอบตัวเลือกนี้','Group\x20Mode','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','offset','date_asc','Test\x20Blueprint','คำถามถัดไป','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','presentation-slide-container','Remedial\x20quiz\x20generation\x20failed:','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','forEach','\x22\x20ให้เป็นคำถามประเภท\x20\x22','เศษส่วน\x20(ย่อ/ขยาย)','Error\x20generating\x20easy\x20version\x20quiz:','<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>','checkAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','select[name=\x22question_single\x22]','\x20ตัวเลือก)','อัตราส่วนและสัดส่วน','post-test','\x20ใหม่...','ไม่พบข้อมูลเกม','.open-bp-project-btn','show-leaderboard-btn','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','เนื้อหาสำหรับสอน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','schedule','admin-dashboard','bulk-confidence-mode-container','admin-testing','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','open','remove','<i\x20class=\x22fas\x20fa-pen\x22></i>','#results-table','จำนวนและการดำเนินการ','ทฤษฎีบทพีทาโกรัสและการประยุกต์','modal-confidence-scoring-checkbox','การบวกทศนิยม','ความน่าจะเป็นแบบมีเงื่อนไข','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','back-to-student-home-btn','verify-answers-editor-btn','ข้อ\x20','manual_release','ไม่สามารถเพิ่มนักเรียนได้','<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','#view-rankings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','exists','pointercancel','.edit-quiz-btn','แบบทดสอบที่ติดดาว','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-leaderboard-pdf-btn','ปริพันธ์ไม่จำกัด','(ก่อนเรียน)',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','activeGameSession','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','approx','ฟังก์ชันกำลังสองและกราฟ','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','Error\x20fetching\x20project\x20quizzes:','สถิติและความน่าจะเป็น','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','numChoices','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','webkitExitFullscreen','Error\x20deleting\x20submission:','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','password-error-msg','/questionBank','viewBox','_opt0\x22>ใช่</label></div>','lobby','filter','options','q-explanation-','\x22\x20name=\x22drill_answer\x22\x20value=\x22','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','rgba(79,\x2070,\x20229,\x201)','quiz-bank-modal','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','#FCE7F3','isAdaptive','isScored','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถสร้างโปรเจคได้','user','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','imageCode','splice','ON_FIRE','bg-green-500','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการตั้งค่าสำเร็จ','ทศนิยม\x20(ค่าประจำหลัก)','request','$1\x20\x5cfrac','user-id-display','generated-quiz-container','ผ่านฉลุย','selected-topics-count','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','\x20แบบทดสอบลงในคลังสำเร็จ!','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','จำนวนเชิงซ้อน\x20(เสริม)','topics','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a---\x0a','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','Failed\x20to\x20get\x20standardized\x20topic:','isRemedial','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-shuffle-select','fill_in_the_blank','value','มุมและการวัดมุม','.delete-submission-btn','handleGeneratePracticeTest','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>','อินเวอร์สของเมทริกซ์','Error\x20generating\x20hybrid\x20quiz:','\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22','กำลังสแกนหาแบบทดสอบเก่า...','student-name-selection-view','การแยกตัวประกอบ','lowerGroupNames','กำลังสร้างบทเรียน:\x20','showInStudentDashboard','Error\x20creating\x20project:','.generate-easy-version-btn','random','touchmove','cancel-game-start-btn','thead','appendChild','fas\x20fa-star\x20text-yellow-500','stdDev','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','thead\x20.sortable-header','instructions','.pair-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','message','content','projectName','closePath','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','<div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-selection-btn','timer-mode-select','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','createdAt','การหารทศนิยม','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','198250GURdJq','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','input[type=\x22radio\x22][value=\x22','เกิดข้อผิดพลาดในการอัปเดตสถานะ','</form>','ตรวจคะแนนใหม่\x20','quiz-start-time','bar','<div\x20id=\x22q-image-container-','</span>','gradeLevel','กรุณาเลือกชื่อของคุณ','(คู่ขนาน)\x20','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27\x20','.topic-actions-edit','promise','Error\x20during\x20class\x20analysis:','behavior-log','</span><span\x20class=\x22font-bold\x22>','null','.generate-lesson-btn','perfect_score','<tr>','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','\x20ตอบ','temp-loader-results','<p\x20class=\x22','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','scratchpad-modal','Failed\x20to\x20generate\x20lesson:','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','ไม่ใช่','ดูผลสรุปสุดท้าย','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','Error\x20regenerating\x20question\x20in\x20editor:','รูปหลายเหลี่ยมและมุมภายใน','entries','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','สมการยกกำลัง','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','generated-quiz-actions','text-indigo-700','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','manual-bp-content','typesetPromise','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-green-600\x20font-bold','Error\x20renaming\x20quiz:','หน่วยเวลาและการคำนวณเวลา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','.delete-project-btn','Error\x20adding\x20topic:','\x20รายการสำเร็จ!','แคลคูลัสเบื้องต้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22','timerDuration','score-distribution-chart','.bp-try-btn','เรขาคณิตวิเคราะห์','move-quiz-modal','แผนภาพเวนน์','</div></div></div>','Failed\x20to\x20resume\x20game\x20session:','ลบผลสอบของ\x20','afterend','key','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','toLocaleString','Error\x20committing\x20score\x20updates:','questionType','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ','beginPath','กฎของโคไซน์','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','/public/data/syncGames','Error\x20saving\x20to\x20question\x20bank:','สลับไปโหมดนักเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','game-start-modal-title','AI\x20Formula\x20Fix\x20Error:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','min','คะแนนเฉลี่ย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','setItem','scrollY','[data-field=\x22subTopic\x22]','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-200\x20text-green-800','text-purple-600','.flex.justify-between.items-center','.group','\x0a\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0a\x20\x20\x20\x20ภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0a\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x201.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a\x20\x20\x20\x202.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a\x20\x20\x20\x203.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a\x20\x20\x20\x204.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a\x20\x20\x20\x20','numeric','input[type=\x22checkbox\x22]','generated','results-tab-content','toISOString','\x20(สำหรับ\x20','student-rankings-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','ถูก','bg-blue-100','selected-answer-index-hidden','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','.delete-quiz-btn','mixed','topic-input','matching_item','curriculum','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','cancel-quiz-edits-btn-footer','Error\x20during\x20blueprint\x20link\x20cleanup:','Error\x20loading\x20quiz\x20for\x20student:','ยังไม่เต็มนะ','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','Auto-linking\x20new\x20quiz\x20','อนุพันธ์:\x20กฎลูกโซ่','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','createObjectURL','\x20(ID:\x20','admin','summary_chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','cancel-delete-btn','globalSettings','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#student-quiz-leaderboard-content\x20thead','กราฟแท่ง\x20กราฟเส้น','option','Error\x20saving\x20manual\x20blueprint\x20project:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถบันทึกการตั้งค่าได้','setTransform','blueprint-project-list','ความแปรปรวน','การนับ','originalQuestionText','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','th-TH','substr','blockReason','close-comparison-modal-footer-btn','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','นำแบบทดสอบออกจากคลังนี้แล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','confirm-admin-login-btn','responses','setAttributeNS','players.','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','teacherTips','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ฟังก์ชันแบบชิ้นส่วน','/public/data/blueprintProjects','student-result-area','quizId','.copy-quiz-id-list-btn','scheduled_pending','lineJoin','globalCompositeOperation','smooth','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','อยู่ในสาระการเรียนรู้ใด:','analytics-tab-btn','Error\x20saving\x20visibility\x20settings:','Error\x20generating\x20parallel\x20post-test:','confirmation-message','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','.bp-present-btn','.draggable-text','\x20ตัวเลือก.\x20','ตอบถูกทุกข้อในแบบทดสอบนี้','passcode','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_opt1\x22\x20name=\x22question','.rename-quiz-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','commit','overallGroups','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','close-topic-bank-btn','\x5csum','half_mark_status','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20สำเร็จ','.compare-results-btn','deg','now','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','sync-submit-btn','perseverance','topic-bank-list','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','bg-black/10','move-quiz-project-select','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','เกิดข้อผิดพลาดในการติดดาว','Error\x20deleting\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<tr><td\x20colspan=\x22','earned-badges-container','copy','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22','promptFeedback','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','.question-editor-item','.lastAnswerValue','<div\x20class=\x22my-6\x22>','การเรียงสับเปลี่ยน\x20(Permutation)','questionIndex','keys','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','คณิตการเงิน/บูรณาการ','</h3>','จัดการ','start-presentation-btn','text-green-700','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','font-bold\x20text-green-700','timer-duration-container','โดยเน้นสร้างเนื้อหาและโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','ความชันเส้นสัมผัส','scheduled','team-student-list','ระยะเวลา\x20(นาที):','\x27,\x20\x27','เปิด\x20(จับเวลา)','string','text-yellow-300','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','student-reading-area','bg-amber-100\x20text-amber-800','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22><span>','วงกลม:\x20สมการและสมบัติ','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','ชื่อหัวข้อห้ามว่าง','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','Error\x20saving\x20quiz\x20edits:','preTScore','isNormalTopic','results-table','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','leaderboard-quiz-tab-content','Action:\x20Generate\x20new\x20lesson.','live-short-answer-input','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','G-V90KRM0L63','border-gray-200','กรุณาใส่ชื่อนักเรียน','adaptive-quiz-checkbox','\x20</div>\x0a\x20\x20\x20\x20','player-list-lobby','cancel-blueprint-projects-btn','สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด','clientX','http://www.w3.org/2000/svg','toDataURL','_opt0\x22\x20name=\x22question','sqrt','จากไฟล์ที่แนบมานี้,\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','keyup','projectSortOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','รูปสแควร์รูท\x20(surd)','bg-black/20','game-pin-input','grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4','sync-player-list','text/html','.topic-category','shadowBlur','question-analytics-container','every','.doc',')\x22>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','padStart','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','comparison-individual-content','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','.generate-content-btn','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','Error\x20verifying\x20answers:','questionId','ทำคะแนนได้เกินครึ่ง','Authentication\x20failed:','หลังเรียน','quiz-end-time','\x20\x20\x20-\x20คำตอบ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fullscreenchange','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20(p=','คำถามดิบ:\x20\x22','ownerSVGElement','text-gray-300\x20hover:text-white','ค.ร.น.\x20(LCM)','tGain','เกิดข้อผิดพลาดในการล้างการเชื่อมโยง','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','confirm-passcode-btn','<div\x20class=\x22space-y-4\x22>','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การบวกเศษส่วน','tan','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','math-topics-checkbox-container','</th>','passcode-prompt-message','topicId','student-project-leaderboard-table-body','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัตราการเปลี่ยนแปลงทันที','\x22\x20data-quiz-id=\x22','NEGATIVE_INFINITY','strength-weakness-analysis-container','.delete-bp-project-btn','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','checkbox','reset-project-order-btn','reduce','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','isPinned','onclick','pointerdown','topic-tab','contents','devicePixelRatio','Error\x20updating\x20custom\x20topic:','.cancel-edit-topic-btn','results-quiz-title','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dimmed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','timer-container','items','กำลังดึงข้อมูลจากลิงก์...','projectSort','.project-card-content','หมดเวลา!\x20กำลังส่งคำตอบ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','/public/data/practiceBank','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','pointerType','คะแนน','set','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','badgesCount','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','grid','bank-quiz-list','explanation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ค่าความจริง/ตารางค่าความจริง','height','scores-tab-content','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','px,\x20','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bulk-confidence-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','global-live-game-modal','transition-all','manual-create-blueprint-btn','พื้นที่ผิวรูปทรงสามมิติ','<button\x20data-value=\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','Failed\x20to\x20create/update\x20submission\x20record:','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','ตอบถูก\x203\x20ข้อติดต่อกัน','POST','bp-modal-quiz-type-select','ปริมาตร/ความจุและการแปลง','load-quiz-btn','Error\x20saving\x20quiz:','bp-modal-num-questions','highlighter-tool-btn','topicName','\x22>จาก:\x20','fromCharCode','num-choices','get','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','อัปเดตสถานะสำเร็จ','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0aเนื้อหาจากไฟล์ข้อสอบอ้างอิง:\x0a','ความชันและเส้นตรง','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','<p\x20class=\x22text-2xl\x22>','text-red-900','quadraticCurveTo','isCorrect','ไฮเพอร์โบลา','width','แบบปรนัย\x204\x20ตัวเลือก','Invalid\x20response\x20structure\x20from\x20AI.','.quiz-result-card','input[type=\x22text\x22]','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','setAttribute','<div\x20class=\x22loader\x20mx-auto\x22></div>','</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confidence-input-','podium','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','เกิดข้อผิดพลาดในการเปลี่ยนสี','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบแบบทดสอบ','leaderboard_','กรุณาเลือกคำตอบ','bg-red-500\x20text-white\x20font-bold','FIRST_TRY_ACE','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','bg-red-500','has','webkitRequestFullscreen','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','bp-modal-num-choices','isConfidenceScoringEnabled','blueprint-project-manager-view','lesson-loader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','incorrect','ร้อยละพื้นฐาน','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','classWeaknesses','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','COMEBACK_KING','responses.','sin','Error\x20opening\x20quiz\x20editor:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','split','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>','แบบทดสอบซ่อมเสริม','back-to-results-btn','Successfully\x20removed\x20','bestScore','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','องค์ประกอบของฟังก์ชัน','เกิดข้อผิดพลาดในการบันทึก','analytics-summary-cards','สลับไปโหมดผู้ควบคุม','isLooping','classStrengths','generate-from-blueprint-btn','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','project-quizzes-list','.color-palette-btn','indexOf','live-submit-short-answer-btn','#F3E8FF','mainTopics','\x22\x20data-name=\x22','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','\x20ข้อ\x20','<i\x20class=\x22fas\x20fa-magic\x22></i>','ปิดใช้งาน','includeImages','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','border-green-300\x20bg-green-50','players','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','circ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','eraser','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','ข้อต่อไป','not_generated','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','teacherSuggestions','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','quiz-results-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','highlighter-size-slider','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','position','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','ปริพันธ์จำกัด','<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>','fill_in_no_choices','grid-view-btn','raw','toString','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','.pen-size-btn','first_try_ace','กรุณาพิมพ์คำตอบ','436rXnKTI','abs','ร้อยละประยุกต์','numPages','<p\x20class=\x22text-xl\x22>','comparison-overall-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','div[data-question-index=\x22','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','custom-math-topic-input','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','length','Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.','สร้างแบบทดสอบปรนัย','rename-quiz-modal','quiz-editor-questions-container','.isScored','list','editor-quiz-topic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','generate-from-link-btn','line-through\x20text-red-700','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','Error\x20fetching\x20projects\x20for\x20move:','\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','MathJax\x20re-render\x20failed:',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','student-team-join','.file-topic-selection-btn','text-red-500\x20hover:text-red-700','confirm-create-project-btn','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','totalQuestions','body','\x22.\x20Ideal\x20Answer:\x20\x22','touchstart','.highlighter-color-btn','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','confirm-join-game-btn','preTestId','ai-quiz-app-aefee','กรุณาเลือกคำตอบของกลุ่ม','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','Error\x20listening\x20for\x20projects:','.quiz-bank-checkbox:checked','bg-red-100','behavior-log-tab-btn','.live-answer-btn','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','<div\x20class=\x22p-2\x20rounded-md\x20','-tab-content','\x22>ใช่</p>','ปริมาตรรูปทรงสามมิติ','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','subTopics','check-presentation-answer-btn','ย้ายแบบทดสอบสำเร็จ','Error\x20saving\x20settings:','readAsText','numQuestions','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','wasConfident','scores-tab-btn','quiz-bank-count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','student-progress-content','#retake-for-improvement-btn','map','actions-container-','timed','หัวข้อที่สร้างเอง','.\x20แต่ละข้อมี\x20','export-leaderboard-image-btn','artifacts/','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','ลบหัวข้อสำเร็จ','loader','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22','<div><input\x20type=\x22radio\x22\x20id=\x22q','.csv','bg-green-100\x20font-bold','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','deltaY','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','Invalid\x20response\x20structure\x20from\x20API.','\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a1.\x20\x20**ต้องสร้างโจทย์ที่เน้นการคิดวิเคราะห์\x20(Highest\x20Priority):**\x0a\x20\x20\x20\x20*\x20**เน้นการประยุกต์ใช้:**\x20โจทย์ส่วนใหญ่ต้องไม่ใช่คำถามความจำหรือคำนวณตรงๆ\x20แต่ต้อง\x20**บังคับให้ผู้เรียน**\x20ต้องคิดวิเคราะห์,\x20ประยุกต์ใช้ความรู้,\x20หรือแก้ปัญหาหลายขั้นตอน\x20(multi-step\x20reasoning)\x0a\x20\x20\x20\x20*\x20**หลีกเลี่ยงโจทย์ง่าย:**\x20**ห้ามสร้าง**\x20โจทย์ที่เป็นการคำนวณพื้นฐานในขั้นตอนเดียว\x20(เช่น\x20\x22จงหาผลลัพธ์ของ\x2015\x20x\x204\x22)\x20โดยเด็ดขาด\x0a\x20\x20\x20\x20*\x20**สถานการณ์สมจริง:**\x20โจทย์ควรอยู่ในรูปแบบของ\x20\x22โจทย์ปัญหา\x22\x20(Word\x20Problems)\x20ที่มีสถานการณ์สมมติ\x20เพื่อวัดความสามารถในการนำความรู้ไปใช้แก้ปัญหาจริง\x0a\x0a2.\x20\x20**การจำลองสไตล์และความยาก\x20(Style\x20&\x20Complexity\x20Replication):**\x0a\x20\x20\x20\x20*\x20**กรณีที่มีไฟล์ข้อสอบอ้างอิงแนบมาด้วย:**\x20ให้ใช้ไฟล์นี้เป็น\x20**แนวทางหลัก**\x20ในการจำลองสไตล์,\x20ระดับความซับซ้อน,\x20และลักษณะการใช้ภาษาของโจทย์\x20แต่\x20**ห้ามคัดลอก**\x20โจทย์หรือตัวเลขมาโดยตรงเด็ดขาด\x0a\x20\x20\x20\x20*\x20**กรณีที่ไม่มีไฟล์ข้อสอบอ้างอิง:**\x20ให้ใช้\x20\x22แม่พิมพ์ข้อสอบ\x20O-NET\x22\x20(Master\x20Test\x20Pattern)\x20ด้านล่างนี้เป็นเกณฑ์ในการสร้างโจทย์\x20โดยอิงตาม\x20**ระดับชั้นของตัวชี้วัดที่ระบุใน\x20Test\x20Blueprint**\x0a\x0a3.\x20\x20**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a\x20\x20\x20\x20*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20สำหรับแต่ละ\x20\x27สาระ\x27\x20ในตาราง\x20Test\x20Blueprint,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้าง\x20(เช่น\x20\x274\x20ตัวเลือก\x201\x20คำตอบ\x20(4\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20จากนั้น,\x20ให้ดูรายการหัวข้อในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ในแถวเดียวกัน\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20**ภารกิจของคุณคือการสร้างข้อสอบตามจำนวนที่กำหนด\x20โดยต้องกระจายให้ครอบคลุมหัวข้อใน\x20\x27สาระการเรียนรู้แกนกลาง\x27\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้**\x20ตัวอย่างเช่น:\x20หากกำหนดให้สร้าง\x204\x20ข้อ\x20และใน\x20\x27สาระการเรียนรู้แกนกลาง\x27\x20มี\x205\x20หัวข้อย่อย\x20คุณต้องเลือกสร้างโจทย์จาก\x204\x20หัวข้อที่แตกต่างกัน\x20**ห้ามสร้างโจทย์\x202-3\x20ข้อจากหัวข้อเดียวกันแล้วละเลยหัวข้ออื่นโดยเด็ดขาด**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**กฎการใช้\x20LaTeX\x20(CRITICAL):**\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20**`$`...`$`**\x20เท่านั้น\x20**ห้ามใช้\x20`\x5c[...\x5c]`\x20หรือ\x20`\x5c(...\x5c)`\x20โดยเด็ดขาด**\x0a-\x20\x20\x20**กฎการใช้วงเล็บ:**\x20สำหรับการจัดกลุ่มนิพจน์ทางคณิตศาสตร์\x20ให้ใช้วงเล็บมาตรฐาน\x20**`()`**\x20เท่านั้น\x20ห้ามใช้วงเล็บเหลี่ยม\x20`[]`\x20หรือวงเล็บปีกกา\x20`{}`\x20เพื่อการจัดกลุ่ม\x0a','Error\x20joining\x20sync\x20game:','fix\x20the\x20option','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','confirm-quiz-status-btn','close-lesson-view-btn','ห.ร.ม.\x20(GCD)','wheel','แบบทดสอบนี้หมดเวลาแล้ว','.start-presentation-list-btn','กำลังเตรียมไฟล์\x20Test\x20Blueprint...','contains','passcode-input-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','dfrac','.duplicate-quiz-btn','round','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','.answered','กำลังสร้างรูปภาพ...','กรุณาป้อนหัวข้อสำหรับใบงาน','subTopic','quiz-leaderboard-table-body','กรุณาเลือกโปรเจคปลายทาง','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','กำลังวิเคราะห์หัวข้อ...','tooltipTarget','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','show_pass_fail_only','svg','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','stem','กรุณาพิมพ์คำตอบของกลุ่ม','qIndex','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getElementsByTagName','upperGroupResponders','รอ...','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','ไม่พบข้อมูลโปรเจค','ยังไม่สร้าง','กิจกรรมสิ้นสุดลงแล้ว','memory','ARRAY','hidden','size','cancel-team-selection-btn','<p><strong>คำตอบที่แนะนำ:</strong>\x20','confidence_single','top','เกิดข้อผิดพลาดในการนำผู้เล่นออก','Error\x20saving\x20project\x20order:','stopPropagation','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20fetching\x20quiz\x20settings:','lesson-plan-title','attempts','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','cancel-passcode-btn','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','fullscreenElement','bg-blue-100\x20text-blue-800','comparison-chart','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','perQuestionStats','parentElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getScreenCTM','generate-from-topic-btn','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','execCommand','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','Copy\x20command\x20failed','results','end-sync-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','quiz','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','.score','scratchpad-options','visible','.lastAnswerCorrect','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','คะแนนยังไม่ถึงครึ่ง','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','จุด\x20เส้น\x20ระนาบ','.unpair-quiz-btn','onload','AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้','hasPerfectScoreBonus','\x5cge','specialist','link-input-area','<span\x20title=\x22','undefined','เกิดข้อผิดพลาดในการสร้างใบงาน','scratchpad-controls','เกิดข้อผิดพลาดในการส่งคำตอบ','83418MCqyTu','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','Error\x20comparing\x20results:','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เวกเตอร์และเมทริกซ์\x20(เสริม)','download','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','force-math-checkbox','Error\x20deleting\x20student:','#student-project-leaderboard-content\x20thead','score','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','bg-green-100','on_fire','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','mandatory','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','parseInline','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','เพิ่ม\x20','confirm-team-players-btn','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','nickname-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เซียนสมองไว','Called\x20from\x20Blueprint\x20page.\x20Using\x20temporary\x20settings.','\x20**กฎเพิ่มเติม:**\x20เน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET','modal-adaptive-quiz-checkbox','some','การกระจายและการจัดหมู่','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','bp-modal-passing-score-input','correctAnswer','presentation-scratchpad-btn','cursor','leaderboard-quiz-tab-btn','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','mousemove','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','studentName','เกิดข้อผิดพลาดในการแก้ไข','bg-gray-200\x20text-gray-700','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','game-start-quiz-id','text-emerald-800','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','group','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','docs','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','destroy','.pointsLastQuestion','.presentation-option','data:application/vnd.ms-word;charset=utf-8,','modal-confidence-mode-select','การคูณเศษส่วน','ส่วนเบี่ยงเบนเฉลี่ย','.summary-bar-item','ring-2','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','modal-message','(คัดลอก)\x20','quiz-search-input','<p><strong>คำตอบของคุณ:</strong>\x20','style','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','save-settings-btn','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','update','clear-all-links-btn','generate-from-parallel-test-btn','table','msExitFullscreen','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','export-excel-btn','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','lesson-sections-container','border-red-700','text/plain','text-gray-100','input[name=\x22team_player\x22]:checked','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','.ai-content\x20h3','.admin-try-quiz-list-btn','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','show-in-student-dashboard-checkbox','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','close-lesson-plan-modal-footer-btn','กำลังสร้างแบบทดสอบ\x20\x22','toLowerCase','fa-user-astronaut\x20text-blue-700','การแจกแจงปกติและ\x20z-score','projectOrder','บันทึกการตั้งค่าการแสดงผลสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','admin-password-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','open-sync-scratchpad-btn','pop','Action:\x20View\x20existing\x20lesson.','clearRect','shuffle-setting-select','.quiz-status-btn','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','export-image-btn','student-team-selection-view','.ai-content\x20blockquote','text-white','bg-green-100\x20text-green-800','/public/data/learnedFixes','release','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','timer-duration-input','restore','ไม่สามารถเริ่มเกมได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>','ส่งแล้ว','mousedown','frac','\x20pointer-events-none\x22>','รหัสไม่ถูกต้อง','ไม่ระบุ','จับคู่เพื่อเปรียบเทียบผล','file-input-area','highlighter','pre-test','total','start-game-btn','Sync\x20Mode','category','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','commonMistakes','</div></div>','\x20mx-1\x20text-lg\x22></i></span>','currentMode','ไม่ผ่าน','Error\x20updating\x20sort\x20preference:','_blank','quiz-editor-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','test','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','จากเนื้อหาต่อไปนี้:\x20\x22','bp-modal-shuffle-setting-select','.sort-indicator','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','submit-team-answer-btn','การบวก','\x27\x20ในส่วน\x20\x27MEMORY\x27\x20','.quiz-bank-parallel-btn','จำนวนเต็มบวก','reference-pdf-upload','Error\x20pairing\x20quizzes:','fix-lesson-latex-btn','โดยให้อ้างอิงสไตล์และระดับความยากจากไฟล์ข้อสอบอ้างอิงที่แนบมาด้วย','\x20คะแนน\x20','ตรวจทานเฉลยเสร็จสิ้น!','lesson-plan-modal','delete','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','standardTopic','pin','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','pre-test-checkbox','\x20คะแนน</span></div>','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ยอดเยี่ยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','pairedQuizId','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','.start-live-race-btn','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','lesson-view-modal','student-project-leaderboard-tab','removeEventListener','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ยืนยันการกระทำ','<p\x20class=\x22font-bold\x20text-sm\x20','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','question','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','Action:\x20Create\x20O-NET\x20Style\x20Quiz\x20from\x20Topic\x20Name.','border-green-700','<br>','undo-btn','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','save-visibility-settings-btn','.bp-open-topic-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','screen_exit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','mouseleave','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','.linkedQuizId','(^|[^\x5c\x5c])\x5cb','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','confirm-link-quiz-btn','asc','title','sara','confidenceMode','All\x20groups\x20have\x20finished.\x20Ending\x20game.','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','values','ศูนย์','/public/data/projects','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-comparison-modal-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','handleGenerateAndShowLesson','เลือกและเริ่มสร้าง','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20toggling\x20pin\x20status:','ทฤษฎีทวินาม\x20(เบื้องต้น)','closest','ย้าย','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','analytics','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','keydown','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','trail','sync-player-management','สำหรับโปรเจค:\x20','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','สามเหลี่ยม\x20(ชนิด/สมบัติ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','blueprint-input-area','player-count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','หน่วยมวล/น้ำหนักและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','Error\x20loading\x20user\x20preferences:','Error\x20submitting\x20team\x20answer:','แผนการสอน:\x20','สมการค่าสัมบูรณ์','worksheet-input-area','mouseup','lessonPlan','#ffffff','#000000','msRequestFullscreen','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','ระบบเลขและค่าประจำหลัก','mode','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','image/png','confirm-delete-btn','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','scratchpad-header','\x20คู่\x20','pinned-items','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scrollIntoView','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','หยุดระบบจับเวลาหรี่หน้าจอ','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','.topic-row','true_false','กำลังสร้างเนื้อหา:\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','cancel-bp-settings-btn','move','จำนวนคู่:','block','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','answeredCurrentQuestion','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','bulk-quiz-settings-modal','student-project-leaderboard-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','rgba(79,\x2070,\x20229,\x200.8)','bulk-confidence-scoring-checkbox','screen','default','replace','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','select-all-topics-btn','\x27\x20ในหัวข้อ\x20\x27','redo-btn','</select>','การจัดกลุ่มข้อมูล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','\x22\x20name=\x22team_answer\x22\x20value=\x22','rgba(239,\x2068,\x2068,\x200.7)','quiz-status-modal','bulk-loop-until-pass-checkbox','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','highlighter-size-value','\x20ครั้ง)</span></td>','.live-summary-tooltip.visible','pointerup','0\x200','leaderboard-tab-content','UTF-8','question-complexity-select','px)\x20scale(','.bp-create-onet-quiz-btn','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','\x5csqrt{$1}','หัวข้อหลักใหม่','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dataset','student-initial-view','latestSubmittedAt','project-passcode-input','auto-fix-latex-btn','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','fill_in_with_choices','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','badges','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','กลุ่มของคุณ','original-mode-checkbox','เรเดียนและการแปลงหน่วย','fa-shield-alt\x20text-gray-600','answerText','มุมพิเศษ\x2030°-60°-90°','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','textContent','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','ระยะจากจุดถึงเส้นตรง','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','link-url-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show_results_only','2-digit','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','createElementNS','latestScore','correctAnswerIndex','practiceProblems','stringify','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','เงินงวด\x20(อนุกรมเงินงวด)','text-indigo-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','hint','มัธยฐาน','Error\x20confirming\x20players:','text-gray-200','https://corsproxy.io/?','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','mouse','difficulty-level-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','save-blueprint-as-project-btn','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','.pen-color-btn','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','text-red-700','show_results_and_answers','include-images-checkbox','สุดยอด!\x20ตอบถูกทุกข้อ','.bp-game-btn','q-text-','false','การวัด','ไม่พบข้อมูลการจับคู่','comparison','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พิสัย','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','createdBy','\x20ข้อ...','#math-topics-checkbox-container\x20input:checked','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','ai-quiz-app-aefee.firebaseapp.com','back-to-dashboard-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ตรีโกณมิติ','text-green-700\x20bg-green-100','correct','ฟังก์ชันราก\x20(root)','\x22\x20value=\x22false\x22\x20','.submittedAt','```json','parallel-test-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','.bp-live-btn','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','การหาร','ฟังก์ชันยกกำลัง','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','Error\x20joining\x20live\x20game:','ฟังก์ชันพหุนาม','save-quiz-edits-btn','<button\x20id=\x22','show-results-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','hint-btn','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','PERFECT_SCORE','ไม่พบเอกสารการส่งงานของ\x20','scratchpad-close-btn','อนุพันธ์:\x20ผลคูณ/ผลหาร','modal-confidence-mode-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','desc','submission-status-chart','MathJax','Error\x20listening\x20for\x20student\x20profiles:','team','correctResponse'];_0x39b6=function(){return _0x1a12ff;};return _0x39b6();}function renderAdminSyncDashboard(_0xa06e08,_0x55f455){const _0x4033ff=_0x27ad1b,_0x3a39c1=Object['values'](_0xa06e08[_0x4033ff(0x7af)]||{}),_0x59e94b=_0x3a39c1[_0x4033ff(0x7dc)],_0x3318a6=[..._0x3a39c1][_0x4033ff(0xae5)]((_0x4e41ec,_0x32f1ff)=>_0x32f1ff['score']-_0x4e41ec['score']),_0x1eb07d=_0xa06e08['currentQuestionIndex'];let _0xa9806b='';const _0x5ee05c=_0xa06e08[_0x4033ff(0x150)][_0x4033ff(0x4aa)],_0x14592e=_0x5ee05c[_0x1eb07d],_0x586470=_0x292bb2=>String[_0x4033ff(0x756)](0x41+_0x292bb2);let _0x45f246='',_0x3b3bb5='';if(_0x14592e){const _0x551656=_0x14592e[_0x4033ff(0x5fe)]||_0xa06e08[_0x4033ff(0x150)][_0x4033ff(0x447)];if(_0x551656==='multiple_choice'&&_0x14592e[_0x4033ff(0x559)]&&_0x14592e[_0x4033ff(0xa18)]!==undefined){const _0x1d8753=_0x14592e[_0x4033ff(0xa18)];_0x45f246=_0x14592e[_0x4033ff(0x559)][_0x1d8753],_0x3b3bb5=_0x586470(_0x1d8753)+'.';}else{if(_0x551656===_0x4033ff(0x9c7)){const _0xf432b0=_0x14592e['correctAnswer']===!![]||String(_0x14592e[_0x4033ff(0x8cd)])[_0x4033ff(0x90c)]()==='true';_0xf432b0?(_0x45f246=_0x4033ff(0x475),_0x3b3bb5='ก.'):(_0x45f246=_0x4033ff(0xb27),_0x3b3bb5='ข.');}else{if(_0x551656===_0x4033ff(0x62a))_0x45f246=_0x14592e[_0x4033ff(0xa66)]||'-',_0x3b3bb5='';else _0x551656===_0x4033ff(0xa97)&&(_0x45f246=_0x14592e[_0x4033ff(0x4af)]||'-',_0x3b3bb5='');}}}_0x45f246&&(_0xa9806b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20'+(_0x1eb07d+0x1)+_0x4033ff(0xb70)+_0x3b3bb5+'\x20'+_0x45f246+_0x4033ff(0xa56));const _0x86db00=_0x3318a6[_0x4033ff(0x821)](_0x45719b=>{const _0x1aa8fd=_0x4033ff;let _0x47e6bc=![];if(_0x45719b['answers']&&_0x1eb07d!==-0x1){const _0x4a6778=_0x45719b[_0x1aa8fd(0x184)][_0x1aa8fd(0x3d5)](_0x160aeb=>_0x160aeb[_0x1aa8fd(0x697)]===_0x1eb07d);_0x4a6778&&_0x4a6778['isCorrect']&&(_0x47e6bc=!![]);}const _0x34644e=_0x47e6bc?'bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg':_0x1aa8fd(0x6d5);return _0x1aa8fd(0x797)+_0x34644e+_0x1aa8fd(0x6b2)+_0x45719b[_0x1aa8fd(0x352)]+'</span><span\x20class=\x22font-bold\x22>'+_0x45719b['score']+_0x1aa8fd(0x95c);})['join'](''),_0x490e01=_0x5ee05c[_0x4033ff(0x821)]((_0x247880,_0x1f4144)=>{const _0x24c345=_0x4033ff,_0xcfdd27=_0x3a39c1[_0x24c345(0x558)](_0x20f532=>_0x20f532[_0x24c345(0x184)]&&_0x20f532[_0x24c345(0x184)]['find'](_0x28eb41=>_0x28eb41['questionIndex']===_0x1f4144&&_0x28eb41['isCorrect']))[_0x24c345(0x7dc)],_0x36c9b9=_0x1f4144===_0x1eb07d,_0x1bac98=_0x36c9b9?_0x24c345(0x4df):'p-2\x20bg-black/10\x20rounded-md';return _0x24c345(0x893)+_0x1bac98+_0x24c345(0x3b1)+(_0x1f4144+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0xcfdd27+_0x24c345(0x3d6)+_0x59e94b+'\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x4033ff(0x4ad)]('');let _0x3f5477='',_0x59807c='';if(_0x55f455){const _0x39cf1e=_0xa06e08[_0x4033ff(0xb50)]>=_0x5ee05c[_0x4033ff(0x7dc)]-0x1;_0x3f5477=_0x4033ff(0xaf7)+(_0x39cf1e?_0x4033ff(0x5d4):_0x4033ff(0x7b9))+_0x4033ff(0xb3a),_0x59807c=_0x4033ff(0xa0c);}const _0x80cf4a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20'+_0xa06e08[_0x4033ff(0x150)][_0x4033ff(0x21a)]+_0x4033ff(0xb2d)+_0x59807c+_0x4033ff(0xa37)+_0xa9806b+_0x4033ff(0x8f1)+(_0x86db00||_0x4033ff(0x1dc))+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0x490e01+_0x4033ff(0x82b)+(_0x55f455?_0x4033ff(0xac4)+_0x3f5477+_0x4033ff(0xac7):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x4033ff(0x415)]=_0x80cf4a;if(window['MathJax']){const _0x30b10f=document[_0x4033ff(0xa9a)]('main-correct-answer-display');_0x30b10f&&MathJax['typesetPromise']([_0x30b10f]);}if(_0x55f455){document[_0x4033ff(0xa9a)](_0x4033ff(0x4a1))[_0x4033ff(0x710)]=async()=>{const _0x4947eb=_0x4033ff,_0x4af872=doc(db,_0x4947eb(0x827)+appId+'/public/data/syncGames',currentLiveGameId),_0x2091d1=_0xa06e08['currentQuestionIndex']+0x1;if(_0x2091d1<_0x5ee05c[_0x4947eb(0x7dc)]){const _0x50d078={};Object[_0x4947eb(0x698)](_0xa06e08[_0x4947eb(0x7af)])[_0x4947eb(0x50c)](_0x2f3d4e=>{const _0x564f97=_0x4947eb;_0x50d078[_0x564f97(0x655)+_0x2f3d4e+'.answered']=![],_0x50d078[_0x564f97(0x655)+_0x2f3d4e+_0x564f97(0x3c1)]=null;}),await updateDoc(_0x4af872,{..._0x50d078,'status':_0x4947eb(0x96c),'currentQuestionIndex':_0x2091d1,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x4af872,{'status':'podium'});};const _0x2ccb8e=document[_0x4033ff(0xa9a)](_0x4033ff(0x885));_0x2ccb8e&&(_0x2ccb8e[_0x4033ff(0x710)]=()=>{const _0x12f1bd=_0x4033ff;showConfirmation(_0x12f1bd(0x99b),async()=>{const _0x21306f=_0x12f1bd,_0x5f1643=doc(db,_0x21306f(0x827)+appId+_0x21306f(0x604),currentLiveGameId);await updateDoc(_0x5f1643,{'status':'podium'});});});}}async function handleGenerateParallelFromBank(_0x1df2a9){const _0x48cd59=_0x27ad1b,_0x87806a=document['getElementById'](_0x48cd59(0x61e)),_0x12e737=document[_0x48cd59(0xa9a)](_0x48cd59(0x7a1));_0x12e737['classList'][_0x48cd59(0x2bd)](_0x48cd59(0x864));const _0x337928=_0x48cd59(0x4c4)+_0x1df2a9[_0x48cd59(0x21a)]+_0x48cd59(0x134);_0x87806a[_0x48cd59(0xaaf)](_0x48cd59(0x117),_0x337928);const _0x6b2b9c=document['getElementById'](_0x48cd59(0x1a8));try{const _0x16964b=_0x1df2a9['questions'][_0x48cd59(0x821)]((_0x140547,_0x3bf482)=>{const _0xe1ea1f=_0x48cd59;let _0x793f6f=_0x3bf482+0x1+'.\x20'+(_0x140547[_0xe1ea1f(0xac2)]||_0x140547[_0xe1ea1f(0x856)])+'\x0a';if(_0x140547[_0xe1ea1f(0x559)])_0x793f6f+=_0x140547[_0xe1ea1f(0x559)][_0xe1ea1f(0x821)]((_0x15b56b,_0x19f0b1)=>_0xe1ea1f(0xb7a)+(_0x19f0b1===_0x140547['correctAnswerIndex']?'[*]':'')+'\x20'+_0x15b56b)['join']('\x0a');else _0x140547['idealAnswer']&&(_0x793f6f+=_0xe1ea1f(0x6ed)+_0x140547[_0xe1ea1f(0x4af)]);return _0x793f6f;})['join']('\x0a\x0a');_0x6b2b9c[_0x48cd59(0xa0d)]=_0x48cd59(0x522);const _0x44f50f=_0x48cd59(0x211)+_0x1df2a9[_0x48cd59(0x21a)]+_0x48cd59(0x9f5)+_0x16964b+_0x48cd59(0x9a3)+simpleMathPrompt+_0x48cd59(0x108),_0x5e85e5={'type':_0x48cd59(0xb47),'properties':{'questionText':{'type':_0x48cd59(0xb86)},'questionType':{'type':'STRING','enum':['multiple_choice',_0x48cd59(0xa97),_0x48cd59(0x9c7),_0x48cd59(0x62a)]},'options':{'type':_0x48cd59(0x863),'items':{'type':_0x48cd59(0xb86)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x48cd59(0xb86)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x48cd59(0xb86)},'correctResponse':{'type':_0x48cd59(0xb86)},'allResponses':{'type':_0x48cd59(0x863),'items':{'type':_0x48cd59(0xb86)}},'explanation':{'type':_0x48cd59(0xb86)},'imageCode':{'type':'STRING'}},'required':[_0x48cd59(0x5fe),_0x48cd59(0x735)]},_0x3d16b4={'type':_0x48cd59(0xb47),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x48cd59(0x863),'items':_0x5e85e5}},'required':[_0x48cd59(0x21a),_0x48cd59(0x4aa)]},_0xc4b597=await callAnalysisApi(_0x44f50f,_0x3d16b4),_0x1c727b=_0xc4b597[_0x48cd59(0x4aa)]['map']((_0x2093b6,_0xd01484)=>({..._0x2093b6,'id':'q_'+Date[_0x48cd59(0x680)]()+'_'+_0xd01484})),_0x5edc1b=_0x48cd59(0x5c0)+_0x1df2a9[_0x48cd59(0x21a)],_0x437d25={'topic':_0x5edc1b,'questions':_0x1c727b,'quizType':_0x1df2a9[_0x48cd59(0x447)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':'active','settings':_0x1df2a9['settings'],'quizMode':_0x48cd59(0x4c9),'pairedQuizId':null,'lessonPlan':null};let _0x146aa1;while(!![]){_0x146aa1=Math[_0x48cd59(0xaac)](0x3e8+Math[_0x48cd59(0x59a)]()*0x2328)['toString']();const _0x90d88e=await getDoc(doc(db,'artifacts/'+appId+_0x48cd59(0xb2f),_0x146aa1));if(!_0x90d88e['exists']())break;}await setDoc(doc(db,'artifacts/'+appId+_0x48cd59(0xb2f),_0x146aa1),_0x437d25),showMessage(_0x48cd59(0x692));}catch(_0x42d111){console[_0x48cd59(0x4a0)](_0x48cd59(0xb82),_0x42d111),showMessage(_0x48cd59(0x444)+_0x42d111[_0x48cd59(0x5a6)]);}finally{const _0x3789be=document[_0x48cd59(0xa9a)](_0x48cd59(0x5cd));_0x3789be&&_0x3789be[_0x48cd59(0x525)](),_0x12e737[_0x48cd59(0x25c)]['remove'](_0x48cd59(0x864));}}async function handleGenerateParallelPostTest(_0x1b6189){const _0x30e755=_0x27ad1b,_0x1dee12=document[_0x30e755(0xa9a)](_0x30e755(0x61e)),_0x193800=document['getElementById'](_0x30e755(0x7a1));_0x193800[_0x30e755(0x25c)][_0x30e755(0x2bd)](_0x30e755(0x864));const _0x168001=_0x30e755(0x68b);_0x1dee12[_0x30e755(0xaaf)](_0x30e755(0x117),_0x168001);try{const _0x51a45b=_0x1b6189[_0x30e755(0x4aa)][_0x30e755(0x821)]((_0x10fc0d,_0x275e68)=>{const _0x55b0f0=_0x30e755;let _0xf9c0c0=_0x275e68+0x1+'.\x20'+(_0x10fc0d[_0x55b0f0(0xac2)]||_0x10fc0d[_0x55b0f0(0x856)]);if(_0x10fc0d[_0x55b0f0(0x559)])_0xf9c0c0+='\x0a\x20\x20\x20-\x20ตัวเลือก:\x20'+_0x10fc0d[_0x55b0f0(0x559)][_0x55b0f0(0x4ad)](',\x20');return _0xf9c0c0;})[_0x30e755(0x4ad)]('\x0a\x0a'),_0x5abb20=_0x30e755(0x81e)+_0x1b6189[_0x30e755(0x21a)]+_0x30e755(0xa9d)+_0x51a45b+_0x30e755(0x271)+simpleMathPrompt+_0x30e755(0x108),_0x130c9a={'type':_0x30e755(0xb47),'properties':{'topic':{'type':_0x30e755(0xb86)},'questions':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'questionText':{'type':_0x30e755(0xb86)},'questionType':{'type':'STRING'},'options':{'type':_0x30e755(0x863),'items':{'type':_0x30e755(0xb86)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x30e755(0xb86)},'explanation':{'type':_0x30e755(0xb86)}},'required':['questionText',_0x30e755(0x735)]}}},'required':[_0x30e755(0x21a),_0x30e755(0x4aa)]},_0x588de1=await callAnalysisApi(_0x5abb20,_0x130c9a),_0x1d7955=_0x1b6189['topic']['replace'](_0x30e755(0x542),'')[_0x30e755(0x2b0)](),_0x5d6418='(หลังเรียน)\x20'+_0x1d7955,_0x3c2bc2={..._0x588de1,'topic':_0x5d6418,'quizType':_0x1b6189[_0x30e755(0x447)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x30e755(0x61f)](),'status':_0x30e755(0x3cc),'settings':_0x1b6189[_0x30e755(0x335)],'quizMode':_0x30e755(0x516),'pairedQuizId':_0x1b6189['id']};let _0x36e908;while(!![]){_0x36e908=Math[_0x30e755(0xaac)](0x3e8+Math[_0x30e755(0x59a)]()*0x2328)[_0x30e755(0x7cb)]();const _0x2aa522=await getDoc(doc(db,'artifacts/'+appId+_0x30e755(0xb2f),_0x36e908));if(!_0x2aa522[_0x30e755(0x539)]())break;}await setDoc(doc(db,_0x30e755(0x827)+appId+_0x30e755(0xb2f),_0x36e908),_0x3c2bc2);const _0x529b15=doc(db,_0x30e755(0x827)+appId+_0x30e755(0xb2f),_0x1b6189['id']);await updateDoc(_0x529b15,{'pairedQuizId':_0x36e908}),showMessage('สร้างและจับคู่\x20Post-test\x20สำเร็จ!');}catch(_0x4ad5de){console[_0x30e755(0x4a0)](_0x30e755(0x667),_0x4ad5de),showMessage(_0x30e755(0x444)+_0x4ad5de[_0x30e755(0x5a6)]);}finally{const _0xa14d7e=document[_0x30e755(0xa9a)]('temp-loader-results');if(_0xa14d7e)_0xa14d7e['remove']();_0x193800[_0x30e755(0x25c)][_0x30e755(0x525)]('hidden');}}async function handleGenerateParallelTest(){const _0xba229f=_0x27ad1b,_0xf5c960=document[_0xba229f(0xa9a)]('parallel-test-upload-input'),_0x2d7868=_0xf5c960[_0xba229f(0x10b)][0x0];if(!_0x2d7868){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน');return;}const _0x4ab66f=document[_0xba229f(0xa9a)]('loader'),_0x53e1c7=document[_0xba229f(0xa9a)](_0xba229f(0x140)),_0x45e94a=document[_0xba229f(0xa9a)]('generated-quiz-container'),_0x276465=document[_0xba229f(0xa9a)](_0xba229f(0x8f6));_0x276465['disabled']=!![],document['getElementById']('quiz-generation-area')['classList'][_0xba229f(0x525)](_0xba229f(0x864)),_0x45e94a['innerHTML']='',_0x4ab66f['classList'][_0xba229f(0x525)](_0xba229f(0x864)),_0x53e1c7['textContent']='กำลังอ่านและเตรียมไฟล์ต้นฉบับ...';const _0xc553db=new FileReader();_0xc553db[_0xba229f(0x145)](_0x2d7868),_0xc553db[_0xba229f(0x89a)]=async()=>{const _0x18d714=_0xba229f;try{const _0x5e7e0f=_0xc553db['result'][_0x18d714(0x78f)](',')[0x1],_0xd55218=_0x2d7868[_0x18d714(0x37c)];_0x53e1c7[_0x18d714(0xa0d)]=_0x18d714(0x96a);const _0x1f84d4=document[_0x18d714(0xa9a)]('include-images-checkbox')[_0x18d714(0x23a)],_0x3cd2e2=_0x1f84d4?_0x18d714(0x4a7):'',_0x28ba72='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3cd2e2+_0x18d714(0x7e9)+simpleMathPrompt+_0x18d714(0x17a),_0x3d5431={'type':_0x18d714(0xb47),'properties':{'questionText':{'type':_0x18d714(0xb86)},'questionType':{'type':_0x18d714(0xb86),'enum':[_0x18d714(0xb9a),_0x18d714(0xa97)]},'options':{'type':'ARRAY','items':{'type':_0x18d714(0xb86)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x18d714(0xb86)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x18d714(0xb86)}},'required':[_0x18d714(0xac2),_0x18d714(0x5fe),_0x18d714(0x735)]},_0x1f819c={'type':_0x18d714(0xb47),'properties':{'topic':{'type':_0x18d714(0xb86)},'questions':{'type':_0x18d714(0x863),'items':_0x3d5431}},'required':[_0x18d714(0x21a),_0x18d714(0x4aa)]},_0x38aa2c=[{'text':_0x28ba72},{'inlineData':{'mimeType':_0xd55218,'data':_0x5e7e0f}}];await handleApiCall(_0x38aa2c,_0x18d714(0x727),_0x1f819c);}catch(_0x25858d){console['error'](_0x18d714(0x164),_0x25858d),showMessage(_0x18d714(0x444)+_0x25858d[_0x18d714(0x5a6)]),_0x45e94a[_0x18d714(0x415)]=_0x18d714(0xb2c);}finally{_0x4ab66f[_0x18d714(0x25c)][_0x18d714(0x2bd)](_0x18d714(0x864)),_0x276465[_0x18d714(0xb12)]=![];}},_0xc553db[_0xba229f(0x1f8)]=_0x35767f=>{const _0x38e291=_0xba229f;console[_0x38e291(0x4a0)](_0x38e291(0xba2),_0x35767f),showMessage(_0x38e291(0x13a)),_0x4ab66f['classList']['add'](_0x38e291(0x864)),_0x276465[_0x38e291(0xb12)]=![];};}async function handleRegenerateQuestionInEditor(_0x8ffe8b){const _0x32bbf9=_0x27ad1b;if(currentEditingQuizData===null)return;const _0x2eacd8=document[_0x32bbf9(0x46b)]('.question-editor-item[data-q-index=\x22'+_0x8ffe8b+'\x22]');_0x2eacd8&&(_0x2eacd8[_0x32bbf9(0x415)]='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0xc845d7=currentEditingQuizData['questions'][_0x8ffe8b],_0x5ca7da=currentEditingQuizData['topic'],_0x618c2b=_0xc845d7[_0x32bbf9(0x5fe)],_0x37e582={'type':_0x32bbf9(0xb47),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x32bbf9(0x863),'items':{'type':_0x32bbf9(0xb86)}},'correctAnswerIndex':{'type':_0x32bbf9(0x337)},'explanation':{'type':_0x32bbf9(0xb86)}},'required':['questionText',_0x32bbf9(0x559),_0x32bbf9(0xa18),_0x32bbf9(0x735)]},_0x40767d={'type':_0x32bbf9(0xb47),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x32bbf9(0xb86)},'explanation':{'type':_0x32bbf9(0xb86)}},'required':[_0x32bbf9(0xac2),'idealAnswer',_0x32bbf9(0x735)]};let _0x3187aa,_0x3689ae='';_0x618c2b===_0x32bbf9(0xb9a)?(_0x3187aa=_0x37e582,_0x3689ae=_0x32bbf9(0x767)):(_0x3187aa=_0x40767d,_0x3689ae=_0x32bbf9(0x4e5));const _0x3932c9=_0x32bbf9(0x500)+_0x5ca7da+_0x32bbf9(0x50d)+_0x3689ae+_0x32bbf9(0x725)+(_0xc845d7[_0x32bbf9(0xac2)]||_0xc845d7[_0x32bbf9(0x856)])+_0x32bbf9(0x359)+simpleMathPrompt;try{const _0x1e0145=await callAnalysisApi(_0x3932c9,_0x3187aa);currentEditingQuizData[_0x32bbf9(0x4aa)][_0x8ffe8b]={..._0xc845d7,..._0x1e0145},renderQuizEditor(currentEditingQuizData);}catch(_0x302c6d){console[_0x32bbf9(0x4a0)](_0x32bbf9(0x5d7),_0x302c6d),showMessage(_0x32bbf9(0x925)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x98890=_0x27ad1b,_0x172567=document[_0x98890(0xa9a)](_0x98890(0x2cc));currentMode===_0x98890(0x21f)?(currentMode='admin',_0x172567['innerHTML']='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x172567[_0x98890(0x983)]=_0x98890(0x606),showView(_0x98890(0x51f))):(currentMode=_0x98890(0x21f),_0x172567[_0x98890(0x415)]='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x172567[_0x98890(0x983)]=_0x98890(0x79c),showView(_0x98890(0x21f)));}function handleAdminLogin(){const _0x2892bb=_0x27ad1b,_0x18cff9=document[_0x2892bb(0xa9a)](_0x2892bb(0x913)),_0x1c34de=document[_0x2892bb(0xa9a)](_0x2892bb(0x553));if(_0x18cff9[_0x2892bb(0x589)]===_0x2892bb(0x132)){adminPasswordModal[_0x2892bb(0x25c)][_0x2892bb(0x2bd)]('hidden'),_0x18cff9['value']='',_0x1c34de[_0x2892bb(0x25c)]['add']('hidden'),currentMode=_0x2892bb(0x638);const _0x372540=document[_0x2892bb(0xa9a)](_0x2892bb(0x2cc));_0x372540['innerHTML']='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x372540[_0x2892bb(0x983)]='สลับไปโหมดนักเรียน',showView(_0x2892bb(0x51f));}else _0x1c34de[_0x2892bb(0x25c)]['remove'](_0x2892bb(0x864)),_0x18cff9['value']='';}function switchProjectTab(_0x56480b){const _0x5adc63=_0x27ad1b;[_0x5adc63(0x4cf),'results','leaderboard'][_0x5adc63(0x50c)](_0x2bea99=>{const _0x38ec05=_0x5adc63;document[_0x38ec05(0xa9a)](_0x2bea99+'-tab')[_0x38ec05(0x25c)][_0x38ec05(0x525)](_0x38ec05(0x3cc)),document[_0x38ec05(0xa9a)](_0x2bea99+_0x38ec05(0x80d))['classList'][_0x38ec05(0x2bd)](_0x38ec05(0x864));}),document[_0x5adc63(0xa9a)](_0x56480b+_0x5adc63(0x8c0))[_0x5adc63(0x25c)]['add'](_0x5adc63(0x3cc)),document['getElementById'](_0x56480b+_0x5adc63(0x80d))[_0x5adc63(0x25c)]['remove'](_0x5adc63(0x864));}function switchQuizDetailTab(_0x54ad8f){const _0x5679c4=_0x27ad1b,_0x4f6b2f={'analytics':{'btn':'analytics-tab-btn','content':'analytics-tab-content'},'scores':{'btn':_0x5679c4(0x81c),'content':_0x5679c4(0x73a)},'leaderboard-quiz':{'btn':'leaderboard-quiz-tab-btn','content':_0x5679c4(0x6bd)},'behavior-log':{'btn':'behavior-log-tab-btn','content':_0x5679c4(0x143)}};for(const _0x495fbf in _0x4f6b2f){document[_0x5679c4(0xa9a)](_0x4f6b2f[_0x495fbf][_0x5679c4(0xa78)])['classList']['remove']('active'),document[_0x5679c4(0xa9a)](_0x4f6b2f[_0x495fbf][_0x5679c4(0x5a7)])['classList'][_0x5679c4(0x2bd)](_0x5679c4(0x864));}document[_0x5679c4(0xa9a)](_0x4f6b2f[_0x54ad8f][_0x5679c4(0xa78)])[_0x5679c4(0x25c)][_0x5679c4(0x2bd)]('active'),document[_0x5679c4(0xa9a)](_0x4f6b2f[_0x54ad8f][_0x5679c4(0x5a7)])[_0x5679c4(0x25c)][_0x5679c4(0x525)](_0x5679c4(0x864));}function showMessage(_0x53f373,_0x3b0338=null){const _0xf8f10c=_0x27ad1b;modalMessage['textContent']=_0x53f373,modalConfirmAction=_0x3b0338,messageModal['classList']['remove'](_0xf8f10c(0x864));}function showConfirmation(_0x56accc,_0x4d00fd){const _0x44ac02=_0x27ad1b;document[_0x44ac02(0xa9a)](_0x44ac02(0x668))[_0x44ac02(0xa0d)]=_0x56accc,document[_0x44ac02(0xa9a)]('confirmation-modal')['querySelector']('h3')[_0x44ac02(0xa0d)]=_0x44ac02(0x968),confirmAction=_0x4d00fd,confirmationModal[_0x44ac02(0x25c)][_0x44ac02(0x525)]('hidden');}function listenForProjects(){const _0x1e6be6=_0x27ad1b,_0x403fc5=doc(db,_0x1e6be6(0x63d),_0x1e6be6(0x30d));onSnapshot(_0x403fc5,_0x4aedd5=>{const _0xed76a1=_0x1e6be6;if(_0x4aedd5[_0xed76a1(0x539)]()){const _0x526402=_0x4aedd5[_0xed76a1(0x4b8)]();globalDashboardSettings['projectSort']=_0x526402[_0xed76a1(0x721)]||_0xed76a1(0x486),globalDashboardSettings[_0xed76a1(0x3f6)]=_0x526402[_0xed76a1(0x3f6)]||[],globalDashboardSettings[_0xed76a1(0x90f)]=_0x526402[_0xed76a1(0x90f)]||[];}allProjects[_0xed76a1(0x7dc)]>0x0&&renderProjects();});const _0x3965db=collection(db,_0x1e6be6(0x827)+appId+_0x1e6be6(0x98b));unsubscribeProjectsListener=onSnapshot(_0x3965db,_0x4fc5a8=>{const _0x53c5b8=_0x1e6be6;allProjects=_0x4fc5a8['docs']['map'](_0x1a07de=>({'id':_0x1a07de['id'],..._0x1a07de[_0x53c5b8(0x4b8)]()})),renderProjects();},_0x10843f=>{const _0x582266=_0x1e6be6;console['error'](_0x582266(0x806),_0x10843f),showMessage('เกิดข้อผิดพลาดในการโหลดโปรเจค');});}function showColorPalette(_0x3fa5b8,_0x58a64d){const _0x4bd268=_0x27ad1b;document[_0x4bd268(0x4e0)]('.color-palette-popup')[_0x4bd268(0x50c)](_0x52a18c=>_0x52a18c[_0x4bd268(0x525)]());const _0x251a6e=[_0x4bd268(0x171),_0x4bd268(0x3ba),_0x4bd268(0xb62),'#D1FAE5',_0x4bd268(0x2e4),'#E0E7FF',_0x4bd268(0x7a5),_0x4bd268(0x562),'#E5E7EB'],_0x55d8e6=document[_0x4bd268(0x3bf)](_0x4bd268(0xb19));_0x55d8e6['className']='color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2',_0x251a6e[_0x4bd268(0x50c)](_0x3409db=>{const _0xeb6a0c=_0x4bd268,_0x487c92=document[_0xeb6a0c(0x3bf)]('div');_0x487c92[_0xeb6a0c(0x4f1)]=_0xeb6a0c(0xa89),_0x487c92[_0xeb6a0c(0x8f0)][_0xeb6a0c(0x38e)]=_0x3409db,_0x487c92[_0xeb6a0c(0x234)](_0xeb6a0c(0x4be),()=>{handleProjectColorChange(_0x58a64d,_0x3409db),_0x55d8e6['remove']();}),_0x55d8e6[_0xeb6a0c(0x59e)](_0x487c92);}),document[_0x4bd268(0x7fa)][_0x4bd268(0x59e)](_0x55d8e6);const _0xe3c257=_0x3fa5b8[_0x4bd268(0x294)]();_0x55d8e6[_0x4bd268(0x8f0)][_0x4bd268(0x869)]=_0xe3c257[_0x4bd268(0x1d2)]+window[_0x4bd268(0x611)]+'px',_0x55d8e6[_0x4bd268(0x8f0)][_0x4bd268(0x41e)]=_0xe3c257[_0x4bd268(0x41e)]+window[_0x4bd268(0x3e0)]-_0x55d8e6['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x19f179,_0x4a8f92){const _0x2e7d2b=_0x27ad1b,_0x3bc5ca=doc(db,_0x2e7d2b(0x827)+appId+_0x2e7d2b(0x98b),_0x19f179);try{await updateDoc(_0x3bc5ca,{'color':_0x4a8f92});}catch(_0x49d4e3){console[_0x2e7d2b(0x4a0)](_0x2e7d2b(0xba3),_0x49d4e3),showMessage(_0x2e7d2b(0x773));}}async function renderProjects(){const _0x1408f6=_0x27ad1b,_0x1776a3=globalDashboardSettings['projectSort']||_0x1408f6(0x486),_0x1b3675=new Set(globalDashboardSettings[_0x1408f6(0x3f6)]||[]),_0x5f39a2=globalDashboardSettings[_0x1408f6(0xa9f)]||_0x1408f6(0x733),_0x1b381a=document['getElementById'](_0x1408f6(0x7c9)),_0x1a8733=document[_0x1408f6(0xa9a)](_0x1408f6(0xb53));_0x1b381a[_0x1408f6(0x25c)]['toggle']('active',_0x5f39a2===_0x1408f6(0x733)),_0x1a8733['classList'][_0x1408f6(0x4a8)](_0x1408f6(0x3cc),_0x5f39a2===_0x1408f6(0x7e2)),document['getElementById']('project-sort-select')[_0x1408f6(0x589)]=_0x1776a3;const _0x56a5f9=document['getElementById'](_0x1408f6(0x3bb))[_0x1408f6(0x589)][_0x1408f6(0x90c)]();let _0x540bf9=allProjects[_0x1408f6(0x558)](_0x433b16=>_0x433b16[_0x1408f6(0x5a8)][_0x1408f6(0x90c)]()[_0x1408f6(0x203)](_0x56a5f9));const _0x5f332d=_0x540bf9[_0x1408f6(0x558)](_0xea514c=>_0x1b3675[_0x1408f6(0x77c)](_0xea514c['id'])),_0x561b4b=_0x540bf9[_0x1408f6(0x558)](_0x29f063=>!_0x1b3675[_0x1408f6(0x77c)](_0x29f063['id'])),_0x4b45dd=(_0x204215,_0x2c3f96)=>{const _0x138bd0=_0x1408f6;switch(_0x1776a3){case _0x138bd0(0xaea):return _0x204215[_0x138bd0(0x5a8)]['localeCompare'](_0x2c3f96[_0x138bd0(0x5a8)],'th');case _0x138bd0(0x22a):return _0x2c3f96[_0x138bd0(0x5a8)][_0x138bd0(0x423)](_0x204215[_0x138bd0(0x5a8)],'th');case _0x138bd0(0x505):return new Date(_0x204215[_0x138bd0(0x5b1)])-new Date(_0x2c3f96[_0x138bd0(0x5b1)]);default:return new Date(_0x2c3f96[_0x138bd0(0x5b1)])-new Date(_0x204215[_0x138bd0(0x5b1)]);}};_0x5f332d[_0x1408f6(0xae5)](_0x4b45dd),_0x561b4b[_0x1408f6(0xae5)](_0x4b45dd);const _0x5a9902=[..._0x5f332d,..._0x561b4b],_0x1f09c7=globalDashboardSettings[_0x1408f6(0x90f)]||[];_0x1f09c7[_0x1408f6(0x7dc)]>0x0&&_0x5f39a2===_0x1408f6(0x733)&&_0x5a9902[_0x1408f6(0xae5)]((_0x2ba969,_0x1dfb40)=>{const _0x1edd53=_0x1408f6,_0x4050f9=_0x1f09c7[_0x1edd53(0x7a3)](_0x2ba969['id']),_0x3f326d=_0x1f09c7['indexOf'](_0x1dfb40['id']);if(_0x4050f9===-0x1)return 0x1;if(_0x3f326d===-0x1)return-0x1;return _0x4050f9-_0x3f326d;});const _0x3a31fb={};await Promise[_0x1408f6(0xab1)](_0x5a9902[_0x1408f6(0x821)](async _0x2af01f=>{const _0x58eeda=_0x1408f6,_0x1eb3bb=query(collection(db,_0x58eeda(0x827)+appId+_0x58eeda(0xb2f)),where(_0x58eeda(0x35a),'==',_0x2af01f['id'])),_0x10006e=await getDocs(_0x1eb3bb);_0x3a31fb[_0x2af01f['id']]=_0x10006e['size'];}));const _0x41d5fc=document[_0x1408f6(0xa9a)]('project-list');let _0x350e38='';if(_0x5f39a2===_0x1408f6(0x733)){_0x41d5fc[_0x1408f6(0x4f1)]=_0x1408f6(0x6d7);if(starredQuizzes['length']>0x0&&_0x56a5f9===''){const _0x2f69b3=starredQuizzes['map'](_0x593b8a=>{const _0x50a66c=_0x1408f6,_0x7cdbaa=allProjects['find'](_0x22edc7=>_0x22edc7['id']===_0x593b8a[_0x50a66c(0x35a)]);return{..._0x593b8a,'projectName':_0x7cdbaa?_0x7cdbaa['projectName']:_0x50a66c(0x36c)};});_0x350e38+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2f69b3[_0x1408f6(0x821)](_0xb695e3=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22'+_0xb695e3['topic']+'\x22>'+_0xb695e3[_0x1408f6(0x21a)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20'+_0xb695e3[_0x1408f6(0x5a8)]+_0x1408f6(0x755)+_0xb695e3[_0x1408f6(0x5a8)]+_0x1408f6(0x295))[_0x1408f6(0x4ad)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>'+starredQuizzes[_0x1408f6(0x7dc)]+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x5a9902[_0x1408f6(0x50c)](_0x5489ad=>{const _0x2f755c=_0x1408f6,_0x328cef=_0x3a31fb[_0x5489ad['id']]??0x0,_0x2dd094=_0x1b3675['has'](_0x5489ad['id']),_0x2f30c1=_0x5489ad['color']||'#FFFFFF',_0x321d0c=parseInt(_0x2f30c1[_0x2f755c(0xb7f)](0x1,0x3),0x10)*0.299+parseInt(_0x2f30c1[_0x2f755c(0xb7f)](0x3,0x5),0x10)*0.587+parseInt(_0x2f30c1[_0x2f755c(0xb7f)](0x5,0x7),0x10)*0.114<0xba,_0x56d78a=_0x321d0c?'text-white':_0x2f755c(0x189),_0x46c437=_0x321d0c?_0x2f755c(0xa22):_0x2f755c(0x2ca);_0x350e38+=_0x2f755c(0x250)+(_0x2dd094?_0x2f755c(0xb95):_0x2f755c(0x6c3))+'\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20'+_0x2f30c1+_0x2f755c(0x399)+_0x5489ad['id']+_0x2f755c(0x659)+_0x5489ad['id']+_0x2f755c(0x1fe)+(_0x321d0c?_0x2f755c(0x6f4):'text-gray-400\x20hover:text-indigo-600')+_0x2f755c(0x718)+_0x5489ad['id']+_0x2f755c(0x377)+(_0x321d0c?_0x2f755c(0x6f4):'text-gray-400\x20hover:text-indigo-600')+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x2dd094?_0x321d0c?_0x2f755c(0x6ad):_0x2f755c(0xa1d):'')+_0x2f755c(0x2b2)+_0x5489ad['id']+_0x2f755c(0x613)+_0x56d78a+_0x2f755c(0x92d)+_0x5489ad['projectName']+'</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+_0x46c437+_0x2f755c(0x300)+new Date(_0x5489ad[_0x2f755c(0x5b1)])['toLocaleDateString']('th-TH')+_0x2f755c(0x2ab)+(_0x321d0c?_0x2f755c(0x900):_0x2f755c(0x260))+'\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x328cef+_0x2f755c(0x699)+_0x5489ad['id']+_0x2f755c(0x7a7)+_0x5489ad[_0x2f755c(0x5a8)]+_0x2f755c(0x2a8)+(_0x321d0c?'text-red-300\x20hover:text-red-100':_0x2f755c(0x7f6))+_0x2f755c(0x287);});}else _0x41d5fc[_0x1408f6(0x4f1)]=_0x1408f6(0xb4f),starredQuizzes['length']>0x0&&_0x56a5f9===''&&(_0x350e38+=_0x1408f6(0x8d2)+starredQuizzes[_0x1408f6(0x7dc)]+_0x1408f6(0x98c)),_0x350e38+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x5a9902[_0x1408f6(0x50c)](_0x54881a=>{const _0x491191=_0x1408f6,_0x537d7d=_0x3a31fb[_0x54881a['id']]??0x0,_0x1a0a3e=_0x1b3675[_0x491191(0x77c)](_0x54881a['id']);_0x350e38+=_0x491191(0x759)+(_0x54881a[_0x491191(0x3a4)]||'#E5E7EB')+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x54881a['id']+_0x491191(0xb0d)+_0x54881a[_0x491191(0x5a8)]+_0x491191(0xb55)+_0x537d7d+'\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>'+new Date(_0x54881a[_0x491191(0x5b1)])[_0x491191(0x5fc)](_0x491191(0x64b))+_0x491191(0xb08)+_0x54881a['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x1a0a3e?'text-indigo-600':'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x54881a['id']+'\x22\x20data-name=\x22'+_0x54881a['projectName']+_0x491191(0x42d);});projectList[_0x1408f6(0x415)]=_0x350e38,noProjectsMsg['classList']['toggle'](_0x1408f6(0x864),_0x350e38[_0x1408f6(0x7dc)]>0x0);}document['getElementById'](_0x27ad1b(0x7f7))[_0x27ad1b(0x234)]('click',async()=>{const _0x1beada=_0x27ad1b,_0x2ab342=document['getElementById'](_0x1beada(0xaa0)),_0x1c70a5=_0x2ab342['value']['trim']();if(!_0x1c70a5){showMessage('กรุณาใส่ชื่อโปรเจค');return;}try{const _0x72bddb=doc(collection(db,_0x1beada(0x827)+appId+'/public/data/projects'));await setDoc(_0x72bddb,{'projectName':_0x1c70a5,'students':[],'settings':{'resultsDisplay':_0x1beada(0xa2d),'shuffleSetting':_0x1beada(0x49f),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':'none','timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x1beada(0x61f)]()}),_0x2ab342[_0x1beada(0x589)]='',createProjectModal[_0x1beada(0x25c)][_0x1beada(0x2bd)](_0x1beada(0x864)),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0x26b98e){console['error'](_0x1beada(0x598),_0x26b98e),showMessage(_0x1beada(0x569));}}),projectList[_0x27ad1b(0x234)](_0x27ad1b(0x4be),async _0x12ae36=>{const _0x4c3ad4=_0x27ad1b,_0xbb0331=_0x12ae36['target'][_0x4c3ad4(0x997)](_0x4c3ad4(0x722)),_0x29d105=_0x12ae36[_0x4c3ad4(0xa7d)][_0x4c3ad4(0x997)](_0x4c3ad4(0x5e8)),_0x423d24=_0x12ae36[_0x4c3ad4(0xa7d)][_0x4c3ad4(0x997)]('.pin-project-btn'),_0x40150b=_0x12ae36[_0x4c3ad4(0xa7d)][_0x4c3ad4(0x997)](_0x4c3ad4(0x7a2));if(_0x423d24){const _0x2e9f1e=_0x423d24[_0x4c3ad4(0x9f6)]['id'],_0x39fee7=doc(db,_0x4c3ad4(0x63d),_0x4c3ad4(0x30d)),_0x9de884=globalDashboardSettings[_0x4c3ad4(0x3f6)];let _0x3164ee;_0x9de884[_0x4c3ad4(0x203)](_0x2e9f1e)?_0x3164ee=_0x9de884[_0x4c3ad4(0x558)](_0x161536=>_0x161536!==_0x2e9f1e):_0x3164ee=[..._0x9de884,_0x2e9f1e];try{await setDoc(_0x39fee7,{'pinnedProjects':_0x3164ee},{'merge':!![]});}catch(_0x1e2a29){console[_0x4c3ad4(0x4a0)](_0x4c3ad4(0xaee),_0x1e2a29),showMessage(_0x4c3ad4(0x2fb));}}else{if(_0x40150b){const _0x268705=_0x40150b[_0x4c3ad4(0x9f6)]['id'];showColorPalette(_0x40150b,_0x268705);}else{if(_0xbb0331){const _0x18ec1a=_0xbb0331['dataset']['id'];_0x18ec1a===_0x4c3ad4(0xabf)?showStarredProjectView():(currentProjectId=_0x18ec1a,await loadProjectDetails(currentProjectId),showView('project-detail'));}else{if(_0x29d105){const _0x30be2c=_0x29d105[_0x4c3ad4(0x9f6)]['id'],_0x5d751c=_0x29d105['dataset'][_0x4c3ad4(0x352)];showConfirmation(_0x4c3ad4(0x3ad)+_0x5d751c+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x30be2c));}}}}}),projectList[_0x27ad1b(0x234)](_0x27ad1b(0x21d),_0x3876b2=>{const _0x53dcfa=_0x27ad1b,_0x15e854=_0x3876b2['target'][_0x53dcfa(0x997)](_0x53dcfa(0x449));_0x15e854&&_0x15e854[_0x53dcfa(0x25c)]['add'](_0x53dcfa(0x176));}),projectList[_0x27ad1b(0x234)](_0x27ad1b(0x1bc),_0x546dcc=>{const _0x1ad96a=_0x27ad1b,_0x44e40e=_0x546dcc['target'][_0x1ad96a(0x997)](_0x1ad96a(0x449));_0x44e40e&&_0x44e40e[_0x1ad96a(0x25c)][_0x1ad96a(0x525)](_0x1ad96a(0x176));}),projectList['addEventListener']('dragover',_0x1b6ce5=>{const _0x1080ee=_0x27ad1b;_0x1b6ce5[_0x1080ee(0x14f)]();const _0x40a9e3=document[_0x1080ee(0x46b)]('.project-card-container.opacity-50');if(!_0x40a9e3)return;const _0x34a393=getDragAfterElement(projectList,_0x1b6ce5[_0x1080ee(0xaf0)]);_0x34a393==null?projectList[_0x1080ee(0x59e)](_0x40a9e3):projectList['insertBefore'](_0x40a9e3,_0x34a393);}),projectList[_0x27ad1b(0x234)](_0x27ad1b(0xb0b),_0x2dc201=>{const _0x5d20b4=_0x27ad1b;_0x2dc201[_0x5d20b4(0x14f)]();const _0x46ce57=[...projectList[_0x5d20b4(0x4e0)]('.project-card-container[data-id]')]['map'](_0x1c4aac=>_0x1c4aac[_0x5d20b4(0x9f6)]['id']);saveProjectOrder(_0x46ce57);});function renderBehaviorLog(_0x43e955){const _0x1ea41c=_0x27ad1b,_0x38cc90=document[_0x1ea41c(0xa9a)]('behavior-log-container');if(!_0x38cc90)return;const _0x15a554=_0x43e955[_0x1ea41c(0x558)](_0x349e0e=>_0x349e0e[_0x1ea41c(0x265)]&&_0x349e0e['behaviorLog'][_0x1ea41c(0x7dc)]>0x0);if(_0x15a554[_0x1ea41c(0x7dc)]===0x0){_0x38cc90[_0x1ea41c(0x415)]='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>';return;}let _0x339bd9='';_0x15a554[_0x1ea41c(0x50c)](_0x314e91=>{const _0x4793c4=_0x1ea41c;_0x339bd9+=_0x4793c4(0x945)+_0x314e91['studentName']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x314e91['behaviorLog'][_0x4793c4(0xae5)]((_0x2357f9,_0x4208d4)=>new Date(_0x4208d4[_0x4793c4(0x15c)])-new Date(_0x2357f9[_0x4793c4(0x15c)]))[_0x4793c4(0x50c)](_0x166c55=>{const _0x3ebb2b=_0x4793c4,_0x3a5309=new Date(_0x166c55[_0x3ebb2b(0x15c)])[_0x3ebb2b(0x5fc)](_0x3ebb2b(0x64b),{'dateStyle':_0x3ebb2b(0x278),'timeStyle':'medium'});_0x339bd9+=_0x3ebb2b(0xaec)+_0x166c55['attemptNumber']+_0x3ebb2b(0x543)+_0x3a5309+_0x3ebb2b(0x552);}),_0x339bd9+=_0x4793c4(0x75d);}),_0x38cc90['innerHTML']=_0x339bd9;}function getDragAfterElement(_0x216849,_0x4a0624){const _0x5d384d=_0x27ad1b,_0x26e309=[..._0x216849['querySelectorAll']('.project-card-container:not(.opacity-50)')];return _0x26e309['reduce']((_0xa63d0b,_0x5b3439)=>{const _0x2f041d=_0x5f3a,_0x56c9c8=_0x5b3439[_0x2f041d(0x294)](),_0x4e2085=_0x4a0624-_0x56c9c8[_0x2f041d(0x869)]-_0x56c9c8['height']/0x2;return _0x4e2085<0x0&&_0x4e2085>_0xa63d0b[_0x2f041d(0x504)]?{'offset':_0x4e2085,'element':_0x5b3439}:_0xa63d0b;},{'offset':Number[_0x5d384d(0x707)]})[_0x5d384d(0x4eb)];}async function saveProjectOrder(_0x58a2f1){const _0x289a2c=_0x27ad1b,_0x3b65f0=doc(db,_0x289a2c(0x63d),_0x289a2c(0x30d));try{await setDoc(_0x3b65f0,{'projectOrder':_0x58a2f1},{'merge':!![]});}catch(_0x1b089d){console[_0x289a2c(0x4a0)](_0x289a2c(0x86b),_0x1b089d),showMessage(_0x289a2c(0x263));}}async function logBehaviorEvent(_0x120441,_0x616952={}){const _0x3132da=_0x27ad1b;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x3132da(0x276)](_0x3132da(0xad6));return;}const _0x111d69=doc(db,_0x3132da(0x827)+appId+_0x3132da(0x2c4)+currentQuizData['id']+_0x3132da(0x4d3),currentStudentName),_0x5b8c82={'event':_0x120441,'timestamp':new Date()[_0x3132da(0x61f)](),..._0x616952};try{await updateDoc(_0x111d69,{'behaviorLog':arrayUnion(_0x5b8c82)}),console[_0x3132da(0x484)](_0x3132da(0xb21)+currentStudentName+_0x3132da(0x42e));}catch(_0x37317f){_0x37317f[_0x3132da(0x4c8)]===_0x3132da(0x20f)?console[_0x3132da(0x276)](_0x3132da(0xa5a)+currentStudentName+_0x3132da(0x28c)):console['error'](_0x3132da(0x987),_0x37317f);}}function calculateMeanAndStdDev(_0x556d53){const _0x4ebc32=_0x27ad1b;if(_0x556d53[_0x4ebc32(0x7dc)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x13f37f=_0x556d53[_0x4ebc32(0x70d)]((_0x2fc532,_0x181a10)=>_0x2fc532+_0x181a10,0x0)/_0x556d53[_0x4ebc32(0x7dc)];if(_0x556d53[_0x4ebc32(0x7dc)]===0x1)return{'mean':_0x13f37f,'stdDev':0x0};const _0xaa10e=Math[_0x4ebc32(0x6ce)](_0x556d53[_0x4ebc32(0x821)](_0x51daf4=>Math[_0x4ebc32(0x4f7)](_0x51daf4-_0x13f37f,0x2))['reduce']((_0x20c05f,_0x4f778e)=>_0x20c05f+_0x4f778e,0x0)/(_0x556d53[_0x4ebc32(0x7dc)]-0x1));return{'mean':_0x13f37f,'stdDev':_0xaa10e};}function calculateZScore(_0x358d5d,_0x4a7daf,_0x5b0b63){if(_0x5b0b63===0x0)return 0x0;return(_0x358d5d-_0x4a7daf)/_0x5b0b63;}function calculateTScore(_0x1ef8e8){return 0xa*_0x1ef8e8+0x32;}function showStarredProjectView(){const _0x4fc046=_0x27ad1b;currentProjectId=_0x4fc046(0x2f3),currentProjectData=null,projectTitle[_0x4fc046(0xa0d)]=_0x4fc046(0x53c),projectIdDisplay[_0x4fc046(0xa0d)]=_0x4fc046(0x9bf),showView('project-detail'),manageTab['classList']['add']('hidden'),leaderboardTab[_0x4fc046(0x25c)][_0x4fc046(0x2bd)](_0x4fc046(0x864)),switchProjectTab(_0x4fc046(0x884)),renderQuizzes();}async function loadProjectDetails(_0x2304e1){const _0x45f008=_0x27ad1b,_0x151f53=doc(db,_0x45f008(0x827)+appId+'/public/data/projects',_0x2304e1),_0x572a26=await getDoc(_0x151f53);if(_0x572a26[_0x45f008(0x539)]()){manageTab['classList'][_0x45f008(0x525)](_0x45f008(0x864)),leaderboardTab[_0x45f008(0x25c)]['remove'](_0x45f008(0x864)),currentProjectData=_0x572a26[_0x45f008(0x4b8)](),projectTitle[_0x45f008(0xa0d)]=currentProjectData[_0x45f008(0x5a8)],projectIdDisplay['textContent']=_0x2304e1;const _0x70221c=currentProjectData[_0x45f008(0x335)]||{};document[_0x45f008(0xa9a)](_0x45f008(0x919))['value']=_0x70221c[_0x45f008(0x202)]||'none';const _0x1cdee9=document[_0x45f008(0xa9a)]('show-in-student-dashboard-checkbox');_0x1cdee9['checked']=_0x70221c['showInStudentDashboard']!==![];const _0x28168e=document[_0x45f008(0xa9a)](_0x45f008(0x194)),_0x3de0e1=document['getElementById'](_0x45f008(0x842)),_0x1ca64c=document['getElementById'](_0x45f008(0x9f9)),_0x282b82=_0x70221c[_0x45f008(0x283)]||![];_0x28168e['checked']=_0x282b82,_0x1ca64c[_0x45f008(0x589)]=_0x70221c['passcode']||'',_0x3de0e1[_0x45f008(0x25c)][_0x45f008(0x4a8)](_0x45f008(0x864),!_0x282b82),_0x28168e[_0x45f008(0xab4)]=()=>{const _0x1fda17=_0x45f008;_0x3de0e1[_0x1fda17(0x25c)][_0x1fda17(0x4a8)](_0x1fda17(0x864),!_0x28168e['checked']);},document['getElementById'](_0x45f008(0x27a))[_0x45f008(0x23a)]=_0x70221c[_0x45f008(0x781)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x2304e1),listenForProjectQuizzes(_0x2304e1),listenForStudentProfiles(_0x2304e1);}else showMessage(_0x45f008(0x40a)),showView(_0x45f008(0x51f));}async function handleResetProjectOrder(){const _0x41f120=_0x27ad1b,_0x353ef9=doc(db,_0x41f120(0x63d),'dashboardConfig');try{await setDoc(_0x353ef9,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x41f120(0x4e9));}catch(_0x295494){console[_0x41f120(0x4a0)]('Error\x20resetting\x20project\x20order:',_0x295494),showMessage(_0x41f120(0x416));}}async function handleTogglePinProject(_0x659952){const _0x297442=_0x27ad1b;if(!_0x659952)return;const _0x342f2c=doc(db,_0x297442(0x827)+appId+'/public/data/projects',_0x659952);try{const _0x2995aa=await getDoc(_0x342f2c);if(_0x2995aa[_0x297442(0x539)]()){const _0x2765a7=_0x2995aa[_0x297442(0x4b8)]()[_0x297442(0x70f)]||![];await updateDoc(_0x342f2c,{'isPinned':!_0x2765a7});}}catch(_0x31ea42){console[_0x297442(0x4a0)](_0x297442(0x995),_0x31ea42),showMessage(_0x297442(0x2fb));}}async function handleDeleteProject(_0x1e529a){const _0x25b156=_0x27ad1b;try{const _0x403e80=writeBatch(db),_0x3ffc87=collection(db,'artifacts/'+appId+_0x25b156(0xb2f)),_0xcaccc9=query(_0x3ffc87,where(_0x25b156(0x35a),'==',_0x1e529a)),_0x5837b4=await getDocs(_0xcaccc9);for(const _0x93096d of _0x5837b4[_0x25b156(0x8e0)]){const _0x28bea5=collection(db,_0x25b156(0x827)+appId+_0x25b156(0x2c4)+_0x93096d['id']+_0x25b156(0x4d3)),_0x3b743b=await getDocs(_0x28bea5);_0x3b743b['forEach'](_0x545920=>{const _0x22bbf9=_0x25b156;_0x403e80[_0x22bbf9(0x956)](_0x545920[_0x22bbf9(0xaf1)]);}),_0x403e80[_0x25b156(0x956)](_0x93096d['ref']);}const _0x19a88f=collection(db,'artifacts/'+appId+_0x25b156(0x4b2)+_0x1e529a+'/studentProfiles'),_0x2f3c34=await getDocs(_0x19a88f);_0x2f3c34[_0x25b156(0x50c)](_0xaa059a=>{const _0x5b6a92=_0x25b156;_0x403e80[_0x5b6a92(0x956)](_0xaa059a[_0x5b6a92(0xaf1)]);});const _0x516b45=doc(db,_0x25b156(0x827)+appId+_0x25b156(0x98b),_0x1e529a);_0x403e80[_0x25b156(0x956)](_0x516b45),await _0x403e80[_0x25b156(0x675)](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView('admin-dashboard');}catch(_0x14441b){console['error']('Error\x20deleting\x20project:',_0x14441b),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x27ad1b(0xa9a)](_0x27ad1b(0x8f2))[_0x27ad1b(0x234)](_0x27ad1b(0x4be),async()=>{const _0x19835f=_0x27ad1b;if(!currentProjectId)return;const _0x8aa43={'defaultNumQuestions':parseInt(document[_0x19835f(0xa9a)](_0x19835f(0x232))[_0x19835f(0x589)]),'defaultNumChoices':parseInt(document[_0x19835f(0xa9a)](_0x19835f(0x757))[_0x19835f(0x589)]),'defaultPassingScore':parseInt(document['getElementById']('passing-score-input')[_0x19835f(0x589)]),'resultsDisplay':document[_0x19835f(0xa9a)](_0x19835f(0x1d4))['value'],'shuffleSetting':document['getElementById'](_0x19835f(0x919))[_0x19835f(0x589)],'timerMode':document[_0x19835f(0xa9a)]('timer-mode-select')[_0x19835f(0x589)],'timerDuration':parseInt(document[_0x19835f(0xa9a)](_0x19835f(0x926))['value']),'isConfidenceScoringEnabled':document[_0x19835f(0xa9a)](_0x19835f(0x27a))[_0x19835f(0x23a)],'confidenceMode':document[_0x19835f(0xa9a)](_0x19835f(0x19c))[_0x19835f(0x589)]};try{const _0x3165c5=doc(db,'artifacts/'+appId+_0x19835f(0x98b),currentProjectId);await updateDoc(_0x3165c5,{'settings':_0x8aa43}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x44b733){console['error'](_0x19835f(0x814),_0x44b733),showMessage(_0x19835f(0x644));}});function listenForStudents(_0xd45eae){const _0x5b036c=_0x27ad1b,_0x412c2e=doc(db,_0x5b036c(0x827)+appId+'/public/data/projects',_0xd45eae);unsubscribeStudentsListener=onSnapshot(_0x412c2e,_0x105452=>{const _0x438629=_0x5b036c;if(_0x105452['exists']()){const _0x4db790=_0x105452[_0x438629(0x4b8)]();currentProjectData=_0x4db790,renderStudentList(_0x4db790[_0x438629(0x161)]||[]);}});}function renderStudentList(_0x2b5ad1){const _0x13aefd=_0x27ad1b,_0x6f5617=document[_0x13aefd(0xa9a)](_0x13aefd(0xaa7));_0x2b5ad1[_0x13aefd(0x7dc)]===0x0?(studentList['innerHTML']=_0x13aefd(0x658),_0x6f5617['classList'][_0x13aefd(0x2bd)](_0x13aefd(0x864))):(studentList[_0x13aefd(0x415)]=_0x2b5ad1[_0x13aefd(0x821)](_0x1c0b30=>_0x13aefd(0x51d)+_0x1c0b30+_0x13aefd(0x77a)+_0x1c0b30+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''),_0x6f5617[_0x13aefd(0x25c)][_0x13aefd(0x525)](_0x13aefd(0x864)));}document[_0x27ad1b(0xa9a)](_0x27ad1b(0x284))[_0x27ad1b(0x234)](_0x27ad1b(0x4be),async()=>{const _0x2eea12=_0x27ad1b;if(!currentProjectId)return;const _0x4f6349=document[_0x2eea12(0xa9a)](_0x2eea12(0xb4d)),_0x3d48e2=_0x4f6349[_0x2eea12(0x589)][_0x2eea12(0x2b0)]();if(!_0x3d48e2){showMessage(_0x2eea12(0x6c4));return;}const _0xeffa49=_0x3d48e2[_0x2eea12(0x78f)]('\x0a')[_0x2eea12(0x821)](_0x50d50e=>_0x50d50e['trim']())['filter'](_0xb83828=>_0xb83828);if(_0xeffa49['length']===0x0)return;try{const _0x296bd2=doc(db,_0x2eea12(0x827)+appId+_0x2eea12(0x98b),currentProjectId),_0x29acbe=await getDoc(_0x296bd2);if(_0x29acbe[_0x2eea12(0x539)]()){const _0x71280d=_0x29acbe[_0x2eea12(0x4b8)]()['students']||[],_0x15522d=[...new Set([..._0x71280d,..._0xeffa49])];await updateDoc(_0x296bd2,{'students':_0x15522d}),_0x4f6349['value']='';}}catch(_0x1ef434){console['error'](_0x2eea12(0xb05),_0x1ef434),showMessage(_0x2eea12(0x532));}});async function handleManualQuizPairing(_0xa266c){const _0x202ffa=_0x27ad1b,_0x774cd1=document['getElementById'](_0x202ffa(0x5f1)),_0x33fed2=document[_0x202ffa(0xa9a)](_0x202ffa(0x687)),_0x3e9f70=_0x774cd1[_0x202ffa(0x46b)]('h3'),_0x56bd19=document[_0x202ffa(0xa9a)](_0x202ffa(0x43f)),_0x16dba7=document[_0x202ffa(0xa9a)]('cancel-move-quiz-btn');_0x3e9f70[_0x202ffa(0xa0d)]=_0x202ffa(0x930),_0x33fed2[_0x202ffa(0x415)]=_0x202ffa(0xab8),_0x56bd19[_0x202ffa(0xa0d)]='ยืนยันการจับคู่',_0x774cd1[_0x202ffa(0x25c)][_0x202ffa(0x525)](_0x202ffa(0x864));const _0x4a4d91=allQuizzes['filter'](_0x405f02=>_0x405f02['id']!==_0xa266c);_0x4a4d91['length']===0x0?(_0x33fed2[_0x202ffa(0x415)]=_0x202ffa(0x75a),_0x56bd19[_0x202ffa(0xb12)]=!![]):(_0x33fed2[_0x202ffa(0x415)]=_0x202ffa(0x183)+_0x4a4d91['map'](_0x3febc9=>_0x202ffa(0x82c)+_0x3febc9['id']+'\x22>'+_0x3febc9[_0x202ffa(0x21a)]+_0x202ffa(0x125))[_0x202ffa(0x4ad)](''),_0x56bd19[_0x202ffa(0xb12)]=![]);const _0x3bf9f4=async()=>{const _0x594a91=_0x202ffa,_0x218778=_0x33fed2[_0x594a91(0x589)];if(!_0x218778){showMessage(_0x594a91(0x787));return;}_0x56bd19[_0x594a91(0xb12)]=!![],_0x56bd19[_0x594a91(0xa0d)]=_0x594a91(0x450);try{const _0x4cab67=doc(db,_0x594a91(0x827)+appId+'/public/data/quizzes',_0xa266c),_0x2100ef=doc(db,_0x594a91(0x827)+appId+'/public/data/quizzes',_0x218778),_0x2c2698=writeBatch(db);_0x2c2698[_0x594a91(0x8f4)](_0x4cab67,{'pairedQuizId':_0x218778}),_0x2c2698[_0x594a91(0x8f4)](_0x2100ef,{'pairedQuizId':_0xa266c}),await _0x2c2698['commit'](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0x774cd1[_0x594a91(0x25c)][_0x594a91(0x2bd)](_0x594a91(0x864));}catch(_0x3f7cf0){console[_0x594a91(0x4a0)](_0x594a91(0x950),_0x3f7cf0),showMessage(_0x594a91(0x4bb));}finally{_0x3e9f70[_0x594a91(0xa0d)]=_0x594a91(0x307),_0x56bd19[_0x594a91(0xa0d)]=_0x594a91(0x998),_0x56bd19['disabled']=![],_0x56bd19['removeEventListener'](_0x594a91(0x4be),_0x3bf9f4),_0x16dba7[_0x594a91(0x966)](_0x594a91(0x4be),_0x3ddb42);}},_0x3ddb42=()=>{const _0x225d4f=_0x202ffa;_0x774cd1[_0x225d4f(0x25c)][_0x225d4f(0x2bd)]('hidden'),_0x3e9f70[_0x225d4f(0xa0d)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x56bd19[_0x225d4f(0xa0d)]=_0x225d4f(0x998),_0x56bd19[_0x225d4f(0x966)](_0x225d4f(0x4be),_0x3bf9f4),_0x16dba7['removeEventListener']('click',_0x3ddb42);};_0x56bd19[_0x202ffa(0x234)](_0x202ffa(0x4be),_0x3bf9f4),_0x16dba7[_0x202ffa(0x234)]('click',_0x3ddb42);}function handleDeleteStudent(_0x3b1c03){const _0x4c0b35=_0x27ad1b;showConfirmation(_0x4c0b35(0x21b)+_0x3b1c03+_0x4c0b35(0x939),async()=>{const _0x2f079a=_0x4c0b35;if(!currentProjectId||!currentProjectData)return;const _0x1b4f10=currentProjectData[_0x2f079a(0x161)]['filter'](_0x4e340d=>_0x4e340d!==_0x3b1c03);try{const _0x18b806=doc(db,_0x2f079a(0x827)+appId+_0x2f079a(0x98b),currentProjectId),_0x108a9f=doc(db,_0x2f079a(0x827)+appId+_0x2f079a(0x4b2)+currentProjectId+'/studentProfiles',_0x3b1c03),_0x39da1f=writeBatch(db);_0x39da1f[_0x2f079a(0x8f4)](_0x18b806,{'students':_0x1b4f10}),_0x39da1f[_0x2f079a(0x956)](_0x108a9f),await _0x39da1f[_0x2f079a(0x675)]();}catch(_0x143040){console[_0x2f079a(0x4a0)](_0x2f079a(0x8b1),_0x143040),showMessage(_0x2f079a(0x4d7));}});}function handleDeleteAllStudents(){showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x1792f8=_0x5f3a;if(!currentProjectId)return;try{const _0x56103c=doc(db,_0x1792f8(0x827)+appId+_0x1792f8(0x98b),currentProjectId),_0x548f2b=collection(db,_0x1792f8(0x827)+appId+'/public/data/projects/'+currentProjectId+_0x1792f8(0x2df)),_0x5d1e02=await getDocs(_0x548f2b),_0x207988=writeBatch(db);_0x207988['update'](_0x56103c,{'students':[]}),_0x5d1e02[_0x1792f8(0x50c)](_0x3c6f05=>_0x207988['delete'](_0x3c6f05[_0x1792f8(0xaf1)])),await _0x207988[_0x1792f8(0x675)]();}catch(_0x14c68e){console[_0x1792f8(0x4a0)](_0x1792f8(0x408),_0x14c68e),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x25bb68){const _0x8a8a3=_0x27ad1b,_0x217765=document[_0x8a8a3(0xa9a)](_0x8a8a3(0x316)),_0x53ee16=document[_0x8a8a3(0xa9a)](_0x8a8a3(0x3f7));_0x217765[_0x8a8a3(0x25c)][_0x8a8a3(0x525)](_0x8a8a3(0x864)),_0x53ee16['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>';try{const _0x28dbc5=new FileReader();_0x28dbc5[_0x8a8a3(0x145)](_0x25bb68),await new Promise((_0x391694,_0x3803fe)=>{const _0x536893=_0x8a8a3;_0x28dbc5[_0x536893(0x89a)]=()=>{const _0x2d3223=_0x536893;fileDataBase64=_0x28dbc5[_0x2d3223(0x3a3)][_0x2d3223(0x78f)](',')[0x1],fileMimeType=_0x25bb68[_0x2d3223(0x37c)],_0x391694();},_0x28dbc5['onerror']=_0x613ad=>_0x3803fe(_0x613ad);});if(!fileDataBase64)throw new Error(_0x8a8a3(0x3a8));const _0x2b3fea=_0x8a8a3(0x196),_0x498391={'type':_0x8a8a3(0xb47),'properties':{'topics':{'type':_0x8a8a3(0x863),'items':{'type':'STRING'}}},'required':[_0x8a8a3(0x580)]},_0x517fd5=[{'text':_0x2b3fea},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0x46ee03=await handleApiCall(_0x517fd5,_0x8a8a3(0x84f),_0x498391,null,![]);if(_0x46ee03&&_0x46ee03[_0x8a8a3(0x580)])extractedFileTopics=_0x46ee03[_0x8a8a3(0x580)],renderFileTopics();else throw new Error(_0x8a8a3(0x89b));}catch(_0x17159b){console[_0x8a8a3(0x4a0)]('Error\x20analyzing\x20file\x20for\x20topics:',_0x17159b),_0x53ee16[_0x8a8a3(0x415)]=_0x8a8a3(0x3a6)+_0x17159b['message']+'</p>';}}function renderFileTopics(){const _0xcd036f=_0x27ad1b,_0x5ad240=document[_0xcd036f(0xa9a)](_0xcd036f(0x3f7));if(extractedFileTopics[_0xcd036f(0x7dc)]===0x0){_0x5ad240[_0xcd036f(0x415)]=_0xcd036f(0x830);return;}_0x5ad240[_0xcd036f(0x415)]=extractedFileTopics['map'](_0x126fbc=>_0xcd036f(0x929)+_0x126fbc+_0xcd036f(0x949)+escape(_0x126fbc)+_0xcd036f(0xb9c)+escape(_0x126fbc)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20')[_0xcd036f(0x4ad)]('');}async function generateHybridQuizForTopic(_0x55fa78){const _0x53cee6=_0x27ad1b,_0x47e1d5=parseInt(document['getElementById'](_0x53cee6(0x232))[_0x53cee6(0x589)],0xa),_0xe02d3f=document[_0x53cee6(0xa9a)]('quiz-type-select')[_0x53cee6(0x589)],_0x5ca3b5=document[_0x53cee6(0xa9a)]('num-choices')[_0x53cee6(0x589)],_0x4c4bf2=document[_0x53cee6(0xa9a)](_0x53cee6(0xa2e))['checked'],_0x1b2126=_0x4c4bf2?_0x53cee6(0xa86):_0x53cee6(0x4e3);let _0x4127a3='',_0x549674;const _0x6f4ef4={'type':'OBJECT','properties':{'questionText':{'type':_0x53cee6(0xb86)},'options':{'type':_0x53cee6(0x863),'items':{'type':_0x53cee6(0xb86)}},'correctAnswerIndex':{'type':_0x53cee6(0x337)},'explanation':{'type':_0x53cee6(0xb86)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x53cee6(0x559),_0x53cee6(0xa18),_0x53cee6(0x735)]},_0x14c251={'type':'OBJECT','properties':{'questionText':{'type':_0x53cee6(0xb86)},'correctAnswer':{'type':_0x53cee6(0x1f5)},'explanation':{'type':_0x53cee6(0xb86)},'imageCode':{'type':'STRING'}},'required':[_0x53cee6(0xac2),_0x53cee6(0x8cd),'explanation']},_0x5514eb={'type':_0x53cee6(0xb47),'properties':{'questionText':{'type':_0x53cee6(0xb86)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x53cee6(0xb86)}},'required':['questionText',_0x53cee6(0x4af),_0x53cee6(0x735)]},_0x23d31e={'type':'OBJECT','properties':{'questionType':{'type':_0x53cee6(0xb86),'enum':[_0x53cee6(0x62a)]},'stem':{'type':_0x53cee6(0xb86)},'correctResponse':{'type':_0x53cee6(0xb86)},'allResponses':{'type':_0x53cee6(0x863),'items':{'type':_0x53cee6(0xb86)}},'explanation':{'type':_0x53cee6(0xb86)},'imageCode':{'type':_0x53cee6(0xb86)}},'required':[_0x53cee6(0x5fe),_0x53cee6(0x856),_0x53cee6(0xa66),_0x53cee6(0x1fc),_0x53cee6(0x735)]};switch(_0xe02d3f){case _0x53cee6(0xb9a):_0x4127a3=_0x53cee6(0x3a9)+_0x5ca3b5+_0x53cee6(0x514),_0x549674=_0x6f4ef4;break;case _0x53cee6(0x9c7):_0x4127a3=_0x53cee6(0x9c2),_0x549674=_0x14c251;break;case'fill_in_no_choices':_0x4127a3='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)',_0x549674=_0x5514eb;break;case _0x53cee6(0x420):_0x4127a3='คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)',_0x549674=_0x23d31e;break;case _0x53cee6(0x9ff):_0x4127a3='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20'+_0x5ca3b5+_0x53cee6(0x514),_0x549674=_0x6f4ef4;break;default:_0x4127a3='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x5ca3b5+_0x53cee6(0x514),_0x549674=_0x6f4ef4;break;}const _0x308be6=_0x53cee6(0x6c9),_0x270976=document['getElementById']('loader'),_0x5849bf=document[_0x53cee6(0xa9a)](_0x53cee6(0x140)),_0x566223=document['getElementById'](_0x53cee6(0x577));document[_0x53cee6(0xa9a)](_0x53cee6(0x200))[_0x53cee6(0x25c)][_0x53cee6(0x525)](_0x53cee6(0x864)),_0x566223['innerHTML']='',_0x270976[_0x53cee6(0x25c)][_0x53cee6(0x525)](_0x53cee6(0x864)),_0x5849bf[_0x53cee6(0xa0d)]=_0x53cee6(0x656)+_0x55fa78+'\x22\x20จำนวน\x20'+_0x47e1d5+_0x53cee6(0xa3b);try{const _0xb70c1a='\x20**[กฎเพิ่มเติมที่สำคัญที่สุด]:**\x20ต้องเน้นการสร้างโจทย์ปัญหาประยุกต์\x20(Word\x20Problems)\x20ที่ต้องใช้การคิดวิเคราะห์เพื่อแก้ปัญหา\x20และให้มีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET',_0x37a59f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22'+_0x55fa78+_0x53cee6(0x6e6)+_0x47e1d5+'\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22'+_0x55fa78+_0x53cee6(0xac0)+_0x47e1d5+_0x53cee6(0xab7)+_0x1b2126+_0x53cee6(0x2ba)+_0x4127a3+_0x53cee6(0x2e6)+_0x308be6+_0x53cee6(0x67c)+_0xb70c1a+_0x53cee6(0x17a)+simpleMathPrompt+_0x53cee6(0x108),_0x353c95={'type':_0x53cee6(0xb47),'properties':{'topic':{'type':_0x53cee6(0xb86)},'questions':{'type':_0x53cee6(0x863),'items':_0x549674}},'required':[_0x53cee6(0x21a),_0x53cee6(0x4aa)]},_0x21480e=[{'text':_0x37a59f},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x21480e,_0x53cee6(0x90b)+_0x55fa78+_0x53cee6(0x12a),_0x353c95);}catch(_0x4a4325){console[_0x53cee6(0x4a0)](_0x53cee6(0x590),_0x4a4325),showMessage('เกิดข้อผิดพลาด:\x20'+_0x4a4325[_0x53cee6(0x5a6)]),_0x566223['innerHTML']=_0x53cee6(0xa2b);}finally{_0x270976[_0x53cee6(0x25c)]['add']('hidden');}}async function handleGenerateFromFileClick(){const _0x361974=_0x27ad1b;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0xc2ded8=document[_0x361974(0xa9a)](_0x361974(0x82a)),_0x291cae=document[_0x361974(0xa9a)]('loader-text'),_0x3ac2f0=document['getElementById'](_0x361974(0x577)),_0xd226d0=document[_0x361974(0xa9a)]('generate-from-file-btn');_0xd226d0['disabled']=!![],document[_0x361974(0xa9a)](_0x361974(0x200))[_0x361974(0x25c)][_0x361974(0x525)](_0x361974(0x864)),_0x3ac2f0[_0x361974(0x415)]='',_0xc2ded8[_0x361974(0x25c)][_0x361974(0x525)](_0x361974(0x864)),_0x291cae[_0x361974(0xa0d)]=_0x361974(0x2ee);const _0x285934=new FileReader();_0x285934[_0x361974(0x145)](selectedFile),_0x285934[_0x361974(0x89a)]=async()=>{const _0x402341=_0x361974;try{const _0x493630=_0x285934[_0x402341(0x3a3)][_0x402341(0x78f)](',')[0x1],_0x2ffeda=selectedFile['type'];await generateQuizFromFile(_0x2ffeda,_0x493630);}catch(_0x5bc41d){console[_0x402341(0x4a0)](_0x402341(0xb54),_0x5bc41d),showMessage(_0x402341(0x58d)+_0x5bc41d[_0x402341(0x5a6)]),_0xc2ded8[_0x402341(0x25c)][_0x402341(0x2bd)](_0x402341(0x864));}finally{}},_0x285934[_0x361974(0x1f8)]=_0x1e5743=>{const _0x12bbe7=_0x361974;console[_0x12bbe7(0x4a0)](_0x12bbe7(0xba2),_0x1e5743),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์'),_0xc2ded8[_0x12bbe7(0x25c)][_0x12bbe7(0x2bd)](_0x12bbe7(0x864)),_0xd226d0[_0x12bbe7(0xb12)]=![];};}function autoFormatMath(_0x204b12){const _0x5a0170=_0x27ad1b;if(typeof _0x204b12!==_0x5a0170(0x6ac)||!_0x204b12)return _0x204b12;const _0x486351=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0xb83941=_0x204b12[_0x5a0170(0x9da)](_0x486351,_0x5528a4=>{const _0x102621=_0x5a0170;return'$'+_0x5528a4[_0x102621(0x2b0)]()+'$';});return _0xb83941;}function sanitizeQuizData(_0x3af158){const _0x2dd7f9=_0x27ad1b;if(!_0x3af158||!_0x3af158['questions'])return _0x3af158;const _0x21e6bc={'imes':'\x5ctimes','div':'\x5cdiv'},_0x247200=_0x5ce89b=>{const _0x5d06e6=_0x5f3a;if(typeof _0x5ce89b!==_0x5d06e6(0x6ac))return _0x5ce89b;let _0x1ff612=_0x5ce89b;for(const [_0x284289,_0x45f2de]of Object['entries'](_0x21e6bc)){const _0x419791=new RegExp('\x5cb'+_0x284289+'\x5cb','g');_0x1ff612=_0x1ff612[_0x5d06e6(0x9da)](_0x419791,_0x45f2de);}return _0x1ff612=_0x1ff612[_0x5d06e6(0x9da)](/\\\//g,_0x5d06e6(0x3e3)),_0x1ff612=_0x1ff612[_0x5d06e6(0x9da)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x5d06e6(0x3e3))[_0x5d06e6(0x9da)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x5d06e6(0x35c))[_0x5d06e6(0x9da)](/÷/g,_0x5d06e6(0x3e3))[_0x5d06e6(0x9da)](/×/g,_0x5d06e6(0x35c)),_0x1ff612=_0x1ff612[_0x5d06e6(0x9da)](/(\d)(\\frac)/g,_0x5d06e6(0x575)),_0x1ff612=autoFormatMath(_0x1ff612),_0x1ff612;};return _0x3af158[_0x2dd7f9(0x21a)]&&(_0x3af158[_0x2dd7f9(0x21a)]=_0x247200(_0x3af158[_0x2dd7f9(0x21a)])),_0x3af158[_0x2dd7f9(0x4aa)][_0x2dd7f9(0x50c)](_0x44accb=>{const _0x157478=_0x2dd7f9;_0x44accb[_0x157478(0xac2)]=_0x247200(_0x44accb[_0x157478(0xac2)]),_0x44accb[_0x157478(0x559)]&&(_0x44accb[_0x157478(0x559)]=_0x44accb[_0x157478(0x559)]['map'](_0x247200)),_0x44accb[_0x157478(0x735)]&&(_0x44accb[_0x157478(0x735)]=_0x247200(_0x44accb[_0x157478(0x735)])),_0x44accb['stem']&&(_0x44accb['stem']=_0x247200(_0x44accb[_0x157478(0x856)])),_0x44accb[_0x157478(0xa66)]&&(_0x44accb[_0x157478(0xa66)]=_0x247200(_0x44accb['correctResponse'])),_0x44accb['allResponses']&&(_0x44accb[_0x157478(0x1fc)]=_0x44accb[_0x157478(0x1fc)]['map'](_0x247200));}),_0x3af158;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x196875=_0x27ad1b,_0x2a8935=document[_0x196875(0xa9a)](_0x196875(0xa11)),_0x247cfa=document[_0x196875(0xa9a)]('link-topic-input'),_0x37737f=_0x2a8935[_0x196875(0x589)]['trim'](),_0x4450af=_0x247cfa[_0x196875(0x589)]['trim']();if(!_0x37737f){showMessage(_0x196875(0x2e8));return;}const _0x4fa1ff=document['getElementById'](_0x196875(0x82a)),_0x1c7520=document[_0x196875(0xa9a)](_0x196875(0x140)),_0x14e151=document[_0x196875(0xa9a)](_0x196875(0x577)),_0x1e60a3=document[_0x196875(0xa9a)](_0x196875(0x7e6));document['getElementById']('quiz-generation-area')[_0x196875(0x25c)]['remove']('hidden'),_0x14e151[_0x196875(0x415)]='',_0x4fa1ff[_0x196875(0x25c)][_0x196875(0x525)](_0x196875(0x864)),_0x1c7520[_0x196875(0xa0d)]=_0x196875(0x720),_0x1e60a3[_0x196875(0xb12)]=!![];try{const _0x2d2327=_0x196875(0xa23)+encodeURIComponent(_0x37737f),_0x31f88a=await fetch(_0x2d2327);if(!_0x31f88a['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x31f88a[_0x196875(0xb84)]+')');const _0x3ffc4e=await _0x31f88a['text'](),_0x358d60=extractTextFromHtml(_0x3ffc4e);if(!_0x358d60||_0x358d60[_0x196875(0x7dc)]<0x64)throw new Error(_0x196875(0x9fe));await generateQuiz(_0x4450af,_0x358d60);}catch(_0x592c17){console['error']('Error\x20generating\x20from\x20link:',_0x592c17),showMessage(_0x196875(0x444)+_0x592c17[_0x196875(0x5a6)]),_0x14e151['innerHTML']=_0x196875(0x8fb);}finally{_0x4fa1ff[_0x196875(0x25c)]['add']('hidden'),_0x1e60a3[_0x196875(0xb12)]=![];}}function extractTextFromHtml(_0x998bdd){const _0x867888=_0x27ad1b,_0x351715=new DOMParser()[_0x867888(0xb66)](_0x998bdd,_0x867888(0x6d9));return _0x351715[_0x867888(0x4e0)](_0x867888(0x2e5))['forEach'](_0x1cf33a=>_0x1cf33a[_0x867888(0x525)]()),_0x351715[_0x867888(0x7fa)][_0x867888(0xa0d)]||'';}document[_0x27ad1b(0xa9a)](_0x27ad1b(0x87f))[_0x27ad1b(0x234)](_0x27ad1b(0x4be),()=>{const _0x114be8=_0x27ad1b,_0x458a16=document['getElementById'](_0x114be8(0x629))[_0x114be8(0x589)]['trim']();generateQuiz(_0x458a16,null);}),document[_0x27ad1b(0xa9a)]('generate-from-text-btn')[_0x27ad1b(0x234)](_0x27ad1b(0x4be),()=>{const _0x51624b=_0x27ad1b,_0x1cd380=document[_0x51624b(0xa9a)]('text-content-input')[_0x51624b(0x589)][_0x51624b(0x2b0)]();if(!_0x1cd380){showMessage('กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ');return;}const _0x443010=document['getElementById'](_0x51624b(0x629))[_0x51624b(0x589)][_0x51624b(0x2b0)]();generateQuiz(_0x443010,_0x1cd380);});async function generateQuiz(_0x1fb3dc,_0x411879,_0x3c0c8a=null,_0x1faaf1=null,_0x5ba5f6=![],_0xdd6b91=null,_0x2fa020=null,_0x3e884c=![]){const _0x1fdd4d=_0x27ad1b;let _0x4f0e66={};if(_0x5ba5f6&&blueprintPageSettings)console[_0x1fdd4d(0x484)](_0x1fdd4d(0x8c6)),_0x4f0e66=blueprintPageSettings;else{console['log']('Not\x20called\x20from\x20Blueprint\x20or\x20no\x20temp\x20settings.\x20Using\x20main\x20project\x20settings.');const _0x23f296=document['querySelectorAll'](_0x1fdd4d(0xa3c));_0x4f0e66={'quizType':document[_0x1fdd4d(0xa9a)](_0x1fdd4d(0x3ed))[_0x1fdd4d(0x589)],'numQuestions':document[_0x1fdd4d(0xa9a)]('num-questions')['value'],'numChoices':document['getElementById']('num-choices')[_0x1fdd4d(0x589)],'includeImages':document[_0x1fdd4d(0xa9a)]('include-images-checkbox')[_0x1fdd4d(0x23a)],'isNormalTopic':document[_0x1fdd4d(0xa9a)](_0x1fdd4d(0x8b0))[_0x1fdd4d(0x23a)],'difficultyValue':document[_0x1fdd4d(0xa9a)]('difficulty-level-select')[_0x1fdd4d(0x589)],'complexityValue':document[_0x1fdd4d(0xa9a)](_0x1fdd4d(0x9ef))[_0x1fdd4d(0x589)],'selectedTopicNames':Array['from'](_0x23f296)[_0x1fdd4d(0x821)](_0x1a2c04=>_0x1a2c04[_0x1fdd4d(0x589)])};}const _0x43c8ea=_0x4f0e66[_0x1fdd4d(0x6ba)]?'':_0x1fdd4d(0xb11),_0x3239d3=_0x4f0e66['difficultyValue']!==_0x1fdd4d(0x4f0)?_0x1fdd4d(0x760)+_0x4f0e66['difficultyValue']+'\x22':'',_0x1f1f0e=_0x4f0e66[_0x1fdd4d(0xb7b)]!=='mixed'?_0x1fdd4d(0xb7c)+_0x4f0e66['complexityValue']+_0x1fdd4d(0x632):'';let _0x28219f='';_0x4f0e66[_0x1fdd4d(0x41c)]&&_0x4f0e66[_0x1fdd4d(0x41c)][_0x1fdd4d(0x7dc)]>0x0&&(_0x28219f=_0x1fdd4d(0x113)+_0x4f0e66['selectedTopicNames']['join'](',\x20')+'.');let _0x5edd9b='';_0x1faaf1&&(_0x5edd9b=_0x1fdd4d(0x952));let _0x1ad458='',_0x49089e='',_0x15af1d,_0xd67065='เกี่ยวกับหัวข้อ\x20\x22'+_0x1fb3dc+'\x22';if(!_0x1fb3dc&&_0x411879)_0xd67065=_0x1fdd4d(0xa0e);else!_0x1fb3dc&&!_0x411879&&(_0xd67065='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0x3f16b5={'type':_0x1fdd4d(0xb47),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1fdd4d(0x337)},'explanation':{'type':_0x1fdd4d(0xb86)},'imageCode':{'type':_0x1fdd4d(0xb86)}},'required':[_0x1fdd4d(0xac2),_0x1fdd4d(0x559),_0x1fdd4d(0xa18),_0x1fdd4d(0x735)]},_0x2828aa={'type':_0x1fdd4d(0xb47),'properties':{'questionText':{'type':_0x1fdd4d(0xb86)},'idealAnswer':{'type':_0x1fdd4d(0xb86)},'explanation':{'type':_0x1fdd4d(0xb86)},'imageCode':{'type':_0x1fdd4d(0xb86)}},'required':['questionText',_0x1fdd4d(0x4af),'explanation']},_0x347cfe={'type':_0x1fdd4d(0xb47),'properties':{'questionText':{'type':_0x1fdd4d(0xb86)},'questionType':{'type':_0x1fdd4d(0xb86),'enum':[_0x1fdd4d(0xb9a),_0x1fdd4d(0xa97)]},'options':{'type':_0x1fdd4d(0x863),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x1fdd4d(0xb86)},'explanation':{'type':_0x1fdd4d(0xb86)},'imageCode':{'type':_0x1fdd4d(0xb86)}},'required':[_0x1fdd4d(0xac2),_0x1fdd4d(0x5fe),'explanation']},_0x10c41a={'type':_0x1fdd4d(0xb47),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x1fdd4d(0x1f5)},'explanation':{'type':_0x1fdd4d(0xb86)},'imageCode':{'type':_0x1fdd4d(0xb86)}},'required':['questionText',_0x1fdd4d(0x8cd),_0x1fdd4d(0x735)]},_0x59c1ae={'type':'OBJECT','properties':{'questionType':{'type':_0x1fdd4d(0xb86),'enum':[_0x1fdd4d(0x62a)]},'stem':{'type':_0x1fdd4d(0xb86)},'correctResponse':{'type':_0x1fdd4d(0xb86)},'allResponses':{'type':_0x1fdd4d(0x863),'items':{'type':_0x1fdd4d(0xb86)}},'explanation':{'type':_0x1fdd4d(0xb86)},'imageCode':{'type':_0x1fdd4d(0xb86)}},'required':['questionType',_0x1fdd4d(0x856),_0x1fdd4d(0xa66),_0x1fdd4d(0x1fc),_0x1fdd4d(0x735)]};let _0x446d6c;if(_0x3c0c8a!==null){const _0x38b665=currentQuizData[_0x1fdd4d(0x4aa)][_0x3c0c8a]['questionType'],_0x51bcf3=_0x4f0e66[_0x1fdd4d(0x7ac)]?'สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'';_0x1ad458=_0x1fdd4d(0x1ee)+_0xd67065+'\x20'+_0x28219f+'\x20'+_0x3239d3+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0x51bcf3+'\x20'+simpleMathPrompt;if(_0x38b665==='multiple_choice')_0x15af1d=_0x3f16b5;else{if(_0x38b665==='matching_item')_0x15af1d={'type':_0x1fdd4d(0xb47),'properties':{'questionType':{'type':_0x1fdd4d(0xb86),'enum':['matching_item']},'stem':{'type':'STRING'},'correctResponse':{'type':_0x1fdd4d(0xb86)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1fdd4d(0xb86)}},'required':[_0x1fdd4d(0x5fe),'stem',_0x1fdd4d(0xa66),_0x1fdd4d(0x735)]};else _0x15af1d=_0x2828aa;}_0x446d6c=_0x15af1d;}else{const _0x199486=_0x4f0e66['includeImages']?_0x1fdd4d(0x54d):'';switch(_0x4f0e66['quizType']){case _0x1fdd4d(0xb9a):_0x1ad458='สร้างแบบทดสอบปรนัย'+_0x43c8ea+'\x20'+_0x4f0e66[_0x1fdd4d(0x816)]+_0x1fdd4d(0x7a9)+_0xd67065+'\x20'+_0x28219f+'\x20'+_0x3239d3+'\x20'+_0x1f1f0e+'\x20'+_0x5edd9b+_0x1fdd4d(0x825)+_0x4f0e66[_0x1fdd4d(0x54e)]+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x199486+'\x20'+simpleMathPrompt,_0x15af1d=_0x3f16b5;break;case _0x1fdd4d(0x9ff):_0x1ad458=_0x1fdd4d(0x257)+_0x43c8ea+'\x20'+_0x4f0e66['numQuestions']+_0x1fdd4d(0x7a9)+_0xd67065+'\x20'+_0x28219f+'\x20'+_0x3239d3+'\x20'+_0x1f1f0e+'\x20'+_0x5edd9b+_0x1fdd4d(0x32e)+_0x4f0e66['numChoices']+_0x1fdd4d(0x495)+_0x199486+'\x20'+simpleMathPrompt,_0x15af1d=_0x3f16b5;break;case _0x1fdd4d(0x7c8):_0x1ad458='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x43c8ea+'\x20'+_0x4f0e66[_0x1fdd4d(0x816)]+_0x1fdd4d(0x7a9)+_0xd67065+'\x20'+_0x28219f+'\x20'+_0x3239d3+'\x20'+_0x1f1f0e+'\x20'+_0x5edd9b+_0x1fdd4d(0x15a)+_0x199486+'\x20'+simpleMathPrompt,_0x15af1d=_0x2828aa;break;case _0x1fdd4d(0x628):_0x1ad458=_0x1fdd4d(0x146)+_0x43c8ea+'\x20'+_0x4f0e66[_0x1fdd4d(0x816)]+_0x1fdd4d(0x7a9)+_0xd67065+'\x20'+_0x28219f+'\x20'+_0x3239d3+'\x20'+_0x1f1f0e+'\x20'+_0x5edd9b+_0x1fdd4d(0xb8c)+_0x4f0e66[_0x1fdd4d(0x54e)]+'\x20ตัวเลือก.\x20'+_0x199486+'\x20'+simpleMathPrompt+'.',_0x15af1d=_0x347cfe;break;case _0x1fdd4d(0x9c7):_0x1ad458=_0x1fdd4d(0xba1)+_0x43c8ea+'\x20'+_0x4f0e66[_0x1fdd4d(0x816)]+_0x1fdd4d(0x7a9)+_0xd67065+'\x20'+_0x28219f+'\x20'+_0x3239d3+'\x20'+_0x1f1f0e+'\x20'+_0x5edd9b+'.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20'+_0x199486+'\x20'+simpleMathPrompt,_0x15af1d=_0x10c41a;break;case _0x1fdd4d(0x420):_0x1ad458='สร้างชุดคำถามจับคู่'+_0x43c8ea+'\x20'+_0x4f0e66[_0x1fdd4d(0x816)]+'\x20คู่\x20'+_0xd67065+'\x20'+_0x28219f+'\x20'+_0x3239d3+'\x20'+_0x1f1f0e+'\x20'+_0x5edd9b+'.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20'+_0x199486+'\x20'+simpleMathPrompt,_0x15af1d=_0x59c1ae;break;}_0x446d6c={'type':_0x1fdd4d(0xb47),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x1fdd4d(0x863),'items':_0x15af1d}},'required':[_0x1fdd4d(0x21a),_0x1fdd4d(0x4aa)]};}const _0x548c30=_0x1fdd4d(0x8c7);_0x411879?(_0x3e884c?_0x1ad458=_0x1fdd4d(0x946)+_0x411879+'\x22,\x20'+_0x1ad458+_0x548c30:_0x1ad458=_0x1fdd4d(0x946)+_0x411879+'\x22,\x20'+_0x1ad458,_0x49089e=_0x1fdd4d(0xb1b)):(_0x3e884c&&(_0x1ad458+=_0x548c30),_0x49089e=_0x1fdd4d(0x26e));let _0x108531;return _0x1faaf1?_0x108531=[{'text':_0x1ad458},..._0x1faaf1]:_0x108531=_0x1ad458,handleApiCall(_0x108531,_0x49089e,_0x446d6c,_0x3c0c8a,!![],_0xdd6b91,_0x2fa020);}async function generateQuizFromFile(_0x25fe9f,_0x22beba){const _0x1df9d9=_0x27ad1b,_0x49647f=document['getElementById']('file-topic-input')[_0x1df9d9(0x589)]['trim'](),_0x4b7657=document[_0x1df9d9(0xa9a)](_0x1df9d9(0x3ed))['value'],_0x27a6ea=document[_0x1df9d9(0xa9a)]('num-questions')['value'],_0x59c7de=document[_0x1df9d9(0xa9a)](_0x1df9d9(0x757))[_0x1df9d9(0x589)],_0x2666b7=document[_0x1df9d9(0xa9a)](_0x1df9d9(0xa2e))[_0x1df9d9(0x23a)],_0xe08b88=document[_0x1df9d9(0xa9a)]('force-math-checkbox')[_0x1df9d9(0x23a)],_0x49a8ae=_0xe08b88?'':_0x1df9d9(0xb11),_0x427380=document[_0x1df9d9(0xa9a)](_0x1df9d9(0xa07))[_0x1df9d9(0x23a)];let _0xd23578='',_0x5c9c06;const _0x48450a=_0x2666b7?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';if(_0x427380)_0xd23578=_0x1df9d9(0x61a)+_0x48450a+_0x1df9d9(0x4c7)+simpleMathPrompt+'\x0a',_0x5c9c06={'type':_0x1df9d9(0xb47),'properties':{'questionText':{'type':_0x1df9d9(0xb86)},'questionType':{'type':_0x1df9d9(0xb86),'enum':['multiple_choice','short_answer',_0x1df9d9(0x9c7),'matching_item']},'options':{'type':_0x1df9d9(0x863),'items':{'type':_0x1df9d9(0xb86)}},'correctAnswerIndex':{'type':_0x1df9d9(0x337)},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x1df9d9(0x1f5)},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':'ARRAY','items':{'type':_0x1df9d9(0xb86)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1df9d9(0xb86)}},'required':[_0x1df9d9(0x5fe),_0x1df9d9(0x735)]};else{let _0x12fbdd=_0x1df9d9(0x414)+_0x49647f+'\x22';!_0x49647f&&(_0x12fbdd=_0x1df9d9(0x110));switch(_0x4b7657){case _0x1df9d9(0xb9a):_0xd23578=_0x1df9d9(0x7de)+_0x49a8ae+'\x20'+_0x27a6ea+_0x1df9d9(0x7a9)+_0x12fbdd+_0x1df9d9(0x825)+_0x59c7de+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x48450a+'\x20'+simpleMathPrompt,_0x5c9c06={'type':_0x1df9d9(0xb47),'properties':{'questionText':{'type':_0x1df9d9(0xb86)},'options':{'type':_0x1df9d9(0x863),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1df9d9(0x337)},'explanation':{'type':_0x1df9d9(0xb86)},'imageCode':{'type':_0x1df9d9(0xb86)}},'required':[_0x1df9d9(0xac2),_0x1df9d9(0x559),_0x1df9d9(0xa18),'explanation']};break;case _0x1df9d9(0x9ff):_0xd23578=_0x1df9d9(0x257)+_0x49a8ae+'\x20'+_0x27a6ea+_0x1df9d9(0x7a9)+_0x12fbdd+_0x1df9d9(0x32e)+_0x59c7de+_0x1df9d9(0x495)+_0x48450a+'\x20'+simpleMathPrompt,_0x5c9c06={'type':_0x1df9d9(0xb47),'properties':{'questionText':{'type':_0x1df9d9(0xb86)},'options':{'type':'ARRAY','items':{'type':_0x1df9d9(0xb86)}},'correctAnswerIndex':{'type':_0x1df9d9(0x337)},'explanation':{'type':_0x1df9d9(0xb86)},'imageCode':{'type':'STRING'}},'required':[_0x1df9d9(0xac2),_0x1df9d9(0x559),_0x1df9d9(0xa18),_0x1df9d9(0x735)]};break;case _0x1df9d9(0x7c8):_0xd23578=_0x1df9d9(0x257)+_0x49a8ae+'\x20'+_0x27a6ea+_0x1df9d9(0x7a9)+_0x12fbdd+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x48450a+'\x20'+simpleMathPrompt,_0x5c9c06={'type':_0x1df9d9(0xb47),'properties':{'questionText':{'type':_0x1df9d9(0xb86)},'idealAnswer':{'type':_0x1df9d9(0xb86)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1df9d9(0xb86)}},'required':[_0x1df9d9(0xac2),_0x1df9d9(0x4af),_0x1df9d9(0x735)]};break;case _0x1df9d9(0x628):_0xd23578=_0x1df9d9(0x146)+_0x49a8ae+'\x20'+_0x27a6ea+_0x1df9d9(0x7a9)+_0x12fbdd+_0x1df9d9(0x7f1)+_0x59c7de+_0x1df9d9(0x66e)+_0x48450a+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x5c9c06={'type':_0x1df9d9(0xb47),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x1df9d9(0xb9a),_0x1df9d9(0xa97)]},'options':{'type':_0x1df9d9(0x863),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1df9d9(0x337)},'idealAnswer':{'type':_0x1df9d9(0xb86)},'explanation':{'type':_0x1df9d9(0xb86)},'imageCode':{'type':_0x1df9d9(0xb86)}},'required':['questionText',_0x1df9d9(0x5fe),'explanation']};break;case _0x1df9d9(0x9c7):_0xd23578='สร้างคำถามแบบใช่/ไม่ใช่'+_0x49a8ae+'\x20'+_0x27a6ea+_0x1df9d9(0x7a9)+_0x12fbdd+_0x1df9d9(0x9fb)+_0x48450a+'\x20'+simpleMathPrompt,_0x5c9c06={'type':'OBJECT','properties':{'questionText':{'type':_0x1df9d9(0xb86)},'correctAnswer':{'type':_0x1df9d9(0x1f5)},'explanation':{'type':_0x1df9d9(0xb86)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x1df9d9(0x8cd),_0x1df9d9(0x735)]};break;case'matching':_0xd23578=_0x1df9d9(0x3dd)+_0x49a8ae+'\x20'+_0x27a6ea+_0x1df9d9(0x9be)+_0x12fbdd+_0x1df9d9(0x1c8)+_0x27a6ea+_0x1df9d9(0xa85)+_0x48450a+'\x20'+simpleMathPrompt,_0x5c9c06={'type':_0x1df9d9(0xb47),'properties':{'questionType':{'type':_0x1df9d9(0xb86),'enum':[_0x1df9d9(0x62a)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x1df9d9(0x863),'items':{'type':_0x1df9d9(0xb86)}},'explanation':{'type':_0x1df9d9(0xb86)},'imageCode':{'type':_0x1df9d9(0xb86)}},'required':[_0x1df9d9(0x5fe),'stem',_0x1df9d9(0xa66),_0x1df9d9(0x1fc),'explanation']};break;}}const _0xe98ede={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x5c9c06}},'required':[_0x1df9d9(0x21a),_0x1df9d9(0x4aa)]},_0x4d7d91=_0x1df9d9(0x6cf)+_0xd23578,_0x446b06={'contents':[{'parts':[{'text':_0x4d7d91},{'inlineData':{'mimeType':_0x25fe9f,'data':_0x22beba}}]}],'generationConfig':{'responseMimeType':_0x1df9d9(0x2d5),'responseSchema':_0xe98ede}};return handleApiCall(_0x446b06[_0x1df9d9(0x713)][0x0][_0x1df9d9(0x3b5)],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0xe98ede);}async function handleApiCall(_0x344167,_0x3edde3,_0x3e09b6,_0x4dba28=null,_0x48cbe5=!![],_0x1639d4=null,_0x4fcc69=null){const _0x2569c8=_0x27ad1b,_0x9587c0=document['getElementById'](_0x2569c8(0x200)),_0x5b6b97=document[_0x2569c8(0xa9a)](_0x2569c8(0x82a)),_0x1c45e6=document['getElementById'](_0x2569c8(0x140)),_0x213612=document[_0x2569c8(0xa9a)](_0x2569c8(0x577));_0x9587c0[_0x2569c8(0x25c)][_0x2569c8(0x525)](_0x2569c8(0x864));_0x4dba28===null&&_0x48cbe5&&(_0x213612[_0x2569c8(0x415)]='');_0x5b6b97[_0x2569c8(0x25c)][_0x2569c8(0x525)](_0x2569c8(0x864)),_0x1c45e6[_0x2569c8(0xa0d)]=_0x3edde3,document[_0x2569c8(0xa9a)](_0x2569c8(0x87f))[_0x2569c8(0xb12)]=!![],document[_0x2569c8(0xa9a)](_0x2569c8(0x4b4))[_0x2569c8(0xb12)]=!![],document[_0x2569c8(0xa9a)]('generate-from-link-btn')['disabled']=!![];const _0x1dd66a=document[_0x2569c8(0xa9a)]('generate-from-file-btn');if(_0x1dd66a)_0x1dd66a[_0x2569c8(0xb12)]=!![];const _0x4cb1ae=document[_0x2569c8(0xa9a)](_0x2569c8(0x79f));if(_0x4cb1ae)_0x4cb1ae[_0x2569c8(0xb12)]=!![];const _0x721730=document[_0x2569c8(0xa9a)]('generate-from-parallel-test-btn');if(_0x721730)_0x721730['disabled']=!![];try{const _0x568693={'responseMimeType':'application/json','responseSchema':_0x3e09b6},_0x36a16c=Array[_0x2569c8(0x47a)](_0x344167)?_0x344167:[{'text':_0x344167}],_0x1f5a3d={'contents':[{'role':_0x2569c8(0x56a),'parts':_0x36a16c}],'generationConfig':_0x568693},_0x4f7411=_0x2569c8(0x47d),_0xa08cfb='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x4f7411,_0x3c2294=await fetch(_0xa08cfb,{'method':_0x2569c8(0x74d),'headers':{'Content-Type':_0x2569c8(0x2d5)},'body':JSON[_0x2569c8(0xa1a)](_0x1f5a3d)});if(!_0x3c2294['ok']){const _0x3f1814=await _0x3c2294[_0x2569c8(0x428)]();console[_0x2569c8(0x4a0)](_0x2569c8(0xb96),_0x3f1814);throw new Error(_0x2569c8(0xac8)+_0x3c2294[_0x2569c8(0xb84)]);}const _0x4d77aa=await _0x3c2294[_0x2569c8(0xafc)]();if(_0x4d77aa[_0x2569c8(0xab2)]?.[0x0]?.['content']?.[_0x2569c8(0x3b5)]?.[0x0]){let _0x300a62=_0x4d77aa[_0x2569c8(0xab2)][0x0][_0x2569c8(0x5a7)]['parts'][0x0][_0x2569c8(0x428)];if(_0x300a62[_0x2569c8(0x2d6)](_0x2569c8(0xa47)))_0x300a62=_0x300a62['substring'](0x7,_0x300a62['length']-0x3)[_0x2569c8(0x2b0)]();else _0x300a62[_0x2569c8(0x2d6)](_0x2569c8(0x126))&&(_0x300a62=_0x300a62[_0x2569c8(0xb7f)](0x3,_0x300a62[_0x2569c8(0x7dc)]-0x3)[_0x2569c8(0x2b0)]());let _0x1523de=JSON[_0x2569c8(0x327)](_0x300a62);if(_0x48cbe5){if(_0x4dba28!==null){if(_0x1523de[_0x2569c8(0x5fe)]==='matching_item'){const _0x673100=currentQuizData['questions'][_0x2569c8(0x821)](_0x210b38=>_0x210b38[_0x2569c8(0xa66)]);_0x1523de[_0x2569c8(0x1fc)]=_0x673100;const _0x1084bd=currentQuizData['questions'][_0x4dba28][_0x2569c8(0xa66)],_0x4b0f86=_0x673100[_0x2569c8(0x7a3)](_0x1084bd);_0x4b0f86>-0x1&&(_0x673100[_0x4b0f86]=_0x1523de[_0x2569c8(0xa66)]),currentQuizData[_0x2569c8(0x4aa)][_0x2569c8(0x50c)](_0x178aa2=>{const _0x5c2e7f=_0x2569c8;if(_0x178aa2[_0x5c2e7f(0x5fe)]==='matching_item')_0x178aa2[_0x5c2e7f(0x1fc)]=_0x673100;});}currentQuizData[_0x2569c8(0x4aa)][_0x4dba28]=_0x1523de,displayGeneratedQuiz(currentQuizData,_0x1639d4,_0x4fcc69);}else{currentQuizData=_0x1523de;const _0x1111b7=document[_0x2569c8(0xa9a)](_0x2569c8(0x3ed))[_0x2569c8(0x589)];currentQuizData[_0x2569c8(0x447)]=_0x1111b7,currentQuizData[_0x2569c8(0x4aa)]&&currentQuizData[_0x2569c8(0x4aa)][_0x2569c8(0x50c)](_0x185234=>{const _0x3c5fa4=_0x2569c8;if(!_0x185234[_0x3c5fa4(0x5fe)]){if(_0x1111b7===_0x3c5fa4(0x9ff))_0x185234[_0x3c5fa4(0x5fe)]='multiple_choice';else{if(_0x1111b7===_0x3c5fa4(0x7c8))_0x185234['questionType']=_0x3c5fa4(0xa97);else _0x185234[_0x3c5fa4(0x5fe)]=_0x1111b7;}}}),displayGeneratedQuiz(currentQuizData,_0x1639d4,_0x4fcc69);}}return _0x1523de;}else{let _0x5f378f=_0x2569c8(0x768);if(_0x4d77aa[_0x2569c8(0x691)]?.[_0x2569c8(0x64d)])_0x5f378f='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x4d77aa[_0x2569c8(0x691)][_0x2569c8(0x64d)]+'.';else _0x4d77aa['candidates']?.[0x0]?.['finishReason']&&_0x4d77aa[_0x2569c8(0xab2)][0x0]['finishReason']!==_0x2569c8(0x149)&&(_0x5f378f='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x4d77aa[_0x2569c8(0xab2)][0x0][_0x2569c8(0xb5a)]+'.');console[_0x2569c8(0x4a0)](_0x5f378f,JSON[_0x2569c8(0xa1a)](_0x4d77aa));throw new Error(_0x5f378f);}}catch(_0x1157c7){console[_0x2569c8(0x4a0)](_0x2569c8(0xba0),_0x1157c7),showMessage(_0x2569c8(0x390)+_0x1157c7[_0x2569c8(0x5a6)]);_0x4dba28===null&&_0x48cbe5&&(_0x213612[_0x2569c8(0x415)]=_0x2569c8(0xa2b));throw _0x1157c7;}finally{_0x5b6b97[_0x2569c8(0x25c)][_0x2569c8(0x2bd)](_0x2569c8(0x864)),document[_0x2569c8(0xa9a)](_0x2569c8(0x87f))[_0x2569c8(0xb12)]=![],document[_0x2569c8(0xa9a)](_0x2569c8(0x4b4))['disabled']=![],document[_0x2569c8(0xa9a)]('generate-from-link-btn')[_0x2569c8(0xb12)]=![];if(_0x1dd66a)_0x1dd66a[_0x2569c8(0xb12)]=![];if(_0x4cb1ae)_0x4cb1ae[_0x2569c8(0xb12)]=![];if(_0x721730)_0x721730['disabled']=![];}}function exitFullscreen(){const _0x17286f=_0x27ad1b;if(document[_0x17286f(0x481)])document[_0x17286f(0x481)]()[_0x17286f(0x1e1)](_0x27d32b=>console['error'](_0x27d32b));else{if(document[_0x17286f(0x550)])document['webkitExitFullscreen']();else document[_0x17286f(0x8f8)]&&document[_0x17286f(0x8f8)]();}}function enterFullscreen(){const _0x513005=_0x27ad1b,_0x38e48e=document['documentElement'];if(_0x38e48e['requestFullscreen'])_0x38e48e[_0x513005(0xa7e)]()[_0x513005(0x1e1)](_0x56aa3b=>{const _0x3f01d6=_0x513005;console['error'](_0x3f01d6(0xac6)+_0x56aa3b[_0x3f01d6(0x5a6)]+'\x20('+_0x56aa3b[_0x3f01d6(0x352)]+')');});else{if(_0x38e48e['webkitRequestFullscreen'])_0x38e48e[_0x513005(0x77d)]();else _0x38e48e[_0x513005(0x9b4)]&&_0x38e48e[_0x513005(0x9b4)]();}}function handleCheatingEvent(){const _0x541d91=_0x27ad1b;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent(_0x541d91(0x977),{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+'\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ'),document[_0x541d91(0xa9a)](_0x541d91(0x3fc))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x541d91(0x966)](_0x541d91(0x43b),handleVisibilityChange),document['removeEventListener']('fullscreenchange',handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0x541d91(0x30c),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x26eadd=_0x27ad1b;if(currentMode===_0x26eadd(0x521)||!isQuizActive)return;if(document['visibilityState']===_0x26eadd(0x864))handleCheatingEvent();else document['visibilityState']===_0x26eadd(0x88e)&&(console[_0x26eadd(0x484)](_0x26eadd(0x5af)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x495b9=_0x27ad1b;if(currentMode==='admin-testing'||!isQuizActive)return;!document[_0x495b9(0x876)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x2f728c,_0x41e2de=null,_0x330bf1=null){const _0x1625dd=_0x27ad1b,_0x4150a1=document['getElementById'](_0x1625dd(0x577));let _0xf50e30=_0x1625dd(0x907)+_0x2f728c[_0x1625dd(0x21a)]+_0x1625dd(0x69d);_0x2f728c[_0x1625dd(0x4aa)][_0x1625dd(0x50c)]((_0x4bec29,_0xfeb19e)=>{const _0x199ca1=_0x1625dd;!_0x4bec29['id']&&(_0x4bec29['id']='q_'+Date[_0x199ca1(0x680)]()+'_'+_0xfeb19e);const _0x2d523a=_0x4bec29[_0x199ca1(0x5fe)]||_0x2f728c[_0x199ca1(0x447)];_0xf50e30+=_0x199ca1(0x889)+_0xfeb19e+_0x199ca1(0x7e8)+_0xfeb19e+_0x199ca1(0x891)+_0xfeb19e+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x2d523a){case _0x199ca1(0x62a):_0xf50e30+=_0x199ca1(0x6bc)+_0xfeb19e+'\x22>'+(_0xfeb19e+0x1)+'.\x20'+_0x4bec29[_0x199ca1(0x856)]+_0x199ca1(0x323);_0x4bec29[_0x199ca1(0x56d)]&&(_0xf50e30+=_0x199ca1(0x5bc)+_0xfeb19e+_0x199ca1(0xf6)+_0x4bec29['imageCode']+_0x199ca1(0xac7));_0xf50e30+=_0x199ca1(0x182)+_0xfeb19e+'\x22>'+_0x4bec29[_0x199ca1(0xa66)]+_0x199ca1(0x442),_0xf50e30+=_0x199ca1(0x57d)+_0xfeb19e+'\x22>'+_0x4bec29[_0x199ca1(0x735)]+_0x199ca1(0x442);break;case _0x199ca1(0xa97):_0xf50e30+=_0x199ca1(0x6bc)+_0xfeb19e+'\x22>'+(_0xfeb19e+0x1)+'.\x20'+_0x4bec29[_0x199ca1(0xac2)]+_0x199ca1(0x323);_0x4bec29[_0x199ca1(0x56d)]&&(_0xf50e30+=_0x199ca1(0x5bc)+_0xfeb19e+_0x199ca1(0xf6)+_0x4bec29[_0x199ca1(0x56d)]+_0x199ca1(0xac7));_0xf50e30+=_0x199ca1(0x7a0)+_0xfeb19e+'\x22>'+_0x4bec29['idealAnswer']+_0x199ca1(0x442),_0xf50e30+=_0x199ca1(0x57d)+_0xfeb19e+'\x22>'+_0x4bec29['explanation']+_0x199ca1(0x442);break;case'true_false':_0xf50e30+=_0x199ca1(0x6bc)+_0xfeb19e+'\x22>'+(_0xfeb19e+0x1)+'.\x20'+_0x4bec29[_0x199ca1(0xac2)]+_0x199ca1(0x323);_0x4bec29[_0x199ca1(0x56d)]&&(_0xf50e30+=_0x199ca1(0x5bc)+_0xfeb19e+_0x199ca1(0xf6)+_0x4bec29['imageCode']+_0x199ca1(0xac7));_0xf50e30+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x4bec29[_0x199ca1(0x8cd)]===!![]?_0x199ca1(0x5e4):'')+_0x199ca1(0x97b)+(_0x4bec29[_0x199ca1(0x8cd)]===![]?_0x199ca1(0x5e4):'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0xf50e30+=_0x199ca1(0x57d)+_0xfeb19e+'\x22>'+_0x4bec29['explanation']+_0x199ca1(0x442);break;case _0x199ca1(0x588):case'multiple_choice':default:_0xf50e30+=_0x199ca1(0x6bc)+_0xfeb19e+'\x22>'+(_0xfeb19e+0x1)+'.\x20'+_0x4bec29['questionText']+_0x199ca1(0x323);_0x4bec29['imageCode']&&(_0xf50e30+='<div\x20id=\x22q-image-container-'+_0xfeb19e+_0x199ca1(0xf6)+_0x4bec29[_0x199ca1(0x56d)]+_0x199ca1(0xac7));_0xf50e30+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0xfeb19e+_0x199ca1(0x567)+(_0x4bec29[_0x199ca1(0x559)]||[])[_0x199ca1(0x821)]((_0x438114,_0x375c00)=>_0x199ca1(0xaff)+(_0x375c00===_0x4bec29[_0x199ca1(0xa18)]?'text-green-600\x20font-bold':'')+'\x22>'+_0x438114+'</li>')[_0x199ca1(0x4ad)]('')+_0x199ca1(0x9a7),_0xf50e30+=_0x199ca1(0x57d)+_0xfeb19e+'\x22>'+_0x4bec29[_0x199ca1(0x735)]+_0x199ca1(0x442);break;}_0xf50e30+='</div>';}),_0xf50e30+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>',_0x4150a1['innerHTML']=_0xf50e30,document[_0x1625dd(0x4e0)](_0x1625dd(0x106))['forEach'](_0x3f6dfe=>_0x3f6dfe[_0x1625dd(0x234)](_0x1625dd(0x4be),handleEditQuestion)),document[_0x1625dd(0x4e0)]('.regenerate-question-btn')[_0x1625dd(0x50c)](_0x31bc30=>_0x31bc30[_0x1625dd(0x234)](_0x1625dd(0x4be),handleRegenerateQuestion)),document[_0x1625dd(0xa9a)](_0x1625dd(0x192))['addEventListener'](_0x1625dd(0x4be),exportQuizAsWorksheetPDF),document[_0x1625dd(0xa9a)](_0x1625dd(0x30b))['addEventListener'](_0x1625dd(0x4be),handleVerifyAnswers);const _0x2ad802=document[_0x1625dd(0xa9a)]('save-quiz-btn');if(_0x2ad802){const _0x5b763e=_0x41e2de||currentProjectId;_0x2ad802[_0x1625dd(0x234)]('click',()=>saveQuiz(_0x5b763e,_0x330bf1));}if(window[_0x1625dd(0xa63)])window[_0x1625dd(0xa63)]['typesetPromise']([_0x4150a1]);}function handleRegenerateQuestion(_0x4bf947){const _0x2608c1=_0x27ad1b,_0x135e00=_0x4bf947[_0x2608c1(0x13e)]['dataset']['index'],_0x41597f=currentQuizData['topic'];showMessage(_0x2608c1(0x10e)+(parseInt(_0x135e00)+0x1)+_0x2608c1(0x517)),generateQuiz(_0x41597f,null,parseInt(_0x135e00));}function getPointerPosition(_0x45f569,_0x27bce7){const _0x45648c=_0x27ad1b,_0x199277=_0x45f569[_0x45648c(0x87e)]();let _0x354104,_0x346b01;return _0x27bce7[_0x45648c(0x18c)]&&_0x27bce7[_0x45648c(0x18c)][_0x45648c(0x7dc)]>0x0?(_0x354104=_0x27bce7[_0x45648c(0x18c)][0x0]['clientX'],_0x346b01=_0x27bce7[_0x45648c(0x18c)][0x0][_0x45648c(0xaf0)]):(_0x354104=_0x27bce7[_0x45648c(0x6ca)],_0x346b01=_0x27bce7['clientY']),{'x':(_0x354104-_0x199277['e'])/_0x199277['a'],'y':(_0x346b01-_0x199277['f'])/_0x199277['d']};}function startDrag(_0x5222d1){const _0x90d5f3=_0x27ad1b;_0x5222d1[_0x90d5f3(0x37c)]===_0x90d5f3(0x7fc)&&_0x5222d1[_0x90d5f3(0x14f)]();const _0x2fab23=_0x5222d1[_0x90d5f3(0xa7d)][_0x90d5f3(0x997)](_0x90d5f3(0x66d));if(_0x2fab23){draggedSvgElement=_0x2fab23;const _0x29ed5f=draggedSvgElement[_0x90d5f3(0x6f3)],_0x324be9=getPointerPosition(_0x29ed5f,_0x5222d1);svgOffset['x']=_0x324be9['x']-parseFloat(draggedSvgElement[_0x90d5f3(0x39c)](null,'x')),svgOffset['y']=_0x324be9['y']-parseFloat(draggedSvgElement[_0x90d5f3(0x39c)](null,'y'));}}function calculateItemAnalysis(_0x18d5ac,_0x14c7ab){const _0x2c991d=_0x27ad1b,_0x4b2640={};if(_0x14c7ab['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x3b768b=[..._0x14c7ab]['sort']((_0x1feb49,_0x416a71)=>{const _0x2537e2=_0x5f3a,_0x31c0b0=_0x416a71[_0x2537e2(0xa17)]-_0x1feb49['latestScore'];if(_0x31c0b0!==0x0)return _0x31c0b0;const _0x5e3b5d=_0x1feb49[_0x2537e2(0x870)]?.[_0x2537e2(0x7dc)]||0x1,_0x5de6db=_0x416a71[_0x2537e2(0x870)]?.['length']||0x1,_0x50c305=_0x5e3b5d-_0x5de6db;if(_0x50c305!==0x0)return _0x50c305;const _0x263051=new Date(_0x1feb49['latestSubmittedAt']),_0x3b5978=new Date(_0x416a71[_0x2537e2(0x9f8)]),_0x5e6905=_0x263051-_0x3b5978;if(_0x5e6905!==0x0)return _0x5e6905;return _0x1feb49[_0x2537e2(0x8d6)][_0x2537e2(0x423)](_0x416a71[_0x2537e2(0x8d6)],'th');}),_0x46ca47=_0x3b768b['length'],_0x56e165=Math['max'](0x1,Math[_0x2c991d(0xaac)](_0x46ca47*0.33));if(_0x56e165===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0xc8b61b=_0x3b768b['slice'](0x0,_0x56e165),_0x60d80e=_0x3b768b[_0x2c991d(0xad3)](-_0x56e165),_0xf408cc=_0xc8b61b[_0x2c991d(0x821)](_0x586efe=>_0x586efe['studentName']),_0x584f00=_0x60d80e[_0x2c991d(0x821)](_0x140d1e=>_0x140d1e[_0x2c991d(0x8d6)]);return _0x18d5ac[_0x2c991d(0x4aa)]['forEach']((_0xd7bc27,_0x578085)=>{const _0x11c995=_0x2c991d,_0x13e584=_0xd7bc27['stem']||_0xd7bc27[_0x11c995(0xac2)];let _0x3a5c66=0x0,_0x63f135=0x0,_0xd84105=0x0;const _0x5f2a88=[],_0x4dad3b=[];_0xc8b61b[_0x11c995(0x50c)](_0x235c13=>{const _0x313a07=_0x11c995,_0x20201c=_0x235c13[_0x313a07(0x870)][_0x235c13[_0x313a07(0x870)][_0x313a07(0x7dc)]-0x1],_0x40c612=_0x20201c[_0x313a07(0x184)]['find'](_0x3d1abd=>_0x3d1abd['originalQuestionText']===_0x13e584);_0x5f2a88['push']({'name':_0x235c13[_0x313a07(0x8d6)],'isCorrect':_0x40c612?_0x40c612['isCorrect']:![]}),_0x40c612&&_0x40c612['isCorrect']&&_0x63f135++;}),_0x60d80e[_0x11c995(0x50c)](_0x5d8ea8=>{const _0x9cf94b=_0x11c995,_0x1b8cce=_0x5d8ea8['attempts'][_0x5d8ea8[_0x9cf94b(0x870)]['length']-0x1],_0x4c315c=_0x1b8cce[_0x9cf94b(0x184)]['find'](_0x493320=>_0x493320[_0x9cf94b(0x649)]===_0x13e584);_0x4dad3b[_0x9cf94b(0x2b6)]({'name':_0x5d8ea8[_0x9cf94b(0x8d6)],'isCorrect':_0x4c315c?_0x4c315c[_0x9cf94b(0x764)]:![]}),_0x4c315c&&_0x4c315c[_0x9cf94b(0x764)]&&_0xd84105++;}),_0x14c7ab[_0x11c995(0x50c)](_0x1b0c14=>{const _0x3ea004=_0x11c995,_0x124403=_0x1b0c14['attempts'][_0x1b0c14[_0x3ea004(0x870)][_0x3ea004(0x7dc)]-0x1],_0x55f0cf=_0x124403[_0x3ea004(0x184)][_0x3ea004(0x3d5)](_0x4e16aa=>_0x4e16aa[_0x3ea004(0x649)]===_0x13e584);_0x55f0cf&&_0x55f0cf[_0x3ea004(0x764)]&&_0x3a5c66++;});const _0x325a7c=_0x46ca47>0x0?_0x3a5c66/_0x46ca47:0x0,_0x72b7eb=_0x56e165>0x0?_0x63f135/_0x56e165-_0xd84105/_0x56e165:0x0;_0x4b2640[_0x578085]={'p':_0x325a7c,'r':_0x72b7eb,'upperGroupResponders':_0x5f2a88,'lowerGroupResponders':_0x4dad3b};}),{'perQuestionStats':_0x4b2640,'overallGroups':{'upperGroupNames':_0xf408cc,'lowerGroupNames':_0x584f00}};}function drag(_0x414794){const _0x28b4c4=_0x27ad1b;if(draggedSvgElement){_0x414794[_0x28b4c4(0x14f)]();const _0x4eb60c=draggedSvgElement[_0x28b4c4(0x6f3)],_0x3cc76d=getPointerPosition(_0x4eb60c,_0x414794),_0x2a639a=_0x4eb60c[_0x28b4c4(0x555)]['baseVal'];let _0x1ede56=_0x3cc76d['x']-svgOffset['x'],_0x18f288=_0x3cc76d['y']-svgOffset['y'];const _0x419d7b=draggedSvgElement[_0x28b4c4(0x3f2)]();_0x1ede56=Math[_0x28b4c4(0x130)](_0x2a639a['x'],Math[_0x28b4c4(0x60b)](_0x1ede56,_0x2a639a['x']+_0x2a639a['width']-_0x419d7b[_0x28b4c4(0x766)])),_0x18f288=Math[_0x28b4c4(0x130)](_0x2a639a['y'],Math[_0x28b4c4(0x60b)](_0x18f288,_0x2a639a['y']+_0x2a639a['height']-_0x419d7b['height'])),draggedSvgElement[_0x28b4c4(0x654)](null,'x',_0x1ede56),draggedSvgElement[_0x28b4c4(0x654)](null,'y',_0x18f288);}}function endDrag(_0x2ce2f2){draggedSvgElement=null;}function handleSvgEditClick(_0x455b13){const _0x567062=_0x27ad1b;if(_0x455b13[_0x567062(0xa7d)][_0x567062(0x25c)][_0x567062(0x841)](_0x567062(0x4e8))){const _0x365405=_0x455b13['target'][_0x567062(0x9f6)][_0x567062(0x351)],_0x192c19=_0x455b13[_0x567062(0x13e)],_0x30c579=_0x192c19['querySelector']('#'+_0x365405);_0x30c579&&_0x30c579[_0x567062(0x525)](),_0x455b13[_0x567062(0xa7d)][_0x567062(0x525)]();}}function handleEditQuestion(_0x4826af){const _0x351912=_0x27ad1b,_0xd6f2f6=_0x4826af[_0x351912(0x13e)],_0x187aba=_0xd6f2f6['dataset'][_0x351912(0x118)],_0x3eb3b7=currentQuizData[_0x351912(0x4aa)][_0x187aba],_0x3ee8c5=document[_0x351912(0xa9a)](_0x351912(0xa31)+_0x187aba),_0x275647=document[_0x351912(0xa9a)](_0x351912(0x55a)+_0x187aba),_0x2ee8fc=document[_0x351912(0xa9a)](_0x351912(0x2fc)+_0x187aba);if(_0xd6f2f6[_0x351912(0x415)][_0x351912(0x203)]('fa-pen')){_0xd6f2f6[_0x351912(0x415)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0xd6f2f6['title']='บันทึกการแก้ไข';if(_0x3ee8c5)_0x3ee8c5[_0x351912(0x341)]=!![];if(_0x275647)_0x275647[_0x351912(0x341)]=!![];if(_0x2ee8fc){const _0x4466c2=_0x2ee8fc['querySelector']('svg');if(_0x4466c2){const _0x72e123=_0x4466c2[_0x351912(0x4e0)](_0x351912(0x428));_0x72e123['forEach']((_0x4caa44,_0x2e5939)=>{const _0x31db0d=_0x351912,_0x4d837b=_0x31db0d(0x153)+_0x187aba+'-'+_0x2e5939;_0x4caa44['id']=_0x4d837b,_0x4caa44['classList'][_0x31db0d(0x2bd)](_0x31db0d(0x219)),_0x4caa44[_0x31db0d(0x8f0)]['cursor']=_0x31db0d(0x9cc);const _0x5bc115=document[_0x31db0d(0xa16)](_0x31db0d(0x6cb),_0x31db0d(0x2d9)),_0x3276ff=_0x4caa44[_0x31db0d(0x3f2)]();_0x5bc115[_0x31db0d(0x76c)]('cx',String(_0x3276ff['x']+_0x3276ff['width']+0x5)),_0x5bc115['setAttribute']('cy',String(_0x3276ff['y']+_0x3276ff[_0x31db0d(0x739)]/0x2-0x5)),_0x5bc115[_0x31db0d(0x76c)]('r','5'),_0x5bc115['setAttribute'](_0x31db0d(0x2f8),_0x31db0d(0xfe)),_0x5bc115[_0x31db0d(0x76c)](_0x31db0d(0xa6a),_0x31db0d(0x4e8)),_0x5bc115['dataset']['targetId']=_0x4d837b,_0x4caa44[_0x31db0d(0x3de)](_0x5bc115);}),_0x4466c2[_0x351912(0x234)](_0x351912(0x92b),startDrag),_0x4466c2[_0x351912(0x234)](_0x351912(0x8d3),drag),_0x4466c2[_0x351912(0x234)](_0x351912(0x9b0),endDrag),_0x4466c2[_0x351912(0x234)](_0x351912(0x979),endDrag),_0x4466c2[_0x351912(0x234)](_0x351912(0x7fc),startDrag,{'passive':![]}),_0x4466c2[_0x351912(0x234)](_0x351912(0x59b),drag,{'passive':![]}),_0x4466c2[_0x351912(0x234)](_0x351912(0x4d9),endDrag),_0x4466c2[_0x351912(0x234)](_0x351912(0xad8),endDrag),_0x4466c2[_0x351912(0x234)](_0x351912(0x4be),handleSvgEditClick);}}if(_0x3ee8c5)_0x3ee8c5[_0x351912(0xb15)]();}else{_0xd6f2f6[_0x351912(0x415)]=_0x351912(0x526),_0xd6f2f6[_0x351912(0x983)]='แก้ไขข้อนี้';if(_0x3ee8c5){_0x3ee8c5[_0x351912(0x341)]=![];const _0x18c316=_0x3eb3b7['questionType']||currentQuizData[_0x351912(0x447)];_0x18c316===_0x351912(0x62a)?_0x3eb3b7['stem']=_0x3ee8c5[_0x351912(0x3f9)][_0x351912(0xb7f)](_0x3ee8c5[_0x351912(0x3f9)][_0x351912(0x7a3)]('.')+0x2)[_0x351912(0x2b0)]():_0x3eb3b7[_0x351912(0xac2)]=_0x3ee8c5[_0x351912(0x3f9)]['substring'](_0x3ee8c5[_0x351912(0x3f9)][_0x351912(0x7a3)]('.')+0x2)['trim']();}_0x275647&&(_0x275647[_0x351912(0x341)]=![],_0x3eb3b7['explanation']=_0x275647[_0x351912(0x3f9)]);if(_0x2ee8fc){const _0x1e25c3=_0x2ee8fc[_0x351912(0x46b)](_0x351912(0x854));if(_0x1e25c3){const _0x168e2b=_0x1e25c3['cloneNode'](!![]);_0x168e2b[_0x351912(0x4e0)](_0x351912(0x426))[_0x351912(0x50c)](_0x3e5a74=>_0x3e5a74['remove']()),_0x168e2b['querySelectorAll'](_0x351912(0x66d))[_0x351912(0x50c)](_0x3c410e=>{const _0x34ed81=_0x351912;_0x3c410e[_0x34ed81(0x25c)][_0x34ed81(0x525)](_0x34ed81(0x219)),_0x3c410e[_0x34ed81(0x8f0)][_0x34ed81(0x8cf)]=_0x34ed81(0x9d9),_0x3c410e[_0x34ed81(0x34f)]('id');}),_0x3eb3b7[_0x351912(0x56d)]=_0x168e2b[_0x351912(0xfa)],_0x1e25c3['removeEventListener'](_0x351912(0x92b),startDrag),_0x1e25c3['removeEventListener'](_0x351912(0x8d3),drag),_0x1e25c3['removeEventListener'](_0x351912(0x9b0),endDrag),_0x1e25c3[_0x351912(0x966)](_0x351912(0x979),endDrag),_0x1e25c3['removeEventListener'](_0x351912(0x7fc),startDrag),_0x1e25c3[_0x351912(0x966)](_0x351912(0x59b),drag),_0x1e25c3['removeEventListener'](_0x351912(0x4d9),endDrag),_0x1e25c3[_0x351912(0x966)](_0x351912(0xad8),endDrag),_0x1e25c3['removeEventListener'](_0x351912(0x4be),handleSvgEditClick),_0x1e25c3[_0x351912(0x4e0)]('.delete-svg-btn')[_0x351912(0x50c)](_0x45f36e=>_0x45f36e[_0x351912(0x525)]()),_0x1e25c3[_0x351912(0x4e0)](_0x351912(0x66d))[_0x351912(0x50c)](_0x4f0918=>{const _0x156362=_0x351912;_0x4f0918['classList'][_0x156362(0x525)](_0x156362(0x219)),_0x4f0918[_0x156362(0x8f0)]['cursor']=_0x156362(0x9d9);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0xf46758){const _0x17a077=_0x27ad1b,_0x547bc8=document[_0x17a077(0xa9a)](_0x17a077(0x941)),_0x245134=document['getElementById'](_0x17a077(0x7e0));_0x245134['innerHTML']=_0x17a077(0x76d),_0x547bc8[_0x17a077(0x25c)][_0x17a077(0x525)](_0x17a077(0x864));try{const _0x5c9414=doc(db,_0x17a077(0x827)+appId+_0x17a077(0xb2f),_0xf46758),_0x26d387=await getDoc(_0x5c9414);if(!_0x26d387[_0x17a077(0x539)]())throw new Error(_0x17a077(0x16b));currentEditingQuizData={'id':_0xf46758,..._0x26d387[_0x17a077(0x4b8)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x2cfaed){console['error'](_0x17a077(0x78d),_0x2cfaed),showMessage(_0x17a077(0x992)),_0x547bc8[_0x17a077(0x25c)][_0x17a077(0x2bd)](_0x17a077(0x864));}}function renderQuizEditor(_0x471bbf){const _0x379caa=_0x27ad1b;document['getElementById'](_0x379caa(0x7e3))[_0x379caa(0x589)]=_0x471bbf[_0x379caa(0x21a)];const _0x1bb55c=document[_0x379caa(0xa9a)](_0x379caa(0x7e0));let _0x43b53f=_0x471bbf[_0x379caa(0x4aa)][_0x379caa(0x821)]((_0x3eee70,_0x3ed251)=>{const _0x2c95b7=_0x379caa;let _0x1a7345='';const _0x264153=_0x3eee70[_0x2c95b7(0x5fe)]||_0x471bbf[_0x2c95b7(0x447)];switch(_0x264153){case'multiple_choice':const _0x107620=(_0x3eee70[_0x2c95b7(0x559)]||[])['map']((_0x1f9703,_0x1fc3f6)=>_0x2c95b7(0x4b1)+_0x3ed251+_0x2c95b7(0x4c3)+_0x1fc3f6+'\x22\x20'+(_0x1fc3f6===_0x3eee70[_0x2c95b7(0xa18)]?'checked':'')+_0x2c95b7(0xa05)+_0x1f9703+_0x2c95b7(0x9c0))['join']('');_0x1a7345=_0x2c95b7(0x197)+_0x107620+_0x2c95b7(0x53f);break;case _0x2c95b7(0xa97):_0x1a7345=_0x2c95b7(0x6d0)+(_0x3eee70['idealAnswer']||'')+_0x2c95b7(0xa74);break;case _0x2c95b7(0x9c7):_0x1a7345=_0x2c95b7(0x5a5)+_0x3ed251+_0x2c95b7(0x2f1)+(_0x3eee70[_0x2c95b7(0x8cd)]===!![]?'checked':'')+_0x2c95b7(0x5dc)+_0x3ed251+_0x2c95b7(0xa45)+(_0x3eee70['correctAnswer']===![]?_0x2c95b7(0x23a):'')+_0x2c95b7(0x8ab);break;case _0x2c95b7(0x62a):_0x1a7345=_0x2c95b7(0x8c1)+(_0x3eee70[_0x2c95b7(0xa66)]||'')+_0x2c95b7(0x1fa);break;}const _0x5060e6=_0x3eee70['questionText']||_0x3eee70[_0x2c95b7(0x856)]||'';return _0x2c95b7(0x40f)+_0x3ed251+_0x2c95b7(0x458)+_0x264153+_0x2c95b7(0x5a1)+(_0x3ed251+0x1)+'\x20('+_0x264153+_0x2c95b7(0x508)+_0x5060e6+_0x2c95b7(0x4a2)+_0x1a7345+_0x2c95b7(0x3b2);})['join']('');_0x1bb55c[_0x379caa(0x415)]=_0x43b53f,_0x1bb55c[_0x379caa(0x4e0)]('.ai-fix-question-btn')['forEach'](_0x33e3ab=>{const _0x28b2b1=_0x379caa;_0x33e3ab[_0x28b2b1(0x234)](_0x28b2b1(0x4be),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x3dc321){const _0x3eec34=_0x27ad1b,_0x3d7971=_0x3dc321[_0x3eec34(0x13e)],_0x5258bf=_0x3d7971[_0x3eec34(0x997)](_0x3eec34(0x693));if(!_0x5258bf)return;const _0x1422a1=parseInt(_0x5258bf[_0x3eec34(0x9f6)]['qIndex'],0xa);if(isNaN(_0x1422a1)||!currentEditingQuizData[_0x3eec34(0x4aa)][_0x1422a1]){showMessage(_0x3eec34(0x99d));return;}const _0x30d3da=currentEditingQuizData[_0x3eec34(0x4aa)][_0x1422a1];_0x3d7971[_0x3eec34(0x415)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>',_0x3d7971[_0x3eec34(0xb12)]=!![];const _0x24097d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20'+JSON[_0x3eec34(0xa1a)](_0x30d3da)+_0x3eec34(0x2e7);let _0x4c9d43;const _0x51e190=_0x30d3da[_0x3eec34(0x5fe)]||currentEditingQuizData[_0x3eec34(0x447)];switch(_0x51e190){case'short_answer':_0x4c9d43={'type':_0x3eec34(0xb47),'properties':{'questionText':{'type':_0x3eec34(0xb86)},'idealAnswer':{'type':_0x3eec34(0xb86)},'explanation':{'type':_0x3eec34(0xb86)},'imageCode':{'type':_0x3eec34(0xb86)}},'required':[_0x3eec34(0xac2),_0x3eec34(0x4af),_0x3eec34(0x735)]};break;case'multiple_choice':default:_0x4c9d43={'type':_0x3eec34(0xb47),'properties':{'questionText':{'type':_0x3eec34(0xb86)},'options':{'type':_0x3eec34(0x863),'items':{'type':_0x3eec34(0xb86)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText','options',_0x3eec34(0xa18),'explanation']};break;}try{let _0x2aba2b=await callAnalysisApi(_0x24097d,_0x4c9d43);_0x2aba2b[_0x3eec34(0x559)]&&Array[_0x3eec34(0x47a)](_0x2aba2b[_0x3eec34(0x559)])&&(_0x2aba2b[_0x3eec34(0x559)]=_0x2aba2b['options'][_0x3eec34(0x821)](_0x26ab84=>typeof _0x26ab84===_0x3eec34(0x6ac)?_0x26ab84[_0x3eec34(0x9da)](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0x26ab84)),_0x30d3da[_0x3eec34(0x56d)]&&_0x30d3da[_0x3eec34(0x56d)][_0x3eec34(0x203)](_0x3eec34(0x838))&&(_0x2aba2b['imageCode']=''),currentEditingQuizData['questions'][_0x1422a1]={..._0x30d3da,..._0x2aba2b},renderQuizEditor(currentEditingQuizData),showMessage(_0x3eec34(0x494));}catch(_0x5a061d){console[_0x3eec34(0x4a0)]('AI\x20Fix\x20Error:',_0x5a061d),showMessage(_0x3eec34(0x401)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x15d4a9=_0x27ad1b,_0x5baebb=document[_0x15d4a9(0xa9a)](_0x15d4a9(0xa53));_0x5baebb['disabled']=!![],_0x5baebb[_0x15d4a9(0x415)]=_0x15d4a9(0x46e);try{const _0x1c9e66=document['getElementById'](_0x15d4a9(0x7e3))[_0x15d4a9(0x589)],_0x497b3e=document[_0x15d4a9(0x4e0)](_0x15d4a9(0x693));let _0x598271=[];const _0x55dd82=Array[_0x15d4a9(0x39f)](_0x497b3e)[_0x15d4a9(0x821)]((_0x2b3ef5,_0x4e97f3)=>{const _0x514960=_0x15d4a9,_0x579afe=_0x2b3ef5[_0x514960(0x9f6)][_0x514960(0x120)],_0x1c662d=_0x2b3ef5['querySelector'](_0x514960(0x34e))[_0x514960(0x589)]['replace'](/\n/g,'<br>');let _0x12b496={'questionType':_0x579afe};const _0x3caf64=currentEditingQuizData[_0x514960(0x4aa)][_0x4e97f3];switch(_0x579afe){case _0x514960(0xb9a):_0x12b496[_0x514960(0xac2)]=_0x1c662d;const _0x4929ad=_0x2b3ef5['querySelectorAll'](_0x514960(0x76a));_0x12b496[_0x514960(0x559)]=Array[_0x514960(0x39f)](_0x4929ad)[_0x514960(0x821)](_0xc98db3=>_0xc98db3['value']);const _0x3d9b13=_0x2b3ef5[_0x514960(0x46b)](_0x514960(0xafb));_0x12b496[_0x514960(0xa18)]=_0x3d9b13?parseInt(_0x3d9b13[_0x514960(0x589)]):0x0;break;case'short_answer':_0x12b496['questionText']=_0x1c662d,_0x12b496[_0x514960(0x4af)]=_0x2b3ef5[_0x514960(0x46b)](_0x514960(0x13d))[_0x514960(0x589)];break;case'true_false':_0x12b496[_0x514960(0xac2)]=_0x1c662d;const _0x28b350=_0x2b3ef5[_0x514960(0x46b)](_0x514960(0xafb));_0x12b496[_0x514960(0x8cd)]=_0x28b350?_0x28b350['value']===_0x514960(0xaa9):!![];break;case'matching_item':_0x12b496[_0x514960(0x856)]=_0x1c662d;const _0x8fde91=_0x2b3ef5[_0x514960(0x46b)](_0x514960(0xaf9));_0x12b496[_0x514960(0xa66)]=_0x8fde91?_0x8fde91[_0x514960(0x589)]:'',_0x598271[_0x514960(0x2b6)](_0x12b496[_0x514960(0xa66)]);break;default:_0x12b496['questionText']=_0x1c662d;break;}return{..._0x3caf64,..._0x12b496};});_0x598271[_0x15d4a9(0x7dc)]>0x0&&_0x55dd82[_0x15d4a9(0x50c)](_0x4698d2=>{const _0x3b7cba=_0x15d4a9;_0x4698d2['questionType']===_0x3b7cba(0x62a)&&(_0x4698d2[_0x3b7cba(0x1fc)]=_0x598271);});const _0x15a314=currentEditingQuizData['id'],_0x693418=doc(db,_0x15d4a9(0x827)+appId+_0x15d4a9(0xb2f),_0x15a314);await updateDoc(_0x693418,{'topic':_0x1c9e66,'questions':_0x55dd82}),document[_0x15d4a9(0xa9a)]('quiz-editor-modal')['classList'][_0x15d4a9(0x2bd)](_0x15d4a9(0x864)),showMessage(_0x15d4a9(0x4b7),()=>initiateReGradeProcess(_0x15a314));}catch(_0x3b72bc){console[_0x15d4a9(0x4a0)](_0x15d4a9(0x6b8),_0x3b72bc),showMessage(_0x15d4a9(0x79a));}finally{_0x5baebb['disabled']=![],_0x5baebb[_0x15d4a9(0x415)]=_0x15d4a9(0x533);}}async function initiateReGradeProcess(_0xe9f1fa){const _0x3f0a9b=_0x27ad1b;showMessage(_0x3f0a9b(0x6c1));try{const _0x252594=doc(db,_0x3f0a9b(0x827)+appId+'/public/data/quizzes',_0xe9f1fa),_0x547be2=await getDoc(_0x252594);if(!_0x547be2[_0x3f0a9b(0x539)]())throw new Error(_0x3f0a9b(0x461));const _0x539fc4={'id':_0xe9f1fa,..._0x547be2[_0x3f0a9b(0x4b8)]()},_0x3110e2=collection(db,_0x3f0a9b(0x827)+appId+'/public/data/quizzes',_0xe9f1fa,_0x3f0a9b(0x38c)),_0x169868=await getDocs(_0x3110e2);if(_0x169868[_0x3f0a9b(0x454)]){showMessage(_0x3f0a9b(0x37f));return;}const _0x38b2c7=_0x169868[_0x3f0a9b(0x8e0)]['map'](_0x44e6d4=>reGradeSingleSubmission(_0x44e6d4,_0x539fc4));await Promise['all'](_0x38b2c7);if(_0x539fc4[_0x3f0a9b(0x35a)]){const _0x548d6c=doc(db,_0x3f0a9b(0x827)+appId+_0x3f0a9b(0x98b),_0x539fc4['projectId']),_0xd8708e=await getDoc(_0x548d6c);if(_0xd8708e[_0x3f0a9b(0x539)]()&&_0xd8708e[_0x3f0a9b(0x4b8)]()[_0x3f0a9b(0x161)]){const _0x521af9=_0xd8708e[_0x3f0a9b(0x4b8)]()[_0x3f0a9b(0x161)][_0x3f0a9b(0x821)](_0x4c87a2=>updateStudentProfile(_0x539fc4[_0x3f0a9b(0x35a)],_0x4c87a2));await Promise[_0x3f0a9b(0xab1)](_0x521af9);}}showMessage(_0x3f0a9b(0x5b9)+_0x169868[_0x3f0a9b(0x865)]+_0x3f0a9b(0x2ea));}catch(_0x5b7113){console[_0x3f0a9b(0x4a0)](_0x3f0a9b(0xba5),_0x5b7113),showMessage(_0x3f0a9b(0x247)+_0x5b7113[_0x3f0a9b(0x5a6)]);}}async function reGradeSingleSubmission(_0x46cd00,_0x4e3367){const _0xc2c09a=_0x27ad1b,_0x43dd75=_0x46cd00[_0xc2c09a(0x4b8)](),_0x1d210c=_0x43dd75['studentName'],_0x227f14=_0x43dd75[_0xc2c09a(0x870)]||[],_0x2f68c1=[];for(const _0x13c99f of _0x227f14){let _0x5a30aa=0x0,_0x2b9897=[],_0x566f41=0x0;const _0x24978a=[];for(const _0x58ae5f of _0x13c99f[_0xc2c09a(0x184)]){let _0x39ebc1;_0x58ae5f[_0xc2c09a(0x6e8)]&&(_0x39ebc1=_0x4e3367['questions']['find'](_0x2206f6=>_0x2206f6['id']===_0x58ae5f[_0xc2c09a(0x6e8)]));!_0x39ebc1&&_0x58ae5f['originalQuestionText']&&(_0x39ebc1=_0x4e3367['questions'][_0xc2c09a(0x3d5)](_0x9d527d=>(_0x9d527d[_0xc2c09a(0x856)]||_0x9d527d[_0xc2c09a(0xac2)])===_0x58ae5f['originalQuestionText']));let _0x313a4b=![];if(_0x39ebc1){const _0x1c4918=_0x39ebc1['questionType']||_0x4e3367[_0xc2c09a(0x447)];switch(_0x1c4918){case _0xc2c09a(0xb9a):if(_0x39ebc1['options']&&_0x39ebc1['correctAnswerIndex']<_0x39ebc1['options'][_0xc2c09a(0x7dc)]){const _0x47a3de=_0x39ebc1[_0xc2c09a(0x559)][_0x39ebc1[_0xc2c09a(0xa18)]];_0x313a4b=_0x58ae5f['answerText']===_0x47a3de;}break;case _0xc2c09a(0x9c7):const _0x1f28b4=_0x58ae5f[_0xc2c09a(0xa90)]===!![]||_0x58ae5f[_0xc2c09a(0xa90)]===_0xc2c09a(0xaa9);_0x313a4b=_0x1f28b4===_0x39ebc1['correctAnswer'];break;case _0xc2c09a(0x62a):_0x313a4b=_0x58ae5f[_0xc2c09a(0xa90)]===_0x39ebc1[_0xc2c09a(0xa66)];break;case _0xc2c09a(0xa97):_0x313a4b=await gradeShortAnswer(_0x58ae5f[_0xc2c09a(0xa90)],_0x39ebc1);break;default:_0x313a4b=_0x58ae5f[_0xc2c09a(0x764)];break;}}if(_0x313a4b){_0x5a30aa++,_0x566f41++;if(_0x566f41===0x3)_0x2b9897[_0xc2c09a(0x2b6)](BADGES[_0xc2c09a(0x56f)]['id']);}else _0x566f41=0x0;_0x24978a[_0xc2c09a(0x2b6)]({..._0x58ae5f,'isCorrect':_0x313a4b});}let _0x45a088=_0x5a30aa*0xa;_0x5a30aa===_0x4e3367[_0xc2c09a(0x4aa)][_0xc2c09a(0x7dc)]&&(_0x45a088+=0x32,_0x2b9897['push'](BADGES['PERFECT_SCORE']['id'])),_0x2f68c1['push']({..._0x13c99f,'score':_0x5a30aa,'points':_0x45a088,'badges':Array[_0xc2c09a(0x39f)](new Set(_0x2b9897)),'answers':_0x24978a});}const _0x520cba=_0x2f68c1[_0xc2c09a(0x7dc)]>0x0?_0x2f68c1[0x0][_0xc2c09a(0x8b3)]:0x0,_0x294f60=Math[_0xc2c09a(0x130)](..._0x2f68c1[_0xc2c09a(0x821)](_0x25a298=>_0x25a298['score'])),_0xf62aa6=_0x2f68c1[_0xc2c09a(0x7dc)]>0x0?_0x2f68c1[_0x2f68c1['length']-0x1][_0xc2c09a(0x8b3)]:0x0,_0x4b1e1a=_0x2f68c1[_0xc2c09a(0x7dc)]>0x0?_0x2f68c1[_0x2f68c1[_0xc2c09a(0x7dc)]-0x1]['points']:0x0,_0x9d5431=doc(db,_0xc2c09a(0x827)+appId+_0xc2c09a(0x2c4)+_0x4e3367['id']+_0xc2c09a(0x4d3),_0x1d210c);await updateDoc(_0x9d5431,{'attempts':_0x2f68c1,'firstScore':_0x520cba,'bestScore':_0x294f60,'latestScore':_0xf62aa6,'points':_0x4b1e1a});}function cleanupQuizOptions(_0x207718){const _0x55ee0d=_0x27ad1b,_0x39c1cf=(_0x4a808d,_0x5ba318)=>_0x5ba318===0x0?_0x4a808d:_0x39c1cf(_0x5ba318,_0x4a808d%_0x5ba318),_0x23bff7=_0x3c591f=>{const _0x34a579=_0x5f3a;if(typeof _0x3c591f!=='string')return null;_0x3c591f=_0x3c591f[_0x34a579(0x2b0)]();const _0x998088=_0x3c591f['split'](/[ /]/)['filter'](_0x4ceaeb=>_0x4ceaeb!=='');if(_0x998088[_0x34a579(0x7dc)]===0x3)return parseInt(_0x998088[0x0])+parseInt(_0x998088[0x1])/parseInt(_0x998088[0x2]);else{if(_0x998088[_0x34a579(0x7dc)]===0x2)return parseInt(_0x998088[0x0])/parseInt(_0x998088[0x1]);else{if(_0x998088[_0x34a579(0x7dc)]===0x1&&!isNaN(_0x998088[0x0]))return parseFloat(_0x998088[0x0]);}}return null;},_0x4e08a9=_0x28e84d=>{const _0x3ec721=_0x5f3a;if(typeof _0x28e84d!=='string')return _0x28e84d;const _0x4d00ac=_0x28e84d[_0x3ec721(0x33b)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x4d00ac){const _0x36fed5=parseInt(_0x4d00ac[0x1]);let _0x269ddf=parseInt(_0x4d00ac[0x2]),_0x7e96c5=parseInt(_0x4d00ac[0x3]);const _0x3303f5=_0x39c1cf(_0x269ddf,_0x7e96c5);_0x269ddf/=_0x3303f5,_0x7e96c5/=_0x3303f5;if(_0x7e96c5===0x1)return(_0x36fed5+_0x269ddf)[_0x3ec721(0x7cb)]();return _0x36fed5+'\x20'+_0x269ddf+'/'+_0x7e96c5;}return _0x28e84d;};return _0x207718&&_0x207718['questions']&&_0x207718[_0x55ee0d(0x4aa)][_0x55ee0d(0x50c)](_0x39d6a2=>{const _0x311eef=_0x55ee0d;if(_0x39d6a2[_0x311eef(0x5fe)]===_0x311eef(0xb9a)&&_0x39d6a2[_0x311eef(0x559)]){const _0x79a27d=new Map(),_0x57fcdf=_0x39d6a2[_0x311eef(0x559)][_0x39d6a2[_0x311eef(0xa18)]];_0x39d6a2[_0x311eef(0x559)][_0x311eef(0x50c)](_0x4e92f9=>{const _0x3c1c12=_0x311eef,_0x49a5c1=_0x4e08a9(_0x4e92f9),_0x455397=_0x23bff7(_0x49a5c1);_0x455397!==null&&!_0x79a27d['has'](_0x455397)&&_0x79a27d[_0x3c1c12(0x72f)](_0x455397,_0x49a5c1);}),_0x39d6a2[_0x311eef(0x559)]=Array[_0x311eef(0x39f)](_0x79a27d[_0x311eef(0x989)]());const _0x49712f=_0x39d6a2[_0x311eef(0x559)][_0x311eef(0x361)](_0x317ffc=>_0x317ffc===_0x4e08a9(_0x57fcdf));_0x39d6a2[_0x311eef(0xa18)]=_0x49712f!==-0x1?_0x49712f:0x0;}}),_0x207718;}function showGameStartConfirmationModal(_0x445de8,_0x2d1746,_0x4c7d2f){const _0x2e3613=_0x27ad1b,_0x409e9b=document[_0x2e3613(0xa9a)]('confirm-game-start-modal');document[_0x2e3613(0xa9a)](_0x2e3613(0x608))[_0x2e3613(0xa0d)]=_0x2e3613(0x375)+_0x4c7d2f,document[_0x2e3613(0xa9a)](_0x2e3613(0x8da))[_0x2e3613(0x589)]=_0x445de8,document['getElementById'](_0x2e3613(0x2fe))[_0x2e3613(0x589)]=_0x2d1746,document[_0x2e3613(0xa9a)](_0x2e3613(0x3d9))[_0x2e3613(0x23a)]=!![],_0x409e9b['classList'][_0x2e3613(0x525)](_0x2e3613(0x864));}async function saveGameResultsAsSubmissions(_0x55b975){const _0x7caeb3=_0x27ad1b;console['log'](_0x7caeb3(0x191),_0x55b975);const _0x2a146b=_0x55b975['quizId'];let _0x55484a=[];if(_0x55b975[_0x7caeb3(0x7af)])_0x55484a=Object[_0x7caeb3(0x5d9)](_0x55b975[_0x7caeb3(0x7af)])[_0x7caeb3(0x821)](([_0x104931,_0x52e6aa])=>({'name':_0x104931,..._0x52e6aa}));else{if(_0x55b975[_0x7caeb3(0x27b)])Object[_0x7caeb3(0x989)](_0x55b975['groups'])[_0x7caeb3(0x50c)](_0x458c26=>{const _0x51b1a6=_0x7caeb3;_0x458c26[_0x51b1a6(0x29c)][_0x51b1a6(0x50c)](_0x1b07bd=>{const _0x59b5bb=_0x51b1a6;_0x55484a[_0x59b5bb(0x2b6)]({'name':_0x1b07bd,'score':_0x458c26[_0x59b5bb(0x8b3)]});});});else _0x55b975['responses']&&Object['entries'](_0x55b975[_0x7caeb3(0x653)])[_0x7caeb3(0x50c)](([_0x3c0701,_0x3a35a9])=>{const _0x330d97=_0x7caeb3;_0x55484a[_0x330d97(0x2b6)]({'name':_0x3c0701,..._0x3a35a9});});}if(_0x55484a[_0x7caeb3(0x7dc)]===0x0){console[_0x7caeb3(0x484)](_0x7caeb3(0xb41));return;}const _0x145ac2=_0x55b975[_0x7caeb3(0x150)]?.[_0x7caeb3(0x4aa)]['length']||currentQuizData[_0x7caeb3(0x4aa)][_0x7caeb3(0x7dc)],_0x58d18a=writeBatch(db);for(const _0x571286 of _0x55484a){const _0x52c943=_0x571286[_0x7caeb3(0x8b3)]||0x0,_0x27fa81=doc(db,_0x7caeb3(0x827)+appId+_0x7caeb3(0x2c4)+_0x2a146b+_0x7caeb3(0x4d3),_0x571286[_0x7caeb3(0x352)]),_0x4a3eaa=(_0x571286[_0x7caeb3(0x184)]||[])[_0x7caeb3(0x558)](_0x460925=>_0x460925[_0x7caeb3(0x764)])[_0x7caeb3(0x7dc)],_0x557866={'score':_0x4a3eaa,'points':_0x52c943,'badges':_0x571286[_0x7caeb3(0xa01)]||[],'submittedAt':new Date()[_0x7caeb3(0x61f)](),'answers':(_0x571286[_0x7caeb3(0x184)]||[])[_0x7caeb3(0x821)](_0x68576c=>({'questionId':_0x68576c['questionId'],'answer':_0x68576c['answer'],'answerText':_0x68576c[_0x7caeb3(0xa0a)],'isCorrect':_0x68576c[_0x7caeb3(0x764)],'originalQuestionText':_0x68576c[_0x7caeb3(0x649)],'wasConfident':_0x68576c['wasConfident']}))},_0x575247=await getDoc(_0x27fa81),_0x359842=_0x575247[_0x7caeb3(0x539)]()?_0x575247[_0x7caeb3(0x4b8)]():{},_0x2eeaa3=_0x359842[_0x7caeb3(0x796)]||0x0,_0x35282f=_0x359842['attempts']||[],_0x54174c={'studentName':_0x571286[_0x7caeb3(0x352)],'totalQuestions':_0x145ac2,'attempts':arrayUnion(_0x557866),'latestScore':_0x4a3eaa,'points':_0x52c943,'latestSubmittedAt':_0x557866[_0x7caeb3(0x321)],'bestScore':Math[_0x7caeb3(0x130)](_0x2eeaa3,_0x4a3eaa),'firstScore':_0x35282f[_0x7caeb3(0x7dc)]===0x0?_0x4a3eaa:_0x359842['firstScore']||0x0};_0x58d18a[_0x7caeb3(0x72f)](_0x27fa81,_0x54174c,{'merge':!![]});}try{await _0x58d18a['commit'](),showMessage('บันทึกผลการเล่นเกมของ\x20'+_0x55484a[_0x7caeb3(0x7dc)]+_0x7caeb3(0x348));const _0x2f5c2b=_0x55b975[_0x7caeb3(0x150)]?.['projectId']||currentQuizData?.[_0x7caeb3(0x35a)]||currentProjectId;if(_0x2f5c2b){const _0x1e6209=[...new Set(_0x55484a[_0x7caeb3(0x821)](_0x1c90ff=>_0x1c90ff[_0x7caeb3(0x352)]))];for(const _0x395caa of _0x1e6209){await updateStudentProfile(_0x2f5c2b,_0x395caa);}}}catch(_0x1df084){console[_0x7caeb3(0x4a0)]('Error\x20saving\x20game\x20results:',_0x1df084),showMessage(_0x7caeb3(0x635));}}async function saveQuiz(_0x25b477=null,_0x162846=null){const _0x2b6934=_0x27ad1b,_0x110d00=_0x25b477||currentProjectId;if(!_0x110d00){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x2b6934(0x4aa)]||!userId){showMessage(_0x2b6934(0x5cb));return;}const _0x4ac0e7=document['getElementById']('save-quiz-btn');_0x4ac0e7[_0x2b6934(0xb12)]=!![],_0x4ac0e7[_0x2b6934(0x415)]=_0x2b6934(0x46e);const _0x50e9c5=document[_0x2b6934(0xa9a)](_0x2b6934(0x95b))[_0x2b6934(0x23a)];let _0x5bb7d6=document[_0x2b6934(0xa9a)](_0x2b6934(0x3e5))[_0x2b6934(0x3f9)][_0x2b6934(0x2b0)]();_0x50e9c5&&!_0x5bb7d6[_0x2b6934(0x2d6)](_0x2b6934(0x542))&&(_0x5bb7d6='(ก่อนเรียน)\x20'+_0x5bb7d6);try{const _0x64b3ff={'resultsDisplay':document[_0x2b6934(0xa9a)](_0x2b6934(0x1d4))[_0x2b6934(0x589)],'shuffle':document[_0x2b6934(0xa9a)]('shuffle-setting-select')[_0x2b6934(0x589)],'timerMode':document[_0x2b6934(0xa9a)](_0x2b6934(0x5ae))['value'],'timerDuration':parseInt(document[_0x2b6934(0xa9a)](_0x2b6934(0x926))['value'])||0xa,'passingScore':parseInt(document[_0x2b6934(0xa9a)](_0x2b6934(0x499))[_0x2b6934(0x589)])||0x0,'isAdaptive':document['getElementById'](_0x2b6934(0x6c5))['checked'],'loopUntilPass':document['getElementById'](_0x2b6934(0x2b4))[_0x2b6934(0x23a)]},_0x3047c4=(currentQuizData[_0x2b6934(0x4aa)]||[])[_0x2b6934(0x821)]((_0x4fe787,_0x56a411)=>{const _0x199d69=_0x2b6934,_0xb97842=document[_0x199d69(0xa9a)](_0x199d69(0x3ed))['value'],_0x1011aa={'id':'q_'+Date[_0x199d69(0x680)]()+'_'+_0x56a411,'questionText':_0x4fe787[_0x199d69(0xac2)]||'','explanation':_0x4fe787[_0x199d69(0x735)]||'ไม่มีคำอธิบาย','questionType':_0x4fe787[_0x199d69(0x5fe)]||_0xb97842,'imageCode':_0x4fe787['imageCode']||null};return(_0x1011aa[_0x199d69(0x5fe)]===_0x199d69(0xb9a)||_0x1011aa['questionType']===_0x199d69(0x9ff)||_0x1011aa['questionType']===_0x199d69(0x628)&&_0x4fe787[_0x199d69(0x559)])&&(_0x1011aa[_0x199d69(0x559)]=_0x4fe787[_0x199d69(0x559)]||[],_0x1011aa[_0x199d69(0xa18)]=_0x4fe787[_0x199d69(0xa18)]!==undefined?_0x4fe787[_0x199d69(0xa18)]:0x0),(_0x1011aa['questionType']===_0x199d69(0xa97)||_0x1011aa[_0x199d69(0x5fe)]===_0x199d69(0x7c8)||_0x1011aa[_0x199d69(0x5fe)]===_0x199d69(0x628)&&_0x4fe787[_0x199d69(0x4af)])&&(_0x1011aa['idealAnswer']=_0x4fe787[_0x199d69(0x4af)]||''),_0x1011aa[_0x199d69(0x5fe)]==='true_false'&&(_0x1011aa[_0x199d69(0x8cd)]=_0x4fe787[_0x199d69(0x8cd)]===!![]),_0x1011aa['questionType']===_0x199d69(0x62a)&&(_0x1011aa[_0x199d69(0x856)]=_0x4fe787[_0x199d69(0x856)]||'',_0x1011aa[_0x199d69(0xa66)]=_0x4fe787[_0x199d69(0xa66)]||'',_0x1011aa['allResponses']=_0x4fe787[_0x199d69(0x1fc)]||[]),_0x1011aa;}),_0x30d6e1={'topic':_0x5bb7d6,'quizType':currentQuizData[_0x2b6934(0x447)]||'multiple_choice','questions':_0x3047c4,'projectId':_0x110d00,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x2b6934(0x3cc),'settings':_0x64b3ff,'quizMode':_0x50e9c5?_0x2b6934(0x933):_0x2b6934(0x4c9),'pairedQuizId':null,'lessonPlan':null};let _0x2196cd;while(!![]){_0x2196cd=Math[_0x2b6934(0xaac)](0x3e8+Math['random']()*0x2328)['toString']();const _0x74194a=await getDoc(doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x2196cd));if(!_0x74194a[_0x2b6934(0x539)]())break;}await setDoc(doc(db,_0x2b6934(0x827)+appId+'/public/data/quizzes',_0x2196cd),_0x30d6e1);if(_0x162846&&currentBlueprintProjectId){console['log'](_0x2b6934(0x633)+_0x2196cd+_0x2b6934(0x159)+_0x162846);try{const _0x3190b3=doc(db,_0x2b6934(0x827)+appId+_0x2b6934(0x65b),currentBlueprintProjectId);await updateDoc(_0x3190b3,{[_0x2b6934(0x35b)+_0x162846+_0x2b6934(0x33d)]:arrayUnion(_0x2196cd)});}catch(_0x55e935){console[_0x2b6934(0x4a0)](_0x2b6934(0x383),_0x55e935);}}currentQuizData['settings']=_0x64b3ff,currentQuizData['id']=_0x2196cd;const _0x4cbcbd=document['getElementById'](_0x2b6934(0x5dd));_0x4cbcbd[_0x2b6934(0x415)]=_0x2b6934(0x66b)+_0x2196cd+_0x2b6934(0xb85),document[_0x2b6934(0xa9a)]('copy-quiz-id-btn')[_0x2b6934(0x234)](_0x2b6934(0x4be),()=>copyTextToClipboard(_0x2196cd,_0x2b6934(0x48f))),document['getElementById'](_0x2b6934(0x376))[_0x2b6934(0x234)](_0x2b6934(0x4be),()=>handleStartLiveRace(_0x2196cd)),document[_0x2b6934(0xa9a)](_0x2b6934(0x69f))['addEventListener']('click',()=>startPresentation(currentQuizData)),document[_0x2b6934(0xa9a)](_0x2b6934(0x40d))['addEventListener']('click',startAdminTest),showMessage(_0x2b6934(0xb77));}catch(_0x521c50){console['error'](_0x2b6934(0x751),_0x521c50),showMessage(_0x2b6934(0x9c5));}finally{_0x4ac0e7['disabled']=![],_0x4ac0e7[_0x2b6934(0x415)]='<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส';}}function promptForProjectAndSave(){const _0x519a7b=_0x27ad1b,_0x2435e2=document['getElementById'](_0x519a7b(0x5f1)),_0x5bdfc7=document[_0x519a7b(0xa9a)](_0x519a7b(0x687)),_0x35b06e=_0x2435e2[_0x519a7b(0x46b)]('h3'),_0x2dbaec=document[_0x519a7b(0xa9a)]('confirm-move-quiz-btn');_0x35b06e[_0x519a7b(0xa0d)]=_0x519a7b(0x397),_0x2dbaec[_0x519a7b(0xa0d)]=_0x519a7b(0x277);allProjects[_0x519a7b(0x7dc)]===0x0?(_0x5bdfc7[_0x519a7b(0x415)]=_0x519a7b(0x2e3),_0x2dbaec[_0x519a7b(0xb12)]=!![]):(_0x5bdfc7[_0x519a7b(0x415)]=allProjects[_0x519a7b(0x821)](_0x282453=>_0x519a7b(0x82c)+_0x282453['id']+'\x22>'+_0x282453[_0x519a7b(0x5a8)]+_0x519a7b(0x125))[_0x519a7b(0x4ad)](''),_0x2dbaec[_0x519a7b(0xb12)]=![]);_0x2435e2[_0x519a7b(0x25c)][_0x519a7b(0x525)](_0x519a7b(0x864));const _0x24c8db=()=>{const _0x47f65f=_0x519a7b,_0x1d32ba=_0x5bdfc7[_0x47f65f(0x589)];_0x1d32ba?(currentProjectId=_0x1d32ba,_0x2435e2[_0x47f65f(0x25c)][_0x47f65f(0x2bd)](_0x47f65f(0x864)),saveQuiz(),_0x35b06e[_0x47f65f(0xa0d)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x2dbaec[_0x47f65f(0xa0d)]='ย้าย',_0x2dbaec[_0x47f65f(0x966)](_0x47f65f(0x4be),_0x24c8db),_0x2dbaec[_0x47f65f(0x234)](_0x47f65f(0x4be),confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x2dbaec[_0x519a7b(0x966)](_0x519a7b(0x4be),confirmMoveQuiz),_0x2dbaec[_0x519a7b(0x234)](_0x519a7b(0x4be),_0x24c8db);}function copyTextToClipboard(_0x321e18,_0x668bc5){const _0x102fb0=_0x27ad1b,_0x1964ba=document['createElement']('textarea');_0x1964ba['value']=_0x321e18,_0x1964ba['style'][_0x102fb0(0x7c4)]=_0x102fb0(0x25f),_0x1964ba['style'][_0x102fb0(0x199)]='0',document[_0x102fb0(0x7fa)][_0x102fb0(0x59e)](_0x1964ba),_0x1964ba['focus'](),_0x1964ba[_0x102fb0(0x496)]();try{const _0x4fcc75=document[_0x102fb0(0x881)](_0x102fb0(0x68e));showMessage(_0x4fcc75?_0x668bc5:_0x102fb0(0xb67));}catch(_0x192353){showMessage('คัดลอกไม่สำเร็จ'),console['error'](_0x102fb0(0x883),_0x192353);}document[_0x102fb0(0x7fa)]['removeChild'](_0x1964ba);}function listenForProjectQuizzes(_0x40d08f){const _0x35ca5f=_0x27ad1b,_0x4b6ee9=collection(db,'artifacts/'+appId+_0x35ca5f(0xb2f)),_0x3e17a9=query(_0x4b6ee9,where('projectId','==',_0x40d08f));unsubscribeQuizzesListener=onSnapshot(_0x3e17a9,async _0xf5c1e8=>{const _0x456ecd=_0x35ca5f;allQuizzes=_0xf5c1e8[_0x456ecd(0x8e0)]['map'](_0x4c1e9e=>({'id':_0x4c1e9e['id'],..._0x4c1e9e[_0x456ecd(0x4b8)]()})),renderQuizzes();},_0xd57108=>{const _0x3efbfa=_0x35ca5f;console[_0x3efbfa(0x4a0)](_0x3efbfa(0x54a),_0xd57108),document[_0x3efbfa(0xa9a)]('project-quizzes-list')[_0x3efbfa(0x415)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x31f47c=_0x27ad1b,_0x4022aa=document[_0x31f47c(0xa9a)](_0x31f47c(0x7a1)),_0x867cae=document[_0x31f47c(0xa9a)](_0x31f47c(0x8ee))[_0x31f47c(0x589)][_0x31f47c(0x90c)]();let _0x188810;currentProjectId===_0x31f47c(0x2f3)?_0x188810=starredQuizzes:_0x188810=allQuizzes;let _0xe0adc2=_0x188810['filter'](_0x5a270a=>_0x5a270a[_0x31f47c(0x21a)][_0x31f47c(0x90c)]()[_0x31f47c(0x203)](_0x867cae));_0xe0adc2['sort']((_0x52e429,_0x4c222d)=>new Date(_0x4c222d[_0x31f47c(0x5b1)])-new Date(_0x52e429[_0x31f47c(0x5b1)]));if(_0xe0adc2[_0x31f47c(0x7dc)]===0x0){_0x4022aa['innerHTML']=_0x31f47c(0x55d);return;}const _0xd5c7c0={},_0x2e1822=_0xe0adc2['map'](async _0x31536e=>{const _0x128aaa=_0x31f47c,_0x512a96=collection(db,_0x128aaa(0x827)+appId+_0x128aaa(0x2c4)+_0x31536e['id']+_0x128aaa(0x4d3)),_0x2dfe32=await getDocs(_0x512a96);_0xd5c7c0[_0x31536e['id']]=_0x2dfe32[_0x128aaa(0x865)];});await Promise[_0x31f47c(0xab1)](_0x2e1822);let _0x28a6b3='';_0xe0adc2[_0x31f47c(0x50c)](_0x2444ec=>{const _0x3a60c8=_0x31f47c,_0x233464=_0xd5c7c0[_0x2444ec['id']]||0x0,_0x5de951=_0x2444ec[_0x3a60c8(0xb84)]||_0x3a60c8(0x3cc),_0x5c27f3=_0x2444ec[_0x3a60c8(0x335)]?.[_0x3a60c8(0x1db)]||_0x3a60c8(0x49f);let _0x2cc3b7='',_0x405e37='';const _0x435d22=new Date();let _0x2294ef=_0x5de951;if(_0x5de951===_0x3a60c8(0x6a7)){const _0x5bf99c=_0x2444ec[_0x3a60c8(0xabe)]?new Date(_0x2444ec[_0x3a60c8(0xabe)]):null,_0x4f1326=_0x2444ec[_0x3a60c8(0x44e)]?new Date(_0x2444ec[_0x3a60c8(0x44e)]):null;if(_0x4f1326&&_0x435d22>_0x4f1326)_0x2294ef=_0x3a60c8(0x261);else _0x5bf99c&&_0x435d22<_0x5bf99c?_0x2294ef='scheduled_pending':_0x2294ef='active';}switch(_0x2294ef){case'inactive':_0x2cc3b7=_0x3a60c8(0x7ab),_0x405e37=_0x3a60c8(0xb2e);break;case _0x3a60c8(0x65f):_0x2cc3b7='รอเปิด',_0x405e37='text-blue-700\x20bg-blue-100';break;case _0x3a60c8(0x3cc):_0x2cc3b7=_0x5c27f3!==_0x3a60c8(0x49f)?_0x3a60c8(0x6ab):_0x3a60c8(0x39a),_0x405e37=_0x3a60c8(0xa42);break;default:_0x2cc3b7=_0x3a60c8(0x310),_0x405e37='text-green-700\x20bg-green-100';break;}let _0x3f5af8='';const _0x3bebf6={'day':_0x3a60c8(0xa14),'month':_0x3a60c8(0xa14),'year':_0x3a60c8(0x61b),'hour':_0x3a60c8(0xa14),'minute':_0x3a60c8(0xa14),'hour12':![]};if(_0x5de951===_0x3a60c8(0x6a7)){if(_0x2444ec[_0x3a60c8(0xabe)])_0x3f5af8+=_0x3a60c8(0x9d1)+new Date(_0x2444ec[_0x3a60c8(0xabe)])[_0x3a60c8(0x5fc)](_0x3a60c8(0x64b),_0x3bebf6)+_0x3a60c8(0x323);if(_0x2444ec[_0x3a60c8(0x44e)])_0x3f5af8+=_0x3a60c8(0x1b3)+new Date(_0x2444ec[_0x3a60c8(0x44e)])['toLocaleString'](_0x3a60c8(0x64b),_0x3bebf6)+'</p>';}let _0x532cdd='';if(_0x2444ec[_0x3a60c8(0x960)]){const _0x4c2129=allQuizzes[_0x3a60c8(0x3d5)](_0x1dfb3a=>_0x1dfb3a['id']===_0x2444ec[_0x3a60c8(0x960)]);if(_0x4c2129){let _0xf84a13,_0x11446e;new Date(_0x2444ec['createdAt'])<new Date(_0x4c2129[_0x3a60c8(0x5b1)])?(_0xf84a13=_0x2444ec['id'],_0x11446e=_0x4c2129['id']):(_0xf84a13=_0x4c2129['id'],_0x11446e=_0x2444ec['id']),_0x532cdd+=_0x3a60c8(0x897)+_0x11446e+_0x3a60c8(0x4fa)+_0xf84a13+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x2444ec['quizMode']===_0x3a60c8(0x933)&&(_0x532cdd+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2444ec['id']+_0x3a60c8(0x154));if(_0x2444ec[_0x3a60c8(0x112)]===_0x3a60c8(0x933)&&_0x233464>0x0)_0x532cdd+=_0x3a60c8(0x581)+_0x2444ec['id']+_0x3a60c8(0x141);else!_0x2444ec[_0x3a60c8(0x960)]&&_0x2444ec['quizMode']!=='pre-test'&&_0x233464>0x0&&(_0x532cdd+=_0x3a60c8(0x581)+_0x2444ec['id']+_0x3a60c8(0x223));let _0x11f220='';_0x2444ec[_0x3a60c8(0x960)]?_0x11f220=_0x3a60c8(0x357)+_0x2444ec['id']+_0x3a60c8(0xb3d):_0x11f220='<button\x20data-quiz-id=\x22'+_0x2444ec['id']+_0x3a60c8(0x9a4),_0x28a6b3+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0x2444ec['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x2444ec[_0x3a60c8(0x21a)]+_0x3a60c8(0x3c2)+_0x2444ec[_0x3a60c8(0x4aa)][_0x3a60c8(0x7dc)]+'\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x2444ec[_0x3a60c8(0x5b1)])[_0x3a60c8(0x5fc)](_0x3a60c8(0x64b))+_0x3a60c8(0xb5b)+_0x233464+_0x3a60c8(0x9e7)+_0x3f5af8+_0x3a60c8(0x875)+_0x405e37+'\x22>'+_0x2cc3b7+_0x3a60c8(0x1f9)+_0x2444ec['id']+_0x3a60c8(0x69b)+_0x2444ec['id']+_0x3a60c8(0x8d9)+(_0x2444ec['isStarred']?_0x3a60c8(0x59f):'far\x20fa-star')+_0x3a60c8(0x6a1)+_0x532cdd+_0x3a60c8(0x393)+_0x2444ec['id']+_0x3a60c8(0x545)+_0x2444ec['id']+_0x3a60c8(0x18a)+_0x2444ec['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2444ec['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2444ec['id']+'\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2444ec['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2444ec['id']+_0x3a60c8(0x1cc)+_0x2444ec['topic']+_0x3a60c8(0xadc)+_0x2444ec['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2444ec['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x11f220+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2444ec['id']+_0x3a60c8(0x198)+_0x2444ec['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2444ec['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2444ec['id']+_0x3a60c8(0x6b1)+_0x2444ec['id']+_0x3a60c8(0xa6b)+_0x2444ec['id']+_0x3a60c8(0x412)+_0x2444ec['id']+'\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x2444ec['id']+_0x3a60c8(0x1cc)+_0x2444ec[_0x3a60c8(0x21a)]+_0x3a60c8(0x490)+_0x2444ec['id']+_0x3a60c8(0x373);}),_0x4022aa[_0x31f47c(0x415)]=_0x28a6b3,document[_0x31f47c(0x4e0)](_0x31f47c(0x769))['forEach'](_0x3aa053=>{const _0xc4be51=_0x31f47c;_0x3aa053[_0xc4be51(0x234)](_0xc4be51(0x4be),()=>{const _0x2b6ffd=_0xc4be51,_0x6e9c27=_0x3aa053[_0x2b6ffd(0x9f6)][_0x2b6ffd(0x65d)];showQuizDetailView(_0x6e9c27);});});}async function handleUnpairQuiz(_0x3d9f73){const _0x9c55b5=_0x27ad1b,_0x1f885b=allQuizzes['find'](_0x846a68=>_0x846a68['id']===_0x3d9f73);if(!_0x1f885b||!_0x1f885b[_0x9c55b5(0x960)]){showMessage(_0x9c55b5(0xa34));return;}showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?',async()=>{const _0x2c4cf2=_0x9c55b5;try{const _0xc51656=doc(db,_0x2c4cf2(0x827)+appId+_0x2c4cf2(0xb2f),_0x3d9f73),_0x4441fd=doc(db,_0x2c4cf2(0x827)+appId+'/public/data/quizzes',_0x1f885b[_0x2c4cf2(0x960)]),_0x51972b=writeBatch(db);_0x51972b[_0x2c4cf2(0x8f4)](_0xc51656,{'pairedQuizId':null}),_0x51972b[_0x2c4cf2(0x8f4)](_0x4441fd,{'pairedQuizId':null}),await _0x51972b[_0x2c4cf2(0x675)](),showMessage('ยกเลิกการจับคู่สำเร็จ');}catch(_0xc2592c){console[_0x2c4cf2(0x4a0)](_0x2c4cf2(0x4a3),_0xc2592c),showMessage(_0x2c4cf2(0xb18));}});}function formatAndPrintLessonPlan(_0x1575d9,_0x10104a){const _0x22ed20=_0x27ad1b,_0x7890fd=window[_0x22ed20(0x524)]('',_0x22ed20(0x940)),_0x18873c=_0x22ed20(0x173)+_0x10104a['topic']+_0x22ed20(0x33c)+_0x10104a['topic']+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1575d9['learningGaps'][_0x22ed20(0x821)](_0x1fb82b=>_0x22ed20(0x4ef)+_0x1fb82b+_0x22ed20(0x1c7))[_0x22ed20(0x4ad)]('')+_0x22ed20(0xa04)+_0x1575d9[_0x22ed20(0x362)]+_0x22ed20(0x2c3)+_0x1575d9[_0x22ed20(0xa19)][_0x22ed20(0x821)](_0xcb56c6=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0xcb56c6['question']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20'+_0xcb56c6[_0x22ed20(0x47b)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x22ed20(0x4ad)]('')+_0x22ed20(0xadb);_0x7890fd[_0x22ed20(0x2ed)][_0x22ed20(0x180)](_0x18873c),_0x7890fd[_0x22ed20(0x2ed)][_0x22ed20(0x14a)](),_0x7890fd[_0x22ed20(0x89a)]=function(){setTimeout(()=>{const _0x485eec=_0x5f3a;_0x7890fd[_0x485eec(0x3a0)]();},0x3e8);};}async function handleAiFixFormula(_0x542e30){const _0x277d33=_0x27ad1b,_0x22d70f=document['querySelector']('.question-editor-item[data-q-index=\x22'+_0x542e30+'\x22]');if(!_0x22d70f)return;const _0xd722b0=_0x22d70f[_0x277d33(0x9f6)][_0x277d33(0x120)],_0x330677=_0x22d70f[_0x277d33(0x46b)](_0x277d33(0xb8e));let _0x5beb56={'question':_0x22d70f[_0x277d33(0x46b)](_0x277d33(0x34e))[_0x277d33(0x589)]};switch(_0xd722b0){case'multiple_choice':_0x5beb56[_0x277d33(0x559)]=Array[_0x277d33(0x39f)](_0x22d70f[_0x277d33(0x4e0)]('input[type=\x22text\x22]'))[_0x277d33(0x821)](_0x78456a=>_0x78456a[_0x277d33(0x589)]);break;case _0x277d33(0xa97):_0x5beb56[_0x277d33(0x4af)]=_0x22d70f['querySelector'](_0x277d33(0x13d))[_0x277d33(0x589)];break;case _0x277d33(0x62a):_0x5beb56[_0x277d33(0xa66)]=_0x22d70f[_0x277d33(0x46b)](_0x277d33(0xaf9))[_0x277d33(0x589)];break;}_0x330677[_0x277d33(0x415)]=_0x277d33(0x1ed),_0x330677['disabled']=!![];try{const _0x4969c7=_0x277d33(0xb03)+JSON[_0x277d33(0xa1a)](_0x5beb56)+_0x277d33(0x63b),_0x35ab46={'type':_0x277d33(0xb47),'properties':{'fixedData':{'type':_0x277d33(0xb47),'properties':{'question':{'type':'STRING'},'options':{'type':_0x277d33(0x863),'items':{'type':_0x277d33(0xb86)}},'idealAnswer':{'type':_0x277d33(0xb86)},'correctResponse':{'type':'STRING'}},'required':[_0x277d33(0x96c)]}},'required':[_0x277d33(0x45d)]},_0x581527=await callAnalysisApi(_0x4969c7,_0x35ab46);if(_0x581527&&_0x581527['fixedData']){const _0x192341=_0x581527[_0x277d33(0x45d)];_0x22d70f[_0x277d33(0x46b)]('textarea')['value']=_0x192341['question']||_0x5beb56[_0x277d33(0x96c)];switch(_0xd722b0){case _0x277d33(0xb9a):_0x192341['options']&&_0x192341[_0x277d33(0x559)][_0x277d33(0x7dc)]>0x0&&_0x22d70f[_0x277d33(0x4e0)](_0x277d33(0x76a))[_0x277d33(0x50c)]((_0x5af781,_0x420c06)=>{const _0xc23323=_0x277d33;_0x5af781[_0xc23323(0x589)]=_0x192341['options'][_0x420c06]||_0x5beb56[_0xc23323(0x559)][_0x420c06];});break;case _0x277d33(0xa97):_0x22d70f[_0x277d33(0x46b)]('.ideal-answer-input')[_0x277d33(0x589)]=_0x192341[_0x277d33(0x4af)]||_0x5beb56['idealAnswer'];break;case _0x277d33(0x62a):_0x22d70f['querySelector'](_0x277d33(0xaf9))[_0x277d33(0x589)]=_0x192341[_0x277d33(0xa66)]||_0x5beb56[_0x277d33(0xa66)];break;}if(_0x5beb56[_0x277d33(0x96c)]!==_0x192341[_0x277d33(0x96c)])try{const _0x1adc1f=collection(db,_0x277d33(0x827)+appId+_0x277d33(0x922));await addDoc(_0x1adc1f,{'broken':_0x5beb56['question'],'fixed':_0x192341['question'],'createdAt':serverTimestamp()});}catch(_0x9ae9c4){console[_0x277d33(0x4a0)](_0x277d33(0x7fe),_0x9ae9c4);}showMessage(_0x277d33(0x1cf));}else throw new Error(_0x277d33(0x4f3));}catch(_0x59fb0f){console[_0x277d33(0x4a0)](_0x277d33(0x609),_0x59fb0f),showMessage(_0x277d33(0x5b5));}finally{_0x330677[_0x277d33(0x415)]=_0x277d33(0x7aa),_0x330677[_0x277d33(0xb12)]=![];}}async function handleGenerateLessonPlan(_0x1377c4){const _0x3e5f69=_0x27ad1b;showMessage(_0x3e5f69(0xa71));try{const _0x1e6f90=doc(db,_0x3e5f69(0x827)+appId+_0x3e5f69(0xb2f),_0x1377c4),_0x19eacc=await getDoc(_0x1e6f90);if(!_0x19eacc[_0x3e5f69(0x539)]())throw new Error(_0x3e5f69(0x461));const _0x152b6d={'id':_0x1377c4,..._0x19eacc[_0x3e5f69(0x4b8)]()},_0x396e38=collection(db,_0x3e5f69(0x827)+appId+_0x3e5f69(0xb2f),_0x1377c4,_0x3e5f69(0x38c)),_0x6b1f9b=await getDocs(_0x396e38),_0x255f9f=_0x6b1f9b[_0x3e5f69(0x8e0)]['map'](_0x5b69da=>_0x5b69da[_0x3e5f69(0x4b8)]());if(_0x255f9f['length']===0x0)throw new Error('ยังไม่มีนักเรียนส่งงาน');const _0x4d41cf=calculateItemAnalysis(_0x152b6d,_0x255f9f)['perQuestionStats'],_0x2f913a=calculateDistractorAnalysis(_0x152b6d,_0x255f9f),_0x83790f=_0x22249e=>{const _0x25437c=_0x3e5f69;if(!_0x22249e)return'';return _0x22249e[_0x25437c(0x9da)](/\\/g,'\x5c\x5c')[_0x25437c(0x9da)](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x182c3a=_0x3e5f69(0x340);_0x152b6d[_0x3e5f69(0x4aa)]['forEach']((_0x1a29df,_0x5f4105)=>{const _0x36cad3=_0x3e5f69,_0x4de812=_0x4d41cf[_0x5f4105]?.['p'][_0x36cad3(0x32c)](0x2)||_0x36cad3(0x36c),_0x1cbb28=_0x4d41cf[_0x5f4105]?.['r'][_0x36cad3(0x32c)](0x2)||_0x36cad3(0x36c),_0x469a09=_0x83790f(_0x1a29df[_0x36cad3(0xac2)]||_0x1a29df[_0x36cad3(0x856)]);_0x182c3a+=_0x36cad3(0x2e9)+(_0x5f4105+0x1)+_0x36cad3(0x6f1)+_0x4de812+',\x20r='+_0x1cbb28+'):\x20'+_0x469a09+'\x5cn';if(_0x1a29df[_0x36cad3(0x5fe)]==='multiple_choice'&&_0x2f913a[_0x5f4105]){const _0x3b9fdb=_0x2f913a[_0x5f4105],_0x33c9fb=Object[_0x36cad3(0x698)](_0x3b9fdb)['filter'](_0xe1ab66=>parseInt(_0xe1ab66)!==_0x1a29df[_0x36cad3(0xa18)])[_0x36cad3(0xae5)]((_0x45d219,_0x47d834)=>_0x3b9fdb[_0x47d834][_0x36cad3(0x934)]-_0x3b9fdb[_0x45d219][_0x36cad3(0x934)])[0x0];if(_0x33c9fb&&_0x3b9fdb[_0x33c9fb][_0x36cad3(0x934)]>0x0){const _0x55d449=_0x83790f(_0x3b9fdb[_0x33c9fb][_0x36cad3(0x428)]);_0x182c3a+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x55d449+_0x36cad3(0x178);}}});const _0x3b233c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22'+_0x152b6d[_0x3e5f69(0x21a)]+_0x3e5f69(0x269)+_0x182c3a+_0x3e5f69(0x651),_0x405255={'type':'OBJECT','properties':{'learningGaps':{'type':_0x3e5f69(0x863),'items':{'type':_0x3e5f69(0xb86)}},'teachingContent':{'type':_0x3e5f69(0xb86)},'practiceProblems':{'type':_0x3e5f69(0x863),'items':{'type':'OBJECT','properties':{'question':{'type':_0x3e5f69(0xb86)},'solution':{'type':_0x3e5f69(0xb86)}}}}},'required':['learningGaps',_0x3e5f69(0x362),_0x3e5f69(0xa19)]},_0x53499f=await callAnalysisApi(_0x3b233c,_0x405255);await updateDoc(_0x1e6f90,{'lessonPlan':_0x53499f});const _0x1f68d0=_0x3e5f69(0xb83)+_0x152b6d[_0x3e5f69(0x21a)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x53499f['learningGaps'][_0x3e5f69(0x821)](_0x2d6b0f=>'<li>'+_0x2d6b0f+_0x3e5f69(0x1c7))[_0x3e5f69(0x4ad)]('')+_0x3e5f69(0xa95)+_0x53499f['teachingContent']+_0x3e5f69(0xa87)+_0x53499f[_0x3e5f69(0xa19)][_0x3e5f69(0x821)](_0x4e7a27=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x4e7a27[_0x3e5f69(0x96c)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x4e7a27['solution']+_0x3e5f69(0x12f))[_0x3e5f69(0x4ad)]('')+_0x3e5f69(0x2a0);document[_0x3e5f69(0xa9a)](_0x3e5f69(0x86f))[_0x3e5f69(0xa0d)]='แผนการสอน:\x20'+_0x152b6d[_0x3e5f69(0x21a)],document[_0x3e5f69(0xa9a)]('lesson-plan-content')[_0x3e5f69(0x415)]=_0x1f68d0,document[_0x3e5f69(0xa9a)](_0x3e5f69(0x955))[_0x3e5f69(0x25c)][_0x3e5f69(0x525)]('hidden');if(window[_0x3e5f69(0xa63)])MathJax['typesetPromise']();messageModal[_0x3e5f69(0x25c)]['add'](_0x3e5f69(0x864));}catch(_0x40a41d){console[_0x3e5f69(0x4a0)](_0x3e5f69(0x2d4),_0x40a41d),showMessage(_0x3e5f69(0x444)+_0x40a41d['message']);}}async function handleDuplicateQuiz(_0x33167b){const _0xf7e4de=_0x27ad1b;try{const _0x234363=doc(db,_0xf7e4de(0x827)+appId+'/public/data/quizzes',_0x33167b),_0x29d49b=await getDoc(_0x234363);if(_0x29d49b[_0xf7e4de(0x539)]()){const _0x2e01f8=_0x29d49b[_0xf7e4de(0x4b8)]();let _0xaa5b5a='',_0x5764bf=_0xf7e4de(0x4c9),_0x803bda=null;if(_0x2e01f8['quizMode']===_0xf7e4de(0x933)){let _0x42b445=_0x2e01f8[_0xf7e4de(0x21a)][_0xf7e4de(0x9da)](_0xf7e4de(0x542),'')[_0xf7e4de(0x2b0)]();_0xaa5b5a='(หลังเรียน)\x20'+_0x42b445,_0x5764bf='post-test',_0x803bda=_0x33167b;}else _0xaa5b5a=_0xf7e4de(0x8ed)+_0x2e01f8['topic'];const _0xb14721={..._0x2e01f8,'topic':_0xaa5b5a,'createdAt':new Date()[_0xf7e4de(0x61f)](),'quizMode':_0x5764bf,'pairedQuizId':_0x803bda};let _0x2caa23;while(!![]){_0x2caa23=Math['floor'](0x3e8+Math[_0xf7e4de(0x59a)]()*0x2328)[_0xf7e4de(0x7cb)]();const _0x370abc=await getDoc(doc(db,_0xf7e4de(0x827)+appId+_0xf7e4de(0xb2f),_0x2caa23));if(!_0x370abc[_0xf7e4de(0x539)]())break;}const _0x562a3b=doc(db,'artifacts/'+appId+_0xf7e4de(0xb2f),_0x2caa23);await setDoc(_0x562a3b,_0xb14721),_0xb14721['quizMode']==='post-test'&&await updateDoc(_0x234363,{'pairedQuizId':_0x2caa23}),showMessage(_0xf7e4de(0x402));}else throw new Error(_0xf7e4de(0x16a));}catch(_0x2edd12){console[_0xf7e4de(0x4a0)](_0xf7e4de(0x4ab),_0x2edd12),showMessage(_0xf7e4de(0x292));}}async function handleDeleteQuiz(_0x224528,_0x3f2772=!![]){const _0x4f1f05=_0x27ad1b;try{const _0x23ad9b=writeBatch(db),_0x591d10=collection(db,_0x4f1f05(0x827)+appId+_0x4f1f05(0x2c4)+_0x224528+'/submissions'),_0x1fb5a1=await getDocs(_0x591d10);_0x1fb5a1['forEach'](_0x37b5e8=>{const _0x346eec=_0x4f1f05;_0x23ad9b[_0x346eec(0x956)](doc(_0x591d10,_0x37b5e8['id']));});const _0x5479a0=doc(db,'artifacts/'+appId+_0x4f1f05(0xb2f),_0x224528);_0x23ad9b['delete'](_0x5479a0),await _0x23ad9b[_0x4f1f05(0x675)]();try{console[_0x4f1f05(0x484)](_0x4f1f05(0x3ff)+_0x224528+'\x20in\x20all\x20blueprint\x20projects.');const _0xc49cfb=collection(db,_0x4f1f05(0x827)+appId+_0x4f1f05(0x65b)),_0x1e7fa1=await getDocs(_0xc49cfb),_0x5c7c83=[];_0x1e7fa1[_0x4f1f05(0x50c)](_0x2e6d87=>{const _0x5691ad=_0x4f1f05,_0x1a5f44=_0x2e6d87[_0x5691ad(0x4b8)](),_0x5525f7=_0x1a5f44[_0x5691ad(0x580)]||{};let _0x2300fe=![];for(const _0x498e05 in _0x5525f7){const _0xb38e1c=_0x5525f7[_0x498e05];if(_0xb38e1c[_0x5691ad(0x44c)]&&_0xb38e1c[_0x5691ad(0x44c)][_0x5691ad(0x203)](_0x224528)){_0x2300fe=!![];const _0x143d6a=doc(db,_0x5691ad(0x827)+appId+'/public/data/blueprintProjects',_0x2e6d87['id']),_0x9b05bb=updateDoc(_0x143d6a,{[_0x5691ad(0x35b)+_0x498e05+_0x5691ad(0x33d)]:arrayRemove(_0x224528)});_0x5c7c83[_0x5691ad(0x2b6)](_0x9b05bb);}}}),_0x5c7c83[_0x4f1f05(0x7dc)]>0x0&&(await Promise['all'](_0x5c7c83),console[_0x4f1f05(0x484)](_0x4f1f05(0x795)+_0x5c7c83[_0x4f1f05(0x7dc)]+'\x20link(s)\x20for\x20quiz\x20ID:\x20'+_0x224528+'.'));}catch(_0x36987b){console[_0x4f1f05(0x4a0)](_0x4f1f05(0x62f),_0x36987b);}_0x3f2772&&showMessage(_0x4f1f05(0xaed));}catch(_0x176e1a){console['error']('Error\x20deleting\x20quiz:',_0x176e1a),_0x3f2772&&showMessage(_0x4f1f05(0x775));}}async function showQuizDetailView(_0x7590c7){const _0x5c08e9=_0x27ad1b;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x5c08e9(0x99a));try{const _0x10139b=doc(db,_0x5c08e9(0x827)+appId+_0x5c08e9(0xb2f),_0x7590c7),_0x42d0eb=await getDoc(_0x10139b);if(!_0x42d0eb[_0x5c08e9(0x539)]()){showMessage(_0x5c08e9(0x461));return;}const _0x12a87c={'id':_0x42d0eb['id'],..._0x42d0eb[_0x5c08e9(0x4b8)]()};currentQuizData=_0x12a87c;const _0x4ffa44=doc(db,'artifacts/'+appId+_0x5c08e9(0x98b),_0x12a87c[_0x5c08e9(0x35a)]),_0x326530=await getDoc(_0x4ffa44);_0x326530[_0x5c08e9(0x539)]()?(currentProjectData=_0x326530[_0x5c08e9(0x4b8)](),currentProjectId=_0x12a87c[_0x5c08e9(0x35a)]):(currentProjectData={'students':[]},currentProjectId=_0x12a87c[_0x5c08e9(0x35a)]);document[_0x5c08e9(0xa9a)]('results-quiz-title')[_0x5c08e9(0xa0d)]=_0x12a87c[_0x5c08e9(0x21a)],document[_0x5c08e9(0xa9a)]('results-quiz-id-display')[_0x5c08e9(0xa0d)]=_0x7590c7;const _0xee9833=collection(db,_0x5c08e9(0x827)+appId+'/public/data/quizzes',_0x7590c7,_0x5c08e9(0x38c));unsubscribeSubmissionsListener=onSnapshot(_0xee9833,_0x114749=>{const _0x3f2581=_0x5c08e9,_0x266861=_0x114749[_0x3f2581(0x8e0)][_0x3f2581(0x821)](_0x2ec804=>({'id':_0x2ec804['id'],..._0x2ec804['data']()}));currentSubmissions=_0x266861;const _0x5ceb63=_0x266861[_0x3f2581(0x558)](_0x11d7c4=>_0x11d7c4['attempts']&&_0x11d7c4['attempts'][_0x3f2581(0x7dc)]>0x0);renderBehaviorLog(_0x266861),renderAnswerGrid(currentProjectData[_0x3f2581(0x161)],_0x5ceb63,_0x12a87c),renderAnalytics(_0x12a87c,_0x5ceb63),renderQuizResultsTable(currentProjectData['students'],_0x266861,_0x12a87c),renderQuizLeaderboard(_0x5ceb63,_0x12a87c,_0x3f2581(0x84c));}),showView('quiz-results');}catch(_0x2d0cbe){console[_0x5c08e9(0x4a0)](_0x5c08e9(0xb52),_0x2d0cbe),showMessage(_0x5c08e9(0xa39));}}function renderAnswerGrid(_0x44ecb1,_0x2ae4ae,_0x155b80){const _0x247333=_0x27ad1b,_0x213a37=document[_0x247333(0xa9a)](_0x247333(0x47e));if(!_0x213a37)return;if(!_0x44ecb1||_0x44ecb1[_0x247333(0x7dc)]===0x0){_0x213a37[_0x247333(0x415)]=_0x247333(0x8eb);return;}const _0x1a9260=_0x155b80[_0x247333(0x4aa)],_0x3833e6=_0x2ae4ae[_0x247333(0x70d)]((_0x1bc015,_0x187d6c)=>{const _0x29dfb1=_0x247333;return _0x1bc015[_0x187d6c[_0x29dfb1(0x8d6)]]=_0x187d6c,_0x1bc015;},{}),_0x128a2f=_0x57c7e8=>String['fromCharCode'](0x41+_0x57c7e8),_0x1e413f=_0x18dd3a=>{const _0x2fe166=_0x247333,_0x28e72e=_0x18dd3a[_0x2fe166(0x5fe)]||_0x155b80[_0x2fe166(0x447)];switch(_0x28e72e){case'multiple_choice':return _0x18dd3a[_0x2fe166(0x559)]&&_0x18dd3a[_0x2fe166(0x559)][_0x2fe166(0x7dc)]>_0x18dd3a['correctAnswerIndex']?_0x128a2f(_0x18dd3a[_0x2fe166(0xa18)]):'-';case _0x2fe166(0x9c7):const _0xbb7212=_0x18dd3a[_0x2fe166(0x8cd)]===!![]||String(_0x18dd3a[_0x2fe166(0x8cd)])['toLowerCase']()===_0x2fe166(0xaa9);return _0xbb7212?_0x2fe166(0x463):_0x2fe166(0x5d3);case _0x2fe166(0x62a):return _0x18dd3a[_0x2fe166(0xa66)]||'-';case _0x2fe166(0xa97):return'พิมพ์ตอบ';default:return'-';}},_0x21d5e1=(_0xcdbc9,_0x15c74e)=>{const _0x23a5b8=_0x247333;if(_0x15c74e[_0x23a5b8(0xa90)]===null||_0x15c74e[_0x23a5b8(0xa90)]===undefined)return'-';const _0x53cc92=_0xcdbc9['questionType']||_0x155b80[_0x23a5b8(0x447)];switch(_0x53cc92){case _0x23a5b8(0xb9a):const _0x3a31af=_0xcdbc9[_0x23a5b8(0x559)][_0x23a5b8(0x361)](_0x578ab4=>_0x578ab4===_0x15c74e['answerText']);return _0x3a31af!==-0x1?_0x128a2f(_0x3a31af):_0x15c74e[_0x23a5b8(0xa0a)]||'-';case _0x23a5b8(0x9c7):if(_0x15c74e[_0x23a5b8(0xa90)]=='0'||_0x15c74e[_0x23a5b8(0xa90)]===!![]||_0x15c74e[_0x23a5b8(0xa90)]===_0x23a5b8(0xaa9))return _0x23a5b8(0x463);return _0x23a5b8(0x5d3);default:return _0x15c74e[_0x23a5b8(0xa90)];}};let _0x40f697=_0x247333(0x10f)+_0x1a9260['map']((_0x2b110e,_0x58116a)=>_0x247333(0xaa6)+(_0x58116a+0x1)+_0x247333(0x700))[_0x247333(0x4ad)]('')+_0x247333(0x39b)+_0x1a9260[_0x247333(0x821)](_0x4eddc2=>_0x247333(0x343)+_0x1e413f(_0x4eddc2)+'</td>')[_0x247333(0x4ad)]('')+_0x247333(0xb3b);_0x44ecb1[_0x247333(0x50c)](_0x36d904=>{const _0x3ce2a2=_0x247333;_0x40f697+=_0x3ce2a2(0x5ca),_0x40f697+=_0x3ce2a2(0x1bf)+_0x36d904+_0x3ce2a2(0xab3);const _0xf268f8=_0x3833e6[_0x36d904];if(_0xf268f8){const _0x5c1692=_0xf268f8['attempts'][_0xf268f8['attempts'][_0x3ce2a2(0x7dc)]-0x1];_0x1a9260[_0x3ce2a2(0x50c)]((_0x469f3e,_0x472d74)=>{const _0x321b9e=_0x3ce2a2,_0x4f58a7=_0x5c1692[_0x321b9e(0x184)][_0x321b9e(0x3d5)](_0xdee1be=>_0xdee1be[_0x321b9e(0x6e8)]===_0x469f3e['id']);if(_0x4f58a7){let _0x48b51f='';const _0x4657d9=_0x4f58a7[_0x321b9e(0x764)]===!![],_0x531122=_0x4f58a7['wasConfident']===!![]||_0x4f58a7['wasConfident']===_0x321b9e(0xae1);_0x531122?_0x48b51f=_0x4657d9?'bg-green-400\x20text-white\x20font-bold':_0x321b9e(0x778):_0x48b51f=_0x4657d9?_0x321b9e(0x8b5):'bg-red-100',_0x40f697+=_0x321b9e(0x410)+_0x48b51f+'\x22>'+_0x21d5e1(_0x469f3e,_0x4f58a7)+_0x321b9e(0xab3);}else _0x40f697+=_0x321b9e(0x681);});}else _0x40f697+=_0x1a9260['map'](()=>_0x3ce2a2(0x45f))['join']('');_0x40f697+='</tr>';}),_0x40f697+='</tbody></table>',_0x213a37[_0x247333(0x415)]=_0x40f697;}function renderQuizResultsTable(_0x3453cd,_0x3c101e,_0x3d32dc){const _0x3e9125=_0x27ad1b,_0x3db1c0=_0x3c101e[_0x3e9125(0x70d)]((_0x5af147,_0xeaac14)=>{return _0x5af147[_0xeaac14['studentName']]=_0xeaac14,_0x5af147;},{}),_0x4761df=document[_0x3e9125(0x46b)]('#results-table\x20thead\x20tr');_0x4761df&&!_0x4761df[_0x3e9125(0x415)]['includes'](_0x3e9125(0x69e))&&(_0x4761df['innerHTML']+='<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>');const _0x3af3db=document[_0x3e9125(0xa9a)](_0x3e9125(0x4e7));if(!_0x3453cd||_0x3453cd[_0x3e9125(0x7dc)]===0x0){_0x3af3db['innerHTML']=_0x3e9125(0x50b);return;}const _0x5558f5=_0x3d32dc[_0x3e9125(0x585)]===!![],_0x21c20d=_0x3d32dc[_0x3e9125(0x335)]?.['passingScore']??-0x1;let _0x4aa3dc='';_0x3453cd['forEach'](_0x56bf41=>{const _0x50820f=_0x3e9125,_0xef1b3a=_0x3db1c0[_0x56bf41];let _0x2a2d24=_0x50820f(0xb07)+(_0x5558f5?_0x50820f(0x6b0):_0x50820f(0x877))+'\x22>'+(_0x5558f5?'สอบซ่อม':'สอบปกติ')+_0x50820f(0x272);if(_0xef1b3a){if(_0xef1b3a[_0x50820f(0x870)]&&_0xef1b3a[_0x50820f(0x870)][_0x50820f(0x7dc)]>0x0){let _0xe95a22=_0x5558f5?_0xef1b3a[_0x50820f(0x796)]===_0xef1b3a['totalQuestions']:_0x21c20d!==-0x1&&_0xef1b3a['bestScore']>=_0x21c20d;const _0x46409d=_0xe95a22?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x46faca=_0xe95a22?_0x50820f(0x3fe):_0x50820f(0x93e),_0x29520d='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x46409d+'\x22>'+_0x46faca+'</span></td>',_0x1a1b2b='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20('+(_0xef1b3a[_0x50820f(0x870)]?.[_0x50820f(0x7dc)]||0x1)+_0x50820f(0x9e9);_0x4aa3dc+=_0x50820f(0x95f)+_0x56bf41+_0x50820f(0x57e)+_0xef1b3a[_0x50820f(0x796)]+_0x50820f(0x3d6)+_0xef1b3a[_0x50820f(0x7f9)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x29520d+_0x50820f(0x73e)+_0x2a2d24+_0x50820f(0xb81)+_0xef1b3a['firstScore']+'\x20/\x20'+_0xef1b3a[_0x50820f(0x7f9)]+_0x50820f(0x2ef)+_0xef1b3a[_0x50820f(0xa17)]+_0x50820f(0x3d6)+_0xef1b3a[_0x50820f(0x7f9)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>'+(_0xef1b3a['points']||0x0)+_0x50820f(0x25d)+_0x1a1b2b+_0x50820f(0x71b)+new Date(_0xef1b3a['latestSubmittedAt'])[_0x50820f(0x5fc)](_0x50820f(0x64b))+_0x50820f(0x871)+_0x56bf41+_0x50820f(0x19a);}else{const _0x554993='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>';_0x4aa3dc+=_0x50820f(0x29f)+_0x56bf41+_0x50820f(0x8c4)+_0x2a2d24+_0x50820f(0x719)+_0x554993+_0x50820f(0x71b)+new Date(_0xef1b3a[_0x50820f(0x47c)])[_0x50820f(0x5fc)](_0x50820f(0x64b))+_0x50820f(0x413)+_0x56bf41+_0x50820f(0x19a);}}else{const _0x342e3b=_0x50820f(0xafa);_0x4aa3dc+=_0x50820f(0x14e)+_0x56bf41+_0x50820f(0x26b)+_0x2a2d24+_0x50820f(0x1d5)+_0x342e3b+_0x50820f(0x63e);}}),_0x3af3db[_0x3e9125(0x415)]=_0x4aa3dc;}async function confirmRenameQuiz(){const _0x5486f0=_0x27ad1b,_0x52e200=document[_0x5486f0(0xa9a)](_0x5486f0(0x30f))[_0x5486f0(0x589)][_0x5486f0(0x2b0)]();if(!_0x52e200){showMessage(_0x5486f0(0x188));return;}if(!actionTargetId)return;const _0x3c5315=doc(db,_0x5486f0(0x827)+appId+_0x5486f0(0xb2f),actionTargetId);try{await updateDoc(_0x3c5315,{'topic':_0x52e200}),showMessage('เปลี่ยนชื่อแบบทดสอบสำเร็จ'),renameQuizModal[_0x5486f0(0x25c)]['add'](_0x5486f0(0x864)),actionTargetId=null;}catch(_0x5d9d17){console[_0x5486f0(0x4a0)](_0x5486f0(0x5e5),_0x5d9d17),showMessage(_0x5486f0(0x906));}}async function handleMoveQuiz(_0x11e16b){const _0x23a553=_0x27ad1b;actionTargetId=_0x11e16b;const _0x13e0eb=document[_0x23a553(0xa9a)](_0x23a553(0x687));_0x13e0eb[_0x23a553(0x415)]='<option>กำลังโหลดโปรเจค...</option>',moveQuizModal['classList'][_0x23a553(0x525)](_0x23a553(0x864));try{const _0x49353b=collection(db,_0x23a553(0x827)+appId+_0x23a553(0x98b)),_0x2732e1=await getDocs(_0x49353b),_0x5ecb16=_0x2732e1['docs'][_0x23a553(0x821)](_0xddc8e1=>({'id':_0xddc8e1['id'],..._0xddc8e1[_0x23a553(0x4b8)]()})),_0x97bf3a=_0x5ecb16[_0x23a553(0x558)](_0xfd9c67=>_0xfd9c67['id']!==currentProjectId);if(_0x97bf3a[_0x23a553(0x7dc)]===0x0){_0x13e0eb[_0x23a553(0x415)]='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document[_0x23a553(0xa9a)](_0x23a553(0x43f))[_0x23a553(0xb12)]=!![];return;}_0x13e0eb['innerHTML']=_0x97bf3a[_0x23a553(0x821)](_0x4878b1=>_0x23a553(0x82c)+_0x4878b1['id']+'\x22>'+_0x4878b1['projectName']+_0x23a553(0x125))[_0x23a553(0x4ad)](''),document[_0x23a553(0xa9a)]('confirm-move-quiz-btn')['disabled']=![];}catch(_0x4bb9d2){console['error'](_0x23a553(0x7eb),_0x4bb9d2),showMessage(_0x23a553(0xb99)),moveQuizModal[_0x23a553(0x25c)][_0x23a553(0x2bd)](_0x23a553(0x864));}}async function confirmMoveQuiz(){const _0x1de19c=_0x27ad1b,_0x3e2783=document[_0x1de19c(0xa9a)](_0x1de19c(0x687))[_0x1de19c(0x589)];if(!_0x3e2783){showMessage(_0x1de19c(0x84d));return;}if(!actionTargetId)return;const _0x250623=doc(db,_0x1de19c(0x827)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x250623,{'projectId':_0x3e2783}),showMessage(_0x1de19c(0x813)),moveQuizModal[_0x1de19c(0x25c)][_0x1de19c(0x2bd)](_0x1de19c(0x864)),actionTargetId=null;}catch(_0x36d2ef){console[_0x1de19c(0x4a0)](_0x1de19c(0x4a5),_0x36d2ef),showMessage(_0x1de19c(0x55c));}}async function handleQuizSettings(_0x398911){const _0x475266=_0x27ad1b;actionTargetId=_0x398911;const _0x276ab4=doc(db,_0x475266(0x827)+appId+'/public/data/quizzes',_0x398911);try{const _0x47b50c=await getDoc(_0x276ab4);if(_0x47b50c[_0x475266(0x539)]()){const _0x15d49a=_0x47b50c[_0x475266(0x4b8)](),_0xc4555c=_0x15d49a['settings']||{},_0x12e30b=_0x15d49a[_0x475266(0x4aa)][_0x475266(0x7dc)];document[_0x475266(0xa9a)](_0x475266(0x587))['value']=_0xc4555c[_0x475266(0x418)]||'none',document[_0x475266(0xa9a)](_0x475266(0x43c))[_0x475266(0x589)]=_0xc4555c['resultsDisplay']||'show_results_and_answers',document[_0x475266(0xa9a)](_0x475266(0x1ea))[_0x475266(0x589)]=_0xc4555c[_0x475266(0x1db)]||'none',document[_0x475266(0xa9a)](_0x475266(0x386))[_0x475266(0x589)]=_0xc4555c['timerDuration']||0xa,document[_0x475266(0xa9a)](_0x475266(0x32d))[_0x475266(0x589)]=_0xc4555c[_0x475266(0x477)]||Math[_0x475266(0xaac)](_0x12e30b/0x2),document[_0x475266(0xa9a)]('modal-passing-score-input')[_0x475266(0x130)]=_0x12e30b,document['getElementById'](_0x475266(0x8c8))[_0x475266(0x23a)]=_0xc4555c[_0x475266(0x563)]||![],document[_0x475266(0xa9a)](_0x475266(0x429))[_0x475266(0x23a)]=_0xc4555c[_0x475266(0x324)]||![];const _0x233743=_0xc4555c['isConfidenceScoringEnabled']||![];document[_0x475266(0xa9a)](_0x475266(0x52a))[_0x475266(0x23a)]=_0x233743,document['getElementById'](_0x475266(0x8e6))[_0x475266(0x589)]=_0xc4555c[_0x475266(0x985)]||'checkbox';const _0x147589=document[_0x475266(0xa9a)](_0x475266(0xa5d));_0x147589['classList'][_0x475266(0x4a8)]('hidden',!_0x233743),document[_0x475266(0xa9a)](_0x475266(0x1ea))[_0x475266(0xb2a)](new Event(_0x475266(0x436))),quizSettingsModal[_0x475266(0x25c)]['remove'](_0x475266(0x864));}else showMessage(_0x475266(0x461));}catch(_0x3a7853){console[_0x475266(0x4a0)](_0x475266(0x86e),_0x3a7853),showMessage(_0x475266(0x41b));}}async function confirmQuizSettings(){const _0x57fabc=_0x27ad1b;if(!actionTargetId)return;const _0x435349=doc(db,'artifacts/'+appId+_0x57fabc(0xb2f),actionTargetId),_0x3e4ccf={'shuffle':document[_0x57fabc(0xa9a)](_0x57fabc(0x587))['value'],'resultsDisplay':document[_0x57fabc(0xa9a)](_0x57fabc(0x43c))[_0x57fabc(0x589)],'timerMode':document['getElementById']('modal-timer-mode-select')[_0x57fabc(0x589)],'timerDuration':parseInt(document['getElementById'](_0x57fabc(0x386))['value'])||0xa,'passingScore':parseInt(document[_0x57fabc(0xa9a)](_0x57fabc(0x32d))[_0x57fabc(0x589)])||0x0,'isAdaptive':document[_0x57fabc(0xa9a)](_0x57fabc(0x8c8))[_0x57fabc(0x23a)],'loopUntilPass':document[_0x57fabc(0xa9a)]('modal-loop-until-pass-checkbox')[_0x57fabc(0x23a)],'isConfidenceScoringEnabled':document['getElementById'](_0x57fabc(0x52a))[_0x57fabc(0x23a)],'confidenceMode':document[_0x57fabc(0xa9a)]('modal-confidence-mode-select')[_0x57fabc(0x589)]};try{await updateDoc(_0x435349,{'settings':_0x3e4ccf}),showMessage(_0x57fabc(0x572)),quizSettingsModal[_0x57fabc(0x25c)]['add'](_0x57fabc(0x864)),actionTargetId=null;}catch(_0x2d99a6){console[_0x57fabc(0x4a0)]('Error\x20updating\x20quiz\x20settings:',_0x2d99a6),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function confirmQuizStatus(){const _0x219ee6=_0x27ad1b;if(!actionTargetId)return;const _0x3696cb=doc(db,_0x219ee6(0x827)+appId+_0x219ee6(0xb2f),actionTargetId),_0x160020=document[_0x219ee6(0x46b)]('input[name=\x22status-option\x22]:checked');if(!_0x160020){showMessage('กรุณาเลือกสถานะ');return;}const _0x220130=_0x160020['value'];let _0x343885={};if(_0x220130===_0x219ee6(0x3cc)||_0x220130===_0x219ee6(0x261))_0x343885={'status':_0x220130,'startTime':null,'endTime':null};else{if(_0x220130===_0x219ee6(0x51e)){const _0x4a7641=document[_0x219ee6(0xa9a)](_0x219ee6(0x5ba))[_0x219ee6(0x589)],_0x1f7220=document[_0x219ee6(0xa9a)](_0x219ee6(0x6ec))[_0x219ee6(0x589)];if(!_0x4a7641&&!_0x1f7220){showMessage(_0x219ee6(0x96e));return;}_0x343885={'status':'scheduled','startTime':_0x4a7641?new Date(_0x4a7641)['toISOString']():null,'endTime':_0x1f7220?new Date(_0x1f7220)[_0x219ee6(0x61f)]():null};}}try{await updateDoc(_0x3696cb,_0x343885),showMessage(_0x219ee6(0x75b)),quizStatusModal['classList'][_0x219ee6(0x2bd)](_0x219ee6(0x864)),actionTargetId=null;}catch(_0x3c2d0d){console[_0x219ee6(0x4a0)](_0x219ee6(0x2c9),_0x3c2d0d),showMessage(_0x219ee6(0x5b7));}}function listenForStudentProfiles(_0x11d82b){const _0x5f2a21=_0x27ad1b,_0x3ec9cf=collection(db,_0x5f2a21(0x827)+appId+_0x5f2a21(0x4b2)+_0x11d82b+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x3ec9cf,_0x15f1e9=>{const _0x26aba2=_0x5f2a21,_0x567d35=_0x15f1e9[_0x26aba2(0x8e0)]['map'](_0xeeb42d=>_0xeeb42d[_0x26aba2(0x4b8)]());renderLeaderboard(_0x567d35,_0x26aba2(0x7b6));},_0x5cda31=>{const _0x5098e0=_0x5f2a21;console[_0x5098e0(0x4a0)](_0x5098e0(0xa64),_0x5cda31),document['getElementById'](_0x5098e0(0x7b6))['innerHTML']=_0x5098e0(0x538);});}function renderLeaderboard(_0x1cd0dc,_0x3526e5){const _0x58927e=_0x27ad1b,_0x3d58ce=document[_0x58927e(0xa9a)](_0x3526e5);if(!_0x1cd0dc||_0x1cd0dc['length']===0x0){_0x3d58ce['innerHTML']='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>';return;}_0x1cd0dc[_0x58927e(0xae5)]((_0x2eeb2e,_0x4cc522)=>{const _0x1ac693=_0x58927e,_0x1bc07b=(_0x4cc522[_0x1ac693(0x304)]||0x0)-(_0x2eeb2e[_0x1ac693(0x304)]||0x0);if(_0x1bc07b!==0x0)return _0x1bc07b;const _0x436a3d=(_0x4cc522[_0x1ac693(0x731)]?.['specialist']||0x0)-(_0x2eeb2e[_0x1ac693(0x731)]?.['specialist']||0x0);if(_0x436a3d!==0x0)return _0x436a3d;const _0x32bd21=(_0x4cc522[_0x1ac693(0x731)]?.[_0x1ac693(0x7ce)]||0x0)-(_0x2eeb2e['badgesCount']?.[_0x1ac693(0x7ce)]||0x0);if(_0x32bd21!==0x0)return _0x32bd21;const _0x55a6a2=(_0x4cc522[_0x1ac693(0x731)]?.['perfect_score']||0x0)-(_0x2eeb2e[_0x1ac693(0x731)]?.[_0x1ac693(0x5c9)]||0x0);if(_0x55a6a2!==0x0)return _0x55a6a2;const _0x500e46=(_0x4cc522[_0x1ac693(0x731)]?.[_0x1ac693(0x19d)]||0x0)-(_0x2eeb2e[_0x1ac693(0x731)]?.[_0x1ac693(0x19d)]||0x0);if(_0x500e46!==0x0)return _0x500e46;return _0x2eeb2e[_0x1ac693(0x8d6)]['localeCompare'](_0x4cc522['studentName'],'th');});let _0x1d9f12='';_0x1cd0dc['forEach']((_0x4a0d36,_0x50600c)=>{const _0xbfc152=_0x58927e,_0x380339=_0x50600c+0x1,_0x52d487=_0x4a0d36[_0xbfc152(0x731)]||{};let _0x12b4f9='';const _0x31fee3=['specialist',_0xbfc152(0x5c9),_0xbfc152(0x7ce),'quick_thinker'];_0x31fee3[_0xbfc152(0x50c)](_0x3278fb=>{const _0x2da359=_0xbfc152;if(_0x52d487[_0x3278fb]>0x0){const _0x34871f=Object['values'](BADGES)[_0x2da359(0x3d5)](_0x3a83bd=>_0x3a83bd['id']===_0x3278fb);_0x34871f&&(_0x3278fb==='specialist'?_0x12b4f9+=_0x2da359(0xb87)+_0x34871f[_0x2da359(0x352)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x34871f[_0x2da359(0x4ea)]+_0x2da359(0x15d):_0x12b4f9+=_0x2da359(0xb87)+_0x34871f['name']+'\x20('+_0x52d487[_0x3278fb]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x34871f['icon']+_0x2da359(0x8f3)+_0x52d487[_0x3278fb]+_0x2da359(0x97f));}}),_0x1d9f12+=_0xbfc152(0xa27)+_0x380339+_0xbfc152(0x427)+_0x4a0d36[_0xbfc152(0x8d6)]+_0xbfc152(0xb58)+(_0x4a0d36[_0xbfc152(0x304)]||0x0)+_0xbfc152(0x427)+(_0x12b4f9||'-')+_0xbfc152(0x5f9);}),_0x3d58ce[_0x58927e(0x415)]=_0x1d9f12;}function displayLoopScreen(_0x2350b6,_0x3f9ae8,_0x49ea10){const _0x3f81a1=_0x27ad1b;let _0xeaa194='';_0x49ea10!==_0x3f81a1(0x853)&&(_0xeaa194='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0x2350b6+_0x3f81a1(0x3d6)+_0x3f9ae8+_0x3f81a1(0x293));const _0x1ff450=_0x3f81a1(0x3d1)+_0xeaa194+_0x3f81a1(0xa1e);studentResultArea[_0x3f81a1(0x415)]=_0x1ff450,studentResultArea['classList'][_0x3f81a1(0x525)](_0x3f81a1(0x864)),studentQuizArea[_0x3f81a1(0x25c)][_0x3f81a1(0x2bd)]('hidden'),document['getElementById']('retake-quiz-loop-btn')[_0x3f81a1(0x234)](_0x3f81a1(0x4be),()=>{const _0xbba13f=_0x3f81a1;studentResultArea[_0xbba13f(0x25c)][_0xbba13f(0x2bd)](_0xbba13f(0x864)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x581d0a,_0x5b576a,_0x309c19){const _0x86b435=_0x27ad1b,_0x1ebbea=document[_0x86b435(0xa9a)](_0x309c19),_0x24f484=_0x309c19===_0x86b435(0x366),_0xdbb333=_0x5b576a[_0x86b435(0x4aa)][_0x86b435(0x7dc)],_0x591bc5=document['getElementById'](_0x309c19)['closest'](_0x86b435(0x8f7));if(_0x591bc5&&!_0x24f484){const _0xccbee0=_0x591bc5[_0x86b435(0x46b)](_0x86b435(0x59d));_0xccbee0['innerHTML']=_0x86b435(0x1f3);}if(!_0x581d0a||_0x581d0a[_0x86b435(0x7dc)]===0x0){_0x1ebbea[_0x86b435(0x415)]=_0x86b435(0x68c)+(_0x24f484?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x37fca0=[..._0x581d0a];_0x37fca0[_0x86b435(0xae5)]((_0x14f82f,_0xf6dd3c)=>{const _0x391977=_0x86b435;let _0x113974,_0x2752cf;switch(quizLeaderboardSortBy){case _0x391977(0x8d6):_0x113974=_0x14f82f['studentName']||'',_0x2752cf=_0xf6dd3c[_0x391977(0x8d6)]||'';return quizLeaderboardSortOrder===_0x391977(0x982)?_0x113974[_0x391977(0x423)](_0x2752cf,'th'):_0x2752cf[_0x391977(0x423)](_0x113974,'th');case'points':_0x113974=_0x14f82f['points']||0x0,_0x2752cf=_0xf6dd3c[_0x391977(0x206)]||0x0;break;case _0x391977(0x870):_0x113974=_0x14f82f[_0x391977(0x870)]?.[_0x391977(0x7dc)]||0x1,_0x2752cf=_0xf6dd3c[_0x391977(0x870)]?.[_0x391977(0x7dc)]||0x1;break;case _0x391977(0x9f8):_0x113974=new Date(_0x14f82f['latestSubmittedAt']),_0x2752cf=new Date(_0xf6dd3c[_0x391977(0x9f8)]);break;case _0x391977(0x796):default:_0x113974=_0x14f82f[_0x391977(0x796)],_0x2752cf=_0xf6dd3c['bestScore'];break;}if(_0x113974<_0x2752cf)return quizLeaderboardSortOrder===_0x391977(0x982)?-0x1:0x1;if(_0x113974>_0x2752cf)return quizLeaderboardSortOrder===_0x391977(0x982)?0x1:-0x1;return 0x0;});const _0x4f41ea=_0x5b576a['isRemedial']===!![],_0x58390c=_0x5b576a['settings']?.[_0x86b435(0x477)]??-0x1;let _0x31918e='';_0x37fca0[_0x86b435(0x50c)]((_0x318a83,_0x5c54b4)=>{const _0x50b4d2=_0x86b435,_0x396b23=_0x5c54b4+0x1;let _0x3b200a='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x4f41ea||_0x58390c!==-0x1){let _0x2a9788=_0x4f41ea?_0x318a83[_0x50b4d2(0x796)]===_0xdbb333:_0x318a83[_0x50b4d2(0x796)]>=_0x58390c;const _0x2a7ef9=_0x2a9788?_0x50b4d2(0x921):'bg-red-100\x20text-red-800',_0x499a8b=_0x2a9788?_0x50b4d2(0x3fe):_0x50b4d2(0x93e);_0x3b200a='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x2a7ef9+'\x22>'+_0x499a8b+_0x50b4d2(0x272);}const _0xdc9987=_0x318a83['attempts'][_0x318a83[_0x50b4d2(0x870)][_0x50b4d2(0x7dc)]-0x1],_0x449381=(_0xdc9987[_0x50b4d2(0xa01)]||[])['map'](_0x5c1a49=>{const _0x30ded3=_0x50b4d2,_0x24f54f=Object[_0x30ded3(0x989)](BADGES)[_0x30ded3(0x3d5)](_0x11c3d6=>_0x11c3d6['id']===_0x5c1a49);return _0x24f54f?_0x30ded3(0x8a0)+_0x24f54f[_0x30ded3(0x352)]+_0x30ded3(0x3c3)+_0x24f54f['icon']+_0x30ded3(0x93c):'';})['join']('');_0x31918e+=_0x50b4d2(0xb5f)+_0x396b23+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x318a83[_0x50b4d2(0x8d6)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x318a83[_0x50b4d2(0x796)]+_0x50b4d2(0x3d6)+_0xdbb333+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3b200a+_0x50b4d2(0xa94)+(_0x318a83[_0x50b4d2(0x206)]||0x0)+_0x50b4d2(0x432)+(_0x24f484?'':_0x50b4d2(0x9aa)+(_0x318a83[_0x50b4d2(0x870)]?.[_0x50b4d2(0x7dc)]||0x1)+_0x50b4d2(0xab3))+_0x50b4d2(0x7e9)+(_0x24f484?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x318a83[_0x50b4d2(0x9f8)])['toLocaleString'](_0x50b4d2(0x64b))+_0x50b4d2(0xab3))+_0x50b4d2(0xb48)+(_0x449381||'-')+_0x50b4d2(0x855);}),_0x1ebbea[_0x86b435(0x415)]=_0x31918e,_0x591bc5&&!_0x24f484&&_0x591bc5[_0x86b435(0x4e0)](_0x86b435(0x5a2))[_0x86b435(0x50c)](_0xbd8564=>{const _0x3b8cb2=_0x86b435,_0x1dfc62=_0xbd8564['querySelector'](_0x3b8cb2(0x948));if(_0x1dfc62)_0x1dfc62['remove']();_0xbd8564['dataset'][_0x3b8cb2(0xae5)]===quizLeaderboardSortBy&&(_0xbd8564[_0x3b8cb2(0x415)]+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder===_0x3b8cb2(0x982)?'▲':'▼')+_0x3b8cb2(0x5bd));});}async function handleDeleteSubmission(_0x22ac87){const _0x443efa=_0x27ad1b;if(!currentQuizData||!currentQuizData['id']||!_0x22ac87){showMessage(_0x443efa(0x379));return;}showConfirmation(_0x443efa(0x963)+_0x22ac87+'\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง',async()=>{const _0x322e6f=_0x443efa,_0x4af46d=currentQuizData['id'],_0x5f53d5=doc(db,_0x322e6f(0x827)+appId+_0x322e6f(0x2c4)+_0x4af46d+_0x322e6f(0x4d3),_0x22ac87);try{await deleteDoc(_0x5f53d5),showMessage(_0x322e6f(0x5f5)+_0x22ac87+'\x20สำเร็จ');}catch(_0x52a9c0){console[_0x322e6f(0x4a0)](_0x322e6f(0x551),_0x52a9c0),showMessage(_0x322e6f(0x48e));}});}async function handleLoadQuiz(){const _0x3baed6=_0x27ad1b,_0x1f946b=document[_0x3baed6(0xa9a)](_0x3baed6(0x26d)),_0x356cc0=_0x1f946b[_0x3baed6(0x589)][_0x3baed6(0x2b0)]();if(!_0x356cc0){showMessage('กรุณาป้อนรหัสแบบทดสอบ');return;}loadQuizBtn[_0x3baed6(0xb12)]=!![],loadQuizBtn[_0x3baed6(0x415)]=_0x3baed6(0x388);try{const _0x339939=doc(db,'artifacts/'+appId+_0x3baed6(0xb2f),_0x356cc0),_0xa6bbb3=await getDoc(_0x339939);if(!_0xa6bbb3[_0x3baed6(0x539)]()){showMessage(_0x3baed6(0x3f1));return;}currentQuizData={'id':_0xa6bbb3['id'],..._0xa6bbb3[_0x3baed6(0x4b8)]()};const _0x223f85=currentQuizData['status']||_0x3baed6(0x3cc),_0xeeda8a=new Date();if(_0x223f85==='inactive'){showMessage('แบบทดสอบนี้ปิดใช้งานอยู่');return;}if(_0x223f85==='scheduled'){const _0x8ba42e=currentQuizData[_0x3baed6(0xabe)]?new Date(currentQuizData[_0x3baed6(0xabe)]):null,_0x41e471=currentQuizData[_0x3baed6(0x44e)]?new Date(currentQuizData[_0x3baed6(0x44e)]):null;if(_0x8ba42e&&_0xeeda8a<_0x8ba42e){showMessage(_0x3baed6(0x2bb)+_0x8ba42e[_0x3baed6(0x5fc)](_0x3baed6(0x64b),{'hour12':![]}));return;}if(_0x41e471&&_0xeeda8a>_0x41e471){showMessage(_0x3baed6(0x83e));return;}}const _0x236495=currentQuizData[_0x3baed6(0x35a)];currentProjectId=_0x236495;const _0x577c6c=doc(db,'artifacts/'+appId+_0x3baed6(0x98b),_0x236495),_0x230eb9=await getDoc(_0x577c6c);if(!_0x230eb9[_0x3baed6(0x539)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x974660=_0x230eb9[_0x3baed6(0x4b8)]();currentStudentProjectData=_0x974660,displayStudentNameSelector(_0x974660['students'],currentQuizData[_0x3baed6(0x21a)]);}catch(_0x3f0b9b){console[_0x3baed6(0x4a0)](_0x3baed6(0x630),_0x3f0b9b),showMessage(_0x3baed6(0x880));}finally{loadQuizBtn[_0x3baed6(0xb12)]=![],loadQuizBtn['innerHTML']=_0x3baed6(0x678);}}async function handleJoinLiveGame(){const _0x32b43a=_0x27ad1b,_0x52830d=document[_0x32b43a(0xa9a)](_0x32b43a(0x6d6)),_0x43a071=document[_0x32b43a(0xa9a)](_0x32b43a(0x8c2)),_0xc75815=document['getElementById'](_0x32b43a(0x7ff)),_0x443966=_0x52830d[_0x32b43a(0x589)]['trim'](),_0x4d4d54=_0x43a071[_0x32b43a(0x589)][_0x32b43a(0x2b0)]();if(!_0x443966||!_0x4d4d54){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0xc75815['disabled']=!![],_0xc75815[_0x32b43a(0x415)]=_0x32b43a(0x31f);try{const _0x3fd04d=collection(db,_0x32b43a(0x827)+appId+_0x32b43a(0x3d2)),_0x22c4bb=query(_0x3fd04d,where('gamePin','==',_0x443966),where(_0x32b43a(0xb84),'in',['lobby','question'])),_0x48021a=await getDocs(_0x22c4bb);if(_0x48021a[_0x32b43a(0x454)]){showMessage(_0x32b43a(0x84e));return;}const _0x5b8833=_0x48021a[_0x32b43a(0x8e0)][0x0],_0x769ff3=_0x5b8833['data']();currentLiveGameId=_0x5b8833['id'];const _0x3fd92e=_0x769ff3[_0x32b43a(0x65d)],_0x2bea57=doc(db,_0x32b43a(0x827)+appId+'/public/data/quizzes',_0x3fd92e),_0x50f488=await getDoc(_0x2bea57);if(!_0x50f488[_0x32b43a(0x539)]()){showMessage(_0x32b43a(0x305));return;}currentQuizData={'id':_0x50f488['id'],..._0x50f488[_0x32b43a(0x4b8)]()};if(_0x769ff3['players']&&_0x769ff3[_0x32b43a(0x7af)][_0x4d4d54]){const _0xf9edae=_0x769ff3[_0x32b43a(0x7af)][_0x4d4d54];if(_0xf9edae[_0x32b43a(0xb84)]===_0x32b43a(0x261)){_0xc75815['innerHTML']=_0x32b43a(0x186);const _0x3397d0={};_0x3397d0['players.'+_0x4d4d54+_0x32b43a(0x46a)]=_0x32b43a(0x3cc),await updateDoc(doc(db,_0x32b43a(0x827)+appId+_0x32b43a(0x3d2),currentLiveGameId),_0x3397d0),showView(_0x32b43a(0xb00)),currentStudentName=_0x4d4d54,listenForLiveGameUpdates();return;}else{showMessage(_0x32b43a(0x476));return;}}if(_0x769ff3[_0x32b43a(0xb84)]!==_0x32b43a(0x557)){showMessage(_0x32b43a(0xa9b));return;}_0xc75815[_0x32b43a(0x415)]=_0x32b43a(0x748);const _0x39159d={};_0x39159d['players.'+_0x4d4d54]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x32b43a(0x3cc)},await updateDoc(doc(db,_0x32b43a(0x827)+appId+_0x32b43a(0x3d2),currentLiveGameId),_0x39159d),currentStudentName=_0x4d4d54,listenForLiveGameUpdates();}catch(_0xe82cbe){console['error'](_0x32b43a(0xa51),_0xe82cbe),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0xc75815['disabled']=![],_0xc75815[_0x32b43a(0x415)]=_0x32b43a(0x9bc);}}function displayStudentNameSelector(_0x280d5b,_0x535f76){const _0x2b36ba=_0x27ad1b,_0x600360=document['getElementById'](_0x2b36ba(0xab0));document[_0x2b36ba(0xa9a)]('student-quiz-topic')[_0x2b36ba(0xa0d)]=_0x2b36ba(0x32b)+_0x535f76,!_0x280d5b||_0x280d5b[_0x2b36ba(0x7dc)]===0x0?(_0x600360[_0x2b36ba(0x415)]='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0x2b36ba(0xb12)]=!![]):(_0x600360['innerHTML']=_0x2b36ba(0x62d),_0x280d5b[_0x2b36ba(0x50c)](_0xf76579=>{const _0x4052ba=_0x2b36ba,_0x4e7b06=document[_0x4052ba(0x3bf)](_0x4052ba(0x641));_0x4e7b06[_0x4052ba(0x589)]=_0xf76579,_0x4e7b06[_0x4052ba(0xa0d)]=_0xf76579,_0x600360[_0x4052ba(0x59e)](_0x4e7b06);}),startQuizBtn[_0x2b36ba(0xb12)]=![]),studentInitialView[_0x2b36ba(0x25c)][_0x2b36ba(0x2bd)](_0x2b36ba(0x864)),studentNameSelectionView['classList'][_0x2b36ba(0x525)]('hidden');}function shuffleArray(_0x14dba2){const _0x3fb445=_0x27ad1b;for(let _0x22f86c=_0x14dba2[_0x3fb445(0x7dc)]-0x1;_0x22f86c>0x0;_0x22f86c--){const _0x1f6d45=Math[_0x3fb445(0xaac)](Math[_0x3fb445(0x59a)]()*(_0x22f86c+0x1));[_0x14dba2[_0x22f86c],_0x14dba2[_0x1f6d45]]=[_0x14dba2[_0x1f6d45],_0x14dba2[_0x22f86c]];}}function getShuffledQuiz(_0x57119f){const _0x25dd61=_0x27ad1b;let _0x1dbfe9=JSON['parse'](JSON['stringify'](_0x57119f));const _0x1694cc=_0x1dbfe9[_0x25dd61(0x335)]?.[_0x25dd61(0x418)]||_0x25dd61(0x49f);if(_0x1694cc===_0x25dd61(0x49f))return _0x1dbfe9;return(_0x1694cc===_0x25dd61(0x179)||_0x1694cc===_0x25dd61(0x129))&&shuffleArray(_0x1dbfe9['questions']),(_0x1694cc===_0x25dd61(0x20a)||_0x1694cc===_0x25dd61(0x129))&&_0x1dbfe9[_0x25dd61(0x4aa)]['forEach'](_0x2be4dc=>{const _0x32ac96=_0x25dd61,_0x24f9ae=_0x2be4dc[_0x32ac96(0x5fe)]||_0x1dbfe9[_0x32ac96(0x447)];if(_0x2be4dc['options']){let _0x41134f=_0x2be4dc[_0x32ac96(0x559)][_0x32ac96(0x821)]((_0x5aeaf3,_0x1d4677)=>({'text':_0x5aeaf3,'isCorrect':_0x1d4677===_0x2be4dc[_0x32ac96(0xa18)]}));shuffleArray(_0x41134f),_0x2be4dc[_0x32ac96(0x559)]=_0x41134f[_0x32ac96(0x821)](_0x5aaed6=>_0x5aaed6['text']),_0x2be4dc[_0x32ac96(0xa18)]=_0x41134f[_0x32ac96(0x361)](_0x154b6e=>_0x154b6e['isCorrect']);}_0x24f9ae===_0x32ac96(0x62a)&&_0x2be4dc[_0x32ac96(0x1fc)]&&shuffleArray(_0x2be4dc[_0x32ac96(0x1fc)]);}),_0x1dbfe9;}function displayQuizForStudent(_0x2f54cf){const _0x562caf=_0x27ad1b;studentQuizArea[_0x562caf(0x25c)][_0x562caf(0x525)](_0x562caf(0x864)),currentDisplayedQuiz=getShuffledQuiz(_0x2f54cf);currentMode!==_0x562caf(0x521)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x562caf(0x234)](_0x562caf(0x6ef),handleFullscreenChange),document[_0x562caf(0x234)](_0x562caf(0x43b),handleVisibilityChange),enterFullscreen(),window[_0x562caf(0x234)](_0x562caf(0x8d3),resetDimTimer),window[_0x562caf(0x234)](_0x562caf(0x92b),resetDimTimer),window['addEventListener'](_0x562caf(0x7fc),resetDimTimer),window[_0x562caf(0x234)](_0x562caf(0x99c),resetDimTimer),resetDimTimer());const _0x5babec=currentDisplayedQuiz[_0x562caf(0x335)]?.[_0x562caf(0x1db)]||'none';if(_0x5babec==='whole_quiz')renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x562caf(0x335)]['timerDuration']);else _0x5babec===_0x562caf(0xb76)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x370ea9=_0x27ad1b,_0x1fcb40=currentDisplayedQuiz[_0x370ea9(0x335)]?.[_0x370ea9(0x781)]===!![],_0x3d625a=currentDisplayedQuiz[_0x370ea9(0x335)]?.[_0x370ea9(0x985)]||_0x370ea9(0x70b);let _0x32e27f=_0x370ea9(0x3a7)+currentDisplayedQuiz[_0x370ea9(0x21a)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x370ea9(0x521)?_0x370ea9(0x38d):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20';currentDisplayedQuiz[_0x370ea9(0x4aa)][_0x370ea9(0x50c)]((_0x24d880,_0x5d2989)=>{const _0x2df442=_0x370ea9,_0x9a7650=_0x24d880[_0x2df442(0x5fe)]||currentDisplayedQuiz[_0x2df442(0x447)];_0x32e27f+=_0x2df442(0x978);if(_0x9a7650==='matching_item'){}else _0x32e27f+='<p>'+(_0x5d2989+0x1)+'.\x20'+(_0x24d880[_0x2df442(0x5a3)]||_0x24d880[_0x2df442(0xac2)])+_0x2df442(0x323),_0x24d880[_0x2df442(0x56d)]&&(_0x32e27f+=_0x2df442(0x48b)+_0x24d880[_0x2df442(0x56d)]+_0x2df442(0xac7));_0x32e27f+=_0x2df442(0xaf5);switch(_0x9a7650){case _0x2df442(0xa97):_0x32e27f+=_0x2df442(0x339)+_0x5d2989+_0x2df442(0x57b);break;case _0x2df442(0x9c7):_0x32e27f+=_0x2df442(0x82d)+_0x5d2989+_0x2df442(0x6cd)+_0x5d2989+_0x2df442(0x909)+_0x5d2989+_0x2df442(0x556),_0x32e27f+=_0x2df442(0x82d)+_0x5d2989+_0x2df442(0x672)+_0x5d2989+_0x2df442(0xa02)+_0x5d2989+_0x2df442(0x395);break;case _0x2df442(0x62a):_0x32e27f+=_0x2df442(0x9d5)+_0x24d880[_0x2df442(0x856)]+_0x2df442(0x11c)+_0x5d2989+_0x2df442(0x2b1)+_0x24d880['allResponses'][_0x2df442(0x821)](_0xb3f873=>_0x2df442(0x82c)+_0xb3f873+'\x22>'+_0xb3f873+'</option>')[_0x2df442(0x4ad)]('')+_0x2df442(0x994);break;default:_0x32e27f+=_0x24d880['options'][_0x2df442(0x821)]((_0x51bbb7,_0x3f9659)=>_0x2df442(0x6fe)+_0x5d2989+_0x2df442(0x21e)+_0x3f9659+_0x2df442(0x4de)+_0x5d2989+_0x2df442(0x4c3)+_0x3f9659+_0x2df442(0x8aa)+_0x5d2989+'_opt'+_0x3f9659+'\x22>'+_0x51bbb7+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x2df442(0x4ad)]('');break;}_0x32e27f+='</div>',_0x1fcb40&&(_0x32e27f+=_0x2df442(0x3f5),_0x3d625a===_0x2df442(0x8b8)?_0x32e27f+=_0x2df442(0x942)+_0x5d2989+'\x22\x20name=\x22confidence'+_0x5d2989+_0x2df442(0x591)+_0x5d2989+'\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22'+_0x5d2989+'\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x32e27f+=_0x2df442(0x7d6)+_0x5d2989+_0x2df442(0x464)+_0x5d2989+_0x2df442(0x346)+_0x5d2989+_0x2df442(0xac1),_0x32e27f+='</div>'),_0x32e27f+=_0x2df442(0xac7);}),_0x32e27f+=_0x370ea9(0x912),_0x32e27f+=_0x370ea9(0x5b8),studentQuizArea[_0x370ea9(0x415)]=_0x32e27f;if(currentMode===_0x370ea9(0x521)){const _0x346719=document[_0x370ea9(0xa9a)]('cancel-test-btn');if(_0x346719)_0x346719[_0x370ea9(0x234)](_0x370ea9(0x4be),cancelAdminTest);}const _0x22b2b7=document[_0x370ea9(0xa9a)](_0x370ea9(0x3fc));_0x22b2b7&&(_0x22b2b7[_0x370ea9(0x234)]('submit',handleSubmitQuiz),_0x22b2b7[_0x370ea9(0x234)](_0x370ea9(0x4be),_0x4d73eb=>{const _0x24f5a3=_0x370ea9;if(_0x4d73eb[_0x24f5a3(0xa7d)][_0x24f5a3(0x25c)]['contains']('confidence-choice-btn')){const _0x43e16f=_0x4d73eb['target'],_0x398ba0=_0x43e16f[_0x24f5a3(0x9f6)][_0x24f5a3(0x697)],_0x3c5819=_0x43e16f[_0x24f5a3(0x9f6)][_0x24f5a3(0x589)];document['getElementById'](_0x24f5a3(0x770)+_0x398ba0)[_0x24f5a3(0x589)]=_0x3c5819;const _0x2dda8e=_0x43e16f[_0x24f5a3(0x87b)];_0x2dda8e[_0x24f5a3(0x4e0)](_0x24f5a3(0x2b9))[_0x24f5a3(0x50c)](_0x5a3af2=>_0x5a3af2[_0x24f5a3(0x25c)][_0x24f5a3(0x525)]('active')),_0x43e16f['classList'][_0x24f5a3(0x2bd)](_0x24f5a3(0x3cc));}}));if(window[_0x370ea9(0xa63)])window[_0x370ea9(0xa63)]['typesetPromise']([studentQuizArea]);}async function handleSubmitQuiz(_0x35888f){const _0x6bb6e8=_0x27ad1b;if(_0x35888f)_0x35888f[_0x6bb6e8(0x14f)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x48f90c=document[_0x6bb6e8(0xa9a)](_0x6bb6e8(0x3fc));if(!_0x48f90c)return;const _0xdce993=currentDisplayedQuiz[_0x6bb6e8(0x335)]?.['isConfidenceScoringEnabled']===!![],_0x16ed72=currentDisplayedQuiz[_0x6bb6e8(0x335)]?.[_0x6bb6e8(0x985)]||_0x6bb6e8(0x70b);if(_0xdce993&&_0x16ed72==='mandatory'){let _0x16afe1=!![];for(let _0xd63a7a=0x0;_0xd63a7a<currentDisplayedQuiz[_0x6bb6e8(0x4aa)][_0x6bb6e8(0x7dc)];_0xd63a7a++){const _0x249eb5=_0x48f90c[_0x6bb6e8(0x46b)](_0x6bb6e8(0x3ae)+_0xd63a7a);if(!_0x249eb5||_0x249eb5[_0x6bb6e8(0x589)]===''){_0x16afe1=![];break;}}if(!_0x16afe1){showMessage('กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ');return;}}const _0x2e87a5=_0x48f90c['querySelector'](_0x6bb6e8(0xb89)),_0x3e1330=currentDisplayedQuiz[_0x6bb6e8(0x4aa)]['some'](_0x3bb032=>_0x3bb032['questionType']===_0x6bb6e8(0xa97));_0x2e87a5&&(_0x2e87a5['disabled']=!![],_0x2e87a5[_0x6bb6e8(0x415)]=_0x3e1330?_0x6bb6e8(0x27f):_0x6bb6e8(0x4a6));const _0x203c18=new FormData(_0x48f90c),_0x3122bb=currentDisplayedQuiz[_0x6bb6e8(0x4aa)][_0x6bb6e8(0x821)]((_0xc7636c,_0x49b56b)=>{const _0x31fc4f=_0x6bb6e8,_0x100995=_0x203c18[_0x31fc4f(0x758)](_0x31fc4f(0x96c)+_0x49b56b);let _0x5d2882;_0x16ed72==='mandatory'?_0x5d2882=_0x203c18[_0x31fc4f(0x758)](_0x31fc4f(0x28b)+_0x49b56b):_0x5d2882=_0x203c18[_0x31fc4f(0x758)](_0x31fc4f(0x28b)+_0x49b56b)==='on';let _0x84c78e=null;if(_0x100995!==null&&_0x100995!==undefined){const _0x20a99c=_0xc7636c[_0x31fc4f(0x5fe)]||currentDisplayedQuiz[_0x31fc4f(0x447)];_0x20a99c===_0x31fc4f(0xb9a)||_0x20a99c==='fill_in_the_blank'?_0x84c78e=parseInt(_0x100995):_0x84c78e=_0x100995;}return{'answer':_0x84c78e,'wasConfident':_0x5d2882};}),_0x33b901=currentQuizData['id'],_0x1f679b=doc(db,_0x6bb6e8(0x827)+appId+'/public/data/quizzes/'+_0x33b901+'/submissions',currentStudentName),_0x4ca95a=await getDoc(_0x1f679b),_0x56c5ec=_0x4ca95a[_0x6bb6e8(0x539)]()?_0x4ca95a[_0x6bb6e8(0x4b8)]():{},_0x2c0247=_0x56c5ec['attempts']||[];await processAndSubmitAnswers(_0x3122bb,_0x2c0247);}async function gradeShortAnswerWithAI(_0x13976d,_0x578c78){const _0x202677=_0x27ad1b;if(!_0x13976d||!_0x578c78)return![];try{const _0x4c8d0c=_0x202677(0x17b)+_0x13976d+_0x202677(0x7fb)+_0x578c78+_0x202677(0xadd),_0x3249d0={'contents':[{'role':_0x202677(0x56a),'parts':[{'text':_0x4c8d0c}]}]},_0x5b9c27=_0x202677(0x47d),_0x4ec14e=_0x202677(0x501)+_0x5b9c27,_0x1c2a89=await fetch(_0x4ec14e,{'method':_0x202677(0x74d),'headers':{'Content-Type':_0x202677(0x2d5)},'body':JSON[_0x202677(0xa1a)](_0x3249d0)});if(!_0x1c2a89['ok'])throw new Error(_0x202677(0xa91));const _0x2dc07c=await _0x1c2a89[_0x202677(0xafc)](),_0x477f5f=_0x2dc07c[_0x202677(0xab2)][0x0]['content'][_0x202677(0x3b5)][0x0]['text'][_0x202677(0x2b0)]()[_0x202677(0x90c)]();return _0x477f5f==='true';}catch(_0x28a109){return console[_0x202677(0x4a0)]('AI\x20grading\x20failed:',_0x28a109),![];}}async function processAndSubmitAnswers(_0x599dab,_0x10896c){const _0x42c317=_0x27ad1b;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x42c317(0x966)](_0x42c317(0x6ef),handleFullscreenChange),document[_0x42c317(0x966)](_0x42c317(0x43b),handleVisibilityChange);let _0x3794ff=0x0;const _0x18b24b=[],_0x4b7b33=currentDisplayedQuiz[_0x42c317(0x4aa)][_0x42c317(0x7dc)];let _0x2f276a=0x0,_0x4564cb=[];const _0xca5393=currentDisplayedQuiz[_0x42c317(0x4aa)];for(let _0x780a4e=0x0;_0x780a4e<_0xca5393[_0x42c317(0x7dc)];_0x780a4e++){const _0xe740fa=_0xca5393[_0x780a4e],_0x3fa7d6=_0x599dab[_0x780a4e],_0x6416f=_0x3fa7d6?_0x3fa7d6[_0x42c317(0xa90)]:null,_0x25c2a1=_0x3fa7d6?_0x3fa7d6[_0x42c317(0x81b)]:null;let _0x38016d=![],_0x274fee=0x0;if(_0x6416f!==null&&_0x6416f!==''){const _0x2f9612=_0xe740fa[_0x42c317(0x5fe)]||currentDisplayedQuiz['quizType'];switch(_0x2f9612){case _0x42c317(0x62a):_0x38016d=_0x6416f===_0xe740fa['correctResponse'];break;case _0x42c317(0x9c7):const _0x2613b5=_0x6416f===!![]||_0x6416f===_0x42c317(0xaa9);_0x38016d=_0x2613b5===_0xe740fa[_0x42c317(0x8cd)];break;case _0x42c317(0xa97):_0x38016d=await gradeShortAnswer(_0x6416f,_0xe740fa);break;case _0x42c317(0xb9a):default:_0x38016d=Number(_0x6416f)===_0xe740fa[_0x42c317(0xa18)];break;}}if(currentDisplayedQuiz[_0x42c317(0x335)]?.['isConfidenceScoringEnabled']){const _0x4de700=_0x3fa7d6?_0x3fa7d6[_0x42c317(0x81b)]:null;if(_0x38016d&&(_0x4de700===!![]||_0x4de700===_0x42c317(0xae1)))_0x274fee=0x2;else{if(_0x38016d)_0x274fee=0x1;else{if(!_0x38016d&&(_0x4de700===![]||_0x4de700==='not_confident'||_0x4de700===null))_0x274fee=0x0;else!_0x38016d&&(_0x4de700===!![]||_0x4de700==='confident')&&(_0x274fee=-0x1);}}}else _0x274fee=_0x38016d?0x1:0x0;_0x3794ff+=_0x274fee;if(_0x38016d){_0x2f276a++;if(_0x2f276a===0x3)_0x4564cb[_0x42c317(0x2b6)](BADGES[_0x42c317(0x56f)]['id']);}else _0x2f276a=0x0;let _0x5cfb37=null;_0xe740fa[_0x42c317(0x559)]&&_0x6416f!==null&&(_0x5cfb37=_0xe740fa[_0x42c317(0x559)][_0x6416f]),_0x18b24b[_0x42c317(0x2b6)]({'questionId':_0xe740fa['id'],'answer':_0x6416f,'answerText':_0x5cfb37,'isCorrect':_0x38016d,'wasConfident':_0x25c2a1,'pointsAwarded':_0x274fee,'originalQuestionText':_0xe740fa[_0x42c317(0x856)]||_0xe740fa[_0x42c317(0xac2)]});}const _0x3ab395=_0x18b24b[_0x42c317(0x558)](_0xc2f50b=>_0xc2f50b[_0x42c317(0x764)])[_0x42c317(0x7dc)],_0xfc2907=currentDisplayedQuiz['settings']?.[_0x42c317(0x477)]??Math[_0x42c317(0xaac)](_0x4b7b33/0x2);_0x3ab395===_0x4b7b33&&_0x4b7b33>0x0&&!currentDisplayedQuiz[_0x42c317(0x585)]&&_0x4564cb['push'](BADGES[_0x42c317(0xa59)]['id']);const _0x58f798=currentDisplayedQuiz['settings']?.['timerMode'];if(_0x58f798==='whole_quiz'&&quizStartTime){const _0x33a838=(new Date()-quizStartTime)/0x3e8,_0xe874fb=currentDisplayedQuiz[_0x42c317(0x335)][_0x42c317(0x5ed)]*0x3c;_0x3ab395>=_0xfc2907&&_0x33a838<_0xe874fb/0x2&&_0x4564cb[_0x42c317(0x2b6)](BADGES[_0x42c317(0xb22)]['id']);}_0x10896c[_0x42c317(0x7dc)]===0x0&&_0x3ab395===_0x4b7b33&&_0x4b7b33>0x0&&_0x4564cb[_0x42c317(0x2b6)](BADGES[_0x42c317(0x779)]['id']);if(_0x10896c[_0x42c317(0x7dc)]>0x0){const _0x3741d5=_0x10896c[0x0]['score'];if(_0x3741d5<_0xfc2907&&_0x3ab395>=_0xfc2907){const _0x4cee69=_0x10896c[_0x42c317(0x8c9)](_0x2fd7d8=>(_0x2fd7d8[_0x42c317(0xa01)]||[])[_0x42c317(0x203)](BADGES[_0x42c317(0x78a)]['id']));!_0x4cee69&&_0x4564cb[_0x42c317(0x2b6)](BADGES['COMEBACK_KING']['id']);}}_0x10896c[_0x42c317(0x7dc)]===0x4&&_0x4564cb[_0x42c317(0x2b6)](BADGES[_0x42c317(0x1c6)]['id']);const _0x48ec7b=currentDisplayedQuiz[_0x42c317(0x335)]['resultsDisplay'];if(currentMode===_0x42c317(0x521)){handleResultDisplay(_0x48ec7b,_0x3ab395,_0x3794ff,_0x4564cb,_0x18b24b,_0x4b7b33);return;}const _0x2441e6=currentQuizData['id'],_0xa631f=doc(db,_0x42c317(0x827)+appId+_0x42c317(0x2c4)+_0x2441e6+'/submissions',currentStudentName);try{const _0x2711dd=[..._0x10896c],_0x102a88={'score':_0x3ab395,'points':_0x3794ff,'badges':Array['from'](new Set(_0x4564cb)),'submittedAt':new Date()['toISOString'](),'answers':_0x18b24b};_0x2711dd[_0x42c317(0x2b6)](_0x102a88);const _0x26f407=_0x10896c[_0x42c317(0x7dc)]===0x0?_0x3ab395:_0x10896c[0x0][_0x42c317(0x8b3)]||0x0,_0x2201a0=Math[_0x42c317(0x130)](..._0x2711dd[_0x42c317(0x821)](_0x194c21=>_0x194c21[_0x42c317(0x8b3)]));await setDoc(_0xa631f,{'studentName':currentStudentName,'totalQuestions':_0x4b7b33,'attempts':_0x2711dd,'firstScore':_0x26f407,'bestScore':_0x2201a0,'latestScore':_0x3ab395,'points':_0x3794ff,'latestSubmittedAt':_0x102a88['submittedAt']},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x42c317(0x35a)],currentStudentName),handleResultDisplay(_0x48ec7b,_0x3ab395,_0x3794ff,_0x4564cb,_0x18b24b,_0x4b7b33);}catch(_0x3fcf39){console['error']('Error\x20saving\x20submission:',_0x3fcf39),showMessage(_0x42c317(0x7b0));}}async function updateStudentProfile(_0x4b62f3,_0x5ce31a){const _0x8bbc86=_0x27ad1b,_0x21b169=doc(db,_0x8bbc86(0x827)+appId+_0x8bbc86(0x4b2)+_0x4b62f3+'/studentProfiles',_0x5ce31a);try{const _0x2f18fc=query(collection(db,_0x8bbc86(0x827)+appId+_0x8bbc86(0xb2f)),where(_0x8bbc86(0x35a),'==',_0x4b62f3)),_0x2dcc70=await getDocs(_0x2f18fc),_0x249031=new Map(_0x2dcc70[_0x8bbc86(0x8e0)][_0x8bbc86(0x821)](_0xc935aa=>[_0xc935aa['id'],_0xc935aa['data']()])),_0x5a7402=Array[_0x8bbc86(0x39f)](_0x249031[_0x8bbc86(0x698)]());await runTransaction(db,async _0x30f330=>{const _0x1b927f=_0x8bbc86;let _0x1c0ea9=0x0;const _0xb6b8a6={};let _0x2c5ac3=!![],_0x13f273=0x0,_0x356103=0x0;for(const _0x4d4176 of _0x5a7402){const _0x30c1f9=_0x249031[_0x1b927f(0x758)](_0x4d4176),_0x33dc1f=doc(db,_0x1b927f(0x827)+appId+_0x1b927f(0x2c4)+_0x4d4176+'/submissions',_0x5ce31a),_0x18b95a=await _0x30f330[_0x1b927f(0x758)](_0x33dc1f);if(_0x18b95a[_0x1b927f(0x539)]()){const _0x4782d9=_0x18b95a[_0x1b927f(0x4b8)](),_0x4d51b9=_0x4782d9['attempts']||[];if(_0x4d51b9['length']>0x0){const _0x116446=_0x4d51b9[_0x1b927f(0x70d)]((_0x4b194b,_0x52026e)=>{const _0x448c66=_0x1b927f;if(_0x52026e[_0x448c66(0x8b3)]>_0x4b194b['score'])return _0x52026e;if(_0x52026e[_0x448c66(0x8b3)]===_0x4b194b[_0x448c66(0x8b3)])return(_0x52026e['points']||0x0)>(_0x4b194b[_0x448c66(0x206)]||0x0)?_0x52026e:_0x4b194b;return _0x4b194b;},{'score':-0x1,'points':-0x1});_0x116446[_0x1b927f(0x8b3)]>-0x1&&(_0x1c0ea9+=_0x116446[_0x1b927f(0x206)]||0x0,(_0x116446[_0x1b927f(0xa01)]||[])[_0x1b927f(0x50c)](_0x1cef6c=>{_0xb6b8a6[_0x1cef6c]=(_0xb6b8a6[_0x1cef6c]||0x0)+0x1;}));}}if(_0x30c1f9[_0x1b927f(0x21a)]!==_0x1b927f(0x793)){_0x356103++;if(_0x18b95a[_0x1b927f(0x539)]()){_0x13f273++;const _0x524329=_0x18b95a[_0x1b927f(0x4b8)]();_0x524329[_0x1b927f(0x796)]!==_0x524329[_0x1b927f(0x7f9)]&&(_0x2c5ac3=![]);}else _0x2c5ac3=![];}}_0x356103>0x0&&_0x13f273===_0x356103&&_0x2c5ac3?_0xb6b8a6[_0x1b927f(0x89e)]=0x1:_0xb6b8a6['specialist']=0x0,_0x30f330[_0x1b927f(0x72f)](_0x21b169,{'studentName':_0x5ce31a,'totalPoints':_0x1c0ea9,'unlockedBadges':Object[_0x1b927f(0x698)](_0xb6b8a6)[_0x1b927f(0x558)](_0xe7981e=>_0xb6b8a6[_0xe7981e]>0x0),'badgesCount':_0xb6b8a6},{'merge':!![]});});}catch(_0x300818){console[_0x8bbc86(0x4a0)](_0x8bbc86(0x4ca),_0x300818),showMessage(_0x8bbc86(0x49c));}}function startAdminTest(){const _0x187e4f=_0x27ad1b;if(!currentQuizData){showMessage(_0x187e4f(0x2da));return;}let _0x22e48d=JSON[_0x187e4f(0x327)](JSON[_0x187e4f(0xa1a)](currentQuizData));currentMode=_0x187e4f(0x521),currentStudentName=_0x187e4f(0x3b6),adminView[_0x187e4f(0x25c)]['add']('hidden'),studentView[_0x187e4f(0x25c)][_0x187e4f(0x525)](_0x187e4f(0x864)),studentInitialView['classList'][_0x187e4f(0x2bd)](_0x187e4f(0x864)),studentNameSelectionView[_0x187e4f(0x25c)][_0x187e4f(0x2bd)](_0x187e4f(0x864)),studentResultArea[_0x187e4f(0x25c)]['add'](_0x187e4f(0x864)),studentQuizArea[_0x187e4f(0x25c)][_0x187e4f(0x525)](_0x187e4f(0x864)),quizStartTime=new Date(),displayQuizForStudent(_0x22e48d);}function handleResultDisplay(_0x11fb96,_0xbb8c8b,_0xf61c60,_0x3969a5,_0x254558,_0x34d290){const _0x377817=_0x27ad1b;if(_0x11fb96==='manual_release'){displaySubmissionConfirmation();return;}const _0x30a6ad=currentDisplayedQuiz['settings']?.['passingScore']??Math[_0x377817(0xaac)](_0x34d290/0x2),_0x28ddbf=currentDisplayedQuiz[_0x377817(0x335)]?.[_0x377817(0x563)]??![],_0x3a2f5e=currentDisplayedQuiz[_0x377817(0x335)]?.[_0x377817(0x324)]===!![],_0x2e0c1a=_0xbb8c8b<_0x30a6ad,_0x542b3d=_0x11fb96===_0x377817(0x67b)||_0x11fb96===_0x377817(0x226);if(_0x3a2f5e&&_0x2e0c1a&&!_0x542b3d){_0x11fb96===_0x377817(0xa2d)?displayResultsWithAnswers(_0xbb8c8b,_0xf61c60,_0x3969a5,_0x254558,_0x34d290,!![]):displayLoopScreen(_0xbb8c8b,_0x34d290,_0x11fb96);return;}if(_0x28ddbf&&_0x2e0c1a){startAdaptiveFlow(_0x254558,_0xbb8c8b,_0x34d290);return;}switch(_0x11fb96){case _0x377817(0xa2d):displayResultsWithAnswers(_0xbb8c8b,_0xf61c60,_0x3969a5,_0x254558,_0x34d290);break;case _0x377817(0xa13):displayResultsScoreOnly(_0xbb8c8b,_0xf61c60,_0x3969a5,_0x34d290);break;case _0x377817(0x853):displayPassFailOnly(_0xbb8c8b,_0x34d290);break;case'half_mark_status':displayHalfMarkResult(_0xbb8c8b,_0x34d290);break;case _0x377817(0x226):displayPerfectScoreResult(_0xbb8c8b,_0x34d290);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x50ee09){const _0x1d6d76=_0x27ad1b;studentReadingArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x296a32=_0x1d6d76(0xae8)+_0x50ee09+_0x1d6d76(0x10a)+simpleMathPrompt+_0x1d6d76(0x4c7),_0x428d4f={'type':_0x1d6d76(0xb47),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x1d6d76(0x863),'items':{'type':_0x1d6d76(0xb86)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x1d6d76(0xb86)}},'required':['questionText',_0x1d6d76(0x559),_0x1d6d76(0xa18),_0x1d6d76(0x735)]},_0x1ab8e3={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x1d6d76(0x863),'items':_0x428d4f}},'required':[_0x1d6d76(0x21a),_0x1d6d76(0x4aa)]};try{const _0xf81668=await callAnalysisApi(_0x296a32,_0x1ab8e3);_0xf81668[_0x1d6d76(0x585)]=!![],studentReadingArea[_0x1d6d76(0x25c)][_0x1d6d76(0x2bd)](_0x1d6d76(0x864));const _0x475e92={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':_0x1d6d76(0xa2d)};_0xf81668['settings']=_0x475e92,displayQuizForStudent(_0xf81668);}catch(_0x49fed9){console[_0x1d6d76(0x4a0)](_0x1d6d76(0x50a),_0x49fed9),showMessage(_0x1d6d76(0x2b8)),showView('student');}}function displayPassFailOnly(_0x35225e,_0x1ef068){const _0x262342=_0x27ad1b,_0x5f01e5=currentDisplayedQuiz[_0x262342(0x335)]?.[_0x262342(0x477)]??-0x1,_0x16cad1=currentDisplayedQuiz[_0x262342(0x585)]===!![];let _0x399dbb='',_0xcd1c78=![];if(_0x16cad1||_0x5f01e5!==-0x1){_0xcd1c78=_0x16cad1?_0x35225e===_0x1ef068:_0x35225e>=_0x5f01e5;const _0x21bcf8=_0xcd1c78?_0x262342(0x921):_0x262342(0xa8b),_0x4e8ce3=_0xcd1c78?'ผ่าน':_0x262342(0x93e);_0x399dbb='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0x21bcf8+'\x22>'+_0x4e8ce3+_0x262342(0x442);}else _0x399dbb='<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>';let _0x171c81=_0x262342(0x446)+currentStudentName+_0x262342(0x791)+_0x399dbb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0x262342(0x415)]=_0x171c81,studentResultArea['classList'][_0x262342(0x525)](_0x262342(0x864)),studentQuizArea[_0x262342(0x25c)][_0x262342(0x2bd)]('hidden'),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0xcd1c78});}function cancelAdminTest(){const _0x210382=_0x27ad1b;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x210382(0x966)](_0x210382(0x6ef),handleFullscreenChange),document['removeEventListener'](_0x210382(0x43b),handleVisibilityChange),currentMode=_0x210382(0x638),studentView[_0x210382(0x25c)][_0x210382(0x2bd)](_0x210382(0x864)),adminView[_0x210382(0x25c)]['remove'](_0x210382(0x864)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x210382(0x242));}function setupResultScreenBackButton(_0x273946){const _0x1e7d41=_0x27ad1b,_0x2749ce={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x273946};if(_0x2749ce[_0x1e7d41(0x79d)]){const _0x493db4=_0x1e7d41(0x663);studentResultArea['insertAdjacentHTML'](_0x1e7d41(0x117),_0x493db4),document[_0x1e7d41(0xa9a)]('retake-quiz-loop-btn')[_0x1e7d41(0x234)](_0x1e7d41(0x4be),()=>{const _0x5e4547=_0x1e7d41;studentResultArea[_0x5e4547(0x25c)][_0x5e4547(0x2bd)](_0x5e4547(0x864)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x19df23=_0x1e7d41(0x3a1),_0x21ca4c=currentMode==='admin-testing',_0x3850bb=_0x21ca4c?_0x1e7d41(0x600):_0x1e7d41(0x3c5);let _0x17baa5='';_0x2749ce['showRankings']&&(_0x17baa5+=_0x1e7d41(0xada));let _0x328703=_0x2749ce[_0x1e7d41(0x20b)];_0x328703===undefined&&(_0x328703=_0x2749ce[_0x1e7d41(0x8b3)]<_0x2749ce[_0x1e7d41(0x7f9)]);_0x328703&&(_0x17baa5+=_0x1e7d41(0x9ca));_0x17baa5+=_0x1e7d41(0xa54)+_0x19df23+_0x1e7d41(0x205)+_0x3850bb+_0x1e7d41(0xac5);const _0x2411e0=_0x1e7d41(0x8bc)+_0x17baa5+_0x1e7d41(0xac7);studentResultArea['insertAdjacentHTML']('beforeend',_0x2411e0),studentResultArea[_0x1e7d41(0x46b)](_0x1e7d41(0x535))?.[_0x1e7d41(0x234)](_0x1e7d41(0x4be),handleShowStudentRankings);const _0x4a01af=studentResultArea['querySelector'](_0x1e7d41(0x820));_0x4a01af&&_0x4a01af[_0x1e7d41(0x234)](_0x1e7d41(0x4be),()=>{const _0x473839=_0x1e7d41;studentResultArea[_0x473839(0x25c)][_0x473839(0x2bd)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document['getElementById'](_0x19df23)[_0x1e7d41(0x234)](_0x1e7d41(0x4be),()=>{const _0xb50213=_0x1e7d41;_0x21ca4c?(currentMode=_0xb50213(0x638),studentView[_0xb50213(0x25c)][_0xb50213(0x2bd)]('hidden'),adminView['classList']['remove']('hidden'),showView(_0xb50213(0x242))):(showView(_0xb50213(0x21f)),document['getElementById'](_0xb50213(0x26d))['value']='');});}function displayResultsWithAnswers(_0x426e76,_0x5d9b59,_0x89402c,_0x4d4d3a,_0x3321dc,_0x45b12c=![]){const _0x18c7e1=_0x27ad1b,_0x484105=_0x3321dc>0x0?_0x426e76/_0x3321dc*0x64:0x0,_0x50f266=currentDisplayedQuiz[_0x18c7e1(0x335)]?.[_0x18c7e1(0x477)]??-0x1,_0xb912a=currentDisplayedQuiz[_0x18c7e1(0x585)]===!![];let _0x1ec9a4='';if(_0xb912a||_0x50f266!==-0x1){let _0x268e61=_0xb912a?_0x426e76===_0x3321dc:_0x426e76>=_0x50f266;const _0x492548=_0x268e61?_0x18c7e1(0x921):_0x18c7e1(0xa8b),_0x3cea80=_0x268e61?'ผ่าน':'ไม่ผ่าน';_0x1ec9a4=_0x18c7e1(0x22b)+_0x492548+'\x22>'+_0x3cea80+_0x18c7e1(0x323);}let _0x5928f8=_0x18c7e1(0x91c)+currentStudentName+_0x18c7e1(0x431)+_0x426e76+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x3321dc+_0x18c7e1(0x39e)+_0x1ec9a4+_0x18c7e1(0x1af)+_0x5d9b59+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x484105[_0x18c7e1(0x32c)](0x0)+_0x18c7e1(0x24d);currentDisplayedQuiz['questions']['forEach']((_0x33e319,_0x5272a7)=>{const _0x3b1ee0=_0x18c7e1,_0x184b7e=_0x4d4d3a[_0x5272a7],_0x4eb7c4=_0x184b7e['answer'],_0x57ae09=_0x184b7e['isCorrect'],_0xa4b2ff=_0x33e319[_0x3b1ee0(0x5fe)]||currentDisplayedQuiz[_0x3b1ee0(0x447)];_0x5928f8+='<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20'+(_0x57ae09?_0x3b1ee0(0x7ae):_0x3b1ee0(0x24f))+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x5272a7+0x1)+'.\x20'+(_0x33e319[_0x3b1ee0(0x856)]||_0x33e319[_0x3b1ee0(0xac2)])+_0x3b1ee0(0x742);switch(_0xa4b2ff){case'matching_item':const _0x47c2d4=_0x4eb7c4||_0x3b1ee0(0x2b3),_0x27e94e=_0x33e319[_0x3b1ee0(0xa66)];_0x5928f8+=_0x3b1ee0(0x7c2)+(!_0x57ae09?_0x3b1ee0(0x7e7):'')+'\x22>'+_0x47c2d4+_0x3b1ee0(0x1ff);!_0x57ae09&&(_0x5928f8+=_0x3b1ee0(0x71d)+_0x27e94e+'</p>');break;case _0x3b1ee0(0xa97):_0x5928f8+=_0x3b1ee0(0x8ef)+(_0x4eb7c4||_0x3b1ee0(0x2b3))+_0x3b1ee0(0x323),_0x5928f8+=_0x3b1ee0(0xb8b)+_0x33e319['idealAnswer']+_0x3b1ee0(0x323);break;case _0x3b1ee0(0x9c7):_0x5928f8+=_0x3b1ee0(0x5ce)+(_0x33e319[_0x3b1ee0(0x8cd)]===!![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x4eb7c4==='true'&&!_0x57ae09?_0x3b1ee0(0x7e7):'')+_0x3b1ee0(0x80e),_0x5928f8+='<p\x20class=\x22'+(_0x33e319[_0x3b1ee0(0x8cd)]===![]?_0x3b1ee0(0x6a3):'')+'\x20'+(_0x4eb7c4===_0x3b1ee0(0xa32)&&!_0x57ae09?_0x3b1ee0(0x7e7):'')+'\x22>ไม่ใช่</p>';break;default:_0x5928f8+=_0x33e319['options'][_0x3b1ee0(0x821)]((_0x57aa9c,_0x52734f)=>{const _0x19252a=_0x3b1ee0;let _0x592b3f='',_0x91206a='';if(_0x52734f===_0x33e319[_0x19252a(0xa18)])_0x592b3f=_0x19252a(0x6a3),_0x91206a=_0x19252a(0x70e);else _0x52734f===_0x4eb7c4&&(_0x592b3f='font-bold\x20text-red-700\x20line-through',_0x91206a=_0x19252a(0x4ac));return _0x19252a(0x690)+_0x592b3f+'\x22>'+_0x91206a+_0x57aa9c+_0x19252a(0xac7);})[_0x3b1ee0(0x4ad)]('');break;}_0x5928f8+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x33e319[_0x3b1ee0(0x735)]||_0x3b1ee0(0x4b6))+_0x3b1ee0(0xac7);if(!_0x57ae09){const _0x204359=_0x33e319[_0x3b1ee0(0x856)]||_0x33e319[_0x3b1ee0(0xac2)];_0x5928f8+=_0x3b1ee0(0x448)+escape(_0x204359)+_0x3b1ee0(0x478);}_0x5928f8+='</div>';}),studentResultArea[_0x18c7e1(0x415)]=_0x5928f8,renderEarnedBadges(_0x89402c,_0x18c7e1(0x68d)),studentResultArea[_0x18c7e1(0x25c)][_0x18c7e1(0x525)](_0x18c7e1(0x864)),studentQuizArea[_0x18c7e1(0x25c)][_0x18c7e1(0x2bd)]('hidden'),setupResultScreenBackButton({'isLooping':_0x45b12c,'score':_0x426e76,'totalQuestions':_0x3321dc,'showRankings':!![]});if(window[_0x18c7e1(0xa63)])window[_0x18c7e1(0xa63)]['typesetPromise']([studentResultArea]);}function displayResultsScoreOnly(_0x176d50,_0x281102,_0x52f6c,_0x1a0e72){const _0x891795=_0x27ad1b,_0x49beb8=_0x1a0e72>0x0?_0x176d50/_0x1a0e72*0x64:0x0,_0x3d9272=currentDisplayedQuiz[_0x891795(0x335)]?.[_0x891795(0x477)]??-0x1,_0x39c10b=currentDisplayedQuiz[_0x891795(0x585)]===!![];let _0x6c6ee8='';if(_0x39c10b||_0x3d9272!==-0x1){let _0x215c7a=_0x39c10b?_0x176d50===_0x1a0e72:_0x176d50>=_0x3d9272;const _0x3a7e34=_0x215c7a?_0x891795(0x921):_0x891795(0xa8b),_0x55b82a=_0x215c7a?'ผ่าน':_0x891795(0x93e);_0x6c6ee8=_0x891795(0x22b)+_0x3a7e34+'\x22>'+_0x55b82a+_0x891795(0x323);}let _0xe4b2dd=_0x891795(0x446)+currentStudentName+_0x891795(0x3e9)+_0x176d50+_0x891795(0x5da)+_0x1a0e72+_0x891795(0x39e)+_0x6c6ee8+_0x891795(0x1af)+_0x281102+_0x891795(0x803)+_0x49beb8[_0x891795(0x32c)](0x0)+_0x891795(0x41d);studentResultArea[_0x891795(0x415)]=_0xe4b2dd,renderEarnedBadges(_0x52f6c,_0x891795(0x68d)),studentResultArea['classList'][_0x891795(0x525)](_0x891795(0x864)),studentQuizArea[_0x891795(0x25c)][_0x891795(0x2bd)](_0x891795(0x864)),setupResultScreenBackButton({'score':_0x176d50,'totalQuestions':_0x1a0e72,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0xcbdbce=_0x27ad1b;let _0x2a5235='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0xcbdbce(0x726);studentResultArea[_0xcbdbce(0x415)]=_0x2a5235,studentResultArea[_0xcbdbce(0x25c)]['remove'](_0xcbdbce(0x864)),studentQuizArea[_0xcbdbce(0x25c)][_0xcbdbce(0x2bd)](_0xcbdbce(0x864)),document[_0xcbdbce(0xa9a)](_0xcbdbce(0x1fb))[_0xcbdbce(0x234)]('click',()=>{const _0x1e2664=_0xcbdbce;showView('student'),document[_0x1e2664(0xa9a)](_0x1e2664(0x26d))[_0x1e2664(0x589)]='';});}function renderEarnedBadges(_0x4b9c14,_0x33e17f){const _0x49daa9=_0x27ad1b,_0x2e2200=document['getElementById'](_0x33e17f);if(!_0x2e2200||!_0x4b9c14||_0x4b9c14[_0x49daa9(0x7dc)]===0x0)return;let _0x5b5a66='';_0x4b9c14[_0x49daa9(0x50c)]((_0x2c3d7d,_0x2bc047)=>{const _0x2b6532=_0x49daa9,_0x32272c=Object['values'](BADGES)['find'](_0xeeabc8=>_0xeeabc8['id']===_0x2c3d7d);_0x32272c&&(_0x5b5a66+=_0x2b6532(0x1a9)+_0x2bc047*0.2+_0x2b6532(0x12e)+_0x32272c['description']+_0x2b6532(0x534)+_0x32272c['icon']+_0x2b6532(0x31c)+_0x32272c[_0x2b6532(0x352)]+_0x2b6532(0xaa2));}),_0x2e2200['innerHTML']=_0x5b5a66;}function startPresentation(_0x1fbb96){const _0xe12b4a=_0x27ad1b;currentQuizData=getShuffledQuiz(_0x1fbb96),currentPresentationSlide=0x0,presentationModal['style'][_0xe12b4a(0x42c)]='flex',renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x37a5cf=_0x27ad1b;document['fullscreenElement']&&document[_0x37a5cf(0x481)](),presentationModal[_0x37a5cf(0x8f0)][_0x37a5cf(0x42c)]=_0x37a5cf(0x49f);}function renderPresentationSlide(_0x3032b7){const _0x41fc4d=_0x27ad1b,_0x4681e1=document[_0x41fc4d(0xa9a)](_0x41fc4d(0x509));if(!currentQuizData||!currentQuizData['questions']||!currentQuizData[_0x41fc4d(0x4aa)][_0x3032b7]){_0x4681e1[_0x41fc4d(0x415)]=_0x41fc4d(0xb8d);return;}const _0x1ba9ec=currentQuizData[_0x41fc4d(0x4aa)][_0x3032b7],_0xb83bd3=_0x1ba9ec[_0x41fc4d(0x5fe)]||currentQuizData[_0x41fc4d(0x447)];_0x4681e1[_0x41fc4d(0x415)]='';let _0x242863=_0x41fc4d(0x7b7)+(_0x1ba9ec[_0x41fc4d(0x56d)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x1ba9ec[_0x41fc4d(0x56d)]+_0x41fc4d(0xac7):'')+_0x41fc4d(0x622)+(_0x3032b7+0x1)+'.\x20'+(_0x1ba9ec[_0x41fc4d(0x856)]||_0x1ba9ec[_0x41fc4d(0xac2)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0xb83bd3){case _0x41fc4d(0x62a):_0x242863+=_0x1ba9ec[_0x41fc4d(0x1fc)][_0x41fc4d(0x821)](_0x4b484c=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4b484c+_0x41fc4d(0x78e))[_0x41fc4d(0x4ad)]('');break;case'true_false':_0x242863+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>',_0x242863+='<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>';break;case _0x41fc4d(0x7c8):case'short_answer':_0x242863+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x41fc4d(0x588):case _0x41fc4d(0xb9a):default:_0x242863+=_0x1ba9ec[_0x41fc4d(0x559)][_0x41fc4d(0x821)]((_0x794264,_0x46c4f9)=>_0x41fc4d(0x493)+_0x46c4f9+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x794264+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');break;}_0x242863+=_0x41fc4d(0x22d)+(_0x1ba9ec[_0x41fc4d(0x735)]||_0x41fc4d(0x4b6))+_0x41fc4d(0x1e5),_0x4681e1[_0x41fc4d(0x415)]=_0x242863;if(window[_0x41fc4d(0xa63)])window[_0x41fc4d(0xa63)][_0x41fc4d(0x5e2)]([_0x4681e1]);let _0x37fb25=[];switch(_0xb83bd3){case _0x41fc4d(0x62a):_0x37fb25=_0x1ba9ec['allResponses']||[];break;case _0x41fc4d(0x9c7):_0x37fb25=['ใช่','ไม่ใช่'];break;default:_0x37fb25=_0x1ba9ec[_0x41fc4d(0x559)]||[];break;}const _0x23a859=document[_0x41fc4d(0xa9a)](_0x41fc4d(0x8ce));_0x23a859&&(_0x23a859['onclick']=()=>{openScratchpad(_0x1ba9ec,_0x37fb25);});document['querySelectorAll'](_0x41fc4d(0x8e4))[_0x41fc4d(0x50c)](_0xe8e86a=>{const _0x106cee=_0x41fc4d;_0xe8e86a[_0x106cee(0x234)](_0x106cee(0x4be),_0x1919fb=>revealAnswerForPresentation(_0x3032b7,_0x1919fb[_0x106cee(0x13e)]));});const _0x4723be=document['getElementById'](_0x41fc4d(0x812));_0x4723be&&_0x4723be[_0x41fc4d(0x234)]('click',()=>checkShortAnswerForPresentation(_0x3032b7)),document[_0x41fc4d(0xa9a)](_0x41fc4d(0x3ee))[_0x41fc4d(0xa0d)]=_0x41fc4d(0x479)+(_0x3032b7+0x1)+'\x20/\x20'+currentQuizData['questions'][_0x41fc4d(0x7dc)],document[_0x41fc4d(0xa9a)]('prev-question-btn')[_0x41fc4d(0xb12)]=_0x3032b7===0x0,document['getElementById'](_0x41fc4d(0x233))['disabled']=_0x3032b7===currentQuizData[_0x41fc4d(0x4aa)][_0x41fc4d(0x7dc)]-0x1;}async function checkShortAnswerForPresentation(_0x170185){const _0x120fd5=_0x27ad1b,_0x4381f9=currentQuizData['questions'][_0x170185],_0x48b7e9=document[_0x120fd5(0xa9a)](_0x120fd5(0x114)),_0x50273f=document[_0x120fd5(0xa9a)](_0x120fd5(0x812)),_0x321695=document[_0x120fd5(0xa9a)](_0x120fd5(0x417)),_0x4ffad9=document[_0x120fd5(0xa9a)](_0x120fd5(0xb4a));if(!_0x48b7e9||!_0x50273f||!_0x321695||!_0x4ffad9)return;const _0x35a386=_0x48b7e9[_0x120fd5(0x589)][_0x120fd5(0x2b0)]();if(_0x35a386==='')return;_0x50273f[_0x120fd5(0xb12)]=!![],_0x50273f[_0x120fd5(0x415)]=_0x120fd5(0xaa4),_0x48b7e9[_0x120fd5(0xb12)]=!![];const _0xa9f8=await gradeShortAnswer(_0x35a386,_0x4381f9);_0xa9f8?_0x321695[_0x120fd5(0x415)]=_0x120fd5(0x4fc):_0x321695[_0x120fd5(0x415)]=_0x120fd5(0xa29)+_0x4381f9[_0x120fd5(0x4af)]+')',_0x321695[_0x120fd5(0x25c)][_0x120fd5(0x525)](_0x120fd5(0x864)),_0x4ffad9[_0x120fd5(0x25c)]['remove'](_0x120fd5(0x864)),_0x50273f[_0x120fd5(0x25c)][_0x120fd5(0x2bd)](_0x120fd5(0x864));}function revealAnswerForPresentation(_0x3719f3,_0x2238b1){const _0x1c6b94=_0x27ad1b,_0x599ff=currentQuizData[_0x1c6b94(0x4aa)][_0x3719f3],_0x33284a=_0x599ff[_0x1c6b94(0x5fe)]||currentQuizData[_0x1c6b94(0x447)];document['querySelectorAll']('.presentation-option')[_0x1c6b94(0x50c)](_0x5b6cfb=>{const _0x351807=_0x1c6b94;_0x5b6cfb[_0x351807(0xb12)]=!![],_0x5b6cfb[_0x351807(0x25c)][_0x351807(0x525)](_0x351807(0x1ca));let _0x5e31bc=![];if(_0x33284a===_0x351807(0xb9a)||_0x33284a==='fill_in_the_blank'){const _0x10d98a=parseInt(_0x5b6cfb[_0x351807(0x9f6)][_0x351807(0x118)]);_0x5e31bc=_0x10d98a===_0x599ff['correctAnswerIndex'];}else{if(_0x33284a===_0x351807(0x9c7)){const _0x18640e=_0x5b6cfb[_0x351807(0x9f6)][_0x351807(0xa90)]==='true';_0x5e31bc=_0x18640e===_0x599ff[_0x351807(0x8cd)];}else _0x33284a===_0x351807(0x62a)&&(_0x5e31bc=_0x5b6cfb[_0x351807(0xa0d)][_0x351807(0x2b0)]()===_0x599ff[_0x351807(0xa66)]);}_0x5e31bc?_0x5b6cfb[_0x351807(0x25c)][_0x351807(0x2bd)]('bg-green-500',_0x351807(0x920),_0x351807(0x970)):_0x5b6cfb[_0x351807(0x25c)]['add'](_0x351807(0x176));}),_0x2238b1['classList'][_0x1c6b94(0x525)](_0x1c6b94(0x176));let _0x12eb94=![];if(_0x33284a===_0x1c6b94(0xb9a))_0x12eb94=parseInt(_0x2238b1[_0x1c6b94(0x9f6)][_0x1c6b94(0x118)])===_0x599ff[_0x1c6b94(0xa18)];else{if(_0x33284a===_0x1c6b94(0x9c7))_0x12eb94=_0x2238b1['dataset'][_0x1c6b94(0xa90)]===_0x1c6b94(0xaa9)===_0x599ff['correctAnswer'];else _0x33284a==='matching_item'&&(_0x12eb94=_0x2238b1[_0x1c6b94(0xa0d)][_0x1c6b94(0x2b0)]()===_0x599ff['correctResponse']);}!_0x12eb94&&_0x2238b1['classList'][_0x1c6b94(0x2bd)](_0x1c6b94(0x77b),_0x1c6b94(0x920),_0x1c6b94(0x8fe)),document[_0x1c6b94(0xa9a)](_0x1c6b94(0xb4a))[_0x1c6b94(0x25c)][_0x1c6b94(0x525)](_0x1c6b94(0x864));}function startWholeQuizTimer(_0x23beba){const _0xf43601=_0x27ad1b,_0x13454c=document[_0xf43601(0xa9a)](_0xf43601(0x71e));if(!_0x13454c)return;const _0x300b52=Date[_0xf43601(0x680)]()+_0x23beba*0x3c*0x3e8;_0x13454c['innerHTML']=_0xf43601(0x586);const _0x2f8c64=document['getElementById'](_0xf43601(0x26c));quizTimerInterval=setInterval(()=>{const _0x9221d0=_0xf43601,_0x45292e=_0x300b52-Date[_0x9221d0(0x680)]();if(_0x45292e<=0x0)clearInterval(quizTimerInterval),_0x2f8c64['textContent']=_0x9221d0(0x2b7),showMessage(_0x9221d0(0x723)),handleSubmitQuiz(null);else{const _0x41b6bb=Math['floor'](_0x45292e/0x3e8/0x3c%0x3c)['toString']()[_0x9221d0(0x6e1)](0x2,'0'),_0x499273=Math[_0x9221d0(0xaac)](_0x45292e/0x3e8%0x3c)[_0x9221d0(0x7cb)]()['padStart'](0x2,'0');_0x2f8c64[_0x9221d0(0xa0d)]=_0x41b6bb+':'+_0x499273;}},0x3e8);}function renderPerQuestionView(){const _0xdb3dbc=_0x27ad1b;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x1a0526=currentDisplayedQuiz[_0xdb3dbc(0x4aa)][currentQuestionIndex],_0x1c2710=_0x1a0526[_0xdb3dbc(0x5fe)]||currentDisplayedQuiz[_0xdb3dbc(0x447)],_0x25ed00=currentDisplayedQuiz[_0xdb3dbc(0x335)]?.[_0xdb3dbc(0x781)]===!![];let _0x143d2d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0xdb3dbc(0x27d)+currentDisplayedQuiz[_0xdb3dbc(0x4aa)][_0xdb3dbc(0x7dc)]+_0xdb3dbc(0x322)+(currentMode===_0xdb3dbc(0x521)?_0xdb3dbc(0x38d):'')+_0xdb3dbc(0x55e)+currentDisplayedQuiz[_0xdb3dbc(0x21a)]+_0xdb3dbc(0x5e0);studentQuizArea[_0xdb3dbc(0x415)]=_0x143d2d;let _0x1a233e=_0x1a0526[_0xdb3dbc(0x856)]||_0x1a0526[_0xdb3dbc(0xac2)];_0x1a0526[_0xdb3dbc(0x56d)]&&(_0x1a233e+=_0xdb3dbc(0x48b)+_0x1a0526['imageCode']+_0xdb3dbc(0xac7));let _0x1a753a='';switch(_0x1c2710){case'short_answer':case _0xdb3dbc(0x7c8):_0x1a753a='<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0xdb3dbc(0x9c7):_0x1a753a=_0xdb3dbc(0x6c0);break;case _0xdb3dbc(0x62a):_0x1a753a=_0xdb3dbc(0x75c)+(_0x1a0526[_0xdb3dbc(0x1fc)]||[])['map'](_0x5da7d5=>_0xdb3dbc(0x82c)+_0x5da7d5+'\x22>'+_0x5da7d5+'</option>')[_0xdb3dbc(0x4ad)]('')+_0xdb3dbc(0xa8a);break;default:_0x1a0526['options']&&(_0x1a753a=_0x1a0526[_0xdb3dbc(0x559)][_0xdb3dbc(0x821)]((_0x209bf0,_0x2a83be)=>_0xdb3dbc(0xb5c)+_0x2a83be+_0xdb3dbc(0x4c5)+_0x2a83be+_0xdb3dbc(0x225)+_0x2a83be+'\x22>'+_0x209bf0+_0xdb3dbc(0xb24))['join'](''));break;}document[_0xdb3dbc(0xa9a)](_0xdb3dbc(0x2ce))['innerHTML']=_0x1a233e,document[_0xdb3dbc(0xa9a)]('per-question-options')[_0xdb3dbc(0x415)]=_0x1a753a;const _0x57b4cd=currentDisplayedQuiz['settings']?.[_0xdb3dbc(0x781)]===!![],_0x4de317=currentDisplayedQuiz[_0xdb3dbc(0x335)]?.[_0xdb3dbc(0x985)]||_0xdb3dbc(0x70b);if(_0x57b4cd&&_0x4de317===_0xdb3dbc(0x70b)){const _0x84a900=_0xdb3dbc(0x728);studentQuizArea['querySelector']('.mb-6.p-4')['insertAdjacentHTML'](_0xdb3dbc(0x117),_0x84a900);}studentQuizArea['insertAdjacentHTML'](_0xdb3dbc(0x117),_0xdb3dbc(0x181)+(currentQuestionIndex===currentDisplayedQuiz['questions']['length']-0x1?'ส่งคำตอบ':_0xdb3dbc(0x507))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20');currentMode==='admin-testing'&&document['getElementById']('cancel-test-btn')?.[_0xdb3dbc(0x234)]('click',cancelAdminTest);document[_0xdb3dbc(0xa9a)](_0xdb3dbc(0x177))['addEventListener'](_0xdb3dbc(0x4be),()=>handleNextQuestionInTimedMode(![]));if(window[_0xdb3dbc(0xa63)])window[_0xdb3dbc(0xa63)]['typesetPromise']([studentQuizArea]);currentDisplayedQuiz[_0xdb3dbc(0x335)]?.['timerMode']===_0xdb3dbc(0xb76)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x3ccbd9=_0x27ad1b,_0x276571=currentDisplayedQuiz[_0x3ccbd9(0x335)][_0x3ccbd9(0x5ed)],_0x2d04f0=document['getElementById']('per-question-timer-container');if(!_0x2d04f0)return;let _0x3b5712=_0x276571;_0x2d04f0['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x3b5712+_0x3ccbd9(0x23b);const _0x388f97=document[_0x3ccbd9(0xa9a)]('timer-bar'),_0x833a12=document[_0x3ccbd9(0xa9a)](_0x3ccbd9(0x21c));perQuestionTimerInterval=setInterval(()=>{const _0x1ac93e=_0x3ccbd9;_0x3b5712--;const _0x57c368=_0x3b5712/_0x276571*0x64;_0x388f97[_0x1ac93e(0x8f0)]['width']=_0x57c368+'%',_0x833a12[_0x1ac93e(0xa0d)]=_0x3b5712,_0x3b5712<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x1ac93e(0x32a)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x350321=![]){const _0x2e5dde=_0x27ad1b;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x12021b=null,_0xa38f64=![];if(!_0x350321){const _0x2edb0d=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x46e239=_0x2edb0d['questionType']||currentDisplayedQuiz[_0x2e5dde(0x447)];if(_0x46e239===_0x2e5dde(0xa97)||_0x46e239===_0x2e5dde(0x7c8))_0x12021b=document['querySelector']('textarea[name=\x22question_single\x22]')?.['value']['trim']()??'';else{if(_0x46e239===_0x2e5dde(0x62a))_0x12021b=document['querySelector'](_0x2e5dde(0x513))?.['value']??'';else{const _0x46e633=document[_0x2e5dde(0x46b)](_0x2e5dde(0x1e6));_0x46e633&&(_0x12021b=_0x46e633[_0x2e5dde(0x589)]);}}if(_0x12021b===null||_0x12021b===''){showMessage(_0x2e5dde(0x18d)),startPerQuestionTimer();return;}const _0x137071=currentDisplayedQuiz[_0x2e5dde(0x335)]?.['isConfidenceScoringEnabled']===!![],_0x5f4d2b=currentDisplayedQuiz[_0x2e5dde(0x335)]?.['confidenceMode']||_0x2e5dde(0x70b);if(_0x137071&&_0x5f4d2b==='mandatory'){document['getElementById'](_0x2e5dde(0xb13))[_0x2e5dde(0x9f6)][_0x2e5dde(0x93d)]=_0x2e5dde(0x823),document[_0x2e5dde(0xa9a)](_0x2e5dde(0x625))[_0x2e5dde(0x589)]=_0x12021b,document[_0x2e5dde(0xa9a)](_0x2e5dde(0xb13))['classList'][_0x2e5dde(0x525)]('hidden');return;}const _0x2126d5=document[_0x2e5dde(0xa9a)](_0x2e5dde(0x868));_0x2126d5&&(_0xa38f64=_0x2126d5['checked']);}const _0x45cc0c={'answer':_0x12021b,'wasConfident':_0xa38f64};proceedToNextQuestion(_0x45cc0c);}async function finalizePerQuestionQuiz(){const _0x2fc9aa=_0x27ad1b,_0x1fcb53=currentDisplayedQuiz[_0x2fc9aa(0x4aa)][_0x2fc9aa(0x8c9)](_0x13f215=>_0x13f215['questionType']===_0x2fc9aa(0xa97));_0x1fcb53?showMessage(_0x2fc9aa(0x45c)):showMessage(_0x2fc9aa(0x45a));const _0xbffe9c=currentQuizData['id'],_0x1f4cf9=doc(db,_0x2fc9aa(0x827)+appId+_0x2fc9aa(0x2c4)+_0xbffe9c+_0x2fc9aa(0x4d3),currentStudentName),_0x3a5989=await getDoc(_0x1f4cf9),_0x55225a=_0x3a5989[_0x2fc9aa(0x539)]()?_0x3a5989[_0x2fc9aa(0x4b8)]():{},_0x919f7a=_0x55225a['attempts']||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x919f7a);}function getResultsFilename(){const _0x2146a9=_0x27ad1b,_0x4864a5=document[_0x2146a9(0xa9a)](_0x2146a9(0x717))['textContent'][_0x2146a9(0x9da)](/[^a-z0-9]/gi,'_')[_0x2146a9(0x90c)]();return'results_'+(_0x4864a5||_0x2146a9(0x88a));}function exportResultsAsImage(){const _0x411d32=_0x27ad1b,_0x3fe1f0=document['getElementById'](_0x411d32(0xb8a));showMessage(_0x411d32(0x849)),html2canvas(_0x3fe1f0)['then'](_0xe4a514=>{const _0xe5d0a7=_0x411d32,_0x34f463=document[_0xe5d0a7(0x3bf)]('a');_0x34f463[_0xe5d0a7(0x8ad)]=getResultsFilename()+_0xe5d0a7(0xb1c),_0x34f463[_0xe5d0a7(0x275)]=_0xe4a514[_0xe5d0a7(0x6cc)](_0xe5d0a7(0x9ba)),_0x34f463['click'](),messageModal[_0xe5d0a7(0x25c)]['add'](_0xe5d0a7(0x864));});}function exportResultsAsPDF(){const _0x5db896=_0x27ad1b,{jsPDF:_0x3b7afa}=window[_0x5db896(0x1bb)],_0x54fa50=new _0x3b7afa();_0x54fa50[_0x5db896(0x473)](_0x5db896(0x12c),'normal'),_0x54fa50[_0x5db896(0x31d)]({'html':_0x5db896(0x527)}),_0x54fa50[_0x5db896(0x467)](getResultsFilename()+_0x5db896(0x169));}function exportResultsAsWord(){const _0x35c77d=_0x27ad1b,_0x5419fb=_0x35c77d(0x43e)+_0x35c77d(0x51b)+_0x35c77d(0xa00)+_0x35c77d(0x8b7),_0x5750b9=_0x35c77d(0xafd),_0x205b7c=_0x5419fb+document[_0x35c77d(0xa9a)]('results-table-container')[_0x35c77d(0x415)]+_0x5750b9,_0x1862df=_0x35c77d(0x8e5)+encodeURIComponent(_0x205b7c),_0x36ad6d=document[_0x35c77d(0x3bf)]('a');document['body'][_0x35c77d(0x59e)](_0x36ad6d),_0x36ad6d[_0x35c77d(0x275)]=_0x1862df,_0x36ad6d['download']=getResultsFilename()+_0x35c77d(0x6de),_0x36ad6d[_0x35c77d(0x4be)](),document[_0x35c77d(0x7fa)][_0x35c77d(0x124)](_0x36ad6d);}function exportResultsAsExcel(){const _0x2690e8=_0x27ad1b,_0x168904=document[_0x2690e8(0xa9a)](_0x2690e8(0x6bb));let _0x3d28fc=[];for(let _0x2f93ce=0x0;_0x2f93ce<_0x168904[_0x2690e8(0x288)]['length'];_0x2f93ce++){let _0x5b2f6f=[],_0x580f99=_0x168904[_0x2690e8(0x288)][_0x2f93ce][_0x2690e8(0x4e0)](_0x2690e8(0x1d9));for(let _0x521a97=0x0;_0x521a97<_0x580f99[_0x2690e8(0x7dc)];_0x521a97++){_0x5b2f6f['push']('\x22'+_0x580f99[_0x521a97]['innerText'][_0x2690e8(0x9da)](/"/g,'\x22\x22')+'\x22');}_0x3d28fc[_0x2690e8(0x2b6)](_0x5b2f6f[_0x2690e8(0x4ad)](','));}const _0x35ddc5=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x3d28fc[_0x2690e8(0x4ad)]('\x0a')],{'type':_0x2690e8(0x2a9)}),_0x572dd6=document[_0x2690e8(0x3bf)]('a');_0x572dd6['href']=URL[_0x2690e8(0x636)](_0x35ddc5),_0x572dd6['download']=getResultsFilename()+_0x2690e8(0x82e),_0x572dd6['click']();}function exportTableAsImage(_0x395520,_0x464f35){const _0x18295a=document['getElementById'](_0x395520);if(!_0x18295a){showMessage('ไม่พบตารางสำหรับ\x20Export');return;}showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x18295a)['then'](_0x28ed77=>{const _0x489a34=_0x5f3a,_0x216bfe=document['createElement']('a');_0x216bfe['download']=_0x464f35+_0x489a34(0xb1c),_0x216bfe[_0x489a34(0x275)]=_0x28ed77[_0x489a34(0x6cc)](_0x489a34(0x9ba)),_0x216bfe[_0x489a34(0x4be)](),messageModal[_0x489a34(0x25c)][_0x489a34(0x2bd)](_0x489a34(0x864));});}function exportTableAsPDF(_0x5f3143,_0x3bfc70){const _0x1854d8=_0x27ad1b,{jsPDF:_0x2fc506}=window['jspdf'],_0x1c2d7f=new _0x2fc506();_0x1c2d7f[_0x1854d8(0x473)](_0x1854d8(0x12c),'normal'),_0x1c2d7f[_0x1854d8(0x31d)]({'html':'#'+_0x5f3143}),_0x1c2d7f[_0x1854d8(0x467)](_0x3bfc70+'.pdf');}function exportTableAsWord(_0xcf00fe,_0x4b0c5a){const _0x504754=_0x27ad1b,_0x415641=document[_0x504754(0xa9a)](_0xcf00fe);if(!_0x415641){showMessage(_0x504754(0x19b));return;}const _0x8dbe31=_0x504754(0x43e)+_0x504754(0x51b)+_0x504754(0xa00)+_0x504754(0x8b7),_0x58d93f=_0x504754(0xafd),_0x26ee53=_0x8dbe31+_0x415641[_0x504754(0x415)]+_0x58d93f,_0x10dd00=_0x504754(0x8e5)+encodeURIComponent(_0x26ee53),_0x2ffbad=document['createElement']('a');document[_0x504754(0x7fa)][_0x504754(0x59e)](_0x2ffbad),_0x2ffbad['href']=_0x10dd00,_0x2ffbad[_0x504754(0x8ad)]=_0x4b0c5a+_0x504754(0x6de),_0x2ffbad[_0x504754(0x4be)](),document[_0x504754(0x7fa)][_0x504754(0x124)](_0x2ffbad);}function exportTableAsExcel(_0x532440,_0x1e6a3a){const _0x4e2945=_0x27ad1b,_0x25fbc8=document[_0x4e2945(0xa9a)](_0x532440);if(!_0x25fbc8){showMessage(_0x4e2945(0x19b));return;}let _0x5b3bf0=[];for(let _0x38e806=0x0;_0x38e806<_0x25fbc8[_0x4e2945(0x288)]['length'];_0x38e806++){let _0x448050=[],_0x41415c=_0x25fbc8[_0x4e2945(0x288)][_0x38e806][_0x4e2945(0x4e0)](_0x4e2945(0x1d9));for(let _0x5efefa=0x0;_0x5efefa<_0x41415c['length'];_0x5efefa++){_0x448050[_0x4e2945(0x2b6)]('\x22'+_0x41415c[_0x5efefa][_0x4e2945(0x3f9)][_0x4e2945(0x9da)](/"/g,'\x22\x22')+'\x22');}_0x5b3bf0[_0x4e2945(0x2b6)](_0x448050[_0x4e2945(0x4ad)](','));}const _0x55ddf4=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x5b3bf0['join']('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x574f5f=document['createElement']('a');_0x574f5f[_0x4e2945(0x275)]=URL[_0x4e2945(0x636)](_0x55ddf4),_0x574f5f[_0x4e2945(0x8ad)]=_0x1e6a3a+_0x4e2945(0x82e),_0x574f5f[_0x4e2945(0x4be)]();}function renderAnalytics(_0x3d8df0,_0xa2f45e){const _0x2e7c93=_0x27ad1b,_0x20e86e=_0xa2f45e[_0x2e7c93(0x558)](_0x1998f0=>_0x1998f0['latestScore']!==undefined),_0x2f6b21=currentProjectData[_0x2e7c93(0x161)]['length'],_0x558a3a=_0x20e86e['length'],_0x438d37=_0x2f6b21-_0x558a3a,_0x4133eb=_0x2f6b21>0x0?_0x558a3a/_0x2f6b21*0x64:0x0,_0x3630f5=_0x20e86e[_0x2e7c93(0x821)](_0x2e3730=>_0x2e3730[_0x2e7c93(0xa17)]),_0x1c421d=_0x3630f5[_0x2e7c93(0x7dc)]>0x0?_0x3630f5['reduce']((_0x24dfc9,_0x318f02)=>_0x24dfc9+_0x318f02,0x0)/_0x3630f5[_0x2e7c93(0x7dc)]:0x0,_0x2da9d5=_0x3d8df0['questions'][_0x2e7c93(0x7dc)],_0x160640=_0x2da9d5>0x0?_0x1c421d/_0x2da9d5*0x64:0x0,_0x518e95=calculateItemAnalysis(_0x3d8df0,_0x20e86e),_0xc50671=calculateReliabilityKR20(_0x3d8df0,_0x20e86e,_0x518e95[_0x2e7c93(0x87a)]);let _0x57f449='';if(_0xc50671!==null){let _0x467580='';if(_0xc50671>=0.9)_0x467580=_0x2e7c93(0x95e);else{if(_0xc50671>=0.8)_0x467580=_0x2e7c93(0xaf8);else{if(_0xc50671>=0.7)_0x467580='ดี';else{if(_0xc50671>=0.6)_0x467580='พอใช้';else _0x467580='ควรปรับปรุง';}}}_0x57f449=_0x2e7c93(0x1c1)+_0xc50671[_0x2e7c93(0x32c)](0x2)+_0x2e7c93(0xb34)+_0x467580+_0x2e7c93(0x6e2);}const _0x2afd93=document[_0x2e7c93(0xa9a)](_0x2e7c93(0x79b));_0x2afd93[_0x2e7c93(0x415)]=_0x2e7c93(0x60d)+_0x4133eb[_0x2e7c93(0x32c)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x558a3a+'/'+_0x2f6b21+_0x2e7c93(0x56c)+_0x1c421d[_0x2e7c93(0x32c)](0x2)+_0x2e7c93(0x344)+_0x160640['toFixed'](0x0)+_0x2e7c93(0x8cb)+(_0x3630f5[_0x2e7c93(0x7dc)]>0x0?Math['max'](..._0x3630f5):_0x2e7c93(0x36c))+_0x2e7c93(0xa50)+(_0x3630f5[_0x2e7c93(0x7dc)]>0x0?Math['min'](..._0x3630f5):_0x2e7c93(0x36c))+_0x2e7c93(0x1c4)+_0x57f449+_0x2e7c93(0x4c7);const _0x5913f3=document[_0x2e7c93(0xa9a)](_0x2e7c93(0xa82));_0x5913f3&&_0x5913f3[_0x2e7c93(0x525)]();const _0x23a384=_0x2e7c93(0x967);_0x2afd93[_0x2e7c93(0xaaf)](_0x2e7c93(0x5f6),_0x23a384);const _0x129f80=currentProjectData[_0x2e7c93(0x161)]||[];renderSubmissionChart(_0x558a3a,_0x438d37,_0x20e86e,_0x129f80),renderScoreDistributionChart(_0x20e86e,_0x2da9d5),renderQuestionAnalytics(_0x3d8df0,_0x20e86e,_0x129f80),renderInterestingStats(_0x3d8df0,_0x20e86e);}async function handleExportLessonPDF(){const _0x317b19=_0x27ad1b,_0x5423dd=document['getElementById'](_0x317b19(0x308)),_0x31e17e=document[_0x317b19(0xa9a)](_0x317b19(0x86f))['textContent'],_0x4912ec=window[_0x317b19(0x524)]('',_0x317b19(0x940)),_0x5d5e93='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>'+_0x31e17e+_0x317b19(0x4e2)+_0x5423dd['innerHTML']+_0x317b19(0x312);_0x4912ec['document'][_0x317b19(0x180)](_0x5d5e93),_0x4912ec[_0x317b19(0x2ed)]['close'](),_0x4912ec[_0x317b19(0x89a)]=function(){setTimeout(()=>{const _0x5974a9=_0x5f3a;_0x4912ec[_0x5974a9(0x3a0)]();},0x5dc);};}function renderInterestingStats(_0x104345,_0x2e2908){const _0x575d75=_0x27ad1b,_0x19e113=document[_0x575d75(0xa9a)](_0x575d75(0x157));if(!_0x19e113)return;if(_0x2e2908[_0x575d75(0x7dc)]===0x0){_0x19e113[_0x575d75(0x415)]='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0x1259f5=_0x104345[_0x575d75(0x4aa)]['map']((_0x44f970,_0x19935b)=>({'index':_0x19935b+0x1,'text':_0x44f970[_0x575d75(0xac2)]||_0x44f970[_0x575d75(0x856)],'correct':0x0}));_0x2e2908[_0x575d75(0x50c)](_0x1bfc43=>{const _0x490afd=_0x575d75,_0x542df0=_0x1bfc43[_0x490afd(0x870)][_0x1bfc43[_0x490afd(0x870)][_0x490afd(0x7dc)]-0x1];_0x542df0&&_0x542df0['answers']&&_0x542df0[_0x490afd(0x184)]['forEach'](_0x1f32c8=>{const _0x2110db=_0x490afd,_0x403265=_0x1259f5['find'](_0x51fdf4=>_0x51fdf4[_0x2110db(0x428)]===_0x1f32c8[_0x2110db(0x649)]);_0x1f32c8['isCorrect']&&_0x403265&&_0x403265[_0x2110db(0xa43)]++;});});const _0x21ceb0=_0x2e2908[_0x575d75(0x7dc)],_0x1823f6=Math[_0x575d75(0x130)](..._0x1259f5['map'](_0x49a068=>_0x49a068[_0x575d75(0xa43)])),_0x9af5bb=Math[_0x575d75(0x60b)](..._0x1259f5[_0x575d75(0x821)](_0x186163=>_0x186163[_0x575d75(0xa43)])),_0xcd6af0=_0x1259f5[_0x575d75(0x558)](_0x424bef=>_0x424bef[_0x575d75(0xa43)]===_0x1823f6)['map'](_0xfde083=>_0x575d75(0x530)+_0xfde083[_0x575d75(0x118)]),_0x5dc698=_0x1259f5['filter'](_0x134d77=>_0x134d77[_0x575d75(0xa43)]===_0x9af5bb)[_0x575d75(0x821)](_0x3bffd1=>_0x575d75(0x530)+_0x3bffd1[_0x575d75(0x118)]),_0x20dd43=_0x2e2908[_0x575d75(0xae5)]((_0x1be6c7,_0x202a96)=>_0x202a96[_0x575d75(0xa17)]-_0x1be6c7['latestScore'])[_0x575d75(0x558)]((_0x4731bd,_0x19891f,_0x57f869)=>_0x4731bd[_0x575d75(0xa17)]===_0x57f869[0x0][_0x575d75(0xa17)]),_0x3ab8be=_0x2e2908['sort']((_0x34a90a,_0x6c6d1e)=>_0x34a90a[_0x575d75(0xa17)]-_0x6c6d1e[_0x575d75(0xa17)])['filter']((_0x53f782,_0x10362f,_0x53c108)=>_0x53f782['latestScore']===_0x53c108[0x0][_0x575d75(0xa17)]),_0xbb7954=_0x575d75(0x2f4)+_0xcd6af0[_0x575d75(0x4ad)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x1823f6+_0x575d75(0x3d6)+_0x21ceb0+_0x575d75(0x13c)+_0x5dc698[_0x575d75(0x4ad)](',\x20')+_0x575d75(0x8c3)+(_0x21ceb0-_0x9af5bb)+'\x20/\x20'+_0x21ceb0+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x20dd43[_0x575d75(0x821)](_0xa29052=>_0xa29052[_0x575d75(0x8d6)])[_0x575d75(0x4ad)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x20dd43[0x0][_0x575d75(0xa17)]+_0x575d75(0x810)+_0x3ab8be[_0x575d75(0x821)](_0xe9de34=>_0xe9de34['studentName'])['join'](',\x20')+_0x575d75(0x6a2)+_0x3ab8be[0x0][_0x575d75(0xa17)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x19e113[_0x575d75(0x415)]=_0xbb7954;}function renderSubmissionChart(_0x2aff23,_0x947e7d,_0x196195,_0x17ca30){const _0x3ab6f7=_0x27ad1b,_0x25a3a4=document[_0x3ab6f7(0xa9a)](_0x3ab6f7(0xa62))[_0x3ab6f7(0xb4b)]('2d'),_0x58de74=_0x196195[_0x3ab6f7(0x821)](_0x5bbe50=>_0x5bbe50[_0x3ab6f7(0x8d6)]),_0x1e9e26=_0x17ca30[_0x3ab6f7(0x558)](_0x4adb83=>!_0x58de74[_0x3ab6f7(0x203)](_0x4adb83));chartInstances['submission']&&chartInstances[_0x3ab6f7(0x11a)]['destroy'](),chartInstances['submission']=new Chart(_0x25a3a4,{'type':'doughnut','data':{'labels':[_0x3ab6f7(0x92a),_0x3ab6f7(0xaca)],'datasets':[{'data':[_0x2aff23,_0x947e7d],'backgroundColor':[_0x3ab6f7(0x23d),_0x3ab6f7(0x382)],'borderColor':[_0x3ab6f7(0x9b2),_0x3ab6f7(0x9b2)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x3ab6f7(0x1d2)},'tooltip':{'callbacks':{'label':function(_0x2683c3){const _0x100594=_0x3ab6f7;let _0x5f5ddf=_0x2683c3['label']||'';return _0x5f5ddf&&(_0x5f5ddf+=':\x20'),_0x5f5ddf+=_0x2683c3[_0x100594(0x7ca)],_0x5f5ddf;},'afterLabel':function(_0x2e8a5d){const _0x46d968=_0x3ab6f7;let _0x389b5e;return _0x2e8a5d['dataIndex']===0x0?_0x389b5e=_0x58de74:_0x389b5e=_0x1e9e26,_0x389b5e[_0x46d968(0x7dc)]>0x0?_0x389b5e['join']('\x0a'):_0x46d968(0x1b2);}}}}}});}function renderScoreDistributionChart(_0x421a79,_0x5a32ce){const _0x164882=_0x27ad1b,_0x11cebf=document[_0x164882(0xa9a)](_0x164882(0x5ee))['getContext']('2d'),_0x3b227c={};for(let _0xa30bbb=0x0;_0xa30bbb<=_0x5a32ce;_0xa30bbb++){_0x3b227c[_0xa30bbb]=0x0;}_0x421a79[_0x164882(0x50c)](_0x50dd31=>{_0x3b227c[_0x50dd31['latestScore']]!==undefined&&_0x3b227c[_0x50dd31['latestScore']]++;}),chartInstances[_0x164882(0x8b3)]&&chartInstances[_0x164882(0x8b3)][_0x164882(0x8e2)](),chartInstances[_0x164882(0x8b3)]=new Chart(_0x11cebf,{'type':_0x164882(0x5bb),'data':{'labels':Object[_0x164882(0x698)](_0x3b227c),'datasets':[{'label':'จำนวนนักเรียน','data':Object['values'](_0x3b227c),'backgroundColor':_0x164882(0x9d6),'borderColor':_0x164882(0x55f),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x164882(0x72e)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x24b3f0){const _0x261e21=_0x164882,_0x210874=_0x24b3f0[_0x261e21(0xa70)],_0x4758ef=_0x421a79[_0x261e21(0x558)](_0x2061b3=>_0x2061b3[_0x261e21(0xa17)]==_0x210874)['map'](_0x1c4c41=>_0x1c4c41[_0x261e21(0x8d6)]);return _0x4758ef[_0x261e21(0x7dc)]>0x0?_0x4758ef['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x4f43b3,_0x1c7a3a,_0x4b53ba){const _0x4c3494=_0x27ad1b,_0x4d2712=document[_0x4c3494(0xa9a)](_0x4c3494(0x6dc));if(_0x4b53ba['length']===0x0){_0x4d2712[_0x4c3494(0x415)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x387b21=calculateItemAnalysis(_0x4f43b3,_0x1c7a3a),_0x206d09=calculateDistractorAnalysis(_0x4f43b3,_0x1c7a3a);let _0x35a9bc='';_0x387b21[_0x4c3494(0x676)]&&(_0x35a9bc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x387b21[_0x4c3494(0x676)]['upperGroupNames'][_0x4c3494(0x7dc)]+_0x4c3494(0x4bc)+_0x387b21[_0x4c3494(0x676)][_0x4c3494(0xb1a)][_0x4c3494(0x821)](_0x1b2088=>'<li>'+_0x1b2088+'</li>')[_0x4c3494(0x4ad)]('')+_0x4c3494(0x5e7)+_0x387b21['overallGroups'][_0x4c3494(0x595)][_0x4c3494(0x7dc)]+_0x4c3494(0x4bc)+_0x387b21[_0x4c3494(0x676)][_0x4c3494(0x595)][_0x4c3494(0x821)](_0x3b9d7f=>'<li>'+_0x3b9d7f+'</li>')[_0x4c3494(0x4ad)]('')+_0x4c3494(0xb28));let _0x18d2f3='';const _0x3d29f1=_0x1c7a3a[_0x4c3494(0x821)](_0x4137bb=>_0x4137bb['studentName']),_0x1711fc=_0x4893cc=>{const _0x2644db=_0x4c3494;if(_0x4893cc>=0.8)return'<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>';if(_0x4893cc>=0.6)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>';if(_0x4893cc>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x4893cc>=0.2)return _0x2644db(0x174);return _0x2644db(0x9f2);},_0x2beab3=_0x18aa22=>{const _0xc978c5=_0x4c3494;if(_0x18aa22<0x0)return _0xc978c5(0x8bf);if(_0x18aa22>=0.4)return _0xc978c5(0x28a);if(_0x18aa22>=0.3)return _0xc978c5(0x4c2);if(_0x18aa22>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return _0xc978c5(0x626);},_0x16d461=_0x8f558=>{const _0x5413f4=_0x4c3494,_0x2e445f=_0x8f558[_0x5413f4(0x32c)](0x0);if(parseFloat(_0x2e445f)===0x64)return _0x5413f4(0x851)+_0x2e445f+_0x5413f4(0xb01);if(_0x8f558>=0x32)return _0x5413f4(0x4d5)+_0x2e445f+_0x5413f4(0xb01);return _0x5413f4(0x7c5)+_0x2e445f+_0x5413f4(0xb01);};_0x4f43b3[_0x4c3494(0x4aa)][_0x4c3494(0x50c)]((_0x35f372,_0x152c46)=>{const _0xb547ab=_0x4c3494,_0x4e646e=_0x387b21['perQuestionStats'][_0x152c46],_0x1eae3c=_0x206d09[_0x152c46],_0x4c0140=_0x35f372[_0xb547ab(0x856)]||_0x35f372[_0xb547ab(0xac2)]||_0x35f372[_0xb547ab(0x5a3)];let _0x2d5e7f=0x0;const _0x349d6a=[],_0x3e2c73=[];_0x1c7a3a[_0xb547ab(0x50c)](_0xe33876=>{const _0x2d69af=_0xb547ab,_0x202b71=_0xe33876[_0x2d69af(0x870)][_0xe33876[_0x2d69af(0x870)]['length']-0x1];if(_0x202b71&&_0x202b71[_0x2d69af(0x184)]){const _0x36f9ba=_0x202b71[_0x2d69af(0x184)]['find'](_0x5e0980=>_0x5e0980[_0x2d69af(0x649)]===_0x4c0140)??_0x202b71[_0x2d69af(0x184)][_0x152c46]??null;_0x36f9ba&&(_0x36f9ba[_0x2d69af(0x764)]?(_0x2d5e7f++,_0x349d6a[_0x2d69af(0x2b6)](_0xe33876[_0x2d69af(0x8d6)])):_0x3e2c73[_0x2d69af(0x2b6)](_0xe33876[_0x2d69af(0x8d6)]));}});const _0x3393dc=_0x1c7a3a['length']>0x0?_0x2d5e7f/_0x1c7a3a[_0xb547ab(0x7dc)]*0x64:0x0,_0x3c2b15=_0x4b53ba[_0xb547ab(0x558)](_0x27271c=>!_0x3d29f1['includes'](_0x27271c)),_0x3518b5=_0x4e646e?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x4e646e['p']['toFixed'](0x2)+_0xb547ab(0x306)+_0x1711fc(_0x4e646e['p'])+_0xb547ab(0xa67)+_0x4e646e['r']['toFixed'](0x2)+_0xb547ab(0x306)+_0x2beab3(_0x4e646e['r'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x16d461(_0x3393dc)+_0xb547ab(0x301):'';let _0x2fc7be='';_0x1eae3c&&(_0x2fc7be=_0xb547ab(0x97e)+Object[_0xb547ab(0x698)](_0x1eae3c)['map'](_0x409df6=>{const _0x317342=_0xb547ab,_0x4e4f7d=_0x1eae3c[_0x409df6],_0x35895b=parseInt(_0x409df6)===_0x35f372[_0x317342(0xa18)],_0x2000a4=!_0x35895b&&_0x4e4f7d[_0x317342(0x472)]>_0x4e4f7d[_0x317342(0xacd)];return _0x317342(0xade)+(_0x35895b?_0x317342(0x82f):'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x35895b?'✔\x20':'')+_0x4e4f7d[_0x317342(0x428)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x4e4f7d['upper_group_count']+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x4e4f7d[_0x317342(0x472)]+'\x20'+(_0x2000a4?'👍':'')+_0x317342(0x5cf)+_0x4e4f7d[_0x317342(0x934)]+_0x317342(0x3e6);})[_0xb547ab(0x4ad)]('')+_0xb547ab(0x7b2));let _0x466623='';_0x4e646e&&_0x4e646e['upperGroupResponders']&&(_0x466623=_0xb547ab(0x536)+_0x4e646e[_0xb547ab(0x85c)][_0xb547ab(0x7dc)]+_0xb547ab(0x818)+_0x4e646e[_0xb547ab(0x85c)][_0xb547ab(0x821)](_0x489225=>_0xb547ab(0x4ef)+(_0x489225[_0xb547ab(0x764)]?_0xb547ab(0xaae):_0xb547ab(0xa72))+'\x20'+_0x489225['name']+_0xb547ab(0x1c7))[_0xb547ab(0x4ad)]('')+_0xb547ab(0x2ff)+_0x4e646e[_0xb547ab(0xb6e)][_0xb547ab(0x7dc)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x4e646e[_0xb547ab(0xb6e)][_0xb547ab(0x821)](_0x1df5bf=>_0xb547ab(0x4ef)+(_0x1df5bf[_0xb547ab(0x764)]?_0xb547ab(0xaae):_0xb547ab(0xa72))+'\x20'+_0x1df5bf[_0xb547ab(0x352)]+'</li>')[_0xb547ab(0x4ad)]('')+_0xb547ab(0xb40)),_0x18d2f3+=_0xb547ab(0x328)+(_0x152c46+0x1)+':\x20'+_0x4c0140+_0xb547ab(0x187)+_0x3518b5+_0xb547ab(0x852)+_0x4c0140+_0xb547ab(0xb71)+_0x2d5e7f+_0xb547ab(0x27d)+_0x1c7a3a[_0xb547ab(0x7dc)]+_0xb547ab(0xad7)+_0x3393dc[_0xb547ab(0x32c)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x349d6a[_0xb547ab(0x7dc)]+_0xb547ab(0x148)+(_0x349d6a[_0xb547ab(0x7dc)]>0x0?_0x349d6a['join'](',\x20'):_0xb547ab(0x1b2))+_0xb547ab(0xa77)+_0x3e2c73[_0xb547ab(0x7dc)]+_0xb547ab(0x148)+(_0x3e2c73[_0xb547ab(0x7dc)]>0x0?_0x3e2c73[_0xb547ab(0x4ad)](',\x20'):_0xb547ab(0x1b2))+_0xb547ab(0x77e)+_0x3c2b15['length']+_0xb547ab(0x148)+(_0x3c2b15[_0xb547ab(0x7dc)]>0x0?_0x3c2b15[_0xb547ab(0x4ad)](',\x20'):_0xb547ab(0x1b2))+_0xb547ab(0x4b0)+_0x2fc7be+_0xb547ab(0x976)+_0x466623+_0xb547ab(0x1f1);}),_0x4d2712[_0x4c3494(0x415)]=_0x35a9bc+_0x18d2f3;try{window[_0x4c3494(0xa63)]&&MathJax[_0x4c3494(0x5e2)]&&MathJax[_0x4c3494(0x5e2)]([_0x4d2712]);}catch(_0x3cc0ed){console[_0x4c3494(0x4a0)]('MathJax\x20typeset\x20error\x20(analytics):',_0x3cc0ed);}}function calculateDistractorAnalysis(_0x32f157,_0x817460){const _0x4c1b65=_0x27ad1b,_0xb8c851={};if(_0x817460[_0x4c1b65(0x7dc)]<0x2)return _0xb8c851;const _0x55218e=[..._0x817460][_0x4c1b65(0xae5)]((_0x3b323f,_0x11a66e)=>{const _0x4a23c3=_0x4c1b65,_0x19d42c=_0x11a66e[_0x4a23c3(0xa17)]-_0x3b323f['latestScore'];if(_0x19d42c!==0x0)return _0x19d42c;const _0x14dbbd=_0x3b323f['attempts']?.[_0x4a23c3(0x7dc)]||0x1,_0x27ab80=_0x11a66e['attempts']?.[_0x4a23c3(0x7dc)]||0x1,_0x2d96e2=_0x14dbbd-_0x27ab80;if(_0x2d96e2!==0x0)return _0x2d96e2;const _0x2a7824=new Date(_0x3b323f['latestSubmittedAt']),_0x4c06cc=new Date(_0x11a66e['latestSubmittedAt']),_0x13c173=_0x2a7824-_0x4c06cc;if(_0x13c173!==0x0)return _0x13c173;return _0x3b323f[_0x4a23c3(0x8d6)][_0x4a23c3(0x423)](_0x11a66e[_0x4a23c3(0x8d6)],'th');}),_0x19c167=_0x55218e[_0x4c1b65(0x7dc)],_0xae5bca=Math['max'](0x1,Math[_0x4c1b65(0xaac)](_0x19c167*0.33)),_0x3c1544=_0x55218e[_0x4c1b65(0xad3)](0x0,_0xae5bca),_0x3b01ac=_0x55218e[_0x4c1b65(0xad3)](-_0xae5bca);return _0x32f157[_0x4c1b65(0x4aa)][_0x4c1b65(0x50c)]((_0x16ea66,_0xe19eb2)=>{const _0x1af245=_0x4c1b65;if(_0x16ea66[_0x1af245(0x5fe)]!=='multiple_choice'||!_0x16ea66[_0x1af245(0x559)])return;const _0x16db92=_0x16ea66[_0x1af245(0xac2)],_0x290d58={};_0x16ea66[_0x1af245(0x559)][_0x1af245(0x50c)]((_0x4ccb87,_0xb29a4d)=>{_0x290d58[_0xb29a4d]={'text':_0x4ccb87,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x55218e['forEach'](_0x1a46a0=>{const _0x3cd10b=_0x1af245,_0x96dd39=_0x1a46a0[_0x3cd10b(0x870)][_0x1a46a0[_0x3cd10b(0x870)][_0x3cd10b(0x7dc)]-0x1],_0x100c6e=_0x96dd39['answers'][_0x3cd10b(0x3d5)](_0x389033=>_0x389033[_0x3cd10b(0x649)]===_0x16db92);if(_0x100c6e&&_0x100c6e[_0x3cd10b(0xa90)]!==null){const _0x4aa4f3=_0x16ea66[_0x3cd10b(0x559)][_0x3cd10b(0x361)](_0x59d6d2=>_0x59d6d2===_0x100c6e['answerText']);_0x4aa4f3!==-0x1&&_0x290d58[_0x4aa4f3]&&(_0x290d58[_0x4aa4f3][_0x3cd10b(0x934)]++,_0x3c1544[_0x3cd10b(0x203)](_0x1a46a0)&&_0x290d58[_0x4aa4f3][_0x3cd10b(0xacd)]++,_0x3b01ac['includes'](_0x1a46a0)&&_0x290d58[_0x4aa4f3]['lower_group_count']++);}}),_0xb8c851[_0xe19eb2]=_0x290d58;}),_0xb8c851;}function calculateReliabilityKR20(_0x3b14d3,_0x2e5e40,_0x592529){const _0x173273=_0x27ad1b,_0x3ef46f=_0x3b14d3['questions']['length'];if(_0x3ef46f<0x2||_0x2e5e40[_0x173273(0x7dc)]<0x2)return null;const _0x204d1b=_0x2e5e40[_0x173273(0x821)](_0x3d9e72=>_0x3d9e72[_0x173273(0xa17)]),_0x5570cd=_0x204d1b[_0x173273(0x70d)]((_0x4635aa,_0x494cfb)=>_0x4635aa+_0x494cfb,0x0)/_0x204d1b['length'],_0x5c3a20=_0x204d1b[_0x173273(0x821)](_0x2d8be6=>Math['pow'](_0x2d8be6-_0x5570cd,0x2))[_0x173273(0x70d)]((_0x2c52b9,_0xe7a6a0)=>_0x2c52b9+_0xe7a6a0,0x0)/_0x204d1b['length'];if(_0x5c3a20===0x0)return null;let _0x4b6753=0x0;for(let _0x493f42=0x0;_0x493f42<_0x3ef46f;_0x493f42++){const _0x17b1a9=_0x592529[_0x493f42]?.['p'];if(_0x17b1a9===undefined)continue;const _0x301f99=0x1-_0x17b1a9;_0x4b6753+=_0x17b1a9*_0x301f99;}if(_0x4b6753===0x0)return null;const _0x4279fb=_0x3ef46f/(_0x3ef46f-0x1)*(0x1-_0x4b6753/_0x5c3a20);if(_0x4279fb>0x1)return null;return _0x4279fb;}async function handleAnalyzeClass(){const _0x32501e=_0x27ad1b;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x2edc56=collection(db,_0x32501e(0x827)+appId+_0x32501e(0x2c4)+currentQuizData['id']+_0x32501e(0x4d3)),_0x47809c=await getDocs(_0x2edc56),_0x143db2=_0x47809c[_0x32501e(0x8e0)][_0x32501e(0x821)](_0x333b3b=>_0x333b3b[_0x32501e(0x4b8)]());if(_0x143db2[_0x32501e(0x7dc)]<0x2){showMessage(_0x32501e(0x1de));return;}const _0x3887fe=document[_0x32501e(0xa9a)](_0x32501e(0x708));_0x3887fe[_0x32501e(0x415)]=_0x32501e(0x737),document[_0x32501e(0xa9a)](_0x32501e(0xb6d))[_0x32501e(0xb12)]=!![];const _0x4e6f65=_0x143db2['map']((_0x51abfa,_0xb4a63)=>{const _0x8130b9=_0x32501e,_0xe38c48=_0x51abfa[_0x8130b9(0x870)][_0x51abfa['attempts'][_0x8130b9(0x7dc)]-0x1];if(!_0xe38c48)return'';return _0x8130b9(0x185)+(_0xb4a63+0x1)+'\x20('+_0x51abfa[_0x8130b9(0x8d6)]+_0x8130b9(0x33a)+_0xe38c48['score']+'/'+_0x51abfa['totalQuestions']+_0x8130b9(0x162)+JSON['stringify'](_0xe38c48['answers'])+_0x8130b9(0x108);})[_0x32501e(0x4ad)](_0x32501e(0x582)),_0x37f128='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData[_0x32501e(0x21a)]+_0x32501e(0x2c8)+JSON[_0x32501e(0xa1a)](currentQuizData[_0x32501e(0x4aa)])+_0x32501e(0x2e0)+_0x4e6f65+_0x32501e(0x903),_0x1d56f4={'type':_0x32501e(0xb47),'properties':{'classStrengths':{'type':_0x32501e(0x863),'items':{'type':_0x32501e(0xb86)}},'classWeaknesses':{'type':_0x32501e(0x863),'items':{'type':_0x32501e(0xb86)}},'teacherSuggestions':{'type':_0x32501e(0x863),'items':{'type':'STRING'}}},'required':[_0x32501e(0x79e),_0x32501e(0x788),'teacherSuggestions']};try{const _0x12a9af=await callAnalysisApi(_0x37f128,_0x1d56f4);displayClassAnalysis(_0x12a9af);}catch(_0x53adba){console[_0x32501e(0x4a0)](_0x32501e(0x5c4),_0x53adba),_0x3887fe[_0x32501e(0x415)]=_0x32501e(0xad9)+_0x53adba['message']+_0x32501e(0x12f);}finally{document[_0x32501e(0xa9a)](_0x32501e(0xb6d))[_0x32501e(0xb12)]=![];}}function displayClassAnalysis(_0x5b1456){const _0xc93473=_0x27ad1b,_0x3ed421=document['getElementById'](_0xc93473(0x708));if(!_0x5b1456){_0x3ed421[_0xc93473(0x415)]=_0xc93473(0x5aa);return;}_0x3ed421[_0xc93473(0x415)]=_0xc93473(0x3e7)+_0x5b1456[_0xc93473(0x79e)][_0xc93473(0x821)](_0x39a8d7=>_0xc93473(0x4ef)+_0x39a8d7+_0xc93473(0x1c7))[_0xc93473(0x4ad)]('')+_0xc93473(0xa12)+_0x5b1456[_0xc93473(0x788)][_0xc93473(0x821)](_0x3491db=>'<li>'+_0x3491db+'</li>')['join']('')+_0xc93473(0x87d)+_0x5b1456[_0xc93473(0x7bc)][_0xc93473(0x821)](_0x474eca=>_0xc93473(0x4ef)+_0x474eca+_0xc93473(0x1c7))[_0xc93473(0x4ad)]('')+_0xc93473(0x7ad);}function formatAndPrintWorksheet(_0x4254b4,_0x5ea619){const _0x3c3e9b=_0x27ad1b,_0x157987=_0x3c3e9b(0x886)+_0x4254b4[_0x3c3e9b(0x21a)]+_0x3c3e9b(0x8a9)+_0x4254b4[_0x3c3e9b(0x21a)]+_0x3c3e9b(0x887)+_0x4254b4[_0x3c3e9b(0x4aa)][_0x3c3e9b(0x821)]((_0xb38b17,_0x4c9200)=>_0x3c3e9b(0xb32)+(_0x4c9200+0x1)+'.\x20'+_0xb38b17[_0x3c3e9b(0xac2)]+_0x3c3e9b(0xa9e)+(_0xb38b17['imageCode']?_0x3c3e9b(0x18b)+_0xb38b17[_0x3c3e9b(0x56d)]+_0x3c3e9b(0xac7):'')+_0x3c3e9b(0x911))[_0x3c3e9b(0x4ad)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x5ea619[_0x3c3e9b(0x2ed)]['write'](_0x157987),_0x5ea619[_0x3c3e9b(0x2ed)][_0x3c3e9b(0x14a)](),_0x5ea619[_0x3c3e9b(0x89a)]=function(){setTimeout(()=>{const _0xd24635=_0x5f3a;_0x5ea619[_0xd24635(0x3a0)]();},0x3e8);};}async function generateWorksheet(){const _0x534910=_0x27ad1b,_0x1d06c3=document[_0x534910(0xa9a)](_0x534910(0xa76))[_0x534910(0x589)][_0x534910(0x2b0)]();if(!_0x1d06c3){showMessage(_0x534910(0x84a));return;}const _0x1aed88=document[_0x534910(0xa9a)](_0x534910(0x8b0))[_0x534910(0x23a)],_0x127523=_0x1aed88?'':_0x534910(0xb11),_0x21fec4=window[_0x534910(0x524)]('',_0x534910(0x940));_0x21fec4[_0x534910(0x2ed)][_0x534910(0x180)]('<h1></h1>');const _0x3ce589=parseInt(document[_0x534910(0xa9a)](_0x534910(0x232))[_0x534910(0x589)]),_0x1c01f9=document[_0x534910(0xa9a)]('include-images-checkbox')[_0x534910(0x23a)],_0x11a247=_0x1c01f9?_0x534910(0x872):'',_0x169742=_0x534910(0x22e)+_0x127523+_0x534910(0x34a)+_0x3ce589+_0x534910(0x789)+_0x1d06c3+_0x534910(0x3fd)+_0x11a247+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x20\x0a\x20\x20\x20\x20',_0x2961d0={'type':'OBJECT','properties':{'topic':{'type':_0x534910(0xb86)},'questions':{'type':_0x534910(0x863),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0x534910(0xb86)},'imageCode':{'type':_0x534910(0xb86)}},'required':[_0x534910(0xac2)]}}},'required':['topic',_0x534910(0x4aa)]};document[_0x534910(0xa9a)]('loader-text')[_0x534910(0xa0d)]='',document['getElementById'](_0x534910(0x82a))['classList'][_0x534910(0x525)](_0x534910(0x864)),document[_0x534910(0xa9a)](_0x534910(0x200))[_0x534910(0x25c)][_0x534910(0x525)]('hidden'),generateWorksheetBtn[_0x534910(0xb12)]=!![];try{const _0x1be6ab=await callAnalysisApi(_0x169742,_0x2961d0);formatAndPrintWorksheet(_0x1be6ab,_0x21fec4);}catch(_0x28d072){console[_0x534910(0x4a0)]('Error\x20generating\x20worksheet:',_0x28d072);if(_0x21fec4)_0x21fec4[_0x534910(0x14a)]();showMessage(_0x534910(0x8a2));}finally{document[_0x534910(0xa9a)](_0x534910(0x82a))['classList']['add']('hidden'),document[_0x534910(0xa9a)](_0x534910(0x200))[_0x534910(0x25c)][_0x534910(0x2bd)](_0x534910(0x864)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x26cd01,_0x226b61){const _0x3a63a9=_0x27ad1b,_0x2109ed={'contents':[{'role':_0x3a63a9(0x56a),'parts':[{'text':_0x26cd01}]}],'generationConfig':{'responseMimeType':_0x3a63a9(0x2d5),'responseSchema':_0x226b61}},_0x3857cb='AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q',_0x39f279=_0x3a63a9(0x501)+_0x3857cb,_0x24b455=await fetch(_0x39f279,{'method':_0x3a63a9(0x74d),'headers':{'Content-Type':_0x3a63a9(0x2d5)},'body':JSON['stringify'](_0x2109ed)});if(!_0x24b455['ok'])throw new Error(_0x3a63a9(0xac8)+_0x24b455[_0x3a63a9(0xb84)]);const _0x16eefb=await _0x24b455[_0x3a63a9(0xafc)]();if(_0x16eefb[_0x3a63a9(0xab2)]?.[0x0]?.['content']?.[_0x3a63a9(0x3b5)]?.[0x0])return JSON[_0x3a63a9(0x327)](_0x16eefb[_0x3a63a9(0xab2)][0x0][_0x3a63a9(0x5a7)][_0x3a63a9(0x3b5)][0x0][_0x3a63a9(0x428)]);else{let _0xa51eb5=_0x3a63a9(0x768);if(_0x16eefb[_0x3a63a9(0x691)]?.[_0x3a63a9(0x64d)])_0xa51eb5=_0x3a63a9(0x11e)+_0x16eefb[_0x3a63a9(0x691)][_0x3a63a9(0x64d)]+'.';else _0x16eefb[_0x3a63a9(0xab2)]?.[0x0]?.[_0x3a63a9(0xb5a)]&&_0x16eefb[_0x3a63a9(0xab2)][0x0][_0x3a63a9(0xb5a)]!==_0x3a63a9(0x149)&&(_0xa51eb5=_0x3a63a9(0x1bd)+_0x16eefb['candidates'][0x0]['finishReason']+'.');console[_0x3a63a9(0x4a0)](_0xa51eb5,JSON['stringify'](_0x16eefb));throw new Error(_0xa51eb5);}}async function handleStartSyncMode(_0x2d6029,_0x47c108=![]){const _0x4c6b0d=_0x27ad1b,_0x32fb49=allQuizzes[_0x4c6b0d(0x3d5)](_0x18fd64=>_0x18fd64['id']===_0x2d6029)||allQuizzesGlobal[_0x4c6b0d(0x3d5)](_0x2edf49=>_0x2edf49['id']===_0x2d6029);if(!_0x32fb49){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}currentQuizData=getShuffledQuiz(_0x32fb49);const _0x1250f9=Math[_0x4c6b0d(0xaac)](0x3e8+Math['random']()*0x2328)[_0x4c6b0d(0x7cb)]();try{const _0x1362dc=await addDoc(collection(db,'artifacts/'+appId+_0x4c6b0d(0x604)),{'quizId':_0x32fb49['id'],'pin':_0x1250f9,'status':'lobby','currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x47c108,'players':{}});currentLiveGameId=_0x1362dc['id'],showView(_0x4c6b0d(0xb00)),renderSyncLobbyView(_0x1250f9,_0x32fb49[_0x4c6b0d(0x21a)]),listenForSyncGameUpdates();}catch(_0x42fd9f){console[_0x4c6b0d(0x4a0)]('Error\x20starting\x20sync\x20game:',_0x42fd9f),showMessage(_0x4c6b0d(0x3aa));}}function calculateFinalPodiumScores(_0x585b17){const _0x1ab9da=_0x27ad1b;if(!_0x585b17||!_0x585b17['shuffledQuiz']||!_0x585b17[_0x1ab9da(0x7af)])return _0x585b17['players']||{};const _0x5734de=_0x585b17[_0x1ab9da(0x150)]['questions'][_0x1ab9da(0x7dc)],_0x2098ce=JSON[_0x1ab9da(0x327)](JSON[_0x1ab9da(0xa1a)](_0x585b17['players']));return Object[_0x1ab9da(0x989)](_0x2098ce)[_0x1ab9da(0x50c)](_0x1efdc2=>{const _0x20f45d=_0x1ab9da,_0x4c60c0=_0x1efdc2['score'];let _0x3fbb11=0x0;_0x585b17[_0x20f45d(0x781)]&&_0x1efdc2[_0x20f45d(0x184)]&&_0x1efdc2[_0x20f45d(0x184)]['forEach'](_0x5ef192=>{const _0xfcf670=_0x20f45d;if(_0x5ef192[_0xfcf670(0x764)]&&_0x5ef192[_0xfcf670(0x81b)])_0x3fbb11+=0x1;else!_0x5ef192[_0xfcf670(0x764)]&&_0x5ef192[_0xfcf670(0x81b)]&&(_0x3fbb11-=0x1);}),_0x1efdc2['score']=_0x4c60c0+_0x3fbb11,_0x5734de>0x0&&_0x4c60c0===_0x5734de&&(_0x1efdc2['score']+=0x1,_0x1efdc2['hasPerfectScoreBonus']=!![]);}),_0x2098ce;}function listenForSyncGameUpdates(){const _0xf177fa=_0x27ad1b;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x4723af=doc(db,_0xf177fa(0x827)+appId+_0xf177fa(0x604),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x4723af,_0x3a4811=>{const _0x324569=_0xf177fa;if(!_0x3a4811['exists']()){sessionStorage[_0x324569(0x4bf)](_0x324569(0x544));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x324569(0x861));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x324569(0x638)?showView(_0x324569(0x242)):showView(_0x324569(0x21f));return;}const _0x57b3cd=_0x3a4811[_0x324569(0x4b8)]();currentMode===_0x324569(0x638)?updateAdminSyncView(_0x57b3cd):updateStudentSyncView(_0x57b3cd);});}function renderSyncLobbyView(_0x2ed075,_0x26d206){const _0x3fa072=_0x27ad1b;liveGameView[_0x3fa072(0x415)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20'+_0x26d206+_0x3fa072(0x469)+_0x2ed075+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x1e0358=document[_0x3fa072(0xa9a)](_0x3fa072(0xa7f)),_0x4c04cc=document[_0x3fa072(0xa9a)](_0x3fa072(0x244));_0x1e0358[_0x3fa072(0x234)](_0x3fa072(0x436),()=>{const _0x4c70bb=_0x3fa072;_0x4c04cc[_0x4c70bb(0x8f0)][_0x4c70bb(0x42c)]=_0x1e0358[_0x4c70bb(0x23a)]?_0x4c70bb(0x9ce):'none';}),document[_0x3fa072(0xa9a)](_0x3fa072(0x3c6))[_0x3fa072(0x234)](_0x3fa072(0x4be),async()=>{const _0x2ad095=_0x3fa072,_0x381030=doc(db,_0x2ad095(0x827)+appId+_0x2ad095(0x604),currentLiveGameId),_0x14f861=document[_0x2ad095(0xa9a)](_0x2ad095(0xa7f))['checked'];await updateDoc(_0x381030,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x14f861});});}function updateAdminSyncView(_0x3e3a80){const _0x57fefa=_0x27ad1b;switch(_0x3e3a80[_0x57fefa(0xb84)]){case'lobby':renderSyncLobbyView(_0x3e3a80[_0x57fefa(0x959)],_0x3e3a80[_0x57fefa(0x150)][_0x57fefa(0x21a)]);const _0x52d7b7=Object[_0x57fefa(0x5d9)](_0x3e3a80[_0x57fefa(0x7af)]||{})[_0x57fefa(0x558)](([_0x33a81f,_0x237a0c])=>_0x237a0c[_0x57fefa(0xb84)]!=='inactive');document[_0x57fefa(0xa9a)](_0x57fefa(0x9a6))[_0x57fefa(0xa0d)]=_0x52d7b7[_0x57fefa(0x7dc)],document[_0x57fefa(0xa9a)](_0x57fefa(0x6c7))['innerHTML']=_0x52d7b7[_0x57fefa(0x821)](([_0x3cb1da,_0x8f064d])=>_0x57fefa(0x22c)+_0x3cb1da+_0x57fefa(0x64a)+_0x3cb1da+_0x57fefa(0x44b))[_0x57fefa(0x4ad)]('')||'<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>',document['getElementById'](_0x57fefa(0x3c6))[_0x57fefa(0xb12)]=_0x52d7b7['length']===0x0;break;case _0x57fefa(0x96c):const _0x462141=Object[_0x57fefa(0x989)](_0x3e3a80[_0x57fefa(0x7af)]||{})[_0x57fefa(0x558)](_0x394280=>_0x394280[_0x57fefa(0xb84)]!==_0x57fefa(0x261)),_0x5383b5=_0x462141[_0x57fefa(0x558)](_0x309969=>_0x309969[_0x57fefa(0xacb)])[_0x57fefa(0x7dc)],_0x17a934=_0x5383b5===_0x462141[_0x57fefa(0x7dc)]&&_0x462141['length']>0x0;if(_0x17a934&&_0x3e3a80['status']===_0x57fefa(0x96c)){const _0x199985=doc(db,'artifacts/'+appId+_0x57fefa(0x604),currentLiveGameId);updateDoc(_0x199985,{'status':'summary'});}else{if(document['getElementById'](_0x57fefa(0x99f))===null)renderAdminSyncQuestionView(_0x3e3a80);else{const _0x41d967=document['getElementById'](_0x57fefa(0xb25));_0x41d967&&(_0x41d967[_0x57fefa(0xa0d)]=_0x5383b5+'/'+_0x462141[_0x57fefa(0x7dc)]);const _0x5051d6=document[_0x57fefa(0xa9a)](_0x57fefa(0x6d8));_0x5051d6&&(_0x5051d6[_0x57fefa(0x415)]=_0x462141[_0x57fefa(0x821)](_0x4f36f0=>{const _0x2487a9=_0x57fefa,_0x1342ec=_0x4f36f0[_0x2487a9(0xacb)]?'bg-green-500':_0x2487a9(0x1fd),_0x121fa2=_0x4f36f0[_0x2487a9(0xacb)]?_0x2487a9(0x882):_0x2487a9(0x6b7);return _0x2487a9(0x2f0)+_0x1342ec+_0x2487a9(0x492)+_0x121fa2+_0x2487a9(0x8ae)+_0x4f36f0['name']+_0x2487a9(0x31b)+_0x4f36f0[_0x2487a9(0x352)]+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x57fefa(0x4ad)](''));}}break;case _0x57fefa(0x1ef):const _0x352b6f=_0x3e3a80[_0x57fefa(0xb50)],_0x232e3f=_0x3e3a80[_0x57fefa(0x150)][_0x57fefa(0x4aa)][_0x352b6f];renderSyncSummaryView(_0x3e3a80,_0x232e3f,!![]);break;case'results':renderAdminSyncDashboard(_0x3e3a80,!![]);break;case _0x57fefa(0x771):_0x3e3a80[_0x57fefa(0x40c)]&&saveGameResultsAsSubmissions(_0x3e3a80);sessionStorage['removeItem'](_0x57fefa(0x544));const _0x25407d=calculateFinalPodiumScores(_0x3e3a80);showPodiumView(_0x25407d,_0x57fefa(0x1eb));break;}}function renderAdminSyncQuestionView(_0x1ede36){const _0x37d15e=_0x27ad1b,_0x3d3039=_0x1ede36[_0x37d15e(0xb50)],_0x28d421=_0x1ede36['shuffledQuiz'][_0x37d15e(0x4aa)][_0x3d3039],_0x4a19bc=_0x1ede36['shuffledQuiz']['questions'][_0x37d15e(0x7dc)],_0x5dc9cd=Object['values'](_0x1ede36[_0x37d15e(0x7af)]||{})[_0x37d15e(0x558)](_0x11b15c=>_0x11b15c[_0x37d15e(0xb84)]!==_0x37d15e(0x261)),_0x36d592=_0x5dc9cd['filter'](_0x3d8c87=>_0x3d8c87[_0x37d15e(0xacb)])[_0x37d15e(0x7dc)],_0x356f1a=_0x36d592===_0x5dc9cd[_0x37d15e(0x7dc)]&&_0x5dc9cd[_0x37d15e(0x7dc)]>0x0,_0x2b0c93=(_0x28d421[_0x37d15e(0x559)]||[])['map'](_0x49a6ec=>_0x37d15e(0x510)+_0x49a6ec+_0x37d15e(0xac7))[_0x37d15e(0x4ad)]('');liveGameView[_0x37d15e(0x415)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20'+(_0x3d3039+0x1)+_0x37d15e(0x3d6)+_0x4a19bc+_0x37d15e(0x8dc)+_0x36d592+'/'+_0x5dc9cd[_0x37d15e(0x7dc)]+_0x37d15e(0xa36)+_0x28d421['questionText']+_0x37d15e(0x371)+_0x2b0c93+_0x37d15e(0x7b5)+(!_0x356f1a?_0x37d15e(0xb12):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window[_0x37d15e(0xa63)])MathJax[_0x37d15e(0x5e2)]();document[_0x37d15e(0xa9a)]('show-results-btn')[_0x37d15e(0x234)](_0x37d15e(0x4be),async()=>{const _0x2a28d2=_0x37d15e,_0x3eca83=doc(db,_0x2a28d2(0x827)+appId+_0x2a28d2(0x604),currentLiveGameId);await updateDoc(_0x3eca83,{'status':_0x2a28d2(0x884)});}),document[_0x37d15e(0xa9a)](_0x37d15e(0x915))[_0x37d15e(0x710)]=()=>{const _0x4e9c6c=_0x37d15e;openScratchpad(_0x28d421,_0x28d421[_0x4e9c6c(0x559)]||[]);},document[_0x37d15e(0xa9a)](_0x37d15e(0x193))[_0x37d15e(0x234)]('click',()=>{const _0x560b7a=_0x37d15e;document[_0x560b7a(0xa9a)]('sync-player-management')[_0x560b7a(0x25c)][_0x560b7a(0x4a8)](_0x560b7a(0x864));});}function renderSyncLeaderboardView(_0x5f1ce0,_0x5e927a){const _0x1fd33d=_0x27ad1b,_0x39888e=Object['values'](_0x5f1ce0[_0x1fd33d(0x7af)]||{});_0x39888e[_0x1fd33d(0xae5)]((_0x59045f,_0x453134)=>_0x453134[_0x1fd33d(0x8b3)]-_0x59045f['score']);const _0x487b67=_0x39888e['slice'](0x0,0x5);let _0x2451ef='';if(_0x5e927a){const _0x2f8306=_0x5f1ce0[_0x1fd33d(0xb50)]>=_0x5f1ce0[_0x1fd33d(0x150)][_0x1fd33d(0x4aa)][_0x1fd33d(0x7dc)]-0x1;_0x2451ef=_0x1fd33d(0x451)+(_0x2f8306?_0x1fd33d(0x5d4):_0x1fd33d(0x7b9))+_0x1fd33d(0xb3a);}else _0x2451ef=_0x1fd33d(0xa15);liveGameView['innerHTML']=_0x1fd33d(0x58e)+_0x487b67[_0x1fd33d(0x821)]((_0x105c58,_0x3c489c)=>_0x1fd33d(0x4d4)+(_0x3c489c+0x1)+'.\x20'+_0x105c58['name']+_0x1fd33d(0x5c6)+_0x105c58[_0x1fd33d(0x8b3)]+'</span></div>')[_0x1fd33d(0x4ad)]('')+_0x1fd33d(0x7c0)+_0x2451ef+_0x1fd33d(0x122),_0x5e927a&&document[_0x1fd33d(0xa9a)]('next-sync-question-btn')[_0x1fd33d(0x234)]('click',async()=>{const _0x599b15=_0x1fd33d,_0x4978b3=doc(db,'artifacts/'+appId+_0x599b15(0x604),currentLiveGameId),_0x18f481=_0x5f1ce0[_0x599b15(0xb50)]+0x1;if(_0x18f481<_0x5f1ce0[_0x599b15(0x150)]['questions'][_0x599b15(0x7dc)]){const _0x3252bb={};Object[_0x599b15(0x698)](_0x5f1ce0[_0x599b15(0x7af)])['forEach'](_0x20702c=>{const _0x4d2287=_0x599b15;_0x3252bb[_0x4d2287(0x655)+_0x20702c+_0x4d2287(0x848)]=![];}),await updateDoc(_0x4978b3,{..._0x3252bb,'status':_0x599b15(0x96c),'currentQuestionIndex':_0x18f481,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x4978b3,{'status':_0x599b15(0x771)});});}async function handleJoinSyncGame(){const _0x4bac7c=_0x27ad1b,_0x2789bf=prompt(_0x4bac7c(0x790));if(!_0x2789bf||_0x2789bf['trim']()[_0x4bac7c(0x7dc)]!==0x2){showMessage(_0x4bac7c(0x92e));return;}try{const _0x5ce2d7=collection(db,_0x4bac7c(0x827)+appId+'/public/data/syncGames'),_0x4deda0=query(_0x5ce2d7,where('pin','==',_0x2789bf[_0x4bac7c(0x2b0)]()),where(_0x4bac7c(0xb84),'==',_0x4bac7c(0x557))),_0x3ff7fe=await getDocs(_0x4deda0);if(_0x3ff7fe[_0x4bac7c(0x454)]){showMessage(_0x4bac7c(0x8de));return;}const _0x226911=_0x3ff7fe[_0x4bac7c(0x8e0)][0x0];currentLiveGameId=_0x226911['id'];const _0xf4027d=_0x226911[_0x4bac7c(0x4b8)](),_0x132991=doc(db,_0x4bac7c(0x827)+appId+_0x4bac7c(0xb2f),_0xf4027d[_0x4bac7c(0x65d)]),_0x147381=await getDoc(_0x132991);if(!_0x147381[_0x4bac7c(0x539)]())throw new Error(_0x4bac7c(0x345));const _0x64865=_0x147381[_0x4bac7c(0x4b8)](),_0x305367=doc(db,_0x4bac7c(0x827)+appId+_0x4bac7c(0x98b),_0x64865[_0x4bac7c(0x35a)]),_0x36605b=await getDoc(_0x305367);if(!_0x36605b[_0x4bac7c(0x539)]())throw new Error(_0x4bac7c(0x85f));currentQuizData=_0xf4027d['shuffledQuiz'];const _0x1aa624=_0x36605b[_0x4bac7c(0x4b8)]();showView('student-team-join'),showTeamPlayerSelection(_0x1aa624[_0x4bac7c(0x161)],_0x64865[_0x4bac7c(0x21a)]);const _0x328ab3=document['getElementById'](_0x4bac7c(0x8be));_0x328ab3[_0x4bac7c(0x710)]=confirmAndJoinSyncGame;}catch(_0x2ea0c8){console[_0x4bac7c(0x4a0)](_0x4bac7c(0x837),_0x2ea0c8),showMessage('เกิดข้อผิดพลาด:\x20'+_0x2ea0c8[_0x4bac7c(0x5a6)]);}}function updateStudentSyncView(_0x265ccb){const _0x17bb74=_0x27ad1b,_0x281dd9=_0x265ccb[_0x17bb74(0x7af)][localTeamPlayers[0x0]];switch(_0x265ccb[_0x17bb74(0xb84)]){case _0x17bb74(0x557):showView(_0x17bb74(0xb00)),liveGameView['innerHTML']=_0x17bb74(0x792);break;case _0x17bb74(0x96c):const _0x568c5e=localTeamPlayers[_0x17bb74(0x6dd)](_0x40b387=>_0x265ccb[_0x17bb74(0x7af)][_0x40b387]?.[_0x17bb74(0xacb)]===!![]);_0x568c5e?liveGameView[_0x17bb74(0x415)]=_0x17bb74(0x879):renderStudentSyncQuestionView(_0x265ccb);break;case _0x17bb74(0x1ef):liveGameView[_0x17bb74(0x415)]=_0x17bb74(0xa99);break;case _0x17bb74(0x884):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x265ccb);break;case _0x17bb74(0x771):sessionStorage[_0x17bb74(0x4bf)]('activeGameSession');const _0x4f6307=calculateFinalPodiumScores(_0x265ccb);showPodiumView(_0x4f6307,_0x17bb74(0x1eb));break;}}function renderStudentSyncResultsView(_0x21bcfd){const _0xad7e16=_0x27ad1b,_0x225ed6=localTeamPlayers['map'](_0x1771af=>_0x21bcfd[_0xad7e16(0x7af)][_0x1771af])[_0xad7e16(0x558)](Boolean);_0x225ed6['sort']((_0x587042,_0x4d19ea)=>(_0x4d19ea[_0xad7e16(0x8b3)]||0x0)-(_0x587042[_0xad7e16(0x8b3)]||0x0));const _0x392b23=_0x21bcfd[_0xad7e16(0xb50)]>=_0x21bcfd[_0xad7e16(0x150)][_0xad7e16(0x4aa)][_0xad7e16(0x7dc)]-0x1;let _0x31b5c9='';_0x392b23?_0x31b5c9=_0xad7e16(0x7da):_0x31b5c9=_0xad7e16(0x7b3);const _0x2b8407=_0xad7e16(0x9a9)+_0x225ed6[_0xad7e16(0x821)]((_0x793fe6,_0x31b14d)=>_0xad7e16(0xa1b)+(_0x31b14d+0x1)+_0xad7e16(0xad2)+_0x793fe6[_0xad7e16(0x352)]+_0xad7e16(0xa3d)+_0x793fe6['score']+_0xad7e16(0x774))[_0xad7e16(0x4ad)]('')+_0xad7e16(0x607)+_0x31b5c9+_0xad7e16(0x6c6);liveGameView[_0xad7e16(0x415)]=_0x2b8407;}function renderStudentSyncQuestionView(_0x57354f){const _0x2de697=_0x27ad1b;while(localPlayerTurnIndex<localTeamPlayers[_0x2de697(0x7dc)]&&_0x57354f['players'][localTeamPlayers[localPlayerTurnIndex]]?.[_0x2de697(0xacb)]===!![]){localPlayerTurnIndex++;}const _0x707748=localTeamPlayers[localPlayerTurnIndex];if(!_0x707748)return;const _0x2abf9c=_0x57354f[_0x2de697(0xb50)],_0x249b04=_0x57354f[_0x2de697(0x150)][_0x2de697(0x4aa)][_0x2de697(0x7dc)],_0x999580=_0x57354f['shuffledQuiz'][_0x2de697(0x4aa)][_0x2abf9c],_0x5dcfae=_0x999580[_0x2de697(0x5fe)]||_0x57354f[_0x2de697(0x150)][_0x2de697(0x447)];let _0x20b666='',_0x4fc365=![];switch(_0x5dcfae){case _0x2de697(0x9c7):_0x20b666=_0x2de697(0x6ee);break;case _0x2de697(0xa97):case _0x2de697(0x7c8):_0x4fc365=!![],_0x20b666=_0x2de697(0x568);break;case'matching_item':_0x4fc365=!![],_0x20b666=_0x2de697(0x5fa)+(_0x999580[_0x2de697(0x1fc)]||[])[_0x2de697(0x821)](_0x4471a5=>_0x2de697(0x82c)+_0x4471a5+'\x22>'+_0x4471a5+_0x2de697(0x125))['join']('')+_0x2de697(0x804);break;case _0x2de697(0xb9a):default:_0x20b666=(_0x999580[_0x2de697(0x559)]||[])[_0x2de697(0x821)]((_0x204245,_0x269bc7)=>_0x2de697(0x747)+_0x269bc7+_0x2de697(0xb02)+_0x204245+_0x2de697(0xac5))[_0x2de697(0x4ad)]('');break;}liveGameView[_0x2de697(0x415)]=_0x2de697(0x7f3)+(_0x2abf9c+0x1)+_0x2de697(0x3d6)+_0x249b04+_0x2de697(0x944)+_0x707748+_0x2de697(0x96d)+(_0x999580[_0x2de697(0xac2)]||_0x999580[_0x2de697(0x856)])+_0x2de697(0x217)+_0x20b666+_0x2de697(0xb75);if(window[_0x2de697(0xa63)])MathJax[_0x2de697(0x5e2)]();function _0x16b2b1(_0x5c10a1,_0x592b71,_0x30893d,_0x436705){const _0x3d88fb=_0x2de697,_0x9d46dc=_0x30893d[_0x3d88fb(0x781)]===!![];if(_0x9d46dc){document[_0x3d88fb(0xa9a)](_0x3d88fb(0xb13))[_0x3d88fb(0x9f6)][_0x3d88fb(0x93d)]=_0x3d88fb(0x1eb);const _0x4deaf4=document[_0x3d88fb(0xa9a)]('selected-answer-index-hidden');_0x4deaf4[_0x3d88fb(0x9f6)][_0x3d88fb(0x2c5)]=_0x5c10a1,_0x4deaf4[_0x3d88fb(0x9f6)][_0x3d88fb(0x96c)]=JSON['stringify'](_0x592b71),_0x4deaf4['dataset'][_0x3d88fb(0xfd)]=JSON[_0x3d88fb(0xa1a)](_0x30893d),_0x4deaf4[_0x3d88fb(0x9f6)][_0x3d88fb(0x49b)]=_0x436705,document['getElementById'](_0x3d88fb(0xb13))[_0x3d88fb(0x25c)]['remove']('hidden');}else handleSyncAnswerSubmit(_0x5c10a1,_0x592b71,_0x30893d,_0x436705,![]);}_0x4fc365?document[_0x2de697(0xa9a)](_0x2de697(0x682))['addEventListener'](_0x2de697(0x4be),()=>{const _0x140903=_0x2de697,_0x52cb88=document['getElementById'](_0x140903(0x370))||document['getElementById']('sync-matching-select');if(_0x52cb88['value'][_0x140903(0x2b0)]()===''){showMessage('กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ');return;}_0x16b2b1(_0x52cb88['value'],_0x999580,_0x57354f,_0x707748);}):document[_0x2de697(0x4e0)](_0x2de697(0x80a))[_0x2de697(0x50c)](_0x2e7574=>{const _0x38a8fd=_0x2de697;_0x2e7574[_0x38a8fd(0x234)]('click',()=>{const _0x183f16=_0x38a8fd;_0x16b2b1(_0x2e7574['dataset'][_0x183f16(0x589)],_0x999580,_0x57354f,_0x707748);});});}async function handleSyncAnswerSubmit(_0x195da9,_0x44a834,_0x5bf644,_0x195f46,_0x5918b6){const _0x3371c8=_0x27ad1b;document['querySelectorAll'](_0x3371c8(0x1b5))[_0x3371c8(0x50c)](_0x51a869=>_0x51a869[_0x3371c8(0xb12)]=!![]);const _0x4ec87b=_0x44a834[_0x3371c8(0x5fe)]||_0x5bf644[_0x3371c8(0x150)][_0x3371c8(0x447)];let _0x5a9169=![],_0x5435bd=_0x195da9;switch(_0x4ec87b){case _0x3371c8(0x9c7):const _0x3a67ca=parseInt(_0x195da9),_0x2a67dc=_0x44a834[_0x3371c8(0x8cd)]===!![]||String(_0x44a834[_0x3371c8(0x8cd)])[_0x3371c8(0x90c)]()===_0x3371c8(0xaa9);_0x5a9169=_0x3a67ca===0x0&&_0x2a67dc||_0x3a67ca===0x1&&!_0x2a67dc,_0x5435bd=_0x3a67ca===0x0?_0x3371c8(0x475):_0x3371c8(0xb27);break;case'short_answer':case _0x3371c8(0x7c8):_0x5a9169=await gradeShortAnswer(_0x195da9,_0x44a834);break;case _0x3371c8(0x62a):_0x5a9169=_0x195da9===_0x44a834[_0x3371c8(0xa66)];break;case _0x3371c8(0xb9a):default:const _0x2164a4=parseInt(_0x195da9);_0x5a9169=_0x2164a4===_0x44a834[_0x3371c8(0xa18)];_0x44a834[_0x3371c8(0x559)]&&_0x44a834[_0x3371c8(0x559)][_0x2164a4]&&(_0x5435bd=_0x44a834[_0x3371c8(0x559)][_0x2164a4]);break;}let _0x9d736f=0x0;if(_0x5a9169&&_0x5918b6)_0x9d736f=0x2;else{if(_0x5a9169)_0x9d736f=0x1;else!_0x5a9169&&_0x5918b6&&(_0x9d736f=-0x1);}const _0x114daa=doc(db,_0x3371c8(0x827)+appId+_0x3371c8(0x604),currentLiveGameId),_0x2ffcce={};_0x2ffcce[_0x3371c8(0x655)+_0x195f46+_0x3371c8(0x88c)]=increment(_0x9d736f),_0x2ffcce[_0x3371c8(0x655)+_0x195f46+_0x3371c8(0x848)]=!![];let _0x49cbb5=null;(_0x4ec87b===_0x3371c8(0xb9a)||_0x4ec87b===_0x3371c8(0x9c7)||_0x4ec87b==='fill_in_with_choices')&&(_0x49cbb5=parseInt(_0x195da9));_0x2ffcce[_0x3371c8(0x655)+_0x195f46+'.lastAnswerIndex']=_0x49cbb5;const _0x351aab={'questionIndex':_0x5bf644['currentQuestionIndex'],'questionId':_0x44a834['id'],'answer':_0x195da9,'answerText':_0x5435bd,'isCorrect':_0x5a9169,'originalQuestionText':_0x44a834[_0x3371c8(0xac2)]||_0x44a834[_0x3371c8(0x856)],'wasConfident':_0x5918b6};_0x2ffcce[_0x3371c8(0x655)+_0x195f46+'.answers']=arrayUnion(_0x351aab),await updateDoc(_0x114daa,_0x2ffcce);}initialize();
