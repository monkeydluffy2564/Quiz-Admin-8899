const _0x473ef4=_0x2a86;(function(_0x12b6b7,_0x45ba78){const _0x12972f=_0x2a86,_0x42031e=_0x12b6b7();while(!![]){try{const _0xd73874=-parseInt(_0x12972f(0x62a))/0x1*(parseInt(_0x12972f(0x82a))/0x2)+parseInt(_0x12972f(0x5bb))/0x3*(parseInt(_0x12972f(0xc17))/0x4)+parseInt(_0x12972f(0xc54))/0x5*(parseInt(_0x12972f(0x279))/0x6)+-parseInt(_0x12972f(0xcb3))/0x7*(parseInt(_0x12972f(0x680))/0x8)+-parseInt(_0x12972f(0x928))/0x9*(parseInt(_0x12972f(0xc92))/0xa)+-parseInt(_0x12972f(0x8a9))/0xb*(-parseInt(_0x12972f(0x62d))/0xc)+parseInt(_0x12972f(0xd2c))/0xd*(parseInt(_0x12972f(0x311))/0xe);if(_0xd73874===_0x45ba78)break;else _0x42031e['push'](_0x42031e['shift']());}catch(_0x592f43){_0x42031e['push'](_0x42031e['shift']());}}}(_0x197e,0xa2aa0));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,deleteField,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion,arrayRemove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let blueprintShortcuts=[],shortcutTabs=[],shortcutOrder={},activeShortcutTabId='all',fileShortcutTabs=[],fileShortcutOrder={},activeFileShortcutTabId=_0x473ef4(0x61c),parallelShortcutTabs=[],parallelShortcutOrder={},activeParallelShortcutTabId='all',fileShortcuts=[],parallelTestShortcuts=[],cameFromBlueprint=![],wakeLock=null,localGroupQuestionIndex=0x0,blueprintPageSettings=null,extractedBlueprintData=null,currentBlueprintProjectId=null;const requestWakeLock=async()=>{const _0x371e2a=_0x473ef4;if(_0x371e2a(0x256)in navigator)try{wakeLock=await navigator[_0x371e2a(0x256)][_0x371e2a(0x596)](_0x371e2a(0x3bc)),console[_0x371e2a(0xc55)](_0x371e2a(0x610)),wakeLock[_0x371e2a(0x5e6)](_0x371e2a(0x42a),()=>{const _0x2c80fd=_0x371e2a;console['log'](_0x2c80fd(0x202));});}catch(_0x1af7b1){console[_0x371e2a(0x2b8)](_0x371e2a(0x71e)+_0x1af7b1[_0x371e2a(0x65c)]+',\x20'+_0x1af7b1[_0x371e2a(0xd7a)]);}else console[_0x371e2a(0x7dc)]('เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API');},releaseWakeLock=async()=>{const _0x59ad5b=_0x473ef4;wakeLock!==null&&(await wakeLock[_0x59ad5b(0x42a)](),wakeLock=null,console[_0x59ad5b(0xc55)](_0x59ad5b(0x43e)));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x2425d8=_0x473ef4;if(!document[_0x2425d8(0x5d5)][_0x2425d8(0xc3c)][_0x2425d8(0x5ba)](_0x2425d8(0xd58))){if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x26e7ea=_0x2425d8;document[_0x26e7ea(0x5d5)]['classList']['add'](_0x26e7ea(0xd58)),console[_0x26e7ea(0xc55)](_0x26e7ea(0x909));},inactivityTime);}}function wakeUpScreen(_0x55bfee){const _0x46a654=_0x473ef4;_0x55bfee&&(_0x55bfee[_0x46a654(0x73d)](),_0x55bfee[_0x46a654(0x82f)]());document['body'][_0x46a654(0xc3c)][_0x46a654(0x6f9)]('dimmed');if(dimTimer)clearTimeout(dimTimer);dimTimer=setTimeout(()=>{const _0x466f0e=_0x46a654;document['body'][_0x466f0e(0xc3c)][_0x466f0e(0x4ad)](_0x466f0e(0xd58));},inactivityTime);}function stopDimTimer(){const _0x237fc4=_0x473ef4;if(dimTimer)clearTimeout(dimTimer);document[_0x237fc4(0x5d5)]['classList'][_0x237fc4(0x6f9)](_0x237fc4(0xd58)),window[_0x237fc4(0x39d)]('mousemove',resetDimTimer),window[_0x237fc4(0x39d)](_0x237fc4(0x475),resetDimTimer),window[_0x237fc4(0x39d)](_0x237fc4(0x1de),resetDimTimer),window[_0x237fc4(0x39d)](_0x237fc4(0xb17),resetDimTimer),console[_0x237fc4(0xc55)](_0x237fc4(0xaf2));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0,currentApplicationData=[];async function handleStartTeamQuiz(_0xe7f128,_0xb211b8=![]){const _0x29d969=_0x473ef4,_0x1825d6=allQuizzes[_0x29d969(0x712)](_0x561b08=>_0x561b08['id']===_0xe7f128)||allQuizzesGlobal[_0x29d969(0x712)](_0x46ced5=>_0x46ced5['id']===_0xe7f128);if(!_0x1825d6){showMessage(_0x29d969(0xa24));return;}currentQuizData=getShuffledQuiz(_0x1825d6);const _0x2f966c=Math[_0x29d969(0x8a0)](0x3e8+Math[_0x29d969(0x970)]()*0x2328)[_0x29d969(0xc07)]();try{const _0x97a6e4=await addDoc(collection(db,_0x29d969(0x41a)+appId+'/public/data/teamQuizzes'),{'quizId':_0x1825d6['id'],'projectId':_0x1825d6[_0x29d969(0x3ba)],'status':_0x29d969(0x998),'pin':_0x2f966c,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0xb211b8});currentTeamQuizId=_0x97a6e4['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x2f966c,_0x1825d6[_0x29d969(0x2d8)]),listenForTeamQuizUpdates();}catch(_0xc2db6f){console['error'](_0x29d969(0xc06),_0xc2db6f),showMessage(_0x29d969(0x8e4));}}function renderAdminTeamQuizDashboard(_0x26484b,_0x4a22ec,_0x41a1f0='team'){const _0xe7cd63=_0x473ef4,_0x7f985c=_0x41a1f0===_0xe7cd63(0x20d)?_0xe7cd63(0xa9a):'Team\x20Quiz';liveGameView[_0xe7cd63(0xbec)]=_0xe7cd63(0x1db)+_0x7f985c+':\x20'+_0x4a22ec+_0xe7cd63(0x877)+_0x26484b+_0xe7cd63(0x1fd),document[_0xe7cd63(0x7eb)](_0xe7cd63(0x5ab))[_0xe7cd63(0x5e6)]('click',async()=>{const _0x562510=_0xe7cd63;showConfirmation(_0x562510(0xb34),async()=>{const _0x1e2c91=_0x562510;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,'artifacts/'+appId+_0x1e2c91(0x945),currentTeamQuizId)),showView(_0x1e2c91(0x2a6));});});}function listenForTeamQuizUpdates(){const _0x1b5e16=_0x473ef4;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0x1fd68c=doc(db,_0x1b5e16(0x41a)+appId+_0x1b5e16(0x945),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0x1fd68c,_0x337a41=>{const _0x4d7905=_0x1b5e16;if(!_0x337a41['exists']()){sessionStorage[_0x4d7905(0x900)](_0x4d7905(0x4ee));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();showMessage(_0x4d7905(0x1e5));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x4d7905(0x769)?showView(_0x4d7905(0x2a6)):showView(_0x4d7905(0xb9c));return;}const _0x1e8556=_0x337a41[_0x4d7905(0x1e4)]();if(currentMode===_0x4d7905(0x769)){if(_0x1e8556['mode']===_0x4d7905(0x20d)&&_0x1e8556[_0x4d7905(0x996)]!==_0x4d7905(0xab6)&&_0x1e8556[_0x4d7905(0x996)]!=='finished'){const _0x5ab95f=Object[_0x4d7905(0x63a)](_0x1e8556[_0x4d7905(0xa4d)]||{});if(_0x5ab95f[_0x4d7905(0x373)]>0x0){const _0x484c24=_0x5ab95f[_0x4d7905(0x9cb)](_0x3fc23a=>_0x3fc23a[_0x4d7905(0xbe2)]===!![]);_0x484c24&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x1e8556);}else{if(_0x1e8556['status']==='podium'||_0x1e8556[_0x4d7905(0x996)]===_0x4d7905(0x7c8)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x1e8556['mode']==='group'){const _0x5760b0=_0x1e8556['groups'][userId];(!_0x5760b0||!_0x5760b0[_0x4d7905(0xbe2)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x202d89){const _0x3b54a1=_0x473ef4;console['log'](_0x3b54a1(0x6f3));const _0x41eae1=doc(db,'artifacts/'+appId+_0x3b54a1(0x945),_0x202d89);try{const _0x16711f=await getDoc(_0x41eae1);if(_0x16711f[_0x3b54a1(0x931)]()){const _0x6b05a4=_0x16711f[_0x3b54a1(0x1e4)]();_0x6b05a4['shouldSaveResults']&&await saveGameResultsAsSubmissions(_0x6b05a4);}await updateDoc(_0x41eae1,{'status':_0x3b54a1(0xab6)});}catch(_0x4980f2){console[_0x3b54a1(0x2b8)](_0x3b54a1(0xba0),_0x4980f2);}}function updateAdminTeamDashboard(_0x217f41){const _0x2b399a=_0x473ef4,_0x332919=document[_0x2b399a(0x7eb)]('team-player-status-grid');if(!_0x332919)return;const _0x57099f=_0x217f41[_0x2b399a(0x3f3)]||_0x2b399a(0xc93),_0x71f645=currentQuizData[_0x2b399a(0x3dd)][_0x2b399a(0x373)];if(_0x57099f===_0x2b399a(0x20d)){const _0x33262b=Object[_0x2b399a(0x63a)](_0x217f41[_0x2b399a(0xa4d)]||{});if(_0x33262b[_0x2b399a(0x373)]===0x0){_0x332919[_0x2b399a(0xbec)]=_0x2b399a(0xaa4);return;}const _0x449b44=[..._0x33262b][_0x2b399a(0x4af)]((_0x4d0b8f,_0x5da72b)=>_0x5da72b[_0x2b399a(0xa94)]-_0x4d0b8f[_0x2b399a(0xa94)]),_0x524fb4=_0x449b44[_0x2b399a(0xa3b)]((_0x5fecfd,_0xefae47)=>{const _0x57211f=_0x2b399a,_0x8ae0db=_0x5fecfd['answers']?.['length']||0x0;return _0x57211f(0xd38)+(_0xefae47+0x1)+_0x57211f(0xb59)+_0x5fecfd[_0x57211f(0x1ed)]['join'](',\x20')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>('+_0x8ae0db+'/'+_0x71f645+_0x57211f(0x27b)+_0x5fecfd[_0x57211f(0xa94)]+_0x57211f(0xb0c);})[_0x2b399a(0xaa2)](''),_0x4cddec=currentQuizData['questions'][_0x2b399a(0xa3b)]((_0x150444,_0x5db497)=>{const _0x50117f=_0x2b399a;let _0x27858a=0x0,_0x30d0a7=0x0;_0x33262b['forEach'](_0x40e7a1=>{const _0x311457=_0x2a86,_0x5b986d=_0x40e7a1[_0x311457(0xbba)]?.['find'](_0x1660fe=>_0x1660fe['questionIndex']===_0x5db497);if(_0x5b986d){_0x30d0a7++;if(_0x5b986d[_0x311457(0x95d)])_0x27858a++;}});const _0x41efd8=_0x30d0a7>0x0&&_0x30d0a7===_0x33262b[_0x50117f(0x373)],_0x39920c=_0x41efd8?_0x50117f(0xa55):_0x50117f(0x752),_0x2a86e8=_0x41efd8?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>':'';return _0x50117f(0x819)+_0x39920c+_0x50117f(0x92f)+(_0x5db497+0x1)+_0x50117f(0xc16)+_0x2a86e8+_0x50117f(0x453)+_0x27858a+'/'+_0x33262b[_0x50117f(0x373)]+_0x50117f(0x910);})[_0x2b399a(0xaa2)]('');_0x332919[_0x2b399a(0xbec)]=_0x2b399a(0x37b)+_0x524fb4+_0x2b399a(0x809)+_0x4cddec+_0x2b399a(0x76a);return;}const _0x352b24=_0x217f41[_0x2b399a(0x4d2)]||{},_0x56073a=Object['keys'](_0x352b24);if(_0x56073a[_0x2b399a(0x373)]===0x0){_0x332919[_0x2b399a(0xbec)]=_0x2b399a(0x33e);return;}const _0x3c5e97=_0x56073a[_0x2b399a(0xa3b)](_0x106f99=>({'name':_0x106f99,'score':_0x352b24[_0x106f99][_0x2b399a(0xa94)]||0x0}))[_0x2b399a(0x4af)]((_0xe19df,_0xeed8f8)=>_0xeed8f8['score']-_0xe19df[_0x2b399a(0xa94)]),_0x5ac44c=_0x3c5e97[_0x2b399a(0xa3b)](_0x2d1237=>{const _0x400984=_0x2b399a,_0x268e1e=_0x352b24[_0x2d1237[_0x400984(0x65c)]]?.[_0x400984(0xbba)]?.['length']||0x0,_0x587edf=Math[_0x400984(0xcb8)](_0x71f645/_0x56073a[_0x400984(0x373)]);return'<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>'+_0x2d1237[_0x400984(0x65c)]+_0x400984(0x267)+_0x268e1e+'/'+_0x587edf+_0x400984(0xc62)+_0x2d1237[_0x400984(0xa94)]+_0x400984(0x8e6);})['join'](''),_0x503259=_0x56073a[_0x2b399a(0x718)]((_0x5af31a,_0x4b9bb8)=>_0x5af31a+(_0x352b24[_0x4b9bb8][_0x2b399a(0xbba)]?.[_0x2b399a(0x373)]||0x0),0x0),_0x2f8941=currentQuizData[_0x2b399a(0x3dd)][_0x2b399a(0xa3b)]((_0x2b60bc,_0x354cb8)=>{const _0x5de146=_0x2b399a;let _0x32f377=null,_0x4f1757=null;for(const _0x525b1d of _0x56073a){const _0x220f71=_0x352b24[_0x525b1d]['answers']?.[_0x5de146(0x712)](_0x50c5b2=>_0x50c5b2['questionIndex']===_0x354cb8);if(_0x220f71){_0x32f377=_0x220f71,_0x4f1757=_0x525b1d;break;}}const _0x88b78b=!!_0x32f377,_0x40a588=_0x88b78b&&_0x32f377['isCorrect'],_0x5263b3=(Math['floor'](_0x354cb8/_0x56073a['length'])+0x1)*_0x56073a[_0x5de146(0x373)],_0x16250d=_0x503259>=_0x5263b3,_0x310ecf=_0x16250d?_0x5de146(0x625):_0x5de146(0x752),_0x4d0faa=_0x16250d?_0x5de146(0x2e6):'';let _0x1472a3='รอ...';return _0x88b78b&&(_0x1472a3=_0x4f1757+_0x5de146(0xc8e)+(_0x40a588?_0x5de146(0x7b2):_0x5de146(0x1e7))),_0x5de146(0x819)+_0x310ecf+_0x5de146(0x92f)+(_0x354cb8+0x1)+':</span><span>'+_0x4d0faa+_0x5de146(0x70d)+_0x1472a3+_0x5de146(0x956);})['join']('');_0x332919[_0x2b399a(0xbec)]=_0x2b399a(0x784)+_0x5ac44c+'</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>'+_0x2f8941+_0x2b399a(0x76a);}async function handleJoinTeamQuiz(){const _0x1d9e43=_0x473ef4,_0x4b37a2=prompt(_0x1d9e43(0x7b9));if(!_0x4b37a2||_0x4b37a2[_0x1d9e43(0xa7e)]()[_0x1d9e43(0x373)]!==0x4){showMessage(_0x1d9e43(0x2f1));return;}try{const _0xfbd271=collection(db,_0x1d9e43(0x41a)+appId+'/public/data/teamQuizzes'),_0x4415ea=query(_0xfbd271,where(_0x1d9e43(0x264),'==',_0x4b37a2['trim']()),where(_0x1d9e43(0x996),'==',_0x1d9e43(0x998))),_0x1c64f4=await getDocs(_0x4415ea);if(_0x1c64f4[_0x1d9e43(0x28f)]){showMessage(_0x1d9e43(0xc71));return;}const _0x3113c6=_0x1c64f4[_0x1d9e43(0x48b)][0x0];currentTeamQuizId=_0x3113c6['id'];const _0x58a5bf=_0x3113c6[_0x1d9e43(0x1e4)](),_0x35da46=doc(db,_0x1d9e43(0x41a)+appId+_0x1d9e43(0xd51),_0x58a5bf[_0x1d9e43(0x3ba)]),_0x4324e1=doc(db,'artifacts/'+appId+_0x1d9e43(0x3c1),_0x58a5bf['quizId']),[_0x330b0b,_0x2db861]=await Promise[_0x1d9e43(0x61c)]([getDoc(_0x35da46),getDoc(_0x4324e1)]);if(!_0x330b0b['exists']()||!_0x2db861[_0x1d9e43(0x931)]())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x2db861['id'],..._0x2db861[_0x1d9e43(0x1e4)]()});const _0xbfe735=_0x330b0b[_0x1d9e43(0x1e4)]();showTeamPlayerSelection(_0xbfe735[_0x1d9e43(0x55a)],currentQuizData['topic']);}catch(_0x1accb7){console[_0x1d9e43(0x2b8)](_0x1d9e43(0x1d0),_0x1accb7),showMessage(_0x1d9e43(0xc13)+_0x1accb7[_0x1d9e43(0xd7a)]);}}async function handleJoinGroupActivity(){const _0x20822d=_0x473ef4,_0x38ad0c=prompt(_0x20822d(0xa39));if(!_0x38ad0c||_0x38ad0c[_0x20822d(0xa7e)]()[_0x20822d(0x373)]!==0x4){showMessage(_0x20822d(0x3e3));return;}const _0x11354b=_0x38ad0c['trim']();showMessage(_0x20822d(0x6b9));try{const _0x2453d1=collection(db,_0x20822d(0x41a)+appId+_0x20822d(0x945)),_0x5d495f=query(_0x2453d1,where(_0x20822d(0x264),'==',_0x11354b),where(_0x20822d(0x996),'==','lobby')),_0x221093=await getDocs(_0x5d495f);if(!_0x221093[_0x20822d(0x28f)]){console[_0x20822d(0xc55)](_0x20822d(0x2c4)),await proceedWithTeamQuizJoin(_0x221093[_0x20822d(0x48b)][0x0]);return;}const _0x1247b2=collection(db,'artifacts/'+appId+'/public/data/syncGames'),_0x2dcefb=query(_0x1247b2,where(_0x20822d(0x264),'==',_0x11354b),where(_0x20822d(0x996),'==',_0x20822d(0x998))),_0x18281c=await getDocs(_0x2dcefb);if(!_0x18281c[_0x20822d(0x28f)]){console[_0x20822d(0xc55)](_0x20822d(0x8b9)),await proceedWithSyncQuizJoin(_0x18281c[_0x20822d(0x48b)][0x0]);return;}showMessage(_0x20822d(0x3a8));}catch(_0x1339b1){console[_0x20822d(0x2b8)]('Error\x20joining\x20activity:',_0x1339b1),showMessage(_0x20822d(0x53c)+_0x1339b1['message']);}}async function proceedWithTeamQuizJoin(_0x3a27d3){const _0x3c43d9=_0x473ef4;currentTeamQuizId=_0x3a27d3['id'];const _0x31e868=_0x3a27d3[_0x3c43d9(0x1e4)](),_0x11cfa6=doc(db,_0x3c43d9(0x41a)+appId+_0x3c43d9(0xd51),_0x31e868[_0x3c43d9(0x3ba)]),_0x452924=doc(db,'artifacts/'+appId+_0x3c43d9(0x3c1),_0x31e868[_0x3c43d9(0xd20)]),[_0xf69cf4,_0x3cef8f]=await Promise[_0x3c43d9(0x61c)]([getDoc(_0x11cfa6),getDoc(_0x452924)]);if(!_0xf69cf4[_0x3c43d9(0x931)]()||!_0x3cef8f[_0x3c43d9(0x931)]())throw new Error(_0x3c43d9(0x42f));currentQuizData=getShuffledQuiz({'id':_0x3cef8f['id'],..._0x3cef8f[_0x3c43d9(0x1e4)]()}),showTeamPlayerSelection(_0xf69cf4[_0x3c43d9(0x1e4)]()['students'],currentQuizData[_0x3c43d9(0x2d8)],_0x31e868[_0x3c43d9(0x3f3)]||_0x3c43d9(0xc93)),messageModal[_0x3c43d9(0xc3c)][_0x3c43d9(0x4ad)](_0x3c43d9(0xcb0));}async function proceedWithSyncQuizJoin(_0x2b00f6){const _0x2aa0f9=_0x473ef4;currentLiveGameId=_0x2b00f6['id'];const _0x51587e=_0x2b00f6[_0x2aa0f9(0x1e4)](),_0x5ae875=doc(db,'artifacts/'+appId+_0x2aa0f9(0x3c1),_0x51587e[_0x2aa0f9(0xd20)]),_0x3feff9=await getDoc(_0x5ae875);if(!_0x3feff9[_0x2aa0f9(0x931)]())throw new Error(_0x2aa0f9(0xa24));const _0x401406=_0x3feff9[_0x2aa0f9(0x1e4)](),_0x17aba0=doc(db,_0x2aa0f9(0x41a)+appId+_0x2aa0f9(0xd51),_0x401406[_0x2aa0f9(0x3ba)]),_0x4e7dfb=await getDoc(_0x17aba0);if(!_0x4e7dfb['exists']())throw new Error(_0x2aa0f9(0x797));currentQuizData=_0x51587e[_0x2aa0f9(0xd5d)],showView(_0x2aa0f9(0xc18)),showTeamPlayerSelection(_0x4e7dfb[_0x2aa0f9(0x1e4)]()['students'],_0x401406[_0x2aa0f9(0x2d8)],_0x2aa0f9(0x3aa)),document[_0x2aa0f9(0x7eb)](_0x2aa0f9(0x86d))[_0x2aa0f9(0xa41)]=confirmAndJoinSyncGame,messageModal['classList'][_0x2aa0f9(0x4ad)]('hidden');}function getCleanApplicationHTML(){const _0xba5764=_0x473ef4,_0x209e66=document[_0xba5764(0x7eb)](_0xba5764(0xcc2));if(!_0x209e66)return'';const _0x1c7316=_0x209e66[_0xba5764(0x28a)](!![]);return _0x1c7316['querySelectorAll'](_0xba5764(0xb5d))[_0xba5764(0xb15)](_0x8659b5=>{const _0x9a3a7c=_0xba5764;_0x8659b5[_0x9a3a7c(0xc3c)][_0x9a3a7c(0x6f9)]('correct',_0x9a3a7c(0x315)),_0x8659b5[_0x9a3a7c(0x744)]=![];}),_0x1c7316[_0xba5764(0xbec)];}function showTeamPlayerSelection(_0x3de8f6,_0x3b81bc,_0x3ad156='team'){const _0x1c7472=_0x473ef4;studentInitialView[_0x1c7472(0xc3c)][_0x1c7472(0x4ad)](_0x1c7472(0xcb0)),studentJoinGameView[_0x1c7472(0xc3c)][_0x1c7472(0x4ad)](_0x1c7472(0xcb0)),document[_0x1c7472(0x7eb)](_0x1c7472(0x2cd))[_0x1c7472(0xc3c)]['remove']('hidden');let _0xf9885=_0x1c7472(0x876);if(_0x3ad156===_0x1c7472(0x20d))_0xf9885='Group\x20Mode';else _0x3ad156==='sync'&&(_0xf9885=_0x1c7472(0x778));document['getElementById'](_0x1c7472(0xcc5))[_0x1c7472(0xc95)]=_0xf9885+':\x20'+_0x3b81bc;const _0x8c21b8=document[_0x1c7472(0x7eb)](_0x1c7472(0x3b8));if(!_0x3de8f6||_0x3de8f6['length']===0x0){_0x8c21b8[_0x1c7472(0xbec)]=_0x1c7472(0x414),document['getElementById']('confirm-team-players-btn')[_0x1c7472(0x744)]=!![];return;}_0x8c21b8[_0x1c7472(0xbec)]=_0x3de8f6[_0x1c7472(0xa3b)](_0x2fda98=>_0x1c7472(0x250)+_0x2fda98+'\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>'+_0x2fda98+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20')['join'](''),document['getElementById'](_0x1c7472(0x86d))[_0x1c7472(0x744)]=![];}async function confirmAndStartTeamQuiz(){const _0x4bc69d=_0x473ef4,_0x27da3b=Array['from'](document[_0x4bc69d(0x89b)]('input[name=\x22team_player\x22]:checked'))[_0x4bc69d(0xa3b)](_0x558150=>_0x558150[_0x4bc69d(0x53d)]);if(_0x27da3b[_0x4bc69d(0x373)]===0x0){showMessage(_0x4bc69d(0x40d));return;}localTeamPlayers=_0x27da3b,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x490a07=doc(db,_0x4bc69d(0x41a)+appId+'/public/data/teamQuizzes',currentTeamQuizId);try{const _0x35631e=await getDoc(_0x490a07);if(!_0x35631e[_0x4bc69d(0x931)]())throw new Error(_0x4bc69d(0x9b8));const _0x2e2b85=_0x35631e[_0x4bc69d(0x1e4)]();if(_0x2e2b85['mode']===_0x4bc69d(0x20d)){const _0x1ab1f9={[_0x4bc69d(0x96e)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x490a07,_0x1ab1f9);}else{const _0x1d5a9b=_0x2e2b85[_0x4bc69d(0x4d2)]||{};localTeamPlayers[_0x4bc69d(0xb15)](_0x552828=>{!_0x1d5a9b[_0x552828]&&(_0x1d5a9b[_0x552828]={'score':0x0,'answers':[]});}),await updateDoc(_0x490a07,{'responses':_0x1d5a9b});}document[_0x4bc69d(0x7eb)](_0x4bc69d(0x2cd))['classList'][_0x4bc69d(0x4ad)]('hidden'),renderTeamQuizQuestion();const _0x119e3c={'gameId':currentTeamQuizId,'mode':_0x2e2b85[_0x4bc69d(0x3f3)]||_0x4bc69d(0xc93),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage['setItem']('activeGameSession',JSON['stringify'](_0x119e3c)),listenForTeamQuizUpdates();}catch(_0x5bd4b3){console[_0x4bc69d(0x2b8)]('Error\x20confirming\x20players:',_0x5bd4b3),showMessage(_0x4bc69d(0x338));}}async function renderTeamQuizQuestion(){const _0x21e68c=_0x473ef4;if(localQuestionIndex>=currentQuizData['questions'][_0x21e68c(0x373)]){displayTeamQuizFinalResults();return;}const _0x5af953=currentQuizData[_0x21e68c(0x3dd)][localQuestionIndex],_0x50ed44=localTeamPlayers[localPlayerIndex],_0x25a0ce=_0x5af953[_0x21e68c(0x22d)]||currentQuizData[_0x21e68c(0x3d3)];let _0x54d187=_0x5af953['stem']||_0x5af953['questionText'],_0x308d02='';switch(_0x25a0ce){case _0x21e68c(0xcc0):case'fill_in_with_choices':_0x308d02=_0x5af953[_0x21e68c(0x745)][_0x21e68c(0xa3b)]((_0xac8700,_0x3cddbf)=>_0x21e68c(0xaf9)+_0x3cddbf+_0x21e68c(0xc31)+_0x3cddbf+_0x21e68c(0x4d5)+_0x3cddbf+'\x22>'+_0xac8700+_0x21e68c(0x316))['join']('');break;case _0x21e68c(0x84f):_0x308d02=_0x21e68c(0x838);break;case _0x21e68c(0x314):case _0x21e68c(0x2b7):_0x308d02=_0x21e68c(0x357);break;case _0x21e68c(0xac9):_0x308d02=_0x21e68c(0x4a5)+_0x5af953['allResponses'][_0x21e68c(0xa3b)](_0x3df99f=>'<option\x20value=\x22'+_0x3df99f+'\x22>'+_0x3df99f+'</option>')[_0x21e68c(0xaa2)]('')+_0x21e68c(0xb96);break;default:_0x308d02=_0x21e68c(0xae1);break;}studentQuizArea[_0x21e68c(0xbec)]=_0x21e68c(0xd82)+(localQuestionIndex+0x1)+'\x20/\x20'+currentQuizData[_0x21e68c(0x3dd)]['length']+_0x21e68c(0x2a7)+_0x50ed44+_0x21e68c(0x1ff)+(localQuestionIndex+0x1)+'.\x20'+_0x54d187+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5af953[_0x21e68c(0x675)]?_0x21e68c(0x706)+_0x5af953[_0x21e68c(0x675)]+_0x21e68c(0x3ab):'')+_0x21e68c(0xd49)+_0x308d02+_0x21e68c(0xba7),studentQuizArea[_0x21e68c(0xc3c)][_0x21e68c(0x6f9)](_0x21e68c(0xcb0));if(window[_0x21e68c(0x5f9)])MathJax[_0x21e68c(0x93d)]([studentQuizArea]);document[_0x21e68c(0x7eb)]('submit-team-answer-btn')[_0x21e68c(0x5e6)]('click',handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x6bfae0=_0x473ef4,_0x22083c=currentQuizData[_0x6bfae0(0x3dd)][localQuestionIndex],_0x46c6f1=_0x22083c['questionType']||currentQuizData[_0x6bfae0(0x3d3)];let _0x27176e=null,_0x147a26=![];if(_0x46c6f1==='short_answer'||_0x46c6f1===_0x6bfae0(0x2b7)){const _0x558fe8=document[_0x6bfae0(0x6ea)]('textarea[name=\x22team_answer\x22]');if(!_0x558fe8||!_0x558fe8[_0x6bfae0(0x53d)][_0x6bfae0(0xa7e)]()){showMessage(_0x6bfae0(0xd64));return;}_0x27176e=_0x558fe8[_0x6bfae0(0x53d)][_0x6bfae0(0xa7e)](),_0x147a26=await gradeShortAnswer(_0x27176e,_0x22083c);}else{const _0x266b5d=document['querySelector']('[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]');if(!_0x266b5d||_0x266b5d[_0x6bfae0(0x53d)]===''){showMessage(_0x6bfae0(0x30a));return;}_0x27176e=_0x266b5d[_0x6bfae0(0x53d)];switch(_0x46c6f1){case _0x6bfae0(0x84f):_0x147a26=_0x27176e===_0x6bfae0(0xc45)===_0x22083c[_0x6bfae0(0x8ae)];break;case _0x6bfae0(0xac9):_0x147a26=_0x27176e===_0x22083c[_0x6bfae0(0xc73)];break;default:_0x147a26=parseInt(_0x27176e)===_0x22083c['correctAnswerIndex'];break;}}const _0x4a31e1={'questionIndex':localQuestionIndex,'isCorrect':_0x147a26},_0x580b43=userId,_0x2ce20c={['groups.'+_0x580b43+_0x6bfae0(0xa7f)]:arrayUnion(_0x4a31e1)};_0x147a26&&(_0x2ce20c[_0x6bfae0(0x96e)+_0x580b43+_0x6bfae0(0x818)]=increment(0x1));try{await updateDoc(doc(db,_0x6bfae0(0x41a)+appId+_0x6bfae0(0x945),currentTeamQuizId),_0x2ce20c),localQuestionIndex++,localQuestionIndex>=currentQuizData['questions'][_0x6bfae0(0x373)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x5b4097){console[_0x6bfae0(0x2b8)](_0x6bfae0(0x989),_0x5b4097),showMessage(_0x6bfae0(0xbe0));}}async function handleTeamAnswerSubmit(){const _0x4261ed=_0x473ef4,_0x439188=await getDoc(doc(db,_0x4261ed(0x41a)+appId+_0x4261ed(0x945),currentTeamQuizId));if(!_0x439188[_0x4261ed(0x931)]())return;const _0xa13d80=_0x439188[_0x4261ed(0x1e4)]();if(_0xa13d80['mode']===_0x4261ed(0x20d)){handleGroupAnswerSubmit();return;}const _0x3ca82d=localTeamPlayers[localPlayerIndex],_0x38efb4=currentQuizData[_0x4261ed(0x3dd)][localQuestionIndex],_0x119cd0=_0x38efb4[_0x4261ed(0x22d)]||currentQuizData[_0x4261ed(0x3d3)];let _0x52177e=null,_0x531ede=![];if(_0x119cd0===_0x4261ed(0x314)||_0x119cd0===_0x4261ed(0x2b7)){const _0x54593c=document[_0x4261ed(0x6ea)](_0x4261ed(0x94e));if(!_0x54593c||!_0x54593c[_0x4261ed(0x53d)][_0x4261ed(0xa7e)]()){showMessage(_0x4261ed(0x8ee));return;}_0x52177e=_0x54593c[_0x4261ed(0x53d)][_0x4261ed(0xa7e)](),_0x531ede=await gradeShortAnswer(_0x52177e,_0x38efb4);}else{const _0x3bb9df=document[_0x4261ed(0x6ea)](_0x4261ed(0xcdf));if(!_0x3bb9df||_0x3bb9df[_0x4261ed(0x53d)]===''){showMessage(_0x4261ed(0xa78));return;}_0x52177e=_0x3bb9df[_0x4261ed(0x53d)];switch(_0x119cd0){case _0x4261ed(0x84f):_0x531ede=_0x52177e===_0x4261ed(0xc45)===_0x38efb4['correctAnswer'];break;case _0x4261ed(0xac9):_0x531ede=_0x52177e===_0x38efb4[_0x4261ed(0xc73)];break;default:_0x531ede=parseInt(_0x52177e)===_0x38efb4[_0x4261ed(0xb8c)];break;}}const _0x4670f9={'questionIndex':localQuestionIndex,'isCorrect':_0x531ede,'answerValue':_0x52177e},_0x18da21={[_0x4261ed(0x7d8)+_0x3ca82d+'.answers']:arrayUnion(_0x4670f9)};_0x531ede&&(_0x18da21['responses.'+_0x3ca82d+'.score']=increment(0x1));try{await updateDoc(doc(db,_0x4261ed(0x41a)+appId+_0x4261ed(0x945),currentTeamQuizId),_0x18da21),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x4261ed(0x373)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x3dd97f){console[_0x4261ed(0x2b8)](_0x4261ed(0xa0c),_0x3dd97f),showMessage(_0x4261ed(0xbe0));}}async function displayTeamQuizFinalResults(){const _0x144ce4=_0x473ef4;studentQuizArea[_0x144ce4(0xc3c)][_0x144ce4(0x4ad)](_0x144ce4(0xcb0)),studentResultArea[_0x144ce4(0xc3c)][_0x144ce4(0x6f9)](_0x144ce4(0xcb0));const _0x3b9eb6=doc(db,'artifacts/'+appId+'/public/data/teamQuizzes',currentTeamQuizId),_0x1c500a=await getDoc(_0x3b9eb6);if(!_0x1c500a[_0x144ce4(0x931)]()){studentResultArea[_0x144ce4(0xbec)]=_0x144ce4(0x4b5);return;}const _0x5bcdec=_0x1c500a[_0x144ce4(0x1e4)]();let _0x1d7114=[];const _0x15a09a=_0x5bcdec[_0x144ce4(0x3f3)]||'team';if(_0x15a09a===_0x144ce4(0x20d)){const _0x15f884=_0x5bcdec['groups'][userId];_0x15f884?_0x1d7114=[{'name':'กลุ่ม:\x20'+localTeamPlayers[_0x144ce4(0xaa2)](',\x20'),'score':_0x15f884['score']||0x0}]:_0x1d7114=[{'name':'กลุ่มของคุณ','score':_0x144ce4(0xd1a)}];}else _0x1d7114=localTeamPlayers[_0x144ce4(0xa3b)](_0x13e1b8=>({'name':_0x13e1b8,'score':_0x5bcdec[_0x144ce4(0x4d2)][_0x13e1b8]?.[_0x144ce4(0xa94)]||0x0}))['sort']((_0x26b6a0,_0x497f6e)=>_0x497f6e[_0x144ce4(0xa94)]-_0x26b6a0[_0x144ce4(0xa94)]);studentResultArea[_0x144ce4(0xbec)]=_0x144ce4(0x31c)+_0x1d7114[_0x144ce4(0xa3b)](_0x13c028=>_0x144ce4(0x372)+_0x13c028['name']+_0x144ce4(0x6e5)+_0x13c028[_0x144ce4(0xa94)]+_0x144ce4(0xbeb))[_0x144ce4(0xaa2)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage[_0x144ce4(0x900)]('activeGameSession'),currentMode===_0x144ce4(0x769)&&currentTeamQuizId&&setTimeout(()=>{const _0x5ecf69=_0x144ce4;deleteDoc(doc(db,_0x5ecf69(0x41a)+appId+_0x5ecf69(0x945),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':_0x473ef4(0xc2c),'pinnedProjects':[],'projectView':_0x473ef4(0x6b0)};const allMathTopics=[{'category':_0x473ef4(0x5d0),'name':'การนับ'},{'category':_0x473ef4(0x5d0),'name':_0x473ef4(0xd2d)},{'category':_0x473ef4(0x5d0),'name':_0x473ef4(0xc34)},{'category':_0x473ef4(0x5d0),'name':_0x473ef4(0xc2e)},{'category':'จำนวนและการดำเนินการ','name':_0x473ef4(0xac2)},{'category':_0x473ef4(0x5d0),'name':'การลบ'},{'category':_0x473ef4(0x5d0),'name':'การคูณ'},{'category':'จำนวนและการดำเนินการ','name':_0x473ef4(0x546)},{'category':_0x473ef4(0x5d0),'name':'จำนวนเต็มบวก'},{'category':_0x473ef4(0x5d0),'name':_0x473ef4(0x7c0)},{'category':'จำนวนและการดำเนินการ','name':_0x473ef4(0x360)},{'category':_0x473ef4(0x5d0),'name':'ค่าสัมบูรณ์'},{'category':'จำนวนและการดำเนินการ','name':_0x473ef4(0x620)},{'category':_0x473ef4(0x5d0),'name':_0x473ef4(0x5e2)},{'category':_0x473ef4(0x5d0),'name':_0x473ef4(0x96d)},{'category':'จำนวนและการดำเนินการ','name':'ค.ร.น.\x20(LCM)'},{'category':_0x473ef4(0x5d0),'name':_0x473ef4(0xcee)},{'category':_0x473ef4(0x5d0),'name':_0x473ef4(0xd11)},{'category':_0x473ef4(0x5d0),'name':_0x473ef4(0xd14)},{'category':_0x473ef4(0x5d0),'name':_0x473ef4(0x379)},{'category':_0x473ef4(0x5d0),'name':'การลบเศษส่วน'},{'category':_0x473ef4(0x5d0),'name':_0x473ef4(0xa6b)},{'category':'จำนวนและการดำเนินการ','name':_0x473ef4(0x229)},{'category':_0x473ef4(0x5d0),'name':_0x473ef4(0xb45)},{'category':_0x473ef4(0x5d0),'name':_0x473ef4(0x44c)},{'category':'จำนวนและการดำเนินการ','name':_0x473ef4(0xbf8)},{'category':_0x473ef4(0x5d0),'name':_0x473ef4(0x557)},{'category':'จำนวนและการดำเนินการ','name':'การคูณทศนิยม'},{'category':_0x473ef4(0x5d0),'name':_0x473ef4(0x8af)},{'category':'จำนวนและการดำเนินการ','name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':_0x473ef4(0x5d0),'name':_0x473ef4(0x776)},{'category':_0x473ef4(0x5d0),'name':_0x473ef4(0x512)},{'category':_0x473ef4(0x5d0),'name':_0x473ef4(0x9d9)},{'category':_0x473ef4(0x5d0),'name':_0x473ef4(0xa12)},{'category':'จำนวนและการดำเนินการ','name':'รากที่สองและที่สาม'},{'category':_0x473ef4(0x5d0),'name':_0x473ef4(0x9e3)},{'category':_0x473ef4(0x5d0),'name':'สัญกรณ์วิทยาศาสตร์'},{'category':_0x473ef4(0xd33),'name':_0x473ef4(0xb80)},{'category':_0x473ef4(0xd33),'name':_0x473ef4(0xb00)},{'category':_0x473ef4(0xd33),'name':_0x473ef4(0x58b)},{'category':_0x473ef4(0xd33),'name':_0x473ef4(0xa6f)},{'category':_0x473ef4(0xd33),'name':_0x473ef4(0xb2e)},{'category':_0x473ef4(0xd33),'name':_0x473ef4(0x5ce)},{'category':_0x473ef4(0xd33),'name':_0x473ef4(0x698)},{'category':_0x473ef4(0xd33),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x473ef4(0xd33),'name':_0x473ef4(0xb04)},{'category':_0x473ef4(0xd33),'name':_0x473ef4(0xbee)},{'category':'การวัด','name':'ปริมาตรรูปทรงสามมิติ'},{'category':_0x473ef4(0xd33),'name':_0x473ef4(0x2dc)},{'category':_0x473ef4(0xd33),'name':'สเกลและแผนที่'},{'category':_0x473ef4(0xd33),'name':_0x473ef4(0x5c4)},{'category':_0x473ef4(0xb6f),'name':'จุด\x20เส้น\x20ระนาบ'},{'category':_0x473ef4(0xb6f),'name':'ความสัมพันธ์ของมุม'},{'category':'เรขาคณิต','name':_0x473ef4(0x9df)},{'category':'เรขาคณิต','name':_0x473ef4(0x895)},{'category':_0x473ef4(0xb6f),'name':_0x473ef4(0xa65)},{'category':_0x473ef4(0xb6f),'name':_0x473ef4(0x5d7)},{'category':_0x473ef4(0xb6f),'name':_0x473ef4(0xaa3)},{'category':_0x473ef4(0xb6f),'name':_0x473ef4(0x35a)},{'category':_0x473ef4(0xb6f),'name':_0x473ef4(0xa42)},{'category':_0x473ef4(0xb6f),'name':_0x473ef4(0x200)},{'category':_0x473ef4(0xb6f),'name':_0x473ef4(0xb1b)},{'category':_0x473ef4(0xb6f),'name':_0x473ef4(0x783)},{'category':'เรขาคณิต','name':_0x473ef4(0x2fe)},{'category':'เรขาคณิต','name':_0x473ef4(0x75d)},{'category':'เรขาคณิต','name':'ทฤษฎีบทพีทาโกรัสและการประยุกต์'},{'category':_0x473ef4(0x690),'name':_0x473ef4(0x735)},{'category':_0x473ef4(0x690),'name':'การกระจายและการจัดหมู่'},{'category':_0x473ef4(0x690),'name':_0x473ef4(0x402)},{'category':_0x473ef4(0x690),'name':_0x473ef4(0x4c2)},{'category':_0x473ef4(0x690),'name':_0x473ef4(0xa4e)},{'category':_0x473ef4(0x690),'name':'ระบบสมการเชิงเส้นสองตัวแปร'},{'category':_0x473ef4(0x690),'name':_0x473ef4(0x4d1)},{'category':_0x473ef4(0x690),'name':_0x473ef4(0x259)},{'category':_0x473ef4(0x690),'name':_0x473ef4(0xc8a)},{'category':_0x473ef4(0x690),'name':_0x473ef4(0x976)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x473ef4(0x3d7)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x473ef4(0x77b)},{'category':_0x473ef4(0x690),'name':_0x473ef4(0x46b)},{'category':_0x473ef4(0x690),'name':_0x473ef4(0x649)},{'category':_0x473ef4(0x690),'name':'อสมการค่าสัมบูรณ์'},{'category':_0x473ef4(0x690),'name':_0x473ef4(0x9f7)},{'category':_0x473ef4(0x690),'name':_0x473ef4(0xc5f)},{'category':_0x473ef4(0x690),'name':'โดเมนและเรนจ์'},{'category':_0x473ef4(0x690),'name':_0x473ef4(0x6e4)},{'category':_0x473ef4(0x690),'name':'ฟังก์ชันผกผัน'},{'category':_0x473ef4(0x690),'name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':_0x473ef4(0x690),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0x473ef4(0x690),'name':_0x473ef4(0x399)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x473ef4(0xca7)},{'category':_0x473ef4(0x690),'name':_0x473ef4(0x4b3)},{'category':_0x473ef4(0x690),'name':'ฟังก์ชันราก\x20(root)'},{'category':_0x473ef4(0x690),'name':_0x473ef4(0x237)},{'category':_0x473ef4(0x690),'name':_0x473ef4(0xd67)},{'category':_0x473ef4(0x690),'name':'ฟังก์ชันยกกำลัง'},{'category':_0x473ef4(0x690),'name':'ฟังก์ชันลอการิทึม'},{'category':_0x473ef4(0x690),'name':_0x473ef4(0xaae)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x473ef4(0x86a)},{'category':_0x473ef4(0x690),'name':_0x473ef4(0x81b)},{'category':_0x473ef4(0x690),'name':_0x473ef4(0xd55)},{'category':_0x473ef4(0x690),'name':'จำนวนเชิงซ้อน\x20(เสริม)'},{'category':'เรขาคณิตวิเคราะห์','name':_0x473ef4(0x542)},{'category':'เรขาคณิตวิเคราะห์','name':_0x473ef4(0x2d0)},{'category':_0x473ef4(0xac4),'name':_0x473ef4(0x4ac)},{'category':'เรขาคณิตวิเคราะห์','name':_0x473ef4(0x795)},{'category':_0x473ef4(0xac4),'name':_0x473ef4(0xaab)},{'category':'เรขาคณิตวิเคราะห์','name':_0x473ef4(0x6f7)},{'category':'เรขาคณิตวิเคราะห์','name':_0x473ef4(0xb4f)},{'category':_0x473ef4(0xac4),'name':_0x473ef4(0x61b)},{'category':_0x473ef4(0xac4),'name':_0x473ef4(0x617)},{'category':_0x473ef4(0x231),'name':_0x473ef4(0x566)},{'category':_0x473ef4(0x231),'name':'มุมพิเศษ\x2030°-60°-90°'},{'category':_0x473ef4(0x231),'name':_0x473ef4(0x921)},{'category':_0x473ef4(0x231),'name':_0x473ef4(0x92c)},{'category':_0x473ef4(0x231),'name':_0x473ef4(0x46d)},{'category':_0x473ef4(0x231),'name':'กฎของโคไซน์'},{'category':_0x473ef4(0x231),'name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':_0x473ef4(0x231),'name':_0x473ef4(0x626)},{'category':'ตรีโกณมิติ','name':'สมการตรีโกณมิติ'},{'category':_0x473ef4(0x231),'name':_0x473ef4(0x597)},{'category':_0x473ef4(0x231),'name':_0x473ef4(0xaef)},{'category':'สถิติและความน่าจะเป็น','name':_0x473ef4(0xc7e)},{'category':_0x473ef4(0x65b),'name':_0x473ef4(0xba5)},{'category':_0x473ef4(0x65b),'name':_0x473ef4(0x501)},{'category':'สถิติและความน่าจะเป็น','name':'กราฟแท่ง\x20กราฟเส้น'},{'category':_0x473ef4(0x65b),'name':_0x473ef4(0x6c7)},{'category':_0x473ef4(0x65b),'name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':'สถิติและความน่าจะเป็น','name':_0x473ef4(0x8b6)},{'category':_0x473ef4(0x65b),'name':'มัธยฐาน'},{'category':_0x473ef4(0x65b),'name':_0x473ef4(0x959)},{'category':_0x473ef4(0x65b),'name':_0x473ef4(0x3da)},{'category':_0x473ef4(0x65b),'name':'ส่วนเบี่ยงเบนเฉลี่ย'},{'category':_0x473ef4(0x65b),'name':_0x473ef4(0x296)},{'category':_0x473ef4(0x65b),'name':_0x473ef4(0xa17)},{'category':_0x473ef4(0x65b),'name':_0x473ef4(0xb89)},{'category':_0x473ef4(0x65b),'name':_0x473ef4(0xb09)},{'category':'สถิติและความน่าจะเป็น','name':'การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์'},{'category':_0x473ef4(0x65b),'name':_0x473ef4(0x9a8)},{'category':_0x473ef4(0x65b),'name':_0x473ef4(0x9fd)},{'category':_0x473ef4(0x65b),'name':_0x473ef4(0x4fd)},{'category':_0x473ef4(0x65b),'name':_0x473ef4(0x696)},{'category':_0x473ef4(0x65b),'name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':_0x473ef4(0x65b),'name':_0x473ef4(0x563)},{'category':_0x473ef4(0x65b),'name':_0x473ef4(0x8eb)},{'category':_0x473ef4(0x65b),'name':_0x473ef4(0xcc7)},{'category':'แคลคูลัสเบื้องต้น','name':'ลิมิต'},{'category':_0x473ef4(0x39c),'name':_0x473ef4(0x54a)},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0x473ef4(0x39c),'name':_0x473ef4(0x40e)},{'category':_0x473ef4(0x39c),'name':'อนุพันธ์:\x20ผลคูณ/ผลหาร'},{'category':_0x473ef4(0x39c),'name':_0x473ef4(0x3c6)},{'category':_0x473ef4(0x39c),'name':_0x473ef4(0x8a6)},{'category':_0x473ef4(0x39c),'name':_0x473ef4(0xa2b)},{'category':_0x473ef4(0x39c),'name':_0x473ef4(0x57e)},{'category':_0x473ef4(0x39c),'name':_0x473ef4(0x346)},{'category':_0x473ef4(0x39c),'name':_0x473ef4(0x322)},{'category':_0x473ef4(0x39c),'name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':_0x473ef4(0x39c),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0x473ef4(0x4f2),'name':_0x473ef4(0x328)},{'category':_0x473ef4(0x4f2),'name':'ดอทโปรดักต์\x20(dot)'},{'category':_0x473ef4(0x4f2),'name':_0x473ef4(0x8cf)},{'category':_0x473ef4(0x4f2),'name':'เมทริกซ์:\x20บวก/คูณ'},{'category':_0x473ef4(0x4f2),'name':'อินเวอร์สของเมทริกซ์'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x473ef4(0x835)},{'category':_0x473ef4(0x4f2),'name':_0x473ef4(0x8a1)},{'category':_0x473ef4(0xd19),'name':_0x473ef4(0x54b)},{'category':_0x473ef4(0xd19),'name':_0x473ef4(0x668)},{'category':_0x473ef4(0xd19),'name':_0x473ef4(0xa23)},{'category':'คณิตการเงิน/บูรณาการ','name':'ค่าเสื่อมราคา'},{'category':_0x473ef4(0xd19),'name':_0x473ef4(0x79a)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'ค่าความจริง/ตารางค่าความจริง'},{'category':_0x473ef4(0x6b4),'name':_0x473ef4(0x407)},{'category':_0x473ef4(0x6b4),'name':_0x473ef4(0x550)}];function _0x197e(){const _0x4caea7=['\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','topics','newOptions','15TEewYL','log','rgba(79,\x2070,\x20229,\x201)','text-gray-500','\x22\x20data-mode=\x22team\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-blue-700\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x20pointer-events-none\x22></i>\x20Team\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','touchcancel','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-blue-700\x22>','tan','separate-by-content-checkbox','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','Error\x20confirming\x20players\x20for\x20sync\x20game:','file-shortcut-editor-modal','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','rename-quiz-input','</option>','</p>','Error\x20generating\x20hybrid\x20quiz:','Error\x20regenerating\x20question\x20in\x20editor:','mandatory','insertBefore','cancel-delete-btn','.flex.justify-between.items-center','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','leaderboard-quiz-tab-content','cancel-export-pdf-btn','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','.csv','correctResponse','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','points','insertAdjacentHTML','select','fill','\x20/\x20','.linkedQuizIds','learningGaps','save-game-results-checkbox','ชนิดของข้อมูลและการเก็บข้อมูล','file-topics-list','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','show-results-btn','targetId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dragend','copy-quiz-id-btn','ชื่อหัวข้อห้ามว่าง','.quiz-result-card','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อนี้?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','สมการค่าสัมบูรณ์','jspdf','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x20ตอบ','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','100nElmAX','team','ย้าย','textContent','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','link-url-input','entries','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','mouseleave','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x20border-b-2\x20border-red-200\x20pb-2\x22>⚠️\x20จุดที่นักเรียนมักผิดพลาด</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','startTime','เพิ่ม\x20','hasOwnProperty','ไม่สามารถโหลดรายการโปรเจคได้','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','quiz-settings-modal','left','/public/data/liveGames','[*]','bg-yellow-100','width','ฟังก์ชันพหุนาม','.pdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','file.pdf','shortcut-id-input','blueprint-project-list','generate-from-text-btn','drop','confirm-manual-bp-btn','hidden','shuffle-setting-select','toISOString','9037huAQjs','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','input[name=\x22syncVariant\x22][value=\x22classic\x22]','</h3>','get','ceil','answeredCurrentQuestion','td,\x20th','upperGroupNames','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','กำลังลบโปรเจคและข้อมูลที่เกี่ยวข้องทั้งหมด...','คะแนนเต็ม','multiple_choice','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','applicationContent','abs','fa-crown\x20text-yellow-500','team-quiz-topic','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','ความคาดหมาย\x20(Expected\x20value)','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','Error\x20updating\x20project\x20name:','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','export-worksheet-pdf-btn','data:application/vnd.ms-word;charset=utf-8,','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-purple-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20disabled:bg-gray-400','touches','px,\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','postTScore','bank-quiz-search-input','bulk-confidence-mode-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','</tbody></table>','set','shortcutIds','/public/data/practiceBank','_opt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</td></tr>','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','project-search-input','ลบโปรเจคสำเร็จแล้ว','.shortcut-tab-btn','Starting\x20cleanup\x20for\x20deleted\x20quiz\x20ID:\x20','submittedAt','modal-adaptive-quiz-checkbox','Loaded\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-timer-duration-container','\x27\x20สำหรับนักเรียนระดับชั้น\x20\x27','smooth','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','กำลังดึงไฟล์จากลิงก์และสร้างข้อสอบคู่ขนาน...','Original\x20quiz\x20not\x20found','อัตราส่วนและสัดส่วน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','thead','className','.sortable-header','project-detail-view','Enter','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','เกิดข้อผิดพลาดในการลบผลสอบ','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','retake-quiz-loop-btn','scratchpad-modal','คะแนนเต็ม!','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.quiz-bank-try-btn','start-live-race-generated-btn','cancel-test-btn','players.','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','gameVariant','stem','border-indigo-500\x20text-indigo-600','promptFeedback','close-game-final-btn','localeCompare','.ideal-answer-input,\x20.correct-response-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','Leaderboard\x20update\x20transaction\x20failed:\x20','flex','รีเซ็ตลำดับโปรเจคแล้ว','Error\x20verifying\x20answers\x20in\x20editor:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัตราและอัตราหน่วย','Error\x20calling\x20Gemini\x20API:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer(','เศษส่วน\x20(ย่อ/ขยาย)','quiz-editor-modal','cancel-file-shortcut-edit-btn','results-tab-content','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','คณิตการเงิน/บูรณาการ','N/A','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','perseverance','quizId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','.remove-parallel-shortcut-from-tab-btn','passcode','bg-blue-100\x20text-blue-800','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','\x20to\x20blueprint\x20topic\x20','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','\x20ตัวเลือก)','#e21b3c','11219deVLhl','ระบบเลขและค่าประจำหลัก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22shortcut-list-item\x20p-3\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22\x20data-shortcut-id=\x22','confidence-mode-container','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','การวัด','.pen-color-btn','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','แบบทดสอบนี้หมดเวลาแล้ว','fa-rocket\x20text-purple-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','.generate-content-btn','start-presentation-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','currentTarget','visibilitychange','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','export-compact-pdf-btn','Error\x20generating\x20from\x20link:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ระยะเวลา\x20(นาที):','ผู้ควบคุม\x20(ทดสอบ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สำหรับ\x20\x22คำถามใหม่\x22\x20ที่คุณสร้างขึ้น\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20เรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','คุณแน่ใจหรือไม่ว่าต้องการล้างการเชื่อมโยงแบบทดสอบทั้งหมดในคลังนี้?\x20(ตัวแบบทดสอบจริงจะไม่ถูกลบ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','parallel-shortcut-tabs-nav','pre-test-checkbox','timer-mode-select','.pin-project-btn','Error\x20updating\x20custom\x20topic:','/public/data/projects','rows','<button\x20id=\x22','visibilityState','ทฤษฎีทวินาม\x20(เบื้องต้น)','num-questions','<p\x20class=\x22text-gray-400\x20text-center\x22>กรุณาอัปโหลดไฟล์เพื่อเริ่มการวิเคราะห์...</p>','dimmed','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20parallel\x20post-test:','save','shuffledQuiz','memoryContent','เพิ่มปุ่มลัดจากไฟล์ใหม่','API\x20Error\x20Response:','FileReader\x20error:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-white\x22\x20data-topic-id=\x22','loopUntilPass','กรุณาพิมพ์คำตอบของกลุ่ม','default-1','Blueprint\x202','ฟังก์ชันแบบชิ้นส่วน','checkbox','Error\x20listening\x20for\x20custom\x20math\x20topics:','live-race','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','document','Error\x20deleting\x20all\x20students:','Error\x20renaming\x20quiz:','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','Error\x20listening\x20for\x20projects:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','move-quiz-modal','<span\x20class=\x22font-bold\x20','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','quiz-leaderboard-table-container','user','message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','Authentication\x20failed:','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','leaderboard-quiz','อัปเดตพฤติกรรมสำหรับ\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','linkedQuizIds','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','additional-shortcuts-modal','style','.bp-edit-topic-btn','answerValue',')\x22>','interesting-stats-container','[data-topic-id=\x22','Error\x20deleting\x20shortcut:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','file-default-1','**\x20(คำถามทุกข้อต้องเป็นรูปแบบนี้เท่านั้น\x20ห้ามใช้รูปแบบอื่นปน)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**[กฎภาษา]\x20','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','เกิดข้อผิดพลาดในการจับคู่','Error\x20joining\x20team\x20quiz:','tGain','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','bp-modal-passing-score-input','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','</p><p><strong>เฉลย:</strong>\x20','\x22\x20class=\x22file-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','#results-table\x20thead\x20tr','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>','sara','selectedTopicNames','touchstart','pointerType','.bp-present-btn','manage','totalPoints','substring','data','กิจกรรมสิ้นสุดลงแล้ว','applicationHTML','ผิด','<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>','\x20ครั้ง)</span></td>','Error\x20fetching\x20quiz\x20settings:','dfrac','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','members','analytics-tab-content','STOP','Error\x20processing\x20file\x20shortcut\x20click:','question-analytics-container','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','undefined','math-topic-search-input','items','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','.remove-shortcut-from-tab-btn','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','API\x20call\x20failed\x20with\x20status:\x20','Error\x20deleting\x20submission:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','currentMode','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','คัดลอกรหัสแล้ว!','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','.delete-parallel-shortcut-tab-btn','quizMode','สร้างคำถามแบบเติมคำในช่องว่าง','text/csv;charset=utf-8;','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','fixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','ไม่สามารถเพิ่มนักเรียนได้','perQuestionStats','</textarea>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','group','file-shortcut-container','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','export-word-btn','</strong></p>','admin-try-quiz-btn','type','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20sort\x20preference:','</li>','removeAttribute','deselect-all-topics-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scrollY','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','\x5cfrac{$1}{$2}','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Re-grade\x20process\x20failed:','comparison-overall-tab','\x22\x20name=\x22drill_answer\x22\x20value=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','Error\x20generating\x20parallel\x20test\x20from\x20bank:','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','answering','bg-red-500','การหารเศษส่วน','API\x20call\x20failed','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','questionType','scheduled_pending','เกิดข้อผิดพลาดในการนำผู้เล่นออก','game-start-quiz-id','ตรีโกณมิติ','startedAt','PERFECT_SCORE','modal-timer-duration-label','.use-hidden-file-shortcut-btn','</div><div\x20class=\x22space-y-2\x22>','ฟังก์ชันค่าสัมบูรณ์','bg-gray-200\x20text-gray-700','bp-topic-list-container','destination-out','quiz-type-select','uid','\x20แบบทดสอบลงในคลังสำเร็จ!','contentEditable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','Error\x20adding\x20students:','generationConfig','bank-tab','ไม่พบรูปแบบสูตรที่ต้องแก้ไขเพิ่มเติม','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','ส่งแล้ว','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','confirm-move-quiz-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','finishReason','bp-modal-shuffle-setting-select','คะแนนเฉลี่ย','.ai-content\x20h3','Error\x20generating\x20worksheet:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22my-6\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','Error\x20unpairing\x20quizzes:','bulk-loop-until-pass-checkbox','ลบโปรเจค\x20\x22','พบข้อสอบ\x20','toLocaleString','wakeLock','bg-green-100\x20text-green-800','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','editable-text-','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','blueprint-settings-modal','numeric','practiceProblems','text-red-300\x20hover:text-red-100','unshift','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','pin','เกิดข้อผิดพลาดในการโหลดไฟล์จากลิงก์:\x20','per_question','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','additional-file-shortcuts-list','\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','not_generated','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','globalAlpha','#math-topics-checkbox-container\x20input:checked','next-drill-btn','red','Content\x20was\x20blocked\x20by\x20safety\x20filters.\x20Reason:\x20','บันทึกการตั้งค่าการแสดงผลสำเร็จ','modal-confidence-mode-select','File\x20content\x20identified\x20as\x20PDF\x20by\x20its\x20magic\x20number.','student-project-leaderboard-tab','<p><strong>คำตอบของคุณ:</strong>\x20','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','254910EnfUjF','position','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','#confidence-input-','.edit-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','fullscreenchange','enable-passcode-checkbox','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','far\x20fa-star','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22.\x20','\x22\x20class=\x22bp-unlink-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำออกจากคลังนี้\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','quiz-results-table-body','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','cloneNode','parseInline','พอใช้','confirm-link-quiz-btn','requestFullscreen','empty','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','confidenceMode','.toggle-actions-btn','badges','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','ความแปรปรวน','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','ไฟล์ลัด\x202','canvas','decode','projectName','บันทึกการตั้งค่าสำเร็จ','category','parallel-shortcut-id-input','specialist','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','project-detail','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20คนที่ส่ง\x20ตอบถูก\x20(','false','ไม่พบเอกสารการส่งงานของ\x20','strength-weakness-analysis-container','bg-blue-100','.remove-file-shortcut-from-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการวิเคราะห์หัวข้อ</p>','move-quiz-project-select','<tr>','text','questions_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.quiz-status-btn','fill_in_no_choices','error','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','autoTable','none','ห้ามสร้างรูปภาพหรือโค้ด\x20SVG\x20ใดๆ','\x22\x20class=\x22color-palette-btn\x20','<button\x20data-quiz-id=\x22','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','fas\x20fa-user-edit','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','พบ\x20Team\x20Quiz!','input','\x20mr-2\x22></i>','Error\x20adding\x20custom\x20topic:','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','webkitExitFullscreen','บันทึกบทเรียนสำหรับหัวข้อ\x20ID:\x20','scratchpad-clear-btn','student-team-selection-view','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','save-quiz-btn','ความชันและเส้นตรง','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','cancel-quiz-status-btn','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','loader-text','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไฟล์ลัด\x201','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','topic','.bp-delete-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการสร้างแบบทดสอบเพื่อการทบทวนความรู้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20สร้างแบบทดสอบ\x201\x20ชุดสำหรับหัวข้อ\x20\x22','duration-300','มุมและการวัดมุม','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ตัวเลือก\x20ก','\x22\x20class=\x22delete-project-btn\x20','choices_only','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','\x20ชุด)','text-green-700\x20bg-green-100','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','teachingContent','hint','fill_in_with_choices','.question-editor-item[data-q-index=\x22','ยืนยันและอัปเดตทั้งหมด','\x5ctimes','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22my-2\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>วิธีทำ:</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22whitespace-pre-wrap\x20pl-2\x22>','.txt','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','answer-grid-container','รหัสไม่ถูกต้อง','geq','text-red-500\x20hover:text-red-700','ไม่พบข้อมูลบทเรียนที่บันทึกไว้\x20(อาจถูกลบไปแล้ว)','.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรหรือสัญลักษณ์คณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','text-purple-600','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','image/png','medium','contents','comparison-overall-content','cancel-shortcut-edit-btn','สมมาตร\x20(แกน/จุด)','load-quiz-btn','ondblclick','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','perfect_score','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','แท็บใหม่','\x20จาก\x20','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','label[for=\x22num-questions\x22]','student-project-leaderboard-content','กรุณาเลือกคำตอบของกลุ่ม','explanation','.question-editor-item','/users/','input[name=\x22status-option\x22]:checked','confidence','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','15246mLkYAX','/public/data/projects/','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','short_answer','incorrect','</label></div>','game-pin-input','เกิดข้อผิดพลาด','กรุณาอัปโหลดไฟล์\x20Blueprint\x20หรือใช้ปุ่มลัด','student-name-input','project-dashboard-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?','application','scrollX','subTopic','ปริพันธ์จำกัด','AI\x20แก้ไขคำถามสำเร็จ!','https://corsproxy.io/?','presentation-explanation','cancel-rename-quiz-btn','เลือกโปรเจคเพื่อบันทึก','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>สร้างเนื้อหาสำหรับสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22file-topic-selection-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','export-leaderboard-excel-btn','คัดลอกแบบทดสอบสำเร็จ','loader','passing-score-input','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>','numQuestions','text-gray-300\x20hover:text-white','</span></td>','application/pdf','confirm-delete-btn','-tab-content','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','shortcuts-loading-msg','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','size','clientX','manual-bp-content','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>','dataIndex','\x22\x20ให้เป็นคำถามประเภท\x20\x22','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พิมพ์ตอบ','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','Blueprint\x20O-NET\x20ป.6','copy','ปริพันธ์ไม่จำกัด','file-topics-list-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22','content','</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>','\x0a\x20\x20\x20\x20\x20\x20</div>','#6366F1','file-tab','ตัวเลือก\x20ค','/lessons','questionIndex','confirmation-message','shortcut-editor-modal','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','แก้ไขปุ่มลัด','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','.subTopic','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','รูปหลายเหลี่ยมและมุมภายใน','.quiz-bank-item','nextElementSibling','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','setTransform','showInStudentDashboard','ศูนย์','/public/data/syncGames','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร','back-to-student-home-btn','_opt0\x22>ใช่</label></div>','\x0a\x20\x20\x20\x20','results-quiz-title','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>','<p><strong>คำตอบที่แนะนำ:</strong>\x20','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','scratchpad-header','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','stringify','เลือกและบันทึก','parallel-shortcuts-loading-msg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','length','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','text-content-input','\x20(p=','projectView','matching','การบวกเศษส่วน','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','bp-modal-quiz-type-select','shortcut-reference-url-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','\x20mx-1\x20text-lg\x22></i></span>','<div><input\x20type=\x22radio\x22\x20id=\x22q','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>','check-presentation-answer-btn','isDefault','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เอกสารต้องประกอบด้วย\x204\x20ส่วนหลัก\x20และตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างตามที่กำหนดเท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20keyConcepts\x20(array\x20of\x20strings):\x20สรุปแนวคิดหลัก,\x20นิยาม,\x20หรือสูตรที่สำคัญที่สุดของหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20commonMistakes\x20(array\x20of\x20strings):\x20ระบุจุดที่นักเรียนมักเข้าใจผิดหรือทำพลาดบ่อยๆ\x20ในหัวข้อนี้\x202-3\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20stepByStepExamples\x20(array\x20of\x20objects):\x20สร้างโจทย์ตัวอย่างที่หลากหลาย\x202\x20ข้อ\x20พร้อมแสดงวิธีทำอย่างละเอียดเป็นขั้นตอน\x20โดยแต่ละ\x20object\x20ต้องมี\x20key:\x20\x22question\x22\x20(string)\x20และ\x20\x22solution\x22\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20teacherTips\x20(array\x20of\x20strings):\x20ให้คำแนะนำเชิงปฏิบัติสำหรับครู\x202\x20ข้อ\x20เพื่อช่วยให้นักเรียนเข้าใจหัวข้อนี้ได้ดียิ่งขึ้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่งเพิ่มเติม:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20เนื้อหาทั้งหมดต้องเป็นภาษาไทย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำอธิบายต้องกระชับ\x20ชัดเจน\x20และถูกต้องตามหลักคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และห่อหุ้มด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20ภารกิจคือ:\x201.ระบุระดับชั้น\x202.สกัดโครงสร้างเนื้อหาทั้งหมดออกมาในรูปแบบ\x20nested\x20JSON\x20ที่ชัดเจน\x203.แก้ไขคำภาษาไทยที่ผิดเพี้ยน\x204.สรุปชื่อหัวข้อย่อยให้สั้นกระชับ.\x20JSON\x20output\x20ต้องมีโครงสร้าง:\x20{\x20gradeLevel:\x20string,\x20curriculum:\x20[\x20{\x20sara:\x20string,\x20mainTopics:\x20[\x20{\x20topicName:\x20string,\x20subTopics:\x20[string]\x20}\x20]\x20}\x20]\x20}.\x20ตัวอย่าง:\x20\x27สาระที่\x201:\x20จำนวนและพีชคณิต\x27\x20คือ\x20\x27sara\x27.\x20\x27เวลา\x27\x20คือ\x20\x27topicName\x27.\x20\x27การอ่านตารางเวลา\x27\x20คือ\x20\x27subTopic\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','studentName','สอบซ่อม','undo-btn','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','#parallel-shortcut-tabs-nav\x20.tab-name-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-yellow-400\x20bg-yellow-50\x20text-yellow-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-magic-wand-sparkles\x20mr-2\x22></i>AI\x20ตรวจไม่พบคำตอบที่ถูกต้อง!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ระบบได้สร้างชุดตัวเลือกใหม่\x20และแก้ไขเฉลยให้ถูกต้องอัตโนมัติแล้ว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','cancel-move-quiz-btn','export-leaderboard-image-btn','circle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','game-start-mode','height','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-2\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-quiz-id=\x22','bp-modal-num-choices','AI\x20กำลังวิเคราะห์\x20Blueprint\x20และสร้างแบบทดสอบ...','ฟังก์ชันกำลังสองและกราฟ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','Error\x20saving\x20file\x20shortcut:','แคลคูลัสเบื้องต้น','removeEventListener','ยอดเยี่ยม!','timerMode','AIzaSyAUi4fu9J1iikYAiElQImErVreemVbUC9Q','.move-parallel-shortcut-menu-btn','match','ผู้ไม่ยอมแพ้','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','active','bar','has','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','กำลังดึงไฟล์\x20Blueprint\x20จากลิงก์...','sync','</div>','fileShortcutOrder','.edit-custom-topic-btn','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','\x22\x20แล้วนำมาสร้างเนื้อหาบทเรียนและแบบฝึกหัดชุดใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20กฎการสร้าง\x20(ภายใต้กฎควบคุมความซับซ้อน):\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**วิเคราะห์ต้นแบบ:**\x20อ่านไฟล์ที่แนบมาเพื่อทำความเข้าใจว่าข้อสอบ\x20O-NET\x20จริงๆ\x20ถามเกี่ยวกับหัวข้อ\x20\x22','คำถามดิบ:\x20\x22','includes','กำลังจับคู่...','.ai-fix-question-btn','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.highlighter-color-btn','helvetica','team-student-list','sync-manage-players-btn','projectId','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','screen','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','text-blue-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','/public/data/quizzes','<tr><td\x20colspan=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','editor-quiz-topic','cancel-quiz-edits-btn-footer','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','highlighter-tools-group','topic-bank-subtopic-name','print','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','.file-shortcut-tab-btn','เกิดข้อผิดพลาดในการอ่านไฟล์อ้างอิง','.topic-name-input','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.group','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','กรุณาเลือกสถานะ','quizType','parse','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','Error\x20loading\x20user\x20preferences:','สมการราก\x20(radical)','sum','<i\x20class=\x22fas\x20fa-save\x22></i>','พิสัย','.isScored','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','questions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','additional-shortcuts-list','ย้ายแบบทดสอบไปโปรเจคอื่น','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','s;\x22\x20title=\x22','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-content-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x20data-topic=\x22','<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>','\x22><span>','presentation-short-answer-input','overline','bank-quiz-list','documentElement','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','after','$$$1$','\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้าง\x20**\x22บทเรียน\x22**\x20ที่มีเนื้อหา,\x20สูตร,\x20และตัวอย่าง\x20ที่\x20**\x22เพียงพอและไม่ยากเกินกว่า\x22**\x20ที่จะใช้แก้โจทย์ในไฟล์อ้างอิงนั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**ห้าม\x20(DO\x20NOT)**\x20สร้างเนื้อหาบทเรียน,\x20สูตรลัด,\x20หรือตัวอย่าง\x20ที่มีความซับซ้อนทางวิชาการ\x20**\x22เกินกว่า\x22**\x20ระดับความรู้ที่จำเป็นสำหรับไฟล์อ้างอิงโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของขอบเขตเนื้อหาและความซับซ้อน\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20ปรัชญาการสร้างเนื้อหาและโจทย์สไตล์\x20O-NET\x20โดยอ้างอิงจากไฟล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบหลักสูตรคณิตศาสตร์\x20O-NET\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x20(ถ้ามี)\x20จงวิเคราะห์สไตล์,\x20ขอบเขต,\x20และระดับความลึกของโจทย์ที่เกี่ยวข้องกับหัวข้อ\x20\x22','shortcut-blueprint-url-input','point','mode','\x22\x20class=\x22edit-hidden-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirm-admin-login-btn','mousemove','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','questionStatus','ถูกต้อง!','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','\x0a\x0aไฟล์ข้อสอบอ้างอิง:\x0a','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0a\x0a**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0aนี่คือกฎที่สำคัญที่สุด:\x20หากมี\x20\x22ไฟล์ข้อสอบต้นฉบับ\x22\x20(ไฟล์อ้างอิง)\x20แนบมาด้วย\x20ภารกิจหลักของคุณคือการสร้างข้อสอบที่มีความซับซ้อน\x20**\x22เทียบเท่า\x22**\x20กับไฟล์อ้างอิงนั้น\x0a\x0a**ห้าม\x20(DO\x20NOT)**\x20สร้างโจทย์ที่มีความซับซ้อน,\x20มีหลายขั้นตอน,\x20หรือต้องตีความ\x20**\x22เกินกว่า\x22**\x20ระดับความยากโดยเฉลี่ยของโจทย์ในไฟล์อ้างอิงโดยเด็ดขาด\x0aให้ยึดไฟล์อ้างอิงเป็น\x20**\x22เพดาน\x22\x20(Ceiling)**\x20ของความซับซ้อน\x0a\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20(ภายใต้กรอบความซับซ้อนของไฟล์อ้างอิง)\x20โดยอาจมีลักษณะดังนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20(ตราบเท่าที่ยังไม่ยากเกินไฟล์อ้างอิง)\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','นำแบบทดสอบออกจากคลังนี้แล้ว','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','blueprintUrl','.bp-view-analysis-btn','sync-matching-select','คำถามทุกข้อต้องเป็นแบบ\x20\x27จับคู่\x27\x20(แยกข้อ)','รูปแบบการให้เหตุผล','/public/data/blueprintProjects','/questionBank','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x20in\x20all\x20blueprint\x20projects.','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','อนุพันธ์:\x20กฎลูกโซ่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','include-images-checkbox','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','.topic-selection-btn','findIndex','\x22><i\x20class=\x22fas\x20','สร้างแบบฝึกหัดแบบปรนัย\x204\x20ตัวเลือก\x20จำนวน\x205\x20ข้อ\x20สำหรับนักเรียนระดับชั้น\x20\x27','generate-from-file-btn','artifacts/','p-2\x20bg-black/10\x20rounded-md','</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>','math-topics-checkbox-container','trail','confirm-game-start-modal','\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>','text-gray-100','.quiz-bank-move-btn','ไม่พบข้อมูลการจับคู่','submit-group-answer-btn','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','answer-counter','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','question','toLocaleDateString','release','แบบทดสอบฝึกฝนเรื่อง:\x20','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','th-TH','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-file-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','เกิดข้อผิดพลาดในการลบ','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาด:\x20','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','projectSort','fix\x20the\x20option','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','Error\x20deleting\x20project:','shortcutTabs','กำลังสร้างแบบทดสอบสำหรับติวเฉพาะเรื่อง:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','.ai-content\x20blockquote','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','fas\x20fa-star\x20text-yellow-500','project-passcode-modal','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ','project-sort-select','ARRAY','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','quiz-results','Error\x20updating\x20pin\x20status:','\x22\x20class=\x22bp-view-analysis-btn\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20pointer-events-none\x22>','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','\x22>จาก:\x20','pen-tools-group','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','pointsLastQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22\x20class=\x22delete-bp-project-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x20ml-2\x22>ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ทศนิยม\x20(ค่าประจำหลัก)','จำนวนคู่:','bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg','tool','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','input[name=\x22drill_answer\x22]:checked','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','Error\x20saving\x20file\x20shortcut\x20config:','.bp-game-btn','score-distribution-chart','Error\x20saving\x20shortcut\x20config:','Error\x20generating\x20easy\x20version\x20quiz:','\x27\x20สำหรับส่วน\x20\x27POINT\x27.\x20','กำลังอ่านไฟล์\x20Test\x20Blueprint...','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','generated','highlighter','bg-green-500','option','<p\x20class=\x22','hint-btn','pre-test','.use-hidden-shortcut-btn','\x27,\x20\x27','startsWith','สมการลอการิทึม','leaderboard-tab-content','กฎของไซน์','text-indigo-600','<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>','project-title','open-sync-scratchpad-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','removeChild','กรุณาป้อนรหัสแบบทดสอบ','mousedown','lessonPlan','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20gap-4\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x22','\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.delete-shortcut-btn','บทเรียนเรื่อง:\x20','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างได้</p>','\x20ตัวเลือก.\x20','getItem','กำลังสร้างแบบทดสอบจากหัวข้อ...','input[type=\x22radio\x22]:checked','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','end-sync-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sync-short-answer-input','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20คู่\x20','back-to-home-manual-release','bg-red-500\x20text-white\x20font-bold','ต้นฉบับ\x201','รายการนี้','docs','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','สร้างแล้ว','upperGroupResponders','<div\x20class=\x22ml-4\x20mb-3\x22><h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','จากไฟล์ที่แนบมานี้,\x20','\x22\x20class=\x22use-hidden-parallel-shortcut-btn\x20bg-teal-100\x20text-teal-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-teal-200\x22>สร้างเลย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.project-card-container:not(.opacity-50)','parallel-shortcut-url-input','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','\x22\x20class=\x22use-hidden-file-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เลือกใช้</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','arrayBuffer','ไม่พบข้อมูลผู้ใช้','cancel-manual-bp-btn','ลบแบบทดสอบสำเร็จแล้ว','bulk-quiz-settings-btn','แบบทดสอบนี้ปิดใช้งานอยู่','exitFullscreen','show_results_only','0\x200','<i\x20class=\x22fas\x20fa-play-circle\x20mr-2\x22></i>เริ่มกิจกรรม','Error\x20displaying\x20question\x20bank:','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','onkeydown','frac','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-green-200','</span></div>','เส้นตรง:\x20รูปแบบสมการ','add','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','sort','.open-bp-project-btn','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','ฟังก์ชันสัมพัทธ์\x20(rational)','manual-create-blueprint-btn','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','gain','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','onloadend','เกิดข้อผิดพลาดในการบันทึกโปรเจค','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','post-test','tabId','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','create-project-btn','lineCap','#open-additional-parallel-shortcuts-btn','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','การแยกตัวประกอบ','\x22\x20data-q-type=\x22','เกี่ยวกับหัวข้อ\x20\x22','temp-loader-results','#000000','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text/plain','mean','cancel-quiz-bank-btn','ไม่พบข้อมูลเนื้อหาบทเรียนที่บันทึกไว้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','quiz-id-input','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>','delete','\x22\x20class=\x22edit-hidden-parallel-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','responses','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','lower_group_count','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','สร้างคำถามแบบใช่/ไม่ใช่','generate-from-blueprint-btn','element','student-initial-view','scratchpad-options','สอบปกติ','responseSchema','div','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','link-topic-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20','<i\x20class=\x22fas\x20fa-magic\x22></i>','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','save-parallel-shortcut-btn','ข้อที่\x20','%PDF','.start-presentation-list-btn','\x20</div>\x0a\x20\x20\x20\x20','dragover','กำลังดึงข้อมูลจากลิงก์...','no-projects-msg','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','STRING','activeGameSession','ไม่พบเนื้อหาบทเรียนสำหรับ\x20Export','ไม่พบข้อมูลข้อสอบหลังเรียน','live-options-container','เวกเตอร์และเมทริกซ์\x20(เสริม)','\x22\x20class=\x22use-hidden-shortcut-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>ใช้งาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','modal-message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<a\x20href=\x22#\x22\x20class=\x22move-file-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','showImproveButton','parallelShortcutOrder','bg-green-500\x20hover:bg-green-600\x20text-white','<div\x20class=\x22mb-3\x20topic-category\x22>','ความน่าจะเป็นแบบมีเงื่อนไข','bp-modal-num-questions','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ตารางความถี่','.move-file-shortcut-dropdown','Error\x20saving\x20reference\x20URL:','<li>','modal-timer-mode-select','circ','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','แก้ไขหัวข้อสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','numPages','msRequestFullscreen','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','originalQuestionText','tab_','line-through\x20text-red-700','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','ปรับเพิ่ม/ลดเป็นร้อยละ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','filter','approx','Failed\x20to\x20auto-link\x20quiz\x20to\x20blueprint\x20topic:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','ชื่อโปรเจคห้ามว่าง','ไม่ผ่าน','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','answered','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20data-value=\x22','border-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','min','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','push','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีโปรเจคที่บันทึกไว้</p>','catch','PERSEVERANCE','raw','.live-answer-btn','\x20รายการ\x20สำเร็จ!','\x27.\x20โจทย์และตัวเลือกต้องมีความซับซ้อนใกล้เคียงกับแนวข้อสอบ\x20O-NET\x20จริงๆ.\x20ระบุคำตอบที่ถูกต้อง\x20(เป็น\x20index\x200-3)\x20และหากมีสูตรคณิตศาสตร์ให้ใช้รูปแบบ\x20LaTeX','ยังไม่มีข้อมูลบทเรียนที่สร้างไว้,\x20กรุณากด\x20\x27สร้างใหม่\x27','modal-loop-until-pass-checkbox','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','clear-all-links-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','open-scratchpad-btn','Error\x20generating\x20lesson\x20plan:','.compare-results-btn','hover:bg-indigo-100','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-emerald-100','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','loop-until-pass-checkbox','เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20','value','Error\x20toggling\x20star\x20status:','fa-user-astronaut\x20text-blue-700','badgesCount','submissions','ระยะทางและจุดกึ่งกลาง','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เซียนสมองไว','link-tab','การหาร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','summary_chart','.copy-quiz-id-list-btn','ความต่อเนื่อง','ดอกเบี้ยอย่างง่าย','top','Unexpected\x20API\x20response\x20structure:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.png','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','.regenerate-question-editor-btn','.topic-row','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','text-red-900','student-passcode-input','join-group-activity-btn','การลบทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','teacherSuggestions','students','quiz-bank-modal','<div\x20class=\x22flex-1\x22></div>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','/studentProfiles','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>','originalTopic','<li\x20class=\x22','เกิดข้อผิดพลาดในการอัปเดตสถานะ','การจัดหมู่\x20(Combination)','pointerup','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-question-editor-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20rounded-full\x20hover:bg-red-100\x22\x20title=\x22ลบคำถามข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','comparison-individual-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','lesson-plan-title','save-project-name-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สลับไปโหมดผู้ควบคุม','\x22\x20data-mode=\x22team\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x22>Team</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','starred','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x20\x20\x20-\x20คำตอบ:\x20','additional-file-shortcuts-modal','confidence-mode-select','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','behaviorLog','Auto-linking\x20new\x20quiz\x20','ยืนยันการกระทำ','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','ยกเลิกการเชื่อมโยงสำเร็จ','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','.move-shortcut-item','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>','เพิ่มปุ่มลัดใหม่','short','lowerGroupResponders','<div\x20class=\x22','bg-green-100','getBoundingClientRect','คุณแน่ใจ\x20100%\x20หรือไม่ว่าต้องการลบโปรเจค\x20\x22','สร้างเนื้อหาการสอนสำหรับนักเรียนระดับชั้น\x20\x27','worksheet-tab','pinnedProjects','หน่วยเวลาและการคำนวณเวลา','274192258111','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','blueprintShortcuts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','globalSettings','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','scheduled','on_fire','_opt1\x22\x20name=\x22question','sqrt','request','กราฟฟังก์ชันตรีโกณ','\x27\x20ในส่วน\x20\x27MEMORY\x27.\x20','.quiz-bank-delete-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','leaderboard','กำลังสร้างคำถามข้อ\x20','first_try_ace','text-yellow-800','\x20คะแนน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','download','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','q-text-','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','pen-tool-btn','เกิดข้อผิดพลาดในการสร้างใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','end-team-quiz-btn','indexOf','#view-rankings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-parallel-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','px)\x20scale(','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','checked','เกิดข้อผิดพลาดในการบันทึกลำดับ','topic_','modal-confidence-mode-container','เกิดข้อผิดพลาดในการอัปเดต:\x20','ข้อต่อไป','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','scrollHeight','contains','39mVqpOj','input[type=\x22radio\x22][value=\x22','student-quiz-leaderboard-content','isPasscodeEnabled','Error\x20in\x20handleApiCall:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','.topic-actions-edit','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>','ค่าคลาดเคลื่อนของการวัด','overallGroups','cancel-team-selection-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','getContext','ยังไม่เต็มนะ','results_','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ยอดเยี่ยม','เส้นรอบรูป','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','จำนวนและการดำเนินการ','_blank','เพิ่มหัวข้อ\x20\x22','sync-player-management','includeImages','body','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','ความคล้ายของรูป','Error\x20clearing\x20all\x20links:','/public/data/quizzes/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','split','Error\x20joining\x20sync\x20game:','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','.star-quiz-btn','resize','bulk-shuffle-select','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','ตัวประกอบและตัวประกอบเฉพาะ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20(สำหรับ\x20','multiply','addEventListener','timed','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','eraser','save-blueprint-as-project-btn','dim-overlay','live-short-answer-input','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','application/json','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22\x20data-field=\x22subTopic\x22>','ตรวจทานเฉลยเสร็จสิ้น!','per-question-timer-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','ผ่านฉลุย','commit','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ทำคะแนนได้เกินครึ่ง','คัดลอกไม่สำเร็จ','setItem','MathJax','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','</h5><div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>','thead\x20.sortable-header','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','main-correct-answer-display','numChoices','gamePin','timer-duration-container','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','\x27)\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-alt\x22></i>สร้างแบบทดสอบ\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20</div>\x0a','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','Invalid\x20response\x20structure\x20from\x20API.','ดีมาก','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','topic-quiz-bank-modal','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x22?\x20การกระทำนี้จะลบ\x20\x22บทเรียนทั้งหมด\x22\x20และ\x20\x22แบบทดสอบที่เชื่อมโยงอยู่ทั้งหมด\x22\x20อย่างถาวร\x20ไม่สามารถกู้คืนได้!','reference.pdf','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','<h1></h1>','newOptionsPayload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20bg-green-50\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x20ข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม\x20\x22ใหม่\x22\x20ที่สร้าง\x20ต้องมีระดับความยากและสไตล์ใกล้เคียงกับต้นฉบับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20','Error\x20unlinking\x20quiz:','ไฮเพอร์โบลา','ไม่สามารถเริ่มเกมได้','เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','วงรี','all','ตรวจคะแนนใหม่\x20','กำลังสร้างรูปภาพ...','student-progress-view','เส้นจำนวน','number','show-in-student-dashboard-checkbox','#open-additional-file-shortcuts-btn','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงสรุปข้อต่อไป...</p>','bg-green-200\x20text-green-900','การแปลงรูปอัตลักษณ์','กำลังสร้างแบบทดสอบ\x20\x22','Error\x20fetching\x20project\x20quizzes:','/public/data/blueprintProjects/','15117JiwpvT','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','48jYcYtD','input[type=\x22text\x22]','export-lesson-pdf-btn','input[type=\x22checkbox\x22]','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','url','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างใหม่','รอเปิด','total','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','save-visibility-settings-btn','values','.verification-result','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20ออกจากคลังนี้?','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','\x20ข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-1\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','title','กรุณาใส่ชื่อใหม่','เกิดข้อผิดพลาดร้ายแรงระหว่างการลบข้อมูล','ยังไม่ส่ง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','cancel-game-start-btn','close-comparison-modal-btn','อสมการเชิงเส้น','bg-green-400\x20text-white\x20font-bold','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','คุณแน่ใจหรือไม่ว่าต้องการนำแบบทดสอบ\x20\x22','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','slide-counter','overflowY','\x27\x20ในหน้าเดียวอย่างกระชับสำหรับส่วน\x20\x27ONE-PAGE\x20SUMMARY\x27.\x20','\x0a\x20\x20\x20\x20**[กฎควบคุมความซับซ้อน\x20(Complexity\x20Control\x20Rule)\x20-\x20สำคัญที่สุด!]**\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20**กรณีที่\x202:\x20หากไม่มี\x20\x22ไฟล์ข้อสอบอ้างอิง\x22\x20แนบมาด้วย:**\x0a\x20\x20\x20\x20*\x20ภารกิจหลักของคุณคือการสร้างข้อสอบตาม\x20**\x22แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x22**\x20(ที่ระบุไว้ด้านล่าง)\x0a\x20\x20\x20\x20*\x20ให้สร้างโจทย์ที่มีความซับซ้อนในระดับ\x20O-NET\x20\x22มาตรฐาน\x22\x20ทั่วไป\x20(เช่น\x20โจทย์ปัญหา\x201-2\x20ขั้นตอน)\x0a\x20\x20\x20\x20*\x20**ห้าม\x20(DO\x20NOT)**\x20พยายามสร้างโจทย์ที่\x20\x22คิดวิเคราะห์ซับซ้อน\x22\x20หรือ\x20\x22หลายขั้นตอน\x22\x20จนเกินความจำเป็น\x0a\x20\x20\x20\x20*\x20ให้เน้นความถูกต้องตามหลักสูตรและความชัดเจนของคำถามเป็นหลัก\x0a\x20\x20\x20\x20','.cancel-edit-topic-btn','Error\x20saving\x20lesson\x20to\x20project:','splice','admin-dashboard','getPage','beforeend','ขออภัย,\x20ไม่สามารถสร้างบทเรียนสำหรับหัวข้อนี้ได้','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สถิติและความน่าจะเป็น','name','list','[data-topic-container-id]','topicName','scratchpad-question','AI\x20กำลังสร้างแบบทดสอบ\x20\x22','student-name-select','#add-question-editor-btn','\x20mb-2\x22>','#results-table','open','ล้างการเชื่อมโยงทั้งหมดสำเร็จ','ดอกเบี้ยทบต้น','<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>','.edit-hidden-parallel-shortcut-btn','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','opacity','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getBBox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','bp-add-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','imageCode','ไม่พบแบบทดสอบ','Error\x20linking\x20quizzes:','prev-question-btn','สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...','เกิดข้อผิดพลาดในการอ่านไฟล์','upper_group_count','bg-red-100','blueprint-topics-list','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','ai-quiz-generator-v3','6040gRVUOI','save-file-shortcut-btn','bp-modal-difficulty-level-select','neq','attemptNumber','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','\x22\x20โดยมี\x20**จำนวนข้อสอบรวม\x20','-options\x22>','text-red-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20during\x20class\x20analysis:','cdot','bg-red-200\x20text-red-800','getAttributeNS','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','พีชคณิตและฟังก์ชัน','touchend','shortcut_','#open-additional-shortcuts-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','cancel-bp-settings-btn','ความเป็นอิสระของเหตุการณ์','-\x20ข้อ\x20','พื้นที่สี่เหลี่ยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','file-shortcut_','\x22\x20class=\x22parallel-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20','Error\x20saving\x20settings:','ไม่มี','Error\x20saving\x20quiz\x20edits:','globalCompositeOperation','เกิดข้อผิดพลาดในการแก้ไข','confident','<p\x20class=\x22text-center\x20text-gray-500\x20p-8\x22>คลังนี้ยังว่างอยู่<br>คลิก\x20\x22เลือกจากคลังรวม\x22\x20เพื่อเพิ่มแบบทดสอบ</p>','confidence-modal','touchmove','half_mark_status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22add-question-editor-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-plus-circle\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เพิ่มคำถามใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','Error\x20saving\x20parallel\x20shortcut\x20config:','subTopics','เปลี่ยนชื่อแบบทดสอบสำเร็จ','timer-container','grid','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','เกิดข้อผิดพลาดในการลบหัวข้อ','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','Error\x20during\x20deep\x20delete:','Invalid\x20response\x20structure\x20from\x20AI.','กำลังค้นหากิจกรรม...','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','.kick-player-btn-sync','จับคู่แบบทดสอบสำเร็จ!','\x22\x20class=\x22parallel-shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','rgba(239,\x2068,\x2068,\x200.7)','.generate-easy-version-btn','<div\x20id=\x22q-image-container-','quiz-leaderboard-table','ไฟล์ทั้งหมด','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','player-count','eraser-tool-btn','ฮิสโตแกรม','bg-blue-500\x20hover:bg-blue-600\x20text-white','select-all-topics-btn','student-join-game-view','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถวิเคราะห์โครงสร้างจากข้อความที่ป้อนได้','.admin-try-quiz-list-btn','parallel-default-','(ก่อนเรียน)','ลบหัวข้อสำเร็จ','.move-parallel-shortcut-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','manual-bp-grade-level','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20','file-default-2','Error\x20starting\x20sync\x20game:','input[type=\x22checkbox\x22]:checked','pen','endTime','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','blur','quiz-generation-area','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','Remedial\x20quiz\x20generation\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','keys','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือวิเคราะห์\x20\x22ไฟล์ข้อสอบต้นฉบับที่แนบมานี้\x22\x20อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20และระดับความยาก\x20จากนั้นให้สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามคัดลอกโจทย์เดิมโดยเด็ดขาด\x20จำนวนข้อและประเภทคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20กฎสำหรับข้อสอบเติมคำ\x20(พิมพ์ตอบเอง):คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','</span>','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','องค์ประกอบของฟังก์ชัน','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','mixed','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวิเคราะห์หลักสูตร\x20จากเนื้อหาของไฟล์ข้อสอบที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสกัด\x20\x22หัวข้อหลัก\x22\x20(Key\x20Topics)\x20ที่ข้อสอบนี้วัดผลออกมาเป็นรายการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามแต่ละข้อว่าอยู่เรื่องอะไร\x20แล้วสรุปเป็นรายการหัวข้อที่ไม่ซ้ำกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20สรุปหัวข้อให้สั้นและตรงประเด็น\x20(เช่น\x20\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตอบกลับเป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22topics\x22\x20โดยค่าของมันคือ\x20array\x20ของ\x20string\x20ที่เป็นชื่อหัวข้อ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่างผลลัพธ์:\x20{\x20\x22topics\x22:\x20[\x22แบบรูป\x22,\x20\x22พื้นที่\x22,\x20\x22ทศนิยม\x22]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','dataset','querySelector','.answered','บันทึกคำถามใหม่\x20','\x20ข้อ\x20','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','เกิดข้อผิดพลาดในการสร้าง:\x20','dispatchEvent','\x20quizzes\x20into\x20global\x20cache.','All\x20groups\x20have\x20finished.\x20Ending\x20game.','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','passcode-input-container','lesson-plan-modal','วงกลม:\x20สมการและสมบัติ','\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างเฉลยแบบทดสอบ\x0aภารกิจ:\x20จากไฟล์ที่แนบมาซึ่งมี\x20\x22เฉพาะคำถาม\x22\x20จงสร้าง\x20\x22เฉลย\x22\x20และข้อมูลที่จำเป็นสำหรับแต่ละข้อ\x0a\x0aคำสั่ง:\x0a1.\x20\x20วิเคราะห์ประเภทของคำถามแต่ละข้อในไฟล์\x20ว่าเป็นปรนัย\x20(multiple_choice),\x20เติมคำ\x20(short_answer),\x20ใช่/ไม่ใช่\x20(true_false),\x20หรือจับคู่\x20(matching_item)\x0a2.\x20\x20ใช้\x20\x22ข้อความคำถาม\x22\x20และ\x20\x22ตัวเลือก\x22\x20(ถ้ามี)\x20จากไฟล์ต้นฉบับแบบตรงตัว\x20ห้ามดัดแปลง\x0a3.\x20\x20สำหรับคำถามแต่ละข้อ\x20ให้คุณ\x20\x22สร้างเฉลยที่ถูกต้อง\x22\x20ขึ้นมาเอง\x20พร้อมทั้ง\x20\x22คำอธิบาย\x22\x20เหตุผลประกอบ\x0a4.\x20\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27เติมคำ\x27\x20(short_answer)\x20คำตอบที่ถูกต้อง\x20(idealAnswer)\x20ที่คุณสร้างขึ้นต้องเป็นตัวเลขระหว่าง\x200-999\x20เท่านั้น**\x0a5.\x20\x20สร้างผลลัพธ์เป็น\x20JSON\x20object\x20ที่สมบูรณ์\x20โดยใช้\x20Schema\x20สำหรับคำถาม\x20\x22แบบผสม\x20(mixed)\x22\x0a\x0a','remove','results-display-select','กำลังดึงไฟล์\x20O-NET\x20อ้างอิงจากลิงก์...','Error\x20deleting\x20student:','desc','.tab-name-input','isConfidenceScoringEnabled','pow','AI\x20request\x20was\x20blocked.\x20Reason:\x20','modal-confidence-scoring-checkbox','<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','\x22\x20data-quiz-id=\x22','\x5cpm','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','referenceUrl','Error\x20saving\x20parallel\x20shortcut:','referenceFileUrl','ไม่พบข้อมูลหัวข้อที่จะบันทึก','topic-input-area','comparison-chart','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','bg-gray-50','#retake-for-improvement-btn','<br>','hasPerfectScoreBonus','find','toDataURL','Error\x20resetting\x20project\x20order:','\x22\x20class=\x22delete-hidden-file-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','ส่งคำตอบ','tfrac','reduce','.project-card-container','.\x20ให้อยู่ในรูปแบบที่จดจำง่าย\x20โดยใช้\x20Markdown\x20table\x20หรือ\x20bullet\x20points\x20ที่เน้นข้อความสำคัญ\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX','from','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','comparison-modal','เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20','\x22\x20data-name=\x22','lesson-plan-content','add-student-btn','จากเนื้อหาต่อไปนี้:\x20\x22','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27','\x22\x20class=\x22pin-project-btn\x20','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','fa-dumbbell\x20text-gray-700','per-question-text','ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างบทเรียนตามปกติ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.regenerate-question-btn','Failed\x20to\x20resume\x20game\x20session:','lastIndexOf',';\x22\x20data-id=\x22','<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-teal-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างบทเรียน</button>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ai-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','click','test','reset-view-btn','ตัวแปรและนิพจน์','SAFETY','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','backgroundColor','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','topic-input','<button\x20class=\x22view-bp-lesson-btn\x20text-white\x20bg-blue-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>ดูบทเรียน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-generate-lesson-btn\x20text-white\x20bg-purple-600\x20hover:opacity-80\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22>สร้างใหม่</button>','mode-switcher-btn','stopPropagation','Error\x20fetching\x20lesson\x20content:','ไม่ได้ตอบ','ondragover','.live-answer-btn,\x20#sync-submit-btn','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>','/public/data/learnedFixes','disabled','options','.verification-result-editor','complexityValue','currentQuestionIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','deltaY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','getTextContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','question-complexity-select','memory','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','bg-black/10','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','write','bg-red-100\x20text-red-800','.file-shortcut-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','topic-tab','pointermove','<a\x20href=\x22#\x22\x20class=\x22move-parallel-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22','border-red-300\x20bg-red-50','การสร้างรูปด้วยวงเวียน–สันตรง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','NEGATIVE_INFINITY','export-pdf-modal','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-teal-700\x22>','files','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','applicationData','\x20\x0a\x20\x20\x20\x20','ผู้เชี่ยวชาญ','deg','กรุณาตั้งชื่อแท็บใหม่:','admin','</div></div></div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20ชุดสำเร็จ!','\x22\x20data-target-tab-id=\x22','---\x20[คำถามใหม่]\x20---','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','classStrengths','---\x20(AI\x20ไม่ได้สร้างตัวเลือกนี้)\x20---','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','drill-feedback','.lastAnswerCorrect','shadowColor','ร้อยละพื้นฐาน','โดยเน้นสร้างโจทย์ที่สอดคล้องกับแนวทางข้อสอบ\x20O-NET\x20สำหรับระดับชั้นนี้อย่างเคร่งครัด','Sync\x20Mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>','สมการยกกำลัง','ondrop','คำถามถัดไป','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.delete-shortcut-tab-btn','กำลังโหลดคลังข้อสอบทั้งหมด...','behavior-log-container','results','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','showRankings','คำเตือน\x20(','\x22\x20class=\x22open-bp-project-btn\x20bg-blue-100\x20text-blue-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-blue-200\x22>เปิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','ตอบถูก\x203\x20ข้อติดต่อกัน','textarea','สาระที่\x201','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20text-left\x22\x20style=\x22line-height:\x201.8;\x22>','fullscreenElement','student-rankings-modal','\x5cdiv','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','label','เส้นตรง:\x20ขนาน/ตั้งฉาก','cursor','ไม่พบข้อมูลโปรเจค','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','กรุณาเลือกไฟล์ก่อน','ร้อยละประยุกต์','อัปเดตแบบทดสอบเก่า\x20','cancel-create-project-btn','.bp-generate-lesson-btn','next-question-btn','correct','scores-tab-content','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file-shortcut-id-input','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','.correct-response-input','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','export-image-btn','กรุณาสร้างบทเรียนก่อน','disabled\x20bg-gray-400\x20cursor-not-allowed','\x22\x20class=\x22delete-hidden-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','delete-all-students-btn','เกิดข้อผิดพลาดในการบันทึก','bp-modal-question-complexity-select','):</label>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x20auto-resize-textarea\x22>','quadraticCurveTo','.auto-resize-textarea','.summary-bar-item','ถูก','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>','source-over','block','OBJECT','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','handleGenerateAndShowLesson','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','bg-red-50','#FEE2E2','replace','handleGeneratePracticeTest','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','จำนวนเต็มลบ','\x22\x20name=\x22confidence','\x22\x20class=\x22bp-try-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22ทดลอง\x22><i\x20class=\x22fas\x20fa-vial\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ผ่าน','ควรปรับปรุง','Error\x20generating\x20teaching\x20content:','substr','student-quiz-leaderboard-table-body','finished','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','function','text-green-600','editable-quiz-topic','<option>กำลังโหลดโปรเจค...</option>','(ไม่มีชื่อ)','(ก่อนเรียน)\x20','parallelTestShortcutsConfig','Error\x20processing\x20parallel\x20shortcut\x20click:','times','leaderboard-table-body','</p><div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q','back-to-dashboard-from-results-btn','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20loading\x20blueprint\x20projects:','responses.','สร้างแบบทดสอบ','getScreenCTM','inactive','warn','บันทึกโปรเจค\x20\x22','num-choices-container','per-question-options','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาวาง\x20URL\x20ของบทความก่อน','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','https://drive.google.com/uc?export=download&id=','confirm-bulk-quiz-settings-btn','ไม่สามารถอ่านข้อมูลจากไฟล์ได้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Failed\x20to\x20get\x20hint:','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','passcode-prompt-message','getElementById','quiz-form','createdAt','input[name=\x22question_single\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','cos','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดในแท็บนี้</p>','close-additional-parallel-shortcuts-btn','latestSubmittedAt','ownerSVGElement','close-lesson-plan-modal-footer-btn','Test\x20Blueprint','\x22\x20data-topic=\x22','draggable-text','manual-bp-project-name','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-shield-alt\x20text-gray-600','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','Error\x20committing\x20score\x20updates:','text-indigo-800','text-green-600\x20font-bold','some','</span><span\x20class=\x22font-bold\x22>','AI\x20ไม่สามารถแยกโครงสร้างหัวข้อได้','\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22','results-table','ondragstart','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','#D1FAE5','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','Failed\x20to\x20create/update\x20submission\x20record:','playerName','text-yellow-300','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','candidates','pointContent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','visible','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**[กฎเหล็ก:\x20การอ้างอิงสไตล์]**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงวิเคราะห์สไตล์,\x20ระดับความยาก,\x20และลักษณะของโจทย์\x20(เช่น\x20เป็นโจทย์ปัญหาสถานการณ์,\x20การคำนวณหลายขั้นตอน)\x20จาก\x20\x22ไฟล์ข้อสอบ\x20O-NET\x20ต้นฉบับ\x22\x20ที่แนบมานี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แล้วนำมาเป็น\x20\x22ต้นแบบ\x22\x20ในการสร้างโจทย์ชุดใหม่ทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20**คำสั่งเด็ดขาด:**\x20ห้ามคัดลอกโจทย์หรือตัวเลขจากไฟล์อ้างอิงมาโดยตรงเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20','file-shortcut-name-input','.score','<div\x20class=\x22p-2\x20rounded-md\x20','string','ผลรวมอนุกรม\x20(Σ)','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังตรวจสอบรายการแบบทดสอบล่าสุด...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','ไม่สามารถโหลดคลังข้อสอบได้','passcode-error-msg','...','now','\x22\x20data-mode=\x22live-race\x22\x20class=\x22game-start-btn\x20bg-orange-100\x20text-orange-800\x20hover:bg-orange-200\x20font-semibold\x20py-2\x20px-3\x20rounded-lg\x20text-sm\x22\x20title=\x22แข่งขันสด\x20(Live\x20Race)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-flag-checkered\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','checkAnswer','.parallel-shortcut-btn','\x22?\x20(ปุ่มลัดจะไม่ถูกลบ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-final-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x20(เริ่มข้อ\x201)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','122TgWHYH','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','button[type=\x22submit\x22]','.group\x5c/dropdown-file','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','preventDefault','open-global-live-btn','กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน','modal-passing-score-input','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','Error\x20moving\x20quiz:','ดีเทอร์มิแนนต์','\x22\x5cn','questionText','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','analyze-strengths-btn','save-bp-reference-btn','summary','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','pathname','<button\x20data-tab-id=\x22','difficulty-level-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','.delete-hidden-shortcut-btn','num-choices','<p>','save-bp-settings-btn','.ai-content\x20p','standard','\x22.\x20Ideal\x20Answer:\x20\x22','isPinned','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','separate-by-content-from-file-checkbox','true_false','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','wheel','Could\x20not\x20fetch\x20reference\x20file,\x20proceeding\x20without\x20it.','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','createElement','.status','กำลังเตรียมไฟล์อ้างอิง...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-teal-700\x22>','กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','closePath','stroke','json','cancel-bulk-quiz-settings-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แก้ไขปุ่มลัดข้อสอบต้นฉบับ','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','\x20หัวข้อ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','text-indigo-700','สุดยอด!\x20ตอบถูกทุกข้อ','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submission-status-chart','sin','isNormalTopic','สร้างชุดคำถามจับคู่','ลำดับเรขาคณิต\x20(GP)','input[name=\x22syncVariant\x22]:checked','เกิดข้อผิดพลาดในการลบแบบทดสอบ','confirm-team-players-btn','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','focus','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','global-activity-modal','close-lesson-view-btn','<div\x20class=\x22answer-space\x22></div>','<p\x20class=\x22text-xl\x22>','destroy','Team\x20Quiz','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','center','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','lesson-loader','add-shortcut-btn','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','resultsDisplay','FIRST_TRY_ACE','.shortcut-list-item:not(.opacity-50)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','quiz-leaderboard-table-body','.bp-create-onet-quiz-btn','blueprint-projects-modal','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','file-shortcut-url-input','Error\x20showing\x20quiz\x20detail\x20view:','ON_FIRE','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','เกิดข้อผิดพลาดในการประมวลผลไฟล์:\x20','ปิดใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','เนื้อหาที่สร้างขึ้นถูกบล็อกเนื่องจากนโยบายความปลอดภัย','analytics-tab-btn','กรุณาเลือกโปรเจคปลายทาง','nickname-input','</button>','manage-tab-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-parallel-shortcut-edit-btn','ไม่พบตารางสำหรับ\x20Export','พื้นที่สามเหลี่ยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ใช่\x20/\x20ถูก','Error\x20verifying\x20answers:','toggle','start-game-btn','querySelectorAll','submission','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','กำลังวิเคราะห์ไฟล์อ้างอิงและสร้างแบบทดสอบ...','setAttribute','floor','แก้ระบบสมการด้วยเมทริกซ์','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','round','#FEF3C7','ความชันเส้นสัมผัส','\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)','show_results_and_answers','2168342DkVOfd','ข้อ\x20','.scratchpad-content-wrapper','.\x20โดยต้องมีองค์ประกอบดังนี้:\x0a1.\x20ใช้\x20Markdown\x20ในการจัดรูปแบบ\x0a2.\x20อธิบายแนวคิดหลักอย่างน้อย\x203-4\x20ข้อ\x20โดยใช้\x20###\x20สำหรับหัวข้อแนวคิด\x0a3.\x20ในแต่ละแนวคิดหลัก\x20ต้องมีตัวอย่างประกอบที่ชัดเจน\x20ใส่ตัวอย่างใน\x20blockquote\x20(>)\x0a4.\x20ถ้ามีสูตรคณิตศาสตร์\x20ให้ใช้รูปแบบ\x20LaTeX\x20เช่น\x20$a^2\x20+\x20b^2\x20=\x20c^2$\x0a5.\x20เมื่ออธิบายแนวคิดทางเรขาคณิต\x20ให้สร้างรูปภาพประกอบเป็น\x20SVG\x20แบบ\x20inline\x20ที่เรียบง่ายและชัดเจน\x20แทนการใช้\x20ASCII\x20art','bp-modal-include-images-checkbox','correctAnswer','การหารทศนิยม','Attempting\x20to\x20save\x20game\x20results...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','parallel-default-1','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','ค่าเฉลี่ย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','พบ\x20Sync\x20Game!','msExitFullscreen','then','\x0a\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20hover:bg-gray-100\x20flex\x20flex-col\x20sm:flex-row\x20items-start\x20sm:items-center\x20justify-between\x20gap-2\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20cursor-pointer\x22\x20onclick=\x22handleGenerateAndShowLesson(\x27','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','readAsDataURL','\x27,\x20สร้างเนื้อหาสรุปสูตรหรือหลักการสำคัญสำหรับนักเรียนระดับชั้น\x20\x27','shortcutId','(^|[^\x5c\x5c])\x5cb','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','reference_onet.pdf','ไม่พบโปรเจคที่ต้องการลบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','ต้นฉบับ\x202','create-from-bank-btn','Global\x20quiz\x20cache\x20is\x20empty.\x20Fetching\x20now...','[data-topic-id]','source_document.pdf','analytics','\x22\x20class=\x22shortcut-tab-btn\x20whitespace-nowrap\x20py-3\x20px-2\x20border-b-2\x20font-medium\x20text-sm\x20','standardTopic','generate-worksheet-btn','การประยุกต์เวกเตอร์พื้นฐาน','onload','fadeStartTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>','stepByStepExamples','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bp-quiz-settings-btn','show_pass_fail_only','\x22\x20class=\x22delete-file-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>','.quiz-bank-settings-btn','per-q-countdown','flex\x20flex-col\x20gap-2','\x22\x20สำเร็จ','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','.\x20ให้เหมาะสำหรับใช้เป็นแผ่นสรุปก่อนสอบ\x20โดยต้องรวมแนวคิดสำคัญ,\x20สูตรหลัก\x20(ใช้\x20LaTeX),\x20และตัวอย่างการนำไปใช้ที่สำคัญ\x20โดยใช้\x20Markdown\x20ในการจัดรูปแบบ','href','#student-quiz-leaderboard-content\x20thead','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz','Error\x20updating\x20quiz\x20status:','\x20คะแนน</span></div>','mainTopics','start-quiz-btn','text-white','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','การแจกแจงทวินาม\x20(พื้นฐาน)','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','earned-badges-container','กรุณาพิมพ์คำตอบ','target','beginPath','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','innerText','\x22...','rgba(255,\x20255,\x200,\x200.5)','idealAnswer','perfect_score_status','quiz-status-modal','.presentation-option','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','</h4>','บทเรียน','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','.unpair-quiz-btn','additional-parallel-shortcuts-modal','.bp-try-btn','removeItem','lesson-sections-container','จำนวนนักเรียน','parallel-shortcut-modal-title','.tab-name-display','save-settings-btn','code','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','workerSrc','หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน','หมดเวลา!\x20กำลังส่งคำตอบ...','<span\x20class=\x22pointer-events-none\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></span>','quiz-search-input','```json','getDocument','file-input-area','\x20กลุ่ม</p></div>','\x20สำเร็จ','progress-project-select','answer','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','กำลังสร้างแบบทดสอบ:\x20','เลือกและเริ่มสร้าง','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.game-start-btn','webkitRequestFullscreen','live-game','quiz-end-time','#F59E0B','\x20link(s)\x20for\x20quiz\x20ID:\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจว่าต้องการลบปุ่มลัด\x20\x22','_opt1\x22>ไม่ใช่</label></div>','มุมพิเศษ\x2045°-45°-90°','อยู่ในสาระการเรียนรู้ใด:','</tbody></table></div>','.topic-name-display','Failed\x20to\x20kick\x20player\x20','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','470754YXzRzn','close-additional-file-shortcuts-btn','isStarred','กำลังสร้างเนื้อหา:\x20','เรเดียนและการแปลงหน่วย','check-answer-btn','กำลังอ่านและเตรียมไฟล์ต้นฉบับ...','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','<button\x20data-id=\x22','exists','</div></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x09\x09\x0a\x09\x09<div\x20id=\x22eraser-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2220\x22\x20title=\x22ยางลบขนาดเล็ก\x20(20)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-2\x20h-2\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2240\x22\x20title=\x22ยางลบขนาดกลาง\x20(40)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-3\x20h-3\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22eraser-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20border-2\x22\x20data-size=\x2280\x22\x20title=\x22ยางลบขนาดใหญ่\x20(80)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-4\x20h-4\x20bg-gray-600\x20rounded-full\x20pointer-events-none\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','dragstart','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-indigo-800\x20mb-2\x20border-b-2\x20border-indigo-200\x20pb-2\x22>🎯\x20สรุปแนวคิดหลัก\x20(Key\x20Concepts)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','แผนการสอน:\x20','allResponses','.duplicate-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','http://www.w3.org/2000/svg','viewBox','typesetPromise','<p\x20class=\x22text-gray-500\x20text-center\x22>ไม่พบหัวข้อที่ชัดเจนในไฟล์นี้</p>','\x22\x20class=\x22quiz-bank-checkbox\x20h-5\x20w-5\x20rounded\x20border-gray-300\x20text-purple-600\x20focus:ring-purple-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','border-red-700','\x22\x20class=\x22bp-live-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22แข่งขันสด\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','instructions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','readAsArrayBuffer','/public/data/teamQuizzes','transformOrigin','Error\x20comparing\x20results:','quick_thinker','change','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','เลือกโปรเจคที่จะบันทึกแบบทดสอบ','update','textarea[name=\x22team_answer\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22delete-parallel-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','\x22\x20class=\x22bp-present-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22นำเสนอ\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','.use-hidden-parallel-shortcut-btn','previousElementSibling','ไม่ระบุ','\x22\x20class=\x22remove-parallel-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','</p></div>','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','.shortcut-btn','ฐานนิยม','blueprint-options-container','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','.move-file-shortcut-item','isCorrect','bg-green-200\x20text-green-800','(คู่ขนาน)\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','worksheet-input-area','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','.eraser-size-btn','file-default-','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x22>',',\x20r=','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','modal-shuffle-select','</th>','shortcuts','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ห.ร.ม.\x20(GCD)','groups.','confidence-scoring-description','random','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x5cle','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','projectOrder','Could\x20not\x20fetch\x20reference\x20file:','สมการเหตุผล\x20(rational)','\x20ข้อ...','\x20ชุด)</span>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','ท็อปฟอร์ม','-options','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','generate-from-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','q-image-container-','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คำอธิบาย...','execCommand','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','student-list','isRemedial','Error\x20listening\x20for\x20starred\x20quizzes:','.color-palette-popup','Error\x20submitting\x20group\x20answer:','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.doc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Error\x20saving\x20project\x20order:',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','name_asc','.project-card-content','.parallel-shortcut-tab-btn','player-list-lobby','opacity-50','(ฉบับง่าย)\x20','status','.lastAnswerIndex','lobby','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','เกิดข้อผิดพลาดในการติดดาว','lesson-view-content','fas\x20fa-bookmark','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-category','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','\x20pointer-events-none\x22>','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','toDate','onerror','scrollIntoView','worksheet-topic-input','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','กฎบวกและกฎคูณ','stdDev','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','select[name=\x22question_single\x22]','normal','answerText','กรุณาใส่ชื่อโปรเจค','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','dashboardConfig','scores','createObjectURL','Error\x20saving\x20questions\x20to\x20practice\x20bank:','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','<h3\x20class=\x22text-center\x20font-semibold\x20text-lg\x20text-gray-700\x20mb-4\x22>ระดับชั้นที่วิเคราะห์ได้:\x20','ไม่พบข้อมูลเกม','\x5csum','(เลือกแล้ว\x20','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','bg-green-100\x20font-bold','ตอบถูกทุกข้อในแบบทดสอบนี้','parallel-shortcut-container','Error\x20saving\x20quiz:','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','confidence-scoring-toggle','gradeLevel','close-student-rankings-btn','<textarea\x20name=\x22question','practice-topic-btn','หัวข้อที่สร้างเอง','Error\x20reading\x20reference\x20file\x20for\x20single\x20topic:','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>','next-question-timed-btn','every','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','keyup','timerDuration','firstScore','.shortcut-list-item','parentElement','\x20รายการ...','live-player-management','กรุณาเลือกคำตอบก่อนครับ','results-tab',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','_opt0\x22\x20name=\x22question','setFont','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','parallel-test-upload-input','reset-project-order-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20flex\x20items-center\x20justify-between\x20gap-4\x20hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','update-old-quizzes-btn','สามเหลี่ยม\x20(ชนิด/สมบัติ)','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','fileShortcutsConfig','รูปสแควร์รูท\x20(surd)','offset','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','shadowBlur','คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x27\x20(พิมพ์ตอบเอง)','student-quiz-leaderboard-tab','comparison','\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20','quiz','qIndex','.mb-6.p-4','bg-gray-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-tab-id=\x22','ไม่มีผู้ตอบตัวเลือกนี้','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20font-mono\x20pointer-events-none\x22>ID:\x20','toLowerCase','onblur','\x22>ไม่ใช่</p>','ระบบอสมการ','.ai-content\x20td','key','\x22\x20data-mode=\x22group\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>Group</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','progress-student-select','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แผนภาพเวนน์','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','เกิดข้อผิดพลาดในการลบโปรเจค','No\x20player\x20data\x20to\x20save.','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','display','doughnut','close-comparison-modal-footer-btn','/submissions','transition-all','latestScore','/preferences/main','ตั้งเวลา\x20(เปิด)','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>กำลังโหลด...</p>','Error\x20submitting\x20team\x20answer:','parts','.delete-quiz-btn','admin-testing','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','mouseup','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','text-red-600','parallel-shortcut_','wasConfident','ส่วนเบี่ยงเบนมาตรฐาน','reveal-answer-btn','<div>','.color-palette-btn','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','ตัวเลือก\x20ข','bg-green-50','binom','bulk-quiz-settings-modal','</body></html>','clientY','btn','เงินงวด\x20(อนุกรมเงินงวด)','ไม่พบข้อมูลแบบทดสอบ','\x22\x20data-mode=\x22sync\x22\x20class=\x22bp-game-btn\x20px-2\x20py-1\x20font-semibold\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>Sync</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-topic-id=\x22','.delete-parallel-shortcut-btn','parallel-shortcut-name-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close-topic-bank-btn','อัตราการเปลี่ยนแปลงทันที','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','สร้างแบบทดสอบปรนัย','คะแนนยังไม่ถึงครึ่ง','.delete-svg-btn','timer-duration-label','cancel-global-activity-btn','แบบเติมคำตอบ','text/html','suggestedAnswer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ml-4\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22font-semibold\x20text-lg\x20text-gray-700\x20mb-2\x22>','scale','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','Error\x20pairing\x20quizzes:','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','parallel-test-tab','map','.export-pdf-list-btn','\x22><p\x20class=\x22font-semibold\x22>','devicePixelRatio','text-blue-700','บันทึกลิงก์ไฟล์อ้างอิงสำเร็จ','onclick','วงกลม:\x20คอร์ดและเส้นสัมผัส','results-table-container','.\x20แต่ละข้อมี\x20','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','manual_release','selected-answer-index-hidden','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','groups','สมการเชิงเส้นตัวแปรเดียว','แบบทดสอบที่ติดดาว','.edit-hidden-shortcut-btn','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','modal-results-display-select','Error\x20opening\x20quiz\x20editor:','bg-green-200\x20text-green-900\x20font-bold','\x20\x0a\x0a---\x0a\x0a**ลำดับความสำคัญของข้อมูล\x20(Data\x20Priority\x20Directive):**\x20(ส่วนนี้เพิ่มเข้ามาเพื่อความชัดเจน\x20แม้จะอยู่ใน\x20qualityDirective\x20แล้ว)\x0a*\x20**กฎสูงสุด\x20(Priority\x20#1):\x20Test\x20Blueprint**\x20(สำหรับโครงสร้างและจำนวนข้อ)\x0a*\x20**ข้อมูลเสริม\x20(Priority\x20#2):\x20ไฟล์ข้อสอบอ้างอิง\x20(ถ้ามี)**\x20(สำหรับสไตล์และความยาก)\x0a\x0a**สร้างสรรค์โจทย์ใหม่เสมอ\x20(Novelty\x20Requirement):**\x0a*\x20ไม่ว่าจะกรณีใดก็ตาม\x20ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์จากไฟล์อ้างอิง\x20(ถ้ามี)\x20มาโดยเด็ดขาด\x20ต้องสร้างขึ้นมาใหม่ให้มีความ\x20\x22สมมูล\x22\x20กันในเชิงการวัดผลเท่านั้น\x0a\x0a---\x0a\x0a**แม่พิมพ์ข้อสอบ\x20O-NET\x20ฉบับสมบูรณ์\x20(Definitive\x20Master\x20Test\x20Pattern)**\x0a(ส่วนนี้\x20AI\x20จะใช้เมื่อ\x20`qualityDirective`\x20เป็น\x20`noReferencePrompt`)\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20ประถมศึกษาปีที่\x206\x20(P.6):**\x0a\x20\x20\x20\x20*\x20**การคำนวณระคน:**\x20สร้างโจทย์ที่มีวงเล็บและการคูณ/หารผสมกับการบวก/ลบ\x20ต้องใช้ลำดับการคำนวณที่ถูกต้อง\x0a\x20\x20\x20\x20*\x20**โจทย์ปัญหาเศษส่วนและทศนิยม:**\x20สร้างโจทย์ปัญหา\x202-3\x20ขั้นตอน\x20หรือโจทย์เปรียบเทียบและเรียงลำดับเศษส่วน/จำนวนคละที่ตัวส่วนไม่เท่ากัน\x0a\x20\x20\x20\x20*\x20**อัตราส่วนและร้อยละ:**\x20สร้างโจทย์ปัญหาที่ต้องใช้อัตราส่วนหรือการคำนวณร้อยละ\x20เช่น\x20การหากำไร,\x20การหาส่วนลด,\x20หรือการหาจำนวนทั้งหมด\x0a\x20\x20\x20\x20*\x20**แบบรูป\x20(Patterns):**\x20สร้างโจทย์ที่ให้นักเรียนวิเคราะห์แบบรูปของจำนวนจากตารางหรือลำดับ\x20แล้วทำนายจำนวนในลำดับถัดไป\x0a\x20\x20\x20\x20*\x20**การวัด\x20(Measurement):**\x20สร้างโจทย์ปัญหาที่ต้องมีการแปลงหน่วย\x20(เมตรเป็นเซนติเมตร,\x20กิโลกรัมเป็นกรัม,\x20ชั่วโมงเป็นนาที)\x0a\x20\x20\x20\x20*\x20**เรขาคณิต\x20(Geometry):**\x20สร้างโจทย์หาความยาวรอบรูปหรือพื้นที่ของ\x20**รูปทรงผสม**\x20หรือหาปริมาตรของรูปทรงสามมิติที่ประกอบจากทรงสี่เหลี่ยม\x20และต้องมีคำถามเกี่ยวกับ\x20**สมบัติของรูปสี่เหลี่ยม**\x0a\x20\x20\x20\x20*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20ต้องมีโจทย์ที่ให้นักเรียนอ่านและตีความข้อมูลจาก\x20**กราฟเส้น**\x20หรือ\x20**แผนภูมิวงกลม**\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข:**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะสำหรับ\x20มัธยมศึกษาปีที่\x203\x20(M.3):**\x0a\x20\x20\x20\x20*\x20**เลขยกกำลังและราก:**\x20สร้างโจทย์คำนวณที่ซับซ้อนซึ่งต้องใช้\x20**สมบัติของเลขยกกำลังและราก**\x20ในการจัดรูป\x0a\x20\x20\x20\x20*\x20**พีชคณิต\x20(Algebra):**\x20สร้างโจทย์ปัญหาที่ต้องแก้\x20**ระบบสมการเชิงเส้นสองตัวแปร**,\x20**สมการกำลังสอง**,\x20หรือ\x20**อสมการ**\x0a\x20\x20\x20\x20*\x20**ฟังก์ชันกำลังสอง\x20(Quadratic\x20Functions):**\x20สร้างโจทย์ที่ต้องใช้ความเข้าใจเกี่ยวกับกราฟ\x20**พาราโบลา**\x20ในการหาระยะทางหรือค่าคงที่\x0a\x20\x20\x20\x20*\x20**เรขาคณิตวิเคราะห์\x20(Analytic\x20Geometry):**\x20สร้างโจทย์เกี่ยวกับการแปลงทางเรขาคณิต\x20(เลื่อนขนาน,\x20สะท้อน),\x20การหาระยะห่างระหว่างจุด\x0a\x20\x20\x20\x20*\x20**เรขาคณิตประยุกต์\x20(Applied\x20Geometry):**\x20สร้างโจทย์ที่ต้องใช้ความรู้เรื่อง\x20**สามเหลี่ยมคล้าย**,\x20**ทฤษฎีบทพีทาโกรัส**,\x20**อัตราส่วนตรีโกณมิติ**\x20(มุมก้ม/มุมเงย),\x20หรือ\x20**ทฤษฎีบทเกี่ยวกับวงกลม**\x0a\x20\x20\x20\x20*\x20**ปริมาตรและพื้นที่ผิว:**\x20สร้างโจทย์ปัญหาประยุกต์เกี่ยวกับการหาปริมาตรหรือพื้นที่ผิวของ\x20กรวย,\x20ทรงกระบอก,\x20พีระมิด,\x20หรือทรงกลม\x0a\x20\x20\x20\x20*\x20**สถิติและความน่าจะเป็น:**\x20ต้องมีโจทย์หา\x20**ค่ากลางของข้อมูล**\x20หรือ\x20**พิสัย**\x20จากชุดข้อมูลที่\x20**มีค่าบางตัวหายไป**\x20และโจทย์\x20**ความน่าจะเป็น**\x20ของเหตุการณ์\x0a\x20\x20\x20\x20*\x20**กฎสำหรับข้อสอบระบายตัวเลข\x20(เติมคำ\x20(พิมพ์ตอบเอง)):**\x20คำตอบสุดท้ายต้องเป็นตัวเลขจำนวนเต็มบวกที่มีค่าไม่เกิน\x203\x20หลัก\x20(0-999)\x20เท่านั้น\x0a\x0a*\x20**ลักษณะเฉพาะที่ต้องมีในทุกระดับชั้น\x20(Universal\x20Characteristics):**\x0a\x20\x20\x20\x20*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ต้องมีโจทย์บางข้อที่ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไร/ส่วนลดเป็นจำนวนเงิน\x20แล้วถามหาราคาเดิม)\x0a\x20\x20\x20\x20*\x20**การสังเคราะห์ข้อมูล\x20(Information\x20Synthesis):**\x20ในโจทย์กราฟหรือตาราง\x20ต้องมีคำถามที่บังคับให้นำข้อมูลจากหลายๆ\x20จุดมาเปรียบเทียบหรือคำนวณร่วมกัน\x0a\x20\x20\x20\x20*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20ต้องมีโจทย์ที่ให้ข้อสรุปมา\x202-3\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20*\x20**ลักษณะของตัวลวง\x20(Distractor\x20Characteristics):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20ควรเป็นผลลัพธ์ที่เกิดจากการ\x20**คำนวณผิดพลาดในขั้นตอนที่พบบ่อย**\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20ลืมแปลงหน่วย)\x20หรือเกิดจาก\x20**ความเข้าใจผิดในแนวคิด**\x20(เช่น\x20ใช้สูตรพื้นที่แทนความยาวรอบรูป)\x0a\x0a---\x0a\x0a**ข้อกำหนดด้านโครงสร้างและรูปแบบ\x20(Structural\x20&\x20Formatting\x20Requirements)**\x0a\x0a1.\x20\x20**กฎเหล็กของการกระจายเนื้อหา\x20(The\x20Golden\x20Rule\x20of\x20Content\x20Distribution):**\x20คุณต้องปฏิบัติตามกระบวนการนี้อย่างเคร่งครัด:\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x201:**\x20ในตาราง\x20Test\x20Blueprint,\x20ให้มองหา\x20**\x22กลุ่มของแถว\x22**\x20ที่อยู่ภายใต้\x20**\x27มาตรฐาน\x27**\x20เดียวกัน\x20(เช่น\x20กลุ่มของแถวทั้งหมดที่อยู่ใน\x20\x27มาตรฐาน\x20ค\x201.3\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x202:**\x20สำหรับ\x20\x22กลุ่มของแถว\x22\x20นั้นๆ,\x20ให้ดูที่คอลัมน์\x20**\x27รูปแบบข้อสอบ\x20(จำนวนข้อ)\x27**\x20ซึ่งจะถูกระบุไว้เพียง\x20**ชุดเดียว**\x20สำหรับทั้งกลุ่ม\x20เพื่อหาจำนวนข้อสอบที่ต้องสร้างสำหรับมาตรฐานนั้น\x20(เช่น\x20\x274\x20ตัวเลือก\x20(3\x20ข้อ)\x27,\x20\x27ระบายตัวเลข\x20(1\x20ข้อ)\x27)\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x203:**\x20จากนั้น,\x20ให้รวบรวมรายการหัวข้อย่อยทั้งหมดในคอลัมน์\x20**\x27สาระการเรียนรู้แกนกลาง\x27**\x20ที่อยู่ใน\x20\x22กลุ่มของแถว\x22\x20นั้นๆ\x0a\x20\x20\x20\x20*\x20**ขั้นตอนที่\x204\x20(ภารกิจหลัก):**\x20สร้างข้อสอบตามจำนวนและรูปแบบที่ได้จากขั้นตอนที่\x202\x20โดยต้องกระจายการสร้างโจทย์ให้ครอบคลุมหัวข้อย่อยที่รวบรวมมาในขั้นตอนที่\x203\x20ให้ได้มากที่สุดเท่าที่จะเป็นไปได้\x20**ห้ามสร้างโจทย์หลายข้อจากหัวข้อย่อยเดียวกัน\x20หากยังมีหัวข้อย่อยอื่นในกลุ่มเดียวกันที่ยังไม่ได้ใช้**\x0a\x0a2.\x20\x20**ลำดับข้อสอบและรูปแบบ\x20(Item\x20&\x20Format\x20Sequencing\x20-\x20CRITICAL):**\x20**คุณต้องวิเคราะห์ลำดับของ\x20\x22ตอนที่\x22\x20(Part\x201,\x20Part\x202,\x20Part\x203,\x20...)\x20และ\x20\x22รูปแบบข้อสอบ\x22\x20ที่ระบุไว้ในแต่ละตอนจาก\x20Test\x20Blueprint\x20ที่แนบมาอย่างละเอียด**\x20ข้อสอบที่คุณสร้างขึ้นทั้งหมด\x20**ต้อง**\x20ถูกจัดเรียงตามลำดับของ\x20\x22ตอนที่\x22\x20และมี\x20\x22รูปแบบ\x22\x20ตรงตามที่ปรากฏในเอกสาร\x20Test\x20Blueprint\x20ทุกประการ\x20**ห้ามสลับลำดับ,\x20เปลี่ยนแปลงรูปแบบ,\x20หรือใช้ลำดับจากความจำเดิมโดยเด็ดขาด**\x0a\x0a---\x0a\x0a**คำสั่งสุดท้าย:\x20การตรวจสอบก่อนส่งมอบ\x20(Final\x20Check\x20Directive)**\x0aก่อนที่คุณจะสร้าง\x20JSON\x20object\x20สุดท้าย\x20ให้ตรวจสอบอีกครั้ง:\x20\x22จำนวนคำถามและรูปแบบในแต่ละตอนที่ฉันสร้าง\x20ตรงกับที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการหรือไม่?\x22\x20หากไม่ตรง\x20ให้เริ่มกระบวนการใหม่ทั้งหมดทันที\x0a\x0a---\x0a\x0a**กฎเพิ่มเติม:**\x0a-\x20\x20\x20คำถามทุกข้อต้องเป็นภาษาไทย\x0a-\x20\x20\x20ผลลัพธ์ต้องเป็น\x20JSON\x20object\x20ที่สมบูรณ์ตาม\x20Schema\x20ที่กำหนดเท่านั้น\x0a-\x20\x20\x20**กฎการจัดการโจทย์ที่เป็นภาพ\x20(Visual\x20Problem\x20Handling\x20-\x20CRITICAL):**\x20สำหรับโจทย์ที่ต้องอาศัยรูปภาพในการแก้ปัญหา\x20(เช่น\x20มิติสัมพันธ์,\x20เรขาคณิต,\x20การอ่านแผนที่)\x20ซึ่งไม่สามารถอธิบายได้ด้วยข้อความเพียงอย่างเดียว\x20ให้คุณ\x20**\x22สร้างคำบรรยายรูปภาพ\x22**\x20ที่ชัดเจนและละเอียดที่สุด\x20แล้วใส่ไว้ในโจทย์แทนการสร้างรูปภาพ\x0a\x20\x20\x20\x20*\x20**ตัวอย่าง:**\x20แทนที่จะสร้างโจทย์ที่มีภาพลูกบาศก์\x20ให้สร้างเป็น\x20\x22กำหนดให้มีรูปทรงสามมิติที่ประกอบจากลูกบาศก์ขนาดเท่ากัน\x2016\x20ลูก\x20วางซ้อนกันเป็นฐาน\x204x2\x20และมีส่วนที่ซ้อนขึ้นไปเป็นชั้นที่\x202\x20ขนาด\x202x2\x20ตรงกลาง...\x22\x0a\x20\x20\x20\x20*\x20**ในกรณีที่\x20\x22ตัวเลือก\x22\x20เป็นรูปภาพ:**\x20ให้ใช้วิธีการเดียวกัน\x20คือสร้างเป็นคำบรรยายลักษณะของรูปภาพในแต่ละตัวเลือก\x0a\x20\x20\x20\x20*\x20**กฎเหล็ก:**\x20ห้ามสร้างโค้ด\x20SVG\x20หรือข้อความ\x20Placeholder\x20(เช่น\x20\x27image_code\x27)\x20ใดๆ\x20ทั้งสิ้นโดยเด็ดขาด\x20ให้ใช้คำบรรยายเท่านั้น\x0a-\x20\x20\x20**Rule\x20for\x20mathematical\x20expressions:\x20Use\x20LaTeX\x20enclosed\x20only\x20within\x20$...$**\x0a','shuffleSetting','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','strokeStyle','attempts','เนื้อหาสำหรับสอน:\x20','BOOLEAN','กำลังกลับเข้าสู่เกม\x20','qType','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','grid-view-btn','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','topicId','Error\x20rendering\x20student\x20progress:','submit','ความเท่ากันทุกประการของสามเหลี่ยม','pointer-events-none','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','isLooping','blueprint-project-manager-view','fill_in_the_blank','การคูณเศษส่วน','ไม่พบโปรเจค','bestScore','onchange','ปริมาตร/ความจุและการแปลง','\x20รายการสำเร็จ!','student-progress-content','add-file-shortcut-tab-btn','\x22\x20class=\x22delete-file-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parallelShortcutTabs','endsWith','Error\x20saving\x20submission:','กรุณาเลือกคำตอบ','lesson-view-modal','quiz-results-view','div[data-question-index=\x22','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','trim','.answers','slice','confidence-scoring-checkbox','back-to-results-btn','\x0a---\x0a','bp-reference-file-url','authed_project_','global-quiz-search-input','questionId','แบบทดสอบ:\x20','PROMPT_PLACEHOLDER','fixedData','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','\x22>ใช่</p>','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','lesson-loader-text','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','Error\x20fetching\x20projects\x20for\x20move:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-open-topic-bank-btn\x20text-purple-700\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22เปิดคลังแบบทดสอบประจำหัวข้อ\x22><i\x20class=\x22fas\x20fa-book-open\x22></i>\x20คลัง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-topic-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบจากชื่อหัวข้อ\x22>สร้าง\x20(หัวข้อ)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-content-quiz-btn\x20text-indigo-700\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','score','student-name-selection-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22open-additional-shortcuts-btn\x22\x20class=\x22rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20flex-col\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20bg-gray-100\x20hover:bg-gray-200\x20text-gray-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20text-xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22mt-2\x20text-sm\x22>ปุ่มลัดเพิ่มเติม</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','quiz-editor-questions-container','textarea,\x20input[type=\x22text\x22],\x20[contenteditable=\x22true\x22],\x20[role=\x22textbox\x22],\x20.ql-editor,\x20label,\x20.choice-text,\x20.option-text,\x20.answer-text,\x20p,\x20li','สลับไปโหมดนักเรียน','Group\x20Mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','\x0a**คำสั่งเริ่มต้น:\x20การวิเคราะห์โครงสร้าง\x20(Initial\x20Directive:\x20Structural\x20Analysis)**\x0aก่อนเริ่มสร้างโจทย์ใดๆ\x20ภารกิจแรกของคุณคือ:\x0a1.\x20อ่านไฟล์\x20Test\x20Blueprint\x20ที่แนบมาให้จบ\x0a2.\x20**ระบุจำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20ออกมาให้ชัดเจน\x0a3.\x20จดจำโครงสร้างนี้ไว้\x20เพราะมันคือกฎสูงสุดที่ต้องปฏิบัติตาม\x0a\x0a---\x0a\x0a**บทบาท:**\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x20โดยเชี่ยวชาญด้านการสร้างข้อสอบ\x20O-NET\x20คณิตศาสตร์\x20(Test\x20Specialist\x20for\x20O-NET\x20Mathematics)\x20ที่ได้รับมอบหมายให้สร้างข้อสอบชุดใหม่ที่มีความสมมูล\x20(Equivalent)\x20กับข้อสอบจริง\x0a\x0a**กฎเหล็กสูงสุด:\x20โครงสร้างข้อสอบ\x20(The\x20Ultimate\x20Golden\x20Rule:\x20Test\x20Structure)**\x0aภารกิจแรกและสำคัญที่สุดของคุณ\x20คือการวิเคราะห์ไฟล์\x20Test\x20Blueprint\x20ที่แนบมาเพื่อหาโครงสร้างข้อสอบที่ถูกต้อง\x20คุณต้อง:\x0a1.\x20\x20**วิเคราะห์จำนวนและรูปแบบ:**\x20อ่านข้อมูลจากหน้า\x20\x22คำชี้แจง\x22\x20หรือส่วนสรุป\x20เพื่อระบุ\x20**จำนวนข้อสอบทั้งหมด**\x20และ\x20**รูปแบบของข้อสอบในแต่ละตอน**\x20(เช่น\x20ตอนที่\x201:\x20ปรนัย\x204\x20ตัวเลือก,\x20ตอนที่\x202:\x20ระบายตัวเลข,\x20ตอนที่\x203:\x20ถูก/ผิด)\x0a2.\x20\x20**ยึดตามโครงสร้างนี้เท่านั้น:**\x20ข้อสอบทั้งชุดที่คุณจะสร้าง\x20ต้องมีจำนวนข้อรวมและรูปแบบในแต่ละตอน\x20**ตรงตามที่ระบุไว้ใน\x20Test\x20Blueprint\x20ทุกประการ**\x0a3.\x20\x20**คำเตือน:**\x20**ห้ามสร้างจำนวนข้อเกินหรือขาดจากที่ระบุใน\x20Blueprint\x20โดยเด็ดขาด**\x20หากจำนวนข้อที่สร้างไม่ตรงตามนี้\x20ถือว่าภารกิจทั้งหมดล้มเหลว\x0a\x0a---\x0a\x0a**ภารกิจหลักด้านคุณภาพ:\x20ปรัชญาการสร้างโจทย์\x20(Quality\x20Directive:\x20Question\x20Generation\x20Philosophy)**\x0a\x0a','เกิดข้อผิดพลาดในการปักหมุด','.project-card-container.opacity-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','justification','join','รูปสี่เหลี่ยมและสมบัติ','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','%</span>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','pairedQuizId','force-math-checkbox','not-found','export-lesson-to-pdf-btn','ระยะจากจุดถึงเส้นตรง','back-to-student-initial-btn','\x22\x20data-mode=\x22sync\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x20pointer-events-none\x22></i>\x20Sync\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','ลำดับเลขคณิต\x20(AP)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27\x20และ\x20\x27ลิงก์\x20Test\x20Blueprint\x27','confidence_single','svg','comparison-individual-content','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','\x20|\x20','podium','Error\x20processing\x20shortcut\x20click:','Error\x20loading\x20quiz\x20for\x20student:','mouse','timer-bar','ใช่','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่สามารถโหลดรายการได้</p>','<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','bottom','ไม่สามารถโหลดข้อมูลอันดับได้','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','การบวก','toFixed','เรขาคณิตวิเคราะห์','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','curriculum','Error\x20saving\x20blueprint\x20project:','rgba(16,\x20185,\x20129,\x200.7)','matching_item','กำลังอัปเดตแบบทดสอบ\x20','.live-summary-tooltip.visible','คำถามทุกข้อต้องเป็นแบบ\x20\x27ถูก/ผิด\x27\x20หรือ\x20\x27ใช่/ไม่ใช่\x27\x20เท่านั้น','\x22\x20value=\x22true\x22\x20','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','บันทึกผลการเล่นเกมของ\x20','close-additional-shortcuts-btn','generated-quiz-container','font-bold\x20text-green-700','scratchpad-controls','\x5csqrt{$1}','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','text-red-700\x20bg-red-100','confidence-input-','กรุณาเลือกไฟล์ข้อสอบต้นฉบับ\x20หรือใช้ปุ่มลัด','Error\x20creating\x20project:','AI\x20did\x20not\x20return\x20any\x20content.','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','shortcut-tabs-nav','<div\x20class=\x22my-2\x22>','delete-svg-btn','presentation-modal','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','back-to-dashboard-from-bp-btn','appendChild','\x22\x20มาเป็นฐาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20**กฎการสกัด:**\x20ให้ดึงเฉพาะ\x20\x22ข้อความ\x22\x20ของโจทย์และตัวเลือกเท่านั้น\x20**ห้ามนำรูปภาพต้นฉบับมาด้วย**\x20และ\x20**ห้ามใส่ข้อความอ้างอิงรูปภาพ**\x20(เช่น\x20\x22image_from_original_source_...\x22)\x20ลงในโจทย์โดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**[ขั้นตอนสร้างใหม่]**\x20สร้างคำถาม\x20\x22ใหม่\x22\x20เพิ่มเติม\x20เพื่อให้ได้จำนวนข้อสอบครบ\x20','API\x20Error\x20Body:','pointercancel','Error\x20editing\x20topic:','handleGenerateQuizFromBlueprintTopic','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','max','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','players','\x27\x20ในหัวข้อ\x20\x27','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','หยุดระบบจับเวลาหรี่หน้าจอ','เกิดข้อผิดพลาดในการเพิ่มหัวข้อ','input[name=\x22team_player\x22]:checked','ดูผลสรุปสุดท้าย','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passingScore','POST','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**[กฎรูปแบบ]\x20','บันทึกการแก้ไข','คุณแน่ใจหรือไม่ว่าต้องการลบคำถามข้อ\x20','border-transparent\x20text-gray-500\x20hover:text-gray-700\x20hover:border-gray-300','Blueprint\x201','หน่วยมวล/น้ำหนักและการแปลง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','Error\x20starting\x20live\x20race:','minHeight','พื้นที่วงกลม/ส่วนของวงกลม','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','create-project-modal','เกิดข้อผิดพลาดในการเปลี่ยนสี','</form>','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','cancel-quiz-edits-btn','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scores-tab-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','start-sync-game-btn','อัปเดตสถานะสำเร็จ','เพิ่มปุ่มลัดข้อสอบต้นฉบับ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','\x0a\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22\x20role=\x22menu\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.save-custom-topic-btn','forEach','isAdaptive','keydown','fileShortcutTabs','กำลังสแกนหาแบบทดสอบเก่า...','fa-fire\x20text-orange-500','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20','.quiz-bank-present-btn','<button\x20data-shortcut-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','กำลังอ่านและเตรียมไฟล์...','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','end-game-btn','Error\x20joining\x20live\x20game:','leq','blueprint-shortcut-container','reviewQuestionIndex','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อุณหภูมิและการแปลง','close-presentation-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>','.draggable-text','\x22\x20จำนวน\x20','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','whole_quiz','timer-duration-input','settings','<option\x20value=\x22\x22>ยังไม่มีโปรเจคให้เลือก</option>','<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20bg-cyan-200\x20text-cyan-800\x22>เชื่อมโยงแล้ว\x20(','timestamp','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','confidence-choice-btn','mjx-container','behavior-log-tab-btn','<svg','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','additional-parallel-shortcuts-list','close','.topic-actions-view','จำนวนคละ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20rel=\x22stylesheet\x22\x20href=\x22https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\x22>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20คัดลอก\x20Style\x20ที่จำเป็นมาจากหน้าหลักเพื่อให้\x20PDF\x20สวยงาม\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20h1,\x20.ai-content\x20h2,\x20.ai-content\x20h3,\x20.ai-content\x20h4\x20{\x20font-weight:\x20700;\x20color:\x20#1e3a8a;\x20margin-top:\x201.5rem;\x20margin-bottom:\x200.75rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20blockquote\x20{\x20background-color:\x20#eff6ff;\x20border-left:\x204px\x20solid\x20#3b82f6;\x20padding:\x200.75rem\x201rem;\x20margin:\x201rem\x200;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20table\x20{\x20width:\x20100%;\x20border-collapse:\x20collapse;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th,\x20.ai-content\x20td\x20{\x20border:\x201px\x20solid\x20#e2e8f0;\x20padding:\x200.5rem\x201rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20th\x20{\x20background-color:\x20#fefce8;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.ai-content\x20svg\x20{\x20max-width:\x20100%;\x20height:\x20auto;\x20display:\x20block;\x20margin:\x201rem\x20auto;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20{\x20display:\x20flex;\x20align-items:\x20center;\x20font-size:\x201.5rem;\x20font-weight:\x20700;\x20margin-bottom:\x201rem;\x20color:\x20#1e3a8a;\x20border-bottom:\x202px\x20solid\x20#dbeafe;\x20padding-bottom:\x200.5rem;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.section-header\x20i\x20{\x20margin-right:\x200.75rem;\x20color:\x20#3b82f6;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x20text-center\x20mb-8\x22>','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','.move-shortcut-dropdown','<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>','.delete-question-editor-btn','<div\x20class=\x22application-question\x20mb-4\x22><p\x20class=\x22font-semibold\x22>','order','แก้ไขชื่อหัวข้อย่อย:','พาราโบลา','redo-btn','solution','#student-project-leaderboard-content\x20thead','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-book-open\x20text-blue-500\x20mr-2\x22></i>\x20','\x22\x20class=\x22delete-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20rounded-full\x20bg-white\x20text-lg\x20w-5\x20h-5\x20flex\x20items-center\x20justify-center\x22\x20title=\x22ลบแท็บนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&times;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','file.txt','bulk-results-display-select','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x20ข้อ**\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20แหล่งข้อมูล:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20ไฟล์ข้อสอบต้นฉบับ\x20(แนบมาให้)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20ความรู้ของ\x20AI\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**[ขั้นตอนสกัด]**\x20พยายามดึงคำถาม\x20*บางส่วน*\x20(ถ้าพบ)\x20จากไฟล์ต้นฉบับที่ตรงกับหัวข้อ\x20\x22','):\x20','.application-options\x20button','txt','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','แบบปรนัย\x204\x20ตัวเลือก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','parent','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','\x5cneq','reveal_at_end','.ideal-answer-input','auto','student-progress','NUMBER','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','(หลังเรียน)\x20','#ffffff','เรขาคณิต','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','highlighter-size-slider','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','เกิดข้อผิดพลาดในการโหลดโปรเจค','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-link-btn','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','add-from-global-bank-btn','icon','ก่อนเรียน','ไม่สามารถโหลดไฟล์จากลิงก์ได้\x20(Status:\x20','\x22\x20value=\x22','analytics-summary-cards','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','manual-blueprint-modal','add-custom-math-topic-btn','หน่วยความยาวและการแปลง','view-my-progress-btn','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','leaderboard-quiz-tab-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','[data-field=\x22subTopic\x22]','admin-password-input','\x22\x20ในลักษณะใด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาที่ตรงจุด\x20(POINT,\x20MEMORY):**\x20เนื้อหาต้องสอนและสรุปเฉพาะประเด็นที่จำเป็นต่อการทำโจทย์สไตล์นั้นๆ\x20**เท่านั้น**\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ตัวอย่างต้องสอดคล้อง\x20(blockquote):**\x20ตัวอย่างประกอบต้องมีลักษณะใกล้เคียงกับโจทย์ในไฟล์อ้างอิง\x20แต่ต้องเป็นโจทย์ที่สร้างขึ้นใหม่\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**แบบฝึกหัด\x20(APPLICATION)\x20ต้องสมมูล:**\x20(ส่วนนี้จะถูกจัดการโดย\x20prompt\x20ของ\x20application)\x20โจทย์ในส่วน\x20APPLICATION\x20ต้องวัดความเข้าใจในเรื่องเดียวกันและมีความยากใกล้เคียงกัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20','การแจกแจงปกติและ\x20z-score','.rename-quiz-btn','กรุณาป้อนชื่อหัวข้อย่อยใหม่:','correctAnswerIndex','lineJoin','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','\x22\x20class=\x22tab-name-input\x20hidden\x20bg-transparent\x20border-b-2\x20border-indigo-500\x20text-sm\x20font-medium\x20focus:outline-none\x20w-32\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clearRect','ไม่มีคำอธิบาย','.delete-file-shortcut-tab-btn','.start-live-race-btn','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','rgba(79,\x2070,\x20229,\x200.8)','</select>','dblclick','padStart','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','afterend','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','student','gameData','rgba(59,\x20130,\x20246,\x200.7)','.bp-create-content-quiz-btn','Failed\x20to\x20end\x20group\x20mode\x20game:','closest','bg-yellow-200','\x22\x20class=\x22delete-hidden-parallel-shortcut-btn\x20bg-red-100\x20text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-200\x22>ลบ</button>','parallel-shortcut-editor-modal','การจัดกลุ่มข้อมูล','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','description','Error\x20fetching\x20student\x20rankings:','project-quizzes-list','/public/data/customMathTopics','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','restore','#E0E7FF','.ai-fix-formula-btn','\x20|\x20ID:\x20','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','fromCharCode','\x22\x20class=\x22edit-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัปเดตการตั้งค่าของแบบทดสอบ\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','file-upload-input','AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','answers','lesson-view-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','ยกเลิกการจับคู่สำเร็จ','text-red-700','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','difficultyValue','Error\x20deleting\x20custom\x20topic:','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-view','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','ยังไม่มีนักเรียนส่งงาน','ระยะเวลา\x20(วินาที):','blockReason','global-activity-quiz-list','lineWidth','\x22\x20class=\x22remove-file-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>','</td>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x20(ID:\x20','คุณแน่ใจว่าต้องการลบแท็บ\x20\x22','ref','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','.answeredCurrentQuestion','text-emerald-800','-tab','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','blueprint.pdf','\x22\x20title=\x22สร้างแบบทดสอบทั่วไปจากเนื้อหาบทเรียน\x20','leaderboard-tab','กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...','<option\x20value=\x22','confirm-join-game-btn','ไม่ใช่\x20/\x20ผิด','lastAnswerIndex','เกิดข้อผิดพลาดในการส่งคำตอบ','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','isFinished','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','ไม่สามารถอ่านไฟล์\x20PDF\x20เพื่อวิเคราะห์หัวข้อได้','modal-timer-duration-input','\x20จุด','คณิตศาสตร์','.edit-shortcut-btn','2-digit','ที่พิมพ์ได้\x20จำนวน\x20','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerHTML','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พื้นที่ผิวรูปทรงสามมิติ','วิเคราะห์ไฟล์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','join-live-game-btn','blueprint-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ใหม่...','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22pointer-events-none\x20flex\x20flex-col\x20items-center\x20justify-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-2xl\x22>','live-game-view','modal-close-btn','index','การบวกทศนิยม','บันทึกการตั้งค่าสำหรับสร้างแบบทดสอบในหน้านี้แล้ว','bank-input-area','quiz-start-time','generated-quiz-actions','1:274192258111:web:4120c9118229b5644dd48a','next-sync-question-btn','totalQuestions','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','generate-from-parallel-test-btn','back-from-results-btn','bulk-confidence-scoring-checkbox','.edit-file-shortcut-btn','<i\x20class=\x22fas\x20fa-pen\x22></i>','Error\x20starting\x20team\x20quiz:','toString','กรุณาเลือกโปรเจคก่อน','blob','</p><div>','color','Error\x20saving\x20game\x20results:','topics.','confirmation-modal','.pen-size-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+','bg-gray-200\x20hover:bg-gray-300\x20text-gray-700','.delete-project-btn','เกิดข้อผิดพลาด:\x20','summaryContent','reference-pdf-upload',':</span><span>','378592sbzIFp','student-team-join','.pair-quiz-btn','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','\x20\x20\x20-\x20','blueprint-input-area','fix-lesson-latex-btn','จำนวนข้อ:','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','ไม่ใช่','Failed\x20to\x20generate\x20practice\x20test:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x20border-b-2\x20border-blue-200\x20pb-2\x22>👩‍🏫\x20คำแนะนำสำหรับครู</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-800\x20space-y-1\x20pl-2\x22>','**\x20(ต้องเป็นภาษาไทยเท่านั้น)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างเฉลยและคำอธิบายสำหรับทุกข้อ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a**[กฎเพิ่มเติม:\x20ปรัชญาการสร้างโจทย์สไตล์\x20O-NET]**\x0aบทบาท:\x20คุณคือผู้เชี่ยวชาญการสร้างข้อสอบ\x20O-NET\x20ที่เน้นการวัดความเข้าใจเชิงลึก\x20ไม่ใช่การท่องจำ\x0aภารกิจ:\x20สร้างโจทย์ที่เน้นการคิดวิเคราะห์และการประยุกต์ใช้\x20ไม่ใช่โจทย์ความจำหรือการคำนวณในขั้นตอนเดียว\x20โดยต้องมีลักษณะอย่างน้อยหนึ่งข้อต่อไปนี้:\x0a\x0a*\x20**โจทย์ปัญหาหลายขั้นตอน\x20(Multi-step\x20Problems):**\x20ผู้เรียนต้องใช้ความรู้มากกว่าหนึ่งเรื่องหรือแก้ปัญหามากกว่าหนึ่งสเต็ปเพื่อหาคำตอบ\x0a*\x20**โจทย์คิดย้อนกลับ\x20(Reverse\x20Thinking):**\x20ให้ผลลัพธ์สุดท้าย\x20แล้วให้นักเรียนหาค่าเริ่มต้น\x20(เช่น\x20ให้กำไรมา\x20แล้วถามหาราคาทุน)\x0a*\x20**การวิเคราะห์ข้อมูล\x20(Data\x20Analysis):**\x20สร้างโจทย์ที่ต้องอ่านและตีความข้อมูลจากสถานการณ์,\x20ตาราง,\x20หรือแผนภูมิที่สมมติขึ้น\x0a*\x20**โจทย์แบบประเมินข้อความ\x20(Statement\x20Evaluation):**\x20สร้างข้อความสรุปอย่างมาก\x201\x20ข้อ\x20(ก,\x20ข,\x20ค)\x20แล้วถามว่า\x20\x22ข้อใดถูกต้อง\x22\x20หรือ\x20\x22มีข้อความที่ถูกต้องกี่ข้อความ\x22\x0a\x20\x20\x20\x20\x0a**กฎของตัวลวง\x20(Distractor\x20Rule):**\x20ตัวเลือกที่ไม่ถูกต้อง\x20(ตัวลวง)\x20ควรเป็นผลลัพธ์ที่เกิดจากการคำนวณผิดพลาดในขั้นตอนที่พบบ่อย\x20(เช่น\x20ลืมทด,\x20คำนวณผิดเครื่องหมาย,\x20เข้าใจผิดในแนวคิด)\x20เพื่อให้ข้อสอบสามารถจำแนกผู้เรียนได้ดีขึ้น\x0a','confirm-confident','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','COMEBACK_KING','.delete-student-btn','list-view-btn','shouldSaveResults','date_desc','baseVal','ลำดับการดำเนินการ\x20(PEMDAS)','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','result','\x22\x20name=\x22team_answer\x22\x20value=\x22','<div\x20class=\x22loader\x20mx-auto\x20my-3\x22></div><p\x20class=\x22text-center\x20text-gray-500\x22>AI\x20กำลังอ่านและวิเคราะห์หัวข้อจากไฟล์สแกน...</p>','preScore','การปัดเศษและประมาณค่า','commonMistakes','default','</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x20border-b-2\x20border-green-200\x20pb-2\x22>✍️\x20โจทย์ตัวอย่างพร้อมวิธีทำ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>','#26890c','classic','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','behavior-log','classList','project-list','#FFFFFF','ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้','</a>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','Error\x20in\x20generating\x20from\x20files:','cancel-admin-login-btn','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','true','projectSortOrder','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','.ai-content\x20li','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x22\x20สำเร็จ!','live-player-list','<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างเนื้อหาส่วนนี้ได้</p>','message-modal','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','shortcutOrder'];_0x197e=function(){return _0x4caea7;};return _0x197e();}function renderTopicCheckboxes(){const _0x1ee718=_0x473ef4,_0x1e0584=document[_0x1ee718(0x7eb)](_0x1ee718(0x41d));if(!_0x1e0584)return;const _0x4f5a26=allMathTopics,_0x36acf6=customMathTopics[_0x1ee718(0xa3b)](_0x18998d=>({'id':_0x18998d['id'],'category':_0x1ee718(0x9c6),'name':_0x18998d[_0x1ee718(0x65c)]})),_0x198591=[..._0x4f5a26,..._0x36acf6],_0xf8ce0f=_0x198591[_0x1ee718(0x718)]((_0x2eb0ce,_0x4dbae5)=>{const _0x500576=_0x1ee718;return!_0x2eb0ce[_0x4dbae5[_0x500576(0x29e)]]&&(_0x2eb0ce[_0x4dbae5['category']]=[]),_0x2eb0ce[_0x4dbae5[_0x500576(0x29e)]][_0x500576(0x526)](_0x4dbae5),_0x2eb0ce;},{});let _0x4cc5ad='';const _0x23ac66=['หัวข้อที่สร้างเอง',...Object[_0x1ee718(0x6e0)](_0xf8ce0f)[_0x1ee718(0x514)](_0x5be9f2=>_0x5be9f2!==_0x1ee718(0x9c6))];for(const _0x3fc2c7 of _0x23ac66){if(_0xf8ce0f[_0x3fc2c7]){const _0xd6261e=_0x3fc2c7===_0x1ee718(0x9c6),_0x34216b=_0xd6261e?_0x1ee718(0x2c1):_0x1ee718(0x99c),_0x4f20eb=_0xd6261e?_0x1ee718(0xa3f):_0x1ee718(0x863);_0x4cc5ad+=_0x1ee718(0x4fc),_0x4cc5ad+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x4f20eb+_0x1ee718(0x291)+_0x34216b+_0x1ee718(0x2c6)+_0x3fc2c7+_0x1ee718(0xc65),_0xf8ce0f[_0x3fc2c7][_0x1ee718(0xb15)](_0x3d9461=>{const _0x4bf6b9=_0x1ee718,_0x4901ea=!!_0x3d9461['id'],_0xcaf0e3=_0x4901ea?_0x4bf6b9(0x5cf)+_0x3d9461['id']+_0x4bf6b9(0x2a5)+_0x3d9461['id']+_0x4bf6b9(0x290)+_0x3d9461['id']+_0x4bf6b9(0x725)+_0x3d9461['id']+'\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'';_0x4cc5ad+=_0x4bf6b9(0xd7b)+(_0x3d9461['id']||'')+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22'+_0x3d9461['name']+_0x4bf6b9(0x3ae)+_0x3d9461[_0x4bf6b9(0x65c)]+_0x4bf6b9(0x520)+(_0x4901ea?'<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22'+_0x3d9461['name']+'\x22>':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xcaf0e3+_0x4bf6b9(0x772);}),_0x4cc5ad+=_0x1ee718(0x3ab);}}_0x1e0584['innerHTML']=_0x4cc5ad||_0x1ee718(0x2d3),_0x1e0584[_0x1ee718(0x39d)](_0x1ee718(0x949),updateSelectedTopicsCount),_0x1e0584[_0x1ee718(0x5e6)]('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x4a2fe8,_0xe5fe13){const _0x3ae914=_0x473ef4;if(!_0x4a2fe8||!_0xe5fe13[_0x3ae914(0xa7e)]()){showMessage(_0x3ae914(0xc86));return;}try{const _0x466e2e=doc(db,_0x3ae914(0x41a)+appId+_0x3ae914(0xbab),_0x4a2fe8);await updateDoc(_0x466e2e,{'name':_0xe5fe13[_0x3ae914(0xa7e)]()}),showMessage(_0x3ae914(0x508));}catch(_0x357dc9){console['error'](_0x3ae914(0xd50),_0x357dc9),showMessage(_0x3ae914(0xcd6));}}function toggleTopicEditMode(_0x4e773f,_0x388c1e){const _0x3b6cc0=_0x473ef4;if(!_0x4e773f)return;const _0x27f55d=_0x4e773f[_0x3b6cc0(0x6ea)]('.topic-name-display'),_0x366184=_0x4e773f['querySelector'](_0x3b6cc0(0x3ce)),_0x5ddf8b=_0x4e773f[_0x3b6cc0(0x6ea)](_0x3b6cc0(0xb44)),_0x2487d9=_0x4e773f['querySelector'](_0x3b6cc0(0x5c2));_0x27f55d[_0x3b6cc0(0xc3c)][_0x3b6cc0(0x899)](_0x3b6cc0(0xcb0),_0x388c1e),_0x366184['classList'][_0x3b6cc0(0x899)](_0x3b6cc0(0xcb0),!_0x388c1e),_0x5ddf8b[_0x3b6cc0(0xc3c)][_0x3b6cc0(0x899)](_0x3b6cc0(0xcb0),_0x388c1e),_0x2487d9[_0x3b6cc0(0xc3c)][_0x3b6cc0(0x899)](_0x3b6cc0(0xcb0),!_0x388c1e),_0x388c1e&&(_0x366184[_0x3b6cc0(0x86f)](),_0x366184[_0x3b6cc0(0xc78)]());}async function handleStartLiveRace(_0x37a859){const _0x4da3bf=_0x473ef4;let _0x4f35b6=allQuizzes['find'](_0x58b916=>_0x58b916['id']===_0x37a859);if(!_0x4f35b6){const _0x3bb54d=doc(db,_0x4da3bf(0x41a)+appId+_0x4da3bf(0x3c1),_0x37a859),_0x4a8b32=await getDoc(_0x3bb54d);if(!_0x4a8b32[_0x4da3bf(0x931)]()){showMessage(_0x4da3bf(0xa24));return;}_0x4f35b6={'id':_0x4a8b32['id'],..._0x4a8b32['data']()};}const _0x59415c=getShuffledQuiz(_0x4f35b6);currentQuizData=_0x59415c;const _0x37877b=_0x4f35b6['projectId']||currentProjectId||null,_0x4f2f1a=Math[_0x4da3bf(0x8a0)](0x3e8+Math[_0x4da3bf(0x970)]()*0x2328)[_0x4da3bf(0xc07)]();currentLiveGamePin=_0x4f2f1a;try{const _0x173e39=await addDoc(collection(db,'artifacts/'+appId+_0x4da3bf(0xca3)),{'quizId':_0x37a859,'projectId':_0x37877b,'status':_0x4da3bf(0x998),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x4f2f1a,'createdAt':serverTimestamp(),'shuffledQuiz':_0x59415c});currentLiveGameId=_0x173e39['id'],showAdminLobbyView(_0x4f2f1a,_0x4f35b6['topic']),listenForLiveGameUpdates();}catch(_0x54054e){console[_0x4da3bf(0x2b8)](_0x4da3bf(0xb02),_0x54054e),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}function updateSelectedTopicsCount(){const _0x15153c=_0x473ef4,_0x17cd78=document['getElementById'](_0x15153c(0x41d)),_0x64fe6f=_0x17cd78[_0x15153c(0x89b)](_0x15153c(0x6d7))[_0x15153c(0x373)],_0x37d92b=document['getElementById']('selected-topics-count');_0x64fe6f>0x0?_0x37d92b[_0x15153c(0xc95)]=_0x15153c(0x9ba)+_0x64fe6f+'\x20หัวข้อ)':_0x37d92b['textContent']='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode='student',currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x473ef4(0xa6d),quizLeaderboardSortOrder=_0x473ef4(0x6fd),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x473ef4(0x8f4),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool='pen',scratchpadPenColor=_0x473ef4(0x4c6),scratchpadPenSize=0x5,scratchpadEraserSize=0x28,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x2c1953,_0x205df6){const _0x258592=_0x473ef4;return Math[_0x258592(0x595)](Math['pow'](_0x2c1953['x']-_0x205df6['x'],0x2)+Math[_0x258592(0x700)](_0x2c1953['y']-_0x205df6['y'],0x2));}function getMidpoint(_0x6ec208,_0x26b547){return{'x':(_0x6ec208['x']+_0x26b547['x'])/0x2,'y':(_0x6ec208['y']+_0x26b547['y'])/0x2};}function getTransformedPoint(_0x2ea698,_0x7dd50){return{'x':(_0x2ea698-scratchpadOffset['x'])/scratchpadScale,'y':(_0x7dd50-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x2f8b54=_0x473ef4;if(!scratchpadCtx)return;const _0x138a16=scratchpadCtx[_0x2f8b54(0x29a)],_0x596f6d=window[_0x2f8b54(0xa3e)]||0x1,_0x35f141=document[_0x2f8b54(0x7eb)](_0x2f8b54(0x36d));_0x35f141&&(_0x35f141[_0x2f8b54(0xd84)][_0x2f8b54(0x946)]=_0x2f8b54(0x4a2),_0x35f141[_0x2f8b54(0xd84)]['transform']='translate('+scratchpadOffset['x']+_0x2f8b54(0xcd0)+scratchpadOffset['y']+_0x2f8b54(0x5af)+scratchpadScale+')'),scratchpadCtx[_0x2f8b54(0xd5c)](),scratchpadCtx[_0x2f8b54(0x35e)](_0x596f6d,0x0,0x0,_0x596f6d,0x0,0x0),scratchpadCtx[_0x2f8b54(0xb90)](0x0,0x0,_0x138a16[_0x2f8b54(0xca6)],_0x138a16[_0x2f8b54(0x395)]),scratchpadCtx[_0x2f8b54(0xbad)](),scratchpadCtx[_0x2f8b54(0xd5c)](),scratchpadCtx['translate'](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx[_0x2f8b54(0xa36)](scratchpadScale,scratchpadScale),strokes[_0x2f8b54(0xb15)](_0x9c7196=>{drawStroke(_0x9c7196);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x2f8b54(0xbad)]();}function renderGroupModeQuestion(){const _0x1248b1=_0x473ef4;if(localQuestionIndex>=currentQuizData[_0x1248b1(0x3dd)][_0x1248b1(0x373)]){displayTeamQuizFinalResults();return;}const _0x4ae17c=currentQuizData['questions'][localQuestionIndex],_0x555e3e=_0x4ae17c['questionType']||currentQuizData[_0x1248b1(0x3d3)];let _0x257744=_0x4ae17c[_0x1248b1(0xd03)]||_0x4ae17c[_0x1248b1(0x837)],_0x363049='';switch(_0x555e3e){case _0x1248b1(0xcc0):case _0x1248b1(0x2e9):_0x363049=_0x4ae17c['options'][_0x1248b1(0xa3b)]((_0x419bfd,_0x194a2a)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x194a2a+_0x1248b1(0xc31)+_0x194a2a+_0x1248b1(0x4d5)+_0x194a2a+'\x22>'+_0x419bfd+'</label></div>')[_0x1248b1(0xaa2)]('');break;case _0x1248b1(0x84f):_0x363049=_0x1248b1(0x838);break;case'short_answer':case _0x1248b1(0x2b7):_0x363049=_0x1248b1(0x1f8);break;case'matching_item':_0x363049=_0x1248b1(0x4a5)+_0x4ae17c['allResponses'][_0x1248b1(0xa3b)](_0x10914f=>'<option\x20value=\x22'+_0x10914f+'\x22>'+_0x10914f+_0x1248b1(0xc64))[_0x1248b1(0xaa2)]('')+_0x1248b1(0xb96);break;default:_0x363049=_0x1248b1(0xae1);break;}studentQuizArea['innerHTML']=_0x1248b1(0xd82)+(localQuestionIndex+0x1)+_0x1248b1(0xc7a)+currentQuizData[_0x1248b1(0x3dd)][_0x1248b1(0x373)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20'+localTeamPlayers[_0x1248b1(0xaa2)](',\x20')+_0x1248b1(0x1ff)+(localQuestionIndex+0x1)+'.\x20'+_0x257744+_0x1248b1(0x8a2)+(_0x4ae17c['imageCode']?_0x1248b1(0x706)+_0x4ae17c[_0x1248b1(0x675)]+_0x1248b1(0x3ab):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>'+_0x363049+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x1248b1(0xc3c)][_0x1248b1(0x6f9)](_0x1248b1(0xcb0));if(window['MathJax'])MathJax[_0x1248b1(0x93d)]([studentQuizArea]);document[_0x1248b1(0x7eb)](_0x1248b1(0x424))['addEventListener'](_0x1248b1(0x732),handleGroupAnswerSubmit);}function handleGenerateQuizFromBlueprintTopic(_0x52a542,_0xcf58f0=null,_0x3cd468,_0x42274b=null,_0x287020=![],_0x3163a5=null){const _0x12cc92=_0x473ef4,_0x3f76ee=document['getElementById']('quiz-generation-area');_0x3f76ee&&_0x3f76ee['scrollIntoView']({'behavior':'smooth','block':_0x12cc92(0x878)}),generateQuiz(_0x52a542,_0xcf58f0,null,_0x3163a5,!![],_0x3cd468,_0x42274b,_0x287020);}function handleGenerateAndShowLesson(_0x3061ed,_0x29207b){const _0x24895f=_0x473ef4,_0x15f250=document['getElementById']('lesson-view-modal'),_0x2a09e4=document[_0x24895f(0x7eb)](_0x24895f(0xbbb)),_0x5ded73=document[_0x24895f(0x7eb)](_0x24895f(0x87a)),_0x8b5b14=document['getElementById'](_0x24895f(0x901));[_0x24895f(0x812),_0x24895f(0xd5e),_0x24895f(0xcc2),_0x24895f(0xc14)][_0x24895f(0xb15)](_0x267902=>{const _0x3a1455=_0x24895f,_0x34b665=document[_0x3a1455(0x7eb)](_0x267902)[_0x3a1455(0x9d1)];_0x34b665&&(_0x34b665[_0x3a1455(0xd84)]['display']=_0x3a1455(0x7b5));}),_0x2a09e4[_0x24895f(0xc95)]='กำลังสร้างบทเรียน:\x20'+_0x3061ed,_0x8b5b14[_0x24895f(0xc3c)][_0x24895f(0x4ad)](_0x24895f(0xcb0)),_0x5ded73[_0x24895f(0xc3c)][_0x24895f(0x6f9)](_0x24895f(0xcb0)),_0x15f250[_0x24895f(0xc3c)][_0x24895f(0x6f9)](_0x24895f(0xcb0)),generateLesson(_0x3061ed,_0x29207b)['catch'](_0x5de7c7=>{const _0x4b5488=_0x24895f;console[_0x4b5488(0x2b8)]('Failed\x20to\x20generate\x20lesson:',_0x5de7c7),showMessage(_0x4b5488(0x659)),_0x15f250[_0x4b5488(0xc3c)]['add'](_0x4b5488(0xcb0));});}function handlePointerDown(_0x17202a){const _0x45cec4=_0x473ef4;_0x17202a[_0x45cec4(0x82f)]();const _0x59ce83=scratchpadCtx['canvas'],_0x2262a6=_0x59ce83['getBoundingClientRect'](),_0x555f46=_0x17202a['pointerType']||(_0x17202a[_0x45cec4(0xccf)]?'touch':_0x45cec4(0xab9));if(_0x555f46==='pen'||_0x555f46===_0x45cec4(0xab9)){if(_0x17202a[_0x45cec4(0x1df)]==='mouse'&&_0x17202a[_0x45cec4(0xafa)]!==0x0){_0x17202a[_0x45cec4(0xafa)]===0x1&&(isMousePanning=!![],panStart={'x':_0x17202a[_0x45cec4(0x33c)],'y':_0x17202a[_0x45cec4(0xa21)]},_0x59ce83[_0x45cec4(0xd84)][_0x45cec4(0x796)]='grabbing');return;}activeTool===_0x45cec4(0x41e)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x514cfb=getTransformedPoint(_0x17202a[_0x45cec4(0x33c)]-_0x2262a6[_0x45cec4(0xca2)],_0x17202a[_0x45cec4(0xa21)]-_0x2262a6[_0x45cec4(0x54c)]);let _0x180cb2={'tool':activeTool,'points':[_0x514cfb]};if(activeTool===_0x45cec4(0x6d8))_0x180cb2['color']=scratchpadPenColor,_0x180cb2[_0x45cec4(0x33b)]=scratchpadPenSize;else{if(activeTool===_0x45cec4(0x5e9))_0x180cb2[_0x45cec4(0xc0b)]=scratchpadPenColor,_0x180cb2[_0x45cec4(0x33b)]=scratchpadEraserSize;else{if(activeTool===_0x45cec4(0x462))_0x180cb2['color']=scratchpadHighlighterColor,_0x180cb2[_0x45cec4(0x33b)]=scratchpadHighlighterSize;else activeTool==='trail'&&(_0x180cb2[_0x45cec4(0xc0b)]=scratchpadPenColor,_0x180cb2['size']=scratchpadPenSize);}}currentStroke=_0x180cb2;}else _0x17202a['touches']&&(_0x17202a[_0x45cec4(0xccf)][_0x45cec4(0x373)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x17202a[_0x45cec4(0xccf)][0x0][_0x45cec4(0x33c)],'y':_0x17202a['touches'][0x0][_0x45cec4(0xa21)]},{'x':_0x17202a[_0x45cec4(0xccf)][0x1][_0x45cec4(0x33c)],'y':_0x17202a['touches'][0x1][_0x45cec4(0xa21)]}),initialPinchDistance=getDistance({'x':_0x17202a[_0x45cec4(0xccf)][0x0][_0x45cec4(0x33c)],'y':_0x17202a[_0x45cec4(0xccf)][0x0][_0x45cec4(0xa21)]},{'x':_0x17202a[_0x45cec4(0xccf)][0x1][_0x45cec4(0x33c)],'y':_0x17202a[_0x45cec4(0xccf)][0x1]['clientY']})));}function animateTrail(){const _0x4d1499=_0x473ef4,_0x261dfe=Date[_0x4d1499(0x823)]();let _0x537325=![];for(let _0x258baa=strokes[_0x4d1499(0x373)]-0x1;_0x258baa>=0x0;_0x258baa--){const _0x641cf4=strokes[_0x258baa];if(_0x641cf4[_0x4d1499(0x44f)]===_0x4d1499(0x41e)&&_0x641cf4[_0x4d1499(0x8d1)]){const _0x51a78a=_0x261dfe-_0x641cf4[_0x4d1499(0x8d1)];_0x51a78a>=TRAIL_DURATION?strokes[_0x4d1499(0x655)](_0x258baa,0x1):(_0x641cf4['opacity']=0x1-_0x51a78a/TRAIL_DURATION,_0x537325=!![]);}}redrawScratchpad(),_0x537325?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x4e92a6){const _0x428e0a=_0x473ef4;if(!_0x4e92a6||_0x4e92a6['points'][_0x428e0a(0x373)]<0x1)return;scratchpadCtx[_0x428e0a(0xd5c)](),scratchpadCtx[_0x428e0a(0xb8d)]=_0x428e0a(0x8a4),scratchpadCtx[_0x428e0a(0x4bf)]=_0x428e0a(0x8a4);if(_0x4e92a6[_0x428e0a(0x44f)]===_0x428e0a(0x41e)){const _0x23d7b7=_0x4e92a6[_0x428e0a(0x33b)]/scratchpadScale;scratchpadCtx[_0x428e0a(0x26e)]=_0x4e92a6[_0x428e0a(0x66e)]??0x1,scratchpadCtx[_0x428e0a(0x775)]='rgba(239,\x2068,\x2068,\x200.9)',scratchpadCtx[_0x428e0a(0x9e8)]=_0x23d7b7*0x3,scratchpadCtx[_0x428e0a(0xa59)]=_0x428e0a(0x6bf),scratchpadCtx[_0x428e0a(0xbcb)]=_0x23d7b7*2.5,scratchpadCtx[_0x428e0a(0x8f0)](),scratchpadCtx['moveTo'](_0x4e92a6[_0x428e0a(0xc76)][0x0]['x'],_0x4e92a6[_0x428e0a(0xc76)][0x0]['y']);for(let _0x5f13a0=0x1;_0x5f13a0<_0x4e92a6['points'][_0x428e0a(0x373)]-0x1;_0x5f13a0++){const _0x26f8ea=getMidpoint(_0x4e92a6[_0x428e0a(0xc76)][_0x5f13a0],_0x4e92a6[_0x428e0a(0xc76)][_0x5f13a0+0x1]);scratchpadCtx[_0x428e0a(0x7af)](_0x4e92a6[_0x428e0a(0xc76)][_0x5f13a0]['x'],_0x4e92a6[_0x428e0a(0xc76)][_0x5f13a0]['y'],_0x26f8ea['x'],_0x26f8ea['y']);}scratchpadCtx[_0x428e0a(0x85c)](),scratchpadCtx['shadowColor']='transparent',scratchpadCtx[_0x428e0a(0x9e8)]=0x0,scratchpadCtx[_0x428e0a(0xa59)]='#FFFFFF',scratchpadCtx[_0x428e0a(0xbcb)]=_0x23d7b7,scratchpadCtx[_0x428e0a(0x85c)](),scratchpadCtx[_0x428e0a(0x85b)]();}else{if(_0x4e92a6[_0x428e0a(0x44f)]==='highlighter'){scratchpadCtx[_0x428e0a(0x69f)]=_0x428e0a(0x5e5),scratchpadCtx[_0x428e0a(0xa59)]=_0x4e92a6[_0x428e0a(0xc0b)],scratchpadCtx[_0x428e0a(0xbcb)]=_0x4e92a6[_0x428e0a(0x33b)],scratchpadCtx[_0x428e0a(0x8f0)](),scratchpadCtx['moveTo'](_0x4e92a6['points'][0x0]['x'],_0x4e92a6[_0x428e0a(0xc76)][0x0]['y']);for(let _0x58df11=0x1;_0x58df11<_0x4e92a6[_0x428e0a(0xc76)][_0x428e0a(0x373)]-0x1;_0x58df11++){const _0x26185d=getMidpoint(_0x4e92a6[_0x428e0a(0xc76)][_0x58df11],_0x4e92a6[_0x428e0a(0xc76)][_0x58df11+0x1]);scratchpadCtx['quadraticCurveTo'](_0x4e92a6[_0x428e0a(0xc76)][_0x58df11]['x'],_0x4e92a6[_0x428e0a(0xc76)][_0x58df11]['y'],_0x26185d['x'],_0x26185d['y']);}scratchpadCtx[_0x428e0a(0x85c)](),scratchpadCtx[_0x428e0a(0x85b)]();}else{scratchpadCtx['globalCompositeOperation']=_0x4e92a6[_0x428e0a(0x44f)]===_0x428e0a(0x5e9)?_0x428e0a(0x23a):_0x428e0a(0x7b4),scratchpadCtx[_0x428e0a(0xa59)]=_0x4e92a6[_0x428e0a(0xc0b)],scratchpadCtx[_0x428e0a(0xbcb)]=_0x4e92a6['size'],scratchpadCtx['beginPath'](),scratchpadCtx['moveTo'](_0x4e92a6[_0x428e0a(0xc76)][0x0]['x'],_0x4e92a6[_0x428e0a(0xc76)][0x0]['y']);for(let _0x3dc700=0x1;_0x3dc700<_0x4e92a6[_0x428e0a(0xc76)]['length']-0x1;_0x3dc700++){const _0x480d9b=getMidpoint(_0x4e92a6['points'][_0x3dc700],_0x4e92a6[_0x428e0a(0xc76)][_0x3dc700+0x1]);scratchpadCtx[_0x428e0a(0x7af)](_0x4e92a6[_0x428e0a(0xc76)][_0x3dc700]['x'],_0x4e92a6['points'][_0x3dc700]['y'],_0x480d9b['x'],_0x480d9b['y']);}scratchpadCtx[_0x428e0a(0x85c)](),scratchpadCtx[_0x428e0a(0x85b)]();}}scratchpadCtx['restore']();}function handlePointerMove(_0x5a8d40){const _0xd464e9=_0x473ef4;_0x5a8d40[_0xd464e9(0x82f)]();const _0x57d42a=scratchpadCtx['canvas'],_0x61308b=_0x57d42a[_0xd464e9(0x586)]();if(_0x5a8d40['touches']){if(_0x5a8d40['touches'][_0xd464e9(0x373)]===0x1&&isDrawingOnScratchpad){const _0x2a8ed6=getTransformedPoint(_0x5a8d40['touches'][0x0][_0xd464e9(0x33c)]-_0x61308b[_0xd464e9(0xca2)],_0x5a8d40['touches'][0x0]['clientY']-_0x61308b[_0xd464e9(0x54c)]);currentStroke[_0xd464e9(0xc76)][_0xd464e9(0x526)](_0x2a8ed6),redrawScratchpad();}else{if(_0x5a8d40['touches'][_0xd464e9(0x373)]===0x2&&isPanning){const _0x4cca9e=getDistance({'x':_0x5a8d40[_0xd464e9(0xccf)][0x0][_0xd464e9(0x33c)],'y':_0x5a8d40[_0xd464e9(0xccf)][0x0][_0xd464e9(0xa21)]},{'x':_0x5a8d40['touches'][0x1][_0xd464e9(0x33c)],'y':_0x5a8d40[_0xd464e9(0xccf)][0x1][_0xd464e9(0xa21)]}),_0xe4270c=getMidpoint({'x':_0x5a8d40[_0xd464e9(0xccf)][0x0]['clientX'],'y':_0x5a8d40['touches'][0x0][_0xd464e9(0xa21)]},{'x':_0x5a8d40[_0xd464e9(0xccf)][0x1][_0xd464e9(0x33c)],'y':_0x5a8d40[_0xd464e9(0xccf)][0x1][_0xd464e9(0xa21)]}),_0x47c402=_0x4cca9e/ initialPinchDistance,_0x11905f=Math['min'](Math['max'](scratchpadScale*_0x47c402,MIN_SCALE),MAX_SCALE),_0x2dadc0=_0xe4270c['x']-panStart['x'],_0x4dec52=_0xe4270c['y']-panStart['y'];scratchpadOffset['x']=_0xe4270c['x']-(_0xe4270c['x']-scratchpadOffset['x'])*(_0x11905f/scratchpadScale),scratchpadOffset['y']=_0xe4270c['y']-(_0xe4270c['y']-scratchpadOffset['y'])*(_0x11905f/scratchpadScale),scratchpadOffset['x']+=_0x2dadc0,scratchpadOffset['y']+=_0x4dec52,scratchpadScale=_0x11905f,initialPinchDistance=_0x4cca9e,panStart=_0xe4270c,redrawScratchpad();}}}else{if(isMousePanning){const _0xe945ab=_0x5a8d40['clientX']-panStart['x'],_0xfab54f=_0x5a8d40['clientY']-panStart['y'];scratchpadOffset['x']+=_0xe945ab,scratchpadOffset['y']+=_0xfab54f,panStart={'x':_0x5a8d40[_0xd464e9(0x33c)],'y':_0x5a8d40[_0xd464e9(0xa21)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0x1b090e=getTransformedPoint(_0x5a8d40['clientX']-_0x61308b['left'],_0x5a8d40[_0xd464e9(0xa21)]-_0x61308b['top']);currentStroke['points'][_0xd464e9(0x526)](_0x1b090e),redrawScratchpad();}}}}function handlePointerUp(_0x12685f){const _0x104260=_0x473ef4;_0x12685f[_0x104260(0x82f)]();const _0x3593f3=scratchpadCtx[_0x104260(0x29a)];isMousePanning&&(isMousePanning=![],_0x3593f3[_0x104260(0xd84)]['cursor']=_0x104260(0xc36)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x104260(0xc76)][_0x104260(0x373)]>0x1&&(strokes[_0x104260(0x526)](currentStroke),currentStroke['tool']==='trail'&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x5b6e4d=_0x104260,_0x199299=strokes['filter'](_0x2cba6e=>_0x2cba6e[_0x5b6e4d(0x44f)]===_0x5b6e4d(0x41e)&&!_0x2cba6e['fadeStartTime']);if(_0x199299[_0x5b6e4d(0x373)]>0x0){const _0x496835=Date['now']();_0x199299[_0x5b6e4d(0xb15)](_0x4441db=>_0x4441db[_0x5b6e4d(0x8d1)]=_0x496835),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x4fafa0){const _0xb1e782=_0x473ef4;_0x4fafa0['preventDefault']();const _0x459f11=_0x4fafa0[_0xb1e782(0x74a)]*-0.005,_0x151665=Math[_0xb1e782(0x524)](Math[_0xb1e782(0xaea)](scratchpadScale+_0x459f11,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x4fafa0['clientX']-(_0x4fafa0['clientX']-scratchpadOffset['x'])*(_0x151665/scratchpadScale),scratchpadOffset['y']=_0x4fafa0[_0xb1e782(0xa21)]-(_0x4fafa0['clientY']-scratchpadOffset['y'])*(_0x151665/scratchpadScale),scratchpadScale=_0x151665,redrawScratchpad();}function undo(){const _0x312c97=_0x473ef4;strokes[_0x312c97(0x373)]>0x0&&(redoStrokes[_0x312c97(0x526)](strokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x3b5fe2=_0x473ef4;redoStrokes[_0x3b5fe2(0x373)]>0x0&&(strokes['push'](redoStrokes['pop']()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x16f9e2=_0x473ef4;document['getElementById'](_0x16f9e2(0x38b))['disabled']=strokes[_0x16f9e2(0x373)]===0x0,document[_0x16f9e2(0x7eb)]('redo-btn')['disabled']=redoStrokes[_0x16f9e2(0x373)]===0x0;}function openScratchpad(_0x485e1d,_0x534da7){const _0x5a0448=_0x473ef4,_0x24b549=document[_0x5a0448(0x7eb)](_0x5a0448(0xcfa)),_0x544cda=document[_0x5a0448(0x7eb)](_0x5a0448(0x660)),_0x4f3946=document[_0x5a0448(0x7eb)](_0x5a0448(0x4da)),_0x4c6ba6=document[_0x5a0448(0x7eb)](_0x5a0448(0xad4));_0x544cda[_0x5a0448(0xbec)]=_0x485e1d[_0x5a0448(0xd03)]||_0x485e1d['questionText'],_0x4f3946['innerHTML']=_0x534da7[_0x5a0448(0xa3b)]((_0x24482c,_0x3ab5b1)=>_0x5a0448(0xa19)+String[_0x5a0448(0xbb3)](0x41+_0x3ab5b1)+'.\x20'+_0x24482c+_0x5a0448(0x3ab))[_0x5a0448(0xaa2)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x24b549[_0x5a0448(0xc3c)][_0x5a0448(0x6f9)](_0x5a0448(0xcb0)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window['MathJax'])MathJax[_0x5a0448(0x93d)]([_0x544cda,_0x4f3946]);}function openBlueprintQuizSettings(){const _0x246b69=_0x473ef4,_0x542998=document['getElementById'](_0x246b69(0x25e)),_0x1e4288=blueprintPageSettings||(currentProjectData?currentProjectData[_0x246b69(0xb37)]:{})||{};document[_0x246b69(0x7eb)](_0x246b69(0x37c))[_0x246b69(0x53d)]=_0x1e4288['quizType']||document[_0x246b69(0x7eb)](_0x246b69(0x23b))[_0x246b69(0x53d)],document['getElementById'](_0x246b69(0x682))['innerHTML']=document['getElementById'](_0x246b69(0x841))[_0x246b69(0xbec)],document[_0x246b69(0x7eb)](_0x246b69(0x682))[_0x246b69(0x53d)]=_0x1e4288[_0x246b69(0xbc0)]||document[_0x246b69(0x7eb)]('difficulty-level-select')[_0x246b69(0x53d)],document[_0x246b69(0x7eb)](_0x246b69(0x7ad))[_0x246b69(0xbec)]=document['getElementById'](_0x246b69(0x74f))[_0x246b69(0xbec)],document[_0x246b69(0x7eb)](_0x246b69(0x7ad))[_0x246b69(0x53d)]=_0x1e4288['complexityValue']||document[_0x246b69(0x7eb)](_0x246b69(0x74f))['value'],document['getElementById']('bp-modal-num-questions')[_0x246b69(0x53d)]=_0x1e4288['numQuestions']||document[_0x246b69(0x7eb)](_0x246b69(0xd56))[_0x246b69(0x53d)],document['getElementById'](_0x246b69(0x1d3))[_0x246b69(0x53d)]=_0x1e4288[_0x246b69(0xaf7)]||document[_0x246b69(0x7eb)](_0x246b69(0x32e))[_0x246b69(0x53d)],document['getElementById']('bp-modal-num-choices')['value']=_0x1e4288[_0x246b69(0x601)]||document[_0x246b69(0x7eb)](_0x246b69(0x845))[_0x246b69(0x53d)],document['getElementById'](_0x246b69(0x24a))['value']=_0x1e4288['shuffle']||document[_0x246b69(0x7eb)](_0x246b69(0xcb1))['value'],document[_0x246b69(0x7eb)](_0x246b69(0x8ad))['checked']=_0x1e4288[_0x246b69(0x5d4)]||document[_0x246b69(0x7eb)](_0x246b69(0x411))[_0x246b69(0x5b1)],_0x542998[_0x246b69(0xc3c)][_0x246b69(0x6f9)]('hidden');}function handleSaveBlueprintPageSettings(){const _0x45a95b=_0x473ef4;blueprintPageSettings={'quizType':document[_0x45a95b(0x7eb)]('bp-modal-quiz-type-select')['value'],'difficultyValue':document[_0x45a95b(0x7eb)](_0x45a95b(0x682))['value'],'complexityValue':document['getElementById']('bp-modal-question-complexity-select')[_0x45a95b(0x53d)],'numQuestions':document[_0x45a95b(0x7eb)](_0x45a95b(0x4fe))[_0x45a95b(0x53d)],'passingScore':document[_0x45a95b(0x7eb)]('bp-modal-passing-score-input')[_0x45a95b(0x53d)],'numChoices':document['getElementById'](_0x45a95b(0x397))[_0x45a95b(0x53d)],'shuffle':document[_0x45a95b(0x7eb)](_0x45a95b(0x24a))[_0x45a95b(0x53d)],'includeImages':document['getElementById'](_0x45a95b(0x8ad))[_0x45a95b(0x5b1)]},showMessage(_0x45a95b(0xbf9)),document['getElementById'](_0x45a95b(0x25e))[_0x45a95b(0xc3c)][_0x45a95b(0x4ad)](_0x45a95b(0xcb0));}function listenForParallelTestShortcuts(){const _0x37daff=_0x473ef4,_0x5b44b2=doc(db,_0x37daff(0x590),_0x37daff(0x7d0));onSnapshot(_0x5b44b2,_0xa9b5a2=>{const _0x260d2a=_0x37daff;let _0x2bf73e=[],_0x483f61=[],_0xf34c54={};if(_0xa9b5a2[_0x260d2a(0x931)]()){const _0x215650=_0xa9b5a2[_0x260d2a(0x1e4)]();_0x2bf73e=_0x215650[_0x260d2a(0x96b)]||[],_0x483f61=_0x215650[_0x260d2a(0xa75)]||[],_0xf34c54=_0x215650[_0x260d2a(0x4fa)]||{};}!_0x483f61[_0x260d2a(0x712)](_0x3ed2d7=>_0x3ed2d7['id']===_0x260d2a(0x61c))&&_0x483f61[_0x260d2a(0x262)]({'id':_0x260d2a(0x61c),'name':'ต้นฉบับทั้งหมด','isDefault':!![]}),!_0x2bf73e[_0x260d2a(0x712)](_0x2e2184=>_0x2e2184['id']===_0x260d2a(0x8b3))&&_0x2bf73e[_0x260d2a(0x262)]({'id':_0x260d2a(0x8b3),'name':_0x260d2a(0x489),'url':'','isDefault':!![]}),!_0x2bf73e[_0x260d2a(0x712)](_0x593105=>_0x593105['id']==='parallel-default-2')&&_0x2bf73e['unshift']({'id':'parallel-default-2','name':_0x260d2a(0x8c6),'url':'','isDefault':!![]}),parallelTestShortcuts=_0x2bf73e,parallelShortcutTabs=_0x483f61,parallelShortcutOrder=_0xf34c54,renderParallelTestShortcuts(),!document[_0x260d2a(0x7eb)](_0x260d2a(0x8fe))[_0x260d2a(0xc3c)][_0x260d2a(0x5ba)](_0x260d2a(0xcb0))&&renderAdditionalParallelShortcutsModal();});}async function saveParallelShortcutConfig(){const _0x2e29a6=_0x473ef4,_0x29c7c6=doc(db,_0x2e29a6(0x590),_0x2e29a6(0x7d0));try{await setDoc(_0x29c7c6,{'parallelShortcutTabs':parallelShortcutTabs,'parallelShortcutOrder':parallelShortcutOrder},{'merge':!![]});}catch(_0x108273){console['error'](_0x2e29a6(0x6ac),_0x108273);}}function renderAdditionalParallelShortcutsModal(){const _0x58b93d=_0x473ef4,_0x4c1591=document['getElementById'](_0x58b93d(0xd4c)),_0x3f69e3=document[_0x58b93d(0x7eb)]('additional-parallel-shortcuts-list');if(!_0x4c1591||!_0x3f69e3)return;_0x4c1591[_0x58b93d(0xbec)]=parallelShortcutTabs[_0x58b93d(0xa3b)](_0x2a907a=>{const _0x297b32=_0x58b93d,_0x74ae5d=_0x2a907a['id']===activeParallelShortcutTabId;return _0x297b32(0x703)+_0x2a907a['id']+_0x297b32(0x6bd)+(_0x74ae5d?_0x297b32(0xd04):_0x297b32(0xafe))+_0x297b32(0x5c3)+_0x2a907a[_0x297b32(0x65c)]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+_0x2a907a[_0x297b32(0x65c)]+_0x297b32(0x2f7)+(!_0x2a907a['isDefault']?_0x297b32(0x840)+_0x2a907a['id']+'\x22\x20class=\x22delete-parallel-shortcut-tab-btn\x20absolute\x20-top-1\x20-right-1\x20text-red-400\x20hover:text-red-700\x20opacity-0\x20group-hover:opacity-100\x22>&times;</button>':'')+_0x297b32(0x571);})['join']('');const _0x308018=parallelShortcutTabs[_0x58b93d(0x712)](_0x3b2aa3=>_0x3b2aa3['id']===activeParallelShortcutTabId);let _0x21409f=_0x308018?.[_0x58b93d(0x384)]?[...parallelTestShortcuts]:parallelTestShortcuts[_0x58b93d(0x514)](_0x48bfdc=>(_0x308018?.[_0x58b93d(0xcd9)]||[])[_0x58b93d(0x3b1)](_0x48bfdc['id']));const _0xb6ca52=parallelShortcutOrder[activeParallelShortcutTabId]||[];_0x21409f['sort']((_0x2a6038,_0x527a7c)=>{const _0x24aaa5=_0x58b93d,_0x5b3ae1=_0xb6ca52[_0x24aaa5(0x5ac)](_0x2a6038['id']),_0x26737f=_0xb6ca52[_0x24aaa5(0x5ac)](_0x527a7c['id']);return(_0x5b3ae1===-0x1?Infinity:_0x5b3ae1)-(_0x26737f===-0x1?Infinity:_0x26737f);}),_0x3f69e3[_0x58b93d(0xbec)]=_0x21409f[_0x58b93d(0xa3b)](_0x1f0ad1=>{const _0x4446a7=_0x58b93d,_0x304782=_0x1f0ad1[_0x4446a7(0x633)]?'🔁':'🔗',_0x407fc8=parallelShortcutTabs[_0x4446a7(0x514)](_0x47c2d5=>!_0x47c2d5[_0x4446a7(0x384)]),_0x29e9d8=_0x308018[_0x4446a7(0x384)]&&_0x407fc8[_0x4446a7(0x373)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-parallel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-parallel-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-parallel-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x407fc8[_0x4446a7(0xa3b)](_0x183aeb=>_0x4446a7(0x75b)+_0x1f0ad1['id']+_0x4446a7(0x76d)+_0x183aeb['id']+'\x22>'+_0x183aeb[_0x4446a7(0x65c)]+_0x4446a7(0xc40))[_0x4446a7(0xaa2)]('')+_0x4446a7(0x54e):'';return _0x4446a7(0xd1c)+_0x1f0ad1['id']+_0x4446a7(0x761)+_0x304782+'\x20'+_0x1f0ad1['name']+_0x4446a7(0xbe1)+_0x1f0ad1['id']+_0x4446a7(0xd7d)+_0x1f0ad1['id']+_0x4446a7(0x4d0)+(!_0x1f0ad1[_0x4446a7(0x384)]?_0x4446a7(0x930)+_0x1f0ad1['id']+_0x4446a7(0xba3):'')+_0x4446a7(0x2b9)+(!_0x308018[_0x4446a7(0x384)]?_0x4446a7(0xb1f)+_0x1f0ad1['id']+_0x4446a7(0x955):'')+_0x4446a7(0x2b9)+_0x29e9d8+_0x4446a7(0x854);})[_0x58b93d(0xaa2)]('')||_0x58b93d(0x7f1),setupParallelShortcutModalEventListeners();}function setupParallelShortcutModalEventListeners(){const _0x7d9a00=_0x473ef4;document['querySelectorAll']('.parallel-shortcut-tab-btn')[_0x7d9a00(0xb15)](_0x1793c6=>{const _0x41d709=_0x7d9a00;_0x1793c6[_0x41d709(0xa41)]=_0x2795f2=>{const _0xd298cd=_0x41d709;activeParallelShortcutTabId=_0x2795f2[_0xd298cd(0xd3c)][_0xd298cd(0x6e9)][_0xd298cd(0x4bc)],renderAdditionalParallelShortcutsModal();},_0x1793c6[_0x41d709(0x300)]=_0x12817b=>{const _0x542370=_0x41d709,_0x2f4f94=_0x12817b['currentTarget'][_0x542370(0x6ea)](_0x542370(0x6fe));_0x12817b['currentTarget'][_0x542370(0x6ea)](_0x542370(0x904))[_0x542370(0xc3c)][_0x542370(0x4ad)](_0x542370(0xcb0)),_0x2f4f94[_0x542370(0xc3c)]['remove']('hidden'),_0x2f4f94[_0x542370(0x86f)](),_0x2f4f94[_0x542370(0xc78)]();};}),document['querySelectorAll'](_0x7d9a00(0x38e))[_0x7d9a00(0xb15)](_0x33ad99=>{const _0x576380=_0x7d9a00,_0x2e6d94=()=>{const _0x45462e=_0x2a86,_0x4ed8f9=_0x33ad99['closest'](_0x45462e(0x992))[_0x45462e(0x6e9)][_0x45462e(0x4bc)],_0xcf6a48=parallelShortcutTabs[_0x45462e(0x712)](_0x2c9c5d=>_0x2c9c5d['id']===_0x4ed8f9);_0xcf6a48&&(_0xcf6a48[_0x45462e(0x65c)]=_0x33ad99[_0x45462e(0x53d)][_0x45462e(0xa7e)]()||_0xcf6a48['name'],saveParallelShortcutConfig());};_0x33ad99[_0x576380(0x9f5)]=_0x2e6d94,_0x33ad99[_0x576380(0x4a6)]=_0x483ba9=>{const _0x4e3db1=_0x576380;if(_0x483ba9[_0x4e3db1(0x9f9)]===_0x4e3db1(0xcf5))_0x33ad99[_0x4e3db1(0x6db)]();};}),document['querySelectorAll'](_0x7d9a00(0x203))[_0x7d9a00(0xb15)](_0x3eb32e=>_0x3eb32e[_0x7d9a00(0xa41)]=_0x42e027=>{const _0x4b4fb0=_0x7d9a00,_0x3404cb=_0x42e027[_0x4b4fb0(0xd3c)]['dataset'][_0x4b4fb0(0x4bc)];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0x227932=_0x4b4fb0;parallelShortcutTabs=parallelShortcutTabs['filter'](_0x4d4d23=>_0x4d4d23['id']!==_0x3404cb),delete parallelShortcutOrder[_0x3404cb];if(activeParallelShortcutTabId===_0x3404cb)activeParallelShortcutTabId=_0x227932(0x61c);saveParallelShortcutConfig();});}),document[_0x7d9a00(0x89b)](_0x7d9a00(0x6d1))['forEach'](_0x47cf24=>_0x47cf24[_0x7d9a00(0xa41)]=_0x381bc7=>{const _0x29a1b6=_0x7d9a00;_0x381bc7['preventDefault']();const {shortcutId:_0x313e24,targetTabId:_0x584511}=_0x381bc7[_0x29a1b6(0xd3c)]['dataset'],_0x3e46ba=parallelShortcutTabs[_0x29a1b6(0x712)](_0x46dcf6=>_0x46dcf6['id']===_0x584511);_0x3e46ba&&!_0x3e46ba['shortcutIds'][_0x29a1b6(0x3b1)](_0x313e24)&&(_0x3e46ba[_0x29a1b6(0xcd9)][_0x29a1b6(0x526)](_0x313e24),saveParallelShortcutConfig());}),document[_0x7d9a00(0x89b)](_0x7d9a00(0xd22))[_0x7d9a00(0xb15)](_0x413ff3=>_0x413ff3[_0x7d9a00(0xa41)]=_0x37d54b=>{const _0x387e01=_0x7d9a00,_0x51c0d5=_0x37d54b[_0x387e01(0xd3c)][_0x387e01(0x6e9)][_0x387e01(0x8c0)],_0xefa2=parallelShortcutTabs['find'](_0x5474d8=>_0x5474d8['id']===activeParallelShortcutTabId);_0xefa2&&!_0xefa2[_0x387e01(0x384)]&&(_0xefa2[_0x387e01(0xcd9)]=_0xefa2[_0x387e01(0xcd9)][_0x387e01(0x514)](_0x72766a=>_0x72766a!==_0x51c0d5),saveParallelShortcutConfig());}),document[_0x7d9a00(0x89b)](_0x7d9a00(0x3a1))[_0x7d9a00(0xb15)](_0x582193=>_0x582193[_0x7d9a00(0xa41)]=_0x4ae652=>{const _0x146c74=_0x7d9a00;_0x4ae652['stopPropagation']();const _0x12bf1c=_0x4ae652['currentTarget'][_0x146c74(0x35c)];document[_0x146c74(0x89b)]('.move-parallel-shortcut-dropdown')[_0x146c74(0xb15)](_0x4852f6=>_0x4852f6['classList'][_0x146c74(0x4ad)](_0x146c74(0xcb0))),_0x12bf1c[_0x146c74(0xc3c)][_0x146c74(0x6f9)](_0x146c74(0xcb0));});const _0x4d44af=document['getElementById'](_0x7d9a00(0xb42));let _0x4b5015=null;_0x4d44af[_0x7d9a00(0x807)]=_0x4ca125=>{const _0x4c5c1e=_0x7d9a00;_0x4b5015=_0x4ca125[_0x4c5c1e(0x8ef)][_0x4c5c1e(0xba1)](_0x4c5c1e(0x9d0));if(_0x4b5015)setTimeout(()=>_0x4b5015[_0x4c5c1e(0xc3c)]['add'](_0x4c5c1e(0x994)),0x0);},_0x4d44af['ondragend']=()=>{const _0x2c7e10=_0x7d9a00;_0x4b5015&&(_0x4b5015[_0x2c7e10(0xc3c)][_0x2c7e10(0x6f9)](_0x2c7e10(0x994)),_0x4b5015=null);},_0x4d44af[_0x7d9a00(0x740)]=_0x1fcaab=>{const _0xd6b1cd=_0x7d9a00;_0x1fcaab[_0xd6b1cd(0x82f)]();},_0x4d44af[_0x7d9a00(0x77c)]=_0x38d589=>{const _0x1904a1=_0x7d9a00;_0x38d589['preventDefault']();if(_0x4b5015){const _0x5a4175=[..._0x4d44af[_0x1904a1(0x89b)]('.shortcut-list-item:not(.opacity-50)')]['reduce']((_0x32de79,_0x2af4e6)=>{const _0x44b799=_0x1904a1,_0xc4477e=_0x2af4e6[_0x44b799(0x586)](),_0x475124=_0x38d589[_0x44b799(0xa21)]-_0xc4477e[_0x44b799(0x54c)]-_0xc4477e[_0x44b799(0x395)]/0x2;return _0x475124<0x0&&_0x475124>_0x32de79[_0x44b799(0x9e4)]?{'offset':_0x475124,'element':_0x2af4e6}:_0x32de79;},{'offset':Number[_0x1904a1(0x75f)]})[_0x1904a1(0x4d8)];_0x5a4175==null?_0x4d44af[_0x1904a1(0xae3)](_0x4b5015):_0x4d44af[_0x1904a1(0xc69)](_0x4b5015,_0x5a4175);const _0x3dd15d=[..._0x4d44af[_0x1904a1(0x89b)](_0x1904a1(0x9d0))][_0x1904a1(0xa3b)](_0x2b6ad2=>_0x2b6ad2['dataset'][_0x1904a1(0x8c0)]);parallelShortcutOrder[activeParallelShortcutTabId]=_0x3dd15d,saveParallelShortcutConfig();}};}async function handleAddParallelShortcutTab(){const _0x3db61c=_0x473ef4,_0x3d809b=prompt(_0x3db61c(0x768),'แท็บใหม่');_0x3d809b&&_0x3d809b[_0x3db61c(0xa7e)]()&&(parallelShortcutTabs[_0x3db61c(0x526)]({'id':_0x3db61c(0x50f)+Date[_0x3db61c(0x823)](),'name':_0x3d809b[_0x3db61c(0xa7e)](),'shortcutIds':[]}),await saveParallelShortcutConfig());}function renderParallelTestShortcuts(){const _0x23b041=_0x473ef4,_0x17dfed=document[_0x23b041(0x7eb)](_0x23b041(0x9be)),_0x35c0b6=document[_0x23b041(0x7eb)](_0x23b041(0xb42)),_0xf5fd6b=document['getElementById'](_0x23b041(0x371));if(_0xf5fd6b)_0xf5fd6b[_0x23b041(0xc3c)][_0x23b041(0x4ad)]('hidden');if(!_0x17dfed||!_0x35c0b6)return;const _0x24009a=parallelTestShortcuts[_0x23b041(0xa80)](0x0,0x4),_0x2ee708=parallelTestShortcuts['slice'](0x4);_0x17dfed[_0x23b041(0xbec)]=_0x24009a[_0x23b041(0xa3b)](_0x590c4d=>{const _0x5480a6=_0x23b041,_0x2930f4=_0x590c4d['url']&&_0x590c4d['url']['trim']()!=='',_0x3dfffa=_0x2930f4?'bg-teal-500\x20hover:bg-teal-600\x20text-white':_0x5480a6(0xc11),_0x5cdecb=_0x2930f4?'🔁':'🔗',_0x2341a5=!_0x590c4d[_0x5480a6(0x384)]?_0x5480a6(0x930)+_0x590c4d['id']+_0x5480a6(0x950):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x590c4d['id']+_0x5480a6(0x69b)+_0x3dfffa+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22pointer-events-none\x22>'+_0x5cdecb+'\x20'+_0x590c4d[_0x5480a6(0x65c)]+_0x5480a6(0x45f)+_0x590c4d['id']+'\x22\x20class=\x22edit-parallel-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2341a5+_0x5480a6(0x83d);})[_0x23b041(0xaa2)](''),_0x2ee708[_0x23b041(0x373)]>0x0&&(_0x17dfed[_0x23b041(0xbec)]+=_0x23b041(0x5ae)),_0x2ee708[_0x23b041(0x373)]>0x0?_0x35c0b6[_0x23b041(0xbec)]=_0x2ee708[_0x23b041(0xa3b)](_0xd2526b=>_0x23b041(0x858)+(_0xd2526b[_0x23b041(0x633)]?'🔁':'🔗')+'\x20'+_0xd2526b[_0x23b041(0x65c)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xd2526b['id']+_0x23b041(0x493)+_0xd2526b['id']+_0x23b041(0x4c7)+(!_0xd2526b[_0x23b041(0x384)]?_0x23b041(0x930)+_0xd2526b['id']+_0x23b041(0xba3):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')['join'](''):_0x35c0b6[_0x23b041(0xbec)]=_0x23b041(0x21b);}function openParallelTestShortcutEditor(_0x5b77a8=null){const _0x22bd97=_0x473ef4,_0xe5b953=document[_0x22bd97(0x7eb)](_0x22bd97(0xba4)),_0x3d16b7=document[_0x22bd97(0x7eb)](_0x22bd97(0x903)),_0x22e652=document[_0x22bd97(0x7eb)](_0x22bd97(0x29f)),_0x2b0723=document[_0x22bd97(0x7eb)](_0x22bd97(0xa27)),_0x318f5d=document[_0x22bd97(0x7eb)](_0x22bd97(0x495));if(_0x5b77a8){const _0x2488f5=parallelTestShortcuts[_0x22bd97(0x712)](_0x2d2cbf=>_0x2d2cbf['id']===_0x5b77a8);if(!_0x2488f5)return;_0x3d16b7[_0x22bd97(0xc95)]=_0x22bd97(0x860),_0x22e652[_0x22bd97(0x53d)]=_0x2488f5['id'],_0x2b0723[_0x22bd97(0x53d)]=_0x2488f5[_0x22bd97(0x65c)],_0x318f5d[_0x22bd97(0x53d)]=_0x2488f5[_0x22bd97(0x633)]||'';}else _0x3d16b7[_0x22bd97(0xc95)]=_0x22bd97(0xb11),_0x22e652[_0x22bd97(0x53d)]='',_0x2b0723[_0x22bd97(0x53d)]='',_0x318f5d[_0x22bd97(0x53d)]='';_0xe5b953[_0x22bd97(0xc3c)]['remove'](_0x22bd97(0xcb0));}async function saveParallelTestShortcutChanges(){const _0x2befb4=_0x473ef4,_0x3441d0=document[_0x2befb4(0x7eb)](_0x2befb4(0x29f))[_0x2befb4(0x53d)],_0x2765bd=document[_0x2befb4(0x7eb)](_0x2befb4(0xa27))[_0x2befb4(0x53d)][_0x2befb4(0xa7e)](),_0x1339ab=document['getElementById'](_0x2befb4(0x495))[_0x2befb4(0x53d)][_0x2befb4(0xa7e)]();if(!_0x2765bd){showMessage('กรุณากรอก\x20\x27ชื่อปุ่มลัด\x27');return;}const _0xa74787={'id':_0x3441d0||_0x2befb4(0xa15)+Date[_0x2befb4(0x823)](),'name':_0x2765bd,'url':_0x1339ab,'isDefault':_0x3441d0[_0x2befb4(0x46a)](_0x2befb4(0x6ce))};let _0x138967;_0x3441d0?_0x138967=parallelTestShortcuts[_0x2befb4(0xa3b)](_0x286d50=>_0x286d50['id']===_0x3441d0?_0xa74787:_0x286d50):_0x138967=[...parallelTestShortcuts,_0xa74787];try{const _0x48090b=doc(db,_0x2befb4(0x590),_0x2befb4(0x7d0));await setDoc(_0x48090b,{'shortcuts':_0x138967},{'merge':!![]}),document['getElementById']('parallel-shortcut-editor-modal')[_0x2befb4(0xc3c)][_0x2befb4(0x4ad)](_0x2befb4(0xcb0));}catch(_0x599f11){console[_0x2befb4(0x2b8)](_0x2befb4(0x708),_0x599f11),showMessage(_0x2befb4(0x7ac));}}async function handleParallelTestShortcutClick(_0x107943){const _0x5e91e2=_0x473ef4,_0x4dfcba=parallelTestShortcuts[_0x5e91e2(0x712)](_0x31b6ad=>_0x31b6ad['id']===_0x107943);if(!_0x4dfcba)return;if(!_0x4dfcba[_0x5e91e2(0x633)]||_0x4dfcba['url']['trim']()===''){openParallelTestShortcutEditor(_0x107943);return;}const _0x2c5174=document[_0x5e91e2(0x7eb)](_0x5e91e2(0x32d)),_0x109eea=document[_0x5e91e2(0x7eb)](_0x5e91e2(0x2d4));document['getElementById'](_0x5e91e2(0x6dc))[_0x5e91e2(0xc3c)][_0x5e91e2(0x6f9)](_0x5e91e2(0xcb0)),document[_0x5e91e2(0x7eb)]('generated-quiz-container')[_0x5e91e2(0xbec)]='',_0x2c5174['classList'][_0x5e91e2(0x6f9)](_0x5e91e2(0xcb0)),_0x109eea[_0x5e91e2(0xc95)]=_0x5e91e2(0xcec);try{let _0x144c25;_0x4dfcba[_0x5e91e2(0x633)][_0x5e91e2(0x9f4)]()[_0x5e91e2(0x3b1)](_0x5e91e2(0x2ee))?_0x144c25='source_document.txt':_0x144c25=_0x5e91e2(0x8ca);const _0x376e3a=await fetchFileFromUrl(_0x4dfcba['url'],_0x144c25);await handleGenerateParallelTest(_0x376e3a);}catch(_0x4492d2){console['error'](_0x5e91e2(0x7d1),_0x4492d2),showMessage(_0x5e91e2(0xc13)+_0x4492d2[_0x5e91e2(0xd7a)]),_0x2c5174[_0x5e91e2(0xc3c)][_0x5e91e2(0x4ad)](_0x5e91e2(0xcb0));}}function initializeScratchpadCanvas(){const _0x2e5ca6=_0x473ef4,_0x5d0b6b=document[_0x2e5ca6(0x7eb)]('scratchpad-canvas'),_0x412646=document[_0x2e5ca6(0x6ea)](_0x2e5ca6(0x8ab));if(!_0x5d0b6b||!_0x412646)return;scratchpadCtx=_0x5d0b6b['getContext']('2d',{'willReadFrequently':!![]});const _0x3b978f=window['devicePixelRatio']||0x1,_0x115787=_0x412646[_0x2e5ca6(0x586)]();_0x5d0b6b[_0x2e5ca6(0xca6)]=_0x115787[_0x2e5ca6(0xca6)]*_0x3b978f,_0x5d0b6b[_0x2e5ca6(0x395)]=_0x115787[_0x2e5ca6(0x395)]*_0x3b978f,_0x5d0b6b[_0x2e5ca6(0xd84)][_0x2e5ca6(0xca6)]=_0x115787[_0x2e5ca6(0xca6)]+'px',_0x5d0b6b['style'][_0x2e5ca6(0x395)]=_0x115787[_0x2e5ca6(0x395)]+'px',scratchpadCtx[_0x2e5ca6(0xa36)](_0x3b978f,_0x3b978f),scratchpadCtx[_0x2e5ca6(0xb8d)]=_0x2e5ca6(0x8a4),scratchpadCtx[_0x2e5ca6(0x4bf)]='round',_0x5d0b6b['removeEventListener']('pointerdown',handlePointerDown),_0x5d0b6b[_0x2e5ca6(0x39d)]('pointermove',handlePointerMove),_0x5d0b6b[_0x2e5ca6(0x39d)](_0x2e5ca6(0x564),handlePointerUp),_0x5d0b6b[_0x2e5ca6(0x39d)](_0x2e5ca6(0xae6),handlePointerUp),_0x5d0b6b[_0x2e5ca6(0x39d)](_0x2e5ca6(0x851),handleWheel),_0x5d0b6b[_0x2e5ca6(0x39d)](_0x2e5ca6(0x1de),handlePointerDown),_0x5d0b6b[_0x2e5ca6(0x39d)]('touchmove',handlePointerMove),_0x5d0b6b[_0x2e5ca6(0x39d)]('touchend',handlePointerUp),_0x5d0b6b[_0x2e5ca6(0x5e6)]('pointerdown',handlePointerDown),_0x5d0b6b[_0x2e5ca6(0x5e6)](_0x2e5ca6(0x75a),handlePointerMove),_0x5d0b6b['addEventListener'](_0x2e5ca6(0x564),handlePointerUp),_0x5d0b6b[_0x2e5ca6(0x5e6)](_0x2e5ca6(0xae6),handlePointerUp),_0x5d0b6b[_0x2e5ca6(0x5e6)]('wheel',handleWheel,{'passive':![]}),_0x5d0b6b[_0x2e5ca6(0x5e6)](_0x2e5ca6(0x1de),handlePointerDown,{'passive':![]}),_0x5d0b6b[_0x2e5ca6(0x5e6)](_0x2e5ca6(0x6a4),handlePointerMove,{'passive':![]}),_0x5d0b6b[_0x2e5ca6(0x5e6)]('touchend',handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x5e264f=_0x473ef4,_0x2d0a35=document[_0x5e264f(0x7eb)](_0x5e264f(0xcfa)),_0x493a68=document[_0x5e264f(0x7eb)]('scratchpad-controls');_0x493a68[_0x5e264f(0xbec)]=_0x5e264f(0x933)+scratchpadHighlighterSize+_0x5e264f(0x5a6);const _0x582cdb=document[_0x5e264f(0x7eb)](_0x5e264f(0x5a8)),_0x5b1361=document['getElementById'](_0x5e264f(0x6c6)),_0x5c50c4=document[_0x5e264f(0x7eb)]('trail-tool-btn'),_0x3add98=document[_0x5e264f(0x7eb)]('highlighter-tool-btn'),_0x348ac9=document[_0x5e264f(0x7eb)](_0x5e264f(0x447)),_0x2f27b1=document[_0x5e264f(0x7eb)](_0x5e264f(0x3c8)),_0x2d1b50=document[_0x5e264f(0x7eb)]('eraser-tools-group'),_0xe4c7ee=[_0x582cdb,_0x5b1361,_0x5c50c4,_0x3add98];document[_0x5e264f(0x7eb)]('scratchpad-close-btn')[_0x5e264f(0x5e6)](_0x5e264f(0x732),()=>_0x2d0a35[_0x5e264f(0xc3c)]['add']('hidden')),document['getElementById'](_0x5e264f(0x734))[_0x5e264f(0x5e6)](_0x5e264f(0x732),()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x5e264f(0x7eb)](_0x5e264f(0x2cc))[_0x5e264f(0x5e6)](_0x5e264f(0x732),()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x5e264f(0x7eb)]('undo-btn')['addEventListener'](_0x5e264f(0x732),undo),document[_0x5e264f(0x7eb)](_0x5e264f(0xb50))['addEventListener']('click',redo);const _0x3341a3=_0x4f44fa=>{const _0x42e571=_0x5e264f;_0xe4c7ee['forEach'](_0x3bdaa3=>_0x3bdaa3[_0x42e571(0xc3c)][_0x42e571(0x6f9)](_0x42e571(0x3a5))),_0x4f44fa[_0x42e571(0xc3c)][_0x42e571(0x4ad)](_0x42e571(0x3a5)),_0x348ac9[_0x42e571(0xc3c)]['add']('hidden'),_0x2f27b1['classList'][_0x42e571(0x4ad)](_0x42e571(0xcb0)),_0x2d1b50['classList'][_0x42e571(0x4ad)](_0x42e571(0xcb0));if(activeTool===_0x42e571(0x6d8)||activeTool===_0x42e571(0x41e))_0x348ac9[_0x42e571(0xc3c)][_0x42e571(0x6f9)](_0x42e571(0xcb0));else{if(activeTool==='highlighter')_0x2f27b1[_0x42e571(0xc3c)][_0x42e571(0x6f9)](_0x42e571(0xcb0));else activeTool===_0x42e571(0x5e9)&&_0x2d1b50[_0x42e571(0xc3c)][_0x42e571(0x6f9)](_0x42e571(0xcb0));}};_0x582cdb[_0x5e264f(0x5e6)](_0x5e264f(0x732),()=>{const _0x44d988=_0x5e264f;activeTool=_0x44d988(0x6d8),_0x3341a3(_0x582cdb);}),_0x5b1361['addEventListener'](_0x5e264f(0x732),()=>{activeTool='eraser',_0x3341a3(_0x5b1361);}),_0x5c50c4[_0x5e264f(0x5e6)](_0x5e264f(0x732),()=>{const _0x20d571=_0x5e264f;activeTool=_0x20d571(0x41e),_0x3341a3(_0x5c50c4);}),_0x3add98[_0x5e264f(0x5e6)](_0x5e264f(0x732),()=>{const _0x7b143e=_0x5e264f;activeTool=_0x7b143e(0x462),_0x3341a3(_0x3add98);}),_0x348ac9['querySelectorAll']('.pen-size-btn')['forEach'](_0x1ce220=>{const _0x22d012=_0x5e264f;_0x1ce220[_0x22d012(0x5e6)](_0x22d012(0x732),_0x2c655b=>{const _0x380ddc=_0x22d012;scratchpadPenSize=parseInt(_0x2c655b[_0x380ddc(0x8ef)]['dataset']['size'],0xa),_0x348ac9[_0x380ddc(0x89b)](_0x380ddc(0xc0f))[_0x380ddc(0xb15)](_0x215859=>_0x215859[_0x380ddc(0xc3c)][_0x380ddc(0x6f9)]('active')),_0x2c655b['target'][_0x380ddc(0xc3c)][_0x380ddc(0x4ad)]('active');});}),_0x2d1b50['querySelectorAll'](_0x5e264f(0x964))[_0x5e264f(0xb15)](_0x40f5c9=>{const _0x4252e3=_0x5e264f;_0x40f5c9[_0x4252e3(0x5e6)](_0x4252e3(0x732),_0x3daf4e=>{const _0x45d66a=_0x4252e3,_0x4fcbc4=_0x3daf4e[_0x45d66a(0xd3c)];scratchpadEraserSize=parseInt(_0x4fcbc4[_0x45d66a(0x6e9)]['size'],0xa),_0x2d1b50[_0x45d66a(0x89b)]('.eraser-size-btn')['forEach'](_0x32be9b=>_0x32be9b[_0x45d66a(0xc3c)][_0x45d66a(0x6f9)](_0x45d66a(0x3a5))),_0x4fcbc4['classList']['add'](_0x45d66a(0x3a5));});}),_0x348ac9[_0x5e264f(0x89b)](_0x5e264f(0xd34))[_0x5e264f(0xb15)](_0x308e31=>{const _0x196724=_0x5e264f;_0x308e31[_0x196724(0x5e6)](_0x196724(0x732),_0x5491a2=>{const _0x6e0513=_0x196724;scratchpadPenColor=_0x5491a2['target'][_0x6e0513(0x6e9)]['color'],_0x348ac9['querySelectorAll'](_0x6e0513(0xd34))[_0x6e0513(0xb15)](_0x212975=>_0x212975[_0x6e0513(0xc3c)][_0x6e0513(0x6f9)]('active')),_0x5491a2[_0x6e0513(0x8ef)]['classList'][_0x6e0513(0x4ad)](_0x6e0513(0x3a5));});}),_0x2f27b1[_0x5e264f(0x89b)](_0x5e264f(0x3b6))[_0x5e264f(0xb15)](_0x153b02=>{const _0x4911ed=_0x5e264f;_0x153b02[_0x4911ed(0x5e6)](_0x4911ed(0x732),_0x556859=>{const _0x3df792=_0x4911ed;scratchpadHighlighterColor=_0x556859[_0x3df792(0x8ef)]['dataset']['color'],_0x2f27b1[_0x3df792(0x89b)]('.highlighter-color-btn')[_0x3df792(0xb15)](_0x5c7be3=>_0x5c7be3['classList'][_0x3df792(0x6f9)](_0x3df792(0x3a5))),_0x556859[_0x3df792(0x8ef)][_0x3df792(0xc3c)]['add']('active');});});const _0x291422=document[_0x5e264f(0x7eb)](_0x5e264f(0xb71)),_0x1209a1=document[_0x5e264f(0x7eb)]('highlighter-size-value');_0x291422[_0x5e264f(0x5e6)](_0x5e264f(0x2c5),_0xaf2b5b=>{const _0x27eafa=_0x5e264f,_0x3d7ce6=parseInt(_0xaf2b5b['target'][_0x27eafa(0x53d)],0xa);scratchpadHighlighterSize=_0x3d7ce6,_0x1209a1[_0x27eafa(0xc95)]=_0x3d7ce6;}),window[_0x5e264f(0x5e6)](_0x5e264f(0x5df),()=>{const _0x1150c1=_0x5e264f;!_0x2d0a35[_0x1150c1(0xc3c)][_0x1150c1(0x5ba)](_0x1150c1(0xcb0))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':_0x473ef4(0xcbf),'description':_0x473ef4(0x9bd),'icon':_0x473ef4(0xcc4)},'QUICK_THINKER':{'id':_0x473ef4(0x948),'name':_0x473ef4(0x544),'description':_0x473ef4(0x4b2),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x473ef4(0x593),'name':_0x473ef4(0x97b),'description':_0x473ef4(0x78a),'icon':_0x473ef4(0xb1a)},'FIRST_TRY_ACE':{'id':'first_try_ace','name':_0x473ef4(0x5f3),'description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':_0x473ef4(0xd37)},'COMEBACK_KING':{'id':'comeback_king','name':'ราชาคัมแบ็ก','description':_0x473ef4(0x63e),'icon':_0x473ef4(0x7fb)},'SPECIALIST':{'id':_0x473ef4(0x2a0),'name':_0x473ef4(0x766),'description':_0x473ef4(0x343),'icon':_0x473ef4(0x53f)},'PERSEVERANCE':{'id':_0x473ef4(0xd1f),'name':_0x473ef4(0x3a3),'description':_0x473ef4(0x888),'icon':_0x473ef4(0x726)}},firebaseConfig={'apiKey':_0x473ef4(0xc70),'authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':'ai-quiz-app-aefee','storageBucket':'ai-quiz-app-aefee.firebasestorage.app','messagingSenderId':_0x473ef4(0x58c),'appId':_0x473ef4(0xbfd),'measurementId':'G-V90KRM0L63'},appId=typeof __app_id!==_0x473ef4(0x1f3)?__app_id:_0x473ef4(0x67f),adminView=document['getElementById'](_0x473ef4(0xbc3)),studentView=document[_0x473ef4(0x7eb)]('student-view'),projectDashboardView=document['getElementById'](_0x473ef4(0x31b)),projectDetailView=document[_0x473ef4(0x7eb)](_0x473ef4(0xcf4)),quizResultsView=document[_0x473ef4(0x7eb)](_0x473ef4(0xa7a)),projectList=document[_0x473ef4(0x7eb)](_0x473ef4(0xc3d)),noProjectsMsg=document[_0x473ef4(0x7eb)](_0x473ef4(0x4eb)),projectTitle=document[_0x473ef4(0x7eb)](_0x473ef4(0x470)),projectIdDisplay=document[_0x473ef4(0x7eb)]('project-id-display'),studentList=document[_0x473ef4(0x7eb)](_0x473ef4(0x985)),messageModal=document[_0x473ef4(0x7eb)](_0x473ef4(0xc4d)),modalMessage=document[_0x473ef4(0x7eb)](_0x473ef4(0x4f5)),createProjectModal=document[_0x473ef4(0x7eb)](_0x473ef4(0xb06)),adminPasswordModal=document[_0x473ef4(0x7eb)]('admin-password-modal'),confirmationModal=document[_0x473ef4(0x7eb)](_0x473ef4(0xc0e)),userIdDisplay=document[_0x473ef4(0x7eb)]('user-id-display'),topicTab=document[_0x473ef4(0x7eb)](_0x473ef4(0x759)),textTab=document[_0x473ef4(0x7eb)]('text-tab'),topicInputArea=document[_0x473ef4(0x7eb)](_0x473ef4(0x70b)),textInputArea=document[_0x473ef4(0x7eb)]('text-input-area'),manageTab=document['getElementById']('manage-tab'),resultsTab=document['getElementById'](_0x473ef4(0x9d5)),leaderboardTab=document['getElementById'](_0x473ef4(0xbda)),manageTabContent=document[_0x473ef4(0x7eb)](_0x473ef4(0x891)),resultsTabContent=document['getElementById']('results-tab-content'),leaderboardTabContent=document[_0x473ef4(0x7eb)](_0x473ef4(0x46c)),projectQuizzesList=document[_0x473ef4(0x7eb)](_0x473ef4(0xbaa)),fileTab=document[_0x473ef4(0x7eb)](_0x473ef4(0x34d)),fileInputArea=document[_0x473ef4(0x7eb)]('file-input-area'),fileUploadInput=document[_0x473ef4(0x7eb)](_0x473ef4(0xbb7)),worksheetTab=document['getElementById'](_0x473ef4(0x589)),worksheetInputArea=document['getElementById'](_0x473ef4(0x961)),generateWorksheetBtn=document[_0x473ef4(0x7eb)](_0x473ef4(0x8ce)),studentInitialView=document[_0x473ef4(0x7eb)]('student-initial-view'),studentNameSelectionView=document[_0x473ef4(0x7eb)](_0x473ef4(0xa95)),studentQuizArea=document[_0x473ef4(0x7eb)]('student-quiz-area'),studentResultArea=document[_0x473ef4(0x7eb)]('student-result-area'),studentReadingArea=document['getElementById']('student-reading-area'),loadQuizBtn=document['getElementById'](_0x473ef4(0x2ff)),startQuizBtn=document[_0x473ef4(0x7eb)](_0x473ef4(0x8e8)),studentJoinGameView=document[_0x473ef4(0x7eb)](_0x473ef4(0x6ca)),presentationModal=document[_0x473ef4(0x7eb)](_0x473ef4(0xae0)),renameQuizModal=document[_0x473ef4(0x7eb)]('rename-quiz-modal'),moveQuizModal=document['getElementById'](_0x473ef4(0xd75)),quizSettingsModal=document[_0x473ef4(0x7eb)](_0x473ef4(0xca1)),quizStatusModal=document[_0x473ef4(0x7eb)](_0x473ef4(0x8f7)),liveGameView=document['getElementById'](_0x473ef4(0xbf5));function handleFixLessonLatex(){const _0x97d102=_0x473ef4,_0x493489=document['getElementById'](_0x97d102(0x99b));if(!_0x493489){showMessage('ไม่พบเนื้อหาบทเรียนที่จะแก้ไข');return;}const _0x45e1c2=_0x493489['querySelectorAll']([_0x97d102(0x848),_0x97d102(0xc48),_0x97d102(0x43a),_0x97d102(0x9f8),_0x97d102(0x24c)][_0x97d102(0xaa2)](','));let _0x4c0e68=0x0;const _0x4f1036=_0x368a92=>_0x368a92[_0x97d102(0xc95)]||'',_0xf829ae=(_0x685428,_0x1045be)=>{const _0x10160e=_0x97d102;if(_0x685428['querySelector']&&_0x685428['querySelector'](_0x10160e(0xb3e)))return;_0x685428[_0x10160e(0xc95)]=_0x1045be;},_0x2544e2=_0x353889=>_0x353889[_0x97d102(0x7bd)](/\u00A0/g,'\x20')[_0x97d102(0x7bd)](/\u200B/g,'')[_0x97d102(0x7bd)](/\r\n?/g,'\x0a'),_0x4794a8=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x3c174b=_0x1779a9=>{const _0x264b16=_0x97d102;let _0x4ddef1=_0x1779a9['trim']();const _0x39f98c=[_0x264b16(0x4a7),_0x264b16(0x1eb),_0x264b16(0x717),_0x264b16(0x595),_0x264b16(0x2b3),_0x264b16(0x7d2),'cdot',_0x264b16(0x4dd),'leq',_0x264b16(0x2f2),'le','ge',_0x264b16(0x683),'pm',_0x264b16(0x515),_0x264b16(0x867),_0x264b16(0x7f0),_0x264b16(0xc5b),_0x264b16(0xc55),'ln',_0x264b16(0x3d8),'prod',_0x264b16(0xa1e),_0x264b16(0xca2),'right',_0x264b16(0x3e9),'underline',_0x264b16(0x506),_0x264b16(0x767)];_0x39f98c['forEach'](_0x5df797=>{const _0x5f5ba3=_0x264b16;_0x4ddef1=_0x4ddef1[_0x5f5ba3(0x7bd)](new RegExp(_0x5f5ba3(0x8c1)+_0x5df797+'\x5cb','g'),(_0x21fc84,_0x266284)=>_0x266284+'\x5c'+_0x5df797);});const _0x46046b=[[/×/g,'\x5ctimes'],[/·/g,'\x5ccdot'],[/÷/g,_0x264b16(0x792)],[/≤/g,'\x5cle'],[/≥/g,'\x5cge'],[/≠/g,'\x5cneq'],[/±/g,_0x264b16(0x705)],[/∑/g,_0x264b16(0x9b9)],[/−/g,'-']];return _0x46046b[_0x264b16(0xb15)](([_0x3084b4,_0x815e9])=>{const _0xbc659b=_0x264b16;_0x4ddef1=_0x4ddef1[_0xbc659b(0x7bd)](_0x3084b4,_0x815e9);}),_0x4ddef1=_0x4ddef1[_0x264b16(0x7bd)](/√\s*([A-Za-z0-9]+)/g,_0x264b16(0xad5)),_0x4ddef1=_0x4ddef1[_0x264b16(0x7bd)](/(\d+)\s*%/g,'$1\x5c%'),_0x4ddef1;},_0x5a99eb=_0x1aaf19=>{const _0x46a441=_0x97d102;if(/\$|\\\(|\\\[/[_0x46a441(0x733)](_0x1aaf19))return _0x1aaf19;if(!_0x4794a8[_0x46a441(0x733)](_0x1aaf19))return _0x1aaf19;const _0x5018aa=_0x1aaf19['match'](/^\s*/)[0x0],_0x2323a5=_0x1aaf19[_0x46a441(0x3a2)](/\s*$/)[0x0],_0x4c1732=_0x1aaf19[_0x46a441(0xa7e)]();return _0x5018aa+'$'+_0x3c174b(_0x4c1732)+'$'+_0x2323a5;};_0x45e1c2[_0x97d102(0xb15)](_0x40178e=>{const _0x2fb500=_0x97d102,_0x300535=_0x4f1036(_0x40178e);let _0x592e32=_0x2544e2(_0x300535);_0x592e32=_0x592e32[_0x2fb500(0x7bd)](/\$([^$]*?)\$/g,(_0x12278e,_0x16a548)=>'$'+_0x3c174b(_0x16a548)+'$');const _0x1b7edf=_0x592e32[_0x2fb500(0x5db)](/(\s+)/),_0x14a21f=_0x1b7edf[_0x2fb500(0xa3b)](_0x43afc6=>{const _0xa27624=_0x2fb500;if(/\s+/[_0xa27624(0x733)](_0x43afc6))return _0x43afc6;return _0x5a99eb(_0x43afc6);});_0x592e32=_0x14a21f[_0x2fb500(0xaa2)](''),_0x592e32!==_0x300535&&(_0xf829ae(_0x40178e,_0x592e32),_0x4c0e68++);});if(_0x4c0e68>0x0){showMessage('แก้ไขสูตรคณิตศาสตร์\x20'+_0x4c0e68+'\x20จุดเรียบร้อยแล้ว');try{window['MathJax']&&MathJax['typesetPromise']&&MathJax['typesetPromise']([_0x493489]);}catch(_0x932aeb){console['error']('MathJax\x20re-render\x20failed:',_0x932aeb);}}else showMessage(_0x97d102(0x243));}function handleAutoFixLatex(){const _0x7260cd=_0x473ef4,_0x549461=document[_0x7260cd(0x7eb)](_0x7260cd(0xa97))||document,_0x219bf9=_0x549461[_0x7260cd(0x89b)](_0x7260cd(0xa98));let _0x2b316d=0x0;const _0x2821e5=_0x1e8cff=>'value'in _0x1e8cff?String(_0x1e8cff[_0x7260cd(0x53d)]):_0x1e8cff[_0x7260cd(0x8f2)]!==undefined?_0x1e8cff[_0x7260cd(0x8f2)]:_0x1e8cff[_0x7260cd(0xc95)]||'',_0x2be65a=(_0x5a63b,_0xbc098e)=>{const _0x4f2f3f=_0x7260cd;if('value'in _0x5a63b){_0x5a63b[_0x4f2f3f(0x53d)]=_0xbc098e;return;}if(_0x5a63b['querySelector']&&_0x5a63b[_0x4f2f3f(0x6ea)](_0x4f2f3f(0xb3e)))return;if(_0x5a63b[_0x4f2f3f(0x8f2)]!==undefined)_0x5a63b[_0x4f2f3f(0x8f2)]=_0xbc098e;else _0x5a63b[_0x4f2f3f(0xc95)]=_0xbc098e;},_0x15e88b=_0x384d9d=>_0x384d9d[_0x7260cd(0x7bd)](/\u00A0/g,'\x20')[_0x7260cd(0x7bd)](/\u200B/g,'')[_0x7260cd(0x7bd)](/\r\n?/g,'\x0a'),_0x23b7d9=/[\^_\\]|\b(?:frac|sqrt|times|cdot|div|leq|geq|neq|pm|sin|cos|tan|log|ln)\b|[×÷≤≥≠±·√]/,_0x2d47b5=_0x2c1a41=>{const _0x33f066=_0x7260cd;let _0x3d2253=_0x2c1a41['trim']();_0x3d2253=_0x3d2253[_0x33f066(0x7bd)](/\bfrac\{?(\d+)\}?\{?(\d+)\}?/g,_0x33f066(0x21d)),_0x3d2253=_0x3d2253[_0x33f066(0x7bd)](/\bfrac(\d)(\d)/g,_0x33f066(0x21d));const _0x3b318a=[_0x33f066(0x4a7),_0x33f066(0x595),_0x33f066(0x7d2),_0x33f066(0x68c),'div',_0x33f066(0xb28),_0x33f066(0x2f2),'neq','pm',_0x33f066(0x867),'cos',_0x33f066(0xc5b),_0x33f066(0xc55),'ln'];_0x3b318a[_0x33f066(0xb15)](_0x431042=>{const _0x22d373=_0x33f066;_0x3d2253=_0x3d2253[_0x22d373(0x7bd)](new RegExp(_0x22d373(0x8c1)+_0x431042+'\x5cb','g'),(_0x378562,_0x491624)=>_0x491624+'\x5c'+_0x431042);});const _0x791055=[[/×/g,'\x5ctimes'],[/·/g,'\x5ccdot'],[/÷/g,_0x33f066(0x792)],[/≤/g,_0x33f066(0x972)],[/≥/g,'\x5cge'],[/≠/g,_0x33f066(0xb66)],[/±/g,_0x33f066(0x705)]];return _0x791055[_0x33f066(0xb15)](([_0x5be222,_0x44d4c8])=>{const _0x397d72=_0x33f066;_0x3d2253=_0x3d2253[_0x397d72(0x7bd)](_0x5be222,_0x44d4c8);}),_0x3d2253;},_0x40f343=_0x4a7237=>{const _0x521714=_0x7260cd;if(/\$|\\\(|\\\[/[_0x521714(0x733)](_0x4a7237))return _0x4a7237;if(!_0x23b7d9[_0x521714(0x733)](_0x4a7237))return _0x4a7237;const _0x380d10=_0x4a7237[_0x521714(0x3a2)](/^\s*/)[0x0],_0x19e8c3=_0x4a7237[_0x521714(0x3a2)](/\s*$/)[0x0],_0x39298c=_0x4a7237['trim']();return _0x380d10+'$'+_0x2d47b5(_0x39298c)+'$'+_0x19e8c3;};_0x219bf9[_0x7260cd(0xb15)](_0x3747a8=>{const _0x4c0eed=_0x7260cd,_0x3a6a7c=_0x2821e5(_0x3747a8);let _0xfc4b49=_0x15e88b(_0x3a6a7c);_0xfc4b49=_0xfc4b49[_0x4c0eed(0x7bd)](/\$([^$]*?)\$/g,(_0x14e878,_0x53eca3)=>'$'+_0x2d47b5(_0x53eca3)+'$');const _0x5b4faf=_0xfc4b49['split'](/(\s+)/),_0x214e6b=_0x5b4faf[_0x4c0eed(0xa3b)](_0xf3daee=>/\s+/[_0x4c0eed(0x733)](_0xf3daee)?_0xf3daee:_0x40f343(_0xf3daee));_0xfc4b49=_0x214e6b[_0x4c0eed(0xaa2)](''),_0xfc4b49!==_0x3a6a7c&&(_0x2be65a(_0x3747a8,_0xfc4b49),_0x2b316d++);});if(_0x2b316d>0x0){showMessage(_0x7260cd(0x50c)+_0x2b316d+_0x7260cd(0xbe6));try{if(window[_0x7260cd(0x5f9)]&&MathJax[_0x7260cd(0x93d)])MathJax['typesetPromise']();}catch(_0x22aeee){}}else showMessage(_0x7260cd(0x6ee));}async function listenForCustomMathTopics(){const _0x122677=_0x473ef4,_0x141b2c=collection(db,_0x122677(0x41a)+appId+_0x122677(0xbab));onSnapshot(_0x141b2c,_0x4abfed=>{const _0x104790=_0x122677;customMathTopics=_0x4abfed[_0x104790(0x48b)][_0x104790(0xa3b)](_0x4ef3e5=>({'id':_0x4ef3e5['id'],..._0x4ef3e5[_0x104790(0x1e4)]()})),renderTopicCheckboxes();},_0x1a2ba4=>{const _0x4757fa=_0x122677;console[_0x4757fa(0x2b8)](_0x4757fa(0xd69),_0x1a2ba4);});}function handleSelectAllTopics(){const _0x544e66=_0x473ef4,_0x50158d=document[_0x544e66(0x7eb)](_0x544e66(0x41d)),_0xed1d8d=_0x50158d[_0x544e66(0x89b)](_0x544e66(0x630));_0xed1d8d[_0x544e66(0xb15)](_0x3fb02d=>{const _0x29c931=_0x544e66;_0x3fb02d[_0x29c931(0x5b1)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x296fae=_0x473ef4,_0xd5abcb=document[_0x296fae(0x7eb)]('math-topics-checkbox-container'),_0x3c1dc4=_0xd5abcb[_0x296fae(0x89b)](_0x296fae(0x630));_0x3c1dc4[_0x296fae(0xb15)](_0x5608a5=>{const _0x441208=_0x296fae;_0x5608a5[_0x441208(0x5b1)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x4ad2c9){const _0x3e5864=_0x473ef4;if(!_0x4ad2c9)return;try{const _0x8771c5=doc(db,_0x3e5864(0x41a)+appId+_0x3e5864(0xbab),_0x4ad2c9);await deleteDoc(_0x8771c5),showMessage(_0x3e5864(0x6d0));}catch(_0x207a1a){console[_0x3e5864(0x2b8)](_0x3e5864(0xbc1),_0x207a1a),showMessage(_0x3e5864(0x6b3));}}async function handleAddCustomMathTopic(){const _0x5884b1=_0x473ef4,_0x1aca3a=document[_0x5884b1(0x7eb)]('custom-math-topic-input'),_0x8c7564=_0x1aca3a[_0x5884b1(0x53d)][_0x5884b1(0xa7e)]();if(!_0x8c7564){showMessage(_0x5884b1(0xd0f));return;}if(!userId){showMessage(_0x5884b1(0x861));return;}try{const _0x47b236=collection(db,_0x5884b1(0x41a)+appId+_0x5884b1(0xbab));await addDoc(_0x47b236,{'name':_0x8c7564,'createdAt':serverTimestamp()}),_0x1aca3a['value']='',showMessage(_0x5884b1(0x5d2)+_0x8c7564+_0x5884b1(0x8df));}catch(_0x182ff0){console[_0x5884b1(0x2b8)](_0x5884b1(0x2c7),_0x182ff0),showMessage('เกิดข้อผิดพลาดในการบันทึกหัวข้อ');}}async function handleUpdateOldQuizzes(){const _0x409809=_0x473ef4;showConfirmation(_0x409809(0x5dd),async()=>{const _0x3d3c8b=_0x409809,_0x312b8b=document[_0x3d3c8b(0x7eb)](_0x3d3c8b(0x32d)),_0xf9feb2=document['getElementById'](_0x3d3c8b(0x2d4)),_0xa7d001=_0xf9feb2['textContent'];_0x312b8b[_0x3d3c8b(0xc3c)]['remove'](_0x3d3c8b(0xcb0)),_0xf9feb2[_0x3d3c8b(0xc95)]=_0x3d3c8b(0xb19);try{const _0x58a195=collection(db,_0x3d3c8b(0x41a)+appId+_0x3d3c8b(0x3c1)),_0x270955=await getDocs(_0x58a195);if(_0x270955[_0x3d3c8b(0x28f)]){showMessage('ไม่พบแบบทดสอบในระบบเลย');return;}const _0x10aaad=writeBatch(db);let _0x5c7391=0x0;_0x270955[_0x3d3c8b(0xb15)](_0x16fd1d=>{const _0x30c71d=_0x3d3c8b,_0x2a5e6e=_0x16fd1d[_0x30c71d(0x1e4)](),_0x3c62e7=_0x16fd1d['id'];if(_0x2a5e6e[_0x30c71d(0x3dd)]&&_0x2a5e6e[_0x30c71d(0x3dd)][_0x30c71d(0x373)]>0x0&&!_0x2a5e6e[_0x30c71d(0x3dd)][0x0][_0x30c71d(0xc9e)]('id')){console['log']('พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20'+_0x3c62e7+'\x20('+_0x2a5e6e[_0x30c71d(0x2d8)]+')'),_0x5c7391++;const _0x188ee8=_0x2a5e6e[_0x30c71d(0x3dd)][_0x30c71d(0xa3b)]((_0x572f84,_0x3225a4)=>{return{..._0x572f84,'id':_0x572f84['id']||'q_'+Date['now']()+'_'+_0x3c62e7+'_'+_0x3225a4};}),_0x533c67=doc(db,_0x30c71d(0x41a)+appId+_0x30c71d(0x3c1),_0x3c62e7);_0x10aaad[_0x30c71d(0x94d)](_0x533c67,{'questions':_0x188ee8});}}),_0x5c7391>0x0?(_0xf9feb2[_0x3d3c8b(0xc95)]=_0x3d3c8b(0xaca)+_0x5c7391+_0x3d3c8b(0x9d2),await _0x10aaad[_0x3d3c8b(0x5f4)](),showMessage(_0x3d3c8b(0x79b)+_0x5c7391+_0x3d3c8b(0xa70))):showMessage(_0x3d3c8b(0x4b7));}catch(_0x23fcb3){console['error']('Error\x20updating\x20old\x20quizzes:',_0x23fcb3),showMessage(_0x3d3c8b(0x5b5)+_0x23fcb3['message']);}finally{_0x312b8b['classList']['add'](_0x3d3c8b(0xcb0)),_0xf9feb2[_0x3d3c8b(0xc95)]=_0xa7d001;}});}async function handleBulkUpdateQuizSettings(){const _0x302fa2=_0x473ef4,_0x4430f1={'shuffle':document[_0x302fa2(0x7eb)](_0x302fa2(0x5e0))[_0x302fa2(0x53d)],'resultsDisplay':document[_0x302fa2(0x7eb)](_0x302fa2(0xb56))[_0x302fa2(0x53d)],'loopUntilPass':document[_0x302fa2(0x7eb)](_0x302fa2(0x252))[_0x302fa2(0x5b1)],'isConfidenceScoringEnabled':document[_0x302fa2(0x7eb)]('bulk-confidence-scoring-checkbox')[_0x302fa2(0x5b1)],'confidenceMode':document['getElementById']('bulk-confidence-mode-select')[_0x302fa2(0x53d)]};try{showMessage(_0x302fa2(0x81e));const _0x36a7e9=await getDocs(collection(db,_0x302fa2(0x41a)+appId+_0x302fa2(0x3c1))),_0x429149=_0x36a7e9[_0x302fa2(0x48b)][_0x302fa2(0xa3b)](_0x2f20a0=>({'id':_0x2f20a0['id'],'data':_0x2f20a0[_0x302fa2(0x1e4)]()})),_0x99ade5=_0x429149[_0x302fa2(0x373)];showConfirmation(_0x302fa2(0x8b8)+_0x99ade5+'\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้',async()=>{const _0x2bb2f0=_0x302fa2,_0x38b760=document[_0x2bb2f0(0x7eb)](_0x2bb2f0(0x7e4));_0x38b760[_0x2bb2f0(0x744)]=!![],_0x38b760[_0x2bb2f0(0xbec)]=_0x2bb2f0(0x39a);try{const _0x5f1359=writeBatch(db);_0x429149[_0x2bb2f0(0xb15)](_0x1eba51=>{const _0x24e71d=_0x2bb2f0,_0x26c490=doc(db,_0x24e71d(0x41a)+appId+_0x24e71d(0x3c1),_0x1eba51['id']),_0x513586={..._0x1eba51['data'][_0x24e71d(0xb37)]||{},..._0x4430f1};_0x5f1359[_0x24e71d(0x94d)](_0x26c490,{'settings':_0x513586});}),await _0x5f1359[_0x2bb2f0(0x5f4)](),document[_0x2bb2f0(0x7eb)](_0x2bb2f0(0xa1f))[_0x2bb2f0(0xc3c)][_0x2bb2f0(0x4ad)](_0x2bb2f0(0xcb0)),showMessage(_0x2bb2f0(0xbb5)+_0x99ade5+_0x2bb2f0(0x76c));}catch(_0x400577){console[_0x2bb2f0(0x2b8)]('Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):',_0x400577),showMessage(_0x2bb2f0(0xba6));}finally{_0x38b760[_0x2bb2f0(0x744)]=![],_0x38b760[_0x2bb2f0(0xbec)]=_0x2bb2f0(0x2eb);}});}catch(_0x6fe861){console['error'](_0x302fa2(0x3a4),_0x6fe861),showMessage('เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด');}}async function handleSaveProjectName(){const _0x570a62=_0x473ef4,_0x485a7e=document[_0x570a62(0x7eb)](_0x570a62(0x470)),_0x88841=document['getElementById']('save-project-name-btn'),_0x5a0f78=_0x485a7e[_0x570a62(0xc95)][_0x570a62(0xa7e)]();if(!_0x5a0f78||!currentProjectId){showMessage(_0x570a62(0x51a)),_0x485a7e[_0x570a62(0xc95)]=currentProjectData['projectName'];return;}_0x88841[_0x570a62(0x744)]=!![],_0x88841[_0x570a62(0xbec)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{const _0x4e194d=doc(db,_0x570a62(0x41a)+appId+_0x570a62(0xd51),currentProjectId);await updateDoc(_0x4e194d,{'projectName':_0x5a0f78}),currentProjectData&&(currentProjectData[_0x570a62(0x29c)]=_0x5a0f78),showMessage('เปลี่ยนชื่อโปรเจคสำเร็จ');}catch(_0x109453){console['error'](_0x570a62(0xcc9),_0x109453),showMessage(_0x570a62(0x7ac)),_0x485a7e['textContent']=currentProjectData[_0x570a62(0x29c)];}finally{_0x88841['classList']['add'](_0x570a62(0xcb0)),_0x88841['disabled']=![],_0x88841[_0x570a62(0xbec)]=_0x570a62(0xc8c);}}function handleGeneratePracticeTest(_0x152935,_0x97550d){const _0x41bc32=_0x473ef4,_0x3ee5b1=document['getElementById'](_0x41bc32(0xa79)),_0x45cd03=document[_0x41bc32(0x7eb)](_0x41bc32(0xbbb)),_0x29516c=document[_0x41bc32(0x7eb)](_0x41bc32(0x87a)),_0x2579ed=document[_0x41bc32(0x7eb)](_0x41bc32(0x901));_0x45cd03[_0x41bc32(0xc95)]=_0x41bc32(0x915)+_0x152935,_0x2579ed['classList'][_0x41bc32(0x4ad)](_0x41bc32(0xcb0)),_0x29516c[_0x41bc32(0xc3c)][_0x41bc32(0x6f9)](_0x41bc32(0xcb0)),_0x3ee5b1[_0x41bc32(0xc3c)]['remove'](_0x41bc32(0xcb0)),generatePracticeTest(_0x152935,_0x97550d)[_0x41bc32(0x529)](_0x1f0de1=>{const _0x5b5ab4=_0x41bc32;console[_0x5b5ab4(0x2b8)](_0x5b5ab4(0xc21),_0x1f0de1),showMessage('ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบสำหรับหัวข้อนี้ได้'),_0x3ee5b1[_0x5b5ab4(0xc3c)]['add'](_0x5b5ab4(0xcb0));});}async function generatePracticeTest(_0x19e5bd,_0x820ee0){const _0xa16397=_0x473ef4;[_0xa16397(0x812),'memoryContent',_0xa16397(0xcc2),_0xa16397(0xc14)][_0xa16397(0xb15)](_0x14529c=>{const _0x470b5f=_0xa16397,_0x3b346a=document[_0x470b5f(0x7eb)](_0x14529c)[_0x470b5f(0x9d1)];_0x3b346a&&(_0x3b346a[_0x470b5f(0xd84)][_0x470b5f(0xa03)]=_0x470b5f(0x2bc));});try{const _0x17a54d=_0xa16397(0x777),_0x5ce4ac=_0xa16397(0x418)+_0x820ee0+_0xa16397(0xaed)+_0x19e5bd+_0xa16397(0x52e),_0x1814a7=await callGemini(_0x5ce4ac,!![]),_0x1b4f3e=document[_0xa16397(0x7eb)]('lesson-view-title'),_0xa3fbde=document['getElementById'](_0xa16397(0x87a)),_0xf44a30=document[_0xa16397(0x7eb)](_0xa16397(0x901)),_0x233b20=document['getElementById'](_0xa16397(0xcc2))[_0xa16397(0x9d1)];_0x1b4f3e[_0xa16397(0x8f2)]=_0xa16397(0x42b)+_0x19e5bd[_0xa16397(0x7bd)](/•\s/g,'')+_0xa16397(0x5e4)+_0x820ee0+')',currentApplicationData=JSON[_0xa16397(0x3d4)](_0x1814a7);const _0x33580d=document[_0xa16397(0x7eb)](_0xa16397(0xcc2));_0x33580d[_0xa16397(0xbec)]=currentApplicationData[_0xa16397(0xa3b)]((_0x5bcb28,_0x30c057)=>_0xa16397(0x4ba)+(_0x30c057+0x1)+'.\x20'+marked['parseInline'](_0x5bcb28['question'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x30c057+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5bcb28[_0xa16397(0x745)][_0xa16397(0xa3b)]((_0x1438e8,_0x24cd3e)=>_0xa16397(0xd13)+_0x30c057+',\x20'+_0x24cd3e+_0xa16397(0xd87)+String['fromCharCode'](0x61+_0x24cd3e)+'.\x20'+marked[_0xa16397(0x28b)](_0x1438e8)+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xa16397(0xaa2)]('')+_0xa16397(0x5a0))[_0xa16397(0xaa2)](''),window[_0xa16397(0x5f9)]&&MathJax[_0xa16397(0x93d)]([_0x33580d]),_0x233b20&&(_0x233b20['style'][_0xa16397(0xa03)]=_0xa16397(0x7b5)),_0xa3fbde['classList'][_0xa16397(0x4ad)](_0xa16397(0xcb0)),_0xf44a30[_0xa16397(0xc3c)][_0xa16397(0x6f9)]('hidden');}catch(_0x11ce8f){console[_0xa16397(0x2b8)](_0x11ce8f);throw _0x11ce8f;}}async function callGemini(_0x110774,_0xb32700=![]){const _0xb47f97=_0x473ef4,_0x468750=_0xb47f97(0x3a0),_0x345f43=_0xb47f97(0x60a)+_0x468750,_0x896c89={'contents':[{'parts':[{'text':_0x110774}]}]};_0xb32700&&(_0x896c89[_0xb47f97(0x241)]={'responseMimeType':_0xb47f97(0x5ee)},_0x110774[_0xb47f97(0x3b1)](_0xb47f97(0x7f6))?_0x896c89[_0xb47f97(0x241)][_0xb47f97(0x4dc)]={'type':_0xb47f97(0x7b6),'properties':{'gradeLevel':{'type':'STRING'},'curriculum':{'type':_0xb47f97(0x440),'items':{'type':_0xb47f97(0x7b6),'properties':{'sara':{'type':'STRING'},'mainTopics':{'type':'ARRAY','items':{'type':_0xb47f97(0x7b6),'properties':{'topicName':{'type':_0xb47f97(0x4ed)},'subTopics':{'type':_0xb47f97(0x440),'items':{'type':_0xb47f97(0x4ed)}}},'required':[_0xb47f97(0x65f),_0xb47f97(0x6ad)]}}},'required':[_0xb47f97(0x1dc),'mainTopics']}}},'required':['gradeLevel',_0xb47f97(0xac6)]}:_0x896c89['generationConfig']['responseSchema']={'type':_0xb47f97(0x440),'items':{'type':_0xb47f97(0x7b6),'properties':{'question':{'type':_0xb47f97(0x4ed)},'options':{'type':_0xb47f97(0x440),'items':{'type':_0xb47f97(0x4ed)}},'answer':{'type':'NUMBER'}},'required':[_0xb47f97(0x428),_0xb47f97(0x745),_0xb47f97(0x913)]}});try{const _0x4386f1=await fetch(_0x345f43,{'method':_0xb47f97(0xaf8),'headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x896c89)});if(!_0x4386f1['ok']){const _0x447095=await _0x4386f1[_0xb47f97(0x2b3)]();console[_0xb47f97(0x2b8)](_0xb47f97(0xae5),_0x447095);throw new Error(_0xb47f97(0x1fb)+_0x4386f1[_0xb47f97(0x996)]);}const _0x28caf8=await _0x4386f1[_0xb47f97(0x85d)]();if(_0x28caf8[_0xb47f97(0x811)]&&_0x28caf8['candidates'][0x0][_0xb47f97(0x349)]&&_0x28caf8['candidates'][0x0]['content'][_0xb47f97(0xa0d)][0x0])return _0x28caf8[_0xb47f97(0x811)][0x0][_0xb47f97(0x349)][_0xb47f97(0xa0d)][0x0]['text'];else{console[_0xb47f97(0x2b8)](_0xb47f97(0x54d),_0x28caf8);if(_0x28caf8[_0xb47f97(0x811)]&&_0x28caf8['candidates'][0x0][_0xb47f97(0x249)]===_0xb47f97(0x736))return JSON[_0xb47f97(0x36f)]({'error':_0xb47f97(0x88c)});throw new Error(_0xb47f97(0x608));}}catch(_0x56b82e){console[_0xb47f97(0x2b8)](_0xb47f97(0xd12),_0x56b82e);throw _0x56b82e;}}async function generateLesson(_0x2cd123=null,_0x53456f=null){const _0x4db34d=_0x473ef4,_0x3e2f1a=_0x2cd123,_0x1ebb7b=_0x53456f||_0x4db34d(0x954),_0x35f6c9=document[_0x4db34d(0x7eb)](_0x4db34d(0x87a)),_0x2f263d=document[_0x4db34d(0x7eb)](_0x4db34d(0xa8f));_0x2f263d['textContent']=_0x4db34d(0xbb8)+_0x3e2f1a+_0x4db34d(0x8f3);try{let _0x555f00=[];const _0x39b8e0=document[_0x4db34d(0x7eb)](_0x4db34d(0xa84))?.['value'][_0x4db34d(0xa7e)]();if(_0x39b8e0)try{_0x2f263d[_0x4db34d(0xc95)]=_0x4db34d(0x6fb);const _0x231c8d=await fetchFileFromUrl(_0x39b8e0,_0x4db34d(0x8c3)),_0x842a3d=await new Promise((_0xf42b80,_0x210a22)=>{const _0x2234f4=_0x4db34d,_0x492845=new FileReader();_0x492845[_0x2234f4(0x8be)](_0x231c8d),_0x492845[_0x2234f4(0x8d0)]=()=>_0xf42b80(_0x492845[_0x2234f4(0xc30)][_0x2234f4(0x5db)](',')[0x1]),_0x492845[_0x2234f4(0x9a3)]=_0x210a22;});_0x555f00[_0x4db34d(0x526)]({'inlineData':{'mimeType':_0x231c8d['type'],'data':_0x842a3d}});}catch(_0x2aa22d){console[_0x4db34d(0x2b8)](_0x4db34d(0x852),_0x2aa22d),showMessage(_0x4db34d(0x728));}const _0xee83c1=_0x4db34d(0x3f0)+_0x3e2f1a+_0x4db34d(0x3af)+_0x3e2f1a+_0x4db34d(0xb88);_0x2f263d['textContent']='AI\x20กำลังสร้างบทเรียนเรื่อง\x20\x22'+_0x3e2f1a+'\x22...';const _0x5e80cb=_0x4db34d(0x588)+_0x1ebb7b+_0x4db34d(0xaed)+_0x3e2f1a+_0x4db34d(0x45d)+_0xee83c1+_0x4db34d(0x8ac),_0x1ac651='สำหรับหัวข้อ\x20\x27'+_0x3e2f1a+_0x4db34d(0x8bf)+_0x1ebb7b+_0x4db34d(0x598)+_0xee83c1+_0x4db34d(0x71a),_0x265c46=_0x4db34d(0x418)+_0x1ebb7b+'\x27\x20ในหัวข้อ\x20\x27'+_0x3e2f1a+'\x27\x20สำหรับส่วน\x20\x27APPLICATION\x27.\x20'+_0xee83c1+_0x4db34d(0x2f5),_0xdfcb1d='สร้างเนื้อหาสรุปภาพรวมทั้งหมดของหัวข้อ\x20\x27'+_0x3e2f1a+_0x4db34d(0xce9)+_0x1ebb7b+_0x4db34d(0x651)+_0xee83c1+_0x4db34d(0x8e1),_0x536ccd={'type':_0x4db34d(0x440),'items':{'type':'OBJECT','properties':{'question':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x4db34d(0x4ed)}},'answer':{'type':'NUMBER'}},'required':['question','options',_0x4db34d(0x913)]}},[_0xcf31c2,_0x54536b,_0x5df691,_0x178c2f]=await Promise[_0x4db34d(0x61c)]([handleApiCall([{'text':_0x5e80cb},..._0x555f00],_0x4db34d(0x822),null,null,![]),handleApiCall([{'text':_0x1ac651},..._0x555f00],'...',null,null,![]),handleApiCall([{'text':_0x265c46},..._0x555f00],_0x4db34d(0x822),_0x536ccd,null,![]),handleApiCall([{'text':_0xdfcb1d},..._0x555f00],_0x4db34d(0x822),null,null,![])]),_0x442b80=JSON[_0x4db34d(0x36f)](_0x5df691||[]),_0x137a8f=document[_0x4db34d(0x7eb)](_0x4db34d(0xbbb)),_0x3be0b3=document[_0x4db34d(0x7eb)](_0x4db34d(0x901));_0x137a8f[_0x4db34d(0x8f2)]=_0x4db34d(0x47a)+_0x3e2f1a[_0x4db34d(0x7bd)](/•\\s/g,'')+_0x4db34d(0x5e4)+_0x1ebb7b+')',[_0x4db34d(0x812),'memoryContent','summaryContent']['forEach'](_0xdad844=>{const _0x515796=_0x4db34d;document['getElementById'](_0xdad844)[_0x515796(0xbec)]='';}),document[_0x4db34d(0x7eb)]('pointContent')['innerHTML']=_0xcf31c2?marked[_0x4db34d(0x3d4)](_0xcf31c2):_0x4db34d(0xc4c),document['getElementById'](_0x4db34d(0xd5e))[_0x4db34d(0xbec)]=_0x54536b?marked[_0x4db34d(0x3d4)](_0x54536b):_0x4db34d(0xc4c),document[_0x4db34d(0x7eb)](_0x4db34d(0xc14))[_0x4db34d(0xbec)]=_0x178c2f?marked[_0x4db34d(0x3d4)](_0x178c2f):_0x4db34d(0xc4c),currentApplicationData=JSON[_0x4db34d(0x3d4)](_0x442b80);const _0x2fe9a3=document[_0x4db34d(0x7eb)](_0x4db34d(0xcc2));_0x2fe9a3[_0x4db34d(0xbec)]=(currentApplicationData||[])[_0x4db34d(0xa3b)]((_0x3a8b96,_0x29aa24)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-question\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x29aa24+0x1)+'.\x20'+marked[_0x4db34d(0x28b)](_0x3a8b96['question']||'')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22application-options\x20mt-2\x22\x20id=\x22q'+_0x29aa24+'-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3a8b96[_0x4db34d(0x745)]||[])[_0x4db34d(0xa3b)]((_0x3e61c0,_0x36982c)=>_0x4db34d(0xd13)+_0x29aa24+',\x20'+_0x36982c+')\x22>'+String[_0x4db34d(0xbb3)](0x61+_0x36982c)+'.\x20'+marked[_0x4db34d(0x28b)](_0x3e61c0||'')+_0x4db34d(0x301))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4db34d(0xaa2)]('')||'<p\x20class=\x22text-red-500\x22>ไม่สามารถสร้างแบบทดสอบได้</p>',window[_0x4db34d(0x5f9)]&&MathJax['typesetPromise']([_0x3be0b3]),_0x35f6c9[_0x4db34d(0xc3c)]['add'](_0x4db34d(0xcb0)),_0x3be0b3['classList']['remove'](_0x4db34d(0xcb0));}catch(_0x26a6db){console[_0x4db34d(0x2b8)](_0x26a6db);throw _0x26a6db;}}function checkAnswer(_0xe578a1,_0x167716){const _0x2d0dc0=_0x473ef4,_0xdf6f4d=currentApplicationData[_0xe578a1],_0x2ee6c7=document[_0x2d0dc0(0x7eb)]('q'+_0xe578a1+_0x2d0dc0(0x97c)),_0x24cd11=_0x2ee6c7['getElementsByTagName']('button');for(let _0x3d9a16 of _0x24cd11){_0x3d9a16[_0x2d0dc0(0x744)]=!![];}_0x167716===_0xdf6f4d[_0x2d0dc0(0x913)]?_0x24cd11[_0x167716]['classList'][_0x2d0dc0(0x4ad)]('correct'):(_0x24cd11[_0x167716][_0x2d0dc0(0xc3c)][_0x2d0dc0(0x4ad)](_0x2d0dc0(0x315)),_0x24cd11[_0xdf6f4d[_0x2d0dc0(0x913)]][_0x2d0dc0(0xc3c)][_0x2d0dc0(0x4ad)](_0x2d0dc0(0x79f)));}window[_0x473ef4(0x7b8)]=handleGenerateAndShowLesson,window[_0x473ef4(0x826)]=checkAnswer,window[_0x473ef4(0x7be)]=handleGeneratePracticeTest,window[_0x473ef4(0xae8)]=handleGenerateQuizFromBlueprintTopic;async function initialize(){const _0x25c3cb=_0x473ef4;try{const _0x3be5e8=initializeApp(firebaseConfig);db=getFirestore(_0x3be5e8),auth=getAuth(_0x3be5e8),setupAuthListener(),setupEventListeners(),showView(_0x25c3cb(0xb9c)),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession(),listenForFileShortcuts(),listenForParallelTestShortcuts();}catch(_0x54ddd0){console[_0x25c3cb(0x2b8)]('Firebase\x20initialization\x20failed:',_0x54ddd0),showMessage(_0x25c3cb(0x685));}}async function handleVerifyAnswersInEditor(){const _0x505f77=_0x473ef4,_0x450d6f=document[_0x505f77(0x7eb)]('quiz-editor-modal');if(!_0x450d6f)return;const _0xfa9ba8=document[_0x505f77(0x7eb)]('verify-answers-editor-btn');_0xfa9ba8[_0x505f77(0x744)]=!![],_0xfa9ba8[_0x505f77(0xbec)]=_0x505f77(0xc51);try{const _0x380c3f=_0x450d6f[_0x505f77(0x89b)](_0x505f77(0x30c)),_0x13404e=Array['from'](_0x380c3f)[_0x505f77(0xa3b)]((_0x57ad29,_0x4fb2d3)=>{const _0x58272c=_0x505f77,_0x4b3bbc=_0x57ad29['dataset'][_0x58272c(0xa5e)],_0x48222f=_0x57ad29[_0x58272c(0x6ea)]('textarea')[_0x58272c(0x53d)];let _0x326b87=null,_0x2b34e6='';switch(_0x4b3bbc){case'multiple_choice':const _0x313b67=_0x57ad29['querySelectorAll']('input[type=\x22text\x22]');_0x326b87=Array[_0x58272c(0x71b)](_0x313b67)[_0x58272c(0xa3b)](_0x1dd8b8=>_0x1dd8b8['value']);const _0x27b5dd=_0x57ad29['querySelector']('input[type=\x22radio\x22]:checked');_0x27b5dd&&(_0x2b34e6=_0x326b87[parseInt(_0x27b5dd[_0x58272c(0x53d)])]);break;case _0x58272c(0x314):_0x326b87=[],_0x2b34e6=_0x57ad29[_0x58272c(0x6ea)]('.ideal-answer-input')['value'];break;case _0x58272c(0x84f):_0x326b87=[_0x58272c(0xc45),_0x58272c(0x2aa)];const _0x3e5f31=_0x57ad29[_0x58272c(0x6ea)](_0x58272c(0x47f));_0x2b34e6=_0x3e5f31?_0x3e5f31['value']:'';break;case _0x58272c(0xac9):_0x326b87=[],_0x2b34e6=_0x57ad29[_0x58272c(0x6ea)](_0x58272c(0x7a4))[_0x58272c(0x53d)];break;}return{'question':_0x48222f,'options':_0x326b87,'proposedAnswer':_0x2b34e6};}),_0x53f70a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อใน\x20JSON\x20array\x20ที่ส่งมา\x20ให้ทำตามขั้นตอนดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์\x20\x22question\x22\x20และ\x20\x22proposedAnswer\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สถานการณ์\x20A:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับ\x20\x22question\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สถานการณ์\x20B:**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20แต่คำตอบที่ถูกต้อง\x20\x22มีอยู่แล้ว\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20true,\x20และ\x20\x22suggestedAnswer\x22:\x20(ข้อความของคำตอบที่ถูกต้อง)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20**สถานการณ์\x20C\x20(สำคัญที่สุด):**\x20ถ้า\x20\x22proposedAnswer\x22\x20ผิด\x20และคำตอบที่ถูกต้อง\x20\x22ไม่มีเลย\x22\x20ใน\x20\x22options\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20ให้ตอบ\x20\x22isCorrect\x22:\x20false,\x20\x22correctOptionExists\x22:\x20false\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20->\x20และให้สร้าง\x20\x22newOptionsPayload\x22\x20ขึ้นมาใหม่ทั้งหมด\x20โดยมี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newOptions\x22:\x20(array\x20of\x20strings)\x20ชุดตัวเลือกใหม่\x204\x20ตัว\x20ที่มี\x201\x20คำตอบที่ถูกต้อง\x20และ\x203\x20ตัวลวงที่สมเหตุสมผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22newCorrectIndex\x22:\x20(number)\x20ตำแหน่ง\x20(0-3)\x20ของคำตอบที่ถูกต้องใน\x20\x22newOptions\x22\x20ที่คุณเพิ่งสร้าง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20'+JSON[_0x505f77(0x36f)](_0x13404e)+_0x505f77(0x670),_0x1ff91c={'type':_0x505f77(0x440),'items':{'type':_0x505f77(0x7b6),'properties':{'questionIndex':{'type':_0x505f77(0xb6b)},'isCorrect':{'type':_0x505f77(0xa5c)},'justification':{'type':'STRING'},'correctOptionExists':{'type':_0x505f77(0xa5c)},'suggestedAnswer':{'type':_0x505f77(0x4ed)},'newOptionsPayload':{'type':_0x505f77(0x7b6),'properties':{'newOptions':{'type':_0x505f77(0x440),'items':{'type':_0x505f77(0x4ed)}},'newCorrectIndex':{'type':_0x505f77(0xb6b)}}}},'required':['questionIndex','isCorrect',_0x505f77(0xaa1)]}},_0x395975=await callAnalysisApi(_0x53f70a,{'type':_0x505f77(0x7b6),'properties':{'result':_0x1ff91c},'required':[_0x505f77(0xc30)]});displayVerificationResultsInEditor(_0x395975[_0x505f77(0xc30)]);}catch(_0x44eb3e){console[_0x505f77(0x2b8)](_0x505f77(0xd0d),_0x44eb3e),showMessage(_0x505f77(0xa7c));}finally{_0xfa9ba8[_0x505f77(0x744)]=![],_0xfa9ba8[_0x505f77(0xbec)]=_0x505f77(0x8e0);}}function displayVerificationResultsInEditor(_0x1c67bd){const _0x3fa7a9=_0x473ef4;_0x1c67bd[_0x3fa7a9(0xb15)](_0x25bd97=>{const _0xe38913=_0x3fa7a9,_0x4f00d8=document['querySelector'](_0xe38913(0x2ea)+_0x25bd97[_0xe38913(0x350)]+'\x22]');if(!_0x4f00d8)return;const _0x22762b=_0x4f00d8['querySelector'](_0xe38913(0x746));if(_0x22762b)_0x22762b['remove']();let _0x597c79='';if(_0x25bd97[_0xe38913(0x613)]&&_0x25bd97[_0xe38913(0x613)][_0xe38913(0xc53)]){const _0x12b3ba=_0x25bd97[_0xe38913(0x613)][_0xe38913(0xc53)],_0x5be17a=_0x25bd97[_0xe38913(0x613)]['newCorrectIndex'],_0x4dd94c=_0x4f00d8[_0xe38913(0x6e9)][_0xe38913(0xa5e)];if(_0x4dd94c==='multiple_choice'){const _0x19b22b=_0x4f00d8['querySelectorAll'](_0xe38913(0x62e));_0x19b22b[_0xe38913(0xb15)]((_0x14a4ba,_0x5ef88c)=>{const _0x36d3bc=_0xe38913;_0x12b3ba[_0x5ef88c]?_0x14a4ba[_0x36d3bc(0x53d)]=_0x12b3ba[_0x5ef88c]:_0x14a4ba['value']=_0x36d3bc(0x771);});const _0x45a2ba=_0x4f00d8[_0xe38913(0x6ea)]('input[type=\x22radio\x22][value=\x22'+_0x5be17a+'\x22]');_0x45a2ba&&(_0x45a2ba[_0xe38913(0x5b1)]=!![]),_0x597c79=_0xe38913(0x38f),_0x4f00d8[_0xe38913(0xc3c)][_0xe38913(0x4ad)](_0xe38913(0xba2),_0xe38913(0xa07),_0xe38913(0x2db)),setTimeout(()=>{const _0x47ffba=_0xe38913;_0x4f00d8[_0x47ffba(0xc3c)][_0x47ffba(0x6f9)](_0x47ffba(0xba2));},0x9c4);}}else{if(!_0x25bd97['isCorrect']&&_0x25bd97[_0xe38913(0xa34)]){const _0x2b4c14=_0x25bd97[_0xe38913(0xa34)]?_0xe38913(0x5a3):'';_0x597c79=_0xe38913(0xb46)+_0x2b4c14+_0xe38913(0xa5f)+_0x25bd97[_0xe38913(0xaa1)]+_0xe38913(0x9fc)+(_0x25bd97[_0xe38913(0xa34)]?_0xe38913(0x36b)+_0x25bd97['suggestedAnswer']+_0xe38913(0xc65):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';const _0x3a5915=_0x4f00d8[_0xe38913(0x6e9)][_0xe38913(0xa5e)],_0x2acfcf=_0x2d260f=>{const _0x3b94ee=_0xe38913;if(!_0x2d260f)return;_0x2d260f['classList']['add']('bg-green-200',_0x3b94ee(0xa07),_0x3b94ee(0x2db)),setTimeout(()=>{const _0x59ad79=_0x3b94ee;_0x2d260f[_0x59ad79(0xc3c)][_0x59ad79(0x6f9)](_0x59ad79(0x4aa));},0x9c4);};if(_0x3a5915==='multiple_choice'){const _0x215d5e=Array[_0xe38913(0x71b)](_0x4f00d8[_0xe38913(0x89b)](_0xe38913(0x62e))),_0x3a7c12=_0x215d5e[_0xe38913(0x416)](_0x56d78b=>_0x56d78b[_0xe38913(0x53d)][_0xe38913(0xa7e)]()[_0xe38913(0x9f4)]()===_0x25bd97[_0xe38913(0xa34)][_0xe38913(0xa7e)]()[_0xe38913(0x9f4)]());if(_0x3a7c12!==-0x1){const _0x3a4055=_0x4f00d8[_0xe38913(0x6ea)](_0xe38913(0x5bc)+_0x3a7c12+'\x22]');_0x3a4055&&(_0x3a4055['checked']=!![],_0x2acfcf(_0x3a4055[_0xe38913(0xba1)](_0xe38913(0x4dd))));}}else{if(_0x3a5915===_0xe38913(0x314)||_0x3a5915===_0xe38913(0xac9)){const _0x114b5c=_0x4f00d8[_0xe38913(0x6ea)](_0xe38913(0xd08));_0x114b5c&&(_0x114b5c[_0xe38913(0x53d)]=_0x25bd97[_0xe38913(0xa34)],_0x2acfcf(_0x114b5c));}else{if(_0x3a5915===_0xe38913(0x84f)){const _0xe99181=_0x25bd97[_0xe38913(0xa34)]['trim']()[_0xe38913(0x9f4)](),_0x4dda15=_0x4f00d8[_0xe38913(0x6ea)](_0xe38913(0x5bc)+_0xe99181+'\x22]');_0x4dda15&&(_0x4dda15[_0xe38913(0x5b1)]=!![],_0x2acfcf(_0x4dda15['closest'](_0xe38913(0x4dd))));}}}}else _0x25bd97['isCorrect']&&(_0x597c79='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');}_0x4f00d8[_0xe38913(0xc77)](_0xe38913(0x658),_0x597c79);}),showMessage(_0x3fa7a9(0x5f0));}async function handleVerifyAnswers(){const _0x484960=_0x473ef4;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x484960(0xb82));return;}const _0x355744=document['getElementById']('verify-answers-btn');_0x355744[_0x484960(0x744)]=!![],_0x355744[_0x484960(0xbec)]=_0x484960(0xc51);try{const _0x20a0c4=currentQuizData[_0x484960(0x3dd)][_0x484960(0xa3b)]((_0xf70733,_0x5c67e1)=>{const _0x15d6c9=_0x484960;let _0x96ccae='';const _0xce4713=_0xf70733[_0x15d6c9(0x22d)]||currentQuizData[_0x15d6c9(0x3d3)];switch(_0xce4713){case'multiple_choice':_0x96ccae=_0xf70733[_0x15d6c9(0x745)][_0xf70733[_0x15d6c9(0xb8c)]];break;case _0x15d6c9(0x314):_0x96ccae=_0xf70733[_0x15d6c9(0x8f5)];break;case _0x15d6c9(0x84f):_0x96ccae=_0xf70733[_0x15d6c9(0x8ae)][_0x15d6c9(0xc07)]();break;case _0x15d6c9(0xac9):_0x96ccae=_0xf70733[_0x15d6c9(0xc73)];break;}return{'question':_0xf70733[_0x15d6c9(0xd03)]||_0xf70733[_0x15d6c9(0x837)],'options':_0xf70733['options']||null,'proposedAnswer':_0x96ccae};}),_0x568c9e=_0x484960(0xb2c)+JSON[_0x484960(0x36f)](_0x20a0c4)+_0x484960(0x7d6),_0x5dc2d0={'type':'ARRAY','items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x484960(0xb6b)},'isCorrect':{'type':'BOOLEAN'},'justification':{'type':'STRING'},'suggestedAnswer':{'type':_0x484960(0x4ed)}},'required':[_0x484960(0x350),_0x484960(0x95d),_0x484960(0xaa1)]}},_0x319f51=await callAnalysisApi(_0x568c9e,{'type':_0x484960(0x7b6),'properties':{'result':_0x5dc2d0},'required':[_0x484960(0xc30)]});displayVerificationResults(_0x319f51['result']);}catch(_0x6d27db){console['error'](_0x484960(0x898),_0x6d27db),showMessage(_0x484960(0xa7c));}finally{_0x355744[_0x484960(0x744)]=![],_0x355744[_0x484960(0xbec)]='<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง';}}function displayVerificationResults(_0x18a523){const _0x4322f2=_0x473ef4;_0x18a523['forEach'](_0x4b5acd=>{const _0x461486=_0x2a86,_0x156090=document['querySelector'](_0x461486(0xa7b)+_0x4b5acd[_0x461486(0x350)]+'\x22]');if(_0x156090){const _0x4e58ed=_0x156090[_0x461486(0x6ea)](_0x461486(0x63b));if(_0x4e58ed)_0x4e58ed[_0x461486(0x6f9)]();let _0x272cea='';_0x4b5acd[_0x461486(0x95d)]?_0x272cea=_0x461486(0x388):_0x272cea=_0x461486(0xcdc)+_0x4b5acd['justification']+_0x461486(0x99d)+(_0x4b5acd[_0x461486(0xa34)]?_0x461486(0x36b)+_0x4b5acd[_0x461486(0xa34)]+_0x461486(0xc65):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x156090['insertAdjacentHTML'](_0x461486(0x658),_0x272cea);}}),showMessage(_0x4322f2(0x5f0));}function compareNumericalAnswers(_0xad98c5,_0x28d995){const _0x3dffea=_0x473ef4,_0x184873=String(_0xad98c5)['replace'](',','.')[_0x3dffea(0x7bd)](/[^\d.-]/g,'')[_0x3dffea(0xa7e)](),_0x1d07ac=String(_0x28d995)[_0x3dffea(0x7bd)](',','.')[_0x3dffea(0x7bd)](/[^\d.-]/g,'')[_0x3dffea(0xa7e)]();if(_0x184873===''||_0x1d07ac==='')return![];const _0x39cf53=parseFloat(_0x184873),_0x6178c0=parseFloat(_0x1d07ac);if(isNaN(_0x39cf53)||isNaN(_0x6178c0))return![];return Math[_0x3dffea(0xcc3)](_0x39cf53-_0x6178c0)<0.001;}function isPotentiallyNumeric(_0x38924c){const _0xb27189=_0x473ef4;if(typeof _0x38924c!==_0xb27189(0x81a)&&typeof _0x38924c!==_0xb27189(0x621))return![];const _0x30b396=String(_0x38924c)[_0xb27189(0x7bd)](',','.')[_0xb27189(0xa7e)]();return _0x30b396!==''&&!isNaN(parseFloat(_0x30b396))&&isFinite(_0x30b396);}async function gradeShortAnswer(_0x4a949e,_0x47ba3d){const _0x5e5dda=_0x473ef4,_0x2bf3a0=_0x47ba3d[_0x5e5dda(0x8f5)],_0x2fdcd5=String(_0x4a949e)['replace'](/\$/g,'')['trim'](),_0x4b1574=String(_0x2bf3a0)['replace'](/\$/g,'')['trim']();if(_0x2fdcd5['toLowerCase']()===_0x4b1574[_0x5e5dda(0x9f4)]())return!![];if(isPotentiallyNumeric(_0x2fdcd5)&&isPotentiallyNumeric(_0x4b1574)){if(compareNumericalAnswers(_0x2fdcd5,_0x4b1574))return!![];}return console['log'](_0x5e5dda(0x8ea)),await gradeShortAnswerWithAI(_0x4a949e,_0x2bf3a0);}async function revealAnswerForAdmin(_0x2820c5,_0x4bc861){const _0x3bbbf6=_0x473ef4,_0x5cf16b=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x5cf16b,{'questionStatus':_0x3bbbf6(0x548)});}function showTop5LeaderboardView(_0x7cc252){const _0x5b903b=_0x473ef4,_0x31562e=Object['values'](_0x7cc252[_0x5b903b(0xaec)]||{})[_0x5b903b(0x514)](_0x253c39=>_0x253c39[_0x5b903b(0x996)]===_0x5b903b(0x3a5));_0x31562e[_0x5b903b(0x4af)]((_0x48540f,_0x1dbc2b)=>_0x1dbc2b[_0x5b903b(0xa94)]-_0x48540f['score']);const _0x5e92b8=_0x31562e[_0x5b903b(0xa80)](0x0,0x5),_0x4cf817='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5e92b8[_0x5b903b(0xa3b)]((_0x2f9bf3,_0x522db2)=>_0x5b903b(0x3c0)+(_0x522db2+0x1)+'.\x20'+(_0x2f9bf3['name']||Object['keys'](_0x7cc252[_0x5b903b(0xaec)])[_0x5b903b(0x712)](_0x25b7ec=>_0x7cc252[_0x5b903b(0xaec)][_0x25b7ec]===_0x2f9bf3))+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>'+_0x2f9bf3[_0x5b903b(0xa94)]+_0x5b903b(0xd42))[_0x5b903b(0xaa2)]('')+_0x5b903b(0xa74)+(_0x7cc252['currentQuestionIndex']+0x1===currentQuizData[_0x5b903b(0x3dd)][_0x5b903b(0x373)]?'สรุปผลสุดท้าย':_0x5b903b(0x5b6))+_0x5b903b(0x4b1);liveGameView[_0x5b903b(0xbec)]=_0x4cf817,document[_0x5b903b(0x7eb)]('goto-next-question-btn')[_0x5b903b(0x5e6)](_0x5b903b(0x732),async()=>{const _0x461c09=_0x5b903b,_0xecff2e=doc(db,_0x461c09(0x41a)+appId+_0x461c09(0xca3),currentLiveGameId),_0x5db50f=_0x7cc252[_0x461c09(0x748)]+0x1;if(_0x5db50f<currentQuizData['questions'][_0x461c09(0x373)]){const _0x5068b3={'currentQuestionIndex':_0x5db50f,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x461c09(0x227)};Object[_0x461c09(0x6e0)](_0x7cc252[_0x461c09(0xaec)])[_0x461c09(0xb15)](_0x54a8f7=>{const _0x581ee0=_0x461c09;_0x5068b3[_0x581ee0(0xd00)+_0x54a8f7+_0x581ee0(0xbd4)]=![];}),await updateDoc(_0xecff2e,_0x5068b3);}else await updateDoc(_0xecff2e,{'status':_0x461c09(0xab6)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x124ead=>{const _0x10062c=_0x2a86;if(_0x124ead){userId=_0x124ead[_0x10062c(0x23c)],userIdDisplay[_0x10062c(0xc95)]=userId;const _0x3d2a6d=await loadUserPreferences();_0x3d2a6d[_0x10062c(0xc46)]&&(document[_0x10062c(0x7eb)](_0x10062c(0x43f))[_0x10062c(0x53d)]=_0x3d2a6d[_0x10062c(0xc46)]);globalDashboardSettings[_0x10062c(0x377)]=_0x3d2a6d[_0x10062c(0x377)]||_0x10062c(0x6b0);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics(),listenForBlueprintShortcuts();}else await authenticateUser();});}async function saveUserPreference(_0x358f7e,_0xd0bfe0){const _0x2860bc=_0x473ef4;if(!userId)return;try{const _0x825995=doc(db,_0x2860bc(0x41a)+appId+_0x2860bc(0x30d)+userId+_0x2860bc(0xa09)),_0x5d935b={};_0x5d935b[_0x358f7e]=_0xd0bfe0,await setDoc(_0x825995,_0x5d935b,{'merge':!![]});}catch(_0x7f5889){console['error']('Error\x20saving\x20user\x20preference:',_0x7f5889);}}async function loadUserPreferences(){const _0x57b234=_0x473ef4;if(!userId)return{};try{const _0x39acf1=doc(db,_0x57b234(0x41a)+appId+'/users/'+userId+_0x57b234(0xa09)),_0x51e519=await getDoc(_0x39acf1);if(_0x51e519[_0x57b234(0x931)]())return _0x51e519[_0x57b234(0x1e4)]();return{};}catch(_0x2c9341){return console[_0x57b234(0x2b8)](_0x57b234(0x3d6),_0x2c9341),{};}}function parseIndentedBlueprint(_0x256ec0){const _0x30c2ca=_0x473ef4,_0x5adcb0=_0x256ec0[_0x30c2ca(0x5db)]('\x0a')[_0x30c2ca(0x514)](_0x4b2c25=>_0x4b2c25['trim']()!==''),_0x28a067=[];let _0x1da237=null,_0x48587d=null;return _0x5adcb0[_0x30c2ca(0xb15)](_0x48fe09=>{const _0xe654d4=_0x30c2ca,_0x387339=_0x48fe09[_0xe654d4(0x3a2)](/^\s*/)[0x0][_0xe654d4(0x373)],_0x227da3=_0x48fe09[_0xe654d4(0xa7e)]();if(_0x387339===0x0)_0x1da237={'sara':_0x227da3,'mainTopics':[]},_0x28a067[_0xe654d4(0x526)](_0x1da237),_0x48587d=null;else{if(_0x387339>0x0&&_0x387339<0x8&&_0x1da237)_0x48587d={'topicName':_0x227da3,'subTopics':[]},_0x1da237[_0xe654d4(0x8e7)][_0xe654d4(0x526)](_0x48587d);else _0x387339>=0x8&&_0x48587d&&_0x48587d[_0xe654d4(0x6ad)][_0xe654d4(0x526)](_0x227da3);}}),{'curriculum':_0x28a067};}async function handleManualBlueprintSave(){const _0x194b5b=_0x473ef4,_0x332dfa=document['getElementById'](_0x194b5b(0x7f9))[_0x194b5b(0x53d)][_0x194b5b(0xa7e)](),_0x21dbc3=document[_0x194b5b(0x7eb)](_0x194b5b(0x6d3))[_0x194b5b(0x53d)][_0x194b5b(0xa7e)](),_0x48ff22=document[_0x194b5b(0x7eb)](_0x194b5b(0x33d))[_0x194b5b(0x53d)];if(!_0x332dfa||!_0x21dbc3||!_0x48ff22){showMessage('กรุณากรอกข้อมูลให้ครบทุกช่อง');return;}const _0x5519cc=parseIndentedBlueprint(_0x48ff22);if(!_0x5519cc[_0x194b5b(0xac6)]||_0x5519cc[_0x194b5b(0xac6)][_0x194b5b(0x373)]===0x0){showMessage(_0x194b5b(0x6cc));return;}const _0x1c9414={};let _0x36de3d=0x0;_0x5519cc[_0x194b5b(0xac6)][_0x194b5b(0xb15)](_0x4ce5e4=>{const _0x304544=_0x194b5b;_0x4ce5e4[_0x304544(0x8e7)][_0x304544(0xb15)](_0x29fe4d=>{const _0x3cc0c3=_0x304544;_0x29fe4d['subTopics'][_0x3cc0c3(0xb15)](_0x58e277=>{const _0xe5964f=_0x3cc0c3,_0x183944=_0xe5964f(0x5b3)+Date[_0xe5964f(0x823)]()+Math['random']()[_0xe5964f(0xc07)](0x24)[_0xe5964f(0x7c6)](0x2,0x9);_0x1c9414[_0x183944]={'sara':_0x4ce5e4['sara'],'mainTopic':_0x29fe4d['topicName'],'subTopic':_0x58e277,'status':_0xe5964f(0x26b),'lessonContent':null,'order':_0x36de3d++};});});});try{const _0x336554=collection(db,'artifacts/'+appId+'/public/data/blueprintProjects');await addDoc(_0x336554,{'projectName':_0x332dfa,'gradeLevel':_0x21dbc3,'topics':_0x1c9414,'createdAt':serverTimestamp()}),showMessage('บันทึกโปรเจค\x20\x22'+_0x332dfa+'\x22\x20สำเร็จ!'),document[_0x194b5b(0x7eb)](_0x194b5b(0xb7e))[_0x194b5b(0xc3c)][_0x194b5b(0x4ad)](_0x194b5b(0xcb0));}catch(_0x21078c){console[_0x194b5b(0x2b8)]('Error\x20saving\x20manual\x20blueprint\x20project:',_0x21078c),showMessage(_0x194b5b(0x4b9));}}function handleClearAllLinksForTopic(_0x2e3da7){const _0x2cc4c8=_0x473ef4;showConfirmation(_0x2cc4c8(0xd4a),async()=>{const _0x1af00a=_0x2cc4c8;try{const _0x3833a9=doc(db,_0x1af00a(0x41a)+appId+_0x1af00a(0x408),currentBlueprintProjectId);await updateDoc(_0x3833a9,{[_0x1af00a(0xc0d)+_0x2e3da7+_0x1af00a(0xc7b)]:[]}),showMessage(_0x1af00a(0x667)),openTopicQuizBank(_0x2e3da7),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x5ee764){console[_0x1af00a(0x2b8)](_0x1af00a(0x5d8),_0x5ee764),showMessage('เกิดข้อผิดพลาดในการล้างการเชื่อมโยง');}});}function showPodiumView(_0x4ed473,_0x5e72c5=_0x473ef4(0xd6a)){const _0x16cc9a=_0x473ef4,_0x504939=Object[_0x16cc9a(0xc98)](_0x4ed473)[_0x16cc9a(0xa3b)](([_0x442fa7,_0x4afb86])=>({'name':_0x442fa7,'score':_0x4afb86[_0x16cc9a(0xa94)]||0x0,'badges':_0x4afb86['badges']||[],'hasPerfectScoreBonus':_0x4afb86[_0x16cc9a(0x711)]||![]}));_0x504939['sort']((_0x4bc457,_0x3af1d6)=>{const _0x4a02cc=_0x16cc9a,_0x454709=_0x3af1d6[_0x4a02cc(0xa94)]-_0x4bc457[_0x4a02cc(0xa94)];if(_0x454709!==0x0)return _0x454709;return(_0x3af1d6[_0x4a02cc(0x294)][_0x4a02cc(0x373)]||0x0)-(_0x4bc457[_0x4a02cc(0x294)][_0x4a02cc(0x373)]||0x0);});const _0x19863d=_0x59bdc4=>{const _0x409ae6=_0x16cc9a;if(!_0x59bdc4||_0x59bdc4[_0x409ae6(0x373)]===0x0)return'';const _0x26564d={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x409ae6(0x870)+_0x59bdc4['map'](_0x44ad0c=>_0x26564d[_0x44ad0c]||'')[_0x409ae6(0xaa2)]('')+_0x409ae6(0x3ab);},_0x582aaa=_0x504939[_0x16cc9a(0xa80)](0x3),_0x3ec4d9=_0x582aaa[_0x16cc9a(0x373)]>0x0?_0x16cc9a(0x4ae)+_0x582aaa[_0x16cc9a(0xa3b)]((_0x34751f,_0x196c5e)=>{const _0xf0cf01=_0x16cc9a,_0x2653e9=_0x34751f[_0xf0cf01(0x711)]?_0xf0cf01(0x46f):'';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>'+(_0x196c5e+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x34751f[_0xf0cf01(0x65c)]+_0xf0cf01(0x3dc)+_0x34751f[_0xf0cf01(0xa94)]+_0xf0cf01(0x59f)+_0x2653e9+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x16cc9a(0xaa2)]('')+_0x16cc9a(0x94f):'',_0x493ac2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x504939[0x1]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x504939[0x1][_0x16cc9a(0x65c)]+'</p>'+_0x19863d(_0x504939[0x1][_0x16cc9a(0x294)])+_0x16cc9a(0x874)+_0x504939[0x1]['score']+_0x16cc9a(0x59f)+(_0x504939[0x1][_0x16cc9a(0x711)]?_0x16cc9a(0xb4a):'')+_0x16cc9a(0x41c):_0x16cc9a(0x55c))+_0x16cc9a(0x670)+(_0x504939[0x0]?_0x16cc9a(0x302)+_0x504939[0x0][_0x16cc9a(0x65c)]+_0x16cc9a(0xc65)+_0x19863d(_0x504939[0x0][_0x16cc9a(0x294)])+'<p\x20class=\x22text-2xl\x22>'+_0x504939[0x0][_0x16cc9a(0xa94)]+_0x16cc9a(0x59f)+(_0x504939[0x0][_0x16cc9a(0x711)]?_0x16cc9a(0xb4a):'')+_0x16cc9a(0x833):_0x16cc9a(0x55c))+_0x16cc9a(0x670)+(_0x504939[0x2]?'<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x504939[0x2][_0x16cc9a(0x65c)]+_0x16cc9a(0xc65)+_0x19863d(_0x504939[0x2][_0x16cc9a(0x294)])+'<p\x20class=\x22text-xl\x22>'+_0x504939[0x2][_0x16cc9a(0xa94)]+'\x20คะแนน\x20'+(_0x504939[0x2][_0x16cc9a(0x711)]?_0x16cc9a(0xb4a):'')+'</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>':'<div\x20class=\x22flex-1\x22></div>')+_0x16cc9a(0x451)+_0x3ec4d9+_0x16cc9a(0xc50)+(currentMode===_0x16cc9a(0x769)?'<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>':'<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>')+_0x16cc9a(0x730);liveGameView[_0x16cc9a(0xbec)]=_0x493ac2,currentMode===_0x16cc9a(0x769)&&document[_0x16cc9a(0x7eb)](_0x16cc9a(0xd06))[_0x16cc9a(0x5e6)](_0x16cc9a(0x732),async()=>{const _0x370ae8=_0x16cc9a;let _0x31bbfc;_0x5e72c5===_0x370ae8(0x3aa)?_0x31bbfc=doc(db,'artifacts/'+appId+_0x370ae8(0x361),currentLiveGameId):_0x31bbfc=doc(db,'artifacts/'+appId+_0x370ae8(0xca3),currentLiveGameId),await deleteDoc(_0x31bbfc);});}function renderSyncSummaryView(_0x47356,_0x921348,_0x1feef8){const _0x2f6b07=_0x473ef4,_0x1fc587=Object[_0x2f6b07(0x63a)](_0x47356[_0x2f6b07(0xaec)]||{}),_0x590fd1=_0x47356[_0x2f6b07(0xd5d)][_0x2f6b07(0x3dd)],_0x167a60=_0x921348[_0x2f6b07(0x22d)]||_0x47356[_0x2f6b07(0xd5d)][_0x2f6b07(0x3d3)];let _0x370412=[];_0x167a60==='true_false'?_0x370412=[_0x2f6b07(0x897),_0x2f6b07(0xbde)]:_0x370412=_0x921348['options']||[];const _0x23dfcb=new Array(_0x370412[_0x2f6b07(0x373)])[_0x2f6b07(0xc79)](0x0),_0x2cf255={};_0x370412[_0x2f6b07(0xb15)]((_0x6becec,_0x57721d)=>{_0x2cf255[_0x57721d]=[];}),Object['entries'](_0x47356['players']||{})[_0x2f6b07(0xb15)](([_0x542f2c,_0x2d612f])=>{const _0x3529df=_0x2f6b07;if(_0x2d612f['status']!==_0x3529df(0x7db)&&_0x2d612f[_0x3529df(0xbdf)]!==undefined&&_0x2d612f[_0x3529df(0xbdf)]!==null){const _0x4d9b50=_0x2d612f[_0x3529df(0xbdf)];_0x2cf255[_0x4d9b50]!==undefined&&(_0x2cf255[_0x4d9b50]['push'](_0x542f2c),_0x23dfcb[_0x4d9b50]++);}});let _0x49833f='';const _0x1295a5=_0x47356[_0x2f6b07(0xd02)]||_0x2f6b07(0xc39),_0xc093ff=_0x47356[_0x2f6b07(0x748)]>=_0x590fd1[_0x2f6b07(0x373)]-0x1;_0x1feef8?_0x1295a5===_0x2f6b07(0xb67)?_0xc093ff?_0x49833f=_0x2f6b07(0x829):_0x49833f=_0x2f6b07(0x2af):_0x49833f=_0x2f6b07(0x7fa):_0x1295a5===_0x2f6b07(0xb67)?_0x49833f=_0x2f6b07(0x61a):_0x49833f=_0x2f6b07(0xcb4);const _0x49ae25=_0x2f6b07(0xd09)+_0x921348[_0x2f6b07(0x837)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x23dfcb[_0x2f6b07(0xa3b)]((_0x2fd2de,_0x3e7c91)=>{const _0x5c6bc8=_0x2f6b07,_0x4e5dfb=_0x2cf255[_0x3e7c91]['length']>0x0?_0x2cf255[_0x3e7c91][_0x5c6bc8(0xaa2)](',\x20'):_0x5c6bc8(0x9f2),_0x509734=_0x5c6bc8(0x34c);return _0x5c6bc8(0x55f)+_0x2fd2de+_0x5c6bc8(0xd31)+_0x509734+_0x5c6bc8(0x9d6)+_0x3e7c91+_0x5c6bc8(0x95b)+_0x370412[_0x3e7c91]+_0x5c6bc8(0x2e3)+_0x3e7c91+_0x5c6bc8(0x341)+_0x4e5dfb+_0x5c6bc8(0x749);})[_0x2f6b07(0xaa2)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x49833f+_0x2f6b07(0x2b5);liveGameView[_0x2f6b07(0xbec)]=_0x49ae25;if(window[_0x2f6b07(0x5f9)])MathJax[_0x2f6b07(0x93d)]();if(_0x1feef8){const _0x44845e=doc(db,_0x2f6b07(0x41a)+appId+_0x2f6b07(0x361),currentLiveGameId);document[_0x2f6b07(0x7eb)](_0x2f6b07(0xc81))?.[_0x2f6b07(0x5e6)]('click',async()=>{const _0x5d1ca6=_0x2f6b07;await updateDoc(_0x44845e,{'status':_0x5d1ca6(0x782)});}),document['getElementById'](_0x2f6b07(0x471))?.[_0x2f6b07(0x5e6)](_0x2f6b07(0x732),()=>{openScratchpad(_0x921348,_0x370412);}),document['getElementById'](_0x2f6b07(0xbfe))?.[_0x2f6b07(0x5e6)](_0x2f6b07(0x732),async()=>{const _0x26abfd=_0x2f6b07,_0x30a4c3=_0x47356['currentQuestionIndex']+0x1,_0x4bf5b1={};Object['keys'](_0x47356[_0x26abfd(0xaec)])[_0x26abfd(0xb15)](_0x1350cb=>{const _0x18d052=_0x26abfd;_0x4bf5b1[_0x18d052(0xd00)+_0x1350cb+_0x18d052(0x6eb)]=![],_0x4bf5b1[_0x18d052(0xd00)+_0x1350cb+_0x18d052(0x997)]=null;}),await updateDoc(_0x44845e,{..._0x4bf5b1,'status':_0x26abfd(0x428),'currentQuestionIndex':_0x30a4c3,'questionDisplayedAt':serverTimestamp()});}),document[_0x2f6b07(0x7eb)]('show-final-results-btn')?.[_0x2f6b07(0x5e6)]('click',async()=>{await updateDoc(_0x44845e,{'status':'results','reviewQuestionIndex':0x0});});}}async function handleShowStudentRankings(){const _0xb5280d=_0x473ef4,_0x5840df=document[_0xb5280d(0x6ea)](_0xb5280d(0x8e3));_0x5840df&&(_0x5840df[_0xb5280d(0xbec)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x2ae361=document['querySelector'](_0xb5280d(0xb52));_0x2ae361&&(_0x2ae361['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20');const _0x3779c4=document['getElementById'](_0xb5280d(0x791));_0x3779c4[_0xb5280d(0xc3c)][_0xb5280d(0x6f9)](_0xb5280d(0xcb0)),document['getElementById'](_0xb5280d(0x9c3))[_0xb5280d(0xa41)]=()=>_0x3779c4[_0xb5280d(0xc3c)][_0xb5280d(0x4ad)](_0xb5280d(0xcb0));const _0x438932=document['getElementById'](_0xb5280d(0x9ea)),_0x2e7add=document[_0xb5280d(0x7eb)](_0xb5280d(0x276)),_0x52e3fe=document[_0xb5280d(0x7eb)](_0xb5280d(0x5bd)),_0x3ab450=document[_0xb5280d(0x7eb)](_0xb5280d(0x309));_0x438932[_0xb5280d(0xa41)]=()=>{const _0x1d1fb8=_0xb5280d;_0x438932[_0x1d1fb8(0xc3c)][_0x1d1fb8(0x4ad)](_0x1d1fb8(0x3a5)),_0x2e7add[_0x1d1fb8(0xc3c)][_0x1d1fb8(0x6f9)](_0x1d1fb8(0x3a5)),_0x52e3fe['classList'][_0x1d1fb8(0x6f9)](_0x1d1fb8(0xcb0)),_0x3ab450[_0x1d1fb8(0xc3c)][_0x1d1fb8(0x4ad)]('hidden');},_0x2e7add[_0xb5280d(0xa41)]=()=>{const _0x269a01=_0xb5280d;_0x2e7add[_0x269a01(0xc3c)][_0x269a01(0x4ad)](_0x269a01(0x3a5)),_0x438932[_0x269a01(0xc3c)][_0x269a01(0x6f9)]('active'),_0x3ab450[_0x269a01(0xc3c)][_0x269a01(0x6f9)](_0x269a01(0xcb0)),_0x52e3fe[_0x269a01(0xc3c)][_0x269a01(0x4ad)](_0x269a01(0xcb0));};try{const _0x98b98a=collection(db,_0xb5280d(0x41a)+appId+_0xb5280d(0x5d9)+currentQuizData['id']+_0xb5280d(0xa06)),_0x571fbf=await getDocs(_0x98b98a),_0xd16ffa=_0x571fbf['docs'][_0xb5280d(0xa3b)](_0x3524df=>_0x3524df['data']());renderQuizLeaderboard(_0xd16ffa,currentQuizData,_0xb5280d(0x7c7));const _0x219749=collection(db,_0xb5280d(0x41a)+appId+'/public/data/projects/'+currentQuizData[_0xb5280d(0x3ba)]+_0xb5280d(0x55e)),_0x5e579e=await getDocs(_0x219749),_0x26dca8=_0x5e579e[_0xb5280d(0x48b)]['map'](_0x281df1=>_0x281df1[_0xb5280d(0x1e4)]());renderLeaderboard(_0x26dca8,'student-project-leaderboard-table-body');}catch(_0x59b343){console['error'](_0xb5280d(0xba9),_0x59b343),showMessage(_0xb5280d(0xac0));}}async function handleSaveToBank(_0x4c32c6){const _0x39abbf=_0x473ef4,_0x417052=_0x4c32c6[_0x39abbf(0xd3c)],_0x976cfc=_0x417052[_0x39abbf(0x6e9)]['index'],_0x41d8b3=currentQuizData[_0x39abbf(0x3dd)][_0x976cfc];if(!userId){showMessage(_0x39abbf(0x49b));return;}try{const _0x23e74b={..._0x41d8b3,'originalTopic':currentQuizData[_0x39abbf(0x2d8)],'savedAt':serverTimestamp()},_0x1193ac=collection(db,_0x39abbf(0x41a)+appId+_0x39abbf(0x30d)+userId+_0x39abbf(0x409));await addDoc(_0x1193ac,_0x23e74b),showMessage(_0x39abbf(0xbc5)),_0x417052[_0x39abbf(0xc3c)][_0x39abbf(0x6f9)](_0x39abbf(0x2f6)),_0x417052['classList']['add'](_0x39abbf(0x7cb)),_0x417052['disabled']=!![];}catch(_0x12810f){console[_0x39abbf(0x2b8)]('Error\x20saving\x20to\x20question\x20bank:',_0x12810f),showMessage(_0x39abbf(0x7ac));}}async function selectProjectAndGenerateBlueprintQuiz(_0x51de33,_0x30b8b1=null,_0x3e1232=null,_0x3282a0=![]){const _0x3de86c=_0x473ef4;cameFromBlueprint=!![];const _0xe3d052=document[_0x3de86c(0x7eb)](_0x3de86c(0xa84))?.[_0x3de86c(0x53d)][_0x3de86c(0xa7e)]();let _0x423cf0=null;if(_0xe3d052){showMessage(_0x3de86c(0x6fb));try{const _0x3192f0=await fetchFileFromUrl(_0xe3d052,_0x3de86c(0x8c3)),_0x3b0205=await new Promise((_0x86d291,_0x1bb112)=>{const _0x355a2d=_0x3de86c,_0x4f98e3=new FileReader();_0x4f98e3[_0x355a2d(0x8be)](_0x3192f0),_0x4f98e3[_0x355a2d(0x8d0)]=()=>_0x86d291(_0x4f98e3[_0x355a2d(0xc30)][_0x355a2d(0x5db)](',')[0x1]),_0x4f98e3[_0x355a2d(0x9a3)]=_0x1bb112;});_0x423cf0=[{'inlineData':{'mimeType':_0x3192f0[_0x3de86c(0x213)],'data':_0x3b0205}}],messageModal[_0x3de86c(0xc3c)]['add'](_0x3de86c(0xcb0));}catch(_0x5a2b29){console[_0x3de86c(0x2b8)](_0x3de86c(0x975),_0x5a2b29),showMessage('ไม่สามารถดึงไฟล์อ้างอิงได้\x20ระบบจะสร้างแบบทดสอบตามปกติ');}}const _0xfeb6d8=document[_0x3de86c(0x7eb)](_0x3de86c(0xd75)),_0x467376=document['getElementById']('move-quiz-project-select'),_0x58a01b=_0xfeb6d8[_0x3de86c(0x6ea)]('h3'),_0x30c80c=document[_0x3de86c(0x7eb)](_0x3de86c(0x247)),_0x5c3408=document[_0x3de86c(0x7eb)](_0x3de86c(0x390));_0x58a01b[_0x3de86c(0xc95)]='เลือกโปรเจคที่จะบันทึกแบบทดสอบ',_0x30c80c['textContent']=_0x3de86c(0x916),_0x30c80c[_0x3de86c(0x744)]=!![];allProjects[_0x3de86c(0x373)]===0x0?_0x467376[_0x3de86c(0xbec)]=_0x3de86c(0xb38):(_0x467376['innerHTML']=_0x3de86c(0xd77)+allProjects[_0x3de86c(0xa3b)](_0x163b06=>'<option\x20value=\x22'+_0x163b06['id']+'\x22>'+_0x163b06['projectName']+_0x3de86c(0xc64))[_0x3de86c(0xaa2)](''),_0x30c80c[_0x3de86c(0x744)]=![]);_0xfeb6d8[_0x3de86c(0xc3c)][_0x3de86c(0x6f9)](_0x3de86c(0xcb0));const _0xcb08b=async()=>{const _0x4f9016=_0x3de86c,_0x23eb08=_0x467376[_0x4f9016(0x53d)];if(!_0x23eb08){showMessage(_0x4f9016(0xc08));return;}_0xfeb6d8[_0x4f9016(0xc3c)][_0x4f9016(0x4ad)]('hidden'),document[_0x4f9016(0x7eb)](_0x4f9016(0xa69))['classList'][_0x4f9016(0x4ad)](_0x4f9016(0xcb0)),await loadProjectDetails(_0x23eb08),showView(_0x4f9016(0x2a6)),handleGenerateQuizFromBlueprintTopic(_0x51de33,_0x30b8b1,_0x23eb08,_0x3e1232,_0x3282a0,_0x423cf0),_0x482be2();},_0x482be2=()=>{const _0x3ef385=_0x3de86c;_0x58a01b[_0x3ef385(0xc95)]='ย้ายแบบทดสอบไปโปรเจคอื่น',_0x30c80c[_0x3ef385(0xc95)]=_0x3ef385(0xc94),_0x30c80c[_0x3ef385(0x39d)](_0x3ef385(0x732),_0xcb08b),_0x5c3408['removeEventListener'](_0x3ef385(0x732),_0x482be2),_0x30c80c[_0x3ef385(0x5e6)](_0x3ef385(0x732),confirmMoveQuiz);};_0x30c80c[_0x3de86c(0x39d)](_0x3de86c(0x732),confirmMoveQuiz),_0x30c80c[_0x3de86c(0x5e6)]('click',_0xcb08b),_0x5c3408['addEventListener'](_0x3de86c(0x732),_0x482be2);}function listenForStarredQuizzes(){const _0xb1193c=_0x473ef4;if(!userId)return;const _0x3f75e9=collection(db,_0xb1193c(0x41a)+appId+_0xb1193c(0x3c1)),_0x38d88d=query(_0x3f75e9,where(_0xb1193c(0x92a),'==',!![]));onSnapshot(_0x38d88d,_0x589325=>{const _0x43feef=_0xb1193c;starredQuizzes=_0x589325[_0x43feef(0x48b)][_0x43feef(0xa3b)](_0x3e4349=>({'id':_0x3e4349['id'],..._0x3e4349[_0x43feef(0x1e4)]()})),currentProjectId===_0x43feef(0x570)?renderQuizzes():renderProjects();},_0x386c29=>{const _0x508928=_0xb1193c;console['error'](_0x508928(0x987),_0x386c29);});}function listenForFileShortcuts(){const _0x213f12=_0x473ef4,_0x4acb8c=doc(db,_0x213f12(0x590),_0x213f12(0x9e2));onSnapshot(_0x4acb8c,_0x45f945=>{const _0x1825cc=_0x213f12;let _0x265cfe=[],_0x38d068=[],_0x243c9e={};if(_0x45f945[_0x1825cc(0x931)]()){const _0x5130c0=_0x45f945[_0x1825cc(0x1e4)]();_0x265cfe=_0x5130c0['shortcuts']||[],_0x38d068=_0x5130c0[_0x1825cc(0xb18)]||[],_0x243c9e=_0x5130c0[_0x1825cc(0x3ac)]||{};}!_0x38d068['find'](_0x936485=>_0x936485['id']===_0x1825cc(0x61c))&&_0x38d068[_0x1825cc(0x262)]({'id':'all','name':_0x1825cc(0x6c3),'isDefault':!![]}),!_0x265cfe[_0x1825cc(0x712)](_0x19869c=>_0x19869c['id']==='file-default-1')&&_0x265cfe[_0x1825cc(0x262)]({'id':_0x1825cc(0xd8c),'name':_0x1825cc(0x2d6),'url':'','isDefault':!![]}),!_0x265cfe[_0x1825cc(0x712)](_0x3953f8=>_0x3953f8['id']===_0x1825cc(0x6d5))&&_0x265cfe[_0x1825cc(0x262)]({'id':_0x1825cc(0x6d5),'name':_0x1825cc(0x299),'url':'','isDefault':!![]}),fileShortcuts=_0x265cfe,fileShortcutTabs=_0x38d068,fileShortcutOrder=_0x243c9e,renderFileShortcuts(),!document[_0x1825cc(0x7eb)](_0x1825cc(0x573))[_0x1825cc(0xc3c)]['contains']('hidden')&&renderAdditionalFileShortcutsModal();});}async function saveFileShortcutConfig(){const _0x5454c7=_0x473ef4,_0x32b749=doc(db,_0x5454c7(0x590),'fileShortcutsConfig');try{await setDoc(_0x32b749,{'fileShortcutTabs':fileShortcutTabs,'fileShortcutOrder':fileShortcutOrder},{'merge':!![]});}catch(_0x1957d7){console[_0x5454c7(0x2b8)](_0x5454c7(0x458),_0x1957d7);}}function renderAdditionalFileShortcutsModal(){const _0x30d3b3=_0x473ef4,_0x5aa0c5=document['getElementById']('file-shortcut-tabs-nav'),_0x32ee1d=document[_0x30d3b3(0x7eb)]('additional-file-shortcuts-list');if(!_0x5aa0c5||!_0x32ee1d)return;_0x5aa0c5[_0x30d3b3(0xbec)]=fileShortcutTabs['map'](_0x4395cf=>{const _0x458d7e=_0x30d3b3,_0x4ae163=_0x4395cf['id']===activeFileShortcutTabId;return _0x458d7e(0x703)+_0x4395cf['id']+_0x458d7e(0x1d8)+(_0x4ae163?_0x458d7e(0xd04):_0x458d7e(0xafe))+_0x458d7e(0x5c3)+_0x4395cf[_0x458d7e(0x65c)]+_0x458d7e(0xadc)+_0x4395cf[_0x458d7e(0x65c)]+_0x458d7e(0x2f7)+(!_0x4395cf['isDefault']?'<button\x20data-tab-id=\x22'+_0x4395cf['id']+_0x458d7e(0x8db):'')+_0x458d7e(0x571);})[_0x30d3b3(0xaa2)]('');const _0x64a3fb=fileShortcutTabs[_0x30d3b3(0x712)](_0x58df15=>_0x58df15['id']===activeFileShortcutTabId);let _0x133d78=_0x64a3fb?.[_0x30d3b3(0x384)]?[...fileShortcuts]:fileShortcuts['filter'](_0x5023b1=>(_0x64a3fb?.[_0x30d3b3(0xcd9)]||[])[_0x30d3b3(0x3b1)](_0x5023b1['id']));const _0x328798=fileShortcutOrder[activeFileShortcutTabId]||[];_0x133d78[_0x30d3b3(0x4af)]((_0x42ba49,_0x56a6f8)=>{const _0xf36ffe=_0x30d3b3,_0x4ee538=_0x328798[_0xf36ffe(0x5ac)](_0x42ba49['id']),_0x1adb97=_0x328798[_0xf36ffe(0x5ac)](_0x56a6f8['id']);return(_0x4ee538===-0x1?Infinity:_0x4ee538)-(_0x1adb97===-0x1?Infinity:_0x1adb97);}),_0x32ee1d[_0x30d3b3(0xbec)]=_0x133d78[_0x30d3b3(0xa3b)](_0xfb17d7=>{const _0xb557f8=_0x30d3b3,_0x3a748f=_0xfb17d7[_0xb557f8(0x633)]?'📄':'🔗',_0x97b951=fileShortcutTabs['filter'](_0x2effab=>!_0x2effab[_0xb557f8(0x384)]),_0x99521c=_0x64a3fb[_0xb557f8(0x384)]&&_0x97b951[_0xb557f8(0x373)]>0x0?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relative\x20inline-block\x20text-left\x20group/dropdown-file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22move-file-shortcut-menu-btn\x20text-gray-500\x20hover:text-blue-700\x20p-1\x20rounded-full\x20text-sm\x22><i\x20class=\x22fas\x20fa-ellipsis-v\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22move-file-shortcut-dropdown\x20origin-top-right\x20absolute\x20right-0\x20mt-2\x20w-48\x20rounded-md\x20shadow-lg\x20bg-white\x20ring-1\x20ring-black\x20ring-opacity-5\x20hidden\x20z-20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22py-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22px-4\x20pt-1\x20pb-2\x20text-xs\x20text-gray-400\x22>เพิ่มไปยังแท็บ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x97b951[_0xb557f8(0xa3b)](_0x2fc468=>_0xb557f8(0x4f7)+_0xfb17d7['id']+'\x22\x20data-target-tab-id=\x22'+_0x2fc468['id']+'\x22>'+_0x2fc468[_0xb557f8(0x65c)]+'</a>')['join']('')+_0xb557f8(0x54e):'';return _0xb557f8(0xd1c)+_0xfb17d7['id']+_0xb557f8(0xc5a)+_0x3a748f+'\x20'+_0xfb17d7[_0xb557f8(0x65c)]+_0xb557f8(0xbe1)+_0xfb17d7['id']+_0xb557f8(0x499)+_0xfb17d7['id']+_0xb557f8(0xb2d)+(!_0xfb17d7[_0xb557f8(0x384)]?_0xb557f8(0x930)+_0xfb17d7['id']+_0xb557f8(0x715):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x64a3fb[_0xb557f8(0x384)]?_0xb557f8(0xb1f)+_0xfb17d7['id']+_0xb557f8(0xbcc):'')+_0xb557f8(0x2b9)+_0x99521c+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x30d3b3(0xaa2)]('')||_0x30d3b3(0x7f1),setupFileShortcutModalEventListeners();}function setupFileShortcutModalEventListeners(){const _0x592f10=_0x473ef4;document[_0x592f10(0x89b)](_0x592f10(0x3cc))['forEach'](_0xffa94f=>{const _0x5179f6=_0x592f10;_0xffa94f[_0x5179f6(0xa41)]=_0x2fb9a0=>{const _0xe7c446=_0x5179f6;activeFileShortcutTabId=_0x2fb9a0[_0xe7c446(0xd3c)][_0xe7c446(0x6e9)]['tabId'],renderAdditionalFileShortcutsModal();},_0xffa94f[_0x5179f6(0x300)]=_0x4229bc=>{const _0x3b4992=_0x5179f6,_0x338367=_0x4229bc['currentTarget'][_0x3b4992(0x6ea)](_0x3b4992(0x6fe));_0x4229bc['currentTarget'][_0x3b4992(0x6ea)](_0x3b4992(0x904))[_0x3b4992(0xc3c)]['add']('hidden'),_0x338367[_0x3b4992(0xc3c)]['remove'](_0x3b4992(0xcb0)),_0x338367[_0x3b4992(0x86f)](),_0x338367[_0x3b4992(0xc78)]();};}),document[_0x592f10(0x89b)]('#file-shortcut-tabs-nav\x20.tab-name-input')[_0x592f10(0xb15)](_0xdd3a61=>{const _0x189312=_0x592f10,_0x16333f=()=>{const _0x530578=_0x2a86,_0x5d20b5=_0xdd3a61[_0x530578(0xba1)]('.file-shortcut-tab-btn')[_0x530578(0x6e9)][_0x530578(0x4bc)],_0x3c8180=fileShortcutTabs[_0x530578(0x712)](_0x3f5181=>_0x3f5181['id']===_0x5d20b5);_0x3c8180&&(_0x3c8180[_0x530578(0x65c)]=_0xdd3a61[_0x530578(0x53d)][_0x530578(0xa7e)]()||_0x3c8180[_0x530578(0x65c)],saveFileShortcutConfig());};_0xdd3a61[_0x189312(0x9f5)]=_0x16333f,_0xdd3a61[_0x189312(0x4a6)]=_0x21054d=>{const _0x2e4f8a=_0x189312;if(_0x21054d[_0x2e4f8a(0x9f9)]===_0x2e4f8a(0xcf5))_0xdd3a61[_0x2e4f8a(0x6db)]();};}),document[_0x592f10(0x89b)](_0x592f10(0xb92))['forEach'](_0x5d69e=>_0x5d69e[_0x592f10(0xa41)]=_0x3a0847=>{const _0x32d094=_0x592f10,_0x2e9a94=_0x3a0847[_0x32d094(0xd3c)][_0x32d094(0x6e9)][_0x32d094(0x4bc)];showConfirmation('คุณแน่ใจว่าต้องการลบแท็บนี้?',()=>{const _0x5a3ea4=_0x32d094;fileShortcutTabs=fileShortcutTabs[_0x5a3ea4(0x514)](_0xcaaa39=>_0xcaaa39['id']!==_0x2e9a94),delete fileShortcutOrder[_0x2e9a94];if(activeFileShortcutTabId===_0x2e9a94)activeFileShortcutTabId=_0x5a3ea4(0x61c);saveFileShortcutConfig();});}),document[_0x592f10(0x89b)](_0x592f10(0x95c))[_0x592f10(0xb15)](_0x554745=>_0x554745[_0x592f10(0xa41)]=_0x344849=>{const _0x4fdf63=_0x592f10;_0x344849[_0x4fdf63(0x82f)]();const {shortcutId:_0x49474d,targetTabId:_0x219c6c}=_0x344849['currentTarget'][_0x4fdf63(0x6e9)],_0x5a6b00=fileShortcutTabs[_0x4fdf63(0x712)](_0xdfd91=>_0xdfd91['id']===_0x219c6c);_0x5a6b00&&!_0x5a6b00[_0x4fdf63(0xcd9)][_0x4fdf63(0x3b1)](_0x49474d)&&(_0x5a6b00['shortcutIds']['push'](_0x49474d),saveFileShortcutConfig());}),document[_0x592f10(0x89b)](_0x592f10(0x2ae))[_0x592f10(0xb15)](_0x14cedb=>_0x14cedb[_0x592f10(0xa41)]=_0x3da728=>{const _0x4ece10=_0x592f10,_0x41d9f9=_0x3da728[_0x4ece10(0xd3c)][_0x4ece10(0x6e9)][_0x4ece10(0x8c0)],_0x18cf75=fileShortcutTabs[_0x4ece10(0x712)](_0x418526=>_0x418526['id']===activeFileShortcutTabId);_0x18cf75&&!_0x18cf75[_0x4ece10(0x384)]&&(_0x18cf75[_0x4ece10(0xcd9)]=_0x18cf75[_0x4ece10(0xcd9)]['filter'](_0x186bc5=>_0x186bc5!==_0x41d9f9),saveFileShortcutConfig());}),document[_0x592f10(0x89b)]('.move-file-shortcut-menu-btn')['forEach'](_0x3aee19=>_0x3aee19[_0x592f10(0xa41)]=_0x9beda=>{const _0x2b3bee=_0x592f10;_0x9beda[_0x2b3bee(0x73d)]();const _0x47d9a5=_0x9beda[_0x2b3bee(0xd3c)]['nextElementSibling'];document[_0x2b3bee(0x89b)](_0x2b3bee(0x502))[_0x2b3bee(0xb15)](_0x287d9f=>_0x287d9f[_0x2b3bee(0xc3c)][_0x2b3bee(0x4ad)](_0x2b3bee(0xcb0))),_0x47d9a5[_0x2b3bee(0xc3c)][_0x2b3bee(0x6f9)]('hidden');});const _0x254b68=document[_0x592f10(0x7eb)]('additional-file-shortcuts-list');let _0x4c588b=null;_0x254b68[_0x592f10(0x807)]=_0x5a83f4=>{const _0x233536=_0x592f10;_0x4c588b=_0x5a83f4[_0x233536(0x8ef)][_0x233536(0xba1)]('.shortcut-list-item');if(_0x4c588b)setTimeout(()=>_0x4c588b[_0x233536(0xc3c)][_0x233536(0x4ad)](_0x233536(0x994)),0x0);},_0x254b68['ondragend']=()=>{const _0x1b1e93=_0x592f10;_0x4c588b&&(_0x4c588b[_0x1b1e93(0xc3c)][_0x1b1e93(0x6f9)]('opacity-50'),_0x4c588b=null);},_0x254b68[_0x592f10(0x740)]=_0xd5c742=>{const _0x27e53f=_0x592f10;_0xd5c742[_0x27e53f(0x82f)]();},_0x254b68['ondrop']=_0xd62230=>{const _0x3d82bd=_0x592f10;_0xd62230[_0x3d82bd(0x82f)]();if(_0x4c588b){const _0x2377e4=[..._0x254b68[_0x3d82bd(0x89b)](_0x3d82bd(0x87f))]['reduce']((_0x3575b4,_0xfc66bc)=>{const _0x24788=_0x3d82bd,_0x1743f6=_0xfc66bc[_0x24788(0x586)](),_0x25d3ff=_0xd62230['clientY']-_0x1743f6[_0x24788(0x54c)]-_0x1743f6[_0x24788(0x395)]/0x2;return _0x25d3ff<0x0&&_0x25d3ff>_0x3575b4[_0x24788(0x9e4)]?{'offset':_0x25d3ff,'element':_0xfc66bc}:_0x3575b4;},{'offset':Number[_0x3d82bd(0x75f)]})[_0x3d82bd(0x4d8)];_0x2377e4==null?_0x254b68[_0x3d82bd(0xae3)](_0x4c588b):_0x254b68[_0x3d82bd(0xc69)](_0x4c588b,_0x2377e4);const _0x586792=[..._0x254b68[_0x3d82bd(0x89b)](_0x3d82bd(0x9d0))]['map'](_0x3d25c0=>_0x3d25c0[_0x3d82bd(0x6e9)][_0x3d82bd(0x8c0)]);fileShortcutOrder[activeFileShortcutTabId]=_0x586792,saveFileShortcutConfig();}};}async function handleAddFileShortcutTab(){const _0x176aee=_0x473ef4,_0x49f50b=prompt(_0x176aee(0x768),_0x176aee(0x305));_0x49f50b&&_0x49f50b[_0x176aee(0xa7e)]()&&(fileShortcutTabs[_0x176aee(0x526)]({'id':'tab_'+Date[_0x176aee(0x823)](),'name':_0x49f50b[_0x176aee(0xa7e)](),'shortcutIds':[]}),await saveFileShortcutConfig());}function renderFileShortcuts(){const _0x5648c2=_0x473ef4,_0x20bd58=document[_0x5648c2(0x7eb)](_0x5648c2(0x20e)),_0x2035c1=document[_0x5648c2(0x7eb)]('additional-file-shortcuts-list'),_0x55104b=document[_0x5648c2(0x7eb)]('file-shortcuts-loading-msg');if(_0x55104b)_0x55104b['classList']['add'](_0x5648c2(0xcb0));if(!_0x20bd58||!_0x2035c1)return;const _0x296dbc=fileShortcuts['slice'](0x0,0x4),_0x248b2d=fileShortcuts['slice'](0x4);_0x20bd58[_0x5648c2(0xbec)]=_0x296dbc[_0x5648c2(0xa3b)](_0xec5a91=>{const _0x57b05c=_0x5648c2,_0x1527e4=_0xec5a91[_0x57b05c(0x633)]&&_0xec5a91[_0x57b05c(0x633)][_0x57b05c(0xa7e)]()!=='',_0x2df563=selectedFile&&selectedFile[_0x57b05c(0x8c0)]===_0xec5a91['id'];let _0xe5512d=_0x57b05c(0xc11),_0x249a00='🔗';if(_0x2df563)_0xe5512d='bg-green-600\x20text-white\x20ring-4\x20ring-green-300',_0x249a00=_0x57b05c(0x354);else _0x1527e4&&(_0xe5512d=_0x57b05c(0x6c8),_0x249a00='📄');const _0x57393a=!_0xec5a91[_0x57b05c(0x384)]?_0x57b05c(0x930)+_0xec5a91['id']+_0x57b05c(0xa73):'';return _0x57b05c(0x2a3)+_0xec5a91['id']+'\x22\x20class=\x22file-shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-6\x20h-24\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20hover:scale-105\x20'+_0xe5512d+_0x57b05c(0xbf4)+_0x249a00+_0x57b05c(0x966)+_0xec5a91['name']+_0x57b05c(0x5e3)+_0xec5a91['id']+'\x22\x20class=\x22edit-file-shortcut-btn\x20absolute\x20bottom-1\x20right-1\x20w-6\x20h-6\x20bg-white/50\x20text-gray-800\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x57393a+_0x57b05c(0x83d);})[_0x5648c2(0xaa2)](''),_0x248b2d[_0x5648c2(0x373)]>0x0&&(_0x20bd58['innerHTML']+=_0x5648c2(0x42e)),_0x248b2d[_0x5648c2(0x373)]>0x0?_0x2035c1['innerHTML']=_0x248b2d['map'](_0x433e5b=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-blue-700\x22>'+(_0x433e5b['url']?'📄':'🔗')+'\x20'+_0x433e5b[_0x5648c2(0x65c)]+_0x5648c2(0x850)+_0x433e5b['id']+_0x5648c2(0x2c8)+_0x433e5b['id']+'\x22\x20class=\x22edit-hidden-file-shortcut-btn\x20bg-yellow-100\x20text-yellow-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-200\x22>แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(!_0x433e5b['isDefault']?_0x5648c2(0x930)+_0x433e5b['id']+_0x5648c2(0x715):'')+_0x5648c2(0x5a0))['join'](''):_0x2035c1[_0x5648c2(0xbec)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function openFileShortcutEditor(_0x250438=null){const _0x5c49cc=_0x473ef4,_0x44d0a7=document[_0x5c49cc(0x7eb)]('file-shortcut-editor-modal'),_0x1e5fd6=document[_0x5c49cc(0x7eb)]('file-shortcut-modal-title'),_0x4bec7d=document[_0x5c49cc(0x7eb)](_0x5c49cc(0x7a2)),_0x337fc7=document[_0x5c49cc(0x7eb)]('file-shortcut-name-input'),_0x5351ab=document[_0x5c49cc(0x7eb)]('file-shortcut-url-input');if(_0x250438){const _0x4110db=fileShortcuts[_0x5c49cc(0x712)](_0x4913dd=>_0x4913dd['id']===_0x250438);if(!_0x4110db)return;_0x1e5fd6[_0x5c49cc(0xc95)]='แก้ไขปุ่มลัดจากไฟล์',_0x4bec7d[_0x5c49cc(0x53d)]=_0x4110db['id'],_0x337fc7[_0x5c49cc(0x53d)]=_0x4110db[_0x5c49cc(0x65c)],_0x5351ab['value']=_0x4110db['url']||'';}else _0x1e5fd6[_0x5c49cc(0xc95)]=_0x5c49cc(0xd5f),_0x4bec7d[_0x5c49cc(0x53d)]='',_0x337fc7[_0x5c49cc(0x53d)]='',_0x5351ab[_0x5c49cc(0x53d)]='';_0x44d0a7[_0x5c49cc(0xc3c)][_0x5c49cc(0x6f9)](_0x5c49cc(0xcb0));}async function saveFileShortcutChanges(){const _0x387a34=_0x473ef4,_0x39f19d=document['getElementById'](_0x387a34(0x7a2))[_0x387a34(0x53d)],_0x429828=document[_0x387a34(0x7eb)](_0x387a34(0x817))[_0x387a34(0x53d)][_0x387a34(0xa7e)](),_0x4676ba=document['getElementById'](_0x387a34(0x885))[_0x387a34(0x53d)][_0x387a34(0xa7e)]();if(!_0x429828){showMessage(_0x387a34(0x723));return;}const _0x2c1b43={'id':_0x39f19d||_0x387a34(0x69a)+Date[_0x387a34(0x823)](),'name':_0x429828,'url':_0x4676ba,'isDefault':_0x39f19d[_0x387a34(0x46a)](_0x387a34(0x965))};let _0x256a69;_0x39f19d?_0x256a69=fileShortcuts['map'](_0x514522=>_0x514522['id']===_0x39f19d?_0x2c1b43:_0x514522):_0x256a69=[...fileShortcuts,_0x2c1b43];try{const _0x3903e2=doc(db,'globalSettings',_0x387a34(0x9e2));await setDoc(_0x3903e2,{'shortcuts':_0x256a69},{'merge':!![]}),document[_0x387a34(0x7eb)](_0x387a34(0xc61))[_0x387a34(0xc3c)][_0x387a34(0x4ad)]('hidden');}catch(_0xe5b789){console[_0x387a34(0x2b8)](_0x387a34(0x39b),_0xe5b789),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}async function handleFileShortcutClick(_0x33804a){const _0x5dd32e=_0x473ef4,_0x397de3=fileShortcuts['find'](_0x47b488=>_0x47b488['id']===_0x33804a);if(!_0x397de3)return;if(!_0x397de3[_0x5dd32e(0x633)]||_0x397de3[_0x5dd32e(0x633)]['trim']()===''){openFileShortcutEditor(_0x33804a);return;}const _0x3c269f=document[_0x5dd32e(0x6ea)]('.file-shortcut-btn[data-id=\x22'+_0x33804a+'\x22]');if(_0x3c269f){const _0x1b331b=_0x3c269f[_0x5dd32e(0xbec)];_0x3c269f[_0x5dd32e(0xbec)]=_0x5dd32e(0x90b),_0x3c269f['disabled']=!![];}document[_0x5dd32e(0x89b)]('.file-shortcut-btn')[_0x5dd32e(0xb15)](_0x5c48fa=>{const _0x120cc2=_0x5dd32e;if(_0x5c48fa[_0x120cc2(0x6e9)]['id']!==_0x33804a)_0x5c48fa[_0x120cc2(0xc3c)][_0x120cc2(0x4ad)](_0x120cc2(0x994),_0x120cc2(0xa66));});try{const _0x49925c=new URL(_0x397de3['url'])[_0x5dd32e(0x83f)],_0x1aa362=_0x49925c[_0x5dd32e(0x1e3)](_0x49925c[_0x5dd32e(0x72c)]('/')+0x1)||(_0x397de3[_0x5dd32e(0x633)][_0x5dd32e(0x3b1)](_0x5dd32e(0x2ee))?_0x5dd32e(0xb55):_0x5dd32e(0xcaa)),_0x280e25=await fetchFileFromUrl(_0x397de3[_0x5dd32e(0x633)],_0x1aa362);_0x280e25[_0x5dd32e(0x8c0)]=_0x33804a,selectedFile=_0x280e25,renderFileShortcuts(),activateFileInputAreaWithLoadedFile(),document['getElementById'](_0x5dd32e(0x90f))[_0x5dd32e(0x9a4)]({'behavior':'smooth','block':_0x5dd32e(0x878)});}catch(_0x28879d){console['error'](_0x5dd32e(0x1f0),_0x28879d),showMessage(_0x5dd32e(0x265)+_0x28879d[_0x5dd32e(0xd7a)]),renderFileShortcuts();}finally{document[_0x5dd32e(0x89b)]('.file-shortcut-btn')[_0x5dd32e(0xb15)](_0x585eb5=>{const _0x4e954c=_0x5dd32e;_0x585eb5['classList']['remove'](_0x4e954c(0x994),_0x4e954c(0xa66)),_0x585eb5[_0x4e954c(0x744)]=![];});}}async function ensureGlobalQuizzesLoaded(){const _0x5bcfc8=_0x473ef4;if(allQuizzesGlobal[_0x5bcfc8(0x373)]>0x0)return;console[_0x5bcfc8(0xc55)](_0x5bcfc8(0x8c8)),showMessage(_0x5bcfc8(0x780));try{const _0x5c5daa=await getDocs(collection(db,_0x5bcfc8(0x41a)+appId+_0x5bcfc8(0x3c1)));allQuizzesGlobal=_0x5c5daa['docs'][_0x5bcfc8(0xa3b)](_0x4aab5e=>({'id':_0x4aab5e['id'],..._0x4aab5e['data']()})),console[_0x5bcfc8(0xc55)](_0x5bcfc8(0xce6)+allQuizzesGlobal[_0x5bcfc8(0x373)]+_0x5bcfc8(0x6f2)),messageModal[_0x5bcfc8(0xc3c)][_0x5bcfc8(0x4ad)](_0x5bcfc8(0xcb0));}catch(_0xc8007a){console[_0x5bcfc8(0x2b8)]('Fatal:\x20Could\x20not\x20fetch\x20global\x20quizzes.',_0xc8007a),messageModal['classList'][_0x5bcfc8(0x4ad)](_0x5bcfc8(0xcb0));throw new Error(_0x5bcfc8(0x820));}}function exportQuizAsWorksheetPDF(){const _0x236f36=_0x473ef4;if(!currentQuizData||!currentQuizData['questions']){showMessage(_0x236f36(0xb41));return;}const _0x4f77b8=currentQuizData,_0x489e74=window['open']('',_0x236f36(0x5d1)),_0x5ef82e=_0x11968a=>String['fromCharCode'](0x41+_0x11968a),_0x13cfee=_0x236f36(0x753)+_0x4f77b8['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x4f77b8['topic']+_0x236f36(0x8d8)+_0x4f77b8[_0x236f36(0x3dd)][_0x236f36(0xa3b)]((_0x8b066b,_0x31055d)=>{const _0x4f8b43=_0x236f36;let _0x12b2a8='';const _0x127f8d=_0x8b066b[_0x4f8b43(0x22d)]||_0x4f77b8[_0x4f8b43(0x3d3)];switch(_0x127f8d){case'multiple_choice':case _0x4f8b43(0x2e9):_0x12b2a8=_0x4f8b43(0x4f8)+_0x8b066b[_0x4f8b43(0x745)][_0x4f8b43(0xa3b)]((_0x3048fd,_0x3a7668)=>_0x4f8b43(0x75e)+_0x5ef82e(_0x3a7668)+'.\x20'+_0x3048fd+_0x4f8b43(0xaf1))[_0x4f8b43(0xaa2)](_0x4f8b43(0x710))+_0x4f8b43(0x3ab);break;case _0x4f8b43(0x84f):_0x12b2a8=_0x4f8b43(0xbb2);break;default:_0x12b2a8=_0x4f8b43(0x873);break;}return _0x4f8b43(0x8b1)+(_0x31055d+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x8b066b[_0x4f8b43(0xd03)]||_0x8b066b['questionText'])+_0x4f8b43(0x472)+(_0x8b066b['imageCode']?_0x4f8b43(0xade)+_0x8b066b[_0x4f8b43(0x675)]+'</div>':'')+_0x4f8b43(0xbd2)+_0x12b2a8+_0x4f8b43(0x7e0);})[_0x236f36(0xaa2)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x489e74[_0x236f36(0xd6d)][_0x236f36(0x754)](_0x13cfee),_0x489e74[_0x236f36(0xd6d)][_0x236f36(0xb43)](),_0x489e74[_0x236f36(0x8d0)]=function(){setTimeout(()=>{const _0x49bc2a=_0x2a86;_0x489e74[_0x49bc2a(0x3ca)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x433f80=_0x473ef4;if(!currentQuizData||!currentQuizData[_0x433f80(0x3dd)]){showMessage(_0x433f80(0xb41));return;}const _0x164406=currentQuizData,_0x266d6b=window[_0x433f80(0x666)]('',_0x433f80(0x5d1)),_0x5892b3=_0x4a9350=>String[_0x433f80(0xbb3)](0x41+_0x4a9350),_0x194827=_0x433f80(0x880)+_0x164406[_0x433f80(0x2d8)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x164406[_0x433f80(0x3dd)][_0x433f80(0xa3b)]((_0x3c8d51,_0x1089d9)=>{const _0x3b02c7=_0x433f80;let _0x218e08='';const _0x122652=_0x3c8d51['questionType']||_0x164406[_0x3b02c7(0x3d3)];switch(_0x122652){case _0x3b02c7(0xcc0):case _0x3b02c7(0x2e9):_0x218e08=_0x3b02c7(0x67e)+_0x3c8d51[_0x3b02c7(0x745)][_0x3b02c7(0xa3b)]((_0x2354d3,_0x375362)=>_0x3b02c7(0x98c)+_0x5892b3(_0x375362)+'.\x20'+_0x2354d3+'</span>')[_0x3b02c7(0xaa2)](_0x3b02c7(0x710))+_0x3b02c7(0x400);break;case _0x3b02c7(0x84f):_0x218e08=_0x3b02c7(0xa8b);break;default:_0x218e08='';break;}return _0x3b02c7(0xb9b)+_0x164406['topic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>'+(_0x1089d9+0x1)+_0x3b02c7(0x798)+(_0x3c8d51[_0x3b02c7(0xd03)]||_0x3c8d51['questionText'])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3c8d51[_0x3b02c7(0x675)]?_0x3b02c7(0x24f)+_0x3c8d51[_0x3b02c7(0x675)]+_0x3b02c7(0x3ab):'')+_0x3b02c7(0xbd2)+_0x218e08+_0x3b02c7(0xccd);})[_0x433f80(0xaa2)]('')+_0x433f80(0x672);_0x266d6b[_0x433f80(0xd6d)]['write'](_0x194827),_0x266d6b[_0x433f80(0xd6d)][_0x433f80(0xb43)](),_0x266d6b['onload']=function(){setTimeout(()=>{_0x266d6b['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x5cb7a7){const _0x1c7f94=_0x473ef4,_0x11a398=doc(db,_0x1c7f94(0x41a)+appId+'/public/data/quizzes',_0x5cb7a7);try{const _0x3fc612=await getDoc(_0x11a398);if(_0x3fc612['exists']()){const _0x13a720=_0x3fc612['data']()[_0x1c7f94(0x92a)]||![];await updateDoc(_0x11a398,{'isStarred':!_0x13a720});}}catch(_0x51ecf9){console['error'](_0x1c7f94(0x53e),_0x51ecf9),showMessage(_0x1c7f94(0x99a));}}async function displayQuestionBank(){const _0x137b5d=_0x473ef4,_0x5f1ce3=document[_0x137b5d(0x7eb)](_0x137b5d(0xbfa));_0x5f1ce3[_0x137b5d(0xbec)]=_0x137b5d(0xc8d);try{const _0x2da4aa=collection(db,_0x137b5d(0x41a)+appId+_0x137b5d(0x30d)+userId+_0x137b5d(0x409)),_0x4f1c76=query(_0x2da4aa),_0x1234f7=await getDocs(_0x4f1c76);if(_0x1234f7[_0x137b5d(0x28f)]){_0x5f1ce3[_0x137b5d(0xbec)]=_0x137b5d(0xc6c);return;}let _0x46142d=_0x1234f7['docs'][_0x137b5d(0xa3b)](_0x58735f=>{const _0x561de7=_0x137b5d,_0x10d3f9=_0x58735f[_0x561de7(0x1e4)](),_0x179398=_0x58735f['id'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27'+JSON[_0x561de7(0x36f)](_0x10d3f9)+_0x561de7(0x8c2)+(_0x10d3f9[_0x561de7(0x837)]||_0x10d3f9[_0x561de7(0xd03)])+_0x561de7(0xbb9)+_0x10d3f9[_0x561de7(0x560)]+_0x561de7(0x3bd);})[_0x137b5d(0xaa2)]('');_0x5f1ce3[_0x137b5d(0xbec)]=_0x137b5d(0x813)+_0x46142d+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x137b5d(0x7eb)](_0x137b5d(0x8c7))[_0x137b5d(0x5e6)](_0x137b5d(0x732),createQuizFromBank);}catch(_0x2ba667){console['error'](_0x137b5d(0x4a4),_0x2ba667),_0x5f1ce3[_0x137b5d(0xbec)]=_0x137b5d(0x50d);}}async function handleExportLessonToPDF(){const _0x1f613a=_0x473ef4,_0xfdaffc=document[_0x1f613a(0x7eb)](_0x1f613a(0x901)),_0x1dbda6=document[_0x1f613a(0x7eb)](_0x1f613a(0xbbb))[_0x1f613a(0xc95)]||_0x1f613a(0x8fb);if(!_0xfdaffc){showMessage(_0x1f613a(0x4ef));return;}const _0x565e5d=window[_0x1f613a(0x666)]('','_blank'),_0x44a3ef=_0x1f613a(0xca9)+_0x1dbda6+_0x1f613a(0xb47)+_0x1dbda6+_0x1f613a(0x72f)+_0xfdaffc[_0x1f613a(0xbec)]+_0x1f613a(0x694);_0x565e5d[_0x1f613a(0xd6d)][_0x1f613a(0x754)](_0x44a3ef),_0x565e5d['document'][_0x1f613a(0xb43)](),_0x565e5d['onload']=function(){setTimeout(()=>{const _0x4e8f0f=_0x2a86;_0x565e5d[_0x4e8f0f(0x3ca)]();},0x7d0);};}function showAdminLiveQuestionView(_0x6e2cbf,_0x183b39,_0x42575f){const _0x3e7cff=_0x473ef4,_0x42fdcf=_0x6e2cbf[_0x3e7cff(0x22d)]||currentQuizData['quizType'];let _0x395c26='';if(_0x42fdcf===_0x3e7cff(0xcc0)||_0x42fdcf==='true_false'){const _0x598ed2=_0x42fdcf===_0x3e7cff(0x84f)?[_0x3e7cff(0xabb),_0x3e7cff(0xc20)]:_0x6e2cbf[_0x3e7cff(0x745)],_0x3e3539=_0x42fdcf==='true_false'?_0x6e2cbf['correctAnswer']?0x0:0x1:_0x6e2cbf[_0x3e7cff(0xb8c)];_0x395c26=_0x598ed2[_0x3e7cff(0xa3b)]((_0x1fdedd,_0x526c03)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x526c03===_0x3e3539)+_0x3e7cff(0x248)+_0x1fdedd+_0x3e7cff(0x83d))[_0x3e7cff(0xaa2)]('');}else{if(_0x42fdcf===_0x3e7cff(0xac9)){const _0x266655=_0x6e2cbf['allResponses']||[];_0x395c26=_0x266655[_0x3e7cff(0xa3b)](_0x51cebb=>_0x3e7cff(0x6b2)+(_0x51cebb===_0x6e2cbf[_0x3e7cff(0xc73)])+_0x3e7cff(0x248)+_0x51cebb+_0x3e7cff(0x83d))[_0x3e7cff(0xaa2)]('');}}const _0xd47d06=_0x6e2cbf[_0x3e7cff(0xd03)]||_0x6e2cbf['questionText'],_0x33e7f2=_0x3e7cff(0x329)+(_0x183b39+0x1)+_0x3e7cff(0xc7a)+_0x42575f+_0x3e7cff(0x310)+currentLiveGamePin+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0xd47d06+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x395c26+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x33e7f2,window['MathJax']&&MathJax[_0x3e7cff(0x93d)]&&MathJax[_0x3e7cff(0x93d)]([liveGameView]),document[_0x3e7cff(0x7eb)](_0x3e7cff(0xa18))[_0x3e7cff(0x5e6)]('click',()=>revealAnswerForAdmin(_0x183b39,_0x42575f)),document[_0x3e7cff(0x7eb)](_0x3e7cff(0xb26))[_0x3e7cff(0x5e6)](_0x3e7cff(0x732),async()=>{const _0x1a098a=_0x3e7cff;showConfirmation(_0x1a098a(0x82b),async()=>{const _0x3a3376=_0x1a098a,_0x58266d=doc(db,_0x3a3376(0x41a)+appId+_0x3a3376(0xca3),currentLiveGameId);await updateDoc(_0x58266d,{'status':_0x3a3376(0xab6)});});}),document[_0x3e7cff(0x7eb)]('manage-players-btn')['addEventListener']('click',()=>{const _0x11766d=_0x3e7cff;document[_0x11766d(0x7eb)](_0x11766d(0x9d3))['classList'][_0x11766d(0x899)](_0x11766d(0xcb0));});}function promptForProjectBeforeGenerating(_0x3685ae){const _0x28f75e=_0x473ef4,_0x5df781=document['getElementById'](_0x28f75e(0xd75)),_0x243c70=document['getElementById'](_0x28f75e(0x2b1)),_0x4c120a=_0x5df781['querySelector']('h3'),_0x155d23=document['getElementById'](_0x28f75e(0x247)),_0x10aede=document[_0x28f75e(0x7eb)](_0x28f75e(0x390));_0x4c120a['textContent']=_0x28f75e(0x94c),_0x155d23[_0x28f75e(0xc95)]='เลือกและเริ่มสร้าง',_0x155d23[_0x28f75e(0x744)]=!![];allProjects[_0x28f75e(0x373)]===0x0?_0x243c70['innerHTML']=_0x28f75e(0xb38):(_0x243c70['innerHTML']='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+allProjects['map'](_0x45f45d=>'<option\x20value=\x22'+_0x45f45d['id']+'\x22>'+_0x45f45d[_0x28f75e(0x29c)]+_0x28f75e(0xc64))[_0x28f75e(0xaa2)](''),_0x155d23[_0x28f75e(0x744)]=![]);_0x5df781[_0x28f75e(0xc3c)][_0x28f75e(0x6f9)]('hidden');const _0x414fbc=async()=>{const _0x430ec7=_0x28f75e,_0x2f9f0e=_0x243c70[_0x430ec7(0x53d)];if(!_0x2f9f0e){showMessage('กรุณาเลือกโปรเจคก่อน');return;}_0x5df781[_0x430ec7(0xc3c)][_0x430ec7(0x4ad)](_0x430ec7(0xcb0)),await loadProjectDetails(_0x2f9f0e),showView(_0x430ec7(0x2a6)),handleGenerateQuizFromBlueprintTopic(_0x3685ae),_0x332983();},_0x332983=()=>{const _0x5ae14a=_0x28f75e;_0x4c120a['textContent']=_0x5ae14a(0x3e0),_0x155d23['textContent']=_0x5ae14a(0xc94),_0x155d23[_0x5ae14a(0x39d)]('click',_0x414fbc),_0x10aede[_0x5ae14a(0x39d)]('click',_0x332983),_0x155d23[_0x5ae14a(0x5e6)](_0x5ae14a(0x732),confirmMoveQuiz);};_0x155d23[_0x28f75e(0x39d)](_0x28f75e(0x732),confirmMoveQuiz),_0x155d23['addEventListener'](_0x28f75e(0x732),_0x414fbc),_0x10aede['addEventListener'](_0x28f75e(0x732),_0x332983);}function showStudentLiveQuestionView(_0x12de03,_0x585324,_0x4eddb1){const _0x857a43=_0x473ef4,_0x1971de=_0x12de03['questionType']||currentQuizData['quizType'];let _0x15a3e8='';if(_0x1971de==='multiple_choice'||_0x1971de===_0x857a43(0x84f)){const _0x36c600=_0x1971de===_0x857a43(0x84f)?[_0x857a43(0xabb),_0x857a43(0xc20)]:_0x12de03[_0x857a43(0x745)];_0x15a3e8=_0x36c600['map']((_0x55e365,_0x1df994)=>_0x857a43(0x209)+_0x1df994+_0x857a43(0xd5a)+_0x55e365+_0x857a43(0x2d7))['join']('');}else{if(_0x1971de===_0x857a43(0xac9)){const _0x3609f3=_0x12de03[_0x857a43(0x938)]||[];_0x15a3e8=_0x3609f3[_0x857a43(0xa3b)]((_0x3d2c4d,_0x3b2a17)=>_0x857a43(0x209)+_0x3b2a17+_0x857a43(0xd5a)+_0x3d2c4d+_0x857a43(0x2d7))[_0x857a43(0xaa2)]('');}else _0x1971de===_0x857a43(0x314)&&(_0x15a3e8='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x37d019=_0x12de03[_0x857a43(0xd03)]||_0x12de03[_0x857a43(0x837)],_0x650b9e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x585324+0x1)+_0x857a43(0xc7a)+_0x4eddb1+_0x857a43(0x289)+_0x37d019+_0x857a43(0xaf6)+_0x15a3e8+_0x857a43(0xa02);liveGameView['innerHTML']=_0x650b9e;window[_0x857a43(0x5f9)]&&MathJax[_0x857a43(0x93d)]&&MathJax[_0x857a43(0x93d)]([liveGameView]);const _0x47ef25=document[_0x857a43(0x7eb)]('live-submit-short-answer-btn');_0x47ef25&&_0x47ef25['addEventListener']('click',()=>{const _0x304dcd=_0x857a43,_0x18e903=document['getElementById'](_0x304dcd(0x5ec))[_0x304dcd(0x53d)];handleLiveAnswer(_0x18e903,_0x12de03);}),document[_0x857a43(0x7eb)](_0x857a43(0x4f1))[_0x857a43(0x5e6)](_0x857a43(0x732),_0x4a53c4=>{const _0x42b65a=_0x857a43,_0x509850=_0x4a53c4[_0x42b65a(0x8ef)][_0x42b65a(0xba1)]('.live-answer-btn');if(_0x509850){const _0x5b2844=parseInt(_0x509850[_0x42b65a(0x6e9)][_0x42b65a(0xbf7)]);handleLiveAnswer(_0x5b2844,_0x12de03);}});}function listenForBlueprintShortcuts(){const _0x661699=_0x473ef4,_0x8d814b=doc(db,_0x661699(0x590),_0x661699(0x9b2));onSnapshot(_0x8d814b,_0x5f0800=>{const _0xfb381c=_0x661699;let _0x56234f=[],_0x124931=[],_0x5b0d36={};if(_0x5f0800[_0xfb381c(0x931)]()){const _0x3efef7=_0x5f0800[_0xfb381c(0x1e4)]();_0x56234f=_0x3efef7[_0xfb381c(0x58e)]||[],_0x124931=_0x3efef7[_0xfb381c(0x437)]||[],_0x5b0d36=_0x3efef7[_0xfb381c(0xc4f)]||{};}!_0x124931[_0xfb381c(0x712)](_0xa55708=>_0xa55708['id']===_0xfb381c(0x61c))&&_0x124931['unshift']({'id':_0xfb381c(0x61c),'name':'ปุ่มลัดทั้งหมด','isDefault':!![]}),!_0x56234f[_0xfb381c(0x712)](_0x33466f=>_0x33466f['id']===_0xfb381c(0xd65))&&_0x56234f[_0xfb381c(0x262)]({'id':_0xfb381c(0xd65),'name':_0xfb381c(0xaff),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),!_0x56234f[_0xfb381c(0x712)](_0x345b86=>_0x345b86['id']==='default-2')&&_0x56234f[_0xfb381c(0x262)]({'id':'default-2','name':_0xfb381c(0xd66),'blueprintUrl':'','referenceUrl':'','isDefault':!![]}),blueprintShortcuts=_0x56234f,shortcutTabs=_0x124931,shortcutOrder=_0x5b0d36,renderBlueprintShortcuts(),!document['getElementById'](_0xfb381c(0xd83))[_0xfb381c(0xc3c)]['contains']('hidden')&&renderAdditionalShortcutsModal();});}function renderAdditionalShortcutsModal(){const _0xca18d6=_0x473ef4,_0x37e43d=document[_0xca18d6(0x7eb)](_0xca18d6(0xadd)),_0x21ef75=document[_0xca18d6(0x7eb)](_0xca18d6(0x3df));if(!_0x37e43d||!_0x21ef75)return;_0x37e43d[_0xca18d6(0xbec)]=shortcutTabs[_0xca18d6(0xa3b)](_0x200c33=>{const _0x351bd2=_0xca18d6,_0x12bdf0=_0x200c33['id']===activeShortcutTabId,_0x5bf2a2=_0x351bd2(0xd04),_0x5b5e8d=_0x351bd2(0xafe);return _0x351bd2(0x9f1)+_0x200c33['id']+_0x351bd2(0x8cc)+(_0x12bdf0?_0x5bf2a2:_0x5b5e8d)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22tab-name-display\x20pointer-events-none\x22>'+_0x200c33['name']+_0x351bd2(0x2d1)+_0x200c33[_0x351bd2(0x65c)]+_0x351bd2(0xb8f)+(!_0x200c33[_0x351bd2(0x384)]?_0x351bd2(0xd73)+_0x200c33['id']+_0x351bd2(0xb54):'')+_0x351bd2(0x83d);})['join']('');const _0x7dee24=shortcutTabs[_0xca18d6(0x712)](_0x35af6c=>_0x35af6c['id']===activeShortcutTabId);let _0x4696f2=[];if(_0x7dee24){if(_0x7dee24[_0xca18d6(0x384)])_0x4696f2=[...blueprintShortcuts];else{const _0x29ca82=_0x7dee24[_0xca18d6(0xcd9)]||[];_0x4696f2=blueprintShortcuts[_0xca18d6(0x514)](_0x15acd6=>_0x29ca82[_0xca18d6(0x3b1)](_0x15acd6['id']));}}const _0x57e274=shortcutOrder[activeShortcutTabId]||[];_0x4696f2[_0xca18d6(0x4af)]((_0x13973b,_0x56a41e)=>{const _0x1d0691=_0xca18d6,_0x24c0b8=_0x57e274[_0x1d0691(0x5ac)](_0x13973b['id']),_0x8f5d7e=_0x57e274[_0x1d0691(0x5ac)](_0x56a41e['id']);if(_0x24c0b8===-0x1)return 0x1;if(_0x8f5d7e===-0x1)return-0x1;return _0x24c0b8-_0x8f5d7e;}),_0x21ef75[_0xca18d6(0xbec)]=_0x4696f2[_0xca18d6(0x373)]>0x0?_0x4696f2['map'](_0x42da7c=>{const _0x462463=_0xca18d6;let _0x560974='🧩';if(_0x42da7c[_0x462463(0x403)]&&_0x42da7c[_0x462463(0x707)])_0x560974='📗';else{if(_0x42da7c[_0x462463(0x403)])_0x560974='📘';}const _0x4533a8=shortcutTabs[_0x462463(0x514)](_0x137299=>!_0x137299[_0x462463(0x384)]),_0x583ad7=_0x7dee24[_0x462463(0x384)]&&_0x4533a8[_0x462463(0x373)]>0x0?_0x462463(0xb13)+_0x4533a8[_0x462463(0xa3b)](_0x3f16bf=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22move-shortcut-item\x20block\x20px-4\x20py-2\x20text-sm\x20text-gray-700\x20hover:bg-gray-100\x22\x20data-shortcut-id=\x22'+_0x42da7c['id']+_0x462463(0x76d)+_0x3f16bf['id']+'\x22>'+_0x3f16bf['name']+_0x462463(0x9ab))[_0x462463(0xaa2)]('')+_0x462463(0xa9b):'';return _0x462463(0xd2e)+_0x42da7c['id']+_0x462463(0x382)+_0x560974+'\x20'+_0x42da7c[_0x462463(0x65c)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x42da7c['id']+_0x462463(0x4f3)+_0x42da7c['id']+_0x462463(0x3f4)+(!_0x42da7c[_0x462463(0x384)]?_0x462463(0x930)+_0x42da7c['id']+_0x462463(0x7aa):'')+_0x462463(0xa47)+(!_0x7dee24[_0x462463(0x384)]?_0x462463(0xb1f)+_0x42da7c['id']+'\x22\x20class=\x22remove-shortcut-from-tab-btn\x20text-red-500\x20ml-2\x22\x20title=\x22นำออกจากแท็บนี้\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i></button>':'')+_0x462463(0xa47)+_0x583ad7+_0x462463(0x5da);})[_0xca18d6(0xaa2)](''):_0xca18d6(0x7f1),setupShortcutModalEventListeners();}function setupShortcutModalEventListeners(){const _0x4fa258=_0x473ef4;document[_0x4fa258(0x89b)](_0x4fa258(0xce2))[_0x4fa258(0xb15)](_0x3b77a1=>{const _0x768170=_0x4fa258;_0x3b77a1[_0x768170(0x5e6)](_0x768170(0x732),_0x1aa98f=>{const _0x1d0c3d=_0x768170;activeShortcutTabId=_0x1aa98f['currentTarget']['dataset'][_0x1d0c3d(0x4bc)],renderAdditionalShortcutsModal();}),_0x3b77a1['addEventListener'](_0x768170(0xb97),_0x24126d=>{const _0x124a51=_0x768170,_0x15a8fa=_0x24126d[_0x124a51(0xd3c)];_0x15a8fa[_0x124a51(0x6ea)]('.tab-name-display')[_0x124a51(0xc3c)]['add']('hidden');const _0x1f4b28=_0x15a8fa[_0x124a51(0x6ea)](_0x124a51(0x6fe));_0x1f4b28[_0x124a51(0xc3c)][_0x124a51(0x6f9)](_0x124a51(0xcb0)),_0x1f4b28[_0x124a51(0x86f)](),_0x1f4b28[_0x124a51(0xc78)]();});}),document[_0x4fa258(0x89b)](_0x4fa258(0x6fe))[_0x4fa258(0xb15)](_0x5b4108=>{const _0x22b646=_0x4fa258,_0x3dccf1=()=>{const _0x12c9d7=_0x2a86,_0x28bcf4=_0x5b4108[_0x12c9d7(0xba1)](_0x12c9d7(0xce2))['dataset']['tabId'];handleRenameShortcutTab(_0x28bcf4,_0x5b4108['value']);};_0x5b4108[_0x22b646(0x5e6)](_0x22b646(0x6db),_0x3dccf1),_0x5b4108[_0x22b646(0x5e6)]('keydown',_0x1cde7e=>{const _0x746f0e=_0x22b646;if(_0x1cde7e[_0x746f0e(0x9f9)]===_0x746f0e(0xcf5))_0x5b4108['blur']();});}),document[_0x4fa258(0x89b)](_0x4fa258(0x77f))['forEach'](_0x23179f=>{const _0x877796=_0x4fa258;_0x23179f[_0x877796(0x5e6)](_0x877796(0x732),_0x320134=>handleDeleteShortcutTab(_0x320134[_0x877796(0xd3c)]['dataset']['tabId']));}),document['querySelectorAll'](_0x4fa258(0x57f))['forEach'](_0x24d3d9=>{const _0x1e8fa5=_0x4fa258;_0x24d3d9[_0x1e8fa5(0x5e6)](_0x1e8fa5(0x732),_0xadc27b=>{const _0x2389b9=_0x1e8fa5;_0xadc27b['preventDefault']();const {shortcutId:_0x1ba5ca,targetTabId:_0x4d714f}=_0xadc27b[_0x2389b9(0xd3c)][_0x2389b9(0x6e9)];handleMoveShortcutToTab(_0x1ba5ca,_0x4d714f);});}),document['querySelectorAll'](_0x4fa258(0x1f9))[_0x4fa258(0xb15)](_0x4dd976=>{const _0x6c2bbb=_0x4fa258;_0x4dd976[_0x6c2bbb(0x5e6)](_0x6c2bbb(0x732),_0x4a4aa2=>{const _0x5243d1=_0x6c2bbb;handleRemoveShortcutFromTab(_0x4a4aa2[_0x5243d1(0xd3c)][_0x5243d1(0x6e9)][_0x5243d1(0x8c0)],activeShortcutTabId);});});const _0xa3faf6=document[_0x4fa258(0x7eb)](_0x4fa258(0x3df));_0xa3faf6[_0x4fa258(0x89b)](_0x4fa258(0x468))[_0x4fa258(0xb15)](_0x32b40d=>{const _0x30784e=_0x4fa258;_0x32b40d[_0x30784e(0x5e6)](_0x30784e(0x732),()=>{const _0x40ba68=_0x30784e;document[_0x40ba68(0x7eb)]('additional-shortcuts-modal')[_0x40ba68(0xc3c)]['add']('hidden'),handleShortcutClick(_0x32b40d[_0x40ba68(0x6e9)]['id']);});});let _0x4becab=null;_0xa3faf6[_0x4fa258(0x5e6)](_0x4fa258(0x934),_0x406daa=>{const _0x57d895=_0x4fa258;_0x4becab=_0x406daa[_0x57d895(0x8ef)][_0x57d895(0xba1)]('.shortcut-list-item'),_0x4becab&&setTimeout(()=>_0x4becab['classList'][_0x57d895(0x4ad)](_0x57d895(0x994)),0x0);}),_0xa3faf6[_0x4fa258(0x5e6)]('dragend',()=>{const _0x481af5=_0x4fa258;_0x4becab&&(_0x4becab[_0x481af5(0xc3c)][_0x481af5(0x6f9)](_0x481af5(0x994)),_0x4becab=null);}),_0xa3faf6[_0x4fa258(0x5e6)](_0x4fa258(0x4e9),_0x10d5a8=>{const _0x4cc546=_0x4fa258;_0x10d5a8['preventDefault']();const _0x1e1696=[..._0xa3faf6[_0x4cc546(0x89b)](_0x4cc546(0x87f))][_0x4cc546(0x718)]((_0x25af57,_0x19ff23)=>{const _0x579110=_0x4cc546,_0x1735d0=_0x19ff23[_0x579110(0x586)](),_0x159f19=_0x10d5a8[_0x579110(0xa21)]-_0x1735d0[_0x579110(0x54c)]-_0x1735d0[_0x579110(0x395)]/0x2;return _0x159f19<0x0&&_0x159f19>_0x25af57[_0x579110(0x9e4)]?{'offset':_0x159f19,'element':_0x19ff23}:_0x25af57;},{'offset':Number[_0x4cc546(0x75f)]})[_0x4cc546(0x4d8)];_0x1e1696==null?_0xa3faf6[_0x4cc546(0xae3)](_0x4becab):_0xa3faf6['insertBefore'](_0x4becab,_0x1e1696);}),_0xa3faf6[_0x4fa258(0x5e6)]('drop',_0x387f2b=>{const _0x4811f8=_0x4fa258;_0x387f2b['preventDefault']();if(_0x4becab){const _0x27f992=[..._0xa3faf6['querySelectorAll'](_0x4811f8(0x9d0))][_0x4811f8(0xa3b)](_0x395037=>_0x395037[_0x4811f8(0x6e9)][_0x4811f8(0x8c0)]);handleShortcutOrderChange(activeShortcutTabId,_0x27f992);}}),document[_0x4fa258(0x89b)]('.move-shortcut-menu-btn')[_0x4fa258(0xb15)](_0x200a22=>{_0x200a22['addEventListener']('click',_0x4add17=>{const _0x43d321=_0x2a86;_0x4add17[_0x43d321(0x73d)]();const _0xa5e1b1=_0x4add17[_0x43d321(0xd3c)][_0x43d321(0x35c)],_0xfe39=_0xa5e1b1[_0x43d321(0xc3c)][_0x43d321(0x5ba)](_0x43d321(0xcb0));document['querySelectorAll'](_0x43d321(0xb49))[_0x43d321(0xb15)](_0x5c9a91=>_0x5c9a91['classList'][_0x43d321(0x4ad)]('hidden')),_0xfe39&&_0xa5e1b1['classList']['remove'](_0x43d321(0xcb0));});});}document['addEventListener'](_0x473ef4(0x732),_0xeda1b=>{const _0x54f506=_0x473ef4;!_0xeda1b['target'][_0x54f506(0xba1)]('.group\x5c/dropdown')&&document['querySelectorAll'](_0x54f506(0xb49))['forEach'](_0x37b980=>_0x37b980[_0x54f506(0xc3c)][_0x54f506(0x4ad)](_0x54f506(0xcb0)));});async function saveShortcutConfig(){const _0x486e02=_0x473ef4,_0x3f6111=doc(db,_0x486e02(0x590),_0x486e02(0x9b2));try{await setDoc(_0x3f6111,{'shortcutTabs':shortcutTabs,'shortcutOrder':shortcutOrder},{'merge':!![]});}catch(_0x3d1cf2){console[_0x486e02(0x2b8)](_0x486e02(0x45b),_0x3d1cf2);}}async function handleAddShortcutTab(){const _0x2500d5=_0x473ef4,_0x4cb0be=prompt('กรุณาตั้งชื่อแท็บใหม่:','แท็บใหม่');if(!_0x4cb0be||_0x4cb0be[_0x2500d5(0xa7e)]()==='')return;shortcutTabs[_0x2500d5(0x526)]({'id':_0x2500d5(0x50f)+Date['now'](),'name':_0x4cb0be[_0x2500d5(0xa7e)](),'shortcutIds':[]}),await saveShortcutConfig();}async function handleRenameShortcutTab(_0x5dabd0,_0x1b4214){const _0x1448b5=_0x473ef4,_0x27150b=shortcutTabs[_0x1448b5(0x712)](_0x32a322=>_0x32a322['id']===_0x5dabd0);_0x27150b&&_0x1b4214[_0x1448b5(0xa7e)]()!==''&&(_0x27150b[_0x1448b5(0x65c)]=_0x1b4214[_0x1448b5(0xa7e)](),await saveShortcutConfig());}async function handleDeleteShortcutTab(_0x4cfdd1){const _0x573668=_0x473ef4,_0x5c1a16=shortcutTabs[_0x573668(0x712)](_0x560966=>_0x560966['id']===_0x4cfdd1);_0x5c1a16&&!_0x5c1a16[_0x573668(0x384)]&&showConfirmation(_0x573668(0xbd0)+_0x5c1a16[_0x573668(0x65c)]+_0x573668(0x828),async()=>{const _0x57bc36=_0x573668;shortcutTabs=shortcutTabs['filter'](_0x27ffd0=>_0x27ffd0['id']!==_0x4cfdd1),delete shortcutOrder[_0x4cfdd1];if(activeShortcutTabId===_0x4cfdd1)activeShortcutTabId=_0x57bc36(0x61c);await saveShortcutConfig();});}async function handleMoveShortcutToTab(_0x26955c,_0xdf4ae){const _0x31eecf=_0x473ef4,_0x4731c2=shortcutTabs['find'](_0x3295c9=>_0x3295c9['id']===_0xdf4ae);_0x4731c2&&!_0x4731c2[_0x31eecf(0xcd9)][_0x31eecf(0x3b1)](_0x26955c)&&(_0x4731c2[_0x31eecf(0xcd9)]['push'](_0x26955c),await saveShortcutConfig());}async function handleRemoveShortcutFromTab(_0x67a7b,_0x38d7b8){const _0x27baed=_0x473ef4,_0x42c97e=shortcutTabs[_0x27baed(0x712)](_0xa666b3=>_0xa666b3['id']===_0x38d7b8);_0x42c97e&&!_0x42c97e[_0x27baed(0x384)]&&(_0x42c97e[_0x27baed(0xcd9)]=_0x42c97e['shortcutIds']['filter'](_0x114946=>_0x114946!==_0x67a7b),await saveShortcutConfig());}async function handleShortcutOrderChange(_0xe6b85f,_0xaf473a){shortcutOrder[_0xe6b85f]=_0xaf473a,await saveShortcutConfig();}function renderBlueprintShortcuts(){const _0xd592e3=_0x473ef4,_0x407bd5=document['getElementById'](_0xd592e3(0xb29)),_0x1e3308=document[_0xd592e3(0x7eb)](_0xd592e3(0x3df)),_0x9f966c=document[_0xd592e3(0x7eb)](_0xd592e3(0x339));_0x9f966c&&_0x9f966c[_0xd592e3(0xc3c)][_0xd592e3(0x4ad)]('hidden');if(!_0x407bd5||!_0x1e3308)return;const _0x204fdb=blueprintShortcuts[_0xd592e3(0xa80)](0x0,0x4),_0x45a9c4=blueprintShortcuts['slice'](0x4);_0x407bd5[_0xd592e3(0xbec)]=_0x204fdb['map'](_0xf8ee90=>{const _0x44bb52=_0xd592e3;let _0x9c929e='bg-gray-200\x20hover:bg-gray-300\x20text-gray-700',_0x1177b2='🧩';if(_0xf8ee90[_0x44bb52(0x403)]&&_0xf8ee90[_0x44bb52(0x707)])_0x9c929e=_0x44bb52(0x4fb),_0x1177b2='📗';else _0xf8ee90[_0x44bb52(0x403)]&&(_0x9c929e=_0x44bb52(0x6c8),_0x1177b2='📘');const _0x3eb75f=!_0xf8ee90[_0x44bb52(0x384)]?_0x44bb52(0x930)+_0xf8ee90['id']+'\x22\x20class=\x22delete-shortcut-btn\x20absolute\x20top-1\x20right-1\x20w-6\x20h-6\x20bg-red-500\x20text-white\x20rounded-full\x20text-xs\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x22\x20title=\x22ลบ\x22>&times;</button>':'';return _0x44bb52(0x2a3)+_0xf8ee90['id']+'\x22\x20class=\x22shortcut-btn\x20rounded-2xl\x20shadow-lg\x20p-4\x20flex\x20items-center\x20justify-center\x20text-center\x20font-semibold\x20cursor-pointer\x20transition\x20transform\x20hover:scale-105\x20h-24\x20'+_0x9c929e+_0x44bb52(0x77a)+_0x1177b2+'\x20'+_0xf8ee90[_0x44bb52(0x65c)]+_0x44bb52(0x45f)+_0xf8ee90['id']+_0x44bb52(0xbb4)+_0x3eb75f+_0x44bb52(0x83d);})[_0xd592e3(0xaa2)](''),_0x45a9c4[_0xd592e3(0x373)]>0x0&&(_0x407bd5[_0xd592e3(0xbec)]+=_0xd592e3(0xa96)),_0x45a9c4['length']>0x0?_0x1e3308['innerHTML']=_0x45a9c4[_0xd592e3(0xa3b)](_0x209c80=>{const _0x1bd558=_0xd592e3;let _0x12a728='🧩';if(_0x209c80[_0x1bd558(0x403)]&&_0x209c80['referenceUrl'])_0x12a728='📗';else _0x209c80[_0x1bd558(0x403)]&&(_0x12a728='📘');return _0x1bd558(0x2a1)+_0x12a728+'\x20'+_0x209c80[_0x1bd558(0x65c)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x209c80['id']+_0x1bd558(0x4f3)+_0x209c80['id']+_0x1bd558(0x3f4)+(!_0x209c80['isDefault']?'<button\x20data-id=\x22'+_0x209c80['id']+_0x1bd558(0x7aa):'')+_0x1bd558(0x4de);})[_0xd592e3(0xaa2)](''):_0x1e3308[_0xd592e3(0xbec)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่มีปุ่มลัดเพิ่มเติม</p>';}function getMimeTypeFromFilename(_0x276e7e){const _0x243763=_0x473ef4,_0x54cfd9=_0x276e7e[_0x243763(0x5db)]('.')['pop']()['toLowerCase']();switch(_0x54cfd9){case'pdf':return _0x243763(0x334);case _0x243763(0xb5e):return'text/plain';default:return _0x243763(0x334);}}function openShortcutEditor(_0x2d0661=null){const _0xa386d5=_0x473ef4,_0x157a07=document['getElementById'](_0xa386d5(0x352)),_0x3c456d=document[_0xa386d5(0x7eb)]('shortcut-modal-title'),_0x585c2c=document['getElementById'](_0xa386d5(0xcab)),_0xb37cb2=document[_0xa386d5(0x7eb)]('shortcut-name-input'),_0x409548=document[_0xa386d5(0x7eb)](_0xa386d5(0x3f1)),_0x43cd95=document['getElementById'](_0xa386d5(0x37d));if(_0x2d0661){const _0xd5ccbd=blueprintShortcuts['find'](_0x27a620=>_0x27a620['id']===_0x2d0661);if(!_0xd5ccbd)return;_0x3c456d[_0xa386d5(0xc95)]=_0xa386d5(0x356),_0x585c2c[_0xa386d5(0x53d)]=_0xd5ccbd['id'],_0xb37cb2[_0xa386d5(0x53d)]=_0xd5ccbd[_0xa386d5(0x65c)],_0x409548['value']=_0xd5ccbd[_0xa386d5(0x403)]||'',_0x43cd95[_0xa386d5(0x53d)]=_0xd5ccbd['referenceUrl']||'';}else _0x3c456d[_0xa386d5(0xc95)]=_0xa386d5(0x581),_0x585c2c[_0xa386d5(0x53d)]='',_0xb37cb2[_0xa386d5(0x53d)]='',_0x409548[_0xa386d5(0x53d)]='',_0x43cd95[_0xa386d5(0x53d)]='';_0x157a07['classList']['remove'](_0xa386d5(0xcb0));}async function saveShortcutChanges(){const _0x1d3deb=_0x473ef4,_0x2fa57d=document[_0x1d3deb(0x7eb)](_0x1d3deb(0xcab))[_0x1d3deb(0x53d)],_0x35bf27=document[_0x1d3deb(0x7eb)]('shortcut-name-input')[_0x1d3deb(0x53d)][_0x1d3deb(0xa7e)](),_0x1e1f10=document[_0x1d3deb(0x7eb)](_0x1d3deb(0x3f1))['value'][_0x1d3deb(0xa7e)]();if(!_0x35bf27||!_0x1e1f10){showMessage(_0x1d3deb(0xab0));return;}const _0x1e72cc={'id':_0x2fa57d||_0x1d3deb(0x692)+Date[_0x1d3deb(0x823)](),'name':_0x35bf27,'blueprintUrl':_0x1e1f10,'referenceUrl':document['getElementById']('shortcut-reference-url-input')['value'][_0x1d3deb(0xa7e)](),'isDefault':_0x2fa57d[_0x1d3deb(0x46a)]('default-')};let _0x3ab91f;_0x2fa57d?_0x3ab91f=blueprintShortcuts['map'](_0x3597af=>_0x3597af['id']===_0x2fa57d?_0x1e72cc:_0x3597af):_0x3ab91f=[...blueprintShortcuts,_0x1e72cc];try{const _0x17f74d=doc(db,_0x1d3deb(0x590),_0x1d3deb(0x9b2));await setDoc(_0x17f74d,{'blueprintShortcuts':_0x3ab91f},{'merge':!![]}),document[_0x1d3deb(0x7eb)](_0x1d3deb(0x352))[_0x1d3deb(0xc3c)][_0x1d3deb(0x4ad)]('hidden');}catch(_0x2b7fe5){console[_0x1d3deb(0x2b8)]('Error\x20saving\x20shortcut:',_0x2b7fe5),showMessage(_0x1d3deb(0x7ac));}}async function handleShortcutClick(_0x48f958){const _0x2ab748=_0x473ef4,_0x28e644=blueprintShortcuts[_0x2ab748(0x712)](_0x15e370=>_0x15e370['id']===_0x48f958);if(!_0x28e644||!_0x28e644[_0x2ab748(0x403)])return;document['getElementById'](_0x2ab748(0x95a))['classList'][_0x2ab748(0x4ad)](_0x2ab748(0xcb0)),document[_0x2ab748(0x7eb)]('generate-from-blueprint-btn')['disabled']=!![];const _0x35b05f=document[_0x2ab748(0x7eb)](_0x2ab748(0x32d)),_0x9946b3=document[_0x2ab748(0x7eb)](_0x2ab748(0x2d4));document[_0x2ab748(0x7eb)](_0x2ab748(0x6dc))[_0x2ab748(0xc3c)][_0x2ab748(0x6f9)](_0x2ab748(0xcb0)),document[_0x2ab748(0x7eb)]('generated-quiz-container')[_0x2ab748(0xbec)]='',_0x35b05f[_0x2ab748(0xc3c)][_0x2ab748(0x6f9)](_0x2ab748(0xcb0));try{_0x9946b3['textContent']=_0x2ab748(0x3a9);const _0x42bec2=await fetchFileFromUrl(_0x28e644[_0x2ab748(0x403)],_0x2ab748(0xbd8));let _0x249eff=null;if(_0x28e644[_0x2ab748(0x707)]){_0x9946b3[_0x2ab748(0xc95)]='กำลังดึงไฟล์อ้างอิงจากลิงก์...';const _0x4edecb=_0x28e644[_0x2ab748(0x707)]['toLowerCase']()[_0x2ab748(0xa76)](_0x2ab748(0x2ee))?'reference.txt':_0x2ab748(0x60e);_0x249eff=await fetchFileFromUrl(_0x28e644[_0x2ab748(0x707)],_0x4edecb);}await handleGenerateFromBlueprintWithFiles(_0x42bec2,_0x249eff);}catch(_0x51ae48){console[_0x2ab748(0x2b8)](_0x2ab748(0xab7),_0x51ae48),showMessage(_0x2ab748(0xc13)+_0x51ae48[_0x2ab748(0xd7a)]),_0x35b05f[_0x2ab748(0xc3c)][_0x2ab748(0x4ad)](_0x2ab748(0xcb0));}}function getDirectDownloadUrl(_0xa2bc39){const _0x59854d=_0x473ef4,_0x18d8bb=_0xa2bc39[_0x59854d(0x3a2)](/file\/d\/([a-zA-Z0-9_-]+)/);if(_0x18d8bb&&_0x18d8bb[0x1])return _0x59854d(0x7e3)+_0x18d8bb[0x1];return _0xa2bc39;}async function fetchFileFromUrl(_0x537d15,_0x56b2f6){const _0x1c7fd4=_0x473ef4,_0x11ff98=getDirectDownloadUrl(_0x537d15),_0x534f16=_0x1c7fd4(0x324)+encodeURIComponent(_0x11ff98),_0x4ee2e8=await fetch(_0x534f16);if(!_0x4ee2e8['ok'])throw new Error(_0x1c7fd4(0xb7a)+_0x4ee2e8[_0x1c7fd4(0x996)]+')');const _0xaaee53=await _0x4ee2e8[_0x1c7fd4(0xc09)](),_0x3d8984=await new Promise((_0x482f40,_0x54335c)=>{const _0x5878cd=_0x1c7fd4,_0x1b66f7=new FileReader();_0x1b66f7[_0x5878cd(0x4b8)]=()=>_0x482f40(new Uint8Array(_0x1b66f7[_0x5878cd(0xc30)])),_0x1b66f7[_0x5878cd(0x9a3)]=_0x54335c,_0x1b66f7[_0x5878cd(0x944)](_0xaaee53[_0x5878cd(0xa80)](0x0,0x4));});let _0x4753bd='';const _0x23e8ab=new TextDecoder()[_0x1c7fd4(0x29b)](_0x3d8984);return _0x23e8ab===_0x1c7fd4(0x4e6)?(_0x4753bd=_0x1c7fd4(0x334),console[_0x1c7fd4(0xc55)](_0x1c7fd4(0x275))):(_0x4753bd=_0x1c7fd4(0x4c8),console['log']('File\x20content\x20is\x20not\x20a\x20PDF,\x20assuming\x20text/plain.')),new File([_0xaaee53],_0x56b2f6,{'type':_0x4753bd});}async function handleGenerateFromBlueprintWithFiles(_0x5da010,_0x46e487=null){const _0x38bd7c=_0x473ef4;if(!_0x5da010){showMessage('ไม่พบไฟล์\x20Test\x20Blueprint');return;}const _0x23882e=document[_0x38bd7c(0x7eb)](_0x38bd7c(0x32d)),_0xdb0e72=document[_0x38bd7c(0x7eb)]('loader-text');_0x23882e['classList']['remove'](_0x38bd7c(0xcb0)),document['getElementById'](_0x38bd7c(0x6dc))[_0x38bd7c(0xc3c)][_0x38bd7c(0x6f9)](_0x38bd7c(0xcb0)),document['getElementById']('generated-quiz-container')[_0x38bd7c(0xbec)]='';try{_0xdb0e72[_0x38bd7c(0xc95)]=_0x38bd7c(0x45e);const _0x3f7a2a=await new Promise((_0x235448,_0x3014d5)=>{const _0x4f953e=_0x38bd7c,_0x70294=new FileReader();_0x70294['readAsDataURL'](_0x5da010),_0x70294['onload']=()=>_0x235448(_0x70294[_0x4f953e(0xc30)][_0x4f953e(0x5db)](',')[0x1]),_0x70294[_0x4f953e(0x9a3)]=_0x3014d5;}),_0x937860=[];if(_0x46e487){_0xdb0e72[_0x38bd7c(0xc95)]='กำลังอ่านไฟล์อ้างอิง...';const _0x2dce4d=await _0x46e487[_0x38bd7c(0x2b3)]();_0x937860[_0x38bd7c(0x526)]({'text':_0x38bd7c(0x3fc)+_0x2dce4d});}const _0xe6c21a=[{'text':_0x38bd7c(0x822)},{'inlineData':{'mimeType':_0x5da010['type'],'data':_0x3f7a2a}},..._0x937860];await handleGenerateFromBlueprint(_0xe6c21a);}catch(_0xb0dfe9){console[_0x38bd7c(0x2b8)](_0x38bd7c(0xc42),_0xb0dfe9),showMessage(_0x38bd7c(0xc13)+_0xb0dfe9[_0x38bd7c(0xd7a)]),_0x23882e[_0x38bd7c(0xc3c)]['add']('hidden');}}async function handleLiveAnswer(_0x3c4556,_0x2f7299){const _0x28e48f=_0x473ef4;document[_0x28e48f(0x89b)]('.live-answer-btn,\x20#live-submit-short-answer-btn')[_0x28e48f(0xb15)](_0x490592=>_0x490592['disabled']=!![]);const _0x5500b2=_0x2f7299[_0x28e48f(0x22d)]||currentQuizData['quizType'];let _0x117a02=![],_0x452701=_0x3c4556;if(_0x5500b2===_0x28e48f(0x314)){const _0xa0f8d2=(_0x3c4556||'')['toString']();_0x117a02=await gradeShortAnswer(_0xa0f8d2,_0x2f7299);}else{if(_0x5500b2===_0x28e48f(0xcc0))_0x117a02=_0x3c4556===_0x2f7299['correctAnswerIndex'];else{if(_0x5500b2==='true_false'){const _0x47ea9f=_0x2f7299['correctAnswer'];_0x117a02=_0x3c4556===0x0&&_0x47ea9f||_0x3c4556===0x1&&!_0x47ea9f;}else{if(_0x5500b2===_0x28e48f(0xac9)){const _0x5cb32c=_0x2f7299[_0x28e48f(0x938)][_0x3c4556];_0x117a02=_0x5cb32c===_0x2f7299[_0x28e48f(0xc73)],_0x452701=_0x5cb32c;}}}}const _0x4bb47f=doc(db,_0x28e48f(0x41a)+appId+_0x28e48f(0xca3),currentLiveGameId),_0x3767f7={};_0x3767f7[_0x28e48f(0xd00)+currentStudentName+_0x28e48f(0xbd4)]=!![],_0x3767f7['players.'+currentStudentName+_0x28e48f(0x774)]=_0x117a02,_0x3767f7[_0x28e48f(0xd00)+currentStudentName+_0x28e48f(0x997)]=_0x5500b2===_0x28e48f(0x314)||_0x5500b2==='matching_item'?null:_0x3c4556,_0x3767f7[_0x28e48f(0xd00)+currentStudentName+'.lastAnswerValue']=_0x452701,_0x3767f7[_0x28e48f(0xd00)+currentStudentName+'.submittedAt']=serverTimestamp(),_0x3767f7['players.'+currentStudentName+_0x28e48f(0x3db)]=![],await updateDoc(_0x4bb47f,_0x3767f7),liveGameView[_0x28e48f(0xbec)]=_0x28e48f(0x66b);}function showAdminSummaryView(_0x3a351a,_0x1f0aea){const _0x53e621=_0x473ef4,_0x4d9991=Object[_0x53e621(0x63a)](_0x3a351a['players']||{}),_0xea047=_0x1f0aea[_0x53e621(0x22d)]||currentQuizData[_0x53e621(0x3d3)],_0xc34839=_0xea047===_0x53e621(0x84f)?[_0x53e621(0xabb),'ไม่ใช่']:_0x1f0aea[_0x53e621(0x745)]||_0x1f0aea[_0x53e621(0x938)]||[],_0x2e5d4b={},_0x517b83=new Array(_0xc34839[_0x53e621(0x373)])[_0x53e621(0xc79)](0x0);_0xc34839['forEach']((_0x42996c,_0x341634)=>{_0x2e5d4b[_0x341634]=[];}),Object[_0x53e621(0xc98)](_0x3a351a[_0x53e621(0xaec)]||{})[_0x53e621(0xb15)](([_0x3b00df,_0x1224f2])=>{const _0x571154=_0x53e621;if(_0x1224f2[_0x571154(0x996)]===_0x571154(0x3a5)&&_0x1224f2[_0x571154(0xbdf)]!==undefined){const _0x41ad24=_0x1224f2[_0x571154(0xbdf)];_0x2e5d4b[_0x41ad24]&&(_0x2e5d4b[_0x41ad24][_0x571154(0x526)](_0x3b00df),_0x517b83[_0x41ad24]++);}});const _0x2b2c04=Math[_0x53e621(0xaea)](..._0x517b83,0x1),_0x38fa08=_0x53e621(0x9c9)+(_0x1f0aea[_0x53e621(0xd03)]||_0x1f0aea[_0x53e621(0x837)])+_0x53e621(0x22b)+_0x517b83[_0x53e621(0xa3b)]((_0x1a4169,_0x1102e8)=>{const _0x1c6b66=_0x53e621,_0x308359=_0x2e5d4b[_0x1102e8]['length']>0x0?_0x2e5d4b[_0x1102e8][_0x1c6b66(0xaa2)](',\x20'):'ไม่มีผู้ตอบตัวเลือกนี้';let _0x49293d=![];if(_0xea047===_0x1c6b66(0xcc0))_0x49293d=_0x1102e8===_0x1f0aea[_0x1c6b66(0xb8c)];else{if(_0xea047===_0x1c6b66(0x84f)){const _0x50d880=_0x1f0aea[_0x1c6b66(0x8ae)];_0x49293d=_0x50d880&&_0x1102e8===0x0||!_0x50d880&&_0x1102e8===0x1;}else _0xea047===_0x1c6b66(0xac9)&&(_0x49293d=_0xc34839[_0x1102e8]===_0x1f0aea[_0x1c6b66(0xc73)]);}const _0x3fb61d=_0x49293d?_0x1c6b66(0xc38):_0x1c6b66(0xd2b);return _0x1c6b66(0x519)+_0x1a4169+_0x1c6b66(0x8a3)+_0x3fb61d+_0x1c6b66(0x9d6)+_0x1102e8+_0x1c6b66(0x6da)+_0xc34839[_0x1102e8]+_0x1c6b66(0x2e3)+_0x1102e8+_0x1c6b66(0x341)+_0x308359+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';})[_0x53e621(0xaa2)]('')+_0x53e621(0x4f6);liveGameView[_0x53e621(0xbec)]=_0x38fa08;if(window[_0x53e621(0x5f9)])MathJax['typesetPromise']();document[_0x53e621(0x7eb)]('show-leaderboard-btn')[_0x53e621(0x5e6)](_0x53e621(0x732),async()=>{const _0x9cc94e=_0x53e621,_0x1c1b88=doc(db,_0x9cc94e(0x41a)+appId+_0x9cc94e(0xca3),currentLiveGameId);await updateDoc(_0x1c1b88,{'questionStatus':'leaderboard'});}),document[_0x53e621(0x7eb)](_0x53e621(0x534))[_0x53e621(0x5e6)](_0x53e621(0x732),()=>{openScratchpad(_0x1f0aea,_0xc34839);});}function showPlayerSummaryView(_0x2791f7,_0x12bd63){const _0x30f4c7=_0x473ef4,_0x37ec5a=Object[_0x30f4c7(0x63a)](_0x2791f7['players']||{}),_0x4233da=_0x2791f7['players'][_0x12bd63],_0x236ec2=_0x37ec5a[_0x30f4c7(0x514)](_0xb0e09=>_0xb0e09[_0x30f4c7(0x996)]===_0x30f4c7(0x3a5))[_0x30f4c7(0x4af)]((_0x2ef70b,_0x4301e4)=>_0x4301e4[_0x30f4c7(0xa94)]-_0x2ef70b[_0x30f4c7(0xa94)]),_0xcd3653=_0x236ec2['findIndex'](_0x498e84=>_0x498e84===_0x4233da)+0x1,_0x2b74aa=_0x4233da['lastAnswerCorrect']?_0x30f4c7(0x3f9):_0x30f4c7(0x1e7),_0x12b2cc=_0x4233da['lastAnswerCorrect']?_0x30f4c7(0x463):_0x30f4c7(0x228),_0x1eefea=_0x4233da[_0x30f4c7(0x449)]||0x0,_0x1ecb2a=_0x30f4c7(0x3fe),_0x487f06=_0x30f4c7(0x9cc)+_0x1ecb2a+_0x30f4c7(0x973)+_0x12b2cc+_0x30f4c7(0xa10)+_0x2b74aa+_0x30f4c7(0xc10)+_0x1eefea+_0x30f4c7(0x427)+(_0xcd3653>0x0?_0xcd3653:'-')+_0x30f4c7(0x917);liveGameView[_0x30f4c7(0xbec)]=_0x487f06;}function createQuizFromBank(){const _0xdf8fab=_0x473ef4,_0x52084e=document[_0xdf8fab(0x89b)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x52084e[_0xdf8fab(0x373)]===0x0){showMessage(_0xdf8fab(0xbac));return;}const _0x55ccb6=[];_0x52084e[_0xdf8fab(0xb15)](_0x5e3aed=>{const _0xead401=_0xdf8fab;_0x55ccb6[_0xead401(0x526)](JSON[_0xead401(0x3d4)](_0x5e3aed[_0xead401(0x53d)]));});const _0x236e66={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x55ccb6};displayGeneratedQuiz(_0x236e66);}function showAdminLobbyView(_0x379f75,_0x448fa3){const _0xe96e7a=_0x473ef4;showView('live-game');const _0x535de2=_0xe96e7a(0x3c3)+_0x448fa3+_0xe96e7a(0x877)+_0x379f75+_0xe96e7a(0x729);liveGameView[_0xe96e7a(0xbec)]=_0x535de2,document['getElementById'](_0xe96e7a(0x89a))[_0xe96e7a(0x5e6)]('click',async()=>{const _0x516f9e=_0xe96e7a;if(!currentQuizData||!currentQuizData[_0x516f9e(0x3dd)]||currentQuizData['questions'][_0x516f9e(0x373)]===0x0){showMessage(_0x516f9e(0x2c3));return;}try{const _0x4b3df0=doc(db,_0x516f9e(0x41a)+appId+_0x516f9e(0xca3),currentLiveGameId);await updateDoc(_0x4b3df0,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x58912c=currentQuizData['questions'][0x0],_0x3d15ae=currentQuizData['questions'][_0x516f9e(0x373)];showAdminLiveQuestionView(_0x58912c,0x0,_0x3d15ae);}catch(_0x5093c9){console[_0x516f9e(0x2b8)]('Error\x20starting\x20game:',_0x5093c9),showMessage(_0x516f9e(0x618));}});}async function openQuizBankModal(){const _0x3c0d8d=_0x473ef4;if(allQuizzesGlobal[_0x3c0d8d(0x373)]===0x0){const _0x2f96f7=await getDocs(collection(db,_0x3c0d8d(0x41a)+appId+_0x3c0d8d(0x3c1)));allQuizzesGlobal=_0x2f96f7[_0x3c0d8d(0x48b)][_0x3c0d8d(0xa3b)](_0x5c96c0=>({'id':_0x5c96c0['id'],..._0x5c96c0[_0x3c0d8d(0x1e4)]()}));}renderQuizBankList(''),document['getElementById'](_0x3c0d8d(0x55b))[_0x3c0d8d(0xc3c)]['remove'](_0x3c0d8d(0xcb0));}function renderQuizBankList(_0x29fac4='',_0x582a5c=![]){const _0x5379c1=_0x473ef4,_0x5f266d=document[_0x5379c1(0x7eb)](_0x5379c1(0x3ea)),_0x5bb78f=_0x29fac4['toLowerCase']()[_0x5379c1(0xa7e)](),_0x810da1=allQuizzesGlobal['map'](_0x41a8e2=>({..._0x41a8e2,'projectName':allProjects[_0x5379c1(0x712)](_0x38b3da=>_0x38b3da['id']===_0x41a8e2['projectId'])?.['projectName']||_0x5379c1(0xd1a)}))[_0x5379c1(0x514)](_0x2b3702=>(_0x2b3702[_0x5379c1(0x2d8)]||'')[_0x5379c1(0x9f4)]()['includes'](_0x5bb78f)||(_0x2b3702[_0x5379c1(0x29c)]||'')['toLowerCase']()[_0x5379c1(0x3b1)](_0x5bb78f)||_0x2b3702['id']['toString']()[_0x5379c1(0x3b1)](_0x5bb78f));document[_0x5379c1(0x7eb)]('quiz-bank-count')[_0x5379c1(0xc95)]='('+_0x810da1[_0x5379c1(0x373)]+_0x5379c1(0x2e4),_0x5f266d[_0x5379c1(0xbec)]=_0x810da1['length']?_0x810da1[_0x5379c1(0xa3b)](_0x5dbf8b=>{const _0x5615c5=_0x5379c1,_0x409282=!_0x582a5c?_0x5615c5(0x6df)+_0x5dbf8b['id']+_0x5615c5(0x2a8)+_0x5dbf8b['id']+_0x5615c5(0x645)+_0x5dbf8b['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22><i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x5dbf8b['id']+_0x5615c5(0xad6)+_0x5dbf8b['id']+_0x5615c5(0xa45)+_0x5dbf8b['id']+_0x5615c5(0x7f7)+_0x5dbf8b[_0x5615c5(0x2d8)]+_0x5615c5(0x785):'';return _0x5615c5(0x4bd)+_0x5dbf8b['id']+_0x5615c5(0x825)+(_0x5dbf8b[_0x5615c5(0x2d8)]||_0x5615c5(0x7ce))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x5dbf8b[_0x5615c5(0x3dd)]?.[_0x5615c5(0x373)]||0x0)+_0x5615c5(0x313)+_0x5dbf8b[_0x5615c5(0x29c)]+_0x5615c5(0x644)+_0x5dbf8b['id']+_0x5615c5(0x513)+_0x409282+_0x5615c5(0x34b);})['join'](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',!_0x582a5c&&(_0x5f266d[_0x5379c1(0x89b)](_0x5379c1(0x35b))[_0x5379c1(0xb15)](_0x59d243=>{const _0x5b44a3=_0x5379c1;_0x59d243[_0x5b44a3(0x5e6)](_0x5b44a3(0x732),()=>{const _0x5c9324=_0x5b44a3,_0x366642=_0x59d243[_0x5c9324(0x6e9)]['id'];document[_0x5c9324(0x7eb)](_0x5c9324(0x55b))['classList'][_0x5c9324(0x4ad)]('hidden'),showQuizDetailView(_0x366642);});}),_0x5f266d[_0x5379c1(0x89b)](_0x5379c1(0xcfd))['forEach'](_0x2e3052=>{const _0x13ee9d=_0x5379c1;_0x2e3052[_0x13ee9d(0x5e6)](_0x13ee9d(0x732),_0x5f54ba=>{const _0x3c3b20=_0x13ee9d;_0x5f54ba[_0x3c3b20(0x73d)]();const _0x27f23c=_0x2e3052[_0x3c3b20(0x6e9)]['id'],_0x46c304=allQuizzesGlobal[_0x3c3b20(0x712)](_0x384a8e=>_0x384a8e['id']===_0x27f23c);_0x46c304?(currentQuizData=_0x46c304,document[_0x3c3b20(0x7eb)](_0x3c3b20(0x55b))[_0x3c3b20(0xc3c)][_0x3c3b20(0x4ad)](_0x3c3b20(0xcb0)),startAdminTest()):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x5f266d[_0x5379c1(0x89b)]('.quiz-bank-parallel-btn')[_0x5379c1(0xb15)](_0x415a47=>{const _0x28e53e=_0x5379c1;_0x415a47[_0x28e53e(0x5e6)](_0x28e53e(0x732),_0x59decd=>{const _0x37a78f=_0x28e53e;_0x59decd['stopPropagation']();const _0x45d047=_0x415a47['dataset']['id'],_0x725b98=allQuizzesGlobal[_0x37a78f(0x712)](_0x387bab=>_0x387bab['id']===_0x45d047);_0x725b98?(document[_0x37a78f(0x7eb)](_0x37a78f(0x55b))[_0x37a78f(0xc3c)][_0x37a78f(0x4ad)](_0x37a78f(0xcb0)),handleGenerateParallelFromBank(_0x725b98)):showMessage(_0x37a78f(0xa24));});}),_0x5f266d['querySelectorAll'](_0x5379c1(0xb1e))[_0x5379c1(0xb15)](_0x290b09=>{const _0x65c531=_0x5379c1;_0x290b09[_0x65c531(0x5e6)](_0x65c531(0x732),_0x467da8=>{const _0x1f1bdd=_0x65c531;_0x467da8[_0x1f1bdd(0x73d)]();const _0x49e8b2=_0x290b09['dataset']['id'],_0x597634=allQuizzesGlobal[_0x1f1bdd(0x712)](_0x556e96=>_0x556e96['id']===_0x49e8b2);_0x597634?(document['getElementById'](_0x1f1bdd(0x55b))[_0x1f1bdd(0xc3c)]['add'](_0x1f1bdd(0xcb0)),startPresentation(_0x597634)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x5f266d[_0x5379c1(0x89b)](_0x5379c1(0x422))['forEach'](_0x4ccf2b=>{const _0x1e0460=_0x5379c1;_0x4ccf2b[_0x1e0460(0x5e6)](_0x1e0460(0x732),_0x124368=>{const _0x6abccf=_0x1e0460;_0x124368[_0x6abccf(0x73d)]();const _0x3e5c22=_0x4ccf2b['dataset']['id'];document[_0x6abccf(0x7eb)]('quiz-bank-modal')[_0x6abccf(0xc3c)][_0x6abccf(0x4ad)](_0x6abccf(0xcb0)),handleMoveQuiz(_0x3e5c22);});}),_0x5f266d[_0x5379c1(0x89b)](_0x5379c1(0x8dc))[_0x5379c1(0xb15)](_0x4d57d5=>{const _0x3d03f5=_0x5379c1;_0x4d57d5['addEventListener'](_0x3d03f5(0x732),_0x2f00f2=>{const _0x13e1d7=_0x3d03f5;_0x2f00f2[_0x13e1d7(0x73d)]();const _0x29c5e5=_0x4d57d5[_0x13e1d7(0x6e9)]['id'];document[_0x13e1d7(0x7eb)](_0x13e1d7(0x55b))[_0x13e1d7(0xc3c)][_0x13e1d7(0x4ad)](_0x13e1d7(0xcb0)),handleQuizSettings(_0x29c5e5);});}),_0x5f266d['querySelectorAll'](_0x5379c1(0x599))[_0x5379c1(0xb15)](_0x57a97a=>{const _0x2ee5fe=_0x5379c1;_0x57a97a[_0x2ee5fe(0x5e6)]('click',_0xec0c76=>{const _0x394a81=_0x2ee5fe;_0xec0c76['stopPropagation']();const _0x3a3801=_0x57a97a['dataset']['id'],_0x5862c9=_0x57a97a[_0x394a81(0x6e9)][_0x394a81(0x2d8)];showConfirmation(_0x394a81(0x432)+_0x5862c9+_0x394a81(0x9a1),()=>handleDeleteQuiz(_0x3a3801));});}));}async function handleCompareResults(_0x5139bc,_0x701567){const _0x1c7ba0=_0x473ef4,_0x4cd8e8=document['getElementById'](_0x1c7ba0(0x71d)),_0x29b355=document[_0x1c7ba0(0x7eb)](_0x1c7ba0(0x2fc)),_0x52f8e7=document['getElementById'](_0x1c7ba0(0xab3));document[_0x1c7ba0(0x7eb)](_0x1c7ba0(0x221))[_0x1c7ba0(0xc3c)][_0x1c7ba0(0x4ad)](_0x1c7ba0(0x3a5)),document['getElementById'](_0x1c7ba0(0x567))['classList']['remove'](_0x1c7ba0(0x3a5)),_0x29b355[_0x1c7ba0(0xc3c)][_0x1c7ba0(0x6f9)](_0x1c7ba0(0xcb0)),_0x52f8e7[_0x1c7ba0(0xc3c)][_0x1c7ba0(0x4ad)](_0x1c7ba0(0xcb0)),_0x29b355['innerHTML']=_0x1c7ba0(0xc8d),_0x52f8e7[_0x1c7ba0(0xbec)]='',_0x4cd8e8[_0x1c7ba0(0xc3c)][_0x1c7ba0(0x6f9)](_0x1c7ba0(0xcb0));try{const _0x14754f=doc(db,_0x1c7ba0(0x41a)+appId+_0x1c7ba0(0x3c1),_0x5139bc),_0xb0f893=await getDoc(_0x14754f);if(!_0xb0f893[_0x1c7ba0(0x931)]())throw new Error(_0x1c7ba0(0x4f0));const _0x5d6849=_0xb0f893[_0x1c7ba0(0x1e4)](),_0x52ee28=_0x5d6849[_0x1c7ba0(0x3dd)]['length'],_0x11bfdd=collection(db,_0x1c7ba0(0x41a)+appId+_0x1c7ba0(0x5d9)+_0x701567+_0x1c7ba0(0xa06)),_0x26a707=collection(db,_0x1c7ba0(0x41a)+appId+_0x1c7ba0(0x5d9)+_0x5139bc+_0x1c7ba0(0xa06)),[_0x5a18a9,_0x52ce17]=await Promise['all']([getDocs(_0x11bfdd),getDocs(_0x26a707)]),_0x3da830=_0x5a18a9[_0x1c7ba0(0x48b)][_0x1c7ba0(0xa3b)](_0x23844e=>_0x23844e[_0x1c7ba0(0x1e4)]()),_0x20d860=_0x52ce17[_0x1c7ba0(0x48b)][_0x1c7ba0(0xa3b)](_0x4717ed=>_0x4717ed[_0x1c7ba0(0x1e4)]()),_0x315d24=_0x3da830['map'](_0x31ef2b=>_0x31ef2b[_0x1c7ba0(0xa08)]),_0xe5dcea=_0x20d860[_0x1c7ba0(0xa3b)](_0x217b74=>_0x217b74[_0x1c7ba0(0xa08)]),_0x50a5e0=calculateMeanAndStdDev(_0x315d24),_0x36fe32=calculateMeanAndStdDev(_0xe5dcea),_0x111783=_0x50a5e0[_0x1c7ba0(0x4c9)],_0x2adca0=_0x36fe32[_0x1c7ba0(0x4c9)],_0x3a781c=_0x2adca0-_0x111783;let _0x598260=_0x1c7ba0(0x393)+_0x111783[_0x1c7ba0(0xac3)](0x2)+_0x1c7ba0(0x6ab)+_0x2adca0[_0x1c7ba0(0xac3)](0x2)+_0x1c7ba0(0x7a5)+(_0x3a781c>=0x0?_0x1c7ba0(0x539):_0x1c7ba0(0x67c))+'\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20'+(_0x3a781c>=0x0?_0x1c7ba0(0xbd5):_0x1c7ba0(0x689))+_0x1c7ba0(0x57c)+(_0x3a781c>=0x0?'text-emerald-900':_0x1c7ba0(0x554))+'\x22>'+(_0x3a781c>=0x0?'+':'')+_0x3a781c[_0x1c7ba0(0xac3)](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x29b355[_0x1c7ba0(0xbec)]=_0x598260;const _0x44cb29=document[_0x1c7ba0(0x7eb)](_0x1c7ba0(0x70c))[_0x1c7ba0(0x5c8)]('2d');if(chartInstances[_0x1c7ba0(0x9eb)])chartInstances[_0x1c7ba0(0x9eb)][_0x1c7ba0(0x875)]();chartInstances[_0x1c7ba0(0x9eb)]=new Chart(_0x44cb29,{'type':_0x1c7ba0(0x3a6),'data':{'labels':[_0x1c7ba0(0x24b)],'datasets':[{'label':_0x1c7ba0(0xb79),'data':[_0x111783],'backgroundColor':_0x1c7ba0(0xb9e)},{'label':'หลังเรียน','data':[_0x2adca0],'backgroundColor':_0x1c7ba0(0xac8)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x52ee28}}}});const _0x18d36b=currentProjectData[_0x1c7ba0(0x55a)]||[],_0x403433=_0x18d36b[_0x1c7ba0(0xa3b)](_0x5365a3=>{const _0x1bf79d=_0x1c7ba0,_0x9bae13=_0x3da830[_0x1bf79d(0x712)](_0x47f903=>_0x47f903[_0x1bf79d(0x389)]===_0x5365a3),_0xf52eea=_0x20d860[_0x1bf79d(0x712)](_0xa0a615=>_0xa0a615['studentName']===_0x5365a3),_0x232b79=_0x9bae13?_0x9bae13[_0x1bf79d(0xa08)]:null,_0xed13ae=_0xf52eea?_0xf52eea[_0x1bf79d(0xa08)]:null,_0x49847b=_0x232b79!==null&&_0xed13ae!==null?_0xed13ae-_0x232b79:null,_0x6427b9=_0x232b79!==null?calculateZScore(_0x232b79,_0x50a5e0[_0x1bf79d(0x4c9)],_0x50a5e0[_0x1bf79d(0x9a9)]):null,_0x5b3df4=_0xed13ae!==null?calculateZScore(_0xed13ae,_0x36fe32[_0x1bf79d(0x4c9)],_0x36fe32[_0x1bf79d(0x9a9)]):null,_0x495921=_0x6427b9!==null?calculateTScore(_0x6427b9):null,_0x112f12=_0x5b3df4!==null?calculateTScore(_0x5b3df4):null,_0x5f2754=_0x495921!==null&&_0x112f12!==null?_0x112f12-_0x495921:null;return{'name':_0x5365a3,'preScore':_0x232b79,'postScore':_0xed13ae,'gain':_0x49847b,'preTScore':_0x495921,'postTScore':_0x112f12,'tGain':_0x5f2754};});renderIndividualComparisonTable(_0x403433,_0x52f8e7);}catch(_0x56b791){console[_0x1c7ba0(0x2b8)](_0x1c7ba0(0x947),_0x56b791),_0x29b355[_0x1c7ba0(0xbec)]='<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>';}}async function saveBlueprintProject(){const _0x140f1a=_0x473ef4;if(!extractedBlueprintData||!extractedBlueprintData[_0x140f1a(0xac6)]){showMessage(_0x140f1a(0x70a));return;}const _0x21ddbc=prompt('กรุณาตั้งชื่อโปรเจคสำหรับ\x20Blueprint\x20นี้:',_0x140f1a(0x344));if(!_0x21ddbc||_0x21ddbc[_0x140f1a(0xa7e)]()==='')return;const _0x8f95fc={};extractedBlueprintData['curriculum'][_0x140f1a(0xb15)](_0x16a389=>{const _0x5d2b9e=_0x140f1a;_0x16a389[_0x5d2b9e(0x8e7)][_0x5d2b9e(0xb15)](_0x3d567b=>{const _0x16424b=_0x5d2b9e;_0x3d567b[_0x16424b(0x6ad)]['forEach'](_0x24158e=>{const _0x846332=_0x16424b,_0x387050='topic_'+Date[_0x846332(0x823)]()+Math[_0x846332(0x970)]()[_0x846332(0xc07)](0x24)[_0x846332(0x7c6)](0x2,0x9);_0x8f95fc[_0x387050]={'sara':_0x16a389[_0x846332(0x1dc)],'mainTopic':_0x3d567b['topicName'],'subTopic':_0x24158e,'status':_0x846332(0x26b),'lessonContent':null};});});});try{const _0x2608fb=collection(db,'artifacts/'+appId+_0x140f1a(0x408));await addDoc(_0x2608fb,{'projectName':_0x21ddbc[_0x140f1a(0xa7e)](),'gradeLevel':extractedBlueprintData['gradeLevel'],'topics':_0x8f95fc,'createdAt':serverTimestamp()}),showMessage(_0x140f1a(0x7dd)+_0x21ddbc[_0x140f1a(0xa7e)]()+_0x140f1a(0xc4a)),document['getElementById'](_0x140f1a(0x5ea))[_0x140f1a(0xc3c)]['add']('hidden');}catch(_0x1282e2){console[_0x140f1a(0x2b8)](_0x140f1a(0xac7),_0x1282e2),showMessage(_0x140f1a(0x4b9));}}async function showBlueprintProjects(){const _0xd7880a=_0x473ef4,_0x3c6d9a=document['getElementById']('blueprint-projects-modal'),_0x4c5bbd=document['getElementById'](_0xd7880a(0xcac));_0x4c5bbd['innerHTML']=_0xd7880a(0xa0b),_0x3c6d9a[_0xd7880a(0xc3c)]['remove'](_0xd7880a(0xcb0));try{const _0x5765d1=collection(db,_0xd7880a(0x41a)+appId+_0xd7880a(0x408)),_0x5193da=await getDocs(_0x5765d1);if(_0x5193da[_0xd7880a(0x28f)]){_0x4c5bbd[_0xd7880a(0xbec)]=_0xd7880a(0x528);return;}const _0x73a577=_0x5193da[_0xd7880a(0x48b)][_0xd7880a(0xa3b)](_0x552993=>({'id':_0x552993['id'],..._0x552993['data']()}));_0x73a577[_0xd7880a(0x4af)]((_0x17dece,_0x58616b)=>_0x17dece[_0xd7880a(0x29c)][_0xd7880a(0xd07)](_0x58616b[_0xd7880a(0x29c)],'th')),_0x4c5bbd[_0xd7880a(0xbec)]=_0x73a577[_0xd7880a(0xa3b)](_0x58bf55=>_0xd7880a(0xd32)+_0x58bf55[_0xd7880a(0x29c)]+_0xd7880a(0x7b3)+_0x58bf55[_0xd7880a(0x9c2)]+_0xd7880a(0xab5)+Object[_0xd7880a(0x6e0)](_0x58bf55['topics'])[_0xd7880a(0x373)]+_0xd7880a(0x862)+_0x58bf55['id']+_0xd7880a(0x788)+_0x58bf55['id']+_0xd7880a(0x44b))[_0xd7880a(0xaa2)]('');}catch(_0x5cbb6c){console[_0xd7880a(0x2b8)](_0xd7880a(0x7d7),_0x5cbb6c),_0x4c5bbd['innerHTML']=_0xd7880a(0xabc);}}async function displayBlueprintProjectManager(_0x555492){const _0x1a143e=_0x473ef4;currentBlueprintProjectId=_0x555492,document['getElementById'](_0x1a143e(0x883))[_0x1a143e(0xc3c)][_0x1a143e(0x4ad)](_0x1a143e(0xcb0)),showView('admin-dashboard'),projectDashboardView[_0x1a143e(0xc3c)][_0x1a143e(0x4ad)](_0x1a143e(0xcb0));const _0x486605=document[_0x1a143e(0x7eb)](_0x1a143e(0xa69));_0x486605[_0x1a143e(0xc3c)][_0x1a143e(0x6f9)](_0x1a143e(0xcb0)),document[_0x1a143e(0x7eb)](_0x1a143e(0x239))['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x585f85=doc(db,_0x1a143e(0x41a)+appId+'/public/data/blueprintProjects',_0x555492),_0x519573=await getDoc(_0x585f85);if(!_0x519573[_0x1a143e(0x931)]())throw new Error(_0x1a143e(0xa6c));const _0x37acf0={'id':_0x519573['id'],..._0x519573[_0x1a143e(0x1e4)]()};document[_0x1a143e(0x7eb)]('bp-project-title')[_0x1a143e(0xc95)]=_0x37acf0[_0x1a143e(0x29c)],document['getElementById'](_0x1a143e(0xa84))[_0x1a143e(0x53d)]=_0x37acf0[_0x1a143e(0x709)]||'',renderBlueprintTopicManager(_0x37acf0);}catch(_0x38eceb){console[_0x1a143e(0x2b8)]('Error\x20displaying\x20blueprint\x20project:',_0x38eceb),showMessage(_0x38eceb[_0x1a143e(0xd7a)]),showView(_0x1a143e(0x656));}}function renderBlueprintTopicManager(_0x3d5cae){const _0xd0335b=_0x473ef4,_0x41a9bb=document[_0xd0335b(0x7eb)](_0xd0335b(0x239)),_0x4f157e=_0x3d5cae[_0xd0335b(0xc52)]||{};if(Object[_0xd0335b(0x6e0)](_0x4f157e)[_0xd0335b(0x373)]===0x0){_0x41a9bb['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่มีหัวข้อในโปรเจคนี้</p>';return;}const _0x1e05d0=Object[_0xd0335b(0xc98)](_0x4f157e)[_0xd0335b(0xa3b)](([_0x304d1b,_0x188565])=>({'id':_0x304d1b,..._0x188565}))[_0xd0335b(0x4af)]((_0x37b625,_0x2fe7d5)=>(_0x37b625[_0xd0335b(0xb4d)]??Infinity)-(_0x2fe7d5[_0xd0335b(0xb4d)]??Infinity)),_0x3b0246={};_0x1e05d0[_0xd0335b(0xb15)](_0x29d9e1=>{const _0x2553f4=_0xd0335b,{sara:_0x349644,mainTopic:_0x13f4dd}=_0x29d9e1;!_0x3b0246[_0x349644]&&(_0x3b0246[_0x349644]={}),!_0x3b0246[_0x349644][_0x13f4dd]&&(_0x3b0246[_0x349644][_0x13f4dd]=[]),_0x3b0246[_0x349644][_0x13f4dd][_0x2553f4(0x526)](_0x29d9e1);});let _0x1cbbf5='';for(const _0x550e94 in _0x3b0246){_0x1cbbf5+='<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20shadow-sm\x20mb-4\x22><h4\x20class=\x22font-bold\x20text-xl\x20text-blue-800\x20mb-3\x22>'+_0x550e94+'</h4>';for(const _0x446e21 in _0x3b0246[_0x550e94]){_0x1cbbf5+=_0xd0335b(0x491)+_0x446e21+_0xd0335b(0x5fd),_0x3b0246[_0x550e94][_0x446e21][_0xd0335b(0xb15)](_0x215fdf=>{const _0x288130=_0xd0335b,_0x389e6d=_0x215fdf['id'],_0x8849f9=_0x215fdf['linkedQuizIds']||[],_0x40eda4=_0x8849f9[_0x288130(0x373)]>0x0,_0x1324ba=_0x215fdf[_0x288130(0x996)]===_0x288130(0x461);let _0x527310='';_0x40eda4?_0x527310=_0x288130(0xb39)+_0x8849f9[_0x288130(0x373)]+_0x288130(0x978):_0x527310=_0x288130(0x435)+(_0x1324ba?_0x288130(0x95e):_0x288130(0x238))+'\x22>'+(_0x1324ba?_0x288130(0x48f):'ยังไม่สร้าง')+_0x288130(0x6e2);const _0x1d7a3f=!_0x1324ba?_0x288130(0x7a9):'',_0x1cbf9d=!_0x1324ba?_0x288130(0x7a8):'';let _0x3c93c6=_0x1324ba?_0x288130(0x73b):_0x288130(0x72e);_0x1cbbf5+=_0x288130(0xd62)+_0x389e6d+_0x288130(0x5ef)+_0x215fdf['subTopic']+_0x288130(0x962)+_0x527310+_0x288130(0xa92)+_0x1d7a3f+_0x288130(0xbd9)+_0x1cbf9d+'\x22>สร้าง\x20(เนื้อหา)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-create-onet-quiz-btn\x20text-white\x20bg-indigo-600\x20hover:bg-indigo-700\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x22\x20title=\x22สร้างแบบทดสอบประยุกต์\x20(O-NET)\x20จากชื่อหัวข้อ\x22>สร้าง\x20(O-NET)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3c93c6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-edit-topic-btn\x20text-gray-500\x20hover:text-blue-600\x22\x20title=\x22แก้ไข\x22><i\x20class=\x22fas\x20fa-edit\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bp-delete-topic-btn\x20text-gray-500\x20hover:text-red-600\x22\x20title=\x22ลบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1cbbf5+=_0xd0335b(0x932);}_0x1cbbf5+=_0xd0335b(0x3ab);}_0x41a9bb[_0xd0335b(0xbec)]=_0x1cbbf5;}async function handleDeepDeleteBlueprintProject(_0x536795){const _0x1751de=_0x473ef4,_0x482f34=doc(db,_0x1751de(0x41a)+appId+_0x1751de(0x408),_0x536795),_0x5aafb2=await getDoc(_0x482f34);if(!_0x5aafb2[_0x1751de(0x931)]()){showMessage(_0x1751de(0x8c4));return;}const _0x23c294=_0x5aafb2[_0x1751de(0x1e4)]()[_0x1751de(0x29c)];showConfirmation(_0x1751de(0x587)+_0x23c294+_0x1751de(0x60d),async()=>{const _0x302905=_0x1751de;showMessage(_0x302905(0xcbe));try{const _0xdda045=writeBatch(db),_0x15e6d7=_0x5aafb2[_0x302905(0x1e4)](),_0x1738a1=_0x15e6d7[_0x302905(0xc52)]||{};for(const _0x566226 in _0x1738a1){const _0x12374c=doc(db,_0x302905(0x41a)+appId+_0x302905(0x629)+_0x536795+'/lessons',_0x566226);_0xdda045[_0x302905(0x4cf)](_0x12374c);}const _0xc10a59=new Set();for(const _0x41c82e in _0x1738a1){_0x1738a1[_0x41c82e][_0x302905(0xd81)]&&_0x1738a1[_0x41c82e][_0x302905(0xd81)][_0x302905(0xb15)](_0x3277a2=>_0xc10a59[_0x302905(0x4ad)](_0x3277a2));}for(const _0x34a5d1 of _0xc10a59){await handleDeleteQuiz(_0x34a5d1,![]);}_0xdda045['delete'](_0x482f34),await _0xdda045['commit'](),showMessage(_0x302905(0x253)+_0x23c294+'\x22\x20และข้อมูลที่เชื่อมโยงทั้งหมดสำเร็จ!'),showBlueprintProjects();}catch(_0x5d41f4){console[_0x302905(0x2b8)](_0x302905(0x6b7),_0x5d41f4),showMessage(_0x302905(0x642));}});}async function openTopicQuizBank(_0x40f3a1){const _0x1403ac=_0x473ef4,_0x248cf3=document['getElementById'](_0x1403ac(0x60b)),_0xdd4ade=document[_0x1403ac(0x7eb)]('topic-bank-list'),_0x14f264=document[_0x1403ac(0x7eb)](_0x1403ac(0x532));try{await ensureGlobalQuizzesLoaded();const _0x2db056=doc(db,'artifacts/'+appId+_0x1403ac(0x408),currentBlueprintProjectId),_0x1ce72a=await getDoc(_0x2db056);if(!_0x1ce72a[_0x1403ac(0x931)]())return;const _0x28a513=_0x1ce72a['data'](),_0x5d0149=_0x28a513[_0x1403ac(0xc52)][_0x40f3a1];document[_0x1403ac(0x7eb)](_0x1403ac(0x3c9))[_0x1403ac(0xc95)]=_0x5d0149[_0x1403ac(0x321)];const _0x478922=_0x5d0149[_0x1403ac(0xd81)]||[];_0x14f264[_0x1403ac(0xc3c)][_0x1403ac(0x899)](_0x1403ac(0xcb0),_0x478922[_0x1403ac(0x373)]===0x0),_0x14f264['onclick']=()=>handleClearAllLinksForTopic(_0x40f3a1);if(_0x478922[_0x1403ac(0x373)]===0x0)_0xdd4ade[_0x1403ac(0xbec)]=_0x1403ac(0x6a2);else{const _0x5cc3f7=allQuizzesGlobal['filter'](_0x2bdd12=>_0x478922[_0x1403ac(0x3b1)](_0x2bdd12['id']));_0xdd4ade[_0x1403ac(0xbec)]=_0x5cc3f7[_0x1403ac(0xa3b)](_0x4bd7de=>_0x1403ac(0x396)+_0x4bd7de['id']+_0x1403ac(0x444)+_0x4bd7de[_0x1403ac(0x2d8)]+_0x1403ac(0x9f3)+_0x4bd7de['id']+_0x1403ac(0xab5)+_0x4bd7de[_0x1403ac(0x3dd)][_0x1403ac(0x373)]+_0x1403ac(0x63f)+_0x4bd7de['id']+_0x1403ac(0x951)+_0x4bd7de['id']+_0x1403ac(0x7c2)+_0x4bd7de['id']+_0x1403ac(0x941)+_0x4bd7de['id']+_0x1403ac(0x56f)+_0x4bd7de['id']+_0x1403ac(0x9fa)+_0x4bd7de['id']+_0x1403ac(0xa25)+_0x40f3a1+_0x1403ac(0x704)+_0x4bd7de['id']+_0x1403ac(0x286))['join']('');}document[_0x1403ac(0x7eb)](_0x1403ac(0xb77))['onclick']=()=>{openQuizSelectorForBlueprint(_0x40f3a1);},document[_0x1403ac(0x7eb)](_0x1403ac(0xa2a))[_0x1403ac(0xa41)]=()=>_0x248cf3['classList'][_0x1403ac(0x4ad)](_0x1403ac(0xcb0)),_0x248cf3['classList']['remove'](_0x1403ac(0xcb0));}catch(_0xa4c159){showMessage(_0xa4c159[_0x1403ac(0xd7a)]);}}async function openQuizSelectorForBlueprint(_0x12b6e1){const _0x3c8f1a=_0x473ef4,_0x2c45fb=document[_0x3c8f1a(0x7eb)]('quiz-bank-modal'),_0x4960e0=document['getElementById'](_0x3c8f1a(0x60b));_0x4960e0[_0x3c8f1a(0xc3c)][_0x3c8f1a(0x4ad)](_0x3c8f1a(0xcb0)),document[_0x3c8f1a(0x7eb)](_0x3c8f1a(0x28d))?.[_0x3c8f1a(0x6f9)]();const _0x1d66b6=document[_0x3c8f1a(0x855)](_0x3c8f1a(0xafa));_0x1d66b6['id']=_0x3c8f1a(0x28d),_0x1d66b6['className']=_0x3c8f1a(0xcce),_0x1d66b6[_0x3c8f1a(0xc95)]='เพิ่มรายการที่เลือก',_0x1d66b6[_0x3c8f1a(0x744)]=!![];try{await ensureGlobalQuizzesLoaded(),_0x2c45fb[_0x3c8f1a(0xc3c)][_0x3c8f1a(0x6f9)](_0x3c8f1a(0xcb0)),renderQuizBankListForMultiSelect(''),document['getElementById'](_0x3c8f1a(0x49e))[_0x3c8f1a(0xd84)][_0x3c8f1a(0xa03)]=_0x3c8f1a(0x2bc),_0x2c45fb[_0x3c8f1a(0x6ea)](_0x3c8f1a(0xc6b))[_0x3c8f1a(0xae3)](_0x1d66b6);const _0x5ed6b2=(_0x2fac76=![])=>{const _0x5cc395=_0x3c8f1a;_0x2c45fb[_0x5cc395(0xc3c)]['add'](_0x5cc395(0xcb0)),document[_0x5cc395(0x7eb)](_0x5cc395(0x49e))[_0x5cc395(0xd84)][_0x5cc395(0xa03)]=_0x5cc395(0xd0b),_0x1d66b6[_0x5cc395(0x6f9)](),_0x2fac76&&openTopicQuizBank(_0x12b6e1);};_0x1d66b6[_0x3c8f1a(0xa41)]=async()=>{const _0x567002=_0x3c8f1a,_0x669674=Array[_0x567002(0x71b)](document[_0x567002(0x89b)]('.quiz-bank-checkbox:checked'))[_0x567002(0xa3b)](_0x30eae9=>_0x30eae9[_0x567002(0x53d)]);if(_0x669674[_0x567002(0x373)]===0x0)return;try{const _0x17394c=doc(db,'artifacts/'+appId+_0x567002(0x408),currentBlueprintProjectId),_0x4f4c99=(await getDoc(_0x17394c))['data'](),_0x4b8a82=_0x4f4c99[_0x567002(0xc52)][_0x12b6e1][_0x567002(0xd81)]||[],_0x4f7673=[...new Set([..._0x4b8a82,..._0x669674])];await updateDoc(_0x17394c,{['topics.'+_0x12b6e1+_0x567002(0xc7b)]:_0x4f7673}),showMessage(_0x567002(0xc9d)+_0x669674['length']+_0x567002(0x23d)),_0x5ed6b2(!![]),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x32fa10){console[_0x567002(0x2b8)](_0x567002(0x677),_0x32fa10);}},document[_0x3c8f1a(0x7eb)](_0x3c8f1a(0x4ca))[_0x3c8f1a(0xa41)]=()=>_0x5ed6b2(!![]);}catch(_0x333226){showMessage(_0x333226[_0x3c8f1a(0xd7a)]),_0x4960e0[_0x3c8f1a(0xc3c)]['remove'](_0x3c8f1a(0xcb0));}}function handleClearLinkedQuiz(_0x21b2a0){showConfirmation('คุณต้องการยกเลิกการเชื่อมโยงแบบทดสอบนี้ใช่หรือไม่?',async()=>{const _0x42c295=_0x2a86;try{const _0xf8004f=doc(db,_0x42c295(0x41a)+appId+_0x42c295(0x408),currentBlueprintProjectId);await updateDoc(_0xf8004f,{[_0x42c295(0xc0d)+_0x21b2a0+'.linkedQuizId']:deleteField()}),showMessage(_0x42c295(0x57d)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x4601a5){console[_0x42c295(0x2b8)]('Error\x20clearing\x20linked\x20quiz:',_0x4601a5),showMessage(_0x42c295(0x318));}});}async function addTopicToProject(){const _0x4ba4d5=_0x473ef4,_0x3be54c=prompt(_0x4ba4d5(0xb8b));if(!_0x3be54c||_0x3be54c[_0x4ba4d5(0xa7e)]()==='')return;const _0x8f046e=prompt(_0x4ba4d5(0x922),_0x4ba4d5(0x78c)),_0x12cd5d=prompt('อยู่ในหัวข้อหลักใด:','หัวข้อหลักใหม่'),_0x501b47=_0x4ba4d5(0x5b3)+Date[_0x4ba4d5(0x823)]()+Math[_0x4ba4d5(0x970)]()[_0x4ba4d5(0xc07)](0x24)['substr'](0x2,0x9),_0x1597c0={'sara':_0x8f046e,'mainTopic':_0x12cd5d,'subTopic':_0x3be54c['trim'](),'status':_0x4ba4d5(0x26b),'lessonContent':null};try{const _0x5866d7=doc(db,'artifacts/'+appId+_0x4ba4d5(0x408),currentBlueprintProjectId);await updateDoc(_0x5866d7,{['topics.'+_0x501b47]:_0x1597c0}),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x54b2f7){console[_0x4ba4d5(0x2b8)]('Error\x20adding\x20topic:',_0x54b2f7),showMessage(_0x4ba4d5(0xaf3));}}async function editTopicInProject(_0x363914){const _0x4b7553=_0x473ef4,_0x2a6b3a=document['querySelector'](_0x4b7553(0xd89)+_0x363914+'\x22]'),_0x1dc61c=_0x2a6b3a[_0x4b7553(0x6ea)](_0x4b7553(0xb86)),_0x2e29c0=_0x1dc61c['textContent'],_0x1424f7=prompt(_0x4b7553(0xb4e),_0x2e29c0);if(!_0x1424f7||_0x1424f7['trim']()===''||_0x1424f7[_0x4b7553(0xa7e)]()===_0x2e29c0)return;try{const _0x43c544=doc(db,_0x4b7553(0x41a)+appId+_0x4b7553(0x408),currentBlueprintProjectId);await updateDoc(_0x43c544,{[_0x4b7553(0xc0d)+_0x363914+_0x4b7553(0x358)]:_0x1424f7[_0x4b7553(0xa7e)]()}),_0x1dc61c['textContent']=_0x1424f7[_0x4b7553(0xa7e)](),showMessage(_0x4b7553(0x508));}catch(_0x1d4b74){console[_0x4b7553(0x2b8)](_0x4b7553(0xae7),_0x1d4b74),showMessage(_0x4b7553(0x6a0));}}async function deleteTopicFromProject(_0x1a9660){const _0x52da13=_0x473ef4;if(!confirm(_0x52da13(0xc88)))return;try{const _0x5bd42f=doc(db,_0x52da13(0x41a)+appId+_0x52da13(0x408),currentBlueprintProjectId);await updateDoc(_0x5bd42f,{[_0x52da13(0xc0d)+_0x1a9660]:deleteField()}),document[_0x52da13(0x6ea)](_0x52da13(0xd89)+_0x1a9660+'\x22]')['remove'](),showMessage(_0x52da13(0x6d0));}catch(_0x4d7c84){console[_0x52da13(0x2b8)]('Error\x20deleting\x20topic:',_0x4d7c84),showMessage(_0x52da13(0x430));}}async function generateAndSaveLessonForBlueprint(_0x28f5c8,_0x1d8bd7,_0x22ef9b){handleGenerateAndShowLesson(_0x1d8bd7,_0x22ef9b);const _0x538ccf=setInterval(async()=>{const _0x2647d8=_0x2a86,_0x40db3e=document['getElementById']('lesson-view-modal'),_0x496636=_0x40db3e['classList'][_0x2647d8(0x5ba)]('hidden');if(_0x496636){clearInterval(_0x538ccf);if(currentApplicationData&&currentApplicationData['length']>0x0){const _0x5eacc5={'point':document[_0x2647d8(0x7eb)](_0x2647d8(0x812))[_0x2647d8(0xbec)],'memory':document[_0x2647d8(0x7eb)](_0x2647d8(0xd5e))[_0x2647d8(0xbec)],'applicationHTML':getCleanApplicationHTML(),'applicationData':currentApplicationData,'summary':document[_0x2647d8(0x7eb)](_0x2647d8(0xc14))[_0x2647d8(0xbec)]};try{const _0x5a3836=doc(db,_0x2647d8(0x41a)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId),_0x542644=doc(db,'artifacts/'+appId+_0x2647d8(0x629)+currentBlueprintProjectId+'/lessons',_0x28f5c8),_0x5b8953=writeBatch(db);_0x5b8953[_0x2647d8(0xcd8)](_0x542644,{'content':_0x5eacc5}),_0x5b8953[_0x2647d8(0x94d)](_0x5a3836,{[_0x2647d8(0xc0d)+_0x28f5c8+'.status']:'generated'}),await _0x5b8953[_0x2647d8(0x5f4)](),console[_0x2647d8(0xc55)](_0x2647d8(0x2cb)+_0x28f5c8+_0x2647d8(0x911)),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x2d9ee2){console['error'](_0x2647d8(0x654),_0x2d9ee2);}}}},0x3e8);}function displayHalfMarkResult(_0x4f12a2,_0x35e579){const _0x3a8b4a=_0x473ef4,_0xedab2=_0x4f12a2>=_0x35e579/0x2,_0x51ed09=_0xedab2?'bg-green-100':_0x3a8b4a(0x67c),_0x3c3cc5=_0xedab2?_0x3a8b4a(0x268):_0x3a8b4a(0x3e6),_0xfd8548=_0xedab2?'text-green-800':_0x3a8b4a(0x689),_0x114d03=_0xedab2?_0x3a8b4a(0x5f6):_0x3a8b4a(0xa2e),_0x3cf449=_0xedab2?_0x3a8b4a(0x39e):'สู้ๆ\x20ลองอีกครั้งนะ';let _0x3b67aa=_0x3a8b4a(0x8c5)+_0x51ed09+_0x3a8b4a(0x2e1)+_0x3c3cc5+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0xfd8548+_0x3a8b4a(0x664)+_0x114d03+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x3cf449+_0x3a8b4a(0x632);studentResultArea[_0x3a8b4a(0xbec)]=_0x3b67aa,studentResultArea[_0x3a8b4a(0xc3c)][_0x3a8b4a(0x6f9)]('hidden'),studentQuizArea['classList'][_0x3a8b4a(0x4ad)](_0x3a8b4a(0xcb0)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0xedab2});}function displayPerfectScoreResult(_0x9ebec9,_0x242491){const _0x4ffe0f=_0x473ef4,_0x44102a=_0x9ebec9===_0x242491,_0x3ec123=_0x44102a?_0x4ffe0f(0xca5):_0x4ffe0f(0x2ad),_0x1dcd3b=_0x44102a?_0x4ffe0f(0x507):_0x4ffe0f(0xabd),_0x4ea03b=_0x44102a?_0x4ffe0f(0x59e):_0x4ffe0f(0x3bf),_0x96bf82=_0x44102a?_0x4ffe0f(0xcfb):_0x4ffe0f(0x5c9),_0x199db6=_0x44102a?_0x4ffe0f(0x864):_0x4ffe0f(0xbc6);let _0x1d6592=_0x4ffe0f(0x8c5)+_0x3ec123+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1dcd3b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x4ea03b+_0x4ffe0f(0x664)+_0x96bf82+_0x4ffe0f(0x2f8)+_0x199db6+_0x4ffe0f(0x632);studentResultArea[_0x4ffe0f(0xbec)]=_0x1d6592,studentResultArea[_0x4ffe0f(0xc3c)][_0x4ffe0f(0x6f9)]('hidden'),studentQuizArea[_0x4ffe0f(0xc3c)]['add']('hidden'),setupResultScreenBackButton({'showRankings':![],'score':_0x9ebec9,'totalQuestions':_0x242491});}function renderIndividualComparisonTable(_0x46b84b,_0x4c4822){const _0x1f0e71=_0x473ef4;_0x46b84b[_0x1f0e71(0x4af)]((_0x5010a3,_0x1304cc)=>(_0x1304cc[_0x1f0e71(0x1d1)]??-Infinity)-(_0x5010a3['tGain']??-Infinity));let _0x46af4d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x46b84b['length']===0x0?_0x46af4d+=_0x1f0e71(0x287):_0x46b84b[_0x1f0e71(0xb15)]((_0x5dabd2,_0x3230e4)=>{const _0x3ace1e=_0x1f0e71;let _0x305355='-',_0x1cf4ac='';if(_0x5dabd2[_0x3ace1e(0x4b6)]!==null){const _0x541ce9=_0x5dabd2[_0x3ace1e(0x4b6)]>0x0?_0x3ace1e(0x7cb):_0x5dabd2[_0x3ace1e(0x4b6)]<0x0?_0x3ace1e(0xa14):_0x3ace1e(0xc57),_0x4473a4=_0x5dabd2[_0x3ace1e(0x4b6)]>0x0?'+':'';_0x305355=_0x3ace1e(0xd76)+_0x541ce9+'\x22>'+_0x4473a4+_0x5dabd2[_0x3ace1e(0x4b6)]+_0x3ace1e(0x6e2);if(_0x5dabd2[_0x3ace1e(0x4b6)]>0x0)_0x1cf4ac=_0x3ace1e(0xbc4);else _0x5dabd2[_0x3ace1e(0x4b6)]<0x0?_0x1cf4ac=_0x3ace1e(0x8d7):_0x1cf4ac=_0x3ace1e(0x87c);}let _0x18e15a='-';if(_0x5dabd2['tGain']!==null){const _0x9ab18d=_0x5dabd2['tGain']>0x0?_0x3ace1e(0x7cb):_0x5dabd2['tGain']<0x0?_0x3ace1e(0xa14):_0x3ace1e(0xc57),_0x442985=_0x5dabd2[_0x3ace1e(0x1d1)]>0x0?'+':'';_0x18e15a='<span\x20class=\x22font-bold\x20'+_0x9ab18d+'\x22>'+_0x442985+_0x5dabd2['tGain'][_0x3ace1e(0xac3)](0x2)+_0x3ace1e(0x6e2);}_0x46af4d+=_0x3ace1e(0xa58)+(_0x3230e4+0x1)+_0x3ace1e(0xabe)+_0x5dabd2[_0x3ace1e(0x65c)]+_0x3ace1e(0xb57)+(_0x5dabd2[_0x3ace1e(0xc33)]??'-')+_0x3ace1e(0xcef)+(_0x5dabd2['postScore']??'-')+_0x3ace1e(0xb57)+_0x305355+_0x3ace1e(0x517)+_0x1cf4ac+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x5dabd2['preTScore']?.[_0x3ace1e(0xac3)](0x2)??'-')+_0x3ace1e(0x43b)+(_0x5dabd2[_0x3ace1e(0xcd2)]?.[_0x3ace1e(0xac3)](0x2)??'-')+_0x3ace1e(0xb57)+_0x18e15a+_0x3ace1e(0x3b5);}),_0x46af4d+=_0x1f0e71(0x923),_0x4c4822[_0x1f0e71(0xbec)]=_0x46af4d;}function handleRenameQuiz(_0x5a1fa3,_0x203111){const _0x595bb6=_0x473ef4;actionTargetId=_0x5a1fa3,document['getElementById']('rename-quiz-input')[_0x595bb6(0x53d)]=_0x203111,renameQuizModal[_0x595bb6(0xc3c)][_0x595bb6(0x6f9)]('hidden');}function setupComparisonModalTabs(){const _0xb1a798=_0x473ef4,_0x3fc119=document[_0xb1a798(0x7eb)](_0xb1a798(0x221)),_0x19192b=document[_0xb1a798(0x7eb)](_0xb1a798(0x567)),_0x2ec006=document[_0xb1a798(0x7eb)](_0xb1a798(0x2fc)),_0x5315ad=document['getElementById'](_0xb1a798(0xab3));_0x3fc119[_0xb1a798(0x5e6)]('click',()=>{const _0x13f7d6=_0xb1a798;_0x3fc119[_0x13f7d6(0xc3c)][_0x13f7d6(0x4ad)]('active'),_0x19192b[_0x13f7d6(0xc3c)][_0x13f7d6(0x6f9)](_0x13f7d6(0x3a5)),_0x2ec006['classList'][_0x13f7d6(0x6f9)](_0x13f7d6(0xcb0)),_0x5315ad['classList'][_0x13f7d6(0x4ad)](_0x13f7d6(0xcb0));}),_0x19192b[_0xb1a798(0x5e6)](_0xb1a798(0x732),()=>{const _0x1560d9=_0xb1a798;_0x19192b[_0x1560d9(0xc3c)][_0x1560d9(0x4ad)](_0x1560d9(0x3a5)),_0x3fc119[_0x1560d9(0xc3c)]['remove']('active'),_0x5315ad[_0x1560d9(0xc3c)][_0x1560d9(0x6f9)](_0x1560d9(0xcb0)),_0x2ec006[_0x1560d9(0xc3c)][_0x1560d9(0x4ad)](_0x1560d9(0xcb0));});}setupComparisonModalTabs();function listenForLiveGameUpdates(){const _0x2a60aa=_0x473ef4;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0xfd5a9=doc(db,'artifacts/'+appId+_0x2a60aa(0xca3),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0xfd5a9,_0x47131d=>{const _0x105764=_0x2a60aa;if(!_0x47131d[_0x105764(0x931)]()){showMessage('เกมสิ้นสุดลงแล้ว');if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x105764(0x769)?showView(_0x105764(0x2a6)):showView('student');return;}const _0x192d01=_0x47131d[_0x105764(0x1e4)]();_0x192d01[_0x105764(0xd5d)]&&(currentQuizData=_0x192d01[_0x105764(0xd5d)]);!currentQuizData&&_0x192d01[_0x105764(0xd20)]&&((async()=>{const _0x109f9e=_0x105764;try{const _0x1c5548=doc(db,_0x109f9e(0x41a)+appId+_0x109f9e(0x3c1),_0x192d01['quizId']),_0x1967b2=await getDoc(_0x1c5548);_0x1967b2['exists']()&&(currentQuizData={'id':_0x1967b2['id'],..._0x1967b2[_0x109f9e(0x1e4)]()});}catch(_0xb74b0a){console[_0x109f9e(0x2b8)]('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0xb74b0a);}})());switch(_0x192d01[_0x105764(0x996)]){case'lobby':if(currentMode===_0x105764(0x769)){const _0x1f44c8=_0x192d01[_0x105764(0xaec)]?Object[_0x105764(0xc98)](_0x192d01[_0x105764(0xaec)]):[],_0x455e8a=_0x1f44c8[_0x105764(0x514)](([_0x416bc6,_0x58a4b5])=>_0x58a4b5[_0x105764(0x996)]==='active'),_0x4f54a1=document[_0x105764(0x7eb)](_0x105764(0x6c5));if(_0x4f54a1)_0x4f54a1[_0x105764(0xc95)]=_0x455e8a[_0x105764(0x373)];const _0x345876=document[_0x105764(0x7eb)](_0x105764(0x993));_0x345876&&(_0x345876[_0x105764(0xbec)]=_0x455e8a['map'](([_0x172bfe,_0x55a72e])=>_0x105764(0xb62)+_0x172bfe+_0x105764(0xceb)+_0x172bfe+_0x105764(0x4a9))[_0x105764(0xaa2)](''));const _0x894cd2=document[_0x105764(0x7eb)](_0x105764(0x89a));_0x894cd2&&(_0x894cd2[_0x105764(0x744)]=_0x455e8a['length']===0x0);}else showView(_0x105764(0x91a)),liveGameView[_0x105764(0xbec)]=_0x105764(0x455)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case'question':const _0x1dfe37=_0x192d01[_0x105764(0x748)];if(currentQuizData&&currentQuizData[_0x105764(0x3dd)][_0x1dfe37]){const _0x4823be=currentQuizData['questions'][_0x1dfe37],_0x288d84=_0x192d01[_0x105764(0x3f8)]||_0x105764(0x227);switch(_0x288d84){case'summary_chart':currentMode===_0x105764(0x769)?showAdminSummaryView(_0x192d01,_0x4823be):showPlayerSummaryView(_0x192d01,currentStudentName);break;case'leaderboard':currentMode==='admin'&&showTop5LeaderboardView(_0x192d01);break;case'answering':default:if(currentMode==='admin'){const _0x58c098=writeBatch(db);let _0x239f9e=![];Object[_0x105764(0xc98)](_0x192d01[_0x105764(0xaec)])[_0x105764(0xb15)](([_0x3672fe,_0x12c5e9])=>{const _0x2e772d=_0x105764;if(_0x12c5e9['status']===_0x2e772d(0x3a5)&&_0x12c5e9[_0x2e772d(0xce4)]&&!_0x12c5e9['isScored']){_0x239f9e=!![];const _0x1f69dc=_0x12c5e9[_0x2e772d(0xce4)][_0x2e772d(0x9a2)]()-_0x192d01['questionDisplayedAt'][_0x2e772d(0x9a2)]();let _0x5ecf81=0x0;if(_0x12c5e9['lastAnswerCorrect']){const _0x4ed2b4=0x3e8,_0x11ce31=0x1f4,_0x722087=0x4e20;let _0xe6be35=_0x1f69dc/_0x722087;if(_0xe6be35>0x1)_0xe6be35=0x1;const _0x3bf890=Math[_0x2e772d(0x8a4)](_0xe6be35*_0x11ce31);_0x5ecf81=_0x4ed2b4-_0x3bf890;}const _0x3ecfab=doc(db,_0x2e772d(0x41a)+appId+_0x2e772d(0xca3),currentLiveGameId);_0x58c098[_0x2e772d(0x94d)](_0x3ecfab,{[_0x2e772d(0xd00)+_0x3672fe+_0x2e772d(0x818)]:increment(_0x5ecf81),['players.'+_0x3672fe+'.pointsLastQuestion']:_0x5ecf81,['players.'+_0x3672fe+_0x2e772d(0x3db)]:!![]});}});_0x239f9e&&_0x58c098[_0x105764(0x5f4)]()[_0x105764(0x529)](_0x97e6ec=>console[_0x105764(0x2b8)](_0x105764(0x7ff),_0x97e6ec));lastRenderedAdminQuestionIndex!==_0x1dfe37&&(showAdminLiveQuestionView(_0x4823be,_0x1dfe37,currentQuizData['questions']['length']),lastRenderedAdminQuestionIndex=_0x1dfe37);const _0x4516d3=_0x192d01[_0x105764(0xaec)]||{},_0x54e78e=Object[_0x105764(0x63a)](_0x4516d3)[_0x105764(0x514)](_0x1012aa=>_0x1012aa['status']===_0x105764(0x3a5)),_0x3af157=_0x54e78e[_0x105764(0x373)],_0x51d4c6=_0x54e78e['filter'](_0x476f04=>_0x476f04['answeredCurrentQuestion']===!![])[_0x105764(0x373)],_0x52bdd3=document['getElementById'](_0x105764(0x426));if(_0x52bdd3)_0x52bdd3[_0x105764(0xc95)]=_0x51d4c6+'/'+_0x3af157;const _0x328d71=document['getElementById'](_0x105764(0xc4b));if(_0x328d71){let _0x468a83=Object[_0x105764(0xc98)](_0x4516d3)[_0x105764(0x514)](([_0x45324f,_0x1133aa])=>_0x1133aa[_0x105764(0x996)]===_0x105764(0x3a5))[_0x105764(0xa3b)](([_0x319547,_0x27f4eb])=>{const _0x5c71d0=_0x105764,_0x19f56c=_0x27f4eb[_0x5c71d0(0xcb9)]===!![],_0x10d7b3=_0x19f56c?_0x5c71d0(0x463):_0x5c71d0(0x9f0),_0x483d70=_0x19f56c?_0x5c71d0(0x354):_0x5c71d0(0xc2f);return _0x5c71d0(0xc91)+_0x10d7b3+_0x5c71d0(0x6a8)+_0x483d70+_0x5c71d0(0x971)+_0x319547+_0x5c71d0(0xb99)+_0x319547+_0x5c71d0(0xbc2);})[_0x105764(0xaa2)]('');_0x328d71[_0x105764(0xbec)]=_0x468a83||'<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>';}_0x3af157>0x0&&_0x51d4c6===_0x3af157&&revealAnswerForAdmin(_0x1dfe37,currentQuizData[_0x105764(0x3dd)]['length']);}else{const _0x480216=_0x192d01[_0x105764(0xaec)][currentStudentName];_0x480216&&!_0x480216[_0x105764(0xcb9)]&&showStudentLiveQuestionView(_0x4823be,_0x1dfe37,currentQuizData[_0x105764(0x3dd)][_0x105764(0x373)]);}break;}}break;case _0x105764(0xab6):showPodiumView(_0x192d01[_0x105764(0xaec)],'live-race');break;}});}async function openGlobalActivityModal(){const _0x2edde3=_0x473ef4;if(allQuizzesGlobal['length']===0x0){const _0x2d312d=await getDocs(collection(db,_0x2edde3(0x41a)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x2d312d[_0x2edde3(0x48b)][_0x2edde3(0xa3b)](_0x17b66b=>({'id':_0x17b66b['id'],..._0x17b66b[_0x2edde3(0x1e4)]()}));}renderGlobalActivityList(''),document['getElementById']('global-activity-modal')[_0x2edde3(0xc3c)][_0x2edde3(0x6f9)]('hidden');}function renderGlobalActivityList(_0x48c0ea=''){const _0x504fb8=_0x473ef4,_0x560a3e=document[_0x504fb8(0x7eb)](_0x504fb8(0xbca)),_0x38b058=_0x48c0ea[_0x504fb8(0x9f4)]()[_0x504fb8(0xa7e)](),_0x303a7c=allQuizzesGlobal[_0x504fb8(0xa3b)](_0x5b116a=>({..._0x5b116a,'projectName':allProjects[_0x504fb8(0x712)](_0x86a6d5=>_0x86a6d5['id']===_0x5b116a['projectId'])?.['projectName']||_0x504fb8(0xd1a)}))[_0x504fb8(0x514)](_0x4b5c98=>(_0x4b5c98['topic']||'')[_0x504fb8(0x9f4)]()[_0x504fb8(0x3b1)](_0x38b058)||(_0x4b5c98[_0x504fb8(0x29c)]||'')[_0x504fb8(0x9f4)]()[_0x504fb8(0x3b1)](_0x38b058));document[_0x504fb8(0x7eb)]('global-quiz-count')[_0x504fb8(0xc95)]='('+_0x303a7c[_0x504fb8(0x373)]+_0x504fb8(0x2e4),_0x560a3e[_0x504fb8(0xbec)]=_0x303a7c['length']?_0x303a7c['map'](_0xff7bf6=>_0x504fb8(0x9dc)+(_0xff7bf6[_0x504fb8(0x2d8)]||_0x504fb8(0x7ce))+_0x504fb8(0x40f)+(_0xff7bf6[_0x504fb8(0x3dd)]?.[_0x504fb8(0x373)]||0x0)+_0x504fb8(0xc6d)+_0xff7bf6[_0x504fb8(0x29c)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xff7bf6['id']+_0x504fb8(0x824)+_0xff7bf6['id']+_0x504fb8(0xc58)+_0xff7bf6['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22game-start-btn\x20px-3\x20py-2\x20text-sm\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x20pointer-events-none\x22></i>\x20Group\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0xff7bf6['id']+_0x504fb8(0xaad))['join'](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>';}async function handleKickPlayer(_0x1e0f59){const _0x1ed2da=_0x473ef4;if(!currentLiveGameId||!_0x1e0f59)return;const _0x32d4ba=doc(db,_0x1ed2da(0x41a)+appId+_0x1ed2da(0xca3),currentLiveGameId),_0x59e3c4={};_0x59e3c4[_0x1ed2da(0xd00)+_0x1e0f59+_0x1ed2da(0x856)]=_0x1ed2da(0x7db);try{await updateDoc(_0x32d4ba,_0x59e3c4);}catch(_0x414614){console['error']('Failed\x20to\x20kick\x20player\x20'+_0x1e0f59+':',_0x414614),showMessage(_0x1ed2da(0x22f));}}async function authenticateUser(){const _0x2da230=_0x473ef4;try{typeof __initial_auth_token!==_0x2da230(0x1f3)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x469328){console[_0x2da230(0x2b8)](_0x2da230(0xd7c),_0x469328),showMessage('การยืนยันตัวตนล้มเหลว');}}function showView(_0x38e257){const _0x3312b0=_0x473ef4;adminView['classList'][_0x3312b0(0x4ad)](_0x3312b0(0xcb0)),studentView[_0x3312b0(0xc3c)][_0x3312b0(0x4ad)](_0x3312b0(0xcb0)),projectDashboardView[_0x3312b0(0xc3c)][_0x3312b0(0x4ad)](_0x3312b0(0xcb0)),projectDetailView['classList'][_0x3312b0(0x4ad)](_0x3312b0(0xcb0)),quizResultsView[_0x3312b0(0xc3c)][_0x3312b0(0x4ad)](_0x3312b0(0xcb0)),liveGameView[_0x3312b0(0xc3c)][_0x3312b0(0x4ad)](_0x3312b0(0xcb0)),document[_0x3312b0(0x7eb)](_0x3312b0(0xa69))[_0x3312b0(0xc3c)][_0x3312b0(0x4ad)]('hidden'),studentInitialView['classList'][_0x3312b0(0x4ad)]('hidden'),studentJoinGameView[_0x3312b0(0xc3c)][_0x3312b0(0x4ad)](_0x3312b0(0xcb0)),studentNameSelectionView[_0x3312b0(0xc3c)][_0x3312b0(0x4ad)](_0x3312b0(0xcb0)),studentQuizArea[_0x3312b0(0xc3c)]['add'](_0x3312b0(0xcb0)),studentResultArea[_0x3312b0(0xc3c)][_0x3312b0(0x4ad)](_0x3312b0(0xcb0)),studentReadingArea['classList']['add'](_0x3312b0(0xcb0));const _0x1e3bc2=document[_0x3312b0(0x7eb)](_0x3312b0(0x2cd)),_0x13691f=document[_0x3312b0(0x7eb)](_0x3312b0(0x61f));if(_0x1e3bc2)_0x1e3bc2[_0x3312b0(0xc3c)]['add'](_0x3312b0(0xcb0));if(_0x13691f)_0x13691f['classList']['add'](_0x3312b0(0xcb0));switch(_0x38e257){case _0x3312b0(0x656):adminView[_0x3312b0(0xc3c)][_0x3312b0(0x6f9)]('hidden'),projectDashboardView[_0x3312b0(0xc3c)][_0x3312b0(0x6f9)]('hidden');break;case _0x3312b0(0x2a6):adminView[_0x3312b0(0xc3c)][_0x3312b0(0x6f9)](_0x3312b0(0xcb0)),projectDetailView[_0x3312b0(0xc3c)][_0x3312b0(0x6f9)](_0x3312b0(0xcb0));break;case _0x3312b0(0x442):adminView[_0x3312b0(0xc3c)][_0x3312b0(0x6f9)](_0x3312b0(0xcb0)),quizResultsView['classList'][_0x3312b0(0x6f9)](_0x3312b0(0xcb0));break;case'student':studentView[_0x3312b0(0xc3c)][_0x3312b0(0x6f9)](_0x3312b0(0xcb0)),studentInitialView[_0x3312b0(0xc3c)][_0x3312b0(0x6f9)](_0x3312b0(0xcb0));break;case'live-game':liveGameView[_0x3312b0(0xc3c)][_0x3312b0(0x6f9)](_0x3312b0(0xcb0));break;case'student-team-join':studentView['classList']['remove']('hidden');if(_0x1e3bc2)_0x1e3bc2[_0x3312b0(0xc3c)][_0x3312b0(0x6f9)](_0x3312b0(0xcb0));break;case _0x3312b0(0xb6a):studentView[_0x3312b0(0xc3c)]['remove'](_0x3312b0(0xcb0));if(_0x13691f)_0x13691f[_0x3312b0(0xc3c)]['remove'](_0x3312b0(0xcb0));break;default:studentView[_0x3312b0(0xc3c)][_0x3312b0(0x6f9)](_0x3312b0(0xcb0)),studentInitialView[_0x3312b0(0xc3c)][_0x3312b0(0x6f9)]('hidden');break;}}function showJoinGameView(){const _0x31df5d=_0x473ef4;studentInitialView[_0x31df5d(0xc3c)]['add'](_0x31df5d(0xcb0)),studentJoinGameView[_0x31df5d(0xc3c)][_0x31df5d(0x6f9)](_0x31df5d(0xcb0));}async function handleSaveVisibilitySettings(){const _0x22a7f3=_0x473ef4;if(!currentProjectId)return;const _0x2a2e03=doc(db,_0x22a7f3(0x41a)+appId+_0x22a7f3(0xd51),currentProjectId);try{await updateDoc(_0x2a2e03,{'settings.showInStudentDashboard':document[_0x22a7f3(0x7eb)](_0x22a7f3(0x622))[_0x22a7f3(0x5b1)],'settings.isPasscodeEnabled':document[_0x22a7f3(0x7eb)](_0x22a7f3(0x280))['checked'],'settings.passcode':document[_0x22a7f3(0x7eb)]('project-passcode-input')[_0x22a7f3(0x53d)][_0x22a7f3(0xa7e)]()}),showMessage(_0x22a7f3(0x273));}catch(_0xe452f9){console['error']('Error\x20saving\x20visibility\x20settings:',_0xe452f9),showMessage(_0x22a7f3(0x7ac));}}function setupEventListeners(){const _0x5b8077=_0x473ef4,_0x21edf4=document[_0x5b8077(0x7eb)](_0x5b8077(0x5eb));_0x21edf4&&(_0x21edf4[_0x5b8077(0x5e6)]('mousedown',wakeUpScreen),_0x21edf4['addEventListener'](_0x5b8077(0x1de),wakeUpScreen));document[_0x5b8077(0x7eb)](_0x5b8077(0x83b))[_0x5b8077(0x5e6)](_0x5b8077(0x732),async()=>{const _0x145a03=_0x5b8077;if(!currentBlueprintProjectId)return;const _0x2df54d=document[_0x145a03(0x7eb)](_0x145a03(0xa84))[_0x145a03(0x53d)][_0x145a03(0xa7e)](),_0x2a6fc2=doc(db,'artifacts/'+appId+_0x145a03(0x408),currentBlueprintProjectId);try{await updateDoc(_0x2a6fc2,{'referenceFileUrl':_0x2df54d}),showMessage(_0x145a03(0xa40));}catch(_0x3ee581){console['error'](_0x145a03(0x503),_0x3ee581),showMessage(_0x145a03(0x7ac));}}),document[_0x5b8077(0x7eb)]('add-parallel-shortcut-tab-btn')[_0x5b8077(0x5e6)](_0x5b8077(0x732),handleAddParallelShortcutTab),document[_0x5b8077(0x7eb)]('parallel-test-input-area')[_0x5b8077(0x5e6)]('click',_0x46da35=>{const _0x9942ea=_0x5b8077;_0x46da35[_0x9942ea(0x8ef)][_0x9942ea(0xba1)](_0x9942ea(0x4c0))&&(activeParallelShortcutTabId=_0x9942ea(0x61c),renderAdditionalParallelShortcutsModal(),document[_0x9942ea(0x7eb)](_0x9942ea(0x8fe))[_0x9942ea(0xc3c)][_0x9942ea(0x6f9)](_0x9942ea(0xcb0)));}),document[_0x5b8077(0x7eb)](_0x5b8077(0x7f2))[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>{const _0x5bca68=_0x5b8077;document['getElementById']('additional-parallel-shortcuts-modal')[_0x5bca68(0xc3c)][_0x5bca68(0x4ad)]('hidden');}),document[_0x5b8077(0x5e6)](_0x5b8077(0x732),_0x180a7b=>{const _0xd79abd=_0x5b8077;!_0x180a7b['target']['closest']('.group\x5c/dropdown-parallel')&&document[_0xd79abd(0x89b)]('.move-parallel-shortcut-dropdown')['forEach'](_0x43c4f1=>_0x43c4f1[_0xd79abd(0xc3c)][_0xd79abd(0x4ad)](_0xd79abd(0xcb0)));}),document[_0x5b8077(0x7eb)](_0x5b8077(0xa72))[_0x5b8077(0x5e6)](_0x5b8077(0x732),handleAddFileShortcutTab),document[_0x5b8077(0x7eb)](_0x5b8077(0x90f))[_0x5b8077(0x5e6)](_0x5b8077(0x732),_0x23d384=>{const _0xbda911=_0x5b8077;_0x23d384['target'][_0xbda911(0xba1)](_0xbda911(0x623))&&(activeFileShortcutTabId=_0xbda911(0x61c),renderAdditionalFileShortcutsModal(),document[_0xbda911(0x7eb)]('additional-file-shortcuts-modal')['classList']['remove'](_0xbda911(0xcb0)));}),document['getElementById'](_0x5b8077(0x929))['addEventListener'](_0x5b8077(0x732),()=>{const _0x3c50e0=_0x5b8077;document[_0x3c50e0(0x7eb)](_0x3c50e0(0x573))['classList'][_0x3c50e0(0x4ad)](_0x3c50e0(0xcb0));}),document[_0x5b8077(0x5e6)]('click',_0x5667f6=>{const _0x449101=_0x5b8077;!_0x5667f6[_0x449101(0x8ef)]['closest'](_0x449101(0x82d))&&document[_0x449101(0x89b)]('.move-file-shortcut-dropdown')[_0x449101(0xb15)](_0x418dd1=>_0x418dd1['classList']['add']('hidden'));}),document[_0x5b8077(0x7eb)]('add-shortcut-tab-btn')[_0x5b8077(0x5e6)]('click',handleAddShortcutTab),document[_0x5b8077(0x7eb)]('parallel-shortcut-container')['addEventListener']('click',_0x672406=>{const _0x44c525=_0x5b8077,_0x4d7bc1=_0x672406[_0x44c525(0x8ef)][_0x44c525(0xba1)](_0x44c525(0x827)),_0x223b28=_0x672406[_0x44c525(0x8ef)][_0x44c525(0xba1)]('.edit-parallel-shortcut-btn'),_0x3fb968=_0x672406[_0x44c525(0x8ef)][_0x44c525(0xba1)](_0x44c525(0xa26));if(_0x223b28)openParallelTestShortcutEditor(_0x223b28[_0x44c525(0x6e9)]['id']);else{if(_0x3fb968){const _0x2c4129=_0x3fb968[_0x44c525(0x6e9)]['id'];showConfirmation(_0x44c525(0x31e),async()=>{const _0x194ffc=_0x44c525,_0x37f95b=parallelTestShortcuts[_0x194ffc(0x514)](_0x1d8df7=>_0x1d8df7['id']!==_0x2c4129),_0x1c1060=doc(db,'globalSettings',_0x194ffc(0x7d0));await setDoc(_0x1c1060,{'shortcuts':_0x37f95b},{'merge':!![]});});}else _0x4d7bc1&&handleParallelTestShortcutClick(_0x4d7bc1[_0x44c525(0x6e9)]['id']);}}),document[_0x5b8077(0x7eb)]('add-parallel-shortcut-btn')[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>openParallelTestShortcutEditor(null)),document[_0x5b8077(0x7eb)](_0x5b8077(0x893))['addEventListener'](_0x5b8077(0x732),()=>{const _0x20700e=_0x5b8077;document['getElementById'](_0x20700e(0xba4))[_0x20700e(0xc3c)][_0x20700e(0x4ad)]('hidden');}),document[_0x5b8077(0x7eb)](_0x5b8077(0x4e4))['addEventListener']('click',saveParallelTestShortcutChanges),document[_0x5b8077(0x7eb)]('parallel-test-input-area')[_0x5b8077(0x5e6)](_0x5b8077(0x732),_0x26ca55=>{const _0x5aa6f7=_0x5b8077;_0x26ca55[_0x5aa6f7(0x8ef)][_0x5aa6f7(0xba1)]('#open-additional-parallel-shortcuts-btn')&&document[_0x5aa6f7(0x7eb)]('additional-parallel-shortcuts-modal')[_0x5aa6f7(0xc3c)][_0x5aa6f7(0x6f9)](_0x5aa6f7(0xcb0));}),document[_0x5b8077(0x7eb)](_0x5b8077(0x7f2))[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>{const _0x1ea246=_0x5b8077;document[_0x1ea246(0x7eb)](_0x1ea246(0x8fe))[_0x1ea246(0xc3c)][_0x1ea246(0x4ad)](_0x1ea246(0xcb0));}),document['getElementById'](_0x5b8077(0xb42))[_0x5b8077(0x5e6)]('click',_0x41d81d=>{const _0x3a9409=_0x5b8077,_0x1c34e3=document[_0x3a9409(0x7eb)](_0x3a9409(0x8fe)),_0xaa32af=_0x41d81d['target'][_0x3a9409(0xba1)](_0x3a9409(0x952)),_0x50e9a5=_0x41d81d[_0x3a9409(0x8ef)][_0x3a9409(0xba1)](_0x3a9409(0x66a)),_0x5d75ca=_0x41d81d['target'][_0x3a9409(0xba1)]('.delete-hidden-parallel-shortcut-btn');if(_0xaa32af)_0x1c34e3[_0x3a9409(0xc3c)][_0x3a9409(0x4ad)](_0x3a9409(0xcb0)),handleParallelTestShortcutClick(_0xaa32af['dataset']['id']);else{if(_0x50e9a5)_0x1c34e3[_0x3a9409(0xc3c)]['add'](_0x3a9409(0xcb0)),openParallelTestShortcutEditor(_0x50e9a5[_0x3a9409(0x6e9)]['id']);else{if(_0x5d75ca){const _0x116750=_0x5d75ca[_0x3a9409(0x6e9)]['id'];showConfirmation(_0x3a9409(0x31e),async()=>{const _0x5beb5c=_0x3a9409,_0x2a0f82=parallelTestShortcuts['filter'](_0x493347=>_0x493347['id']!==_0x116750),_0x4fe633=doc(db,_0x5beb5c(0x590),_0x5beb5c(0x7d0));await setDoc(_0x4fe633,{'shortcuts':_0x2a0f82},{'merge':!![]});});}}}}),document[_0x5b8077(0x7eb)](_0x5b8077(0x20e))[_0x5b8077(0x5e6)]('click',_0x234667=>{const _0x4c1c4a=_0x5b8077,_0x36328a=_0x234667[_0x4c1c4a(0x8ef)][_0x4c1c4a(0xba1)](_0x4c1c4a(0x756)),_0x394c5e=_0x234667['target'][_0x4c1c4a(0xba1)](_0x4c1c4a(0xc04)),_0x53a5ac=_0x234667['target'][_0x4c1c4a(0xba1)]('.delete-file-shortcut-btn');if(_0x394c5e)openFileShortcutEditor(_0x394c5e[_0x4c1c4a(0x6e9)]['id']);else{if(_0x53a5ac){const _0x470b59=_0x53a5ac[_0x4c1c4a(0x6e9)]['id'];showConfirmation(_0x4c1c4a(0x31e),async()=>{const _0x86ad5b=_0x4c1c4a,_0x3a06b8=fileShortcuts[_0x86ad5b(0x514)](_0x3963f9=>_0x3963f9['id']!==_0x470b59),_0x23316c=doc(db,_0x86ad5b(0x590),_0x86ad5b(0x9e2));await setDoc(_0x23316c,{'shortcuts':_0x3a06b8},{'merge':!![]});});}else _0x36328a&&handleFileShortcutClick(_0x36328a[_0x4c1c4a(0x6e9)]['id']);}}),document[_0x5b8077(0x7eb)]('add-file-shortcut-btn')[_0x5b8077(0x5e6)]('click',()=>openFileShortcutEditor(null)),document[_0x5b8077(0x7eb)](_0x5b8077(0xd16))[_0x5b8077(0x5e6)]('click',()=>{const _0x2c20a5=_0x5b8077;document[_0x2c20a5(0x7eb)](_0x2c20a5(0xc61))[_0x2c20a5(0xc3c)][_0x2c20a5(0x4ad)](_0x2c20a5(0xcb0));}),document[_0x5b8077(0x7eb)](_0x5b8077(0x681))['addEventListener'](_0x5b8077(0x732),saveFileShortcutChanges),document[_0x5b8077(0x7eb)](_0x5b8077(0x90f))[_0x5b8077(0x5e6)](_0x5b8077(0x732),_0x57f948=>{const _0x426b66=_0x5b8077;_0x57f948['target'][_0x426b66(0xba1)](_0x426b66(0x623))&&document[_0x426b66(0x7eb)](_0x426b66(0x573))['classList'][_0x426b66(0x6f9)](_0x426b66(0xcb0));}),document[_0x5b8077(0x7eb)](_0x5b8077(0x929))[_0x5b8077(0x5e6)]('click',()=>{const _0x3a54e4=_0x5b8077;document[_0x3a54e4(0x7eb)]('additional-file-shortcuts-modal')[_0x3a54e4(0xc3c)][_0x3a54e4(0x4ad)](_0x3a54e4(0xcb0));}),document['getElementById'](_0x5b8077(0x269))['addEventListener'](_0x5b8077(0x732),_0x113a90=>{const _0x371788=_0x5b8077,_0x352761=document[_0x371788(0x7eb)](_0x371788(0x573)),_0x528f60=_0x113a90[_0x371788(0x8ef)]['closest'](_0x371788(0x235)),_0x260322=_0x113a90['target']['closest']('.edit-hidden-file-shortcut-btn'),_0x288775=_0x113a90[_0x371788(0x8ef)]['closest']('.delete-hidden-file-shortcut-btn');if(_0x528f60)_0x352761['classList'][_0x371788(0x4ad)](_0x371788(0xcb0)),handleFileShortcutClick(_0x528f60[_0x371788(0x6e9)]['id']);else{if(_0x260322)_0x352761[_0x371788(0xc3c)][_0x371788(0x4ad)](_0x371788(0xcb0)),openFileShortcutEditor(_0x260322[_0x371788(0x6e9)]['id']);else{if(_0x288775){const _0x1321e=_0x288775[_0x371788(0x6e9)]['id'];showConfirmation('คุณแน่ใจว่าต้องการลบปุ่มลัดนี้?',async()=>{const _0xf6b16e=_0x371788,_0x29aa9c=fileShortcuts[_0xf6b16e(0x514)](_0x18c6ef=>_0x18c6ef['id']!==_0x1321e),_0x1baceb=doc(db,_0xf6b16e(0x590),_0xf6b16e(0x9e2));await setDoc(_0x1baceb,{'shortcuts':_0x29aa9c},{'merge':!![]});});}}}}),document['getElementById'](_0x5b8077(0xc1c))[_0x5b8077(0x5e6)](_0x5b8077(0x732),_0x2031da=>{const _0x590501=_0x5b8077;_0x2031da['target'][_0x590501(0xba1)](_0x590501(0x693))&&(activeShortcutTabId='all',renderAdditionalShortcutsModal(),document[_0x590501(0x7eb)](_0x590501(0xd83))['classList']['remove']('hidden'));}),document[_0x5b8077(0x7eb)](_0x5b8077(0xad1))[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>{const _0xde79f7=_0x5b8077;document['getElementById'](_0xde79f7(0xd83))['classList'][_0xde79f7(0x4ad)](_0xde79f7(0xcb0));}),document[_0x5b8077(0x7eb)](_0x5b8077(0x3df))['addEventListener']('click',_0x53d6a8=>{const _0x26b7a6=_0x5b8077,_0x4420ce=_0x53d6a8['target'][_0x26b7a6(0xba1)](_0x26b7a6(0x468)),_0xc9c438=_0x53d6a8['target'][_0x26b7a6(0xba1)](_0x26b7a6(0xa50)),_0x27df11=_0x53d6a8['target'][_0x26b7a6(0xba1)](_0x26b7a6(0x844)),_0x4a5a45=document[_0x26b7a6(0x7eb)](_0x26b7a6(0xd83));if(_0x4420ce)_0x4a5a45[_0x26b7a6(0xc3c)][_0x26b7a6(0x4ad)](_0x26b7a6(0xcb0)),handleShortcutClick(_0x4420ce[_0x26b7a6(0x6e9)]['id']);else{if(_0xc9c438)_0x4a5a45[_0x26b7a6(0xc3c)][_0x26b7a6(0x4ad)]('hidden'),openShortcutEditor(_0xc9c438[_0x26b7a6(0x6e9)]['id']);else{if(_0x27df11){const _0x50372=_0x27df11[_0x26b7a6(0x6e9)]['id'],_0x4e51e3=blueprintShortcuts[_0x26b7a6(0x712)](_0x2b752e=>_0x2b752e['id']===_0x50372)?.[_0x26b7a6(0x65c)];showConfirmation(_0x26b7a6(0x91f)+_0x4e51e3+'\x22?',async()=>{const _0x54bd52=_0x26b7a6,_0x5d4953=blueprintShortcuts[_0x54bd52(0x514)](_0x622770=>_0x622770['id']!==_0x50372);try{const _0x3e2b62=doc(db,_0x54bd52(0x590),_0x54bd52(0x9b2));await setDoc(_0x3e2b62,{'blueprintShortcuts':_0x5d4953},{'merge':!![]});}catch(_0x911313){console['error'](_0x54bd52(0xd8a),_0x911313);}});}}}}),document[_0x5b8077(0x7eb)](_0x5b8077(0xb29))[_0x5b8077(0x5e6)](_0x5b8077(0x732),_0x2c8fdf=>{const _0x545019=_0x5b8077,_0x19c1dc=_0x2c8fdf[_0x545019(0x8ef)][_0x545019(0xba1)](_0x545019(0x958)),_0x988064=_0x2c8fdf[_0x545019(0x8ef)]['closest'](_0x545019(0xbe8)),_0x53eff4=_0x2c8fdf[_0x545019(0x8ef)][_0x545019(0xba1)](_0x545019(0x479));if(_0x988064)openShortcutEditor(_0x988064['dataset']['id']);else{if(_0x53eff4){const _0xd2206a=_0x53eff4[_0x545019(0x6e9)]['id'],_0x39f978=blueprintShortcuts[_0x545019(0x712)](_0x1fc515=>_0x1fc515['id']===_0xd2206a)?.['name'];showConfirmation(_0x545019(0x91f)+_0x39f978+'\x22?',async()=>{const _0x1c3b77=_0x545019,_0xbfdc80=blueprintShortcuts[_0x1c3b77(0x514)](_0x186449=>_0x186449['id']!==_0xd2206a);try{const _0x43e035=doc(db,'globalSettings','dashboardConfig');await setDoc(_0x43e035,{'blueprintShortcuts':_0xbfdc80},{'merge':!![]});}catch(_0x5bb83f){console['error'](_0x1c3b77(0xd8a),_0x5bb83f);}});}else _0x19c1dc&&handleShortcutClick(_0x19c1dc[_0x545019(0x6e9)]['id']);}}),document[_0x5b8077(0x7eb)](_0x5b8077(0x87b))['addEventListener']('click',()=>openShortcutEditor(null)),document['getElementById'](_0x5b8077(0x2fd))[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>{const _0x1f8ff4=_0x5b8077;document[_0x1f8ff4(0x7eb)]('shortcut-editor-modal')[_0x1f8ff4(0xc3c)][_0x1f8ff4(0x4ad)]('hidden');}),document[_0x5b8077(0x7eb)]('save-shortcut-btn')['addEventListener']('click',saveShortcutChanges),document[_0x5b8077(0x7eb)](_0x5b8077(0x4d7))[_0x5b8077(0x5e6)]('click',async()=>{const _0x4269c8=_0x5b8077,_0xc5180f=document['getElementById'](_0x4269c8(0xbf1)),_0x1eb03a=document[_0x4269c8(0x7eb)](_0x4269c8(0xc15));_0xc5180f[_0x4269c8(0x762)]['length']>0x0?await handleGenerateFromBlueprintWithFiles(_0xc5180f[_0x4269c8(0x762)][0x0],_0x1eb03a[_0x4269c8(0x762)][0x0]||null):showMessage(_0x4269c8(0x319));}),document['getElementById'](_0x5b8077(0x60b))[_0x5b8077(0x5e6)]('click',async _0x3531af=>{const _0x30be76=_0x5b8077,_0x417059=document[_0x30be76(0x7eb)]('topic-quiz-bank-modal'),_0xcdb6b4=_0x3531af[_0x30be76(0x8ef)][_0x30be76(0xba1)](_0x30be76(0x404)),_0x205376=_0x3531af[_0x30be76(0x8ef)][_0x30be76(0xba1)]('.bp-unlink-quiz-btn'),_0x4a7bce=_0x3531af[_0x30be76(0x8ef)]['closest'](_0x30be76(0x1e0)),_0x3cb632=_0x3531af[_0x30be76(0x8ef)][_0x30be76(0xba1)](_0x30be76(0x8ff)),_0x146702=_0x3531af[_0x30be76(0x8ef)][_0x30be76(0xba1)]('.bp-live-btn'),_0x3a3e50=_0x3531af['target'][_0x30be76(0xba1)](_0x30be76(0x459));if(_0xcdb6b4){cameFromBlueprint=!![];const _0xe277d5=_0xcdb6b4[_0x30be76(0x6e9)][_0x30be76(0xd20)];showQuizDetailView(_0xe277d5),_0x417059[_0x30be76(0xc3c)][_0x30be76(0x4ad)](_0x30be76(0xcb0));}else{if(_0x205376){const _0x40beb2=_0x205376[_0x30be76(0x6e9)]['topicId'],_0x13327b=_0x205376[_0x30be76(0x6e9)][_0x30be76(0xd20)],_0x3092e8=allQuizzesGlobal['find'](_0x338022=>_0x338022['id']===_0x13327b),_0x4cef5f=_0x3092e8?_0x3092e8[_0x30be76(0x2d8)]:_0x30be76(0x48a);showConfirmation(_0x30be76(0x64d)+_0x4cef5f+_0x30be76(0x63d),async()=>{const _0x6cd2da=_0x30be76;try{const _0x1c46ed=doc(db,_0x6cd2da(0x41a)+appId+'/public/data/blueprintProjects',currentBlueprintProjectId);await updateDoc(_0x1c46ed,{[_0x6cd2da(0xc0d)+_0x40beb2+'.linkedQuizIds']:arrayRemove(_0x13327b)}),showMessage(_0x6cd2da(0x401)),openTopicQuizBank(_0x40beb2),displayBlueprintProjectManager(currentBlueprintProjectId);}catch(_0x16358d){console['error'](_0x6cd2da(0x616),_0x16358d),showMessage('เกิดข้อผิดพลาดในการนำแบบทดสอบออก');}});}else{if(_0x4a7bce){cameFromBlueprint=!![];const _0x1bdd8e=_0x4a7bce[_0x30be76(0x6e9)][_0x30be76(0xd20)],_0x3b1f36=allQuizzesGlobal[_0x30be76(0x712)](_0x281f8f=>_0x281f8f['id']===_0x1bdd8e);_0x3b1f36&&(startPresentation(_0x3b1f36),_0x417059[_0x30be76(0xc3c)][_0x30be76(0x4ad)](_0x30be76(0xcb0)));}else{if(_0x3cb632){cameFromBlueprint=!![];const _0x4116d2=_0x3cb632[_0x30be76(0x6e9)][_0x30be76(0xd20)],_0x31a34b=allQuizzesGlobal['find'](_0x2ed2d3=>_0x2ed2d3['id']===_0x4116d2);_0x31a34b&&(currentQuizData=_0x31a34b,startAdminTest(),_0x417059['classList'][_0x30be76(0x4ad)](_0x30be76(0xcb0)));}else{if(_0x146702)cameFromBlueprint=!![],handleStartLiveRace(_0x146702['dataset'][_0x30be76(0xd20)]),_0x417059['classList'][_0x30be76(0x4ad)](_0x30be76(0xcb0));else{if(_0x3a3e50){cameFromBlueprint=!![];const _0xaa1bc3=_0x3a3e50[_0x30be76(0x6e9)][_0x30be76(0xd20)],_0xe03693=_0x3a3e50[_0x30be76(0x6e9)][_0x30be76(0x3f3)],_0x2aa218=allQuizzesGlobal[_0x30be76(0x712)](_0x23694e=>_0x23694e['id']===_0xaa1bc3);_0x2aa218&&(showGameStartConfirmationModal(_0xaa1bc3,_0xe03693,_0x2aa218['topic']),_0x417059[_0x30be76(0xc3c)][_0x30be76(0x4ad)](_0x30be76(0xcb0)));}}}}}}}),document['getElementById'](_0x5b8077(0x4b4))['addEventListener'](_0x5b8077(0x732),()=>{const _0x249a28=_0x5b8077;document[_0x249a28(0x7eb)]('manual-blueprint-modal')[_0x249a28(0xc3c)][_0x249a28(0x6f9)](_0x249a28(0xcb0)),document[_0x249a28(0x7eb)](_0x249a28(0x7f9))[_0x249a28(0x53d)]='',document[_0x249a28(0x7eb)](_0x249a28(0x6d3))[_0x249a28(0x53d)]='',document['getElementById'](_0x249a28(0x33d))[_0x249a28(0x53d)]='';}),document[_0x5b8077(0x7eb)](_0x5b8077(0x49c))[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>{const _0x5e472c=_0x5b8077;document[_0x5e472c(0x7eb)](_0x5e472c(0xb7e))['classList'][_0x5e472c(0x4ad)](_0x5e472c(0xcb0));}),document['getElementById'](_0x5b8077(0xcaf))[_0x5b8077(0x5e6)](_0x5b8077(0x732),handleManualBlueprintSave),document['getElementById'](_0x5b8077(0x695))[_0x5b8077(0x5e6)]('click',()=>document['getElementById']('blueprint-settings-modal')['classList'][_0x5b8077(0x4ad)](_0x5b8077(0xcb0))),document[_0x5b8077(0x7eb)](_0x5b8077(0x847))[_0x5b8077(0x5e6)](_0x5b8077(0x732),handleSaveBlueprintPageSettings),document[_0x5b8077(0x7eb)](_0x5b8077(0x8d9))[_0x5b8077(0x5e6)](_0x5b8077(0x732),openBlueprintQuizSettings),document[_0x5b8077(0x7eb)]('save-blueprint-as-project-btn')[_0x5b8077(0x5e6)](_0x5b8077(0x732),saveBlueprintProject),document[_0x5b8077(0x7eb)]('open-blueprint-projects-btn')[_0x5b8077(0x5e6)]('click',showBlueprintProjects),document[_0x5b8077(0x7eb)]('cancel-blueprint-projects-btn')[_0x5b8077(0x5e6)]('click',()=>{const _0x43aa3c=_0x5b8077;document[_0x43aa3c(0x7eb)]('blueprint-projects-modal')[_0x43aa3c(0xc3c)][_0x43aa3c(0x4ad)](_0x43aa3c(0xcb0));}),document['getElementById'](_0x5b8077(0xcac))[_0x5b8077(0x5e6)](_0x5b8077(0x732),_0x394fef=>{const _0x3e981d=_0x5b8077,_0x3f5bd8=_0x394fef[_0x3e981d(0x8ef)][_0x3e981d(0xba1)](_0x3e981d(0x4b0)),_0x39792c=_0x394fef[_0x3e981d(0x8ef)][_0x3e981d(0xba1)]('.delete-bp-project-btn');if(_0x3f5bd8)displayBlueprintProjectManager(_0x3f5bd8['dataset']['id']);else _0x39792c&&handleDeepDeleteBlueprintProject(_0x39792c[_0x3e981d(0x6e9)]['id']);}),document['getElementById'](_0x5b8077(0xae2))[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>{const _0x4809ea=_0x5b8077;currentBlueprintProjectId=null,currentProjectId=null,document[_0x4809ea(0x7eb)](_0x4809ea(0xa69))['classList'][_0x4809ea(0x4ad)](_0x4809ea(0xcb0)),showView(_0x4809ea(0x656));}),document[_0x5b8077(0x7eb)](_0x5b8077(0x673))[_0x5b8077(0x5e6)]('click',addTopicToProject),document[_0x5b8077(0x7eb)](_0x5b8077(0x239))['addEventListener'](_0x5b8077(0x732),async _0x3cd304=>{const _0x3d8791=_0x5b8077,_0x31ac4b=_0x3cd304['target'][_0x3d8791(0xba1)](_0x3d8791(0x8c9));if(!_0x31ac4b)return;const _0x56c795=_0x31ac4b['dataset'][_0x3d8791(0xa62)],_0x2e9379=_0x3cd304['target'][_0x3d8791(0xba1)](_0x3d8791(0x882)),_0x24799a=_0x3cd304['target'][_0x3d8791(0xba1)](_0x3d8791(0xb9f)),_0x5d2621=_0x3cd304[_0x3d8791(0x8ef)][_0x3d8791(0xba1)]('.bp-create-topic-quiz-btn'),_0x10d331=_0x3cd304[_0x3d8791(0x8ef)][_0x3d8791(0xba1)]('.bp-open-topic-bank-btn'),_0x1d61f3=_0x3cd304[_0x3d8791(0x8ef)][_0x3d8791(0xba1)]('.view-bp-lesson-btn'),_0x30d726=_0x3cd304['target']['closest'](_0x3d8791(0x79d)),_0x45a1fb=_0x3cd304[_0x3d8791(0x8ef)][_0x3d8791(0xba1)](_0x3d8791(0xd85)),_0x69995e=_0x3cd304[_0x3d8791(0x8ef)][_0x3d8791(0xba1)](_0x3d8791(0x2d9)),_0x47d1b8=_0x54b512=>{const _0x5b15cf=_0x3d8791,_0x242402=_0x54b512[_0x5b15cf(0x6ea)](_0x5b15cf(0xb86))[_0x5b15cf(0xc95)]['trim'](),_0x404523=_0x54b512['closest']('.space-y-1.pl-4')[_0x5b15cf(0x953)],_0x4fe639=_0x404523?_0x404523[_0x5b15cf(0xc95)]['trim']():'';return _0x4fe639+':\x20'+_0x242402;};if(_0x10d331)openTopicQuizBank(_0x56c795);else{if(_0x2e9379){const _0x26da7a=_0x47d1b8(_0x31ac4b);selectProjectAndGenerateBlueprintQuiz(_0x26da7a,null,_0x56c795,!![]);}else{if(_0x24799a){const _0x1b7f68=_0x47d1b8(_0x31ac4b);try{const _0x16e47e=doc(db,'artifacts/'+appId+_0x3d8791(0x629)+currentBlueprintProjectId+_0x3d8791(0x34f),_0x56c795),_0x174672=await getDoc(_0x16e47e);if(_0x174672[_0x3d8791(0x931)]()){const _0x1bf82d=_0x174672[_0x3d8791(0x1e4)]()[_0x3d8791(0x349)],_0x5e09d4=document[_0x3d8791(0x855)](_0x3d8791(0x4dd)),_0x16b5a4=_0x5ac68f=>{const _0x4bd60b=_0x3d8791;if(!_0x5ac68f)return'';return _0x5e09d4[_0x4bd60b(0xbec)]=_0x5ac68f,_0x5e09d4['textContent']||_0x5e09d4[_0x4bd60b(0x8f2)]||'';},_0xfbe3dc=(_0x16b5a4(_0x1bf82d[_0x3d8791(0x3f2)])+'\x20'+_0x16b5a4(_0x1bf82d[_0x3d8791(0x750)])+'\x20'+_0x16b5a4(_0x1bf82d[_0x3d8791(0x83c)]))[_0x3d8791(0xa7e)]();selectProjectAndGenerateBlueprintQuiz(_0x1b7f68,_0xfbe3dc,_0x56c795,![]);}else showMessage(_0x3d8791(0x4cb));}catch(_0x27a6e5){console['error']('Error\x20preparing\x20content\x20quiz:',_0x27a6e5),showMessage('เกิดข้อผิดพลาดในการเตรียมข้อมูลสำหรับสร้างแบบทดสอบ');}}else{if(_0x5d2621){const _0x215bc6=_0x47d1b8(_0x31ac4b);selectProjectAndGenerateBlueprintQuiz(_0x215bc6,null,_0x56c795,![]);}else{if(_0x1d61f3){const _0x581700=doc(db,_0x3d8791(0x41a)+appId+_0x3d8791(0x408),currentBlueprintProjectId),_0x4d12a0=await getDoc(_0x581700);if(_0x4d12a0['exists']()){const _0x5d610a=_0x4d12a0[_0x3d8791(0x1e4)](),_0x2b0e67=_0x5d610a[_0x3d8791(0xc52)][_0x56c795];if(_0x2b0e67&&_0x2b0e67[_0x3d8791(0x996)]===_0x3d8791(0x461))try{const _0x2eac70=doc(db,_0x3d8791(0x41a)+appId+_0x3d8791(0x629)+currentBlueprintProjectId+'/lessons',_0x56c795),_0x2d8ca4=await getDoc(_0x2eac70);if(_0x2d8ca4['exists']()){const _0x1b976b=_0x2d8ca4[_0x3d8791(0x1e4)]()[_0x3d8791(0x349)];document['getElementById'](_0x3d8791(0xbbb))[_0x3d8791(0xc95)]='บทเรียนเรื่อง:\x20'+_0x47d1b8(_0x31ac4b),document[_0x3d8791(0x7eb)]('pointContent')[_0x3d8791(0xbec)]=_0x1b976b['point'],document[_0x3d8791(0x7eb)](_0x3d8791(0xd5e))[_0x3d8791(0xbec)]=_0x1b976b['memory'],document[_0x3d8791(0x7eb)](_0x3d8791(0xc14))[_0x3d8791(0xbec)]=_0x1b976b[_0x3d8791(0x83c)];const _0x1fe583=document[_0x3d8791(0x7eb)](_0x3d8791(0xcc2));_0x1b976b[_0x3d8791(0x764)]?(currentApplicationData=_0x1b976b[_0x3d8791(0x764)],_0x1fe583[_0x3d8791(0xbec)]=currentApplicationData[_0x3d8791(0xa3b)]((_0x1e5aa5,_0x4fbf57)=>_0x3d8791(0xb4c)+(_0x4fbf57+0x1)+'.\x20'+marked[_0x3d8791(0x28b)](_0x1e5aa5['question'])+_0x3d8791(0x7d4)+_0x4fbf57+_0x3d8791(0x688)+_0x1e5aa5[_0x3d8791(0x745)][_0x3d8791(0xa3b)]((_0x580754,_0x11979a)=>'<button\x20class=\x22w-full\x20text-left\x20p-2\x20border\x20rounded-md\x20mt-1\x20hover:bg-gray-100\x22\x20onclick=\x22checkAnswer('+_0x4fbf57+',\x20'+_0x11979a+')\x22>'+String[_0x3d8791(0xbb3)](0x61+_0x11979a)+'.\x20'+marked[_0x3d8791(0x28b)](_0x580754)+_0x3d8791(0x890))[_0x3d8791(0xaa2)]('')+'</div></div>')['join']('')):(currentApplicationData=[],_0x1fe583[_0x3d8791(0xbec)]=_0x1b976b[_0x3d8791(0x1e6)]||_0x1b976b[_0x3d8791(0x31f)]),document[_0x3d8791(0x7eb)]('lesson-loader')[_0x3d8791(0xc3c)]['add'](_0x3d8791(0xcb0)),document[_0x3d8791(0x7eb)]('lesson-sections-container')[_0x3d8791(0xc3c)][_0x3d8791(0x6f9)]('hidden'),document[_0x3d8791(0x7eb)]('lesson-view-modal')[_0x3d8791(0xc3c)][_0x3d8791(0x6f9)](_0x3d8791(0xcb0)),window[_0x3d8791(0x5f9)]&&MathJax['typesetPromise']([document['getElementById'](_0x3d8791(0x99b))]);}else showMessage(_0x3d8791(0x2f4));}catch(_0x506754){console[_0x3d8791(0x2b8)](_0x3d8791(0x73e),_0x506754),showMessage('เกิดข้อผิดพลาดในการดึงข้อมูลบทเรียน');}else showMessage(_0x3d8791(0x52f));}}else{if(_0x30d726){const _0x501a18=_0x47d1b8(_0x31ac4b),_0x1a9dcf=doc(db,_0x3d8791(0x41a)+appId+_0x3d8791(0x408),currentBlueprintProjectId),_0xcbc46b=await getDoc(_0x1a9dcf);if(_0xcbc46b[_0x3d8791(0x931)]()){const _0x23afab=_0xcbc46b[_0x3d8791(0x1e4)]();generateAndSaveLessonForBlueprint(_0x56c795,_0x501a18,_0x23afab[_0x3d8791(0x9c2)]);}}else{if(_0x45a1fb)editTopicInProject(_0x56c795);else _0x69995e&&deleteTopicFromProject(_0x56c795);}}}}}}}),document[_0x5b8077(0x7eb)](_0x5b8077(0xc1d))['addEventListener'](_0x5b8077(0x732),handleFixLessonLatex),document[_0x5b8077(0x7eb)](_0x5b8077(0xaaa))['addEventListener'](_0x5b8077(0x732),handleExportLessonToPDF),document[_0x5b8077(0x7eb)](_0x5b8077(0x872))['addEventListener']('click',()=>{const _0x48680a=_0x5b8077;document[_0x48680a(0x7eb)]('lesson-view-modal')[_0x48680a(0xc3c)][_0x48680a(0x4ad)]('hidden');});const _0x59bc2f=document[_0x5b8077(0x7eb)](_0x5b8077(0xc03)),_0x20d1dd=document['getElementById'](_0x5b8077(0xcd4));_0x59bc2f[_0x5b8077(0x5e6)]('change',()=>{const _0x5bf12a=_0x5b8077;_0x20d1dd[_0x5bf12a(0xc3c)]['toggle'](_0x5bf12a(0xcb0),!_0x59bc2f[_0x5bf12a(0x5b1)]);});const _0x493fff=document[_0x5b8077(0x7eb)](_0x5b8077(0xa81)),_0xfe95fe=document[_0x5b8077(0x7eb)](_0x5b8077(0xd2f));_0x493fff[_0x5b8077(0x5e6)]('change',()=>{const _0x17de78=_0x5b8077;_0xfe95fe[_0x17de78(0xc3c)]['toggle'](_0x17de78(0xcb0),!_0x493fff['checked']);});const _0x23752b=document[_0x5b8077(0x7eb)](_0x5b8077(0x702)),_0x246dda=document[_0x5b8077(0x7eb)](_0x5b8077(0x5b4));_0x23752b[_0x5b8077(0x5e6)](_0x5b8077(0x949),()=>{const _0x3cf6f0=_0x5b8077;_0x246dda[_0x3cf6f0(0xc3c)][_0x3cf6f0(0x899)](_0x3cf6f0(0xcb0),!_0x23752b[_0x3cf6f0(0x5b1)]);});const _0x129424=document['getElementById']('confidence-modal'),_0x3722d7=async _0x389556=>{const _0x7fb19d=_0x5b8077,_0x8f7524=document[_0x7fb19d(0x7eb)](_0x7fb19d(0x6a3)),_0x201946=_0x8f7524[_0x7fb19d(0x6e9)][_0x7fb19d(0x1fe)],_0x442556=document[_0x7fb19d(0x7eb)](_0x7fb19d(0xa49));_0x8f7524[_0x7fb19d(0xc3c)][_0x7fb19d(0x4ad)](_0x7fb19d(0xcb0));if(_0x201946===_0x7fb19d(0x5e7)){const _0x3d48af=_0x442556[_0x7fb19d(0x53d)],_0x53f3ec={'answer':_0x3d48af,'wasConfident':_0x389556};proceedToNextQuestion(_0x53f3ec);}else{if(_0x201946==='sync'){const _0x49c5c1=_0x442556['dataset'][_0x7fb19d(0xd86)],_0x23cf0e=JSON[_0x7fb19d(0x3d4)](_0x442556[_0x7fb19d(0x6e9)][_0x7fb19d(0x428)]),_0x5c5bc3=JSON[_0x7fb19d(0x3d4)](_0x442556[_0x7fb19d(0x6e9)][_0x7fb19d(0xb9d)]),_0x22dfe0=_0x442556['dataset'][_0x7fb19d(0x80d)];handleSyncAnswerSubmit(_0x49c5c1,_0x23cf0e,_0x5c5bc3,_0x22dfe0,_0x389556);}}_0x8f7524[_0x7fb19d(0x6e9)][_0x7fb19d(0x1fe)]='';};document[_0x5b8077(0x7eb)](_0x5b8077(0xc25))[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>_0x3722d7(!![])),document[_0x5b8077(0x7eb)]('confirm-not-confident')[_0x5b8077(0x5e6)]('click',()=>_0x3722d7(![])),liveGameView['addEventListener'](_0x5b8077(0x732),_0x82bf92=>{const _0x891e70=_0x5b8077,_0x1a1d0b=_0x82bf92[_0x891e70(0x8ef)]['closest'](_0x891e70(0x6bb));if(_0x1a1d0b){const _0x256647=_0x1a1d0b['dataset'][_0x891e70(0x80d)];_0x256647&&handleKickPlayerSync(_0x256647);}});const _0x42529a=document[_0x5b8077(0x7eb)]('confirm-game-start-btn'),_0x280250=document[_0x5b8077(0x7eb)](_0x5b8077(0x647));_0x280250[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>{const _0x1f0aca=_0x5b8077;document['getElementById'](_0x1f0aca(0x41f))[_0x1f0aca(0xc3c)][_0x1f0aca(0x4ad)](_0x1f0aca(0xcb0));}),_0x42529a[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>{const _0x180412=_0x5b8077,_0x2e24ad=document['getElementById'](_0x180412(0x230))[_0x180412(0x53d)],_0x5728a9=document['getElementById']('game-start-mode')[_0x180412(0x53d)],_0x59cea4=document['getElementById'](_0x180412(0xc7d))[_0x180412(0x5b1)];document[_0x180412(0x7eb)](_0x180412(0x41f))['classList'][_0x180412(0x4ad)](_0x180412(0xcb0));switch(_0x5728a9){case _0x180412(0xd6a):handleStartLiveRace(_0x2e24ad,_0x59cea4);break;case _0x180412(0xc93):handleStartTeamQuiz(_0x2e24ad,_0x59cea4);break;case _0x180412(0x20d):handleStartGroupMode(_0x2e24ad,_0x59cea4);break;case'sync':const _0xab0c1c=document[_0x180412(0x6ea)](_0x180412(0x86b))[_0x180412(0x53d)]||_0x180412(0xc39);handleStartSyncMode(_0x2e24ad,_0x59cea4,_0xab0c1c);break;}}),document[_0x5b8077(0x7eb)](_0x5b8077(0x556))[_0x5b8077(0x5e6)](_0x5b8077(0x732),handleJoinGroupActivity),liveGameView[_0x5b8077(0x5e6)](_0x5b8077(0x732),_0x4d5ced=>{const _0x342a0d=_0x5b8077,_0x507dde=_0x4d5ced[_0x342a0d(0x8ef)][_0x342a0d(0xba1)](_0x342a0d(0x7b1));document['querySelectorAll'](_0x342a0d(0xacb))['forEach'](_0x10d99e=>{const _0x5a8f5e=_0x342a0d;(!_0x507dde||_0x10d99e['id']!==_0x507dde[_0x5a8f5e(0x6e9)]['tooltipTarget'])&&_0x10d99e[_0x5a8f5e(0xc3c)][_0x5a8f5e(0x6f9)](_0x5a8f5e(0x815));});if(!_0x507dde)return;const _0x4742c4=_0x507dde[_0x342a0d(0x6e9)]['tooltipTarget'],_0x466627=document[_0x342a0d(0x7eb)](_0x4742c4);_0x466627&&_0x466627['classList'][_0x342a0d(0x899)](_0x342a0d(0x815));}),liveGameView[_0x5b8077(0x5e6)]('click',_0x4db99c=>{const _0x7a15ed=_0x5b8077;if(_0x4db99c[_0x7a15ed(0x8ef)][_0x7a15ed(0xc3c)][_0x7a15ed(0x5ba)]('kick-player-btn')){const _0x2cfda3=_0x4db99c[_0x7a15ed(0x8ef)]['dataset'][_0x7a15ed(0x80d)];_0x2cfda3&&handleKickPlayer(_0x2cfda3);}}),document[_0x5b8077(0x7eb)](_0x5b8077(0x470))['addEventListener'](_0x5b8077(0x86f),()=>document[_0x5b8077(0x7eb)](_0x5b8077(0x56c))['classList'][_0x5b8077(0x6f9)](_0x5b8077(0xcb0))),document[_0x5b8077(0x7eb)](_0x5b8077(0x56c))[_0x5b8077(0x5e6)](_0x5b8077(0x732),handleSaveProjectName),document[_0x5b8077(0x7eb)](_0x5b8077(0x470))[_0x5b8077(0x5e6)](_0x5b8077(0xb17),_0x4f67fd=>{const _0x25a6a5=_0x5b8077;_0x4f67fd[_0x25a6a5(0x9f9)]===_0x25a6a5(0xcf5)&&(_0x4f67fd[_0x25a6a5(0x82f)](),_0x4f67fd['target'][_0x25a6a5(0x6db)](),handleSaveProjectName());}),document['getElementById'](_0x5b8077(0x49e))[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>{const _0x35114e=_0x5b8077;document[_0x35114e(0x7eb)](_0x35114e(0xa1f))[_0x35114e(0xc3c)]['remove'](_0x35114e(0xcb0));}),document['getElementById'](_0x5b8077(0x85e))[_0x5b8077(0x5e6)]('click',()=>{const _0x27fa1e=_0x5b8077;document[_0x27fa1e(0x7eb)]('bulk-quiz-settings-modal')['classList'][_0x27fa1e(0x4ad)](_0x27fa1e(0xcb0));}),document['getElementById'](_0x5b8077(0x7e4))[_0x5b8077(0x5e6)]('click',handleBulkUpdateQuizSettings),document['getElementById'](_0x5b8077(0x73c))[_0x5b8077(0x5e6)]('click',handleModeSwitch),document[_0x5b8077(0x7eb)](_0x5b8077(0x9de))[_0x5b8077(0x5e6)]('click',handleUpdateOldQuizzes),document[_0x5b8077(0x7eb)](_0x5b8077(0x9db))['addEventListener'](_0x5b8077(0x732),handleResetProjectOrder),document[_0x5b8077(0x7eb)](_0x5b8077(0x639))[_0x5b8077(0x5e6)](_0x5b8077(0x732),handleSaveVisibilitySettings),document[_0x5b8077(0x7eb)](_0x5b8077(0xb7f))[_0x5b8077(0x5e6)](_0x5b8077(0x732),handleAddCustomMathTopic),document[_0x5b8077(0x7eb)](_0x5b8077(0x6c9))[_0x5b8077(0x5e6)]('click',handleSelectAllTopics),document[_0x5b8077(0x7eb)](_0x5b8077(0x218))['addEventListener'](_0x5b8077(0x732),handleDeselectAllTopics),document['getElementById']('back-to-dashboard-btn')[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>{const _0x24edf8=_0x5b8077;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x24edf8(0x656));}}),document['getElementById']('back-to-project-btn')['addEventListener'](_0x5b8077(0x732),()=>{const _0x3a5734=_0x5b8077;if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else{if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x3a5734(0x2a6));}}),document[_0x5b8077(0x7eb)](_0x5b8077(0x7d5))[_0x5b8077(0x5e6)]('click',()=>{showView('admin-dashboard');}),document[_0x5b8077(0x7eb)](_0x5b8077(0xbf6))['addEventListener']('click',()=>{const _0x55975e=_0x5b8077;messageModal[_0x55975e(0xc3c)][_0x55975e(0x4ad)](_0x55975e(0xcb0)),typeof modalConfirmAction===_0x55975e(0x7ca)&&(modalConfirmAction(),modalConfirmAction=null);}),document[_0x5b8077(0x7eb)](_0x5b8077(0x4be))[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>createProjectModal['classList'][_0x5b8077(0x6f9)](_0x5b8077(0xcb0))),document[_0x5b8077(0x7eb)](_0x5b8077(0x79c))['addEventListener']('click',()=>createProjectModal[_0x5b8077(0xc3c)][_0x5b8077(0x4ad)]('hidden')),document[_0x5b8077(0x7eb)](_0x5b8077(0xc43))[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>adminPasswordModal[_0x5b8077(0xc3c)][_0x5b8077(0x4ad)](_0x5b8077(0xcb0))),document['getElementById'](_0x5b8077(0x3f5))[_0x5b8077(0x5e6)](_0x5b8077(0x732),handleAdminLogin),document[_0x5b8077(0x7eb)](_0x5b8077(0xb87))[_0x5b8077(0x5e6)](_0x5b8077(0x9cd),_0xecbe46=>{const _0x49cf3b=_0x5b8077;if(_0xecbe46[_0x49cf3b(0x9f9)]===_0x49cf3b(0xcf5))handleAdminLogin();}),document[_0x5b8077(0x7eb)](_0x5b8077(0xc6a))['addEventListener'](_0x5b8077(0x732),()=>{const _0x4db426=_0x5b8077;confirmationModal[_0x4db426(0xc3c)][_0x4db426(0x4ad)]('hidden'),confirmAction=null;}),document[_0x5b8077(0x7eb)](_0x5b8077(0x335))[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>{const _0x3f5507=_0x5b8077;confirmAction&&confirmAction(),confirmationModal[_0x3f5507(0xc3c)][_0x3f5507(0x4ad)]('hidden'),confirmAction=null;}),document[_0x5b8077(0x7eb)](_0x5b8077(0x326))[_0x5b8077(0x5e6)]('click',()=>renameQuizModal[_0x5b8077(0xc3c)][_0x5b8077(0x4ad)](_0x5b8077(0xcb0))),document['getElementById']('confirm-rename-quiz-btn')['addEventListener'](_0x5b8077(0x732),confirmRenameQuiz),document[_0x5b8077(0x7eb)](_0x5b8077(0x390))[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>moveQuizModal['classList'][_0x5b8077(0x4ad)](_0x5b8077(0xcb0))),document[_0x5b8077(0x7eb)](_0x5b8077(0x247))[_0x5b8077(0x5e6)](_0x5b8077(0x732),confirmMoveQuiz),document['getElementById']('cancel-quiz-settings-btn')[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>quizSettingsModal[_0x5b8077(0xc3c)]['add'](_0x5b8077(0xcb0))),document[_0x5b8077(0x7eb)]('confirm-quiz-settings-btn')[_0x5b8077(0x5e6)]('click',confirmQuizSettings),document[_0x5b8077(0x7eb)](_0x5b8077(0x2d2))[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>quizStatusModal[_0x5b8077(0xc3c)]['add'](_0x5b8077(0xcb0))),document[_0x5b8077(0x7eb)]('confirm-quiz-status-btn')['addEventListener'](_0x5b8077(0x732),confirmQuizStatus);const _0x53f3d6=document[_0x5b8077(0x7eb)](_0x5b8077(0x760));document['getElementById'](_0x5b8077(0xc6f))[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>{const _0x419c19=_0x5b8077;_0x53f3d6[_0x419c19(0xc3c)][_0x419c19(0x4ad)]('hidden');}),document[_0x5b8077(0x7eb)](_0x5b8077(0xd3f))[_0x5b8077(0x5e6)]('click',async()=>{const _0x3eaf14=_0x5b8077,_0x42ef56=allQuizzes['find'](_0x530f1c=>_0x530f1c['id']===actionTargetId);_0x42ef56?(currentQuizData=_0x42ef56,exportQuizAsWorksheetPDF()):showMessage(_0x3eaf14(0xa24)),_0x53f3d6[_0x3eaf14(0xc3c)][_0x3eaf14(0x4ad)](_0x3eaf14(0xcb0));}),document['getElementById']('export-tutor-pdf-btn')[_0x5b8077(0x5e6)](_0x5b8077(0x732),async()=>{const _0x114549=_0x5b8077,_0x5a5d5a=allQuizzes['find'](_0x321cc6=>_0x321cc6['id']===actionTargetId);_0x5a5d5a?(currentQuizData=_0x5a5d5a,exportQuizAsTutorPDF()):showMessage(_0x114549(0xa24)),_0x53f3d6[_0x114549(0xc3c)][_0x114549(0x4ad)](_0x114549(0xcb0));});const _0x5eca21=document[_0x5b8077(0x7eb)](_0x5b8077(0x830));_0x5eca21['innerHTML']=_0x5b8077(0x4a3),_0x5eca21[_0x5b8077(0x5e6)](_0x5b8077(0x732),openGlobalActivityModal),document[_0x5b8077(0x7eb)](_0x5b8077(0xa31))[_0x5b8077(0x5e6)]('click',()=>{const _0x485948=_0x5b8077;document[_0x485948(0x7eb)](_0x485948(0x871))[_0x485948(0xc3c)][_0x485948(0x4ad)](_0x485948(0xcb0));}),document[_0x5b8077(0x7eb)](_0x5b8077(0xa86))[_0x5b8077(0x5e6)](_0x5b8077(0x2c5),_0x109010=>{const _0x5d0a72=_0x5b8077;renderGlobalActivityList(_0x109010[_0x5d0a72(0x8ef)]['value']);}),document[_0x5b8077(0x7eb)](_0x5b8077(0xbca))['addEventListener'](_0x5b8077(0x732),_0x40abee=>{const _0x237a0d=_0x5b8077,_0x540dff=_0x40abee['target'][_0x237a0d(0xba1)](_0x237a0d(0x918));if(!_0x540dff)return;const _0x25b28d=_0x540dff[_0x237a0d(0x6e9)]['id'],_0x3f0e57=_0x540dff[_0x237a0d(0x6e9)][_0x237a0d(0x3f3)],_0x115a36=allQuizzesGlobal[_0x237a0d(0x712)](_0x4a92e8=>_0x4a92e8['id']===_0x25b28d);_0x115a36&&(document[_0x237a0d(0x7eb)](_0x237a0d(0x871))['classList'][_0x237a0d(0x4ad)]('hidden'),_0x3f0e57===_0x237a0d(0xd6a)?handleStartLiveRace(_0x25b28d):showGameStartConfirmationModal(_0x25b28d,_0x3f0e57,_0x115a36[_0x237a0d(0x2d8)]));}),document[_0x5b8077(0x7eb)](_0x5b8077(0xce0))[_0x5b8077(0x5e6)](_0x5b8077(0x2c5),renderProjects),document[_0x5b8077(0x7eb)]('project-sort-select')['addEventListener']('change',async()=>{const _0x5cf37f=_0x5b8077,_0x19ebdc=document['getElementById'](_0x5cf37f(0x43f))['value'],_0x3b88b9=doc(db,_0x5cf37f(0x590),_0x5cf37f(0x9b2));try{await setDoc(_0x3b88b9,{'projectSort':_0x19ebdc},{'merge':!![]});}catch(_0x2cc5ea){console[_0x5cf37f(0x2b8)](_0x5cf37f(0x215),_0x2cc5ea),showMessage(_0x5cf37f(0x631));}}),document[_0x5b8077(0x7eb)](_0x5b8077(0x90c))[_0x5b8077(0x5e6)](_0x5b8077(0x2c5),renderQuizzes),document[_0x5b8077(0x7eb)](_0x5b8077(0xa60))['addEventListener']('click',()=>{const _0x3b9afc=_0x5b8077;globalDashboardSettings['projectView']=_0x3b9afc(0x6b0),saveUserPreference(_0x3b9afc(0x377),'grid'),renderProjects();}),document[_0x5b8077(0x7eb)](_0x5b8077(0xc2a))[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>{const _0x2385a1=_0x5b8077;globalDashboardSettings[_0x2385a1(0x377)]=_0x2385a1(0x65d),saveUserPreference('projectView',_0x2385a1(0x65d)),renderProjects();}),manageTab[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>switchProjectTab('manage')),resultsTab[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>switchProjectTab(_0x5b8077(0x782))),leaderboardTab[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>switchProjectTab('leaderboard')),document[_0x5b8077(0x7eb)](_0x5b8077(0x88d))[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>switchQuizDetailTab(_0x5b8077(0x8cb))),document[_0x5b8077(0x7eb)]('scores-tab-btn')['addEventListener']('click',()=>switchQuizDetailTab(_0x5b8077(0x9b3))),document[_0x5b8077(0x7eb)](_0x5b8077(0xb83))[_0x5b8077(0x5e6)]('click',()=>switchQuizDetailTab(_0x5b8077(0xd7e))),document[_0x5b8077(0x7eb)]('behavior-log-tab-btn')[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>switchQuizDetailTab(_0x5b8077(0xc3b))),document[_0x5b8077(0x7eb)](_0x5b8077(0x83a))[_0x5b8077(0x5e6)](_0x5b8077(0x732),handleAnalyzeClass),generateWorksheetBtn[_0x5b8077(0x5e6)]('click',generateWorksheet);const _0x7aaa52=document[_0x5b8077(0x7eb)](_0x5b8077(0x545)),_0x3f9683=document[_0x5b8077(0x7eb)]('link-input-area'),_0x3a3e83=document[_0x5b8077(0x7eb)]('blueprint-tab'),_0x1d9f9e=document[_0x5b8077(0x7eb)](_0x5b8077(0xc1c)),_0x1ac3c4=document[_0x5b8077(0x7eb)](_0x5b8077(0xa3a)),_0x1b37ee=document[_0x5b8077(0x7eb)]('parallel-test-input-area');topicTab[_0x5b8077(0x5e6)]('click',()=>{const _0x258571=_0x5b8077;topicTab[_0x258571(0xc3c)][_0x258571(0x4ad)](_0x258571(0x3a5)),textTab[_0x258571(0xc3c)][_0x258571(0x6f9)](_0x258571(0x3a5)),fileTab[_0x258571(0xc3c)][_0x258571(0x6f9)](_0x258571(0x3a5)),worksheetTab[_0x258571(0xc3c)][_0x258571(0x6f9)](_0x258571(0x3a5));if(_0x7aaa52)_0x7aaa52[_0x258571(0xc3c)][_0x258571(0x6f9)](_0x258571(0x3a5));if(_0x3a3e83)_0x3a3e83[_0x258571(0xc3c)][_0x258571(0x6f9)]('active');if(_0x1ac3c4)_0x1ac3c4[_0x258571(0xc3c)][_0x258571(0x6f9)]('active');topicInputArea['classList'][_0x258571(0x6f9)](_0x258571(0xcb0)),textInputArea[_0x258571(0xc3c)]['add'](_0x258571(0xcb0)),fileInputArea[_0x258571(0xc3c)][_0x258571(0x4ad)](_0x258571(0xcb0)),worksheetInputArea[_0x258571(0xc3c)][_0x258571(0x4ad)](_0x258571(0xcb0));if(_0x3f9683)_0x3f9683[_0x258571(0xc3c)][_0x258571(0x4ad)](_0x258571(0xcb0));if(_0x1d9f9e)_0x1d9f9e['classList'][_0x258571(0x4ad)](_0x258571(0xcb0));if(_0x1b37ee)_0x1b37ee[_0x258571(0xc3c)][_0x258571(0x4ad)](_0x258571(0xcb0));}),textTab[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>{const _0x5d85c1=_0x5b8077;textTab['classList'][_0x5d85c1(0x4ad)](_0x5d85c1(0x3a5)),topicTab['classList'][_0x5d85c1(0x6f9)](_0x5d85c1(0x3a5)),fileTab['classList'][_0x5d85c1(0x6f9)](_0x5d85c1(0x3a5)),worksheetTab['classList']['remove'](_0x5d85c1(0x3a5));if(_0x7aaa52)_0x7aaa52[_0x5d85c1(0xc3c)][_0x5d85c1(0x6f9)](_0x5d85c1(0x3a5));if(_0x3a3e83)_0x3a3e83[_0x5d85c1(0xc3c)][_0x5d85c1(0x6f9)](_0x5d85c1(0x3a5));if(_0x1ac3c4)_0x1ac3c4[_0x5d85c1(0xc3c)][_0x5d85c1(0x6f9)]('active');textInputArea[_0x5d85c1(0xc3c)][_0x5d85c1(0x6f9)](_0x5d85c1(0xcb0)),topicInputArea[_0x5d85c1(0xc3c)][_0x5d85c1(0x4ad)](_0x5d85c1(0xcb0)),fileInputArea[_0x5d85c1(0xc3c)][_0x5d85c1(0x4ad)](_0x5d85c1(0xcb0)),worksheetInputArea['classList']['add'](_0x5d85c1(0xcb0));if(_0x3f9683)_0x3f9683[_0x5d85c1(0xc3c)][_0x5d85c1(0x4ad)](_0x5d85c1(0xcb0));if(_0x1d9f9e)_0x1d9f9e[_0x5d85c1(0xc3c)][_0x5d85c1(0x4ad)](_0x5d85c1(0xcb0));if(_0x1b37ee)_0x1b37ee[_0x5d85c1(0xc3c)][_0x5d85c1(0x4ad)](_0x5d85c1(0xcb0));}),fileTab['addEventListener']('click',()=>{const _0x84c6b2=_0x5b8077;fileTab[_0x84c6b2(0xc3c)]['add'](_0x84c6b2(0x3a5)),topicTab[_0x84c6b2(0xc3c)]['remove'](_0x84c6b2(0x3a5)),textTab[_0x84c6b2(0xc3c)][_0x84c6b2(0x6f9)](_0x84c6b2(0x3a5)),worksheetTab[_0x84c6b2(0xc3c)][_0x84c6b2(0x6f9)](_0x84c6b2(0x3a5));if(_0x7aaa52)_0x7aaa52['classList']['remove'](_0x84c6b2(0x3a5));if(_0x3a3e83)_0x3a3e83[_0x84c6b2(0xc3c)][_0x84c6b2(0x6f9)](_0x84c6b2(0x3a5));if(_0x1ac3c4)_0x1ac3c4['classList'][_0x84c6b2(0x6f9)](_0x84c6b2(0x3a5));fileInputArea[_0x84c6b2(0xc3c)][_0x84c6b2(0x6f9)](_0x84c6b2(0xcb0)),topicInputArea['classList'][_0x84c6b2(0x4ad)](_0x84c6b2(0xcb0)),textInputArea['classList'][_0x84c6b2(0x4ad)](_0x84c6b2(0xcb0)),worksheetInputArea['classList']['add'](_0x84c6b2(0xcb0));if(_0x3f9683)_0x3f9683[_0x84c6b2(0xc3c)][_0x84c6b2(0x4ad)](_0x84c6b2(0xcb0));if(_0x1d9f9e)_0x1d9f9e[_0x84c6b2(0xc3c)][_0x84c6b2(0x4ad)](_0x84c6b2(0xcb0));if(_0x1b37ee)_0x1b37ee[_0x84c6b2(0xc3c)][_0x84c6b2(0x4ad)](_0x84c6b2(0xcb0));}),worksheetTab[_0x5b8077(0x5e6)]('click',()=>{const _0x386d1f=_0x5b8077;worksheetTab[_0x386d1f(0xc3c)][_0x386d1f(0x4ad)](_0x386d1f(0x3a5)),topicTab['classList'][_0x386d1f(0x6f9)](_0x386d1f(0x3a5)),textTab['classList'][_0x386d1f(0x6f9)](_0x386d1f(0x3a5)),fileTab[_0x386d1f(0xc3c)][_0x386d1f(0x6f9)](_0x386d1f(0x3a5));if(_0x7aaa52)_0x7aaa52[_0x386d1f(0xc3c)][_0x386d1f(0x6f9)]('active');if(_0x3a3e83)_0x3a3e83['classList']['remove'](_0x386d1f(0x3a5));if(_0x1ac3c4)_0x1ac3c4[_0x386d1f(0xc3c)][_0x386d1f(0x6f9)]('active');worksheetInputArea['classList']['remove']('hidden'),topicInputArea[_0x386d1f(0xc3c)]['add'](_0x386d1f(0xcb0)),textInputArea[_0x386d1f(0xc3c)][_0x386d1f(0x4ad)](_0x386d1f(0xcb0)),fileInputArea[_0x386d1f(0xc3c)][_0x386d1f(0x4ad)](_0x386d1f(0xcb0));if(_0x3f9683)_0x3f9683[_0x386d1f(0xc3c)][_0x386d1f(0x4ad)]('hidden');if(_0x1d9f9e)_0x1d9f9e[_0x386d1f(0xc3c)][_0x386d1f(0x4ad)]('hidden');if(_0x1b37ee)_0x1b37ee['classList'][_0x386d1f(0x4ad)](_0x386d1f(0xcb0));});const _0x495c07=document['getElementById'](_0x5b8077(0x242)),_0x435c5f=document['getElementById']('bank-input-area');_0x495c07&&_0x495c07[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>{const _0x56520e=_0x5b8077;topicTab[_0x56520e(0xc3c)][_0x56520e(0x6f9)]('active'),textTab[_0x56520e(0xc3c)]['remove'](_0x56520e(0x3a5)),fileTab[_0x56520e(0xc3c)][_0x56520e(0x6f9)](_0x56520e(0x3a5)),worksheetTab['classList'][_0x56520e(0x6f9)](_0x56520e(0x3a5));if(_0x7aaa52)_0x7aaa52[_0x56520e(0xc3c)][_0x56520e(0x6f9)]('active');if(_0x3a3e83)_0x3a3e83['classList']['remove'](_0x56520e(0x3a5));if(_0x1ac3c4)_0x1ac3c4[_0x56520e(0xc3c)]['remove']('active');_0x495c07[_0x56520e(0xc3c)][_0x56520e(0x4ad)](_0x56520e(0x3a5)),topicInputArea['classList'][_0x56520e(0x4ad)](_0x56520e(0xcb0)),textInputArea[_0x56520e(0xc3c)][_0x56520e(0x4ad)](_0x56520e(0xcb0)),fileInputArea[_0x56520e(0xc3c)][_0x56520e(0x4ad)]('hidden'),worksheetInputArea[_0x56520e(0xc3c)][_0x56520e(0x4ad)](_0x56520e(0xcb0));if(_0x3f9683)_0x3f9683['classList']['add']('hidden');if(_0x1d9f9e)_0x1d9f9e[_0x56520e(0xc3c)][_0x56520e(0x4ad)](_0x56520e(0xcb0));if(_0x1b37ee)_0x1b37ee['classList'][_0x56520e(0x4ad)](_0x56520e(0xcb0));_0x435c5f[_0x56520e(0xc3c)][_0x56520e(0x6f9)](_0x56520e(0xcb0)),displayQuestionBank();});_0x7aaa52&&(_0x7aaa52[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>{const _0x16c0cb=_0x5b8077;_0x7aaa52[_0x16c0cb(0xc3c)]['add']('active'),topicTab[_0x16c0cb(0xc3c)][_0x16c0cb(0x6f9)](_0x16c0cb(0x3a5)),textTab[_0x16c0cb(0xc3c)][_0x16c0cb(0x6f9)](_0x16c0cb(0x3a5)),fileTab[_0x16c0cb(0xc3c)][_0x16c0cb(0x6f9)](_0x16c0cb(0x3a5)),worksheetTab[_0x16c0cb(0xc3c)][_0x16c0cb(0x6f9)](_0x16c0cb(0x3a5));if(_0x3a3e83)_0x3a3e83[_0x16c0cb(0xc3c)]['remove'](_0x16c0cb(0x3a5));if(_0x1ac3c4)_0x1ac3c4[_0x16c0cb(0xc3c)]['remove'](_0x16c0cb(0x3a5));_0x3f9683[_0x16c0cb(0xc3c)][_0x16c0cb(0x6f9)](_0x16c0cb(0xcb0)),topicInputArea[_0x16c0cb(0xc3c)]['add'](_0x16c0cb(0xcb0)),textInputArea[_0x16c0cb(0xc3c)][_0x16c0cb(0x4ad)]('hidden'),fileInputArea[_0x16c0cb(0xc3c)]['add'](_0x16c0cb(0xcb0)),worksheetInputArea['classList'][_0x16c0cb(0x4ad)](_0x16c0cb(0xcb0));if(_0x1d9f9e)_0x1d9f9e[_0x16c0cb(0xc3c)][_0x16c0cb(0x4ad)](_0x16c0cb(0xcb0));if(_0x1b37ee)_0x1b37ee[_0x16c0cb(0xc3c)][_0x16c0cb(0x4ad)]('hidden');}),document[_0x5b8077(0x7eb)]('generate-from-link-btn')[_0x5b8077(0x5e6)](_0x5b8077(0x732),handleGenerateFromLink));_0x3a3e83&&_0x3a3e83['addEventListener']('click',()=>{const _0xeacca7=_0x5b8077;_0x3a3e83[_0xeacca7(0xc3c)]['add'](_0xeacca7(0x3a5)),topicTab[_0xeacca7(0xc3c)]['remove'](_0xeacca7(0x3a5)),textTab[_0xeacca7(0xc3c)][_0xeacca7(0x6f9)]('active'),fileTab[_0xeacca7(0xc3c)][_0xeacca7(0x6f9)](_0xeacca7(0x3a5)),worksheetTab['classList']['remove'](_0xeacca7(0x3a5));if(_0x7aaa52)_0x7aaa52[_0xeacca7(0xc3c)]['remove'](_0xeacca7(0x3a5));if(_0x495c07)_0x495c07[_0xeacca7(0xc3c)]['remove'](_0xeacca7(0x3a5));if(_0x1ac3c4)_0x1ac3c4[_0xeacca7(0xc3c)][_0xeacca7(0x6f9)](_0xeacca7(0x3a5));_0x1d9f9e[_0xeacca7(0xc3c)][_0xeacca7(0x6f9)](_0xeacca7(0xcb0)),topicInputArea[_0xeacca7(0xc3c)][_0xeacca7(0x4ad)]('hidden'),textInputArea[_0xeacca7(0xc3c)]['add'](_0xeacca7(0xcb0)),fileInputArea[_0xeacca7(0xc3c)]['add']('hidden'),worksheetInputArea[_0xeacca7(0xc3c)][_0xeacca7(0x4ad)](_0xeacca7(0xcb0));if(_0x3f9683)_0x3f9683[_0xeacca7(0xc3c)][_0xeacca7(0x4ad)](_0xeacca7(0xcb0));if(_0x435c5f)_0x435c5f['classList']['add'](_0xeacca7(0xcb0));if(_0x1b37ee)_0x1b37ee[_0xeacca7(0xc3c)][_0xeacca7(0x4ad)]('hidden');});_0x1ac3c4&&_0x1ac3c4['addEventListener'](_0x5b8077(0x732),()=>{const _0x3543a4=_0x5b8077;_0x1ac3c4['classList']['add'](_0x3543a4(0x3a5)),topicTab['classList']['remove'](_0x3543a4(0x3a5)),textTab[_0x3543a4(0xc3c)][_0x3543a4(0x6f9)](_0x3543a4(0x3a5)),fileTab[_0x3543a4(0xc3c)][_0x3543a4(0x6f9)](_0x3543a4(0x3a5)),worksheetTab[_0x3543a4(0xc3c)][_0x3543a4(0x6f9)](_0x3543a4(0x3a5));if(_0x7aaa52)_0x7aaa52['classList'][_0x3543a4(0x6f9)](_0x3543a4(0x3a5));if(_0x3a3e83)_0x3a3e83[_0x3543a4(0xc3c)][_0x3543a4(0x6f9)](_0x3543a4(0x3a5));if(_0x495c07)_0x495c07[_0x3543a4(0xc3c)]['remove'](_0x3543a4(0x3a5));_0x1b37ee[_0x3543a4(0xc3c)][_0x3543a4(0x6f9)](_0x3543a4(0xcb0)),topicInputArea['classList']['add'](_0x3543a4(0xcb0)),textInputArea[_0x3543a4(0xc3c)]['add'](_0x3543a4(0xcb0)),fileInputArea['classList'][_0x3543a4(0x4ad)]('hidden'),worksheetInputArea[_0x3543a4(0xc3c)]['add'](_0x3543a4(0xcb0));if(_0x3f9683)_0x3f9683[_0x3543a4(0xc3c)]['add'](_0x3543a4(0xcb0));if(_0x1d9f9e)_0x1d9f9e[_0x3543a4(0xc3c)][_0x3543a4(0x4ad)](_0x3543a4(0xcb0));if(_0x435c5f)_0x435c5f[_0x3543a4(0xc3c)]['add'](_0x3543a4(0xcb0));});const _0x18f624=document[_0x5b8077(0x7eb)](_0x5b8077(0xbf1)),_0x81c5b1=document['getElementById'](_0x5b8077(0x4d7));if(_0x18f624){const _0x4abfee=document[_0x5b8077(0x7eb)](_0x5b8077(0xbf1)),_0x4d12ac=document[_0x5b8077(0x7eb)](_0x5b8077(0x4d7)),_0x4b5f3d=document[_0x5b8077(0x7eb)](_0x5b8077(0x95a)),_0x5d2e69=document[_0x5b8077(0x7eb)](_0x5b8077(0xc5c)),_0x2bda11=document[_0x5b8077(0x7eb)]('blueprint-topics-list-container'),_0x478da9=document[_0x5b8077(0x7eb)](_0x5b8077(0x67d));_0x4abfee&&_0x4abfee[_0x5b8077(0x5e6)](_0x5b8077(0x949),async _0x3f013d=>{const _0x4bd2c1=_0x5b8077;_0x4b5f3d[_0x4bd2c1(0xc3c)][_0x4bd2c1(0x4ad)](_0x4bd2c1(0xcb0)),_0x2bda11['classList'][_0x4bd2c1(0x4ad)](_0x4bd2c1(0xcb0)),_0x5d2e69['checked']=![],_0x4d12ac[_0x4bd2c1(0x744)]=!![];const _0xa4fb70=_0x3f013d[_0x4bd2c1(0x8ef)][_0x4bd2c1(0x762)][0x0];if(_0xa4fb70){_0x4d12ac[_0x4bd2c1(0x744)]=![];try{const _0x1bef7d=await extractTextFromPdf(_0xa4fb70);await analyzeBlueprintForTopics(_0x1bef7d);}catch(_0x134483){showMessage(_0x4bd2c1(0xbe4)),_0x4b5f3d[_0x4bd2c1(0xc3c)][_0x4bd2c1(0x4ad)](_0x4bd2c1(0xcb0));}}}),_0x5d2e69&&_0x5d2e69[_0x5b8077(0x5e6)](_0x5b8077(0x949),_0x3d08d3=>{const _0x334f0f=_0x5b8077,_0x22d2bb=_0x3d08d3[_0x334f0f(0x8ef)][_0x334f0f(0x5b1)];_0x2bda11['classList'][_0x334f0f(0x899)]('hidden',!_0x22d2bb),_0x4d12ac[_0x334f0f(0x744)]=_0x22d2bb;}),_0x478da9&&(_0x478da9&&_0x478da9[_0x5b8077(0x5e6)](_0x5b8077(0x732),_0x1ec774=>{const _0x168925=_0x5b8077,_0x1b51dd=_0x1ec774[_0x168925(0x8ef)][_0x168925(0xba1)](_0x168925(0x415)),_0x1c2559=_0x1ec774[_0x168925(0x8ef)][_0x168925(0xba1)]('.generate-content-btn');if(_0x1b51dd){const _0x1811e2=unescape(_0x1b51dd[_0x168925(0x6e9)][_0x168925(0x2d8)]);generateQuizForSingleTopic(_0x1811e2);}else{if(_0x1c2559){const _0x449df1=unescape(_0x1c2559[_0x168925(0x6e9)]['topic']);handleGenerateTeachingContent(_0x449df1);}}}));}_0x81c5b1&&_0x81c5b1[_0x5b8077(0x5e6)](_0x5b8077(0x732),handleGenerateFromBlueprint);const _0x57f403=document['getElementById'](_0x5b8077(0x9da)),_0x5e9926=document[_0x5b8077(0x7eb)](_0x5b8077(0xc01));_0x57f403&&_0x57f403[_0x5b8077(0x5e6)](_0x5b8077(0x949),_0x2182ae=>{const _0x4bd1f3=_0x5b8077;_0x5e9926[_0x4bd1f3(0x744)]=_0x2182ae['target'][_0x4bd1f3(0x762)]['length']===0x0;});_0x5e9926&&_0x5e9926['addEventListener'](_0x5b8077(0x732),()=>{handleGenerateParallelTest();});loadQuizBtn['addEventListener'](_0x5b8077(0x732),handleLoadQuiz),startQuizBtn[_0x5b8077(0x5e6)](_0x5b8077(0x732),async()=>{const _0x4a7cee=_0x5b8077,_0x2888ef=document[_0x4a7cee(0x7eb)](_0x4a7cee(0x662));currentStudentName=_0x2888ef[_0x4a7cee(0x53d)];if(!currentStudentName){showMessage('กรุณาเลือกชื่อของคุณ');return;}try{const _0x58ffba=currentQuizData['id'],_0x4ca034=doc(db,_0x4a7cee(0x41a)+appId+_0x4a7cee(0x5d9)+_0x58ffba+'/submissions',currentStudentName),_0x57b2c6=await getDoc(_0x4ca034);!_0x57b2c6[_0x4a7cee(0x931)]()?await setDoc(_0x4ca034,{'studentName':currentStudentName,'startedAt':new Date()[_0x4a7cee(0xcb2)](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x4ca034,{'startedAt':new Date()[_0x4a7cee(0xcb2)]()});}catch(_0x448020){console[_0x4a7cee(0x2b8)](_0x4a7cee(0x80c),_0x448020),showMessage(_0x4a7cee(0xd25));return;}studentNameSelectionView['classList'][_0x4a7cee(0x4ad)](_0x4a7cee(0xcb0)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x5b8077(0x7eb)](_0x5b8077(0xbf0))[_0x5b8077(0x5e6)](_0x5b8077(0x732),showJoinGameView),document['getElementById'](_0x5b8077(0xbdd))['addEventListener'](_0x5b8077(0x732),handleJoinLiveGame),document['getElementById'](_0x5b8077(0xaac))[_0x5b8077(0x5e6)]('click',()=>showView(_0x5b8077(0xb9c)));const _0x471033=()=>{const _0xc35b5b=_0x5b8077,_0x1592b3=document['getElementById']('results-quiz-title')['textContent'][_0xc35b5b(0x7bd)](/[^a-z0-9]/gi,'_')[_0xc35b5b(0x9f4)]();return _0xc35b5b(0x5ca)+(_0x1592b3||'quiz');},_0x4cd06e=document[_0x5b8077(0x7eb)](_0x5b8077(0x1f4));_0x4cd06e&&_0x4cd06e['addEventListener'](_0x5b8077(0x2c5),_0x3adcb7=>{const _0x282887=_0x5b8077,_0x215654=_0x3adcb7['target'][_0x282887(0x53d)][_0x282887(0x9f4)]()[_0x282887(0xa7e)](),_0x387c57=document[_0x282887(0x7eb)]('math-topics-checkbox-container'),_0x442d15=_0x387c57['querySelectorAll'](_0x282887(0x99e));_0x442d15[_0x282887(0xb15)](_0x129ff5=>{const _0x3e5916=_0x282887;let _0x33c7d9=![];const _0x1debde=_0x129ff5['querySelectorAll'](_0x3e5916(0x552));_0x1debde[_0x3e5916(0xb15)](_0x2067a4=>{const _0x3520f8=_0x3e5916,_0x381458=_0x2067a4[_0x3520f8(0x6ea)](_0x3520f8(0x924))[_0x3520f8(0xc95)][_0x3520f8(0x9f4)]();_0x381458['includes'](_0x215654)?(_0x2067a4[_0x3520f8(0xd84)][_0x3520f8(0xa03)]='flex',_0x33c7d9=!![]):_0x2067a4[_0x3520f8(0xd84)][_0x3520f8(0xa03)]=_0x3520f8(0x2bc);}),_0x33c7d9?_0x129ff5[_0x3e5916(0xd84)][_0x3e5916(0xa03)]=_0x3e5916(0x7b5):_0x129ff5[_0x3e5916(0xd84)][_0x3e5916(0xa03)]=_0x3e5916(0x2bc);});});document['getElementById'](_0x5b8077(0x7a7))[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>exportTableAsImage('results-table-container',_0x471033())),document['getElementById']('export-pdf-btn')[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>exportTableAsPDF(_0x5b8077(0x806),_0x471033())),document['getElementById'](_0x5b8077(0x210))[_0x5b8077(0x5e6)]('click',()=>exportTableAsWord(_0x5b8077(0xa43),_0x471033())),document[_0x5b8077(0x7eb)]('export-excel-btn')[_0x5b8077(0x5e6)]('click',()=>exportTableAsExcel(_0x5b8077(0x806),_0x471033()));const _0x586516=()=>{const _0x3050ce=_0x5b8077,_0x56d472=document['getElementById']('results-quiz-title')[_0x3050ce(0xc95)][_0x3050ce(0x7bd)](/[^a-z0-9]/gi,'_')[_0x3050ce(0x9f4)]();return'leaderboard_'+(_0x56d472||_0x3050ce(0x9ed));};document[_0x5b8077(0x7eb)](_0x5b8077(0x391))[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>exportTableAsImage(_0x5b8077(0xd78),_0x586516())),document[_0x5b8077(0x7eb)]('export-leaderboard-pdf-btn')[_0x5b8077(0x5e6)]('click',()=>exportTableAsPDF(_0x5b8077(0x6c2),_0x586516())),document[_0x5b8077(0x7eb)]('export-leaderboard-word-btn')[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>exportTableAsWord(_0x5b8077(0xd78),_0x586516())),document[_0x5b8077(0x7eb)](_0x5b8077(0x32b))[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>exportTableAsExcel(_0x5b8077(0x6c2),_0x586516())),projectQuizzesList[_0x5b8077(0x5e6)](_0x5b8077(0x732),async _0x456faf=>{const _0x5ae0a6=_0x5b8077,_0x1d8da6=_0x456faf[_0x5ae0a6(0x8ef)]['closest']('.quiz-result-card'),_0x2a2df5=_0x456faf['target']['closest']('.generate-post-test-btn'),_0x4b6668=_0x456faf['target'][_0x5ae0a6(0xba1)](_0x5ae0a6(0x536)),_0x3e96f5=_0x456faf[_0x5ae0a6(0x8ef)][_0x5ae0a6(0xba1)]('.generate-lesson-btn'),_0x1bb2af=_0x456faf[_0x5ae0a6(0x8ef)]['closest'](_0x5ae0a6(0x5de)),_0x1f3e67=_0x456faf[_0x5ae0a6(0x8ef)][_0x5ae0a6(0xba1)](_0x5ae0a6(0x549)),_0x3195a2=_0x456faf[_0x5ae0a6(0x8ef)][_0x5ae0a6(0xba1)]('.edit-quiz-btn'),_0x212324=_0x456faf['target']['closest']('.quiz-settings-btn'),_0x59eafb=_0x456faf[_0x5ae0a6(0x8ef)][_0x5ae0a6(0xba1)](_0x5ae0a6(0x939)),_0x48ef45=_0x456faf['target']['closest'](_0x5ae0a6(0xb8a)),_0x2802ca=_0x456faf[_0x5ae0a6(0x8ef)][_0x5ae0a6(0xba1)]('.parallel-quiz-btn'),_0x517eaa=_0x456faf[_0x5ae0a6(0x8ef)][_0x5ae0a6(0xba1)]('.move-quiz-btn'),_0x3b5c2b=_0x456faf[_0x5ae0a6(0x8ef)][_0x5ae0a6(0xba1)](_0x5ae0a6(0xc19)),_0xd41287=_0x456faf[_0x5ae0a6(0x8ef)]['closest'](_0x5ae0a6(0x8fd)),_0xe4b399=_0x456faf[_0x5ae0a6(0x8ef)][_0x5ae0a6(0xba1)](_0x5ae0a6(0x4e7)),_0x1193d1=_0x456faf[_0x5ae0a6(0x8ef)][_0x5ae0a6(0xba1)](_0x5ae0a6(0x6cd)),_0x2be5c8=_0x456faf[_0x5ae0a6(0x8ef)][_0x5ae0a6(0xba1)](_0x5ae0a6(0xa3c)),_0x4e7113=_0x456faf[_0x5ae0a6(0x8ef)][_0x5ae0a6(0xba1)](_0x5ae0a6(0xa0e)),_0x4b160e=_0x456faf[_0x5ae0a6(0x8ef)][_0x5ae0a6(0xba1)](_0x5ae0a6(0x2b6)),_0x53ca80=_0x456faf[_0x5ae0a6(0x8ef)]['closest'](_0x5ae0a6(0x293)),_0x342643=_0x456faf[_0x5ae0a6(0x8ef)][_0x5ae0a6(0xba1)](_0x5ae0a6(0x6c0)),_0x48e322=_0x456faf[_0x5ae0a6(0x8ef)][_0x5ae0a6(0xba1)]('.start-game-btn'),_0xfeda59=_0x456faf[_0x5ae0a6(0x8ef)]['closest'](_0x5ae0a6(0xb93));if(_0x48e322){const _0x203384=_0x48e322[_0x5ae0a6(0x6e9)]['quizId'],_0x1fb6f8=_0x48e322['dataset'][_0x5ae0a6(0x3f3)],_0x5cdf50=allQuizzes['find'](_0x5468ef=>_0x5468ef['id']===_0x203384);_0x5cdf50&&showGameStartConfirmationModal(_0x203384,_0x1fb6f8,_0x5cdf50['topic']);}else{if(_0xfeda59){const _0x2fcc3f=_0xfeda59[_0x5ae0a6(0x6e9)][_0x5ae0a6(0xd20)];handleStartLiveRace(_0x2fcc3f);}else{if(_0x53ca80){const _0x178988=_0x53ca80[_0x5ae0a6(0x6e9)][_0x5ae0a6(0xd20)],_0x3295b0=document[_0x5ae0a6(0x7eb)]('actions-container-'+_0x178988);_0x3295b0&&_0x3295b0[_0x5ae0a6(0xc3c)]['toggle']('hidden');}else{if(_0x2a2df5){const _0x447e2d=_0x2a2df5[_0x5ae0a6(0x6e9)]['quizId'],_0x311732=allQuizzes[_0x5ae0a6(0x712)](_0x303e56=>_0x303e56['id']===_0x447e2d);_0x311732&&handleGenerateParallelPostTest(_0x311732);}else{if(_0x4b6668)handleCompareResults(_0x4b6668[_0x5ae0a6(0x6e9)][_0x5ae0a6(0xd20)],_0x4b6668[_0x5ae0a6(0x6e9)]['preTestId']);else{if(_0x3e96f5){const _0x325bbc=_0x3e96f5['dataset']['quizId'],_0x3b3975=allQuizzes['find'](_0x5095d4=>_0x5095d4['id']===_0x325bbc);_0x3b3975&&_0x3b3975[_0x5ae0a6(0x476)]?(displayLessonPlan(_0x3b3975[_0x5ae0a6(0x476)],_0x3b3975),showConfirmation(_0x5ae0a6(0x611),()=>handleGenerateLessonPlan(_0x325bbc)),document[_0x5ae0a6(0x7eb)](_0x5ae0a6(0xc0e))[_0x5ae0a6(0x6ea)]('h3')[_0x5ae0a6(0xc95)]='แผนการสอน',document['getElementById'](_0x5ae0a6(0x335))['textContent']=_0x5ae0a6(0x635)):handleGenerateLessonPlan(_0x325bbc);}else{if(_0x1bb2af)handleToggleStarQuiz(_0x1bb2af[_0x5ae0a6(0x6e9)]['quizId']);else{if(_0x1f3e67)copyTextToClipboard(_0x1f3e67[_0x5ae0a6(0x6e9)]['quizId'],_0x5ae0a6(0x201));else{if(_0x3195a2)handleOpenQuizEditor(_0x3195a2[_0x5ae0a6(0x6e9)]['quizId']);else{if(_0x212324)handleQuizSettings(_0x212324[_0x5ae0a6(0x6e9)][_0x5ae0a6(0xd20)]);else{if(_0x59eafb)handleDuplicateQuiz(_0x59eafb['dataset'][_0x5ae0a6(0xd20)]);else{if(_0x48ef45)handleRenameQuiz(_0x48ef45[_0x5ae0a6(0x6e9)][_0x5ae0a6(0xd20)],_0x48ef45[_0x5ae0a6(0x6e9)][_0x5ae0a6(0x2d8)]);else{if(_0x2802ca){const _0xcdbe60=_0x2802ca['dataset']['quizId'],_0x470025=allQuizzes[_0x5ae0a6(0x712)](_0x4bd58=>_0x4bd58['id']===_0xcdbe60);_0x470025&&handleGenerateParallelFromBank(_0x470025);}else{if(_0x517eaa)handleMoveQuiz(_0x517eaa[_0x5ae0a6(0x6e9)]['quizId']);else{if(_0x3b5c2b)handleManualQuizPairing(_0x3b5c2b['dataset']['quizId']);else{if(_0xd41287)handleUnpairQuiz(_0xd41287['dataset'][_0x5ae0a6(0xd20)]);else{if(_0xe4b399){const _0x188bb4=_0xe4b399[_0x5ae0a6(0x6e9)][_0x5ae0a6(0xd20)],_0x58fe19=allQuizzes['find'](_0x457c68=>_0x457c68['id']===_0x188bb4);if(_0x58fe19)startPresentation(_0x58fe19);}else{if(_0x1193d1){const _0x461554=_0x1193d1[_0x5ae0a6(0x6e9)][_0x5ae0a6(0xd20)],_0x46324d=allQuizzes[_0x5ae0a6(0x712)](_0x158d0b=>_0x158d0b['id']===_0x461554);_0x46324d&&(currentQuizData=_0x46324d,startAdminTest());}else{if(_0x2be5c8)actionTargetId=_0x2be5c8[_0x5ae0a6(0x6e9)]['quizId'],document[_0x5ae0a6(0x7eb)]('export-pdf-modal')[_0x5ae0a6(0xc3c)][_0x5ae0a6(0x6f9)](_0x5ae0a6(0xcb0));else{if(_0x4e7113)showConfirmation(_0x5ae0a6(0x432)+_0x4e7113[_0x5ae0a6(0x6e9)][_0x5ae0a6(0x2d8)]+_0x5ae0a6(0x364),()=>handleDeleteQuiz(_0x4e7113[_0x5ae0a6(0x6e9)]['quizId']));else{if(_0x4b160e)handleQuizStatus(_0x4b160e[_0x5ae0a6(0x6e9)][_0x5ae0a6(0xd20)]);else{if(_0x342643)handleGenerateEasyVersionQuiz(_0x342643['dataset']['quizId']);else _0x1d8da6&&showQuizDetailView(_0x1d8da6['dataset'][_0x5ae0a6(0xd20)]);}}}}}}}}}}}}}}}}}}}}}}),document[_0x5b8077(0x7eb)](_0x5b8077(0x5c6))['addEventListener'](_0x5b8077(0x732),()=>showView(_0x5b8077(0xb9c))),document['getElementById'](_0x5b8077(0x86d))['addEventListener'](_0x5b8077(0x732),confirmAndStartTeamQuiz),document[_0x5b8077(0x7eb)](_0x5b8077(0x6c2))[_0x5b8077(0x6ea)](_0x5b8077(0xcf1))[_0x5b8077(0x5e6)]('click',_0x436462=>{const _0x50eddd=_0x5b8077,_0x2e665c=_0x436462[_0x50eddd(0x8ef)]['closest'](_0x50eddd(0xcf3));if(!_0x2e665c||!_0x2e665c[_0x50eddd(0x6e9)]['sort'])return;const _0x37e417=_0x2e665c[_0x50eddd(0x6e9)]['sort'];if(quizLeaderboardSortBy===_0x37e417)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x50eddd(0x78e)?'desc':_0x50eddd(0x78e);else{quizLeaderboardSortBy=_0x37e417;const _0x5ea4f8=[_0x50eddd(0x389)];quizLeaderboardSortOrder=_0x5ea4f8[_0x50eddd(0x3b1)](_0x37e417)?'asc':_0x50eddd(0x6fd);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x50eddd(0x881));}),document[_0x5b8077(0x7eb)](_0x5b8077(0xb2f))['addEventListener']('click',closePresentation),document[_0x5b8077(0x7eb)](_0x5b8077(0x678))[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x5b8077(0x7eb)](_0x5b8077(0x79e))['addEventListener'](_0x5b8077(0x732),()=>{const _0x2854df=_0x5b8077;currentQuizData['questions']&&currentPresentationSlide<currentQuizData[_0x2854df(0x3dd)][_0x2854df(0x373)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x5b8077(0x5e6)]('fullscreenchange',()=>{const _0x2df11d=_0x5b8077;!document[_0x2df11d(0x790)]&&(presentationModal[_0x2df11d(0xd84)][_0x2df11d(0xa03)]=_0x2df11d(0x2bc));}),document[_0x5b8077(0x7eb)]('delete-all-students-btn')['addEventListener'](_0x5b8077(0x732),handleDeleteAllStudents),studentList[_0x5b8077(0x5e6)](_0x5b8077(0x732),_0x1d8cc7=>{const _0x13e726=_0x5b8077,_0x2a125d=_0x1d8cc7[_0x13e726(0x8ef)][_0x13e726(0xba1)](_0x13e726(0xc29));if(_0x2a125d){const _0x5ab1ad=_0x2a125d[_0x13e726(0x6e9)][_0x13e726(0x389)];handleDeleteStudent(_0x5ab1ad);}}),document[_0x5b8077(0x7eb)](_0x5b8077(0x419))[_0x5b8077(0x5e6)](_0x5b8077(0x732),handleGenerateFromFileClick),fileUploadInput[_0x5b8077(0x5e6)](_0x5b8077(0x949),_0x3af885=>{const _0x200208=_0x5b8077,_0x1ae247=_0x3af885[_0x200208(0x8ef)]['files'][0x0],_0x4463d1=document[_0x200208(0x7eb)]('generate-from-file-btn'),_0xae3eb6=document['getElementById'](_0x200208(0x347)),_0x59edce=document[_0x200208(0x7eb)](_0x200208(0x84e));_0x1ae247?(selectedFile=_0x1ae247,_0x59edce[_0x200208(0x5b1)]?(_0x4463d1['disabled']=!![],analyzeFileForTopics(_0x1ae247)):(_0x4463d1[_0x200208(0x744)]=![],_0xae3eb6[_0x200208(0xc3c)][_0x200208(0x4ad)](_0x200208(0xcb0)))):(selectedFile=null,_0x4463d1['disabled']=!![],_0xae3eb6[_0x200208(0xc3c)][_0x200208(0x4ad)](_0x200208(0xcb0)));}),document[_0x5b8077(0x7eb)](_0x5b8077(0x84e))['addEventListener']('change',_0x5dc486=>{const _0x139b65=_0x5b8077,_0xf030cb=_0x5dc486[_0x139b65(0x8ef)][_0x139b65(0x5b1)],_0x4135f5=document[_0x139b65(0x7eb)](_0x139b65(0x419)),_0x976f2e=document[_0x139b65(0x7eb)](_0x139b65(0x347));_0xf030cb?(_0x4135f5['disabled']=!![],selectedFile?analyzeFileForTopics(selectedFile):(_0x976f2e['classList']['remove'](_0x139b65(0xcb0)),document['getElementById'](_0x139b65(0xc7f))[_0x139b65(0xbec)]=_0x139b65(0xd57))):(_0x976f2e[_0x139b65(0xc3c)][_0x139b65(0x4ad)](_0x139b65(0xcb0)),_0x4135f5['disabled']=!selectedFile);}),document[_0x5b8077(0x7eb)](_0x5b8077(0x347))[_0x5b8077(0x5e6)](_0x5b8077(0x732),_0x157d01=>{const _0x733c74=_0x5b8077,_0x4cbf42=_0x157d01[_0x733c74(0x8ef)][_0x733c74(0xba1)]('.file-topic-selection-btn'),_0x38f1db=_0x157d01[_0x733c74(0x8ef)][_0x733c74(0xba1)](_0x733c74(0xd39));if(_0x4cbf42){const _0x303062=unescape(_0x4cbf42[_0x733c74(0x6e9)][_0x733c74(0x2d8)]);generateHybridQuizForTopic(_0x303062);}else{if(_0x38f1db){const _0x3ee21a=unescape(_0x38f1db['dataset']['topic']),_0x2d7eea=document[_0x733c74(0x7eb)](_0x733c74(0x841))[_0x733c74(0x53d)];handleGenerateAndShowLesson(_0x3ee21a,_0x2d7eea);}}}),document[_0x5b8077(0x7eb)](_0x5b8077(0xd4e))[_0x5b8077(0x5e6)]('change',_0x5b0bdd=>{const _0x49f85b=_0x5b8077,_0x3a96dd=document[_0x49f85b(0x7eb)](_0x49f85b(0x603)),_0x517056=document[_0x49f85b(0x7eb)](_0x49f85b(0xa30)),_0x2c97ea=document[_0x49f85b(0x7eb)](_0x49f85b(0xb36));_0x5b0bdd[_0x49f85b(0x8ef)][_0x49f85b(0x53d)]===_0x49f85b(0x2bc)?_0x3a96dd[_0x49f85b(0xc3c)][_0x49f85b(0x4ad)]('hidden'):(_0x3a96dd[_0x49f85b(0xc3c)][_0x49f85b(0x6f9)](_0x49f85b(0xcb0)),_0x5b0bdd[_0x49f85b(0x8ef)]['value']==='whole_quiz'?(_0x517056[_0x49f85b(0xc95)]=_0x49f85b(0xd43),_0x2c97ea['value']='10'):(_0x517056[_0x49f85b(0xc95)]=_0x49f85b(0xbc8),_0x2c97ea[_0x49f85b(0x53d)]='30'));}),document['getElementById'](_0x5b8077(0x23b))[_0x5b8077(0x5e6)]('change',_0x5e8049=>{const _0x5e7d00=_0x5b8077,_0x3d8d6f=document[_0x5e7d00(0x7eb)](_0x5e7d00(0x7de)),_0x53de13=_0x5e8049[_0x5e7d00(0x8ef)][_0x5e7d00(0x53d)],_0x355e33=document[_0x5e7d00(0x6ea)](_0x5e7d00(0x308)),_0x4edbd3=document[_0x5e7d00(0x7eb)](_0x5e7d00(0x32e)),_0x5a43c9=document['getElementById'](_0x5e7d00(0xd56));_0x53de13===_0x5e7d00(0x378)?_0x355e33['textContent']=_0x5e7d00(0x44d):_0x355e33[_0x5e7d00(0xc95)]=_0x5e7d00(0xc1e),_0x53de13==='multiple_choice'||_0x53de13===_0x5e7d00(0x2e9)||_0x53de13==='mixed'?_0x3d8d6f[_0x5e7d00(0xc3c)][_0x5e7d00(0x6f9)]('hidden'):_0x3d8d6f[_0x5e7d00(0xc3c)][_0x5e7d00(0x4ad)](_0x5e7d00(0xcb0)),_0x4edbd3[_0x5e7d00(0xaea)]=_0x5a43c9[_0x5e7d00(0x53d)];}),document[_0x5b8077(0x7eb)](_0x5b8077(0xd56))['addEventListener'](_0x5b8077(0x2c5),_0x4354f8=>{const _0x499bad=_0x5b8077;document[_0x499bad(0x7eb)]('passing-score-input')[_0x499bad(0xaea)]=_0x4354f8[_0x499bad(0x8ef)][_0x499bad(0x53d)];}),document[_0x5b8077(0x7eb)](_0x5b8077(0x505))[_0x5b8077(0x5e6)]('change',_0x1fcd88=>{const _0x55a8b1=_0x5b8077,_0x15ef73=document[_0x55a8b1(0x7eb)](_0x55a8b1(0xce8)),_0x771a0c=document[_0x55a8b1(0x7eb)](_0x55a8b1(0x234)),_0x37b30e=document[_0x55a8b1(0x7eb)](_0x55a8b1(0xbe5));_0x1fcd88[_0x55a8b1(0x8ef)][_0x55a8b1(0x53d)]===_0x55a8b1(0x2bc)?_0x15ef73[_0x55a8b1(0xc3c)][_0x55a8b1(0x4ad)](_0x55a8b1(0xcb0)):(_0x15ef73[_0x55a8b1(0xc3c)][_0x55a8b1(0x6f9)](_0x55a8b1(0xcb0)),_0x1fcd88[_0x55a8b1(0x8ef)][_0x55a8b1(0x53d)]===_0x55a8b1(0xb35)?_0x771a0c[_0x55a8b1(0xc95)]=_0x55a8b1(0xd43):_0x771a0c[_0x55a8b1(0xc95)]=_0x55a8b1(0xbc8));}),document[_0x5b8077(0x7eb)](_0x5b8077(0xb0b))[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>{const _0x505a01=_0x5b8077;document[_0x505a01(0x7eb)](_0x505a01(0xd15))[_0x505a01(0xc3c)][_0x505a01(0x4ad)](_0x505a01(0xcb0));}),document[_0x5b8077(0x7eb)](_0x5b8077(0x3c5))[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>{const _0x3519e3=_0x5b8077;document[_0x3519e3(0x7eb)](_0x3519e3(0xd15))['classList'][_0x3519e3(0x4ad)](_0x3519e3(0xcb0));}),document['getElementById']('verify-answers-editor-btn')['addEventListener']('click',handleVerifyAnswersInEditor),document[_0x5b8077(0x7eb)]('save-quiz-edits-btn')[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>{const _0x86e100=_0x5b8077;document[_0x86e100(0x7eb)](_0x86e100(0xd15))[_0x86e100(0xc3c)][_0x86e100(0x4ad)](_0x86e100(0xcb0)),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document[_0x5b8077(0x7eb)]('auto-fix-latex-btn')['addEventListener'](_0x5b8077(0x732),handleAutoFixLatex);const _0x4a7677=document[_0x5b8077(0x7eb)](_0x5b8077(0xa97));_0x4a7677&&_0x4a7677[_0x5b8077(0x5e6)]('click',_0x19a31d=>{const _0x319ccb=_0x5b8077,_0x4773a9=_0x19a31d[_0x319ccb(0x8ef)][_0x319ccb(0xba1)](_0x319ccb(0x551));if(_0x4773a9){const _0x386141=_0x4773a9['closest'](_0x319ccb(0x30c)),_0x56a9fb=parseInt(_0x386141[_0x319ccb(0x6e9)][_0x319ccb(0x9ee)],0xa);handleRegenerateQuestionInEditor(_0x56a9fb);return;}const _0x16dcd5=_0x19a31d[_0x319ccb(0x8ef)][_0x319ccb(0xba1)](_0x319ccb(0xb4b));if(_0x16dcd5){const _0x305483=_0x16dcd5['closest'](_0x319ccb(0x30c)),_0x3141e2=parseInt(_0x305483[_0x319ccb(0x6e9)][_0x319ccb(0x9ee)],0xa);handleDeleteQuestionInEditor(_0x3141e2);return;}const _0x473509=_0x19a31d[_0x319ccb(0x8ef)][_0x319ccb(0xba1)](_0x319ccb(0x663));if(_0x473509){handleAddQuestionInEditor();return;}});document[_0x5b8077(0x7eb)]('open-quiz-bank-btn')[_0x5b8077(0x5e6)](_0x5b8077(0x732),openQuizBankModal),document[_0x5b8077(0x7eb)]('cancel-quiz-bank-btn')[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>{const _0x96c6aa=_0x5b8077;document[_0x96c6aa(0x7eb)](_0x96c6aa(0x55b))[_0x96c6aa(0xc3c)][_0x96c6aa(0x4ad)]('hidden');}),document[_0x5b8077(0x7eb)](_0x5b8077(0xcd3))[_0x5b8077(0x5e6)](_0x5b8077(0x2c5),_0x8ce4fa=>renderQuizBankList(_0x8ce4fa[_0x5b8077(0x8ef)][_0x5b8077(0x53d)]));const _0x5703db=document['getElementById'](_0x5b8077(0x41d));if(_0x5703db){let _0x240a26=null;_0x5703db['addEventListener']('click',_0x21d127=>{const _0x481ebf=_0x5b8077,_0x557046=_0x21d127[_0x481ebf(0x8ef)],_0x30945b=_0x557046['closest'](_0x481ebf(0x3ad)),_0x54f180=_0x557046['closest']('.delete-custom-topic-btn'),_0x3ff0ff=_0x557046[_0x481ebf(0xba1)](_0x481ebf(0xb14)),_0x59fb1a=_0x557046[_0x481ebf(0xba1)](_0x481ebf(0x653));if(_0x54f180){_0x21d127[_0x481ebf(0x82f)]();const _0x5a1236=_0x54f180[_0x481ebf(0x6e9)]['id'],_0x2ddf21=_0x54f180[_0x481ebf(0xba1)](_0x481ebf(0x3d0))[_0x481ebf(0x6ea)](_0x481ebf(0x924))['textContent'];showConfirmation(_0x481ebf(0x7e2)+_0x2ddf21+'\x22?',()=>handleDeleteCustomTopic(_0x5a1236));}else{if(_0x30945b){_0x21d127['preventDefault']();_0x240a26&&toggleTopicEditMode(_0x240a26,![]);const _0x2f82f5=_0x30945b[_0x481ebf(0xba1)](_0x481ebf(0x65e));_0x240a26=_0x2f82f5,toggleTopicEditMode(_0x2f82f5,!![]);}else{if(_0x3ff0ff){_0x21d127[_0x481ebf(0x82f)]();const _0x1b7b59=_0x3ff0ff[_0x481ebf(0x6e9)]['id'],_0x43d11d=_0x3ff0ff[_0x481ebf(0xba1)]('[data-topic-container-id]'),_0x21184b=_0x43d11d[_0x481ebf(0x6ea)]('.topic-name-input')[_0x481ebf(0x53d)];handleUpdateCustomTopic(_0x1b7b59,_0x21184b),_0x240a26=null;}else{if(_0x59fb1a){_0x21d127[_0x481ebf(0x82f)]();const _0x25fe9b=_0x59fb1a['closest'](_0x481ebf(0x65e));toggleTopicEditMode(_0x25fe9b,![]),_0x240a26=null;}}}}}),document[_0x5b8077(0x7eb)]('close-lesson-plan-modal-btn')[_0x5b8077(0x5e6)]('click',()=>{const _0xbcc031=_0x5b8077;document[_0xbcc031(0x7eb)]('lesson-plan-modal')[_0xbcc031(0xc3c)][_0xbcc031(0x4ad)](_0xbcc031(0xcb0));}),document[_0x5b8077(0x7eb)](_0x5b8077(0x7f5))[_0x5b8077(0x5e6)](_0x5b8077(0x732),()=>{const _0xfa594c=_0x5b8077;document[_0xfa594c(0x7eb)](_0xfa594c(0x6f6))['classList'][_0xfa594c(0x4ad)](_0xfa594c(0xcb0));}),document['getElementById'](_0x5b8077(0x62f))['addEventListener'](_0x5b8077(0x732),handleExportLessonPDF);}document[_0x5b8077(0x7eb)](_0x5b8077(0x648))['addEventListener'](_0x5b8077(0x732),()=>{const _0x1e3979=_0x5b8077;document[_0x1e3979(0x7eb)](_0x1e3979(0x71d))[_0x1e3979(0xc3c)]['add'](_0x1e3979(0xcb0));}),document[_0x5b8077(0x7eb)](_0x5b8077(0xa05))[_0x5b8077(0x5e6)]('click',()=>{const _0x2f0f22=_0x5b8077;document[_0x2f0f22(0x7eb)](_0x2f0f22(0x71d))[_0x2f0f22(0xc3c)]['add']('hidden');}),setupComparisonModalTabs(),document[_0x5b8077(0x5d5)]['addEventListener'](_0x5b8077(0x732),function(_0x48dbcc){const _0x224976=_0x5b8077;if(_0x48dbcc['target'][_0x224976(0xc3c)]['contains'](_0x224976(0x9c5))){const _0x45c4aa=unescape(_0x48dbcc[_0x224976(0x8ef)][_0x224976(0x6e9)][_0x224976(0x2d8)]);startSkillPractice(_0x45c4aa);}}),document[_0x5b8077(0x7eb)](_0x5b8077(0x7a0))[_0x5b8077(0x5e6)](_0x5b8077(0x732),_0x132dae=>{const _0x4e0ceb=_0x5b8077,_0x2cd27c=_0x132dae['target'][_0x4e0ceb(0xba1)]('.delete-submission-btn');if(_0x2cd27c){const _0x13cd92=_0x2cd27c['dataset'][_0x4e0ceb(0x389)];handleDeleteSubmission(_0x13cd92);}});}async function handleStartGroupMode(_0x237a85,_0x3a8b1f=![]){const _0x81df8e=_0x473ef4,_0x5ef5c8=allQuizzes[_0x81df8e(0x712)](_0x15fccf=>_0x15fccf['id']===_0x237a85)||allQuizzesGlobal[_0x81df8e(0x712)](_0x3c411f=>_0x3c411f['id']===_0x237a85);if(!_0x5ef5c8){showMessage(_0x81df8e(0xa24));return;}currentQuizData=getShuffledQuiz(_0x5ef5c8);const _0x108fe1=Math[_0x81df8e(0x8a0)](0x3e8+Math[_0x81df8e(0x970)]()*0x2328)[_0x81df8e(0xc07)]();try{const _0x427c1b=await addDoc(collection(db,_0x81df8e(0x41a)+appId+_0x81df8e(0x945)),{'quizId':_0x5ef5c8['id'],'projectId':_0x5ef5c8[_0x81df8e(0x3ba)],'status':_0x81df8e(0x998),'pin':_0x108fe1,'mode':'group','createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x3a8b1f});currentTeamQuizId=_0x427c1b['id'],showView(_0x81df8e(0x91a)),renderAdminTeamQuizDashboard(_0x108fe1,_0x5ef5c8[_0x81df8e(0x2d8)],_0x81df8e(0x20d)),listenForTeamQuizUpdates();}catch(_0x3332cb){console[_0x81df8e(0x2b8)]('Error\x20starting\x20group\x20quiz:',_0x3332cb),showMessage('เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz');}}async function showStudentProgressView(){const _0x515401=_0x473ef4;studentInitialView[_0x515401(0xc3c)]['add'](_0x515401(0xcb0)),document[_0x515401(0x7eb)](_0x515401(0x61f))[_0x515401(0xc3c)][_0x515401(0x6f9)](_0x515401(0xcb0));const _0x49263f=document[_0x515401(0x7eb)](_0x515401(0x912)),_0x47416d=document[_0x515401(0x7eb)](_0x515401(0x9fb)),_0x172353=document[_0x515401(0x7eb)](_0x515401(0xa71));_0x172353[_0x515401(0xbec)]=_0x515401(0x36a),_0x47416d[_0x515401(0xbec)]=_0x515401(0x4f4),_0x47416d['disabled']=!![],_0x49263f[_0x515401(0xbec)]='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects[_0x515401(0x373)]===0x0){const _0x44dbcc=collection(db,_0x515401(0x41a)+appId+_0x515401(0xd51)),_0x1b93a3=await getDocs(_0x44dbcc);allProjects=_0x1b93a3['docs'][_0x515401(0xa3b)](_0x1b98ab=>({'id':_0x1b98ab['id'],..._0x1b98ab['data']()}));}const _0xd5d665=allProjects[_0x515401(0x514)](_0x367010=>_0x367010[_0x515401(0xb37)]?.[_0x515401(0x35f)]!==![]);_0xd5d665[_0x515401(0x4af)]((_0x59e40a,_0x547a81)=>_0x59e40a[_0x515401(0x29c)][_0x515401(0xd07)](_0x547a81[_0x515401(0x29c)],'th')),_0x49263f[_0x515401(0xbec)]=_0x515401(0xd77)+_0xd5d665[_0x515401(0xa3b)](_0x1b1096=>_0x515401(0xbdc)+_0x1b1096['id']+'\x22>'+_0x1b1096[_0x515401(0x29c)]+'</option>')[_0x515401(0xaa2)](''),_0x49263f[_0x515401(0xa6e)]=()=>{const _0x41c3e4=_0x515401,_0x18abf2=_0x47416d[_0x41c3e4(0x53d)],_0xd77c57=_0x49263f[_0x41c3e4(0x53d)];_0x47416d['disabled']=!![],_0x47416d[_0x41c3e4(0xbec)]='<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>',_0x172353[_0x41c3e4(0xbec)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>';if(!_0xd77c57)return;const _0x29d2f9=allProjects['find'](_0x5d1ffd=>_0x5d1ffd['id']===_0xd77c57);if(!_0x29d2f9||!_0x29d2f9['students'])return;const _0xadb598=()=>{const _0x1499ac=_0x41c3e4;_0x47416d[_0x1499ac(0xbec)]=_0x1499ac(0x4f4)+_0x29d2f9[_0x1499ac(0x55a)][_0x1499ac(0xa3b)](_0x4ff251=>_0x1499ac(0xbdc)+_0x4ff251+'\x22>'+_0x4ff251+_0x1499ac(0xc64))[_0x1499ac(0xaa2)](''),_0x47416d['disabled']=![];const _0x4bb1c4=Array['from'](_0x47416d[_0x1499ac(0x745)])[_0x1499ac(0xa3b)](_0x11c2d1=>_0x11c2d1[_0x1499ac(0x53d)]);if(_0x18abf2&&_0x4bb1c4[_0x1499ac(0x3b1)](_0x18abf2))_0x47416d[_0x1499ac(0x53d)]=_0x18abf2,_0x47416d['dispatchEvent'](new Event('change'));else _0x29d2f9['students'][_0x1499ac(0x373)]===0x1&&(_0x47416d[_0x1499ac(0x53d)]=_0x29d2f9[_0x1499ac(0x55a)][0x0],_0x47416d[_0x1499ac(0x6f1)](new Event(_0x1499ac(0x949))));};if(_0x29d2f9['settings']?.[_0x41c3e4(0x5be)]){if(sessionStorage[_0x41c3e4(0x47d)](_0x41c3e4(0xa85)+_0xd77c57)===_0x41c3e4(0xc45)){_0xadb598();return;}const _0x15b3ce=document['getElementById'](_0x41c3e4(0x43d)),_0x5e7336=document[_0x41c3e4(0x7eb)]('confirm-passcode-btn'),_0x1c4d58=document['getElementById']('cancel-passcode-btn'),_0xa6b6ae=document[_0x41c3e4(0x7eb)](_0x41c3e4(0x555)),_0x17e5ba=document[_0x41c3e4(0x7eb)](_0x41c3e4(0x821));document[_0x41c3e4(0x7eb)](_0x41c3e4(0x7ea))['textContent']='สำหรับโปรเจค:\x20'+_0x29d2f9[_0x41c3e4(0x29c)],_0xa6b6ae[_0x41c3e4(0x53d)]='',_0x17e5ba[_0x41c3e4(0xc3c)]['add'](_0x41c3e4(0xcb0)),_0x15b3ce[_0x41c3e4(0xc3c)][_0x41c3e4(0x6f9)](_0x41c3e4(0xcb0));const _0x1e4929=()=>{const _0xdb3166=_0x41c3e4,_0x5d7999=_0xa6b6ae[_0xdb3166(0x53d)][_0xdb3166(0xa7e)]();_0x5d7999===_0x29d2f9[_0xdb3166(0xb37)][_0xdb3166(0xd23)]?(sessionStorage[_0xdb3166(0x5f8)]('authed_project_'+_0xd77c57,_0xdb3166(0xc45)),_0x15b3ce[_0xdb3166(0xc3c)]['add'](_0xdb3166(0xcb0)),_0xadb598(),_0x5e7336['removeEventListener'](_0xdb3166(0x732),_0x1e4929)):_0x17e5ba[_0xdb3166(0xc3c)]['remove']('hidden');};_0x5e7336[_0x41c3e4(0xa41)]=_0x1e4929,_0x1c4d58[_0x41c3e4(0xa41)]=()=>{const _0x462579=_0x41c3e4;_0x15b3ce[_0x462579(0xc3c)][_0x462579(0x4ad)](_0x462579(0xcb0)),_0x49263f[_0x462579(0x53d)]='',_0x5e7336['removeEventListener'](_0x462579(0x732),_0x1e4929);};}else _0xadb598();},_0x47416d['onchange']=()=>{const _0x58dfbc=_0x515401,_0x37e78f=_0x49263f['value'],_0x199ba8=_0x47416d[_0x58dfbc(0x53d)];_0x37e78f&&_0x199ba8&&renderStudentProgressDashboard(_0x37e78f,_0x199ba8);};}async function confirmAndJoinSyncGame(){const _0x1d785e=_0x473ef4,_0x76e103=Array[_0x1d785e(0x71b)](document['querySelectorAll'](_0x1d785e(0xaf4)))['map'](_0x4e27f6=>_0x4e27f6[_0x1d785e(0x53d)]);if(_0x76e103[_0x1d785e(0x373)]===0x0){showMessage(_0x1d785e(0x40d));return;}localTeamPlayers=_0x76e103,localPlayerTurnIndex=0x0;const _0x526a20=doc(db,_0x1d785e(0x41a)+appId+_0x1d785e(0x361),currentLiveGameId);try{const _0x19475d={};_0x76e103[_0x1d785e(0xb15)](_0x24872e=>{const _0xcda489=_0x1d785e;_0x19475d[_0xcda489(0xd00)+_0x24872e]={'name':_0x24872e,'score':0x0,'answered':![],'status':_0xcda489(0x3a5)};}),await updateDoc(_0x526a20,_0x19475d),document[_0x1d785e(0x7eb)](_0x1d785e(0x2cd))[_0x1d785e(0xc3c)][_0x1d785e(0x4ad)](_0x1d785e(0xcb0)),currentStudentName=_0x76e103[0x0],listenForSyncGameUpdates();const _0x366719={'gameId':currentLiveGameId,'mode':'sync','players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x1d785e(0x5f8)](_0x1d785e(0x4ee),JSON[_0x1d785e(0x36f)](_0x366719)),currentMode!==_0x1d785e(0xa0f)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x1d785e(0x5e6)](_0x1d785e(0x27f),handleFullscreenChange),document[_0x1d785e(0x5e6)](_0x1d785e(0xd3d),handleVisibilityChange),enterFullscreen(),window[_0x1d785e(0x5e6)](_0x1d785e(0x3f6),resetDimTimer),window[_0x1d785e(0x5e6)](_0x1d785e(0x475),resetDimTimer),window[_0x1d785e(0x5e6)](_0x1d785e(0x1de),resetDimTimer),window[_0x1d785e(0x5e6)](_0x1d785e(0xb17),resetDimTimer),resetDimTimer());}catch(_0x3e8f40){console[_0x1d785e(0x2b8)](_0x1d785e(0xc60),_0x3e8f40),showMessage(_0x1d785e(0x338));}}async function resumeActiveGameSession(){const _0x4f2a2b=_0x473ef4,_0x4ffb81=sessionStorage[_0x4f2a2b(0x47d)]('activeGameSession');if(!_0x4ffb81)return;const _0x2177c0=JSON['parse'](_0x4ffb81),{gameId:_0x5eb9b5,mode:_0x4c5e8d,players:_0x13dd8b,turnIndex:_0x2e85f2}=_0x2177c0;try{let _0x1dc54e,_0x537503;_0x4c5e8d===_0x4f2a2b(0x3aa)?_0x1dc54e=doc(db,_0x4f2a2b(0x41a)+appId+'/public/data/syncGames',_0x5eb9b5):_0x1dc54e=doc(db,'artifacts/'+appId+_0x4f2a2b(0x945),_0x5eb9b5);_0x537503=await getDoc(_0x1dc54e);if(!_0x537503[_0x4f2a2b(0x931)]()||_0x537503[_0x4f2a2b(0x1e4)]()[_0x4f2a2b(0x996)]===_0x4f2a2b(0x7c8)||_0x537503['data']()['status']===_0x4f2a2b(0xab6)){sessionStorage[_0x4f2a2b(0x900)](_0x4f2a2b(0x4ee));return;}console[_0x4f2a2b(0xc55)](_0x4f2a2b(0xa5d)+_0x4c5e8d+_0x4f2a2b(0xbcf)+_0x5eb9b5+')'),localTeamPlayers=_0x13dd8b,localPlayerTurnIndex=_0x2e85f2;if(_0x4c5e8d===_0x4f2a2b(0x3aa))currentLiveGameId=_0x5eb9b5,currentStudentName=_0x13dd8b[0x0],showView('live-game'),listenForSyncGameUpdates();else{currentTeamQuizId=_0x5eb9b5;const _0x59eb33=_0x537503[_0x4f2a2b(0x1e4)](),_0x4f5c83=doc(db,_0x4f2a2b(0x41a)+appId+_0x4f2a2b(0x3c1),_0x59eb33['quizId']),_0x59a496=await getDoc(_0x4f5c83);_0x59a496[_0x4f2a2b(0x931)]()&&(currentQuizData=getShuffledQuiz({'id':_0x59a496['id'],..._0x59a496['data']()}),showView(_0x4f2a2b(0xb9c)),studentInitialView[_0x4f2a2b(0xc3c)][_0x4f2a2b(0x4ad)]('hidden'),renderTeamQuizQuestion());}}catch(_0x5db425){console[_0x4f2a2b(0x2b8)](_0x4f2a2b(0x72b),_0x5db425),sessionStorage[_0x4f2a2b(0x900)](_0x4f2a2b(0x4ee));}}function activateFileInputAreaWithLoadedFile(){const _0x3a3ff9=_0x473ef4,_0x1860e5=document[_0x3a3ff9(0x7eb)](_0x3a3ff9(0x419)),_0x3c795a=document[_0x3a3ff9(0x7eb)](_0x3a3ff9(0x347)),_0x2aebef=document[_0x3a3ff9(0x7eb)](_0x3a3ff9(0x84e));selectedFile?_0x2aebef[_0x3a3ff9(0x5b1)]?(_0x1860e5[_0x3a3ff9(0x744)]=!![],analyzeFileForTopics(selectedFile)):(_0x1860e5['disabled']=![],_0x3c795a[_0x3a3ff9(0xc3c)][_0x3a3ff9(0x4ad)](_0x3a3ff9(0xcb0))):(_0x1860e5[_0x3a3ff9(0x744)]=!![],_0x3c795a['classList'][_0x3a3ff9(0x4ad)](_0x3a3ff9(0xcb0)));}async function handleKickPlayerSync(_0x3d1524){const _0xa85833=_0x473ef4;if(!currentLiveGameId||!_0x3d1524)return;const _0x57c037=doc(db,_0xa85833(0x41a)+appId+_0xa85833(0x361),currentLiveGameId),_0x3dd690={};_0x3dd690[_0xa85833(0xd00)+_0x3d1524+_0xa85833(0x856)]=_0xa85833(0x7db);try{await updateDoc(_0x57c037,_0x3dd690);}catch(_0x1614e4){console[_0xa85833(0x2b8)](_0xa85833(0x925)+_0x3d1524+'\x20from\x20sync\x20game:',_0x1614e4),showMessage(_0xa85833(0x22f));}}async function renderStudentProgressDashboard(_0x196813,_0x541316){const _0x4ff3f4=_0x473ef4,_0x22a5a0=document[_0x4ff3f4(0x7eb)](_0x4ff3f4(0xa71));_0x22a5a0[_0x4ff3f4(0xbec)]=_0x4ff3f4(0xc8d);try{const _0x4abb65=collection(db,_0x4ff3f4(0x41a)+appId+_0x4ff3f4(0x3c1)),_0x3890c4=query(_0x4abb65,where(_0x4ff3f4(0x3ba),'==',_0x196813)),_0x2c4485=await getDocs(_0x3890c4),_0x1d4d88=_0x2c4485[_0x4ff3f4(0x48b)][_0x4ff3f4(0xa3b)](_0x5a79ef=>({'id':_0x5a79ef['id'],..._0x5a79ef[_0x4ff3f4(0x1e4)]()})),_0x2c6a90=_0x1d4d88[_0x4ff3f4(0xa3b)](_0x20559e=>getDoc(doc(db,_0x4ff3f4(0x41a)+appId+'/public/data/quizzes/'+_0x20559e['id']+_0x4ff3f4(0xa06),_0x541316))),_0x107bdd=await Promise[_0x4ff3f4(0x61c)](_0x2c6a90),_0x115a3b=_0x107bdd[_0x4ff3f4(0x514)](_0x556c21=>_0x556c21[_0x4ff3f4(0x931)]())[_0x4ff3f4(0xa3b)](_0x46629a=>({'quizId':_0x46629a[_0x4ff3f4(0xbd1)][_0x4ff3f4(0xb64)]['parent']['id'],..._0x46629a['data']()}));if(_0x115a3b[_0x4ff3f4(0x373)]===0x0){_0x22a5a0[_0x4ff3f4(0xbec)]=_0x4ff3f4(0xd80);return;}let _0x544bdc='<div\x20class=\x22space-y-4\x22>';_0x115a3b[_0x4ff3f4(0xb15)](_0x4deced=>{const _0x59ff5b=_0x4ff3f4,_0x313d56=_0x1d4d88['find'](_0x16339e=>_0x16339e['id']===_0x4deced[_0x59ff5b(0xd20)]),_0x59ce3c=_0x313d56[_0x59ff5b(0xb37)]?.[_0x59ff5b(0x87d)]||_0x59ff5b(0x8a8),_0x9f9b37=_0x313d56['settings']?.[_0x59ff5b(0xaf7)]??0x0,_0x1990a3=_0x4deced[_0x59ff5b(0xa6d)]>=_0x9f9b37;let _0x563048='',_0x12d946=_0x59ff5b(0x70e);switch(_0x59ce3c){case'show_results_and_answers':case _0x59ff5b(0x4a1):_0x12d946=_0x1990a3?_0x59ff5b(0xa1d):_0x59ff5b(0x7bb),_0x563048=_0x59ff5b(0x4e1)+(_0x1990a3?'text-green-700':_0x59ff5b(0xbbe))+'\x22>'+_0x4deced['bestScore']+'\x20/\x20'+_0x4deced[_0x59ff5b(0xbff)]+_0x59ff5b(0x6ef)+(_0x1990a3?_0x59ff5b(0x95e):_0x59ff5b(0x68d))+'\x22>'+(_0x1990a3?_0x59ff5b(0x7c3):'ไม่ผ่าน')+_0x59ff5b(0x8a2);break;case _0x59ff5b(0x8da):_0x12d946=_0x1990a3?_0x59ff5b(0xa1d):'bg-red-50',_0x563048=_0x59ff5b(0x6b5)+(_0x1990a3?_0x59ff5b(0x95e):_0x59ff5b(0x68d))+'\x22>'+(_0x1990a3?'ผ่าน':'ไม่ผ่าน')+_0x59ff5b(0x8a2);break;case _0x59ff5b(0xa48):_0x12d946='bg-yellow-50',_0x563048=_0x59ff5b(0x674);break;}_0x544bdc+=_0x59ff5b(0xd46)+_0x12d946+_0x59ff5b(0xd0e)+_0x313d56['topic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20'+_0x4deced['attempts'][_0x59ff5b(0x373)]+_0x59ff5b(0x9ec)+new Date(_0x4deced['latestSubmittedAt'])[_0x59ff5b(0x429)](_0x59ff5b(0x42d))+_0x59ff5b(0x24e)+_0x563048+_0x59ff5b(0xce7);}),_0x544bdc+=_0x4ff3f4(0x3ab),_0x22a5a0[_0x4ff3f4(0xbec)]=_0x544bdc;}catch(_0x149ee3){console[_0x4ff3f4(0x2b8)](_0x4ff3f4(0xa63),_0x149ee3),_0x22a5a0[_0x4ff3f4(0xbec)]=_0x4ff3f4(0x86e);}}function renderQuizBankListForMultiSelect(_0x189cba=''){const _0x39d267=_0x473ef4,_0x3a2a68=document[_0x39d267(0x7eb)]('bank-quiz-list'),_0x14416f=_0x189cba[_0x39d267(0x9f4)]()['trim'](),_0x4085cf=allQuizzesGlobal[_0x39d267(0xa3b)](_0x2f74bf=>({..._0x2f74bf,'projectName':allProjects[_0x39d267(0x712)](_0xfae30=>_0xfae30['id']===_0x2f74bf[_0x39d267(0x3ba)])?.[_0x39d267(0x29c)]||_0x39d267(0xd1a)}))['filter'](_0x21c924=>(_0x21c924[_0x39d267(0x2d8)]||'')[_0x39d267(0x9f4)]()[_0x39d267(0x3b1)](_0x14416f)||(_0x21c924['projectName']||'')[_0x39d267(0x9f4)]()[_0x39d267(0x3b1)](_0x14416f)||_0x21c924['id'][_0x39d267(0xc07)]()[_0x39d267(0x3b1)](_0x14416f));_0x3a2a68[_0x39d267(0xbec)]=_0x4085cf[_0x39d267(0x373)]?_0x4085cf[_0x39d267(0xa3b)](_0x1a356e=>_0x39d267(0x477)+_0x1a356e['id']+_0x39d267(0x93f)+(_0x1a356e[_0x39d267(0x2d8)]||_0x39d267(0x7ce))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20'+_0x1a356e[_0x39d267(0x29c)]+_0x39d267(0xbb0)+_0x1a356e['id']+_0x39d267(0x37e))['join'](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x3a2a68[_0x39d267(0xa6e)]=()=>{const _0x4c8849=_0x39d267,_0x493895=document['querySelector']('.quiz-bank-checkbox:checked');document[_0x4c8849(0x7eb)](_0x4c8849(0x28d))['disabled']=!_0x493895;};}function setupStudentProgressListeners(){const _0x5a77db=_0x473ef4;document[_0x5a77db(0x7eb)](_0x5a77db(0xb81))[_0x5a77db(0x5e6)](_0x5a77db(0x732),showStudentProgressView),document[_0x5a77db(0x7eb)](_0x5a77db(0x365))[_0x5a77db(0x5e6)](_0x5a77db(0x732),()=>{const _0x5aa8d0=_0x5a77db;document[_0x5aa8d0(0x7eb)](_0x5aa8d0(0x61f))['classList'][_0x5aa8d0(0x4ad)]('hidden'),document[_0x5aa8d0(0x7eb)](_0x5aa8d0(0x4d9))[_0x5aa8d0(0xc3c)][_0x5aa8d0(0x6f9)](_0x5aa8d0(0xcb0));});}async function startSkillPractice(_0x457dfb){const _0x806b1c=_0x473ef4;studentResultArea[_0x806b1c(0xc3c)][_0x806b1c(0x4ad)](_0x806b1c(0xcb0)),studentQuizArea[_0x806b1c(0xbec)]=_0x806b1c(0xd8b),studentQuizArea[_0x806b1c(0xc3c)][_0x806b1c(0x6f9)](_0x806b1c(0xcb0));try{const _0xb73473=await getStandardizedTopic(_0x457dfb);console[_0x806b1c(0xc55)](_0x806b1c(0x3b0)+_0x457dfb+_0x806b1c(0x3ed)+_0xb73473+'\x22'),studentQuizArea['querySelector']('p')[_0x806b1c(0xc95)]=_0x806b1c(0xc1a)+_0xb73473+_0x806b1c(0x8f3);const _0x4a2049=collection(db,_0x806b1c(0x41a)+appId+'/public/data/practiceBank'),_0x4d1c12=query(_0x4a2049,where(_0x806b1c(0x2d8),'==',_0xb73473)),_0x49b004=await getDocs(_0x4d1c12);if(_0x49b004[_0x806b1c(0x48b)][_0x806b1c(0x373)]>=0x3){console[_0x806b1c(0xc55)](_0x806b1c(0x254)+_0x49b004[_0x806b1c(0x48b)][_0x806b1c(0x373)]+_0x806b1c(0xb3b)+_0xb73473+_0x806b1c(0x606));let _0x5a8967=_0x49b004['docs'][_0x806b1c(0xa3b)](_0x38f90d=>_0x38f90d[_0x806b1c(0x1e4)]());shuffleArray(_0x5a8967);const _0x318f28={'topic':_0xb73473,'questions':_0x5a8967['slice'](0x0,0x3)};displaySkillPracticeDrill(_0x318f28);}else{console[_0x806b1c(0xc55)](_0x806b1c(0x4c1)+_0xb73473+_0x806b1c(0xa2c));const _0x39c695=await generatePracticeQuestions(_0xb73473);await saveDrillToPracticeBank(_0x39c695,_0xb73473),displaySkillPracticeDrill(_0x39c695);}}catch(_0x23cd8c){console['error']('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x23cd8c),showMessage(_0x806b1c(0x2a2)),studentQuizArea['classList'][_0x806b1c(0x4ad)]('hidden'),studentResultArea['classList']['remove'](_0x806b1c(0xcb0));}}async function saveDrillToPracticeBank(_0x5701eb,_0x29b484){const _0x28ba8a=_0x473ef4,_0x46cd70=collection(db,_0x28ba8a(0x41a)+appId+_0x28ba8a(0xcda)),_0x204de2=writeBatch(db);_0x5701eb[_0x28ba8a(0x3dd)]['forEach'](_0x23926a=>{const _0x33b7c0=_0x28ba8a,_0x1a004b=doc(_0x46cd70);_0x204de2[_0x33b7c0(0xcd8)](_0x1a004b,{'topic':_0x29b484,'questionText':_0x23926a[_0x33b7c0(0x837)],'options':_0x23926a[_0x33b7c0(0x745)],'correctAnswerIndex':_0x23926a['correctAnswerIndex'],'explanation':_0x23926a[_0x33b7c0(0x30b)],'createdAt':serverTimestamp()});});try{await _0x204de2[_0x28ba8a(0x5f4)](),console[_0x28ba8a(0xc55)](_0x28ba8a(0x6ec)+_0x5701eb[_0x28ba8a(0x3dd)][_0x28ba8a(0x373)]+'\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ');}catch(_0x127e30){console[_0x28ba8a(0x2b8)](_0x28ba8a(0x9b5),_0x127e30);}}async function getStandardizedTopic(_0x5e19df){const _0xc39366=_0x473ef4,_0x5cfeaa='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22'+_0x5e19df+_0xc39366(0x64e),_0x3bace8={'type':_0xc39366(0x7b6),'properties':{'standardTopic':{'type':_0xc39366(0x4ed)}},'required':[_0xc39366(0x8cd)]};try{const _0xe13a21=await callAnalysisApi(_0x5cfeaa,_0x3bace8);return _0xe13a21[_0xc39366(0x8cd)];}catch(_0x1e8b0a){return console[_0xc39366(0x2b8)]('Failed\x20to\x20get\x20standardized\x20topic:',_0x1e8b0a),_0x5e19df;}}async function handleGenerateEasyVersionQuiz(_0x4b210a){const _0x558b7d=_0x473ef4,_0x3e9121=document[_0x558b7d(0x7eb)]('results-tab-content'),_0x4b104e=document[_0x558b7d(0x7eb)](_0x558b7d(0xbaa));_0x4b104e['classList'][_0x558b7d(0x4ad)]('hidden');const _0x54ccc1=_0x558b7d(0x5a7);_0x3e9121[_0x558b7d(0xc77)](_0x558b7d(0x658),_0x54ccc1);try{const _0x3be8da=allQuizzes[_0x558b7d(0x712)](_0x37022d=>_0x37022d['id']===_0x4b210a);if(!_0x3be8da)throw new Error(_0x558b7d(0x25b));const _0x346a82='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20'+JSON['stringify'](_0x3be8da[_0x558b7d(0x3dd)])+_0x558b7d(0x842),_0x41b458={'type':_0x558b7d(0x7b6),'properties':{'questionText':{'type':_0x558b7d(0x4ed)},'questionType':{'type':_0x558b7d(0x4ed)},'options':{'type':_0x558b7d(0x440),'items':{'type':_0x558b7d(0x4ed)}},'correctAnswerIndex':{'type':_0x558b7d(0xb6b)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x558b7d(0x4ed)},'imageCode':{'type':_0x558b7d(0x4ed)}},'required':['questionText','questionType','explanation']},_0x32e0f={'type':_0x558b7d(0x7b6),'properties':{'questions':{'type':_0x558b7d(0x440),'items':_0x41b458}},'required':[_0x558b7d(0x3dd)]},_0x32c983=await callAnalysisApi(_0x346a82,_0x32e0f);_0x32c983&&_0x32c983[_0x558b7d(0x3dd)]&&_0x32c983[_0x558b7d(0x3dd)][_0x558b7d(0xb15)](_0x46e0de=>{const _0xfa5760=_0x558b7d;if(_0x46e0de[_0xfa5760(0xc9e)](_0xfa5760(0x675))){const _0x1df675=String(_0x46e0de[_0xfa5760(0x675)])[_0xfa5760(0xa7e)]();(_0x1df675===''||_0x1df675[_0xfa5760(0x9f4)]()==='null'||!_0x1df675[_0xfa5760(0x46a)](_0xfa5760(0xb40)))&&delete _0x46e0de[_0xfa5760(0x675)];}});if(!_0x32c983||!_0x32c983[_0x558b7d(0x3dd)]||_0x32c983['questions']['length']===0x0)throw new Error(_0x558b7d(0x6e7));const _0x4a2609=_0x32c983[_0x558b7d(0x3dd)]['map']((_0x41e016,_0x3b4b32)=>({..._0x41e016,'id':'q_'+Date[_0x558b7d(0x823)]()+'_'+_0x3b4b32})),_0x43e2ea={'projectId':_0x3be8da[_0x558b7d(0x3ba)],'quizType':_0x3be8da['quizType'],'settings':_0x3be8da[_0x558b7d(0xb37)],'createdBy':_0x3be8da['createdBy'],'status':'active','topic':_0x558b7d(0x995)+_0x3be8da[_0x558b7d(0x2d8)],'questions':_0x4a2609,'createdAt':new Date()['toISOString'](),'quizMode':_0x558b7d(0x849),'pairedQuizId':null};let _0x95b1a1;while(!![]){_0x95b1a1=Math[_0x558b7d(0x8a0)](0x3e8+Math[_0x558b7d(0x970)]()*0x2328)['toString']();const _0xc64844=await getDoc(doc(db,'artifacts/'+appId+_0x558b7d(0x3c1),_0x95b1a1));if(!_0xc64844['exists']())break;}await setDoc(doc(db,_0x558b7d(0x41a)+appId+_0x558b7d(0x3c1),_0x95b1a1),_0x43e2ea),showMessage('สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!');}catch(_0x3917c9){console['error'](_0x558b7d(0x45c),_0x3917c9),showMessage('เกิดข้อผิดพลาด:\x20'+_0x3917c9['message']);}finally{const _0x374ee8=document[_0x558b7d(0x7eb)]('temp-loader-results');_0x374ee8&&_0x374ee8[_0x558b7d(0x6f9)](),_0x4b104e['classList'][_0x558b7d(0x6f9)]('hidden');}}async function generatePracticeQuestions(_0x1f5ec2){const _0x2eb11a=_0x473ef4,_0x518d9f=_0x2eb11a(0x558)+_0x1f5ec2+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x2eb11a(0xcf8),_0x1e3c3b={'type':_0x2eb11a(0x7b6),'properties':{'questionText':{'type':_0x2eb11a(0x4ed)},'options':{'type':_0x2eb11a(0x440),'items':{'type':_0x2eb11a(0x4ed)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x2eb11a(0x4ed)}},'required':['questionText',_0x2eb11a(0x745),_0x2eb11a(0xb8c),_0x2eb11a(0x30b)]},_0x11cb88={'type':_0x2eb11a(0x7b6),'properties':{'topic':{'type':_0x2eb11a(0x4ed)},'questions':{'type':_0x2eb11a(0x440),'items':_0x1e3c3b}},'required':[_0x2eb11a(0x2d8),_0x2eb11a(0x3dd)]};return await callAnalysisApi(_0x518d9f,_0x11cb88);}function displayLessonPlan(_0xcb432a,_0x4b00ac){const _0x5a296d=_0x473ef4,_0x1e2c35=_0x5a296d(0x5f2)+_0x4b00ac[_0x5a296d(0x2d8)]+_0x5a296d(0x207)+_0xcb432a[_0x5a296d(0xc7c)][_0x5a296d(0xa3b)](_0x37f4db=>_0x5a296d(0x504)+_0x37f4db+_0x5a296d(0x216))[_0x5a296d(0xaa2)]('')+_0x5a296d(0x533)+_0xcb432a[_0x5a296d(0x2e7)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0xcb432a['practiceProblems'][_0x5a296d(0xa3b)](_0x235bca=>_0x5a296d(0x3be)+_0x235bca[_0x5a296d(0x428)]+_0x5a296d(0x1d7)+_0x235bca[_0x5a296d(0xb51)]+_0x5a296d(0x956))[_0x5a296d(0xaa2)]('')+_0x5a296d(0x63c);document[_0x5a296d(0x7eb)](_0x5a296d(0x56b))[_0x5a296d(0xc95)]=_0x5a296d(0x937)+_0x4b00ac['topic'],document[_0x5a296d(0x7eb)](_0x5a296d(0x720))[_0x5a296d(0xbec)]=_0x1e2c35,document[_0x5a296d(0x7eb)](_0x5a296d(0x6f6))[_0x5a296d(0xc3c)][_0x5a296d(0x6f9)](_0x5a296d(0xcb0));if(window[_0x5a296d(0x5f9)])MathJax[_0x5a296d(0x93d)]();}function displaySkillPracticeDrill(_0x356e8b){const _0x790d88=_0x473ef4;let _0x3342af=0x0;const _0x86017e=_0x356e8b[_0x790d88(0x3dd)],_0x24ed24=()=>{const _0x4ee78b=_0x790d88,_0x4d6261=_0x86017e[_0x3342af],_0x565f8c=_0x4ee78b(0xc89)+(_0x3342af+0x1)+_0x4ee78b(0xc7a)+_0x86017e[_0x4ee78b(0x373)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>'+_0x4d6261['questionText']+_0x4ee78b(0x4df)+_0x4d6261[_0x4ee78b(0x745)][_0x4ee78b(0xa3b)]((_0x3afc1d,_0x57099d)=>_0x4ee78b(0x74b)+_0x57099d+_0x4ee78b(0x222)+_0x57099d+_0x4ee78b(0x5e1)+_0x57099d+'\x22>'+_0x3afc1d+_0x4ee78b(0x9c8))[_0x4ee78b(0xaa2)]('')+_0x4ee78b(0xaa0);studentQuizArea[_0x4ee78b(0xbec)]=_0x565f8c;if(window['MathJax'])MathJax['typesetPromise']([studentQuizArea]);document['getElementById'](_0x4ee78b(0x466))[_0x4ee78b(0x5e6)](_0x4ee78b(0x732),async()=>{const _0x2e789c=_0x4ee78b,_0x3c01bd=await getHintForQuestion(_0x4d6261[_0x2e789c(0x837)]);showMessage(_0x3c01bd);}),document['getElementById'](_0x4ee78b(0x92d))[_0x4ee78b(0x5e6)]('click',()=>{const _0x5754ff=_0x4ee78b,_0x6d3d8a=document[_0x5754ff(0x6ea)](_0x5754ff(0x454));if(!_0x6d3d8a){showMessage(_0x5754ff(0x9d4));return;}const _0x5d1444=document['getElementById'](_0x5754ff(0x773)),_0x54ea3d=parseInt(_0x6d3d8a[_0x5754ff(0x53d)])===_0x4d6261[_0x5754ff(0xb8c)];_0x54ea3d?(_0x5d1444[_0x5754ff(0xcf2)]='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x5d1444['innerHTML']='<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>'+_0x4d6261['explanation']):(_0x5d1444['className']=_0x5754ff(0x456),_0x5d1444[_0x5754ff(0xbec)]=_0x5754ff(0x6a7)+_0x4d6261[_0x5754ff(0x30b)]);_0x5d1444[_0x5754ff(0xc3c)][_0x5754ff(0x6f9)]('hidden');if(window[_0x5754ff(0x5f9)])MathJax[_0x5754ff(0x93d)]([_0x5d1444]);document['getElementById'](_0x5754ff(0x92d))[_0x5754ff(0xc3c)][_0x5754ff(0x4ad)](_0x5754ff(0xcb0)),document['getElementById'](_0x5754ff(0x466))[_0x5754ff(0xc3c)][_0x5754ff(0x4ad)](_0x5754ff(0xcb0)),document['getElementById'](_0x5754ff(0x270))[_0x5754ff(0xc3c)][_0x5754ff(0x6f9)](_0x5754ff(0xcb0));}),document[_0x4ee78b(0x7eb)]('next-drill-btn')['addEventListener'](_0x4ee78b(0x732),()=>{const _0x3bab14=_0x4ee78b;_0x3342af++,_0x3342af<_0x86017e['length']?_0x24ed24():(studentQuizArea[_0x3bab14(0xbec)]=_0x3bab14(0x5fb),document['getElementById'](_0x3bab14(0xa82))[_0x3bab14(0x5e6)](_0x3bab14(0x732),()=>{const _0x1ba834=_0x3bab14;studentQuizArea['classList'][_0x1ba834(0x4ad)](_0x1ba834(0xcb0)),studentResultArea[_0x1ba834(0xc3c)][_0x1ba834(0x6f9)](_0x1ba834(0xcb0));}));});};_0x24ed24();}async function getHintForQuestion(_0xa8ffd8){const _0x1cd973=_0x473ef4,_0x444cd7='สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22'+_0xa8ffd8+_0x1cd973(0xd1e),_0x4a0365={'type':'OBJECT','properties':{'hint':{'type':_0x1cd973(0x4ed)}},'required':[_0x1cd973(0x2e8)]};try{const _0x441e5d=await callAnalysisApi(_0x444cd7,_0x4a0365);return _0x441e5d[_0x1cd973(0x2e8)];}catch(_0x419752){return console['error'](_0x1cd973(0x7e8),_0x419752),'ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้';}}async function extractTextFromPdf(_0x2e7ae5){const _0x4df757=_0x473ef4;pdfjsLib['GlobalWorkerOptions'][_0x4df757(0x908)]=_0x4df757(0x48e);const _0x3867db=await _0x2e7ae5[_0x4df757(0x49a)](),_0x1b83f9=await pdfjsLib[_0x4df757(0x90e)](_0x3867db)['promise'],_0xb3d2b4=_0x1b83f9[_0x4df757(0x50a)];let _0x3f5a06='';for(let _0x26a284=0x1;_0x26a284<=_0xb3d2b4;_0x26a284++){const _0x139489=await _0x1b83f9[_0x4df757(0x657)](_0x26a284),_0x2c826e=await _0x139489[_0x4df757(0x74c)](),_0x49d376=_0x2c826e[_0x4df757(0x1f5)]['map'](_0x16049b=>_0x16049b['str'])[_0x4df757(0xaa2)]('\x20');_0x3f5a06+=_0x49d376+'\x0a\x0a';}return _0x3f5a06;}let extractedBlueprintTopics=[];async function analyzeBlueprintForTopics(_0x2ce7c1){const _0x200496=_0x473ef4,_0x3c0c1e=document['getElementById'](_0x200496(0x95a)),_0x2b8641=document[_0x200496(0x7eb)](_0x200496(0x67d)),_0x27ea43=document[_0x200496(0x7eb)](_0x200496(0x5ea));_0x3c0c1e[_0x200496(0xc3c)][_0x200496(0x6f9)]('hidden'),_0x2b8641[_0x200496(0xbec)]='<p\x20class=\x22text-gray-500\x20italic\x22>AI\x20กำลังวิเคราะห์หัวข้อจาก\x20Blueprint...</p>',_0x27ea43[_0x200496(0xc3c)]['add'](_0x200496(0xcb0));try{const _0x4aef0b='วิเคราะห์ข้อความ\x20Test\x20Blueprint\x20วิชาคณิตศาสตร์นี้:\x20\x22'+_0x2ce7c1+_0x200496(0x387),_0x12ae9c={'type':'OBJECT','properties':{'gradeLevel':{'type':_0x200496(0x4ed)},'curriculum':{'type':'ARRAY','items':{'type':'OBJECT','properties':{'sara':{'type':'STRING'},'mainTopics':{'type':_0x200496(0x440),'items':{'type':'OBJECT','properties':{'topicName':{'type':_0x200496(0x4ed)},'subTopics':{'type':_0x200496(0x440),'items':{'type':_0x200496(0x4ed)}}},'required':[_0x200496(0x65f),'subTopics']}}},'required':['sara',_0x200496(0x8e7)]}}},'required':[_0x200496(0x9c2),'curriculum']},_0x3033a4=await callAnalysisApi(_0x4aef0b,_0x12ae9c);if(_0x3033a4&&_0x3033a4['curriculum'])extractedBlueprintData=_0x3033a4,renderBlueprintTopics(_0x3033a4),_0x27ea43[_0x200496(0xc3c)]['remove'](_0x200496(0xcb0));else throw new Error(_0x200496(0x804));}catch(_0x141eeb){console[_0x200496(0x2b8)]('Error\x20analyzing\x20blueprint\x20topics:',_0x141eeb),_0x2b8641[_0x200496(0xbec)]=_0x200496(0x2b0);}}function renderBlueprintTopics(_0x56e19a){const _0x230888=_0x473ef4,_0xb7c405=document['getElementById'](_0x230888(0x67d)),_0x407792=_0x56e19a[_0x230888(0x9c2)],_0x5de265=_0x230888(0x9b7)+_0x407792+_0x230888(0xcb6);let _0x270b6c='';_0x56e19a[_0x230888(0xac6)][_0x230888(0xb15)](_0x21b411=>{const _0x318cdd=_0x230888;_0x270b6c+=_0x318cdd(0x7fc)+_0x21b411[_0x318cdd(0x1dc)]+_0x318cdd(0x8fa),_0x21b411[_0x318cdd(0x8e7)]['forEach'](_0x4d0a19=>{const _0x1eea45=_0x318cdd;_0x270b6c+=_0x1eea45(0xa35)+_0x4d0a19['topicName']+'</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20pl-4\x20border-l-2\x20border-gray-200\x22>',_0x4d0a19[_0x1eea45(0x6ad)][_0x1eea45(0xb15)](_0x2141a9=>{const _0x21aed8=_0x1eea45;_0x270b6c+=_0x21aed8(0x8bc)+_0x2141a9['replace'](/'/g,'\x5c\x27')+_0x21aed8(0x469)+_0x407792[_0x21aed8(0x7bd)](/'/g,'\x5c\x27')+_0x21aed8(0xb53)+_0x2141a9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-shrink-0\x22>\x0a<button\x20class=\x22text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1.5\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1.5\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20onclick=\x22handleGenerateQuizFromBlueprintTopic(\x27'+_0x2141a9[_0x21aed8(0x7bd)](/'/g,'\x5c\x27')+_0x21aed8(0x605);}),_0x270b6c+=_0x1eea45(0x932);}),_0x270b6c+=_0x318cdd(0x3ab);}),_0xb7c405[_0x230888(0xbec)]=_0x5de265+_0x270b6c;}async function handleGenerateTeachingContent(_0x1348bc){const _0x301417=_0x473ef4,_0x378fd2=document[_0x301417(0x7eb)]('lesson-plan-modal'),_0x56ad97=document[_0x301417(0x7eb)](_0x301417(0x720));document['getElementById']('lesson-plan-title')[_0x301417(0xc95)]=_0x301417(0x92b)+_0x1348bc,_0x56ad97[_0x301417(0xbec)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังสรุปแนวคิดหลักและสร้างโจทย์ตัวอย่าง...\x20กรุณารอสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x378fd2[_0x301417(0xc3c)][_0x301417(0x6f9)](_0x301417(0xcb0));try{const _0x2e4506='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20สำหรับวิชาคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จงสร้าง\x20\x22เอกสารสรุปเนื้อหาเพื่อเตรียมการสอน\x22\x20สำหรับครู\x20ในหัวข้อ\x20\x22'+_0x1348bc+_0x301417(0x386),_0x26b379={'type':_0x301417(0x7b6),'properties':{'keyConcepts':{'type':_0x301417(0x440),'items':{'type':_0x301417(0x4ed)}},'commonMistakes':{'type':_0x301417(0x440),'items':{'type':_0x301417(0x4ed)}},'stepByStepExamples':{'type':_0x301417(0x440),'items':{'type':_0x301417(0x7b6),'properties':{'question':{'type':_0x301417(0x4ed)},'solution':{'type':'STRING'}},'required':[_0x301417(0x428),_0x301417(0xb51)]}},'teacherTips':{'type':_0x301417(0x440),'items':{'type':'STRING'}}},'required':['keyConcepts',_0x301417(0xc35),_0x301417(0x8d6),'teacherTips']},_0x1335c4=await callAnalysisApi(_0x2e4506,_0x26b379);displayTeachingContent(_0x1335c4,_0x1348bc);}catch(_0x18a010){console[_0x301417(0x2b8)](_0x301417(0x7c5),_0x18a010),_0x56ad97['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>ขออภัย,\x20ไม่สามารถสร้างเนื้อหาได้ในขณะนี้:\x20'+_0x18a010[_0x301417(0xd7a)]+_0x301417(0xc65);}}function displayTeachingContent(_0x508f58,_0x290c63){const _0x595f92=_0x473ef4,_0xe7f738=document[_0x595f92(0x7eb)]('lesson-plan-content');document['getElementById'](_0x595f92(0x56b))['textContent']=_0x595f92(0xa5b)+_0x290c63;const _0x44ac89=_0x595f92(0x936)+_0x508f58['keyConcepts']['map'](_0x3260d8=>_0x595f92(0x504)+_0x3260d8+'</li>')[_0x595f92(0xaa2)]('')+_0x595f92(0xc9b)+_0x508f58[_0x595f92(0xc35)][_0x595f92(0xa3b)](_0x3d8ff3=>_0x595f92(0x504)+_0x3d8ff3+_0x595f92(0x216))['join']('')+_0x595f92(0xc37)+_0x508f58['stepByStepExamples'][_0x595f92(0xa3b)](_0x1fd264=>_0x595f92(0x614)+_0x1fd264[_0x595f92(0x428)]+_0x595f92(0x2ed)+_0x1fd264[_0x595f92(0xb51)]+_0x595f92(0x258))[_0x595f92(0xaa2)]('')+_0x595f92(0xc22)+_0x508f58['teacherTips'][_0x595f92(0xa3b)](_0x48fdf2=>_0x595f92(0x504)+_0x48fdf2+'</li>')[_0x595f92(0xaa2)]('')+_0x595f92(0x3b4);_0xe7f738[_0x595f92(0xbec)]=_0x44ac89;if(window[_0x595f92(0x5f9)])MathJax[_0x595f92(0x93d)]([_0xe7f738]);}async function generateQuizForSingleTopic(_0x2b8124){const _0x4b9466=_0x473ef4;console[_0x4b9466(0xc55)](_0x4b9466(0x438)+_0x2b8124+'\x22');const _0x16cb99=document[_0x4b9466(0x7eb)](_0x4b9466(0xc15)),_0x2b65c7=_0x16cb99['files'][_0x4b9466(0x373)]>0x0?_0x16cb99[_0x4b9466(0x762)][0x0]:null;let _0x1f9ecb=null;if(_0x2b65c7)try{const _0x50937c=new FileReader();_0x50937c[_0x4b9466(0x8be)](_0x2b65c7);const _0x317a4b=await new Promise((_0x4b7619,_0xdb8812)=>{const _0x1c91c7=_0x4b9466;_0x50937c[_0x1c91c7(0x8d0)]=()=>_0x4b7619(_0x50937c[_0x1c91c7(0xc30)][_0x1c91c7(0x5db)](',')[0x1]),_0x50937c[_0x1c91c7(0x9a3)]=_0x3244fd=>_0xdb8812(_0x3244fd);});_0x1f9ecb=[{'inlineData':{'mimeType':_0x2b65c7[_0x4b9466(0x213)],'data':_0x317a4b}}];}catch(_0x492555){console[_0x4b9466(0x2b8)](_0x4b9466(0x9c7),_0x492555),showMessage(_0x4b9466(0x3cd));return;}generateQuiz(_0x2b8124,null,null,_0x1f9ecb,!![],null,null,!![]);}async function handleGenerateFromBlueprint(_0x36549e=null){const _0x5ae070=_0x473ef4,_0x38fd0e=document[_0x5ae070(0x7eb)](_0x5ae070(0x32d)),_0xcf248b=document[_0x5ae070(0x7eb)]('loader-text');let _0x39e841,_0x2f331c=[];if(_0x36549e)_0x39e841=_0x36549e,_0x2f331c=_0x39e841['slice'](0x2);else{const _0x2efd0f=document[_0x5ae070(0x7eb)](_0x5ae070(0xbf1)),_0x2035ea=document[_0x5ae070(0x7eb)](_0x5ae070(0xc15)),_0x189a86=_0x2efd0f['files'][0x0];if(!_0x189a86){showMessage(_0x5ae070(0x831));return;}_0xcf248b[_0x5ae070(0xc95)]='กำลังเตรียมไฟล์...';const _0x254b89=await new Promise((_0x543354,_0x53286d)=>{const _0x32863d=_0x5ae070,_0x2148c1=new FileReader();_0x2148c1[_0x32863d(0x8be)](_0x189a86),_0x2148c1['onload']=()=>_0x543354(_0x2148c1[_0x32863d(0xc30)][_0x32863d(0x5db)](',')[0x1]),_0x2148c1[_0x32863d(0x9a3)]=_0x53286d;});_0x39e841=[{'text':_0x5ae070(0xa89)},{'inlineData':{'mimeType':_0x189a86['type'],'data':_0x254b89}}];if(_0x2035ea[_0x5ae070(0x762)][_0x5ae070(0x373)]>0x0){const _0x2dfd03=_0x2035ea[_0x5ae070(0x762)][0x0];_0xcf248b[_0x5ae070(0xc95)]=_0x5ae070(0x857);const _0x4f6216=await new Promise((_0x26f53d,_0x211609)=>{const _0x1da816=_0x5ae070,_0x38b09a=new FileReader();_0x38b09a[_0x1da816(0x8be)](_0x2dfd03),_0x38b09a[_0x1da816(0x8d0)]=()=>_0x26f53d(_0x38b09a[_0x1da816(0xc30)][_0x1da816(0x5db)](',')[0x1]),_0x38b09a[_0x1da816(0x9a3)]=_0x211609;}),_0xde4c18={'inlineData':{'mimeType':_0x2dfd03[_0x5ae070(0x213)],'data':_0x4f6216}};_0x39e841[_0x5ae070(0x526)](_0xde4c18),_0x2f331c[_0x5ae070(0x526)](_0xde4c18);}}const _0x4f33ab=_0x5ae070(0x3fd),_0x46903d=_0x5ae070(0x652);let _0x277b17='';_0x2f331c&&_0x2f331c[_0x5ae070(0x373)]>0x0?_0x277b17=_0x4f33ab:_0x277b17=_0x46903d;const _0x2d35fc=_0x5ae070(0xa9d)+_0x277b17+_0x5ae070(0xa56),_0x4d8d84={'type':'OBJECT','properties':{'questionText':{'type':_0x5ae070(0x4ed)},'questionType':{'type':_0x5ae070(0x4ed),'enum':[_0x5ae070(0xcc0),_0x5ae070(0x314),'true_false','matching_item']},'options':{'type':_0x5ae070(0x440),'items':{'type':_0x5ae070(0x4ed)}},'correctAnswerIndex':{'type':_0x5ae070(0xb6b)},'idealAnswer':{'type':_0x5ae070(0x4ed)},'correctAnswer':{'type':_0x5ae070(0xa5c)},'explanation':{'type':_0x5ae070(0x4ed)},'imageCode':{'type':_0x5ae070(0x4ed)}},'required':[_0x5ae070(0x22d),'explanation']},_0x1e0b95={'type':_0x5ae070(0x7b6),'properties':{'topic':{'type':_0x5ae070(0x4ed)},'questions':{'type':_0x5ae070(0x440),'items':_0x4d8d84}},'required':[_0x5ae070(0x2d8),_0x5ae070(0x3dd)]};_0x39e841[0x0][_0x5ae070(0x2b3)]=_0x2d35fc,await handleApiCall(_0x39e841,_0x5ae070(0x398),_0x1e0b95);}function proceedToNextQuestion(_0x35c0f8){const _0xec6e4a=_0x473ef4;studentAnswersPerQuestion[_0xec6e4a(0x526)](_0x35c0f8),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz['questions'][_0xec6e4a(0x373)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x124634,_0x44c856,_0x18aea1){const _0x32dcf1=_0x473ef4,_0x2e41a4=Object[_0x32dcf1(0x63a)](_0x124634['players']||{}),_0x1c0726=_0x2e41a4[_0x32dcf1(0x373)],_0x5475bb=[..._0x2e41a4][_0x32dcf1(0x4af)]((_0x247dbc,_0x350ccd)=>_0x350ccd['score']-_0x247dbc[_0x32dcf1(0xa94)]),_0x5ec06b=_0x18aea1;let _0x5e193a='';const _0x11b719=_0x124634[_0x32dcf1(0xd5d)][_0x32dcf1(0x3dd)],_0x4f602a=_0x11b719[_0x5ec06b],_0x466c76=_0x548eff=>String[_0x32dcf1(0xbb3)](0x41+_0x548eff);let _0x28e162='',_0x2e6a57='';if(_0x4f602a){const _0x5897ad=_0x4f602a[_0x32dcf1(0x22d)]||_0x124634[_0x32dcf1(0xd5d)][_0x32dcf1(0x3d3)];if(_0x5897ad===_0x32dcf1(0xcc0)&&_0x4f602a[_0x32dcf1(0x745)]&&_0x4f602a[_0x32dcf1(0xb8c)]!==undefined){const _0x52aaeb=_0x4f602a[_0x32dcf1(0xb8c)];_0x28e162=_0x4f602a['options'][_0x52aaeb],_0x2e6a57=_0x466c76(_0x52aaeb)+'.';}else{if(_0x5897ad===_0x32dcf1(0x84f)){const _0x5bf95c=_0x4f602a['correctAnswer']===!![]||String(_0x4f602a[_0x32dcf1(0x8ae)])['toLowerCase']()==='true';_0x5bf95c?(_0x28e162=_0x32dcf1(0x897),_0x2e6a57='ก.'):(_0x28e162=_0x32dcf1(0xbde),_0x2e6a57='ข.');}else{if(_0x5897ad===_0x32dcf1(0xac9))_0x28e162=_0x4f602a[_0x32dcf1(0xc73)]||'-',_0x2e6a57='';else _0x5897ad===_0x32dcf1(0x314)&&(_0x28e162=_0x4f602a[_0x32dcf1(0x8f5)]||'-',_0x2e6a57='');}}}_0x28e162&&(_0x5e193a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20'+(_0x5ec06b+0x1)+_0x32dcf1(0x330)+_0x2e6a57+'\x20'+_0x28e162+_0x32dcf1(0x6cb));const _0xfef69d=_0x5475bb[_0x32dcf1(0xa3b)](_0x3b7181=>{const _0x10fb7=_0x32dcf1,_0x4dafe4=(_0x3b7181[_0x10fb7(0xbba)]||[])[_0x10fb7(0x514)](_0x197256=>_0x197256[_0x10fb7(0x350)]<=_0x5ec06b),_0x5e3823=_0x4dafe4[_0x10fb7(0x514)](_0x29c112=>_0x29c112[_0x10fb7(0x95d)])['length'];let _0x504263=![];const _0x260e80=(_0x3b7181[_0x10fb7(0xbba)]||[])[_0x10fb7(0x712)](_0x5f22e8=>_0x5f22e8[_0x10fb7(0x350)]===_0x5ec06b);_0x260e80&&_0x260e80[_0x10fb7(0x95d)]&&(_0x504263=!![]);const _0x480df0=_0x504263?_0x10fb7(0x44e):'bg-black/20';return _0x10fb7(0xc00)+_0x480df0+_0x10fb7(0x3e7)+_0x3b7181[_0x10fb7(0x65c)]+_0x10fb7(0x803)+_0x5e3823+'\x20คะแนน</span></div>';})['join'](''),_0x4a32ca=_0x11b719['map']((_0x3dda71,_0x556639)=>{const _0x520808=_0x32dcf1;if(_0x556639>_0x5ec06b)return'';const _0x4c1d46=_0x2e41a4[_0x520808(0x514)](_0x20fd61=>_0x20fd61[_0x520808(0xbba)]&&_0x20fd61['answers'][_0x520808(0x712)](_0x35325d=>_0x35325d[_0x520808(0x350)]===_0x556639&&_0x35325d[_0x520808(0x95d)]))[_0x520808(0x373)],_0x2310d0=_0x556639===_0x5ec06b,_0x646f30=_0x2310d0?_0x520808(0x85a):_0x520808(0x41b);return _0x520808(0x348)+_0x646f30+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20'+(_0x556639+0x1)+':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>'+_0x4c1d46+_0x520808(0xc7a)+_0x1c0726+_0x520808(0xa46);})['join']('');let _0x517943='',_0x30b1e1='';if(_0x44c856){const _0x2188cf=_0x124634['gameVariant']||_0x32dcf1(0xc39),_0x46ebcc=_0x124634[_0x32dcf1(0x748)]>=_0x11b719[_0x32dcf1(0x373)]-0x1,_0x2d28c4=_0x124634[_0x32dcf1(0xb2a)]>=_0x11b719[_0x32dcf1(0x373)]-0x1;let _0x3c1a6c=_0x32dcf1(0x5b6);(_0x2188cf===_0x32dcf1(0xc39)&&_0x46ebcc||_0x2188cf===_0x32dcf1(0xb67)&&_0x2d28c4)&&(_0x3c1a6c=_0x32dcf1(0xaf5)),_0x517943=_0x32dcf1(0x531)+_0x3c1a6c+_0x32dcf1(0x569),_0x30b1e1=_0x32dcf1(0x739);}const _0x37b8f7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20'+_0x124634[_0x32dcf1(0xd5d)][_0x32dcf1(0x2d8)]+_0x32dcf1(0xb84)+_0x30b1e1+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5e193a+_0x32dcf1(0x8d3)+(_0xfef69d||_0x32dcf1(0x1e8))+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0x4a32ca+_0x32dcf1(0x6aa)+(_0x44c856?_0x32dcf1(0xa8e)+_0x517943+_0x32dcf1(0x3ab):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x37b8f7;if(window[_0x32dcf1(0x5f9)]){const _0x59edf1=document[_0x32dcf1(0x7eb)](_0x32dcf1(0x600));_0x59edf1&&MathJax[_0x32dcf1(0x93d)]([_0x59edf1]);}if(_0x44c856){document['getElementById'](_0x32dcf1(0xbfe))['onclick']=async()=>{const _0x428c96=_0x32dcf1,_0x3b3a2f=doc(db,_0x428c96(0x41a)+appId+_0x428c96(0x361),currentLiveGameId),_0x4ae42b=_0x124634['gameVariant']||_0x428c96(0xc39),_0x1267e5=_0x124634[_0x428c96(0x748)]>=_0x11b719[_0x428c96(0x373)]-0x1,_0x8b2e5c=_0x124634[_0x428c96(0xb2a)]>=_0x11b719['length']-0x1;if(_0x4ae42b===_0x428c96(0xc39)){if(!_0x1267e5){const _0x53f759=_0x124634[_0x428c96(0x748)]+0x1,_0x293a66={};Object[_0x428c96(0x6e0)](_0x124634['players'])[_0x428c96(0xb15)](_0x56bffe=>{const _0x403ca7=_0x428c96;_0x293a66[_0x403ca7(0xd00)+_0x56bffe+_0x403ca7(0x6eb)]=![],_0x293a66['players.'+_0x56bffe+_0x403ca7(0x997)]=null;}),await updateDoc(_0x3b3a2f,{..._0x293a66,'status':'question','currentQuestionIndex':_0x53f759,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x3b3a2f,{'status':_0x428c96(0xab6)});}else!_0x8b2e5c?await updateDoc(_0x3b3a2f,{'reviewQuestionIndex':increment(0x1)}):await updateDoc(_0x3b3a2f,{'status':_0x428c96(0xab6)});};const _0x5e746c=document[_0x32dcf1(0x7eb)](_0x32dcf1(0x481));_0x5e746c&&(_0x5e746c[_0x32dcf1(0xa41)]=()=>{const _0x2cc1c7=_0x32dcf1;showConfirmation(_0x2cc1c7(0x82b),async()=>{const _0x33bedd=_0x2cc1c7,_0x167863=doc(db,'artifacts/'+appId+_0x33bedd(0x361),currentLiveGameId);await updateDoc(_0x167863,{'status':_0x33bedd(0xab6)});});});}}async function handleGenerateParallelFromBank(_0x271c80){const _0x198acb=_0x473ef4,_0x8959ef=document['getElementById'](_0x198acb(0xd17)),_0x4cbfdb=document['getElementById'](_0x198acb(0xbaa));_0x4cbfdb['classList'][_0x198acb(0x4ad)](_0x198acb(0xcb0));const _0x1f8379=_0x198acb(0x59a)+_0x271c80['topic']+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x8959ef[_0x198acb(0xc77)](_0x198acb(0x658),_0x1f8379);const _0x495f56=document[_0x198acb(0x7eb)]('temp-loader-text-results');try{const _0x37329e=_0x271c80[_0x198acb(0x3dd)][_0x198acb(0xa3b)]((_0x422e6d,_0x2dfed0)=>{const _0x4e4b25=_0x198acb;let _0x8cc899=_0x2dfed0+0x1+'.\x20'+(_0x422e6d[_0x4e4b25(0x837)]||_0x422e6d[_0x4e4b25(0xd03)])+'\x0a';if(_0x422e6d[_0x4e4b25(0x745)])_0x8cc899+=_0x422e6d['options']['map']((_0x5a7d7a,_0x20da59)=>_0x4e4b25(0xc1b)+(_0x20da59===_0x422e6d[_0x4e4b25(0xb8c)]?_0x4e4b25(0xca4):'')+'\x20'+_0x5a7d7a)[_0x4e4b25(0xaa2)]('\x0a');else _0x422e6d[_0x4e4b25(0x8f5)]&&(_0x8cc899+=_0x4e4b25(0x572)+_0x422e6d[_0x4e4b25(0x8f5)]);return _0x8cc899;})[_0x198acb(0xaa2)]('\x0a\x0a');_0x495f56['textContent']=_0x198acb(0xd74);const _0x350491=_0x198acb(0xb01)+_0x271c80[_0x198acb(0x2d8)]+_0x198acb(0x98a)+_0x37329e+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x198acb(0x22c),_0x2ea1b8={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x198acb(0x4ed),'enum':[_0x198acb(0xcc0),_0x198acb(0x314),_0x198acb(0x84f),'matching_item']},'options':{'type':_0x198acb(0x440),'items':{'type':_0x198acb(0x4ed)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x198acb(0x4ed)},'correctAnswer':{'type':_0x198acb(0xa5c)},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x198acb(0x440),'items':{'type':_0x198acb(0x4ed)}},'explanation':{'type':_0x198acb(0x4ed)},'imageCode':{'type':_0x198acb(0x4ed)}},'required':[_0x198acb(0x22d),_0x198acb(0x30b)]},_0xa6180d={'type':_0x198acb(0x7b6),'properties':{'topic':{'type':_0x198acb(0x4ed)},'questions':{'type':_0x198acb(0x440),'items':_0x2ea1b8}},'required':[_0x198acb(0x2d8),_0x198acb(0x3dd)]},_0x2c2421=await callAnalysisApi(_0x350491,_0xa6180d),_0x23504c=_0x2c2421['questions']['map']((_0x96195b,_0x254769)=>({..._0x96195b,'id':'q_'+Date[_0x198acb(0x823)]()+'_'+_0x254769})),_0x34f8e1=_0x198acb(0x95f)+_0x271c80[_0x198acb(0x2d8)],_0x505424={'topic':_0x34f8e1,'questions':_0x23504c,'quizType':_0x271c80[_0x198acb(0x3d3)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x198acb(0xcb2)](),'status':_0x198acb(0x3a5),'settings':_0x271c80[_0x198acb(0xb37)],'quizMode':'standard','pairedQuizId':null,'lessonPlan':null};let _0x31fbb6;while(!![]){_0x31fbb6=Math[_0x198acb(0x8a0)](0x3e8+Math[_0x198acb(0x970)]()*0x2328)['toString']();const _0x4c2141=await getDoc(doc(db,_0x198acb(0x41a)+appId+_0x198acb(0x3c1),_0x31fbb6));if(!_0x4c2141['exists']())break;}await setDoc(doc(db,_0x198acb(0x41a)+appId+_0x198acb(0x3c1),_0x31fbb6),_0x505424),showMessage('สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!');}catch(_0x20434a){console[_0x198acb(0x2b8)](_0x198acb(0x225),_0x20434a),showMessage('เกิดข้อผิดพลาด:\x20'+_0x20434a['message']);}finally{const _0x522d9f=document['getElementById']('temp-loader-results');_0x522d9f&&_0x522d9f[_0x198acb(0x6f9)](),_0x4cbfdb[_0x198acb(0xc3c)][_0x198acb(0x6f9)](_0x198acb(0xcb0));}}async function handleGenerateParallelPostTest(_0x45422f){const _0x4ed99e=_0x473ef4,_0x3bfe93=document[_0x4ed99e(0x7eb)](_0x4ed99e(0xd17)),_0x1b9d1b=document['getElementById']('project-quizzes-list');_0x1b9d1b[_0x4ed99e(0xc3c)][_0x4ed99e(0x4ad)](_0x4ed99e(0xcb0));const _0x21d020=_0x4ed99e(0x58f);_0x3bfe93[_0x4ed99e(0xc77)](_0x4ed99e(0x658),_0x21d020);try{const _0x15ef2b=_0x45422f['questions'][_0x4ed99e(0xa3b)]((_0x1c63f5,_0x987830)=>{const _0x34cc94=_0x4ed99e;let _0x5eade6=_0x987830+0x1+'.\x20'+(_0x1c63f5[_0x34cc94(0x837)]||_0x1c63f5[_0x34cc94(0xd03)]);if(_0x1c63f5['options'])_0x5eade6+=_0x34cc94(0xb63)+_0x1c63f5[_0x34cc94(0x745)][_0x34cc94(0xaa2)](',\x20');return _0x5eade6;})['join']('\x0a\x0a'),_0x1127a0=_0x4ed99e(0x843)+_0x45422f[_0x4ed99e(0x2d8)]+_0x4ed99e(0x7b7)+_0x15ef2b+_0x4ed99e(0xb23)+simpleMathPrompt+_0x4ed99e(0x22c),_0xb31bdf={'type':_0x4ed99e(0x7b6),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':{'type':_0x4ed99e(0x7b6),'properties':{'questionText':{'type':_0x4ed99e(0x4ed)},'questionType':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x4ed99e(0x4ed)}},'correctAnswerIndex':{'type':_0x4ed99e(0xb6b)},'idealAnswer':{'type':_0x4ed99e(0x4ed)},'explanation':{'type':'STRING'}},'required':[_0x4ed99e(0x837),_0x4ed99e(0x30b)]}}},'required':[_0x4ed99e(0x2d8),_0x4ed99e(0x3dd)]},_0x358efa=await callAnalysisApi(_0x1127a0,_0xb31bdf),_0x2b8da9=_0x45422f[_0x4ed99e(0x2d8)][_0x4ed99e(0x7bd)](_0x4ed99e(0x6cf),'')[_0x4ed99e(0xa7e)](),_0x1a56a2=_0x4ed99e(0xb6d)+_0x2b8da9,_0x157375={..._0x358efa,'topic':_0x1a56a2,'quizType':_0x45422f[_0x4ed99e(0x3d3)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x4ed99e(0xcb2)](),'status':_0x4ed99e(0x3a5),'settings':_0x45422f[_0x4ed99e(0xb37)],'quizMode':_0x4ed99e(0x4bb),'pairedQuizId':_0x45422f['id']};let _0x7b4876;while(!![]){_0x7b4876=Math['floor'](0x3e8+Math[_0x4ed99e(0x970)]()*0x2328)[_0x4ed99e(0xc07)]();const _0x325cbd=await getDoc(doc(db,_0x4ed99e(0x41a)+appId+_0x4ed99e(0x3c1),_0x7b4876));if(!_0x325cbd['exists']())break;}await setDoc(doc(db,_0x4ed99e(0x41a)+appId+'/public/data/quizzes',_0x7b4876),_0x157375);const _0x548c42=doc(db,_0x4ed99e(0x41a)+appId+_0x4ed99e(0x3c1),_0x45422f['id']);await updateDoc(_0x548c42,{'pairedQuizId':_0x7b4876}),showMessage(_0x4ed99e(0xa13));}catch(_0x5b4cca){console[_0x4ed99e(0x2b8)](_0x4ed99e(0xd5b),_0x5b4cca),showMessage(_0x4ed99e(0xc13)+_0x5b4cca[_0x4ed99e(0xd7a)]);}finally{const _0x2247bd=document['getElementById'](_0x4ed99e(0x4c5));if(_0x2247bd)_0x2247bd['remove']();_0x1b9d1b[_0x4ed99e(0xc3c)][_0x4ed99e(0x6f9)](_0x4ed99e(0xcb0));}}async function handleGenerateParallelTest(_0x32bce8=null){const _0x25c229=_0x473ef4;let _0xd5d84c=_0x32bce8;if(!_0xd5d84c){const _0x1f3879=document[_0x25c229(0x7eb)](_0x25c229(0x9da));_0x1f3879[_0x25c229(0x762)][_0x25c229(0x373)]>0x0&&(_0xd5d84c=_0x1f3879[_0x25c229(0x762)][0x0]);}if(!_0xd5d84c){showMessage(_0x25c229(0xad9));return;}const _0x27d3fc=document[_0x25c229(0x7eb)](_0x25c229(0x32d)),_0x59b78d=document[_0x25c229(0x7eb)](_0x25c229(0x2d4)),_0x21378a=document['getElementById'](_0x25c229(0xad2)),_0x572d56=document[_0x25c229(0x7eb)](_0x25c229(0xc01));_0x572d56['disabled']=!![],document[_0x25c229(0x7eb)](_0x25c229(0x6dc))[_0x25c229(0xc3c)][_0x25c229(0x6f9)](_0x25c229(0xcb0)),_0x21378a['innerHTML']='',_0x27d3fc['classList']['remove'](_0x25c229(0xcb0)),_0x59b78d[_0x25c229(0xc95)]=_0x25c229(0x92e);const _0x105826=new FileReader();_0x105826[_0x25c229(0x8be)](_0xd5d84c),_0x105826['onload']=async()=>{const _0xd1cdcb=_0x25c229;try{const _0x19cec1=_0x105826[_0xd1cdcb(0xc30)][_0xd1cdcb(0x5db)](',')[0x1],_0x29c6a8=_0xd5d84c['type'];_0x59b78d[_0xd1cdcb(0xc95)]=_0xd1cdcb(0xbef);const _0x52e9a6=document[_0xd1cdcb(0x7eb)](_0xd1cdcb(0x411))['checked'],_0x306fa0=_0x52e9a6?_0xd1cdcb(0x2ce):'',_0x1f4094=_0xd1cdcb(0x6e1),_0x16b1d2={'type':'OBJECT','properties':{'questionText':{'type':_0xd1cdcb(0x4ed)},'questionType':{'type':_0xd1cdcb(0x4ed),'enum':[_0xd1cdcb(0xcc0),_0xd1cdcb(0x314)]},'options':{'type':_0xd1cdcb(0x440),'items':{'type':_0xd1cdcb(0x4ed)}},'correctAnswerIndex':{'type':_0xd1cdcb(0xb6b)},'idealAnswer':{'type':_0xd1cdcb(0x4ed)},'explanation':{'type':_0xd1cdcb(0x4ed)},'imageCode':{'type':_0xd1cdcb(0x4ed)}},'required':[_0xd1cdcb(0x837),_0xd1cdcb(0x22d),_0xd1cdcb(0x30b)]},_0x257cb7={'type':_0xd1cdcb(0x7b6),'properties':{'topic':{'type':_0xd1cdcb(0x4ed)},'questions':{'type':_0xd1cdcb(0x440),'items':_0x16b1d2}},'required':[_0xd1cdcb(0x2d8),'questions']},_0x222d16=[{'text':_0x1f4094},{'inlineData':{'mimeType':_0x29c6a8,'data':_0x19cec1}}];await handleApiCall(_0x222d16,'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบคู่ขนาน...',_0x257cb7);}catch(_0x34c669){console[_0xd1cdcb(0x2b8)]('Error\x20generating\x20from\x20parallel\x20test\x20file:',_0x34c669),showMessage('เกิดข้อผิดพลาด:\x20'+_0x34c669[_0xd1cdcb(0xd7a)]),_0x21378a[_0xd1cdcb(0xbec)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x27d3fc[_0xd1cdcb(0xc3c)][_0xd1cdcb(0x4ad)]('hidden'),_0x572d56[_0xd1cdcb(0x744)]=![];}},_0x105826[_0x25c229(0x9a3)]=_0xd40e3d=>{const _0x37e2e5=_0x25c229;console[_0x37e2e5(0x2b8)](_0x37e2e5(0xd61),_0xd40e3d),showMessage(_0x37e2e5(0x67a)),_0x27d3fc[_0x37e2e5(0xc3c)]['add'](_0x37e2e5(0xcb0)),_0x572d56[_0x37e2e5(0x744)]=![];};}async function handleRegenerateQuestionInEditor(_0x35d062){const _0x3d4c70=_0x473ef4;if(currentEditingQuizData===null)return;const _0x3f5b2b=document[_0x3d4c70(0x6ea)](_0x3d4c70(0x2ea)+_0x35d062+'\x22]');_0x3f5b2b&&(_0x3f5b2b[_0x3d4c70(0xbec)]=_0x3d4c70(0xb25));const _0x40af07=currentEditingQuizData[_0x3d4c70(0x3dd)][_0x35d062],_0x183d77=currentEditingQuizData[_0x3d4c70(0x2d8)],_0x59e722=_0x40af07[_0x3d4c70(0x22d)],_0x40c516={'type':_0x3d4c70(0x7b6),'properties':{'questionText':{'type':_0x3d4c70(0x4ed)},'options':{'type':'ARRAY','items':{'type':_0x3d4c70(0x4ed)}},'correctAnswerIndex':{'type':_0x3d4c70(0xb6b)},'explanation':{'type':_0x3d4c70(0x4ed)}},'required':[_0x3d4c70(0x837),'options',_0x3d4c70(0xb8c),_0x3d4c70(0x30b)]},_0x1dfd64={'type':_0x3d4c70(0x7b6),'properties':{'questionText':{'type':_0x3d4c70(0x4ed)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x3d4c70(0x4ed)}},'required':[_0x3d4c70(0x837),'idealAnswer',_0x3d4c70(0x30b)]};let _0x33f5bc,_0x26cc51='';_0x59e722===_0x3d4c70(0xcc0)?(_0x33f5bc=_0x40c516,_0x26cc51=_0x3d4c70(0xb61)):(_0x33f5bc=_0x1dfd64,_0x26cc51=_0x3d4c70(0xa32));const _0x37934c=_0x3d4c70(0x604)+_0x183d77+_0x3d4c70(0x340)+_0x26cc51+_0x3d4c70(0x1f6)+(_0x40af07[_0x3d4c70(0x837)]||_0x40af07[_0x3d4c70(0xd03)])+_0x3d4c70(0x285)+simpleMathPrompt;try{const _0x5881f4=await callAnalysisApi(_0x37934c,_0x33f5bc);currentEditingQuizData[_0x3d4c70(0x3dd)][_0x35d062]={..._0x40af07,..._0x5881f4},renderQuizEditor(currentEditingQuizData);}catch(_0x20f716){console[_0x3d4c70(0x2b8)](_0x3d4c70(0xc67),_0x20f716),showMessage('เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่'),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x4c4655=_0x473ef4,_0x21dcde=document[_0x4c4655(0x7eb)](_0x4c4655(0x73c));currentMode===_0x4c4655(0xb9c)?(currentMode=_0x4c4655(0x769),_0x21dcde[_0x4c4655(0xbec)]=_0x4c4655(0x36c),_0x21dcde[_0x4c4655(0x640)]=_0x4c4655(0xa99),showView('admin-dashboard')):(currentMode='student',_0x21dcde[_0x4c4655(0xbec)]='<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>',_0x21dcde[_0x4c4655(0x640)]=_0x4c4655(0x56e),showView(_0x4c4655(0xb9c)));}function handleAdminLogin(){const _0x51ff92=_0x473ef4,_0xc3d6=document[_0x51ff92(0x7eb)]('admin-password-input'),_0xf460bc=document['getElementById']('password-error-msg');if(_0xc3d6['value']==='27411472'){adminPasswordModal[_0x51ff92(0xc3c)][_0x51ff92(0x4ad)](_0x51ff92(0xcb0)),_0xc3d6[_0x51ff92(0x53d)]='',_0xf460bc[_0x51ff92(0xc3c)][_0x51ff92(0x4ad)](_0x51ff92(0xcb0)),currentMode='admin';const _0xcd15b9=document[_0x51ff92(0x7eb)](_0x51ff92(0x73c));_0xcd15b9[_0x51ff92(0xbec)]='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0xcd15b9[_0x51ff92(0x640)]=_0x51ff92(0xa99),showView(_0x51ff92(0x656));}else _0xf460bc[_0x51ff92(0xc3c)][_0x51ff92(0x6f9)](_0x51ff92(0xcb0)),_0xc3d6[_0x51ff92(0x53d)]='';}function switchProjectTab(_0x3fd4c7){const _0x34587c=_0x473ef4;[_0x34587c(0x1e1),_0x34587c(0x782),_0x34587c(0x59b)][_0x34587c(0xb15)](_0x250b7a=>{const _0x18e9eb=_0x34587c;document[_0x18e9eb(0x7eb)](_0x250b7a+_0x18e9eb(0xbd6))['classList'][_0x18e9eb(0x6f9)]('active'),document['getElementById'](_0x250b7a+'-tab-content')[_0x18e9eb(0xc3c)]['add'](_0x18e9eb(0xcb0));}),document[_0x34587c(0x7eb)](_0x3fd4c7+_0x34587c(0xbd6))['classList'][_0x34587c(0x4ad)](_0x34587c(0x3a5)),document[_0x34587c(0x7eb)](_0x3fd4c7+_0x34587c(0x336))['classList'][_0x34587c(0x6f9)]('hidden');}function switchQuizDetailTab(_0x53d1f5){const _0x15d281=_0x473ef4,_0x38c0e2={'analytics':{'btn':_0x15d281(0x88d),'content':_0x15d281(0x1ee)},'scores':{'btn':_0x15d281(0xb0d),'content':_0x15d281(0x7a0)},'leaderboard-quiz':{'btn':_0x15d281(0xb83),'content':_0x15d281(0xc6e)},'behavior-log':{'btn':_0x15d281(0xb3f),'content':'behavior-log-tab-content'}};for(const _0x4addd8 in _0x38c0e2){document[_0x15d281(0x7eb)](_0x38c0e2[_0x4addd8][_0x15d281(0xa22)])[_0x15d281(0xc3c)][_0x15d281(0x6f9)]('active'),document[_0x15d281(0x7eb)](_0x38c0e2[_0x4addd8][_0x15d281(0x349)])['classList'][_0x15d281(0x4ad)](_0x15d281(0xcb0));}document[_0x15d281(0x7eb)](_0x38c0e2[_0x53d1f5][_0x15d281(0xa22)])['classList']['add'](_0x15d281(0x3a5)),document[_0x15d281(0x7eb)](_0x38c0e2[_0x53d1f5]['content'])[_0x15d281(0xc3c)]['remove'](_0x15d281(0xcb0));}function showMessage(_0x31b11b,_0x32779e=null){const _0x46e995=_0x473ef4;modalMessage['textContent']=_0x31b11b,modalConfirmAction=_0x32779e,messageModal[_0x46e995(0xc3c)]['remove']('hidden');}function showConfirmation(_0x552f53,_0x5a5686){const _0x3c5b22=_0x473ef4;document[_0x3c5b22(0x7eb)](_0x3c5b22(0x351))['textContent']=_0x552f53,document[_0x3c5b22(0x7eb)](_0x3c5b22(0xc0e))[_0x3c5b22(0x6ea)]('h3')[_0x3c5b22(0xc95)]=_0x3c5b22(0x579),confirmAction=_0x5a5686,confirmationModal[_0x3c5b22(0xc3c)]['remove'](_0x3c5b22(0xcb0));}function listenForProjects(){const _0x3e5d87=_0x473ef4,_0x429132=doc(db,_0x3e5d87(0x590),_0x3e5d87(0x9b2));onSnapshot(_0x429132,_0x575d6b=>{const _0x1880eb=_0x3e5d87;if(_0x575d6b['exists']()){const _0x4ebe0a=_0x575d6b[_0x1880eb(0x1e4)]();globalDashboardSettings[_0x1880eb(0x433)]=_0x4ebe0a[_0x1880eb(0x433)]||_0x1880eb(0xc2c),globalDashboardSettings[_0x1880eb(0x58a)]=_0x4ebe0a['pinnedProjects']||[],globalDashboardSettings[_0x1880eb(0x974)]=_0x4ebe0a[_0x1880eb(0x974)]||[];}allProjects[_0x1880eb(0x373)]>0x0&&renderProjects();});const _0x38b7dc=collection(db,'artifacts/'+appId+_0x3e5d87(0xd51));unsubscribeProjectsListener=onSnapshot(_0x38b7dc,_0x267249=>{const _0xfda162=_0x3e5d87;allProjects=_0x267249[_0xfda162(0x48b)]['map'](_0x1f40d=>({'id':_0x1f40d['id'],..._0x1f40d[_0xfda162(0x1e4)]()})),renderProjects();},_0x4fca53=>{const _0x47cfec=_0x3e5d87;console[_0x47cfec(0x2b8)](_0x47cfec(0xd72),_0x4fca53),showMessage(_0x47cfec(0xb73));});}function showColorPalette(_0x330449,_0xfbe864){const _0x51b290=_0x473ef4;document[_0x51b290(0x89b)](_0x51b290(0x988))[_0x51b290(0xb15)](_0x29148e=>_0x29148e[_0x51b290(0x6f9)]());const _0x1a8b7e=[_0x51b290(0xc3e),_0x51b290(0x7bc),_0x51b290(0x8a5),_0x51b290(0x80a),'#DBEAFE',_0x51b290(0xbae),'#F3E8FF','#FCE7F3','#E5E7EB'],_0x3f6455=document[_0x51b290(0x855)](_0x51b290(0x4dd));_0x3f6455['className']=_0x51b290(0x814),_0x1a8b7e[_0x51b290(0xb15)](_0xa3282a=>{const _0x47a622=_0x51b290,_0x1ed873=document[_0x47a622(0x855)](_0x47a622(0x4dd));_0x1ed873[_0x47a622(0xcf2)]='w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500',_0x1ed873[_0x47a622(0xd84)][_0x47a622(0x738)]=_0xa3282a,_0x1ed873[_0x47a622(0x5e6)]('click',()=>{const _0x457280=_0x47a622;handleProjectColorChange(_0xfbe864,_0xa3282a),_0x3f6455[_0x457280(0x6f9)]();}),_0x3f6455['appendChild'](_0x1ed873);}),document['body'][_0x51b290(0xae3)](_0x3f6455);const _0x582098=_0x330449[_0x51b290(0x586)]();_0x3f6455[_0x51b290(0xd84)][_0x51b290(0x54c)]=_0x582098[_0x51b290(0xabf)]+window[_0x51b290(0x21a)]+'px',_0x3f6455['style'][_0x51b290(0xca2)]=_0x582098['left']+window[_0x51b290(0x320)]-_0x3f6455['offsetWidth']/0x2+'px';}async function handleProjectColorChange(_0x570b7c,_0x5ed572){const _0x4906da=_0x473ef4,_0x11ee14=doc(db,_0x4906da(0x41a)+appId+_0x4906da(0xd51),_0x570b7c);try{await updateDoc(_0x11ee14,{'color':_0x5ed572});}catch(_0x17ab50){console[_0x4906da(0x2b8)]('Error\x20updating\x20project\x20color:',_0x17ab50),showMessage(_0x4906da(0xb07));}}async function renderProjects(){const _0x15b63e=_0x473ef4,_0x3eee05=globalDashboardSettings[_0x15b63e(0x433)]||_0x15b63e(0xc2c),_0x5b222f=new Set(globalDashboardSettings['pinnedProjects']||[]),_0x1cfda0=globalDashboardSettings[_0x15b63e(0x377)]||_0x15b63e(0x6b0),_0x4afb6b=document[_0x15b63e(0x7eb)](_0x15b63e(0xa60)),_0x386014=document[_0x15b63e(0x7eb)]('list-view-btn');_0x4afb6b['classList'][_0x15b63e(0x899)](_0x15b63e(0x3a5),_0x1cfda0===_0x15b63e(0x6b0)),_0x386014[_0x15b63e(0xc3c)]['toggle'](_0x15b63e(0x3a5),_0x1cfda0===_0x15b63e(0x65d)),document[_0x15b63e(0x7eb)](_0x15b63e(0x43f))[_0x15b63e(0x53d)]=_0x3eee05;const _0x5e9c42=document['getElementById'](_0x15b63e(0xce0))[_0x15b63e(0x53d)]['toLowerCase']();let _0x5ea0a7=allProjects[_0x15b63e(0x514)](_0x1451f3=>_0x1451f3[_0x15b63e(0x29c)]['toLowerCase']()['includes'](_0x5e9c42));const _0x2ca0e7=_0x5ea0a7[_0x15b63e(0x514)](_0x1886a7=>_0x5b222f['has'](_0x1886a7['id'])),_0x377512=_0x5ea0a7[_0x15b63e(0x514)](_0x29990a=>!_0x5b222f[_0x15b63e(0x3a7)](_0x29990a['id'])),_0x4c68ae=(_0x15c9b2,_0x29127e)=>{const _0x4d1187=_0x15b63e;switch(_0x3eee05){case _0x4d1187(0x990):return _0x15c9b2[_0x4d1187(0x29c)][_0x4d1187(0xd07)](_0x29127e[_0x4d1187(0x29c)],'th');case'name_desc':return _0x29127e[_0x4d1187(0x29c)][_0x4d1187(0xd07)](_0x15c9b2[_0x4d1187(0x29c)],'th');case'date_asc':return new Date(_0x15c9b2[_0x4d1187(0x7ed)])-new Date(_0x29127e['createdAt']);default:return new Date(_0x29127e[_0x4d1187(0x7ed)])-new Date(_0x15c9b2[_0x4d1187(0x7ed)]);}};_0x2ca0e7[_0x15b63e(0x4af)](_0x4c68ae),_0x377512['sort'](_0x4c68ae);const _0xef96c2=[..._0x2ca0e7,..._0x377512],_0x2066ee=globalDashboardSettings['projectOrder']||[];_0x2066ee['length']>0x0&&_0x1cfda0===_0x15b63e(0x6b0)&&_0xef96c2['sort']((_0x2e476d,_0x1486f0)=>{const _0x3c2185=_0x15b63e,_0x570eb7=_0x2066ee[_0x3c2185(0x5ac)](_0x2e476d['id']),_0x3cdffb=_0x2066ee['indexOf'](_0x1486f0['id']);if(_0x570eb7===-0x1)return 0x1;if(_0x3cdffb===-0x1)return-0x1;return _0x570eb7-_0x3cdffb;});const _0x19342d={};await Promise[_0x15b63e(0x61c)](_0xef96c2[_0x15b63e(0xa3b)](async _0x18efc5=>{const _0x4e92fe=_0x15b63e,_0x18f901=query(collection(db,'artifacts/'+appId+_0x4e92fe(0x3c1)),where(_0x4e92fe(0x3ba),'==',_0x18efc5['id'])),_0x478a85=await getDocs(_0x18f901);_0x19342d[_0x18efc5['id']]=_0x478a85[_0x4e92fe(0x33b)];}));const _0x5ce49e=document[_0x15b63e(0x7eb)](_0x15b63e(0xc3d));let _0x573971='';if(_0x1cfda0===_0x15b63e(0x6b0)){_0x5ce49e[_0x15b63e(0xcf2)]='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x15b63e(0x373)]>0x0&&_0x5e9c42===''){const _0xd0c9e7=starredQuizzes[_0x15b63e(0xa3b)](_0x1adf87=>{const _0x28bed5=_0x15b63e,_0x3cf458=allProjects[_0x28bed5(0x712)](_0x23d6a9=>_0x23d6a9['id']===_0x1adf87[_0x28bed5(0x3ba)]);return{..._0x1adf87,'projectName':_0x3cf458?_0x3cf458[_0x28bed5(0x29c)]:_0x28bed5(0xd1a)};});_0x573971+=_0x15b63e(0x6e3)+_0xd0c9e7[_0x15b63e(0xa3b)](_0x3b7bf5=>_0x15b63e(0xcd5)+_0x3b7bf5[_0x15b63e(0x2d8)]+'\x22>'+_0x3b7bf5[_0x15b63e(0x2d8)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20'+_0x3b7bf5[_0x15b63e(0x29c)]+_0x15b63e(0x446)+_0x3b7bf5[_0x15b63e(0x29c)]+_0x15b63e(0xd10))[_0x15b63e(0xaa2)]('')+_0x15b63e(0x223)+starredQuizzes[_0x15b63e(0x373)]+_0x15b63e(0x26a);}_0xef96c2[_0x15b63e(0xb15)](_0x27e5da=>{const _0x188a81=_0x15b63e,_0x12d7fb=_0x19342d[_0x27e5da['id']]??0x0,_0x15551a=_0x5b222f[_0x188a81(0x3a7)](_0x27e5da['id']),_0x3c1675=_0x27e5da[_0x188a81(0xc0b)]||_0x188a81(0xc3e),_0x3388ad=parseInt(_0x3c1675[_0x188a81(0x1e3)](0x1,0x3),0x10)*0.299+parseInt(_0x3c1675['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x3c1675[_0x188a81(0x1e3)](0x5,0x7),0x10)*0.114<0xba,_0x5d4650=_0x3388ad?_0x188a81(0x8e9):_0x188a81(0x800),_0x228b39=_0x3388ad?'text-gray-200':_0x188a81(0xc57);_0x573971+=_0x188a81(0x999)+(_0x15551a?'border-indigo-400\x20ring-2\x20ring-indigo-200':'border-gray-200')+_0x188a81(0xace)+_0x3c1675+_0x188a81(0x72d)+_0x27e5da['id']+'\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x27e5da['id']+_0x188a81(0x2be)+(_0x3388ad?_0x188a81(0x332):'text-gray-400\x20hover:text-indigo-600')+_0x188a81(0xa51)+_0x27e5da['id']+_0x188a81(0x724)+(_0x3388ad?_0x188a81(0x332):'text-gray-400\x20hover:text-indigo-600')+'\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x15551a?_0x3388ad?_0x188a81(0x80e):_0x188a81(0x46e):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22'+_0x27e5da['id']+_0x188a81(0x412)+_0x5d4650+_0x188a81(0x9a0)+_0x27e5da[_0x188a81(0x29c)]+_0x188a81(0x40a)+_0x228b39+_0x188a81(0x7e9)+new Date(_0x27e5da[_0x188a81(0x7ed)])[_0x188a81(0x429)](_0x188a81(0x42d))+_0x188a81(0x7e6)+(_0x3388ad?_0x188a81(0x421):'text-gray-700')+_0x188a81(0xc74)+_0x12d7fb+_0x188a81(0xb48)+_0x27e5da['id']+'\x22\x20data-name=\x22'+_0x27e5da['projectName']+_0x188a81(0x2df)+(_0x3388ad?_0x188a81(0x261):_0x188a81(0x2f3))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x5ce49e[_0x15b63e(0xcf2)]=_0x15b63e(0x8de),starredQuizzes[_0x15b63e(0x373)]>0x0&&_0x5e9c42===''&&(_0x573971+=_0x15b63e(0x9fe)+starredQuizzes[_0x15b63e(0x373)]+_0x15b63e(0x452)),_0x573971+='<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0xef96c2[_0x15b63e(0xb15)](_0x3789ee=>{const _0x4052c9=_0x15b63e,_0x43f7e0=_0x19342d[_0x3789ee['id']]??0x0,_0x666799=_0x5b222f[_0x4052c9(0x3a7)](_0x3789ee['id']);_0x573971+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x3789ee[_0x4052c9(0xc0b)]||'#E5E7EB')+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x3789ee['id']+_0x4052c9(0x82e)+_0x3789ee[_0x4052c9(0x29c)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>'+_0x43f7e0+_0x4052c9(0x9bb)+new Date(_0x3789ee[_0x4052c9(0x7ed)])[_0x4052c9(0x255)](_0x4052c9(0x42d))+_0x4052c9(0x76b)+_0x3789ee['id']+'\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20'+(_0x666799?_0x4052c9(0x46e):'')+'\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3789ee['id']+_0x4052c9(0x71f)+_0x3789ee[_0x4052c9(0x29c)]+_0x4052c9(0x3cf);});projectList[_0x15b63e(0xbec)]=_0x573971,noProjectsMsg[_0x15b63e(0xc3c)][_0x15b63e(0x899)]('hidden',_0x573971[_0x15b63e(0x373)]>0x0);}document[_0x473ef4(0x7eb)]('confirm-create-project-btn')['addEventListener']('click',async()=>{const _0x453aa3=_0x473ef4,_0xec0b95=document[_0x453aa3(0x7eb)]('project-name-input'),_0x5bc276=_0xec0b95[_0x453aa3(0x53d)][_0x453aa3(0xa7e)]();if(!_0x5bc276){showMessage(_0x453aa3(0x9af));return;}try{const _0x480822=doc(collection(db,_0x453aa3(0x41a)+appId+_0x453aa3(0xd51)));await setDoc(_0x480822,{'projectName':_0x5bc276,'students':[],'settings':{'resultsDisplay':_0x453aa3(0x8a8),'shuffleSetting':_0x453aa3(0x2bc),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x453aa3(0x2bc),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x453aa3(0xcb2)]()}),_0xec0b95['value']='',createProjectModal[_0x453aa3(0xc3c)]['add'](_0x453aa3(0xcb0)),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0x3bee5d){console['error'](_0x453aa3(0xada),_0x3bee5d),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList['addEventListener'](_0x473ef4(0x732),async _0x4f089a=>{const _0xb741f2=_0x473ef4,_0x78ac19=_0x4f089a[_0xb741f2(0x8ef)][_0xb741f2(0xba1)](_0xb741f2(0x991)),_0x2af009=_0x4f089a[_0xb741f2(0x8ef)][_0xb741f2(0xba1)](_0xb741f2(0xc12)),_0x3c516d=_0x4f089a['target'][_0xb741f2(0xba1)](_0xb741f2(0xd4f)),_0x5e2aec=_0x4f089a[_0xb741f2(0x8ef)][_0xb741f2(0xba1)](_0xb741f2(0xa1a));if(_0x3c516d){const _0x1bf4ed=_0x3c516d['dataset']['id'],_0x147651=doc(db,_0xb741f2(0x590),_0xb741f2(0x9b2)),_0x11264e=globalDashboardSettings[_0xb741f2(0x58a)];let _0x31f943;_0x11264e['includes'](_0x1bf4ed)?_0x31f943=_0x11264e[_0xb741f2(0x514)](_0x4741f9=>_0x4741f9!==_0x1bf4ed):_0x31f943=[..._0x11264e,_0x1bf4ed];try{await setDoc(_0x147651,{'pinnedProjects':_0x31f943},{'merge':!![]});}catch(_0x121fa0){console[_0xb741f2(0x2b8)](_0xb741f2(0x443),_0x121fa0),showMessage(_0xb741f2(0xa9e));}}else{if(_0x5e2aec){const _0x17ed4c=_0x5e2aec[_0xb741f2(0x6e9)]['id'];showColorPalette(_0x5e2aec,_0x17ed4c);}else{if(_0x78ac19){const _0x6167e3=_0x78ac19[_0xb741f2(0x6e9)]['id'];_0x6167e3==='starred-project'?showStarredProjectView():(currentProjectId=_0x6167e3,await loadProjectDetails(currentProjectId),showView(_0xb741f2(0x2a6)));}else{if(_0x2af009){const _0x44a488=_0x2af009[_0xb741f2(0x6e9)]['id'],_0x375ca3=_0x2af009[_0xb741f2(0x6e9)][_0xb741f2(0x65c)];showConfirmation(_0xb741f2(0x25a)+_0x375ca3+_0xb741f2(0x364),()=>handleDeleteProject(_0x44a488));}}}}}),projectList[_0x473ef4(0x5e6)](_0x473ef4(0x934),_0x522093=>{const _0x306b4d=_0x473ef4,_0x38b59c=_0x522093[_0x306b4d(0x8ef)]['closest'](_0x306b4d(0x719));_0x38b59c&&_0x38b59c[_0x306b4d(0xc3c)][_0x306b4d(0x4ad)](_0x306b4d(0x994));}),projectList[_0x473ef4(0x5e6)](_0x473ef4(0xc84),_0x389e0d=>{const _0x276ebc=_0x473ef4,_0x2a4b52=_0x389e0d[_0x276ebc(0x8ef)][_0x276ebc(0xba1)](_0x276ebc(0x719));_0x2a4b52&&_0x2a4b52[_0x276ebc(0xc3c)][_0x276ebc(0x6f9)](_0x276ebc(0x994));}),projectList['addEventListener'](_0x473ef4(0x4e9),_0x4461ed=>{const _0x534a6e=_0x473ef4;_0x4461ed[_0x534a6e(0x82f)]();const _0x55093f=document[_0x534a6e(0x6ea)](_0x534a6e(0xa9f));if(!_0x55093f)return;const _0x1d5e8a=getDragAfterElement(projectList,_0x4461ed['clientY']);_0x1d5e8a==null?projectList[_0x534a6e(0xae3)](_0x55093f):projectList[_0x534a6e(0xc69)](_0x55093f,_0x1d5e8a);}),projectList[_0x473ef4(0x5e6)](_0x473ef4(0xcae),_0x34e028=>{const _0x513a6d=_0x473ef4;_0x34e028[_0x513a6d(0x82f)]();const _0x20c1f7=[...projectList[_0x513a6d(0x89b)]('.project-card-container[data-id]')][_0x513a6d(0xa3b)](_0x8d0120=>_0x8d0120[_0x513a6d(0x6e9)]['id']);saveProjectOrder(_0x20c1f7);});function renderBehaviorLog(_0x19c34d){const _0x4c547e=_0x473ef4,_0x4542b3=document[_0x4c547e(0x7eb)](_0x4c547e(0x781));if(!_0x4542b3)return;const _0x4ff740=_0x19c34d[_0x4c547e(0x514)](_0x41750c=>_0x41750c[_0x4c547e(0x577)]&&_0x41750c['behaviorLog'][_0x4c547e(0x373)]>0x0);if(_0x4ff740[_0x4c547e(0x373)]===0x0){_0x4542b3[_0x4c547e(0xbec)]=_0x4c547e(0x3ff);return;}let _0x3a0b16='';_0x4ff740[_0x4c547e(0xb15)](_0x1b388d=>{const _0x32a244=_0x4c547e;_0x3a0b16+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>'+_0x1b388d['studentName']+_0x32a244(0x5a2),_0x1b388d[_0x32a244(0x577)][_0x32a244(0x4af)]((_0x455bbe,_0x22b504)=>new Date(_0x22b504[_0x32a244(0xb3a)])-new Date(_0x455bbe[_0x32a244(0xb3a)]))[_0x32a244(0xb15)](_0x860543=>{const _0xd5c4c=_0x32a244,_0xff257b=new Date(_0x860543[_0xd5c4c(0xb3a)])[_0xd5c4c(0x255)](_0xd5c4c(0x42d),{'dateStyle':_0xd5c4c(0x582),'timeStyle':_0xd5c4c(0x2fa)});_0x3a0b16+=_0xd5c4c(0x81f)+_0x860543[_0xd5c4c(0x684)]+')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>'+_0xff257b+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3a0b16+=_0x32a244(0x5a0);}),_0x4542b3[_0x4c547e(0xbec)]=_0x3a0b16;}function getDragAfterElement(_0x58aa74,_0x2f485b){const _0x5ee1cb=_0x473ef4,_0x716b78=[..._0x58aa74[_0x5ee1cb(0x89b)](_0x5ee1cb(0x494))];return _0x716b78['reduce']((_0x3bc84a,_0x30f321)=>{const _0x54762d=_0x5ee1cb,_0x434676=_0x30f321[_0x54762d(0x586)](),_0x2274e8=_0x2f485b-_0x434676[_0x54762d(0x54c)]-_0x434676[_0x54762d(0x395)]/0x2;return _0x2274e8<0x0&&_0x2274e8>_0x3bc84a[_0x54762d(0x9e4)]?{'offset':_0x2274e8,'element':_0x30f321}:_0x3bc84a;},{'offset':Number[_0x5ee1cb(0x75f)]})['element'];}async function saveProjectOrder(_0x4dfa4f){const _0x469536=_0x473ef4,_0x4fb7f4=doc(db,_0x469536(0x590),'dashboardConfig');try{await setDoc(_0x4fb7f4,{'projectOrder':_0x4dfa4f},{'merge':!![]});}catch(_0x48760b){console[_0x469536(0x2b8)](_0x469536(0x98d),_0x48760b),showMessage(_0x469536(0x5b2));}}async function logBehaviorEvent(_0x5a0563,_0x37ea87={}){const _0x13ca54=_0x473ef4;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x13ca54(0x7dc)](_0x13ca54(0x9e7));return;}const _0x28dc1e=doc(db,_0x13ca54(0x41a)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x13ca54(0xa06),currentStudentName),_0x51a830={'event':_0x5a0563,'timestamp':new Date()[_0x13ca54(0xcb2)](),..._0x37ea87};try{await updateDoc(_0x28dc1e,{'behaviorLog':arrayUnion(_0x51a830)}),console[_0x13ca54(0xc55)](_0x13ca54(0xd7f)+currentStudentName+_0x13ca54(0x911));}catch(_0x3cf0f0){_0x3cf0f0[_0x13ca54(0x906)]===_0x13ca54(0xaa9)?console['warn'](_0x13ca54(0x2ab)+currentStudentName+_0x13ca54(0x8a7)):console[_0x13ca54(0x2b8)](_0x13ca54(0x3d1),_0x3cf0f0);}}function calculateMeanAndStdDev(_0x2dc3c8){const _0x5d2700=_0x473ef4;if(_0x2dc3c8[_0x5d2700(0x373)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x7cd81d=_0x2dc3c8[_0x5d2700(0x718)]((_0x69cdcc,_0x16faaf)=>_0x69cdcc+_0x16faaf,0x0)/_0x2dc3c8[_0x5d2700(0x373)];if(_0x2dc3c8[_0x5d2700(0x373)]===0x1)return{'mean':_0x7cd81d,'stdDev':0x0};const _0x479d10=Math[_0x5d2700(0x595)](_0x2dc3c8[_0x5d2700(0xa3b)](_0x3221b8=>Math[_0x5d2700(0x700)](_0x3221b8-_0x7cd81d,0x2))[_0x5d2700(0x718)]((_0x4f763e,_0x218fa7)=>_0x4f763e+_0x218fa7,0x0)/(_0x2dc3c8[_0x5d2700(0x373)]-0x1));return{'mean':_0x7cd81d,'stdDev':_0x479d10};}function calculateZScore(_0x1c0c7b,_0xd7b660,_0x4051a1){if(_0x4051a1===0x0)return 0x0;return(_0x1c0c7b-_0xd7b660)/_0x4051a1;}function calculateTScore(_0xa98930){return 0xa*_0xa98930+0x32;}function showStarredProjectView(){const _0x37e43c=_0x473ef4;currentProjectId='starred',currentProjectData=null,projectTitle['textContent']=_0x37e43c(0xa4f),projectIdDisplay[_0x37e43c(0xc95)]='pinned-items',showView('project-detail'),manageTab[_0x37e43c(0xc3c)][_0x37e43c(0x4ad)]('hidden'),leaderboardTab['classList'][_0x37e43c(0x4ad)]('hidden'),switchProjectTab(_0x37e43c(0x782)),renderQuizzes();}async function loadProjectDetails(_0x4129d5){const _0x3b1d51=_0x473ef4,_0x18fba1=doc(db,_0x3b1d51(0x41a)+appId+_0x3b1d51(0xd51),_0x4129d5),_0x551577=await getDoc(_0x18fba1);if(_0x551577['exists']()){manageTab['classList'][_0x3b1d51(0x6f9)](_0x3b1d51(0xcb0)),leaderboardTab['classList'][_0x3b1d51(0x6f9)](_0x3b1d51(0xcb0)),currentProjectData=_0x551577[_0x3b1d51(0x1e4)](),projectTitle['textContent']=currentProjectData[_0x3b1d51(0x29c)],projectIdDisplay['textContent']=_0x4129d5;const _0x16eccf=currentProjectData[_0x3b1d51(0xb37)]||{};document[_0x3b1d51(0x7eb)](_0x3b1d51(0xcb1))[_0x3b1d51(0x53d)]=_0x16eccf[_0x3b1d51(0xa57)]||_0x3b1d51(0x2bc);const _0x5407e4=document[_0x3b1d51(0x7eb)](_0x3b1d51(0x622));_0x5407e4[_0x3b1d51(0x5b1)]=_0x16eccf[_0x3b1d51(0x35f)]!==![];const _0x171e3e=document[_0x3b1d51(0x7eb)](_0x3b1d51(0x280)),_0x168a42=document['getElementById'](_0x3b1d51(0x6f5)),_0x1f9b87=document[_0x3b1d51(0x7eb)]('project-passcode-input'),_0x1ef9e0=_0x16eccf[_0x3b1d51(0x5be)]||![];_0x171e3e[_0x3b1d51(0x5b1)]=_0x1ef9e0,_0x1f9b87[_0x3b1d51(0x53d)]=_0x16eccf[_0x3b1d51(0xd23)]||'',_0x168a42[_0x3b1d51(0xc3c)][_0x3b1d51(0x899)]('hidden',!_0x1ef9e0),_0x171e3e[_0x3b1d51(0xa6e)]=()=>{const _0x7edf7a=_0x3b1d51;_0x168a42[_0x7edf7a(0xc3c)][_0x7edf7a(0x899)](_0x7edf7a(0xcb0),!_0x171e3e[_0x7edf7a(0x5b1)]);},document[_0x3b1d51(0x7eb)](_0x3b1d51(0xa81))[_0x3b1d51(0x5b1)]=_0x16eccf[_0x3b1d51(0x6ff)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x4129d5),listenForProjectQuizzes(_0x4129d5),listenForStudentProfiles(_0x4129d5);}else showMessage(_0x3b1d51(0xa6c)),showView(_0x3b1d51(0x656));}async function handleResetProjectOrder(){const _0x4cc914=_0x473ef4,_0x6d643b=doc(db,_0x4cc914(0x590),_0x4cc914(0x9b2));try{await setDoc(_0x6d643b,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x4cc914(0xd0c));}catch(_0x4f6630){console[_0x4cc914(0x2b8)](_0x4cc914(0x714),_0x4f6630),showMessage('เกิดข้อผิดพลาดในการรีเซ็ตลำดับ');}}async function handleTogglePinProject(_0x43665c){const _0x2e7d68=_0x473ef4;if(!_0x43665c)return;const _0x4041a3=doc(db,_0x2e7d68(0x41a)+appId+_0x2e7d68(0xd51),_0x43665c);try{const _0x455fda=await getDoc(_0x4041a3);if(_0x455fda[_0x2e7d68(0x931)]()){const _0x40596a=_0x455fda[_0x2e7d68(0x1e4)]()[_0x2e7d68(0x84b)]||![];await updateDoc(_0x4041a3,{'isPinned':!_0x40596a});}}catch(_0x2f94a5){console[_0x2e7d68(0x2b8)]('Error\x20toggling\x20pin\x20status:',_0x2f94a5),showMessage(_0x2e7d68(0xa9e));}}async function handleDeleteProject(_0x55eefd){const _0x3197c7=_0x473ef4;try{const _0x1e0299=writeBatch(db),_0x320a66=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x1ad15a=query(_0x320a66,where(_0x3197c7(0x3ba),'==',_0x55eefd)),_0x3ad84c=await getDocs(_0x1ad15a);for(const _0x4a1a8a of _0x3ad84c[_0x3197c7(0x48b)]){const _0x4a6b7c=collection(db,'artifacts/'+appId+_0x3197c7(0x5d9)+_0x4a1a8a['id']+'/submissions'),_0x3d6533=await getDocs(_0x4a6b7c);_0x3d6533[_0x3197c7(0xb15)](_0x1561a9=>{const _0x1f0faf=_0x3197c7;_0x1e0299[_0x1f0faf(0x4cf)](_0x1561a9['ref']);}),_0x1e0299['delete'](_0x4a1a8a['ref']);}const _0x4c327a=collection(db,_0x3197c7(0x41a)+appId+_0x3197c7(0x312)+_0x55eefd+_0x3197c7(0x55e)),_0x31a84c=await getDocs(_0x4c327a);_0x31a84c[_0x3197c7(0xb15)](_0x4fee5b=>{const _0x201fa3=_0x3197c7;_0x1e0299[_0x201fa3(0x4cf)](_0x4fee5b[_0x201fa3(0xbd1)]);});const _0x3875f7=doc(db,_0x3197c7(0x41a)+appId+_0x3197c7(0xd51),_0x55eefd);_0x1e0299[_0x3197c7(0x4cf)](_0x3875f7),await _0x1e0299[_0x3197c7(0x5f4)](),showMessage(_0x3197c7(0xce1)),showView(_0x3197c7(0x656));}catch(_0xaf40ae){console[_0x3197c7(0x2b8)](_0x3197c7(0x436),_0xaf40ae),showMessage(_0x3197c7(0x9ff));}}document[_0x473ef4(0x7eb)](_0x473ef4(0x905))[_0x473ef4(0x5e6)](_0x473ef4(0x732),async()=>{const _0x1d4be7=_0x473ef4;if(!currentProjectId)return;const _0x2fcbff={'defaultNumQuestions':parseInt(document[_0x1d4be7(0x7eb)](_0x1d4be7(0xd56))['value']),'defaultNumChoices':parseInt(document['getElementById'](_0x1d4be7(0x845))[_0x1d4be7(0x53d)]),'defaultPassingScore':parseInt(document[_0x1d4be7(0x7eb)]('passing-score-input')['value']),'resultsDisplay':document[_0x1d4be7(0x7eb)](_0x1d4be7(0x6fa))[_0x1d4be7(0x53d)],'shuffleSetting':document[_0x1d4be7(0x7eb)]('shuffle-setting-select')['value'],'timerMode':document[_0x1d4be7(0x7eb)]('timer-mode-select')[_0x1d4be7(0x53d)],'timerDuration':parseInt(document['getElementById']('timer-duration-input')[_0x1d4be7(0x53d)]),'isConfidenceScoringEnabled':document[_0x1d4be7(0x7eb)](_0x1d4be7(0xa81))[_0x1d4be7(0x5b1)],'confidenceMode':document[_0x1d4be7(0x7eb)](_0x1d4be7(0x574))[_0x1d4be7(0x53d)]};try{const _0x18d9ca=doc(db,_0x1d4be7(0x41a)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x18d9ca,{'settings':_0x2fcbff}),showMessage('บันทึกการตั้งค่าแล้ว');}catch(_0x2cc281){console[_0x1d4be7(0x2b8)](_0x1d4be7(0x69c),_0x2cc281),showMessage('ไม่สามารถบันทึกการตั้งค่าได้');}});function listenForStudents(_0x29821e){const _0x1a27af=_0x473ef4,_0xb86c73=doc(db,_0x1a27af(0x41a)+appId+_0x1a27af(0xd51),_0x29821e);unsubscribeStudentsListener=onSnapshot(_0xb86c73,_0xbcfd6e=>{const _0x2d9b81=_0x1a27af;if(_0xbcfd6e[_0x2d9b81(0x931)]()){const _0xf1c7dc=_0xbcfd6e[_0x2d9b81(0x1e4)]();currentProjectData=_0xf1c7dc,renderStudentList(_0xf1c7dc[_0x2d9b81(0x55a)]||[]);}});}function renderStudentList(_0x32d0bd){const _0x5c987b=_0x473ef4,_0x2f2a5a=document['getElementById'](_0x5c987b(0x7ab));_0x32d0bd[_0x5c987b(0x373)]===0x0?(studentList[_0x5c987b(0xbec)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x2f2a5a[_0x5c987b(0xc3c)][_0x5c987b(0x4ad)]('hidden')):(studentList[_0x5c987b(0xbec)]=_0x32d0bd[_0x5c987b(0xa3b)](_0x1ad233=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x1ad233+_0x5c987b(0x60c)+_0x1ad233+_0x5c987b(0x53a))[_0x5c987b(0xaa2)](''),_0x2f2a5a[_0x5c987b(0xc3c)][_0x5c987b(0x6f9)](_0x5c987b(0xcb0)));}document['getElementById'](_0x473ef4(0x721))[_0x473ef4(0x5e6)](_0x473ef4(0x732),async()=>{const _0x5d1d87=_0x473ef4;if(!currentProjectId)return;const _0x1423ff=document[_0x5d1d87(0x7eb)](_0x5d1d87(0x31a)),_0x2d1586=_0x1423ff[_0x5d1d87(0x53d)]['trim']();if(!_0x2d1586){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0x6c2d9e=_0x2d1586[_0x5d1d87(0x5db)]('\x0a')[_0x5d1d87(0xa3b)](_0x3e3ad1=>_0x3e3ad1[_0x5d1d87(0xa7e)]())[_0x5d1d87(0x514)](_0x2b387f=>_0x2b387f);if(_0x6c2d9e[_0x5d1d87(0x373)]===0x0)return;try{const _0x229dc5=doc(db,_0x5d1d87(0x41a)+appId+_0x5d1d87(0xd51),currentProjectId),_0x5d0011=await getDoc(_0x229dc5);if(_0x5d0011[_0x5d1d87(0x931)]()){const _0x6e50d4=_0x5d0011['data']()[_0x5d1d87(0x55a)]||[],_0x13361d=[...new Set([..._0x6e50d4,..._0x6c2d9e])];await updateDoc(_0x229dc5,{'students':_0x13361d}),_0x1423ff[_0x5d1d87(0x53d)]='';}}catch(_0x28d492){console[_0x5d1d87(0x2b8)](_0x5d1d87(0x240),_0x28d492),showMessage(_0x5d1d87(0x20a));}});async function handleManualQuizPairing(_0x38258e){const _0xb3bb88=_0x473ef4,_0x68d58a=document[_0xb3bb88(0x7eb)]('move-quiz-modal'),_0x109d71=document[_0xb3bb88(0x7eb)]('move-quiz-project-select'),_0x42f6ce=_0x68d58a[_0xb3bb88(0x6ea)]('h3'),_0xa41c19=document[_0xb3bb88(0x7eb)]('confirm-move-quiz-btn'),_0x5e11fd=document[_0xb3bb88(0x7eb)](_0xb3bb88(0x390));_0x42f6ce[_0xb3bb88(0xc95)]='จับคู่เพื่อเปรียบเทียบผล',_0x109d71[_0xb3bb88(0xbec)]='<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>',_0xa41c19[_0xb3bb88(0xc95)]='ยืนยันการจับคู่',_0x68d58a[_0xb3bb88(0xc3c)][_0xb3bb88(0x6f9)](_0xb3bb88(0xcb0));const _0x2c61a6=allQuizzes['filter'](_0x40930f=>_0x40930f['id']!==_0x38258e);_0x2c61a6[_0xb3bb88(0x373)]===0x0?(_0x109d71[_0xb3bb88(0xbec)]=_0xb3bb88(0xd01),_0xa41c19[_0xb3bb88(0x744)]=!![]):(_0x109d71['innerHTML']=_0xb3bb88(0x480)+_0x2c61a6[_0xb3bb88(0xa3b)](_0x3b6b3f=>_0xb3bb88(0xbdc)+_0x3b6b3f['id']+'\x22>'+_0x3b6b3f[_0xb3bb88(0x2d8)]+'</option>')[_0xb3bb88(0xaa2)](''),_0xa41c19[_0xb3bb88(0x744)]=![]);const _0x5aeb36=async()=>{const _0x30ad48=_0xb3bb88,_0x979c6f=_0x109d71[_0x30ad48(0x53d)];if(!_0x979c6f){showMessage(_0x30ad48(0x3cb));return;}_0xa41c19['disabled']=!![],_0xa41c19[_0x30ad48(0xc95)]=_0x30ad48(0x3b2);try{const _0x2ed109=doc(db,_0x30ad48(0x41a)+appId+_0x30ad48(0x3c1),_0x38258e),_0x585f5b=doc(db,_0x30ad48(0x41a)+appId+_0x30ad48(0x3c1),_0x979c6f),_0x4cad4c=writeBatch(db);_0x4cad4c['update'](_0x2ed109,{'pairedQuizId':_0x979c6f}),_0x4cad4c[_0x30ad48(0x94d)](_0x585f5b,{'pairedQuizId':_0x38258e}),await _0x4cad4c[_0x30ad48(0x5f4)](),showMessage(_0x30ad48(0x6bc)),_0x68d58a[_0x30ad48(0xc3c)][_0x30ad48(0x4ad)]('hidden');}catch(_0x2eceea){console[_0x30ad48(0x2b8)](_0x30ad48(0xa38),_0x2eceea),showMessage(_0x30ad48(0x1cf));}finally{_0x42f6ce[_0x30ad48(0xc95)]=_0x30ad48(0x3e0),_0xa41c19['textContent']=_0x30ad48(0xc94),_0xa41c19[_0x30ad48(0x744)]=![],_0xa41c19['removeEventListener'](_0x30ad48(0x732),_0x5aeb36),_0x5e11fd[_0x30ad48(0x39d)](_0x30ad48(0x732),_0x30497b);}},_0x30497b=()=>{const _0x439ce6=_0xb3bb88;_0x68d58a['classList'][_0x439ce6(0x4ad)](_0x439ce6(0xcb0)),_0x42f6ce[_0x439ce6(0xc95)]=_0x439ce6(0x3e0),_0xa41c19['textContent']=_0x439ce6(0xc94),_0xa41c19[_0x439ce6(0x39d)]('click',_0x5aeb36),_0x5e11fd[_0x439ce6(0x39d)](_0x439ce6(0x732),_0x30497b);};_0xa41c19[_0xb3bb88(0x5e6)](_0xb3bb88(0x732),_0x5aeb36),_0x5e11fd[_0xb3bb88(0x5e6)]('click',_0x30497b);}function handleDeleteStudent(_0x1d2e7f){const _0x1cb179=_0x473ef4;showConfirmation(_0x1cb179(0xcbd)+_0x1d2e7f+_0x1cb179(0xbbf),async()=>{const _0x380ee5=_0x1cb179;if(!currentProjectId||!currentProjectData)return;const _0x4d771a=currentProjectData['students']['filter'](_0x266cf1=>_0x266cf1!==_0x1d2e7f);try{const _0xc1cb2e=doc(db,_0x380ee5(0x41a)+appId+_0x380ee5(0xd51),currentProjectId),_0x441e77=doc(db,_0x380ee5(0x41a)+appId+_0x380ee5(0x312)+currentProjectId+_0x380ee5(0x55e),_0x1d2e7f),_0x54621d=writeBatch(db);_0x54621d[_0x380ee5(0x94d)](_0xc1cb2e,{'students':_0x4d771a}),_0x54621d['delete'](_0x441e77),await _0x54621d['commit']();}catch(_0x4e9a75){console[_0x380ee5(0x2b8)](_0x380ee5(0x6fc),_0x4e9a75),showMessage('เกิดข้อผิดพลาดในการลบนักเรียน');}});}function handleDeleteAllStudents(){const _0x341b57=_0x473ef4;showConfirmation(_0x341b57(0xcc8),async()=>{const _0x411df7=_0x341b57;if(!currentProjectId)return;try{const _0x380021=doc(db,_0x411df7(0x41a)+appId+_0x411df7(0xd51),currentProjectId),_0x5c882f=collection(db,_0x411df7(0x41a)+appId+_0x411df7(0x312)+currentProjectId+'/studentProfiles'),_0x3f0a89=await getDocs(_0x5c882f),_0x49521=writeBatch(db);_0x49521[_0x411df7(0x94d)](_0x380021,{'students':[]}),_0x3f0a89[_0x411df7(0xb15)](_0x38c691=>_0x49521[_0x411df7(0x4cf)](_0x38c691[_0x411df7(0xbd1)])),await _0x49521[_0x411df7(0x5f4)]();}catch(_0x3dcbcf){console[_0x411df7(0x2b8)](_0x411df7(0xd6e),_0x3dcbcf),showMessage('เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด');}});}let extractedFileTopics=[],fileDataBase64=null,fileMimeType=null;async function analyzeFileForTopics(_0x4bd2d3){const _0x582fc5=_0x473ef4,_0x168d4e=document[_0x582fc5(0x7eb)](_0x582fc5(0x347)),_0x3e8157=document[_0x582fc5(0x7eb)](_0x582fc5(0xc7f));_0x168d4e['classList']['remove'](_0x582fc5(0xcb0)),_0x3e8157['innerHTML']=_0x582fc5(0xc32);try{const _0x315639=new FileReader();_0x315639['readAsDataURL'](_0x4bd2d3),await new Promise((_0x3caa3b,_0x1e1dda)=>{const _0x3357c3=_0x582fc5;_0x315639['onload']=()=>{const _0x9e8d92=_0x2a86;fileDataBase64=_0x315639[_0x9e8d92(0xc30)][_0x9e8d92(0x5db)](',')[0x1],fileMimeType=_0x4bd2d3['type'],_0x3caa3b();},_0x315639[_0x3357c3(0x9a3)]=_0x4f2c50=>_0x1e1dda(_0x4f2c50);});if(!fileDataBase64)throw new Error(_0x582fc5(0x7e5));const _0x432281=_0x582fc5(0x6e8),_0x202397={'type':'OBJECT','properties':{'topics':{'type':_0x582fc5(0x440),'items':{'type':_0x582fc5(0x4ed)}}},'required':[_0x582fc5(0xc52)]},_0x2a2e7b=[{'text':_0x432281},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}],_0xead8cb=await handleApiCall(_0x2a2e7b,'กำลังวิเคราะห์หัวข้อ...',_0x202397,null,![]);if(_0xead8cb&&_0xead8cb[_0x582fc5(0xc52)])extractedFileTopics=_0xead8cb['topics'],renderFileTopics();else throw new Error('AI\x20ไม่สามารถแยกหัวข้อจากไฟล์ได้');}catch(_0x5ca9ea){console[_0x582fc5(0x2b8)]('Error\x20analyzing\x20file\x20for\x20topics:',_0x5ca9ea),_0x3e8157[_0x582fc5(0xbec)]=_0x582fc5(0x431)+_0x5ca9ea[_0x582fc5(0xd7a)]+'</p>';}}function renderFileTopics(){const _0x3d2a84=_0x473ef4,_0x245730=document['getElementById']('file-topics-list');if(extractedFileTopics[_0x3d2a84(0x373)]===0x0){_0x245730[_0x3d2a84(0xbec)]=_0x3d2a84(0x93e);return;}_0x245730[_0x3d2a84(0xbec)]=extractedFileTopics['map'](_0x4ad1bf=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-2\x20rounded-md\x20bg-gray-50\x20border\x20border-gray-200\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-between\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20flex-grow\x20text-left\x22>'+_0x4ad1bf+_0x3d2a84(0x3e5)+escape(_0x4ad1bf)+_0x3d2a84(0x32a)+escape(_0x4ad1bf)+_0x3d2a84(0x263))[_0x3d2a84(0xaa2)]('');}async function generateHybridQuizForTopic(_0x258be3){const _0x5c450c=_0x473ef4,_0x2d01d5=parseInt(document['getElementById'](_0x5c450c(0xd56))[_0x5c450c(0x53d)],0xa),_0x49a45a=document[_0x5c450c(0x7eb)](_0x5c450c(0x23b))[_0x5c450c(0x53d)],_0x209295=document[_0x5c450c(0x7eb)]('num-choices')['value'],_0x10dcd7=document['getElementById'](_0x5c450c(0x411))[_0x5c450c(0x5b1)],_0x588f92=_0x10dcd7?_0x5c450c(0xd48):_0x5c450c(0x2bd);let _0x133425='',_0x3c59d3;const _0x300078={'type':'OBJECT','properties':{'questionText':{'type':_0x5c450c(0x4ed)},'options':{'type':_0x5c450c(0x440),'items':{'type':_0x5c450c(0x4ed)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x5c450c(0x4ed)},'imageCode':{'type':_0x5c450c(0x4ed)}},'required':['questionText',_0x5c450c(0x745),_0x5c450c(0xb8c),'explanation']},_0x2c01bd={'type':_0x5c450c(0x7b6),'properties':{'questionText':{'type':'STRING'},'correctAnswer':{'type':_0x5c450c(0xa5c)},'explanation':{'type':_0x5c450c(0x4ed)},'imageCode':{'type':_0x5c450c(0x4ed)}},'required':[_0x5c450c(0x837),_0x5c450c(0x8ae),_0x5c450c(0x30b)]},_0x57a4af={'type':_0x5c450c(0x7b6),'properties':{'questionText':{'type':_0x5c450c(0x4ed)},'idealAnswer':{'type':_0x5c450c(0x4ed)},'explanation':{'type':_0x5c450c(0x4ed)},'imageCode':{'type':_0x5c450c(0x4ed)}},'required':['questionText',_0x5c450c(0x8f5),'explanation']},_0x42e3e8={'type':_0x5c450c(0x7b6),'properties':{'questionType':{'type':'STRING','enum':[_0x5c450c(0xac9)]},'stem':{'type':_0x5c450c(0x4ed)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x5c450c(0x440),'items':{'type':_0x5c450c(0x4ed)}},'explanation':{'type':_0x5c450c(0x4ed)},'imageCode':{'type':_0x5c450c(0x4ed)}},'required':[_0x5c450c(0x22d),_0x5c450c(0xd03),_0x5c450c(0xc73),'allResponses',_0x5c450c(0x30b)]};switch(_0x49a45a){case _0x5c450c(0xcc0):_0x133425='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x209295+'\x20ตัวเลือก)',_0x3c59d3=_0x300078;break;case _0x5c450c(0x84f):_0x133425=_0x5c450c(0xacc),_0x3c59d3=_0x2c01bd;break;case _0x5c450c(0x2b7):_0x133425=_0x5c450c(0x9e9),_0x3c59d3=_0x57a4af;break;case'matching':_0x133425=_0x5c450c(0x406),_0x3c59d3=_0x42e3e8;break;case _0x5c450c(0x2e9):_0x133425='คำถามทุกข้อต้องเป็นแบบ\x20\x27เติมคำ\x20(มีตัวเลือกให้)\x27\x20(มี\x20'+_0x209295+_0x5c450c(0xd2a),_0x3c59d3=_0x300078;break;default:_0x133425='คำถามทุกข้อต้องเป็นแบบปรนัย\x204\x20ตัวเลือก\x20(มี\x20'+_0x209295+_0x5c450c(0xd2a),_0x3c59d3=_0x300078;break;}const _0x21b3b2='สร้างเนื้อหาเป็นภาษาไทยเท่านั้น\x20ห้ามมีข้อความภาษาอังกฤษปะปนโดยเด็ดขาด',_0x33e389=document[_0x5c450c(0x7eb)]('loader'),_0x2f6fae=document['getElementById']('loader-text'),_0x1bdaa8=document[_0x5c450c(0x7eb)](_0x5c450c(0xad2));document[_0x5c450c(0x7eb)](_0x5c450c(0x6dc))['classList'][_0x5c450c(0x6f9)](_0x5c450c(0xcb0)),_0x1bdaa8[_0x5c450c(0xbec)]='',_0x33e389[_0x5c450c(0xc3c)][_0x5c450c(0x6f9)]('hidden'),_0x2f6fae['textContent']=_0x5c450c(0x661)+_0x258be3+_0x5c450c(0xb33)+_0x2d01d5+_0x5c450c(0x977);try{const _0xc60bdf=_0x5c450c(0xc24),_0x4916d7=_0x5c450c(0x2da)+_0x258be3+_0x5c450c(0x687)+_0x2d01d5+_0x5c450c(0xb5b)+_0x258be3+_0x5c450c(0xae4)+_0x2d01d5+_0x5c450c(0x615)+_0x588f92+_0x5c450c(0xafb)+_0x133425+_0x5c450c(0xd8d)+_0x21b3b2+_0x5c450c(0xc23)+_0xc60bdf+_0x5c450c(0xa29)+simpleMathPrompt+_0x5c450c(0x22c),_0x3bb9b4={'type':_0x5c450c(0x7b6),'properties':{'topic':{'type':_0x5c450c(0x4ed)},'questions':{'type':_0x5c450c(0x440),'items':_0x3c59d3}},'required':['topic','questions']},_0x13b86f=[{'text':_0x4916d7},{'inlineData':{'mimeType':fileMimeType,'data':fileDataBase64}}];await handleApiCall(_0x13b86f,_0x5c450c(0x627)+_0x258be3+_0x5c450c(0x8f3),_0x3bb9b4);}catch(_0x54c35e){console[_0x5c450c(0x2b8)](_0x5c450c(0xc66),_0x54c35e),showMessage(_0x5c450c(0xc13)+_0x54c35e[_0x5c450c(0xd7a)]),_0x1bdaa8['innerHTML']=_0x5c450c(0xc8f);}finally{_0x33e389['classList']['add'](_0x5c450c(0xcb0));}}async function handleGenerateFromFileClick(){const _0x31ab56=_0x473ef4;if(!selectedFile){showMessage(_0x31ab56(0x799));return;}const _0xff6df1=document[_0x31ab56(0x7eb)](_0x31ab56(0x32d)),_0x3b6b53=document[_0x31ab56(0x7eb)](_0x31ab56(0x2d4)),_0x3b9f13=document[_0x31ab56(0x7eb)](_0x31ab56(0xad2)),_0x485459=document[_0x31ab56(0x7eb)](_0x31ab56(0x419));_0x485459['disabled']=!![],document[_0x31ab56(0x7eb)]('quiz-generation-area')[_0x31ab56(0xc3c)][_0x31ab56(0x6f9)](_0x31ab56(0xcb0)),_0x3b9f13[_0x31ab56(0xbec)]='',_0xff6df1[_0x31ab56(0xc3c)]['remove'](_0x31ab56(0xcb0)),_0x3b6b53['textContent']=_0x31ab56(0xb21);try{const _0x657ea6=await new Promise((_0x4308c6,_0x3c4b3f)=>{const _0x5d5330=_0x31ab56,_0x3e8bd3=new FileReader();_0x3e8bd3['readAsDataURL'](selectedFile),_0x3e8bd3[_0x5d5330(0x8d0)]=()=>_0x4308c6(_0x3e8bd3['result']['split'](',')[0x1]),_0x3e8bd3[_0x5d5330(0x9a3)]=_0x4b1d44=>_0x3c4b3f(_0x4b1d44);});await generateQuizFromFile(selectedFile[_0x31ab56(0x213)],_0x657ea6);}catch(_0x519ae5){console[_0x31ab56(0x2b8)]('Error\x20processing\x20file\x20for\x20AI:',_0x519ae5),showMessage(_0x31ab56(0x889)+_0x519ae5[_0x31ab56(0xd7a)]),_0xff6df1['classList'][_0x31ab56(0x4ad)]('hidden'),_0x485459[_0x31ab56(0x744)]=![];}}function autoFormatMath(_0x48e565){const _0x5a56f2=_0x473ef4;if(typeof _0x48e565!==_0x5a56f2(0x81a)||!_0x48e565)return _0x48e565;const _0xbab622=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x3c3a4c=_0x48e565['replace'](_0xbab622,_0x547eec=>{const _0x27b115=_0x5a56f2;return'$'+_0x547eec[_0x27b115(0xa7e)]()+'$';});return _0x3c3a4c;}function sanitizeQuizData(_0x4d5c5c){const _0x43a1fc=_0x473ef4;if(!_0x4d5c5c||!_0x4d5c5c[_0x43a1fc(0x3dd)])return _0x4d5c5c;const _0x11d790={'imes':_0x43a1fc(0x2ec),'div':'\x5cdiv'},_0x2db7dd=_0x431d40=>{const _0x1b8fb7=_0x43a1fc;if(typeof _0x431d40!=='string')return _0x431d40;let _0x4bcc59=_0x431d40;for(const [_0x58f76e,_0x301a73]of Object[_0x1b8fb7(0xc98)](_0x11d790)){const _0x5760c5=new RegExp('\x5cb'+_0x58f76e+'\x5cb','g');_0x4bcc59=_0x4bcc59['replace'](_0x5760c5,_0x301a73);}return _0x4bcc59=_0x4bcc59['replace'](/\\\//g,'\x5cdiv'),_0x4bcc59=_0x4bcc59[_0x1b8fb7(0x7bd)](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')['replace'](/<(i|em)>\s*times\s*<\/\1>/gi,_0x1b8fb7(0x2ec))[_0x1b8fb7(0x7bd)](/÷/g,_0x1b8fb7(0x792))[_0x1b8fb7(0x7bd)](/×/g,'\x5ctimes'),_0x4bcc59=_0x4bcc59['replace'](/(\d)(\\frac)/g,'$1\x20\x5cfrac'),_0x4bcc59=autoFormatMath(_0x4bcc59),_0x4bcc59;};return _0x4d5c5c[_0x43a1fc(0x2d8)]&&(_0x4d5c5c[_0x43a1fc(0x2d8)]=_0x2db7dd(_0x4d5c5c[_0x43a1fc(0x2d8)])),_0x4d5c5c[_0x43a1fc(0x3dd)][_0x43a1fc(0xb15)](_0x35e1c9=>{const _0x55f5cd=_0x43a1fc;_0x35e1c9[_0x55f5cd(0x837)]=_0x2db7dd(_0x35e1c9['questionText']),_0x35e1c9[_0x55f5cd(0x745)]&&(_0x35e1c9[_0x55f5cd(0x745)]=_0x35e1c9[_0x55f5cd(0x745)][_0x55f5cd(0xa3b)](_0x2db7dd)),_0x35e1c9['explanation']&&(_0x35e1c9['explanation']=_0x2db7dd(_0x35e1c9['explanation'])),_0x35e1c9[_0x55f5cd(0xd03)]&&(_0x35e1c9[_0x55f5cd(0xd03)]=_0x2db7dd(_0x35e1c9['stem'])),_0x35e1c9[_0x55f5cd(0xc73)]&&(_0x35e1c9[_0x55f5cd(0xc73)]=_0x2db7dd(_0x35e1c9[_0x55f5cd(0xc73)])),_0x35e1c9[_0x55f5cd(0x938)]&&(_0x35e1c9['allResponses']=_0x35e1c9[_0x55f5cd(0x938)][_0x55f5cd(0xa3b)](_0x2db7dd));}),_0x4d5c5c;}const simpleMathPrompt=_0x473ef4(0xa61);async function handleGenerateFromLink(){const _0x4f36f1=_0x473ef4,_0x254b1a=document[_0x4f36f1(0x7eb)](_0x4f36f1(0xc97)),_0x55651b=document[_0x4f36f1(0x7eb)](_0x4f36f1(0x4e0)),_0x5d9f0c=_0x254b1a[_0x4f36f1(0x53d)][_0x4f36f1(0xa7e)](),_0x35422f=_0x55651b[_0x4f36f1(0x53d)]['trim']();if(!_0x5d9f0c){showMessage(_0x4f36f1(0x7e1));return;}const _0x31a29f=document[_0x4f36f1(0x7eb)](_0x4f36f1(0x32d)),_0x5636ba=document[_0x4f36f1(0x7eb)](_0x4f36f1(0x2d4)),_0x4196c1=document[_0x4f36f1(0x7eb)](_0x4f36f1(0xad2)),_0x19ea96=document[_0x4f36f1(0x7eb)](_0x4f36f1(0xb75));document[_0x4f36f1(0x7eb)]('quiz-generation-area')['classList']['remove'](_0x4f36f1(0xcb0)),_0x4196c1[_0x4f36f1(0xbec)]='',_0x31a29f[_0x4f36f1(0xc3c)][_0x4f36f1(0x6f9)](_0x4f36f1(0xcb0)),_0x5636ba['textContent']=_0x4f36f1(0x4ea),_0x19ea96[_0x4f36f1(0x744)]=!![];try{const _0x2ddb11=_0x4f36f1(0x324)+encodeURIComponent(_0x5d9f0c),_0x4c6950=await fetch(_0x2ddb11);if(!_0x4c6950['ok'])throw new Error(_0x4f36f1(0x884)+_0x4c6950[_0x4f36f1(0x996)]+')');const _0x5be34f=await _0x4c6950[_0x4f36f1(0x2b3)](),_0x58d501=extractTextFromHtml(_0x5be34f);if(!_0x58d501||_0x58d501[_0x4f36f1(0x373)]<0x64)throw new Error(_0x4f36f1(0xa37));await generateQuiz(_0x35422f,_0x58d501);}catch(_0x1cd4d4){console[_0x4f36f1(0x2b8)](_0x4f36f1(0xd40),_0x1cd4d4),showMessage(_0x4f36f1(0xc13)+_0x1cd4d4[_0x4f36f1(0xd7a)]),_0x4196c1[_0x4f36f1(0xbec)]=_0x4f36f1(0x927);}finally{_0x31a29f[_0x4f36f1(0xc3c)][_0x4f36f1(0x4ad)](_0x4f36f1(0xcb0)),_0x19ea96[_0x4f36f1(0x744)]=![];}}function extractTextFromHtml(_0x405287){const _0x324e58=_0x473ef4,_0x3e1c48=new DOMParser()['parseFromString'](_0x405287,_0x324e58(0xa33));return _0x3e1c48[_0x324e58(0x89b)](_0x324e58(0xc90))['forEach'](_0x32a36f=>_0x32a36f[_0x324e58(0x6f9)]()),_0x3e1c48[_0x324e58(0x5d5)][_0x324e58(0xc95)]||'';}document['getElementById'](_0x473ef4(0x97e))[_0x473ef4(0x5e6)]('click',()=>{const _0x3396f5=_0x473ef4,_0x5a3166=document[_0x3396f5(0x7eb)]('topic-input')[_0x3396f5(0x53d)]['trim']();generateQuiz(_0x5a3166,null);}),document[_0x473ef4(0x7eb)](_0x473ef4(0xcad))[_0x473ef4(0x5e6)](_0x473ef4(0x732),()=>{const _0x5c771f=_0x473ef4,_0x2566fa=document[_0x5c771f(0x7eb)](_0x5c771f(0x375))['value']['trim']();if(!_0x2566fa){showMessage(_0x5c771f(0x789));return;}const _0x3849b9=document[_0x5c771f(0x7eb)](_0x5c771f(0x73a))[_0x5c771f(0x53d)][_0x5c771f(0xa7e)]();generateQuiz(_0x3849b9,_0x2566fa);});async function generateQuiz(_0x2b517b,_0x38ba3b,_0x4b7854=null,_0x4c0d03=null,_0x4dc60b=![],_0x1e00f0=null,_0x2084d7=null,_0x38c67c=![]){const _0x429fe6=_0x473ef4;let _0x2fcf33={};if(_0x4dc60b&&blueprintPageSettings)_0x2fcf33=blueprintPageSettings;else{const _0x666576=document[_0x429fe6(0x89b)](_0x429fe6(0x26f));_0x2fcf33={'quizType':document[_0x429fe6(0x7eb)](_0x429fe6(0x23b))[_0x429fe6(0x53d)],'numQuestions':document[_0x429fe6(0x7eb)](_0x429fe6(0xd56))[_0x429fe6(0x53d)],'numChoices':document[_0x429fe6(0x7eb)](_0x429fe6(0x845))['value'],'includeImages':document[_0x429fe6(0x7eb)](_0x429fe6(0x411))[_0x429fe6(0x5b1)],'isNormalTopic':document['getElementById'](_0x429fe6(0xaa8))[_0x429fe6(0x5b1)],'difficultyValue':document[_0x429fe6(0x7eb)](_0x429fe6(0x841))[_0x429fe6(0x53d)],'complexityValue':document[_0x429fe6(0x7eb)](_0x429fe6(0x74f))[_0x429fe6(0x53d)],'selectedTopicNames':Array[_0x429fe6(0x71b)](_0x666576)['map'](_0x4b159d=>_0x4b159d[_0x429fe6(0x53d)])};}const _0x3137c8=_0x2fcf33[_0x429fe6(0x868)]?'':_0x429fe6(0xbe7),_0x37270d=_0x2fcf33[_0x429fe6(0xbc0)]!==_0x429fe6(0xb69)?_0x429fe6(0x518)+_0x2fcf33['difficultyValue']+'\x22':'',_0x553ed8=_0x2fcf33[_0x429fe6(0x747)]!==_0x429fe6(0x6e6)?_0x429fe6(0x2c0)+_0x2fcf33[_0x429fe6(0x747)]+_0x429fe6(0x7a3):'';let _0x568ff2='';_0x2fcf33['selectedTopicNames']&&_0x2fcf33[_0x429fe6(0x1dd)][_0x429fe6(0x373)]>0x0&&(_0x568ff2=_0x429fe6(0x40c)+_0x2fcf33[_0x429fe6(0x1dd)]['join'](',\x20')+'.');let _0x3d031f='';_0x4c0d03&&(_0x3d031f=_0x429fe6(0x816));let _0x4a136e='',_0x41cbe3='',_0x25c338,_0x54c91d=_0x429fe6(0x4c4)+_0x2b517b+'\x22';if(!_0x2b517b&&_0x38ba3b)_0x54c91d=_0x429fe6(0x5fa);else!_0x2b517b&&!_0x38ba3b&&(_0x54c91d=_0x429fe6(0xc26));const _0x452763={'type':_0x429fe6(0x7b6),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x429fe6(0x440),'items':{'type':_0x429fe6(0x4ed)}},'correctAnswerIndex':{'type':_0x429fe6(0xb6b)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x429fe6(0x4ed)}},'required':[_0x429fe6(0x837),_0x429fe6(0x745),_0x429fe6(0xb8c),'explanation']},_0x47de76={'type':_0x429fe6(0x7b6),'properties':{'questionText':{'type':_0x429fe6(0x4ed)},'idealAnswer':{'type':_0x429fe6(0x4ed)},'explanation':{'type':_0x429fe6(0x4ed)},'imageCode':{'type':_0x429fe6(0x4ed)}},'required':[_0x429fe6(0x837),_0x429fe6(0x8f5),_0x429fe6(0x30b)]},_0x3e1af3={'type':_0x429fe6(0x7b6),'properties':{'questionText':{'type':_0x429fe6(0x4ed)},'questionType':{'type':_0x429fe6(0x4ed),'enum':['multiple_choice',_0x429fe6(0x314)]},'options':{'type':_0x429fe6(0x440),'items':{'type':_0x429fe6(0x4ed)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x429fe6(0x4ed)},'explanation':{'type':_0x429fe6(0x4ed)},'imageCode':{'type':'STRING'}},'required':[_0x429fe6(0x837),_0x429fe6(0x22d),_0x429fe6(0x30b)]},_0x44dc2c={'type':_0x429fe6(0x7b6),'properties':{'questionText':{'type':_0x429fe6(0x4ed)},'correctAnswer':{'type':_0x429fe6(0xa5c)},'explanation':{'type':_0x429fe6(0x4ed)},'imageCode':{'type':_0x429fe6(0x4ed)}},'required':[_0x429fe6(0x837),'correctAnswer','explanation']},_0x32cc01={'type':_0x429fe6(0x7b6),'properties':{'questionType':{'type':_0x429fe6(0x4ed),'enum':[_0x429fe6(0xac9)]},'stem':{'type':_0x429fe6(0x4ed)},'correctResponse':{'type':_0x429fe6(0x4ed)},'allResponses':{'type':_0x429fe6(0x440),'items':{'type':_0x429fe6(0x4ed)}},'explanation':{'type':_0x429fe6(0x4ed)},'imageCode':{'type':_0x429fe6(0x4ed)}},'required':['questionType',_0x429fe6(0xd03),'correctResponse',_0x429fe6(0x938),_0x429fe6(0x30b)]};let _0x566bbe;if(_0x4b7854!==null){const _0x52b48a=currentQuizData['questions'][_0x4b7854][_0x429fe6(0x22d)],_0x330fe0=_0x2fcf33['includeImages']?_0x429fe6(0xc4e):'';_0x4a136e=_0x429fe6(0xb1d)+_0x54c91d+'\x20'+_0x568ff2+'\x20'+_0x37270d+_0x429fe6(0xb8e)+_0x330fe0+'\x20'+simpleMathPrompt;if(_0x52b48a===_0x429fe6(0xcc0))_0x25c338=_0x452763;else{if(_0x52b48a===_0x429fe6(0xac9))_0x25c338={'type':_0x429fe6(0x7b6),'properties':{'questionType':{'type':_0x429fe6(0x4ed),'enum':['matching_item']},'stem':{'type':_0x429fe6(0x4ed)},'correctResponse':{'type':_0x429fe6(0x4ed)},'explanation':{'type':_0x429fe6(0x4ed)},'imageCode':{'type':_0x429fe6(0x4ed)}},'required':[_0x429fe6(0x22d),_0x429fe6(0xd03),_0x429fe6(0xc73),_0x429fe6(0x30b)]};else _0x25c338=_0x47de76;}_0x566bbe=_0x25c338;}else{const _0x2c9e70=_0x2fcf33[_0x429fe6(0x5d4)]?_0x429fe6(0x2c2):'';switch(_0x2fcf33[_0x429fe6(0x3d3)]){case _0x429fe6(0xcc0):_0x4a136e=_0x429fe6(0xa2d)+_0x3137c8+'\x20'+_0x2fcf33['numQuestions']+_0x429fe6(0x6ed)+_0x54c91d+'\x20'+_0x568ff2+'\x20'+_0x37270d+'\x20'+_0x553ed8+'\x20'+_0x3d031f+_0x429fe6(0xa44)+_0x2fcf33[_0x429fe6(0x601)]+_0x429fe6(0xd30)+_0x2c9e70+'\x20'+simpleMathPrompt,_0x25c338=_0x452763;break;case _0x429fe6(0x2e9):_0x4a136e='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x3137c8+'\x20'+_0x2fcf33[_0x429fe6(0x331)]+_0x429fe6(0x6ed)+_0x54c91d+'\x20'+_0x568ff2+'\x20'+_0x37270d+'\x20'+_0x553ed8+'\x20'+_0x3d031f+_0x429fe6(0xd6b)+_0x2fcf33['numChoices']+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x2c9e70+'\x20'+simpleMathPrompt,_0x25c338=_0x452763;break;case _0x429fe6(0x2b7):_0x4a136e=_0x429fe6(0x205)+_0x3137c8+'\x20'+_0x2fcf33[_0x429fe6(0x331)]+_0x429fe6(0x6ed)+_0x54c91d+'\x20'+_0x568ff2+'\x20'+_0x37270d+'\x20'+_0x553ed8+'\x20'+_0x3d031f+_0x429fe6(0xd35)+_0x2c9e70+'\x20'+simpleMathPrompt,_0x25c338=_0x47de76;break;case _0x429fe6(0x6e6):_0x4a136e=_0x429fe6(0x7d9)+_0x3137c8+'\x20'+_0x2fcf33[_0x429fe6(0x331)]+_0x429fe6(0x6ed)+_0x54c91d+'\x20'+_0x568ff2+'\x20'+_0x37270d+'\x20'+_0x553ed8+'\x20'+_0x3d031f+_0x429fe6(0x98e)+_0x2fcf33['numChoices']+_0x429fe6(0x47c)+_0x2c9e70+'\x20'+simpleMathPrompt+'.',_0x25c338=_0x3e1af3;break;case _0x429fe6(0x84f):_0x4a136e=_0x429fe6(0x4d6)+_0x3137c8+'\x20'+_0x2fcf33[_0x429fe6(0x331)]+_0x429fe6(0x6ed)+_0x54c91d+'\x20'+_0x568ff2+'\x20'+_0x37270d+'\x20'+_0x553ed8+'\x20'+_0x3d031f+_0x429fe6(0x97d)+_0x2c9e70+'\x20'+simpleMathPrompt,_0x25c338=_0x44dc2c;break;case _0x429fe6(0x378):_0x4a136e=_0x429fe6(0x869)+_0x3137c8+'\x20'+_0x2fcf33['numQuestions']+_0x429fe6(0x486)+_0x54c91d+'\x20'+_0x568ff2+'\x20'+_0x37270d+'\x20'+_0x553ed8+'\x20'+_0x3d031f+_0x429fe6(0x7fd)+_0x2c9e70+'\x20'+simpleMathPrompt,_0x25c338=_0x32cc01;break;}_0x566bbe={'type':_0x429fe6(0x7b6),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x429fe6(0x440),'items':_0x25c338}},'required':['topic',_0x429fe6(0x3dd)]};}const _0x54c2c5=_0x429fe6(0x3fd);_0x38ba3b?(_0x38c67c?_0x4a136e=_0x429fe6(0x722)+_0x38ba3b+'\x22,\x20'+_0x4a136e+_0x54c2c5:_0x4a136e=_0x429fe6(0x722)+_0x38ba3b+'\x22,\x20'+_0x4a136e,_0x41cbe3=_0x429fe6(0x7bf)):(_0x38c67c&&(_0x4a136e+=_0x54c2c5),_0x41cbe3=_0x429fe6(0x47e));let _0x4b9873;return _0x4c0d03?(_0x4b9873=[{'text':_0x4a136e},..._0x4c0d03],_0x41cbe3=_0x429fe6(0x89e)):_0x4b9873=_0x4a136e,handleApiCall(_0x4b9873,_0x41cbe3,_0x566bbe,_0x4b7854,!![],_0x1e00f0,_0x2084d7);}async function generateQuizFromFile(_0x4f8df6,_0xa13031){const _0x1234be=_0x473ef4,_0x5f2194=document[_0x1234be(0x7eb)]('file-topic-input')[_0x1234be(0x53d)][_0x1234be(0xa7e)](),_0x2ea334=document[_0x1234be(0x7eb)](_0x1234be(0x23b))[_0x1234be(0x53d)],_0x38fa29=document['getElementById']('num-questions')[_0x1234be(0x53d)],_0x19089d=document[_0x1234be(0x7eb)](_0x1234be(0x845))['value'],_0x3b56cb=document[_0x1234be(0x7eb)](_0x1234be(0x411))[_0x1234be(0x5b1)],_0x3c6a5d=document[_0x1234be(0x7eb)](_0x1234be(0xaa8))[_0x1234be(0x5b1)],_0x11ed82=_0x3c6a5d?'':_0x1234be(0xbe7),_0x4ce5db=document['getElementById']('original-mode-checkbox')[_0x1234be(0x5b1)];let _0x369a0e='',_0x3ff61a;const _0x3c2b51=_0x3b56cb?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';if(_0x4ce5db)_0x369a0e=_0x1234be(0x6f8)+_0x3c2b51+'\x0a'+simpleMathPrompt+'\x0a',_0x3ff61a={'type':_0x1234be(0x7b6),'properties':{'questionText':{'type':_0x1234be(0x4ed)},'questionType':{'type':_0x1234be(0x4ed),'enum':['multiple_choice',_0x1234be(0x314),'true_false',_0x1234be(0xac9)]},'options':{'type':_0x1234be(0x440),'items':{'type':_0x1234be(0x4ed)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x1234be(0x4ed)},'correctAnswer':{'type':'BOOLEAN'},'stem':{'type':_0x1234be(0x4ed)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x1234be(0x440),'items':{'type':'STRING'}},'explanation':{'type':_0x1234be(0x4ed)},'imageCode':{'type':_0x1234be(0x4ed)}},'required':[_0x1234be(0x22d),'explanation']};else{let _0x3c63fd=_0x1234be(0x4c4)+_0x5f2194+'\x22';!_0x5f2194&&(_0x3c63fd='โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ');switch(_0x2ea334){case'multiple_choice':_0x369a0e=_0x1234be(0xa2d)+_0x11ed82+'\x20'+_0x38fa29+_0x1234be(0x6ed)+_0x3c63fd+_0x1234be(0xa44)+_0x19089d+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x3c2b51+'\x20'+simpleMathPrompt,_0x3ff61a={'type':'OBJECT','properties':{'questionText':{'type':_0x1234be(0x4ed)},'options':{'type':_0x1234be(0x440),'items':{'type':_0x1234be(0x4ed)}},'correctAnswerIndex':{'type':_0x1234be(0xb6b)},'explanation':{'type':_0x1234be(0x4ed)},'imageCode':{'type':_0x1234be(0x4ed)}},'required':[_0x1234be(0x837),_0x1234be(0x745),_0x1234be(0xb8c),_0x1234be(0x30b)]};break;case _0x1234be(0x2e9):_0x369a0e=_0x1234be(0x205)+_0x11ed82+'\x20'+_0x38fa29+_0x1234be(0x6ed)+_0x3c63fd+_0x1234be(0xd6b)+_0x19089d+_0x1234be(0xbd7)+_0x3c2b51+'\x20'+simpleMathPrompt,_0x3ff61a={'type':_0x1234be(0x7b6),'properties':{'questionText':{'type':_0x1234be(0x4ed)},'options':{'type':_0x1234be(0x440),'items':{'type':_0x1234be(0x4ed)}},'correctAnswerIndex':{'type':_0x1234be(0xb6b)},'explanation':{'type':_0x1234be(0x4ed)},'imageCode':{'type':'STRING'}},'required':[_0x1234be(0x837),_0x1234be(0x745),_0x1234be(0xb8c),_0x1234be(0x30b)]};break;case _0x1234be(0x2b7):_0x369a0e=_0x1234be(0x205)+_0x11ed82+'\x20'+_0x38fa29+'\x20ข้อ\x20'+_0x3c63fd+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20**กฎสำคัญ:\x20คำตอบที่เหมาะสม\x20(idealAnswer)\x20ต้องเป็นตัวเลขจำนวนเต็มที่มีค่าตั้งแต่\x200\x20ถึง\x20999\x20เท่านั้น**.\x20'+_0x3c2b51+'\x20'+simpleMathPrompt,_0x3ff61a={'type':'OBJECT','properties':{'questionText':{'type':_0x1234be(0x4ed)},'idealAnswer':{'type':_0x1234be(0x4ed)},'explanation':{'type':_0x1234be(0x4ed)},'imageCode':{'type':_0x1234be(0x4ed)}},'required':['questionText','idealAnswer',_0x1234be(0x30b)]};break;case _0x1234be(0x6e6):_0x369a0e=_0x1234be(0x7d9)+_0x11ed82+'\x20'+_0x38fa29+_0x1234be(0x6ed)+_0x3c63fd+_0x1234be(0xbd3)+_0x19089d+'\x20ตัวเลือก.\x20**กฎสำคัญ:\x20สำหรับคำถามประเภท\x20\x27short_answer\x27,\x20\x27idealAnswer\x27\x20ต้องเป็นตัวเลขจำนวนเต็มระหว่าง\x200-999\x20เท่านั้น**.\x20'+_0x3c2b51+'\x20'+simpleMathPrompt+_0x1234be(0x6dd),_0x3ff61a={'type':'OBJECT','properties':{'questionText':{'type':_0x1234be(0x4ed)},'questionType':{'type':_0x1234be(0x4ed),'enum':[_0x1234be(0xcc0),'short_answer']},'options':{'type':_0x1234be(0x440),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1234be(0xb6b)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x1234be(0x4ed)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x1234be(0x22d),_0x1234be(0x30b)]};break;case _0x1234be(0x84f):_0x369a0e=_0x1234be(0x4d6)+_0x11ed82+'\x20'+_0x38fa29+_0x1234be(0x6ed)+_0x3c63fd+_0x1234be(0xcbc)+_0x3c2b51+'\x20'+simpleMathPrompt,_0x3ff61a={'type':_0x1234be(0x7b6),'properties':{'questionText':{'type':_0x1234be(0x4ed)},'correctAnswer':{'type':_0x1234be(0xa5c)},'explanation':{'type':_0x1234be(0x4ed)},'imageCode':{'type':'STRING'}},'required':[_0x1234be(0x837),_0x1234be(0x8ae),_0x1234be(0x30b)]};break;case _0x1234be(0x378):_0x369a0e=_0x1234be(0x869)+_0x11ed82+'\x20'+_0x38fa29+_0x1234be(0x486)+_0x3c63fd+_0x1234be(0xcca)+_0x38fa29+_0x1234be(0x4ec)+_0x3c2b51+'\x20'+simpleMathPrompt,_0x3ff61a={'type':_0x1234be(0x7b6),'properties':{'questionType':{'type':'STRING','enum':[_0x1234be(0xac9)]},'stem':{'type':_0x1234be(0x4ed)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x1234be(0x440),'items':{'type':_0x1234be(0x4ed)}},'explanation':{'type':_0x1234be(0x4ed)},'imageCode':{'type':'STRING'}},'required':[_0x1234be(0x22d),_0x1234be(0xd03),_0x1234be(0xc73),_0x1234be(0x938),_0x1234be(0x30b)]};break;}}const _0x548027={'type':'OBJECT','properties':{'topic':{'type':_0x1234be(0x4ed)},'questions':{'type':_0x1234be(0x440),'items':_0x3ff61a}},'required':[_0x1234be(0x2d8),'questions']},_0xd88285=_0x1234be(0x492)+_0x369a0e,_0x37398d={'contents':[{'parts':[{'text':_0xd88285},{'inlineData':{'mimeType':_0x4f8df6,'data':_0xa13031}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x548027}};return handleApiCall(_0x37398d[_0x1234be(0x2fb)][0x0][_0x1234be(0xa0d)],_0x1234be(0xd27),_0x548027);}async function handleApiCall(_0x20806a,_0x2a1db4,_0x21a507,_0x397493=null,_0x4b2640=!![],_0x293290=null,_0x578ce4=null){const _0x16b003=_0x473ef4,_0x2ad38a=document[_0x16b003(0x7eb)](_0x16b003(0x6dc)),_0xff4140=document['getElementById'](_0x16b003(0x32d)),_0x3906bc=document['getElementById'](_0x16b003(0x2d4)),_0x13f645=document[_0x16b003(0x7eb)]('generated-quiz-container');_0x2ad38a['classList'][_0x16b003(0x6f9)](_0x16b003(0xcb0));_0x397493===null&&_0x4b2640&&(_0x13f645[_0x16b003(0xbec)]='');_0xff4140[_0x16b003(0xc3c)][_0x16b003(0x6f9)](_0x16b003(0xcb0)),_0x3906bc[_0x16b003(0xc95)]=_0x2a1db4,document[_0x16b003(0x7eb)](_0x16b003(0x97e))[_0x16b003(0x744)]=!![],document[_0x16b003(0x7eb)](_0x16b003(0xcad))[_0x16b003(0x744)]=!![],document[_0x16b003(0x7eb)](_0x16b003(0xb75))[_0x16b003(0x744)]=!![];const _0x2c8a74=document['getElementById'](_0x16b003(0x419));if(_0x2c8a74)_0x2c8a74[_0x16b003(0x744)]=!![];const _0x590d01=document['getElementById']('generate-from-blueprint-btn');if(_0x590d01)_0x590d01[_0x16b003(0x744)]=!![];const _0xf830c=document[_0x16b003(0x7eb)]('generate-from-parallel-test-btn');if(_0xf830c)_0xf830c['disabled']=!![];try{const _0x2c2028=Array['isArray'](_0x20806a)?_0x20806a:[{'text':_0x20806a}],_0x1b6141={'contents':[{'role':'user','parts':_0x2c2028}]};_0x21a507&&(_0x1b6141['generationConfig']={'responseMimeType':_0x16b003(0x5ee),'responseSchema':_0x21a507});const _0xf94ca8=_0x16b003(0x3a0),_0x33112b=_0x16b003(0x60a)+_0xf94ca8,_0x197efe=await fetch(_0x33112b,{'method':_0x16b003(0xaf8),'headers':{'Content-Type':_0x16b003(0x5ee)},'body':JSON['stringify'](_0x1b6141)});if(!_0x197efe['ok']){const _0x41f989=await _0x197efe[_0x16b003(0x2b3)]();console[_0x16b003(0x2b8)](_0x16b003(0xd60),_0x41f989);throw new Error(_0x16b003(0x1fb)+_0x197efe[_0x16b003(0x996)]);}const _0x2c7fa7=await _0x197efe['json']();if(!_0x2c7fa7[_0x16b003(0x811)]||_0x2c7fa7[_0x16b003(0x811)][_0x16b003(0x373)]===0x0){let _0x219fbf=_0x16b003(0xadb);return _0x2c7fa7[_0x16b003(0xd05)]?.[_0x16b003(0xbc9)]&&(_0x219fbf=_0x16b003(0x272)+_0x2c7fa7['promptFeedback'][_0x16b003(0xbc9)]+'.'),console[_0x16b003(0x2b8)](_0x219fbf,JSON['stringify'](_0x2c7fa7)),null;}const _0x44e970=_0x2c7fa7[_0x16b003(0x811)][0x0]['content'][_0x16b003(0xa0d)][0x0]['text'];if(_0x21a507){let _0x52a5e0=_0x44e970;if(_0x52a5e0['startsWith'](_0x16b003(0x90d)))_0x52a5e0=_0x52a5e0[_0x16b003(0x1e3)](0x7,_0x52a5e0[_0x16b003(0x373)]-0x3)[_0x16b003(0xa7e)]();else _0x52a5e0[_0x16b003(0x46a)]('```')&&(_0x52a5e0=_0x52a5e0[_0x16b003(0x1e3)](0x3,_0x52a5e0['length']-0x3)[_0x16b003(0xa7e)]());let _0x3c4754=JSON[_0x16b003(0x3d4)](_0x52a5e0);if(_0x4b2640){if(_0x397493!==null){}else currentQuizData=_0x3c4754,displayGeneratedQuiz(currentQuizData,_0x293290,_0x578ce4);}return _0x3c4754;}else return _0x44e970;}catch(_0x5c5b1a){console['error'](_0x16b003(0x5bf),_0x5c5b1a),showMessage(_0x16b003(0x6f0)+_0x5c5b1a[_0x16b003(0xd7a)]);_0x4b2640&&(_0x13f645[_0x16b003(0xbec)]=_0x16b003(0x47b));throw _0x5c5b1a;}finally{_0xff4140[_0x16b003(0xc3c)][_0x16b003(0x4ad)](_0x16b003(0xcb0)),document[_0x16b003(0x7eb)](_0x16b003(0x97e))[_0x16b003(0x744)]=![],document[_0x16b003(0x7eb)](_0x16b003(0xcad))['disabled']=![],document[_0x16b003(0x7eb)]('generate-from-link-btn')[_0x16b003(0x744)]=![];if(_0x2c8a74)_0x2c8a74[_0x16b003(0x744)]=![];if(_0x590d01)_0x590d01[_0x16b003(0x744)]=![];if(_0xf830c)_0xf830c[_0x16b003(0x744)]=![];}}function exitFullscreen(){const _0x4a0ee6=_0x473ef4;if(document['exitFullscreen'])document[_0x4a0ee6(0x4a0)]()[_0x4a0ee6(0x529)](_0x1e2e8a=>console[_0x4a0ee6(0x2b8)](_0x1e2e8a));else{if(document[_0x4a0ee6(0x2ca)])document[_0x4a0ee6(0x2ca)]();else document['msExitFullscreen']&&document[_0x4a0ee6(0x8ba)]();}}function enterFullscreen(){const _0x452a14=_0x473ef4,_0xb4c7c8=document[_0x452a14(0x3eb)];if(_0xb4c7c8[_0x452a14(0x28e)])_0xb4c7c8[_0x452a14(0x28e)]()['catch'](_0x2c839c=>{const _0x7e5677=_0x452a14;console[_0x7e5677(0x2b8)](_0x7e5677(0xbe3)+_0x2c839c[_0x7e5677(0xd7a)]+'\x20('+_0x2c839c[_0x7e5677(0x65c)]+')');});else{if(_0xb4c7c8[_0x452a14(0x919)])_0xb4c7c8['webkitRequestFullscreen']();else _0xb4c7c8[_0x452a14(0x50b)]&&_0xb4c7c8[_0x452a14(0x50b)]();}}function handleCheatingEvent(){const _0x21d7d0=_0x473ef4;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent('screen_exit',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage('ตรวจพบการออกจากหน้าจอครบ\x20'+maxCheatAttempts+_0x21d7d0(0x298)),document['getElementById'](_0x21d7d0(0x7ec))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x21d7d0(0x39d)](_0x21d7d0(0xd3d),handleVisibilityChange),document[_0x21d7d0(0x39d)](_0x21d7d0(0x27f),handleFullscreenChange)):showMessage(_0x21d7d0(0x787)+cheatAttempts+'/'+maxCheatAttempts+_0x21d7d0(0x8b4),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x1af31b=_0x473ef4;if(currentMode===_0x1af31b(0xa0f)||!isQuizActive)return;if(document[_0x1af31b(0xd54)]==='hidden')handleCheatingEvent();else document[_0x1af31b(0xd54)]===_0x1af31b(0x815)&&(console['log'](_0x1af31b(0xbdb)),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){const _0x294b59=_0x473ef4;if(currentMode==='admin-testing'||!isQuizActive)return;!document[_0x294b59(0x790)]&&handleCheatingEvent();}function displayGeneratedQuiz(_0x234f5a,_0x4dadb1=null,_0x46c384=null){const _0x287799=_0x473ef4,_0x597e69=document[_0x287799(0x7eb)](_0x287799(0xad2));let _0x34f9dd=_0x287799(0x9e0)+_0x234f5a[_0x287799(0x2d8)]+_0x287799(0xcb6);_0x234f5a[_0x287799(0x3dd)][_0x287799(0xb15)]((_0x573913,_0x578e90)=>{const _0x2bfb1c=_0x287799;!_0x573913['id']&&(_0x573913['id']='q_'+Date[_0x2bfb1c(0x823)]()+'_'+_0x578e90);const _0x5b99a2=_0x573913[_0x2bfb1c(0x22d)]||_0x234f5a[_0x2bfb1c(0x3d3)];_0x34f9dd+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22'+_0x578e90+_0x2bfb1c(0x55d)+_0x578e90+_0x2bfb1c(0x926)+_0x578e90+_0x2bfb1c(0x9e6);switch(_0x5b99a2){case _0x2bfb1c(0xac9):_0x34f9dd+=_0x2bfb1c(0x64b)+_0x578e90+'\x22>'+(_0x578e90+0x1)+'.\x20'+_0x573913[_0x2bfb1c(0xd03)]+_0x2bfb1c(0xc65);_0x573913[_0x2bfb1c(0x675)]&&(_0x34f9dd+=_0x2bfb1c(0x6c1)+_0x578e90+_0x2bfb1c(0x5d6)+_0x573913[_0x2bfb1c(0x675)]+'</div>');_0x34f9dd+=_0x2bfb1c(0x35d)+_0x578e90+'\x22>'+_0x573913[_0x2bfb1c(0xc73)]+_0x2bfb1c(0x4ab),_0x34f9dd+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x578e90+'\x22>'+_0x573913[_0x2bfb1c(0x30b)]+'</span></div>';break;case _0x2bfb1c(0x314):_0x34f9dd+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x578e90+'\x22>'+(_0x578e90+0x1)+'.\x20'+_0x573913[_0x2bfb1c(0x837)]+_0x2bfb1c(0xc65);_0x573913[_0x2bfb1c(0x675)]&&(_0x34f9dd+=_0x2bfb1c(0x6c1)+_0x578e90+_0x2bfb1c(0x5d6)+_0x573913[_0x2bfb1c(0x675)]+_0x2bfb1c(0x3ab));_0x34f9dd+=_0x2bfb1c(0x76f)+_0x578e90+'\x22>'+_0x573913[_0x2bfb1c(0x8f5)]+_0x2bfb1c(0x4ab),_0x34f9dd+=_0x2bfb1c(0x36e)+_0x578e90+'\x22>'+_0x573913[_0x2bfb1c(0x30b)]+_0x2bfb1c(0x4ab);break;case'true_false':_0x34f9dd+=_0x2bfb1c(0x64b)+_0x578e90+'\x22>'+(_0x578e90+0x1)+'.\x20'+_0x573913[_0x2bfb1c(0x837)]+_0x2bfb1c(0xc65);_0x573913['imageCode']&&(_0x34f9dd+='<div\x20id=\x22q-image-container-'+_0x578e90+_0x2bfb1c(0x5d6)+_0x573913[_0x2bfb1c(0x675)]+_0x2bfb1c(0x3ab));_0x34f9dd+=_0x2bfb1c(0x297)+(_0x573913[_0x2bfb1c(0x8ae)]===!![]?_0x2bfb1c(0x801):'')+_0x2bfb1c(0x4e3)+(_0x573913[_0x2bfb1c(0x8ae)]===![]?_0x2bfb1c(0x801):'')+_0x2bfb1c(0x485),_0x34f9dd+=_0x2bfb1c(0x36e)+_0x578e90+'\x22>'+_0x573913['explanation']+_0x2bfb1c(0x4ab);break;case'fill_in_the_blank':case _0x2bfb1c(0xcc0):default:_0x34f9dd+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x578e90+'\x22>'+(_0x578e90+0x1)+'.\x20'+_0x573913['questionText']+'</p>';_0x573913[_0x2bfb1c(0x675)]&&(_0x34f9dd+=_0x2bfb1c(0x6c1)+_0x578e90+_0x2bfb1c(0x5d6)+_0x573913[_0x2bfb1c(0x675)]+_0x2bfb1c(0x3ab));_0x34f9dd+=_0x2bfb1c(0xc75)+_0x578e90+_0x2bfb1c(0x385)+(_0x573913[_0x2bfb1c(0x745)]||[])[_0x2bfb1c(0xa3b)]((_0x398cfd,_0x2579c2)=>_0x2bfb1c(0x561)+(_0x2579c2===_0x573913[_0x2bfb1c(0xb8c)]?_0x2bfb1c(0x801):'')+'\x22>'+_0x398cfd+_0x2bfb1c(0x216))[_0x2bfb1c(0xaa2)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>',_0x34f9dd+=_0x2bfb1c(0x36e)+_0x578e90+'\x22>'+_0x573913[_0x2bfb1c(0x30b)]+_0x2bfb1c(0x4ab);break;}_0x34f9dd+='</div>';}),_0x34f9dd+='<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20mb-2\x22><i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20</div>',_0x597e69[_0x287799(0xbec)]=_0x34f9dd,document[_0x287799(0x89b)](_0x287799(0x27d))['forEach'](_0x3ed379=>_0x3ed379[_0x287799(0x5e6)]('click',handleEditQuestion)),document[_0x287799(0x89b)](_0x287799(0x72a))['forEach'](_0x36c4e2=>_0x36c4e2[_0x287799(0x5e6)](_0x287799(0x732),handleRegenerateQuestion)),document[_0x287799(0x7eb)](_0x287799(0xccb))[_0x287799(0x5e6)](_0x287799(0x732),exportQuizAsWorksheetPDF),document[_0x287799(0x7eb)]('verify-answers-btn')[_0x287799(0x5e6)](_0x287799(0x732),handleVerifyAnswers);const _0x1100b7=document[_0x287799(0x7eb)](_0x287799(0x2cf));if(_0x1100b7){const _0x58502c=_0x4dadb1||currentProjectId;_0x1100b7[_0x287799(0x5e6)](_0x287799(0x732),()=>saveQuiz(_0x58502c,_0x46c384));}if(window[_0x287799(0x5f9)])window['MathJax'][_0x287799(0x93d)]([_0x597e69]);}function handleRegenerateQuestion(_0x472ea0){const _0x12dcdf=_0x473ef4,_0x1895f6=_0x472ea0['currentTarget'][_0x12dcdf(0x6e9)][_0x12dcdf(0xbf7)],_0x247fc2=currentQuizData[_0x12dcdf(0x2d8)];showMessage(_0x12dcdf(0x59c)+(parseInt(_0x1895f6)+0x1)+_0x12dcdf(0xbf3)),generateQuiz(_0x247fc2,null,parseInt(_0x1895f6));}function getPointerPosition(_0xe4bedd,_0x23318a){const _0x2cf071=_0x473ef4,_0x7c07bf=_0xe4bedd[_0x2cf071(0x7da)]();let _0x505ac4,_0xa62b57;return _0x23318a[_0x2cf071(0xccf)]&&_0x23318a[_0x2cf071(0xccf)][_0x2cf071(0x373)]>0x0?(_0x505ac4=_0x23318a['touches'][0x0][_0x2cf071(0x33c)],_0xa62b57=_0x23318a[_0x2cf071(0xccf)][0x0][_0x2cf071(0xa21)]):(_0x505ac4=_0x23318a[_0x2cf071(0x33c)],_0xa62b57=_0x23318a['clientY']),{'x':(_0x505ac4-_0x7c07bf['e'])/_0x7c07bf['a'],'y':(_0xa62b57-_0x7c07bf['f'])/_0x7c07bf['d']};}function startDrag(_0x4de0d6){const _0x28768d=_0x473ef4;_0x4de0d6[_0x28768d(0x213)]===_0x28768d(0x1de)&&_0x4de0d6['preventDefault']();const _0x13b80d=_0x4de0d6['target']['closest'](_0x28768d(0xb32));if(_0x13b80d){draggedSvgElement=_0x13b80d;const _0x4d2794=draggedSvgElement[_0x28768d(0x7f4)],_0x32e97c=getPointerPosition(_0x4d2794,_0x4de0d6);svgOffset['x']=_0x32e97c['x']-parseFloat(draggedSvgElement[_0x28768d(0x68e)](null,'x')),svgOffset['y']=_0x32e97c['y']-parseFloat(draggedSvgElement[_0x28768d(0x68e)](null,'y'));}}function calculateItemAnalysis(_0x461118,_0x681ab8){const _0x27a0b6=_0x473ef4,_0x40e92f={};if(_0x681ab8[_0x27a0b6(0x373)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x1bd3f7=[..._0x681ab8][_0x27a0b6(0x4af)]((_0x2e6ba9,_0xfd6256)=>{const _0x5367d9=_0x27a0b6,_0x343bac=_0xfd6256[_0x5367d9(0xa08)]-_0x2e6ba9[_0x5367d9(0xa08)];if(_0x343bac!==0x0)return _0x343bac;const _0xd3f26a=_0x2e6ba9[_0x5367d9(0xa5a)]?.[_0x5367d9(0x373)]||0x1,_0x21ddcb=_0xfd6256[_0x5367d9(0xa5a)]?.[_0x5367d9(0x373)]||0x1,_0x165c03=_0xd3f26a-_0x21ddcb;if(_0x165c03!==0x0)return _0x165c03;const _0xd4f6f=new Date(_0x2e6ba9[_0x5367d9(0x7f3)]),_0x2bcc8b=new Date(_0xfd6256[_0x5367d9(0x7f3)]),_0x58cd9f=_0xd4f6f-_0x2bcc8b;if(_0x58cd9f!==0x0)return _0x58cd9f;return _0x2e6ba9[_0x5367d9(0x389)][_0x5367d9(0xd07)](_0xfd6256[_0x5367d9(0x389)],'th');}),_0x3c0e6d=_0x1bd3f7[_0x27a0b6(0x373)],_0x3fff02=Math[_0x27a0b6(0xaea)](0x1,Math[_0x27a0b6(0x8a0)](_0x3c0e6d*0.33));if(_0x3fff02===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x4919b0=_0x1bd3f7[_0x27a0b6(0xa80)](0x0,_0x3fff02),_0x20b28f=_0x1bd3f7[_0x27a0b6(0xa80)](-_0x3fff02),_0x26a4f1=_0x4919b0[_0x27a0b6(0xa3b)](_0xd93e43=>_0xd93e43['studentName']),_0x251bb0=_0x20b28f[_0x27a0b6(0xa3b)](_0x24b4b2=>_0x24b4b2[_0x27a0b6(0x389)]);return _0x461118[_0x27a0b6(0x3dd)]['forEach']((_0xfd5b6c,_0x4c62ce)=>{const _0x179049=_0x27a0b6,_0x9c4bbb=_0xfd5b6c[_0x179049(0xd03)]||_0xfd5b6c['questionText'];let _0xdd4b09=0x0,_0x2e29d6=0x0,_0x137c84=0x0;const _0x33ab81=[],_0x30979f=[];_0x4919b0[_0x179049(0xb15)](_0x48ee41=>{const _0x3b4d32=_0x179049,_0x2ddb5f=_0x48ee41[_0x3b4d32(0xa5a)][_0x48ee41['attempts']['length']-0x1],_0xc99391=_0x2ddb5f['answers'][_0x3b4d32(0x712)](_0x384c34=>_0x384c34[_0x3b4d32(0x50e)]===_0x9c4bbb);_0x33ab81['push']({'name':_0x48ee41[_0x3b4d32(0x389)],'isCorrect':_0xc99391?_0xc99391[_0x3b4d32(0x95d)]:![]}),_0xc99391&&_0xc99391[_0x3b4d32(0x95d)]&&_0x2e29d6++;}),_0x20b28f[_0x179049(0xb15)](_0x4a03a8=>{const _0x1ef91b=_0x179049,_0x3e1af4=_0x4a03a8[_0x1ef91b(0xa5a)][_0x4a03a8['attempts'][_0x1ef91b(0x373)]-0x1],_0x53691e=_0x3e1af4[_0x1ef91b(0xbba)][_0x1ef91b(0x712)](_0x22532e=>_0x22532e[_0x1ef91b(0x50e)]===_0x9c4bbb);_0x30979f['push']({'name':_0x4a03a8['studentName'],'isCorrect':_0x53691e?_0x53691e[_0x1ef91b(0x95d)]:![]}),_0x53691e&&_0x53691e[_0x1ef91b(0x95d)]&&_0x137c84++;}),_0x681ab8[_0x179049(0xb15)](_0x1bb50c=>{const _0x58cf1a=_0x179049,_0x2a4b73=_0x1bb50c[_0x58cf1a(0xa5a)][_0x1bb50c[_0x58cf1a(0xa5a)]['length']-0x1],_0x2066b3=_0x2a4b73['answers'][_0x58cf1a(0x712)](_0x4175d8=>_0x4175d8['originalQuestionText']===_0x9c4bbb);_0x2066b3&&_0x2066b3[_0x58cf1a(0x95d)]&&_0xdd4b09++;});const _0xbbfd4e=_0x3c0e6d>0x0?_0xdd4b09/_0x3c0e6d:0x0,_0x1985f9=_0x3fff02>0x0?_0x2e29d6/_0x3fff02-_0x137c84/_0x3fff02:0x0;_0x40e92f[_0x4c62ce]={'p':_0xbbfd4e,'r':_0x1985f9,'upperGroupResponders':_0x33ab81,'lowerGroupResponders':_0x30979f};}),{'perQuestionStats':_0x40e92f,'overallGroups':{'upperGroupNames':_0x26a4f1,'lowerGroupNames':_0x251bb0}};}function drag(_0x2e7d87){const _0x283318=_0x473ef4;if(draggedSvgElement){_0x2e7d87[_0x283318(0x82f)]();const _0x537eba=draggedSvgElement[_0x283318(0x7f4)],_0x44f499=getPointerPosition(_0x537eba,_0x2e7d87),_0xc80f74=_0x537eba[_0x283318(0x93c)][_0x283318(0xc2d)];let _0x8d7f37=_0x44f499['x']-svgOffset['x'],_0x42080d=_0x44f499['y']-svgOffset['y'];const _0x4ae66a=draggedSvgElement[_0x283318(0x671)]();_0x8d7f37=Math[_0x283318(0xaea)](_0xc80f74['x'],Math[_0x283318(0x524)](_0x8d7f37,_0xc80f74['x']+_0xc80f74[_0x283318(0xca6)]-_0x4ae66a[_0x283318(0xca6)])),_0x42080d=Math[_0x283318(0xaea)](_0xc80f74['y'],Math[_0x283318(0x524)](_0x42080d,_0xc80f74['y']+_0xc80f74[_0x283318(0x395)]-_0x4ae66a[_0x283318(0x395)])),draggedSvgElement['setAttributeNS'](null,'x',_0x8d7f37),draggedSvgElement['setAttributeNS'](null,'y',_0x42080d);}}function endDrag(_0x33a64d){draggedSvgElement=null;}function handleSvgEditClick(_0x588874){const _0xb01455=_0x473ef4;if(_0x588874[_0xb01455(0x8ef)][_0xb01455(0xc3c)][_0xb01455(0x5ba)](_0xb01455(0xadf))){const _0x137693=_0x588874[_0xb01455(0x8ef)]['dataset'][_0xb01455(0xc82)],_0x27335e=_0x588874[_0xb01455(0xd3c)],_0x38d77d=_0x27335e['querySelector']('#'+_0x137693);_0x38d77d&&_0x38d77d['remove'](),_0x588874[_0xb01455(0x8ef)]['remove']();}}function handleEditQuestion(_0x17600a){const _0x546166=_0x473ef4,_0x3f7003=_0x17600a['currentTarget'],_0x583c60=_0x3f7003[_0x546166(0x6e9)][_0x546166(0xbf7)],_0x339ff2=currentQuizData['questions'][_0x583c60],_0x318410=document[_0x546166(0x7eb)](_0x546166(0x5a4)+_0x583c60),_0x4a79be=document[_0x546166(0x7eb)]('q-explanation-'+_0x583c60),_0x447da9=document[_0x546166(0x7eb)](_0x546166(0x980)+_0x583c60);if(_0x3f7003[_0x546166(0xbec)]['includes']('fa-pen')){_0x3f7003[_0x546166(0xbec)]=_0x546166(0x3d9),_0x3f7003[_0x546166(0x640)]=_0x546166(0xafc);if(_0x318410)_0x318410[_0x546166(0x23e)]=!![];if(_0x4a79be)_0x4a79be[_0x546166(0x23e)]=!![];if(_0x447da9){const _0x511fc0=_0x447da9[_0x546166(0x6ea)](_0x546166(0xab2));if(_0x511fc0){const _0x36a8ee=_0x511fc0[_0x546166(0x89b)](_0x546166(0x2b3));_0x36a8ee[_0x546166(0xb15)]((_0xa28399,_0x462289)=>{const _0xc0cf43=_0x546166,_0x557d24=_0xc0cf43(0x25c)+_0x583c60+'-'+_0x462289;_0xa28399['id']=_0x557d24,_0xa28399[_0xc0cf43(0xc3c)][_0xc0cf43(0x4ad)]('draggable-text'),_0xa28399[_0xc0cf43(0xd84)]['cursor']='move';const _0x2ad283=document['createElementNS'](_0xc0cf43(0x93b),_0xc0cf43(0x392)),_0x3fcd11=_0xa28399[_0xc0cf43(0x671)]();_0x2ad283[_0xc0cf43(0x89f)]('cx',String(_0x3fcd11['x']+_0x3fcd11[_0xc0cf43(0xca6)]+0x5)),_0x2ad283[_0xc0cf43(0x89f)]('cy',String(_0x3fcd11['y']+_0x3fcd11['height']/0x2-0x5)),_0x2ad283[_0xc0cf43(0x89f)]('r','5'),_0x2ad283[_0xc0cf43(0x89f)](_0xc0cf43(0xc79),_0xc0cf43(0x271)),_0x2ad283['setAttribute']('class',_0xc0cf43(0xadf)),_0x2ad283[_0xc0cf43(0x6e9)][_0xc0cf43(0xc82)]=_0x557d24,_0xa28399[_0xc0cf43(0x3ee)](_0x2ad283);}),_0x511fc0['addEventListener'](_0x546166(0x475),startDrag),_0x511fc0['addEventListener'](_0x546166(0x3f6),drag),_0x511fc0[_0x546166(0x5e6)]('mouseup',endDrag),_0x511fc0[_0x546166(0x5e6)](_0x546166(0xc9a),endDrag),_0x511fc0[_0x546166(0x5e6)](_0x546166(0x1de),startDrag,{'passive':![]}),_0x511fc0[_0x546166(0x5e6)](_0x546166(0x6a4),drag,{'passive':![]}),_0x511fc0[_0x546166(0x5e6)](_0x546166(0x691),endDrag),_0x511fc0[_0x546166(0x5e6)](_0x546166(0xc59),endDrag),_0x511fc0['addEventListener'](_0x546166(0x732),handleSvgEditClick);}}if(_0x318410)_0x318410[_0x546166(0x86f)]();}else{_0x3f7003[_0x546166(0xbec)]=_0x546166(0xc05),_0x3f7003[_0x546166(0x640)]='แก้ไขข้อนี้';if(_0x318410){_0x318410['contentEditable']=![];const _0x1e1237=_0x339ff2[_0x546166(0x22d)]||currentQuizData[_0x546166(0x3d3)];_0x1e1237===_0x546166(0xac9)?_0x339ff2[_0x546166(0xd03)]=_0x318410[_0x546166(0x8f2)][_0x546166(0x1e3)](_0x318410[_0x546166(0x8f2)]['indexOf']('.')+0x2)[_0x546166(0xa7e)]():_0x339ff2[_0x546166(0x837)]=_0x318410['innerText'][_0x546166(0x1e3)](_0x318410[_0x546166(0x8f2)][_0x546166(0x5ac)]('.')+0x2)[_0x546166(0xa7e)]();}_0x4a79be&&(_0x4a79be[_0x546166(0x23e)]=![],_0x339ff2[_0x546166(0x30b)]=_0x4a79be[_0x546166(0x8f2)]);if(_0x447da9){const _0x2d68db=_0x447da9[_0x546166(0x6ea)]('svg');if(_0x2d68db){const _0x416d98=_0x2d68db['cloneNode'](!![]);_0x416d98[_0x546166(0x89b)]('.delete-svg-btn')[_0x546166(0xb15)](_0x14e93e=>_0x14e93e[_0x546166(0x6f9)]()),_0x416d98[_0x546166(0x89b)](_0x546166(0xb32))[_0x546166(0xb15)](_0x21588b=>{const _0x265f80=_0x546166;_0x21588b[_0x265f80(0xc3c)][_0x265f80(0x6f9)](_0x265f80(0x7f8)),_0x21588b[_0x265f80(0xd84)]['cursor']=_0x265f80(0xc36),_0x21588b[_0x265f80(0x217)]('id');}),_0x339ff2[_0x546166(0x675)]=_0x416d98['outerHTML'],_0x2d68db[_0x546166(0x39d)](_0x546166(0x475),startDrag),_0x2d68db[_0x546166(0x39d)](_0x546166(0x3f6),drag),_0x2d68db[_0x546166(0x39d)](_0x546166(0xa11),endDrag),_0x2d68db[_0x546166(0x39d)]('mouseleave',endDrag),_0x2d68db[_0x546166(0x39d)](_0x546166(0x1de),startDrag),_0x2d68db['removeEventListener'](_0x546166(0x6a4),drag),_0x2d68db[_0x546166(0x39d)]('touchend',endDrag),_0x2d68db[_0x546166(0x39d)](_0x546166(0xc59),endDrag),_0x2d68db[_0x546166(0x39d)](_0x546166(0x732),handleSvgEditClick),_0x2d68db[_0x546166(0x89b)](_0x546166(0xa2f))[_0x546166(0xb15)](_0x24472b=>_0x24472b[_0x546166(0x6f9)]()),_0x2d68db[_0x546166(0x89b)](_0x546166(0xb32))['forEach'](_0x7274f9=>{const _0x263b2a=_0x546166;_0x7274f9[_0x263b2a(0xc3c)][_0x263b2a(0x6f9)](_0x263b2a(0x7f8)),_0x7274f9[_0x263b2a(0xd84)][_0x263b2a(0x796)]=_0x263b2a(0xc36);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0xbc5fa9){const _0x5ba25d=_0x473ef4,_0xb14d11=document[_0x5ba25d(0x7eb)](_0x5ba25d(0xd15)),_0x655179=document[_0x5ba25d(0x7eb)]('quiz-editor-questions-container');_0x655179[_0x5ba25d(0xbec)]=_0x5ba25d(0xc8d),_0xb14d11['classList'][_0x5ba25d(0x6f9)](_0x5ba25d(0xcb0));try{const _0x1bc062=doc(db,_0x5ba25d(0x41a)+appId+_0x5ba25d(0x3c1),_0xbc5fa9),_0x3bafec=await getDoc(_0x1bc062);if(!_0x3bafec[_0x5ba25d(0x931)]())throw new Error(_0x5ba25d(0x676));currentEditingQuizData={'id':_0xbc5fa9,..._0x3bafec[_0x5ba25d(0x1e4)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x5182fd){console[_0x5ba25d(0x2b8)](_0x5ba25d(0xa54),_0x5182fd),showMessage(_0x5ba25d(0x448)),_0xb14d11[_0x5ba25d(0xc3c)][_0x5ba25d(0x4ad)](_0x5ba25d(0xcb0));}}function renderQuizEditor(_0x45c8b9){const _0x343249=_0x473ef4;document[_0x343249(0x7eb)](_0x343249(0x3c4))['value']=_0x45c8b9[_0x343249(0x2d8)];const _0x5a5bba=document['getElementById'](_0x343249(0xa97));let _0x589e26=_0x45c8b9['questions'][_0x343249(0xa3b)]((_0x17e142,_0x352f9e)=>{const _0x3347df=_0x343249;let _0x462df5='';const _0x54e704=_0x17e142['questionType']||_0x45c8b9[_0x3347df(0x3d3)];switch(_0x54e704){case _0x3347df(0xcc0):const _0x3131f9=(_0x17e142[_0x3347df(0x745)]||[])[_0x3347df(0xa3b)]((_0x99ce76,_0x27ca9e)=>_0x3347df(0x5c7)+_0x352f9e+_0x3347df(0xb7b)+_0x27ca9e+'\x22\x20'+(_0x27ca9e===_0x17e142['correctAnswerIndex']?_0x3347df(0x5b1):'')+_0x3347df(0x1d6)+_0x99ce76+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3347df(0xaa2)]('');_0x462df5=_0x3347df(0xbbc)+_0x3131f9+_0x3347df(0x91e);break;case'short_answer':_0x462df5=_0x3347df(0x3de)+(_0x17e142[_0x3347df(0x8f5)]||'')+_0x3347df(0x907);break;case _0x3347df(0x84f):_0x462df5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x352f9e+_0x3347df(0xacd)+(_0x17e142[_0x3347df(0x8ae)]===!![]?_0x3347df(0x5b1):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-'+_0x352f9e+'\x22\x20value=\x22false\x22\x20'+(_0x17e142[_0x3347df(0x8ae)]===![]?_0x3347df(0x5b1):'')+_0x3347df(0x3e1);break;case _0x3347df(0xac9):_0x462df5=_0x3347df(0x64c)+(_0x17e142[_0x3347df(0xc73)]||'')+_0x3347df(0x483);break;}let _0x99f3b4=_0x17e142[_0x3347df(0x837)]||_0x17e142['stem']||'';return _0x99f3b4=_0x99f3b4[_0x3347df(0x7bd)](/<br\s*\/?>/gi,'\x0a'),_0x3347df(0xc44)+_0x352f9e+_0x3347df(0x4c3)+_0x54e704+_0x3347df(0x565)+(_0x352f9e+0x1)+'\x20('+_0x54e704+_0x3347df(0x7ae)+_0x99f3b4+_0x3347df(0x20c)+_0x462df5+'</div>\x0a</div>\x0a';})[_0x343249(0xaa2)]('');_0x5a5bba[_0x343249(0xbec)]=_0x589e26;const _0x3e644c=_0x343249(0x6a6);_0x5a5bba[_0x343249(0xc77)](_0x343249(0x658),_0x3e644c),_0x5a5bba[_0x343249(0x89b)](_0x343249(0x7b0))[_0x343249(0xb15)](_0x2497ad=>{const _0x1a80ba=_0x343249;_0x2497ad[_0x1a80ba(0xd84)][_0x1a80ba(0x650)]=_0x1a80ba(0xcb0),_0x2497ad[_0x1a80ba(0xd84)][_0x1a80ba(0xb03)]='100px',_0x2497ad[_0x1a80ba(0xd52)]=0x4;const _0x4cf6a0=()=>{const _0x4a67b2=_0x1a80ba;_0x2497ad[_0x4a67b2(0xd84)][_0x4a67b2(0x395)]=_0x4a67b2(0xb69),_0x2497ad[_0x4a67b2(0xd84)][_0x4a67b2(0x395)]=_0x2497ad[_0x4a67b2(0x5b9)]+'px';};_0x2497ad[_0x1a80ba(0x5e6)]('input',_0x4cf6a0),_0x4cf6a0();}),_0x5a5bba['querySelectorAll'](_0x343249(0x3b3))[_0x343249(0xb15)](_0x1e231c=>{const _0x25f77e=_0x343249;_0x1e231c[_0x25f77e(0x5e6)](_0x25f77e(0x732),handleAiFixQuestion);});}function handleDeleteQuestionInEditor(_0x2905d5){const _0x20bcf0=_0x473ef4;if(!currentEditingQuizData||!currentEditingQuizData[_0x20bcf0(0x3dd)][_0x2905d5])return;const _0x280eff=currentEditingQuizData[_0x20bcf0(0x3dd)][_0x2905d5][_0x20bcf0(0x837)]||currentEditingQuizData['questions'][_0x2905d5]['stem'];showConfirmation(_0x20bcf0(0xafd)+(_0x2905d5+0x1)+'\x20(\x22'+_0x280eff[_0x20bcf0(0x1e3)](0x0,0x14)+'...\x22)?',()=>{const _0xa5cfcd=_0x20bcf0;currentEditingQuizData[_0xa5cfcd(0x3dd)][_0xa5cfcd(0x655)](_0x2905d5,0x1),renderQuizEditor(currentEditingQuizData),showMessage('ลบคำถามแล้ว\x20(อย่าลืมกด\x20\x27บันทึกการแก้ไข\x27\x20เพื่อยืนยัน)');});}function handleAddQuestionInEditor(){const _0x473d69=_0x473ef4;if(!currentEditingQuizData)return;const _0x1e1667={'id':'q_'+Date[_0x473d69(0x823)]()+'_new','questionType':_0x473d69(0xcc0),'questionText':_0x473d69(0x76e),'options':[_0x473d69(0x2de),_0x473d69(0xa1c),_0x473d69(0x34e),'ตัวเลือก\x20ง'],'correctAnswerIndex':0x0,'explanation':_0x473d69(0x982)};currentEditingQuizData[_0x473d69(0x3dd)][_0x473d69(0x526)](_0x1e1667),renderQuizEditor(currentEditingQuizData);const _0x17bd0c=document[_0x473d69(0x6ea)]('.question-editor-item:last-of-type');_0x17bd0c&&(_0x17bd0c[_0x473d69(0x9a4)]({'behavior':_0x473d69(0xcea),'block':_0x473d69(0x878)}),_0x17bd0c[_0x473d69(0x6ea)](_0x473d69(0x78b))[_0x473d69(0x86f)]());}async function handleAiFixQuestion(_0x32ff6c){const _0x186d0b=_0x473ef4,_0x47fb05=_0x32ff6c['currentTarget'],_0x37e28d=_0x47fb05['closest'](_0x186d0b(0x30c));if(!_0x37e28d)return;const _0x50d101=parseInt(_0x37e28d['dataset']['qIndex'],0xa);if(isNaN(_0x50d101)||!currentEditingQuizData[_0x186d0b(0x3dd)][_0x50d101]){showMessage(_0x186d0b(0x619));return;}const _0x53152c=currentEditingQuizData[_0x186d0b(0x3dd)][_0x50d101];_0x47fb05[_0x186d0b(0xbec)]=_0x186d0b(0xc41),_0x47fb05[_0x186d0b(0x744)]=!![];const _0x359765=_0x186d0b(0x7ef)+JSON[_0x186d0b(0x36f)](_0x53152c)+_0x186d0b(0xa8c);let _0x1db42f;const _0x3207e1=_0x53152c[_0x186d0b(0x22d)]||currentEditingQuizData[_0x186d0b(0x3d3)];switch(_0x3207e1){case'short_answer':_0x1db42f={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x186d0b(0x4ed)},'imageCode':{'type':_0x186d0b(0x4ed)}},'required':['questionText',_0x186d0b(0x8f5),_0x186d0b(0x30b)]};break;case _0x186d0b(0xcc0):default:_0x1db42f={'type':'OBJECT','properties':{'questionText':{'type':_0x186d0b(0x4ed)},'options':{'type':_0x186d0b(0x440),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x186d0b(0xb6b)},'explanation':{'type':_0x186d0b(0x4ed)},'imageCode':{'type':_0x186d0b(0x4ed)}},'required':[_0x186d0b(0x837),_0x186d0b(0x745),'correctAnswerIndex',_0x186d0b(0x30b)]};break;}try{let _0x304041=await callAnalysisApi(_0x359765,_0x1db42f);_0x304041[_0x186d0b(0x745)]&&Array['isArray'](_0x304041[_0x186d0b(0x745)])&&(_0x304041['options']=_0x304041[_0x186d0b(0x745)]['map'](_0x295818=>typeof _0x295818==='string'?_0x295818['replace'](/S(\s*[\d_]+?\s*)S/g,_0x186d0b(0x3ef)):_0x295818)),_0x53152c[_0x186d0b(0x675)]&&_0x53152c['imageCode'][_0x186d0b(0x3b1)](_0x186d0b(0x434))&&(_0x304041[_0x186d0b(0x675)]=''),currentEditingQuizData[_0x186d0b(0x3dd)][_0x50d101]={..._0x53152c,..._0x304041},renderQuizEditor(currentEditingQuizData),showMessage(_0x186d0b(0x323));}catch(_0x447b36){console[_0x186d0b(0x2b8)]('AI\x20Fix\x20Error:',_0x447b36),showMessage(_0x186d0b(0x2e2)),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0xe3b17d=_0x473ef4,_0x37f9fd=document[_0xe3b17d(0x7eb)]('save-quiz-edits-btn');_0x37f9fd[_0xe3b17d(0x744)]=!![],_0x37f9fd[_0xe3b17d(0xbec)]=_0xe3b17d(0x21c);try{const _0x1484b9=document[_0xe3b17d(0x7eb)](_0xe3b17d(0x3c4))[_0xe3b17d(0x53d)],_0x3e4146=document[_0xe3b17d(0x89b)](_0xe3b17d(0x30c));let _0x326bb0=[];const _0x3102ca=Array[_0xe3b17d(0x71b)](_0x3e4146)[_0xe3b17d(0xa3b)]((_0x2f17c7,_0x3e9f01)=>{const _0x267103=_0xe3b17d,_0xd8e370=_0x2f17c7[_0x267103(0x6e9)][_0x267103(0xa5e)],_0x167f86=_0x2f17c7[_0x267103(0x6ea)](_0x267103(0x78b))[_0x267103(0x53d)][_0x267103(0x7bd)](/\n/g,_0x267103(0x710));let _0x56a54d={'questionType':_0xd8e370};const _0x1ace8f=currentEditingQuizData['questions'][_0x3e9f01];switch(_0xd8e370){case _0x267103(0xcc0):_0x56a54d[_0x267103(0x837)]=_0x167f86;const _0x228e80=_0x2f17c7[_0x267103(0x89b)](_0x267103(0x62e));_0x56a54d[_0x267103(0x745)]=Array[_0x267103(0x71b)](_0x228e80)['map'](_0x5207cd=>_0x5207cd['value']);const _0x11a620=_0x2f17c7[_0x267103(0x6ea)]('input[type=\x22radio\x22]:checked');_0x56a54d[_0x267103(0xb8c)]=_0x11a620?parseInt(_0x11a620[_0x267103(0x53d)]):0x0;break;case _0x267103(0x314):_0x56a54d[_0x267103(0x837)]=_0x167f86,_0x56a54d[_0x267103(0x8f5)]=_0x2f17c7[_0x267103(0x6ea)](_0x267103(0xb68))[_0x267103(0x53d)];break;case _0x267103(0x84f):_0x56a54d[_0x267103(0x837)]=_0x167f86;const _0x3ce7cc=_0x2f17c7[_0x267103(0x6ea)](_0x267103(0x47f));_0x56a54d['correctAnswer']=_0x3ce7cc?_0x3ce7cc[_0x267103(0x53d)]===_0x267103(0xc45):!![];break;case _0x267103(0xac9):_0x56a54d['stem']=_0x167f86;const _0x1eff86=_0x2f17c7[_0x267103(0x6ea)](_0x267103(0x7a4));_0x56a54d[_0x267103(0xc73)]=_0x1eff86?_0x1eff86[_0x267103(0x53d)]:'',_0x326bb0['push'](_0x56a54d[_0x267103(0xc73)]);break;default:_0x56a54d[_0x267103(0x837)]=_0x167f86;break;}return{..._0x1ace8f,..._0x56a54d};});_0x326bb0['length']>0x0&&_0x3102ca[_0xe3b17d(0xb15)](_0x3b7bff=>{const _0x769845=_0xe3b17d;_0x3b7bff['questionType']===_0x769845(0xac9)&&(_0x3b7bff[_0x769845(0x938)]=_0x326bb0);});const _0x1ade63=currentEditingQuizData['id'],_0x5b4018=doc(db,'artifacts/'+appId+_0xe3b17d(0x3c1),_0x1ade63);await updateDoc(_0x5b4018,{'topic':_0x1484b9,'questions':_0x3102ca}),document[_0xe3b17d(0x7eb)]('quiz-editor-modal')['classList'][_0xe3b17d(0x4ad)](_0xe3b17d(0xcb0)),showMessage(_0xe3b17d(0x4ff),()=>initiateReGradeProcess(_0x1ade63));}catch(_0x107c34){console[_0xe3b17d(0x2b8)](_0xe3b17d(0x69e),_0x107c34),showMessage(_0xe3b17d(0x7ac));}finally{_0x37f9fd[_0xe3b17d(0x744)]=![],_0x37f9fd[_0xe3b17d(0xbec)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0x183990){const _0x4a2fc9=_0x473ef4;showMessage(_0x4a2fc9(0x859));try{const _0x2e18e1=doc(db,_0x4a2fc9(0x41a)+appId+_0x4a2fc9(0x3c1),_0x183990),_0x5082de=await getDoc(_0x2e18e1);if(!_0x5082de[_0x4a2fc9(0x931)]())throw new Error(_0x4a2fc9(0xa24));const _0x26fe02={'id':_0x183990,..._0x5082de[_0x4a2fc9(0x1e4)]()},_0x59ead3=collection(db,'artifacts/'+appId+'/public/data/quizzes',_0x183990,_0x4a2fc9(0x541)),_0x4b425b=await getDocs(_0x59ead3);if(_0x4b425b[_0x4a2fc9(0x28f)]){showMessage(_0x4a2fc9(0xbb1));return;}const _0x42b8d8=_0x4b425b[_0x4a2fc9(0x48b)]['map'](_0x553ad4=>reGradeSingleSubmission(_0x553ad4,_0x26fe02));await Promise[_0x4a2fc9(0x61c)](_0x42b8d8);if(_0x26fe02[_0x4a2fc9(0x3ba)]){const _0x1ea461=doc(db,'artifacts/'+appId+_0x4a2fc9(0xd51),_0x26fe02[_0x4a2fc9(0x3ba)]),_0x507118=await getDoc(_0x1ea461);if(_0x507118['exists']()&&_0x507118[_0x4a2fc9(0x1e4)]()[_0x4a2fc9(0x55a)]){const _0x18a58a=_0x507118[_0x4a2fc9(0x1e4)]()[_0x4a2fc9(0x55a)][_0x4a2fc9(0xa3b)](_0x4d9714=>updateStudentProfile(_0x26fe02[_0x4a2fc9(0x3ba)],_0x4d9714));await Promise[_0x4a2fc9(0x61c)](_0x18a58a);}}showMessage(_0x4a2fc9(0x61d)+_0x4b425b['size']+_0x4a2fc9(0x445));}catch(_0x3746cc){console['error'](_0x4a2fc9(0x220),_0x3746cc),showMessage(_0x4a2fc9(0x307)+_0x3746cc[_0x4a2fc9(0xd7a)]);}}async function reGradeSingleSubmission(_0x5b6013,_0x32b149){const _0x18514e=_0x473ef4,_0x240ec6=_0x5b6013[_0x18514e(0x1e4)](),_0x2ce3d1=_0x240ec6[_0x18514e(0x389)],_0x47e1b3=_0x240ec6[_0x18514e(0xa5a)]||[],_0x48bc3a=[];for(const _0x307f7a of _0x47e1b3){let _0x505f0b=0x0,_0x218fa4=[],_0x366729=0x0;const _0x48ef87=[];for(const _0xf5f252 of _0x307f7a[_0x18514e(0xbba)]){let _0x108c56;_0xf5f252[_0x18514e(0xa87)]&&(_0x108c56=_0x32b149[_0x18514e(0x3dd)]['find'](_0x2f6952=>_0x2f6952['id']===_0xf5f252[_0x18514e(0xa87)]));!_0x108c56&&_0xf5f252[_0x18514e(0x50e)]&&(_0x108c56=_0x32b149[_0x18514e(0x3dd)]['find'](_0x525a5a=>(_0x525a5a[_0x18514e(0xd03)]||_0x525a5a[_0x18514e(0x837)])===_0xf5f252[_0x18514e(0x50e)]));let _0x246ea5=![];if(_0x108c56){const _0x481315=_0x108c56[_0x18514e(0x22d)]||_0x32b149['quizType'];switch(_0x481315){case _0x18514e(0xcc0):if(_0x108c56['options']&&_0x108c56[_0x18514e(0xb8c)]<_0x108c56[_0x18514e(0x745)][_0x18514e(0x373)]){const _0x1a528d=_0x108c56['options'][_0x108c56[_0x18514e(0xb8c)]];_0x246ea5=_0xf5f252[_0x18514e(0x9ae)]===_0x1a528d;}break;case _0x18514e(0x84f):const _0x1cb3a1=_0xf5f252[_0x18514e(0x913)]===!![]||_0xf5f252['answer']==='true';_0x246ea5=_0x1cb3a1===_0x108c56[_0x18514e(0x8ae)];break;case'matching_item':_0x246ea5=_0xf5f252[_0x18514e(0x913)]===_0x108c56[_0x18514e(0xc73)];break;case _0x18514e(0x314):_0x246ea5=await gradeShortAnswer(_0xf5f252['answer'],_0x108c56);break;default:_0x246ea5=_0xf5f252[_0x18514e(0x95d)];break;}}if(_0x246ea5){_0x505f0b++,_0x366729++;if(_0x366729===0x3)_0x218fa4[_0x18514e(0x526)](BADGES[_0x18514e(0x887)]['id']);}else _0x366729=0x0;_0x48ef87[_0x18514e(0x526)]({..._0xf5f252,'isCorrect':_0x246ea5});}let _0x51e157=_0x505f0b*0xa;_0x505f0b===_0x32b149['questions']['length']&&(_0x51e157+=0x32,_0x218fa4[_0x18514e(0x526)](BADGES[_0x18514e(0x233)]['id'])),_0x48bc3a['push']({..._0x307f7a,'score':_0x505f0b,'points':_0x51e157,'badges':Array[_0x18514e(0x71b)](new Set(_0x218fa4)),'answers':_0x48ef87});}const _0x4c03b8=_0x48bc3a[_0x18514e(0x373)]>0x0?_0x48bc3a[0x0][_0x18514e(0xa94)]:0x0,_0x48af8d=Math[_0x18514e(0xaea)](..._0x48bc3a[_0x18514e(0xa3b)](_0x500bb7=>_0x500bb7[_0x18514e(0xa94)])),_0x487be6=_0x48bc3a[_0x18514e(0x373)]>0x0?_0x48bc3a[_0x48bc3a[_0x18514e(0x373)]-0x1]['score']:0x0,_0x1d0949=_0x48bc3a['length']>0x0?_0x48bc3a[_0x48bc3a[_0x18514e(0x373)]-0x1][_0x18514e(0xc76)]:0x0,_0x37907e=doc(db,_0x18514e(0x41a)+appId+_0x18514e(0x5d9)+_0x32b149['id']+_0x18514e(0xa06),_0x2ce3d1);await updateDoc(_0x37907e,{'attempts':_0x48bc3a,'firstScore':_0x4c03b8,'bestScore':_0x48af8d,'latestScore':_0x487be6,'points':_0x1d0949});}function cleanupQuizOptions(_0xe7d5f3){const _0x5b9f23=_0x473ef4,_0x46b856=(_0x403fd8,_0x1eed55)=>_0x1eed55===0x0?_0x403fd8:_0x46b856(_0x1eed55,_0x403fd8%_0x1eed55),_0xb26a2a=_0x19276d=>{const _0x4b1f49=_0x2a86;if(typeof _0x19276d!=='string')return null;_0x19276d=_0x19276d[_0x4b1f49(0xa7e)]();const _0x4f95d3=_0x19276d[_0x4b1f49(0x5db)](/[ /]/)[_0x4b1f49(0x514)](_0x4e12f9=>_0x4e12f9!=='');if(_0x4f95d3[_0x4b1f49(0x373)]===0x3)return parseInt(_0x4f95d3[0x0])+parseInt(_0x4f95d3[0x1])/parseInt(_0x4f95d3[0x2]);else{if(_0x4f95d3[_0x4b1f49(0x373)]===0x2)return parseInt(_0x4f95d3[0x0])/parseInt(_0x4f95d3[0x1]);else{if(_0x4f95d3[_0x4b1f49(0x373)]===0x1&&!isNaN(_0x4f95d3[0x0]))return parseFloat(_0x4f95d3[0x0]);}}return null;},_0x37dded=_0x2a5021=>{const _0x233978=_0x2a86;if(typeof _0x2a5021!==_0x233978(0x81a))return _0x2a5021;const _0x491e6c=_0x2a5021[_0x233978(0x3a2)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x491e6c){const _0x3ec289=parseInt(_0x491e6c[0x1]);let _0xe27ecd=parseInt(_0x491e6c[0x2]),_0x24b4f7=parseInt(_0x491e6c[0x3]);const _0x2a0d4b=_0x46b856(_0xe27ecd,_0x24b4f7);_0xe27ecd/=_0x2a0d4b,_0x24b4f7/=_0x2a0d4b;if(_0x24b4f7===0x1)return(_0x3ec289+_0xe27ecd)[_0x233978(0xc07)]();return _0x3ec289+'\x20'+_0xe27ecd+'/'+_0x24b4f7;}return _0x2a5021;};return _0xe7d5f3&&_0xe7d5f3[_0x5b9f23(0x3dd)]&&_0xe7d5f3[_0x5b9f23(0x3dd)][_0x5b9f23(0xb15)](_0x92302a=>{const _0xfbf800=_0x5b9f23;if(_0x92302a[_0xfbf800(0x22d)]==='multiple_choice'&&_0x92302a[_0xfbf800(0x745)]){const _0x7c0942=new Map(),_0x1a8116=_0x92302a[_0xfbf800(0x745)][_0x92302a[_0xfbf800(0xb8c)]];_0x92302a[_0xfbf800(0x745)][_0xfbf800(0xb15)](_0x3d2857=>{const _0x48525c=_0xfbf800,_0x5efa5e=_0x37dded(_0x3d2857),_0x38dd85=_0xb26a2a(_0x5efa5e);_0x38dd85!==null&&!_0x7c0942[_0x48525c(0x3a7)](_0x38dd85)&&_0x7c0942['set'](_0x38dd85,_0x5efa5e);}),_0x92302a[_0xfbf800(0x745)]=Array[_0xfbf800(0x71b)](_0x7c0942[_0xfbf800(0x63a)]());const _0x48da90=_0x92302a[_0xfbf800(0x745)]['findIndex'](_0x20c602=>_0x20c602===_0x37dded(_0x1a8116));_0x92302a[_0xfbf800(0xb8c)]=_0x48da90!==-0x1?_0x48da90:0x0;}}),_0xe7d5f3;}function showGameStartConfirmationModal(_0x58f929,_0x304608,_0x53de62){const _0x5d3583=_0x473ef4,_0x490995=document[_0x5d3583(0x7eb)]('confirm-game-start-modal');document[_0x5d3583(0x7eb)]('game-start-modal-title')[_0x5d3583(0xc95)]='เริ่มกิจกรรม:\x20'+_0x53de62,document[_0x5d3583(0x7eb)](_0x5d3583(0x230))[_0x5d3583(0x53d)]=_0x58f929,document[_0x5d3583(0x7eb)](_0x5d3583(0x394))['value']=_0x304608,document['getElementById'](_0x5d3583(0xc7d))['checked']=!![];const _0x54c64f=document[_0x5d3583(0x7eb)]('sync-variant-selector');_0x304608===_0x5d3583(0x3aa)?(_0x54c64f[_0x5d3583(0xc3c)][_0x5d3583(0x6f9)]('hidden'),document[_0x5d3583(0x6ea)](_0x5d3583(0xcb5))[_0x5d3583(0x5b1)]=!![]):_0x54c64f['classList']['add'](_0x5d3583(0xcb0)),_0x490995[_0x5d3583(0xc3c)]['remove']('hidden');}async function saveGameResultsAsSubmissions(_0x509875){const _0x5878d3=_0x473ef4;console[_0x5878d3(0xc55)](_0x5878d3(0x8b0),_0x509875);const _0x58ebd9=_0x509875['quizId'];let _0x1e19ba=[];if(_0x509875[_0x5878d3(0xaec)])_0x1e19ba=Object['entries'](_0x509875[_0x5878d3(0xaec)])[_0x5878d3(0xa3b)](([_0x3d4fc4,_0x171dcb])=>({'name':_0x3d4fc4,..._0x171dcb}));else{if(_0x509875[_0x5878d3(0xa4d)])Object[_0x5878d3(0x63a)](_0x509875[_0x5878d3(0xa4d)])[_0x5878d3(0xb15)](_0x5273ff=>{_0x5273ff['members']['forEach'](_0x39f2a0=>{const _0x2f8bc4=_0x2a86;_0x1e19ba[_0x2f8bc4(0x526)]({'name':_0x39f2a0,'score':_0x5273ff['score'],'answers':_0x5273ff[_0x2f8bc4(0xbba)]});});});else _0x509875[_0x5878d3(0x4d2)]&&Object[_0x5878d3(0xc98)](_0x509875[_0x5878d3(0x4d2)])[_0x5878d3(0xb15)](([_0x1488bf,_0x55d350])=>{const _0x1e2a21=_0x5878d3;_0x1e19ba[_0x1e2a21(0x526)]({'name':_0x1488bf,..._0x55d350});});}if(_0x1e19ba[_0x5878d3(0x373)]===0x0){console[_0x5878d3(0xc55)](_0x5878d3(0xa00));return;}const _0x4df2e3=_0x509875[_0x5878d3(0xd5d)]?.[_0x5878d3(0x3dd)][_0x5878d3(0x373)]||currentQuizData[_0x5878d3(0x3dd)][_0x5878d3(0x373)],_0xf9765f=writeBatch(db);for(const _0x50c032 of _0x1e19ba){const _0x555244=doc(db,'artifacts/'+appId+_0x5878d3(0x5d9)+_0x58ebd9+_0x5878d3(0xa06),_0x50c032['name']),_0x2a3f1c=(_0x50c032['answers']||[])[_0x5878d3(0x514)](_0x9a6787=>_0x9a6787[_0x5878d3(0x95d)])[_0x5878d3(0x373)];let _0x49edee=_0x2a3f1c;_0x509875[_0x5878d3(0x6ff)]&&_0x50c032[_0x5878d3(0xbba)]&&_0x50c032[_0x5878d3(0xbba)][_0x5878d3(0xb15)](_0x20b18a=>{const _0x25608d=_0x5878d3;if(_0x20b18a[_0x25608d(0x95d)]&&(_0x20b18a[_0x25608d(0xa16)]===!![]||_0x20b18a[_0x25608d(0xa16)]===_0x25608d(0x6a1)))_0x49edee+=0x1;else!_0x20b18a[_0x25608d(0x95d)]&&(_0x20b18a[_0x25608d(0xa16)]===!![]||_0x20b18a[_0x25608d(0xa16)]===_0x25608d(0x6a1))&&(_0x49edee-=0x1);});_0x4df2e3>0x0&&_0x2a3f1c===_0x4df2e3&&(_0x49edee+=0x1);const _0x2521bd={'score':_0x2a3f1c,'points':_0x49edee,'badges':_0x50c032[_0x5878d3(0x294)]||[],'submittedAt':new Date()[_0x5878d3(0xcb2)](),'answers':(_0x50c032[_0x5878d3(0xbba)]||[])[_0x5878d3(0xa3b)](_0x1cd5bc=>({'questionId':_0x1cd5bc[_0x5878d3(0xa87)],'answer':_0x1cd5bc['answer'],'answerText':_0x1cd5bc[_0x5878d3(0x9ae)],'isCorrect':_0x1cd5bc[_0x5878d3(0x95d)],'originalQuestionText':_0x1cd5bc[_0x5878d3(0x50e)],'wasConfident':_0x1cd5bc[_0x5878d3(0xa16)]}))},_0x4aff69=await getDoc(_0x555244),_0x4a9094=_0x4aff69['exists']()?_0x4aff69['data']():{},_0x595e7d=_0x4a9094['bestScore']||0x0,_0x4b6d09=_0x4a9094[_0x5878d3(0xa5a)]||[],_0x40a58b={'studentName':_0x50c032[_0x5878d3(0x65c)],'totalQuestions':_0x4df2e3,'attempts':arrayUnion(_0x2521bd),'latestScore':_0x2a3f1c,'points':_0x49edee,'latestSubmittedAt':_0x2521bd[_0x5878d3(0xce4)],'bestScore':Math[_0x5878d3(0xaea)](_0x595e7d,_0x2a3f1c),'firstScore':_0x4b6d09[_0x5878d3(0x373)]===0x0?_0x2a3f1c:_0x4a9094[_0x5878d3(0x9cf)]||0x0};_0xf9765f[_0x5878d3(0xcd8)](_0x555244,_0x40a58b,{'merge':!![]});}try{await _0xf9765f[_0x5878d3(0x5f4)](),showMessage(_0x5878d3(0xad0)+_0x1e19ba[_0x5878d3(0x373)]+_0x5878d3(0x52d));const _0x55dcde=_0x509875[_0x5878d3(0xd5d)]?.[_0x5878d3(0x3ba)]||currentQuizData?.[_0x5878d3(0x3ba)]||currentProjectId;if(_0x55dcde){const _0x2c7d21=[...new Set(_0x1e19ba[_0x5878d3(0xa3b)](_0x254d74=>_0x254d74[_0x5878d3(0x65c)]))];for(const _0x56a2fd of _0x2c7d21){await updateStudentProfile(_0x55dcde,_0x56a2fd);}}}catch(_0x1dc384){console['error'](_0x5878d3(0xc0c),_0x1dc384),showMessage(_0x5878d3(0x2ef));}}async function saveQuiz(_0x6db084=null,_0x245598=null){const _0x57b51e=_0x473ef4,_0x49244c=_0x6db084||currentProjectId;if(!_0x49244c){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0x57b51e(0x281));return;}const _0x4f8e6b=document[_0x57b51e(0x7eb)]('save-quiz-btn');_0x4f8e6b[_0x57b51e(0x744)]=!![],_0x4f8e6b[_0x57b51e(0xbec)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x5c3f16=document[_0x57b51e(0x7eb)](_0x57b51e(0xd4d))['checked'];let _0x21f659=document[_0x57b51e(0x7eb)](_0x57b51e(0x7cc))[_0x57b51e(0x8f2)]['trim']();_0x5c3f16&&!_0x21f659[_0x57b51e(0x46a)](_0x57b51e(0x6cf))&&(_0x21f659=_0x57b51e(0x7cf)+_0x21f659);try{const _0xc3b607={'resultsDisplay':document['getElementById'](_0x57b51e(0x6fa))[_0x57b51e(0x53d)],'shuffle':document[_0x57b51e(0x7eb)]('shuffle-setting-select')[_0x57b51e(0x53d)],'timerMode':document[_0x57b51e(0x7eb)]('timer-mode-select')[_0x57b51e(0x53d)],'timerDuration':parseInt(document['getElementById'](_0x57b51e(0xb36))[_0x57b51e(0x53d)])||0xa,'passingScore':parseInt(document[_0x57b51e(0x7eb)]('passing-score-input')['value'])||0x0,'isAdaptive':document[_0x57b51e(0x7eb)]('adaptive-quiz-checkbox')[_0x57b51e(0x5b1)],'loopUntilPass':document[_0x57b51e(0x7eb)](_0x57b51e(0x53b))[_0x57b51e(0x5b1)]},_0x2a71b2=(currentQuizData[_0x57b51e(0x3dd)]||[])[_0x57b51e(0xa3b)]((_0x1af3ec,_0x5a743f)=>{const _0x171716=_0x57b51e,_0x4be520=document['getElementById'](_0x171716(0x23b))[_0x171716(0x53d)],_0x58edf4={'id':'q_'+Date[_0x171716(0x823)]()+'_'+_0x5a743f,'questionText':_0x1af3ec[_0x171716(0x837)]||'','explanation':_0x1af3ec['explanation']||_0x171716(0xb91),'questionType':_0x1af3ec['questionType']||_0x4be520,'imageCode':_0x1af3ec[_0x171716(0x675)]||null};return(_0x58edf4[_0x171716(0x22d)]===_0x171716(0xcc0)||_0x58edf4['questionType']==='fill_in_with_choices'||_0x58edf4[_0x171716(0x22d)]===_0x171716(0x6e6)&&_0x1af3ec[_0x171716(0x745)])&&(_0x58edf4[_0x171716(0x745)]=_0x1af3ec['options']||[],_0x58edf4[_0x171716(0xb8c)]=_0x1af3ec[_0x171716(0xb8c)]!==undefined?_0x1af3ec[_0x171716(0xb8c)]:0x0),(_0x58edf4[_0x171716(0x22d)]===_0x171716(0x314)||_0x58edf4[_0x171716(0x22d)]===_0x171716(0x2b7)||_0x58edf4['questionType']==='mixed'&&_0x1af3ec[_0x171716(0x8f5)])&&(_0x58edf4[_0x171716(0x8f5)]=_0x1af3ec[_0x171716(0x8f5)]||''),_0x58edf4['questionType']==='true_false'&&(_0x58edf4[_0x171716(0x8ae)]=_0x1af3ec[_0x171716(0x8ae)]===!![]),_0x58edf4[_0x171716(0x22d)]===_0x171716(0xac9)&&(_0x58edf4[_0x171716(0xd03)]=_0x1af3ec[_0x171716(0xd03)]||'',_0x58edf4[_0x171716(0xc73)]=_0x1af3ec[_0x171716(0xc73)]||'',_0x58edf4[_0x171716(0x938)]=_0x1af3ec[_0x171716(0x938)]||[]),_0x58edf4;}),_0x5c3108={'topic':_0x21f659,'quizType':currentQuizData[_0x57b51e(0x3d3)]||_0x57b51e(0xcc0),'questions':_0x2a71b2,'projectId':_0x49244c,'createdBy':userId,'createdAt':new Date()[_0x57b51e(0xcb2)](),'status':_0x57b51e(0x3a5),'settings':_0xc3b607,'quizMode':_0x5c3f16?_0x57b51e(0x467):'standard','pairedQuizId':null,'lessonPlan':null};let _0x1cc61a;while(!![]){_0x1cc61a=Math[_0x57b51e(0x8a0)](0x3e8+Math['random']()*0x2328)[_0x57b51e(0xc07)]();const _0x1263f=await getDoc(doc(db,_0x57b51e(0x41a)+appId+_0x57b51e(0x3c1),_0x1cc61a));if(!_0x1263f[_0x57b51e(0x931)]())break;}await setDoc(doc(db,_0x57b51e(0x41a)+appId+_0x57b51e(0x3c1),_0x1cc61a),_0x5c3108);if(_0x245598&&currentBlueprintProjectId){console[_0x57b51e(0xc55)](_0x57b51e(0x578)+_0x1cc61a+_0x57b51e(0xd26)+_0x245598);try{const _0x5ad9d1=doc(db,_0x57b51e(0x41a)+appId+_0x57b51e(0x408),currentBlueprintProjectId);await updateDoc(_0x5ad9d1,{[_0x57b51e(0xc0d)+_0x245598+_0x57b51e(0xc7b)]:arrayUnion(_0x1cc61a)});}catch(_0x18931e){console[_0x57b51e(0x2b8)](_0x57b51e(0x516),_0x18931e);}}currentQuizData['settings']=_0xc3b607,currentQuizData['id']=_0x1cc61a;const _0x1d9423=document['getElementById'](_0x57b51e(0xbfc));_0x1d9423[_0x57b51e(0xbec)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>'+_0x1cc61a+_0x57b51e(0x246),document['getElementById'](_0x57b51e(0xc85))['addEventListener']('click',()=>copyTextToClipboard(_0x1cc61a,_0x57b51e(0x201))),document[_0x57b51e(0x7eb)](_0x57b51e(0xcfe))['addEventListener']('click',()=>handleStartLiveRace(_0x1cc61a)),document[_0x57b51e(0x7eb)](_0x57b51e(0xd3a))[_0x57b51e(0x5e6)](_0x57b51e(0x732),()=>startPresentation(currentQuizData)),document['getElementById'](_0x57b51e(0x212))[_0x57b51e(0x5e6)](_0x57b51e(0x732),startAdminTest),showMessage('บันทึกแบบทดสอบสำเร็จแล้ว!');}catch(_0x381692){console['error'](_0x57b51e(0x9bf),_0x381692),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ');}finally{_0x4f8e6b['disabled']=![],_0x4f8e6b[_0x57b51e(0xbec)]=_0x57b51e(0x226);}}function promptForProjectAndSave(){const _0x8b2674=_0x473ef4,_0x3fa14b=document['getElementById'](_0x8b2674(0xd75)),_0x118874=document[_0x8b2674(0x7eb)](_0x8b2674(0x2b1)),_0x5a2fb0=_0x3fa14b[_0x8b2674(0x6ea)]('h3'),_0x5cd706=document['getElementById'](_0x8b2674(0x247));_0x5a2fb0[_0x8b2674(0xc95)]=_0x8b2674(0x327),_0x5cd706[_0x8b2674(0xc95)]=_0x8b2674(0x370);allProjects[_0x8b2674(0x373)]===0x0?(_0x118874['innerHTML']='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0x5cd706[_0x8b2674(0x744)]=!![]):(_0x118874[_0x8b2674(0xbec)]=allProjects[_0x8b2674(0xa3b)](_0x4621d4=>'<option\x20value=\x22'+_0x4621d4['id']+'\x22>'+_0x4621d4[_0x8b2674(0x29c)]+'</option>')[_0x8b2674(0xaa2)](''),_0x5cd706[_0x8b2674(0x744)]=![]);_0x3fa14b[_0x8b2674(0xc3c)]['remove'](_0x8b2674(0xcb0));const _0x4d9da7=()=>{const _0x521665=_0x8b2674,_0x5842c5=_0x118874[_0x521665(0x53d)];_0x5842c5?(currentProjectId=_0x5842c5,_0x3fa14b[_0x521665(0xc3c)][_0x521665(0x4ad)]('hidden'),saveQuiz(),_0x5a2fb0['textContent']=_0x521665(0x3e0),_0x5cd706[_0x521665(0xc95)]=_0x521665(0xc94),_0x5cd706[_0x521665(0x39d)]('click',_0x4d9da7),_0x5cd706[_0x521665(0x5e6)]('click',confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0x5cd706['removeEventListener'](_0x8b2674(0x732),confirmMoveQuiz),_0x5cd706['addEventListener']('click',_0x4d9da7);}function copyTextToClipboard(_0x4661b6,_0x4fe4dd){const _0x4e27dc=_0x473ef4,_0x67f6ef=document[_0x4e27dc(0x855)](_0x4e27dc(0x78b));_0x67f6ef['value']=_0x4661b6,_0x67f6ef[_0x4e27dc(0xd84)][_0x4e27dc(0x27a)]=_0x4e27dc(0x208),_0x67f6ef[_0x4e27dc(0xd84)][_0x4e27dc(0x66e)]='0',document[_0x4e27dc(0x5d5)][_0x4e27dc(0xae3)](_0x67f6ef),_0x67f6ef[_0x4e27dc(0x86f)](),_0x67f6ef['select']();try{const _0x4ad454=document[_0x4e27dc(0x983)](_0x4e27dc(0x345));showMessage(_0x4ad454?_0x4fe4dd:'คัดลอกไม่สำเร็จ');}catch(_0x53c507){showMessage(_0x4e27dc(0x5f7)),console['error']('Copy\x20command\x20failed',_0x53c507);}document[_0x4e27dc(0x5d5)]['removeChild'](_0x67f6ef);}function listenForProjectQuizzes(_0x423d0a){const _0x18491f=_0x473ef4,_0xd38d01=collection(db,'artifacts/'+appId+'/public/data/quizzes'),_0x21a108=query(_0xd38d01,where(_0x18491f(0x3ba),'==',_0x423d0a));unsubscribeQuizzesListener=onSnapshot(_0x21a108,async _0x4b8485=>{const _0x3bd28e=_0x18491f;allQuizzes=_0x4b8485['docs'][_0x3bd28e(0xa3b)](_0x117ed1=>({'id':_0x117ed1['id'],..._0x117ed1[_0x3bd28e(0x1e4)]()})),renderQuizzes();},_0x24dc73=>{const _0x50d8b3=_0x18491f;console[_0x50d8b3(0x2b8)](_0x50d8b3(0x628),_0x24dc73),document[_0x50d8b3(0x7eb)]('project-quizzes-list')[_0x50d8b3(0xbec)]=_0x50d8b3(0x1d2);});}async function renderQuizzes(){const _0x452117=_0x473ef4,_0x57f2ef=document[_0x452117(0x7eb)]('project-quizzes-list'),_0x31247e=document[_0x452117(0x7eb)]('quiz-search-input')[_0x452117(0x53d)][_0x452117(0x9f4)]();let _0x3a76ca;currentProjectId===_0x452117(0x570)?_0x3a76ca=starredQuizzes:_0x3a76ca=allQuizzes;let _0x1eec95=_0x3a76ca[_0x452117(0x514)](_0x5625ba=>_0x5625ba[_0x452117(0x2d8)][_0x452117(0x9f4)]()[_0x452117(0x3b1)](_0x31247e));_0x1eec95[_0x452117(0x4af)]((_0x1d179e,_0x15c7ea)=>new Date(_0x15c7ea[_0x452117(0x7ed)])-new Date(_0x1d179e[_0x452117(0x7ed)]));if(_0x1eec95[_0x452117(0x373)]===0x0){_0x57f2ef['innerHTML']='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x45cfdb={},_0x3955de=_0x1eec95['map'](async _0x23248f=>{const _0xa7e466=_0x452117,_0xdbdb82=collection(db,_0xa7e466(0x41a)+appId+'/public/data/quizzes/'+_0x23248f['id']+_0xa7e466(0xa06)),_0x23e492=await getDocs(_0xdbdb82);_0x45cfdb[_0x23248f['id']]=_0x23e492['size'];});await Promise[_0x452117(0x61c)](_0x3955de);let _0xd4d7d9='';_0x1eec95['forEach'](_0x4ed2d6=>{const _0x513706=_0x452117,_0x84aa23=_0x45cfdb[_0x4ed2d6['id']]||0x0,_0x4edf80=_0x4ed2d6[_0x513706(0x996)]||_0x513706(0x3a5),_0xec2df3=_0x4ed2d6[_0x513706(0xb37)]?.['timerMode']||_0x513706(0x2bc);let _0x1e83b8='',_0x3de767='';const _0x4a92a2=new Date();let _0x1c80f0=_0x4edf80;if(_0x4edf80===_0x513706(0x592)){const _0x50fb29=_0x4ed2d6['startTime']?new Date(_0x4ed2d6[_0x513706(0xc9c)]):null,_0x3723ed=_0x4ed2d6['endTime']?new Date(_0x4ed2d6['endTime']):null;if(_0x3723ed&&_0x4a92a2>_0x3723ed)_0x1c80f0=_0x513706(0x7db);else _0x50fb29&&_0x4a92a2<_0x50fb29?_0x1c80f0='scheduled_pending':_0x1c80f0='active';}switch(_0x1c80f0){case _0x513706(0x7db):_0x1e83b8=_0x513706(0x88a),_0x3de767=_0x513706(0xad7);break;case _0x513706(0x22e):_0x1e83b8=_0x513706(0x636),_0x3de767='text-blue-700\x20bg-blue-100';break;case'active':_0x1e83b8=_0xec2df3!==_0x513706(0x2bc)?'เปิด\x20(จับเวลา)':'เปิดใช้งาน',_0x3de767=_0x513706(0x2e5);break;default:_0x1e83b8=_0x513706(0xa0a),_0x3de767=_0x513706(0x2e5);break;}let _0x1bf974='';const _0xd630ae={'day':'2-digit','month':_0x513706(0xbe9),'year':_0x513706(0x25f),'hour':_0x513706(0xbe9),'minute':'2-digit','hour12':![]};if(_0x4edf80===_0x513706(0x592)){if(_0x4ed2d6[_0x513706(0xc9c)])_0x1bf974+=_0x513706(0x646)+new Date(_0x4ed2d6[_0x513706(0xc9c)])[_0x513706(0x255)]('th-TH',_0xd630ae)+_0x513706(0xc65);if(_0x4ed2d6['endTime'])_0x1bf974+=_0x513706(0xac1)+new Date(_0x4ed2d6[_0x513706(0x6d9)])[_0x513706(0x255)](_0x513706(0x42d),_0xd630ae)+_0x513706(0xc65);}let _0x13f4c5='';if(_0x4ed2d6['pairedQuizId']){const _0x43bb9d=allQuizzes[_0x513706(0x712)](_0x3118b1=>_0x3118b1['id']===_0x4ed2d6[_0x513706(0xaa7)]);if(_0x43bb9d){let _0xabc883,_0x3aada9;new Date(_0x4ed2d6[_0x513706(0x7ed)])<new Date(_0x43bb9d[_0x513706(0x7ed)])?(_0xabc883=_0x4ed2d6['id'],_0x3aada9=_0x43bb9d['id']):(_0xabc883=_0x43bb9d['id'],_0x3aada9=_0x4ed2d6['id']),_0x13f4c5+=_0x513706(0xcd1)+_0x3aada9+'\x22\x20data-pre-test-id=\x22'+_0xabc883+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else _0x4ed2d6[_0x513706(0x204)]===_0x513706(0x467)&&(_0x13f4c5+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4ed2d6['id']+_0x513706(0x538));if(_0x4ed2d6[_0x513706(0x204)]==='pre-test'&&_0x84aa23>0x0)_0x13f4c5+=_0x513706(0x943)+_0x4ed2d6['id']+_0x513706(0x5b0);else!_0x4ed2d6[_0x513706(0xaa7)]&&_0x4ed2d6[_0x513706(0x204)]!==_0x513706(0x467)&&_0x84aa23>0x0&&(_0x13f4c5+=_0x513706(0x943)+_0x4ed2d6['id']+_0x513706(0x9aa));let _0x4c8afd='';_0x4ed2d6['pairedQuizId']?_0x4c8afd=_0x513706(0x2bf)+_0x4ed2d6['id']+_0x513706(0xb22):_0x4c8afd=_0x513706(0x2bf)+_0x4ed2d6['id']+_0x513706(0x1d4),_0xd4d7d9+=_0x513706(0xa7d)+_0x4ed2d6['id']+_0x513706(0x5ff)+_0x4ed2d6[_0x513706(0x2d8)]+_0x513706(0x496)+_0x4ed2d6[_0x513706(0x3dd)][_0x513706(0x373)]+_0x513706(0xaf0)+new Date(_0x4ed2d6[_0x513706(0x7ed)])['toLocaleString'](_0x513706(0x42d))+_0x513706(0x9dd)+_0x84aa23+_0x513706(0x57b)+_0x1bf974+_0x513706(0xa4b)+_0x3de767+'\x22>'+_0x1e83b8+_0x513706(0xb6c)+_0x4ed2d6['id']+'\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4ed2d6['id']+_0x513706(0xa01)+(_0x4ed2d6[_0x513706(0x92a)]?_0x513706(0x43c):_0x513706(0x283))+_0x513706(0x5cc)+_0x13f4c5+_0x513706(0x8b7)+_0x4ed2d6['id']+_0x513706(0x42c)+_0x4ed2d6['id']+_0x513706(0xa52)+_0x4ed2d6['id']+_0x513706(0xaee)+_0x4ed2d6['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4ed2d6['id']+_0x513706(0xb7d)+_0x4ed2d6['id']+_0x513706(0xc5e)+_0x4ed2d6['id']+_0x513706(0x7f7)+_0x4ed2d6[_0x513706(0x2d8)]+_0x513706(0x5b8)+_0x4ed2d6['id']+_0x513706(0xc27)+_0x4ed2d6['id']+_0x513706(0x353)+_0x4c8afd+_0x513706(0x93a)+_0x4ed2d6['id']+_0x513706(0x737)+_0x4ed2d6['id']+_0x513706(0x3f7)+_0x4ed2d6['id']+_0x513706(0x284)+_0x4ed2d6['id']+_0x513706(0x805)+_0x4ed2d6['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x4ed2d6['id']+_0x513706(0x478)+_0x4ed2d6['id']+_0x513706(0x7e7)+_0x4ed2d6['id']+_0x513706(0x7f7)+_0x4ed2d6[_0x513706(0x2d8)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22'+_0x4ed2d6['id']+_0x513706(0x6be);}),_0x57f2ef[_0x452117(0xbec)]=_0xd4d7d9,document['querySelectorAll'](_0x452117(0xc87))[_0x452117(0xb15)](_0xce474e=>{const _0x5d937c=_0x452117;_0xce474e[_0x5d937c(0x5e6)](_0x5d937c(0x732),()=>{const _0x28fb89=_0x5d937c,_0x5bd1e2=_0xce474e[_0x28fb89(0x6e9)][_0x28fb89(0xd20)];showQuizDetailView(_0x5bd1e2);});});}async function handleUnpairQuiz(_0x582b62){const _0x3f1312=_0x473ef4,_0x1a2c36=allQuizzes['find'](_0x17fad6=>_0x17fad6['id']===_0x582b62);if(!_0x1a2c36||!_0x1a2c36[_0x3f1312(0xaa7)]){showMessage(_0x3f1312(0x423));return;}showConfirmation(_0x3f1312(0x914),async()=>{const _0xa51c12=_0x3f1312;try{const _0x33407b=doc(db,_0xa51c12(0x41a)+appId+_0xa51c12(0x3c1),_0x582b62),_0x3dd9fd=doc(db,_0xa51c12(0x41a)+appId+_0xa51c12(0x3c1),_0x1a2c36[_0xa51c12(0xaa7)]),_0x4ec212=writeBatch(db);_0x4ec212[_0xa51c12(0x94d)](_0x33407b,{'pairedQuizId':null}),_0x4ec212['update'](_0x3dd9fd,{'pairedQuizId':null}),await _0x4ec212[_0xa51c12(0x5f4)](),showMessage(_0xa51c12(0xbbd));}catch(_0x17547a){console['error'](_0xa51c12(0x251),_0x17547a),showMessage(_0xa51c12(0xae9));}});}function formatAndPrintLessonPlan(_0x3fce81,_0x27833f){const _0x58c586=_0x473ef4,_0x5457f6=window[_0x58c586(0x666)]('',_0x58c586(0x5d1)),_0x5abc81=_0x58c586(0x4cc)+_0x27833f[_0x58c586(0x2d8)]+_0x58c586(0x2a4)+_0x27833f[_0x58c586(0x2d8)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3fce81[_0x58c586(0xc7c)][_0x58c586(0xa3b)](_0x25ce60=>'<li>'+_0x25ce60+_0x58c586(0x216))['join']('')+_0x58c586(0x23f)+_0x3fce81[_0x58c586(0x2e7)]+_0x58c586(0x1f2)+_0x3fce81[_0x58c586(0x260)]['map'](_0x151336=>_0x58c586(0x699)+_0x151336[_0x58c586(0x428)]+_0x58c586(0xd1d)+_0x151336[_0x58c586(0xb51)]+_0x58c586(0x634))[_0x58c586(0xaa2)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x5457f6['document'][_0x58c586(0x754)](_0x5abc81),_0x5457f6[_0x58c586(0xd6d)]['close'](),_0x5457f6[_0x58c586(0x8d0)]=function(){setTimeout(()=>{const _0x17e422=_0x2a86;_0x5457f6[_0x17e422(0x3ca)]();},0x3e8);};}async function handleAiFixFormula(_0x32aa2d){const _0x333309=_0x473ef4,_0x188ed8=document[_0x333309(0x6ea)](_0x333309(0x2ea)+_0x32aa2d+'\x22]');if(!_0x188ed8)return;const _0x4a6bbf=_0x188ed8[_0x333309(0x6e9)]['qType'],_0x20f768=_0x188ed8[_0x333309(0x6ea)](_0x333309(0xbaf));let _0x4a4761={'question':_0x188ed8[_0x333309(0x6ea)]('textarea')[_0x333309(0x53d)]};switch(_0x4a6bbf){case'multiple_choice':_0x4a4761[_0x333309(0x745)]=Array[_0x333309(0x71b)](_0x188ed8[_0x333309(0x89b)](_0x333309(0x62e)))[_0x333309(0xa3b)](_0x171b4d=>_0x171b4d['value']);break;case _0x333309(0x314):_0x4a4761[_0x333309(0x8f5)]=_0x188ed8['querySelector'](_0x333309(0xb68))[_0x333309(0x53d)];break;case _0x333309(0xac9):_0x4a4761[_0x333309(0xc73)]=_0x188ed8[_0x333309(0x6ea)](_0x333309(0x7a4))[_0x333309(0x53d)];break;}_0x20f768[_0x333309(0xbec)]=_0x333309(0xc41),_0x20f768[_0x333309(0x744)]=!![];try{const _0x2493c2=_0x333309(0x757)+JSON[_0x333309(0x36f)](_0x4a4761)+_0x333309(0x77e),_0x3333bd={'type':'OBJECT','properties':{'fixedData':{'type':'OBJECT','properties':{'question':{'type':_0x333309(0x4ed)},'options':{'type':_0x333309(0x440),'items':{'type':_0x333309(0x4ed)}},'idealAnswer':{'type':_0x333309(0x4ed)},'correctResponse':{'type':'STRING'}},'required':['question']}},'required':[_0x333309(0xa8a)]},_0x4c5455=await callAnalysisApi(_0x2493c2,_0x3333bd);if(_0x4c5455&&_0x4c5455[_0x333309(0xa8a)]){const _0x3b063e=_0x4c5455['fixedData'];_0x188ed8[_0x333309(0x6ea)](_0x333309(0x78b))[_0x333309(0x53d)]=_0x3b063e[_0x333309(0x428)]||_0x4a4761[_0x333309(0x428)];switch(_0x4a6bbf){case _0x333309(0xcc0):_0x3b063e[_0x333309(0x745)]&&_0x3b063e[_0x333309(0x745)][_0x333309(0x373)]>0x0&&_0x188ed8[_0x333309(0x89b)]('input[type=\x22text\x22]')[_0x333309(0xb15)]((_0x36bece,_0x312555)=>{const _0x2e8cc0=_0x333309;_0x36bece[_0x2e8cc0(0x53d)]=_0x3b063e[_0x2e8cc0(0x745)][_0x312555]||_0x4a4761[_0x2e8cc0(0x745)][_0x312555];});break;case _0x333309(0x314):_0x188ed8[_0x333309(0x6ea)](_0x333309(0xb68))[_0x333309(0x53d)]=_0x3b063e[_0x333309(0x8f5)]||_0x4a4761[_0x333309(0x8f5)];break;case _0x333309(0xac9):_0x188ed8[_0x333309(0x6ea)](_0x333309(0x7a4))[_0x333309(0x53d)]=_0x3b063e[_0x333309(0xc73)]||_0x4a4761[_0x333309(0xc73)];break;}if(_0x4a4761[_0x333309(0x428)]!==_0x3b063e[_0x333309(0x428)])try{const _0x4c2604=collection(db,_0x333309(0x41a)+appId+_0x333309(0x743));await addDoc(_0x4c2604,{'broken':_0x4a4761[_0x333309(0x428)],'fixed':_0x3b063e[_0x333309(0x428)],'createdAt':serverTimestamp()});}catch(_0x1829c1){console[_0x333309(0x2b8)]('ไม่สามารถบันทึกรูปแบบการแก้ไขได้:',_0x1829c1);}showMessage(_0x333309(0x74e));}else throw new Error('AI\x20ไม่สามารถประมวลผลข้อมูลได้');}catch(_0x1943d2){console[_0x333309(0x2b8)]('AI\x20Formula\x20Fix\x20Error:',_0x1943d2),showMessage(_0x333309(0x21e));}finally{_0x20f768[_0x333309(0xbec)]=_0x333309(0x4e2),_0x20f768[_0x333309(0x744)]=![];}}async function handleGenerateLessonPlan(_0x30c80f){const _0x4c9a61=_0x473ef4;showMessage(_0x4c9a61(0x83e));try{const _0x53dbcb=doc(db,_0x4c9a61(0x41a)+appId+_0x4c9a61(0x3c1),_0x30c80f),_0xe7b5e9=await getDoc(_0x53dbcb);if(!_0xe7b5e9[_0x4c9a61(0x931)]())throw new Error(_0x4c9a61(0xa24));const _0x3b8094={'id':_0x30c80f,..._0xe7b5e9[_0x4c9a61(0x1e4)]()},_0xf74be3=collection(db,'artifacts/'+appId+_0x4c9a61(0x3c1),_0x30c80f,'submissions'),_0x1ceefe=await getDocs(_0xf74be3),_0x262c2e=_0x1ceefe['docs'][_0x4c9a61(0xa3b)](_0x10e4f6=>_0x10e4f6[_0x4c9a61(0x1e4)]());if(_0x262c2e[_0x4c9a61(0x373)]===0x0)throw new Error(_0x4c9a61(0xbc7));const _0x301778=calculateItemAnalysis(_0x3b8094,_0x262c2e)[_0x4c9a61(0x20b)],_0x292e62=calculateDistractorAnalysis(_0x3b8094,_0x262c2e),_0x5da044=_0x5a3af9=>{if(!_0x5a3af9)return'';return _0x5a3af9['replace'](/\\/g,'\x5c\x5c')['replace'](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x262ceb='สรุปผลการวิเคราะห์:\x5cn';_0x3b8094['questions']['forEach']((_0x26fa9d,_0x145569)=>{const _0x204bad=_0x4c9a61,_0x7bdacd=_0x301778[_0x145569]?.['p'][_0x204bad(0xac3)](0x2)||_0x204bad(0xd1a),_0x2df3fa=_0x301778[_0x145569]?.['r'][_0x204bad(0xac3)](0x2)||_0x204bad(0xd1a),_0x467425=_0x5da044(_0x26fa9d[_0x204bad(0x837)]||_0x26fa9d['stem']);_0x262ceb+=_0x204bad(0x697)+(_0x145569+0x1)+_0x204bad(0x376)+_0x7bdacd+_0x204bad(0x967)+_0x2df3fa+_0x204bad(0xb5c)+_0x467425+'\x5cn';if(_0x26fa9d[_0x204bad(0x22d)]===_0x204bad(0xcc0)&&_0x292e62[_0x145569]){const _0x3cc2e3=_0x292e62[_0x145569],_0x28440d=Object[_0x204bad(0x6e0)](_0x3cc2e3)[_0x204bad(0x514)](_0x602f81=>parseInt(_0x602f81)!==_0x26fa9d[_0x204bad(0xb8c)])['sort']((_0x2679e6,_0xc8cf2b)=>_0x3cc2e3[_0xc8cf2b][_0x204bad(0x637)]-_0x3cc2e3[_0x2679e6]['total'])[0x0];if(_0x28440d&&_0x3cc2e3[_0x28440d][_0x204bad(0x637)]>0x0){const _0x5c69e4=_0x5da044(_0x3cc2e3[_0x28440d][_0x204bad(0x2b3)]);_0x262ceb+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x5c69e4+_0x204bad(0x836);}}});const _0x12b33b=_0x4c9a61(0x984)+_0x3b8094[_0x4c9a61(0x2d8)]+'\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x262ceb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x4ff959={'type':'OBJECT','properties':{'learningGaps':{'type':_0x4c9a61(0x440),'items':{'type':_0x4c9a61(0x4ed)}},'teachingContent':{'type':_0x4c9a61(0x4ed)},'practiceProblems':{'type':_0x4c9a61(0x440),'items':{'type':_0x4c9a61(0x7b6),'properties':{'question':{'type':_0x4c9a61(0x4ed)},'solution':{'type':_0x4c9a61(0x4ed)}}}}},'required':['learningGaps',_0x4c9a61(0x2e7),_0x4c9a61(0x260)]},_0x2ba2ac=await callAnalysisApi(_0x12b33b,_0x4ff959);await updateDoc(_0x53dbcb,{'lessonPlan':_0x2ba2ac});const _0xde9033=_0x4c9a61(0x568)+_0x3b8094[_0x4c9a61(0x2d8)]+_0x4c9a61(0x957)+_0x2ba2ac['learningGaps']['map'](_0x49d2e0=>_0x4c9a61(0x504)+_0x49d2e0+_0x4c9a61(0x216))[_0x4c9a61(0xaa2)]('')+_0x4c9a61(0x278)+_0x2ba2ac['teachingContent']+_0x4c9a61(0x8ec)+_0x2ba2ac[_0x4c9a61(0x260)][_0x4c9a61(0xa3b)](_0x35e9ef=>_0x4c9a61(0x3be)+_0x35e9ef['question']+_0x4c9a61(0x1d7)+_0x35e9ef[_0x4c9a61(0xb51)]+_0x4c9a61(0x956))[_0x4c9a61(0xaa2)]('')+_0x4c9a61(0xcf6);document[_0x4c9a61(0x7eb)](_0x4c9a61(0x56b))[_0x4c9a61(0xc95)]=_0x4c9a61(0x937)+_0x3b8094[_0x4c9a61(0x2d8)],document[_0x4c9a61(0x7eb)](_0x4c9a61(0x720))[_0x4c9a61(0xbec)]=_0xde9033,document[_0x4c9a61(0x7eb)](_0x4c9a61(0x6f6))[_0x4c9a61(0xc3c)]['remove'](_0x4c9a61(0xcb0));if(window[_0x4c9a61(0x5f9)])MathJax[_0x4c9a61(0x93d)]();messageModal[_0x4c9a61(0xc3c)][_0x4c9a61(0x4ad)]('hidden');}catch(_0x38766c){console[_0x4c9a61(0x2b8)](_0x4c9a61(0x535),_0x38766c),showMessage(_0x4c9a61(0xc13)+_0x38766c['message']);}}async function handleDuplicateQuiz(_0x4bdce2){const _0x4311f3=_0x473ef4;try{const _0x47d224=doc(db,_0x4311f3(0x41a)+appId+'/public/data/quizzes',_0x4bdce2),_0x321f92=await getDoc(_0x47d224);if(_0x321f92['exists']()){const _0x37414e=_0x321f92[_0x4311f3(0x1e4)]();let _0x57db55='',_0x4e2b11=_0x4311f3(0x849),_0x28d140=null;if(_0x37414e[_0x4311f3(0x204)]===_0x4311f3(0x467)){let _0x46b1fa=_0x37414e[_0x4311f3(0x2d8)][_0x4311f3(0x7bd)]('(ก่อนเรียน)','')['trim']();_0x57db55='(หลังเรียน)\x20'+_0x46b1fa,_0x4e2b11=_0x4311f3(0x4bb),_0x28d140=_0x4bdce2;}else _0x57db55='(คัดลอก)\x20'+_0x37414e[_0x4311f3(0x2d8)];const _0x229f5d={..._0x37414e,'topic':_0x57db55,'createdAt':new Date()[_0x4311f3(0xcb2)](),'quizMode':_0x4e2b11,'pairedQuizId':_0x28d140};let _0x4a09c0;while(!![]){_0x4a09c0=Math[_0x4311f3(0x8a0)](0x3e8+Math[_0x4311f3(0x970)]()*0x2328)[_0x4311f3(0xc07)]();const _0x2d5648=await getDoc(doc(db,_0x4311f3(0x41a)+appId+_0x4311f3(0x3c1),_0x4a09c0));if(!_0x2d5648[_0x4311f3(0x931)]())break;}const _0x2bb87b=doc(db,_0x4311f3(0x41a)+appId+_0x4311f3(0x3c1),_0x4a09c0);await setDoc(_0x2bb87b,_0x229f5d),_0x229f5d[_0x4311f3(0x204)]==='post-test'&&await updateDoc(_0x47d224,{'pairedQuizId':_0x4a09c0}),showMessage(_0x4311f3(0x32c));}else throw new Error(_0x4311f3(0xced));}catch(_0x115c1f){console[_0x4311f3(0x2b8)]('Error\x20duplicating\x20quiz:',_0x115c1f),showMessage(_0x4311f3(0xb65));}}async function handleDeleteQuiz(_0xc9bb3a,_0x390237=!![]){const _0x43f7e8=_0x473ef4;try{const _0x287181=writeBatch(db),_0x118d89=collection(db,_0x43f7e8(0x41a)+appId+_0x43f7e8(0x5d9)+_0xc9bb3a+'/submissions'),_0x49d24f=await getDocs(_0x118d89);_0x49d24f[_0x43f7e8(0xb15)](_0x1170bd=>{_0x287181['delete'](doc(_0x118d89,_0x1170bd['id']));});const _0x16f1f0=doc(db,_0x43f7e8(0x41a)+appId+_0x43f7e8(0x3c1),_0xc9bb3a);_0x287181[_0x43f7e8(0x4cf)](_0x16f1f0),await _0x287181[_0x43f7e8(0x5f4)]();try{console[_0x43f7e8(0xc55)](_0x43f7e8(0xce3)+_0xc9bb3a+_0x43f7e8(0x40b));const _0x20474a=collection(db,_0x43f7e8(0x41a)+appId+_0x43f7e8(0x408)),_0x1d3947=await getDocs(_0x20474a),_0x31a812=[];_0x1d3947[_0x43f7e8(0xb15)](_0x56f319=>{const _0x40de12=_0x43f7e8,_0x13e7c4=_0x56f319[_0x40de12(0x1e4)](),_0x2c5b1c=_0x13e7c4[_0x40de12(0xc52)]||{};let _0x315b68=![];for(const _0x32a8e9 in _0x2c5b1c){const _0x51f18d=_0x2c5b1c[_0x32a8e9];if(_0x51f18d[_0x40de12(0xd81)]&&_0x51f18d[_0x40de12(0xd81)][_0x40de12(0x3b1)](_0xc9bb3a)){_0x315b68=!![];const _0x4223f8=doc(db,_0x40de12(0x41a)+appId+'/public/data/blueprintProjects',_0x56f319['id']),_0x14d280=updateDoc(_0x4223f8,{[_0x40de12(0xc0d)+_0x32a8e9+_0x40de12(0xc7b)]:arrayRemove(_0xc9bb3a)});_0x31a812[_0x40de12(0x526)](_0x14d280);}}}),_0x31a812[_0x43f7e8(0x373)]>0x0&&(await Promise[_0x43f7e8(0x61c)](_0x31a812),console['log']('Successfully\x20removed\x20'+_0x31a812[_0x43f7e8(0x373)]+_0x43f7e8(0x91d)+_0xc9bb3a+'.'));}catch(_0x33daf5){console[_0x43f7e8(0x2b8)]('Error\x20during\x20blueprint\x20link\x20cleanup:',_0x33daf5);}_0x390237&&showMessage(_0x43f7e8(0x49d));}catch(_0xcc49b8){console[_0x43f7e8(0x2b8)]('Error\x20deleting\x20quiz:',_0xcc49b8),_0x390237&&showMessage(_0x43f7e8(0x86c));}}async function showQuizDetailView(_0x55affa){const _0x18424f=_0x473ef4;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x18424f(0x8cb));try{const _0x96e271=doc(db,_0x18424f(0x41a)+appId+_0x18424f(0x3c1),_0x55affa),_0x3e4905=await getDoc(_0x96e271);if(!_0x3e4905['exists']()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}const _0x52829a={'id':_0x3e4905['id'],..._0x3e4905[_0x18424f(0x1e4)]()};currentQuizData=_0x52829a;const _0x36459e=doc(db,_0x18424f(0x41a)+appId+_0x18424f(0xd51),_0x52829a[_0x18424f(0x3ba)]),_0x38dfc3=await getDoc(_0x36459e);_0x38dfc3[_0x18424f(0x931)]()?(currentProjectData=_0x38dfc3[_0x18424f(0x1e4)](),currentProjectId=_0x52829a[_0x18424f(0x3ba)]):(currentProjectData={'students':[]},currentProjectId=_0x52829a[_0x18424f(0x3ba)]);document['getElementById'](_0x18424f(0x368))['textContent']=_0x52829a['topic'],document[_0x18424f(0x7eb)]('results-quiz-id-display')[_0x18424f(0xc95)]=_0x55affa;const _0x59934e=collection(db,_0x18424f(0x41a)+appId+_0x18424f(0x3c1),_0x55affa,_0x18424f(0x541));unsubscribeSubmissionsListener=onSnapshot(_0x59934e,_0x502e70=>{const _0x23f4d5=_0x18424f,_0x5ed061=_0x502e70[_0x23f4d5(0x48b)][_0x23f4d5(0xa3b)](_0x2a3757=>({'id':_0x2a3757['id'],..._0x2a3757[_0x23f4d5(0x1e4)]()}));currentSubmissions=_0x5ed061;const _0x345f04=_0x5ed061[_0x23f4d5(0x514)](_0x5caa17=>_0x5caa17[_0x23f4d5(0xa5a)]&&_0x5caa17[_0x23f4d5(0xa5a)][_0x23f4d5(0x373)]>0x0);renderBehaviorLog(_0x5ed061),renderAnswerGrid(currentProjectData['students'],_0x345f04,_0x52829a),renderAnalytics(_0x52829a,_0x345f04),renderQuizResultsTable(currentProjectData[_0x23f4d5(0x55a)],_0x5ed061,_0x52829a),renderQuizLeaderboard(_0x345f04,_0x52829a,_0x23f4d5(0x881));}),showView(_0x18424f(0x442));}catch(_0x2f4d3e){console[_0x18424f(0x2b8)](_0x18424f(0x886),_0x2f4d3e),showMessage(_0x18424f(0x99f));}}function renderAnswerGrid(_0x1c9559,_0x39d5cf,_0x88718d){const _0x200db5=_0x473ef4,_0x5346fd=document[_0x200db5(0x7eb)](_0x200db5(0x2f0));if(!_0x5346fd)return;if(!_0x1c9559||_0x1c9559[_0x200db5(0x373)]===0x0){_0x5346fd[_0x200db5(0xbec)]=_0x200db5(0x4ce);return;}const _0x37ffa0=_0x88718d['questions'],_0x111d90=_0x39d5cf[_0x200db5(0x718)]((_0x5330c2,_0x37be5d)=>{const _0x20bb3e=_0x200db5;return _0x5330c2[_0x37be5d[_0x20bb3e(0x389)]]=_0x37be5d,_0x5330c2;},{}),_0x285612=_0x186115=>String[_0x200db5(0xbb3)](0x41+_0x186115),_0xaab114=_0x1e2523=>{const _0xc124b0=_0x200db5,_0xb82e07=_0x1e2523['questionType']||_0x88718d['quizType'];switch(_0xb82e07){case _0xc124b0(0xcc0):return _0x1e2523[_0xc124b0(0x745)]&&_0x1e2523[_0xc124b0(0x745)][_0xc124b0(0x373)]>_0x1e2523[_0xc124b0(0xb8c)]?_0x285612(_0x1e2523['correctAnswerIndex']):'-';case _0xc124b0(0x84f):const _0x2f82d1=_0x1e2523[_0xc124b0(0x8ae)]===!![]||String(_0x1e2523[_0xc124b0(0x8ae)])[_0xc124b0(0x9f4)]()===_0xc124b0(0xc45);return _0x2f82d1?_0xc124b0(0xabb):_0xc124b0(0xc20);case _0xc124b0(0xac9):return _0x1e2523[_0xc124b0(0xc73)]||'-';case _0xc124b0(0x314):return _0xc124b0(0x342);default:return'-';}},_0x332a4e=(_0xec0047,_0x5e2a02)=>{const _0x4b2cfc=_0x200db5;if(_0x5e2a02['answer']===null||_0x5e2a02['answer']===undefined)return'-';const _0x445979=_0xec0047[_0x4b2cfc(0x22d)]||_0x88718d[_0x4b2cfc(0x3d3)];switch(_0x445979){case _0x4b2cfc(0xcc0):const _0x2ca6d4=_0xec0047[_0x4b2cfc(0x745)][_0x4b2cfc(0x416)](_0x4c3613=>_0x4c3613===_0x5e2a02[_0x4b2cfc(0x9ae)]);return _0x2ca6d4!==-0x1?_0x285612(_0x2ca6d4):_0x5e2a02[_0x4b2cfc(0x9ae)]||'-';case _0x4b2cfc(0x84f):if(_0x5e2a02['answer']=='0'||_0x5e2a02[_0x4b2cfc(0x913)]===!![]||_0x5e2a02[_0x4b2cfc(0x913)]===_0x4b2cfc(0xc45))return _0x4b2cfc(0xabb);return _0x4b2cfc(0xc20);default:return _0x5e2a02[_0x4b2cfc(0x913)];}};let _0x4724c9=_0x200db5(0x74d)+_0x37ffa0['map']((_0x47619a,_0x124d72)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0x124d72+0x1)+_0x200db5(0x96a))[_0x200db5(0xaa2)]('')+_0x200db5(0x810)+_0x37ffa0[_0x200db5(0xa3b)](_0x1d962f=>_0x200db5(0x62c)+_0xaab114(_0x1d962f)+_0x200db5(0xbcd))[_0x200db5(0xaa2)]('')+_0x200db5(0xd21);_0x1c9559[_0x200db5(0xb15)](_0x9594f1=>{const _0x14ef0e=_0x200db5;_0x4724c9+=_0x14ef0e(0x2b2),_0x4724c9+=_0x14ef0e(0x5ed)+_0x9594f1+_0x14ef0e(0xbcd);const _0x5a0952=_0x111d90[_0x9594f1];if(_0x5a0952){const _0x2f4ad9=_0x5a0952[_0x14ef0e(0xa5a)][_0x5a0952[_0x14ef0e(0xa5a)]['length']-0x1];_0x37ffa0['forEach']((_0x5c9e03,_0x3d4503)=>{const _0x3a7ac6=_0x14ef0e,_0x238112=_0x2f4ad9[_0x3a7ac6(0xbba)][_0x3a7ac6(0x712)](_0x27b509=>_0x27b509['questionId']===_0x5c9e03['id']);if(_0x238112){let _0x2a967f='';const _0x260b78=_0x238112[_0x3a7ac6(0x95d)]===!![],_0x4a5dae=_0x238112[_0x3a7ac6(0xa16)]===!![]||_0x238112[_0x3a7ac6(0xa16)]===_0x3a7ac6(0x6a1);_0x4a5dae?_0x2a967f=_0x260b78?_0x3a7ac6(0x64a):_0x3a7ac6(0x488):_0x2a967f=_0x260b78?_0x3a7ac6(0x585):_0x3a7ac6(0x67c),_0x4724c9+=_0x3a7ac6(0xa93)+_0x2a967f+'\x22>'+_0x332a4e(_0x5c9e03,_0x238112)+'</td>';}else _0x4724c9+=_0x3a7ac6(0xd1b);});}else _0x4724c9+=_0x37ffa0[_0x14ef0e(0xa3b)](()=>_0x14ef0e(0x853))[_0x14ef0e(0xaa2)]('');_0x4724c9+='</tr>';}),_0x4724c9+=_0x200db5(0xcd7),_0x5346fd[_0x200db5(0xbec)]=_0x4724c9;}function renderQuizResultsTable(_0xfb5a28,_0x3b390c,_0x299aed){const _0x52eb7f=_0x473ef4,_0x2ffa2f=_0x3b390c[_0x52eb7f(0x718)]((_0x1d9a3c,_0x1b8520)=>{const _0x2e612e=_0x52eb7f;return _0x1d9a3c[_0x1b8520[_0x2e612e(0x389)]]=_0x1b8520,_0x1d9a3c;},{}),_0x4970de=document[_0x52eb7f(0x6ea)](_0x52eb7f(0x1d9));_0x4970de&&!_0x4970de[_0x52eb7f(0xbec)][_0x52eb7f(0x3b1)]('จัดการ')&&(_0x4970de[_0x52eb7f(0xbec)]+=_0x52eb7f(0xd28));const _0x1cf159=document[_0x52eb7f(0x7eb)](_0x52eb7f(0x288));if(!_0xfb5a28||_0xfb5a28[_0x52eb7f(0x373)]===0x0){_0x1cf159[_0x52eb7f(0xbec)]='<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0xd6bea5=_0x299aed[_0x52eb7f(0x986)]===!![],_0x1787e8=_0x299aed[_0x52eb7f(0xb37)]?.['passingScore']??-0x1;let _0x4dcda5='';_0xfb5a28['forEach'](_0xc0b851=>{const _0x46780f=_0x52eb7f,_0x70d19=_0x2ffa2f[_0xc0b851];let _0x38dbb=_0x46780f(0xc96)+(_0xd6bea5?'bg-amber-100\x20text-amber-800':_0x46780f(0xd24))+'\x22>'+(_0xd6bea5?_0x46780f(0x38a):_0x46780f(0x4db))+_0x46780f(0x333);if(_0x70d19){if(_0x70d19[_0x46780f(0xa5a)]&&_0x70d19[_0x46780f(0xa5a)][_0x46780f(0x373)]>0x0){let _0x3feb04=_0xd6bea5?_0x70d19[_0x46780f(0xa6d)]===_0x70d19[_0x46780f(0xbff)]:_0x1787e8!==-0x1&&_0x70d19['bestScore']>=_0x1787e8;const _0x55aeca=_0x3feb04?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x5497ab=_0x3feb04?_0x46780f(0x7c3):_0x46780f(0x51b),_0x280e8b=_0x46780f(0x58d)+_0x55aeca+'\x22>'+_0x5497ab+_0x46780f(0x333),_0x1b1a4e=_0x46780f(0xb0a)+(_0x70d19[_0x46780f(0xa5a)]?.[_0x46780f(0x373)]||0x1)+_0x46780f(0x1e9);_0x4dcda5+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0xc0b851+_0x46780f(0x686)+_0x70d19[_0x46780f(0xa6d)]+_0x46780f(0xc7a)+_0x70d19[_0x46780f(0xbff)]+_0x46780f(0x2d5)+_0x280e8b+_0x46780f(0x509)+_0x38dbb+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x70d19[_0x46780f(0x9cf)]+_0x46780f(0xc7a)+_0x70d19[_0x46780f(0xbff)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x70d19[_0x46780f(0xa08)]+_0x46780f(0xc7a)+_0x70d19['totalQuestions']+_0x46780f(0xd3b)+(_0x70d19[_0x46780f(0xc76)]||0x0)+_0x46780f(0x2d5)+_0x1b1a4e+_0x46780f(0xb12)+new Date(_0x70d19['latestSubmittedAt'])[_0x46780f(0x255)](_0x46780f(0x42d))+_0x46780f(0xc99)+_0xc0b851+_0x46780f(0x5e8);}else{const _0x299c15=_0x46780f(0x37f);_0x4dcda5+=_0x46780f(0x9e5)+_0xc0b851+_0x46780f(0x960)+_0x38dbb+_0x46780f(0x56d)+_0x299c15+_0x46780f(0xb12)+new Date(_0x70d19[_0x46780f(0x232)])[_0x46780f(0x255)](_0x46780f(0x42d))+_0x46780f(0xb30)+_0xc0b851+_0x46780f(0x5e8);}}else{const _0x428fa8='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>';_0x4dcda5+=_0x46780f(0x44a)+_0xc0b851+_0x46780f(0xbed)+_0x38dbb+_0x46780f(0x26c)+_0x428fa8+_0x46780f(0x5f5);}}),_0x1cf159[_0x52eb7f(0xbec)]=_0x4dcda5;}async function confirmRenameQuiz(){const _0x1e402a=_0x473ef4,_0x1c4578=document[_0x1e402a(0x7eb)](_0x1e402a(0xc63))[_0x1e402a(0x53d)][_0x1e402a(0xa7e)]();if(!_0x1c4578){showMessage(_0x1e402a(0x641));return;}if(!actionTargetId)return;const _0x38dea3=doc(db,_0x1e402a(0x41a)+appId+_0x1e402a(0x3c1),actionTargetId);try{await updateDoc(_0x38dea3,{'topic':_0x1c4578}),showMessage(_0x1e402a(0x6ae)),renameQuizModal[_0x1e402a(0xc3c)][_0x1e402a(0x4ad)](_0x1e402a(0xcb0)),actionTargetId=null;}catch(_0x8ed760){console[_0x1e402a(0x2b8)](_0x1e402a(0xd6f),_0x8ed760),showMessage(_0x1e402a(0x48c));}}async function handleMoveQuiz(_0x480f57){const _0x118267=_0x473ef4;actionTargetId=_0x480f57;const _0x12ca37=document['getElementById']('move-quiz-project-select');_0x12ca37['innerHTML']=_0x118267(0x7cd),moveQuizModal[_0x118267(0xc3c)]['remove'](_0x118267(0xcb0));try{const _0x1e5735=collection(db,_0x118267(0x41a)+appId+_0x118267(0xd51)),_0x545fe1=await getDocs(_0x1e5735),_0x1093dc=_0x545fe1[_0x118267(0x48b)][_0x118267(0xa3b)](_0x1c8196=>({'id':_0x1c8196['id'],..._0x1c8196[_0x118267(0x1e4)]()})),_0x451494=_0x1093dc[_0x118267(0x514)](_0x2db654=>_0x2db654['id']!==currentProjectId);if(_0x451494[_0x118267(0x373)]===0x0){_0x12ca37['innerHTML']='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document['getElementById'](_0x118267(0x247))[_0x118267(0x744)]=!![];return;}_0x12ca37[_0x118267(0xbec)]=_0x451494[_0x118267(0xa3b)](_0x3208f5=>'<option\x20value=\x22'+_0x3208f5['id']+'\x22>'+_0x3208f5['projectName']+_0x118267(0xc64))[_0x118267(0xaa2)](''),document[_0x118267(0x7eb)](_0x118267(0x247))['disabled']=![];}catch(_0x194e47){console[_0x118267(0x2b8)](_0x118267(0xa91),_0x194e47),showMessage(_0x118267(0xc9f)),moveQuizModal[_0x118267(0xc3c)][_0x118267(0x4ad)]('hidden');}}async function confirmMoveQuiz(){const _0x36b741=_0x473ef4,_0x41e3e2=document[_0x36b741(0x7eb)]('move-quiz-project-select')[_0x36b741(0x53d)];if(!_0x41e3e2){showMessage(_0x36b741(0x88e));return;}if(!actionTargetId)return;const _0x96a51a=doc(db,_0x36b741(0x41a)+appId+_0x36b741(0x3c1),actionTargetId);try{await updateDoc(_0x96a51a,{'projectId':_0x41e3e2}),showMessage('ย้ายแบบทดสอบสำเร็จ'),moveQuizModal[_0x36b741(0xc3c)][_0x36b741(0x4ad)]('hidden'),actionTargetId=null;}catch(_0x255a7a){console['error'](_0x36b741(0x834),_0x255a7a),showMessage(_0x36b741(0x38c));}}async function handleQuizSettings(_0xefad45){const _0x2a1513=_0x473ef4;actionTargetId=_0xefad45;const _0x145a79=doc(db,'artifacts/'+appId+_0x2a1513(0x3c1),_0xefad45);try{const _0x562f41=await getDoc(_0x145a79);if(_0x562f41[_0x2a1513(0x931)]()){const _0x4800e5=_0x562f41[_0x2a1513(0x1e4)](),_0x46e000=_0x4800e5['settings']||{},_0x1656c1=_0x4800e5[_0x2a1513(0x3dd)][_0x2a1513(0x373)];document[_0x2a1513(0x7eb)](_0x2a1513(0x969))[_0x2a1513(0x53d)]=_0x46e000['shuffle']||_0x2a1513(0x2bc),document[_0x2a1513(0x7eb)](_0x2a1513(0xa53))[_0x2a1513(0x53d)]=_0x46e000[_0x2a1513(0x87d)]||_0x2a1513(0x8a8),document[_0x2a1513(0x7eb)]('modal-timer-mode-select')[_0x2a1513(0x53d)]=_0x46e000['timerMode']||_0x2a1513(0x2bc),document[_0x2a1513(0x7eb)](_0x2a1513(0xbe5))['value']=_0x46e000['timerDuration']||0xa,document[_0x2a1513(0x7eb)](_0x2a1513(0x832))[_0x2a1513(0x53d)]=_0x46e000[_0x2a1513(0xaf7)]||Math[_0x2a1513(0x8a0)](_0x1656c1/0x2),document['getElementById'](_0x2a1513(0x832))[_0x2a1513(0xaea)]=_0x1656c1,document[_0x2a1513(0x7eb)](_0x2a1513(0xce5))['checked']=_0x46e000[_0x2a1513(0xb16)]||![],document[_0x2a1513(0x7eb)](_0x2a1513(0x530))[_0x2a1513(0x5b1)]=_0x46e000[_0x2a1513(0xd63)]||![];const _0x33169e=_0x46e000['isConfidenceScoringEnabled']||![];document[_0x2a1513(0x7eb)](_0x2a1513(0x702))[_0x2a1513(0x5b1)]=_0x33169e,document['getElementById'](_0x2a1513(0x274))[_0x2a1513(0x53d)]=_0x46e000[_0x2a1513(0x292)]||_0x2a1513(0xd68);const _0x5d4d2e=document['getElementById'](_0x2a1513(0x5b4));_0x5d4d2e[_0x2a1513(0xc3c)][_0x2a1513(0x899)](_0x2a1513(0xcb0),!_0x33169e),document[_0x2a1513(0x7eb)](_0x2a1513(0x505))[_0x2a1513(0x6f1)](new Event(_0x2a1513(0x949))),quizSettingsModal[_0x2a1513(0xc3c)]['remove']('hidden');}else showMessage('ไม่พบข้อมูลแบบทดสอบ');}catch(_0x6150a2){console[_0x2a1513(0x2b8)](_0x2a1513(0x1ea),_0x6150a2),showMessage(_0x2a1513(0x450));}}async function confirmQuizSettings(){const _0x2b495a=_0x473ef4;if(!actionTargetId)return;const _0x49213e=doc(db,'artifacts/'+appId+_0x2b495a(0x3c1),actionTargetId),_0x5b467e={'shuffle':document[_0x2b495a(0x7eb)](_0x2b495a(0x969))[_0x2b495a(0x53d)],'resultsDisplay':document[_0x2b495a(0x7eb)](_0x2b495a(0xa53))[_0x2b495a(0x53d)],'timerMode':document[_0x2b495a(0x7eb)](_0x2b495a(0x505))[_0x2b495a(0x53d)],'timerDuration':parseInt(document['getElementById'](_0x2b495a(0xbe5))[_0x2b495a(0x53d)])||0xa,'passingScore':parseInt(document[_0x2b495a(0x7eb)](_0x2b495a(0x832))[_0x2b495a(0x53d)])||0x0,'isAdaptive':document[_0x2b495a(0x7eb)](_0x2b495a(0xce5))[_0x2b495a(0x5b1)],'loopUntilPass':document['getElementById']('modal-loop-until-pass-checkbox')[_0x2b495a(0x5b1)],'isConfidenceScoringEnabled':document[_0x2b495a(0x7eb)](_0x2b495a(0x702))[_0x2b495a(0x5b1)],'confidenceMode':document[_0x2b495a(0x7eb)](_0x2b495a(0x274))['value']};try{await updateDoc(_0x49213e,{'settings':_0x5b467e}),showMessage(_0x2b495a(0x29d)),quizSettingsModal[_0x2b495a(0xc3c)]['add']('hidden'),actionTargetId=null;}catch(_0x18deab){console[_0x2b495a(0x2b8)]('Error\x20updating\x20quiz\x20settings:',_0x18deab),showMessage(_0x2b495a(0x7ac));}}async function confirmQuizStatus(){const _0x1fa613=_0x473ef4;if(!actionTargetId)return;const _0x56dad2=doc(db,_0x1fa613(0x41a)+appId+'/public/data/quizzes',actionTargetId),_0x2189db=document[_0x1fa613(0x6ea)](_0x1fa613(0x30e));if(!_0x2189db){showMessage(_0x1fa613(0x3d2));return;}const _0x1d2104=_0x2189db[_0x1fa613(0x53d)];let _0x45f86f={};if(_0x1d2104==='active'||_0x1d2104===_0x1fa613(0x7db))_0x45f86f={'status':_0x1d2104,'startTime':null,'endTime':null};else{if(_0x1d2104==='schedule'){const _0x5aab7a=document[_0x1fa613(0x7eb)](_0x1fa613(0xbfb))[_0x1fa613(0x53d)],_0x3428ed=document['getElementById'](_0x1fa613(0x91b))['value'];if(!_0x5aab7a&&!_0x3428ed){showMessage(_0x1fa613(0xd3e));return;}_0x45f86f={'status':_0x1fa613(0x592),'startTime':_0x5aab7a?new Date(_0x5aab7a)[_0x1fa613(0xcb2)]():null,'endTime':_0x3428ed?new Date(_0x3428ed)[_0x1fa613(0xcb2)]():null};}}try{await updateDoc(_0x56dad2,_0x45f86f),showMessage(_0x1fa613(0xb10)),quizStatusModal[_0x1fa613(0xc3c)][_0x1fa613(0x4ad)]('hidden'),actionTargetId=null;}catch(_0x527938){console[_0x1fa613(0x2b8)](_0x1fa613(0x8e5),_0x527938),showMessage(_0x1fa613(0x562));}}function listenForStudentProfiles(_0x1b9353){const _0x3c42bf=_0x473ef4,_0x3dd1a2=collection(db,_0x3c42bf(0x41a)+appId+_0x3c42bf(0x312)+_0x1b9353+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x3dd1a2,_0x98bb=>{const _0x3f5c14=_0x3c42bf,_0x3cd352=_0x98bb['docs'][_0x3f5c14(0xa3b)](_0x5100fb=>_0x5100fb[_0x3f5c14(0x1e4)]());renderLeaderboard(_0x3cd352,'leaderboard-table-body');},_0x4a1281=>{const _0x4ed91b=_0x3c42bf;console[_0x4ed91b(0x2b8)]('Error\x20listening\x20for\x20student\x20profiles:',_0x4a1281),document[_0x4ed91b(0x7eb)](_0x4ed91b(0x7d3))[_0x4ed91b(0xbec)]='<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>';});}function renderLeaderboard(_0x571db4,_0x2ab9a2){const _0x54b41c=_0x473ef4,_0x1c5ae4=document[_0x54b41c(0x7eb)](_0x2ab9a2);if(!_0x571db4||_0x571db4['length']===0x0){_0x1c5ae4[_0x54b41c(0xbec)]=_0x54b41c(0xacf);return;}_0x571db4[_0x54b41c(0x4af)]((_0x1d7f93,_0x9a1eda)=>{const _0x380efd=_0x54b41c,_0x27aed7=(_0x9a1eda[_0x380efd(0x1e2)]||0x0)-(_0x1d7f93[_0x380efd(0x1e2)]||0x0);if(_0x27aed7!==0x0)return _0x27aed7;const _0x4594e3=(_0x9a1eda[_0x380efd(0x540)]?.[_0x380efd(0x2a0)]||0x0)-(_0x1d7f93[_0x380efd(0x540)]?.[_0x380efd(0x2a0)]||0x0);if(_0x4594e3!==0x0)return _0x4594e3;const _0x5cf760=(_0x9a1eda[_0x380efd(0x540)]?.[_0x380efd(0x59d)]||0x0)-(_0x1d7f93['badgesCount']?.[_0x380efd(0x59d)]||0x0);if(_0x5cf760!==0x0)return _0x5cf760;const _0xfa923c=(_0x9a1eda[_0x380efd(0x540)]?.[_0x380efd(0x303)]||0x0)-(_0x1d7f93[_0x380efd(0x540)]?.[_0x380efd(0x303)]||0x0);if(_0xfa923c!==0x0)return _0xfa923c;const _0x4a649c=(_0x9a1eda['badgesCount']?.[_0x380efd(0x948)]||0x0)-(_0x1d7f93[_0x380efd(0x540)]?.[_0x380efd(0x948)]||0x0);if(_0x4a649c!==0x0)return _0x4a649c;return _0x1d7f93[_0x380efd(0x389)][_0x380efd(0xd07)](_0x9a1eda[_0x380efd(0x389)],'th');});let _0x49391f='';_0x571db4['forEach']((_0x45ce99,_0x1da974)=>{const _0x39e8c2=_0x54b41c,_0x6d0dc5=_0x1da974+0x1,_0x40c4b1=_0x45ce99[_0x39e8c2(0x540)]||{};let _0x154a96='';const _0x4682e6=[_0x39e8c2(0x2a0),_0x39e8c2(0x303),_0x39e8c2(0x59d),_0x39e8c2(0x948)];_0x4682e6['forEach'](_0x11c49e=>{const _0x1ee4a5=_0x39e8c2;if(_0x40c4b1[_0x11c49e]>0x0){const _0xb7a913=Object[_0x1ee4a5(0x63a)](BADGES)[_0x1ee4a5(0x712)](_0x39d594=>_0x39d594['id']===_0x11c49e);_0xb7a913&&(_0x11c49e===_0x1ee4a5(0x2a0)?_0x154a96+=_0x1ee4a5(0x6d2)+_0xb7a913['name']+_0x1ee4a5(0xc49)+_0xb7a913[_0x1ee4a5(0xb78)]+_0x1ee4a5(0xc5d):_0x154a96+=_0x1ee4a5(0x6d2)+_0xb7a913[_0x1ee4a5(0x65c)]+'\x20('+_0x40c4b1[_0x11c49e]+_0x1ee4a5(0xd59)+_0xb7a913[_0x1ee4a5(0xb78)]+_0x1ee4a5(0xb5f)+_0x40c4b1[_0x11c49e]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}}),_0x49391f+=_0x39e8c2(0x71c)+_0x6d0dc5+_0x39e8c2(0xaa6)+_0x45ce99['studentName']+_0x39e8c2(0x8fc)+(_0x45ce99[_0x39e8c2(0x1e2)]||0x0)+_0x39e8c2(0xaa6)+(_0x154a96||'-')+_0x39e8c2(0x56a);}),_0x1c5ae4[_0x54b41c(0xbec)]=_0x49391f;}function displayLoopScreen(_0x37f882,_0x2d0e5d,_0x5acda){const _0x28df11=_0x473ef4;let _0x33e97c='';_0x5acda!=='show_pass_fail_only'&&(_0x33e97c=_0x28df11(0x8d5)+_0x37f882+_0x28df11(0xc7a)+_0x2d0e5d+_0x28df11(0x211));const _0x8a0ce5=_0x28df11(0xd47)+_0x33e97c+_0x28df11(0x88b);studentResultArea[_0x28df11(0xbec)]=_0x8a0ce5,studentResultArea['classList'][_0x28df11(0x6f9)](_0x28df11(0xcb0)),studentQuizArea[_0x28df11(0xc3c)][_0x28df11(0x4ad)](_0x28df11(0xcb0)),document[_0x28df11(0x7eb)](_0x28df11(0xcf9))[_0x28df11(0x5e6)](_0x28df11(0x732),()=>{const _0x59b388=_0x28df11;studentResultArea[_0x59b388(0xc3c)][_0x59b388(0x4ad)](_0x59b388(0xcb0)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x3ce659,_0x3a2a3c,_0x336e44){const _0x4a0af0=_0x473ef4,_0x1d92d7=document[_0x4a0af0(0x7eb)](_0x336e44),_0x4e4802=_0x336e44===_0x4a0af0(0x7c7),_0x2707d9=_0x3a2a3c[_0x4a0af0(0x3dd)][_0x4a0af0(0x373)],_0xf2ca1d=document[_0x4a0af0(0x7eb)](_0x336e44)['closest']('table');if(_0xf2ca1d&&!_0x4e4802){const _0x3d4b8f=_0xf2ca1d[_0x4a0af0(0x6ea)](_0x4a0af0(0xcf1));_0x3d4b8f['innerHTML']=_0x4a0af0(0x460);}if(!_0x3ce659||_0x3ce659[_0x4a0af0(0x373)]===0x0){_0x1d92d7[_0x4a0af0(0xbec)]=_0x4a0af0(0x3c2)+(_0x4e4802?0x6:0x8)+_0x4a0af0(0x638);return;}const _0x14f8e3=[..._0x3ce659];_0x14f8e3[_0x4a0af0(0x4af)]((_0x52135f,_0xdec25b)=>{const _0x315667=_0x4a0af0;let _0x6fc739,_0xb22605;switch(quizLeaderboardSortBy){case _0x315667(0x389):_0x6fc739=_0x52135f['studentName']||'',_0xb22605=_0xdec25b['studentName']||'';return quizLeaderboardSortOrder===_0x315667(0x78e)?_0x6fc739[_0x315667(0xd07)](_0xb22605,'th'):_0xb22605[_0x315667(0xd07)](_0x6fc739,'th');case _0x315667(0xc76):_0x6fc739=_0x52135f[_0x315667(0xc76)]||0x0,_0xb22605=_0xdec25b['points']||0x0;break;case _0x315667(0xa5a):_0x6fc739=_0x52135f[_0x315667(0xa5a)]?.[_0x315667(0x373)]||0x1,_0xb22605=_0xdec25b[_0x315667(0xa5a)]?.[_0x315667(0x373)]||0x1;break;case'latestSubmittedAt':_0x6fc739=new Date(_0x52135f[_0x315667(0x7f3)]),_0xb22605=new Date(_0xdec25b['latestSubmittedAt']);break;case _0x315667(0xa6d):default:_0x6fc739=_0x52135f[_0x315667(0xa6d)],_0xb22605=_0xdec25b[_0x315667(0xa6d)];break;}if(_0x6fc739<_0xb22605)return quizLeaderboardSortOrder===_0x315667(0x78e)?-0x1:0x1;if(_0x6fc739>_0xb22605)return quizLeaderboardSortOrder===_0x315667(0x78e)?0x1:-0x1;return 0x0;});const _0x4696a2=_0x3a2a3c[_0x4a0af0(0x986)]===!![],_0x34e151=_0x3a2a3c[_0x4a0af0(0xb37)]?.[_0x4a0af0(0xaf7)]??-0x1;let _0x12171f='';_0x14f8e3[_0x4a0af0(0xb15)]((_0x4223ea,_0xed6a8b)=>{const _0x3383ae=_0x4a0af0,_0x348434=_0xed6a8b+0x1;let _0xa6d71e='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x4696a2||_0x34e151!==-0x1){let _0xf4926c=_0x4696a2?_0x4223ea[_0x3383ae(0xa6d)]===_0x2707d9:_0x4223ea[_0x3383ae(0xa6d)]>=_0x34e151;const _0x187241=_0xf4926c?'bg-green-100\x20text-green-800':_0x3383ae(0x755),_0x197244=_0xf4926c?_0x3383ae(0x7c3):_0x3383ae(0x51b);_0xa6d71e=_0x3383ae(0x244)+_0x187241+'\x22>'+_0x197244+_0x3383ae(0x333);}const _0x375f05=_0x4223ea['attempts'][_0x4223ea[_0x3383ae(0xa5a)][_0x3383ae(0x373)]-0x1],_0x2e031e=(_0x375f05[_0x3383ae(0x294)]||[])['map'](_0x12f844=>{const _0x551785=_0x3383ae,_0x4dfd5e=Object[_0x551785(0x63a)](BADGES)[_0x551785(0x712)](_0x51370c=>_0x51370c['id']===_0x12f844);return _0x4dfd5e?'<span\x20title=\x22'+_0x4dfd5e[_0x551785(0x65c)]+_0x551785(0x417)+_0x4dfd5e['icon']+_0x551785(0x380):'';})['join']('');_0x12171f+=_0x3383ae(0x793)+_0x348434+_0x3383ae(0xbce)+_0x4223ea[_0x3383ae(0x389)]+_0x3383ae(0xb31)+_0x4223ea[_0x3383ae(0xa6d)]+_0x3383ae(0xc7a)+_0x2707d9+_0x3383ae(0xcfc)+_0xa6d71e+_0x3383ae(0xd6c)+(_0x4223ea['points']||0x0)+_0x3383ae(0xcfc)+(_0x4e4802?'':_0x3383ae(0x968)+(_0x4223ea[_0x3383ae(0xa5a)]?.['length']||0x1)+_0x3383ae(0xbcd))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x4e4802?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x4223ea[_0x3383ae(0x7f3)])[_0x3383ae(0x255)](_0x3383ae(0x42d))+_0x3383ae(0xbcd))+_0x3383ae(0x439)+(_0x2e031e||'-')+_0x3383ae(0x9b0);}),_0x1d92d7['innerHTML']=_0x12171f,_0xf2ca1d&&!_0x4e4802&&_0xf2ca1d[_0x4a0af0(0x89b)](_0x4a0af0(0x5fe))['forEach'](_0x1c4f6e=>{const _0x46ea4=_0x4a0af0,_0xc6a8a4=_0x1c4f6e[_0x46ea4(0x6ea)]('.sort-indicator');if(_0xc6a8a4)_0xc6a8a4[_0x46ea4(0x6f9)]();_0x1c4f6e[_0x46ea4(0x6e9)]['sort']===quizLeaderboardSortBy&&(_0x1c4f6e[_0x46ea4(0xbec)]+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder==='asc'?'▲':'▼')+_0x46ea4(0x6e2));});}async function handleDeleteSubmission(_0x251b7c){const _0x5d410d=_0x473ef4;if(!currentQuizData||!currentQuizData['id']||!_0x251b7c){showMessage(_0x5d410d(0xc47));return;}showConfirmation(_0x5d410d(0x33a)+_0x251b7c+_0x5d410d(0x3fa),async()=>{const _0x13afae=_0x5d410d,_0x19b3a8=currentQuizData['id'],_0x46c7b7=doc(db,_0x13afae(0x41a)+appId+_0x13afae(0x5d9)+_0x19b3a8+_0x13afae(0xa06),_0x251b7c);try{await deleteDoc(_0x46c7b7),showMessage('ลบผลสอบของ\x20'+_0x251b7c+_0x13afae(0x911));}catch(_0x58cd79){console[_0x13afae(0x2b8)](_0x13afae(0x1fc),_0x58cd79),showMessage(_0x13afae(0xcf7));}});}async function handleLoadQuiz(){const _0xcc8f6b=_0x473ef4,_0x5f46e0=document[_0xcc8f6b(0x7eb)](_0xcc8f6b(0x4cd)),_0x19b32c=_0x5f46e0[_0xcc8f6b(0x53d)]['trim']();if(!_0x19b32c){showMessage(_0xcc8f6b(0x474));return;}loadQuizBtn[_0xcc8f6b(0x744)]=!![],loadQuizBtn[_0xcc8f6b(0xbec)]=_0xcc8f6b(0x8b2);try{const _0x50844f=doc(db,_0xcc8f6b(0x41a)+appId+_0xcc8f6b(0x3c1),_0x19b32c),_0x17d7c7=await getDoc(_0x50844f);if(!_0x17d7c7[_0xcc8f6b(0x931)]()){showMessage('ไม่พบแบบทดสอบสำหรับรหัสนี้');return;}currentQuizData={'id':_0x17d7c7['id'],..._0x17d7c7[_0xcc8f6b(0x1e4)]()};const _0x5b45d6=currentQuizData[_0xcc8f6b(0x996)]||_0xcc8f6b(0x3a5),_0x168a3f=new Date();if(_0x5b45d6===_0xcc8f6b(0x7db)){showMessage(_0xcc8f6b(0x49f));return;}if(_0x5b45d6===_0xcc8f6b(0x592)){const _0x3a2030=currentQuizData[_0xcc8f6b(0xc9c)]?new Date(currentQuizData['startTime']):null,_0x1c58d6=currentQuizData[_0xcc8f6b(0x6d9)]?new Date(currentQuizData[_0xcc8f6b(0x6d9)]):null;if(_0x3a2030&&_0x168a3f<_0x3a2030){showMessage(_0xcc8f6b(0x839)+_0x3a2030[_0xcc8f6b(0x255)]('th-TH',{'hour12':![]}));return;}if(_0x1c58d6&&_0x168a3f>_0x1c58d6){showMessage(_0xcc8f6b(0xd36));return;}}const _0x1a2883=currentQuizData[_0xcc8f6b(0x3ba)];currentProjectId=_0x1a2883;const _0x3f3349=doc(db,_0xcc8f6b(0x41a)+appId+_0xcc8f6b(0xd51),_0x1a2883),_0x25b875=await getDoc(_0x3f3349);if(!_0x25b875['exists']()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้');return;}const _0x1934ac=_0x25b875[_0xcc8f6b(0x1e4)]();currentStudentProjectData=_0x1934ac,displayStudentNameSelector(_0x1934ac[_0xcc8f6b(0x55a)],currentQuizData[_0xcc8f6b(0x2d8)]);}catch(_0x5a2360){console['error'](_0xcc8f6b(0xab8),_0x5a2360),showMessage(_0xcc8f6b(0x84c));}finally{loadQuizBtn['disabled']=![],loadQuizBtn[_0xcc8f6b(0xbec)]=_0xcc8f6b(0x9a7);}}async function handleJoinLiveGame(){const _0x239e44=_0x473ef4,_0x3a163d=document[_0x239e44(0x7eb)](_0x239e44(0x317)),_0x1d441e=document['getElementById'](_0x239e44(0x88f)),_0x216613=document[_0x239e44(0x7eb)](_0x239e44(0xbdd)),_0x115b8e=_0x3a163d[_0x239e44(0x53d)][_0x239e44(0xa7e)](),_0x3ffc3c=_0x1d441e[_0x239e44(0x53d)]['trim']();if(!_0x115b8e||!_0x3ffc3c){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x216613[_0x239e44(0x744)]=!![],_0x216613['innerHTML']=_0x239e44(0x5a5);try{const _0x32ec28=collection(db,_0x239e44(0x41a)+appId+_0x239e44(0xca3)),_0x3a002c=query(_0x32ec28,where(_0x239e44(0x602),'==',_0x115b8e),where(_0x239e44(0x996),'in',['lobby',_0x239e44(0x428)])),_0x3456f0=await getDocs(_0x3a002c);if(_0x3456f0[_0x239e44(0x28f)]){showMessage('ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว');return;}const _0x5bf93a=_0x3456f0[_0x239e44(0x48b)][0x0],_0x392eb2=_0x5bf93a[_0x239e44(0x1e4)]();currentLiveGameId=_0x5bf93a['id'];const _0x249ffd=_0x392eb2[_0x239e44(0xd20)],_0x22f272=doc(db,_0x239e44(0x41a)+appId+_0x239e44(0x3c1),_0x249ffd),_0x293668=await getDoc(_0x22f272);if(!_0x293668[_0x239e44(0x931)]()){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้');return;}currentQuizData={'id':_0x293668['id'],..._0x293668[_0x239e44(0x1e4)]()};if(_0x392eb2[_0x239e44(0xaec)]&&_0x392eb2[_0x239e44(0xaec)][_0x3ffc3c]){const _0x34e03d=_0x392eb2['players'][_0x3ffc3c];if(_0x34e03d[_0x239e44(0x996)]===_0x239e44(0x7db)){_0x216613[_0x239e44(0xbec)]=_0x239e44(0x441);const _0x7af7b2={};_0x7af7b2['players.'+_0x3ffc3c+_0x239e44(0x856)]='active',await updateDoc(doc(db,_0x239e44(0x41a)+appId+_0x239e44(0xca3),currentLiveGameId),_0x7af7b2),showView('live-game'),currentStudentName=_0x3ffc3c,listenForLiveGameUpdates();return;}else{showMessage(_0x239e44(0x3bb));return;}}if(_0x392eb2[_0x239e44(0x996)]!==_0x239e44(0x998)){showMessage('ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว');return;}_0x216613[_0x239e44(0xbec)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...';const _0x15cf2b={};_0x15cf2b['players.'+_0x3ffc3c]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x239e44(0x3a5)},await updateDoc(doc(db,_0x239e44(0x41a)+appId+'/public/data/liveGames',currentLiveGameId),_0x15cf2b),currentStudentName=_0x3ffc3c,listenForLiveGameUpdates();}catch(_0x2ac44a){console['error'](_0x239e44(0xb27),_0x2ac44a),showMessage('เกิดข้อผิดพลาดในการเข้าร่วมเกม');}finally{_0x216613['disabled']=![],_0x216613[_0x239e44(0xbec)]=_0x239e44(0x3e4);}}function displayStudentNameSelector(_0xe57eac,_0x3582a3){const _0x2491ae=_0x473ef4,_0x265c54=document[_0x2491ae(0x7eb)](_0x2491ae(0x662));document[_0x2491ae(0x7eb)]('student-quiz-topic')[_0x2491ae(0xc95)]=_0x2491ae(0xa88)+_0x3582a3,!_0xe57eac||_0xe57eac[_0x2491ae(0x373)]===0x0?(_0x265c54['innerHTML']=_0x2491ae(0x553),startQuizBtn[_0x2491ae(0x744)]=!![]):(_0x265c54[_0x2491ae(0xbec)]=_0x2491ae(0x497),_0xe57eac['forEach'](_0x4a2dc8=>{const _0x2e418b=_0x2491ae,_0x2a4ef8=document[_0x2e418b(0x855)](_0x2e418b(0x464));_0x2a4ef8[_0x2e418b(0x53d)]=_0x4a2dc8,_0x2a4ef8[_0x2e418b(0xc95)]=_0x4a2dc8,_0x265c54[_0x2e418b(0xae3)](_0x2a4ef8);}),startQuizBtn['disabled']=![]),studentInitialView[_0x2491ae(0xc3c)][_0x2491ae(0x4ad)](_0x2491ae(0xcb0)),studentNameSelectionView[_0x2491ae(0xc3c)]['remove'](_0x2491ae(0xcb0));}function shuffleArray(_0x8300a6){const _0x40b5ad=_0x473ef4;for(let _0x195083=_0x8300a6[_0x40b5ad(0x373)]-0x1;_0x195083>0x0;_0x195083--){const _0x5950ee=Math['floor'](Math['random']()*(_0x195083+0x1));[_0x8300a6[_0x195083],_0x8300a6[_0x5950ee]]=[_0x8300a6[_0x5950ee],_0x8300a6[_0x195083]];}}function getShuffledQuiz(_0x42a1b8){const _0x52686a=_0x473ef4;let _0x29712f=JSON[_0x52686a(0x3d4)](JSON[_0x52686a(0x36f)](_0x42a1b8));const _0x2fce1c=_0x29712f['settings']?.['shuffle']||'none';if(_0x2fce1c==='none')return _0x29712f;return(_0x2fce1c===_0x52686a(0x2b4)||_0x2fce1c==='both')&&shuffleArray(_0x29712f[_0x52686a(0x3dd)]),(_0x2fce1c===_0x52686a(0x2e0)||_0x2fce1c==='both')&&_0x29712f[_0x52686a(0x3dd)][_0x52686a(0xb15)](_0x52c030=>{const _0x4453a1=_0x52686a,_0x3de6fe=_0x52c030[_0x4453a1(0x22d)]||_0x29712f[_0x4453a1(0x3d3)];if(_0x52c030[_0x4453a1(0x745)]){let _0x32b923=_0x52c030[_0x4453a1(0x745)]['map']((_0x9484ca,_0x40e0e6)=>({'text':_0x9484ca,'isCorrect':_0x40e0e6===_0x52c030[_0x4453a1(0xb8c)]}));shuffleArray(_0x32b923),_0x52c030[_0x4453a1(0x745)]=_0x32b923['map'](_0x48f28b=>_0x48f28b[_0x4453a1(0x2b3)]),_0x52c030[_0x4453a1(0xb8c)]=_0x32b923[_0x4453a1(0x416)](_0x42653f=>_0x42653f[_0x4453a1(0x95d)]);}_0x3de6fe===_0x4453a1(0xac9)&&_0x52c030[_0x4453a1(0x938)]&&shuffleArray(_0x52c030[_0x4453a1(0x938)]);}),_0x29712f;}function displayQuizForStudent(_0x254847){const _0x31b6c5=_0x473ef4;studentQuizArea[_0x31b6c5(0xc3c)][_0x31b6c5(0x6f9)](_0x31b6c5(0xcb0)),currentDisplayedQuiz=getShuffledQuiz(_0x254847);currentMode!==_0x31b6c5(0xa0f)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x31b6c5(0x5e6)](_0x31b6c5(0x27f),handleFullscreenChange),document[_0x31b6c5(0x5e6)]('visibilitychange',handleVisibilityChange),enterFullscreen(),window[_0x31b6c5(0x5e6)](_0x31b6c5(0x3f6),resetDimTimer),window[_0x31b6c5(0x5e6)]('mousedown',resetDimTimer),window['addEventListener'](_0x31b6c5(0x1de),resetDimTimer),window[_0x31b6c5(0x5e6)](_0x31b6c5(0xb17),resetDimTimer),resetDimTimer());const _0x3d246e=currentDisplayedQuiz[_0x31b6c5(0xb37)]?.[_0x31b6c5(0x39f)]||_0x31b6c5(0x2bc);if(_0x3d246e===_0x31b6c5(0xb35))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x31b6c5(0xb37)][_0x31b6c5(0x9ce)]);else _0x3d246e===_0x31b6c5(0x266)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x1a6a6e=_0x473ef4,_0x222f02=currentDisplayedQuiz[_0x1a6a6e(0xb37)]?.[_0x1a6a6e(0x6ff)]===!![],_0x57d9e1=currentDisplayedQuiz[_0x1a6a6e(0xb37)]?.[_0x1a6a6e(0x292)]||_0x1a6a6e(0xd68);let _0x193572='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz['topic']+_0x1a6a6e(0xb74)+(currentMode===_0x1a6a6e(0xa0f)?_0x1a6a6e(0x5b7):'')+_0x1a6a6e(0x6d4);currentDisplayedQuiz[_0x1a6a6e(0x3dd)][_0x1a6a6e(0xb15)]((_0x413973,_0x7e942d)=>{const _0x466aa4=_0x1a6a6e,_0x216215=_0x413973[_0x466aa4(0x22d)]||currentDisplayedQuiz[_0x466aa4(0x3d3)];_0x193572+=_0x466aa4(0xb0e);if(_0x216215==='matching_item'){}else _0x193572+=_0x466aa4(0x846)+(_0x7e942d+0x1)+'.\x20'+(_0x413973[_0x466aa4(0x942)]||_0x413973['questionText'])+_0x466aa4(0xc65),_0x413973[_0x466aa4(0x675)]&&(_0x193572+=_0x466aa4(0x706)+_0x413973[_0x466aa4(0x675)]+_0x466aa4(0x3ab));_0x193572+=_0x466aa4(0x236);switch(_0x216215){case _0x466aa4(0x314):_0x193572+=_0x466aa4(0x9c4)+_0x7e942d+_0x466aa4(0x25d);break;case'true_false':_0x193572+=_0x466aa4(0x381)+_0x7e942d+_0x466aa4(0x9d7)+_0x7e942d+_0x466aa4(0x1d5)+_0x7e942d+_0x466aa4(0x366),_0x193572+=_0x466aa4(0x381)+_0x7e942d+_0x466aa4(0x594)+_0x7e942d+_0x466aa4(0x8f9)+_0x7e942d+_0x466aa4(0x920);break;case _0x466aa4(0xac9):_0x193572+=_0x466aa4(0x38d)+_0x413973[_0x466aa4(0xd03)]+_0x466aa4(0xca0)+_0x7e942d+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x413973[_0x466aa4(0x938)][_0x466aa4(0xa3b)](_0x239e22=>_0x466aa4(0xbdc)+_0x239e22+'\x22>'+_0x239e22+_0x466aa4(0xc64))['join']('')+_0x466aa4(0x896);break;default:_0x193572+=_0x413973[_0x466aa4(0x745)][_0x466aa4(0xa3b)]((_0x703472,_0x1e1fd8)=>_0x466aa4(0x482)+_0x7e942d+_0x466aa4(0xcdb)+_0x1e1fd8+'\x22\x20name=\x22question'+_0x7e942d+'\x22\x20value=\x22'+_0x1e1fd8+_0x466aa4(0xb05)+_0x7e942d+_0x466aa4(0xcdb)+_0x1e1fd8+'\x22>'+_0x703472+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x466aa4(0xaa2)]('');break;}_0x193572+=_0x466aa4(0x3ab),_0x222f02&&(_0x193572+=_0x466aa4(0x527),_0x57d9e1==='mandatory'?_0x193572+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-'+_0x7e942d+_0x466aa4(0x7c1)+_0x7e942d+'\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22'+_0x7e942d+'\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22'+_0x7e942d+_0x466aa4(0x865):_0x193572+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence'+_0x7e942d+_0x466aa4(0x7c1)+_0x7e942d+_0x466aa4(0x51e)+_0x7e942d+'\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x193572+=_0x466aa4(0x3ab)),_0x193572+=_0x466aa4(0x3ab);}),_0x193572+=_0x1a6a6e(0x3fb),_0x193572+=_0x1a6a6e(0xb08),studentQuizArea['innerHTML']=_0x193572;if(currentMode===_0x1a6a6e(0xa0f)){const _0x113c2c=document[_0x1a6a6e(0x7eb)](_0x1a6a6e(0xcff));if(_0x113c2c)_0x113c2c['addEventListener'](_0x1a6a6e(0x732),cancelAdminTest);}const _0x4adbcb=document[_0x1a6a6e(0x7eb)](_0x1a6a6e(0x7ec));_0x4adbcb&&(_0x4adbcb[_0x1a6a6e(0x5e6)](_0x1a6a6e(0xa64),handleSubmitQuiz),_0x4adbcb[_0x1a6a6e(0x5e6)](_0x1a6a6e(0x732),_0x48d1b1=>{const _0x4cfc05=_0x1a6a6e;if(_0x48d1b1[_0x4cfc05(0x8ef)][_0x4cfc05(0xc3c)][_0x4cfc05(0x5ba)](_0x4cfc05(0xb3d))){const _0x4b3760=_0x48d1b1[_0x4cfc05(0x8ef)],_0x325c38=_0x4b3760['dataset']['questionIndex'],_0x3e1fa5=_0x4b3760[_0x4cfc05(0x6e9)][_0x4cfc05(0x53d)];document[_0x4cfc05(0x7eb)](_0x4cfc05(0xad8)+_0x325c38)[_0x4cfc05(0x53d)]=_0x3e1fa5;const _0xd839c5=_0x4b3760[_0x4cfc05(0x9d1)];_0xd839c5[_0x4cfc05(0x89b)]('.confidence-choice-btn')[_0x4cfc05(0xb15)](_0x47bf96=>_0x47bf96[_0x4cfc05(0xc3c)][_0x4cfc05(0x6f9)](_0x4cfc05(0x3a5))),_0x4b3760[_0x4cfc05(0xc3c)]['add']('active');}}));if(window[_0x1a6a6e(0x5f9)])window['MathJax'][_0x1a6a6e(0x93d)]([studentQuizArea]);}async function handleSubmitQuiz(_0x41a7cb){const _0x43c99a=_0x473ef4;if(_0x41a7cb)_0x41a7cb[_0x43c99a(0x82f)]();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x2192c3=document['getElementById'](_0x43c99a(0x7ec));if(!_0x2192c3)return;const _0x2edea3=currentDisplayedQuiz[_0x43c99a(0xb37)]?.[_0x43c99a(0x6ff)]===!![],_0x4e21cd=currentDisplayedQuiz['settings']?.[_0x43c99a(0x292)]||_0x43c99a(0xd68);if(_0x2edea3&&_0x4e21cd===_0x43c99a(0xc68)){let _0x41a71f=!![];for(let _0x19c9b4=0x0;_0x19c9b4<currentDisplayedQuiz['questions'][_0x43c99a(0x373)];_0x19c9b4++){const _0x3da11d=_0x2192c3[_0x43c99a(0x6ea)](_0x43c99a(0x27c)+_0x19c9b4);if(!_0x3da11d||_0x3da11d[_0x43c99a(0x53d)]===''){_0x41a71f=![];break;}}if(!_0x41a71f){showMessage(_0x43c99a(0xb24));return;}}const _0x3c4f48=_0x2192c3[_0x43c99a(0x6ea)](_0x43c99a(0x82c)),_0x12ac23=currentDisplayedQuiz[_0x43c99a(0x3dd)]['some'](_0x5d97b3=>_0x5d97b3['questionType']===_0x43c99a(0x314));_0x3c4f48&&(_0x3c4f48['disabled']=!![],_0x3c4f48[_0x43c99a(0xbec)]=_0x12ac23?_0x43c99a(0x48d):_0x43c99a(0xd71));const _0x2d2db0=new FormData(_0x2192c3),_0x170fc8=currentDisplayedQuiz['questions'][_0x43c99a(0xa3b)]((_0x10a7b7,_0x508698)=>{const _0x3b1615=_0x43c99a,_0x2be584=_0x2d2db0['get'](_0x3b1615(0x428)+_0x508698);let _0x4512e8;_0x4e21cd===_0x3b1615(0xc68)?_0x4512e8=_0x2d2db0[_0x3b1615(0xcb7)](_0x3b1615(0x30f)+_0x508698):_0x4512e8=_0x2d2db0[_0x3b1615(0xcb7)](_0x3b1615(0x30f)+_0x508698)==='on';let _0x5e676a=null;if(_0x2be584!==null&&_0x2be584!==undefined){const _0x42b828=_0x10a7b7[_0x3b1615(0x22d)]||currentDisplayedQuiz['quizType'];_0x42b828==='multiple_choice'||_0x42b828===_0x3b1615(0xa6a)?_0x5e676a=parseInt(_0x2be584):_0x5e676a=_0x2be584;}return{'answer':_0x5e676a,'wasConfident':_0x4512e8};}),_0x1b978f=currentQuizData['id'],_0x4668ce=doc(db,_0x43c99a(0x41a)+appId+_0x43c99a(0x5d9)+_0x1b978f+_0x43c99a(0xa06),currentStudentName),_0x2fb796=await getDoc(_0x4668ce),_0x1b0101=_0x2fb796[_0x43c99a(0x931)]()?_0x2fb796[_0x43c99a(0x1e4)]():{},_0x4c2e5c=_0x1b0101[_0x43c99a(0xa5a)]||[];await processAndSubmitAnswers(_0x170fc8,_0x4c2e5c);}async function gradeShortAnswerWithAI(_0x3fc933,_0x7017f8){const _0x5cc793=_0x473ef4;if(!_0x3fc933||!_0x7017f8)return![];try{const _0x232c80=_0x5cc793(0x66f)+_0x3fc933+_0x5cc793(0x84a)+_0x7017f8+_0x5cc793(0x37a),_0x32a6f5={'contents':[{'role':_0x5cc793(0xd79),'parts':[{'text':_0x232c80}]}]},_0x2b51df=_0x5cc793(0x3a0),_0x36a3bd=_0x5cc793(0x60a)+_0x2b51df,_0x5c18bb=await fetch(_0x36a3bd,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON['stringify'](_0x32a6f5)});if(!_0x5c18bb['ok'])throw new Error(_0x5cc793(0x22a));const _0x432dc0=await _0x5c18bb[_0x5cc793(0x85d)](),_0x10aacd=_0x432dc0['candidates'][0x0][_0x5cc793(0x349)][_0x5cc793(0xa0d)][0x0][_0x5cc793(0x2b3)][_0x5cc793(0xa7e)]()[_0x5cc793(0x9f4)]();return _0x10aacd===_0x5cc793(0xc45);}catch(_0x139904){return console[_0x5cc793(0x2b8)]('AI\x20grading\x20failed:',_0x139904),![];}}async function processAndSubmitAnswers(_0x43c993,_0x25bec5){const _0x1d7ca0=_0x473ef4;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x1d7ca0(0x39d)]('fullscreenchange',handleFullscreenChange),document['removeEventListener']('visibilitychange',handleVisibilityChange);let _0x3c57b2=0x0;const _0x500e82=[],_0x579204=currentDisplayedQuiz[_0x1d7ca0(0x3dd)][_0x1d7ca0(0x373)];let _0x313c70=0x0,_0x4bfe6e=[];const _0x3d3de6=currentDisplayedQuiz[_0x1d7ca0(0x3dd)];for(let _0x37d0f4=0x0;_0x37d0f4<_0x3d3de6[_0x1d7ca0(0x373)];_0x37d0f4++){const _0x36ffaa=_0x3d3de6[_0x37d0f4],_0x5c3773=_0x43c993[_0x37d0f4],_0x1de7b6=_0x5c3773?_0x5c3773[_0x1d7ca0(0x913)]:null,_0x5b885c=_0x5c3773?_0x5c3773[_0x1d7ca0(0xa16)]:null;let _0xe5602c=![],_0x1c6acf=0x0;if(_0x1de7b6!==null&&_0x1de7b6!==''){const _0x24ef53=_0x36ffaa['questionType']||currentDisplayedQuiz['quizType'];switch(_0x24ef53){case _0x1d7ca0(0xac9):_0xe5602c=_0x1de7b6===_0x36ffaa[_0x1d7ca0(0xc73)];break;case'true_false':const _0x168d4c=_0x1de7b6===!![]||_0x1de7b6==='true';_0xe5602c=_0x168d4c===_0x36ffaa[_0x1d7ca0(0x8ae)];break;case _0x1d7ca0(0x314):_0xe5602c=await gradeShortAnswer(_0x1de7b6,_0x36ffaa);break;case _0x1d7ca0(0xcc0):default:_0xe5602c=Number(_0x1de7b6)===_0x36ffaa[_0x1d7ca0(0xb8c)];break;}}if(currentDisplayedQuiz[_0x1d7ca0(0xb37)]?.['isConfidenceScoringEnabled']){const _0x4681e2=_0x5c3773?_0x5c3773[_0x1d7ca0(0xa16)]:null;if(_0xe5602c&&(_0x4681e2===!![]||_0x4681e2==='confident'))_0x1c6acf=0x2;else{if(_0xe5602c)_0x1c6acf=0x1;else{if(!_0xe5602c&&(_0x4681e2===![]||_0x4681e2==='not_confident'||_0x4681e2===null))_0x1c6acf=0x0;else!_0xe5602c&&(_0x4681e2===!![]||_0x4681e2===_0x1d7ca0(0x6a1))&&(_0x1c6acf=-0x1);}}}else _0x1c6acf=_0xe5602c?0x1:0x0;_0x3c57b2+=_0x1c6acf;if(_0xe5602c){_0x313c70++;if(_0x313c70===0x3)_0x4bfe6e[_0x1d7ca0(0x526)](BADGES[_0x1d7ca0(0x887)]['id']);}else _0x313c70=0x0;let _0x2e459a=null;_0x36ffaa[_0x1d7ca0(0x745)]&&_0x1de7b6!==null&&(_0x2e459a=_0x36ffaa['options'][_0x1de7b6]),_0x500e82[_0x1d7ca0(0x526)]({'questionId':_0x36ffaa['id'],'answer':_0x1de7b6,'answerText':_0x2e459a,'isCorrect':_0xe5602c,'wasConfident':_0x5b885c,'pointsAwarded':_0x1c6acf,'originalQuestionText':_0x36ffaa[_0x1d7ca0(0xd03)]||_0x36ffaa['questionText']});}const _0x469c68=_0x500e82['filter'](_0x3f3086=>_0x3f3086[_0x1d7ca0(0x95d)])[_0x1d7ca0(0x373)],_0xdf808c=currentDisplayedQuiz[_0x1d7ca0(0xb37)]?.['passingScore']??Math[_0x1d7ca0(0x8a0)](_0x579204/0x2);_0x469c68===_0x579204&&_0x579204>0x0&&!currentDisplayedQuiz['isRemedial']&&_0x4bfe6e['push'](BADGES[_0x1d7ca0(0x233)]['id']);const _0x3b3698=currentDisplayedQuiz['settings']?.[_0x1d7ca0(0x39f)];if(_0x3b3698===_0x1d7ca0(0xb35)&&quizStartTime){const _0xfe8df5=(new Date()-quizStartTime)/0x3e8,_0x393cc1=currentDisplayedQuiz[_0x1d7ca0(0xb37)][_0x1d7ca0(0x9ce)]*0x3c;_0x469c68>=_0xdf808c&&_0xfe8df5<_0x393cc1/0x2&&_0x4bfe6e['push'](BADGES['QUICK_THINKER']['id']);}_0x25bec5[_0x1d7ca0(0x373)]===0x0&&_0x469c68===_0x579204&&_0x579204>0x0&&_0x4bfe6e['push'](BADGES[_0x1d7ca0(0x87e)]['id']);if(_0x25bec5[_0x1d7ca0(0x373)]>0x0){const _0x304dc6=_0x25bec5[0x0][_0x1d7ca0(0xa94)];if(_0x304dc6<_0xdf808c&&_0x469c68>=_0xdf808c){const _0x1a7400=_0x25bec5[_0x1d7ca0(0x802)](_0x1a96e4=>(_0x1a96e4['badges']||[])[_0x1d7ca0(0x3b1)](BADGES[_0x1d7ca0(0xc28)]['id']));!_0x1a7400&&_0x4bfe6e['push'](BADGES[_0x1d7ca0(0xc28)]['id']);}}_0x25bec5[_0x1d7ca0(0x373)]===0x4&&_0x4bfe6e[_0x1d7ca0(0x526)](BADGES[_0x1d7ca0(0x52a)]['id']);const _0x3be8c7=currentDisplayedQuiz[_0x1d7ca0(0xb37)][_0x1d7ca0(0x87d)];if(currentMode===_0x1d7ca0(0xa0f)){handleResultDisplay(_0x3be8c7,_0x469c68,_0x3c57b2,_0x4bfe6e,_0x500e82,_0x579204);return;}const _0x38a8d7=currentQuizData['id'],_0x2a1965=doc(db,_0x1d7ca0(0x41a)+appId+_0x1d7ca0(0x5d9)+_0x38a8d7+_0x1d7ca0(0xa06),currentStudentName);try{const _0x216cb1=[..._0x25bec5],_0x135bee={'score':_0x469c68,'points':_0x3c57b2,'badges':Array[_0x1d7ca0(0x71b)](new Set(_0x4bfe6e)),'submittedAt':new Date()[_0x1d7ca0(0xcb2)](),'answers':_0x500e82};_0x216cb1[_0x1d7ca0(0x526)](_0x135bee);const _0x586cba=_0x25bec5[_0x1d7ca0(0x373)]===0x0?_0x469c68:_0x25bec5[0x0]['score']||0x0,_0x340b8e=Math['max'](..._0x216cb1['map'](_0x158b74=>_0x158b74[_0x1d7ca0(0xa94)]));await setDoc(_0x2a1965,{'studentName':currentStudentName,'totalQuestions':_0x579204,'attempts':_0x216cb1,'firstScore':_0x586cba,'bestScore':_0x340b8e,'latestScore':_0x469c68,'points':_0x3c57b2,'latestSubmittedAt':_0x135bee[_0x1d7ca0(0xce4)]},{'merge':!![]}),await updateStudentProfile(currentQuizData[_0x1d7ca0(0x3ba)],currentStudentName),handleResultDisplay(_0x3be8c7,_0x469c68,_0x3c57b2,_0x4bfe6e,_0x500e82,_0x579204);}catch(_0x1e4520){console[_0x1d7ca0(0x2b8)](_0x1d7ca0(0xa77),_0x1e4520),showMessage('เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ');}}async function updateStudentProfile(_0x477a5c,_0x386a4f){const _0x34196f=_0x473ef4,_0x17c496=doc(db,'artifacts/'+appId+_0x34196f(0x312)+_0x477a5c+'/studentProfiles',_0x386a4f);try{const _0x263b22=query(collection(db,_0x34196f(0x41a)+appId+_0x34196f(0x3c1)),where(_0x34196f(0x3ba),'==',_0x477a5c)),_0x45170d=await getDocs(_0x263b22),_0x5d1438=new Map(_0x45170d['docs']['map'](_0x2bb033=>[_0x2bb033['id'],_0x2bb033[_0x34196f(0x1e4)]()])),_0xdc2b9a=Array[_0x34196f(0x71b)](_0x5d1438['keys']());await runTransaction(db,async _0x1c7992=>{const _0x3ff8e3=_0x34196f;let _0x37dbce=0x0;const _0x48380c={};let _0x1f4d52=!![],_0xb029d=0x0,_0x25e842=0x0;for(const _0x5da270 of _0xdc2b9a){const _0x46cb6f=_0x5d1438[_0x3ff8e3(0xcb7)](_0x5da270),_0x3e4385=doc(db,'artifacts/'+appId+_0x3ff8e3(0x5d9)+_0x5da270+_0x3ff8e3(0xa06),_0x386a4f),_0x4e20cb=await _0x1c7992['get'](_0x3e4385);if(_0x4e20cb['exists']()){const _0x43a915=_0x4e20cb[_0x3ff8e3(0x1e4)](),_0x39052e=_0x43a915[_0x3ff8e3(0xa5a)]||[];if(_0x39052e['length']>0x0){const _0x4fc505=_0x39052e[_0x3ff8e3(0x718)]((_0x2eba76,_0x43db1f)=>{const _0x586add=_0x3ff8e3;if(_0x43db1f[_0x586add(0xa94)]>_0x2eba76['score'])return _0x43db1f;if(_0x43db1f[_0x586add(0xa94)]===_0x2eba76[_0x586add(0xa94)])return(_0x43db1f[_0x586add(0xc76)]||0x0)>(_0x2eba76[_0x586add(0xc76)]||0x0)?_0x43db1f:_0x2eba76;return _0x2eba76;},{'score':-0x1,'points':-0x1});_0x4fc505[_0x3ff8e3(0xa94)]>-0x1&&(_0x37dbce+=_0x4fc505['points']||0x0,(_0x4fc505[_0x3ff8e3(0x294)]||[])['forEach'](_0x15d604=>{_0x48380c[_0x15d604]=(_0x48380c[_0x15d604]||0x0)+0x1;}));}}if(_0x46cb6f[_0x3ff8e3(0x2d8)]!=='แบบทดสอบซ่อมเสริม'){_0x25e842++;if(_0x4e20cb['exists']()){_0xb029d++;const _0x28edb6=_0x4e20cb[_0x3ff8e3(0x1e4)]();_0x28edb6[_0x3ff8e3(0xa6d)]!==_0x28edb6[_0x3ff8e3(0xbff)]&&(_0x1f4d52=![]);}else _0x1f4d52=![];}}_0x25e842>0x0&&_0xb029d===_0x25e842&&_0x1f4d52?_0x48380c[_0x3ff8e3(0x2a0)]=0x1:_0x48380c['specialist']=0x0,_0x1c7992['set'](_0x17c496,{'studentName':_0x386a4f,'totalPoints':_0x37dbce,'unlockedBadges':Object[_0x3ff8e3(0x6e0)](_0x48380c)[_0x3ff8e3(0x514)](_0x1f17cf=>_0x48380c[_0x1f17cf]>0x0),'badgesCount':_0x48380c},{'merge':!![]});});}catch(_0x5a8873){console[_0x34196f(0x2b8)](_0x34196f(0xd0a),_0x5a8873),showMessage(_0x34196f(0x9b1));}}function startAdminTest(){const _0x345a5d=_0x473ef4;if(!currentQuizData){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง');return;}let _0x33472b=JSON[_0x345a5d(0x3d4)](JSON[_0x345a5d(0x36f)](currentQuizData));currentMode=_0x345a5d(0xa0f),currentStudentName=_0x345a5d(0xd44),adminView[_0x345a5d(0xc3c)]['add'](_0x345a5d(0xcb0)),studentView[_0x345a5d(0xc3c)]['remove'](_0x345a5d(0xcb0)),studentInitialView[_0x345a5d(0xc3c)][_0x345a5d(0x4ad)](_0x345a5d(0xcb0)),studentNameSelectionView[_0x345a5d(0xc3c)][_0x345a5d(0x4ad)](_0x345a5d(0xcb0)),studentResultArea[_0x345a5d(0xc3c)][_0x345a5d(0x4ad)](_0x345a5d(0xcb0)),studentQuizArea['classList']['remove'](_0x345a5d(0xcb0)),quizStartTime=new Date(),displayQuizForStudent(_0x33472b);}function handleResultDisplay(_0x50c7c0,_0x293a67,_0x1593be,_0x1c41f6,_0x530c10,_0xb6dd52){const _0x50c9aa=_0x473ef4;if(_0x50c7c0==='manual_release'){displaySubmissionConfirmation();return;}const _0x51ab97=currentDisplayedQuiz['settings']?.[_0x50c9aa(0xaf7)]??Math['floor'](_0xb6dd52/0x2),_0x2b20d=currentDisplayedQuiz['settings']?.[_0x50c9aa(0xb16)]??![],_0x400e1b=currentDisplayedQuiz[_0x50c9aa(0xb37)]?.['loopUntilPass']===!![],_0x292c18=_0x293a67<_0x51ab97,_0x3f3116=_0x50c7c0===_0x50c9aa(0x6a5)||_0x50c7c0==='perfect_score_status';if(_0x400e1b&&_0x292c18&&!_0x3f3116){_0x50c7c0==='show_results_and_answers'?displayResultsWithAnswers(_0x293a67,_0x1593be,_0x1c41f6,_0x530c10,_0xb6dd52,!![]):displayLoopScreen(_0x293a67,_0xb6dd52,_0x50c7c0);return;}if(_0x2b20d&&_0x292c18){startAdaptiveFlow(_0x530c10,_0x293a67,_0xb6dd52);return;}switch(_0x50c7c0){case _0x50c9aa(0x8a8):displayResultsWithAnswers(_0x293a67,_0x1593be,_0x1c41f6,_0x530c10,_0xb6dd52);break;case'show_results_only':displayResultsScoreOnly(_0x293a67,_0x1593be,_0x1c41f6,_0xb6dd52);break;case _0x50c9aa(0x8da):displayPassFailOnly(_0x293a67,_0xb6dd52);break;case _0x50c9aa(0x6a5):displayHalfMarkResult(_0x293a67,_0xb6dd52);break;case _0x50c9aa(0x8f6):displayPerfectScoreResult(_0x293a67,_0xb6dd52);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x524c8e){const _0x33f8ef=_0x473ef4;studentReadingArea[_0x33f8ef(0xbec)]=_0x33f8ef(0x374);const _0x1ea428='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x524c8e+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20'+simpleMathPrompt+_0x33f8ef(0x367),_0x430453={'type':_0x33f8ef(0x7b6),'properties':{'questionText':{'type':_0x33f8ef(0x4ed)},'options':{'type':_0x33f8ef(0x440),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x33f8ef(0xb6b)},'explanation':{'type':'STRING'}},'required':['questionText',_0x33f8ef(0x745),_0x33f8ef(0xb8c),'explanation']},_0xf200c4={'type':_0x33f8ef(0x7b6),'properties':{'topic':{'type':_0x33f8ef(0x4ed)},'questions':{'type':_0x33f8ef(0x440),'items':_0x430453}},'required':[_0x33f8ef(0x2d8),'questions']};try{const _0x4bdaac=await callAnalysisApi(_0x1ea428,_0xf200c4);_0x4bdaac[_0x33f8ef(0x986)]=!![],studentReadingArea[_0x33f8ef(0xc3c)]['add'](_0x33f8ef(0xcb0));const _0x1f7f39={...currentDisplayedQuiz[_0x33f8ef(0xb37)],'isAdaptive':![],'resultsDisplay':_0x33f8ef(0x8a8)};_0x4bdaac[_0x33f8ef(0xb37)]=_0x1f7f39,displayQuizForStudent(_0x4bdaac);}catch(_0x1c77ed){console['error'](_0x33f8ef(0x6de),_0x1c77ed),showMessage('เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม'),showView(_0x33f8ef(0xb9c));}}function displayPassFailOnly(_0x3bea6d,_0x136d50){const _0x3a49fe=_0x473ef4,_0x4e202f=currentDisplayedQuiz[_0x3a49fe(0xb37)]?.[_0x3a49fe(0xaf7)]??-0x1,_0x5bdad2=currentDisplayedQuiz[_0x3a49fe(0x986)]===!![];let _0x4d9549='',_0x345b15=![];if(_0x5bdad2||_0x4e202f!==-0x1){_0x345b15=_0x5bdad2?_0x3bea6d===_0x136d50:_0x3bea6d>=_0x4e202f;const _0x2cabb3=_0x345b15?_0x3a49fe(0x257):_0x3a49fe(0x755),_0x37c4ce=_0x345b15?'ผ่าน':_0x3a49fe(0x51b);_0x4d9549='<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20'+_0x2cabb3+'\x22>'+_0x37c4ce+_0x3a49fe(0x4ab);}else _0x4d9549=_0x3a49fe(0x57a);let _0x2f89ae=_0x3a49fe(0x97a)+currentStudentName+_0x3a49fe(0x410)+_0x4d9549+_0x3a49fe(0xd4b);studentResultArea[_0x3a49fe(0xbec)]=_0x2f89ae,studentResultArea[_0x3a49fe(0xc3c)][_0x3a49fe(0x6f9)]('hidden'),studentQuizArea[_0x3a49fe(0xc3c)][_0x3a49fe(0x4ad)](_0x3a49fe(0xcb0)),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x345b15});}function cancelAdminTest(){const _0x172817=_0x473ef4;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x172817(0x39d)](_0x172817(0x27f),handleFullscreenChange),document[_0x172817(0x39d)]('visibilitychange',handleVisibilityChange),currentMode=_0x172817(0x769),studentView[_0x172817(0xc3c)][_0x172817(0x4ad)](_0x172817(0xcb0)),adminView[_0x172817(0xc3c)][_0x172817(0x6f9)](_0x172817(0xcb0)),cameFromBlueprint&&currentBlueprintProjectId?(displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![]):showView(_0x172817(0x2a6));}function setupResultScreenBackButton(_0x595e0d){const _0x44abb5=_0x473ef4,_0x998184={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x595e0d};if(_0x998184[_0x44abb5(0xa68)]){const _0xbd9664=_0x44abb5(0xd41);studentResultArea[_0x44abb5(0xc77)]('beforeend',_0xbd9664),document[_0x44abb5(0x7eb)](_0x44abb5(0xcf9))[_0x44abb5(0x5e6)](_0x44abb5(0x732),()=>{const _0x4960f5=_0x44abb5;studentResultArea['classList'][_0x4960f5(0x4ad)](_0x4960f5(0xcb0)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x35e4f4=_0x44abb5(0xc02),_0x410af=currentMode===_0x44abb5(0xa0f),_0x36133b=_0x410af?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ':_0x44abb5(0x498);let _0x500fb6='';_0x998184[_0x44abb5(0x786)]&&(_0x500fb6+='<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>');let _0x35761a=_0x998184[_0x44abb5(0x4f9)];_0x35761a===undefined&&(_0x35761a=_0x998184[_0x44abb5(0xa94)]<_0x998184[_0x44abb5(0xbff)]);_0x35761a&&(_0x500fb6+='<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>');_0x500fb6+=_0x44abb5(0xd53)+_0x35e4f4+_0x44abb5(0x580)+_0x36133b+_0x44abb5(0x890);const _0x4b9d0e=_0x44abb5(0x669)+_0x500fb6+_0x44abb5(0x3ab);studentResultArea[_0x44abb5(0xc77)](_0x44abb5(0x658),_0x4b9d0e),studentResultArea[_0x44abb5(0x6ea)](_0x44abb5(0x5ad))?.[_0x44abb5(0x5e6)](_0x44abb5(0x732),handleShowStudentRankings);const _0x3f5bdb=studentResultArea[_0x44abb5(0x6ea)](_0x44abb5(0x70f));_0x3f5bdb&&_0x3f5bdb[_0x44abb5(0x5e6)](_0x44abb5(0x732),()=>{const _0x270a5f=_0x44abb5;studentResultArea[_0x270a5f(0xc3c)][_0x270a5f(0x4ad)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x44abb5(0x7eb)](_0x35e4f4)[_0x44abb5(0x5e6)](_0x44abb5(0x732),()=>{const _0x3ec1ed=_0x44abb5;_0x410af?(currentMode=_0x3ec1ed(0x769),studentView[_0x3ec1ed(0xc3c)]['add']('hidden'),adminView[_0x3ec1ed(0xc3c)][_0x3ec1ed(0x6f9)](_0x3ec1ed(0xcb0)),showView(_0x3ec1ed(0x2a6))):(showView('student'),document[_0x3ec1ed(0x7eb)]('quiz-id-input')[_0x3ec1ed(0x53d)]='');});}function displayResultsWithAnswers(_0x43d963,_0x3cdb3f,_0x10886d,_0x30713d,_0x1d1bdd,_0x4b7aa9=![]){const _0x27c7c1=_0x473ef4,_0x524744=_0x1d1bdd>0x0?_0x43d963/_0x1d1bdd*0x64:0x0,_0x506a10=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x482450=currentDisplayedQuiz['isRemedial']===!![];let _0x20d20c='';if(_0x482450||_0x506a10!==-0x1){let _0x31438f=_0x482450?_0x43d963===_0x1d1bdd:_0x43d963>=_0x506a10;const _0x335481=_0x31438f?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x3ab2e9=_0x31438f?_0x27c7c1(0x7c3):_0x27c7c1(0x51b);_0x20d20c=_0x27c7c1(0xc1f)+_0x335481+'\x22>'+_0x3ab2e9+'</p>';}let _0x379204=_0x27c7c1(0x523)+currentStudentName+_0x27c7c1(0x6c4)+_0x43d963+_0x27c7c1(0x78d)+_0x1d1bdd+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x20d20c+_0x27c7c1(0x547)+_0x3cdb3f+_0x27c7c1(0x457)+_0x524744[_0x27c7c1(0xac3)](0x0)+_0x27c7c1(0x9e1);currentDisplayedQuiz[_0x27c7c1(0x3dd)][_0x27c7c1(0xb15)]((_0x4e3c71,_0x955d9c)=>{const _0x3db622=_0x27c7c1,_0x3f2d36=_0x30713d[_0x955d9c],_0x35bb77=_0x3f2d36[_0x3db622(0x913)],_0x2f80e2=_0x3f2d36[_0x3db622(0x95d)],_0x4c9656=_0x4e3c71[_0x3db622(0x22d)]||currentDisplayedQuiz[_0x3db622(0x3d3)];_0x379204+=_0x3db622(0x511)+(_0x2f80e2?'border-green-300\x20bg-green-50':_0x3db622(0x75c))+_0x3db622(0xa3d)+(_0x955d9c+0x1)+'.\x20'+(_0x4e3c71[_0x3db622(0xd03)]||_0x4e3c71[_0x3db622(0x837)])+_0x3db622(0x34a);switch(_0x4c9656){case _0x3db622(0xac9):const _0x2b70a2=_0x35bb77||_0x3db622(0x73f),_0x552d9a=_0x4e3c71[_0x3db622(0xc73)];_0x379204+=_0x3db622(0x9c0)+(!_0x2f80e2?_0x3db622(0x510):'')+'\x22>'+_0x2b70a2+'</span></p>';!_0x2f80e2&&(_0x379204+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x552d9a+_0x3db622(0xc65));break;case _0x3db622(0x314):_0x379204+=_0x3db622(0x277)+(_0x35bb77||_0x3db622(0x73f))+'</p>',_0x379204+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x4e3c71[_0x3db622(0x8f5)]+'</p>';break;case'true_false':_0x379204+=_0x3db622(0x465)+(_0x4e3c71[_0x3db622(0x8ae)]===!![]?_0x3db622(0xad3):'')+'\x20'+(_0x35bb77==='true'&&!_0x2f80e2?'line-through\x20text-red-700':'')+_0x3db622(0xa8d),_0x379204+='<p\x20class=\x22'+(_0x4e3c71[_0x3db622(0x8ae)]===![]?_0x3db622(0xad3):'')+'\x20'+(_0x35bb77===_0x3db622(0x2aa)&&!_0x2f80e2?'line-through\x20text-red-700':'')+_0x3db622(0x9f6);break;default:_0x379204+=_0x4e3c71[_0x3db622(0x745)][_0x3db622(0xa3b)]((_0x441cde,_0x1917d7)=>{const _0x1466b9=_0x3db622;let _0xdfd45d='',_0x197939='';if(_0x1917d7===_0x4e3c71[_0x1466b9(0xb8c)])_0xdfd45d='font-bold\x20text-green-700',_0x197939='<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>';else _0x1917d7===_0x35bb77&&(_0xdfd45d='font-bold\x20text-red-700\x20line-through',_0x197939=_0x1466b9(0x6b6));return _0x1466b9(0x584)+_0xdfd45d+'\x22>'+_0x197939+_0x441cde+_0x1466b9(0x3ab);})[_0x3db622(0xaa2)]('');break;}_0x379204+=_0x3db622(0x1f7)+(_0x4e3c71[_0x3db622(0x30b)]||_0x3db622(0xb91))+_0x3db622(0x3ab);if(!_0x2f80e2){const _0x5479d3=_0x4e3c71[_0x3db622(0xd03)]||_0x4e3c71[_0x3db622(0x837)];_0x379204+=_0x3db622(0xb72)+escape(_0x5479d3)+_0x3db622(0x420);}_0x379204+='</div>';}),studentResultArea[_0x27c7c1(0xbec)]=_0x379204,renderEarnedBadges(_0x10886d,_0x27c7c1(0x8ed)),studentResultArea['classList']['remove'](_0x27c7c1(0xcb0)),studentQuizArea[_0x27c7c1(0xc3c)][_0x27c7c1(0x4ad)]('hidden'),setupResultScreenBackButton({'isLooping':_0x4b7aa9,'score':_0x43d963,'totalQuestions':_0x1d1bdd,'showRankings':!![]});if(window[_0x27c7c1(0x5f9)])window['MathJax'][_0x27c7c1(0x93d)]([studentResultArea]);}function displayResultsScoreOnly(_0xf309c6,_0x5cee47,_0x43a9cb,_0x1fef58){const _0x2d19d7=_0x473ef4,_0x1f549e=_0x1fef58>0x0?_0xf309c6/_0x1fef58*0x64:0x0,_0x488481=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x477495=currentDisplayedQuiz['isRemedial']===!![];let _0x19a38a='';if(_0x477495||_0x488481!==-0x1){let _0xe1aa50=_0x477495?_0xf309c6===_0x1fef58:_0xf309c6>=_0x488481;const _0x14be0a=_0xe1aa50?'bg-green-100\x20text-green-800':_0x2d19d7(0x755),_0x5824ff=_0xe1aa50?'ผ่าน':_0x2d19d7(0x51b);_0x19a38a=_0x2d19d7(0xc1f)+_0x14be0a+'\x22>'+_0x5824ff+'</p>';}let _0x2711a9='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x2d19d7(0xb3c)+_0xf309c6+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x1fef58+_0x2d19d7(0x1ec)+_0x19a38a+_0x2d19d7(0x547)+_0x5cee47+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20'+_0x1f549e[_0x2d19d7(0xac3)](0x0)+_0x2d19d7(0x500);studentResultArea[_0x2d19d7(0xbec)]=_0x2711a9,renderEarnedBadges(_0x43a9cb,_0x2d19d7(0x8ed)),studentResultArea['classList'][_0x2d19d7(0x6f9)](_0x2d19d7(0xcb0)),studentQuizArea[_0x2d19d7(0xc3c)][_0x2d19d7(0x4ad)](_0x2d19d7(0xcb0)),setupResultScreenBackButton({'score':_0xf309c6,'totalQuestions':_0x1fef58,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x296dff=_0x473ef4;let _0x35573d=_0x296dff(0x27e)+currentStudentName+_0x296dff(0xb85);studentResultArea['innerHTML']=_0x35573d,studentResultArea[_0x296dff(0xc3c)]['remove'](_0x296dff(0xcb0)),studentQuizArea['classList'][_0x296dff(0x4ad)]('hidden'),document[_0x296dff(0x7eb)](_0x296dff(0x487))[_0x296dff(0x5e6)]('click',()=>{const _0x22f579=_0x296dff;showView(_0x22f579(0xb9c)),document[_0x22f579(0x7eb)]('quiz-id-input')[_0x22f579(0x53d)]='';});}function renderEarnedBadges(_0x2da027,_0x43d110){const _0x30516a=_0x473ef4,_0x1cd6fd=document[_0x30516a(0x7eb)](_0x43d110);if(!_0x1cd6fd||!_0x2da027||_0x2da027[_0x30516a(0x373)]===0x0)return;let _0x5be770='';_0x2da027[_0x30516a(0xb15)]((_0x3ba1b7,_0x4ed98e)=>{const _0x216782=_0x30516a,_0x4766ff=Object[_0x216782(0x63a)](BADGES)['find'](_0x390000=>_0x390000['id']===_0x3ba1b7);_0x4766ff&&(_0x5be770+=_0x216782(0x3ec)+_0x4ed98e*0.2+_0x216782(0x3e2)+_0x4766ff[_0x216782(0xba8)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x4766ff['icon']+_0x216782(0x9b6)+_0x4766ff[_0x216782(0x65c)]+_0x216782(0xa28));}),_0x1cd6fd[_0x30516a(0xbec)]=_0x5be770;}function startPresentation(_0x232f60){const _0x2056ab=_0x473ef4;currentQuizData=getShuffledQuiz(_0x232f60),currentPresentationSlide=0x0,presentationModal[_0x2056ab(0xd84)]['display']=_0x2056ab(0xd0b),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x529924=_0x473ef4;document[_0x529924(0x790)]&&document['exitFullscreen'](),presentationModal[_0x529924(0xd84)][_0x529924(0xa03)]=_0x529924(0x2bc);}function renderPresentationSlide(_0x43f102){const _0x21f42f=_0x473ef4,_0x29779a=document[_0x21f42f(0x7eb)]('presentation-slide-container');if(!currentQuizData||!currentQuizData['questions']||!currentQuizData['questions'][_0x43f102]){_0x29779a[_0x21f42f(0xbec)]='<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>';return;}const _0x54e0a5=currentQuizData[_0x21f42f(0x3dd)][_0x43f102],_0x15afd8=_0x54e0a5[_0x21f42f(0x22d)]||currentQuizData['quizType'];_0x29779a[_0x21f42f(0xbec)]='';let _0xf71c6d=_0x21f42f(0xcf0)+(_0x54e0a5[_0x21f42f(0x675)]?_0x21f42f(0x706)+_0x54e0a5[_0x21f42f(0x675)]+'</div>':'')+_0x21f42f(0x78f)+(_0x43f102+0x1)+'.\x20'+(_0x54e0a5[_0x21f42f(0xd03)]||_0x54e0a5['questionText'])+_0x21f42f(0x5c0);switch(_0x15afd8){case'matching_item':_0xf71c6d+=_0x54e0a5[_0x21f42f(0x938)]['map'](_0x58c4f5=>_0x21f42f(0xbf2)+_0x58c4f5+_0x21f42f(0x81d))['join']('');break;case _0x21f42f(0x84f):_0xf71c6d+=_0x21f42f(0x89d),_0xf71c6d+=_0x21f42f(0x575);break;case _0x21f42f(0x2b7):case _0x21f42f(0x314):_0xf71c6d+=_0x21f42f(0x97f);break;case'fill_in_the_blank':case'multiple_choice':default:_0xf71c6d+=_0x54e0a5[_0x21f42f(0x745)][_0x21f42f(0xa3b)]((_0x319297,_0x5b6316)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22'+_0x5b6316+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x319297+_0x21f42f(0x81d))[_0x21f42f(0xaa2)]('');break;}_0xf71c6d+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x54e0a5[_0x21f42f(0x30b)]||_0x21f42f(0xb91))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x29779a[_0x21f42f(0xbec)]=_0xf71c6d;if(window[_0x21f42f(0x5f9)])window[_0x21f42f(0x5f9)][_0x21f42f(0x93d)]([_0x29779a]);let _0x30d506=[];switch(_0x15afd8){case _0x21f42f(0xac9):_0x30d506=_0x54e0a5['allResponses']||[];break;case _0x21f42f(0x84f):_0x30d506=[_0x21f42f(0xabb),'ไม่ใช่'];break;default:_0x30d506=_0x54e0a5[_0x21f42f(0x745)]||[];break;}const _0x1217ab=document[_0x21f42f(0x7eb)]('presentation-scratchpad-btn');_0x1217ab&&(_0x1217ab['onclick']=()=>{openScratchpad(_0x54e0a5,_0x30d506);});document['querySelectorAll'](_0x21f42f(0x8f8))['forEach'](_0x448180=>{const _0x53e3eb=_0x21f42f;_0x448180[_0x53e3eb(0x5e6)](_0x53e3eb(0x732),_0x45647b=>revealAnswerForPresentation(_0x43f102,_0x45647b[_0x53e3eb(0xd3c)]));});const _0xc47ba6=document[_0x21f42f(0x7eb)](_0x21f42f(0x383));_0xc47ba6&&_0xc47ba6[_0x21f42f(0x5e6)](_0x21f42f(0x732),()=>checkShortAnswerForPresentation(_0x43f102)),document[_0x21f42f(0x7eb)](_0x21f42f(0x64f))[_0x21f42f(0xc95)]=_0x21f42f(0x4e5)+(_0x43f102+0x1)+'\x20/\x20'+currentQuizData['questions'][_0x21f42f(0x373)],document[_0x21f42f(0x7eb)](_0x21f42f(0x678))[_0x21f42f(0x744)]=_0x43f102===0x0,document[_0x21f42f(0x7eb)](_0x21f42f(0x79e))['disabled']=_0x43f102===currentQuizData[_0x21f42f(0x3dd)]['length']-0x1;}async function checkShortAnswerForPresentation(_0x25383b){const _0x31779a=_0x473ef4,_0x5265b6=currentQuizData[_0x31779a(0x3dd)][_0x25383b],_0x5e73ba=document[_0x31779a(0x7eb)](_0x31779a(0x3e8)),_0x3b797d=document[_0x31779a(0x7eb)]('check-presentation-answer-btn'),_0x13cf80=document[_0x31779a(0x7eb)]('presentation-ai-result'),_0x55cbee=document[_0x31779a(0x7eb)](_0x31779a(0x325));if(!_0x5e73ba||!_0x3b797d||!_0x13cf80||!_0x55cbee)return;const _0x38fb0e=_0x5e73ba[_0x31779a(0x53d)][_0x31779a(0xa7e)]();if(_0x38fb0e==='')return;_0x3b797d[_0x31779a(0x744)]=!![],_0x3b797d['innerHTML']=_0x31779a(0x7c9),_0x5e73ba['disabled']=!![];const _0x8fad00=await gradeShortAnswer(_0x38fb0e,_0x5265b6);_0x8fad00?_0x13cf80[_0x31779a(0xbec)]='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x13cf80['innerHTML']=_0x31779a(0xc3a)+_0x5265b6[_0x31779a(0x8f5)]+')',_0x13cf80[_0x31779a(0xc3c)][_0x31779a(0x6f9)](_0x31779a(0xcb0)),_0x55cbee['classList'][_0x31779a(0x6f9)](_0x31779a(0xcb0)),_0x3b797d[_0x31779a(0xc3c)][_0x31779a(0x4ad)](_0x31779a(0xcb0));}function revealAnswerForPresentation(_0x16b604,_0x270b79){const _0x397b11=_0x473ef4,_0x2f81fc=currentQuizData[_0x397b11(0x3dd)][_0x16b604],_0x2ac2a4=_0x2f81fc['questionType']||currentQuizData[_0x397b11(0x3d3)];document[_0x397b11(0x89b)](_0x397b11(0x8f8))[_0x397b11(0xb15)](_0x74144e=>{const _0x2e4671=_0x397b11;_0x74144e[_0x2e4671(0x744)]=!![],_0x74144e['classList'][_0x2e4671(0x6f9)](_0x2e4671(0x537));let _0x368422=![];if(_0x2ac2a4===_0x2e4671(0xcc0)||_0x2ac2a4==='fill_in_the_blank'){const _0x580de7=parseInt(_0x74144e[_0x2e4671(0x6e9)][_0x2e4671(0xbf7)]);_0x368422=_0x580de7===_0x2f81fc[_0x2e4671(0xb8c)];}else{if(_0x2ac2a4===_0x2e4671(0x84f)){const _0x46d7e2=_0x74144e[_0x2e4671(0x6e9)][_0x2e4671(0x913)]===_0x2e4671(0xc45);_0x368422=_0x46d7e2===_0x2f81fc[_0x2e4671(0x8ae)];}else _0x2ac2a4===_0x2e4671(0xac9)&&(_0x368422=_0x74144e[_0x2e4671(0xc95)][_0x2e4671(0xa7e)]()===_0x2f81fc['correctResponse']);}_0x368422?_0x74144e[_0x2e4671(0xc3c)][_0x2e4671(0x4ad)](_0x2e4671(0x463),'text-white',_0x2e4671(0x522)):_0x74144e[_0x2e4671(0xc3c)][_0x2e4671(0x4ad)](_0x2e4671(0x994));}),_0x270b79[_0x397b11(0xc3c)][_0x397b11(0x6f9)]('opacity-50');let _0xd6fbb0=![];if(_0x2ac2a4===_0x397b11(0xcc0))_0xd6fbb0=parseInt(_0x270b79['dataset'][_0x397b11(0xbf7)])===_0x2f81fc[_0x397b11(0xb8c)];else{if(_0x2ac2a4===_0x397b11(0x84f))_0xd6fbb0=_0x270b79[_0x397b11(0x6e9)][_0x397b11(0x913)]===_0x397b11(0xc45)===_0x2f81fc[_0x397b11(0x8ae)];else _0x2ac2a4===_0x397b11(0xac9)&&(_0xd6fbb0=_0x270b79['textContent'][_0x397b11(0xa7e)]()===_0x2f81fc[_0x397b11(0xc73)]);}!_0xd6fbb0&&_0x270b79[_0x397b11(0xc3c)][_0x397b11(0x4ad)](_0x397b11(0x228),_0x397b11(0x8e9),_0x397b11(0x940)),document[_0x397b11(0x7eb)]('presentation-explanation')[_0x397b11(0xc3c)][_0x397b11(0x6f9)]('hidden');}function startWholeQuizTimer(_0x411ebf){const _0x1364dd=_0x473ef4,_0x501d14=document[_0x1364dd(0x7eb)](_0x1364dd(0x6af));if(!_0x501d14)return;const _0x73726b=Date[_0x1364dd(0x823)]()+_0x411ebf*0x3c*0x3e8;_0x501d14[_0x1364dd(0xbec)]=_0x1364dd(0xc83);const _0x484121=document[_0x1364dd(0x7eb)]('countdown-display');quizTimerInterval=setInterval(()=>{const _0x4129b4=_0x1364dd,_0x25d6d3=_0x73726b-Date[_0x4129b4(0x823)]();if(_0x25d6d3<=0x0)clearInterval(quizTimerInterval),_0x484121['textContent']='00:00',showMessage(_0x4129b4(0x90a)),handleSubmitQuiz(null);else{const _0x1f0999=Math[_0x4129b4(0x8a0)](_0x25d6d3/0x3e8/0x3c%0x3c)[_0x4129b4(0xc07)]()[_0x4129b4(0xb98)](0x2,'0'),_0x4d199f=Math['floor'](_0x25d6d3/0x3e8%0x3c)[_0x4129b4(0xc07)]()[_0x4129b4(0xb98)](0x2,'0');_0x484121[_0x4129b4(0xc95)]=_0x1f0999+':'+_0x4d199f;}},0x3e8);}function renderPerQuestionView(){const _0x24e9f5=_0x473ef4;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x305889=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x104a46=_0x305889[_0x24e9f5(0x22d)]||currentDisplayedQuiz[_0x24e9f5(0x3d3)],_0x28d584=currentDisplayedQuiz[_0x24e9f5(0xb37)]?.[_0x24e9f5(0x6ff)]===!![];let _0x443e24='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0x24e9f5(0x306)+currentDisplayedQuiz['questions'][_0x24e9f5(0x373)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode===_0x24e9f5(0xa0f)?_0x24e9f5(0x5b7):'')+_0x24e9f5(0x751)+currentDisplayedQuiz[_0x24e9f5(0x2d8)]+_0x24e9f5(0x2dd);studentQuizArea[_0x24e9f5(0xbec)]=_0x443e24;let _0x26f268=_0x305889[_0x24e9f5(0xd03)]||_0x305889['questionText'];_0x305889['imageCode']&&(_0x26f268+=_0x24e9f5(0x706)+_0x305889[_0x24e9f5(0x675)]+_0x24e9f5(0x3ab));let _0x206eaf='';switch(_0x104a46){case _0x24e9f5(0x314):case _0x24e9f5(0x2b7):_0x206eaf=_0x24e9f5(0x51c);break;case'true_false':_0x206eaf=_0x24e9f5(0x963);break;case _0x24e9f5(0xac9):_0x206eaf='<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x305889[_0x24e9f5(0x938)]||[])[_0x24e9f5(0xa3b)](_0x4ae114=>_0x24e9f5(0xbdc)+_0x4ae114+'\x22>'+_0x4ae114+_0x24e9f5(0xc64))[_0x24e9f5(0xaa2)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>';break;default:_0x305889[_0x24e9f5(0x745)]&&(_0x206eaf=_0x305889[_0x24e9f5(0x745)][_0x24e9f5(0xa3b)]((_0x1bd906,_0x343f8a)=>_0x24e9f5(0x8d4)+_0x343f8a+'\x22\x20name=\x22question_single\x22\x20value=\x22'+_0x343f8a+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt'+_0x343f8a+'\x22>'+_0x1bd906+_0x24e9f5(0x316))[_0x24e9f5(0xaa2)](''));break;}document[_0x24e9f5(0x7eb)](_0x24e9f5(0x727))[_0x24e9f5(0xbec)]=_0x26f268,document[_0x24e9f5(0x7eb)](_0x24e9f5(0x7df))[_0x24e9f5(0xbec)]=_0x206eaf;const _0x2f73b8=currentDisplayedQuiz[_0x24e9f5(0xb37)]?.[_0x24e9f5(0x6ff)]===!![],_0x1596f0=currentDisplayedQuiz[_0x24e9f5(0xb37)]?.[_0x24e9f5(0x292)]||_0x24e9f5(0xd68);if(_0x2f73b8&&_0x1596f0===_0x24e9f5(0xd68)){const _0x3f38e4=_0x24e9f5(0x96c);studentQuizArea[_0x24e9f5(0x6ea)](_0x24e9f5(0x9ef))[_0x24e9f5(0xc77)](_0x24e9f5(0x658),_0x3f38e4);}studentQuizArea[_0x24e9f5(0xc77)]('beforeend',_0x24e9f5(0xaaf)+(currentQuestionIndex===currentDisplayedQuiz['questions'][_0x24e9f5(0x373)]-0x1?_0x24e9f5(0x716):_0x24e9f5(0x77d))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20');currentMode===_0x24e9f5(0xa0f)&&document['getElementById'](_0x24e9f5(0xcff))?.[_0x24e9f5(0x5e6)](_0x24e9f5(0x732),cancelAdminTest);document[_0x24e9f5(0x7eb)](_0x24e9f5(0x9ca))[_0x24e9f5(0x5e6)](_0x24e9f5(0x732),()=>handleNextQuestionInTimedMode(![]));if(window[_0x24e9f5(0x5f9)])window['MathJax'][_0x24e9f5(0x93d)]([studentQuizArea]);currentDisplayedQuiz['settings']?.[_0x24e9f5(0x39f)]===_0x24e9f5(0x266)&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x1eeb91=_0x473ef4,_0x17c533=currentDisplayedQuiz['settings']['timerDuration'],_0x59fa32=document[_0x1eeb91(0x7eb)](_0x1eeb91(0x5f1));if(!_0x59fa32)return;let _0x16937a=_0x17c533;_0x59fa32[_0x1eeb91(0xbec)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>'+_0x16937a+_0x1eeb91(0x282);const _0x3b2cb8=document['getElementById'](_0x1eeb91(0xaba)),_0x53ca05=document[_0x1eeb91(0x7eb)](_0x1eeb91(0x8dd));perQuestionTimerInterval=setInterval(()=>{const _0x43d348=_0x1eeb91;_0x16937a--;const _0x2e4ac1=_0x16937a/_0x17c533*0x64;_0x3b2cb8[_0x43d348(0xd84)][_0x43d348(0xca6)]=_0x2e4ac1+'%',_0x53ca05[_0x43d348(0xc95)]=_0x16937a,_0x16937a<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x3c71df=![]){const _0x50239e=_0x473ef4;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x814834=null,_0x354dda=![];if(!_0x3c71df){const _0x49378b=currentDisplayedQuiz[_0x50239e(0x3dd)][currentQuestionIndex],_0x421972=_0x49378b[_0x50239e(0x22d)]||currentDisplayedQuiz['quizType'];if(_0x421972===_0x50239e(0x314)||_0x421972==='fill_in_no_choices')_0x814834=document['querySelector']('textarea[name=\x22question_single\x22]')?.[_0x50239e(0x53d)][_0x50239e(0xa7e)]()??'';else{if(_0x421972==='matching_item')_0x814834=document[_0x50239e(0x6ea)](_0x50239e(0x9ac))?.['value']??'';else{const _0xe1d7ae=document[_0x50239e(0x6ea)](_0x50239e(0x7ee));_0xe1d7ae&&(_0x814834=_0xe1d7ae[_0x50239e(0x53d)]);}}if(_0x814834===null||_0x814834===''){showMessage(_0x50239e(0xcc1)),startPerQuestionTimer();return;}const _0x53fdca=currentDisplayedQuiz[_0x50239e(0xb37)]?.['isConfidenceScoringEnabled']===!![],_0x4d0256=currentDisplayedQuiz[_0x50239e(0xb37)]?.[_0x50239e(0x292)]||_0x50239e(0xd68);if(_0x53fdca&&_0x4d0256===_0x50239e(0xc68)){document[_0x50239e(0x7eb)](_0x50239e(0x6a3))['dataset'][_0x50239e(0x1fe)]=_0x50239e(0x5e7),document['getElementById'](_0x50239e(0xa49))[_0x50239e(0x53d)]=_0x814834,document[_0x50239e(0x7eb)](_0x50239e(0x6a3))[_0x50239e(0xc3c)]['remove'](_0x50239e(0xcb0));return;}const _0x5956a1=document[_0x50239e(0x7eb)](_0x50239e(0xab1));_0x5956a1&&(_0x354dda=_0x5956a1[_0x50239e(0x5b1)]);}const _0x33a8ed={'answer':_0x814834,'wasConfident':_0x354dda};proceedToNextQuestion(_0x33a8ed);}async function finalizePerQuestionQuiz(){const _0x12e977=_0x473ef4,_0x5c73a5=currentDisplayedQuiz[_0x12e977(0x3dd)][_0x12e977(0x802)](_0x51935a=>_0x51935a[_0x12e977(0x22d)]===_0x12e977(0x314));_0x5c73a5?showMessage(_0x12e977(0x679)):showMessage(_0x12e977(0xa90));const _0x3a1c9d=currentQuizData['id'],_0x2aa279=doc(db,_0x12e977(0x41a)+appId+'/public/data/quizzes/'+_0x3a1c9d+_0x12e977(0xa06),currentStudentName),_0x3826ed=await getDoc(_0x2aa279),_0x27a78f=_0x3826ed[_0x12e977(0x931)]()?_0x3826ed[_0x12e977(0x1e4)]():{},_0x498ca7=_0x27a78f[_0x12e977(0xa5a)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x498ca7);}function getResultsFilename(){const _0x4a579d=_0x473ef4,_0x2c8820=document[_0x4a579d(0x7eb)]('results-quiz-title')[_0x4a579d(0xc95)]['replace'](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x4a579d(0x5ca)+(_0x2c8820||_0x4a579d(0x9ed));}function exportResultsAsImage(){const _0x3a90bf=_0x473ef4,_0x12584c=document['getElementById'](_0x3a90bf(0xa43));showMessage(_0x3a90bf(0x61e)),html2canvas(_0x12584c)[_0x3a90bf(0x8bb)](_0x3c2a6d=>{const _0xc1c763=_0x3a90bf,_0x41459b=document[_0xc1c763(0x855)]('a');_0x41459b[_0xc1c763(0x5a1)]=getResultsFilename()+'.png',_0x41459b['href']=_0x3c2a6d[_0xc1c763(0x713)]('image/png'),_0x41459b['click'](),messageModal[_0xc1c763(0xc3c)][_0xc1c763(0x4ad)](_0xc1c763(0xcb0));});}function exportResultsAsPDF(){const _0x369936=_0x473ef4,{jsPDF:_0x405a90}=window[_0x369936(0xc8b)],_0x4278ab=new _0x405a90();_0x4278ab[_0x369936(0x9d8)](_0x369936(0x3b7),_0x369936(0x9ad)),_0x4278ab[_0x369936(0x2bb)]({'html':_0x369936(0x665)}),_0x4278ab[_0x369936(0xd5c)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x28bb38=_0x473ef4,_0x14f518=_0x28bb38(0xb94)+_0x28bb38(0x591)+_0x28bb38(0x26d)+_0x28bb38(0x7fe),_0x5c6a57=_0x28bb38(0xa20),_0x37e4f6=_0x14f518+document[_0x28bb38(0x7eb)](_0x28bb38(0xa43))['innerHTML']+_0x5c6a57,_0x903ea9=_0x28bb38(0xccc)+encodeURIComponent(_0x37e4f6),_0x537a33=document[_0x28bb38(0x855)]('a');document[_0x28bb38(0x5d5)][_0x28bb38(0xae3)](_0x537a33),_0x537a33['href']=_0x903ea9,_0x537a33[_0x28bb38(0x5a1)]=getResultsFilename()+_0x28bb38(0x98b),_0x537a33[_0x28bb38(0x732)](),document[_0x28bb38(0x5d5)][_0x28bb38(0x473)](_0x537a33);}function exportResultsAsExcel(){const _0x22c1e3=_0x473ef4,_0x195347=document[_0x22c1e3(0x7eb)](_0x22c1e3(0x806));let _0x25138e=[];for(let _0x2a7c9f=0x0;_0x2a7c9f<_0x195347[_0x22c1e3(0xd52)]['length'];_0x2a7c9f++){let _0x562e7e=[],_0x33a52b=_0x195347[_0x22c1e3(0xd52)][_0x2a7c9f][_0x22c1e3(0x89b)](_0x22c1e3(0xcba));for(let _0x4c8b6c=0x0;_0x4c8b6c<_0x33a52b[_0x22c1e3(0x373)];_0x4c8b6c++){_0x562e7e[_0x22c1e3(0x526)]('\x22'+_0x33a52b[_0x4c8b6c][_0x22c1e3(0x8f2)][_0x22c1e3(0x7bd)](/"/g,'\x22\x22')+'\x22');}_0x25138e['push'](_0x562e7e['join'](','));}const _0x21997e=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x25138e['join']('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x596953=document[_0x22c1e3(0x855)]('a');_0x596953[_0x22c1e3(0x8e2)]=URL[_0x22c1e3(0x9b4)](_0x21997e),_0x596953[_0x22c1e3(0x5a1)]=getResultsFilename()+_0x22c1e3(0xc72),_0x596953['click']();}function exportTableAsImage(_0x220171,_0xb9cbb2){const _0x3684a3=_0x473ef4,_0x240998=document[_0x3684a3(0x7eb)](_0x220171);if(!_0x240998){showMessage(_0x3684a3(0x894));return;}showMessage(_0x3684a3(0x61e)),html2canvas(_0x240998)[_0x3684a3(0x8bb)](_0x3db6d7=>{const _0x22f0c7=_0x3684a3,_0x2f322a=document[_0x22f0c7(0x855)]('a');_0x2f322a[_0x22f0c7(0x5a1)]=_0xb9cbb2+_0x22f0c7(0x54f),_0x2f322a[_0x22f0c7(0x8e2)]=_0x3db6d7[_0x22f0c7(0x713)](_0x22f0c7(0x2f9)),_0x2f322a[_0x22f0c7(0x732)](),messageModal[_0x22f0c7(0xc3c)]['add']('hidden');});}function exportTableAsPDF(_0x3d8965,_0x1c4752){const _0x5b058=_0x473ef4,{jsPDF:_0x39f281}=window[_0x5b058(0xc8b)],_0x4a5521=new _0x39f281();_0x4a5521[_0x5b058(0x9d8)](_0x5b058(0x3b7),_0x5b058(0x9ad)),_0x4a5521[_0x5b058(0x2bb)]({'html':'#'+_0x3d8965}),_0x4a5521[_0x5b058(0xd5c)](_0x1c4752+_0x5b058(0xca8));}function exportTableAsWord(_0x4f0ee0,_0x2bf12c){const _0x2fcccc=_0x473ef4,_0x3e6bc3=document[_0x2fcccc(0x7eb)](_0x4f0ee0);if(!_0x3e6bc3){showMessage(_0x2fcccc(0x894));return;}const _0x37f58e=_0x2fcccc(0xb94)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0x2fcccc(0x7fe),_0x4b4ff2=_0x2fcccc(0xa20),_0x51e61c=_0x37f58e+_0x3e6bc3[_0x2fcccc(0xbec)]+_0x4b4ff2,_0x31fac9='data:application/vnd.ms-word;charset=utf-8,'+encodeURIComponent(_0x51e61c),_0x584c73=document[_0x2fcccc(0x855)]('a');document['body'][_0x2fcccc(0xae3)](_0x584c73),_0x584c73[_0x2fcccc(0x8e2)]=_0x31fac9,_0x584c73['download']=_0x2bf12c+_0x2fcccc(0x98b),_0x584c73['click'](),document[_0x2fcccc(0x5d5)][_0x2fcccc(0x473)](_0x584c73);}function _0x2a86(_0x2f47f7,_0x2ddffd){const _0x197e65=_0x197e();return _0x2a86=function(_0x2a86b6,_0x496eb6){_0x2a86b6=_0x2a86b6-0x1cf;let _0x4dbb30=_0x197e65[_0x2a86b6];return _0x4dbb30;},_0x2a86(_0x2f47f7,_0x2ddffd);}function exportTableAsExcel(_0x44e1b3,_0xa663b7){const _0xdd0f9b=_0x473ef4,_0x5e8046=document[_0xdd0f9b(0x7eb)](_0x44e1b3);if(!_0x5e8046){showMessage(_0xdd0f9b(0x894));return;}let _0x55c129=[];for(let _0x213ef0=0x0;_0x213ef0<_0x5e8046[_0xdd0f9b(0xd52)][_0xdd0f9b(0x373)];_0x213ef0++){let _0xa13d11=[],_0x346a0a=_0x5e8046[_0xdd0f9b(0xd52)][_0x213ef0][_0xdd0f9b(0x89b)](_0xdd0f9b(0xcba));for(let _0x5525dd=0x0;_0x5525dd<_0x346a0a[_0xdd0f9b(0x373)];_0x5525dd++){_0xa13d11[_0xdd0f9b(0x526)]('\x22'+_0x346a0a[_0x5525dd][_0xdd0f9b(0x8f2)][_0xdd0f9b(0x7bd)](/"/g,'\x22\x22')+'\x22');}_0x55c129[_0xdd0f9b(0x526)](_0xa13d11[_0xdd0f9b(0xaa2)](','));}const _0x506c70=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x55c129[_0xdd0f9b(0xaa2)]('\x0a')],{'type':_0xdd0f9b(0x206)}),_0xf86e68=document[_0xdd0f9b(0x855)]('a');_0xf86e68[_0xdd0f9b(0x8e2)]=URL[_0xdd0f9b(0x9b4)](_0x506c70),_0xf86e68[_0xdd0f9b(0x5a1)]=_0xa663b7+_0xdd0f9b(0xc72),_0xf86e68[_0xdd0f9b(0x732)]();}function renderAnalytics(_0x44836a,_0x5d9df5){const _0xe44753=_0x473ef4,_0x21d6d2=_0x5d9df5['filter'](_0x553310=>_0x553310['latestScore']!==undefined),_0x3b841f=currentProjectData[_0xe44753(0x55a)][_0xe44753(0x373)],_0xc7e742=_0x21d6d2[_0xe44753(0x373)],_0x5b674f=_0x3b841f-_0xc7e742,_0x1ee216=_0x3b841f>0x0?_0xc7e742/_0x3b841f*0x64:0x0,_0x43c91e=_0x21d6d2['map'](_0x5d9d68=>_0x5d9d68[_0xe44753(0xa08)]),_0x4506d3=_0x43c91e[_0xe44753(0x373)]>0x0?_0x43c91e[_0xe44753(0x718)]((_0x33fb1c,_0x182d77)=>_0x33fb1c+_0x182d77,0x0)/_0x43c91e[_0xe44753(0x373)]:0x0,_0x17de16=_0x44836a[_0xe44753(0x3dd)][_0xe44753(0x373)],_0x49581c=_0x17de16>0x0?_0x4506d3/_0x17de16*0x64:0x0,_0x27f890=calculateItemAnalysis(_0x44836a,_0x21d6d2),_0x5e8c96=calculateReliabilityKR20(_0x44836a,_0x21d6d2,_0x27f890[_0xe44753(0x20b)]);let _0x52a9fd='';if(_0x5e8c96!==null){let _0x53b7e2='';if(_0x5e8c96>=0.9)_0x53b7e2=_0xe44753(0x5cd);else{if(_0x5e8c96>=0.8)_0x53b7e2=_0xe44753(0x609);else{if(_0x5e8c96>=0.7)_0x53b7e2='ดี';else{if(_0x5e8c96>=0.6)_0x53b7e2=_0xe44753(0x28c);else _0x53b7e2=_0xe44753(0x7c4);}}}_0x52a9fd=_0xe44753(0x224)+_0x5e8c96[_0xe44753(0xac3)](0x2)+_0xe44753(0x66c)+_0x53b7e2+_0xe44753(0xbb6);}const _0x536991=document['getElementById'](_0xe44753(0xb7c));_0x536991['innerHTML']=_0xe44753(0x525)+_0x1ee216[_0xe44753(0xac3)](0x0)+_0xe44753(0x98f)+_0xc7e742+'/'+_0x3b841f+_0xe44753(0x5c1)+_0x4506d3[_0xe44753(0xac3)](0x2)+_0xe44753(0x6a9)+_0x49581c[_0xe44753(0xac3)](0x0)+_0xe44753(0x31d)+(_0x43c91e[_0xe44753(0x373)]>0x0?Math[_0xe44753(0xaea)](..._0x43c91e):_0xe44753(0xd1a))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>'+(_0x43c91e[_0xe44753(0x373)]>0x0?Math[_0xe44753(0x524)](..._0x43c91e):_0xe44753(0xd1a))+_0xe44753(0x513)+_0x52a9fd+_0xe44753(0x367);const _0x322545=document[_0xe44753(0x7eb)]('interesting-stats-wrapper');_0x322545&&_0x322545['remove']();const _0x5623b0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x536991[_0xe44753(0xc77)](_0xe44753(0xb9a),_0x5623b0);const _0xffb5a9=currentProjectData[_0xe44753(0x55a)]||[];renderSubmissionChart(_0xc7e742,_0x5b674f,_0x21d6d2,_0xffb5a9),renderScoreDistributionChart(_0x21d6d2,_0x17de16),renderQuestionAnalytics(_0x44836a,_0x21d6d2,_0xffb5a9),renderInterestingStats(_0x44836a,_0x21d6d2);}async function handleExportLessonPDF(){const _0x3631a8=_0x473ef4,_0x239d2d=document['getElementById'](_0x3631a8(0x720)),_0x4258ba=document[_0x3631a8(0x7eb)](_0x3631a8(0x56b))[_0x3631a8(0xc95)],_0x3c3268=window[_0x3631a8(0x666)]('',_0x3631a8(0x5d1)),_0x2c8b18=_0x3631a8(0xca9)+_0x4258ba+_0x3631a8(0x543)+_0x239d2d[_0x3631a8(0xbec)]+_0x3631a8(0x80b);_0x3c3268[_0x3631a8(0xd6d)][_0x3631a8(0x754)](_0x2c8b18),_0x3c3268[_0x3631a8(0xd6d)]['close'](),_0x3c3268[_0x3631a8(0x8d0)]=function(){setTimeout(()=>{const _0x3e6d6f=_0x2a86;_0x3c3268[_0x3e6d6f(0x3ca)]();},0x5dc);};}function renderInterestingStats(_0x2aefc0,_0x2ea85a){const _0x51682e=_0x473ef4,_0x44a8aa=document['getElementById'](_0x51682e(0xd88));if(!_0x44a8aa)return;if(_0x2ea85a[_0x51682e(0x373)]===0x0){_0x44a8aa[_0x51682e(0xbec)]=_0x51682e(0x1da);return;}const _0x5753d9=_0x2aefc0[_0x51682e(0x3dd)][_0x51682e(0xa3b)]((_0x84fc44,_0x21797f)=>({'index':_0x21797f+0x1,'text':_0x84fc44['questionText']||_0x84fc44[_0x51682e(0xd03)],'correct':0x0}));_0x2ea85a[_0x51682e(0xb15)](_0xadf8d1=>{const _0x35314c=_0x51682e,_0x21f7d5=_0xadf8d1['attempts'][_0xadf8d1[_0x35314c(0xa5a)][_0x35314c(0x373)]-0x1];_0x21f7d5&&_0x21f7d5[_0x35314c(0xbba)]&&_0x21f7d5[_0x35314c(0xbba)][_0x35314c(0xb15)](_0xdcc266=>{const _0x4e1b9b=_0x35314c,_0x35ad50=_0x5753d9[_0x4e1b9b(0x712)](_0x38b208=>_0x38b208['text']===_0xdcc266[_0x4e1b9b(0x50e)]);_0xdcc266[_0x4e1b9b(0x95d)]&&_0x35ad50&&_0x35ad50['correct']++;});});const _0xa10960=_0x2ea85a['length'],_0x62cc7b=Math[_0x51682e(0xaea)](..._0x5753d9[_0x51682e(0xa3b)](_0x368c10=>_0x368c10[_0x51682e(0x79f)])),_0x2324e6=Math[_0x51682e(0x524)](..._0x5753d9[_0x51682e(0xa3b)](_0x5f4633=>_0x5f4633[_0x51682e(0x79f)])),_0x3b9d4e=_0x5753d9[_0x51682e(0x514)](_0x417191=>_0x417191[_0x51682e(0x79f)]===_0x62cc7b)[_0x51682e(0xa3b)](_0x44a325=>_0x51682e(0x8aa)+_0x44a325[_0x51682e(0xbf7)]),_0x414b0e=_0x5753d9[_0x51682e(0x514)](_0x31b15d=>_0x31b15d[_0x51682e(0x79f)]===_0x2324e6)[_0x51682e(0xa3b)](_0x2e945a=>'ข้อ\x20'+_0x2e945a[_0x51682e(0xbf7)]),_0x2f2955=_0x2ea85a['sort']((_0x37fd8f,_0x47a74f)=>_0x47a74f[_0x51682e(0xa08)]-_0x37fd8f[_0x51682e(0xa08)])['filter']((_0x357c4d,_0x40f37c,_0x42da0a)=>_0x357c4d[_0x51682e(0xa08)]===_0x42da0a[0x0][_0x51682e(0xa08)]),_0x2e5715=_0x2ea85a['sort']((_0x652f08,_0x39bca1)=>_0x652f08[_0x51682e(0xa08)]-_0x39bca1[_0x51682e(0xa08)])[_0x51682e(0x514)]((_0x563f8c,_0x56f508,_0x30c440)=>_0x563f8c[_0x51682e(0xa08)]===_0x30c440[0x0][_0x51682e(0xa08)]),_0x36aa9f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0x3b9d4e[_0x51682e(0xaa2)](',\x20')+_0x51682e(0x84d)+_0x62cc7b+_0x51682e(0xc7a)+_0xa10960+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x414b0e[_0x51682e(0xaa2)](',\x20')+_0x51682e(0x84d)+(_0xa10960-_0x2324e6)+_0x51682e(0xc7a)+_0xa10960+_0x51682e(0x2ba)+_0x2f2955['map'](_0x3924a5=>_0x3924a5['studentName'])[_0x51682e(0xaa2)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20'+_0x2f2955[0x0][_0x51682e(0xa08)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>'+_0x2e5715[_0x51682e(0xa3b)](_0x3a6a0e=>_0x3a6a0e['studentName'])[_0x51682e(0xaa2)](',\x20')+_0x51682e(0x68f)+_0x2e5715[0x0][_0x51682e(0xa08)]+_0x51682e(0x359);_0x44a8aa[_0x51682e(0xbec)]=_0x36aa9f;}function renderSubmissionChart(_0x54b82b,_0x287efd,_0x412943,_0x4492f1){const _0x108ee0=_0x473ef4,_0x2701dd=document[_0x108ee0(0x7eb)](_0x108ee0(0x866))['getContext']('2d'),_0x5d42ca=_0x412943[_0x108ee0(0xa3b)](_0x1a7e1c=>_0x1a7e1c[_0x108ee0(0x389)]),_0x39cab7=_0x4492f1[_0x108ee0(0x514)](_0x1b5610=>!_0x5d42ca['includes'](_0x1b5610));chartInstances['submission']&&chartInstances[_0x108ee0(0x89c)][_0x108ee0(0x875)](),chartInstances[_0x108ee0(0x89c)]=new Chart(_0x2701dd,{'type':_0x108ee0(0xa04),'data':{'labels':[_0x108ee0(0x245),_0x108ee0(0x643)],'datasets':[{'data':[_0x54b82b,_0x287efd],'backgroundColor':['#10B981',_0x108ee0(0x91c)],'borderColor':['#ffffff',_0x108ee0(0xb6e)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x108ee0(0xabf)},'tooltip':{'callbacks':{'label':function(_0x485544){const _0x59a269=_0x108ee0;let _0x19641a=_0x485544['label']||'';return _0x19641a&&(_0x19641a+=':\x20'),_0x19641a+=_0x485544[_0x59a269(0x52b)],_0x19641a;},'afterLabel':function(_0x2a7843){const _0x45707f=_0x108ee0;let _0x32828c;return _0x2a7843[_0x45707f(0x33f)]===0x0?_0x32828c=_0x5d42ca:_0x32828c=_0x39cab7,_0x32828c['length']>0x0?_0x32828c[_0x45707f(0xaa2)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x44634c,_0x493a81){const _0x4c286c=_0x473ef4,_0x145bf4=document[_0x4c286c(0x7eb)](_0x4c286c(0x45a))[_0x4c286c(0x5c8)]('2d'),_0x4d3fbf={};for(let _0x4d8512=0x0;_0x4d8512<=_0x493a81;_0x4d8512++){_0x4d3fbf[_0x4d8512]=0x0;}_0x44634c[_0x4c286c(0xb15)](_0x5a2174=>{const _0x14f331=_0x4c286c;_0x4d3fbf[_0x5a2174[_0x14f331(0xa08)]]!==undefined&&_0x4d3fbf[_0x5a2174[_0x14f331(0xa08)]]++;}),chartInstances[_0x4c286c(0xa94)]&&chartInstances['score'][_0x4c286c(0x875)](),chartInstances[_0x4c286c(0xa94)]=new Chart(_0x145bf4,{'type':'bar','data':{'labels':Object[_0x4c286c(0x6e0)](_0x4d3fbf),'datasets':[{'label':_0x4c286c(0x902),'data':Object[_0x4c286c(0x63a)](_0x4d3fbf),'backgroundColor':_0x4c286c(0xb95),'borderColor':_0x4c286c(0xc56),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':'คะแนน'}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x697b59){const _0x52bed7=_0x4c286c,_0x2aebd6=_0x697b59[_0x52bed7(0x794)],_0x25fbf5=_0x44634c[_0x52bed7(0x514)](_0x13f347=>_0x13f347[_0x52bed7(0xa08)]==_0x2aebd6)['map'](_0xd0f57c=>_0xd0f57c[_0x52bed7(0x389)]);return _0x25fbf5[_0x52bed7(0x373)]>0x0?_0x25fbf5['join']('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x5ac2cc,_0x365c33,_0x561b2f){const _0x74993c=_0x473ef4,_0xf6fe9a=document[_0x74993c(0x7eb)](_0x74993c(0x1f1));if(_0x561b2f[_0x74993c(0x373)]===0x0){_0xf6fe9a[_0x74993c(0xbec)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x4f3cbf=calculateItemAnalysis(_0x5ac2cc,_0x365c33),_0x38ef54=calculateDistractorAnalysis(_0x5ac2cc,_0x365c33);let _0x219ca6='';_0x4f3cbf[_0x74993c(0x5c5)]&&(_0x219ca6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x4f3cbf[_0x74993c(0x5c5)][_0x74993c(0xcbb)][_0x74993c(0x373)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4f3cbf[_0x74993c(0x5c5)][_0x74993c(0xcbb)][_0x74993c(0xa3b)](_0x50c86d=>_0x74993c(0x504)+_0x50c86d+_0x74993c(0x216))[_0x74993c(0xaa2)]('')+_0x74993c(0x779)+_0x4f3cbf['overallGroups']['lowerGroupNames'][_0x74993c(0x373)]+_0x74993c(0x65a)+_0x4f3cbf[_0x74993c(0x5c5)]['lowerGroupNames']['map'](_0x1b7118=>_0x74993c(0x504)+_0x1b7118+'</li>')['join']('')+_0x74993c(0xb58));let _0x533845='';const _0x4e73dd=_0x365c33[_0x74993c(0xa3b)](_0x1fce72=>_0x1fce72[_0x74993c(0x389)]),_0x1ad273=_0x209337=>{const _0x58bfeb=_0x74993c;if(_0x209337>=0.8)return _0x58bfeb(0x879);if(_0x209337>=0.6)return _0x58bfeb(0x425);if(_0x209337>=0.4)return'<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>';if(_0x209337>=0.2)return _0x58bfeb(0xd8e);return _0x58bfeb(0x607);},_0x696a0a=_0x3d6470=>{const _0x127e05=_0x74993c;if(_0x3d6470<0x0)return _0x127e05(0xb2b);if(_0x3d6470>=0.4)return'<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>';if(_0x3d6470>=0.3)return _0x127e05(0x4a8);if(_0x3d6470>=0.2)return _0x127e05(0xd18);return _0x127e05(0xa1b);},_0x5cc848=_0x53869b=>{const _0x5f2e45=_0x74993c,_0x55a9f3=_0x53869b[_0x5f2e45(0xac3)](0x0);if(parseFloat(_0x55a9f3)===0x64)return'<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x55a9f3+_0x5f2e45(0xaa5);if(_0x53869b>=0x32)return _0x5f2e45(0x81c)+_0x55a9f3+'%</span>';return _0x5f2e45(0x3d5)+_0x55a9f3+_0x5f2e45(0xaa5);};_0x5ac2cc[_0x74993c(0x3dd)]['forEach']((_0x1ae9bd,_0x55adcd)=>{const _0x31b15b=_0x74993c,_0x28d74c=_0x4f3cbf[_0x31b15b(0x20b)][_0x55adcd],_0xcacccd=_0x38ef54[_0x55adcd],_0x4a4d53=_0x1ae9bd[_0x31b15b(0xd03)]||_0x1ae9bd[_0x31b15b(0x837)]||_0x1ae9bd[_0x31b15b(0x942)];let _0x3e20d4=0x0;const _0x4f7ff6=[],_0x1d232c=[];_0x365c33[_0x31b15b(0xb15)](_0x5f0ada=>{const _0x550cee=_0x31b15b,_0x264959=_0x5f0ada[_0x550cee(0xa5a)][_0x5f0ada[_0x550cee(0xa5a)][_0x550cee(0x373)]-0x1];if(_0x264959&&_0x264959['answers']){const _0x416bb8=_0x264959[_0x550cee(0xbba)][_0x550cee(0x712)](_0xe961e4=>_0xe961e4[_0x550cee(0x50e)]===_0x4a4d53)??_0x264959[_0x550cee(0xbba)][_0x55adcd]??null;_0x416bb8&&(_0x416bb8[_0x550cee(0x95d)]?(_0x3e20d4++,_0x4f7ff6['push'](_0x5f0ada[_0x550cee(0x389)])):_0x1d232c[_0x550cee(0x526)](_0x5f0ada[_0x550cee(0x389)]));}});const _0x46bbd2=_0x365c33[_0x31b15b(0x373)]>0x0?_0x3e20d4/_0x365c33[_0x31b15b(0x373)]*0x64:0x0,_0x22ad60=_0x561b2f[_0x31b15b(0x514)](_0x53047a=>!_0x4e73dd[_0x31b15b(0x3b1)](_0x53047a)),_0x23547a=_0x28d74c?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>'+_0x28d74c['p'][_0x31b15b(0xac3)](0x2)+_0x31b15b(0xc0a)+_0x1ad273(_0x28d74c['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0x28d74c['r'][_0x31b15b(0xac3)](0x2)+'</p><div>'+_0x696a0a(_0x28d74c['r'])+_0x31b15b(0x7a1)+_0x5cc848(_0x46bbd2)+_0x31b15b(0x62b):'';let _0x46f0b1='';_0xcacccd&&(_0x46f0b1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object[_0x31b15b(0x6e0)](_0xcacccd)[_0x31b15b(0xa3b)](_0x3c46d4=>{const _0x13b68d=_0x31b15b,_0x5015af=_0xcacccd[_0x3c46d4],_0x2348de=parseInt(_0x3c46d4)===_0x1ae9bd['correctAnswerIndex'],_0xaf32b5=!_0x2348de&&_0x5015af[_0x13b68d(0x4d4)]>_0x5015af['upper_group_count'];return'<tr\x20class=\x22'+(_0x2348de?_0x13b68d(0x9bc):'')+_0x13b68d(0x5fc)+(_0x2348de?'✔\x20':'')+_0x5015af[_0x13b68d(0x2b3)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x5015af[_0x13b68d(0x67b)]+_0x13b68d(0x1fa)+_0x5015af['lower_group_count']+'\x20'+(_0xaf32b5?'👍':'')+_0x13b68d(0x1fa)+_0x5015af[_0x13b68d(0x637)]+_0x13b68d(0xcde);})[_0x31b15b(0xaa2)]('')+_0x31b15b(0xa9c));let _0x3d53cc='';_0x28d74c&&_0x28d74c[_0x31b15b(0x490)]&&(_0x3d53cc=_0x31b15b(0xb20)+_0x28d74c[_0x31b15b(0x490)][_0x31b15b(0x373)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x28d74c[_0x31b15b(0x490)]['map'](_0x455e11=>'<li>'+(_0x455e11[_0x31b15b(0x95d)]?_0x31b15b(0x758):_0x31b15b(0x808))+'\x20'+_0x455e11[_0x31b15b(0x65c)]+'</li>')['join']('')+_0x31b15b(0x8bd)+_0x28d74c[_0x31b15b(0x583)][_0x31b15b(0x373)]+_0x31b15b(0x6ba)+_0x28d74c['lowerGroupResponders'][_0x31b15b(0xa3b)](_0x42226f=>_0x31b15b(0x504)+(_0x42226f[_0x31b15b(0x95d)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':'<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>')+'\x20'+_0x42226f['name']+_0x31b15b(0x216))[_0x31b15b(0xaa2)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x533845+=_0x31b15b(0x8d2)+(_0x55adcd+0x1)+':\x20'+_0x4a4d53+_0x31b15b(0x295)+_0x23547a+_0x31b15b(0x7ba)+_0x4a4d53+_0x31b15b(0x4d3)+_0x3e20d4+'\x20จาก\x20'+_0x365c33[_0x31b15b(0x373)]+_0x31b15b(0x2a9)+_0x46bbd2['toFixed'](0x0)+_0x31b15b(0x6f4)+_0x4f7ff6[_0x31b15b(0x373)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x4f7ff6[_0x31b15b(0x373)]>0x0?_0x4f7ff6['join'](',\x20'):'ไม่มี')+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20('+_0x1d232c[_0x31b15b(0x373)]+_0x31b15b(0xcc6)+(_0x1d232c[_0x31b15b(0x373)]>0x0?_0x1d232c[_0x31b15b(0xaa2)](',\x20'):_0x31b15b(0x69d))+_0x31b15b(0x20f)+_0x22ad60['length']+_0x31b15b(0xcc6)+(_0x22ad60[_0x31b15b(0x373)]>0x0?_0x22ad60[_0x31b15b(0xaa2)](',\x20'):_0x31b15b(0x69d))+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x46f0b1+_0x31b15b(0xa47)+_0x3d53cc+_0x31b15b(0x8f1);}),_0xf6fe9a[_0x74993c(0xbec)]=_0x219ca6+_0x533845;try{window[_0x74993c(0x5f9)]&&MathJax['typesetPromise']&&MathJax['typesetPromise']([_0xf6fe9a]);}catch(_0x2b9bf6){console[_0x74993c(0x2b8)]('MathJax\x20typeset\x20error\x20(analytics):',_0x2b9bf6);}}function calculateDistractorAnalysis(_0x23ff2b,_0xf25acb){const _0x1ba759=_0x473ef4,_0x4e7c11={};if(_0xf25acb[_0x1ba759(0x373)]<0x2)return _0x4e7c11;const _0x1ae30a=[..._0xf25acb][_0x1ba759(0x4af)]((_0x49c859,_0x1ac54c)=>{const _0x464938=_0x1ba759,_0x5979cf=_0x1ac54c[_0x464938(0xa08)]-_0x49c859['latestScore'];if(_0x5979cf!==0x0)return _0x5979cf;const _0x5052a0=_0x49c859[_0x464938(0xa5a)]?.[_0x464938(0x373)]||0x1,_0x1aba57=_0x1ac54c['attempts']?.[_0x464938(0x373)]||0x1,_0x25a102=_0x5052a0-_0x1aba57;if(_0x25a102!==0x0)return _0x25a102;const _0x368c78=new Date(_0x49c859[_0x464938(0x7f3)]),_0x183a74=new Date(_0x1ac54c[_0x464938(0x7f3)]),_0x49c67e=_0x368c78-_0x183a74;if(_0x49c67e!==0x0)return _0x49c67e;return _0x49c859[_0x464938(0x389)][_0x464938(0xd07)](_0x1ac54c[_0x464938(0x389)],'th');}),_0x43c1ae=_0x1ae30a[_0x1ba759(0x373)],_0x53e313=Math[_0x1ba759(0xaea)](0x1,Math[_0x1ba759(0x8a0)](_0x43c1ae*0.33)),_0x4af0e6=_0x1ae30a['slice'](0x0,_0x53e313),_0x5c595c=_0x1ae30a[_0x1ba759(0xa80)](-_0x53e313);return _0x23ff2b[_0x1ba759(0x3dd)]['forEach']((_0x37e5a4,_0xd17470)=>{const _0x2fb9b6=_0x1ba759;if(_0x37e5a4[_0x2fb9b6(0x22d)]!==_0x2fb9b6(0xcc0)||!_0x37e5a4[_0x2fb9b6(0x745)])return;const _0xd9b60d=_0x37e5a4[_0x2fb9b6(0x837)],_0xab03d2={};_0x37e5a4['options'][_0x2fb9b6(0xb15)]((_0x468763,_0x5e3bca)=>{_0xab03d2[_0x5e3bca]={'text':_0x468763,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x1ae30a[_0x2fb9b6(0xb15)](_0x2a684d=>{const _0x1316f6=_0x2fb9b6,_0x3748de=_0x2a684d[_0x1316f6(0xa5a)][_0x2a684d[_0x1316f6(0xa5a)][_0x1316f6(0x373)]-0x1],_0x4dec45=_0x3748de[_0x1316f6(0xbba)][_0x1316f6(0x712)](_0x6a88ee=>_0x6a88ee[_0x1316f6(0x50e)]===_0xd9b60d);if(_0x4dec45&&_0x4dec45[_0x1316f6(0x913)]!==null){const _0x1a90ad=_0x37e5a4[_0x1316f6(0x745)][_0x1316f6(0x416)](_0x47d160=>_0x47d160===_0x4dec45[_0x1316f6(0x9ae)]);_0x1a90ad!==-0x1&&_0xab03d2[_0x1a90ad]&&(_0xab03d2[_0x1a90ad]['total']++,_0x4af0e6['includes'](_0x2a684d)&&_0xab03d2[_0x1a90ad][_0x1316f6(0x67b)]++,_0x5c595c[_0x1316f6(0x3b1)](_0x2a684d)&&_0xab03d2[_0x1a90ad][_0x1316f6(0x4d4)]++);}}),_0x4e7c11[_0xd17470]=_0xab03d2;}),_0x4e7c11;}function calculateReliabilityKR20(_0x4b7a0b,_0x6095c8,_0x225776){const _0x16e1f0=_0x473ef4,_0x1f01b7=_0x4b7a0b[_0x16e1f0(0x3dd)]['length'];if(_0x1f01b7<0x2||_0x6095c8['length']<0x2)return null;const _0x291835=_0x6095c8[_0x16e1f0(0xa3b)](_0x1b8e5d=>_0x1b8e5d[_0x16e1f0(0xa08)]),_0x4140b6=_0x291835['reduce']((_0x26e136,_0x551bc4)=>_0x26e136+_0x551bc4,0x0)/_0x291835[_0x16e1f0(0x373)],_0x59d87e=_0x291835[_0x16e1f0(0xa3b)](_0x109daf=>Math[_0x16e1f0(0x700)](_0x109daf-_0x4140b6,0x2))[_0x16e1f0(0x718)]((_0x40b940,_0x36eb99)=>_0x40b940+_0x36eb99,0x0)/_0x291835[_0x16e1f0(0x373)];if(_0x59d87e===0x0)return null;let _0x8a4051=0x0;for(let _0x45dbe5=0x0;_0x45dbe5<_0x1f01b7;_0x45dbe5++){const _0x320bd9=_0x225776[_0x45dbe5]?.['p'];if(_0x320bd9===undefined)continue;const _0x555579=0x1-_0x320bd9;_0x8a4051+=_0x320bd9*_0x555579;}if(_0x8a4051===0x0)return null;const _0x3f9b13=_0x1f01b7/(_0x1f01b7-0x1)*(0x1-_0x8a4051/_0x59d87e);if(_0x3f9b13>0x1)return null;return _0x3f9b13;}async function handleAnalyzeClass(){const _0x5aada8=_0x473ef4;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x5aada8(0x362));return;}const _0x3caa58=collection(db,_0x5aada8(0x41a)+appId+_0x5aada8(0x5d9)+currentQuizData['id']+_0x5aada8(0xa06)),_0x130cf6=await getDocs(_0x3caa58),_0x367fe7=_0x130cf6['docs'][_0x5aada8(0xa3b)](_0x313944=>_0x313944['data']());if(_0x367fe7[_0x5aada8(0x373)]<0x2){showMessage('ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้');return;}const _0x5a4893=document[_0x5aada8(0x7eb)]('strength-weakness-analysis-container');_0x5a4893[_0x5aada8(0xbec)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x5aada8(0x7eb)](_0x5aada8(0x83a))['disabled']=!![];const _0x658ff=_0x367fe7[_0x5aada8(0xa3b)]((_0x12180e,_0x57acd4)=>{const _0x2c6090=_0x5aada8,_0x1c9e4f=_0x12180e['attempts'][_0x12180e['attempts'][_0x2c6090(0x373)]-0x1];if(!_0x1c9e4f)return'';return _0x2c6090(0x576)+(_0x57acd4+0x1)+'\x20('+_0x12180e[_0x2c6090(0x389)]+_0x2c6090(0x731)+_0x1c9e4f[_0x2c6090(0xa94)]+'/'+_0x12180e['totalQuestions']+_0x2c6090(0x7a6)+JSON[_0x2c6090(0x36f)](_0x1c9e4f[_0x2c6090(0xbba)])+_0x2c6090(0x22c);})[_0x5aada8(0xaa2)](_0x5aada8(0xa83)),_0x484db9=_0x5aada8(0xa4a)+currentQuizData[_0x5aada8(0x2d8)]+_0x5aada8(0x355)+JSON[_0x5aada8(0x36f)](currentQuizData[_0x5aada8(0x3dd)])+_0x5aada8(0x94a)+_0x658ff+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20',_0x2d83d4={'type':_0x5aada8(0x7b6),'properties':{'classStrengths':{'type':_0x5aada8(0x440),'items':{'type':'STRING'}},'classWeaknesses':{'type':_0x5aada8(0x440),'items':{'type':_0x5aada8(0x4ed)}},'teacherSuggestions':{'type':_0x5aada8(0x440),'items':{'type':'STRING'}}},'required':[_0x5aada8(0x770),'classWeaknesses','teacherSuggestions']};try{const _0x4d903c=await callAnalysisApi(_0x484db9,_0x2d83d4);displayClassAnalysis(_0x4d903c);}catch(_0x14c2de){console[_0x5aada8(0x2b8)](_0x5aada8(0x68b),_0x14c2de),_0x5a4893[_0x5aada8(0xbec)]=_0x5aada8(0xb60)+_0x14c2de[_0x5aada8(0xd7a)]+_0x5aada8(0x956);}finally{document[_0x5aada8(0x7eb)](_0x5aada8(0x83a))[_0x5aada8(0x744)]=![];}}function displayClassAnalysis(_0x29347d){const _0x15fc0e=_0x473ef4,_0x731485=document['getElementById'](_0x15fc0e(0x2ac));if(!_0x29347d){_0x731485['innerHTML']=_0x15fc0e(0x742);return;}_0x731485[_0x15fc0e(0xbec)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x29347d[_0x15fc0e(0x770)]['map'](_0x55da16=>_0x15fc0e(0x504)+_0x55da16+_0x15fc0e(0x216))[_0x15fc0e(0xaa2)]('')+_0x15fc0e(0x2c9)+_0x29347d['classWeaknesses'][_0x15fc0e(0xa3b)](_0x52151a=>_0x15fc0e(0x504)+_0x52151a+_0x15fc0e(0x216))[_0x15fc0e(0xaa2)]('')+_0x15fc0e(0x214)+_0x29347d[_0x15fc0e(0x559)][_0x15fc0e(0xa3b)](_0x47e7bb=>_0x15fc0e(0x504)+_0x47e7bb+_0x15fc0e(0x216))[_0x15fc0e(0xaa2)]('')+_0x15fc0e(0xb1c);}function formatAndPrintWorksheet(_0x3911e6,_0x1fb065){const _0x950622=_0x473ef4,_0x58058a=_0x950622(0xd45)+_0x3911e6[_0x950622(0x2d8)]+_0x950622(0xd29)+_0x3911e6['topic']+_0x950622(0x981)+_0x3911e6[_0x950622(0x3dd)][_0x950622(0xa3b)]((_0x2490b2,_0x5bf1a9)=>_0x950622(0x763)+(_0x5bf1a9+0x1)+'.\x20'+_0x2490b2[_0x950622(0x837)]+_0x950622(0x51f)+(_0x2490b2['imageCode']?_0x950622(0x369)+_0x2490b2[_0x950622(0x675)]+_0x950622(0x3ab):'')+_0x950622(0x68a))[_0x950622(0xaa2)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x1fb065[_0x950622(0xd6d)][_0x950622(0x754)](_0x58058a),_0x1fb065[_0x950622(0xd6d)][_0x950622(0xb43)](),_0x1fb065[_0x950622(0x8d0)]=function(){setTimeout(()=>{_0x1fb065['print']();},0x3e8);};}async function generateWorksheet(){const _0x355ac6=_0x473ef4,_0x477d7b=document[_0x355ac6(0x7eb)](_0x355ac6(0x9a5))['value']['trim']();if(!_0x477d7b){showMessage('กรุณาป้อนหัวข้อสำหรับใบงาน');return;}const _0x27fbe3=document[_0x355ac6(0x7eb)](_0x355ac6(0xaa8))[_0x355ac6(0x5b1)],_0x81c0fb=_0x27fbe3?'':'คณิตศาสตร์',_0x13e60b=window['open']('',_0x355ac6(0x5d1));_0x13e60b[_0x355ac6(0xd6d)][_0x355ac6(0x754)](_0x355ac6(0x612));const _0x2028fc=parseInt(document[_0x355ac6(0x7eb)](_0x355ac6(0xd56))[_0x355ac6(0x53d)]),_0x21acbb=document[_0x355ac6(0x7eb)](_0x355ac6(0x411))[_0x355ac6(0x5b1)],_0x56641d=_0x21acbb?_0x355ac6(0xab4):'',_0x435ffd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน'+_0x81c0fb+_0x355ac6(0xbea)+_0x2028fc+_0x355ac6(0x304)+_0x477d7b+_0x355ac6(0xa4c)+_0x56641d+_0x355ac6(0x337)+simpleMathPrompt+_0x355ac6(0x765),_0x35f45f={'type':'OBJECT','properties':{'topic':{'type':_0x355ac6(0x4ed)},'questions':{'type':'ARRAY','items':{'type':_0x355ac6(0x7b6),'properties':{'questionText':{'type':_0x355ac6(0x4ed)},'imageCode':{'type':_0x355ac6(0x4ed)}},'required':[_0x355ac6(0x837)]}}},'required':[_0x355ac6(0x2d8),_0x355ac6(0x3dd)]};document['getElementById']('loader-text')[_0x355ac6(0xc95)]='',document[_0x355ac6(0x7eb)](_0x355ac6(0x32d))['classList'][_0x355ac6(0x6f9)]('hidden'),document[_0x355ac6(0x7eb)](_0x355ac6(0x6dc))['classList'][_0x355ac6(0x6f9)]('hidden'),generateWorksheetBtn[_0x355ac6(0x744)]=!![];try{const _0x277890=await callAnalysisApi(_0x435ffd,_0x35f45f);formatAndPrintWorksheet(_0x277890,_0x13e60b);}catch(_0x3327d9){console['error'](_0x355ac6(0x24d),_0x3327d9);if(_0x13e60b)_0x13e60b[_0x355ac6(0xb43)]();showMessage(_0x355ac6(0x5a9));}finally{document['getElementById'](_0x355ac6(0x32d))[_0x355ac6(0xc3c)][_0x355ac6(0x4ad)](_0x355ac6(0xcb0)),document[_0x355ac6(0x7eb)](_0x355ac6(0x6dc))['classList']['add'](_0x355ac6(0xcb0)),generateWorksheetBtn[_0x355ac6(0x744)]=![];}}async function callAnalysisApi(_0x2f305b,_0x569f18){const _0x77aad5=_0x473ef4,_0x5693c8={'contents':[{'role':_0x77aad5(0xd79),'parts':[{'text':_0x2f305b}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x569f18}},_0x599714=_0x77aad5(0x3a0),_0x529126=_0x77aad5(0x60a)+_0x599714,_0x289bfb=await fetch(_0x529126,{'method':_0x77aad5(0xaf8),'headers':{'Content-Type':_0x77aad5(0x5ee)},'body':JSON[_0x77aad5(0x36f)](_0x5693c8)});if(!_0x289bfb['ok'])throw new Error(_0x77aad5(0x1fb)+_0x289bfb[_0x77aad5(0x996)]);const _0x558c93=await _0x289bfb[_0x77aad5(0x85d)]();if(_0x558c93[_0x77aad5(0x811)]?.[0x0]?.[_0x77aad5(0x349)]?.['parts']?.[0x0])return JSON[_0x77aad5(0x3d4)](_0x558c93[_0x77aad5(0x811)][0x0][_0x77aad5(0x349)]['parts'][0x0][_0x77aad5(0x2b3)]);else{let _0x271207=_0x77aad5(0x6b8);if(_0x558c93[_0x77aad5(0xd05)]?.[_0x77aad5(0xbc9)])_0x271207=_0x77aad5(0x701)+_0x558c93[_0x77aad5(0xd05)][_0x77aad5(0xbc9)]+'.';else _0x558c93['candidates']?.[0x0]?.[_0x77aad5(0x249)]&&_0x558c93['candidates'][0x0]['finishReason']!==_0x77aad5(0x1ef)&&(_0x271207='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x558c93['candidates'][0x0][_0x77aad5(0x249)]+'.');console['error'](_0x271207,JSON[_0x77aad5(0x36f)](_0x558c93));throw new Error(_0x271207);}}async function handleStartSyncMode(_0x382794,_0x82d839=![],_0x1f4d65=_0x473ef4(0xc39)){const _0x22a518=_0x473ef4,_0x3586c2=allQuizzes[_0x22a518(0x712)](_0x470b7a=>_0x470b7a['id']===_0x382794)||allQuizzesGlobal[_0x22a518(0x712)](_0xddcba3=>_0xddcba3['id']===_0x382794);if(!_0x3586c2){showMessage(_0x22a518(0xa24));return;}currentQuizData=getShuffledQuiz(_0x3586c2);const _0x29477d=Math[_0x22a518(0x8a0)](0x3e8+Math[_0x22a518(0x970)]()*0x2328)[_0x22a518(0xc07)]();try{const _0x27a1f7=await addDoc(collection(db,_0x22a518(0x41a)+appId+_0x22a518(0x361)),{'quizId':_0x3586c2['id'],'pin':_0x29477d,'status':_0x22a518(0x998),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x82d839,'players':{},'gameVariant':_0x1f4d65,'reviewQuestionIndex':0x0});currentLiveGameId=_0x27a1f7['id'],showView(_0x22a518(0x91a)),renderSyncLobbyView(_0x29477d,_0x3586c2[_0x22a518(0x2d8)]),listenForSyncGameUpdates();}catch(_0x3471a6){console[_0x22a518(0x2b8)](_0x22a518(0x6d6),_0x3471a6),showMessage(_0x22a518(0x8b5));}}function calculateFinalPodiumScores(_0x313c19){const _0x124a4f=_0x473ef4;if(!_0x313c19||!_0x313c19['shuffledQuiz']||!_0x313c19[_0x124a4f(0xaec)])return _0x313c19[_0x124a4f(0xaec)]||{};const _0x37162c=_0x313c19[_0x124a4f(0xd5d)][_0x124a4f(0x3dd)]['length'],_0x28eddc=JSON['parse'](JSON[_0x124a4f(0x36f)](_0x313c19[_0x124a4f(0xaec)]));return Object[_0x124a4f(0x63a)](_0x28eddc)['forEach'](_0x3c2515=>{const _0x5f1ed6=_0x124a4f,_0x412d27=_0x3c2515[_0x5f1ed6(0xa94)];let _0x5bea26=_0x412d27,_0x103c40=0x0;_0x313c19[_0x5f1ed6(0x6ff)]&&_0x3c2515[_0x5f1ed6(0xbba)]&&_0x3c2515[_0x5f1ed6(0xbba)][_0x5f1ed6(0xb15)](_0xde5a9f=>{const _0x13feff=_0x5f1ed6;if(_0xde5a9f[_0x13feff(0x95d)]&&(_0xde5a9f['wasConfident']===!![]||_0xde5a9f['wasConfident']==='confident'))_0x103c40+=0x1;else!_0xde5a9f[_0x13feff(0x95d)]&&(_0xde5a9f[_0x13feff(0xa16)]===!![]||_0xde5a9f[_0x13feff(0xa16)]===_0x13feff(0x6a1))&&(_0x103c40-=0x1);}),_0x5bea26+=_0x103c40,_0x37162c>0x0&&_0x412d27===_0x37162c&&(_0x5bea26+=0x1,_0x3c2515[_0x5f1ed6(0x711)]=!![]),_0x3c2515['score']=_0x5bea26;}),_0x28eddc;}function listenForSyncGameUpdates(){const _0x4a9653=_0x473ef4;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x3700dd=doc(db,_0x4a9653(0x41a)+appId+_0x4a9653(0x361),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x3700dd,_0x522398=>{const _0x4dc7ae=_0x4a9653;if(!_0x522398[_0x4dc7ae(0x931)]()){sessionStorage[_0x4dc7ae(0x900)](_0x4dc7ae(0x4ee));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage(_0x4dc7ae(0x1e5));if(cameFromBlueprint&&currentBlueprintProjectId)displayBlueprintProjectManager(currentBlueprintProjectId),cameFromBlueprint=![];else currentMode===_0x4dc7ae(0x769)?showView(_0x4dc7ae(0x2a6)):showView(_0x4dc7ae(0xb9c));return;}const _0x20a770=_0x522398['data']();currentMode===_0x4dc7ae(0x769)?updateAdminSyncView(_0x20a770):updateStudentSyncView(_0x20a770);});}function renderSyncLobbyView(_0x2d61a2,_0x30add8){const _0x4f26cf=_0x473ef4;liveGameView[_0x4f26cf(0xbec)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20'+_0x30add8+_0x4f26cf(0x877)+_0x2d61a2+_0x4f26cf(0x21f);const _0x3cfe10=document[_0x4f26cf(0x7eb)](_0x4f26cf(0x9c1)),_0x1db42d=document[_0x4f26cf(0x7eb)](_0x4f26cf(0x96f));_0x3cfe10['addEventListener']('change',()=>{const _0x4f1c53=_0x4f26cf;_0x1db42d['style']['display']=_0x3cfe10[_0x4f1c53(0x5b1)]?'block':_0x4f1c53(0x2bc);}),document[_0x4f26cf(0x7eb)](_0x4f26cf(0xb0f))['addEventListener']('click',async()=>{const _0xd700c8=_0x4f26cf,_0x35e20d=doc(db,_0xd700c8(0x41a)+appId+_0xd700c8(0x361),currentLiveGameId),_0x48c8b7=document[_0xd700c8(0x7eb)](_0xd700c8(0x9c1))[_0xd700c8(0x5b1)];await updateDoc(_0x35e20d,{'status':_0xd700c8(0x428),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x48c8b7});});}function updateAdminSyncView(_0x14ec62){const _0x206215=_0x473ef4;switch(_0x14ec62['status']){case'lobby':renderSyncLobbyView(_0x14ec62['pin'],_0x14ec62[_0x206215(0xd5d)][_0x206215(0x2d8)]);const _0x2a8607=Object[_0x206215(0xc98)](_0x14ec62[_0x206215(0xaec)]||{})['filter'](([_0xc23d2,_0x4c5a72])=>_0x4c5a72[_0x206215(0x996)]!==_0x206215(0x7db));document[_0x206215(0x7eb)](_0x206215(0x6c5))[_0x206215(0xc95)]=_0x2a8607[_0x206215(0x373)],document[_0x206215(0x7eb)](_0x206215(0x993))['innerHTML']=_0x2a8607[_0x206215(0xa3b)](([_0x1c5ebf,_0x582885])=>_0x206215(0xb70)+_0x1c5ebf+_0x206215(0xc80)+_0x1c5ebf+_0x206215(0x66d))[_0x206215(0xaa2)]('')||'<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>',document['getElementById'](_0x206215(0xb0f))[_0x206215(0x744)]=_0x2a8607[_0x206215(0x373)]===0x0;break;case _0x206215(0x428):const _0x55b276=Object['values'](_0x14ec62['players']||{})[_0x206215(0x514)](_0x4344f3=>_0x4344f3[_0x206215(0x996)]!=='inactive'),_0x5952e4=_0x55b276[_0x206215(0x514)](_0x249e22=>_0x249e22[_0x206215(0x51d)])[_0x206215(0x373)],_0x4f4ccf=_0x5952e4===_0x55b276[_0x206215(0x373)]&&_0x55b276[_0x206215(0x373)]>0x0;if(_0x4f4ccf&&_0x14ec62[_0x206215(0x996)]===_0x206215(0x428)){const _0x4e597a=doc(db,_0x206215(0x41a)+appId+_0x206215(0x361),currentLiveGameId);updateDoc(_0x4e597a,{'status':_0x206215(0x83c)});}else{if(document[_0x206215(0x7eb)]('sync-player-management')===null)renderAdminSyncQuestionView(_0x14ec62);else{const _0x801425=document['getElementById'](_0x206215(0x426));_0x801425&&(_0x801425[_0x206215(0xc95)]=_0x5952e4+'/'+_0x55b276[_0x206215(0x373)]);const _0x3dda6b=document[_0x206215(0x7eb)]('sync-player-list');_0x3dda6b&&(_0x3dda6b[_0x206215(0xbec)]=_0x55b276[_0x206215(0xa3b)](_0x532f4e=>{const _0x569177=_0x206215,_0x593b74=_0x532f4e['answered']?'bg-green-500':'bg-gray-500',_0x2a3ba0=_0x532f4e[_0x569177(0x51d)]?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':'<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20'+_0x593b74+_0x569177(0x3c7)+_0x2a3ba0+_0x569177(0xb5a)+_0x532f4e['name']+_0x569177(0xa67)+_0x532f4e['name']+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x206215(0xaa2)](''));}}break;case'summary':const _0x6f268a=_0x14ec62[_0x206215(0x748)],_0x5c2a0f=_0x14ec62[_0x206215(0xd5d)][_0x206215(0x3dd)][_0x6f268a];renderSyncSummaryView(_0x14ec62,_0x5c2a0f,!![]);break;case _0x206215(0x782):const _0xcaee8f=_0x14ec62['gameVariant']||'classic';_0xcaee8f===_0x206215(0xb67)?renderAdminSyncDashboard(_0x14ec62,!![],_0x14ec62['reviewQuestionIndex']):renderAdminSyncDashboard(_0x14ec62,!![],_0x14ec62['currentQuestionIndex']);break;case _0x206215(0xab6):_0x14ec62[_0x206215(0xc2b)]&&saveGameResultsAsSubmissions(_0x14ec62);sessionStorage['removeItem'](_0x206215(0x4ee));const _0xc1b99=calculateFinalPodiumScores(_0x14ec62);showPodiumView(_0xc1b99,_0x206215(0x3aa));break;}}function renderAdminSyncQuestionView(_0x329d65){const _0x484aa8=_0x473ef4,_0x4c048c=_0x329d65[_0x484aa8(0x748)],_0x4a963c=_0x329d65['shuffledQuiz'][_0x484aa8(0x3dd)][_0x4c048c],_0xf1eb05=_0x329d65[_0x484aa8(0xd5d)][_0x484aa8(0x3dd)][_0x484aa8(0x373)],_0x52d860=Object['values'](_0x329d65['players']||{})[_0x484aa8(0x514)](_0x1a31e7=>_0x1a31e7['status']!==_0x484aa8(0x7db)),_0x55c66e=_0x52d860[_0x484aa8(0x514)](_0x48365b=>_0x48365b[_0x484aa8(0x51d)])['length'],_0x3ef983=_0x55c66e===_0x52d860['length']&&_0x52d860[_0x484aa8(0x373)]>0x0,_0x4a34c6=(_0x4a963c[_0x484aa8(0x745)]||[])['map'](_0x4d752d=>'<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>'+_0x4d752d+_0x484aa8(0x3ab))['join']('');liveGameView['innerHTML']=_0x484aa8(0x94b)+(_0x4c048c+0x1)+_0x484aa8(0xc7a)+_0xf1eb05+_0x484aa8(0x979)+_0x55c66e+'/'+_0x52d860['length']+_0x484aa8(0x9a6)+_0x4a963c[_0x484aa8(0x837)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x4a34c6+_0x484aa8(0x5cb)+(!_0x3ef983?_0x484aa8(0x744):'')+_0x484aa8(0xcdd);if(window[_0x484aa8(0x5f9)])MathJax['typesetPromise']();document[_0x484aa8(0x7eb)](_0x484aa8(0xc81))['addEventListener'](_0x484aa8(0x732),async()=>{const _0x40cebe=_0x484aa8,_0x22ea13=doc(db,_0x40cebe(0x41a)+appId+_0x40cebe(0x361),currentLiveGameId);await updateDoc(_0x22ea13,{'status':_0x40cebe(0x782)});}),document['getElementById'](_0x484aa8(0x471))[_0x484aa8(0xa41)]=()=>{openScratchpad(_0x4a963c,_0x4a963c['options']||[]);},document['getElementById'](_0x484aa8(0x3b9))[_0x484aa8(0x5e6)](_0x484aa8(0x732),()=>{const _0x4d9ab6=_0x484aa8;document['getElementById'](_0x4d9ab6(0x5d3))[_0x4d9ab6(0xc3c)]['toggle'](_0x4d9ab6(0xcb0));});}function renderSyncLeaderboardView(_0x2781a0,_0x3ddc12){const _0x483855=_0x473ef4,_0x53cb60=Object[_0x483855(0x63a)](_0x2781a0[_0x483855(0xaec)]||{});_0x53cb60[_0x483855(0x4af)]((_0x10baf5,_0x229ada)=>_0x229ada[_0x483855(0xa94)]-_0x10baf5[_0x483855(0xa94)]);const _0x2356fa=_0x53cb60[_0x483855(0xa80)](0x0,0x5);let _0x493dc7='';if(_0x3ddc12){const _0x9e413b=_0x2781a0['currentQuestionIndex']>=_0x2781a0[_0x483855(0xd5d)][_0x483855(0x3dd)][_0x483855(0x373)]-0x1;_0x493dc7=_0x483855(0xd70)+(_0x9e413b?'ดูผลสรุปสุดท้าย':_0x483855(0x5b6))+_0x483855(0x569);}else _0x493dc7=_0x483855(0xb76);liveGameView[_0x483855(0xbec)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>'+_0x2356fa[_0x483855(0xa3b)]((_0x3dc8b8,_0x392750)=>'<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>'+(_0x392750+0x1)+'.\x20'+_0x3dc8b8[_0x483855(0x65c)]+_0x483855(0x803)+_0x3dc8b8[_0x483855(0xa94)]+_0x483855(0x4ab))[_0x483855(0xaa2)]('')+_0x483855(0x363)+_0x493dc7+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',_0x3ddc12&&document[_0x483855(0x7eb)]('next-sync-question-btn')[_0x483855(0x5e6)](_0x483855(0x732),async()=>{const _0x1b159f=_0x483855,_0x4bc2bf=doc(db,_0x1b159f(0x41a)+appId+'/public/data/syncGames',currentLiveGameId),_0xf804a1=_0x2781a0[_0x1b159f(0x748)]+0x1;if(_0xf804a1<_0x2781a0['shuffledQuiz'][_0x1b159f(0x3dd)][_0x1b159f(0x373)]){const _0x83eb73={};Object[_0x1b159f(0x6e0)](_0x2781a0[_0x1b159f(0xaec)])['forEach'](_0x1035cd=>{const _0x1744cb=_0x1b159f;_0x83eb73['players.'+_0x1035cd+_0x1744cb(0x6eb)]=![];}),await updateDoc(_0x4bc2bf,{..._0x83eb73,'status':'question','currentQuestionIndex':_0xf804a1,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x4bc2bf,{'status':'podium'});});}async function handleJoinSyncGame(){const _0x1dcdc7=_0x473ef4,_0x4fbc47=prompt(_0x1dcdc7(0xac5));if(!_0x4fbc47||_0x4fbc47['trim']()[_0x1dcdc7(0x373)]!==0x2){showMessage(_0x1dcdc7(0x2f1));return;}try{const _0x4c9be8=collection(db,_0x1dcdc7(0x41a)+appId+'/public/data/syncGames'),_0x59cffa=query(_0x4c9be8,where('pin','==',_0x4fbc47[_0x1dcdc7(0xa7e)]()),where(_0x1dcdc7(0x996),'==',_0x1dcdc7(0x998))),_0x5063ea=await getDocs(_0x59cffa);if(_0x5063ea[_0x1dcdc7(0x28f)]){showMessage(_0x1dcdc7(0xaeb));return;}const _0x16ea2b=_0x5063ea['docs'][0x0];currentLiveGameId=_0x16ea2b['id'];const _0x475446=_0x16ea2b[_0x1dcdc7(0x1e4)](),_0x42151d=doc(db,'artifacts/'+appId+_0x1dcdc7(0x3c1),_0x475446[_0x1dcdc7(0xd20)]),_0x44caac=await getDoc(_0x42151d);if(!_0x44caac[_0x1dcdc7(0x931)]())throw new Error(_0x1dcdc7(0xc3f));const _0x4344e8=_0x44caac[_0x1dcdc7(0x1e4)](),_0x199888=doc(db,_0x1dcdc7(0x41a)+appId+_0x1dcdc7(0xd51),_0x4344e8['projectId']),_0x3b7e81=await getDoc(_0x199888);if(!_0x3b7e81[_0x1dcdc7(0x931)]())throw new Error(_0x1dcdc7(0x797));currentQuizData=_0x475446['shuffledQuiz'];const _0x2b9f9a=_0x3b7e81[_0x1dcdc7(0x1e4)]();showView(_0x1dcdc7(0xc18)),showTeamPlayerSelection(_0x2b9f9a[_0x1dcdc7(0x55a)],_0x4344e8[_0x1dcdc7(0x2d8)]);const _0x4dce69=document[_0x1dcdc7(0x7eb)](_0x1dcdc7(0x86d));_0x4dce69[_0x1dcdc7(0xa41)]=confirmAndJoinSyncGame;}catch(_0x2d4ac0){console[_0x1dcdc7(0x2b8)](_0x1dcdc7(0x5dc),_0x2d4ac0),showMessage('เกิดข้อผิดพลาด:\x20'+_0x2d4ac0['message']);}}function updateStudentSyncView(_0x3b15d1){const _0x36e45b=_0x473ef4,_0x4ee56e=_0x3b15d1['players'][localTeamPlayers[0x0]];switch(_0x3b15d1[_0x36e45b(0x996)]){case _0x36e45b(0x998):showView(_0x36e45b(0x91a)),liveGameView[_0x36e45b(0xbec)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>';break;case'question':const _0x1ba4e3=localTeamPlayers[_0x36e45b(0x9cb)](_0x18ff60=>_0x3b15d1['players'][_0x18ff60]?.[_0x36e45b(0x51d)]===!![]);_0x1ba4e3?liveGameView[_0x36e45b(0xbec)]=_0x36e45b(0x6b1):renderStudentSyncQuestionView(_0x3b15d1);break;case'summary':liveGameView[_0x36e45b(0xbec)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x36e45b(0x782):localPlayerTurnIndex=0x0;const _0x536f17=_0x3b15d1[_0x36e45b(0xd02)]||_0x36e45b(0xc39);_0x536f17===_0x36e45b(0xb67)?renderAdminSyncDashboard(_0x3b15d1,![],_0x3b15d1[_0x36e45b(0xb2a)]):renderStudentSyncResultsView(_0x3b15d1);break;case _0x36e45b(0xab6):releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document['removeEventListener']('fullscreenchange',handleFullscreenChange),document[_0x36e45b(0x39d)]('visibilitychange',handleVisibilityChange),sessionStorage[_0x36e45b(0x900)](_0x36e45b(0x4ee));const _0x340661=calculateFinalPodiumScores(_0x3b15d1);showPodiumView(_0x340661,'sync');break;}}function renderStudentSyncResultsView(_0x479e91){const _0x5c1195=_0x473ef4,_0x27cfe5=localTeamPlayers['map'](_0x29cfe4=>_0x479e91[_0x5c1195(0xaec)][_0x29cfe4])['filter'](Boolean);_0x27cfe5['sort']((_0x593aac,_0x2695dc)=>(_0x2695dc['score']||0x0)-(_0x593aac[_0x5c1195(0xa94)]||0x0));const _0x3179b6=_0x479e91[_0x5c1195(0xd02)]||'classic',_0x26820d=_0x479e91['shuffledQuiz'][_0x5c1195(0x3dd)];let _0x4f3deb='';if(_0x3179b6==='reveal_at_end'){const _0x3e4778=_0x479e91[_0x5c1195(0xb2a)]>=_0x26820d['length']-0x1;_0x3e4778?_0x4f3deb=_0x5c1195(0x60f):_0x4f3deb=_0x5c1195(0x624);}else{const _0x17f8f2=_0x479e91[_0x5c1195(0x748)]>=_0x26820d['length']-0x1;_0x17f8f2?_0x4f3deb='<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>':_0x4f3deb=_0x5c1195(0x61a);}const _0x59fd8f=_0x5c1195(0x85f)+_0x27cfe5[_0x5c1195(0xa3b)]((_0x5c10b9,_0x96246e)=>_0x5c1195(0x80f)+(_0x96246e+0x1)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5c10b9[_0x5c1195(0x65c)]+_0x5c1195(0x3dc)+_0x5c10b9[_0x5c1195(0xa94)]+_0x5c1195(0xbeb))[_0x5c1195(0xaa2)]('')+_0x5c1195(0x451)+_0x4f3deb+_0x5c1195(0x4e8);liveGameView[_0x5c1195(0xbec)]=_0x59fd8f;}function renderStudentSyncQuestionView(_0x3eef2c){const _0x5d3603=_0x473ef4;while(localPlayerTurnIndex<localTeamPlayers['length']&&_0x3eef2c[_0x5d3603(0xaec)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x5d3603(0x51d)]===!![]){localPlayerTurnIndex++;}const _0xac7bb0=localTeamPlayers[localPlayerTurnIndex];if(!_0xac7bb0)return;const _0x489c5d=_0x3eef2c['currentQuestionIndex'],_0x3701ba=_0x3eef2c[_0x5d3603(0xd5d)][_0x5d3603(0x3dd)]['length'],_0x90c34e=_0x3eef2c['shuffledQuiz']['questions'][_0x489c5d],_0x50ab8f=_0x90c34e[_0x5d3603(0x22d)]||_0x3eef2c[_0x5d3603(0xd5d)][_0x5d3603(0x3d3)];let _0x588968='',_0xfd75a8=![];switch(_0x50ab8f){case _0x5d3603(0x84f):_0x588968='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'short_answer':case _0x5d3603(0x2b7):_0xfd75a8=!![],_0x588968=_0x5d3603(0x5aa);break;case _0x5d3603(0xac9):_0xfd75a8=!![],_0x588968=_0x5d3603(0x219)+(_0x90c34e[_0x5d3603(0x938)]||[])['map'](_0x5815ea=>_0x5d3603(0xbdc)+_0x5815ea+'\x22>'+_0x5815ea+_0x5d3603(0xc64))[_0x5d3603(0xaa2)]('')+_0x5d3603(0x892);break;case _0x5d3603(0xcc0):default:_0x588968=(_0x90c34e['options']||[])[_0x5d3603(0xa3b)]((_0x4dafbd,_0x10da48)=>_0x5d3603(0x521)+_0x10da48+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>'+_0x4dafbd+_0x5d3603(0x890))[_0x5d3603(0xaa2)]('');break;}liveGameView[_0x5d3603(0xbec)]=_0x5d3603(0x413)+(_0x489c5d+0x1)+_0x5d3603(0xc7a)+_0x3701ba+_0x5d3603(0x935)+_0xac7bb0+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+(_0x90c34e[_0x5d3603(0x837)]||_0x90c34e['stem'])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>'+_0x588968+_0x5d3603(0x32f);if(window[_0x5d3603(0x5f9)])MathJax[_0x5d3603(0x93d)]();function _0x26450c(_0x2c0ddc,_0x44c55c,_0xf31c00,_0x4ee774){const _0x34b1c7=_0x5d3603,_0x463445=_0xf31c00[_0x34b1c7(0x6ff)]===!![];if(_0x463445){document[_0x34b1c7(0x7eb)]('confidence-modal')[_0x34b1c7(0x6e9)][_0x34b1c7(0x1fe)]=_0x34b1c7(0x3aa);const _0x32c18f=document[_0x34b1c7(0x7eb)]('selected-answer-index-hidden');_0x32c18f['dataset'][_0x34b1c7(0xd86)]=_0x2c0ddc,_0x32c18f['dataset'][_0x34b1c7(0x428)]=JSON[_0x34b1c7(0x36f)](_0x44c55c),_0x32c18f[_0x34b1c7(0x6e9)][_0x34b1c7(0xb9d)]=JSON[_0x34b1c7(0x36f)](_0xf31c00),_0x32c18f['dataset'][_0x34b1c7(0x80d)]=_0x4ee774,document['getElementById']('confidence-modal')[_0x34b1c7(0xc3c)][_0x34b1c7(0x6f9)]('hidden');}else handleSyncAnswerSubmit(_0x2c0ddc,_0x44c55c,_0xf31c00,_0x4ee774,![]);}_0xfd75a8?document[_0x5d3603(0x7eb)]('sync-submit-btn')['addEventListener']('click',()=>{const _0x124517=_0x5d3603,_0x3db329=document[_0x124517(0x7eb)](_0x124517(0x484))||document[_0x124517(0x7eb)](_0x124517(0x405));if(_0x3db329[_0x124517(0x53d)][_0x124517(0xa7e)]()===''){showMessage('กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ');return;}_0x26450c(_0x3db329[_0x124517(0x53d)],_0x90c34e,_0x3eef2c,_0xac7bb0);}):document[_0x5d3603(0x89b)](_0x5d3603(0x52c))[_0x5d3603(0xb15)](_0x55f540=>{const _0x37d28b=_0x5d3603;_0x55f540[_0x37d28b(0x5e6)](_0x37d28b(0x732),()=>{const _0x518661=_0x37d28b;_0x26450c(_0x55f540['dataset'][_0x518661(0x53d)],_0x90c34e,_0x3eef2c,_0xac7bb0);});});}async function handleSyncAnswerSubmit(_0x4f9726,_0x2ee70e,_0x44dab1,_0x1797c0,_0x394eb0){const _0x3fd041=_0x473ef4;document[_0x3fd041(0x89b)](_0x3fd041(0x741))['forEach'](_0x16f676=>_0x16f676[_0x3fd041(0x744)]=!![]);const _0x21cc0a=_0x2ee70e['questionType']||_0x44dab1[_0x3fd041(0xd5d)][_0x3fd041(0x3d3)];let _0x293675=![],_0x471acf=_0x4f9726;switch(_0x21cc0a){case _0x3fd041(0x84f):const _0x60ded9=parseInt(_0x4f9726),_0x287525=_0x2ee70e[_0x3fd041(0x8ae)]===!![]||String(_0x2ee70e[_0x3fd041(0x8ae)])[_0x3fd041(0x9f4)]()===_0x3fd041(0xc45);_0x293675=_0x60ded9===0x0&&_0x287525||_0x60ded9===0x1&&!_0x287525,_0x471acf=_0x60ded9===0x0?_0x3fd041(0x897):'ไม่ใช่\x20/\x20ผิด';break;case'short_answer':case'fill_in_no_choices':_0x293675=await gradeShortAnswer(_0x4f9726,_0x2ee70e);break;case'matching_item':_0x293675=_0x4f9726===_0x2ee70e[_0x3fd041(0xc73)];break;case _0x3fd041(0xcc0):default:const _0x363a9c=parseInt(_0x4f9726);_0x293675=_0x363a9c===_0x2ee70e[_0x3fd041(0xb8c)];_0x2ee70e[_0x3fd041(0x745)]&&_0x2ee70e[_0x3fd041(0x745)][_0x363a9c]&&(_0x471acf=_0x2ee70e[_0x3fd041(0x745)][_0x363a9c]);break;}const _0x501516=_0x293675?0x1:0x0,_0x45ccf6=doc(db,_0x3fd041(0x41a)+appId+'/public/data/syncGames',currentLiveGameId),_0xf2a20={};_0xf2a20[_0x3fd041(0xd00)+_0x1797c0+_0x3fd041(0x818)]=increment(_0x501516),_0xf2a20[_0x3fd041(0xd00)+_0x1797c0+'.answered']=!![];let _0xc473=null;(_0x21cc0a===_0x3fd041(0xcc0)||_0x21cc0a==='true_false'||_0x21cc0a===_0x3fd041(0x2e9))&&(_0xc473=parseInt(_0x4f9726));_0xf2a20[_0x3fd041(0xd00)+_0x1797c0+_0x3fd041(0x997)]=_0xc473;const _0x591dff={'questionIndex':_0x44dab1[_0x3fd041(0x748)],'questionId':_0x2ee70e['id'],'answer':_0x4f9726,'answerText':_0x471acf,'isCorrect':_0x293675,'originalQuestionText':_0x2ee70e[_0x3fd041(0x837)]||_0x2ee70e[_0x3fd041(0xd03)],'wasConfident':_0x394eb0};_0xf2a20[_0x3fd041(0xd00)+_0x1797c0+_0x3fd041(0xa7f)]=arrayUnion(_0x591dff),await updateDoc(_0x45ccf6,_0xf2a20);}initialize();
