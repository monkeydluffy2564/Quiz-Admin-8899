const _0x375675=_0xdbfa;(function(_0x4a4a3e,_0x385084){const _0x57c196=_0xdbfa,_0x51bad3=_0x4a4a3e();while(!![]){try{const _0x461d95=parseInt(_0x57c196(0x87f))/0x1+-parseInt(_0x57c196(0x783))/0x2+-parseInt(_0x57c196(0x34a))/0x3*(parseInt(_0x57c196(0x3fb))/0x4)+parseInt(_0x57c196(0xa06))/0x5+parseInt(_0x57c196(0x9f1))/0x6+-parseInt(_0x57c196(0x7d4))/0x7+parseInt(_0x57c196(0x353))/0x8*(parseInt(_0x57c196(0x23e))/0x9);if(_0x461d95===_0x385084)break;else _0x51bad3['push'](_0x51bad3['shift']());}catch(_0x52f12d){_0x51bad3['push'](_0x51bad3['shift']());}}}(_0x36c4,0x72fd7));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment,arrayUnion}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let wakeLock=null,localGroupQuestionIndex=0x0;const requestWakeLock=async()=>{const _0x2ea765=_0xdbfa;if(_0x2ea765(0x41a)in navigator)try{wakeLock=await navigator[_0x2ea765(0x41a)][_0x2ea765(0x57b)](_0x2ea765(0x9a4)),console['log'](_0x2ea765(0x6cf)),wakeLock[_0x2ea765(0x15b)]('release',()=>{const _0x4292ba=_0x2ea765;console[_0x4292ba(0x264)](_0x4292ba(0x843));});}catch(_0x368dff){console['error']('เกิดข้อผิดพลาดในการเปิด\x20Wake\x20Lock:\x20'+_0x368dff['name']+',\x20'+_0x368dff['message']);}else console[_0x2ea765(0x367)](_0x2ea765(0x3d2));},releaseWakeLock=async()=>{const _0x58caa1=_0xdbfa;wakeLock!==null&&(await wakeLock[_0x58caa1(0x770)](),wakeLock=null,console[_0x58caa1(0x264)]('Wake\x20Lock\x20ถูกปิดใช้งานแล้ว:\x20หน้าจอกลับสู่โหมดปกติ'));};let dimTimer=null;const inactivityTime=0xea60;function resetDimTimer(){const _0x4e296a=_0xdbfa;if(dimTimer)clearTimeout(dimTimer);document['body']['classList'][_0x4e296a(0x139)]('dimmed'),dimTimer=setTimeout(()=>{const _0x254359=_0x4e296a;document['body'][_0x254359(0x6a0)][_0x254359(0x273)](_0x254359(0x925)),console[_0x254359(0x264)]('หน้าจอหรี่แสงลงเนื่องจากไม่ใช้งาน');},inactivityTime);}function stopDimTimer(){const _0xde0dbc=_0xdbfa;if(dimTimer)clearTimeout(dimTimer);document[_0xde0dbc(0x66d)][_0xde0dbc(0x6a0)]['remove'](_0xde0dbc(0x925)),window[_0xde0dbc(0x5cc)](_0xde0dbc(0x582),resetDimTimer),window[_0xde0dbc(0x5cc)](_0xde0dbc(0x459),resetDimTimer),window[_0xde0dbc(0x5cc)]('touchstart',resetDimTimer),window[_0xde0dbc(0x5cc)](_0xde0dbc(0x832),resetDimTimer),console[_0xde0dbc(0x264)](_0xde0dbc(0x29d));}let currentTeamQuizId=null,unsubscribeTeamQuizListener=null,localTeamPlayers=[],localPlayerTurnIndex=0x0,localQuestionIndex=0x0,localPlayerIndex=0x0;async function handleStartTeamQuiz(_0x26596e,_0x1c62ee=![]){const _0x2461bd=_0xdbfa,_0x500c63=allQuizzes[_0x2461bd(0x860)](_0x5a120c=>_0x5a120c['id']===_0x26596e)||allQuizzesGlobal[_0x2461bd(0x860)](_0x20a56f=>_0x20a56f['id']===_0x26596e);if(!_0x500c63){showMessage(_0x2461bd(0x66a));return;}currentQuizData=getShuffledQuiz(_0x500c63);const _0x1ab73b=Math[_0x2461bd(0x4e5)](0x3e8+Math[_0x2461bd(0x7be)]()*0x2328)[_0x2461bd(0x57a)]();try{const _0x641479=await addDoc(collection(db,_0x2461bd(0x54c)+appId+_0x2461bd(0x5fd)),{'quizId':_0x500c63['id'],'projectId':_0x500c63[_0x2461bd(0x862)],'status':_0x2461bd(0x2d6),'pin':_0x1ab73b,'createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'responses':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x1c62ee});currentTeamQuizId=_0x641479['id'],showView(_0x2461bd(0x54a)),renderAdminTeamQuizDashboard(_0x1ab73b,_0x500c63[_0x2461bd(0x903)]),listenForTeamQuizUpdates();}catch(_0x5d42d3){console['error'](_0x2461bd(0x3b3),_0x5d42d3),showMessage(_0x2461bd(0xa0e));}}function renderAdminTeamQuizDashboard(_0x2728c3,_0x2cc319,_0x590cb5=_0x375675(0x6da)){const _0x4fa3b8=_0x375675,_0x2115c8=_0x590cb5===_0x4fa3b8(0x2dc)?_0x4fa3b8(0x41f):_0x4fa3b8(0x3bb);liveGameView[_0x4fa3b8(0x938)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-cyan-600\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>'+_0x2115c8+':\x20'+_0x2cc319+_0x4fa3b8(0x251)+_0x2728c3+_0x4fa3b8(0x4e6),document[_0x4fa3b8(0x893)](_0x4fa3b8(0x7b1))[_0x4fa3b8(0x15b)](_0x4fa3b8(0x246),async()=>{const _0x230934=_0x4fa3b8;showConfirmation(_0x230934(0x610),async()=>{const _0x24a495=_0x230934;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();await deleteDoc(doc(db,_0x24a495(0x54c)+appId+_0x24a495(0x5fd),currentTeamQuizId)),showView(_0x24a495(0x31c));});});}function listenForTeamQuizUpdates(){const _0x37f6c7=_0x375675;if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();const _0xc9744d=doc(db,_0x37f6c7(0x54c)+appId+_0x37f6c7(0x5fd),currentTeamQuizId);unsubscribeTeamQuizListener=onSnapshot(_0xc9744d,_0x48012b=>{const _0x5c1da6=_0x37f6c7;if(!_0x48012b['exists']()){sessionStorage['removeItem'](_0x5c1da6(0x325));if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();if(currentMode===_0x5c1da6(0x594))showMessage('กิจกรรม\x20Team\x20Quiz\x20สิ้นสุดลงแล้ว');showView(currentMode===_0x5c1da6(0x594)?_0x5c1da6(0x31c):_0x5c1da6(0x41b));return;}const _0x55310c=_0x48012b[_0x5c1da6(0x918)]();if(currentMode===_0x5c1da6(0x594)){if(_0x55310c[_0x5c1da6(0x8ae)]===_0x5c1da6(0x2dc)&&_0x55310c['status']!==_0x5c1da6(0x16e)&&_0x55310c[_0x5c1da6(0x9bc)]!==_0x5c1da6(0x95d)){const _0x4c83f0=Object[_0x5c1da6(0x5f7)](_0x55310c[_0x5c1da6(0x417)]||{});if(_0x4c83f0[_0x5c1da6(0x8f7)]>0x0){const _0x21ca7a=_0x4c83f0['every'](_0x1bcd10=>_0x1bcd10[_0x5c1da6(0x59c)]===!![]);_0x21ca7a&&endGroupModeGame(currentTeamQuizId);}}updateAdminTeamDashboard(_0x55310c);}else{if(_0x55310c[_0x5c1da6(0x9bc)]==='podium'||_0x55310c[_0x5c1da6(0x9bc)]===_0x5c1da6(0x95d)){if(unsubscribeTeamQuizListener)unsubscribeTeamQuizListener();displayTeamQuizFinalResults();}else{if(_0x55310c['mode']==='group'){const _0xde8c98=_0x55310c[_0x5c1da6(0x417)][userId];(!_0xde8c98||!_0xde8c98[_0x5c1da6(0x59c)])&&renderTeamQuizQuestion();}}}});}async function endGroupModeGame(_0x119cf7){const _0x278f1e=_0x375675;console['log'](_0x278f1e(0x8a0));const _0xff1481=doc(db,_0x278f1e(0x54c)+appId+_0x278f1e(0x5fd),_0x119cf7);try{const _0x2f41a7=await getDoc(_0xff1481);if(_0x2f41a7['exists']()){const _0x562370=_0x2f41a7['data']();_0x562370['shouldSaveResults']&&await saveGameResultsAsSubmissions(_0x562370);}await updateDoc(_0xff1481,{'status':'podium'});}catch(_0x1526a6){console[_0x278f1e(0x8f8)](_0x278f1e(0x71d),_0x1526a6);}}function updateAdminTeamDashboard(_0x99403a){const _0x5bf92a=_0x375675,_0x1a1553=document[_0x5bf92a(0x893)](_0x5bf92a(0x1ec));if(!_0x1a1553)return;const _0x1e3371=_0x99403a[_0x5bf92a(0x8ae)]||'team',_0x201ff2=currentQuizData['questions'][_0x5bf92a(0x8f7)];if(_0x1e3371===_0x5bf92a(0x2dc)){const _0x5058d9=Object[_0x5bf92a(0x5f7)](_0x99403a[_0x5bf92a(0x417)]||{});if(_0x5058d9[_0x5bf92a(0x8f7)]===0x0){_0x1a1553[_0x5bf92a(0x938)]=_0x5bf92a(0x46a);return;}const _0x59c295=[..._0x5058d9][_0x5bf92a(0x4d7)]((_0x4397f6,_0x4ef2f9)=>_0x4ef2f9[_0x5bf92a(0x9eb)]-_0x4397f6[_0x5bf92a(0x9eb)]),_0x210983=_0x59c295['map']((_0x2852f5,_0x2e8c30)=>{const _0x25dc4b=_0x5bf92a,_0x51a069=_0x2852f5[_0x25dc4b(0x196)]?.[_0x25dc4b(0x8f7)]||0x0;return _0x25dc4b(0x435)+(_0x2e8c30+0x1)+'.\x20กลุ่ม:\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-cyan-200\x22>'+_0x2852f5[_0x25dc4b(0xe4)]['join'](',\x20')+_0x25dc4b(0x509)+_0x51a069+'/'+_0x201ff2+_0x25dc4b(0x5cf)+_0x2852f5['score']+_0x25dc4b(0x3d0);})[_0x5bf92a(0x56f)](''),_0x4d0f9d=currentQuizData[_0x5bf92a(0x389)][_0x5bf92a(0x2cb)]((_0x3ef1f1,_0x2933a4)=>{const _0x4dea0b=_0x5bf92a;let _0xec2436=0x0,_0x54e7f3=0x0;_0x5058d9[_0x4dea0b(0x1d9)](_0x475576=>{const _0x3307a7=_0x4dea0b,_0x262a56=_0x475576['answers']?.[_0x3307a7(0x860)](_0x4d14ce=>_0x4d14ce[_0x3307a7(0x8a5)]===_0x2933a4);if(_0x262a56){_0x54e7f3++;if(_0x262a56[_0x3307a7(0xf2)])_0xec2436++;}});const _0x3d1ae5=_0x54e7f3>0x0&&_0x54e7f3===_0x5058d9[_0x4dea0b(0x8f7)],_0x2b29fe=_0x3d1ae5?_0x4dea0b(0x47f):_0x4dea0b(0x2e7),_0x72ba26=_0x3d1ae5?_0x4dea0b(0x7d9):'';return'<div\x20class=\x22p-2\x20rounded-md\x20'+_0x2b29fe+'\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20'+(_0x2933a4+0x1)+_0x4dea0b(0xa0f)+_0x72ba26+_0x4dea0b(0x45e)+_0xec2436+'/'+_0x5058d9[_0x4dea0b(0x8f7)]+_0x4dea0b(0x820);})[_0x5bf92a(0x56f)]('');_0x1a1553['innerHTML']=_0x5bf92a(0x93f)+_0x210983+_0x5bf92a(0x9e4)+_0x4d0f9d+_0x5bf92a(0x3a6);return;}const _0x436e0a=_0x99403a[_0x5bf92a(0x5b8)]||{},_0x4cc50c=Object[_0x5bf92a(0x26c)](_0x436e0a);if(_0x4cc50c['length']===0x0){_0x1a1553[_0x5bf92a(0x938)]='<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>';return;}const _0x216a8d=_0x4cc50c[_0x5bf92a(0x2cb)](_0x2bb815=>({'name':_0x2bb815,'score':_0x436e0a[_0x2bb815][_0x5bf92a(0x9eb)]||0x0}))[_0x5bf92a(0x4d7)]((_0x58ae91,_0x43cf50)=>_0x43cf50[_0x5bf92a(0x9eb)]-_0x58ae91['score']),_0x41497d=_0x216a8d[_0x5bf92a(0x2cb)](_0x3aa201=>{const _0xba511e=_0x5bf92a,_0xf625fa=_0x436e0a[_0x3aa201[_0xba511e(0x67c)]]?.['answers']?.[_0xba511e(0x8f7)]||0x0,_0x44a135=Math['ceil'](_0x201ff2/_0x4cc50c[_0xba511e(0x8f7)]);return'<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/20\x20p-2\x20rounded-md\x22><span>'+_0x3aa201[_0xba511e(0x67c)]+_0xba511e(0x70c)+_0xf625fa+'/'+_0x44a135+_0xba511e(0x143)+_0x3aa201[_0xba511e(0x9eb)]+_0xba511e(0x2d4);})[_0x5bf92a(0x56f)](''),_0x19e141=_0x4cc50c[_0x5bf92a(0x580)]((_0x3089d3,_0x20c175)=>_0x3089d3+(_0x436e0a[_0x20c175][_0x5bf92a(0x196)]?.[_0x5bf92a(0x8f7)]||0x0),0x0),_0x3d4830=currentQuizData['questions']['map']((_0x381169,_0x108a7b)=>{const _0x362d36=_0x5bf92a;let _0x2ee8bc=null,_0x1929f5=null;for(const _0x531149 of _0x4cc50c){const _0x4eeec2=_0x436e0a[_0x531149]['answers']?.[_0x362d36(0x860)](_0x5a5a49=>_0x5a5a49['questionIndex']===_0x108a7b);if(_0x4eeec2){_0x2ee8bc=_0x4eeec2,_0x1929f5=_0x531149;break;}}const _0x32dd91=!!_0x2ee8bc,_0x5d9804=_0x32dd91&&_0x2ee8bc[_0x362d36(0xf2)],_0x1aea49=(Math[_0x362d36(0x4e5)](_0x108a7b/_0x4cc50c[_0x362d36(0x8f7)])+0x1)*_0x4cc50c[_0x362d36(0x8f7)],_0x49ef7d=_0x19e141>=_0x1aea49,_0x189501=_0x49ef7d?_0x362d36(0x2ea):_0x362d36(0x2e7),_0xf43eab=_0x49ef7d?_0x362d36(0x7d9):'';let _0x29d197=_0x362d36(0x9b8);return _0x32dd91&&(_0x29d197=_0x1929f5+_0x362d36(0x577)+(_0x5d9804?_0x362d36(0x92b):_0x362d36(0x6ac))),_0x362d36(0x25a)+_0x189501+_0x362d36(0x670)+(_0x108a7b+0x1)+_0x362d36(0xa0f)+_0xf43eab+_0x362d36(0x944)+_0x29d197+_0x362d36(0x3a7);})[_0x5bf92a(0x56f)]('');_0x1a1553[_0x5bf92a(0x938)]=_0x5bf92a(0x13c)+_0x41497d+_0x5bf92a(0x78c)+_0x3d4830+'</div></div></div>';}async function handleJoinTeamQuiz(){const _0x19f3c3=_0x375675,_0x41e739=prompt(_0x19f3c3(0x793));if(!_0x41e739||_0x41e739['trim']()[_0x19f3c3(0x8f7)]!==0x4){showMessage('รหัสไม่ถูกต้อง');return;}try{const _0x29d859=collection(db,_0x19f3c3(0x54c)+appId+_0x19f3c3(0x5fd)),_0x27f408=query(_0x29d859,where('pin','==',_0x41e739[_0x19f3c3(0x517)]()),where(_0x19f3c3(0x9bc),'==',_0x19f3c3(0x2d6))),_0x562598=await getDocs(_0x27f408);if(_0x562598['empty']){showMessage(_0x19f3c3(0x91f));return;}const _0x5d8815=_0x562598[_0x19f3c3(0x9fe)][0x0];currentTeamQuizId=_0x5d8815['id'];const _0x4e7566=_0x5d8815[_0x19f3c3(0x918)](),_0x22e109=doc(db,_0x19f3c3(0x54c)+appId+_0x19f3c3(0x556),_0x4e7566[_0x19f3c3(0x862)]),_0x9c955e=doc(db,_0x19f3c3(0x54c)+appId+_0x19f3c3(0x685),_0x4e7566[_0x19f3c3(0x7b7)]),[_0x478e3b,_0x1b3b8e]=await Promise[_0x19f3c3(0x801)]([getDoc(_0x22e109),getDoc(_0x9c955e)]);if(!_0x478e3b[_0x19f3c3(0x135)]()||!_0x1b3b8e['exists']())throw new Error(_0x19f3c3(0x645));currentQuizData=getShuffledQuiz({'id':_0x1b3b8e['id'],..._0x1b3b8e[_0x19f3c3(0x918)]()});const _0x301868=_0x478e3b[_0x19f3c3(0x918)]();showTeamPlayerSelection(_0x301868[_0x19f3c3(0x67f)],currentQuizData[_0x19f3c3(0x903)]);}catch(_0x268c2c){console[_0x19f3c3(0x8f8)](_0x19f3c3(0x7ec),_0x268c2c),showMessage('เกิดข้อผิดพลาด:\x20'+_0x268c2c['message']);}}async function handleJoinGroupActivity(){const _0xb54761=_0x375675,_0x2e6765=prompt(_0xb54761(0x50e));if(!_0x2e6765||_0x2e6765[_0xb54761(0x517)]()[_0xb54761(0x8f7)]!==0x4){showMessage(_0xb54761(0x2dd));return;}const _0x507071=_0x2e6765['trim']();showMessage('กำลังค้นหากิจกรรม...');try{const _0x382d7d=collection(db,_0xb54761(0x54c)+appId+_0xb54761(0x5fd)),_0x41edf2=query(_0x382d7d,where('pin','==',_0x507071),where(_0xb54761(0x9bc),'==','lobby')),_0x1347d4=await getDocs(_0x41edf2);if(!_0x1347d4['empty']){console[_0xb54761(0x264)](_0xb54761(0x700)),await proceedWithTeamQuizJoin(_0x1347d4['docs'][0x0]);return;}const _0xcb56db=collection(db,_0xb54761(0x54c)+appId+'/public/data/syncGames'),_0x49c09f=query(_0xcb56db,where(_0xb54761(0x496),'==',_0x507071),where(_0xb54761(0x9bc),'==','lobby')),_0x3d2721=await getDocs(_0x49c09f);if(!_0x3d2721[_0xb54761(0x98f)]){console[_0xb54761(0x264)](_0xb54761(0x5be)),await proceedWithSyncQuizJoin(_0x3d2721[_0xb54761(0x9fe)][0x0]);return;}showMessage(_0xb54761(0x999));}catch(_0x2803e1){console[_0xb54761(0x8f8)](_0xb54761(0x996),_0x2803e1),showMessage('เกิดข้อผิดพลาดในการเชื่อมต่อ:\x20'+_0x2803e1[_0xb54761(0x18a)]);}}async function proceedWithTeamQuizJoin(_0x46758f){const _0x4c8c52=_0x375675;currentTeamQuizId=_0x46758f['id'];const _0x45d3d3=_0x46758f[_0x4c8c52(0x918)](),_0x579a83=doc(db,'artifacts/'+appId+'/public/data/projects',_0x45d3d3[_0x4c8c52(0x862)]),_0x5d7d16=doc(db,_0x4c8c52(0x54c)+appId+'/public/data/quizzes',_0x45d3d3[_0x4c8c52(0x7b7)]),[_0x460fee,_0x3fa296]=await Promise[_0x4c8c52(0x801)]([getDoc(_0x579a83),getDoc(_0x5d7d16)]);if(!_0x460fee[_0x4c8c52(0x135)]()||!_0x3fa296[_0x4c8c52(0x135)]())throw new Error('ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ');currentQuizData=getShuffledQuiz({'id':_0x3fa296['id'],..._0x3fa296['data']()}),showTeamPlayerSelection(_0x460fee[_0x4c8c52(0x918)]()[_0x4c8c52(0x67f)],currentQuizData[_0x4c8c52(0x903)],_0x45d3d3[_0x4c8c52(0x8ae)]||_0x4c8c52(0x6da)),messageModal[_0x4c8c52(0x6a0)]['add'](_0x4c8c52(0x8c9));}async function proceedWithSyncQuizJoin(_0x244c0f){const _0x181ab2=_0x375675;currentLiveGameId=_0x244c0f['id'];const _0x15c02e=_0x244c0f[_0x181ab2(0x918)](),_0xa55a50=doc(db,_0x181ab2(0x54c)+appId+_0x181ab2(0x685),_0x15c02e[_0x181ab2(0x7b7)]),_0x2096a5=await getDoc(_0xa55a50);if(!_0x2096a5[_0x181ab2(0x135)]())throw new Error('ไม่พบข้อมูลแบบทดสอบ');const _0x4d0a66=_0x2096a5[_0x181ab2(0x918)](),_0x2d0413=doc(db,'artifacts/'+appId+'/public/data/projects',_0x4d0a66[_0x181ab2(0x862)]),_0x3b426a=await getDoc(_0x2d0413);if(!_0x3b426a[_0x181ab2(0x135)]())throw new Error(_0x181ab2(0x64c));currentQuizData=_0x15c02e[_0x181ab2(0x6c7)],showView(_0x181ab2(0x93a)),showTeamPlayerSelection(_0x3b426a[_0x181ab2(0x918)]()[_0x181ab2(0x67f)],_0x4d0a66[_0x181ab2(0x903)],_0x181ab2(0x50c)),document[_0x181ab2(0x893)](_0x181ab2(0x390))['onclick']=confirmAndJoinSyncGame,messageModal[_0x181ab2(0x6a0)]['add'](_0x181ab2(0x8c9));}function showTeamPlayerSelection(_0x50c3b6,_0xa79f60,_0x4bdbb5='team'){const _0x29d9a6=_0x375675;studentInitialView[_0x29d9a6(0x6a0)][_0x29d9a6(0x273)](_0x29d9a6(0x8c9)),studentJoinGameView[_0x29d9a6(0x6a0)][_0x29d9a6(0x273)](_0x29d9a6(0x8c9)),document[_0x29d9a6(0x893)](_0x29d9a6(0x7ff))[_0x29d9a6(0x6a0)][_0x29d9a6(0x139)]('hidden');let _0x5ed40f=_0x29d9a6(0x3bb);if(_0x4bdbb5===_0x29d9a6(0x2dc))_0x5ed40f=_0x29d9a6(0x41f);else _0x4bdbb5===_0x29d9a6(0x50c)&&(_0x5ed40f=_0x29d9a6(0x258));document['getElementById'](_0x29d9a6(0x5e9))[_0x29d9a6(0x490)]=_0x5ed40f+':\x20'+_0xa79f60;const _0x1936d8=document['getElementById'](_0x29d9a6(0x1d0));if(!_0x50c3b6||_0x50c3b6[_0x29d9a6(0x8f7)]===0x0){_0x1936d8['innerHTML']=_0x29d9a6(0x955),document[_0x29d9a6(0x893)](_0x29d9a6(0x390))['disabled']=!![];return;}_0x1936d8[_0x29d9a6(0x938)]=_0x50c3b6['map'](_0x23123d=>_0x29d9a6(0x30d)+_0x23123d+_0x29d9a6(0x407)+_0x23123d+_0x29d9a6(0x425))[_0x29d9a6(0x56f)](''),document[_0x29d9a6(0x893)](_0x29d9a6(0x390))[_0x29d9a6(0x5fa)]=![];}async function confirmAndStartTeamQuiz(){const _0x587df9=_0x375675,_0xf8f6b4=Array['from'](document[_0x587df9(0x814)](_0x587df9(0x191)))[_0x587df9(0x2cb)](_0x5096fb=>_0x5096fb['value']);if(_0xf8f6b4['length']===0x0){showMessage(_0x587df9(0x9a2));return;}localTeamPlayers=_0xf8f6b4,localQuestionIndex=0x0,localPlayerIndex=0x0;const _0x44f45c=doc(db,_0x587df9(0x54c)+appId+'/public/data/teamQuizzes',currentTeamQuizId);try{const _0x21746c=await getDoc(_0x44f45c);if(!_0x21746c[_0x587df9(0x135)]())throw new Error('ไม่พบข้อมูลเกม');const _0x7c6f6b=_0x21746c[_0x587df9(0x918)]();if(_0x7c6f6b['mode']==='group'){const _0x18d82a={[_0x587df9(0x871)+userId]:{'members':localTeamPlayers,'score':0x0,'answers':[]}};await updateDoc(_0x44f45c,_0x18d82a);}else{const _0x52a378=_0x7c6f6b[_0x587df9(0x5b8)]||{};localTeamPlayers['forEach'](_0x289ace=>{!_0x52a378[_0x289ace]&&(_0x52a378[_0x289ace]={'score':0x0,'answers':[]});}),await updateDoc(_0x44f45c,{'responses':_0x52a378});}document[_0x587df9(0x893)]('student-team-selection-view')['classList'][_0x587df9(0x273)](_0x587df9(0x8c9)),renderTeamQuizQuestion();const _0xf0b57b={'gameId':currentTeamQuizId,'mode':_0x7c6f6b['mode']||_0x587df9(0x6da),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x587df9(0x678)](_0x587df9(0x325),JSON[_0x587df9(0x5dd)](_0xf0b57b)),listenForTeamQuizUpdates();}catch(_0x35119a){console['error']('Error\x20confirming\x20players:',_0x35119a),showMessage(_0x587df9(0x5f8));}}async function renderTeamQuizQuestion(){const _0x283db4=_0x375675;if(localQuestionIndex>=currentQuizData['questions'][_0x283db4(0x8f7)]){displayTeamQuizFinalResults();return;}const _0x27f580=currentQuizData[_0x283db4(0x389)][localQuestionIndex],_0x21debd=localTeamPlayers[localPlayerIndex],_0x3ad487=_0x27f580[_0x283db4(0x1d7)]||currentQuizData[_0x283db4(0x241)];let _0xb5b67=_0x27f580[_0x283db4(0x877)]||_0x27f580[_0x283db4(0x8b8)],_0x1b57df='';switch(_0x3ad487){case'multiple_choice':case _0x283db4(0x22c):_0x1b57df=_0x27f580[_0x283db4(0x34d)][_0x283db4(0x2cb)]((_0x4ce0bd,_0x3ac05e)=>_0x283db4(0x131)+_0x3ac05e+'\x22\x20name=\x22team_answer\x22\x20value=\x22'+_0x3ac05e+'\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt'+_0x3ac05e+'\x22>'+_0x4ce0bd+_0x283db4(0x8c8))[_0x283db4(0x56f)]('');break;case _0x283db4(0x46e):_0x1b57df=_0x283db4(0x93c);break;case'short_answer':case _0x283db4(0x611):_0x1b57df=_0x283db4(0x89c);break;case _0x283db4(0x99f):_0x1b57df=_0x283db4(0x635)+_0x27f580[_0x283db4(0x9c0)]['map'](_0x33ab18=>_0x283db4(0x98e)+_0x33ab18+'\x22>'+_0x33ab18+_0x283db4(0x35e))[_0x283db4(0x56f)]('')+_0x283db4(0x5bb);break;default:_0x1b57df=_0x283db4(0x94c);break;}studentQuizArea[_0x283db4(0x938)]=_0x283db4(0x60c)+(localQuestionIndex+0x1)+_0x283db4(0x8e8)+currentQuizData['questions'][_0x283db4(0x8f7)]+_0x283db4(0x4f9)+_0x21debd+_0x283db4(0x171)+(localQuestionIndex+0x1)+'.\x20'+_0xb5b67+_0x283db4(0x114)+(_0x27f580[_0x283db4(0x31d)]?_0x283db4(0x660)+_0x27f580[_0x283db4(0x31d)]+_0x283db4(0x2d3):'')+_0x283db4(0x4ff)+_0x1b57df+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-team-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',studentQuizArea[_0x283db4(0x6a0)]['remove'](_0x283db4(0x8c9));if(window[_0x283db4(0x775)])MathJax[_0x283db4(0x2b2)]([studentQuizArea]);document[_0x283db4(0x893)](_0x283db4(0x104))[_0x283db4(0x15b)](_0x283db4(0x246),handleTeamAnswerSubmit);}async function handleGroupAnswerSubmit(){const _0x39b694=_0x375675,_0x55cf27=currentQuizData[_0x39b694(0x389)][localQuestionIndex],_0x81d9b4=_0x55cf27['questionType']||currentQuizData['quizType'];let _0x54dd83=null,_0x193cf3=![];if(_0x81d9b4===_0x39b694(0x689)||_0x81d9b4===_0x39b694(0x611)){const _0x4e9f87=document[_0x39b694(0x173)](_0x39b694(0x711));if(!_0x4e9f87||!_0x4e9f87[_0x39b694(0x106)]['trim']()){showMessage(_0x39b694(0x7a7));return;}_0x54dd83=_0x4e9f87[_0x39b694(0x106)][_0x39b694(0x517)](),_0x193cf3=await gradeShortAnswer(_0x54dd83,_0x55cf27);}else{const _0x5b7a78=document[_0x39b694(0x173)](_0x39b694(0x4ed));if(!_0x5b7a78||_0x5b7a78['value']===''){showMessage(_0x39b694(0x758));return;}_0x54dd83=_0x5b7a78[_0x39b694(0x106)];switch(_0x81d9b4){case _0x39b694(0x46e):_0x193cf3=_0x54dd83===_0x39b694(0x7e6)===_0x55cf27[_0x39b694(0x1b1)];break;case _0x39b694(0x99f):_0x193cf3=_0x54dd83===_0x55cf27['correctResponse'];break;default:_0x193cf3=parseInt(_0x54dd83)===_0x55cf27[_0x39b694(0x376)];break;}}const _0x519023={'questionIndex':localQuestionIndex,'isCorrect':_0x193cf3},_0x2f11be=userId,_0xe2646f={[_0x39b694(0x871)+_0x2f11be+'.answers']:arrayUnion(_0x519023)};_0x193cf3&&(_0xe2646f[_0x39b694(0x871)+_0x2f11be+_0x39b694(0x61f)]=increment(0x1));try{await updateDoc(doc(db,_0x39b694(0x54c)+appId+_0x39b694(0x5fd),currentTeamQuizId),_0xe2646f),localQuestionIndex++,localQuestionIndex>=currentQuizData[_0x39b694(0x389)][_0x39b694(0x8f7)]?displayTeamQuizFinalResults():renderGroupModeQuestion();}catch(_0x5b2620){console[_0x39b694(0x8f8)](_0x39b694(0x4fe),_0x5b2620),showMessage(_0x39b694(0x3f0));}}async function handleTeamAnswerSubmit(){const _0x726d35=_0x375675,_0x53b864=await getDoc(doc(db,_0x726d35(0x54c)+appId+_0x726d35(0x5fd),currentTeamQuizId));if(!_0x53b864['exists']())return;const _0x1a0b06=_0x53b864[_0x726d35(0x918)]();if(_0x1a0b06[_0x726d35(0x8ae)]==='group'){handleGroupAnswerSubmit();return;}const _0x28e3d9=localTeamPlayers[localPlayerIndex],_0x1e61ab=currentQuizData[_0x726d35(0x389)][localQuestionIndex],_0x1ca9eb=_0x1e61ab[_0x726d35(0x1d7)]||currentQuizData[_0x726d35(0x241)];let _0x2a6f31=null,_0x231cb8=![];if(_0x1ca9eb===_0x726d35(0x689)||_0x1ca9eb===_0x726d35(0x611)){const _0x57098a=document[_0x726d35(0x173)](_0x726d35(0x711));if(!_0x57098a||!_0x57098a[_0x726d35(0x106)][_0x726d35(0x517)]()){showMessage(_0x726d35(0x388));return;}_0x2a6f31=_0x57098a[_0x726d35(0x106)]['trim'](),_0x231cb8=await gradeShortAnswer(_0x2a6f31,_0x1e61ab);}else{const _0x7741c6=document[_0x726d35(0x173)](_0x726d35(0x4ed));if(!_0x7741c6||_0x7741c6[_0x726d35(0x106)]===''){showMessage(_0x726d35(0x3e2));return;}_0x2a6f31=_0x7741c6[_0x726d35(0x106)];switch(_0x1ca9eb){case _0x726d35(0x46e):_0x231cb8=_0x2a6f31===_0x726d35(0x7e6)===_0x1e61ab[_0x726d35(0x1b1)];break;case'matching_item':_0x231cb8=_0x2a6f31===_0x1e61ab[_0x726d35(0x714)];break;default:_0x231cb8=parseInt(_0x2a6f31)===_0x1e61ab[_0x726d35(0x376)];break;}}const _0x291b84={'questionIndex':localQuestionIndex,'isCorrect':_0x231cb8,'answerValue':_0x2a6f31},_0x4dcf57={[_0x726d35(0x42c)+_0x28e3d9+_0x726d35(0x36f)]:arrayUnion(_0x291b84)};_0x231cb8&&(_0x4dcf57[_0x726d35(0x42c)+_0x28e3d9+_0x726d35(0x61f)]=increment(0x1));try{await updateDoc(doc(db,_0x726d35(0x54c)+appId+_0x726d35(0x5fd),currentTeamQuizId),_0x4dcf57),localPlayerIndex++,localPlayerIndex>=localTeamPlayers[_0x726d35(0x8f7)]&&(localQuestionIndex++,localPlayerIndex=0x0),renderTeamQuizQuestion();}catch(_0x249f4c){console[_0x726d35(0x8f8)](_0x726d35(0x588),_0x249f4c),showMessage('เกิดข้อผิดพลาดในการส่งคำตอบ');}}async function displayTeamQuizFinalResults(){const _0x2098df=_0x375675;studentQuizArea[_0x2098df(0x6a0)]['add'](_0x2098df(0x8c9)),studentResultArea['classList'][_0x2098df(0x139)](_0x2098df(0x8c9));const _0x289667=doc(db,_0x2098df(0x54c)+appId+_0x2098df(0x5fd),currentTeamQuizId),_0x28f093=await getDoc(_0x289667);if(!_0x28f093[_0x2098df(0x135)]()){studentResultArea[_0x2098df(0x938)]=_0x2098df(0x31e);return;}const _0x541de6=_0x28f093[_0x2098df(0x918)]();let _0x5ee16d=[];const _0x416e1d=_0x541de6[_0x2098df(0x8ae)]||_0x2098df(0x6da);if(_0x416e1d===_0x2098df(0x2dc)){const _0x4f0f8b=_0x541de6[_0x2098df(0x417)][userId];_0x4f0f8b?_0x5ee16d=[{'name':_0x2098df(0x418)+localTeamPlayers['join'](',\x20'),'score':_0x4f0f8b[_0x2098df(0x9eb)]||0x0}]:_0x5ee16d=[{'name':_0x2098df(0x85c),'score':'N/A'}];}else _0x5ee16d=localTeamPlayers[_0x2098df(0x2cb)](_0x45a987=>({'name':_0x45a987,'score':_0x541de6[_0x2098df(0x5b8)][_0x45a987]?.[_0x2098df(0x9eb)]||0x0}))[_0x2098df(0x4d7)]((_0x55e5e9,_0xfda999)=>_0xfda999[_0x2098df(0x9eb)]-_0x55e5e9['score']);studentResultArea[_0x2098df(0x938)]=_0x2098df(0x8c6)+_0x5ee16d[_0x2098df(0x2cb)](_0x5c9002=>_0x2098df(0x5f9)+_0x5c9002['name']+_0x2098df(0x4fd)+_0x5c9002[_0x2098df(0x9eb)]+_0x2098df(0x1c1))[_0x2098df(0x56f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22window.location.reload()\x22\x20class=\x22mt-6\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x22>กลับหน้าแรก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',sessionStorage[_0x2098df(0x16a)](_0x2098df(0x325)),currentMode==='admin'&&currentTeamQuizId&&setTimeout(()=>{const _0xf4aa1d=_0x2098df;deleteDoc(doc(db,'artifacts/'+appId+_0xf4aa1d(0x5fd),currentTeamQuizId));},0x493e0);}let history=[],historyStep=-0x1,modalConfirmAction=null,cheatAttempts=0x0,cheatDetectionTimeout=null;const maxCheatAttempts=0x3;let isQuizActive=![],globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[],'projectView':_0x375675(0xf0)};const allMathTopics=[{'category':_0x375675(0x255),'name':'การนับ'},{'category':'จำนวนและการดำเนินการ','name':_0x375675(0x2fb)},{'category':'จำนวนและการดำเนินการ','name':_0x375675(0x39b)},{'category':_0x375675(0x255),'name':_0x375675(0x6c4)},{'category':'จำนวนและการดำเนินการ','name':_0x375675(0xba)},{'category':'จำนวนและการดำเนินการ','name':_0x375675(0x2e4)},{'category':'จำนวนและการดำเนินการ','name':_0x375675(0x9de)},{'category':_0x375675(0x255),'name':'การหาร'},{'category':'จำนวนและการดำเนินการ','name':_0x375675(0x657)},{'category':_0x375675(0x255),'name':_0x375675(0x89f)},{'category':_0x375675(0x255),'name':_0x375675(0x8a8)},{'category':'จำนวนและการดำเนินการ','name':_0x375675(0x147)},{'category':_0x375675(0x255),'name':_0x375675(0x573)},{'category':_0x375675(0x255),'name':_0x375675(0x729)},{'category':_0x375675(0x255),'name':'ห.ร.ม.\x20(GCD)'},{'category':'จำนวนและการดำเนินการ','name':_0x375675(0x558)},{'category':'จำนวนและการดำเนินการ','name':'อัตราส่วนและสัดส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0x375675(0x629)},{'category':_0x375675(0x255),'name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':_0x375675(0x255),'name':_0x375675(0x73f)},{'category':_0x375675(0x255),'name':_0x375675(0x8aa)},{'category':_0x375675(0x255),'name':'การคูณเศษส่วน'},{'category':_0x375675(0x255),'name':_0x375675(0x77a)},{'category':_0x375675(0x255),'name':_0x375675(0x4f4)},{'category':_0x375675(0x255),'name':_0x375675(0x7ac)},{'category':_0x375675(0x255),'name':_0x375675(0x7f1)},{'category':_0x375675(0x255),'name':_0x375675(0x974)},{'category':'จำนวนและการดำเนินการ','name':_0x375675(0x84f)},{'category':'จำนวนและการดำเนินการ','name':_0x375675(0x5a0)},{'category':'จำนวนและการดำเนินการ','name':'แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ'},{'category':'จำนวนและการดำเนินการ','name':_0x375675(0x830)},{'category':'จำนวนและการดำเนินการ','name':_0x375675(0x3b0)},{'category':_0x375675(0x255),'name':_0x375675(0x6d8)},{'category':'จำนวนและการดำเนินการ','name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':_0x375675(0x255),'name':'รากที่สองและที่สาม'},{'category':_0x375675(0x255),'name':_0x375675(0x96c)},{'category':_0x375675(0x255),'name':_0x375675(0x4c8)},{'category':_0x375675(0x48b),'name':_0x375675(0x287)},{'category':_0x375675(0x48b),'name':'หน่วยมวล/น้ำหนักและการแปลง'},{'category':_0x375675(0x48b),'name':'หน่วยเวลาและการคำนวณเวลา'},{'category':_0x375675(0x48b),'name':_0x375675(0x3e9)},{'category':_0x375675(0x48b),'name':_0x375675(0x49b)},{'category':_0x375675(0x48b),'name':'เส้นรอบรูป'},{'category':_0x375675(0x48b),'name':_0x375675(0x748)},{'category':_0x375675(0x48b),'name':_0x375675(0x667)},{'category':_0x375675(0x48b),'name':_0x375675(0x35c)},{'category':_0x375675(0x48b),'name':_0x375675(0x7d1)},{'category':_0x375675(0x48b),'name':_0x375675(0x8b6)},{'category':_0x375675(0x48b),'name':'มุมและการวัดมุม'},{'category':_0x375675(0x48b),'name':_0x375675(0x846)},{'category':_0x375675(0x48b),'name':_0x375675(0x1b0)},{'category':_0x375675(0x458),'name':'จุด\x20เส้น\x20ระนาบ'},{'category':_0x375675(0x458),'name':'ความสัมพันธ์ของมุม'},{'category':'เรขาคณิต','name':_0x375675(0x851)},{'category':_0x375675(0x458),'name':_0x375675(0x667)},{'category':'เรขาคณิต','name':_0x375675(0x70b)},{'category':_0x375675(0x458),'name':'ความคล้ายของรูป'},{'category':_0x375675(0x458),'name':'รูปสี่เหลี่ยมและสมบัติ'},{'category':_0x375675(0x458),'name':_0x375675(0x24e)},{'category':'เรขาคณิต','name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':_0x375675(0x458),'name':'วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม'},{'category':_0x375675(0x458),'name':'วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์'},{'category':'เรขาคณิต','name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':_0x375675(0x458),'name':_0x375675(0x624)},{'category':_0x375675(0x458),'name':'การสร้างรูปด้วยวงเวียน–สันตรง'},{'category':_0x375675(0x458),'name':_0x375675(0x38f)},{'category':_0x375675(0x53b),'name':'ตัวแปรและนิพจน์'},{'category':_0x375675(0x53b),'name':_0x375675(0x4aa)},{'category':_0x375675(0x53b),'name':'พหุนาม\x20(บวก/ลบ/คูณ/หาร)'},{'category':_0x375675(0x53b),'name':_0x375675(0xd8)},{'category':_0x375675(0x53b),'name':_0x375675(0x58d)},{'category':_0x375675(0x53b),'name':_0x375675(0x288)},{'category':_0x375675(0x53b),'name':'สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)'},{'category':_0x375675(0x53b),'name':'สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x375675(0x9d5)},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการเหตุผล\x20(rational)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x375675(0x16c)},{'category':_0x375675(0x53b),'name':_0x375675(0x317)},{'category':_0x375675(0x53b),'name':'สมการลอการิทึม'},{'category':_0x375675(0x53b),'name':'อสมการเชิงเส้น'},{'category':_0x375675(0x53b),'name':'อสมการค่าสัมบูรณ์'},{'category':_0x375675(0x53b),'name':_0x375675(0x24f)},{'category':_0x375675(0x53b),'name':_0x375675(0x81c)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x375675(0x28b)},{'category':_0x375675(0x53b),'name':'องค์ประกอบของฟังก์ชัน'},{'category':_0x375675(0x53b),'name':_0x375675(0x892)},{'category':_0x375675(0x53b),'name':'การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)'},{'category':_0x375675(0x53b),'name':_0x375675(0x8cc)},{'category':_0x375675(0x53b),'name':_0x375675(0x648)},{'category':_0x375675(0x53b),'name':'ฟังก์ชันพหุนาม'},{'category':_0x375675(0x53b),'name':_0x375675(0x6e8)},{'category':_0x375675(0x53b),'name':_0x375675(0x1e5)},{'category':_0x375675(0x53b),'name':_0x375675(0x7ee)},{'category':_0x375675(0x53b),'name':'ฟังก์ชันแบบชิ้นส่วน'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x375675(0x174)},{'category':_0x375675(0x53b),'name':_0x375675(0x870)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x375675(0x854)},{'category':_0x375675(0x53b),'name':_0x375675(0x5aa)},{'category':_0x375675(0x53b),'name':_0x375675(0x52d)},{'category':_0x375675(0x53b),'name':_0x375675(0x874)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x375675(0x3c8)},{'category':'เรขาคณิตวิเคราะห์','name':'ระยะทางและจุดกึ่งกลาง'},{'category':_0x375675(0x393),'name':_0x375675(0x4c5)},{'category':'เรขาคณิตวิเคราะห์','name':_0x375675(0x3d5)},{'category':'เรขาคณิตวิเคราะห์','name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':'เรขาคณิตวิเคราะห์','name':_0x375675(0x8f2)},{'category':_0x375675(0x393),'name':'วงกลม:\x20สมการและสมบัติ'},{'category':_0x375675(0x393),'name':_0x375675(0x526)},{'category':_0x375675(0x393),'name':_0x375675(0x83c)},{'category':_0x375675(0x393),'name':'ไฮเพอร์โบลา'},{'category':_0x375675(0x109),'name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':_0x375675(0x109),'name':_0x375675(0x89a)},{'category':_0x375675(0x109),'name':_0x375675(0x37a)},{'category':_0x375675(0x109),'name':'เรเดียนและการแปลงหน่วย'},{'category':'ตรีโกณมิติ','name':'กฎของไซน์'},{'category':_0x375675(0x109),'name':_0x375675(0xa12)},{'category':_0x375675(0x109),'name':_0x375675(0x5f4)},{'category':_0x375675(0x109),'name':'การแปลงรูปอัตลักษณ์'},{'category':_0x375675(0x109),'name':_0x375675(0x334)},{'category':_0x375675(0x109),'name':_0x375675(0x45d)},{'category':_0x375675(0x109),'name':'ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)'},{'category':'สถิติและความน่าจะเป็น','name':_0x375675(0x7ab)},{'category':_0x375675(0x96e),'name':_0x375675(0x440)},{'category':_0x375675(0x96e),'name':_0x375675(0xce)},{'category':_0x375675(0x96e),'name':_0x375675(0x71a)},{'category':_0x375675(0x96e),'name':_0x375675(0x6f9)},{'category':_0x375675(0x96e),'name':_0x375675(0x69a)},{'category':_0x375675(0x96e),'name':'ค่าเฉลี่ย'},{'category':_0x375675(0x96e),'name':_0x375675(0x7e5)},{'category':'สถิติและความน่าจะเป็น','name':_0x375675(0x536)},{'category':_0x375675(0x96e),'name':_0x375675(0x9bd)},{'category':_0x375675(0x96e),'name':_0x375675(0x2c8)},{'category':_0x375675(0x96e),'name':_0x375675(0x37e)},{'category':_0x375675(0x96e),'name':_0x375675(0x93d)},{'category':_0x375675(0x96e),'name':_0x375675(0x7cb)},{'category':_0x375675(0x96e),'name':_0x375675(0x326)},{'category':'สถิติและความน่าจะเป็น','name':_0x375675(0x9f2)},{'category':'สถิติและความน่าจะเป็น','name':_0x375675(0x370)},{'category':_0x375675(0x96e),'name':'แผนภาพเวนน์'},{'category':_0x375675(0x96e),'name':_0x375675(0x9ad)},{'category':_0x375675(0x96e),'name':_0x375675(0x60b)},{'category':_0x375675(0x96e),'name':_0x375675(0x5c4)},{'category':_0x375675(0x96e),'name':_0x375675(0x8d5)},{'category':'สถิติและความน่าจะเป็น','name':_0x375675(0x6e4)},{'category':_0x375675(0x96e),'name':_0x375675(0x7a2)},{'category':_0x375675(0x534),'name':'ลิมิต'},{'category':_0x375675(0x534),'name':_0x375675(0x839)},{'category':_0x375675(0x534),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0x375675(0x534),'name':_0x375675(0x9d9)},{'category':'แคลคูลัสเบื้องต้น','name':_0x375675(0x6f4)},{'category':'แคลคูลัสเบื้องต้น','name':_0x375675(0x541)},{'category':_0x375675(0x534),'name':'ความชันเส้นสัมผัส'},{'category':_0x375675(0x534),'name':_0x375675(0x5de)},{'category':_0x375675(0x534),'name':_0x375675(0x97c)},{'category':'แคลคูลัสเบื้องต้น','name':_0x375675(0x19f)},{'category':_0x375675(0x534),'name':_0x375675(0x1cd)},{'category':'แคลคูลัสเบื้องต้น','name':_0x375675(0x324)},{'category':_0x375675(0x534),'name':'พื้นที่ใต้กราฟ/ระหว่างกราฟ'},{'category':_0x375675(0x88b),'name':_0x375675(0x9d1)},{'category':_0x375675(0x88b),'name':_0x375675(0x97f)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x375675(0x491)},{'category':_0x375675(0x88b),'name':_0x375675(0x2be)},{'category':_0x375675(0x88b),'name':_0x375675(0x314)},{'category':_0x375675(0x88b),'name':_0x375675(0x6d5)},{'category':_0x375675(0x88b),'name':_0x375675(0x11f)},{'category':_0x375675(0x3e7),'name':'ดอกเบี้ยอย่างง่าย'},{'category':_0x375675(0x3e7),'name':_0x375675(0xd2)},{'category':_0x375675(0x3e7),'name':_0x375675(0x5db)},{'category':_0x375675(0x3e7),'name':_0x375675(0x752)},{'category':_0x375675(0x3e7),'name':'ร้อยละประยุกต์'},{'category':_0x375675(0x9f8),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':_0x375675(0x9f8),'name':_0x375675(0x110)},{'category':_0x375675(0x9f8),'name':_0x375675(0x9f0)}];function renderTopicCheckboxes(){const _0x9d6f22=_0x375675,_0x5ba4ab=document['getElementById'](_0x9d6f22(0x183));if(!_0x5ba4ab)return;const _0x331413=allMathTopics,_0x87bc64=customMathTopics['map'](_0x255e14=>({'id':_0x255e14['id'],'category':_0x9d6f22(0x668),'name':_0x255e14[_0x9d6f22(0x67c)]})),_0xfa4720=[..._0x331413,..._0x87bc64],_0x1ac64a=_0xfa4720[_0x9d6f22(0x580)]((_0x1e20c8,_0x41d456)=>{const _0x454d3d=_0x9d6f22;return!_0x1e20c8[_0x41d456['category']]&&(_0x1e20c8[_0x41d456[_0x454d3d(0x192)]]=[]),_0x1e20c8[_0x41d456[_0x454d3d(0x192)]][_0x454d3d(0x6d0)](_0x41d456),_0x1e20c8;},{});let _0x129f69='';const _0x53e9f9=[_0x9d6f22(0x668),...Object['keys'](_0x1ac64a)[_0x9d6f22(0x625)](_0x4abd77=>_0x4abd77!=='หัวข้อที่สร้างเอง')];for(const _0x294364 of _0x53e9f9){if(_0x1ac64a[_0x294364]){const _0x53c8f0=_0x294364===_0x9d6f22(0x668),_0x444fe7=_0x53c8f0?_0x9d6f22(0x5c3):_0x9d6f22(0x4c2),_0x1fd875=_0x53c8f0?'text-blue-700':_0x9d6f22(0x654);_0x129f69+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x129f69+='<p\x20class=\x22font-bold\x20text-sm\x20'+_0x1fd875+_0x9d6f22(0x14c)+_0x444fe7+_0x9d6f22(0x87c)+_0x294364+_0x9d6f22(0x6ec),_0x1ac64a[_0x294364][_0x9d6f22(0x1d9)](_0x476a0a=>{const _0x20f279=_0x9d6f22,_0x31cd0d=!!_0x476a0a['id'],_0x4f4c03=_0x31cd0d?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x476a0a['id']+_0x20f279(0x867)+_0x476a0a['id']+_0x20f279(0x31a)+_0x476a0a['id']+_0x20f279(0x5dc)+_0x476a0a['id']+_0x20f279(0x561):'';_0x129f69+=_0x20f279(0x6a2)+(_0x476a0a['id']||'')+_0x20f279(0xe1)+_0x476a0a[_0x20f279(0x67c)]+_0x20f279(0x59f)+_0x476a0a[_0x20f279(0x67c)]+_0x20f279(0x3db)+(_0x31cd0d?_0x20f279(0x881)+_0x476a0a[_0x20f279(0x67c)]+'\x22>':'')+_0x20f279(0x8df)+_0x4f4c03+_0x20f279(0x11e);}),_0x129f69+=_0x9d6f22(0x2d3);}}_0x5ba4ab[_0x9d6f22(0x938)]=_0x129f69||_0x9d6f22(0x647),_0x5ba4ab[_0x9d6f22(0x5cc)](_0x9d6f22(0x152),updateSelectedTopicsCount),_0x5ba4ab[_0x9d6f22(0x15b)](_0x9d6f22(0x152),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x411eaf,_0x3e6f9a){const _0xb57f44=_0x375675;if(!_0x411eaf||!_0x3e6f9a['trim']()){showMessage(_0xb57f44(0x245));return;}try{const _0x3e22e1=doc(db,_0xb57f44(0x54c)+appId+_0xb57f44(0x316),_0x411eaf);await updateDoc(_0x3e22e1,{'name':_0x3e6f9a['trim']()}),showMessage(_0xb57f44(0x898));}catch(_0x5c86da){console['error'](_0xb57f44(0x828),_0x5c86da),showMessage(_0xb57f44(0x6f8));}}function toggleTopicEditMode(_0x180de8,_0x2983c4){const _0x8fa67a=_0x375675;if(!_0x180de8)return;const _0x328ddf=_0x180de8['querySelector'](_0x8fa67a(0x14e)),_0x558db6=_0x180de8[_0x8fa67a(0x173)](_0x8fa67a(0x41d)),_0x40144b=_0x180de8[_0x8fa67a(0x173)](_0x8fa67a(0x666)),_0x251454=_0x180de8[_0x8fa67a(0x173)](_0x8fa67a(0x971));_0x328ddf['classList'][_0x8fa67a(0x2fe)]('hidden',_0x2983c4),_0x558db6[_0x8fa67a(0x6a0)][_0x8fa67a(0x2fe)](_0x8fa67a(0x8c9),!_0x2983c4),_0x40144b[_0x8fa67a(0x6a0)]['toggle']('hidden',_0x2983c4),_0x251454[_0x8fa67a(0x6a0)][_0x8fa67a(0x2fe)]('hidden',!_0x2983c4),_0x2983c4&&(_0x558db6[_0x8fa67a(0x2f2)](),_0x558db6[_0x8fa67a(0x570)]());}async function handleStartLiveRace(_0x480979){const _0x4ce557=_0x375675;let _0x5c0c34=allQuizzes[_0x4ce557(0x860)](_0x8e5353=>_0x8e5353['id']===_0x480979);if(!_0x5c0c34){const _0xe1d11c=doc(db,_0x4ce557(0x54c)+appId+_0x4ce557(0x685),_0x480979),_0x113f18=await getDoc(_0xe1d11c);if(!_0x113f18[_0x4ce557(0x135)]()){showMessage('ไม่พบข้อมูลแบบทดสอบ');return;}_0x5c0c34={'id':_0x113f18['id'],..._0x113f18['data']()};}const _0x27fc8f=getShuffledQuiz(_0x5c0c34);currentQuizData=_0x27fc8f;const _0x343e7b=_0x5c0c34[_0x4ce557(0x862)]||currentProjectId||null,_0x20c3db=Math[_0x4ce557(0x4e5)](0x3e8+Math[_0x4ce557(0x7be)]()*0x2328)['toString']();currentLiveGamePin=_0x20c3db;try{const _0x5cac9d=await addDoc(collection(db,_0x4ce557(0x54c)+appId+_0x4ce557(0x3f2)),{'quizId':_0x480979,'projectId':_0x343e7b,'status':_0x4ce557(0x2d6),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x20c3db,'createdAt':serverTimestamp(),'shuffledQuiz':_0x27fc8f});currentLiveGameId=_0x5cac9d['id'],showAdminLobbyView(_0x20c3db,_0x5c0c34[_0x4ce557(0x903)]),listenForLiveGameUpdates();}catch(_0x126cb0){console[_0x4ce557(0x8f8)](_0x4ce557(0x60a),_0x126cb0),showMessage(_0x4ce557(0x3a2));}}function updateSelectedTopicsCount(){const _0x40af6a=_0x375675,_0x2bdbce=document['getElementById'](_0x40af6a(0x183)),_0x89ab17=_0x2bdbce['querySelectorAll'](_0x40af6a(0x5e7))[_0x40af6a(0x8f7)],_0x32d9cb=document['getElementById'](_0x40af6a(0x1e1));_0x89ab17>0x0?_0x32d9cb[_0x40af6a(0x490)]=_0x40af6a(0x327)+_0x89ab17+_0x40af6a(0x8ce):_0x32d9cb[_0x40af6a(0x490)]='';}function _0xdbfa(_0x31a3a5,_0x403c09){const _0x36c459=_0x36c4();return _0xdbfa=function(_0xdbfa83,_0x24cf81){_0xdbfa83=_0xdbfa83-0xba;let _0x463b73=_0x36c459[_0xdbfa83];return _0x463b73;},_0xdbfa(_0x31a3a5,_0x403c09);}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x375675(0x41b),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x375675(0x12b),quizLeaderboardSortOrder=_0x375675(0x53c),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1,isAnimatingTrail=![];const TRAIL_DURATION=0x5dc;let scratchpadCtx=null,isDrawingOnScratchpad=![],scratchpadHighlighterColor=_0x375675(0x8e5),scratchpadHighlighterSize=0x14,isPanning=![],isMousePanning=![],scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},panStart={'x':0x0,'y':0x0},initialPinchDistance=null;const MIN_SCALE=0.2,MAX_SCALE=0x5;let strokes=[],redoStrokes=[],currentStroke=null,activeTool=_0x375675(0xcc),scratchpadPenColor=_0x375675(0x6be),scratchpadPenSize=0x5,laserFadeTimer=null;const LASER_INACTIVITY_TIMEOUT=0x5dc;function getDistance(_0x408cc0,_0x63e979){const _0x3e1e82=_0x375675;return Math[_0x3e1e82(0x9a3)](Math[_0x3e1e82(0x695)](_0x408cc0['x']-_0x63e979['x'],0x2)+Math['pow'](_0x408cc0['y']-_0x63e979['y'],0x2));}function getMidpoint(_0x9842b8,_0x403e28){return{'x':(_0x9842b8['x']+_0x403e28['x'])/0x2,'y':(_0x9842b8['y']+_0x403e28['y'])/0x2};}function getTransformedPoint(_0x133d74,_0x132dfa){return{'x':(_0x133d74-scratchpadOffset['x'])/scratchpadScale,'y':(_0x132dfa-scratchpadOffset['y'])/scratchpadScale};}function redrawScratchpad(){const _0x1c02ee=_0x375675;if(!scratchpadCtx)return;const _0x5591a7=scratchpadCtx[_0x1c02ee(0x508)],_0x380bdb=window[_0x1c02ee(0x282)]||0x1,_0x233d91=document[_0x1c02ee(0x893)](_0x1c02ee(0x15e));_0x233d91&&(_0x233d91['style'][_0x1c02ee(0x5c1)]=_0x1c02ee(0x5e2),_0x233d91[_0x1c02ee(0x4e7)][_0x1c02ee(0x2f9)]=_0x1c02ee(0x3f6)+scratchpadOffset['x']+_0x1c02ee(0x40b)+scratchpadOffset['y']+_0x1c02ee(0x1df)+scratchpadScale+')'),scratchpadCtx[_0x1c02ee(0x1b5)](),scratchpadCtx[_0x1c02ee(0x3d4)](_0x380bdb,0x0,0x0,_0x380bdb,0x0,0x0),scratchpadCtx[_0x1c02ee(0x60e)](0x0,0x0,_0x5591a7[_0x1c02ee(0x578)],_0x5591a7[_0x1c02ee(0x43e)]),scratchpadCtx[_0x1c02ee(0x853)](),scratchpadCtx[_0x1c02ee(0x1b5)](),scratchpadCtx[_0x1c02ee(0x962)](scratchpadOffset['x'],scratchpadOffset['y']),scratchpadCtx['scale'](scratchpadScale,scratchpadScale),strokes[_0x1c02ee(0x1d9)](_0xad8629=>{drawStroke(_0xad8629);}),currentStroke&&drawStroke(currentStroke),scratchpadCtx[_0x1c02ee(0x853)]();}function renderGroupModeQuestion(){const _0x4b92fc=_0x375675;if(localQuestionIndex>=currentQuizData[_0x4b92fc(0x389)][_0x4b92fc(0x8f7)]){displayTeamQuizFinalResults();return;}const _0x28e0d9=currentQuizData[_0x4b92fc(0x389)][localQuestionIndex],_0x33b519=_0x28e0d9['questionType']||currentQuizData['quizType'];let _0x5a7492=_0x28e0d9[_0x4b92fc(0x877)]||_0x28e0d9[_0x4b92fc(0x8b8)],_0x43df5f='';switch(_0x33b519){case _0x4b92fc(0x5b4):case'fill_in_with_choices':_0x43df5f=_0x28e0d9[_0x4b92fc(0x34d)][_0x4b92fc(0x2cb)]((_0x59a601,_0x2274e7)=>'<div><input\x20type=\x22radio\x22\x20id=\x22team_opt'+_0x2274e7+_0x4b92fc(0x6bd)+_0x2274e7+_0x4b92fc(0x777)+_0x2274e7+'\x22>'+_0x59a601+'</label></div>')[_0x4b92fc(0x56f)]('');break;case'true_false':_0x43df5f=_0x4b92fc(0x93c);break;case _0x4b92fc(0x689):case _0x4b92fc(0x611):_0x43df5f=_0x4b92fc(0x4f7);break;case _0x4b92fc(0x99f):_0x43df5f=_0x4b92fc(0x635)+_0x28e0d9[_0x4b92fc(0x9c0)][_0x4b92fc(0x2cb)](_0x7bfca8=>_0x4b92fc(0x98e)+_0x7bfca8+'\x22>'+_0x7bfca8+_0x4b92fc(0x35e))[_0x4b92fc(0x56f)]('')+_0x4b92fc(0x5bb);break;default:_0x43df5f=_0x4b92fc(0x94c);break;}studentQuizArea['innerHTML']=_0x4b92fc(0x60c)+(localQuestionIndex+0x1)+_0x4b92fc(0x8e8)+currentQuizData['questions'][_0x4b92fc(0x8f7)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>กลุ่ม:\x20'+localTeamPlayers['join'](',\x20')+_0x4b92fc(0x171)+(localQuestionIndex+0x1)+'.\x20'+_0x5a7492+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x28e0d9[_0x4b92fc(0x31d)]?_0x4b92fc(0x660)+_0x28e0d9[_0x4b92fc(0x31d)]+'</div>':'')+_0x4b92fc(0x4ff)+_0x43df5f+_0x4b92fc(0x738),studentQuizArea[_0x4b92fc(0x6a0)][_0x4b92fc(0x139)](_0x4b92fc(0x8c9));if(window[_0x4b92fc(0x775)])MathJax[_0x4b92fc(0x2b2)]([studentQuizArea]);document[_0x4b92fc(0x893)](_0x4b92fc(0x123))[_0x4b92fc(0x15b)](_0x4b92fc(0x246),handleGroupAnswerSubmit);}function handlePointerDown(_0x3a942e){const _0x1ca906=_0x375675;_0x3a942e[_0x1ca906(0x972)]();const _0x14db59=scratchpadCtx[_0x1ca906(0x508)],_0x5629d1=_0x14db59['getBoundingClientRect'](),_0x424027=_0x3a942e['pointerType']||(_0x3a942e['touches']?_0x1ca906(0x226):_0x1ca906(0x760));if(_0x424027===_0x1ca906(0xcc)||_0x424027==='mouse'){if(_0x3a942e[_0x1ca906(0x45b)]==='mouse'&&_0x3a942e['button']!==0x0){_0x3a942e['button']===0x1&&(isMousePanning=!![],panStart={'x':_0x3a942e[_0x1ca906(0x1f5)],'y':_0x3a942e[_0x1ca906(0x9c8)]},_0x14db59[_0x1ca906(0x4e7)]['cursor']=_0x1ca906(0x852));return;}activeTool===_0x1ca906(0x910)&&(laserFadeTimer&&clearTimeout(laserFadeTimer));isDrawingOnScratchpad=!![],redoStrokes=[];const _0x4b3518=getTransformedPoint(_0x3a942e[_0x1ca906(0x1f5)]-_0x5629d1['left'],_0x3a942e[_0x1ca906(0x9c8)]-_0x5629d1[_0x1ca906(0x723)]);let _0x571a7d={'tool':activeTool,'points':[_0x4b3518]};if(activeTool===_0x1ca906(0x302))_0x571a7d[_0x1ca906(0x300)]=scratchpadHighlighterColor,_0x571a7d[_0x1ca906(0x475)]=scratchpadHighlighterSize;else activeTool==='trail'?(_0x571a7d['color']=scratchpadPenColor,_0x571a7d[_0x1ca906(0x475)]=scratchpadPenSize):(_0x571a7d[_0x1ca906(0x300)]=scratchpadPenColor,_0x571a7d['size']=scratchpadPenSize);currentStroke=_0x571a7d;}else _0x3a942e[_0x1ca906(0x4af)]&&(_0x3a942e[_0x1ca906(0x4af)][_0x1ca906(0x8f7)]===0x2&&(isPanning=!![],panStart=getMidpoint({'x':_0x3a942e['touches'][0x0][_0x1ca906(0x1f5)],'y':_0x3a942e[_0x1ca906(0x4af)][0x0][_0x1ca906(0x9c8)]},{'x':_0x3a942e[_0x1ca906(0x4af)][0x1][_0x1ca906(0x1f5)],'y':_0x3a942e[_0x1ca906(0x4af)][0x1]['clientY']}),initialPinchDistance=getDistance({'x':_0x3a942e[_0x1ca906(0x4af)][0x0][_0x1ca906(0x1f5)],'y':_0x3a942e[_0x1ca906(0x4af)][0x0][_0x1ca906(0x9c8)]},{'x':_0x3a942e[_0x1ca906(0x4af)][0x1]['clientX'],'y':_0x3a942e['touches'][0x1][_0x1ca906(0x9c8)]})));}function animateTrail(){const _0x37a810=_0x375675,_0x1387dc=Date[_0x37a810(0x5fc)]();let _0x2ad80c=![];for(let _0x442d86=strokes[_0x37a810(0x8f7)]-0x1;_0x442d86>=0x0;_0x442d86--){const _0x3ca4e7=strokes[_0x442d86];if(_0x3ca4e7[_0x37a810(0x1b3)]===_0x37a810(0x910)&&_0x3ca4e7[_0x37a810(0x728)]){const _0x26d09b=_0x1387dc-_0x3ca4e7[_0x37a810(0x728)];_0x26d09b>=TRAIL_DURATION?strokes[_0x37a810(0x24a)](_0x442d86,0x1):(_0x3ca4e7['opacity']=0x1-_0x26d09b/TRAIL_DURATION,_0x2ad80c=!![]);}}redrawScratchpad(),_0x2ad80c?requestAnimationFrame(animateTrail):isAnimatingTrail=![];}function startTrailAnimation(){!isAnimatingTrail&&(isAnimatingTrail=!![],requestAnimationFrame(animateTrail));}function drawStroke(_0x45d4af){const _0xf6c185=_0x375675;if(!_0x45d4af||_0x45d4af[_0xf6c185(0x5c5)][_0xf6c185(0x8f7)]<0x1)return;scratchpadCtx[_0xf6c185(0x1b5)](),scratchpadCtx['lineJoin']=_0xf6c185(0x450),scratchpadCtx['lineCap']=_0xf6c185(0x450);if(_0x45d4af['tool']===_0xf6c185(0x910)){const _0x38b2d0=_0x45d4af[_0xf6c185(0x475)]/scratchpadScale;scratchpadCtx['globalAlpha']=_0x45d4af[_0xf6c185(0xff)]??0x1,scratchpadCtx[_0xf6c185(0x465)]=_0xf6c185(0x20f),scratchpadCtx[_0xf6c185(0x3c1)]=_0x38b2d0*0x3,scratchpadCtx[_0xf6c185(0x9b0)]='rgba(239,\x2068,\x2068,\x200.7)',scratchpadCtx[_0xf6c185(0x362)]=_0x38b2d0*2.5,scratchpadCtx[_0xf6c185(0x74f)](),scratchpadCtx[_0xf6c185(0x1c6)](_0x45d4af['points'][0x0]['x'],_0x45d4af['points'][0x0]['y']);for(let _0x1beea2=0x1;_0x1beea2<_0x45d4af['points'][_0xf6c185(0x8f7)]-0x1;_0x1beea2++){const _0x41cc56=getMidpoint(_0x45d4af[_0xf6c185(0x5c5)][_0x1beea2],_0x45d4af[_0xf6c185(0x5c5)][_0x1beea2+0x1]);scratchpadCtx['quadraticCurveTo'](_0x45d4af[_0xf6c185(0x5c5)][_0x1beea2]['x'],_0x45d4af[_0xf6c185(0x5c5)][_0x1beea2]['y'],_0x41cc56['x'],_0x41cc56['y']);}scratchpadCtx[_0xf6c185(0x574)](),scratchpadCtx[_0xf6c185(0x465)]=_0xf6c185(0x292),scratchpadCtx[_0xf6c185(0x3c1)]=0x0,scratchpadCtx[_0xf6c185(0x9b0)]=_0xf6c185(0x6eb),scratchpadCtx[_0xf6c185(0x362)]=_0x38b2d0,scratchpadCtx[_0xf6c185(0x574)](),scratchpadCtx['closePath']();}else{if(_0x45d4af[_0xf6c185(0x1b3)]===_0xf6c185(0x302)){scratchpadCtx['globalCompositeOperation']=_0xf6c185(0x468),scratchpadCtx['strokeStyle']=_0x45d4af[_0xf6c185(0x300)],scratchpadCtx[_0xf6c185(0x362)]=_0x45d4af[_0xf6c185(0x475)],scratchpadCtx[_0xf6c185(0x74f)](),scratchpadCtx[_0xf6c185(0x1c6)](_0x45d4af[_0xf6c185(0x5c5)][0x0]['x'],_0x45d4af['points'][0x0]['y']);for(let _0x43b63b=0x1;_0x43b63b<_0x45d4af[_0xf6c185(0x5c5)][_0xf6c185(0x8f7)]-0x1;_0x43b63b++){const _0x327dd2=getMidpoint(_0x45d4af[_0xf6c185(0x5c5)][_0x43b63b],_0x45d4af[_0xf6c185(0x5c5)][_0x43b63b+0x1]);scratchpadCtx[_0xf6c185(0x384)](_0x45d4af[_0xf6c185(0x5c5)][_0x43b63b]['x'],_0x45d4af['points'][_0x43b63b]['y'],_0x327dd2['x'],_0x327dd2['y']);}scratchpadCtx[_0xf6c185(0x574)](),scratchpadCtx[_0xf6c185(0x72f)]();}else{scratchpadCtx[_0xf6c185(0x51b)]=_0x45d4af[_0xf6c185(0x1b3)]===_0xf6c185(0x77c)?_0xf6c185(0x177):_0xf6c185(0x4cd),scratchpadCtx['strokeStyle']=_0x45d4af[_0xf6c185(0x300)],scratchpadCtx[_0xf6c185(0x362)]=_0x45d4af['size'],scratchpadCtx[_0xf6c185(0x74f)](),scratchpadCtx[_0xf6c185(0x1c6)](_0x45d4af[_0xf6c185(0x5c5)][0x0]['x'],_0x45d4af['points'][0x0]['y']);for(let _0x38f6b5=0x1;_0x38f6b5<_0x45d4af[_0xf6c185(0x5c5)][_0xf6c185(0x8f7)]-0x1;_0x38f6b5++){const _0x175758=getMidpoint(_0x45d4af[_0xf6c185(0x5c5)][_0x38f6b5],_0x45d4af[_0xf6c185(0x5c5)][_0x38f6b5+0x1]);scratchpadCtx['quadraticCurveTo'](_0x45d4af[_0xf6c185(0x5c5)][_0x38f6b5]['x'],_0x45d4af[_0xf6c185(0x5c5)][_0x38f6b5]['y'],_0x175758['x'],_0x175758['y']);}scratchpadCtx[_0xf6c185(0x574)](),scratchpadCtx[_0xf6c185(0x72f)]();}}scratchpadCtx[_0xf6c185(0x853)]();}function handlePointerMove(_0x2f68ec){const _0x2a04ae=_0x375675;_0x2f68ec[_0x2a04ae(0x972)]();const _0x50a25c=scratchpadCtx[_0x2a04ae(0x508)],_0x246c21=_0x50a25c[_0x2a04ae(0x275)]();if(_0x2f68ec['touches']){if(_0x2f68ec[_0x2a04ae(0x4af)]['length']===0x1&&isDrawingOnScratchpad){const _0x3ae430=getTransformedPoint(_0x2f68ec[_0x2a04ae(0x4af)][0x0][_0x2a04ae(0x1f5)]-_0x246c21[_0x2a04ae(0x930)],_0x2f68ec[_0x2a04ae(0x4af)][0x0][_0x2a04ae(0x9c8)]-_0x246c21[_0x2a04ae(0x723)]);currentStroke[_0x2a04ae(0x5c5)][_0x2a04ae(0x6d0)](_0x3ae430),redrawScratchpad();}else{if(_0x2f68ec[_0x2a04ae(0x4af)][_0x2a04ae(0x8f7)]===0x2&&isPanning){const _0x5d8d9c=getDistance({'x':_0x2f68ec[_0x2a04ae(0x4af)][0x0]['clientX'],'y':_0x2f68ec['touches'][0x0]['clientY']},{'x':_0x2f68ec[_0x2a04ae(0x4af)][0x1][_0x2a04ae(0x1f5)],'y':_0x2f68ec[_0x2a04ae(0x4af)][0x1][_0x2a04ae(0x9c8)]}),_0x4e0a90=getMidpoint({'x':_0x2f68ec[_0x2a04ae(0x4af)][0x0]['clientX'],'y':_0x2f68ec[_0x2a04ae(0x4af)][0x0]['clientY']},{'x':_0x2f68ec[_0x2a04ae(0x4af)][0x1][_0x2a04ae(0x1f5)],'y':_0x2f68ec[_0x2a04ae(0x4af)][0x1][_0x2a04ae(0x9c8)]}),_0x46d5c3=_0x5d8d9c/ initialPinchDistance,_0x5bd93f=Math[_0x2a04ae(0x1b6)](Math[_0x2a04ae(0xf3)](scratchpadScale*_0x46d5c3,MIN_SCALE),MAX_SCALE),_0x4028a6=_0x4e0a90['x']-panStart['x'],_0x58a705=_0x4e0a90['y']-panStart['y'];scratchpadOffset['x']=_0x4e0a90['x']-(_0x4e0a90['x']-scratchpadOffset['x'])*(_0x5bd93f/scratchpadScale),scratchpadOffset['y']=_0x4e0a90['y']-(_0x4e0a90['y']-scratchpadOffset['y'])*(_0x5bd93f/scratchpadScale),scratchpadOffset['x']+=_0x4028a6,scratchpadOffset['y']+=_0x58a705,scratchpadScale=_0x5bd93f,initialPinchDistance=_0x5d8d9c,panStart=_0x4e0a90,redrawScratchpad();}}}else{if(isMousePanning){const _0x82ed02=_0x2f68ec['clientX']-panStart['x'],_0x5df581=_0x2f68ec[_0x2a04ae(0x9c8)]-panStart['y'];scratchpadOffset['x']+=_0x82ed02,scratchpadOffset['y']+=_0x5df581,panStart={'x':_0x2f68ec[_0x2a04ae(0x1f5)],'y':_0x2f68ec[_0x2a04ae(0x9c8)]},redrawScratchpad();}else{if(isDrawingOnScratchpad){const _0xd965f0=getTransformedPoint(_0x2f68ec[_0x2a04ae(0x1f5)]-_0x246c21[_0x2a04ae(0x930)],_0x2f68ec[_0x2a04ae(0x9c8)]-_0x246c21[_0x2a04ae(0x723)]);currentStroke['points'][_0x2a04ae(0x6d0)](_0xd965f0),redrawScratchpad();}}}}function handlePointerUp(_0x3a6e27){const _0x1e08bf=_0x375675;_0x3a6e27[_0x1e08bf(0x972)]();const _0x43f5b7=scratchpadCtx['canvas'];isMousePanning&&(isMousePanning=![],_0x43f5b7[_0x1e08bf(0x4e7)][_0x1e08bf(0x395)]=_0x1e08bf(0x71c)),isPanning=![],initialPinchDistance=null,isDrawingOnScratchpad&&(isDrawingOnScratchpad=![],currentStroke&&currentStroke[_0x1e08bf(0x5c5)][_0x1e08bf(0x8f7)]>0x1&&(strokes[_0x1e08bf(0x6d0)](currentStroke),currentStroke[_0x1e08bf(0x1b3)]===_0x1e08bf(0x910)&&(laserFadeTimer&&clearTimeout(laserFadeTimer),laserFadeTimer=setTimeout(()=>{const _0x4c8932=_0x1e08bf,_0x19df81=strokes[_0x4c8932(0x625)](_0x5887a2=>_0x5887a2[_0x4c8932(0x1b3)]===_0x4c8932(0x910)&&!_0x5887a2[_0x4c8932(0x728)]);if(_0x19df81[_0x4c8932(0x8f7)]>0x0){const _0xcc84fb=Date['now']();_0x19df81['forEach'](_0x1ec688=>_0x1ec688[_0x4c8932(0x728)]=_0xcc84fb),startTrailAnimation();}},LASER_INACTIVITY_TIMEOUT))),currentStroke=null,updateUndoRedoButtons());}function handleWheel(_0x43717e){const _0x5692f6=_0x375675;_0x43717e[_0x5692f6(0x972)]();const _0x52c7d9=_0x43717e[_0x5692f6(0x1fc)]*-0.005,_0x2d41de=Math[_0x5692f6(0x1b6)](Math[_0x5692f6(0xf3)](scratchpadScale+_0x52c7d9,MIN_SCALE),MAX_SCALE);scratchpadOffset['x']=_0x43717e[_0x5692f6(0x1f5)]-(_0x43717e['clientX']-scratchpadOffset['x'])*(_0x2d41de/scratchpadScale),scratchpadOffset['y']=_0x43717e[_0x5692f6(0x9c8)]-(_0x43717e[_0x5692f6(0x9c8)]-scratchpadOffset['y'])*(_0x2d41de/scratchpadScale),scratchpadScale=_0x2d41de,redrawScratchpad();}function undo(){const _0x1b4e8c=_0x375675;strokes['length']>0x0&&(redoStrokes['push'](strokes[_0x1b4e8c(0x461)]()),updateUndoRedoButtons(),redrawScratchpad());}function redo(){const _0x3850af=_0x375675;redoStrokes[_0x3850af(0x8f7)]>0x0&&(strokes[_0x3850af(0x6d0)](redoStrokes[_0x3850af(0x461)]()),updateUndoRedoButtons(),redrawScratchpad());}function updateUndoRedoButtons(){const _0x3d05fb=_0x375675;document[_0x3d05fb(0x893)]('undo-btn')[_0x3d05fb(0x5fa)]=strokes[_0x3d05fb(0x8f7)]===0x0,document[_0x3d05fb(0x893)](_0x3d05fb(0x3ae))['disabled']=redoStrokes[_0x3d05fb(0x8f7)]===0x0;}function openScratchpad(_0x51dc49,_0x30ca8f){const _0x87da16=_0x375675,_0x392497=document['getElementById'](_0x87da16(0x76e)),_0x52fbd7=document[_0x87da16(0x893)](_0x87da16(0x727)),_0x1a3c22=document[_0x87da16(0x893)](_0x87da16(0xc4)),_0x194532=document['getElementById'](_0x87da16(0x9e3));_0x52fbd7[_0x87da16(0x490)]=_0x51dc49[_0x87da16(0x877)]||_0x51dc49[_0x87da16(0x8b8)],_0x1a3c22[_0x87da16(0x938)]=_0x30ca8f[_0x87da16(0x2cb)]((_0x52dd0e,_0x47310a)=>_0x87da16(0x755)+String[_0x87da16(0x80d)](0x41+_0x47310a)+'.\x20'+_0x52dd0e+_0x87da16(0x2d3))[_0x87da16(0x56f)](''),setupScratchpadControls(),strokes=[],redoStrokes=[],currentStroke=null,scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},_0x392497[_0x87da16(0x6a0)][_0x87da16(0x139)](_0x87da16(0x8c9)),setTimeout(()=>{initializeScratchpadCanvas(),redrawScratchpad();},0x32);if(window[_0x87da16(0x775)])MathJax[_0x87da16(0x2b2)]([_0x52fbd7,_0x1a3c22]);}function initializeScratchpadCanvas(){const _0x5b7269=_0x375675,_0x1fdcae=document['getElementById'](_0x5b7269(0x9ca)),_0x7f1081=document[_0x5b7269(0x173)]('.scratchpad-content-wrapper');if(!_0x1fdcae||!_0x7f1081)return;scratchpadCtx=_0x1fdcae['getContext']('2d',{'willReadFrequently':!![]});const _0x34eb60=window['devicePixelRatio']||0x1,_0x365cc4=_0x7f1081['getBoundingClientRect']();_0x1fdcae[_0x5b7269(0x578)]=_0x365cc4['width']*_0x34eb60,_0x1fdcae['height']=_0x365cc4[_0x5b7269(0x43e)]*_0x34eb60,_0x1fdcae[_0x5b7269(0x4e7)][_0x5b7269(0x578)]=_0x365cc4[_0x5b7269(0x578)]+'px',_0x1fdcae['style'][_0x5b7269(0x43e)]=_0x365cc4[_0x5b7269(0x43e)]+'px',scratchpadCtx[_0x5b7269(0x540)](_0x34eb60,_0x34eb60),scratchpadCtx[_0x5b7269(0x145)]=_0x5b7269(0x450),scratchpadCtx[_0x5b7269(0x5b9)]=_0x5b7269(0x450),_0x1fdcae['removeEventListener']('pointerdown',handlePointerDown),_0x1fdcae[_0x5b7269(0x5cc)](_0x5b7269(0x67b),handlePointerMove),_0x1fdcae[_0x5b7269(0x5cc)](_0x5b7269(0x9b7),handlePointerUp),_0x1fdcae[_0x5b7269(0x5cc)](_0x5b7269(0x307),handlePointerUp),_0x1fdcae[_0x5b7269(0x5cc)](_0x5b7269(0x391),handleWheel),_0x1fdcae[_0x5b7269(0x5cc)](_0x5b7269(0x6c5),handlePointerDown),_0x1fdcae[_0x5b7269(0x5cc)](_0x5b7269(0x897),handlePointerMove),_0x1fdcae[_0x5b7269(0x5cc)](_0x5b7269(0x433),handlePointerUp),_0x1fdcae[_0x5b7269(0x15b)]('pointerdown',handlePointerDown),_0x1fdcae[_0x5b7269(0x15b)](_0x5b7269(0x67b),handlePointerMove),_0x1fdcae[_0x5b7269(0x15b)]('pointerup',handlePointerUp),_0x1fdcae['addEventListener'](_0x5b7269(0x307),handlePointerUp),_0x1fdcae[_0x5b7269(0x15b)](_0x5b7269(0x391),handleWheel,{'passive':![]}),_0x1fdcae['addEventListener'](_0x5b7269(0x6c5),handlePointerDown,{'passive':![]}),_0x1fdcae[_0x5b7269(0x15b)](_0x5b7269(0x897),handlePointerMove,{'passive':![]}),_0x1fdcae[_0x5b7269(0x15b)](_0x5b7269(0x433),handlePointerUp,{'passive':![]});}function setupScratchpadControls(){const _0x2eb6ca=_0x375675,_0x55bc10=document[_0x2eb6ca(0x893)](_0x2eb6ca(0x76e)),_0x4809bb=document['getElementById'](_0x2eb6ca(0x9e3));_0x4809bb[_0x2eb6ca(0x938)]=_0x2eb6ca(0x8d6)+scratchpadHighlighterSize+_0x2eb6ca(0x304);const _0x1da319=document[_0x2eb6ca(0x893)](_0x2eb6ca(0x159)),_0x445094=document['getElementById']('eraser-tool-btn'),_0x31d58e=document['getElementById'](_0x2eb6ca(0x7bb)),_0x5e288f=document[_0x2eb6ca(0x893)](_0x2eb6ca(0x90c)),_0x7e190=document[_0x2eb6ca(0x893)]('pen-tools-group'),_0x22ea63=document[_0x2eb6ca(0x893)](_0x2eb6ca(0x4b9)),_0x2d3ecb=[_0x1da319,_0x445094,_0x31d58e,_0x5e288f];document[_0x2eb6ca(0x893)](_0x2eb6ca(0x55f))['addEventListener'](_0x2eb6ca(0x246),()=>_0x55bc10['classList'][_0x2eb6ca(0x273)](_0x2eb6ca(0x8c9))),document[_0x2eb6ca(0x893)](_0x2eb6ca(0x1d1))[_0x2eb6ca(0x15b)]('click',()=>{scratchpadScale=0x1,scratchpadOffset={'x':0x0,'y':0x0},redrawScratchpad();}),document[_0x2eb6ca(0x893)](_0x2eb6ca(0x86c))['addEventListener']('click',()=>{strokes=[],redoStrokes=[],redrawScratchpad(),updateUndoRedoButtons();}),document[_0x2eb6ca(0x893)](_0x2eb6ca(0x1d5))['addEventListener'](_0x2eb6ca(0x246),undo),document[_0x2eb6ca(0x893)]('redo-btn')['addEventListener'](_0x2eb6ca(0x246),redo);const _0x3d1748=_0x4ac101=>{const _0x3beae5=_0x2eb6ca;_0x2d3ecb['forEach'](_0x2808eb=>_0x2808eb[_0x3beae5(0x6a0)][_0x3beae5(0x139)](_0x3beae5(0x55d))),_0x4ac101['classList']['add'](_0x3beae5(0x55d));const _0x4383d1=_0x4ac101===_0x5e288f;_0x7e190[_0x3beae5(0x6a0)][_0x3beae5(0x2fe)](_0x3beae5(0x8c9),_0x4383d1),_0x22ea63[_0x3beae5(0x6a0)][_0x3beae5(0x2fe)](_0x3beae5(0x8c9),!_0x4383d1);};_0x1da319[_0x2eb6ca(0x15b)]('click',()=>{activeTool='pen',_0x3d1748(_0x1da319);}),_0x445094[_0x2eb6ca(0x15b)](_0x2eb6ca(0x246),()=>{const _0x228b04=_0x2eb6ca;activeTool=_0x228b04(0x77c),_0x3d1748(_0x445094);}),_0x31d58e[_0x2eb6ca(0x15b)](_0x2eb6ca(0x246),()=>{const _0x383f82=_0x2eb6ca;activeTool=_0x383f82(0x910),_0x3d1748(_0x31d58e);}),_0x5e288f[_0x2eb6ca(0x15b)](_0x2eb6ca(0x246),()=>{activeTool='highlighter',_0x3d1748(_0x5e288f);}),_0x7e190['querySelectorAll'](_0x2eb6ca(0x6f3))['forEach'](_0x5151e1=>{_0x5151e1['addEventListener']('click',_0x18de49=>{const _0x5325ff=_0xdbfa;scratchpadPenSize=parseInt(_0x18de49[_0x5325ff(0x7df)][_0x5325ff(0x40f)][_0x5325ff(0x475)],0xa),_0x7e190['querySelectorAll']('.pen-size-btn')['forEach'](_0x237b55=>_0x237b55[_0x5325ff(0x6a0)][_0x5325ff(0x139)](_0x5325ff(0x55d))),_0x18de49[_0x5325ff(0x7df)][_0x5325ff(0x6a0)][_0x5325ff(0x273)](_0x5325ff(0x55d));});}),_0x7e190[_0x2eb6ca(0x814)](_0x2eb6ca(0x553))[_0x2eb6ca(0x1d9)](_0x3af4ad=>{const _0x508c93=_0x2eb6ca;_0x3af4ad[_0x508c93(0x15b)](_0x508c93(0x246),_0x2d9f58=>{const _0x521458=_0x508c93;scratchpadPenColor=_0x2d9f58[_0x521458(0x7df)][_0x521458(0x40f)][_0x521458(0x300)],_0x7e190['querySelectorAll'](_0x521458(0x553))['forEach'](_0x4cac90=>_0x4cac90[_0x521458(0x6a0)][_0x521458(0x139)](_0x521458(0x55d))),_0x2d9f58[_0x521458(0x7df)][_0x521458(0x6a0)][_0x521458(0x273)]('active');});}),_0x22ea63[_0x2eb6ca(0x814)](_0x2eb6ca(0x6ad))[_0x2eb6ca(0x1d9)](_0x12650a=>{const _0xf2fe5a=_0x2eb6ca;_0x12650a[_0xf2fe5a(0x15b)](_0xf2fe5a(0x246),_0xc619d2=>{const _0x5538cd=_0xf2fe5a;scratchpadHighlighterColor=_0xc619d2[_0x5538cd(0x7df)]['dataset'][_0x5538cd(0x300)],_0x22ea63['querySelectorAll']('.highlighter-color-btn')[_0x5538cd(0x1d9)](_0xf8f04d=>_0xf8f04d[_0x5538cd(0x6a0)][_0x5538cd(0x139)](_0x5538cd(0x55d))),_0xc619d2[_0x5538cd(0x7df)][_0x5538cd(0x6a0)][_0x5538cd(0x273)](_0x5538cd(0x55d));});});const _0x54b5d8=document[_0x2eb6ca(0x893)](_0x2eb6ca(0x956)),_0x468a0b=document[_0x2eb6ca(0x893)]('highlighter-size-value');_0x54b5d8[_0x2eb6ca(0x15b)](_0x2eb6ca(0x485),_0x26008e=>{const _0x58bf25=_0x2eb6ca,_0x1cbb0d=parseInt(_0x26008e['target'][_0x58bf25(0x106)],0xa);scratchpadHighlighterSize=_0x1cbb0d,_0x468a0b[_0x58bf25(0x490)]=_0x1cbb0d;}),window[_0x2eb6ca(0x15b)](_0x2eb6ca(0x403),()=>{const _0x2fc71d=_0x2eb6ca;!_0x55bc10['classList']['contains'](_0x2fc71d(0x8c9))&&(initializeScratchpadCanvas(),redrawScratchpad());});}const BADGES={'PERFECT_SCORE':{'id':_0x375675(0x72c),'name':_0x375675(0x1e7),'description':_0x375675(0x462),'icon':_0x375675(0x584)},'QUICK_THINKER':{'id':_0x375675(0x6ab),'name':'เซียนสมองไว','description':_0x375675(0x39f),'icon':_0x375675(0x40c)},'ON_FIRE':{'id':_0x375675(0x768),'name':_0x375675(0x13b),'description':_0x375675(0x9c2),'icon':_0x375675(0x538)},'FIRST_TRY_ACE':{'id':_0x375675(0x5ec),'name':'ผ่านฉลุย','description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':_0x375675(0x1e6)},'COMEBACK_KING':{'id':_0x375675(0x7e0),'name':'ราชาคัมแบ็ก','description':_0x375675(0x12f),'icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':_0x375675(0x7ad),'name':_0x375675(0x519),'description':_0x375675(0x1cf),'icon':_0x375675(0x671)},'PERSEVERANCE':{'id':_0x375675(0x3be),'name':'ผู้ไม่ยอมแพ้','description':_0x375675(0xdf),'icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0x375675(0x745),'authDomain':_0x375675(0xa0b),'projectId':_0x375675(0xdd),'storageBucket':'ai-quiz-app-aefee.firebasestorage.app','messagingSenderId':'274192258111','appId':_0x375675(0x2d1),'measurementId':_0x375675(0x68a)},appId=typeof __app_id!==_0x375675(0x810)?__app_id:_0x375675(0x377),adminView=document[_0x375675(0x893)](_0x375675(0x653)),studentView=document['getElementById'](_0x375675(0x6fa)),projectDashboardView=document[_0x375675(0x893)](_0x375675(0xed)),projectDetailView=document[_0x375675(0x893)](_0x375675(0x9ed)),quizResultsView=document['getElementById'](_0x375675(0x1b8)),projectList=document['getElementById'](_0x375675(0x55a)),noProjectsMsg=document['getElementById'](_0x375675(0x201)),projectTitle=document[_0x375675(0x893)](_0x375675(0x9d0)),projectIdDisplay=document['getElementById']('project-id-display'),studentList=document[_0x375675(0x893)](_0x375675(0x555)),messageModal=document[_0x375675(0x893)](_0x375675(0x25f)),modalMessage=document['getElementById'](_0x375675(0xc8)),createProjectModal=document[_0x375675(0x893)]('create-project-modal'),adminPasswordModal=document[_0x375675(0x893)](_0x375675(0x932)),confirmationModal=document[_0x375675(0x893)](_0x375675(0x8de)),userIdDisplay=document['getElementById']('user-id-display'),topicTab=document[_0x375675(0x893)](_0x375675(0x44b)),textTab=document[_0x375675(0x893)]('text-tab'),topicInputArea=document[_0x375675(0x893)](_0x375675(0x965)),textInputArea=document[_0x375675(0x893)](_0x375675(0x31f)),manageTab=document['getElementById'](_0x375675(0x785)),resultsTab=document[_0x375675(0x893)](_0x375675(0x28d)),leaderboardTab=document['getElementById'](_0x375675(0x195)),manageTabContent=document[_0x375675(0x893)](_0x375675(0x493)),resultsTabContent=document[_0x375675(0x893)](_0x375675(0x92f)),leaderboardTabContent=document[_0x375675(0x893)](_0x375675(0x2d2)),projectQuizzesList=document[_0x375675(0x893)](_0x375675(0x9a6)),fileTab=document['getElementById'](_0x375675(0x6a4)),fileInputArea=document[_0x375675(0x893)](_0x375675(0x5d9)),fileUploadInput=document[_0x375675(0x893)](_0x375675(0x322)),worksheetTab=document[_0x375675(0x893)]('worksheet-tab'),worksheetInputArea=document['getElementById']('worksheet-input-area'),generateWorksheetBtn=document[_0x375675(0x893)](_0x375675(0x5ab)),studentInitialView=document[_0x375675(0x893)](_0x375675(0x35f)),studentNameSelectionView=document[_0x375675(0x893)](_0x375675(0x162)),studentQuizArea=document['getElementById'](_0x375675(0x10a)),studentResultArea=document[_0x375675(0x893)]('student-result-area'),studentReadingArea=document[_0x375675(0x893)](_0x375675(0x382)),loadQuizBtn=document[_0x375675(0x893)]('load-quiz-btn'),startQuizBtn=document[_0x375675(0x893)](_0x375675(0x5b1)),studentJoinGameView=document[_0x375675(0x893)](_0x375675(0x614)),presentationModal=document['getElementById'](_0x375675(0x7e9)),renameQuizModal=document['getElementById']('rename-quiz-modal'),moveQuizModal=document[_0x375675(0x893)](_0x375675(0x40d)),quizSettingsModal=document[_0x375675(0x893)]('quiz-settings-modal'),quizStatusModal=document[_0x375675(0x893)](_0x375675(0x7c2)),liveGameView=document['getElementById'](_0x375675(0x144));function handleAutoFixLatex(){const _0x8804e5=_0x375675,_0x4b5398=document['getElementById'](_0x8804e5(0x7ba))||document,_0x34c2f4=_0x4b5398[_0x8804e5(0x814)]([_0x8804e5(0x733),'input[type=\x22text\x22]',_0x8804e5(0x6d3),_0x8804e5(0x1a0),_0x8804e5(0x973),_0x8804e5(0x617),_0x8804e5(0x78d),_0x8804e5(0x650),_0x8804e5(0x6dd)][_0x8804e5(0x56f)](','));let _0x1fda6e=0x0;const _0x31e0b0=_0x482922=>_0x8804e5(0x106)in _0x482922?String(_0x482922['value']):_0x482922[_0x8804e5(0x1ae)]!==undefined?_0x482922[_0x8804e5(0x1ae)]:_0x482922[_0x8804e5(0x490)]||'',_0x342f2e=(_0xbbea1d,_0x13b5da)=>{const _0x4a2190=_0x8804e5;if(_0x4a2190(0x106)in _0xbbea1d){_0xbbea1d[_0x4a2190(0x106)]=_0x13b5da;return;}if(_0xbbea1d[_0x4a2190(0x173)]&&_0xbbea1d['querySelector']('mjx-container'))return;if(_0xbbea1d[_0x4a2190(0x1ae)]!==undefined)_0xbbea1d['innerText']=_0x13b5da;else _0xbbea1d[_0x4a2190(0x490)]=_0x13b5da;},_0x949ce0=_0x6de114=>_0x6de114[_0x8804e5(0x2fa)](/\u00A0/g,'\x20')['replace'](/\u200B/g,'')[_0x8804e5(0x2fa)](/\r\n?/g,'\x0a'),_0x179fd7=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x4525a4=_0x36cb51=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x8804e5(0x331)](_0x36cb51),_0x181268=_0x1cf5c4=>{const _0x1b71cb=_0x8804e5,_0x509d11=(_0x1cf5c4[_0x1b71cb(0x86a)](/\{/g)||[])[_0x1b71cb(0x8f7)],_0x14b7c6=(_0x1cf5c4[_0x1b71cb(0x86a)](/\}/g)||[])[_0x1b71cb(0x8f7)];if(_0x509d11>_0x14b7c6)_0x1cf5c4=_0x1cf5c4+'}'['repeat'](_0x509d11-_0x14b7c6);return _0x1cf5c4;},_0xf2a4e0=_0x446b52=>{const _0x2138d3=_0x8804e5;let _0x15438f=_0x446b52['trim']();const _0xab27b9=[_0x2138d3(0x1fa),_0x2138d3(0x687),_0x2138d3(0x922),_0x2138d3(0x9a3),'text',_0x2138d3(0x3a8),_0x2138d3(0x616),_0x2138d3(0x773),_0x2138d3(0x2e8),'geq','le','ge',_0x2138d3(0x86e),'pm',_0x2138d3(0x219),_0x2138d3(0x231),_0x2138d3(0xe6),_0x2138d3(0x2d8),_0x2138d3(0x264),'ln',_0x2138d3(0x346),'prod',_0x2138d3(0x8f4),_0x2138d3(0x930),_0x2138d3(0x72d),'overline','underline',_0x2138d3(0x86d),_0x2138d3(0x988)];_0x15438f=_0x15438f[_0x2138d3(0x2fa)](new RegExp('\x5c\x5c\x5c\x5c(?=('+_0xab27b9['join']('|')+_0x2138d3(0x4ce),'g'),'\x5c'),_0xab27b9[_0x2138d3(0x1d9)](_0x336511=>{const _0x530bb3=_0x2138d3;_0x15438f=_0x15438f[_0x530bb3(0x2fa)](new RegExp(_0x530bb3(0x27f)+_0x336511+'\x5cb','g'),(_0x42e276,_0x2361fd)=>_0x2361fd+'\x5c'+_0x336511);});const _0x121ffb=[[/×/g,_0x2138d3(0x8e4)],[/·/g,_0x2138d3(0x3b9)],[/÷/g,_0x2138d3(0x914)],[/≤/g,_0x2138d3(0x2c5)],[/≥/g,_0x2138d3(0x323)],[/≠/g,_0x2138d3(0x6bc)],[/±/g,'\x5cpm'],[/∑/g,'\x5csum'],[/−/g,'-']];_0x121ffb[_0x2138d3(0x1d9)](([_0x32190c,_0x3adff2])=>{const _0x29a263=_0x2138d3;_0x15438f=_0x15438f[_0x29a263(0x2fa)](_0x32190c,_0x3adff2);}),_0x15438f=_0x15438f[_0x2138d3(0x2fa)](/√\s*\(([^)]*)\)/g,_0x2138d3(0x664)),_0x15438f=_0x15438f[_0x2138d3(0x2fa)](/√\s*([A-Za-z0-9]+)/g,_0x2138d3(0x664)),_0x15438f=_0x15438f[_0x2138d3(0x2fa)](/(^|[^\\])\bimes\b/g,_0x2138d3(0x64a))[_0x2138d3(0x2fa)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x2138d3(0x7e4))[_0x2138d3(0x2fa)](/(^|[^\\])ext\{/g,_0x2138d3(0xa11))[_0x2138d3(0x2fa)](/(^|[^\\])ext\(/g,_0x2138d3(0x74a))[_0x2138d3(0x2fa)](/\\text\(([^)]*)\)/g,_0x2138d3(0x25b))[_0x2138d3(0x2fa)](/\s\\frac/g,_0x2138d3(0x65b)),_0x15438f=_0x15438f[_0x2138d3(0x2fa)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x28c622,_0x388c72,_0x22fdb7,_0x247256)=>_0x388c72+_0x2138d3(0x89d)+_0x22fdb7+'}{'+_0x247256+'}'),_0x15438f=_0x15438f[_0x2138d3(0x2fa)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x2138d3(0x142))[_0x2138d3(0x2fa)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x2138d3(0x142))[_0x2138d3(0x2fa)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x2138d3(0x142)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x2138d3(0xf5)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x2138d3(0xf5)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x2138d3(0xf5)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x2138d3(0xf5)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x2138d3(0xf5)],[/(\d+)\s*°\s*C/g,_0x2138d3(0xf5)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,'$1^{\x5ccirc}'],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x2138d3(0xf5)]][_0x2138d3(0x1d9)](([_0x285678,_0x202e27])=>{const _0x249b28=_0x2138d3;_0x15438f=_0x15438f[_0x249b28(0x2fa)](_0x285678,_0x202e27);}),_0x15438f=_0x15438f[_0x2138d3(0x2fa)](/(\d+)\s*%/g,'$1\x5c%'),_0x15438f=_0x15438f['replace'](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x2138d3(0x66b))[_0x2138d3(0x2fa)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x2138d3(0xa16))[_0x2138d3(0x2fa)](/\{\{([^\{\}]+)\}\}/g,_0x2138d3(0x466)),[_0x2138d3(0x231),'cos','tan','log','ln'][_0x2138d3(0x1d9)](_0x37905d=>{const _0x29c1be=_0x2138d3;_0x15438f=_0x15438f[_0x29c1be(0x2fa)](new RegExp(_0x29c1be(0x27f)+_0x37905d+_0x29c1be(0x4cc),'g'),(_0x4236fa,_0x1b0426)=>_0x1b0426+'\x5c'+_0x37905d+'(');});const _0x48610c=(_0x15438f[_0x2138d3(0x86a)](/\\left\b/g)||[])[_0x2138d3(0x8f7)],_0x3bbc44=(_0x15438f['match'](/\\right\b/g)||[])[_0x2138d3(0x8f7)];if(_0x48610c!==_0x3bbc44)_0x15438f=_0x15438f[_0x2138d3(0x2fa)](/\\left\b/g,'')['replace'](/\\right\b/g,'');return _0x15438f=_0x181268(_0x15438f),_0x15438f;},_0x1f40e7=_0x5f0fcb=>{const _0x1dbd27=_0x8804e5;if(/\$|\\\(|\\\[/[_0x1dbd27(0x331)](_0x5f0fcb))return _0x5f0fcb;if(!_0x179fd7[_0x1dbd27(0x331)](_0x5f0fcb))return _0x5f0fcb;const _0x16635a=_0x5f0fcb['match'](/^\s*/)[0x0],_0x6c235c=_0x5f0fcb['match'](/\s*$/)[0x0],_0x4001c3=_0x5f0fcb[_0x1dbd27(0x517)]();return _0x16635a+'$'+_0xf2a4e0(_0x4001c3)+'$'+_0x6c235c;},_0x3b1be0=_0x13b7a4=>_0x13b7a4[_0x8804e5(0x235)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x34c2f4[_0x8804e5(0x1d9)](_0x527d98=>{const _0x10b5e8=_0x8804e5;if(_0x527d98['querySelector']&&_0x527d98[_0x10b5e8(0x173)]('mjx-container'))return;const _0x5efc02=_0x31e0b0(_0x527d98);let _0x52cf9d=_0x949ce0(_0x5efc02);_0x52cf9d=_0x52cf9d[_0x10b5e8(0x2fa)](/\$\$([\s\S]*?)\$\$/g,(_0x50e56f,_0x4ef2e0)=>'$$'+_0xf2a4e0(_0x4ef2e0)+'$$')[_0x10b5e8(0x2fa)](/\$([^$]*?)\$/g,(_0x12fe7d,_0x2c1bcd)=>'$'+_0xf2a4e0(_0x2c1bcd)+'$')[_0x10b5e8(0x2fa)](/\\\(([\s\S]*?)\\\)/g,(_0x534198,_0x150170)=>'\x5c('+_0xf2a4e0(_0x150170)+'\x5c)')['replace'](/\\\[([\s\S]*?)\\\]/g,(_0x3e767a,_0x570f74)=>'\x5c['+_0xf2a4e0(_0x570f74)+'\x5c]');let _0x572954=_0x52cf9d,_0x5a2667=0x0;const _0x1ca08c=_0x1fef7c=>_0x1fef7c[_0x10b5e8(0x2fa)](/S([^S]{0,2000}?)S/g,(_0x9bb7bb,_0x22074c)=>_0x179fd7['test'](_0x22074c)?'$'+_0xf2a4e0(_0x22074c)+'$':_0x9bb7bb);while(_0x5a2667++<0x14){const _0x4bb743=_0x1ca08c(_0x572954);if(_0x4bb743===_0x572954)break;_0x572954=_0x4bb743;}_0x52cf9d=_0x572954,_0x52cf9d=_0x52cf9d[_0x10b5e8(0x235)]('\x0a')[_0x10b5e8(0x2cb)](_0x46ad4f=>{const _0x58846b=_0x10b5e8;if(!(/[,\u3001，;；]/[_0x58846b(0x331)](_0x46ad4f)||/\s(?:และ|หรือ)\s/[_0x58846b(0x331)](_0x46ad4f))||!_0x179fd7['test'](_0x46ad4f))return _0x46ad4f;return _0x3b1be0(_0x46ad4f)[_0x58846b(0x2cb)](_0x558043=>{const _0x478301=_0x58846b;if(/^\s(?:และ|หรือ)\s$/['test'](_0x558043)||/^[,\u3001，;；]$/[_0x478301(0x331)](_0x558043))return _0x558043;return _0x1f40e7(_0x558043);})['join']('');})[_0x10b5e8(0x56f)]('\x0a'),_0x52cf9d=_0x52cf9d['split']('\x0a')[_0x10b5e8(0x2cb)](_0x10cc3=>{const _0x477d5a=_0x10b5e8,_0xb313c3=_0x10cc3[_0x477d5a(0x517)]();if(!_0xb313c3)return _0x10cc3;const _0x5b6622=/\$|\\\(|\\\[/[_0x477d5a(0x331)](_0xb313c3),_0x34f1d7=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x477d5a(0x331)](_0xb313c3);if(_0x5b6622||!_0x34f1d7||_0x4525a4(_0xb313c3))return _0x10cc3;return _0x10cc3[_0x477d5a(0x2fa)](_0xb313c3,'$'+_0xf2a4e0(_0xb313c3)+'$');})[_0x10b5e8(0x56f)]('\x0a'),_0x52cf9d=_0x52cf9d[_0x10b5e8(0x2fa)](/(\d+)\s*°\s*C\b/g,(_0xaf1f9c,_0x4e6599,_0x57c9d0,_0x1a50bb)=>{const _0xe7d17e=_0x10b5e8,_0x28b2f0=_0x1a50bb[_0x57c9d0-0x1];if(_0x28b2f0==='$'||_0x28b2f0==='S'||_0x28b2f0==='\x5c')return _0xaf1f9c;return'$'+_0x4e6599+_0xe7d17e(0x880);})[_0x10b5e8(0x2fa)](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x45d6fc,_0x418cbf,_0x3cba5d,_0x2f7c18)=>{const _0x12b390=_0x10b5e8,_0x26512c=_0x2f7c18[_0x3cba5d-0x1];if(_0x26512c==='$'||_0x26512c==='S'||_0x26512c==='\x5c')return _0x45d6fc;return'$'+_0x418cbf+_0x12b390(0x880);})[_0x10b5e8(0x2fa)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x3ba19b,_0x4c6fd3,_0x455e38,_0x5bd80c)=>{const _0x4dde9a=_0x10b5e8,_0x4c0a66=_0x5bd80c[_0x455e38-0x1];if(_0x4c0a66==='$'||_0x4c0a66==='S'||_0x4c0a66==='\x5c')return _0x3ba19b;return'$'+_0x4c6fd3+_0x4dde9a(0x880);}),_0x52cf9d=_0x52cf9d[_0x10b5e8(0x2fa)](/\$\s*\$/g,'$$'),_0x52cf9d!==_0x5efc02&&(_0x342f2e(_0x527d98,_0x52cf9d),_0x1fda6e++);});if(_0x1fda6e>0x0){showMessage(_0x8804e5(0x859)+_0x1fda6e+'\x20ช่อง');try{if(window['MathJax']&&MathJax[_0x8804e5(0x2b2)])MathJax[_0x8804e5(0x2b2)]();window[_0x8804e5(0x3df)]&&typeof renderMathInElement===_0x8804e5(0x771)&&renderMathInElement(_0x4b5398,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x3940cb){}}else showMessage('ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม');}async function listenForCustomMathTopics(){const _0x1b7e8f=_0x375675,_0x39238b=collection(db,_0x1b7e8f(0x54c)+appId+_0x1b7e8f(0x316));onSnapshot(_0x39238b,_0x12cf98=>{const _0x3870c8=_0x1b7e8f;customMathTopics=_0x12cf98[_0x3870c8(0x9fe)][_0x3870c8(0x2cb)](_0x1dd286=>({'id':_0x1dd286['id'],..._0x1dd286[_0x3870c8(0x918)]()})),renderTopicCheckboxes();},_0x5d4556=>{const _0x31a478=_0x1b7e8f;console[_0x31a478(0x8f8)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x5d4556);});}function handleSelectAllTopics(){const _0x17f7b6=_0x375675,_0xefd24e=document['getElementById'](_0x17f7b6(0x183)),_0x25fa5e=_0xefd24e[_0x17f7b6(0x814)]('input[type=\x22checkbox\x22]');_0x25fa5e[_0x17f7b6(0x1d9)](_0x26c110=>{const _0x568812=_0x17f7b6;_0x26c110[_0x568812(0x33c)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x4dd92d=_0x375675,_0xcd96a3=document[_0x4dd92d(0x893)](_0x4dd92d(0x183)),_0x5322d8=_0xcd96a3[_0x4dd92d(0x814)]('input[type=\x22checkbox\x22]');_0x5322d8[_0x4dd92d(0x1d9)](_0x496869=>{const _0x48f385=_0x4dd92d;_0x496869[_0x48f385(0x33c)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x10f225){const _0x378ee1=_0x375675;if(!_0x10f225)return;try{const _0x474746=doc(db,_0x378ee1(0x54c)+appId+_0x378ee1(0x316),_0x10f225);await deleteDoc(_0x474746),showMessage(_0x378ee1(0x454));}catch(_0x360ff1){console[_0x378ee1(0x8f8)](_0x378ee1(0x1d8),_0x360ff1),showMessage(_0x378ee1(0x926));}}async function handleAddCustomMathTopic(){const _0xcd8808=_0x375675,_0x5ca1e8=document[_0xcd8808(0x893)]('custom-math-topic-input'),_0x5dafaf=_0x5ca1e8[_0xcd8808(0x106)]['trim']();if(!_0x5dafaf){showMessage(_0xcd8808(0x75f));return;}if(!userId){showMessage(_0xcd8808(0x2c6));return;}try{const _0x26c86f=collection(db,_0xcd8808(0x54c)+appId+_0xcd8808(0x316));await addDoc(_0x26c86f,{'name':_0x5dafaf,'createdAt':serverTimestamp()}),_0x5ca1e8[_0xcd8808(0x106)]='',showMessage(_0xcd8808(0x601)+_0x5dafaf+_0xcd8808(0x4e0));}catch(_0x46f435){console['error'](_0xcd8808(0x451),_0x46f435),showMessage(_0xcd8808(0x533));}}async function handleUpdateOldQuizzes(){const _0x9feb45=_0x375675;showConfirmation(_0x9feb45(0x8fa),async()=>{const _0x4d22c9=_0x9feb45,_0x48b416=document['getElementById'](_0x4d22c9(0x4ea)),_0x25aae9=document['getElementById'](_0x4d22c9(0x811)),_0x479a5d=_0x25aae9[_0x4d22c9(0x490)];_0x48b416[_0x4d22c9(0x6a0)]['remove'](_0x4d22c9(0x8c9)),_0x25aae9['textContent']=_0x4d22c9(0x341);try{const _0x421195=collection(db,_0x4d22c9(0x54c)+appId+'/public/data/quizzes'),_0x2b0a85=await getDocs(_0x421195);if(_0x2b0a85['empty']){showMessage(_0x4d22c9(0x554));return;}const _0x1d9e9a=writeBatch(db);let _0x1514df=0x0;_0x2b0a85['forEach'](_0x1281f1=>{const _0x2928cc=_0x4d22c9,_0x11abdb=_0x1281f1['data'](),_0x35d41d=_0x1281f1['id'];if(_0x11abdb['questions']&&_0x11abdb[_0x2928cc(0x389)][_0x2928cc(0x8f7)]>0x0&&!_0x11abdb['questions'][0x0][_0x2928cc(0x7af)]('id')){console['log'](_0x2928cc(0x5d6)+_0x35d41d+'\x20('+_0x11abdb[_0x2928cc(0x903)]+')'),_0x1514df++;const _0x2b78a4=_0x11abdb[_0x2928cc(0x389)][_0x2928cc(0x2cb)]((_0x187f47,_0x414f7f)=>{const _0x348a31=_0x2928cc;return{..._0x187f47,'id':_0x187f47['id']||'q_'+Date[_0x348a31(0x5fc)]()+'_'+_0x35d41d+'_'+_0x414f7f};}),_0x2d1178=doc(db,_0x2928cc(0x54c)+appId+_0x2928cc(0x685),_0x35d41d);_0x1d9e9a[_0x2928cc(0x62b)](_0x2d1178,{'questions':_0x2b78a4});}}),_0x1514df>0x0?(_0x25aae9['textContent']=_0x4d22c9(0x59a)+_0x1514df+_0x4d22c9(0x8a7),await _0x1d9e9a[_0x4d22c9(0x194)](),showMessage(_0x4d22c9(0x994)+_0x1514df+_0x4d22c9(0x788))):showMessage(_0x4d22c9(0x676));}catch(_0x5df5f4){console[_0x4d22c9(0x8f8)](_0x4d22c9(0x911),_0x5df5f4),showMessage(_0x4d22c9(0x91b)+_0x5df5f4[_0x4d22c9(0x18a)]);}finally{_0x48b416[_0x4d22c9(0x6a0)][_0x4d22c9(0x273)](_0x4d22c9(0x8c9)),_0x25aae9[_0x4d22c9(0x490)]=_0x479a5d;}});}async function handleBulkUpdateQuizSettings(){const _0x4550ea=_0x375675,_0x4488d4={'shuffle':document['getElementById']('bulk-shuffle-select')[_0x4550ea(0x106)],'resultsDisplay':document[_0x4550ea(0x893)]('bulk-results-display-select')[_0x4550ea(0x106)],'loopUntilPass':document[_0x4550ea(0x893)]('bulk-loop-until-pass-checkbox')['checked'],'isConfidenceScoringEnabled':document[_0x4550ea(0x893)](_0x4550ea(0x2fc))[_0x4550ea(0x33c)],'confidenceMode':document[_0x4550ea(0x893)](_0x4550ea(0x17f))[_0x4550ea(0x106)]};try{showMessage('กำลังตรวจสอบรายการแบบทดสอบล่าสุด...');const _0x28f556=await getDocs(collection(db,_0x4550ea(0x54c)+appId+_0x4550ea(0x685))),_0x1f5203=_0x28f556[_0x4550ea(0x9fe)][_0x4550ea(0x2cb)](_0xf22e4a=>({'id':_0xf22e4a['id'],'data':_0xf22e4a[_0x4550ea(0x918)]()})),_0x2227fc=_0x1f5203['length'];showConfirmation(_0x4550ea(0x5fb)+_0x2227fc+_0x4550ea(0x907),async()=>{const _0x2513da=_0x4550ea,_0x3419f4=document[_0x2513da(0x893)](_0x2513da(0x2bf));_0x3419f4[_0x2513da(0x5fa)]=!![],_0x3419f4['innerHTML']=_0x2513da(0x680);try{const _0x17ab8e=writeBatch(db);_0x1f5203['forEach'](_0x2c74eb=>{const _0x1f786e=_0x2513da,_0x2ef8d6=doc(db,_0x1f786e(0x54c)+appId+_0x1f786e(0x685),_0x2c74eb['id']),_0x85b171={..._0x2c74eb[_0x1f786e(0x918)][_0x1f786e(0x6a7)]||{},..._0x4488d4};_0x17ab8e[_0x1f786e(0x62b)](_0x2ef8d6,{'settings':_0x85b171});}),await _0x17ab8e[_0x2513da(0x194)](),document[_0x2513da(0x893)](_0x2513da(0x543))['classList'][_0x2513da(0x273)](_0x2513da(0x8c9)),showMessage('อัปเดตการตั้งค่าของแบบทดสอบ\x20'+_0x2227fc+_0x2513da(0x175));}catch(_0x50ec3f){console[_0x2513da(0x8f8)](_0x2513da(0x53f),_0x50ec3f),showMessage(_0x2513da(0x3b7));}finally{_0x3419f4['disabled']=![],_0x3419f4[_0x2513da(0x938)]=_0x2513da(0x8a1);}});}catch(_0x538eae){console['error'](_0x4550ea(0x32d),_0x538eae),showMessage(_0x4550ea(0x805));}}async function handleSaveProjectName(){const _0x2b5643=_0x375675,_0x217cca=document['getElementById'](_0x2b5643(0x9d0)),_0x807109=document['getElementById'](_0x2b5643(0x455)),_0x42ee0f=_0x217cca[_0x2b5643(0x490)][_0x2b5643(0x517)]();if(!_0x42ee0f||!currentProjectId){showMessage('ชื่อโปรเจคห้ามว่าง'),_0x217cca[_0x2b5643(0x490)]=currentProjectData['projectName'];return;}_0x807109[_0x2b5643(0x5fa)]=!![],_0x807109[_0x2b5643(0x938)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>';try{const _0x41d77f=doc(db,_0x2b5643(0x54c)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x41d77f,{'projectName':_0x42ee0f}),currentProjectData&&(currentProjectData[_0x2b5643(0x772)]=_0x42ee0f),showMessage('เปลี่ยนชื่อโปรเจคสำเร็จ');}catch(_0x4852ee){console[_0x2b5643(0x8f8)](_0x2b5643(0x656),_0x4852ee),showMessage(_0x2b5643(0x4c1)),_0x217cca['textContent']=currentProjectData[_0x2b5643(0x772)];}finally{_0x807109[_0x2b5643(0x6a0)][_0x2b5643(0x273)](_0x2b5643(0x8c9)),_0x807109[_0x2b5643(0x5fa)]=![],_0x807109[_0x2b5643(0x938)]=_0x2b5643(0x6ef);}}async function initialize(){const _0x3858bf=_0x375675;try{const _0x3a79fa=initializeApp(firebaseConfig);db=getFirestore(_0x3a79fa),auth=getAuth(_0x3a79fa),setupAuthListener(),setupEventListeners(),showView('student'),renderTopicCheckboxes(),setupStudentProgressListeners(),resumeActiveGameSession();}catch(_0x3a88da){console['error']('Firebase\x20initialization\x20failed:',_0x3a88da),showMessage(_0x3858bf(0x2db));}}async function handleVerifyAnswersInEditor(){const _0x4c0c21=_0x375675,_0x33cf07=document[_0x4c0c21(0x893)]('quiz-editor-modal');if(!_0x33cf07)return;const _0x3d28b4=document[_0x4c0c21(0x893)](_0x4c0c21(0x57f));_0x3d28b4['disabled']=!![],_0x3d28b4['innerHTML']=_0x4c0c21(0x6ea);try{const _0x5cb2a1=_0x33cf07[_0x4c0c21(0x814)]('.question-editor-item'),_0x2d6a2b=Array[_0x4c0c21(0x84b)](_0x5cb2a1)[_0x4c0c21(0x2cb)]((_0x281dfc,_0xc236bf)=>{const _0x5acae8=_0x4c0c21,_0x16f7ef=_0x281dfc['dataset']['qType'],_0x502b1c=_0x281dfc[_0x5acae8(0x173)]('textarea')[_0x5acae8(0x106)];let _0x273a18=null,_0x4cdaeb='';switch(_0x16f7ef){case _0x5acae8(0x5b4):const _0x545ac7=_0x281dfc[_0x5acae8(0x814)](_0x5acae8(0x5ba));_0x273a18=Array['from'](_0x545ac7)['map'](_0x2b5fe6=>_0x2b5fe6['value']);const _0x3e22e5=_0x281dfc[_0x5acae8(0x173)](_0x5acae8(0x1dc));_0x3e22e5&&(_0x4cdaeb=_0x273a18[parseInt(_0x3e22e5['value'])]);break;case _0x5acae8(0x689):_0x4cdaeb=_0x281dfc[_0x5acae8(0x173)](_0x5acae8(0x72a))['value'];break;case _0x5acae8(0x46e):const _0x4e9f61=_0x281dfc[_0x5acae8(0x173)](_0x5acae8(0x1dc));_0x4cdaeb=_0x4e9f61?_0x4e9f61[_0x5acae8(0x106)]:'';break;case _0x5acae8(0x99f):_0x4cdaeb=_0x281dfc[_0x5acae8(0x173)]('.correct-response-input')[_0x5acae8(0x106)];break;}return{'question':_0x502b1c,'options':_0x273a18,'proposedAnswer':_0x4cdaeb};}),_0x31a84b=_0x4c0c21(0x45f)+JSON['stringify'](_0x2d6a2b)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมาถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x326bdf={'type':_0x4c0c21(0xc5),'items':{'type':'OBJECT','properties':{'questionIndex':{'type':_0x4c0c21(0x8fe)},'isCorrect':{'type':_0x4c0c21(0x3f7)},'justification':{'type':_0x4c0c21(0x4b8)},'suggestedAnswer':{'type':_0x4c0c21(0x4b8)}},'required':[_0x4c0c21(0x8a5),_0x4c0c21(0xf2),_0x4c0c21(0x8d2)]}},_0x5b6637=await callAnalysisApi(_0x31a84b,{'type':_0x4c0c21(0x7d8),'properties':{'result':_0x326bdf},'required':[_0x4c0c21(0x5c6)]});displayVerificationResultsInEditor(_0x5b6637[_0x4c0c21(0x5c6)]);}catch(_0x99648a){console['error']('Error\x20verifying\x20answers\x20in\x20editor:',_0x99648a),showMessage('เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ');}finally{_0x3d28b4['disabled']=![],_0x3d28b4[_0x4c0c21(0x938)]=_0x4c0c21(0x168);}}function displayVerificationResultsInEditor(_0xc38b7c){const _0xf08a54=_0x375675;_0xc38b7c['forEach'](_0x73c2=>{const _0x33b8d6=_0xdbfa,_0x2b27cf=document[_0x33b8d6(0x173)](_0x33b8d6(0x781)+_0x73c2[_0x33b8d6(0x8a5)]+'\x22]');if(!_0x2b27cf)return;const _0x58990b=_0x2b27cf[_0x33b8d6(0x173)]('.verification-result-editor');if(_0x58990b)_0x58990b[_0x33b8d6(0x139)]();let _0x287171='';if(_0x73c2[_0x33b8d6(0xf2)])_0x287171=_0x33b8d6(0x20b);else{const _0x3fba2e=_0x73c2[_0x33b8d6(0xe3)]?_0x33b8d6(0x42e):'';_0x287171='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง'+_0x3fba2e+_0x33b8d6(0x7f2)+_0x73c2['justification']+_0x33b8d6(0x2f4)+(_0x73c2[_0x33b8d6(0xe3)]?'<p><strong>คำตอบที่แนะนำ:</strong>\x20'+_0x73c2[_0x33b8d6(0xe3)]+_0x33b8d6(0x6ec):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}_0x2b27cf[_0x33b8d6(0x83a)](_0x33b8d6(0xa10),_0x287171);if(!_0x73c2[_0x33b8d6(0xf2)]&&_0x73c2[_0x33b8d6(0xe3)]){const _0x5b1545=_0x2b27cf['dataset'][_0x33b8d6(0x64b)],_0x4f975a=_0x59bc51=>{const _0x2ae920=_0x33b8d6;if(!_0x59bc51)return;_0x59bc51['classList']['add'](_0x2ae920(0x20d),_0x2ae920(0x638),_0x2ae920(0x442)),setTimeout(()=>{const _0x3c9f8a=_0x2ae920;_0x59bc51[_0x3c9f8a(0x6a0)][_0x3c9f8a(0x139)](_0x3c9f8a(0x20d));},0x9c4);};if(_0x5b1545===_0x33b8d6(0x5b4)){const _0x2bd705=Array[_0x33b8d6(0x84b)](_0x2b27cf[_0x33b8d6(0x814)]('input[type=\x22text\x22]')),_0x39eb78=_0x2bd705[_0x33b8d6(0x218)](_0x39ee3f=>_0x39ee3f[_0x33b8d6(0x106)][_0x33b8d6(0x517)]()[_0x33b8d6(0x3dc)]()===_0x73c2['suggestedAnswer'][_0x33b8d6(0x517)]()[_0x33b8d6(0x3dc)]());if(_0x39eb78!==-0x1){const _0x2e5fc0=_0x2b27cf[_0x33b8d6(0x173)]('input[type=\x22radio\x22][value=\x22'+_0x39eb78+'\x22]');_0x2e5fc0&&(_0x2e5fc0[_0x33b8d6(0x33c)]=!![],_0x4f975a(_0x2e5fc0['closest'](_0x33b8d6(0x773))));}}else{if(_0x5b1545===_0x33b8d6(0x689)||_0x5b1545==='matching_item'){const _0x527316=_0x2b27cf['querySelector'](_0x33b8d6(0x193));_0x527316&&(_0x527316['value']=_0x73c2[_0x33b8d6(0xe3)],_0x4f975a(_0x527316));}else{if(_0x5b1545===_0x33b8d6(0x46e)){const _0x563794=_0x73c2[_0x33b8d6(0xe3)][_0x33b8d6(0x517)]()[_0x33b8d6(0x3dc)](),_0x26886b=_0x2b27cf[_0x33b8d6(0x173)]('input[type=\x22radio\x22][value=\x22'+_0x563794+'\x22]');_0x26886b&&(_0x26886b[_0x33b8d6(0x33c)]=!![],_0x4f975a(_0x26886b['closest']('div')));}}}}}),showMessage(_0xf08a54(0x494));}async function handleVerifyAnswers(){const _0x4f04ac=_0x375675;if(!currentQuizData||!currentQuizData[_0x4f04ac(0x389)]){showMessage(_0x4f04ac(0x116));return;}const _0x385861=document['getElementById'](_0x4f04ac(0xa07));_0x385861[_0x4f04ac(0x5fa)]=!![],_0x385861[_0x4f04ac(0x938)]=_0x4f04ac(0x6ea);try{const _0x450b88=currentQuizData[_0x4f04ac(0x389)][_0x4f04ac(0x2cb)]((_0x4ecadf,_0x311c0e)=>{const _0x187ef6=_0x4f04ac;let _0x38fd31='';const _0x11260c=_0x4ecadf[_0x187ef6(0x1d7)]||currentQuizData[_0x187ef6(0x241)];switch(_0x11260c){case _0x187ef6(0x5b4):_0x38fd31=_0x4ecadf[_0x187ef6(0x34d)][_0x4ecadf[_0x187ef6(0x376)]];break;case _0x187ef6(0x689):_0x38fd31=_0x4ecadf[_0x187ef6(0xf4)];break;case _0x187ef6(0x46e):_0x38fd31=_0x4ecadf['correctAnswer'][_0x187ef6(0x57a)]();break;case _0x187ef6(0x99f):_0x38fd31=_0x4ecadf[_0x187ef6(0x714)];break;}return{'question':_0x4ecadf[_0x187ef6(0x877)]||_0x4ecadf[_0x187ef6(0x8b8)],'options':_0x4ecadf[_0x187ef6(0x34d)]||null,'proposedAnswer':_0x38fd31};}),_0x3b449e=_0x4f04ac(0x5a2)+JSON[_0x4f04ac(0x5dd)](_0x450b88)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับเป็น\x20JSON\x20array\x20เท่านั้น\x20โดยแต่ละ\x20object\x20ใน\x20array\x20ต้องมี\x20key\x20ดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22questionIndex\x22:\x20(number)\x20ลำดับของข้อที่ตรวจ\x20(เริ่มจาก\x200)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22isCorrect\x22:\x20(boolean)\x20เฉลยที่เสนอมานั้นถูกต้องใช่หรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22justification\x22:\x20(string)\x20คำอธิบายสั้นๆ\x20ว่าทำไมถึงถูกหรือผิด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20\x22suggestedAnswer\x22:\x20(string,\x20optional)\x20หากเฉลยผิด\x20ให้เสนอคำตอบที่ถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x1123a2={'type':_0x4f04ac(0xc5),'items':{'type':_0x4f04ac(0x7d8),'properties':{'questionIndex':{'type':_0x4f04ac(0x8fe)},'isCorrect':{'type':_0x4f04ac(0x3f7)},'justification':{'type':_0x4f04ac(0x4b8)},'suggestedAnswer':{'type':_0x4f04ac(0x4b8)}},'required':[_0x4f04ac(0x8a5),_0x4f04ac(0xf2),_0x4f04ac(0x8d2)]}},_0x17fbd4=await callAnalysisApi(_0x3b449e,{'type':_0x4f04ac(0x7d8),'properties':{'result':_0x1123a2},'required':['result']});displayVerificationResults(_0x17fbd4[_0x4f04ac(0x5c6)]);}catch(_0x2a2162){console[_0x4f04ac(0x8f8)](_0x4f04ac(0x51c),_0x2a2162),showMessage(_0x4f04ac(0x3fd));}finally{_0x385861[_0x4f04ac(0x5fa)]=![],_0x385861[_0x4f04ac(0x938)]=_0x4f04ac(0x78f);}}function displayVerificationResults(_0x3ce9a0){const _0x21193a=_0x375675;_0x3ce9a0[_0x21193a(0x1d9)](_0x45920a=>{const _0x2dc761=_0x21193a,_0x3f86ba=document[_0x2dc761(0x173)](_0x2dc761(0x626)+_0x45920a['questionIndex']+'\x22]');if(_0x3f86ba){const _0x4fda25=_0x3f86ba[_0x2dc761(0x173)](_0x2dc761(0x652));if(_0x4fda25)_0x4fda25[_0x2dc761(0x139)]();let _0x36cc57='';_0x45920a['isCorrect']?_0x36cc57='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x36cc57=_0x2dc761(0x2a7)+_0x45920a['justification']+_0x2dc761(0x6d2)+(_0x45920a[_0x2dc761(0xe3)]?_0x2dc761(0x82a)+_0x45920a[_0x2dc761(0xe3)]+_0x2dc761(0x6ec):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3f86ba[_0x2dc761(0x83a)](_0x2dc761(0xa10),_0x36cc57);}}),showMessage(_0x21193a(0x494));}function compareNumericalAnswers(_0x54498c,_0x1a054d){const _0x3d9bde=_0x375675,_0x56c63a=String(_0x54498c)[_0x3d9bde(0x2fa)](',','.')[_0x3d9bde(0x2fa)](/[^\d.-]/g,'')[_0x3d9bde(0x517)](),_0x130285=String(_0x1a054d)[_0x3d9bde(0x2fa)](',','.')['replace'](/[^\d.-]/g,'')['trim']();if(_0x56c63a===''||_0x130285==='')return![];const _0x1bf96d=parseFloat(_0x56c63a),_0x4c6753=parseFloat(_0x130285);if(isNaN(_0x1bf96d)||isNaN(_0x4c6753))return![];return Math[_0x3d9bde(0x6f7)](_0x1bf96d-_0x4c6753)<0.001;}function isPotentiallyNumeric(_0x4b4230){const _0x1d2bce=_0x375675;if(typeof _0x4b4230!=='string'&&typeof _0x4b4230!==_0x1d2bce(0x73e))return![];const _0x3e1c2f=String(_0x4b4230)[_0x1d2bce(0x2fa)](',','.')[_0x1d2bce(0x517)]();return _0x3e1c2f!==''&&!isNaN(parseFloat(_0x3e1c2f))&&isFinite(_0x3e1c2f);}async function gradeShortAnswer(_0x5c09d0,_0x3c2e97){const _0x68443c=_0x375675,_0x2c186c=_0x3c2e97['idealAnswer'],_0x5e8427=String(_0x5c09d0)[_0x68443c(0x2fa)](/\$/g,'')['trim'](),_0x4708a4=String(_0x2c186c)['replace'](/\$/g,'')[_0x68443c(0x517)]();if(_0x5e8427['toLowerCase']()===_0x4708a4[_0x68443c(0x3dc)]())return!![];if(isPotentiallyNumeric(_0x5e8427)&&isPotentiallyNumeric(_0x4708a4)){if(compareNumericalAnswers(_0x5e8427,_0x4708a4))return!![];}return console[_0x68443c(0x264)]('Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.'),await gradeShortAnswerWithAI(_0x5c09d0,_0x2c186c);}async function revealAnswerForAdmin(_0x4d2686,_0x31e129){const _0x4d32ca=_0x375675,_0x12ec4f=doc(db,_0x4d32ca(0x54c)+appId+_0x4d32ca(0x3f2),currentLiveGameId);await updateDoc(_0x12ec4f,{'questionStatus':_0x4d32ca(0x894)});}function showTop5LeaderboardView(_0x3d61e3){const _0x30ec07=_0x375675,_0x2bd0db=Object[_0x30ec07(0x5f7)](_0x3d61e3[_0x30ec07(0x1a7)]||{})[_0x30ec07(0x625)](_0x4c38e9=>_0x4c38e9[_0x30ec07(0x9bc)]==='active');_0x2bd0db[_0x30ec07(0x4d7)]((_0x69ea76,_0x39c8d0)=>_0x39c8d0['score']-_0x69ea76[_0x30ec07(0x9eb)]);const _0x42aa22=_0x2bd0db['slice'](0x0,0x5),_0x140975='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x42aa22[_0x30ec07(0x2cb)]((_0x396407,_0x20fd27)=>_0x30ec07(0x51e)+(_0x20fd27+0x1)+'.\x20'+(_0x396407[_0x30ec07(0x67c)]||Object['keys'](_0x3d61e3['players'])['find'](_0x4a9ff5=>_0x3d61e3[_0x30ec07(0x1a7)][_0x4a9ff5]===_0x396407))+_0x30ec07(0x4b0)+_0x396407['score']+_0x30ec07(0x5eb))['join']('')+_0x30ec07(0x908)+(_0x3d61e3['currentQuestionIndex']+0x1===currentQuizData[_0x30ec07(0x389)]['length']?_0x30ec07(0x366):_0x30ec07(0x484))+_0x30ec07(0x1ad);liveGameView[_0x30ec07(0x938)]=_0x140975,document[_0x30ec07(0x893)](_0x30ec07(0x799))[_0x30ec07(0x15b)](_0x30ec07(0x246),async()=>{const _0x4e3452=_0x30ec07,_0x52ceff=doc(db,_0x4e3452(0x54c)+appId+_0x4e3452(0x3f2),currentLiveGameId),_0x17f278=_0x3d61e3['currentQuestionIndex']+0x1;if(_0x17f278<currentQuizData['questions'][_0x4e3452(0x8f7)]){const _0x3d0ca2={'currentQuestionIndex':_0x17f278,'questionDisplayedAt':serverTimestamp(),'questionStatus':_0x4e3452(0x539)};Object[_0x4e3452(0x26c)](_0x3d61e3[_0x4e3452(0x1a7)])['forEach'](_0x3780da=>{const _0x16ef0b=_0x4e3452;_0x3d0ca2[_0x16ef0b(0x983)+_0x3780da+'.answeredCurrentQuestion']=![];}),await updateDoc(_0x52ceff,_0x3d0ca2);}else await updateDoc(_0x52ceff,{'status':_0x4e3452(0x16e)});});}function setupAuthListener(){onAuthStateChanged(auth,async _0x19526d=>{const _0x13e1de=_0xdbfa;if(_0x19526d){userId=_0x19526d[_0x13e1de(0x9f6)],userIdDisplay[_0x13e1de(0x490)]=userId;const _0x30afc4=await loadUserPreferences();_0x30afc4[_0x13e1de(0x83e)]&&(document['getElementById'](_0x13e1de(0x9e0))[_0x13e1de(0x106)]=_0x30afc4['projectSortOrder']);globalDashboardSettings[_0x13e1de(0x50d)]=_0x30afc4[_0x13e1de(0x50d)]||'grid';if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x240bd7,_0x55e4e7){const _0x472684=_0x375675;if(!userId)return;try{const _0x428dc8=doc(db,'artifacts/'+appId+_0x472684(0x356)+userId+_0x472684(0x396)),_0xac3b5a={};_0xac3b5a[_0x240bd7]=_0x55e4e7,await setDoc(_0x428dc8,_0xac3b5a,{'merge':!![]});}catch(_0x148a80){console[_0x472684(0x8f8)]('Error\x20saving\x20user\x20preference:',_0x148a80);}}async function loadUserPreferences(){const _0x26b418=_0x375675;if(!userId)return{};try{const _0x198394=doc(db,_0x26b418(0x54c)+appId+_0x26b418(0x356)+userId+'/preferences/main'),_0xe4e58d=await getDoc(_0x198394);if(_0xe4e58d[_0x26b418(0x135)]())return _0xe4e58d[_0x26b418(0x918)]();return{};}catch(_0x22dda1){return console[_0x26b418(0x8f8)](_0x26b418(0x6c9),_0x22dda1),{};}}function showPodiumView(_0x5577df,_0x1815cd=_0x375675(0x236)){const _0x4cfbc0=_0x375675,_0x4d6540=Object['entries'](_0x5577df)[_0x4cfbc0(0x2cb)](([_0x719e1e,_0x372ea3])=>({'name':_0x719e1e,'score':_0x372ea3['score']||0x0,'badges':_0x372ea3[_0x4cfbc0(0x56d)]||[],'hasPerfectScoreBonus':_0x372ea3[_0x4cfbc0(0x606)]||![]}));_0x4d6540[_0x4cfbc0(0x4d7)]((_0x52c9d3,_0x408e27)=>{const _0x514962=_0x4cfbc0,_0x2b6ea3=_0x408e27['score']-_0x52c9d3[_0x514962(0x9eb)];if(_0x2b6ea3!==0x0)return _0x2b6ea3;return(_0x408e27[_0x514962(0x56d)][_0x514962(0x8f7)]||0x0)-(_0x52c9d3[_0x514962(0x56d)]['length']||0x0);});const _0x2aa915=_0x4b6899=>{const _0x2dee6e=_0x4cfbc0;if(!_0x4b6899||_0x4b6899[_0x2dee6e(0x8f7)]===0x0)return'';const _0x1086ba={'quick_thinker':'⚡️','on_fire':'🔥'};return'<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>'+_0x4b6899['map'](_0x1d97a4=>_0x1086ba[_0x1d97a4]||'')[_0x2dee6e(0x56f)]('')+_0x2dee6e(0x2d3);},_0x277746=_0x4d6540[_0x4cfbc0(0x840)](0x3),_0x7feaf4=_0x277746[_0x4cfbc0(0x8f7)]>0x0?_0x4cfbc0(0x415)+_0x277746['map']((_0x59ca11,_0x48836b)=>{const _0x4a07ec=_0x4cfbc0,_0x2860f9=_0x59ca11[_0x4a07ec(0x606)]?'<span\x20class=\x22text-yellow-300\x20ml-2\x22\x20title=\x22โบนัสคะแนนเต็ม!\x22>+1\x20✨</span>':'';return _0x4a07ec(0x58c)+(_0x48836b+0x4)+_0x4a07ec(0x9c4)+_0x59ca11['name']+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>'+_0x59ca11[_0x4a07ec(0x9eb)]+_0x4a07ec(0x68c)+_0x2860f9+_0x4a07ec(0x715);})[_0x4cfbc0(0x56f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>':'',_0x5b8284=_0x4cfbc0(0x765)+(_0x4d6540[0x1]?_0x4cfbc0(0x7ca)+_0x4d6540[0x1][_0x4cfbc0(0x67c)]+'</p>'+_0x2aa915(_0x4d6540[0x1][_0x4cfbc0(0x56d)])+_0x4cfbc0(0x2bc)+_0x4d6540[0x1][_0x4cfbc0(0x9eb)]+_0x4cfbc0(0x68c)+(_0x4d6540[0x1][_0x4cfbc0(0x606)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+'</p><div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div></div>':_0x4cfbc0(0x6fd))+_0x4cfbc0(0x9c7)+(_0x4d6540[0x0]?_0x4cfbc0(0x52f)+_0x4d6540[0x0]['name']+_0x4cfbc0(0x6ec)+_0x2aa915(_0x4d6540[0x0][_0x4cfbc0(0x56d)])+_0x4cfbc0(0xa08)+_0x4d6540[0x0]['score']+'\x20คะแนน\x20'+(_0x4d6540[0x0][_0x4cfbc0(0x606)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+_0x4cfbc0(0x3cc):_0x4cfbc0(0x6fd))+_0x4cfbc0(0x9c7)+(_0x4d6540[0x2]?_0x4cfbc0(0x886)+_0x4d6540[0x2][_0x4cfbc0(0x67c)]+_0x4cfbc0(0x6ec)+_0x2aa915(_0x4d6540[0x2][_0x4cfbc0(0x56d)])+'<p\x20class=\x22text-xl\x22>'+_0x4d6540[0x2][_0x4cfbc0(0x9eb)]+_0x4cfbc0(0x68c)+(_0x4d6540[0x2][_0x4cfbc0(0x606)]?'<span\x20class=\x22text-yellow-300\x22\x20title=\x22โบนัสคะแนนเต็ม\x22>+1\x20✨</span>':'')+'</p><div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div></div>':_0x4cfbc0(0x6fd))+_0x4cfbc0(0x3fc)+_0x7feaf4+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentMode==='admin'?'<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก</button>':_0x4cfbc0(0x866))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';liveGameView[_0x4cfbc0(0x938)]=_0x5b8284,currentMode===_0x4cfbc0(0x594)&&document[_0x4cfbc0(0x893)](_0x4cfbc0(0x506))['addEventListener'](_0x4cfbc0(0x246),async()=>{const _0x394e95=_0x4cfbc0;let _0x3ae1b3;_0x1815cd===_0x394e95(0x50c)?_0x3ae1b3=doc(db,'artifacts/'+appId+_0x394e95(0x549),currentLiveGameId):_0x3ae1b3=doc(db,'artifacts/'+appId+_0x394e95(0x3f2),currentLiveGameId),await deleteDoc(_0x3ae1b3);});}function renderSyncSummaryView(_0x2c874f,_0x1cc11d,_0x58f32b){const _0xfde5a9=_0x375675,_0x57e294=Object[_0xfde5a9(0x5f7)](_0x2c874f[_0xfde5a9(0x1a7)]||{}),_0x2d9c6f=_0x1cc11d[_0xfde5a9(0x1d7)]||_0x2c874f[_0xfde5a9(0x6c7)][_0xfde5a9(0x241)];let _0x43a55b=[];_0x2d9c6f===_0xfde5a9(0x46e)?_0x43a55b=[_0xfde5a9(0x634),_0xfde5a9(0x52e)]:_0x43a55b=_0x1cc11d[_0xfde5a9(0x34d)]||[];const _0x49045e=new Array(_0x43a55b[_0xfde5a9(0x8f7)])[_0xfde5a9(0x17c)](0x0),_0x467a5c={};_0x43a55b[_0xfde5a9(0x1d9)]((_0x3dfa5d,_0x2f0e97)=>{_0x467a5c[_0x2f0e97]=[];}),Object['entries'](_0x2c874f[_0xfde5a9(0x1a7)]||{})['forEach'](([_0x2d0b0f,_0x51e4fd])=>{const _0x47aa54=_0xfde5a9;if(_0x51e4fd[_0x47aa54(0x9bc)]!==_0x47aa54(0x906)&&_0x51e4fd[_0x47aa54(0x126)]!==undefined&&_0x51e4fd['lastAnswerIndex']!==null){const _0x348c5d=_0x51e4fd[_0x47aa54(0x126)];_0x467a5c[_0x348c5d]!==undefined&&(_0x467a5c[_0x348c5d][_0x47aa54(0x6d0)](_0x2d0b0f),_0x49045e[_0x348c5d]++);}});let _0x5542a8='';_0x58f32b?_0x5542a8=_0xfde5a9(0x373):_0x5542a8=_0xfde5a9(0x27e);const _0x3622c7=_0xfde5a9(0x605)+_0x1cc11d['questionText']+_0xfde5a9(0x53d)+_0x49045e[_0xfde5a9(0x2cb)]((_0x31542e,_0x4b902c)=>{const _0x1113c1=_0xfde5a9,_0x390824=_0x467a5c[_0x4b902c]['length']>0x0?_0x467a5c[_0x4b902c][_0x1113c1(0x56f)](',\x20'):_0x1113c1(0x5a3),_0x2f11cf=_0x1113c1(0x96b);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x31542e+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22min-height:\x2060px;\x20background-color:\x20'+_0x2f11cf+_0x1113c1(0x60f)+_0x4b902c+_0x1113c1(0x2b5)+_0x43a55b[_0x4b902c]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-'+_0x4b902c+_0x1113c1(0x794)+_0x390824+_0x1113c1(0x146);})[_0xfde5a9(0x56f)]('')+_0xfde5a9(0x55b)+_0x5542a8+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0xfde5a9(0x938)]=_0x3622c7;if(window[_0xfde5a9(0x775)])MathJax[_0xfde5a9(0x2b2)]();_0x58f32b&&(document[_0xfde5a9(0x893)](_0xfde5a9(0xe5))[_0xfde5a9(0x15b)](_0xfde5a9(0x246),async()=>{const _0x201874=_0xfde5a9,_0x351705=doc(db,'artifacts/'+appId+_0x201874(0x549),currentLiveGameId);await updateDoc(_0x351705,{'status':_0x201874(0x492)});}),document[_0xfde5a9(0x893)](_0xfde5a9(0x2f0))[_0xfde5a9(0x28e)]=()=>{openScratchpad(_0x1cc11d,_0x43a55b);});}async function handleShowStudentRankings(){const _0x5c537c=_0x375675,_0x174b40=document[_0x5c537c(0x173)](_0x5c537c(0x950));_0x174b40&&(_0x174b40[_0x5c537c(0x938)]=_0x5c537c(0x73d));const _0x29febb=document[_0x5c537c(0x173)]('#student-project-leaderboard-content\x20thead');_0x29febb&&(_0x29febb[_0x5c537c(0x938)]=_0x5c537c(0x23f));const _0x19a4f5=document[_0x5c537c(0x893)](_0x5c537c(0x1f0));_0x19a4f5[_0x5c537c(0x6a0)][_0x5c537c(0x139)](_0x5c537c(0x8c9)),document[_0x5c537c(0x893)]('close-student-rankings-btn')['onclick']=()=>_0x19a4f5[_0x5c537c(0x6a0)][_0x5c537c(0x273)]('hidden');const _0x40e6ff=document[_0x5c537c(0x893)](_0x5c537c(0x746)),_0x22326b=document[_0x5c537c(0x893)](_0x5c537c(0x61c)),_0x3c093b=document[_0x5c537c(0x893)]('student-quiz-leaderboard-content'),_0x3613f0=document[_0x5c537c(0x893)](_0x5c537c(0xf9));_0x40e6ff[_0x5c537c(0x28e)]=()=>{const _0x123f1c=_0x5c537c;_0x40e6ff[_0x123f1c(0x6a0)]['add']('active'),_0x22326b[_0x123f1c(0x6a0)][_0x123f1c(0x139)]('active'),_0x3c093b[_0x123f1c(0x6a0)]['remove'](_0x123f1c(0x8c9)),_0x3613f0['classList'][_0x123f1c(0x273)]('hidden');},_0x22326b[_0x5c537c(0x28e)]=()=>{const _0x22340e=_0x5c537c;_0x22326b[_0x22340e(0x6a0)][_0x22340e(0x273)](_0x22340e(0x55d)),_0x40e6ff[_0x22340e(0x6a0)][_0x22340e(0x139)](_0x22340e(0x55d)),_0x3613f0[_0x22340e(0x6a0)]['remove'](_0x22340e(0x8c9)),_0x3c093b[_0x22340e(0x6a0)][_0x22340e(0x273)](_0x22340e(0x8c9));};try{const _0x46b4b8=collection(db,_0x5c537c(0x54c)+appId+'/public/data/quizzes/'+currentQuizData['id']+'/submissions'),_0x3e1e3d=await getDocs(_0x46b4b8),_0x2410e7=_0x3e1e3d[_0x5c537c(0x9fe)][_0x5c537c(0x2cb)](_0x532dc6=>_0x532dc6['data']());renderQuizLeaderboard(_0x2410e7,currentQuizData,_0x5c537c(0x8d0));const _0x3a9a0a=collection(db,'artifacts/'+appId+_0x5c537c(0x293)+currentQuizData['projectId']+'/studentProfiles'),_0x16a9c7=await getDocs(_0x3a9a0a),_0x2e84f5=_0x16a9c7[_0x5c537c(0x9fe)][_0x5c537c(0x2cb)](_0x3dc6d6=>_0x3dc6d6[_0x5c537c(0x918)]());renderLeaderboard(_0x2e84f5,_0x5c537c(0x6c6));}catch(_0x4ecd5c){console['error'](_0x5c537c(0xc9),_0x4ecd5c),showMessage('ไม่สามารถโหลดข้อมูลอันดับได้');}}async function handleSaveToBank(_0x2a2d20){const _0x28405d=_0x375675,_0x442f6f=_0x2a2d20[_0x28405d(0x1e9)],_0x4dfd77=_0x442f6f['dataset'][_0x28405d(0x5c8)],_0x5a28f2=currentQuizData['questions'][_0x4dfd77];if(!userId){showMessage(_0x28405d(0x522));return;}try{const _0x3e9458={..._0x5a28f2,'originalTopic':currentQuizData[_0x28405d(0x903)],'savedAt':serverTimestamp()},_0x4452e5=collection(db,_0x28405d(0x54c)+appId+_0x28405d(0x356)+userId+_0x28405d(0x90a));await addDoc(_0x4452e5,_0x3e9458),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x442f6f[_0x28405d(0x6a0)]['remove'](_0x28405d(0x66f)),_0x442f6f[_0x28405d(0x6a0)]['add'](_0x28405d(0xeb)),_0x442f6f[_0x28405d(0x5fa)]=!![];}catch(_0x31655d){console[_0x28405d(0x8f8)](_0x28405d(0x8b2),_0x31655d),showMessage(_0x28405d(0x4c1));}}function listenForStarredQuizzes(){const _0x51dec1=_0x375675;if(!userId)return;const _0x58298e=collection(db,_0x51dec1(0x54c)+appId+_0x51dec1(0x685)),_0x4c40f9=query(_0x58298e,where(_0x51dec1(0x8ff),'==',!![]));onSnapshot(_0x4c40f9,_0x4eb1cf=>{const _0x12858b=_0x51dec1;starredQuizzes=_0x4eb1cf['docs'][_0x12858b(0x2cb)](_0x2c0c52=>({'id':_0x2c0c52['id'],..._0x2c0c52[_0x12858b(0x918)]()})),currentProjectId===_0x12858b(0x501)?renderQuizzes():renderProjects();},_0x291913=>{console['error']('Error\x20listening\x20for\x20starred\x20quizzes:',_0x291913);});}function exportQuizAsWorksheetPDF(){const _0x596729=_0x375675;if(!currentQuizData||!currentQuizData[_0x596729(0x389)]){showMessage(_0x596729(0x57e));return;}const _0x2e6c12=currentQuizData,_0x2b0f24=window[_0x596729(0x1c0)]('',_0x596729(0x8b0)),_0x29875f=_0x574654=>String[_0x596729(0x80d)](0x41+_0x574654),_0xc3755=_0x596729(0x1ef)+_0x2e6c12['topic']+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x2e6c12[_0x596729(0x903)]+_0x596729(0x896)+_0x2e6c12[_0x596729(0x389)][_0x596729(0x2cb)]((_0x51532a,_0x3f930c)=>{const _0x47fbab=_0x596729;let _0x546ce1='';const _0x1f5e41=_0x51532a['questionType']||_0x2e6c12[_0x47fbab(0x241)];switch(_0x1f5e41){case _0x47fbab(0x5b4):case _0x47fbab(0x22c):_0x546ce1='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0x51532a[_0x47fbab(0x34d)]['map']((_0x1e6b0f,_0x420412)=>_0x47fbab(0x5a7)+_0x29875f(_0x420412)+'.\x20'+_0x1e6b0f+_0x47fbab(0x989))['join']('<br>')+_0x47fbab(0x2d3);break;case _0x47fbab(0x46e):_0x546ce1='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x546ce1=_0x47fbab(0x5ed);break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x3f930c+0x1)+_0x47fbab(0x8e1)+(_0x51532a['stem']||_0x51532a[_0x47fbab(0x8b8)])+_0x47fbab(0x18c)+(_0x51532a['imageCode']?_0x47fbab(0x826)+_0x51532a['imageCode']+'</div>':'')+_0x47fbab(0x472)+_0x546ce1+_0x47fbab(0x2cf);})[_0x596729(0x56f)]('')+_0x596729(0x8c3);_0x2b0f24['document'][_0x596729(0x3d7)](_0xc3755),_0x2b0f24['document']['close'](),_0x2b0f24[_0x596729(0x2ca)]=function(){setTimeout(()=>{const _0x5cf9f4=_0xdbfa;_0x2b0f24[_0x5cf9f4(0x9ce)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x17406d=_0x375675;if(!currentQuizData||!currentQuizData[_0x17406d(0x389)]){showMessage(_0x17406d(0x57e));return;}const _0x48b618=currentQuizData,_0x516139=window['open']('','_blank'),_0x94a845=_0x9b56fe=>String[_0x17406d(0x80d)](0x41+_0x9b56fe),_0x479f3f=_0x17406d(0xa04)+_0x48b618[_0x17406d(0x903)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x48b618[_0x17406d(0x389)][_0x17406d(0x2cb)]((_0x5cd84d,_0x392203)=>{const _0x186760=_0x17406d;let _0x389974='';const _0x1c5392=_0x5cd84d[_0x186760(0x1d7)]||_0x48b618[_0x186760(0x241)];switch(_0x1c5392){case _0x186760(0x5b4):case _0x186760(0x22c):_0x389974='<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>'+_0x5cd84d[_0x186760(0x34d)][_0x186760(0x2cb)]((_0x484e7c,_0x2bffa8)=>_0x186760(0x88e)+_0x94a845(_0x2bffa8)+'.\x20'+_0x484e7c+_0x186760(0x4a2))[_0x186760(0x56f)](_0x186760(0x409))+_0x186760(0x708);break;case _0x186760(0x46e):_0x389974=_0x186760(0x5d4);break;default:_0x389974='';break;}return _0x186760(0x170)+_0x48b618[_0x186760(0x903)]+_0x186760(0x5b2)+(_0x392203+0x1)+_0x186760(0x62e)+(_0x5cd84d[_0x186760(0x877)]||_0x5cd84d[_0x186760(0x8b8)])+_0x186760(0x18c)+(_0x5cd84d[_0x186760(0x31d)]?_0x186760(0x157)+_0x5cd84d[_0x186760(0x31d)]+_0x186760(0x2d3):'')+_0x186760(0x472)+_0x389974+_0x186760(0x257);})[_0x17406d(0x56f)]('')+_0x17406d(0xd6);_0x516139['document'][_0x17406d(0x3d7)](_0x479f3f),_0x516139[_0x17406d(0x47b)][_0x17406d(0x2f1)](),_0x516139['onload']=function(){setTimeout(()=>{_0x516139['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x4cfc98){const _0x58c0b5=_0x375675,_0x4a0f0e=doc(db,_0x58c0b5(0x54c)+appId+'/public/data/quizzes',_0x4cfc98);try{const _0x1c575b=await getDoc(_0x4a0f0e);if(_0x1c575b[_0x58c0b5(0x135)]()){const _0xac2b94=_0x1c575b[_0x58c0b5(0x918)]()[_0x58c0b5(0x8ff)]||![];await updateDoc(_0x4a0f0e,{'isStarred':!_0xac2b94});}}catch(_0x4d449a){console[_0x58c0b5(0x8f8)]('Error\x20toggling\x20star\x20status:',_0x4d449a),showMessage(_0x58c0b5(0x778));}}async function displayQuestionBank(){const _0x40dde3=_0x375675,_0x26990a=document[_0x40dde3(0x893)](_0x40dde3(0x354));_0x26990a[_0x40dde3(0x938)]=_0x40dde3(0x3ff);try{const _0x2d7236=collection(db,_0x40dde3(0x54c)+appId+_0x40dde3(0x356)+userId+_0x40dde3(0x90a)),_0x59d736=query(_0x2d7236),_0x3be443=await getDocs(_0x59d736);if(_0x3be443['empty']){_0x26990a[_0x40dde3(0x938)]=_0x40dde3(0x4ac);return;}let _0x23e27d=_0x3be443[_0x40dde3(0x9fe)]['map'](_0x5a20a3=>{const _0x3ccf1b=_0x40dde3,_0x56f9a4=_0x5a20a3[_0x3ccf1b(0x918)](),_0x4696d5=_0x5a20a3['id'];return _0x3ccf1b(0x79f)+JSON[_0x3ccf1b(0x5dd)](_0x56f9a4)+_0x3ccf1b(0x742)+(_0x56f9a4['questionText']||_0x56f9a4[_0x3ccf1b(0x877)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20'+_0x56f9a4['originalTopic']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})['join']('');_0x26990a[_0x40dde3(0x938)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>'+_0x23e27d+_0x40dde3(0x295),document[_0x40dde3(0x893)](_0x40dde3(0x129))[_0x40dde3(0x15b)](_0x40dde3(0x246),createQuizFromBank);}catch(_0x16a023){console[_0x40dde3(0x8f8)](_0x40dde3(0xe0),_0x16a023),_0x26990a[_0x40dde3(0x938)]=_0x40dde3(0x8ab);}}function showAdminLiveQuestionView(_0x4f9531,_0x5591dd,_0x5d7b8e){const _0xf3da00=_0x375675,_0x507208=_0x4f9531[_0xf3da00(0x1d7)]||currentQuizData['quizType'];let _0x4a37af='';if(_0x507208===_0xf3da00(0x5b4)||_0x507208===_0xf3da00(0x46e)){const _0x394216=_0x507208===_0xf3da00(0x46e)?[_0xf3da00(0x5ae),_0xf3da00(0x8d3)]:_0x4f9531[_0xf3da00(0x34d)],_0x53b58b=_0x507208===_0xf3da00(0x46e)?_0x4f9531[_0xf3da00(0x1b1)]?0x0:0x1:_0x4f9531[_0xf3da00(0x376)];_0x4a37af=_0x394216[_0xf3da00(0x2cb)]((_0x10437f,_0x16269d)=>_0xf3da00(0x939)+(_0x16269d===_0x53b58b)+_0xf3da00(0x84a)+_0x10437f+_0xf3da00(0x269))['join']('');}else{if(_0x507208===_0xf3da00(0x99f)){const _0x370a1e=_0x4f9531[_0xf3da00(0x9c0)]||[];_0x4a37af=_0x370a1e[_0xf3da00(0x2cb)](_0x390e93=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x390e93===_0x4f9531[_0xf3da00(0x714)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x390e93+_0xf3da00(0x269))[_0xf3da00(0x56f)]('');}}const _0x99b0b2=_0x4f9531[_0xf3da00(0x877)]||_0x4f9531[_0xf3da00(0x8b8)],_0x179249=_0xf3da00(0x281)+(_0x5591dd+0x1)+_0xf3da00(0x8e8)+_0x5d7b8e+_0xf3da00(0x964)+currentLiveGamePin+_0xf3da00(0x1de)+_0x99b0b2+_0xf3da00(0x33f)+_0x4a37af+_0xf3da00(0x587);liveGameView[_0xf3da00(0x938)]=_0x179249,window['MathJax']&&MathJax[_0xf3da00(0x2b2)]&&MathJax[_0xf3da00(0x2b2)]([liveGameView]),document[_0xf3da00(0x893)](_0xf3da00(0xa0c))[_0xf3da00(0x15b)](_0xf3da00(0x246),()=>revealAnswerForAdmin(_0x5591dd,_0x5d7b8e)),document['getElementById'](_0xf3da00(0x486))['addEventListener'](_0xf3da00(0x246),async()=>{const _0x20a5e2=_0xf3da00;showConfirmation(_0x20a5e2(0x836),async()=>{const _0x486f32=_0x20a5e2,_0x3e1be1=doc(db,_0x486f32(0x54c)+appId+_0x486f32(0x3f2),currentLiveGameId);await updateDoc(_0x3e1be1,{'status':'podium'});});}),document[_0xf3da00(0x893)](_0xf3da00(0x5a5))[_0xf3da00(0x15b)](_0xf3da00(0x246),()=>{const _0x9ca8b6=_0xf3da00;document['getElementById'](_0x9ca8b6(0x95c))[_0x9ca8b6(0x6a0)][_0x9ca8b6(0x2fe)](_0x9ca8b6(0x8c9));});}function showStudentLiveQuestionView(_0x2a4d4a,_0x1fdd3a,_0x3234ab){const _0x1c8815=_0x375675,_0x532bd4=_0x2a4d4a['questionType']||currentQuizData[_0x1c8815(0x241)];let _0x447c1d='';if(_0x532bd4===_0x1c8815(0x5b4)||_0x532bd4===_0x1c8815(0x46e)){const _0x4072e3=_0x532bd4==='true_false'?[_0x1c8815(0x5ae),_0x1c8815(0x8d3)]:_0x2a4d4a[_0x1c8815(0x34d)];_0x447c1d=_0x4072e3[_0x1c8815(0x2cb)]((_0x399c40,_0x256535)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x256535+_0x1c8815(0x132)+_0x399c40+_0x1c8815(0x4ab))['join']('');}else{if(_0x532bd4===_0x1c8815(0x99f)){const _0x4d03db=_0x2a4d4a[_0x1c8815(0x9c0)]||[];_0x447c1d=_0x4d03db[_0x1c8815(0x2cb)]((_0x4611f7,_0x5a651f)=>_0x1c8815(0x7f7)+_0x5a651f+_0x1c8815(0x132)+_0x4611f7+_0x1c8815(0x4ab))[_0x1c8815(0x56f)]('');}else _0x532bd4===_0x1c8815(0x689)&&(_0x447c1d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x42f528=_0x2a4d4a[_0x1c8815(0x877)]||_0x2a4d4a['questionText'],_0x1d9901=_0x1c8815(0x261)+(_0x1fdd3a+0x1)+'\x20/\x20'+_0x3234ab+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x42f528+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x447c1d+_0x1c8815(0x96f);liveGameView[_0x1c8815(0x938)]=_0x1d9901;window[_0x1c8815(0x775)]&&MathJax[_0x1c8815(0x2b2)]&&MathJax[_0x1c8815(0x2b2)]([liveGameView]);const _0x30c4e7=document[_0x1c8815(0x893)]('live-submit-short-answer-btn');_0x30c4e7&&_0x30c4e7['addEventListener'](_0x1c8815(0x246),()=>{const _0x2df61f=_0x1c8815,_0x5c3ef1=document['getElementById'](_0x2df61f(0x408))['value'];handleLiveAnswer(_0x5c3ef1,_0x2a4d4a);}),document['getElementById'](_0x1c8815(0x8be))['addEventListener'](_0x1c8815(0x246),_0x5cab79=>{const _0x3be70c=_0x1c8815,_0x49f6b8=_0x5cab79[_0x3be70c(0x7df)]['closest'](_0x3be70c(0x592));if(_0x49f6b8){const _0x7fdf61=parseInt(_0x49f6b8['dataset'][_0x3be70c(0x5c8)]);handleLiveAnswer(_0x7fdf61,_0x2a4d4a);}});}async function handleLiveAnswer(_0xd3c671,_0x4092c5){const _0x1c0d3a=_0x375675;document[_0x1c0d3a(0x814)](_0x1c0d3a(0x6ae))[_0x1c0d3a(0x1d9)](_0x3d9954=>_0x3d9954[_0x1c0d3a(0x5fa)]=!![]);const _0x584d22=_0x4092c5[_0x1c0d3a(0x1d7)]||currentQuizData[_0x1c0d3a(0x241)];let _0x554a08=![],_0x2ca52b=_0xd3c671;if(_0x584d22===_0x1c0d3a(0x689)){const _0x4a89a6=(_0xd3c671||'')[_0x1c0d3a(0x57a)]();_0x554a08=await gradeShortAnswer(_0x4a89a6,_0x4092c5);}else{if(_0x584d22===_0x1c0d3a(0x5b4))_0x554a08=_0xd3c671===_0x4092c5['correctAnswerIndex'];else{if(_0x584d22===_0x1c0d3a(0x46e)){const _0x54c679=_0x4092c5[_0x1c0d3a(0x1b1)];_0x554a08=_0xd3c671===0x0&&_0x54c679||_0xd3c671===0x1&&!_0x54c679;}else{if(_0x584d22==='matching_item'){const _0x418ce7=_0x4092c5[_0x1c0d3a(0x9c0)][_0xd3c671];_0x554a08=_0x418ce7===_0x4092c5[_0x1c0d3a(0x714)],_0x2ca52b=_0x418ce7;}}}}const _0xd44ccf=doc(db,_0x1c0d3a(0x54c)+appId+_0x1c0d3a(0x3f2),currentLiveGameId),_0x47dd4f={};_0x47dd4f[_0x1c0d3a(0x983)+currentStudentName+_0x1c0d3a(0x84c)]=!![],_0x47dd4f[_0x1c0d3a(0x983)+currentStudentName+_0x1c0d3a(0x7e2)]=_0x554a08,_0x47dd4f[_0x1c0d3a(0x983)+currentStudentName+'.lastAnswerIndex']=_0x584d22===_0x1c0d3a(0x689)||_0x584d22===_0x1c0d3a(0x99f)?null:_0xd3c671,_0x47dd4f[_0x1c0d3a(0x983)+currentStudentName+'.lastAnswerValue']=_0x2ca52b,_0x47dd4f[_0x1c0d3a(0x983)+currentStudentName+'.submittedAt']=serverTimestamp(),_0x47dd4f[_0x1c0d3a(0x983)+currentStudentName+_0x1c0d3a(0x9e8)]=![],await updateDoc(_0xd44ccf,_0x47dd4f),liveGameView['innerHTML']=_0x1c0d3a(0x21e);}function showAdminSummaryView(_0x1be51e,_0x2ae7fa){const _0x3c24c9=_0x375675,_0x184ec6=Object[_0x3c24c9(0x5f7)](_0x1be51e[_0x3c24c9(0x1a7)]||{}),_0x4b145e=_0x2ae7fa[_0x3c24c9(0x1d7)]||currentQuizData[_0x3c24c9(0x241)],_0x4e75e0=_0x4b145e===_0x3c24c9(0x46e)?[_0x3c24c9(0x5ae),_0x3c24c9(0x8d3)]:_0x2ae7fa[_0x3c24c9(0x34d)]||_0x2ae7fa['allResponses']||[],_0xcf744a={},_0x278f05=new Array(_0x4e75e0[_0x3c24c9(0x8f7)])['fill'](0x0);_0x4e75e0[_0x3c24c9(0x1d9)]((_0xc3efca,_0x91f7ad)=>{_0xcf744a[_0x91f7ad]=[];}),Object['entries'](_0x1be51e['players']||{})['forEach'](([_0x540c0f,_0xd64557])=>{const _0x3c330e=_0x3c24c9;if(_0xd64557['status']==='active'&&_0xd64557[_0x3c330e(0x126)]!==undefined){const _0x10a507=_0xd64557[_0x3c330e(0x126)];_0xcf744a[_0x10a507]&&(_0xcf744a[_0x10a507][_0x3c330e(0x6d0)](_0x540c0f),_0x278f05[_0x10a507]++);}});const _0x41670e=Math[_0x3c24c9(0xf3)](..._0x278f05,0x1),_0x467684='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>'+(_0x2ae7fa[_0x3c24c9(0x877)]||_0x2ae7fa[_0x3c24c9(0x8b8)])+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20h-64\x20flex\x20justify-around\x20items-end\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x278f05[_0x3c24c9(0x2cb)]((_0x415142,_0x2b0536)=>{const _0x30050d=_0x3c24c9,_0x469d59=_0xcf744a[_0x2b0536][_0x30050d(0x8f7)]>0x0?_0xcf744a[_0x2b0536][_0x30050d(0x56f)](',\x20'):_0x30050d(0x5a3);let _0x5719c5=![];if(_0x4b145e===_0x30050d(0x5b4))_0x5719c5=_0x2b0536===_0x2ae7fa[_0x30050d(0x376)];else{if(_0x4b145e===_0x30050d(0x46e)){const _0x3cce36=_0x2ae7fa[_0x30050d(0x1b1)];_0x5719c5=_0x3cce36&&_0x2b0536===0x0||!_0x3cce36&&_0x2b0536===0x1;}else _0x4b145e===_0x30050d(0x99f)&&(_0x5719c5=_0x4e75e0[_0x2b0536]===_0x2ae7fa[_0x30050d(0x714)]);}const _0x3a04cc=_0x5719c5?_0x30050d(0x1be):_0x30050d(0x301);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/4\x20h-full\x20flex\x20flex-col\x20justify-end\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xl\x20font-bold\x20mb-1\x22>'+_0x415142+_0x30050d(0x2f7)+_0x3a04cc+_0x30050d(0x60f)+_0x2b0536+_0x30050d(0x64d)+_0x4e75e0[_0x2b0536]+_0x30050d(0x7de)+_0x2b0536+_0x30050d(0x794)+_0x469d59+_0x30050d(0x146);})[_0x3c24c9(0x56f)]('')+_0x3c24c9(0x19d);liveGameView[_0x3c24c9(0x938)]=_0x467684;if(window['MathJax'])MathJax[_0x3c24c9(0x2b2)]();document[_0x3c24c9(0x893)](_0x3c24c9(0x5b0))[_0x3c24c9(0x15b)](_0x3c24c9(0x246),async()=>{const _0x17fed9=_0x3c24c9,_0x5f3874=doc(db,'artifacts/'+appId+_0x17fed9(0x3f2),currentLiveGameId);await updateDoc(_0x5f3874,{'questionStatus':_0x17fed9(0x223)});}),document[_0x3c24c9(0x893)](_0x3c24c9(0x9d7))[_0x3c24c9(0x15b)](_0x3c24c9(0x246),()=>{openScratchpad(_0x2ae7fa,_0x4e75e0);});}function showPlayerSummaryView(_0x505e0a,_0x2ce791){const _0x2ed4d4=_0x375675,_0xc54b27=Object['values'](_0x505e0a[_0x2ed4d4(0x1a7)]||{}),_0x5a62cf=_0x505e0a[_0x2ed4d4(0x1a7)][_0x2ce791],_0x5c3662=_0xc54b27[_0x2ed4d4(0x625)](_0x34038a=>_0x34038a[_0x2ed4d4(0x9bc)]===_0x2ed4d4(0x55d))['sort']((_0x5db7b0,_0x31ceca)=>_0x31ceca[_0x2ed4d4(0x9eb)]-_0x5db7b0[_0x2ed4d4(0x9eb)]),_0x15a467=_0x5c3662[_0x2ed4d4(0x218)](_0x44bfcf=>_0x44bfcf===_0x5a62cf)+0x1,_0x165040=_0x5a62cf[_0x2ed4d4(0x800)]?_0x2ed4d4(0x4e8):_0x2ed4d4(0x6ac),_0x107e3d=_0x5a62cf[_0x2ed4d4(0x800)]?_0x2ed4d4(0x849):_0x2ed4d4(0x7fa),_0x188f5c=_0x5a62cf[_0x2ed4d4(0x798)]||0x0,_0x4d528c=_0x2ed4d4(0x978),_0x16f4c4=_0x2ed4d4(0x228)+_0x4d528c+_0x2ed4d4(0x824)+_0x107e3d+_0x2ed4d4(0x92c)+_0x165040+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20mt-4\x22>+'+_0x188f5c+_0x2ed4d4(0x64f)+(_0x15a467>0x0?_0x15a467:'-')+_0x2ed4d4(0x2af);liveGameView[_0x2ed4d4(0x938)]=_0x16f4c4;}function createQuizFromBank(){const _0x161bb6=_0x375675,_0x348ef1=document['querySelectorAll']('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x348ef1[_0x161bb6(0x8f7)]===0x0){showMessage(_0x161bb6(0x717));return;}const _0x425f68=[];_0x348ef1[_0x161bb6(0x1d9)](_0x4a4ebb=>{const _0x4fbdfa=_0x161bb6;_0x425f68['push'](JSON[_0x4fbdfa(0x95e)](_0x4a4ebb['value']));});const _0x17760a={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x425f68};displayGeneratedQuiz(_0x17760a);}function showAdminLobbyView(_0x29d507,_0x4bb126){const _0x3e117e=_0x375675;showView('live-game');const _0x286c6a=_0x3e117e(0x21d)+_0x4bb126+_0x3e117e(0x251)+_0x29d507+_0x3e117e(0x150);liveGameView[_0x3e117e(0x938)]=_0x286c6a,document[_0x3e117e(0x893)](_0x3e117e(0x23a))[_0x3e117e(0x15b)](_0x3e117e(0x246),async()=>{const _0x90bb5d=_0x3e117e;if(!currentQuizData||!currentQuizData[_0x90bb5d(0x389)]||currentQuizData[_0x90bb5d(0x389)][_0x90bb5d(0x8f7)]===0x0){showMessage(_0x90bb5d(0x4a1));return;}try{const _0x417da2=doc(db,'artifacts/'+appId+_0x90bb5d(0x3f2),currentLiveGameId);await updateDoc(_0x417da2,{'status':_0x90bb5d(0x7d0),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x3042aa=currentQuizData[_0x90bb5d(0x389)][0x0],_0x36f9fd=currentQuizData[_0x90bb5d(0x389)][_0x90bb5d(0x8f7)];showAdminLiveQuestionView(_0x3042aa,0x0,_0x36f9fd);}catch(_0x37ac09){console['error']('Error\x20starting\x20game:',_0x37ac09),showMessage(_0x90bb5d(0x30a));}});}async function openGlobalLiveModal(){const _0x2395c1=_0x375675;if(allQuizzesGlobal['length']===0x0){const _0x1a36bd=await getDocs(collection(db,_0x2395c1(0x54c)+appId+_0x2395c1(0x685)));allQuizzesGlobal=_0x1a36bd[_0x2395c1(0x9fe)][_0x2395c1(0x2cb)](_0x4d8d0e=>({'id':_0x4d8d0e['id'],..._0x4d8d0e[_0x2395c1(0x918)]()}));}renderGlobalQuizList(''),document[_0x2395c1(0x893)](_0x2395c1(0x842))[_0x2395c1(0x6a0)][_0x2395c1(0x139)]('hidden');}async function openQuizBankModal(){const _0x105b5e=_0x375675;if(allQuizzesGlobal[_0x105b5e(0x8f7)]===0x0){const _0x4f0fba=await getDocs(collection(db,'artifacts/'+appId+_0x105b5e(0x685)));allQuizzesGlobal=_0x4f0fba[_0x105b5e(0x9fe)]['map'](_0x4b8af5=>({'id':_0x4b8af5['id'],..._0x4b8af5[_0x105b5e(0x918)]()}));}renderQuizBankList(''),document['getElementById'](_0x105b5e(0x3a3))['classList'][_0x105b5e(0x139)](_0x105b5e(0x8c9));}function renderQuizBankList(_0x19e094=''){const _0x9aa1d=_0x375675,_0x12146b=document[_0x9aa1d(0x893)](_0x9aa1d(0x8c7)),_0x58ff84=_0x19e094[_0x9aa1d(0x3dc)]()[_0x9aa1d(0x517)](),_0x5f0580=allQuizzesGlobal[_0x9aa1d(0x2cb)](_0x4c4a33=>({..._0x4c4a33,'projectName':allProjects['find'](_0x4fb2a7=>_0x4fb2a7['id']===_0x4c4a33[_0x9aa1d(0x862)])?.['projectName']||_0x9aa1d(0x107)}))[_0x9aa1d(0x625)](_0x27f212=>(_0x27f212[_0x9aa1d(0x903)]||'')[_0x9aa1d(0x3dc)]()[_0x9aa1d(0x5b5)](_0x58ff84)||(_0x27f212[_0x9aa1d(0x772)]||'')['toLowerCase']()[_0x9aa1d(0x5b5)](_0x58ff84)||_0x27f212['id'][_0x9aa1d(0x57a)]()[_0x9aa1d(0x5b5)](_0x58ff84));document[_0x9aa1d(0x893)]('quiz-bank-count')[_0x9aa1d(0x490)]='('+_0x5f0580[_0x9aa1d(0x8f7)]+_0x9aa1d(0x423),_0x12146b['innerHTML']=_0x5f0580[_0x9aa1d(0x8f7)]?_0x5f0580[_0x9aa1d(0x2cb)](_0x3d60a6=>'\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22'+_0x3d60a6['id']+'\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>'+(_0x3d60a6[_0x9aa1d(0x903)]||_0x9aa1d(0x2ba))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>('+(_0x3d60a6['questions']?.[_0x9aa1d(0x8f7)]||0x0)+_0x9aa1d(0x42f)+_0x3d60a6[_0x9aa1d(0x772)]+_0x9aa1d(0x537)+_0x3d60a6['id']+_0x9aa1d(0x6b4)+_0x3d60a6['id']+_0x9aa1d(0x919)+_0x3d60a6['id']+_0x9aa1d(0x2f5)+_0x3d60a6['id']+_0x9aa1d(0x9a9)+_0x3d60a6['id']+_0x9aa1d(0x2b1)+_0x3d60a6['id']+_0x9aa1d(0x17b)+_0x3d60a6['id']+_0x9aa1d(0x102)+_0x3d60a6[_0x9aa1d(0x903)]+_0x9aa1d(0x3e8))[_0x9aa1d(0x56f)](''):'<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',_0x12146b[_0x9aa1d(0x814)](_0x9aa1d(0x3c4))[_0x9aa1d(0x1d9)](_0xca57ab=>{const _0x5c9e63=_0x9aa1d;_0xca57ab[_0x5c9e63(0x15b)](_0x5c9e63(0x246),()=>{const _0x434ba0=_0x5c9e63,_0x561f63=_0xca57ab[_0x434ba0(0x40f)]['id'];document['getElementById'](_0x434ba0(0x3a3))[_0x434ba0(0x6a0)][_0x434ba0(0x273)](_0x434ba0(0x8c9)),showQuizDetailView(_0x561f63);});}),_0x12146b[_0x9aa1d(0x814)](_0x9aa1d(0x4fb))['forEach'](_0x4a81dc=>{const _0x55a244=_0x9aa1d;_0x4a81dc[_0x55a244(0x15b)]('click',_0x161982=>{const _0x2b3f88=_0x55a244;_0x161982['stopPropagation']();const _0x139a19=_0x4a81dc['dataset']['id'],_0x8cf19d=allQuizzesGlobal[_0x2b3f88(0x860)](_0x32e7dc=>_0x32e7dc['id']===_0x139a19);_0x8cf19d?(currentQuizData=_0x8cf19d,document[_0x2b3f88(0x893)]('quiz-bank-modal')['classList'][_0x2b3f88(0x273)](_0x2b3f88(0x8c9)),startAdminTest()):showMessage(_0x2b3f88(0x66a));});}),_0x12146b[_0x9aa1d(0x814)]('.quiz-bank-parallel-btn')['forEach'](_0x5281e7=>{const _0x1a2e54=_0x9aa1d;_0x5281e7[_0x1a2e54(0x15b)](_0x1a2e54(0x246),_0x26ba76=>{const _0x5ac6f5=_0x1a2e54;_0x26ba76[_0x5ac6f5(0x510)]();const _0x146e33=_0x5281e7[_0x5ac6f5(0x40f)]['id'],_0x3ca304=allQuizzesGlobal[_0x5ac6f5(0x860)](_0x1bdafc=>_0x1bdafc['id']===_0x146e33);_0x3ca304?(document[_0x5ac6f5(0x893)](_0x5ac6f5(0x3a3))[_0x5ac6f5(0x6a0)][_0x5ac6f5(0x273)](_0x5ac6f5(0x8c9)),handleGenerateParallelFromBank(_0x3ca304)):showMessage('ไม่พบข้อมูลแบบทดสอบ');});}),_0x12146b['querySelectorAll'](_0x9aa1d(0x882))[_0x9aa1d(0x1d9)](_0x4ecd51=>{const _0x16efc8=_0x9aa1d;_0x4ecd51[_0x16efc8(0x15b)]('click',_0xef3c88=>{const _0x3ebce6=_0x16efc8;_0xef3c88['stopPropagation']();const _0x364202=_0x4ecd51[_0x3ebce6(0x40f)]['id'],_0x2e1c56=allQuizzesGlobal[_0x3ebce6(0x860)](_0x139df0=>_0x139df0['id']===_0x364202);_0x2e1c56?(document[_0x3ebce6(0x893)]('quiz-bank-modal')[_0x3ebce6(0x6a0)]['add'](_0x3ebce6(0x8c9)),startPresentation(_0x2e1c56)):showMessage(_0x3ebce6(0x66a));});}),_0x12146b[_0x9aa1d(0x814)](_0x9aa1d(0x242))[_0x9aa1d(0x1d9)](_0x15a141=>{const _0x51889c=_0x9aa1d;_0x15a141[_0x51889c(0x15b)](_0x51889c(0x246),_0x2c7527=>{const _0x3f5b13=_0x51889c;_0x2c7527[_0x3f5b13(0x510)]();const _0xd7ce72=_0x15a141['dataset']['id'];document[_0x3f5b13(0x893)](_0x3f5b13(0x3a3))[_0x3f5b13(0x6a0)][_0x3f5b13(0x273)](_0x3f5b13(0x8c9)),handleMoveQuiz(_0xd7ce72);});}),_0x12146b[_0x9aa1d(0x814)]('.quiz-bank-settings-btn')[_0x9aa1d(0x1d9)](_0x5c0df2=>{const _0x4211ac=_0x9aa1d;_0x5c0df2[_0x4211ac(0x15b)](_0x4211ac(0x246),_0x150f4f=>{const _0x1f4985=_0x4211ac;_0x150f4f[_0x1f4985(0x510)]();const _0x309f59=_0x5c0df2[_0x1f4985(0x40f)]['id'];document['getElementById'](_0x1f4985(0x3a3))[_0x1f4985(0x6a0)][_0x1f4985(0x273)](_0x1f4985(0x8c9)),handleQuizSettings(_0x309f59);});}),_0x12146b[_0x9aa1d(0x814)](_0x9aa1d(0x479))[_0x9aa1d(0x1d9)](_0x140744=>{const _0x18dde9=_0x9aa1d;_0x140744[_0x18dde9(0x15b)](_0x18dde9(0x246),_0x38f5e1=>{const _0xf735b9=_0x18dde9;_0x38f5e1[_0xf735b9(0x510)]();const _0x1eb1ee=_0x140744[_0xf735b9(0x40f)]['id'],_0x3a94d8=_0x140744[_0xf735b9(0x40f)][_0xf735b9(0x903)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x3a94d8+_0xf735b9(0x8f3),()=>handleDeleteQuiz(_0x1eb1ee));});});}async function handleCompareResults(_0x545ee3,_0x3cb078){const _0x4b167c=_0x375675,_0x483aee=document[_0x4b167c(0x893)](_0x4b167c(0x529)),_0x2f388e=document[_0x4b167c(0x893)](_0x4b167c(0x76d)),_0x236ba6=document['getElementById'](_0x4b167c(0x855));document[_0x4b167c(0x893)](_0x4b167c(0x751))[_0x4b167c(0x6a0)]['add'](_0x4b167c(0x55d)),document[_0x4b167c(0x893)](_0x4b167c(0x276))[_0x4b167c(0x6a0)][_0x4b167c(0x139)]('active'),_0x2f388e[_0x4b167c(0x6a0)]['remove'](_0x4b167c(0x8c9)),_0x236ba6[_0x4b167c(0x6a0)][_0x4b167c(0x273)]('hidden'),_0x2f388e[_0x4b167c(0x938)]=_0x4b167c(0x3ff),_0x236ba6[_0x4b167c(0x938)]='',_0x483aee['classList'][_0x4b167c(0x139)]('hidden');try{const _0x235fc9=doc(db,_0x4b167c(0x54c)+appId+_0x4b167c(0x685),_0x545ee3),_0x4353af=await getDoc(_0x235fc9);if(!_0x4353af[_0x4b167c(0x135)]())throw new Error(_0x4b167c(0x82d));const _0x3b69f5=_0x4353af[_0x4b167c(0x918)](),_0x3e3a29=_0x3b69f5['questions'][_0x4b167c(0x8f7)],_0x315976=collection(db,_0x4b167c(0x54c)+appId+_0x4b167c(0x4ae)+_0x3cb078+_0x4b167c(0x78e)),_0x24d339=collection(db,_0x4b167c(0x54c)+appId+_0x4b167c(0x4ae)+_0x545ee3+'/submissions'),[_0x405430,_0x2875e6]=await Promise['all']([getDocs(_0x315976),getDocs(_0x24d339)]),_0x19fdb0=_0x405430[_0x4b167c(0x9fe)][_0x4b167c(0x2cb)](_0x964961=>_0x964961[_0x4b167c(0x918)]()),_0x341b0b=_0x2875e6[_0x4b167c(0x9fe)][_0x4b167c(0x2cb)](_0x452583=>_0x452583['data']()),_0x46dfd5=_0x19fdb0[_0x4b167c(0x2cb)](_0xbb0f73=>_0xbb0f73[_0x4b167c(0x5ee)]),_0x3192e3=_0x341b0b[_0x4b167c(0x2cb)](_0x56f8f0=>_0x56f8f0[_0x4b167c(0x5ee)]),_0x350dea=calculateMeanAndStdDev(_0x46dfd5),_0x250879=calculateMeanAndStdDev(_0x3192e3),_0x34e3a8=_0x350dea[_0x4b167c(0x572)],_0xc56d60=_0x250879[_0x4b167c(0x572)],_0x23e2cb=_0xc56d60-_0x34e3a8;let _0x31c20a=_0x4b167c(0x8d1)+_0x34e3a8['toFixed'](0x2)+_0x4b167c(0x993)+_0xc56d60[_0x4b167c(0x702)](0x2)+_0x4b167c(0x265)+(_0x23e2cb>=0x0?_0x4b167c(0x7b0):_0x4b167c(0x9c6))+_0x4b167c(0x1f9)+(_0x23e2cb>=0x0?_0x4b167c(0x10c):_0x4b167c(0x61b))+_0x4b167c(0x719)+(_0x23e2cb>=0x0?_0x4b167c(0x4ef):'text-red-900')+'\x22>'+(_0x23e2cb>=0x0?'+':'')+_0x23e2cb['toFixed'](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>';_0x2f388e[_0x4b167c(0x938)]=_0x31c20a;const _0x50e96=document[_0x4b167c(0x893)]('comparison-chart')[_0x4b167c(0x112)]('2d');if(chartInstances[_0x4b167c(0x19e)])chartInstances['comparison'][_0x4b167c(0x220)]();chartInstances['comparison']=new Chart(_0x50e96,{'type':_0x4b167c(0xc7),'data':{'labels':[_0x4b167c(0x8cb)],'datasets':[{'label':'ก่อนเรียน','data':[_0x34e3a8],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':_0x4b167c(0x2ab),'data':[_0xc56d60],'backgroundColor':_0x4b167c(0x43b)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x3e3a29}}}});const _0x97c071=currentProjectData[_0x4b167c(0x67f)]||[],_0x98216c=_0x97c071[_0x4b167c(0x2cb)](_0x13523f=>{const _0x313e5a=_0x4b167c,_0x17465f=_0x19fdb0['find'](_0x28d823=>_0x28d823[_0x313e5a(0x8cd)]===_0x13523f),_0x41dd00=_0x341b0b[_0x313e5a(0x860)](_0x33e2a5=>_0x33e2a5['studentName']===_0x13523f),_0x5b7e40=_0x17465f?_0x17465f[_0x313e5a(0x5ee)]:null,_0x559693=_0x41dd00?_0x41dd00[_0x313e5a(0x5ee)]:null,_0x12aec8=_0x5b7e40!==null&&_0x559693!==null?_0x559693-_0x5b7e40:null,_0x269077=_0x5b7e40!==null?calculateZScore(_0x5b7e40,_0x350dea[_0x313e5a(0x572)],_0x350dea[_0x313e5a(0x847)]):null,_0x208022=_0x559693!==null?calculateZScore(_0x559693,_0x250879['mean'],_0x250879['stdDev']):null,_0x75b6d8=_0x269077!==null?calculateTScore(_0x269077):null,_0x41f375=_0x208022!==null?calculateTScore(_0x208022):null,_0x408600=_0x75b6d8!==null&&_0x41f375!==null?_0x41f375-_0x75b6d8:null;return{'name':_0x13523f,'preScore':_0x5b7e40,'postScore':_0x559693,'gain':_0x12aec8,'preTScore':_0x75b6d8,'postTScore':_0x41f375,'tGain':_0x408600};});renderIndividualComparisonTable(_0x98216c,_0x236ba6);}catch(_0x65e9a9){console['error']('Error\x20comparing\x20results:',_0x65e9a9),_0x2f388e[_0x4b167c(0x938)]=_0x4b167c(0x856);}}function displayHalfMarkResult(_0x42adee,_0x363608){const _0x26d162=_0x375675,_0x56b311=_0x42adee>=_0x363608/0x2,_0x30bfbd=_0x56b311?_0x26d162(0x2de):_0x26d162(0x9c6),_0x3db407=_0x56b311?_0x26d162(0x6f0):'<i\x20class=\x22fas\x20fa-times-circle\x20text-5xl\x20text-red-500\x20mb-4\x22></i>',_0x5d575f=_0x56b311?'text-green-800':_0x26d162(0x61b),_0x35177d=_0x56b311?'ทำคะแนนได้เกินครึ่ง':'คะแนนยังไม่ถึงครึ่ง',_0x2ad648=_0x56b311?_0x26d162(0x21a):'สู้ๆ\x20ลองอีกครั้งนะ';let _0x235a46=_0x26d162(0x77b)+_0x30bfbd+_0x26d162(0x443)+_0x3db407+_0x26d162(0x545)+_0x5d575f+_0x26d162(0x405)+_0x35177d+_0x26d162(0x710)+_0x2ad648+_0x26d162(0x4a5);studentResultArea[_0x26d162(0x938)]=_0x235a46,studentResultArea[_0x26d162(0x6a0)]['remove']('hidden'),studentQuizArea[_0x26d162(0x6a0)][_0x26d162(0x273)](_0x26d162(0x8c9)),setupResultScreenBackButton({'showRankings':![],'showImproveButton':!_0x56b311});}function displayPerfectScoreResult(_0x556338,_0x5ae2ec){const _0x351aa9=_0x375675,_0x507286=_0x556338===_0x5ae2ec,_0x25f18a=_0x507286?_0x351aa9(0x205):_0x351aa9(0x225),_0x138277=_0x507286?_0x351aa9(0x6bf):'<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-blue-500\x20mb-4\x22></i>',_0x7e3eea=_0x507286?_0x351aa9(0x782):_0x351aa9(0x4b3),_0x52f2c1=_0x507286?_0x351aa9(0x7dc):_0x351aa9(0x6b7),_0x349ee5=_0x507286?_0x351aa9(0x141):_0x351aa9(0x95f);let _0x109f74=_0x351aa9(0x77b)+_0x25f18a+'\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x138277+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20'+_0x7e3eea+'\x20mb-2\x22>'+_0x52f2c1+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>'+_0x349ee5+_0x351aa9(0x4a5);studentResultArea[_0x351aa9(0x938)]=_0x109f74,studentResultArea[_0x351aa9(0x6a0)][_0x351aa9(0x139)]('hidden'),studentQuizArea[_0x351aa9(0x6a0)]['add'](_0x351aa9(0x8c9)),setupResultScreenBackButton({'showRankings':![],'score':_0x556338,'totalQuestions':_0x5ae2ec});}function renderIndividualComparisonTable(_0x5cb274,_0x4c620e){const _0x4a06e4=_0x375675;_0x5cb274['sort']((_0xccfbbd,_0x1f4bd0)=>(_0x1f4bd0[_0x4a06e4(0x9e7)]??-Infinity)-(_0xccfbbd['tGain']??-Infinity));let _0x1d4d5b=_0x4a06e4(0x1ee);_0x5cb274[_0x4a06e4(0x8f7)]===0x0?_0x1d4d5b+='<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x5cb274[_0x4a06e4(0x1d9)]((_0x2f25de,_0x2230a4)=>{const _0x1e7a99=_0x4a06e4;let _0x4ec9d1='-',_0x4a8922='';if(_0x2f25de[_0x1e7a99(0x905)]!==null){const _0xdae767=_0x2f25de[_0x1e7a99(0x905)]>0x0?_0x1e7a99(0xeb):_0x2f25de[_0x1e7a99(0x905)]<0x0?_0x1e7a99(0x3b1):'text-gray-500',_0x3b7e7a=_0x2f25de[_0x1e7a99(0x905)]>0x0?'+':'';_0x4ec9d1='<span\x20class=\x22font-bold\x20'+_0xdae767+'\x22>'+_0x3b7e7a+_0x2f25de['gain']+'</span>';if(_0x2f25de[_0x1e7a99(0x905)]>0x0)_0x4a8922=_0x1e7a99(0x9e6);else _0x2f25de['gain']<0x0?_0x4a8922=_0x1e7a99(0x596):_0x4a8922=_0x1e7a99(0x4bf);}let _0x250df7='-';if(_0x2f25de[_0x1e7a99(0x9e7)]!==null){const _0x1ed35f=_0x2f25de[_0x1e7a99(0x9e7)]>0x0?_0x1e7a99(0xeb):_0x2f25de[_0x1e7a99(0x9e7)]<0x0?'text-red-600':'text-gray-500',_0x2a86c0=_0x2f25de[_0x1e7a99(0x9e7)]>0x0?'+':'';_0x250df7=_0x1e7a99(0x6e1)+_0x1ed35f+'\x22>'+_0x2a86c0+_0x2f25de[_0x1e7a99(0x9e7)][_0x1e7a99(0x702)](0x2)+'</span>';}_0x1d4d5b+=_0x1e7a99(0x79d)+(_0x2230a4+0x1)+_0x1e7a99(0x5ea)+_0x2f25de[_0x1e7a99(0x67c)]+_0x1e7a99(0x504)+(_0x2f25de[_0x1e7a99(0x2e0)]??'-')+_0x1e7a99(0x65d)+(_0x2f25de['postScore']??'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+_0x4ec9d1+_0x1e7a99(0x1d4)+_0x4a8922+_0x1e7a99(0x9bb)+(_0x2f25de[_0x1e7a99(0x432)]?.[_0x1e7a99(0x702)](0x2)??'-')+_0x1e7a99(0x941)+(_0x2f25de['postTScore']?.[_0x1e7a99(0x702)](0x2)??'-')+_0x1e7a99(0x504)+_0x250df7+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1d4d5b+=_0x4a06e4(0x4df),_0x4c620e[_0x4a06e4(0x938)]=_0x1d4d5b;}function handleRenameQuiz(_0x58865d,_0x4a48a6){const _0x23e9ec=_0x375675;actionTargetId=_0x58865d,document[_0x23e9ec(0x893)]('rename-quiz-input')[_0x23e9ec(0x106)]=_0x4a48a6,renameQuizModal[_0x23e9ec(0x6a0)]['remove'](_0x23e9ec(0x8c9));}function setupComparisonModalTabs(){const _0x40ec2a=_0x375675,_0x584f39=document[_0x40ec2a(0x893)](_0x40ec2a(0x751)),_0x4e20dc=document[_0x40ec2a(0x893)](_0x40ec2a(0x276)),_0x517dd8=document[_0x40ec2a(0x893)](_0x40ec2a(0x76d)),_0x40dff2=document[_0x40ec2a(0x893)](_0x40ec2a(0x855));_0x584f39['addEventListener'](_0x40ec2a(0x246),()=>{const _0x590fb9=_0x40ec2a;_0x584f39[_0x590fb9(0x6a0)][_0x590fb9(0x273)]('active'),_0x4e20dc[_0x590fb9(0x6a0)][_0x590fb9(0x139)](_0x590fb9(0x55d)),_0x517dd8[_0x590fb9(0x6a0)][_0x590fb9(0x139)](_0x590fb9(0x8c9)),_0x40dff2[_0x590fb9(0x6a0)][_0x590fb9(0x273)](_0x590fb9(0x8c9));}),_0x4e20dc[_0x40ec2a(0x15b)](_0x40ec2a(0x246),()=>{const _0x430098=_0x40ec2a;_0x4e20dc[_0x430098(0x6a0)][_0x430098(0x273)](_0x430098(0x55d)),_0x584f39['classList'][_0x430098(0x139)]('active'),_0x40dff2['classList'][_0x430098(0x139)](_0x430098(0x8c9)),_0x517dd8[_0x430098(0x6a0)][_0x430098(0x273)](_0x430098(0x8c9));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x5d7594=''){const _0x42f26a=_0x375675,_0x4d4ef4=document['getElementById'](_0x42f26a(0x438)),_0x2a09a8=_0x5d7594[_0x42f26a(0x3dc)]()['trim'](),_0x3e2a28=allQuizzesGlobal[_0x42f26a(0x2cb)](_0x11951a=>({..._0x11951a,'projectName':allProjects[_0x42f26a(0x860)](_0x289937=>_0x289937['id']===_0x11951a[_0x42f26a(0x862)])?.[_0x42f26a(0x772)]||_0x11951a[_0x42f26a(0x862)]}))[_0x42f26a(0x625)](_0xffa836=>(_0xffa836[_0x42f26a(0x903)]||'')[_0x42f26a(0x3dc)]()[_0x42f26a(0x5b5)](_0x2a09a8)||(_0xffa836['projectName']||'')[_0x42f26a(0x3dc)]()[_0x42f26a(0x5b5)](_0x2a09a8));document['getElementById'](_0x42f26a(0x6de))[_0x42f26a(0x490)]='('+_0x3e2a28[_0x42f26a(0x8f7)]+_0x42f26a(0x423),_0x4d4ef4[_0x42f26a(0x938)]=_0x3e2a28['length']?_0x3e2a28[_0x42f26a(0x2cb)](_0x3cf2a5=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3cf2a5['id']+_0x42f26a(0x6b5)+(_0x3cf2a5['topic']||_0x42f26a(0x2ba))+_0x42f26a(0x8ea)+(_0x3cf2a5[_0x42f26a(0x389)]?.[_0x42f26a(0x8f7)]||0x0)+'\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20'+_0x3cf2a5[_0x42f26a(0x772)]+_0x42f26a(0x749))[_0x42f26a(0x56f)](''):'<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',selectedGlobalQuizId=null,document[_0x42f26a(0x893)](_0x42f26a(0x13a))['disabled']=!![],_0x4d4ef4[_0x42f26a(0x814)](_0x42f26a(0x18e))['forEach'](_0x2349b9=>{const _0x25e102=_0x42f26a;_0x2349b9[_0x25e102(0x15b)](_0x25e102(0x246),()=>{const _0x1b036f=_0x25e102;selectedGlobalQuizId=_0x2349b9[_0x1b036f(0x40f)]['id'],_0x4d4ef4[_0x1b036f(0x814)]('button')[_0x1b036f(0x1d9)](_0xd7355a=>_0xd7355a[_0x1b036f(0x6a0)][_0x1b036f(0x139)](_0x1b036f(0x24c),_0x1b036f(0x446),_0x1b036f(0x4d4))),_0x2349b9['classList'][_0x1b036f(0x273)](_0x1b036f(0x24c),_0x1b036f(0x446),_0x1b036f(0x4d4)),document[_0x1b036f(0x893)](_0x1b036f(0x13a))[_0x1b036f(0x5fa)]=![];});});}function listenForLiveGameUpdates(){const _0x1b970e=_0x375675;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x293a64=doc(db,'artifacts/'+appId+_0x1b970e(0x3f2),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x293a64,_0x36440b=>{const _0x56cf0c=_0x1b970e;if(!_0x36440b[_0x56cf0c(0x135)]()){showMessage(_0x56cf0c(0x3bf)),showView(currentMode);return;}const _0x2bcb95=_0x36440b['data']();_0x2bcb95[_0x56cf0c(0x6c7)]&&(currentQuizData=_0x2bcb95['shuffledQuiz']);!currentQuizData&&_0x2bcb95['quizId']&&((async()=>{const _0x3f5f83=_0x56cf0c;try{const _0x61f169=doc(db,'artifacts/'+appId+_0x3f5f83(0x685),_0x2bcb95[_0x3f5f83(0x7b7)]),_0x95f0cb=await getDoc(_0x61f169);_0x95f0cb[_0x3f5f83(0x135)]()&&(currentQuizData={'id':_0x95f0cb['id'],..._0x95f0cb[_0x3f5f83(0x918)]()});}catch(_0x94ca15){console[_0x3f5f83(0x8f8)](_0x3f5f83(0x35b),_0x94ca15);}})());switch(_0x2bcb95[_0x56cf0c(0x9bc)]){case _0x56cf0c(0x2d6):if(currentMode===_0x56cf0c(0x594)){const _0x1406a7=_0x2bcb95[_0x56cf0c(0x1a7)]?Object['entries'](_0x2bcb95[_0x56cf0c(0x1a7)]):[],_0xc32ea3=_0x1406a7[_0x56cf0c(0x625)](([_0x514e85,_0x2f5731])=>_0x2f5731[_0x56cf0c(0x9bc)]===_0x56cf0c(0x55d)),_0x5530dc=document[_0x56cf0c(0x893)](_0x56cf0c(0x99c));if(_0x5530dc)_0x5530dc[_0x56cf0c(0x490)]=_0xc32ea3[_0x56cf0c(0x8f7)];const _0x1a6e83=document[_0x56cf0c(0x893)](_0x56cf0c(0x399));_0x1a6e83&&(_0x1a6e83[_0x56cf0c(0x938)]=_0xc32ea3[_0x56cf0c(0x2cb)](([_0x1affbc,_0x8a69ac])=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x1affbc+_0x56cf0c(0x833)+_0x1affbc+_0x56cf0c(0x1f4))[_0x56cf0c(0x56f)](''));const _0x371d7e=document[_0x56cf0c(0x893)](_0x56cf0c(0x23a));_0x371d7e&&(_0x371d7e[_0x56cf0c(0x5fa)]=_0xc32ea3[_0x56cf0c(0x8f7)]===0x0);}else showView(_0x56cf0c(0x54a)),liveGameView[_0x56cf0c(0x938)]='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;case _0x56cf0c(0x7d0):const _0x505f00=_0x2bcb95[_0x56cf0c(0x6ca)];if(currentQuizData&&currentQuizData[_0x56cf0c(0x389)][_0x505f00]){const _0x4f6be6=currentQuizData[_0x56cf0c(0x389)][_0x505f00],_0x422eb7=_0x2bcb95[_0x56cf0c(0x87d)]||'answering';switch(_0x422eb7){case _0x56cf0c(0x894):currentMode===_0x56cf0c(0x594)?showAdminSummaryView(_0x2bcb95,_0x4f6be6):showPlayerSummaryView(_0x2bcb95,currentStudentName);break;case _0x56cf0c(0x223):currentMode===_0x56cf0c(0x594)&&showTop5LeaderboardView(_0x2bcb95);break;case _0x56cf0c(0x539):default:if(currentMode===_0x56cf0c(0x594)){const _0x46118a=writeBatch(db);let _0x1d9064=![];Object['entries'](_0x2bcb95['players'])['forEach'](([_0x3d78dc,_0x516858])=>{const _0x49d016=_0x56cf0c;if(_0x516858['status']==='active'&&_0x516858[_0x49d016(0x72e)]&&!_0x516858[_0x49d016(0x5ef)]){_0x1d9064=!![];const _0x20ddc2=_0x516858[_0x49d016(0x72e)][_0x49d016(0x73a)]()-_0x2bcb95[_0x49d016(0xa13)][_0x49d016(0x73a)]();let _0x460f4a=0x0;if(_0x516858[_0x49d016(0x800)]){const _0x1a2ca8=0x3e8,_0x23b1b3=0x1f4,_0x389e4d=0x4e20;let _0x592f2b=_0x20ddc2/_0x389e4d;if(_0x592f2b>0x1)_0x592f2b=0x1;const _0x358c58=Math[_0x49d016(0x450)](_0x592f2b*_0x23b1b3);_0x460f4a=_0x1a2ca8-_0x358c58;}const _0x2665fd=doc(db,_0x49d016(0x54c)+appId+'/public/data/liveGames',currentLiveGameId);_0x46118a[_0x49d016(0x62b)](_0x2665fd,{[_0x49d016(0x983)+_0x3d78dc+_0x49d016(0x61f)]:increment(_0x460f4a),[_0x49d016(0x983)+_0x3d78dc+_0x49d016(0x709)]:_0x460f4a,[_0x49d016(0x983)+_0x3d78dc+_0x49d016(0x9e8)]:!![]});}});_0x1d9064&&_0x46118a[_0x56cf0c(0x194)]()[_0x56cf0c(0x185)](_0x457321=>console[_0x56cf0c(0x8f8)](_0x56cf0c(0x7b5),_0x457321));lastRenderedAdminQuestionIndex!==_0x505f00&&(showAdminLiveQuestionView(_0x4f6be6,_0x505f00,currentQuizData['questions'][_0x56cf0c(0x8f7)]),lastRenderedAdminQuestionIndex=_0x505f00);const _0x25aad9=_0x2bcb95[_0x56cf0c(0x1a7)]||{},_0xbd6d84=Object['values'](_0x25aad9)['filter'](_0x42db59=>_0x42db59[_0x56cf0c(0x9bc)]===_0x56cf0c(0x55d)),_0x11616b=_0xbd6d84[_0x56cf0c(0x8f7)],_0x4cf79b=_0xbd6d84['filter'](_0x15baf9=>_0x15baf9['answeredCurrentQuestion']===!![])[_0x56cf0c(0x8f7)],_0x3e2476=document['getElementById'](_0x56cf0c(0xfe));if(_0x3e2476)_0x3e2476[_0x56cf0c(0x490)]=_0x4cf79b+'/'+_0x11616b;const _0x457226=document[_0x56cf0c(0x893)](_0x56cf0c(0x3c5));if(_0x457226){let _0x28bba2=Object['entries'](_0x25aad9)[_0x56cf0c(0x625)](([_0x170c7b,_0x424914])=>_0x424914[_0x56cf0c(0x9bc)]==='active')['map'](([_0x5b4d9c,_0x243548])=>{const _0x5a87dd=_0x56cf0c,_0x1b8e7a=_0x243548[_0x5a87dd(0x50b)]===!![],_0x4df51a=_0x1b8e7a?_0x5a87dd(0x849):_0x5a87dd(0x436),_0x258c3b=_0x1b8e7a?_0x5a87dd(0x3c7):_0x5a87dd(0x603);return _0x5a87dd(0x19a)+_0x4df51a+_0x5a87dd(0x98d)+_0x258c3b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x5b4d9c+_0x5a87dd(0x2b9)+_0x5b4d9c+_0x5a87dd(0x3b5);})[_0x56cf0c(0x56f)]('');_0x457226[_0x56cf0c(0x938)]=_0x28bba2||_0x56cf0c(0x949);}_0x11616b>0x0&&_0x4cf79b===_0x11616b&&revealAnswerForAdmin(_0x505f00,currentQuizData[_0x56cf0c(0x389)]['length']);}else{const _0x193b04=_0x2bcb95['players'][currentStudentName];_0x193b04&&!_0x193b04[_0x56cf0c(0x50b)]&&showStudentLiveQuestionView(_0x4f6be6,_0x505f00,currentQuizData[_0x56cf0c(0x389)]['length']);}break;}}break;case _0x56cf0c(0x16e):showPodiumView(_0x2bcb95['players'],'live-race');break;}});}async function handleKickPlayer(_0x5079d7){const _0x1f626d=_0x375675;if(!currentLiveGameId||!_0x5079d7)return;const _0x3cb596=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId),_0x4fa781={};_0x4fa781[_0x1f626d(0x983)+_0x5079d7+_0x1f626d(0x2cd)]=_0x1f626d(0x906);try{await updateDoc(_0x3cb596,_0x4fa781);}catch(_0xa15da5){console[_0x1f626d(0x8f8)](_0x1f626d(0x586)+_0x5079d7+':',_0xa15da5),showMessage(_0x1f626d(0x3bc));}}async function authenticateUser(){const _0x4f4fca=_0x375675;try{typeof __initial_auth_token!==_0x4f4fca(0x810)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x7bf8c9){console[_0x4f4fca(0x8f8)](_0x4f4fca(0x8e9),_0x7bf8c9),showMessage(_0x4f4fca(0x520));}}function showView(_0x151a68){const _0x1f1582=_0x375675;adminView['classList'][_0x1f1582(0x273)]('hidden'),studentView['classList'][_0x1f1582(0x273)](_0x1f1582(0x8c9)),projectDashboardView[_0x1f1582(0x6a0)][_0x1f1582(0x273)](_0x1f1582(0x8c9)),projectDetailView[_0x1f1582(0x6a0)][_0x1f1582(0x273)]('hidden'),quizResultsView[_0x1f1582(0x6a0)][_0x1f1582(0x273)]('hidden'),liveGameView[_0x1f1582(0x6a0)][_0x1f1582(0x273)]('hidden'),studentInitialView[_0x1f1582(0x6a0)][_0x1f1582(0x273)]('hidden'),studentJoinGameView[_0x1f1582(0x6a0)][_0x1f1582(0x273)](_0x1f1582(0x8c9)),studentNameSelectionView[_0x1f1582(0x6a0)][_0x1f1582(0x273)]('hidden'),studentQuizArea['classList'][_0x1f1582(0x273)](_0x1f1582(0x8c9)),studentResultArea['classList'][_0x1f1582(0x273)]('hidden'),studentReadingArea['classList']['add'](_0x1f1582(0x8c9));const _0x36e252=document[_0x1f1582(0x893)](_0x1f1582(0x7ff)),_0x56ffac=document['getElementById']('student-progress-view');if(_0x36e252)_0x36e252[_0x1f1582(0x6a0)][_0x1f1582(0x273)](_0x1f1582(0x8c9));if(_0x56ffac)_0x56ffac[_0x1f1582(0x6a0)]['add'](_0x1f1582(0x8c9));switch(_0x151a68){case _0x1f1582(0x29f):adminView[_0x1f1582(0x6a0)][_0x1f1582(0x139)](_0x1f1582(0x8c9)),projectDashboardView[_0x1f1582(0x6a0)][_0x1f1582(0x139)](_0x1f1582(0x8c9));break;case'project-detail':adminView[_0x1f1582(0x6a0)][_0x1f1582(0x139)](_0x1f1582(0x8c9)),projectDetailView[_0x1f1582(0x6a0)]['remove']('hidden');break;case'quiz-results':adminView[_0x1f1582(0x6a0)][_0x1f1582(0x139)](_0x1f1582(0x8c9)),quizResultsView[_0x1f1582(0x6a0)]['remove'](_0x1f1582(0x8c9));break;case'student':studentView[_0x1f1582(0x6a0)][_0x1f1582(0x139)]('hidden'),studentInitialView['classList'][_0x1f1582(0x139)]('hidden');break;case _0x1f1582(0x54a):liveGameView[_0x1f1582(0x6a0)][_0x1f1582(0x139)]('hidden');break;case _0x1f1582(0x93a):studentView[_0x1f1582(0x6a0)][_0x1f1582(0x139)](_0x1f1582(0x8c9));if(_0x36e252)_0x36e252['classList'][_0x1f1582(0x139)]('hidden');break;case _0x1f1582(0x89b):studentView['classList'][_0x1f1582(0x139)](_0x1f1582(0x8c9));if(_0x56ffac)_0x56ffac[_0x1f1582(0x6a0)][_0x1f1582(0x139)]('hidden');break;default:studentView[_0x1f1582(0x6a0)][_0x1f1582(0x139)](_0x1f1582(0x8c9)),studentInitialView['classList'][_0x1f1582(0x139)](_0x1f1582(0x8c9));break;}}function showJoinGameView(){const _0x3559ec=_0x375675;studentInitialView[_0x3559ec(0x6a0)][_0x3559ec(0x273)](_0x3559ec(0x8c9)),studentJoinGameView[_0x3559ec(0x6a0)]['remove']('hidden');}async function handleSaveVisibilitySettings(){const _0x5c94d0=_0x375675;if(!currentProjectId)return;const _0x4d7d5a=doc(db,_0x5c94d0(0x54c)+appId+_0x5c94d0(0x556),currentProjectId);try{await updateDoc(_0x4d7d5a,{'settings.showInStudentDashboard':document[_0x5c94d0(0x893)](_0x5c94d0(0x591))[_0x5c94d0(0x33c)],'settings.isPasscodeEnabled':document[_0x5c94d0(0x893)](_0x5c94d0(0x7ed))[_0x5c94d0(0x33c)],'settings.passcode':document[_0x5c94d0(0x893)](_0x5c94d0(0x61e))[_0x5c94d0(0x106)][_0x5c94d0(0x517)]()}),showMessage('บันทึกการตั้งค่าการแสดงผลสำเร็จ');}catch(_0x470d0f){console[_0x5c94d0(0x8f8)](_0x5c94d0(0x181),_0x470d0f),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function setupEventListeners(){const _0x673e06=_0x375675,_0x5c754b=document[_0x673e06(0x893)](_0x673e06(0x2fc)),_0x53ac09=document[_0x673e06(0x893)](_0x673e06(0x1ed));_0x5c754b[_0x673e06(0x15b)](_0x673e06(0x152),()=>{const _0x469792=_0x673e06;_0x53ac09[_0x469792(0x6a0)][_0x469792(0x2fe)]('hidden',!_0x5c754b[_0x469792(0x33c)]);});const _0x385e16=document[_0x673e06(0x893)](_0x673e06(0x42a)),_0x57ed1d=document[_0x673e06(0x893)](_0x673e06(0x579));_0x385e16['addEventListener']('change',()=>{const _0x5d69ea=_0x673e06;_0x57ed1d['classList']['toggle'](_0x5d69ea(0x8c9),!_0x385e16['checked']);});const _0x50b9ca=document['getElementById'](_0x673e06(0x342)),_0x24747f=document[_0x673e06(0x893)](_0x673e06(0x550));_0x50b9ca[_0x673e06(0x15b)](_0x673e06(0x152),()=>{const _0x4af06c=_0x673e06;_0x24747f[_0x4af06c(0x6a0)]['toggle']('hidden',!_0x50b9ca[_0x4af06c(0x33c)]);});const _0x2967c7=document['getElementById']('confidence-modal'),_0x10dff5=async _0x1f1b2a=>{const _0x2974f3=_0x673e06,_0x3b65f3=document[_0x2974f3(0x893)]('confidence-modal'),_0x50e964=_0x3b65f3[_0x2974f3(0x40f)]['currentMode'],_0x4852e6=document['getElementById']('selected-answer-index-hidden');_0x3b65f3[_0x2974f3(0x6a0)]['add'](_0x2974f3(0x8c9));if(_0x50e964==='timed'){const _0x14ed87=_0x4852e6[_0x2974f3(0x106)],_0x302470={'answer':_0x14ed87,'wasConfident':_0x1f1b2a};proceedToNextQuestion(_0x302470);}else{if(_0x50e964==='sync'){const _0x3c4335=_0x4852e6[_0x2974f3(0x40f)][_0x2974f3(0x5bc)],_0x6e7884=JSON[_0x2974f3(0x95e)](_0x4852e6[_0x2974f3(0x40f)][_0x2974f3(0x7d0)]),_0x24a4ea=JSON[_0x2974f3(0x95e)](_0x4852e6['dataset'][_0x2974f3(0x244)]),_0x27fb91=_0x4852e6[_0x2974f3(0x40f)][_0x2974f3(0x9e2)];handleSyncAnswerSubmit(_0x3c4335,_0x6e7884,_0x24a4ea,_0x27fb91,_0x1f1b2a);}}_0x3b65f3['dataset'][_0x2974f3(0x5a9)]='';};document[_0x673e06(0x893)](_0x673e06(0x2c4))['addEventListener'](_0x673e06(0x246),()=>_0x10dff5(!![])),document[_0x673e06(0x893)](_0x673e06(0x96d))['addEventListener'](_0x673e06(0x246),()=>_0x10dff5(![])),liveGameView[_0x673e06(0x15b)]('click',_0x123476=>{const _0x103483=_0x673e06,_0xa7305=_0x123476[_0x103483(0x7df)][_0x103483(0x6c3)](_0x103483(0x6b1));if(_0xa7305){const _0x10cd08=_0xa7305[_0x103483(0x40f)][_0x103483(0x9e2)];_0x10cd08&&handleKickPlayerSync(_0x10cd08);}});const _0x545ffe=document[_0x673e06(0x893)](_0x673e06(0x5ad)),_0x15c5d0=document[_0x673e06(0x893)](_0x673e06(0x1aa));_0x15c5d0[_0x673e06(0x15b)]('click',()=>{const _0x40ff0e=_0x673e06;document['getElementById'](_0x40ff0e(0x1cb))[_0x40ff0e(0x6a0)][_0x40ff0e(0x273)](_0x40ff0e(0x8c9));}),_0x545ffe[_0x673e06(0x15b)]('click',()=>{const _0x4d0c48=_0x673e06,_0x584281=document['getElementById']('game-start-quiz-id')['value'],_0x1a6590=document['getElementById'](_0x4d0c48(0x7b4))[_0x4d0c48(0x106)],_0x740a6a=document[_0x4d0c48(0x893)](_0x4d0c48(0x875))[_0x4d0c48(0x33c)];document['getElementById'](_0x4d0c48(0x1cb))[_0x4d0c48(0x6a0)][_0x4d0c48(0x273)](_0x4d0c48(0x8c9));switch(_0x1a6590){case'live-race':handleStartLiveRace(_0x584281,_0x740a6a);break;case _0x4d0c48(0x6da):handleStartTeamQuiz(_0x584281,_0x740a6a);break;case'group':handleStartGroupMode(_0x584281,_0x740a6a);break;case _0x4d0c48(0x50c):handleStartSyncMode(_0x584281,_0x740a6a);break;}}),document[_0x673e06(0x893)](_0x673e06(0x289))[_0x673e06(0x15b)](_0x673e06(0x246),handleJoinGroupActivity),liveGameView[_0x673e06(0x15b)]('click',_0x502cd1=>{const _0x4a823b=_0x673e06,_0x24456c=_0x502cd1[_0x4a823b(0x7df)][_0x4a823b(0x6c3)]('.summary-bar-item');document[_0x4a823b(0x814)](_0x4a823b(0x29e))[_0x4a823b(0x1d9)](_0x5aec51=>{const _0x1bcb69=_0x4a823b;(!_0x24456c||_0x5aec51['id']!==_0x24456c[_0x1bcb69(0x40f)]['tooltipTarget'])&&_0x5aec51[_0x1bcb69(0x6a0)][_0x1bcb69(0x139)](_0x1bcb69(0x17a));});if(!_0x24456c)return;const _0x42e6e7=_0x24456c['dataset']['tooltipTarget'],_0x42ce96=document[_0x4a823b(0x893)](_0x42e6e7);_0x42ce96&&_0x42ce96['classList'][_0x4a823b(0x2fe)](_0x4a823b(0x17a));}),liveGameView['addEventListener'](_0x673e06(0x246),_0xcc66d2=>{const _0x41ebe7=_0x673e06;if(_0xcc66d2[_0x41ebe7(0x7df)][_0x41ebe7(0x6a0)][_0x41ebe7(0x8a3)]('kick-player-btn')){const _0x491025=_0xcc66d2[_0x41ebe7(0x7df)]['dataset']['playerName'];_0x491025&&handleKickPlayer(_0x491025);}}),document[_0x673e06(0x893)](_0x673e06(0x9d0))['addEventListener'](_0x673e06(0x2f2),()=>document['getElementById'](_0x673e06(0x455))[_0x673e06(0x6a0)][_0x673e06(0x139)](_0x673e06(0x8c9))),document['getElementById']('save-project-name-btn')[_0x673e06(0x15b)](_0x673e06(0x246),handleSaveProjectName),document['getElementById']('project-title')[_0x673e06(0x15b)](_0x673e06(0x832),_0x59915b=>{const _0xec084d=_0x673e06;_0x59915b[_0xec084d(0xc1)]===_0xec084d(0x4e9)&&(_0x59915b[_0xec084d(0x972)](),_0x59915b[_0xec084d(0x7df)][_0xec084d(0x1ab)](),handleSaveProjectName());}),document[_0x673e06(0x893)](_0x673e06(0x22e))[_0x673e06(0x15b)](_0x673e06(0x246),()=>{const _0x5321fc=_0x673e06;document['getElementById']('bulk-quiz-settings-modal')[_0x5321fc(0x6a0)]['remove']('hidden');}),document['getElementById'](_0x673e06(0x889))['addEventListener'](_0x673e06(0x246),()=>{const _0x4c1d8e=_0x673e06;document[_0x4c1d8e(0x893)]('bulk-quiz-settings-modal')[_0x4c1d8e(0x6a0)][_0x4c1d8e(0x273)](_0x4c1d8e(0x8c9));}),document[_0x673e06(0x893)]('confirm-bulk-quiz-settings-btn')[_0x673e06(0x15b)](_0x673e06(0x246),handleBulkUpdateQuizSettings),document[_0x673e06(0x893)](_0x673e06(0x3e5))['addEventListener'](_0x673e06(0x246),handleModeSwitch),document[_0x673e06(0x893)](_0x673e06(0x632))[_0x673e06(0x15b)](_0x673e06(0x246),handleUpdateOldQuizzes),document[_0x673e06(0x893)]('reset-project-order-btn')[_0x673e06(0x15b)]('click',handleResetProjectOrder),document['getElementById'](_0x673e06(0x5b7))[_0x673e06(0x15b)]('click',handleSaveVisibilitySettings),document[_0x673e06(0x893)](_0x673e06(0x1bc))[_0x673e06(0x15b)](_0x673e06(0x246),handleAddCustomMathTopic),document[_0x673e06(0x893)]('select-all-topics-btn')[_0x673e06(0x15b)](_0x673e06(0x246),handleSelectAllTopics),document[_0x673e06(0x893)]('deselect-all-topics-btn')[_0x673e06(0x15b)](_0x673e06(0x246),handleDeselectAllTopics),document[_0x673e06(0x893)](_0x673e06(0x286))[_0x673e06(0x15b)](_0x673e06(0x246),()=>{const _0x106aeb=_0x673e06;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x106aeb(0x29f));}),document[_0x673e06(0x893)](_0x673e06(0x821))['addEventListener']('click',()=>{const _0x1c86db=_0x673e06;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x1c86db(0x31c));}),document[_0x673e06(0x893)](_0x673e06(0xbc))[_0x673e06(0x15b)](_0x673e06(0x246),()=>{const _0x20e470=_0x673e06;showView(_0x20e470(0x29f));}),document['getElementById'](_0x673e06(0x2f8))[_0x673e06(0x15b)](_0x673e06(0x246),()=>{const _0x4bae95=_0x673e06;messageModal[_0x4bae95(0x6a0)][_0x4bae95(0x273)](_0x4bae95(0x8c9)),typeof modalConfirmAction===_0x4bae95(0x771)&&(modalConfirmAction(),modalConfirmAction=null);}),document['getElementById'](_0x673e06(0x8c1))[_0x673e06(0x15b)](_0x673e06(0x246),()=>createProjectModal[_0x673e06(0x6a0)][_0x673e06(0x139)](_0x673e06(0x8c9))),document['getElementById']('cancel-create-project-btn')[_0x673e06(0x15b)](_0x673e06(0x246),()=>createProjectModal[_0x673e06(0x6a0)][_0x673e06(0x273)](_0x673e06(0x8c9))),document[_0x673e06(0x893)]('cancel-admin-login-btn')[_0x673e06(0x15b)](_0x673e06(0x246),()=>adminPasswordModal[_0x673e06(0x6a0)][_0x673e06(0x273)](_0x673e06(0x8c9))),document[_0x673e06(0x893)](_0x673e06(0x59e))[_0x673e06(0x15b)](_0x673e06(0x246),handleAdminLogin),document[_0x673e06(0x893)]('admin-password-input')[_0x673e06(0x15b)](_0x673e06(0x431),_0x576917=>{if(_0x576917['key']==='Enter')handleAdminLogin();}),document[_0x673e06(0x893)]('cancel-delete-btn')['addEventListener']('click',()=>{const _0x32bb01=_0x673e06;confirmationModal['classList'][_0x32bb01(0x273)](_0x32bb01(0x8c9)),confirmAction=null;}),document[_0x673e06(0x893)](_0x673e06(0x4a9))[_0x673e06(0x15b)](_0x673e06(0x246),()=>{const _0x379460=_0x673e06;confirmAction&&confirmAction(),confirmationModal[_0x379460(0x6a0)][_0x379460(0x273)](_0x379460(0x8c9)),confirmAction=null;}),document['getElementById']('cancel-rename-quiz-btn')['addEventListener'](_0x673e06(0x246),()=>renameQuizModal['classList'][_0x673e06(0x273)]('hidden')),document[_0x673e06(0x893)]('confirm-rename-quiz-btn')[_0x673e06(0x15b)](_0x673e06(0x246),confirmRenameQuiz),document[_0x673e06(0x893)](_0x673e06(0x7c3))[_0x673e06(0x15b)]('click',()=>moveQuizModal[_0x673e06(0x6a0)][_0x673e06(0x273)]('hidden')),document['getElementById'](_0x673e06(0x90b))[_0x673e06(0x15b)](_0x673e06(0x246),confirmMoveQuiz),document[_0x673e06(0x893)](_0x673e06(0x5a8))[_0x673e06(0x15b)](_0x673e06(0x246),()=>quizSettingsModal[_0x673e06(0x6a0)][_0x673e06(0x273)](_0x673e06(0x8c9))),document[_0x673e06(0x893)]('confirm-quiz-settings-btn')[_0x673e06(0x15b)]('click',confirmQuizSettings),document[_0x673e06(0x893)](_0x673e06(0x927))[_0x673e06(0x15b)](_0x673e06(0x246),()=>quizStatusModal['classList'][_0x673e06(0x273)](_0x673e06(0x8c9))),document[_0x673e06(0x893)]('confirm-quiz-status-btn')[_0x673e06(0x15b)]('click',confirmQuizStatus);const _0x4eb378=document[_0x673e06(0x893)]('export-pdf-modal');document[_0x673e06(0x893)](_0x673e06(0x815))[_0x673e06(0x15b)]('click',()=>{const _0x3bf772=_0x673e06;_0x4eb378[_0x3bf772(0x6a0)][_0x3bf772(0x273)](_0x3bf772(0x8c9));}),document['getElementById']('export-compact-pdf-btn')['addEventListener'](_0x673e06(0x246),async()=>{const _0x240a2b=_0x673e06,_0x3ead73=allQuizzes[_0x240a2b(0x860)](_0x721ed7=>_0x721ed7['id']===actionTargetId);_0x3ead73?(currentQuizData=_0x3ead73,exportQuizAsWorksheetPDF()):showMessage(_0x240a2b(0x66a)),_0x4eb378[_0x240a2b(0x6a0)]['add'](_0x240a2b(0x8c9));}),document[_0x673e06(0x893)](_0x673e06(0x4b6))[_0x673e06(0x15b)](_0x673e06(0x246),async()=>{const _0x2b3cd3=_0x673e06,_0x211145=allQuizzes['find'](_0x377455=>_0x377455['id']===actionTargetId);_0x211145?(currentQuizData=_0x211145,exportQuizAsTutorPDF()):showMessage('ไม่พบข้อมูลแบบทดสอบ'),_0x4eb378[_0x2b3cd3(0x6a0)][_0x2b3cd3(0x273)](_0x2b3cd3(0x8c9));}),document[_0x673e06(0x893)]('open-global-live-btn')[_0x673e06(0x15b)](_0x673e06(0x246),openGlobalLiveModal),document[_0x673e06(0x893)](_0x673e06(0xa15))[_0x673e06(0x15b)](_0x673e06(0x246),()=>{const _0x4c47c0=_0x673e06;document['getElementById'](_0x4c47c0(0x842))[_0x4c47c0(0x6a0)][_0x4c47c0(0x273)]('hidden'),selectedGlobalQuizId=null;}),document['getElementById'](_0x673e06(0x4a0))[_0x673e06(0x15b)](_0x673e06(0x485),_0x455f18=>renderGlobalQuizList(_0x455f18[_0x673e06(0x7df)]['value'])),document['getElementById'](_0x673e06(0x13a))['addEventListener']('click',()=>{const _0x2d0297=_0x673e06,_0x57ad81=selectedGlobalQuizId;if(!_0x57ad81)return;document['getElementById'](_0x2d0297(0x842))[_0x2d0297(0x6a0)]['add']('hidden'),handleStartLiveRace(_0x57ad81);}),document[_0x673e06(0x893)](_0x673e06(0x2a0))[_0x673e06(0x15b)](_0x673e06(0x485),renderProjects),document[_0x673e06(0x893)](_0x673e06(0x9e0))[_0x673e06(0x15b)](_0x673e06(0x152),async()=>{const _0x47859b=_0x673e06,_0x224ce5=document[_0x47859b(0x893)]('project-sort-select')['value'],_0xf10b7f=doc(db,'globalSettings',_0x47859b(0x361));try{await setDoc(_0xf10b7f,{'projectSort':_0x224ce5},{'merge':!![]});}catch(_0x5b65e3){console[_0x47859b(0x8f8)](_0x47859b(0x8e0),_0x5b65e3),showMessage(_0x47859b(0x32a));}}),document[_0x673e06(0x893)](_0x673e06(0x7f9))[_0x673e06(0x15b)](_0x673e06(0x485),renderQuizzes),document[_0x673e06(0x893)](_0x673e06(0x3ef))[_0x673e06(0x15b)](_0x673e06(0x246),()=>{const _0x3667b2=_0x673e06;globalDashboardSettings[_0x3667b2(0x50d)]=_0x3667b2(0xf0),saveUserPreference(_0x3667b2(0x50d),_0x3667b2(0xf0)),renderProjects();}),document[_0x673e06(0x893)](_0x673e06(0x80b))[_0x673e06(0x15b)](_0x673e06(0x246),()=>{const _0x4df0cf=_0x673e06;globalDashboardSettings[_0x4df0cf(0x50d)]=_0x4df0cf(0x5a4),saveUserPreference(_0x4df0cf(0x50d),_0x4df0cf(0x5a4)),renderProjects();}),manageTab['addEventListener'](_0x673e06(0x246),()=>switchProjectTab('manage')),resultsTab[_0x673e06(0x15b)](_0x673e06(0x246),()=>switchProjectTab(_0x673e06(0x492))),leaderboardTab['addEventListener'](_0x673e06(0x246),()=>switchProjectTab('leaderboard')),document[_0x673e06(0x893)](_0x673e06(0x9c1))[_0x673e06(0x15b)]('click',()=>switchQuizDetailTab('analytics')),document[_0x673e06(0x893)](_0x673e06(0x991))[_0x673e06(0x15b)](_0x673e06(0x246),()=>switchQuizDetailTab('scores')),document[_0x673e06(0x893)](_0x673e06(0x448))[_0x673e06(0x15b)](_0x673e06(0x246),()=>switchQuizDetailTab(_0x673e06(0x154))),document[_0x673e06(0x893)]('behavior-log-tab-btn')[_0x673e06(0x15b)](_0x673e06(0x246),()=>switchQuizDetailTab(_0x673e06(0x30b))),document['getElementById']('analyze-strengths-btn')['addEventListener'](_0x673e06(0x246),handleAnalyzeClass),generateWorksheetBtn[_0x673e06(0x15b)](_0x673e06(0x246),generateWorksheet);const _0x17c215=document['getElementById']('link-tab'),_0xc7edd8=document[_0x673e06(0x893)](_0x673e06(0x4ee)),_0x2dfc85=document['getElementById'](_0x673e06(0x47e)),_0x333021=document[_0x673e06(0x893)]('blueprint-input-area'),_0x416484=document[_0x673e06(0x893)](_0x673e06(0x296)),_0x2299de=document[_0x673e06(0x893)](_0x673e06(0x209));topicTab[_0x673e06(0x15b)](_0x673e06(0x246),()=>{const _0x21a26e=_0x673e06;topicTab[_0x21a26e(0x6a0)]['add'](_0x21a26e(0x55d)),textTab[_0x21a26e(0x6a0)][_0x21a26e(0x139)]('active'),fileTab[_0x21a26e(0x6a0)][_0x21a26e(0x139)](_0x21a26e(0x55d)),worksheetTab[_0x21a26e(0x6a0)][_0x21a26e(0x139)](_0x21a26e(0x55d));if(_0x17c215)_0x17c215[_0x21a26e(0x6a0)][_0x21a26e(0x139)]('active');if(_0x2dfc85)_0x2dfc85[_0x21a26e(0x6a0)][_0x21a26e(0x139)](_0x21a26e(0x55d));if(_0x416484)_0x416484['classList'][_0x21a26e(0x139)](_0x21a26e(0x55d));topicInputArea[_0x21a26e(0x6a0)][_0x21a26e(0x139)](_0x21a26e(0x8c9)),textInputArea[_0x21a26e(0x6a0)][_0x21a26e(0x273)](_0x21a26e(0x8c9)),fileInputArea['classList'][_0x21a26e(0x273)](_0x21a26e(0x8c9)),worksheetInputArea['classList']['add'](_0x21a26e(0x8c9));if(_0xc7edd8)_0xc7edd8[_0x21a26e(0x6a0)][_0x21a26e(0x273)](_0x21a26e(0x8c9));if(_0x333021)_0x333021[_0x21a26e(0x6a0)][_0x21a26e(0x273)]('hidden');if(_0x2299de)_0x2299de[_0x21a26e(0x6a0)][_0x21a26e(0x273)](_0x21a26e(0x8c9));}),textTab[_0x673e06(0x15b)]('click',()=>{const _0x2ebedc=_0x673e06;textTab['classList'][_0x2ebedc(0x273)](_0x2ebedc(0x55d)),topicTab[_0x2ebedc(0x6a0)]['remove'](_0x2ebedc(0x55d)),fileTab[_0x2ebedc(0x6a0)][_0x2ebedc(0x139)](_0x2ebedc(0x55d)),worksheetTab[_0x2ebedc(0x6a0)][_0x2ebedc(0x139)](_0x2ebedc(0x55d));if(_0x17c215)_0x17c215['classList'][_0x2ebedc(0x139)](_0x2ebedc(0x55d));if(_0x2dfc85)_0x2dfc85['classList'][_0x2ebedc(0x139)](_0x2ebedc(0x55d));if(_0x416484)_0x416484[_0x2ebedc(0x6a0)]['remove'](_0x2ebedc(0x55d));textInputArea[_0x2ebedc(0x6a0)][_0x2ebedc(0x139)](_0x2ebedc(0x8c9)),topicInputArea[_0x2ebedc(0x6a0)][_0x2ebedc(0x273)](_0x2ebedc(0x8c9)),fileInputArea[_0x2ebedc(0x6a0)][_0x2ebedc(0x273)](_0x2ebedc(0x8c9)),worksheetInputArea[_0x2ebedc(0x6a0)][_0x2ebedc(0x273)](_0x2ebedc(0x8c9));if(_0xc7edd8)_0xc7edd8[_0x2ebedc(0x6a0)]['add'](_0x2ebedc(0x8c9));if(_0x333021)_0x333021[_0x2ebedc(0x6a0)][_0x2ebedc(0x273)](_0x2ebedc(0x8c9));if(_0x2299de)_0x2299de['classList']['add']('hidden');}),fileTab[_0x673e06(0x15b)](_0x673e06(0x246),()=>{const _0xfc1d32=_0x673e06;fileTab[_0xfc1d32(0x6a0)][_0xfc1d32(0x273)]('active'),topicTab[_0xfc1d32(0x6a0)]['remove'](_0xfc1d32(0x55d)),textTab[_0xfc1d32(0x6a0)][_0xfc1d32(0x139)](_0xfc1d32(0x55d)),worksheetTab['classList'][_0xfc1d32(0x139)](_0xfc1d32(0x55d));if(_0x17c215)_0x17c215[_0xfc1d32(0x6a0)][_0xfc1d32(0x139)](_0xfc1d32(0x55d));if(_0x2dfc85)_0x2dfc85[_0xfc1d32(0x6a0)][_0xfc1d32(0x139)](_0xfc1d32(0x55d));if(_0x416484)_0x416484[_0xfc1d32(0x6a0)]['remove']('active');fileInputArea[_0xfc1d32(0x6a0)][_0xfc1d32(0x139)](_0xfc1d32(0x8c9)),topicInputArea[_0xfc1d32(0x6a0)]['add']('hidden'),textInputArea['classList']['add'](_0xfc1d32(0x8c9)),worksheetInputArea['classList'][_0xfc1d32(0x273)](_0xfc1d32(0x8c9));if(_0xc7edd8)_0xc7edd8[_0xfc1d32(0x6a0)]['add']('hidden');if(_0x333021)_0x333021[_0xfc1d32(0x6a0)][_0xfc1d32(0x273)](_0xfc1d32(0x8c9));if(_0x2299de)_0x2299de[_0xfc1d32(0x6a0)][_0xfc1d32(0x273)](_0xfc1d32(0x8c9));}),worksheetTab[_0x673e06(0x15b)](_0x673e06(0x246),()=>{const _0x44d79c=_0x673e06;worksheetTab['classList'][_0x44d79c(0x273)](_0x44d79c(0x55d)),topicTab[_0x44d79c(0x6a0)][_0x44d79c(0x139)]('active'),textTab[_0x44d79c(0x6a0)][_0x44d79c(0x139)](_0x44d79c(0x55d)),fileTab[_0x44d79c(0x6a0)][_0x44d79c(0x139)](_0x44d79c(0x55d));if(_0x17c215)_0x17c215['classList']['remove'](_0x44d79c(0x55d));if(_0x2dfc85)_0x2dfc85[_0x44d79c(0x6a0)][_0x44d79c(0x139)](_0x44d79c(0x55d));if(_0x416484)_0x416484[_0x44d79c(0x6a0)][_0x44d79c(0x139)](_0x44d79c(0x55d));worksheetInputArea[_0x44d79c(0x6a0)][_0x44d79c(0x139)](_0x44d79c(0x8c9)),topicInputArea['classList'][_0x44d79c(0x273)](_0x44d79c(0x8c9)),textInputArea[_0x44d79c(0x6a0)][_0x44d79c(0x273)]('hidden'),fileInputArea[_0x44d79c(0x6a0)][_0x44d79c(0x273)](_0x44d79c(0x8c9));if(_0xc7edd8)_0xc7edd8[_0x44d79c(0x6a0)][_0x44d79c(0x273)](_0x44d79c(0x8c9));if(_0x333021)_0x333021['classList']['add'](_0x44d79c(0x8c9));if(_0x2299de)_0x2299de[_0x44d79c(0x6a0)][_0x44d79c(0x273)](_0x44d79c(0x8c9));});const _0x11c4ed=document[_0x673e06(0x893)](_0x673e06(0x211)),_0x2feb52=document['getElementById']('bank-input-area');_0x11c4ed&&_0x11c4ed[_0x673e06(0x15b)](_0x673e06(0x246),()=>{const _0x1ae940=_0x673e06;topicTab[_0x1ae940(0x6a0)][_0x1ae940(0x139)](_0x1ae940(0x55d)),textTab[_0x1ae940(0x6a0)][_0x1ae940(0x139)](_0x1ae940(0x55d)),fileTab[_0x1ae940(0x6a0)][_0x1ae940(0x139)](_0x1ae940(0x55d)),worksheetTab[_0x1ae940(0x6a0)][_0x1ae940(0x139)](_0x1ae940(0x55d));if(_0x17c215)_0x17c215['classList'][_0x1ae940(0x139)]('active');if(_0x2dfc85)_0x2dfc85['classList']['remove']('active');if(_0x416484)_0x416484['classList'][_0x1ae940(0x139)](_0x1ae940(0x55d));_0x11c4ed[_0x1ae940(0x6a0)][_0x1ae940(0x273)](_0x1ae940(0x55d)),topicInputArea['classList'][_0x1ae940(0x273)](_0x1ae940(0x8c9)),textInputArea[_0x1ae940(0x6a0)]['add'](_0x1ae940(0x8c9)),fileInputArea[_0x1ae940(0x6a0)][_0x1ae940(0x273)](_0x1ae940(0x8c9)),worksheetInputArea[_0x1ae940(0x6a0)][_0x1ae940(0x273)](_0x1ae940(0x8c9));if(_0xc7edd8)_0xc7edd8[_0x1ae940(0x6a0)]['add'](_0x1ae940(0x8c9));if(_0x333021)_0x333021[_0x1ae940(0x6a0)][_0x1ae940(0x273)](_0x1ae940(0x8c9));if(_0x2299de)_0x2299de['classList'][_0x1ae940(0x273)](_0x1ae940(0x8c9));_0x2feb52[_0x1ae940(0x6a0)][_0x1ae940(0x139)](_0x1ae940(0x8c9)),displayQuestionBank();});_0x17c215&&(_0x17c215[_0x673e06(0x15b)](_0x673e06(0x246),()=>{const _0x3a5115=_0x673e06;_0x17c215[_0x3a5115(0x6a0)][_0x3a5115(0x273)]('active'),topicTab[_0x3a5115(0x6a0)]['remove']('active'),textTab[_0x3a5115(0x6a0)]['remove'](_0x3a5115(0x55d)),fileTab[_0x3a5115(0x6a0)][_0x3a5115(0x139)]('active'),worksheetTab['classList']['remove'](_0x3a5115(0x55d));if(_0x2dfc85)_0x2dfc85[_0x3a5115(0x6a0)]['remove']('active');if(_0x416484)_0x416484[_0x3a5115(0x6a0)]['remove'](_0x3a5115(0x55d));_0xc7edd8[_0x3a5115(0x6a0)][_0x3a5115(0x139)](_0x3a5115(0x8c9)),topicInputArea[_0x3a5115(0x6a0)][_0x3a5115(0x273)](_0x3a5115(0x8c9)),textInputArea[_0x3a5115(0x6a0)]['add'](_0x3a5115(0x8c9)),fileInputArea[_0x3a5115(0x6a0)][_0x3a5115(0x273)](_0x3a5115(0x8c9)),worksheetInputArea[_0x3a5115(0x6a0)][_0x3a5115(0x273)](_0x3a5115(0x8c9));if(_0x333021)_0x333021[_0x3a5115(0x6a0)][_0x3a5115(0x273)](_0x3a5115(0x8c9));if(_0x2299de)_0x2299de[_0x3a5115(0x6a0)][_0x3a5115(0x273)](_0x3a5115(0x8c9));}),document['getElementById'](_0x673e06(0x1c8))[_0x673e06(0x15b)](_0x673e06(0x246),handleGenerateFromLink));_0x2dfc85&&_0x2dfc85['addEventListener']('click',()=>{const _0x5636bb=_0x673e06;_0x2dfc85[_0x5636bb(0x6a0)][_0x5636bb(0x273)](_0x5636bb(0x55d)),topicTab[_0x5636bb(0x6a0)][_0x5636bb(0x139)](_0x5636bb(0x55d)),textTab[_0x5636bb(0x6a0)][_0x5636bb(0x139)](_0x5636bb(0x55d)),fileTab[_0x5636bb(0x6a0)][_0x5636bb(0x139)](_0x5636bb(0x55d)),worksheetTab['classList'][_0x5636bb(0x139)](_0x5636bb(0x55d));if(_0x17c215)_0x17c215[_0x5636bb(0x6a0)][_0x5636bb(0x139)](_0x5636bb(0x55d));if(_0x11c4ed)_0x11c4ed[_0x5636bb(0x6a0)][_0x5636bb(0x139)](_0x5636bb(0x55d));if(_0x416484)_0x416484['classList']['remove'](_0x5636bb(0x55d));_0x333021[_0x5636bb(0x6a0)][_0x5636bb(0x139)](_0x5636bb(0x8c9)),topicInputArea[_0x5636bb(0x6a0)]['add'](_0x5636bb(0x8c9)),textInputArea[_0x5636bb(0x6a0)][_0x5636bb(0x273)](_0x5636bb(0x8c9)),fileInputArea[_0x5636bb(0x6a0)]['add']('hidden'),worksheetInputArea[_0x5636bb(0x6a0)][_0x5636bb(0x273)](_0x5636bb(0x8c9));if(_0xc7edd8)_0xc7edd8[_0x5636bb(0x6a0)][_0x5636bb(0x273)](_0x5636bb(0x8c9));if(_0x2feb52)_0x2feb52['classList'][_0x5636bb(0x273)]('hidden');if(_0x2299de)_0x2299de[_0x5636bb(0x6a0)][_0x5636bb(0x273)](_0x5636bb(0x8c9));});_0x416484&&_0x416484[_0x673e06(0x15b)](_0x673e06(0x246),()=>{const _0x1adc18=_0x673e06;_0x416484[_0x1adc18(0x6a0)]['add'](_0x1adc18(0x55d)),topicTab['classList'][_0x1adc18(0x139)](_0x1adc18(0x55d)),textTab[_0x1adc18(0x6a0)]['remove'](_0x1adc18(0x55d)),fileTab[_0x1adc18(0x6a0)][_0x1adc18(0x139)](_0x1adc18(0x55d)),worksheetTab[_0x1adc18(0x6a0)][_0x1adc18(0x139)](_0x1adc18(0x55d));if(_0x17c215)_0x17c215['classList']['remove'](_0x1adc18(0x55d));if(_0x2dfc85)_0x2dfc85[_0x1adc18(0x6a0)][_0x1adc18(0x139)](_0x1adc18(0x55d));if(_0x11c4ed)_0x11c4ed[_0x1adc18(0x6a0)][_0x1adc18(0x139)](_0x1adc18(0x55d));_0x2299de[_0x1adc18(0x6a0)][_0x1adc18(0x139)](_0x1adc18(0x8c9)),topicInputArea[_0x1adc18(0x6a0)][_0x1adc18(0x273)](_0x1adc18(0x8c9)),textInputArea[_0x1adc18(0x6a0)][_0x1adc18(0x273)](_0x1adc18(0x8c9)),fileInputArea['classList'][_0x1adc18(0x273)](_0x1adc18(0x8c9)),worksheetInputArea[_0x1adc18(0x6a0)][_0x1adc18(0x273)](_0x1adc18(0x8c9));if(_0xc7edd8)_0xc7edd8[_0x1adc18(0x6a0)][_0x1adc18(0x273)](_0x1adc18(0x8c9));if(_0x333021)_0x333021[_0x1adc18(0x6a0)][_0x1adc18(0x273)](_0x1adc18(0x8c9));if(_0x2feb52)_0x2feb52[_0x1adc18(0x6a0)][_0x1adc18(0x273)]('hidden');});const _0x283df2=document[_0x673e06(0x893)](_0x673e06(0x221)),_0x5bda8f=document[_0x673e06(0x893)]('generate-from-blueprint-btn');_0x283df2&&_0x283df2['addEventListener']('change',_0x44e154=>{const _0x4a086f=_0x673e06;_0x44e154[_0x4a086f(0x7df)][_0x4a086f(0x916)][_0x4a086f(0x8f7)]>0x0?_0x5bda8f[_0x4a086f(0x5fa)]=![]:_0x5bda8f['disabled']=!![];});_0x5bda8f&&_0x5bda8f[_0x673e06(0x15b)](_0x673e06(0x246),handleGenerateFromBlueprint);const _0x517d3f=document['getElementById']('parallel-test-upload-input'),_0x308128=document['getElementById'](_0x673e06(0x500));_0x517d3f&&_0x517d3f['addEventListener'](_0x673e06(0x152),_0x9a63b2=>{const _0x889495=_0x673e06;_0x308128[_0x889495(0x5fa)]=_0x9a63b2[_0x889495(0x7df)][_0x889495(0x916)][_0x889495(0x8f7)]===0x0;});_0x308128&&_0x308128[_0x673e06(0x15b)]('click',handleGenerateParallelTest);loadQuizBtn[_0x673e06(0x15b)](_0x673e06(0x246),handleLoadQuiz),startQuizBtn[_0x673e06(0x15b)](_0x673e06(0x246),async()=>{const _0x84d14e=_0x673e06,_0x808bd2=document[_0x84d14e(0x893)]('student-name-select');currentStudentName=_0x808bd2['value'];if(!currentStudentName){showMessage(_0x84d14e(0x948));return;}try{const _0x4a04ba=currentQuizData['id'],_0x116e92=doc(db,_0x84d14e(0x54c)+appId+_0x84d14e(0x4ae)+_0x4a04ba+_0x84d14e(0x78e),currentStudentName),_0x862787=await getDoc(_0x116e92);!_0x862787['exists']()?await setDoc(_0x116e92,{'studentName':currentStudentName,'startedAt':new Date()['toISOString'](),'behaviorLog':[],'attempts':[]}):await updateDoc(_0x116e92,{'startedAt':new Date()['toISOString']()});}catch(_0xbefeb1){console[_0x84d14e(0x8f8)]('Failed\x20to\x20create/update\x20submission\x20record:',_0xbefeb1),showMessage(_0x84d14e(0x3b2));return;}studentNameSelectionView[_0x84d14e(0x6a0)][_0x84d14e(0x273)](_0x84d14e(0x8c9)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x673e06(0x893)]('join-live-game-btn')['addEventListener']('click',showJoinGameView),document['getElementById']('confirm-join-game-btn')[_0x673e06(0x15b)](_0x673e06(0x246),handleJoinLiveGame),document[_0x673e06(0x893)]('back-to-student-initial-btn')[_0x673e06(0x15b)](_0x673e06(0x246),()=>showView(_0x673e06(0x41b)));const _0x34b42d=()=>{const _0xa673e3=_0x673e06,_0x158950=document[_0xa673e3(0x893)](_0xa673e3(0xbd))[_0xa673e3(0x490)][_0xa673e3(0x2fa)](/[^a-z0-9]/gi,'_')[_0xa673e3(0x3dc)]();return _0xa673e3(0x952)+(_0x158950||'quiz');},_0x3a712c=document[_0x673e06(0x893)]('math-topic-search-input');_0x3a712c&&_0x3a712c['addEventListener']('input',_0x13d726=>{const _0x51263c=_0x673e06,_0x302838=_0x13d726[_0x51263c(0x7df)][_0x51263c(0x106)][_0x51263c(0x3dc)]()[_0x51263c(0x517)](),_0x3fb225=document[_0x51263c(0x893)](_0x51263c(0x183)),_0x5c3db0=_0x3fb225[_0x51263c(0x814)](_0x51263c(0x5e1));_0x5c3db0['forEach'](_0x4de484=>{const _0x121bde=_0x51263c;let _0x2d5c9b=![];const _0x48cf49=_0x4de484[_0x121bde(0x814)](_0x121bde(0x35d));_0x48cf49['forEach'](_0xe7f632=>{const _0x5debb5=_0x121bde,_0x18db32=_0xe7f632[_0x5debb5(0x173)](_0x5debb5(0x14e))[_0x5debb5(0x490)]['toLowerCase']();_0x18db32[_0x5debb5(0x5b5)](_0x302838)?(_0xe7f632['style'][_0x5debb5(0x858)]=_0x5debb5(0x105),_0x2d5c9b=!![]):_0xe7f632[_0x5debb5(0x4e7)][_0x5debb5(0x858)]='none';}),_0x2d5c9b?_0x4de484['style']['display']='block':_0x4de484[_0x121bde(0x4e7)][_0x121bde(0x858)]='none';});});document['getElementById'](_0x673e06(0x527))[_0x673e06(0x15b)]('click',()=>exportTableAsImage(_0x673e06(0xdb),_0x34b42d())),document['getElementById'](_0x673e06(0x4c9))['addEventListener'](_0x673e06(0x246),()=>exportTableAsPDF(_0x673e06(0x683),_0x34b42d())),document['getElementById'](_0x673e06(0x791))[_0x673e06(0x15b)]('click',()=>exportTableAsWord(_0x673e06(0xdb),_0x34b42d())),document[_0x673e06(0x893)](_0x673e06(0x55c))[_0x673e06(0x15b)]('click',()=>exportTableAsExcel(_0x673e06(0x683),_0x34b42d()));const _0xb5e9c1=()=>{const _0xf26662=_0x673e06,_0x4d30b5=document[_0xf26662(0x893)](_0xf26662(0xbd))[_0xf26662(0x490)][_0xf26662(0x2fa)](/[^a-z0-9]/gi,'_')['toLowerCase']();return'leaderboard_'+(_0x4d30b5||_0xf26662(0x498));};document[_0x673e06(0x893)](_0x673e06(0x6c8))[_0x673e06(0x15b)]('click',()=>exportTableAsImage(_0x673e06(0x2d9),_0xb5e9c1())),document[_0x673e06(0x893)](_0x673e06(0x37f))['addEventListener'](_0x673e06(0x246),()=>exportTableAsPDF(_0x673e06(0x65c),_0xb5e9c1())),document[_0x673e06(0x893)](_0x673e06(0x6fc))['addEventListener'](_0x673e06(0x246),()=>exportTableAsWord(_0x673e06(0x2d9),_0xb5e9c1())),document[_0x673e06(0x893)]('export-leaderboard-excel-btn')[_0x673e06(0x15b)](_0x673e06(0x246),()=>exportTableAsExcel(_0x673e06(0x65c),_0xb5e9c1())),projectQuizzesList['addEventListener'](_0x673e06(0x246),async _0x22f6dc=>{const _0xc86ad=_0x673e06,_0x433240=_0x22f6dc[_0xc86ad(0x7df)]['closest']('.quiz-result-card'),_0x40917a=_0x22f6dc[_0xc86ad(0x7df)][_0xc86ad(0x6c3)]('.generate-post-test-btn'),_0x27fabd=_0x22f6dc[_0xc86ad(0x7df)][_0xc86ad(0x6c3)](_0xc86ad(0x4d5)),_0x1e4b4a=_0x22f6dc[_0xc86ad(0x7df)][_0xc86ad(0x6c3)](_0xc86ad(0x313)),_0x37e0fe=_0x22f6dc[_0xc86ad(0x7df)][_0xc86ad(0x6c3)](_0xc86ad(0x42d)),_0x812d0c=_0x22f6dc[_0xc86ad(0x7df)][_0xc86ad(0x6c3)](_0xc86ad(0x4be)),_0x247ce3=_0x22f6dc['target'][_0xc86ad(0x6c3)](_0xc86ad(0x8f1)),_0x40a798=_0x22f6dc[_0xc86ad(0x7df)][_0xc86ad(0x6c3)]('.quiz-settings-btn'),_0x50c9c3=_0x22f6dc[_0xc86ad(0x7df)][_0xc86ad(0x6c3)](_0xc86ad(0x374)),_0x5eb31d=_0x22f6dc[_0xc86ad(0x7df)][_0xc86ad(0x6c3)]('.rename-quiz-btn'),_0x6e06d=_0x22f6dc['target'][_0xc86ad(0x6c3)]('.parallel-quiz-btn'),_0x2c4a7d=_0x22f6dc[_0xc86ad(0x7df)][_0xc86ad(0x6c3)](_0xc86ad(0x38c)),_0x2f976d=_0x22f6dc[_0xc86ad(0x7df)]['closest'](_0xc86ad(0x6cb)),_0x244724=_0x22f6dc[_0xc86ad(0x7df)][_0xc86ad(0x6c3)](_0xc86ad(0xd0)),_0x55665a=_0x22f6dc[_0xc86ad(0x7df)][_0xc86ad(0x6c3)]('.start-presentation-list-btn'),_0x4bdf5c=_0x22f6dc[_0xc86ad(0x7df)]['closest'](_0xc86ad(0x1a2)),_0x218552=_0x22f6dc[_0xc86ad(0x7df)][_0xc86ad(0x6c3)](_0xc86ad(0x124)),_0x3297f1=_0x22f6dc['target'][_0xc86ad(0x6c3)]('.delete-quiz-btn'),_0x326eca=_0x22f6dc[_0xc86ad(0x7df)]['closest']('.quiz-status-btn'),_0x335c3a=_0x22f6dc['target'][_0xc86ad(0x6c3)](_0xc86ad(0x136)),_0x96360c=_0x22f6dc[_0xc86ad(0x7df)][_0xc86ad(0x6c3)](_0xc86ad(0x54d)),_0x3170b3=_0x22f6dc[_0xc86ad(0x7df)][_0xc86ad(0x6c3)](_0xc86ad(0x48c)),_0x16f967=_0x22f6dc['target'][_0xc86ad(0x6c3)]('.start-live-race-btn');if(_0x3170b3){const _0x5b11ec=_0x3170b3[_0xc86ad(0x40f)]['quizId'],_0x2520d8=_0x3170b3[_0xc86ad(0x40f)][_0xc86ad(0x8ae)],_0x2ded2d=allQuizzes[_0xc86ad(0x860)](_0x1ea27d=>_0x1ea27d['id']===_0x5b11ec);_0x2ded2d&&showGameStartConfirmationModal(_0x5b11ec,_0x2520d8,_0x2ded2d[_0xc86ad(0x903)]);}else{if(_0x16f967){const _0x9fa382=_0x16f967[_0xc86ad(0x40f)][_0xc86ad(0x7b7)];handleStartLiveRace(_0x9fa382);}else{if(_0x335c3a){const _0x452fbb=_0x335c3a[_0xc86ad(0x40f)][_0xc86ad(0x7b7)],_0x2334a8=document[_0xc86ad(0x893)](_0xc86ad(0x360)+_0x452fbb);_0x2334a8&&_0x2334a8[_0xc86ad(0x6a0)]['toggle'](_0xc86ad(0x8c9));}else{if(_0x40917a){const _0x92945a=_0x40917a[_0xc86ad(0x40f)]['quizId'],_0x466b8e=allQuizzes[_0xc86ad(0x860)](_0x51d2b9=>_0x51d2b9['id']===_0x92945a);_0x466b8e&&handleGenerateParallelPostTest(_0x466b8e);}else{if(_0x27fabd)handleCompareResults(_0x27fabd['dataset'][_0xc86ad(0x7b7)],_0x27fabd['dataset']['preTestId']);else{if(_0x1e4b4a){const _0x2489ce=_0x1e4b4a['dataset'][_0xc86ad(0x7b7)],_0x12103c=allQuizzes[_0xc86ad(0x860)](_0x56e6ed=>_0x56e6ed['id']===_0x2489ce);_0x12103c&&_0x12103c['lessonPlan']?(displayLessonPlan(_0x12103c[_0xc86ad(0x602)],_0x12103c),showConfirmation(_0xc86ad(0x406),()=>handleGenerateLessonPlan(_0x2489ce)),document[_0xc86ad(0x893)](_0xc86ad(0x8de))[_0xc86ad(0x173)]('h3')[_0xc86ad(0x490)]=_0xc86ad(0xdc),document[_0xc86ad(0x893)](_0xc86ad(0x4a9))[_0xc86ad(0x490)]=_0xc86ad(0x703)):handleGenerateLessonPlan(_0x2489ce);}else{if(_0x37e0fe)handleToggleStarQuiz(_0x37e0fe[_0xc86ad(0x40f)][_0xc86ad(0x7b7)]);else{if(_0x812d0c)copyTextToClipboard(_0x812d0c[_0xc86ad(0x40f)][_0xc86ad(0x7b7)],_0xc86ad(0x812));else{if(_0x247ce3)handleOpenQuizEditor(_0x247ce3['dataset'][_0xc86ad(0x7b7)]);else{if(_0x40a798)handleQuizSettings(_0x40a798[_0xc86ad(0x40f)]['quizId']);else{if(_0x50c9c3)handleDuplicateQuiz(_0x50c9c3[_0xc86ad(0x40f)][_0xc86ad(0x7b7)]);else{if(_0x5eb31d)handleRenameQuiz(_0x5eb31d[_0xc86ad(0x40f)]['quizId'],_0x5eb31d[_0xc86ad(0x40f)][_0xc86ad(0x903)]);else{if(_0x6e06d){const _0x870c08=_0x6e06d[_0xc86ad(0x40f)][_0xc86ad(0x7b7)],_0x3549b6=allQuizzes[_0xc86ad(0x860)](_0x14a895=>_0x14a895['id']===_0x870c08);_0x3549b6&&handleGenerateParallelFromBank(_0x3549b6);}else{if(_0x2c4a7d)handleMoveQuiz(_0x2c4a7d['dataset'][_0xc86ad(0x7b7)]);else{if(_0x2f976d)handleManualQuizPairing(_0x2f976d[_0xc86ad(0x40f)][_0xc86ad(0x7b7)]);else{if(_0x244724)handleUnpairQuiz(_0x244724[_0xc86ad(0x40f)]['quizId']);else{if(_0x55665a){const _0x13ca35=_0x55665a[_0xc86ad(0x40f)]['quizId'],_0x8e90d5=allQuizzes['find'](_0x3f8c43=>_0x3f8c43['id']===_0x13ca35);if(_0x8e90d5)startPresentation(_0x8e90d5);}else{if(_0x4bdf5c){const _0x367fee=_0x4bdf5c[_0xc86ad(0x40f)][_0xc86ad(0x7b7)],_0x5f3c2b=allQuizzes[_0xc86ad(0x860)](_0x4e9bbe=>_0x4e9bbe['id']===_0x367fee);_0x5f3c2b&&(currentQuizData=_0x5f3c2b,startAdminTest());}else{if(_0x218552)actionTargetId=_0x218552[_0xc86ad(0x40f)]['quizId'],document['getElementById'](_0xc86ad(0x2d0))[_0xc86ad(0x6a0)][_0xc86ad(0x139)](_0xc86ad(0x8c9));else{if(_0x3297f1)showConfirmation(_0xc86ad(0x119)+_0x3297f1['dataset'][_0xc86ad(0x903)]+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0x3297f1[_0xc86ad(0x40f)][_0xc86ad(0x7b7)]));else{if(_0x326eca)handleQuizStatus(_0x326eca[_0xc86ad(0x40f)]['quizId']);else{if(_0x96360c)handleGenerateEasyVersionQuiz(_0x96360c['dataset']['quizId']);else _0x433240&&showQuizDetailView(_0x433240[_0xc86ad(0x40f)]['quizId']);}}}}}}}}}}}}}}}}}}}}}}),document[_0x673e06(0x893)](_0x673e06(0x58b))[_0x673e06(0x15b)](_0x673e06(0x246),()=>showView('student')),document[_0x673e06(0x893)](_0x673e06(0x390))[_0x673e06(0x15b)](_0x673e06(0x246),confirmAndStartTeamQuiz),document['getElementById'](_0x673e06(0x65c))['querySelector'](_0x673e06(0x6e3))[_0x673e06(0x15b)]('click',_0x447cda=>{const _0x1ed8a6=_0x673e06,_0x15da2d=_0x447cda[_0x1ed8a6(0x7df)][_0x1ed8a6(0x6c3)](_0x1ed8a6(0x95b));if(!_0x15da2d||!_0x15da2d[_0x1ed8a6(0x40f)][_0x1ed8a6(0x4d7)])return;const _0x395c9a=_0x15da2d[_0x1ed8a6(0x40f)]['sort'];if(quizLeaderboardSortBy===_0x395c9a)quizLeaderboardSortOrder=quizLeaderboardSortOrder==='asc'?_0x1ed8a6(0x53c):_0x1ed8a6(0x9f5);else{quizLeaderboardSortBy=_0x395c9a;const _0x2451cb=[_0x1ed8a6(0x8cd)];quizLeaderboardSortOrder=_0x2451cb[_0x1ed8a6(0x5b5)](_0x395c9a)?_0x1ed8a6(0x9f5):_0x1ed8a6(0x53c);}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x1ed8a6(0x6f2));}),document[_0x673e06(0x893)](_0x673e06(0x411))[_0x673e06(0x15b)](_0x673e06(0x246),closePresentation),document['getElementById'](_0x673e06(0x52c))[_0x673e06(0x15b)](_0x673e06(0x246),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x673e06(0x893)](_0x673e06(0x398))[_0x673e06(0x15b)](_0x673e06(0x246),()=>{const _0xafbe0c=_0x673e06;currentQuizData[_0xafbe0c(0x389)]&&currentPresentationSlide<currentQuizData[_0xafbe0c(0x389)]['length']-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document[_0x673e06(0x15b)](_0x673e06(0x467),()=>{const _0x5b217a=_0x673e06;!document[_0x5b217a(0x14a)]&&(presentationModal[_0x5b217a(0x4e7)]['display']='none');}),document[_0x673e06(0x893)](_0x673e06(0x51f))[_0x673e06(0x15b)](_0x673e06(0x246),handleDeleteAllStudents),studentList['addEventListener'](_0x673e06(0x246),_0x36c085=>{const _0x39e602=_0x673e06,_0x2d64e2=_0x36c085[_0x39e602(0x7df)]['closest'](_0x39e602(0x4da));if(_0x2d64e2){const _0x48fd04=_0x2d64e2[_0x39e602(0x40f)][_0x39e602(0x8cd)];handleDeleteStudent(_0x48fd04);}}),document[_0x673e06(0x893)](_0x673e06(0x9cc))[_0x673e06(0x15b)](_0x673e06(0x246),handleGenerateFromFileClick),fileUploadInput['addEventListener'](_0x673e06(0x152),_0x415601=>{const _0x4929f8=_0x673e06,_0x2b5366=_0x415601[_0x4929f8(0x7df)]['files'][0x0],_0x2a9283=document[_0x4929f8(0x893)](_0x4929f8(0x9cc));_0x2b5366?(selectedFile=_0x2b5366,_0x2a9283['disabled']=![]):(selectedFile=null,_0x2a9283[_0x4929f8(0x5fa)]=!![]);}),document[_0x673e06(0x893)]('timer-mode-select')[_0x673e06(0x15b)]('change',_0x3f7b78=>{const _0x25209a=_0x673e06,_0x32c38b=document[_0x25209a(0x893)]('timer-duration-container'),_0x3d99f0=document[_0x25209a(0x893)](_0x25209a(0x33a)),_0x5d6ef1=document[_0x25209a(0x893)](_0x25209a(0xda));_0x3f7b78[_0x25209a(0x7df)][_0x25209a(0x106)]===_0x25209a(0x951)?_0x32c38b[_0x25209a(0x6a0)][_0x25209a(0x273)]('hidden'):(_0x32c38b[_0x25209a(0x6a0)][_0x25209a(0x139)]('hidden'),_0x3f7b78['target'][_0x25209a(0x106)]===_0x25209a(0x3b8)?(_0x3d99f0[_0x25209a(0x490)]=_0x25209a(0x1ba),_0x5d6ef1[_0x25209a(0x106)]='10'):(_0x3d99f0['textContent']=_0x25209a(0x530),_0x5d6ef1[_0x25209a(0x106)]='30'));}),document[_0x673e06(0x893)](_0x673e06(0x3ea))[_0x673e06(0x15b)]('change',_0x4a6e4f=>{const _0xa1c5b7=_0x673e06,_0x3bd012=document[_0xa1c5b7(0x893)](_0xa1c5b7(0x469)),_0x110534=_0x4a6e4f[_0xa1c5b7(0x7df)][_0xa1c5b7(0x106)],_0x11a647=document[_0xa1c5b7(0x173)](_0xa1c5b7(0x4d2)),_0x1846d6=document[_0xa1c5b7(0x893)]('passing-score-input'),_0x674c73=document['getElementById'](_0xa1c5b7(0x6ed));_0x110534===_0xa1c5b7(0x5e6)?_0x11a647[_0xa1c5b7(0x490)]=_0xa1c5b7(0x31b):_0x11a647['textContent']=_0xa1c5b7(0x74d),_0x110534==='multiple_choice'||_0x110534===_0xa1c5b7(0x22c)||_0x110534===_0xa1c5b7(0x303)?_0x3bd012[_0xa1c5b7(0x6a0)][_0xa1c5b7(0x139)](_0xa1c5b7(0x8c9)):_0x3bd012[_0xa1c5b7(0x6a0)]['add'](_0xa1c5b7(0x8c9)),_0x1846d6['max']=_0x674c73[_0xa1c5b7(0x106)];}),document['getElementById'](_0x673e06(0x6ed))[_0x673e06(0x15b)](_0x673e06(0x485),_0x37a4da=>{const _0x5dfc06=_0x673e06;document[_0x5dfc06(0x893)](_0x5dfc06(0x260))[_0x5dfc06(0xf3)]=_0x37a4da['target'][_0x5dfc06(0x106)];}),document[_0x673e06(0x893)](_0x673e06(0x98b))[_0x673e06(0x15b)](_0x673e06(0x152),_0x345bc2=>{const _0x34a02f=_0x673e06,_0x12ef1d=document['getElementById'](_0x34a02f(0x149)),_0x419d59=document[_0x34a02f(0x893)](_0x34a02f(0x9ae)),_0x20f4f9=document[_0x34a02f(0x893)](_0x34a02f(0x8f9));_0x345bc2['target']['value']===_0x34a02f(0x951)?_0x12ef1d[_0x34a02f(0x6a0)]['add'](_0x34a02f(0x8c9)):(_0x12ef1d[_0x34a02f(0x6a0)][_0x34a02f(0x139)](_0x34a02f(0x8c9)),_0x345bc2[_0x34a02f(0x7df)][_0x34a02f(0x106)]===_0x34a02f(0x3b8)?_0x419d59['textContent']='ระยะเวลา\x20(นาที):':_0x419d59[_0x34a02f(0x490)]=_0x34a02f(0x530));}),document['getElementById'](_0x673e06(0x91a))[_0x673e06(0x15b)](_0x673e06(0x246),()=>{const _0x7e2217=_0x673e06;document[_0x7e2217(0x893)](_0x7e2217(0x5d2))[_0x7e2217(0x6a0)][_0x7e2217(0x273)](_0x7e2217(0x8c9));}),document[_0x673e06(0x893)]('cancel-quiz-edits-btn-footer')[_0x673e06(0x15b)](_0x673e06(0x246),()=>{const _0x5eb0fd=_0x673e06;document[_0x5eb0fd(0x893)](_0x5eb0fd(0x5d2))[_0x5eb0fd(0x6a0)][_0x5eb0fd(0x273)](_0x5eb0fd(0x8c9));}),document[_0x673e06(0x893)](_0x673e06(0x57f))['addEventListener'](_0x673e06(0x246),handleVerifyAnswersInEditor),document[_0x673e06(0x893)]('save-quiz-edits-btn')['addEventListener']('click',()=>{const _0x7e6d41=_0x673e06;document['getElementById'](_0x7e6d41(0x5d2))[_0x7e6d41(0x6a0)][_0x7e6d41(0x273)](_0x7e6d41(0x8c9)),showConfirmation(_0x7e6d41(0x224),handleSaveChanges);}),document[_0x673e06(0x893)](_0x673e06(0x90d))[_0x673e06(0x15b)](_0x673e06(0x246),handleAutoFixLatex);const _0x238045=document['getElementById']('quiz-editor-questions-container');_0x238045&&_0x238045['addEventListener'](_0x673e06(0x246),_0x288b24=>{const _0x268c50=_0x673e06,_0x2b1c66=_0x288b24[_0x268c50(0x7df)][_0x268c50(0x6c3)](_0x268c50(0x7c6)),_0x2b99fd=_0x288b24[_0x268c50(0x7df)]['closest'](_0x268c50(0x96a));if(_0x2b1c66){const _0x1bfd8a=_0x2b1c66[_0x268c50(0x6c3)](_0x268c50(0x9ba)),_0x444e4c=parseInt(_0x1bfd8a[_0x268c50(0x40f)][_0x268c50(0x338)],0xa);handleRegenerateQuestionInEditor(_0x444e4c);}else{if(_0x2b99fd){const _0x484fd5=_0x2b99fd[_0x268c50(0x6c3)](_0x268c50(0x9ba)),_0x4dfd0e=parseInt(_0x484fd5[_0x268c50(0x40f)][_0x268c50(0x338)],0xa);handleAiFixFormula(_0x4dfd0e);}}});document[_0x673e06(0x893)](_0x673e06(0x2c2))[_0x673e06(0x15b)](_0x673e06(0x246),openQuizBankModal),document[_0x673e06(0x893)](_0x673e06(0x25d))[_0x673e06(0x15b)](_0x673e06(0x246),()=>{const _0x5cd158=_0x673e06;document[_0x5cd158(0x893)](_0x5cd158(0x3a3))[_0x5cd158(0x6a0)][_0x5cd158(0x273)](_0x5cd158(0x8c9));}),document['getElementById'](_0x673e06(0x967))[_0x673e06(0x15b)](_0x673e06(0x485),_0x432aea=>renderQuizBankList(_0x432aea[_0x673e06(0x7df)]['value']));const _0x56ff1e=document[_0x673e06(0x893)](_0x673e06(0x183));if(_0x56ff1e){let _0x4d2184=null;_0x56ff1e[_0x673e06(0x15b)](_0x673e06(0x246),_0x3cc440=>{const _0x5e591c=_0x673e06,_0x2e2ebf=_0x3cc440['target'],_0xc4c5fb=_0x2e2ebf[_0x5e591c(0x6c3)](_0x5e591c(0x3a5)),_0x3f36c7=_0x2e2ebf[_0x5e591c(0x6c3)](_0x5e591c(0x1f8)),_0x1bf23a=_0x2e2ebf[_0x5e591c(0x6c3)]('.save-custom-topic-btn'),_0x16fb98=_0x2e2ebf[_0x5e591c(0x6c3)](_0x5e591c(0x4e3));if(_0x3f36c7){_0x3cc440[_0x5e591c(0x972)]();const _0x20b0b9=_0x3f36c7[_0x5e591c(0x40f)]['id'],_0x394770=_0x3f36c7[_0x5e591c(0x6c3)](_0x5e591c(0x1eb))[_0x5e591c(0x173)]('.topic-name-display')[_0x5e591c(0x490)];showConfirmation(_0x5e591c(0x29b)+_0x394770+'\x22?',()=>handleDeleteCustomTopic(_0x20b0b9));}else{if(_0xc4c5fb){_0x3cc440[_0x5e591c(0x972)]();_0x4d2184&&toggleTopicEditMode(_0x4d2184,![]);const _0xb5d312=_0xc4c5fb[_0x5e591c(0x6c3)](_0x5e591c(0x681));_0x4d2184=_0xb5d312,toggleTopicEditMode(_0xb5d312,!![]);}else{if(_0x1bf23a){_0x3cc440[_0x5e591c(0x972)]();const _0x43ce36=_0x1bf23a[_0x5e591c(0x40f)]['id'],_0x139266=_0x1bf23a[_0x5e591c(0x6c3)](_0x5e591c(0x681)),_0x3e35c6=_0x139266[_0x5e591c(0x173)](_0x5e591c(0x41d))[_0x5e591c(0x106)];handleUpdateCustomTopic(_0x43ce36,_0x3e35c6),_0x4d2184=null;}else{if(_0x16fb98){_0x3cc440[_0x5e591c(0x972)]();const _0x55bead=_0x16fb98[_0x5e591c(0x6c3)](_0x5e591c(0x681));toggleTopicEditMode(_0x55bead,![]),_0x4d2184=null;}}}}}),document[_0x673e06(0x893)](_0x673e06(0xfb))[_0x673e06(0x15b)](_0x673e06(0x246),()=>{const _0x3c592d=_0x673e06;document[_0x3c592d(0x893)]('lesson-plan-modal')[_0x3c592d(0x6a0)][_0x3c592d(0x273)]('hidden');}),document[_0x673e06(0x893)](_0x673e06(0x3cf))['addEventListener']('click',()=>{const _0x479a88=_0x673e06;document[_0x479a88(0x893)](_0x479a88(0x8bc))[_0x479a88(0x6a0)][_0x479a88(0x273)](_0x479a88(0x8c9));}),document[_0x673e06(0x893)](_0x673e06(0x737))[_0x673e06(0x15b)]('click',handleExportLessonPDF);}document[_0x673e06(0x893)](_0x673e06(0x36b))['addEventListener'](_0x673e06(0x246),()=>{const _0x334a44=_0x673e06;document[_0x334a44(0x893)]('comparison-modal')[_0x334a44(0x6a0)][_0x334a44(0x273)](_0x334a44(0x8c9));}),document['getElementById'](_0x673e06(0x330))[_0x673e06(0x15b)](_0x673e06(0x246),()=>{const _0x6fab23=_0x673e06;document[_0x6fab23(0x893)](_0x6fab23(0x529))[_0x6fab23(0x6a0)][_0x6fab23(0x273)](_0x6fab23(0x8c9));}),setupComparisonModalTabs(),document[_0x673e06(0x66d)][_0x673e06(0x15b)](_0x673e06(0x246),function(_0x2ea2b6){const _0x34d374=_0x673e06;if(_0x2ea2b6[_0x34d374(0x7df)][_0x34d374(0x6a0)][_0x34d374(0x8a3)](_0x34d374(0x82f))){const _0x56df37=unescape(_0x2ea2b6[_0x34d374(0x7df)]['dataset'][_0x34d374(0x903)]);startSkillPractice(_0x56df37);}}),document[_0x673e06(0x893)](_0x673e06(0x20e))[_0x673e06(0x15b)](_0x673e06(0x246),_0x138ee3=>{const _0x2e7bac=_0x673e06,_0x48aa3f=_0x138ee3[_0x2e7bac(0x7df)][_0x2e7bac(0x6c3)](_0x2e7bac(0x940));if(_0x48aa3f){const _0x484b57=_0x48aa3f[_0x2e7bac(0x40f)][_0x2e7bac(0x8cd)];handleDeleteSubmission(_0x484b57);}});}async function handleStartGroupMode(_0x2fc8d7,_0x1a2562=![]){const _0x4db4d2=_0x375675,_0xfab3b4=allQuizzes[_0x4db4d2(0x860)](_0x5b6277=>_0x5b6277['id']===_0x2fc8d7)||allQuizzesGlobal[_0x4db4d2(0x860)](_0x2517e2=>_0x2517e2['id']===_0x2fc8d7);if(!_0xfab3b4){showMessage(_0x4db4d2(0x66a));return;}currentQuizData=getShuffledQuiz(_0xfab3b4);const _0x4ccdde=Math[_0x4db4d2(0x4e5)](0x3e8+Math[_0x4db4d2(0x7be)]()*0x2328)['toString']();try{const _0x176a45=await addDoc(collection(db,_0x4db4d2(0x54c)+appId+_0x4db4d2(0x5fd)),{'quizId':_0xfab3b4['id'],'projectId':_0xfab3b4[_0x4db4d2(0x862)],'status':_0x4db4d2(0x2d6),'pin':_0x4ccdde,'mode':'group','createdAt':serverTimestamp(),'currentQuestionIndex':0x0,'groups':{},'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x1a2562});currentTeamQuizId=_0x176a45['id'],showView('live-game'),renderAdminTeamQuizDashboard(_0x4ccdde,_0xfab3b4[_0x4db4d2(0x903)],_0x4db4d2(0x2dc)),listenForTeamQuizUpdates();}catch(_0x45a4ca){console['error'](_0x4db4d2(0x463),_0x45a4ca),showMessage(_0x4db4d2(0x873));}}async function showStudentProgressView(){const _0x2f3f70=_0x375675;studentInitialView[_0x2f3f70(0x6a0)][_0x2f3f70(0x273)](_0x2f3f70(0x8c9)),document[_0x2f3f70(0x893)]('student-progress-view')[_0x2f3f70(0x6a0)][_0x2f3f70(0x139)]('hidden');const _0xc19159=document[_0x2f3f70(0x893)](_0x2f3f70(0x33e)),_0x193c6f=document[_0x2f3f70(0x893)](_0x2f3f70(0x70e)),_0x3eff90=document['getElementById']('student-progress-content');_0x3eff90[_0x2f3f70(0x938)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0x193c6f[_0x2f3f70(0x938)]=_0x2f3f70(0x565),_0x193c6f[_0x2f3f70(0x5fa)]=!![],_0xc19159[_0x2f3f70(0x938)]='<option\x20value=\x22\x22>กำลังโหลด...</option>';if(allProjects[_0x2f3f70(0x8f7)]===0x0){const _0x231174=collection(db,_0x2f3f70(0x54c)+appId+_0x2f3f70(0x556)),_0x42d47f=await getDocs(_0x231174);allProjects=_0x42d47f['docs'][_0x2f3f70(0x2cb)](_0x105a21=>({'id':_0x105a21['id'],..._0x105a21[_0x2f3f70(0x918)]()}));}const _0xbe7226=allProjects[_0x2f3f70(0x625)](_0x368a57=>_0x368a57[_0x2f3f70(0x6a7)]?.[_0x2f3f70(0x9fd)]!==![]);_0xbe7226[_0x2f3f70(0x4d7)]((_0x239428,_0x22e00d)=>_0x239428[_0x2f3f70(0x772)]['localeCompare'](_0x22e00d['projectName'],'th')),_0xc19159[_0x2f3f70(0x938)]=_0x2f3f70(0x876)+_0xbe7226['map'](_0x26440=>_0x2f3f70(0x98e)+_0x26440['id']+'\x22>'+_0x26440[_0x2f3f70(0x772)]+'</option>')[_0x2f3f70(0x56f)](''),_0xc19159['onchange']=()=>{const _0x5531af=_0x2f3f70,_0x52f59d=_0x193c6f[_0x5531af(0x106)],_0x3e0cc4=_0xc19159['value'];_0x193c6f[_0x5531af(0x5fa)]=!![],_0x193c6f['innerHTML']=_0x5531af(0x565),_0x3eff90['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>';if(!_0x3e0cc4)return;const _0x3b9ff5=allProjects[_0x5531af(0x860)](_0x146631=>_0x146631['id']===_0x3e0cc4);if(!_0x3b9ff5||!_0x3b9ff5[_0x5531af(0x67f)])return;const _0x4afe1d=()=>{const _0x27e46b=_0x5531af;_0x193c6f[_0x27e46b(0x938)]=_0x27e46b(0x565)+_0x3b9ff5[_0x27e46b(0x67f)][_0x27e46b(0x2cb)](_0x283530=>'<option\x20value=\x22'+_0x283530+'\x22>'+_0x283530+_0x27e46b(0x35e))['join'](''),_0x193c6f['disabled']=![];const _0x398625=Array[_0x27e46b(0x84b)](_0x193c6f['options'])[_0x27e46b(0x2cb)](_0x1c0765=>_0x1c0765[_0x27e46b(0x106)]);if(_0x52f59d&&_0x398625[_0x27e46b(0x5b5)](_0x52f59d))_0x193c6f[_0x27e46b(0x106)]=_0x52f59d,_0x193c6f[_0x27e46b(0x750)](new Event(_0x27e46b(0x152)));else _0x3b9ff5[_0x27e46b(0x67f)][_0x27e46b(0x8f7)]===0x1&&(_0x193c6f[_0x27e46b(0x106)]=_0x3b9ff5[_0x27e46b(0x67f)][0x0],_0x193c6f['dispatchEvent'](new Event(_0x27e46b(0x152))));};if(_0x3b9ff5[_0x5531af(0x6a7)]?.['isPasscodeEnabled']){if(sessionStorage[_0x5531af(0x7a0)](_0x5531af(0x40e)+_0x3e0cc4)===_0x5531af(0x7e6)){_0x4afe1d();return;}const _0x4e8a77=document[_0x5531af(0x893)]('project-passcode-modal'),_0x4a0023=document[_0x5531af(0x893)](_0x5531af(0x3f4)),_0x46df17=document[_0x5531af(0x893)]('cancel-passcode-btn'),_0x10521f=document[_0x5531af(0x893)]('student-passcode-input'),_0x3cc280=document[_0x5531af(0x893)](_0x5531af(0x337));document['getElementById']('passcode-prompt-message')[_0x5531af(0x490)]=_0x5531af(0x515)+_0x3b9ff5[_0x5531af(0x772)],_0x10521f[_0x5531af(0x106)]='',_0x3cc280[_0x5531af(0x6a0)][_0x5531af(0x273)](_0x5531af(0x8c9)),_0x4e8a77['classList'][_0x5531af(0x139)]('hidden');const _0x488fc3=()=>{const _0x326d69=_0x5531af,_0x134a97=_0x10521f[_0x326d69(0x106)][_0x326d69(0x517)]();_0x134a97===_0x3b9ff5[_0x326d69(0x6a7)][_0x326d69(0x571)]?(sessionStorage[_0x326d69(0x678)](_0x326d69(0x40e)+_0x3e0cc4,_0x326d69(0x7e6)),_0x4e8a77['classList'][_0x326d69(0x273)]('hidden'),_0x4afe1d(),_0x4a0023['removeEventListener']('click',_0x488fc3)):_0x3cc280[_0x326d69(0x6a0)][_0x326d69(0x139)]('hidden');};_0x4a0023[_0x5531af(0x28e)]=_0x488fc3,_0x46df17[_0x5531af(0x28e)]=()=>{const _0x2098e9=_0x5531af;_0x4e8a77['classList'][_0x2098e9(0x273)](_0x2098e9(0x8c9)),_0xc19159[_0x2098e9(0x106)]='',_0x4a0023[_0x2098e9(0x5cc)](_0x2098e9(0x246),_0x488fc3);};}else _0x4afe1d();},_0x193c6f[_0x2f3f70(0x88d)]=()=>{const _0x2552d3=_0x2f3f70,_0x45bb31=_0xc19159[_0x2552d3(0x106)],_0x1cabdf=_0x193c6f[_0x2552d3(0x106)];_0x45bb31&&_0x1cabdf&&renderStudentProgressDashboard(_0x45bb31,_0x1cabdf);};}async function confirmAndJoinSyncGame(){const _0x1af1ee=_0x375675,_0x45aeaa=Array[_0x1af1ee(0x84b)](document[_0x1af1ee(0x814)](_0x1af1ee(0x191)))[_0x1af1ee(0x2cb)](_0x474204=>_0x474204['value']);if(_0x45aeaa[_0x1af1ee(0x8f7)]===0x0){showMessage(_0x1af1ee(0x9a2));return;}localTeamPlayers=_0x45aeaa,localPlayerTurnIndex=0x0;const _0x2b1067=doc(db,_0x1af1ee(0x54c)+appId+'/public/data/syncGames',currentLiveGameId);try{const _0x1877ae=await getDoc(_0x2b1067);if(!_0x1877ae[_0x1af1ee(0x135)]())throw new Error(_0x1af1ee(0x2b7));const _0x396faf=_0x1877ae['data']()['players']||{};_0x45aeaa[_0x1af1ee(0x1d9)](_0x2e3266=>{!_0x396faf[_0x2e3266]&&(_0x396faf[_0x2e3266]={'name':_0x2e3266,'score':0x0,'answered':![],'status':'active'});}),await updateDoc(_0x2b1067,{'players':_0x396faf}),document[_0x1af1ee(0x893)](_0x1af1ee(0x7ff))['classList']['add'](_0x1af1ee(0x8c9)),currentStudentName=_0x45aeaa[0x0],listenForSyncGameUpdates();const _0x5b6e02={'gameId':currentLiveGameId,'mode':_0x1af1ee(0x50c),'players':localTeamPlayers,'turnIndex':0x0};sessionStorage[_0x1af1ee(0x678)]('activeGameSession',JSON[_0x1af1ee(0x5dd)](_0x5b6e02));}catch(_0x256583){console[_0x1af1ee(0x8f8)](_0x1af1ee(0x345),_0x256583),showMessage(_0x1af1ee(0x5f8));}}async function resumeActiveGameSession(){const _0x2c2c7d=_0x375675,_0x25501a=sessionStorage[_0x2c2c7d(0x7a0)](_0x2c2c7d(0x325));if(!_0x25501a)return;const _0xa86dcf=JSON[_0x2c2c7d(0x95e)](_0x25501a),{gameId:_0x182b76,mode:_0x3c5248,players:_0x99ab99,turnIndex:_0x426531}=_0xa86dcf;try{let _0x1fb4a1,_0x32263b;_0x3c5248===_0x2c2c7d(0x50c)?_0x1fb4a1=doc(db,_0x2c2c7d(0x54c)+appId+_0x2c2c7d(0x549),_0x182b76):_0x1fb4a1=doc(db,_0x2c2c7d(0x54c)+appId+_0x2c2c7d(0x5fd),_0x182b76);_0x32263b=await getDoc(_0x1fb4a1);if(!_0x32263b[_0x2c2c7d(0x135)]()||_0x32263b[_0x2c2c7d(0x918)]()[_0x2c2c7d(0x9bc)]===_0x2c2c7d(0x95d)||_0x32263b[_0x2c2c7d(0x918)]()[_0x2c2c7d(0x9bc)]==='podium'){sessionStorage[_0x2c2c7d(0x16a)](_0x2c2c7d(0x325));return;}console[_0x2c2c7d(0x264)](_0x2c2c7d(0x8dd)+_0x3c5248+_0x2c2c7d(0x351)+_0x182b76+')'),localTeamPlayers=_0x99ab99,localPlayerTurnIndex=_0x426531;if(_0x3c5248===_0x2c2c7d(0x50c))currentLiveGameId=_0x182b76,currentStudentName=_0x99ab99[0x0],showView(_0x2c2c7d(0x54a)),listenForSyncGameUpdates();else{currentTeamQuizId=_0x182b76;const _0x1eb4e2=_0x32263b[_0x2c2c7d(0x918)](),_0x2ecfee=doc(db,_0x2c2c7d(0x54c)+appId+_0x2c2c7d(0x685),_0x1eb4e2['quizId']),_0x3419b3=await getDoc(_0x2ecfee);_0x3419b3[_0x2c2c7d(0x135)]()&&(currentQuizData=getShuffledQuiz({'id':_0x3419b3['id'],..._0x3419b3[_0x2c2c7d(0x918)]()}),showView(_0x2c2c7d(0x41b)),studentInitialView[_0x2c2c7d(0x6a0)][_0x2c2c7d(0x273)](_0x2c2c7d(0x8c9)),renderTeamQuizQuestion());}}catch(_0x471701){console['error']('Failed\x20to\x20resume\x20game\x20session:',_0x471701),sessionStorage[_0x2c2c7d(0x16a)](_0x2c2c7d(0x325));}}async function handleKickPlayerSync(_0x42c70f){const _0x1a73a3=_0x375675;if(!currentLiveGameId||!_0x42c70f)return;const _0x38c480=doc(db,_0x1a73a3(0x54c)+appId+_0x1a73a3(0x549),currentLiveGameId),_0x13d36a={};_0x13d36a[_0x1a73a3(0x983)+_0x42c70f+_0x1a73a3(0x2cd)]=_0x1a73a3(0x906);try{await updateDoc(_0x38c480,_0x13d36a);}catch(_0x2630c3){console[_0x1a73a3(0x8f8)](_0x1a73a3(0x586)+_0x42c70f+_0x1a73a3(0x37b),_0x2630c3),showMessage(_0x1a73a3(0x3bc));}}async function renderStudentProgressDashboard(_0x1d2310,_0x3e24d9){const _0x3f2eea=_0x375675,_0x476b57=document[_0x3f2eea(0x893)](_0x3f2eea(0x499));_0x476b57[_0x3f2eea(0x938)]=_0x3f2eea(0x3ff);try{const _0x4c3c0f=collection(db,_0x3f2eea(0x54c)+appId+_0x3f2eea(0x685)),_0xb51ec2=query(_0x4c3c0f,where(_0x3f2eea(0x862),'==',_0x1d2310)),_0x217778=await getDocs(_0xb51ec2),_0x49b85c=_0x217778[_0x3f2eea(0x9fe)][_0x3f2eea(0x2cb)](_0x2b6390=>({'id':_0x2b6390['id'],..._0x2b6390[_0x3f2eea(0x918)]()})),_0x513b87=_0x49b85c[_0x3f2eea(0x2cb)](_0x2c9172=>getDoc(doc(db,_0x3f2eea(0x54c)+appId+_0x3f2eea(0x4ae)+_0x2c9172['id']+'/submissions',_0x3e24d9))),_0x553d43=await Promise['all'](_0x513b87),_0x14b1a9=_0x553d43[_0x3f2eea(0x625)](_0xb2778e=>_0xb2778e['exists']())[_0x3f2eea(0x2cb)](_0x24048d=>({'quizId':_0x24048d[_0x3f2eea(0x8d9)][_0x3f2eea(0x8e7)][_0x3f2eea(0x8e7)]['id'],..._0x24048d[_0x3f2eea(0x918)]()}));if(_0x14b1a9[_0x3f2eea(0x8f7)]===0x0){_0x476b57['innerHTML']='<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>';return;}let _0x4ea853=_0x3f2eea(0x9e1);_0x14b1a9['forEach'](_0x27f653=>{const _0xd23839=_0x3f2eea,_0x59b528=_0x49b85c['find'](_0x5a4f0f=>_0x5a4f0f['id']===_0x27f653[_0xd23839(0x7b7)]),_0x523dc2=_0x59b528[_0xd23839(0x6a7)]?.[_0xd23839(0x252)]||_0xd23839(0x776),_0x4fed48=_0x59b528[_0xd23839(0x6a7)]?.[_0xd23839(0x532)]??0x0,_0x30d625=_0x27f653['bestScore']>=_0x4fed48;let _0x3e251a='',_0x2d7547=_0xd23839(0x180);switch(_0x523dc2){case _0xd23839(0x776):case'show_results_only':_0x2d7547=_0x30d625?_0xd23839(0x82e):_0xd23839(0xc3),_0x3e251a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20'+(_0x30d625?_0xd23839(0x672):_0xd23839(0x612))+'\x22>'+_0x27f653['bestScore']+'\x20/\x20'+_0x27f653[_0xd23839(0x658)]+_0xd23839(0x3cb)+(_0x30d625?_0xd23839(0x5af):_0xd23839(0x3ba))+'\x22>'+(_0x30d625?'ผ่าน':_0xd23839(0x7f0))+_0xd23839(0x114);break;case'show_pass_fail_only':_0x2d7547=_0x30d625?'bg-green-50':_0xd23839(0xc3),_0x3e251a=_0xd23839(0x65f)+(_0x30d625?_0xd23839(0x5af):_0xd23839(0x3ba))+'\x22>'+(_0x30d625?_0xd23839(0x8c2):_0xd23839(0x7f0))+_0xd23839(0x114);break;case _0xd23839(0x753):_0x2d7547=_0xd23839(0x643),_0x3e251a=_0xd23839(0x355);break;}_0x4ea853+=_0xd23839(0x48d)+_0x2d7547+_0xd23839(0x665)+_0x59b528[_0xd23839(0x903)]+_0xd23839(0x2a5)+_0x27f653[_0xd23839(0x741)][_0xd23839(0x8f7)]+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x27f653[_0xd23839(0x13d)])[_0xd23839(0x507)](_0xd23839(0x29c))+_0xd23839(0x117)+_0x3e251a+_0xd23839(0x3ed);}),_0x4ea853+=_0x3f2eea(0x2d3),_0x476b57['innerHTML']=_0x4ea853;}catch(_0x15e53b){console[_0x3f2eea(0x8f8)]('Error\x20rendering\x20student\x20progress:',_0x15e53b),_0x476b57['innerHTML']=_0x3f2eea(0x497);}}function setupStudentProgressListeners(){const _0x5da0b2=_0x375675;document[_0x5da0b2(0x893)](_0x5da0b2(0x4d9))[_0x5da0b2(0x15b)]('click',showStudentProgressView),document['getElementById'](_0x5da0b2(0xa18))[_0x5da0b2(0x15b)]('click',()=>{const _0x174061=_0x5da0b2;document[_0x174061(0x893)]('student-progress-view')[_0x174061(0x6a0)][_0x174061(0x273)](_0x174061(0x8c9)),document[_0x174061(0x893)](_0x174061(0x35f))[_0x174061(0x6a0)][_0x174061(0x139)](_0x174061(0x8c9));});}async function startSkillPractice(_0x3367b3){const _0x55fa0b=_0x375675;studentResultArea[_0x55fa0b(0x6a0)][_0x55fa0b(0x273)](_0x55fa0b(0x8c9)),studentQuizArea[_0x55fa0b(0x938)]=_0x55fa0b(0x4db),studentQuizArea[_0x55fa0b(0x6a0)][_0x55fa0b(0x139)](_0x55fa0b(0x8c9));try{const _0x272e81=await getStandardizedTopic(_0x3367b3);console[_0x55fa0b(0x264)](_0x55fa0b(0x6f1)+_0x3367b3+_0x55fa0b(0x115)+_0x272e81+'\x22'),studentQuizArea[_0x55fa0b(0x173)]('p')['textContent']=_0x55fa0b(0x4d0)+_0x272e81+'\x22...';const _0x163520=collection(db,_0x55fa0b(0x54c)+appId+_0x55fa0b(0x3ab)),_0x16e271=query(_0x163520,where(_0x55fa0b(0x903),'==',_0x272e81)),_0x1acf56=await getDocs(_0x16e271);if(_0x1acf56[_0x55fa0b(0x9fe)][_0x55fa0b(0x8f7)]>=0x3){console['log']('พบข้อสอบ\x20'+_0x1acf56[_0x55fa0b(0x9fe)][_0x55fa0b(0x8f7)]+_0x55fa0b(0x43c)+_0x272e81+_0x55fa0b(0x56a));let _0x5e6551=_0x1acf56[_0x55fa0b(0x9fe)]['map'](_0x58bd43=>_0x58bd43[_0x55fa0b(0x918)]());shuffleArray(_0x5e6551);const _0x301ddd={'topic':_0x272e81,'questions':_0x5e6551[_0x55fa0b(0x840)](0x0,0x3)};displaySkillPracticeDrill(_0x301ddd);}else{console[_0x55fa0b(0x264)](_0x55fa0b(0x380)+_0x272e81+'\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...');const _0x441bee=await generatePracticeQuestions(_0x272e81);await saveDrillToPracticeBank(_0x441bee,_0x272e81),displaySkillPracticeDrill(_0x441bee);}}catch(_0x150baa){console[_0x55fa0b(0x8f8)](_0x55fa0b(0x48f),_0x150baa),showMessage(_0x55fa0b(0x9fa)),studentQuizArea['classList'][_0x55fa0b(0x273)](_0x55fa0b(0x8c9)),studentResultArea[_0x55fa0b(0x6a0)][_0x55fa0b(0x139)](_0x55fa0b(0x8c9));}}async function saveDrillToPracticeBank(_0x5a35cd,_0xc6ba0f){const _0x528e76=_0x375675,_0x4350e0=collection(db,'artifacts/'+appId+'/public/data/practiceBank'),_0x1f580c=writeBatch(db);_0x5a35cd[_0x528e76(0x389)]['forEach'](_0x59c916=>{const _0x1d4edc=_0x528e76,_0x6e7211=doc(_0x4350e0);_0x1f580c['set'](_0x6e7211,{'topic':_0xc6ba0f,'questionText':_0x59c916[_0x1d4edc(0x8b8)],'options':_0x59c916[_0x1d4edc(0x34d)],'correctAnswerIndex':_0x59c916['correctAnswerIndex'],'explanation':_0x59c916[_0x1d4edc(0x6a5)],'createdAt':serverTimestamp()});});try{await _0x1f580c['commit'](),console[_0x528e76(0x264)]('บันทึกคำถามใหม่\x20'+_0x5a35cd[_0x528e76(0x389)][_0x528e76(0x8f7)]+'\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ');}catch(_0x5ba993){console['error'](_0x528e76(0x1d6),_0x5ba993);}}async function getStandardizedTopic(_0x503fb3){const _0x54ae6d=_0x375675,_0x1cc980='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22'+_0x503fb3+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x2cd118={'type':_0x54ae6d(0x7d8),'properties':{'standardTopic':{'type':'STRING'}},'required':['standardTopic']};try{const _0x493302=await callAnalysisApi(_0x1cc980,_0x2cd118);return _0x493302['standardTopic'];}catch(_0xbfe66e){return console[_0x54ae6d(0x8f8)](_0x54ae6d(0x2eb),_0xbfe66e),_0x503fb3;}}async function handleGenerateEasyVersionQuiz(_0x1315eb){const _0x59d805=_0x375675,_0x5a04a0=document[_0x59d805(0x893)](_0x59d805(0x92f)),_0x11bc69=document[_0x59d805(0x893)](_0x59d805(0x9a6));_0x11bc69[_0x59d805(0x6a0)]['add'](_0x59d805(0x8c9));const _0x2e2dea=_0x59d805(0x888);_0x5a04a0[_0x59d805(0x83a)](_0x59d805(0xa10),_0x2e2dea);try{const _0x2d03fe=allQuizzes[_0x59d805(0x860)](_0x30cac6=>_0x30cac6['id']===_0x1315eb);if(!_0x2d03fe)throw new Error(_0x59d805(0x401));const _0x425aaa='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการสร้างสื่อการสอนที่สามารถปรับเนื้อหาให้เหมาะสมกับผู้เรียนที่แตกต่างกัน\x20(Differentiated\x20Instruction)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20จากข้อมูล\x20JSON\x20ของแบบทดสอบต้นฉบับที่แนบมานี้\x20จงสร้างแบบทดสอบชุดใหม่ทั้งชุดให้เป็น\x20\x22เวอร์ชันง่าย\x22\x20สำหรับนักเรียนที่ต้องการการทบทวนเป็นพิเศษ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลต้นฉบับ:\x20'+JSON[_0x59d805(0x5dd)](_0x2d03fe[_0x59d805(0x389)])+_0x59d805(0x7ef),_0x5d22d6={'type':'OBJECT','properties':{'questionText':{'type':_0x59d805(0x4b8)},'questionType':{'type':_0x59d805(0x4b8)},'options':{'type':_0x59d805(0xc5),'items':{'type':_0x59d805(0x4b8)}},'correctAnswerIndex':{'type':_0x59d805(0x8fe)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x59d805(0x4b8)},'imageCode':{'type':'STRING'}},'required':[_0x59d805(0x8b8),'questionType',_0x59d805(0x6a5)]},_0x3c87ac={'type':_0x59d805(0x7d8),'properties':{'questions':{'type':_0x59d805(0xc5),'items':_0x5d22d6}},'required':['questions']},_0x27210a=await callAnalysisApi(_0x425aaa,_0x3c87ac);_0x27210a&&_0x27210a[_0x59d805(0x389)]&&_0x27210a[_0x59d805(0x389)]['forEach'](_0x39e785=>{const _0x266430=_0x59d805;if(_0x39e785['hasOwnProperty'](_0x266430(0x31d))){const _0x37a404=String(_0x39e785['imageCode'])['trim']();(_0x37a404===''||_0x37a404[_0x266430(0x3dc)]()===_0x266430(0x934)||!_0x37a404['startsWith'](_0x266430(0x368)))&&delete _0x39e785[_0x266430(0x31d)];}});if(!_0x27210a||!_0x27210a['questions']||_0x27210a['questions'][_0x59d805(0x8f7)]===0x0)throw new Error(_0x59d805(0x641));const _0x153a32=_0x27210a[_0x59d805(0x389)][_0x59d805(0x2cb)]((_0x355367,_0x5c91e3)=>({..._0x355367,'id':'q_'+Date['now']()+'_'+_0x5c91e3})),_0x33a337={'projectId':_0x2d03fe[_0x59d805(0x862)],'quizType':_0x2d03fe[_0x59d805(0x241)],'settings':_0x2d03fe['settings'],'createdBy':_0x2d03fe[_0x59d805(0x2b6)],'status':_0x59d805(0x55d),'topic':_0x59d805(0x864)+_0x2d03fe[_0x59d805(0x903)],'questions':_0x153a32,'createdAt':new Date()[_0x59d805(0x6c0)](),'quizMode':_0x59d805(0x4de),'pairedQuizId':null};let _0x4782b1;while(!![]){_0x4782b1=Math[_0x59d805(0x4e5)](0x3e8+Math[_0x59d805(0x7be)]()*0x2328)['toString']();const _0x15fdbd=await getDoc(doc(db,_0x59d805(0x54c)+appId+'/public/data/quizzes',_0x4782b1));if(!_0x15fdbd[_0x59d805(0x135)]())break;}await setDoc(doc(db,_0x59d805(0x54c)+appId+_0x59d805(0x685),_0x4782b1),_0x33a337),showMessage(_0x59d805(0x75a));}catch(_0x54c07e){console[_0x59d805(0x8f8)](_0x59d805(0x165),_0x54c07e),showMessage(_0x59d805(0x49f)+_0x54c07e['message']);}finally{const _0x184184=document['getElementById'](_0x59d805(0x1e0));_0x184184&&_0x184184[_0x59d805(0x139)](),_0x11bc69[_0x59d805(0x6a0)][_0x59d805(0x139)](_0x59d805(0x8c9));}}async function generatePracticeQuestions(_0x388099){const _0x57a7db=_0x375675,_0x3caf0f=_0x57a7db(0x3d9)+_0x388099+_0x57a7db(0x7d3)+simpleMathPrompt+_0x57a7db(0x98a),_0x11b9c6={'type':'OBJECT','properties':{'questionText':{'type':_0x57a7db(0x4b8)},'options':{'type':'ARRAY','items':{'type':_0x57a7db(0x4b8)}},'correctAnswerIndex':{'type':_0x57a7db(0x8fe)},'explanation':{'type':_0x57a7db(0x4b8)}},'required':[_0x57a7db(0x8b8),_0x57a7db(0x34d),_0x57a7db(0x376),'explanation']},_0xa9210f={'type':_0x57a7db(0x7d8),'properties':{'topic':{'type':_0x57a7db(0x4b8)},'questions':{'type':_0x57a7db(0xc5),'items':_0x11b9c6}},'required':['topic',_0x57a7db(0x389)]};return await callAnalysisApi(_0x3caf0f,_0xa9210f);}function displayLessonPlan(_0xaaff2b,_0x621ce){const _0x5309f8=_0x375675,_0xfe32dc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x621ce[_0x5309f8(0x903)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0xaaff2b[_0x5309f8(0x837)][_0x5309f8(0x2cb)](_0x45f7eb=>'<li>'+_0x45f7eb+_0x5309f8(0x10b))[_0x5309f8(0x56f)]('')+_0x5309f8(0x9f9)+_0xaaff2b['teachingContent']+_0x5309f8(0x9b9)+_0xaaff2b[_0x5309f8(0x511)][_0x5309f8(0x2cb)](_0x4e9be3=>_0x5309f8(0x359)+_0x4e9be3[_0x5309f8(0x7d0)]+_0x5309f8(0x739)+_0x4e9be3[_0x5309f8(0x343)]+_0x5309f8(0x3a7))[_0x5309f8(0x56f)]('')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>';document[_0x5309f8(0x893)]('lesson-plan-title')[_0x5309f8(0x490)]='แผนการสอน:\x20'+_0x621ce[_0x5309f8(0x903)],document['getElementById'](_0x5309f8(0x2a2))[_0x5309f8(0x938)]=_0xfe32dc,document[_0x5309f8(0x893)]('lesson-plan-modal')['classList']['remove'](_0x5309f8(0x8c9));if(window[_0x5309f8(0x775)])MathJax[_0x5309f8(0x2b2)]();}function displaySkillPracticeDrill(_0x27695a){let _0x390ab8=0x0;const _0x109831=_0x27695a['questions'],_0x2a08d8=()=>{const _0x33b99e=_0xdbfa,_0x403895=_0x109831[_0x390ab8],_0x1f2785='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x390ab8+0x1)+_0x33b99e(0x8e8)+_0x109831[_0x33b99e(0x8f7)]+_0x33b99e(0x686)+_0x403895['questionText']+_0x33b99e(0x3a9)+_0x403895['options'][_0x33b99e(0x2cb)]((_0x910b5b,_0x3f518a)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_'+_0x3f518a+_0x33b99e(0x730)+_0x3f518a+_0x33b99e(0xcb)+_0x3f518a+'\x22>'+_0x910b5b+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x33b99e(0x56f)]('')+_0x33b99e(0x470);studentQuizArea[_0x33b99e(0x938)]=_0x1f2785;if(window['MathJax'])MathJax[_0x33b99e(0x2b2)]([studentQuizArea]);document[_0x33b99e(0x893)](_0x33b99e(0x7a4))['addEventListener'](_0x33b99e(0x246),async()=>{const _0x290f99=await getHintForQuestion(_0x403895['questionText']);showMessage(_0x290f99);}),document['getElementById'](_0x33b99e(0x137))[_0x33b99e(0x15b)](_0x33b99e(0x246),()=>{const _0xf4a0ee=_0x33b99e,_0x29b11f=document[_0xf4a0ee(0x173)]('input[name=\x22drill_answer\x22]:checked');if(!_0x29b11f){showMessage(_0xf4a0ee(0xe7));return;}const _0x13d26b=document[_0xf4a0ee(0x893)](_0xf4a0ee(0x67a)),_0x16b258=parseInt(_0x29b11f[_0xf4a0ee(0x106)])===_0x403895[_0xf4a0ee(0x376)];_0x16b258?(_0x13d26b['className']='my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800',_0x13d26b[_0xf4a0ee(0x938)]=_0xf4a0ee(0x63c)+_0x403895[_0xf4a0ee(0x6a5)]):(_0x13d26b[_0xf4a0ee(0x41e)]='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x13d26b[_0xf4a0ee(0x938)]=_0xf4a0ee(0x91c)+_0x403895[_0xf4a0ee(0x6a5)]);_0x13d26b['classList']['remove'](_0xf4a0ee(0x8c9));if(window[_0xf4a0ee(0x775)])MathJax[_0xf4a0ee(0x2b2)]([_0x13d26b]);document[_0xf4a0ee(0x893)]('check-answer-btn')[_0xf4a0ee(0x6a0)]['add'](_0xf4a0ee(0x8c9)),document['getElementById'](_0xf4a0ee(0x7a4))['classList'][_0xf4a0ee(0x273)](_0xf4a0ee(0x8c9)),document[_0xf4a0ee(0x893)](_0xf4a0ee(0x10d))['classList']['remove'](_0xf4a0ee(0x8c9));}),document[_0x33b99e(0x893)](_0x33b99e(0x10d))[_0x33b99e(0x15b)](_0x33b99e(0x246),()=>{const _0x56113e=_0x33b99e;_0x390ab8++,_0x390ab8<_0x109831[_0x56113e(0x8f7)]?_0x2a08d8():(studentQuizArea[_0x56113e(0x938)]=_0x56113e(0x332),document[_0x56113e(0x893)]('back-to-results-btn')[_0x56113e(0x15b)](_0x56113e(0x246),()=>{const _0x2884e6=_0x56113e;studentQuizArea[_0x2884e6(0x6a0)][_0x2884e6(0x273)](_0x2884e6(0x8c9)),studentResultArea[_0x2884e6(0x6a0)]['remove'](_0x2884e6(0x8c9));}));});};_0x2a08d8();}async function getHintForQuestion(_0x587a2b){const _0x4b9163=_0x375675,_0x545865=_0x4b9163(0x23c)+_0x587a2b+_0x4b9163(0x4cb),_0x59a67b={'type':_0x4b9163(0x7d8),'properties':{'hint':{'type':'STRING'}},'required':[_0x4b9163(0x1c3)]};try{const _0x4e3a3d=await callAnalysisApi(_0x545865,_0x59a67b);return _0x4e3a3d[_0x4b9163(0x1c3)];}catch(_0x94f3db){return console['error'](_0x4b9163(0x92a),_0x94f3db),_0x4b9163(0x535);}}async function extractTextFromPdf(_0x30e520){const _0x426421=_0x375675;pdfjsLib[_0x426421(0x217)][_0x426421(0x121)]=_0x426421(0x372);const _0x16c8a8=await _0x30e520[_0x426421(0x797)](),_0x4c3b98=await pdfjsLib[_0x426421(0x3f1)](_0x16c8a8)[_0x426421(0x352)],_0x583151=_0x4c3b98[_0x426421(0x1f6)];let _0x3cea8c='';for(let _0x3641d0=0x1;_0x3641d0<=_0x583151;_0x3641d0++){const _0x310adf=await _0x4c3b98[_0x426421(0x736)](_0x3641d0),_0x4332f5=await _0x310adf[_0x426421(0x4e1)](),_0x1f9cc1=_0x4332f5[_0x426421(0x995)][_0x426421(0x2cb)](_0x4417ca=>_0x4417ca[_0x426421(0x1e8)])[_0x426421(0x56f)]('\x20');_0x3cea8c+=_0x1f9cc1+'\x0a\x0a';}return _0x3cea8c;}async function handleGenerateFromBlueprint(){const _0x19084b=_0x375675,_0x168859=document['getElementById'](_0x19084b(0x221)),_0x168c59=document[_0x19084b(0x893)]('reference-pdf-upload'),_0x23eec1=_0x168859[_0x19084b(0x916)][0x0],_0x16cf63=_0x168c59[_0x19084b(0x916)][_0x19084b(0x8f7)]>0x0?_0x168c59[_0x19084b(0x916)][0x0]:null;if(!_0x23eec1){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}const _0x26cf05=document[_0x19084b(0x893)](_0x19084b(0x4ea)),_0x5590e0=document['getElementById'](_0x19084b(0x811)),_0x532712=document[_0x19084b(0x893)]('generated-quiz-container'),_0x2ee5bd=document['getElementById'](_0x19084b(0x8c0));_0x2ee5bd[_0x19084b(0x5fa)]=!![],document[_0x19084b(0x893)](_0x19084b(0x79a))[_0x19084b(0x6a0)][_0x19084b(0x139)](_0x19084b(0x8c9)),_0x532712[_0x19084b(0x938)]='',_0x26cf05[_0x19084b(0x6a0)]['remove'](_0x19084b(0x8c9));try{_0x5590e0[_0x19084b(0x490)]=_0x19084b(0x2bb);const _0xc2816f=await extractTextFromPdf(_0x23eec1);if(!_0xc2816f[_0x19084b(0x517)]())throw new Error(_0x19084b(0x277));let _0x3a88d4='';_0x16cf63&&(_0x5590e0[_0x19084b(0x490)]='กำลังอ่านไฟล์ข้อสอบอ้างอิง...',_0x3a88d4=await extractTextFromPdf(_0x16cf63));_0x5590e0[_0x19084b(0x490)]='วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...';const _0x79e3a8=document[_0x19084b(0x893)](_0x19084b(0x434))['checked'],_0x5d6cbe=_0x79e3a8?_0x19084b(0x4c6):'',_0x18cf0a=_0x3a88d4?_0x19084b(0x7c4)+_0x3a88d4+_0x19084b(0x483):'',_0x2bc587=_0x19084b(0x9be)+(_0x3a88d4?_0x19084b(0x2a3):'')+_0x19084b(0x1b4)+_0xc2816f+_0x19084b(0x483)+_0x18cf0a+_0x19084b(0x982)+_0x5d6cbe+_0x19084b(0x9f4)+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x5364ad={'type':_0x19084b(0x7d8),'properties':{'questionText':{'type':_0x19084b(0x4b8)},'questionType':{'type':_0x19084b(0x4b8),'enum':[_0x19084b(0x5b4),_0x19084b(0x689)]},'options':{'type':_0x19084b(0xc5),'items':{'type':_0x19084b(0x4b8)}},'correctAnswerIndex':{'type':_0x19084b(0x8fe)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x19084b(0x4b8)},'imageCode':{'type':'STRING'}},'required':[_0x19084b(0x8b8),_0x19084b(0x1d7),'explanation']},_0x8afbc6={'type':_0x19084b(0x7d8),'properties':{'topic':{'type':'STRING'},'questions':{'type':'ARRAY','items':_0x5364ad}},'required':['topic','questions']};await handleApiCall(_0x2bc587,_0x19084b(0x8ec),_0x8afbc6);}catch(_0xa3d60a){console[_0x19084b(0x8f8)](_0x19084b(0x1bd),_0xa3d60a),showMessage(_0x19084b(0x49f)+_0xa3d60a['message']),_0x532712[_0x19084b(0x938)]=_0x19084b(0x47a);}finally{_0x26cf05[_0x19084b(0x6a0)][_0x19084b(0x273)](_0x19084b(0x8c9)),_0x2ee5bd[_0x19084b(0x5fa)]=![];}}function proceedToNextQuestion(_0x1fc4ae){const _0x32a81c=_0x375675;studentAnswersPerQuestion[_0x32a81c(0x6d0)](_0x1fc4ae),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x32a81c(0x389)][_0x32a81c(0x8f7)]?finalizePerQuestionQuiz():renderPerQuestionView();}function renderAdminSyncDashboard(_0x234fe8,_0x233299){const _0x2dc2cd=_0x375675,_0x13ea5b=Object['values'](_0x234fe8[_0x2dc2cd(0x1a7)]||{}),_0x247a66=_0x13ea5b['length'],_0x51c5df=[..._0x13ea5b][_0x2dc2cd(0x4d7)]((_0x1cb440,_0x4c6e22)=>_0x4c6e22[_0x2dc2cd(0x9eb)]-_0x1cb440[_0x2dc2cd(0x9eb)]),_0x375850=_0x234fe8[_0x2dc2cd(0x6ca)];let _0x387a0e='';const _0x18e379=_0x234fe8['shuffledQuiz'][_0x2dc2cd(0x389)],_0x4c1d0b=_0x18e379[_0x375850],_0xbbad55=_0x9f1fac=>String[_0x2dc2cd(0x80d)](0x41+_0x9f1fac);let _0x149dc0='',_0x1d3282='';if(_0x4c1d0b){const _0x1fa514=_0x4c1d0b['questionType']||_0x234fe8['shuffledQuiz'][_0x2dc2cd(0x241)];if(_0x1fa514===_0x2dc2cd(0x5b4)&&_0x4c1d0b[_0x2dc2cd(0x34d)]&&_0x4c1d0b[_0x2dc2cd(0x376)]!==undefined){const _0x23f9be=_0x4c1d0b['correctAnswerIndex'];_0x149dc0=_0x4c1d0b[_0x2dc2cd(0x34d)][_0x23f9be],_0x1d3282=_0xbbad55(_0x23f9be)+'.';}else{if(_0x1fa514===_0x2dc2cd(0x46e)){const _0x525714=_0x4c1d0b[_0x2dc2cd(0x1b1)]===!![]||String(_0x4c1d0b[_0x2dc2cd(0x1b1)])['toLowerCase']()===_0x2dc2cd(0x7e6);_0x525714?(_0x149dc0='ใช่\x20/\x20ถูก',_0x1d3282='ก.'):(_0x149dc0=_0x2dc2cd(0x52e),_0x1d3282='ข.');}else{if(_0x1fa514===_0x2dc2cd(0x99f))_0x149dc0=_0x4c1d0b[_0x2dc2cd(0x714)]||'-',_0x1d3282='';else _0x1fa514===_0x2dc2cd(0x689)&&(_0x149dc0=_0x4c1d0b[_0x2dc2cd(0xf4)]||'-',_0x1d3282='');}}}_0x149dc0&&(_0x387a0e=_0x2dc2cd(0x4b4)+(_0x375850+0x1)+'\x20คือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22main-correct-answer-display\x22\x20class=\x22text-4xl\x20font-bold\x20text-white\x20mt-1\x22>'+_0x1d3282+'\x20'+_0x149dc0+_0x2dc2cd(0x305));const _0xae122a=_0x51c5df[_0x2dc2cd(0x2cb)](_0x42842c=>{const _0x401f5d=_0x2dc2cd;let _0x3a5609=![];if(_0x42842c[_0x401f5d(0x196)]&&_0x375850!==-0x1){const _0x24ede8=_0x42842c[_0x401f5d(0x196)][_0x401f5d(0x860)](_0xd071eb=>_0xd071eb[_0x401f5d(0x8a5)]===_0x375850);_0x24ede8&&_0x24ede8['isCorrect']&&(_0x3a5609=!![]);}const _0x7ebd1e=_0x3a5609?'bg-green-500\x20text-white\x20border-2\x20border-green-200\x20shadow-lg':_0x401f5d(0x7da);return _0x401f5d(0x7a1)+_0x7ebd1e+_0x401f5d(0x36a)+_0x42842c[_0x401f5d(0x67c)]+'</span><span\x20class=\x22font-bold\x22>'+_0x42842c[_0x401f5d(0x9eb)]+_0x401f5d(0x2d4);})[_0x2dc2cd(0x56f)](''),_0x88d0f7=_0x18e379[_0x2dc2cd(0x2cb)]((_0x579dd3,_0x3898f8)=>{const _0xfc0c23=_0x2dc2cd,_0x43d612=_0x13ea5b[_0xfc0c23(0x625)](_0x34acf0=>_0x34acf0[_0xfc0c23(0x196)]&&_0x34acf0[_0xfc0c23(0x196)][_0xfc0c23(0x860)](_0x4d2e91=>_0x4d2e91[_0xfc0c23(0x8a5)]===_0x3898f8&&_0x4d2e91['isCorrect']))['length'],_0x462b52=_0x3898f8===_0x375850,_0x30cfd3=_0x462b52?_0xfc0c23(0x238):'p-2\x20bg-black/10\x20rounded-md';return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22'+_0x30cfd3+_0xfc0c23(0x4d6)+(_0x3898f8+0x1)+_0xfc0c23(0x464)+_0x43d612+_0xfc0c23(0x8e8)+_0x247a66+_0xfc0c23(0x32b);})[_0x2dc2cd(0x56f)]('');let _0x17b867='',_0x4cbb6d='';if(_0x233299){const _0x127a37=_0x234fe8[_0x2dc2cd(0x6ca)]>=_0x18e379[_0x2dc2cd(0x8f7)]-0x1;_0x17b867=_0x2dc2cd(0x690)+(_0x127a37?_0x2dc2cd(0x85d):_0x2dc2cd(0x484))+_0x2dc2cd(0x4e2),_0x4cbb6d=_0x2dc2cd(0x6e9);}const _0x4137ec=_0x2dc2cd(0x2e5)+_0x234fe8[_0x2dc2cd(0x6c7)][_0x2dc2cd(0x903)]+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4cbb6d+_0x2dc2cd(0x552)+_0x387a0e+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-6\x20flex-grow\x20overflow-y-auto\x20pr-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-1\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนน\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>'+(_0xae122a||'<p\x20class=\x22text-sm\x22>ยังไม่มีผู้เล่น</p>')+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22md:col-span-2\x22><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20sm:grid-cols-3\x20lg:grid-cols-4\x20gap-2\x22>'+_0x88d0f7+_0x2dc2cd(0x6ff)+(_0x233299?_0x2dc2cd(0xfd)+_0x17b867+_0x2dc2cd(0x2d3):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView[_0x2dc2cd(0x938)]=_0x4137ec;if(window['MathJax']){const _0x60a0cf=document[_0x2dc2cd(0x893)]('main-correct-answer-display');_0x60a0cf&&MathJax[_0x2dc2cd(0x2b2)]([_0x60a0cf]);}if(_0x233299){document[_0x2dc2cd(0x893)](_0x2dc2cd(0x7f6))[_0x2dc2cd(0x28e)]=async()=>{const _0x40f9f1=_0x2dc2cd,_0x462182=doc(db,_0x40f9f1(0x54c)+appId+_0x40f9f1(0x549),currentLiveGameId),_0x38281d=_0x234fe8[_0x40f9f1(0x6ca)]+0x1;if(_0x38281d<_0x18e379[_0x40f9f1(0x8f7)]){const _0x3f2782={};Object['keys'](_0x234fe8[_0x40f9f1(0x1a7)])['forEach'](_0xc8d92c=>{const _0x2f39a7=_0x40f9f1;_0x3f2782['players.'+_0xc8d92c+_0x2f39a7(0x1c2)]=![],_0x3f2782[_0x2f39a7(0x983)+_0xc8d92c+_0x2f39a7(0x583)]=null;}),await updateDoc(_0x462182,{..._0x3f2782,'status':_0x40f9f1(0x7d0),'currentQuestionIndex':_0x38281d,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x462182,{'status':'podium'});};const _0x1674fb=document[_0x2dc2cd(0x893)](_0x2dc2cd(0x1ac));_0x1674fb&&(_0x1674fb['onclick']=()=>{showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?',async()=>{const _0x13aac7=_0xdbfa,_0xad977=doc(db,_0x13aac7(0x54c)+appId+_0x13aac7(0x549),currentLiveGameId);await updateDoc(_0xad977,{'status':'podium'});});});}}async function handleGenerateParallelFromBank(_0x3276ea){const _0x18a7ed=_0x375675,_0x41d018=document['getElementById'](_0x18a7ed(0x92f)),_0x447d31=document['getElementById']('project-quizzes-list');_0x447d31['classList'][_0x18a7ed(0x273)]('hidden');const _0x53e298=_0x18a7ed(0x46f)+_0x3276ea[_0x18a7ed(0x903)]+'\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x41d018[_0x18a7ed(0x83a)](_0x18a7ed(0xa10),_0x53e298);const _0x3f3ace=document[_0x18a7ed(0x893)]('temp-loader-text-results');try{const _0x1a49a2=_0x3276ea[_0x18a7ed(0x389)]['map']((_0x3ca733,_0x2037de)=>{const _0x4ca184=_0x18a7ed;let _0xe013c=_0x2037de+0x1+'.\x20'+(_0x3ca733['questionText']||_0x3ca733[_0x4ca184(0x877)])+'\x0a';if(_0x3ca733[_0x4ca184(0x34d)])_0xe013c+=_0x3ca733[_0x4ca184(0x34d)][_0x4ca184(0x2cb)]((_0x470f5b,_0x593ecf)=>_0x4ca184(0x5d7)+(_0x593ecf===_0x3ca733[_0x4ca184(0x376)]?_0x4ca184(0x82c):'')+'\x20'+_0x470f5b)['join']('\x0a');else _0x3ca733['idealAnswer']&&(_0xe013c+=_0x4ca184(0x790)+_0x3ca733[_0x4ca184(0xf4)]);return _0xe013c;})[_0x18a7ed(0x56f)]('\x0a\x0a');_0x3f3ace['textContent']=_0x18a7ed(0xc2);const _0x40c356='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22'+_0x3276ea['topic']+_0x18a7ed(0x735)+_0x1a49a2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม,\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x18a7ed(0x4ec),_0x2dafa0={'type':'OBJECT','properties':{'questionText':{'type':_0x18a7ed(0x4b8)},'questionType':{'type':'STRING','enum':['multiple_choice',_0x18a7ed(0x689),_0x18a7ed(0x46e),_0x18a7ed(0x99f)]},'options':{'type':_0x18a7ed(0xc5),'items':{'type':_0x18a7ed(0x4b8)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x18a7ed(0x4b8)},'correctAnswer':{'type':_0x18a7ed(0x3f7)},'stem':{'type':'STRING'},'correctResponse':{'type':_0x18a7ed(0x4b8)},'allResponses':{'type':_0x18a7ed(0xc5),'items':{'type':_0x18a7ed(0x4b8)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x18a7ed(0x4b8)}},'required':[_0x18a7ed(0x1d7),'explanation']},_0x2dc5ed={'type':_0x18a7ed(0x7d8),'properties':{'topic':{'type':_0x18a7ed(0x4b8)},'questions':{'type':_0x18a7ed(0xc5),'items':_0x2dafa0}},'required':[_0x18a7ed(0x903),'questions']},_0x22f782=await callAnalysisApi(_0x40c356,_0x2dc5ed),_0x2fb213=_0x22f782['questions'][_0x18a7ed(0x2cb)]((_0x2e7adf,_0x1fa133)=>({..._0x2e7adf,'id':'q_'+Date[_0x18a7ed(0x5fc)]()+'_'+_0x1fa133})),_0x5083df=_0x18a7ed(0x78a)+_0x3276ea['topic'],_0x31ea64={'topic':_0x5083df,'questions':_0x2fb213,'quizType':_0x3276ea['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x18a7ed(0x6c0)](),'status':_0x18a7ed(0x55d),'settings':_0x3276ea[_0x18a7ed(0x6a7)],'quizMode':_0x18a7ed(0x4de),'pairedQuizId':null,'lessonPlan':null};let _0x43238c;while(!![]){_0x43238c=Math[_0x18a7ed(0x4e5)](0x3e8+Math[_0x18a7ed(0x7be)]()*0x2328)['toString']();const _0x19584b=await getDoc(doc(db,_0x18a7ed(0x54c)+appId+_0x18a7ed(0x685),_0x43238c));if(!_0x19584b[_0x18a7ed(0x135)]())break;}await setDoc(doc(db,_0x18a7ed(0x54c)+appId+_0x18a7ed(0x685),_0x43238c),_0x31ea64),showMessage(_0x18a7ed(0x868));}catch(_0x4ae673){console[_0x18a7ed(0x8f8)](_0x18a7ed(0x214),_0x4ae673),showMessage(_0x18a7ed(0x49f)+_0x4ae673['message']);}finally{const _0x4b74df=document[_0x18a7ed(0x893)](_0x18a7ed(0x1e0));_0x4b74df&&_0x4b74df[_0x18a7ed(0x139)](),_0x447d31[_0x18a7ed(0x6a0)][_0x18a7ed(0x139)](_0x18a7ed(0x8c9));}}function _0x36c4(){const _0x19face=['^{\x5ccirc}\x5ctext{C}$','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','.quiz-bank-present-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','pinnedProjects','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','https://corsproxy.io/?','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์และสร้างแบบทดสอบฉบับง่าย...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','cancel-bulk-quiz-settings-btn','จับคู่เพื่อเปรียบเทียบผล','เวกเตอร์และเมทริกซ์\x20(เสริม)','border-red-300\x20bg-red-50','onchange','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','drop','border-green-700','ฟังก์ชันผกผัน','getElementById','summary_chart','<button\x20data-value=\x22','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touchmove','แก้ไขหัวข้อสำเร็จ','คะแนน','มุมพิเศษ\x2030°-60°-90°','student-progress','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>','\x5cfrac{','save-quiz-edits-btn','จำนวนเต็มลบ','All\x20groups\x20have\x20finished.\x20Ending\x20game.','ยืนยันและอัปเดตทั้งหมด','\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','contains','<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questionIndex','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x20รายการ...','ศูนย์','q-explanation-','การลบเศษส่วน','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','globalSettings','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','mode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_blank','</body></html>','Error\x20saving\x20to\x20question\x20bank:','<li\x20class=\x22','<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>','not_confident','ปริมาตรรูปทรงสามมิติ','AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...','questionText','getScreenCTM','\x22\x20name=\x22question','delete','lesson-plan-modal','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','live-options-container','type','generate-from-blueprint-btn','create-project-btn','ผ่าน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','post-test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-cyan-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-cyan-800\x22>จบกิจกรรมแล้ว!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x22>สรุปคะแนน:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-2\x20max-w-sm\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bank-quiz-list','</label></div>','hidden','</span></p>','คะแนนเฉลี่ย','ฟังก์ชันเชิงเส้นและกราฟ','studentName','\x20หัวข้อ)','<p\x20class=\x22mt-8\x20text-xl\x20font-bold\x20text-yellow-300\x20animate-pulse\x22>เตรียมพบกับผลสรุปสุดท้าย!</p>','student-quiz-leaderboard-table-body','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','justification','ไม่ใช่','.png','การจัดหมู่\x20(Combination)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-close-btn\x22\x20class=\x22bg-red-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-red-600\x22\x20title=\x22ปิดกระดานทดเลข\x22><i\x20class=\x22fas\x20fa-times\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reset-view-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22รีเซ็ตมุมมอง\x22><i\x20class=\x22fas\x20fa-expand-arrows-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22undo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ย้อนกลับ\x22\x20disabled><i\x20class=\x22fas\x20fa-undo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22redo-btn\x22\x20class=\x22w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x20disabled:opacity-50\x22\x20title=\x22ทำซ้ำ\x22\x20disabled><i\x20class=\x22fas\x20fa-redo\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22pen-tool-btn\x22\x20class=\x22tool-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22highlighter-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกาไฮไลท์\x22><i\x20class=\x22fas\x20fa-highlighter\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22eraser-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ยางลบ\x22><i\x20class=\x22fas\x20fa-eraser\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22trail-tool-btn\x22\x20class=\x22tool-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20border-2\x22\x20title=\x22ปากกา\x20Trail\x20(จางหาย)\x22><i\x20class=\x22fas\x20fa-signature\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22pen-tools-group\x22\x20class=\x22tool-group\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20border-2\x22\x20data-size=\x222\x22\x20title=\x22ขนาดเล็ก\x22>S</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20active\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-sm\x20font-bold\x20border-2\x22\x20data-size=\x225\x22\x20title=\x22ขนาดกลาง\x22>M</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-size-btn\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20font-bold\x20border-2\x22\x20data-size=\x2210\x22\x20title=\x22ขนาดใหญ่\x22>L</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#000000\x22\x20style=\x22background-color:\x20#000000;\x22\x20title=\x22สีดำ\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#EF4444\x22\x20style=\x22background-color:\x20#EF4444;\x22\x20title=\x22สีแดง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22pen-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22#3B82F6\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22highlighter-tools-group\x22\x20class=\x22tool-group\x20hidden\x20items-center\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20active\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(255,\x20255,\x200,\x200.5)\x22\x20style=\x22background-color:\x20yellow;\x22\x20title=\x22สีเหลือง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(59,\x20130,\x20246,\x200.5)\x22\x20style=\x22background-color:\x20#3B82F6;\x22\x20title=\x22สีน้ำเงิน\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(236,\x2072,\x20153,\x200.5)\x22\x20style=\x22background-color:\x20#EC4899;\x22\x20title=\x22สีชมพู\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(34,\x20197,\x2094,\x200.5)\x22\x20style=\x22background-color:\x20#22C55E;\x22\x20title=\x22สีเขียว\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(249,\x20115,\x2022,\x200.5)\x22\x20style=\x22background-color:\x20#F97316;\x22\x20title=\x22สีส้ม\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22highlighter-color-btn\x20w-7\x20h-7\x20rounded-full\x20border-2\x22\x20data-color=\x22rgba(168,\x2085,\x20247,\x200.5)\x22\x20style=\x22background-color:\x20#A855F7;\x22\x20title=\x22สีม่วง\x22></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x20mx-1\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-text-height\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22highlighter-size-slider\x22\x20type=\x22range\x22\x20min=\x225\x22\x20max=\x2250\x22\x20value=\x2220\x22\x20class=\x22w-24\x20h-2\x20bg-gray-200\x20rounded-lg\x20appearance-none\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22highlighter-size-value\x22\x20class=\x22text-sm\x20font-mono\x20w-8\x20text-center\x22>','จากไฟล์ที่แนบมานี้,\x20','lowerGroupResponders','ref','per-question-options','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','_opt','กำลังกลับเข้าสู่เกม\x20','confirmation-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20updating\x20sort\x20preference:','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>เตรียมตัวสำหรับข้อต่อไป...</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','\x5ctimes','rgba(255,\x20255,\x200,\x200.5)','แบบทดสอบที่ติดดาว','parent','\x20/\x20','Authentication\x20failed:','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','Error\x20pairing\x20quizzes:','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','จับคู่แบบทดสอบสำเร็จ!','link-url-input','project-name-input','.edit-quiz-btn','ระยะจากจุดถึงเส้นตรง','\x22?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','binom','indexOf','move','length','error','modal-timer-duration-input','คุณต้องการเริ่มกระบวนการอัปเดต\x20ID\x20ให้กับคำถามในแบบทดสอบเก่าทั้งหมดหรือไม่?\x20กระบวนการนี้จะทำเพียงครั้งเดียวและปลอดภัยต่อข้อมูลของคุณ','answered','targetId','confidence-mode-select','NUMBER','isStarred','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','เกิดข้อผิดพลาดในการลบผลสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20text-gray-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-triangle\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>ออกจากหน้าจอ\x20(ครั้งที่\x20','topic','โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22','gain','inactive','\x20ชุด?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22goto-next-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','/questionBank','confirm-move-quiz-btn','highlighter-tool-btn','auto-fix-latex-btn','bottom','<p>','trail','Error\x20updating\x20old\x20quizzes:','</tr>','quiz-end-time','\x5cdiv','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','files','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','data','\x22\x20title=\x22ย้ายไปโปรเจคอื่น\x22\x20class=\x22quiz-bank-move-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-project-diagram\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','cancel-quiz-edits-btn','เกิดข้อผิดพลาดในการอัปเดต:\x20','<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>','Error\x20deleting\x20all\x20students:','<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>','ไม่พบ\x20Team\x20Quiz\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','_opt1\x22\x20name=\x22question','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','tfrac','ที่พิมพ์ได้\x20จำนวน\x20','false','dimmed','เกิดข้อผิดพลาดในการลบหัวข้อ','cancel-quiz-status-btn','\x22>ใช่</p>','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','Failed\x20to\x20get\x20hint:','ถูก','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-3xl\x20font-bold\x22>','cancel-test-btn','Error\x20generating\x20worksheet:','results-tab-content','left','ไม่สามารถสร้างโปรเจคได้','admin-password-modal','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','null','total','admin-try-quiz-btn','\x22>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22ai-fix-question-btn\x20text-yellow-600\x20hover:text-yellow-800\x20p-1\x20rounded-full\x20hover:bg-yellow-100\x22\x20title=\x22ให้\x20AI\x20ช่วยแก้ไขข้อผิดพลาดข้อนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic-wand-sparkles\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x20rounded-full\x20hover:bg-green-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','innerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','student-team-join','backgroundColor','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt_true\x22\x20name=\x22team_answer\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_true\x22>ใช่\x20/\x20ถูก</label></div><div><input\x20type=\x22radio\x22\x20id=\x22team_opt_false\x22\x20name=\x22team_answer\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt_false\x22>ไม่ใช่\x20/\x20ผิด</label></div>','ส่วนเบี่ยงเบนมาตรฐาน','fixed','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนกลุ่ม</h4><div\x20class=\x22space-y-2\x20text-lg\x22>','.delete-submission-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span></p><p\x20class=\x22text-xs\x20font-normal\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','เกิดข้อผิดพลาดในการปักหมุด','upperGroupResponders','กรุณาเลือกชื่อของคุณ','<p\x20class=\x22text-xs\x20text-gray-300\x22>ไม่มีผู้เล่นที่ใช้งานอยู่</p>','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','student-quiz-topic','<p\x20class=\x22text-red-500\x22>ไม่รู้จักประเภทของคำถามนี้</p>','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','แบบปรนัย\x204\x20ตัวเลือก','execCommand','#student-quiz-leaderboard-content\x20thead','none','results_','ไม่พบข้อมูลการจับคู่','\x20pointer-events-none\x22>','<p\x20class=\x22text-gray-500\x22>โปรเจคนี้ยังไม่มีนักเรียน</p>','highlighter-size-slider','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','\x22,\x20','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','auto','.sortable-header','live-player-management','finished','parse','เก่งมาก!\x20พยายามอีกนิดเพื่อคะแนนเต็ม','\x0a\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','selected-answer-index-hidden','translate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำสั่ง:\x20โปรดแก้ไขข้อมูลนี้ให้ถูกต้อง\x20โดยมีเงื่อนไขดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20ลบข้อความที่ไม่เกี่ยวข้องกับคำถาม\x20ตัวเลือก\x20หรือคำอธิบายออกทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20ตรวจสอบและแก้ไข\x20Syntax\x20ของ\x20LaTeX\x20ทั้งหมดให้ถูกต้อง\x20และครอบด้วยเครื่องหมาย\x20$\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20ห้ามเปลี่ยนแปลงความหมายหรือตัวเลขที่สำคัญของโจทย์เดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x204.\x20ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนเดิมทุกประการ\x0a\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x20font-mono\x22\x20title=\x22รหัสเข้าร่วมเกม\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-key\x20mr-2\x20opacity-70\x22></i>','topic-input-area','instructions','bank-quiz-search-input','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','lesson-plan-title','.ai-fix-formula-btn','#6366F1','รูปสแควร์รูท\x20(surd)','confirm-not-confident','สถิติและความน่าจะเป็น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','teacherSuggestions','.topic-actions-edit','preventDefault','.ql-editor','การลบทศนิยม','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt0\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt0\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt1\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt1\x22>ไม่ใช่</label></div>','answerText','bg-gradient-to-br\x20from-indigo-600\x20to-purple-700','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','Error\x20updating\x20quiz\x20settings:','cloneNode','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','Error\x20saving\x20settings:','บันทึกการแก้ไขสำเร็จ!\x20ระบบกำลังเริ่มตรวจคะแนนของผู้ส่งเดิมใหม่ทั้งหมดโดยอัตโนมัติ...','ดอทโปรดักต์\x20(dot)','createElement','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','players.','isArray','confirmation-message','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','sync-matching-select','deg','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','modal-timer-mode-select','.regenerate-question-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22','empty','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับหน้าแรก','scores-tab-btn','text-red-500\x20hover:text-red-700','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','อัปเดตแบบทดสอบเก่า\x20','items','Error\x20joining\x20activity:','<span\x20title=\x22','.presentation-option','ไม่พบกิจกรรมด้วยรหัสนี้\x20หรือกิจกรรมอาจเริ่มไปแล้ว','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','loopUntilPass','player-count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','matching_item','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-medium\x20text-gray-700\x20mb-2\x22>คุณมั่นใจในคำตอบข้อนี้แค่ไหน?:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22hidden\x22\x20id=\x22confidence-input-','กรุณาเลือกผู้เล่นอย่างน้อย\x201\x20คน','sqrt','screen','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','project-quizzes-list','short','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mt-4\x22>ทุกคนตอบครบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-xl\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','showRankings','fas\x20fa-star\x20text-yellow-500','<tr><td\x20colspan=\x22','ความน่าจะเป็นแบบมีเงื่อนไข','modal-timer-duration-label','เกิดข้อผิดพลาดในการโหลดโปรเจค','strokeStyle','text-yellow-300','entries','</button>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','#F3E8FF','\x22\x20data-name=\x22','pointerup','รอ...','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','.question-editor-item','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','status','พิสัย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','timer-bar','allResponses','analytics-tab-btn','ตอบถูก\x203\x20ข้อติดต่อกัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-indigo-700\x20pointer-events-none\x22>','bg-red-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clientY','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','scratchpad-canvas','Error\x20updating\x20quiz\x20status:','generate-from-file-btn','ส่งคำตอบ','print','start-live-race-generated-btn','project-title','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','teachingContent','set','classStrengths','สมการค่าสัมบูรณ์','<li>','open-scratchpad-btn','ไม่ได้ตอบ','อนุพันธ์:\x20กฎลูกโซ่','link-topic-input','เกิดข้อผิดพลาดในการเข้าร่วมเกม','webkitRequestFullscreen','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','การคูณ','half_mark_status','project-sort-select','<div\x20class=\x22space-y-4\x22>','playerName','scratchpad-controls','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20lg:grid-cols-3\x20gap-2\x22>','\x22.\x20Ideal\x20Answer:\x20\x22','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','tGain','.isScored','json','question-analytics-container','score','insertBefore','project-detail-view','<i\x20class=\x22fas\x20fa-pen\x22></i>','COMEBACK_KING','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','3252486QXTPmu','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','confidenceMode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','asc','uid','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20regenerating\x20question\x20in\x20editor:','showInStudentDashboard','docs','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','แบบทดสอบซ่อมเสริม','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','FIRST_TRY_ACE','105920EtZqYz','verify-answers-btn','<p\x20class=\x22text-2xl\x22>','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','ai-quiz-app-aefee.firebaseapp.com','reveal-answer-btn','ยังไม่มีนักเรียนส่งงาน','เกิดข้อผิดพลาดในการสร้างห้อง\x20Team\x20Quiz',':</span><span>','beforeend','$1\x5ctext{','กฎของโคไซน์','questionDisplayedAt','parentElement','cancel-global-live-btn','$1_{$2}','jspdf','back-to-student-home-btn','modal-shuffle-select','lowerGroupNames','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','file-topic-input','การบวก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','back-to-dashboard-from-results-btn','results-quiz-title','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20data-quiz-id=\x22','perfect_score_status','key','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','bg-red-50','scratchpad-options','ARRAY','passcode-input-container','bar','modal-message','Error\x20fetching\x20student\x20rankings:','.correct-response-input','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','pen','dataIndex','ตารางความถี่','\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-yellow-100\x20border-2\x20cursor-pointer\x20transition-all\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-3\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-yellow-700\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','.unpair-quiz-btn','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','ดอกเบี้ยทบต้น','per-question-timer-container','Invalid\x20response\x20structure\x20from\x20AI.','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','#math-topics-checkbox-container\x20input:checked','การแยกตัวประกอบ','offsetWidth','timer-duration-input','results-table-container','แผนการสอน','ai-quiz-app-aefee','mouseup','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','Error\x20displaying\x20question\x20bank:','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','quiz-form','suggestedAnswer','members','show-results-btn','cos','กรุณาเลือกคำตอบก่อนครับ','FileReader\x20error:','isConfidenceScoringEnabled','save-settings-btn','text-green-600','Error\x20deleting\x20student:','project-dashboard-view','\x0a\x20\x20\x20\x20','isAdaptive','grid','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','isCorrect','max','idealAnswer','$1^{\x5ccirc}\x5ctext{C}','สรุปผลการวิเคราะห์:\x5cn','removeChild','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','student-project-leaderboard-content','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','close-lesson-plan-modal-btn','thead\x20.sortable-header','<div\x20class=\x22mt-4\x20pt-4\x20border-t\x20border-white/20\x22>','answer-counter','opacity','บันทึกการตั้งค่าสำเร็จ','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','\x22\x20data-topic=\x22','parseFromString','submit-team-answer-btn','flex','value','N/A','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','ตรีโกณมิติ','student-quiz-area','</li>','text-emerald-800','next-drill-btn','-tab-content','game-start-modal-title','รูปแบบการให้เหตุผล','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','getContext','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','ไม่พบข้อมูลแบบทดสอบสำหรับตรวจทาน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20pointer-events-none\x22>สร้างเมื่อ:\x20','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>ส่งคำตอบครบแล้ว!</h2><p>รอผู้เล่นคนอื่นสักครู่...</p></div>','rgba(79,\x2070,\x20229,\x200.8)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-800\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','แก้ระบบสมการด้วยเมทริกซ์','เกิดข้อผิดพลาดในการบันทึกผลจากเกม','workerSrc','<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>','submit-group-answer-btn','.export-pdf-list-btn','):\x20','lastAnswerIndex','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','create-from-bank-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bestScore','แบบทดสอบนี้ปิดใช้งานอยู่','ไม่สามารถเข้าร่วมได้\x20เกมได้เริ่มไปแล้ว','Failed\x20to\x20parse\x20JSON\x20from\x20AI','สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','<div><input\x20type=\x22radio\x22\x20id=\x22team_opt','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','Invalid\x20response\x20structure\x20from\x20AI:','exists','.toggle-actions-btn','check-answer-btn','ดีมาก','remove','confirm-global-live-btn','ท็อปฟอร์ม','<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-6\x22><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปคะแนนรวม\x20(รายบุคคล)</h4><div\x20class=\x22space-y-1\x20text-lg\x22>','latestSubmittedAt','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','</span></div>','ยืนยันการกระทำ','สุดยอด!\x20ตอบถูกทุกข้อ','\x5cfrac{$1}{$2}','\x20ตา)</span></span><span\x20class=\x22font-bold\x22>','live-game-view','lineJoin','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ค่าสัมบูรณ์','rows','modal-timer-duration-container','fullscreenElement','date_asc','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','bg-amber-100\x20text-amber-800','.topic-name-display','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','change','text-red-300\x20hover:text-red-100','leaderboard-quiz','ไม่พบเกมด้วยรหัสนี้\x20หรือเกมอาจจะจบไปแล้ว','classWeaknesses','<div\x20class=\x22my-6\x22>','offset','pen-tool-btn','textarea[name=\x22question_single\x22]','addEventListener','touchcancel','bg-green-100\x20font-bold','scratchpad-header','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','student-name-selection-view','dragover','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20easy\x20version\x20quiz:','text-green-600\x20font-bold','modal-results-display-select','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานเฉลย\x20(AI)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','removeItem','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สมการราก\x20(radical)','text-content-input','podium','visibilityState','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','modal-passing-score-input','querySelector','ฟังก์ชันยกกำลัง','\x20ชุดสำเร็จ!','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','destination-out','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','visible','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','fill','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','confidence-modal','bulk-confidence-mode-select','bg-gray-50','Error\x20saving\x20visibility\x20settings:','contentEditable','math-topics-checkbox-container','behavior-log-tab-content','catch','blockReason','input[name=\x22question_single\x22]:checked','_opt0\x22>ใช่</label></div>','strength-weakness-analysis-container','message','autoTable','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.project-card-container.opacity-50','button[data-id]','font-bold\x20text-green-700','interesting-stats-container','input[name=\x22team_player\x22]:checked','category','.ideal-answer-input,\x20.correct-response-input','commit','leaderboard-tab','answers','<span\x20class=\x22sort-indicator\x20ml-2\x22>','text-gray-100','```json','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20px-3\x20py-1\x20rounded-full\x20text-white\x20text-sm\x20','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-leaderboard-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ถัดไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','comparison','ปริพันธ์ไม่จำกัด','[role=\x22textbox\x22]','ON_FIRE','.admin-try-quiz-list-btn','button[type=\x22submit\x22]','Error\x20during\x20class\x20analysis:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','confident','players','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','s;\x22\x20title=\x22','cancel-game-start-btn','blur','end-sync-game-btn','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','innerText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','ค่าคลาดเคลื่อนของการวัด','correctAnswer','ปิดใช้งาน','tool','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save','min','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','quiz-results-view','scrollX','ระยะเวลา\x20(นาที):','badgesCount','add-custom-math-topic-btn','Error\x20generating\x20from\x20blueprint:','#26890c','แบบทดสอบนี้หมดเวลาแล้ว','open','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.answered','hint','):</label>\x0a\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','moveTo','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','generate-from-link-btn','.mb-6.p-4','</td></tr>','confirm-game-start-modal','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','ปริพันธ์จำกัด','Error\x20starting\x20sync\x20game:','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','team-student-list','reset-view-btn','\x20ครั้ง)</span></td>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','undo-btn','Error\x20saving\x20questions\x20to\x20practice\x20bank:','questionType','Error\x20deleting\x20custom\x20topic:','forEach','checkbox','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','input[type=\x22radio\x22]:checked','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>ผู้เล่นที่ยังอยู่ในเกม</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','px)\x20scale(','temp-loader-results','selected-topics-count','.save-to-bank-btn','27411472','สลับไปโหมดนักเรียน','ฟังก์ชันราก\x20(root)','fa-rocket\x20text-purple-500','คะแนนเต็ม','str','currentTarget','back-to-home-manual-release','.group','team-player-status-grid','bulk-confidence-mode-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','student-rankings-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','เกิดข้อผิดพลาดในการสร้างห้อง\x20Sync\x20Game','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22เตะผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clientX','numPages','\x0a\x20\x20\x20\x20\x20\x20\x20\x20บทบาท:\x20คุณคือผู้เชี่ยวชาญด้านการแก้ไขและทำความสะอาดข้อมูล\x20(Data\x20Cleaning\x20Expert)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจ:\x20ข้อมูล\x20JSON\x20ของคำถามต่อไปนี้มีข้อผิดพลาดปนอยู่\x20เช่น\x20มีข้อความที่ไม่ใช่ส่วนหนึ่งของคำถาม\x20หรือมีโค้ด\x20LaTeX\x20ที่ผิดพลาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ผิดพลาด:\x20','.delete-custom-topic-btn','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','frac','show_results_only','deltaY','webkitExitFullscreen','title','text-indigo-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','no-projects-msg','normal','contents','สลับไปโหมดผู้ควบคุม','bg-yellow-100','raw','shuffle-setting-select','เกี่ยวกับหัวข้อ\x20\x22','parallel-test-input-area','removeAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result-editor\x20mt-2\x20text-sm\x20text-green-700\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>\x20AI\x20ยืนยันว่าเฉลยถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','presentation-explanation','bg-green-200','scores-tab-content','rgba(239,\x2068,\x2068,\x200.9)','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','bank-tab','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ย้ายแบบทดสอบสำเร็จ','Error\x20generating\x20parallel\x20test\x20from\x20bank:','AI\x20Formula\x20Fix\x20Error:','setAttribute','GlobalWorkerOptions','findIndex','approx','ยอดเยี่ยม!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x220\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ใช่\x20/\x20ถูก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-value=\x221\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>ไม่ใช่\x20/\x20ผิด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','destroy','blueprint-upload-input','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','leaderboard','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','bg-blue-100','touch','หมดเวลา!\x20กำลังส่งคำตอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x20text-center\x20text-white\x20','choices_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','fill_in_with_choices','fix\x20the\x20option','bulk-quiz-settings-btn','.confidence-choice-btn','/public/data/learnedFixes','sin','icon','\x22\x20value=\x22','download','split','live-race','text/csv;charset=utf-8;','p-2\x20rounded-md\x20bg-yellow-400\x20text-black\x20ring-2\x20ring-yellow-200\x20shadow-lg','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x09\x09\x09\x09\x09\x09\x09<button\x20data-quiz-id=\x22','start-game-btn','has','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','border-gray-200','18891sJdxgE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','quizType','.quiz-bank-move-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>Sync\x20Mode:\x20','gameData','ชื่อหัวข้อห้ามว่าง','click','confirm-create-project-btn','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','#results-table','splice','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20','bg-purple-50','scheduled','รูปหลายเหลี่ยมและมุมภายใน','ระบบอสมการ','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','resultsDisplay','save-quiz-btn','</p><div>','จำนวนและการดำเนินการ','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Sync\x20Mode','originalQuestionText','<div\x20class=\x22p-2\x20rounded-md\x20','\x5ctext{$1}','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','cancel-quiz-bank-btn','font-bold\x20text-red-700\x20line-through','message-modal','passing-score-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','พิมพ์ตอบ','log','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','score-distribution-chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','after','keys','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','string','กรุณาป้อนรหัสแบบทดสอบ','\x22\x20value=\x22true\x22\x20','#D1FAE5','correct','add','border-red-700','getBoundingClientRect','comparison-individual-tab','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ลบผลสอบของ\x20','sync-player-management',',\x20r=','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','</textarea>\x0a\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมแสดงผลลัพธ์...</p>','(^|[^\x5c\x5c])\x5cb','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','devicePixelRatio','generate-from-text-btn','line-through\x20text-red-700','\x20\x0a\x20\x20\x20\x20','back-to-dashboard-btn','หน่วยความยาวและการแปลง','ระบบสมการเชิงเส้นสองตัวแปร','join-group-activity-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','โดเมนและเรนจ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','results-tab','onclick','isRemedial','_opt1\x22>ไม่ใช่</label></div>','flex\x20flex-col\x20gap-2','transparent','/public/data/projects/','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','parallel-test-tab','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','<option>กำลังโหลดโปรเจค...</option>','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','th-TH','หยุดระบบจับเวลาหรี่หน้าจอ','.live-summary-tooltip.visible','admin-dashboard','project-search-input','force-math-checkbox','lesson-plan-content','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','mouseleave','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22verification-result\x20mt-2\x20p-3\x20border-l-4\x20border-red-400\x20bg-red-50\x20text-red-800\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20flex\x20items-center\x22><i\x20class=\x22fas\x20fa-exclamation-triangle\x20mr-2\x22></i>AI\x20ตรวจพบว่าเฉลยอาจไม่ถูกต้อง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','behavior-log-tab-btn','Error\x20loading\x20quiz\x20for\x20student:','หลังเรียน','quiz-id-input','<div\x20class=\x22','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-12\x20text-gray-300\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','typesetPromise','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','คัดลอกไม่สำเร็จ','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','createdBy','ไม่พบข้อมูลเกม','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','(ไม่มีชื่อ)','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','<p\x20class=\x22text-xl\x22>','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','เมทริกซ์:\x20บวก/คูณ','confirm-bulk-quiz-settings-btn','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','open-quiz-bank-btn','เกิดข้อผิดพลาดในการจับคู่','confirm-confident','\x5cle','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','confidence-scoring-description','ส่วนเบี่ยงเบนเฉลี่ย','\x20สำเร็จ','onload','map','สร้างแบบทดสอบปรนัย','.status','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-pdf-modal','1:274192258111:web:4120c9118229b5644dd48a','leaderboard-tab-content','</div>','\x20คะแนน</span></div>','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','lobby','#FCE7F3','tan','quiz-leaderboard-table-container','Error\x20listening\x20for\x20student\x20profiles:','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','group','รหัสต้องเป็นเลข\x204\x20หลักเท่านั้น','bg-green-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','preScore','สอบปกติ','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','การลบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-6\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x22>Dashboard:\x20','presentation-short-answer-input','bg-black/10','leq','แบบเติมคำตอบ','bg-green-200\x20text-green-900','Failed\x20to\x20get\x20standardized\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','#10B981','confidence','เปลี่ยนชื่อแบบทดสอบสำเร็จ','open-sync-scratchpad-btn','close','focus','\x22\x20ให้เป็นคำถามประเภท\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22ตั้งค่า\x22\x20class=\x22quiz-bank-settings-btn\x20text-cyan-600\x20hover:text-cyan-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-cog\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','wasConfident','</span>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22summary-bar-item\x20w-full\x20rounded-lg\x20text-white\x20p-2\x20flex\x20flex-col\x20justify-center\x20items-center\x20gap-1\x20cursor-pointer\x20relative\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22height:\x2060px;\x20background-color:\x20','modal-close-btn','transform','replace','ระบบเลขและค่าประจำหลัก','bulk-confidence-scoring-checkbox','sync-short-answer-input','toggle','href','color','#e21b3c','highlighter','mixed','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tool-group\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22scratchpad-clear-btn\x22\x20class=\x22bg-yellow-500\x20text-white\x20w-8\x20h-8\x20rounded-md\x20flex\x20items-center\x20justify-center\x20text-base\x20hover:bg-yellow-600\x22\x20title=\x22ลบทั้งหมด\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x20mt-3\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20resetting\x20project\x20order:','pointercancel','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','#E5E7EB','ไม่สามารถเริ่มเกมได้','behavior-log','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20transition-transform\x20hover:scale-105\x20whitespace-nowrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20mr-2\x22></i>ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20p-2\x20rounded-md\x20hover:bg-gray-200\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22team_player\x22\x20value=\x22','ownerSVGElement','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','startsWith','ตรวจคะแนนใหม่\x20','ยืนยันการจับคู่','.generate-lesson-btn','อินเวอร์สของเมทริกซ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/customMathTopics','สมการยกกำลัง','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','จำนวนคู่:','project-detail','imageCode','<p\x20class=\x22p-4\x20text-center\x20text-red-500\x22>ไม่พบข้อมูลเกม\x20อาจสิ้นสุดไปแล้ว</p>','text-input-area','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','API\x20call\x20failed\x20with\x20status:\x20','file-upload-input','\x5cge','ทฤษฎีบทพื้นฐานของแคลคูลัส','activeGameSession','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','(เลือกแล้ว\x20','AI\x20Fix\x20Error:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกการจัดเรียง','\x20คน\x20ตอบถูก</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','overallGroups','Error\x20fetching\x20quizzes\x20for\x20bulk\x20update:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','close-comparison-modal-footer-btn','test','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','สมการตรีโกณมิติ','ควรปรับปรุง','\x20ครั้ง\x20ระบบได้ทำการส่งคำตอบของคุณอัตโนมัติ','passcode-error-msg','qIndex','ยกเลิกการจับคู่สำเร็จ','timer-duration-label','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','progress-project-select','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.sort-indicator','กำลังสแกนหาแบบทดสอบเก่า...','modal-confidence-scoring-checkbox','solution','AI\x20request\x20was\x20blocked.\x20Reason:\x20','Error\x20confirming\x20players\x20for\x20sync\x20game:','sum','%</span>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20','3HIJQGo','summary','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','options','\x20ใหม่...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อัปเดตพฤติกรรมสำหรับ\x20','\x20(ID:\x20','promise','6248PLgxIQ','bank-input-area','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/users/','substring','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','Copy\x20command\x20failed','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','พื้นที่วงกลม/ส่วนของวงกลม','.topic-row','</option>','student-initial-view','actions-container-','dashboardConfig','lineWidth','answer','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','ไม่พบตารางสำหรับ\x20Export','สรุปผลสุดท้าย','warn','<svg','.pin-project-btn','\x22><span>','close-comparison-modal-btn','opacity-50','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','บันทึกการตั้งค่าแล้ว','.answers','กฎบวกและกฎคูณ','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.duplicate-quiz-btn','กรุณาเลือกหรือพิมพ์คำตอบก่อนครับ','correctAnswerIndex','ai-quiz-generator-v3','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','มุมพิเศษ\x2045°-45°-90°','\x20from\x20sync\x20game:','loop-until-pass-checkbox','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ความแปรปรวน','export-leaderboard-pdf-btn','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','candidates','student-reading-area','red','quadraticCurveTo','เกิดข้อผิดพลาดในการบันทึกลำดับ','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','จากเนื้อหาต่อไปนี้:\x20\x22','กรุณาพิมพ์คำตอบ','questions','กรุณาเลือกโปรเจคปลายทาง','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','.move-quiz-btn','ชื่อเล่นนี้ถูกใช้ไปแล้วและกำลังเล่นอยู่\x20กรุณาใช้ชื่ออื่น','กรุณาเลือกคำตอบก่อนกดปุ่มถัดไปครับ','ทฤษฎีบทพีทาโกรัสและการประยุกต์','confirm-team-players-btn','wheel','กำลังอ่านและเตรียมไฟล์...','เรขาคณิตวิเคราะห์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','cursor','/preferences/main','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>','next-question-btn','player-list-lobby','startTime','การปัดเศษและประมาณค่า','เกิดข้อผิดพลาดในการอัปเดตสถานะ','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','\x0a---\x0a','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','เกิดข้อผิดพลาดในการสร้างห้องเกม','quiz-bank-modal','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','.edit-custom-topic-btn','</div></div></div>','</p></div>','times','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/practiceBank','ข้อ\x20','createElementNS','redo-btn','\x22\x20class=\x22generate-easy-version-btn\x20text-green-800\x20bg-green-100\x20hover:bg-green-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้างฉบับง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ปรับเพิ่ม/ลดเป็นร้อยละ','text-red-600','เกิดข้อผิดพลาดในการเริ่มทำข้อสอบ\x20กรุณาลองใหม่อีกครั้ง','Error\x20starting\x20team\x20quiz:','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','\x22\x20class=\x22kick-player-btn\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','เกิดข้อผิดพลาดขณะกำลังบันทึกข้อมูลแบบกลุ่ม','whole_quiz','\x5ccdot','bg-red-200\x20text-red-800','Team\x20Quiz','เกิดข้อผิดพลาดในการนำผู้เล่นออก','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','perseverance','เกมสิ้นสุดลงแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shadowBlur','add-student-btn','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','.quiz-bank-item','live-player-list','จัดการ','<i\x20class=\x22fas\x20fa-check-circle\x22></i>','จำนวนเชิงซ้อน\x20(เสริม)','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','Error\x20unpairing\x20quizzes:','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','</p><div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div></div>','ข้อที่\x20','.project-card-content','close-lesson-plan-modal-footer-btn','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','เบราว์เซอร์นี้ไม่รองรับ\x20Wake\x20Lock\x20API','\x22\x20data-value=\x22confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-smile-beam\x20mr-2\x22></i>มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20not-confident\x22\x20data-question-index=\x22','setTransform','เส้นตรง:\x20รูปแบบสมการ','pre-test','write','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','retake-quiz-loop-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toLowerCase','<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>','afterend','katex','Error\x20showing\x20quiz\x20detail\x20view:','timerMode','กรุณาเลือกคำตอบ','name_asc','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','mode-switcher-btn','confirm-join-game-btn','คณิตการเงิน/บูรณาการ','\x22\x20title=\x22ลบ\x22\x20class=\x22quiz-bank-delete-btn\x20text-red-600\x20hover:text-red-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','ปริมาตร/ความจุและการแปลง','quiz-type-select','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','finishReason','grid-view-btn','เกิดข้อผิดพลาดในการส่งคำตอบ','getDocument','/public/data/liveGames','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','confirm-passcode-btn','\x22\x20data-q-type=\x22','translate(','BOOLEAN','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังกลับเข้าสู่เกม...','bg-green-100\x20text-green-800','password-error-msg','3598724WaNesi','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดระหว่างการตรวจทานคำตอบ','.\x20แต่ละข้อมี\x20','<div\x20class=\x22loader\x20mx-auto\x22></div>',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','ไม่พบข้อมูลแบบทดสอบต้นฉบับ','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','resize','รหัสไม่ถูกต้อง','\x20mb-2\x22>','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-cyan-600\x20focus:ring-cyan-500\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-lg\x22>','live-short-answer-input','<br>','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','px,\x20','fa-bolt\x20text-blue-500','move-quiz-modal','authed_project_','dataset','สร้างโปรเจคสำเร็จ!','close-presentation-btn','attemptNumber','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22><i\x20class=\x22fas\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22sync-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','groups','กลุ่ม:\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','wakeLock','student','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','.topic-name-input','className','Group\x20Mode','PERFECT_SCORE','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','\x20ชุด)','กรุณาเลือกสถานะ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20','behaviorLog','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','check-presentation-answer-btn','confidence-scoring-checkbox','MathJax\x20typeset\x20error\x20(analytics):','responses.','.star-quiz-btn','\x20<strong\x20class=\x22text-green-600\x22>(แก้ไขอัตโนมัติ)</strong>','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','ไม่พบเอกสารการส่งงานของ\x20','keyup','preTScore','touchend','include-images-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-md\x20transition-all\x20hover:bg-black/40\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','bg-gray-500','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','global-quiz-list','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','<p><strong>คำตอบของคุณ:</strong>\x20','rgba(16,\x20185,\x20129,\x200.7)','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','height','<div\x20class=\x22hidden\x20md:grid\x20grid-cols-12\x20gap-4\x20text-sm\x20font-semibold\x20text-gray-500\x20px-4\x20py-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-5\x22>ชื่อโปรเจค</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x22>แบบทดสอบ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-3\x22>สร้างเมื่อ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-2\x20text-right\x22>เครื่องมือ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','การจัดกลุ่มข้อมูล','numeric','duration-300','\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div>\x0a</div>\x0a','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','ring-2','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','leaderboard-quiz-tab-btn','difficulty-level-select','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','topic-tab','data:application/vnd.ms-word;charset=utf-8,','สร้างแบบทดสอบ','<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','round','Error\x20adding\x20custom\x20topic:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>สู้ๆ\x20ลองใหม่อีกครั้งเพื่อทบทวนความเข้าใจนะ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22retake-quiz-loop-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20transition-transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ทำแบบทดสอบอีกครั้ง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20joining\x20live\x20game:','ลบหัวข้อสำเร็จ','save-project-name-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจสอบ...','bg-red-100\x20text-red-800','เรขาคณิต','mousedown','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','pointerType','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','กราฟฟังก์ชันตรีโกณ','</span></p><p\x20class=\x22text-xs\x22>ตอบถูก\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบที่มีความแม่นยำสูง\x20ภารกิจของคุณคือตรวจทานความถูกต้องของเฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20ถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','pop','ตอบถูกทุกข้อในแบบทดสอบนี้','Error\x20starting\x20group\x20quiz:',':</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x22>','shadowColor','{$1}','fullscreenchange','multiply','num-choices-container','<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีกลุ่มเข้าร่วม...</p>','upperGroupNames','ไม่สามารถบันทึกพฤติกรรมได้:\x20ข้อมูลไม่ครบถ้วน','nickname-input','true_false','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','analytics','\x22\x20class=\x22delete-project-btn\x20','size','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','back-from-results-btn','.quiz-bank-delete-btn','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','document','topic-input','dragstart','blueprint-tab','bg-green-200\x20text-green-900\x20font-bold','text-green-700\x20bg-green-100','analytics-tab-content','endTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ข้อต่อไป','input','end-game-btn','กรุณาใส่ชื่อโปรเจค','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','createdAt','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','การวัด','.start-game-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20','border-indigo-400\x20ring-2\x20ring-indigo-200','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','textContent','การประยุกต์เวกเตอร์พื้นฐาน','results','manage-tab-content','ตรวจทานเฉลยเสร็จสิ้น!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','pin','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','quiz','student-progress-content','เกิดข้อผิดพลาดในการใช้\x20AI\x20แก้ไขสูตร','อุณหภูมิและการแปลง','perQuestionStats','.quiz-result-card','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','เกิดข้อผิดพลาด:\x20','global-quiz-search-input','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','</span>','.doc','schedule','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กำลังสร้างแบบทดสอบคู่ขนาน...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','confirm-delete-btn','การกระจายและการจัดหมู่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','Error\x20renaming\x20quiz:','/public/data/quizzes/','touches','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x22>','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','STOP','text-blue-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20my-4\x20py-4\x20bg-black/20\x20rounded-lg\x20shadow-inner\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-11/12\x20mx-auto\x22\x20style=\x22border-top:\x202px\x20dashed\x20rgba(255,\x20255,\x20255,\x200.3);\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20text-yellow-300\x20mt-3\x20font-semibold\x22>คำตอบที่ถูกต้องสำหรับข้อ\x20','</h3>','export-tutor-pdf-btn','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','STRING','highlighter-tools-group','พอใช้','student-name-select','projectOrder','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','.copy-quiz-id-list-btn','<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>','setFont','เกิดข้อผิดพลาดในการบันทึก','fas\x20fa-bookmark','เลือกโปรเจคเพื่อบันทึก','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','ความชันและเส้นตรง','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สัญกรณ์วิทยาศาสตร์','export-pdf-btn','fixedData','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','\x5cs*\x5c(','source-over',')\x5cb)','ไม่สามารถบันทึกการตั้งค่าได้','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','label[for=\x22num-questions\x22]','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','ring-purple-400','.compare-results-btn','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-sm\x22>ข้อ\x20','sort','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','view-my-progress-btn','.delete-student-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<button\x20id=\x22','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','standard','</tbody></table></div>','\x22\x20สำเร็จ','getTextContent','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>','.cancel-edit-topic-btn','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','floor','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20bg-white/20\x20p-4\x20rounded-lg\x20mt-4\x20flex-grow\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x20text-center\x22>สถานะผู้เล่น</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22team-player-status-grid\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-cyan-200\x22>ยังไม่มีผู้เล่นเข้าร่วม...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-team-quiz-btn\x22\x20class=\x22mt-6\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบกิจกรรม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','style','ถูกต้อง!','Enter','loader','\x20คนที่ส่ง\x20ตอบถูก\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','[name=\x22team_answer\x22]:checked,\x20select[name=\x22team_answer\x22]','link-input-area','text-emerald-900','text','Error\x20saving\x20quiz\x20edits:','editor-quiz-topic','copy','จำนวนคละ','ตรวจพบการออกจากหน้าจอครบ\x20','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','<textarea\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required\x20placeholder=\x22พิมพ์คำตอบของกลุ่ม...\x22></textarea>','description','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-cyan-700\x20my-2\x22>ตาของ:\x20','adaptive-quiz-checkbox','.quiz-bank-try-btn','image/png','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','Error\x20submitting\x20group\x20answer:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>','generate-from-parallel-test-btn','starred','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','visibilitychange','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','Error\x20fetching\x20project\x20quizzes:','close-game-final-btn','toLocaleDateString','canvas','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-300\x20ml-2\x22>(','ไม่สามารถบันทึกรูปแบบการแก้ไขได้:','answeredCurrentQuestion','sync','projectView','กรุณาป้อนรหัสเข้าร่วมกิจกรรม\x20(4\x20หลัก):','parts','stopPropagation','practiceProblems','ส่งแล้ว','firstScore','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','สำหรับโปรเจค:\x20','code','trim','ตั้งเวลา\x20(เปิด)','ผู้เชี่ยวชาญ','AI\x20ไม่สามารถประมวลผลข้อมูลได้','globalCompositeOperation','Error\x20verifying\x20answers:','อัปเดตสถานะสำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x22>','delete-all-students-btn','การยืนยันตัวตนล้มเหลว','กรุณาเลือกระดับความมั่นใจให้ครบทุกข้อก่อนส่งคำตอบครับ','ไม่พบข้อมูลผู้ใช้','Error\x20updating\x20pin\x20status:','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','(ก่อนเรียน)','พาราโบลา','export-image-btn','showImproveButton','comparison-modal','createObjectURL','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','prev-question-btn','ผลรวมอนุกรม\x20(Σ)','ไม่ใช่\x20/\x20ผิด','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i><p\x20class=\x22font-bold\x20text-3xl\x22>','ระยะเวลา\x20(วินาที):','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','passingScore','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','แคลคูลัสเบื้องต้น','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','ฐานนิยม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','fa-fire\x20text-orange-500','answering','both','พีชคณิตและฟังก์ชัน','desc','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-2xl\x20flex\x20justify-around\x20items-end\x20gap-4\x20my-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</strong></p>','Error\x20during\x20bulk\x20quiz\x20settings\x20update\x20(inside\x20confirmation):','scale','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','element','bulk-quiz-settings-modal','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-4xl\x20font-bold\x20','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22',';\x22\x20data-id=\x22','/public/data/syncGames','live-game','q-text-','artifacts/','.generate-easy-version-btn','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22sync-matching-select\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','modal-confidence-mode-container','questionId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.pen-color-btn','ไม่พบแบบทดสอบในระบบเลย','student-list','/public/data/projects','</span><span\x20class=\x22font-bold\x22>','ค.ร.น.\x20(LCM)','earned-badges-container','project-list','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20gap-4\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-excel-btn','active','เกิดข้อผิดพลาดในการสร้างใบงาน','scratchpad-close-btn','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x22>','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','show_pass_fail_only','บันทึกผลการเล่นเกมของ\x20','Error\x20joining\x20sync\x20game:','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','scheduled_pending','<p\x20class=\x22text-center\x20text-gray-500\x22>ไม่พบประวัติการออกจากหน้าจอของนักเรียน</p>','badges','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','join','select','passcode','mean','เส้นจำนวน','stroke','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','<div\x20class=\x22mt-3\x20text-right\x22><button\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x20data-topic=\x22','\x20ตอบ','width','confidence-mode-container','toString','request','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','draggable-text','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','verify-answers-editor-btn','reduce','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','mousemove','.lastAnswerIndex','fa-crown\x20text-yellow-500','quiz-results','Failed\x20to\x20kick\x20player\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','Error\x20submitting\x20team\x20answer:','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-team-selection-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','สมการเชิงเส้นตัวแปรเดียว','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-orange-100\x20text-orange-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>เริ่มแล้ว\x20(ยังไม่ส่ง)</span></td>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-4\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence-scoring-toggle\x22\x20class=\x22flex\x20items-center\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20id=\x22confidence-scoring-toggle\x22\x20type=\x22checkbox\x22\x20class=\x22h-5\x20w-5\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22\x20checked>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-3\x20text-lg\x20font-semibold\x22>เปิดใช้งานระบบคะแนนความมั่นใจ</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22confidence-scoring-description\x22\x20class=\x22mt-2\x20text-sm\x20text-indigo-200\x20pl-8\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-white\x22>คะแนนพิเศษที่จะถูกคำนวณในตอนท้าย:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบถูก\x20&\x20มั่นใจ\x20=\x20ได้โบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>-\x20ตอบผิด\x20&\x20มั่นใจ\x20=\x20ถูกหัก\x20<strong\x20class=\x22text-white\x22>-1</strong>\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-400\x22>(กรณี\x20\x22ไม่มั่นใจ\x22\x20จะไม่มีคะแนนพิเศษ)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-3\x20text-sm\x20text-yellow-300\x20pl-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x22></i>\x20พิเศษ:\x20ผู้ที่ได้คะแนนหลักเต็ม\x20จะได้รับโบนัส\x20<strong\x20class=\x22text-white\x22>+1</strong>\x20คะแนนในหน้าสรุปผลสุดท้าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-sync-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มเกม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','show-in-student-dashboard-checkbox','.live-answer-btn','then','admin','Original\x20quiz\x20not\x20found','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','ย้าย','Attempting\x20to\x20save\x20game\x20results...','.csv','กำลังอัปเดตแบบทดสอบ\x20','คณิตศาสตร์','isFinished','question-complexity-select','confirm-admin-login-btn','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','การหารทศนิยม','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้ตรวจสอบข้อสอบคณิตศาสตร์ที่มีความแม่นยำสูง\x20ภารกิจของคุณคือการตรวจทานความถูกต้องของเฉลยที่\x20AI\x20สร้างขึ้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สำหรับแต่ละข้อต่อไปนี้\x20ให้ตรวจสอบว่า\x20\x22proposedAnswer\x22\x20(เฉลยที่เสนอ)\x20นั้นถูกต้องสำหรับคำถามหรือไม่\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูล:\x20','ไม่มีผู้ตอบตัวเลือกนี้','list','manage-players-btn','กรุณาวาง\x20URL\x20ของบทความก่อน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','cancel-quiz-settings-btn','currentMode','ลำดับเรขาคณิต\x20(GP)','generate-worksheet-btn','confidence-scoring-toggle','confirm-game-start-btn','ใช่','bg-green-200\x20text-green-800','show-leaderboard-btn','start-quiz-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','\x20จาก\x20','multiple_choice','includes','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','save-visibility-settings-btn','responses','lineCap','input[type=\x22text\x22]','</select>','answerValue','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พบ\x20Sync\x20Game!','\x22\x20class=\x22pin-project-btn\x20text-gray-400\x20hover:text-indigo-600\x20text-lg\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','transformOrigin','leaderboard-table-body','fas\x20fa-user-edit','การเรียงสับเปลี่ยน\x20(Permutation)','points','result','behavior-log-container','index','quizMode','mandatory','submissions','removeEventListener','<i\x20class=\x22fas\x20fa-magic\x22></i>','Error\x20generating\x20from\x20link:','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','ไม่มีคำอธิบาย','viewBox','quiz-editor-modal','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','พบแบบทดสอบเก่าที่ต้องอัปเดต:\x20','\x20\x20\x20-\x20','timerDuration','file-input-area','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','เงินงวด\x20(อนุกรมเงินงวด)','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','stringify','อัตราการเปลี่ยนแปลงทันที','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',')</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20ml-2\x22>','.topic-category','0\x200','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-2\x20text-sm\x20text-gray-600\x22><i\x20class=\x22fas\x20fa-file-alt\x20mr-2\x20text-gray-400\x22></i>','matching','input[type=\x22checkbox\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','team-quiz-topic','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','first_try_ace','<div\x20class=\x22answer-space\x22></div>','latestScore','isScored','text-gray-200','localeCompare','Error\x20attempting\x20to\x20enable\x20full-screen\x20mode:\x20','Error\x20generating\x20from\x20parallel\x20test\x20file:','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-indigo-600','values','เกิดข้อผิดพลาดในการยืนยันผู้เล่น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20text-lg\x20p-2\x20bg-white/50\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','disabled','คุณแน่ใจหรือไม่ว่าต้องการอัปเดตการตั้งค่านี้ให้กับแบบทดสอบทั้งหมด\x20','now','/public/data/teamQuizzes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q','-tab','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เพิ่มหัวข้อ\x20\x22','lessonPlan','<i\x20class=\x22fas\x20fa-hourglass-half\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22\x20data-question-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20text-center\x22>','hasPerfectScoreBonus','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','move-quiz-project-select','Remedial\x20quiz\x20generation\x20failed:','Error\x20starting\x20live\x20race:','ความเป็นอิสระของเหตุการณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ข้อที่\x20','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','clearRect',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-tooltip-target=\x22tooltip-','คุณแน่ใจหรือไม่ว่าต้องการจบกิจกรรมนี้?','fill_in_no_choices','text-red-700','AI\x20แก้ไขคำถามสำเร็จ!','student-join-game-view','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','cdot','label','td,\x20th','game-pin-input','\x20ข้อ\x20','text-red-800','student-project-leaderboard-tab','AI\x20grading\x20failed:','project-passcode-input','.score','สร้างคำถามแบบเติมคำในช่องว่าง','<div><input\x20type=\x22radio\x22\x20id=\x22q','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','สมมาตร\x20(แกน/จุด)','filter','div[data-question-index=\x22','start-sync-game-btn','หมดเวลาสำหรับข้อนี้!','อัตราและอัตราหน่วย','quiz-start-time','update','\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','application/json','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบ\x20Sync\x20Game\x20ด้วยรหัสนี้\x20หรือกิจกรรมได้เริ่มไปแล้ว','submission','update-old-quizzes-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ใช่\x20/\x20ถูก','<select\x20name=\x22team_answer\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required><option\x20value=\x22\x22>--\x20เลือกคำตอบที่คู่กัน\x20--</option>','POST','\x20รายการ\x20สำเร็จ!','transition-all','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20value=\x22false\x22\x20','Error\x20duplicating\x20quiz:','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','กำลังดึงข้อมูลจากลิงก์...','helvetica','lower_group_count','00:00','AI\x20ไม่สามารถสร้างชุดคำถามฉบับง่ายได้ในขณะนี้','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','bg-yellow-50','appendChild','ไม่พบข้อมูลโปรเจคหรือแบบทดสอบ','copy-quiz-id-btn','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','ฟังก์ชันกำลังสองและกราฟ','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','$1\x5ctimes','qType','ไม่พบข้อมูลโปรเจค','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20sm:text-sm\x20font-semibold\x20text-center\x20pointer-events-none\x22>','confidence-choice-btn','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-sm\x20bg-black/20\x20p-4\x20rounded-lg\x20mt-12\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>ตอนนี้คุณอยู่อันดับที่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x22>','.option-text','parallel-test-upload-input','.verification-result','admin-view','text-indigo-700','per-q-countdown','Error\x20updating\x20project\x20name:','จำนวนเต็มบวก','totalQuestions','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','\x5cfrac','quiz-leaderboard-table','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','<p\x20class=\x22','\x20รายการ</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-5\x20text-sm\x20text-yellow-700\x20flex\x20items-center\x20justify-end\x20pointer-events-none\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>คลิกเพื่อดูทั้งหมด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20ml-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20name=\x22question_single\x22\x20value=\x22','\x5csqrt{$1}','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','.topic-actions-view','พื้นที่สามเหลี่ยม','หัวข้อที่สร้างเอง','</th>','ไม่พบข้อมูลแบบทดสอบ','$1^{$2}','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','body','\x22\x20name=\x22confidence','text-purple-600','\x22><p\x20class=\x22font-semibold\x20text-sm\x20flex\x20items-center\x20justify-between\x22><span>ข้อ\x20','fa-user-astronaut\x20text-blue-700','text-green-700','text-gray-400\x20hover:text-indigo-600','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','/studentProfiles','ไม่พบแบบทดสอบเก่าที่ต้องอัปเดต\x20ทุกอย่างเป็นเวอร์ชันล่าสุดแล้ว','Error\x20saving\x20quiz:','setItem','PERSEVERANCE','drill-feedback','pointermove','name','btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','students','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังอัปเดต...','[data-topic-container-id]','num-choices','results-table','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','/public/data/quizzes','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','dfrac','generate-from-topic-btn','short_answer','G-V90KRM0L63','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','\x20คะแนน\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','rename-quiz-input','content','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22w-full\x20bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20mt-4\x22>','<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ</button>','.ai-fix-question-btn','\x20ชุด</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-6\x20md:col-span-3\x20text-sm\x20text-gray-600\x22>','Error\x20fetching\x20projects\x20for\x20move:','pow','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','</span></td>','isPasscodeEnabled','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','แผนภาพกล่อง\x20(box\x20plot)','border-green-300\x20bg-green-50','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22><i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','classList','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','slide-counter','file-tab','explanation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-black/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','settings','\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quick_thinker','ผิด','.highlighter-color-btn','.live-answer-btn,\x20#live-submit-short-answer-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','.kick-player-btn-sync','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','results-quiz-id-display','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a<div\x20class=\x22flex\x20items-center\x20gap-px\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20<button\x20data-id=\x22','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','ยังไม่เต็มนะ','กำลังสร้างรูปภาพ...','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-1\x20hover:bg-yellow-100\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x20truncate\x22\x20title=\x22','\x5cneq','\x22\x20name=\x22team_answer\x22\x20value=\x22','#000000','<i\x20class=\x22fas\x20fa-crown\x20text-5xl\x20text-yellow-500\x20mb-4\x22></i>','toISOString','generated-quiz-container','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','closest','ลำดับการดำเนินการ\x20(PEMDAS)','touchstart','student-project-leaderboard-table-body','shuffledQuiz','export-leaderboard-image-btn','Error\x20loading\x20user\x20preferences:','currentQuestionIndex','.pair-quiz-btn','เกิดข้อผิดพลาดในการลบนักเรียน','บันทึกการแก้ไข','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x20truncate\x22\x20title=\x22จากโปรเจค:\x20','Wake\x20Lock\x20ทำงานแล้ว:\x20หน้าจอจะไม่ดับเอง','push','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','[contenteditable=\x22true\x22]','padStart','ดีเทอร์มิแนนต์','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','team','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','admin-testing','.answer-text','global-live-game-count','ยังไม่ส่ง','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22font-bold\x20','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','thead','การแจกแจงทวินาม\x20(พื้นฐาน)','fill_in_the_blank','QUICK_THINKER','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22><i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ฟังก์ชันสัมพัทธ์\x20(rational)','<button\x20id=\x22end-sync-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x20shrink-0\x22>จบเกม</button>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจทาน...','#FFFFFF','</p>','num-questions','เปิด\x20(จับเวลา)','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึก','<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>','คำถามดิบ:\x20\x22','quiz-leaderboard-table-body','.pen-size-btn','อนุพันธ์:\x20ผลคูณ/ผลหาร','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<div><input\x20type=\x22radio\x22\x20id=\x22q_single_opt','abs','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','ฮิสโตแกรม','student-view','\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>(','export-leaderboard-word-btn','<div\x20class=\x22flex-1\x22></div>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','พบ\x20Team\x20Quiz!','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','toFixed','สร้างใหม่','ข้อมูลไม่เพียงพอที่จะลบผลสอบ','</form>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.pointsLastQuestion','fa-pen','ความเท่ากันทุกประการของสามเหลี่ยม','\x20<span\x20class=\x22text-xs\x20text-gray-300\x22>(','table','progress-student-select','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x22>','textarea[name=\x22team_answer\x22]','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','correctResponse','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ย้ายแบบทดสอบไปโปรเจคอื่น','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','msRequestFullscreen','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','กราฟแท่ง\x20กราฟเส้น','per_question','default','Failed\x20to\x20end\x20group\x20mode\x20game:','):\x20กรุณาอย่าออกจากหน้าจอระหว่างทำแบบทดสอบ','http://www.w3.org/2000/svg','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x5cn','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','top','getBBox','rgba(79,\x2070,\x20229,\x201)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>สรุปคะแนนของคุณ</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scratchpad-question','fadeStartTime','ตัวประกอบและตัวประกอบเฉพาะ','.ideal-answer-input','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','perfect_score','right','submittedAt','closePath','\x22\x20name=\x22drill_answer\x22\x20value=\x22','กำลังสร้างแบบทดสอบจากหัวข้อ...','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','textarea','analytics-summary-cards','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getPage','export-lesson-pdf-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submit-group-answer-btn\x22\x20class=\x22w-full\x20bg-cyan-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-cyan-700\x22>ส่งคำตอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</p><p><strong>เฉลย:</strong>\x20','toDate','#view-rankings-btn','AI\x20แก้ไขสูตรทั้งหมดในข้อนี้สำเร็จแล้ว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','number','การบวกเศษส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','attempts','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x22.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','student-quiz-leaderboard-tab','presentation-slide-container','พื้นที่สี่เหลี่ยม','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','$1\x5ctext(','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','get','จำนวนข้อ:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence','beginPath','dispatchEvent','comparison-overall-tab','ค่าเสื่อมราคา','manual_release','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','<div>','.project-card-container:not(.opacity-50)','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','กรุณาเลือกคำตอบของกลุ่ม','2-digit','สร้างแบบทดสอบฉบับง่ายสำเร็จแล้ว!','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','เกิดข้อผิดพลาดในการบันทึกพฤติกรรม:','<button\x20id=\x22next-sync-question-btn\x22\x20class=\x22bg-gray-800\x20hover:bg-black\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20mt-8\x22>','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','mouse','scrollY','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','on_fire','pairedQuizId','totalPoints','isPinned','Error\x20moving\x20quiz:','comparison-overall-content','scratchpad-modal','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','release','function','projectName','div','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','MathJax','show_results_and_answers','\x22\x20class=\x22mr-2\x20accent-cyan-600\x22\x20required><label\x20for=\x22team_opt','เกิดข้อผิดพลาดในการติดดาว','admin-password-input','การหารเศษส่วน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20','eraser','toLocaleString','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','(คัดลอก)\x20','.question-editor-item[data-q-index=\x22','text-yellow-800','1779498eBAxvV','Error\x20toggling\x20pin\x20status:','manage-tab','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','\x20รายการสำเร็จ!','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','(คู่ขนาน)\x20','\x22>จาก:\x20','</div></div><div><h4\x20class=\x22font-bold\x20mb-2\x22>สรุปรายข้อ</h4><div\x20class=\x22grid\x20grid-cols-2\x20md:grid-cols-3\x20gap-2\x22>','.choice-text','/submissions','<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานอีกครั้ง','\x20\x20\x20-\x20คำตอบ:\x20','export-word-btn','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','กรุณาป้อนรหัส\x20Team\x20Quiz\x20(4\x20หลัก):','\x22\x20class=\x22live-summary-tooltip\x20absolute\x20bottom-full\x20mb-2\x20w-max\x20max-w-xs\x20bg-gray-800\x20text-white\x20text-sm\x20rounded-lg\x20shadow-lg\x20p-3\x20z-10\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22block\x20mb-1\x20border-b\x20border-gray-600\x20pb-1\x22>ผู้ที่ตอบตัวเลือกนี้:</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เปิดใช้งาน','timestamp','arrayBuffer','pointsLastQuestion','goto-next-question-btn','quiz-generation-area','$1\x20\x5cfrac','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22verify-answers-btn\x22\x20class=\x22w-full\x20bg-yellow-500\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x20mr-2\x22></i>ตรวจทานความถูกต้องของเฉลย\x20(AI)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','getItem','<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-2\x20rounded-md\x20transition-all\x20duration-300\x20','ความคาดหมาย\x20(Expected\x20value)','.project-card-container[data-id]','hint-btn','starred-project','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาพิมพ์คำตอบของกลุ่ม','กำลังจับคู่...','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ชนิดของข้อมูลและการเก็บข้อมูล','ทศนิยม\x20(ค่าประจำหลัก)','specialist','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','hasOwnProperty','bg-emerald-100','end-team-quiz-btn','NEGATIVE_INFINITY','Leaderboard\x20update\x20transaction\x20failed:\x20','game-start-mode','Error\x20committing\x20score\x20updates:','</td>','quizId','.delete-svg-btn','รอเปิด','quiz-editor-questions-container','trail-tool-btn','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','svg','random','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','timer-mode-select','Error\x20generating\x20parallel\x20post-test:','quiz-status-modal','cancel-move-quiz-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22mt-8\x20text-lg\x20text-indigo-200\x22>รอผู้ควบคุมไปข้อต่อไป...</p>','.regenerate-question-editor-btn','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบแบบทดสอบ','modal-adaptive-quiz-checkbox','<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22><i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i><p\x20class=\x22font-bold\x20text-2xl\x22>','การแจกแจงปกติและ\x20z-score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','msExitFullscreen','question','พื้นที่ผิวรูปทรงสามมิติ','แผนการสอน:\x20','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','4058383zRjwKf','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','countdown-display','<p\x20class=\x22text-indigo-200\x22>กำลังรอผู้เล่น...</p>','OBJECT','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-700\x20ml-1\x22></i>','bg-black/20','<button\x20id=\x22retake-for-improvement-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22><i\x20class=\x22fas\x20fa-redo-alt\x22></i>ปรับปรุงคะแนน</button>','คะแนนเต็ม!','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22tooltip-','target','comeback_king','<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>','.lastAnswerCorrect','text-blue-700\x20bg-blue-100','$1\x5cfrac','มัธยฐาน','true','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','input[name=\x22status-option\x22]:checked','presentation-modal','editable-text-','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','Error\x20joining\x20team\x20quiz:','enable-passcode-checkbox','ฟังก์ชันค่าสัมบูรณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20กฎการปรับแก้โจทย์:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20โจทย์คำนวณ:\x20ให้คงเนื้อเรื่องและหลักการทางคณิตศาสตร์ไว้เหมือนเดิมทุกประการ\x20แต่ให้\x20\x22เปลี่ยนตัวเลขทั้งหมด\x22\x20เป็นตัวเลขที่ง่ายต่อการคำนวณมากที่สุด\x20(เช่น\x20เลขหลักเดียว,\x20เลขที่หารลงตัว,\x20หรือเลข\x2010,\x20100)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20โจทย์เนื้อหา/หลักการ:\x20ให้\x20\x22ปรับแก้สำนวนและคำศัพท์\x22\x20ให้เข้าใจง่ายขึ้น\x20ทำให้ประโยคสั้นลง\x20และถามตรงไปตรงมามากขึ้น\x20แต่ต้องคงเป้าหมายการเรียนรู้เดิมไว้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20โครงสร้าง:\x20จำนวนข้อ,\x20ประเภทของคำถาม\x20(ปรนัย/เติมคำ),\x20และจำนวนตัวเลือก\x20ต้องเหมือนกับชุดต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ผลลัพธ์:\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างเหมือนกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ไม่ผ่าน','การบวกทศนิยม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เหตุผล:</strong>\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','generated-quiz-actions','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','next-sync-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','exitFullscreen','quiz-search-input','bg-red-500','text-gray-500','ไม่พบแบบทดสอบสำหรับรหัสนี้','.draggable-text','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-team-selection-view','lastAnswerCorrect','all','confidence_single','#ffffff','setAttributeNS','เกิดข้อผิดพลาดในการดึงรายการแบบทดสอบล่าสุด','Error\x20saving\x20submission:','<div\x20id=\x22q-image-container-','pre-test-checkbox','modal-confidence-mode-select','game-start-quiz-id','list-view-btn','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fromCharCode','analyze-strengths-btn','start-presentation-btn','undefined','loader-text','คัดลอกรหัสแล้ว!','sync-player-list','querySelectorAll','cancel-export-pdf-btn','questions_only','not-found','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-submit-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','#retake-for-improvement-btn','medium','\x20กลุ่ม</p></div>','back-to-project-btn','.color-palette-btn','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22px-8\x20py-2\x20rounded-lg\x20','\x20คู่\x20','<div\x20class=\x22my-2\x22>','results-display-select','Error\x20updating\x20custom\x20topic:','<textarea\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>','<p><strong>คำตอบที่แนะนำ:</strong>\x20','shuffle','[*]','ไม่พบข้อมูลข้อสอบหลังเรียน','bg-green-50','practice-topic-btn','ร้อยละพื้นฐาน','Error\x20creating\x20project:','keydown','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-player-name=\x22','some','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>','คุณแน่ใจหรือไม่ว่าต้องการจบเกมนี้ก่อนเวลาอันควร?','learningGaps','\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>','ความต่อเนื่อง','insertAdjacentHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','วงรี','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','projectSortOrder','bg-blue-100\x20text-blue-800','slice','upper_group_count','global-live-game-modal','Wake\x20Lock\x20ถูกปิดใช้งานแล้ว','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','สเกลและแผนที่','stdDev','Error\x20deleting\x20quiz:','bg-green-500','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','from','.answeredCurrentQuestion','ไม่มี','manage','การคูณทศนิยม','projectSort','สามเหลี่ยม\x20(ชนิด/สมบัติ)','grabbing','restore','ลำดับเลขคณิต\x20(AP)','comparison-individual-content','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','display','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','สอบซ่อม','กลุ่มของคุณ','ดูผลสรุปสุดท้าย','Error\x20deleting\x20project:','Error\x20processing\x20file\x20for\x20AI:','find','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','projectId','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>','(ฉบับง่าย)\x20','บันทึกแบบทดสอบสำเร็จแล้ว!','<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','.color-palette-popup','match','</span></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22sync-manage-players-btn\x22\x20class=\x22text-xs\x20bg-white/20\x20hover:bg-white/40\x20px-2\x20py-1\x20rounded-md\x22>จัดการผู้เล่น</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-management\x22\x20class=\x22hidden\x20w-full\x20max-w-lg\x20mx-auto\x20bg-black/20\x20p-2\x20rounded-lg\x20mt-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20font-semibold\x20mb-1\x22>สถานะผู้เล่น</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22sync-player-list\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','scratchpad-clear-btn','circ','neq','\x22\x20data-value=\x22not_confident\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-meh\x20mr-2\x22></i>ไม่มั่นใจ\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ฟังก์ชันลอการิทึม','groups.','pinned-items','เกิดข้อผิดพลาดในการสร้างห้อง\x20Group\x20Quiz','ทฤษฎีทวินาม\x20(เบื้องต้น)','save-game-results-checkbox','<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>','stem','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','\x22\x20class=\x22kick-player-btn-sync\x20text-red-300\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาป้อนรหัส\x20Sync\x20Game\x20(2\x20หลัก):','\x20mr-2\x22></i>','questionStatus','date_desc','637614ZxrXUq'];_0x36c4=function(){return _0x19face;};return _0x36c4();}async function handleGenerateParallelPostTest(_0x3f68ba){const _0x3f745d=_0x375675,_0x8bb528=document[_0x3f745d(0x893)](_0x3f745d(0x92f)),_0x8c4447=document[_0x3f745d(0x893)](_0x3f745d(0x9a6));_0x8c4447['classList'][_0x3f745d(0x273)](_0x3f745d(0x8c9));const _0x13266f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x8bb528['insertAdjacentHTML']('beforeend',_0x13266f);try{const _0x4647d2=_0x3f68ba[_0x3f745d(0x389)][_0x3f745d(0x2cb)]((_0x47f04c,_0x4898c1)=>{const _0x467201=_0x3f745d;let _0x18b5bf=_0x4898c1+0x1+'.\x20'+(_0x47f04c['questionText']||_0x47f04c[_0x467201(0x877)]);if(_0x47f04c[_0x467201(0x34d)])_0x18b5bf+='\x0a\x20\x20\x20-\x20ตัวเลือก:\x20'+_0x47f04c[_0x467201(0x34d)]['join'](',\x20');return _0x18b5bf;})[_0x3f745d(0x56f)]('\x0a\x0a'),_0x47e571=_0x3f745d(0x2ec)+_0x3f68ba[_0x3f745d(0x903)]+_0x3f745d(0x371)+_0x4647d2+_0x3f745d(0x329)+simpleMathPrompt+_0x3f745d(0x4ec),_0x5ec063={'type':_0x3f745d(0x7d8),'properties':{'topic':{'type':_0x3f745d(0x4b8)},'questions':{'type':_0x3f745d(0xc5),'items':{'type':'OBJECT','properties':{'questionText':{'type':_0x3f745d(0x4b8)},'questionType':{'type':_0x3f745d(0x4b8)},'options':{'type':_0x3f745d(0xc5),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x3f745d(0x4b8)},'explanation':{'type':_0x3f745d(0x4b8)}},'required':[_0x3f745d(0x8b8),_0x3f745d(0x6a5)]}}},'required':[_0x3f745d(0x903),'questions']},_0x423931=await callAnalysisApi(_0x47e571,_0x5ec063),_0x591cbf=_0x3f68ba[_0x3f745d(0x903)][_0x3f745d(0x2fa)]('(ก่อนเรียน)','')[_0x3f745d(0x517)](),_0x2073ca='(หลังเรียน)\x20'+_0x591cbf,_0x39fbb9={..._0x423931,'topic':_0x2073ca,'quizType':_0x3f68ba[_0x3f745d(0x241)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x3f745d(0x6c0)](),'status':_0x3f745d(0x55d),'settings':_0x3f68ba[_0x3f745d(0x6a7)],'quizMode':_0x3f745d(0x8c5),'pairedQuizId':_0x3f68ba['id']};let _0x3fe898;while(!![]){_0x3fe898=Math[_0x3f745d(0x4e5)](0x3e8+Math[_0x3f745d(0x7be)]()*0x2328)[_0x3f745d(0x57a)]();const _0x3fe173=await getDoc(doc(db,_0x3f745d(0x54c)+appId+_0x3f745d(0x685),_0x3fe898));if(!_0x3fe173['exists']())break;}await setDoc(doc(db,'artifacts/'+appId+_0x3f745d(0x685),_0x3fe898),_0x39fbb9);const _0x57c176=doc(db,_0x3f745d(0x54c)+appId+'/public/data/quizzes',_0x3f68ba['id']);await updateDoc(_0x57c176,{'pairedQuizId':_0x3fe898}),showMessage(_0x3f745d(0x642));}catch(_0x4de425){console[_0x3f745d(0x8f8)](_0x3f745d(0x7c1),_0x4de425),showMessage(_0x3f745d(0x49f)+_0x4de425[_0x3f745d(0x18a)]);}finally{const _0xfa3dff=document[_0x3f745d(0x893)](_0x3f745d(0x1e0));if(_0xfa3dff)_0xfa3dff[_0x3f745d(0x139)]();_0x8c4447[_0x3f745d(0x6a0)]['remove'](_0x3f745d(0x8c9));}}async function handleGenerateParallelTest(){const _0x3505f6=_0x375675,_0x2d9aa4=document[_0x3505f6(0x893)](_0x3505f6(0x651)),_0x23cb6c=_0x2d9aa4[_0x3505f6(0x916)][0x0];if(!_0x23cb6c){showMessage(_0x3505f6(0x957));return;}const _0x243b46=document[_0x3505f6(0x893)](_0x3505f6(0x4ea)),_0x179832=document[_0x3505f6(0x893)]('loader-text'),_0x1b31ee=document['getElementById']('generated-quiz-container'),_0x5cb898=document[_0x3505f6(0x893)](_0x3505f6(0x500));_0x5cb898[_0x3505f6(0x5fa)]=!![],document[_0x3505f6(0x893)](_0x3505f6(0x79a))[_0x3505f6(0x6a0)][_0x3505f6(0x139)](_0x3505f6(0x8c9)),_0x1b31ee[_0x3505f6(0x938)]='',_0x243b46[_0x3505f6(0x6a0)][_0x3505f6(0x139)]('hidden'),_0x179832[_0x3505f6(0x490)]=_0x3505f6(0x909);try{const _0x3c4f3d=await extractTextFromPdf(_0x23cb6c);if(!_0x3c4f3d[_0x3505f6(0x517)]())throw new Error(_0x3505f6(0x979));_0x179832[_0x3505f6(0x490)]=_0x3505f6(0xc2);const _0xc9ca52=document[_0x3505f6(0x893)](_0x3505f6(0x434))[_0x3505f6(0x33c)],_0x513b94=_0xc9ca52?_0x3505f6(0x4c6):'',_0x507fd0=_0x3505f6(0x315)+_0x3c4f3d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x513b94+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x19c05f={'type':_0x3505f6(0x7d8),'properties':{'questionText':{'type':_0x3505f6(0x4b8)},'questionType':{'type':'STRING','enum':[_0x3505f6(0x5b4),_0x3505f6(0x689)]},'options':{'type':_0x3505f6(0xc5),'items':{'type':_0x3505f6(0x4b8)}},'correctAnswerIndex':{'type':_0x3505f6(0x8fe)},'idealAnswer':{'type':_0x3505f6(0x4b8)},'explanation':{'type':_0x3505f6(0x4b8)},'imageCode':{'type':'STRING'}},'required':[_0x3505f6(0x8b8),'questionType',_0x3505f6(0x6a5)]},_0x7cd01c={'type':_0x3505f6(0x7d8),'properties':{'topic':{'type':_0x3505f6(0x4b8)},'questions':{'type':'ARRAY','items':_0x19c05f}},'required':[_0x3505f6(0x903),_0x3505f6(0x389)]};await handleApiCall(_0x507fd0,_0x3505f6(0x4a6),_0x7cd01c);}catch(_0x206f22){console[_0x3505f6(0x8f8)](_0x3505f6(0x5f3),_0x206f22),showMessage('เกิดข้อผิดพลาด:\x20'+_0x206f22['message']),_0x1b31ee[_0x3505f6(0x938)]='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x243b46[_0x3505f6(0x6a0)]['add'](_0x3505f6(0x8c9)),_0x5cb898[_0x3505f6(0x5fa)]=![];}}async function handleRegenerateQuestionInEditor(_0x4987ff){const _0x402b6b=_0x375675;if(currentEditingQuizData===null)return;const _0x5526a8=document[_0x402b6b(0x173)](_0x402b6b(0x781)+_0x4987ff+'\x22]');_0x5526a8&&(_0x5526a8[_0x402b6b(0x938)]=_0x402b6b(0x122));const _0x33ae4f=currentEditingQuizData[_0x402b6b(0x389)][_0x4987ff],_0x599254=currentEditingQuizData[_0x402b6b(0x903)],_0x25bc28=_0x33ae4f[_0x402b6b(0x1d7)],_0x56532d={'type':_0x402b6b(0x7d8),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x402b6b(0xc5),'items':{'type':_0x402b6b(0x4b8)}},'correctAnswerIndex':{'type':_0x402b6b(0x8fe)},'explanation':{'type':_0x402b6b(0x4b8)}},'required':[_0x402b6b(0x8b8),_0x402b6b(0x34d),_0x402b6b(0x376),_0x402b6b(0x6a5)]},_0x294cff={'type':_0x402b6b(0x7d8),'properties':{'questionText':{'type':_0x402b6b(0x4b8)},'idealAnswer':{'type':_0x402b6b(0x4b8)},'explanation':{'type':_0x402b6b(0x4b8)}},'required':[_0x402b6b(0x8b8),'idealAnswer','explanation']};let _0x5b409e,_0x2235ed='';_0x25bc28===_0x402b6b(0x5b4)?(_0x5b409e=_0x56532d,_0x2235ed=_0x402b6b(0x94e)):(_0x5b409e=_0x294cff,_0x2235ed=_0x402b6b(0x2e9));const _0x586f7f=_0x402b6b(0x56e)+_0x599254+_0x402b6b(0x2f3)+_0x2235ed+_0x402b6b(0x502)+(_0x33ae4f[_0x402b6b(0x8b8)]||_0x33ae4f[_0x402b6b(0x877)])+_0x402b6b(0x743)+simpleMathPrompt;try{const _0x4034e9=await callAnalysisApi(_0x586f7f,_0x5b409e);currentEditingQuizData[_0x402b6b(0x389)][_0x4987ff]={..._0x33ae4f,..._0x4034e9},renderQuizEditor(currentEditingQuizData);}catch(_0x213612){console['error'](_0x402b6b(0x9fc),_0x213612),showMessage(_0x402b6b(0x885)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x343f8d=_0x375675,_0x3a12df=document[_0x343f8d(0x893)]('mode-switcher-btn');currentMode===_0x343f8d(0x41b)?(currentMode=_0x343f8d(0x594),_0x3a12df[_0x343f8d(0x938)]=_0x343f8d(0x248),_0x3a12df['title']='สลับไปโหมดนักเรียน',showView(_0x343f8d(0x29f))):(currentMode=_0x343f8d(0x41b),_0x3a12df[_0x343f8d(0x938)]=_0x343f8d(0x2a6),_0x3a12df[_0x343f8d(0x1fe)]=_0x343f8d(0x204),showView(_0x343f8d(0x41b)));}function handleAdminLogin(){const _0x284d27=_0x375675,_0x4a843b=document[_0x284d27(0x893)](_0x284d27(0x779)),_0xededad=document[_0x284d27(0x893)](_0x284d27(0x3fa));if(_0x4a843b['value']===_0x284d27(0x1e3)){adminPasswordModal[_0x284d27(0x6a0)]['add']('hidden'),_0x4a843b[_0x284d27(0x106)]='',_0xededad[_0x284d27(0x6a0)][_0x284d27(0x273)]('hidden'),currentMode=_0x284d27(0x594);const _0x2773d5=document[_0x284d27(0x893)](_0x284d27(0x3e5));_0x2773d5[_0x284d27(0x938)]=_0x284d27(0x248),_0x2773d5[_0x284d27(0x1fe)]=_0x284d27(0x1e4),showView(_0x284d27(0x29f));}else _0xededad[_0x284d27(0x6a0)][_0x284d27(0x139)]('hidden'),_0x4a843b['value']='';}function switchProjectTab(_0x20227a){const _0x929d83=_0x375675;[_0x929d83(0x84e),_0x929d83(0x492),_0x929d83(0x223)][_0x929d83(0x1d9)](_0x532c83=>{const _0x5c95a2=_0x929d83;document[_0x5c95a2(0x893)](_0x532c83+_0x5c95a2(0x5ff))[_0x5c95a2(0x6a0)][_0x5c95a2(0x139)](_0x5c95a2(0x55d)),document['getElementById'](_0x532c83+_0x5c95a2(0x10e))[_0x5c95a2(0x6a0)][_0x5c95a2(0x273)](_0x5c95a2(0x8c9));}),document['getElementById'](_0x20227a+_0x929d83(0x5ff))[_0x929d83(0x6a0)]['add'](_0x929d83(0x55d)),document['getElementById'](_0x20227a+_0x929d83(0x10e))[_0x929d83(0x6a0)][_0x929d83(0x139)](_0x929d83(0x8c9));}function switchQuizDetailTab(_0x1944a2){const _0x5d1139=_0x375675,_0x482781={'analytics':{'btn':'analytics-tab-btn','content':_0x5d1139(0x481)},'scores':{'btn':_0x5d1139(0x991),'content':_0x5d1139(0x20e)},'leaderboard-quiz':{'btn':_0x5d1139(0x448),'content':'leaderboard-quiz-tab-content'},'behavior-log':{'btn':_0x5d1139(0x2a9),'content':_0x5d1139(0x184)}};for(const _0x8b6a50 in _0x482781){document[_0x5d1139(0x893)](_0x482781[_0x8b6a50][_0x5d1139(0x67d)])[_0x5d1139(0x6a0)][_0x5d1139(0x139)]('active'),document[_0x5d1139(0x893)](_0x482781[_0x8b6a50][_0x5d1139(0x68f)])[_0x5d1139(0x6a0)][_0x5d1139(0x273)](_0x5d1139(0x8c9));}document['getElementById'](_0x482781[_0x1944a2][_0x5d1139(0x67d)])[_0x5d1139(0x6a0)]['add'](_0x5d1139(0x55d)),document[_0x5d1139(0x893)](_0x482781[_0x1944a2][_0x5d1139(0x68f)])[_0x5d1139(0x6a0)][_0x5d1139(0x139)]('hidden');}function showMessage(_0x5a83eb,_0x58be2d=null){const _0x597980=_0x375675;modalMessage[_0x597980(0x490)]=_0x5a83eb,modalConfirmAction=_0x58be2d,messageModal[_0x597980(0x6a0)]['remove']('hidden');}function showConfirmation(_0x2fdac6,_0x2bf941){const _0x25f4ef=_0x375675;document[_0x25f4ef(0x893)](_0x25f4ef(0x985))['textContent']=_0x2fdac6,document[_0x25f4ef(0x893)](_0x25f4ef(0x8de))[_0x25f4ef(0x173)]('h3')[_0x25f4ef(0x490)]=_0x25f4ef(0x140),confirmAction=_0x2bf941,confirmationModal[_0x25f4ef(0x6a0)][_0x25f4ef(0x139)]('hidden');}function listenForProjects(){const _0xef2afa=_0x375675,_0x4c6b06=doc(db,_0xef2afa(0x8ac),_0xef2afa(0x361));onSnapshot(_0x4c6b06,_0x202cf8=>{const _0x32d7d8=_0xef2afa;if(_0x202cf8[_0x32d7d8(0x135)]()){const _0x4ba115=_0x202cf8['data']();globalDashboardSettings[_0x32d7d8(0x850)]=_0x4ba115['projectSort']||_0x32d7d8(0x87e),globalDashboardSettings[_0x32d7d8(0x884)]=_0x4ba115[_0x32d7d8(0x884)]||[],globalDashboardSettings['projectOrder']=_0x4ba115['projectOrder']||[];}allProjects[_0x32d7d8(0x8f7)]>0x0&&renderProjects();});const _0x2baf11=collection(db,_0xef2afa(0x54c)+appId+_0xef2afa(0x556));unsubscribeProjectsListener=onSnapshot(_0x2baf11,_0x25007e=>{const _0x337163=_0xef2afa;allProjects=_0x25007e['docs'][_0x337163(0x2cb)](_0x18f849=>({'id':_0x18f849['id'],..._0x18f849[_0x337163(0x918)]()})),renderProjects();},_0x360292=>{const _0x38f2df=_0xef2afa;console[_0x38f2df(0x8f8)]('Error\x20listening\x20for\x20projects:',_0x360292),showMessage(_0x38f2df(0x9af));});}function showColorPalette(_0xc038,_0x7a04db){const _0x23df3a=_0x375675;document[_0x23df3a(0x814)](_0x23df3a(0x869))[_0x23df3a(0x1d9)](_0x25e0c3=>_0x25e0c3['remove']());const _0x52d58e=[_0x23df3a(0x6eb),'#FEE2E2','#FEF3C7',_0x23df3a(0x271),'#DBEAFE','#E0E7FF',_0x23df3a(0x9b5),_0x23df3a(0x2d7),_0x23df3a(0x309)],_0x5f2da6=document['createElement'](_0x23df3a(0x773));_0x5f2da6[_0x23df3a(0x41e)]=_0x23df3a(0x437),_0x52d58e[_0x23df3a(0x1d9)](_0x462a9c=>{const _0x11b042=_0x23df3a,_0x1fc0e6=document['createElement'](_0x11b042(0x773));_0x1fc0e6[_0x11b042(0x41e)]=_0x11b042(0xa09),_0x1fc0e6[_0x11b042(0x4e7)][_0x11b042(0x93b)]=_0x462a9c,_0x1fc0e6[_0x11b042(0x15b)](_0x11b042(0x246),()=>{const _0x29bc87=_0x11b042;handleProjectColorChange(_0x7a04db,_0x462a9c),_0x5f2da6[_0x29bc87(0x139)]();}),_0x5f2da6['appendChild'](_0x1fc0e6);}),document['body'][_0x23df3a(0x644)](_0x5f2da6);const _0x2b0885=_0xc038['getBoundingClientRect']();_0x5f2da6['style'][_0x23df3a(0x723)]=_0x2b0885[_0x23df3a(0x90e)]+window[_0x23df3a(0x761)]+'px',_0x5f2da6[_0x23df3a(0x4e7)]['left']=_0x2b0885['left']+window[_0x23df3a(0x1b9)]-_0x5f2da6[_0x23df3a(0xd9)]/0x2+'px';}async function handleProjectColorChange(_0x206e28,_0x8b7178){const _0x303be5=_0x375675,_0x215440=doc(db,_0x303be5(0x54c)+appId+'/public/data/projects',_0x206e28);try{await updateDoc(_0x215440,{'color':_0x8b7178});}catch(_0x5b9c8b){console[_0x303be5(0x8f8)]('Error\x20updating\x20project\x20color:',_0x5b9c8b),showMessage('เกิดข้อผิดพลาดในการเปลี่ยนสี');}}async function renderProjects(){const _0x37fb6e=_0x375675,_0x131cd7=globalDashboardSettings[_0x37fb6e(0x850)]||_0x37fb6e(0x87e),_0x53038a=new Set(globalDashboardSettings[_0x37fb6e(0x884)]||[]),_0x283e8e=globalDashboardSettings[_0x37fb6e(0x50d)]||_0x37fb6e(0xf0),_0xde1815=document['getElementById']('grid-view-btn'),_0x4d8744=document[_0x37fb6e(0x893)](_0x37fb6e(0x80b));_0xde1815[_0x37fb6e(0x6a0)]['toggle'](_0x37fb6e(0x55d),_0x283e8e===_0x37fb6e(0xf0)),_0x4d8744[_0x37fb6e(0x6a0)][_0x37fb6e(0x2fe)](_0x37fb6e(0x55d),_0x283e8e===_0x37fb6e(0x5a4)),document[_0x37fb6e(0x893)](_0x37fb6e(0x9e0))[_0x37fb6e(0x106)]=_0x131cd7;const _0x575d54=document[_0x37fb6e(0x893)](_0x37fb6e(0x2a0))[_0x37fb6e(0x106)][_0x37fb6e(0x3dc)]();let _0xc12b65=allProjects[_0x37fb6e(0x625)](_0x4831b5=>_0x4831b5['projectName'][_0x37fb6e(0x3dc)]()['includes'](_0x575d54));const _0x48486e=_0xc12b65[_0x37fb6e(0x625)](_0x148db3=>_0x53038a['has'](_0x148db3['id'])),_0x1a353d=_0xc12b65[_0x37fb6e(0x625)](_0x1cbba0=>!_0x53038a['has'](_0x1cbba0['id'])),_0x305475=(_0x3345bd,_0x70eabc)=>{const _0x1f26d3=_0x37fb6e;switch(_0x131cd7){case _0x1f26d3(0x3e3):return _0x3345bd[_0x1f26d3(0x772)]['localeCompare'](_0x70eabc[_0x1f26d3(0x772)],'th');case'name_desc':return _0x70eabc[_0x1f26d3(0x772)]['localeCompare'](_0x3345bd[_0x1f26d3(0x772)],'th');case _0x1f26d3(0x14b):return new Date(_0x3345bd[_0x1f26d3(0x489)])-new Date(_0x70eabc[_0x1f26d3(0x489)]);default:return new Date(_0x70eabc[_0x1f26d3(0x489)])-new Date(_0x3345bd[_0x1f26d3(0x489)]);}};_0x48486e['sort'](_0x305475),_0x1a353d[_0x37fb6e(0x4d7)](_0x305475);const _0x1bd81b=[..._0x48486e,..._0x1a353d],_0x2c1ad9=globalDashboardSettings[_0x37fb6e(0x4bc)]||[];_0x2c1ad9[_0x37fb6e(0x8f7)]>0x0&&_0x283e8e===_0x37fb6e(0xf0)&&_0x1bd81b[_0x37fb6e(0x4d7)]((_0x3ed4d1,_0x27abe9)=>{const _0x19e67b=_0x37fb6e,_0xd5d466=_0x2c1ad9[_0x19e67b(0x8f5)](_0x3ed4d1['id']),_0x1a0fed=_0x2c1ad9[_0x19e67b(0x8f5)](_0x27abe9['id']);if(_0xd5d466===-0x1)return 0x1;if(_0x1a0fed===-0x1)return-0x1;return _0xd5d466-_0x1a0fed;});const _0x2b68a5={};await Promise[_0x37fb6e(0x801)](_0x1bd81b['map'](async _0x6f458=>{const _0x464698=_0x37fb6e,_0x5693b5=query(collection(db,_0x464698(0x54c)+appId+_0x464698(0x685)),where(_0x464698(0x862),'==',_0x6f458['id'])),_0x5aafad=await getDocs(_0x5693b5);_0x2b68a5[_0x6f458['id']]=_0x5aafad[_0x464698(0x475)];}));const _0x183c9c=document[_0x37fb6e(0x893)](_0x37fb6e(0x55a));let _0x545eaa='';if(_0x283e8e===_0x37fb6e(0xf0)){_0x183c9c['className']='grid\x20grid-cols-1\x20md:grid-cols-2\x20lg:grid-cols-4\x20xl:grid-cols-5\x20gap-4';if(starredQuizzes[_0x37fb6e(0x8f7)]>0x0&&_0x575d54===''){const _0x5632fa=starredQuizzes[_0x37fb6e(0x2cb)](_0x4da9b7=>{const _0x4c1f97=_0x37fb6e,_0x25cdeb=allProjects[_0x4c1f97(0x860)](_0x561339=>_0x561339['id']===_0x4da9b7[_0x4c1f97(0x862)]);return{..._0x4da9b7,'projectName':_0x25cdeb?_0x25cdeb[_0x4c1f97(0x772)]:_0x4c1f97(0x107)};});_0x545eaa+='\x0a\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border-2\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22starred-project\x22\x20style=\x22background-color:\x20#fffbe6;\x20border-color:\x20#facc15;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-500\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-yellow-800\x22>แบบทดสอบที่ติดดาว</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-sm\x20space-y-1\x20pl-1\x20max-h-24\x20overflow-y-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5632fa[_0x37fb6e(0x2cb)](_0x2a93ca=>_0x37fb6e(0x6bb)+_0x2a93ca[_0x37fb6e(0x903)]+'\x22>'+_0x2a93ca['topic']+_0x37fb6e(0x6ce)+_0x2a93ca[_0x37fb6e(0x772)]+_0x37fb6e(0x78b)+_0x2a93ca[_0x37fb6e(0x772)]+_0x37fb6e(0x348))[_0x37fb6e(0x56f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-yellow-700\x20mt-2\x20text-right\x22>'+starredQuizzes['length']+'\x20รายการ</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}_0x1bd81b[_0x37fb6e(0x1d9)](_0x3b368d=>{const _0x52eeb9=_0x37fb6e,_0x55ab7c=_0x2b68a5[_0x3b368d['id']]??0x0,_0x22b3f2=_0x53038a['has'](_0x3b368d['id']),_0x697416=_0x3b368d[_0x52eeb9(0x300)]||'#FFFFFF',_0x3ecfc8=parseInt(_0x697416[_0x52eeb9(0x357)](0x1,0x3),0x10)*0.299+parseInt(_0x697416['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x697416[_0x52eeb9(0x357)](0x5,0x7),0x10)*0.114<0xba,_0x5a63cf=_0x3ecfc8?'text-white':_0x52eeb9(0x1ff),_0x440fd0=_0x3ecfc8?_0x52eeb9(0x5f0):_0x52eeb9(0x7fb);_0x545eaa+=_0x52eeb9(0xfa)+(_0x22b3f2?_0x52eeb9(0x48e):_0x52eeb9(0x23d))+'\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20'+_0x697416+_0x52eeb9(0x548)+_0x3b368d['id']+_0x52eeb9(0x413)+_0x3b368d['id']+'\x22\x20class=\x22color-palette-btn\x20'+(_0x3ecfc8?'text-gray-300\x20hover:text-white':_0x52eeb9(0x673))+_0x52eeb9(0x6e7)+_0x3b368d['id']+'\x22\x20class=\x22pin-project-btn\x20'+(_0x3ecfc8?'text-gray-300\x20hover:text-white':'text-gray-400\x20hover:text-indigo-600')+_0x52eeb9(0x69f)+(_0x22b3f2?_0x3ecfc8?_0x52eeb9(0x9b1):_0x52eeb9(0x5f6):'')+_0x52eeb9(0x921)+_0x3b368d['id']+_0x52eeb9(0x712)+_0x5a63cf+_0x52eeb9(0x954)+_0x3b368d['projectName']+_0x52eeb9(0x9a0)+_0x440fd0+_0x52eeb9(0x118)+new Date(_0x3b368d[_0x52eeb9(0x489)])[_0x52eeb9(0x507)](_0x52eeb9(0x29c))+_0x52eeb9(0x32f)+(_0x3ecfc8?_0x52eeb9(0x198):'text-gray-700')+_0x52eeb9(0x615)+_0x55ab7c+_0x52eeb9(0x79e)+_0x3b368d['id']+_0x52eeb9(0x9b6)+_0x3b368d[_0x52eeb9(0x772)]+_0x52eeb9(0x474)+(_0x3ecfc8?_0x52eeb9(0x153):_0x52eeb9(0x992))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';});}else _0x183c9c[_0x37fb6e(0x41e)]=_0x37fb6e(0x291),starredQuizzes[_0x37fb6e(0x8f7)]>0x0&&_0x575d54===''&&(_0x545eaa+=_0x37fb6e(0xcf)+starredQuizzes[_0x37fb6e(0x8f7)]+_0x37fb6e(0x662)),_0x545eaa+=_0x37fb6e(0x43f),_0x1bd81b[_0x37fb6e(0x1d9)](_0x193f23=>{const _0x3ec33b=_0x37fb6e,_0x3407dc=_0x2b68a5[_0x193f23['id']]??0x0,_0x410391=_0x53038a[_0x3ec33b(0x23b)](_0x193f23['id']);_0x545eaa+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-12\x20gap-4\x20items-center\x20p-3\x20rounded-lg\x20hover:bg-gray-100\x20border\x20transition-all\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-5\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-3\x20h-3\x20rounded-full\x20mr-3\x22\x20style=\x22background-color:\x20'+(_0x193f23[_0x3ec33b(0x300)]||'#E5E7EB')+'\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20flex-grow\x22\x20data-id=\x22'+_0x193f23['id']+_0x3ec33b(0x9c5)+_0x193f23['projectName']+_0x3ec33b(0x5e5)+_0x3407dc+_0x3ec33b(0x693)+new Date(_0x193f23[_0x3ec33b(0x489)])[_0x3ec33b(0x77d)](_0x3ec33b(0x29c))+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-span-12\x20md:col-span-2\x20flex\x20items-center\x20justify-end\x20gap-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x193f23['id']+_0x3ec33b(0x5bf)+(_0x410391?'text-indigo-600':'')+_0x3ec33b(0x127)+_0x193f23['id']+_0x3ec33b(0x9b6)+_0x193f23[_0x3ec33b(0x772)]+_0x3ec33b(0x164);});projectList[_0x37fb6e(0x938)]=_0x545eaa,noProjectsMsg[_0x37fb6e(0x6a0)][_0x37fb6e(0x2fe)](_0x37fb6e(0x8c9),_0x545eaa[_0x37fb6e(0x8f7)]>0x0);}document[_0x375675(0x893)](_0x375675(0x247))['addEventListener'](_0x375675(0x246),async()=>{const _0x413361=_0x375675,_0x42f768=document[_0x413361(0x893)](_0x413361(0x8f0)),_0x59a7f6=_0x42f768[_0x413361(0x106)][_0x413361(0x517)]();if(!_0x59a7f6){showMessage(_0x413361(0x487));return;}try{const _0x385bd9=doc(collection(db,_0x413361(0x54c)+appId+'/public/data/projects'));await setDoc(_0x385bd9,{'projectName':_0x59a7f6,'students':[],'settings':{'resultsDisplay':_0x413361(0x776),'shuffleSetting':_0x413361(0x951),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x413361(0x951),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()['toISOString']()}),_0x42f768[_0x413361(0x106)]='',createProjectModal[_0x413361(0x6a0)][_0x413361(0x273)](_0x413361(0x8c9)),showMessage(_0x413361(0x410));}catch(_0x2eafea){console['error'](_0x413361(0x831),_0x2eafea),showMessage(_0x413361(0x931));}}),projectList[_0x375675(0x15b)](_0x375675(0x246),async _0x4e788f=>{const _0x25e924=_0x375675,_0x2f36ea=_0x4e788f[_0x25e924(0x7df)][_0x25e924(0x6c3)](_0x25e924(0x3ce)),_0x2cfc27=_0x4e788f[_0x25e924(0x7df)][_0x25e924(0x6c3)]('.delete-project-btn'),_0x564af2=_0x4e788f['target'][_0x25e924(0x6c3)](_0x25e924(0x369)),_0x31f238=_0x4e788f[_0x25e924(0x7df)][_0x25e924(0x6c3)](_0x25e924(0x822));if(_0x564af2){const _0x5253dc=_0x564af2[_0x25e924(0x40f)]['id'],_0x234c4c=doc(db,'globalSettings',_0x25e924(0x361)),_0x577d18=globalDashboardSettings['pinnedProjects'];let _0x476a36;_0x577d18[_0x25e924(0x5b5)](_0x5253dc)?_0x476a36=_0x577d18[_0x25e924(0x625)](_0x5577a7=>_0x5577a7!==_0x5253dc):_0x476a36=[..._0x577d18,_0x5253dc];try{await setDoc(_0x234c4c,{'pinnedProjects':_0x476a36},{'merge':!![]});}catch(_0x1287f7){console[_0x25e924(0x8f8)](_0x25e924(0x523),_0x1287f7),showMessage(_0x25e924(0x946));}}else{if(_0x31f238){const _0x478acf=_0x31f238[_0x25e924(0x40f)]['id'];showColorPalette(_0x31f238,_0x478acf);}else{if(_0x2f36ea){const _0x4d7382=_0x2f36ea[_0x25e924(0x40f)]['id'];_0x4d7382===_0x25e924(0x7a5)?showStarredProjectView():(currentProjectId=_0x4d7382,await loadProjectDetails(currentProjectId),showView(_0x25e924(0x31c)));}else{if(_0x2cfc27){const _0x1a5fcd=_0x2cfc27[_0x25e924(0x40f)]['id'],_0x3d507d=_0x2cfc27[_0x25e924(0x40f)]['name'];showConfirmation(_0x25e924(0x250)+_0x3d507d+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x1a5fcd));}}}}}),projectList[_0x375675(0x15b)](_0x375675(0x47d),_0x278c9b=>{const _0x4491e3=_0x375675,_0x350829=_0x278c9b[_0x4491e3(0x7df)]['closest']('.project-card-container');_0x350829&&_0x350829[_0x4491e3(0x6a0)][_0x4491e3(0x273)](_0x4491e3(0x36c));}),projectList['addEventListener']('dragend',_0x3cace7=>{const _0x3ab521=_0x375675,_0x38cc3a=_0x3cace7[_0x3ab521(0x7df)][_0x3ab521(0x6c3)]('.project-card-container');_0x38cc3a&&_0x38cc3a[_0x3ab521(0x6a0)]['remove'](_0x3ab521(0x36c));}),projectList[_0x375675(0x15b)](_0x375675(0x163),_0xc7d271=>{const _0x4da398=_0x375675;_0xc7d271[_0x4da398(0x972)]();const _0x1f361b=document[_0x4da398(0x173)](_0x4da398(0x18d));if(!_0x1f361b)return;const _0x3758ad=getDragAfterElement(projectList,_0xc7d271[_0x4da398(0x9c8)]);_0x3758ad==null?projectList[_0x4da398(0x644)](_0x1f361b):projectList[_0x4da398(0x9ec)](_0x1f361b,_0x3758ad);}),projectList[_0x375675(0x15b)](_0x375675(0x890),_0x4ed785=>{const _0x4592a4=_0x375675;_0x4ed785['preventDefault']();const _0x241823=[...projectList[_0x4592a4(0x814)](_0x4592a4(0x7a3))][_0x4592a4(0x2cb)](_0xaebb15=>_0xaebb15[_0x4592a4(0x40f)]['id']);saveProjectOrder(_0x241823);});function renderBehaviorLog(_0x1b78e0){const _0x51589c=_0x375675,_0x5eb735=document['getElementById'](_0x51589c(0x5c7));if(!_0x5eb735)return;const _0x1e4284=_0x1b78e0[_0x51589c(0x625)](_0x240de9=>_0x240de9[_0x51589c(0x426)]&&_0x240de9[_0x51589c(0x426)][_0x51589c(0x8f7)]>0x0);if(_0x1e4284[_0x51589c(0x8f7)]===0x0){_0x5eb735[_0x51589c(0x938)]=_0x51589c(0x56c);return;}let _0x4ea7bf='';_0x1e4284[_0x51589c(0x1d9)](_0x231ac2=>{const _0x424154=_0x51589c;_0x4ea7bf+=_0x424154(0x11c)+_0x231ac2[_0x424154(0x8cd)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x20pl-4\x20border-l-2\x20border-gray-200\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x231ac2[_0x424154(0x426)][_0x424154(0x4d7)]((_0x4ba0e6,_0x311fd5)=>new Date(_0x311fd5[_0x424154(0x796)])-new Date(_0x4ba0e6[_0x424154(0x796)]))['forEach'](_0x3b910b=>{const _0x3bf6b9=_0x424154,_0x30c534=new Date(_0x3b910b[_0x3bf6b9(0x796)])[_0x3bf6b9(0x77d)](_0x3bf6b9(0x29c),{'dateStyle':_0x3bf6b9(0x9a7),'timeStyle':_0x3bf6b9(0x81f)});_0x4ea7bf+=_0x3bf6b9(0x902)+_0x3b910b[_0x3bf6b9(0x412)]+_0x3bf6b9(0x5e0)+_0x30c534+_0x3bf6b9(0x981);}),_0x4ea7bf+=_0x424154(0x7a6);}),_0x5eb735[_0x51589c(0x938)]=_0x4ea7bf;}function getDragAfterElement(_0x17b528,_0x448980){const _0x828004=_0x375675,_0x436e36=[..._0x17b528[_0x828004(0x814)](_0x828004(0x756))];return _0x436e36[_0x828004(0x580)]((_0x93f744,_0x59bf1b)=>{const _0x15fdb3=_0x828004,_0x12ff6b=_0x59bf1b[_0x15fdb3(0x275)](),_0x1d9174=_0x448980-_0x12ff6b[_0x15fdb3(0x723)]-_0x12ff6b[_0x15fdb3(0x43e)]/0x2;return _0x1d9174<0x0&&_0x1d9174>_0x93f744[_0x15fdb3(0x158)]?{'offset':_0x1d9174,'element':_0x59bf1b}:_0x93f744;},{'offset':Number[_0x828004(0x7b2)]})[_0x828004(0x542)];}async function saveProjectOrder(_0x56a48a){const _0x2d80e3=_0x375675,_0x32cbb3=doc(db,'globalSettings',_0x2d80e3(0x361));try{await setDoc(_0x32cbb3,{'projectOrder':_0x56a48a},{'merge':!![]});}catch(_0x49be0a){console[_0x2d80e3(0x8f8)]('Error\x20saving\x20project\x20order:',_0x49be0a),showMessage(_0x2d80e3(0x385));}}async function logBehaviorEvent(_0x2fe3ed,_0x606334={}){const _0x2c2974=_0x375675;if(!currentQuizData||!currentQuizData['id']||!currentStudentName){console[_0x2c2974(0x367)](_0x2c2974(0x46c));return;}const _0x4eebaa=doc(db,_0x2c2974(0x54c)+appId+_0x2c2974(0x4ae)+currentQuizData['id']+'/submissions',currentStudentName),_0x2f7c75={'event':_0x2fe3ed,'timestamp':new Date()[_0x2c2974(0x6c0)](),..._0x606334};try{await updateDoc(_0x4eebaa,{'behaviorLog':arrayUnion(_0x2f7c75)}),console[_0x2c2974(0x264)](_0x2c2974(0x350)+currentStudentName+_0x2c2974(0x2c9));}catch(_0x44b92d){_0x44b92d[_0x2c2974(0x516)]===_0x2c2974(0x817)?console['warn'](_0x2c2974(0x430)+currentStudentName+'\x20จึงไม่สามารถบันทึก\x20behavior\x20log\x20ได้\x20(นี่คือเหตุการณ์ปกติ)'):console[_0x2c2974(0x8f8)](_0x2c2974(0x75c),_0x44b92d);}}function calculateMeanAndStdDev(_0x1f56ab){const _0xa8bdac=_0x375675;if(_0x1f56ab[_0xa8bdac(0x8f7)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x3fa6f4=_0x1f56ab[_0xa8bdac(0x580)]((_0x519a18,_0x1ae835)=>_0x519a18+_0x1ae835,0x0)/_0x1f56ab['length'];if(_0x1f56ab['length']===0x1)return{'mean':_0x3fa6f4,'stdDev':0x0};const _0x6509f6=Math[_0xa8bdac(0x9a3)](_0x1f56ab[_0xa8bdac(0x2cb)](_0x4d59f8=>Math['pow'](_0x4d59f8-_0x3fa6f4,0x2))[_0xa8bdac(0x580)]((_0x1dd06a,_0x35dafd)=>_0x1dd06a+_0x35dafd,0x0)/(_0x1f56ab[_0xa8bdac(0x8f7)]-0x1));return{'mean':_0x3fa6f4,'stdDev':_0x6509f6};}function calculateZScore(_0x4aa6ff,_0x46b824,_0x3ec7cd){if(_0x3ec7cd===0x0)return 0x0;return(_0x4aa6ff-_0x46b824)/_0x3ec7cd;}function calculateTScore(_0xec4066){return 0xa*_0xec4066+0x32;}function showStarredProjectView(){const _0x3debf7=_0x375675;currentProjectId=_0x3debf7(0x501),currentProjectData=null,projectTitle[_0x3debf7(0x490)]=_0x3debf7(0x8e6),projectIdDisplay[_0x3debf7(0x490)]=_0x3debf7(0x872),showView(_0x3debf7(0x31c)),manageTab[_0x3debf7(0x6a0)][_0x3debf7(0x273)](_0x3debf7(0x8c9)),leaderboardTab['classList'][_0x3debf7(0x273)]('hidden'),switchProjectTab('results'),renderQuizzes();}async function loadProjectDetails(_0x429f78){const _0xb0c76f=_0x375675,_0x391b55=doc(db,_0xb0c76f(0x54c)+appId+_0xb0c76f(0x556),_0x429f78),_0x47a05c=await getDoc(_0x391b55);if(_0x47a05c[_0xb0c76f(0x135)]()){manageTab['classList'][_0xb0c76f(0x139)](_0xb0c76f(0x8c9)),leaderboardTab[_0xb0c76f(0x6a0)][_0xb0c76f(0x139)](_0xb0c76f(0x8c9)),currentProjectData=_0x47a05c['data'](),projectTitle[_0xb0c76f(0x490)]=currentProjectData[_0xb0c76f(0x772)],projectIdDisplay[_0xb0c76f(0x490)]=_0x429f78;const _0x3341a0=currentProjectData['settings']||{};document[_0xb0c76f(0x893)](_0xb0c76f(0x207))['value']=_0x3341a0['shuffleSetting']||_0xb0c76f(0x951);const _0x3d3b92=document[_0xb0c76f(0x893)](_0xb0c76f(0x591));_0x3d3b92['checked']=_0x3341a0['showInStudentDashboard']!==![];const _0x3c5bbd=document[_0xb0c76f(0x893)](_0xb0c76f(0x7ed)),_0x305d13=document[_0xb0c76f(0x893)](_0xb0c76f(0xc6)),_0x533092=document[_0xb0c76f(0x893)](_0xb0c76f(0x61e)),_0x380efe=_0x3341a0[_0xb0c76f(0x698)]||![];_0x3c5bbd['checked']=_0x380efe,_0x533092['value']=_0x3341a0['passcode']||'',_0x305d13[_0xb0c76f(0x6a0)]['toggle'](_0xb0c76f(0x8c9),!_0x380efe),_0x3c5bbd[_0xb0c76f(0x88d)]=()=>{const _0x5193b8=_0xb0c76f;_0x305d13['classList']['toggle'](_0x5193b8(0x8c9),!_0x3c5bbd[_0x5193b8(0x33c)]);},document[_0xb0c76f(0x893)](_0xb0c76f(0x42a))[_0xb0c76f(0x33c)]=_0x3341a0[_0xb0c76f(0xe9)]||![];if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x429f78),listenForProjectQuizzes(_0x429f78),listenForStudentProfiles(_0x429f78);}else showMessage('ไม่พบโปรเจค'),showView(_0xb0c76f(0x29f));}async function handleResetProjectOrder(){const _0x36947a=_0x375675,_0x3b1d0a=doc(db,_0x36947a(0x8ac),_0x36947a(0x361));try{await setDoc(_0x3b1d0a,{'projectOrder':[]},{'merge':!![]}),showMessage('รีเซ็ตลำดับโปรเจคแล้ว');}catch(_0x30fd5e){console[_0x36947a(0x8f8)](_0x36947a(0x306),_0x30fd5e),showMessage(_0x36947a(0x968));}}async function handleTogglePinProject(_0x50b524){const _0x5a9e5f=_0x375675;if(!_0x50b524)return;const _0x35e94a=doc(db,_0x5a9e5f(0x54c)+appId+'/public/data/projects',_0x50b524);try{const _0xb2fa25=await getDoc(_0x35e94a);if(_0xb2fa25[_0x5a9e5f(0x135)]()){const _0xe11b4e=_0xb2fa25[_0x5a9e5f(0x918)]()[_0x5a9e5f(0x76b)]||![];await updateDoc(_0x35e94a,{'isPinned':!_0xe11b4e});}}catch(_0x575109){console['error'](_0x5a9e5f(0x784),_0x575109),showMessage(_0x5a9e5f(0x946));}}async function handleDeleteProject(_0x486844){const _0xffedc0=_0x375675;try{const _0x390843=writeBatch(db),_0xb13268=collection(db,_0xffedc0(0x54c)+appId+_0xffedc0(0x685)),_0xd9a27b=query(_0xb13268,where(_0xffedc0(0x862),'==',_0x486844)),_0x42165c=await getDocs(_0xd9a27b);for(const _0x45d638 of _0x42165c[_0xffedc0(0x9fe)]){const _0x1de831=collection(db,_0xffedc0(0x54c)+appId+_0xffedc0(0x4ae)+_0x45d638['id']+_0xffedc0(0x78e)),_0x41d632=await getDocs(_0x1de831);_0x41d632[_0xffedc0(0x1d9)](_0x3b4dfc=>{const _0x9bf52f=_0xffedc0;_0x390843[_0x9bf52f(0x8bb)](_0x3b4dfc['ref']);}),_0x390843[_0xffedc0(0x8bb)](_0x45d638[_0xffedc0(0x8d9)]);}const _0x4fe09d=collection(db,_0xffedc0(0x54c)+appId+_0xffedc0(0x293)+_0x486844+_0xffedc0(0x675)),_0x10e30d=await getDocs(_0x4fe09d);_0x10e30d[_0xffedc0(0x1d9)](_0x4e03aa=>{const _0x1b874a=_0xffedc0;_0x390843['delete'](_0x4e03aa[_0x1b874a(0x8d9)]);});const _0x70c014=doc(db,_0xffedc0(0x54c)+appId+_0xffedc0(0x556),_0x486844);_0x390843[_0xffedc0(0x8bb)](_0x70c014),await _0x390843[_0xffedc0(0x194)](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView(_0xffedc0(0x29f));}catch(_0x75a9e6){console[_0xffedc0(0x8f8)](_0xffedc0(0x85e),_0x75a9e6),showMessage('เกิดข้อผิดพลาดในการลบโปรเจค');}}document[_0x375675(0x893)](_0x375675(0xea))[_0x375675(0x15b)](_0x375675(0x246),async()=>{const _0x42a3d6=_0x375675;if(!currentProjectId)return;const _0x59d2c2={'defaultNumQuestions':parseInt(document[_0x42a3d6(0x893)](_0x42a3d6(0x6ed))[_0x42a3d6(0x106)]),'defaultNumChoices':parseInt(document[_0x42a3d6(0x893)]('num-choices')[_0x42a3d6(0x106)]),'defaultPassingScore':parseInt(document['getElementById']('passing-score-input')['value']),'resultsDisplay':document['getElementById'](_0x42a3d6(0x827))['value'],'shuffleSetting':document[_0x42a3d6(0x893)]('shuffle-setting-select')[_0x42a3d6(0x106)],'timerMode':document[_0x42a3d6(0x893)](_0x42a3d6(0x7c0))['value'],'timerDuration':parseInt(document[_0x42a3d6(0x893)]('timer-duration-input')['value']),'isConfidenceScoringEnabled':document[_0x42a3d6(0x893)](_0x42a3d6(0x42a))[_0x42a3d6(0x33c)],'confidenceMode':document['getElementById'](_0x42a3d6(0x8fd))[_0x42a3d6(0x106)]};try{const _0x3292b6=doc(db,_0x42a3d6(0x54c)+appId+_0x42a3d6(0x556),currentProjectId);await updateDoc(_0x3292b6,{'settings':_0x59d2c2}),showMessage(_0x42a3d6(0x36e));}catch(_0x1e2674){console[_0x42a3d6(0x8f8)](_0x42a3d6(0x97d),_0x1e2674),showMessage(_0x42a3d6(0x4cf));}});function listenForStudents(_0xb3ca56){const _0x594333=_0x375675,_0x2ed534=doc(db,'artifacts/'+appId+_0x594333(0x556),_0xb3ca56);unsubscribeStudentsListener=onSnapshot(_0x2ed534,_0x488c45=>{const _0x86d0ed=_0x594333;if(_0x488c45[_0x86d0ed(0x135)]()){const _0x37ece9=_0x488c45[_0x86d0ed(0x918)]();currentProjectData=_0x37ece9,renderStudentList(_0x37ece9[_0x86d0ed(0x67f)]||[]);}});}function renderStudentList(_0x568428){const _0x47d29e=_0x375675,_0x4a64a6=document[_0x47d29e(0x893)]('delete-all-students-btn');_0x568428[_0x47d29e(0x8f7)]===0x0?(studentList[_0x47d29e(0x938)]=_0x47d29e(0x764),_0x4a64a6[_0x47d29e(0x6a0)][_0x47d29e(0x273)](_0x47d29e(0x8c9))):(studentList[_0x47d29e(0x938)]=_0x568428[_0x47d29e(0x2cb)](_0x247a85=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x247a85+_0x47d29e(0x684)+_0x247a85+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x47d29e(0x56f)](''),_0x4a64a6[_0x47d29e(0x6a0)][_0x47d29e(0x139)](_0x47d29e(0x8c9)));}document[_0x375675(0x893)](_0x375675(0x3c2))[_0x375675(0x15b)](_0x375675(0x246),async()=>{const _0x3b39cb=_0x375675;if(!currentProjectId)return;const _0x1659b9=document[_0x3b39cb(0x893)]('student-name-input'),_0x23114e=_0x1659b9['value'][_0x3b39cb(0x517)]();if(!_0x23114e){showMessage('กรุณาใส่ชื่อนักเรียน');return;}const _0xca3d37=_0x23114e[_0x3b39cb(0x235)]('\x0a')[_0x3b39cb(0x2cb)](_0x2a0a95=>_0x2a0a95['trim']())[_0x3b39cb(0x625)](_0x5b4f0c=>_0x5b4f0c);if(_0xca3d37['length']===0x0)return;try{const _0x3cfe55=doc(db,_0x3b39cb(0x54c)+appId+'/public/data/projects',currentProjectId),_0x428af7=await getDoc(_0x3cfe55);if(_0x428af7[_0x3b39cb(0x135)]()){const _0x56cff6=_0x428af7[_0x3b39cb(0x918)]()[_0x3b39cb(0x67f)]||[],_0x5c3414=[...new Set([..._0x56cff6,..._0xca3d37])];await updateDoc(_0x3cfe55,{'students':_0x5c3414}),_0x1659b9[_0x3b39cb(0x106)]='';}}catch(_0x5a1f7a){console[_0x3b39cb(0x8f8)]('Error\x20adding\x20students:',_0x5a1f7a),showMessage('ไม่สามารถเพิ่มนักเรียนได้');}});async function handleManualQuizPairing(_0x4b99b0){const _0xa5ca30=_0x375675,_0x4e0e47=document[_0xa5ca30(0x893)](_0xa5ca30(0x40d)),_0x36d446=document[_0xa5ca30(0x893)](_0xa5ca30(0x608)),_0xae7ccb=_0x4e0e47[_0xa5ca30(0x173)]('h3'),_0x47421b=document[_0xa5ca30(0x893)](_0xa5ca30(0x90b)),_0x176a0a=document['getElementById'](_0xa5ca30(0x7c3));_0xae7ccb[_0xa5ca30(0x490)]=_0xa5ca30(0x88a),_0x36d446[_0xa5ca30(0x938)]=_0xa5ca30(0x21f),_0x47421b[_0xa5ca30(0x490)]=_0xa5ca30(0x312),_0x4e0e47[_0xa5ca30(0x6a0)]['remove'](_0xa5ca30(0x8c9));const _0x5c6a03=allQuizzes['filter'](_0x2c9155=>_0x2c9155['id']!==_0x4b99b0);_0x5c6a03[_0xa5ca30(0x8f7)]===0x0?(_0x36d446[_0xa5ca30(0x938)]=_0xa5ca30(0x3dd),_0x47421b[_0xa5ca30(0x5fa)]=!![]):(_0x36d446[_0xa5ca30(0x938)]=_0xa5ca30(0x91e)+_0x5c6a03[_0xa5ca30(0x2cb)](_0x1541e7=>_0xa5ca30(0x98e)+_0x1541e7['id']+'\x22>'+_0x1541e7['topic']+_0xa5ca30(0x35e))[_0xa5ca30(0x56f)](''),_0x47421b[_0xa5ca30(0x5fa)]=![]);const _0x420a45=async()=>{const _0x274ce0=_0xa5ca30,_0x3671cd=_0x36d446[_0x274ce0(0x106)];if(!_0x3671cd){showMessage(_0x274ce0(0x421));return;}_0x47421b[_0x274ce0(0x5fa)]=!![],_0x47421b[_0x274ce0(0x490)]=_0x274ce0(0x7a8);try{const _0x211596=doc(db,_0x274ce0(0x54c)+appId+_0x274ce0(0x685),_0x4b99b0),_0x2bf697=doc(db,_0x274ce0(0x54c)+appId+_0x274ce0(0x685),_0x3671cd),_0x4f1c7c=writeBatch(db);_0x4f1c7c['update'](_0x211596,{'pairedQuizId':_0x3671cd}),_0x4f1c7c['update'](_0x2bf697,{'pairedQuizId':_0x4b99b0}),await _0x4f1c7c[_0x274ce0(0x194)](),showMessage(_0x274ce0(0x8ee)),_0x4e0e47['classList'][_0x274ce0(0x273)](_0x274ce0(0x8c9));}catch(_0x802c9a){console[_0x274ce0(0x8f8)](_0x274ce0(0x8eb),_0x802c9a),showMessage(_0x274ce0(0x2c3));}finally{_0xae7ccb[_0x274ce0(0x490)]=_0x274ce0(0x716),_0x47421b[_0x274ce0(0x490)]=_0x274ce0(0x597),_0x47421b['disabled']=![],_0x47421b[_0x274ce0(0x5cc)](_0x274ce0(0x246),_0x420a45),_0x176a0a[_0x274ce0(0x5cc)](_0x274ce0(0x246),_0xfccf3f);}},_0xfccf3f=()=>{const _0x80a339=_0xa5ca30;_0x4e0e47[_0x80a339(0x6a0)][_0x80a339(0x273)]('hidden'),_0xae7ccb[_0x80a339(0x490)]=_0x80a339(0x716),_0x47421b[_0x80a339(0x490)]=_0x80a339(0x597),_0x47421b[_0x80a339(0x5cc)](_0x80a339(0x246),_0x420a45),_0x176a0a[_0x80a339(0x5cc)]('click',_0xfccf3f);};_0x47421b['addEventListener']('click',_0x420a45),_0x176a0a[_0xa5ca30(0x15b)](_0xa5ca30(0x246),_0xfccf3f);}function handleDeleteStudent(_0x162a4d){const _0x4a3592=_0x375675;showConfirmation(_0x4a3592(0x3f3)+_0x162a4d+_0x4a3592(0x427),async()=>{const _0x24373d=_0x4a3592;if(!currentProjectId||!currentProjectData)return;const _0x3301b9=currentProjectData[_0x24373d(0x67f)]['filter'](_0x2622f6=>_0x2622f6!==_0x162a4d);try{const _0x2a5ccc=doc(db,_0x24373d(0x54c)+appId+_0x24373d(0x556),currentProjectId),_0x134cc4=doc(db,_0x24373d(0x54c)+appId+_0x24373d(0x293)+currentProjectId+_0x24373d(0x675),_0x162a4d),_0x16e0fb=writeBatch(db);_0x16e0fb[_0x24373d(0x62b)](_0x2a5ccc,{'students':_0x3301b9}),_0x16e0fb[_0x24373d(0x8bb)](_0x134cc4),await _0x16e0fb[_0x24373d(0x194)]();}catch(_0x57b5e7){console['error'](_0x24373d(0xec),_0x57b5e7),showMessage(_0x24373d(0x6cc));}});}function handleDeleteAllStudents(){const _0x534448=_0x375675;showConfirmation(_0x534448(0x256),async()=>{const _0x2becc0=_0x534448;if(!currentProjectId)return;try{const _0x30c653=doc(db,_0x2becc0(0x54c)+appId+'/public/data/projects',currentProjectId),_0x4d6339=collection(db,_0x2becc0(0x54c)+appId+_0x2becc0(0x293)+currentProjectId+'/studentProfiles'),_0x179a47=await getDocs(_0x4d6339),_0x337524=writeBatch(db);_0x337524[_0x2becc0(0x62b)](_0x30c653,{'students':[]}),_0x179a47[_0x2becc0(0x1d9)](_0x53f003=>_0x337524['delete'](_0x53f003['ref'])),await _0x337524['commit']();}catch(_0x5b9071){console[_0x2becc0(0x8f8)](_0x2becc0(0x91d),_0x5b9071),showMessage(_0x2becc0(0x7ce));}});}async function handleGenerateFromFileClick(){const _0x883983=_0x375675;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x47338e=document[_0x883983(0x893)](_0x883983(0x4ea)),_0x140671=document[_0x883983(0x893)](_0x883983(0x811)),_0x4a1075=document[_0x883983(0x893)](_0x883983(0x6c1)),_0x2d6aab=document[_0x883983(0x893)]('generate-from-file-btn');_0x2d6aab[_0x883983(0x5fa)]=!![],document[_0x883983(0x893)]('quiz-generation-area')[_0x883983(0x6a0)]['remove']('hidden'),_0x4a1075['innerHTML']='',_0x47338e['classList']['remove'](_0x883983(0x8c9)),_0x140671[_0x883983(0x490)]=_0x883983(0x392);const _0x40ed13=new FileReader();_0x40ed13['readAsDataURL'](selectedFile),_0x40ed13[_0x883983(0x2ca)]=async()=>{const _0x1f5f54=_0x883983;try{const _0x355b4f=_0x40ed13[_0x1f5f54(0x5c6)]['split'](',')[0x1],_0x482323=selectedFile[_0x1f5f54(0x8bf)];await generateQuizFromFile(_0x482323,_0x355b4f);}catch(_0x43ca53){console[_0x1f5f54(0x8f8)](_0x1f5f54(0x85f),_0x43ca53),showMessage('เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20'+_0x43ca53[_0x1f5f54(0x18a)]),_0x47338e[_0x1f5f54(0x6a0)][_0x1f5f54(0x273)](_0x1f5f54(0x8c9));}finally{}},_0x40ed13['onerror']=_0x2149e5=>{const _0x46bd1d=_0x883983;console[_0x46bd1d(0x8f8)](_0x46bd1d(0xe8),_0x2149e5),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์'),_0x47338e[_0x46bd1d(0x6a0)][_0x46bd1d(0x273)](_0x46bd1d(0x8c9)),_0x2d6aab[_0x46bd1d(0x5fa)]=![];};}function autoFormatMath(_0x2031ba){const _0x43d600=_0x375675;if(typeof _0x2031ba!=='string'||!_0x2031ba)return _0x2031ba;const _0x431964=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x4988bb=_0x2031ba[_0x43d600(0x2fa)](_0x431964,_0x38da0b=>{const _0x532e4a=_0x43d600;return'$'+_0x38da0b[_0x532e4a(0x517)]()+'$';});return _0x4988bb;}function sanitizeQuizData(_0x240b64){const _0x26f510=_0x375675;if(!_0x240b64||!_0x240b64[_0x26f510(0x389)])return _0x240b64;const _0x357487={'imes':'\x5ctimes','div':'\x5cdiv'},_0x41268b=_0x41ecfb=>{const _0x4bcac1=_0x26f510;if(typeof _0x41ecfb!==_0x4bcac1(0x26e))return _0x41ecfb;let _0x3045ac=_0x41ecfb;for(const [_0x51f53d,_0x203a9]of Object['entries'](_0x357487)){const _0x2abd87=new RegExp('\x5cb'+_0x51f53d+'\x5cb','g');_0x3045ac=_0x3045ac[_0x4bcac1(0x2fa)](_0x2abd87,_0x203a9);}return _0x3045ac=_0x3045ac[_0x4bcac1(0x2fa)](/\\\//g,'\x5cdiv'),_0x3045ac=_0x3045ac[_0x4bcac1(0x2fa)](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')['replace'](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')[_0x4bcac1(0x2fa)](/÷/g,'\x5cdiv')[_0x4bcac1(0x2fa)](/×/g,_0x4bcac1(0x8e4)),_0x3045ac=_0x3045ac['replace'](/(\d)(\\frac)/g,_0x4bcac1(0x79b)),_0x3045ac=autoFormatMath(_0x3045ac),_0x3045ac;};return _0x240b64[_0x26f510(0x903)]&&(_0x240b64[_0x26f510(0x903)]=_0x41268b(_0x240b64[_0x26f510(0x903)])),_0x240b64[_0x26f510(0x389)][_0x26f510(0x1d9)](_0x181edf=>{const _0x33b4cb=_0x26f510;_0x181edf['questionText']=_0x41268b(_0x181edf[_0x33b4cb(0x8b8)]),_0x181edf[_0x33b4cb(0x34d)]&&(_0x181edf[_0x33b4cb(0x34d)]=_0x181edf[_0x33b4cb(0x34d)][_0x33b4cb(0x2cb)](_0x41268b)),_0x181edf[_0x33b4cb(0x6a5)]&&(_0x181edf[_0x33b4cb(0x6a5)]=_0x41268b(_0x181edf[_0x33b4cb(0x6a5)])),_0x181edf[_0x33b4cb(0x877)]&&(_0x181edf['stem']=_0x41268b(_0x181edf[_0x33b4cb(0x877)])),_0x181edf[_0x33b4cb(0x714)]&&(_0x181edf[_0x33b4cb(0x714)]=_0x41268b(_0x181edf[_0x33b4cb(0x714)])),_0x181edf['allResponses']&&(_0x181edf[_0x33b4cb(0x9c0)]=_0x181edf[_0x33b4cb(0x9c0)][_0x33b4cb(0x2cb)](_0x41268b));}),_0x240b64;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x510bcf=_0x375675,_0x334902=document['getElementById'](_0x510bcf(0x8ef)),_0x378d2e=document['getElementById'](_0x510bcf(0x9da)),_0x4a52af=_0x334902[_0x510bcf(0x106)][_0x510bcf(0x517)](),_0x3f1ccf=_0x378d2e['value'][_0x510bcf(0x517)]();if(!_0x4a52af){showMessage(_0x510bcf(0x5a6));return;}const _0x3fe32b=document[_0x510bcf(0x893)](_0x510bcf(0x4ea)),_0x5e1677=document['getElementById'](_0x510bcf(0x811)),_0x5eb48e=document['getElementById'](_0x510bcf(0x6c1)),_0x45a18e=document['getElementById']('generate-from-link-btn');document[_0x510bcf(0x893)](_0x510bcf(0x79a))[_0x510bcf(0x6a0)][_0x510bcf(0x139)]('hidden'),_0x5eb48e[_0x510bcf(0x938)]='',_0x3fe32b[_0x510bcf(0x6a0)][_0x510bcf(0x139)]('hidden'),_0x5e1677['textContent']=_0x510bcf(0x63d),_0x45a18e[_0x510bcf(0x5fa)]=!![];try{const _0x34c84d=_0x510bcf(0x887)+encodeURIComponent(_0x4a52af),_0x8bbcb4=await fetch(_0x34c84d);if(!_0x8bbcb4['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x8bbcb4[_0x510bcf(0x9bc)]+')');const _0x40f373=await _0x8bbcb4[_0x510bcf(0x4f0)](),_0x664b9b=extractTextFromHtml(_0x40f373);if(!_0x664b9b||_0x664b9b[_0x510bcf(0x8f7)]<0x64)throw new Error(_0x510bcf(0x178));await generateQuiz(_0x3f1ccf,_0x664b9b);}catch(_0x5bd8bf){console[_0x510bcf(0x8f8)](_0x510bcf(0x5ce),_0x5bd8bf),showMessage('เกิดข้อผิดพลาด:\x20'+_0x5bd8bf['message']),_0x5eb48e['innerHTML']=_0x510bcf(0x44f);}finally{_0x3fe32b[_0x510bcf(0x6a0)][_0x510bcf(0x273)]('hidden'),_0x45a18e[_0x510bcf(0x5fa)]=![];}}function extractTextFromHtml(_0x364015){const _0x171adc=_0x375675,_0x1a7b89=new DOMParser()[_0x171adc(0x103)](_0x364015,'text/html');return _0x1a7b89['querySelectorAll'](_0x171adc(0x76f))[_0x171adc(0x1d9)](_0x32b195=>_0x32b195[_0x171adc(0x139)]()),_0x1a7b89[_0x171adc(0x66d)]['textContent']||'';}document[_0x375675(0x893)](_0x375675(0x688))['addEventListener'](_0x375675(0x246),()=>{const _0x4be4b5=_0x375675,_0x2dded4=document[_0x4be4b5(0x893)](_0x4be4b5(0x47c))['value'][_0x4be4b5(0x517)]();generateQuiz(_0x2dded4,null);}),document[_0x375675(0x893)](_0x375675(0x283))[_0x375675(0x15b)]('click',()=>{const _0x229505=_0x375675,_0x4495bb=document[_0x229505(0x893)](_0x229505(0x16d))[_0x229505(0x106)][_0x229505(0x517)]();if(!_0x4495bb){showMessage(_0x229505(0x40a));return;}const _0x5d2875=document[_0x229505(0x893)]('topic-input')[_0x229505(0x106)]['trim']();generateQuiz(_0x5d2875,_0x4495bb);});async function generateQuiz(_0x15c346,_0x29e91e,_0x423c40=null){const _0x41a7da=_0x375675,_0x3c8c54=document['getElementById'](_0x41a7da(0x434))[_0x41a7da(0x33c)],_0x51cd73=document['getElementById'](_0x41a7da(0x3ea))[_0x41a7da(0x106)],_0x4d0ec8=document[_0x41a7da(0x893)](_0x41a7da(0x6ed))[_0x41a7da(0x106)],_0x4de488=document[_0x41a7da(0x893)](_0x41a7da(0x682))[_0x41a7da(0x106)],_0x2eef7b=document['getElementById'](_0x41a7da(0x2a1))[_0x41a7da(0x33c)],_0x28fbc5=_0x2eef7b?'':'คณิตศาสตร์',_0x129ebd=document['getElementById'](_0x41a7da(0x449)),_0x38d21d=_0x129ebd[_0x41a7da(0x106)];let _0x10e0a3='';_0x38d21d!==_0x41a7da(0x95a)&&(_0x10e0a3=_0x41a7da(0x904)+_0x38d21d+'\x22');const _0x3bf949=document[_0x41a7da(0x893)](_0x41a7da(0x59d)),_0x32d401=_0x3bf949[_0x41a7da(0x106)];let _0x374b0f='';_0x32d401!==_0x41a7da(0x303)&&(_0x374b0f=_0x41a7da(0x2bd)+_0x32d401+_0x41a7da(0x6d1));const _0x1f65dc=document[_0x41a7da(0x814)](_0x41a7da(0xd7)),_0x2af028=Array[_0x41a7da(0x84b)](_0x1f65dc)[_0x41a7da(0x2cb)](_0x469805=>_0x469805[_0x41a7da(0x106)]);let _0x42f179='';_0x2af028[_0x41a7da(0x8f7)]>0x0&&(_0x42f179='โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20'+_0x2af028[_0x41a7da(0x56f)](',\x20')+_0x41a7da(0x210));let _0x2ef850='',_0x1fdb0b='',_0x46fb7d,_0x4176f0=_0x41a7da(0x208)+_0x15c346+'\x22';if(!_0x15c346&&_0x29e91e)_0x4176f0=_0x41a7da(0x179);else!_0x15c346&&!_0x29e91e&&(_0x4176f0=_0x41a7da(0x8ad));const _0x54aaaa={'type':_0x41a7da(0x7d8),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x41a7da(0x4b8)}},'correctAnswerIndex':{'type':_0x41a7da(0x8fe)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x41a7da(0x8b8),_0x41a7da(0x34d),_0x41a7da(0x376),_0x41a7da(0x6a5)]},_0x26d0ae={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x41a7da(0x4b8)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x41a7da(0x4b8)}},'required':['questionText',_0x41a7da(0xf4),'explanation']},_0x22d01e={'type':_0x41a7da(0x7d8),'properties':{'questionText':{'type':_0x41a7da(0x4b8)},'questionType':{'type':_0x41a7da(0x4b8),'enum':['multiple_choice',_0x41a7da(0x689)]},'options':{'type':_0x41a7da(0xc5),'items':{'type':_0x41a7da(0x4b8)}},'correctAnswerIndex':{'type':_0x41a7da(0x8fe)},'idealAnswer':{'type':_0x41a7da(0x4b8)},'explanation':{'type':_0x41a7da(0x4b8)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x41a7da(0x1d7),_0x41a7da(0x6a5)]},_0x975178={'type':_0x41a7da(0x7d8),'properties':{'questionText':{'type':_0x41a7da(0x4b8)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x41a7da(0x4b8)},'imageCode':{'type':'STRING'}},'required':['questionText',_0x41a7da(0x1b1),_0x41a7da(0x6a5)]},_0x4a7ef0={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0x41a7da(0x99f)]},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x41a7da(0xc5),'items':{'type':_0x41a7da(0x4b8)}},'explanation':{'type':_0x41a7da(0x4b8)},'imageCode':{'type':_0x41a7da(0x4b8)}},'required':[_0x41a7da(0x1d7),_0x41a7da(0x877),_0x41a7da(0x714),_0x41a7da(0x9c0),_0x41a7da(0x6a5)]};let _0xd25e66;if(_0x423c40!==null){const _0x4a9687=currentQuizData[_0x41a7da(0x389)][_0x423c40]['questionType'],_0x2de65b=_0x3c8c54?_0x41a7da(0x3c9):'';_0x2ef850=_0x41a7da(0x349)+_0x4176f0+'\x20'+_0x42f179+'\x20'+_0x10e0a3+'\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20'+_0x2de65b+'\x20'+simpleMathPrompt;if(_0x4a9687===_0x41a7da(0x5b4))_0x46fb7d=_0x54aaaa;else{if(_0x4a9687===_0x41a7da(0x99f))_0x46fb7d={'type':_0x41a7da(0x7d8),'properties':{'questionType':{'type':_0x41a7da(0x4b8),'enum':['matching_item']},'stem':{'type':_0x41a7da(0x4b8)},'correctResponse':{'type':_0x41a7da(0x4b8)},'explanation':{'type':_0x41a7da(0x4b8)},'imageCode':{'type':_0x41a7da(0x4b8)}},'required':[_0x41a7da(0x1d7),_0x41a7da(0x877),'correctResponse',_0x41a7da(0x6a5)]};else _0x46fb7d=_0x26d0ae;}_0xd25e66=_0x46fb7d;}else{const _0x2970ae=_0x3c8c54?_0x41a7da(0x85a):'',_0x1f9c8c=_0x41a7da(0x986);switch(_0x51cd73){case'multiple_choice':_0x2ef850=_0x41a7da(0x2cc)+_0x28fbc5+'\x20'+_0x4d0ec8+'\x20ข้อ\x20'+_0x4176f0+'\x20'+_0x42f179+'\x20'+_0x10e0a3+'\x20'+_0x374b0f+_0x41a7da(0x3fe)+_0x4de488+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x2970ae+'\x20'+simpleMathPrompt,_0x46fb7d=_0x54aaaa;break;case _0x41a7da(0x22c):_0x2ef850=_0x41a7da(0x620)+_0x28fbc5+'\x20'+_0x4d0ec8+_0x41a7da(0x61a)+_0x4176f0+'\x20'+_0x42f179+'\x20'+_0x10e0a3+'\x20'+_0x374b0f+_0x41a7da(0x589)+_0x4de488+_0x41a7da(0x823)+_0x2970ae+'\x20'+simpleMathPrompt,_0x46fb7d=_0x54aaaa;break;case'fill_in_no_choices':_0x2ef850=_0x41a7da(0x620)+_0x28fbc5+'\x20'+_0x4d0ec8+_0x41a7da(0x61a)+_0x4176f0+'\x20'+_0x42f179+'\x20'+_0x10e0a3+'\x20'+_0x374b0f+_0x41a7da(0x99a)+_0x2970ae+'\x20'+simpleMathPrompt,_0x46fb7d=_0x26d0ae;break;case _0x41a7da(0x303):_0x2ef850='สร้างแบบทดสอบ'+_0x28fbc5+'\x20'+_0x4d0ec8+_0x41a7da(0x61a)+_0x4176f0+'\x20'+_0x42f179+'\x20'+_0x10e0a3+'\x20'+_0x374b0f+_0x41a7da(0x400)+_0x4de488+'\x20ตัวเลือก.\x20'+_0x2970ae+'\x20'+simpleMathPrompt+'.',_0x46fb7d=_0x22d01e;break;case _0x41a7da(0x46e):_0x2ef850='สร้างคำถามแบบใช่/ไม่ใช่'+_0x28fbc5+'\x20'+_0x4d0ec8+_0x41a7da(0x61a)+_0x4176f0+'\x20'+_0x42f179+'\x20'+_0x10e0a3+'\x20'+_0x374b0f+_0x41a7da(0x6d6)+_0x2970ae+'\x20'+simpleMathPrompt,_0x46fb7d=_0x975178;break;case _0x41a7da(0x5e6):_0x2ef850='สร้างชุดคำถามจับคู่'+_0x28fbc5+'\x20'+_0x4d0ec8+_0x41a7da(0x825)+_0x4176f0+'\x20'+_0x42f179+'\x20'+_0x10e0a3+'\x20'+_0x374b0f+_0x41a7da(0x364)+_0x2970ae+'\x20'+simpleMathPrompt,_0x46fb7d=_0x4a7ef0;break;}_0xd25e66={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x41a7da(0xc5),'items':_0x46fb7d}},'required':['topic',_0x41a7da(0x389)]};}return _0x29e91e?(_0x2ef850=_0x41a7da(0x387)+_0x29e91e+_0x41a7da(0x958)+_0x2ef850,_0x1fdb0b=_0x41a7da(0x22b)):_0x1fdb0b=_0x41a7da(0x731),handleApiCall(_0x2ef850,_0x1fdb0b,_0xd25e66,_0x423c40);}async function generateQuizFromFile(_0x4888ec,_0x583e01){const _0x6eac1a=_0x375675,_0x249bdc=document[_0x6eac1a(0x893)](_0x6eac1a(0xa1c))[_0x6eac1a(0x106)]['trim'](),_0xf7fd65=document[_0x6eac1a(0x893)](_0x6eac1a(0x3ea))['value'],_0x18d4fb=document[_0x6eac1a(0x893)](_0x6eac1a(0x6ed))[_0x6eac1a(0x106)],_0x1f94b5=document['getElementById']('num-choices')[_0x6eac1a(0x106)],_0x50148e=document[_0x6eac1a(0x893)]('include-images-checkbox')[_0x6eac1a(0x33c)],_0x54f3c7=document[_0x6eac1a(0x893)]('force-math-checkbox')[_0x6eac1a(0x33c)],_0x5a792f=_0x54f3c7?'':_0x6eac1a(0x59b);let _0x3dc9e8='',_0x4ef655,_0x4f71f3=_0x6eac1a(0x208)+_0x249bdc+'\x22';!_0x249bdc&&(_0x4f71f3=_0x6eac1a(0x2b3));const _0x497d71=_0x50148e?_0x6eac1a(0x85a):'';switch(_0xf7fd65){case'multiple_choice':_0x3dc9e8=_0x6eac1a(0x2cc)+_0x5a792f+'\x20'+_0x18d4fb+_0x6eac1a(0x61a)+_0x4f71f3+_0x6eac1a(0x3fe)+_0x1f94b5+_0x6eac1a(0x294)+_0x497d71+'\x20'+simpleMathPrompt,_0x4ef655={'type':_0x6eac1a(0x7d8),'properties':{'questionText':{'type':_0x6eac1a(0x4b8)},'options':{'type':_0x6eac1a(0xc5),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x6eac1a(0x8fe)},'explanation':{'type':_0x6eac1a(0x4b8)},'imageCode':{'type':_0x6eac1a(0x4b8)}},'required':[_0x6eac1a(0x8b8),_0x6eac1a(0x34d),_0x6eac1a(0x376),_0x6eac1a(0x6a5)]};break;case'fill_in_with_choices':_0x3dc9e8='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x5a792f+'\x20'+_0x18d4fb+_0x6eac1a(0x61a)+_0x4f71f3+_0x6eac1a(0x589)+_0x1f94b5+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x497d71+'\x20'+simpleMathPrompt,_0x4ef655={'type':_0x6eac1a(0x7d8),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x6eac1a(0xc5),'items':{'type':_0x6eac1a(0x4b8)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x6eac1a(0x4b8)},'imageCode':{'type':_0x6eac1a(0x4b8)}},'required':[_0x6eac1a(0x8b8),'options',_0x6eac1a(0x376),_0x6eac1a(0x6a5)]};break;case'fill_in_no_choices':_0x3dc9e8=_0x6eac1a(0x620)+_0x5a792f+'\x20'+_0x18d4fb+_0x6eac1a(0x61a)+_0x4f71f3+_0x6eac1a(0x99a)+_0x497d71+'\x20'+simpleMathPrompt,_0x4ef655={'type':_0x6eac1a(0x7d8),'properties':{'questionText':{'type':_0x6eac1a(0x4b8)},'idealAnswer':{'type':'STRING'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x6eac1a(0x4b8)}},'required':[_0x6eac1a(0x8b8),_0x6eac1a(0xf4),_0x6eac1a(0x6a5)]};break;case _0x6eac1a(0x303):_0x3dc9e8=_0x6eac1a(0x44d)+_0x5a792f+'\x20'+_0x18d4fb+_0x6eac1a(0x61a)+_0x4f71f3+',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20'+_0x1f94b5+'\x20ตัวเลือก.\x20'+_0x497d71+'\x20'+simpleMathPrompt+'.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.',_0x4ef655={'type':'OBJECT','properties':{'questionText':{'type':_0x6eac1a(0x4b8)},'questionType':{'type':_0x6eac1a(0x4b8),'enum':['multiple_choice',_0x6eac1a(0x689)]},'options':{'type':_0x6eac1a(0xc5),'items':{'type':_0x6eac1a(0x4b8)}},'correctAnswerIndex':{'type':_0x6eac1a(0x8fe)},'idealAnswer':{'type':_0x6eac1a(0x4b8)},'explanation':{'type':_0x6eac1a(0x4b8)},'imageCode':{'type':_0x6eac1a(0x4b8)}},'required':[_0x6eac1a(0x8b8),_0x6eac1a(0x1d7),_0x6eac1a(0x6a5)]};break;case'true_false':_0x3dc9e8='สร้างคำถามแบบใช่/ไม่ใช่'+_0x5a792f+'\x20'+_0x18d4fb+_0x6eac1a(0x61a)+_0x4f71f3+_0x6eac1a(0x659)+_0x497d71+'\x20'+simpleMathPrompt,_0x4ef655={'type':_0x6eac1a(0x7d8),'properties':{'questionText':{'type':_0x6eac1a(0x4b8)},'correctAnswer':{'type':_0x6eac1a(0x3f7)},'explanation':{'type':_0x6eac1a(0x4b8)},'imageCode':{'type':'STRING'}},'required':[_0x6eac1a(0x8b8),_0x6eac1a(0x1b1),_0x6eac1a(0x6a5)]};break;case _0x6eac1a(0x5e6):_0x3dc9e8='สร้างชุดคำถามจับคู่'+_0x5a792f+'\x20'+_0x18d4fb+_0x6eac1a(0x825)+_0x4f71f3+_0x6eac1a(0x1db)+_0x18d4fb+_0x6eac1a(0x2ae)+_0x497d71+'\x20'+simpleMathPrompt,_0x4ef655={'type':_0x6eac1a(0x7d8),'properties':{'questionType':{'type':_0x6eac1a(0x4b8),'enum':[_0x6eac1a(0x99f)]},'stem':{'type':_0x6eac1a(0x4b8)},'correctResponse':{'type':_0x6eac1a(0x4b8)},'allResponses':{'type':_0x6eac1a(0xc5),'items':{'type':_0x6eac1a(0x4b8)}},'explanation':{'type':_0x6eac1a(0x4b8)},'imageCode':{'type':_0x6eac1a(0x4b8)}},'required':[_0x6eac1a(0x1d7),_0x6eac1a(0x877),_0x6eac1a(0x714),_0x6eac1a(0x9c0),'explanation']};break;}const _0x4d3f8b={'type':_0x6eac1a(0x7d8),'properties':{'topic':{'type':_0x6eac1a(0x4b8)},'questions':{'type':_0x6eac1a(0xc5),'items':_0x4ef655}},'required':[_0x6eac1a(0x903),_0x6eac1a(0x389)]},_0x22b876=_0x6eac1a(0x8d7)+_0x3dc9e8,_0x337e63={'contents':[{'parts':[{'text':_0x22b876},{'inlineData':{'mimeType':_0x4888ec,'data':_0x583e01}}]}],'generationConfig':{'responseMimeType':_0x6eac1a(0x62d),'responseSchema':_0x4d3f8b}};return handleApiCall(_0x337e63[_0x6eac1a(0x203)][0x0][_0x6eac1a(0x50f)],_0x6eac1a(0x8b7),_0x4d3f8b);}async function handleApiCall(_0x3c581d,_0x44b96d,_0x39d4cb,_0x32b3f6=null){const _0x2b403a=_0x375675,_0x4eb8c4=document['getElementById'](_0x2b403a(0x79a)),_0x4c354d=document[_0x2b403a(0x893)](_0x2b403a(0x4ea)),_0x3ec9e1=document[_0x2b403a(0x893)](_0x2b403a(0x811)),_0xa1a033=document[_0x2b403a(0x893)](_0x2b403a(0x6c1));_0x4eb8c4['classList'][_0x2b403a(0x139)](_0x2b403a(0x8c9));_0x32b3f6===null&&(_0xa1a033[_0x2b403a(0x938)]='');_0x4c354d[_0x2b403a(0x6a0)][_0x2b403a(0x139)](_0x2b403a(0x8c9)),_0x3ec9e1[_0x2b403a(0x490)]=_0x44b96d,document[_0x2b403a(0x893)](_0x2b403a(0x688))[_0x2b403a(0x5fa)]=!![],document[_0x2b403a(0x893)]('generate-from-text-btn')[_0x2b403a(0x5fa)]=!![],document['getElementById'](_0x2b403a(0x1c8))[_0x2b403a(0x5fa)]=!![];try{const _0xac5bb8={'responseMimeType':_0x2b403a(0x62d),'responseSchema':_0x39d4cb},_0x1d1b3b=Array[_0x2b403a(0x984)](_0x3c581d)?_0x3c581d:[{'text':_0x3c581d}],_0x4cbf35={'contents':[{'role':'user','parts':_0x1d1b3b}],'generationConfig':_0xac5bb8},_0x15f6eb=_0x2b403a(0x789),_0x37d3da=_0x2b403a(0x7eb)+_0x15f6eb,_0x5249ad=await fetch(_0x37d3da,{'method':_0x2b403a(0x636),'headers':{'Content-Type':_0x2b403a(0x62d)},'body':JSON[_0x2b403a(0x5dd)](_0x4cbf35)});if(!_0x5249ad['ok'])throw new Error(_0x2b403a(0x321)+_0x5249ad['status']);const _0x1baea7=await _0x5249ad[_0x2b403a(0x9e9)]();if(_0x1baea7[_0x2b403a(0x381)]?.[0x0]?.[_0x2b403a(0x68f)]?.[_0x2b403a(0x50f)]?.[0x0]){let _0x344791=_0x1baea7['candidates'][0x0][_0x2b403a(0x68f)][_0x2b403a(0x50f)][0x0][_0x2b403a(0x4f0)],_0x25b7c8;try{if(_0x344791[_0x2b403a(0x310)](_0x2b403a(0x199)))_0x344791=_0x344791[_0x2b403a(0x357)](0x7,_0x344791[_0x2b403a(0x8f7)]-0x3)[_0x2b403a(0x517)]();else _0x344791['startsWith']('```')&&(_0x344791=_0x344791[_0x2b403a(0x357)](0x3,_0x344791[_0x2b403a(0x8f7)]-0x3)[_0x2b403a(0x517)]());_0x25b7c8=JSON[_0x2b403a(0x95e)](_0x344791);}catch(_0x4c2e85){console[_0x2b403a(0x8f8)](_0x2b403a(0x12e),_0x4c2e85,_0x344791);throw new Error(_0x2b403a(0xd4));}if(_0x32b3f6!==null){if(_0x25b7c8[_0x2b403a(0x1d7)]==='matching_item'){const _0x5f47eb=currentQuizData['questions']['map'](_0x1e3f9f=>_0x1e3f9f['correctResponse']);_0x25b7c8[_0x2b403a(0x9c0)]=_0x5f47eb;const _0x3afbb0=currentQuizData['questions'][_0x32b3f6][_0x2b403a(0x714)],_0x282974=_0x5f47eb[_0x2b403a(0x8f5)](_0x3afbb0);_0x282974>-0x1&&(_0x5f47eb[_0x282974]=_0x25b7c8[_0x2b403a(0x714)]),currentQuizData['questions']['forEach'](_0x56ca50=>{const _0x605459=_0x2b403a;if(_0x56ca50[_0x605459(0x1d7)]===_0x605459(0x99f))_0x56ca50[_0x605459(0x9c0)]=_0x5f47eb;});}currentQuizData[_0x2b403a(0x389)][_0x32b3f6]=_0x25b7c8,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x25b7c8;const _0x522f47=document[_0x2b403a(0x893)](_0x2b403a(0x3ea))[_0x2b403a(0x106)];currentQuizData['quizType']=_0x522f47,currentQuizData[_0x2b403a(0x389)]&&currentQuizData[_0x2b403a(0x389)][_0x2b403a(0x1d9)](_0x2b8a50=>{const _0x218fa3=_0x2b403a;if(!_0x2b8a50[_0x218fa3(0x1d7)]){if(_0x522f47===_0x218fa3(0x22c))_0x2b8a50[_0x218fa3(0x1d7)]=_0x218fa3(0x5b4);else _0x522f47===_0x218fa3(0x611)?_0x2b8a50[_0x218fa3(0x1d7)]=_0x218fa3(0x689):_0x2b8a50['questionType']=_0x522f47;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x2b403a(0x8f8)](_0x2b403a(0x134),JSON[_0x2b403a(0x5dd)](_0x1baea7));throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}}catch(_0x1151d8){console['error']('Error\x20generating\x20quiz:',_0x1151d8),showMessage(_0x2b403a(0x9a5)),_0x32b3f6===null&&(_0xa1a033[_0x2b403a(0x938)]=_0x2b403a(0x7bc));}finally{_0x4c354d['classList'][_0x2b403a(0x273)](_0x2b403a(0x8c9)),document['getElementById']('generate-from-topic-btn')['disabled']=![],document[_0x2b403a(0x893)](_0x2b403a(0x283))[_0x2b403a(0x5fa)]=![],document['getElementById'](_0x2b403a(0x1c8))[_0x2b403a(0x5fa)]=![];const _0x51b01e=document[_0x2b403a(0x893)](_0x2b403a(0x9cc));_0x51b01e&&(_0x51b01e[_0x2b403a(0x5fa)]=![]);}}function exitFullscreen(){const _0x1a517c=_0x375675;if(document[_0x1a517c(0x7f8)])document[_0x1a517c(0x7f8)]()[_0x1a517c(0x185)](_0x348dad=>console[_0x1a517c(0x8f8)](_0x348dad));else{if(document[_0x1a517c(0x1fd)])document['webkitExitFullscreen']();else document['msExitFullscreen']&&document[_0x1a517c(0x7cf)]();}}function enterFullscreen(){const _0x40a2c9=_0x375675,_0x467deb=document['documentElement'];if(_0x467deb['requestFullscreen'])_0x467deb['requestFullscreen']()['catch'](_0x1c39b3=>{const _0x24067d=_0xdbfa;console[_0x24067d(0x8f8)](_0x24067d(0x5f2)+_0x1c39b3[_0x24067d(0x18a)]+'\x20('+_0x1c39b3[_0x24067d(0x67c)]+')');});else{if(_0x467deb[_0x40a2c9(0x9dc)])_0x467deb[_0x40a2c9(0x9dc)]();else _0x467deb['msRequestFullscreen']&&_0x467deb[_0x40a2c9(0x718)]();}}function handleCheatingEvent(){const _0x1a76eb=_0x375675;if(cheatDetectionTimeout)return;cheatAttempts++,logBehaviorEvent('screen_exit',{'attemptNumber':cheatAttempts}),cheatAttempts>=maxCheatAttempts?(isQuizActive=![],showMessage(_0x1a76eb(0x4f5)+maxCheatAttempts+_0x1a76eb(0x336)),document[_0x1a76eb(0x893)](_0x1a76eb(0xe2))?handleSubmitQuiz(null):finalizePerQuestionQuiz(),document[_0x1a76eb(0x5cc)]('visibilitychange',handleVisibilityChange),document[_0x1a76eb(0x5cc)](_0x1a76eb(0x467),handleFullscreenChange)):showMessage('คำเตือน\x20('+cheatAttempts+'/'+maxCheatAttempts+_0x1a76eb(0x71e),enterFullscreen),cheatDetectionTimeout=setTimeout(()=>{cheatDetectionTimeout=null;},0x1f4);}function handleVisibilityChange(){const _0x36a60e=_0x375675;if(currentMode==='admin-testing'||!isQuizActive)return;if(document[_0x36a60e(0x16f)]==='hidden')handleCheatingEvent();else document['visibilityState']===_0x36a60e(0x17a)&&(console[_0x36a60e(0x264)]('กลับเข้าสู่หน้าจอแบบทดสอบแล้ว,\x20กำลังรีเซ็ตระบบป้องกัน...'),requestWakeLock(),resetDimTimer());}function handleFullscreenChange(){if(currentMode==='admin-testing'||!isQuizActive)return;!document['fullscreenElement']&&handleCheatingEvent();}function displayGeneratedQuiz(_0x30c6cd){const _0x1c089a=_0x375675,_0x2fd3bf=document[_0x1c089a(0x893)]('generated-quiz-container');let _0x1e2ff5=_0x1c089a(0x3ec)+_0x30c6cd[_0x1c089a(0x903)]+_0x1c089a(0x4b5);_0x30c6cd[_0x1c089a(0x389)][_0x1c089a(0x1d9)]((_0x5a79a4,_0x3fa977)=>{const _0x38dc28=_0x1c089a;!_0x5a79a4['id']&&(_0x5a79a4['id']='q_'+Date[_0x38dc28(0x5fc)]()+'_'+_0x3fa977);const _0x2062cf=_0x5a79a4[_0x38dc28(0x1d7)]||_0x30c6cd['quizType'];_0x1e2ff5+=_0x38dc28(0x604)+_0x3fa977+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x3fa977+_0x38dc28(0x54e)+_0x3fa977+_0x38dc28(0x62c)+_0x3fa977+'\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x2062cf){case _0x38dc28(0x99f):_0x1e2ff5+=_0x38dc28(0x94d)+_0x3fa977+'\x22>'+(_0x3fa977+0x1)+'.\x20'+_0x5a79a4[_0x38dc28(0x877)]+_0x38dc28(0x6ec);_0x5a79a4['imageCode']&&(_0x1e2ff5+=_0x38dc28(0x807)+_0x3fa977+_0x38dc28(0x5b6)+_0x5a79a4[_0x38dc28(0x31d)]+_0x38dc28(0x2d3));_0x1e2ff5+=_0x38dc28(0x445)+_0x3fa977+'\x22>'+_0x5a79a4[_0x38dc28(0x714)]+'</span></div>',_0x1e2ff5+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x3fa977+'\x22>'+_0x5a79a4[_0x38dc28(0x6a5)]+_0x38dc28(0x13f);break;case _0x38dc28(0x689):_0x1e2ff5+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x3fa977+'\x22>'+(_0x3fa977+0x1)+'.\x20'+_0x5a79a4[_0x38dc28(0x8b8)]+'</p>';_0x5a79a4[_0x38dc28(0x31d)]&&(_0x1e2ff5+='<div\x20id=\x22q-image-container-'+_0x3fa977+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x5a79a4['imageCode']+'</div>');_0x1e2ff5+=_0x38dc28(0x151)+_0x3fa977+'\x22>'+_0x5a79a4['idealAnswer']+_0x38dc28(0x13f),_0x1e2ff5+=_0x38dc28(0x460)+_0x3fa977+'\x22>'+_0x5a79a4[_0x38dc28(0x6a5)]+_0x38dc28(0x13f);break;case'true_false':_0x1e2ff5+=_0x38dc28(0x94d)+_0x3fa977+'\x22>'+(_0x3fa977+0x1)+'.\x20'+_0x5a79a4['questionText']+_0x38dc28(0x6ec);_0x5a79a4[_0x38dc28(0x31d)]&&(_0x1e2ff5+=_0x38dc28(0x807)+_0x3fa977+_0x38dc28(0x5b6)+_0x5a79a4['imageCode']+_0x38dc28(0x2d3));_0x1e2ff5+='<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x5a79a4[_0x38dc28(0x1b1)]===!![]?_0x38dc28(0x166):'')+_0x38dc28(0x563)+(_0x5a79a4[_0x38dc28(0x1b1)]===![]?_0x38dc28(0x166):'')+'\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>',_0x1e2ff5+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x3fa977+'\x22>'+_0x5a79a4[_0x38dc28(0x6a5)]+'</span></div>';break;case _0x38dc28(0x6e5):case _0x38dc28(0x5b4):default:_0x1e2ff5+=_0x38dc28(0x94d)+_0x3fa977+'\x22>'+(_0x3fa977+0x1)+'.\x20'+_0x5a79a4[_0x38dc28(0x8b8)]+_0x38dc28(0x6ec);_0x5a79a4[_0x38dc28(0x31d)]&&(_0x1e2ff5+=_0x38dc28(0x807)+_0x3fa977+_0x38dc28(0x5b6)+_0x5a79a4[_0x38dc28(0x31d)]+'</div>');_0x1e2ff5+=_0x38dc28(0x319)+_0x3fa977+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5a79a4[_0x38dc28(0x34d)][_0x38dc28(0x2cb)]((_0x853283,_0x1d8f11)=>_0x38dc28(0x8b3)+(_0x1d8f11===_0x5a79a4['correctAnswerIndex']?_0x38dc28(0x166):'')+'\x22>'+_0x853283+_0x38dc28(0x10b))[_0x38dc28(0x56f)]('')+_0x38dc28(0x1c7),_0x1e2ff5+=_0x38dc28(0x460)+_0x3fa977+'\x22>'+_0x5a79a4['explanation']+_0x38dc28(0x13f);break;}_0x1e2ff5+=_0x38dc28(0x2d3);}),_0x1e2ff5+=_0x1c089a(0x79c),_0x2fd3bf[_0x1c089a(0x938)]=_0x1e2ff5,document[_0x1c089a(0x814)]('.edit-question-btn')['forEach'](_0x357cf3=>_0x357cf3[_0x1c089a(0x15b)](_0x1c089a(0x246),handleEditQuestion)),document[_0x1c089a(0x814)](_0x1c089a(0x98c))[_0x1c089a(0x1d9)](_0x3ee486=>_0x3ee486[_0x1c089a(0x15b)]('click',handleRegenerateQuestion)),document[_0x1c089a(0x814)](_0x1c089a(0x1e2))[_0x1c089a(0x1d9)](_0x59ed07=>_0x59ed07[_0x1c089a(0x15b)](_0x1c089a(0x246),handleSaveToBank)),document[_0x1c089a(0x893)]('export-worksheet-pdf-btn')[_0x1c089a(0x15b)](_0x1c089a(0x246),exportQuizAsWorksheetPDF),document[_0x1c089a(0x893)](_0x1c089a(0x253))[_0x1c089a(0x15b)](_0x1c089a(0x246),saveQuiz),document['getElementById'](_0x1c089a(0xa07))[_0x1c089a(0x15b)](_0x1c089a(0x246),handleVerifyAnswers);if(window[_0x1c089a(0x775)])window['MathJax']['typesetPromise']([_0x2fd3bf]);}function handleRegenerateQuestion(_0x3e1b85){const _0x11004c=_0x375675,_0x30079d=_0x3e1b85['currentTarget'][_0x11004c(0x40f)][_0x11004c(0x5c8)],_0x495191=currentQuizData[_0x11004c(0x903)];showMessage('กำลังสร้างคำถามข้อ\x20'+(parseInt(_0x30079d)+0x1)+_0x11004c(0x34e)),generateQuiz(_0x495191,null,parseInt(_0x30079d));}function getPointerPosition(_0x526e2d,_0x55052f){const _0xc8196=_0x375675,_0xa14898=_0x526e2d[_0xc8196(0x8b9)]();let _0x32ff4e,_0x1a81fd;return _0x55052f[_0xc8196(0x4af)]&&_0x55052f[_0xc8196(0x4af)][_0xc8196(0x8f7)]>0x0?(_0x32ff4e=_0x55052f[_0xc8196(0x4af)][0x0][_0xc8196(0x1f5)],_0x1a81fd=_0x55052f[_0xc8196(0x4af)][0x0][_0xc8196(0x9c8)]):(_0x32ff4e=_0x55052f[_0xc8196(0x1f5)],_0x1a81fd=_0x55052f[_0xc8196(0x9c8)]),{'x':(_0x32ff4e-_0xa14898['e'])/_0xa14898['a'],'y':(_0x1a81fd-_0xa14898['f'])/_0xa14898['d']};}function startDrag(_0xdfa90a){const _0x3f9da2=_0x375675;_0xdfa90a[_0x3f9da2(0x8bf)]==='touchstart'&&_0xdfa90a[_0x3f9da2(0x972)]();const _0x4a8fcd=_0xdfa90a[_0x3f9da2(0x7df)][_0x3f9da2(0x6c3)](_0x3f9da2(0x7fd));if(_0x4a8fcd){draggedSvgElement=_0x4a8fcd;const _0x5e4cf1=draggedSvgElement[_0x3f9da2(0x30e)],_0x1eb4be=getPointerPosition(_0x5e4cf1,_0xdfa90a);svgOffset['x']=_0x1eb4be['x']-parseFloat(draggedSvgElement['getAttributeNS'](null,'x')),svgOffset['y']=_0x1eb4be['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x544c9d,_0x12a036){const _0x59d77a=_0x375675,_0x340eb4={};if(_0x12a036['length']<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x236181=[..._0x12a036][_0x59d77a(0x4d7)]((_0x38d5e3,_0xf6a18c)=>{const _0x1751f1=_0x59d77a,_0x5606a3=_0xf6a18c[_0x1751f1(0x5ee)]-_0x38d5e3[_0x1751f1(0x5ee)];if(_0x5606a3!==0x0)return _0x5606a3;const _0x109780=_0x38d5e3[_0x1751f1(0x741)]?.[_0x1751f1(0x8f7)]||0x1,_0x563d0f=_0xf6a18c[_0x1751f1(0x741)]?.[_0x1751f1(0x8f7)]||0x1,_0x72d06d=_0x109780-_0x563d0f;if(_0x72d06d!==0x0)return _0x72d06d;const _0xf01c55=new Date(_0x38d5e3[_0x1751f1(0x13d)]),_0x4a921b=new Date(_0xf6a18c[_0x1751f1(0x13d)]),_0x2d0af4=_0xf01c55-_0x4a921b;if(_0x2d0af4!==0x0)return _0x2d0af4;return _0x38d5e3[_0x1751f1(0x8cd)][_0x1751f1(0x5f1)](_0xf6a18c[_0x1751f1(0x8cd)],'th');}),_0x3f33a6=_0x236181[_0x59d77a(0x8f7)],_0x4d1c31=Math[_0x59d77a(0xf3)](0x1,Math['floor'](_0x3f33a6*0.33));if(_0x4d1c31===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x1ed4a8=_0x236181[_0x59d77a(0x840)](0x0,_0x4d1c31),_0x51e35c=_0x236181[_0x59d77a(0x840)](-_0x4d1c31),_0x1445a0=_0x1ed4a8[_0x59d77a(0x2cb)](_0x149a94=>_0x149a94[_0x59d77a(0x8cd)]),_0x58aa17=_0x51e35c[_0x59d77a(0x2cb)](_0x522ea0=>_0x522ea0[_0x59d77a(0x8cd)]);return _0x544c9d[_0x59d77a(0x389)][_0x59d77a(0x1d9)]((_0x17ad94,_0x32fdd8)=>{const _0x382eb6=_0x59d77a,_0x54d1eb=_0x17ad94['stem']||_0x17ad94[_0x382eb6(0x8b8)];let _0x56833c=0x0,_0x5660cb=0x0,_0x36ec57=0x0;const _0x5381bf=[],_0x25d77e=[];_0x1ed4a8[_0x382eb6(0x1d9)](_0x25e301=>{const _0x24cfe4=_0x382eb6,_0x43e2ae=_0x25e301[_0x24cfe4(0x741)][_0x25e301[_0x24cfe4(0x741)][_0x24cfe4(0x8f7)]-0x1],_0x56371b=_0x43e2ae[_0x24cfe4(0x196)][_0x24cfe4(0x860)](_0x538a95=>_0x538a95[_0x24cfe4(0x259)]===_0x54d1eb);_0x5381bf[_0x24cfe4(0x6d0)]({'name':_0x25e301[_0x24cfe4(0x8cd)],'isCorrect':_0x56371b?_0x56371b[_0x24cfe4(0xf2)]:![]}),_0x56371b&&_0x56371b['isCorrect']&&_0x5660cb++;}),_0x51e35c[_0x382eb6(0x1d9)](_0x1027e3=>{const _0x43226d=_0x382eb6,_0x4869cc=_0x1027e3[_0x43226d(0x741)][_0x1027e3[_0x43226d(0x741)][_0x43226d(0x8f7)]-0x1],_0x405508=_0x4869cc[_0x43226d(0x196)][_0x43226d(0x860)](_0x283e74=>_0x283e74[_0x43226d(0x259)]===_0x54d1eb);_0x25d77e['push']({'name':_0x1027e3[_0x43226d(0x8cd)],'isCorrect':_0x405508?_0x405508[_0x43226d(0xf2)]:![]}),_0x405508&&_0x405508['isCorrect']&&_0x36ec57++;}),_0x12a036['forEach'](_0x41b27d=>{const _0xe107e4=_0x382eb6,_0x39faf2=_0x41b27d[_0xe107e4(0x741)][_0x41b27d[_0xe107e4(0x741)][_0xe107e4(0x8f7)]-0x1],_0x47ae08=_0x39faf2[_0xe107e4(0x196)]['find'](_0x7e9772=>_0x7e9772[_0xe107e4(0x259)]===_0x54d1eb);_0x47ae08&&_0x47ae08[_0xe107e4(0xf2)]&&_0x56833c++;});const _0x3f6759=_0x3f33a6>0x0?_0x56833c/_0x3f33a6:0x0,_0x219521=_0x4d1c31>0x0?_0x5660cb/_0x4d1c31-_0x36ec57/_0x4d1c31:0x0;_0x340eb4[_0x32fdd8]={'p':_0x3f6759,'r':_0x219521,'upperGroupResponders':_0x5381bf,'lowerGroupResponders':_0x25d77e};}),{'perQuestionStats':_0x340eb4,'overallGroups':{'upperGroupNames':_0x1445a0,'lowerGroupNames':_0x58aa17}};}function drag(_0x27d830){const _0x97d805=_0x375675;if(draggedSvgElement){_0x27d830['preventDefault']();const _0x4eb705=draggedSvgElement[_0x97d805(0x30e)],_0x2d6c37=getPointerPosition(_0x4eb705,_0x27d830),_0x10c9fa=_0x4eb705[_0x97d805(0x5d1)]['baseVal'];let _0x2db84d=_0x2d6c37['x']-svgOffset['x'],_0x276c86=_0x2d6c37['y']-svgOffset['y'];const _0x457e0f=draggedSvgElement['getBBox']();_0x2db84d=Math[_0x97d805(0xf3)](_0x10c9fa['x'],Math[_0x97d805(0x1b6)](_0x2db84d,_0x10c9fa['x']+_0x10c9fa['width']-_0x457e0f[_0x97d805(0x578)])),_0x276c86=Math[_0x97d805(0xf3)](_0x10c9fa['y'],Math[_0x97d805(0x1b6)](_0x276c86,_0x10c9fa['y']+_0x10c9fa[_0x97d805(0x43e)]-_0x457e0f[_0x97d805(0x43e)])),draggedSvgElement[_0x97d805(0x804)](null,'x',_0x2db84d),draggedSvgElement[_0x97d805(0x804)](null,'y',_0x276c86);}}function endDrag(_0x31aaba){draggedSvgElement=null;}function handleSvgEditClick(_0x41648f){const _0x30987d=_0x375675;if(_0x41648f[_0x30987d(0x7df)][_0x30987d(0x6a0)][_0x30987d(0x8a3)]('delete-svg-btn')){const _0x3188a7=_0x41648f['target']['dataset'][_0x30987d(0x8fc)],_0x4eb641=_0x41648f[_0x30987d(0x1e9)],_0xa1ea8e=_0x4eb641['querySelector']('#'+_0x3188a7);_0xa1ea8e&&_0xa1ea8e[_0x30987d(0x139)](),_0x41648f[_0x30987d(0x7df)]['remove']();}}function handleEditQuestion(_0x4f9d25){const _0x5b6fbc=_0x375675,_0x1a3876=_0x4f9d25[_0x5b6fbc(0x1e9)],_0x373727=_0x1a3876['dataset'][_0x5b6fbc(0x5c8)],_0x5d1dec=currentQuizData[_0x5b6fbc(0x389)][_0x373727],_0x703c45=document[_0x5b6fbc(0x893)](_0x5b6fbc(0x54b)+_0x373727),_0xe45772=document[_0x5b6fbc(0x893)](_0x5b6fbc(0x8a9)+_0x373727),_0x23913f=document[_0x5b6fbc(0x893)]('q-image-container-'+_0x373727);if(_0x1a3876[_0x5b6fbc(0x938)][_0x5b6fbc(0x5b5)](_0x5b6fbc(0x70a))){_0x1a3876[_0x5b6fbc(0x938)]='<i\x20class=\x22fas\x20fa-save\x22></i>',_0x1a3876[_0x5b6fbc(0x1fe)]=_0x5b6fbc(0x6cd);if(_0x703c45)_0x703c45[_0x5b6fbc(0x182)]=!![];if(_0xe45772)_0xe45772[_0x5b6fbc(0x182)]=!![];if(_0x23913f){const _0x1b6a6a=_0x23913f[_0x5b6fbc(0x173)](_0x5b6fbc(0x7bd));if(_0x1b6a6a){const _0x303293=_0x1b6a6a[_0x5b6fbc(0x814)](_0x5b6fbc(0x4f0));_0x303293[_0x5b6fbc(0x1d9)]((_0x3dfe8c,_0x5a3b4a)=>{const _0x24685a=_0x5b6fbc,_0x75593a=_0x24685a(0x7ea)+_0x373727+'-'+_0x5a3b4a;_0x3dfe8c['id']=_0x75593a,_0x3dfe8c[_0x24685a(0x6a0)][_0x24685a(0x273)](_0x24685a(0x57d)),_0x3dfe8c['style']['cursor']=_0x24685a(0x8f6);const _0x436a5e=document[_0x24685a(0x3ad)](_0x24685a(0x71f),'circle'),_0xd747fe=_0x3dfe8c[_0x24685a(0x724)]();_0x436a5e[_0x24685a(0x216)]('cx',String(_0xd747fe['x']+_0xd747fe['width']+0x5)),_0x436a5e['setAttribute']('cy',String(_0xd747fe['y']+_0xd747fe['height']/0x2-0x5)),_0x436a5e['setAttribute']('r','5'),_0x436a5e[_0x24685a(0x216)]('fill',_0x24685a(0x383)),_0x436a5e['setAttribute']('class','delete-svg-btn'),_0x436a5e[_0x24685a(0x40f)][_0x24685a(0x8fc)]=_0x75593a,_0x3dfe8c[_0x24685a(0x26b)](_0x436a5e);}),_0x1b6a6a[_0x5b6fbc(0x15b)](_0x5b6fbc(0x459),startDrag),_0x1b6a6a[_0x5b6fbc(0x15b)](_0x5b6fbc(0x582),drag),_0x1b6a6a[_0x5b6fbc(0x15b)]('mouseup',endDrag),_0x1b6a6a[_0x5b6fbc(0x15b)](_0x5b6fbc(0x2a4),endDrag),_0x1b6a6a['addEventListener'](_0x5b6fbc(0x6c5),startDrag,{'passive':![]}),_0x1b6a6a[_0x5b6fbc(0x15b)](_0x5b6fbc(0x897),drag,{'passive':![]}),_0x1b6a6a['addEventListener'](_0x5b6fbc(0x433),endDrag),_0x1b6a6a[_0x5b6fbc(0x15b)](_0x5b6fbc(0x15c),endDrag),_0x1b6a6a[_0x5b6fbc(0x15b)](_0x5b6fbc(0x246),handleSvgEditClick);}}if(_0x703c45)_0x703c45[_0x5b6fbc(0x2f2)]();}else{_0x1a3876[_0x5b6fbc(0x938)]=_0x5b6fbc(0x9ee),_0x1a3876[_0x5b6fbc(0x1fe)]='แก้ไขข้อนี้';if(_0x703c45){_0x703c45[_0x5b6fbc(0x182)]=![];const _0x34ebe9=_0x5d1dec['questionType']||currentQuizData[_0x5b6fbc(0x241)];_0x34ebe9===_0x5b6fbc(0x99f)?_0x5d1dec[_0x5b6fbc(0x877)]=_0x703c45['innerText'][_0x5b6fbc(0x357)](_0x703c45[_0x5b6fbc(0x1ae)][_0x5b6fbc(0x8f5)]('.')+0x2)[_0x5b6fbc(0x517)]():_0x5d1dec[_0x5b6fbc(0x8b8)]=_0x703c45['innerText'][_0x5b6fbc(0x357)](_0x703c45[_0x5b6fbc(0x1ae)]['indexOf']('.')+0x2)[_0x5b6fbc(0x517)]();}_0xe45772&&(_0xe45772['contentEditable']=![],_0x5d1dec[_0x5b6fbc(0x6a5)]=_0xe45772[_0x5b6fbc(0x1ae)]);if(_0x23913f){const _0x87f694=_0x23913f[_0x5b6fbc(0x173)](_0x5b6fbc(0x7bd));if(_0x87f694){const _0x309a65=_0x87f694[_0x5b6fbc(0x97b)](!![]);_0x309a65[_0x5b6fbc(0x814)](_0x5b6fbc(0x7b8))[_0x5b6fbc(0x1d9)](_0xb118cb=>_0xb118cb[_0x5b6fbc(0x139)]()),_0x309a65[_0x5b6fbc(0x814)]('.draggable-text')[_0x5b6fbc(0x1d9)](_0x493953=>{const _0x3be725=_0x5b6fbc;_0x493953['classList'][_0x3be725(0x139)](_0x3be725(0x57d)),_0x493953[_0x3be725(0x4e7)][_0x3be725(0x395)]=_0x3be725(0x71c),_0x493953[_0x3be725(0x20a)]('id');}),_0x5d1dec['imageCode']=_0x309a65['outerHTML'],_0x87f694[_0x5b6fbc(0x5cc)](_0x5b6fbc(0x459),startDrag),_0x87f694[_0x5b6fbc(0x5cc)](_0x5b6fbc(0x582),drag),_0x87f694['removeEventListener'](_0x5b6fbc(0xde),endDrag),_0x87f694['removeEventListener'](_0x5b6fbc(0x2a4),endDrag),_0x87f694[_0x5b6fbc(0x5cc)](_0x5b6fbc(0x6c5),startDrag),_0x87f694[_0x5b6fbc(0x5cc)](_0x5b6fbc(0x897),drag),_0x87f694['removeEventListener'](_0x5b6fbc(0x433),endDrag),_0x87f694[_0x5b6fbc(0x5cc)](_0x5b6fbc(0x15c),endDrag),_0x87f694[_0x5b6fbc(0x5cc)](_0x5b6fbc(0x246),handleSvgEditClick),_0x87f694[_0x5b6fbc(0x814)](_0x5b6fbc(0x7b8))['forEach'](_0x37bf6f=>_0x37bf6f[_0x5b6fbc(0x139)]()),_0x87f694['querySelectorAll']('.draggable-text')[_0x5b6fbc(0x1d9)](_0x27bf72=>{const _0x378176=_0x5b6fbc;_0x27bf72[_0x378176(0x6a0)][_0x378176(0x139)]('draggable-text'),_0x27bf72[_0x378176(0x4e7)][_0x378176(0x395)]=_0x378176(0x71c);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x58083b){const _0x220643=_0x375675,_0x31df62=document[_0x220643(0x893)](_0x220643(0x5d2)),_0x1bc399=document[_0x220643(0x893)](_0x220643(0x7ba));_0x1bc399['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x31df62[_0x220643(0x6a0)][_0x220643(0x139)]('hidden');try{const _0x2ff60d=doc(db,_0x220643(0x54c)+appId+_0x220643(0x685),_0x58083b),_0x59084d=await getDoc(_0x2ff60d);if(!_0x59084d[_0x220643(0x135)]())throw new Error('ไม่พบแบบทดสอบ');currentEditingQuizData={'id':_0x58083b,..._0x59084d[_0x220643(0x918)]()},renderQuizEditor(currentEditingQuizData);}catch(_0xb6be6c){console[_0x220643(0x8f8)]('Error\x20opening\x20quiz\x20editor:',_0xb6be6c),showMessage('เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ'),_0x31df62[_0x220643(0x6a0)][_0x220643(0x273)]('hidden');}}function renderQuizEditor(_0x17ac87){const _0x1c48b9=_0x375675;document[_0x1c48b9(0x893)](_0x1c48b9(0x4f2))[_0x1c48b9(0x106)]=_0x17ac87[_0x1c48b9(0x903)];const _0x14ff9d=document[_0x1c48b9(0x893)]('quiz-editor-questions-container');let _0x41acb2=_0x17ac87[_0x1c48b9(0x389)][_0x1c48b9(0x2cb)]((_0x37ffe3,_0x3a7845)=>{const _0x21e9a4=_0x1c48b9;let _0xa176ad='';const _0x5edc93=_0x37ffe3[_0x21e9a4(0x1d7)]||_0x17ac87[_0x21e9a4(0x241)];switch(_0x5edc93){case _0x21e9a4(0x5b4):const _0x509192=(_0x37ffe3['options']||[])[_0x21e9a4(0x2cb)]((_0x505ce2,_0x4d7bfd)=>_0x21e9a4(0x883)+_0x3a7845+_0x21e9a4(0x233)+_0x4d7bfd+'\x22\x20'+(_0x4d7bfd===_0x37ffe3['correctAnswerIndex']?_0x21e9a4(0x33c):'')+_0x21e9a4(0x547)+_0x505ce2+_0x21e9a4(0x358))[_0x21e9a4(0x56f)]('');_0xa176ad=_0x21e9a4(0x266)+_0x509192+_0x21e9a4(0x5bd);break;case _0x21e9a4(0x689):_0xa176ad=_0x21e9a4(0x7cd)+(_0x37ffe3[_0x21e9a4(0xf4)]||'')+_0x21e9a4(0x6aa);break;case'true_false':_0xa176ad=_0x21e9a4(0x495)+_0x3a7845+_0x21e9a4(0x270)+(_0x37ffe3[_0x21e9a4(0x1b1)]===!![]?'checked':'')+_0x21e9a4(0x128)+_0x3a7845+_0x21e9a4(0x63a)+(_0x37ffe3['correctAnswer']===![]?_0x21e9a4(0x33c):'')+_0x21e9a4(0x943);break;case _0x21e9a4(0x99f):_0xa176ad=_0x21e9a4(0xbb)+(_0x37ffe3[_0x21e9a4(0x714)]||'')+'\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;}const _0x198115=_0x37ffe3[_0x21e9a4(0x8b8)]||_0x37ffe3[_0x21e9a4(0x877)]||'';return _0x21e9a4(0x960)+_0x3a7845+_0x21e9a4(0x3f5)+_0x5edc93+_0x21e9a4(0x937)+(_0x3a7845+0x1)+'\x20('+_0x5edc93+_0x21e9a4(0x1c4)+_0x198115+_0x21e9a4(0x27d)+_0xa176ad+_0x21e9a4(0x444);})['join']('');_0x14ff9d[_0x1c48b9(0x938)]=_0x41acb2,_0x14ff9d[_0x1c48b9(0x814)](_0x1c48b9(0x692))[_0x1c48b9(0x1d9)](_0x245f1d=>{const _0x59f6f6=_0x1c48b9;_0x245f1d[_0x59f6f6(0x15b)](_0x59f6f6(0x246),handleAiFixQuestion);});}async function handleAiFixQuestion(_0x3f963c){const _0x5274c2=_0x375675,_0x466277=_0x3f963c[_0x5274c2(0x1e9)],_0x4db675=_0x466277[_0x5274c2(0x6c3)]('.question-editor-item');if(!_0x4db675)return;const _0x1085d2=parseInt(_0x4db675[_0x5274c2(0x40f)][_0x5274c2(0x338)],0xa);if(isNaN(_0x1085d2)||!currentEditingQuizData[_0x5274c2(0x389)][_0x1085d2]){showMessage('เกิดข้อผิดพลาด:\x20ไม่สามารถระบุคำถามที่ต้องการแก้ไขได้');return;}const _0x293ccb=currentEditingQuizData[_0x5274c2(0x389)][_0x1085d2];_0x466277['innerHTML']=_0x5274c2(0x863),_0x466277[_0x5274c2(0x5fa)]=!![];const _0x2c2431=_0x5274c2(0x1f7)+JSON[_0x5274c2(0x5dd)](_0x293ccb)+_0x5274c2(0x963);let _0xec7a94;const _0x3afbce=_0x293ccb[_0x5274c2(0x1d7)]||currentEditingQuizData[_0x5274c2(0x241)];switch(_0x3afbce){case _0x5274c2(0x689):_0xec7a94={'type':_0x5274c2(0x7d8),'properties':{'questionText':{'type':_0x5274c2(0x4b8)},'idealAnswer':{'type':_0x5274c2(0x4b8)},'explanation':{'type':_0x5274c2(0x4b8)},'imageCode':{'type':_0x5274c2(0x4b8)}},'required':[_0x5274c2(0x8b8),_0x5274c2(0xf4),_0x5274c2(0x6a5)]};break;case _0x5274c2(0x5b4):default:_0xec7a94={'type':_0x5274c2(0x7d8),'properties':{'questionText':{'type':'STRING'},'options':{'type':_0x5274c2(0xc5),'items':{'type':_0x5274c2(0x4b8)}},'correctAnswerIndex':{'type':_0x5274c2(0x8fe)},'explanation':{'type':_0x5274c2(0x4b8)},'imageCode':{'type':'STRING'}},'required':[_0x5274c2(0x8b8),_0x5274c2(0x34d),'correctAnswerIndex',_0x5274c2(0x6a5)]};break;}try{let _0xc9a7ee=await callAnalysisApi(_0x2c2431,_0xec7a94);_0xc9a7ee[_0x5274c2(0x34d)]&&Array[_0x5274c2(0x984)](_0xc9a7ee[_0x5274c2(0x34d)])&&(_0xc9a7ee[_0x5274c2(0x34d)]=_0xc9a7ee['options'][_0x5274c2(0x2cb)](_0xd53df0=>typeof _0xd53df0==='string'?_0xd53df0[_0x5274c2(0x2fa)](/S(\s*[\d_]+?\s*)S/g,'$$$1$'):_0xd53df0)),_0x293ccb[_0x5274c2(0x31d)]&&_0x293ccb[_0x5274c2(0x31d)][_0x5274c2(0x5b5)](_0x5274c2(0x22d))&&(_0xc9a7ee[_0x5274c2(0x31d)]=''),currentEditingQuizData[_0x5274c2(0x389)][_0x1085d2]={..._0x293ccb,..._0xc9a7ee},renderQuizEditor(currentEditingQuizData),showMessage(_0x5274c2(0x613));}catch(_0x1f425a){console[_0x5274c2(0x8f8)](_0x5274c2(0x328),_0x1f425a),showMessage('AI\x20ไม่สามารถแก้ไขคำถามได้\x20โปรดลองสร้างใหม่แทน'),renderQuizEditor(currentEditingQuizData);}}async function handleSaveChanges(){const _0x11e25d=_0x375675,_0x309592=document[_0x11e25d(0x893)](_0x11e25d(0x89e));_0x309592[_0x11e25d(0x5fa)]=!![],_0x309592['innerHTML']=_0x11e25d(0x2a8);try{const _0x117983=document[_0x11e25d(0x893)]('editor-quiz-topic')[_0x11e25d(0x106)],_0x105df9=document[_0x11e25d(0x814)]('.question-editor-item');let _0xd66d54=[];const _0x107572=Array[_0x11e25d(0x84b)](_0x105df9)['map']((_0x4ee271,_0x2080c8)=>{const _0x3ad28e=_0x11e25d,_0x3be5e1=_0x4ee271[_0x3ad28e(0x40f)]['qType'],_0x1595eb=_0x4ee271[_0x3ad28e(0x173)](_0x3ad28e(0x733))[_0x3ad28e(0x106)];let _0x5ddd46={'questionType':_0x3be5e1};const _0x32122e=currentEditingQuizData[_0x3ad28e(0x389)][_0x2080c8];switch(_0x3be5e1){case _0x3ad28e(0x5b4):_0x5ddd46[_0x3ad28e(0x8b8)]=_0x1595eb;const _0x508b20=_0x4ee271['querySelectorAll'](_0x3ad28e(0x5ba));_0x5ddd46[_0x3ad28e(0x34d)]=Array[_0x3ad28e(0x84b)](_0x508b20)[_0x3ad28e(0x2cb)](_0x1691d8=>_0x1691d8[_0x3ad28e(0x106)]);const _0x743a3e=_0x4ee271[_0x3ad28e(0x173)](_0x3ad28e(0x1dc));_0x5ddd46['correctAnswerIndex']=_0x743a3e?parseInt(_0x743a3e[_0x3ad28e(0x106)]):0x0;break;case _0x3ad28e(0x689):_0x5ddd46[_0x3ad28e(0x8b8)]=_0x1595eb,_0x5ddd46[_0x3ad28e(0xf4)]=_0x4ee271[_0x3ad28e(0x173)]('.ideal-answer-input')[_0x3ad28e(0x106)];break;case _0x3ad28e(0x46e):_0x5ddd46[_0x3ad28e(0x8b8)]=_0x1595eb;const _0x5c7331=_0x4ee271['querySelector']('input[type=\x22radio\x22]:checked');_0x5ddd46[_0x3ad28e(0x1b1)]=_0x5c7331?_0x5c7331[_0x3ad28e(0x106)]==='true':!![];break;case _0x3ad28e(0x99f):_0x5ddd46['stem']=_0x1595eb;const _0x1b04f8=_0x4ee271['querySelector'](_0x3ad28e(0xca));_0x5ddd46[_0x3ad28e(0x714)]=_0x1b04f8?_0x1b04f8['value']:'',_0xd66d54[_0x3ad28e(0x6d0)](_0x5ddd46['correctResponse']);break;default:_0x5ddd46['questionText']=_0x1595eb;break;}return{..._0x32122e,..._0x5ddd46};});_0xd66d54[_0x11e25d(0x8f7)]>0x0&&_0x107572[_0x11e25d(0x1d9)](_0x106cbe=>{const _0x45706c=_0x11e25d;_0x106cbe[_0x45706c(0x1d7)]===_0x45706c(0x99f)&&(_0x106cbe[_0x45706c(0x9c0)]=_0xd66d54);});const _0xa6b00f=currentEditingQuizData['id'],_0x1a33b2=doc(db,_0x11e25d(0x54c)+appId+'/public/data/quizzes',_0xa6b00f);await updateDoc(_0x1a33b2,{'topic':_0x117983,'questions':_0x107572}),document[_0x11e25d(0x893)](_0x11e25d(0x5d2))[_0x11e25d(0x6a0)][_0x11e25d(0x273)](_0x11e25d(0x8c9)),showMessage(_0x11e25d(0x97e),()=>initiateReGradeProcess(_0xa6b00f));}catch(_0x51e44e){console['error'](_0x11e25d(0x4f1),_0x51e44e),showMessage(_0x11e25d(0x4c1));}finally{_0x309592[_0x11e25d(0x5fa)]=![],_0x309592['innerHTML']='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0x50f614){const _0x4ef1b2=_0x375675;showMessage('กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่');try{const _0x1a7d8c=doc(db,_0x4ef1b2(0x54c)+appId+_0x4ef1b2(0x685),_0x50f614),_0x59e3be=await getDoc(_0x1a7d8c);if(!_0x59e3be[_0x4ef1b2(0x135)]())throw new Error(_0x4ef1b2(0x66a));const _0x1496a4={'id':_0x50f614,..._0x59e3be[_0x4ef1b2(0x918)]()},_0x39d638=collection(db,'artifacts/'+appId+'/public/data/quizzes',_0x50f614,_0x4ef1b2(0x5cb)),_0x4d2d79=await getDocs(_0x39d638);if(_0x4d2d79['empty']){showMessage(_0x4ef1b2(0x38b));return;}const _0x463325=_0x4d2d79[_0x4ef1b2(0x9fe)][_0x4ef1b2(0x2cb)](_0x3c1586=>reGradeSingleSubmission(_0x3c1586,_0x1496a4));await Promise['all'](_0x463325);if(_0x1496a4[_0x4ef1b2(0x862)]){const _0x29c8ce=doc(db,_0x4ef1b2(0x54c)+appId+_0x4ef1b2(0x556),_0x1496a4[_0x4ef1b2(0x862)]),_0x3dbde4=await getDoc(_0x29c8ce);if(_0x3dbde4[_0x4ef1b2(0x135)]()&&_0x3dbde4[_0x4ef1b2(0x918)]()['students']){const _0x2d1221=_0x3dbde4[_0x4ef1b2(0x918)]()[_0x4ef1b2(0x67f)][_0x4ef1b2(0x2cb)](_0xaade90=>updateStudentProfile(_0x1496a4[_0x4ef1b2(0x862)],_0xaade90));await Promise['all'](_0x2d1221);}}showMessage(_0x4ef1b2(0x311)+_0x4d2d79[_0x4ef1b2(0x475)]+_0x4ef1b2(0x524));}catch(_0x4d2e2a){console['error']('Re-grade\x20process\x20failed:',_0x4d2e2a),showMessage(_0x4ef1b2(0x333)+_0x4d2e2a[_0x4ef1b2(0x18a)]);}}async function reGradeSingleSubmission(_0xa1d7ba,_0x587683){const _0x2a15c0=_0x375675,_0x316cd7=_0xa1d7ba[_0x2a15c0(0x918)](),_0x385843=_0x316cd7[_0x2a15c0(0x8cd)],_0x11d60c=_0x316cd7[_0x2a15c0(0x741)]||[],_0x5ec387=[];for(const _0x1be098 of _0x11d60c){let _0x3aa8d4=0x0,_0xf8f2bc=[],_0x282770=0x0;const _0x14312e=[];for(const _0x52ae98 of _0x1be098[_0x2a15c0(0x196)]){let _0x2507cf;_0x52ae98[_0x2a15c0(0x551)]&&(_0x2507cf=_0x587683[_0x2a15c0(0x389)][_0x2a15c0(0x860)](_0x86bf2d=>_0x86bf2d['id']===_0x52ae98[_0x2a15c0(0x551)]));!_0x2507cf&&_0x52ae98['originalQuestionText']&&(_0x2507cf=_0x587683[_0x2a15c0(0x389)][_0x2a15c0(0x860)](_0x1e3920=>(_0x1e3920[_0x2a15c0(0x877)]||_0x1e3920[_0x2a15c0(0x8b8)])===_0x52ae98['originalQuestionText']));let _0x457a9a=![];if(_0x2507cf){const _0x1e0f65=_0x2507cf[_0x2a15c0(0x1d7)]||_0x587683[_0x2a15c0(0x241)];switch(_0x1e0f65){case _0x2a15c0(0x5b4):if(_0x2507cf['options']&&_0x2507cf[_0x2a15c0(0x376)]<_0x2507cf[_0x2a15c0(0x34d)][_0x2a15c0(0x8f7)]){const _0x5cbf2b=_0x2507cf[_0x2a15c0(0x34d)][_0x2507cf[_0x2a15c0(0x376)]];_0x457a9a=_0x52ae98['answerText']===_0x5cbf2b;}break;case _0x2a15c0(0x46e):const _0x5d81a9=_0x52ae98[_0x2a15c0(0x363)]===!![]||_0x52ae98[_0x2a15c0(0x363)]===_0x2a15c0(0x7e6);_0x457a9a=_0x5d81a9===_0x2507cf[_0x2a15c0(0x1b1)];break;case'matching_item':_0x457a9a=_0x52ae98[_0x2a15c0(0x363)]===_0x2507cf[_0x2a15c0(0x714)];break;case _0x2a15c0(0x689):_0x457a9a=await gradeShortAnswer(_0x52ae98['answer'],_0x2507cf);break;default:_0x457a9a=_0x52ae98['isCorrect'];break;}}if(_0x457a9a){_0x3aa8d4++,_0x282770++;if(_0x282770===0x3)_0xf8f2bc['push'](BADGES['ON_FIRE']['id']);}else _0x282770=0x0;_0x14312e['push']({..._0x52ae98,'isCorrect':_0x457a9a});}let _0x504f71=_0x3aa8d4*0xa;_0x3aa8d4===_0x587683[_0x2a15c0(0x389)][_0x2a15c0(0x8f7)]&&(_0x504f71+=0x32,_0xf8f2bc[_0x2a15c0(0x6d0)](BADGES[_0x2a15c0(0x420)]['id'])),_0x5ec387[_0x2a15c0(0x6d0)]({..._0x1be098,'score':_0x3aa8d4,'points':_0x504f71,'badges':Array['from'](new Set(_0xf8f2bc)),'answers':_0x14312e});}const _0x31cbb3=_0x5ec387['length']>0x0?_0x5ec387[0x0][_0x2a15c0(0x9eb)]:0x0,_0x375b89=Math[_0x2a15c0(0xf3)](..._0x5ec387['map'](_0x2699bb=>_0x2699bb[_0x2a15c0(0x9eb)])),_0x204f9c=_0x5ec387[_0x2a15c0(0x8f7)]>0x0?_0x5ec387[_0x5ec387[_0x2a15c0(0x8f7)]-0x1][_0x2a15c0(0x9eb)]:0x0,_0x5d7ae8=_0x5ec387[_0x2a15c0(0x8f7)]>0x0?_0x5ec387[_0x5ec387[_0x2a15c0(0x8f7)]-0x1][_0x2a15c0(0x5c5)]:0x0,_0x8f51eb=doc(db,'artifacts/'+appId+_0x2a15c0(0x4ae)+_0x587683['id']+_0x2a15c0(0x78e),_0x385843);await updateDoc(_0x8f51eb,{'attempts':_0x5ec387,'firstScore':_0x31cbb3,'bestScore':_0x375b89,'latestScore':_0x204f9c,'points':_0x5d7ae8});}function cleanupQuizOptions(_0x12a476){const _0xb970e0=_0x375675,_0x4653ea=(_0xfa7ccd,_0x5aace6)=>_0x5aace6===0x0?_0xfa7ccd:_0x4653ea(_0x5aace6,_0xfa7ccd%_0x5aace6),_0xd25478=_0x5da899=>{const _0x12e662=_0xdbfa;if(typeof _0x5da899!=='string')return null;_0x5da899=_0x5da899[_0x12e662(0x517)]();const _0x2c880c=_0x5da899['split'](/[ /]/)[_0x12e662(0x625)](_0x2a3932=>_0x2a3932!=='');if(_0x2c880c['length']===0x3)return parseInt(_0x2c880c[0x0])+parseInt(_0x2c880c[0x1])/parseInt(_0x2c880c[0x2]);else{if(_0x2c880c['length']===0x2)return parseInt(_0x2c880c[0x0])/parseInt(_0x2c880c[0x1]);else{if(_0x2c880c[_0x12e662(0x8f7)]===0x1&&!isNaN(_0x2c880c[0x0]))return parseFloat(_0x2c880c[0x0]);}}return null;},_0x5e7dd9=_0xef2264=>{const _0x1ac6fb=_0xdbfa;if(typeof _0xef2264!==_0x1ac6fb(0x26e))return _0xef2264;const _0x2c5c31=_0xef2264[_0x1ac6fb(0x86a)](/(\d+)\s+(\d+)\/(\d+)/);if(_0x2c5c31){const _0x27e88c=parseInt(_0x2c5c31[0x1]);let _0x5ba2f4=parseInt(_0x2c5c31[0x2]),_0x14a5fe=parseInt(_0x2c5c31[0x3]);const _0x3b9bad=_0x4653ea(_0x5ba2f4,_0x14a5fe);_0x5ba2f4/=_0x3b9bad,_0x14a5fe/=_0x3b9bad;if(_0x14a5fe===0x1)return(_0x27e88c+_0x5ba2f4)[_0x1ac6fb(0x57a)]();return _0x27e88c+'\x20'+_0x5ba2f4+'/'+_0x14a5fe;}return _0xef2264;};return _0x12a476&&_0x12a476[_0xb970e0(0x389)]&&_0x12a476['questions'][_0xb970e0(0x1d9)](_0x5ebf02=>{const _0xf03911=_0xb970e0;if(_0x5ebf02[_0xf03911(0x1d7)]===_0xf03911(0x5b4)&&_0x5ebf02['options']){const _0x1e1427=new Map(),_0x5c83a7=_0x5ebf02['options'][_0x5ebf02[_0xf03911(0x376)]];_0x5ebf02[_0xf03911(0x34d)][_0xf03911(0x1d9)](_0x3bd471=>{const _0x3b3580=_0xf03911,_0x20a64b=_0x5e7dd9(_0x3bd471),_0x3d3f=_0xd25478(_0x20a64b);_0x3d3f!==null&&!_0x1e1427[_0x3b3580(0x23b)](_0x3d3f)&&_0x1e1427[_0x3b3580(0x9d3)](_0x3d3f,_0x20a64b);}),_0x5ebf02[_0xf03911(0x34d)]=Array[_0xf03911(0x84b)](_0x1e1427[_0xf03911(0x5f7)]());const _0x399e9b=_0x5ebf02[_0xf03911(0x34d)][_0xf03911(0x218)](_0x3fced8=>_0x3fced8===_0x5e7dd9(_0x5c83a7));_0x5ebf02[_0xf03911(0x376)]=_0x399e9b!==-0x1?_0x399e9b:0x0;}}),_0x12a476;}function showGameStartConfirmationModal(_0x243ead,_0x5b1a46,_0x5a8dff){const _0x2326d3=_0x375675,_0x3e881b=document['getElementById'](_0x2326d3(0x1cb));document[_0x2326d3(0x893)](_0x2326d3(0x10f))['textContent']='เริ่มกิจกรรม:\x20'+_0x5a8dff,document[_0x2326d3(0x893)](_0x2326d3(0x80a))[_0x2326d3(0x106)]=_0x243ead,document[_0x2326d3(0x893)](_0x2326d3(0x7b4))[_0x2326d3(0x106)]=_0x5b1a46,document[_0x2326d3(0x893)](_0x2326d3(0x875))['checked']=!![],_0x3e881b[_0x2326d3(0x6a0)][_0x2326d3(0x139)](_0x2326d3(0x8c9));}async function saveGameResultsAsSubmissions(_0x52027a){const _0xab31be=_0x375675;console[_0xab31be(0x264)](_0xab31be(0x598),_0x52027a);const _0x1e2caf=_0x52027a[_0xab31be(0x7b7)];let _0x523c05=[];if(_0x52027a[_0xab31be(0x1a7)])_0x523c05=Object[_0xab31be(0x9b2)](_0x52027a['players'])[_0xab31be(0x2cb)](([_0x4f3d51,_0x1ea3a1])=>({'name':_0x4f3d51,..._0x1ea3a1}));else{if(_0x52027a[_0xab31be(0x417)])Object[_0xab31be(0x5f7)](_0x52027a[_0xab31be(0x417)])[_0xab31be(0x1d9)](_0x572505=>{const _0x5633ea=_0xab31be;_0x572505['members'][_0x5633ea(0x1d9)](_0x5098c1=>{const _0x12f921=_0x5633ea;_0x523c05[_0x12f921(0x6d0)]({'name':_0x5098c1,'score':_0x572505[_0x12f921(0x9eb)]});});});else _0x52027a[_0xab31be(0x5b8)]&&Object[_0xab31be(0x9b2)](_0x52027a[_0xab31be(0x5b8)])['forEach'](([_0x24b032,_0x3a613a])=>{const _0x15a2c5=_0xab31be;_0x523c05[_0x15a2c5(0x6d0)]({'name':_0x24b032,..._0x3a613a});});}if(_0x523c05['length']===0x0){console[_0xab31be(0x264)]('No\x20player\x20data\x20to\x20save.');return;}const _0x5ef117=_0x52027a[_0xab31be(0x6c7)]?.[_0xab31be(0x389)][_0xab31be(0x8f7)]||currentQuizData['questions'][_0xab31be(0x8f7)],_0x1e09a1=writeBatch(db);for(const _0x4cd014 of _0x523c05){const _0x122ede=_0x4cd014[_0xab31be(0x9eb)]||0x0,_0x3379f4=doc(db,_0xab31be(0x54c)+appId+_0xab31be(0x4ae)+_0x1e2caf+_0xab31be(0x78e),_0x4cd014[_0xab31be(0x67c)]),_0x13c3e7=(_0x4cd014[_0xab31be(0x196)]||[])[_0xab31be(0x625)](_0x9d07a4=>_0x9d07a4[_0xab31be(0xf2)])[_0xab31be(0x8f7)],_0x537e2c={'score':_0x13c3e7,'points':_0x122ede,'badges':_0x4cd014[_0xab31be(0x56d)]||[],'submittedAt':new Date()[_0xab31be(0x6c0)](),'answers':(_0x4cd014[_0xab31be(0x196)]||[])[_0xab31be(0x2cb)](_0x5ba05e=>({'questionId':_0x5ba05e[_0xab31be(0x551)],'answer':_0x5ba05e[_0xab31be(0x363)],'answerText':_0x5ba05e[_0xab31be(0x977)],'isCorrect':_0x5ba05e[_0xab31be(0xf2)],'originalQuestionText':_0x5ba05e[_0xab31be(0x259)],'wasConfident':_0x5ba05e[_0xab31be(0x2f6)]}))},_0x2a6892=await getDoc(_0x3379f4),_0x225fa9=_0x2a6892[_0xab31be(0x135)]()?_0x2a6892[_0xab31be(0x918)]():{},_0x4f108b=_0x225fa9['bestScore']||0x0,_0x46b66f=_0x225fa9[_0xab31be(0x741)]||[],_0x5d781c={'studentName':_0x4cd014[_0xab31be(0x67c)],'totalQuestions':_0x5ef117,'attempts':arrayUnion(_0x537e2c),'latestScore':_0x13c3e7,'points':_0x122ede,'latestSubmittedAt':_0x537e2c[_0xab31be(0x72e)],'bestScore':Math[_0xab31be(0xf3)](_0x4f108b,_0x13c3e7),'firstScore':_0x46b66f[_0xab31be(0x8f7)]===0x0?_0x13c3e7:_0x225fa9[_0xab31be(0x513)]||0x0};_0x1e09a1[_0xab31be(0x9d3)](_0x3379f4,_0x5d781c,{'merge':!![]});}try{await _0x1e09a1[_0xab31be(0x194)](),showMessage(_0xab31be(0x568)+_0x523c05[_0xab31be(0x8f7)]+_0xab31be(0x637));const _0x400cdf=_0x52027a['shuffledQuiz']?.[_0xab31be(0x862)]||currentQuizData?.['projectId']||currentProjectId;if(_0x400cdf){const _0x318ab2=[...new Set(_0x523c05[_0xab31be(0x2cb)](_0x24d1bb=>_0x24d1bb['name']))];for(const _0xaf3f5b of _0x318ab2){await updateStudentProfile(_0x400cdf,_0xaf3f5b);}}}catch(_0x4d9091){console[_0xab31be(0x8f8)]('Error\x20saving\x20game\x20results:',_0x4d9091),showMessage(_0xab31be(0x120));}}async function saveQuiz(){const _0x7a5aa2=_0x375675;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0x7a5aa2(0x7bf));return;}const _0x1f97d3=document[_0x7a5aa2(0x893)](_0x7a5aa2(0x253));_0x1f97d3[_0x7a5aa2(0x5fa)]=!![],_0x1f97d3[_0x7a5aa2(0x938)]=_0x7a5aa2(0x2a8);const _0x2187d8=document[_0x7a5aa2(0x893)](_0x7a5aa2(0x808))[_0x7a5aa2(0x33c)];let _0x1b4232=document[_0x7a5aa2(0x893)]('editable-quiz-topic')['innerText'][_0x7a5aa2(0x517)]();_0x2187d8&&!_0x1b4232[_0x7a5aa2(0x310)](_0x7a5aa2(0x525))&&(_0x1b4232='(ก่อนเรียน)\x20'+_0x1b4232);try{const _0x39bdd1={'resultsDisplay':document[_0x7a5aa2(0x893)]('results-display-select')[_0x7a5aa2(0x106)],'shuffle':document[_0x7a5aa2(0x893)](_0x7a5aa2(0x207))['value'],'timerMode':document[_0x7a5aa2(0x893)](_0x7a5aa2(0x7c0))[_0x7a5aa2(0x106)],'timerDuration':parseInt(document[_0x7a5aa2(0x893)](_0x7a5aa2(0xda))['value'])||0xa,'passingScore':parseInt(document[_0x7a5aa2(0x893)](_0x7a5aa2(0x260))['value'])||0x0,'isAdaptive':document[_0x7a5aa2(0x893)](_0x7a5aa2(0x4fa))[_0x7a5aa2(0x33c)],'loopUntilPass':document['getElementById'](_0x7a5aa2(0x37c))['checked']},_0x2368f6=(currentQuizData['questions']||[])[_0x7a5aa2(0x2cb)]((_0x3b7fe5,_0x51d6d4)=>{const _0x92f91e=_0x7a5aa2,_0x56bc94=document['getElementById'](_0x92f91e(0x3ea))[_0x92f91e(0x106)],_0x1c30dd={'id':'q_'+Date[_0x92f91e(0x5fc)]()+'_'+_0x51d6d4,'questionText':_0x3b7fe5[_0x92f91e(0x8b8)]||'','explanation':_0x3b7fe5[_0x92f91e(0x6a5)]||'ไม่มีคำอธิบาย','questionType':_0x3b7fe5[_0x92f91e(0x1d7)]||_0x56bc94,'imageCode':_0x3b7fe5['imageCode']||null};return(_0x1c30dd['questionType']===_0x92f91e(0x5b4)||_0x1c30dd[_0x92f91e(0x1d7)]===_0x92f91e(0x22c)||_0x1c30dd['questionType']===_0x92f91e(0x303)&&_0x3b7fe5['options'])&&(_0x1c30dd[_0x92f91e(0x34d)]=_0x3b7fe5[_0x92f91e(0x34d)]||[],_0x1c30dd[_0x92f91e(0x376)]=_0x3b7fe5[_0x92f91e(0x376)]!==undefined?_0x3b7fe5[_0x92f91e(0x376)]:0x0),(_0x1c30dd['questionType']===_0x92f91e(0x689)||_0x1c30dd[_0x92f91e(0x1d7)]==='fill_in_no_choices'||_0x1c30dd[_0x92f91e(0x1d7)]===_0x92f91e(0x303)&&_0x3b7fe5[_0x92f91e(0xf4)])&&(_0x1c30dd[_0x92f91e(0xf4)]=_0x3b7fe5['idealAnswer']||''),_0x1c30dd[_0x92f91e(0x1d7)]==='true_false'&&(_0x1c30dd[_0x92f91e(0x1b1)]=_0x3b7fe5[_0x92f91e(0x1b1)]===!![]),_0x1c30dd[_0x92f91e(0x1d7)]===_0x92f91e(0x99f)&&(_0x1c30dd['stem']=_0x3b7fe5[_0x92f91e(0x877)]||'',_0x1c30dd[_0x92f91e(0x714)]=_0x3b7fe5[_0x92f91e(0x714)]||'',_0x1c30dd['allResponses']=_0x3b7fe5['allResponses']||[]),_0x1c30dd;}),_0x3378a9={'topic':_0x1b4232,'quizType':currentQuizData['quizType']||_0x7a5aa2(0x5b4),'questions':_0x2368f6,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x7a5aa2(0x6c0)](),'status':'active','settings':_0x39bdd1,'quizMode':_0x2187d8?_0x7a5aa2(0x3d6):_0x7a5aa2(0x4de),'pairedQuizId':null,'lessonPlan':null};let _0x4ffab6;while(!![]){_0x4ffab6=Math[_0x7a5aa2(0x4e5)](0x3e8+Math[_0x7a5aa2(0x7be)]()*0x2328)[_0x7a5aa2(0x57a)]();const _0x157560=await getDoc(doc(db,_0x7a5aa2(0x54c)+appId+_0x7a5aa2(0x685),_0x4ffab6));if(!_0x157560[_0x7a5aa2(0x135)]())break;}await setDoc(doc(db,_0x7a5aa2(0x54c)+appId+_0x7a5aa2(0x685),_0x4ffab6),_0x3378a9),currentQuizData[_0x7a5aa2(0x6a7)]=_0x39bdd1,currentQuizData['id']=_0x4ffab6;const _0x45bf5e=document[_0x7a5aa2(0x893)](_0x7a5aa2(0x7f4));_0x45bf5e[_0x7a5aa2(0x938)]=_0x7a5aa2(0x57c)+_0x4ffab6+_0x7a5aa2(0x6d7),document[_0x7a5aa2(0x893)](_0x7a5aa2(0x646))[_0x7a5aa2(0x15b)](_0x7a5aa2(0x246),()=>copyTextToClipboard(_0x4ffab6,_0x7a5aa2(0x812))),document[_0x7a5aa2(0x893)](_0x7a5aa2(0x9cf))[_0x7a5aa2(0x15b)](_0x7a5aa2(0x246),()=>handleStartLiveRace(_0x4ffab6)),document[_0x7a5aa2(0x893)](_0x7a5aa2(0x80f))['addEventListener'](_0x7a5aa2(0x246),()=>startPresentation(currentQuizData)),document['getElementById'](_0x7a5aa2(0x936))['addEventListener'](_0x7a5aa2(0x246),startAdminTest),showMessage(_0x7a5aa2(0x865));}catch(_0x375699){console[_0x7a5aa2(0x8f8)](_0x7a5aa2(0x677),_0x375699),showMessage(_0x7a5aa2(0x8ed)),_0x1f97d3[_0x7a5aa2(0x5fa)]=![],_0x1f97d3['innerHTML']=_0x7a5aa2(0x52b);}}function promptForProjectAndSave(){const _0x569a9b=_0x375675,_0x4b4503=document[_0x569a9b(0x893)](_0x569a9b(0x40d)),_0x262b6e=document[_0x569a9b(0x893)](_0x569a9b(0x608)),_0x4a8731=_0x4b4503['querySelector']('h3'),_0xeafdbd=document[_0x569a9b(0x893)](_0x569a9b(0x90b));_0x4a8731[_0x569a9b(0x490)]=_0x569a9b(0x4c3),_0xeafdbd['textContent']='เลือกและบันทึก';allProjects[_0x569a9b(0x8f7)]===0x0?(_0x262b6e[_0x569a9b(0x938)]=_0x569a9b(0x81a),_0xeafdbd[_0x569a9b(0x5fa)]=!![]):(_0x262b6e['innerHTML']=allProjects[_0x569a9b(0x2cb)](_0x3abc1c=>_0x569a9b(0x98e)+_0x3abc1c['id']+'\x22>'+_0x3abc1c[_0x569a9b(0x772)]+_0x569a9b(0x35e))[_0x569a9b(0x56f)](''),_0xeafdbd[_0x569a9b(0x5fa)]=![]);_0x4b4503[_0x569a9b(0x6a0)]['remove'](_0x569a9b(0x8c9));const _0x3818f4=()=>{const _0x5a7a0f=_0x569a9b,_0x1f7b87=_0x262b6e['value'];_0x1f7b87?(currentProjectId=_0x1f7b87,_0x4b4503[_0x5a7a0f(0x6a0)][_0x5a7a0f(0x273)](_0x5a7a0f(0x8c9)),saveQuiz(),_0x4a8731[_0x5a7a0f(0x490)]=_0x5a7a0f(0x716),_0xeafdbd['textContent']='ย้าย',_0xeafdbd[_0x5a7a0f(0x5cc)](_0x5a7a0f(0x246),_0x3818f4),_0xeafdbd[_0x5a7a0f(0x15b)]('click',confirmMoveQuiz)):showMessage('กรุณาเลือกโปรเจคที่ต้องการบันทึก');};_0xeafdbd['removeEventListener'](_0x569a9b(0x246),confirmMoveQuiz),_0xeafdbd[_0x569a9b(0x15b)](_0x569a9b(0x246),_0x3818f4);}function copyTextToClipboard(_0x4b5691,_0x398333){const _0x3e1e50=_0x375675,_0x58c41f=document[_0x3e1e50(0x980)](_0x3e1e50(0x733));_0x58c41f[_0x3e1e50(0x106)]=_0x4b5691,_0x58c41f['style']['position']=_0x3e1e50(0x93e),_0x58c41f[_0x3e1e50(0x4e7)][_0x3e1e50(0xff)]='0',document[_0x3e1e50(0x66d)][_0x3e1e50(0x644)](_0x58c41f),_0x58c41f[_0x3e1e50(0x2f2)](),_0x58c41f[_0x3e1e50(0x570)]();try{const _0x2777f2=document[_0x3e1e50(0x94f)](_0x3e1e50(0x4f3));showMessage(_0x2777f2?_0x398333:_0x3e1e50(0x2b4));}catch(_0x4eaf47){showMessage(_0x3e1e50(0x2b4)),console[_0x3e1e50(0x8f8)](_0x3e1e50(0x35a),_0x4eaf47);}document[_0x3e1e50(0x66d)][_0x3e1e50(0xf7)](_0x58c41f);}function listenForProjectQuizzes(_0xcec5bf){const _0x14af37=_0x375675,_0x74a9dd=collection(db,_0x14af37(0x54c)+appId+_0x14af37(0x685)),_0x703f34=query(_0x74a9dd,where(_0x14af37(0x862),'==',_0xcec5bf));unsubscribeQuizzesListener=onSnapshot(_0x703f34,async _0x4a4f36=>{const _0x121272=_0x14af37;allQuizzes=_0x4a4f36[_0x121272(0x9fe)]['map'](_0x284385=>({'id':_0x284385['id'],..._0x284385['data']()})),renderQuizzes();},_0xe407ac=>{const _0x4b3526=_0x14af37;console[_0x4b3526(0x8f8)](_0x4b3526(0x505),_0xe407ac),document['getElementById'](_0x4b3526(0x9a6))['innerHTML']=_0x4b3526(0x6a9);});}async function renderQuizzes(){const _0x1e529c=_0x375675,_0x11da29=document['getElementById'](_0x1e529c(0x9a6)),_0x2a995f=document[_0x1e529c(0x893)](_0x1e529c(0x7f9))['value'][_0x1e529c(0x3dc)]();let _0x3ea136;currentProjectId===_0x1e529c(0x501)?_0x3ea136=starredQuizzes:_0x3ea136=allQuizzes;let _0x3d3274=_0x3ea136[_0x1e529c(0x625)](_0x5a06af=>_0x5a06af['topic'][_0x1e529c(0x3dc)]()[_0x1e529c(0x5b5)](_0x2a995f));_0x3d3274['sort']((_0x20383d,_0x3c79d1)=>new Date(_0x3c79d1['createdAt'])-new Date(_0x20383d[_0x1e529c(0x489)]));if(_0x3d3274[_0x1e529c(0x8f7)]===0x0){_0x11da29['innerHTML']=_0x1e529c(0x7e1);return;}const _0x162215={},_0x2675a1=_0x3d3274[_0x1e529c(0x2cb)](async _0x49e249=>{const _0x22ec77=_0x1e529c,_0x8862e0=collection(db,_0x22ec77(0x54c)+appId+_0x22ec77(0x4ae)+_0x49e249['id']+_0x22ec77(0x78e)),_0x43c185=await getDocs(_0x8862e0);_0x162215[_0x49e249['id']]=_0x43c185[_0x22ec77(0x475)];});await Promise[_0x1e529c(0x801)](_0x2675a1);let _0x415667='';_0x3d3274[_0x1e529c(0x1d9)](_0xcceb54=>{const _0x5c98b3=_0x1e529c,_0x23df65=_0x162215[_0xcceb54['id']]||0x0,_0x2305f0=_0xcceb54[_0x5c98b3(0x9bc)]||_0x5c98b3(0x55d),_0x516de6=_0xcceb54['settings']?.[_0x5c98b3(0x3e1)]||'none';let _0x561731='',_0x2f4e84='';const _0x534b55=new Date();let _0x4e9484=_0x2305f0;if(_0x2305f0===_0x5c98b3(0x24d)){const _0x374c1b=_0xcceb54[_0x5c98b3(0x39a)]?new Date(_0xcceb54[_0x5c98b3(0x39a)]):null,_0x569da7=_0xcceb54[_0x5c98b3(0x482)]?new Date(_0xcceb54[_0x5c98b3(0x482)]):null;if(_0x569da7&&_0x534b55>_0x569da7)_0x4e9484=_0x5c98b3(0x906);else _0x374c1b&&_0x534b55<_0x374c1b?_0x4e9484=_0x5c98b3(0x56b):_0x4e9484=_0x5c98b3(0x55d);}switch(_0x4e9484){case _0x5c98b3(0x906):_0x561731=_0x5c98b3(0x1b2),_0x2f4e84='text-red-700\x20bg-red-100';break;case _0x5c98b3(0x56b):_0x561731=_0x5c98b3(0x7b9),_0x2f4e84=_0x5c98b3(0x7e3);break;case'active':_0x561731=_0x516de6!==_0x5c98b3(0x951)?_0x5c98b3(0x6ee):_0x5c98b3(0x795),_0x2f4e84=_0x5c98b3(0x480);break;default:_0x561731=_0x5c98b3(0x518),_0x2f4e84=_0x5c98b3(0x480);break;}let _0x22b703='';const _0x21c2f4={'day':_0x5c98b3(0x759),'month':_0x5c98b3(0x759),'year':_0x5c98b3(0x441),'hour':_0x5c98b3(0x759),'minute':_0x5c98b3(0x759),'hour12':![]};if(_0x2305f0==='scheduled'){if(_0xcceb54[_0x5c98b3(0x39a)])_0x22b703+=_0x5c98b3(0x24b)+new Date(_0xcceb54['startTime'])['toLocaleString'](_0x5c98b3(0x29c),_0x21c2f4)+_0x5c98b3(0x6ec);if(_0xcceb54[_0x5c98b3(0x482)])_0x22b703+=_0x5c98b3(0x7d5)+new Date(_0xcceb54[_0x5c98b3(0x482)])[_0x5c98b3(0x77d)](_0x5c98b3(0x29c),_0x21c2f4)+'</p>';}let _0x3c61d9='';if(_0xcceb54[_0x5c98b3(0x769)]){const _0x10affd=allQuizzes[_0x5c98b3(0x860)](_0x506c4e=>_0x506c4e['id']===_0xcceb54[_0x5c98b3(0x769)]);if(_0x10affd){let _0x1268b2,_0x1a3afc;new Date(_0xcceb54[_0x5c98b3(0x489)])<new Date(_0x10affd['createdAt'])?(_0x1268b2=_0xcceb54['id'],_0x1a3afc=_0x10affd['id']):(_0x1268b2=_0x10affd['id'],_0x1a3afc=_0xcceb54['id']),_0x3c61d9+=_0x5c98b3(0x6f5)+_0x1a3afc+'\x22\x20data-pre-test-id=\x22'+_0x1268b2+_0x5c98b3(0x722);}}else _0xcceb54['quizMode']===_0x5c98b3(0x3d6)&&(_0x3c61d9+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xcceb54['id']+_0x5c98b3(0x8a2));if(_0xcceb54['quizMode']==='pre-test'&&_0x23df65>0x0)_0x3c61d9+=_0x5c98b3(0x720)+_0xcceb54['id']+_0x5c98b3(0x639);else!_0xcceb54[_0x5c98b3(0x769)]&&_0xcceb54[_0x5c98b3(0x5c9)]!==_0x5c98b3(0x3d6)&&_0x23df65>0x0&&(_0x3c61d9+=_0x5c98b3(0x720)+_0xcceb54['id']+_0x5c98b3(0x69d));let _0x57e0f3='';_0xcceb54[_0x5c98b3(0x769)]?_0x57e0f3='<button\x20data-quiz-id=\x22'+_0xcceb54['id']+_0x5c98b3(0x838):_0x57e0f3=_0x5c98b3(0xbf)+_0xcceb54['id']+_0x5c98b3(0x544),_0x415667+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22'+_0xcceb54['id']+_0x5c98b3(0x2ce)+_0xcceb54[_0x5c98b3(0x903)]+_0x5c98b3(0x6fb)+_0xcceb54[_0x5c98b3(0x389)][_0x5c98b3(0x8f7)]+_0x5c98b3(0x7ae)+new Date(_0xcceb54[_0x5c98b3(0x489)])[_0x5c98b3(0x77d)](_0x5c98b3(0x29c))+_0x5c98b3(0x320)+_0x23df65+_0x5c98b3(0x5e4)+_0x22b703+_0x5c98b3(0x1a8)+_0x2f4e84+'\x22>'+_0x561731+_0x5c98b3(0x212)+_0xcceb54['id']+_0x5c98b3(0xa02)+_0xcceb54['id']+_0x5c98b3(0x13e)+(_0xcceb54[_0x5c98b3(0x8ff)]?_0x5c98b3(0x9ab):'far\x20fa-star')+_0x5c98b3(0x37d)+_0x3c61d9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xcceb54['id']+_0x5c98b3(0x649)+_0xcceb54['id']+_0x5c98b3(0x4b7)+_0xcceb54['id']+'\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xcceb54['id']+_0x5c98b3(0x8db)+_0xcceb54['id']+_0x5c98b3(0x8bd)+_0xcceb54['id']+_0x5c98b3(0x17d)+_0xcceb54['id']+'\x22\x20data-topic=\x22'+_0xcceb54['topic']+_0x5c98b3(0x514)+_0xcceb54['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xcceb54['id']+_0x5c98b3(0x4c7)+_0x57e0f3+_0x5c98b3(0x428)+_0xcceb54['id']+'\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xcceb54['id']+'\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xcceb54['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22inline-flex\x20rounded-md\x20shadow-sm\x22\x20role=\x22group\x22>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xcceb54['id']+'\x22\x20data-mode=\x22team\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-l-lg\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-friends\x20mr-1\x22></i>\x20Team\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xcceb54['id']+'\x22\x20data-mode=\x22group\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border-t\x20border-b\x20border-gray-200\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-users\x20mr-1\x22></i>\x20Group\x0a\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xcceb54['id']+'\x22\x20data-mode=\x22sync\x22\x20class=\x22start-game-btn\x20px-3\x20py-1\x20text-xs\x20font-medium\x20text-gray-900\x20bg-white\x20border\x20border-gray-200\x20rounded-r-md\x20hover:bg-gray-100\x20hover:text-blue-700\x20focus:z-10\x20focus:ring-2\x20focus:ring-blue-700\x20focus:text-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bolt\x20mr-1\x22></i>\x20Sync\x0a\x20\x20\x20\x20</button>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0xcceb54['id']+_0x5c98b3(0x48a)+_0xcceb54['id']+_0x5c98b3(0x102)+_0xcceb54[_0x5c98b3(0x903)]+_0x5c98b3(0x239)+_0xcceb54['id']+_0x5c98b3(0x3af);}),_0x11da29['innerHTML']=_0x415667,document[_0x1e529c(0x814)](_0x1e529c(0x49d))[_0x1e529c(0x1d9)](_0x46c6da=>{const _0x12c7c3=_0x1e529c;_0x46c6da[_0x12c7c3(0x15b)]('click',()=>{const _0x118627=_0x12c7c3,_0x189c9d=_0x46c6da[_0x118627(0x40f)][_0x118627(0x7b7)];showQuizDetailView(_0x189c9d);});});}async function handleUnpairQuiz(_0x39fe96){const _0x53a1ab=_0x375675,_0x2aa2b1=allQuizzes[_0x53a1ab(0x860)](_0x29ddcf=>_0x29ddcf['id']===_0x39fe96);if(!_0x2aa2b1||!_0x2aa2b1[_0x53a1ab(0x769)]){showMessage(_0x53a1ab(0x953));return;}showConfirmation(_0x53a1ab(0x623),async()=>{const _0x4a784f=_0x53a1ab;try{const _0x36ecfb=doc(db,_0x4a784f(0x54c)+appId+_0x4a784f(0x685),_0x39fe96),_0x5b8f82=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x2aa2b1[_0x4a784f(0x769)]),_0x13c58a=writeBatch(db);_0x13c58a['update'](_0x36ecfb,{'pairedQuizId':null}),_0x13c58a['update'](_0x5b8f82,{'pairedQuizId':null}),await _0x13c58a[_0x4a784f(0x194)](),showMessage(_0x4a784f(0x339));}catch(_0x5167ee){console[_0x4a784f(0x8f8)](_0x4a784f(0x3ca),_0x5167ee),showMessage('เกิดข้อผิดพลาดในการยกเลิกการจับคู่');}});}function formatAndPrintLessonPlan(_0x584604,_0x56d051){const _0x1f176f=_0x375675,_0x424b93=window[_0x1f176f(0x1c0)]('',_0x1f176f(0x8b0)),_0x203e43=_0x1f176f(0x7e7)+_0x56d051[_0x1f176f(0x903)]+_0x1f176f(0x9b4)+_0x56d051[_0x1f176f(0x903)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x584604['learningGaps'][_0x1f176f(0x2cb)](_0x27b552=>_0x1f176f(0x9d6)+_0x27b552+_0x1f176f(0x10b))[_0x1f176f(0x56f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x584604[_0x1f176f(0x9d2)]+_0x1f176f(0x58a)+_0x584604['practiceProblems'][_0x1f176f(0x2cb)](_0x44548f=>_0x1f176f(0x99d)+_0x44548f[_0x1f176f(0x7d0)]+_0x1f176f(0xa03)+_0x44548f[_0x1f176f(0x343)]+_0x1f176f(0x30f))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x424b93[_0x1f176f(0x47b)][_0x1f176f(0x3d7)](_0x203e43),_0x424b93[_0x1f176f(0x47b)][_0x1f176f(0x2f1)](),_0x424b93[_0x1f176f(0x2ca)]=function(){setTimeout(()=>{_0x424b93['print']();},0x3e8);};}async function handleAiFixFormula(_0x1eee4e){const _0x43881c=_0x375675,_0x17ba8a=document[_0x43881c(0x173)](_0x43881c(0x781)+_0x1eee4e+'\x22]');if(!_0x17ba8a)return;const _0x1ca435=_0x17ba8a['dataset']['qType'],_0x564dff=_0x17ba8a[_0x43881c(0x173)]('.ai-fix-formula-btn');let _0x16bb91={'question':_0x17ba8a[_0x43881c(0x173)](_0x43881c(0x733))[_0x43881c(0x106)]};switch(_0x1ca435){case'multiple_choice':_0x16bb91[_0x43881c(0x34d)]=Array[_0x43881c(0x84b)](_0x17ba8a[_0x43881c(0x814)](_0x43881c(0x5ba)))[_0x43881c(0x2cb)](_0x756c44=>_0x756c44[_0x43881c(0x106)]);break;case _0x43881c(0x689):_0x16bb91['idealAnswer']=_0x17ba8a[_0x43881c(0x173)](_0x43881c(0x72a))[_0x43881c(0x106)];break;case'matching_item':_0x16bb91[_0x43881c(0x714)]=_0x17ba8a['querySelector'](_0x43881c(0xca))[_0x43881c(0x106)];break;}_0x564dff[_0x43881c(0x938)]=_0x43881c(0x863),_0x564dff['disabled']=!![];try{const _0xe890='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้าน\x20LaTeX\x20ขั้นสูง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือตรวจสอบและแก้ไขข้อมูลของคำถามต่อไปนี้\x20โดยเน้นที่การซ่อมแซมโค้ด\x20LaTeX\x20ที่ผิดพลาดในทุกๆ\x20ส่วน\x20(ทั้ง\x20question,\x20options,\x20idealAnswer,\x20correctResponse)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ห้ามเปลี่ยนแปลงความหมายหรือเนื้อหาหลักของคำถามโดยเด็ดขาด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20แก้ไขเฉพาะ\x20syntax\x20ของ\x20LaTeX\x20เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20ตรวจสอบให้แน่ใจว่านิพจน์ทางคณิตศาสตร์ทั้งหมดถูกครอบด้วยเครื่องหมาย\x20$\x20...\x20$\x20อย่างถูกต้อง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลที่ต้องแก้ไข:\x20'+JSON['stringify'](_0x16bb91)+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22fixedData\x22\x20ซึ่งภายในมีโครงสร้างและข้อมูลเหมือนกับที่ได้รับ\x20แต่เป็นเวอร์ชันที่แก้ไขโค้ด\x20LaTeX\x20แล้วเท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x543017={'type':_0x43881c(0x7d8),'properties':{'fixedData':{'type':_0x43881c(0x7d8),'properties':{'question':{'type':_0x43881c(0x4b8)},'options':{'type':_0x43881c(0xc5),'items':{'type':_0x43881c(0x4b8)}},'idealAnswer':{'type':_0x43881c(0x4b8)},'correctResponse':{'type':_0x43881c(0x4b8)}},'required':['question']}},'required':[_0x43881c(0x4ca)]},_0x1295d9=await callAnalysisApi(_0xe890,_0x543017);if(_0x1295d9&&_0x1295d9[_0x43881c(0x4ca)]){const _0x22ae0b=_0x1295d9[_0x43881c(0x4ca)];_0x17ba8a['querySelector'](_0x43881c(0x733))['value']=_0x22ae0b[_0x43881c(0x7d0)]||_0x16bb91[_0x43881c(0x7d0)];switch(_0x1ca435){case _0x43881c(0x5b4):_0x22ae0b[_0x43881c(0x34d)]&&_0x22ae0b[_0x43881c(0x34d)]['length']>0x0&&_0x17ba8a['querySelectorAll']('input[type=\x22text\x22]')[_0x43881c(0x1d9)]((_0x4da17e,_0x32a658)=>{const _0x349d6c=_0x43881c;_0x4da17e[_0x349d6c(0x106)]=_0x22ae0b[_0x349d6c(0x34d)][_0x32a658]||_0x16bb91[_0x349d6c(0x34d)][_0x32a658];});break;case'short_answer':_0x17ba8a[_0x43881c(0x173)](_0x43881c(0x72a))[_0x43881c(0x106)]=_0x22ae0b[_0x43881c(0xf4)]||_0x16bb91[_0x43881c(0xf4)];break;case _0x43881c(0x99f):_0x17ba8a['querySelector'](_0x43881c(0xca))[_0x43881c(0x106)]=_0x22ae0b[_0x43881c(0x714)]||_0x16bb91[_0x43881c(0x714)];break;}if(_0x16bb91[_0x43881c(0x7d0)]!==_0x22ae0b[_0x43881c(0x7d0)])try{const _0x284b21=collection(db,_0x43881c(0x54c)+appId+_0x43881c(0x230));await addDoc(_0x284b21,{'broken':_0x16bb91[_0x43881c(0x7d0)],'fixed':_0x22ae0b[_0x43881c(0x7d0)],'createdAt':serverTimestamp()});}catch(_0x63c952){console[_0x43881c(0x8f8)](_0x43881c(0x50a),_0x63c952);}showMessage(_0x43881c(0x73c));}else throw new Error(_0x43881c(0x51a));}catch(_0x10b64a){console[_0x43881c(0x8f8)](_0x43881c(0x215),_0x10b64a),showMessage(_0x43881c(0x49a));}finally{_0x564dff[_0x43881c(0x938)]=_0x43881c(0x5cd),_0x564dff['disabled']=![];}}async function handleGenerateLessonPlan(_0x1cdf14){const _0x57e6c8=_0x375675;showMessage(_0x57e6c8(0x49e));try{const _0x1c0259=doc(db,_0x57e6c8(0x54c)+appId+_0x57e6c8(0x685),_0x1cdf14),_0x4dfe2f=await getDoc(_0x1c0259);if(!_0x4dfe2f['exists']())throw new Error(_0x57e6c8(0x66a));const _0x2d7abd={'id':_0x1cdf14,..._0x4dfe2f[_0x57e6c8(0x918)]()},_0x1f58c9=collection(db,_0x57e6c8(0x54c)+appId+_0x57e6c8(0x685),_0x1cdf14,_0x57e6c8(0x5cb)),_0x5daad6=await getDocs(_0x1f58c9),_0x5544fa=_0x5daad6['docs'][_0x57e6c8(0x2cb)](_0x5a45bd=>_0x5a45bd[_0x57e6c8(0x918)]());if(_0x5544fa[_0x57e6c8(0x8f7)]===0x0)throw new Error(_0x57e6c8(0xa0d));const _0x3e20c8=calculateItemAnalysis(_0x2d7abd,_0x5544fa)['perQuestionStats'],_0x5a9cb9=calculateDistractorAnalysis(_0x2d7abd,_0x5544fa),_0x2beac6=_0x352efc=>{const _0x41666e=_0x57e6c8;if(!_0x352efc)return'';return _0x352efc[_0x41666e(0x2fa)](/\\/g,'\x5c\x5c')[_0x41666e(0x2fa)](/"/g,'\x5c\x22')[_0x41666e(0x2fa)](/\n/g,'\x5cn');};let _0x5890db=_0x57e6c8(0xf6);_0x2d7abd[_0x57e6c8(0x389)][_0x57e6c8(0x1d9)]((_0x252eb2,_0xbebb77)=>{const _0x3256f6=_0x57e6c8,_0x2dea09=_0x3e20c8[_0xbebb77]?.['p']['toFixed'](0x2)||_0x3256f6(0x107),_0x51edf6=_0x3e20c8[_0xbebb77]?.['r'][_0x3256f6(0x702)](0x2)||_0x3256f6(0x107),_0x2f9a2b=_0x2beac6(_0x252eb2['questionText']||_0x252eb2[_0x3256f6(0x877)]);_0x5890db+='-\x20ข้อ\x20'+(_0xbebb77+0x1)+'\x20(p='+_0x2dea09+_0x3256f6(0x27b)+_0x51edf6+_0x3256f6(0x125)+_0x2f9a2b+'\x5cn';if(_0x252eb2['questionType']===_0x3256f6(0x5b4)&&_0x5a9cb9[_0xbebb77]){const _0x5dca41=_0x5a9cb9[_0xbebb77],_0x4067c0=Object[_0x3256f6(0x26c)](_0x5dca41)[_0x3256f6(0x625)](_0x11ae77=>parseInt(_0x11ae77)!==_0x252eb2[_0x3256f6(0x376)])[_0x3256f6(0x4d7)]((_0x1ee1a7,_0x540405)=>_0x5dca41[_0x540405][_0x3256f6(0x935)]-_0x5dca41[_0x1ee1a7][_0x3256f6(0x935)])[0x0];if(_0x4067c0&&_0x5dca41[_0x4067c0][_0x3256f6(0x935)]>0x0){const _0x4e8bf0=_0x2beac6(_0x5dca41[_0x4067c0][_0x3256f6(0x4f0)]);_0x5890db+=_0x3256f6(0x878)+_0x4e8bf0+_0x3256f6(0x721);}}});const _0x103d87=_0x57e6c8(0x3d8)+_0x2d7abd[_0x57e6c8(0x903)]+_0x57e6c8(0x531)+_0x5890db+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x462580={'type':_0x57e6c8(0x7d8),'properties':{'learningGaps':{'type':_0x57e6c8(0xc5),'items':{'type':_0x57e6c8(0x4b8)}},'teachingContent':{'type':_0x57e6c8(0x4b8)},'practiceProblems':{'type':_0x57e6c8(0xc5),'items':{'type':_0x57e6c8(0x7d8),'properties':{'question':{'type':'STRING'},'solution':{'type':'STRING'}}}}},'required':[_0x57e6c8(0x837),_0x57e6c8(0x9d2),_0x57e6c8(0x511)]},_0x135ef7=await callAnalysisApi(_0x103d87,_0x462580);await updateDoc(_0x1c0259,{'lessonPlan':_0x135ef7});const _0x16074c=_0x57e6c8(0x5e8)+_0x2d7abd['topic']+_0x57e6c8(0x3eb)+_0x135ef7[_0x57e6c8(0x837)][_0x57e6c8(0x2cb)](_0x184a5c=>'<li>'+_0x184a5c+_0x57e6c8(0x10b))[_0x57e6c8(0x56f)]('')+_0x57e6c8(0x975)+_0x135ef7[_0x57e6c8(0x9d2)]+_0x57e6c8(0x44a)+_0x135ef7[_0x57e6c8(0x511)][_0x57e6c8(0x2cb)](_0x1db084=>_0x57e6c8(0x359)+_0x1db084['question']+_0x57e6c8(0x739)+_0x1db084[_0x57e6c8(0x343)]+_0x57e6c8(0x3a7))[_0x57e6c8(0x56f)]('')+_0x57e6c8(0x45c);document[_0x57e6c8(0x893)](_0x57e6c8(0x969))[_0x57e6c8(0x490)]=_0x57e6c8(0x7d2)+_0x2d7abd['topic'],document['getElementById'](_0x57e6c8(0x2a2))[_0x57e6c8(0x938)]=_0x16074c,document[_0x57e6c8(0x893)](_0x57e6c8(0x8bc))[_0x57e6c8(0x6a0)][_0x57e6c8(0x139)]('hidden');if(window[_0x57e6c8(0x775)])MathJax[_0x57e6c8(0x2b2)]();messageModal[_0x57e6c8(0x6a0)][_0x57e6c8(0x273)](_0x57e6c8(0x8c9));}catch(_0x4b0ad2){console[_0x57e6c8(0x8f8)]('Error\x20generating\x20lesson\x20plan:',_0x4b0ad2),showMessage(_0x57e6c8(0x49f)+_0x4b0ad2[_0x57e6c8(0x18a)]);}}async function handleDuplicateQuiz(_0x108fe9){const _0x5ec9dc=_0x375675;try{const _0x110bad=doc(db,_0x5ec9dc(0x54c)+appId+_0x5ec9dc(0x685),_0x108fe9),_0x2c5a48=await getDoc(_0x110bad);if(_0x2c5a48[_0x5ec9dc(0x135)]()){const _0x4b6d13=_0x2c5a48[_0x5ec9dc(0x918)]();let _0x34c514='',_0x321be6=_0x5ec9dc(0x4de),_0x444484=null;if(_0x4b6d13[_0x5ec9dc(0x5c9)]===_0x5ec9dc(0x3d6)){let _0x23b467=_0x4b6d13['topic'][_0x5ec9dc(0x2fa)](_0x5ec9dc(0x525),'')[_0x5ec9dc(0x517)]();_0x34c514='(หลังเรียน)\x20'+_0x23b467,_0x321be6='post-test',_0x444484=_0x108fe9;}else _0x34c514=_0x5ec9dc(0x780)+_0x4b6d13[_0x5ec9dc(0x903)];const _0x3d7616={..._0x4b6d13,'topic':_0x34c514,'createdAt':new Date()['toISOString'](),'quizMode':_0x321be6,'pairedQuizId':_0x444484};let _0x16260e;while(!![]){_0x16260e=Math[_0x5ec9dc(0x4e5)](0x3e8+Math[_0x5ec9dc(0x7be)]()*0x2328)[_0x5ec9dc(0x57a)]();const _0x4bcb00=await getDoc(doc(db,_0x5ec9dc(0x54c)+appId+_0x5ec9dc(0x685),_0x16260e));if(!_0x4bcb00[_0x5ec9dc(0x135)]())break;}const _0x2552a9=doc(db,_0x5ec9dc(0x54c)+appId+'/public/data/quizzes',_0x16260e);await setDoc(_0x2552a9,_0x3d7616),_0x3d7616[_0x5ec9dc(0x5c9)]===_0x5ec9dc(0x8c5)&&await updateDoc(_0x110bad,{'pairedQuizId':_0x16260e}),showMessage('คัดลอกแบบทดสอบสำเร็จ');}else throw new Error(_0x5ec9dc(0x595));}catch(_0x2072f2){console['error'](_0x5ec9dc(0x63b),_0x2072f2),showMessage(_0x5ec9dc(0x4dd));}}async function handleDeleteQuiz(_0x59de2b,_0xea2305=!![]){const _0x438009=_0x375675;try{const _0x274f8d=writeBatch(db),_0x24a65a=collection(db,_0x438009(0x54c)+appId+_0x438009(0x4ae)+_0x59de2b+'/submissions'),_0x59bd9a=await getDocs(_0x24a65a);_0x59bd9a['forEach'](_0x238bd5=>{const _0x374012=_0x438009;_0x274f8d[_0x374012(0x8bb)](doc(_0x24a65a,_0x238bd5['id']));});const _0x545f0c=doc(db,_0x438009(0x54c)+appId+_0x438009(0x685),_0x59de2b);_0x274f8d[_0x438009(0x8bb)](_0x545f0c),await _0x274f8d[_0x438009(0x194)](),_0xea2305&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0x5a4148){console[_0x438009(0x8f8)](_0x438009(0x848),_0x5a4148),_0xea2305&&showMessage(_0x438009(0x7c8));}}async function showQuizDetailView(_0x573fcb){const _0x2520f4=_0x375675;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x2520f4(0x473));try{const _0x2681ed=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x573fcb),_0x322a45=await getDoc(_0x2681ed);if(!_0x322a45['exists']()){showMessage(_0x2520f4(0x66a));return;}const _0x95279={'id':_0x322a45['id'],..._0x322a45[_0x2520f4(0x918)]()};currentQuizData=_0x95279;const _0x4b15e8=doc(db,_0x2520f4(0x54c)+appId+_0x2520f4(0x556),_0x95279[_0x2520f4(0x862)]),_0x12ba97=await getDoc(_0x4b15e8);_0x12ba97[_0x2520f4(0x135)]()?(currentProjectData=_0x12ba97[_0x2520f4(0x918)](),currentProjectId=_0x95279[_0x2520f4(0x862)]):(currentProjectData={'students':[]},currentProjectId=_0x95279['projectId']);document[_0x2520f4(0x893)](_0x2520f4(0xbd))[_0x2520f4(0x490)]=_0x95279[_0x2520f4(0x903)],document[_0x2520f4(0x893)](_0x2520f4(0x6b3))[_0x2520f4(0x490)]=_0x573fcb;const _0x227d92=collection(db,'artifacts/'+appId+_0x2520f4(0x685),_0x573fcb,_0x2520f4(0x5cb));unsubscribeSubmissionsListener=onSnapshot(_0x227d92,_0x1d66e7=>{const _0x517996=_0x2520f4,_0x3517be=_0x1d66e7[_0x517996(0x9fe)][_0x517996(0x2cb)](_0x443fa5=>({'id':_0x443fa5['id'],..._0x443fa5[_0x517996(0x918)]()}));currentSubmissions=_0x3517be;const _0x3bd3d4=_0x3517be[_0x517996(0x625)](_0x64716d=>_0x64716d[_0x517996(0x741)]&&_0x64716d[_0x517996(0x741)]['length']>0x0);renderBehaviorLog(_0x3517be),renderAnswerGrid(currentProjectData[_0x517996(0x67f)],_0x3bd3d4,_0x95279),renderAnalytics(_0x95279,_0x3bd3d4),renderQuizResultsTable(currentProjectData[_0x517996(0x67f)],_0x3517be,_0x95279),renderQuizLeaderboard(_0x3bd3d4,_0x95279,'quiz-leaderboard-table-body');}),showView(_0x2520f4(0x585));}catch(_0x5a7aaf){console[_0x2520f4(0x8f8)](_0x2520f4(0x3e0),_0x5a7aaf),showMessage(_0x2520f4(0x5da));}}function renderAnswerGrid(_0x5907b3,_0x3f0bb6,_0x7e129b){const _0x51fd49=_0x375675,_0x2b4354=document[_0x51fd49(0x893)]('answer-grid-container');if(!_0x2b4354)return;if(!_0x5907b3||_0x5907b3[_0x51fd49(0x8f7)]===0x0){_0x2b4354[_0x51fd49(0x938)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0x8a7964=_0x7e129b['questions'],_0x3c98d5=_0x3f0bb6[_0x51fd49(0x580)]((_0x268461,_0x4148ce)=>{const _0x48f312=_0x51fd49;return _0x268461[_0x4148ce[_0x48f312(0x8cd)]]=_0x4148ce,_0x268461;},{}),_0x4e2476=_0x2730f0=>String[_0x51fd49(0x80d)](0x41+_0x2730f0),_0x3f72b6=_0x52fdc6=>{const _0x561969=_0x51fd49,_0x2c2fe4=_0x52fdc6[_0x561969(0x1d7)]||_0x7e129b['quizType'];switch(_0x2c2fe4){case'multiple_choice':return _0x52fdc6[_0x561969(0x34d)]&&_0x52fdc6[_0x561969(0x34d)]['length']>_0x52fdc6[_0x561969(0x376)]?_0x4e2476(_0x52fdc6[_0x561969(0x376)]):'-';case _0x561969(0x46e):const _0x45fe8a=_0x52fdc6['correctAnswer']===!![]||String(_0x52fdc6['correctAnswer'])['toLowerCase']()===_0x561969(0x7e6);return _0x45fe8a?'ใช่':_0x561969(0x8d3);case _0x561969(0x99f):return _0x52fdc6[_0x561969(0x714)]||'-';case _0x561969(0x689):return _0x561969(0x263);default:return'-';}},_0x285030=(_0x28742a,_0x3d6efe)=>{const _0x25d11c=_0x51fd49;if(_0x3d6efe[_0x25d11c(0x363)]===null||_0x3d6efe[_0x25d11c(0x363)]===undefined)return'-';const _0x58ed91=_0x28742a[_0x25d11c(0x1d7)]||_0x7e129b[_0x25d11c(0x241)];switch(_0x58ed91){case _0x25d11c(0x5b4):const _0x24662f=_0x28742a[_0x25d11c(0x34d)][_0x25d11c(0x218)](_0xd1656a=>_0xd1656a===_0x3d6efe[_0x25d11c(0x977)]);return _0x24662f!==-0x1?_0x4e2476(_0x24662f):_0x3d6efe[_0x25d11c(0x977)]||'-';case _0x25d11c(0x46e):if(_0x3d6efe[_0x25d11c(0x363)]=='0'||_0x3d6efe['answer']===!![]||_0x3d6efe['answer']===_0x25d11c(0x7e6))return _0x25d11c(0x5ae);return _0x25d11c(0x8d3);default:return _0x3d6efe[_0x25d11c(0x363)];}};let _0x5644cc=_0x51fd49(0x12a)+_0x8a7964['map']((_0x3ca069,_0x4635c)=>_0x51fd49(0x774)+(_0x4635c+0x1)+_0x51fd49(0x669))[_0x51fd49(0x56f)]('')+_0x51fd49(0x32e)+_0x8a7964[_0x51fd49(0x2cb)](_0x33f8a9=>_0x51fd49(0x8b4)+_0x3f72b6(_0x33f8a9)+_0x51fd49(0x7b6))[_0x51fd49(0x56f)]('')+_0x51fd49(0x22a);_0x5907b3[_0x51fd49(0x1d9)](_0x111a38=>{const _0x5766ca=_0x51fd49;_0x5644cc+='<tr>',_0x5644cc+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x111a38+_0x5766ca(0x7b6);const _0x55076d=_0x3c98d5[_0x111a38];if(_0x55076d){const _0x3d47df=_0x55076d['attempts'][_0x55076d[_0x5766ca(0x741)][_0x5766ca(0x8f7)]-0x1];_0x8a7964[_0x5766ca(0x1d9)]((_0x37c408,_0x5440a7)=>{const _0x1ad8f9=_0x5766ca,_0xa24219=_0x3d47df[_0x1ad8f9(0x196)]['find'](_0x46a808=>_0x46a808[_0x1ad8f9(0x551)]===_0x37c408['id']);if(_0xa24219){let _0x14b025='';const _0x2d92d8=_0xa24219['isCorrect']===!![],_0x5849e4=_0xa24219[_0x1ad8f9(0x2f6)]===!![]||_0xa24219[_0x1ad8f9(0x2f6)]==='confident';_0x5849e4?_0x14b025=_0x2d92d8?'bg-green-400\x20text-white\x20font-bold':'bg-red-500\x20text-white\x20font-bold':_0x14b025=_0x2d92d8?_0x1ad8f9(0x2de):'bg-red-100',_0x5644cc+=_0x1ad8f9(0x379)+_0x14b025+'\x22>'+_0x285030(_0x37c408,_0xa24219)+'</td>';}else _0x5644cc+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>';});}else _0x5644cc+=_0x8a7964['map'](()=>_0x5766ca(0x5a1))[_0x5766ca(0x56f)]('');_0x5644cc+=_0x5766ca(0x912);}),_0x5644cc+='</tbody></table>',_0x2b4354['innerHTML']=_0x5644cc;}function renderQuizResultsTable(_0x400998,_0x55cbcc,_0x94f55d){const _0xf891=_0x375675,_0x44b7c0=_0x55cbcc[_0xf891(0x580)]((_0x5a6d4a,_0x209b5f)=>{const _0x4cfd98=_0xf891;return _0x5a6d4a[_0x209b5f[_0x4cfd98(0x8cd)]]=_0x209b5f,_0x5a6d4a;},{}),_0x4d2690=document[_0xf891(0x173)]('#results-table\x20thead\x20tr');_0x4d2690&&!_0x4d2690[_0xf891(0x938)][_0xf891(0x5b5)](_0xf891(0x3c6))&&(_0x4d2690['innerHTML']+=_0xf891(0x6b2));const _0x15bd5a=document[_0xf891(0x893)]('quiz-results-table-body');if(!_0x400998||_0x400998[_0xf891(0x8f7)]===0x0){_0x15bd5a['innerHTML']=_0xf891(0x3b6);return;}const _0x49a4ac=_0x94f55d[_0xf891(0x28f)]===!![],_0x4d8eb6=_0x94f55d[_0xf891(0x6a7)]?.[_0xf891(0x532)]??-0x1;let _0x3fb498='';_0x400998[_0xf891(0x1d9)](_0x10e1e9=>{const _0x3785a5=_0xf891,_0x8104f3=_0x44b7c0[_0x10e1e9];let _0x165b9d=_0x3785a5(0x70f)+(_0x49a4ac?_0x3785a5(0x14d):_0x3785a5(0x83f))+'\x22>'+(_0x49a4ac?_0x3785a5(0x85b):_0x3785a5(0x2e1))+_0x3785a5(0x697);if(_0x8104f3){if(_0x8104f3[_0x3785a5(0x741)]&&_0x8104f3[_0x3785a5(0x741)][_0x3785a5(0x8f7)]>0x0){let _0x500cc3=_0x49a4ac?_0x8104f3[_0x3785a5(0x12b)]===_0x8104f3[_0x3785a5(0x658)]:_0x4d8eb6!==-0x1&&_0x8104f3[_0x3785a5(0x12b)]>=_0x4d8eb6;const _0x3e8513=_0x500cc3?_0x3785a5(0x3f9):_0x3785a5(0x457),_0x1a9ca9=_0x500cc3?_0x3785a5(0x8c2):_0x3785a5(0x7f0),_0x290078=_0x3785a5(0x6b9)+_0x3e8513+'\x22>'+_0x1a9ca9+'</span></td>',_0x258952=_0x3785a5(0x2c1)+(_0x8104f3[_0x3785a5(0x741)]?.[_0x3785a5(0x8f7)]||0x1)+_0x3785a5(0x1d2);_0x3fb498+=_0x3785a5(0x6db)+_0x10e1e9+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>'+_0x8104f3[_0x3785a5(0x12b)]+'\x20/\x20'+_0x8104f3[_0x3785a5(0x658)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x290078+_0x3785a5(0x3aa)+_0x165b9d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x8104f3['firstScore']+_0x3785a5(0x8e8)+_0x8104f3['totalQuestions']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x8104f3['latestScore']+_0x3785a5(0x8e8)+_0x8104f3[_0x3785a5(0x658)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>'+(_0x8104f3[_0x3785a5(0x5c5)]||0x0)+_0x3785a5(0x600)+_0x258952+_0x3785a5(0x33d)+new Date(_0x8104f3[_0x3785a5(0x13d)])['toLocaleString'](_0x3785a5(0x29c))+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x10e1e9+_0x3785a5(0x7c7);}else{const _0x155bfe=_0x3785a5(0x58e);_0x3fb498+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x20bg-orange-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x10e1e9+_0x3785a5(0x34c)+_0x165b9d+_0x3785a5(0x5f5)+_0x155bfe+_0x3785a5(0x33d)+new Date(_0x8104f3['startedAt'])['toLocaleString'](_0x3785a5(0x29c))+_0x3785a5(0x11d)+_0x10e1e9+'\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}else{const _0x5ad9be=_0x3785a5(0x2c0);_0x3fb498+=_0x3785a5(0x4bd)+_0x10e1e9+_0x3785a5(0x419)+_0x165b9d+_0x3785a5(0x36d)+_0x5ad9be+_0x3785a5(0x28a);}}),_0x15bd5a['innerHTML']=_0x3fb498;}async function confirmRenameQuiz(){const _0x3a1d14=_0x375675,_0xdc79d4=document[_0x3a1d14(0x893)](_0x3a1d14(0x68e))['value'][_0x3a1d14(0x517)]();if(!_0xdc79d4){showMessage('กรุณาใส่ชื่อใหม่');return;}if(!actionTargetId)return;const _0x1293cf=doc(db,_0x3a1d14(0x54c)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x1293cf,{'topic':_0xdc79d4}),showMessage(_0x3a1d14(0x2ef)),renameQuizModal['classList'][_0x3a1d14(0x273)](_0x3a1d14(0x8c9)),actionTargetId=null;}catch(_0x498039){console[_0x3a1d14(0x8f8)](_0x3a1d14(0x4ad),_0x498039),showMessage(_0x3a1d14(0x298));}}async function handleMoveQuiz(_0x645a9b){const _0x2b646f=_0x375675;actionTargetId=_0x645a9b;const _0x36141f=document[_0x2b646f(0x893)](_0x2b646f(0x608));_0x36141f[_0x2b646f(0x938)]=_0x2b646f(0x29a),moveQuizModal['classList'][_0x2b646f(0x139)]('hidden');try{const _0x26a298=collection(db,_0x2b646f(0x54c)+appId+_0x2b646f(0x556)),_0x2dae0b=await getDocs(_0x26a298),_0x12555b=_0x2dae0b[_0x2b646f(0x9fe)][_0x2b646f(0x2cb)](_0x5e1ff1=>({'id':_0x5e1ff1['id'],..._0x5e1ff1[_0x2b646f(0x918)]()})),_0x273a8d=_0x12555b[_0x2b646f(0x625)](_0xb0e132=>_0xb0e132['id']!==currentProjectId);if(_0x273a8d[_0x2b646f(0x8f7)]===0x0){_0x36141f[_0x2b646f(0x938)]='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document[_0x2b646f(0x893)](_0x2b646f(0x90b))[_0x2b646f(0x5fa)]=!![];return;}_0x36141f[_0x2b646f(0x938)]=_0x273a8d['map'](_0x56049a=>_0x2b646f(0x98e)+_0x56049a['id']+'\x22>'+_0x56049a[_0x2b646f(0x772)]+_0x2b646f(0x35e))[_0x2b646f(0x56f)](''),document[_0x2b646f(0x893)](_0x2b646f(0x90b))[_0x2b646f(0x5fa)]=![];}catch(_0x12d4bb){console[_0x2b646f(0x8f8)](_0x2b646f(0x694),_0x12d4bb),showMessage('ไม่สามารถโหลดรายการโปรเจคได้'),moveQuizModal[_0x2b646f(0x6a0)][_0x2b646f(0x273)]('hidden');}}async function confirmMoveQuiz(){const _0x266f6a=_0x375675,_0x4c7abd=document['getElementById']('move-quiz-project-select')[_0x266f6a(0x106)];if(!_0x4c7abd){showMessage(_0x266f6a(0x38a));return;}if(!actionTargetId)return;const _0x1cbb1c=doc(db,_0x266f6a(0x54c)+appId+_0x266f6a(0x685),actionTargetId);try{await updateDoc(_0x1cbb1c,{'projectId':_0x4c7abd}),showMessage(_0x266f6a(0x213)),moveQuizModal[_0x266f6a(0x6a0)][_0x266f6a(0x273)](_0x266f6a(0x8c9)),actionTargetId=null;}catch(_0x2cc1f8){console['error'](_0x266f6a(0x76c),_0x2cc1f8),showMessage(_0x266f6a(0x699));}}async function handleQuizSettings(_0x39d408){const _0x3040c8=_0x375675;actionTargetId=_0x39d408;const _0x18d3be=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x39d408);try{const _0x411e60=await getDoc(_0x18d3be);if(_0x411e60[_0x3040c8(0x135)]()){const _0x40d121=_0x411e60[_0x3040c8(0x918)](),_0x461d12=_0x40d121[_0x3040c8(0x6a7)]||{},_0x28eced=_0x40d121['questions'][_0x3040c8(0x8f7)];document[_0x3040c8(0x893)](_0x3040c8(0xa19))[_0x3040c8(0x106)]=_0x461d12[_0x3040c8(0x82b)]||_0x3040c8(0x951),document[_0x3040c8(0x893)]('modal-results-display-select')[_0x3040c8(0x106)]=_0x461d12['resultsDisplay']||'show_results_and_answers',document['getElementById']('modal-timer-mode-select')[_0x3040c8(0x106)]=_0x461d12[_0x3040c8(0x3e1)]||'none',document[_0x3040c8(0x893)](_0x3040c8(0x8f9))[_0x3040c8(0x106)]=_0x461d12[_0x3040c8(0x5d8)]||0xa,document[_0x3040c8(0x893)](_0x3040c8(0x172))['value']=_0x461d12[_0x3040c8(0x532)]||Math[_0x3040c8(0x4e5)](_0x28eced/0x2),document[_0x3040c8(0x893)]('modal-passing-score-input')[_0x3040c8(0xf3)]=_0x28eced,document[_0x3040c8(0x893)](_0x3040c8(0x7c9))['checked']=_0x461d12[_0x3040c8(0xef)]||![],document[_0x3040c8(0x893)]('modal-loop-until-pass-checkbox')['checked']=_0x461d12[_0x3040c8(0x99b)]||![];const _0x124dd9=_0x461d12[_0x3040c8(0xe9)]||![];document[_0x3040c8(0x893)](_0x3040c8(0x342))['checked']=_0x124dd9,document[_0x3040c8(0x893)](_0x3040c8(0x809))[_0x3040c8(0x106)]=_0x461d12[_0x3040c8(0x9f3)]||'checkbox';const _0x1bc8e0=document[_0x3040c8(0x893)](_0x3040c8(0x550));_0x1bc8e0['classList'][_0x3040c8(0x2fe)]('hidden',!_0x124dd9),document['getElementById'](_0x3040c8(0x98b))['dispatchEvent'](new Event('change')),quizSettingsModal['classList'][_0x3040c8(0x139)]('hidden');}else showMessage(_0x3040c8(0x66a));}catch(_0x5b6c5f){console['error']('Error\x20fetching\x20quiz\x20settings:',_0x5b6c5f),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x47315e=_0x375675;if(!actionTargetId)return;const _0x51797e=doc(db,_0x47315e(0x54c)+appId+'/public/data/quizzes',actionTargetId),_0x2c504e={'shuffle':document['getElementById'](_0x47315e(0xa19))['value'],'resultsDisplay':document[_0x47315e(0x893)](_0x47315e(0x167))[_0x47315e(0x106)],'timerMode':document[_0x47315e(0x893)](_0x47315e(0x98b))[_0x47315e(0x106)],'timerDuration':parseInt(document['getElementById'](_0x47315e(0x8f9))[_0x47315e(0x106)])||0xa,'passingScore':parseInt(document[_0x47315e(0x893)](_0x47315e(0x172))[_0x47315e(0x106)])||0x0,'isAdaptive':document[_0x47315e(0x893)]('modal-adaptive-quiz-checkbox')[_0x47315e(0x33c)],'loopUntilPass':document[_0x47315e(0x893)]('modal-loop-until-pass-checkbox')['checked'],'isConfidenceScoringEnabled':document[_0x47315e(0x893)](_0x47315e(0x342))[_0x47315e(0x33c)],'confidenceMode':document[_0x47315e(0x893)](_0x47315e(0x809))[_0x47315e(0x106)]};try{await updateDoc(_0x51797e,{'settings':_0x2c504e}),showMessage(_0x47315e(0x100)),quizSettingsModal[_0x47315e(0x6a0)][_0x47315e(0x273)]('hidden'),actionTargetId=null;}catch(_0x56e6df){console[_0x47315e(0x8f8)](_0x47315e(0x97a),_0x56e6df),showMessage(_0x47315e(0x4c1));}}async function confirmQuizStatus(){const _0x4a079c=_0x375675;if(!actionTargetId)return;const _0x2d1da8=doc(db,_0x4a079c(0x54c)+appId+_0x4a079c(0x685),actionTargetId),_0xd8b44a=document[_0x4a079c(0x173)](_0x4a079c(0x7e8));if(!_0xd8b44a){showMessage(_0x4a079c(0x424));return;}const _0x493ac3=_0xd8b44a[_0x4a079c(0x106)];let _0x2bca57={};if(_0x493ac3==='active'||_0x493ac3===_0x4a079c(0x906))_0x2bca57={'status':_0x493ac3,'startTime':null,'endTime':null};else{if(_0x493ac3===_0x4a079c(0x4a4)){const _0xa65258=document[_0x4a079c(0x893)](_0x4a079c(0x62a))[_0x4a079c(0x106)],_0x50f991=document['getElementById'](_0x4a079c(0x913))[_0x4a079c(0x106)];if(!_0xa65258&&!_0x50f991){showMessage(_0x4a079c(0x2d5));return;}_0x2bca57={'status':_0x4a079c(0x24d),'startTime':_0xa65258?new Date(_0xa65258)[_0x4a079c(0x6c0)]():null,'endTime':_0x50f991?new Date(_0x50f991)[_0x4a079c(0x6c0)]():null};}}try{await updateDoc(_0x2d1da8,_0x2bca57),showMessage(_0x4a079c(0x51d)),quizStatusModal['classList']['add']('hidden'),actionTargetId=null;}catch(_0x590270){console[_0x4a079c(0x8f8)](_0x4a079c(0x9cb),_0x590270),showMessage(_0x4a079c(0x39c));}}function listenForStudentProfiles(_0xc66160){const _0x2b816f=_0x375675,_0x5b702f=collection(db,_0x2b816f(0x54c)+appId+_0x2b816f(0x293)+_0xc66160+_0x2b816f(0x675));unsubscribeStudentProfilesListener=onSnapshot(_0x5b702f,_0x43d46e=>{const _0x336b7c=_0x2b816f,_0x1b4c7f=_0x43d46e[_0x336b7c(0x9fe)][_0x336b7c(0x2cb)](_0xd18827=>_0xd18827['data']());renderLeaderboard(_0x1b4c7f,_0x336b7c(0x5c2));},_0x1f2233=>{const _0x2048fc=_0x2b816f;console[_0x2048fc(0x8f8)](_0x2048fc(0x2da),_0x1f2233),document[_0x2048fc(0x893)](_0x2048fc(0x5c2))['innerHTML']=_0x2048fc(0xa0a);});}function renderLeaderboard(_0x533538,_0x22b690){const _0x1d010e=_0x375675,_0x1c2a7c=document[_0x1d010e(0x893)](_0x22b690);if(!_0x533538||_0x533538[_0x1d010e(0x8f7)]===0x0){_0x1c2a7c[_0x1d010e(0x938)]=_0x1d010e(0x2e2);return;}_0x533538[_0x1d010e(0x4d7)]((_0x9d0967,_0x4bd93c)=>{const _0x528fdb=_0x1d010e,_0x17e591=(_0x4bd93c['totalPoints']||0x0)-(_0x9d0967[_0x528fdb(0x76a)]||0x0);if(_0x17e591!==0x0)return _0x17e591;const _0x4d170b=(_0x4bd93c['badgesCount']?.[_0x528fdb(0x7ad)]||0x0)-(_0x9d0967[_0x528fdb(0x1bb)]?.[_0x528fdb(0x7ad)]||0x0);if(_0x4d170b!==0x0)return _0x4d170b;const _0x2be04f=(_0x4bd93c['badgesCount']?.[_0x528fdb(0x5ec)]||0x0)-(_0x9d0967[_0x528fdb(0x1bb)]?.[_0x528fdb(0x5ec)]||0x0);if(_0x2be04f!==0x0)return _0x2be04f;const _0x3a28ea=(_0x4bd93c[_0x528fdb(0x1bb)]?.[_0x528fdb(0x72c)]||0x0)-(_0x9d0967[_0x528fdb(0x1bb)]?.[_0x528fdb(0x72c)]||0x0);if(_0x3a28ea!==0x0)return _0x3a28ea;const _0x366ce4=(_0x4bd93c[_0x528fdb(0x1bb)]?.['quick_thinker']||0x0)-(_0x9d0967[_0x528fdb(0x1bb)]?.[_0x528fdb(0x6ab)]||0x0);if(_0x366ce4!==0x0)return _0x366ce4;return _0x9d0967[_0x528fdb(0x8cd)][_0x528fdb(0x5f1)](_0x4bd93c[_0x528fdb(0x8cd)],'th');});let _0x1294d2='';_0x533538[_0x1d010e(0x1d9)]((_0x2e1a2f,_0x2a05b5)=>{const _0x26ca82=_0x1d010e,_0x27da06=_0x2a05b5+0x1,_0x3b67ce=_0x2e1a2f['badgesCount']||{};let _0x19c6cb='';const _0x33cabc=['specialist',_0x26ca82(0x72c),_0x26ca82(0x5ec),_0x26ca82(0x6ab)];_0x33cabc['forEach'](_0x3f7378=>{const _0x2495ae=_0x26ca82;if(_0x3b67ce[_0x3f7378]>0x0){const _0x5b8e29=Object[_0x2495ae(0x5f7)](BADGES)['find'](_0x96cd5c=>_0x96cd5c['id']===_0x3f7378);_0x5b8e29&&(_0x3f7378==='specialist'?_0x19c6cb+=_0x2495ae(0x766)+_0x5b8e29['name']+_0x2495ae(0x108)+_0x5b8e29[_0x2495ae(0x232)]+_0x2495ae(0x80c):_0x19c6cb+=_0x2495ae(0x766)+_0x5b8e29[_0x2495ae(0x67c)]+'\x20('+_0x3b67ce[_0x3f7378]+_0x2495ae(0x69e)+_0x5b8e29[_0x2495ae(0x232)]+_0x2495ae(0x19c)+_0x3b67ce[_0x3f7378]+_0x2495ae(0x7a9));}}),_0x1294d2+=_0x26ca82(0x3e4)+_0x27da06+_0x26ca82(0x267)+_0x2e1a2f[_0x26ca82(0x8cd)]+_0x26ca82(0x844)+(_0x2e1a2f['totalPoints']||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x19c6cb||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x1c2a7c[_0x1d010e(0x938)]=_0x1294d2;}function displayLoopScreen(_0x23dbce,_0xf63813,_0x69bc1d){const _0x338c7a=_0x375675;let _0x308a59='';_0x69bc1d!==_0x338c7a(0x567)&&(_0x308a59='<p\x20class=\x22text-gray-700\x20mt-2\x22>คะแนนของคุณคือ\x20<strong\x20class=\x22text-xl\x22>'+_0x23dbce+_0x338c7a(0x8e8)+_0xf63813+_0x338c7a(0x53e));const _0x59ce84='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-red-100\x20rounded-lg\x20fade-in\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-redo-alt\x20text-5xl\x20text-red-500\x20mb-4\x20animate-spin\x20[animation-duration:2s]\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-red-800\x22>ยังไม่ผ่านเกณฑ์นะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x308a59+_0x338c7a(0x452);studentResultArea[_0x338c7a(0x938)]=_0x59ce84,studentResultArea[_0x338c7a(0x6a0)]['remove'](_0x338c7a(0x8c9)),studentQuizArea['classList'][_0x338c7a(0x273)]('hidden'),document[_0x338c7a(0x893)](_0x338c7a(0x3da))[_0x338c7a(0x15b)](_0x338c7a(0x246),()=>{const _0x9e040e=_0x338c7a;studentResultArea[_0x9e040e(0x6a0)][_0x9e040e(0x273)](_0x9e040e(0x8c9)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});}function renderQuizLeaderboard(_0x23bf33,_0x577719,_0x21ca31){const _0x277f5f=_0x375675,_0x1c30b3=document[_0x277f5f(0x893)](_0x21ca31),_0x3dbceb=_0x21ca31===_0x277f5f(0x8d0),_0x3bf774=_0x577719[_0x277f5f(0x389)][_0x277f5f(0x8f7)],_0x16a41b=document[_0x277f5f(0x893)](_0x21ca31)['closest'](_0x277f5f(0x70d));if(_0x16a41b&&!_0x3dbceb){const _0x44452c=_0x16a41b[_0x277f5f(0x173)](_0x277f5f(0x6e3));_0x44452c[_0x277f5f(0x938)]=_0x277f5f(0x633);}if(!_0x23bf33||_0x23bf33['length']===0x0){_0x1c30b3[_0x277f5f(0x938)]=_0x277f5f(0x9ac)+(_0x3dbceb?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x3bc21f=[..._0x23bf33];_0x3bc21f['sort']((_0x4b66a5,_0x1c2eaf)=>{const _0x58ecfa=_0x277f5f;let _0x279c33,_0x786294;switch(quizLeaderboardSortBy){case _0x58ecfa(0x8cd):_0x279c33=_0x4b66a5[_0x58ecfa(0x8cd)]||'',_0x786294=_0x1c2eaf['studentName']||'';return quizLeaderboardSortOrder==='asc'?_0x279c33[_0x58ecfa(0x5f1)](_0x786294,'th'):_0x786294[_0x58ecfa(0x5f1)](_0x279c33,'th');case'points':_0x279c33=_0x4b66a5[_0x58ecfa(0x5c5)]||0x0,_0x786294=_0x1c2eaf[_0x58ecfa(0x5c5)]||0x0;break;case _0x58ecfa(0x741):_0x279c33=_0x4b66a5[_0x58ecfa(0x741)]?.[_0x58ecfa(0x8f7)]||0x1,_0x786294=_0x1c2eaf['attempts']?.[_0x58ecfa(0x8f7)]||0x1;break;case _0x58ecfa(0x13d):_0x279c33=new Date(_0x4b66a5[_0x58ecfa(0x13d)]),_0x786294=new Date(_0x1c2eaf[_0x58ecfa(0x13d)]);break;case _0x58ecfa(0x12b):default:_0x279c33=_0x4b66a5['bestScore'],_0x786294=_0x1c2eaf[_0x58ecfa(0x12b)];break;}if(_0x279c33<_0x786294)return quizLeaderboardSortOrder===_0x58ecfa(0x9f5)?-0x1:0x1;if(_0x279c33>_0x786294)return quizLeaderboardSortOrder===_0x58ecfa(0x9f5)?0x1:-0x1;return 0x0;});const _0x39b935=_0x577719[_0x277f5f(0x28f)]===!![],_0x26678b=_0x577719[_0x277f5f(0x6a7)]?.[_0x277f5f(0x532)]??-0x1;let _0x233eb6='';_0x3bc21f[_0x277f5f(0x1d9)]((_0xaa67db,_0x75ec6e)=>{const _0x10c590=_0x277f5f,_0x401fe8=_0x75ec6e+0x1;let _0x24f37a=_0x10c590(0x754);if(_0x39b935||_0x26678b!==-0x1){let _0x3317dc=_0x39b935?_0xaa67db['bestScore']===_0x3bf774:_0xaa67db[_0x10c590(0x12b)]>=_0x26678b;const _0x334950=_0x3317dc?_0x10c590(0x3f9):_0x10c590(0x457),_0x2233ab=_0x3317dc?'ผ่าน':_0x10c590(0x7f0);_0x24f37a=_0x10c590(0x386)+_0x334950+'\x22>'+_0x2233ab+_0x10c590(0x697);}const _0x22572b=_0xaa67db[_0x10c590(0x741)][_0xaa67db[_0x10c590(0x741)]['length']-0x1],_0x4e48dd=(_0x22572b['badges']||[])['map'](_0x59f41b=>{const _0x15e685=_0x10c590,_0x3f5323=Object[_0x15e685(0x5f7)](BADGES)[_0x15e685(0x860)](_0x2df059=>_0x2df059['id']===_0x59f41b);return _0x3f5323?_0x15e685(0x997)+_0x3f5323[_0x15e685(0x67c)]+_0x15e685(0x414)+_0x3f5323[_0x15e685(0x232)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})[_0x10c590(0x56f)]('');_0x233eb6+=_0x10c590(0x477)+_0x401fe8+_0x10c590(0x45a)+_0xaa67db[_0x10c590(0x8cd)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0xaa67db[_0x10c590(0x12b)]+_0x10c590(0x8e8)+_0x3bf774+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x24f37a+_0x10c590(0x696)+(_0xaa67db[_0x10c590(0x5c5)]||0x0)+_0x10c590(0x66c)+(_0x3dbceb?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>'+(_0xaa67db[_0x10c590(0x741)]?.[_0x10c590(0x8f7)]||0x1)+_0x10c590(0x7b6))+_0x10c590(0x9c7)+(_0x3dbceb?'':'<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0xaa67db[_0x10c590(0x13d)])[_0x10c590(0x77d)](_0x10c590(0x29c))+_0x10c590(0x7b6))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x4e48dd||'-')+_0x10c590(0x942);}),_0x1c30b3[_0x277f5f(0x938)]=_0x233eb6,_0x16a41b&&!_0x3dbceb&&_0x16a41b[_0x277f5f(0x814)](_0x277f5f(0xfc))[_0x277f5f(0x1d9)](_0x2e7b46=>{const _0x3ef9ad=_0x277f5f,_0x3eb9f3=_0x2e7b46['querySelector'](_0x3ef9ad(0x340));if(_0x3eb9f3)_0x3eb9f3[_0x3ef9ad(0x139)]();_0x2e7b46[_0x3ef9ad(0x40f)][_0x3ef9ad(0x4d7)]===quizLeaderboardSortBy&&(_0x2e7b46[_0x3ef9ad(0x938)]+=_0x3ef9ad(0x197)+(quizLeaderboardSortOrder===_0x3ef9ad(0x9f5)?'▲':'▼')+_0x3ef9ad(0x4a2));});}async function handleDeleteSubmission(_0x12ab1d){const _0x2e8e48=_0x375675;if(!currentQuizData||!currentQuizData['id']||!_0x12ab1d){showMessage(_0x2e8e48(0x704));return;}showConfirmation(_0x2e8e48(0x6d9)+_0x12ab1d+_0x2e8e48(0x607),async()=>{const _0x134c10=_0x2e8e48,_0x2f612c=currentQuizData['id'],_0x32fa72=doc(db,_0x134c10(0x54c)+appId+_0x134c10(0x4ae)+_0x2f612c+_0x134c10(0x78e),_0x12ab1d);try{await deleteDoc(_0x32fa72),showMessage(_0x134c10(0x279)+_0x12ab1d+_0x134c10(0x2c9));}catch(_0x384a2b){console['error']('Error\x20deleting\x20submission:',_0x384a2b),showMessage(_0x134c10(0x901));}});}async function handleLoadQuiz(){const _0x59f05a=_0x375675,_0x1c9984=document[_0x59f05a(0x893)](_0x59f05a(0x2ac)),_0x15dffe=_0x1c9984['value'][_0x59f05a(0x517)]();if(!_0x15dffe){showMessage(_0x59f05a(0x26f));return;}loadQuizBtn[_0x59f05a(0x5fa)]=!![],loadQuizBtn['innerHTML']=_0x59f05a(0x4d8);try{const _0x80b628=doc(db,_0x59f05a(0x54c)+appId+_0x59f05a(0x685),_0x15dffe),_0x44fcf5=await getDoc(_0x80b628);if(!_0x44fcf5[_0x59f05a(0x135)]()){showMessage(_0x59f05a(0x7fc));return;}currentQuizData={'id':_0x44fcf5['id'],..._0x44fcf5[_0x59f05a(0x918)]()};const _0x34b2f9=currentQuizData[_0x59f05a(0x9bc)]||_0x59f05a(0x55d),_0xdfb902=new Date();if(_0x34b2f9===_0x59f05a(0x906)){showMessage(_0x59f05a(0x12c));return;}if(_0x34b2f9==='scheduled'){const _0x3a9b80=currentQuizData[_0x59f05a(0x39a)]?new Date(currentQuizData['startTime']):null,_0x455f56=currentQuizData[_0x59f05a(0x482)]?new Date(currentQuizData[_0x59f05a(0x482)]):null;if(_0x3a9b80&&_0xdfb902<_0x3a9b80){showMessage(_0x59f05a(0x101)+_0x3a9b80[_0x59f05a(0x77d)]('th-TH',{'hour12':![]}));return;}if(_0x455f56&&_0xdfb902>_0x455f56){showMessage(_0x59f05a(0x1bf));return;}}const _0x51f643=currentQuizData[_0x59f05a(0x862)];currentProjectId=_0x51f643;const _0x494df3=doc(db,_0x59f05a(0x54c)+appId+_0x59f05a(0x556),_0x51f643),_0x55adf9=await getDoc(_0x494df3);if(!_0x55adf9['exists']()){showMessage(_0x59f05a(0x3a4));return;}const _0x213c2d=_0x55adf9['data']();currentStudentProjectData=_0x213c2d,displayStudentNameSelector(_0x213c2d[_0x59f05a(0x67f)],currentQuizData[_0x59f05a(0x903)]);}catch(_0x32addd){console[_0x59f05a(0x8f8)](_0x59f05a(0x2aa),_0x32addd),showMessage(_0x59f05a(0x130));}finally{loadQuizBtn[_0x59f05a(0x5fa)]=![],loadQuizBtn[_0x59f05a(0x938)]=_0x59f05a(0x1c5);}}async function handleJoinLiveGame(){const _0x4b7cb1=_0x375675,_0x5d9882=document[_0x4b7cb1(0x893)](_0x4b7cb1(0x619)),_0x182d5b=document['getElementById'](_0x4b7cb1(0x46d)),_0x49722a=document[_0x4b7cb1(0x893)](_0x4b7cb1(0x3e6)),_0xb21c89=_0x5d9882[_0x4b7cb1(0x106)][_0x4b7cb1(0x517)](),_0x24576c=_0x182d5b[_0x4b7cb1(0x106)][_0x4b7cb1(0x517)]();if(!_0xb21c89||!_0x24576c){showMessage(_0x4b7cb1(0x488));return;}_0x49722a[_0x4b7cb1(0x5fa)]=!![],_0x49722a['innerHTML']=_0x4b7cb1(0x456);try{const _0x4013ea=collection(db,_0x4b7cb1(0x54c)+appId+'/public/data/liveGames'),_0x17c066=query(_0x4013ea,where('gamePin','==',_0xb21c89),where(_0x4b7cb1(0x9bc),'in',['lobby',_0x4b7cb1(0x7d0)])),_0x5be3fe=await getDocs(_0x17c066);if(_0x5be3fe[_0x4b7cb1(0x98f)]){showMessage(_0x4b7cb1(0x155));return;}const _0xb0b416=_0x5be3fe['docs'][0x0],_0xe5db67=_0xb0b416[_0x4b7cb1(0x918)]();currentLiveGameId=_0xb0b416['id'];const _0x14fadc=_0xe5db67[_0x4b7cb1(0x7b7)],_0x4aef5f=doc(db,'artifacts/'+appId+_0x4b7cb1(0x685),_0x14fadc),_0x449dae=await getDoc(_0x4aef5f);if(!_0x449dae['exists']()){showMessage(_0x4b7cb1(0x308));return;}currentQuizData={'id':_0x449dae['id'],..._0x449dae[_0x4b7cb1(0x918)]()};if(_0xe5db67['players']&&_0xe5db67[_0x4b7cb1(0x1a7)][_0x24576c]){const _0x25cb48=_0xe5db67['players'][_0x24576c];if(_0x25cb48[_0x4b7cb1(0x9bc)]===_0x4b7cb1(0x906)){_0x49722a['innerHTML']=_0x4b7cb1(0x3f8);const _0x46421b={};_0x46421b[_0x4b7cb1(0x983)+_0x24576c+_0x4b7cb1(0x2cd)]=_0x4b7cb1(0x55d),await updateDoc(doc(db,_0x4b7cb1(0x54c)+appId+_0x4b7cb1(0x3f2),currentLiveGameId),_0x46421b),showView('live-game'),currentStudentName=_0x24576c,listenForLiveGameUpdates();return;}else{showMessage(_0x4b7cb1(0x38d));return;}}if(_0xe5db67[_0x4b7cb1(0x9bc)]!==_0x4b7cb1(0x2d6)){showMessage(_0x4b7cb1(0x12d));return;}_0x49722a[_0x4b7cb1(0x938)]=_0x4b7cb1(0x39e);const _0x1d7959={};_0x1d7959[_0x4b7cb1(0x983)+_0x24576c]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0,'status':_0x4b7cb1(0x55d)},await updateDoc(doc(db,_0x4b7cb1(0x54c)+appId+_0x4b7cb1(0x3f2),currentLiveGameId),_0x1d7959),currentStudentName=_0x24576c,listenForLiveGameUpdates();}catch(_0x275daa){console['error'](_0x4b7cb1(0x453),_0x275daa),showMessage(_0x4b7cb1(0x9db));}finally{_0x49722a['disabled']=![],_0x49722a[_0x4b7cb1(0x938)]=_0x4b7cb1(0x762);}}function displayStudentNameSelector(_0x1fdf22,_0x1544ee){const _0x5efed6=_0x375675,_0x2bd3ba=document[_0x5efed6(0x893)](_0x5efed6(0x4bb));document[_0x5efed6(0x893)](_0x5efed6(0x94b))['textContent']='แบบทดสอบ:\x20'+_0x1544ee,!_0x1fdf22||_0x1fdf22[_0x5efed6(0x8f7)]===0x0?(_0x2bd3ba[_0x5efed6(0x938)]=_0x5efed6(0x674),startQuizBtn[_0x5efed6(0x5fa)]=!![]):(_0x2bd3ba[_0x5efed6(0x938)]=_0x5efed6(0x4c4),_0x1fdf22[_0x5efed6(0x1d9)](_0x205406=>{const _0x20b5a7=_0x5efed6,_0x434a9f=document[_0x20b5a7(0x980)]('option');_0x434a9f[_0x20b5a7(0x106)]=_0x205406,_0x434a9f[_0x20b5a7(0x490)]=_0x205406,_0x2bd3ba['appendChild'](_0x434a9f);}),startQuizBtn[_0x5efed6(0x5fa)]=![]),studentInitialView[_0x5efed6(0x6a0)][_0x5efed6(0x273)]('hidden'),studentNameSelectionView[_0x5efed6(0x6a0)][_0x5efed6(0x139)](_0x5efed6(0x8c9));}function shuffleArray(_0x2aa963){const _0x2f0fc9=_0x375675;for(let _0x1abf5c=_0x2aa963[_0x2f0fc9(0x8f7)]-0x1;_0x1abf5c>0x0;_0x1abf5c--){const _0x3b4a42=Math[_0x2f0fc9(0x4e5)](Math[_0x2f0fc9(0x7be)]()*(_0x1abf5c+0x1));[_0x2aa963[_0x1abf5c],_0x2aa963[_0x3b4a42]]=[_0x2aa963[_0x3b4a42],_0x2aa963[_0x1abf5c]];}}function getShuffledQuiz(_0x250ae3){const _0xa9ae51=_0x375675;let _0x3f816a=JSON[_0xa9ae51(0x95e)](JSON[_0xa9ae51(0x5dd)](_0x250ae3));const _0xc3ba24=_0x3f816a['settings']?.[_0xa9ae51(0x82b)]||_0xa9ae51(0x951);if(_0xc3ba24===_0xa9ae51(0x951))return _0x3f816a;return(_0xc3ba24===_0xa9ae51(0x816)||_0xc3ba24===_0xa9ae51(0x53a))&&shuffleArray(_0x3f816a[_0xa9ae51(0x389)]),(_0xc3ba24===_0xa9ae51(0x229)||_0xc3ba24===_0xa9ae51(0x53a))&&_0x3f816a[_0xa9ae51(0x389)]['forEach'](_0x4c3bc5=>{const _0x51fcf8=_0xa9ae51,_0x4004f9=_0x4c3bc5[_0x51fcf8(0x1d7)]||_0x3f816a[_0x51fcf8(0x241)];if(_0x4c3bc5[_0x51fcf8(0x34d)]){let _0x28be4d=_0x4c3bc5['options'][_0x51fcf8(0x2cb)]((_0x42b901,_0x6e48d8)=>({'text':_0x42b901,'isCorrect':_0x6e48d8===_0x4c3bc5[_0x51fcf8(0x376)]}));shuffleArray(_0x28be4d),_0x4c3bc5[_0x51fcf8(0x34d)]=_0x28be4d[_0x51fcf8(0x2cb)](_0x489e78=>_0x489e78[_0x51fcf8(0x4f0)]),_0x4c3bc5['correctAnswerIndex']=_0x28be4d[_0x51fcf8(0x218)](_0x17b621=>_0x17b621[_0x51fcf8(0xf2)]);}_0x4004f9===_0x51fcf8(0x99f)&&_0x4c3bc5[_0x51fcf8(0x9c0)]&&shuffleArray(_0x4c3bc5[_0x51fcf8(0x9c0)]);}),_0x3f816a;}function displayQuizForStudent(_0x16b60e){const _0x4b9ea8=_0x375675;studentQuizArea[_0x4b9ea8(0x6a0)][_0x4b9ea8(0x139)]('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x16b60e);currentMode!==_0x4b9ea8(0x6dc)&&(requestWakeLock(),isQuizActive=!![],cheatAttempts=0x0,document[_0x4b9ea8(0x15b)]('fullscreenchange',handleFullscreenChange),document[_0x4b9ea8(0x15b)]('visibilitychange',handleVisibilityChange),enterFullscreen(),window[_0x4b9ea8(0x15b)](_0x4b9ea8(0x582),resetDimTimer),window['addEventListener']('mousedown',resetDimTimer),window[_0x4b9ea8(0x15b)](_0x4b9ea8(0x6c5),resetDimTimer),window[_0x4b9ea8(0x15b)]('keydown',resetDimTimer),resetDimTimer());const _0x564ceb=currentDisplayedQuiz['settings']?.[_0x4b9ea8(0x3e1)]||_0x4b9ea8(0x951);if(_0x564ceb===_0x4b9ea8(0x3b8))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x4b9ea8(0x6a7)]['timerDuration']);else _0x564ceb===_0x4b9ea8(0x71b)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x5c55d3=_0x375675,_0x28282c=currentDisplayedQuiz[_0x5c55d3(0x6a7)]?.['isConfidenceScoringEnabled']===!![],_0x5075f0=currentDisplayedQuiz[_0x5c55d3(0x6a7)]?.[_0x5c55d3(0x9f3)]||_0x5c55d3(0x1da);let _0xc50bef=_0x5c55d3(0x111)+currentDisplayedQuiz[_0x5c55d3(0x903)]+_0x5c55d3(0x280)+(currentMode===_0x5c55d3(0x6dc)?_0x5c55d3(0x763):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20';currentDisplayedQuiz['questions']['forEach']((_0x42ff1d,_0x4c3364)=>{const _0x5ac6dc=_0x5c55d3,_0x3bb643=_0x42ff1d[_0x5ac6dc(0x1d7)]||currentDisplayedQuiz[_0x5ac6dc(0x241)];_0xc50bef+=_0x5ac6dc(0x62f);if(_0x3bb643===_0x5ac6dc(0x99f)){}else _0xc50bef+=_0x5ac6dc(0x90f)+(_0x4c3364+0x1)+'.\x20'+(_0x42ff1d['instructions']||_0x42ff1d[_0x5ac6dc(0x8b8)])+_0x5ac6dc(0x6ec),_0x42ff1d[_0x5ac6dc(0x31d)]&&(_0xc50bef+=_0x5ac6dc(0x660)+_0x42ff1d['imageCode']+_0x5ac6dc(0x2d3));_0xc50bef+='</div><div\x20class=\x22space-y-2\x22>';switch(_0x3bb643){case'short_answer':_0xc50bef+='<textarea\x20name=\x22question'+_0x4c3364+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x5ac6dc(0x46e):_0xc50bef+=_0x5ac6dc(0x621)+_0x4c3364+'_opt0\x22\x20name=\x22question'+_0x4c3364+_0x5ac6dc(0x6e2)+_0x4c3364+_0x5ac6dc(0x188),_0xc50bef+=_0x5ac6dc(0x621)+_0x4c3364+_0x5ac6dc(0x920)+_0x4c3364+_0x5ac6dc(0x176)+_0x4c3364+_0x5ac6dc(0x290);break;case _0x5ac6dc(0x99f):_0xc50bef+=_0x5ac6dc(0x68d)+_0x42ff1d[_0x5ac6dc(0x877)]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question'+_0x4c3364+_0x5ac6dc(0x6e0)+_0x42ff1d[_0x5ac6dc(0x9c0)][_0x5ac6dc(0x2cb)](_0x48e9cd=>_0x5ac6dc(0x98e)+_0x48e9cd+'\x22>'+_0x48e9cd+_0x5ac6dc(0x35e))[_0x5ac6dc(0x56f)]('')+_0x5ac6dc(0x28c);break;default:_0xc50bef+=_0x42ff1d['options'][_0x5ac6dc(0x2cb)]((_0x42b72d,_0x502365)=>_0x5ac6dc(0x5fe)+_0x4c3364+'_opt'+_0x502365+_0x5ac6dc(0x8ba)+_0x4c3364+_0x5ac6dc(0x233)+_0x502365+_0x5ac6dc(0x297)+_0x4c3364+_0x5ac6dc(0x8dc)+_0x502365+'\x22>'+_0x42b72d+_0x5ac6dc(0x857))['join']('');break;}_0xc50bef+=_0x5ac6dc(0x2d3),_0x28282c&&(_0xc50bef+=_0x5ac6dc(0x44e),_0x5075f0==='mandatory'?_0xc50bef+=_0x5ac6dc(0x9a1)+_0x4c3364+_0x5ac6dc(0x66e)+_0x4c3364+'\x22\x20value=\x22\x22>\x0a<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22flex-1\x20py-2\x20px-4\x20rounded-md\x20text-sm\x20font-semibold\x20confidence-choice-btn\x20confident\x22\x20data-question-index=\x22'+_0x4c3364+_0x5ac6dc(0x3d3)+_0x4c3364+_0x5ac6dc(0x86f):_0xc50bef+=_0x5ac6dc(0x74e)+_0x4c3364+'\x22\x20name=\x22confidence'+_0x4c3364+_0x5ac6dc(0x77e)+_0x4c3364+'\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0xc50bef+=_0x5ac6dc(0x2d3)),_0xc50bef+='</div>';}),_0xc50bef+=_0x5c55d3(0x546),_0xc50bef+=_0x5c55d3(0x705),studentQuizArea['innerHTML']=_0xc50bef;if(currentMode===_0x5c55d3(0x6dc)){const _0xf9d332=document[_0x5c55d3(0x893)](_0x5c55d3(0x92d));if(_0xf9d332)_0xf9d332[_0x5c55d3(0x15b)](_0x5c55d3(0x246),cancelAdminTest);}const _0x38e516=document[_0x5c55d3(0x893)](_0x5c55d3(0xe2));_0x38e516&&(_0x38e516[_0x5c55d3(0x15b)]('submit',handleSubmitQuiz),_0x38e516[_0x5c55d3(0x15b)]('click',_0x3e239d=>{const _0xe7aa8e=_0x5c55d3;if(_0x3e239d[_0xe7aa8e(0x7df)][_0xe7aa8e(0x6a0)][_0xe7aa8e(0x8a3)](_0xe7aa8e(0x64e))){const _0x500aa6=_0x3e239d['target'],_0x18aa42=_0x500aa6[_0xe7aa8e(0x40f)][_0xe7aa8e(0x8a5)],_0x1d075f=_0x500aa6[_0xe7aa8e(0x40f)][_0xe7aa8e(0x106)];document[_0xe7aa8e(0x893)]('confidence-input-'+_0x18aa42)[_0xe7aa8e(0x106)]=_0x1d075f;const _0x5cbd1e=_0x500aa6[_0xe7aa8e(0xa14)];_0x5cbd1e[_0xe7aa8e(0x814)](_0xe7aa8e(0x22f))['forEach'](_0x14a2a8=>_0x14a2a8['classList']['remove'](_0xe7aa8e(0x55d))),_0x500aa6[_0xe7aa8e(0x6a0)][_0xe7aa8e(0x273)](_0xe7aa8e(0x55d));}}));if(window[_0x5c55d3(0x775)])window['MathJax'][_0x5c55d3(0x2b2)]([studentQuizArea]);}async function handleSubmitQuiz(_0x2951d5){const _0xffe4d1=_0x375675;if(_0x2951d5)_0x2951d5['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x27e5b4=document[_0xffe4d1(0x893)](_0xffe4d1(0xe2));if(!_0x27e5b4)return;const _0x5e684e=currentDisplayedQuiz['settings']?.[_0xffe4d1(0xe9)]===!![],_0x43299b=currentDisplayedQuiz[_0xffe4d1(0x6a7)]?.['confidenceMode']||'checkbox';if(_0x5e684e&&_0x43299b===_0xffe4d1(0x5ca)){let _0x1415bb=!![];for(let _0x4af8b2=0x0;_0x4af8b2<currentDisplayedQuiz[_0xffe4d1(0x389)][_0xffe4d1(0x8f7)];_0x4af8b2++){const _0x243c26=_0x27e5b4[_0xffe4d1(0x173)]('#confidence-input-'+_0x4af8b2);if(!_0x243c26||_0x243c26['value']===''){_0x1415bb=![];break;}}if(!_0x1415bb){showMessage(_0xffe4d1(0x521));return;}}const _0x5deb41=_0x27e5b4['querySelector'](_0xffe4d1(0x1a3)),_0x36bb22=currentDisplayedQuiz[_0xffe4d1(0x389)][_0xffe4d1(0x834)](_0x62b57=>_0x62b57[_0xffe4d1(0x1d7)]===_0xffe4d1(0x689));_0x5deb41&&(_0x5deb41['disabled']=!![],_0x5deb41[_0xffe4d1(0x938)]=_0x36bb22?_0xffe4d1(0x88f):_0xffe4d1(0x560));const _0x438506=new FormData(_0x27e5b4),_0x5cbf28=currentDisplayedQuiz['questions'][_0xffe4d1(0x2cb)]((_0x403591,_0xe39b8f)=>{const _0x3ff7e4=_0xffe4d1,_0x115488=_0x438506['get']('question'+_0xe39b8f);let _0x3a4f30;_0x43299b==='mandatory'?_0x3a4f30=_0x438506[_0x3ff7e4(0x74c)](_0x3ff7e4(0x2ee)+_0xe39b8f):_0x3a4f30=_0x438506['get'](_0x3ff7e4(0x2ee)+_0xe39b8f)==='on';let _0x49d298=null;if(_0x115488!==null&&_0x115488!==undefined){const _0x52f7f3=_0x403591['questionType']||currentDisplayedQuiz[_0x3ff7e4(0x241)];_0x52f7f3==='multiple_choice'||_0x52f7f3===_0x3ff7e4(0x6e5)?_0x49d298=parseInt(_0x115488):_0x49d298=_0x115488;}return{'answer':_0x49d298,'wasConfident':_0x3a4f30};}),_0x407de2=currentQuizData['id'],_0x5c62bc=doc(db,'artifacts/'+appId+_0xffe4d1(0x4ae)+_0x407de2+_0xffe4d1(0x78e),currentStudentName),_0x5a1439=await getDoc(_0x5c62bc),_0x31f1cd=_0x5a1439[_0xffe4d1(0x135)]()?_0x5a1439[_0xffe4d1(0x918)]():{},_0x28483f=_0x31f1cd[_0xffe4d1(0x741)]||[];await processAndSubmitAnswers(_0x5cbf28,_0x28483f);}async function gradeShortAnswerWithAI(_0x2ed509,_0x387991){const _0x301350=_0x375675;if(!_0x2ed509||!_0x387991)return![];try{const _0x2e0527=_0x301350(0x65e)+_0x2ed509+_0x301350(0x9e5)+_0x387991+_0x301350(0x25c),_0x29217e={'contents':[{'role':'user','parts':[{'text':_0x2e0527}]}]},_0x4ad469=_0x301350(0x789),_0xbc88bc=_0x301350(0x7eb)+_0x4ad469,_0x55fa06=await fetch(_0xbc88bc,{'method':_0x301350(0x636),'headers':{'Content-Type':_0x301350(0x62d)},'body':JSON[_0x301350(0x5dd)](_0x29217e)});if(!_0x55fa06['ok'])throw new Error('API\x20call\x20failed');const _0x25701f=await _0x55fa06[_0x301350(0x9e9)](),_0x41942a=_0x25701f['candidates'][0x0][_0x301350(0x68f)][_0x301350(0x50f)][0x0]['text'][_0x301350(0x517)]()[_0x301350(0x3dc)]();return _0x41942a==='true';}catch(_0x39bee4){return console[_0x301350(0x8f8)](_0x301350(0x61d),_0x39bee4),![];}}async function processAndSubmitAnswers(_0x13043b,_0x23ae53){const _0x4c5e64=_0x375675;releaseWakeLock(),stopDimTimer(),exitFullscreen(),isQuizActive=![],document[_0x4c5e64(0x5cc)](_0x4c5e64(0x467),handleFullscreenChange),document['removeEventListener'](_0x4c5e64(0x503),handleVisibilityChange);let _0x3388a6=0x0;const _0x4ed558=[],_0x34c285=currentDisplayedQuiz[_0x4c5e64(0x389)]['length'];let _0x3da638=0x0,_0x492bac=[];const _0x53d120=currentDisplayedQuiz[_0x4c5e64(0x389)];for(let _0x8f31c=0x0;_0x8f31c<_0x53d120[_0x4c5e64(0x8f7)];_0x8f31c++){const _0x36b354=_0x53d120[_0x8f31c],_0x132f28=_0x13043b[_0x8f31c],_0x1a2870=_0x132f28?_0x132f28[_0x4c5e64(0x363)]:null,_0x32b403=_0x132f28?_0x132f28[_0x4c5e64(0x2f6)]:null;let _0x1ec30a=![],_0xad296a=0x0;if(_0x1a2870!==null&&_0x1a2870!==''){const _0x58d35e=_0x36b354[_0x4c5e64(0x1d7)]||currentDisplayedQuiz[_0x4c5e64(0x241)];switch(_0x58d35e){case'matching_item':_0x1ec30a=_0x1a2870===_0x36b354[_0x4c5e64(0x714)];break;case _0x4c5e64(0x46e):const _0x6fecfe=_0x1a2870===!![]||_0x1a2870==='true';_0x1ec30a=_0x6fecfe===_0x36b354[_0x4c5e64(0x1b1)];break;case _0x4c5e64(0x689):_0x1ec30a=await gradeShortAnswer(_0x1a2870,_0x36b354);break;case _0x4c5e64(0x5b4):default:_0x1ec30a=Number(_0x1a2870)===_0x36b354[_0x4c5e64(0x376)];break;}}if(currentDisplayedQuiz[_0x4c5e64(0x6a7)]?.[_0x4c5e64(0xe9)]){const _0x5f5d25=_0x132f28?_0x132f28[_0x4c5e64(0x2f6)]:null;if(_0x1ec30a&&(_0x5f5d25===!![]||_0x5f5d25===_0x4c5e64(0x1a6)))_0xad296a=0x2;else{if(_0x1ec30a)_0xad296a=0x1;else{if(!_0x1ec30a&&(_0x5f5d25===![]||_0x5f5d25===_0x4c5e64(0x8b5)||_0x5f5d25===null))_0xad296a=0x0;else!_0x1ec30a&&(_0x5f5d25===!![]||_0x5f5d25===_0x4c5e64(0x1a6))&&(_0xad296a=-0x1);}}}else _0xad296a=_0x1ec30a?0x1:0x0;_0x3388a6+=_0xad296a;if(_0x1ec30a){_0x3da638++;if(_0x3da638===0x3)_0x492bac['push'](BADGES[_0x4c5e64(0x1a1)]['id']);}else _0x3da638=0x0;let _0x5d46e1=null;_0x36b354[_0x4c5e64(0x34d)]&&_0x1a2870!==null&&(_0x5d46e1=_0x36b354['options'][_0x1a2870]),_0x4ed558[_0x4c5e64(0x6d0)]({'questionId':_0x36b354['id'],'answer':_0x1a2870,'answerText':_0x5d46e1,'isCorrect':_0x1ec30a,'wasConfident':_0x32b403,'pointsAwarded':_0xad296a,'originalQuestionText':_0x36b354['stem']||_0x36b354[_0x4c5e64(0x8b8)]});}const _0x1ebc08=_0x4ed558[_0x4c5e64(0x625)](_0x3ecd07=>_0x3ecd07['isCorrect'])[_0x4c5e64(0x8f7)],_0xbb44c1=currentDisplayedQuiz[_0x4c5e64(0x6a7)]?.[_0x4c5e64(0x532)]??Math[_0x4c5e64(0x4e5)](_0x34c285/0x2);_0x1ebc08===_0x34c285&&_0x34c285>0x0&&!currentDisplayedQuiz[_0x4c5e64(0x28f)]&&_0x492bac['push'](BADGES[_0x4c5e64(0x420)]['id']);const _0xf1f7b7=currentDisplayedQuiz[_0x4c5e64(0x6a7)]?.[_0x4c5e64(0x3e1)];if(_0xf1f7b7===_0x4c5e64(0x3b8)&&quizStartTime){const _0xaad97e=(new Date()-quizStartTime)/0x3e8,_0x54077e=currentDisplayedQuiz['settings'][_0x4c5e64(0x5d8)]*0x3c;_0x1ebc08>=_0xbb44c1&&_0xaad97e<_0x54077e/0x2&&_0x492bac[_0x4c5e64(0x6d0)](BADGES[_0x4c5e64(0x6e6)]['id']);}_0x23ae53['length']===0x0&&_0x1ebc08===_0x34c285&&_0x34c285>0x0&&_0x492bac['push'](BADGES[_0x4c5e64(0xa05)]['id']);if(_0x23ae53[_0x4c5e64(0x8f7)]>0x0){const _0x3e0efc=_0x23ae53[0x0][_0x4c5e64(0x9eb)];if(_0x3e0efc<_0xbb44c1&&_0x1ebc08>=_0xbb44c1){const _0x4c8e1b=_0x23ae53[_0x4c5e64(0x834)](_0x38bc00=>(_0x38bc00['badges']||[])['includes'](BADGES['COMEBACK_KING']['id']));!_0x4c8e1b&&_0x492bac['push'](BADGES[_0x4c5e64(0x9ef)]['id']);}}_0x23ae53[_0x4c5e64(0x8f7)]===0x4&&_0x492bac[_0x4c5e64(0x6d0)](BADGES[_0x4c5e64(0x679)]['id']);const _0x3932f6=currentDisplayedQuiz[_0x4c5e64(0x6a7)]['resultsDisplay'];if(currentMode===_0x4c5e64(0x6dc)){handleResultDisplay(_0x3932f6,_0x1ebc08,_0x3388a6,_0x492bac,_0x4ed558,_0x34c285);return;}const _0x223429=currentQuizData['id'],_0x3c2c10=doc(db,'artifacts/'+appId+'/public/data/quizzes/'+_0x223429+'/submissions',currentStudentName);try{const _0x3bc3e5=[..._0x23ae53],_0x580028={'score':_0x1ebc08,'points':_0x3388a6,'badges':Array['from'](new Set(_0x492bac)),'submittedAt':new Date()[_0x4c5e64(0x6c0)](),'answers':_0x4ed558};_0x3bc3e5['push'](_0x580028);const _0x12b94a=_0x23ae53['length']===0x0?_0x1ebc08:_0x23ae53[0x0]['score']||0x0,_0x5cddec=Math[_0x4c5e64(0xf3)](..._0x3bc3e5[_0x4c5e64(0x2cb)](_0x6f8027=>_0x6f8027[_0x4c5e64(0x9eb)]));await setDoc(_0x3c2c10,{'studentName':currentStudentName,'totalQuestions':_0x34c285,'attempts':_0x3bc3e5,'firstScore':_0x12b94a,'bestScore':_0x5cddec,'latestScore':_0x1ebc08,'points':_0x3388a6,'latestSubmittedAt':_0x580028['submittedAt']},{'merge':!![]}),await updateStudentProfile(currentQuizData['projectId'],currentStudentName),handleResultDisplay(_0x3932f6,_0x1ebc08,_0x3388a6,_0x492bac,_0x4ed558,_0x34c285);}catch(_0x24d86d){console[_0x4c5e64(0x8f8)](_0x4c5e64(0x806),_0x24d86d),showMessage(_0x4c5e64(0x1cc));}}async function updateStudentProfile(_0x20d6ba,_0xf4c152){const _0x53b2ae=_0x375675,_0x1b12c1=doc(db,_0x53b2ae(0x54c)+appId+_0x53b2ae(0x293)+_0x20d6ba+_0x53b2ae(0x675),_0xf4c152);try{const _0x1bcdf5=query(collection(db,_0x53b2ae(0x54c)+appId+'/public/data/quizzes'),where(_0x53b2ae(0x862),'==',_0x20d6ba)),_0x5d01e3=await getDocs(_0x1bcdf5),_0x39849e=new Map(_0x5d01e3['docs'][_0x53b2ae(0x2cb)](_0x1c36ff=>[_0x1c36ff['id'],_0x1c36ff[_0x53b2ae(0x918)]()])),_0x23c877=Array[_0x53b2ae(0x84b)](_0x39849e['keys']());await runTransaction(db,async _0x3e4632=>{const _0x40ca41=_0x53b2ae;let _0x4c3315=0x0;const _0x39531d={};let _0x49f58f=!![],_0x4b22c5=0x0,_0xb149b=0x0;for(const _0x5a52e6 of _0x23c877){const _0xd31f99=_0x39849e['get'](_0x5a52e6),_0x29a56e=doc(db,_0x40ca41(0x54c)+appId+'/public/data/quizzes/'+_0x5a52e6+_0x40ca41(0x78e),_0xf4c152),_0x2c54fe=await _0x3e4632[_0x40ca41(0x74c)](_0x29a56e);if(_0x2c54fe['exists']()){const _0x4b6b1f=_0x2c54fe['data'](),_0x1d3805=_0x4b6b1f[_0x40ca41(0x741)]||[];if(_0x1d3805[_0x40ca41(0x8f7)]>0x0){const _0x715a76=_0x1d3805[_0x40ca41(0x580)]((_0x30e0a5,_0x329ebf)=>{const _0x36dc71=_0x40ca41;if(_0x329ebf[_0x36dc71(0x9eb)]>_0x30e0a5['score'])return _0x329ebf;if(_0x329ebf[_0x36dc71(0x9eb)]===_0x30e0a5[_0x36dc71(0x9eb)])return(_0x329ebf[_0x36dc71(0x5c5)]||0x0)>(_0x30e0a5[_0x36dc71(0x5c5)]||0x0)?_0x329ebf:_0x30e0a5;return _0x30e0a5;},{'score':-0x1,'points':-0x1});_0x715a76[_0x40ca41(0x9eb)]>-0x1&&(_0x4c3315+=_0x715a76[_0x40ca41(0x5c5)]||0x0,(_0x715a76[_0x40ca41(0x56d)]||[])[_0x40ca41(0x1d9)](_0x171993=>{_0x39531d[_0x171993]=(_0x39531d[_0x171993]||0x0)+0x1;}));}}if(_0xd31f99[_0x40ca41(0x903)]!==_0x40ca41(0xa00)){_0xb149b++;if(_0x2c54fe['exists']()){_0x4b22c5++;const _0x2346cf=_0x2c54fe['data']();_0x2346cf[_0x40ca41(0x12b)]!==_0x2346cf['totalQuestions']&&(_0x49f58f=![]);}else _0x49f58f=![];}}_0xb149b>0x0&&_0x4b22c5===_0xb149b&&_0x49f58f?_0x39531d[_0x40ca41(0x7ad)]=0x1:_0x39531d['specialist']=0x0,_0x3e4632[_0x40ca41(0x9d3)](_0x1b12c1,{'studentName':_0xf4c152,'totalPoints':_0x4c3315,'unlockedBadges':Object[_0x40ca41(0x26c)](_0x39531d)[_0x40ca41(0x625)](_0x1dea1b=>_0x39531d[_0x1dea1b]>0x0),'badgesCount':_0x39531d},{'merge':!![]});});}catch(_0x55aba7){console[_0x53b2ae(0x8f8)](_0x53b2ae(0x7b3),_0x55aba7),showMessage(_0x53b2ae(0x9f7));}}function startAdminTest(){const _0x2d0905=_0x375675;if(!currentQuizData){showMessage(_0x2d0905(0x74b));return;}let _0x8233e5=JSON[_0x2d0905(0x95e)](JSON['stringify'](currentQuizData));currentMode=_0x2d0905(0x6dc),currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView[_0x2d0905(0x6a0)][_0x2d0905(0x273)]('hidden'),studentView['classList'][_0x2d0905(0x139)](_0x2d0905(0x8c9)),studentInitialView[_0x2d0905(0x6a0)][_0x2d0905(0x273)](_0x2d0905(0x8c9)),studentNameSelectionView[_0x2d0905(0x6a0)]['add'](_0x2d0905(0x8c9)),studentResultArea[_0x2d0905(0x6a0)][_0x2d0905(0x273)](_0x2d0905(0x8c9)),studentQuizArea[_0x2d0905(0x6a0)][_0x2d0905(0x139)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(_0x8233e5);}function handleResultDisplay(_0x3374d3,_0x1370c1,_0x431549,_0x17c4d3,_0x2e6d43,_0x35993f){const _0x2a5b92=_0x375675;if(_0x3374d3==='manual_release'){displaySubmissionConfirmation();return;}const _0xbc132e=currentDisplayedQuiz[_0x2a5b92(0x6a7)]?.[_0x2a5b92(0x532)]??Math[_0x2a5b92(0x4e5)](_0x35993f/0x2),_0x1f944d=currentDisplayedQuiz[_0x2a5b92(0x6a7)]?.['isAdaptive']??![],_0x456cf2=currentDisplayedQuiz[_0x2a5b92(0x6a7)]?.['loopUntilPass']===!![],_0x1a49d6=_0x1370c1<_0xbc132e,_0x5f3c45=_0x3374d3===_0x2a5b92(0x9df)||_0x3374d3===_0x2a5b92(0xc0);if(_0x456cf2&&_0x1a49d6&&!_0x5f3c45){_0x3374d3==='show_results_and_answers'?displayResultsWithAnswers(_0x1370c1,_0x431549,_0x17c4d3,_0x2e6d43,_0x35993f,!![]):displayLoopScreen(_0x1370c1,_0x35993f,_0x3374d3);return;}if(_0x1f944d&&_0x1a49d6){startAdaptiveFlow(_0x2e6d43,_0x1370c1,_0x35993f);return;}switch(_0x3374d3){case'show_results_and_answers':displayResultsWithAnswers(_0x1370c1,_0x431549,_0x17c4d3,_0x2e6d43,_0x35993f);break;case _0x2a5b92(0x1fb):displayResultsScoreOnly(_0x1370c1,_0x431549,_0x17c4d3,_0x35993f);break;case _0x2a5b92(0x567):displayPassFailOnly(_0x1370c1,_0x35993f);break;case _0x2a5b92(0x9df):displayHalfMarkResult(_0x1370c1,_0x35993f);break;case _0x2a5b92(0xc0):displayPerfectScoreResult(_0x1370c1,_0x35993f);break;default:displaySubmissionConfirmation();break;}}async function generateRemedialQuiz(_0x4dbb6f){const _0x24a311=_0x375675;studentReadingArea[_0x24a311(0x938)]=_0x24a311(0x169);const _0x25a5c0=_0x24a311(0x4a7)+_0x4dbb6f+_0x24a311(0x299)+simpleMathPrompt+_0x24a311(0xee),_0x32ec16={'type':_0x24a311(0x7d8),'properties':{'questionText':{'type':_0x24a311(0x4b8)},'options':{'type':_0x24a311(0xc5),'items':{'type':_0x24a311(0x4b8)}},'correctAnswerIndex':{'type':_0x24a311(0x8fe)},'explanation':{'type':'STRING'}},'required':[_0x24a311(0x8b8),_0x24a311(0x34d),'correctAnswerIndex','explanation']},_0x2d79bd={'type':'OBJECT','properties':{'topic':{'type':_0x24a311(0x4b8)},'questions':{'type':_0x24a311(0xc5),'items':_0x32ec16}},'required':['topic','questions']};try{const _0x24d00f=await callAnalysisApi(_0x25a5c0,_0x2d79bd);_0x24d00f[_0x24a311(0x28f)]=!![],studentReadingArea[_0x24a311(0x6a0)]['add'](_0x24a311(0x8c9));const _0x42ace0={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':'show_results_and_answers'};_0x24d00f[_0x24a311(0x6a7)]=_0x42ace0,displayQuizForStudent(_0x24d00f);}catch(_0x238ff9){console[_0x24a311(0x8f8)](_0x24a311(0x609),_0x238ff9),showMessage(_0x24a311(0x3b4)),showView('student');}}function displayPassFailOnly(_0x3f69c0,_0x380670){const _0x14e7b8=_0x375675,_0x130c63=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x467a48=currentDisplayedQuiz['isRemedial']===!![];let _0xf1cc78='',_0x4a7e07=![];if(_0x467a48||_0x130c63!==-0x1){_0x4a7e07=_0x467a48?_0x3f69c0===_0x380670:_0x3f69c0>=_0x130c63;const _0x28036d=_0x4a7e07?_0x14e7b8(0x3f9):_0x14e7b8(0x457),_0x4ff8f3=_0x4a7e07?'ผ่าน':_0x14e7b8(0x7f0);_0xf1cc78=_0x14e7b8(0x3a1)+_0x28036d+'\x22>'+_0x4ff8f3+'</span></div>';}else _0xf1cc78=_0x14e7b8(0x422);let _0x298927='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+_0x14e7b8(0x15f)+_0xf1cc78+_0x14e7b8(0x767);studentResultArea[_0x14e7b8(0x938)]=_0x298927,studentResultArea[_0x14e7b8(0x6a0)][_0x14e7b8(0x139)](_0x14e7b8(0x8c9)),studentQuizArea[_0x14e7b8(0x6a0)]['add']('hidden'),setupResultScreenBackButton({'showRankings':!![],'showImproveButton':!_0x4a7e07});}function cancelAdminTest(){const _0x258573=_0x375675;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);releaseWakeLock(),stopDimTimer(),exitFullscreen(),document[_0x258573(0x5cc)](_0x258573(0x467),handleFullscreenChange),document[_0x258573(0x5cc)](_0x258573(0x503),handleVisibilityChange),currentMode=_0x258573(0x594),studentView['classList']['add'](_0x258573(0x8c9)),adminView[_0x258573(0x6a0)][_0x258573(0x139)](_0x258573(0x8c9)),showView(_0x258573(0x31c));}function setupResultScreenBackButton(_0x4e361d){const _0x3cd558=_0x375675,_0xdf67d6={'isLooping':![],'score':0x0,'totalQuestions':0x1,'showRankings':!![],'showImproveButton':undefined,..._0x4e361d};if(_0xdf67d6['isLooping']){const _0x2d59f2=_0x3cd558(0x30c);studentResultArea[_0x3cd558(0x83a)](_0x3cd558(0xa10),_0x2d59f2),document[_0x3cd558(0x893)]('retake-quiz-loop-btn')[_0x3cd558(0x15b)]('click',()=>{const _0x3828eb=_0x3cd558;studentResultArea[_0x3828eb(0x6a0)][_0x3828eb(0x273)](_0x3828eb(0x8c9)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);});return;}const _0x551cf9=_0x3cd558(0x478),_0x12aac8=currentMode===_0x3cd558(0x6dc),_0x9253e3=_0x12aac8?'<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการ':_0x3cd558(0x990);let _0x58eb06='';_0xdf67d6[_0x3cd558(0x9aa)]&&(_0x58eb06+=_0x3cd558(0x691));let _0x500937=_0xdf67d6[_0x3cd558(0x528)];_0x500937===undefined&&(_0x500937=_0xdf67d6[_0x3cd558(0x9eb)]<_0xdf67d6[_0x3cd558(0x658)]);_0x500937&&(_0x58eb06+=_0x3cd558(0x7db));_0x58eb06+=_0x3cd558(0x4dc)+_0x551cf9+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x20whitespace-nowrap\x22>'+_0x9253e3+'</button>';const _0x34b0d8='<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-lg\x20mx-auto\x22>'+_0x58eb06+_0x3cd558(0x2d3);studentResultArea['insertAdjacentHTML'](_0x3cd558(0xa10),_0x34b0d8),studentResultArea[_0x3cd558(0x173)](_0x3cd558(0x73b))?.['addEventListener']('click',handleShowStudentRankings);const _0x1ef8b6=studentResultArea[_0x3cd558(0x173)](_0x3cd558(0x81e));_0x1ef8b6&&_0x1ef8b6['addEventListener'](_0x3cd558(0x246),()=>{const _0x2237d2=_0x3cd558;studentResultArea['classList'][_0x2237d2(0x273)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x3cd558(0x893)](_0x551cf9)[_0x3cd558(0x15b)](_0x3cd558(0x246),()=>{const _0x578e1d=_0x3cd558;_0x12aac8?(currentMode=_0x578e1d(0x594),studentView[_0x578e1d(0x6a0)]['add'](_0x578e1d(0x8c9)),adminView[_0x578e1d(0x6a0)][_0x578e1d(0x139)](_0x578e1d(0x8c9)),showView('project-detail')):(showView('student'),document[_0x578e1d(0x893)](_0x578e1d(0x2ac))[_0x578e1d(0x106)]='');});}function displayResultsWithAnswers(_0x47724d,_0x336dee,_0x2ba78b,_0x3b7cea,_0x2fd9ab,_0x512ad4=![]){const _0x158b46=_0x375675,_0x17fd62=_0x2fd9ab>0x0?_0x47724d/_0x2fd9ab*0x64:0x0,_0x2be4df=currentDisplayedQuiz[_0x158b46(0x6a7)]?.['passingScore']??-0x1,_0x5943b7=currentDisplayedQuiz[_0x158b46(0x28f)]===!![];let _0x1e54da='';if(_0x5943b7||_0x2be4df!==-0x1){let _0x602406=_0x5943b7?_0x47724d===_0x2fd9ab:_0x47724d>=_0x2be4df;const _0x46d87e=_0x602406?_0x158b46(0x3f9):_0x158b46(0x457),_0xbf53d9=_0x602406?_0x158b46(0x8c2):_0x158b46(0x7f0);_0x1e54da=_0x158b46(0x6c2)+_0x46d87e+'\x22>'+_0xbf53d9+_0x158b46(0x6ec);}let _0x5e4c49=_0x158b46(0x200)+currentStudentName+_0x158b46(0x713)+_0x47724d+_0x158b46(0x929)+_0x2fd9ab+_0x158b46(0x5e3)+_0x1e54da+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+'+_0x336dee+'\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20'+_0x17fd62[_0x158b46(0x702)](0x0)+_0x158b46(0x590);currentDisplayedQuiz[_0x158b46(0x389)][_0x158b46(0x1d9)]((_0x37ba08,_0x27fff5)=>{const _0x5607fb=_0x158b46,_0x27fc99=_0x3b7cea[_0x27fff5],_0x55281e=_0x27fc99[_0x5607fb(0x363)],_0xc0e9c3=_0x27fc99[_0x5607fb(0xf2)],_0x2176be=_0x37ba08[_0x5607fb(0x1d7)]||currentDisplayedQuiz[_0x5607fb(0x241)];_0x5e4c49+=_0x5607fb(0x81d)+(_0xc0e9c3?_0x5607fb(0x69b):_0x5607fb(0x88c))+'\x22><p\x20class=\x22font-semibold\x22>'+(_0x27fff5+0x1)+'.\x20'+(_0x37ba08['stem']||_0x37ba08[_0x5607fb(0x8b8)])+'</p><div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>';switch(_0x2176be){case _0x5607fb(0x99f):const _0x2e8880=_0x55281e||_0x5607fb(0x9d8),_0x45733e=_0x37ba08[_0x5607fb(0x714)];_0x5e4c49+=_0x5607fb(0x959)+(!_0xc0e9c3?_0x5607fb(0x284):'')+'\x22>'+_0x2e8880+_0x5607fb(0x8ca);!_0xc0e9c3&&(_0x5e4c49+=_0x5607fb(0x19b)+_0x45733e+_0x5607fb(0x6ec));break;case _0x5607fb(0x689):_0x5e4c49+=_0x5607fb(0x43a)+(_0x55281e||_0x5607fb(0x9d8))+_0x5607fb(0x6ec),_0x5e4c49+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20'+_0x37ba08[_0x5607fb(0xf4)]+'</p>';break;case _0x5607fb(0x46e):_0x5e4c49+=_0x5607fb(0x661)+(_0x37ba08[_0x5607fb(0x1b1)]===!![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x55281e===_0x5607fb(0x7e6)&&!_0xc0e9c3?_0x5607fb(0x284):'')+_0x5607fb(0x928),_0x5e4c49+='<p\x20class=\x22'+(_0x37ba08[_0x5607fb(0x1b1)]===![]?_0x5607fb(0x18f):'')+'\x20'+(_0x55281e===_0x5607fb(0x924)&&!_0xc0e9c3?_0x5607fb(0x284):'')+'\x22>ไม่ใช่</p>';break;default:_0x5e4c49+=_0x37ba08['options'][_0x5607fb(0x2cb)]((_0x5b650d,_0x44278e)=>{const _0x30f5bd=_0x5607fb;let _0x5c4d1f='',_0x54627e='';if(_0x44278e===_0x37ba08['correctAnswerIndex'])_0x5c4d1f=_0x30f5bd(0x18f),_0x54627e=_0x30f5bd(0x861);else _0x44278e===_0x55281e&&(_0x5c4d1f=_0x30f5bd(0x25e),_0x54627e=_0x30f5bd(0x222));return _0x30f5bd(0x2ad)+_0x5c4d1f+'\x22>'+_0x54627e+_0x5b650d+'</div>';})[_0x5607fb(0x56f)]('');break;}_0x5e4c49+='</div><div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22><strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x37ba08['explanation']||_0x5607fb(0x5d0))+'</div>';if(!_0xc0e9c3){const _0x28b117=_0x37ba08['stem']||_0x37ba08['questionText'];_0x5e4c49+=_0x5607fb(0x576)+escape(_0x28b117)+'\x22><i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม</button></div>';}_0x5e4c49+=_0x5607fb(0x2d3);}),studentResultArea[_0x158b46(0x938)]=_0x5e4c49,renderEarnedBadges(_0x2ba78b,_0x158b46(0x559)),studentResultArea[_0x158b46(0x6a0)][_0x158b46(0x139)]('hidden'),studentQuizArea[_0x158b46(0x6a0)]['add'](_0x158b46(0x8c9)),setupResultScreenBackButton({'isLooping':_0x512ad4,'score':_0x47724d,'totalQuestions':_0x2fd9ab,'showRankings':!![]});if(window[_0x158b46(0x775)])window['MathJax'][_0x158b46(0x2b2)]([studentResultArea]);}function displayResultsScoreOnly(_0x3bb2b7,_0x12e676,_0x4cdf11,_0x5512e7){const _0xe7db97=_0x375675,_0x2fd76b=_0x5512e7>0x0?_0x3bb2b7/_0x5512e7*0x64:0x0,_0x3ca15f=currentDisplayedQuiz[_0xe7db97(0x6a7)]?.[_0xe7db97(0x532)]??-0x1,_0x171e47=currentDisplayedQuiz[_0xe7db97(0x28f)]===!![];let _0x47a0fb='';if(_0x171e47||_0x3ca15f!==-0x1){let _0x4fe8fe=_0x171e47?_0x3bb2b7===_0x5512e7:_0x3bb2b7>=_0x3ca15f;const _0x19ef2a=_0x4fe8fe?_0xe7db97(0x3f9):_0xe7db97(0x457),_0x3d60fb=_0x4fe8fe?'ผ่าน':_0xe7db97(0x7f0);_0x47a0fb='<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20'+_0x19ef2a+'\x22>'+_0x3d60fb+'</p>';}let _0x561fa0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>'+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>'+_0x3bb2b7+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x5512e7+_0xe7db97(0x5e3)+_0x47a0fb+_0xe7db97(0x6af)+_0x12e676+_0xe7db97(0x21c)+_0x2fd76b[_0xe7db97(0x702)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea[_0xe7db97(0x938)]=_0x561fa0,renderEarnedBadges(_0x4cdf11,_0xe7db97(0x559)),studentResultArea['classList'][_0xe7db97(0x139)](_0xe7db97(0x8c9)),studentQuizArea[_0xe7db97(0x6a0)][_0xe7db97(0x273)](_0xe7db97(0x8c9)),setupResultScreenBackButton({'score':_0x3bb2b7,'totalQuestions':_0x5512e7,'showRankings':!![]});}function displaySubmissionConfirmation(){const _0x211a60=_0x375675;let _0x146c91='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>'+currentStudentName+_0x211a60(0x8c4);studentResultArea[_0x211a60(0x938)]=_0x146c91,studentResultArea[_0x211a60(0x6a0)][_0x211a60(0x139)](_0x211a60(0x8c9)),studentQuizArea[_0x211a60(0x6a0)][_0x211a60(0x273)](_0x211a60(0x8c9)),document[_0x211a60(0x893)](_0x211a60(0x1ea))['addEventListener'](_0x211a60(0x246),()=>{const _0x3e5060=_0x211a60;showView(_0x3e5060(0x41b)),document[_0x3e5060(0x893)](_0x3e5060(0x2ac))[_0x3e5060(0x106)]='';});}function renderEarnedBadges(_0x436105,_0x358b8b){const _0x22f526=_0x375675,_0x3711f6=document[_0x22f526(0x893)](_0x358b8b);if(!_0x3711f6||!_0x436105||_0x436105[_0x22f526(0x8f7)]===0x0)return;let _0x590435='';_0x436105['forEach']((_0x5228ad,_0x3a2dba)=>{const _0x58a9ff=_0x22f526,_0xf455d9=Object[_0x58a9ff(0x5f7)](BADGES)[_0x58a9ff(0x860)](_0x3e98b4=>_0x3e98b4['id']===_0x5228ad);_0xf455d9&&(_0x590435+=_0x58a9ff(0x4d1)+_0x3a2dba*0.2+_0x58a9ff(0x1a9)+_0xf455d9[_0x58a9ff(0x4f8)]+_0x58a9ff(0xf8)+_0xf455d9[_0x58a9ff(0x232)]+_0x58a9ff(0x41c)+_0xf455d9[_0x58a9ff(0x67c)]+_0x58a9ff(0x622));}),_0x3711f6['innerHTML']=_0x590435;}function startPresentation(_0x28c066){const _0x25fff3=_0x375675;currentQuizData=getShuffledQuiz(_0x28c066),currentPresentationSlide=0x0,presentationModal[_0x25fff3(0x4e7)][_0x25fff3(0x858)]=_0x25fff3(0x105),renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x174468=_0x375675;document[_0x174468(0x14a)]&&document[_0x174468(0x7f8)](),presentationModal[_0x174468(0x4e7)][_0x174468(0x858)]=_0x174468(0x951);}function renderPresentationSlide(_0x1620a2){const _0x4a3274=_0x375675,_0x26571b=document[_0x4a3274(0x893)](_0x4a3274(0x747));if(!currentQuizData||!currentQuizData[_0x4a3274(0x389)]||!currentQuizData[_0x4a3274(0x389)][_0x1620a2]){_0x26571b[_0x4a3274(0x938)]=_0x4a3274(0x3d1);return;}const _0x5bd58a=currentQuizData[_0x4a3274(0x389)][_0x1620a2],_0x3ff229=_0x5bd58a['questionType']||currentQuizData[_0x4a3274(0x241)];_0x26571b[_0x4a3274(0x938)]='';let _0x4b548f=_0x4a3274(0xbe)+(_0x5bd58a[_0x4a3274(0x31d)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x5bd58a[_0x4a3274(0x31d)]+_0x4a3274(0x2d3):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>'+(_0x1620a2+0x1)+'.\x20'+(_0x5bd58a[_0x4a3274(0x877)]||_0x5bd58a[_0x4a3274(0x8b8)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';switch(_0x3ff229){case'matching_item':_0x4b548f+=_0x5bd58a[_0x4a3274(0x9c0)][_0x4a3274(0x2cb)](_0x1349be=>_0x4a3274(0x740)+_0x1349be+_0x4a3274(0x7cc))[_0x4a3274(0x56f)]('');break;case _0x4a3274(0x46e):_0x4b548f+=_0x4a3274(0x564),_0x4b548f+=_0x4a3274(0x4a8);break;case _0x4a3274(0x611):case _0x4a3274(0x689):_0x4b548f+=_0x4a3274(0x278);break;case _0x4a3274(0x6e5):case _0x4a3274(0x5b4):default:_0x4b548f+=_0x5bd58a[_0x4a3274(0x34d)][_0x4a3274(0x2cb)]((_0x13f5a0,_0x324a4c)=>_0x4a3274(0x1af)+_0x324a4c+_0x4a3274(0x7fe)+_0x13f5a0+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x4a3274(0x56f)]('');break;}_0x4b548f+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20'+(_0x5bd58a[_0x4a3274(0x6a5)]||_0x4a3274(0x5d0))+_0x4a3274(0x3ed),_0x26571b['innerHTML']=_0x4b548f;if(window[_0x4a3274(0x775)])window[_0x4a3274(0x775)][_0x4a3274(0x2b2)]([_0x26571b]);let _0x5bf258=[];switch(_0x3ff229){case _0x4a3274(0x99f):_0x5bf258=_0x5bd58a['allResponses']||[];break;case _0x4a3274(0x46e):_0x5bf258=[_0x4a3274(0x5ae),'ไม่ใช่'];break;default:_0x5bf258=_0x5bd58a[_0x4a3274(0x34d)]||[];break;}const _0x5957a7=document[_0x4a3274(0x893)]('presentation-scratchpad-btn');_0x5957a7&&(_0x5957a7[_0x4a3274(0x28e)]=()=>{openScratchpad(_0x5bd58a,_0x5bf258);});document[_0x4a3274(0x814)](_0x4a3274(0x998))['forEach'](_0x408f81=>{const _0x57c5e0=_0x4a3274;_0x408f81[_0x57c5e0(0x15b)](_0x57c5e0(0x246),_0x3e3408=>revealAnswerForPresentation(_0x1620a2,_0x3e3408[_0x57c5e0(0x1e9)]));});const _0x1c5cdf=document[_0x4a3274(0x893)](_0x4a3274(0x429));_0x1c5cdf&&_0x1c5cdf[_0x4a3274(0x15b)]('click',()=>checkShortAnswerForPresentation(_0x1620a2)),document['getElementById'](_0x4a3274(0x6a3))[_0x4a3274(0x490)]=_0x4a3274(0x3cd)+(_0x1620a2+0x1)+_0x4a3274(0x8e8)+currentQuizData['questions'][_0x4a3274(0x8f7)],document['getElementById'](_0x4a3274(0x52c))[_0x4a3274(0x5fa)]=_0x1620a2===0x0,document[_0x4a3274(0x893)](_0x4a3274(0x398))[_0x4a3274(0x5fa)]=_0x1620a2===currentQuizData['questions'][_0x4a3274(0x8f7)]-0x1;}async function checkShortAnswerForPresentation(_0x5333a0){const _0x3e38ff=_0x375675,_0x54d1a0=currentQuizData['questions'][_0x5333a0],_0x4e5699=document[_0x3e38ff(0x893)](_0x3e38ff(0x2e6)),_0x31e7b3=document['getElementById'](_0x3e38ff(0x429)),_0x184c60=document[_0x3e38ff(0x893)]('presentation-ai-result'),_0x107a3f=document[_0x3e38ff(0x893)](_0x3e38ff(0x20c));if(!_0x4e5699||!_0x31e7b3||!_0x184c60||!_0x107a3f)return;const _0x129c98=_0x4e5699['value']['trim']();if(_0x129c98==='')return;_0x31e7b3[_0x3e38ff(0x5fa)]=!![],_0x31e7b3[_0x3e38ff(0x938)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0x4e5699['disabled']=!![];const _0x5673fa=await gradeShortAnswer(_0x129c98,_0x54d1a0);_0x5673fa?_0x184c60[_0x3e38ff(0x938)]='<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>':_0x184c60[_0x3e38ff(0x938)]=_0x3e38ff(0x27c)+_0x54d1a0[_0x3e38ff(0xf4)]+')',_0x184c60[_0x3e38ff(0x6a0)][_0x3e38ff(0x139)](_0x3e38ff(0x8c9)),_0x107a3f[_0x3e38ff(0x6a0)][_0x3e38ff(0x139)](_0x3e38ff(0x8c9)),_0x31e7b3[_0x3e38ff(0x6a0)]['add'](_0x3e38ff(0x8c9));}function revealAnswerForPresentation(_0x1c71a6,_0x427e86){const _0x5c3641=_0x375675,_0x18a78f=currentQuizData[_0x5c3641(0x389)][_0x1c71a6],_0x40a9bd=_0x18a78f[_0x5c3641(0x1d7)]||currentQuizData[_0x5c3641(0x241)];document[_0x5c3641(0x814)]('.presentation-option')['forEach'](_0x2924f4=>{const _0x13474c=_0x5c3641;_0x2924f4['disabled']=!![],_0x2924f4[_0x13474c(0x6a0)][_0x13474c(0x139)]('hover:bg-indigo-100');let _0x16e50a=![];if(_0x40a9bd===_0x13474c(0x5b4)||_0x40a9bd===_0x13474c(0x6e5)){const _0x20e6b4=parseInt(_0x2924f4[_0x13474c(0x40f)]['index']);_0x16e50a=_0x20e6b4===_0x18a78f[_0x13474c(0x376)];}else{if(_0x40a9bd===_0x13474c(0x46e)){const _0x5c89f7=_0x2924f4[_0x13474c(0x40f)][_0x13474c(0x363)]===_0x13474c(0x7e6);_0x16e50a=_0x5c89f7===_0x18a78f[_0x13474c(0x1b1)];}else _0x40a9bd==='matching_item'&&(_0x16e50a=_0x2924f4['textContent'][_0x13474c(0x517)]()===_0x18a78f['correctResponse']);}_0x16e50a?_0x2924f4[_0x13474c(0x6a0)][_0x13474c(0x273)]('bg-green-500','text-white',_0x13474c(0x891)):_0x2924f4[_0x13474c(0x6a0)][_0x13474c(0x273)]('opacity-50');}),_0x427e86[_0x5c3641(0x6a0)][_0x5c3641(0x139)](_0x5c3641(0x36c));let _0x5ab10d=![];if(_0x40a9bd===_0x5c3641(0x5b4))_0x5ab10d=parseInt(_0x427e86[_0x5c3641(0x40f)][_0x5c3641(0x5c8)])===_0x18a78f['correctAnswerIndex'];else{if(_0x40a9bd===_0x5c3641(0x46e))_0x5ab10d=_0x427e86[_0x5c3641(0x40f)][_0x5c3641(0x363)]===_0x5c3641(0x7e6)===_0x18a78f[_0x5c3641(0x1b1)];else _0x40a9bd===_0x5c3641(0x99f)&&(_0x5ab10d=_0x427e86['textContent'][_0x5c3641(0x517)]()===_0x18a78f[_0x5c3641(0x714)]);}!_0x5ab10d&&_0x427e86[_0x5c3641(0x6a0)][_0x5c3641(0x273)](_0x5c3641(0x7fa),'text-white',_0x5c3641(0x274)),document[_0x5c3641(0x893)](_0x5c3641(0x20c))[_0x5c3641(0x6a0)]['remove'](_0x5c3641(0x8c9));}function startWholeQuizTimer(_0x35d89f){const _0x3a8840=_0x375675,_0x1d256e=document[_0x3a8840(0x893)]('timer-container');if(!_0x1d256e)return;const _0x37736f=Date[_0x3a8840(0x5fc)]()+_0x35d89f*0x3c*0x3e8;_0x1d256e['innerHTML']=_0x3a8840(0x8af);const _0x50db53=document[_0x3a8840(0x893)](_0x3a8840(0x7d6));quizTimerInterval=setInterval(()=>{const _0x23cd4c=_0x3a8840,_0x341dd1=_0x37736f-Date[_0x23cd4c(0x5fc)]();if(_0x341dd1<=0x0)clearInterval(quizTimerInterval),_0x50db53[_0x23cd4c(0x490)]=_0x23cd4c(0x640),showMessage(_0x23cd4c(0x227)),handleSubmitQuiz(null);else{const _0x1f2f03=Math[_0x23cd4c(0x4e5)](_0x341dd1/0x3e8/0x3c%0x3c)[_0x23cd4c(0x57a)]()[_0x23cd4c(0x6d4)](0x2,'0'),_0x4e9951=Math[_0x23cd4c(0x4e5)](_0x341dd1/0x3e8%0x3c)[_0x23cd4c(0x57a)]()[_0x23cd4c(0x6d4)](0x2,'0');_0x50db53[_0x23cd4c(0x490)]=_0x1f2f03+':'+_0x4e9951;}},0x3e8);}function renderPerQuestionView(){const _0x375836=_0x375675;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x1fb471=currentDisplayedQuiz[_0x375836(0x389)][currentQuestionIndex],_0xb7e67d=_0x1fb471[_0x375836(0x1d7)]||currentDisplayedQuiz[_0x375836(0x241)],_0x279ea3=currentDisplayedQuiz['settings']?.[_0x375836(0xe9)]===!![];let _0x2f824b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0x375836(0x5b3)+currentDisplayedQuiz[_0x375836(0x389)][_0x375836(0x8f7)]+_0x375836(0x34f)+(currentMode===_0x375836(0x6dc)?_0x375836(0x763):'')+_0x375836(0x83b)+currentDisplayedQuiz[_0x375836(0x903)]+_0x375836(0x7f5);studentQuizArea[_0x375836(0x938)]=_0x2f824b;let _0x60f413=_0x1fb471['stem']||_0x1fb471[_0x375836(0x8b8)];_0x1fb471[_0x375836(0x31d)]&&(_0x60f413+=_0x375836(0x660)+_0x1fb471['imageCode']+'</div>');let _0x2146e1='';switch(_0xb7e67d){case _0x375836(0x689):case _0x375836(0x611):_0x2146e1=_0x375836(0x829);break;case'true_false':_0x2146e1=_0x375836(0x976);break;case _0x375836(0x99f):_0x2146e1=_0x375836(0x8a4)+(_0x1fb471['allResponses']||[])[_0x375836(0x2cb)](_0x4c252e=>_0x375836(0x98e)+_0x4c252e+'\x22>'+_0x4c252e+_0x375836(0x35e))[_0x375836(0x56f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>';break;default:_0x1fb471[_0x375836(0x34d)]&&(_0x2146e1=_0x1fb471[_0x375836(0x34d)]['map']((_0x7b5404,_0x21d30a)=>_0x375836(0x6f6)+_0x21d30a+_0x375836(0x663)+_0x21d30a+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_single_opt'+_0x21d30a+'\x22>'+_0x7b5404+_0x375836(0x8c8))[_0x375836(0x56f)](''));break;}document['getElementById']('per-question-text')[_0x375836(0x938)]=_0x60f413,document['getElementById'](_0x375836(0x8da))[_0x375836(0x938)]=_0x2146e1;const _0x409615=currentDisplayedQuiz[_0x375836(0x6a7)]?.['isConfidenceScoringEnabled']===!![],_0x58e6a0=currentDisplayedQuiz[_0x375836(0x6a7)]?.[_0x375836(0x9f3)]||_0x375836(0x1da);if(_0x409615&&_0x58e6a0===_0x375836(0x1da)){const _0x111814='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20pt-3\x20border-t\x20border-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22confidence_single\x22\x20name=\x22confidence_single\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22confidence_single\x22\x20class=\x22ml-2\x20text-sm\x20font-medium\x20text-gray-700\x20cursor-pointer\x22>ฉันมั่นใจในคำตอบข้อนี้</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentQuizArea[_0x375836(0x173)](_0x375836(0x1c9))['insertAdjacentHTML']('beforeend',_0x111814);}studentQuizArea[_0x375836(0x83a)]('beforeend',_0x375836(0x87a)+(currentQuestionIndex===currentDisplayedQuiz['questions'][_0x375836(0x8f7)]-0x1?_0x375836(0x9cd):'คำถามถัดไป')+_0x375836(0x2e3));currentMode===_0x375836(0x6dc)&&document[_0x375836(0x893)](_0x375836(0x92d))?.[_0x375836(0x15b)](_0x375836(0x246),cancelAdminTest);document[_0x375836(0x893)]('next-question-timed-btn')[_0x375836(0x15b)](_0x375836(0x246),()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window[_0x375836(0x775)][_0x375836(0x2b2)]([studentQuizArea]);currentDisplayedQuiz['settings']?.[_0x375836(0x3e1)]==='per_question'&&startPerQuestionTimer();}function startPerQuestionTimer(){const _0x590855=_0x375675,_0x3fbf88=currentDisplayedQuiz['settings'][_0x590855(0x5d8)],_0x212074=document['getElementById'](_0x590855(0xd3));if(!_0x212074)return;let _0x20aaa3=_0x3fbf88;_0x212074[_0x590855(0x938)]=_0x590855(0x845)+_0x20aaa3+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x30b695=document[_0x590855(0x893)](_0x590855(0x9bf)),_0xf869dc=document[_0x590855(0x893)](_0x590855(0x655));perQuestionTimerInterval=setInterval(()=>{const _0x49375e=_0x590855;_0x20aaa3--;const _0x21b694=_0x20aaa3/_0x3fbf88*0x64;_0x30b695['style'][_0x49375e(0x578)]=_0x21b694+'%',_0xf869dc[_0x49375e(0x490)]=_0x20aaa3,_0x20aaa3<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage(_0x49375e(0x628)),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x87852a=![]){const _0x3af3eb=_0x375675;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x59edba=null,_0x40321c=![];if(!_0x87852a){const _0x26ecb2=currentDisplayedQuiz[_0x3af3eb(0x389)][currentQuestionIndex],_0x2dc9ad=_0x26ecb2[_0x3af3eb(0x1d7)]||currentDisplayedQuiz[_0x3af3eb(0x241)];if(_0x2dc9ad===_0x3af3eb(0x689)||_0x2dc9ad===_0x3af3eb(0x611))_0x59edba=document['querySelector'](_0x3af3eb(0x15a))?.[_0x3af3eb(0x106)][_0x3af3eb(0x517)]()??'';else{if(_0x2dc9ad==='matching_item')_0x59edba=document[_0x3af3eb(0x173)]('select[name=\x22question_single\x22]')?.[_0x3af3eb(0x106)]??'';else{const _0x10bf20=document[_0x3af3eb(0x173)](_0x3af3eb(0x187));_0x10bf20&&(_0x59edba=_0x10bf20[_0x3af3eb(0x106)]);}}if(_0x59edba===null||_0x59edba===''){showMessage(_0x3af3eb(0x38e)),startPerQuestionTimer();return;}const _0x3c986d=currentDisplayedQuiz[_0x3af3eb(0x6a7)]?.[_0x3af3eb(0xe9)]===!![],_0x5479d0=currentDisplayedQuiz[_0x3af3eb(0x6a7)]?.[_0x3af3eb(0x9f3)]||_0x3af3eb(0x1da);if(_0x3c986d&&_0x5479d0===_0x3af3eb(0x5ca)){document[_0x3af3eb(0x893)]('confidence-modal')['dataset']['currentMode']='timed',document[_0x3af3eb(0x893)](_0x3af3eb(0x961))[_0x3af3eb(0x106)]=_0x59edba,document[_0x3af3eb(0x893)](_0x3af3eb(0x17e))[_0x3af3eb(0x6a0)][_0x3af3eb(0x139)](_0x3af3eb(0x8c9));return;}const _0x461d8b=document[_0x3af3eb(0x893)](_0x3af3eb(0x802));_0x461d8b&&(_0x40321c=_0x461d8b['checked']);}const _0x340bc4={'answer':_0x59edba,'wasConfident':_0x40321c};proceedToNextQuestion(_0x340bc4);}async function finalizePerQuestionQuiz(){const _0x3a660a=_0x375675,_0x45b805=currentDisplayedQuiz[_0x3a660a(0x389)][_0x3a660a(0x834)](_0x548987=>_0x548987[_0x3a660a(0x1d7)]===_0x3a660a(0x689));_0x45b805?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x1f70b6=currentQuizData['id'],_0x4d5adc=doc(db,_0x3a660a(0x54c)+appId+_0x3a660a(0x4ae)+_0x1f70b6+_0x3a660a(0x78e),currentStudentName),_0x1cdc6e=await getDoc(_0x4d5adc),_0x4f75a3=_0x1cdc6e[_0x3a660a(0x135)]()?_0x1cdc6e[_0x3a660a(0x918)]():{},_0x2e685b=_0x4f75a3[_0x3a660a(0x741)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x2e685b);}function getResultsFilename(){const _0x387a6b=_0x375675,_0x40b27f=document[_0x387a6b(0x893)](_0x387a6b(0xbd))[_0x387a6b(0x490)]['replace'](/[^a-z0-9]/gi,'_')[_0x387a6b(0x3dc)]();return _0x387a6b(0x952)+(_0x40b27f||'quiz');}function exportResultsAsImage(){const _0x1986ef=_0x375675,_0x39a5cf=document[_0x1986ef(0x893)]('results-table-container');showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x39a5cf)['then'](_0x2b4e40=>{const _0x439857=_0x1986ef,_0x2803ed=document[_0x439857(0x980)]('a');_0x2803ed['download']=getResultsFilename()+_0x439857(0x8d4),_0x2803ed[_0x439857(0x2ff)]=_0x2b4e40['toDataURL']('image/png'),_0x2803ed[_0x439857(0x246)](),messageModal[_0x439857(0x6a0)][_0x439857(0x273)]('hidden');});}function exportResultsAsPDF(){const _0x546bab=_0x375675,{jsPDF:_0x358394}=window['jspdf'],_0x1d460e=new _0x358394();_0x1d460e[_0x546bab(0x4c0)](_0x546bab(0x63e),'normal'),_0x1d460e['autoTable']({'html':_0x546bab(0x249)}),_0x1d460e[_0x546bab(0x1b5)](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0xbd4e9d=_0x375675,_0x17d570='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0xbd4e9d(0x9dd)+'xmlns=\x27http://www.w3.org/TR/REC-html40\x27>'+_0xbd4e9d(0x60d),_0x4165a8=_0xbd4e9d(0x8b1),_0x1be535=_0x17d570+document[_0xbd4e9d(0x893)](_0xbd4e9d(0xdb))['innerHTML']+_0x4165a8,_0x40df96=_0xbd4e9d(0x44c)+encodeURIComponent(_0x1be535),_0x31028d=document['createElement']('a');document[_0xbd4e9d(0x66d)][_0xbd4e9d(0x644)](_0x31028d),_0x31028d[_0xbd4e9d(0x2ff)]=_0x40df96,_0x31028d['download']=getResultsFilename()+_0xbd4e9d(0x4a3),_0x31028d[_0xbd4e9d(0x246)](),document[_0xbd4e9d(0x66d)][_0xbd4e9d(0xf7)](_0x31028d);}function exportResultsAsExcel(){const _0x28be4c=_0x375675,_0x33e267=document['getElementById'](_0x28be4c(0x683));let _0x44d064=[];for(let _0x56331d=0x0;_0x56331d<_0x33e267[_0x28be4c(0x148)][_0x28be4c(0x8f7)];_0x56331d++){let _0x4d6fc9=[],_0x24907e=_0x33e267[_0x28be4c(0x148)][_0x56331d][_0x28be4c(0x814)](_0x28be4c(0x618));for(let _0x4b2195=0x0;_0x4b2195<_0x24907e[_0x28be4c(0x8f7)];_0x4b2195++){_0x4d6fc9[_0x28be4c(0x6d0)]('\x22'+_0x24907e[_0x4b2195][_0x28be4c(0x1ae)][_0x28be4c(0x2fa)](/"/g,'\x22\x22')+'\x22');}_0x44d064[_0x28be4c(0x6d0)](_0x4d6fc9[_0x28be4c(0x56f)](','));}const _0x31e2ff=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x44d064['join']('\x0a')],{'type':_0x28be4c(0x237)}),_0x2c36d3=document['createElement']('a');_0x2c36d3['href']=URL['createObjectURL'](_0x31e2ff),_0x2c36d3[_0x28be4c(0x234)]=getResultsFilename()+_0x28be4c(0x599),_0x2c36d3[_0x28be4c(0x246)]();}function exportTableAsImage(_0x3c3d11,_0x4d44e6){const _0x55df64=_0x375675,_0x24b80a=document[_0x55df64(0x893)](_0x3c3d11);if(!_0x24b80a){showMessage(_0x55df64(0x365));return;}showMessage(_0x55df64(0x6b8)),html2canvas(_0x24b80a)[_0x55df64(0x593)](_0xf8c01a=>{const _0x5684e1=_0x55df64,_0x3a37da=document[_0x5684e1(0x980)]('a');_0x3a37da[_0x5684e1(0x234)]=_0x4d44e6+'.png',_0x3a37da['href']=_0xf8c01a['toDataURL'](_0x5684e1(0x4fc)),_0x3a37da[_0x5684e1(0x246)](),messageModal[_0x5684e1(0x6a0)][_0x5684e1(0x273)](_0x5684e1(0x8c9));});}function exportTableAsPDF(_0x19be55,_0x10f9a9){const _0x3d1e26=_0x375675,{jsPDF:_0x4d2f17}=window[_0x3d1e26(0xa17)],_0x51a37b=new _0x4d2f17();_0x51a37b[_0x3d1e26(0x4c0)]('helvetica',_0x3d1e26(0x202)),_0x51a37b[_0x3d1e26(0x18b)]({'html':'#'+_0x19be55}),_0x51a37b[_0x3d1e26(0x1b5)](_0x10f9a9+'.pdf');}function exportTableAsWord(_0x598934,_0x5967b4){const _0x2c2334=_0x375675,_0x1cede4=document[_0x2c2334(0x893)](_0x598934);if(!_0x1cede4){showMessage(_0x2c2334(0x365));return;}const _0x1ca062=_0x2c2334(0x4f6)+_0x2c2334(0x9dd)+_0x2c2334(0x3c3)+'<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>',_0x1d6ad9='</body></html>',_0x42779d=_0x1ca062+_0x1cede4[_0x2c2334(0x938)]+_0x1d6ad9,_0x29c6de=_0x2c2334(0x44c)+encodeURIComponent(_0x42779d),_0x515535=document[_0x2c2334(0x980)]('a');document['body']['appendChild'](_0x515535),_0x515535[_0x2c2334(0x2ff)]=_0x29c6de,_0x515535[_0x2c2334(0x234)]=_0x5967b4+_0x2c2334(0x4a3),_0x515535[_0x2c2334(0x246)](),document[_0x2c2334(0x66d)][_0x2c2334(0xf7)](_0x515535);}function exportTableAsExcel(_0x1d2da9,_0x5bb432){const _0x4396cc=_0x375675,_0x53efe3=document[_0x4396cc(0x893)](_0x1d2da9);if(!_0x53efe3){showMessage(_0x4396cc(0x365));return;}let _0x5c058e=[];for(let _0x542702=0x0;_0x542702<_0x53efe3['rows']['length'];_0x542702++){let _0x3c747f=[],_0x33b229=_0x53efe3[_0x4396cc(0x148)][_0x542702]['querySelectorAll']('td,\x20th');for(let _0x202851=0x0;_0x202851<_0x33b229[_0x4396cc(0x8f7)];_0x202851++){_0x3c747f[_0x4396cc(0x6d0)]('\x22'+_0x33b229[_0x202851]['innerText'][_0x4396cc(0x2fa)](/"/g,'\x22\x22')+'\x22');}_0x5c058e[_0x4396cc(0x6d0)](_0x3c747f[_0x4396cc(0x56f)](','));}const _0x352f35=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x5c058e[_0x4396cc(0x56f)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x3cdd97=document[_0x4396cc(0x980)]('a');_0x3cdd97[_0x4396cc(0x2ff)]=URL[_0x4396cc(0x52a)](_0x352f35),_0x3cdd97['download']=_0x5bb432+_0x4396cc(0x599),_0x3cdd97[_0x4396cc(0x246)]();}function renderAnalytics(_0x726f98,_0xd7064b){const _0x4e12b2=_0x375675,_0x113bda=_0xd7064b[_0x4e12b2(0x625)](_0x5419e6=>_0x5419e6[_0x4e12b2(0x5ee)]!==undefined),_0x1dc6d3=currentProjectData[_0x4e12b2(0x67f)][_0x4e12b2(0x8f7)],_0x444677=_0x113bda[_0x4e12b2(0x8f7)],_0x2056c9=_0x1dc6d3-_0x444677,_0x59c6f1=_0x1dc6d3>0x0?_0x444677/_0x1dc6d3*0x64:0x0,_0x1fc4ec=_0x113bda[_0x4e12b2(0x2cb)](_0x200969=>_0x200969[_0x4e12b2(0x5ee)]),_0x2dbedf=_0x1fc4ec[_0x4e12b2(0x8f7)]>0x0?_0x1fc4ec['reduce']((_0x40758e,_0x4650ec)=>_0x40758e+_0x4650ec,0x0)/_0x1fc4ec[_0x4e12b2(0x8f7)]:0x0,_0x4567f9=_0x726f98[_0x4e12b2(0x389)]['length'],_0x23ecd8=_0x4567f9>0x0?_0x2dbedf/_0x4567f9*0x64:0x0,_0x2dd642=calculateItemAnalysis(_0x726f98,_0x113bda),_0x4811b1=calculateReliabilityKR20(_0x726f98,_0x113bda,_0x2dd642[_0x4e12b2(0x49c)]);let _0x1b695b='';if(_0x4811b1!==null){let _0x4a2c1a='';if(_0x4811b1>=0.9)_0x4a2c1a='ยอดเยี่ยม';else{if(_0x4811b1>=0.8)_0x4a2c1a=_0x4e12b2(0x138);else{if(_0x4811b1>=0.7)_0x4a2c1a='ดี';else{if(_0x4811b1>=0.6)_0x4a2c1a=_0x4e12b2(0x4ba);else _0x4a2c1a=_0x4e12b2(0x335);}}}_0x1b695b=_0x4e12b2(0x67e)+_0x4811b1[_0x4e12b2(0x702)](0x2)+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>'+_0x4a2c1a+_0x4e12b2(0x5df);}const _0x4092be=document[_0x4e12b2(0x893)](_0x4e12b2(0x734));_0x4092be[_0x4e12b2(0x938)]=_0x4e12b2(0x744)+_0x59c6f1['toFixed'](0x0)+_0x4e12b2(0xd1)+_0x444677+'/'+_0x1dc6d3+_0x4e12b2(0x439)+_0x2dbedf['toFixed'](0x2)+_0x4e12b2(0x1d3)+_0x23ecd8[_0x4e12b2(0x702)](0x0)+_0x4e12b2(0x818)+(_0x1fc4ec[_0x4e12b2(0x8f7)]>0x0?Math[_0x4e12b2(0xf3)](..._0x1fc4ec):'N/A')+_0x4e12b2(0x447)+(_0x1fc4ec['length']>0x0?Math['min'](..._0x1fc4ec):_0x4e12b2(0x107))+_0x4e12b2(0x16b)+_0x1b695b+_0x4e12b2(0xee);const _0x4bb37f=document[_0x4e12b2(0x893)]('interesting-stats-wrapper');_0x4bb37f&&_0x4bb37f[_0x4e12b2(0x139)]();const _0x2c3249=_0x4e12b2(0x26d);_0x4092be[_0x4e12b2(0x83a)](_0x4e12b2(0x3de),_0x2c3249);const _0x10c594=currentProjectData['students']||[];renderSubmissionChart(_0x444677,_0x2056c9,_0x113bda,_0x10c594),renderScoreDistributionChart(_0x113bda,_0x4567f9),renderQuestionAnalytics(_0x726f98,_0x113bda,_0x10c594),renderInterestingStats(_0x726f98,_0x113bda);}async function handleExportLessonPDF(){const _0x278e74=_0x375675,_0x2e5abc=document[_0x278e74(0x893)](_0x278e74(0x2a2)),_0x2047d9=document['getElementById'](_0x278e74(0x969))[_0x278e74(0x490)],_0x39d55c=window[_0x278e74(0x1c0)]('',_0x278e74(0x8b0)),_0x5b2899=_0x278e74(0x394)+_0x2047d9+_0x278e74(0x14f)+_0x2e5abc[_0x278e74(0x938)]+_0x278e74(0x8a6);_0x39d55c[_0x278e74(0x47b)]['write'](_0x5b2899),_0x39d55c[_0x278e74(0x47b)][_0x278e74(0x2f1)](),_0x39d55c[_0x278e74(0x2ca)]=function(){setTimeout(()=>{const _0x837acf=_0xdbfa;_0x39d55c[_0x837acf(0x9ce)]();},0x5dc);};}function renderInterestingStats(_0x5e79ac,_0x584930){const _0x56bc66=_0x375675,_0x1acd74=document[_0x56bc66(0x893)](_0x56bc66(0x190));if(!_0x1acd74)return;if(_0x584930['length']===0x0){_0x1acd74[_0x56bc66(0x938)]=_0x56bc66(0x77f);return;}const _0x252275=_0x5e79ac[_0x56bc66(0x389)][_0x56bc66(0x2cb)]((_0xf2539,_0x3318be)=>({'index':_0x3318be+0x1,'text':_0xf2539[_0x56bc66(0x8b8)]||_0xf2539[_0x56bc66(0x877)],'correct':0x0}));_0x584930[_0x56bc66(0x1d9)](_0x50778b=>{const _0x36f306=_0x56bc66,_0x24f209=_0x50778b[_0x36f306(0x741)][_0x50778b['attempts']['length']-0x1];_0x24f209&&_0x24f209[_0x36f306(0x196)]&&_0x24f209['answers'][_0x36f306(0x1d9)](_0x286931=>{const _0x506afd=_0x36f306,_0x871053=_0x252275[_0x506afd(0x860)](_0x3f38f0=>_0x3f38f0[_0x506afd(0x4f0)]===_0x286931['originalQuestionText']);_0x286931['isCorrect']&&_0x871053&&_0x871053['correct']++;});});const _0x177126=_0x584930[_0x56bc66(0x8f7)],_0x50cdc4=Math['max'](..._0x252275[_0x56bc66(0x2cb)](_0x158016=>_0x158016['correct'])),_0x13a73a=Math[_0x56bc66(0x1b6)](..._0x252275[_0x56bc66(0x2cb)](_0x2caaac=>_0x2caaac[_0x56bc66(0x272)])),_0x3c1329=_0x252275[_0x56bc66(0x625)](_0x16c913=>_0x16c913[_0x56bc66(0x272)]===_0x50cdc4)[_0x56bc66(0x2cb)](_0x5cb1d6=>'ข้อ\x20'+_0x5cb1d6['index']),_0x49cd8f=_0x252275[_0x56bc66(0x625)](_0x41e1a7=>_0x41e1a7['correct']===_0x13a73a)[_0x56bc66(0x2cb)](_0x4780b0=>_0x56bc66(0x3ac)+_0x4780b0['index']),_0x126afe=_0x584930['sort']((_0x455310,_0x24e81b)=>_0x24e81b[_0x56bc66(0x5ee)]-_0x455310[_0x56bc66(0x5ee)])['filter']((_0x154d04,_0x437941,_0x159b9b)=>_0x154d04[_0x56bc66(0x5ee)]===_0x159b9b[0x0]['latestScore']),_0xd14617=_0x584930[_0x56bc66(0x4d7)]((_0x58cb24,_0x243e00)=>_0x58cb24[_0x56bc66(0x5ee)]-_0x243e00[_0x56bc66(0x5ee)])[_0x56bc66(0x625)]((_0x453093,_0x11f273,_0x146121)=>_0x453093[_0x56bc66(0x5ee)]===_0x146121[0x0]['latestScore']),_0x333945=_0x56bc66(0x6a1)+_0x3c1329[_0x56bc66(0x56f)](',\x20')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>('+_0x50cdc4+_0x56bc66(0x8e8)+_0x177126+_0x56bc66(0x787)+_0x49cd8f[_0x56bc66(0x56f)](',\x20')+_0x56bc66(0x575)+(_0x177126-_0x13a73a)+_0x56bc66(0x8e8)+_0x177126+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>'+_0x126afe[_0x56bc66(0x2cb)](_0x456656=>_0x456656[_0x56bc66(0x8cd)])[_0x56bc66(0x56f)](',\x20')+_0x56bc66(0x7f3)+_0x126afe[0x0]['latestScore']+_0x56bc66(0x5d3)+_0xd14617[_0x56bc66(0x2cb)](_0x14a54f=>_0x14a54f[_0x56bc66(0x8cd)])[_0x56bc66(0x56f)](',\x20')+_0x56bc66(0x7f3)+_0xd14617[0x0][_0x56bc66(0x5ee)]+_0x56bc66(0x757);_0x1acd74['innerHTML']=_0x333945;}function renderSubmissionChart(_0x56b4aa,_0x1b9168,_0x40f145,_0x14a6c6){const _0x33f363=_0x375675,_0x400922=document['getElementById']('submission-status-chart')['getContext']('2d'),_0x1bdd16=_0x40f145[_0x33f363(0x2cb)](_0x34f9ba=>_0x34f9ba[_0x33f363(0x8cd)]),_0x3a5250=_0x14a6c6[_0x33f363(0x625)](_0x2c6302=>!_0x1bdd16[_0x33f363(0x5b5)](_0x2c6302));chartInstances[_0x33f363(0x631)]&&chartInstances[_0x33f363(0x631)]['destroy'](),chartInstances[_0x33f363(0x631)]=new Chart(_0x400922,{'type':'doughnut','data':{'labels':[_0x33f363(0x512),_0x33f363(0x6df)],'datasets':[{'data':[_0x56b4aa,_0x1b9168],'backgroundColor':[_0x33f363(0x2ed),'#F59E0B'],'borderColor':[_0x33f363(0x803),_0x33f363(0x803)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x33f363(0x90e)},'tooltip':{'callbacks':{'label':function(_0x1008c6){const _0xd42085=_0x33f363;let _0x4d418a=_0x1008c6[_0xd42085(0x617)]||'';return _0x4d418a&&(_0x4d418a+=':\x20'),_0x4d418a+=_0x1008c6[_0xd42085(0x206)],_0x4d418a;},'afterLabel':function(_0x1dc595){const _0x4ff0bf=_0x33f363;let _0xca73be;return _0x1dc595[_0x4ff0bf(0xcd)]===0x0?_0xca73be=_0x1bdd16:_0xca73be=_0x3a5250,_0xca73be[_0x4ff0bf(0x8f7)]>0x0?_0xca73be['join']('\x0a'):_0x4ff0bf(0x84d);}}}}}});}function renderScoreDistributionChart(_0x5b7a01,_0x59bfc5){const _0x556688=_0x375675,_0x47e48d=document['getElementById'](_0x556688(0x268))[_0x556688(0x112)]('2d'),_0x1948b7={};for(let _0xb55234=0x0;_0xb55234<=_0x59bfc5;_0xb55234++){_0x1948b7[_0xb55234]=0x0;}_0x5b7a01['forEach'](_0x4454ad=>{const _0x5719f7=_0x556688;_0x1948b7[_0x4454ad['latestScore']]!==undefined&&_0x1948b7[_0x4454ad[_0x5719f7(0x5ee)]]++;}),chartInstances[_0x556688(0x9eb)]&&chartInstances[_0x556688(0x9eb)][_0x556688(0x220)](),chartInstances['score']=new Chart(_0x47e48d,{'type':_0x556688(0xc7),'data':{'labels':Object[_0x556688(0x26c)](_0x1948b7),'datasets':[{'label':'จำนวนนักเรียน','data':Object[_0x556688(0x5f7)](_0x1948b7),'backgroundColor':_0x556688(0x11b),'borderColor':_0x556688(0x725),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x556688(0x899)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x58e3bc){const _0xe6054f=_0x556688,_0x31a823=_0x58e3bc[_0xe6054f(0x617)],_0x51449d=_0x5b7a01[_0xe6054f(0x625)](_0x2f7105=>_0x2f7105[_0xe6054f(0x5ee)]==_0x31a823)[_0xe6054f(0x2cb)](_0x17bd2c=>_0x17bd2c['studentName']);return _0x51449d['length']>0x0?_0x51449d[_0xe6054f(0x56f)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x765a13,_0x2dde02,_0x346073){const _0x23535e=_0x375675,_0x53dcae=document[_0x23535e(0x893)](_0x23535e(0x9ea));if(_0x346073[_0x23535e(0x8f7)]===0x0){_0x53dcae['innerHTML']=_0x23535e(0x75e);return;}const _0x58e1d2=calculateItemAnalysis(_0x765a13,_0x2dde02),_0x34ea27=calculateDistractorAnalysis(_0x765a13,_0x2dde02);let _0x6ae182='';_0x58e1d2['overallGroups']&&(_0x6ae182='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20('+_0x58e1d2['overallGroups'][_0x23535e(0x46b)][_0x23535e(0x8f7)]+_0x23535e(0x732)+_0x58e1d2[_0x23535e(0x32c)][_0x23535e(0x46b)][_0x23535e(0x2cb)](_0x438141=>'<li>'+_0x438141+_0x23535e(0x10b))[_0x23535e(0x56f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20('+_0x58e1d2[_0x23535e(0x32c)][_0x23535e(0xa1a)][_0x23535e(0x8f7)]+_0x23535e(0x732)+_0x58e1d2[_0x23535e(0x32c)][_0x23535e(0xa1a)][_0x23535e(0x2cb)](_0x75d5b5=>_0x23535e(0x9d6)+_0x75d5b5+_0x23535e(0x10b))[_0x23535e(0x56f)]('')+_0x23535e(0x5c0));let _0x5885fc='';const _0x37a46e=_0x2dde02[_0x23535e(0x2cb)](_0x280a2f=>_0x280a2f['studentName']),_0x12681d=_0x2a917b=>{const _0x3a50c5=_0x23535e;if(_0x2a917b>=0.8)return _0x3a50c5(0x5d5);if(_0x2a917b>=0.6)return _0x3a50c5(0x402);if(_0x2a917b>=0.4)return _0x3a50c5(0x6b6);if(_0x2a917b>=0.2)return _0x3a50c5(0x262);return _0x3a50c5(0x915);},_0x4f6180=_0x3be81c=>{const _0x439d62=_0x23535e;if(_0x3be81c<0x0)return'<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>';if(_0x3be81c>=0.4)return _0x439d62(0xa01);if(_0x3be81c>=0.3)return _0x439d62(0x7dd);if(_0x3be81c>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>';return _0x439d62(0xd5);},_0x3e9fc5=_0x53f678=>{const _0x30e654=_0x23535e,_0x346e24=_0x53f678['toFixed'](0x0);if(parseFloat(_0x346e24)===0x64)return _0x30e654(0x33b)+_0x346e24+'%</span>';if(_0x53f678>=0x32)return _0x30e654(0x378)+_0x346e24+_0x30e654(0x347);return _0x30e654(0xa1b)+_0x346e24+_0x30e654(0x347);};_0x765a13[_0x23535e(0x389)]['forEach']((_0x40ae5f,_0x547595)=>{const _0x6068f=_0x23535e,_0x1b9201=_0x58e1d2[_0x6068f(0x49c)][_0x547595],_0x24c11b=_0x34ea27[_0x547595],_0x1adf95=_0x40ae5f[_0x6068f(0x877)]||_0x40ae5f[_0x6068f(0x8b8)]||_0x40ae5f[_0x6068f(0x966)];let _0x3e5878=0x0;const _0x126173=[],_0x5e65e8=[];_0x2dde02[_0x6068f(0x1d9)](_0x5a3d66=>{const _0x1c0546=_0x6068f,_0x2a2026=_0x5a3d66[_0x1c0546(0x741)][_0x5a3d66[_0x1c0546(0x741)][_0x1c0546(0x8f7)]-0x1];if(_0x2a2026&&_0x2a2026[_0x1c0546(0x196)]){const _0x36b219=_0x2a2026[_0x1c0546(0x196)][_0x1c0546(0x860)](_0x2d4515=>_0x2d4515['originalQuestionText']===_0x1adf95)??_0x2a2026[_0x1c0546(0x196)][_0x547595]??null;_0x36b219&&(_0x36b219['isCorrect']?(_0x3e5878++,_0x126173[_0x1c0546(0x6d0)](_0x5a3d66[_0x1c0546(0x8cd)])):_0x5e65e8['push'](_0x5a3d66[_0x1c0546(0x8cd)]));}});const _0xeb91e7=_0x2dde02[_0x6068f(0x8f7)]>0x0?_0x3e5878/_0x2dde02[_0x6068f(0x8f7)]*0x64:0x0,_0x373dbb=_0x346073[_0x6068f(0x625)](_0x2b303a=>!_0x37a46e['includes'](_0x2b303a)),_0x17e7a3=_0x1b9201?_0x6068f(0x2df)+_0x1b9201['p'][_0x6068f(0x702)](0x2)+_0x6068f(0x254)+_0x12681d(_0x1b9201['p'])+'</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>'+_0x1b9201['r'][_0x6068f(0x702)](0x2)+_0x6068f(0x254)+_0x4f6180(_0x1b9201['r'])+_0x6068f(0x7aa)+_0x3e9fc5(_0xeb91e7)+_0x6068f(0x6ba):'';let _0x94d85d='';_0x24c11b&&(_0x94d85d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object[_0x6068f(0x26c)](_0x24c11b)[_0x6068f(0x2cb)](_0x5e8b17=>{const _0x48af86=_0x6068f,_0x33192a=_0x24c11b[_0x5e8b17],_0xc47dcc=parseInt(_0x5e8b17)===_0x40ae5f[_0x48af86(0x376)],_0x5773c3=!_0xc47dcc&&_0x33192a[_0x48af86(0x63f)]>_0x33192a[_0x48af86(0x841)];return'<tr\x20class=\x22'+(_0xc47dcc?_0x48af86(0x15d):'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0xc47dcc?'✔\x20':'')+_0x33192a[_0x48af86(0x4f0)]+_0x48af86(0x72b)+_0x33192a['upper_group_count']+_0x48af86(0x72b)+_0x33192a[_0x48af86(0x63f)]+'\x20'+(_0x5773c3?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x33192a['total']+_0x48af86(0x1ca);})['join']('')+_0x6068f(0x900));let _0x3d2d7d='';_0x1b9201&&_0x1b9201[_0x6068f(0x947)]&&(_0x3d2d7d=_0x6068f(0x99e)+_0x1b9201[_0x6068f(0x947)][_0x6068f(0x8f7)]+_0x6068f(0x161)+_0x1b9201[_0x6068f(0x947)][_0x6068f(0x2cb)](_0x597b97=>'<li>'+(_0x597b97['isCorrect']?_0x6068f(0x9ff):_0x6068f(0x917))+'\x20'+_0x597b97[_0x6068f(0x67c)]+_0x6068f(0x10b))[_0x6068f(0x56f)]('')+_0x6068f(0xf1)+_0x1b9201['lowerGroupResponders'][_0x6068f(0x8f7)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x1b9201[_0x6068f(0x8d8)][_0x6068f(0x2cb)](_0x48ae2c=>_0x6068f(0x9d6)+(_0x48ae2c['isCorrect']?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x6068f(0x917))+'\x20'+_0x48ae2c[_0x6068f(0x67c)]+'</li>')[_0x6068f(0x56f)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x5885fc+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x547595+0x1)+':\x20'+_0x1adf95+_0x6068f(0x113)+_0x17e7a3+_0x6068f(0x581)+_0x1adf95+_0x6068f(0x945)+_0x3e5878+_0x6068f(0x5b3)+_0x2dde02['length']+_0x6068f(0x4eb)+_0xeb91e7[_0x6068f(0x702)](0x0)+_0x6068f(0x4d3)+_0x126173[_0x6068f(0x8f7)]+_0x6068f(0x26a)+(_0x126173[_0x6068f(0x8f7)]>0x0?_0x126173['join'](',\x20'):'ไม่มี')+_0x6068f(0x2b0)+_0x5e65e8[_0x6068f(0x8f7)]+_0x6068f(0x26a)+(_0x5e65e8[_0x6068f(0x8f7)]>0x0?_0x5e65e8['join'](',\x20'):_0x6068f(0x84d))+_0x6068f(0x707)+_0x373dbb['length']+_0x6068f(0x26a)+(_0x373dbb[_0x6068f(0x8f7)]>0x0?_0x373dbb['join'](',\x20'):'ไม่มี')+_0x6068f(0x69c)+_0x94d85d+_0x6068f(0x566)+_0x3d2d7d+_0x6068f(0x83d);}),_0x53dcae['innerHTML']=_0x6ae182+_0x5885fc;try{window[_0x23535e(0x775)]&&MathJax[_0x23535e(0x2b2)]&&MathJax[_0x23535e(0x2b2)]([_0x53dcae]);}catch(_0x2c7209){console[_0x23535e(0x8f8)](_0x23535e(0x42b),_0x2c7209);}}function calculateDistractorAnalysis(_0x4e952b,_0x4191c6){const _0x3704f3=_0x375675,_0xcdcc33={};if(_0x4191c6[_0x3704f3(0x8f7)]<0x2)return _0xcdcc33;const _0x40783d=[..._0x4191c6][_0x3704f3(0x4d7)]((_0x2df958,_0x26c67d)=>{const _0x3307bc=_0x3704f3,_0x2f96bc=_0x26c67d['latestScore']-_0x2df958['latestScore'];if(_0x2f96bc!==0x0)return _0x2f96bc;const _0x54d0e7=_0x2df958[_0x3307bc(0x741)]?.[_0x3307bc(0x8f7)]||0x1,_0x253608=_0x26c67d[_0x3307bc(0x741)]?.[_0x3307bc(0x8f7)]||0x1,_0x112d9e=_0x54d0e7-_0x253608;if(_0x112d9e!==0x0)return _0x112d9e;const _0x80510e=new Date(_0x2df958[_0x3307bc(0x13d)]),_0x5cfe27=new Date(_0x26c67d[_0x3307bc(0x13d)]),_0x32c7c1=_0x80510e-_0x5cfe27;if(_0x32c7c1!==0x0)return _0x32c7c1;return _0x2df958[_0x3307bc(0x8cd)][_0x3307bc(0x5f1)](_0x26c67d['studentName'],'th');}),_0x31f4a8=_0x40783d[_0x3704f3(0x8f7)],_0x3e2743=Math[_0x3704f3(0xf3)](0x1,Math[_0x3704f3(0x4e5)](_0x31f4a8*0.33)),_0x1da5d2=_0x40783d[_0x3704f3(0x840)](0x0,_0x3e2743),_0x5b4bfb=_0x40783d['slice'](-_0x3e2743);return _0x4e952b[_0x3704f3(0x389)][_0x3704f3(0x1d9)]((_0x3b5220,_0x36ed04)=>{const _0x575a50=_0x3704f3;if(_0x3b5220['questionType']!=='multiple_choice'||!_0x3b5220[_0x575a50(0x34d)])return;const _0x2e126e=_0x3b5220['questionText'],_0x4de5eb={};_0x3b5220[_0x575a50(0x34d)]['forEach']((_0x1a0f8d,_0xf18be8)=>{_0x4de5eb[_0xf18be8]={'text':_0x1a0f8d,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x40783d[_0x575a50(0x1d9)](_0x4fafb1=>{const _0x1d3afb=_0x575a50,_0x45c1bf=_0x4fafb1[_0x1d3afb(0x741)][_0x4fafb1[_0x1d3afb(0x741)][_0x1d3afb(0x8f7)]-0x1],_0x329f2e=_0x45c1bf[_0x1d3afb(0x196)][_0x1d3afb(0x860)](_0x222886=>_0x222886[_0x1d3afb(0x259)]===_0x2e126e);if(_0x329f2e&&_0x329f2e[_0x1d3afb(0x363)]!==null){const _0x4d48b2=_0x3b5220[_0x1d3afb(0x34d)][_0x1d3afb(0x218)](_0x263e3e=>_0x263e3e===_0x329f2e[_0x1d3afb(0x977)]);_0x4d48b2!==-0x1&&_0x4de5eb[_0x4d48b2]&&(_0x4de5eb[_0x4d48b2][_0x1d3afb(0x935)]++,_0x1da5d2['includes'](_0x4fafb1)&&_0x4de5eb[_0x4d48b2][_0x1d3afb(0x841)]++,_0x5b4bfb[_0x1d3afb(0x5b5)](_0x4fafb1)&&_0x4de5eb[_0x4d48b2][_0x1d3afb(0x63f)]++);}}),_0xcdcc33[_0x36ed04]=_0x4de5eb;}),_0xcdcc33;}function calculateReliabilityKR20(_0x5b7cf3,_0x4c5794,_0x479ee7){const _0x3c8f3b=_0x375675,_0x25b376=_0x5b7cf3[_0x3c8f3b(0x389)][_0x3c8f3b(0x8f7)];if(_0x25b376<0x2||_0x4c5794[_0x3c8f3b(0x8f7)]<0x2)return null;const _0x5e5f26=_0x4c5794[_0x3c8f3b(0x2cb)](_0x55b705=>_0x55b705[_0x3c8f3b(0x5ee)]),_0x4ab401=_0x5e5f26[_0x3c8f3b(0x580)]((_0x15b6f7,_0x30e671)=>_0x15b6f7+_0x30e671,0x0)/_0x5e5f26['length'],_0x23131f=_0x5e5f26[_0x3c8f3b(0x2cb)](_0x550b18=>Math[_0x3c8f3b(0x695)](_0x550b18-_0x4ab401,0x2))[_0x3c8f3b(0x580)]((_0x51cf9f,_0x5e3304)=>_0x51cf9f+_0x5e3304,0x0)/_0x5e5f26[_0x3c8f3b(0x8f7)];if(_0x23131f===0x0)return null;let _0xc04ac1=0x0;for(let _0x3810ba=0x0;_0x3810ba<_0x25b376;_0x3810ba++){const _0x4830b3=_0x479ee7[_0x3810ba]?.['p'];if(_0x4830b3===undefined)continue;const _0x57c17b=0x1-_0x4830b3;_0xc04ac1+=_0x4830b3*_0x57c17b;}if(_0xc04ac1===0x0)return null;const _0x5b1438=_0x25b376/(_0x25b376-0x1)*(0x1-_0xc04ac1/_0x23131f);if(_0x5b1438>0x1)return null;return _0x5b1438;}async function handleAnalyzeClass(){const _0x4ac9d1=_0x375675;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x4ac9d1(0x471));return;}const _0x3c8cd9=collection(db,_0x4ac9d1(0x54c)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x4ac9d1(0x78e)),_0x59a086=await getDocs(_0x3c8cd9),_0x29b1ce=_0x59a086[_0x4ac9d1(0x9fe)]['map'](_0x4f5dae=>_0x4f5dae[_0x4ac9d1(0x918)]());if(_0x29b1ce['length']<0x2){showMessage(_0x4ac9d1(0x6b0));return;}const _0x5b52d3=document['getElementById'](_0x4ac9d1(0x189));_0x5b52d3[_0x4ac9d1(0x938)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document[_0x4ac9d1(0x893)](_0x4ac9d1(0x80e))[_0x4ac9d1(0x5fa)]=!![];const _0xb4cc84=_0x29b1ce['map']((_0x49926f,_0x1d8b6f)=>{const _0x5a7760=_0x4ac9d1,_0x15f3ed=_0x49926f[_0x5a7760(0x741)][_0x49926f[_0x5a7760(0x741)][_0x5a7760(0x8f7)]-0x1];if(!_0x15f3ed)return'';return _0x5a7760(0x1a5)+(_0x1d8b6f+0x1)+'\x20('+_0x49926f[_0x5a7760(0x8cd)]+'):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20'+_0x15f3ed[_0x5a7760(0x9eb)]+'/'+_0x49926f['totalQuestions']+_0x5a7760(0x1f1)+JSON['stringify'](_0x15f3ed[_0x5a7760(0x196)])+_0x5a7760(0x4ec);})[_0x4ac9d1(0x56f)](_0x4ac9d1(0x3a0)),_0x18526f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData[_0x4ac9d1(0x903)]+_0x4ac9d1(0x1dd)+JSON[_0x4ac9d1(0x5dd)](currentQuizData[_0x4ac9d1(0x389)])+_0x4ac9d1(0x9fb)+_0xb4cc84+_0x4ac9d1(0x39d),_0x28f5f3={'type':_0x4ac9d1(0x7d8),'properties':{'classStrengths':{'type':'ARRAY','items':{'type':_0x4ac9d1(0x4b8)}},'classWeaknesses':{'type':'ARRAY','items':{'type':'STRING'}},'teacherSuggestions':{'type':_0x4ac9d1(0xc5),'items':{'type':_0x4ac9d1(0x4b8)}}},'required':['classStrengths',_0x4ac9d1(0x156),_0x4ac9d1(0x970)]};try{const _0x28c0f9=await callAnalysisApi(_0x18526f,_0x28f5f3);displayClassAnalysis(_0x28c0f9);}catch(_0xb9e354){console[_0x4ac9d1(0x8f8)](_0x4ac9d1(0x1a4),_0xb9e354),_0x5b52d3[_0x4ac9d1(0x938)]=_0x4ac9d1(0x75b)+_0xb9e354[_0x4ac9d1(0x18a)]+'</p></div>';}finally{document[_0x4ac9d1(0x893)](_0x4ac9d1(0x80e))['disabled']=![];}}function displayClassAnalysis(_0xbe0237){const _0x493cf9=_0x375675,_0x2ac0fa=document[_0x493cf9(0x893)](_0x493cf9(0x189));if(!_0xbe0237){_0x2ac0fa[_0x493cf9(0x938)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0x2ac0fa[_0x493cf9(0x938)]=_0x493cf9(0x9c3)+_0xbe0237[_0x493cf9(0x9d4)][_0x493cf9(0x2cb)](_0x2685a6=>_0x493cf9(0x9d6)+_0x2685a6+'</li>')['join']('')+_0x493cf9(0x3c0)+_0xbe0237['classWeaknesses'][_0x493cf9(0x2cb)](_0x2518cf=>_0x493cf9(0x9d6)+_0x2518cf+_0x493cf9(0x10b))[_0x493cf9(0x56f)]('')+_0x493cf9(0x706)+_0xbe0237[_0x493cf9(0x970)]['map'](_0x48e8e7=>'<li>'+_0x48e8e7+_0x493cf9(0x10b))[_0x493cf9(0x56f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function formatAndPrintWorksheet(_0x4b071d,_0x4956dd){const _0x53df53=_0x375675,_0x8b23ab=_0x53df53(0x81b)+_0x4b071d[_0x53df53(0x903)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0x4b071d['topic']+_0x53df53(0x2b8)+_0x4b071d['questions'][_0x53df53(0x2cb)]((_0x34ab28,_0x3ca3b0)=>_0x53df53(0x397)+(_0x3ca3b0+0x1)+'.\x20'+_0x34ab28[_0x53df53(0x8b8)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x34ab28[_0x53df53(0x31d)]?_0x53df53(0x4e4)+_0x34ab28[_0x53df53(0x31d)]+_0x53df53(0x2d3):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x53df53(0x56f)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x4956dd[_0x53df53(0x47b)]['write'](_0x8b23ab),_0x4956dd[_0x53df53(0x47b)][_0x53df53(0x2f1)](),_0x4956dd[_0x53df53(0x2ca)]=function(){setTimeout(()=>{const _0x41d804=_0xdbfa;_0x4956dd[_0x41d804(0x9ce)]();},0x3e8);};}async function generateWorksheet(){const _0x68d8e2=_0x375675,_0x45a9ed=document[_0x68d8e2(0x893)]('worksheet-topic-input')[_0x68d8e2(0x106)][_0x68d8e2(0x517)]();if(!_0x45a9ed){showMessage('กรุณาป้อนหัวข้อสำหรับใบงาน');return;}const _0x403a8d=document['getElementById'](_0x68d8e2(0x2a1))[_0x68d8e2(0x33c)],_0x7a86ab=_0x403a8d?'':_0x68d8e2(0x59b),_0x5e2436=window[_0x68d8e2(0x1c0)]('',_0x68d8e2(0x8b0));_0x5e2436[_0x68d8e2(0x47b)]['write']('<h1></h1>');const _0x36b973=parseInt(document[_0x68d8e2(0x893)](_0x68d8e2(0x6ed))['value']),_0x2222e4=document[_0x68d8e2(0x893)](_0x68d8e2(0x434))[_0x68d8e2(0x33c)],_0x482689=_0x2222e4?_0x68d8e2(0x792):'',_0x38a4c4=_0x68d8e2(0x1f3)+_0x7a86ab+_0x68d8e2(0x923)+_0x36b973+_0x68d8e2(0x933)+_0x45a9ed+_0x68d8e2(0x3bd)+_0x482689+_0x68d8e2(0x160)+simpleMathPrompt+_0x68d8e2(0x285),_0x2ec886={'type':_0x68d8e2(0x7d8),'properties':{'topic':{'type':_0x68d8e2(0x4b8)},'questions':{'type':_0x68d8e2(0xc5),'items':{'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0x68d8e2(0x4b8)}},'required':[_0x68d8e2(0x8b8)]}}},'required':[_0x68d8e2(0x903),_0x68d8e2(0x389)]};document['getElementById']('loader-text')[_0x68d8e2(0x490)]='',document[_0x68d8e2(0x893)](_0x68d8e2(0x4ea))['classList'][_0x68d8e2(0x139)](_0x68d8e2(0x8c9)),document['getElementById'](_0x68d8e2(0x79a))['classList']['remove']('hidden'),generateWorksheetBtn[_0x68d8e2(0x5fa)]=!![];try{const _0x5e398e=await callAnalysisApi(_0x38a4c4,_0x2ec886);formatAndPrintWorksheet(_0x5e398e,_0x5e2436);}catch(_0x188daf){console['error'](_0x68d8e2(0x92e),_0x188daf);if(_0x5e2436)_0x5e2436[_0x68d8e2(0x2f1)]();showMessage(_0x68d8e2(0x55e));}finally{document[_0x68d8e2(0x893)]('loader')[_0x68d8e2(0x6a0)][_0x68d8e2(0x273)]('hidden'),document[_0x68d8e2(0x893)](_0x68d8e2(0x79a))[_0x68d8e2(0x6a0)]['add'](_0x68d8e2(0x8c9)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0xccd603,_0x54140d){const _0x173942=_0x375675,_0x19fef0={'contents':[{'role':'user','parts':[{'text':_0xccd603}]}],'generationConfig':{'responseMimeType':_0x173942(0x62d),'responseSchema':_0x54140d}},_0x5dae9c=_0x173942(0x789),_0x52fef9=_0x173942(0x7eb)+_0x5dae9c,_0xce08c0=await fetch(_0x52fef9,{'method':_0x173942(0x636),'headers':{'Content-Type':_0x173942(0x62d)},'body':JSON[_0x173942(0x5dd)](_0x19fef0)});if(!_0xce08c0['ok'])throw new Error(_0x173942(0x321)+_0xce08c0[_0x173942(0x9bc)]);const _0x24080c=await _0xce08c0['json']();if(_0x24080c[_0x173942(0x381)]?.[0x0]?.[_0x173942(0x68f)]?.[_0x173942(0x50f)]?.[0x0])return JSON[_0x173942(0x95e)](_0x24080c['candidates'][0x0][_0x173942(0x68f)]['parts'][0x0]['text']);else{let _0x278819='Invalid\x20response\x20structure\x20from\x20AI.';if(_0x24080c['promptFeedback']?.[_0x173942(0x186)])_0x278819=_0x173942(0x344)+_0x24080c['promptFeedback']['blockReason']+'.';else _0x24080c[_0x173942(0x381)]?.[0x0]?.[_0x173942(0x3ee)]&&_0x24080c['candidates'][0x0]['finishReason']!==_0x173942(0x4b2)&&(_0x278819=_0x173942(0x1b7)+_0x24080c[_0x173942(0x381)][0x0][_0x173942(0x3ee)]+'.');console[_0x173942(0x8f8)](_0x278819,JSON[_0x173942(0x5dd)](_0x24080c));throw new Error(_0x278819);}}async function handleStartSyncMode(_0x97ecf4,_0x23e17d=![]){const _0x2f3db3=_0x375675,_0xde12ab=allQuizzes[_0x2f3db3(0x860)](_0x13649b=>_0x13649b['id']===_0x97ecf4)||allQuizzesGlobal[_0x2f3db3(0x860)](_0x515d30=>_0x515d30['id']===_0x97ecf4);if(!_0xde12ab){showMessage(_0x2f3db3(0x66a));return;}currentQuizData=getShuffledQuiz(_0xde12ab);const _0x28a253=Math['floor'](0x3e8+Math[_0x2f3db3(0x7be)]()*0x2328)[_0x2f3db3(0x57a)]();try{const _0x4934d1=await addDoc(collection(db,_0x2f3db3(0x54c)+appId+'/public/data/syncGames'),{'quizId':_0xde12ab['id'],'pin':_0x28a253,'status':_0x2f3db3(0x2d6),'currentQuestionIndex':-0x1,'shuffledQuiz':currentQuizData,'shouldSaveResults':_0x23e17d,'players':{}});currentLiveGameId=_0x4934d1['id'],showView(_0x2f3db3(0x54a)),renderSyncLobbyView(_0x28a253,_0xde12ab[_0x2f3db3(0x903)]),listenForSyncGameUpdates();}catch(_0x977fd){console['error'](_0x2f3db3(0x1ce),_0x977fd),showMessage(_0x2f3db3(0x1f2));}}function calculateFinalPodiumScores(_0x2167b1){const _0x1eedd4=_0x375675;if(!_0x2167b1||!_0x2167b1['shuffledQuiz']||!_0x2167b1[_0x1eedd4(0x1a7)])return _0x2167b1[_0x1eedd4(0x1a7)]||{};const _0x3be584=_0x2167b1[_0x1eedd4(0x6c7)][_0x1eedd4(0x389)][_0x1eedd4(0x8f7)],_0x1febb6=JSON[_0x1eedd4(0x95e)](JSON[_0x1eedd4(0x5dd)](_0x2167b1['players']));return Object[_0x1eedd4(0x5f7)](_0x1febb6)[_0x1eedd4(0x1d9)](_0x419067=>{const _0x164e89=_0x1eedd4,_0x25684f=_0x419067[_0x164e89(0x9eb)];let _0x302ae1=0x0;_0x2167b1[_0x164e89(0xe9)]&&_0x419067[_0x164e89(0x196)]&&_0x419067[_0x164e89(0x196)][_0x164e89(0x1d9)](_0x5e41da=>{const _0x16d341=_0x164e89;if(_0x5e41da[_0x16d341(0xf2)]&&_0x5e41da['wasConfident'])_0x302ae1+=0x1;else!_0x5e41da[_0x16d341(0xf2)]&&_0x5e41da[_0x16d341(0x2f6)]&&(_0x302ae1-=0x1);}),_0x419067[_0x164e89(0x9eb)]=_0x25684f+_0x302ae1,_0x3be584>0x0&&_0x25684f===_0x3be584&&(_0x419067['score']+=0x1,_0x419067[_0x164e89(0x606)]=!![]);}),_0x1febb6;}function listenForSyncGameUpdates(){const _0x321707=_0x375675;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x10f1fd=doc(db,_0x321707(0x54c)+appId+_0x321707(0x549),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x10f1fd,_0x5c50b2=>{const _0x38d7b0=_0x321707;if(!_0x5c50b2[_0x38d7b0(0x135)]()){sessionStorage['removeItem'](_0x38d7b0(0x325));if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();showMessage('กิจกรรมสิ้นสุดลงแล้ว'),showView(currentMode===_0x38d7b0(0x594)?_0x38d7b0(0x31c):_0x38d7b0(0x41b));return;}const _0x31664f=_0x5c50b2[_0x38d7b0(0x918)]();currentMode===_0x38d7b0(0x594)?updateAdminSyncView(_0x31664f):updateStudentSyncView(_0x31664f);});}function renderSyncLobbyView(_0x1833d4,_0x9f260b){const _0x1561b4=_0x375675;liveGameView[_0x1561b4(0x938)]=_0x1561b4(0x243)+_0x9f260b+_0x1561b4(0x251)+_0x1833d4+_0x1561b4(0x58f);const _0xa3cc2d=document[_0x1561b4(0x893)](_0x1561b4(0x5ac)),_0x2268d6=document[_0x1561b4(0x893)](_0x1561b4(0x2c7));_0xa3cc2d['addEventListener'](_0x1561b4(0x152),()=>{const _0x449133=_0x1561b4;_0x2268d6[_0x449133(0x4e7)]['display']=_0xa3cc2d[_0x449133(0x33c)]?'block':_0x449133(0x951);}),document[_0x1561b4(0x893)](_0x1561b4(0x627))['addEventListener'](_0x1561b4(0x246),async()=>{const _0x41e7a3=_0x1561b4,_0x280970=doc(db,_0x41e7a3(0x54c)+appId+_0x41e7a3(0x549),currentLiveGameId),_0x3cb272=document[_0x41e7a3(0x893)]('confidence-scoring-toggle')[_0x41e7a3(0x33c)];await updateDoc(_0x280970,{'status':'question','currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp(),'isConfidenceScoringEnabled':_0x3cb272});});}function updateAdminSyncView(_0x52a1eb){const _0x2d91c7=_0x375675;switch(_0x52a1eb[_0x2d91c7(0x9bc)]){case _0x2d91c7(0x2d6):renderSyncLobbyView(_0x52a1eb['pin'],_0x52a1eb['shuffledQuiz'][_0x2d91c7(0x903)]);const _0x26e248=Object[_0x2d91c7(0x9b2)](_0x52a1eb['players']||{})['filter'](([_0x2f8264,_0x59f1ef])=>_0x59f1ef[_0x2d91c7(0x9bc)]!==_0x2d91c7(0x906));document[_0x2d91c7(0x893)](_0x2d91c7(0x99c))[_0x2d91c7(0x490)]=_0x26e248[_0x2d91c7(0x8f7)],document[_0x2d91c7(0x893)](_0x2d91c7(0x399))[_0x2d91c7(0x938)]=_0x26e248[_0x2d91c7(0x2cb)](([_0x26e8e2,_0x26455c])=>_0x2d91c7(0x6a6)+_0x26e8e2+_0x2d91c7(0x701)+_0x26e8e2+_0x2d91c7(0x879))['join']('')||_0x2d91c7(0x7d7),document[_0x2d91c7(0x893)](_0x2d91c7(0x627))[_0x2d91c7(0x5fa)]=_0x26e248[_0x2d91c7(0x8f7)]===0x0;break;case _0x2d91c7(0x7d0):const _0x48d365=Object['values'](_0x52a1eb[_0x2d91c7(0x1a7)]||{})[_0x2d91c7(0x625)](_0x1bd713=>_0x1bd713[_0x2d91c7(0x9bc)]!==_0x2d91c7(0x906)),_0x313547=_0x48d365[_0x2d91c7(0x625)](_0x53d61c=>_0x53d61c[_0x2d91c7(0x8fb)])['length'],_0x43d462=_0x313547===_0x48d365['length']&&_0x48d365[_0x2d91c7(0x8f7)]>0x0;if(_0x43d462&&_0x52a1eb['status']===_0x2d91c7(0x7d0)){const _0x58e223=doc(db,_0x2d91c7(0x54c)+appId+'/public/data/syncGames',currentLiveGameId);updateDoc(_0x58e223,{'status':_0x2d91c7(0x34b)});}else{if(document[_0x2d91c7(0x893)](_0x2d91c7(0x27a))===null)renderAdminSyncQuestionView(_0x52a1eb);else{const _0x1b9d0e=document[_0x2d91c7(0x893)](_0x2d91c7(0xfe));_0x1b9d0e&&(_0x1b9d0e[_0x2d91c7(0x490)]=_0x313547+'/'+_0x48d365[_0x2d91c7(0x8f7)]);const _0x29161c=document['getElementById'](_0x2d91c7(0x813));_0x29161c&&(_0x29161c['innerHTML']=_0x48d365[_0x2d91c7(0x2cb)](_0x5eedc0=>{const _0x29dbf0=_0x2d91c7,_0x47240a=_0x5eedc0['answered']?_0x29dbf0(0x849):_0x29dbf0(0x436),_0x4f896b=_0x5eedc0['answered']?'<i\x20class=\x22fas\x20fa-check-circle\x22></i>':_0x29dbf0(0x603);return _0x29dbf0(0x133)+_0x47240a+_0x29dbf0(0x786)+_0x4f896b+_0x29dbf0(0x240)+_0x5eedc0[_0x29dbf0(0x67c)]+_0x29dbf0(0x476)+_0x5eedc0[_0x29dbf0(0x67c)]+'\x22\x20class=\x22kick-player-btn-sync\x20text-red-200\x20hover:text-white\x20font-bold\x22\x20title=\x22นำผู้เล่นนี้ออก\x22>&times;</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x2d91c7(0x56f)](''));}}break;case _0x2d91c7(0x34b):const _0x281649=_0x52a1eb[_0x2d91c7(0x6ca)],_0x4b7612=_0x52a1eb[_0x2d91c7(0x6c7)][_0x2d91c7(0x389)][_0x281649];renderSyncSummaryView(_0x52a1eb,_0x4b7612,!![]);break;case _0x2d91c7(0x492):renderAdminSyncDashboard(_0x52a1eb,!![]);break;case _0x2d91c7(0x16e):_0x52a1eb['shouldSaveResults']&&saveGameResultsAsSubmissions(_0x52a1eb);sessionStorage[_0x2d91c7(0x16a)](_0x2d91c7(0x325));const _0x36eadf=calculateFinalPodiumScores(_0x52a1eb);showPodiumView(_0x36eadf,_0x2d91c7(0x50c));break;}}function renderAdminSyncQuestionView(_0x502e89){const _0x309aab=_0x375675,_0x5ce4bf=_0x502e89['currentQuestionIndex'],_0x56e40e=_0x502e89[_0x309aab(0x6c7)][_0x309aab(0x389)][_0x5ce4bf],_0x4a79d0=_0x502e89[_0x309aab(0x6c7)][_0x309aab(0x389)][_0x309aab(0x8f7)],_0x20615a=Object[_0x309aab(0x5f7)](_0x502e89[_0x309aab(0x1a7)]||{})[_0x309aab(0x625)](_0x1be2dc=>_0x1be2dc[_0x309aab(0x9bc)]!=='inactive'),_0x3f7668=_0x20615a[_0x309aab(0x625)](_0x1fc39d=>_0x1fc39d['answered'])['length'],_0x20f843=_0x3f7668===_0x20615a[_0x309aab(0x8f7)]&&_0x20615a[_0x309aab(0x8f7)]>0x0,_0x495f34=(_0x56e40e[_0x309aab(0x34d)]||[])[_0x309aab(0x2cb)](_0x4f33a2=>'<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white/30\x22>'+_0x4f33a2+'</div>')[_0x309aab(0x56f)]('');liveGameView['innerHTML']=_0x309aab(0x9c9)+(_0x5ce4bf+0x1)+_0x309aab(0x8e8)+_0x4a79d0+_0x309aab(0x835)+_0x3f7668+'/'+_0x20615a['length']+_0x309aab(0x86b)+_0x56e40e[_0x309aab(0x8b8)]+_0x309aab(0x318)+_0x495f34+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mt-8\x20flex\x20items-center\x20justify-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22open-sync-scratchpad-btn\x22\x20class=\x22bg-white/30\x20hover:bg-white/50\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ทดเลข\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22show-results-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20disabled:bg-gray-400\x22\x20'+(!_0x20f843?_0x309aab(0x5fa):'')+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20แสดงผลลัพธ์\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';if(window[_0x309aab(0x775)])MathJax[_0x309aab(0x2b2)]();document[_0x309aab(0x893)](_0x309aab(0xe5))[_0x309aab(0x15b)](_0x309aab(0x246),async()=>{const _0x474779=_0x309aab,_0x4db9cd=doc(db,_0x474779(0x54c)+appId+_0x474779(0x549),currentLiveGameId);await updateDoc(_0x4db9cd,{'status':_0x474779(0x492)});}),document['getElementById'](_0x309aab(0x2f0))[_0x309aab(0x28e)]=()=>{const _0x354121=_0x309aab;openScratchpad(_0x56e40e,_0x56e40e[_0x354121(0x34d)]||[]);},document[_0x309aab(0x893)]('sync-manage-players-btn')['addEventListener'](_0x309aab(0x246),()=>{const _0x4d7682=_0x309aab;document['getElementById']('sync-player-management')[_0x4d7682(0x6a0)][_0x4d7682(0x2fe)](_0x4d7682(0x8c9));});}function renderSyncLeaderboardView(_0x1a3ebe,_0x5d4147){const _0x4c7957=_0x375675,_0x422361=Object[_0x4c7957(0x5f7)](_0x1a3ebe['players']||{});_0x422361['sort']((_0x5b1407,_0xcf8df)=>_0xcf8df[_0x4c7957(0x9eb)]-_0x5b1407['score']);const _0x40be77=_0x422361['slice'](0x0,0x5);let _0x67b100='';if(_0x5d4147){const _0x284423=_0x1a3ebe[_0x4c7957(0x6ca)]>=_0x1a3ebe[_0x4c7957(0x6c7)][_0x4c7957(0x389)][_0x4c7957(0x8f7)]-0x1;_0x67b100=_0x4c7957(0x75d)+(_0x284423?_0x4c7957(0x85d):_0x4c7957(0x484))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i></button>';}else _0x67b100=_0x4c7957(0x8e2);liveGameView[_0x4c7957(0x938)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-6\x22>ตารางคะแนน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-lg\x20space-y-3\x22>'+_0x40be77['map']((_0x148fa2,_0x3ff71f)=>'<div\x20class=\x22bg-black/20\x20p-3\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20text-xl\x22><span\x20class=\x22font-semibold\x22>'+(_0x3ff71f+0x1)+'.\x20'+_0x148fa2[_0x4c7957(0x67c)]+_0x4c7957(0x557)+_0x148fa2[_0x4c7957(0x9eb)]+'</span></div>')[_0x4c7957(0x56f)]('')+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x67b100+_0x4c7957(0x767),_0x5d4147&&document[_0x4c7957(0x893)]('next-sync-question-btn')['addEventListener'](_0x4c7957(0x246),async()=>{const _0x20ba66=_0x4c7957,_0x179e06=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x3add35=_0x1a3ebe[_0x20ba66(0x6ca)]+0x1;if(_0x3add35<_0x1a3ebe['shuffledQuiz'][_0x20ba66(0x389)][_0x20ba66(0x8f7)]){const _0x3238ef={};Object[_0x20ba66(0x26c)](_0x1a3ebe['players'])['forEach'](_0x4f0239=>{const _0x1d1444=_0x20ba66;_0x3238ef[_0x1d1444(0x983)+_0x4f0239+'.answered']=![];}),await updateDoc(_0x179e06,{..._0x3238ef,'status':_0x20ba66(0x7d0),'currentQuestionIndex':_0x3add35,'questionDisplayedAt':serverTimestamp()});}else await updateDoc(_0x179e06,{'status':_0x20ba66(0x16e)});});}async function handleJoinSyncGame(){const _0x10cd23=_0x375675,_0x4f46dc=prompt(_0x10cd23(0x87b));if(!_0x4f46dc||_0x4f46dc[_0x10cd23(0x517)]()['length']!==0x2){showMessage(_0x10cd23(0x404));return;}try{const _0x79b68e=collection(db,_0x10cd23(0x54c)+appId+_0x10cd23(0x549)),_0x15569e=query(_0x79b68e,where(_0x10cd23(0x496),'==',_0x4f46dc[_0x10cd23(0x517)]()),where(_0x10cd23(0x9bc),'==','lobby')),_0x5d6ad1=await getDocs(_0x15569e);if(_0x5d6ad1[_0x10cd23(0x98f)]){showMessage(_0x10cd23(0x630));return;}const _0x4bf5bd=_0x5d6ad1[_0x10cd23(0x9fe)][0x0];currentLiveGameId=_0x4bf5bd['id'];const _0x3a1a75=_0x4bf5bd[_0x10cd23(0x918)](),_0x42d18f=doc(db,_0x10cd23(0x54c)+appId+'/public/data/quizzes',_0x3a1a75[_0x10cd23(0x7b7)]),_0x23c803=await getDoc(_0x42d18f);if(!_0x23c803[_0x10cd23(0x135)]())throw new Error('ไม่พบข้อมูลแบบทดสอบที่ใช้ในเกมนี้');const _0x55f569=_0x23c803['data'](),_0x4d1fb7=doc(db,_0x10cd23(0x54c)+appId+_0x10cd23(0x556),_0x55f569[_0x10cd23(0x862)]),_0x3d3c0f=await getDoc(_0x4d1fb7);if(!_0x3d3c0f['exists']())throw new Error(_0x10cd23(0x64c));currentQuizData=_0x3a1a75['shuffledQuiz'];const _0x50afa6=_0x3d3c0f[_0x10cd23(0x918)]();showView(_0x10cd23(0x93a)),showTeamPlayerSelection(_0x50afa6[_0x10cd23(0x67f)],_0x55f569['topic']);const _0x280e3d=document[_0x10cd23(0x893)]('confirm-team-players-btn');_0x280e3d[_0x10cd23(0x28e)]=confirmAndJoinSyncGame;}catch(_0x3bb205){console['error'](_0x10cd23(0x569),_0x3bb205),showMessage(_0x10cd23(0x49f)+_0x3bb205[_0x10cd23(0x18a)]);}}function updateStudentSyncView(_0x51762f){const _0x5c7cda=_0x375675,_0x4dc266=_0x51762f[_0x5c7cda(0x1a7)][localTeamPlayers[0x0]];switch(_0x51762f[_0x5c7cda(0x9bc)]){case _0x5c7cda(0x2d6):showView(_0x5c7cda(0x54a)),liveGameView[_0x5c7cda(0x938)]='<div\x20class=\x22bg-indigo-700\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22><h2>เข้าร่วมสำเร็จ!</h2><p>รอผู้ควบคุมเริ่มเกม...</p></div>';break;case _0x5c7cda(0x7d0):const _0x33a997=localTeamPlayers['every'](_0xcb4bda=>_0x51762f['players'][_0xcb4bda]?.[_0x5c7cda(0x8fb)]===!![]);_0x33a997?liveGameView[_0x5c7cda(0x938)]=_0x5c7cda(0x11a):renderStudentSyncQuestionView(_0x51762f);break;case _0x5c7cda(0x34b):liveGameView[_0x5c7cda(0x938)]=_0x5c7cda(0x9a8);break;case _0x5c7cda(0x492):localPlayerTurnIndex=0x0,renderStudentSyncResultsView(_0x51762f);break;case _0x5c7cda(0x16e):sessionStorage[_0x5c7cda(0x16a)](_0x5c7cda(0x325));const _0x5e278f=calculateFinalPodiumScores(_0x51762f);showPodiumView(_0x5e278f,_0x5c7cda(0x50c));break;}}function renderStudentSyncResultsView(_0x3ef4e6){const _0x5e6edd=_0x375675,_0x3344eb=localTeamPlayers[_0x5e6edd(0x2cb)](_0x4c8806=>_0x3ef4e6[_0x5e6edd(0x1a7)][_0x4c8806])[_0x5e6edd(0x625)](Boolean);_0x3344eb[_0x5e6edd(0x4d7)]((_0x138b36,_0x5c0553)=>(_0x5c0553[_0x5e6edd(0x9eb)]||0x0)-(_0x138b36['score']||0x0));const _0x5d18f2=_0x3ef4e6['currentQuestionIndex']>=_0x3ef4e6[_0x5e6edd(0x6c7)][_0x5e6edd(0x389)][_0x5e6edd(0x8f7)]-0x1;let _0x434ffb='';_0x5d18f2?_0x434ffb=_0x5e6edd(0x8cf):_0x434ffb=_0x5e6edd(0x7c5);const _0xedd2c4=_0x5e6edd(0x726)+_0x3344eb['map']((_0x50250f,_0xcd7abc)=>_0x5e6edd(0x65a)+(_0xcd7abc+0x1)+_0x5e6edd(0x4b1)+_0x50250f[_0x5e6edd(0x67c)]+_0x5e6edd(0x68b)+_0x50250f[_0x5e6edd(0x9eb)]+_0x5e6edd(0x1c1))[_0x5e6edd(0x56f)]('')+_0x5e6edd(0x3fc)+_0x434ffb+_0x5e6edd(0x6a8);liveGameView['innerHTML']=_0xedd2c4;}function renderStudentSyncQuestionView(_0x3a543b){const _0x4ae36e=_0x375675;while(localPlayerTurnIndex<localTeamPlayers[_0x4ae36e(0x8f7)]&&_0x3a543b[_0x4ae36e(0x1a7)][localTeamPlayers[localPlayerTurnIndex]]?.[_0x4ae36e(0x8fb)]===!![]){localPlayerTurnIndex++;}const _0x35a622=localTeamPlayers[localPlayerTurnIndex];if(!_0x35a622)return;const _0x5b3b80=_0x3a543b['currentQuestionIndex'],_0x3b1e8e=_0x3a543b['shuffledQuiz'][_0x4ae36e(0x389)][_0x4ae36e(0x8f7)],_0x4b5992=_0x3a543b['shuffledQuiz'][_0x4ae36e(0x389)][_0x5b3b80],_0xa07af9=_0x4b5992[_0x4ae36e(0x1d7)]||_0x3a543b[_0x4ae36e(0x6c7)][_0x4ae36e(0x241)];let _0x1897ca='',_0x459359=![];switch(_0xa07af9){case _0x4ae36e(0x46e):_0x1897ca=_0x4ae36e(0x21b);break;case'short_answer':case _0x4ae36e(0x611):_0x459359=!![],_0x1897ca=_0x4ae36e(0x416);break;case _0x4ae36e(0x99f):_0x459359=!![],_0x1897ca=_0x4ae36e(0x54f)+(_0x4b5992[_0x4ae36e(0x9c0)]||[])[_0x4ae36e(0x2cb)](_0x3e1a52=>_0x4ae36e(0x98e)+_0x3e1a52+'\x22>'+_0x3e1a52+_0x4ae36e(0x35e))[_0x4ae36e(0x56f)]('')+_0x4ae36e(0x819);break;case'multiple_choice':default:_0x1897ca=(_0x4b5992[_0x4ae36e(0x34d)]||[])[_0x4ae36e(0x2cb)]((_0xf99bfe,_0x1f9f97)=>_0x4ae36e(0x895)+_0x1f9f97+_0x4ae36e(0x562)+_0xf99bfe+_0x4ae36e(0x9b3))['join']('');break;}liveGameView[_0x4ae36e(0x938)]=_0x4ae36e(0x43d)+(_0x5b3b80+0x1)+_0x4ae36e(0x8e8)+_0x3b1e8e+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-center\x20text-yellow-300\x20my-2\x22>ตาของ:\x20'+_0x35a622+_0x4ae36e(0x8e3)+(_0x4b5992[_0x4ae36e(0x8b8)]||_0x4b5992[_0x4ae36e(0x877)])+_0x4ae36e(0x94a)+_0x1897ca+_0x4ae36e(0x6fe);if(window[_0x4ae36e(0x775)])MathJax['typesetPromise']();function _0x4994e5(_0x2a1c67,_0x4fb56d,_0x3142c6,_0x3ca905){const _0x4224cc=_0x4ae36e,_0x55e6ab=_0x3142c6[_0x4224cc(0xe9)]===!![];if(_0x55e6ab){document[_0x4224cc(0x893)](_0x4224cc(0x17e))[_0x4224cc(0x40f)]['currentMode']=_0x4224cc(0x50c);const _0x37071c=document[_0x4224cc(0x893)](_0x4224cc(0x961));_0x37071c[_0x4224cc(0x40f)][_0x4224cc(0x5bc)]=_0x2a1c67,_0x37071c[_0x4224cc(0x40f)][_0x4224cc(0x7d0)]=JSON['stringify'](_0x4fb56d),_0x37071c['dataset'][_0x4224cc(0x244)]=JSON[_0x4224cc(0x5dd)](_0x3142c6),_0x37071c[_0x4224cc(0x40f)][_0x4224cc(0x9e2)]=_0x3ca905,document['getElementById'](_0x4224cc(0x17e))[_0x4224cc(0x6a0)]['remove'](_0x4224cc(0x8c9));}else handleSyncAnswerSubmit(_0x2a1c67,_0x4fb56d,_0x3142c6,_0x3ca905,![]);}_0x459359?document[_0x4ae36e(0x893)]('sync-submit-btn')[_0x4ae36e(0x15b)]('click',()=>{const _0x21ea5=_0x4ae36e,_0x132768=document['getElementById'](_0x21ea5(0x2fd))||document[_0x21ea5(0x893)](_0x21ea5(0x987));if(_0x132768[_0x21ea5(0x106)][_0x21ea5(0x517)]()===''){showMessage(_0x21ea5(0x375));return;}_0x4994e5(_0x132768[_0x21ea5(0x106)],_0x4b5992,_0x3a543b,_0x35a622);}):document[_0x4ae36e(0x814)](_0x4ae36e(0x592))['forEach'](_0x3ae9ed=>{const _0x1d143d=_0x4ae36e;_0x3ae9ed['addEventListener'](_0x1d143d(0x246),()=>{const _0x5cc3d7=_0x1d143d;_0x4994e5(_0x3ae9ed[_0x5cc3d7(0x40f)][_0x5cc3d7(0x106)],_0x4b5992,_0x3a543b,_0x35a622);});});}async function handleSyncAnswerSubmit(_0x1ee570,_0xa4a1c6,_0x4a6cfa,_0x15bd5f,_0x1fe8f3){const _0x26c877=_0x375675;document[_0x26c877(0x814)]('.live-answer-btn,\x20#sync-submit-btn')[_0x26c877(0x1d9)](_0x34f152=>_0x34f152[_0x26c877(0x5fa)]=!![]);const _0x20f763=_0xa4a1c6[_0x26c877(0x1d7)]||_0x4a6cfa['shuffledQuiz'][_0x26c877(0x241)];let _0x4283d6=![],_0x4e2240=_0x1ee570;switch(_0x20f763){case _0x26c877(0x46e):const _0x43689d=parseInt(_0x1ee570),_0x39026a=_0xa4a1c6[_0x26c877(0x1b1)]===!![]||String(_0xa4a1c6['correctAnswer'])['toLowerCase']()===_0x26c877(0x7e6);_0x4283d6=_0x43689d===0x0&&_0x39026a||_0x43689d===0x1&&!_0x39026a,_0x4e2240=_0x43689d===0x0?'ใช่\x20/\x20ถูก':_0x26c877(0x52e);break;case _0x26c877(0x689):case'fill_in_no_choices':_0x4283d6=await gradeShortAnswer(_0x1ee570,_0xa4a1c6);break;case _0x26c877(0x99f):_0x4283d6=_0x1ee570===_0xa4a1c6[_0x26c877(0x714)];break;case _0x26c877(0x5b4):default:const _0x134f78=parseInt(_0x1ee570);_0x4283d6=_0x134f78===_0xa4a1c6[_0x26c877(0x376)];_0xa4a1c6[_0x26c877(0x34d)]&&_0xa4a1c6[_0x26c877(0x34d)][_0x134f78]&&(_0x4e2240=_0xa4a1c6[_0x26c877(0x34d)][_0x134f78]);break;}let _0x3355b4=0x0;if(_0x4283d6&&_0x1fe8f3)_0x3355b4=0x2;else{if(_0x4283d6)_0x3355b4=0x1;else!_0x4283d6&&_0x1fe8f3&&(_0x3355b4=-0x1);}const _0x4f05b2=doc(db,'artifacts/'+appId+'/public/data/syncGames',currentLiveGameId),_0x55a33f={};_0x55a33f[_0x26c877(0x983)+_0x15bd5f+'.score']=increment(_0x3355b4),_0x55a33f[_0x26c877(0x983)+_0x15bd5f+_0x26c877(0x1c2)]=!![];let _0x27b6bc=null;(_0x20f763===_0x26c877(0x5b4)||_0x20f763===_0x26c877(0x46e)||_0x20f763===_0x26c877(0x22c))&&(_0x27b6bc=parseInt(_0x1ee570));_0x55a33f['players.'+_0x15bd5f+_0x26c877(0x583)]=_0x27b6bc;const _0x3d3ba9={'questionIndex':_0x4a6cfa[_0x26c877(0x6ca)],'questionId':_0xa4a1c6['id'],'answer':_0x1ee570,'answerText':_0x4e2240,'isCorrect':_0x4283d6,'originalQuestionText':_0xa4a1c6[_0x26c877(0x8b8)]||_0xa4a1c6[_0x26c877(0x877)],'wasConfident':_0x1fe8f3};_0x55a33f['players.'+_0x15bd5f+_0x26c877(0x36f)]=arrayUnion(_0x3d3ba9),await updateDoc(_0x4f05b2,_0x55a33f);}initialize();
