const _0x490f9b=_0x27c3;(function(_0x4f0d08,_0x2de24b){const _0x21af9b=_0x27c3,_0x5e7a78=_0x4f0d08();while(!![]){try{const _0x50434f=-parseInt(_0x21af9b(0x5f2))/0x1*(-parseInt(_0x21af9b(0x282))/0x2)+parseInt(_0x21af9b(0x3eb))/0x3+-parseInt(_0x21af9b(0x53c))/0x4*(parseInt(_0x21af9b(0x40f))/0x5)+parseInt(_0x21af9b(0x351))/0x6+-parseInt(_0x21af9b(0x4b5))/0x7+-parseInt(_0x21af9b(0x516))/0x8+parseInt(_0x21af9b(0x5ad))/0x9;if(_0x50434f===_0x2de24b)break;else _0x5e7a78['push'](_0x5e7a78['shift']());}catch(_0x540b96){_0x5e7a78['push'](_0x5e7a78['shift']());}}}(_0x3a9e,0x7d249));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';const allMathTopics=[{'category':'จำนวนและการดำเนินการ','name':_0x490f9b(0x64d)},{'category':_0x490f9b(0x464),'name':_0x490f9b(0x243)},{'category':_0x490f9b(0x464),'name':_0x490f9b(0x1c7)},{'category':_0x490f9b(0x464),'name':_0x490f9b(0x3b4)},{'category':_0x490f9b(0x464),'name':'การบวก'},{'category':_0x490f9b(0x464),'name':_0x490f9b(0x38f)},{'category':'จำนวนและการดำเนินการ','name':_0x490f9b(0x79c)},{'category':_0x490f9b(0x464),'name':_0x490f9b(0x3be)},{'category':_0x490f9b(0x464),'name':_0x490f9b(0x78c)},{'category':'จำนวนและการดำเนินการ','name':_0x490f9b(0x3f4)},{'category':_0x490f9b(0x464),'name':_0x490f9b(0x254)},{'category':_0x490f9b(0x464),'name':_0x490f9b(0x4cc)},{'category':_0x490f9b(0x464),'name':_0x490f9b(0x67a)},{'category':_0x490f9b(0x464),'name':'ตัวประกอบและตัวประกอบเฉพาะ'},{'category':_0x490f9b(0x464),'name':_0x490f9b(0x332)},{'category':_0x490f9b(0x464),'name':'ค.ร.น.\x20(LCM)'},{'category':_0x490f9b(0x464),'name':_0x490f9b(0x2a5)},{'category':_0x490f9b(0x464),'name':'อัตราและอัตราหน่วย'},{'category':_0x490f9b(0x464),'name':_0x490f9b(0x77b)},{'category':_0x490f9b(0x464),'name':_0x490f9b(0x7a8)},{'category':'จำนวนและการดำเนินการ','name':_0x490f9b(0x6cb)},{'category':_0x490f9b(0x464),'name':_0x490f9b(0x1c4)},{'category':_0x490f9b(0x464),'name':'การหารเศษส่วน'},{'category':'จำนวนและการดำเนินการ','name':_0x490f9b(0x3a3)},{'category':_0x490f9b(0x464),'name':_0x490f9b(0x35d)},{'category':_0x490f9b(0x464),'name':_0x490f9b(0x30d)},{'category':_0x490f9b(0x464),'name':_0x490f9b(0x336)},{'category':_0x490f9b(0x464),'name':_0x490f9b(0x2af)},{'category':_0x490f9b(0x464),'name':_0x490f9b(0x4f4)},{'category':_0x490f9b(0x464),'name':_0x490f9b(0x77c)},{'category':_0x490f9b(0x464),'name':'ร้อยละพื้นฐาน'},{'category':'จำนวนและการดำเนินการ','name':_0x490f9b(0x71b)},{'category':_0x490f9b(0x464),'name':_0x490f9b(0x306)},{'category':_0x490f9b(0x464),'name':_0x490f9b(0x33a)},{'category':_0x490f9b(0x464),'name':_0x490f9b(0x606)},{'category':_0x490f9b(0x464),'name':'รูปสแควร์รูท\x20(surd)'},{'category':'จำนวนและการดำเนินการ','name':_0x490f9b(0x735)},{'category':_0x490f9b(0x30c),'name':'หน่วยความยาวและการแปลง'},{'category':'การวัด','name':_0x490f9b(0x731)},{'category':_0x490f9b(0x30c),'name':_0x490f9b(0x2b2)},{'category':_0x490f9b(0x30c),'name':_0x490f9b(0x157)},{'category':_0x490f9b(0x30c),'name':_0x490f9b(0x5d7)},{'category':_0x490f9b(0x30c),'name':_0x490f9b(0x6d7)},{'category':_0x490f9b(0x30c),'name':_0x490f9b(0x459)},{'category':_0x490f9b(0x30c),'name':'พื้นที่สามเหลี่ยม'},{'category':'การวัด','name':'พื้นที่วงกลม/ส่วนของวงกลม'},{'category':'การวัด','name':_0x490f9b(0x2b1)},{'category':_0x490f9b(0x30c),'name':_0x490f9b(0x776)},{'category':'การวัด','name':_0x490f9b(0x1f4)},{'category':_0x490f9b(0x30c),'name':_0x490f9b(0x179)},{'category':'การวัด','name':_0x490f9b(0x1cb)},{'category':'เรขาคณิต','name':'จุด\x20เส้น\x20ระนาบ'},{'category':_0x490f9b(0x74e),'name':'ความสัมพันธ์ของมุม'},{'category':_0x490f9b(0x74e),'name':_0x490f9b(0x276)},{'category':_0x490f9b(0x74e),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x490f9b(0x74e),'name':_0x490f9b(0x29c)},{'category':_0x490f9b(0x74e),'name':_0x490f9b(0x39a)},{'category':_0x490f9b(0x74e),'name':_0x490f9b(0x396)},{'category':_0x490f9b(0x74e),'name':_0x490f9b(0x568)},{'category':_0x490f9b(0x74e),'name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':_0x490f9b(0x74e),'name':_0x490f9b(0x7af)},{'category':_0x490f9b(0x74e),'name':_0x490f9b(0x215)},{'category':_0x490f9b(0x74e),'name':'การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)'},{'category':'เรขาคณิต','name':_0x490f9b(0x3d5)},{'category':_0x490f9b(0x74e),'name':_0x490f9b(0x642)},{'category':_0x490f9b(0x74e),'name':_0x490f9b(0x5de)},{'category':_0x490f9b(0x785),'name':'ตัวแปรและนิพจน์'},{'category':'พีชคณิตและฟังก์ชัน','name':'การกระจายและการจัดหมู่'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x490f9b(0x510)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x490f9b(0x5bd)},{'category':_0x490f9b(0x785),'name':'สมการเชิงเส้นตัวแปรเดียว'},{'category':_0x490f9b(0x785),'name':_0x490f9b(0x29b)},{'category':_0x490f9b(0x785),'name':_0x490f9b(0x4d7)},{'category':_0x490f9b(0x785),'name':_0x490f9b(0x186)},{'category':_0x490f9b(0x785),'name':'สมการค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':'สมการเหตุผล\x20(rational)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x490f9b(0x1bc)},{'category':_0x490f9b(0x785),'name':_0x490f9b(0x3e1)},{'category':_0x490f9b(0x785),'name':'สมการลอการิทึม'},{'category':'พีชคณิตและฟังก์ชัน','name':'อสมการเชิงเส้น'},{'category':_0x490f9b(0x785),'name':'อสมการค่าสัมบูรณ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x490f9b(0x61a)},{'category':_0x490f9b(0x785),'name':_0x490f9b(0x246)},{'category':_0x490f9b(0x785),'name':'โดเมนและเรนจ์'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x490f9b(0x6ad)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x490f9b(0x5c1)},{'category':_0x490f9b(0x785),'name':_0x490f9b(0x27f)},{'category':'พีชคณิตและฟังก์ชัน','name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0x490f9b(0x785),'name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':_0x490f9b(0x785),'name':_0x490f9b(0x395)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x490f9b(0x319)},{'category':_0x490f9b(0x785),'name':'ฟังก์ชันราก\x20(root)'},{'category':_0x490f9b(0x785),'name':_0x490f9b(0x31e)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x490f9b(0x5ed)},{'category':_0x490f9b(0x785),'name':_0x490f9b(0x3e0)},{'category':_0x490f9b(0x785),'name':_0x490f9b(0x708)},{'category':_0x490f9b(0x785),'name':_0x490f9b(0x69f)},{'category':_0x490f9b(0x785),'name':_0x490f9b(0x724)},{'category':_0x490f9b(0x785),'name':_0x490f9b(0x5fa)},{'category':_0x490f9b(0x785),'name':'ทฤษฎีทวินาม\x20(เบื้องต้น)'},{'category':_0x490f9b(0x785),'name':_0x490f9b(0x287)},{'category':'เรขาคณิตวิเคราะห์','name':_0x490f9b(0x283)},{'category':_0x490f9b(0x520),'name':_0x490f9b(0x411)},{'category':_0x490f9b(0x520),'name':_0x490f9b(0x2c9)},{'category':_0x490f9b(0x520),'name':_0x490f9b(0x763)},{'category':_0x490f9b(0x520),'name':_0x490f9b(0x209)},{'category':_0x490f9b(0x520),'name':'วงกลม:\x20สมการและสมบัติ'},{'category':_0x490f9b(0x520),'name':_0x490f9b(0x110)},{'category':'เรขาคณิตวิเคราะห์','name':'วงรี'},{'category':_0x490f9b(0x520),'name':_0x490f9b(0x602)},{'category':_0x490f9b(0x762),'name':'อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก'},{'category':'ตรีโกณมิติ','name':'มุมพิเศษ\x2030°-60°-90°'},{'category':'ตรีโกณมิติ','name':_0x490f9b(0x741)},{'category':_0x490f9b(0x762),'name':_0x490f9b(0x296)},{'category':_0x490f9b(0x762),'name':_0x490f9b(0x68c)},{'category':_0x490f9b(0x762),'name':'กฎของโคไซน์'},{'category':_0x490f9b(0x762),'name':'อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)'},{'category':'ตรีโกณมิติ','name':_0x490f9b(0x202)},{'category':_0x490f9b(0x762),'name':'สมการตรีโกณมิติ'},{'category':_0x490f9b(0x762),'name':_0x490f9b(0x3c2)},{'category':_0x490f9b(0x762),'name':_0x490f9b(0x438)},{'category':_0x490f9b(0x2db),'name':_0x490f9b(0x759)},{'category':_0x490f9b(0x2db),'name':'การจัดกลุ่มข้อมูล'},{'category':_0x490f9b(0x2db),'name':_0x490f9b(0x3b0)},{'category':_0x490f9b(0x2db),'name':_0x490f9b(0x400)},{'category':_0x490f9b(0x2db),'name':_0x490f9b(0x3e6)},{'category':_0x490f9b(0x2db),'name':_0x490f9b(0x120)},{'category':'สถิติและความน่าจะเป็น','name':'ค่าเฉลี่ย'},{'category':_0x490f9b(0x2db),'name':_0x490f9b(0x480)},{'category':_0x490f9b(0x2db),'name':_0x490f9b(0x6c0)},{'category':_0x490f9b(0x2db),'name':'พิสัย'},{'category':'สถิติและความน่าจะเป็น','name':_0x490f9b(0x17c)},{'category':'สถิติและความน่าจะเป็น','name':_0x490f9b(0x713)},{'category':'สถิติและความน่าจะเป็น','name':_0x490f9b(0x2dd)},{'category':_0x490f9b(0x2db),'name':_0x490f9b(0x4a1)},{'category':_0x490f9b(0x2db),'name':'สหสัมพันธ์และเส้นถดถอยเชิงเส้น'},{'category':_0x490f9b(0x2db),'name':_0x490f9b(0x2e4)},{'category':_0x490f9b(0x2db),'name':'กฎบวกและกฎคูณ'},{'category':'สถิติและความน่าจะเป็น','name':_0x490f9b(0x19c)},{'category':_0x490f9b(0x2db),'name':_0x490f9b(0x592)},{'category':'สถิติและความน่าจะเป็น','name':_0x490f9b(0x5e2)},{'category':_0x490f9b(0x2db),'name':'การเรียงสับเปลี่ยน\x20(Permutation)'},{'category':'สถิติและความน่าจะเป็น','name':'การจัดหมู่\x20(Combination)'},{'category':'สถิติและความน่าจะเป็น','name':_0x490f9b(0x653)},{'category':_0x490f9b(0x2db),'name':_0x490f9b(0x4e1)},{'category':'แคลคูลัสเบื้องต้น','name':_0x490f9b(0x66a)},{'category':_0x490f9b(0x359),'name':_0x490f9b(0x53f)},{'category':_0x490f9b(0x359),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0x490f9b(0x359),'name':'อนุพันธ์:\x20กฎลูกโซ่'},{'category':_0x490f9b(0x359),'name':_0x490f9b(0x554)},{'category':_0x490f9b(0x359),'name':_0x490f9b(0x584)},{'category':_0x490f9b(0x359),'name':_0x490f9b(0x33b)},{'category':_0x490f9b(0x359),'name':_0x490f9b(0x24a)},{'category':_0x490f9b(0x359),'name':_0x490f9b(0x385)},{'category':'แคลคูลัสเบื้องต้น','name':_0x490f9b(0x753)},{'category':_0x490f9b(0x359),'name':'ปริพันธ์จำกัด'},{'category':_0x490f9b(0x359),'name':_0x490f9b(0x746)},{'category':_0x490f9b(0x359),'name':_0x490f9b(0x6db)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x490f9b(0x660)},{'category':_0x490f9b(0x736),'name':'ดอทโปรดักต์\x20(dot)'},{'category':_0x490f9b(0x736),'name':'การประยุกต์เวกเตอร์พื้นฐาน'},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x490f9b(0x322)},{'category':_0x490f9b(0x736),'name':'อินเวอร์สของเมทริกซ์'},{'category':_0x490f9b(0x736),'name':_0x490f9b(0x112)},{'category':_0x490f9b(0x736),'name':_0x490f9b(0x4c6)},{'category':_0x490f9b(0x3ad),'name':_0x490f9b(0x7ba)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x490f9b(0x437)},{'category':_0x490f9b(0x3ad),'name':_0x490f9b(0x6ca)},{'category':_0x490f9b(0x3ad),'name':_0x490f9b(0x273)},{'category':_0x490f9b(0x3ad),'name':_0x490f9b(0x6c6)},{'category':_0x490f9b(0x700),'name':_0x490f9b(0x1e4)},{'category':_0x490f9b(0x700),'name':_0x490f9b(0x614)},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':'พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)'}];function renderTopicCheckboxes(){const _0x4bd146=_0x490f9b,_0x5bf6cf=document[_0x4bd146(0x18e)](_0x4bd146(0x485));if(!_0x5bf6cf)return;const _0x45b992=allMathTopics,_0x27f912=customMathTopics[_0x4bd146(0x6f5)](_0x29e551=>({'id':_0x29e551['id'],'category':_0x4bd146(0x4a8),'name':_0x29e551[_0x4bd146(0x271)]})),_0x379f2e=[..._0x45b992,..._0x27f912],_0x110ff5=_0x379f2e[_0x4bd146(0x7a1)]((_0x3d959e,_0x5b30fe)=>{const _0xea9472=_0x4bd146;return!_0x3d959e[_0x5b30fe[_0xea9472(0x7ac)]]&&(_0x3d959e[_0x5b30fe[_0xea9472(0x7ac)]]=[]),_0x3d959e[_0x5b30fe['category']][_0xea9472(0x21a)](_0x5b30fe),_0x3d959e;},{});let _0x59ccd2='';const _0x308c0d=[_0x4bd146(0x4a8),...Object[_0x4bd146(0x659)](_0x110ff5)[_0x4bd146(0x758)](_0x3677b3=>_0x3677b3!==_0x4bd146(0x4a8))];for(const _0x5d03e2 of _0x308c0d){if(_0x110ff5[_0x5d03e2]){const _0x1fbbbe=_0x5d03e2===_0x4bd146(0x4a8),_0x19f710=_0x1fbbbe?_0x4bd146(0x43d):_0x4bd146(0x39e),_0x56d44f=_0x1fbbbe?'text-blue-700':_0x4bd146(0x5f3);_0x59ccd2+=_0x4bd146(0x532),_0x59ccd2+=_0x4bd146(0x37c)+_0x56d44f+_0x4bd146(0x781)+_0x19f710+_0x4bd146(0x78d)+_0x5d03e2+_0x4bd146(0x1ba),_0x110ff5[_0x5d03e2][_0x4bd146(0x13c)](_0x118f48=>{const _0x3efdfc=_0x4bd146,_0x55beac=!!_0x118f48['id'],_0x27af2c=_0x55beac?_0x3efdfc(0x245)+_0x118f48['id']+_0x3efdfc(0x214)+_0x118f48['id']+_0x3efdfc(0x269)+_0x118f48['id']+_0x3efdfc(0x678)+_0x118f48['id']+_0x3efdfc(0x652):'';_0x59ccd2+=_0x3efdfc(0x23a)+(_0x118f48['id']||'')+_0x3efdfc(0x6b8)+_0x118f48['name']+_0x3efdfc(0x6c4)+_0x118f48[_0x3efdfc(0x271)]+_0x3efdfc(0x654)+(_0x55beac?_0x3efdfc(0x706)+_0x118f48[_0x3efdfc(0x271)]+'\x22>':'')+_0x3efdfc(0x384)+_0x27af2c+_0x3efdfc(0x4c9);}),_0x59ccd2+='</div>';}}_0x5bf6cf[_0x4bd146(0x612)]=_0x59ccd2||'<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>',_0x5bf6cf[_0x4bd146(0x401)](_0x4bd146(0x52b),updateSelectedTopicsCount),_0x5bf6cf['addEventListener']('change',updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x3595be,_0x302725){const _0x239fce=_0x490f9b;if(!_0x3595be||!_0x302725[_0x239fce(0x686)]()){showMessage(_0x239fce(0x24d));return;}try{const _0x2cec41=doc(db,_0x239fce(0x199)+appId+_0x239fce(0x47c),_0x3595be);await updateDoc(_0x2cec41,{'name':_0x302725[_0x239fce(0x686)]()}),showMessage(_0x239fce(0x4ce));}catch(_0x429c84){console[_0x239fce(0x71c)](_0x239fce(0x3fa),_0x429c84),showMessage('เกิดข้อผิดพลาดในการแก้ไขหัวข้อ');}}function toggleTopicEditMode(_0x56c4a7,_0x29f3b3){const _0x3179ab=_0x490f9b;if(!_0x56c4a7)return;const _0x2e54a3=_0x56c4a7[_0x3179ab(0x2f1)](_0x3179ab(0x697)),_0x51a8e5=_0x56c4a7['querySelector'](_0x3179ab(0x5f1)),_0x2464c5=_0x56c4a7[_0x3179ab(0x2f1)](_0x3179ab(0x368)),_0x3b9f97=_0x56c4a7[_0x3179ab(0x2f1)]('.topic-actions-edit');_0x2e54a3[_0x3179ab(0x367)][_0x3179ab(0x402)](_0x3179ab(0x410),_0x29f3b3),_0x51a8e5[_0x3179ab(0x367)][_0x3179ab(0x402)](_0x3179ab(0x410),!_0x29f3b3),_0x2464c5[_0x3179ab(0x367)][_0x3179ab(0x402)](_0x3179ab(0x410),_0x29f3b3),_0x3b9f97[_0x3179ab(0x367)]['toggle']('hidden',!_0x29f3b3),_0x29f3b3&&(_0x51a8e5[_0x3179ab(0x249)](),_0x51a8e5['select']());}function updateSelectedTopicsCount(){const _0x1a4b4d=_0x490f9b,_0x105678=document[_0x1a4b4d(0x18e)](_0x1a4b4d(0x485)),_0x3718f4=_0x105678[_0x1a4b4d(0x511)]('input[type=\x22checkbox\x22]:checked')[_0x1a4b4d(0x387)],_0x5bc3c3=document['getElementById'](_0x1a4b4d(0x75c));_0x3718f4>0x0?_0x5bc3c3['textContent']=_0x1a4b4d(0x14d)+_0x3718f4+_0x1a4b4d(0x427):_0x5bc3c3[_0x1a4b4d(0x473)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x490f9b(0x2c4),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x490f9b(0x5cb),quizLeaderboardSortOrder=_0x490f9b(0x11a),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':_0x490f9b(0x716),'name':_0x490f9b(0x729),'description':_0x490f9b(0x6b5),'icon':'fa-crown\x20text-yellow-500'},'QUICK_THINKER':{'id':_0x490f9b(0x488),'name':_0x490f9b(0x2cf),'description':_0x490f9b(0x482),'icon':_0x490f9b(0x49f)},'ON_FIRE':{'id':_0x490f9b(0x5db),'name':_0x490f9b(0x174),'description':_0x490f9b(0x1c5),'icon':_0x490f9b(0x424)},'FIRST_TRY_ACE':{'id':'first_try_ace','name':_0x490f9b(0x44a),'description':_0x490f9b(0x31b),'icon':_0x490f9b(0x3c9)},'COMEBACK_KING':{'id':'comeback_king','name':_0x490f9b(0x668),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':_0x490f9b(0x36d)},'SPECIALIST':{'id':_0x490f9b(0x639),'name':_0x490f9b(0x4b8),'description':_0x490f9b(0x73e),'icon':_0x490f9b(0x469)},'PERSEVERANCE':{'id':_0x490f9b(0x462),'name':_0x490f9b(0x44e),'description':_0x490f9b(0x26e),'icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0x490f9b(0x62d),'authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':'ai-quiz-app-aefee','storageBucket':'ai-quiz-app-aefee.appspot.com','messagingSenderId':'274192258111','appId':_0x490f9b(0x1d9),'measurementId':'G-V90KRM0L63'},appId=typeof __app_id!=='undefined'?__app_id:_0x490f9b(0x17f),adminView=document[_0x490f9b(0x18e)](_0x490f9b(0x484)),studentView=document['getElementById']('student-view'),projectDashboardView=document[_0x490f9b(0x18e)](_0x490f9b(0x4af)),projectDetailView=document['getElementById'](_0x490f9b(0x2da)),quizResultsView=document[_0x490f9b(0x18e)](_0x490f9b(0x3c6)),projectList=document[_0x490f9b(0x18e)](_0x490f9b(0x4e3)),noProjectsMsg=document[_0x490f9b(0x18e)](_0x490f9b(0x791)),projectTitle=document[_0x490f9b(0x18e)](_0x490f9b(0x461)),projectIdDisplay=document['getElementById']('project-id-display'),studentList=document[_0x490f9b(0x18e)](_0x490f9b(0x2ae)),messageModal=document['getElementById']('message-modal'),modalMessage=document['getElementById'](_0x490f9b(0x1fc)),createProjectModal=document[_0x490f9b(0x18e)](_0x490f9b(0x6e7)),adminPasswordModal=document[_0x490f9b(0x18e)](_0x490f9b(0x4ad)),confirmationModal=document['getElementById'](_0x490f9b(0x432)),userIdDisplay=document[_0x490f9b(0x18e)](_0x490f9b(0x2e3)),topicTab=document[_0x490f9b(0x18e)](_0x490f9b(0x144)),textTab=document[_0x490f9b(0x18e)]('text-tab'),topicInputArea=document[_0x490f9b(0x18e)](_0x490f9b(0x205)),textInputArea=document[_0x490f9b(0x18e)]('text-input-area'),manageTab=document[_0x490f9b(0x18e)](_0x490f9b(0x7a5)),resultsTab=document[_0x490f9b(0x18e)](_0x490f9b(0x390)),leaderboardTab=document[_0x490f9b(0x18e)](_0x490f9b(0x14e)),manageTabContent=document[_0x490f9b(0x18e)]('manage-tab-content'),resultsTabContent=document['getElementById']('results-tab-content'),leaderboardTabContent=document[_0x490f9b(0x18e)](_0x490f9b(0x65e)),projectQuizzesList=document[_0x490f9b(0x18e)](_0x490f9b(0x20d)),fileTab=document['getElementById']('file-tab'),fileInputArea=document[_0x490f9b(0x18e)]('file-input-area'),fileUploadInput=document['getElementById'](_0x490f9b(0x230)),worksheetTab=document['getElementById'](_0x490f9b(0x3b5)),worksheetInputArea=document[_0x490f9b(0x18e)](_0x490f9b(0x767)),generateWorksheetBtn=document[_0x490f9b(0x18e)]('generate-worksheet-btn'),studentInitialView=document[_0x490f9b(0x18e)]('student-initial-view'),studentNameSelectionView=document[_0x490f9b(0x18e)](_0x490f9b(0x3cb)),studentQuizArea=document[_0x490f9b(0x18e)](_0x490f9b(0x378)),studentResultArea=document[_0x490f9b(0x18e)](_0x490f9b(0x3ba)),studentReadingArea=document[_0x490f9b(0x18e)]('student-reading-area'),loadQuizBtn=document[_0x490f9b(0x18e)](_0x490f9b(0x3cc)),startQuizBtn=document[_0x490f9b(0x18e)](_0x490f9b(0x127)),studentJoinGameView=document[_0x490f9b(0x18e)](_0x490f9b(0x1db)),presentationModal=document[_0x490f9b(0x18e)](_0x490f9b(0x5ac)),renameQuizModal=document[_0x490f9b(0x18e)](_0x490f9b(0x74c)),moveQuizModal=document[_0x490f9b(0x18e)](_0x490f9b(0x4eb)),quizSettingsModal=document[_0x490f9b(0x18e)](_0x490f9b(0x49a)),quizStatusModal=document['getElementById'](_0x490f9b(0x2f4)),liveGameView=document[_0x490f9b(0x18e)](_0x490f9b(0x747));function handleAutoFixLatex(){const _0x43d668=_0x490f9b,_0x5bf3c7=document[_0x43d668(0x18e)](_0x43d668(0x34f))||document,_0x231dcd=_0x5bf3c7['querySelectorAll']([_0x43d668(0x4e7),_0x43d668(0x16b),_0x43d668(0x651),'[role=\x22textbox\x22]',_0x43d668(0x2a1),_0x43d668(0x475),_0x43d668(0x647),_0x43d668(0x599),_0x43d668(0x629)][_0x43d668(0x48a)](','));let _0x545392=0x0;const _0x5f2224=_0x5a474f=>_0x43d668(0x588)in _0x5a474f?String(_0x5a474f[_0x43d668(0x588)]):_0x5a474f[_0x43d668(0x383)]!==undefined?_0x5a474f[_0x43d668(0x383)]:_0x5a474f[_0x43d668(0x473)]||'',_0x3b41ee=(_0x3b3794,_0x31f9b5)=>{const _0xe7dab3=_0x43d668;if('value'in _0x3b3794){_0x3b3794['value']=_0x31f9b5;return;}if(_0x3b3794['querySelector']&&_0x3b3794['querySelector'](_0xe7dab3(0x217)))return;if(_0x3b3794[_0xe7dab3(0x383)]!==undefined)_0x3b3794[_0xe7dab3(0x383)]=_0x31f9b5;else _0x3b3794[_0xe7dab3(0x473)]=_0x31f9b5;},_0x19297b=_0x59fad4=>_0x59fad4[_0x43d668(0x2bf)](/\u00A0/g,'\x20')[_0x43d668(0x2bf)](/\u200B/g,'')[_0x43d668(0x2bf)](/\r\n?/g,'\x0a'),_0x120ff6=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x5de9a3=_0x5b68b8=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/[_0x43d668(0x49c)](_0x5b68b8),_0x40ff4d=_0x96f6d6=>{const _0x11d65f=_0x43d668,_0x143189=(_0x96f6d6[_0x11d65f(0x346)](/\{/g)||[])[_0x11d65f(0x387)],_0x580843=(_0x96f6d6[_0x11d65f(0x346)](/\}/g)||[])[_0x11d65f(0x387)];if(_0x143189>_0x580843)_0x96f6d6=_0x96f6d6+'}'[_0x11d65f(0x5e1)](_0x143189-_0x580843);return _0x96f6d6;},_0xd4eebd=_0x5a4010=>{const _0x5b89a0=_0x43d668;let _0x1ffd5f=_0x5a4010['trim']();const _0x49d63e=[_0x5b89a0(0x600),'dfrac',_0x5b89a0(0x6af),_0x5b89a0(0x6b9),'text',_0x5b89a0(0x125),_0x5b89a0(0x26d),_0x5b89a0(0x5d9),_0x5b89a0(0x1b5),'geq','le','ge',_0x5b89a0(0x47d),'pm','approx',_0x5b89a0(0x2b9),'cos',_0x5b89a0(0x31f),_0x5b89a0(0x6e4),'ln','sum',_0x5b89a0(0x5c2),_0x5b89a0(0x35e),_0x5b89a0(0x2d3),_0x5b89a0(0x41f),_0x5b89a0(0x3f3),_0x5b89a0(0x11c),_0x5b89a0(0x5fb),_0x5b89a0(0x76d)];_0x1ffd5f=_0x1ffd5f[_0x5b89a0(0x2bf)](new RegExp(_0x5b89a0(0x657)+_0x49d63e[_0x5b89a0(0x48a)]('|')+_0x5b89a0(0x58b),'g'),'\x5c'),_0x49d63e[_0x5b89a0(0x13c)](_0x12c5d3=>{const _0xabfb95=_0x5b89a0;_0x1ffd5f=_0x1ffd5f['replace'](new RegExp(_0xabfb95(0x261)+_0x12c5d3+'\x5cb','g'),(_0x3a29c3,_0x29fc23)=>_0x29fc23+'\x5c'+_0x12c5d3);});const _0x277adb=[[/×/g,'\x5ctimes'],[/·/g,_0x5b89a0(0x6d8)],[/÷/g,_0x5b89a0(0x7a7)],[/≤/g,_0x5b89a0(0x380)],[/≥/g,_0x5b89a0(0x446)],[/≠/g,_0x5b89a0(0x260)],[/±/g,_0x5b89a0(0x5d5)],[/∑/g,_0x5b89a0(0x608)],[/−/g,'-']];_0x277adb[_0x5b89a0(0x13c)](([_0x1d3fea,_0x39f90e])=>{const _0x3a0010=_0x5b89a0;_0x1ffd5f=_0x1ffd5f[_0x3a0010(0x2bf)](_0x1d3fea,_0x39f90e);}),_0x1ffd5f=_0x1ffd5f[_0x5b89a0(0x2bf)](/√\s*\(([^)]*)\)/g,_0x5b89a0(0x406)),_0x1ffd5f=_0x1ffd5f[_0x5b89a0(0x2bf)](/√\s*([A-Za-z0-9]+)/g,_0x5b89a0(0x406)),_0x1ffd5f=_0x1ffd5f[_0x5b89a0(0x2bf)](/(^|[^\\])\bimes\b/g,'$1\x5ctimes')[_0x5b89a0(0x2bf)](/(^|[^\\])\b(?:rac|\/frac)\b/g,'$1\x5cfrac')['replace'](/(^|[^\\])ext\{/g,_0x5b89a0(0x617))[_0x5b89a0(0x2bf)](/(^|[^\\])ext\(/g,_0x5b89a0(0x1aa))[_0x5b89a0(0x2bf)](/\\text\(([^)]*)\)/g,_0x5b89a0(0x3d9))[_0x5b89a0(0x2bf)](/\s\\frac/g,_0x5b89a0(0x6da)),_0x1ffd5f=_0x1ffd5f[_0x5b89a0(0x2bf)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x16f17e,_0x34f5d3,_0x50200b,_0x4eeef6)=>_0x34f5d3+'\x5cfrac{'+_0x50200b+'}{'+_0x4eeef6+'}'),_0x1ffd5f=_0x1ffd5f[_0x5b89a0(0x2bf)](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,'\x5cfrac{$1}{$2}')[_0x5b89a0(0x2bf)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x5b89a0(0x50c))['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x5b89a0(0x50c)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x5b89a0(0x5a0)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x5b89a0(0x5a0)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x5b89a0(0x5a0)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x5b89a0(0x5a0)],[/(\d+)\s*\^\s*\\?circ\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*°\s*C/g,'$1^{\x5ccirc}\x5ctext{C}'],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x5b89a0(0x5b3)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,'$1^{\x5ccirc}\x5ctext{C}']][_0x5b89a0(0x13c)](([_0x4ac960,_0x51748d])=>{const _0x4dc6a5=_0x5b89a0;_0x1ffd5f=_0x1ffd5f[_0x4dc6a5(0x2bf)](_0x4ac960,_0x51748d);}),_0x1ffd5f=_0x1ffd5f[_0x5b89a0(0x2bf)](/(\d+)\s*%/g,_0x5b89a0(0x643)),_0x1ffd5f=_0x1ffd5f[_0x5b89a0(0x2bf)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x5b89a0(0x481))[_0x5b89a0(0x2bf)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x5b89a0(0x60f))['replace'](/\{\{([^\{\}]+)\}\}/g,'{$1}'),[_0x5b89a0(0x2b9),'cos','tan',_0x5b89a0(0x6e4),'ln'][_0x5b89a0(0x13c)](_0x4197bf=>{const _0x450bc9=_0x5b89a0;_0x1ffd5f=_0x1ffd5f['replace'](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x4197bf+_0x450bc9(0x310),'g'),(_0x209221,_0x1eb228)=>_0x1eb228+'\x5c'+_0x4197bf+'(');});const _0x3a655e=(_0x1ffd5f['match'](/\\left\b/g)||[])['length'],_0x1382de=(_0x1ffd5f['match'](/\\right\b/g)||[])[_0x5b89a0(0x387)];if(_0x3a655e!==_0x1382de)_0x1ffd5f=_0x1ffd5f[_0x5b89a0(0x2bf)](/\\left\b/g,'')[_0x5b89a0(0x2bf)](/\\right\b/g,'');return _0x1ffd5f=_0x40ff4d(_0x1ffd5f),_0x1ffd5f;},_0x38ff47=_0x2b3f12=>{const _0x1a4cd2=_0x43d668;if(/\$|\\\(|\\\[/[_0x1a4cd2(0x49c)](_0x2b3f12))return _0x2b3f12;if(!_0x120ff6[_0x1a4cd2(0x49c)](_0x2b3f12))return _0x2b3f12;const _0x52766b=_0x2b3f12[_0x1a4cd2(0x346)](/^\s*/)[0x0],_0x43eea9=_0x2b3f12[_0x1a4cd2(0x346)](/\s*$/)[0x0],_0x47280f=_0x2b3f12[_0x1a4cd2(0x686)]();return _0x52766b+'$'+_0xd4eebd(_0x47280f)+'$'+_0x43eea9;},_0x4fc18c=_0x329938=>_0x329938[_0x43d668(0x3ef)](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x231dcd[_0x43d668(0x13c)](_0x5573ca=>{const _0x225437=_0x43d668;if(_0x5573ca[_0x225437(0x2f1)]&&_0x5573ca[_0x225437(0x2f1)](_0x225437(0x217)))return;const _0xa2a5d3=_0x5f2224(_0x5573ca);let _0xd3479f=_0x19297b(_0xa2a5d3);_0xd3479f=_0xd3479f[_0x225437(0x2bf)](/\$\$([\s\S]*?)\$\$/g,(_0x2f2d1d,_0x3332e9)=>'$$'+_0xd4eebd(_0x3332e9)+'$$')[_0x225437(0x2bf)](/\$([^$]*?)\$/g,(_0x111c6d,_0x4a2422)=>'$'+_0xd4eebd(_0x4a2422)+'$')[_0x225437(0x2bf)](/\\\(([\s\S]*?)\\\)/g,(_0x1bc615,_0x5443da)=>'\x5c('+_0xd4eebd(_0x5443da)+'\x5c)')['replace'](/\\\[([\s\S]*?)\\\]/g,(_0x5c23ac,_0x4355de)=>'\x5c['+_0xd4eebd(_0x4355de)+'\x5c]');let _0xa5fadf=_0xd3479f,_0x2b5908=0x0;const _0x3cea34=_0xae6be4=>_0xae6be4['replace'](/S([^S]{0,2000}?)S/g,(_0x5c8dff,_0x3e7fc3)=>_0x120ff6[_0x225437(0x49c)](_0x3e7fc3)?'$'+_0xd4eebd(_0x3e7fc3)+'$':_0x5c8dff);while(_0x2b5908++<0x14){const _0xc6530e=_0x3cea34(_0xa5fadf);if(_0xc6530e===_0xa5fadf)break;_0xa5fadf=_0xc6530e;}_0xd3479f=_0xa5fadf,_0xd3479f=_0xd3479f[_0x225437(0x3ef)]('\x0a')['map'](_0x2152b2=>{const _0xb37b75=_0x225437;if(!(/[,\u3001，;；]/[_0xb37b75(0x49c)](_0x2152b2)||/\s(?:และ|หรือ)\s/[_0xb37b75(0x49c)](_0x2152b2))||!_0x120ff6[_0xb37b75(0x49c)](_0x2152b2))return _0x2152b2;return _0x4fc18c(_0x2152b2)[_0xb37b75(0x6f5)](_0x4d1406=>{const _0x3b58a5=_0xb37b75;if(/^\s(?:และ|หรือ)\s$/['test'](_0x4d1406)||/^[,\u3001，;；]$/[_0x3b58a5(0x49c)](_0x4d1406))return _0x4d1406;return _0x38ff47(_0x4d1406);})[_0xb37b75(0x48a)]('');})[_0x225437(0x48a)]('\x0a'),_0xd3479f=_0xd3479f[_0x225437(0x3ef)]('\x0a')[_0x225437(0x6f5)](_0x1d2069=>{const _0x4b3308=_0x225437,_0x3da6e8=_0x1d2069['trim']();if(!_0x3da6e8)return _0x1d2069;const _0xfcf8a9=/\$|\\\(|\\\[/[_0x4b3308(0x49c)](_0x3da6e8),_0xf3de5=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x4b3308(0x49c)](_0x3da6e8);if(_0xfcf8a9||!_0xf3de5||_0x5de9a3(_0x3da6e8))return _0x1d2069;return _0x1d2069['replace'](_0x3da6e8,'$'+_0xd4eebd(_0x3da6e8)+'$');})[_0x225437(0x48a)]('\x0a'),_0xd3479f=_0xd3479f[_0x225437(0x2bf)](/(\d+)\s*°\s*C\b/g,(_0x2c454d,_0x23b605,_0x1d05b5,_0x2da2ad)=>{const _0x5907f5=_0x225437,_0xf59718=_0x2da2ad[_0x1d05b5-0x1];if(_0xf59718==='$'||_0xf59718==='S'||_0xf59718==='\x5c')return _0x2c454d;return'$'+_0x23b605+_0x5907f5(0x344);})['replace'](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x5ae107,_0x288f9a,_0x3f6cef,_0x19c736)=>{const _0x5f0d22=_0x19c736[_0x3f6cef-0x1];if(_0x5f0d22==='$'||_0x5f0d22==='S'||_0x5f0d22==='\x5c')return _0x5ae107;return'$'+_0x288f9a+'^{\x5ccirc}\x5ctext{C}$';})[_0x225437(0x2bf)](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x12974c,_0x3fff9d,_0x141bbf,_0x3b5120)=>{const _0x463d4b=_0x225437,_0x3afecc=_0x3b5120[_0x141bbf-0x1];if(_0x3afecc==='$'||_0x3afecc==='S'||_0x3afecc==='\x5c')return _0x12974c;return'$'+_0x3fff9d+_0x463d4b(0x344);}),_0xd3479f=_0xd3479f[_0x225437(0x2bf)](/\$\s*\$/g,'$$'),_0xd3479f!==_0xa2a5d3&&(_0x3b41ee(_0x5573ca,_0xd3479f),_0x545392++);});if(_0x545392>0x0){showMessage(_0x43d668(0x78e)+_0x545392+_0x43d668(0x6de));try{if(window[_0x43d668(0x27b)]&&MathJax[_0x43d668(0x478)])MathJax[_0x43d668(0x478)]();window['katex']&&typeof renderMathInElement===_0x43d668(0x415)&&renderMathInElement(_0x5bf3c7,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x390fdb){}}else showMessage(_0x43d668(0x6f2));}async function listenForCustomMathTopics(){const _0xb2fcc4=_0x490f9b,_0x941e89=collection(db,_0xb2fcc4(0x199)+appId+_0xb2fcc4(0x47c));onSnapshot(_0x941e89,_0x5c6401=>{const _0xc676dc=_0xb2fcc4;customMathTopics=_0x5c6401['docs']['map'](_0x4f960c=>({'id':_0x4f960c['id'],..._0x4f960c[_0xc676dc(0x46b)]()})),renderTopicCheckboxes();},_0x231751=>{const _0x288681=_0xb2fcc4;console['error'](_0x288681(0x675),_0x231751);});}function handleSelectAllTopics(){const _0x52d964=_0x490f9b,_0xab221e=document['getElementById']('math-topics-checkbox-container'),_0x53eb42=_0xab221e[_0x52d964(0x511)](_0x52d964(0x667));_0x53eb42['forEach'](_0x4bdd8b=>{const _0x5e951f=_0x52d964;_0x4bdd8b[_0x5e951f(0x333)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x52dded=_0x490f9b,_0x6d785b=document['getElementById'](_0x52dded(0x485)),_0x394be4=_0x6d785b[_0x52dded(0x511)](_0x52dded(0x667));_0x394be4['forEach'](_0x2d18b3=>{_0x2d18b3['checked']=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x3ef3fd){const _0x271ab3=_0x490f9b;if(!_0x3ef3fd)return;try{const _0x4caa9f=doc(db,_0x271ab3(0x199)+appId+_0x271ab3(0x47c),_0x3ef3fd);await deleteDoc(_0x4caa9f),showMessage(_0x271ab3(0x138));}catch(_0x38d242){console['error'](_0x271ab3(0x137),_0x38d242),showMessage(_0x271ab3(0x5d4));}}async function handleAddCustomMathTopic(){const _0x3fb453=_0x490f9b,_0x3fd64d=document[_0x3fb453(0x18e)](_0x3fb453(0x347)),_0x297a3a=_0x3fd64d[_0x3fb453(0x588)][_0x3fb453(0x686)]();if(!_0x297a3a){showMessage(_0x3fb453(0x392));return;}if(!userId){showMessage(_0x3fb453(0x707));return;}try{const _0x4f7a9a=collection(db,'artifacts/'+appId+_0x3fb453(0x47c));await addDoc(_0x4f7a9a,{'name':_0x297a3a,'createdAt':serverTimestamp()}),_0x3fd64d['value']='',showMessage(_0x3fb453(0x3a6)+_0x297a3a+_0x3fb453(0x3f7));}catch(_0x35b935){console[_0x3fb453(0x71c)](_0x3fb453(0x512),_0x35b935),showMessage(_0x3fb453(0x51c));}}async function initialize(){const _0x3e0ae4=_0x490f9b;try{const _0x314698=initializeApp(firebaseConfig);db=getFirestore(_0x314698),auth=getAuth(_0x314698),setupAuthListener(),setupEventListeners(),showView(_0x3e0ae4(0x2c4)),renderTopicCheckboxes();}catch(_0x536bae){console[_0x3e0ae4(0x71c)](_0x3e0ae4(0x545),_0x536bae),showMessage(_0x3e0ae4(0x28c));}}function compareNumericalAnswers(_0x8bc029,_0x7ee60d){const _0x978385=_0x490f9b,_0x3e7a4c=String(_0x8bc029)[_0x978385(0x2bf)](',','.')[_0x978385(0x2bf)](/[^\d.-]/g,'')['trim'](),_0x5294d1=String(_0x7ee60d)[_0x978385(0x2bf)](',','.')[_0x978385(0x2bf)](/[^\d.-]/g,'')[_0x978385(0x686)]();if(_0x3e7a4c===''||_0x5294d1==='')return![];const _0x18c7f1=parseFloat(_0x3e7a4c),_0x1fe58f=parseFloat(_0x5294d1);if(isNaN(_0x18c7f1)||isNaN(_0x1fe58f))return![];return Math[_0x978385(0x448)](_0x18c7f1-_0x1fe58f)<0.001;}async function gradeShortAnswer(_0x35df09,_0x22d1df){const _0x41febd=_0x490f9b,_0x376054=_0x22d1df['idealAnswer'];if(String(_0x35df09)['trim']()[_0x41febd(0x682)]()===String(_0x376054)[_0x41febd(0x686)]()[_0x41febd(0x682)]())return!![];if(compareNumericalAnswers(_0x35df09,_0x376054))return!![];return console[_0x41febd(0x6e4)](_0x41febd(0x624)),await gradeShortAnswerWithAI(_0x35df09,_0x376054);}async function revealAnswerForAdmin(_0x40c2d4,_0x4b90b1){const _0x16a409=_0x490f9b;if(document['getElementById'](_0x16a409(0x6a9)))return;const _0x5203f7=doc(db,_0x16a409(0x199)+appId+_0x16a409(0x582),currentLiveGameId);await updateDoc(_0x5203f7,{'questionStatus':_0x16a409(0x1fb)});const _0x407ee9=liveGameView[_0x16a409(0x2f1)](_0x16a409(0x5b6));_0x407ee9&&(_0x407ee9[_0x16a409(0x367)][_0x16a409(0x33f)]('bg-white/30'),_0x407ee9['classList'][_0x16a409(0x529)]('bg-green-300',_0x16a409(0x11e),_0x16a409(0x307),_0x16a409(0x507),'border-green-500'),_0x407ee9[_0x16a409(0x612)]='<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>'+_0x407ee9[_0x16a409(0x612)]);const _0x26d8b8=document[_0x16a409(0x18e)](_0x16a409(0x1d0));_0x26d8b8&&(_0x26d8b8['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x40c2d4+0x1===_0x4b90b1?'ดูสรุปผล':_0x16a409(0x25f))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x16a409(0x18e)](_0x16a409(0x6a9))[_0x16a409(0x41a)](_0x16a409(0x2cb),async()=>{const _0x366d3b=_0x16a409,_0x5a3173=doc(db,_0x366d3b(0x199)+appId+'/public/data/liveGames',currentLiveGameId),_0xda9975=await getDoc(_0x5a3173);if(!_0xda9975[_0x366d3b(0x590)]())return;const _0x11a67a=_0xda9975[_0x366d3b(0x46b)](),_0x3c8fc9={};if(_0x11a67a[_0x366d3b(0x436)])for(const _0x50cf48 in _0x11a67a[_0x366d3b(0x436)]){_0x3c8fc9['players.'+_0x50cf48+_0x366d3b(0x530)]=![];}const _0x3068c2=_0x40c2d4+0x1;_0x3068c2<_0x4b90b1?(_0x3c8fc9['currentQuestionIndex']=_0x3068c2,_0x3c8fc9[_0x366d3b(0x349)]=serverTimestamp(),_0x3c8fc9['questionStatus']=_0x366d3b(0x262),await updateDoc(_0x5a3173,_0x3c8fc9)):await updateDoc(_0x5a3173,{'status':_0x366d3b(0x232)});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x1a14b2=>{const _0x54e960=_0x27c3;if(_0x1a14b2){userId=_0x1a14b2[_0x54e960(0x754)],userIdDisplay[_0x54e960(0x473)]=userId;if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}function showPodiumView(_0x204ff3){const _0x37ef0e=_0x490f9b,_0x1ca450=Object[_0x37ef0e(0x4be)](_0x204ff3)[_0x37ef0e(0x6f5)](([_0x2ecd1b,_0x3ec65c])=>({'name':_0x2ecd1b,'score':_0x3ec65c['score']||0x0,'badges':_0x3ec65c[_0x37ef0e(0x3b8)]||[]}));_0x1ca450[_0x37ef0e(0x54b)]((_0x1a459b,_0x926e5)=>{const _0x546977=_0x37ef0e,_0x45d61b=_0x926e5[_0x546977(0x317)]-_0x1a459b[_0x546977(0x317)];if(_0x45d61b!==0x0)return _0x45d61b;return(_0x926e5['badges'][_0x546977(0x387)]||0x0)-(_0x1a459b[_0x546977(0x3b8)][_0x546977(0x387)]||0x0);});const _0x58fcf8=_0x52124e=>{const _0x18bcc8=_0x37ef0e;if(!_0x52124e||_0x52124e[_0x18bcc8(0x387)]===0x0)return'';const _0x7259d0={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x18bcc8(0x46a)+_0x52124e[_0x18bcc8(0x6f5)](_0x3a39e5=>_0x7259d0[_0x3a39e5]||'')[_0x18bcc8(0x48a)]('')+_0x18bcc8(0x702);},_0xb70c87=_0x1ca450['slice'](0x3),_0x155ed5=_0xb70c87['length']>0x0?_0x37ef0e(0x253)+_0xb70c87[_0x37ef0e(0x6f5)]((_0xa36fe,_0x91403f)=>_0x37ef0e(0x26a)+(_0x91403f+0x4)+'.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0xa36fe[_0x37ef0e(0x271)]+_0x37ef0e(0x48e)+_0xa36fe[_0x37ef0e(0x317)]+_0x37ef0e(0x17a))[_0x37ef0e(0x48a)]('')+_0x37ef0e(0x32a):'',_0x29bdb8=_0x37ef0e(0x423)+(_0x1ca450[0x1]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>'+_0x1ca450[0x1][_0x37ef0e(0x271)]+_0x37ef0e(0x680)+_0x58fcf8(_0x1ca450[0x1][_0x37ef0e(0x3b8)])+_0x37ef0e(0x4b3)+_0x1ca450[0x1]['score']+_0x37ef0e(0x305):_0x37ef0e(0x677))+_0x37ef0e(0x40a)+(_0x1ca450[0x0]?_0x37ef0e(0x42e)+_0x1ca450[0x0]['name']+_0x37ef0e(0x680)+_0x58fcf8(_0x1ca450[0x0][_0x37ef0e(0x3b8)])+_0x37ef0e(0x2dc)+_0x1ca450[0x0]['score']+_0x37ef0e(0x176):'<div\x20class=\x22flex-1\x22></div>')+_0x37ef0e(0x40a)+(_0x1ca450[0x2]?_0x37ef0e(0x2b8)+_0x1ca450[0x2][_0x37ef0e(0x271)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x58fcf8(_0x1ca450[0x2][_0x37ef0e(0x3b8)])+_0x37ef0e(0x4b3)+_0x1ca450[0x2][_0x37ef0e(0x317)]+_0x37ef0e(0x64a):_0x37ef0e(0x677))+_0x37ef0e(0x61b)+_0x155ed5+_0x37ef0e(0x2e2)+(currentMode===_0x37ef0e(0x74b)?_0x37ef0e(0x34c):_0x37ef0e(0x5b8))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';liveGameView[_0x37ef0e(0x612)]=_0x29bdb8,currentMode===_0x37ef0e(0x74b)&&document[_0x37ef0e(0x18e)](_0x37ef0e(0x203))['addEventListener'](_0x37ef0e(0x2cb),async()=>{const _0xe8ecb7=_0x37ef0e,_0x4bec2f=doc(db,_0xe8ecb7(0x199)+appId+_0xe8ecb7(0x582),currentLiveGameId);await deleteDoc(_0x4bec2f),showView(_0xe8ecb7(0x197));});}async function handleStartLiveRace(_0x4c812d){const _0x193b13=_0x490f9b;let _0x48dc7f=allQuizzes['find'](_0x8c496e=>_0x8c496e['id']===_0x4c812d);if(!_0x48dc7f){const _0x1176bc=doc(db,_0x193b13(0x199)+appId+_0x193b13(0x59e),_0x4c812d),_0x16463c=await getDoc(_0x1176bc);if(!_0x16463c[_0x193b13(0x590)]()){showMessage(_0x193b13(0x3fe));return;}_0x48dc7f={'id':_0x16463c['id'],..._0x16463c['data']()};}currentQuizData=getShuffledQuiz(_0x48dc7f);const _0x3ffb91=_0x48dc7f[_0x193b13(0x596)]||currentProjectId||null,_0x5c932d=Math[_0x193b13(0x1f3)](0x3e8+Math[_0x193b13(0x374)]()*0x2328)['toString']();currentLiveGamePin=_0x5c932d;try{const _0x21c484=await addDoc(collection(db,'artifacts/'+appId+'/public/data/liveGames'),{'quizId':_0x4c812d,'projectId':_0x3ffb91,'status':_0x193b13(0x1e5),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x5c932d,'createdAt':serverTimestamp()});currentLiveGameId=_0x21c484['id'],showAdminLobbyView(_0x5c932d,_0x48dc7f[_0x193b13(0x430)]),listenForLiveGameUpdates();}catch(_0x5bec4f){console['error']('Error\x20starting\x20live\x20race:',_0x5bec4f),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}async function handleShowStudentRankings(){const _0x38fa2b=_0x490f9b,_0x1c1bc2=document[_0x38fa2b(0x2f1)](_0x38fa2b(0x130));_0x1c1bc2&&(_0x1c1bc2[_0x38fa2b(0x612)]=_0x38fa2b(0x32b));const _0xe7c68d=document['querySelector'](_0x38fa2b(0x435));_0xe7c68d&&(_0xe7c68d[_0x38fa2b(0x612)]=_0x38fa2b(0x514));const _0x1eef9b=document[_0x38fa2b(0x18e)](_0x38fa2b(0x3bd));_0x1eef9b[_0x38fa2b(0x367)][_0x38fa2b(0x33f)](_0x38fa2b(0x410)),document[_0x38fa2b(0x18e)]('close-student-rankings-btn')[_0x38fa2b(0x79d)]=()=>_0x1eef9b[_0x38fa2b(0x367)][_0x38fa2b(0x529)](_0x38fa2b(0x410));const _0x46df87=document[_0x38fa2b(0x18e)]('student-quiz-leaderboard-tab'),_0x3071f8=document[_0x38fa2b(0x18e)](_0x38fa2b(0x241)),_0x2cb42f=document[_0x38fa2b(0x18e)]('student-quiz-leaderboard-content'),_0x36dcb7=document[_0x38fa2b(0x18e)](_0x38fa2b(0x3bc));_0x46df87[_0x38fa2b(0x79d)]=()=>{const _0x502b43=_0x38fa2b;_0x46df87['classList'][_0x502b43(0x529)](_0x502b43(0x66e)),_0x3071f8[_0x502b43(0x367)]['remove'](_0x502b43(0x66e)),_0x2cb42f[_0x502b43(0x367)][_0x502b43(0x33f)](_0x502b43(0x410)),_0x36dcb7['classList']['add'](_0x502b43(0x410));},_0x3071f8[_0x38fa2b(0x79d)]=()=>{const _0x6db9b2=_0x38fa2b;_0x3071f8['classList'][_0x6db9b2(0x529)](_0x6db9b2(0x66e)),_0x46df87['classList']['remove'](_0x6db9b2(0x66e)),_0x36dcb7[_0x6db9b2(0x367)]['remove']('hidden'),_0x2cb42f[_0x6db9b2(0x367)][_0x6db9b2(0x529)](_0x6db9b2(0x410));};try{const _0x526b95=collection(db,'artifacts/'+appId+_0x38fa2b(0x192)+currentQuizData['id']+_0x38fa2b(0x547)),_0x5f28bc=await getDocs(_0x526b95),_0x559b52=_0x5f28bc[_0x38fa2b(0x69e)][_0x38fa2b(0x6f5)](_0x15bf3b=>_0x15bf3b[_0x38fa2b(0x46b)]());renderQuizLeaderboard(_0x559b52,currentQuizData,_0x38fa2b(0x5b2));const _0x52e4cf=collection(db,_0x38fa2b(0x199)+appId+'/public/data/projects/'+currentQuizData[_0x38fa2b(0x596)]+_0x38fa2b(0x703)),_0x361875=await getDocs(_0x52e4cf),_0x2966bd=_0x361875[_0x38fa2b(0x69e)]['map'](_0x144eb4=>_0x144eb4[_0x38fa2b(0x46b)]());renderLeaderboard(_0x2966bd,_0x38fa2b(0x6f7));}catch(_0x429637){console['error'](_0x38fa2b(0x1d8),_0x429637),showMessage(_0x38fa2b(0x39c));}}async function handleSaveToBank(_0x2b21cc){const _0xa4f762=_0x490f9b,_0x2235ac=_0x2b21cc[_0xa4f762(0x301)],_0x540bcd=_0x2235ac[_0xa4f762(0x5b0)][_0xa4f762(0x641)],_0x489e9d=currentQuizData[_0xa4f762(0x366)][_0x540bcd];if(!userId){showMessage(_0xa4f762(0x3f5));return;}try{const _0x5f25ec={..._0x489e9d,'originalTopic':currentQuizData['topic'],'savedAt':serverTimestamp()},_0x462640=collection(db,_0xa4f762(0x199)+appId+_0xa4f762(0x4f2)+userId+'/questionBank');await addDoc(_0x462640,_0x5f25ec),showMessage('บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว'),_0x2235ac['classList'][_0xa4f762(0x33f)](_0xa4f762(0x597)),_0x2235ac[_0xa4f762(0x367)][_0xa4f762(0x529)](_0xa4f762(0x51e)),_0x2235ac[_0xa4f762(0x467)]=!![];}catch(_0x2079da){console[_0xa4f762(0x71c)]('Error\x20saving\x20to\x20question\x20bank:',_0x2079da),showMessage(_0xa4f762(0x68a));}}function listenForStarredQuizzes(){const _0x4e7a86=_0x490f9b;if(!userId)return;const _0x169234=collection(db,_0x4e7a86(0x199)+appId+'/public/data/quizzes'),_0x1720bd=query(_0x169234,where(_0x4e7a86(0x793),'==',!![]));onSnapshot(_0x1720bd,_0x3ca0ca=>{const _0x31a427=_0x4e7a86;starredQuizzes=_0x3ca0ca[_0x31a427(0x69e)][_0x31a427(0x6f5)](_0x48776d=>({'id':_0x48776d['id'],..._0x48776d[_0x31a427(0x46b)]()})),renderProjects();},_0x2690ac=>{const _0x808cdc=_0x4e7a86;console[_0x808cdc(0x71c)](_0x808cdc(0x5c6),_0x2690ac);});}function exportQuizAsWorksheetPDF(){const _0x2ddb11=_0x490f9b;if(!currentQuizData||!currentQuizData[_0x2ddb11(0x366)]){showMessage(_0x2ddb11(0x1c3));return;}const _0x2a6a1d=currentQuizData,_0x3fb1a9=window['open']('',_0x2ddb11(0x562)),_0x24808f=_0x1629ea=>String['fromCharCode'](0xe01+_0x1629ea),_0x3facb4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20'+_0x2a6a1d[_0x2ddb11(0x430)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20'+_0x2a6a1d[_0x2ddb11(0x430)]+_0x2ddb11(0x22e)+_0x2a6a1d[_0x2ddb11(0x366)]['map']((_0x58b3f1,_0x109f88)=>{const _0x4416af=_0x2ddb11;let _0x480308='';const _0x3ae14e=_0x58b3f1['questionType']||_0x2a6a1d[_0x4416af(0x198)];switch(_0x3ae14e){case _0x4416af(0x4c8):case _0x4416af(0x35f):_0x480308=_0x4416af(0x416)+_0x58b3f1[_0x4416af(0x391)]['map']((_0x418174,_0x10125c)=>_0x4416af(0x637)+_0x24808f(_0x10125c)+'.\x20'+_0x418174+_0x4416af(0x5bf))[_0x4416af(0x48a)]('<br>')+_0x4416af(0x702);break;case _0x4416af(0x136):_0x480308='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ก.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';break;default:_0x480308=_0x4416af(0x634);break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>'+(_0x109f88+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>'+(_0x58b3f1[_0x4416af(0x1a3)]||_0x58b3f1[_0x4416af(0x326)])+_0x4416af(0x2cc)+(_0x58b3f1['imageCode']?_0x4416af(0x450)+_0x58b3f1['imageCode']+_0x4416af(0x702):'')+_0x4416af(0x494)+_0x480308+_0x4416af(0x4e9);})['join']('')+_0x2ddb11(0x601);_0x3fb1a9['document'][_0x2ddb11(0x31d)](_0x3facb4),_0x3fb1a9[_0x2ddb11(0x573)][_0x2ddb11(0x294)](),_0x3fb1a9[_0x2ddb11(0x72b)]=function(){setTimeout(()=>{const _0x1454b6=_0x27c3;_0x3fb1a9[_0x1454b6(0x796)]();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x42b3ac=_0x490f9b;if(!currentQuizData||!currentQuizData[_0x42b3ac(0x366)]){showMessage(_0x42b3ac(0x1c3));return;}const _0x5d7332=currentQuizData,_0xd93d3e=window[_0x42b3ac(0x3f0)]('',_0x42b3ac(0x562)),_0x230c63=_0x2f3aa4=>String[_0x42b3ac(0x363)](0xe01+_0x2f3aa4),_0x3e3e25=_0x42b3ac(0x6e3)+_0x5d7332[_0x42b3ac(0x430)]+_0x42b3ac(0x75a)+_0x5d7332[_0x42b3ac(0x366)]['map']((_0x1f5386,_0x1d811e)=>{const _0x57cc1e=_0x42b3ac;let _0x1727ce='';const _0x47448b=_0x1f5386[_0x57cc1e(0x59d)]||_0x5d7332[_0x57cc1e(0x198)];switch(_0x47448b){case'multiple_choice':case _0x57cc1e(0x35f):_0x1727ce=_0x57cc1e(0x1dd)+_0x1f5386['options']['map']((_0x19336b,_0x15c749)=>_0x57cc1e(0x5ab)+_0x230c63(_0x15c749)+'.\x20'+_0x19336b+_0x57cc1e(0x595))[_0x57cc1e(0x48a)](_0x57cc1e(0x1e8))+_0x57cc1e(0x165);break;case'true_false':_0x1727ce=_0x57cc1e(0x15d);break;default:_0x1727ce='';break;}return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20'+_0x5d7332[_0x57cc1e(0x430)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>'+(_0x1d811e+0x1)+_0x57cc1e(0x184)+(_0x1f5386[_0x57cc1e(0x1a3)]||_0x1f5386[_0x57cc1e(0x326)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1f5386[_0x57cc1e(0x74d)]?'<div\x20class=\x22my-6\x22>'+_0x1f5386[_0x57cc1e(0x74d)]+_0x57cc1e(0x702):'')+_0x57cc1e(0x494)+_0x1727ce+_0x57cc1e(0x7a0);})[_0x42b3ac(0x48a)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0xd93d3e[_0x42b3ac(0x573)]['write'](_0x3e3e25),_0xd93d3e['document'][_0x42b3ac(0x294)](),_0xd93d3e[_0x42b3ac(0x72b)]=function(){setTimeout(()=>{_0xd93d3e['print']();},0x5dc);};}async function handleToggleStarQuiz(_0x55e73b){const _0x1e94ca=_0x490f9b,_0x52fa6a=doc(db,_0x1e94ca(0x199)+appId+_0x1e94ca(0x59e),_0x55e73b);try{const _0x22f594=await getDoc(_0x52fa6a);if(_0x22f594[_0x1e94ca(0x590)]()){const _0x182876=_0x22f594[_0x1e94ca(0x46b)]()[_0x1e94ca(0x793)]||![];await updateDoc(_0x52fa6a,{'isStarred':!_0x182876});}}catch(_0x1a1071){console[_0x1e94ca(0x71c)](_0x1e94ca(0x281),_0x1a1071),showMessage(_0x1e94ca(0x247));}}async function displayQuestionBank(){const _0x31a070=_0x490f9b,_0x18d610=document[_0x31a070(0x18e)]('bank-input-area');_0x18d610[_0x31a070(0x612)]=_0x31a070(0x251);try{const _0x3d20b8=collection(db,_0x31a070(0x199)+appId+_0x31a070(0x4f2)+userId+_0x31a070(0x782)),_0x5b99c3=query(_0x3d20b8),_0x5858c5=await getDocs(_0x5b99c3);if(_0x5858c5[_0x31a070(0x1a6)]){_0x18d610[_0x31a070(0x612)]=_0x31a070(0x6d5);return;}let _0x1a48f7=_0x5858c5['docs'][_0x31a070(0x6f5)](_0x1e6478=>{const _0x26a7af=_0x31a070,_0xe0a5b3=_0x1e6478[_0x26a7af(0x46b)](),_0x404588=_0x1e6478['id'];return _0x26a7af(0x3b9)+JSON[_0x26a7af(0x53a)](_0xe0a5b3)+_0x26a7af(0x704)+(_0xe0a5b3[_0x26a7af(0x326)]||_0xe0a5b3[_0x26a7af(0x1a3)])+_0x26a7af(0x73b)+_0xe0a5b3[_0x26a7af(0x356)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x31a070(0x48a)]('');_0x18d610[_0x31a070(0x612)]=_0x31a070(0x28f)+_0x1a48f7+_0x31a070(0x1af),document[_0x31a070(0x18e)]('create-from-bank-btn')['addEventListener'](_0x31a070(0x2cb),createQuizFromBank);}catch(_0x470c7b){console[_0x31a070(0x71c)](_0x31a070(0x560),_0x470c7b),_0x18d610['innerHTML']=_0x31a070(0x11b);}}function showAdminLiveQuestionView(_0x9bfa30,_0x415417,_0x39c4f4){const _0x112495=_0x490f9b,_0x67a74a=_0x9bfa30[_0x112495(0x59d)]||currentQuizData[_0x112495(0x198)];let _0x2234db='';if(_0x67a74a===_0x112495(0x4c8)||_0x67a74a===_0x112495(0x136)){const _0x117477=_0x67a74a==='true_false'?[_0x112495(0x1a4),'ไม่ใช่']:_0x9bfa30[_0x112495(0x391)],_0x1ee153=_0x67a74a===_0x112495(0x136)?_0x9bfa30[_0x112495(0x74a)]?0x0:0x1:_0x9bfa30[_0x112495(0x6bc)];_0x2234db=_0x117477[_0x112495(0x6f5)]((_0x4a6e92,_0x5d1b27)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22'+(_0x5d1b27===_0x1ee153)+_0x112495(0x27e)+_0x4a6e92+_0x112495(0x2bc))[_0x112495(0x48a)]('');}else{if(_0x67a74a==='matching_item'){const _0x4ec460=_0x9bfa30['allResponses']||[];_0x2234db=_0x4ec460[_0x112495(0x6f5)](_0x345d49=>_0x112495(0x116)+(_0x345d49===_0x9bfa30[_0x112495(0x68e)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x345d49+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x112495(0x48a)]('');}}const _0x27e31a=_0x9bfa30[_0x112495(0x1a3)]||_0x9bfa30[_0x112495(0x326)],_0x46dc4d=_0x112495(0x6d9)+(_0x415417+0x1)+_0x112495(0x463)+_0x39c4f4+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>'+_0x27e31a+_0x112495(0x727)+_0x2234db+_0x112495(0x343);liveGameView[_0x112495(0x612)]=_0x46dc4d;window[_0x112495(0x27b)]&&MathJax[_0x112495(0x478)]&&MathJax[_0x112495(0x478)]([liveGameView]);const _0x54bfc9=document['getElementById'](_0x112495(0x1d0));document['getElementById']('reveal-answer-btn')['addEventListener']('click',async()=>{const _0x2bd7fc=_0x112495,_0x507566=doc(db,_0x2bd7fc(0x199)+appId+_0x2bd7fc(0x582),currentLiveGameId);await updateDoc(_0x507566,{'questionStatus':'revealed'});const _0xc5cdd0=liveGameView[_0x2bd7fc(0x2f1)](_0x2bd7fc(0x5b6));_0xc5cdd0&&(_0xc5cdd0[_0x2bd7fc(0x367)]['remove']('bg-white/30'),_0xc5cdd0[_0x2bd7fc(0x367)][_0x2bd7fc(0x529)](_0x2bd7fc(0x3ca),_0x2bd7fc(0x11e),_0x2bd7fc(0x307),_0x2bd7fc(0x507),_0x2bd7fc(0x6e6)),_0xc5cdd0['innerHTML']=_0x2bd7fc(0x216)+_0xc5cdd0[_0x2bd7fc(0x612)]),_0x54bfc9['innerHTML']=_0x2bd7fc(0x5e8)+(_0x415417+0x1===_0x39c4f4?_0x2bd7fc(0x5f6):_0x2bd7fc(0x25f))+'\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x2bd7fc(0x18e)]('next-live-question-btn')[_0x2bd7fc(0x41a)](_0x2bd7fc(0x2cb),async()=>{const _0x832b24=_0x2bd7fc,_0x9923c3=doc(db,_0x832b24(0x199)+appId+'/public/data/liveGames',currentLiveGameId),_0x5eeda5=await getDoc(_0x9923c3);if(!_0x5eeda5[_0x832b24(0x590)]())return;const _0x14f230=_0x5eeda5[_0x832b24(0x46b)](),_0x22a53d={};if(_0x14f230[_0x832b24(0x436)])for(const _0x555385 in _0x14f230['players']){_0x22a53d['players.'+_0x555385+_0x832b24(0x530)]=![];}const _0x3f1d95=_0x415417+0x1;_0x3f1d95<_0x39c4f4?(_0x22a53d['currentQuestionIndex']=_0x3f1d95,_0x22a53d[_0x832b24(0x349)]=serverTimestamp(),_0x22a53d[_0x832b24(0x797)]=_0x832b24(0x262),await updateDoc(_0x9923c3,_0x22a53d)):await updateDoc(_0x9923c3,{'status':_0x832b24(0x232)});});}),document['getElementById'](_0x112495(0x519))[_0x112495(0x41a)](_0x112495(0x2cb),async()=>{const _0x57d516=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await deleteDoc(_0x57d516),showView('admin-dashboard');});}function showStudentLiveQuestionView(_0x31cb44,_0x4bddda,_0x44280c){const _0x12cc8b=_0x490f9b,_0x14b5e6=_0x31cb44['questionType']||currentQuizData['quizType'];let _0x2054d3='';if(_0x14b5e6===_0x12cc8b(0x4c8)||_0x14b5e6==='true_false'){const _0xbea4cd=_0x14b5e6===_0x12cc8b(0x136)?[_0x12cc8b(0x1a4),_0x12cc8b(0x517)]:_0x31cb44['options'];_0x2054d3=_0xbea4cd[_0x12cc8b(0x6f5)]((_0x47e073,_0x4e1b91)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x4e1b91+_0x12cc8b(0x1a0)+_0x47e073+_0x12cc8b(0x16a))['join']('');}else{if(_0x14b5e6===_0x12cc8b(0x7bd)){const _0x214133=_0x31cb44[_0x12cc8b(0x42b)]||[];_0x2054d3=_0x214133[_0x12cc8b(0x6f5)]((_0x17d7f9,_0x1e1090)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x1e1090+'\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x17d7f9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x12cc8b(0x48a)]('');}else _0x14b5e6===_0x12cc8b(0x472)&&(_0x2054d3=_0x12cc8b(0x73c));}const _0x2a07ae=_0x31cb44[_0x12cc8b(0x1a3)]||_0x31cb44['questionText'],_0x31fc78='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20'+(_0x4bddda+0x1)+_0x12cc8b(0x463)+_0x44280c+_0x12cc8b(0x226)+_0x2a07ae+_0x12cc8b(0x4a6)+_0x2054d3+_0x12cc8b(0x62e);liveGameView['innerHTML']=_0x31fc78;window[_0x12cc8b(0x27b)]&&MathJax[_0x12cc8b(0x478)]&&MathJax[_0x12cc8b(0x478)]([liveGameView]);const _0x21eaf2=document[_0x12cc8b(0x18e)]('live-submit-short-answer-btn');_0x21eaf2&&_0x21eaf2[_0x12cc8b(0x41a)]('click',()=>{const _0x532bb5=_0x12cc8b,_0x5850ae=document[_0x532bb5(0x18e)](_0x532bb5(0x325))[_0x532bb5(0x588)];handleLiveAnswer(_0x5850ae,_0x31cb44);}),document[_0x12cc8b(0x18e)]('live-options-container')['addEventListener'](_0x12cc8b(0x2cb),_0x570414=>{const _0x55f8c8=_0x12cc8b,_0x5c131d=_0x570414[_0x55f8c8(0x734)][_0x55f8c8(0x4ed)](_0x55f8c8(0x1bf));if(_0x5c131d){const _0x54de8c=parseInt(_0x5c131d[_0x55f8c8(0x5b0)][_0x55f8c8(0x641)]);handleLiveAnswer(_0x54de8c,_0x31cb44);}});}async function handleLiveAnswer(_0x502012,_0x58455d){const _0x2df8aa=_0x490f9b;document[_0x2df8aa(0x511)](_0x2df8aa(0x794))[_0x2df8aa(0x13c)](_0x206800=>_0x206800['disabled']=!![]);const _0x28d6f3=_0x58455d[_0x2df8aa(0x59d)]||currentQuizData[_0x2df8aa(0x198)];let _0x3a086f=![];if(_0x28d6f3==='short_answer'){const _0x4e2fda=(_0x502012||'')[_0x2df8aa(0x50f)]();_0x3a086f=await gradeShortAnswer(_0x4e2fda,_0x58455d);}else{if(_0x28d6f3===_0x2df8aa(0x4c8))_0x3a086f=_0x502012===_0x58455d['correctAnswerIndex'];else{if(_0x28d6f3===_0x2df8aa(0x136)){const _0x50b802=_0x58455d[_0x2df8aa(0x74a)];_0x3a086f=_0x502012===0x0&&_0x50b802||_0x502012===0x1&&!_0x50b802;}else{if(_0x28d6f3===_0x2df8aa(0x7bd)){const _0x1a80cd=_0x58455d[_0x2df8aa(0x42b)][_0x502012];_0x3a086f=_0x1a80cd===_0x58455d[_0x2df8aa(0x68e)];}}}}const _0x3df655=doc(db,'artifacts/'+appId+_0x2df8aa(0x582),currentLiveGameId),_0x30f3f8=await getDoc(_0x3df655);if(!_0x30f3f8['exists']())return;const _0x51342b=_0x30f3f8[_0x2df8aa(0x46b)](),_0x14e0b1=_0x51342b['players'][currentStudentName];let _0x21c46b=_0x14e0b1['badges']||[],_0xb0768b=_0x14e0b1[_0x2df8aa(0x49d)]||0x0;const _0x23ad3b={};let _0x1baac9=0x0;if(_0x51342b[_0x2df8aa(0x349)]){const _0x2e9b40=_0x51342b[_0x2df8aa(0x349)][_0x2df8aa(0x439)](),_0x5da8c9=new Date()-_0x2e9b40;if(_0x3a086f){const _0x5e2e52=0x3e8,_0x2bc756=0x1f4,_0xf982c3=0x4e20;let _0x9d0577=_0x5da8c9/_0xf982c3;if(_0x9d0577>0x1)_0x9d0577=0x1;const _0x2fc438=Math['round'](_0x9d0577*_0x2bc756);_0x1baac9=_0x5e2e52-_0x2fc438,_0x5da8c9<=0x1388&&!_0x21c46b[_0x2df8aa(0x58e)](_0x2df8aa(0x488))&&_0x21c46b['push'](_0x2df8aa(0x488));}}_0x3a086f?(_0xb0768b++,_0xb0768b===0x3&&!_0x21c46b[_0x2df8aa(0x58e)]('on_fire')&&(_0x21c46b[_0x2df8aa(0x21a)]('on_fire'),_0xb0768b=0x0)):_0xb0768b=0x0,_0x3a086f&&(_0x23ad3b['players.'+currentStudentName+_0x2df8aa(0x61c)]=increment(_0x1baac9)),_0x23ad3b['players.'+currentStudentName+'.badges']=_0x21c46b,_0x23ad3b[_0x2df8aa(0x6a7)+currentStudentName+'.correctStreak']=_0xb0768b,_0x23ad3b[_0x2df8aa(0x6a7)+currentStudentName+_0x2df8aa(0x530)]=!![],_0x23ad3b[_0x2df8aa(0x6a7)+currentStudentName+'.lastAnswerCorrect']=_0x3a086f,_0x23ad3b[_0x2df8aa(0x6a7)+currentStudentName+'.pointsLastQuestion']=_0x1baac9,await updateDoc(_0x3df655,_0x23ad3b),liveGameView['innerHTML']=_0x2df8aa(0x76b);}function createQuizFromBank(){const _0x12dbf0=_0x490f9b,_0xccfcc8=document[_0x12dbf0(0x511)](_0x12dbf0(0x4ef));if(_0xccfcc8[_0x12dbf0(0x387)]===0x0){showMessage(_0x12dbf0(0x3cf));return;}const _0x166f2f=[];_0xccfcc8['forEach'](_0x3a3f88=>{const _0x2a8a32=_0x12dbf0;_0x166f2f[_0x2a8a32(0x21a)](JSON[_0x2a8a32(0x311)](_0x3a3f88[_0x2a8a32(0x588)]));});const _0x2d0c7d={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x166f2f};displayGeneratedQuiz(_0x2d0c7d);}function showAdminLobbyView(_0x5c6958,_0x35e2ba){const _0x5951dc=_0x490f9b;showView('live-game');const _0x4ef126='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x35e2ba+_0x5951dc(0x4fa)+_0x5c6958+_0x5951dc(0x53d);liveGameView[_0x5951dc(0x612)]=_0x4ef126,document[_0x5951dc(0x18e)]('start-game-btn')[_0x5951dc(0x41a)]('click',async()=>{const _0xce5b56=_0x5951dc;if(!currentQuizData||!currentQuizData['questions']||currentQuizData[_0xce5b56(0x366)][_0xce5b56(0x387)]===0x0){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้');return;}try{const _0x25ba4a=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x25ba4a,{'status':_0xce5b56(0x4ba),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x228e48=currentQuizData[_0xce5b56(0x366)][0x0],_0x5a57e6=currentQuizData['questions'][_0xce5b56(0x387)];showAdminLiveQuestionView(_0x228e48,0x0,_0x5a57e6);}catch(_0x34fd8f){console[_0xce5b56(0x71c)](_0xce5b56(0x635),_0x34fd8f),showMessage(_0xce5b56(0x563));}});}async function openGlobalLiveModal(){const _0x5bf0ad=_0x490f9b;if(allQuizzesGlobal[_0x5bf0ad(0x387)]===0x0){const _0x1a53ba=await getDocs(collection(db,_0x5bf0ad(0x199)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x1a53ba[_0x5bf0ad(0x69e)]['map'](_0x54a5c0=>({'id':_0x54a5c0['id'],..._0x54a5c0[_0x5bf0ad(0x46b)]()}));}renderGlobalQuizList(''),document[_0x5bf0ad(0x18e)](_0x5bf0ad(0x33e))[_0x5bf0ad(0x367)][_0x5bf0ad(0x33f)]('hidden');}async function openQuizBankModal(){const _0x1b449b=_0x490f9b;if(allQuizzesGlobal[_0x1b449b(0x387)]===0x0){const _0x3afc11=await getDocs(collection(db,'artifacts/'+appId+_0x1b449b(0x59e)));allQuizzesGlobal=_0x3afc11[_0x1b449b(0x69e)][_0x1b449b(0x6f5)](_0x42a551=>({'id':_0x42a551['id'],..._0x42a551['data']()}));}renderQuizBankList(''),document[_0x1b449b(0x18e)](_0x1b449b(0x43f))['classList'][_0x1b449b(0x33f)](_0x1b449b(0x410));}function renderQuizBankList(_0x13fdb8=''){const _0x561112=_0x490f9b,_0x456166=document[_0x561112(0x18e)]('bank-quiz-list'),_0x11034b=_0x13fdb8[_0x561112(0x682)]()[_0x561112(0x686)](),_0x3f74ae=allQuizzesGlobal[_0x561112(0x6f5)](_0x246f4f=>({..._0x246f4f,'projectName':allProjects[_0x561112(0x3bb)](_0x56f416=>_0x56f416['id']===_0x246f4f[_0x561112(0x596)])?.[_0x561112(0x177)]||_0x561112(0x20f)}))[_0x561112(0x758)](_0x1ea830=>(_0x1ea830[_0x561112(0x430)]||'')[_0x561112(0x682)]()[_0x561112(0x58e)](_0x11034b)||(_0x1ea830[_0x561112(0x177)]||'')[_0x561112(0x682)]()[_0x561112(0x58e)](_0x11034b)||_0x1ea830['id']['toString']()[_0x561112(0x58e)](_0x11034b));document[_0x561112(0x18e)](_0x561112(0x398))['textContent']='('+_0x3f74ae[_0x561112(0x387)]+'\x20ชุด)',_0x456166[_0x561112(0x612)]=_0x3f74ae[_0x561112(0x387)]?_0x3f74ae[_0x561112(0x6f5)](_0x404311=>_0x561112(0x594)+_0x404311['id']+_0x561112(0x67c)+(_0x404311[_0x561112(0x430)]||_0x561112(0x314))+_0x561112(0x7c0)+(_0x404311[_0x561112(0x366)]?.['length']||0x0)+_0x561112(0x4c2)+_0x404311[_0x561112(0x177)]+_0x561112(0x41e)+_0x404311['id']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x404311['id']+_0x561112(0x493)+_0x404311['id']+_0x561112(0x4dc)+_0x404311['id']+_0x561112(0x63f))['join'](''):_0x561112(0x334),_0x456166[_0x561112(0x511)]('.quiz-bank-item')[_0x561112(0x13c)](_0x1bbcfe=>{const _0x9af562=_0x561112;_0x1bbcfe[_0x9af562(0x41a)]('click',()=>{const _0x214ed5=_0x9af562,_0x512258=_0x1bbcfe[_0x214ed5(0x5b0)]['id'];document['getElementById']('quiz-bank-modal')[_0x214ed5(0x367)][_0x214ed5(0x529)](_0x214ed5(0x410)),showQuizDetailView(_0x512258);});}),_0x456166[_0x561112(0x511)](_0x561112(0x364))[_0x561112(0x13c)](_0x35d872=>{const _0x59b832=_0x561112;_0x35d872[_0x59b832(0x41a)](_0x59b832(0x2cb),_0x56d3b1=>{const _0x851c3=_0x59b832;_0x56d3b1[_0x851c3(0x61f)]();const _0xa4ca6f=_0x35d872['dataset']['id'],_0x1e7f59=allQuizzesGlobal[_0x851c3(0x3bb)](_0x605099=>_0x605099['id']===_0xa4ca6f);_0x1e7f59?(currentQuizData=_0x1e7f59,document[_0x851c3(0x18e)](_0x851c3(0x43f))[_0x851c3(0x367)][_0x851c3(0x529)](_0x851c3(0x410)),startAdminTest()):showMessage(_0x851c3(0x3fe));});}),_0x456166[_0x561112(0x511)](_0x561112(0x523))[_0x561112(0x13c)](_0x4818ab=>{const _0x2f5fcf=_0x561112;_0x4818ab[_0x2f5fcf(0x41a)](_0x2f5fcf(0x2cb),_0xf4a67f=>{const _0x31a1fe=_0x2f5fcf;_0xf4a67f['stopPropagation']();const _0x1b419e=_0x4818ab[_0x31a1fe(0x5b0)]['id'],_0x3921a2=allQuizzesGlobal[_0x31a1fe(0x3bb)](_0x312498=>_0x312498['id']===_0x1b419e);_0x3921a2?(document['getElementById']('quiz-bank-modal')[_0x31a1fe(0x367)][_0x31a1fe(0x529)]('hidden'),handleGenerateParallelFromBank(_0x3921a2)):showMessage(_0x31a1fe(0x3fe));});}),_0x456166[_0x561112(0x511)](_0x561112(0x4d3))[_0x561112(0x13c)](_0x4b0094=>{const _0xa9a565=_0x561112;_0x4b0094['addEventListener'](_0xa9a565(0x2cb),_0x5771df=>{const _0x2a2e39=_0xa9a565;_0x5771df[_0x2a2e39(0x61f)]();const _0x423218=_0x4b0094[_0x2a2e39(0x5b0)]['id'],_0x239c86=allQuizzesGlobal[_0x2a2e39(0x3bb)](_0x43a1cb=>_0x43a1cb['id']===_0x423218);_0x239c86?(document[_0x2a2e39(0x18e)](_0x2a2e39(0x43f))[_0x2a2e39(0x367)][_0x2a2e39(0x529)]('hidden'),startPresentation(_0x239c86)):showMessage(_0x2a2e39(0x3fe));});});}async function handleCompareResults(_0x499b99,_0x4715f5){const _0x6122dd=_0x490f9b,_0x450b6c=document['getElementById'](_0x6122dd(0x43c)),_0x58b6ba=document[_0x6122dd(0x18e)](_0x6122dd(0x173)),_0x57c548=document['getElementById'](_0x6122dd(0x1cf));document['getElementById'](_0x6122dd(0x6df))[_0x6122dd(0x367)][_0x6122dd(0x529)]('active'),document['getElementById'](_0x6122dd(0x766))[_0x6122dd(0x367)][_0x6122dd(0x33f)](_0x6122dd(0x66e)),_0x58b6ba[_0x6122dd(0x367)][_0x6122dd(0x33f)](_0x6122dd(0x410)),_0x57c548[_0x6122dd(0x367)]['add']('hidden'),_0x58b6ba[_0x6122dd(0x612)]=_0x6122dd(0x251),_0x57c548[_0x6122dd(0x612)]='',_0x450b6c[_0x6122dd(0x367)][_0x6122dd(0x33f)](_0x6122dd(0x410));try{const _0x30ef7c=doc(db,_0x6122dd(0x199)+appId+_0x6122dd(0x59e),_0x499b99),_0x2ca30b=await getDoc(_0x30ef7c);if(!_0x2ca30b['exists']())throw new Error(_0x6122dd(0x19d));const _0x56e0fc=_0x2ca30b[_0x6122dd(0x46b)](),_0x1426ee=_0x56e0fc[_0x6122dd(0x366)][_0x6122dd(0x387)],_0x47801e=collection(db,_0x6122dd(0x199)+appId+'/public/data/quizzes/'+_0x4715f5+_0x6122dd(0x547)),_0xa8e963=collection(db,_0x6122dd(0x199)+appId+_0x6122dd(0x192)+_0x499b99+'/submissions'),[_0x48e7d5,_0x5806e3]=await Promise['all']([getDocs(_0x47801e),getDocs(_0xa8e963)]),_0x4e4338=_0x48e7d5[_0x6122dd(0x69e)][_0x6122dd(0x6f5)](_0x2fb202=>_0x2fb202[_0x6122dd(0x46b)]()),_0x26fe36=_0x5806e3[_0x6122dd(0x69e)][_0x6122dd(0x6f5)](_0x2c61a8=>_0x2c61a8['data']()),_0x85f495=_0x4e4338['map'](_0x4b91e8=>_0x4b91e8[_0x6122dd(0x339)]),_0x3140e2=_0x26fe36[_0x6122dd(0x6f5)](_0x4060be=>_0x4060be[_0x6122dd(0x339)]),_0x57cdd=calculateMeanAndStdDev(_0x85f495),_0x47c7fe=calculateMeanAndStdDev(_0x3140e2),_0x25f914=_0x57cdd[_0x6122dd(0x69c)],_0x1452fd=_0x47c7fe['mean'],_0x117c52=_0x1452fd-_0x25f914;let _0x526834=_0x6122dd(0x425)+_0x25f914['toFixed'](0x2)+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>'+_0x1452fd['toFixed'](0x2)+_0x6122dd(0x5d1)+(_0x117c52>=0x0?'bg-emerald-100':_0x6122dd(0x3ea))+_0x6122dd(0x555)+(_0x117c52>=0x0?'text-emerald-800':_0x6122dd(0x593))+_0x6122dd(0x16f)+(_0x117c52>=0x0?_0x6122dd(0x44c):'text-red-900')+'\x22>'+(_0x117c52>=0x0?'+':'')+_0x117c52[_0x6122dd(0x228)](0x2)+_0x6122dd(0x5e0);_0x58b6ba['innerHTML']=_0x526834;const _0x1d51fa=document['getElementById'](_0x6122dd(0x7be))['getContext']('2d');if(chartInstances['comparison'])chartInstances[_0x6122dd(0x170)][_0x6122dd(0x6a5)]();chartInstances[_0x6122dd(0x170)]=new Chart(_0x1d51fa,{'type':_0x6122dd(0x2ec),'data':{'labels':[_0x6122dd(0x57c)],'datasets':[{'label':_0x6122dd(0x2bb),'data':[_0x25f914],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':'หลังเรียน','data':[_0x1452fd],'backgroundColor':_0x6122dd(0x2df)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x1426ee}}}});const _0x4aa29e=currentProjectData[_0x6122dd(0x1d5)]||[],_0x1b5ac2=_0x4aa29e[_0x6122dd(0x6f5)](_0x577959=>{const _0x58c4bd=_0x6122dd,_0x3164eb=_0x4e4338[_0x58c4bd(0x3bb)](_0x564569=>_0x564569[_0x58c4bd(0x355)]===_0x577959),_0x135ec3=_0x26fe36[_0x58c4bd(0x3bb)](_0x57cdf2=>_0x57cdf2[_0x58c4bd(0x355)]===_0x577959),_0xcea4d1=_0x3164eb?_0x3164eb[_0x58c4bd(0x339)]:null,_0x1edee1=_0x135ec3?_0x135ec3[_0x58c4bd(0x339)]:null,_0x368106=_0xcea4d1!==null&&_0x1edee1!==null?_0x1edee1-_0xcea4d1:null,_0x52070b=_0xcea4d1!==null?calculateZScore(_0xcea4d1,_0x57cdd[_0x58c4bd(0x69c)],_0x57cdd[_0x58c4bd(0x386)]):null,_0x22ab4a=_0x1edee1!==null?calculateZScore(_0x1edee1,_0x47c7fe[_0x58c4bd(0x69c)],_0x47c7fe[_0x58c4bd(0x386)]):null,_0x228217=_0x52070b!==null?calculateTScore(_0x52070b):null,_0x49e21a=_0x22ab4a!==null?calculateTScore(_0x22ab4a):null,_0x166c55=_0x228217!==null&&_0x49e21a!==null?_0x49e21a-_0x228217:null;return{'name':_0x577959,'preScore':_0xcea4d1,'postScore':_0x1edee1,'gain':_0x368106,'preTScore':_0x228217,'postTScore':_0x49e21a,'tGain':_0x166c55};});renderIndividualComparisonTable(_0x1b5ac2,_0x57c548);}catch(_0x2c9dc0){console['error'](_0x6122dd(0x4c3),_0x2c9dc0),_0x58b6ba[_0x6122dd(0x612)]=_0x6122dd(0x1ce);}}function renderIndividualComparisonTable(_0x327dbd,_0x1a7778){const _0x4f7665=_0x490f9b;_0x327dbd[_0x4f7665(0x54b)]((_0x32947f,_0x22ca12)=>(_0x22ca12[_0x4f7665(0x627)]??-Infinity)-(_0x32947f[_0x4f7665(0x627)]??-Infinity));let _0x54d823='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อนเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลังเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20';_0x327dbd[_0x4f7665(0x387)]===0x0?_0x54d823+='<tr><td\x20colspan=\x228\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>':_0x327dbd['forEach']((_0x1fe07a,_0x3c575b)=>{const _0x113998=_0x4f7665;let _0x4805e2='-';if(_0x1fe07a[_0x113998(0x2e7)]!==null){const _0x4d609b=_0x1fe07a[_0x113998(0x2e7)]>0x0?'text-green-600':_0x1fe07a['gain']<0x0?_0x113998(0x755):'text-gray-500',_0x4d235c=_0x1fe07a[_0x113998(0x2e7)]>0x0?'+':'';_0x4805e2=_0x113998(0x499)+_0x4d609b+'\x22>'+_0x4d235c+_0x1fe07a['gain']+_0x113998(0x595);}let _0x26b20a='-';if(_0x1fe07a[_0x113998(0x627)]!==null){const _0x3dc347=_0x1fe07a['tGain']>0x0?_0x113998(0x51e):_0x1fe07a['tGain']<0x0?_0x113998(0x755):_0x113998(0x39f),_0x5b240f=_0x1fe07a[_0x113998(0x627)]>0x0?'+':'';_0x26b20a=_0x113998(0x499)+_0x3dc347+'\x22>'+_0x5b240f+_0x1fe07a[_0x113998(0x627)][_0x113998(0x228)](0x2)+_0x113998(0x595);}_0x54d823+=_0x113998(0x25e)+(_0x3c575b+0x1)+_0x113998(0x1a1)+_0x1fe07a['name']+_0x113998(0x3d1)+(_0x1fe07a[_0x113998(0x3d3)]??'-')+_0x113998(0x178)+(_0x1fe07a['postScore']??'-')+_0x113998(0x3d1)+_0x4805e2+_0x113998(0x5f7)+(_0x1fe07a[_0x113998(0x56b)]?.[_0x113998(0x228)](0x2)??'-')+_0x113998(0x12e)+(_0x1fe07a[_0x113998(0x6bb)]?.[_0x113998(0x228)](0x2)??'-')+_0x113998(0x3d1)+_0x26b20a+_0x113998(0x58d);}),_0x54d823+='</tbody></table></div>',_0x1a7778[_0x4f7665(0x612)]=_0x54d823;}function setupComparisonModalTabs(){const _0x5bdc1e=_0x490f9b,_0xf9553e=document['getElementById'](_0x5bdc1e(0x6df)),_0x1ebb0c=document[_0x5bdc1e(0x18e)]('comparison-individual-tab'),_0x2b197a=document[_0x5bdc1e(0x18e)](_0x5bdc1e(0x173)),_0x8e39e4=document[_0x5bdc1e(0x18e)](_0x5bdc1e(0x1cf));_0xf9553e[_0x5bdc1e(0x41a)](_0x5bdc1e(0x2cb),()=>{const _0x1fd384=_0x5bdc1e;_0xf9553e['classList'][_0x1fd384(0x529)](_0x1fd384(0x66e)),_0x1ebb0c[_0x1fd384(0x367)][_0x1fd384(0x33f)](_0x1fd384(0x66e)),_0x2b197a[_0x1fd384(0x367)][_0x1fd384(0x33f)](_0x1fd384(0x410)),_0x8e39e4[_0x1fd384(0x367)]['add'](_0x1fd384(0x410));}),_0x1ebb0c[_0x5bdc1e(0x41a)](_0x5bdc1e(0x2cb),()=>{const _0x17ebcb=_0x5bdc1e;_0x1ebb0c[_0x17ebcb(0x367)]['add'](_0x17ebcb(0x66e)),_0xf9553e[_0x17ebcb(0x367)]['remove'](_0x17ebcb(0x66e)),_0x8e39e4['classList'][_0x17ebcb(0x33f)](_0x17ebcb(0x410)),_0x2b197a[_0x17ebcb(0x367)][_0x17ebcb(0x529)](_0x17ebcb(0x410));});}setupComparisonModalTabs();function renderGlobalQuizList(_0x4a3524=''){const _0x59c1f9=_0x490f9b,_0x5f32ff=document[_0x59c1f9(0x18e)]('global-quiz-list'),_0x14b3fe=_0x4a3524['toLowerCase']()[_0x59c1f9(0x686)](),_0x2a76d0=allQuizzesGlobal[_0x59c1f9(0x6f5)](_0x5d64d7=>({..._0x5d64d7,'projectName':allProjects[_0x59c1f9(0x3bb)](_0x2dc9df=>_0x2dc9df['id']===_0x5d64d7[_0x59c1f9(0x596)])?.[_0x59c1f9(0x177)]||_0x5d64d7[_0x59c1f9(0x596)]}))[_0x59c1f9(0x758)](_0x341f58=>(_0x341f58['topic']||'')['toLowerCase']()[_0x59c1f9(0x58e)](_0x14b3fe)||(_0x341f58[_0x59c1f9(0x177)]||'')[_0x59c1f9(0x682)]()[_0x59c1f9(0x58e)](_0x14b3fe));document['getElementById']('global-live-game-count')['textContent']='('+_0x2a76d0[_0x59c1f9(0x387)]+_0x59c1f9(0x77a),_0x5f32ff[_0x59c1f9(0x612)]=_0x2a76d0['length']?_0x2a76d0[_0x59c1f9(0x6f5)](_0x518d77=>_0x59c1f9(0x328)+_0x518d77['id']+_0x59c1f9(0x284)+(_0x518d77[_0x59c1f9(0x430)]||_0x59c1f9(0x314))+_0x59c1f9(0x71a)+(_0x518d77[_0x59c1f9(0x366)]?.[_0x59c1f9(0x387)]||0x0)+_0x59c1f9(0x698)+_0x518d77['projectName']+_0x59c1f9(0x194))['join'](''):'<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',selectedGlobalQuizId=null,document[_0x59c1f9(0x18e)]('confirm-global-live-btn')['disabled']=!![],_0x5f32ff[_0x59c1f9(0x511)](_0x59c1f9(0x1d3))[_0x59c1f9(0x13c)](_0x34f247=>{const _0x2fa457=_0x59c1f9;_0x34f247[_0x2fa457(0x41a)](_0x2fa457(0x2cb),()=>{const _0x4e21b6=_0x2fa457;selectedGlobalQuizId=_0x34f247[_0x4e21b6(0x5b0)]['id'],_0x5f32ff[_0x4e21b6(0x511)](_0x4e21b6(0x761))[_0x4e21b6(0x13c)](_0x457742=>_0x457742[_0x4e21b6(0x367)][_0x4e21b6(0x33f)](_0x4e21b6(0x15a),_0x4e21b6(0x3f1),_0x4e21b6(0x70b))),_0x34f247[_0x4e21b6(0x367)]['add'](_0x4e21b6(0x15a),_0x4e21b6(0x3f1),_0x4e21b6(0x70b)),document[_0x4e21b6(0x18e)](_0x4e21b6(0x23e))[_0x4e21b6(0x467)]=![];});});}function listenForLiveGameUpdates(){const _0x473f10=_0x490f9b;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x5a1d8f=doc(db,_0x473f10(0x199)+appId+_0x473f10(0x582),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x5a1d8f,_0x4ae6e8=>{const _0x19a8a2=_0x473f10;if(!_0x4ae6e8[_0x19a8a2(0x590)]()){showMessage('เกมสิ้นสุดลงแล้ว'),showView(currentMode);return;}const _0x237ca5=_0x4ae6e8[_0x19a8a2(0x46b)]();!currentQuizData&&_0x237ca5[_0x19a8a2(0x5df)]&&((async()=>{const _0xf338a9=_0x19a8a2;try{const _0x1ab765=doc(db,_0xf338a9(0x199)+appId+'/public/data/quizzes',_0x237ca5[_0xf338a9(0x5df)]),_0x13354c=await getDoc(_0x1ab765);_0x13354c['exists']()&&(currentQuizData={'id':_0x13354c['id'],..._0x13354c[_0xf338a9(0x46b)]()});}catch(_0x522941){console['error'](_0xf338a9(0x28d),_0x522941);}})());switch(_0x237ca5[_0x19a8a2(0x742)]){case _0x19a8a2(0x1e5):if(currentMode===_0x19a8a2(0x74b)){const _0x367172=_0x237ca5[_0x19a8a2(0x436)]?Object['keys'](_0x237ca5[_0x19a8a2(0x436)]):[];document['getElementById'](_0x19a8a2(0x730))[_0x19a8a2(0x473)]=_0x367172['length'],document[_0x19a8a2(0x18e)]('player-list-lobby')[_0x19a8a2(0x612)]=_0x367172['map'](_0x3d55ae=>_0x19a8a2(0x37e)+_0x3d55ae+_0x19a8a2(0x595))[_0x19a8a2(0x48a)]('');const _0x14e0c1=document[_0x19a8a2(0x18e)](_0x19a8a2(0x447));_0x14e0c1&&(_0x14e0c1[_0x19a8a2(0x467)]=_0x367172[_0x19a8a2(0x387)]===0x0);}else showView(_0x19a8a2(0x37b)),liveGameView['innerHTML']='<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>'+currentStudentName+_0x19a8a2(0x6d2);break;case'question':const _0x35d822=_0x237ca5[_0x19a8a2(0x60a)];if(currentQuizData&&currentQuizData[_0x19a8a2(0x366)][_0x35d822]){const _0x4e8a61=currentQuizData[_0x19a8a2(0x366)][_0x35d822],_0x4d48b2=currentQuizData[_0x19a8a2(0x366)][_0x19a8a2(0x387)];if(currentMode===_0x19a8a2(0x74b)){lastRenderedAdminQuestionIndex!==_0x35d822&&(showAdminLiveQuestionView(_0x4e8a61,_0x35d822,_0x4d48b2),lastRenderedAdminQuestionIndex=_0x35d822);const _0x419f6a=document[_0x19a8a2(0x18e)](_0x19a8a2(0x267));if(_0x419f6a&&_0x237ca5[_0x19a8a2(0x436)]){const _0x3541ca=Object[_0x19a8a2(0x659)](_0x237ca5['players'])[_0x19a8a2(0x387)],_0x28be52=Object[_0x19a8a2(0x397)](_0x237ca5['players'])[_0x19a8a2(0x758)](_0x3c21b4=>_0x3c21b4[_0x19a8a2(0x31c)]===!![])[_0x19a8a2(0x387)];_0x419f6a[_0x19a8a2(0x473)]=_0x28be52+'/'+_0x3541ca,_0x3541ca>0x0&&_0x28be52===_0x3541ca&&_0x237ca5[_0x19a8a2(0x797)]!==_0x19a8a2(0x1fb)&&revealAnswerForAdmin(_0x35d822,_0x4d48b2);}}else{const _0x47a920=_0x237ca5[_0x19a8a2(0x436)][currentStudentName];if(_0x237ca5[_0x19a8a2(0x797)]===_0x19a8a2(0x1fb)){if(_0x47a920[_0x19a8a2(0x31c)]){const _0x58248f=_0x47a920[_0x19a8a2(0x5d2)],_0xb4de60=_0x47a920[_0x19a8a2(0x5e7)]||0x0,_0x37aa2f=_0x58248f?_0x19a8a2(0x4ac)+_0xb4de60+'\x20คะแนน':_0x19a8a2(0x661);liveGameView[_0x19a8a2(0x612)]=_0x19a8a2(0x40d)+_0x37aa2f+_0x19a8a2(0x4b6);}else liveGameView[_0x19a8a2(0x612)]=_0x19a8a2(0x302);}else!_0x47a920[_0x19a8a2(0x31c)]&&showStudentLiveQuestionView(_0x4e8a61,_0x35d822,_0x4d48b2);}}break;case'podium':showPodiumView(_0x237ca5[_0x19a8a2(0x436)]);break;}});}async function authenticateUser(){const _0x4d7472=_0x490f9b;try{typeof __initial_auth_token!==_0x4d7472(0x148)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x383ea2){console[_0x4d7472(0x71c)](_0x4d7472(0x1e9),_0x383ea2),showMessage(_0x4d7472(0x6e0));}}function showView(_0x3e0723){const _0x66b56b=_0x490f9b,_0x1eff3e=[_0x66b56b(0x484),_0x66b56b(0x46e),_0x66b56b(0x4af),_0x66b56b(0x2da),'quiz-results-view',_0x66b56b(0x747)];_0x1eff3e['forEach'](_0x1cd151=>document[_0x66b56b(0x18e)](_0x1cd151)?.['classList'][_0x66b56b(0x529)](_0x66b56b(0x410)));if(_0x3e0723==='admin-dashboard')adminView[_0x66b56b(0x367)][_0x66b56b(0x33f)](_0x66b56b(0x410)),projectDashboardView[_0x66b56b(0x367)]['remove']('hidden');else{if(_0x3e0723===_0x66b56b(0x2c4))studentView['classList'][_0x66b56b(0x33f)]('hidden'),studentInitialView['classList']['remove'](_0x66b56b(0x410)),studentNameSelectionView['classList'][_0x66b56b(0x529)]('hidden'),studentQuizArea['classList']['add']('hidden'),studentResultArea[_0x66b56b(0x367)][_0x66b56b(0x529)](_0x66b56b(0x410)),studentReadingArea[_0x66b56b(0x367)]['add'](_0x66b56b(0x410)),studentJoinGameView[_0x66b56b(0x367)][_0x66b56b(0x529)](_0x66b56b(0x410));else{if(_0x3e0723===_0x66b56b(0x496))adminView[_0x66b56b(0x367)][_0x66b56b(0x33f)]('hidden'),projectDetailView[_0x66b56b(0x367)][_0x66b56b(0x33f)](_0x66b56b(0x410));else{if(_0x3e0723===_0x66b56b(0x528))adminView[_0x66b56b(0x367)][_0x66b56b(0x33f)]('hidden'),quizResultsView[_0x66b56b(0x367)][_0x66b56b(0x33f)](_0x66b56b(0x410));else _0x3e0723==='live-game'&&liveGameView[_0x66b56b(0x367)][_0x66b56b(0x33f)](_0x66b56b(0x410));}}}}function showJoinGameView(){const _0x1413b5=_0x490f9b;studentInitialView[_0x1413b5(0x367)][_0x1413b5(0x529)](_0x1413b5(0x410)),studentJoinGameView[_0x1413b5(0x367)][_0x1413b5(0x33f)](_0x1413b5(0x410));}function setupEventListeners(){const _0x421d86=_0x490f9b;document[_0x421d86(0x18e)]('mode-switcher-btn')['addEventListener'](_0x421d86(0x2cb),handleModeSwitch),document[_0x421d86(0x18e)](_0x421d86(0x309))[_0x421d86(0x41a)](_0x421d86(0x2cb),handleAddCustomMathTopic),document['getElementById'](_0x421d86(0x5ce))[_0x421d86(0x41a)](_0x421d86(0x2cb),handleSelectAllTopics),document[_0x421d86(0x18e)](_0x421d86(0x522))['addEventListener'](_0x421d86(0x2cb),handleDeselectAllTopics),document[_0x421d86(0x18e)](_0x421d86(0x5f8))[_0x421d86(0x41a)]('click',()=>{const _0x149baf=_0x421d86;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x149baf(0x197));}),document[_0x421d86(0x18e)](_0x421d86(0x787))[_0x421d86(0x41a)](_0x421d86(0x2cb),()=>{const _0x3917c3=_0x421d86;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0x3917c3(0x496));}),document[_0x421d86(0x18e)](_0x421d86(0x2e0))[_0x421d86(0x41a)](_0x421d86(0x2cb),()=>{const _0x8cd1ed=_0x421d86;showView(_0x8cd1ed(0x197));}),document[_0x421d86(0x18e)](_0x421d86(0x6fe))[_0x421d86(0x41a)](_0x421d86(0x2cb),()=>messageModal['classList'][_0x421d86(0x529)](_0x421d86(0x410))),document[_0x421d86(0x18e)](_0x421d86(0x70f))[_0x421d86(0x41a)](_0x421d86(0x2cb),()=>createProjectModal[_0x421d86(0x367)][_0x421d86(0x33f)](_0x421d86(0x410))),document[_0x421d86(0x18e)](_0x421d86(0x394))[_0x421d86(0x41a)](_0x421d86(0x2cb),()=>createProjectModal[_0x421d86(0x367)]['add'](_0x421d86(0x410))),document[_0x421d86(0x18e)](_0x421d86(0x1eb))[_0x421d86(0x41a)]('click',()=>adminPasswordModal[_0x421d86(0x367)][_0x421d86(0x529)]('hidden')),document['getElementById']('confirm-admin-login-btn')[_0x421d86(0x41a)](_0x421d86(0x2cb),handleAdminLogin),document[_0x421d86(0x18e)](_0x421d86(0x784))[_0x421d86(0x41a)](_0x421d86(0x264),_0x5686f2=>{const _0xf7b360=_0x421d86;if(_0x5686f2[_0xf7b360(0x65c)]===_0xf7b360(0x498))handleAdminLogin();}),document['getElementById']('cancel-delete-btn')[_0x421d86(0x41a)](_0x421d86(0x2cb),()=>{const _0x51ff43=_0x421d86;confirmationModal['classList'][_0x51ff43(0x529)](_0x51ff43(0x410)),confirmAction=null;}),document[_0x421d86(0x18e)]('confirm-delete-btn')[_0x421d86(0x41a)]('click',()=>{const _0x506bc0=_0x421d86;confirmAction&&confirmAction(),confirmationModal[_0x506bc0(0x367)][_0x506bc0(0x529)](_0x506bc0(0x410)),confirmAction=null;}),document[_0x421d86(0x18e)](_0x421d86(0x1b4))[_0x421d86(0x41a)](_0x421d86(0x2cb),()=>renameQuizModal[_0x421d86(0x367)][_0x421d86(0x529)](_0x421d86(0x410))),document[_0x421d86(0x18e)]('confirm-rename-quiz-btn')[_0x421d86(0x41a)]('click',confirmRenameQuiz),document[_0x421d86(0x18e)]('cancel-move-quiz-btn')[_0x421d86(0x41a)]('click',()=>moveQuizModal[_0x421d86(0x367)][_0x421d86(0x529)](_0x421d86(0x410))),document[_0x421d86(0x18e)]('confirm-move-quiz-btn')[_0x421d86(0x41a)](_0x421d86(0x2cb),confirmMoveQuiz),document[_0x421d86(0x18e)](_0x421d86(0x1bb))[_0x421d86(0x41a)]('click',()=>quizSettingsModal[_0x421d86(0x367)][_0x421d86(0x529)](_0x421d86(0x410))),document[_0x421d86(0x18e)](_0x421d86(0x2a7))[_0x421d86(0x41a)](_0x421d86(0x2cb),confirmQuizSettings),document[_0x421d86(0x18e)]('cancel-quiz-status-btn')['addEventListener'](_0x421d86(0x2cb),()=>quizStatusModal[_0x421d86(0x367)][_0x421d86(0x529)](_0x421d86(0x410))),document[_0x421d86(0x18e)](_0x421d86(0x6f3))[_0x421d86(0x41a)]('click',confirmQuizStatus);const _0x34181c=document[_0x421d86(0x18e)](_0x421d86(0x609));document[_0x421d86(0x18e)](_0x421d86(0x4b4))['addEventListener'](_0x421d86(0x2cb),()=>{const _0x5b8938=_0x421d86;_0x34181c[_0x5b8938(0x367)][_0x5b8938(0x529)]('hidden');}),document[_0x421d86(0x18e)]('export-compact-pdf-btn')[_0x421d86(0x41a)](_0x421d86(0x2cb),async()=>{const _0x462568=_0x421d86,_0x9c7423=allQuizzes[_0x462568(0x3bb)](_0x1dcc7d=>_0x1dcc7d['id']===actionTargetId);_0x9c7423?(currentQuizData=_0x9c7423,exportQuizAsWorksheetPDF()):showMessage(_0x462568(0x3fe)),_0x34181c[_0x462568(0x367)][_0x462568(0x529)](_0x462568(0x410));}),document[_0x421d86(0x18e)](_0x421d86(0x1e7))[_0x421d86(0x41a)]('click',async()=>{const _0x122dfe=_0x421d86,_0x356d62=allQuizzes['find'](_0x4be7df=>_0x4be7df['id']===actionTargetId);_0x356d62?(currentQuizData=_0x356d62,exportQuizAsTutorPDF()):showMessage(_0x122dfe(0x3fe)),_0x34181c['classList'][_0x122dfe(0x529)](_0x122dfe(0x410));}),document['getElementById'](_0x421d86(0x4aa))[_0x421d86(0x41a)](_0x421d86(0x2cb),openGlobalLiveModal),document[_0x421d86(0x18e)](_0x421d86(0x723))[_0x421d86(0x41a)]('click',()=>{const _0xcae269=_0x421d86;document[_0xcae269(0x18e)]('global-live-game-modal')[_0xcae269(0x367)][_0xcae269(0x529)](_0xcae269(0x410)),selectedGlobalQuizId=null;}),document['getElementById'](_0x421d86(0x4bf))['addEventListener'](_0x421d86(0x11d),_0x4ed5cd=>renderGlobalQuizList(_0x4ed5cd['target'][_0x421d86(0x588)])),document[_0x421d86(0x18e)](_0x421d86(0x23e))[_0x421d86(0x41a)]('click',()=>{const _0x559e6c=_0x421d86,_0x3a75ba=selectedGlobalQuizId;if(!_0x3a75ba)return;document[_0x559e6c(0x18e)](_0x559e6c(0x33e))[_0x559e6c(0x367)][_0x559e6c(0x529)]('hidden'),handleStartLiveRace(_0x3a75ba);}),document[_0x421d86(0x18e)](_0x421d86(0x263))[_0x421d86(0x41a)](_0x421d86(0x11d),renderProjects),document[_0x421d86(0x18e)](_0x421d86(0x790))['addEventListener'](_0x421d86(0x52b),renderProjects),document[_0x421d86(0x18e)](_0x421d86(0x7c3))[_0x421d86(0x41a)](_0x421d86(0x11d),renderQuizzes),manageTab['addEventListener'](_0x421d86(0x2cb),()=>switchProjectTab(_0x421d86(0x352))),resultsTab[_0x421d86(0x41a)](_0x421d86(0x2cb),()=>switchProjectTab(_0x421d86(0x60d))),leaderboardTab[_0x421d86(0x41a)](_0x421d86(0x2cb),()=>switchProjectTab(_0x421d86(0x4d0))),document['getElementById'](_0x421d86(0x63e))[_0x421d86(0x41a)]('click',()=>switchQuizDetailTab(_0x421d86(0x722))),document['getElementById'](_0x421d86(0x408))[_0x421d86(0x41a)](_0x421d86(0x2cb),()=>switchQuizDetailTab('scores')),document[_0x421d86(0x18e)](_0x421d86(0x2d8))[_0x421d86(0x41a)]('click',()=>switchQuizDetailTab('leaderboard-quiz')),document[_0x421d86(0x18e)](_0x421d86(0x6ab))[_0x421d86(0x41a)](_0x421d86(0x2cb),handleAnalyzeClass),generateWorksheetBtn['addEventListener'](_0x421d86(0x2cb),generateWorksheet);const _0x233783=document[_0x421d86(0x18e)](_0x421d86(0x303)),_0x18b216=document[_0x421d86(0x18e)]('link-input-area'),_0x51ab25=document[_0x421d86(0x18e)](_0x421d86(0x409)),_0x70a716=document[_0x421d86(0x18e)](_0x421d86(0x52e)),_0x1d5026=document[_0x421d86(0x18e)](_0x421d86(0x65f)),_0x300cfc=document['getElementById'](_0x421d86(0x46f));topicTab[_0x421d86(0x41a)](_0x421d86(0x2cb),()=>{const _0xeea4b0=_0x421d86;topicTab[_0xeea4b0(0x367)]['add'](_0xeea4b0(0x66e)),textTab[_0xeea4b0(0x367)][_0xeea4b0(0x33f)](_0xeea4b0(0x66e)),fileTab[_0xeea4b0(0x367)][_0xeea4b0(0x33f)](_0xeea4b0(0x66e)),worksheetTab[_0xeea4b0(0x367)][_0xeea4b0(0x33f)](_0xeea4b0(0x66e));if(_0x233783)_0x233783['classList'][_0xeea4b0(0x33f)](_0xeea4b0(0x66e));if(_0x51ab25)_0x51ab25[_0xeea4b0(0x367)][_0xeea4b0(0x33f)](_0xeea4b0(0x66e));if(_0x1d5026)_0x1d5026[_0xeea4b0(0x367)][_0xeea4b0(0x33f)](_0xeea4b0(0x66e));topicInputArea[_0xeea4b0(0x367)][_0xeea4b0(0x33f)](_0xeea4b0(0x410)),textInputArea['classList'][_0xeea4b0(0x529)](_0xeea4b0(0x410)),fileInputArea[_0xeea4b0(0x367)]['add'](_0xeea4b0(0x410)),worksheetInputArea[_0xeea4b0(0x367)][_0xeea4b0(0x529)](_0xeea4b0(0x410));if(_0x18b216)_0x18b216[_0xeea4b0(0x367)]['add']('hidden');if(_0x70a716)_0x70a716[_0xeea4b0(0x367)][_0xeea4b0(0x529)](_0xeea4b0(0x410));if(_0x300cfc)_0x300cfc[_0xeea4b0(0x367)][_0xeea4b0(0x529)](_0xeea4b0(0x410));}),textTab['addEventListener']('click',()=>{const _0xdfa00d=_0x421d86;textTab[_0xdfa00d(0x367)]['add']('active'),topicTab[_0xdfa00d(0x367)][_0xdfa00d(0x33f)]('active'),fileTab['classList'][_0xdfa00d(0x33f)](_0xdfa00d(0x66e)),worksheetTab[_0xdfa00d(0x367)][_0xdfa00d(0x33f)]('active');if(_0x233783)_0x233783['classList'][_0xdfa00d(0x33f)](_0xdfa00d(0x66e));if(_0x51ab25)_0x51ab25['classList'][_0xdfa00d(0x33f)]('active');if(_0x1d5026)_0x1d5026[_0xdfa00d(0x367)][_0xdfa00d(0x33f)]('active');textInputArea[_0xdfa00d(0x367)]['remove'](_0xdfa00d(0x410)),topicInputArea['classList'][_0xdfa00d(0x529)]('hidden'),fileInputArea[_0xdfa00d(0x367)][_0xdfa00d(0x529)](_0xdfa00d(0x410)),worksheetInputArea[_0xdfa00d(0x367)][_0xdfa00d(0x529)](_0xdfa00d(0x410));if(_0x18b216)_0x18b216[_0xdfa00d(0x367)][_0xdfa00d(0x529)](_0xdfa00d(0x410));if(_0x70a716)_0x70a716['classList'][_0xdfa00d(0x529)]('hidden');if(_0x300cfc)_0x300cfc[_0xdfa00d(0x367)][_0xdfa00d(0x529)](_0xdfa00d(0x410));}),fileTab[_0x421d86(0x41a)](_0x421d86(0x2cb),()=>{const _0x4f63a4=_0x421d86;fileTab['classList']['add'](_0x4f63a4(0x66e)),topicTab[_0x4f63a4(0x367)][_0x4f63a4(0x33f)](_0x4f63a4(0x66e)),textTab['classList'][_0x4f63a4(0x33f)](_0x4f63a4(0x66e)),worksheetTab['classList'][_0x4f63a4(0x33f)](_0x4f63a4(0x66e));if(_0x233783)_0x233783[_0x4f63a4(0x367)][_0x4f63a4(0x33f)]('active');if(_0x51ab25)_0x51ab25[_0x4f63a4(0x367)][_0x4f63a4(0x33f)](_0x4f63a4(0x66e));if(_0x1d5026)_0x1d5026[_0x4f63a4(0x367)][_0x4f63a4(0x33f)](_0x4f63a4(0x66e));fileInputArea[_0x4f63a4(0x367)][_0x4f63a4(0x33f)](_0x4f63a4(0x410)),topicInputArea[_0x4f63a4(0x367)][_0x4f63a4(0x529)](_0x4f63a4(0x410)),textInputArea['classList'][_0x4f63a4(0x529)](_0x4f63a4(0x410)),worksheetInputArea[_0x4f63a4(0x367)][_0x4f63a4(0x529)](_0x4f63a4(0x410));if(_0x18b216)_0x18b216[_0x4f63a4(0x367)][_0x4f63a4(0x529)]('hidden');if(_0x70a716)_0x70a716['classList'][_0x4f63a4(0x529)](_0x4f63a4(0x410));if(_0x300cfc)_0x300cfc[_0x4f63a4(0x367)][_0x4f63a4(0x529)]('hidden');}),worksheetTab['addEventListener'](_0x421d86(0x2cb),()=>{const _0x1e44e2=_0x421d86;worksheetTab['classList'][_0x1e44e2(0x529)](_0x1e44e2(0x66e)),topicTab[_0x1e44e2(0x367)][_0x1e44e2(0x33f)](_0x1e44e2(0x66e)),textTab[_0x1e44e2(0x367)]['remove']('active'),fileTab[_0x1e44e2(0x367)][_0x1e44e2(0x33f)](_0x1e44e2(0x66e));if(_0x233783)_0x233783[_0x1e44e2(0x367)][_0x1e44e2(0x33f)](_0x1e44e2(0x66e));if(_0x51ab25)_0x51ab25[_0x1e44e2(0x367)]['remove'](_0x1e44e2(0x66e));if(_0x1d5026)_0x1d5026['classList']['remove'](_0x1e44e2(0x66e));worksheetInputArea[_0x1e44e2(0x367)][_0x1e44e2(0x33f)](_0x1e44e2(0x410)),topicInputArea['classList'][_0x1e44e2(0x529)](_0x1e44e2(0x410)),textInputArea[_0x1e44e2(0x367)][_0x1e44e2(0x529)]('hidden'),fileInputArea['classList'][_0x1e44e2(0x529)](_0x1e44e2(0x410));if(_0x18b216)_0x18b216[_0x1e44e2(0x367)]['add'](_0x1e44e2(0x410));if(_0x70a716)_0x70a716['classList'][_0x1e44e2(0x529)](_0x1e44e2(0x410));if(_0x300cfc)_0x300cfc[_0x1e44e2(0x367)][_0x1e44e2(0x529)]('hidden');});const _0x3211de=document[_0x421d86(0x18e)](_0x421d86(0x2c5)),_0x32754f=document[_0x421d86(0x18e)](_0x421d86(0x3b2));_0x3211de&&_0x3211de[_0x421d86(0x41a)](_0x421d86(0x2cb),()=>{const _0x4bd28f=_0x421d86;topicTab[_0x4bd28f(0x367)]['remove'](_0x4bd28f(0x66e)),textTab[_0x4bd28f(0x367)][_0x4bd28f(0x33f)](_0x4bd28f(0x66e)),fileTab['classList'][_0x4bd28f(0x33f)](_0x4bd28f(0x66e)),worksheetTab[_0x4bd28f(0x367)]['remove'](_0x4bd28f(0x66e));if(_0x233783)_0x233783[_0x4bd28f(0x367)][_0x4bd28f(0x33f)]('active');if(_0x51ab25)_0x51ab25['classList'][_0x4bd28f(0x33f)](_0x4bd28f(0x66e));if(_0x1d5026)_0x1d5026[_0x4bd28f(0x367)][_0x4bd28f(0x33f)](_0x4bd28f(0x66e));_0x3211de['classList'][_0x4bd28f(0x529)](_0x4bd28f(0x66e)),topicInputArea[_0x4bd28f(0x367)][_0x4bd28f(0x529)]('hidden'),textInputArea[_0x4bd28f(0x367)][_0x4bd28f(0x529)](_0x4bd28f(0x410)),fileInputArea[_0x4bd28f(0x367)][_0x4bd28f(0x529)](_0x4bd28f(0x410)),worksheetInputArea[_0x4bd28f(0x367)][_0x4bd28f(0x529)](_0x4bd28f(0x410));if(_0x18b216)_0x18b216[_0x4bd28f(0x367)]['add'](_0x4bd28f(0x410));if(_0x70a716)_0x70a716['classList'][_0x4bd28f(0x529)]('hidden');if(_0x300cfc)_0x300cfc[_0x4bd28f(0x367)][_0x4bd28f(0x529)]('hidden');_0x32754f[_0x4bd28f(0x367)][_0x4bd28f(0x33f)](_0x4bd28f(0x410)),displayQuestionBank();});_0x233783&&(_0x233783[_0x421d86(0x41a)](_0x421d86(0x2cb),()=>{const _0x9a64fd=_0x421d86;_0x233783[_0x9a64fd(0x367)]['add'](_0x9a64fd(0x66e)),topicTab[_0x9a64fd(0x367)][_0x9a64fd(0x33f)](_0x9a64fd(0x66e)),textTab[_0x9a64fd(0x367)][_0x9a64fd(0x33f)]('active'),fileTab['classList'][_0x9a64fd(0x33f)](_0x9a64fd(0x66e)),worksheetTab[_0x9a64fd(0x367)][_0x9a64fd(0x33f)](_0x9a64fd(0x66e));if(_0x51ab25)_0x51ab25[_0x9a64fd(0x367)][_0x9a64fd(0x33f)](_0x9a64fd(0x66e));if(_0x1d5026)_0x1d5026[_0x9a64fd(0x367)][_0x9a64fd(0x33f)]('active');_0x18b216[_0x9a64fd(0x367)]['remove'](_0x9a64fd(0x410)),topicInputArea[_0x9a64fd(0x367)]['add'](_0x9a64fd(0x410)),textInputArea[_0x9a64fd(0x367)][_0x9a64fd(0x529)](_0x9a64fd(0x410)),fileInputArea[_0x9a64fd(0x367)][_0x9a64fd(0x529)](_0x9a64fd(0x410)),worksheetInputArea[_0x9a64fd(0x367)][_0x9a64fd(0x529)]('hidden');if(_0x70a716)_0x70a716[_0x9a64fd(0x367)]['add']('hidden');if(_0x300cfc)_0x300cfc[_0x9a64fd(0x367)][_0x9a64fd(0x529)]('hidden');}),document[_0x421d86(0x18e)](_0x421d86(0x291))[_0x421d86(0x41a)](_0x421d86(0x2cb),handleGenerateFromLink));_0x51ab25&&_0x51ab25['addEventListener']('click',()=>{const _0x53e1fe=_0x421d86;_0x51ab25[_0x53e1fe(0x367)][_0x53e1fe(0x529)]('active'),topicTab[_0x53e1fe(0x367)][_0x53e1fe(0x33f)](_0x53e1fe(0x66e)),textTab[_0x53e1fe(0x367)][_0x53e1fe(0x33f)]('active'),fileTab[_0x53e1fe(0x367)][_0x53e1fe(0x33f)]('active'),worksheetTab['classList']['remove'](_0x53e1fe(0x66e));if(_0x233783)_0x233783[_0x53e1fe(0x367)]['remove'](_0x53e1fe(0x66e));if(_0x3211de)_0x3211de['classList']['remove'](_0x53e1fe(0x66e));if(_0x1d5026)_0x1d5026[_0x53e1fe(0x367)][_0x53e1fe(0x33f)](_0x53e1fe(0x66e));_0x70a716[_0x53e1fe(0x367)][_0x53e1fe(0x33f)](_0x53e1fe(0x410)),topicInputArea[_0x53e1fe(0x367)][_0x53e1fe(0x529)](_0x53e1fe(0x410)),textInputArea[_0x53e1fe(0x367)]['add']('hidden'),fileInputArea[_0x53e1fe(0x367)]['add'](_0x53e1fe(0x410)),worksheetInputArea[_0x53e1fe(0x367)][_0x53e1fe(0x529)](_0x53e1fe(0x410));if(_0x18b216)_0x18b216[_0x53e1fe(0x367)]['add'](_0x53e1fe(0x410));if(_0x32754f)_0x32754f['classList']['add']('hidden');if(_0x300cfc)_0x300cfc[_0x53e1fe(0x367)][_0x53e1fe(0x529)]('hidden');});_0x1d5026&&_0x1d5026[_0x421d86(0x41a)](_0x421d86(0x2cb),()=>{const _0x96577c=_0x421d86;_0x1d5026[_0x96577c(0x367)]['add'](_0x96577c(0x66e)),topicTab['classList'][_0x96577c(0x33f)](_0x96577c(0x66e)),textTab[_0x96577c(0x367)][_0x96577c(0x33f)](_0x96577c(0x66e)),fileTab[_0x96577c(0x367)][_0x96577c(0x33f)](_0x96577c(0x66e)),worksheetTab[_0x96577c(0x367)]['remove'](_0x96577c(0x66e));if(_0x233783)_0x233783['classList'][_0x96577c(0x33f)]('active');if(_0x51ab25)_0x51ab25[_0x96577c(0x367)][_0x96577c(0x33f)](_0x96577c(0x66e));if(_0x3211de)_0x3211de['classList']['remove'](_0x96577c(0x66e));_0x300cfc['classList'][_0x96577c(0x33f)](_0x96577c(0x410)),topicInputArea['classList'][_0x96577c(0x529)]('hidden'),textInputArea['classList'][_0x96577c(0x529)]('hidden'),fileInputArea[_0x96577c(0x367)][_0x96577c(0x529)](_0x96577c(0x410)),worksheetInputArea[_0x96577c(0x367)]['add']('hidden');if(_0x18b216)_0x18b216[_0x96577c(0x367)][_0x96577c(0x529)](_0x96577c(0x410));if(_0x70a716)_0x70a716['classList'][_0x96577c(0x529)](_0x96577c(0x410));if(_0x32754f)_0x32754f[_0x96577c(0x367)][_0x96577c(0x529)]('hidden');});const _0x5a2624=document['getElementById']('blueprint-upload-input'),_0x55a869=document[_0x421d86(0x18e)](_0x421d86(0x2fc));_0x5a2624&&_0x5a2624['addEventListener'](_0x421d86(0x52b),_0x2b24da=>{const _0x3452f8=_0x421d86;_0x2b24da['target'][_0x3452f8(0x168)]['length']>0x0?_0x55a869[_0x3452f8(0x467)]=![]:_0x55a869[_0x3452f8(0x467)]=!![];});_0x55a869&&_0x55a869['addEventListener'](_0x421d86(0x2cb),handleGenerateFromBlueprint);const _0x55ab3a=document[_0x421d86(0x18e)](_0x421d86(0x289)),_0x19f7a1=document['getElementById'](_0x421d86(0x72f));_0x55ab3a&&_0x55ab3a[_0x421d86(0x41a)](_0x421d86(0x52b),_0x1d4545=>{_0x19f7a1['disabled']=_0x1d4545['target']['files']['length']===0x0;});_0x19f7a1&&_0x19f7a1[_0x421d86(0x41a)](_0x421d86(0x2cb),handleGenerateParallelTest);loadQuizBtn[_0x421d86(0x41a)](_0x421d86(0x2cb),handleLoadQuiz),startQuizBtn[_0x421d86(0x41a)]('click',()=>{const _0x5e45f7=_0x421d86,_0x18f554=document[_0x5e45f7(0x18e)](_0x5e45f7(0x2fe));currentStudentName=_0x18f554[_0x5e45f7(0x588)];if(!currentStudentName){showMessage(_0x5e45f7(0x42d));return;}studentNameSelectionView['classList']['add'](_0x5e45f7(0x410)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x421d86(0x18e)](_0x421d86(0x288))[_0x421d86(0x41a)](_0x421d86(0x2cb),showJoinGameView),document['getElementById'](_0x421d86(0x48c))[_0x421d86(0x41a)](_0x421d86(0x2cb),handleJoinLiveGame),document[_0x421d86(0x18e)](_0x421d86(0x7c7))[_0x421d86(0x41a)](_0x421d86(0x2cb),()=>showView(_0x421d86(0x2c4)));const _0x1d33d5=()=>{const _0x5b1f88=_0x421d86,_0x56c257=document[_0x5b1f88(0x18e)](_0x5b1f88(0x525))['textContent'][_0x5b1f88(0x2bf)](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x5b1f88(0x5ba)+(_0x56c257||_0x5b1f88(0x156));},_0x2693b3=document[_0x421d86(0x18e)](_0x421d86(0x71e));_0x2693b3&&_0x2693b3[_0x421d86(0x41a)]('input',_0x229aee=>{const _0x48a1b9=_0x421d86,_0x362108=_0x229aee[_0x48a1b9(0x734)]['value']['toLowerCase']()[_0x48a1b9(0x686)](),_0x2507b9=document[_0x48a1b9(0x18e)]('math-topics-checkbox-container'),_0x64098b=_0x2507b9['querySelectorAll']('.topic-category');_0x64098b[_0x48a1b9(0x13c)](_0x15bd1c=>{const _0x3c9546=_0x48a1b9;let _0x5d060b=![];const _0xdf97b=_0x15bd1c[_0x3c9546(0x511)](_0x3c9546(0x22b));_0xdf97b[_0x3c9546(0x13c)](_0xf37933=>{const _0x1f9b2d=_0x3c9546,_0x32a44e=_0xf37933['querySelector'](_0x1f9b2d(0x697))['textContent'][_0x1f9b2d(0x682)]();_0x32a44e[_0x1f9b2d(0x58e)](_0x362108)?(_0xf37933[_0x1f9b2d(0x779)][_0x1f9b2d(0x41c)]=_0x1f9b2d(0x7b1),_0x5d060b=!![]):_0xf37933['style'][_0x1f9b2d(0x41c)]=_0x1f9b2d(0x2c3);}),_0x5d060b?_0x15bd1c[_0x3c9546(0x779)][_0x3c9546(0x41c)]=_0x3c9546(0x2d1):_0x15bd1c[_0x3c9546(0x779)]['display']=_0x3c9546(0x2c3);});});document['getElementById'](_0x421d86(0x575))[_0x421d86(0x41a)](_0x421d86(0x2cb),()=>exportTableAsImage(_0x421d86(0x72e),_0x1d33d5())),document[_0x421d86(0x18e)](_0x421d86(0x789))[_0x421d86(0x41a)](_0x421d86(0x2cb),()=>exportTableAsPDF(_0x421d86(0x19f),_0x1d33d5())),document['getElementById'](_0x421d86(0x128))['addEventListener'](_0x421d86(0x2cb),()=>exportTableAsWord('results-table-container',_0x1d33d5())),document[_0x421d86(0x18e)](_0x421d86(0x56a))[_0x421d86(0x41a)](_0x421d86(0x2cb),()=>exportTableAsExcel('results-table',_0x1d33d5()));const _0x3cc769=()=>{const _0x7ecb0b=_0x421d86,_0x4b1b86=document['getElementById'](_0x7ecb0b(0x525))[_0x7ecb0b(0x473)]['replace'](/[^a-z0-9]/gi,'_')['toLowerCase']();return _0x7ecb0b(0x632)+(_0x4b1b86||'quiz');};document[_0x421d86(0x18e)](_0x421d86(0x3d4))['addEventListener'](_0x421d86(0x2cb),()=>exportTableAsImage('quiz-leaderboard-table-container',_0x3cc769())),document[_0x421d86(0x18e)]('export-leaderboard-pdf-btn')[_0x421d86(0x41a)](_0x421d86(0x2cb),()=>exportTableAsPDF(_0x421d86(0x4f6),_0x3cc769())),document[_0x421d86(0x18e)](_0x421d86(0x353))[_0x421d86(0x41a)](_0x421d86(0x2cb),()=>exportTableAsWord(_0x421d86(0x503),_0x3cc769())),document[_0x421d86(0x18e)](_0x421d86(0x671))[_0x421d86(0x41a)](_0x421d86(0x2cb),()=>exportTableAsExcel(_0x421d86(0x4f6),_0x3cc769())),projectQuizzesList['addEventListener']('click',async _0x4eec76=>{const _0x3e3f64=_0x421d86,_0x4794dd=_0x4eec76['target'][_0x3e3f64(0x4ed)](_0x3e3f64(0x7ca));if(_0x4794dd){const _0x1dc261=_0x4794dd['dataset'][_0x3e3f64(0x5df)],_0x5018ec=allQuizzes[_0x3e3f64(0x3bb)](_0x287036=>_0x287036['id']===_0x1dc261);if(_0x5018ec&&_0x5018ec[_0x3e3f64(0x5f9)]){const _0x55852f=_0x5018ec[_0x3e3f64(0x5f9)],_0x57812d=_0x3e3f64(0x4d9)+_0x5018ec[_0x3e3f64(0x430)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x55852f[_0x3e3f64(0x5ea)][_0x3e3f64(0x6f5)](_0x2a6f9d=>_0x3e3f64(0x710)+_0x2a6f9d+_0x3e3f64(0x315))[_0x3e3f64(0x48a)]('')+_0x3e3f64(0x191)+_0x55852f[_0x3e3f64(0x445)]+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>'+_0x55852f[_0x3e3f64(0x56c)][_0x3e3f64(0x6f5)](_0x4b0ae8=>_0x3e3f64(0x738)+_0x4b0ae8[_0x3e3f64(0x4ba)]+'</p><p><strong>เฉลย:</strong>\x20'+_0x4b0ae8[_0x3e3f64(0x3a7)]+_0x3e3f64(0x381))[_0x3e3f64(0x48a)]('')+_0x3e3f64(0x587);document[_0x3e3f64(0x18e)](_0x3e3f64(0x1ad))[_0x3e3f64(0x473)]=_0x3e3f64(0x399)+_0x5018ec['topic'],document[_0x3e3f64(0x18e)](_0x3e3f64(0x277))[_0x3e3f64(0x612)]=_0x57812d,document[_0x3e3f64(0x18e)](_0x3e3f64(0x3af))['classList'][_0x3e3f64(0x33f)](_0x3e3f64(0x410)),showConfirmation(_0x3e3f64(0x323),()=>handleGenerateLessonPlan(_0x1dc261)),document[_0x3e3f64(0x18e)](_0x3e3f64(0x432))[_0x3e3f64(0x2f1)]('h3')[_0x3e3f64(0x473)]=_0x3e3f64(0x504),document['getElementById'](_0x3e3f64(0x54c))[_0x3e3f64(0x473)]=_0x3e3f64(0x3ac);}else handleGenerateLessonPlan(_0x1dc261);return;}const _0x4664e2=_0x4eec76[_0x3e3f64(0x734)][_0x3e3f64(0x4ed)]('.compare-results-btn'),_0x3ea5a4=_0x4eec76[_0x3e3f64(0x734)]['closest']('.star-quiz-btn'),_0x152b32=_0x4eec76['target']['closest']('.delete-quiz-btn'),_0x17e96a=_0x4eec76['target']['closest']('.copy-quiz-id-list-btn'),_0x5db9cc=_0x4eec76[_0x3e3f64(0x734)][_0x3e3f64(0x4ed)](_0x3e3f64(0x161)),_0x290bf9=_0x4eec76[_0x3e3f64(0x734)][_0x3e3f64(0x4ed)](_0x3e3f64(0x3fd)),_0x2534a9=_0x4eec76[_0x3e3f64(0x734)][_0x3e3f64(0x4ed)](_0x3e3f64(0x6ee)),_0xec976e=_0x4eec76[_0x3e3f64(0x734)]['closest']('.move-quiz-btn'),_0x280110=_0x4eec76['target']['closest'](_0x3e3f64(0x412)),_0x4f25cf=_0x4eec76[_0x3e3f64(0x734)][_0x3e3f64(0x4ed)](_0x3e3f64(0x340)),_0x5cfef4=_0x4eec76[_0x3e3f64(0x734)][_0x3e3f64(0x4ed)](_0x3e3f64(0x20e)),_0x3f5701=_0x4eec76['target']['closest'](_0x3e3f64(0x64b)),_0x4b5234=_0x4eec76[_0x3e3f64(0x734)]['closest'](_0x3e3f64(0x279)),_0x198a74=_0x4eec76['target'][_0x3e3f64(0x4ed)](_0x3e3f64(0x76c)),_0x211d42=_0x4eec76['target'][_0x3e3f64(0x4ed)](_0x3e3f64(0x166));if(_0x4664e2){const _0x2945ea=_0x4664e2['dataset'][_0x3e3f64(0x5df)],_0x43021f=_0x4664e2['dataset'][_0x3e3f64(0x229)];handleCompareResults(_0x2945ea,_0x43021f);}else{if(_0x211d42){const _0x182eb0=_0x211d42[_0x3e3f64(0x5b0)][_0x3e3f64(0x5df)];actionTargetId=_0x182eb0,document[_0x3e3f64(0x18e)]('export-pdf-modal')[_0x3e3f64(0x367)][_0x3e3f64(0x33f)]('hidden');}else{if(_0x4b5234){const _0x8158c=_0x4b5234['dataset'][_0x3e3f64(0x5df)];handleOpenQuizEditor(_0x8158c);}else{if(_0x198a74){const _0x172c5e=_0x198a74[_0x3e3f64(0x5b0)][_0x3e3f64(0x5df)],_0x14dc73=allQuizzes['find'](_0x1146ca=>_0x1146ca['id']===_0x172c5e);_0x14dc73?handleGenerateParallelFromBank(_0x14dc73):showMessage(_0x3e3f64(0x3fe));}else{if(_0x3ea5a4){const _0x4404bb=_0x3ea5a4[_0x3e3f64(0x5b0)][_0x3e3f64(0x5df)];handleToggleStarQuiz(_0x4404bb);}else{if(_0x3f5701){const _0x44974e=_0x3f5701['dataset']['quizId'];handleStartLiveRace(_0x44974e);}else{if(_0x152b32){const _0x4bc2b6=_0x152b32[_0x3e3f64(0x5b0)][_0x3e3f64(0x5df)],_0x3764bc=_0x152b32['dataset'][_0x3e3f64(0x430)];showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22'+_0x3764bc+'\x22?\x20ผลการส่งงานทั้งหมดของแบบทดสอบนี้จะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0x4bc2b6));}else{if(_0x17e96a){const _0x1004e0=_0x17e96a[_0x3e3f64(0x5b0)][_0x3e3f64(0x5df)];copyTextToClipboard(_0x1004e0,'คัดลอกรหัสแล้ว!');}else{if(_0x5db9cc){const _0x131dea=_0x5db9cc['dataset']['quizId'],_0x5beb1b=doc(db,'artifacts/'+appId+_0x3e3f64(0x59e),_0x131dea),_0x5998cf=await getDoc(_0x5beb1b);if(_0x5998cf['exists']()){const _0x55ceb0={'id':_0x5998cf['id'],..._0x5998cf[_0x3e3f64(0x46b)]()};startPresentation(_0x55ceb0);}else showMessage(_0x3e3f64(0x3fe));}else{if(_0x290bf9){const _0x330558=_0x290bf9[_0x3e3f64(0x5b0)][_0x3e3f64(0x5df)],_0x468ce8=doc(db,_0x3e3f64(0x199)+appId+'/public/data/quizzes',_0x330558),_0x1549e4=await getDoc(_0x468ce8);_0x1549e4['exists']()?(currentQuizData={'id':_0x1549e4['id'],..._0x1549e4[_0x3e3f64(0x46b)]()},startAdminTest()):showMessage(_0x3e3f64(0x3fe));}else{if(_0x2534a9){const _0x45de8b=_0x2534a9['dataset'][_0x3e3f64(0x5df)],_0x398443=_0x2534a9[_0x3e3f64(0x5b0)][_0x3e3f64(0x430)];handleRenameQuiz(_0x45de8b,_0x398443);}else{if(_0xec976e){const _0x3e244d=_0xec976e['dataset'][_0x3e3f64(0x5df)];handleMoveQuiz(_0x3e244d);}else{if(_0x280110){const _0x17dab4=_0x280110[_0x3e3f64(0x5b0)][_0x3e3f64(0x5df)];handleQuizSettings(_0x17dab4);}else{if(_0x4f25cf){const _0x4a9ace=_0x4f25cf[_0x3e3f64(0x5b0)]['quizId'];handleQuizStatus(_0x4a9ace);}else{if(_0x5cfef4){const _0x5bf1f0=_0x5cfef4['dataset'][_0x3e3f64(0x5df)];handleDuplicateQuiz(_0x5bf1f0);}}}}}}}}}}}}}}}}),document[_0x421d86(0x18e)]('quiz-leaderboard-table')[_0x421d86(0x2f1)](_0x421d86(0x769))['addEventListener'](_0x421d86(0x2cb),_0x4354dc=>{const _0x4aaf9e=_0x421d86,_0x5da568=_0x4354dc[_0x4aaf9e(0x734)][_0x4aaf9e(0x4ed)]('.sortable-header');if(!_0x5da568||!_0x5da568[_0x4aaf9e(0x5b0)][_0x4aaf9e(0x54b)])return;const _0x653bdb=_0x5da568[_0x4aaf9e(0x5b0)][_0x4aaf9e(0x54b)];if(quizLeaderboardSortBy===_0x653bdb)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x4aaf9e(0x1fd)?'desc':_0x4aaf9e(0x1fd);else{quizLeaderboardSortBy=_0x653bdb;const _0x5d077a=['studentName'];quizLeaderboardSortOrder=_0x5d077a[_0x4aaf9e(0x58e)](_0x653bdb)?_0x4aaf9e(0x1fd):'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x4aaf9e(0x13e));}),document[_0x421d86(0x18e)](_0x421d86(0x23d))[_0x421d86(0x41a)](_0x421d86(0x2cb),closePresentation),document[_0x421d86(0x18e)](_0x421d86(0x6c9))[_0x421d86(0x41a)](_0x421d86(0x2cb),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document[_0x421d86(0x18e)]('next-question-btn')[_0x421d86(0x41a)]('click',()=>{const _0xf567a4=_0x421d86;currentQuizData[_0xf567a4(0x366)]&&currentPresentationSlide<currentQuizData[_0xf567a4(0x366)][_0xf567a4(0x387)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document['addEventListener'](_0x421d86(0x6a1),()=>{const _0x2f3e5c=_0x421d86;!document[_0x2f3e5c(0x1f7)]&&(presentationModal[_0x2f3e5c(0x779)][_0x2f3e5c(0x41c)]=_0x2f3e5c(0x2c3));}),document[_0x421d86(0x18e)](_0x421d86(0x1f8))['addEventListener'](_0x421d86(0x2cb),handleDeleteAllStudents),studentList['addEventListener'](_0x421d86(0x2cb),_0x5b2bfc=>{const _0x2a0cfb=_0x421d86,_0xfaf20f=_0x5b2bfc[_0x2a0cfb(0x734)][_0x2a0cfb(0x4ed)](_0x2a0cfb(0x656));if(_0xfaf20f){const _0x595d4c=_0xfaf20f['dataset'][_0x2a0cfb(0x355)];handleDeleteStudent(_0x595d4c);}}),document[_0x421d86(0x18e)](_0x421d86(0x2ab))['addEventListener']('click',handleGenerateFromFileClick),fileUploadInput['addEventListener']('change',_0x1c3d45=>{const _0x541804=_0x421d86,_0x24b844=_0x1c3d45[_0x541804(0x734)][_0x541804(0x168)][0x0],_0xda1f22=document['getElementById']('generate-from-file-btn');_0x24b844?(selectedFile=_0x24b844,_0xda1f22[_0x541804(0x467)]=![]):(selectedFile=null,_0xda1f22['disabled']=!![]);}),document[_0x421d86(0x18e)](_0x421d86(0x5dd))['addEventListener'](_0x421d86(0x52b),_0x440abe=>{const _0x5938a1=_0x421d86,_0x212c4a=document[_0x5938a1(0x18e)]('timer-duration-container'),_0x5efdce=document['getElementById'](_0x5938a1(0x620)),_0x4f838f=document['getElementById'](_0x5938a1(0x5a5));_0x440abe['target']['value']===_0x5938a1(0x2c3)?_0x212c4a[_0x5938a1(0x367)]['add']('hidden'):(_0x212c4a[_0x5938a1(0x367)][_0x5938a1(0x33f)](_0x5938a1(0x410)),_0x440abe[_0x5938a1(0x734)][_0x5938a1(0x588)]===_0x5938a1(0x795)?(_0x5efdce['textContent']='ระยะเวลา\x20(นาที):',_0x4f838f[_0x5938a1(0x588)]='10'):(_0x5efdce[_0x5938a1(0x473)]=_0x5938a1(0x483),_0x4f838f[_0x5938a1(0x588)]='30'));}),document['getElementById'](_0x421d86(0x34a))[_0x421d86(0x41a)]('change',_0x19aa85=>{const _0x54a9f0=_0x421d86,_0x2124ab=document[_0x54a9f0(0x18e)](_0x54a9f0(0x572)),_0x572159=_0x19aa85[_0x54a9f0(0x734)][_0x54a9f0(0x588)],_0x4fdd79=document[_0x54a9f0(0x2f1)](_0x54a9f0(0x62a)),_0x30e5c3=document[_0x54a9f0(0x18e)](_0x54a9f0(0x690)),_0x500573=document[_0x54a9f0(0x18e)](_0x54a9f0(0x3e7));_0x572159==='matching'?_0x4fdd79[_0x54a9f0(0x473)]=_0x54a9f0(0x4cf):_0x4fdd79['textContent']=_0x54a9f0(0x2f3),_0x572159===_0x54a9f0(0x4c8)||_0x572159===_0x54a9f0(0x35f)||_0x572159===_0x54a9f0(0x211)?_0x2124ab[_0x54a9f0(0x367)][_0x54a9f0(0x33f)](_0x54a9f0(0x410)):_0x2124ab[_0x54a9f0(0x367)][_0x54a9f0(0x529)]('hidden'),_0x30e5c3[_0x54a9f0(0x1ac)]=_0x500573[_0x54a9f0(0x588)];}),document[_0x421d86(0x18e)](_0x421d86(0x3e7))['addEventListener']('input',_0x3532bb=>{const _0xd06d2e=_0x421d86;document['getElementById'](_0xd06d2e(0x690))[_0xd06d2e(0x1ac)]=_0x3532bb[_0xd06d2e(0x734)][_0xd06d2e(0x588)];}),document[_0x421d86(0x18e)]('modal-timer-mode-select')[_0x421d86(0x41a)](_0x421d86(0x52b),_0x4eb772=>{const _0xbcf2c7=_0x421d86,_0x54b5d5=document[_0xbcf2c7(0x18e)](_0xbcf2c7(0x3bf)),_0x5f54df=document[_0xbcf2c7(0x18e)](_0xbcf2c7(0x41b)),_0x383930=document[_0xbcf2c7(0x18e)](_0xbcf2c7(0x4b7));_0x4eb772[_0xbcf2c7(0x734)][_0xbcf2c7(0x588)]===_0xbcf2c7(0x2c3)?_0x54b5d5[_0xbcf2c7(0x367)][_0xbcf2c7(0x529)](_0xbcf2c7(0x410)):(_0x54b5d5[_0xbcf2c7(0x367)][_0xbcf2c7(0x33f)](_0xbcf2c7(0x410)),_0x4eb772['target'][_0xbcf2c7(0x588)]===_0xbcf2c7(0x795)?_0x5f54df[_0xbcf2c7(0x473)]='ระยะเวลา\x20(นาที):':_0x5f54df['textContent']=_0xbcf2c7(0x483));}),document[_0x421d86(0x18e)]('cancel-quiz-edits-btn')['addEventListener'](_0x421d86(0x2cb),()=>{const _0x32a240=_0x421d86;document[_0x32a240(0x18e)](_0x32a240(0x15e))[_0x32a240(0x367)]['add'](_0x32a240(0x410));}),document[_0x421d86(0x18e)]('cancel-quiz-edits-btn-footer')[_0x421d86(0x41a)](_0x421d86(0x2cb),()=>{const _0x596e4d=_0x421d86;document['getElementById']('quiz-editor-modal')[_0x596e4d(0x367)]['add'](_0x596e4d(0x410));}),document[_0x421d86(0x18e)](_0x421d86(0x236))[_0x421d86(0x41a)](_0x421d86(0x2cb),()=>{const _0x243538=_0x421d86;document[_0x243538(0x18e)](_0x243538(0x15e))['classList'][_0x243538(0x529)](_0x243538(0x410)),showConfirmation('การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?',handleSaveChanges);}),document[_0x421d86(0x18e)](_0x421d86(0x33d))[_0x421d86(0x41a)]('click',handleAutoFixLatex);const _0x56a2db=document[_0x421d86(0x18e)](_0x421d86(0x34f));_0x56a2db&&_0x56a2db[_0x421d86(0x41a)](_0x421d86(0x2cb),_0x549fea=>{const _0x70b190=_0x421d86,_0x3e5a92=_0x549fea['target'][_0x70b190(0x4ed)](_0x70b190(0x694));if(_0x3e5a92){const _0x2d25b9=_0x3e5a92[_0x70b190(0x4ed)]('.question-editor-item'),_0x27af2e=parseInt(_0x2d25b9[_0x70b190(0x5b0)][_0x70b190(0x29f)],0xa);handleRegenerateQuestionInEditor(_0x27af2e);}});document[_0x421d86(0x18e)](_0x421d86(0x53b))[_0x421d86(0x41a)](_0x421d86(0x2cb),openQuizBankModal),document[_0x421d86(0x18e)](_0x421d86(0x118))[_0x421d86(0x41a)](_0x421d86(0x2cb),()=>{const _0x31b073=_0x421d86;document[_0x31b073(0x18e)]('quiz-bank-modal')[_0x31b073(0x367)]['add'](_0x31b073(0x410));}),document[_0x421d86(0x18e)]('bank-quiz-search-input')[_0x421d86(0x41a)](_0x421d86(0x11d),_0x40c5f3=>renderQuizBankList(_0x40c5f3[_0x421d86(0x734)][_0x421d86(0x588)]));const _0x468070=document[_0x421d86(0x18e)]('math-topics-checkbox-container');if(_0x468070){let _0x39022b=null;_0x468070['addEventListener'](_0x421d86(0x2cb),_0x2ef7c8=>{const _0x157e5c=_0x421d86,_0x11d8b8=_0x2ef7c8[_0x157e5c(0x734)],_0x488626=_0x11d8b8['closest'](_0x157e5c(0x4ff)),_0x33bbc9=_0x11d8b8['closest'](_0x157e5c(0x57a)),_0x17f4ba=_0x11d8b8[_0x157e5c(0x4ed)](_0x157e5c(0x13a)),_0x2e7816=_0x11d8b8['closest'](_0x157e5c(0x3dd));if(_0x33bbc9){_0x2ef7c8[_0x157e5c(0x5fd)]();const _0x2cfda9=_0x33bbc9[_0x157e5c(0x5b0)]['id'],_0x2e0b6a=_0x33bbc9[_0x157e5c(0x4ed)](_0x157e5c(0x1a8))['querySelector'](_0x157e5c(0x697))[_0x157e5c(0x473)];showConfirmation(_0x157e5c(0x29e)+_0x2e0b6a+'\x22?',()=>handleDeleteCustomTopic(_0x2cfda9));}else{if(_0x488626){_0x2ef7c8[_0x157e5c(0x5fd)]();_0x39022b&&toggleTopicEditMode(_0x39022b,![]);const _0x34359d=_0x488626[_0x157e5c(0x4ed)]('[data-topic-container-id]');_0x39022b=_0x34359d,toggleTopicEditMode(_0x34359d,!![]);}else{if(_0x17f4ba){_0x2ef7c8['preventDefault']();const _0x1307c3=_0x17f4ba['dataset']['id'],_0x554305=_0x17f4ba[_0x157e5c(0x4ed)](_0x157e5c(0x19b)),_0x3484eb=_0x554305[_0x157e5c(0x2f1)]('.topic-name-input')[_0x157e5c(0x588)];handleUpdateCustomTopic(_0x1307c3,_0x3484eb),_0x39022b=null;}else{if(_0x2e7816){_0x2ef7c8['preventDefault']();const _0x4d1355=_0x2e7816[_0x157e5c(0x4ed)](_0x157e5c(0x19b));toggleTopicEditMode(_0x4d1355,![]),_0x39022b=null;}}}}}),document['getElementById'](_0x421d86(0x15b))[_0x421d86(0x41a)]('click',()=>{const _0x258d21=_0x421d86;document[_0x258d21(0x18e)](_0x258d21(0x3af))[_0x258d21(0x367)][_0x258d21(0x529)](_0x258d21(0x410));}),document[_0x421d86(0x18e)](_0x421d86(0x6bf))[_0x421d86(0x41a)]('click',()=>{const _0x159ce5=_0x421d86;document[_0x159ce5(0x18e)](_0x159ce5(0x3af))[_0x159ce5(0x367)][_0x159ce5(0x529)](_0x159ce5(0x410));}),document[_0x421d86(0x18e)]('export-lesson-pdf-btn')[_0x421d86(0x41a)](_0x421d86(0x2cb),handleExportLessonPDF);}document[_0x421d86(0x18e)](_0x421d86(0x6a0))['addEventListener'](_0x421d86(0x2cb),()=>{const _0x50ce13=_0x421d86;document[_0x50ce13(0x18e)]('comparison-modal')[_0x50ce13(0x367)]['add'](_0x50ce13(0x410));}),document[_0x421d86(0x18e)](_0x421d86(0x28b))[_0x421d86(0x41a)](_0x421d86(0x2cb),()=>{const _0x17de25=_0x421d86;document[_0x17de25(0x18e)](_0x17de25(0x43c))[_0x17de25(0x367)]['add']('hidden');}),setupComparisonModalTabs(),document[_0x421d86(0x5cf)][_0x421d86(0x41a)]('click',function(_0x221a10){const _0x2ba998=_0x421d86;if(_0x221a10[_0x2ba998(0x734)][_0x2ba998(0x367)][_0x2ba998(0x407)](_0x2ba998(0x297))){const _0x3ad871=unescape(_0x221a10[_0x2ba998(0x734)]['dataset']['topic']);startSkillPractice(_0x3ad871);}});}async function startSkillPractice(_0x2c0eb2){const _0x3c877f=_0x490f9b;studentResultArea[_0x3c877f(0x367)][_0x3c877f(0x529)](_0x3c877f(0x410)),studentQuizArea[_0x3c877f(0x612)]=_0x3c877f(0x2c1),studentQuizArea[_0x3c877f(0x367)][_0x3c877f(0x33f)]('hidden');try{const _0x3837e9=await getStandardizedTopic(_0x2c0eb2);console[_0x3c877f(0x6e4)](_0x3c877f(0x5ca)+_0x2c0eb2+_0x3c877f(0x272)+_0x3837e9+'\x22'),studentQuizArea[_0x3c877f(0x2f1)]('p')[_0x3c877f(0x473)]=_0x3c877f(0x220)+_0x3837e9+_0x3c877f(0x699);const _0x4bc1d5=collection(db,_0x3c877f(0x199)+appId+'/public/data/practiceBank'),_0x5ccba6=query(_0x4bc1d5,where(_0x3c877f(0x430),'==',_0x3837e9)),_0x20df8b=await getDocs(_0x5ccba6);if(_0x20df8b[_0x3c877f(0x69e)][_0x3c877f(0x387)]>=0x3){console['log'](_0x3c877f(0x53e)+_0x20df8b[_0x3c877f(0x69e)]['length']+_0x3c877f(0x559)+_0x3837e9+_0x3c877f(0x645));let _0x37b94e=_0x20df8b['docs'][_0x3c877f(0x6f5)](_0x5e3258=>_0x5e3258[_0x3c877f(0x46b)]());shuffleArray(_0x37b94e);const _0x111a83={'topic':_0x3837e9,'questions':_0x37b94e[_0x3c877f(0x5a2)](0x0,0x3)};displaySkillPracticeDrill(_0x111a83);}else{console[_0x3c877f(0x6e4)](_0x3c877f(0x175)+_0x3837e9+'\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...');const _0x559318=await generatePracticeQuestions(_0x3837e9);await saveDrillToPracticeBank(_0x559318,_0x3837e9),displaySkillPracticeDrill(_0x559318);}}catch(_0x57ec37){console['error']('ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:',_0x57ec37),showMessage(_0x3c877f(0x258)),studentQuizArea[_0x3c877f(0x367)][_0x3c877f(0x529)](_0x3c877f(0x410)),studentResultArea['classList'][_0x3c877f(0x33f)](_0x3c877f(0x410));}}async function saveDrillToPracticeBank(_0x4381f3,_0x1d3161){const _0x5602f3=_0x490f9b,_0x1d6d37=collection(db,_0x5602f3(0x199)+appId+_0x5602f3(0x193)),_0x3d1355=writeBatch(db);_0x4381f3[_0x5602f3(0x366)][_0x5602f3(0x13c)](_0x3fe551=>{const _0x5058fb=_0x5602f3,_0x13f8ce=doc(_0x1d6d37);_0x3d1355[_0x5058fb(0x72a)](_0x13f8ce,{'topic':_0x1d3161,'questionText':_0x3fe551[_0x5058fb(0x326)],'options':_0x3fe551[_0x5058fb(0x391)],'correctAnswerIndex':_0x3fe551[_0x5058fb(0x6bc)],'explanation':_0x3fe551[_0x5058fb(0x119)],'createdAt':serverTimestamp()});});try{await _0x3d1355['commit'](),console[_0x5602f3(0x6e4)](_0x5602f3(0x66b)+_0x4381f3[_0x5602f3(0x366)][_0x5602f3(0x387)]+_0x5602f3(0x3f9));}catch(_0x5812d9){console[_0x5602f3(0x71c)](_0x5602f3(0x35c),_0x5812d9);}}async function getStandardizedTopic(_0x213b20){const _0x7e8fef=_0x490f9b,_0x3672a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22'+_0x213b20+_0x7e8fef(0x4f8),_0x485bb1={'type':'OBJECT','properties':{'standardTopic':{'type':_0x7e8fef(0x1b2)}},'required':[_0x7e8fef(0x1d1)]};try{const _0x539bc8=await callAnalysisApi(_0x3672a,_0x485bb1);return _0x539bc8[_0x7e8fef(0x1d1)];}catch(_0x148ae8){return console[_0x7e8fef(0x71c)]('Failed\x20to\x20get\x20standardized\x20topic:',_0x148ae8),_0x213b20;}}async function generatePracticeQuestions(_0x580214){const _0x374b1e=_0x490f9b,_0x3c2ab0=_0x374b1e(0x3e9)+_0x580214+_0x374b1e(0x115)+simpleMathPrompt+_0x374b1e(0x54a),_0x1b4019={'type':_0x374b1e(0x4c5),'properties':{'questionText':{'type':_0x374b1e(0x1b2)},'options':{'type':_0x374b1e(0x308),'items':{'type':_0x374b1e(0x1b2)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x374b1e(0x1b2)}},'required':[_0x374b1e(0x326),_0x374b1e(0x391),_0x374b1e(0x6bc),_0x374b1e(0x119)]},_0x5d574c={'type':_0x374b1e(0x4c5),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x374b1e(0x308),'items':_0x1b4019}},'required':['topic',_0x374b1e(0x366)]};return await callAnalysisApi(_0x3c2ab0,_0x5d574c);}function displaySkillPracticeDrill(_0x226d42){let _0x25d992=0x0;const _0x23a27f=_0x226d42['questions'],_0x280407=()=>{const _0x36ff52=_0x27c3,_0x5a5fd1=_0x23a27f[_0x25d992],_0x5517df='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20'+(_0x25d992+0x1)+_0x36ff52(0x463)+_0x23a27f[_0x36ff52(0x387)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>'+_0x5a5fd1[_0x36ff52(0x326)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5a5fd1[_0x36ff52(0x391)][_0x36ff52(0x6f5)]((_0x2f56ef,_0x25aa2a)=>_0x36ff52(0x275)+_0x25aa2a+_0x36ff52(0x66f)+_0x25aa2a+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_'+_0x25aa2a+'\x22>'+_0x2f56ef+_0x36ff52(0x67b))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea[_0x36ff52(0x612)]=_0x5517df;if(window[_0x36ff52(0x27b)])MathJax[_0x36ff52(0x478)]([studentQuizArea]);document[_0x36ff52(0x18e)](_0x36ff52(0x1e2))[_0x36ff52(0x41a)]('click',async()=>{const _0x25b42b=await getHintForQuestion(_0x5a5fd1['questionText']);showMessage(_0x25b42b);}),document[_0x36ff52(0x18e)](_0x36ff52(0x4ee))[_0x36ff52(0x41a)](_0x36ff52(0x2cb),()=>{const _0x4f5e3c=_0x36ff52,_0x4fff8e=document[_0x4f5e3c(0x2f1)](_0x4f5e3c(0x550));if(!_0x4fff8e){showMessage(_0x4f5e3c(0x47b));return;}const _0x450a2a=document[_0x4f5e3c(0x18e)](_0x4f5e3c(0x1c0)),_0x1d8d8c=parseInt(_0x4fff8e[_0x4f5e3c(0x588)])===_0x5a5fd1[_0x4f5e3c(0x6bc)];_0x1d8d8c?(_0x450a2a[_0x4f5e3c(0x799)]=_0x4f5e3c(0x6dd),_0x450a2a[_0x4f5e3c(0x612)]=_0x4f5e3c(0x5f5)+_0x5a5fd1['explanation']):(_0x450a2a['className']='my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800',_0x450a2a[_0x4f5e3c(0x612)]='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x5a5fd1[_0x4f5e3c(0x119)]);_0x450a2a[_0x4f5e3c(0x367)][_0x4f5e3c(0x33f)](_0x4f5e3c(0x410));if(window[_0x4f5e3c(0x27b)])MathJax[_0x4f5e3c(0x478)]([_0x450a2a]);document[_0x4f5e3c(0x18e)](_0x4f5e3c(0x4ee))[_0x4f5e3c(0x367)]['add'](_0x4f5e3c(0x410)),document[_0x4f5e3c(0x18e)](_0x4f5e3c(0x1e2))[_0x4f5e3c(0x367)][_0x4f5e3c(0x529)](_0x4f5e3c(0x410)),document[_0x4f5e3c(0x18e)](_0x4f5e3c(0x1a2))[_0x4f5e3c(0x367)][_0x4f5e3c(0x33f)](_0x4f5e3c(0x410));}),document[_0x36ff52(0x18e)](_0x36ff52(0x1a2))[_0x36ff52(0x41a)]('click',()=>{const _0x32f7f7=_0x36ff52;_0x25d992++,_0x25d992<_0x23a27f[_0x32f7f7(0x387)]?_0x280407():(studentQuizArea[_0x32f7f7(0x612)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document['getElementById'](_0x32f7f7(0x75b))[_0x32f7f7(0x41a)](_0x32f7f7(0x2cb),()=>{const _0x3be107=_0x32f7f7;studentQuizArea[_0x3be107(0x367)][_0x3be107(0x529)](_0x3be107(0x410)),studentResultArea['classList'][_0x3be107(0x33f)](_0x3be107(0x410));}));});};_0x280407();}async function getHintForQuestion(_0x796cbc){const _0x43833b=_0x490f9b,_0x32aea5=_0x43833b(0x576)+_0x796cbc+_0x43833b(0x681),_0x115eba={'type':_0x43833b(0x4c5),'properties':{'hint':{'type':_0x43833b(0x1b2)}},'required':['hint']};try{const _0x12ca91=await callAnalysisApi(_0x32aea5,_0x115eba);return _0x12ca91[_0x43833b(0x6f0)];}catch(_0x2fe14e){return console[_0x43833b(0x71c)](_0x43833b(0x745),_0x2fe14e),'ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้';}}async function extractTextFromPdf(_0x2aab20){const _0x5b89cb=_0x490f9b;pdfjsLib[_0x5b89cb(0x3c5)][_0x5b89cb(0x68d)]='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';const _0x529b71=await _0x2aab20[_0x5b89cb(0x59c)](),_0x40c3c8=await pdfjsLib['getDocument'](_0x529b71)[_0x5b89cb(0x57b)],_0x3a4f84=_0x40c3c8[_0x5b89cb(0x712)];let _0x53a450='';for(let _0x411e0c=0x1;_0x411e0c<=_0x3a4f84;_0x411e0c++){const _0x557163=await _0x40c3c8[_0x5b89cb(0x685)](_0x411e0c),_0x2cc4c9=await _0x557163[_0x5b89cb(0x558)](),_0x90a2bf=_0x2cc4c9[_0x5b89cb(0x49e)]['map'](_0x1c1c9f=>_0x1c1c9f[_0x5b89cb(0x50d)])[_0x5b89cb(0x48a)]('\x20');_0x53a450+=_0x90a2bf+'\x0a\x0a';}return _0x53a450;}async function handleGenerateFromBlueprint(){const _0x1d058e=_0x490f9b,_0x5735cf=document['getElementById'](_0x1d058e(0x44b)),_0x316f60=document[_0x1d058e(0x18e)](_0x1d058e(0x38d)),_0x17619f=_0x5735cf['files'][0x0],_0x1ac1aa=_0x316f60['files'][_0x1d058e(0x387)]>0x0?_0x316f60[_0x1d058e(0x168)][0x0]:null;if(!_0x17619f){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}const _0x2c46e8=document['getElementById'](_0x1d058e(0x65d)),_0x3f9568=document['getElementById']('loader-text'),_0x2cbdd1=document[_0x1d058e(0x18e)](_0x1d058e(0x46c)),_0x1c8b3f=document[_0x1d058e(0x18e)](_0x1d058e(0x2fc));_0x1c8b3f[_0x1d058e(0x467)]=!![],document[_0x1d058e(0x18e)](_0x1d058e(0x5fe))[_0x1d058e(0x367)][_0x1d058e(0x33f)]('hidden'),_0x2cbdd1[_0x1d058e(0x612)]='',_0x2c46e8[_0x1d058e(0x367)][_0x1d058e(0x33f)](_0x1d058e(0x410));try{_0x3f9568[_0x1d058e(0x473)]=_0x1d058e(0x292);const _0x5e81d=await extractTextFromPdf(_0x17619f);if(!_0x5e81d[_0x1d058e(0x686)]())throw new Error(_0x1d058e(0x25a));let _0x571740='';_0x1ac1aa&&(_0x3f9568['textContent']=_0x1d058e(0x633),_0x571740=await extractTextFromPdf(_0x1ac1aa));_0x3f9568[_0x1d058e(0x473)]=_0x1d058e(0x403);const _0x83ddd3=document[_0x1d058e(0x18e)](_0x1d058e(0x757))[_0x1d058e(0x333)],_0x46941d=_0x83ddd3?_0x1d058e(0x382):'',_0x50fb7c=_0x571740?_0x1d058e(0x18d)+_0x571740+_0x1d058e(0x250):'',_0x27c895=_0x1d058e(0x5aa)+(_0x571740?'2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5e81d+_0x1d058e(0x250)+_0x50fb7c+_0x1d058e(0x54f)+_0x46941d+_0x1d058e(0x259)+simpleMathPrompt+_0x1d058e(0x4b1),_0x5e88d8={'type':_0x1d058e(0x4c5),'properties':{'questionText':{'type':_0x1d058e(0x1b2)},'questionType':{'type':_0x1d058e(0x1b2),'enum':[_0x1d058e(0x4c8),'short_answer']},'options':{'type':_0x1d058e(0x308),'items':{'type':_0x1d058e(0x1b2)}},'correctAnswerIndex':{'type':_0x1d058e(0x764)},'idealAnswer':{'type':_0x1d058e(0x1b2)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1d058e(0x1b2)}},'required':[_0x1d058e(0x326),_0x1d058e(0x59d),_0x1d058e(0x119)]},_0x53288a={'type':_0x1d058e(0x4c5),'properties':{'topic':{'type':_0x1d058e(0x1b2)},'questions':{'type':_0x1d058e(0x308),'items':_0x5e88d8}},'required':['topic',_0x1d058e(0x366)]};await handleApiCall(_0x27c895,_0x1d058e(0x2be),_0x53288a);}catch(_0x171a0e){console[_0x1d058e(0x71c)](_0x1d058e(0x286),_0x171a0e),showMessage(_0x1d058e(0x240)+_0x171a0e[_0x1d058e(0x5c9)]),_0x2cbdd1[_0x1d058e(0x612)]=_0x1d058e(0x23b);}finally{_0x2c46e8[_0x1d058e(0x367)]['add'](_0x1d058e(0x410)),_0x1c8b3f['disabled']=![];}}async function handleGenerateParallelFromBank(_0x563d03){const _0x2bf9b6=_0x490f9b,_0x310059=document[_0x2bf9b6(0x18e)](_0x2bf9b6(0x65d)),_0x391705=document['getElementById'](_0x2bf9b6(0x14c)),_0x5eeb74=document[_0x2bf9b6(0x18e)](_0x2bf9b6(0x46c)),_0x4677a7=document[_0x2bf9b6(0x18e)](_0x2bf9b6(0x5fe));showView('project-detail'),switchProjectTab(_0x2bf9b6(0x352)),_0x4677a7[_0x2bf9b6(0x367)][_0x2bf9b6(0x33f)]('hidden'),_0x5eeb74[_0x2bf9b6(0x612)]='',_0x310059['classList']['remove']('hidden'),_0x391705[_0x2bf9b6(0x473)]=_0x2bf9b6(0x5d8)+_0x563d03['topic']+_0x2bf9b6(0x699);try{const _0x2af6df=_0x563d03['questions'][_0x2bf9b6(0x6f5)]((_0x1fe59e,_0x2be42f)=>{const _0x5b4465=_0x2bf9b6;let _0x138db1=_0x2be42f+0x1+'.\x20'+(_0x1fe59e[_0x5b4465(0x326)]||_0x1fe59e[_0x5b4465(0x1a3)])+'\x0a';if(_0x1fe59e['options'])_0x138db1+=_0x1fe59e[_0x5b4465(0x391)][_0x5b4465(0x6f5)]((_0x1ca17f,_0x567cfb)=>_0x5b4465(0x32d)+(_0x567cfb===_0x1fe59e['correctAnswerIndex']?_0x5b4465(0x114):'')+'\x20'+_0x1ca17f)[_0x5b4465(0x48a)]('\x0a');else{if(_0x1fe59e[_0x5b4465(0x233)])_0x138db1+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x1fe59e['idealAnswer'];else _0x1fe59e[_0x5b4465(0x68e)]&&(_0x138db1+=_0x5b4465(0x78f)+_0x1fe59e[_0x5b4465(0x68e)]);}return _0x138db1;})['join']('\x0a\x0a');_0x391705[_0x2bf9b6(0x473)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x32f7cd=_0x2bf9b6(0x371)+_0x563d03['topic']+_0x2bf9b6(0x1e1)+_0x2af6df+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20วิเคราะห์ข้อสอบต้นฉบับนี้เพื่อทำความเข้าใจขอบเขตเนื้อหา,\x20รูปแบบคำถาม\x20('+_0x563d03['quizType']+_0x2bf9b6(0x67f)+simpleMathPrompt+_0x2bf9b6(0x4b1),_0x43521d={'type':_0x2bf9b6(0x4c5),'properties':{'questionText':{'type':_0x2bf9b6(0x1b2)},'questionType':{'type':_0x2bf9b6(0x1b2),'enum':[_0x2bf9b6(0x4c8),_0x2bf9b6(0x472),'true_false',_0x2bf9b6(0x7bd)]},'options':{'type':'ARRAY','items':{'type':_0x2bf9b6(0x1b2)}},'correctAnswerIndex':{'type':_0x2bf9b6(0x764)},'idealAnswer':{'type':_0x2bf9b6(0x1b2)},'correctAnswer':{'type':_0x2bf9b6(0x14b)},'stem':{'type':_0x2bf9b6(0x1b2)},'correctResponse':{'type':_0x2bf9b6(0x1b2)},'allResponses':{'type':_0x2bf9b6(0x308),'items':{'type':'STRING'}},'explanation':{'type':_0x2bf9b6(0x1b2)},'imageCode':{'type':'STRING'}},'required':[_0x2bf9b6(0x59d),_0x2bf9b6(0x119)]},_0x5931d0={'type':_0x2bf9b6(0x4c5),'properties':{'topic':{'type':_0x2bf9b6(0x1b2)},'questions':{'type':'ARRAY','items':_0x43521d}},'required':['topic',_0x2bf9b6(0x366)]};await handleApiCall(_0x32f7cd,_0x2bf9b6(0x655),_0x5931d0);}catch(_0x4258e1){console[_0x2bf9b6(0x71c)](_0x2bf9b6(0x4f3),_0x4258e1),showMessage('เกิดข้อผิดพลาด:\x20'+_0x4258e1['message']),_0x5eeb74[_0x2bf9b6(0x612)]=_0x2bf9b6(0x56e);}finally{_0x310059[_0x2bf9b6(0x367)][_0x2bf9b6(0x529)]('hidden');}}async function handleGenerateParallelTest(){const _0x220410=_0x490f9b,_0x525723=document[_0x220410(0x18e)](_0x220410(0x289)),_0x458427=_0x525723[_0x220410(0x168)][0x0];if(!_0x458427){showMessage('กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน');return;}const _0x2df839=document['getElementById'](_0x220410(0x65d)),_0x40facd=document['getElementById'](_0x220410(0x14c)),_0x263b33=document['getElementById']('generated-quiz-container'),_0x369892=document[_0x220410(0x18e)](_0x220410(0x72f));_0x369892[_0x220410(0x467)]=!![],document[_0x220410(0x18e)]('quiz-generation-area')[_0x220410(0x367)][_0x220410(0x33f)](_0x220410(0x410)),_0x263b33[_0x220410(0x612)]='',_0x2df839[_0x220410(0x367)][_0x220410(0x33f)](_0x220410(0x410)),_0x40facd['textContent']=_0x220410(0x2ea);try{const _0x55eb10=await extractTextFromPdf(_0x458427);if(!_0x55eb10[_0x220410(0x686)]())throw new Error(_0x220410(0x557));_0x40facd['textContent']=_0x220410(0x19a);const _0x214c91=document['getElementById'](_0x220410(0x757))[_0x220410(0x333)],_0xd52596=_0x214c91?_0x220410(0x382):'',_0x213fdb='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x55eb10+_0x220410(0x505)+_0xd52596+_0x220410(0x259)+simpleMathPrompt+_0x220410(0x4b1),_0x2486d8={'type':_0x220410(0x4c5),'properties':{'questionText':{'type':_0x220410(0x1b2)},'questionType':{'type':_0x220410(0x1b2),'enum':[_0x220410(0x4c8),_0x220410(0x472)]},'options':{'type':_0x220410(0x308),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x220410(0x1b2)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x220410(0x1b2)}},'required':[_0x220410(0x326),_0x220410(0x59d),_0x220410(0x119)]},_0xd6d4={'type':'OBJECT','properties':{'topic':{'type':_0x220410(0x1b2)},'questions':{'type':_0x220410(0x308),'items':_0x2486d8}},'required':[_0x220410(0x430),_0x220410(0x366)]};await handleApiCall(_0x213fdb,'กำลังสร้างแบบทดสอบคู่ขนาน...',_0xd6d4);}catch(_0x2b1354){console[_0x220410(0x71c)](_0x220410(0x70e),_0x2b1354),showMessage(_0x220410(0x240)+_0x2b1354[_0x220410(0x5c9)]),_0x263b33[_0x220410(0x612)]=_0x220410(0x56e);}finally{_0x2df839['classList'][_0x220410(0x529)](_0x220410(0x410)),_0x369892[_0x220410(0x467)]=![];}}async function handleRegenerateQuestionInEditor(_0x5667f){const _0x4d3706=_0x490f9b;if(currentEditingQuizData===null)return;const _0x7182ca=document[_0x4d3706(0x2f1)](_0x4d3706(0x4ca)+_0x5667f+'\x22]');_0x7182ca&&(_0x7182ca[_0x4d3706(0x612)]='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x3b1ac5=currentEditingQuizData[_0x4d3706(0x366)][_0x5667f],_0x35f5c3=currentEditingQuizData['topic'],_0x2f91e1=_0x3b1ac5[_0x4d3706(0x59d)],_0x15baa5={'type':_0x4d3706(0x4c5),'properties':{'questionText':{'type':_0x4d3706(0x1b2)},'options':{'type':_0x4d3706(0x308),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x4d3706(0x764)},'explanation':{'type':_0x4d3706(0x1b2)}},'required':['questionText',_0x4d3706(0x391),_0x4d3706(0x6bc),_0x4d3706(0x119)]},_0x903358={'type':_0x4d3706(0x4c5),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x4d3706(0x1b2)},'explanation':{'type':_0x4d3706(0x1b2)}},'required':[_0x4d3706(0x326),_0x4d3706(0x233),_0x4d3706(0x119)]};let _0x307b9e,_0x1181fe='';_0x2f91e1===_0x4d3706(0x4c8)?(_0x307b9e=_0x15baa5,_0x1181fe='แบบปรนัย\x204\x20ตัวเลือก'):(_0x307b9e=_0x903358,_0x1181fe=_0x4d3706(0x4d4));const _0x5e64f1='สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22'+_0x35f5c3+_0x4d3706(0x4a9)+_0x1181fe+_0x4d3706(0x2aa)+(_0x3b1ac5[_0x4d3706(0x326)]||_0x3b1ac5[_0x4d3706(0x1a3)])+_0x4d3706(0x666)+simpleMathPrompt;try{const _0x1b0050=await callAnalysisApi(_0x5e64f1,_0x307b9e);currentEditingQuizData[_0x4d3706(0x366)][_0x5667f]={..._0x3b1ac5,..._0x1b0050},renderQuizEditor(currentEditingQuizData);}catch(_0x2cf47e){console[_0x4d3706(0x71c)](_0x4d3706(0x6cf),_0x2cf47e),showMessage(_0x4d3706(0x313)),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x15f4f7=_0x490f9b,_0xc29e2a=document[_0x15f4f7(0x18e)](_0x15f4f7(0x4f9));currentMode==='student'?(currentMode=_0x15f4f7(0x74b),_0xc29e2a[_0x15f4f7(0x612)]=_0x15f4f7(0x687),_0xc29e2a['title']='สลับไปโหมดนักเรียน',showView(_0x15f4f7(0x197))):(currentMode=_0x15f4f7(0x2c4),_0xc29e2a[_0x15f4f7(0x612)]=_0x15f4f7(0x470),_0xc29e2a[_0x15f4f7(0x189)]=_0x15f4f7(0x2ff),showView('student'));}function handleAdminLogin(){const _0x175b96=_0x490f9b,_0x5a76ed=document['getElementById']('admin-password-input'),_0xdf8c8e=document['getElementById']('password-error-msg');if(_0x5a76ed['value']===_0x175b96(0x265)){adminPasswordModal[_0x175b96(0x367)]['add'](_0x175b96(0x410)),_0x5a76ed[_0x175b96(0x588)]='',_0xdf8c8e['classList'][_0x175b96(0x529)](_0x175b96(0x410)),currentMode=_0x175b96(0x74b);const _0x1d9ca2=document[_0x175b96(0x18e)](_0x175b96(0x4f9));_0x1d9ca2[_0x175b96(0x612)]=_0x175b96(0x687),_0x1d9ca2[_0x175b96(0x189)]=_0x175b96(0x3b1),showView(_0x175b96(0x197));}else _0xdf8c8e[_0x175b96(0x367)][_0x175b96(0x33f)]('hidden'),_0x5a76ed['value']='';}function switchProjectTab(_0xa7cf69){const _0x30fb45=_0x490f9b;['manage',_0x30fb45(0x60d),'leaderboard'][_0x30fb45(0x13c)](_0x3b7dd6=>{const _0x5508bf=_0x30fb45;document[_0x5508bf(0x18e)](_0x3b7dd6+'-tab')[_0x5508bf(0x367)][_0x5508bf(0x33f)](_0x5508bf(0x66e)),document[_0x5508bf(0x18e)](_0x3b7dd6+'-tab-content')[_0x5508bf(0x367)]['add'](_0x5508bf(0x410));}),document[_0x30fb45(0x18e)](_0xa7cf69+_0x30fb45(0x330))[_0x30fb45(0x367)][_0x30fb45(0x529)]('active'),document[_0x30fb45(0x18e)](_0xa7cf69+_0x30fb45(0x2c8))[_0x30fb45(0x367)][_0x30fb45(0x33f)](_0x30fb45(0x410));}function switchQuizDetailTab(_0x40d05b){const _0x15f9ed=_0x490f9b,_0x40b843={'analytics':{'btn':_0x15f9ed(0x63e),'content':_0x15f9ed(0x4e5)},'scores':{'btn':'scores-tab-btn','content':'scores-tab-content'},'leaderboard-quiz':{'btn':_0x15f9ed(0x2d8),'content':'leaderboard-quiz-tab-content'}};for(const _0x3fabf3 in _0x40b843){document['getElementById'](_0x40b843[_0x3fabf3][_0x15f9ed(0x27a)])[_0x15f9ed(0x367)][_0x15f9ed(0x33f)](_0x15f9ed(0x66e)),document['getElementById'](_0x40b843[_0x3fabf3]['content'])['classList'][_0x15f9ed(0x529)]('hidden');}document[_0x15f9ed(0x18e)](_0x40b843[_0x40d05b]['btn'])['classList']['add'](_0x15f9ed(0x66e)),document[_0x15f9ed(0x18e)](_0x40b843[_0x40d05b][_0x15f9ed(0x312)])['classList'][_0x15f9ed(0x33f)](_0x15f9ed(0x410));}function showMessage(_0x114c78){const _0x4c70dc=_0x490f9b;modalMessage['textContent']=_0x114c78,messageModal[_0x4c70dc(0x367)]['remove'](_0x4c70dc(0x410));}function showConfirmation(_0x1eed7e,_0x485e71){const _0x592b36=_0x490f9b;document['getElementById'](_0x592b36(0x579))[_0x592b36(0x473)]=_0x1eed7e,document['getElementById'](_0x592b36(0x432))[_0x592b36(0x2f1)]('h3')[_0x592b36(0x473)]=_0x592b36(0x6b2),confirmAction=_0x485e71,confirmationModal[_0x592b36(0x367)][_0x592b36(0x33f)](_0x592b36(0x410));}function listenForProjects(){const _0x8ca7e9=_0x490f9b,_0xf1e503=collection(db,_0x8ca7e9(0x199)+appId+'/public/data/projects');unsubscribeProjectsListener=onSnapshot(_0xf1e503,_0x3a4c6c=>{const _0x1aef21=_0x8ca7e9;allProjects=_0x3a4c6c[_0x1aef21(0x69e)][_0x1aef21(0x6f5)](_0x37cf30=>({'id':_0x37cf30['id'],..._0x37cf30['data']()})),renderProjects();},_0x2f7013=>{const _0x18a5e7=_0x8ca7e9;console['error']('Error\x20listening\x20for\x20projects:',_0x2f7013),showMessage(_0x18a5e7(0x623));});}async function renderProjects(){const _0x107dfc=_0x490f9b,_0xbecf3d=document[_0x107dfc(0x18e)](_0x107dfc(0x263))['value'][_0x107dfc(0x682)](),_0x1d96d6=document[_0x107dfc(0x18e)](_0x107dfc(0x790))['value'];let _0x403630=allProjects['filter'](_0x266d72=>_0x266d72[_0x107dfc(0x177)][_0x107dfc(0x682)]()[_0x107dfc(0x58e)](_0xbecf3d));_0x403630[_0x107dfc(0x54b)]((_0x3668e1,_0x590157)=>{const _0x35dd24=_0x107dfc;switch(_0x1d96d6){case'name_asc':return _0x3668e1[_0x35dd24(0x177)][_0x35dd24(0x513)](_0x590157[_0x35dd24(0x177)],'th');case'name_desc':return _0x590157[_0x35dd24(0x177)][_0x35dd24(0x513)](_0x3668e1['projectName'],'th');case _0x35dd24(0x268):return new Date(_0x3668e1[_0x35dd24(0x1ab)])-new Date(_0x590157['createdAt']);case _0x35dd24(0x705):default:return new Date(_0x590157[_0x35dd24(0x1ab)])-new Date(_0x3668e1[_0x35dd24(0x1ab)]);}});const _0x4ffa6f={};await Promise[_0x107dfc(0x379)](_0x403630['map'](async _0x5420e8=>{const _0x3ec006=_0x107dfc,_0x2806a7=query(collection(db,_0x3ec006(0x199)+appId+_0x3ec006(0x59e)),where('projectId','==',_0x5420e8['id'])),_0x5e3dfd=await getDocs(_0x2806a7);_0x4ffa6f[_0x5420e8['id']]=_0x5e3dfd['size'];}));let _0x1b286d='';starredQuizzes[_0x107dfc(0x387)]>0x0&&(_0x1b286d+=_0x107dfc(0x375)+starredQuizzes[_0x107dfc(0x387)]+_0x107dfc(0x574)),_0x403630[_0x107dfc(0x13c)](_0x4e71ab=>{const _0x430bbf=_0x107dfc,_0x4618f0=_0x4ffa6f[_0x4e71ab['id']]??0x0;_0x1b286d+=_0x430bbf(0x70d)+_0x4e71ab['id']+_0x430bbf(0x434)+_0x4e71ab[_0x430bbf(0x177)]+_0x430bbf(0x2ca)+new Date(_0x4e71ab['createdAt'])['toLocaleDateString']('th-TH')+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20'+_0x4618f0+_0x430bbf(0x70c)+_0x4e71ab['id']+_0x430bbf(0x2ad)+_0x4e71ab[_0x430bbf(0x177)]+_0x430bbf(0x479);}),projectList['innerHTML']=_0x1b286d,noProjectsMsg['classList']['toggle'](_0x107dfc(0x410),_0x1b286d[_0x107dfc(0x387)]>0x0);}document[_0x490f9b(0x18e)](_0x490f9b(0x16d))[_0x490f9b(0x41a)](_0x490f9b(0x2cb),async()=>{const _0x54fc5d=_0x490f9b,_0xad860=document['getElementById'](_0x54fc5d(0x1cc)),_0x4d3bb3=_0xad860['value']['trim']();if(!_0x4d3bb3){showMessage(_0x54fc5d(0x740));return;}try{const _0x18817b=doc(collection(db,_0x54fc5d(0x199)+appId+_0x54fc5d(0x452)));await setDoc(_0x18817b,{'projectName':_0x4d3bb3,'students':[],'settings':{'resultsDisplay':_0x54fc5d(0x6c5),'shuffleSetting':'none','defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x54fc5d(0x2c3),'timerDuration':0xa},'createdBy':userId,'createdAt':new Date()[_0x54fc5d(0x4a5)]()}),_0xad860['value']='',createProjectModal[_0x54fc5d(0x367)][_0x54fc5d(0x529)](_0x54fc5d(0x410)),showMessage(_0x54fc5d(0x1b6));}catch(_0x1363ed){console[_0x54fc5d(0x71c)](_0x54fc5d(0x2ee),_0x1363ed),showMessage(_0x54fc5d(0x63d));}}),projectList['addEventListener']('click',async _0x4d3e9b=>{const _0x50279=_0x490f9b,_0x5dc297=_0x4d3e9b[_0x50279(0x734)][_0x50279(0x4ed)](_0x50279(0x7c5)),_0x14d928=_0x4d3e9b[_0x50279(0x734)][_0x50279(0x4ed)](_0x50279(0x77f));if(_0x5dc297){const _0x6077f8=_0x5dc297[_0x50279(0x5b0)]['id'];_0x6077f8===_0x50279(0x2b0)?showStarredProjectView():(currentProjectId=_0x6077f8,await loadProjectDetails(currentProjectId),showView(_0x50279(0x496)));}else{if(_0x14d928){const _0x2ec65d=_0x14d928['dataset']['id'],_0x397368=_0x14d928[_0x50279(0x5b0)]['name'];showConfirmation(_0x50279(0x539)+_0x397368+'\x22?\x20ข้อมูลทั้งหมดในโปรเจคนี้\x20(รวมถึงแบบทดสอบและผลการส่งงาน)\x20จะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x2ec65d));}}});function calculateMeanAndStdDev(_0x6be9cc){const _0x53d14d=_0x490f9b;if(_0x6be9cc['length']===0x0)return{'mean':0x0,'stdDev':0x0};const _0x2b1976=_0x6be9cc[_0x53d14d(0x7a1)]((_0x22d798,_0x5846fe)=>_0x22d798+_0x5846fe,0x0)/_0x6be9cc[_0x53d14d(0x387)];if(_0x6be9cc['length']===0x1)return{'mean':_0x2b1976,'stdDev':0x0};const _0x1e0a70=Math[_0x53d14d(0x6b9)](_0x6be9cc[_0x53d14d(0x6f5)](_0x33dbcb=>Math[_0x53d14d(0x4bc)](_0x33dbcb-_0x2b1976,0x2))['reduce']((_0x59330f,_0x1a9be6)=>_0x59330f+_0x1a9be6,0x0)/(_0x6be9cc['length']-0x1));return{'mean':_0x2b1976,'stdDev':_0x1e0a70};}function calculateZScore(_0x1fba4d,_0x2ef48e,_0xa3b92e){if(_0xa3b92e===0x0)return 0x0;return(_0x1fba4d-_0x2ef48e)/_0xa3b92e;}function calculateTScore(_0x1c3d92){return 0xa*_0x1c3d92+0x32;}function showStarredProjectView(){const _0x2a96cf=_0x490f9b;currentProjectId=_0x2a96cf(0x223),currentProjectData=null,projectTitle[_0x2a96cf(0x473)]=_0x2a96cf(0x6c8),projectIdDisplay[_0x2a96cf(0x473)]='pinned-items',showView(_0x2a96cf(0x496)),manageTab[_0x2a96cf(0x367)]['add'](_0x2a96cf(0x410)),leaderboardTab['classList'][_0x2a96cf(0x529)](_0x2a96cf(0x410)),switchProjectTab(_0x2a96cf(0x60d)),renderQuizzes();}async function loadProjectDetails(_0x2bbaff){const _0x188bae=_0x490f9b,_0x1e5640=doc(db,_0x188bae(0x199)+appId+_0x188bae(0x452),_0x2bbaff),_0x482a28=await getDoc(_0x1e5640);if(_0x482a28[_0x188bae(0x590)]()){manageTab[_0x188bae(0x367)][_0x188bae(0x33f)]('hidden'),leaderboardTab[_0x188bae(0x367)][_0x188bae(0x33f)](_0x188bae(0x410)),currentProjectData=_0x482a28[_0x188bae(0x46b)](),projectTitle[_0x188bae(0x473)]=currentProjectData['projectName'],projectIdDisplay[_0x188bae(0x473)]=_0x2bbaff;const _0x584049=currentProjectData['settings']||{};document['getElementById']('num-questions')[_0x188bae(0x588)]=_0x584049[_0x188bae(0x18b)]||0x5,document[_0x188bae(0x18e)](_0x188bae(0x429))[_0x188bae(0x588)]=_0x584049[_0x188bae(0x45f)]||0x4,document[_0x188bae(0x18e)](_0x188bae(0x690))[_0x188bae(0x588)]=_0x584049[_0x188bae(0x672)]||Math['floor']((_0x584049[_0x188bae(0x18b)]||0x5)/0x2),document[_0x188bae(0x18e)]('passing-score-input')['max']=_0x584049['defaultNumQuestions']||0x5,document[_0x188bae(0x18e)]('results-display-select')[_0x188bae(0x588)]=_0x584049['resultsDisplay']||_0x188bae(0x6c5),document[_0x188bae(0x18e)]('shuffle-setting-select')[_0x188bae(0x588)]=_0x584049[_0x188bae(0x190)]||_0x188bae(0x2c3);const _0x3c1ff9=_0x584049[_0x188bae(0x3c4)]||_0x188bae(0x2c3),_0x183d48=_0x584049[_0x188bae(0x1a7)]||0xa,_0x5a005c=document['getElementById'](_0x188bae(0x5dd)),_0x14ce9c=document['getElementById'](_0x188bae(0x1b8)),_0x5310f6=document[_0x188bae(0x18e)](_0x188bae(0x5a5));_0x5a005c[_0x188bae(0x588)]=_0x3c1ff9,_0x5310f6[_0x188bae(0x588)]=_0x183d48;_0x3c1ff9===_0x188bae(0x2c3)?_0x14ce9c[_0x188bae(0x367)]['add'](_0x188bae(0x410)):_0x14ce9c[_0x188bae(0x367)][_0x188bae(0x33f)](_0x188bae(0x410));_0x5a005c[_0x188bae(0x154)](new Event(_0x188bae(0x52b)));if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x2bbaff),listenForProjectQuizzes(_0x2bbaff),listenForStudentProfiles(_0x2bbaff);}else showMessage(_0x188bae(0x535)),showView(_0x188bae(0x197));}async function handleDeleteProject(_0xc4c219){const _0x3923cf=_0x490f9b;try{const _0x3946e9=writeBatch(db),_0x57d8af=collection(db,_0x3923cf(0x199)+appId+_0x3923cf(0x59e)),_0x978205=query(_0x57d8af,where('projectId','==',_0xc4c219)),_0x121e1d=await getDocs(_0x978205);for(const _0x2c4738 of _0x121e1d['docs']){const _0x623f0=collection(db,_0x3923cf(0x199)+appId+_0x3923cf(0x192)+_0x2c4738['id']+_0x3923cf(0x547)),_0x382298=await getDocs(_0x623f0);_0x382298[_0x3923cf(0x13c)](_0x2d31ba=>{_0x3946e9['delete'](_0x2d31ba['ref']);}),_0x3946e9[_0x3923cf(0x664)](_0x2c4738[_0x3923cf(0x419)]);}const _0x1eb4f5=collection(db,_0x3923cf(0x199)+appId+'/public/data/projects/'+_0xc4c219+'/studentProfiles'),_0x456202=await getDocs(_0x1eb4f5);_0x456202['forEach'](_0x446830=>{const _0x4ec8d9=_0x3923cf;_0x3946e9[_0x4ec8d9(0x664)](_0x446830['ref']);});const _0x3cba53=doc(db,'artifacts/'+appId+_0x3923cf(0x452),_0xc4c219);_0x3946e9[_0x3923cf(0x664)](_0x3cba53),await _0x3946e9['commit'](),showMessage('ลบโปรเจคสำเร็จแล้ว'),showView(_0x3923cf(0x197));}catch(_0x38e561){console['error'](_0x3923cf(0x12b),_0x38e561),showMessage(_0x3923cf(0x1de));}}document[_0x490f9b(0x18e)]('save-settings-btn')[_0x490f9b(0x41a)]('click',async()=>{const _0x34b28e=_0x490f9b;if(!currentProjectId)return;const _0x39ff80={'defaultNumQuestions':parseInt(document[_0x34b28e(0x18e)]('num-questions')[_0x34b28e(0x588)]),'defaultNumChoices':parseInt(document[_0x34b28e(0x18e)](_0x34b28e(0x429))[_0x34b28e(0x588)]),'defaultPassingScore':parseInt(document[_0x34b28e(0x18e)]('passing-score-input')['value']),'resultsDisplay':document['getElementById'](_0x34b28e(0x15c))['value'],'shuffleSetting':document['getElementById'](_0x34b28e(0x79a))[_0x34b28e(0x588)],'timerMode':document[_0x34b28e(0x18e)](_0x34b28e(0x5dd))['value'],'timerDuration':parseInt(document['getElementById']('timer-duration-input')[_0x34b28e(0x588)])};try{const _0x3ea431=doc(db,_0x34b28e(0x199)+appId+_0x34b28e(0x452),currentProjectId);await updateDoc(_0x3ea431,{'settings':_0x39ff80}),showMessage(_0x34b28e(0x553));}catch(_0x3d8772){console[_0x34b28e(0x71c)]('Error\x20saving\x20settings:',_0x3d8772),showMessage(_0x34b28e(0x621));}});function listenForStudents(_0x3e2f04){const _0x2764f2=_0x490f9b,_0x43400c=doc(db,_0x2764f2(0x199)+appId+_0x2764f2(0x452),_0x3e2f04);unsubscribeStudentsListener=onSnapshot(_0x43400c,_0x31c74e=>{const _0x15cc51=_0x2764f2;if(_0x31c74e[_0x15cc51(0x590)]()){const _0x4b29fe=_0x31c74e['data']();currentProjectData=_0x4b29fe,renderStudentList(_0x4b29fe[_0x15cc51(0x1d5)]||[]);}});}function renderStudentList(_0x118186){const _0x4b0831=_0x490f9b,_0x55cca5=document[_0x4b0831(0x18e)](_0x4b0831(0x1f8));_0x118186['length']===0x0?(studentList[_0x4b0831(0x612)]='<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>',_0x55cca5[_0x4b0831(0x367)][_0x4b0831(0x529)](_0x4b0831(0x410))):(studentList[_0x4b0831(0x612)]=_0x118186[_0x4b0831(0x6f5)](_0x230aa8=>_0x4b0831(0x3f6)+_0x230aa8+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x230aa8+_0x4b0831(0x51b))[_0x4b0831(0x48a)](''),_0x55cca5[_0x4b0831(0x367)][_0x4b0831(0x33f)](_0x4b0831(0x410)));}document[_0x490f9b(0x18e)](_0x490f9b(0x1ed))[_0x490f9b(0x41a)]('click',async()=>{const _0x3fbd2a=_0x490f9b;if(!currentProjectId)return;const _0x1453bf=document[_0x3fbd2a(0x18e)](_0x3fbd2a(0x3a0)),_0x2add0f=_0x1453bf[_0x3fbd2a(0x588)][_0x3fbd2a(0x686)]();if(!_0x2add0f){showMessage(_0x3fbd2a(0x295));return;}const _0x48e9f8=_0x2add0f['split']('\x0a')[_0x3fbd2a(0x6f5)](_0x5ea831=>_0x5ea831['trim']())[_0x3fbd2a(0x758)](_0x454f07=>_0x454f07);if(_0x48e9f8['length']===0x0)return;try{const _0x324882=doc(db,_0x3fbd2a(0x199)+appId+'/public/data/projects',currentProjectId),_0x3d0767=await getDoc(_0x324882);if(_0x3d0767['exists']()){const _0x2272f9=_0x3d0767[_0x3fbd2a(0x46b)]()[_0x3fbd2a(0x1d5)]||[],_0xa6e376=[...new Set([..._0x2272f9,..._0x48e9f8])];await updateDoc(_0x324882,{'students':_0xa6e376}),_0x1453bf[_0x3fbd2a(0x588)]='';}}catch(_0x3ad4f1){console[_0x3fbd2a(0x71c)](_0x3fbd2a(0x665),_0x3ad4f1),showMessage(_0x3fbd2a(0x47e));}});function handleDeleteStudent(_0x475b7a){const _0x3c7e1a=_0x490f9b;showConfirmation(_0x3c7e1a(0x6c7)+_0x475b7a+_0x3c7e1a(0x1c1),async()=>{const _0x45e865=_0x3c7e1a;if(!currentProjectId||!currentProjectData)return;const _0xab3662=currentProjectData[_0x45e865(0x1d5)][_0x45e865(0x758)](_0x319525=>_0x319525!==_0x475b7a);try{const _0x904700=doc(db,_0x45e865(0x199)+appId+_0x45e865(0x452),currentProjectId),_0xf46ec9=doc(db,'artifacts/'+appId+'/public/data/projects/'+currentProjectId+'/studentProfiles',_0x475b7a),_0x5e2e96=writeBatch(db);_0x5e2e96[_0x45e865(0x486)](_0x904700,{'students':_0xab3662}),_0x5e2e96['delete'](_0xf46ec9),await _0x5e2e96[_0x45e865(0x2e8)]();}catch(_0x104606){console['error'](_0x45e865(0x6a6),_0x104606),showMessage(_0x45e865(0x457));}});}function handleDeleteAllStudents(){const _0x554fd6=_0x490f9b;showConfirmation(_0x554fd6(0x7b9),async()=>{const _0x479f27=_0x554fd6;if(!currentProjectId)return;try{const _0x45d5e3=doc(db,'artifacts/'+appId+'/public/data/projects',currentProjectId),_0x595b0e=collection(db,_0x479f27(0x199)+appId+_0x479f27(0x631)+currentProjectId+_0x479f27(0x703)),_0x2ab5f5=await getDocs(_0x595b0e),_0x4472c6=writeBatch(db);_0x4472c6[_0x479f27(0x486)](_0x45d5e3,{'students':[]}),_0x2ab5f5[_0x479f27(0x13c)](_0x12931d=>_0x4472c6[_0x479f27(0x664)](_0x12931d[_0x479f27(0x419)])),await _0x4472c6[_0x479f27(0x2e8)]();}catch(_0x12c85c){console[_0x479f27(0x71c)]('Error\x20deleting\x20all\x20students:',_0x12c85c),showMessage(_0x479f27(0x61e));}});}async function handleGenerateFromFileClick(){const _0x260ef4=_0x490f9b;if(!selectedFile){showMessage('กรุณาเลือกไฟล์ก่อน');return;}const _0x1e38d0=document[_0x260ef4(0x18e)]('loader'),_0x9fe036=document[_0x260ef4(0x18e)](_0x260ef4(0x14c)),_0x39524a=document[_0x260ef4(0x18e)]('generated-quiz-container'),_0x4241f0=document[_0x260ef4(0x18e)](_0x260ef4(0x2ab));_0x4241f0[_0x260ef4(0x467)]=!![],document[_0x260ef4(0x18e)](_0x260ef4(0x5fe))[_0x260ef4(0x367)][_0x260ef4(0x33f)]('hidden'),_0x39524a[_0x260ef4(0x612)]='',_0x1e38d0[_0x260ef4(0x367)][_0x260ef4(0x33f)](_0x260ef4(0x410)),_0x9fe036['textContent']='กำลังอ่านและเตรียมไฟล์...';const _0x24dac6=new FileReader();_0x24dac6[_0x260ef4(0x6e5)](selectedFile),_0x24dac6[_0x260ef4(0x72b)]=async()=>{const _0x3835c1=_0x260ef4;try{const _0x3dcf12=_0x24dac6[_0x3835c1(0x2ef)][_0x3835c1(0x3ef)](',')[0x1],_0x285fdb=selectedFile[_0x3835c1(0x204)];await generateQuizFromFile(_0x285fdb,_0x3dcf12);}catch(_0x4d308f){console[_0x3835c1(0x71c)](_0x3835c1(0x5a8),_0x4d308f),showMessage(_0x3835c1(0x468)+_0x4d308f[_0x3835c1(0x5c9)]),_0x1e38d0[_0x3835c1(0x367)]['add'](_0x3835c1(0x410));}finally{}},_0x24dac6['onerror']=_0x462cf1=>{const _0x410ae9=_0x260ef4;console['error'](_0x410ae9(0x6fa),_0x462cf1),showMessage('เกิดข้อผิดพลาดในการอ่านไฟล์'),_0x1e38d0[_0x410ae9(0x367)][_0x410ae9(0x529)]('hidden'),_0x4241f0[_0x410ae9(0x467)]=![];};}function autoFormatMath(_0xc3a2){const _0x1ca68e=_0x490f9b;if(typeof _0xc3a2!==_0x1ca68e(0x615)||!_0xc3a2)return _0xc3a2;const _0xa94db4=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x59de3e=_0xc3a2['replace'](_0xa94db4,_0x3c2c9b=>{const _0x166ab8=_0x1ca68e;return'$'+_0x3c2c9b[_0x166ab8(0x686)]()+'$';});return _0x59de3e;}function sanitizeQuizData(_0x1ac7cf){const _0xf37f62=_0x490f9b;if(!_0x1ac7cf||!_0x1ac7cf['questions'])return _0x1ac7cf;const _0x1eb12c={'imes':_0xf37f62(0x1e3),'div':_0xf37f62(0x7a7)},_0x1c304b=_0x54220d=>{const _0x29304f=_0xf37f62;if(typeof _0x54220d!==_0x29304f(0x615))return _0x54220d;let _0x588cda=_0x54220d;for(const [_0x42a751,_0x312a67]of Object[_0x29304f(0x4be)](_0x1eb12c)){const _0x5b3a11=new RegExp('\x5cb'+_0x42a751+'\x5cb','g');_0x588cda=_0x588cda['replace'](_0x5b3a11,_0x312a67);}return _0x588cda=_0x588cda[_0x29304f(0x2bf)](/\\\//g,'\x5cdiv'),_0x588cda=_0x588cda[_0x29304f(0x2bf)](/<(i|em)>\s*div\s*<\/\1>/gi,'\x5cdiv')['replace'](/<(i|em)>\s*times\s*<\/\1>/gi,'\x5ctimes')[_0x29304f(0x2bf)](/÷/g,'\x5cdiv')[_0x29304f(0x2bf)](/×/g,_0x29304f(0x1e3)),_0x588cda=_0x588cda[_0x29304f(0x2bf)](/(\d)(\\frac)/g,_0x29304f(0x4fe)),_0x588cda=autoFormatMath(_0x588cda),_0x588cda;};return _0x1ac7cf[_0xf37f62(0x430)]&&(_0x1ac7cf[_0xf37f62(0x430)]=_0x1c304b(_0x1ac7cf[_0xf37f62(0x430)])),_0x1ac7cf[_0xf37f62(0x366)][_0xf37f62(0x13c)](_0x55f8bb=>{const _0x525d96=_0xf37f62;_0x55f8bb[_0x525d96(0x326)]=_0x1c304b(_0x55f8bb['questionText']),_0x55f8bb['options']&&(_0x55f8bb[_0x525d96(0x391)]=_0x55f8bb[_0x525d96(0x391)][_0x525d96(0x6f5)](_0x1c304b)),_0x55f8bb[_0x525d96(0x119)]&&(_0x55f8bb[_0x525d96(0x119)]=_0x1c304b(_0x55f8bb[_0x525d96(0x119)])),_0x55f8bb[_0x525d96(0x1a3)]&&(_0x55f8bb[_0x525d96(0x1a3)]=_0x1c304b(_0x55f8bb[_0x525d96(0x1a3)])),_0x55f8bb['correctResponse']&&(_0x55f8bb[_0x525d96(0x68e)]=_0x1c304b(_0x55f8bb[_0x525d96(0x68e)])),_0x55f8bb[_0x525d96(0x42b)]&&(_0x55f8bb['allResponses']=_0x55f8bb[_0x525d96(0x42b)]['map'](_0x1c304b));}),_0x1ac7cf;}const simpleMathPrompt='กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว';async function handleGenerateFromLink(){const _0x10a4fa=_0x490f9b,_0x1a0481=document['getElementById'](_0x10a4fa(0x60e)),_0x4d1294=document[_0x10a4fa(0x18e)](_0x10a4fa(0x543)),_0x5a1a49=_0x1a0481[_0x10a4fa(0x588)][_0x10a4fa(0x686)](),_0x282e7f=_0x4d1294[_0x10a4fa(0x588)][_0x10a4fa(0x686)]();if(!_0x5a1a49){showMessage('กรุณาวาง\x20URL\x20ของบทความก่อน');return;}const _0x16a27a=document[_0x10a4fa(0x18e)](_0x10a4fa(0x65d)),_0x3b588f=document['getElementById'](_0x10a4fa(0x14c)),_0x146db3=document[_0x10a4fa(0x18e)](_0x10a4fa(0x46c)),_0x219544=document[_0x10a4fa(0x18e)](_0x10a4fa(0x291));document[_0x10a4fa(0x18e)](_0x10a4fa(0x5fe))['classList'][_0x10a4fa(0x33f)](_0x10a4fa(0x410)),_0x146db3[_0x10a4fa(0x612)]='',_0x16a27a[_0x10a4fa(0x367)][_0x10a4fa(0x33f)](_0x10a4fa(0x410)),_0x3b588f[_0x10a4fa(0x473)]=_0x10a4fa(0x24f),_0x219544['disabled']=!![];try{const _0x21ec5a=_0x10a4fa(0x129)+encodeURIComponent(_0x5a1a49),_0x17aaed=await fetch(_0x21ec5a);if(!_0x17aaed['ok'])throw new Error('ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20'+_0x17aaed[_0x10a4fa(0x742)]+')');const _0x289bdb=await _0x17aaed[_0x10a4fa(0x7b5)](),_0x18630f=extractTextFromHtml(_0x289bdb);if(!_0x18630f||_0x18630f['length']<0x64)throw new Error('ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา');await generateQuiz(_0x282e7f,_0x18630f);}catch(_0x515fc4){console[_0x10a4fa(0x71c)](_0x10a4fa(0x172),_0x515fc4),showMessage(_0x10a4fa(0x240)+_0x515fc4['message']),_0x146db3[_0x10a4fa(0x612)]=_0x10a4fa(0x537);}finally{_0x16a27a[_0x10a4fa(0x367)]['add']('hidden'),_0x219544[_0x10a4fa(0x467)]=![];}}function extractTextFromHtml(_0x2dff1f){const _0x1b17ad=_0x490f9b,_0x51baa1=new DOMParser()[_0x1b17ad(0x20b)](_0x2dff1f,'text/html');return _0x51baa1[_0x1b17ad(0x511)](_0x1b17ad(0x691))[_0x1b17ad(0x13c)](_0x1691c0=>_0x1691c0[_0x1b17ad(0x33f)]()),_0x51baa1[_0x1b17ad(0x5cf)]['textContent']||'';}document[_0x490f9b(0x18e)]('generate-from-topic-btn')[_0x490f9b(0x41a)]('click',()=>{const _0x5577df=_0x490f9b,_0x106e69=document[_0x5577df(0x18e)](_0x5577df(0x5ef))[_0x5577df(0x588)][_0x5577df(0x686)]();generateQuiz(_0x106e69,null);});async function generateQuiz(_0x2bcb13,_0xed2afc,_0xb4b0f1=null){const _0xed0884=_0x490f9b,_0x2aa007=document[_0xed0884(0x18e)](_0xed0884(0x757))[_0xed0884(0x333)],_0x136c2c=document['getElementById'](_0xed0884(0x34a))[_0xed0884(0x588)],_0x14c210=document[_0xed0884(0x18e)]('num-questions')['value'],_0x4a7929=document[_0xed0884(0x18e)](_0xed0884(0x429))[_0xed0884(0x588)],_0x1dd41c=document['getElementById'](_0xed0884(0x2f7))[_0xed0884(0x333)],_0x2808fd=_0x1dd41c?'':'คณิตศาสตร์',_0x447422=document[_0xed0884(0x18e)](_0xed0884(0x358)),_0x2093a1=_0x447422['value'];let _0x52da4b='';_0x2093a1!==_0xed0884(0x234)&&(_0x52da4b='โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x2093a1+'\x22');const _0x58fe75=document[_0xed0884(0x18e)](_0xed0884(0x442)),_0x11ecb9=_0x58fe75[_0xed0884(0x588)];let _0x5b55d0='';_0x11ecb9!==_0xed0884(0x211)&&(_0x5b55d0=_0xed0884(0x3c7)+_0x11ecb9+_0xed0884(0x11f));const _0x125819=document[_0xed0884(0x511)](_0xed0884(0x5b9)),_0x39d60a=Array['from'](_0x125819)['map'](_0x26708f=>_0x26708f[_0xed0884(0x588)]);let _0x35dd91='';_0x39d60a[_0xed0884(0x387)]>0x0&&(_0x35dd91=_0xed0884(0x4e8)+_0x39d60a[_0xed0884(0x48a)](',\x20')+_0xed0884(0x616));let _0x58f06c='',_0x102672='',_0x20d0ab,_0x992f6b='เกี่ยวกับหัวข้อ\x20\x22'+_0x2bcb13+'\x22';if(!_0x2bcb13&&_0xed2afc)_0x992f6b=_0xed0884(0x3b6);else!_0x2bcb13&&!_0xed2afc&&(_0x992f6b='เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27');const _0x482f93={'type':_0xed0884(0x4c5),'properties':{'questionText':{'type':_0xed0884(0x1b2)},'options':{'type':_0xed0884(0x308),'items':{'type':_0xed0884(0x1b2)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0xed0884(0x1b2)},'imageCode':{'type':_0xed0884(0x1b2)}},'required':[_0xed0884(0x326),_0xed0884(0x391),_0xed0884(0x6bc),_0xed0884(0x119)]},_0x5ecedb={'type':'OBJECT','properties':{'questionText':{'type':_0xed0884(0x1b2)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0xed0884(0x1b2)},'imageCode':{'type':'STRING'}},'required':[_0xed0884(0x326),_0xed0884(0x233),'explanation']},_0x5bf91a={'type':_0xed0884(0x4c5),'properties':{'questionText':{'type':_0xed0884(0x1b2)},'questionType':{'type':_0xed0884(0x1b2),'enum':['multiple_choice',_0xed0884(0x472)]},'options':{'type':'ARRAY','items':{'type':_0xed0884(0x1b2)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0xed0884(0x1b2)},'explanation':{'type':_0xed0884(0x1b2)},'imageCode':{'type':_0xed0884(0x1b2)}},'required':[_0xed0884(0x326),'questionType',_0xed0884(0x119)]},_0xafbc91={'type':_0xed0884(0x4c5),'properties':{'questionText':{'type':_0xed0884(0x1b2)},'correctAnswer':{'type':_0xed0884(0x14b)},'explanation':{'type':'STRING'},'imageCode':{'type':_0xed0884(0x1b2)}},'required':[_0xed0884(0x326),_0xed0884(0x74a),_0xed0884(0x119)]},_0x494f66={'type':_0xed0884(0x4c5),'properties':{'questionType':{'type':'STRING','enum':[_0xed0884(0x7bd)]},'stem':{'type':_0xed0884(0x1b2)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0xed0884(0x308),'items':{'type':'STRING'}},'explanation':{'type':_0xed0884(0x1b2)},'imageCode':{'type':_0xed0884(0x1b2)}},'required':[_0xed0884(0x59d),_0xed0884(0x1a3),'correctResponse',_0xed0884(0x42b),_0xed0884(0x119)]};let _0x1b2a91;if(_0xb4b0f1!==null){const _0x5bbe57=currentQuizData['questions'][_0xb4b0f1][_0xed0884(0x59d)],_0x3af098=_0x2aa007?_0xed0884(0x589):'';_0x58f06c=_0xed0884(0x541)+_0x992f6b+'\x20'+_0x35dd91+'\x20'+_0x52da4b+_0xed0884(0x4ab)+_0x3af098+'\x20'+simpleMathPrompt;if(_0x5bbe57===_0xed0884(0x4c8))_0x20d0ab=_0x482f93;else{if(_0x5bbe57===_0xed0884(0x7bd))_0x20d0ab={'type':'OBJECT','properties':{'questionType':{'type':_0xed0884(0x1b2),'enum':[_0xed0884(0x7bd)]},'stem':{'type':_0xed0884(0x1b2)},'correctResponse':{'type':'STRING'},'explanation':{'type':_0xed0884(0x1b2)},'imageCode':{'type':_0xed0884(0x1b2)}},'required':[_0xed0884(0x59d),_0xed0884(0x1a3),'correctResponse',_0xed0884(0x119)]};else _0x20d0ab=_0x5ecedb;}_0x1b2a91=_0x20d0ab;}else{const _0x57685e=_0x2aa007?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'';switch(_0x136c2c){case _0xed0884(0x4c8):_0x58f06c=_0xed0884(0x1f6)+_0x2808fd+'\x20'+_0x14c210+_0xed0884(0x35a)+_0x992f6b+'\x20'+_0x35dd91+'\x20'+_0x52da4b+'\x20'+_0x5b55d0+_0xed0884(0x6cc)+_0x4a7929+_0xed0884(0x5a3)+_0x57685e+'\x20'+simpleMathPrompt,_0x20d0ab=_0x482f93;break;case'fill_in_with_choices':_0x58f06c='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x2808fd+'\x20'+_0x14c210+_0xed0884(0x35a)+_0x992f6b+'\x20'+_0x35dd91+'\x20'+_0x52da4b+'\x20'+_0x5b55d0+_0xed0884(0x278)+_0x4a7929+_0xed0884(0x786)+_0x57685e+'\x20'+simpleMathPrompt,_0x20d0ab=_0x482f93;break;case _0xed0884(0x728):_0x58f06c='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x2808fd+'\x20'+_0x14c210+'\x20ข้อ\x20'+_0x992f6b+'\x20'+_0x35dd91+'\x20'+_0x52da4b+'\x20'+_0x5b55d0+_0xed0884(0x1b0)+_0x57685e+'\x20'+simpleMathPrompt,_0x20d0ab=_0x5ecedb;break;case _0xed0884(0x211):_0x58f06c=_0xed0884(0x42f)+_0x2808fd+'\x20'+_0x14c210+_0xed0884(0x35a)+_0x992f6b+'\x20'+_0x35dd91+'\x20'+_0x52da4b+'\x20'+_0x5b55d0+_0xed0884(0x32c)+_0x4a7929+'\x20ตัวเลือก.\x20'+_0x57685e+'\x20'+simpleMathPrompt+'.',_0x20d0ab=_0x5bf91a;break;case _0xed0884(0x136):_0x58f06c='สร้างคำถามแบบใช่/ไม่ใช่'+_0x2808fd+'\x20'+_0x14c210+_0xed0884(0x35a)+_0x992f6b+'\x20'+_0x35dd91+'\x20'+_0x52da4b+'\x20'+_0x5b55d0+_0xed0884(0x38b)+_0x57685e+'\x20'+simpleMathPrompt,_0x20d0ab=_0xafbc91;break;case _0xed0884(0x338):_0x58f06c='สร้างชุดคำถามจับคู่'+_0x2808fd+'\x20'+_0x14c210+_0xed0884(0x4bd)+_0x992f6b+'\x20'+_0x35dd91+'\x20'+_0x52da4b+'\x20'+_0x5b55d0+_0xed0884(0x453)+_0x57685e+'\x20'+simpleMathPrompt,_0x20d0ab=_0x494f66;break;}_0x1b2a91={'type':_0xed0884(0x4c5),'properties':{'topic':{'type':_0xed0884(0x1b2)},'questions':{'type':_0xed0884(0x308),'items':_0x20d0ab}},'required':[_0xed0884(0x430),_0xed0884(0x366)]};}return _0xed2afc?(_0x58f06c=_0xed0884(0x153)+_0xed2afc+_0xed0884(0x586)+_0x58f06c,_0x102672=_0xed0884(0x717)):_0x102672=_0xed0884(0x21e),handleApiCall(_0x58f06c,_0x102672,_0x1b2a91,_0xb4b0f1);}async function generateQuizFromFile(_0x1b5a43,_0x4177c8){const _0x31009d=_0x490f9b,_0xc8d409=document[_0x31009d(0x18e)]('file-topic-input')['value'][_0x31009d(0x686)](),_0x451fa2=document[_0x31009d(0x18e)](_0x31009d(0x34a))[_0x31009d(0x588)],_0x508e74=document['getElementById'](_0x31009d(0x3e7))[_0x31009d(0x588)],_0x4fa380=document[_0x31009d(0x18e)](_0x31009d(0x429))['value'],_0x47b0e9=document['getElementById'](_0x31009d(0x757))[_0x31009d(0x333)],_0x51e228=document['getElementById'](_0x31009d(0x2f7))[_0x31009d(0x333)],_0x5d4602=_0x51e228?'':_0x31009d(0x465);let _0x44f529='',_0x3f23e0,_0x39bf50='เกี่ยวกับหัวข้อ\x20\x22'+_0xc8d409+'\x22';!_0xc8d409&&(_0x39bf50=_0x31009d(0x3a1));const _0x449ea8=_0x47b0e9?_0x31009d(0x604):'';switch(_0x451fa2){case _0x31009d(0x4c8):_0x44f529=_0x31009d(0x1f6)+_0x5d4602+'\x20'+_0x508e74+_0x31009d(0x35a)+_0x39bf50+_0x31009d(0x6cc)+_0x4fa380+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x449ea8+'\x20'+simpleMathPrompt,_0x3f23e0={'type':_0x31009d(0x4c5),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x31009d(0x1b2)}},'correctAnswerIndex':{'type':_0x31009d(0x764)},'explanation':{'type':_0x31009d(0x1b2)},'imageCode':{'type':_0x31009d(0x1b2)}},'required':[_0x31009d(0x326),_0x31009d(0x391),_0x31009d(0x6bc),'explanation']};break;case _0x31009d(0x35f):_0x44f529='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x5d4602+'\x20'+_0x508e74+_0x31009d(0x35a)+_0x39bf50+_0x31009d(0x278)+_0x4fa380+_0x31009d(0x786)+_0x449ea8+'\x20'+simpleMathPrompt,_0x3f23e0={'type':_0x31009d(0x4c5),'properties':{'questionText':{'type':'STRING'},'options':{'type':'ARRAY','items':{'type':_0x31009d(0x1b2)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':'STRING'},'imageCode':{'type':_0x31009d(0x1b2)}},'required':['questionText',_0x31009d(0x391),_0x31009d(0x6bc),_0x31009d(0x119)]};break;case _0x31009d(0x728):_0x44f529=_0x31009d(0x320)+_0x5d4602+'\x20'+_0x508e74+_0x31009d(0x35a)+_0x39bf50+_0x31009d(0x1b0)+_0x449ea8+'\x20'+simpleMathPrompt,_0x3f23e0={'type':_0x31009d(0x4c5),'properties':{'questionText':{'type':_0x31009d(0x1b2)},'idealAnswer':{'type':_0x31009d(0x1b2)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x31009d(0x1b2)}},'required':[_0x31009d(0x326),_0x31009d(0x233),'explanation']};break;case'mixed':_0x44f529=_0x31009d(0x42f)+_0x5d4602+'\x20'+_0x508e74+_0x31009d(0x35a)+_0x39bf50+_0x31009d(0x5ee)+_0x4fa380+_0x31009d(0x38a)+_0x449ea8+'\x20'+simpleMathPrompt+_0x31009d(0x28a),_0x3f23e0={'type':_0x31009d(0x4c5),'properties':{'questionText':{'type':'STRING'},'questionType':{'type':_0x31009d(0x1b2),'enum':[_0x31009d(0x4c8),_0x31009d(0x472)]},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':_0x31009d(0x1b2)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x31009d(0x1b2)}},'required':['questionText','questionType',_0x31009d(0x119)]};break;case'true_false':_0x44f529=_0x31009d(0x3db)+_0x5d4602+'\x20'+_0x508e74+_0x31009d(0x35a)+_0x39bf50+_0x31009d(0x213)+_0x449ea8+'\x20'+simpleMathPrompt,_0x3f23e0={'type':_0x31009d(0x4c5),'properties':{'questionText':{'type':_0x31009d(0x1b2)},'correctAnswer':{'type':_0x31009d(0x14b)},'explanation':{'type':_0x31009d(0x1b2)},'imageCode':{'type':_0x31009d(0x1b2)}},'required':[_0x31009d(0x326),_0x31009d(0x74a),_0x31009d(0x119)]};break;case _0x31009d(0x338):_0x44f529=_0x31009d(0x27c)+_0x5d4602+'\x20'+_0x508e74+'\x20คู่\x20'+_0x39bf50+_0x31009d(0x77d)+_0x508e74+_0x31009d(0x6d6)+_0x449ea8+'\x20'+simpleMathPrompt,_0x3f23e0={'type':_0x31009d(0x4c5),'properties':{'questionType':{'type':_0x31009d(0x1b2),'enum':[_0x31009d(0x7bd)]},'stem':{'type':_0x31009d(0x1b2)},'correctResponse':{'type':_0x31009d(0x1b2)},'allResponses':{'type':'ARRAY','items':{'type':_0x31009d(0x1b2)}},'explanation':{'type':_0x31009d(0x1b2)},'imageCode':{'type':_0x31009d(0x1b2)}},'required':[_0x31009d(0x59d),_0x31009d(0x1a3),_0x31009d(0x68e),_0x31009d(0x42b),_0x31009d(0x119)]};break;}const _0x3fb1dc={'type':_0x31009d(0x4c5),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x31009d(0x308),'items':_0x3f23e0}},'required':[_0x31009d(0x430),_0x31009d(0x366)]},_0x34007b=_0x31009d(0x55a)+_0x44f529,_0x4358c7={'contents':[{'parts':[{'text':_0x34007b},{'inlineData':{'mimeType':_0x1b5a43,'data':_0x4177c8}}]}],'generationConfig':{'responseMimeType':_0x31009d(0x365),'responseSchema':_0x3fb1dc}};return handleApiCall(_0x4358c7[_0x31009d(0x373)][0x0]['parts'],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x3fb1dc);}async function handleApiCall(_0x19a556,_0x317597,_0x22c95f,_0x4352e1=null){const _0x525c5b=_0x490f9b,_0x3a1682=document[_0x525c5b(0x18e)](_0x525c5b(0x5fe)),_0x4e986b=document['getElementById'](_0x525c5b(0x65d)),_0x5da16b=document['getElementById'](_0x525c5b(0x14c)),_0x49b8a5=document[_0x525c5b(0x18e)](_0x525c5b(0x46c));_0x3a1682[_0x525c5b(0x367)][_0x525c5b(0x33f)]('hidden');_0x4352e1===null&&(_0x49b8a5[_0x525c5b(0x612)]='');_0x4e986b[_0x525c5b(0x367)]['remove'](_0x525c5b(0x410)),_0x5da16b[_0x525c5b(0x473)]=_0x317597,document[_0x525c5b(0x18e)](_0x525c5b(0x570))[_0x525c5b(0x467)]=!![],document['getElementById'](_0x525c5b(0x180))[_0x525c5b(0x467)]=!![],document[_0x525c5b(0x18e)](_0x525c5b(0x291))['disabled']=!![];try{const _0x52616b={'responseMimeType':_0x525c5b(0x365),'responseSchema':_0x22c95f},_0xe01c2=Array['isArray'](_0x19a556)?_0x19a556:[{'text':_0x19a556}],_0x4e465b={'contents':[{'role':_0x525c5b(0x3a2),'parts':_0xe01c2}],'generationConfig':_0x52616b},_0x477eec='AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA',_0x50c9e5='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x477eec,_0x583838=await fetch(_0x50c9e5,{'method':'POST','headers':{'Content-Type':_0x525c5b(0x365)},'body':JSON[_0x525c5b(0x53a)](_0x4e465b)});if(!_0x583838['ok'])throw new Error(_0x525c5b(0x509)+_0x583838[_0x525c5b(0x742)]);const _0x3c12f8=await _0x583838[_0x525c5b(0x47a)]();if(_0x3c12f8[_0x525c5b(0x219)]?.[0x0]?.[_0x525c5b(0x312)]?.[_0x525c5b(0x2ce)]?.[0x0]){let _0x555f2b=_0x3c12f8['candidates'][0x0][_0x525c5b(0x312)][_0x525c5b(0x2ce)][0x0][_0x525c5b(0x7b5)],_0x32292b;try{if(_0x555f2b[_0x525c5b(0x489)]('```json'))_0x555f2b=_0x555f2b[_0x525c5b(0x3c8)](0x7,_0x555f2b['length']-0x3)['trim']();else _0x555f2b[_0x525c5b(0x489)](_0x525c5b(0x1f1))&&(_0x555f2b=_0x555f2b[_0x525c5b(0x3c8)](0x3,_0x555f2b[_0x525c5b(0x387)]-0x3)['trim']());_0x32292b=JSON[_0x525c5b(0x311)](_0x555f2b);}catch(_0x103266){console[_0x525c5b(0x71c)]('Failed\x20to\x20parse\x20JSON\x20from\x20AI',_0x103266,_0x555f2b);throw new Error('Invalid\x20response\x20structure\x20from\x20AI.');}if(_0x4352e1!==null){if(_0x32292b[_0x525c5b(0x59d)]===_0x525c5b(0x7bd)){const _0x3a8fd8=currentQuizData[_0x525c5b(0x366)][_0x525c5b(0x6f5)](_0x21c5bc=>_0x21c5bc[_0x525c5b(0x68e)]);_0x32292b['allResponses']=_0x3a8fd8;const _0x59d598=currentQuizData[_0x525c5b(0x366)][_0x4352e1][_0x525c5b(0x68e)],_0xcdac2d=_0x3a8fd8[_0x525c5b(0x5a6)](_0x59d598);_0xcdac2d>-0x1&&(_0x3a8fd8[_0xcdac2d]=_0x32292b['correctResponse']),currentQuizData[_0x525c5b(0x366)]['forEach'](_0x844a2f=>{const _0x18b82a=_0x525c5b;if(_0x844a2f[_0x18b82a(0x59d)]==='matching_item')_0x844a2f[_0x18b82a(0x42b)]=_0x3a8fd8;});}currentQuizData[_0x525c5b(0x366)][_0x4352e1]=_0x32292b,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x32292b;const _0x17b884=document['getElementById'](_0x525c5b(0x34a))[_0x525c5b(0x588)];currentQuizData[_0x525c5b(0x198)]=_0x17b884,currentQuizData['questions']&&currentQuizData[_0x525c5b(0x366)][_0x525c5b(0x13c)](_0x328333=>{const _0x400e9e=_0x525c5b;if(!_0x328333['questionType']){if(_0x17b884===_0x400e9e(0x35f))_0x328333[_0x400e9e(0x59d)]=_0x400e9e(0x4c8);else _0x17b884===_0x400e9e(0x728)?_0x328333[_0x400e9e(0x59d)]='short_answer':_0x328333['questionType']=_0x17b884;}}),displayGeneratedQuiz(currentQuizData);}}else{console[_0x525c5b(0x71c)](_0x525c5b(0x7bb),JSON['stringify'](_0x3c12f8));throw new Error(_0x525c5b(0x3ab));}}catch(_0x4e58a3){console[_0x525c5b(0x71c)](_0x525c5b(0x565),_0x4e58a3),showMessage(_0x525c5b(0x76f)),_0x4352e1===null&&(_0x49b8a5[_0x525c5b(0x612)]=_0x525c5b(0x7cc));}finally{_0x4e986b[_0x525c5b(0x367)][_0x525c5b(0x529)](_0x525c5b(0x410)),document[_0x525c5b(0x18e)](_0x525c5b(0x570))[_0x525c5b(0x467)]=![],document[_0x525c5b(0x18e)](_0x525c5b(0x180))[_0x525c5b(0x467)]=![],document[_0x525c5b(0x18e)](_0x525c5b(0x291))['disabled']=![];const _0x109005=document[_0x525c5b(0x18e)](_0x525c5b(0x2ab));_0x109005&&(_0x109005[_0x525c5b(0x467)]=![]);}}function displayGeneratedQuiz(_0x240551){const _0x408452=_0x490f9b,_0xfdd4ef=document[_0x408452(0x18e)](_0x408452(0x46c));let _0x48b080=_0x408452(0x37a)+_0x240551['topic']+_0x408452(0x456);_0x240551[_0x408452(0x366)][_0x408452(0x13c)]((_0x25202e,_0x2d84ca)=>{const _0x528028=_0x408452,_0x5f4e92=_0x25202e[_0x528028(0x59d)]||_0x240551[_0x528028(0x198)];_0x48b080+=_0x528028(0x49b)+_0x2d84ca+_0x528028(0x491)+_0x2d84ca+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x2d84ca+_0x528028(0x123);switch(_0x5f4e92){case _0x528028(0x7bd):_0x48b080+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x2d84ca+'\x22>'+(_0x2d84ca+0x1)+'.\x20'+_0x25202e[_0x528028(0x1a3)]+_0x528028(0x1ba);_0x25202e['imageCode']&&(_0x48b080+='<div\x20id=\x22q-image-container-'+_0x2d84ca+_0x528028(0x5d6)+_0x25202e[_0x528028(0x74d)]+_0x528028(0x702));_0x48b080+='<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-'+_0x2d84ca+'\x22>'+_0x25202e[_0x528028(0x68e)]+'</span></div>',_0x48b080+=_0x528028(0x56d)+_0x2d84ca+'\x22>'+_0x25202e[_0x528028(0x119)]+'</span></div>';break;case _0x528028(0x472):_0x48b080+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x2d84ca+'\x22>'+(_0x2d84ca+0x1)+'.\x20'+_0x25202e['questionText']+_0x528028(0x1ba);_0x25202e[_0x528028(0x74d)]&&(_0x48b080+='<div\x20id=\x22q-image-container-'+_0x2d84ca+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x25202e[_0x528028(0x74d)]+_0x528028(0x702));_0x48b080+=_0x528028(0x455)+_0x2d84ca+'\x22>'+_0x25202e[_0x528028(0x233)]+_0x528028(0x60c),_0x48b080+=_0x528028(0x56d)+_0x2d84ca+'\x22>'+_0x25202e[_0x528028(0x119)]+_0x528028(0x60c);break;case _0x528028(0x136):_0x48b080+=_0x528028(0x625)+_0x2d84ca+'\x22>'+(_0x2d84ca+0x1)+'.\x20'+_0x25202e[_0x528028(0x326)]+_0x528028(0x1ba);_0x25202e[_0x528028(0x74d)]&&(_0x48b080+=_0x528028(0x48b)+_0x2d84ca+_0x528028(0x5d6)+_0x25202e[_0x528028(0x74d)]+'</div>');_0x48b080+=_0x528028(0x270)+(_0x25202e[_0x528028(0x74a)]===!![]?'text-green-600\x20font-bold':'')+'\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22'+(_0x25202e['correctAnswer']===![]?_0x528028(0x200):'')+_0x528028(0x159),_0x48b080+=_0x528028(0x56d)+_0x2d84ca+'\x22>'+_0x25202e[_0x528028(0x119)]+_0x528028(0x60c);break;case _0x528028(0x3cd):case _0x528028(0x4c8):default:_0x48b080+=_0x528028(0x625)+_0x2d84ca+'\x22>'+(_0x2d84ca+0x1)+'.\x20'+_0x25202e['questionText']+_0x528028(0x1ba);_0x25202e[_0x528028(0x74d)]&&(_0x48b080+='<div\x20id=\x22q-image-container-'+_0x2d84ca+_0x528028(0x5d6)+_0x25202e[_0x528028(0x74d)]+'</div>');_0x48b080+='<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-'+_0x2d84ca+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x25202e[_0x528028(0x391)][_0x528028(0x6f5)]((_0x3ecb22,_0x14e29e)=>_0x528028(0x63c)+(_0x14e29e===_0x25202e[_0x528028(0x6bc)]?_0x528028(0x200):'')+'\x22>'+_0x3ecb22+_0x528028(0x315))[_0x528028(0x48a)]('')+_0x528028(0x321),_0x48b080+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x2d84ca+'\x22>'+_0x25202e[_0x528028(0x119)]+_0x528028(0x60c);break;}_0x48b080+=_0x528028(0x702);}),_0x48b080+=_0x408452(0x454),_0xfdd4ef[_0x408452(0x612)]=_0x48b080,document[_0x408452(0x511)](_0x408452(0x6c3))[_0x408452(0x13c)](_0x447ddb=>_0x447ddb[_0x408452(0x41a)]('click',handleEditQuestion)),document[_0x408452(0x511)](_0x408452(0x55d))[_0x408452(0x13c)](_0x57f897=>_0x57f897[_0x408452(0x41a)]('click',handleRegenerateQuestion)),document[_0x408452(0x511)](_0x408452(0x113))[_0x408452(0x13c)](_0x24ffbb=>_0x24ffbb[_0x408452(0x41a)](_0x408452(0x2cb),handleSaveToBank)),document[_0x408452(0x18e)](_0x408452(0x751))[_0x408452(0x41a)](_0x408452(0x2cb),exportQuizAsWorksheetPDF),document['getElementById'](_0x408452(0x737))[_0x408452(0x41a)]('click',saveQuiz);if(window[_0x408452(0x27b)])window[_0x408452(0x27b)][_0x408452(0x478)]([_0xfdd4ef]);}function handleRegenerateQuestion(_0x4ce496){const _0x45db51=_0x490f9b,_0xe6c209=_0x4ce496[_0x45db51(0x301)][_0x45db51(0x5b0)][_0x45db51(0x641)],_0x5552a1=currentQuizData['topic'];showMessage(_0x45db51(0x393)+(parseInt(_0xe6c209)+0x1)+_0x45db51(0x524)),generateQuiz(_0x5552a1,null,parseInt(_0xe6c209));}function getPointerPosition(_0x3c85a4,_0x55952e){const _0x1b0521=_0x490f9b,_0x2bc66e=_0x3c85a4[_0x1b0521(0x44f)]();let _0x1972db,_0x47b77c;return _0x55952e[_0x1b0521(0x5c4)]&&_0x55952e[_0x1b0521(0x5c4)][_0x1b0521(0x387)]>0x0?(_0x1972db=_0x55952e['touches'][0x0][_0x1b0521(0x360)],_0x47b77c=_0x55952e['touches'][0x0][_0x1b0521(0x206)]):(_0x1972db=_0x55952e[_0x1b0521(0x360)],_0x47b77c=_0x55952e['clientY']),{'x':(_0x1972db-_0x2bc66e['e'])/_0x2bc66e['a'],'y':(_0x47b77c-_0x2bc66e['f'])/_0x2bc66e['d']};}function startDrag(_0x912f05){const _0x3f91d5=_0x490f9b;_0x912f05['type']===_0x3f91d5(0x3dc)&&_0x912f05[_0x3f91d5(0x5fd)]();const _0x1f8ad7=_0x912f05[_0x3f91d5(0x734)][_0x3f91d5(0x4ed)](_0x3f91d5(0x12d));if(_0x1f8ad7){draggedSvgElement=_0x1f8ad7;const _0x392414=draggedSvgElement[_0x3f91d5(0x2a4)],_0xa3efdb=getPointerPosition(_0x392414,_0x912f05);svgOffset['x']=_0xa3efdb['x']-parseFloat(draggedSvgElement[_0x3f91d5(0x777)](null,'x')),svgOffset['y']=_0xa3efdb['y']-parseFloat(draggedSvgElement[_0x3f91d5(0x777)](null,'y'));}}function calculateItemAnalysis(_0x18d5f0,_0x12235f){const _0xedd794=_0x490f9b,_0x3e532f={};if(_0x12235f[_0xedd794(0x387)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x1d0f54=[..._0x12235f][_0xedd794(0x54b)]((_0x343889,_0x585e40)=>{const _0xf60667=_0xedd794,_0xe1abe=_0x585e40[_0xf60667(0x339)]-_0x343889[_0xf60667(0x339)];if(_0xe1abe!==0x0)return _0xe1abe;const _0x379039=_0x343889[_0xf60667(0x21b)]?.[_0xf60667(0x387)]||0x1,_0x3b45ee=_0x585e40[_0xf60667(0x21b)]?.[_0xf60667(0x387)]||0x1,_0x2238b8=_0x379039-_0x3b45ee;if(_0x2238b8!==0x0)return _0x2238b8;const _0x14d294=new Date(_0x343889[_0xf60667(0x3c3)]),_0x3e6cf0=new Date(_0x585e40[_0xf60667(0x3c3)]),_0x335847=_0x14d294-_0x3e6cf0;if(_0x335847!==0x0)return _0x335847;return _0x343889['studentName'][_0xf60667(0x513)](_0x585e40[_0xf60667(0x355)],'th');}),_0x3ccde8=_0x1d0f54[_0xedd794(0x387)],_0x37f5de=Math['max'](0x1,Math[_0xedd794(0x1f3)](_0x3ccde8*0.33));if(_0x37f5de===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0x155dc0=_0x1d0f54[_0xedd794(0x5a2)](0x0,_0x37f5de),_0x5bad71=_0x1d0f54['slice'](-_0x37f5de),_0x5a7ed1=_0x155dc0[_0xedd794(0x6f5)](_0x29f612=>_0x29f612['studentName']),_0xe9d93=_0x5bad71[_0xedd794(0x6f5)](_0x541a00=>_0x541a00[_0xedd794(0x355)]);return _0x18d5f0[_0xedd794(0x366)][_0xedd794(0x13c)]((_0x288e58,_0x1a0aed)=>{const _0x2da4c0=_0xedd794,_0x207023=_0x288e58[_0x2da4c0(0x1a3)]||_0x288e58[_0x2da4c0(0x326)];let _0x696a6f=0x0,_0x188f85=0x0,_0x1f5a1c=0x0;const _0x416a3c=[],_0x36cc9e=[];_0x155dc0['forEach'](_0x3189ad=>{const _0x2a24a5=_0x2da4c0,_0x332d2b=_0x3189ad['attempts'][_0x3189ad['attempts'][_0x2a24a5(0x387)]-0x1],_0x475f38=_0x332d2b['answers'][_0x2a24a5(0x3bb)](_0x39d093=>_0x39d093['originalQuestionText']===_0x207023);_0x416a3c['push']({'name':_0x3189ad['studentName'],'isCorrect':_0x475f38?_0x475f38['isCorrect']:![]}),_0x475f38&&_0x475f38[_0x2a24a5(0x6fc)]&&_0x188f85++;}),_0x5bad71['forEach'](_0x400baa=>{const _0xcda457=_0x2da4c0,_0x1060de=_0x400baa['attempts'][_0x400baa[_0xcda457(0x21b)][_0xcda457(0x387)]-0x1],_0x8a9ca9=_0x1060de[_0xcda457(0x76a)][_0xcda457(0x3bb)](_0x4a9fb4=>_0x4a9fb4[_0xcda457(0x149)]===_0x207023);_0x36cc9e['push']({'name':_0x400baa[_0xcda457(0x355)],'isCorrect':_0x8a9ca9?_0x8a9ca9[_0xcda457(0x6fc)]:![]}),_0x8a9ca9&&_0x8a9ca9[_0xcda457(0x6fc)]&&_0x1f5a1c++;}),_0x12235f[_0x2da4c0(0x13c)](_0x5ec449=>{const _0x35495d=_0x2da4c0,_0x121da5=_0x5ec449[_0x35495d(0x21b)][_0x5ec449[_0x35495d(0x21b)]['length']-0x1],_0x3a677f=_0x121da5['answers'][_0x35495d(0x3bb)](_0x3b15f8=>_0x3b15f8[_0x35495d(0x149)]===_0x207023);_0x3a677f&&_0x3a677f['isCorrect']&&_0x696a6f++;});const _0x58b617=_0x3ccde8>0x0?_0x696a6f/_0x3ccde8:0x0,_0x3659a6=_0x37f5de>0x0?_0x188f85/_0x37f5de-_0x1f5a1c/_0x37f5de:0x0;_0x3e532f[_0x1a0aed]={'p':_0x58b617,'r':_0x3659a6,'upperGroupResponders':_0x416a3c,'lowerGroupResponders':_0x36cc9e};}),{'perQuestionStats':_0x3e532f,'overallGroups':{'upperGroupNames':_0x5a7ed1,'lowerGroupNames':_0xe9d93}};}function drag(_0x32ae90){const _0x275cee=_0x490f9b;if(draggedSvgElement){_0x32ae90[_0x275cee(0x5fd)]();const _0x1c6e8f=draggedSvgElement[_0x275cee(0x2a4)],_0x254d9b=getPointerPosition(_0x1c6e8f,_0x32ae90),_0x4c2dbc=_0x1c6e8f['viewBox'][_0x275cee(0x43b)];let _0x3f9e18=_0x254d9b['x']-svgOffset['x'],_0x19ac56=_0x254d9b['y']-svgOffset['y'];const _0x5cb352=draggedSvgElement['getBBox']();_0x3f9e18=Math[_0x275cee(0x1ac)](_0x4c2dbc['x'],Math[_0x275cee(0x6a4)](_0x3f9e18,_0x4c2dbc['x']+_0x4c2dbc[_0x275cee(0x3d6)]-_0x5cb352[_0x275cee(0x3d6)])),_0x19ac56=Math[_0x275cee(0x1ac)](_0x4c2dbc['y'],Math[_0x275cee(0x6a4)](_0x19ac56,_0x4c2dbc['y']+_0x4c2dbc[_0x275cee(0x4fc)]-_0x5cb352[_0x275cee(0x4fc)])),draggedSvgElement[_0x275cee(0x13d)](null,'x',_0x3f9e18),draggedSvgElement[_0x275cee(0x13d)](null,'y',_0x19ac56);}}function endDrag(_0xc557e5){draggedSvgElement=null;}function _0x27c3(_0x245a8c,_0x5608cb){const _0x3a9e34=_0x3a9e();return _0x27c3=function(_0x27c3f3,_0x477f43){_0x27c3f3=_0x27c3f3-0x10e;let _0x3bfa82=_0x3a9e34[_0x27c3f3];return _0x3bfa82;},_0x27c3(_0x245a8c,_0x5608cb);}function handleSvgEditClick(_0x387260){const _0x7cd511=_0x490f9b;if(_0x387260[_0x7cd511(0x734)]['classList']['contains'](_0x7cd511(0x2d2))){const _0x27d7aa=_0x387260[_0x7cd511(0x734)]['dataset']['targetId'],_0x319644=_0x387260['currentTarget'],_0x3ad239=_0x319644[_0x7cd511(0x2f1)]('#'+_0x27d7aa);_0x3ad239&&_0x3ad239[_0x7cd511(0x33f)](),_0x387260['target'][_0x7cd511(0x33f)]();}}function handleEditQuestion(_0x22d595){const _0x2f5516=_0x490f9b,_0x37ee08=_0x22d595[_0x2f5516(0x301)],_0x2734b5=_0x37ee08[_0x2f5516(0x5b0)][_0x2f5516(0x641)],_0x5041c2=currentQuizData['questions'][_0x2734b5],_0x563fef=document[_0x2f5516(0x18e)](_0x2f5516(0x2bd)+_0x2734b5),_0x817689=document[_0x2f5516(0x18e)](_0x2f5516(0x719)+_0x2734b5),_0x5a4469=document[_0x2f5516(0x18e)](_0x2f5516(0x29a)+_0x2734b5);if(_0x37ee08[_0x2f5516(0x612)]['includes'](_0x2f5516(0x146))){_0x37ee08[_0x2f5516(0x612)]=_0x2f5516(0x4d5),_0x37ee08[_0x2f5516(0x189)]='บันทึกการแก้ไข';if(_0x563fef)_0x563fef[_0x2f5516(0x3a8)]=!![];if(_0x817689)_0x817689[_0x2f5516(0x3a8)]=!![];if(_0x5a4469){const _0x584d52=_0x5a4469[_0x2f5516(0x2f1)](_0x2f5516(0x2b5));if(_0x584d52){const _0x2bb180=_0x584d52['querySelectorAll'](_0x2f5516(0x7b5));_0x2bb180[_0x2f5516(0x13c)]((_0x4078fe,_0x2a73a3)=>{const _0x13d6d4=_0x2f5516,_0x9fce26=_0x13d6d4(0x2a0)+_0x2734b5+'-'+_0x2a73a3;_0x4078fe['id']=_0x9fce26,_0x4078fe[_0x13d6d4(0x367)]['add']('draggable-text'),_0x4078fe[_0x13d6d4(0x779)][_0x13d6d4(0x35b)]=_0x13d6d4(0x501);const _0x2b7704=document['createElementNS'](_0x13d6d4(0x4d2),'circle'),_0x1b867e=_0x4078fe[_0x13d6d4(0x1ef)]();_0x2b7704[_0x13d6d4(0x5ff)]('cx',String(_0x1b867e['x']+_0x1b867e['width']+0x5)),_0x2b7704[_0x13d6d4(0x5ff)]('cy',String(_0x1b867e['y']+_0x1b867e[_0x13d6d4(0x4fc)]/0x2-0x5)),_0x2b7704[_0x13d6d4(0x5ff)]('r','5'),_0x2b7704[_0x13d6d4(0x5ff)](_0x13d6d4(0x17b),'red'),_0x2b7704[_0x13d6d4(0x5ff)](_0x13d6d4(0x14a),_0x13d6d4(0x2d2)),_0x2b7704['dataset'][_0x13d6d4(0x27d)]=_0x9fce26,_0x4078fe[_0x13d6d4(0x29d)](_0x2b7704);}),_0x584d52[_0x2f5516(0x41a)]('mousedown',startDrag),_0x584d52[_0x2f5516(0x41a)]('mousemove',drag),_0x584d52[_0x2f5516(0x41a)](_0x2f5516(0x7b2),endDrag),_0x584d52[_0x2f5516(0x41a)](_0x2f5516(0x750),endDrag),_0x584d52[_0x2f5516(0x41a)]('touchstart',startDrag,{'passive':![]}),_0x584d52[_0x2f5516(0x41a)](_0x2f5516(0x7ad),drag,{'passive':![]}),_0x584d52[_0x2f5516(0x41a)](_0x2f5516(0x7a9),endDrag),_0x584d52['addEventListener']('touchcancel',endDrag),_0x584d52[_0x2f5516(0x41a)](_0x2f5516(0x2cb),handleSvgEditClick);}}if(_0x563fef)_0x563fef[_0x2f5516(0x249)]();}else{_0x37ee08['innerHTML']='<i\x20class=\x22fas\x20fa-pen\x22></i>',_0x37ee08[_0x2f5516(0x189)]='แก้ไขข้อนี้';if(_0x563fef){_0x563fef['contentEditable']=![];const _0x5b3602=_0x5041c2['questionType']||currentQuizData[_0x2f5516(0x198)];_0x5b3602===_0x2f5516(0x7bd)?_0x5041c2[_0x2f5516(0x1a3)]=_0x563fef[_0x2f5516(0x383)][_0x2f5516(0x3c8)](_0x563fef[_0x2f5516(0x383)][_0x2f5516(0x5a6)]('.')+0x2)[_0x2f5516(0x686)]():_0x5041c2['questionText']=_0x563fef[_0x2f5516(0x383)][_0x2f5516(0x3c8)](_0x563fef[_0x2f5516(0x383)][_0x2f5516(0x5a6)]('.')+0x2)['trim']();}_0x817689&&(_0x817689[_0x2f5516(0x3a8)]=![],_0x5041c2['explanation']=_0x817689[_0x2f5516(0x383)]);if(_0x5a4469){const _0x287387=_0x5a4469[_0x2f5516(0x2f1)](_0x2f5516(0x2b5));if(_0x287387){const _0x4e604f=_0x287387[_0x2f5516(0x663)](!![]);_0x4e604f[_0x2f5516(0x511)](_0x2f5516(0x569))['forEach'](_0x38d56e=>_0x38d56e[_0x2f5516(0x33f)]()),_0x4e604f['querySelectorAll'](_0x2f5516(0x12d))[_0x2f5516(0x13c)](_0x25763d=>{const _0x4e78b6=_0x2f5516;_0x25763d[_0x4e78b6(0x367)]['remove'](_0x4e78b6(0x7cb)),_0x25763d[_0x4e78b6(0x779)]['cursor']=_0x4e78b6(0x548),_0x25763d['removeAttribute']('id');}),_0x5041c2['imageCode']=_0x4e604f[_0x2f5516(0x546)],_0x287387[_0x2f5516(0x401)](_0x2f5516(0x163),startDrag),_0x287387['removeEventListener'](_0x2f5516(0x3e2),drag),_0x287387[_0x2f5516(0x401)]('mouseup',endDrag),_0x287387[_0x2f5516(0x401)](_0x2f5516(0x750),endDrag),_0x287387[_0x2f5516(0x401)]('touchstart',startDrag),_0x287387[_0x2f5516(0x401)](_0x2f5516(0x7ad),drag),_0x287387[_0x2f5516(0x401)](_0x2f5516(0x7a9),endDrag),_0x287387[_0x2f5516(0x401)]('touchcancel',endDrag),_0x287387['removeEventListener']('click',handleSvgEditClick),_0x287387['querySelectorAll'](_0x2f5516(0x569))[_0x2f5516(0x13c)](_0x43453a=>_0x43453a[_0x2f5516(0x33f)]()),_0x287387['querySelectorAll'](_0x2f5516(0x12d))[_0x2f5516(0x13c)](_0x3ea9a1=>{const _0x4bae80=_0x2f5516;_0x3ea9a1['classList'][_0x4bae80(0x33f)](_0x4bae80(0x7cb)),_0x3ea9a1['style'][_0x4bae80(0x35b)]='default';});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x47e75c){const _0x45ad4e=_0x490f9b,_0x2965f6=document[_0x45ad4e(0x18e)](_0x45ad4e(0x15e)),_0x7c5032=document['getElementById'](_0x45ad4e(0x34f));_0x7c5032[_0x45ad4e(0x612)]=_0x45ad4e(0x251),_0x2965f6['classList']['remove'](_0x45ad4e(0x410));try{const _0x4888dd=doc(db,_0x45ad4e(0x199)+appId+'/public/data/quizzes',_0x47e75c),_0x3ccba4=await getDoc(_0x4888dd);if(!_0x3ccba4[_0x45ad4e(0x590)]())throw new Error(_0x45ad4e(0x4dd));currentEditingQuizData={'id':_0x47e75c,..._0x3ccba4['data']()},renderQuizEditor(currentEditingQuizData);}catch(_0x1a08fb){console[_0x45ad4e(0x71c)](_0x45ad4e(0x6d1),_0x1a08fb),showMessage(_0x45ad4e(0x75f)),_0x2965f6[_0x45ad4e(0x367)][_0x45ad4e(0x529)]('hidden');}}function renderQuizEditor(_0x1e52df){const _0x5d95b6=_0x490f9b;document[_0x5d95b6(0x18e)](_0x5d95b6(0x377))[_0x5d95b6(0x588)]=_0x1e52df[_0x5d95b6(0x430)];const _0x3d0800=document['getElementById'](_0x5d95b6(0x34f));let _0xae436b=_0x1e52df[_0x5d95b6(0x366)][_0x5d95b6(0x6f5)]((_0x539f5c,_0x50edf6)=>{const _0x251bbe=_0x5d95b6;let _0x550fce='';const _0x5bda23=_0x539f5c[_0x251bbe(0x59d)]||_0x1e52df[_0x251bbe(0x198)];switch(_0x5bda23){case _0x251bbe(0x4c8):const _0x482d1f=(_0x539f5c[_0x251bbe(0x391)]||[])[_0x251bbe(0x6f5)]((_0x38ac5f,_0x3714c7)=>_0x251bbe(0x433)+_0x50edf6+_0x251bbe(0x39b)+_0x3714c7+'\x22\x20'+(_0x3714c7===_0x539f5c[_0x251bbe(0x6bc)]?_0x251bbe(0x333):'')+_0x251bbe(0x3aa)+_0x38ac5f+_0x251bbe(0x45c))[_0x251bbe(0x48a)]('');_0x550fce=_0x251bbe(0x5da)+_0x482d1f+_0x251bbe(0x474);break;case _0x251bbe(0x472):_0x550fce=_0x251bbe(0x6f6)+(_0x539f5c[_0x251bbe(0x233)]||'')+_0x251bbe(0x714);break;case _0x251bbe(0x136):_0x550fce=_0x251bbe(0x1ea)+_0x50edf6+_0x251bbe(0x1cd)+(_0x539f5c['correctAnswer']===!![]?'checked':'')+_0x251bbe(0x533)+_0x50edf6+_0x251bbe(0x2c2)+(_0x539f5c[_0x251bbe(0x74a)]===![]?'checked':'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'matching_item':_0x550fce=_0x251bbe(0x5c8)+(_0x539f5c[_0x251bbe(0x68e)]||'')+_0x251bbe(0x1c9);break;}const _0x21b7f5=_0x539f5c['questionText']||_0x539f5c[_0x251bbe(0x1a3)]||'';return'\x0a\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22'+_0x50edf6+_0x251bbe(0x63a)+_0x5bda23+_0x251bbe(0x508)+(_0x50edf6+0x1)+'\x20('+_0x5bda23+'):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>'+_0x21b7f5+_0x251bbe(0x431)+_0x550fce+'</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x5d95b6(0x48a)]('');_0x3d0800[_0x5d95b6(0x612)]=_0xae436b;}async function handleSaveChanges(){const _0x23e5ad=_0x490f9b,_0x4f0030=document[_0x23e5ad(0x18e)](_0x23e5ad(0x236));_0x4f0030['disabled']=!![],_0x4f0030['innerHTML']=_0x23e5ad(0x768);try{const _0x32bd0e=document[_0x23e5ad(0x18e)](_0x23e5ad(0x377))[_0x23e5ad(0x588)],_0x4afc69=document[_0x23e5ad(0x511)](_0x23e5ad(0x5f0));let _0x2edc83=[];const _0x4614d0=Array[_0x23e5ad(0x502)](_0x4afc69)[_0x23e5ad(0x6f5)]((_0x3fdd08,_0x12deb7)=>{const _0x1c6478=_0x23e5ad,_0x2502c8=_0x3fdd08[_0x1c6478(0x5b0)][_0x1c6478(0x77e)],_0x3c9781=_0x3fdd08['querySelector'](_0x1c6478(0x4e7))['value'];let _0x526e09={'questionType':_0x2502c8};const _0x2f82f8=currentEditingQuizData['questions'][_0x12deb7];switch(_0x2502c8){case _0x1c6478(0x4c8):_0x526e09['questionText']=_0x3c9781;const _0x558878=_0x3fdd08[_0x1c6478(0x511)](_0x1c6478(0x16b));_0x526e09[_0x1c6478(0x391)]=Array[_0x1c6478(0x502)](_0x558878)['map'](_0x1058fa=>_0x1058fa[_0x1c6478(0x588)]);const _0x568f85=_0x3fdd08['querySelector'](_0x1c6478(0x2f6));_0x526e09[_0x1c6478(0x6bc)]=_0x568f85?parseInt(_0x568f85['value']):0x0;break;case _0x1c6478(0x472):_0x526e09['questionText']=_0x3c9781,_0x526e09[_0x1c6478(0x233)]=_0x3fdd08[_0x1c6478(0x2f1)](_0x1c6478(0x78a))['value'];break;case _0x1c6478(0x136):_0x526e09[_0x1c6478(0x326)]=_0x3c9781;const _0x4dc0c0=_0x3fdd08[_0x1c6478(0x2f1)]('input[type=\x22radio\x22]:checked');_0x526e09[_0x1c6478(0x74a)]=_0x4dc0c0?_0x4dc0c0[_0x1c6478(0x588)]==='true':!![];break;case _0x1c6478(0x7bd):_0x526e09[_0x1c6478(0x1a3)]=_0x3c9781;const _0x5725be=_0x3fdd08['querySelector'](_0x1c6478(0x62f));_0x526e09['correctResponse']=_0x5725be?_0x5725be[_0x1c6478(0x588)]:'',_0x2edc83['push'](_0x526e09[_0x1c6478(0x68e)]);break;default:_0x526e09[_0x1c6478(0x326)]=_0x3c9781;break;}return{..._0x2f82f8,..._0x526e09};});_0x2edc83[_0x23e5ad(0x387)]>0x0&&_0x4614d0[_0x23e5ad(0x13c)](_0x3164cf=>{const _0x3b7997=_0x23e5ad;_0x3164cf[_0x3b7997(0x59d)]===_0x3b7997(0x7bd)&&(_0x3164cf['allResponses']=_0x2edc83);});const _0x5a2fd0=doc(db,'artifacts/'+appId+'/public/data/quizzes',currentEditingQuizData['id']);await updateDoc(_0x5a2fd0,{'topic':_0x32bd0e,'questions':_0x4614d0}),showMessage(_0x23e5ad(0x75e)),document[_0x23e5ad(0x18e)](_0x23e5ad(0x15e))['classList'][_0x23e5ad(0x529)](_0x23e5ad(0x410));}catch(_0x3141ef){console[_0x23e5ad(0x71c)](_0x23e5ad(0x59b),_0x3141ef),showMessage(_0x23e5ad(0x68a));}finally{_0x4f0030[_0x23e5ad(0x467)]=![],_0x4f0030[_0x23e5ad(0x612)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function saveQuiz(){const _0x5a8b82=_0x490f9b;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData['questions']||!userId){showMessage(_0x5a8b82(0x133));return;}const _0x3ec0e8=document[_0x5a8b82(0x18e)](_0x5a8b82(0x737));_0x3ec0e8[_0x5a8b82(0x467)]=!![],_0x3ec0e8[_0x5a8b82(0x612)]=_0x5a8b82(0x768);const _0x29706b=document[_0x5a8b82(0x18e)]('pre-test-checkbox')['checked'];let _0x3b359f=document['getElementById'](_0x5a8b82(0x75d))[_0x5a8b82(0x383)][_0x5a8b82(0x686)]();_0x29706b&&!_0x3b359f[_0x5a8b82(0x489)]('(ก่อนเรียน)')&&(_0x3b359f=_0x5a8b82(0x521)+_0x3b359f);try{const _0x4fc1b9={'resultsDisplay':document[_0x5a8b82(0x18e)](_0x5a8b82(0x15c))[_0x5a8b82(0x588)],'shuffle':document[_0x5a8b82(0x18e)](_0x5a8b82(0x79a))['value'],'timerMode':document[_0x5a8b82(0x18e)](_0x5a8b82(0x5dd))[_0x5a8b82(0x588)],'timerDuration':parseInt(document['getElementById'](_0x5a8b82(0x5a5))['value'])||0xa,'passingScore':parseInt(document['getElementById'](_0x5a8b82(0x690))[_0x5a8b82(0x588)])||0x0,'isAdaptive':document['getElementById']('adaptive-quiz-checkbox')[_0x5a8b82(0x333)]},_0x5865d0=(currentQuizData[_0x5a8b82(0x366)]||[])[_0x5a8b82(0x6f5)](_0x505f90=>{const _0x203acb=_0x5a8b82,_0x4bfc33=document[_0x203acb(0x18e)](_0x203acb(0x34a))[_0x203acb(0x588)],_0x4bbb55={'questionText':_0x505f90['questionText']||'','explanation':_0x505f90[_0x203acb(0x119)]||_0x203acb(0x413),'questionType':_0x505f90['questionType']||_0x4bfc33,'imageCode':_0x505f90[_0x203acb(0x74d)]||null};return(_0x4bbb55[_0x203acb(0x59d)]===_0x203acb(0x4c8)||_0x4bbb55[_0x203acb(0x59d)]===_0x203acb(0x35f)||_0x4bbb55[_0x203acb(0x59d)]===_0x203acb(0x211)&&_0x505f90['options'])&&(_0x4bbb55[_0x203acb(0x391)]=_0x505f90[_0x203acb(0x391)]||[],_0x4bbb55[_0x203acb(0x6bc)]=_0x505f90[_0x203acb(0x6bc)]!==undefined?_0x505f90[_0x203acb(0x6bc)]:0x0),(_0x4bbb55[_0x203acb(0x59d)]==='short_answer'||_0x4bbb55[_0x203acb(0x59d)]===_0x203acb(0x728)||_0x4bbb55[_0x203acb(0x59d)]===_0x203acb(0x211)&&_0x505f90[_0x203acb(0x233)])&&(_0x4bbb55[_0x203acb(0x233)]=_0x505f90['idealAnswer']||''),_0x4bbb55[_0x203acb(0x59d)]===_0x203acb(0x136)&&(_0x4bbb55[_0x203acb(0x74a)]=_0x505f90[_0x203acb(0x74a)]===!![]),_0x4bbb55[_0x203acb(0x59d)]===_0x203acb(0x7bd)&&(_0x4bbb55[_0x203acb(0x1a3)]=_0x505f90[_0x203acb(0x1a3)]||'',_0x4bbb55[_0x203acb(0x68e)]=_0x505f90[_0x203acb(0x68e)]||'',_0x4bbb55[_0x203acb(0x42b)]=_0x505f90['allResponses']||[]),_0x4bbb55;}),_0x2c79fe={'topic':_0x3b359f,'quizType':currentQuizData[_0x5a8b82(0x198)]||_0x5a8b82(0x4c8),'questions':_0x5865d0,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()[_0x5a8b82(0x4a5)](),'status':_0x5a8b82(0x66e),'settings':_0x4fc1b9,'quizMode':_0x29706b?'pre-test':'standard','pairedQuizId':null,'lessonPlan':null};let _0x50d1d1;while(!![]){_0x50d1d1=Math['floor'](0x3e8+Math[_0x5a8b82(0x374)]()*0x2328)[_0x5a8b82(0x50f)]();const _0x487beb=await getDoc(doc(db,_0x5a8b82(0x199)+appId+'/public/data/quizzes',_0x50d1d1));if(!_0x487beb[_0x5a8b82(0x590)]())break;}await setDoc(doc(db,_0x5a8b82(0x199)+appId+_0x5a8b82(0x59e),_0x50d1d1),_0x2c79fe),currentQuizData[_0x5a8b82(0x208)]=_0x4fc1b9,currentQuizData['id']=_0x50d1d1;const _0xb9f182=document[_0x5a8b82(0x18e)](_0x5a8b82(0x648));_0xb9f182['innerHTML']=_0x5a8b82(0x561)+_0x50d1d1+_0x5a8b82(0x370),document[_0x5a8b82(0x18e)](_0x5a8b82(0x6ec))[_0x5a8b82(0x41a)](_0x5a8b82(0x2cb),()=>copyTextToClipboard(_0x50d1d1,'คัดลอกรหัสแล้ว!')),document[_0x5a8b82(0x18e)](_0x5a8b82(0x1da))[_0x5a8b82(0x41a)]('click',()=>handleStartLiveRace(_0x50d1d1)),document['getElementById'](_0x5a8b82(0x59f))[_0x5a8b82(0x41a)](_0x5a8b82(0x2cb),()=>startPresentation(currentQuizData)),document[_0x5a8b82(0x18e)](_0x5a8b82(0x2fa))[_0x5a8b82(0x41a)](_0x5a8b82(0x2cb),startAdminTest),showMessage(_0x5a8b82(0x3e5));}catch(_0x36fa89){console[_0x5a8b82(0x71c)](_0x5a8b82(0x56f),_0x36fa89),showMessage('เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ'),_0x3ec0e8[_0x5a8b82(0x467)]=![],_0x3ec0e8['innerHTML']=_0x5a8b82(0x7b7);}}function promptForProjectAndSave(){const _0x1744ba=_0x490f9b,_0x2b5a46=document[_0x1744ba(0x18e)](_0x1744ba(0x4eb)),_0x369ce2=document['getElementById'](_0x1744ba(0x1b3)),_0x427c9f=_0x2b5a46[_0x1744ba(0x2f1)]('h3'),_0x1d4357=document['getElementById']('confirm-move-quiz-btn');_0x427c9f[_0x1744ba(0x473)]=_0x1744ba(0x22c),_0x1d4357[_0x1744ba(0x473)]='เลือกและบันทึก';allProjects[_0x1744ba(0x387)]===0x0?(_0x369ce2[_0x1744ba(0x612)]=_0x1744ba(0x2cd),_0x1d4357[_0x1744ba(0x467)]=!![]):(_0x369ce2[_0x1744ba(0x612)]=allProjects[_0x1744ba(0x6f5)](_0x15305d=>_0x1744ba(0x45b)+_0x15305d['id']+'\x22>'+_0x15305d[_0x1744ba(0x177)]+_0x1744ba(0x21c))[_0x1744ba(0x48a)](''),_0x1d4357[_0x1744ba(0x467)]=![]);_0x2b5a46[_0x1744ba(0x367)][_0x1744ba(0x33f)](_0x1744ba(0x410));const _0xcf210f=()=>{const _0x302dc3=_0x1744ba,_0x2405a0=_0x369ce2['value'];_0x2405a0?(currentProjectId=_0x2405a0,_0x2b5a46[_0x302dc3(0x367)]['add'](_0x302dc3(0x410)),saveQuiz(),_0x427c9f[_0x302dc3(0x473)]=_0x302dc3(0x6bd),_0x1d4357['textContent']='ย้าย',_0x1d4357['removeEventListener'](_0x302dc3(0x2cb),_0xcf210f),_0x1d4357['addEventListener'](_0x302dc3(0x2cb),confirmMoveQuiz)):showMessage(_0x302dc3(0x662));};_0x1d4357[_0x1744ba(0x401)](_0x1744ba(0x2cb),confirmMoveQuiz),_0x1d4357[_0x1744ba(0x41a)](_0x1744ba(0x2cb),_0xcf210f);}function copyTextToClipboard(_0x42023e,_0x8adcf0){const _0xb1894d=_0x490f9b,_0xa18470=document[_0xb1894d(0x52a)]('textarea');_0xa18470[_0xb1894d(0x588)]=_0x42023e,_0xa18470[_0xb1894d(0x779)]['position']=_0xb1894d(0x141),_0xa18470[_0xb1894d(0x779)]['opacity']='0',document[_0xb1894d(0x5cf)][_0xb1894d(0x7b6)](_0xa18470),_0xa18470[_0xb1894d(0x249)](),_0xa18470['select']();try{const _0x164fe5=document[_0xb1894d(0x18c)](_0xb1894d(0x577));showMessage(_0x164fe5?_0x8adcf0:_0xb1894d(0x2a6));}catch(_0x4a85fc){showMessage('คัดลอกไม่สำเร็จ'),console['error'](_0xb1894d(0x30a),_0x4a85fc);}document[_0xb1894d(0x5cf)][_0xb1894d(0x51d)](_0xa18470);}function listenForProjectQuizzes(_0x43af7c){const _0x3c2b84=_0x490f9b,_0x3f6250=collection(db,_0x3c2b84(0x199)+appId+_0x3c2b84(0x59e)),_0x939445=query(_0x3f6250,where(_0x3c2b84(0x596),'==',_0x43af7c));unsubscribeQuizzesListener=onSnapshot(_0x939445,async _0x111d49=>{const _0x2cd293=_0x3c2b84;allQuizzes=_0x111d49[_0x2cd293(0x69e)][_0x2cd293(0x6f5)](_0x50a496=>({'id':_0x50a496['id'],..._0x50a496[_0x2cd293(0x46b)]()})),renderQuizzes();},_0x48c5c7=>{const _0x26fccf=_0x3c2b84;console[_0x26fccf(0x71c)]('Error\x20fetching\x20project\x20quizzes:',_0x48c5c7),document[_0x26fccf(0x18e)](_0x26fccf(0x20d))['innerHTML']=_0x26fccf(0x221);});}async function renderQuizzes(){const _0x1d5efe=_0x490f9b,_0x57081c=document[_0x1d5efe(0x18e)](_0x1d5efe(0x20d)),_0x196d7c=document[_0x1d5efe(0x18e)](_0x1d5efe(0x7c3))[_0x1d5efe(0x588)][_0x1d5efe(0x682)]();let _0x6b2a7c;currentProjectId==='starred'?_0x6b2a7c=starredQuizzes:_0x6b2a7c=allQuizzes;let _0x3b2611=_0x6b2a7c['filter'](_0x5d9763=>_0x5d9763[_0x1d5efe(0x430)][_0x1d5efe(0x682)]()[_0x1d5efe(0x58e)](_0x196d7c));_0x3b2611[_0x1d5efe(0x54b)]((_0x4d16f3,_0x5f476)=>new Date(_0x5f476[_0x1d5efe(0x1ab)])-new Date(_0x4d16f3['createdAt']));if(_0x3b2611[_0x1d5efe(0x387)]===0x0){_0x57081c[_0x1d5efe(0x612)]='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x3cb474={},_0x56dcb4=_0x3b2611[_0x1d5efe(0x6f5)](async _0x18641c=>{const _0x2e7ae2=_0x1d5efe,_0xa84ed4=collection(db,'artifacts/'+appId+_0x2e7ae2(0x192)+_0x18641c['id']+_0x2e7ae2(0x547)),_0x3d7903=await getDocs(_0xa84ed4);_0x3cb474[_0x18641c['id']]=_0x3d7903[_0x2e7ae2(0x362)];});await Promise[_0x1d5efe(0x379)](_0x56dcb4);let _0x1b00bf='';_0x3b2611[_0x1d5efe(0x13c)](_0x1fc942=>{const _0x702c34=_0x1d5efe,_0x459155=_0x3cb474[_0x1fc942['id']]||0x0,_0x87c091=_0x1fc942[_0x702c34(0x742)]||_0x702c34(0x66e),_0x4f9fa7=_0x1fc942[_0x702c34(0x208)]?.[_0x702c34(0x3c4)]||_0x702c34(0x2c3);let _0x286b60='',_0x5cb1c2='';const _0x5db1a2=new Date();let _0x299c48=_0x87c091;if(_0x87c091===_0x702c34(0x4fd)){const _0x4a96c7=_0x1fc942['startTime']?new Date(_0x1fc942[_0x702c34(0x5d3)]):null,_0x5223a1=_0x1fc942['endTime']?new Date(_0x1fc942[_0x702c34(0x36a)]):null;if(_0x5223a1&&_0x5db1a2>_0x5223a1)_0x299c48='inactive';else _0x4a96c7&&_0x5db1a2<_0x4a96c7?_0x299c48='scheduled_pending':_0x299c48='active';}switch(_0x299c48){case _0x702c34(0x2d7):_0x286b60=_0x702c34(0x135),_0x5cb1c2=_0x702c34(0x701);break;case'scheduled_pending':_0x286b60=_0x702c34(0x342),_0x5cb1c2=_0x702c34(0x4e0);break;case _0x702c34(0x66e):_0x286b60=_0x4f9fa7!==_0x702c34(0x2c3)?_0x702c34(0x709):_0x702c34(0x542),_0x5cb1c2=_0x702c34(0x4f7);break;default:_0x286b60=_0x702c34(0x564),_0x5cb1c2='text-green-700\x20bg-green-100';}let _0x2cbfed='';const _0x3fe8dd={'day':'2-digit','month':_0x702c34(0x20a),'year':'numeric','hour':_0x702c34(0x20a),'minute':_0x702c34(0x20a),'hour12':![]};_0x87c091===_0x702c34(0x4fd)&&(_0x1fc942[_0x702c34(0x5d3)]&&(_0x2cbfed+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x1fc942[_0x702c34(0x5d3)])['toLocaleString'](_0x702c34(0x7c6),_0x3fe8dd)+_0x702c34(0x1ba)),_0x1fc942[_0x702c34(0x36a)]&&(_0x2cbfed+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20'+new Date(_0x1fc942[_0x702c34(0x36a)])['toLocaleString'](_0x702c34(0x7c6),_0x3fe8dd)+_0x702c34(0x1ba)));let _0x55c3f0='';if(_0x459155>0x0){if(_0x1fc942[_0x702c34(0x6dc)]===_0x702c34(0x59a)&&_0x1fc942[_0x702c34(0x151)])_0x55c3f0='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1fc942['id']+'\x22\x20data-pre-test-id=\x22'+_0x1fc942[_0x702c34(0x151)]+'\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';else{const _0x1ebcad=_0x1fc942[_0x702c34(0x6dc)]===_0x702c34(0x673),_0x11c270=_0x1ebcad?_0x702c34(0x1ca):_0x702c34(0x649),_0x45212e=_0x1ebcad?_0x702c34(0x182):'วิเคราะห์ผล';_0x55c3f0=_0x702c34(0x6ea)+_0x1fc942['id']+'\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20'+_0x11c270+_0x702c34(0x36e)+_0x45212e+_0x702c34(0x16a);}}_0x1b00bf+=_0x702c34(0x5b4)+_0x1fc942['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x1fc942[_0x702c34(0x430)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x1fc942[_0x702c34(0x366)][_0x702c34(0x387)]+_0x702c34(0x527)+new Date(_0x1fc942[_0x702c34(0x1ab)])[_0x702c34(0x3a9)](_0x702c34(0x7c6))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-sm\x22>'+_0x459155+_0x702c34(0x451)+_0x2cbfed+_0x702c34(0x23c)+_0x5cb1c2+'\x22>'+_0x286b60+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1fc942['id']+_0x702c34(0x1f2)+_0x1fc942['id']+_0x702c34(0x57e)+(_0x1fc942[_0x702c34(0x793)]?_0x702c34(0x235):_0x702c34(0x6f1))+_0x702c34(0x3ff)+_0x55c3f0+_0x702c34(0x5cc)+_0x1fc942['id']+_0x702c34(0x6a2)+_0x1fc942['id']+'\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1fc942['id']+_0x702c34(0x644)+_0x1fc942['id']+'\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1fc942['id']+'\x22\x20data-topic=\x22'+_0x1fc942[_0x702c34(0x430)]+_0x702c34(0x2c0)+_0x1fc942['id']+_0x702c34(0x783)+_0x1fc942['id']+_0x702c34(0x418)+_0x1fc942['id']+_0x702c34(0x2ac)+_0x1fc942['id']+_0x702c34(0x22d)+_0x1fc942['id']+'\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20ml-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1fc942['id']+_0x702c34(0x45e)+_0x1fc942['id']+'\x22\x20data-topic=\x22'+_0x1fc942[_0x702c34(0x430)]+_0x702c34(0x5ae);}),_0x57081c[_0x1d5efe(0x612)]=_0x1b00bf,document[_0x1d5efe(0x511)](_0x1d5efe(0x6e2))[_0x1d5efe(0x13c)](_0x4f9b89=>{_0x4f9b89['addEventListener']('click',()=>{const _0x12814c=_0x27c3,_0x417b85=_0x4f9b89[_0x12814c(0x5b0)][_0x12814c(0x5df)];showQuizDetailView(_0x417b85);});});}function formatAndPrintLessonPlan(_0x2740ed,_0x4c709e){const _0x2f6207=_0x490f9b,_0x18b570=window['open']('',_0x2f6207(0x562)),_0x3c2531=_0x2f6207(0x5dc)+_0x4c709e[_0x2f6207(0x430)]+_0x2f6207(0x778)+_0x4c709e[_0x2f6207(0x430)]+_0x2f6207(0x443)+_0x2740ed[_0x2f6207(0x5ea)][_0x2f6207(0x6f5)](_0x12c3ee=>_0x2f6207(0x710)+_0x12c3ee+_0x2f6207(0x315))[_0x2f6207(0x48a)]('')+_0x2f6207(0x444)+_0x2740ed[_0x2f6207(0x445)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2740ed[_0x2f6207(0x56c)][_0x2f6207(0x6f5)](_0x5c108d=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20'+_0x5c108d[_0x2f6207(0x4ba)]+_0x2f6207(0x2e6)+_0x5c108d[_0x2f6207(0x3a7)]+_0x2f6207(0x2eb))[_0x2f6207(0x48a)]('')+_0x2f6207(0x2d0);_0x18b570['document'][_0x2f6207(0x31d)](_0x3c2531),_0x18b570[_0x2f6207(0x573)][_0x2f6207(0x294)](),_0x18b570[_0x2f6207(0x72b)]=function(){setTimeout(()=>{const _0x1cc411=_0x27c3;_0x18b570[_0x1cc411(0x796)]();},0x3e8);};}async function handleGenerateLessonPlan(_0x3f34e9){const _0x34cb16=_0x490f9b;showMessage(_0x34cb16(0x5e9));try{const _0x141331=doc(db,_0x34cb16(0x199)+appId+_0x34cb16(0x59e),_0x3f34e9),_0x314174=await getDoc(_0x141331);if(!_0x314174[_0x34cb16(0x590)]())throw new Error(_0x34cb16(0x3fe));const _0x4444c7={'id':_0x3f34e9,..._0x314174[_0x34cb16(0x46b)]()},_0x167b64=collection(db,_0x34cb16(0x199)+appId+_0x34cb16(0x59e),_0x3f34e9,_0x34cb16(0x231)),_0x25fdbb=await getDocs(_0x167b64),_0x1466bf=_0x25fdbb[_0x34cb16(0x69e)][_0x34cb16(0x6f5)](_0x3a8961=>_0x3a8961['data']());if(_0x1466bf[_0x34cb16(0x387)]===0x0)throw new Error(_0x34cb16(0x13f));const _0x4e9d03=calculateItemAnalysis(_0x4444c7,_0x1466bf)['perQuestionStats'],_0x1d7235=calculateDistractorAnalysis(_0x4444c7,_0x1466bf),_0x22b511=_0x2bb343=>{const _0x494d49=_0x34cb16;if(!_0x2bb343)return'';return _0x2bb343[_0x494d49(0x2bf)](/\\/g,'\x5c\x5c')[_0x494d49(0x2bf)](/"/g,'\x5c\x22')[_0x494d49(0x2bf)](/\n/g,'\x5cn');};let _0x314136=_0x34cb16(0x2f2);_0x4444c7[_0x34cb16(0x366)][_0x34cb16(0x13c)]((_0x1fd671,_0x108ddd)=>{const _0x428892=_0x34cb16,_0x3aa558=_0x4e9d03[_0x108ddd]?.['p'][_0x428892(0x228)](0x2)||_0x428892(0x20f),_0x38bf53=_0x4e9d03[_0x108ddd]?.['r'][_0x428892(0x228)](0x2)||_0x428892(0x20f),_0x15b7ef=_0x22b511(_0x1fd671['questionText']||_0x1fd671['stem']);_0x314136+=_0x428892(0x622)+(_0x108ddd+0x1)+_0x428892(0x183)+_0x3aa558+_0x428892(0x6aa)+_0x38bf53+_0x428892(0x1bd)+_0x15b7ef+'\x5cn';if(_0x1fd671[_0x428892(0x59d)]==='multiple_choice'&&_0x1d7235[_0x108ddd]){const _0x5afc69=_0x1d7235[_0x108ddd],_0xd81bdb=Object[_0x428892(0x659)](_0x5afc69)[_0x428892(0x758)](_0x3068df=>parseInt(_0x3068df)!==_0x1fd671[_0x428892(0x6bc)])[_0x428892(0x54b)]((_0x7c1eab,_0x328c33)=>_0x5afc69[_0x328c33][_0x428892(0x63b)]-_0x5afc69[_0x7c1eab]['total'])[0x0];if(_0xd81bdb&&_0x5afc69[_0xd81bdb][_0x428892(0x63b)]>0x0){const _0x33d930=_0x22b511(_0x5afc69[_0xd81bdb][_0x428892(0x7b5)]);_0x314136+=_0x428892(0x34d)+_0x33d930+'\x22\x5cn';}}});const _0x2df3e1=_0x34cb16(0x788)+_0x4444c7[_0x34cb16(0x430)]+_0x34cb16(0x72c)+_0x314136+_0x34cb16(0x225),_0x105e67={'type':_0x34cb16(0x4c5),'properties':{'learningGaps':{'type':'ARRAY','items':{'type':_0x34cb16(0x1b2)}},'teachingContent':{'type':_0x34cb16(0x1b2)},'practiceProblems':{'type':'ARRAY','items':{'type':_0x34cb16(0x4c5),'properties':{'question':{'type':_0x34cb16(0x1b2)},'solution':{'type':'STRING'}}}}},'required':['learningGaps',_0x34cb16(0x445),_0x34cb16(0x56c)]},_0x480a64=await callAnalysisApi(_0x2df3e1,_0x105e67);await updateDoc(_0x141331,{'lessonPlan':_0x480a64});const _0x266b22='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x4444c7[_0x34cb16(0x430)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x480a64['learningGaps'][_0x34cb16(0x6f5)](_0x308e1a=>_0x34cb16(0x710)+_0x308e1a+_0x34cb16(0x315))[_0x34cb16(0x48a)]('')+'</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>'+_0x480a64[_0x34cb16(0x445)]+_0x34cb16(0x18a)+_0x480a64['practiceProblems'][_0x34cb16(0x6f5)](_0x368ee5=>_0x34cb16(0x738)+_0x368ee5[_0x34cb16(0x4ba)]+_0x34cb16(0x772)+_0x368ee5['solution']+_0x34cb16(0x381))[_0x34cb16(0x48a)]('')+_0x34cb16(0x733);document[_0x34cb16(0x18e)](_0x34cb16(0x1ad))[_0x34cb16(0x473)]=_0x34cb16(0x399)+_0x4444c7[_0x34cb16(0x430)],document[_0x34cb16(0x18e)](_0x34cb16(0x277))['innerHTML']=_0x266b22,document[_0x34cb16(0x18e)](_0x34cb16(0x3af))[_0x34cb16(0x367)][_0x34cb16(0x33f)]('hidden'),messageModal[_0x34cb16(0x367)][_0x34cb16(0x529)](_0x34cb16(0x410));}catch(_0x15af91){console['error']('Error\x20generating\x20lesson\x20plan:',_0x15af91),showMessage(_0x34cb16(0x240)+_0x15af91[_0x34cb16(0x5c9)]);}}async function handleDuplicateQuiz(_0x487c5a){const _0x2daefb=_0x490f9b;try{const _0x1e6030=doc(db,'artifacts/'+appId+_0x2daefb(0x59e),_0x487c5a),_0x1e4d1f=await getDoc(_0x1e6030);if(_0x1e4d1f[_0x2daefb(0x590)]()){const _0x3e5f75=_0x1e4d1f['data']();let _0x4892fe=_0x3e5f75[_0x2daefb(0x430)];_0x4892fe[_0x2daefb(0x489)](_0x2daefb(0x749))&&(_0x4892fe=_0x4892fe[_0x2daefb(0x2bf)](_0x2daefb(0x749),'')[_0x2daefb(0x686)]());const _0x24f7d6='(หลังเรียน)\x20'+_0x4892fe,_0x1ffe8d={..._0x3e5f75,'topic':_0x24f7d6,'createdAt':new Date()[_0x2daefb(0x4a5)](),'quizMode':_0x3e5f75[_0x2daefb(0x6dc)]===_0x2daefb(0x673)?_0x2daefb(0x59a):_0x2daefb(0x1fe),'pairedQuizId':_0x3e5f75[_0x2daefb(0x6dc)]===_0x2daefb(0x673)?_0x487c5a:null},_0x23a6b8=await addDoc(collection(db,_0x2daefb(0x199)+appId+_0x2daefb(0x59e)),_0x1ffe8d);_0x1ffe8d[_0x2daefb(0x6dc)]===_0x2daefb(0x59a)&&await updateDoc(_0x1e6030,{'pairedQuizId':_0x23a6b8['id']}),showMessage(_0x2daefb(0x54d));}else throw new Error(_0x2daefb(0x1b7));}catch(_0x5ac43b){console[_0x2daefb(0x71c)](_0x2daefb(0x718),_0x5ac43b),showMessage(_0x2daefb(0x4b9));}}async function handleDeleteQuiz(_0x2741c4,_0xfbeb7a=!![]){const _0x4deae9=_0x490f9b;try{const _0x55ea52=writeBatch(db),_0x30c171=collection(db,_0x4deae9(0x199)+appId+_0x4deae9(0x192)+_0x2741c4+_0x4deae9(0x547)),_0x452e0f=await getDocs(_0x30c171);_0x452e0f[_0x4deae9(0x13c)](_0x549769=>{_0x55ea52['delete'](doc(_0x30c171,_0x549769['id']));});const _0x2aa5e8=doc(db,_0x4deae9(0x199)+appId+'/public/data/quizzes',_0x2741c4);_0x55ea52[_0x4deae9(0x664)](_0x2aa5e8),await _0x55ea52['commit'](),_0xfbeb7a&&showMessage('ลบแบบทดสอบสำเร็จแล้ว');}catch(_0x566265){console['error'](_0x4deae9(0x238),_0x566265),_0xfbeb7a&&showMessage(_0x4deae9(0x22f));}}async function showQuizDetailView(_0x309ea6){const _0x4c368b=_0x490f9b;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x4c368b(0x722));try{const _0x534c85=doc(db,_0x4c368b(0x199)+appId+'/public/data/quizzes',_0x309ea6),_0x33f0d8=await getDoc(_0x534c85);if(!_0x33f0d8[_0x4c368b(0x590)]()){showMessage(_0x4c368b(0x3fe));return;}const _0x17213a={'id':_0x33f0d8['id'],..._0x33f0d8[_0x4c368b(0x46b)]()};currentQuizData=_0x17213a;const _0x2e89fc=doc(db,_0x4c368b(0x199)+appId+'/public/data/projects',_0x17213a[_0x4c368b(0x596)]),_0x4cbaec=await getDoc(_0x2e89fc);_0x4cbaec[_0x4c368b(0x590)]()?(currentProjectData=_0x4cbaec['data'](),currentProjectId=_0x17213a[_0x4c368b(0x596)]):(currentProjectData={'students':[]},currentProjectId=_0x17213a[_0x4c368b(0x596)]);document[_0x4c368b(0x18e)](_0x4c368b(0x525))['textContent']=_0x17213a[_0x4c368b(0x430)],document[_0x4c368b(0x18e)](_0x4c368b(0x2e1))[_0x4c368b(0x473)]=_0x309ea6;const _0x16e2be=collection(db,'artifacts/'+appId+_0x4c368b(0x59e),_0x309ea6,_0x4c368b(0x231));unsubscribeSubmissionsListener=onSnapshot(_0x16e2be,_0x539f8e=>{const _0x2e9173=_0x4c368b,_0x5d4232=_0x539f8e['docs'][_0x2e9173(0x6f5)](_0x35138c=>({'id':_0x35138c['id'],..._0x35138c['data']()}));currentSubmissions=_0x5d4232,renderAnswerGrid(currentProjectData[_0x2e9173(0x1d5)],_0x5d4232,_0x17213a),renderAnalytics(_0x17213a,_0x5d4232),renderQuizResultsTable(currentProjectData[_0x2e9173(0x1d5)],_0x5d4232,_0x17213a),renderQuizLeaderboard(_0x5d4232,_0x17213a,_0x2e9173(0x13e));}),showView(_0x4c368b(0x528));}catch(_0x55278f){console[_0x4c368b(0x71c)](_0x4c368b(0x2a3),_0x55278f),showMessage(_0x4c368b(0x37f));}}function renderAnswerGrid(_0x37432b,_0x22ba55,_0x3fe577){const _0x1a5a23=_0x490f9b,_0x4ff39e=document[_0x1a5a23(0x18e)](_0x1a5a23(0x4d1));if(!_0x4ff39e)return;if(!_0x37432b||_0x37432b[_0x1a5a23(0x387)]===0x0||_0x22ba55[_0x1a5a23(0x387)]===0x0){_0x4ff39e['innerHTML']=_0x1a5a23(0x6a8);return;}const _0x27ec5e=_0x3fe577['questions'],_0x48190f=_0x22ba55[_0x1a5a23(0x7a1)]((_0xa0a5f0,_0x1b7301)=>{const _0x3949c9=_0x1a5a23;return _0xa0a5f0[_0x1b7301[_0x3949c9(0x355)]]=_0x1b7301,_0xa0a5f0;},{}),_0x3c87b5=_0x2e182f=>String['fromCharCode'](0x41+_0x2e182f),_0x4eedbf=_0x5b68be=>{const _0x3b95b1=_0x1a5a23;switch(_0x5b68be[_0x3b95b1(0x59d)]){case'multiple_choice':return _0x5b68be[_0x3b95b1(0x391)]?_0x3c87b5(_0x5b68be[_0x3b95b1(0x6bc)]):'-';case'true_false':return _0x5b68be[_0x3b95b1(0x74a)]?_0x3b95b1(0x1a4):'ไม่ใช่';case _0x3b95b1(0x7bd):return _0x5b68be[_0x3b95b1(0x68e)];case'short_answer':return _0x3b95b1(0x1a9);default:return'-';}},_0x882d5e=(_0x51ba85,_0x467f3d)=>{const _0x6bba5d=_0x1a5a23;if(_0x467f3d[_0x6bba5d(0x2d5)]===null||_0x467f3d[_0x6bba5d(0x2d5)]===undefined)return'-';switch(_0x51ba85[_0x6bba5d(0x59d)]){case _0x6bba5d(0x4c8):const _0x3886af=_0x51ba85['options'][_0x6bba5d(0x50a)](_0x5c37f6=>_0x5c37f6===_0x467f3d['answerText']);return _0x3886af!==-0x1?_0x3c87b5(_0x3886af):_0x467f3d['answerText']||'-';case'true_false':return _0x467f3d['answer']==='true'||_0x467f3d[_0x6bba5d(0x2d5)]===!![]?'ใช่':_0x6bba5d(0x517);default:return _0x467f3d['answer'];}};let _0x9efe5f=_0x1a5a23(0x32f)+_0x27ec5e[_0x1a5a23(0x6f5)]((_0x29fdf5,_0x48cad2)=>_0x1a5a23(0x300)+(_0x48cad2+0x1)+'</th>')[_0x1a5a23(0x48a)]('')+_0x1a5a23(0x3de)+_0x27ec5e[_0x1a5a23(0x6f5)](_0x30de96=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x4eedbf(_0x30de96)+_0x1a5a23(0x460))[_0x1a5a23(0x48a)]('')+_0x1a5a23(0x490);_0x37432b[_0x1a5a23(0x13c)](_0x36b54e=>{const _0x2a3f4d=_0x1a5a23;_0x9efe5f+=_0x2a3f4d(0x744),_0x9efe5f+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>'+_0x36b54e+_0x2a3f4d(0x460);const _0x4fb357=_0x48190f[_0x36b54e];if(_0x4fb357){const _0x1720fb=_0x4fb357[_0x2a3f4d(0x21b)][_0x4fb357['attempts'][_0x2a3f4d(0x387)]-0x1];_0x27ec5e['forEach']((_0x5871a7,_0x45b9d9)=>{const _0x37910c=_0x2a3f4d,_0x296169=_0x1720fb[_0x37910c(0x76a)][_0x37910c(0x3bb)](_0x4d6681=>_0x4d6681['originalQuestionText']===(_0x5871a7['stem']||_0x5871a7[_0x37910c(0x326)]));if(_0x296169){const _0x313efc=_0x296169['isCorrect']?_0x37910c(0x2e5):_0x37910c(0x3ea);_0x9efe5f+=_0x37910c(0x3f2)+_0x313efc+'\x22>'+_0x882d5e(_0x5871a7,_0x296169)+_0x37910c(0x460);}else _0x9efe5f+=_0x37910c(0x13b);});}else _0x9efe5f+=_0x27ec5e[_0x2a3f4d(0x6f5)](()=>_0x2a3f4d(0x466))['join']('');_0x9efe5f+=_0x2a3f4d(0x34e);}),_0x9efe5f+=_0x1a5a23(0x5b1),_0x4ff39e['innerHTML']=_0x9efe5f;}function renderQuizResultsTable(_0x2ae325,_0x526a8c,_0x2c29be){const _0x3b2aa2=_0x490f9b,_0xceef6e=_0x526a8c[_0x3b2aa2(0x7a1)]((_0xf82574,_0x50b51f)=>{return _0xf82574[_0x50b51f['studentName']]=_0x50b51f,_0xf82574;},{}),_0x33b549=document[_0x3b2aa2(0x18e)]('quiz-results-table-body');if(!_0x2ae325||_0x2ae325[_0x3b2aa2(0x387)]===0x0){_0x33b549['innerHTML']=_0x3b2aa2(0x618);return;}const _0x46e00d=_0x2c29be[_0x3b2aa2(0x3d2)]===!![],_0x213697=_0x2c29be['settings']?.[_0x3b2aa2(0x1ae)]??-0x1;let _0x51ded5='';_0x2ae325[_0x3b2aa2(0x13c)](_0x71e584=>{const _0x3b864c=_0x3b2aa2,_0x1601d1=_0xceef6e[_0x71e584];let _0x286c46='<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>',_0x5cd412=_0x3b864c(0x160)+(_0x46e00d?_0x3b864c(0x376):_0x3b864c(0x2a8))+'\x22>'+(_0x46e00d?'สอบซ่อม':_0x3b864c(0x5bb))+_0x3b864c(0x7c9);if(_0x1601d1){let _0x5d8682;_0x46e00d?_0x5d8682=_0x1601d1[_0x3b864c(0x5cb)]===_0x1601d1[_0x3b864c(0x10e)]:_0x5d8682=_0x213697!==-0x1&&_0x1601d1[_0x3b864c(0x5cb)]>=_0x213697;if(_0x46e00d||_0x213697!==-0x1){const _0x3c709b=_0x5d8682?_0x3b864c(0x318):_0x3b864c(0x6d3),_0x5a925e=_0x5d8682?_0x3b864c(0x201):'ไม่ผ่าน';_0x286c46='<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x3c709b+'\x22>'+_0x5a925e+_0x3b864c(0x7c9);}const _0x372770=_0x3b864c(0x6ae)+(_0x1601d1[_0x3b864c(0x21b)]?.[_0x3b864c(0x387)]||0x1)+_0x3b864c(0x69a);_0x51ded5+=_0x3b864c(0x2c6)+_0x71e584+_0x3b864c(0x2f5)+_0x1601d1['bestScore']+'\x20/\x20'+_0x1601d1[_0x3b864c(0x10e)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x286c46+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5cd412+_0x3b864c(0x134)+_0x1601d1[_0x3b864c(0x28e)]+_0x3b864c(0x463)+_0x1601d1['totalQuestions']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>'+_0x1601d1[_0x3b864c(0x339)]+_0x3b864c(0x55c)+(_0x1601d1[_0x3b864c(0x3b3)]||0x0)+_0x3b864c(0x187)+_0x372770+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>'+new Date(_0x1601d1['latestSubmittedAt'])[_0x3b864c(0x3a9)](_0x3b864c(0x7c6))+_0x3b864c(0x58d);}else{const _0x1361a5=_0x3b864c(0x4d6);_0x51ded5+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x71e584+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5cd412+_0x3b864c(0x45d)+_0x1361a5+_0x3b864c(0x2d4);}}),_0x33b549[_0x3b2aa2(0x612)]=_0x51ded5;}function handleRenameQuiz(_0x4fd125,_0xa78517){const _0x2869ca=_0x490f9b;actionTargetId=_0x4fd125,document[_0x2869ca(0x18e)](_0x2869ca(0x60b))[_0x2869ca(0x588)]=_0xa78517,renameQuizModal[_0x2869ca(0x367)][_0x2869ca(0x33f)](_0x2869ca(0x410));}async function confirmRenameQuiz(){const _0x1cd903=_0x490f9b,_0x5a4398=document[_0x1cd903(0x18e)](_0x1cd903(0x60b))[_0x1cd903(0x588)][_0x1cd903(0x686)]();if(!_0x5a4398){showMessage(_0x1cd903(0x775));return;}if(!actionTargetId)return;const _0x1090ed=doc(db,_0x1cd903(0x199)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x1090ed,{'topic':_0x5a4398}),showMessage(_0x1cd903(0x3c1)),renameQuizModal[_0x1cd903(0x367)][_0x1cd903(0x529)]('hidden'),actionTargetId=null;}catch(_0x4539a6){console[_0x1cd903(0x71c)]('Error\x20renaming\x20quiz:',_0x4539a6),showMessage(_0x1cd903(0x6b6));}}async function handleMoveQuiz(_0x26c4b4){const _0x36ae4f=_0x490f9b;actionTargetId=_0x26c4b4;const _0x3d7eec=document[_0x36ae4f(0x18e)](_0x36ae4f(0x1b3));_0x3d7eec[_0x36ae4f(0x612)]=_0x36ae4f(0x3e4),moveQuizModal[_0x36ae4f(0x367)][_0x36ae4f(0x33f)](_0x36ae4f(0x410));try{const _0x2f5d60=collection(db,_0x36ae4f(0x199)+appId+_0x36ae4f(0x452)),_0x4a02a4=await getDocs(_0x2f5d60),_0x468faf=_0x4a02a4[_0x36ae4f(0x69e)][_0x36ae4f(0x6f5)](_0x4211e4=>({'id':_0x4211e4['id'],..._0x4211e4['data']()})),_0x59bf54=_0x468faf['filter'](_0x4da274=>_0x4da274['id']!==currentProjectId);if(_0x59bf54[_0x36ae4f(0x387)]===0x0){_0x3d7eec[_0x36ae4f(0x612)]=_0x36ae4f(0x567),document[_0x36ae4f(0x18e)](_0x36ae4f(0x357))[_0x36ae4f(0x467)]=!![];return;}_0x3d7eec[_0x36ae4f(0x612)]=_0x59bf54[_0x36ae4f(0x6f5)](_0x2809e3=>_0x36ae4f(0x45b)+_0x2809e3['id']+'\x22>'+_0x2809e3[_0x36ae4f(0x177)]+'</option>')['join'](''),document[_0x36ae4f(0x18e)](_0x36ae4f(0x357))['disabled']=![];}catch(_0x55b854){console[_0x36ae4f(0x71c)]('Error\x20fetching\x20projects\x20for\x20move:',_0x55b854),showMessage(_0x36ae4f(0x293)),moveQuizModal['classList'][_0x36ae4f(0x529)](_0x36ae4f(0x410));}}async function confirmMoveQuiz(){const _0x4ca250=_0x490f9b,_0x2254ae=document[_0x4ca250(0x18e)](_0x4ca250(0x1b3))[_0x4ca250(0x588)];if(!_0x2254ae){showMessage('กรุณาเลือกโปรเจคปลายทาง');return;}if(!actionTargetId)return;const _0x5676a9=doc(db,'artifacts/'+appId+_0x4ca250(0x59e),actionTargetId);try{await updateDoc(_0x5676a9,{'projectId':_0x2254ae}),showMessage(_0x4ca250(0x4de)),moveQuizModal[_0x4ca250(0x367)]['add'](_0x4ca250(0x410)),actionTargetId=null;}catch(_0x39bac3){console[_0x4ca250(0x71c)](_0x4ca250(0x188),_0x39bac3),showMessage(_0x4ca250(0x1d6));}}async function handleQuizSettings(_0x5e0de5){const _0x43b43e=_0x490f9b;actionTargetId=_0x5e0de5;const _0x115d45=doc(db,_0x43b43e(0x199)+appId+_0x43b43e(0x59e),_0x5e0de5);try{const _0x325c92=await getDoc(_0x115d45);if(_0x325c92['exists']()){const _0xc3132f=_0x325c92[_0x43b43e(0x46b)](),_0x1b7aba=_0xc3132f[_0x43b43e(0x208)]||{},_0x42e470=_0xc3132f[_0x43b43e(0x366)][_0x43b43e(0x387)];document[_0x43b43e(0x18e)]('modal-shuffle-select')['value']=_0x1b7aba[_0x43b43e(0x3e3)]||_0x43b43e(0x2c3),document['getElementById'](_0x43b43e(0x37d))[_0x43b43e(0x588)]=_0x1b7aba['resultsDisplay']||_0x43b43e(0x6c5),document[_0x43b43e(0x18e)]('modal-timer-mode-select')[_0x43b43e(0x588)]=_0x1b7aba[_0x43b43e(0x3c4)]||_0x43b43e(0x2c3),document[_0x43b43e(0x18e)](_0x43b43e(0x4b7))[_0x43b43e(0x588)]=_0x1b7aba[_0x43b43e(0x1a7)]||0xa,document['getElementById'](_0x43b43e(0x5b7))[_0x43b43e(0x588)]=_0x1b7aba[_0x43b43e(0x1ae)]||Math[_0x43b43e(0x1f3)](_0x42e470/0x2),document[_0x43b43e(0x18e)](_0x43b43e(0x5b7))[_0x43b43e(0x1ac)]=_0x42e470,document['getElementById'](_0x43b43e(0x4e6))['checked']=_0x1b7aba[_0x43b43e(0x38e)]||![],document['getElementById']('modal-timer-mode-select')[_0x43b43e(0x154)](new Event(_0x43b43e(0x52b))),quizSettingsModal[_0x43b43e(0x367)][_0x43b43e(0x33f)](_0x43b43e(0x410));}else showMessage(_0x43b43e(0x3fe));}catch(_0x3cb4f1){console[_0x43b43e(0x71c)]('Error\x20fetching\x20quiz\x20settings:',_0x3cb4f1),showMessage(_0x43b43e(0x69d));}}async function confirmQuizSettings(){const _0x24a82c=_0x490f9b;if(!actionTargetId)return;const _0x4802c6=doc(db,'artifacts/'+appId+_0x24a82c(0x59e),actionTargetId),_0x948ecb={'shuffle':document['getElementById']('modal-shuffle-select')[_0x24a82c(0x588)],'resultsDisplay':document[_0x24a82c(0x18e)](_0x24a82c(0x37d))['value'],'timerMode':document[_0x24a82c(0x18e)](_0x24a82c(0x169))[_0x24a82c(0x588)],'timerDuration':parseInt(document[_0x24a82c(0x18e)](_0x24a82c(0x4b7))[_0x24a82c(0x588)])||0xa,'passingScore':parseInt(document[_0x24a82c(0x18e)](_0x24a82c(0x5b7))[_0x24a82c(0x588)])||0x0,'passingScore':parseInt(document['getElementById']('modal-passing-score-input')['value'])||0x0,'isAdaptive':document[_0x24a82c(0x18e)](_0x24a82c(0x4e6))[_0x24a82c(0x333)]};try{await updateDoc(_0x4802c6,{'settings':_0x948ecb}),showMessage('บันทึกการตั้งค่าสำเร็จ'),quizSettingsModal['classList'][_0x24a82c(0x529)](_0x24a82c(0x410)),actionTargetId=null;}catch(_0x2df247){console[_0x24a82c(0x71c)]('Error\x20updating\x20quiz\x20settings:',_0x2df247),showMessage(_0x24a82c(0x68a));}}async function handleQuizStatus(_0x21c406){const _0x325d85=_0x490f9b;actionTargetId=_0x21c406;const _0x26608f=doc(db,_0x325d85(0x199)+appId+_0x325d85(0x59e),_0x21c406);try{const _0x496906=await getDoc(_0x26608f);if(_0x496906[_0x325d85(0x590)]()){const _0x4367d9=_0x496906[_0x325d85(0x46b)](),_0x59b22b=_0x4367d9['status']||_0x325d85(0x66e),_0xd61d40=document[_0x325d85(0x18e)]('quiz-status-options'),_0x3abd92=document[_0x325d85(0x18e)]('quiz-schedule-start-container'),_0x5ede48=document[_0x325d85(0x18e)](_0x325d85(0x30f));let _0x57c4c5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20'+(_0x59b22b==='active'?_0x325d85(0x333):'')+_0x325d85(0x71d)+(_0x59b22b===_0x325d85(0x2d7)?_0x325d85(0x333):'')+'>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20'+(_0x59b22b===_0x325d85(0x4fd)?_0x325d85(0x333):'')+_0x325d85(0x3d0);_0xd61d40[_0x325d85(0x612)]=_0x57c4c5;const _0xc9e1a=_0x59b22b===_0x325d85(0x4fd);_0x3abd92[_0x325d85(0x367)][_0x325d85(0x402)](_0x325d85(0x410),!_0xc9e1a),_0x5ede48[_0x325d85(0x367)][_0x325d85(0x402)](_0x325d85(0x410),!_0xc9e1a),document[_0x325d85(0x18e)](_0x325d85(0x17d))[_0x325d85(0x588)]=_0x4367d9[_0x325d85(0x5d3)]?_0x4367d9[_0x325d85(0x5d3)][_0x325d85(0x3c8)](0x0,0x10):'',document[_0x325d85(0x18e)](_0x325d85(0x324))['value']=_0x4367d9[_0x325d85(0x36a)]?_0x4367d9[_0x325d85(0x36a)][_0x325d85(0x3c8)](0x0,0x10):'',_0xd61d40['querySelectorAll'](_0x325d85(0x12c))[_0x325d85(0x13c)](_0xd624ed=>{const _0x27ebc7=_0x325d85;_0xd624ed[_0x27ebc7(0x41a)](_0x27ebc7(0x52b),_0x18a1de=>{const _0x188959=_0x27ebc7,_0x1a51fc=_0x18a1de[_0x188959(0x734)][_0x188959(0x588)]===_0x188959(0x47f);_0x3abd92['classList'][_0x188959(0x402)]('hidden',!_0x1a51fc),_0x5ede48[_0x188959(0x367)][_0x188959(0x402)](_0x188959(0x410),!_0x1a51fc);});}),quizStatusModal[_0x325d85(0x367)][_0x325d85(0x33f)](_0x325d85(0x410));}}catch(_0x5e51c5){console['error'](_0x325d85(0x6e9),_0x5e51c5),showMessage(_0x325d85(0x1e0));}}async function confirmQuizStatus(){const _0x18c730=_0x490f9b;if(!actionTargetId)return;const _0x3bed25=doc(db,_0x18c730(0x199)+appId+_0x18c730(0x59e),actionTargetId),_0x112103=document['querySelector'](_0x18c730(0x422));if(!_0x112103){showMessage('กรุณาเลือกสถานะ');return;}const _0xb6b04a=_0x112103[_0x18c730(0x588)];let _0x18de48={};if(_0xb6b04a===_0x18c730(0x66e)||_0xb6b04a===_0x18c730(0x2d7))_0x18de48={'status':_0xb6b04a,'startTime':null,'endTime':null};else{if(_0xb6b04a===_0x18c730(0x47f)){const _0x322db7=document['getElementById'](_0x18c730(0x17d))[_0x18c730(0x588)],_0x52316f=document['getElementById'](_0x18c730(0x324))[_0x18c730(0x588)];if(!_0x322db7&&!_0x52316f){showMessage(_0x18c730(0x7b4));return;}_0x18de48={'status':_0x18c730(0x4fd),'startTime':_0x322db7?new Date(_0x322db7)['toISOString']():null,'endTime':_0x52316f?new Date(_0x52316f)['toISOString']():null};}}try{await updateDoc(_0x3bed25,_0x18de48),showMessage(_0x18c730(0x3da)),quizStatusModal['classList'][_0x18c730(0x529)](_0x18c730(0x410)),actionTargetId=null;}catch(_0x517e35){console[_0x18c730(0x71c)](_0x18c730(0x304),_0x517e35),showMessage(_0x18c730(0x765));}}function listenForStudentProfiles(_0x30f7a3){const _0x4d586c=_0x490f9b,_0x160e32=collection(db,_0x4d586c(0x199)+appId+'/public/data/projects/'+_0x30f7a3+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x160e32,_0x5c6aa8=>{const _0x519311=_0x4d586c,_0x615359=_0x5c6aa8[_0x519311(0x69e)][_0x519311(0x6f5)](_0x1065b5=>_0x1065b5[_0x519311(0x46b)]());renderLeaderboard(_0x615359,_0x519311(0x218));},_0x613e56=>{const _0x1fa41c=_0x4d586c;console[_0x1fa41c(0x71c)](_0x1fa41c(0x348),_0x613e56),document[_0x1fa41c(0x18e)](_0x1fa41c(0x218))['innerHTML']=_0x1fa41c(0x571);});}function renderLeaderboard(_0x1a46e9,_0x425a58){const _0x3aed23=_0x490f9b,_0x1dab00=document[_0x3aed23(0x18e)](_0x425a58);if(!_0x1a46e9||_0x1a46e9[_0x3aed23(0x387)]===0x0){_0x1dab00[_0x3aed23(0x612)]=_0x3aed23(0x42c);return;}_0x1a46e9[_0x3aed23(0x54b)]((_0xba3156,_0x4dec1b)=>{const _0x591334=_0x3aed23,_0x23aeac=(_0x4dec1b[_0x591334(0x257)]||0x0)-(_0xba3156[_0x591334(0x257)]||0x0);if(_0x23aeac!==0x0)return _0x23aeac;const _0x128f3b=(_0x4dec1b['badgesCount']?.[_0x591334(0x639)]||0x0)-(_0xba3156[_0x591334(0x640)]?.[_0x591334(0x639)]||0x0);if(_0x128f3b!==0x0)return _0x128f3b;const _0x5dc3fd=(_0x4dec1b['badgesCount']?.[_0x591334(0x147)]||0x0)-(_0xba3156[_0x591334(0x640)]?.['first_try_ace']||0x0);if(_0x5dc3fd!==0x0)return _0x5dc3fd;const _0xb99be3=(_0x4dec1b[_0x591334(0x640)]?.[_0x591334(0x716)]||0x0)-(_0xba3156[_0x591334(0x640)]?.[_0x591334(0x716)]||0x0);if(_0xb99be3!==0x0)return _0xb99be3;const _0x6c25d0=(_0x4dec1b[_0x591334(0x640)]?.[_0x591334(0x488)]||0x0)-(_0xba3156[_0x591334(0x640)]?.[_0x591334(0x488)]||0x0);if(_0x6c25d0!==0x0)return _0x6c25d0;return _0xba3156[_0x591334(0x355)][_0x591334(0x513)](_0x4dec1b[_0x591334(0x355)],'th');});let _0x362838='';_0x1a46e9[_0x3aed23(0x13c)]((_0x4a4d40,_0x1bfc61)=>{const _0x4d0aea=_0x3aed23,_0x392a65=_0x1bfc61+0x1,_0x3fb61c=_0x4a4d40[_0x4d0aea(0x640)]||{};let _0x3ec28d='';const _0x1baf7d=['specialist','perfect_score',_0x4d0aea(0x147),_0x4d0aea(0x488)];_0x1baf7d[_0x4d0aea(0x13c)](_0x203534=>{const _0x58d6af=_0x4d0aea;if(_0x3fb61c[_0x203534]>0x0){const _0x14f3b5=Object[_0x58d6af(0x397)](BADGES)['find'](_0x21157b=>_0x21157b['id']===_0x203534);_0x14f3b5&&(_0x203534===_0x58d6af(0x639)?_0x3ec28d+=_0x58d6af(0x6c2)+_0x14f3b5[_0x58d6af(0x271)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x14f3b5['icon']+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x3ec28d+=_0x58d6af(0x6c2)+_0x14f3b5['name']+'\x20('+_0x3fb61c[_0x203534]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x14f3b5[_0x58d6af(0x142)]+_0x58d6af(0x33c)+_0x3fb61c[_0x203534]+_0x58d6af(0x2d9));}}),_0x362838+=_0x4d0aea(0x74f)+_0x392a65+_0x4d0aea(0x18f)+_0x4a4d40['studentName']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>'+(_0x4a4d40[_0x4d0aea(0x257)]||0x0)+_0x4d0aea(0x18f)+(_0x3ec28d||'-')+_0x4d0aea(0x22a);}),_0x1dab00[_0x3aed23(0x612)]=_0x362838;}function renderQuizLeaderboard(_0x2d8413,_0x5afa59,_0x244dd0){const _0x2941b9=_0x490f9b,_0x4f24cb=document[_0x2941b9(0x18e)](_0x244dd0),_0x23798e=_0x244dd0===_0x2941b9(0x5b2),_0x54fe70=_0x5afa59['questions'][_0x2941b9(0x387)],_0x1f47f4=document[_0x2941b9(0x18e)](_0x244dd0)[_0x2941b9(0x4ed)](_0x2941b9(0x6ef));if(_0x1f47f4&&!_0x23798e){const _0x5667a6=_0x1f47f4[_0x2941b9(0x2f1)]('thead');_0x5667a6['innerHTML']=_0x2941b9(0x531);}if(!_0x2d8413||_0x2d8413[_0x2941b9(0x387)]===0x0){_0x4f24cb[_0x2941b9(0x612)]=_0x2941b9(0x1dc)+(_0x23798e?0x6:0x8)+_0x2941b9(0x6b0);return;}const _0x55cc2a=[..._0x2d8413];_0x55cc2a['sort']((_0x23581b,_0x3e7980)=>{const _0xe1b9c7=_0x2941b9;let _0x31a506,_0x15051d;switch(quizLeaderboardSortBy){case _0xe1b9c7(0x355):_0x31a506=_0x23581b[_0xe1b9c7(0x355)]||'',_0x15051d=_0x3e7980[_0xe1b9c7(0x355)]||'';return quizLeaderboardSortOrder==='asc'?_0x31a506[_0xe1b9c7(0x513)](_0x15051d,'th'):_0x15051d[_0xe1b9c7(0x513)](_0x31a506,'th');case _0xe1b9c7(0x3b3):_0x31a506=_0x23581b[_0xe1b9c7(0x3b3)]||0x0,_0x15051d=_0x3e7980[_0xe1b9c7(0x3b3)]||0x0;break;case'attempts':_0x31a506=_0x23581b['attempts']?.[_0xe1b9c7(0x387)]||0x1,_0x15051d=_0x3e7980[_0xe1b9c7(0x21b)]?.[_0xe1b9c7(0x387)]||0x1;break;case _0xe1b9c7(0x3c3):_0x31a506=new Date(_0x23581b[_0xe1b9c7(0x3c3)]),_0x15051d=new Date(_0x3e7980[_0xe1b9c7(0x3c3)]);break;case _0xe1b9c7(0x5cb):default:_0x31a506=_0x23581b[_0xe1b9c7(0x5cb)],_0x15051d=_0x3e7980[_0xe1b9c7(0x5cb)];break;}if(_0x31a506<_0x15051d)return quizLeaderboardSortOrder===_0xe1b9c7(0x1fd)?-0x1:0x1;if(_0x31a506>_0x15051d)return quizLeaderboardSortOrder===_0xe1b9c7(0x1fd)?0x1:-0x1;return 0x0;});const _0x58064d=_0x5afa59[_0x2941b9(0x3d2)]===!![],_0x50b5a9=_0x5afa59['settings']?.[_0x2941b9(0x1ae)]??-0x1;let _0x512c3e='';_0x55cc2a[_0x2941b9(0x13c)]((_0x136e9d,_0x201073)=>{const _0x36b561=_0x2941b9,_0x5c9166=_0x201073+0x1;let _0x25f02d='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>';if(_0x58064d||_0x50b5a9!==-0x1){let _0x2a0035=_0x58064d?_0x136e9d[_0x36b561(0x5cb)]===_0x54fe70:_0x136e9d['bestScore']>=_0x50b5a9;const _0x14828a=_0x2a0035?_0x36b561(0x318):_0x36b561(0x6d3),_0x18ce29=_0x2a0035?'ผ่าน':_0x36b561(0x7a4);_0x25f02d=_0x36b561(0x556)+_0x14828a+'\x22>'+_0x18ce29+_0x36b561(0x7c9);}const _0x15e00c=_0x136e9d[_0x36b561(0x21b)][_0x136e9d[_0x36b561(0x21b)][_0x36b561(0x387)]-0x1],_0x293cf5=(_0x15e00c[_0x36b561(0x3b8)]||[])[_0x36b561(0x6f5)](_0x4c4e60=>{const _0x2b6b04=_0x36b561,_0x26c052=Object[_0x2b6b04(0x397)](BADGES)['find'](_0x108fe3=>_0x108fe3['id']===_0x4c4e60);return _0x26c052?'<span\x20title=\x22'+_0x26c052[_0x2b6b04(0x271)]+'\x22><i\x20class=\x22fas\x20'+_0x26c052[_0x2b6b04(0x142)]+_0x2b6b04(0x40b):'';})[_0x36b561(0x48a)]('');_0x512c3e+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x5c9166+_0x36b561(0x185)+_0x136e9d[_0x36b561(0x355)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x136e9d[_0x36b561(0x5cb)]+_0x36b561(0x463)+_0x54fe70+_0x36b561(0x476)+_0x25f02d+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>'+(_0x136e9d[_0x36b561(0x3b3)]||0x0)+_0x36b561(0x476)+(_0x23798e?'':_0x36b561(0x2ed)+(_0x136e9d[_0x36b561(0x21b)]?.[_0x36b561(0x387)]||0x1)+_0x36b561(0x460))+_0x36b561(0x2b3)+(_0x23798e?'':_0x36b561(0x280)+new Date(_0x136e9d['latestSubmittedAt'])['toLocaleString'](_0x36b561(0x7c6))+'</td>')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x293cf5||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x4f24cb[_0x2941b9(0x612)]=_0x512c3e,_0x1f47f4&&!_0x23798e&&_0x1f47f4[_0x2941b9(0x511)](_0x2941b9(0x31a))['forEach'](_0x44545d=>{const _0x40ff42=_0x2941b9,_0x51dc30=_0x44545d['querySelector'](_0x40ff42(0x5e5));if(_0x51dc30)_0x51dc30[_0x40ff42(0x33f)]();_0x44545d[_0x40ff42(0x5b0)][_0x40ff42(0x54b)]===quizLeaderboardSortBy&&(_0x44545d['innerHTML']+=_0x40ff42(0x79f)+(quizLeaderboardSortOrder===_0x40ff42(0x1fd)?'▲':'▼')+_0x40ff42(0x595));});}async function handleLoadQuiz(){const _0x4295e6=_0x490f9b,_0x552158=document['getElementById']('quiz-id-input'),_0x121de6=_0x552158[_0x4295e6(0x588)][_0x4295e6(0x686)]();if(!_0x121de6){showMessage(_0x4295e6(0x7b0));return;}loadQuizBtn[_0x4295e6(0x467)]=!![],loadQuizBtn[_0x4295e6(0x612)]=_0x4295e6(0x792);try{const _0x212928=doc(db,'artifacts/'+appId+'/public/data/quizzes',_0x121de6),_0x2d62c1=await getDoc(_0x212928);if(!_0x2d62c1[_0x4295e6(0x590)]()){showMessage(_0x4295e6(0x372));return;}currentQuizData={'id':_0x2d62c1['id'],..._0x2d62c1[_0x4295e6(0x46b)]()};const _0x5af13e=currentQuizData[_0x4295e6(0x742)]||_0x4295e6(0x66e),_0x5ce8f6=new Date();if(_0x5af13e==='inactive'){showMessage(_0x4295e6(0x52c));return;}if(_0x5af13e==='scheduled'){const _0x3468a4=currentQuizData[_0x4295e6(0x5d3)]?new Date(currentQuizData[_0x4295e6(0x5d3)]):null,_0x2a7210=currentQuizData[_0x4295e6(0x36a)]?new Date(currentQuizData[_0x4295e6(0x36a)]):null;if(_0x3468a4&&_0x5ce8f6<_0x3468a4){showMessage(_0x4295e6(0x674)+_0x3468a4[_0x4295e6(0x3a9)](_0x4295e6(0x7c6),{'hour12':![]}));return;}if(_0x2a7210&&_0x5ce8f6>_0x2a7210){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x3a9bb3=currentQuizData[_0x4295e6(0x596)];currentProjectId=_0x3a9bb3;const _0x1a105b=doc(db,_0x4295e6(0x199)+appId+_0x4295e6(0x452),_0x3a9bb3),_0x329c1c=await getDoc(_0x1a105b);if(!_0x329c1c[_0x4295e6(0x590)]()){showMessage(_0x4295e6(0x171));return;}const _0x5f52bd=_0x329c1c[_0x4295e6(0x46b)]();currentStudentProjectData=_0x5f52bd,displayStudentNameSelector(_0x5f52bd[_0x4295e6(0x1d5)],currentQuizData[_0x4295e6(0x430)]);}catch(_0x555cdc){console['error'](_0x4295e6(0x155),_0x555cdc),showMessage(_0x4295e6(0x41d));}finally{loadQuizBtn[_0x4295e6(0x467)]=![],loadQuizBtn[_0x4295e6(0x612)]=_0x4295e6(0x4d8);}}async function handleJoinLiveGame(){const _0x1db502=_0x490f9b,_0x4a2863=document[_0x1db502(0x18e)](_0x1db502(0x417)),_0x3cc316=document[_0x1db502(0x18e)](_0x1db502(0x227)),_0x417cbb=document[_0x1db502(0x18e)]('confirm-join-game-btn'),_0xff3a6c=_0x4a2863['value'][_0x1db502(0x686)](),_0x47120e=_0x3cc316['value'][_0x1db502(0x686)]();if(!_0xff3a6c||!_0x47120e){showMessage(_0x1db502(0x64c));return;}_0x417cbb[_0x1db502(0x467)]=!![],_0x417cbb[_0x1db502(0x612)]=_0x1db502(0x566);try{const _0x423ab1=collection(db,'artifacts/'+appId+_0x1db502(0x582)),_0x484d8d=query(_0x423ab1,where('gamePin','==',_0xff3a6c),where(_0x1db502(0x742),'==',_0x1db502(0x1e5))),_0x219967=await getDocs(_0x484d8d);if(_0x219967[_0x1db502(0x1a6)]){showMessage('ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง');return;}const _0x57fe44=_0x219967[_0x1db502(0x69e)][0x0],_0x3de169=_0x57fe44[_0x1db502(0x46b)]();currentLiveGameId=_0x57fe44['id'];const _0x4f5512=_0x3de169['quizId'],_0x9d6c77=doc(db,_0x1db502(0x199)+appId+_0x1db502(0x59e),_0x4f5512),_0x4a247b=await getDoc(_0x9d6c77);if(!_0x4a247b[_0x1db502(0x590)]()){showMessage(_0x1db502(0x581));return;}currentQuizData={'id':_0x4a247b['id'],..._0x4a247b[_0x1db502(0x46b)]()};if(_0x3de169[_0x1db502(0x436)]&&_0x3de169[_0x1db502(0x436)][_0x47120e]){showMessage(_0x1db502(0x4a3));return;}const _0x418639={};_0x418639['players.'+_0x47120e]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,_0x1db502(0x199)+appId+_0x1db502(0x582),currentLiveGameId),_0x418639),currentStudentName=_0x47120e,listenForLiveGameUpdates();}catch(_0x152e3f){console[_0x1db502(0x71c)]('Error\x20joining\x20live\x20game:',_0x152e3f),showMessage(_0x1db502(0x689));}finally{_0x417cbb[_0x1db502(0x467)]=![],_0x417cbb[_0x1db502(0x612)]=_0x1db502(0x7a6);}}function displayStudentNameSelector(_0x3d8c35,_0x10e81a){const _0x5561d0=_0x490f9b,_0x1dd798=document[_0x5561d0(0x18e)](_0x5561d0(0x2fe));document[_0x5561d0(0x18e)](_0x5561d0(0x487))[_0x5561d0(0x473)]=_0x5561d0(0x428)+_0x10e81a,!_0x3d8c35||_0x3d8c35[_0x5561d0(0x387)]===0x0?(_0x1dd798[_0x5561d0(0x612)]=_0x5561d0(0x222),startQuizBtn[_0x5561d0(0x467)]=!![]):(_0x1dd798[_0x5561d0(0x612)]=_0x5561d0(0x5cd),_0x3d8c35['forEach'](_0x4e6c98=>{const _0x1b0c44=_0x5561d0,_0x150a3e=document[_0x1b0c44(0x52a)](_0x1b0c44(0x285));_0x150a3e[_0x1b0c44(0x588)]=_0x4e6c98,_0x150a3e[_0x1b0c44(0x473)]=_0x4e6c98,_0x1dd798[_0x1b0c44(0x7b6)](_0x150a3e);}),startQuizBtn[_0x5561d0(0x467)]=![]),studentInitialView['classList'][_0x5561d0(0x529)](_0x5561d0(0x410)),studentNameSelectionView[_0x5561d0(0x367)][_0x5561d0(0x33f)]('hidden');}function shuffleArray(_0xccbfcf){const _0x51ec34=_0x490f9b;for(let _0x1ab31d=_0xccbfcf['length']-0x1;_0x1ab31d>0x0;_0x1ab31d--){const _0x55117b=Math['floor'](Math[_0x51ec34(0x374)]()*(_0x1ab31d+0x1));[_0xccbfcf[_0x1ab31d],_0xccbfcf[_0x55117b]]=[_0xccbfcf[_0x55117b],_0xccbfcf[_0x1ab31d]];}}function getShuffledQuiz(_0x381d09){const _0x51e55c=_0x490f9b;let _0x16d001=JSON[_0x51e55c(0x311)](JSON['stringify'](_0x381d09));const _0x37b8f1=_0x16d001['settings']?.['shuffle']||_0x51e55c(0x2c3);if(_0x37b8f1==='none')return _0x16d001;return(_0x37b8f1===_0x51e55c(0x78b)||_0x37b8f1==='both')&&shuffleArray(_0x16d001[_0x51e55c(0x366)]),(_0x37b8f1===_0x51e55c(0x2a9)||_0x37b8f1==='both')&&_0x16d001[_0x51e55c(0x366)][_0x51e55c(0x13c)](_0x273e7e=>{const _0x5d8bc8=_0x51e55c,_0x492170=_0x273e7e[_0x5d8bc8(0x59d)]||_0x16d001['quizType'];if(_0x273e7e[_0x5d8bc8(0x391)]){let _0x337aba=_0x273e7e[_0x5d8bc8(0x391)]['map']((_0x58aed5,_0x4a0644)=>({'text':_0x58aed5,'isCorrect':_0x4a0644===_0x273e7e[_0x5d8bc8(0x6bc)]}));shuffleArray(_0x337aba),_0x273e7e['options']=_0x337aba[_0x5d8bc8(0x6f5)](_0x95af0d=>_0x95af0d['text']),_0x273e7e[_0x5d8bc8(0x6bc)]=_0x337aba[_0x5d8bc8(0x50a)](_0x3e34c0=>_0x3e34c0['isCorrect']);}_0x492170===_0x5d8bc8(0x7bd)&&_0x273e7e[_0x5d8bc8(0x42b)]&&shuffleArray(_0x273e7e['allResponses']);}),_0x16d001;}function displayQuizForStudent(_0x173e1a){const _0x4cb51f=_0x490f9b;studentQuizArea[_0x4cb51f(0x367)][_0x4cb51f(0x33f)]('hidden'),currentDisplayedQuiz=getShuffledQuiz(_0x173e1a);const _0x44542f=currentDisplayedQuiz[_0x4cb51f(0x208)]?.[_0x4cb51f(0x3c4)]||_0x4cb51f(0x2c3);if(_0x44542f===_0x4cb51f(0x795))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x4cb51f(0x208)][_0x4cb51f(0x1a7)]);else _0x44542f==='per_question'?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x41e378=_0x490f9b;let _0x599648=_0x41e378(0x726)+currentDisplayedQuiz[_0x41e378(0x430)]+_0x41e378(0x760)+(currentMode===_0x41e378(0x536)?_0x41e378(0x126):'')+_0x41e378(0x58f);currentDisplayedQuiz[_0x41e378(0x366)]['forEach']((_0x34ef41,_0x12bcb0)=>{const _0x1480a1=_0x41e378,_0x10a9c9=_0x34ef41[_0x1480a1(0x59d)]||currentDisplayedQuiz['quizType'];_0x599648+=_0x1480a1(0x607);_0x10a9c9===_0x1480a1(0x7bd)?_0x599648+=_0x1480a1(0x492)+(_0x12bcb0+0x1)+'.\x20'+_0x34ef41['stem']+_0x1480a1(0x23f)+_0x12bcb0+_0x1480a1(0x50e)+_0x34ef41[_0x1480a1(0x42b)][_0x1480a1(0x6f5)](_0x3b9c12=>_0x1480a1(0x45b)+_0x3b9c12+'\x22>'+_0x3b9c12+_0x1480a1(0x21c))[_0x1480a1(0x48a)]('')+_0x1480a1(0x4c4):(_0x599648+='<p>'+(_0x12bcb0+0x1)+'.\x20'+(_0x34ef41[_0x1480a1(0x70a)]||_0x34ef41[_0x1480a1(0x326)])+_0x1480a1(0x1ba),_0x34ef41[_0x1480a1(0x74d)]&&(_0x599648+='<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x34ef41[_0x1480a1(0x74d)]+'</div>'));_0x599648+=_0x1480a1(0x121);switch(_0x10a9c9){case _0x1480a1(0x472):_0x599648+=_0x1480a1(0x16c)+_0x12bcb0+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x1480a1(0x136):_0x599648+=_0x1480a1(0x6e8)+_0x12bcb0+'_opt0\x22\x20name=\x22question'+_0x12bcb0+'\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q'+_0x12bcb0+_0x1480a1(0x51a),_0x599648+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x12bcb0+_0x1480a1(0x3ec)+_0x12bcb0+_0x1480a1(0x6b1)+_0x12bcb0+_0x1480a1(0x1ee);break;case'matching_item':break;case _0x1480a1(0x3cd):case _0x1480a1(0x4c8):default:_0x599648+=_0x34ef41['options'][_0x1480a1(0x6f5)]((_0x13636e,_0x26a349)=>'\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x12bcb0+_0x1480a1(0x720)+_0x26a349+'\x22\x20name=\x22question'+_0x12bcb0+'\x22\x20value=\x22'+_0x26a349+_0x1480a1(0x500)+_0x12bcb0+_0x1480a1(0x720)+_0x26a349+'\x22>'+_0x13636e+_0x1480a1(0x5f4))[_0x1480a1(0x48a)]('');break;}_0x599648+=_0x1480a1(0x299);}),_0x599648+=_0x41e378(0x12f),_0x599648+='</form>',studentQuizArea[_0x41e378(0x612)]=_0x599648;if(currentMode===_0x41e378(0x536)){const _0x28c04a=document['getElementById'](_0x41e378(0x26b));if(_0x28c04a)_0x28c04a['addEventListener'](_0x41e378(0x2cb),cancelAdminTest);}document[_0x41e378(0x18e)](_0x41e378(0x771))[_0x41e378(0x41a)](_0x41e378(0x715),handleSubmitQuiz);if(window['MathJax'])window[_0x41e378(0x27b)][_0x41e378(0x478)]([studentQuizArea]);}async function handleSubmitQuiz(_0x597abc){const _0x249f63=_0x490f9b;if(_0x597abc)_0x597abc['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x2b30ff=document[_0x249f63(0x18e)](_0x249f63(0x771));if(!_0x2b30ff)return;const _0x13a42e=_0x2b30ff[_0x249f63(0x2f1)](_0x249f63(0x10f)),_0x2091c2=currentDisplayedQuiz[_0x249f63(0x366)][_0x249f63(0x4ae)](_0x4c8fc4=>_0x4c8fc4['questionType']==='short_answer');_0x13a42e&&(_0x13a42e['disabled']=!![],_0x2091c2?_0x13a42e[_0x249f63(0x612)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...':_0x13a42e[_0x249f63(0x612)]=_0x249f63(0x534));const _0x45dd91=new FormData(_0x2b30ff),_0x2f2bd4=currentDisplayedQuiz['questions'][_0x249f63(0x6f5)]((_0x5799a4,_0x5e2767)=>{const _0x564e96=_0x249f63,_0xe90070=_0x5799a4[_0x564e96(0x59d)]||currentDisplayedQuiz[_0x564e96(0x198)],_0x26669b=_0x45dd91[_0x564e96(0x1b1)](_0x564e96(0x4ba)+_0x5e2767);if(_0x26669b!==null&&_0x26669b!==undefined){if(_0xe90070===_0x564e96(0x4c8)||_0xe90070===_0x564e96(0x3cd))return parseInt(_0x26669b);return _0x26669b;}return null;}),_0x558c2e=currentQuizData['id'],_0x2d65ae=doc(db,_0x249f63(0x199)+appId+_0x249f63(0x192)+_0x558c2e+_0x249f63(0x547),currentStudentName),_0x47a178=await getDoc(_0x2d65ae),_0x489a5a=_0x47a178[_0x249f63(0x590)]()?_0x47a178['data']():{},_0x2a3b70=_0x489a5a[_0x249f63(0x21b)]||[];await processAndSubmitAnswers(_0x2f2bd4,_0x2a3b70);}function _0x3a9e(){const _0x344d6b=['<div><input\x20type=\x22radio\x22\x20id=\x22q','Error\x20fetching\x20quiz\x20status:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','copy-quiz-id-btn','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','.rename-quiz-btn','table','hint','far\x20fa-star','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','confirm-quiz-status-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','map','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','student-project-leaderboard-table-body','image/png','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','FileReader\x20error:','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','isCorrect','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','modal-close-btn','.presentation-option','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','text-red-700\x20bg-red-100','</div>','/studentProfiles','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','date_desc','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','ฟังก์ชันลอการิทึม','เปิด\x20(จับเวลา)','instructions','ring-purple-400','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-white\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20border-gray-200\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22','Error\x20generating\x20from\x20parallel\x20test\x20file:','create-project-btn','<li>','pageSize','numPages','ความแปรปรวน','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submit','perfect_score','กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...','Error\x20duplicating\x20quiz:','q-explanation-','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','ปรับเพิ่ม/ลดเป็นร้อยละ','error','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','math-topic-search-input','quiz-id-input','_opt','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','analytics','cancel-global-live-btn','ลำดับเรขาคณิต\x20(GP)','ส่งคำตอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_no_choices','คะแนนเต็ม','set','onload','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','then','results-table-container','generate-from-parallel-test-btn','player-count','หน่วยมวล/น้ำหนักและการแปลง','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','target','สัญกรณ์วิทยาศาสตร์','เวกเตอร์และเมทริกซ์\x20(เสริม)','save-quiz-btn','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','FIRST_TRY_ACE','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','ไม่พบตารางสำหรับ\x20Export','กรุณาใส่ชื่อโปรเจค','มุมพิเศษ\x2045°-45°-90°','status','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20','<tr>','Failed\x20to\x20get\x20hint:','ทฤษฎีบทพื้นฐานของแคลคูลัส','live-game-view','s;\x22\x20title=\x22','(ก่อนเรียน)','correctAnswer','admin','rename-quiz-modal','imageCode','เรขาคณิต','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','mouseleave','export-worksheet-pdf-btn','lower_group_count','ปริพันธ์ไม่จำกัด','uid','text-red-600','00:00','include-images-checkbox','filter','ชนิดของข้อมูลและการเก็บข้อมูล','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','back-to-results-btn','selected-topics-count','editable-quiz-topic','บันทึกการแก้ไขสำเร็จ','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','button','ตรีโกณมิติ','เส้นตรง:\x20ขนาน/ตั้งฉาก','NUMBER','เกิดข้อผิดพลาดในการอัปเดตสถานะ','comparison-individual-tab','worksheet-input-area','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','thead','answers','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','.parallel-quiz-btn','deg','.csv','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','false','quiz-form','</p><p><strong>เฉลย:</strong>\x20','now','submission-status-chart','กรุณาใส่ชื่อใหม่','ปริมาตรรูปทรงสามมิติ','getAttributeNS','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','style','\x20ชุด)','เศษส่วน\x20(ย่อ/ขยาย)','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20','qType','.delete-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','/questionBank','\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','admin-password-input','พีชคณิตและฟังก์ชัน','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','back-to-project-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','export-pdf-btn','.ideal-answer-input','questions_only','จำนวนเต็มบวก','\x20mr-2\x22></i>','แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20','\x20\x20\x20-\x20คำตอบ:\x20','project-sort-select','no-projects-msg','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','isStarred','.live-answer-btn,\x20#live-submit-short-answer-btn','whole_quiz','print','questionStatus','line-through\x20text-red-700','className','shuffle-setting-select','.border-green-200','การคูณ','onclick','<div\x20class=\x22','<span\x20class=\x22sort-indicator\x20ml-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','reduce','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','<p\x20class=\x22','ไม่ผ่าน','manage-tab','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','\x5cdiv','การบวกเศษส่วน','touchend','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','category','touchmove','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','กรุณาป้อนรหัสแบบทดสอบ','flex','mouseup','hover:bg-indigo-100','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','text','appendChild','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','POST','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','ดอกเบี้ยอย่างง่าย','Invalid\x20response\x20structure\x20from\x20AI:','</span></p>','matching_item','comparison-chart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','setFontSize','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','quiz-search-input','portrait','.project-card-content','th-TH','back-to-student-initial-btn','คำถามถัดไป','</span></td>','.generate-lesson-btn','draggable-text','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','totalQuestions','button[type=\x22submit\x22]','พาราโบลา','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','ดีเทอร์มิแนนต์','.save-to-bank-btn','[*]','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-quiz-bank-btn','explanation','desc','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','underline','input','text-green-900','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','แผนภาพกล่อง\x20(box\x20plot)','</div><div\x20class=\x22space-y-2\x22>','bg-red-500','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','จำนวนนักเรียน','times','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','start-quiz-btn','export-word-btn','https://corsproxy.io/?','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20','Error\x20deleting\x20project:','input[name=\x22status-option\x22]','.draggable-text','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','#student-quiz-leaderboard-content\x20thead','input[name=\x22question_single\x22]:checked','\x22\x20class=\x22w-full\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','ปิดใช้งาน','true_false','Error\x20deleting\x20custom\x20topic:','ลบหัวข้อสำเร็จ','เกิดข้อผิดพลาดในการสร้างใบงาน','.save-custom-topic-btn','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','forEach','setAttributeNS','quiz-leaderboard-table-body','ยังไม่มีนักเรียนส่งงาน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','fixed','icon','next-question-btn','topic-tab','API\x20call\x20failed','fa-pen','first_try_ace','undefined','originalQuestionText','class','BOOLEAN','loader-text','(เลือกแล้ว\x20','leaderboard-tab','presentation-slide-container','<h1></h1>','pairedQuizId','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','จากเนื้อหาต่อไปนี้:\x20\x22','dispatchEvent','Error\x20loading\x20quiz\x20for\x20student:','quiz','ปริมาตร/ความจุและการแปลง','Sarabun-Regular.ttf','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bg-purple-50','close-lesson-plan-modal-btn','results-display-select','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ก.\x20ถูก</span><br><span>ข.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','quiz-editor-modal','เฉลย:\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','.start-presentation-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mousedown','timer-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','.export-pdf-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','files','modal-timer-mode-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[type=\x22text\x22]','<textarea\x20name=\x22question','confirm-create-project-btn','check-presentation-answer-btn','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','comparison','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','Error\x20generating\x20from\x20link:','comparison-overall-content','ท็อปฟอร์ม','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectName','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','สเกลและแผนที่','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill','ส่วนเบี่ยงเบนเฉลี่ย','quiz-start-time','STOP','ai-quiz-generator-v3','generate-from-text-btn','addFont','สร้างเนื้อหาสอน','\x20(p=','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20moving\x20quiz:','title','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','defaultNumQuestions','execCommand','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getElementById','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','shuffleSetting','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','/public/data/quizzes/','/public/data/practiceBank','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','admin-dashboard','quizType','artifacts/','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','[data-topic-container-id]','แผนภาพเวนน์','ไม่พบข้อมูลข้อสอบหลังเรียน','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','results-table','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>','next-drill-btn','stem','ใช่','normal','empty','timerDuration','.group','พิมพ์ตอบ','$1\x5ctext(','createdAt','max','lesson-plan-title','passingScore','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20','get','STRING','move-quiz-project-select','cancel-rename-quiz-btn','leq','สร้างโปรเจคสำเร็จ!','Original\x20quiz\x20not\x20found','timer-duration-container','หมดเวลา!\x20กำลังส่งคำตอบ...','</p>','cancel-quiz-settings-btn','สมการราก\x20(radical)','):\x20','แบบทดสอบซ่อมเสริม','.live-answer-btn','drill-feedback','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','toDataURL','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','การคูณเศษส่วน','ตอบถูก\x203\x20ข้อติดต่อกัน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','การปัดเศษและประมาณค่า','submittedAt','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l','ค่าคลาดเคลื่อนของการวัด','project-name-input','\x22\x20value=\x22true\x22\x20','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','comparison-individual-content','admin-action-buttons','standardTopic','<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','button[data-id]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','students','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','Error\x20fetching\x20student\x20rankings:','1:274192258111:web:4120c9118229b5644dd48a','start-live-race-generated-btn','student-join-game-view','<tr><td\x20colspan=\x22','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','เกิดข้อผิดพลาดในการลบโปรเจค','ข้อ\x20','เกิดข้อผิดพลาดในการโหลดสถานะ','\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hint-btn','\x5ctimes','ค่าความจริง/ตารางค่าความจริง','lobby','show_results_only','export-tutor-pdf-btn','<br>','Authentication\x20failed:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','cancel-admin-login-btn','AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20','add-student-btn','_opt1\x22>ไม่ใช่</label></div>','getBBox','correct','```','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-x-4\x20mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','floor','มุมและการวัดมุม','text-white','สร้างแบบทดสอบปรนัย','fullscreenElement','delete-all-students-btn','ดีมาก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนหนึ่งทำแบบทดสอบเรื่อง\x20\x22','revealed','modal-message','asc','standard','ไม่มี','text-green-600\x20font-bold','ผ่าน','การแปลงรูปอัตลักษณ์','close-game-final-btn','type','topic-input-area','clientY','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','settings','ระยะจากจุดถึงเส้นตรง','2-digit','parseFromString','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>','project-quizzes-list','.duplicate-quiz-btn','N/A','helvetica','mixed','.text-blue-800','.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','mjx-container','leaderboard-table-body','candidates','push','attempts','</option>','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','กำลังสร้างแบบทดสอบจากหัวข้อ...','.png','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>','<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>','starred','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','nickname-input','toFixed','preTestId','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.topic-row','เลือกโปรเจคเพื่อบันทึก','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบแบบทดสอบ','file-upload-input','submissions','podium','idealAnswer','auto','fas\x20fa-star\x20text-yellow-500','save-quiz-edits-btn','insertAdjacentHTML','Error\x20deleting\x20quiz:','upperGroupResponders','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','close-presentation-btn','confirm-global-live-btn','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','เกิดข้อผิดพลาด:\x20','student-project-leaderboard-tab','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','ระบบเลขและค่าประจำหลัก','classWeaknesses','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','เกิดข้อผิดพลาดในการติดดาว','Error\x20saving\x20submission:','focus','อัตราการเปลี่ยนแปลงทันที','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','ไม่ได้ตอบ','ชื่อหัวข้อห้ามว่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังดึงข้อมูลจากลิงก์...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22loader\x20mx-auto\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์จุดอ่อนและสร้างเนื้อหาทบทวนให้คุณโดยเฉพาะ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ศูนย์','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','totalPoints','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','overallGroups','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','ข้อต่อไป','\x5cneq','(^|[^\x5c\x5c])\x5cb','answering','project-search-input','keyup','2741','per-q-countdown','answer-counter','date_asc','\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','cancel-test-btn','#view-rankings-btn','cdot','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','name','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','ค่าเสื่อมราคา','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','สามเหลี่ยม\x20(ชนิด/สมบัติ)','lesson-plan-content','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','.edit-quiz-btn','btn','MathJax','สร้างชุดคำถามจับคู่','targetId','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','Error\x20toggling\x20star\x20status:','1376464wnJMYZ','ระยะทางและจุดกึ่งกลาง','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','option','Error\x20generating\x20from\x20blueprint:','จำนวนเชิงซ้อน\x20(เสริม)','join-live-game-btn','parallel-test-upload-input','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','close-comparison-modal-footer-btn','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','Failed\x20to\x20fetch\x20quiz\x20for\x20admin:','firstScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','presentation-explanation','generate-from-link-btn','กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...','ไม่สามารถโหลดรายการโปรเจคได้','close','กรุณาใส่ชื่อนักเรียน','เรเดียนและการแปลงหน่วย','practice-topic-btn','</p><div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','q-image-container-','ระบบสมการเชิงเส้นสองตัวแปร','ความเท่ากันทุกประการของสามเหลี่ยม','after','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','qIndex','editable-text-','.ql-editor','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก','Error\x20showing\x20quiz\x20detail\x20view:','ownerSVGElement','อัตราส่วนและสัดส่วน','คัดลอกไม่สำเร็จ','confirm-quiz-settings-btn','bg-blue-100\x20text-blue-800','choices_only','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','generate-from-file-btn','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22\x20data-name=\x22','student-list','การคูณทศนิยม','starred-project','พื้นที่ผิวรูปทรงสามมิติ','หน่วยเวลาและการคำนวณเวลา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','svg','border-green-300\x20bg-green-50','#per-question-options\x20select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','sin','analytics-summary-cards','ก่อนเรียน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','q-text-','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','replace','\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22\x20value=\x22false\x22\x20','none','student','bank-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','-tab-content','เส้นตรง:\x20รูปแบบสมการ','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','click','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>','parts','เซียนสมองไว','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','block','delete-svg-btn','left','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','answer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','inactive','leaderboard-quiz-tab-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-detail-view','สถิติและความน่าจะเป็น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','ส่วนเบี่ยงเบนมาตรฐาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','rgba(16,\x20185,\x20129,\x200.7)','back-to-dashboard-from-results-btn','results-quiz-id-display','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','user-id-display','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','bg-green-100','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','gain','commit','question-analytics-container','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bar','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','Error\x20creating\x20project:','result','bg-green-500','querySelector','สรุปผลการวิเคราะห์:\x5cn','จำนวนข้อ:','quiz-status-modal','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','input[type=\x22radio\x22]:checked','force-math-checkbox','interesting-stats-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','admin-try-quiz-btn','\x22>ไม่ใช่</p>','generate-from-blueprint-btn','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','student-name-select','สลับไปโหมดผู้ควบคุม','<th\x20class=\x22py-2\x20px-2\x20border-b\x22>','currentTarget','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','link-tab','Error\x20updating\x20quiz\x20status:','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','font-bold','ARRAY','add-custom-math-topic-btn','Copy\x20command\x20failed','คะแนน','การวัด','การบวกทศนิยม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20','quiz-schedule-end-container','\x5cs*\x5c(','parse','content','เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่','(ไม่มีชื่อ)','</li>','text/csv;charset=utf-8;','score','bg-green-100\x20text-green-800','ฟังก์ชันสัมพัทธ์\x20(rational)','thead\x20.sortable-header','ทำคะแนนเต็มในการทำครั้งแรก','answeredCurrentQuestion','write','ฟังก์ชันค่าสัมบูรณ์','tan','สร้างคำถามแบบเติมคำในช่องว่าง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','เมทริกซ์:\x20บวก/คูณ','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','quiz-end-time','live-short-answer-input','questionText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','download','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x20\x20\x20-\x20','splitTextToSize','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','-tab','save','ห.ร.ม.\x20(GCD)','checked','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','<tr\x20class=\x22','การลบทศนิยม','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','matching','latestScore','เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)','ความชันเส้นสัมผัส','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>','auto-fix-latex-btn','global-live-game-modal','remove','.quiz-status-btn','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','รอเปิด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','^{\x5ccirc}\x5ctext{C}$','per-question-timer-container','match','custom-math-topic-input','Error\x20listening\x20for\x20student\x20profiles:','questionDisplayedAt','quiz-type-select','jspdf','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22','</tr>','quiz-editor-questions-container','\x20คนที่ส่ง\x20ตอบถูก\x20(','275670qgBWUO','manage','export-leaderboard-word-btn','#F59E0B','studentName','originalTopic','confirm-move-quiz-btn','difficulty-level-select','แคลคูลัสเบื้องต้น','\x20ข้อ\x20','cursor','Error\x20saving\x20questions\x20to\x20practice\x20bank:','ทศนิยม\x20(ค่าประจำหลัก)','binom','fill_in_with_choices','clientX','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค','size','fromCharCode','.quiz-bank-try-btn','application/json','questions','classList','.topic-actions-view','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>','endTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','fa-shield-alt\x20text-gray-600','\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20','</body></html>','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','ไม่พบแบบทดสอบสำหรับรหัสนี้','contents','random','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-indigo-50\x20border-indigo-200\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22starred-project\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>แบบทดสอบที่ติดดาว\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-400\x22></i></h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>ทางลัดสำหรับแบบทดสอบที่ใช้บ่อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','bg-amber-100\x20text-amber-800','editor-quiz-topic','student-quiz-area','all','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','live-game','<p\x20class=\x22font-bold\x20text-sm\x20','modal-results-display-select','<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','\x5cle','</p></div>','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','innerText','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Optimization\x20(ค่าสูงสุด–ต่ำสุด)','stdDev','length','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#results-table','\x20ตัวเลือก.\x20','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','presentation-short-answer-input','reference-pdf-upload','isAdaptive','การลบ','results-tab','options','กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม','กำลังสร้างคำถามข้อ\x20','cancel-create-project-btn','ฟังก์ชันพหุนาม','รูปสี่เหลี่ยมและสมบัติ','values','quiz-bank-count','แผนการสอน:\x20','ความคล้ายของรูป','\x22\x20value=\x22','ไม่สามารถโหลดข้อมูลอันดับได้','ข้อที่\x20','fas\x20fa-bookmark','text-gray-500','student-name-input','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','user','จำนวนคละ','beforeend','font-bold\x20text-red-700\x20line-through','เพิ่มหัวข้อ\x20\x22','solution','contentEditable','toLocaleString','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','Invalid\x20response\x20structure\x20from\x20AI.','สร้างใหม่','คณิตการเงิน/บูรณาการ','\x20\x0a\x20\x20\x20\x20','lesson-plan-modal','ตารางความถี่','สลับไปโหมดนักเรียน','bank-input-area','points','ลำดับการดำเนินการ\x20(PEMDAS)','worksheet-tab','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','badges','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','student-result-area','find','student-project-leaderboard-content','student-rankings-modal','การหาร','modal-timer-duration-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20','เปลี่ยนชื่อแบบทดสอบสำเร็จ','กราฟฟังก์ชันตรีโกณ','latestSubmittedAt','timerMode','GlobalWorkerOptions','quiz-results-view','โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22','substring','fa-rocket\x20text-purple-500','bg-green-300','student-name-selection-view','load-quiz-btn','fill_in_the_blank','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','isRemedial','preScore','export-leaderboard-image-btn','สมมาตร\x20(แกน/จุด)','width','perQuestionStats','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5ctext{$1}','อัปเดตสถานะสำเร็จ','สร้างคำถามแบบใช่/ไม่ใช่','touchstart','.cancel-edit-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','ฟังก์ชันยกกำลัง','สมการยกกำลัง','mousemove','shuffle','<option>กำลังโหลดโปรเจค...</option>','บันทึกแบบทดสอบสำเร็จแล้ว!','ฮิสโตแกรม','num-questions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','bg-red-100','1985478sFPFEl','_opt1\x22\x20name=\x22question','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','manual_release','split','open','ring-2','<td\x20class=\x22py-2\x20px-2\x20border-b\x20','overline','จำนวนเต็มลบ','ไม่พบข้อมูลผู้ใช้','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','\x22\x20สำเร็จ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','Error\x20updating\x20custom\x20topic:','ยอดเยี่ยม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.admin-try-quiz-list-btn','ไม่พบข้อมูลแบบทดสอบ','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','กราฟแท่ง\x20กราฟเส้น','removeEventListener','toggle','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a---\x0a','\x5csqrt{$1}','contains','scores-tab-btn','blueprint-tab','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20mx-1\x20text-lg\x22></i></span>','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>','upperGroupNames','851010NdmZlL','hidden','ความชันและเส้นตรง','.quiz-settings-btn','ไม่มีคำอธิบาย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','function','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>','game-pin-input','\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ref','addEventListener','modal-timer-duration-label','display','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20','right','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','input[name=\x22status-option\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-fire\x20text-orange-500','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','true','\x20หัวข้อ)','แบบทดสอบ:\x20','num-choices','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','allResponses','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','กรุณาเลือกชื่อของคุณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','สร้างแบบทดสอบ','topic','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','confirmation-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>','#student-project-leaderboard-content\x20thead','players','ดอกเบี้ยทบต้น','ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)','toDate','กรุณาป้อนหัวข้อสำหรับใบงาน','baseVal','comparison-modal','fas\x20fa-user-edit','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','quiz-bank-modal','MathJax\x20typeset\x20error\x20(analytics):','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','question-complexity-select','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>','teachingContent','\x5cge','start-game-btn','abs','resultsDisplay','ผ่านฉลุย','blueprint-upload-input','text-emerald-900','nextSibling','ผู้ไม่ยอมแพ้','getScreenCTM','<div\x20class=\x22my-2\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/projects','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','</h3>','เกิดข้อผิดพลาดในการลบนักเรียน','.doc','พื้นที่สี่เหลี่ยม','ส่งแล้ว','<option\x20value=\x22','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','defaultNumChoices','</td>','project-title','perseverance','\x20/\x20','จำนวนและการดำเนินการ','คณิตศาสตร์','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','disabled','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','fa-user-astronaut\x20text-blue-700','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','data','generated-quiz-container','COMEBACK_KING','student-view','parallel-test-input-area','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','.text-green-800','short_answer','textContent','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','label','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','typesetPromise','\x22\x20class=\x22delete-project-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20p-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','json','กรุณาเลือกคำตอบก่อนครับ','/public/data/customMathTopics','neq','ไม่สามารถเพิ่มนักเรียนได้','schedule','มัธยฐาน','$1^{$2}','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','ระยะเวลา\x20(วินาที):','admin-view','math-topics-checkbox-container','update','student-quiz-topic','quick_thinker','startsWith','join','<div\x20id=\x22q-image-container-','confirm-join-game-btn','.pdf','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-remedial-quiz-btn\x22\x20class=\x22mt-4\x20bg-indigo-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เข้าใจแล้ว\x20ลองอีกครั้ง!\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','project-detail','raw','Enter','<span\x20class=\x22font-bold\x20','quiz-settings-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','test','correctStreak','items','fa-bolt\x20text-blue-500','rows','การแจกแจงปกติและ\x20z-score','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น','classStrengths','toISOString','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20generating\x20worksheet:','หัวข้อที่สร้างเอง','\x22\x20ให้เป็นคำถามประเภท\x20\x22','open-global-live-btn','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','คำตอบถูกต้อง!\x20+','admin-password-modal','some','project-dashboard-view','setFont','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','cancel-export-pdf-btn','4650317eyBOSS','</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','modal-timer-duration-input','ผู้เชี่ยวชาญ','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','question','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','pow','\x20คู่\x20','entries','global-quiz-search-input','rgba(79,\x2070,\x20229,\x200.8)','per-question-options','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','Error\x20comparing\x20results:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a','OBJECT','แก้ระบบสมการด้วยเมทริกซ์','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','multiple_choice','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.question-editor-item[data-q-index=\x22','lowerGroupNames','ค่าสัมบูรณ์','strength-weakness-analysis-container','แก้ไขหัวข้อสำเร็จ','จำนวนคู่:','leaderboard','answer-grid-container','http://www.w3.org/2000/svg','.quiz-bank-present-btn','แบบเติมคำตอบ','<i\x20class=\x22fas\x20fa-save\x22></i>','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','ไม่พบแบบทดสอบ','ย้ายแบบทดสอบสำเร็จ','กำลังสร้างรูปภาพ...','text-blue-700\x20bg-blue-100','ความคาดหมาย\x20(Expected\x20value)','autoTable','project-list','โจทย์:\x20','analytics-tab-content','modal-adaptive-quiz-checkbox','textarea','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','move-quiz-modal','#10B981','closest','check-answer-btn','#bank-input-area\x20input[type=\x22checkbox\x22]:checked','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','parentElement','/users/','Error\x20generating\x20parallel\x20test\x20from\x20bank:','การหารทศนิยม','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','quiz-leaderboard-table','text-green-700\x20bg-green-100','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','mode-switcher-btn','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','height','scheduled','$1\x20\x5cfrac','.edit-custom-topic-btn','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','move','from','quiz-leaderboard-table-container','แผนการสอน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','upper_group_count','border-4','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','API\x20call\x20failed\x20with\x20status:\x20','findIndex','ON_FIRE','\x5cfrac{$1}{$2}','str','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','toString','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','querySelectorAll','Error\x20adding\x20custom\x20topic:','localeCompare','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','border-red-700','5980760TtmoQN','ไม่ใช่','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','end-game-btn','_opt0\x22>ใช่</label></div>','\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','removeChild','text-green-600','answerText','เรขาคณิตวิเคราะห์','(ก่อนเรียน)\x20','deselect-all-topics-btn','.quiz-bank-parallel-btn','\x20ใหม่...','results-quiz-title','blockReason','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','quiz-results','add','createElement','change','แบบทดสอบนี้ปิดใช้งานอยู่','dataIndex','blueprint-input-area','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.answeredCurrentQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20class=\x22mb-3\x20topic-category\x22>','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','ไม่พบโปรเจค','admin-testing','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','stringify','open-quiz-bank-btn','4OFdWmp','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','พบข้อสอบ\x20','ความต่อเนื่อง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','สร้างคำถามใหม่\x201\x20ข้อ\x20','เปิดใช้งาน','link-topic-input','Error\x20during\x20class\x20analysis:','Firebase\x20initialization\x20failed:','outerHTML','/submissions','default','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','sort','confirm-delete-btn','คัดลอกแบบทดสอบสำเร็จ','ควรปรับปรุง','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22drill_answer\x22]:checked','พอใช้','td,\x20th','บันทึกการตั้งค่าแล้ว','อนุพันธ์:\x20ผลคูณ/ผลหาร','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','getTextContent','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','จากไฟล์ที่แนบมานี้,\x20','</td></tr>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','.regenerate-question-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','Error\x20displaying\x20question\x20bank:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>','_blank','ไม่สามารถเริ่มเกมได้','ตั้งเวลา\x20(เปิด)','Error\x20generating\x20quiz:','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>','รูปหลายเหลี่ยมและมุมภายใน','.delete-svg-btn','export-excel-btn','preTScore','practiceProblems','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>','Error\x20saving\x20quiz:','generate-from-topic-btn','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','num-choices-container','document','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x20h-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-image-btn','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','copy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','confirmation-message','.delete-custom-topic-btn','promise','คะแนนเฉลี่ย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','start-remedial-quiz-btn','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','/public/data/liveGames','\x22\x20name=\x22question_single\x22\x20value=\x22','อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-topic=\x22','\x22,\x20','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','value','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','padStart',')\x5cb)','<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','includes','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','exists','bottom','ความน่าจะเป็นแบบมีเงื่อนไข','text-red-800','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','</span>','projectId','text-purple-600','strong:last-child','.option-text','post-test','Error\x20saving\x20quiz\x20edits:','arrayBuffer','questionType','/public/data/quizzes','start-presentation-btn','$1^{\x5ccirc}\x5ctext{C}','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','slice','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','promptFeedback','timer-duration-input','indexOf','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','Error\x20processing\x20file\x20for\x20AI:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','presentation-modal','6288390MGVQTP','\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบแบบทดสอบ\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>\x0a\x20\x20\x20\x20</div>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','font-bold\x20text-green-700','dataset','</tbody></table>','student-quiz-leaderboard-table-body','$1^{\x5ccirc}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','[data-is-correct=\x22true\x22]','modal-passing-score-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#math-topics-checkbox-container\x20input:checked','results_','สอบปกติ','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','การแยกตัวประกอบ','ที่พิมพ์ได้\x20จำนวน\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','ฟังก์ชันผกผัน','prod','getContext','touches','data:application/vnd.ms-word;charset=utf-8,','Error\x20listening\x20for\x20starred\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','message','คำถามดิบ:\x20\x22','bestScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','select-all-topics-btn','body','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','lastAnswerCorrect','startTime','เกิดข้อผิดพลาดในการลบหัวข้อ','\x5cpm','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','อุณหภูมิและการแปลง','กำลังวิเคราะห์ข้อสอบ\x20\x22','div','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','on_fire','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20','timer-mode-select','ทฤษฎีบทพีทาโกรัสและการประยุกต์','quizId','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','repeat','ความเป็นอิสระของเหตุการณ์','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','finishReason','.sort-indicator','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','pointsLastQuestion','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','learningGaps','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20','ฟังก์ชันแบบชิ้นส่วน',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','topic-input','.question-editor-item','.topic-name-input','1fQjuxA','text-indigo-700','</label>\x0a\x20\x20\x20\x20</div>\x0a','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','ดูสรุปผล','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>','back-to-dashboard-btn','lessonPlan','ผลรวมอนุกรม\x20(Σ)','circ','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','preventDefault','quiz-generation-area','setAttribute','frac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','ไฮเพอร์โบลา','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-6\x20bg-amber-50\x20border-l-4\x20border-amber-400\x20rounded-r-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20text-amber-800\x22>ทบทวนก่อนไปต่อนะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x20text-gray-700\x22>','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','รากที่สองและที่สาม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x5csum','export-pdf-modal','currentQuestionIndex','rename-quiz-input','</span></div>','results','link-url-input','$1_{$2}','ยังไม่ส่ง','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','innerHTML','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','รูปแบบการให้เหตุผล','string','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','$1\x5ctext{','<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','ระบบอสมการ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.score','Remedial\x20quiz\x20generation\x20failed:','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','stopPropagation','timer-duration-label','ไม่สามารถบันทึกการตั้งค่าได้','-\x20ข้อ\x20','เกิดข้อผิดพลาดในการโหลดโปรเจค','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','tGain','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>','.answer-text','label[for=\x22num-questions\x22]','\x20จาก\x20','href','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.correct-response-input','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','/public/data/projects/','leaderboard_','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','<div\x20class=\x22answer-space\x22></div>','Error\x20starting\x20game:','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','%</span>','specialist','\x22\x20data-q-type=\x22','total','<li\x20class=\x22','ไม่สามารถสร้างโปรเจคได้','analytics-tab-btn','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','badgesCount','index','การสร้างรูปด้วยวงเวียน–สันตรง','$1\x5c%','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','.choice-text','generated-quiz-actions','from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.start-live-race-btn','กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน','การนับ','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','submission','\x22\x20ไม่ผ่าน\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือคำอธิบายจากข้อที่นักเรียนตอบผิด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','[contenteditable=\x22true\x22]','\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การแจกแจงทวินาม\x20(พื้นฐาน)','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างแบบทดสอบคู่ขนาน...','.delete-student-btn','\x5c\x5c\x5c\x5c(?=(','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','keys','\x22.\x20Ideal\x20Answer:\x20\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','key','loader','leaderboard-tab-content','parallel-test-tab','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','คำตอบผิด','กรุณาเลือกโปรเจคที่ต้องการบันทึก','cloneNode','delete','Error\x20adding\x20students:','\x22.\x20','input[type=\x22checkbox\x22]','ราชาคัมแบ็ก','next-question-timed-btn','ลิมิต','บันทึกคำถามใหม่\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','active','\x22\x20name=\x22drill_answer\x22\x20value=\x22','back-from-results-btn','export-leaderboard-excel-btn','defaultPassingScore','pre-test','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','Error\x20listening\x20for\x20custom\x20math\x20topics:','แผนการสอน_','<div\x20class=\x22flex-1\x22></div>','\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','เส้นจำนวน','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','lowerGroupResponders','score-distribution-chart','),\x20และระดับความยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**ห้ามคัดลอกโจทย์,\x20ตัวเลข,\x20หรือสถานการณ์เดิมมาโดยเด็ดขาด**\x20ต้องสร้างขึ้นมาใหม่ทั้งหมดให้มีความ\x20\x22สมมูล\x22\x20กัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20\x20จำนวนข้อและประเภทของคำถามต้องตรงกับต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','toLowerCase','createObjectURL','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getPage','trim','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','เกิดข้อผิดพลาดในการเข้าร่วมเกม','เกิดข้อผิดพลาดในการบันทึก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','กฎของไซน์','workerSrc','correctResponse','bold','passing-score-input','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','getWidth','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','.regenerate-question-editor-btn','#ffffff','earned-badges-container','.topic-name-display','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','\x22...','\x20ครั้ง)</span></td>','description','mean','เกิดข้อผิดพลาดในการโหลดการตั้งค่า','docs','ลำดับเลขคณิต\x20(AP)','close-comparison-modal-btn','fullscreenchange','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','per-question-text','min','destroy','Error\x20deleting\x20student:','players.','<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลคำตอบของนักเรียนเพื่อนำมาสร้างตาราง</p>','next-live-question-btn',',\x20r=','analyze-strengths-btn','Sarabun','องค์ประกอบของฟังก์ชัน','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','tfrac','\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','ยืนยันการกระทำ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','strong:first-child','ตอบถูกทุกข้อในแบบทดสอบนี้','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','internal','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','sqrt','rgba(79,\x2070,\x20229,\x201)','postTScore','correctAnswerIndex','ย้ายแบบทดสอบไปโปรเจคอื่น','show_pass_fail_only','close-lesson-plan-modal-footer-btn','ฐานนิยม','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','.edit-question-btn','\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>','show_results_and_answers','ร้อยละประยุกต์','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22','แบบทดสอบที่ติดดาว','prev-question-btn','เงินงวด\x20(อนุกรมเงินงวด)','การลบเศษส่วน','.\x20แต่ละข้อมี\x20','slide-counter','originalQuestion','Error\x20regenerating\x20question\x20in\x20editor:','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','Error\x20opening\x20quiz\x20editor:','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','bg-red-100\x20text-red-800','\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20','เส้นรอบรูป','\x5ccdot','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x5cfrac','พื้นที่ใต้กราฟ/ระหว่างกราฟ','quizMode','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','\x20ช่อง','comparison-overall-tab','การยืนยันตัวตนล้มเหลว','opacity-50','.quiz-result-card','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20','log','readAsDataURL','border-green-500','create-project-modal'];_0x3a9e=function(){return _0x344d6b;};return _0x3a9e();}async function gradeShortAnswerWithAI(_0x1f5cb1,_0x551f09){const _0x2d0ac5=_0x490f9b;if(!_0x1f5cb1||!_0x551f09)return![];try{const _0x2b57ff=_0x2d0ac5(0x613)+_0x1f5cb1+_0x2d0ac5(0x65a)+_0x551f09+'\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.',_0x2b5c83={'contents':[{'role':_0x2d0ac5(0x3a2),'parts':[{'text':_0x2b57ff}]}]},_0x4d348b=_0x2d0ac5(0x4db),_0x18cacb='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x4d348b,_0xdcb91c=await fetch(_0x18cacb,{'method':_0x2d0ac5(0x7b8),'headers':{'Content-Type':_0x2d0ac5(0x365)},'body':JSON[_0x2d0ac5(0x53a)](_0x2b5c83)});if(!_0xdcb91c['ok'])throw new Error(_0x2d0ac5(0x145));const _0x799892=await _0xdcb91c[_0x2d0ac5(0x47a)](),_0x3cd52b=_0x799892[_0x2d0ac5(0x219)][0x0]['content']['parts'][0x0]['text'][_0x2d0ac5(0x686)]()['toLowerCase']();return _0x3cd52b==='true';}catch(_0x210061){return console[_0x2d0ac5(0x71c)]('AI\x20grading\x20failed:',_0x210061),![];}}async function processAndSubmitAnswers(_0x5901d6,_0x5ab519){const _0x214950=_0x490f9b;let _0x46bdc2=0x0,_0x4c2d18=0x0,_0x22c73d=[];const _0x336b98=[],_0xc45464=currentDisplayedQuiz['questions'][_0x214950(0x387)];let _0x593521=0x0;const _0x49b200=currentDisplayedQuiz[_0x214950(0x366)];for(let _0x32d92d=0x0;_0x32d92d<_0x49b200[_0x214950(0x387)];_0x32d92d++){const _0x2f740e=_0x49b200[_0x32d92d],_0x4886e0=_0x5901d6[_0x32d92d],_0x55df41=_0x2f740e['questionType']||currentDisplayedQuiz[_0x214950(0x198)];let _0x28419f=![];if(_0x4886e0!==null&&_0x4886e0!=='')switch(_0x55df41){case _0x214950(0x7bd):_0x28419f=_0x4886e0===_0x2f740e[_0x214950(0x68e)];break;case'true_false':const _0x1048ef=_0x4886e0===!![]||_0x4886e0===_0x214950(0x426);_0x28419f=_0x1048ef===_0x2f740e[_0x214950(0x74a)];break;case'fill_in_the_blank':case _0x214950(0x4c8):default:_0x28419f=Number(_0x4886e0)===_0x2f740e[_0x214950(0x6bc)];break;case _0x214950(0x472):_0x28419f=await gradeShortAnswer(_0x4886e0,_0x2f740e);break;}_0x28419f?(_0x46bdc2++,_0x593521++,_0x593521===0x3&&(_0x22c73d[_0x214950(0x21a)](BADGES[_0x214950(0x50b)]['id']),_0x593521=0x0)):_0x593521=0x0;let _0x2e1292=null;_0x2f740e[_0x214950(0x391)]&&_0x4886e0!==null&&(_0x2e1292=_0x2f740e['options'][_0x4886e0]),_0x336b98[_0x214950(0x21a)]({'answer':_0x4886e0,'answerText':_0x2e1292,'isCorrect':_0x28419f,'originalQuestionText':_0x2f740e['stem']||_0x2f740e['questionText']});}_0x4c2d18=_0x46bdc2*0xa;_0x46bdc2===_0xc45464&&_0xc45464>0x0&&!currentDisplayedQuiz[_0x214950(0x3d2)]&&(_0x4c2d18+=0x32,_0x22c73d[_0x214950(0x21a)](BADGES['PERFECT_SCORE']['id']));const _0x22b334=currentDisplayedQuiz[_0x214950(0x208)]?.['passingScore']??Math[_0x214950(0x1f3)](_0xc45464/0x2),_0x38da31=currentDisplayedQuiz[_0x214950(0x208)]?.['timerMode'];if(_0x38da31==='whole_quiz'&&quizStartTime){const _0x464d76=(new Date()-quizStartTime)/0x3e8,_0x24afb1=currentDisplayedQuiz[_0x214950(0x208)][_0x214950(0x1a7)]*0x3c;_0x46bdc2>=_0x22b334&&_0x464d76<_0x24afb1/0x2&&(_0x4c2d18+=0x14,_0x22c73d[_0x214950(0x21a)](BADGES['QUICK_THINKER']['id']));}_0x5ab519[_0x214950(0x387)]===0x0&&_0x46bdc2===_0xc45464&&_0xc45464>0x0&&_0x22c73d['push'](BADGES[_0x214950(0x739)]['id']);if(_0x5ab519['length']>0x0){const _0x13829b=_0x5ab519[0x0][_0x214950(0x317)];if(_0x13829b<_0x22b334&&_0x46bdc2>=_0x22b334){const _0x3d3553=_0x5ab519[_0x214950(0x4ae)](_0x53b784=>(_0x53b784['badges']||[])['includes'](BADGES[_0x214950(0x46d)]['id']));!_0x3d3553&&_0x22c73d[_0x214950(0x21a)](BADGES[_0x214950(0x46d)]['id']);}}_0x5ab519['length']===0x4&&_0x22c73d[_0x214950(0x21a)](BADGES['PERSEVERANCE']['id']);const _0x55060b=currentDisplayedQuiz['settings'][_0x214950(0x449)];if(currentMode===_0x214950(0x536)){handleResultDisplay(_0x55060b,_0x46bdc2,_0x4c2d18,_0x22c73d,_0x336b98,_0xc45464);return;}const _0x11ba8f=currentQuizData['id'],_0x328022=doc(db,_0x214950(0x199)+appId+_0x214950(0x192)+_0x11ba8f+'/submissions',currentStudentName);try{const _0xf41692=[..._0x5ab519],_0x1931a0={'score':_0x46bdc2,'points':_0x4c2d18,'badges':_0x22c73d,'submittedAt':new Date()[_0x214950(0x4a5)](),'answers':_0x336b98};_0xf41692[_0x214950(0x21a)](_0x1931a0);const _0x31554f=_0xf41692[0x0][_0x214950(0x317)],_0x105b84=Math[_0x214950(0x1ac)](..._0xf41692['map'](_0x5337f5=>_0x5337f5[_0x214950(0x317)])),_0x2f361c=_0x46bdc2,_0x4671ad=_0x1931a0[_0x214950(0x1c8)];await setDoc(_0x328022,{'studentName':currentStudentName,'totalQuestions':_0xc45464,'attempts':_0xf41692,'firstScore':_0x31554f,'bestScore':_0x105b84,'latestScore':_0x2f361c,'points':_0x4c2d18,'latestSubmittedAt':_0x4671ad}),await updateStudentProfile(currentQuizData[_0x214950(0x596)],currentStudentName),handleResultDisplay(_0x55060b,_0x46bdc2,_0x4c2d18,_0x22c73d,_0x336b98,_0xc45464);}catch(_0x1b3030){console[_0x214950(0x71c)](_0x214950(0x248),_0x1b3030),showMessage('เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ');}}async function updateStudentProfile(_0x4e3fb9,_0x386358){const _0x351435=_0x490f9b,_0x2c1ed8=doc(db,_0x351435(0x199)+appId+_0x351435(0x631)+_0x4e3fb9+'/studentProfiles',_0x386358);try{const _0x46488f=query(collection(db,_0x351435(0x199)+appId+'/public/data/quizzes'),where('projectId','==',_0x4e3fb9)),_0x52093e=await getDocs(_0x46488f),_0x338e78=new Map(_0x52093e[_0x351435(0x69e)]['map'](_0x2887c2=>[_0x2887c2['id'],_0x2887c2[_0x351435(0x46b)]()])),_0x5378a9=Array[_0x351435(0x502)](_0x338e78[_0x351435(0x659)]());await runTransaction(db,async _0x3a4a58=>{const _0x4535db=_0x351435;let _0x573193=0x0;const _0x38a9e2={};let _0x2b232f=!![],_0x24ab9b=0x0,_0x210296=0x0;for(const _0x586fb0 of _0x5378a9){const _0x30121f=_0x338e78['get'](_0x586fb0),_0x2653b2=doc(db,_0x4535db(0x199)+appId+_0x4535db(0x192)+_0x586fb0+_0x4535db(0x547),_0x386358),_0x34ab22=await _0x3a4a58[_0x4535db(0x1b1)](_0x2653b2);if(_0x34ab22[_0x4535db(0x590)]()){const _0x58be97=_0x34ab22[_0x4535db(0x46b)](),_0x46b5b9=_0x58be97['attempts']||[];if(_0x46b5b9[_0x4535db(0x387)]>0x0){const _0x3220f3=_0x46b5b9[_0x4535db(0x7a1)]((_0x44136d,_0x6f0170)=>{const _0x12574a=_0x4535db;if(_0x6f0170[_0x12574a(0x317)]>_0x44136d['score'])return _0x6f0170;if(_0x6f0170['score']===_0x44136d[_0x12574a(0x317)])return(_0x6f0170[_0x12574a(0x3b3)]||0x0)>(_0x44136d['points']||0x0)?_0x6f0170:_0x44136d;return _0x44136d;},{'score':-0x1,'points':-0x1});_0x3220f3[_0x4535db(0x317)]>-0x1&&(_0x573193+=_0x3220f3[_0x4535db(0x3b3)]||0x0,(_0x3220f3[_0x4535db(0x3b8)]||[])[_0x4535db(0x13c)](_0x328c40=>{_0x38a9e2[_0x328c40]=(_0x38a9e2[_0x328c40]||0x0)+0x1;}));}}if(_0x30121f[_0x4535db(0x430)]!==_0x4535db(0x1be)){_0x210296++;if(_0x34ab22[_0x4535db(0x590)]()){_0x24ab9b++;const _0xefcee9=_0x34ab22[_0x4535db(0x46b)]();_0xefcee9['bestScore']!==_0xefcee9[_0x4535db(0x10e)]&&(_0x2b232f=![]);}else _0x2b232f=![];}}_0x210296>0x0&&_0x24ab9b===_0x210296&&_0x2b232f?_0x38a9e2[_0x4535db(0x639)]=0x1:_0x38a9e2[_0x4535db(0x639)]=0x0,_0x3a4a58[_0x4535db(0x72a)](_0x2c1ed8,{'studentName':_0x386358,'totalPoints':_0x573193,'unlockedBadges':Object[_0x4535db(0x659)](_0x38a9e2)[_0x4535db(0x758)](_0x33bb64=>_0x38a9e2[_0x33bb64]>0x0),'badgesCount':_0x38a9e2},{'merge':!![]});});}catch(_0x2d4845){console[_0x351435(0x71c)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x2d4845),showMessage(_0x351435(0x57f));}}function startAdminTest(){const _0x1a9b4b=_0x490f9b;if(!currentQuizData){showMessage(_0x1a9b4b(0x242));return;}let _0x15170c=JSON[_0x1a9b4b(0x311)](JSON[_0x1a9b4b(0x53a)](currentQuizData));currentMode=_0x1a9b4b(0x536),currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView[_0x1a9b4b(0x367)][_0x1a9b4b(0x529)](_0x1a9b4b(0x410)),studentView[_0x1a9b4b(0x367)][_0x1a9b4b(0x33f)](_0x1a9b4b(0x410)),studentInitialView[_0x1a9b4b(0x367)]['add'](_0x1a9b4b(0x410)),studentNameSelectionView[_0x1a9b4b(0x367)][_0x1a9b4b(0x529)]('hidden'),studentResultArea[_0x1a9b4b(0x367)][_0x1a9b4b(0x529)](_0x1a9b4b(0x410)),studentQuizArea['classList'][_0x1a9b4b(0x33f)](_0x1a9b4b(0x410)),quizStartTime=new Date(),displayQuizForStudent(_0x15170c);}function handleResultDisplay(_0x3e7ec4,_0xc684a6,_0x3ed825,_0x2f3dc0,_0xd05a9e,_0x5c058c){const _0x2a2f3f=_0x490f9b,_0x4fc56f=currentDisplayedQuiz[_0x2a2f3f(0x208)]?.[_0x2a2f3f(0x1ae)]??Math['floor'](_0x5c058c/0x2),_0x5005aa=currentDisplayedQuiz[_0x2a2f3f(0x208)]?.[_0x2a2f3f(0x38e)]??![];if(_0x5005aa&&_0xc684a6<_0x4fc56f){startAdaptiveFlow(_0xd05a9e,_0xc684a6,_0x5c058c);return;}switch(_0x3e7ec4){case _0x2a2f3f(0x6c5):displayResultsWithAnswers(_0xc684a6,_0x3ed825,_0x2f3dc0,_0xd05a9e,_0x5c058c);break;case _0x2a2f3f(0x1e6):displayResultsScoreOnly(_0xc684a6,_0x3ed825,_0x2f3dc0,_0x5c058c);break;case _0x2a2f3f(0x6be):displayPassFailOnly(_0xc684a6,_0x5c058c);break;case _0x2a2f3f(0x3ee):default:displaySubmissionConfirmation();break;}}async function startAdaptiveFlow(_0x21a040,_0x164600,_0x26230a){const _0x26ca7f=_0x490f9b,_0x23bf96=_0x21a040[_0x26ca7f(0x6f5)]((_0x1ead2f,_0x2b4da6)=>({..._0x1ead2f,'originalQuestion':currentDisplayedQuiz[_0x26ca7f(0x366)][_0x2b4da6]}))[_0x26ca7f(0x758)](_0x3d2b8b=>!_0x3d2b8b[_0x26ca7f(0x6fc)]&&_0x3d2b8b[_0x26ca7f(0x6ce)][_0x26ca7f(0x119)])['map'](_0x563413=>'-\x20'+_0x563413['originalQuestion']['explanation'])[_0x26ca7f(0x48a)]('\x0a');if(!_0x23bf96){displayResultsScoreOnly(_0x164600,0x0,[],_0x26230a);return;}studentQuizArea[_0x26ca7f(0x367)]['add'](_0x26ca7f(0x410)),studentReadingArea[_0x26ca7f(0x367)]['remove'](_0x26ca7f(0x410)),studentReadingArea[_0x26ca7f(0x612)]=_0x26ca7f(0x252);const _0x8088da=_0x26ca7f(0x1fa)+currentDisplayedQuiz[_0x26ca7f(0x430)]+_0x26ca7f(0x650)+_0x23bf96+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลข้างต้น\x20โปรดสรุปเนื้อหาสำคัญเพื่อสอนซ่อมเสริมนักเรียนคนนี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้อธิบายด้วยภาษาที่เข้าใจง่าย\x20เป็นกันเอง\x20เหมือนติวเตอร์ใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20สรุปมาเป็นย่อหน้าเดียวหรือสองย่อหน้าสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22remedialContent\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0x38a273={'type':_0x26ca7f(0x4c5),'properties':{'remedialContent':{'type':_0x26ca7f(0x1b2)}},'required':['remedialContent']};try{const _0x5b0ee9=await callAnalysisApi(_0x8088da,_0x38a273),_0x30d631=_0x5b0ee9['remedialContent'];studentReadingArea[_0x26ca7f(0x612)]=_0x26ca7f(0x603)+_0x30d631[_0x26ca7f(0x2bf)](/\n/g,_0x26ca7f(0x1e8))+_0x26ca7f(0x495),document['getElementById'](_0x26ca7f(0x580))['addEventListener'](_0x26ca7f(0x2cb),()=>generateRemedialQuiz(_0x23bf96));}catch(_0x4947d7){console[_0x26ca7f(0x71c)]('Adaptive\x20flow\x20failed:',_0x4947d7),showMessage('เกิดข้อผิดพลาดในการสร้างเนื้อหาทบทวน'),displayResultsScoreOnly(_0x164600,0x0,[],_0x26230a);}}async function generateRemedialQuiz(_0x61caad){const _0x1c69dd=_0x490f9b;studentReadingArea[_0x1c69dd(0x612)]=_0x1c69dd(0x2d6);const _0xec75e9=_0x1c69dd(0x7bf)+_0x61caad+_0x1c69dd(0x337)+simpleMathPrompt+_0x1c69dd(0x4b2),_0x11b92d={'type':_0x1c69dd(0x4c5),'properties':{'questionText':{'type':_0x1c69dd(0x1b2)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1c69dd(0x764)},'explanation':{'type':'STRING'}},'required':[_0x1c69dd(0x326),'options',_0x1c69dd(0x6bc),_0x1c69dd(0x119)]},_0x449a40={'type':_0x1c69dd(0x4c5),'properties':{'topic':{'type':_0x1c69dd(0x1b2)},'questions':{'type':_0x1c69dd(0x308),'items':_0x11b92d}},'required':[_0x1c69dd(0x430),_0x1c69dd(0x366)]};try{const _0x2cf4f1=await callAnalysisApi(_0xec75e9,_0x449a40);_0x2cf4f1['isRemedial']=!![],studentReadingArea[_0x1c69dd(0x367)]['add']('hidden');const _0x43fa4c={...currentDisplayedQuiz[_0x1c69dd(0x208)],'isAdaptive':![],'resultsDisplay':_0x1c69dd(0x6c5)};_0x2cf4f1[_0x1c69dd(0x208)]=_0x43fa4c,displayQuizForStudent(_0x2cf4f1);}catch(_0x41e566){console[_0x1c69dd(0x71c)](_0x1c69dd(0x61d),_0x41e566),showMessage(_0x1c69dd(0x636)),showView(_0x1c69dd(0x2c4));}}function displayPassFailOnly(_0x1aeaca,_0x50a43f){const _0x395c3d=_0x490f9b,_0xfab844=currentDisplayedQuiz[_0x395c3d(0x208)]?.[_0x395c3d(0x1ae)]??-0x1,_0x512274=currentDisplayedQuiz[_0x395c3d(0x3d2)]===!![];let _0x392779='';if(_0x512274||_0xfab844!==-0x1){let _0x1891f5;_0x512274?_0x1891f5=_0x1aeaca===_0x50a43f:_0x1891f5=_0x1aeaca>=_0xfab844;const _0x2734b0=_0x1891f5?_0x395c3d(0x318):_0x395c3d(0x6d3),_0x18d56e=_0x1891f5?_0x395c3d(0x201):_0x395c3d(0x7a4);_0x392779=_0x395c3d(0x2fd)+_0x2734b0+'\x22>'+_0x18d56e+'</span></div>';}else _0x392779=_0x395c3d(0x421);let _0x22e3d2=_0x395c3d(0x605)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x392779+_0x395c3d(0x2de);studentResultArea[_0x395c3d(0x612)]=_0x22e3d2,studentResultArea[_0x395c3d(0x367)][_0x395c3d(0x33f)](_0x395c3d(0x410)),studentQuizArea[_0x395c3d(0x367)]['add'](_0x395c3d(0x410));const _0x57ba80=_0x395c3d(0x670),_0x732922=currentMode===_0x395c3d(0x536),_0x248937=_0x732922?_0x395c3d(0x361):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก',_0x49eda4='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22'+_0x57ba80+_0x395c3d(0x132)+_0x248937+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';studentResultArea[_0x395c3d(0x237)](_0x395c3d(0x3a4),_0x49eda4),document[_0x395c3d(0x18e)](_0x57ba80)[_0x395c3d(0x41a)](_0x395c3d(0x2cb),()=>{const _0x26987a=_0x395c3d;_0x732922?(currentMode=_0x26987a(0x74b),studentView[_0x26987a(0x367)][_0x26987a(0x529)](_0x26987a(0x410)),adminView['classList']['remove'](_0x26987a(0x410)),showView('project-detail')):(showView(_0x26987a(0x2c4)),document['getElementById'](_0x26987a(0x71f))[_0x26987a(0x588)]='');});}function cancelAdminTest(){const _0x3c24a7=_0x490f9b;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);currentMode=_0x3c24a7(0x74b),studentView[_0x3c24a7(0x367)][_0x3c24a7(0x529)]('hidden'),adminView[_0x3c24a7(0x367)]['remove'](_0x3c24a7(0x410)),showView(_0x3c24a7(0x496));}function setupResultScreenBackButton(){const _0x8c659e=_0x490f9b,_0xff23ed='back-from-results-btn',_0x4f5314=currentMode===_0x8c659e(0x536),_0xd5ca69=_0x4f5314?_0x8c659e(0x361):_0x8c659e(0x2a2),_0x4ec2aa=_0x8c659e(0x3ed)+_0xff23ed+'\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xd5ca69+_0x8c659e(0x404);studentResultArea[_0x8c659e(0x237)](_0x8c659e(0x3a4),_0x4ec2aa),studentResultArea['querySelector'](_0x8c659e(0x26c))[_0x8c659e(0x41a)](_0x8c659e(0x2cb),handleShowStudentRankings),document[_0x8c659e(0x18e)](_0xff23ed)[_0x8c659e(0x41a)](_0x8c659e(0x2cb),()=>{const _0x29dce5=_0x8c659e;_0x4f5314?(currentMode='admin',studentView['classList'][_0x29dce5(0x529)]('hidden'),adminView['classList'][_0x29dce5(0x33f)]('hidden'),showView('project-detail')):(showView('student'),document[_0x29dce5(0x18e)](_0x29dce5(0x71f))[_0x29dce5(0x588)]='');});}function displayResultsWithAnswers(_0x2b9d07,_0x34015c,_0x543118,_0xdf84b5,_0x1dbcd2){const _0x35c5da=_0x490f9b,_0x4089b2=_0x1dbcd2>0x0?_0x2b9d07/_0x1dbcd2*0x64:0x0,_0x449916=currentDisplayedQuiz['settings']?.['passingScore']??-0x1,_0x33dee2=currentDisplayedQuiz[_0x35c5da(0x3d2)]===!![];let _0x1bbe56='';if(_0x33dee2||_0x449916!==-0x1){let _0x57061a=_0x33dee2?_0x2b9d07===_0x1dbcd2:_0x2b9d07>=_0x449916;const _0x519ea5=_0x57061a?_0x35c5da(0x318):'bg-red-100\x20text-red-800',_0x28bdfd=_0x57061a?'ผ่าน':'ไม่ผ่าน';_0x1bbe56=_0x35c5da(0x4fb)+_0x519ea5+'\x22>'+_0x28bdfd+_0x35c5da(0x1ba);}let _0x1cca43=_0x35c5da(0x3e8)+currentStudentName+_0x35c5da(0x40c)+_0x2b9d07+_0x35c5da(0x6d4)+_0x1dbcd2+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1bbe56+_0x35c5da(0x68b)+_0x34015c+_0x35c5da(0x2c7)+_0x4089b2['toFixed'](0x0)+_0x35c5da(0x4ea);currentDisplayedQuiz[_0x35c5da(0x366)][_0x35c5da(0x13c)]((_0x239b2f,_0x3a30f0)=>{const _0x326f5f=_0x35c5da,_0x1e102d=_0xdf84b5[_0x3a30f0],_0x44a807=_0x1e102d[_0x326f5f(0x2d5)],_0x29bfea=_0x1e102d['isCorrect'],_0x32f928=_0x239b2f[_0x326f5f(0x59d)]||currentDisplayedQuiz[_0x326f5f(0x198)];_0x1cca43+=_0x326f5f(0x679)+(_0x29bfea?_0x326f5f(0x2b6):'border-red-300\x20bg-red-50')+_0x326f5f(0x196)+(_0x3a30f0+0x1)+'.\x20'+(_0x239b2f['stem']||_0x239b2f[_0x326f5f(0x326)])+_0x326f5f(0x73a);switch(_0x32f928){case'matching_item':const _0x5aefda=_0x44a807||_0x326f5f(0x24c),_0x65218=_0x239b2f[_0x326f5f(0x68e)];_0x1cca43+=_0x326f5f(0x4f5)+(!_0x29bfea?'line-through\x20text-red-700':'')+'\x22>'+_0x5aefda+_0x326f5f(0x7bc);!_0x29bfea&&(_0x1cca43+='<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20'+_0x65218+_0x326f5f(0x1ba));break;case _0x326f5f(0x472):_0x1cca43+='<p><strong>คำตอบของคุณ:</strong>\x20'+(_0x44a807||_0x326f5f(0x24c))+_0x326f5f(0x1ba),_0x1cca43+=_0x326f5f(0x5e6)+_0x239b2f[_0x326f5f(0x233)]+'</p>';break;case _0x326f5f(0x136):_0x1cca43+=_0x326f5f(0x7a3)+(_0x239b2f[_0x326f5f(0x74a)]===!![]?_0x326f5f(0x5af):'')+'\x20'+(_0x44a807==='true'&&!_0x29bfea?_0x326f5f(0x798):'')+'\x22>ใช่</p>',_0x1cca43+=_0x326f5f(0x7a3)+(_0x239b2f['correctAnswer']===![]?'font-bold\x20text-green-700':'')+'\x20'+(_0x44a807===_0x326f5f(0x770)&&!_0x29bfea?_0x326f5f(0x798):'')+_0x326f5f(0x2fb);break;case _0x326f5f(0x3cd):case _0x326f5f(0x4c8):default:_0x1cca43+=_0x239b2f[_0x326f5f(0x391)]['map']((_0x4ff8a2,_0x244943)=>{const _0x511a05=_0x326f5f;let _0x2e723c='',_0x28b69a='';if(_0x244943===_0x239b2f[_0x511a05(0x6bc)])_0x2e723c=_0x511a05(0x5af),_0x28b69a=_0x511a05(0x626);else _0x244943===_0x44a807&&(_0x2e723c=_0x511a05(0x3a5),_0x28b69a=_0x511a05(0x341));return _0x511a05(0x79e)+_0x2e723c+'\x22>'+_0x28b69a+_0x4ff8a2+_0x511a05(0x702);})[_0x326f5f(0x48a)]('');break;}_0x1cca43+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20'+(_0x239b2f[_0x326f5f(0x119)]||_0x326f5f(0x413))+_0x326f5f(0x4f0);if(!_0x29bfea){const _0x2b70ac=_0x239b2f[_0x326f5f(0x1a3)]||_0x239b2f[_0x326f5f(0x326)];_0x1cca43+=_0x326f5f(0x585)+escape(_0x2b70ac)+_0x326f5f(0x52f);}_0x1cca43+=_0x326f5f(0x540);}),studentResultArea[_0x35c5da(0x612)]=_0x1cca43,renderEarnedBadges(_0x543118,_0x35c5da(0x696)),studentResultArea[_0x35c5da(0x367)][_0x35c5da(0x33f)](_0x35c5da(0x410)),studentQuizArea[_0x35c5da(0x367)]['add'](_0x35c5da(0x410)),setupResultScreenBackButton();if(window[_0x35c5da(0x27b)])window['MathJax']['typesetPromise']([studentResultArea]);}function displayResultsScoreOnly(_0x1518d8,_0x5a62f2,_0x30215b,_0x2c976e){const _0x43b954=_0x490f9b,_0x4c0779=_0x2c976e>0x0?_0x1518d8/_0x2c976e*0x64:0x0,_0x197c58=currentDisplayedQuiz[_0x43b954(0x208)]?.[_0x43b954(0x1ae)]??-0x1,_0x14aa7a=currentDisplayedQuiz[_0x43b954(0x3d2)]===!![];let _0x4fdd4b='';if(_0x14aa7a||_0x197c58!==-0x1){let _0x52d201;_0x14aa7a?_0x52d201=_0x1518d8===_0x2c976e:_0x52d201=_0x1518d8>=_0x197c58;const _0x4aeadb=_0x52d201?_0x43b954(0x318):_0x43b954(0x6d3),_0x26ff0b=_0x52d201?_0x43b954(0x201):_0x43b954(0x7a4);_0x4fdd4b=_0x43b954(0x4fb)+_0x4aeadb+'\x22>'+_0x26ff0b+_0x43b954(0x1ba);}let _0x22d148=_0x43b954(0x3b7)+currentStudentName+_0x43b954(0x5a1)+_0x1518d8+'\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x2c976e+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4fdd4b+_0x43b954(0x68b)+_0x5a62f2+_0x43b954(0x36c)+_0x4c0779['toFixed'](0x0)+_0x43b954(0x7a2);studentResultArea[_0x43b954(0x612)]=_0x22d148,renderEarnedBadges(_0x30215b,_0x43b954(0x696)),studentResultArea['classList'][_0x43b954(0x33f)](_0x43b954(0x410)),studentQuizArea[_0x43b954(0x367)]['add'](_0x43b954(0x410)),setupResultScreenBackButton();}function displaySubmissionConfirmation(){const _0x5bb6e9=_0x490f9b;let _0x1ff82f=_0x5bb6e9(0x619)+currentStudentName+_0x5bb6e9(0x152);studentResultArea[_0x5bb6e9(0x612)]=_0x1ff82f,studentResultArea[_0x5bb6e9(0x367)][_0x5bb6e9(0x33f)](_0x5bb6e9(0x410)),studentQuizArea[_0x5bb6e9(0x367)]['add']('hidden'),document[_0x5bb6e9(0x18e)]('back-to-home-manual-release')[_0x5bb6e9(0x41a)](_0x5bb6e9(0x2cb),()=>{const _0x33b375=_0x5bb6e9;showView(_0x33b375(0x2c4)),document[_0x33b375(0x18e)](_0x33b375(0x71f))[_0x33b375(0x588)]='';});}function renderEarnedBadges(_0x435a29,_0xc35e75){const _0x227a34=_0x490f9b,_0x4b02ed=document[_0x227a34(0x18e)](_0xc35e75);if(!_0x4b02ed||!_0x435a29||_0x435a29[_0x227a34(0x387)]===0x0)return;let _0x20dc5f='';_0x435a29[_0x227a34(0x13c)]((_0x868c20,_0x4a3ae9)=>{const _0x20e1ad=_0x227a34,_0x253278=Object['values'](BADGES)[_0x20e1ad(0x3bb)](_0x24bfc8=>_0x24bfc8['id']===_0x868c20);_0x253278&&(_0x20dc5f+=_0x20e1ad(0x3c0)+_0x4a3ae9*0.2+_0x20e1ad(0x748)+_0x253278[_0x20e1ad(0x69b)]+_0x20e1ad(0x66c)+_0x253278[_0x20e1ad(0x142)]+'\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>'+_0x253278[_0x20e1ad(0x271)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x4b02ed['innerHTML']=_0x20dc5f;}function startPresentation(_0x3afb85){const _0x110e76=_0x490f9b;currentQuizData=getShuffledQuiz(_0x3afb85),currentPresentationSlide=0x0,presentationModal[_0x110e76(0x779)][_0x110e76(0x41c)]='flex',renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x1e532f=_0x490f9b;document['fullscreenElement']&&document['exitFullscreen'](),presentationModal[_0x1e532f(0x779)]['display']=_0x1e532f(0x2c3);}function renderPresentationSlide(_0x1f92ae){const _0xd67572=_0x490f9b,_0x5f24e1=document[_0xd67572(0x18e)](_0xd67572(0x14f));if(!currentQuizData||!currentQuizData['questions']||!currentQuizData['questions'][_0x1f92ae]){_0x5f24e1[_0xd67572(0x612)]=_0xd67572(0x6f9);return;}const _0x3fa94e=currentQuizData[_0xd67572(0x366)][_0x1f92ae],_0x1d6128=_0x3fa94e['questionType']||currentQuizData[_0xd67572(0x198)];_0x5f24e1['innerHTML']='';let _0x311a50=_0xd67572(0x3d8)+(_0x3fa94e[_0xd67572(0x74d)]?_0xd67572(0x64e)+_0x3fa94e[_0xd67572(0x74d)]+_0xd67572(0x702):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>'+(_0x1f92ae+0x1)+'.\x20'+(_0x3fa94e[_0xd67572(0x1a3)]||_0x3fa94e[_0xd67572(0x326)])+_0xd67572(0x73d);switch(_0x1d6128){case _0xd67572(0x7bd):_0x311a50+=_0x3fa94e[_0xd67572(0x42b)]['map'](_0x1583b1=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1583b1+_0xd67572(0x65b))[_0xd67572(0x48a)]('');break;case'true_false':_0x311a50+=_0xd67572(0x5bc),_0x311a50+=_0xd67572(0x5c0);break;case _0xd67572(0x728):case'short_answer':_0x311a50+=_0xd67572(0x5e3);break;case'fill_in_the_blank':case'multiple_choice':default:_0x311a50+=_0x3fa94e[_0xd67572(0x391)][_0xd67572(0x6f5)]((_0x5b012f,_0x566852)=>_0xd67572(0x55e)+_0x566852+_0xd67572(0x388)+_0x5b012f+_0xd67572(0x65b))[_0xd67572(0x48a)]('');break;}_0x311a50+=_0xd67572(0x66d)+(_0x3fa94e[_0xd67572(0x119)]||_0xd67572(0x413))+_0xd67572(0x32a),_0x5f24e1[_0xd67572(0x612)]=_0x311a50;if(window[_0xd67572(0x27b)])window['MathJax'][_0xd67572(0x478)]([_0x5f24e1]);document[_0xd67572(0x511)]('.presentation-option')[_0xd67572(0x13c)](_0x1eddc0=>{const _0x2f7c44=_0xd67572;_0x1eddc0['addEventListener'](_0x2f7c44(0x2cb),_0x9d2b72=>revealAnswerForPresentation(_0x1f92ae,_0x9d2b72[_0x2f7c44(0x301)]));});const _0x8e19af=document[_0xd67572(0x18e)](_0xd67572(0x16e));_0x8e19af&&_0x8e19af[_0xd67572(0x41a)]('click',()=>checkShortAnswerForPresentation(_0x1f92ae)),document[_0xd67572(0x18e)](_0xd67572(0x6cd))['textContent']=_0xd67572(0x39d)+(_0x1f92ae+0x1)+_0xd67572(0x463)+currentQuizData['questions']['length'],document[_0xd67572(0x18e)](_0xd67572(0x6c9))['disabled']=_0x1f92ae===0x0,document[_0xd67572(0x18e)](_0xd67572(0x143))['disabled']=_0x1f92ae===currentQuizData[_0xd67572(0x366)]['length']-0x1;}async function checkShortAnswerForPresentation(_0x3eabe5){const _0x12554c=_0x490f9b,_0x5460c1=currentQuizData[_0x12554c(0x366)][_0x3eabe5],_0x37ad63=document[_0x12554c(0x18e)](_0x12554c(0x38c)),_0x511d67=document[_0x12554c(0x18e)](_0x12554c(0x16e)),_0x533a04=document['getElementById']('presentation-ai-result'),_0x172024=document[_0x12554c(0x18e)](_0x12554c(0x290));if(!_0x37ad63||!_0x511d67||!_0x533a04||!_0x172024)return;const _0x477dfa=_0x37ad63['value'][_0x12554c(0x686)]();if(_0x477dfa==='')return;_0x511d67[_0x12554c(0x467)]=!![],_0x511d67[_0x12554c(0x612)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...',_0x37ad63[_0x12554c(0x467)]=!![];const _0x200e70=await gradeShortAnswer(_0x477dfa,_0x5460c1);_0x200e70?_0x533a04[_0x12554c(0x612)]=_0x12554c(0x2b4):_0x533a04[_0x12554c(0x612)]=_0x12554c(0x43e)+_0x5460c1[_0x12554c(0x233)]+')',_0x533a04['classList'][_0x12554c(0x33f)](_0x12554c(0x410)),_0x172024[_0x12554c(0x367)][_0x12554c(0x33f)](_0x12554c(0x410)),_0x511d67['classList'][_0x12554c(0x529)](_0x12554c(0x410));}function revealAnswerForPresentation(_0x59cf04,_0x590b0c){const _0x2ac08c=_0x490f9b,_0x4fae87=currentQuizData[_0x2ac08c(0x366)][_0x59cf04],_0x37d351=_0x4fae87[_0x2ac08c(0x59d)]||currentQuizData[_0x2ac08c(0x198)];document['querySelectorAll'](_0x2ac08c(0x6ff))['forEach'](_0xb6c4cd=>{const _0x2e31f4=_0x2ac08c;_0xb6c4cd[_0x2e31f4(0x467)]=!![],_0xb6c4cd[_0x2e31f4(0x367)]['remove'](_0x2e31f4(0x7b3));let _0x51d6f2=![];if(_0x37d351===_0x2e31f4(0x4c8)||_0x37d351==='fill_in_the_blank'){const _0x562ed4=parseInt(_0xb6c4cd[_0x2e31f4(0x5b0)][_0x2e31f4(0x641)]);_0x51d6f2=_0x562ed4===_0x4fae87[_0x2e31f4(0x6bc)];}else{if(_0x37d351===_0x2e31f4(0x136)){const _0x1aeeb9=_0xb6c4cd['dataset']['answer']===_0x2e31f4(0x426);_0x51d6f2=_0x1aeeb9===_0x4fae87['correctAnswer'];}else _0x37d351===_0x2e31f4(0x7bd)&&(_0x51d6f2=_0xb6c4cd[_0x2e31f4(0x473)][_0x2e31f4(0x686)]()===_0x4fae87[_0x2e31f4(0x68e)]);}_0x51d6f2?_0xb6c4cd['classList'][_0x2e31f4(0x529)](_0x2e31f4(0x2f0),_0x2e31f4(0x1f5),'border-green-700'):_0xb6c4cd[_0x2e31f4(0x367)][_0x2e31f4(0x529)](_0x2e31f4(0x6e1));}),_0x590b0c['classList']['remove']('opacity-50');let _0x59a050=![];if(_0x37d351===_0x2ac08c(0x4c8))_0x59a050=parseInt(_0x590b0c[_0x2ac08c(0x5b0)][_0x2ac08c(0x641)])===_0x4fae87[_0x2ac08c(0x6bc)];else{if(_0x37d351===_0x2ac08c(0x136))_0x59a050=_0x590b0c[_0x2ac08c(0x5b0)][_0x2ac08c(0x2d5)]===_0x2ac08c(0x426)===_0x4fae87[_0x2ac08c(0x74a)];else _0x37d351===_0x2ac08c(0x7bd)&&(_0x59a050=_0x590b0c['textContent'][_0x2ac08c(0x686)]()===_0x4fae87[_0x2ac08c(0x68e)]);}!_0x59a050&&_0x590b0c[_0x2ac08c(0x367)][_0x2ac08c(0x529)](_0x2ac08c(0x122),'text-white',_0x2ac08c(0x515)),document['getElementById'](_0x2ac08c(0x290))[_0x2ac08c(0x367)][_0x2ac08c(0x33f)]('hidden');}function startWholeQuizTimer(_0x1d582c){const _0x41eafe=_0x490f9b,_0x16c7c2=document['getElementById'](_0x41eafe(0x164));if(!_0x16c7c2)return;const _0x427168=Date[_0x41eafe(0x773)]()+_0x1d582c*0x3c*0x3e8;_0x16c7c2['innerHTML']=_0x41eafe(0x117);const _0x5dce69=document[_0x41eafe(0x18e)]('countdown-display');quizTimerInterval=setInterval(()=>{const _0x413964=_0x41eafe,_0x14c0d4=_0x427168-Date[_0x413964(0x773)]();if(_0x14c0d4<=0x0)clearInterval(quizTimerInterval),_0x5dce69[_0x413964(0x473)]=_0x413964(0x756),showMessage(_0x413964(0x1b9)),handleSubmitQuiz(null);else{const _0x4539d2=Math[_0x413964(0x1f3)](_0x14c0d4/0x3e8/0x3c%0x3c)[_0x413964(0x50f)]()[_0x413964(0x58a)](0x2,'0'),_0x6992ba=Math[_0x413964(0x1f3)](_0x14c0d4/0x3e8%0x3c)[_0x413964(0x50f)]()[_0x413964(0x58a)](0x2,'0');_0x5dce69[_0x413964(0x473)]=_0x4539d2+':'+_0x6992ba;}},0x3e8);}function renderPerQuestionView(){const _0xea9c65=_0x490f9b;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x2201a9=currentDisplayedQuiz[_0xea9c65(0x366)][currentQuestionIndex],_0x3ead07=_0x2201a9[_0xea9c65(0x59d)]||currentDisplayedQuiz[_0xea9c65(0x198)];let _0x45118c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20'+(currentQuestionIndex+0x1)+_0xea9c65(0x62b)+currentDisplayedQuiz[_0xea9c65(0x366)][_0xea9c65(0x387)]+_0xea9c65(0x3fc)+(currentMode===_0xea9c65(0x536)?'<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>':'')+_0xea9c65(0x743)+currentDisplayedQuiz[_0xea9c65(0x430)]+_0xea9c65(0x630)+(currentQuestionIndex===currentDisplayedQuiz[_0xea9c65(0x366)][_0xea9c65(0x387)]-0x1?_0xea9c65(0x725):_0xea9c65(0x7c8))+_0xea9c65(0x30e);studentQuizArea['innerHTML']=_0x45118c;let _0x5b241a='',_0x3af791='';switch(_0x3ead07){case _0xea9c65(0x7bd):_0x5b241a=currentQuestionIndex+0x1+'.\x20'+_0x2201a9[_0xea9c65(0x1a3)],_0x3af791=_0xea9c65(0x5a9)+_0x2201a9[_0xea9c65(0x42b)][_0xea9c65(0x6f5)](_0x3df93e=>_0xea9c65(0x45b)+_0x3df93e+'\x22>'+_0x3df93e+_0xea9c65(0x21c))[_0xea9c65(0x48a)]('')+_0xea9c65(0x6eb);break;case _0xea9c65(0x136):_0x5b241a=currentQuestionIndex+0x1+'.\x20'+_0x2201a9[_0xea9c65(0x326)],_0x3af791=_0xea9c65(0x36b);break;case _0xea9c65(0x472):case _0xea9c65(0x728):_0x5b241a=currentQuestionIndex+0x1+'.\x20'+_0x2201a9[_0xea9c65(0x326)],_0x3af791=_0xea9c65(0x518);break;case _0xea9c65(0x4c8):case'fill_in_with_choices':default:_0x5b241a=currentQuestionIndex+0x1+'.\x20'+_0x2201a9['questionText'],_0x3af791=_0x2201a9[_0xea9c65(0x391)][_0xea9c65(0x6f5)]((_0x294b9e,_0xc76c61)=>_0xea9c65(0x7ab)+_0xc76c61+_0xea9c65(0x583)+_0xc76c61+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt'+_0xc76c61+'\x22>'+_0x294b9e+'</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0xea9c65(0x48a)]('');break;}_0x2201a9[_0xea9c65(0x74d)]&&(_0x5b241a+=_0xea9c65(0x64e)+_0x2201a9[_0xea9c65(0x74d)]+_0xea9c65(0x702));document[_0xea9c65(0x18e)](_0xea9c65(0x6a3))[_0xea9c65(0x612)]=_0x5b241a,document[_0xea9c65(0x18e)](_0xea9c65(0x4c1))[_0xea9c65(0x612)]=_0x3af791;if(currentMode===_0xea9c65(0x536)){const _0x1355df=document[_0xea9c65(0x18e)](_0xea9c65(0x26b));if(_0x1355df)_0x1355df['addEventListener'](_0xea9c65(0x2cb),cancelAdminTest);}document['getElementById'](_0xea9c65(0x669))[_0xea9c65(0x41a)]('click',()=>handleNextQuestionInTimedMode(![]));if(window['MathJax'])window[_0xea9c65(0x27b)][_0xea9c65(0x478)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x2d9275=_0x490f9b,_0x5a1c31=currentDisplayedQuiz[_0x2d9275(0x208)][_0x2d9275(0x1a7)],_0x1b8dde=document[_0x2d9275(0x18e)](_0x2d9275(0x345));if(!_0x1b8dde)return;let _0x390450=_0x5a1c31;_0x1b8dde[_0x2d9275(0x612)]=_0x2d9275(0x3f8)+_0x390450+'</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x4a8087=document['getElementById']('timer-bar'),_0x3298c6=document[_0x2d9275(0x18e)](_0x2d9275(0x266));perQuestionTimerInterval=setInterval(()=>{const _0x37bb32=_0x2d9275;_0x390450--;const _0xe3bb99=_0x390450/_0x5a1c31*0x64;_0x4a8087[_0x37bb32(0x779)][_0x37bb32(0x3d6)]=_0xe3bb99+'%',_0x3298c6[_0x37bb32(0x473)]=_0x390450,_0x390450<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x218d71=![]){const _0x13a31f=_0x490f9b;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x26e8ca=null;if(!_0x218d71){const _0x2c2832=currentDisplayedQuiz[_0x13a31f(0x366)][currentQuestionIndex],_0x308353=_0x2c2832['questionType']||currentDisplayedQuiz[_0x13a31f(0x198)];if(_0x308353==='short_answer'||_0x308353===_0x13a31f(0x728)){const _0x5a1e4b=document[_0x13a31f(0x2f1)]('#per-question-options\x20textarea');_0x26e8ca=_0x5a1e4b?_0x5a1e4b[_0x13a31f(0x588)][_0x13a31f(0x686)]():'';}else{if(_0x308353===_0x13a31f(0x7bd)){const _0x429da1=document[_0x13a31f(0x2f1)](_0x13a31f(0x2b7));_0x26e8ca=_0x429da1?_0x429da1['value']:'';}else{const _0x2a9401=document['querySelector'](_0x13a31f(0x131));if(_0x2a9401){const _0x2708ca=_0x2a9401[_0x13a31f(0x588)];_0x26e8ca=!isNaN(parseInt(_0x2708ca,0xa))&&_0x2708ca['trim']()!==''?parseInt(_0x2708ca,0xa):_0x2708ca;}}}}studentAnswersPerQuestion['push'](_0x26e8ca),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x13a31f(0x366)][_0x13a31f(0x387)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x602156=_0x490f9b,_0x228c17=currentDisplayedQuiz[_0x602156(0x366)][_0x602156(0x4ae)](_0x5b2650=>_0x5b2650[_0x602156(0x59d)]===_0x602156(0x472));_0x228c17?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage('สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...');const _0x42942b=currentQuizData['id'],_0x3319db=doc(db,_0x602156(0x199)+appId+_0x602156(0x192)+_0x42942b+_0x602156(0x547),currentStudentName),_0x484efd=await getDoc(_0x3319db),_0x1522e9=_0x484efd[_0x602156(0x590)]()?_0x484efd[_0x602156(0x46b)]():{},_0x37e43e=_0x1522e9[_0x602156(0x21b)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x37e43e);}function getResultsFilename(){const _0x343c7a=_0x490f9b,_0x10a833=document[_0x343c7a(0x18e)](_0x343c7a(0x525))[_0x343c7a(0x473)][_0x343c7a(0x2bf)](/[^a-z0-9]/gi,'_')[_0x343c7a(0x682)]();return _0x343c7a(0x5ba)+(_0x10a833||_0x343c7a(0x156));}function exportResultsAsImage(){const _0x357796=_0x490f9b,_0x374043=document[_0x357796(0x18e)](_0x357796(0x72e));showMessage(_0x357796(0x4df)),html2canvas(_0x374043)[_0x357796(0x72d)](_0x2ac50c=>{const _0x1dce6d=_0x357796,_0x545b7e=document[_0x1dce6d(0x52a)]('a');_0x545b7e[_0x1dce6d(0x329)]=getResultsFilename()+_0x1dce6d(0x21f),_0x545b7e[_0x1dce6d(0x62c)]=_0x2ac50c['toDataURL'](_0x1dce6d(0x6f8)),_0x545b7e[_0x1dce6d(0x2cb)](),messageModal[_0x1dce6d(0x367)]['add'](_0x1dce6d(0x410));});}function exportResultsAsPDF(){const _0x540e68=_0x490f9b,{jsPDF:_0xb4244d}=window['jspdf'],_0x1d4f82=new _0xb4244d();_0x1d4f82['setFont'](_0x540e68(0x210),_0x540e68(0x1a5)),_0x1d4f82[_0x540e68(0x4e2)]({'html':_0x540e68(0x389)}),_0x1d4f82['save'](getResultsFilename()+'.pdf');}function exportResultsAsWord(){const _0x57c3a7=_0x490f9b,_0x3fd785='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x57c3a7(0x6c1)+_0x57c3a7(0x6ed),_0x8bf1dc='</body></html>',_0x3ec8c9=_0x3fd785+document[_0x57c3a7(0x18e)](_0x57c3a7(0x72e))['innerHTML']+_0x8bf1dc,_0x458379=_0x57c3a7(0x5c5)+encodeURIComponent(_0x3ec8c9),_0x314993=document[_0x57c3a7(0x52a)]('a');document[_0x57c3a7(0x5cf)][_0x57c3a7(0x7b6)](_0x314993),_0x314993[_0x57c3a7(0x62c)]=_0x458379,_0x314993['download']=getResultsFilename()+_0x57c3a7(0x458),_0x314993[_0x57c3a7(0x2cb)](),document[_0x57c3a7(0x5cf)][_0x57c3a7(0x51d)](_0x314993);}function exportResultsAsExcel(){const _0x66008=_0x490f9b,_0x438355=document[_0x66008(0x18e)](_0x66008(0x19f));let _0x6d12a3=[];for(let _0x2004d3=0x0;_0x2004d3<_0x438355[_0x66008(0x4a0)][_0x66008(0x387)];_0x2004d3++){let _0xbdd12a=[],_0x36ce25=_0x438355[_0x66008(0x4a0)][_0x2004d3][_0x66008(0x511)](_0x66008(0x552));for(let _0x277a3a=0x0;_0x277a3a<_0x36ce25['length'];_0x277a3a++){_0xbdd12a[_0x66008(0x21a)]('\x22'+_0x36ce25[_0x277a3a]['innerText'][_0x66008(0x2bf)](/"/g,'\x22\x22')+'\x22');}_0x6d12a3[_0x66008(0x21a)](_0xbdd12a[_0x66008(0x48a)](','));}const _0x4709f1=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x6d12a3[_0x66008(0x48a)]('\x0a')],{'type':_0x66008(0x316)}),_0xe21f1c=document['createElement']('a');_0xe21f1c[_0x66008(0x62c)]=URL[_0x66008(0x683)](_0x4709f1),_0xe21f1c['download']=getResultsFilename()+_0x66008(0x76e),_0xe21f1c['click']();}function exportTableAsImage(_0x321983,_0x33a62a){const _0x4d61a1=_0x490f9b,_0x4b7713=document[_0x4d61a1(0x18e)](_0x321983);if(!_0x4b7713){showMessage(_0x4d61a1(0x73f));return;}showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x4b7713)['then'](_0x19aee4=>{const _0x3bf44d=_0x4d61a1,_0x330fb5=document[_0x3bf44d(0x52a)]('a');_0x330fb5[_0x3bf44d(0x329)]=_0x33a62a+_0x3bf44d(0x21f),_0x330fb5['href']=_0x19aee4[_0x3bf44d(0x1c2)](_0x3bf44d(0x6f8)),_0x330fb5[_0x3bf44d(0x2cb)](),messageModal[_0x3bf44d(0x367)][_0x3bf44d(0x529)](_0x3bf44d(0x410));});}function exportTableAsPDF(_0x1c406f,_0x37f57c){const _0x1bd907=_0x490f9b,{jsPDF:_0x7236ae}=window[_0x1bd907(0x34b)],_0x373ddb=new _0x7236ae();_0x373ddb['setFont']('helvetica','normal'),_0x373ddb[_0x1bd907(0x4e2)]({'html':'#'+_0x1c406f}),_0x373ddb[_0x1bd907(0x331)](_0x37f57c+_0x1bd907(0x48d));}function exportTableAsWord(_0x112121,_0x42919b){const _0x8cfc11=_0x490f9b,_0x1fe0b6=document[_0x8cfc11(0x18e)](_0x112121);if(!_0x1fe0b6){showMessage(_0x8cfc11(0x73f));return;}const _0x5429a3=_0x8cfc11(0x6fb)+'xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20'+_0x8cfc11(0x6c1)+_0x8cfc11(0x6ed),_0x290496=_0x8cfc11(0x36f),_0x5ed1c6=_0x5429a3+_0x1fe0b6[_0x8cfc11(0x612)]+_0x290496,_0x7cc6fa=_0x8cfc11(0x5c5)+encodeURIComponent(_0x5ed1c6),_0x2fc81a=document[_0x8cfc11(0x52a)]('a');document[_0x8cfc11(0x5cf)][_0x8cfc11(0x7b6)](_0x2fc81a),_0x2fc81a[_0x8cfc11(0x62c)]=_0x7cc6fa,_0x2fc81a[_0x8cfc11(0x329)]=_0x42919b+'.doc',_0x2fc81a['click'](),document[_0x8cfc11(0x5cf)]['removeChild'](_0x2fc81a);}function exportTableAsExcel(_0x114ea2,_0x404715){const _0x4c7309=_0x490f9b,_0x20b8e4=document['getElementById'](_0x114ea2);if(!_0x20b8e4){showMessage(_0x4c7309(0x73f));return;}let _0x250916=[];for(let _0x2dd725=0x0;_0x2dd725<_0x20b8e4[_0x4c7309(0x4a0)]['length'];_0x2dd725++){let _0x518976=[],_0x44d307=_0x20b8e4[_0x4c7309(0x4a0)][_0x2dd725]['querySelectorAll']('td,\x20th');for(let _0x7a9825=0x0;_0x7a9825<_0x44d307['length'];_0x7a9825++){_0x518976[_0x4c7309(0x21a)]('\x22'+_0x44d307[_0x7a9825][_0x4c7309(0x383)][_0x4c7309(0x2bf)](/"/g,'\x22\x22')+'\x22');}_0x250916[_0x4c7309(0x21a)](_0x518976['join'](','));}const _0x47d829=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x250916[_0x4c7309(0x48a)]('\x0a')],{'type':_0x4c7309(0x316)}),_0x573af3=document[_0x4c7309(0x52a)]('a');_0x573af3[_0x4c7309(0x62c)]=URL[_0x4c7309(0x683)](_0x47d829),_0x573af3[_0x4c7309(0x329)]=_0x404715+_0x4c7309(0x76e),_0x573af3[_0x4c7309(0x2cb)]();}function renderAnalytics(_0x5c03fa,_0x516424){const _0x5be522=_0x490f9b,_0x2d31e7=currentProjectData['students'][_0x5be522(0x387)],_0x4ee523=_0x516424[_0x5be522(0x387)],_0x2093cc=_0x2d31e7-_0x4ee523,_0x4ec154=_0x2d31e7>0x0?_0x4ee523/_0x2d31e7*0x64:0x0,_0x3c422f=_0x516424[_0x5be522(0x6f5)](_0x54d9cf=>_0x54d9cf[_0x5be522(0x339)]),_0x4999b1=_0x3c422f['length']>0x0?_0x3c422f[_0x5be522(0x7a1)]((_0x10297c,_0x26d69d)=>_0x10297c+_0x26d69d,0x0)/_0x3c422f[_0x5be522(0x387)]:0x0,_0x1549a8=_0x5c03fa[_0x5be522(0x366)]['length'],_0x2f9a46=_0x1549a8>0x0?_0x4999b1/_0x1549a8*0x64:0x0,_0x44eddf=calculateItemAnalysis(_0x5c03fa,_0x516424),_0x73726e=calculateReliabilityKR20(_0x5c03fa,_0x516424,_0x44eddf[_0x5be522(0x3d7)]);let _0x349ee8='';if(_0x73726e!==null){let _0x44da88='';if(_0x73726e>=0.9)_0x44da88=_0x5be522(0x3fb);else{if(_0x73726e>=0.8)_0x44da88=_0x5be522(0x1f9);else{if(_0x73726e>=0.7)_0x44da88='ดี';else{if(_0x73726e>=0.6)_0x44da88=_0x5be522(0x551);else _0x44da88=_0x5be522(0x54e);}}}_0x349ee8=_0x5be522(0x167)+_0x73726e[_0x5be522(0x228)](0x2)+_0x5be522(0x538)+_0x44da88+_0x5be522(0x140);}const _0x3d0429=document[_0x5be522(0x18e)](_0x5be522(0x2ba));_0x3d0429['innerHTML']=_0x5be522(0x6f4)+_0x4ec154[_0x5be522(0x228)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>('+_0x4ee523+'/'+_0x2d31e7+_0x5be522(0x369)+_0x4999b1[_0x5be522(0x228)](0x2)+_0x5be522(0x646)+_0x2f9a46[_0x5be522(0x228)](0x0)+_0x5be522(0x111)+(_0x3c422f[_0x5be522(0x387)]>0x0?Math[_0x5be522(0x1ac)](..._0x3c422f):_0x5be522(0x20f))+_0x5be522(0x3ce)+(_0x3c422f[_0x5be522(0x387)]>0x0?Math[_0x5be522(0x6a4)](..._0x3c422f):_0x5be522(0x20f))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x349ee8+_0x5be522(0x4b2);const _0x578609=document[_0x5be522(0x18e)]('interesting-stats-wrapper');_0x578609&&_0x578609[_0x5be522(0x33f)]();const _0x651cc=_0x5be522(0x780);_0x3d0429[_0x5be522(0x237)]('afterend',_0x651cc);const _0x2612d6=currentProjectData[_0x5be522(0x1d5)]||[];renderSubmissionChart(_0x4ee523,_0x2093cc,_0x516424,_0x2612d6),renderScoreDistributionChart(_0x516424,_0x1549a8),renderQuestionAnalytics(_0x5c03fa,_0x516424,_0x2612d6),renderInterestingStats(_0x5c03fa,_0x516424);}async function handleExportLessonPDF(){const _0x344a9d=_0x490f9b,_0x337300=document[_0x344a9d(0x18e)](_0x344a9d(0x277)),_0x23fd4c=document[_0x344a9d(0x18e)](_0x344a9d(0x1ad))[_0x344a9d(0x473)],_0x29fae1=_0x344a9d(0x676)+_0x23fd4c[_0x344a9d(0x2bf)](/[^a-z0-9]/gi,'_')+_0x344a9d(0x48d);showMessage('กำลังสร้างไฟล์\x20PDF...');const {jsPDF:_0x20e850}=window['jspdf'],_0x2b3e06=new _0x20e850({'orientation':_0x344a9d(0x7c4),'unit':'mm','format':'a4'});_0x2b3e06['addFileToVFS'](_0x344a9d(0x158),sarabunBase64),_0x2b3e06[_0x344a9d(0x181)](_0x344a9d(0x158),_0x344a9d(0x6ac),_0x344a9d(0x1a5)),_0x2b3e06[_0x344a9d(0x4b0)]('Sarabun');const _0x1379c2=_0x2b3e06[_0x344a9d(0x6b7)][_0x344a9d(0x711)][_0x344a9d(0x692)](),_0x3bd7b6=0xf,_0x11b6d4=_0x1379c2-_0x3bd7b6*0x2;let _0x2d48b6=0x14;const _0x5805b5=(_0x546c04,_0x76f1f9)=>{const _0x186888=_0x344a9d,{x:x=_0x3bd7b6,fontSize:fontSize=0xc,style:style=_0x186888(0x1a5),isList:isList=![]}=_0x76f1f9;_0x2b3e06[_0x186888(0x7c1)](fontSize),_0x2b3e06['setFont'](_0x186888(0x6ac),style);const _0xe882dc=_0x2b3e06[_0x186888(0x32e)](_0x546c04,_0x11b6d4-(isList?0x5:0x0));_0xe882dc[_0x186888(0x13c)](_0x49cf5e=>{_0x2d48b6>0x118&&(_0x2b3e06['addPage'](),_0x2d48b6=0x14),_0x2b3e06['text'](isList?'•\x20'+_0x49cf5e:_0x49cf5e,x,_0x2d48b6),_0x2d48b6+=fontSize*0.4;});},_0x2c2b10=_0x337300[_0x344a9d(0x2f1)]('h3')[_0x344a9d(0x473)];_0x5805b5(_0x2c2b10,{'fontSize':0x12,'style':_0x344a9d(0x68f)}),_0x2d48b6+=0x8;const _0x29cc3a=_0x337300[_0x344a9d(0x2f1)]('.text-red-800')[_0x344a9d(0x4f1)]['querySelector']('h4');_0x5805b5(_0x29cc3a['textContent'],{'fontSize':0xe,'style':_0x344a9d(0x68f)}),_0x2d48b6+=0x2;const _0x59471b=_0x337300[_0x344a9d(0x511)]('.text-red-900\x20li');_0x59471b[_0x344a9d(0x13c)](_0x15aa38=>{const _0x14a38f=_0x344a9d;_0x5805b5(_0x15aa38[_0x14a38f(0x473)],{'fontSize':0xc,'isList':!![]}),_0x2d48b6+=0x3;}),_0x2d48b6+=0x5;const _0x3d6856=_0x337300[_0x344a9d(0x2f1)](_0x344a9d(0x212))[_0x344a9d(0x4f1)][_0x344a9d(0x2f1)]('h4');_0x5805b5(_0x3d6856[_0x344a9d(0x473)],{'fontSize':0xe,'style':_0x344a9d(0x68f)}),_0x2d48b6+=0x2;const _0x1c7367=_0x337300[_0x344a9d(0x2f1)]('.text-gray-700');_0x5805b5(_0x1c7367[_0x344a9d(0x473)],{'fontSize':0xc}),_0x2d48b6+=0x5;const _0x1e8439=_0x337300[_0x344a9d(0x2f1)](_0x344a9d(0x471))[_0x344a9d(0x4f1)][_0x344a9d(0x2f1)]('h4');_0x5805b5(_0x1e8439[_0x344a9d(0x473)],{'fontSize':0xe,'style':_0x344a9d(0x68f)}),_0x2d48b6+=0x2;const _0x5831c8=_0x337300['querySelectorAll'](_0x344a9d(0x79b));_0x5831c8[_0x344a9d(0x13c)](_0x254dd8=>{const _0x4a2efb=_0x344a9d,_0x307335=_0x254dd8['querySelector'](_0x4a2efb(0x6b4))[_0x4a2efb(0x44d)][_0x4a2efb(0x473)]['trim'](),_0x299c82=_0x254dd8[_0x4a2efb(0x2f1)](_0x4a2efb(0x598))[_0x4a2efb(0x44d)][_0x4a2efb(0x473)][_0x4a2efb(0x686)]();_0x2b3e06['setFont'](_0x4a2efb(0x6ac),_0x4a2efb(0x68f)),_0x5805b5(_0x4a2efb(0x4e4)+_0x307335,{'fontSize':0xc}),_0x2d48b6+=0x2,_0x2b3e06[_0x4a2efb(0x4b0)](_0x4a2efb(0x6ac),_0x4a2efb(0x1a5)),_0x5805b5(_0x4a2efb(0x15f)+_0x299c82,{'fontSize':0xc}),_0x2d48b6+=0x5;}),_0x2b3e06['save'](_0x29fae1),messageModal[_0x344a9d(0x367)]['add'](_0x344a9d(0x410));}function renderInterestingStats(_0x3567ae,_0x5d4f65){const _0x200965=_0x490f9b,_0x679c72=document['getElementById'](_0x200965(0x2f8));if(!_0x679c72)return;if(_0x5d4f65[_0x200965(0x387)]===0x0){_0x679c72[_0x200965(0x612)]='<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>';return;}const _0x5e477f=_0x3567ae['questions'][_0x200965(0x6f5)]((_0x593602,_0x58b174)=>({'index':_0x58b174+0x1,'text':_0x593602[_0x200965(0x326)]||_0x593602[_0x200965(0x1a3)],'correct':0x0}));_0x5d4f65['forEach'](_0x1a6484=>{const _0x2e354d=_0x200965,_0x2d530c=_0x1a6484[_0x2e354d(0x21b)][_0x1a6484[_0x2e354d(0x21b)]['length']-0x1];_0x2d530c&&_0x2d530c['answers']&&_0x2d530c[_0x2e354d(0x76a)][_0x2e354d(0x13c)](_0x334652=>{const _0x31a760=_0x2e354d,_0x3ddfc3=_0x5e477f[_0x31a760(0x3bb)](_0x25e0cf=>_0x25e0cf[_0x31a760(0x7b5)]===_0x334652[_0x31a760(0x149)]);_0x334652[_0x31a760(0x6fc)]&&_0x3ddfc3&&_0x3ddfc3['correct']++;});});const _0x321ebb=_0x5d4f65['length'],_0x331341=Math[_0x200965(0x1ac)](..._0x5e477f[_0x200965(0x6f5)](_0x274457=>_0x274457[_0x200965(0x1f0)])),_0xbc09fa=Math[_0x200965(0x6a4)](..._0x5e477f[_0x200965(0x6f5)](_0xa574e6=>_0xa574e6[_0x200965(0x1f0)])),_0x133fe9=_0x5e477f[_0x200965(0x758)](_0x235c76=>_0x235c76[_0x200965(0x1f0)]===_0x331341)[_0x200965(0x6f5)](_0x341ae4=>_0x200965(0x1df)+_0x341ae4[_0x200965(0x641)]),_0x560ab8=_0x5e477f['filter'](_0x3d59bc=>_0x3d59bc[_0x200965(0x1f0)]===_0xbc09fa)[_0x200965(0x6f5)](_0x170e82=>_0x200965(0x1df)+_0x170e82[_0x200965(0x641)]),_0x1de9ce=_0x5d4f65[_0x200965(0x54b)]((_0x1bd8ce,_0x648a9f)=>_0x648a9f['latestScore']-_0x1bd8ce[_0x200965(0x339)])[_0x200965(0x758)]((_0x2d2210,_0x19e8e4,_0x183446)=>_0x2d2210[_0x200965(0x339)]===_0x183446[0x0]['latestScore']),_0x515710=_0x5d4f65[_0x200965(0x54b)]((_0x791513,_0x5214c2)=>_0x791513['latestScore']-_0x5214c2[_0x200965(0x339)])[_0x200965(0x758)]((_0x6a10a2,_0x191387,_0x5a2af0)=>_0x6a10a2[_0x200965(0x339)]===_0x5a2af0[0x0][_0x200965(0x339)]),_0x184369='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0x133fe9[_0x200965(0x48a)](',\x20')+_0x200965(0x5a7)+_0x331341+_0x200965(0x463)+_0x321ebb+_0x200965(0x420)+_0x560ab8[_0x200965(0x48a)](',\x20')+_0x200965(0x5a7)+(_0x321ebb-_0xbc09fa)+'\x20/\x20'+_0x321ebb+_0x200965(0x5b5)+_0x1de9ce['map'](_0xdf2a42=>_0xdf2a42['studentName'])[_0x200965(0x48a)](',\x20')+_0x200965(0x207)+_0x1de9ce[0x0][_0x200965(0x339)]+_0x200965(0x628)+_0x515710[_0x200965(0x6f5)](_0x2fd5a3=>_0x2fd5a3[_0x200965(0x355)])[_0x200965(0x48a)](',\x20')+_0x200965(0x207)+_0x515710[0x0][_0x200965(0x339)]+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';_0x679c72[_0x200965(0x612)]=_0x184369;}function renderSubmissionChart(_0x49afa2,_0x1a40cf,_0x3e2f54,_0x54f1af){const _0x55e187=_0x490f9b,_0x10e528=document['getElementById'](_0x55e187(0x774))[_0x55e187(0x5c3)]('2d'),_0x58c3fa=_0x3e2f54['map'](_0x443272=>_0x443272[_0x55e187(0x355)]),_0x1d2fd2=_0x54f1af[_0x55e187(0x758)](_0x245e6a=>!_0x58c3fa[_0x55e187(0x58e)](_0x245e6a));chartInstances[_0x55e187(0x64f)]&&chartInstances['submission'][_0x55e187(0x6a5)](),chartInstances[_0x55e187(0x64f)]=new Chart(_0x10e528,{'type':'doughnut','data':{'labels':[_0x55e187(0x45a),_0x55e187(0x610)],'datasets':[{'data':[_0x49afa2,_0x1a40cf],'backgroundColor':[_0x55e187(0x4ec),_0x55e187(0x354)],'borderColor':[_0x55e187(0x695),'#ffffff'],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':_0x55e187(0x591)},'tooltip':{'callbacks':{'label':function(_0x3eba9a){const _0x4ee53f=_0x55e187;let _0x2d9afe=_0x3eba9a[_0x4ee53f(0x475)]||'';return _0x2d9afe&&(_0x2d9afe+=':\x20'),_0x2d9afe+=_0x3eba9a[_0x4ee53f(0x497)],_0x2d9afe;},'afterLabel':function(_0x5eae9c){const _0x323245=_0x55e187;let _0x545a6b;return _0x5eae9c[_0x323245(0x52d)]===0x0?_0x545a6b=_0x58c3fa:_0x545a6b=_0x1d2fd2,_0x545a6b[_0x323245(0x387)]>0x0?_0x545a6b[_0x323245(0x48a)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x3c1884,_0x14a9bf){const _0x19b0a6=_0x490f9b,_0x58796e=document[_0x19b0a6(0x18e)](_0x19b0a6(0x67e))[_0x19b0a6(0x5c3)]('2d'),_0x5cf288={};for(let _0x4fbba4=0x0;_0x4fbba4<=_0x14a9bf;_0x4fbba4++){_0x5cf288[_0x4fbba4]=0x0;}_0x3c1884[_0x19b0a6(0x13c)](_0x27fdc4=>{const _0x328b70=_0x19b0a6;_0x5cf288[_0x27fdc4[_0x328b70(0x339)]]!==undefined&&_0x5cf288[_0x27fdc4[_0x328b70(0x339)]]++;}),chartInstances[_0x19b0a6(0x317)]&&chartInstances[_0x19b0a6(0x317)][_0x19b0a6(0x6a5)](),chartInstances['score']=new Chart(_0x58796e,{'type':_0x19b0a6(0x2ec),'data':{'labels':Object[_0x19b0a6(0x659)](_0x5cf288),'datasets':[{'label':_0x19b0a6(0x124),'data':Object[_0x19b0a6(0x397)](_0x5cf288),'backgroundColor':_0x19b0a6(0x4c0),'borderColor':_0x19b0a6(0x6ba),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x19b0a6(0x30b)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x354ddc){const _0x342345=_0x19b0a6,_0x84b444=_0x354ddc[_0x342345(0x475)],_0x4304e4=_0x3c1884['filter'](_0x19999e=>_0x19999e[_0x342345(0x339)]==_0x84b444)[_0x342345(0x6f5)](_0x3e0d95=>_0x3e0d95[_0x342345(0x355)]);return _0x4304e4[_0x342345(0x387)]>0x0?_0x4304e4[_0x342345(0x48a)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0xe07191,_0xadb93c,_0x2c1a1e){const _0x3b0be6=_0x490f9b,_0x2ea966=document['getElementById'](_0x3b0be6(0x2e9));if(_0x2c1a1e[_0x3b0be6(0x387)]===0x0){_0x2ea966[_0x3b0be6(0x612)]='<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>';return;}const _0x422234=calculateItemAnalysis(_0xe07191,_0xadb93c),_0x30b604=calculateDistractorAnalysis(_0xe07191,_0xadb93c);let _0x5d6c9e='';_0x422234[_0x3b0be6(0x25b)]&&(_0x5d6c9e=_0x3b0be6(0x57d)+_0x422234['overallGroups'][_0x3b0be6(0x40e)]['length']+_0x3b0be6(0x48f)+_0x422234[_0x3b0be6(0x25b)]['upperGroupNames'][_0x3b0be6(0x6f5)](_0x2d3dee=>'<li>'+_0x2d3dee+_0x3b0be6(0x315))[_0x3b0be6(0x48a)]('')+_0x3b0be6(0x2f9)+_0x422234[_0x3b0be6(0x25b)][_0x3b0be6(0x4cb)][_0x3b0be6(0x387)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x422234[_0x3b0be6(0x25b)][_0x3b0be6(0x4cb)][_0x3b0be6(0x6f5)](_0x127e63=>_0x3b0be6(0x710)+_0x127e63+_0x3b0be6(0x315))[_0x3b0be6(0x48a)]('')+_0x3b0be6(0x549));let _0x4d604f='';const _0x505679=_0xadb93c[_0x3b0be6(0x6f5)](_0x4fb597=>_0x4fb597[_0x3b0be6(0x355)]),_0x155218=_0x305ddc=>{const _0x135a8f=_0x3b0be6;if(_0x305ddc>=0.8)return _0x135a8f(0x693);if(_0x305ddc>=0.6)return _0x135a8f(0x611);if(_0x305ddc>=0.4)return _0x135a8f(0x26f);if(_0x305ddc>=0.2)return'<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>';return _0x135a8f(0x4bb);},_0x13a92d=_0xedae1a=>{const _0x526589=_0x3b0be6;if(_0xedae1a<0x0)return _0x526589(0x6d0);if(_0xedae1a>=0.4)return _0x526589(0x21d);if(_0xedae1a>=0.3)return _0x526589(0x19e);if(_0xedae1a>=0.2)return _0x526589(0x732);return _0x526589(0x441);},_0x414b0f=_0x2b78a5=>{const _0x24beff=_0x3b0be6,_0x2b35cc=_0x2b78a5['toFixed'](0x0);if(parseFloat(_0x2b35cc)===0x64)return _0x24beff(0x7c2)+_0x2b35cc+_0x24beff(0x638);if(_0x2b78a5>=0x32)return _0x24beff(0x58c)+_0x2b35cc+_0x24beff(0x638);return _0x24beff(0x1d2)+_0x2b35cc+_0x24beff(0x638);};_0xe07191[_0x3b0be6(0x366)][_0x3b0be6(0x13c)]((_0x3781a2,_0x3ed8a4)=>{const _0x3c93c4=_0x3b0be6,_0x19c567=_0x422234[_0x3c93c4(0x3d7)][_0x3ed8a4],_0x5e03b3=_0x30b604[_0x3ed8a4],_0x925d22=_0x3781a2[_0x3c93c4(0x1a3)]||_0x3781a2[_0x3c93c4(0x326)]||_0x3781a2[_0x3c93c4(0x70a)];let _0xb2c86=0x0;const _0x3de901=[],_0x48c71e=[];_0xadb93c[_0x3c93c4(0x13c)](_0x110e22=>{const _0x49974f=_0x3c93c4,_0x392e80=_0x110e22['attempts'][_0x110e22[_0x49974f(0x21b)]['length']-0x1];if(_0x392e80&&_0x392e80[_0x49974f(0x76a)]){const _0x586678=_0x392e80[_0x49974f(0x76a)][_0x49974f(0x3bb)](_0x4568e6=>_0x4568e6[_0x49974f(0x149)]===_0x925d22)??_0x392e80[_0x49974f(0x76a)][_0x3ed8a4]??null;_0x586678&&(_0x586678[_0x49974f(0x6fc)]?(_0xb2c86++,_0x3de901[_0x49974f(0x21a)](_0x110e22[_0x49974f(0x355)])):_0x48c71e[_0x49974f(0x21a)](_0x110e22[_0x49974f(0x355)]));}});const _0xca1417=_0xadb93c[_0x3c93c4(0x387)]>0x0?_0xb2c86/_0xadb93c['length']*0x64:0x0,_0x40e087=_0x2c1a1e[_0x3c93c4(0x758)](_0xce3b82=>!_0x505679[_0x3c93c4(0x58e)](_0xce3b82)),_0xb24864=_0x19c567?_0x3c93c4(0x1c6)+_0x19c567['p'][_0x3c93c4(0x228)](0x2)+_0x3c93c4(0x298)+_0x155218(_0x19c567['p'])+_0x3c93c4(0x4c7)+_0x19c567['r'][_0x3c93c4(0x228)](0x2)+_0x3c93c4(0x298)+_0x13a92d(_0x19c567['r'])+_0x3c93c4(0x658)+_0x414b0f(_0xca1417)+_0x3c93c4(0x1d4):'';let _0x21e1c8='';_0x5e03b3&&(_0x21e1c8=_0x3c93c4(0x20c)+Object['keys'](_0x5e03b3)['map'](_0x14ea3b=>{const _0x49359d=_0x3c93c4,_0x3caefb=_0x5e03b3[_0x14ea3b],_0x7aec82=parseInt(_0x14ea3b)===_0x3781a2[_0x49359d(0x6bc)],_0x5a2ac2=!_0x7aec82&&_0x3caefb[_0x49359d(0x752)]>_0x3caefb['upper_group_count'];return _0x49359d(0x335)+(_0x7aec82?'bg-green-100\x20font-bold':'')+'\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>'+(_0x7aec82?'✔\x20':'')+_0x3caefb[_0x49359d(0x7b5)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x3caefb[_0x49359d(0x506)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x3caefb[_0x49359d(0x752)]+'\x20'+(_0x5a2ac2?'👍':'')+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x3caefb['total']+_0x49359d(0x55b);})[_0x3c93c4(0x48a)]('')+_0x3c93c4(0x55f));let _0x5469a8='';_0x19c567&&_0x19c567[_0x3c93c4(0x239)]&&(_0x5469a8=_0x3c93c4(0x688)+_0x19c567[_0x3c93c4(0x239)]['length']+_0x3c93c4(0x4da)+_0x19c567[_0x3c93c4(0x239)]['map'](_0x4f40fb=>_0x3c93c4(0x710)+(_0x4f40fb[_0x3c93c4(0x6fc)]?_0x3c93c4(0x6fd):_0x3c93c4(0x5d0))+'\x20'+_0x4f40fb['name']+_0x3c93c4(0x315))['join']('')+_0x3c93c4(0x721)+_0x19c567[_0x3c93c4(0x67d)][_0x3c93c4(0x387)]+_0x3c93c4(0x4da)+_0x19c567[_0x3c93c4(0x67d)]['map'](_0x534599=>_0x3c93c4(0x710)+(_0x534599[_0x3c93c4(0x6fc)]?'<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>':_0x3c93c4(0x5d0))+'\x20'+_0x534599[_0x3c93c4(0x271)]+_0x3c93c4(0x315))[_0x3c93c4(0x48a)]('')+_0x3c93c4(0x255)),_0x4d604f+=_0x3c93c4(0x5ec)+(_0x3ed8a4+0x1)+':\x20'+_0x925d22+_0x3c93c4(0x195)+_0xb24864+'<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20'+_0x925d22+_0x3c93c4(0x12a)+_0xb2c86+_0x3c93c4(0x62b)+_0xadb93c['length']+_0x3c93c4(0x350)+_0xca1417[_0x3c93c4(0x228)](0x0)+_0x3c93c4(0x7aa)+_0x3de901[_0x3c93c4(0x387)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x3de901[_0x3c93c4(0x387)]>0x0?_0x3de901['join'](',\x20'):'ไม่มี')+_0x3c93c4(0x477)+_0x48c71e[_0x3c93c4(0x387)]+_0x3c93c4(0x25d)+(_0x48c71e[_0x3c93c4(0x387)]>0x0?_0x48c71e['join'](',\x20'):_0x3c93c4(0x1ff))+_0x3c93c4(0x24b)+_0x40e087[_0x3c93c4(0x387)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x40e087[_0x3c93c4(0x387)]>0x0?_0x40e087[_0x3c93c4(0x48a)](',\x20'):'ไม่มี')+'</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x21e1c8+_0x3c93c4(0x162)+_0x5469a8+_0x3c93c4(0x5c7);}),_0x2ea966[_0x3b0be6(0x612)]=_0x5d6c9e+_0x4d604f;try{window[_0x3b0be6(0x27b)]&&MathJax[_0x3b0be6(0x478)]&&MathJax[_0x3b0be6(0x478)]([_0x2ea966]);}catch(_0x210f1d){console[_0x3b0be6(0x71c)](_0x3b0be6(0x440),_0x210f1d);}}function calculateDistractorAnalysis(_0x46997d,_0x4235b8){const _0x1515f5=_0x490f9b,_0x64e1c0={};if(_0x4235b8[_0x1515f5(0x387)]<0x2)return _0x64e1c0;const _0x525614=[..._0x4235b8][_0x1515f5(0x54b)]((_0x1e788f,_0x2625f8)=>{const _0x2f7367=_0x1515f5,_0x3d9cfa=_0x2625f8[_0x2f7367(0x339)]-_0x1e788f[_0x2f7367(0x339)];if(_0x3d9cfa!==0x0)return _0x3d9cfa;const _0x1840ed=_0x1e788f[_0x2f7367(0x21b)]?.['length']||0x1,_0x32bd9b=_0x2625f8[_0x2f7367(0x21b)]?.[_0x2f7367(0x387)]||0x1,_0x21f78d=_0x1840ed-_0x32bd9b;if(_0x21f78d!==0x0)return _0x21f78d;const _0xbb5760=new Date(_0x1e788f[_0x2f7367(0x3c3)]),_0x3730ac=new Date(_0x2625f8[_0x2f7367(0x3c3)]),_0x3d835c=_0xbb5760-_0x3730ac;if(_0x3d835c!==0x0)return _0x3d835c;return _0x1e788f[_0x2f7367(0x355)]['localeCompare'](_0x2625f8['studentName'],'th');}),_0x4c48b3=_0x525614[_0x1515f5(0x387)],_0x22a4df=Math[_0x1515f5(0x1ac)](0x1,Math[_0x1515f5(0x1f3)](_0x4c48b3*0.33)),_0x13277c=_0x525614[_0x1515f5(0x5a2)](0x0,_0x22a4df),_0x2e11a2=_0x525614['slice'](-_0x22a4df);return _0x46997d['questions'][_0x1515f5(0x13c)]((_0x59b9f6,_0x2757e6)=>{const _0x14a5ef=_0x1515f5;if(_0x59b9f6['questionType']!==_0x14a5ef(0x4c8)||!_0x59b9f6[_0x14a5ef(0x391)])return;const _0x3d957e=_0x59b9f6[_0x14a5ef(0x326)],_0x467dfd={};_0x59b9f6['options'][_0x14a5ef(0x13c)]((_0x365d48,_0x6de298)=>{_0x467dfd[_0x6de298]={'text':_0x365d48,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x525614[_0x14a5ef(0x13c)](_0x29ec76=>{const _0x1ac7ce=_0x14a5ef,_0x42571d=_0x29ec76[_0x1ac7ce(0x21b)][_0x29ec76[_0x1ac7ce(0x21b)][_0x1ac7ce(0x387)]-0x1],_0x1d070a=_0x42571d[_0x1ac7ce(0x76a)][_0x1ac7ce(0x3bb)](_0x5e2326=>_0x5e2326[_0x1ac7ce(0x149)]===_0x3d957e);if(_0x1d070a&&_0x1d070a['answer']!==null){const _0x38b35c=_0x59b9f6[_0x1ac7ce(0x391)][_0x1ac7ce(0x50a)](_0x4a62e4=>_0x4a62e4===_0x1d070a[_0x1ac7ce(0x51f)]);_0x38b35c!==-0x1&&_0x467dfd[_0x38b35c]&&(_0x467dfd[_0x38b35c]['total']++,_0x13277c[_0x1ac7ce(0x58e)](_0x29ec76)&&_0x467dfd[_0x38b35c][_0x1ac7ce(0x506)]++,_0x2e11a2[_0x1ac7ce(0x58e)](_0x29ec76)&&_0x467dfd[_0x38b35c][_0x1ac7ce(0x752)]++);}}),_0x64e1c0[_0x2757e6]=_0x467dfd;}),_0x64e1c0;}function calculateReliabilityKR20(_0x34adec,_0xc33db0,_0x3ebf36){const _0x596015=_0x490f9b,_0x4a4093=_0x34adec[_0x596015(0x366)][_0x596015(0x387)];if(_0x4a4093<0x2||_0xc33db0['length']<0x2)return null;const _0x4e9547=_0xc33db0['map'](_0x5d92e0=>_0x5d92e0[_0x596015(0x339)]),_0x1e664b=_0x4e9547['reduce']((_0x4d44bf,_0x2092b5)=>_0x4d44bf+_0x2092b5,0x0)/_0x4e9547['length'],_0xffd169=_0x4e9547[_0x596015(0x6f5)](_0x4f4710=>Math[_0x596015(0x4bc)](_0x4f4710-_0x1e664b,0x2))[_0x596015(0x7a1)]((_0x3ddd0c,_0x5ccd75)=>_0x3ddd0c+_0x5ccd75,0x0)/_0x4e9547[_0x596015(0x387)];if(_0xffd169===0x0)return null;let _0x23f244=0x0;for(let _0x385429=0x0;_0x385429<_0x4a4093;_0x385429++){const _0x2df021=_0x3ebf36[_0x385429]?.['p'];if(_0x2df021===undefined)continue;const _0xec95d2=0x1-_0x2df021;_0x23f244+=_0x2df021*_0xec95d2;}if(_0x23f244===0x0)return null;const _0xec6cbe=_0x4a4093/(_0x4a4093-0x1)*(0x1-_0x23f244/_0xffd169);if(_0xec6cbe>0x1)return null;return _0xec6cbe;}async function handleAnalyzeClass(){const _0x2525ba=_0x490f9b;if(!currentQuizData||!currentQuizData['id']){showMessage('เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน');return;}const _0x3be7ee=collection(db,_0x2525ba(0x199)+appId+_0x2525ba(0x192)+currentQuizData['id']+_0x2525ba(0x547)),_0x3da1c7=await getDocs(_0x3be7ee),_0x48b909=_0x3da1c7[_0x2525ba(0x69e)][_0x2525ba(0x6f5)](_0x51a3bc=>_0x51a3bc[_0x2525ba(0x46b)]());if(_0x48b909[_0x2525ba(0x387)]<0x2){showMessage(_0x2525ba(0x256));return;}const _0x40d361=document[_0x2525ba(0x18e)](_0x2525ba(0x4cd));_0x40d361[_0x2525ba(0x612)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',document['getElementById'](_0x2525ba(0x6ab))[_0x2525ba(0x467)]=!![];const _0x2a9bcc=_0x48b909[_0x2525ba(0x6f5)]((_0x470705,_0xc8b4c5)=>{const _0x3be11e=_0x2525ba,_0x3449a5=_0x470705['attempts'][_0x470705['attempts']['length']-0x1];if(!_0x3449a5)return'';return _0x3be11e(0x224)+(_0xc8b4c5+0x1)+'\x20('+_0x470705[_0x3be11e(0x355)]+_0x3be11e(0x5fc)+_0x3449a5[_0x3be11e(0x317)]+'/'+_0x470705[_0x3be11e(0x10e)]+_0x3be11e(0x1d7)+JSON[_0x3be11e(0x53a)](_0x3449a5[_0x3be11e(0x76a)])+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x2525ba(0x48a)](_0x2525ba(0x405)),_0x5df4c6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22'+currentQuizData[_0x2525ba(0x430)]+_0x2525ba(0x3df)+JSON['stringify'](currentQuizData['questions'])+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2a9bcc+_0x2525ba(0x42a),_0x537f29={'type':'OBJECT','properties':{'classStrengths':{'type':_0x2525ba(0x308),'items':{'type':_0x2525ba(0x1b2)}},'classWeaknesses':{'type':_0x2525ba(0x308),'items':{'type':_0x2525ba(0x1b2)}},'teacherSuggestions':{'type':_0x2525ba(0x308),'items':{'type':_0x2525ba(0x1b2)}}},'required':['classStrengths',_0x2525ba(0x244),'teacherSuggestions']};try{const _0x13d8a4=await callAnalysisApi(_0x5df4c6,_0x537f29);displayClassAnalysis(_0x13d8a4);}catch(_0x2b2c25){console['error'](_0x2525ba(0x544),_0x2b2c25),_0x40d361[_0x2525ba(0x612)]=_0x2525ba(0x274)+_0x2b2c25[_0x2525ba(0x5c9)]+'</p></div>';}finally{document[_0x2525ba(0x18e)](_0x2525ba(0x6ab))[_0x2525ba(0x467)]=![];}}function displayClassAnalysis(_0x5ae9c9){const _0x31bbbb=_0x490f9b,_0x362e3d=document[_0x31bbbb(0x18e)](_0x31bbbb(0x4cd));if(!_0x5ae9c9){_0x362e3d[_0x31bbbb(0x612)]='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0x362e3d[_0x31bbbb(0x612)]=_0x31bbbb(0x24e)+_0x5ae9c9[_0x31bbbb(0x4a4)][_0x31bbbb(0x6f5)](_0x598913=>_0x31bbbb(0x710)+_0x598913+_0x31bbbb(0x315))['join']('')+_0x31bbbb(0x578)+_0x5ae9c9['classWeaknesses'][_0x31bbbb(0x6f5)](_0x4af68b=>'<li>'+_0x4af68b+'</li>')[_0x31bbbb(0x48a)]('')+_0x31bbbb(0x414)+_0x5ae9c9['teacherSuggestions']['map'](_0x2fd142=>_0x31bbbb(0x710)+_0x2fd142+_0x31bbbb(0x315))[_0x31bbbb(0x48a)]('')+_0x31bbbb(0x6b3);}function formatAndPrintWorksheet(_0x18d9e3,_0x3158d){const _0x17a486=_0x490f9b,_0x1b74da='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x18d9e3[_0x17a486(0x430)]+'</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20'+_0x18d9e3[_0x17a486(0x430)]+'</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x18d9e3['questions']['map']((_0x344656,_0x5c6399)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x5c6399+0x1)+'.\x20'+_0x344656[_0x17a486(0x326)]+_0x17a486(0x684)+(_0x344656['imageCode']?_0x17a486(0x25c)+_0x344656[_0x17a486(0x74d)]+_0x17a486(0x702):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x17a486(0x48a)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20';_0x3158d['document']['write'](_0x1b74da),_0x3158d['document']['close'](),_0x3158d[_0x17a486(0x72b)]=function(){setTimeout(()=>{_0x3158d['print']();},0x3e8);};}async function generateWorksheet(){const _0x33741f=_0x490f9b,_0xf3f544=document[_0x33741f(0x18e)]('worksheet-topic-input')[_0x33741f(0x588)]['trim']();if(!_0xf3f544){showMessage(_0x33741f(0x43a));return;}const _0x4b0597=document[_0x33741f(0x18e)](_0x33741f(0x2f7))[_0x33741f(0x333)],_0x383de8=_0x4b0597?'':_0x33741f(0x465),_0x5d72cc=window['open']('',_0x33741f(0x562));_0x5d72cc[_0x33741f(0x573)][_0x33741f(0x31d)](_0x33741f(0x150));const _0x5bcd99=parseInt(document['getElementById'](_0x33741f(0x3e7))[_0x33741f(0x588)]),_0x28e6a3=document['getElementById'](_0x33741f(0x757))[_0x33741f(0x333)],_0x5f06c5=_0x28e6a3?_0x33741f(0x7ae):'',_0x47da1c=_0x33741f(0x327)+_0x383de8+_0x33741f(0x5be)+_0x5bcd99+_0x33741f(0x4a2)+_0xf3f544+'\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5f06c5+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0x33741f(0x3ae),_0x37c347={'type':_0x33741f(0x4c5),'properties':{'topic':{'type':_0x33741f(0x1b2)},'questions':{'type':'ARRAY','items':{'type':_0x33741f(0x4c5),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0x33741f(0x1b2)}},'required':[_0x33741f(0x326)]}}},'required':[_0x33741f(0x430),_0x33741f(0x366)]};document[_0x33741f(0x18e)](_0x33741f(0x14c))['textContent']='',document[_0x33741f(0x18e)]('loader')[_0x33741f(0x367)][_0x33741f(0x33f)](_0x33741f(0x410)),document[_0x33741f(0x18e)]('quiz-generation-area')['classList']['remove'](_0x33741f(0x410)),generateWorksheetBtn[_0x33741f(0x467)]=!![];try{const _0x1d9940=await callAnalysisApi(_0x47da1c,_0x37c347);formatAndPrintWorksheet(_0x1d9940,_0x5d72cc);}catch(_0x29c98d){console[_0x33741f(0x71c)](_0x33741f(0x4a7),_0x29c98d);if(_0x5d72cc)_0x5d72cc[_0x33741f(0x294)]();showMessage(_0x33741f(0x139));}finally{document[_0x33741f(0x18e)](_0x33741f(0x65d))[_0x33741f(0x367)]['add'](_0x33741f(0x410)),document['getElementById'](_0x33741f(0x5fe))[_0x33741f(0x367)][_0x33741f(0x529)](_0x33741f(0x410)),generateWorksheetBtn[_0x33741f(0x467)]=![];}}async function callAnalysisApi(_0x163bf4,_0x3ee1dc){const _0x54a914=_0x490f9b,_0x4cd537={'contents':[{'role':_0x54a914(0x3a2),'parts':[{'text':_0x163bf4}]}],'generationConfig':{'responseMimeType':_0x54a914(0x365),'responseSchema':_0x3ee1dc}},_0x47378d=_0x54a914(0x4db),_0x4b8fc2=_0x54a914(0x5eb)+_0x47378d,_0x5ce299=await fetch(_0x4b8fc2,{'method':_0x54a914(0x7b8),'headers':{'Content-Type':_0x54a914(0x365)},'body':JSON[_0x54a914(0x53a)](_0x4cd537)});if(!_0x5ce299['ok'])throw new Error(_0x54a914(0x509)+_0x5ce299[_0x54a914(0x742)]);const _0x104255=await _0x5ce299[_0x54a914(0x47a)]();if(_0x104255[_0x54a914(0x219)]?.[0x0]?.['content']?.[_0x54a914(0x2ce)]?.[0x0])return JSON[_0x54a914(0x311)](_0x104255['candidates'][0x0][_0x54a914(0x312)][_0x54a914(0x2ce)][0x0]['text']);else{let _0x2eba9d=_0x54a914(0x3ab);if(_0x104255['promptFeedback']?.[_0x54a914(0x526)])_0x2eba9d='AI\x20request\x20was\x20blocked.\x20Reason:\x20'+_0x104255[_0x54a914(0x5a4)][_0x54a914(0x526)]+'.';else _0x104255['candidates']?.[0x0]?.['finishReason']&&_0x104255[_0x54a914(0x219)][0x0][_0x54a914(0x5e4)]!==_0x54a914(0x17e)&&(_0x2eba9d=_0x54a914(0x1ec)+_0x104255['candidates'][0x0][_0x54a914(0x5e4)]+'.');console[_0x54a914(0x71c)](_0x2eba9d,JSON[_0x54a914(0x53a)](_0x104255));throw new Error(_0x2eba9d);}}initialize();
