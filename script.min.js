const _0x52d111=_0x9350;(function(_0x3cf385,_0x1436c0){const _0x2281e6=_0x9350,_0x197cf0=_0x3cf385();while(!![]){try{const _0x2dd2b8=-parseInt(_0x2281e6(0x265))/0x1+-parseInt(_0x2281e6(0x51e))/0x2+-parseInt(_0x2281e6(0x6ab))/0x3+-parseInt(_0x2281e6(0x7c7))/0x4+parseInt(_0x2281e6(0x565))/0x5+parseInt(_0x2281e6(0x1f9))/0x6*(-parseInt(_0x2281e6(0x2f6))/0x7)+parseInt(_0x2281e6(0x3bf))/0x8*(parseInt(_0x2281e6(0x25c))/0x9);if(_0x2dd2b8===_0x1436c0)break;else _0x197cf0['push'](_0x197cf0['shift']());}catch(_0x4270af){_0x197cf0['push'](_0x197cf0['shift']());}}}(_0xed41,0x60cce));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,signInAnonymously,onAuthStateChanged,signInWithCustomToken}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getFirestore,doc,getDoc,setDoc,addDoc,updateDoc,collection,query,where,getDocs,onSnapshot,deleteDoc,writeBatch,runTransaction,serverTimestamp,increment}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js';let globalDashboardSettings={'projectSort':'date_desc','pinnedProjects':[]};const allMathTopics=[{'category':'จำนวนและการดำเนินการ','name':'การนับ'},{'category':'จำนวนและการดำเนินการ','name':'ระบบเลขและค่าประจำหลัก'},{'category':_0x52d111(0x3d3),'name':_0x52d111(0x28c)},{'category':'จำนวนและการดำเนินการ','name':_0x52d111(0x64d)},{'category':_0x52d111(0x3d3),'name':_0x52d111(0x6ef)},{'category':_0x52d111(0x3d3),'name':_0x52d111(0x264)},{'category':'จำนวนและการดำเนินการ','name':_0x52d111(0x5da)},{'category':_0x52d111(0x3d3),'name':_0x52d111(0x201)},{'category':_0x52d111(0x3d3),'name':_0x52d111(0x5cc)},{'category':_0x52d111(0x3d3),'name':_0x52d111(0xd2)},{'category':_0x52d111(0x3d3),'name':'ศูนย์'},{'category':_0x52d111(0x3d3),'name':_0x52d111(0x14a)},{'category':_0x52d111(0x3d3),'name':_0x52d111(0x281)},{'category':_0x52d111(0x3d3),'name':_0x52d111(0xf3)},{'category':_0x52d111(0x3d3),'name':'ห.ร.ม.\x20(GCD)'},{'category':_0x52d111(0x3d3),'name':_0x52d111(0x1f3)},{'category':_0x52d111(0x3d3),'name':'อัตราส่วนและสัดส่วน'},{'category':_0x52d111(0x3d3),'name':_0x52d111(0x800)},{'category':_0x52d111(0x3d3),'name':'เศษส่วน\x20(ย่อ/ขยาย)'},{'category':_0x52d111(0x3d3),'name':_0x52d111(0x2f5)},{'category':'จำนวนและการดำเนินการ','name':_0x52d111(0x64c)},{'category':_0x52d111(0x3d3),'name':_0x52d111(0x27c)},{'category':_0x52d111(0x3d3),'name':_0x52d111(0x604)},{'category':_0x52d111(0x3d3),'name':'จำนวนคละ'},{'category':_0x52d111(0x3d3),'name':_0x52d111(0x6a6)},{'category':_0x52d111(0x3d3),'name':_0x52d111(0xd6)},{'category':'จำนวนและการดำเนินการ','name':_0x52d111(0x1a9)},{'category':_0x52d111(0x3d3),'name':_0x52d111(0x385)},{'category':_0x52d111(0x3d3),'name':'การหารทศนิยม'},{'category':_0x52d111(0x3d3),'name':_0x52d111(0xcf)},{'category':_0x52d111(0x3d3),'name':_0x52d111(0x34a)},{'category':_0x52d111(0x3d3),'name':_0x52d111(0xc4)},{'category':'จำนวนและการดำเนินการ','name':_0x52d111(0x225)},{'category':_0x52d111(0x3d3),'name':'เลขยกกำลัง\x20(กฎ/ศูนย์/ลบ)'},{'category':_0x52d111(0x3d3),'name':'รากที่สองและที่สาม'},{'category':_0x52d111(0x3d3),'name':_0x52d111(0x660)},{'category':_0x52d111(0x3d3),'name':_0x52d111(0x214)},{'category':_0x52d111(0x3c5),'name':_0x52d111(0x732)},{'category':_0x52d111(0x3c5),'name':_0x52d111(0x4f1)},{'category':_0x52d111(0x3c5),'name':'หน่วยเวลาและการคำนวณเวลา'},{'category':_0x52d111(0x3c5),'name':'ปริมาตร/ความจุและการแปลง'},{'category':_0x52d111(0x3c5),'name':_0x52d111(0x2fb)},{'category':_0x52d111(0x3c5),'name':'เส้นรอบรูป'},{'category':_0x52d111(0x3c5),'name':'พื้นที่สี่เหลี่ยม'},{'category':_0x52d111(0x3c5),'name':_0x52d111(0x28b)},{'category':_0x52d111(0x3c5),'name':_0x52d111(0x3b4)},{'category':_0x52d111(0x3c5),'name':_0x52d111(0x4a4)},{'category':_0x52d111(0x3c5),'name':_0x52d111(0x7ab)},{'category':_0x52d111(0x3c5),'name':_0x52d111(0x578)},{'category':_0x52d111(0x3c5),'name':_0x52d111(0x446)},{'category':_0x52d111(0x3c5),'name':'ค่าคลาดเคลื่อนของการวัด'},{'category':_0x52d111(0x706),'name':_0x52d111(0xcd)},{'category':'เรขาคณิต','name':_0x52d111(0x3e3)},{'category':_0x52d111(0x706),'name':_0x52d111(0x2be)},{'category':_0x52d111(0x706),'name':'พื้นที่สามเหลี่ยม'},{'category':_0x52d111(0x706),'name':_0x52d111(0x814)},{'category':'เรขาคณิต','name':_0x52d111(0x2df)},{'category':'เรขาคณิต','name':_0x52d111(0x2cd)},{'category':_0x52d111(0x706),'name':_0x52d111(0x215)},{'category':_0x52d111(0x706),'name':'วงกลม:\x20คอร์ดและเส้นสัมผัส'},{'category':_0x52d111(0x706),'name':_0x52d111(0x20f)},{'category':_0x52d111(0x706),'name':_0x52d111(0x157)},{'category':'เรขาคณิต','name':_0x52d111(0x5d7)},{'category':_0x52d111(0x706),'name':_0x52d111(0x653)},{'category':_0x52d111(0x706),'name':_0x52d111(0x60a)},{'category':_0x52d111(0x706),'name':_0x52d111(0x2e9)},{'category':_0x52d111(0x512),'name':_0x52d111(0x742)},{'category':_0x52d111(0x512),'name':_0x52d111(0x723)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x52d111(0x638)},{'category':_0x52d111(0x512),'name':'การแยกตัวประกอบ'},{'category':_0x52d111(0x512),'name':_0x52d111(0x7dd)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x52d111(0x76b)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x52d111(0x51a)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x52d111(0x2f4)},{'category':_0x52d111(0x512),'name':_0x52d111(0x5c6)},{'category':_0x52d111(0x512),'name':_0x52d111(0x13f)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x52d111(0x1c7)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x52d111(0x7b5)},{'category':_0x52d111(0x512),'name':_0x52d111(0x6c9)},{'category':_0x52d111(0x512),'name':_0x52d111(0x13c)},{'category':_0x52d111(0x512),'name':_0x52d111(0x291)},{'category':_0x52d111(0x512),'name':_0x52d111(0x5f2)},{'category':_0x52d111(0x512),'name':_0x52d111(0x788)},{'category':_0x52d111(0x512),'name':_0x52d111(0x6e0)},{'category':'พีชคณิตและฟังก์ชัน','name':_0x52d111(0x209)},{'category':_0x52d111(0x512),'name':_0x52d111(0x495)},{'category':_0x52d111(0x512),'name':_0x52d111(0x51c)},{'category':_0x52d111(0x512),'name':'ฟังก์ชันเชิงเส้นและกราฟ'},{'category':_0x52d111(0x512),'name':'ฟังก์ชันกำลังสองและกราฟ'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x52d111(0x3fb)},{'category':_0x52d111(0x512),'name':'ฟังก์ชันสัมพัทธ์\x20(rational)'},{'category':_0x52d111(0x512),'name':'ฟังก์ชันราก\x20(root)'},{'category':_0x52d111(0x512),'name':_0x52d111(0x228)},{'category':_0x52d111(0x512),'name':_0x52d111(0x17e)},{'category':_0x52d111(0x512),'name':_0x52d111(0xda)},{'category':_0x52d111(0x512),'name':_0x52d111(0x7ef)},{'category':_0x52d111(0x512),'name':_0x52d111(0x601)},{'category':_0x52d111(0x512),'name':_0x52d111(0x13e)},{'category':_0x52d111(0x512),'name':'ผลรวมอนุกรม\x20(Σ)'},{'category':'พีชคณิตและฟังก์ชัน','name':_0x52d111(0x628)},{'category':_0x52d111(0x512),'name':_0x52d111(0x31a)},{'category':_0x52d111(0x457),'name':_0x52d111(0x127)},{'category':_0x52d111(0x457),'name':_0x52d111(0x699)},{'category':'เรขาคณิตวิเคราะห์','name':_0x52d111(0x394)},{'category':_0x52d111(0x457),'name':'เส้นตรง:\x20ขนาน/ตั้งฉาก'},{'category':_0x52d111(0x457),'name':_0x52d111(0x305)},{'category':_0x52d111(0x457),'name':'วงกลม:\x20สมการและสมบัติ'},{'category':_0x52d111(0x457),'name':_0x52d111(0x6bb)},{'category':_0x52d111(0x457),'name':_0x52d111(0x213)},{'category':_0x52d111(0x457),'name':_0x52d111(0x673)},{'category':'ตรีโกณมิติ','name':_0x52d111(0x459)},{'category':_0x52d111(0x7ea),'name':'มุมพิเศษ\x2030°-60°-90°'},{'category':_0x52d111(0x7ea),'name':_0x52d111(0x490)},{'category':_0x52d111(0x7ea),'name':'เรเดียนและการแปลงหน่วย'},{'category':'ตรีโกณมิติ','name':'กฎของไซน์'},{'category':'ตรีโกณมิติ','name':_0x52d111(0x3d6)},{'category':'ตรีโกณมิติ','name':_0x52d111(0x698)},{'category':'ตรีโกณมิติ','name':_0x52d111(0x2e3)},{'category':_0x52d111(0x7ea),'name':_0x52d111(0x3fa)},{'category':_0x52d111(0x7ea),'name':_0x52d111(0x4fb)},{'category':'ตรีโกณมิติ','name':'ฟังก์ชันตรีโกณผกผัน\x20(พื้นฐาน)'},{'category':_0x52d111(0x24e),'name':_0x52d111(0x1a4)},{'category':_0x52d111(0x24e),'name':'การจัดกลุ่มข้อมูล'},{'category':_0x52d111(0x24e),'name':_0x52d111(0x180)},{'category':'สถิติและความน่าจะเป็น','name':_0x52d111(0x1eb)},{'category':_0x52d111(0x24e),'name':'ฮิสโตแกรม'},{'category':_0x52d111(0x24e),'name':'แผนภาพกล่อง\x20(box\x20plot)'},{'category':'สถิติและความน่าจะเป็น','name':_0x52d111(0x609)},{'category':'สถิติและความน่าจะเป็น','name':_0x52d111(0x75f)},{'category':_0x52d111(0x24e),'name':_0x52d111(0x3ca)},{'category':_0x52d111(0x24e),'name':_0x52d111(0x7f7)},{'category':_0x52d111(0x24e),'name':_0x52d111(0x39c)},{'category':_0x52d111(0x24e),'name':_0x52d111(0x2cf)},{'category':'สถิติและความน่าจะเป็น','name':_0x52d111(0x69f)},{'category':_0x52d111(0x24e),'name':_0x52d111(0x1dc)},{'category':_0x52d111(0x24e),'name':_0x52d111(0x5ef)},{'category':'สถิติและความน่าจะเป็น','name':_0x52d111(0x3de)},{'category':_0x52d111(0x24e),'name':'กฎบวกและกฎคูณ'},{'category':'สถิติและความน่าจะเป็น','name':'แผนภาพเวนน์'},{'category':_0x52d111(0x24e),'name':_0x52d111(0x5bb)},{'category':_0x52d111(0x24e),'name':_0x52d111(0x29e)},{'category':_0x52d111(0x24e),'name':_0x52d111(0x2c7)},{'category':_0x52d111(0x24e),'name':_0x52d111(0x37d)},{'category':'สถิติและความน่าจะเป็น','name':_0x52d111(0x5f3)},{'category':_0x52d111(0x24e),'name':'ความคาดหมาย\x20(Expected\x20value)'},{'category':_0x52d111(0x258),'name':'ลิมิต'},{'category':_0x52d111(0x258),'name':_0x52d111(0x1c5)},{'category':_0x52d111(0x258),'name':'อนุพันธ์:\x20กฎพื้นฐาน'},{'category':_0x52d111(0x258),'name':_0x52d111(0x66b)},{'category':'แคลคูลัสเบื้องต้น','name':_0x52d111(0x65b)},{'category':'แคลคูลัสเบื้องต้น','name':'อนุพันธ์ของ\x20exp/log/trig\x20(พื้นฐาน)'},{'category':'แคลคูลัสเบื้องต้น','name':'ความชันเส้นสัมผัส'},{'category':'แคลคูลัสเบื้องต้น','name':_0x52d111(0x449)},{'category':'แคลคูลัสเบื้องต้น','name':'Optimization\x20(ค่าสูงสุด–ต่ำสุด)'},{'category':'แคลคูลัสเบื้องต้น','name':_0x52d111(0x27f)},{'category':_0x52d111(0x258),'name':_0x52d111(0x661)},{'category':_0x52d111(0x258),'name':'ทฤษฎีบทพื้นฐานของแคลคูลัส'},{'category':'แคลคูลัสเบื้องต้น','name':_0x52d111(0x4cc)},{'category':_0x52d111(0x2eb),'name':_0x52d111(0x379)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x52d111(0x502)},{'category':'เวกเตอร์และเมทริกซ์\x20(เสริม)','name':_0x52d111(0x3f9)},{'category':_0x52d111(0x2eb),'name':_0x52d111(0x61f)},{'category':_0x52d111(0x2eb),'name':'อินเวอร์สของเมทริกซ์'},{'category':_0x52d111(0x2eb),'name':_0x52d111(0x550)},{'category':_0x52d111(0x2eb),'name':'แก้ระบบสมการด้วยเมทริกซ์'},{'category':'คณิตการเงิน/บูรณาการ','name':_0x52d111(0x53d)},{'category':_0x52d111(0xe3),'name':'ดอกเบี้ยทบต้น'},{'category':_0x52d111(0xe3),'name':_0x52d111(0x4c7)},{'category':'คณิตการเงิน/บูรณาการ','name':_0x52d111(0x6cf)},{'category':_0x52d111(0xe3),'name':_0x52d111(0x119)},{'category':_0x52d111(0x4a0),'name':'ค่าความจริง/ตารางค่าความจริง'},{'category':_0x52d111(0x4a0),'name':'รูปแบบการให้เหตุผล'},{'category':'ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','name':_0x52d111(0xf0)}];function renderTopicCheckboxes(){const _0x538f70=_0x52d111,_0x6222ee=document[_0x538f70(0x7d2)](_0x538f70(0x61c));if(!_0x6222ee)return;const _0x149c7e=allMathTopics,_0x9a5246=customMathTopics[_0x538f70(0x2ba)](_0x4b932f=>({'id':_0x4b932f['id'],'category':'หัวข้อที่สร้างเอง','name':_0x4b932f[_0x538f70(0x121)]})),_0x5c5e83=[..._0x149c7e,..._0x9a5246],_0x44de10=_0x5c5e83[_0x538f70(0x2ab)]((_0x1177ca,_0x5f59da)=>{const _0x2d8cf9=_0x538f70;return!_0x1177ca[_0x5f59da[_0x2d8cf9(0xd4)]]&&(_0x1177ca[_0x5f59da[_0x2d8cf9(0xd4)]]=[]),_0x1177ca[_0x5f59da[_0x2d8cf9(0xd4)]]['push'](_0x5f59da),_0x1177ca;},{});let _0x566d96='';const _0x4227fd=['หัวข้อที่สร้างเอง',...Object[_0x538f70(0x35e)](_0x44de10)[_0x538f70(0x48e)](_0x46fd3d=>_0x46fd3d!==_0x538f70(0x187))];for(const _0x4a21aa of _0x4227fd){if(_0x44de10[_0x4a21aa]){const _0x560e41=_0x4a21aa===_0x538f70(0x187),_0xb5d689=_0x560e41?_0x538f70(0x183):'fas\x20fa-bookmark',_0x23601f=_0x560e41?_0x538f70(0x329):_0x538f70(0x6ae);_0x566d96+='<div\x20class=\x22mb-3\x20topic-category\x22>',_0x566d96+=_0x538f70(0x4a3)+_0x23601f+_0x538f70(0x254)+_0xb5d689+'\x20mr-2\x22></i>'+_0x4a21aa+_0x538f70(0x193),_0x44de10[_0x4a21aa][_0x538f70(0x651)](_0x10f5cf=>{const _0x4ea146=_0x538f70,_0x3fe6b5=!!_0x10f5cf['id'],_0x35a96c=_0x3fe6b5?_0x4ea146(0x310)+_0x10f5cf['id']+_0x4ea146(0x733)+_0x10f5cf['id']+'\x22\x20class=\x22delete-custom-topic-btn\x20text-gray-400\x20hover:text-red-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-edit\x20hidden\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x10f5cf['id']+'\x22\x20class=\x22save-custom-topic-btn\x20text-gray-400\x20hover:text-green-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x10f5cf['id']+'\x22\x20class=\x22cancel-edit-topic-btn\x20text-gray-400\x20hover:text-gray-800\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'';_0x566d96+=_0x4ea146(0x7b2)+(_0x10f5cf['id']||'')+_0x4ea146(0x274)+_0x10f5cf[_0x4ea146(0x121)]+'\x22\x20class=\x22h-4\x20w-4\x20rounded\x20border-gray-300\x20text-indigo-600\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20topic-name-display\x22>'+_0x10f5cf['name']+_0x4ea146(0x80c)+(_0x3fe6b5?_0x4ea146(0x348)+_0x10f5cf[_0x4ea146(0x121)]+'\x22>':'')+_0x4ea146(0x401)+_0x35a96c+_0x4ea146(0x6ed);}),_0x566d96+=_0x538f70(0x318);}}_0x6222ee[_0x538f70(0x1da)]=_0x566d96||_0x538f70(0x479),_0x6222ee[_0x538f70(0x6d0)](_0x538f70(0x7b1),updateSelectedTopicsCount),_0x6222ee['addEventListener'](_0x538f70(0x7b1),updateSelectedTopicsCount);}async function handleUpdateCustomTopic(_0x2b3ba6,_0x4fd2eb){const _0x589fc0=_0x52d111;if(!_0x2b3ba6||!_0x4fd2eb['trim']()){showMessage(_0x589fc0(0x794));return;}try{const _0x53dfa1=doc(db,_0x589fc0(0x5fb)+appId+_0x589fc0(0x633),_0x2b3ba6);await updateDoc(_0x53dfa1,{'name':_0x4fd2eb[_0x589fc0(0x74c)]()}),showMessage(_0x589fc0(0x5cb));}catch(_0x28c541){console[_0x589fc0(0x403)](_0x589fc0(0x461),_0x28c541),showMessage(_0x589fc0(0x6f0));}}function toggleTopicEditMode(_0xd8eff5,_0x2db853){const _0x2ad9d4=_0x52d111;if(!_0xd8eff5)return;const _0x429d91=_0xd8eff5[_0x2ad9d4(0x7df)]('.topic-name-display'),_0x556b4f=_0xd8eff5[_0x2ad9d4(0x7df)](_0x2ad9d4(0x77d)),_0x918487=_0xd8eff5[_0x2ad9d4(0x7df)](_0x2ad9d4(0x58d)),_0x259732=_0xd8eff5[_0x2ad9d4(0x7df)](_0x2ad9d4(0x658));_0x429d91[_0x2ad9d4(0x21b)][_0x2ad9d4(0x324)](_0x2ad9d4(0x79f),_0x2db853),_0x556b4f[_0x2ad9d4(0x21b)][_0x2ad9d4(0x324)](_0x2ad9d4(0x79f),!_0x2db853),_0x918487[_0x2ad9d4(0x21b)][_0x2ad9d4(0x324)](_0x2ad9d4(0x79f),_0x2db853),_0x259732[_0x2ad9d4(0x21b)][_0x2ad9d4(0x324)](_0x2ad9d4(0x79f),!_0x2db853),_0x2db853&&(_0x556b4f[_0x2ad9d4(0x12f)](),_0x556b4f[_0x2ad9d4(0x2d6)]());}function updateSelectedTopicsCount(){const _0xb40a92=_0x52d111,_0x1cde8b=document['getElementById']('math-topics-checkbox-container'),_0x4f026e=_0x1cde8b[_0xb40a92(0x78c)](_0xb40a92(0x1a1))['length'],_0x34d9de=document['getElementById']('selected-topics-count');_0x4f026e>0x0?_0x34d9de[_0xb40a92(0x645)]=_0xb40a92(0x50d)+_0x4f026e+_0xb40a92(0x57e):_0x34d9de[_0xb40a92(0x645)]='';}const sarabunBase64='';let db,auth,userId,customMathTopics=[],currentMode=_0x52d111(0xcb),currentProjectId=null,currentProjectData=null,currentQuizData=null,currentDisplayedQuiz=null,currentSubmissions=[],quizLeaderboardSortBy=_0x52d111(0x10b),quizLeaderboardSortOrder=_0x52d111(0x131),currentStudentName=null,currentStudentProjectData=null,currentPresentationSlide=0x0,allProjects=[],allQuizzesGlobal=[],selectedGlobalQuizId=null,allQuizzes=[],starredQuizzes=[],chartInstances={},unsubscribeProjectsListener=null,unsubscribeStudentsListener=null,unsubscribeQuizzesListener=null,unsubscribeSubmissionsListener=null,unsubscribeStudentProfilesListener=null,confirmAction=null,actionTargetId=null,selectedFile=null,draggedSvgElement=null,svgOffset={'x':0x0,'y':0x0},quizTimerInterval=null,perQuestionTimerInterval=null,quizStartTime=null,currentQuestionIndex=0x0,studentAnswersPerQuestion=[],currentLiveGameId=null,currentLiveGamePin=null,unsubscribeLiveGameListener=null,lastRenderedAdminQuestionIndex=-0x1;const BADGES={'PERFECT_SCORE':{'id':'perfect_score','name':_0x52d111(0x1d9),'description':_0x52d111(0x5df),'icon':_0x52d111(0x2b7)},'QUICK_THINKER':{'id':_0x52d111(0x524),'name':_0x52d111(0x5ed),'description':_0x52d111(0x497),'icon':'fa-bolt\x20text-blue-500'},'ON_FIRE':{'id':_0x52d111(0x587),'name':_0x52d111(0x370),'description':'ตอบถูก\x203\x20ข้อติดต่อกัน','icon':_0x52d111(0x3db)},'FIRST_TRY_ACE':{'id':_0x52d111(0x613),'name':_0x52d111(0x3c9),'description':'ทำคะแนนเต็มในการทำครั้งแรก','icon':_0x52d111(0x3ab)},'COMEBACK_KING':{'id':_0x52d111(0x7cd),'name':_0x52d111(0x5d4),'description':'สอบตกในครั้งแรก\x20แต่กลับมาสอบผ่านได้','icon':'fa-shield-alt\x20text-gray-600'},'SPECIALIST':{'id':_0x52d111(0x40e),'name':_0x52d111(0x315),'description':_0x52d111(0x2b2),'icon':_0x52d111(0x326)},'PERSEVERANCE':{'id':_0x52d111(0x454),'name':_0x52d111(0x1fd),'description':_0x52d111(0xbc),'icon':'fa-dumbbell\x20text-gray-700'}},firebaseConfig={'apiKey':_0x52d111(0xc1),'authDomain':'ai-quiz-app-aefee.firebaseapp.com','projectId':_0x52d111(0x4ce),'storageBucket':_0x52d111(0x3eb),'messagingSenderId':'274192258111','appId':_0x52d111(0x489),'measurementId':_0x52d111(0x559)},appId=typeof __app_id!=='undefined'?__app_id:'ai-quiz-generator-v3',adminView=document[_0x52d111(0x7d2)](_0x52d111(0x168)),studentView=document[_0x52d111(0x7d2)](_0x52d111(0x2ac)),projectDashboardView=document['getElementById'](_0x52d111(0x2b5)),projectDetailView=document[_0x52d111(0x7d2)](_0x52d111(0x757)),quizResultsView=document[_0x52d111(0x7d2)](_0x52d111(0x510)),projectList=document[_0x52d111(0x7d2)](_0x52d111(0x695)),noProjectsMsg=document['getElementById'](_0x52d111(0x610)),projectTitle=document[_0x52d111(0x7d2)]('project-title'),projectIdDisplay=document[_0x52d111(0x7d2)](_0x52d111(0x554)),studentList=document[_0x52d111(0x7d2)](_0x52d111(0x144)),messageModal=document[_0x52d111(0x7d2)]('message-modal'),modalMessage=document['getElementById'](_0x52d111(0x428)),createProjectModal=document[_0x52d111(0x7d2)](_0x52d111(0x6bc)),adminPasswordModal=document['getElementById']('admin-password-modal'),confirmationModal=document[_0x52d111(0x7d2)]('confirmation-modal'),userIdDisplay=document[_0x52d111(0x7d2)](_0x52d111(0x3c8)),topicTab=document['getElementById']('topic-tab'),textTab=document['getElementById'](_0x52d111(0x6d1)),topicInputArea=document[_0x52d111(0x7d2)]('topic-input-area'),textInputArea=document[_0x52d111(0x7d2)](_0x52d111(0x395)),manageTab=document[_0x52d111(0x7d2)](_0x52d111(0x516)),resultsTab=document['getElementById'](_0x52d111(0x280)),leaderboardTab=document[_0x52d111(0x7d2)](_0x52d111(0x6da)),manageTabContent=document['getElementById'](_0x52d111(0x267)),resultsTabContent=document[_0x52d111(0x7d2)]('results-tab-content'),leaderboardTabContent=document['getElementById']('leaderboard-tab-content'),projectQuizzesList=document[_0x52d111(0x7d2)](_0x52d111(0x384)),fileTab=document[_0x52d111(0x7d2)](_0x52d111(0x367)),fileInputArea=document[_0x52d111(0x7d2)](_0x52d111(0x198)),fileUploadInput=document['getElementById'](_0x52d111(0x13a)),worksheetTab=document[_0x52d111(0x7d2)](_0x52d111(0x404)),worksheetInputArea=document[_0x52d111(0x7d2)](_0x52d111(0x7f0)),generateWorksheetBtn=document[_0x52d111(0x7d2)](_0x52d111(0x508)),studentInitialView=document[_0x52d111(0x7d2)](_0x52d111(0x22d)),studentNameSelectionView=document[_0x52d111(0x7d2)](_0x52d111(0x607)),studentQuizArea=document[_0x52d111(0x7d2)](_0x52d111(0x374)),studentResultArea=document[_0x52d111(0x7d2)]('student-result-area'),studentReadingArea=document['getElementById'](_0x52d111(0x4ac)),loadQuizBtn=document[_0x52d111(0x7d2)](_0x52d111(0x4e1)),startQuizBtn=document[_0x52d111(0x7d2)](_0x52d111(0x202)),studentJoinGameView=document[_0x52d111(0x7d2)](_0x52d111(0x1b6)),presentationModal=document[_0x52d111(0x7d2)](_0x52d111(0x10c)),renameQuizModal=document['getElementById']('rename-quiz-modal'),moveQuizModal=document[_0x52d111(0x7d2)](_0x52d111(0x5e0)),quizSettingsModal=document['getElementById']('quiz-settings-modal'),quizStatusModal=document[_0x52d111(0x7d2)](_0x52d111(0x688)),liveGameView=document[_0x52d111(0x7d2)](_0x52d111(0x2d2));function handleAutoFixLatex(){const _0x41a101=_0x52d111,_0x503616=document[_0x41a101(0x7d2)](_0x41a101(0x468))||document,_0x33d222=_0x503616[_0x41a101(0x78c)]([_0x41a101(0x138),_0x41a101(0x5f4),'[contenteditable=\x22true\x22]','[role=\x22textbox\x22]',_0x41a101(0x4c9),_0x41a101(0x25b),_0x41a101(0x724),_0x41a101(0x73d),_0x41a101(0x1df)][_0x41a101(0x589)](','));let _0x1d0a90=0x0;const _0x2a1a5a=_0x36a657=>_0x41a101(0x796)in _0x36a657?String(_0x36a657[_0x41a101(0x796)]):_0x36a657[_0x41a101(0x75e)]!==undefined?_0x36a657[_0x41a101(0x75e)]:_0x36a657[_0x41a101(0x645)]||'',_0x5352f0=(_0x5a520b,_0x4803ea)=>{const _0x2a7791=_0x41a101;if(_0x2a7791(0x796)in _0x5a520b){_0x5a520b['value']=_0x4803ea;return;}if(_0x5a520b[_0x2a7791(0x7df)]&&_0x5a520b['querySelector'](_0x2a7791(0x182)))return;if(_0x5a520b[_0x2a7791(0x75e)]!==undefined)_0x5a520b['innerText']=_0x4803ea;else _0x5a520b['textContent']=_0x4803ea;},_0x4da537=_0xc17c63=>_0xc17c63[_0x41a101(0x36d)](/\u00A0/g,'\x20')[_0x41a101(0x36d)](/\u200B/g,'')['replace'](/\r\n?/g,'\x0a'),_0x4336c5=/[\^_\\]|\b(?:frac|dfrac|tfrac|sqrt|text|times|cdot|div|leq|geq|le|ge|neq|pm|approx|sin|cos|tan|log|ln|sum|prod|binom|overline|underline|left|right|ext|circ|deg)\b|[°×÷≤≥≠±·√∑]/,_0x1b8e5b=_0x4f5d00=>/^\s*[+-]?(?:\d+(?:\.\d+)?|\.\d+)\s*$/['test'](_0x4f5d00),_0x1546fb=_0x3dfe27=>{const _0x33026b=_0x41a101,_0x43804c=(_0x3dfe27[_0x33026b(0x184)](/\{/g)||[])[_0x33026b(0x426)],_0x5589c3=(_0x3dfe27['match'](/\}/g)||[])['length'];if(_0x43804c>_0x5589c3)_0x3dfe27=_0x3dfe27+'}'[_0x33026b(0x31e)](_0x43804c-_0x5589c3);return _0x3dfe27;},_0x4e4656=_0x39bbc5=>{const _0x520d20=_0x41a101;let _0x17dd1e=_0x39bbc5['trim']();const _0x372e8f=[_0x520d20(0x572),_0x520d20(0x300),_0x520d20(0xe0),_0x520d20(0x4f4),'text',_0x520d20(0x1a7),_0x520d20(0x285),'div','leq',_0x520d20(0x2b1),'le','ge',_0x520d20(0x7d4),'pm','approx','sin','cos',_0x520d20(0x5a9),_0x520d20(0x294),'ln',_0x520d20(0x17d),_0x520d20(0x720),_0x520d20(0x140),_0x520d20(0x11d),_0x520d20(0x2c1),'overline',_0x520d20(0x504),_0x520d20(0x696),_0x520d20(0x778)];_0x17dd1e=_0x17dd1e[_0x520d20(0x36d)](new RegExp(_0x520d20(0x130)+_0x372e8f[_0x520d20(0x589)]('|')+')\x5cb)','g'),'\x5c'),_0x372e8f[_0x520d20(0x651)](_0x3b95b6=>{const _0xe2c364=_0x520d20;_0x17dd1e=_0x17dd1e[_0xe2c364(0x36d)](new RegExp(_0xe2c364(0x62b)+_0x3b95b6+'\x5cb','g'),(_0x4b8610,_0x3a8c3d)=>_0x3a8c3d+'\x5c'+_0x3b95b6);});const _0x35a3c3=[[/×/g,'\x5ctimes'],[/·/g,_0x520d20(0x41f)],[/÷/g,_0x520d20(0x443)],[/≤/g,_0x520d20(0x647)],[/≥/g,_0x520d20(0xeb)],[/≠/g,'\x5cneq'],[/±/g,'\x5cpm'],[/∑/g,'\x5csum'],[/−/g,'-']];_0x35a3c3[_0x520d20(0x651)](([_0x2e5acc,_0x30256e])=>{const _0x10b911=_0x520d20;_0x17dd1e=_0x17dd1e[_0x10b911(0x36d)](_0x2e5acc,_0x30256e);}),_0x17dd1e=_0x17dd1e[_0x520d20(0x36d)](/√\s*\(([^)]*)\)/g,_0x520d20(0x540)),_0x17dd1e=_0x17dd1e[_0x520d20(0x36d)](/√\s*([A-Za-z0-9]+)/g,'\x5csqrt{$1}'),_0x17dd1e=_0x17dd1e[_0x520d20(0x36d)](/(^|[^\\])\bimes\b/g,_0x520d20(0x73e))[_0x520d20(0x36d)](/(^|[^\\])\b(?:rac|\/frac)\b/g,_0x520d20(0x3f8))[_0x520d20(0x36d)](/(^|[^\\])ext\{/g,_0x520d20(0x2bc))[_0x520d20(0x36d)](/(^|[^\\])ext\(/g,_0x520d20(0x48b))['replace'](/\\text\(([^)]*)\)/g,_0x520d20(0x7a2))[_0x520d20(0x36d)](/\s\\frac/g,'\x5cfrac'),_0x17dd1e=_0x17dd1e[_0x520d20(0x36d)](/(^|[^\w.])([A-Za-z]|\d+)\s*\/\s*([A-Za-z]|\d+)(?![\w/])/g,(_0x490865,_0x279a6b,_0x5177b6,_0x581ae4)=>_0x279a6b+_0x520d20(0x151)+_0x5177b6+'}{'+_0x581ae4+'}'),_0x17dd1e=_0x17dd1e['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s+([^\s{}]+)/g,_0x520d20(0x629))[_0x520d20(0x36d)](/\\(?:dfrac|tfrac|frac)\s*\{([^}]*)\}\s*([A-Za-z0-9+\-*/.]+)/g,_0x520d20(0x629))['replace'](/\\(?:dfrac|tfrac|frac)\s+([^\s{}]+)\s*\{([^}]*)\}/g,_0x520d20(0x629)),[[/(\d+)\s*\^\s*\\?text\{o\}\s*\\?text?\{?C\}?/g,_0x520d20(0x1fc)],[/(\d+)\s*\^\s*\\?ext\{o\}\s*C/g,_0x520d20(0x1fc)],[/(\d+)\s*\^\s*\\?ext\(o\)\s*C/g,_0x520d20(0x1fc)],[/(\d+)\s*\^\s*o\s*C\b/g,_0x520d20(0x1fc)],[/(\d+)\s*\^\s*\\?circ\s*C/g,_0x520d20(0x1fc)],[/(\d+)\s*°\s*C/g,_0x520d20(0x1fc)],[/(\d+)\s*°(?!\s*\\?text\{C\})/g,_0x520d20(0x562)],[/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,_0x520d20(0x1fc)]][_0x520d20(0x651)](([_0x37650c,_0x1ccd1a])=>{const _0x2bbdf3=_0x520d20;_0x17dd1e=_0x17dd1e[_0x2bbdf3(0x36d)](_0x37650c,_0x1ccd1a);}),_0x17dd1e=_0x17dd1e[_0x520d20(0x36d)](/(\d+)\s*%/g,_0x520d20(0x10d)),_0x17dd1e=_0x17dd1e[_0x520d20(0x36d)](/([A-Za-z0-9\)])\^\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,_0x520d20(0x4c5))[_0x520d20(0x36d)](/([A-Za-z0-9\)])_\s*([-+]?\d+|[A-Za-z])(?!\s*\{)/g,'$1_{$2}')[_0x520d20(0x36d)](/\{\{([^\{\}]+)\}\}/g,_0x520d20(0x391)),['sin',_0x520d20(0x50f),'tan',_0x520d20(0x294),'ln'][_0x520d20(0x651)](_0x4ac31a=>{const _0x375f62=_0x520d20;_0x17dd1e=_0x17dd1e[_0x375f62(0x36d)](new RegExp('(^|[^\x5c\x5c])\x5cb'+_0x4ac31a+_0x375f62(0x5d9),'g'),(_0x370aea,_0x14b9eb)=>_0x14b9eb+'\x5c'+_0x4ac31a+'(');});const _0x3c1f4e=(_0x17dd1e['match'](/\\left\b/g)||[])['length'],_0x5070bc=(_0x17dd1e['match'](/\\right\b/g)||[])[_0x520d20(0x426)];if(_0x3c1f4e!==_0x5070bc)_0x17dd1e=_0x17dd1e[_0x520d20(0x36d)](/\\left\b/g,'')[_0x520d20(0x36d)](/\\right\b/g,'');return _0x17dd1e=_0x1546fb(_0x17dd1e),_0x17dd1e;},_0x1a3b67=_0x37eebf=>{const _0x5b5be3=_0x41a101;if(/\$|\\\(|\\\[/[_0x5b5be3(0x39e)](_0x37eebf))return _0x37eebf;if(!_0x4336c5[_0x5b5be3(0x39e)](_0x37eebf))return _0x37eebf;const _0x3cd32e=_0x37eebf[_0x5b5be3(0x184)](/^\s*/)[0x0],_0x656835=_0x37eebf[_0x5b5be3(0x184)](/\s*$/)[0x0],_0x27bada=_0x37eebf[_0x5b5be3(0x74c)]();return _0x3cd32e+'$'+_0x4e4656(_0x27bada)+'$'+_0x656835;},_0x23a85d=_0xa3636d=>_0xa3636d['split'](/(\s(?:และ|หรือ)\s|[,\u3001，;；])/);_0x33d222[_0x41a101(0x651)](_0x59e577=>{const _0x816635=_0x41a101;if(_0x59e577[_0x816635(0x7df)]&&_0x59e577[_0x816635(0x7df)](_0x816635(0x182)))return;const _0x124b86=_0x2a1a5a(_0x59e577);let _0x4977ce=_0x4da537(_0x124b86);_0x4977ce=_0x4977ce[_0x816635(0x36d)](/\$\$([\s\S]*?)\$\$/g,(_0x46a586,_0x400909)=>'$$'+_0x4e4656(_0x400909)+'$$')[_0x816635(0x36d)](/\$([^$]*?)\$/g,(_0x14e311,_0x1bb186)=>'$'+_0x4e4656(_0x1bb186)+'$')[_0x816635(0x36d)](/\\\(([\s\S]*?)\\\)/g,(_0x50c909,_0x5eb81d)=>'\x5c('+_0x4e4656(_0x5eb81d)+'\x5c)')[_0x816635(0x36d)](/\\\[([\s\S]*?)\\\]/g,(_0x1683c1,_0x45e659)=>'\x5c['+_0x4e4656(_0x45e659)+'\x5c]');let _0x527f3f=_0x4977ce,_0x55e822=0x0;const _0x27c301=_0x454f03=>_0x454f03[_0x816635(0x36d)](/S([^S]{0,2000}?)S/g,(_0x3485bd,_0x16243b)=>_0x4336c5['test'](_0x16243b)?'$'+_0x4e4656(_0x16243b)+'$':_0x3485bd);while(_0x55e822++<0x14){const _0x9e88cd=_0x27c301(_0x527f3f);if(_0x9e88cd===_0x527f3f)break;_0x527f3f=_0x9e88cd;}_0x4977ce=_0x527f3f,_0x4977ce=_0x4977ce[_0x816635(0x31d)]('\x0a')['map'](_0x2f823f=>{const _0x53883c=_0x816635;if(!(/[,\u3001，;；]/[_0x53883c(0x39e)](_0x2f823f)||/\s(?:และ|หรือ)\s/['test'](_0x2f823f))||!_0x4336c5[_0x53883c(0x39e)](_0x2f823f))return _0x2f823f;return _0x23a85d(_0x2f823f)[_0x53883c(0x2ba)](_0x1b0972=>{const _0x13d962=_0x53883c;if(/^\s(?:และ|หรือ)\s$/[_0x13d962(0x39e)](_0x1b0972)||/^[,\u3001，;；]$/['test'](_0x1b0972))return _0x1b0972;return _0x1a3b67(_0x1b0972);})[_0x53883c(0x589)]('');})[_0x816635(0x589)]('\x0a'),_0x4977ce=_0x4977ce[_0x816635(0x31d)]('\x0a')[_0x816635(0x2ba)](_0x6c5e91=>{const _0x2ae5d3=_0x816635,_0x2156c9=_0x6c5e91['trim']();if(!_0x2156c9)return _0x6c5e91;const _0x3ae4bc=/\$|\\\(|\\\[/[_0x2ae5d3(0x39e)](_0x2156c9),_0x1d84f3=/(\\[A-Za-z]+|[\^_]|[°×÷≤≥≠±·√∑])/[_0x2ae5d3(0x39e)](_0x2156c9);if(_0x3ae4bc||!_0x1d84f3||_0x1b8e5b(_0x2156c9))return _0x6c5e91;return _0x6c5e91[_0x2ae5d3(0x36d)](_0x2156c9,'$'+_0x4e4656(_0x2156c9)+'$');})[_0x816635(0x589)]('\x0a'),_0x4977ce=_0x4977ce[_0x816635(0x36d)](/(\d+)\s*°\s*C\b/g,(_0x1251e9,_0xbd1c41,_0x3d6374,_0xfa5873)=>{const _0x2267d4=_0x816635,_0x24155d=_0xfa5873[_0x3d6374-0x1];if(_0x24155d==='$'||_0x24155d==='S'||_0x24155d==='\x5c')return _0x1251e9;return'$'+_0xbd1c41+_0x2267d4(0x551);})['replace'](/(\d+)\s*องศา\s*(?:เซลเซียส|C)\b/g,(_0x21352b,_0x21b434,_0x44addb,_0x26db30)=>{const _0x13c5cd=_0x816635,_0x2d1171=_0x26db30[_0x44addb-0x1];if(_0x2d1171==='$'||_0x2d1171==='S'||_0x2d1171==='\x5c')return _0x21352b;return'$'+_0x21b434+_0x13c5cd(0x551);})['replace'](/(\d+)\s*\^\s*(?:\\?ext\{o\}|\\?ext\(o\)|o)\s*C\b/g,(_0x2fe9e2,_0x57d6fb,_0x28bd64,_0x49652a)=>{const _0x5b946c=_0x49652a[_0x28bd64-0x1];if(_0x5b946c==='$'||_0x5b946c==='S'||_0x5b946c==='\x5c')return _0x2fe9e2;return'$'+_0x57d6fb+'^{\x5ccirc}\x5ctext{C}$';}),_0x4977ce=_0x4977ce['replace'](/\$\s*\$/g,'$$'),_0x4977ce!==_0x124b86&&(_0x5352f0(_0x59e577,_0x4977ce),_0x1d0a90++);});if(_0x1d0a90>0x0){showMessage('แก้ไขโค้ดคณิตศาสตร์อัตโนมัติ\x20'+_0x1d0a90+_0x41a101(0xe5));try{if(window[_0x41a101(0x6a7)]&&MathJax['typesetPromise'])MathJax[_0x41a101(0x672)]();window['katex']&&typeof renderMathInElement===_0x41a101(0x70e)&&renderMathInElement(_0x503616,{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]},{'left':'\x5c[','right':'\x5c]','display':!![]}]});}catch(_0x3611b2){}}else showMessage(_0x41a101(0x463));}async function listenForCustomMathTopics(){const _0x338c3f=_0x52d111,_0x1bee9b=collection(db,_0x338c3f(0x5fb)+appId+'/public/data/customMathTopics');onSnapshot(_0x1bee9b,_0x20e0d3=>{const _0x1d4bf9=_0x338c3f;customMathTopics=_0x20e0d3[_0x1d4bf9(0x23a)][_0x1d4bf9(0x2ba)](_0x48f2ec=>({'id':_0x48f2ec['id'],..._0x48f2ec['data']()})),renderTopicCheckboxes();},_0x4dbe8b=>{const _0x398536=_0x338c3f;console[_0x398536(0x403)]('Error\x20listening\x20for\x20custom\x20math\x20topics:',_0x4dbe8b);});}function handleSelectAllTopics(){const _0x3359b2=_0x52d111,_0x4c76f3=document[_0x3359b2(0x7d2)](_0x3359b2(0x61c)),_0x11d6ef=_0x4c76f3[_0x3359b2(0x78c)](_0x3359b2(0x408));_0x11d6ef[_0x3359b2(0x651)](_0x5cfc11=>{const _0x5ba51b=_0x3359b2;_0x5cfc11[_0x5ba51b(0x569)]=!![];}),updateSelectedTopicsCount();}function handleDeselectAllTopics(){const _0x463d84=_0x52d111,_0x469044=document[_0x463d84(0x7d2)](_0x463d84(0x61c)),_0x4ad083=_0x469044['querySelectorAll'](_0x463d84(0x408));_0x4ad083[_0x463d84(0x651)](_0x4e523a=>{const _0x2dada8=_0x463d84;_0x4e523a[_0x2dada8(0x569)]=![];}),updateSelectedTopicsCount();}async function handleDeleteCustomTopic(_0x3180a5){const _0x168ceb=_0x52d111;if(!_0x3180a5)return;try{const _0x5e5795=doc(db,_0x168ceb(0x5fb)+appId+_0x168ceb(0x633),_0x3180a5);await deleteDoc(_0x5e5795),showMessage(_0x168ceb(0x217));}catch(_0x1614f8){console['error']('Error\x20deleting\x20custom\x20topic:',_0x1614f8),showMessage('เกิดข้อผิดพลาดในการลบหัวข้อ');}}async function handleAddCustomMathTopic(){const _0x360957=_0x52d111,_0x4f542f=document[_0x360957(0x7d2)]('custom-math-topic-input'),_0x5384f6=_0x4f542f[_0x360957(0x796)][_0x360957(0x74c)]();if(!_0x5384f6){showMessage('กรุณาป้อนชื่อหัวข้อที่ต้องการเพิ่ม');return;}if(!userId){showMessage(_0x360957(0x31c));return;}try{const _0x2d3365=collection(db,'artifacts/'+appId+_0x360957(0x633));await addDoc(_0x2d3365,{'name':_0x5384f6,'createdAt':serverTimestamp()}),_0x4f542f[_0x360957(0x796)]='',showMessage(_0x360957(0x346)+_0x5384f6+_0x360957(0x4a7));}catch(_0x16a854){console[_0x360957(0x403)](_0x360957(0x2c3),_0x16a854),showMessage(_0x360957(0x325));}}async function initialize(){const _0x56b2e7=_0x52d111;try{const _0x17a67f=initializeApp(firebaseConfig);db=getFirestore(_0x17a67f),auth=getAuth(_0x17a67f),setupAuthListener(),setupEventListeners(),showView('student'),renderTopicCheckboxes(),setupStudentProgressListeners();}catch(_0x581173){console[_0x56b2e7(0x403)](_0x56b2e7(0x26f),_0x581173),showMessage(_0x56b2e7(0x5a8));}}function compareNumericalAnswers(_0xb16a32,_0x526d74){const _0x595efa=_0x52d111,_0x485c0c=String(_0xb16a32)[_0x595efa(0x36d)](',','.')['replace'](/[^\d.-]/g,'')[_0x595efa(0x74c)](),_0x2b20e0=String(_0x526d74)[_0x595efa(0x36d)](',','.')['replace'](/[^\d.-]/g,'')[_0x595efa(0x74c)]();if(_0x485c0c===''||_0x2b20e0==='')return![];const _0x25f155=parseFloat(_0x485c0c),_0x2622be=parseFloat(_0x2b20e0);if(isNaN(_0x25f155)||isNaN(_0x2622be))return![];return Math[_0x595efa(0x277)](_0x25f155-_0x2622be)<0.001;}async function gradeShortAnswer(_0x338189,_0x2c84f0){const _0xb5103a=_0x52d111,_0x14a62c=_0x2c84f0[_0xb5103a(0x474)];if(String(_0x338189)[_0xb5103a(0x74c)]()[_0xb5103a(0x36c)]()===String(_0x14a62c)[_0xb5103a(0x74c)]()[_0xb5103a(0x36c)]())return!![];if(compareNumericalAnswers(_0x338189,_0x14a62c))return!![];return console['log'](_0xb5103a(0x303)),await gradeShortAnswerWithAI(_0x338189,_0x14a62c);}async function revealAnswerForAdmin(_0x4ee51e,_0x4c8201){const _0x191001=_0x52d111;if(document[_0x191001(0x7d2)]('next-live-question-btn'))return;const _0x16143a=doc(db,'artifacts/'+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x16143a,{'questionStatus':_0x191001(0x398)});const _0x28d52a=liveGameView['querySelector'](_0x191001(0x423));_0x28d52a&&(_0x28d52a[_0x191001(0x21b)]['remove'](_0x191001(0x812)),_0x28d52a[_0x191001(0x21b)][_0x191001(0x4df)]('bg-green-300','text-green-900',_0x191001(0x362),_0x191001(0x26b),_0x191001(0x7da)),_0x28d52a['innerHTML']=_0x191001(0x165)+_0x28d52a[_0x191001(0x1da)]);const _0x413eb3=document[_0x191001(0x7d2)](_0x191001(0x192));_0x413eb3&&(_0x413eb3[_0x191001(0x1da)]=_0x191001(0x811)+(_0x4ee51e+0x1===_0x4c8201?_0x191001(0x6b6):_0x191001(0x49d))+_0x191001(0x45f),document['getElementById'](_0x191001(0x3a3))['addEventListener'](_0x191001(0x155),async()=>{const _0x383354=_0x191001,_0x9aab0e=doc(db,'artifacts/'+appId+_0x383354(0x53f),currentLiveGameId),_0x4c1cff=await getDoc(_0x9aab0e);if(!_0x4c1cff[_0x383354(0x237)]())return;const _0x338763=_0x4c1cff[_0x383354(0x406)](),_0x1dc3af={};if(_0x338763[_0x383354(0x147)])for(const _0x120c5c in _0x338763['players']){_0x1dc3af[_0x383354(0x764)+_0x120c5c+_0x383354(0x16e)]=![];}const _0x3c13d1=_0x4ee51e+0x1;_0x3c13d1<_0x4c8201?(_0x1dc3af['currentQuestionIndex']=_0x3c13d1,_0x1dc3af[_0x383354(0x248)]=serverTimestamp(),_0x1dc3af[_0x383354(0x270)]='answering',await updateDoc(_0x9aab0e,_0x1dc3af)):await updateDoc(_0x9aab0e,{'status':'podium'});}));}function setupAuthListener(){onAuthStateChanged(auth,async _0x23e106=>{const _0x555d53=_0x9350;if(_0x23e106){userId=_0x23e106[_0x555d53(0x804)],userIdDisplay[_0x555d53(0x645)]=userId;const _0x513b0d=await loadUserPreferences();_0x513b0d['projectSortOrder']&&(document[_0x555d53(0x7d2)](_0x555d53(0x7f6))[_0x555d53(0x796)]=_0x513b0d[_0x555d53(0x52c)]);if(unsubscribeProjectsListener)unsubscribeProjectsListener();listenForProjects(),listenForStarredQuizzes(),listenForCustomMathTopics();}else await authenticateUser();});}async function saveUserPreference(_0x3b0709,_0x50a4f3){const _0x2f9757=_0x52d111;if(!userId)return;try{const _0x307950=doc(db,_0x2f9757(0x5fb)+appId+_0x2f9757(0x17f)+userId+_0x2f9757(0x4d8)),_0x2cec2e={};_0x2cec2e[_0x3b0709]=_0x50a4f3,await setDoc(_0x307950,_0x2cec2e,{'merge':!![]});}catch(_0x14d299){console[_0x2f9757(0x403)](_0x2f9757(0x365),_0x14d299);}}async function loadUserPreferences(){const _0xd0cf4d=_0x52d111;if(!userId)return{};try{const _0x5223e8=doc(db,_0xd0cf4d(0x5fb)+appId+'/users/'+userId+_0xd0cf4d(0x4d8)),_0x5f1986=await getDoc(_0x5223e8);if(_0x5f1986[_0xd0cf4d(0x237)]())return _0x5f1986[_0xd0cf4d(0x406)]();return{};}catch(_0x4db29f){return console[_0xd0cf4d(0x403)](_0xd0cf4d(0x3dd),_0x4db29f),{};}}function showPodiumView(_0x1ef6a9){const _0x49bc3a=_0x52d111,_0x5c8e98=Object[_0x49bc3a(0x52e)](_0x1ef6a9)[_0x49bc3a(0x2ba)](([_0xf3c636,_0x50fde1])=>({'name':_0xf3c636,'score':_0x50fde1[_0x49bc3a(0x743)]||0x0,'badges':_0x50fde1[_0x49bc3a(0x21c)]||[]}));_0x5c8e98[_0x49bc3a(0x18d)]((_0x35e21a,_0x509e71)=>{const _0x20fbe6=_0x49bc3a,_0x29d41e=_0x509e71[_0x20fbe6(0x743)]-_0x35e21a[_0x20fbe6(0x743)];if(_0x29d41e!==0x0)return _0x29d41e;return(_0x509e71[_0x20fbe6(0x21c)][_0x20fbe6(0x426)]||0x0)-(_0x35e21a[_0x20fbe6(0x21c)][_0x20fbe6(0x426)]||0x0);});const _0x2aefb0=_0x41fc78=>{const _0x49b931=_0x49bc3a;if(!_0x41fc78||_0x41fc78['length']===0x0)return'';const _0xfecd94={'quick_thinker':'⚡️','on_fire':'🔥'};return _0x49b931(0x158)+_0x41fc78[_0x49b931(0x2ba)](_0x2dc427=>_0xfecd94[_0x2dc427]||'')[_0x49b931(0x589)]('')+_0x49b931(0x318);},_0x405116=_0x5c8e98[_0x49bc3a(0x81d)](0x3),_0x316d1f=_0x405116[_0x49bc3a(0x426)]>0x0?_0x49bc3a(0x7b3)+_0x405116['map']((_0xcd2d21,_0x16e7c2)=>_0x49bc3a(0x6b0)+(_0x16e7c2+0x4)+_0x49bc3a(0x48a)+_0xcd2d21[_0x49bc3a(0x121)]+_0x49bc3a(0x650)+_0xcd2d21[_0x49bc3a(0x743)]+_0x49bc3a(0x261))[_0x49bc3a(0x589)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'',_0x535d43='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-4xl\x20font-bold\x20mb-8\x22>สรุปผลการแข่งขัน!\x20<i\x20class=\x22fas\x20fa-trophy\x20text-yellow-300\x22></i></h2>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-end\x20justify-center\x20gap-4\x20w-full\x20max-w-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5c8e98[0x1]?_0x49bc3a(0x3c2)+_0x5c8e98[0x1][_0x49bc3a(0x121)]+_0x49bc3a(0x7d6)+_0x2aefb0(_0x5c8e98[0x1][_0x49bc3a(0x21c)])+_0x49bc3a(0x71b)+_0x5c8e98[0x1][_0x49bc3a(0x743)]+_0x49bc3a(0x4ca):'<div\x20class=\x22flex-1\x22></div>')+_0x49bc3a(0x29a)+(_0x5c8e98[0x0]?_0x49bc3a(0x4dc)+_0x5c8e98[0x0][_0x49bc3a(0x121)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2aefb0(_0x5c8e98[0x0]['badges'])+_0x49bc3a(0x595)+_0x5c8e98[0x0][_0x49bc3a(0x743)]+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-500\x20text-yellow-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-48\x20flex\x20items-center\x20justify-center\x20text-6xl\x22>1</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x49bc3a(0x548))+_0x49bc3a(0x29a)+(_0x5c8e98[0x2]?_0x49bc3a(0x35f)+_0x5c8e98[0x2][_0x49bc3a(0x121)]+_0x49bc3a(0x7d6)+_0x2aefb0(_0x5c8e98[0x2][_0x49bc3a(0x21c)])+_0x49bc3a(0x71b)+_0x5c8e98[0x2][_0x49bc3a(0x743)]+'\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-amber-700\x20text-amber-100\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-24\x20flex\x20items-center\x20justify-center\x20text-4xl\x22>3</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':_0x49bc3a(0x548))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x316d1f+_0x49bc3a(0x363)+(currentMode==='admin'?_0x49bc3a(0x345):'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x20text-lg\x22>ขอบคุณที่ร่วมสนุก!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+_0x49bc3a(0x2a4);liveGameView[_0x49bc3a(0x1da)]=_0x535d43,currentMode==='admin'&&document['getElementById'](_0x49bc3a(0x31b))['addEventListener'](_0x49bc3a(0x155),async()=>{const _0x48a736=_0x49bc3a,_0x43e1f3=doc(db,_0x48a736(0x5fb)+appId+_0x48a736(0x53f),currentLiveGameId);await deleteDoc(_0x43e1f3),showView('admin-dashboard');});}async function handleStartLiveRace(_0x30b79e){const _0x4e715d=_0x52d111;let _0x1159e1=allQuizzes[_0x4e715d(0x314)](_0x3aae5a=>_0x3aae5a['id']===_0x30b79e);if(!_0x1159e1){const _0xa94b60=doc(db,_0x4e715d(0x5fb)+appId+_0x4e715d(0x737),_0x30b79e),_0x449c58=await getDoc(_0xa94b60);if(!_0x449c58[_0x4e715d(0x237)]()){showMessage(_0x4e715d(0x6de));return;}_0x1159e1={'id':_0x449c58['id'],..._0x449c58['data']()};}currentQuizData=getShuffledQuiz(_0x1159e1);const _0xd43f10=_0x1159e1['projectId']||currentProjectId||null,_0x1d6340=Math[_0x4e715d(0x615)](0x3e8+Math[_0x4e715d(0x38b)]()*0x2328)['toString']();currentLiveGamePin=_0x1d6340;try{const _0x460b19=await addDoc(collection(db,_0x4e715d(0x5fb)+appId+_0x4e715d(0x53f)),{'quizId':_0x30b79e,'projectId':_0xd43f10,'status':_0x4e715d(0x593),'currentQuestionIndex':-0x1,'players':{},'gamePin':_0x1d6340,'createdAt':serverTimestamp()});currentLiveGameId=_0x460b19['id'],showAdminLobbyView(_0x1d6340,_0x1159e1['topic']),listenForLiveGameUpdates();}catch(_0x5f542b){console['error'](_0x4e715d(0x7a6),_0x5f542b),showMessage('เกิดข้อผิดพลาดในการสร้างห้องเกม');}}async function handleShowStudentRankings(){const _0xa21081=_0x52d111,_0x69344f=document[_0xa21081(0x7df)](_0xa21081(0x768));_0x69344f&&(_0x69344f['innerHTML']=_0xa21081(0x341));const _0x3f2f16=document[_0xa21081(0x7df)](_0xa21081(0x6e5));_0x3f2f16&&(_0x3f2f16[_0xa21081(0x1da)]=_0xa21081(0x6b5));const _0x496ecd=document['getElementById'](_0xa21081(0xdf));_0x496ecd['classList']['remove'](_0xa21081(0x79f)),document[_0xa21081(0x7d2)](_0xa21081(0x15f))[_0xa21081(0x70c)]=()=>_0x496ecd[_0xa21081(0x21b)][_0xa21081(0x4df)](_0xa21081(0x79f));const _0x5931c7=document[_0xa21081(0x7d2)](_0xa21081(0x7ad)),_0x5dd061=document[_0xa21081(0x7d2)]('student-project-leaderboard-tab'),_0x306a83=document[_0xa21081(0x7d2)](_0xa21081(0x802)),_0x2efb92=document[_0xa21081(0x7d2)](_0xa21081(0x2b0));_0x5931c7[_0xa21081(0x70c)]=()=>{const _0x474dd2=_0xa21081;_0x5931c7[_0x474dd2(0x21b)][_0x474dd2(0x4df)](_0x474dd2(0x38a)),_0x5dd061[_0x474dd2(0x21b)][_0x474dd2(0x218)](_0x474dd2(0x38a)),_0x306a83[_0x474dd2(0x21b)][_0x474dd2(0x218)]('hidden'),_0x2efb92['classList']['add'](_0x474dd2(0x79f));},_0x5dd061[_0xa21081(0x70c)]=()=>{const _0x582bdc=_0xa21081;_0x5dd061[_0x582bdc(0x21b)][_0x582bdc(0x4df)](_0x582bdc(0x38a)),_0x5931c7[_0x582bdc(0x21b)]['remove'](_0x582bdc(0x38a)),_0x2efb92[_0x582bdc(0x21b)]['remove'](_0x582bdc(0x79f)),_0x306a83['classList'][_0x582bdc(0x4df)](_0x582bdc(0x79f));};try{const _0x3f7e00=collection(db,'artifacts/'+appId+_0xa21081(0x378)+currentQuizData['id']+_0xa21081(0x55e)),_0xa38f8e=await getDocs(_0x3f7e00),_0x4a76b2=_0xa38f8e[_0xa21081(0x23a)][_0xa21081(0x2ba)](_0x1aa342=>_0x1aa342[_0xa21081(0x406)]());renderQuizLeaderboard(_0x4a76b2,currentQuizData,_0xa21081(0x7e6));const _0x4b49a8=collection(db,_0xa21081(0x5fb)+appId+_0xa21081(0x522)+currentQuizData[_0xa21081(0x5d8)]+_0xa21081(0x5d1)),_0xa27e4b=await getDocs(_0x4b49a8),_0x519548=_0xa27e4b[_0xa21081(0x23a)][_0xa21081(0x2ba)](_0x134372=>_0x134372[_0xa21081(0x406)]());renderLeaderboard(_0x519548,_0xa21081(0x43c));}catch(_0x482bc6){console['error'](_0xa21081(0x6c4),_0x482bc6),showMessage(_0xa21081(0x5dc));}}async function handleSaveToBank(_0x4344e5){const _0x17c5ba=_0x52d111,_0x298b82=_0x4344e5['currentTarget'],_0x56696a=_0x298b82[_0x17c5ba(0x3c3)][_0x17c5ba(0x25e)],_0x1471c7=currentQuizData[_0x17c5ba(0x194)][_0x56696a];if(!userId){showMessage('ไม่พบข้อมูลผู้ใช้');return;}try{const _0xee6799={..._0x1471c7,'originalTopic':currentQuizData[_0x17c5ba(0xf7)],'savedAt':serverTimestamp()},_0x24f5b0=collection(db,_0x17c5ba(0x5fb)+appId+'/users/'+userId+_0x17c5ba(0x253));await addDoc(_0x24f5b0,_0xee6799),showMessage(_0x17c5ba(0x3d7)),_0x298b82[_0x17c5ba(0x21b)]['remove'](_0x17c5ba(0x78a)),_0x298b82[_0x17c5ba(0x21b)][_0x17c5ba(0x4df)]('text-green-600'),_0x298b82[_0x17c5ba(0x681)]=!![];}catch(_0x58a1eb){console[_0x17c5ba(0x403)]('Error\x20saving\x20to\x20question\x20bank:',_0x58a1eb),showMessage('เกิดข้อผิดพลาดในการบันทึก');}}function listenForStarredQuizzes(){const _0x48216b=_0x52d111;if(!userId)return;const _0x45baea=collection(db,_0x48216b(0x5fb)+appId+'/public/data/quizzes'),_0x175dde=query(_0x45baea,where(_0x48216b(0x11e),'==',!![]));onSnapshot(_0x175dde,_0x4f47b1=>{const _0x3fd342=_0x48216b;starredQuizzes=_0x4f47b1['docs'][_0x3fd342(0x2ba)](_0x1a13cb=>({'id':_0x1a13cb['id'],..._0x1a13cb['data']()})),renderProjects();},_0x2612dc=>{const _0x2cc1c1=_0x48216b;console['error'](_0x2cc1c1(0x66c),_0x2612dc);});}function exportQuizAsWorksheetPDF(){const _0x59d1ad=_0x52d111;if(!currentQuizData||!currentQuizData['questions']){showMessage('ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน');return;}const _0x27c4a6=currentQuizData,_0x252758=window[_0x59d1ad(0x5ea)]('',_0x59d1ad(0x4f9)),_0x1ea91e=_0x54f7b1=>String[_0x59d1ad(0x7ae)](0x41+_0x54f7b1),_0x2cdd90=_0x59d1ad(0x1ec)+_0x27c4a6[_0x59d1ad(0xf7)]+_0x59d1ad(0x6a3)+_0x27c4a6[_0x59d1ad(0xf7)]+_0x59d1ad(0x73b)+_0x27c4a6[_0x59d1ad(0x194)][_0x59d1ad(0x2ba)]((_0x43e409,_0x25e0aa)=>{const _0xc888db=_0x59d1ad;let _0x375555='';const _0x1b3a31=_0x43e409[_0xc888db(0x2e1)]||_0x27c4a6[_0xc888db(0x3a7)];switch(_0x1b3a31){case _0xc888db(0x4a6):case _0xc888db(0x1b1):_0x375555='<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>'+_0x43e409[_0xc888db(0x417)][_0xc888db(0x2ba)]((_0x317885,_0x3ab826)=>_0xc888db(0x791)+_0x1ea91e(_0x3ab826)+'.\x20'+_0x317885+_0xc888db(0x674))['join'](_0xc888db(0x54f))+_0xc888db(0x318);break;case'true_false':_0x375555=_0xc888db(0x189);break;default:_0x375555='<div\x20class=\x22answer-space\x22></div>';break;}return _0xc888db(0x4cb)+(_0x25e0aa+0x1)+_0xc888db(0x480)+(_0x43e409['stem']||_0x43e409[_0xc888db(0x421)])+_0xc888db(0x772)+(_0x43e409[_0xc888db(0x2ee)]?_0xc888db(0x7cb)+_0x43e409[_0xc888db(0x2ee)]+_0xc888db(0x318):'')+_0xc888db(0x61b)+_0x375555+_0xc888db(0x4b5);})[_0x59d1ad(0x589)]('')+_0x59d1ad(0x16c);_0x252758['document']['write'](_0x2cdd90),_0x252758[_0x59d1ad(0x5ac)]['close'](),_0x252758[_0x59d1ad(0x4a2)]=function(){setTimeout(()=>{_0x252758['print']();},0x5dc);};}function exportQuizAsTutorPDF(){const _0x4d58a6=_0x52d111;if(!currentQuizData||!currentQuizData[_0x4d58a6(0x194)]){showMessage(_0x4d58a6(0x34f));return;}const _0x1a3aa7=currentQuizData,_0x536a42=window['open']('',_0x4d58a6(0x4f9)),_0x5e362b=_0x7d7063=>String[_0x4d58a6(0x7ae)](0x41+_0x7d7063),_0x2f9b60='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>เอกสารติว:\x20'+_0x1a3aa7[_0x4d58a6(0xf7)]+_0x4d58a6(0x1cf)+_0x1a3aa7[_0x4d58a6(0x194)][_0x4d58a6(0x2ba)]((_0x1e3878,_0x5e4fbc)=>{const _0x13a8b9=_0x4d58a6;let _0x2fa9d5='';const _0x5c7d86=_0x1e3878['questionType']||_0x1a3aa7['quizType'];switch(_0x5c7d86){case _0x13a8b9(0x4a6):case _0x13a8b9(0x1b1):_0x2fa9d5=_0x13a8b9(0x6c3)+_0x1e3878[_0x13a8b9(0x417)]['map']((_0x19079f,_0x1f40f2)=>_0x13a8b9(0x4f3)+_0x5e362b(_0x1f40f2)+'.\x20'+_0x19079f+_0x13a8b9(0x3a9))['join'](_0x13a8b9(0x54f))+_0x13a8b9(0x3bb);break;case _0x13a8b9(0x560):_0x2fa9d5=_0x13a8b9(0x789);break;default:_0x2fa9d5='';break;}return _0x13a8b9(0x5a6)+_0x1a3aa7[_0x13a8b9(0xf7)]+_0x13a8b9(0x13b)+(_0x5e4fbc+0x1)+'.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x22>'+(_0x1e3878[_0x13a8b9(0x4c1)]||_0x1e3878[_0x13a8b9(0x421)])+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1e3878['imageCode']?'<div\x20class=\x22my-6\x22>'+_0x1e3878[_0x13a8b9(0x2ee)]+_0x13a8b9(0x318):'')+_0x13a8b9(0x61b)+_0x2fa9d5+_0x13a8b9(0x3b6);})[_0x4d58a6(0x589)]('')+_0x4d58a6(0xfa);_0x536a42[_0x4d58a6(0x5ac)][_0x4d58a6(0x66a)](_0x2f9b60),_0x536a42['document'][_0x4d58a6(0x1f8)](),_0x536a42[_0x4d58a6(0x4a2)]=function(){setTimeout(()=>{const _0x55fe44=_0x9350;_0x536a42[_0x55fe44(0x62c)]();},0x5dc);};}async function handleToggleStarQuiz(_0x147662){const _0x3b1a97=_0x52d111,_0x1b97be=doc(db,_0x3b1a97(0x5fb)+appId+'/public/data/quizzes',_0x147662);try{const _0x5a7653=await getDoc(_0x1b97be);if(_0x5a7653[_0x3b1a97(0x237)]()){const _0x180b92=_0x5a7653[_0x3b1a97(0x406)]()['isStarred']||![];await updateDoc(_0x1b97be,{'isStarred':!_0x180b92});}}catch(_0x311231){console[_0x3b1a97(0x403)](_0x3b1a97(0x56f),_0x311231),showMessage(_0x3b1a97(0x44c));}}async function displayQuestionBank(){const _0x5ddd0a=_0x52d111,_0xc7b8be=document[_0x5ddd0a(0x7d2)](_0x5ddd0a(0x570));_0xc7b8be[_0x5ddd0a(0x1da)]='<div\x20class=\x22loader\x20mx-auto\x22></div>';try{const _0x36a35c=collection(db,_0x5ddd0a(0x5fb)+appId+'/users/'+userId+_0x5ddd0a(0x253)),_0x2dae44=query(_0x36a35c),_0x40352f=await getDocs(_0x2dae44);if(_0x40352f[_0x5ddd0a(0x813)]){_0xc7b8be['innerHTML']=_0x5ddd0a(0x1fe);return;}let _0x378da7=_0x40352f['docs']['map'](_0x5768c2=>{const _0x2f6ecc=_0x5ddd0a,_0x2b025d=_0x5768c2[_0x2f6ecc(0x406)](),_0xd1d794=_0x5768c2['id'];return _0x2f6ecc(0x1f6)+JSON['stringify'](_0x2b025d)+_0x2f6ecc(0x521)+(_0x2b025d[_0x2f6ecc(0x421)]||_0x2b025d[_0x2f6ecc(0x4c1)])+_0x2f6ecc(0x20a)+_0x2b025d[_0x2f6ecc(0x247)]+_0x2f6ecc(0x125);})[_0x5ddd0a(0x589)]('');_0xc7b8be[_0x5ddd0a(0x1da)]=_0x5ddd0a(0xf6)+_0x378da7+_0x5ddd0a(0x481),document[_0x5ddd0a(0x7d2)]('create-from-bank-btn')['addEventListener'](_0x5ddd0a(0x155),createQuizFromBank);}catch(_0x435229){console[_0x5ddd0a(0x403)](_0x5ddd0a(0xce),_0x435229),_0xc7b8be['innerHTML']=_0x5ddd0a(0x1de);}}function showAdminLiveQuestionView(_0x56e65a,_0x1e952d,_0x270846){const _0x4a5154=_0x52d111,_0x1f6333=_0x56e65a[_0x4a5154(0x2e1)]||currentQuizData[_0x4a5154(0x3a7)];let _0x5ad249='';if(_0x1f6333===_0x4a5154(0x4a6)||_0x1f6333===_0x4a5154(0x560)){const _0x3f74e0=_0x1f6333===_0x4a5154(0x560)?[_0x4a5154(0x60e),_0x4a5154(0x7d8)]:_0x56e65a[_0x4a5154(0x417)],_0x385a13=_0x1f6333===_0x4a5154(0x560)?_0x56e65a[_0x4a5154(0x380)]?0x0:0x1:_0x56e65a['correctAnswerIndex'];_0x5ad249=_0x3f74e0['map']((_0x6db354,_0xf689ad)=>_0x4a5154(0x1c9)+(_0xf689ad===_0x385a13)+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x6db354+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')['join']('');}else{if(_0x1f6333===_0x4a5154(0x7cc)){const _0x101491=_0x56e65a[_0x4a5154(0x1af)]||[];_0x5ad249=_0x101491[_0x4a5154(0x2ba)](_0x50a2ec=>_0x4a5154(0x1c9)+(_0x50a2ec===_0x56e65a[_0x4a5154(0x1bd)])+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x50a2ec+_0x4a5154(0x289))[_0x4a5154(0x589)]('');}}const _0x513baf=_0x56e65a[_0x4a5154(0x4c1)]||_0x56e65a[_0x4a5154(0x421)],_0xbf4e5=_0x4a5154(0x1fa)+(_0x1e952d+0x1)+_0x4a5154(0x14e)+_0x270846+_0x4a5154(0x483)+_0x513baf+_0x4a5154(0x3a1)+_0x5ad249+_0x4a5154(0x543);liveGameView[_0x4a5154(0x1da)]=_0xbf4e5;window[_0x4a5154(0x6a7)]&&MathJax[_0x4a5154(0x672)]&&MathJax[_0x4a5154(0x672)]([liveGameView]);const _0x1cc753=document[_0x4a5154(0x7d2)](_0x4a5154(0x192));document[_0x4a5154(0x7d2)](_0x4a5154(0x5fa))[_0x4a5154(0x37f)](_0x4a5154(0x155),async()=>{const _0x175e31=_0x4a5154,_0xfb548c=doc(db,_0x175e31(0x5fb)+appId+_0x175e31(0x53f),currentLiveGameId);await updateDoc(_0xfb548c,{'questionStatus':_0x175e31(0x398)});const _0x59f4d4=liveGameView['querySelector'](_0x175e31(0x423));_0x59f4d4&&(_0x59f4d4[_0x175e31(0x21b)][_0x175e31(0x218)]('bg-white/30'),_0x59f4d4[_0x175e31(0x21b)][_0x175e31(0x4df)](_0x175e31(0x458),_0x175e31(0x245),_0x175e31(0x362),_0x175e31(0x26b),_0x175e31(0x7da)),_0x59f4d4['innerHTML']=_0x175e31(0x165)+_0x59f4d4['innerHTML']),_0x1cc753[_0x175e31(0x1da)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1e952d+0x1===_0x270846?'ดูสรุปผล':_0x175e31(0x49d))+_0x175e31(0x45f),document[_0x175e31(0x7d2)](_0x175e31(0x3a3))[_0x175e31(0x37f)](_0x175e31(0x155),async()=>{const _0x2ab93a=_0x175e31,_0xd2e777=doc(db,_0x2ab93a(0x5fb)+appId+_0x2ab93a(0x53f),currentLiveGameId),_0xcf7faa=await getDoc(_0xd2e777);if(!_0xcf7faa[_0x2ab93a(0x237)]())return;const _0x51cef7=_0xcf7faa[_0x2ab93a(0x406)](),_0x119b5e={};if(_0x51cef7[_0x2ab93a(0x147)])for(const _0xadcb44 in _0x51cef7['players']){_0x119b5e[_0x2ab93a(0x764)+_0xadcb44+_0x2ab93a(0x16e)]=![];}const _0x57ecd1=_0x1e952d+0x1;_0x57ecd1<_0x270846?(_0x119b5e[_0x2ab93a(0xb7)]=_0x57ecd1,_0x119b5e[_0x2ab93a(0x248)]=serverTimestamp(),_0x119b5e[_0x2ab93a(0x270)]='answering',await updateDoc(_0xd2e777,_0x119b5e)):await updateDoc(_0xd2e777,{'status':_0x2ab93a(0x6db)});});}),document[_0x4a5154(0x7d2)](_0x4a5154(0x36a))['addEventListener'](_0x4a5154(0x155),async()=>{const _0x12b1ae=_0x4a5154,_0x2127a6=doc(db,_0x12b1ae(0x5fb)+appId+'/public/data/liveGames',currentLiveGameId);await deleteDoc(_0x2127a6),showView(_0x12b1ae(0x1ab));});}function showStudentLiveQuestionView(_0x121f3d,_0x5940e2,_0x2abcda){const _0x1318b2=_0x52d111,_0x1d6ec3=_0x121f3d[_0x1318b2(0x2e1)]||currentQuizData[_0x1318b2(0x3a7)];let _0x3d5568='';if(_0x1d6ec3===_0x1318b2(0x4a6)||_0x1d6ec3==='true_false'){const _0x3249b0=_0x1d6ec3===_0x1318b2(0x560)?[_0x1318b2(0x60e),_0x1318b2(0x7d8)]:_0x121f3d['options'];_0x3d5568=_0x3249b0[_0x1318b2(0x2ba)]((_0x5db3d6,_0x4d01db)=>_0x1318b2(0x447)+_0x4d01db+_0x1318b2(0x1b5)+_0x5db3d6+_0x1318b2(0x7f4))['join']('');}else{if(_0x1d6ec3===_0x1318b2(0x7cc)){const _0xef4727=_0x121f3d[_0x1318b2(0x1af)]||[];_0x3d5568=_0xef4727[_0x1318b2(0x2ba)]((_0x3698aa,_0x384f4b)=>_0x1318b2(0x447)+_0x384f4b+_0x1318b2(0x1b5)+_0x3698aa+_0x1318b2(0x7f4))[_0x1318b2(0x589)]('');}else _0x1d6ec3===_0x1318b2(0x605)&&(_0x3d5568='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x20flex\x20flex-col\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22live-short-answer-input\x22\x20class=\x22w-full\x20max-w-lg\x20p-3\x20border\x20rounded-lg\x20text-gray-800\x20text-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณ...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22live-submit-short-answer-btn\x22\x20class=\x22bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-paper-plane\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}const _0x2d50e4=_0x121f3d[_0x1318b2(0x4c1)]||_0x121f3d['questionText'],_0x513e98=_0x1318b2(0x518)+(_0x5940e2+0x1)+'\x20/\x20'+_0x2abcda+_0x1318b2(0x5d3)+_0x2d50e4+'</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22live-options-container\x22\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3d5568+_0x1318b2(0x56d);liveGameView['innerHTML']=_0x513e98;window[_0x1318b2(0x6a7)]&&MathJax[_0x1318b2(0x672)]&&MathJax[_0x1318b2(0x672)]([liveGameView]);const _0x3d5ce3=document[_0x1318b2(0x7d2)](_0x1318b2(0x238));_0x3d5ce3&&_0x3d5ce3[_0x1318b2(0x37f)](_0x1318b2(0x155),()=>{const _0x5ddc40=_0x1318b2,_0x10c508=document[_0x5ddc40(0x7d2)](_0x5ddc40(0x400))['value'];handleLiveAnswer(_0x10c508,_0x121f3d);}),document[_0x1318b2(0x7d2)](_0x1318b2(0x42a))[_0x1318b2(0x37f)]('click',_0x1241c5=>{const _0x545fcb=_0x1318b2,_0x443b52=_0x1241c5[_0x545fcb(0x222)][_0x545fcb(0xee)](_0x545fcb(0x1e0));if(_0x443b52){const _0x1da959=parseInt(_0x443b52[_0x545fcb(0x3c3)][_0x545fcb(0x25e)]);handleLiveAnswer(_0x1da959,_0x121f3d);}});}async function handleLiveAnswer(_0x13bd17,_0x3aa4be){const _0x3d8986=_0x52d111;document[_0x3d8986(0x78c)](_0x3d8986(0x491))[_0x3d8986(0x651)](_0x2c40f8=>_0x2c40f8[_0x3d8986(0x681)]=!![]);const _0x55a278=_0x3aa4be[_0x3d8986(0x2e1)]||currentQuizData[_0x3d8986(0x3a7)];let _0x2d8479=![];if(_0x55a278===_0x3d8986(0x605)){const _0x21080c=(_0x13bd17||'')[_0x3d8986(0x275)]();_0x2d8479=await gradeShortAnswer(_0x21080c,_0x3aa4be);}else{if(_0x55a278===_0x3d8986(0x4a6))_0x2d8479=_0x13bd17===_0x3aa4be[_0x3d8986(0x4b4)];else{if(_0x55a278==='true_false'){const _0x4f2f37=_0x3aa4be['correctAnswer'];_0x2d8479=_0x13bd17===0x0&&_0x4f2f37||_0x13bd17===0x1&&!_0x4f2f37;}else{if(_0x55a278===_0x3d8986(0x7cc)){const _0x440ee6=_0x3aa4be[_0x3d8986(0x1af)][_0x13bd17];_0x2d8479=_0x440ee6===_0x3aa4be['correctResponse'];}}}}const _0x4cb08b=doc(db,_0x3d8986(0x5fb)+appId+'/public/data/liveGames',currentLiveGameId),_0x41e81d=await getDoc(_0x4cb08b);if(!_0x41e81d[_0x3d8986(0x237)]())return;const _0x3ef3b7=_0x41e81d['data'](),_0x24cc92=_0x3ef3b7[_0x3d8986(0x147)][currentStudentName];let _0x5520d3=_0x24cc92[_0x3d8986(0x21c)]||[],_0x3394c3=_0x24cc92[_0x3d8986(0x15d)]||0x0;const _0x462b4d={};let _0x4df5a4=0x0;if(_0x3ef3b7[_0x3d8986(0x248)]){const _0x169bcd=_0x3ef3b7[_0x3d8986(0x248)][_0x3d8986(0x2b6)](),_0x3037cb=new Date()-_0x169bcd;if(_0x2d8479){const _0x200431=0x3e8,_0x2fe87d=0x1f4,_0x6adb3d=0x4e20;let _0xcd0341=_0x3037cb/_0x6adb3d;if(_0xcd0341>0x1)_0xcd0341=0x1;const _0x50e9b3=Math['round'](_0xcd0341*_0x2fe87d);_0x4df5a4=_0x200431-_0x50e9b3,_0x3037cb<=0x1388&&!_0x5520d3[_0x3d8986(0x3ff)]('quick_thinker')&&_0x5520d3[_0x3d8986(0x5d6)](_0x3d8986(0x524));}}_0x2d8479?(_0x3394c3++,_0x3394c3===0x3&&!_0x5520d3['includes'](_0x3d8986(0x587))&&(_0x5520d3['push']('on_fire'),_0x3394c3=0x0)):_0x3394c3=0x0,_0x2d8479&&(_0x462b4d[_0x3d8986(0x764)+currentStudentName+_0x3d8986(0x55d)]=increment(_0x4df5a4)),_0x462b4d[_0x3d8986(0x764)+currentStudentName+_0x3d8986(0x606)]=_0x5520d3,_0x462b4d['players.'+currentStudentName+'.correctStreak']=_0x3394c3,_0x462b4d['players.'+currentStudentName+_0x3d8986(0x16e)]=!![],_0x462b4d[_0x3d8986(0x764)+currentStudentName+_0x3d8986(0x475)]=_0x2d8479,_0x462b4d['players.'+currentStudentName+_0x3d8986(0x779)]=_0x4df5a4,await updateDoc(_0x4cb08b,_0x462b4d),liveGameView[_0x3d8986(0x1da)]=_0x3d8986(0x68b);}function createQuizFromBank(){const _0x662a33=_0x52d111,_0x4bc2f3=document[_0x662a33(0x78c)]('#bank-input-area\x20input[type=\x22checkbox\x22]:checked');if(_0x4bc2f3[_0x662a33(0x426)]===0x0){showMessage(_0x662a33(0x102));return;}const _0x598000=[];_0x4bc2f3[_0x662a33(0x651)](_0x342375=>{const _0x551efd=_0x662a33;_0x598000[_0x551efd(0x5d6)](JSON['parse'](_0x342375[_0x551efd(0x796)]));});const _0x307e75={'topic':'แบบทดสอบจากคลังส่วนตัว','questions':_0x598000};displayGeneratedQuiz(_0x307e75);}function showAdminLobbyView(_0x5b58f6,_0x221c44){const _0x45bb68=_0x52d111;showView('live-game');const _0x1bacad='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-2xl\x20font-bold\x20mb-2\x22>เริ่มเกม:\x20'+_0x221c44+_0x45bb68(0x2af)+_0x5b58f6+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-md\x20bg-white/20\x20p-4\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-semibold\x20mb-2\x22>ผู้เล่นที่เข้าร่วม\x20(<span\x20id=\x22player-count\x22>0</span>)</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22player-list-lobby\x22\x20class=\x22flex\x20flex-wrap\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-game-btn\x22\x20class=\x22mt-6\x20bg-green-500\x20hover:bg-green-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x20transition-transform\x20hover:scale-105\x20disabled:bg-gray-400\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x22></i>\x20เริ่มการแข่งขัน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';liveGameView['innerHTML']=_0x1bacad,document[_0x45bb68(0x7d2)](_0x45bb68(0x652))['addEventListener'](_0x45bb68(0x155),async()=>{const _0x3f39d3=_0x45bb68;if(!currentQuizData||!currentQuizData[_0x3f39d3(0x194)]||currentQuizData[_0x3f39d3(0x194)]['length']===0x0){showMessage(_0x3f39d3(0x7eb));return;}try{const _0x46f5bf=doc(db,_0x3f39d3(0x5fb)+appId+'/public/data/liveGames',currentLiveGameId);await updateDoc(_0x46f5bf,{'status':_0x3f39d3(0x34b),'currentQuestionIndex':0x0,'questionDisplayedAt':serverTimestamp()});const _0x19845a=currentQuizData[_0x3f39d3(0x194)][0x0],_0x40647a=currentQuizData[_0x3f39d3(0x194)][_0x3f39d3(0x426)];showAdminLiveQuestionView(_0x19845a,0x0,_0x40647a);}catch(_0x4da180){console[_0x3f39d3(0x403)](_0x3f39d3(0x47a),_0x4da180),showMessage(_0x3f39d3(0x79c));}});}async function openGlobalLiveModal(){const _0x4bf1cb=_0x52d111;if(allQuizzesGlobal[_0x4bf1cb(0x426)]===0x0){const _0x145917=await getDocs(collection(db,_0x4bf1cb(0x5fb)+appId+_0x4bf1cb(0x737)));allQuizzesGlobal=_0x145917[_0x4bf1cb(0x23a)][_0x4bf1cb(0x2ba)](_0x23f044=>({'id':_0x23f044['id'],..._0x23f044[_0x4bf1cb(0x406)]()}));}renderGlobalQuizList(''),document[_0x4bf1cb(0x7d2)](_0x4bf1cb(0x7e2))[_0x4bf1cb(0x21b)]['remove']('hidden');}async function openQuizBankModal(){const _0x10f3ee=_0x52d111;if(allQuizzesGlobal['length']===0x0){const _0x4e4936=await getDocs(collection(db,_0x10f3ee(0x5fb)+appId+'/public/data/quizzes'));allQuizzesGlobal=_0x4e4936[_0x10f3ee(0x23a)]['map'](_0x2ab6a9=>({'id':_0x2ab6a9['id'],..._0x2ab6a9['data']()}));}renderQuizBankList(''),document[_0x10f3ee(0x7d2)]('quiz-bank-modal')[_0x10f3ee(0x21b)][_0x10f3ee(0x218)](_0x10f3ee(0x79f));}function renderQuizBankList(_0x92984d=''){const _0x5970d4=_0x52d111,_0x1afb12=document[_0x5970d4(0x7d2)]('bank-quiz-list'),_0x2da42c=_0x92984d[_0x5970d4(0x36c)]()[_0x5970d4(0x74c)](),_0x53e5bc=allQuizzesGlobal['map'](_0x28d230=>({..._0x28d230,'projectName':allProjects[_0x5970d4(0x314)](_0x28b8f7=>_0x28b8f7['id']===_0x28d230[_0x5970d4(0x5d8)])?.[_0x5970d4(0x288)]||_0x5970d4(0x51f)}))[_0x5970d4(0x48e)](_0x3f39a9=>(_0x3f39a9[_0x5970d4(0xf7)]||'')[_0x5970d4(0x36c)]()['includes'](_0x2da42c)||(_0x3f39a9[_0x5970d4(0x288)]||'')[_0x5970d4(0x36c)]()['includes'](_0x2da42c)||_0x3f39a9['id']['toString']()['includes'](_0x2da42c));document[_0x5970d4(0x7d2)](_0x5970d4(0x290))[_0x5970d4(0x645)]='('+_0x53e5bc[_0x5970d4(0x426)]+_0x5970d4(0x72a),_0x1afb12[_0x5970d4(0x1da)]=_0x53e5bc[_0x5970d4(0x426)]?_0x53e5bc[_0x5970d4(0x2ba)](_0x3f5e20=>_0x5970d4(0x71e)+_0x3f5e20['id']+_0x5970d4(0x55f)+(_0x3f5e20[_0x5970d4(0xf7)]||_0x5970d4(0x784))+_0x5970d4(0x625)+(_0x3f5e20['questions']?.['length']||0x0)+_0x5970d4(0x707)+_0x3f5e20[_0x5970d4(0x288)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x20font-mono\x20mt-1\x22>Quiz\x20ID:\x20'+_0x3f5e20['id']+_0x5970d4(0x556)+_0x3f5e20['id']+'\x22\x20title=\x22สร้างแบบทดสอบคู่ขนาน\x22\x20class=\x22quiz-bank-parallel-btn\x20text-teal-600\x20hover:text-teal-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clone\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22'+_0x3f5e20['id']+_0x5970d4(0x37c)+_0x3f5e20['id']+_0x5970d4(0x3a2))[_0x5970d4(0x589)](''):_0x5970d4(0x680),_0x1afb12[_0x5970d4(0x78c)]('.quiz-bank-item')[_0x5970d4(0x651)](_0x49124f=>{const _0x353183=_0x5970d4;_0x49124f[_0x353183(0x37f)](_0x353183(0x155),()=>{const _0x639197=_0x353183,_0x22d74b=_0x49124f[_0x639197(0x3c3)]['id'];document[_0x639197(0x7d2)](_0x639197(0x60d))[_0x639197(0x21b)]['add'](_0x639197(0x79f)),showQuizDetailView(_0x22d74b);});}),_0x1afb12[_0x5970d4(0x78c)](_0x5970d4(0xd3))[_0x5970d4(0x651)](_0x3ea2b0=>{const _0x1fe797=_0x5970d4;_0x3ea2b0['addEventListener'](_0x1fe797(0x155),_0x444a14=>{const _0x3665be=_0x1fe797;_0x444a14[_0x3665be(0x761)]();const _0x565589=_0x3ea2b0[_0x3665be(0x3c3)]['id'],_0x4b9340=allQuizzesGlobal[_0x3665be(0x314)](_0x53c4c0=>_0x53c4c0['id']===_0x565589);_0x4b9340?(currentQuizData=_0x4b9340,document[_0x3665be(0x7d2)]('quiz-bank-modal')[_0x3665be(0x21b)][_0x3665be(0x4df)](_0x3665be(0x79f)),startAdminTest()):showMessage(_0x3665be(0x6de));});}),_0x1afb12[_0x5970d4(0x78c)]('.quiz-bank-parallel-btn')[_0x5970d4(0x651)](_0x2b5f5c=>{const _0x3c444e=_0x5970d4;_0x2b5f5c[_0x3c444e(0x37f)](_0x3c444e(0x155),_0x2f6fce=>{const _0x127d85=_0x3c444e;_0x2f6fce[_0x127d85(0x761)]();const _0x5c59de=_0x2b5f5c[_0x127d85(0x3c3)]['id'],_0x29a86f=allQuizzesGlobal[_0x127d85(0x314)](_0x1429ae=>_0x1429ae['id']===_0x5c59de);_0x29a86f?(document[_0x127d85(0x7d2)]('quiz-bank-modal')['classList'][_0x127d85(0x4df)](_0x127d85(0x79f)),handleGenerateParallelFromBank(_0x29a86f)):showMessage(_0x127d85(0x6de));});}),_0x1afb12['querySelectorAll'](_0x5970d4(0x373))['forEach'](_0x32275b=>{const _0x41235f=_0x5970d4;_0x32275b[_0x41235f(0x37f)](_0x41235f(0x155),_0x4bd91a=>{const _0x5cda2a=_0x41235f;_0x4bd91a['stopPropagation']();const _0x54a2d0=_0x32275b[_0x5cda2a(0x3c3)]['id'],_0x4ad32c=allQuizzesGlobal[_0x5cda2a(0x314)](_0x199f96=>_0x199f96['id']===_0x54a2d0);_0x4ad32c?(document[_0x5cda2a(0x7d2)](_0x5cda2a(0x60d))[_0x5cda2a(0x21b)]['add'](_0x5cda2a(0x79f)),startPresentation(_0x4ad32c)):showMessage(_0x5cda2a(0x6de));});});}async function handleCompareResults(_0x457a95,_0x2b7f21){const _0x508a71=_0x52d111,_0x62b95=document['getElementById'](_0x508a71(0xca)),_0x3c12a0=document[_0x508a71(0x7d2)](_0x508a71(0x79e)),_0x5f1a3b=document[_0x508a71(0x7d2)](_0x508a71(0x648));document['getElementById']('comparison-overall-tab')[_0x508a71(0x21b)][_0x508a71(0x4df)](_0x508a71(0x38a)),document['getElementById'](_0x508a71(0x583))[_0x508a71(0x21b)]['remove']('active'),_0x3c12a0[_0x508a71(0x21b)][_0x508a71(0x218)]('hidden'),_0x5f1a3b[_0x508a71(0x21b)][_0x508a71(0x4df)]('hidden'),_0x3c12a0[_0x508a71(0x1da)]=_0x508a71(0x397),_0x5f1a3b[_0x508a71(0x1da)]='',_0x62b95['classList'][_0x508a71(0x218)](_0x508a71(0x79f));try{const _0xab9c93=doc(db,_0x508a71(0x5fb)+appId+_0x508a71(0x737),_0x457a95),_0x11eb9e=await getDoc(_0xab9c93);if(!_0x11eb9e[_0x508a71(0x237)]())throw new Error(_0x508a71(0x78d));const _0x426148=_0x11eb9e['data'](),_0x4c427b=_0x426148[_0x508a71(0x194)][_0x508a71(0x426)],_0x222811=collection(db,_0x508a71(0x5fb)+appId+'/public/data/quizzes/'+_0x2b7f21+_0x508a71(0x55e)),_0x20e0e6=collection(db,'artifacts/'+appId+_0x508a71(0x378)+_0x457a95+_0x508a71(0x55e)),[_0x4822eb,_0x312a72]=await Promise[_0x508a71(0x2de)]([getDocs(_0x222811),getDocs(_0x20e0e6)]),_0xd5ec6c=_0x4822eb[_0x508a71(0x23a)]['map'](_0x43c801=>_0x43c801[_0x508a71(0x406)]()),_0x5a9dab=_0x312a72[_0x508a71(0x23a)]['map'](_0x163c7b=>_0x163c7b[_0x508a71(0x406)]()),_0x354ac7=_0xd5ec6c[_0x508a71(0x2ba)](_0x26d744=>_0x26d744['latestScore']),_0x757635=_0x5a9dab[_0x508a71(0x2ba)](_0x1826cd=>_0x1826cd[_0x508a71(0x5a5)]),_0x2a41ec=calculateMeanAndStdDev(_0x354ac7),_0x48988=calculateMeanAndStdDev(_0x757635),_0x34e148=_0x2a41ec[_0x508a71(0x532)],_0x201b42=_0x48988['mean'],_0x2ac81d=_0x201b42-_0x34e148;let _0x1e79f2=_0x508a71(0x1ef)+_0x34e148[_0x508a71(0x122)](0x2)+_0x508a71(0x1a6)+_0x201b42['toFixed'](0x2)+_0x508a71(0x445)+(_0x2ac81d>=0x0?_0x508a71(0x751):_0x508a71(0x3b9))+_0x508a71(0x623)+(_0x2ac81d>=0x0?_0x508a71(0x18e):_0x508a71(0x63e))+_0x508a71(0x39f)+(_0x2ac81d>=0x0?_0x508a71(0xc7):_0x508a71(0x199))+'\x22>'+(_0x2ac81d>=0x0?'+':'')+_0x2ac81d[_0x508a71(0x122)](0x2)+_0x508a71(0x145);_0x3c12a0[_0x508a71(0x1da)]=_0x1e79f2;const _0x1290e3=document['getElementById'](_0x508a71(0x320))[_0x508a71(0x208)]('2d');if(chartInstances[_0x508a71(0x392)])chartInstances['comparison'][_0x508a71(0x7fb)]();chartInstances[_0x508a71(0x392)]=new Chart(_0x1290e3,{'type':_0x508a71(0x3f3),'data':{'labels':[_0x508a71(0x676)],'datasets':[{'label':_0x508a71(0x12d),'data':[_0x34e148],'backgroundColor':'rgba(59,\x20130,\x20246,\x200.7)'},{'label':_0x508a71(0x5bd),'data':[_0x201b42],'backgroundColor':_0x508a71(0x139)}]},'options':{'scales':{'y':{'beginAtZero':!![],'suggestedMax':_0x4c427b}}}});const _0x1dc10a=currentProjectData[_0x508a71(0x636)]||[],_0x545280=_0x1dc10a[_0x508a71(0x2ba)](_0x581827=>{const _0x1ba3a3=_0x508a71,_0x10d32d=_0xd5ec6c[_0x1ba3a3(0x314)](_0x153059=>_0x153059['studentName']===_0x581827),_0x427436=_0x5a9dab[_0x1ba3a3(0x314)](_0x3b053e=>_0x3b053e[_0x1ba3a3(0x219)]===_0x581827),_0x2b78c3=_0x10d32d?_0x10d32d[_0x1ba3a3(0x5a5)]:null,_0x191a5f=_0x427436?_0x427436['latestScore']:null,_0xf8a7e8=_0x2b78c3!==null&&_0x191a5f!==null?_0x191a5f-_0x2b78c3:null,_0x2f6902=_0x2b78c3!==null?calculateZScore(_0x2b78c3,_0x2a41ec[_0x1ba3a3(0x532)],_0x2a41ec[_0x1ba3a3(0x472)]):null,_0x3f9fc6=_0x191a5f!==null?calculateZScore(_0x191a5f,_0x48988[_0x1ba3a3(0x532)],_0x48988[_0x1ba3a3(0x472)]):null,_0x28660c=_0x2f6902!==null?calculateTScore(_0x2f6902):null,_0x4e16e4=_0x3f9fc6!==null?calculateTScore(_0x3f9fc6):null,_0x25985d=_0x28660c!==null&&_0x4e16e4!==null?_0x4e16e4-_0x28660c:null;return{'name':_0x581827,'preScore':_0x2b78c3,'postScore':_0x191a5f,'gain':_0xf8a7e8,'preTScore':_0x28660c,'postTScore':_0x4e16e4,'tGain':_0x25985d};});renderIndividualComparisonTable(_0x545280,_0x5f1a3b);}catch(_0xf03a0a){console['error']('Error\x20comparing\x20results:',_0xf03a0a),_0x3c12a0[_0x508a71(0x1da)]=_0x508a71(0x53e);}}function renderIndividualComparisonTable(_0x92896a,_0x115770){const _0x1080bc=_0x52d111;_0x92896a[_0x1080bc(0x18d)]((_0x176439,_0x4ec787)=>(_0x4ec787[_0x1080bc(0x1b2)]??-Infinity)-(_0x176439['tGain']??-Infinity));let _0xd5ec1c=_0x1080bc(0x58f);_0x92896a[_0x1080bc(0x426)]===0x0?_0xd5ec1c+=_0x1080bc(0x35b):_0x92896a[_0x1080bc(0x651)]((_0x2329e8,_0x51fd4d)=>{const _0x2667d5=_0x1080bc;let _0x4e5adb='-',_0x1fc2ef='';if(_0x2329e8[_0x2667d5(0x49f)]!==null){const _0x53ba7b=_0x2329e8['gain']>0x0?_0x2667d5(0x332):_0x2329e8[_0x2667d5(0x49f)]<0x0?'text-red-600':_0x2667d5(0x5b4),_0x1bfaba=_0x2329e8[_0x2667d5(0x49f)]>0x0?'+':'';_0x4e5adb=_0x2667d5(0x76d)+_0x53ba7b+'\x22>'+_0x1bfaba+_0x2329e8[_0x2667d5(0x49f)]+_0x2667d5(0x3a9);if(_0x2329e8[_0x2667d5(0x49f)]>0x0)_0x1fc2ef=_0x2667d5(0x11f);else _0x2329e8['gain']<0x0?_0x1fc2ef=_0x2667d5(0x2a5):_0x1fc2ef='<span\x20class=\x22text-gray-500\x22\x20title=\x22คงที่\x22>↔️</span>';}let _0x37626f='-';if(_0x2329e8['tGain']!==null){const _0x43fe68=_0x2329e8[_0x2667d5(0x1b2)]>0x0?_0x2667d5(0x332):_0x2329e8['tGain']<0x0?'text-red-600':_0x2667d5(0x5b4),_0x43b5f3=_0x2329e8[_0x2667d5(0x1b2)]>0x0?'+':'';_0x37626f=_0x2667d5(0x76d)+_0x43fe68+'\x22>'+_0x43b5f3+_0x2329e8[_0x2667d5(0x1b2)][_0x2667d5(0x122)](0x2)+'</span>';}_0xd5ec1c+=_0x2667d5(0x216)+(_0x51fd4d+0x1)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-left\x22>'+_0x2329e8[_0x2667d5(0x121)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>'+(_0x2329e8[_0x2667d5(0x30b)]??'-')+_0x2667d5(0x7e5)+(_0x2329e8[_0x2667d5(0x6f7)]??'-')+_0x2667d5(0x5b0)+_0x4e5adb+_0x2667d5(0x6aa)+_0x1fc2ef+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-blue-600\x22>'+(_0x2329e8[_0x2667d5(0x3bc)]?.['toFixed'](0x2)??'-')+_0x2667d5(0x726)+(_0x2329e8['postTScore']?.['toFixed'](0x2)??'-')+_0x2667d5(0x5b0)+_0x37626f+_0x2667d5(0x6e6);}),_0xd5ec1c+=_0x1080bc(0x45c),_0x115770['innerHTML']=_0xd5ec1c;}function handleRenameQuiz(_0x154e79,_0x147cd2){const _0x4f1f11=_0x52d111;actionTargetId=_0x154e79,document[_0x4f1f11(0x7d2)](_0x4f1f11(0x503))[_0x4f1f11(0x796)]=_0x147cd2,renameQuizModal[_0x4f1f11(0x21b)][_0x4f1f11(0x218)](_0x4f1f11(0x79f));}function setupComparisonModalTabs(){const _0x4f5eb2=_0x52d111,_0x5be876=document[_0x4f5eb2(0x7d2)]('comparison-overall-tab'),_0x3fa9a9=document['getElementById'](_0x4f5eb2(0x583)),_0x3a00a3=document[_0x4f5eb2(0x7d2)](_0x4f5eb2(0x79e)),_0x5c4fdf=document[_0x4f5eb2(0x7d2)]('comparison-individual-content');_0x5be876[_0x4f5eb2(0x37f)](_0x4f5eb2(0x155),()=>{const _0x5ac6c9=_0x4f5eb2;_0x5be876[_0x5ac6c9(0x21b)][_0x5ac6c9(0x4df)]('active'),_0x3fa9a9['classList'][_0x5ac6c9(0x218)](_0x5ac6c9(0x38a)),_0x3a00a3['classList'][_0x5ac6c9(0x218)]('hidden'),_0x5c4fdf[_0x5ac6c9(0x21b)][_0x5ac6c9(0x4df)](_0x5ac6c9(0x79f));}),_0x3fa9a9['addEventListener'](_0x4f5eb2(0x155),()=>{const _0x1c54c7=_0x4f5eb2;_0x3fa9a9['classList'][_0x1c54c7(0x4df)](_0x1c54c7(0x38a)),_0x5be876[_0x1c54c7(0x21b)]['remove']('active'),_0x5c4fdf[_0x1c54c7(0x21b)][_0x1c54c7(0x218)](_0x1c54c7(0x79f)),_0x3a00a3[_0x1c54c7(0x21b)]['add']('hidden');});}setupComparisonModalTabs();function renderGlobalQuizList(_0x3a126f=''){const _0x417cbe=_0x52d111,_0x4ebf71=document[_0x417cbe(0x7d2)](_0x417cbe(0x424)),_0x58b2c4=_0x3a126f[_0x417cbe(0x36c)]()[_0x417cbe(0x74c)](),_0x53443e=allQuizzesGlobal[_0x417cbe(0x2ba)](_0x3152b0=>({..._0x3152b0,'projectName':allProjects['find'](_0x5304de=>_0x5304de['id']===_0x3152b0[_0x417cbe(0x5d8)])?.['projectName']||_0x3152b0[_0x417cbe(0x5d8)]}))[_0x417cbe(0x48e)](_0x86235d=>(_0x86235d[_0x417cbe(0xf7)]||'')[_0x417cbe(0x36c)]()[_0x417cbe(0x3ff)](_0x58b2c4)||(_0x86235d[_0x417cbe(0x288)]||'')[_0x417cbe(0x36c)]()[_0x417cbe(0x3ff)](_0x58b2c4));document[_0x417cbe(0x7d2)](_0x417cbe(0xd8))['textContent']='('+_0x53443e[_0x417cbe(0x426)]+_0x417cbe(0x72a),_0x4ebf71[_0x417cbe(0x1da)]=_0x53443e[_0x417cbe(0x426)]?_0x53443e['map'](_0x42b10d=>_0x417cbe(0x6cb)+_0x42b10d['id']+_0x417cbe(0x386)+(_0x42b10d['topic']||_0x417cbe(0x784))+_0x417cbe(0x80d)+(_0x42b10d[_0x417cbe(0x194)]?.[_0x417cbe(0x426)]||0x0)+_0x417cbe(0x499)+_0x42b10d[_0x417cbe(0x288)]+_0x417cbe(0x7c1))[_0x417cbe(0x589)](''):'<div\x20class=\x22p-3\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>',selectedGlobalQuizId=null,document['getElementById'](_0x417cbe(0x3d2))['disabled']=!![],_0x4ebf71['querySelectorAll'](_0x417cbe(0x1b8))[_0x417cbe(0x651)](_0x2da8a7=>{const _0x191ed7=_0x417cbe;_0x2da8a7[_0x191ed7(0x37f)](_0x191ed7(0x155),()=>{const _0x32856e=_0x191ed7;selectedGlobalQuizId=_0x2da8a7[_0x32856e(0x3c3)]['id'],_0x4ebf71[_0x32856e(0x78c)](_0x32856e(0x352))[_0x32856e(0x651)](_0x3031a8=>_0x3031a8[_0x32856e(0x21b)][_0x32856e(0x218)]('bg-purple-50',_0x32856e(0x441),_0x32856e(0x795))),_0x2da8a7[_0x32856e(0x21b)]['add'](_0x32856e(0x23f),'ring-2',_0x32856e(0x795)),document[_0x32856e(0x7d2)](_0x32856e(0x3d2))[_0x32856e(0x681)]=![];});});}function listenForLiveGameUpdates(){const _0x367fd4=_0x52d111;if(unsubscribeLiveGameListener)unsubscribeLiveGameListener();const _0x513020=doc(db,_0x367fd4(0x5fb)+appId+_0x367fd4(0x53f),currentLiveGameId);unsubscribeLiveGameListener=onSnapshot(_0x513020,_0x7638ed=>{const _0x12e27f=_0x367fd4;if(!_0x7638ed[_0x12e27f(0x237)]()){showMessage(_0x12e27f(0x5dd)),showView(currentMode);return;}const _0x332b5a=_0x7638ed['data']();!currentQuizData&&_0x332b5a['quizId']&&((async()=>{const _0x22f198=_0x12e27f;try{const _0x280b45=doc(db,'artifacts/'+appId+_0x22f198(0x737),_0x332b5a['quizId']),_0x1d90f7=await getDoc(_0x280b45);_0x1d90f7[_0x22f198(0x237)]()&&(currentQuizData={'id':_0x1d90f7['id'],..._0x1d90f7['data']()});}catch(_0x2eb55f){console['error']('Failed\x20to\x20fetch\x20quiz\x20for\x20admin:',_0x2eb55f);}})());switch(_0x332b5a[_0x12e27f(0x43a)]){case _0x12e27f(0x593):if(currentMode===_0x12e27f(0x7ce)){const _0x27ab2f=_0x332b5a[_0x12e27f(0x147)]?Object[_0x12e27f(0x35e)](_0x332b5a[_0x12e27f(0x147)]):[];document['getElementById'](_0x12e27f(0x67e))[_0x12e27f(0x645)]=_0x27ab2f['length'],document[_0x12e27f(0x7d2)](_0x12e27f(0x71f))[_0x12e27f(0x1da)]=_0x27ab2f[_0x12e27f(0x2ba)](_0x5cd7ac=>'<span\x20class=\x22bg-white/30\x20px-3\x20py-1\x20rounded-full\x20text-sm\x22>'+_0x5cd7ac+'</span>')[_0x12e27f(0x589)]('');const _0x169c84=document[_0x12e27f(0x7d2)](_0x12e27f(0x652));_0x169c84&&(_0x169c84[_0x12e27f(0x681)]=_0x27ab2f[_0x12e27f(0x426)]===0x0);}else showView(_0x12e27f(0x649)),liveGameView[_0x12e27f(0x1da)]=_0x12e27f(0x7a8)+currentStudentName+_0x12e27f(0x276);break;case'question':const _0x406927=_0x332b5a[_0x12e27f(0xb7)];if(currentQuizData&&currentQuizData[_0x12e27f(0x194)][_0x406927]){const _0x31712a=currentQuizData[_0x12e27f(0x194)][_0x406927],_0x29ae91=currentQuizData['questions']['length'];if(currentMode===_0x12e27f(0x7ce)){lastRenderedAdminQuestionIndex!==_0x406927&&(showAdminLiveQuestionView(_0x31712a,_0x406927,_0x29ae91),lastRenderedAdminQuestionIndex=_0x406927);const _0x5a4547=document[_0x12e27f(0x7d2)](_0x12e27f(0x665));if(_0x5a4547&&_0x332b5a[_0x12e27f(0x147)]){const _0x2f5f47=Object[_0x12e27f(0x35e)](_0x332b5a[_0x12e27f(0x147)])['length'],_0x356960=Object['values'](_0x332b5a['players'])[_0x12e27f(0x48e)](_0x268283=>_0x268283[_0x12e27f(0x2b9)]===!![])['length'];_0x5a4547[_0x12e27f(0x645)]=_0x356960+'/'+_0x2f5f47,_0x2f5f47>0x0&&_0x356960===_0x2f5f47&&_0x332b5a[_0x12e27f(0x270)]!==_0x12e27f(0x398)&&revealAnswerForAdmin(_0x406927,_0x29ae91);}}else{const _0xd01fcd=_0x332b5a[_0x12e27f(0x147)][currentStudentName];if(_0x332b5a[_0x12e27f(0x270)]==='revealed'){if(_0xd01fcd[_0x12e27f(0x2b9)]){const _0x4481cb=_0xd01fcd[_0x12e27f(0x632)],_0x5a0817=_0xd01fcd[_0x12e27f(0x711)]||0x0,_0x1799c6=_0x4481cb?'คำตอบถูกต้อง!\x20+'+_0x5a0817+_0x12e27f(0x48d):'คำตอบผิด';liveGameView[_0x12e27f(0x1da)]=_0x12e27f(0x46b)+_0x1799c6+_0x12e27f(0x1d2);}else liveGameView['innerHTML']=_0x12e27f(0x434);}else!_0xd01fcd[_0x12e27f(0x2b9)]&&showStudentLiveQuestionView(_0x31712a,_0x406927,_0x29ae91);}}break;case _0x12e27f(0x6db):showPodiumView(_0x332b5a[_0x12e27f(0x147)]);break;}});}async function authenticateUser(){const _0x5dfe3e=_0x52d111;try{typeof __initial_auth_token!==_0x5dfe3e(0xea)&&__initial_auth_token?await signInWithCustomToken(auth,__initial_auth_token):await signInAnonymously(auth);}catch(_0x56fe89){console[_0x5dfe3e(0x403)](_0x5dfe3e(0x170),_0x56fe89),showMessage(_0x5dfe3e(0x727));}}function showView(_0x22bd48){const _0x43c9a6=_0x52d111,_0x582ea4=[_0x43c9a6(0x168),_0x43c9a6(0x2ac),_0x43c9a6(0x2b5),_0x43c9a6(0x757),_0x43c9a6(0x510),_0x43c9a6(0x2d2),'student-progress-view'];_0x582ea4[_0x43c9a6(0x651)](_0x1ffb9d=>document[_0x43c9a6(0x7d2)](_0x1ffb9d)?.[_0x43c9a6(0x21b)][_0x43c9a6(0x4df)](_0x43c9a6(0x79f)));if(_0x22bd48===_0x43c9a6(0x1ab))adminView[_0x43c9a6(0x21b)]['remove'](_0x43c9a6(0x79f)),projectDashboardView['classList']['remove']('hidden');else{if(_0x22bd48===_0x43c9a6(0xcb))studentView[_0x43c9a6(0x21b)][_0x43c9a6(0x218)](_0x43c9a6(0x79f)),studentInitialView[_0x43c9a6(0x21b)]['remove']('hidden'),studentNameSelectionView[_0x43c9a6(0x21b)][_0x43c9a6(0x4df)](_0x43c9a6(0x79f)),studentQuizArea[_0x43c9a6(0x21b)]['add'](_0x43c9a6(0x79f)),studentResultArea[_0x43c9a6(0x21b)]['add'](_0x43c9a6(0x79f)),studentReadingArea['classList'][_0x43c9a6(0x4df)]('hidden'),studentJoinGameView['classList'][_0x43c9a6(0x4df)](_0x43c9a6(0x79f));else{if(_0x22bd48===_0x43c9a6(0x719))adminView['classList'][_0x43c9a6(0x218)](_0x43c9a6(0x79f)),projectDetailView[_0x43c9a6(0x21b)][_0x43c9a6(0x218)](_0x43c9a6(0x79f));else{if(_0x22bd48==='quiz-results')adminView[_0x43c9a6(0x21b)][_0x43c9a6(0x218)](_0x43c9a6(0x79f)),quizResultsView['classList'][_0x43c9a6(0x218)](_0x43c9a6(0x79f));else _0x22bd48===_0x43c9a6(0x649)&&liveGameView['classList'][_0x43c9a6(0x218)](_0x43c9a6(0x79f));}}}}function showJoinGameView(){const _0x367fdc=_0x52d111;studentInitialView[_0x367fdc(0x21b)][_0x367fdc(0x4df)](_0x367fdc(0x79f)),studentJoinGameView[_0x367fdc(0x21b)]['remove'](_0x367fdc(0x79f));}async function handleSaveVisibilitySettings(){const _0x55d591=_0x52d111;if(!currentProjectId)return;const _0x4c578a=doc(db,'artifacts/'+appId+_0x55d591(0x172),currentProjectId);try{await updateDoc(_0x4c578a,{'settings.showInStudentDashboard':document[_0x55d591(0x7d2)](_0x55d591(0x3d9))[_0x55d591(0x569)],'settings.isPasscodeEnabled':document[_0x55d591(0x7d2)](_0x55d591(0x236))['checked'],'settings.passcode':document[_0x55d591(0x7d2)](_0x55d591(0x5f8))[_0x55d591(0x796)]['trim']()}),showMessage(_0x55d591(0x6f9));}catch(_0x101670){console[_0x55d591(0x403)]('Error\x20saving\x20visibility\x20settings:',_0x101670),showMessage(_0x55d591(0x5f1));}}function setupEventListeners(){const _0x506b2a=_0x52d111;document[_0x506b2a(0x7d2)](_0x506b2a(0x608))['addEventListener'](_0x506b2a(0x155),handleModeSwitch),document[_0x506b2a(0x7d2)](_0x506b2a(0x6fd))[_0x506b2a(0x37f)](_0x506b2a(0x155),handleResetProjectOrder),document[_0x506b2a(0x7d2)](_0x506b2a(0x268))[_0x506b2a(0x37f)]('click',handleSaveVisibilitySettings),document[_0x506b2a(0x7d2)]('add-custom-math-topic-btn')[_0x506b2a(0x37f)](_0x506b2a(0x155),handleAddCustomMathTopic),document[_0x506b2a(0x7d2)]('select-all-topics-btn')['addEventListener'](_0x506b2a(0x155),handleSelectAllTopics),document[_0x506b2a(0x7d2)]('deselect-all-topics-btn')['addEventListener'](_0x506b2a(0x155),handleDeselectAllTopics),document['getElementById'](_0x506b2a(0x74e))['addEventListener'](_0x506b2a(0x155),()=>{const _0x1d0eba=_0x506b2a;currentProjectId=null,currentProjectData=null;if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();showView(_0x1d0eba(0x1ab));}),document[_0x506b2a(0x7d2)]('back-to-project-btn')[_0x506b2a(0x37f)]('click',()=>{const _0xb74489=_0x506b2a;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();showView(_0xb74489(0x719));}),document[_0x506b2a(0x7d2)](_0x506b2a(0x164))[_0x506b2a(0x37f)]('click',()=>{const _0x36b90e=_0x506b2a;showView(_0x36b90e(0x1ab));}),document['getElementById'](_0x506b2a(0x7fa))[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>messageModal['classList'][_0x506b2a(0x4df)](_0x506b2a(0x79f))),document['getElementById'](_0x506b2a(0x7b4))[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>createProjectModal['classList'][_0x506b2a(0x218)](_0x506b2a(0x79f))),document[_0x506b2a(0x7d2)]('cancel-create-project-btn')[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>createProjectModal[_0x506b2a(0x21b)]['add'](_0x506b2a(0x79f))),document[_0x506b2a(0x7d2)](_0x506b2a(0x3cb))['addEventListener'](_0x506b2a(0x155),()=>adminPasswordModal[_0x506b2a(0x21b)]['add'](_0x506b2a(0x79f))),document['getElementById'](_0x506b2a(0x7aa))[_0x506b2a(0x37f)]('click',handleAdminLogin),document[_0x506b2a(0x7d2)](_0x506b2a(0x1f0))['addEventListener'](_0x506b2a(0x333),_0x52af5c=>{const _0x44a130=_0x506b2a;if(_0x52af5c['key']===_0x44a130(0x4d5))handleAdminLogin();}),document['getElementById']('cancel-delete-btn')[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>{const _0x278200=_0x506b2a;confirmationModal['classList'][_0x278200(0x4df)](_0x278200(0x79f)),confirmAction=null;}),document[_0x506b2a(0x7d2)]('confirm-delete-btn')[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>{const _0x49c6a8=_0x506b2a;confirmAction&&confirmAction(),confirmationModal[_0x49c6a8(0x21b)][_0x49c6a8(0x4df)](_0x49c6a8(0x79f)),confirmAction=null;}),document[_0x506b2a(0x7d2)](_0x506b2a(0x415))[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>renameQuizModal['classList'][_0x506b2a(0x4df)](_0x506b2a(0x79f))),document[_0x506b2a(0x7d2)]('confirm-rename-quiz-btn')['addEventListener'](_0x506b2a(0x155),confirmRenameQuiz),document[_0x506b2a(0x7d2)](_0x506b2a(0x716))[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>moveQuizModal['classList'][_0x506b2a(0x4df)](_0x506b2a(0x79f))),document['getElementById'](_0x506b2a(0x58a))[_0x506b2a(0x37f)](_0x506b2a(0x155),confirmMoveQuiz),document['getElementById'](_0x506b2a(0x335))[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>quizSettingsModal[_0x506b2a(0x21b)][_0x506b2a(0x4df)](_0x506b2a(0x79f))),document[_0x506b2a(0x7d2)](_0x506b2a(0x67a))[_0x506b2a(0x37f)](_0x506b2a(0x155),confirmQuizSettings),document[_0x506b2a(0x7d2)](_0x506b2a(0x690))['addEventListener'](_0x506b2a(0x155),()=>quizStatusModal['classList'][_0x506b2a(0x4df)](_0x506b2a(0x79f))),document['getElementById'](_0x506b2a(0x375))['addEventListener']('click',confirmQuizStatus);const _0x3e1656=document['getElementById'](_0x506b2a(0x5c4));document[_0x506b2a(0x7d2)](_0x506b2a(0x541))[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>{const _0x585d37=_0x506b2a;_0x3e1656[_0x585d37(0x21b)][_0x585d37(0x4df)](_0x585d37(0x79f));}),document[_0x506b2a(0x7d2)](_0x506b2a(0x243))['addEventListener']('click',async()=>{const _0x38b84c=_0x506b2a,_0x566754=allQuizzes[_0x38b84c(0x314)](_0x3c495f=>_0x3c495f['id']===actionTargetId);_0x566754?(currentQuizData=_0x566754,exportQuizAsWorksheetPDF()):showMessage(_0x38b84c(0x6de)),_0x3e1656[_0x38b84c(0x21b)][_0x38b84c(0x4df)](_0x38b84c(0x79f));}),document[_0x506b2a(0x7d2)](_0x506b2a(0x4ea))[_0x506b2a(0x37f)](_0x506b2a(0x155),async()=>{const _0x28d6fc=_0x506b2a,_0x57f4fa=allQuizzes['find'](_0x3979f1=>_0x3979f1['id']===actionTargetId);_0x57f4fa?(currentQuizData=_0x57f4fa,exportQuizAsTutorPDF()):showMessage(_0x28d6fc(0x6de)),_0x3e1656[_0x28d6fc(0x21b)][_0x28d6fc(0x4df)](_0x28d6fc(0x79f));}),document[_0x506b2a(0x7d2)](_0x506b2a(0x460))[_0x506b2a(0x37f)]('click',openGlobalLiveModal),document['getElementById']('cancel-global-live-btn')[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>{const _0x4da9fc=_0x506b2a;document[_0x4da9fc(0x7d2)]('global-live-game-modal')[_0x4da9fc(0x21b)][_0x4da9fc(0x4df)](_0x4da9fc(0x79f)),selectedGlobalQuizId=null;}),document[_0x506b2a(0x7d2)](_0x506b2a(0x2f3))[_0x506b2a(0x37f)]('input',_0x84651b=>renderGlobalQuizList(_0x84651b[_0x506b2a(0x222)]['value'])),document[_0x506b2a(0x7d2)](_0x506b2a(0x3d2))[_0x506b2a(0x37f)]('click',()=>{const _0x1d0ddc=_0x506b2a,_0x440fb8=selectedGlobalQuizId;if(!_0x440fb8)return;document[_0x1d0ddc(0x7d2)](_0x1d0ddc(0x7e2))[_0x1d0ddc(0x21b)][_0x1d0ddc(0x4df)](_0x1d0ddc(0x79f)),handleStartLiveRace(_0x440fb8);}),document[_0x506b2a(0x7d2)](_0x506b2a(0xc5))[_0x506b2a(0x37f)]('input',renderProjects),document[_0x506b2a(0x7d2)](_0x506b2a(0x7f6))[_0x506b2a(0x37f)](_0x506b2a(0x7b1),async()=>{const _0x1fb81f=_0x506b2a,_0x5f15a9=document[_0x1fb81f(0x7d2)](_0x1fb81f(0x7f6))[_0x1fb81f(0x796)],_0x24f788=doc(db,_0x1fb81f(0x38c),_0x1fb81f(0x466));try{await setDoc(_0x24f788,{'projectSort':_0x5f15a9},{'merge':!![]});}catch(_0x3d8502){console[_0x1fb81f(0x403)](_0x1fb81f(0x382),_0x3d8502),showMessage('เกิดข้อผิดพลาดในการบันทึกการจัดเรียง');}}),document[_0x506b2a(0x7d2)](_0x506b2a(0x3d5))['addEventListener'](_0x506b2a(0x42c),renderQuizzes),manageTab[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>switchProjectTab('manage')),resultsTab[_0x506b2a(0x37f)]('click',()=>switchProjectTab('results')),leaderboardTab[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>switchProjectTab(_0x506b2a(0x56c))),document[_0x506b2a(0x7d2)](_0x506b2a(0x5ad))[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>switchQuizDetailTab('analytics')),document[_0x506b2a(0x7d2)]('scores-tab-btn')[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>switchQuizDetailTab(_0x506b2a(0x1d7))),document[_0x506b2a(0x7d2)](_0x506b2a(0x79b))[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>switchQuizDetailTab(_0x506b2a(0x388))),document[_0x506b2a(0x7d2)](_0x506b2a(0x18c))['addEventListener']('click',handleAnalyzeClass),generateWorksheetBtn['addEventListener']('click',generateWorksheet);const _0x40d41f=document['getElementById'](_0x506b2a(0x58b)),_0x35328e=document[_0x506b2a(0x7d2)]('link-input-area'),_0x96a8b4=document[_0x506b2a(0x7d2)](_0x506b2a(0x5e3)),_0x5bae7a=document[_0x506b2a(0x7d2)]('blueprint-input-area'),_0x1ab7f1=document[_0x506b2a(0x7d2)](_0x506b2a(0x4fe)),_0x1002c4=document[_0x506b2a(0x7d2)](_0x506b2a(0x292));topicTab[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>{const _0x2b92d4=_0x506b2a;topicTab[_0x2b92d4(0x21b)][_0x2b92d4(0x4df)](_0x2b92d4(0x38a)),textTab['classList'][_0x2b92d4(0x218)](_0x2b92d4(0x38a)),fileTab[_0x2b92d4(0x21b)][_0x2b92d4(0x218)]('active'),worksheetTab[_0x2b92d4(0x21b)][_0x2b92d4(0x218)](_0x2b92d4(0x38a));if(_0x40d41f)_0x40d41f['classList'][_0x2b92d4(0x218)](_0x2b92d4(0x38a));if(_0x96a8b4)_0x96a8b4[_0x2b92d4(0x21b)]['remove'](_0x2b92d4(0x38a));if(_0x1ab7f1)_0x1ab7f1[_0x2b92d4(0x21b)][_0x2b92d4(0x218)](_0x2b92d4(0x38a));topicInputArea['classList'][_0x2b92d4(0x218)](_0x2b92d4(0x79f)),textInputArea[_0x2b92d4(0x21b)][_0x2b92d4(0x4df)]('hidden'),fileInputArea[_0x2b92d4(0x21b)][_0x2b92d4(0x4df)]('hidden'),worksheetInputArea[_0x2b92d4(0x21b)][_0x2b92d4(0x4df)](_0x2b92d4(0x79f));if(_0x35328e)_0x35328e[_0x2b92d4(0x21b)][_0x2b92d4(0x4df)](_0x2b92d4(0x79f));if(_0x5bae7a)_0x5bae7a['classList'][_0x2b92d4(0x4df)](_0x2b92d4(0x79f));if(_0x1002c4)_0x1002c4[_0x2b92d4(0x21b)][_0x2b92d4(0x4df)](_0x2b92d4(0x79f));}),textTab['addEventListener'](_0x506b2a(0x155),()=>{const _0x2becbb=_0x506b2a;textTab['classList']['add'](_0x2becbb(0x38a)),topicTab[_0x2becbb(0x21b)]['remove'](_0x2becbb(0x38a)),fileTab['classList'][_0x2becbb(0x218)](_0x2becbb(0x38a)),worksheetTab['classList'][_0x2becbb(0x218)](_0x2becbb(0x38a));if(_0x40d41f)_0x40d41f[_0x2becbb(0x21b)]['remove']('active');if(_0x96a8b4)_0x96a8b4[_0x2becbb(0x21b)][_0x2becbb(0x218)](_0x2becbb(0x38a));if(_0x1ab7f1)_0x1ab7f1[_0x2becbb(0x21b)][_0x2becbb(0x218)](_0x2becbb(0x38a));textInputArea[_0x2becbb(0x21b)][_0x2becbb(0x218)]('hidden'),topicInputArea['classList'][_0x2becbb(0x4df)](_0x2becbb(0x79f)),fileInputArea['classList'][_0x2becbb(0x4df)]('hidden'),worksheetInputArea[_0x2becbb(0x21b)][_0x2becbb(0x4df)]('hidden');if(_0x35328e)_0x35328e['classList'][_0x2becbb(0x4df)](_0x2becbb(0x79f));if(_0x5bae7a)_0x5bae7a[_0x2becbb(0x21b)][_0x2becbb(0x4df)]('hidden');if(_0x1002c4)_0x1002c4[_0x2becbb(0x21b)]['add']('hidden');}),fileTab[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>{const _0x4f3209=_0x506b2a;fileTab[_0x4f3209(0x21b)][_0x4f3209(0x4df)](_0x4f3209(0x38a)),topicTab['classList'][_0x4f3209(0x218)](_0x4f3209(0x38a)),textTab['classList'][_0x4f3209(0x218)](_0x4f3209(0x38a)),worksheetTab[_0x4f3209(0x21b)][_0x4f3209(0x218)](_0x4f3209(0x38a));if(_0x40d41f)_0x40d41f[_0x4f3209(0x21b)][_0x4f3209(0x218)]('active');if(_0x96a8b4)_0x96a8b4['classList'][_0x4f3209(0x218)]('active');if(_0x1ab7f1)_0x1ab7f1['classList']['remove'](_0x4f3209(0x38a));fileInputArea['classList']['remove'](_0x4f3209(0x79f)),topicInputArea[_0x4f3209(0x21b)][_0x4f3209(0x4df)]('hidden'),textInputArea['classList'][_0x4f3209(0x4df)](_0x4f3209(0x79f)),worksheetInputArea['classList'][_0x4f3209(0x4df)](_0x4f3209(0x79f));if(_0x35328e)_0x35328e[_0x4f3209(0x21b)]['add'](_0x4f3209(0x79f));if(_0x5bae7a)_0x5bae7a[_0x4f3209(0x21b)][_0x4f3209(0x4df)](_0x4f3209(0x79f));if(_0x1002c4)_0x1002c4['classList'][_0x4f3209(0x4df)](_0x4f3209(0x79f));}),worksheetTab[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>{const _0x323ee2=_0x506b2a;worksheetTab[_0x323ee2(0x21b)]['add'](_0x323ee2(0x38a)),topicTab[_0x323ee2(0x21b)][_0x323ee2(0x218)]('active'),textTab['classList'][_0x323ee2(0x218)](_0x323ee2(0x38a)),fileTab['classList'][_0x323ee2(0x218)](_0x323ee2(0x38a));if(_0x40d41f)_0x40d41f[_0x323ee2(0x21b)][_0x323ee2(0x218)](_0x323ee2(0x38a));if(_0x96a8b4)_0x96a8b4['classList'][_0x323ee2(0x218)](_0x323ee2(0x38a));if(_0x1ab7f1)_0x1ab7f1[_0x323ee2(0x21b)][_0x323ee2(0x218)]('active');worksheetInputArea[_0x323ee2(0x21b)][_0x323ee2(0x218)]('hidden'),topicInputArea[_0x323ee2(0x21b)][_0x323ee2(0x4df)](_0x323ee2(0x79f)),textInputArea['classList'][_0x323ee2(0x4df)]('hidden'),fileInputArea[_0x323ee2(0x21b)][_0x323ee2(0x4df)]('hidden');if(_0x35328e)_0x35328e[_0x323ee2(0x21b)][_0x323ee2(0x4df)](_0x323ee2(0x79f));if(_0x5bae7a)_0x5bae7a[_0x323ee2(0x21b)][_0x323ee2(0x4df)](_0x323ee2(0x79f));if(_0x1002c4)_0x1002c4[_0x323ee2(0x21b)]['add'](_0x323ee2(0x79f));});const _0x3c9d51=document[_0x506b2a(0x7d2)]('bank-tab'),_0x144524=document['getElementById'](_0x506b2a(0x570));_0x3c9d51&&_0x3c9d51[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>{const _0x57f8a5=_0x506b2a;topicTab[_0x57f8a5(0x21b)][_0x57f8a5(0x218)](_0x57f8a5(0x38a)),textTab['classList'][_0x57f8a5(0x218)](_0x57f8a5(0x38a)),fileTab[_0x57f8a5(0x21b)]['remove']('active'),worksheetTab[_0x57f8a5(0x21b)][_0x57f8a5(0x218)]('active');if(_0x40d41f)_0x40d41f[_0x57f8a5(0x21b)][_0x57f8a5(0x218)](_0x57f8a5(0x38a));if(_0x96a8b4)_0x96a8b4[_0x57f8a5(0x21b)][_0x57f8a5(0x218)](_0x57f8a5(0x38a));if(_0x1ab7f1)_0x1ab7f1[_0x57f8a5(0x21b)]['remove']('active');_0x3c9d51[_0x57f8a5(0x21b)][_0x57f8a5(0x4df)](_0x57f8a5(0x38a)),topicInputArea['classList'][_0x57f8a5(0x4df)](_0x57f8a5(0x79f)),textInputArea[_0x57f8a5(0x21b)][_0x57f8a5(0x4df)](_0x57f8a5(0x79f)),fileInputArea[_0x57f8a5(0x21b)][_0x57f8a5(0x4df)](_0x57f8a5(0x79f)),worksheetInputArea[_0x57f8a5(0x21b)]['add'](_0x57f8a5(0x79f));if(_0x35328e)_0x35328e[_0x57f8a5(0x21b)]['add'](_0x57f8a5(0x79f));if(_0x5bae7a)_0x5bae7a[_0x57f8a5(0x21b)][_0x57f8a5(0x4df)](_0x57f8a5(0x79f));if(_0x1002c4)_0x1002c4[_0x57f8a5(0x21b)][_0x57f8a5(0x4df)]('hidden');_0x144524['classList'][_0x57f8a5(0x218)](_0x57f8a5(0x79f)),displayQuestionBank();});_0x40d41f&&(_0x40d41f[_0x506b2a(0x37f)]('click',()=>{const _0xb845b8=_0x506b2a;_0x40d41f[_0xb845b8(0x21b)][_0xb845b8(0x4df)](_0xb845b8(0x38a)),topicTab['classList']['remove']('active'),textTab[_0xb845b8(0x21b)]['remove']('active'),fileTab['classList'][_0xb845b8(0x218)]('active'),worksheetTab[_0xb845b8(0x21b)][_0xb845b8(0x218)]('active');if(_0x96a8b4)_0x96a8b4['classList'][_0xb845b8(0x218)]('active');if(_0x1ab7f1)_0x1ab7f1['classList'][_0xb845b8(0x218)](_0xb845b8(0x38a));_0x35328e[_0xb845b8(0x21b)][_0xb845b8(0x218)]('hidden'),topicInputArea['classList'][_0xb845b8(0x4df)](_0xb845b8(0x79f)),textInputArea[_0xb845b8(0x21b)][_0xb845b8(0x4df)]('hidden'),fileInputArea[_0xb845b8(0x21b)][_0xb845b8(0x4df)](_0xb845b8(0x79f)),worksheetInputArea['classList'][_0xb845b8(0x4df)](_0xb845b8(0x79f));if(_0x5bae7a)_0x5bae7a[_0xb845b8(0x21b)]['add']('hidden');if(_0x1002c4)_0x1002c4[_0xb845b8(0x21b)][_0xb845b8(0x4df)](_0xb845b8(0x79f));}),document[_0x506b2a(0x7d2)]('generate-from-link-btn')[_0x506b2a(0x37f)]('click',handleGenerateFromLink));_0x96a8b4&&_0x96a8b4[_0x506b2a(0x37f)]('click',()=>{const _0x36b3de=_0x506b2a;_0x96a8b4[_0x36b3de(0x21b)][_0x36b3de(0x4df)](_0x36b3de(0x38a)),topicTab[_0x36b3de(0x21b)]['remove'](_0x36b3de(0x38a)),textTab['classList'][_0x36b3de(0x218)](_0x36b3de(0x38a)),fileTab[_0x36b3de(0x21b)]['remove'](_0x36b3de(0x38a)),worksheetTab['classList'][_0x36b3de(0x218)]('active');if(_0x40d41f)_0x40d41f[_0x36b3de(0x21b)][_0x36b3de(0x218)](_0x36b3de(0x38a));if(_0x3c9d51)_0x3c9d51[_0x36b3de(0x21b)][_0x36b3de(0x218)](_0x36b3de(0x38a));if(_0x1ab7f1)_0x1ab7f1['classList']['remove']('active');_0x5bae7a[_0x36b3de(0x21b)][_0x36b3de(0x218)]('hidden'),topicInputArea[_0x36b3de(0x21b)][_0x36b3de(0x4df)](_0x36b3de(0x79f)),textInputArea[_0x36b3de(0x21b)][_0x36b3de(0x4df)]('hidden'),fileInputArea[_0x36b3de(0x21b)]['add'](_0x36b3de(0x79f)),worksheetInputArea['classList'][_0x36b3de(0x4df)](_0x36b3de(0x79f));if(_0x35328e)_0x35328e[_0x36b3de(0x21b)][_0x36b3de(0x4df)](_0x36b3de(0x79f));if(_0x144524)_0x144524[_0x36b3de(0x21b)]['add'](_0x36b3de(0x79f));if(_0x1002c4)_0x1002c4[_0x36b3de(0x21b)][_0x36b3de(0x4df)](_0x36b3de(0x79f));});_0x1ab7f1&&_0x1ab7f1[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>{const _0x18cb14=_0x506b2a;_0x1ab7f1[_0x18cb14(0x21b)][_0x18cb14(0x4df)](_0x18cb14(0x38a)),topicTab[_0x18cb14(0x21b)]['remove'](_0x18cb14(0x38a)),textTab['classList'][_0x18cb14(0x218)]('active'),fileTab[_0x18cb14(0x21b)][_0x18cb14(0x218)]('active'),worksheetTab[_0x18cb14(0x21b)][_0x18cb14(0x218)]('active');if(_0x40d41f)_0x40d41f['classList'][_0x18cb14(0x218)](_0x18cb14(0x38a));if(_0x96a8b4)_0x96a8b4[_0x18cb14(0x21b)][_0x18cb14(0x218)]('active');if(_0x3c9d51)_0x3c9d51[_0x18cb14(0x21b)]['remove'](_0x18cb14(0x38a));_0x1002c4['classList'][_0x18cb14(0x218)](_0x18cb14(0x79f)),topicInputArea['classList']['add'](_0x18cb14(0x79f)),textInputArea[_0x18cb14(0x21b)][_0x18cb14(0x4df)](_0x18cb14(0x79f)),fileInputArea[_0x18cb14(0x21b)][_0x18cb14(0x4df)]('hidden'),worksheetInputArea[_0x18cb14(0x21b)][_0x18cb14(0x4df)]('hidden');if(_0x35328e)_0x35328e[_0x18cb14(0x21b)]['add'](_0x18cb14(0x79f));if(_0x5bae7a)_0x5bae7a['classList']['add']('hidden');if(_0x144524)_0x144524['classList'][_0x18cb14(0x4df)](_0x18cb14(0x79f));});const _0x21bb06=document[_0x506b2a(0x7d2)]('blueprint-upload-input'),_0x4e4696=document['getElementById'](_0x506b2a(0x538));_0x21bb06&&_0x21bb06['addEventListener'](_0x506b2a(0x7b1),_0x3b98d2=>{const _0x1feed0=_0x506b2a;_0x3b98d2['target'][_0x1feed0(0x2c2)]['length']>0x0?_0x4e4696[_0x1feed0(0x681)]=![]:_0x4e4696[_0x1feed0(0x681)]=!![];});_0x4e4696&&_0x4e4696[_0x506b2a(0x37f)]('click',handleGenerateFromBlueprint);const _0x451de9=document[_0x506b2a(0x7d2)](_0x506b2a(0x30f)),_0x366e58=document[_0x506b2a(0x7d2)](_0x506b2a(0xc9));_0x451de9&&_0x451de9[_0x506b2a(0x37f)](_0x506b2a(0x7b1),_0x4a23d=>{const _0xf7aaf3=_0x506b2a;_0x366e58[_0xf7aaf3(0x681)]=_0x4a23d['target'][_0xf7aaf3(0x2c2)][_0xf7aaf3(0x426)]===0x0;});_0x366e58&&_0x366e58['addEventListener'](_0x506b2a(0x155),handleGenerateParallelTest);loadQuizBtn[_0x506b2a(0x37f)](_0x506b2a(0x155),handleLoadQuiz),startQuizBtn[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>{const _0x2192f0=_0x506b2a,_0x358a3c=document['getElementById'](_0x2192f0(0x2a8));currentStudentName=_0x358a3c['value'];if(!currentStudentName){showMessage(_0x2192f0(0x4dd));return;}studentNameSelectionView[_0x2192f0(0x21b)][_0x2192f0(0x4df)](_0x2192f0(0x79f)),quizStartTime=new Date(),displayQuizForStudent(currentQuizData);}),document[_0x506b2a(0x7d2)](_0x506b2a(0x64b))[_0x506b2a(0x37f)]('click',showJoinGameView),document[_0x506b2a(0x7d2)]('confirm-join-game-btn')[_0x506b2a(0x37f)](_0x506b2a(0x155),handleJoinLiveGame),document['getElementById'](_0x506b2a(0x7d9))[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>showView(_0x506b2a(0xcb)));const _0x39f2a1=()=>{const _0x1d830d=_0x506b2a,_0x99e0c7=document[_0x1d830d(0x7d2)](_0x1d830d(0x1f4))['textContent'][_0x1d830d(0x36d)](/[^a-z0-9]/gi,'_')[_0x1d830d(0x36c)]();return'results_'+(_0x99e0c7||_0x1d830d(0xb9));},_0x202016=document[_0x506b2a(0x7d2)](_0x506b2a(0xed));_0x202016&&_0x202016[_0x506b2a(0x37f)](_0x506b2a(0x42c),_0x163384=>{const _0x4054d5=_0x506b2a,_0x5cc01a=_0x163384[_0x4054d5(0x222)][_0x4054d5(0x796)]['toLowerCase']()['trim'](),_0x450a6=document[_0x4054d5(0x7d2)](_0x4054d5(0x61c)),_0xc85f43=_0x450a6['querySelectorAll']('.topic-category');_0xc85f43[_0x4054d5(0x651)](_0x482969=>{const _0x394a34=_0x4054d5;let _0x2662f7=![];const _0x5d357e=_0x482969[_0x394a34(0x78c)](_0x394a34(0x3e0));_0x5d357e[_0x394a34(0x651)](_0x5e921d=>{const _0x1d13e0=_0x394a34,_0x570b89=_0x5e921d[_0x1d13e0(0x7df)](_0x1d13e0(0xfc))[_0x1d13e0(0x645)][_0x1d13e0(0x36c)]();_0x570b89[_0x1d13e0(0x3ff)](_0x5cc01a)?(_0x5e921d[_0x1d13e0(0x3a0)]['display']='flex',_0x2662f7=!![]):_0x5e921d[_0x1d13e0(0x3a0)][_0x1d13e0(0x3e1)]=_0x1d13e0(0x430);}),_0x2662f7?_0x482969[_0x394a34(0x3a0)]['display']=_0x394a34(0x5a1):_0x482969[_0x394a34(0x3a0)][_0x394a34(0x3e1)]=_0x394a34(0x430);});});document[_0x506b2a(0x7d2)]('export-image-btn')[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>exportTableAsImage('results-table-container',_0x39f2a1())),document[_0x506b2a(0x7d2)](_0x506b2a(0x5bc))[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>exportTableAsPDF(_0x506b2a(0x69b),_0x39f2a1())),document[_0x506b2a(0x7d2)](_0x506b2a(0x2a0))[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>exportTableAsWord(_0x506b2a(0x498),_0x39f2a1())),document['getElementById'](_0x506b2a(0x124))[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>exportTableAsExcel('results-table',_0x39f2a1()));const _0x36ae1d=()=>{const _0x323f84=_0x506b2a,_0x4315fa=document[_0x323f84(0x7d2)](_0x323f84(0x1f4))[_0x323f84(0x645)]['replace'](/[^a-z0-9]/gi,'_')[_0x323f84(0x36c)]();return _0x323f84(0x756)+(_0x4315fa||'quiz');};document[_0x506b2a(0x7d2)](_0x506b2a(0x773))[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>exportTableAsImage(_0x506b2a(0x26a),_0x36ae1d())),document['getElementById'](_0x506b2a(0x3f1))[_0x506b2a(0x37f)]('click',()=>exportTableAsPDF(_0x506b2a(0x2e0),_0x36ae1d())),document[_0x506b2a(0x7d2)](_0x506b2a(0x3fe))[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>exportTableAsWord('quiz-leaderboard-table-container',_0x36ae1d())),document[_0x506b2a(0x7d2)](_0x506b2a(0x797))[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>exportTableAsExcel(_0x506b2a(0x2e0),_0x36ae1d())),projectQuizzesList[_0x506b2a(0x37f)](_0x506b2a(0x155),async _0x4e93e1=>{const _0x533dc4=_0x506b2a,_0x2d10b6=_0x4e93e1['target'][_0x533dc4(0xee)](_0x533dc4(0x783)),_0x4a2667=_0x4e93e1['target'][_0x533dc4(0xee)](_0x533dc4(0x76a)),_0xd38581=_0x4e93e1[_0x533dc4(0x222)][_0x533dc4(0xee)](_0x533dc4(0x49e)),_0x14e95d=_0x4e93e1[_0x533dc4(0x222)]['closest']('.generate-lesson-btn'),_0x3571d0=_0x4e93e1['target'][_0x533dc4(0xee)](_0x533dc4(0x206)),_0x43f9bc=_0x4e93e1['target']['closest']('.copy-quiz-id-list-btn'),_0xbed6df=_0x4e93e1[_0x533dc4(0x222)][_0x533dc4(0xee)](_0x533dc4(0x448)),_0x42f386=_0x4e93e1[_0x533dc4(0x222)][_0x533dc4(0xee)](_0x533dc4(0x70a)),_0x485ef9=_0x4e93e1[_0x533dc4(0x222)]['closest']('.duplicate-quiz-btn'),_0x656901=_0x4e93e1[_0x533dc4(0x222)]['closest'](_0x533dc4(0x36f)),_0x3ce8db=_0x4e93e1['target'][_0x533dc4(0xee)](_0x533dc4(0x7db)),_0x57a725=_0x4e93e1['target'][_0x533dc4(0xee)](_0x533dc4(0x697)),_0x2df167=_0x4e93e1['target'][_0x533dc4(0xee)](_0x533dc4(0x80a)),_0x1c74ee=_0x4e93e1[_0x533dc4(0x222)][_0x533dc4(0xee)](_0x533dc4(0x47f)),_0x1c0d79=_0x4e93e1[_0x533dc4(0x222)][_0x533dc4(0xee)](_0x533dc4(0x327)),_0x762a40=_0x4e93e1[_0x533dc4(0x222)][_0x533dc4(0xee)]('.admin-try-quiz-list-btn'),_0x47ea99=_0x4e93e1[_0x533dc4(0x222)][_0x533dc4(0xee)]('.start-live-race-btn'),_0x150f12=_0x4e93e1[_0x533dc4(0x222)][_0x533dc4(0xee)](_0x533dc4(0x148)),_0x48c049=_0x4e93e1[_0x533dc4(0x222)][_0x533dc4(0xee)]('.delete-quiz-btn'),_0x1841ee=_0x4e93e1[_0x533dc4(0x222)][_0x533dc4(0xee)](_0x533dc4(0x6d5)),_0x4bc89c=_0x4e93e1[_0x533dc4(0x222)][_0x533dc4(0xee)](_0x533dc4(0x5b3));if(_0x4bc89c){const _0x264a4e=_0x4bc89c['dataset'][_0x533dc4(0x220)],_0x554e95=document['getElementById'](_0x533dc4(0x36e)+_0x264a4e);_0x554e95&&_0x554e95[_0x533dc4(0x21b)][_0x533dc4(0x324)]('hidden');}else{if(_0x4a2667){const _0x406487=_0x4a2667[_0x533dc4(0x3c3)][_0x533dc4(0x220)],_0x59b608=allQuizzes[_0x533dc4(0x314)](_0x5bcef3=>_0x5bcef3['id']===_0x406487);_0x59b608&&handleGenerateParallelPostTest(_0x59b608);}else{if(_0xd38581)handleCompareResults(_0xd38581[_0x533dc4(0x3c3)][_0x533dc4(0x220)],_0xd38581[_0x533dc4(0x3c3)][_0x533dc4(0x7f2)]);else{if(_0x14e95d){const _0x4b0fc5=_0x14e95d[_0x533dc4(0x3c3)][_0x533dc4(0x220)],_0x280dad=allQuizzes['find'](_0x3b8a0b=>_0x3b8a0b['id']===_0x4b0fc5);_0x280dad&&_0x280dad[_0x533dc4(0x77a)]?(displayLessonPlan(_0x280dad[_0x533dc4(0x77a)],_0x280dad),showConfirmation(_0x533dc4(0x2ae),()=>handleGenerateLessonPlan(_0x4b0fc5)),document[_0x533dc4(0x7d2)](_0x533dc4(0x53c))[_0x533dc4(0x7df)]('h3')[_0x533dc4(0x645)]=_0x533dc4(0x1ce),document[_0x533dc4(0x7d2)](_0x533dc4(0x7e4))[_0x533dc4(0x645)]=_0x533dc4(0x68f)):handleGenerateLessonPlan(_0x4b0fc5);}else{if(_0x3571d0)handleToggleStarQuiz(_0x3571d0[_0x533dc4(0x3c3)][_0x533dc4(0x220)]);else{if(_0x43f9bc)copyTextToClipboard(_0x43f9bc['dataset'][_0x533dc4(0x220)],'คัดลอกรหัสแล้ว!');else{if(_0xbed6df)handleOpenQuizEditor(_0xbed6df[_0x533dc4(0x3c3)][_0x533dc4(0x220)]);else{if(_0x42f386)handleQuizSettings(_0x42f386[_0x533dc4(0x3c3)][_0x533dc4(0x220)]);else{if(_0x485ef9)handleDuplicateQuiz(_0x485ef9[_0x533dc4(0x3c3)][_0x533dc4(0x220)]);else{if(_0x656901)handleRenameQuiz(_0x656901[_0x533dc4(0x3c3)]['quizId'],_0x656901[_0x533dc4(0x3c3)][_0x533dc4(0xf7)]);else{if(_0x3ce8db){const _0x6f29d7=_0x3ce8db[_0x533dc4(0x3c3)][_0x533dc4(0x220)],_0x32c1c8=allQuizzes[_0x533dc4(0x314)](_0x3dc2b2=>_0x3dc2b2['id']===_0x6f29d7);_0x32c1c8&&handleGenerateParallelFromBank(_0x32c1c8);}else{if(_0x57a725)handleMoveQuiz(_0x57a725[_0x533dc4(0x3c3)][_0x533dc4(0x220)]);else{if(_0x2df167)handleManualQuizPairing(_0x2df167['dataset']['quizId']);else{if(_0x1c74ee)handleUnpairQuiz(_0x1c74ee['dataset']['quizId']);else{if(_0x1c0d79){const _0x1629f1=_0x1c0d79[_0x533dc4(0x3c3)][_0x533dc4(0x220)],_0x23c2a7=allQuizzes['find'](_0x3ceb2e=>_0x3ceb2e['id']===_0x1629f1);if(_0x23c2a7)startPresentation(_0x23c2a7);}else{if(_0x762a40){const _0x3a0eec=_0x762a40['dataset'][_0x533dc4(0x220)],_0x38ea2c=allQuizzes[_0x533dc4(0x314)](_0x3a85b9=>_0x3a85b9['id']===_0x3a0eec);_0x38ea2c&&(currentQuizData=_0x38ea2c,startAdminTest());}else{if(_0x47ea99)handleStartLiveRace(_0x47ea99[_0x533dc4(0x3c3)][_0x533dc4(0x220)]);else{if(_0x150f12)actionTargetId=_0x150f12[_0x533dc4(0x3c3)]['quizId'],document[_0x533dc4(0x7d2)](_0x533dc4(0x5c4))[_0x533dc4(0x21b)][_0x533dc4(0x218)](_0x533dc4(0x79f));else{if(_0x48c049)showConfirmation(_0x533dc4(0x3b2)+_0x48c049[_0x533dc4(0x3c3)]['topic']+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteQuiz(_0x48c049['dataset']['quizId']));else{if(_0x1841ee)handleQuizStatus(_0x1841ee['dataset'][_0x533dc4(0x220)]);else _0x2d10b6&&showQuizDetailView(_0x2d10b6[_0x533dc4(0x3c3)][_0x533dc4(0x220)]);}}}}}}}}}}}}}}}}}}}}),document[_0x506b2a(0x7d2)](_0x506b2a(0x2e0))[_0x506b2a(0x7df)](_0x506b2a(0x2f8))[_0x506b2a(0x37f)]('click',_0x379666=>{const _0x12b0ed=_0x506b2a,_0x1368bc=_0x379666[_0x12b0ed(0x222)]['closest']('.sortable-header');if(!_0x1368bc||!_0x1368bc[_0x12b0ed(0x3c3)][_0x12b0ed(0x18d)])return;const _0x32cf45=_0x1368bc['dataset'][_0x12b0ed(0x18d)];if(quizLeaderboardSortBy===_0x32cf45)quizLeaderboardSortOrder=quizLeaderboardSortOrder===_0x12b0ed(0x81a)?_0x12b0ed(0x131):_0x12b0ed(0x81a);else{quizLeaderboardSortBy=_0x32cf45;const _0x1abeb4=[_0x12b0ed(0x219)];quizLeaderboardSortOrder=_0x1abeb4[_0x12b0ed(0x3ff)](_0x32cf45)?_0x12b0ed(0x81a):'desc';}renderQuizLeaderboard(currentSubmissions,currentQuizData,_0x12b0ed(0x536));}),document['getElementById'](_0x506b2a(0x7b6))[_0x506b2a(0x37f)](_0x506b2a(0x155),closePresentation),document[_0x506b2a(0x7d2)](_0x506b2a(0x669))[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>{currentPresentationSlide>0x0&&(currentPresentationSlide--,renderPresentationSlide(currentPresentationSlide));}),document['getElementById'](_0x506b2a(0x530))[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>{const _0x200be9=_0x506b2a;currentQuizData[_0x200be9(0x194)]&&currentPresentationSlide<currentQuizData['questions'][_0x200be9(0x426)]-0x1&&(currentPresentationSlide++,renderPresentationSlide(currentPresentationSlide));}),document['addEventListener']('fullscreenchange',()=>{const _0x5a4292=_0x506b2a;!document[_0x5a4292(0x4de)]&&(presentationModal[_0x5a4292(0x3a0)][_0x5a4292(0x3e1)]=_0x5a4292(0x430));}),document[_0x506b2a(0x7d2)]('delete-all-students-btn')[_0x506b2a(0x37f)](_0x506b2a(0x155),handleDeleteAllStudents),studentList[_0x506b2a(0x37f)](_0x506b2a(0x155),_0x2ffc7f=>{const _0x2f9afe=_0x506b2a,_0x556a69=_0x2ffc7f[_0x2f9afe(0x222)]['closest']('.delete-student-btn');if(_0x556a69){const _0x3775f7=_0x556a69[_0x2f9afe(0x3c3)][_0x2f9afe(0x219)];handleDeleteStudent(_0x3775f7);}}),document['getElementById']('generate-from-file-btn')['addEventListener'](_0x506b2a(0x155),handleGenerateFromFileClick),fileUploadInput['addEventListener']('change',_0xcf8932=>{const _0x53318a=_0x506b2a,_0x387262=_0xcf8932[_0x53318a(0x222)][_0x53318a(0x2c2)][0x0],_0x312728=document[_0x53318a(0x7d2)]('generate-from-file-btn');_0x387262?(selectedFile=_0x387262,_0x312728[_0x53318a(0x681)]=![]):(selectedFile=null,_0x312728[_0x53318a(0x681)]=!![]);}),document[_0x506b2a(0x7d2)](_0x506b2a(0x4d7))[_0x506b2a(0x37f)](_0x506b2a(0x7b1),_0x511383=>{const _0x3d1caa=_0x506b2a,_0x3b0636=document[_0x3d1caa(0x7d2)](_0x3d1caa(0x5d0)),_0x3d85ec=document[_0x3d1caa(0x7d2)](_0x3d1caa(0x511)),_0x3cd9e6=document['getElementById']('timer-duration-input');_0x511383['target'][_0x3d1caa(0x796)]===_0x3d1caa(0x430)?_0x3b0636['classList'][_0x3d1caa(0x4df)](_0x3d1caa(0x79f)):(_0x3b0636[_0x3d1caa(0x21b)][_0x3d1caa(0x218)](_0x3d1caa(0x79f)),_0x511383[_0x3d1caa(0x222)][_0x3d1caa(0x796)]==='whole_quiz'?(_0x3d85ec[_0x3d1caa(0x645)]=_0x3d1caa(0x106),_0x3cd9e6[_0x3d1caa(0x796)]='10'):(_0x3d85ec[_0x3d1caa(0x645)]=_0x3d1caa(0x469),_0x3cd9e6[_0x3d1caa(0x796)]='30'));}),document[_0x506b2a(0x7d2)](_0x506b2a(0x154))[_0x506b2a(0x37f)]('change',_0x20c7d2=>{const _0x80fb3d=_0x506b2a,_0x5a1abc=document[_0x80fb3d(0x7d2)](_0x80fb3d(0x552)),_0x324472=_0x20c7d2[_0x80fb3d(0x222)][_0x80fb3d(0x796)],_0xe34718=document['querySelector'](_0x80fb3d(0x546)),_0x3ca6e9=document[_0x80fb3d(0x7d2)]('passing-score-input'),_0x109aa0=document['getElementById'](_0x80fb3d(0x30e));_0x324472===_0x80fb3d(0x71a)?_0xe34718[_0x80fb3d(0x645)]='จำนวนคู่:':_0xe34718['textContent']=_0x80fb3d(0x340),_0x324472===_0x80fb3d(0x4a6)||_0x324472==='fill_in_with_choices'||_0x324472===_0x80fb3d(0x4bc)?_0x5a1abc[_0x80fb3d(0x21b)]['remove'](_0x80fb3d(0x79f)):_0x5a1abc[_0x80fb3d(0x21b)][_0x80fb3d(0x4df)](_0x80fb3d(0x79f)),_0x3ca6e9[_0x80fb3d(0x104)]=_0x109aa0[_0x80fb3d(0x796)];}),document[_0x506b2a(0x7d2)](_0x506b2a(0x30e))[_0x506b2a(0x37f)](_0x506b2a(0x42c),_0x1c767a=>{const _0x510b6d=_0x506b2a;document[_0x510b6d(0x7d2)](_0x510b6d(0x152))[_0x510b6d(0x104)]=_0x1c767a[_0x510b6d(0x222)][_0x510b6d(0x796)];}),document[_0x506b2a(0x7d2)](_0x506b2a(0x702))[_0x506b2a(0x37f)](_0x506b2a(0x7b1),_0x1cebd0=>{const _0x45ec6b=_0x506b2a,_0x580c1c=document[_0x45ec6b(0x7d2)](_0x45ec6b(0x204)),_0x2e807d=document[_0x45ec6b(0x7d2)](_0x45ec6b(0x746)),_0xe1866d=document['getElementById'](_0x45ec6b(0x69c));_0x1cebd0[_0x45ec6b(0x222)][_0x45ec6b(0x796)]===_0x45ec6b(0x430)?_0x580c1c['classList'][_0x45ec6b(0x4df)](_0x45ec6b(0x79f)):(_0x580c1c[_0x45ec6b(0x21b)][_0x45ec6b(0x218)](_0x45ec6b(0x79f)),_0x1cebd0[_0x45ec6b(0x222)][_0x45ec6b(0x796)]===_0x45ec6b(0x1e4)?_0x2e807d[_0x45ec6b(0x645)]=_0x45ec6b(0x106):_0x2e807d[_0x45ec6b(0x645)]=_0x45ec6b(0x469));}),document[_0x506b2a(0x7d2)](_0x506b2a(0x14d))[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>{const _0x45d995=_0x506b2a;document[_0x45d995(0x7d2)](_0x45d995(0x1ed))[_0x45d995(0x21b)][_0x45d995(0x4df)](_0x45d995(0x79f));}),document[_0x506b2a(0x7d2)](_0x506b2a(0x3ba))[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>{const _0x538270=_0x506b2a;document[_0x538270(0x7d2)]('quiz-editor-modal')[_0x538270(0x21b)]['add'](_0x538270(0x79f));}),document[_0x506b2a(0x7d2)](_0x506b2a(0x776))['addEventListener'](_0x506b2a(0x155),()=>{const _0x291715=_0x506b2a;document[_0x291715(0x7d2)](_0x291715(0x1ed))[_0x291715(0x21b)][_0x291715(0x4df)](_0x291715(0x79f)),showConfirmation(_0x291715(0x612),handleSaveChanges);}),document['getElementById'](_0x506b2a(0x308))[_0x506b2a(0x37f)]('click',handleAutoFixLatex);const _0x5c05d0=document[_0x506b2a(0x7d2)](_0x506b2a(0x468));_0x5c05d0&&_0x5c05d0[_0x506b2a(0x37f)](_0x506b2a(0x155),_0x3681af=>{const _0x4cb191=_0x506b2a,_0x298557=_0x3681af['target']['closest'](_0x4cb191(0x2ce));if(_0x298557){const _0x4130ed=_0x298557[_0x4cb191(0xee)](_0x4cb191(0x272)),_0xb59ded=parseInt(_0x4130ed[_0x4cb191(0x3c3)][_0x4cb191(0x67b)],0xa);handleRegenerateQuestionInEditor(_0xb59ded);}});document[_0x506b2a(0x7d2)](_0x506b2a(0x14c))[_0x506b2a(0x37f)](_0x506b2a(0x155),openQuizBankModal),document[_0x506b2a(0x7d2)]('cancel-quiz-bank-btn')[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>{const _0x3992a1=_0x506b2a;document['getElementById'](_0x3992a1(0x60d))[_0x3992a1(0x21b)][_0x3992a1(0x4df)](_0x3992a1(0x79f));}),document[_0x506b2a(0x7d2)](_0x506b2a(0x5a3))[_0x506b2a(0x37f)](_0x506b2a(0x42c),_0x5846cb=>renderQuizBankList(_0x5846cb[_0x506b2a(0x222)][_0x506b2a(0x796)]));const _0x47e185=document[_0x506b2a(0x7d2)](_0x506b2a(0x61c));if(_0x47e185){let _0x935870=null;_0x47e185[_0x506b2a(0x37f)](_0x506b2a(0x155),_0x11d2fd=>{const _0x57ef79=_0x506b2a,_0x1d39fe=_0x11d2fd['target'],_0x35a9a6=_0x1d39fe[_0x57ef79(0xee)]('.edit-custom-topic-btn'),_0x435cfc=_0x1d39fe['closest'](_0x57ef79(0x323)),_0x1e5771=_0x1d39fe[_0x57ef79(0xee)](_0x57ef79(0x790)),_0x400578=_0x1d39fe[_0x57ef79(0xee)]('.cancel-edit-topic-btn');if(_0x435cfc){_0x11d2fd['preventDefault']();const _0x2a1c60=_0x435cfc[_0x57ef79(0x3c3)]['id'],_0x587e5c=_0x435cfc[_0x57ef79(0xee)](_0x57ef79(0x23c))[_0x57ef79(0x7df)]('.topic-name-display')[_0x57ef79(0x645)];showConfirmation(_0x57ef79(0x409)+_0x587e5c+'\x22?',()=>handleDeleteCustomTopic(_0x2a1c60));}else{if(_0x35a9a6){_0x11d2fd[_0x57ef79(0x227)]();_0x935870&&toggleTopicEditMode(_0x935870,![]);const _0x58c732=_0x35a9a6['closest'](_0x57ef79(0xd7));_0x935870=_0x58c732,toggleTopicEditMode(_0x58c732,!![]);}else{if(_0x1e5771){_0x11d2fd[_0x57ef79(0x227)]();const _0x4902=_0x1e5771[_0x57ef79(0x3c3)]['id'],_0x5783fe=_0x1e5771[_0x57ef79(0xee)](_0x57ef79(0xd7)),_0x50e268=_0x5783fe[_0x57ef79(0x7df)](_0x57ef79(0x77d))['value'];handleUpdateCustomTopic(_0x4902,_0x50e268),_0x935870=null;}else{if(_0x400578){_0x11d2fd[_0x57ef79(0x227)]();const _0x59b223=_0x400578['closest'](_0x57ef79(0xd7));toggleTopicEditMode(_0x59b223,![]),_0x935870=null;}}}}}),document[_0x506b2a(0x7d2)](_0x506b2a(0x533))[_0x506b2a(0x37f)]('click',()=>{const _0x571723=_0x506b2a;document[_0x571723(0x7d2)](_0x571723(0x6ec))[_0x571723(0x21b)][_0x571723(0x4df)]('hidden');}),document[_0x506b2a(0x7d2)](_0x506b2a(0x71c))[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>{const _0x5677d7=_0x506b2a;document['getElementById'](_0x5677d7(0x6ec))[_0x5677d7(0x21b)][_0x5677d7(0x4df)](_0x5677d7(0x79f));}),document[_0x506b2a(0x7d2)](_0x506b2a(0x65e))[_0x506b2a(0x37f)](_0x506b2a(0x155),handleExportLessonPDF);}document[_0x506b2a(0x7d2)](_0x506b2a(0x3e6))[_0x506b2a(0x37f)](_0x506b2a(0x155),()=>{const _0x5a4e95=_0x506b2a;document['getElementById']('comparison-modal')['classList']['add'](_0x5a4e95(0x79f));}),document['getElementById'](_0x506b2a(0x803))['addEventListener'](_0x506b2a(0x155),()=>{const _0x21f5dc=_0x506b2a;document[_0x21f5dc(0x7d2)](_0x21f5dc(0xca))['classList'][_0x21f5dc(0x4df)](_0x21f5dc(0x79f));}),setupComparisonModalTabs(),document[_0x506b2a(0x302)][_0x506b2a(0x37f)](_0x506b2a(0x155),function(_0xe6eb10){const _0x7258c2=_0x506b2a;if(_0xe6eb10[_0x7258c2(0x222)][_0x7258c2(0x21b)][_0x7258c2(0x156)]('practice-topic-btn')){const _0x285d25=unescape(_0xe6eb10[_0x7258c2(0x222)][_0x7258c2(0x3c3)]['topic']);startSkillPractice(_0x285d25);}}),document[_0x506b2a(0x7d2)](_0x506b2a(0x6b2))[_0x506b2a(0x37f)](_0x506b2a(0x155),_0x4cf4dc=>{const _0x38fb36=_0x506b2a,_0x358afb=_0x4cf4dc[_0x38fb36(0x222)][_0x38fb36(0xee)](_0x38fb36(0x766));if(_0x358afb){const _0x5e5f68=_0x358afb['dataset'][_0x38fb36(0x219)];handleDeleteSubmission(_0x5e5f68);}});}async function showStudentProgressView(){const _0x1bc9d0=_0x52d111;studentInitialView['classList']['add'](_0x1bc9d0(0x79f)),document[_0x1bc9d0(0x7d2)]('student-progress-view')['classList'][_0x1bc9d0(0x218)](_0x1bc9d0(0x79f));const _0x47bc37=document[_0x1bc9d0(0x7d2)](_0x1bc9d0(0x63a)),_0xe054db=document[_0x1bc9d0(0x7d2)](_0x1bc9d0(0xdb)),_0x3d7f67=document[_0x1bc9d0(0x7d2)](_0x1bc9d0(0x754));_0x3d7f67[_0x1bc9d0(0x1da)]='<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกโปรเจคเพื่อดูข้อมูล</p>',_0xe054db['innerHTML']=_0x1bc9d0(0x4ab),_0xe054db['disabled']=!![],_0x47bc37['innerHTML']=_0x1bc9d0(0x611);if(allProjects['length']===0x0){const _0x5dfa15=collection(db,_0x1bc9d0(0x5fb)+appId+_0x1bc9d0(0x172)),_0x515778=await getDocs(_0x5dfa15);allProjects=_0x515778[_0x1bc9d0(0x23a)][_0x1bc9d0(0x2ba)](_0x3cc163=>({'id':_0x3cc163['id'],..._0x3cc163[_0x1bc9d0(0x406)]()}));}const _0x352106=allProjects[_0x1bc9d0(0x48e)](_0x271dd7=>_0x271dd7[_0x1bc9d0(0x640)]?.['showInStudentDashboard']!==![]);_0x352106[_0x1bc9d0(0x18d)]((_0x501d34,_0xf0b1c)=>_0x501d34[_0x1bc9d0(0x288)][_0x1bc9d0(0x6af)](_0xf0b1c[_0x1bc9d0(0x288)],'th')),_0x47bc37[_0x1bc9d0(0x1da)]='<option\x20value=\x22\x22>--\x20เลือกโปรเจค\x20--</option>'+_0x352106[_0x1bc9d0(0x2ba)](_0x4937e4=>_0x1bc9d0(0x23d)+_0x4937e4['id']+'\x22>'+_0x4937e4['projectName']+'</option>')[_0x1bc9d0(0x589)](''),_0x47bc37[_0x1bc9d0(0x174)]=()=>{const _0x9c2b05=_0x1bc9d0,_0x3c3005=_0xe054db[_0x9c2b05(0x796)],_0x1e9e20=_0x47bc37[_0x9c2b05(0x796)];_0xe054db[_0x9c2b05(0x681)]=!![],_0xe054db[_0x9c2b05(0x1da)]=_0x9c2b05(0x4ab),_0x3d7f67[_0x9c2b05(0x1da)]=_0x9c2b05(0x807);if(!_0x1e9e20)return;const _0x1a9a0b=allProjects[_0x9c2b05(0x314)](_0x366942=>_0x366942['id']===_0x1e9e20);if(!_0x1a9a0b||!_0x1a9a0b[_0x9c2b05(0x636)])return;const _0x272641=()=>{const _0x49b7c3=_0x9c2b05;_0xe054db[_0x49b7c3(0x1da)]=_0x49b7c3(0x4ab)+_0x1a9a0b['students'][_0x49b7c3(0x2ba)](_0x7cf209=>_0x49b7c3(0x23d)+_0x7cf209+'\x22>'+_0x7cf209+_0x49b7c3(0x418))[_0x49b7c3(0x589)](''),_0xe054db[_0x49b7c3(0x681)]=![];const _0x238fc7=Array[_0x49b7c3(0x3c0)](_0xe054db[_0x49b7c3(0x417)])[_0x49b7c3(0x2ba)](_0xa37621=>_0xa37621[_0x49b7c3(0x796)]);if(_0x3c3005&&_0x238fc7[_0x49b7c3(0x3ff)](_0x3c3005))_0xe054db[_0x49b7c3(0x796)]=_0x3c3005,_0xe054db[_0x49b7c3(0x407)](new Event('change'));else _0x1a9a0b['students'][_0x49b7c3(0x426)]===0x1&&(_0xe054db[_0x49b7c3(0x796)]=_0x1a9a0b[_0x49b7c3(0x636)][0x0],_0xe054db[_0x49b7c3(0x407)](new Event('change')));};if(_0x1a9a0b['settings']?.['isPasscodeEnabled']){if(sessionStorage[_0x9c2b05(0x263)](_0x9c2b05(0x1c2)+_0x1e9e20)===_0x9c2b05(0x57a)){_0x272641();return;}const _0x2d75b1=document[_0x9c2b05(0x7d2)](_0x9c2b05(0x7e1)),_0x73779d=document[_0x9c2b05(0x7d2)]('confirm-passcode-btn'),_0x504690=document[_0x9c2b05(0x7d2)](_0x9c2b05(0x25d)),_0x9710de=document[_0x9c2b05(0x7d2)](_0x9c2b05(0x2e2)),_0x41f626=document[_0x9c2b05(0x7d2)](_0x9c2b05(0xc3));document[_0x9c2b05(0x7d2)](_0x9c2b05(0x2ff))[_0x9c2b05(0x645)]=_0x9c2b05(0x278)+_0x1a9a0b[_0x9c2b05(0x288)],_0x9710de['value']='',_0x41f626[_0x9c2b05(0x21b)]['add']('hidden'),_0x2d75b1[_0x9c2b05(0x21b)][_0x9c2b05(0x218)](_0x9c2b05(0x79f));const _0x2f2d9e=()=>{const _0xaa4446=_0x9c2b05,_0x4d4da5=_0x9710de[_0xaa4446(0x796)][_0xaa4446(0x74c)]();_0x4d4da5===_0x1a9a0b[_0xaa4446(0x640)]['passcode']?(sessionStorage[_0xaa4446(0x678)](_0xaa4446(0x1c2)+_0x1e9e20,_0xaa4446(0x57a)),_0x2d75b1['classList'][_0xaa4446(0x4df)](_0xaa4446(0x79f)),_0x272641(),_0x73779d[_0xaa4446(0x6d0)]('click',_0x2f2d9e)):_0x41f626['classList']['remove'](_0xaa4446(0x79f));};_0x73779d[_0x9c2b05(0x70c)]=_0x2f2d9e,_0x504690[_0x9c2b05(0x70c)]=()=>{const _0x56a69e=_0x9c2b05;_0x2d75b1[_0x56a69e(0x21b)][_0x56a69e(0x4df)]('hidden'),_0x47bc37['value']='',_0x73779d[_0x56a69e(0x6d0)](_0x56a69e(0x155),_0x2f2d9e);};}else _0x272641();},_0xe054db['onchange']=()=>{const _0x246460=_0x1bc9d0,_0x563e3a=_0x47bc37[_0x246460(0x796)],_0x155575=_0xe054db[_0x246460(0x796)];_0x563e3a&&_0x155575&&renderStudentProgressDashboard(_0x563e3a,_0x155575);};}async function renderStudentProgressDashboard(_0x21ae4f,_0x1c2a24){const _0x5a0f9a=_0x52d111,_0x14de73=document['getElementById'](_0x5a0f9a(0x754));_0x14de73[_0x5a0f9a(0x1da)]=_0x5a0f9a(0x397);try{const _0x4832dc=collection(db,'artifacts/'+appId+_0x5a0f9a(0x737)),_0x3ebad1=query(_0x4832dc,where(_0x5a0f9a(0x5d8),'==',_0x21ae4f)),_0x2f3220=await getDocs(_0x3ebad1),_0x20bdfc=_0x2f3220[_0x5a0f9a(0x23a)]['map'](_0x1f7734=>({'id':_0x1f7734['id'],..._0x1f7734[_0x5a0f9a(0x406)]()})),_0xd58cf8=_0x20bdfc['map'](_0x2e9641=>getDoc(doc(db,_0x5a0f9a(0x5fb)+appId+_0x5a0f9a(0x378)+_0x2e9641['id']+_0x5a0f9a(0x55e),_0x1c2a24))),_0x4418b9=await Promise[_0x5a0f9a(0x2de)](_0xd58cf8),_0x29d22=_0x4418b9['filter'](_0x2e28ee=>_0x2e28ee['exists']())[_0x5a0f9a(0x2ba)](_0x1b175c=>({'quizId':_0x1b175c[_0x5a0f9a(0x59d)][_0x5a0f9a(0x1e1)][_0x5a0f9a(0x1e1)]['id'],..._0x1b175c['data']()}));if(_0x29d22[_0x5a0f9a(0x426)]===0x0){_0x14de73[_0x5a0f9a(0x1da)]=_0x5a0f9a(0xe1);return;}let _0x413d44='<div\x20class=\x22space-y-4\x22>';_0x29d22[_0x5a0f9a(0x651)](_0x58bf40=>{const _0x1f07a3=_0x5a0f9a,_0xca00a7=_0x20bdfc[_0x1f07a3(0x314)](_0x38642e=>_0x38642e['id']===_0x58bf40[_0x1f07a3(0x220)]),_0x23602c=_0xca00a7['settings']?.[_0x1f07a3(0x356)]||_0x1f07a3(0x32d),_0x5c8d0a=_0xca00a7[_0x1f07a3(0x640)]?.[_0x1f07a3(0x3ce)]??0x0,_0x2c0367=_0x58bf40[_0x1f07a3(0x10b)]>=_0x5c8d0a;let _0x5c504b='',_0x13ad19=_0x1f07a3(0x1c0);switch(_0x23602c){case _0x1f07a3(0x32d):case _0x1f07a3(0x4bf):_0x13ad19=_0x2c0367?_0x1f07a3(0x15b):'bg-red-50',_0x5c504b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-bold\x20'+(_0x2c0367?_0x1f07a3(0x7d7):_0x1f07a3(0x577))+'\x22>'+_0x58bf40[_0x1f07a3(0x10b)]+_0x1f07a3(0x14e)+_0x58bf40[_0x1f07a3(0x452)]+_0x1f07a3(0x35d)+(_0x2c0367?_0x1f07a3(0x484):_0x1f07a3(0x246))+'\x22>'+(_0x2c0367?'ผ่าน':_0x1f07a3(0x5e8))+_0x1f07a3(0x467);break;case _0x1f07a3(0x767):_0x13ad19=_0x2c0367?'bg-green-50':_0x1f07a3(0x65f),_0x5c504b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20'+(_0x2c0367?_0x1f07a3(0x484):_0x1f07a3(0x246))+'\x22>'+(_0x2c0367?_0x1f07a3(0x439):_0x1f07a3(0x5e8))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case'manual_release':_0x13ad19=_0x1f07a3(0x4eb),_0x5c504b=_0x1f07a3(0x526);break;}_0x413d44+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20flex\x20justify-between\x20items-center\x20'+_0x13ad19+_0x1f07a3(0x6d8)+_0xca00a7['topic']+_0x1f07a3(0x485)+_0x58bf40[_0x1f07a3(0x59e)]['length']+'\x20ครั้ง\x20|\x20ส่งล่าสุด:\x20'+new Date(_0x58bf40[_0x1f07a3(0x6f8)])['toLocaleDateString'](_0x1f07a3(0x588))+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5c504b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x413d44+=_0x5a0f9a(0x318),_0x14de73[_0x5a0f9a(0x1da)]=_0x413d44;}catch(_0x3580ab){console[_0x5a0f9a(0x403)](_0x5a0f9a(0x4ba),_0x3580ab),_0x14de73[_0x5a0f9a(0x1da)]=_0x5a0f9a(0xff);}}function setupStudentProgressListeners(){const _0x3a9496=_0x52d111;document[_0x3a9496(0x7d2)]('view-my-progress-btn')[_0x3a9496(0x37f)]('click',showStudentProgressView),document[_0x3a9496(0x7d2)](_0x3a9496(0x455))[_0x3a9496(0x37f)](_0x3a9496(0x155),()=>{const _0x15d1e1=_0x3a9496;document[_0x15d1e1(0x7d2)](_0x15d1e1(0xba))[_0x15d1e1(0x21b)][_0x15d1e1(0x4df)](_0x15d1e1(0x79f)),document[_0x15d1e1(0x7d2)]('student-initial-view')[_0x15d1e1(0x21b)][_0x15d1e1(0x218)]('hidden');});}async function startSkillPractice(_0x56a30d){const _0xf22c82=_0x52d111;studentResultArea[_0xf22c82(0x21b)][_0xf22c82(0x4df)](_0xf22c82(0x79f)),studentQuizArea[_0xf22c82(0x1da)]=_0xf22c82(0x592),studentQuizArea['classList'][_0xf22c82(0x218)](_0xf22c82(0x79f));try{const _0x4fb721=await getStandardizedTopic(_0x56a30d);console['log'](_0xf22c82(0x22b)+_0x56a30d+_0xf22c82(0x3d8)+_0x4fb721+'\x22'),studentQuizArea[_0xf22c82(0x7df)]('p')[_0xf22c82(0x645)]=_0xf22c82(0x68e)+_0x4fb721+'\x22...';const _0x49abbf=collection(db,_0xf22c82(0x5fb)+appId+'/public/data/practiceBank'),_0x44631f=query(_0x49abbf,where(_0xf22c82(0xf7),'==',_0x4fb721)),_0x5e8464=await getDocs(_0x44631f);if(_0x5e8464[_0xf22c82(0x23a)][_0xf22c82(0x426)]>=0x3){console['log']('พบข้อสอบ\x20'+_0x5e8464['docs'][_0xf22c82(0x426)]+_0xf22c82(0x496)+_0x4fb721+_0xf22c82(0xfb));let _0x1eeb7f=_0x5e8464[_0xf22c82(0x23a)]['map'](_0x3653e6=>_0x3653e6[_0xf22c82(0x406)]());shuffleArray(_0x1eeb7f);const _0x365baf={'topic':_0x4fb721,'questions':_0x1eeb7f[_0xf22c82(0x81d)](0x0,0x3)};displaySkillPracticeDrill(_0x365baf);}else{console[_0xf22c82(0x294)](_0xf22c82(0x1d3)+_0x4fb721+_0xf22c82(0x7ba));const _0x49476e=await generatePracticeQuestions(_0x4fb721);await saveDrillToPracticeBank(_0x49476e,_0x4fb721),displaySkillPracticeDrill(_0x49476e);}}catch(_0x5d3814){console[_0xf22c82(0x403)](_0xf22c82(0x61d),_0x5d3814),showMessage(_0xf22c82(0x120)),studentQuizArea[_0xf22c82(0x21b)][_0xf22c82(0x4df)](_0xf22c82(0x79f)),studentResultArea[_0xf22c82(0x21b)][_0xf22c82(0x218)](_0xf22c82(0x79f));}}async function saveDrillToPracticeBank(_0x5dccb9,_0x2497ab){const _0x60cb44=_0x52d111,_0x37d6fb=collection(db,'artifacts/'+appId+'/public/data/practiceBank'),_0x3e8fe3=writeBatch(db);_0x5dccb9['questions'][_0x60cb44(0x651)](_0xa1d6f0=>{const _0x1d236e=_0x60cb44,_0x45b5fe=doc(_0x37d6fb);_0x3e8fe3[_0x1d236e(0x591)](_0x45b5fe,{'topic':_0x2497ab,'questionText':_0xa1d6f0[_0x1d236e(0x421)],'options':_0xa1d6f0[_0x1d236e(0x417)],'correctAnswerIndex':_0xa1d6f0[_0x1d236e(0x4b4)],'explanation':_0xa1d6f0[_0x1d236e(0x7bd)],'createdAt':serverTimestamp()});});try{await _0x3e8fe3['commit'](),console[_0x60cb44(0x294)](_0x60cb44(0x4e2)+_0x5dccb9['questions'][_0x60cb44(0x426)]+_0x60cb44(0x740));}catch(_0x1bc949){console[_0x60cb44(0x403)](_0x60cb44(0x22f),_0x1bc949);}}async function getStandardizedTopic(_0x42cf13){const _0x251d54=_0x52d111,_0x6e005c=_0x251d54(0x35c)+_0x42cf13+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ตอบกลับมาเป็น\x20JSON\x20object\x20ที่มี\x20key\x20\x22standardTopic\x22\x20เท่านั้น\x0a\x20\x20\x20\x20',_0xdacecb={'type':'OBJECT','properties':{'standardTopic':{'type':'STRING'}},'required':['standardTopic']};try{const _0x186080=await callAnalysisApi(_0x6e005c,_0xdacecb);return _0x186080[_0x251d54(0x4d2)];}catch(_0x3927da){return console[_0x251d54(0x403)](_0x251d54(0x4b1),_0x3927da),_0x42cf13;}}async function generatePracticeQuestions(_0x1d5a3b){const _0x5e61d0=_0x52d111,_0x436859=_0x5e61d0(0x17b)+_0x1d5a3b+_0x5e61d0(0x2bf)+simpleMathPrompt+_0x5e61d0(0x26e),_0x11607b={'type':_0x5e61d0(0x203),'properties':{'questionText':{'type':_0x5e61d0(0x12e)},'options':{'type':'ARRAY','items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x5e61d0(0x16b)},'explanation':{'type':_0x5e61d0(0x12e)}},'required':[_0x5e61d0(0x421),'options',_0x5e61d0(0x4b4),'explanation']},_0x1485a2={'type':_0x5e61d0(0x203),'properties':{'topic':{'type':_0x5e61d0(0x12e)},'questions':{'type':_0x5e61d0(0x331),'items':_0x11607b}},'required':['topic','questions']};return await callAnalysisApi(_0x436859,_0x1485a2);}function displayLessonPlan(_0x561ba6,_0x90f24){const _0x561bbf=_0x52d111,_0x34db50=_0x561bbf(0xe7)+_0x90f24[_0x561bbf(0xf7)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>'+_0x561ba6['learningGaps']['map'](_0xafe8b8=>_0x561bbf(0x27a)+_0xafe8b8+_0x561bbf(0x56e))['join']('')+_0x561bbf(0x169)+_0x561ba6[_0x561bbf(0x5d5)]+_0x561bbf(0x80b)+_0x561ba6[_0x561bbf(0x798)][_0x561bbf(0x2ba)](_0x20f04a=>_0x561bbf(0xe6)+_0x20f04a['question']+_0x561bbf(0x16f)+_0x20f04a['solution']+_0x561bbf(0x710))[_0x561bbf(0x589)]('')+_0x561bbf(0x57b);document['getElementById']('lesson-plan-title')[_0x561bbf(0x645)]=_0x561bbf(0x2d3)+_0x90f24[_0x561bbf(0xf7)],document[_0x561bbf(0x7d2)](_0x561bbf(0x6ac))['innerHTML']=_0x34db50,document[_0x561bbf(0x7d2)](_0x561bbf(0x6ec))[_0x561bbf(0x21b)]['remove'](_0x561bbf(0x79f));if(window['MathJax'])MathJax[_0x561bbf(0x672)]();}function displaySkillPracticeDrill(_0x52c5c3){let _0x362a6e=0x0;const _0x2f713d=_0x52c5c3['questions'],_0x5f4a99=()=>{const _0xaf669f=_0x9350,_0x30754a=_0x2f713d[_0x362a6e],_0x2b879d=_0xaf669f(0x357)+(_0x362a6e+0x1)+_0xaf669f(0x14e)+_0x2f713d[_0xaf669f(0x426)]+_0xaf669f(0x3f2)+_0x30754a[_0xaf669f(0x421)]+_0xaf669f(0x762)+_0x30754a[_0xaf669f(0x417)][_0xaf669f(0x2ba)]((_0x15b21a,_0x63af6c)=>_0xaf669f(0x334)+_0x63af6c+_0xaf669f(0x5ca)+_0x63af6c+_0xaf669f(0x7bf)+_0x63af6c+'\x22>'+_0x15b21a+_0xaf669f(0x675))['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-feedback\x22\x20class=\x22hidden\x20my-4\x20p-3\x20rounded-lg\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22hint-btn\x22\x20class=\x22bg-gray-200\x20text-gray-700\x20py-2\x20px-4\x20rounded-lg\x20hover:bg-gray-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-lightbulb\x22></i>\x20ขอคำใบ้\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-answer-btn\x22\x20class=\x22bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-drill-btn\x22\x20class=\x22hidden\x20bg-green-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ข้อต่อไป\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';studentQuizArea['innerHTML']=_0x2b879d;if(window[_0xaf669f(0x6a7)])MathJax[_0xaf669f(0x672)]([studentQuizArea]);document[_0xaf669f(0x7d2)]('hint-btn')[_0xaf669f(0x37f)](_0xaf669f(0x155),async()=>{const _0x422989=_0xaf669f,_0x1aecf7=await getHintForQuestion(_0x30754a[_0x422989(0x421)]);showMessage(_0x1aecf7);}),document[_0xaf669f(0x7d2)](_0xaf669f(0x509))[_0xaf669f(0x37f)](_0xaf669f(0x155),()=>{const _0x176c50=_0xaf669f,_0x2fbab7=document[_0x176c50(0x7df)](_0x176c50(0x684));if(!_0x2fbab7){showMessage('กรุณาเลือกคำตอบก่อนครับ');return;}const _0x18fb12=document[_0x176c50(0x7d2)](_0x176c50(0x3ea)),_0x21ebb5=parseInt(_0x2fbab7[_0x176c50(0x796)])===_0x30754a['correctAnswerIndex'];_0x21ebb5?(_0x18fb12[_0x176c50(0x57f)]=_0x176c50(0x5f7),_0x18fb12[_0x176c50(0x1da)]=_0x176c50(0x6c0)+_0x30754a['explanation']):(_0x18fb12[_0x176c50(0x57f)]=_0x176c50(0x2da),_0x18fb12[_0x176c50(0x1da)]='<strong><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ยังไม่ถูกนะ\x20ลองดูคำอธิบาย:</strong><br>'+_0x30754a[_0x176c50(0x7bd)]);_0x18fb12[_0x176c50(0x21b)][_0x176c50(0x218)](_0x176c50(0x79f));if(window[_0x176c50(0x6a7)])MathJax[_0x176c50(0x672)]([_0x18fb12]);document[_0x176c50(0x7d2)](_0x176c50(0x509))['classList']['add'](_0x176c50(0x79f)),document[_0x176c50(0x7d2)](_0x176c50(0x75a))[_0x176c50(0x21b)]['add'](_0x176c50(0x79f)),document[_0x176c50(0x7d2)](_0x176c50(0x5cf))[_0x176c50(0x21b)]['remove'](_0x176c50(0x79f));}),document[_0xaf669f(0x7d2)](_0xaf669f(0x5cf))[_0xaf669f(0x37f)](_0xaf669f(0x155),()=>{const _0x3562ea=_0xaf669f;_0x362a6e++,_0x362a6e<_0x2f713d[_0x3562ea(0x426)]?_0x5f4a99():(studentQuizArea[_0x3562ea(0x1da)]=_0x3562ea(0x149),document[_0x3562ea(0x7d2)](_0x3562ea(0x49b))[_0x3562ea(0x37f)]('click',()=>{const _0x451405=_0x3562ea;studentQuizArea['classList'][_0x451405(0x4df)](_0x451405(0x79f)),studentResultArea[_0x451405(0x21b)]['remove']('hidden');}));});};_0x5f4a99();}async function getHintForQuestion(_0x1054fb){const _0x1ea9ac=_0x52d111,_0x17b53c=_0x1ea9ac(0x7d0)+_0x1054fb+_0x1ea9ac(0x4b6),_0x45afa3={'type':_0x1ea9ac(0x203),'properties':{'hint':{'type':_0x1ea9ac(0x12e)}},'required':['hint']};try{const _0x2f45db=await callAnalysisApi(_0x17b53c,_0x45afa3);return _0x2f45db[_0x1ea9ac(0x2bb)];}catch(_0x780a60){return console[_0x1ea9ac(0x403)](_0x1ea9ac(0x29c),_0x780a60),_0x1ea9ac(0x815);}}async function extractTextFromPdf(_0x28fee2){const _0x5f3192=_0x52d111;pdfjsLib['GlobalWorkerOptions'][_0x5f3192(0x59a)]=_0x5f3192(0x23e);const _0x3f6bc5=await _0x28fee2[_0x5f3192(0x262)](),_0x5242b3=await pdfjsLib[_0x5f3192(0x6c7)](_0x3f6bc5)[_0x5f3192(0xb6)],_0x3734c1=_0x5242b3[_0x5f3192(0x297)];let _0x285600='';for(let _0x2092ad=0x1;_0x2092ad<=_0x3734c1;_0x2092ad++){const _0x4f3bc3=await _0x5242b3[_0x5f3192(0x354)](_0x2092ad),_0x4806ce=await _0x4f3bc3['getTextContent'](),_0x5460eb=_0x4806ce[_0x5f3192(0x50a)][_0x5f3192(0x2ba)](_0x144d3e=>_0x144d3e[_0x5f3192(0xbb)])['join']('\x20');_0x285600+=_0x5460eb+'\x0a\x0a';}return _0x285600;}async function handleGenerateFromBlueprint(){const _0xd28f14=_0x52d111,_0x1cfdfe=document[_0xd28f14(0x7d2)](_0xd28f14(0x5ee)),_0x313188=document[_0xd28f14(0x7d2)](_0xd28f14(0x223)),_0x83c544=_0x1cfdfe['files'][0x0],_0x268413=_0x313188[_0xd28f14(0x2c2)]['length']>0x0?_0x313188[_0xd28f14(0x2c2)][0x0]:null;if(!_0x83c544){showMessage('กรุณาเลือกไฟล์\x20Test\x20Blueprint\x20ก่อน');return;}const _0x5bc3d5=document['getElementById'](_0xd28f14(0x1b7)),_0x896649=document[_0xd28f14(0x7d2)]('loader-text'),_0x4717b1=document['getElementById'](_0xd28f14(0x74f)),_0x36254c=document[_0xd28f14(0x7d2)](_0xd28f14(0x538));_0x36254c[_0xd28f14(0x681)]=!![],document['getElementById'](_0xd28f14(0x7d3))[_0xd28f14(0x21b)][_0xd28f14(0x218)](_0xd28f14(0x79f)),_0x4717b1[_0xd28f14(0x1da)]='',_0x5bc3d5[_0xd28f14(0x21b)]['remove']('hidden');try{_0x896649['textContent']='กำลังอ่านและวิเคราะห์\x20Test\x20Blueprint...';const _0x17e882=await extractTextFromPdf(_0x83c544);if(!_0x17e882[_0xd28f14(0x74c)]())throw new Error(_0xd28f14(0xc6));let _0x50a802='';_0x268413&&(_0x896649[_0xd28f14(0x645)]=_0xd28f14(0x1a2),_0x50a802=await extractTextFromPdf(_0x268413));_0x896649['textContent']=_0xd28f14(0x668);const _0x40c27f=document[_0xd28f14(0x7d2)](_0xd28f14(0xf9))[_0xd28f14(0x569)],_0x48983b=_0x40c27f?'สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.':'',_0x2c3eed=_0x50a802?_0xd28f14(0x54e)+_0x50a802+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'',_0x2c6998=_0xd28f14(0x6d9)+(_0x50a802?_0xd28f14(0x5c1):'')+_0xd28f14(0x179)+_0x17e882+_0xd28f14(0x581)+_0x2c3eed+_0xd28f14(0x1f2)+_0x48983b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+_0xd28f14(0x153),_0x5ed5f6={'type':'OBJECT','properties':{'questionText':{'type':_0xd28f14(0x12e)},'questionType':{'type':'STRING','enum':['multiple_choice',_0xd28f14(0x605)]},'options':{'type':'ARRAY','items':{'type':_0xd28f14(0x12e)}},'correctAnswerIndex':{'type':_0xd28f14(0x16b)},'idealAnswer':{'type':_0xd28f14(0x12e)},'explanation':{'type':_0xd28f14(0x12e)},'imageCode':{'type':_0xd28f14(0x12e)}},'required':[_0xd28f14(0x421),'questionType',_0xd28f14(0x7bd)]},_0x208482={'type':_0xd28f14(0x203),'properties':{'topic':{'type':_0xd28f14(0x12e)},'questions':{'type':_0xd28f14(0x331),'items':_0x5ed5f6}},'required':[_0xd28f14(0xf7),_0xd28f14(0x194)]};await handleApiCall(_0x2c6998,_0xd28f14(0x19a),_0x208482);}catch(_0x2520bc){console['error'](_0xd28f14(0x5be),_0x2520bc),showMessage(_0xd28f14(0x3f6)+_0x2520bc[_0xd28f14(0x63b)]),_0x4717b1['innerHTML']=_0xd28f14(0x78b);}finally{_0x5bc3d5['classList'][_0xd28f14(0x4df)]('hidden'),_0x36254c['disabled']=![];}}async function handleGenerateParallelFromBank(_0x28aca8){const _0x1db031=_0x52d111,_0x335590=document['getElementById']('results-tab-content'),_0x53fda2=document[_0x1db031(0x7d2)](_0x1db031(0x384));_0x53fda2['classList']['add']('hidden');const _0xe5993f=_0x1db031(0x46f)+_0x28aca8[_0x1db031(0xf7)]+_0x1db031(0x311);_0x335590['insertAdjacentHTML'](_0x1db031(0x456),_0xe5993f);const _0x45e295=document[_0x1db031(0x7d2)]('temp-loader-text-results');try{const _0x5ead6f=_0x28aca8[_0x1db031(0x194)][_0x1db031(0x2ba)]((_0x2dc228,_0x1d3a4d)=>{const _0x1ce3ec=_0x1db031;let _0x4794fd=_0x1d3a4d+0x1+'.\x20'+(_0x2dc228['questionText']||_0x2dc228[_0x1ce3ec(0x4c1)])+'\x0a';if(_0x2dc228[_0x1ce3ec(0x417)])_0x4794fd+=_0x2dc228[_0x1ce3ec(0x417)][_0x1ce3ec(0x2ba)]((_0x5ef828,_0x58c7b6)=>'\x20\x20\x20-\x20'+(_0x58c7b6===_0x2dc228['correctAnswerIndex']?_0x1ce3ec(0x3cd):'')+'\x20'+_0x5ef828)['join']('\x0a');else _0x2dc228[_0x1ce3ec(0x474)]&&(_0x4794fd+='\x20\x20\x20-\x20คำตอบ:\x20'+_0x2dc228[_0x1ce3ec(0x474)]);return _0x4794fd;})['join']('\x0a\x0a');_0x45e295[_0x1db031(0x645)]='วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...';const _0x2847d9=_0x1db031(0x630)+_0x28aca8[_0x1db031(0xf7)]+'\x22:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ead6f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งต้องวัดความรู้ในเรื่องเดียวกันและมีระดับความยากเท่ากัน\x20แต่ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้ของเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+simpleMathPrompt+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x9e9caa={'type':_0x1db031(0x203),'properties':{'questionText':{'type':_0x1db031(0x12e)},'questionType':{'type':'STRING','enum':[_0x1db031(0x4a6),_0x1db031(0x605),'true_false','matching_item']},'options':{'type':_0x1db031(0x331),'items':{'type':_0x1db031(0x12e)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'correctAnswer':{'type':_0x1db031(0xe4)},'stem':{'type':'STRING'},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x1db031(0x331),'items':{'type':_0x1db031(0x12e)}},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1db031(0x12e)}},'required':['questionType',_0x1db031(0x7bd)]},_0x7219e2={'type':_0x1db031(0x203),'properties':{'topic':{'type':_0x1db031(0x12e)},'questions':{'type':'ARRAY','items':_0x9e9caa}},'required':['topic',_0x1db031(0x194)]},_0x32e4f4=await callAnalysisApi(_0x2847d9,_0x7219e2),_0x67cb5a=_0x1db031(0x134)+_0x28aca8[_0x1db031(0xf7)],_0x1d959f={'topic':_0x67cb5a,'questions':_0x32e4f4[_0x1db031(0x194)],'quizType':_0x28aca8['quizType'],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x1db031(0x38a),'settings':_0x28aca8[_0x1db031(0x640)],'quizMode':_0x1db031(0x269),'pairedQuizId':null,'lessonPlan':null};let _0x3d2792;while(!![]){_0x3d2792=Math['floor'](0x3e8+Math[_0x1db031(0x38b)]()*0x2328)[_0x1db031(0x275)]();const _0x1c129e=await getDoc(doc(db,'artifacts/'+appId+_0x1db031(0x737),_0x3d2792));if(!_0x1c129e['exists']())break;}await setDoc(doc(db,_0x1db031(0x5fb)+appId+_0x1db031(0x737),_0x3d2792),_0x1d959f),showMessage(_0x1db031(0x1c3));}catch(_0x45d174){console[_0x1db031(0x403)](_0x1db031(0x6ff),_0x45d174),showMessage(_0x1db031(0x3f6)+_0x45d174['message']);}finally{const _0x268803=document[_0x1db031(0x7d2)]('temp-loader-results');_0x268803&&_0x268803[_0x1db031(0x218)](),_0x53fda2[_0x1db031(0x21b)][_0x1db031(0x218)](_0x1db031(0x79f));}}async function handleGenerateParallelPostTest(_0x192ffc){const _0x2ce37d=_0x52d111,_0x18b821=document[_0x2ce37d(0x7d2)](_0x2ce37d(0x753)),_0x21fc1f=document[_0x2ce37d(0x7d2)]('project-quizzes-list');_0x21fc1f['classList'][_0x2ce37d(0x4df)]('hidden');const _0x21b2bc=_0x2ce37d(0x549);_0x18b821[_0x2ce37d(0x2f0)](_0x2ce37d(0x456),_0x21b2bc);try{const _0x145964=_0x192ffc[_0x2ce37d(0x194)][_0x2ce37d(0x2ba)]((_0x5e1798,_0x59c8b7)=>{const _0x1852c3=_0x2ce37d;let _0x47937d=_0x59c8b7+0x1+'.\x20'+(_0x5e1798['questionText']||_0x5e1798[_0x1852c3(0x4c1)]);if(_0x5e1798['options'])_0x47937d+=_0x1852c3(0x2ad)+_0x5e1798[_0x1852c3(0x417)][_0x1852c3(0x589)](',\x20');return _0x47937d;})[_0x2ce37d(0x589)]('\x0a\x0a'),_0x256a3c=_0x2ce37d(0x22e)+_0x192ffc[_0x2ce37d(0xf7)]+_0x2ce37d(0x30d)+_0x145964+_0x2ce37d(0x4b3)+simpleMathPrompt+_0x2ce37d(0x153),_0x3dbf17={'type':_0x2ce37d(0x203),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x2ce37d(0x331),'items':{'type':_0x2ce37d(0x203),'properties':{'questionText':{'type':_0x2ce37d(0x12e)},'questionType':{'type':_0x2ce37d(0x12e)},'options':{'type':_0x2ce37d(0x331),'items':{'type':_0x2ce37d(0x12e)}},'correctAnswerIndex':{'type':'NUMBER'},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0x2ce37d(0x12e)}},'required':[_0x2ce37d(0x421),_0x2ce37d(0x7bd)]}}},'required':[_0x2ce37d(0xf7),_0x2ce37d(0x194)]},_0x29751c=await callAnalysisApi(_0x256a3c,_0x3dbf17),_0x1edefc=_0x192ffc[_0x2ce37d(0xf7)][_0x2ce37d(0x36d)](_0x2ce37d(0x3b1),'')[_0x2ce37d(0x74c)](),_0x247a27=_0x2ce37d(0x580)+_0x1edefc,_0x336f45={..._0x29751c,'topic':_0x247a27,'quizType':_0x192ffc[_0x2ce37d(0x3a7)],'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x2ce37d(0x38a),'settings':_0x192ffc['settings'],'quizMode':'post-test','pairedQuizId':_0x192ffc['id']};let _0x4927fa;while(!![]){_0x4927fa=Math[_0x2ce37d(0x615)](0x3e8+Math[_0x2ce37d(0x38b)]()*0x2328)[_0x2ce37d(0x275)]();const _0x39d4f1=await getDoc(doc(db,_0x2ce37d(0x5fb)+appId+_0x2ce37d(0x737),_0x4927fa));if(!_0x39d4f1['exists']())break;}await setDoc(doc(db,_0x2ce37d(0x5fb)+appId+'/public/data/quizzes',_0x4927fa),_0x336f45);const _0x5be536=doc(db,_0x2ce37d(0x5fb)+appId+_0x2ce37d(0x737),_0x192ffc['id']);await updateDoc(_0x5be536,{'pairedQuizId':_0x4927fa}),showMessage(_0x2ce37d(0x4ed));}catch(_0x42d2b6){console[_0x2ce37d(0x403)](_0x2ce37d(0x561),_0x42d2b6),showMessage(_0x2ce37d(0x3f6)+_0x42d2b6[_0x2ce37d(0x63b)]);}finally{const _0x3273a5=document['getElementById']('temp-loader-results');if(_0x3273a5)_0x3273a5['remove']();_0x21fc1f[_0x2ce37d(0x21b)][_0x2ce37d(0x218)](_0x2ce37d(0x79f));}}async function handleGenerateParallelTest(){const _0x10712b=_0x52d111,_0x4fa93f=document[_0x10712b(0x7d2)](_0x10712b(0x30f)),_0x2f670b=_0x4fa93f[_0x10712b(0x2c2)][0x0];if(!_0x2f670b){showMessage(_0x10712b(0x687));return;}const _0x2b9851=document[_0x10712b(0x7d2)](_0x10712b(0x1b7)),_0x368624=document[_0x10712b(0x7d2)](_0x10712b(0x4c6)),_0x342834=document['getElementById'](_0x10712b(0x74f)),_0x3cad81=document[_0x10712b(0x7d2)](_0x10712b(0xc9));_0x3cad81[_0x10712b(0x681)]=!![],document[_0x10712b(0x7d2)](_0x10712b(0x7d3))[_0x10712b(0x21b)][_0x10712b(0x218)](_0x10712b(0x79f)),_0x342834[_0x10712b(0x1da)]='',_0x2b9851[_0x10712b(0x21b)][_0x10712b(0x218)](_0x10712b(0x79f)),_0x368624[_0x10712b(0x645)]=_0x10712b(0x126);try{const _0x340975=await extractTextFromPdf(_0x2f670b);if(!_0x340975[_0x10712b(0x74c)]())throw new Error(_0x10712b(0x6cd));_0x368624[_0x10712b(0x645)]=_0x10712b(0x7b7);const _0x17d53a=document['getElementById'](_0x10712b(0xf9))[_0x10712b(0x569)],_0x10203f=_0x17d53a?_0x10712b(0x40c):'',_0x1f7135=_0x10712b(0x7fc)+_0x340975+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์ข้อสอบต้นฉบับนี้อย่างละเอียด\x20เพื่อทำความเข้าใจโครงสร้าง,\x20ขอบเขตเนื้อหา,\x20จำนวนข้อ,\x20รูปแบบคำถาม\x20(เช่น\x20ปรนัย,\x20เติมคำ),\x20และระดับความยากง่าย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20สร้าง\x20\x22แบบทดสอบคู่ขนาน\x22\x20(Parallel\x20Test)\x20ขึ้นมา\x201\x20ชุด\x20ซึ่งเป็นแบบทดสอบที่วัดความรู้ความสามารถในเรื่องเดียวกันและมีระดับความยากเท่ากันกับต้นฉบับ\x20**แต่ต้องใช้คำถาม\x20ตัวเลข\x20และสถานการณ์ที่แตกต่างออกไป\x20ห้ามคัดลอกโจทย์เดิมมาโดยเด็ดขาด**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทของคำถาม\x20(multiple_choice,\x20short_answer)\x20ต้องตรงกับข้อสอบต้นฉบับทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x10203f+_0x10712b(0x62a)+simpleMathPrompt+_0x10712b(0x153),_0x4c98db={'type':'OBJECT','properties':{'questionText':{'type':'STRING'},'questionType':{'type':'STRING','enum':[_0x10712b(0x4a6),_0x10712b(0x605)]},'options':{'type':'ARRAY','items':{'type':_0x10712b(0x12e)}},'correctAnswerIndex':{'type':_0x10712b(0x16b)},'idealAnswer':{'type':_0x10712b(0x12e)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x10712b(0x12e)}},'required':[_0x10712b(0x421),_0x10712b(0x2e1),_0x10712b(0x7bd)]},_0x5c9582={'type':'OBJECT','properties':{'topic':{'type':'STRING'},'questions':{'type':_0x10712b(0x331),'items':_0x4c98db}},'required':[_0x10712b(0xf7),'questions']};await handleApiCall(_0x1f7135,_0x10712b(0x4e9),_0x5c9582);}catch(_0x52b4ad){console['error'](_0x10712b(0x2d0),_0x52b4ad),showMessage(_0x10712b(0x3f6)+_0x52b4ad['message']),_0x342834['innerHTML']='<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบคู่ขนานได้</p>';}finally{_0x2b9851[_0x10712b(0x21b)][_0x10712b(0x4df)](_0x10712b(0x79f)),_0x3cad81['disabled']=![];}}async function handleRegenerateQuestionInEditor(_0x287c77){const _0x29ef9e=_0x52d111;if(currentEditingQuizData===null)return;const _0x57ba75=document[_0x29ef9e(0x7df)](_0x29ef9e(0x117)+_0x287c77+'\x22]');_0x57ba75&&(_0x57ba75['innerHTML']='<div\x20class=\x22flex\x20justify-center\x20items-center\x20h-32\x22><div\x20class=\x22loader\x22></div></div>');const _0x4d268c=currentEditingQuizData[_0x29ef9e(0x194)][_0x287c77],_0x3f4bb3=currentEditingQuizData['topic'],_0x6ffb75=_0x4d268c[_0x29ef9e(0x2e1)],_0x5c3213={'type':_0x29ef9e(0x203),'properties':{'questionText':{'type':_0x29ef9e(0x12e)},'options':{'type':_0x29ef9e(0x331),'items':{'type':_0x29ef9e(0x12e)}},'correctAnswerIndex':{'type':'NUMBER'},'explanation':{'type':_0x29ef9e(0x12e)}},'required':[_0x29ef9e(0x421),_0x29ef9e(0x417),_0x29ef9e(0x4b4),_0x29ef9e(0x7bd)]},_0x9a3581={'type':_0x29ef9e(0x203),'properties':{'questionText':{'type':_0x29ef9e(0x12e)},'idealAnswer':{'type':_0x29ef9e(0x12e)},'explanation':{'type':_0x29ef9e(0x12e)}},'required':[_0x29ef9e(0x421),_0x29ef9e(0x474),'explanation']};let _0x13f36c,_0x52f6a0='';_0x6ffb75==='multiple_choice'?(_0x13f36c=_0x5c3213,_0x52f6a0=_0x29ef9e(0x44b)):(_0x13f36c=_0x9a3581,_0x52f6a0=_0x29ef9e(0x52b));const _0x5e3ad2=_0x29ef9e(0x116)+_0x3f4bb3+_0x29ef9e(0x429)+_0x52f6a0+_0x29ef9e(0x6d6)+(_0x4d268c[_0x29ef9e(0x421)]||_0x4d268c[_0x29ef9e(0x4c1)])+_0x29ef9e(0x7fd)+simpleMathPrompt;try{const _0x4f9f32=await callAnalysisApi(_0x5e3ad2,_0x13f36c);currentEditingQuizData[_0x29ef9e(0x194)][_0x287c77]={..._0x4d268c,..._0x4f9f32},renderQuizEditor(currentEditingQuizData);}catch(_0x451272){console[_0x29ef9e(0x403)](_0x29ef9e(0x819),_0x451272),showMessage('เกิดข้อผิดพลาดในการสร้างโจทย์ใหม่'),renderQuizEditor(currentEditingQuizData);}}function handleModeSwitch(){const _0x3f9d57=_0x52d111,_0x194ddc=document[_0x3f9d57(0x7d2)](_0x3f9d57(0x608));currentMode===_0x3f9d57(0xcb)?(currentMode='admin',_0x194ddc['innerHTML']=_0x3f9d57(0x808),_0x194ddc[_0x3f9d57(0x146)]='สลับไปโหมดนักเรียน',showView(_0x3f9d57(0x1ab))):(currentMode=_0x3f9d57(0xcb),_0x194ddc['innerHTML']=_0x3f9d57(0x1e3),_0x194ddc[_0x3f9d57(0x146)]=_0x3f9d57(0x141),showView('student'));}function handleAdminLogin(){const _0x4f1240=_0x52d111,_0x4e89c1=document['getElementById'](_0x4f1240(0x1f0)),_0x31dfed=document[_0x4f1240(0x7d2)](_0x4f1240(0x5b5));if(_0x4e89c1[_0x4f1240(0x796)]===_0x4f1240(0x20e)){adminPasswordModal[_0x4f1240(0x21b)][_0x4f1240(0x4df)]('hidden'),_0x4e89c1['value']='',_0x31dfed[_0x4f1240(0x21b)]['add'](_0x4f1240(0x79f)),currentMode='admin';const _0x191e50=document['getElementById'](_0x4f1240(0x608));_0x191e50[_0x4f1240(0x1da)]='<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>',_0x191e50[_0x4f1240(0x146)]=_0x4f1240(0x16a),showView('admin-dashboard');}else _0x31dfed['classList'][_0x4f1240(0x218)](_0x4f1240(0x79f)),_0x4e89c1['value']='';}function switchProjectTab(_0x3ced10){const _0x55b427=_0x52d111;[_0x55b427(0x33e),_0x55b427(0x2a6),_0x55b427(0x56c)][_0x55b427(0x651)](_0x52e05d=>{const _0x57ca22=_0x55b427;document[_0x57ca22(0x7d2)](_0x52e05d+_0x57ca22(0x69e))[_0x57ca22(0x21b)][_0x57ca22(0x218)](_0x57ca22(0x38a)),document[_0x57ca22(0x7d2)](_0x52e05d+'-tab-content')[_0x57ca22(0x21b)][_0x57ca22(0x4df)](_0x57ca22(0x79f));}),document[_0x55b427(0x7d2)](_0x3ced10+_0x55b427(0x69e))[_0x55b427(0x21b)][_0x55b427(0x4df)](_0x55b427(0x38a)),document[_0x55b427(0x7d2)](_0x3ced10+_0x55b427(0x809))[_0x55b427(0x21b)][_0x55b427(0x218)](_0x55b427(0x79f));}function switchQuizDetailTab(_0x4730a5){const _0x4215dd=_0x52d111,_0x36677b={'analytics':{'btn':_0x4215dd(0x5ad),'content':'analytics-tab-content'},'scores':{'btn':_0x4215dd(0xd0),'content':_0x4215dd(0x6b2)},'leaderboard-quiz':{'btn':_0x4215dd(0x79b),'content':'leaderboard-quiz-tab-content'}};for(const _0x3678c8 in _0x36677b){document[_0x4215dd(0x7d2)](_0x36677b[_0x3678c8]['btn'])['classList']['remove']('active'),document['getElementById'](_0x36677b[_0x3678c8][_0x4215dd(0x231)])[_0x4215dd(0x21b)]['add'](_0x4215dd(0x79f));}document[_0x4215dd(0x7d2)](_0x36677b[_0x4730a5][_0x4215dd(0x166)])['classList'][_0x4215dd(0x4df)](_0x4215dd(0x38a)),document['getElementById'](_0x36677b[_0x4730a5][_0x4215dd(0x231)])[_0x4215dd(0x21b)][_0x4215dd(0x218)]('hidden');}function showMessage(_0x1aaf51){const _0x94f9ff=_0x52d111;modalMessage[_0x94f9ff(0x645)]=_0x1aaf51,messageModal[_0x94f9ff(0x21b)][_0x94f9ff(0x218)](_0x94f9ff(0x79f));}function showConfirmation(_0x37b5c6,_0x32b408){const _0x738445=_0x52d111;document[_0x738445(0x7d2)](_0x738445(0x574))['textContent']=_0x37b5c6,document[_0x738445(0x7d2)](_0x738445(0x53c))[_0x738445(0x7df)]('h3')['textContent']=_0x738445(0x4e0),confirmAction=_0x32b408,confirmationModal['classList'][_0x738445(0x218)](_0x738445(0x79f));}function listenForProjects(){const _0x5c947a=_0x52d111,_0x14e25a=doc(db,_0x5c947a(0x38c),'dashboardConfig');onSnapshot(_0x14e25a,_0xc20879=>{const _0x35574f=_0x5c947a;if(_0xc20879['exists']()){const _0x3cc91a=_0xc20879[_0x35574f(0x406)]();globalDashboardSettings[_0x35574f(0x2ea)]=_0x3cc91a[_0x35574f(0x2ea)]||_0x35574f(0x3ad),globalDashboardSettings[_0x35574f(0x312)]=_0x3cc91a[_0x35574f(0x312)]||[],globalDashboardSettings['projectOrder']=_0x3cc91a[_0x35574f(0x1a5)]||[];}allProjects[_0x35574f(0x426)]>0x0&&renderProjects();});const _0x2571fe=collection(db,'artifacts/'+appId+_0x5c947a(0x172));unsubscribeProjectsListener=onSnapshot(_0x2571fe,_0x5423ea=>{const _0x5c5dc9=_0x5c947a;allProjects=_0x5423ea['docs'][_0x5c5dc9(0x2ba)](_0x30c711=>({'id':_0x30c711['id'],..._0x30c711[_0x5c5dc9(0x406)]()})),renderProjects();},_0x378d4f=>{const _0x594e1d=_0x5c947a;console[_0x594e1d(0x403)](_0x594e1d(0x1b9),_0x378d4f),showMessage(_0x594e1d(0x7e0));});}function showColorPalette(_0x201278,_0x2f690b){const _0x5be32d=_0x52d111;document[_0x5be32d(0x78c)](_0x5be32d(0x54b))[_0x5be32d(0x651)](_0x2ddd76=>_0x2ddd76[_0x5be32d(0x218)]());const _0x279dfa=[_0x5be32d(0x3b7),_0x5be32d(0x72e),_0x5be32d(0x5e5),_0x5be32d(0x118),_0x5be32d(0x316),'#E0E7FF',_0x5be32d(0x7b0),_0x5be32d(0x620),_0x5be32d(0x3d1)],_0x528c96=document[_0x5be32d(0x44a)]('div');_0x528c96[_0x5be32d(0x57f)]=_0x5be32d(0x4e3),_0x279dfa[_0x5be32d(0x651)](_0xcc9c2c=>{const _0x3a42bb=_0x5be32d,_0x5029f3=document[_0x3a42bb(0x44a)](_0x3a42bb(0x6e7));_0x5029f3[_0x3a42bb(0x57f)]=_0x3a42bb(0x2b4),_0x5029f3[_0x3a42bb(0x3a0)][_0x3a42bb(0x1bb)]=_0xcc9c2c,_0x5029f3[_0x3a42bb(0x37f)]('click',()=>{const _0x14bcf1=_0x3a42bb;handleProjectColorChange(_0x2f690b,_0xcc9c2c),_0x528c96[_0x14bcf1(0x218)]();}),_0x528c96['appendChild'](_0x5029f3);}),document[_0x5be32d(0x302)][_0x5be32d(0x666)](_0x528c96);const _0x140b57=_0x201278[_0x5be32d(0x1ae)]();_0x528c96['style'][_0x5be32d(0x190)]=_0x140b57[_0x5be32d(0x4ff)]+window[_0x5be32d(0x35a)]+'px',_0x528c96[_0x5be32d(0x3a0)]['left']=_0x140b57[_0x5be32d(0x11d)]+window[_0x5be32d(0x729)]-_0x528c96[_0x5be32d(0x19b)]/0x2+'px';}async function handleProjectColorChange(_0x52a125,_0x117b0a){const _0x5eb3d7=_0x52d111,_0x1751ba=doc(db,'artifacts/'+appId+_0x5eb3d7(0x172),_0x52a125);try{await updateDoc(_0x1751ba,{'color':_0x117b0a});}catch(_0x2e4f08){console[_0x5eb3d7(0x403)](_0x5eb3d7(0x539),_0x2e4f08),showMessage(_0x5eb3d7(0x505));}}async function renderProjects(){const _0x5e2a88=_0x52d111,_0x19259c=globalDashboardSettings[_0x5e2a88(0x2ea)]||'date_desc',_0x21cd55=new Set(globalDashboardSettings[_0x5e2a88(0x312)]||[]);document[_0x5e2a88(0x7d2)]('project-sort-select')[_0x5e2a88(0x796)]=_0x19259c;const _0x5bec4a=document['getElementById']('project-search-input')['value']['toLowerCase']();let _0x47e374=allProjects[_0x5e2a88(0x48e)](_0x5b3e60=>_0x5b3e60[_0x5e2a88(0x288)]['toLowerCase']()['includes'](_0x5bec4a));const _0xcc631b=_0x47e374[_0x5e2a88(0x48e)](_0x32b10d=>_0x21cd55[_0x5e2a88(0x81b)](_0x32b10d['id'])),_0x390c40=_0x47e374[_0x5e2a88(0x48e)](_0x474025=>!_0x21cd55['has'](_0x474025['id'])),_0x2e4e08=(_0x5ce044,_0xb77a1d)=>{const _0x2a8f54=_0x5e2a88;switch(_0x19259c){case'name_asc':return _0x5ce044[_0x2a8f54(0x288)]['localeCompare'](_0xb77a1d[_0x2a8f54(0x288)],'th');case _0x2a8f54(0x322):return _0xb77a1d[_0x2a8f54(0x288)][_0x2a8f54(0x6af)](_0x5ce044[_0x2a8f54(0x288)],'th');case _0x2a8f54(0x617):return new Date(_0x5ce044['createdAt'])-new Date(_0xb77a1d[_0x2a8f54(0x176)]);case _0x2a8f54(0x3ad):default:return new Date(_0xb77a1d[_0x2a8f54(0x176)])-new Date(_0x5ce044[_0x2a8f54(0x176)]);}};_0xcc631b[_0x5e2a88(0x18d)](_0x2e4e08),_0x390c40[_0x5e2a88(0x18d)](_0x2e4e08);const _0x5280a4=[..._0xcc631b,..._0x390c40],_0x24f38e=globalDashboardSettings['projectOrder']||[];_0x24f38e[_0x5e2a88(0x426)]>0x0&&_0x5280a4[_0x5e2a88(0x18d)]((_0x495596,_0x5a71c1)=>{const _0x165444=_0x5e2a88,_0x1c50c7=_0x24f38e[_0x165444(0x2f9)](_0x495596['id']),_0x28afaf=_0x24f38e[_0x165444(0x2f9)](_0x5a71c1['id']);if(_0x1c50c7===-0x1)return 0x1;if(_0x28afaf===-0x1)return-0x1;return _0x1c50c7-_0x28afaf;});const _0x574310={};await Promise[_0x5e2a88(0x2de)](_0x5280a4[_0x5e2a88(0x2ba)](async _0x45c820=>{const _0x3714db=_0x5e2a88,_0x1eeed4=query(collection(db,_0x3714db(0x5fb)+appId+_0x3714db(0x737)),where(_0x3714db(0x5d8),'==',_0x45c820['id'])),_0x491e35=await getDocs(_0x1eeed4);_0x574310[_0x45c820['id']]=_0x491e35[_0x3714db(0x330)];}));let _0xedde26='';starredQuizzes[_0x5e2a88(0x426)]>0x0&&_0x5bec4a===''&&(_0xedde26+=_0x5e2a88(0x4aa)+starredQuizzes[_0x5e2a88(0x426)]+_0x5e2a88(0x2fe)),_0x5280a4[_0x5e2a88(0x651)](_0x428686=>{const _0x1c99d8=_0x5e2a88,_0x47e4b9=_0x574310[_0x428686['id']]??0x0,_0x3ddcc4=_0x21cd55['has'](_0x428686['id']),_0x25f061=_0x428686[_0x1c99d8(0x41b)]||_0x1c99d8(0x3b7),_0x3996d1=parseInt(_0x25f061[_0x1c99d8(0x343)](0x1,0x3),0x10)*0.299+parseInt(_0x25f061['substring'](0x3,0x5),0x10)*0.587+parseInt(_0x25f061[_0x1c99d8(0x343)](0x5,0x7),0x10)*0.114<0xba,_0x4cc884=_0x3996d1?_0x1c99d8(0x685):_0x1c99d8(0x579),_0x3ed193=_0x3996d1?_0x1c99d8(0x3ef):_0x1c99d8(0x5b4);_0xedde26+=_0x1c99d8(0x1f7)+(_0x3ddcc4?_0x1c99d8(0x4b9):_0x1c99d8(0x50e))+_0x1c99d8(0x525)+_0x25f061+_0x1c99d8(0x10f)+_0x428686['id']+_0x1c99d8(0x770)+_0x428686['id']+_0x1c99d8(0x667)+(_0x3996d1?_0x1c99d8(0x336):_0x1c99d8(0x7a4))+_0x1c99d8(0x32b)+_0x428686['id']+_0x1c99d8(0x4bb)+(_0x3996d1?'text-gray-300\x20hover:text-white':_0x1c99d8(0x7a4))+_0x1c99d8(0x65d)+(_0x3ddcc4?_0x3996d1?_0x1c99d8(0x1d6):_0x1c99d8(0x6c2):'')+_0x1c99d8(0x713)+_0x428686['id']+_0x1c99d8(0x4f0)+_0x4cc884+_0x1c99d8(0xf4)+_0x428686[_0x1c99d8(0x288)]+'</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20'+_0x3ed193+'\x20pointer-events-none\x22>สร้างเมื่อ:\x20'+new Date(_0x428686[_0x1c99d8(0x176)])['toLocaleDateString']('th-TH')+_0x1c99d8(0x492)+(_0x3996d1?_0x1c99d8(0x67f):_0x1c99d8(0x3d0))+_0x1c99d8(0x28e)+_0x47e4b9+_0x1c99d8(0x596)+_0x428686['id']+'\x22\x20data-name=\x22'+_0x428686[_0x1c99d8(0x288)]+_0x1c99d8(0x195)+(_0x3996d1?_0x1c99d8(0x256):_0x1c99d8(0x79d))+'\x20text-sm\x20p-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),projectList[_0x5e2a88(0x1da)]=_0xedde26,noProjectsMsg['classList'][_0x5e2a88(0x324)](_0x5e2a88(0x79f),_0xedde26[_0x5e2a88(0x426)]>0x0);}document[_0x52d111(0x7d2)]('confirm-create-project-btn')[_0x52d111(0x37f)](_0x52d111(0x155),async()=>{const _0x102d4c=_0x52d111,_0x30cd33=document['getElementById']('project-name-input'),_0x199da2=_0x30cd33[_0x102d4c(0x796)][_0x102d4c(0x74c)]();if(!_0x199da2){showMessage('กรุณาใส่ชื่อโปรเจค');return;}try{const _0x24a538=doc(collection(db,_0x102d4c(0x5fb)+appId+_0x102d4c(0x172)));await setDoc(_0x24a538,{'projectName':_0x199da2,'students':[],'settings':{'resultsDisplay':_0x102d4c(0x32d),'shuffleSetting':_0x102d4c(0x430),'defaultNumQuestions':0x5,'defaultNumChoices':0x4,'defaultPassingScore':0x3,'timerMode':_0x102d4c(0x430),'timerDuration':0xa,'showInStudentDashboard':![]},'createdBy':userId,'createdAt':new Date()[_0x102d4c(0x663)]()}),_0x30cd33[_0x102d4c(0x796)]='',createProjectModal[_0x102d4c(0x21b)][_0x102d4c(0x4df)]('hidden'),showMessage('สร้างโปรเจคสำเร็จ!');}catch(_0x44874f){console[_0x102d4c(0x403)]('Error\x20creating\x20project:',_0x44874f),showMessage('ไม่สามารถสร้างโปรเจคได้');}}),projectList[_0x52d111(0x37f)]('click',async _0x550fa9=>{const _0x6b274f=_0x52d111,_0x36ffc5=_0x550fa9[_0x6b274f(0x222)][_0x6b274f(0xee)](_0x6b274f(0x7a7)),_0x1b8c4f=_0x550fa9[_0x6b274f(0x222)][_0x6b274f(0xee)]('.delete-project-btn'),_0x1aeee6=_0x550fa9[_0x6b274f(0x222)][_0x6b274f(0xee)](_0x6b274f(0x805)),_0x4f8975=_0x550fa9['target'][_0x6b274f(0xee)]('.color-palette-btn');if(_0x1aeee6){const _0x3bba8e=_0x1aeee6['dataset']['id'],_0x75ac1d=doc(db,'globalSettings','dashboardConfig'),_0xd3d3e1=globalDashboardSettings[_0x6b274f(0x312)];let _0x5cab24;_0xd3d3e1[_0x6b274f(0x3ff)](_0x3bba8e)?_0x5cab24=_0xd3d3e1['filter'](_0x246de8=>_0x246de8!==_0x3bba8e):_0x5cab24=[..._0xd3d3e1,_0x3bba8e];try{await setDoc(_0x75ac1d,{'pinnedProjects':_0x5cab24},{'merge':!![]});}catch(_0x120620){console['error'](_0x6b274f(0x255),_0x120620),showMessage(_0x6b274f(0x244));}}else{if(_0x4f8975){const _0x33a287=_0x4f8975[_0x6b274f(0x3c3)]['id'];showColorPalette(_0x4f8975,_0x33a287);}else{if(_0x36ffc5){const _0x2b6cf2=_0x36ffc5['dataset']['id'];_0x2b6cf2===_0x6b274f(0x6a8)?showStarredProjectView():(currentProjectId=_0x2b6cf2,await loadProjectDetails(currentProjectId),showView(_0x6b274f(0x719)));}else{if(_0x1b8c4f){const _0x45d33=_0x1b8c4f['dataset']['id'],_0x387408=_0x1b8c4f[_0x6b274f(0x3c3)][_0x6b274f(0x121)];showConfirmation(_0x6b274f(0x135)+_0x387408+'\x22?\x20ข้อมูลทั้งหมดจะถูกลบอย่างถาวร',()=>handleDeleteProject(_0x45d33));}}}}}),projectList[_0x52d111(0x37f)](_0x52d111(0xfe),_0x3db48c=>{const _0x581498=_0x52d111,_0x138287=_0x3db48c[_0x581498(0x222)]['closest']('.project-card-container');_0x138287&&_0x138287['classList']['add'](_0x581498(0x515));}),projectList[_0x52d111(0x37f)](_0x52d111(0x45d),_0x56e8ed=>{const _0x3f5488=_0x52d111,_0x2c6b9a=_0x56e8ed[_0x3f5488(0x222)][_0x3f5488(0xee)](_0x3f5488(0x7ee));_0x2c6b9a&&_0x2c6b9a[_0x3f5488(0x21b)][_0x3f5488(0x218)](_0x3f5488(0x515));}),projectList[_0x52d111(0x37f)](_0x52d111(0x402),_0x159a38=>{const _0x5e0c7e=_0x52d111;_0x159a38[_0x5e0c7e(0x227)]();const _0x4f61b5=document[_0x5e0c7e(0x7df)](_0x5e0c7e(0x175));if(!_0x4f61b5)return;const _0x36dfc7=getDragAfterElement(projectList,_0x159a38[_0x5e0c7e(0x64a)]);_0x36dfc7==null?projectList[_0x5e0c7e(0x666)](_0x4f61b5):projectList[_0x5e0c7e(0x110)](_0x4f61b5,_0x36dfc7);}),projectList[_0x52d111(0x37f)]('drop',_0x98d43d=>{const _0x4d5080=_0x52d111;_0x98d43d['preventDefault']();const _0x290e6f=[...projectList['querySelectorAll'](_0x4d5080(0x3e7))]['map'](_0x240828=>_0x240828['dataset']['id']);saveProjectOrder(_0x290e6f);});function getDragAfterElement(_0x3158ee,_0x12696e){const _0x4765cb=_0x52d111,_0x72613d=[..._0x3158ee[_0x4765cb(0x78c)]('.project-card-container:not(.opacity-50)')];return _0x72613d[_0x4765cb(0x2ab)]((_0x5dc419,_0xc3c128)=>{const _0x5d9c51=_0x4765cb,_0xb78330=_0xc3c128[_0x5d9c51(0x1ae)](),_0x8523a9=_0x12696e-_0xb78330[_0x5d9c51(0x190)]-_0xb78330[_0x5d9c51(0xcc)]/0x2;return _0x8523a9<0x0&&_0x8523a9>_0x5dc419[_0x5d9c51(0x65c)]?{'offset':_0x8523a9,'element':_0xc3c128}:_0x5dc419;},{'offset':Number[_0x4765cb(0x6d3)]})[_0x4765cb(0x419)];}async function saveProjectOrder(_0x565864){const _0x59b233=_0x52d111,_0x3d85c8=doc(db,'globalSettings',_0x59b233(0x466));try{await setDoc(_0x3d85c8,{'projectOrder':_0x565864},{'merge':!![]});}catch(_0x41b409){console[_0x59b233(0x403)]('Error\x20saving\x20project\x20order:',_0x41b409),showMessage(_0x59b233(0x63d));}}function calculateMeanAndStdDev(_0x4d75b9){const _0x98e281=_0x52d111;if(_0x4d75b9[_0x98e281(0x426)]===0x0)return{'mean':0x0,'stdDev':0x0};const _0x82ac39=_0x4d75b9[_0x98e281(0x2ab)]((_0x147881,_0x49c409)=>_0x147881+_0x49c409,0x0)/_0x4d75b9[_0x98e281(0x426)];if(_0x4d75b9['length']===0x1)return{'mean':_0x82ac39,'stdDev':0x0};const _0x378cc0=Math[_0x98e281(0x4f4)](_0x4d75b9[_0x98e281(0x2ba)](_0x5dabce=>Math['pow'](_0x5dabce-_0x82ac39,0x2))[_0x98e281(0x2ab)]((_0x476b2a,_0x3e1f3f)=>_0x476b2a+_0x3e1f3f,0x0)/(_0x4d75b9['length']-0x1));return{'mean':_0x82ac39,'stdDev':_0x378cc0};}function calculateZScore(_0x584593,_0x435731,_0x2ca719){if(_0x2ca719===0x0)return 0x0;return(_0x584593-_0x435731)/_0x2ca719;}function calculateTScore(_0x37ed7a){return 0xa*_0x37ed7a+0x32;}function showStarredProjectView(){const _0x2f78f0=_0x52d111;currentProjectId='starred',currentProjectData=null,projectTitle[_0x2f78f0(0x645)]=_0x2f78f0(0x5ab),projectIdDisplay['textContent']=_0x2f78f0(0x738),showView(_0x2f78f0(0x719)),manageTab[_0x2f78f0(0x21b)]['add'](_0x2f78f0(0x79f)),leaderboardTab[_0x2f78f0(0x21b)][_0x2f78f0(0x4df)]('hidden'),switchProjectTab(_0x2f78f0(0x2a6)),renderQuizzes();}async function loadProjectDetails(_0x382f09){const _0x113777=_0x52d111,_0x7a4652=doc(db,_0x113777(0x5fb)+appId+_0x113777(0x172),_0x382f09),_0x31abfd=await getDoc(_0x7a4652);if(_0x31abfd[_0x113777(0x237)]()){manageTab[_0x113777(0x21b)]['remove'](_0x113777(0x79f)),leaderboardTab[_0x113777(0x21b)][_0x113777(0x218)](_0x113777(0x79f)),currentProjectData=_0x31abfd[_0x113777(0x406)](),projectTitle['textContent']=currentProjectData[_0x113777(0x288)],projectIdDisplay[_0x113777(0x645)]=_0x382f09;const _0xfe8bd=currentProjectData[_0x113777(0x640)]||{};document['getElementById'](_0x113777(0x4be))['value']=_0xfe8bd[_0x113777(0x18f)]||_0x113777(0x430);const _0x3d2862=document[_0x113777(0x7d2)](_0x113777(0x3d9));_0x3d2862['checked']=_0xfe8bd[_0x113777(0x381)]!==![];const _0x3fe2c5=document[_0x113777(0x7d2)](_0x113777(0x236)),_0x2916d5=document[_0x113777(0x7d2)](_0x113777(0x5b8)),_0x31683b=document[_0x113777(0x7d2)](_0x113777(0x5f8)),_0xb636c4=_0xfe8bd['isPasscodeEnabled']||![];_0x3fe2c5[_0x113777(0x569)]=_0xb636c4,_0x31683b[_0x113777(0x796)]=_0xfe8bd[_0x113777(0x49a)]||'',_0x2916d5[_0x113777(0x21b)][_0x113777(0x324)]('hidden',!_0xb636c4),_0x3fe2c5[_0x113777(0x174)]=()=>{const _0x23183f=_0x113777;_0x2916d5[_0x23183f(0x21b)]['toggle'](_0x23183f(0x79f),!_0x3fe2c5[_0x23183f(0x569)]);};if(unsubscribeStudentsListener)unsubscribeStudentsListener();if(unsubscribeQuizzesListener)unsubscribeQuizzesListener();if(unsubscribeStudentProfilesListener)unsubscribeStudentProfilesListener();listenForStudents(_0x382f09),listenForProjectQuizzes(_0x382f09),listenForStudentProfiles(_0x382f09);}else showMessage(_0x113777(0x432)),showView(_0x113777(0x1ab));}async function handleResetProjectOrder(){const _0x3967a3=_0x52d111,_0x504be9=doc(db,_0x3967a3(0x38c),_0x3967a3(0x466));try{await setDoc(_0x504be9,{'projectOrder':[]},{'merge':!![]}),showMessage(_0x3967a3(0x420));}catch(_0x28c114){console[_0x3967a3(0x403)]('Error\x20resetting\x20project\x20order:',_0x28c114),showMessage(_0x3967a3(0x3ac));}}async function handleTogglePinProject(_0x31c4a8){const _0xc45225=_0x52d111;if(!_0x31c4a8)return;const _0x225f4a=doc(db,'artifacts/'+appId+_0xc45225(0x172),_0x31c4a8);try{const _0x5bc200=await getDoc(_0x225f4a);if(_0x5bc200[_0xc45225(0x237)]()){const _0x46760e=_0x5bc200[_0xc45225(0x406)]()[_0xc45225(0x51d)]||![];await updateDoc(_0x225f4a,{'isPinned':!_0x46760e});}}catch(_0x58719b){console[_0xc45225(0x403)]('Error\x20toggling\x20pin\x20status:',_0x58719b),showMessage(_0xc45225(0x244));}}async function handleDeleteProject(_0x2aee45){const _0x1482f6=_0x52d111;try{const _0x1d69b0=writeBatch(db),_0x5e04b4=collection(db,'artifacts/'+appId+_0x1482f6(0x737)),_0x2bff72=query(_0x5e04b4,where('projectId','==',_0x2aee45)),_0x3e84a6=await getDocs(_0x2bff72);for(const _0x1341f8 of _0x3e84a6[_0x1482f6(0x23a)]){const _0x3bacc6=collection(db,'artifacts/'+appId+_0x1482f6(0x378)+_0x1341f8['id']+'/submissions'),_0x544f7b=await getDocs(_0x3bacc6);_0x544f7b[_0x1482f6(0x651)](_0x362714=>{const _0x333e53=_0x1482f6;_0x1d69b0['delete'](_0x362714[_0x333e53(0x59d)]);}),_0x1d69b0[_0x1482f6(0x7c9)](_0x1341f8[_0x1482f6(0x59d)]);}const _0xba39fa=collection(db,_0x1482f6(0x5fb)+appId+_0x1482f6(0x522)+_0x2aee45+_0x1482f6(0x5d1)),_0x145955=await getDocs(_0xba39fa);_0x145955[_0x1482f6(0x651)](_0x5a7db6=>{const _0x3a71d5=_0x1482f6;_0x1d69b0[_0x3a71d5(0x7c9)](_0x5a7db6[_0x3a71d5(0x59d)]);});const _0x4080c7=doc(db,'artifacts/'+appId+_0x1482f6(0x172),_0x2aee45);_0x1d69b0[_0x1482f6(0x7c9)](_0x4080c7),await _0x1d69b0[_0x1482f6(0x664)](),showMessage(_0x1482f6(0x2dc)),showView('admin-dashboard');}catch(_0x47491c){console[_0x1482f6(0x403)](_0x1482f6(0x103),_0x47491c),showMessage(_0x1482f6(0x5b7));}}document[_0x52d111(0x7d2)]('save-settings-btn')[_0x52d111(0x37f)](_0x52d111(0x155),async()=>{const _0x2637d3=_0x52d111;if(!currentProjectId)return;const _0x123c77={'defaultNumQuestions':parseInt(document['getElementById'](_0x2637d3(0x30e))[_0x2637d3(0x796)]),'defaultNumChoices':parseInt(document[_0x2637d3(0x7d2)]('num-choices')['value']),'defaultPassingScore':parseInt(document[_0x2637d3(0x7d2)]('passing-score-input')['value']),'resultsDisplay':document[_0x2637d3(0x7d2)]('results-display-select')['value'],'shuffleSetting':document[_0x2637d3(0x7d2)](_0x2637d3(0x4be))['value'],'timerMode':document[_0x2637d3(0x7d2)]('timer-mode-select')['value'],'timerDuration':parseInt(document['getElementById']('timer-duration-input')['value'])};try{const _0x2559fd=doc(db,_0x2637d3(0x5fb)+appId+'/public/data/projects',currentProjectId);await updateDoc(_0x2559fd,{'settings':_0x123c77}),showMessage(_0x2637d3(0x4ad));}catch(_0x6e6b2e){console[_0x2637d3(0x403)](_0x2637d3(0x4b2),_0x6e6b2e),showMessage(_0x2637d3(0x641));}});function listenForStudents(_0x21f5ec){const _0x4202e1=doc(db,'artifacts/'+appId+'/public/data/projects',_0x21f5ec);unsubscribeStudentsListener=onSnapshot(_0x4202e1,_0x1b7f93=>{const _0x394552=_0x9350;if(_0x1b7f93['exists']()){const _0x569ee0=_0x1b7f93[_0x394552(0x406)]();currentProjectData=_0x569ee0,renderStudentList(_0x569ee0[_0x394552(0x636)]||[]);}});}function renderStudentList(_0x3dcd28){const _0x3df7c6=_0x52d111,_0x13fb9d=document[_0x3df7c6(0x7d2)](_0x3df7c6(0x296));_0x3dcd28[_0x3df7c6(0x426)]===0x0?(studentList[_0x3df7c6(0x1da)]=_0x3df7c6(0x67c),_0x13fb9d[_0x3df7c6(0x21b)][_0x3df7c6(0x4df)]('hidden')):(studentList[_0x3df7c6(0x1da)]=_0x3dcd28[_0x3df7c6(0x2ba)](_0x4cddb3=>_0x3df7c6(0x5c5)+_0x4cddb3+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22'+_0x4cddb3+'\x22\x20class=\x22delete-student-btn\x20text-red-500\x20hover:text-red-700\x20p-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x3df7c6(0x589)](''),_0x13fb9d[_0x3df7c6(0x21b)]['remove'](_0x3df7c6(0x79f)));}document['getElementById'](_0x52d111(0x75d))['addEventListener'](_0x52d111(0x155),async()=>{const _0x4735c9=_0x52d111;if(!currentProjectId)return;const _0x1b52e3=document['getElementById'](_0x4735c9(0x60b)),_0x100c00=_0x1b52e3[_0x4735c9(0x796)][_0x4735c9(0x74c)]();if(!_0x100c00){showMessage(_0x4735c9(0x63f));return;}const _0x5465af=_0x100c00[_0x4735c9(0x31d)]('\x0a')[_0x4735c9(0x2ba)](_0x3117a9=>_0x3117a9[_0x4735c9(0x74c)]())[_0x4735c9(0x48e)](_0x2b069c=>_0x2b069c);if(_0x5465af[_0x4735c9(0x426)]===0x0)return;try{const _0xd413df=doc(db,_0x4735c9(0x5fb)+appId+_0x4735c9(0x172),currentProjectId),_0x4beea5=await getDoc(_0xd413df);if(_0x4beea5[_0x4735c9(0x237)]()){const _0x3fdd03=_0x4beea5[_0x4735c9(0x406)]()[_0x4735c9(0x636)]||[],_0x53940a=[...new Set([..._0x3fdd03,..._0x5465af])];await updateDoc(_0xd413df,{'students':_0x53940a}),_0x1b52e3['value']='';}}catch(_0x1a13c4){console[_0x4735c9(0x403)]('Error\x20adding\x20students:',_0x1a13c4),showMessage(_0x4735c9(0x351));}});async function handleManualQuizPairing(_0x2c8eaa){const _0x56e1b7=_0x52d111,_0x3e349f=document[_0x56e1b7(0x7d2)]('move-quiz-modal'),_0x406bc1=document['getElementById'](_0x56e1b7(0x2ed)),_0x526107=_0x3e349f['querySelector']('h3'),_0x484187=document[_0x56e1b7(0x7d2)](_0x56e1b7(0x58a)),_0x1e7e1b=document[_0x56e1b7(0x7d2)]('cancel-move-quiz-btn');_0x526107[_0x56e1b7(0x645)]=_0x56e1b7(0x47c),_0x406bc1[_0x56e1b7(0x1da)]=_0x56e1b7(0x34c),_0x484187['textContent']=_0x56e1b7(0xf2),_0x3e349f[_0x56e1b7(0x21b)][_0x56e1b7(0x218)](_0x56e1b7(0x79f));const _0x231750=allQuizzes[_0x56e1b7(0x48e)](_0x372043=>_0x372043['id']!==_0x2c8eaa);_0x231750[_0x56e1b7(0x426)]===0x0?(_0x406bc1[_0x56e1b7(0x1da)]='<option\x20value=\x22\x22>ไม่มีแบบทดสอบอื่นให้จับคู่</option>',_0x484187['disabled']=!![]):(_0x406bc1[_0x56e1b7(0x1da)]='<option\x20value=\x22\x22>--\x20เลือกแบบทดสอบที่จะเปรียบเทียบ\x20--</option>'+_0x231750['map'](_0x4e9359=>_0x56e1b7(0x23d)+_0x4e9359['id']+'\x22>'+_0x4e9359[_0x56e1b7(0xf7)]+_0x56e1b7(0x418))[_0x56e1b7(0x589)](''),_0x484187[_0x56e1b7(0x681)]=![]);const _0x1ad0c1=async()=>{const _0x9b6240=_0x56e1b7,_0x453274=_0x406bc1[_0x9b6240(0x796)];if(!_0x453274){showMessage(_0x9b6240(0x494));return;}_0x484187['disabled']=!![],_0x484187[_0x9b6240(0x645)]=_0x9b6240(0x188);try{const _0x14c84f=doc(db,_0x9b6240(0x5fb)+appId+_0x9b6240(0x737),_0x2c8eaa),_0x7f0b3c=doc(db,_0x9b6240(0x5fb)+appId+'/public/data/quizzes',_0x453274),_0x547b07=writeBatch(db);_0x547b07[_0x9b6240(0x7e9)](_0x14c84f,{'pairedQuizId':_0x453274}),_0x547b07[_0x9b6240(0x7e9)](_0x7f0b3c,{'pairedQuizId':_0x2c8eaa}),await _0x547b07[_0x9b6240(0x664)](),showMessage('จับคู่แบบทดสอบสำเร็จ!'),_0x3e349f[_0x9b6240(0x21b)][_0x9b6240(0x4df)](_0x9b6240(0x79f));}catch(_0x1449e5){console[_0x9b6240(0x403)]('Error\x20pairing\x20quizzes:',_0x1449e5),showMessage(_0x9b6240(0x714));}finally{_0x526107[_0x9b6240(0x645)]=_0x9b6240(0x1ac),_0x484187['textContent']=_0x9b6240(0x163),_0x484187['disabled']=![],_0x484187[_0x9b6240(0x6d0)](_0x9b6240(0x155),_0x1ad0c1),_0x1e7e1b['removeEventListener']('click',_0x19151a);}},_0x19151a=()=>{const _0x5f5484=_0x56e1b7;_0x3e349f['classList']['add'](_0x5f5484(0x79f)),_0x526107[_0x5f5484(0x645)]=_0x5f5484(0x1ac),_0x484187[_0x5f5484(0x645)]=_0x5f5484(0x163),_0x484187[_0x5f5484(0x6d0)](_0x5f5484(0x155),_0x1ad0c1),_0x1e7e1b[_0x5f5484(0x6d0)](_0x5f5484(0x155),_0x19151a);};_0x484187[_0x56e1b7(0x37f)]('click',_0x1ad0c1),_0x1e7e1b[_0x56e1b7(0x37f)](_0x56e1b7(0x155),_0x19151a);}function handleDeleteStudent(_0x2b8247){const _0x12c150=_0x52d111;showConfirmation('คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนชื่อ\x20\x22'+_0x2b8247+_0x12c150(0x40b),async()=>{const _0x3372b9=_0x12c150;if(!currentProjectId||!currentProjectData)return;const _0x40111b=currentProjectData[_0x3372b9(0x636)][_0x3372b9(0x48e)](_0x224e7e=>_0x224e7e!==_0x2b8247);try{const _0x2a98a5=doc(db,_0x3372b9(0x5fb)+appId+'/public/data/projects',currentProjectId),_0x51f480=doc(db,_0x3372b9(0x5fb)+appId+_0x3372b9(0x522)+currentProjectId+'/studentProfiles',_0x2b8247),_0x3b72f2=writeBatch(db);_0x3b72f2['update'](_0x2a98a5,{'students':_0x40111b}),_0x3b72f2[_0x3372b9(0x7c9)](_0x51f480),await _0x3b72f2[_0x3372b9(0x664)]();}catch(_0xecf58f){console['error'](_0x3372b9(0x48f),_0xecf58f),showMessage('เกิดข้อผิดพลาดในการลบนักเรียน');}});}function handleDeleteAllStudents(){const _0x40bf72=_0x52d111;showConfirmation(_0x40bf72(0x1b4),async()=>{const _0x1792e7=_0x40bf72;if(!currentProjectId)return;try{const _0x545750=doc(db,_0x1792e7(0x5fb)+appId+'/public/data/projects',currentProjectId),_0x32d2d6=collection(db,_0x1792e7(0x5fb)+appId+_0x1792e7(0x522)+currentProjectId+_0x1792e7(0x5d1)),_0x1638c1=await getDocs(_0x32d2d6),_0x4d8782=writeBatch(db);_0x4d8782['update'](_0x545750,{'students':[]}),_0x1638c1[_0x1792e7(0x651)](_0x5f87e7=>_0x4d8782[_0x1792e7(0x7c9)](_0x5f87e7['ref'])),await _0x4d8782['commit']();}catch(_0x1e10de){console[_0x1792e7(0x403)](_0x1792e7(0x433),_0x1e10de),showMessage(_0x1792e7(0x295));}});}async function handleGenerateFromFileClick(){const _0x10e69b=_0x52d111;if(!selectedFile){showMessage(_0x10e69b(0x284));return;}const _0x4bd33f=document[_0x10e69b(0x7d2)](_0x10e69b(0x1b7)),_0x7b2292=document[_0x10e69b(0x7d2)]('loader-text'),_0x212a42=document[_0x10e69b(0x7d2)](_0x10e69b(0x74f)),_0x24071d=document[_0x10e69b(0x7d2)](_0x10e69b(0x637));_0x24071d[_0x10e69b(0x681)]=!![],document[_0x10e69b(0x7d2)](_0x10e69b(0x7d3))[_0x10e69b(0x21b)][_0x10e69b(0x218)](_0x10e69b(0x79f)),_0x212a42[_0x10e69b(0x1da)]='',_0x4bd33f['classList'][_0x10e69b(0x218)](_0x10e69b(0x79f)),_0x7b2292[_0x10e69b(0x645)]='กำลังอ่านและเตรียมไฟล์...';const _0x1767c6=new FileReader();_0x1767c6[_0x10e69b(0x40d)](selectedFile),_0x1767c6[_0x10e69b(0x4a2)]=async()=>{const _0x23784f=_0x10e69b;try{const _0x25e274=_0x1767c6[_0x23784f(0x13d)][_0x23784f(0x31d)](',')[0x1],_0x43bd49=selectedFile[_0x23784f(0x63c)];await generateQuizFromFile(_0x43bd49,_0x25e274);}catch(_0x861f2e){console['error'](_0x23784f(0x25f),_0x861f2e),showMessage(_0x23784f(0x6fb)+_0x861f2e[_0x23784f(0x63b)]),_0x4bd33f['classList'][_0x23784f(0x4df)](_0x23784f(0x79f));}finally{}},_0x1767c6[_0x10e69b(0x2b3)]=_0x2976b9=>{const _0x1b8147=_0x10e69b;console[_0x1b8147(0x403)](_0x1b8147(0x7c2),_0x2976b9),showMessage(_0x1b8147(0x232)),_0x4bd33f[_0x1b8147(0x21b)]['add'](_0x1b8147(0x79f)),_0x24071d[_0x1b8147(0x681)]=![];};}function autoFormatMath(_0x6d312e){const _0x2e6070=_0x52d111;if(typeof _0x6d312e!==_0x2e6070(0x5a2)||!_0x6d312e)return _0x6d312e;const _0x133bad=/((?<!\$)\b(\d+(\.\d+)?\s*(\\times|\\div)\s*\d+(\.\d+)?|(\d+\s*\^\s*\{?\d+\}?)|(\\frac|\\sqrt|\\pm|\\geq|\\leq|\\neq))\b(?!\$))/g;let _0x24092f=_0x6d312e[_0x2e6070(0x36d)](_0x133bad,_0x3a243c=>{return'$'+_0x3a243c['trim']()+'$';});return _0x24092f;}function sanitizeQuizData(_0x3461e8){const _0x9191ac=_0x52d111;if(!_0x3461e8||!_0x3461e8[_0x9191ac(0x194)])return _0x3461e8;const _0x559c32={'imes':_0x9191ac(0x337),'div':_0x9191ac(0x443)},_0x145099=_0x2ea9ec=>{const _0x2655dc=_0x9191ac;if(typeof _0x2ea9ec!==_0x2655dc(0x5a2))return _0x2ea9ec;let _0x39ac55=_0x2ea9ec;for(const [_0x35449b,_0x2c0988]of Object[_0x2655dc(0x52e)](_0x559c32)){const _0x1bcf13=new RegExp('\x5cb'+_0x35449b+'\x5cb','g');_0x39ac55=_0x39ac55[_0x2655dc(0x36d)](_0x1bcf13,_0x2c0988);}return _0x39ac55=_0x39ac55[_0x2655dc(0x36d)](/\\\//g,_0x2655dc(0x443)),_0x39ac55=_0x39ac55[_0x2655dc(0x36d)](/<(i|em)>\s*div\s*<\/\1>/gi,_0x2655dc(0x443))[_0x2655dc(0x36d)](/<(i|em)>\s*times\s*<\/\1>/gi,_0x2655dc(0x337))[_0x2655dc(0x36d)](/÷/g,'\x5cdiv')[_0x2655dc(0x36d)](/×/g,'\x5ctimes'),_0x39ac55=_0x39ac55[_0x2655dc(0x36d)](/(\d)(\\frac)/g,_0x2655dc(0x440)),_0x39ac55=autoFormatMath(_0x39ac55),_0x39ac55;};return _0x3461e8['topic']&&(_0x3461e8[_0x9191ac(0xf7)]=_0x145099(_0x3461e8[_0x9191ac(0xf7)])),_0x3461e8[_0x9191ac(0x194)][_0x9191ac(0x651)](_0x525d24=>{const _0xaca7f4=_0x9191ac;_0x525d24[_0xaca7f4(0x421)]=_0x145099(_0x525d24[_0xaca7f4(0x421)]),_0x525d24[_0xaca7f4(0x417)]&&(_0x525d24[_0xaca7f4(0x417)]=_0x525d24[_0xaca7f4(0x417)][_0xaca7f4(0x2ba)](_0x145099)),_0x525d24['explanation']&&(_0x525d24[_0xaca7f4(0x7bd)]=_0x145099(_0x525d24[_0xaca7f4(0x7bd)])),_0x525d24[_0xaca7f4(0x4c1)]&&(_0x525d24[_0xaca7f4(0x4c1)]=_0x145099(_0x525d24[_0xaca7f4(0x4c1)])),_0x525d24[_0xaca7f4(0x1bd)]&&(_0x525d24[_0xaca7f4(0x1bd)]=_0x145099(_0x525d24[_0xaca7f4(0x1bd)])),_0x525d24[_0xaca7f4(0x1af)]&&(_0x525d24[_0xaca7f4(0x1af)]=_0x525d24['allResponses']['map'](_0x145099));}),_0x3461e8;}const simpleMathPrompt=_0x52d111(0x27e);async function handleGenerateFromLink(){const _0x38623a=_0x52d111,_0x2ced1b=document['getElementById'](_0x38623a(0x224)),_0x2ccf40=document[_0x38623a(0x7d2)]('link-topic-input'),_0x35f798=_0x2ced1b[_0x38623a(0x796)]['trim'](),_0x385d16=_0x2ccf40[_0x38623a(0x796)]['trim']();if(!_0x35f798){showMessage(_0x38623a(0x132));return;}const _0x3d006d=document[_0x38623a(0x7d2)]('loader'),_0x3f994d=document[_0x38623a(0x7d2)](_0x38623a(0x4c6)),_0x35e3a1=document['getElementById'](_0x38623a(0x74f)),_0x364ceb=document[_0x38623a(0x7d2)](_0x38623a(0x2a3));document[_0x38623a(0x7d2)](_0x38623a(0x7d3))[_0x38623a(0x21b)][_0x38623a(0x218)](_0x38623a(0x79f)),_0x35e3a1[_0x38623a(0x1da)]='',_0x3d006d[_0x38623a(0x21b)][_0x38623a(0x218)](_0x38623a(0x79f)),_0x3f994d[_0x38623a(0x645)]='กำลังดึงข้อมูลจากลิงก์...',_0x364ceb[_0x38623a(0x681)]=!![];try{const _0x159585=_0x38623a(0x437)+encodeURIComponent(_0x35f798),_0x4ed4b7=await fetch(_0x159585);if(!_0x4ed4b7['ok'])throw new Error(_0x38623a(0x321)+_0x4ed4b7['status']+')');const _0x4b2481=await _0x4ed4b7[_0x38623a(0x45e)](),_0x18c160=extractTextFromHtml(_0x4b2481);if(!_0x18c160||_0x18c160['length']<0x64)throw new Error(_0x38623a(0x7f1));await generateQuiz(_0x385d16,_0x18c160);}catch(_0x11a220){console[_0x38623a(0x403)](_0x38623a(0x590),_0x11a220),showMessage('เกิดข้อผิดพลาด:\x20'+_0x11a220[_0x38623a(0x63b)]),_0x35e3a1[_0x38623a(0x1da)]=_0x38623a(0x792);}finally{_0x3d006d['classList'][_0x38623a(0x4df)](_0x38623a(0x79f)),_0x364ceb[_0x38623a(0x681)]=![];}}function _0x9350(_0x3ee821,_0x23dbeb){const _0xed41a=_0xed41();return _0x9350=function(_0x9350b8,_0x5730d0){_0x9350b8=_0x9350b8-0xb6;let _0x5250e2=_0xed41a[_0x9350b8];return _0x5250e2;},_0x9350(_0x3ee821,_0x23dbeb);}function extractTextFromHtml(_0x305c00){const _0x2119e5=_0x52d111,_0x5a70f6=new DOMParser()['parseFromString'](_0x305c00,_0x2119e5(0x759));return _0x5a70f6[_0x2119e5(0x78c)](_0x2119e5(0x2f2))[_0x2119e5(0x651)](_0x118a23=>_0x118a23[_0x2119e5(0x218)]()),_0x5a70f6[_0x2119e5(0x302)][_0x2119e5(0x645)]||'';}document[_0x52d111(0x7d2)](_0x52d111(0x801))[_0x52d111(0x37f)](_0x52d111(0x155),()=>{const _0x472e04=_0x52d111,_0x3bf668=document[_0x472e04(0x7d2)](_0x472e04(0x42e))[_0x472e04(0x796)][_0x472e04(0x74c)]();generateQuiz(_0x3bf668,null);}),document[_0x52d111(0x7d2)](_0x52d111(0x1e2))['addEventListener'](_0x52d111(0x155),()=>{const _0x12f9c3=_0x52d111,_0x3695cf=document[_0x12f9c3(0x7d2)](_0x12f9c3(0x113))[_0x12f9c3(0x796)]['trim']();if(!_0x3695cf){showMessage(_0x12f9c3(0x488));return;}const _0x20b708=document['getElementById']('topic-input')[_0x12f9c3(0x796)]['trim']();generateQuiz(_0x20b708,_0x3695cf);});async function generateQuiz(_0x4ab86c,_0x120f08,_0xa37136=null){const _0xbcbca6=_0x52d111,_0x308301=document['getElementById']('include-images-checkbox')[_0xbcbca6(0x569)],_0x4f2903=document[_0xbcbca6(0x7d2)]('quiz-type-select')[_0xbcbca6(0x796)],_0x50df3e=document[_0xbcbca6(0x7d2)](_0xbcbca6(0x30e))['value'],_0x53f5ab=document[_0xbcbca6(0x7d2)](_0xbcbca6(0x260))['value'],_0x4da1fe=document[_0xbcbca6(0x7d2)](_0xbcbca6(0x3af))[_0xbcbca6(0x569)],_0x5b5255=_0x4da1fe?'':_0xbcbca6(0x3f5),_0x1ae33e=document['getElementById'](_0xbcbca6(0x74d)),_0x5f56f9=_0x1ae33e[_0xbcbca6(0x796)];let _0x27abf4='';_0x5f56f9!==_0xbcbca6(0x5fc)&&(_0x27abf4='โดยให้มีความยากง่ายและใช้คำศัพท์ที่เหมาะสมสำหรับนักเรียนระดับชั้น\x20\x22'+_0x5f56f9+'\x22');const _0x56f535=document[_0xbcbca6(0x7d2)](_0xbcbca6(0x77e)),_0x342626=_0x56f535['value'];let _0x922008='';_0x342626!==_0xbcbca6(0x4bc)&&(_0x922008='โดยเน้นการวัดผลในระดับการคิดแบบ\x20\x22'+_0x342626+_0xbcbca6(0x196));const _0x11ed4c=document['querySelectorAll']('#math-topics-checkbox-container\x20input:checked'),_0xcac19d=Array['from'](_0x11ed4c)[_0xbcbca6(0x2ba)](_0x1796ee=>_0x1796ee['value']);let _0x6f6dee='';_0xcac19d[_0xbcbca6(0x426)]>0x0&&(_0x6f6dee=_0xbcbca6(0x37b)+_0xcac19d[_0xbcbca6(0x589)](',\x20')+_0xbcbca6(0x731));let _0x3056ca='',_0x52ad05='',_0x3ca895,_0x188259=_0xbcbca6(0x465)+_0x4ab86c+'\x22';if(!_0x4ab86c&&_0x120f08)_0x188259=_0xbcbca6(0x5fd);else!_0x4ab86c&&!_0x120f08&&(_0x188259=_0xbcbca6(0x47e));const _0x5d3656={'type':_0xbcbca6(0x203),'properties':{'questionText':{'type':_0xbcbca6(0x12e)},'options':{'type':_0xbcbca6(0x331),'items':{'type':_0xbcbca6(0x12e)}},'correctAnswerIndex':{'type':_0xbcbca6(0x16b)},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':['questionText','options',_0xbcbca6(0x4b4),_0xbcbca6(0x7bd)]},_0x4f0a01={'type':_0xbcbca6(0x203),'properties':{'questionText':{'type':_0xbcbca6(0x12e)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0xbcbca6(0x12e)},'imageCode':{'type':_0xbcbca6(0x12e)}},'required':[_0xbcbca6(0x421),_0xbcbca6(0x474),_0xbcbca6(0x7bd)]},_0x21ecef={'type':_0xbcbca6(0x203),'properties':{'questionText':{'type':_0xbcbca6(0x12e)},'questionType':{'type':'STRING','enum':[_0xbcbca6(0x4a6),'short_answer']},'options':{'type':_0xbcbca6(0x331),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0xbcbca6(0x16b)},'idealAnswer':{'type':'STRING'},'explanation':{'type':_0xbcbca6(0x12e)},'imageCode':{'type':_0xbcbca6(0x12e)}},'required':['questionText','questionType',_0xbcbca6(0x7bd)]},_0x38c013={'type':'OBJECT','properties':{'questionText':{'type':_0xbcbca6(0x12e)},'correctAnswer':{'type':_0xbcbca6(0xe4)},'explanation':{'type':_0xbcbca6(0x12e)},'imageCode':{'type':_0xbcbca6(0x12e)}},'required':['questionText',_0xbcbca6(0x380),_0xbcbca6(0x7bd)]},_0x5ab05c={'type':'OBJECT','properties':{'questionType':{'type':_0xbcbca6(0x12e),'enum':[_0xbcbca6(0x7cc)]},'stem':{'type':_0xbcbca6(0x12e)},'correctResponse':{'type':_0xbcbca6(0x12e)},'allResponses':{'type':_0xbcbca6(0x331),'items':{'type':_0xbcbca6(0x12e)}},'explanation':{'type':_0xbcbca6(0x12e)},'imageCode':{'type':_0xbcbca6(0x12e)}},'required':['questionType','stem',_0xbcbca6(0x1bd),_0xbcbca6(0x1af),_0xbcbca6(0x7bd)]};let _0x244940;if(_0xa37136!==null){const _0xd88c9=currentQuizData[_0xbcbca6(0x194)][_0xa37136][_0xbcbca6(0x2e1)],_0x353616=_0x308301?_0xbcbca6(0x41a):'';_0x3056ca=_0xbcbca6(0x181)+_0x188259+'\x20'+_0x6f6dee+'\x20'+_0x27abf4+_0xbcbca6(0x1ea)+_0x353616+'\x20'+simpleMathPrompt;if(_0xd88c9===_0xbcbca6(0x4a6))_0x3ca895=_0x5d3656;else{if(_0xd88c9===_0xbcbca6(0x7cc))_0x3ca895={'type':'OBJECT','properties':{'questionType':{'type':'STRING','enum':[_0xbcbca6(0x7cc)]},'stem':{'type':_0xbcbca6(0x12e)},'correctResponse':{'type':_0xbcbca6(0x12e)},'explanation':{'type':_0xbcbca6(0x12e)},'imageCode':{'type':'STRING'}},'required':[_0xbcbca6(0x2e1),'stem',_0xbcbca6(0x1bd),_0xbcbca6(0x7bd)]};else _0x3ca895=_0x4f0a01;}_0x244940=_0x3ca895;}else{const _0x1ce644=_0x308301?'สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.':'',_0x4a8c7f=_0xbcbca6(0x309);switch(_0x4f2903){case'multiple_choice':_0x3056ca='สร้างแบบทดสอบปรนัย'+_0x5b5255+'\x20'+_0x50df3e+_0xbcbca6(0x7c3)+_0x188259+'\x20'+_0x6f6dee+'\x20'+_0x27abf4+'\x20'+_0x922008+_0xbcbca6(0x7ff)+_0x53f5ab+_0xbcbca6(0x12b)+_0x1ce644+'\x20'+simpleMathPrompt,_0x3ca895=_0x5d3656;break;case _0xbcbca6(0x1b1):_0x3056ca='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x5b5255+'\x20'+_0x50df3e+_0xbcbca6(0x7c3)+_0x188259+'\x20'+_0x6f6dee+'\x20'+_0x27abf4+'\x20'+_0x922008+_0xbcbca6(0x185)+_0x53f5ab+_0xbcbca6(0x15a)+_0x1ce644+'\x20'+simpleMathPrompt,_0x3ca895=_0x5d3656;break;case _0xbcbca6(0x77f):_0x3056ca=_0xbcbca6(0x523)+_0x5b5255+'\x20'+_0x50df3e+_0xbcbca6(0x7c3)+_0x188259+'\x20'+_0x6f6dee+'\x20'+_0x27abf4+'\x20'+_0x922008+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x1ce644+'\x20'+simpleMathPrompt,_0x3ca895=_0x4f0a01;break;case _0xbcbca6(0x4bc):_0x3056ca=_0xbcbca6(0x626)+_0x5b5255+'\x20'+_0x50df3e+_0xbcbca6(0x7c3)+_0x188259+'\x20'+_0x6f6dee+'\x20'+_0x27abf4+'\x20'+_0x922008+_0xbcbca6(0x3d4)+_0x53f5ab+_0xbcbca6(0x271)+_0x1ce644+'\x20'+simpleMathPrompt+'.',_0x3ca895=_0x21ecef;break;case'true_false':_0x3056ca=_0xbcbca6(0x3ee)+_0x5b5255+'\x20'+_0x50df3e+_0xbcbca6(0x7c3)+_0x188259+'\x20'+_0x6f6dee+'\x20'+_0x27abf4+'\x20'+_0x922008+_0xbcbca6(0x3df)+_0x1ce644+'\x20'+simpleMathPrompt,_0x3ca895=_0x38c013;break;case _0xbcbca6(0x71a):_0x3056ca=_0xbcbca6(0x21e)+_0x5b5255+'\x20'+_0x50df3e+_0xbcbca6(0x6b9)+_0x188259+'\x20'+_0x6f6dee+'\x20'+_0x27abf4+'\x20'+_0x922008+_0xbcbca6(0x5c7)+_0x1ce644+'\x20'+simpleMathPrompt,_0x3ca895=_0x5ab05c;break;}_0x244940={'type':_0xbcbca6(0x203),'properties':{'topic':{'type':_0xbcbca6(0x12e)},'questions':{'type':'ARRAY','items':_0x3ca895}},'required':['topic',_0xbcbca6(0x194)]};}return _0x120f08?(_0x3056ca=_0xbcbca6(0x4d1)+_0x120f08+_0xbcbca6(0xd1)+_0x3056ca,_0x52ad05='กำลังวิเคราะห์เนื้อหาและสร้างแบบทดสอบ...'):_0x52ad05=_0xbcbca6(0x575),handleApiCall(_0x3056ca,_0x52ad05,_0x244940,_0xa37136);}async function generateQuizFromFile(_0x4fda88,_0x2a8e19){const _0x1d780c=_0x52d111,_0x293582=document[_0x1d780c(0x7d2)](_0x1d780c(0x3cc))[_0x1d780c(0x796)][_0x1d780c(0x74c)](),_0x44266a=document[_0x1d780c(0x7d2)](_0x1d780c(0x154))['value'],_0x284b6c=document[_0x1d780c(0x7d2)]('num-questions')[_0x1d780c(0x796)],_0x409b5e=document[_0x1d780c(0x7d2)]('num-choices')[_0x1d780c(0x796)],_0xd71145=document[_0x1d780c(0x7d2)]('include-images-checkbox')['checked'],_0x4f17cd=document[_0x1d780c(0x7d2)]('force-math-checkbox')[_0x1d780c(0x569)],_0x4d4794=_0x4f17cd?'':_0x1d780c(0x3f5);let _0x79af52='',_0x5c7459,_0x4ffa01=_0x1d780c(0x465)+_0x293582+'\x22';!_0x293582&&(_0x4ffa01=_0x1d780c(0x3e5));const _0x21f28d=_0xd71145?_0x1d780c(0x3e2):'';switch(_0x44266a){case'multiple_choice':_0x79af52=_0x1d780c(0x76c)+_0x4d4794+'\x20'+_0x284b6c+_0x1d780c(0x7c3)+_0x4ffa01+_0x1d780c(0x7ff)+_0x409b5e+'\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20'+_0x21f28d+'\x20'+simpleMathPrompt,_0x5c7459={'type':_0x1d780c(0x203),'properties':{'questionText':{'type':_0x1d780c(0x12e)},'options':{'type':_0x1d780c(0x331),'items':{'type':'STRING'}},'correctAnswerIndex':{'type':_0x1d780c(0x16b)},'explanation':{'type':_0x1d780c(0x12e)},'imageCode':{'type':'STRING'}},'required':[_0x1d780c(0x421),'options',_0x1d780c(0x4b4),'explanation']};break;case _0x1d780c(0x1b1):_0x79af52=_0x1d780c(0x523)+_0x4d4794+'\x20'+_0x284b6c+_0x1d780c(0x7c3)+_0x4ffa01+'.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20'+_0x409b5e+'\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20'+_0x21f28d+'\x20'+simpleMathPrompt,_0x5c7459={'type':_0x1d780c(0x203),'properties':{'questionText':{'type':_0x1d780c(0x12e)},'options':{'type':'ARRAY','items':{'type':_0x1d780c(0x12e)}},'correctAnswerIndex':{'type':_0x1d780c(0x16b)},'explanation':{'type':'STRING'},'imageCode':{'type':_0x1d780c(0x12e)}},'required':[_0x1d780c(0x421),_0x1d780c(0x417),_0x1d780c(0x4b4),'explanation']};break;case _0x1d780c(0x77f):_0x79af52='สร้างคำถามแบบเติมคำในช่องว่าง'+_0x4d4794+'\x20'+_0x284b6c+'\x20ข้อ\x20'+_0x4ffa01+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText\x20containing\x20\x27.....\x27),\x20คำตอบที่เหมาะสม\x20(idealAnswer),\x20และคำอธิบาย\x20(explanation).\x20'+_0x21f28d+'\x20'+simpleMathPrompt,_0x5c7459={'type':_0x1d780c(0x203),'properties':{'questionText':{'type':'STRING'},'idealAnswer':{'type':_0x1d780c(0x12e)},'explanation':{'type':_0x1d780c(0x12e)},'imageCode':{'type':_0x1d780c(0x12e)}},'required':[_0x1d780c(0x421),'idealAnswer','explanation']};break;case _0x1d780c(0x4bc):_0x79af52=_0x1d780c(0x626)+_0x4d4794+'\x20'+_0x284b6c+_0x1d780c(0x7c3)+_0x4ffa01+_0x1d780c(0x6f4)+_0x409b5e+_0x1d780c(0x271)+_0x21f28d+'\x20'+simpleMathPrompt+_0x1d780c(0x4a8),_0x5c7459={'type':'OBJECT','properties':{'questionText':{'type':_0x1d780c(0x12e)},'questionType':{'type':_0x1d780c(0x12e),'enum':[_0x1d780c(0x4a6),'short_answer']},'options':{'type':_0x1d780c(0x331),'items':{'type':_0x1d780c(0x12e)}},'correctAnswerIndex':{'type':_0x1d780c(0x16b)},'idealAnswer':{'type':_0x1d780c(0x12e)},'explanation':{'type':_0x1d780c(0x12e)},'imageCode':{'type':_0x1d780c(0x12e)}},'required':[_0x1d780c(0x421),_0x1d780c(0x2e1),_0x1d780c(0x7bd)]};break;case _0x1d780c(0x560):_0x79af52='สร้างคำถามแบบใช่/ไม่ใช่'+_0x4d4794+'\x20'+_0x284b6c+_0x1d780c(0x7c3)+_0x4ffa01+'.\x20แต่ละข้อต้องมีคำถาม\x20(questionText),\x20คำตอบที่ถูกต้อง\x20(correctAnswer\x20เป็น\x20true\x20หรือ\x20false),\x20และคำอธิบาย\x20(explanation).\x20'+_0x21f28d+'\x20'+simpleMathPrompt,_0x5c7459={'type':_0x1d780c(0x203),'properties':{'questionText':{'type':_0x1d780c(0x12e)},'correctAnswer':{'type':'BOOLEAN'},'explanation':{'type':_0x1d780c(0x12e)},'imageCode':{'type':'STRING'}},'required':[_0x1d780c(0x421),'correctAnswer',_0x1d780c(0x7bd)]};break;case'matching':_0x79af52=_0x1d780c(0x21e)+_0x4d4794+'\x20'+_0x284b6c+_0x1d780c(0x6b9)+_0x4ffa01+'.\x20สำหรับแต่ละคู่\x20ให้สร้างเป็น\x20JSON\x20object\x20แยกกัน\x20โดยแต่ละ\x20object\x20ต้องมี:\x20\x27questionType\x27\x20(ตั้งค่าเป็น\x20\x27matching_item\x27),\x20\x27stem\x27\x20(คำถามฝั่งซ้าย),\x20\x27correctResponse\x27\x20(คำตอบที่ถูกต้องฝั่งขวา),\x20และ\x20\x27explanation\x27.\x20นอกจากนี้\x20ให้สร้าง\x20key\x20ชื่อ\x20\x27allResponses\x27\x20ซึ่งเป็น\x20array\x20ที่รวบรวม\x20\x27correctResponse\x27\x20ทั้งหมด\x20'+_0x284b6c+'\x20รายการ\x20เพื่อใช้เป็นตัวเลือกใน\x20dropdown.\x20'+_0x21f28d+'\x20'+simpleMathPrompt,_0x5c7459={'type':_0x1d780c(0x203),'properties':{'questionType':{'type':'STRING','enum':['matching_item']},'stem':{'type':_0x1d780c(0x12e)},'correctResponse':{'type':'STRING'},'allResponses':{'type':_0x1d780c(0x331),'items':{'type':'STRING'}},'explanation':{'type':'STRING'},'imageCode':{'type':'STRING'}},'required':[_0x1d780c(0x2e1),_0x1d780c(0x4c1),_0x1d780c(0x1bd),'allResponses',_0x1d780c(0x7bd)]};break;}const _0x4a18c2={'type':_0x1d780c(0x203),'properties':{'topic':{'type':'STRING'},'questions':{'type':_0x1d780c(0x331),'items':_0x5c7459}},'required':[_0x1d780c(0xf7),_0x1d780c(0x194)]},_0x524aa6=_0x1d780c(0x2f1)+_0x79af52,_0x555254={'contents':[{'parts':[{'text':_0x524aa6},{'inlineData':{'mimeType':_0x4fda88,'data':_0x2a8e19}}]}],'generationConfig':{'responseMimeType':'application/json','responseSchema':_0x4a18c2}};return handleApiCall(_0x555254[_0x1d780c(0x2d5)][0x0]['parts'],'AI\x20กำลังวิเคราะห์ไฟล์และสร้างแบบทดสอบ...',_0x4a18c2);}async function handleApiCall(_0x307ffb,_0x2053fc,_0x417987,_0x1b7a70=null){const _0x17334e=_0x52d111,_0xd676d8=document[_0x17334e(0x7d2)]('quiz-generation-area'),_0x27ca9b=document[_0x17334e(0x7d2)]('loader'),_0x168674=document[_0x17334e(0x7d2)](_0x17334e(0x4c6)),_0x21d0ba=document[_0x17334e(0x7d2)](_0x17334e(0x74f));_0xd676d8[_0x17334e(0x21b)][_0x17334e(0x218)]('hidden');_0x1b7a70===null&&(_0x21d0ba[_0x17334e(0x1da)]='');_0x27ca9b[_0x17334e(0x21b)]['remove'](_0x17334e(0x79f)),_0x168674[_0x17334e(0x645)]=_0x2053fc,document[_0x17334e(0x7d2)]('generate-from-topic-btn')[_0x17334e(0x681)]=!![],document[_0x17334e(0x7d2)](_0x17334e(0x1e2))[_0x17334e(0x681)]=!![],document[_0x17334e(0x7d2)]('generate-from-link-btn')[_0x17334e(0x681)]=!![];try{const _0x36af91={'responseMimeType':_0x17334e(0x349),'responseSchema':_0x417987},_0x38df17=Array[_0x17334e(0x1e7)](_0x307ffb)?_0x307ffb:[{'text':_0x307ffb}],_0x59ed31={'contents':[{'role':_0x17334e(0x19f),'parts':_0x38df17}],'generationConfig':_0x36af91},_0x1f14ff=_0x17334e(0x6f1),_0x2eb188='https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key='+_0x1f14ff,_0x244f4e=await fetch(_0x2eb188,{'method':_0x17334e(0x616),'headers':{'Content-Type':_0x17334e(0x349)},'body':JSON[_0x17334e(0x806)](_0x59ed31)});if(!_0x244f4e['ok'])throw new Error(_0x17334e(0x5c8)+_0x244f4e[_0x17334e(0x43a)]);const _0x54da76=await _0x244f4e[_0x17334e(0x537)]();if(_0x54da76[_0x17334e(0x3b3)]?.[0x0]?.['content']?.['parts']?.[0x0]){let _0x594583=_0x54da76['candidates'][0x0][_0x17334e(0x231)][_0x17334e(0x662)][0x0][_0x17334e(0x45e)],_0x4cec6e;try{if(_0x594583['startsWith'](_0x17334e(0x765)))_0x594583=_0x594583['substring'](0x7,_0x594583[_0x17334e(0x426)]-0x3)[_0x17334e(0x74c)]();else _0x594583[_0x17334e(0x1f5)](_0x17334e(0x4e4))&&(_0x594583=_0x594583['substring'](0x3,_0x594583[_0x17334e(0x426)]-0x3)[_0x17334e(0x74c)]());_0x4cec6e=JSON[_0x17334e(0x739)](_0x594583);}catch(_0x42d1eb){console['error'](_0x17334e(0x38f),_0x42d1eb,_0x594583);throw new Error(_0x17334e(0x62e));}if(_0x1b7a70!==null){if(_0x4cec6e[_0x17334e(0x2e1)]==='matching_item'){const _0x4c3e84=currentQuizData['questions'][_0x17334e(0x2ba)](_0xbd3e4c=>_0xbd3e4c[_0x17334e(0x1bd)]);_0x4cec6e[_0x17334e(0x1af)]=_0x4c3e84;const _0x2c474f=currentQuizData[_0x17334e(0x194)][_0x1b7a70][_0x17334e(0x1bd)],_0x5013e8=_0x4c3e84[_0x17334e(0x2f9)](_0x2c474f);_0x5013e8>-0x1&&(_0x4c3e84[_0x5013e8]=_0x4cec6e[_0x17334e(0x1bd)]),currentQuizData[_0x17334e(0x194)][_0x17334e(0x651)](_0x7e26cd=>{const _0x2b4b49=_0x17334e;if(_0x7e26cd[_0x2b4b49(0x2e1)]===_0x2b4b49(0x7cc))_0x7e26cd[_0x2b4b49(0x1af)]=_0x4c3e84;});}currentQuizData[_0x17334e(0x194)][_0x1b7a70]=_0x4cec6e,displayGeneratedQuiz(currentQuizData);}else{currentQuizData=_0x4cec6e;const _0x20660e=document[_0x17334e(0x7d2)](_0x17334e(0x154))[_0x17334e(0x796)];currentQuizData[_0x17334e(0x3a7)]=_0x20660e,currentQuizData[_0x17334e(0x194)]&&currentQuizData[_0x17334e(0x194)][_0x17334e(0x651)](_0x26bd0f=>{const _0x4f72d8=_0x17334e;if(!_0x26bd0f['questionType']){if(_0x20660e===_0x4f72d8(0x1b1))_0x26bd0f[_0x4f72d8(0x2e1)]=_0x4f72d8(0x4a6);else _0x20660e==='fill_in_no_choices'?_0x26bd0f[_0x4f72d8(0x2e1)]='short_answer':_0x26bd0f['questionType']=_0x20660e;}}),displayGeneratedQuiz(currentQuizData);}}else{console['error'](_0x17334e(0x6f6),JSON[_0x17334e(0x806)](_0x54da76));throw new Error(_0x17334e(0x62e));}}catch(_0x59310e){console[_0x17334e(0x403)](_0x17334e(0x1e8),_0x59310e),showMessage(_0x17334e(0x3f0)),_0x1b7a70===null&&(_0x21d0ba[_0x17334e(0x1da)]=_0x17334e(0x781));}finally{_0x27ca9b[_0x17334e(0x21b)][_0x17334e(0x4df)]('hidden'),document[_0x17334e(0x7d2)](_0x17334e(0x801))[_0x17334e(0x681)]=![],document[_0x17334e(0x7d2)](_0x17334e(0x1e2))[_0x17334e(0x681)]=![],document[_0x17334e(0x7d2)](_0x17334e(0x2a3))['disabled']=![];const _0x15f37e=document[_0x17334e(0x7d2)](_0x17334e(0x637));_0x15f37e&&(_0x15f37e[_0x17334e(0x681)]=![]);}}function displayGeneratedQuiz(_0x102840){const _0x492ded=_0x52d111,_0x46f878=document[_0x492ded(0x7d2)](_0x492ded(0x74f));let _0x21077e=_0x492ded(0x105)+_0x102840[_0x492ded(0xf7)]+_0x492ded(0x5b1);_0x102840[_0x492ded(0x194)][_0x492ded(0x651)]((_0x418fcb,_0x370d90)=>{const _0x43a17b=_0x492ded,_0x64cccd=_0x418fcb['questionType']||_0x102840[_0x43a17b(0x3a7)];_0x21077e+=_0x43a17b(0x748)+_0x370d90+'\x22\x20class=\x22save-to-bank-btn\x20text-purple-600\x20hover:text-purple-800\x20p-1\x22\x20title=\x22เก็บเข้าคลังข้อสอบส่วนตัว\x22>\x0a\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-university\x22></i>\x0a</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x370d90+'\x22\x20class=\x22edit-question-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x22\x20title=\x22แก้ไขข้อนี้\x22><i\x20class=\x22fas\x20fa-pen\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22'+_0x370d90+_0x43a17b(0x6c6);switch(_0x64cccd){case _0x43a17b(0x7cc):_0x21077e+=_0x43a17b(0x173)+_0x370d90+'\x22>'+(_0x370d90+0x1)+'.\x20'+_0x418fcb['stem']+_0x43a17b(0x193);_0x418fcb[_0x43a17b(0x2ee)]&&(_0x21077e+=_0x43a17b(0x482)+_0x370d90+_0x43a17b(0x2b8)+_0x418fcb[_0x43a17b(0x2ee)]+_0x43a17b(0x318));_0x21077e+=_0x43a17b(0x177)+_0x370d90+'\x22>'+_0x418fcb[_0x43a17b(0x1bd)]+_0x43a17b(0xbd),_0x21077e+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x370d90+'\x22>'+_0x418fcb[_0x43a17b(0x7bd)]+_0x43a17b(0xbd);break;case _0x43a17b(0x605):_0x21077e+=_0x43a17b(0x173)+_0x370d90+'\x22>'+(_0x370d90+0x1)+'.\x20'+_0x418fcb[_0x43a17b(0x421)]+_0x43a17b(0x193);_0x418fcb[_0x43a17b(0x2ee)]&&(_0x21077e+=_0x43a17b(0x482)+_0x370d90+_0x43a17b(0x2b8)+_0x418fcb[_0x43a17b(0x2ee)]+'</div>');_0x21077e+=_0x43a17b(0xe9)+_0x370d90+'\x22>'+_0x418fcb[_0x43a17b(0x474)]+_0x43a17b(0xbd),_0x21077e+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x370d90+'\x22>'+_0x418fcb['explanation']+_0x43a17b(0xbd);break;case'true_false':_0x21077e+=_0x43a17b(0x173)+_0x370d90+'\x22>'+(_0x370d90+0x1)+'.\x20'+_0x418fcb[_0x43a17b(0x421)]+_0x43a17b(0x193);_0x418fcb[_0x43a17b(0x2ee)]&&(_0x21077e+=_0x43a17b(0x482)+_0x370d90+'\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x418fcb[_0x43a17b(0x2ee)]+'</div>');_0x21077e+=_0x43a17b(0x101)+(_0x418fcb[_0x43a17b(0x380)]===!![]?_0x43a17b(0x2cb):'')+_0x43a17b(0x161)+(_0x418fcb[_0x43a17b(0x380)]===![]?_0x43a17b(0x2cb):'')+_0x43a17b(0x7be),_0x21077e+=_0x43a17b(0x233)+_0x370d90+'\x22>'+_0x418fcb[_0x43a17b(0x7bd)]+_0x43a17b(0xbd);break;case _0x43a17b(0x6dd):case _0x43a17b(0x4a6):default:_0x21077e+='<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-'+_0x370d90+'\x22>'+(_0x370d90+0x1)+'.\x20'+_0x418fcb['questionText']+'</p>';_0x418fcb['imageCode']&&(_0x21077e+=_0x43a17b(0x482)+_0x370d90+_0x43a17b(0x2b8)+_0x418fcb[_0x43a17b(0x2ee)]+_0x43a17b(0x318));_0x21077e+=_0x43a17b(0x5d2)+_0x370d90+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x418fcb[_0x43a17b(0x417)][_0x43a17b(0x2ba)]((_0x116334,_0x411a88)=>_0x43a17b(0x372)+(_0x411a88===_0x418fcb['correctAnswerIndex']?_0x43a17b(0x2cb):'')+'\x22>'+_0x116334+_0x43a17b(0x56e))[_0x43a17b(0x589)]('')+_0x43a17b(0x656),_0x21077e+='<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-'+_0x370d90+'\x22>'+_0x418fcb[_0x43a17b(0x7bd)]+_0x43a17b(0xbd);break;}_0x21077e+='</div>';}),_0x21077e+=_0x492ded(0x501),_0x46f878[_0x492ded(0x1da)]=_0x21077e,document[_0x492ded(0x78c)](_0x492ded(0x7a3))[_0x492ded(0x651)](_0x3870a2=>_0x3870a2[_0x492ded(0x37f)](_0x492ded(0x155),handleEditQuestion)),document['querySelectorAll']('.regenerate-question-btn')[_0x492ded(0x651)](_0x146b95=>_0x146b95[_0x492ded(0x37f)](_0x492ded(0x155),handleRegenerateQuestion)),document[_0x492ded(0x78c)]('.save-to-bank-btn')[_0x492ded(0x651)](_0x25394c=>_0x25394c[_0x492ded(0x37f)](_0x492ded(0x155),handleSaveToBank)),document['getElementById'](_0x492ded(0x11c))[_0x492ded(0x37f)](_0x492ded(0x155),exportQuizAsWorksheetPDF),document[_0x492ded(0x7d2)](_0x492ded(0x4f7))[_0x492ded(0x37f)]('click',saveQuiz);if(window[_0x492ded(0x6a7)])window['MathJax']['typesetPromise']([_0x46f878]);}function handleRegenerateQuestion(_0x3c5823){const _0x4031b3=_0x52d111,_0x5a2ba9=_0x3c5823[_0x4031b3(0x70f)][_0x4031b3(0x3c3)][_0x4031b3(0x25e)],_0x1eb6d9=currentQuizData[_0x4031b3(0xf7)];showMessage(_0x4031b3(0x20b)+(parseInt(_0x5a2ba9)+0x1)+'\x20ใหม่...'),generateQuiz(_0x1eb6d9,null,parseInt(_0x5a2ba9));}function getPointerPosition(_0x382c60,_0x4ce0a7){const _0x407541=_0x52d111,_0x27dcd4=_0x382c60['getScreenCTM']();let _0x4c82fc,_0x565442;return _0x4ce0a7['touches']&&_0x4ce0a7[_0x407541(0x718)][_0x407541(0x426)]>0x0?(_0x4c82fc=_0x4ce0a7[_0x407541(0x718)][0x0]['clientX'],_0x565442=_0x4ce0a7['touches'][0x0][_0x407541(0x64a)]):(_0x4c82fc=_0x4ce0a7[_0x407541(0x657)],_0x565442=_0x4ce0a7[_0x407541(0x64a)]),{'x':(_0x4c82fc-_0x27dcd4['e'])/_0x27dcd4['a'],'y':(_0x565442-_0x27dcd4['f'])/_0x27dcd4['d']};}function startDrag(_0x66db4d){const _0x1b6cd1=_0x52d111;_0x66db4d[_0x1b6cd1(0x63c)]===_0x1b6cd1(0x763)&&_0x66db4d[_0x1b6cd1(0x227)]();const _0x3ba61d=_0x66db4d[_0x1b6cd1(0x222)][_0x1b6cd1(0xee)](_0x1b6cd1(0x6ea));if(_0x3ba61d){draggedSvgElement=_0x3ba61d;const _0xeaf0ec=draggedSvgElement[_0x1b6cd1(0x19e)],_0x30ca64=getPointerPosition(_0xeaf0ec,_0x66db4d);svgOffset['x']=_0x30ca64['x']-parseFloat(draggedSvgElement[_0x1b6cd1(0x682)](null,'x')),svgOffset['y']=_0x30ca64['y']-parseFloat(draggedSvgElement['getAttributeNS'](null,'y'));}}function calculateItemAnalysis(_0x19c0d5,_0x242c2f){const _0x40f9be=_0x52d111,_0x15e349={};if(_0x242c2f[_0x40f9be(0x426)]<0x2)return{'perQuestionStats':{},'overallGroups':null};const _0x2d2168=[..._0x242c2f][_0x40f9be(0x18d)]((_0x17bf47,_0x44608e)=>{const _0x273b16=_0x40f9be,_0x263a3f=_0x44608e[_0x273b16(0x5a5)]-_0x17bf47[_0x273b16(0x5a5)];if(_0x263a3f!==0x0)return _0x263a3f;const _0x5c3dc9=_0x17bf47['attempts']?.[_0x273b16(0x426)]||0x1,_0x33723c=_0x44608e[_0x273b16(0x59e)]?.[_0x273b16(0x426)]||0x1,_0x3a06b3=_0x5c3dc9-_0x33723c;if(_0x3a06b3!==0x0)return _0x3a06b3;const _0x252ce2=new Date(_0x17bf47[_0x273b16(0x6f8)]),_0x4d17d9=new Date(_0x44608e[_0x273b16(0x6f8)]),_0x2e400e=_0x252ce2-_0x4d17d9;if(_0x2e400e!==0x0)return _0x2e400e;return _0x17bf47[_0x273b16(0x219)][_0x273b16(0x6af)](_0x44608e['studentName'],'th');}),_0x893c9d=_0x2d2168['length'],_0x41e1aa=Math[_0x40f9be(0x104)](0x1,Math[_0x40f9be(0x615)](_0x893c9d*0.33));if(_0x41e1aa===0x0)return{'perQuestionStats':{},'overallGroups':null};const _0xb1298e=_0x2d2168[_0x40f9be(0x81d)](0x0,_0x41e1aa),_0x1e516f=_0x2d2168[_0x40f9be(0x81d)](-_0x41e1aa),_0x24a6ca=_0xb1298e[_0x40f9be(0x2ba)](_0x56ff3f=>_0x56ff3f[_0x40f9be(0x219)]),_0x406446=_0x1e516f['map'](_0x3d6b55=>_0x3d6b55['studentName']);return _0x19c0d5[_0x40f9be(0x194)][_0x40f9be(0x651)]((_0x14df08,_0x585af4)=>{const _0x4cdd05=_0x40f9be,_0xd777a3=_0x14df08[_0x4cdd05(0x4c1)]||_0x14df08[_0x4cdd05(0x421)];let _0x222a88=0x0,_0x337eea=0x0,_0x4b44ea=0x0;const _0xbd8561=[],_0x347f89=[];_0xb1298e[_0x4cdd05(0x651)](_0x2bb796=>{const _0x1a3dc4=_0x4cdd05,_0x548e84=_0x2bb796[_0x1a3dc4(0x59e)][_0x2bb796[_0x1a3dc4(0x59e)]['length']-0x1],_0x392ed3=_0x548e84[_0x1a3dc4(0x47b)][_0x1a3dc4(0x314)](_0xeb9edc=>_0xeb9edc['originalQuestionText']===_0xd777a3);_0xbd8561[_0x1a3dc4(0x5d6)]({'name':_0x2bb796['studentName'],'isCorrect':_0x392ed3?_0x392ed3[_0x1a3dc4(0x478)]:![]}),_0x392ed3&&_0x392ed3[_0x1a3dc4(0x478)]&&_0x337eea++;}),_0x1e516f[_0x4cdd05(0x651)](_0x386725=>{const _0x5cc9a2=_0x4cdd05,_0x1f2136=_0x386725[_0x5cc9a2(0x59e)][_0x386725[_0x5cc9a2(0x59e)][_0x5cc9a2(0x426)]-0x1],_0x26d3e2=_0x1f2136[_0x5cc9a2(0x47b)][_0x5cc9a2(0x314)](_0x4ad3a2=>_0x4ad3a2[_0x5cc9a2(0x46d)]===_0xd777a3);_0x347f89[_0x5cc9a2(0x5d6)]({'name':_0x386725[_0x5cc9a2(0x219)],'isCorrect':_0x26d3e2?_0x26d3e2['isCorrect']:![]}),_0x26d3e2&&_0x26d3e2[_0x5cc9a2(0x478)]&&_0x4b44ea++;}),_0x242c2f[_0x4cdd05(0x651)](_0x298f44=>{const _0x3a5e48=_0x4cdd05,_0x35ae4e=_0x298f44[_0x3a5e48(0x59e)][_0x298f44[_0x3a5e48(0x59e)][_0x3a5e48(0x426)]-0x1],_0x3c57eb=_0x35ae4e['answers'][_0x3a5e48(0x314)](_0x28cf7d=>_0x28cf7d['originalQuestionText']===_0xd777a3);_0x3c57eb&&_0x3c57eb['isCorrect']&&_0x222a88++;});const _0x1b8822=_0x893c9d>0x0?_0x222a88/_0x893c9d:0x0,_0x1dda28=_0x41e1aa>0x0?_0x337eea/_0x41e1aa-_0x4b44ea/_0x41e1aa:0x0;_0x15e349[_0x585af4]={'p':_0x1b8822,'r':_0x1dda28,'upperGroupResponders':_0xbd8561,'lowerGroupResponders':_0x347f89};}),{'perQuestionStats':_0x15e349,'overallGroups':{'upperGroupNames':_0x24a6ca,'lowerGroupNames':_0x406446}};}function drag(_0x4e5ad7){const _0x33961e=_0x52d111;if(draggedSvgElement){_0x4e5ad7['preventDefault']();const _0x44d5c2=draggedSvgElement[_0x33961e(0x19e)],_0x17a0c1=getPointerPosition(_0x44d5c2,_0x4e5ad7),_0x21b90a=_0x44d5c2[_0x33961e(0x6b8)]['baseVal'];let _0x1a4708=_0x17a0c1['x']-svgOffset['x'],_0x1fb971=_0x17a0c1['y']-svgOffset['y'];const _0x5473ab=draggedSvgElement['getBBox']();_0x1a4708=Math[_0x33961e(0x104)](_0x21b90a['x'],Math[_0x33961e(0x7e3)](_0x1a4708,_0x21b90a['x']+_0x21b90a[_0x33961e(0x2d4)]-_0x5473ab[_0x33961e(0x2d4)])),_0x1fb971=Math[_0x33961e(0x104)](_0x21b90a['y'],Math[_0x33961e(0x7e3)](_0x1fb971,_0x21b90a['y']+_0x21b90a[_0x33961e(0xcc)]-_0x5473ab['height'])),draggedSvgElement['setAttributeNS'](null,'x',_0x1a4708),draggedSvgElement[_0x33961e(0x507)](null,'y',_0x1fb971);}}function endDrag(_0x42109e){draggedSvgElement=null;}function handleSvgEditClick(_0x444ed2){const _0x10c257=_0x52d111;if(_0x444ed2[_0x10c257(0x222)][_0x10c257(0x21b)][_0x10c257(0x156)]('delete-svg-btn')){const _0x4ba5e2=_0x444ed2[_0x10c257(0x222)]['dataset'][_0x10c257(0x67d)],_0x5dbf4c=_0x444ed2[_0x10c257(0x70f)],_0x1db354=_0x5dbf4c[_0x10c257(0x7df)]('#'+_0x4ba5e2);_0x1db354&&_0x1db354[_0x10c257(0x218)](),_0x444ed2[_0x10c257(0x222)][_0x10c257(0x218)]();}}function handleEditQuestion(_0x5e73fa){const _0x517d59=_0x52d111,_0x5c5e52=_0x5e73fa[_0x517d59(0x70f)],_0x5f52d2=_0x5c5e52[_0x517d59(0x3c3)][_0x517d59(0x25e)],_0x191863=currentQuizData[_0x517d59(0x194)][_0x5f52d2],_0xeb7a27=document[_0x517d59(0x7d2)](_0x517d59(0x24c)+_0x5f52d2),_0x2d5442=document[_0x517d59(0x7d2)](_0x517d59(0x342)+_0x5f52d2),_0x97a2c4=document[_0x517d59(0x7d2)]('q-image-container-'+_0x5f52d2);if(_0x5c5e52[_0x517d59(0x1da)][_0x517d59(0x3ff)](_0x517d59(0x1a0))){_0x5c5e52['innerHTML']=_0x517d59(0xc2),_0x5c5e52[_0x517d59(0x146)]=_0x517d59(0x167);if(_0xeb7a27)_0xeb7a27['contentEditable']=!![];if(_0x2d5442)_0x2d5442[_0x517d59(0x3cf)]=!![];if(_0x97a2c4){const _0x4ba499=_0x97a2c4[_0x517d59(0x7df)](_0x517d59(0x7c5));if(_0x4ba499){const _0x14ee60=_0x4ba499[_0x517d59(0x78c)](_0x517d59(0x45e));_0x14ee60[_0x517d59(0x651)]((_0x22e951,_0x1a3dd3)=>{const _0x24bd3d=_0x517d59,_0x3f051e='editable-text-'+_0x5f52d2+'-'+_0x1a3dd3;_0x22e951['id']=_0x3f051e,_0x22e951[_0x24bd3d(0x21b)][_0x24bd3d(0x4df)](_0x24bd3d(0x32a)),_0x22e951['style'][_0x24bd3d(0x1ad)]=_0x24bd3d(0x704);const _0x1fbded=document['createElementNS']('http://www.w3.org/2000/svg',_0x24bd3d(0x513)),_0x337c8d=_0x22e951[_0x24bd3d(0x2c9)]();_0x1fbded['setAttribute']('cx',String(_0x337c8d['x']+_0x337c8d[_0x24bd3d(0x2d4)]+0x5)),_0x1fbded[_0x24bd3d(0x4ae)]('cy',String(_0x337c8d['y']+_0x337c8d[_0x24bd3d(0xcc)]/0x2-0x5)),_0x1fbded[_0x24bd3d(0x4ae)]('r','5'),_0x1fbded['setAttribute'](_0x24bd3d(0x534),_0x24bd3d(0x4fd)),_0x1fbded[_0x24bd3d(0x4ae)](_0x24bd3d(0x4bd),_0x24bd3d(0x4e5)),_0x1fbded[_0x24bd3d(0x3c3)][_0x24bd3d(0x67d)]=_0x3f051e,_0x22e951[_0x24bd3d(0x3fc)](_0x1fbded);}),_0x4ba499[_0x517d59(0x37f)](_0x517d59(0x6f2),startDrag),_0x4ba499['addEventListener'](_0x517d59(0x34e),drag),_0x4ba499[_0x517d59(0x37f)]('mouseup',endDrag),_0x4ba499[_0x517d59(0x37f)](_0x517d59(0x33b),endDrag),_0x4ba499[_0x517d59(0x37f)]('touchstart',startDrag,{'passive':![]}),_0x4ba499[_0x517d59(0x37f)](_0x517d59(0x2fd),drag,{'passive':![]}),_0x4ba499[_0x517d59(0x37f)](_0x517d59(0x361),endDrag),_0x4ba499[_0x517d59(0x37f)](_0x517d59(0x1c6),endDrag),_0x4ba499[_0x517d59(0x37f)](_0x517d59(0x155),handleSvgEditClick);}}if(_0xeb7a27)_0xeb7a27[_0x517d59(0x12f)]();}else{_0x5c5e52[_0x517d59(0x1da)]=_0x517d59(0x582),_0x5c5e52[_0x517d59(0x146)]=_0x517d59(0x1d8);if(_0xeb7a27){_0xeb7a27[_0x517d59(0x3cf)]=![];const _0x351d97=_0x191863['questionType']||currentQuizData['quizType'];_0x351d97===_0x517d59(0x7cc)?_0x191863['stem']=_0xeb7a27[_0x517d59(0x75e)][_0x517d59(0x343)](_0xeb7a27[_0x517d59(0x75e)]['indexOf']('.')+0x2)[_0x517d59(0x74c)]():_0x191863[_0x517d59(0x421)]=_0xeb7a27[_0x517d59(0x75e)]['substring'](_0xeb7a27[_0x517d59(0x75e)]['indexOf']('.')+0x2)[_0x517d59(0x74c)]();}_0x2d5442&&(_0x2d5442['contentEditable']=![],_0x191863[_0x517d59(0x7bd)]=_0x2d5442[_0x517d59(0x75e)]);if(_0x97a2c4){const _0x466b90=_0x97a2c4[_0x517d59(0x7df)](_0x517d59(0x7c5));if(_0x466b90){const _0x1cd4ee=_0x466b90['cloneNode'](!![]);_0x1cd4ee[_0x517d59(0x78c)](_0x517d59(0x68c))[_0x517d59(0x651)](_0x39d19c=>_0x39d19c['remove']()),_0x1cd4ee[_0x517d59(0x78c)](_0x517d59(0x6ea))[_0x517d59(0x651)](_0x32ad75=>{const _0x529b69=_0x517d59;_0x32ad75[_0x529b69(0x21b)]['remove']('draggable-text'),_0x32ad75[_0x529b69(0x3a0)][_0x529b69(0x1ad)]='default',_0x32ad75[_0x529b69(0x109)]('id');}),_0x191863['imageCode']=_0x1cd4ee[_0x517d59(0x5a7)],_0x466b90[_0x517d59(0x6d0)](_0x517d59(0x6f2),startDrag),_0x466b90[_0x517d59(0x6d0)](_0x517d59(0x34e),drag),_0x466b90[_0x517d59(0x6d0)](_0x517d59(0x80f),endDrag),_0x466b90[_0x517d59(0x6d0)](_0x517d59(0x33b),endDrag),_0x466b90[_0x517d59(0x6d0)](_0x517d59(0x763),startDrag),_0x466b90[_0x517d59(0x6d0)](_0x517d59(0x2fd),drag),_0x466b90[_0x517d59(0x6d0)]('touchend',endDrag),_0x466b90[_0x517d59(0x6d0)](_0x517d59(0x1c6),endDrag),_0x466b90['removeEventListener']('click',handleSvgEditClick),_0x466b90[_0x517d59(0x78c)](_0x517d59(0x68c))[_0x517d59(0x651)](_0x2996f7=>_0x2996f7['remove']()),_0x466b90[_0x517d59(0x78c)](_0x517d59(0x6ea))['forEach'](_0x1ef858=>{const _0x21be8c=_0x517d59;_0x1ef858[_0x21be8c(0x21b)][_0x21be8c(0x218)](_0x21be8c(0x32a)),_0x1ef858[_0x21be8c(0x3a0)][_0x21be8c(0x1ad)]=_0x21be8c(0x6e4);});}}}}let currentEditingQuizData=null;async function handleOpenQuizEditor(_0x2feba9){const _0x4eb009=_0x52d111,_0x56bb2b=document[_0x4eb009(0x7d2)](_0x4eb009(0x1ed)),_0x17f5a3=document[_0x4eb009(0x7d2)](_0x4eb009(0x468));_0x17f5a3['innerHTML']='<div\x20class=\x22loader\x20mx-auto\x22></div>',_0x56bb2b['classList'][_0x4eb009(0x218)]('hidden');try{const _0x4e0eb0=doc(db,_0x4eb009(0x5fb)+appId+_0x4eb009(0x737),_0x2feba9),_0x2eae69=await getDoc(_0x4e0eb0);if(!_0x2eae69['exists']())throw new Error(_0x4eb009(0x178));currentEditingQuizData={'id':_0x2feba9,..._0x2eae69[_0x4eb009(0x406)]()},renderQuizEditor(currentEditingQuizData);}catch(_0x5d7d73){console[_0x4eb009(0x403)](_0x4eb009(0x108),_0x5d7d73),showMessage(_0x4eb009(0x1c4)),_0x56bb2b[_0x4eb009(0x21b)][_0x4eb009(0x4df)]('hidden');}}function renderQuizEditor(_0x267da8){const _0x394653=_0x52d111;document[_0x394653(0x7d2)]('editor-quiz-topic')[_0x394653(0x796)]=_0x267da8[_0x394653(0xf7)];const _0x169232=document[_0x394653(0x7d2)]('quiz-editor-questions-container');let _0x386084=_0x267da8[_0x394653(0x194)][_0x394653(0x2ba)]((_0x2853f2,_0xc9419)=>{const _0xd670e8=_0x394653;let _0xb25af2='';const _0x23273f=_0x2853f2[_0xd670e8(0x2e1)]||_0x267da8[_0xd670e8(0x3a7)];switch(_0x23273f){case'multiple_choice':const _0x4401dd=(_0x2853f2[_0xd670e8(0x417)]||[])[_0xd670e8(0x2ba)]((_0x349498,_0x3d3f63)=>_0xd670e8(0x6be)+_0xc9419+_0xd670e8(0xbe)+_0x3d3f63+'\x22\x20'+(_0x3d3f63===_0x2853f2[_0xd670e8(0x4b4)]?'checked':'')+_0xd670e8(0x54a)+_0x349498+_0xd670e8(0x4ef))['join']('');_0xb25af2=_0xd670e8(0x602)+_0x4401dd+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0xd670e8(0x605):_0xb25af2='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22'+(_0x2853f2['idealAnswer']||'')+_0xd670e8(0x73f);break;case _0xd670e8(0x560):_0xb25af2=_0xd670e8(0x514)+_0xc9419+'\x22\x20value=\x22true\x22\x20'+(_0x2853f2[_0xd670e8(0x380)]===!![]?_0xd670e8(0x569):'')+_0xd670e8(0x78f)+_0xc9419+_0xd670e8(0x5c0)+(_0x2853f2[_0xd670e8(0x380)]===![]?_0xd670e8(0x569):'')+'\x20class=\x22accent-green-600\x22>\x20<span>ไม่ใช่\x20/\x20ผิด</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0xd670e8(0x7cc):_0xb25af2=_0xd670e8(0x21d)+(_0x2853f2[_0xd670e8(0x1bd)]||'')+_0xd670e8(0xb8);break;}const _0x1d6ed2=_0x2853f2['questionText']||_0x2853f2['stem']||'';return _0xd670e8(0x142)+_0xc9419+_0xd670e8(0x7a9)+_0x23273f+_0xd670e8(0x6d2)+(_0xc9419+0x1)+'\x20('+_0x23273f+'):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x222\x22>'+_0x1d6ed2+_0xd670e8(0x6fa)+_0xb25af2+'</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';})[_0x394653(0x589)]('');_0x169232['innerHTML']=_0x386084;}async function handleSaveChanges(){const _0x3c2b3b=_0x52d111,_0x38b8f6=document['getElementById'](_0x3c2b3b(0x776));_0x38b8f6['disabled']=!![],_0x38b8f6[_0x3c2b3b(0x1da)]=_0x3c2b3b(0x614);try{const _0x16a50b=document[_0x3c2b3b(0x7d2)](_0x3c2b3b(0x545))[_0x3c2b3b(0x796)],_0x5bf154=document[_0x3c2b3b(0x78c)](_0x3c2b3b(0x272));let _0x3e89c5=[];const _0xc38d59=Array[_0x3c2b3b(0x3c0)](_0x5bf154)[_0x3c2b3b(0x2ba)]((_0x4c4767,_0xb68a80)=>{const _0x46a8ed=_0x3c2b3b,_0x5eb06e=_0x4c4767[_0x46a8ed(0x3c3)][_0x46a8ed(0x24a)],_0x57e1cd=_0x4c4767['querySelector']('textarea')['value'];let _0x4f8828={'questionType':_0x5eb06e};const _0x67799a=currentEditingQuizData[_0x46a8ed(0x194)][_0xb68a80];switch(_0x5eb06e){case _0x46a8ed(0x4a6):_0x4f8828[_0x46a8ed(0x421)]=_0x57e1cd;const _0x131d54=_0x4c4767[_0x46a8ed(0x78c)](_0x46a8ed(0x5f4));_0x4f8828['options']=Array[_0x46a8ed(0x3c0)](_0x131d54)['map'](_0x14372a=>_0x14372a[_0x46a8ed(0x796)]);const _0x2dafbc=_0x4c4767[_0x46a8ed(0x7df)]('input[type=\x22radio\x22]:checked');_0x4f8828[_0x46a8ed(0x4b4)]=_0x2dafbc?parseInt(_0x2dafbc[_0x46a8ed(0x796)]):0x0;break;case _0x46a8ed(0x605):_0x4f8828[_0x46a8ed(0x421)]=_0x57e1cd,_0x4f8828[_0x46a8ed(0x474)]=_0x4c4767[_0x46a8ed(0x7df)]('.ideal-answer-input')['value'];break;case _0x46a8ed(0x560):_0x4f8828[_0x46a8ed(0x421)]=_0x57e1cd;const _0x478edf=_0x4c4767[_0x46a8ed(0x7df)](_0x46a8ed(0x6f3));_0x4f8828['correctAnswer']=_0x478edf?_0x478edf[_0x46a8ed(0x796)]===_0x46a8ed(0x57a):!![];break;case'matching_item':_0x4f8828['stem']=_0x57e1cd;const _0x3889f8=_0x4c4767['querySelector'](_0x46a8ed(0x54c));_0x4f8828[_0x46a8ed(0x1bd)]=_0x3889f8?_0x3889f8['value']:'',_0x3e89c5[_0x46a8ed(0x5d6)](_0x4f8828[_0x46a8ed(0x1bd)]);break;default:_0x4f8828['questionText']=_0x57e1cd;break;}return{..._0x67799a,..._0x4f8828};});_0x3e89c5[_0x3c2b3b(0x426)]>0x0&&_0xc38d59['forEach'](_0x1606e7=>{const _0x17abdc=_0x3c2b3b;_0x1606e7[_0x17abdc(0x2e1)]===_0x17abdc(0x7cc)&&(_0x1606e7[_0x17abdc(0x1af)]=_0x3e89c5);});const _0x77870c=currentEditingQuizData['id'],_0x1d0fc0=doc(db,_0x3c2b3b(0x5fb)+appId+_0x3c2b3b(0x737),_0x77870c);await updateDoc(_0x1d0fc0,{'topic':_0x16a50b,'questions':_0xc38d59}),showMessage(_0x3c2b3b(0x25a)),document['getElementById']('quiz-editor-modal')[_0x3c2b3b(0x21b)][_0x3c2b3b(0x4df)]('hidden'),showConfirmation('คุณต้องการตรวจคะแนนของนักเรียนที่ส่งมาแล้วทั้งหมดด้วยเฉลยชุดใหม่นี้หรือไม่?\x20(อาจใช้เวลาสักครู่)',()=>initiateReGradeProcess(_0x77870c)),document['getElementById']('confirmation-modal')['querySelector']('h3')[_0x3c2b3b(0x645)]='ตรวจคะแนนใหม่',document['getElementById']('confirm-delete-btn')[_0x3c2b3b(0x645)]=_0x3c2b3b(0x14b);}catch(_0x45f885){console[_0x3c2b3b(0x403)]('Error\x20saving\x20quiz\x20edits:',_0x45f885),showMessage(_0x3c2b3b(0x5f1));}finally{_0x38b8f6[_0x3c2b3b(0x681)]=![],_0x38b8f6[_0x3c2b3b(0x1da)]='<i\x20class=\x22fas\x20fa-save\x22></i>\x20บันทึกการแก้ไข';}}async function initiateReGradeProcess(_0x283b4a){const _0x2938be=_0x52d111;showMessage('กำลังเริ่มกระบวนการตรวจคะแนนใหม่...\x20กรุณารอสักครู่');try{const _0x3bc4bc=doc(db,_0x2938be(0x5fb)+appId+_0x2938be(0x737),_0x283b4a),_0x1d3135=await getDoc(_0x3bc4bc);if(!_0x1d3135[_0x2938be(0x237)]())throw new Error(_0x2938be(0x6de));const _0x4d913f={'id':_0x283b4a,..._0x1d3135['data']()},_0x4a26fc=collection(db,'artifacts/'+appId+'/public/data/quizzes',_0x283b4a,_0x2938be(0x376)),_0x1c0e24=await getDocs(_0x4a26fc);if(_0x1c0e24['empty']){showMessage(_0x2938be(0x547));return;}const _0x2742a7=_0x1c0e24[_0x2938be(0x23a)][_0x2938be(0x2ba)](_0x2855df=>reGradeSingleSubmission(_0x2855df,_0x4d913f));await Promise['all'](_0x2742a7);if(_0x4d913f['projectId']){const _0x5a73de=doc(db,_0x2938be(0x5fb)+appId+_0x2938be(0x172),_0x4d913f[_0x2938be(0x5d8)]),_0x2998c6=await getDoc(_0x5a73de);if(_0x2998c6[_0x2938be(0x237)]()&&_0x2998c6[_0x2938be(0x406)]()[_0x2938be(0x636)]){const _0x4d1f35=_0x2998c6[_0x2938be(0x406)]()[_0x2938be(0x636)][_0x2938be(0x2ba)](_0x8bb508=>updateStudentProfile(_0x4d913f[_0x2938be(0x5d8)],_0x8bb508));await Promise['all'](_0x4d1f35);}}showMessage(_0x2938be(0x4a1)+_0x1c0e24[_0x2938be(0x330)]+_0x2938be(0x46c));}catch(_0xc1d58a){console['error']('Re-grade\x20process\x20failed:',_0xc1d58a),showMessage(_0x2938be(0x344)+_0xc1d58a[_0x2938be(0x63b)]);}}async function reGradeSingleSubmission(_0x249ca2,_0x2f83ed){const _0x1a57fc=_0x52d111,_0x360584=_0x249ca2[_0x1a57fc(0x406)](),_0x2deff7=_0x360584[_0x1a57fc(0x219)],_0x9f6d97=_0x360584[_0x1a57fc(0x59e)]||[],_0x252c32=[];for(const _0x4f1206 of _0x9f6d97){let _0x2e7ebe=0x0,_0x3f6783=[],_0x2b21f0=0x0;const _0x46727b=[];for(const _0x2d94fa of _0x4f1206[_0x1a57fc(0x47b)]){const _0x322aef=_0x2f83ed[_0x1a57fc(0x194)][_0x1a57fc(0x314)](_0x5f29bd=>(_0x5f29bd['questionText']||_0x5f29bd[_0x1a57fc(0x4c1)])===_0x2d94fa[_0x1a57fc(0x46d)]);let _0x102d64=![];if(_0x322aef){const _0x4f71cf=_0x322aef['questionType']||_0x2f83ed[_0x1a57fc(0x3a7)];switch(_0x4f71cf){case _0x1a57fc(0x4a6):if(_0x322aef[_0x1a57fc(0x417)]&&_0x322aef[_0x1a57fc(0x4b4)]<_0x322aef[_0x1a57fc(0x417)]['length']){const _0xe11c34=_0x322aef[_0x1a57fc(0x417)][_0x322aef[_0x1a57fc(0x4b4)]];_0x102d64=_0x2d94fa['answerText']===_0xe11c34;}break;case _0x1a57fc(0x560):const _0x1d5004=_0x2d94fa['answer']===!![]||_0x2d94fa[_0x1a57fc(0x693)]==='true';_0x102d64=_0x1d5004===_0x322aef['correctAnswer'];break;case _0x1a57fc(0x7cc):_0x102d64=_0x2d94fa[_0x1a57fc(0x693)]===_0x322aef[_0x1a57fc(0x1bd)];break;case _0x1a57fc(0x605):_0x102d64=await gradeShortAnswer(_0x2d94fa[_0x1a57fc(0x693)],_0x322aef);break;default:_0x102d64=_0x2d94fa[_0x1a57fc(0x478)];break;}}if(_0x102d64){_0x2e7ebe++,_0x2b21f0++;if(_0x2b21f0===0x3)_0x3f6783[_0x1a57fc(0x5d6)](BADGES['ON_FIRE']['id']);}else _0x2b21f0=0x0;_0x46727b[_0x1a57fc(0x5d6)]({..._0x2d94fa,'isCorrect':_0x102d64});}let _0x2f93c4=_0x2e7ebe*0xa;_0x2e7ebe===_0x2f83ed[_0x1a57fc(0x194)][_0x1a57fc(0x426)]&&(_0x2f93c4+=0x32,_0x3f6783['push'](BADGES[_0x1a57fc(0x712)]['id'])),_0x252c32[_0x1a57fc(0x5d6)]({..._0x4f1206,'score':_0x2e7ebe,'points':_0x2f93c4,'badges':Array[_0x1a57fc(0x3c0)](new Set(_0x3f6783)),'answers':_0x46727b});}const _0x45d1d6=_0x252c32[_0x1a57fc(0x426)]>0x0?_0x252c32[0x0][_0x1a57fc(0x743)]:0x0,_0x4e5378=Math[_0x1a57fc(0x104)](..._0x252c32['map'](_0x223cf2=>_0x223cf2[_0x1a57fc(0x743)])),_0x56c495=_0x252c32[_0x1a57fc(0x426)]>0x0?_0x252c32[_0x252c32[_0x1a57fc(0x426)]-0x1][_0x1a57fc(0x743)]:0x0,_0x5d8918=_0x252c32['length']>0x0?_0x252c32[_0x252c32[_0x1a57fc(0x426)]-0x1]['points']:0x0,_0x53f230=doc(db,'artifacts/'+appId+_0x1a57fc(0x378)+_0x2f83ed['id']+_0x1a57fc(0x55e),_0x2deff7);await updateDoc(_0x53f230,{'attempts':_0x252c32,'firstScore':_0x45d1d6,'bestScore':_0x4e5378,'latestScore':_0x56c495,'points':_0x5d8918});}function cleanupQuizOptions(_0x45117c){const _0x469211=_0x52d111,_0x148063=(_0x39d970,_0x5f5673)=>_0x5f5673===0x0?_0x39d970:_0x148063(_0x5f5673,_0x39d970%_0x5f5673),_0x47d3ae=_0x15a7d2=>{const _0x16a715=_0x9350;if(typeof _0x15a7d2!==_0x16a715(0x5a2))return null;_0x15a7d2=_0x15a7d2[_0x16a715(0x74c)]();const _0x5cde63=_0x15a7d2['split'](/[ /]/)[_0x16a715(0x48e)](_0x87a85c=>_0x87a85c!=='');if(_0x5cde63[_0x16a715(0x426)]===0x3)return parseInt(_0x5cde63[0x0])+parseInt(_0x5cde63[0x1])/parseInt(_0x5cde63[0x2]);else{if(_0x5cde63[_0x16a715(0x426)]===0x2)return parseInt(_0x5cde63[0x0])/parseInt(_0x5cde63[0x1]);else{if(_0x5cde63['length']===0x1&&!isNaN(_0x5cde63[0x0]))return parseFloat(_0x5cde63[0x0]);}}return null;},_0x4bd901=_0x4b4799=>{const _0x97e495=_0x9350;if(typeof _0x4b4799!==_0x97e495(0x5a2))return _0x4b4799;const _0x21534d=_0x4b4799['match'](/(\d+)\s+(\d+)\/(\d+)/);if(_0x21534d){const _0x33894f=parseInt(_0x21534d[0x1]);let _0x3116bb=parseInt(_0x21534d[0x2]),_0x8eb425=parseInt(_0x21534d[0x3]);const _0x5ef1aa=_0x148063(_0x3116bb,_0x8eb425);_0x3116bb/=_0x5ef1aa,_0x8eb425/=_0x5ef1aa;if(_0x8eb425===0x1)return(_0x33894f+_0x3116bb)[_0x97e495(0x275)]();return _0x33894f+'\x20'+_0x3116bb+'/'+_0x8eb425;}return _0x4b4799;};return _0x45117c&&_0x45117c[_0x469211(0x194)]&&_0x45117c[_0x469211(0x194)]['forEach'](_0x57a4a6=>{const _0x2f0099=_0x469211;if(_0x57a4a6['questionType']==='multiple_choice'&&_0x57a4a6['options']){const _0x39a186=new Map(),_0x4e9984=_0x57a4a6[_0x2f0099(0x417)][_0x57a4a6['correctAnswerIndex']];_0x57a4a6[_0x2f0099(0x417)]['forEach'](_0x104c1f=>{const _0x441a6b=_0x2f0099,_0x454aff=_0x4bd901(_0x104c1f),_0x38a0a5=_0x47d3ae(_0x454aff);_0x38a0a5!==null&&!_0x39a186[_0x441a6b(0x81b)](_0x38a0a5)&&_0x39a186[_0x441a6b(0x591)](_0x38a0a5,_0x454aff);}),_0x57a4a6[_0x2f0099(0x417)]=Array[_0x2f0099(0x3c0)](_0x39a186[_0x2f0099(0x19c)]());const _0x3fc175=_0x57a4a6[_0x2f0099(0x417)][_0x2f0099(0x1cc)](_0x3b9da8=>_0x3b9da8===_0x4bd901(_0x4e9984));_0x57a4a6[_0x2f0099(0x4b4)]=_0x3fc175!==-0x1?_0x3fc175:0x0;}}),_0x45117c;}async function saveQuiz(){const _0x51da7d=_0x52d111;if(!currentProjectId){promptForProjectAndSave();return;}if(!currentQuizData||!currentQuizData[_0x51da7d(0x194)]||!userId){showMessage(_0x51da7d(0x1d1));return;}const _0x341e4e=document[_0x51da7d(0x7d2)](_0x51da7d(0x4f7));_0x341e4e[_0x51da7d(0x681)]=!![],_0x341e4e[_0x51da7d(0x1da)]='<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...';const _0x5bd610=document[_0x51da7d(0x7d2)](_0x51da7d(0x212))['checked'];let _0x1a53df=document[_0x51da7d(0x7d2)]('editable-quiz-topic')[_0x51da7d(0x75e)][_0x51da7d(0x74c)]();_0x5bd610&&!_0x1a53df[_0x51da7d(0x1f5)](_0x51da7d(0x3b1))&&(_0x1a53df=_0x51da7d(0x4d9)+_0x1a53df);try{const _0xf43cb1={'resultsDisplay':document[_0x51da7d(0x7d2)](_0x51da7d(0x6bf))[_0x51da7d(0x796)],'shuffle':document['getElementById'](_0x51da7d(0x4be))['value'],'timerMode':document['getElementById'](_0x51da7d(0x4d7))[_0x51da7d(0x796)],'timerDuration':parseInt(document[_0x51da7d(0x7d2)](_0x51da7d(0x5a4))[_0x51da7d(0x796)])||0xa,'passingScore':parseInt(document[_0x51da7d(0x7d2)](_0x51da7d(0x152))[_0x51da7d(0x796)])||0x0,'isAdaptive':document[_0x51da7d(0x7d2)](_0x51da7d(0x100))['checked']},_0xe635ff=(currentQuizData['questions']||[])[_0x51da7d(0x2ba)](_0x21f49b=>{const _0x3e0fd3=_0x51da7d,_0x22ffbe=document[_0x3e0fd3(0x7d2)](_0x3e0fd3(0x154))[_0x3e0fd3(0x796)],_0x1195f4={'questionText':_0x21f49b[_0x3e0fd3(0x421)]||'','explanation':_0x21f49b['explanation']||_0x3e0fd3(0x1c8),'questionType':_0x21f49b['questionType']||_0x22ffbe,'imageCode':_0x21f49b[_0x3e0fd3(0x2ee)]||null};return(_0x1195f4[_0x3e0fd3(0x2e1)]==='multiple_choice'||_0x1195f4['questionType']===_0x3e0fd3(0x1b1)||_0x1195f4['questionType']===_0x3e0fd3(0x4bc)&&_0x21f49b[_0x3e0fd3(0x417)])&&(_0x1195f4[_0x3e0fd3(0x417)]=_0x21f49b[_0x3e0fd3(0x417)]||[],_0x1195f4[_0x3e0fd3(0x4b4)]=_0x21f49b[_0x3e0fd3(0x4b4)]!==undefined?_0x21f49b[_0x3e0fd3(0x4b4)]:0x0),(_0x1195f4['questionType']===_0x3e0fd3(0x605)||_0x1195f4[_0x3e0fd3(0x2e1)]==='fill_in_no_choices'||_0x1195f4['questionType']===_0x3e0fd3(0x4bc)&&_0x21f49b[_0x3e0fd3(0x474)])&&(_0x1195f4[_0x3e0fd3(0x474)]=_0x21f49b[_0x3e0fd3(0x474)]||''),_0x1195f4[_0x3e0fd3(0x2e1)]===_0x3e0fd3(0x560)&&(_0x1195f4['correctAnswer']=_0x21f49b[_0x3e0fd3(0x380)]===!![]),_0x1195f4[_0x3e0fd3(0x2e1)]===_0x3e0fd3(0x7cc)&&(_0x1195f4[_0x3e0fd3(0x4c1)]=_0x21f49b[_0x3e0fd3(0x4c1)]||'',_0x1195f4[_0x3e0fd3(0x1bd)]=_0x21f49b[_0x3e0fd3(0x1bd)]||'',_0x1195f4[_0x3e0fd3(0x1af)]=_0x21f49b['allResponses']||[]),_0x1195f4;}),_0x196996={'topic':_0x1a53df,'quizType':currentQuizData['quizType']||'multiple_choice','questions':_0xe635ff,'projectId':currentProjectId,'createdBy':userId,'createdAt':new Date()['toISOString'](),'status':_0x51da7d(0x38a),'settings':_0xf43cb1,'quizMode':_0x5bd610?_0x51da7d(0x210):_0x51da7d(0x269),'pairedQuizId':null,'lessonPlan':null};let _0x4568be;while(!![]){_0x4568be=Math[_0x51da7d(0x615)](0x3e8+Math[_0x51da7d(0x38b)]()*0x2328)[_0x51da7d(0x275)]();const _0xc7cea9=await getDoc(doc(db,'artifacts/'+appId+_0x51da7d(0x737),_0x4568be));if(!_0xc7cea9[_0x51da7d(0x237)]())break;}await setDoc(doc(db,_0x51da7d(0x5fb)+appId+_0x51da7d(0x737),_0x4568be),_0x196996),currentQuizData['settings']=_0xf43cb1,currentQuizData['id']=_0x4568be;const _0x59ca0e=document['getElementById'](_0x51da7d(0x28d));_0x59ca0e[_0x51da7d(0x1da)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20text-green-800\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>สร้างแบบทดสอบสำเร็จ!</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>รหัสสำหรับทำแบบทดสอบ:\x20<strong\x20id=\x22quiz-id\x22\x20class=\x22text-lg\x20select-all\x22>'+_0x4568be+_0x51da7d(0x4fc),document[_0x51da7d(0x7d2)](_0x51da7d(0x159))[_0x51da7d(0x37f)](_0x51da7d(0x155),()=>copyTextToClipboard(_0x4568be,_0x51da7d(0x286))),document[_0x51da7d(0x7d2)](_0x51da7d(0xbf))['addEventListener'](_0x51da7d(0x155),()=>handleStartLiveRace(_0x4568be)),document['getElementById'](_0x51da7d(0x598))[_0x51da7d(0x37f)]('click',()=>startPresentation(currentQuizData)),document[_0x51da7d(0x7d2)]('admin-try-quiz-btn')['addEventListener'](_0x51da7d(0x155),startAdminTest),showMessage(_0x51da7d(0x48c));}catch(_0x5014e9){console[_0x51da7d(0x403)](_0x51da7d(0x2aa),_0x5014e9),showMessage(_0x51da7d(0x1c1)),_0x341e4e[_0x51da7d(0x681)]=![],_0x341e4e[_0x51da7d(0x1da)]=_0x51da7d(0x197);}}function promptForProjectAndSave(){const _0xbcf9bc=_0x52d111,_0x58cf09=document[_0xbcf9bc(0x7d2)](_0xbcf9bc(0x5e0)),_0x2f6da8=document[_0xbcf9bc(0x7d2)](_0xbcf9bc(0x2ed)),_0x485dce=_0x58cf09[_0xbcf9bc(0x7df)]('h3'),_0x5ffd56=document['getElementById'](_0xbcf9bc(0x58a));_0x485dce[_0xbcf9bc(0x645)]=_0xbcf9bc(0x2d9),_0x5ffd56[_0xbcf9bc(0x645)]='เลือกและบันทึก';allProjects[_0xbcf9bc(0x426)]===0x0?(_0x2f6da8[_0xbcf9bc(0x1da)]='<option\x20value=\x22\x22>คุณยังไม่มีโปรเจค</option>',_0x5ffd56['disabled']=!![]):(_0x2f6da8[_0xbcf9bc(0x1da)]=allProjects[_0xbcf9bc(0x2ba)](_0x1d8206=>_0xbcf9bc(0x23d)+_0x1d8206['id']+'\x22>'+_0x1d8206[_0xbcf9bc(0x288)]+_0xbcf9bc(0x418))[_0xbcf9bc(0x589)](''),_0x5ffd56[_0xbcf9bc(0x681)]=![]);_0x58cf09[_0xbcf9bc(0x21b)][_0xbcf9bc(0x218)](_0xbcf9bc(0x79f));const _0x4a8f13=()=>{const _0x57291d=_0xbcf9bc,_0x41c9a9=_0x2f6da8[_0x57291d(0x796)];_0x41c9a9?(currentProjectId=_0x41c9a9,_0x58cf09['classList'][_0x57291d(0x4df)](_0x57291d(0x79f)),saveQuiz(),_0x485dce[_0x57291d(0x645)]=_0x57291d(0x1ac),_0x5ffd56['textContent']=_0x57291d(0x163),_0x5ffd56['removeEventListener'](_0x57291d(0x155),_0x4a8f13),_0x5ffd56['addEventListener'](_0x57291d(0x155),confirmMoveQuiz)):showMessage(_0x57291d(0x41c));};_0x5ffd56['removeEventListener'](_0xbcf9bc(0x155),confirmMoveQuiz),_0x5ffd56[_0xbcf9bc(0x37f)](_0xbcf9bc(0x155),_0x4a8f13);}function copyTextToClipboard(_0x3cffcd,_0x59b41e){const _0xaf6df=_0x52d111,_0x3afdd5=document[_0xaf6df(0x44a)](_0xaf6df(0x138));_0x3afdd5[_0xaf6df(0x796)]=_0x3cffcd,_0x3afdd5[_0xaf6df(0x3a0)][_0xaf6df(0x700)]=_0xaf6df(0x115),_0x3afdd5[_0xaf6df(0x3a0)][_0xaf6df(0x359)]='0',document[_0xaf6df(0x302)][_0xaf6df(0x666)](_0x3afdd5),_0x3afdd5['focus'](),_0x3afdd5[_0xaf6df(0x2d6)]();try{const _0x53b223=document[_0xaf6df(0x31f)](_0xaf6df(0x53b));showMessage(_0x53b223?_0x59b41e:_0xaf6df(0x3fd));}catch(_0x3639da){showMessage('คัดลอกไม่สำเร็จ'),console[_0xaf6df(0x403)](_0xaf6df(0x70b),_0x3639da);}document[_0xaf6df(0x302)][_0xaf6df(0x6cc)](_0x3afdd5);}function listenForProjectQuizzes(_0x32aab0){const _0x26e2fc=_0x52d111,_0x212504=collection(db,'artifacts/'+appId+_0x26e2fc(0x737)),_0x6cc6e0=query(_0x212504,where('projectId','==',_0x32aab0));unsubscribeQuizzesListener=onSnapshot(_0x6cc6e0,async _0x13577b=>{const _0x1fc125=_0x26e2fc;allQuizzes=_0x13577b[_0x1fc125(0x23a)]['map'](_0x1ef35e=>({'id':_0x1ef35e['id'],..._0x1ef35e[_0x1fc125(0x406)]()})),renderQuizzes();},_0x3222c0=>{const _0x3ef580=_0x26e2fc;console['error'](_0x3ef580(0x55b),_0x3222c0),document[_0x3ef580(0x7d2)](_0x3ef580(0x384))[_0x3ef580(0x1da)]='<p\x20class=\x22text-red-500\x22>เกิดข้อผิดพลาดในการโหลดแบบทดสอบ</p>';});}async function renderQuizzes(){const _0x56add7=_0x52d111,_0x2b9d2=document['getElementById'](_0x56add7(0x384)),_0x1ed3f6=document[_0x56add7(0x7d2)](_0x56add7(0x3d5))[_0x56add7(0x796)][_0x56add7(0x36c)]();let _0x349562;currentProjectId===_0x56add7(0x654)?_0x349562=starredQuizzes:_0x349562=allQuizzes;let _0x3a4e91=_0x349562['filter'](_0x50364e=>_0x50364e['topic']['toLowerCase']()['includes'](_0x1ed3f6));_0x3a4e91[_0x56add7(0x18d)]((_0x5bc089,_0x56467b)=>new Date(_0x56467b[_0x56add7(0x176)])-new Date(_0x5bc089[_0x56add7(0x176)]));if(_0x3a4e91[_0x56add7(0x426)]===0x0){_0x2b9d2[_0x56add7(0x1da)]='<p\x20class=\x22text-gray-500\x22>ไม่พบแบบทดสอบที่ตรงกัน</p>';return;}const _0x492eb7={},_0x2b5b9e=_0x3a4e91['map'](async _0x6781fb=>{const _0xec33f5=_0x56add7,_0x1e6588=collection(db,'artifacts/'+appId+_0xec33f5(0x378)+_0x6781fb['id']+'/submissions'),_0x290dc7=await getDocs(_0x1e6588);_0x492eb7[_0x6781fb['id']]=_0x290dc7['size'];});await Promise['all'](_0x2b5b9e);let _0x5c5b65='';_0x3a4e91['forEach'](_0x1428ed=>{const _0x43cd87=_0x56add7,_0xe63af8=_0x492eb7[_0x1428ed['id']]||0x0,_0x947510=_0x1428ed[_0x43cd87(0x43a)]||_0x43cd87(0x38a),_0x3ae040=_0x1428ed[_0x43cd87(0x640)]?.[_0x43cd87(0x686)]||_0x43cd87(0x430);let _0x187373='',_0x1c638d='';const _0xf80ac2=new Date();let _0x31beea=_0x947510;if(_0x947510===_0x43cd87(0x735)){const _0x4c7efd=_0x1428ed[_0x43cd87(0x6b7)]?new Date(_0x1428ed[_0x43cd87(0x6b7)]):null,_0x320c1f=_0x1428ed[_0x43cd87(0x5a0)]?new Date(_0x1428ed[_0x43cd87(0x5a0)]):null;if(_0x320c1f&&_0xf80ac2>_0x320c1f)_0x31beea=_0x43cd87(0x76f);else _0x4c7efd&&_0xf80ac2<_0x4c7efd?_0x31beea=_0x43cd87(0x6a1):_0x31beea='active';}switch(_0x31beea){case'inactive':_0x187373=_0x43cd87(0x28a),_0x1c638d=_0x43cd87(0x4c8);break;case _0x43cd87(0x6a1):_0x187373=_0x43cd87(0x431),_0x1c638d='text-blue-700\x20bg-blue-100';break;case'active':_0x187373=_0x3ae040!==_0x43cd87(0x430)?_0x43cd87(0x4c3):_0x43cd87(0x655),_0x1c638d='text-green-700\x20bg-green-100';break;default:_0x187373=_0x43cd87(0x69d),_0x1c638d=_0x43cd87(0x752);break;}let _0x4bef77='';const _0x4fe86c={'day':_0x43cd87(0x728),'month':'2-digit','year':_0x43cd87(0x6fe),'hour':_0x43cd87(0x728),'minute':_0x43cd87(0x728),'hour12':![]};if(_0x947510===_0x43cd87(0x735)){if(_0x1428ed[_0x43cd87(0x6b7)])_0x4bef77+='<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>เปิด:\x20'+new Date(_0x1428ed[_0x43cd87(0x6b7)])[_0x43cd87(0x396)](_0x43cd87(0x588),_0x4fe86c)+'</p>';if(_0x1428ed[_0x43cd87(0x5a0)])_0x4bef77+=_0x43cd87(0x6e2)+new Date(_0x1428ed[_0x43cd87(0x5a0)])[_0x43cd87(0x396)]('th-TH',_0x4fe86c)+_0x43cd87(0x193);}let _0x398979='';if(_0x1428ed['pairedQuizId']){const _0x22ca0b=allQuizzes[_0x43cd87(0x314)](_0xd60f7c=>_0xd60f7c['id']===_0x1428ed[_0x43cd87(0x364)]);if(_0x22ca0b){let _0x2c8d7c,_0xa69122;new Date(_0x1428ed['createdAt'])<new Date(_0x22ca0b['createdAt'])?(_0x2c8d7c=_0x1428ed['id'],_0xa69122=_0x22ca0b['id']):(_0x2c8d7c=_0x22ca0b['id'],_0xa69122=_0x1428ed['id']),_0x398979+=_0x43cd87(0xf1)+_0xa69122+'\x22\x20data-pre-test-id=\x22'+_0x2c8d7c+_0x43cd87(0x65a);}}else _0x1428ed['quizMode']===_0x43cd87(0x210)&&(_0x398979+=_0x43cd87(0x2cc)+_0x1428ed['id']+'\x22\x20class=\x22generate-post-test-btn\x20text-white\x20bg-gradient-to-r\x20from-purple-500\x20to-pink-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-magic\x22></i>\x20สร้าง\x20Post-test\x20คู่ขนาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');if(_0x1428ed[_0x43cd87(0x45a)]===_0x43cd87(0x210)&&_0xe63af8>0x0)_0x398979+=_0x43cd87(0x2cc)+_0x1428ed['id']+_0x43cd87(0x1aa);else!_0x1428ed[_0x43cd87(0x364)]&&_0x1428ed[_0x43cd87(0x45a)]!=='pre-test'&&_0xe63af8>0x0&&(_0x398979+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1428ed['id']+_0x43cd87(0x229));let _0x3943a2='';_0x1428ed[_0x43cd87(0x364)]?_0x3943a2=_0x43cd87(0x7a1)+_0x1428ed['id']+'\x22\x20class=\x22unpair-quiz-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-unlink\x22></i>\x20ยกเลิกจับคู่</button>':_0x3943a2=_0x43cd87(0x7a1)+_0x1428ed['id']+_0x43cd87(0x72f),_0x5c5b65+=_0x43cd87(0x3c4)+_0x1428ed['id']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x20pointer-events-none\x22>'+_0x1428ed[_0x43cd87(0xf7)]+'\x20<span\x20class=\x22text-xs\x20text-gray-500\x20pointer-events-none\x20ml-2\x22>('+_0x1428ed[_0x43cd87(0x194)][_0x43cd87(0x426)]+_0x43cd87(0x519)+new Date(_0x1428ed[_0x43cd87(0x176)])[_0x43cd87(0x396)](_0x43cd87(0x588))+_0x43cd87(0x741)+_0xe63af8+_0x43cd87(0x66d)+_0x4bef77+_0x43cd87(0x62f)+_0x1c638d+'\x22>'+_0x187373+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1428ed['id']+_0x43cd87(0x129)+_0x1428ed['id']+'\x22\x20class=\x22star-quiz-btn\x20text-gray-400\x20hover:text-yellow-500\x20text-lg\x20p-1\x22\x20title=\x22ติดดาว\x22><i\x20class=\x22'+(_0x1428ed[_0x43cd87(0x11e)]?_0x43cd87(0x564):_0x43cd87(0x3e8))+_0x43cd87(0x360)+_0x398979+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1428ed['id']+_0x43cd87(0x2ec)+_0x1428ed['id']+_0x43cd87(0x6d7)+_0x1428ed['id']+_0x43cd87(0x427)+_0x1428ed['id']+_0x43cd87(0xef)+_0x1428ed['id']+_0x43cd87(0x29b)+_0x1428ed['id']+_0x43cd87(0x7d1)+_0x1428ed['id']+_0x43cd87(0x52d)+_0x1428ed[_0x43cd87(0xf7)]+'\x22\x20class=\x22rename-quiz-btn\x20text-yellow-800\x20bg-yellow-100\x20hover:bg-yellow-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-edit\x22></i>\x20แก้ไขชื่อ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1428ed['id']+'\x22\x20class=\x22parallel-quiz-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-clone\x22></i>\x20สร้างคู่ขนาน</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1428ed['id']+'\x22\x20class=\x22move-quiz-btn\x20text-purple-800\x20bg-purple-100\x20hover:bg-purple-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-project-diagram\x22></i>\x20ย้าย</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3943a2+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1428ed['id']+_0x43cd87(0x15e)+_0x1428ed['id']+_0x43cd87(0x60f)+_0x1428ed['id']+_0x43cd87(0x816)+_0x1428ed['id']+'\x22\x20class=\x22export-pdf-list-btn\x20text-red-800\x20bg-red-100\x20hover:bg-red-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-file-pdf\x22></i>\x20Export\x20PDF</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22'+_0x1428ed['id']+_0x43cd87(0x52d)+_0x1428ed[_0x43cd87(0xf7)]+'\x22\x20class=\x22delete-quiz-btn\x20text-red-500\x20hover:text-red-700\x20text-sm\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i>\x20ลบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x2b9d2[_0x56add7(0x1da)]=_0x5c5b65,document['querySelectorAll'](_0x56add7(0x783))[_0x56add7(0x651)](_0x53133c=>{const _0x45eed3=_0x56add7;_0x53133c[_0x45eed3(0x37f)]('click',()=>{const _0x3097c6=_0x45eed3,_0xbfbd28=_0x53133c[_0x3097c6(0x3c3)][_0x3097c6(0x220)];showQuizDetailView(_0xbfbd28);});});}async function handleUnpairQuiz(_0x44ae93){const _0x19409e=_0x52d111,_0x5250d8=allQuizzes['find'](_0x24e79a=>_0x24e79a['id']===_0x44ae93);if(!_0x5250d8||!_0x5250d8[_0x19409e(0x364)]){showMessage(_0x19409e(0x21f));return;}showConfirmation(_0x19409e(0x39b),async()=>{const _0x5014bd=_0x19409e;try{const _0x59e332=doc(db,_0x5014bd(0x5fb)+appId+'/public/data/quizzes',_0x44ae93),_0x46420d=doc(db,_0x5014bd(0x5fb)+appId+_0x5014bd(0x737),_0x5250d8['pairedQuizId']),_0x4511f1=writeBatch(db);_0x4511f1[_0x5014bd(0x7e9)](_0x59e332,{'pairedQuizId':null}),_0x4511f1[_0x5014bd(0x7e9)](_0x46420d,{'pairedQuizId':null}),await _0x4511f1[_0x5014bd(0x664)](),showMessage(_0x5014bd(0x5f5));}catch(_0x55c650){console[_0x5014bd(0x403)](_0x5014bd(0x3c1),_0x55c650),showMessage(_0x5014bd(0x6e1));}});}function formatAndPrintLessonPlan(_0x1412bb,_0x499185){const _0x5aea9d=_0x52d111,_0xb38ffc=window['open']('','_blank'),_0x5ac46b='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แผนการสอน:\x20'+_0x499185[_0x5aea9d(0xf7)]+_0x5aea9d(0x150)+_0x499185['topic']+_0x5aea9d(0x7f5)+_0x1412bb[_0x5aea9d(0x7a5)][_0x5aea9d(0x2ba)](_0x543038=>_0x5aea9d(0x27a)+_0x543038+_0x5aea9d(0x56e))[_0x5aea9d(0x589)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-blue-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-blue-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-blue-800\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-800\x20whitespace-pre-wrap\x22>'+_0x1412bb[_0x5aea9d(0x5d5)]+_0x5aea9d(0x771)+_0x1412bb['practiceProblems']['map'](_0x54383e=>_0x5aea9d(0x567)+_0x54383e[_0x5aea9d(0x34b)]+_0x5aea9d(0x5f9)+_0x54383e[_0x5aea9d(0x26d)]+_0x5aea9d(0x6e8))[_0x5aea9d(0x589)]('')+_0x5aea9d(0x787);_0xb38ffc[_0x5aea9d(0x5ac)][_0x5aea9d(0x66a)](_0x5ac46b),_0xb38ffc[_0x5aea9d(0x5ac)][_0x5aea9d(0x1f8)](),_0xb38ffc['onload']=function(){setTimeout(()=>{_0xb38ffc['print']();},0x3e8);};}async function handleGenerateLessonPlan(_0x4f7d23){const _0x39bc5f=_0x52d111;showMessage(_0x39bc5f(0x186));try{const _0x3569e4=doc(db,'artifacts/'+appId+_0x39bc5f(0x737),_0x4f7d23),_0x1d39d2=await getDoc(_0x3569e4);if(!_0x1d39d2['exists']())throw new Error(_0x39bc5f(0x6de));const _0x2a70ba={'id':_0x4f7d23,..._0x1d39d2[_0x39bc5f(0x406)]()},_0x9f2c1f=collection(db,'artifacts/'+appId+_0x39bc5f(0x737),_0x4f7d23,_0x39bc5f(0x376)),_0x118c90=await getDocs(_0x9f2c1f),_0x5cf59e=_0x118c90[_0x39bc5f(0x23a)][_0x39bc5f(0x2ba)](_0x1e8e5e=>_0x1e8e5e[_0x39bc5f(0x406)]());if(_0x5cf59e[_0x39bc5f(0x426)]===0x0)throw new Error(_0x39bc5f(0x2fc));const _0x10f6a4=calculateItemAnalysis(_0x2a70ba,_0x5cf59e)[_0x39bc5f(0x74b)],_0x143cd0=calculateDistractorAnalysis(_0x2a70ba,_0x5cf59e),_0x4ae99a=_0x50d05c=>{const _0x52c66c=_0x39bc5f;if(!_0x50d05c)return'';return _0x50d05c[_0x52c66c(0x36d)](/\\/g,'\x5c\x5c')[_0x52c66c(0x36d)](/"/g,'\x5c\x22')['replace'](/\n/g,'\x5cn');};let _0x17a8e5=_0x39bc5f(0x38e);_0x2a70ba['questions'][_0x39bc5f(0x651)]((_0x16c912,_0x18c689)=>{const _0x4305ec=_0x39bc5f,_0x1c25f5=_0x10f6a4[_0x18c689]?.['p'][_0x4305ec(0x122)](0x2)||_0x4305ec(0x51f),_0x2c1eef=_0x10f6a4[_0x18c689]?.['r'][_0x4305ec(0x122)](0x2)||'N/A',_0x2d2328=_0x4ae99a(_0x16c912[_0x4305ec(0x421)]||_0x16c912[_0x4305ec(0x4c1)]);_0x17a8e5+=_0x4305ec(0x27d)+(_0x18c689+0x1)+_0x4305ec(0x4cf)+_0x1c25f5+_0x4305ec(0x473)+_0x2c1eef+_0x4305ec(0x4fa)+_0x2d2328+'\x5cn';if(_0x16c912[_0x4305ec(0x2e1)]===_0x4305ec(0x4a6)&&_0x143cd0[_0x18c689]){const _0x2018da=_0x143cd0[_0x18c689],_0x4fae3a=Object[_0x4305ec(0x35e)](_0x2018da)[_0x4305ec(0x48e)](_0x4dee6f=>parseInt(_0x4dee6f)!==_0x16c912[_0x4305ec(0x4b4)])[_0x4305ec(0x18d)]((_0x87ce4c,_0x48cda9)=>_0x2018da[_0x48cda9][_0x4305ec(0x257)]-_0x2018da[_0x87ce4c]['total'])[0x0];if(_0x4fae3a&&_0x2018da[_0x4fae3a][_0x4305ec(0x257)]>0x0){const _0x231b8b=_0x4ae99a(_0x2018da[_0x4fae3a][_0x4305ec(0x45e)]);_0x17a8e5+='\x20\x20-\x20ความเข้าใจผิดที่พบบ่อย:\x20นักเรียนมักเลือกตอบตัวเลือก\x20\x22'+_0x231b8b+_0x4305ec(0x717);}}});const _0xb9d829=_0x39bc5f(0x383)+_0x2a70ba[_0x39bc5f(0xf7)]+_0x39bc5f(0x273)+_0x17a8e5+_0x39bc5f(0x2a2),_0x53ede7={'type':_0x39bc5f(0x203),'properties':{'learningGaps':{'type':_0x39bc5f(0x331),'items':{'type':_0x39bc5f(0x12e)}},'teachingContent':{'type':_0x39bc5f(0x12e)},'practiceProblems':{'type':_0x39bc5f(0x331),'items':{'type':_0x39bc5f(0x203),'properties':{'question':{'type':'STRING'},'solution':{'type':'STRING'}}}}},'required':[_0x39bc5f(0x7a5),_0x39bc5f(0x5d5),'practiceProblems']},_0x1794b8=await callAnalysisApi(_0xb9d829,_0x53ede7);await updateDoc(_0x3569e4,{'lessonPlan':_0x1794b8});const _0x268a9e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20'+_0x2a70ba[_0x39bc5f(0xf7)]+_0x39bc5f(0x73c)+_0x1794b8['learningGaps']['map'](_0x5861c2=>_0x39bc5f(0x27a)+_0x5861c2+_0x39bc5f(0x56e))[_0x39bc5f(0x589)]('')+_0x39bc5f(0x80e)+_0x1794b8[_0x39bc5f(0x5d5)]+_0x39bc5f(0x730)+_0x1794b8[_0x39bc5f(0x798)][_0x39bc5f(0x2ba)](_0x1c01c1=>'<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20'+_0x1c01c1['question']+_0x39bc5f(0x16f)+_0x1c01c1[_0x39bc5f(0x26d)]+_0x39bc5f(0x710))[_0x39bc5f(0x589)]('')+_0x39bc5f(0x1cd);document[_0x39bc5f(0x7d2)](_0x39bc5f(0x2c0))[_0x39bc5f(0x645)]='แผนการสอน:\x20'+_0x2a70ba[_0x39bc5f(0xf7)],document['getElementById'](_0x39bc5f(0x6ac))['innerHTML']=_0x268a9e,document[_0x39bc5f(0x7d2)](_0x39bc5f(0x6ec))[_0x39bc5f(0x21b)][_0x39bc5f(0x218)]('hidden');if(window[_0x39bc5f(0x6a7)])MathJax[_0x39bc5f(0x672)]();messageModal[_0x39bc5f(0x21b)][_0x39bc5f(0x4df)](_0x39bc5f(0x79f));}catch(_0x3bbcf7){console[_0x39bc5f(0x403)](_0x39bc5f(0x6b4),_0x3bbcf7),showMessage('เกิดข้อผิดพลาด:\x20'+_0x3bbcf7[_0x39bc5f(0x63b)]);}}async function handleDuplicateQuiz(_0x54a2e5){const _0x523fc4=_0x52d111;try{const _0x678601=doc(db,_0x523fc4(0x5fb)+appId+'/public/data/quizzes',_0x54a2e5),_0x1f0e6f=await getDoc(_0x678601);if(_0x1f0e6f[_0x523fc4(0x237)]()){const _0x1fff4b=_0x1f0e6f[_0x523fc4(0x406)]();let _0x40ea38='',_0x44f0d3='standard',_0x2d12ff=null;if(_0x1fff4b[_0x523fc4(0x45a)]===_0x523fc4(0x210)){let _0x3445d9=_0x1fff4b['topic'][_0x523fc4(0x36d)](_0x523fc4(0x3b1),'')[_0x523fc4(0x74c)]();_0x40ea38='(หลังเรียน)\x20'+_0x3445d9,_0x44f0d3='post-test',_0x2d12ff=_0x54a2e5;}else _0x40ea38=_0x523fc4(0x162)+_0x1fff4b[_0x523fc4(0xf7)];const _0xee691a={..._0x1fff4b,'topic':_0x40ea38,'createdAt':new Date()[_0x523fc4(0x663)](),'quizMode':_0x44f0d3,'pairedQuizId':_0x2d12ff};let _0x20c598;while(!![]){_0x20c598=Math['floor'](0x3e8+Math[_0x523fc4(0x38b)]()*0x2328)[_0x523fc4(0x275)]();const _0x2d749f=await getDoc(doc(db,_0x523fc4(0x5fb)+appId+_0x523fc4(0x737),_0x20c598));if(!_0x2d749f[_0x523fc4(0x237)]())break;}const _0x1bb87d=doc(db,_0x523fc4(0x5fb)+appId+_0x523fc4(0x737),_0x20c598);await setDoc(_0x1bb87d,_0xee691a),_0xee691a[_0x523fc4(0x45a)]===_0x523fc4(0x2fa)&&await updateDoc(_0x678601,{'pairedQuizId':_0x20c598}),showMessage('คัดลอกแบบทดสอบสำเร็จ');}else throw new Error(_0x523fc4(0x679));}catch(_0x54c10c){console[_0x523fc4(0x403)](_0x523fc4(0x44f),_0x54c10c),showMessage(_0x523fc4(0x585));}}async function handleDeleteQuiz(_0x351e6c,_0x309023=!![]){const _0x3fe3f9=_0x52d111;try{const _0xf5e74e=writeBatch(db),_0x5426b0=collection(db,_0x3fe3f9(0x5fb)+appId+_0x3fe3f9(0x378)+_0x351e6c+_0x3fe3f9(0x55e)),_0x548f29=await getDocs(_0x5426b0);_0x548f29[_0x3fe3f9(0x651)](_0x3d6a08=>{const _0x54db12=_0x3fe3f9;_0xf5e74e[_0x54db12(0x7c9)](doc(_0x5426b0,_0x3d6a08['id']));});const _0x3b4f93=doc(db,_0x3fe3f9(0x5fb)+appId+_0x3fe3f9(0x737),_0x351e6c);_0xf5e74e['delete'](_0x3b4f93),await _0xf5e74e[_0x3fe3f9(0x664)](),_0x309023&&showMessage(_0x3fe3f9(0x377));}catch(_0x170bbe){console[_0x3fe3f9(0x403)](_0x3fe3f9(0x5e4),_0x170bbe),_0x309023&&showMessage('เกิดข้อผิดพลาดในการลบแบบทดสอบ');}}async function showQuizDetailView(_0x1f36e7){const _0x2d3f00=_0x52d111;if(unsubscribeSubmissionsListener)unsubscribeSubmissionsListener();switchQuizDetailTab(_0x2d3f00(0x627));try{const _0x38b89f=doc(db,_0x2d3f00(0x5fb)+appId+_0x2d3f00(0x737),_0x1f36e7),_0x1868cb=await getDoc(_0x38b89f);if(!_0x1868cb[_0x2d3f00(0x237)]()){showMessage(_0x2d3f00(0x6de));return;}const _0x3e2bc8={'id':_0x1868cb['id'],..._0x1868cb['data']()};currentQuizData=_0x3e2bc8;const _0x3a74b7=doc(db,_0x2d3f00(0x5fb)+appId+_0x2d3f00(0x172),_0x3e2bc8[_0x2d3f00(0x5d8)]),_0x1f6154=await getDoc(_0x3a74b7);_0x1f6154[_0x2d3f00(0x237)]()?(currentProjectData=_0x1f6154[_0x2d3f00(0x406)](),currentProjectId=_0x3e2bc8[_0x2d3f00(0x5d8)]):(currentProjectData={'students':[]},currentProjectId=_0x3e2bc8[_0x2d3f00(0x5d8)]);document[_0x2d3f00(0x7d2)](_0x2d3f00(0x1f4))[_0x2d3f00(0x645)]=_0x3e2bc8['topic'],document[_0x2d3f00(0x7d2)]('results-quiz-id-display')['textContent']=_0x1f36e7;const _0x1942c7=collection(db,_0x2d3f00(0x5fb)+appId+_0x2d3f00(0x737),_0x1f36e7,_0x2d3f00(0x376));unsubscribeSubmissionsListener=onSnapshot(_0x1942c7,_0x530543=>{const _0x3f1785=_0x2d3f00,_0x315e61=_0x530543[_0x3f1785(0x23a)][_0x3f1785(0x2ba)](_0x515066=>({'id':_0x515066['id'],..._0x515066[_0x3f1785(0x406)]()}));currentSubmissions=_0x315e61,renderAnswerGrid(currentProjectData['students'],_0x315e61,_0x3e2bc8),renderAnalytics(_0x3e2bc8,_0x315e61),renderQuizResultsTable(currentProjectData[_0x3f1785(0x636)],_0x315e61,_0x3e2bc8),renderQuizLeaderboard(_0x315e61,_0x3e2bc8,_0x3f1785(0x536));}),showView(_0x2d3f00(0x282));}catch(_0x4b8d82){console['error'](_0x2d3f00(0x476),_0x4b8d82),showMessage(_0x2d3f00(0x72b));}}function renderAnswerGrid(_0x3cf65d,_0x31b4fb,_0x2c454c){const _0x11d3a5=_0x52d111,_0x9e8b25=document[_0x11d3a5(0x7d2)](_0x11d3a5(0x453));if(!_0x9e8b25)return;if(!_0x3cf65d||_0x3cf65d[_0x11d3a5(0x426)]===0x0){_0x9e8b25[_0x11d3a5(0x1da)]='<p\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลนักเรียนเพื่อนำมาสร้างตาราง</p>';return;}const _0x5989ac=_0x2c454c[_0x11d3a5(0x194)],_0x135643=_0x31b4fb['reduce']((_0x533c70,_0x3e58b7)=>{return _0x533c70[_0x3e58b7['studentName']]=_0x3e58b7,_0x533c70;},{}),_0x400c90=_0x228d89=>String[_0x11d3a5(0x7ae)](0x41+_0x228d89),_0x3edc45=_0x5b41cf=>{const _0x36a7cc=_0x11d3a5,_0x52dc44=_0x5b41cf[_0x36a7cc(0x2e1)]||_0x2c454c['quizType'];switch(_0x52dc44){case'multiple_choice':return _0x5b41cf[_0x36a7cc(0x417)]&&_0x5b41cf['options']['length']>_0x5b41cf['correctAnswerIndex']?_0x400c90(_0x5b41cf[_0x36a7cc(0x4b4)]):'-';case _0x36a7cc(0x560):return _0x5b41cf['correctAnswer']?_0x36a7cc(0x60e):_0x36a7cc(0x7d8);case _0x36a7cc(0x7cc):return _0x5b41cf[_0x36a7cc(0x1bd)]||'-';case _0x36a7cc(0x605):return _0x36a7cc(0xe8);default:return'-';}},_0x4cd401=(_0x1139cc,_0x35bf51)=>{const _0x40d32c=_0x11d3a5;if(_0x35bf51[_0x40d32c(0x693)]===null||_0x35bf51[_0x40d32c(0x693)]===undefined)return'-';const _0x2d4187=_0x1139cc['questionType']||_0x2c454c[_0x40d32c(0x3a7)];switch(_0x2d4187){case _0x40d32c(0x4a6):const _0x40fca0=_0x1139cc['options']['findIndex'](_0x4e8caa=>_0x4e8caa===_0x35bf51[_0x40d32c(0x462)]);return _0x40fca0!==-0x1?_0x400c90(_0x40fca0):_0x35bf51[_0x40d32c(0x462)]||'-';case _0x40d32c(0x560):return _0x35bf51[_0x40d32c(0x693)]===_0x40d32c(0x57a)||_0x35bf51[_0x40d32c(0x693)]===!![]?'ใช่':_0x40d32c(0x7d8);default:return _0x35bf51[_0x40d32c(0x693)];}};let _0x3d80fb=_0x11d3a5(0x2ca)+_0x5989ac['map']((_0x521b51,_0x872ae9)=>'<th\x20class=\x22py-2\x20px-2\x20border-b\x22>'+(_0x872ae9+0x1)+_0x11d3a5(0x750))[_0x11d3a5(0x589)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-1\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-gray-200\x20z-10\x22>เฉลย</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5989ac['map'](_0x543ff8=>'<td\x20class=\x22py-1\x20px-2\x20border-b\x20font-bold\x20text-blue-700\x22>'+_0x3edc45(_0x543ff8)+_0x11d3a5(0x758))[_0x11d3a5(0x589)]('')+_0x11d3a5(0x576);_0x3cf65d[_0x11d3a5(0x651)](_0x4b114d=>{const _0x54566a=_0x11d3a5;_0x3d80fb+=_0x54566a(0x769),_0x3d80fb+=_0x54566a(0x670)+_0x4b114d+_0x54566a(0x758);const _0x442e7d=_0x135643[_0x4b114d];if(_0x442e7d){const _0x34ff18=_0x442e7d[_0x54566a(0x59e)][_0x442e7d[_0x54566a(0x59e)][_0x54566a(0x426)]-0x1];_0x5989ac['forEach']((_0x59b582,_0x5b13f2)=>{const _0x29fab3=_0x54566a,_0x58a89e=_0x34ff18[_0x29fab3(0x47b)][_0x29fab3(0x314)](_0x4c474d=>_0x4c474d[_0x29fab3(0x46d)]===(_0x59b582['stem']||_0x59b582[_0x29fab3(0x421)]));if(_0x58a89e){let _0x425d5a=![];const _0x5726a8=_0x59b582[_0x29fab3(0x2e1)]||_0x2c454c[_0x29fab3(0x3a7)];if(_0x58a89e[_0x29fab3(0x693)]!==null&&_0x58a89e[_0x29fab3(0x693)]!==undefined)switch(_0x5726a8){case _0x29fab3(0x4a6):const _0x45e8b0=_0x59b582['options'][_0x59b582[_0x29fab3(0x4b4)]];_0x425d5a=_0x58a89e[_0x29fab3(0x462)]===_0x45e8b0;break;case _0x29fab3(0x560):const _0x166b53=_0x58a89e[_0x29fab3(0x693)]===!![]||_0x58a89e[_0x29fab3(0x693)]==='true';_0x425d5a=_0x166b53===_0x59b582['correctAnswer'];break;case _0x29fab3(0x7cc):_0x425d5a=_0x58a89e['answer']===_0x59b582[_0x29fab3(0x1bd)];break;default:_0x425d5a=_0x58a89e[_0x29fab3(0x478)];break;}const _0x4d1742=_0x425d5a?'bg-green-100':_0x29fab3(0x3b9);_0x3d80fb+='<td\x20class=\x22py-2\x20px-2\x20border-b\x20'+_0x4d1742+'\x22>'+_0x4cd401(_0x59b582,_0x58a89e)+'</td>';}else _0x3d80fb+=_0x29fab3(0x622);});}else _0x3d80fb+=_0x5989ac['map'](()=>_0x54566a(0x639))[_0x54566a(0x589)]('');_0x3d80fb+='</tr>';}),_0x3d80fb+=_0x11d3a5(0x6a5),_0x9e8b25[_0x11d3a5(0x1da)]=_0x3d80fb;}function renderQuizResultsTable(_0xd108b6,_0x49380c,_0x37e5ff){const _0x35dcb4=_0x52d111,_0x628384=_0x49380c['reduce']((_0x2c6e33,_0x27befa)=>{const _0x2e2dca=_0x9350;return _0x2c6e33[_0x27befa[_0x2e2dca(0x219)]]=_0x27befa,_0x2c6e33;},{}),_0x4ae5a8=document[_0x35dcb4(0x7df)]('#results-table\x20thead\x20tr');_0x4ae5a8&&!_0x4ae5a8['innerHTML'][_0x35dcb4(0x3ff)](_0x35dcb4(0x444))&&(_0x4ae5a8[_0x35dcb4(0x1da)]+=_0x35dcb4(0x76e));const _0x4a8df5=document['getElementById'](_0x35dcb4(0x55a));if(!_0xd108b6||_0xd108b6[_0x35dcb4(0x426)]===0x0){_0x4a8df5['innerHTML']='<tr><td\x20colspan=\x2210\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีรายชื่อนักเรียนในโปรเจคนี้</td></tr>';return;}const _0x56c58e=_0x37e5ff[_0x35dcb4(0x4b7)]===!![],_0x255353=_0x37e5ff[_0x35dcb4(0x640)]?.[_0x35dcb4(0x3ce)]??-0x1;let _0x4d4031='';_0xd108b6[_0x35dcb4(0x651)](_0x5d1d68=>{const _0x5c4a65=_0x35dcb4,_0x26c581=_0x628384[_0x5d1d68];let _0x51ab3a=_0x5c4a65(0x112),_0xa4c982=_0x5c4a65(0x2e5)+(_0x56c58e?_0x5c4a65(0x75b):_0x5c4a65(0x14f))+'\x22>'+(_0x56c58e?_0x5c4a65(0x7f8):_0x5c4a65(0x283))+_0x5c4a65(0x477);if(_0x26c581){let _0x53520a=_0x56c58e?_0x26c581[_0x5c4a65(0x10b)]===_0x26c581['totalQuestions']:_0x255353!==-0x1&&_0x26c581[_0x5c4a65(0x10b)]>=_0x255353;if(_0x56c58e||_0x255353!==-0x1){const _0x492ee4=_0x53520a?_0x5c4a65(0x6ca):_0x5c4a65(0x618),_0x2f8133=_0x53520a?_0x5c4a65(0x439):_0x5c4a65(0x5e8);_0x51ab3a=_0x5c4a65(0x46a)+_0x492ee4+'\x22>'+_0x2f8133+_0x5c4a65(0x477);}const _0x501b50=_0x5c4a65(0x41e)+(_0x26c581[_0x5c4a65(0x59e)]?.[_0x5c4a65(0x426)]||0x1)+_0x5c4a65(0x250);_0x4d4031+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x5d1d68+_0x5c4a65(0x410)+_0x26c581['bestScore']+_0x5c4a65(0x14e)+_0x26c581[_0x5c4a65(0x452)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x51ab3a+_0x5c4a65(0x4e8)+_0xa4c982+_0x5c4a65(0x62d)+_0x26c581[_0x5c4a65(0x81c)]+_0x5c4a65(0x14e)+_0x26c581['totalQuestions']+_0x5c4a65(0x57c)+_0x26c581[_0x5c4a65(0x5a5)]+'\x20/\x20'+_0x26c581['totalQuestions']+_0x5c4a65(0x68d)+(_0x26c581[_0x5c4a65(0x239)]||0x0)+_0x5c4a65(0x43b)+_0x501b50+_0x5c4a65(0x1ff)+new Date(_0x26c581[_0x5c4a65(0x6f8)])[_0x5c4a65(0x396)]('th-TH')+_0x5c4a65(0x2dd)+_0x5d1d68+_0x5c4a65(0x786);}else{const _0x10ef4f=_0x5c4a65(0x12a);_0x4d4031+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+_0x5d1d68+_0x5c4a65(0x558)+_0xa4c982+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x10ef4f+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22></td>\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}}),_0x4a8df5['innerHTML']=_0x4d4031;}async function confirmRenameQuiz(){const _0x5c8408=_0x52d111,_0x4f0f09=document['getElementById'](_0x5c8408(0x503))['value'][_0x5c8408(0x74c)]();if(!_0x4f0f09){showMessage(_0x5c8408(0x22a));return;}if(!actionTargetId)return;const _0x56f775=doc(db,_0x5c8408(0x5fb)+appId+'/public/data/quizzes',actionTargetId);try{await updateDoc(_0x56f775,{'topic':_0x4f0f09}),showMessage(_0x5c8408(0x353)),renameQuizModal[_0x5c8408(0x21b)]['add'](_0x5c8408(0x79f)),actionTargetId=null;}catch(_0x7523dd){console[_0x5c8408(0x403)](_0x5c8408(0x542),_0x7523dd),showMessage(_0x5c8408(0x59c));}}async function handleMoveQuiz(_0x2386f6){const _0x2c1d5d=_0x52d111;actionTargetId=_0x2386f6;const _0x355414=document[_0x2c1d5d(0x7d2)](_0x2c1d5d(0x2ed));_0x355414[_0x2c1d5d(0x1da)]=_0x2c1d5d(0x12c),moveQuizModal['classList']['remove']('hidden');try{const _0x51d5c5=collection(db,_0x2c1d5d(0x5fb)+appId+_0x2c1d5d(0x172)),_0x2d98a5=await getDocs(_0x51d5c5),_0x114068=_0x2d98a5['docs'][_0x2c1d5d(0x2ba)](_0x109f3d=>({'id':_0x109f3d['id'],..._0x109f3d['data']()})),_0x37bfe3=_0x114068[_0x2c1d5d(0x48e)](_0xfbd418=>_0xfbd418['id']!==currentProjectId);if(_0x37bfe3[_0x2c1d5d(0x426)]===0x0){_0x355414[_0x2c1d5d(0x1da)]='<option\x20value=\x22\x22>ไม่มีโปรเจคอื่นให้ย้ายไป</option>',document[_0x2c1d5d(0x7d2)]('confirm-move-quiz-btn')[_0x2c1d5d(0x681)]=!![];return;}_0x355414['innerHTML']=_0x37bfe3[_0x2c1d5d(0x2ba)](_0x149842=>'<option\x20value=\x22'+_0x149842['id']+'\x22>'+_0x149842[_0x2c1d5d(0x288)]+_0x2c1d5d(0x418))[_0x2c1d5d(0x589)](''),document[_0x2c1d5d(0x7d2)](_0x2c1d5d(0x58a))[_0x2c1d5d(0x681)]=![];}catch(_0x14c9db){console[_0x2c1d5d(0x403)](_0x2c1d5d(0x39a),_0x14c9db),showMessage(_0x2c1d5d(0x414)),moveQuizModal['classList'][_0x2c1d5d(0x4df)]('hidden');}}function _0xed41(){const _0x190819=['stopPropagation','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22drill-options\x22\x20class=\x22space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touchstart','players.','```json','.delete-submission-btn','show_pass_fail_only','#student-quiz-leaderboard-content\x20thead','<tr>','.generate-post-test-btn','ระบบสมการเชิงเส้นสองตัวแปร','สร้างแบบทดสอบปรนัย','<span\x20class=\x22font-bold\x20','<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>จัดการ</th>','inactive','\x22\x20draggable=\x22true\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-green-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-green-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-green-800\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','export-leaderboard-image-btn','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','<div\x20class=\x22','save-quiz-edits-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20py-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์ภาพรวม...\x20อาจใช้เวลาสักครู่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','deg','.pointsLastQuestion','lessonPlan','กรุณาป้อนหัวข้อสำหรับใบงาน','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยาก</span>','.topic-name-input','question-complexity-select','fill_in_no_choices','Error\x20during\x20class\x20analysis:','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบได้</p>','<span\x20class=\x22text-red-500\x22><i\x20class=\x22fas\x20fa-times-circle\x22></i>\x20ไม่ถูกต้อง</span>\x20(คำตอบที่คาดหวัง:\x20','.quiz-result-card','(ไม่มีชื่อ)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22inline-flex\x20items-center\x20mx-1\x22\x20title=\x22','\x22\x20class=\x22delete-submission-btn\x20text-red-500\x20hover:text-red-700\x20text-lg\x20p-1\x22\x20title=\x22ลบผลสอบของนักเรียนคนนี้\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','ฟังก์ชัน:\x20แนวคิดและสัญกรณ์','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br><span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','text-purple-600','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจาก\x20Blueprint\x20ได้</p>','querySelectorAll','ไม่พบข้อมูลข้อสอบหลังเรียน','back-from-results-btn','\x20class=\x22accent-green-600\x22>\x20<span>ใช่\x20/\x20ถูก</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','.save-custom-topic-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','<p\x20class=\x22text-red-500\x20text-center\x22>ขออภัย,\x20ไม่สามารถสร้างแบบทดสอบจากลิงก์ได้</p>','leaderboard-table-body','ชื่อหัวข้อห้ามว่าง','ring-purple-400','value','export-leaderboard-excel-btn','practiceProblems','</body></html>','save','leaderboard-quiz-tab-btn','ไม่สามารถเริ่มเกมได้','text-red-500\x20hover:text-red-700','comparison-overall-content','hidden','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<button\x20data-quiz-id=\x22','\x5ctext{$1}','.edit-question-btn','text-gray-400\x20hover:text-indigo-600','learningGaps','Error\x20starting\x20live\x20race:','.project-card-content','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>คุณเข้าร่วมแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x20mt-2\x22>ชื่อของคุณคือ:\x20<span\x20class=\x22font-bold\x22>','\x22\x20data-q-type=\x22','confirm-admin-login-btn','ปริมาตรรูปทรงสามมิติ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-explanation\x22\x20class=\x22hidden\x20mt-8\x20p-4\x20bg-blue-50\x20text-blue-800\x20rounded-lg\x20text-left\x20text-lg\x20md:text-xl\x20max-w-4xl\x20mx-auto\x20leading-relaxed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22font-bold\x22>คำอธิบาย:</strong>\x20','student-quiz-leaderboard-tab','fromCharCode','อัปเดตสถานะสำเร็จ','#F3E8FF','change','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-between\x20p-1\x20hover:bg-gray-100\x20rounded-md\x20group\x20topic-row\x22\x20data-topic-container-id=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20w-full\x20max-w-lg\x20bg-black/20\x20p-4\x20rounded-lg\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x20text-center\x22>อันดับอื่นๆ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','create-project-btn','สมการยกกำลัง','close-presentation-btn','วิเคราะห์สำเร็จ!\x20กำลังสร้างแบบทดสอบคู่ขนาน...','upper_group_count','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20กำลังเรียก\x20AI\x20สร้างใหม่...','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบปัจจุบัน','game-pin-input','explanation','\x22>ไม่ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22drill_opt_','doughnut','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-play\x20text-purple-600\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20','FileReader\x20error:','\x20ข้อ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','svg','choices_only','1741072MUhGyi','finishReason','delete','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-red-700\x20font-semibold\x22>คะแนนต่ำสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-red-900\x22>','<div\x20class=\x22my-2\x22>','matching_item','comeback_king','admin','AI\x20request\x20was\x20blocked.\x20Reason:\x20','สำหรับโจทย์คณิตศาสตร์ที่ว่า\x20\x22','\x22\x20class=\x22duplicate-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','getElementById','quiz-generation-area','neq','font-bold\x20text-green-700','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-green-700','ไม่ใช่','back-to-student-initial-btn','border-green-500','.parallel-quiz-btn','per-question-timer-container','สมการเชิงเส้นตัวแปรเดียว','presentation-slide-container','querySelector','เกิดข้อผิดพลาดในการโหลดโปรเจค','project-passcode-modal','global-live-game-modal','min','confirm-delete-btn','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-bold\x22>','student-quiz-leaderboard-table-body','Error\x20fetching\x20quiz\x20settings:','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ปานกลาง\x20(เหมาะสม)</span>','update','ตรีโกณมิติ','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถามสำหรับเกมนี้','pow','line-through\x20text-red-700','.project-card-container','ฟังก์ชันลอการิทึม','worksheet-input-area','ไม่พบเนื้อหาที่เพียงพอในลิงก์ที่ให้มา','preTestId','timer-bar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22content-section\x20bg-red-50\x20p-4\x20rounded-lg\x20border-l-4\x20border-red-400\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-xl\x20font-bold\x20text-red-800\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x20space-y-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','project-sort-select','พิสัย','สอบซ่อม','<textarea\x20name=\x22question','modal-close-btn','destroy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือเนื้อหาทั้งหมดจากข้อสอบต้นฉบับ\x201\x20ชุด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22.\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','.\x20แต่ละข้อมี\x20','อัตราและอัตราหน่วย','generate-from-topic-btn','student-quiz-leaderboard-content','close-comparison-modal-footer-btn','uid','.pin-project-btn','stringify','<p\x20class=\x22text-center\x20text-gray-500\x22>กรุณาเลือกชื่อของคุณ</p>','<i\x20class=\x22fas\x20fa-user-graduate\x20fa-lg\x22></i>','-tab-content','.pair-quiz-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','mouseup','input[name=\x22status-option\x22]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-live-question-btn\x22\x20class=\x22bg-blue-500\x20hover:bg-blue-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','bg-white/30','empty','ความเท่ากันทุกประการของสามเหลี่ยม','ขออภัย,\x20ไม่สามารถสร้างคำใบ้ได้ในขณะนี้','\x22\x20class=\x22start-live-race-btn\x20text-orange-800\x20bg-orange-100\x20hover:bg-orange-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-flag-checkered\x22></i>\x20แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','lowerGroupResponders','cancel-test-btn','Error\x20regenerating\x20question\x20in\x20editor:','asc','has','firstScore','slice','promise','currentQuestionIndex','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20correct-response-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz','student-progress-view','str','ทำแบบทดสอบเดียวกันครบ\x205\x20ครั้ง','</span></div>','\x22\x20value=\x22','start-live-race-generated-btn','ON_FIRE','AIzaSyCQlVzy_LBImNp5TJNwRuepFzvxWm8AyZk','<i\x20class=\x22fas\x20fa-save\x22></i>','passcode-error-msg','ปรับเพิ่ม/ลดเป็นร้อยละ','project-search-input','ไม่พบข้อความในไฟล์\x20Blueprint\x20หรือไฟล์อาจเสียหาย','text-emerald-900','jspdf','generate-from-parallel-test-btn','comparison-modal','student','height','จุด\x20เส้น\x20ระนาบ','Error\x20displaying\x20question\x20bank:','แปลง\x20เศษส่วน↔ทศนิยม↔ร้อยละ','scores-tab-btn','\x22,\x20','จำนวนเต็มลบ','.quiz-bank-try-btn','category','<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก','การบวกทศนิยม','[data-topic-container-id]','global-live-game-count','next-question-timed-btn','ฟังก์ชันยกกำลัง','progress-student-select','Error\x20saving\x20submission:','.presentation-option','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลสรุปของนักเรียนในห้อง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','student-rankings-modal','tfrac','<p\x20class=\x22text-center\x20text-gray-500\x22>ยังไม่มีข้อมูลการทำแบบทดสอบในโปรเจคนี้</p>','กรุณาเลือกสถานะ','คณิตการเงิน/บูรณาการ','BOOLEAN','\x20ช่อง','<div\x20class=\x22border-l-4\x20border-green-200\x20pl-3\x22><p><strong>โจทย์:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-4\x20text-gray-800\x22>แผนการสอนแนะนำสำหรับเรื่อง:\x20','พิมพ์ตอบ','<div\x20class=\x22mt-2\x20p-2\x20bg-gray-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่คาดหวัง:</strong>\x20<span\x20id=\x22q-ideal-','undefined','\x5cge','text/csv;charset=utf-8;','math-topic-search-input','closest','\x22\x20class=\x22edit-quiz-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-pen\x22></i>\x20แก้ไข</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','พิสูจน์เชิงตรง/อุปนัย\x20(พื้นฐาน)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','ยืนยันการจับคู่','ตัวประกอบและตัวประกอบเฉพาะ','\x20pointer-events-none\x22>','modal-shuffle-select','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22max-h-60\x20overflow-y-auto\x20border\x20rounded-lg\x20p-2\x22>','topic','):\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คะแนน:\x20','include-images-checkbox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','\x22.\x20กำลังสุ่มเลือกมาใช้งาน...','.topic-name-display','>\x20<label\x20for=\x22status-schedule\x22>ตั้งเวลาเปิด/ปิด\x20(Schedule)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dragstart','<p\x20class=\x22text-center\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูล</p>','adaptive-quiz-checkbox','<div\x20class=\x22mt-2\x20space-y-1\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','กรุณาเลือกข้อสอบอย่างน้อย\x201\x20ข้อ','Error\x20deleting\x20project:','max','<h3\x20class=\x22text-xl\x20font-bold\x20mb-3\x22\x20contenteditable=\x22true\x22\x20id=\x22editable-quiz-topic\x22>','ระยะเวลา\x20(นาที):','bg-green-100\x20font-bold','Error\x20opening\x20quiz\x20editor:','removeAttribute','Remedial\x20quiz\x20generation\x20failed:','bestScore','presentation-modal','$1\x5c%','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-blue-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>ข้อเสนอแนะสำหรับครู</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-blue-50\x20p-3\x20rounded-lg\x20text-blue-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',';\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22','insertBefore','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>','text-content-input','</td></tr>','fixed','สร้างคำถามใหม่\x201\x20ข้อ\x20ในหัวข้อ\x20\x22','.question-editor-item[data-q-index=\x22','#D1FAE5','ร้อยละประยุกต์','>\x20<label\x20for=\x22status-active\x22>เปิดใช้งาน\x20(Active)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22inactive\x22\x20id=\x22status-inactive\x22\x20','download','export-worksheet-pdf-btn','left','isStarred','<span\x20class=\x22text-green-500\x22\x20title=\x22พัฒนาขึ้น\x22>⬆️</span>','ขออภัย,\x20ไม่สามารถสร้างชุดแบบฝึกได้ในขณะนี้\x20กรุณาลองใหม่ภายหลัง','name','toFixed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22studentName\x22\x20style=\x22cursor:\x20pointer;\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22bestScore\x22\x20style=\x22cursor:\x20pointer;\x22>คะแนนดีที่สุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>ผล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22points\x22\x20style=\x22cursor:\x20pointer;\x22>Points\x20(ครั้งล่าสุด)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20sortable-header\x22\x20data-sort=\x22attempts\x22\x20style=\x22cursor:\x20pointer;\x22>จำนวนครั้งที่ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x20sortable-header\x22\x20data-sort=\x22latestSubmittedAt\x22\x20style=\x22cursor:\x20pointer;\x22>เวลาที่ส่งล่าสุด</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-4\x20border-b\x20text-left\x22>ป้ายรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','export-excel-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังอ่านและวิเคราะห์ข้อสอบต้นฉบับ...','ระยะทางและจุดกึ่งกลาง','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20โปรดสร้างแบบทดสอบปรนัยชุดใหม่จำนวน\x202\x20ข้อ\x20เพื่อทดสอบความเข้าใจในหัวข้อเหล่านี้โดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20แต่ละข้อต้องมี\x204\x20ตัวเลือก,\x20คำตอบที่ถูกต้อง,\x20และคำอธิบายสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20(string)\x20ตั้งชื่อหัวข้อว่า\x20\x22แบบทดสอบซ่อมเสริม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20(array\x20of\x20objects)\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20options:\x20(array\x20of\x204\x20strings)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20correctAnswerIndex:\x20(number)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20explanation:\x20(string)\x0a\x09\x09\x20\x20','\x22\x20class=\x22quiz-status-btn\x20text-gray-600\x20hover:text-indigo-600\x20text-lg\x20p-1\x22\x20title=\x22ตั้งค่าสถานะ\x22><i\x20class=\x22fas\x20fa-power-off\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ยังไม่ส่ง</span></td>','\x20ตัวเลือก,\x20ระบุคำตอบที่ถูกต้อง,\x20และเพิ่มคำอธิบายสั้นๆ.\x20','<option>กำลังโหลดโปรเจค...</option>','ก่อนเรียน','STRING','focus','\x5c\x5c\x5c\x5c(?=(','desc','กรุณาวาง\x20URL\x20ของบทความก่อน','modal-adaptive-quiz-checkbox','(คู่ขนาน)\x20','คุณแน่ใจหรือไม่ว่าต้องการลบโปรเจค\x20\x22','ไม่พบตารางสำหรับ\x20Export','upperGroupNames','textarea','rgba(16,\x20185,\x20129,\x200.7)','file-upload-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20mr-3\x22>','อสมการเชิงเส้น','result','ลำดับเรขาคณิต\x20(GP)','สมการเหตุผล\x20(rational)','binom','สลับไปโหมดผู้ควบคุม','\x0a\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20bg-gray-50\x20question-editor-item\x20relative\x22\x20data-q-index=\x22','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>-</td>','student-list','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20mb-2\x20text-center\x22>กราฟเปรียบเทียบคะแนนเฉลี่ย</h4><canvas\x20id=\x22comparison-chart\x22></canvas></div>','title','players','.export-pdf-list-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x22>ฝึกฝนสำเร็จ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x22>ยอดเยี่ยมมาก!\x20หนูได้ทบทวนและฝึกฝนเพิ่มเติมแล้ว<br>กลับไปที่หน้าผลสอบเพื่อฝึกฝนหัวข้ออื่นต่อได้เลย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-results-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-2\x20px-5\x20rounded-lg\x20font-semibold\x22>กลับไปหน้าผลสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ค่าสัมบูรณ์','ใช่,\x20ตรวจใหม่','open-quiz-bank-btn','cancel-quiz-edits-btn','\x20/\x20','bg-blue-100\x20text-blue-800','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svg:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fontCache:\x20\x27global\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x22>แผนการสอนและคำแนะนำสำหรับครู</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-3xl\x20font-bold\x22>เรื่อง:\x20','\x5cfrac{','passing-score-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','quiz-type-select','click','contains','วงกลม:\x20ส่วนโค้ง\x20เซกเตอร์\x20เซกเมนต์','<div\x20class=\x22flex\x20justify-center\x20gap-2\x20my-1\x20text-2xl\x22>','copy-quiz-id-btn','\x20ตัว\x20(options),\x20ดัชนีคำตอบที่ถูกต้อง\x20(correctAnswerIndex),\x20และคำอธิบาย\x20(explanation).\x20','bg-green-50','เกิดข้อผิดพลาด:\x20ไม่พบโปรเจคที่เกี่ยวข้องกับแบบทดสอบนี้','correctStreak','\x22\x20class=\x22start-presentation-list-btn\x20text-indigo-800\x20bg-indigo-100\x20hover:bg-indigo-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20นำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','close-student-rankings-btn','per-q-countdown','\x22>ใช่</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22','(คัดลอก)\x20','ย้าย','back-to-dashboard-from-results-btn','<i\x20class=\x22fas\x20fa-check\x20mr-3\x22></i>','btn','บันทึกการแก้ไข','admin-view','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-blue-800\x20border-b\x20pb-1\x20mb-2\x22>แนวทางการสอนและเนื้อหาทบทวน</h4><p\x20class=\x22text-gray-700\x20whitespace-pre-wrap\x22>','สลับไปโหมดนักเรียน','NUMBER','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','Error\x20loading\x20quiz\x20for\x20student:','.answeredCurrentQuestion','</p><p><strong>เฉลย:</strong>\x20','Authentication\x20failed:','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่ถูกต้อง:</strong>\x20','/public/data/projects','<p\x20class=\x22font-semibold\x22\x20id=\x22q-text-','onchange','.project-card-container.opacity-50','createdAt','<div\x20class=\x22mt-2\x20p-2\x20bg-green-100\x20text-sm\x22><strong\x20class=\x22text-gray-700\x22>คำตอบที่ถูกต้อง:</strong>\x20<span\x20id=\x22q-correct-','ไม่พบแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20สร้างแบบทดสอบชุดใหม่ที่สมบูรณ์\x20โดยมีโครงสร้าง\x20**ตรงตาม\x20Test\x20Blueprint\x20ทุกประการ**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x204.\x20ข้อสอบที่สร้างใหม่จะต้องมีระดับความยากและความซับซ้อน\x20**เทียบเท่ากับข้อสอบอ้างอิง**\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x205.\x20**ห้ามคัดลอกคำถามจากข้อสอบอ้างอิงมาโดยตรง**\x20ให้ใช้เป็นแนวทางในการสร้างโจทย์ใหม่เท่านั้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x206.\x20สร้างคำถามเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20Test\x20Blueprint\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','schedule','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือติวเตอร์คณิตศาสตร์ที่มีความเชี่ยวชาญและใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือสร้าง\x20\x22ชุดแบบฝึก\x20(Drill\x20Set)\x22\x20จำนวน\x203\x20ข้อ\x20สำหรับนักเรียนที่ต้องการฝึกฝนเพิ่มเติมในหัวข้อเฉพาะทาง\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20หัวข้อที่ต้องการ:\x20\x22','<p\x20class=\x22text-gray-500\x20col-span-full\x20text-center\x22>ยังไม่มีข้อมูลเพียงพอสำหรับสร้างสถิติ</p>','sum','ฟังก์ชันแบบชิ้นส่วน','/users/','ตารางความถี่','สร้างคำถามใหม่\x201\x20ข้อ\x20','mjx-container','fas\x20fa-user-edit','match','.\x20แต่ละข้อต้องมีประโยคคำถามที่มีช่องว่าง\x20(questionText\x20containing\x20\x27.....\x27),\x20ตัวเลือก\x20','AI\x20กำลังวิเคราะห์ผลสอบและสร้างเนื้อหา...\x20กรุณารอสักครู่','หัวข้อที่สร้างเอง','กำลังจับคู่...','<div\x20class=\x22mt-2\x20space-y-1\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>A.\x20ถูก</span><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>B.\x20ผิด</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20space-y-2\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','admin-testing','analyze-strengths-btn','sort','text-emerald-800','shuffleSetting','top','00:00','admin-action-buttons','</p>','questions','\x22\x20class=\x22delete-project-btn\x20','\x22\x20ตามหลัก\x20Bloom\x27s\x20Taxonomy','<i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส','file-input-area','text-red-900','กำลังสร้างแบบทดสอบจาก\x20Blueprint...','offsetWidth','values','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่าย</span>','ownerSVGElement','user','fa-pen','input[type=\x22checkbox\x22]:checked','กำลังอ่านไฟล์ข้อสอบอ้างอิง...','<p\x20class=\x22text-gray-500\x20text-center\x22>ยังไม่มีนักเรียนในโปรเจคเพื่อวิเคราะห์รายข้อ</p>','ชนิดของข้อมูลและการเก็บข้อมูล','projectOrder','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-green-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-green-800\x22>คะแนนเฉลี่ย\x20(หลังเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-green-900\x22>','times','<tr\x20class=\x22','การลบทศนิยม','\x22\x20class=\x22generate-lesson-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20สร้างเนื้อหาสอน\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','admin-dashboard','ย้ายแบบทดสอบไปโปรเจคอื่น','cursor','getBoundingClientRect','allResponses','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20justify-center\x20pl-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fill_in_with_choices','tGain','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','คุณแน่ใจหรือไม่ว่าต้องการลบนักเรียนทั้งหมดในโปรเจคนี้?\x20การกระทำนี้ไม่สามารถย้อนกลับได้','\x22\x20class=\x22live-answer-btn\x20p-4\x20rounded-lg\x20text-xl\x20text-center\x20bg-white\x20text-gray-800\x20hover:bg-indigo-100\x20transition-all\x20transform\x20hover:scale-105\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-join-game-view','loader','button[data-id]','Error\x20listening\x20for\x20projects:','instructions','backgroundColor','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าอำนาจจำแนก\x20(r)</p><p\x20class=\x22font-bold\x20text-teal-700\x20text-lg\x22>','correctResponse','ยังไม่ส่ง','.csv','bg-gray-50','เกิดข้อผิดพลาดในการบันทึกแบบทดสอบ','authed_project_','สร้างแบบทดสอบคู่ขนานสำเร็จแล้ว!','เกิดข้อผิดพลาดในการโหลดข้อมูลแบบทดสอบ','ความต่อเนื่อง','touchcancel','สมการราก\x20(radical)','ไม่มีคำอธิบาย','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20rounded-lg\x20text-xl\x20flex\x20items-center\x20justify-center\x20text-center\x20bg-white/30\x22\x20data-is-correct=\x22','https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=','Error\x20moving\x20quiz:','findIndex','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','แผนการสอน','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำคัญ:\x20สั่งให้ขึ้นหน้าใหม่หลังจบแต่ละข้อ\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.page-break\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-after:\x20always;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2090vh;\x20/*\x20ทำให้แต่ละข้อเต็มหน้ากระดาษ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20text-3xl\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20mt-1\x22>','ข้อมูลไม่ครบถ้วน\x20ไม่สามารถบันทึกได้','</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','ไม่พบข้อสอบในคลังสำหรับหัวข้อ\x20\x22','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>คำถามที่\x20','text-yellow-300','scores','แก้ไขข้อนี้','คะแนนเต็ม','innerHTML','lowerGroupNames','การแจกแจงปกติและ\x20z-score','เกิดข้อผิดพลาดในการเข้าร่วมเกม','<p\x20class=\x22text-center\x20text-red-500\x22>ไม่สามารถโหลดคลังข้อสอบได้</p>','.answer-text','.live-answer-btn','parent','generate-from-text-btn','<i\x20class=\x22fas\x20fa-user-shield\x20fa-lg\x22></i>','whole_quiz','setFont','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-md\x22>คุณได้คะแนน\x20','isArray','Error\x20generating\x20quiz:','<button\x20type=\x22submit\x22\x20class=\x22w-full\x20mt-4\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>ส่งคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','\x20ให้มีลักษณะคล้ายกับคำถามเดิมแต่ไม่ซ้ำกัน.\x20','กราฟแท่ง\x20กราฟเส้น','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>แบบทดสอบ:\x20','quiz-editor-modal','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังตรวจ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-3\x20gap-4\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20bg-blue-100\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20text-blue-800\x22>คะแนนเฉลี่ย\x20(ก่อนเรียน)</p><p\x20class=\x22text-3xl\x20font-bold\x20text-blue-900\x22>','admin-password-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20border-l\x20pl-4\x20ml-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x22><p\x20class=\x22text-xs\x20text-gray-500\x20font-sans\x22>ค่าความยาก\x20(p)</p><p\x20class=\x22font-bold\x20text-indigo-700\x20text-lg\x22>','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ค.ร.น.\x20(LCM)','results-quiz-title','startsWith','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x20gap-3\x20p-2\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20value=\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20border\x20','close','3198ZeyTrR','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>ข้อที่\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-semibold\x20mb-2\x22>สรุปภาพรวมกลุ่มที่ใช้ในการวิเคราะห์</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','$1^{\x5ccirc}\x5ctext{C}','ผู้ไม่ยอมแพ้','<p\x20class=\x22text-center\x20text-gray-500\x22>คลังข้อสอบของคุณยังว่างอยู่</p>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-sm\x20text-gray-600\x22>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-options\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20md:gap-6\x20items-stretch\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','การหาร','start-quiz-btn','OBJECT','modal-timer-duration-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','.star-quiz-btn','helvetica','getContext','องค์ประกอบของฟังก์ชัน','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>จากเรื่อง:\x20','กำลังสร้างคำถามข้อ\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ยากมาก</span>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มอ่อน\x20(','27411472','วงกลม:\x20มุมที่ศูนย์กลาง/บนวงกลม','pre-test','\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>','pre-test-checkbox','วงรี','สัญกรณ์วิทยาศาสตร์','รูปหลายเหลี่ยมและมุมภายใน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22border-b\x20hover:bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20font-semibold\x22>','ลบหัวข้อสำเร็จ','remove','studentName','<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22>','classList','badges','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลยที่ถูกต้อง\x20(คู่ของคำถามนี้):</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','สร้างชุดคำถามจับคู่','ไม่พบข้อมูลการจับคู่','quizId','เกิดข้อผิดพลาดในการบันทึกคำตอบของคุณ','target','reference-pdf-upload','link-url-input','ส่วนลด\x20ภาษี\x20กำไร\x20ขาดทุน','Adaptive\x20flow\x20failed:','preventDefault','ฟังก์ชันค่าสัมบูรณ์','\x22\x20class=\x22generate-lesson-btn\x20text-white\x20bg-gradient-to-r\x20from-gray-500\x20to-gray-700\x20hover:bg-gradient-to-l\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-brain\x22></i>\x20วิเคราะห์ผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาใส่ชื่อใหม่','คำถามดิบ:\x20\x22','\x20Points</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>คิดเป็น\x20','student-initial-view','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จากข้อสอบก่อนเรียน\x20(Pre-test)\x20ในหัวข้อ\x20\x22','Error\x20saving\x20questions\x20to\x20practice\x20bank:','เกิดข้อผิดพลาดในการสร้างแบบทดสอบซ่อมเสริม','content','เกิดข้อผิดพลาดในการอ่านไฟล์','<div\x20class=\x22mt-2\x20p-2\x20bg-blue-50\x20text-xs\x22><strong\x20class=\x22text-blue-700\x22>คำอธิบาย:</strong>\x20<span\x20id=\x22q-explanation-','<span\x20class=\x22bg-green-100\x20text-green-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดีมาก</span>','\x22\x20class=\x22w-full\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','enable-passcode-checkbox','exists','live-submit-short-answer-btn','points','docs','get','.group','<option\x20value=\x22','https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js','bg-purple-50','quiz-schedule-end-container','\x22><td\x20class=\x22py-1\x20px-2\x20border-b\x22>','student-quiz-topic','export-compact-pdf-btn','เกิดข้อผิดพลาดในการปักหมุด','text-green-900','bg-red-200\x20text-red-800','originalTopic','questionDisplayedAt','\x22?\x20นักเรียนจะต้องทำแบบทดสอบนี้ใหม่อีกครั้ง','qType','<head><meta\x20charset=\x27utf-8\x27><title>Export\x20HTML\x20to\x20Word</title></head><body>','q-text-','<span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ดี</span>','สถิติและความน่าจะเป็น','both','\x20ครั้ง)</span></td>','upperGroupResponders','bg-red-500','/questionBank','\x20border-b\x20mb-1\x20pb-1\x22><i\x20class=\x22','Error\x20updating\x20pin\x20status:','text-red-300\x20hover:text-red-100','total','แคลคูลัสเบื้องต้น','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','บันทึกการแก้ไขสำเร็จ','label','9990549VhJXKg','cancel-passcode-btn','index','Error\x20processing\x20file\x20for\x20AI:','num-choices','\x20คะแนน</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','arrayBuffer','getItem','การลบ','726944yvjbhD','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22true\x22>ใช่</button>','manage-tab-content','save-visibility-settings-btn','standard','quiz-leaderboard-table-container','border-4','แบบทดสอบนี้จะเปิดให้ทำในวันที่\x20','solution','\x20//\x20ใช้\x20prompt\x20เดิมที่เรามีอยู่แล้ว\x0a\x20\x20\x20\x20','Firebase\x20initialization\x20failed:','questionStatus','\x20ตัวเลือก.\x20','.question-editor-item','\x22\x20ต่อไปนี้\x20โปรดสร้างสรุปเนื้อหาและแนวทางการสอนสำหรับครู\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20space-x-2\x20cursor-pointer\x20flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20name=\x22math_topic\x22\x20value=\x22','toString','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเริ่มเกมสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','abs','สำหรับโปรเจค:\x20','quiz-status-options','<li>','\x0a\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>','การคูณเศษส่วน','-\x20ข้อ\x20','กฎเหล็ก:\x20นิพจน์ทางคณิตศาสตร์ทั้งหมดต้องอยู่ในรูปแบบ\x20LaTeX\x20ที่ถูกต้อง\x20และต้องถูกห่อหุ้มด้วยเครื่องหมายดอลลาร์\x20($)\x20เพียงคู่เดียว','ปริพันธ์ไม่จำกัด','results-tab','เส้นจำนวน','quiz-results','สอบปกติ','กรุณาเลือกไฟล์ก่อน','cdot','คัดลอกรหัสแล้ว!','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-6\x20bg-indigo-100\x20rounded-lg\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','projectName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ปิดใช้งาน','พื้นที่สามเหลี่ยม','การปัดเศษและประมาณค่า','generated-quiz-actions','\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>','quiz-bank-count','อสมการค่าสัมบูรณ์','parallel-test-input-area','<p\x20class=\x22text-2xl\x20font-bold\x20mt-2\x20px-4\x20py-1\x20rounded-full\x20inline-block\x20','log','เกิดข้อผิดพลาดในการลบนักเรียนทั้งหมด','delete-all-students-btn','numPages','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-red-500\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลผู้นำ</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือนักวิเคราะห์การศึกษาผู้เชี่ยวชาญ\x20ภารกิจของคุณคือการวิเคราะห์ภาพรวมของห้องเรียนจากข้อมูลการทำแบบทดสอบ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20แบบทดสอบเรื่อง:\x20\x22','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20class=\x22quiz-settings-btn\x20text-cyan-800\x20bg-cyan-100\x20hover:bg-cyan-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-cog\x22></i>\x20ตั้งค่า</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','Failed\x20to\x20get\x20hint:','</p><div>','ความเป็นอิสระของเหตุการณ์','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังโหลด...','export-word-btn','Error\x20generating\x20worksheet:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20**ระบุจุดอ่อนหลัก\x20(Key\x20Learning\x20Gaps):**\x20สรุป\x202-3\x20ประเด็นสำคัญที่นักเรียนยังไม่เข้าใจมากที่สุดจากผลวิเคราะห์ข้างต้น\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20**สร้างเนื้อหาสอน\x20(Teaching\x20Content):**\x20เขียนคำอธิบายสั้นๆ\x20ที่เข้าใจง่าย\x20หรือยกตัวอย่างเปรียบเทียบเพื่อแก้ไขความเข้าใจผิดในประเด็นเหล่านั้นโดยเฉพาะ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20**สร้างโจทย์ตัวอย่าง\x20(Practice\x20Problems):**\x20สร้างโจทย์ปัญหาใหม่\x201-2\x20ข้อ\x20พร้อมเฉลยวิธีทำ\x20เพื่อให้ครูใช้เป็นตัวอย่างในการสอนเพื่อเสริมความเข้าใจในจุดที่นักเรียนผิดบ่อย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จัดทำเนื้อหาทั้งหมดเป็นภาษาไทยในรูปแบบที่ชัดเจนและนำไปใช้ได้ทันที\x0a\x20\x20\x20\x20\x20\x20\x20\x20','generate-from-link-btn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22text-red-500\x22\x20title=\x22ลดลง\x22>⬇️</span>','results','thead\x20.sortable-header','student-name-select','ดีมาก','Error\x20saving\x20quiz:','reduce','student-view','\x0a\x20\x20\x20-\x20ตัวเลือก:\x20','แสดงแผนการสอนที่บันทึกไว้แล้ว\x20หากต้องการสร้างใหม่เนื่องจากมีผู้สอบเพิ่ม\x20กรุณากด\x20\x22สร้างใหม่\x22','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20mb-4\x22>ให้นักเรียนเข้าร่วมด้วยรหัสนี้:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20rounded-lg\x20p-4\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-6xl\x20font-bold\x20tracking-widest\x22>','student-project-leaderboard-content','geq','ได้คะแนนเต็มในทุกแบบทดสอบของโปรเจค','onerror','w-6\x20h-6\x20rounded-full\x20cursor-pointer\x20border-2\x20hover:border-blue-500','project-dashboard-view','toDate','fa-crown\x20text-yellow-500','\x22\x20class=\x22my-4\x20flex\x20justify-center\x22>','answeredCurrentQuestion','map','hint','$1\x5ctext{','คำถามถัดไป','สามเหลี่ยม\x20(ชนิด/สมบัติ)','\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อกำหนด:\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20\x20สร้างโจทย์ปัญหาที่แตกต่างกัน\x203\x20ข้อ\x20โดยไล่ระดับจากง่ายไปยาก\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20\x20โจทย์ต้องมีความหลากหลาย\x20อาจมีทั้งโจทย์คำนวณและโจทย์ปัญหาสถานการณ์\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20\x20คำถามต้องเป็นแบบ\x20\x22ปรนัย\x204\x20ตัวเลือก\x22\x20เท่านั้น\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20','lesson-plan-title','right','files','Error\x20adding\x20custom\x20topic:','<i\x20class=\x22fas\x20fa-search\x20mr-2\x22></i>ค้นหาแบบทดสอบ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question_single\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','td,\x20th','การเรียงสับเปลี่ยน\x20(Permutation)','\x0a---\x0a','getBBox','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-100\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20font-semibold\x20text-left\x20sticky\x20left-0\x20bg-gray-100\x20z-10\x22>ชื่อ\x20-\x20สกุล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-green-600\x20font-bold','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','รูปสี่เหลี่ยมและสมบัติ','.regenerate-question-editor-btn','ความแปรปรวน','Error\x20generating\x20from\x20parallel\x20test\x20file:','countdown-display','live-game-view','แผนการสอน:\x20','width','contents','select','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<p\x20class=\x22text-green-700\x22><strong>คำตอบที่เหมาะสม:</strong>\x20','เลือกโปรเจคเพื่อบันทึก','my-4\x20p-3\x20rounded-lg\x20bg-red-100\x20text-red-800','rows','ลบโปรเจคสำเร็จแล้ว','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-student-name=\x22','all','ความคล้ายของรูป','quiz-leaderboard-table','questionType','student-passcode-input','การแปลงรูปอัตลักษณ์','เกิดข้อผิดพลาดในการลบผลสอบ','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-blue-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ต้องมีนักเรียนส่งงานอย่างน้อย\x202\x20คนขึ้นไป\x20จึงจะสามารถวิเคราะห์ภาพรวมได้','ทฤษฎีบทพีทาโกรัสและการประยุกต์','projectSort','เวกเตอร์และเมทริกซ์\x20(เสริม)','\x22\x20class=\x22toggle-actions-btn\x20text-gray-500\x20hover:text-indigo-600\x20p-1\x20rounded-md\x20text-sm\x20border\x20px-2\x20bg-white\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-ellipsis-h\x20mr-1\x22></i>\x20เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22actions-container-','move-quiz-project-select','imageCode','afterend','insertAdjacentHTML','จากไฟล์ที่แนบมานี้,\x20','script,\x20style,\x20nav,\x20footer,\x20header,\x20aside','global-quiz-search-input','สมการกำลังสอง\x20(ใช้สูตรกำลังสอง)','การบวกเศษส่วน','5264voFBXZ','normal','thead','indexOf','post-test','อุณหภูมิและการแปลง','ยังไม่มีนักเรียนส่งงาน','touchmove','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x20h-6\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','passcode-prompt-message','dfrac','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-purple-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-purple-700\x20font-semibold\x22>ความเชื่อมั่น\x20(KR-20)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-purple-900\x22>','body','Programmatic\x20checks\x20failed.\x20Deferring\x20to\x20AI\x20for\x20grading.','\x20\x0a\x20\x20\x20\x20','ระยะจากจุดถึงเส้นตรง','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','classStrengths','auto-fix-latex-btn','\x0a\x20\x20\x20\x20ข้อกำหนดที่สำคัญที่สุดสำหรับการสร้างตัวเลือก\x20(Options):\x0a\x20\x20\x20\x201.\x20\x20ห้ามมีตัวเลือกที่ซ้ำกันโดยเด็ดขาด\x20ทั้งในด้านรูปแบบและค่าทางคณิตศาสตร์\x20(เช่น\x20ห้ามมีทั้ง\x20$1/2$\x20และ\x20$2/4$\x20ในข้อเดียวกัน)\x0a\x20\x20\x20\x202.\x20\x20ตัวเลือกที่เป็นคำตอบที่ถูกต้อง\x20(Correct\x20Answer)\x20ต้องอยู่ในรูปอย่างง่ายเสมอ\x20(เช่น\x20เศษส่วนอย่างต่ำ)\x0a\x20\x20\x20\x203.\x20\x20ตัวลวง\x20(Distractors)\x20ทั้งหมด\x20ต้องเป็นคำตอบที่\x20\x22ผิดอย่างชัดเจน\x22\x20แต่มีความสมเหตุสมผลพอที่จะทดสอบความเข้าใจผิดของนักเรียนได้\x0a\x20\x20\x20\x204.\x20\x20จำนวนตัวเลือกทั้งหมดต้องตรงตามที่กำหนดไว้เสมอ\x0a\x20\x20\x20\x20','\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','preScore','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-remedial-quiz-btn\x22\x20class=\x22mt-4\x20bg-indigo-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20เข้าใจแล้ว\x20ลองอีกครั้ง!\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20ต่อไปนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','num-questions','parallel-test-upload-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22topic-actions-view\x20flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','\x22...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','pinnedProjects','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20topic:\x20ชื่อหัวข้อของใบงาน\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20questions:\x20array\x20ของ\x20object\x20คำถาม\x20โดยแต่ละ\x20object\x20มี:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20questionText:\x20(string)\x20ตัวคำถาม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20imageCode:\x20(string,\x20optional)\x20โค้ด\x20SVG\x20ถ้ามี\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','find','ผู้เชี่ยวชาญ','#DBEAFE','correct','</div>','quiz-form','จำนวนเชิงซ้อน\x20(เสริม)','close-game-final-btn','ไม่พบข้อมูลผู้ใช้\x20ไม่สามารถบันทึกได้','split','repeat','execCommand','comparison-chart','ไม่สามารถดึงข้อมูลจาก\x20URL\x20ได้\x20(Status:\x20','name_desc','.delete-custom-topic-btn','toggle','เกิดข้อผิดพลาดในการบันทึกหัวข้อ','fa-user-astronaut\x20text-blue-700','.start-presentation-list-btn','<div><input\x20type=\x22radio\x22\x20id=\x22q','text-blue-700','draggable-text','\x20text-lg\x20p-1\x22\x20title=\x22เปลี่ยนสี\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-palette\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-xl\x20font-bold\x20mb-4\x22>ทบทวนคำตอบ</h4>\x0a\x20\x20\x20\x20','show_results_and_answers','createObjectURL','STOP','size','ARRAY','text-green-600','keyup','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22drill_opt_','cancel-quiz-settings-btn','text-gray-300\x20hover:text-white','\x5ctimes','modal-results-display-select','perfect_score','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','mouseleave','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c(\x27,\x20\x27\x5c)\x27]]\x20}\x20};\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.no-print\x20{\x20display:\x20none;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20page-break-inside:\x20avoid;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-line\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-left:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-2xl\x20font-bold\x22>ใบงานเรื่อง:\x20','question-analytics-container','manage','<i\x20class=\x22fas\x20fa-check-circle\x20text-green-500\x22></i>','จำนวนข้อ:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้ทำ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>สถานะ\x20(ผ่าน/ไม่ผ่าน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนน\x20Points</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัล</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','q-explanation-','substring','เกิดข้อผิดพลาดในการตรวจคะแนนใหม่:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22close-game-final-btn\x22\x20class=\x22mt-8\x20bg-red-600\x20text-white\x20py-2\x20px-6\x20rounded-lg\x20hover:bg-red-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x22></i>จบเกมและกลับหน้าหลัก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เพิ่มหัวข้อ\x20\x22','ไม่มี','<input\x20type=\x22text\x22\x20class=\x22topic-name-input\x20hidden\x20w-full\x20text-sm\x20p-1\x20border\x20rounded\x22\x20value=\x22','application/json','ร้อยละพื้นฐาน','question','<option\x20value=\x22\x22>กำลังโหลดรายการ...</option>','<span\x20class=\x22text-green-500\x22><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้อง</span>','mousemove','ไม่พบข้อมูลแบบทดสอบสำหรับสร้างใบงาน','per_question','ไม่สามารถเพิ่มนักเรียนได้','button','เปลี่ยนชื่อแบบทดสอบสำเร็จ','getPage','xmlns:w=\x27urn:schemas-microsoft-com:office:word\x27\x20','resultsDisplay','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20text-center\x22>ฝึกฝนข้อที่\x20','\x0a\x20\x20\x20\x20','opacity','scrollY','<tr><td\x20colspan=\x229\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ไม่มีข้อมูลนักเรียน</td></tr>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านหลักสูตรคณิตศาสตร์\x0a\x20\x20\x20\x20\x20\x20\x20\x20วิเคราะห์คำถามต่อไปนี้\x20และสรุปให้เป็น\x20\x22หัวข้อ\x22\x20ทางคณิตศาสตร์ที่สั้นและเป็นมาตรฐานที่สุด\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตัวอย่าง:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22ผลลัพธ์ของ\x20$12.5\x20\x5cdiv\x200.5$\x20คือเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การหารทศนิยม\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22จงหา\x20ค.ร.น.\x20ของ\x2012\x20และ\x2018\x22\x20->\x20หัวข้อ:\x20\x22การหา\x20ค.ร.น.\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20คำถาม:\x20\x22$\x5cfrac{1}{2}\x20+\x20\x5cfrac{1}{4}$\x20มีค่าเท่าใด\x22\x20->\x20หัวข้อ:\x20\x22การบวกเศษส่วน\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามที่ต้องการวิเคราะห์:\x20\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-0.5\x20rounded-full\x20','keys','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-amber-800\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','touchend','font-bold','\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','pairedQuizId','Error\x20saving\x20user\x20preference:','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20ข้อมูลคำถามทั้งหมด:\x20','file-tab','ไม่พบข้อมูลแบบทดสอบสำหรับทดลอง','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x22></i>\x20ฝึกฝนเรื่องนี้เพิ่มเติม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','end-game-btn','border-red-300\x20bg-red-50','toLowerCase','replace','actions-container-','.rename-quiz-btn','ท็อปฟอร์ม','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<form\x20id=\x22quiz-form\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<li\x20class=\x22','.quiz-bank-present-btn','student-quiz-area','confirm-quiz-status-btn','submissions','ลบแบบทดสอบสำเร็จแล้ว','/public/data/quizzes/','เวกเตอร์\x202\x20มิติ:\x20บวก/คูณสเกลาร์','ข้อที่\x20','โดยให้สร้างคำถามจากเนื้อหาในหัวข้อเหล่านี้:\x20','\x22\x20title=\x22โหมดนำเสนอ\x22\x20class=\x22quiz-bank-present-btn\x20text-indigo-600\x20hover:text-indigo-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chalkboard-teacher\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','การจัดหมู่\x20(Combination)','คะแนน','addEventListener','correctAnswer','showInStudentDashboard','Error\x20updating\x20sort\x20preference:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการออกแบบการสอน\x20(Instructional\x20Designer)\x20จากข้อมูลผลการสอบก่อนเรียนในหัวข้อ\x20\x22','project-quizzes-list','การคูณทศนิยม','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22w-full\x20text-left\x20p-2\x20border-b\x20hover:bg-gray-50\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x22>\x0a\x20\x20','\x20สำเร็จ','leaderboard-quiz','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-50\x20p-4\x20rounded-lg\x20border\x20border-blue-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20text-blue-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-blue-800\x20text-lg\x22>','active','random','globalSettings','<p\x20class=\x22','สรุปผลการวิเคราะห์:\x5cn','Failed\x20to\x20parse\x20JSON\x20from\x20AI','<span\x20class=\x22bg-yellow-100\x20text-yellow-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>พอใช้</span>','{$1}','comparison','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22active\x22\x20id=\x22status-active\x22\x20','เส้นตรง:\x20รูปแบบสมการ','text-input-area','toLocaleString','<div\x20class=\x22loader\x20mx-auto\x22></div>','revealed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20fetching\x20projects\x20for\x20move:','คุณแน่ใจหรือไม่ว่าต้องการยกเลิกการจับคู่แบบทดสอบนี้?','ส่วนเบี่ยงเบนเฉลี่ย','เกิดข้อผิดพลาดในการย้ายแบบทดสอบ','test','\x22>พัฒนาการเฉลี่ย</p><p\x20class=\x22text-3xl\x20font-bold\x20','style','</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20max-w-4xl\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22ทดลองทำแบบทดสอบ\x22\x20class=\x22quiz-bank-try-btn\x20text-purple-600\x20hover:text-purple-800\x20text-xl\x20p-2\x20rounded-full\x20hover:bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-vial\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','next-live-question-btn','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-gray-500\x22>ยังไม่ส่ง\x20(','ไม่ได้ตอบ','remedialContent','quizType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q_opt','</span>','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-8\x20text-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>วันที่:\x20......./......./.........</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fa-rocket\x20text-purple-500','เกิดข้อผิดพลาดในการรีเซ็ตลำดับ','date_desc','interesting-stats-wrapper','force-math-checkbox','presentation-explanation','(ก่อนเรียน)','คุณแน่ใจหรือไม่ว่าต้องการลบแบบทดสอบ\x20\x22','candidates','พื้นที่วงกลม/ส่วนของวงกลม','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-purple-600\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-8\x20border-t-2\x20border-dashed\x20border-gray-400\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-gray-700\x22>บันทึกเพิ่มเติม:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20h-32\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#FFFFFF','คุณแน่ใจหรือไม่ว่าต้องการลบผลการสอบของ\x20\x22','bg-red-100','cancel-quiz-edits-btn-footer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','preTScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','\x20จาก\x20','16QCubIY','from','Error\x20unpairing\x20quizzes:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20text-6xl\x20mb-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-2xl\x22>','dataset','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20border\x20rounded-lg\x20hover:bg-gray-50\x20flex\x20flex-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-result-card\x20cursor-pointer\x20flex-grow\x22\x20data-quiz-id=\x22','การวัด','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20flex-col\x20sm:flex-row\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22view-rankings-btn\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-yellow-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-yellow-600\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trophy\x22></i>ดูอันดับ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','กรุณาเลือกโปรเจคปลายทาง','user-id-display','ผ่านฉลุย','ฐานนิยม','cancel-admin-login-btn','file-topic-input','[*]','passingScore','contentEditable','text-gray-700','#E5E7EB','confirm-global-live-btn','จำนวนและการดำเนินการ',',\x20โดยให้มีทั้งคำถามแบบปรนัยและแบบเติมคำคละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','quiz-search-input','กฎของโคไซน์','บันทึกคำถามลงคลังข้อสอบส่วนตัวแล้ว','\x22\x20->\x20หัวข้อมาตรฐาน:\x20\x22','show-in-student-dashboard-checkbox','image/png','fa-fire\x20text-orange-500','ข้อ\x20','Error\x20loading\x20user\x20preferences:','การทดลองสุ่ม/พื้นที่ตัวอย่าง/เหตุการณ์','.\x20แต่ละข้อต้องมีคำถาม,\x20คำตอบที่ถูกต้อง\x20(true/false),\x20และคำอธิบาย.\x20','.topic-row','display','สำหรับแต่ละคำถาม\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.\x20ถ้าไม่จำเป็น\x20ไม่ต้องใส่\x20property\x20นี้.','ความสัมพันธ์ของมุม','</ul></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากไฟล์โดยอัตโนมัติ','close-comparison-modal-btn','.project-card-container[data-id]','far\x20fa-star','timerDuration','drill-feedback','ai-quiz-app-aefee.appspot.com','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>','Error\x20updating\x20quiz\x20settings:','สร้างคำถามแบบใช่/ไม่ใช่','text-gray-200','เกิดข้อผิดพลาดในการสร้างแบบทดสอบ\x20โปรดลองอีกครั้ง','export-leaderboard-pdf-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22my-4\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mb-3\x22>','bar','per-question-options','คณิตศาสตร์','เกิดข้อผิดพลาด:\x20','<p><strong>คำตอบของคุณ:</strong>\x20','$1\x5cfrac','การประยุกต์เวกเตอร์พื้นฐาน','สมการตรีโกณมิติ','ฟังก์ชันพหุนาม','after','คัดลอกไม่สำเร็จ','export-leaderboard-word-btn','includes','live-short-answer-input','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','dragover','error','worksheet-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20items-center\x20justify-center\x20gap-4\x20w-full\x20max-w-md\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22','data','dispatchEvent','input[type=\x22checkbox\x22]','คุณแน่ใจหรือไม่ว่าต้องการลบหัวข้อ\x20\x22','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>AI\x20กำลังตรวจคำตอบ...','\x22?\x20ข้อมูลคะแนนและป้ายรางวัลของนักเรียนคนนี้จะถูกลบไปด้วย','สำหรับคำถามแต่ละข้อ\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต,\x20กราฟ)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','readAsDataURL','specialist','_opt0\x22\x20name=\x22question','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-green-600\x20font-bold\x22>','autoTable','\x22\x20name=\x22question','input[name=\x22status-option\x22]:checked','ไม่สามารถโหลดรายการโปรเจคได้','cancel-rename-quiz-btn','submission','options','</option>','element','สำหรับคำถามนี้\x20หากจำเป็นต้องมีรูปภาพประกอบ\x20(เช่น\x20รูปเรขาคณิต)\x20ให้สร้างโค้ด\x20SVG\x20ที่สมบูรณ์สำหรับรูปนั้นๆ\x20แล้วใส่ไว้ใน\x20property\x20ชื่อ\x20\x22imageCode\x22.','color','กรุณาเลือกโปรเจคที่ต้องการบันทึก','ชื่อเล่นนี้ถูกใช้ไปแล้ว\x20กรุณาใช้ชื่ออื่น','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22bg-blue-100\x20text-blue-800\x20text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x22>ส่งแล้ว\x20(','\x5ccdot','รีเซ็ตลำดับโปรเจคแล้ว','questionText','เกิดข้อผิดพลาดในการโหลดสถานะ','[data-is-correct=\x22true\x22]','global-quiz-list','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(','length','\x22\x20class=\x22copy-quiz-id-list-btn\x20text-blue-800\x20bg-blue-100\x20hover:bg-blue-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-id-card\x22></i>\x20คัดลอก\x20ID</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','modal-message','\x22\x20ให้เป็นคำถามประเภท\x20\x22','live-options-container','<h1></h1>','input','<p><strong>คำตอบของคุณ:</strong>\x20<span\x20class=\x22','topic-input','บันทึกการตั้งค่าสำเร็จ','none','รอเปิด','ไม่พบโปรเจค','Error\x20deleting\x20all\x20students:','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>หมดเวลา!</h2>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<p\x20class=\x22mt-8\x22>รอผู้ควบคุมเฉลยและไปข้อต่อไป...</p>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20</div>','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tex:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.content-section\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20page-break-inside:\x20avoid;\x20/*\x20ป้องกันการตัดเนื้อหาข้ามหน้า\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-8\x20max-w-4xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20ไม่ผ่าน\x0a\x20\x20\x20\x20\x20\x20\x20\x20นี่คือคำอธิบายจากข้อที่นักเรียนตอบผิด:\x0a\x20\x20\x20\x20\x20\x20\x20\x20','https://corsproxy.io/?','data:application/vnd.ms-word;charset=utf-8,','ผ่าน','status','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','student-project-leaderboard-table-body','<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-answer=\x22false\x22>ไม่ใช่</button>','badgesCount','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','$1\x20\x5cfrac','ring-2','Error\x20deleting\x20submission:','\x5cdiv','จัดการ','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-4\x20','สเกลและแผนที่','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','.edit-quiz-btn','อัตราการเปลี่ยนแปลงทันที','createElement','แบบปรนัย\x204\x20ตัวเลือก','เกิดข้อผิดพลาดในการติดดาว','\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>','earned-badges-container','Error\x20duplicating\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20text-gray-800\x20p-6\x20md:p-12\x20rounded-2xl\x20shadow-2xl\x20w-full\x20h-full\x20max-h-[90vh]\x20overflow-y-auto\x20fade-in\x20flex\x20flex-col\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-sign-in-alt\x20mr-2\x22></i>เข้าร่วม','totalQuestions','answer-grid-container','perseverance','back-to-student-home-btn','beforeend','เรขาคณิตวิเคราะห์','bg-green-300','อัตราส่วนตรีโกณมิติในสามเหลี่ยมมุมฉาก','quizMode','</form>','</tbody></table></div>','dragend','text','\x20<i\x20class=\x22fas\x20fa-arrow-right\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','open-global-live-btn','Error\x20updating\x20custom\x20topic:','answerText','ไม่พบรูปแบบที่ต้องแก้ไขเพิ่มเติม','#10B981','เกี่ยวกับหัวข้อ\x20\x22','dashboardConfig','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','quiz-editor-questions-container','ระยะเวลา\x20(วินาที):','<td\x20class=\x22py-2\x20px-4\x20border-b\x22><span\x20class=\x22text-xs\x20font-medium\x20mr-2\x20px-2.5\x20py-0.5\x20rounded-full\x20','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09<h2\x20class=\x22text-3xl\x20font-bold\x22>','\x20รายการสำเร็จ!\x20คะแนนและสถิติทั้งหมดได้รับการอัปเดตแล้ว','originalQuestionText','quiz-start-time','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์ข้อสอบ\x20\x22','<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20','%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-blue-600\x22>(','stdDev',',\x20r=','idealAnswer','.lastAnswerCorrect','Error\x20showing\x20quiz\x20detail\x20view:','</span></td>','isCorrect','<p\x20class=\x22text-gray-400\x22>ยังไม่มีหัวข้อ</p>','Error\x20starting\x20game:','answers','จับคู่เพื่อเปรียบเทียบผล','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกี่ยวกับหัวข้อ\x20\x27ความรู้ทั่วไป\x27','.unpair-quiz-btn','.</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22create-from-bank-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20สร้างแบบทดสอบจากข้อที่เลือก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<div\x20id=\x22q-image-container-','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22bg-white/20\x20px-3\x20py-1\x20rounded-full\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ตอบแล้ว:\x20<span\x20id=\x22answer-counter\x22\x20class=\x22font-bold\x22>0/0</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22end-game-btn\x22\x20class=\x22bg-red-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-red-700\x20text-sm\x22>จบเกม</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','bg-green-200\x20text-green-800','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ทำไป\x20','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-1/2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20name=\x22question','submittedAt','กรุณาวางเนื้อหาที่ต้องการสร้างแบบทดสอบ','1:274192258111:web:4120c9118229b5644dd48a','.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-circle\x20mr-2\x20text-gray-300\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','$1\x5ctext(','บันทึกแบบทดสอบสำเร็จแล้ว!','\x20คะแนน','filter','Error\x20deleting\x20student:','มุมพิเศษ\x2045°-45°-90°','.live-answer-btn,\x20#live-submit-short-answer-btn','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กรุณาเลือกแบบทดสอบที่ต้องการจับคู่','ฟังก์ชันผกผัน','\x20ข้อในคลังสำหรับหัวข้อ\x20\x22','ทำแบบทดสอบเสร็จเร็วกว่าครึ่งของเวลาที่กำหนด','results-table-container','\x20ข้อ)</span>\x0a</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x20text-gray-500\x22>โปรเจค:\x20','passcode','back-to-results-btn','teacherSuggestions','ข้อต่อไป','.compare-results-btn','gain','ตรรกะ/ทักษะการพิสูจน์\x20(เสริม)','ตรวจคะแนนใหม่\x20','onload','<p\x20class=\x22font-bold\x20text-sm\x20','พื้นที่ผิวรูปทรงสามมิติ','\x22.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20คำถามควรเป็นแบบปลายเปิด,\x20เติมคำ,\x20หรือคำนวณ\x20ที่นักเรียนสามารถเขียนคำตอบได้\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20','multiple_choice','\x22\x20สำเร็จ','.\x20For\x20each\x20question,\x20specify\x20its\x20\x27questionType\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27multiple_choice\x27,\x20provide\x20\x27options\x27\x20and\x20\x27correctAnswerIndex\x27.\x20If\x20\x27questionType\x27\x20is\x20\x27short_answer\x27,\x20provide\x20\x27idealAnswer\x27.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20text-right\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20class=\x22practice-topic-btn\x20bg-yellow-500\x20text-white\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20hover:bg-yellow-600\x20flex\x20items-center\x20gap-1\x20ml-auto\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-topic=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-container\x20bg-indigo-50\x20border-indigo-200\x20p-4\x20rounded-lg\x20shadow\x20hover:shadow-lg\x20transition-all\x20duration-300\x20flex\x20flex-col\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x22\x20data-id=\x22starred-project\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20text-indigo-800\x20pointer-events-none\x22>แบบทดสอบที่ติดดาว\x20<i\x20class=\x22fas\x20fa-star\x20text-yellow-400\x22></i></h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>ทางลัดสำหรับแบบทดสอบที่ใช้บ่อย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-700\x20mt-1\x20pointer-events-none\x22><i\x20class=\x22fas\x20fa-file\x20mr-1\x22></i>\x20','<option\x20value=\x22\x22>--\x20เลือกชื่อ\x20--</option>','student-reading-area','บันทึกการตั้งค่าแล้ว','setAttribute','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','submit','Failed\x20to\x20get\x20standardized\x20topic:','Error\x20saving\x20settings:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20จงสร้างแบบทดสอบหลังเรียน\x20(Post-test)\x20ที่เป็น\x20\x22คู่ขนาน\x22\x20กัน\x20โดยมีข้อกำหนดดังนี้:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20ต้องเป็นข้อสอบที่วัดผลในเรื่องเดียวกันและมีระดับความยากเท่ากันทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20ต้องสร้างโจทย์และตัวเลือกขึ้นมาใหม่ทั้งหมด\x20ห้ามใช้โจทย์หรือตัวเลขเดิม\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20จำนวนข้อและประเภทคำถามต้องเหมือนกับ\x20Pre-test\x20ทุกประการ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','correctAnswerIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22,\x20ช่วยให้คำใบ้สั้นๆ\x201-2\x20ประโยคเพื่อแนะแนวทางการคิด\x20โดยห้ามเฉลยคำตอบโดยตรงเด็ดขาด','isRemedial','\x0a\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนหนึ่งทำแบบทดสอบเรื่อง\x20\x22','border-indigo-400\x20ring-2\x20ring-indigo-200','Error\x20rendering\x20student\x20progress:','\x22\x20class=\x22pin-project-btn\x20','mixed','class','shuffle-setting-select','show_results_only','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20text-blue-600\x20mt-2\x22>+','stem','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-blue-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-blue-700\x20font-semibold\x22>อัตราการส่ง</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-blue-900\x22>','เปิด\x20(จับเวลา)','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลทั้งหมด\x20โปรดวิเคราะห์และสรุปผลออกมาเป็น\x20JSON\x20object\x20ที่มีโครงสร้างดังนี้เท่านั้น:\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classStrengths:\x20จุดแข็งโดยรวมของห้องเรียนนี้\x20หรือคอนเซ็ปต์ที่นักเรียนส่วนใหญ่เข้าใจตรงกัน\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20classWeaknesses:\x20จุดอ่อนโดยรวม\x20หรือความเข้าใจผิดที่พบบ่อยที่สุด\x20(array\x20ของ\x20string)\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20teacherSuggestions:\x20ข้อเสนอแนะเชิงปฏิบัติ\x202-3\x20ข้อสำหรับครู\x20เพื่อนำไปพัฒนาการสอนในครั้งต่อไป\x20(array\x20ของ\x20string)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ตอบเป็นภาษาไทยทั้งหมด\x0a\x20\x20\x20\x20','$1^{$2}','loader-text','เงินงวด\x20(อนุกรมเงินงวด)','text-red-700\x20bg-red-100','.ql-editor','\x20คะแนน</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-gray-400\x20text-gray-900\x20font-bold\x20p-4\x20rounded-t-lg\x20mt-2\x20h-32\x20flex\x20items-center\x20justify-center\x20text-5xl\x22>2</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x20mb-5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20mr-2\x22>','พื้นที่ใต้กราฟ/ระหว่างกราฟ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20p-3\x20bg-blue-50\x20border-l-4\x20border-blue-400\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22text-blue-800\x22>คำอธิบาย:</strong>\x20','ai-quiz-app-aefee','\x20(p=','#ffffff','จากเนื้อหาต่อไปนี้:\x20\x22','standardTopic','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar-container\x22\x20class=\x22w-full\x20bg-gray-200\x20rounded-full\x20h-2.5\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-bar\x22\x20class=\x22bg-indigo-600\x20h-2.5\x20rounded-full\x22\x20style=\x22width:\x20100%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-center\x20text-sm\x20text-gray-600\x20mt-1\x22>เหลือเวลา\x20<span\x20id=\x22per-q-countdown\x22>','</span>\x20วินาที</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Enter','lower_group_count','timer-mode-select','/preferences/main','(ก่อนเรียน)\x20','<span\x20class=\x22bg-red-100\x20text-red-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ควรปรับปรุง</span>','<div\x20class=\x22my-4\x22><span\x20class=\x22text-4xl\x20font-bold\x20px-6\x20py-2\x20rounded-full\x20inline-block\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22podium-step\x20text-center\x20flex-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-crown\x20text-6xl\x20mb-2\x20text-yellow-400\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-3xl\x22>','กรุณาเลือกชื่อของคุณ','fullscreenElement','add','ยืนยันการกระทำ','load-quiz-btn','บันทึกคำถามใหม่\x20','color-palette-popup\x20absolute\x20z-10\x20bg-white\x20p-2\x20rounded-lg\x20shadow-lg\x20flex\x20gap-2','```','delete-svg-btn','<div\x20class=\x22text-red-500\x20text-center\x22><p>ขออภัย,\x20การวิเคราะห์ล้มเหลว:\x20','เกิดข้อผิดพลาดในการอัปเดตตารางผู้นำ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','กำลังสร้างแบบทดสอบคู่ขนาน...','export-tutor-pdf-btn','bg-yellow-50','<textarea\x20id=\x22per-q-textarea\x22\x20name=\x22question_single_text\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20placeholder=\x22พิมพ์คำตอบของคุณที่นี่...\x22></textarea>','สร้างและจับคู่\x20Post-test\x20สำเร็จ!','now','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22font-bold\x20text-lg\x20','หน่วยมวล/น้ำหนักและการแปลง','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-red-700\x22>ตอบผิด\x20(','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','sqrt','<span\x20class=\x22bg-teal-100\x20text-teal-800\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22>ง่ายมาก</span>','\x22\x20class=\x22w-full\x20sm:w-auto\x20flex-1\x20bg-blue-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','save-quiz-btn','<p\x20class=\x22text-2xl\x22>เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลคำถาม</p>','_blank','):\x20','กราฟฟังก์ชันตรีโกณ','</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22copy-quiz-id-btn\x22\x20class=\x22mt-2\x20bg-green-600\x20text-white\x20py-1\x20px-3\x20rounded-md\x20hover:bg-green-700\x20text-sm\x22><i\x20class=\x22fas\x20fa-copy\x22></i>\x20คัดลอก</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22grid\x20grid-cols-1\x20lg:grid-cols-3\x20gap-3\x20mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-live-race-generated-btn\x22\x20class=\x22w-full\x20bg-orange-500\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-orange-600\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-flag-checkered\x20mr-2\x22></i>แข่งขันสด</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22start-presentation-btn\x22\x20class=\x22w-full\x20bg-purple-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-purple-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-chalkboard-teacher\x20mr-2\x22></i>เริ่มโหมดนำเสนอ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22admin-try-quiz-btn\x22\x20class=\x22w-full\x20bg-teal-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-teal-700\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-vial\x20mr-2\x22></i>ทดลองทำข้อสอบ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','red','parallel-test-tab','bottom','exitFullscreen','<div\x20id=\x22generated-quiz-actions\x22\x20class=\x22mt-4\x22>\x0a\x09\x09\x09<div\x20class=\x22flex\x20items-center\x20justify-center\x20my-3\x22>\x0a\x20\x20\x20\x20<input\x20id=\x22pre-test-checkbox\x22\x20type=\x22checkbox\x22\x20class=\x22h-4\x20w-4\x20text-indigo-600\x20border-gray-300\x20rounded\x20focus:ring-indigo-500\x22>\x0a\x20\x20\x20\x20<label\x20for=\x22pre-test-checkbox\x22\x20class=\x22ml-2\x20block\x20text-sm\x20font-medium\x20text-gray-900\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20บันทึกเป็นแบบทดสอบก่อนเรียน\x20(Pre-test)\x0a\x20\x20\x20\x20</label>\x0a</div>\x0a\x0a\x20\x20\x20\x20<button\x20id=\x22export-worksheet-pdf-btn\x22\x20class=\x22w-full\x20bg-red-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-red-700\x20flex\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-file-pdf\x20mr-2\x22></i>Export\x20เป็นใบงาน\x20(PDF)\x0a\x20\x20\x20\x20</button>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22save-quiz-btn\x22\x20class=\x22w-full\x20bg-green-600\x20text-white\x20py-2\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-green-700\x22><i\x20class=\x22fas\x20fa-save\x20mr-2\x22></i>บันทึกและสร้างรหัส</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','ดอทโปรดักต์\x20(dot)','rename-quiz-input','underline','เกิดข้อผิดพลาดในการเปลี่ยนสี','originalQuestion','setAttributeNS','generate-worksheet-btn','check-answer-btn','items','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากข้อมูลข้างต้น\x20โปรดสรุปเนื้อหาสำคัญเพื่อสอนซ่อมเสริมนักเรียนคนนี้\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้อธิบายด้วยภาษาที่เข้าใจง่าย\x20เป็นกันเอง\x20เหมือนติวเตอร์ใจดี\x0a\x20\x20\x20\x20\x20\x20\x20\x20สรุปมาเป็นย่อหน้าเดียวหรือสองย่อหน้าสั้นๆ\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20ให้ผลลัพธ์เป็น\x20JSON\x20object\x20ที่มี\x20key\x20ชื่อ\x20\x22remedialContent\x22\x20เท่านั้น\x0a\x20\x20\x20\x20','(เลือกแล้ว\x20','border-gray-200','cos','quiz-results-view','timer-duration-label','พีชคณิตและฟังก์ชัน','circle','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>เฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-1\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22><input\x20type=\x22radio\x22\x20name=\x22correct-answer-','opacity-50','manage-tab','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20flex\x20flex-col\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20text-center\x22>ข้อที่\x20','\x20ข้อ)</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x20pointer-events-none\x22>สร้างเมื่อ:\x20','สมการกำลังสอง\x20(ทำให้เป็นกำลังสองสมบูรณ์)','gamePin','การแปลงกราฟ\x20(เลื่อน/ยืด/สะท้อน)','isPinned','149608RIvoTK','N/A','กำลังสร้างรูปภาพ...','\x27\x20class=\x22mt-1\x20h-4\x20w-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','/public/data/projects/','สร้างคำถามแบบเติมคำในช่องว่าง','quick_thinker','\x20flex\x20flex-col\x20justify-between\x20relative\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22background-color:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20font-semibold\x20px-3\x20py-1\x20rounded-full\x20bg-yellow-200\x20text-yellow-800\x22>รอประกาศผล</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20class=\x22bg-green-200\x20text-green-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20','ควรปรับปรุง','\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q','Error\x20updating\x20quiz\x20status:','แบบเติมคำตอบ','projectSortOrder','\x22\x20data-topic=\x22','entries','quiz-end-time','next-question-btn','<i\x20class=\x22fas\x20fa-times-circle\x20mr-2\x20text-red-600\x22></i>','mean','close-lesson-plan-modal-btn','fill','ไม่พบแบบทดสอบสำหรับรหัสนี้','quiz-leaderboard-table-body','json','generate-from-blueprint-btn','Error\x20updating\x20project\x20color:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-green-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20text-5xl\x20text-green-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-green-800\x22>','copy','confirmation-modal','ดอกเบี้ยอย่างง่าย','<p\x20class=\x22text-red-500\x20text-center\x22>เกิดข้อผิดพลาดในการโหลดข้อมูลเปรียบเทียบ</p>','/public/data/liveGames','\x5csqrt{$1}','cancel-export-pdf-btn','Error\x20renaming\x20quiz:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22admin-action-buttons\x22\x20class=\x22text-center\x20mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22reveal-answer-btn\x22\x20class=\x22bg-yellow-500\x20hover:bg-yellow-600\x20text-white\x20font-bold\x20py-3\x20px-8\x20rounded-lg\x20text-2xl\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-eye\x22></i>\x20เฉลย\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20<span\x20class=\x22text-2xl\x20font-normal\x20text-gray-600\x22>/\x20','editor-quiz-topic','label[for=\x22num-questions\x22]','ไม่มีข้อมูลการส่งงานเก่าให้ตรวจใหม่','<div\x20class=\x22flex-1\x22></div>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22temp-loader-results\x22\x20class=\x22text-center\x20py-16\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22temp-loader-text-results\x22\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์\x20Pre-test\x20และสร้าง\x20Post-test\x20คู่ขนาน...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x20class=\x22accent-green-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20value=\x22','.color-palette-popup','.correct-response-input','overallGroups','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x20เอกสารข้อสอบอ้างอิง\x20(Reference\x20for\x20Difficulty)\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<br>','ดีเทอร์มิแนนต์','^{\x5ccirc}\x5ctext{C}$','num-choices-container','ส่งคำตอบ','project-id-display','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบ:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x20ml-4\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>-</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','G-V90KRM0L63','quiz-results-table-body','Error\x20fetching\x20project\x20quizzes:','\x22.\x20Ideal\x20Answer:\x20\x22','.score','/submissions','\x22\x20class=\x22quiz-bank-item\x20flex-grow\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x20text-indigo-700\x22>','true_false','Error\x20generating\x20parallel\x20post-test:','$1^{\x5ccirc}','blockReason','fas\x20fa-star\x20text-yellow-500','2183515VyjYwP','some','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>โจทย์:</strong>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tbody></table></div>','checked','เกิดข้อผิดพลาด:\x20ไม่พบข้อมูลแบบทดสอบของเกมนี้','MathJax\x20typeset\x20error\x20(analytics):','leaderboard','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','</li>','Error\x20toggling\x20star\x20status:','bank-input-area','%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-yellow-700\x20font-semibold\x22>คะแนนสูงสุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-yellow-900\x22>','frac','\x22\x20name=\x22question_single\x22\x20value=\x22','confirmation-message','กำลังสร้างแบบทดสอบจากหัวข้อ...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','text-red-700','มุมและการวัดมุม','text-indigo-800','true','</div></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','</td>\x0a<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x20grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><p\x20class=\x22font-semibold\x20text-gray-800\x22>กลุ่มเก่ง\x20(','\x20หัวข้อ)','className','(หลังเรียน)\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<i\x20class=\x22fas\x20fa-pen\x22></i>','comparison-individual-tab','.doc','เกิดข้อผิดพลาดในการคัดลอกแบบทดสอบ','แบบทดสอบนี้ปิดใช้งานอยู่','on_fire','th-TH','join','confirm-move-quiz-btn','link-tab','<i\x20class=\x22fas\x20fa-arrow-left\x20mr-2\x22></i>กลับไปหน้าจัดการโปรเจค','.topic-actions-view','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>นี่คือคะแนนของคุณ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-5xl\x20font-bold\x20my-2\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22overflow-x-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20text-sm\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-12\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อนักเรียน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนก่อน</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนหลัง</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>ผลต่าง\x20(ดิบ)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(ก่อน)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>T-Score\x20(หลัง)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>พัฒนาการ\x20(T)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>\x0a\x20\x20\x20\x20','Error\x20generating\x20from\x20link:','set','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>กำลังวิเคราะห์หัวข้อและเตรียมชุดแบบฝึกพิเศษ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','lobby','rgba(79,\x2070,\x20229,\x201)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x22>','\x20แบบทดสอบ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','hover:bg-indigo-100','start-presentation-btn','analytics-summary-cards','workerSrc','toDataURL','เกิดข้อผิดพลาดในการเปลี่ยนชื่อ','ref','attempts','หมดเวลา!\x20กำลังส่งคำตอบ...','endTime','block','string','bank-quiz-search-input','timer-duration-input','latestScore','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22page-break\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-500\x22>แบบทดสอบเรื่อง:\x20','outerHTML','ไม่สามารถเชื่อมต่อกับฐานข้อมูลได้','tan','<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x22></i></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x20pt-3\x20border-t\x20text-sm\x20space-y-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>คำถาม:</strong>\x20','แบบทดสอบที่ติดดาว','document','analytics-tab-btn','จำนวนนักเรียน','สำหรับบางข้อ\x20หากจำเป็น\x20ให้สร้างโค้ด\x20SVG\x20ที่เกี่ยวข้องกับโจทย์ด้วย','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x22>','</h3>','#results-table','.toggle-actions-btn','text-gray-500','password-error-msg','\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','เกิดข้อผิดพลาดในการลบโปรเจค','passcode-input-container','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22\x20data-index=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20sm:text-3xl\x20lg:text-4xl\x20font-bold\x20mb-6\x20md:mb-12\x20leading-relaxed\x20text-center\x22>','ความน่าจะเป็นแบบมีเงื่อนไข','export-pdf-btn','หลังเรียน','Error\x20generating\x20from\x20blueprint:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นักเรียนคนที่\x20','\x22\x20value=\x22false\x22\x20','2.\x20วิเคราะห์\x20\x22เอกสารข้อสอบอ้างอิง\x22\x20เพื่อทำความเข้าใจ\x20**สไตล์,\x20ระดับความยาก,\x20และความซับซ้อน**\x20ของคำถามที่ต้องการ','quiz-id-input','font-bold\x20text-red-700\x20line-through','export-pdf-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20p-1\x20hover:bg-gray-100\x20rounded\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','สมการค่าสัมบูรณ์','.\x20สำหรับแต่ละคู่\x20ให้สร้าง\x20object\x20แยกกัน.\x20','API\x20call\x20failed\x20with\x20status:\x20','\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q','\x22\x20name=\x22drill_answer\x22\x20value=\x22','แก้ไขหัวข้อสำเร็จ','จำนวนเต็มบวก','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-wrapper\x22\x20class=\x22mt-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22text-xl\x20font-semibold\x20cursor-pointer\x20hover:text-indigo-600\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-right\x20details-marker\x20mr-2\x22></i>สถิติที่น่าสนใจ\x20📊\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</summary>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22interesting-stats-container\x22\x20class=\x22grid\x20grid-cols-1\x20md:grid-cols-2\x20gap-4\x20mt-3\x20border-t\x20pt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</details>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x22>ไม่ใช่</p>','next-drill-btn','timer-duration-container','/studentProfiles','<ul\x20class=\x22list-disc\x20list-inside\x20mt-2\x20space-y-1\x20text-sm\x22\x20id=\x22q-options-','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow\x20flex\x20flex-col\x20items-center\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x20mb-8\x20text-center\x22>','ราชาคัมแบ็ก','teachingContent','push','การแปลงทางเรขาคณิต\x20(เลื่อน/หมุน/สะท้อน/ขยาย)','projectId','\x5cs*\x5c(','การคูณ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20','ไม่สามารถโหลดข้อมูลอันดับได้','เกมสิ้นสุดลงแล้ว','_opt0\x22>ใช่</label></div>','ตอบถูกทุกข้อในแบบทดสอบนี้','move-quiz-modal','.pdf','</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>','blueprint-tab','Error\x20deleting\x20quiz:','#FEF3C7','strength-weakness-analysis-container','</label>\x0a\x20\x20\x20\x20</div>\x0a','ไม่ผ่าน','\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','open','<button\x20id=\x22cancel-test-btn\x22\x20class=\x22text-sm\x20text-gray-500\x20hover:text-red-600\x20font-semibold\x20py-1\x20px-2\x20rounded-md\x20hover:bg-red-50\x22><i\x20class=\x22fas\x20fa-times-circle\x20mr-1\x22></i>\x20ยกเลิกการทดสอบ</button>','border-red-700','เซียนสมองไว','blueprint-upload-input','สหสัมพันธ์และเส้นถดถอยเชิงเส้น','Please\x20evaluate\x20if\x20the\x20user\x27s\x20answer\x20is\x20correct\x20based\x20on\x20the\x20ideal\x20answer.\x20The\x20context\x20is\x20a\x20simple\x20quiz,\x20so\x20be\x20lenient\x20with\x20phrasing\x20but\x20strict\x20with\x20the\x20core\x20concept.\x20User\x20Answer:\x20\x22','เกิดข้อผิดพลาดในการบันทึก','ระบบอสมการ','การแจกแจงทวินาม\x20(พื้นฐาน)','input[type=\x22text\x22]','ยกเลิกการจับคู่สำเร็จ','border-green-700','my-4\x20p-3\x20rounded-lg\x20bg-green-100\x20text-green-800','project-passcode-input','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>เฉลย:</strong>\x20','reveal-answer-btn','artifacts/','auto','โดยให้\x20AI\x20วิเคราะห์หาหัวข้อหลักจากเนื้อหาที่ให้มาโดยอัตโนมัติ','</div><div\x20class=\x22space-y-2\x22>','modal-passing-score-input','<div\x20class=\x22my-2\x20flex\x20justify-center\x22>','ลำดับเลขคณิต\x20(AP)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-600\x22>ตัวเลือกและเฉลย:</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x20mt-1\x22>','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังส่งคำตอบ...','การหารเศษส่วน','short_answer','.badges','student-name-selection-view','mode-switcher-btn','ค่าเฉลี่ย','การสร้างรูปด้วยวงเวียน–สันตรง','student-name-input','<tr><td\x20colspan=\x22','quiz-bank-modal','ใช่','\x22\x20class=\x22admin-try-quiz-list-btn\x20text-teal-800\x20bg-teal-100\x20hover:bg-teal-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-vial\x22></i>\x20ทดลอง</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','no-projects-msg','<option\x20value=\x22\x22>กำลังโหลด...</option>','การแก้ไขแบบทดสอบจะทำให้ผลการสอบเก่าไม่สอดคล้องกับคำถามและเฉลยชุดใหม่\x20ซึ่งอาจทำให้การแสดงผลคะแนนเก่าเกิดความสับสนได้\x20คุณต้องการบันทึกการเปลี่ยนแปลงหรือไม่?','first_try_ace','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังบันทึก...','floor','POST','date_asc','bg-red-100\x20text-red-800','isAdaptive','ลบผลสอบของ\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','math-topics-checkbox-container','ล้มเหลวในการเริ่มโหมดฝึกฝนทักษะ:','<p\x20class=\x22mt-4\x20text-gray-600\x22>(ไม่ได้ตั้งค่าเกณฑ์ผ่านสำหรับแบบทดสอบนี้)</p>','เมทริกซ์:\x20บวก/คูณ','#FCE7F3','border-green-300\x20bg-green-50','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x22>-</td>','\x20rounded-lg\x20text-center\x22><p\x20class=\x22text-sm\x20font-semibold\x20','<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x20mr-2\x22></i>กำลังเข้าร่วม...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20font-normal\x20text-gray-500\x22>(','สร้างแบบทดสอบ','analytics','ทฤษฎีทวินาม\x20(เบื้องต้น)','\x5cfrac{$1}{$2}','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','(^|[^\x5c\x5c])\x5cb','print','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x22>','Invalid\x20response\x20structure\x20from\x20AI.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20flex-col\x20items-end\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20font-semibold\x20px-2\x20py-1\x20rounded-full\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญด้านการวัดผลและประเมินผลทางการศึกษา\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20นี่คือข้อมูลของแบบทดสอบต้นฉบับชุดหนึ่งในหัวข้อ\x20\x22','back-to-home-manual-release','lastAnswerCorrect','/public/data/customMathTopics','.png','COMEBACK_KING','students','generate-from-file-btn','พหุนาม\x20(บวก/ลบ/คูณ/หาร)','<td\x20class=\x22py-2\x20px-2\x20border-b\x20bg-gray-50\x20text-gray-400\x22>ยังไม่ส่ง</td>','progress-project-select','message','type','เกิดข้อผิดพลาดในการบันทึกลำดับ','text-red-800','กรุณาใส่ชื่อนักเรียน','settings','ไม่สามารถบันทึกการตั้งค่าได้','<i\x20class=\x22fas\x20fa-times-circle\x20text-red-500\x22></i>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>เยี่ยมเลย!\x20AI\x20กำลังสร้างแบบทดสอบชุดใหม่เพื่อทบทวนความเข้าใจ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','button[type=\x22submit\x22]','textContent','\x22>ใช่</p>','\x5cle','comparison-individual-content','live-game','clientY','join-live-game-btn','การลบเศษส่วน','ลำดับการดำเนินการ\x20(PEMDAS)','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','เกิดข้อผิดพลาดในการโหลดแบบทดสอบ','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-bold\x20text-white\x22>','forEach','start-game-btn','สมมาตร\x20(แกน/จุด)','starred','เปิดใช้งาน','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>','clientX','.topic-actions-edit','then','\x22\x20class=\x22compare-results-btn\x20text-white\x20bg-gradient-to-r\x20from-cyan-500\x20to-blue-500\x20hover:bg-gradient-to-l\x20font-semibold\x20py-2\x20px-4\x20rounded-lg\x20flex\x20items-center\x20gap-2\x20text-sm\x20shadow-md\x20hover:shadow-lg\x20transition-shadow\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chart-bar\x22></i>\x20เปรียบเทียบผล\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','อนุพันธ์:\x20ผลคูณ/ผลหาร','offset','\x20text-lg\x20p-1\x22\x20title=\x22ปักหมุด\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-thumbtack\x20pointer-events-none\x20','export-lesson-pdf-btn','bg-red-50','รูปสแควร์รูท\x20(surd)','ปริพันธ์จำกัด','parts','toISOString','commit','answer-counter','appendChild','\x22\x20class=\x22color-palette-btn\x20','วิเคราะห์ข้อมูลสำเร็จ!\x20กำลังสร้างแบบทดสอบ...','prev-question-btn','write','อนุพันธ์:\x20กฎลูกโซ่','Error\x20listening\x20for\x20starred\x20quizzes:','</span><span\x20class=\x22text-xs\x20text-gray-600\x22>\x20คนส่ง</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีข้อมูลคะแนนสำหรับตารางผู้นำ</td></tr>','check-presentation-answer-btn','<td\x20class=\x22py-2\x20px-2\x20border-b\x20border-r\x20text-left\x20sticky\x20left-0\x20bg-white\x20z-10\x22>','confirm-join-game-btn','typesetPromise','ไฮเพอร์โบลา','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','คะแนนเฉลี่ย','AI\x20grading\x20failed:','setItem','Original\x20quiz\x20not\x20found','confirm-quiz-settings-btn','qIndex','<p\x20class=\x22text-gray-400\x20text-center\x20p-2\x22>ยังไม่มีนักเรียนในโปรเจคนี้</p>','targetId','player-count','text-gray-100','<div\x20class=\x22p-4\x20text-center\x20text-gray-500\x22>ไม่พบแบบทดสอบ</div>','disabled','getAttributeNS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','input[name=\x22drill_answer\x22]:checked','text-white','timerMode','กรุณาเลือกไฟล์ข้อสอบต้นฉบับก่อน','quiz-status-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x20bg-indigo-100\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-award\x20text-5xl\x20text-indigo-500\x20mb-4\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x20mb-2\x22>ผู้เข้าสอบ:\x20<span\x20class=\x22font-semibold\x20text-indigo-800\x22>','s;\x22\x20title=\x22','<div\x20class=\x22live-game-bg\x20text-white\x20rounded-lg\x20p-8\x20text-center\x20flex\x20flex-col\x20items-center\x20justify-center\x20h-full\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2\x20class=\x22text-3xl\x20font-bold\x22>ส่งคำตอบแล้ว!</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-8\x22>รอผู้เล่นคนอื่นสักครู่...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mt-4\x22></div>\x0a\x20\x20\x20\x20</div>','.delete-svg-btn','</td>\x0a<td\x20class=\x22py-2\x20px-4\x20border-b\x20font-semibold\x20text-blue-600\x22>','กำลังเตรียมชุดแบบฝึกพิเศษสำหรับหัวข้อ:\x20\x22','สร้างใหม่','cancel-quiz-status-btn','false','ไม่พบเกมด้วยรหัสนี้\x20กรุณาตรวจสอบอีกครั้ง','answer','icon','project-list','circ','.move-quiz-btn','อัตลักษณ์ตรีโกณมิติ\x20(พื้นฐาน)','ความชันและเส้นตรง','quiz-schedule-start-container','results-table','modal-timer-duration-input','ตั้งเวลา\x20(เปิด)','-tab','ส่วนเบี่ยงเบนมาตรฐาน','<i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x20text-green-600\x22></i>','scheduled_pending','totalPoints','</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.tailwindcss.com\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<link\x20href=\x22https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap\x22\x20rel=\x22stylesheet\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.MathJax\x20=\x20{\x20tex:\x20{\x20inlineMath:\x20[[\x27$\x27,\x20\x27$\x27],\x20[\x27\x5c\x5c(\x27,\x20\x27\x5c\x5c)\x27]]\x20}\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20id=\x22MathJax-script\x22\x20async\x20src=\x22https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Sarabun\x27,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x20/*\x20ปรับขนาดอักษรให้เล็กลงอีกเล็กน้อยเพื่อความกระชับ\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@media\x20print\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x20-webkit-print-color-adjust:\x20exact;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.question-item\x20{\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break-inside:\x20avoid;\x20/*\x20ป้องกันไม่ให้ข้อสอบ\x201\x20ข้อถูกตัดแบ่งคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.answer-space\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-bottom:\x201px\x20dotted\x20black;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x2022px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20/*\x20▼▼▼\x20CSS\x20สำหรับสร้าง\x202\x20คอลัมน์\x20▼▼▼\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.quiz-columns\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-count:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20column-gap:\x202rem;\x20/*\x20ระยะห่างระหว่างคอลัมน์\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<body\x20class=\x22p-6\x20max-w-5xl\x20mx-auto\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20mb-6\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20class=\x22text-xl\x20font-bold\x22>แบบทดสอบเรื่อง:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20สร้างชุดคำถามสำหรับใบงาน','</tbody></table>','ทศนิยม\x20(ค่าประจำหลัก)','MathJax','starred-project','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-xl\x22>','1867497cujduD','lesson-plan-content','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-green-600\x22>(','text-indigo-700','localeCompare','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-black/10\x20hover:bg-black/30\x20p-2\x20rounded-md\x20transition-colors\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-gray-300\x20w-8\x20inline-block\x22>','<option\x20value=\x22\x22>--\x20กรุณาเลือกชื่อ\x20--</option>','scores-tab-content','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-semibold\x20text-indigo-600\x22>','Error\x20generating\x20lesson\x20plan:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x20w-16\x22>อันดับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ชื่อผู้เล่น</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-center\x22>คะแนนรวม\x20(Points)</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20class=\x22py-2\x20px-3\x20text-left\x22>ไอคอนรางวัลที่ได้รับ</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20','ดูสรุปผล','startTime','viewBox','\x20คู่\x20','\x22.\x20Respond\x20with\x20only\x20\x22true\x22\x20or\x20\x22false\x22.','พาราโบลา','create-project-modal','xmlns=\x27http://www.w3.org/TR/REC-html40\x27>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22correct-answer-','results-display-select','<strong><i\x20class=\x22fas\x20fa-check-circle\x22></i>\x20ถูกต้องครับ!</strong><br>','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-500\x22>(ได้\x20','text-indigo-600','<div\x20class=\x22mt-4\x20space-y-3\x20text-xl\x22>','Error\x20fetching\x20student\x20rankings:','Error\x20joining\x20live\x20game:','\x22\x20class=\x22regenerate-question-btn\x20text-green-600\x20hover:text-green-800\x20p-1\x22\x20title=\x22สร้างข้อนี้ใหม่\x22><i\x20class=\x22fas\x20fa-sync-alt\x22></i></button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getDocument','</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','สมการลอการิทึม','bg-green-100\x20text-green-800','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','removeChild','ไม่พบข้อความในไฟล์\x20PDF\x20หรือไฟล์อาจเสียหาย','\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ค่าเสื่อมราคา','removeEventListener','text-tab','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20items-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22regenerate-question-editor-btn\x20text-blue-600\x20hover:text-blue-800\x20p-1\x20rounded-full\x20hover:bg-blue-100\x22\x20title=\x22สร้างโจทย์ข้อนี้ใหม่\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-sync-alt\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22block\x20text-sm\x20font-medium\x20text-gray-700\x20mb-1\x22>คำถามข้อที่\x20','NEGATIVE_INFINITY','rgba(79,\x2070,\x20229,\x200.8)','.quiz-status-btn','\x22\x20โดยให้มีเนื้อหาใกล้เคียงแต่ไม่ซ้ำกับคำถามเดิมนี้:\x20\x22','\x22\x20class=\x22hidden\x20mt-2\x20pt-2\x20border-t\x20border-dashed\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-2\x20flex-wrap\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-quiz-id=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-semibold\x22>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คุณคือผู้เชี่ยวชาญในการสร้างแบบทดสอบตามเอกสาร\x20Test\x20Blueprint\x20และปรับเทียบความยากตามข้อสอบตัวอย่าง\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ภารกิจของคุณคือ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20วิเคราะห์\x20\x22Test\x20Blueprint\x22\x20เพื่อทำความเข้าใจ\x20**โครงสร้าง**\x20ของข้อสอบที่ต้องสร้าง\x20(เช่น\x20จำนวนข้อ,\x20หัวข้อ,\x20ประเภทคำถาม)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','leaderboard-tab','podium','_opt1\x22\x20name=\x22question','fill_in_the_blank','ไม่พบข้อมูลแบบทดสอบ','href','โดเมนและเรนจ์','เกิดข้อผิดพลาดในการยกเลิกการจับคู่','<p\x20class=\x22text-xs\x20text-gray-500\x20mt-1\x22>ปิด:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>','default','#student-project-leaderboard-content\x20thead','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','div','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','.draggable-text','padStart','lesson-plan-modal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','questions_only','การบวก','เกิดข้อผิดพลาดในการแก้ไขหัวข้อ','AIzaSyBgBJ28OshxBTnqUzCKsv7nve2Xj899fwA','mousedown','input[type=\x22radio\x22]:checked',',\x20โดยให้มีทั้งคำถามแบบปรนัย\x20(questionType:\x20\x27multiple_choice\x27)\x20และแบบเติมคำที่ให้พิมพ์ตอบเอง\x20(questionType:\x20\x27short_answer\x27)\x20คละกันไป.\x20สำหรับปรนัย\x20ให้มี\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Invalid\x20response\x20structure\x20from\x20AI:','postScore','latestSubmittedAt','บันทึกการตั้งค่าการแสดงผลสำเร็จ','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-3\x22>','เกิดข้อผิดพลาดในการเตรียมไฟล์:\x20','nickname-input','reset-project-order-btn','numeric','Error\x20generating\x20parallel\x20test\x20from\x20bank:','position','shuffle','modal-timer-mode-select','#per-question-options\x20textarea','move','worksheet-topic-input','เรขาคณิต','\x20ข้อ)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xs\x20text-gray-600\x22>โปรเจค:\x20','classWeaknesses','#F59E0B','.quiz-settings-btn','Copy\x20command\x20failed','onclick','.sort-indicator','function','currentTarget','</p></div>','pointsLastQuestion','PERFECT_SCORE','\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22project-card-content\x20cursor-pointer\x20pt-2\x22\x20data-id=\x22','เกิดข้อผิดพลาดในการจับคู่','\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22\x22>--\x20เลือกคำตอบ\x20--</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cancel-move-quiz-btn','\x22\x5cn','touches','project-detail','matching','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-xl\x22>','close-lesson-plan-modal-footer-btn','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-indigo-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-700\x20mb-2\x22>ผลการทดสอบของคุณคือ:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20text-left\x20p-3\x20border-b\x20hover:bg-gray-100\x20flex\x20items-center\x20justify-between\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20data-id=\x22','player-list-lobby','prod','score-distribution-chart','สิ้นสุดการทำแบบทดสอบ\x20กำลังส่งคำตอบ...','การกระจายและการจัดหมู่','.choice-text','option','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-3\x20text-center\x20text-green-600\x20font-bold\x22>','การยืนยันตัวตนล้มเหลว','2-digit','scrollX','\x20ชุด)','เกิดข้อผิดพลาดในการแสดงรายละเอียดแบบทดสอบ','กรุณาป้อนรหัสแบบทดสอบ','<span\x20class=\x22bg-pink-200\x20text-pink-900\x20text-xs\x20font-semibold\x20px-2\x20rounded-full\x22\x20title=\x22อาจทำให้เด็กอ่อนตอบถูกมากกว่าเด็กเก่ง\x20ต้องแก้ไขหรือตัดทิ้ง\x22>ผิดปกติ</span>','#FEE2E2','\x22\x20class=\x22pair-quiz-btn\x20text-gray-800\x20bg-gray-100\x20hover:bg-gray-200\x20text-xs\x20font-semibold\x20py-1\x20px-3\x20rounded-md\x20flex\x20items-center\x20gap-1\x22><i\x20class=\x22fas\x20fa-link\x22></i>\x20จับคู่</button>','</p></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-green-800\x20border-b\x20pb-1\x20mb-2\x22>โจทย์ตัวอย่างสำหรับฝึกฝน</h4><div\x20class=\x22space-y-3\x22>','.\x20สามารถสร้างคำถามแบบแยกหัวข้อ\x20หรือผสมผสานหัวข้อเหล่านี้ในข้อเดียวกันก็ได้ตามความเหมาะสม','หน่วยความยาวและการแปลง','\x22\x20class=\x22edit-custom-topic-btn\x20text-gray-400\x20hover:text-blue-600\x20p-1\x20rounded-full\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-pencil-alt\x20pointer-events-none\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-id=\x22','%</span>','scheduled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20คำตอบรายข้อ:\x20','/public/data/quizzes','pinned-items','parse','\x20ข้อ\x20เกี่ยวกับหัวข้อ\x20\x22','</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20mb-6\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>ชื่อ-สกุล:\x20....................................................................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>เลขที่:\x20.............</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>คะแนน:\x20.................</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20class=\x22mb-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22quiz-columns\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-6\x20text-left\x20text-base\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><h4\x20class=\x22font-semibold\x20text-red-800\x20border-b\x20pb-1\x20mb-2\x22>จุดที่นักเรียนยังไม่เข้าใจ\x20(Learning\x20Gaps)</h4><ul\x20class=\x22list-disc\x20list-inside\x20text-red-900\x22>','.option-text','$1\x5ctimes','\x22\x20class=\x22w-full\x20p-1\x20border\x20rounded-md\x20ideal-answer-input\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20ข้อลง\x20Practice\x20Bank\x20สำเร็จ','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-1\x22><span\x20class=\x22font-semibold\x20text-sm\x22>','ตัวแปรและนิพจน์','score','start-remedial-quiz-btn','submission-status-chart','modal-timer-duration-label','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-4\x20p-4\x20border\x20rounded-lg\x20relative\x20group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20opacity-0\x20group-hover:opacity-100\x20transition-opacity\x20flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20data-index=\x22','กรุณาเลือกเวลาเปิด\x20หรือ\x20เวลาปิด\x20อย่างน้อยหนึ่งอย่าง','_opt1\x22>ไม่ใช่</label></div>','perQuestionStats','trim','difficulty-level-select','back-to-dashboard-btn','generated-quiz-container','</th>','bg-emerald-100','text-green-700\x20bg-green-100','results-tab-content','student-progress-content','เกิดข้อผิดพลาดในการสร้างใบงาน','leaderboard_','project-detail-view','</td>','text/html','hint-btn','bg-amber-100\x20text-amber-800','<div\x20class=\x22my-4\x20flex\x20justify-center\x22>','add-student-btn','innerText','มัธยฐาน','ย้ายแบบทดสอบสำเร็จ'];_0xed41=function(){return _0x190819;};return _0xed41();}async function confirmMoveQuiz(){const _0x580a47=_0x52d111,_0x3a9e1b=document[_0x580a47(0x7d2)](_0x580a47(0x2ed))['value'];if(!_0x3a9e1b){showMessage(_0x580a47(0x3c7));return;}if(!actionTargetId)return;const _0x22b599=doc(db,_0x580a47(0x5fb)+appId+_0x580a47(0x737),actionTargetId);try{await updateDoc(_0x22b599,{'projectId':_0x3a9e1b}),showMessage(_0x580a47(0x760)),moveQuizModal[_0x580a47(0x21b)][_0x580a47(0x4df)]('hidden'),actionTargetId=null;}catch(_0x259816){console[_0x580a47(0x403)](_0x580a47(0x1cb),_0x259816),showMessage(_0x580a47(0x39d));}}async function handleQuizSettings(_0x51998f){const _0x11d86b=_0x52d111;actionTargetId=_0x51998f;const _0x6c75d1=doc(db,_0x11d86b(0x5fb)+appId+_0x11d86b(0x737),_0x51998f);try{const _0x324619=await getDoc(_0x6c75d1);if(_0x324619[_0x11d86b(0x237)]()){const _0x2c1456=_0x324619[_0x11d86b(0x406)](),_0x295e49=_0x2c1456[_0x11d86b(0x640)]||{},_0x1ac823=_0x2c1456[_0x11d86b(0x194)][_0x11d86b(0x426)];document[_0x11d86b(0x7d2)](_0x11d86b(0xf5))[_0x11d86b(0x796)]=_0x295e49[_0x11d86b(0x701)]||'none',document[_0x11d86b(0x7d2)]('modal-results-display-select')['value']=_0x295e49['resultsDisplay']||'show_results_and_answers',document[_0x11d86b(0x7d2)]('modal-timer-mode-select')[_0x11d86b(0x796)]=_0x295e49['timerMode']||_0x11d86b(0x430),document[_0x11d86b(0x7d2)]('modal-timer-duration-input')['value']=_0x295e49[_0x11d86b(0x3e9)]||0xa,document[_0x11d86b(0x7d2)](_0x11d86b(0x5ff))[_0x11d86b(0x796)]=_0x295e49[_0x11d86b(0x3ce)]||Math['floor'](_0x1ac823/0x2),document[_0x11d86b(0x7d2)]('modal-passing-score-input')[_0x11d86b(0x104)]=_0x1ac823,document['getElementById'](_0x11d86b(0x133))[_0x11d86b(0x569)]=_0x295e49[_0x11d86b(0x619)]||![],document['getElementById'](_0x11d86b(0x702))[_0x11d86b(0x407)](new Event(_0x11d86b(0x7b1))),quizSettingsModal[_0x11d86b(0x21b)][_0x11d86b(0x218)]('hidden');}else showMessage(_0x11d86b(0x6de));}catch(_0x1890c2){console[_0x11d86b(0x403)](_0x11d86b(0x7e7),_0x1890c2),showMessage('เกิดข้อผิดพลาดในการโหลดการตั้งค่า');}}async function confirmQuizSettings(){const _0x2dd0a0=_0x52d111;if(!actionTargetId)return;const _0x3adcab=doc(db,_0x2dd0a0(0x5fb)+appId+_0x2dd0a0(0x737),actionTargetId),_0x4d51f3={'shuffle':document['getElementById'](_0x2dd0a0(0xf5))['value'],'resultsDisplay':document[_0x2dd0a0(0x7d2)](_0x2dd0a0(0x338))['value'],'timerMode':document[_0x2dd0a0(0x7d2)](_0x2dd0a0(0x702))[_0x2dd0a0(0x796)],'timerDuration':parseInt(document[_0x2dd0a0(0x7d2)](_0x2dd0a0(0x69c))[_0x2dd0a0(0x796)])||0xa,'passingScore':parseInt(document[_0x2dd0a0(0x7d2)]('modal-passing-score-input')[_0x2dd0a0(0x796)])||0x0,'passingScore':parseInt(document[_0x2dd0a0(0x7d2)](_0x2dd0a0(0x5ff))[_0x2dd0a0(0x796)])||0x0,'isAdaptive':document[_0x2dd0a0(0x7d2)](_0x2dd0a0(0x133))['checked']};try{await updateDoc(_0x3adcab,{'settings':_0x4d51f3}),showMessage(_0x2dd0a0(0x42f)),quizSettingsModal[_0x2dd0a0(0x21b)]['add'](_0x2dd0a0(0x79f)),actionTargetId=null;}catch(_0x1520d6){console[_0x2dd0a0(0x403)](_0x2dd0a0(0x3ed),_0x1520d6),showMessage(_0x2dd0a0(0x5f1));}}async function handleQuizStatus(_0x4d47ff){const _0x3dd9b6=_0x52d111;actionTargetId=_0x4d47ff;const _0x1f5551=doc(db,'artifacts/'+appId+_0x3dd9b6(0x737),_0x4d47ff);try{const _0x2190ab=await getDoc(_0x1f5551);if(_0x2190ab['exists']()){const _0x5586b0=_0x2190ab[_0x3dd9b6(0x406)](),_0x39ce10=_0x5586b0['status']||_0x3dd9b6(0x38a),_0x2b57d5=document[_0x3dd9b6(0x7d2)](_0x3dd9b6(0x279)),_0x5dd295=document['getElementById'](_0x3dd9b6(0x69a)),_0x1b1297=document[_0x3dd9b6(0x7d2)](_0x3dd9b6(0x240));let _0x9c1ea3=_0x3dd9b6(0x393)+(_0x39ce10===_0x3dd9b6(0x38a)?_0x3dd9b6(0x569):'')+_0x3dd9b6(0x11a)+(_0x39ce10===_0x3dd9b6(0x76f)?_0x3dd9b6(0x569):'')+'>\x20<label\x20for=\x22status-inactive\x22>ปิดใช้งาน\x20(Inactive)</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20name=\x22status-option\x22\x20value=\x22schedule\x22\x20id=\x22status-schedule\x22\x20'+(_0x39ce10===_0x3dd9b6(0x735)?'checked':'')+_0x3dd9b6(0xfd);_0x2b57d5[_0x3dd9b6(0x1da)]=_0x9c1ea3;const _0xb64583=_0x39ce10==='scheduled';_0x5dd295[_0x3dd9b6(0x21b)][_0x3dd9b6(0x324)](_0x3dd9b6(0x79f),!_0xb64583),_0x1b1297['classList'][_0x3dd9b6(0x324)]('hidden',!_0xb64583),document[_0x3dd9b6(0x7d2)](_0x3dd9b6(0x46e))[_0x3dd9b6(0x796)]=_0x5586b0[_0x3dd9b6(0x6b7)]?_0x5586b0[_0x3dd9b6(0x6b7)][_0x3dd9b6(0x343)](0x0,0x10):'',document[_0x3dd9b6(0x7d2)](_0x3dd9b6(0x52f))[_0x3dd9b6(0x796)]=_0x5586b0['endTime']?_0x5586b0['endTime'][_0x3dd9b6(0x343)](0x0,0x10):'',_0x2b57d5['querySelectorAll'](_0x3dd9b6(0x810))[_0x3dd9b6(0x651)](_0x59fe82=>{const _0x16fa01=_0x3dd9b6;_0x59fe82['addEventListener'](_0x16fa01(0x7b1),_0x8d4438=>{const _0x568f46=_0x16fa01,_0x20ac41=_0x8d4438[_0x568f46(0x222)][_0x568f46(0x796)]===_0x568f46(0x17a);_0x5dd295[_0x568f46(0x21b)]['toggle']('hidden',!_0x20ac41),_0x1b1297['classList'][_0x568f46(0x324)](_0x568f46(0x79f),!_0x20ac41);});}),quizStatusModal['classList'][_0x3dd9b6(0x218)]('hidden');}}catch(_0xebb416){console['error']('Error\x20fetching\x20quiz\x20status:',_0xebb416),showMessage(_0x3dd9b6(0x422));}}async function confirmQuizStatus(){const _0x209d2d=_0x52d111;if(!actionTargetId)return;const _0x3157dc=doc(db,_0x209d2d(0x5fb)+appId+_0x209d2d(0x737),actionTargetId),_0x5caa9e=document[_0x209d2d(0x7df)](_0x209d2d(0x413));if(!_0x5caa9e){showMessage(_0x209d2d(0xe2));return;}const _0x460446=_0x5caa9e[_0x209d2d(0x796)];let _0x4bdc72={};if(_0x460446==='active'||_0x460446===_0x209d2d(0x76f))_0x4bdc72={'status':_0x460446,'startTime':null,'endTime':null};else{if(_0x460446==='schedule'){const _0x1f7242=document[_0x209d2d(0x7d2)]('quiz-start-time')[_0x209d2d(0x796)],_0x178305=document[_0x209d2d(0x7d2)](_0x209d2d(0x52f))[_0x209d2d(0x796)];if(!_0x1f7242&&!_0x178305){showMessage(_0x209d2d(0x749));return;}_0x4bdc72={'status':_0x209d2d(0x735),'startTime':_0x1f7242?new Date(_0x1f7242)[_0x209d2d(0x663)]():null,'endTime':_0x178305?new Date(_0x178305)['toISOString']():null};}}try{await updateDoc(_0x3157dc,_0x4bdc72),showMessage(_0x209d2d(0x7af)),quizStatusModal[_0x209d2d(0x21b)][_0x209d2d(0x4df)](_0x209d2d(0x79f)),actionTargetId=null;}catch(_0x14f715){console[_0x209d2d(0x403)](_0x209d2d(0x52a),_0x14f715),showMessage('เกิดข้อผิดพลาดในการอัปเดตสถานะ');}}function listenForStudentProfiles(_0x4d231d){const _0xbe27d3=_0x52d111,_0x4b8c16=collection(db,_0xbe27d3(0x5fb)+appId+'/public/data/projects/'+_0x4d231d+'/studentProfiles');unsubscribeStudentProfilesListener=onSnapshot(_0x4b8c16,_0x5591f3=>{const _0x4b1353=_0xbe27d3,_0x2a321f=_0x5591f3['docs'][_0x4b1353(0x2ba)](_0x139f13=>_0x139f13['data']());renderLeaderboard(_0x2a321f,_0x4b1353(0x793));},_0x36a143=>{const _0xfbf136=_0xbe27d3;console[_0xfbf136(0x403)]('Error\x20listening\x20for\x20student\x20profiles:',_0x36a143),document['getElementById']('leaderboard-table-body')['innerHTML']=_0xfbf136(0x298);});}function renderLeaderboard(_0xedc986,_0x47537f){const _0x2ef5fe=_0x52d111,_0x184cae=document[_0x2ef5fe(0x7d2)](_0x47537f);if(!_0xedc986||_0xedc986[_0x2ef5fe(0x426)]===0x0){_0x184cae[_0x2ef5fe(0x1da)]=_0x2ef5fe(0x66e);return;}_0xedc986[_0x2ef5fe(0x18d)]((_0x4962b9,_0x509a37)=>{const _0x2f5841=_0x2ef5fe,_0x936b9e=(_0x509a37['totalPoints']||0x0)-(_0x4962b9[_0x2f5841(0x6a2)]||0x0);if(_0x936b9e!==0x0)return _0x936b9e;const _0x41dfe6=(_0x509a37[_0x2f5841(0x43e)]?.[_0x2f5841(0x40e)]||0x0)-(_0x4962b9['badgesCount']?.[_0x2f5841(0x40e)]||0x0);if(_0x41dfe6!==0x0)return _0x41dfe6;const _0x44170d=(_0x509a37[_0x2f5841(0x43e)]?.[_0x2f5841(0x613)]||0x0)-(_0x4962b9[_0x2f5841(0x43e)]?.[_0x2f5841(0x613)]||0x0);if(_0x44170d!==0x0)return _0x44170d;const _0x199718=(_0x509a37['badgesCount']?.['perfect_score']||0x0)-(_0x4962b9[_0x2f5841(0x43e)]?.[_0x2f5841(0x339)]||0x0);if(_0x199718!==0x0)return _0x199718;const _0x1722c1=(_0x509a37[_0x2f5841(0x43e)]?.[_0x2f5841(0x524)]||0x0)-(_0x4962b9['badgesCount']?.['quick_thinker']||0x0);if(_0x1722c1!==0x0)return _0x1722c1;return _0x4962b9[_0x2f5841(0x219)][_0x2f5841(0x6af)](_0x509a37[_0x2f5841(0x219)],'th');});let _0x598d84='';_0xedc986[_0x2ef5fe(0x651)]((_0x56739f,_0x4c442c)=>{const _0x41cf82=_0x2ef5fe,_0x170313=_0x4c442c+0x1,_0x13ee63=_0x56739f[_0x41cf82(0x43e)]||{};let _0x37791c='';const _0x16e9dd=[_0x41cf82(0x40e),_0x41cf82(0x339),_0x41cf82(0x613),_0x41cf82(0x524)];_0x16e9dd[_0x41cf82(0x651)](_0x14b961=>{const _0x510feb=_0x41cf82;if(_0x13ee63[_0x14b961]>0x0){const _0x5448f9=Object[_0x510feb(0x19c)](BADGES)['find'](_0x1deb6d=>_0x1deb6d['id']===_0x14b961);_0x5448f9&&(_0x14b961===_0x510feb(0x40e)?_0x37791c+=_0x510feb(0x785)+_0x5448f9[_0x510feb(0x121)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x5448f9['icon']+_0x510feb(0x6ce):_0x37791c+=_0x510feb(0x785)+_0x5448f9[_0x510feb(0x121)]+'\x20('+_0x13ee63[_0x14b961]+'\x20ครั้ง)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20'+_0x5448f9[_0x510feb(0x694)]+'\x20text-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-sm\x20font-semibold\x22>'+_0x13ee63[_0x14b961]+_0x510feb(0x2d7));}}),_0x598d84+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr\x20class=\x22hover:bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x22>'+_0x170313+_0x41cf82(0x259)+_0x56739f[_0x41cf82(0x219)]+_0x41cf82(0x6b3)+(_0x56739f['totalPoints']||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x22>'+(_0x37791c||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x184cae['innerHTML']=_0x598d84;}function renderQuizLeaderboard(_0x1b1a6c,_0x26d30f,_0x12b374){const _0x480c56=_0x52d111,_0x3cce37=document[_0x480c56(0x7d2)](_0x12b374),_0x1cc1c8=_0x12b374===_0x480c56(0x7e6),_0x2dde94=_0x26d30f['questions'][_0x480c56(0x426)],_0x196e09=document[_0x480c56(0x7d2)](_0x12b374)[_0x480c56(0xee)]('table');if(_0x196e09&&!_0x1cc1c8){const _0x4926f5=_0x196e09['querySelector'](_0x480c56(0x2f8));_0x4926f5['innerHTML']=_0x480c56(0x123);}if(!_0x1b1a6c||_0x1b1a6c[_0x480c56(0x426)]===0x0){_0x3cce37[_0x480c56(0x1da)]=_0x480c56(0x60c)+(_0x1cc1c8?0x6:0x8)+'\x22\x20class=\x22text-center\x20p-4\x20text-gray-500\x22>ยังไม่มีนักเรียนส่งแบบทดสอบนี้</td></tr>';return;}const _0x5e136f=[..._0x1b1a6c];_0x5e136f[_0x480c56(0x18d)]((_0x21db76,_0x257dc9)=>{const _0x32ffd6=_0x480c56;let _0x4800e0,_0x385b77;switch(quizLeaderboardSortBy){case _0x32ffd6(0x219):_0x4800e0=_0x21db76[_0x32ffd6(0x219)]||'',_0x385b77=_0x257dc9[_0x32ffd6(0x219)]||'';return quizLeaderboardSortOrder===_0x32ffd6(0x81a)?_0x4800e0[_0x32ffd6(0x6af)](_0x385b77,'th'):_0x385b77[_0x32ffd6(0x6af)](_0x4800e0,'th');case _0x32ffd6(0x239):_0x4800e0=_0x21db76[_0x32ffd6(0x239)]||0x0,_0x385b77=_0x257dc9[_0x32ffd6(0x239)]||0x0;break;case _0x32ffd6(0x59e):_0x4800e0=_0x21db76['attempts']?.['length']||0x1,_0x385b77=_0x257dc9[_0x32ffd6(0x59e)]?.[_0x32ffd6(0x426)]||0x1;break;case _0x32ffd6(0x6f8):_0x4800e0=new Date(_0x21db76[_0x32ffd6(0x6f8)]),_0x385b77=new Date(_0x257dc9[_0x32ffd6(0x6f8)]);break;case'bestScore':default:_0x4800e0=_0x21db76[_0x32ffd6(0x10b)],_0x385b77=_0x257dc9[_0x32ffd6(0x10b)];break;}if(_0x4800e0<_0x385b77)return quizLeaderboardSortOrder==='asc'?-0x1:0x1;if(_0x4800e0>_0x385b77)return quizLeaderboardSortOrder===_0x32ffd6(0x81a)?0x1:-0x1;return 0x0;});const _0x14428b=_0x26d30f[_0x480c56(0x4b7)]===!![],_0x52c718=_0x26d30f[_0x480c56(0x640)]?.[_0x480c56(0x3ce)]??-0x1;let _0x458643='';_0x5e136f[_0x480c56(0x651)]((_0x58481d,_0x246a3a)=>{const _0x59292b=_0x480c56,_0x3ff26c=_0x246a3a+0x1;let _0x53e042=_0x59292b(0x143);if(_0x14428b||_0x52c718!==-0x1){let _0x1b422d=_0x14428b?_0x58481d[_0x59292b(0x10b)]===_0x2dde94:_0x58481d[_0x59292b(0x10b)]>=_0x52c718;const _0x2007d9=_0x1b422d?_0x59292b(0x6ca):'bg-red-100\x20text-red-800',_0x16ac4f=_0x1b422d?_0x59292b(0x439):_0x59292b(0x5e8);_0x53e042='<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x22><span\x20class=\x22text-xs\x20font-medium\x20px-2.5\x20py-0.5\x20rounded-full\x20'+_0x2007d9+'\x22>'+_0x16ac4f+_0x59292b(0x477);}const _0x51485e=_0x58481d[_0x59292b(0x59e)][_0x58481d[_0x59292b(0x59e)][_0x59292b(0x426)]-0x1],_0x13e957=(_0x51485e[_0x59292b(0x21c)]||[])[_0x59292b(0x2ba)](_0x34b60d=>{const _0xbf3f8b=_0x59292b,_0x13c207=Object[_0xbf3f8b(0x19c)](BADGES)[_0xbf3f8b(0x314)](_0x5c268a=>_0x5c268a['id']===_0x34b60d);return _0x13c207?'<span\x20title=\x22'+_0x13c207[_0xbf3f8b(0x121)]+'\x22><i\x20class=\x22fas\x20'+_0x13c207[_0xbf3f8b(0x694)]+'\x20mx-1\x20text-lg\x22></i></span>':'';})['join']('');_0x458643+=_0x59292b(0x28f)+_0x3ff26c+_0x59292b(0x3ec)+_0x58481d[_0x59292b(0x219)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-2\x20px-4\x20border-b\x20text-center\x20font-bold\x20text-green-600\x22>'+_0x58481d[_0x59292b(0x10b)]+_0x59292b(0x14e)+_0x2dde94+_0x59292b(0x1d4)+_0x53e042+_0x59292b(0x2e6)+(_0x58481d['points']||0x0)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1cc1c8?'':_0x59292b(0x21a)+(_0x58481d[_0x59292b(0x59e)]?.[_0x59292b(0x426)]||0x1)+_0x59292b(0x758))+_0x59292b(0x6f5)+(_0x1cc1c8?'':_0x59292b(0x1b3)+new Date(_0x58481d['latestSubmittedAt'])[_0x59292b(0x396)](_0x59292b(0x588))+_0x59292b(0x758))+_0x59292b(0x205)+(_0x13e957||'-')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}),_0x3cce37[_0x480c56(0x1da)]=_0x458643,_0x196e09&&!_0x1cc1c8&&_0x196e09[_0x480c56(0x78c)](_0x480c56(0x2a7))[_0x480c56(0x651)](_0x29d310=>{const _0x2648d0=_0x480c56,_0x879c16=_0x29d310[_0x2648d0(0x7df)](_0x2648d0(0x70d));if(_0x879c16)_0x879c16[_0x2648d0(0x218)]();_0x29d310[_0x2648d0(0x3c3)][_0x2648d0(0x18d)]===quizLeaderboardSortBy&&(_0x29d310[_0x2648d0(0x1da)]+='<span\x20class=\x22sort-indicator\x20ml-2\x22>'+(quizLeaderboardSortOrder===_0x2648d0(0x81a)?'▲':'▼')+'</span>');});}async function handleDeleteSubmission(_0x1ba686){const _0x10338d=_0x52d111;if(!currentQuizData||!currentQuizData['id']||!_0x1ba686){showMessage('ข้อมูลไม่เพียงพอที่จะลบผลสอบ');return;}showConfirmation(_0x10338d(0x3b8)+_0x1ba686+_0x10338d(0x249),async()=>{const _0xae2f46=_0x10338d,_0x21274a=currentQuizData['id'],_0x5b857a=doc(db,_0xae2f46(0x5fb)+appId+_0xae2f46(0x378)+_0x21274a+_0xae2f46(0x55e),_0x1ba686);try{await deleteDoc(_0x5b857a),showMessage(_0xae2f46(0x61a)+_0x1ba686+_0xae2f46(0x387));}catch(_0xedf1a1){console[_0xae2f46(0x403)](_0xae2f46(0x442),_0xedf1a1),showMessage(_0xae2f46(0x2e4));}});}async function handleLoadQuiz(){const _0x2b805a=_0x52d111,_0x181408=document[_0x2b805a(0x7d2)](_0x2b805a(0x5c2)),_0x48f136=_0x181408[_0x2b805a(0x796)]['trim']();if(!_0x48f136){showMessage(_0x2b805a(0x72c));return;}loadQuizBtn[_0x2b805a(0x681)]=!![],loadQuizBtn[_0x2b805a(0x1da)]=_0x2b805a(0x29f);try{const _0x3ed1d5=doc(db,_0x2b805a(0x5fb)+appId+_0x2b805a(0x737),_0x48f136),_0x5b2801=await getDoc(_0x3ed1d5);if(!_0x5b2801[_0x2b805a(0x237)]()){showMessage(_0x2b805a(0x535));return;}currentQuizData={'id':_0x5b2801['id'],..._0x5b2801['data']()};const _0x59118f=currentQuizData['status']||_0x2b805a(0x38a),_0xe01edb=new Date();if(_0x59118f===_0x2b805a(0x76f)){showMessage(_0x2b805a(0x586));return;}if(_0x59118f===_0x2b805a(0x735)){const _0x1c21b6=currentQuizData[_0x2b805a(0x6b7)]?new Date(currentQuizData['startTime']):null,_0x1f4933=currentQuizData[_0x2b805a(0x5a0)]?new Date(currentQuizData[_0x2b805a(0x5a0)]):null;if(_0x1c21b6&&_0xe01edb<_0x1c21b6){showMessage(_0x2b805a(0x26c)+_0x1c21b6[_0x2b805a(0x396)](_0x2b805a(0x588),{'hour12':![]}));return;}if(_0x1f4933&&_0xe01edb>_0x1f4933){showMessage('แบบทดสอบนี้หมดเวลาแล้ว');return;}}const _0x17b0c2=currentQuizData[_0x2b805a(0x5d8)];currentProjectId=_0x17b0c2;const _0x3d1309=doc(db,_0x2b805a(0x5fb)+appId+_0x2b805a(0x172),_0x17b0c2),_0x1145d8=await getDoc(_0x3d1309);if(!_0x1145d8[_0x2b805a(0x237)]()){showMessage(_0x2b805a(0x15c));return;}const _0x59fcf1=_0x1145d8[_0x2b805a(0x406)]();currentStudentProjectData=_0x59fcf1,displayStudentNameSelector(_0x59fcf1[_0x2b805a(0x636)],currentQuizData['topic']);}catch(_0x345770){console[_0x2b805a(0x403)](_0x2b805a(0x16d),_0x345770),showMessage(_0x2b805a(0x64f));}finally{loadQuizBtn[_0x2b805a(0x681)]=![],loadQuizBtn['innerHTML']=_0x2b805a(0x2c4);}}async function handleJoinLiveGame(){const _0x2f6479=_0x52d111,_0x15483e=document[_0x2f6479(0x7d2)](_0x2f6479(0x7bc)),_0x2997be=document[_0x2f6479(0x7d2)](_0x2f6479(0x6fc)),_0x561dac=document[_0x2f6479(0x7d2)](_0x2f6479(0x671)),_0x3a27ca=_0x15483e[_0x2f6479(0x796)][_0x2f6479(0x74c)](),_0x322193=_0x2997be[_0x2f6479(0x796)][_0x2f6479(0x74c)]();if(!_0x3a27ca||!_0x322193){showMessage('กรุณากรอกรหัสเข้าร่วมและชื่อเล่นให้ครบถ้วน');return;}_0x561dac[_0x2f6479(0x681)]=!![],_0x561dac[_0x2f6479(0x1da)]=_0x2f6479(0x624);try{const _0x31ef79=collection(db,_0x2f6479(0x5fb)+appId+_0x2f6479(0x53f)),_0x1587da=query(_0x31ef79,where(_0x2f6479(0x51b),'==',_0x3a27ca),where(_0x2f6479(0x43a),'==','lobby')),_0x51fbf8=await getDocs(_0x1587da);if(_0x51fbf8[_0x2f6479(0x813)]){showMessage(_0x2f6479(0x692));return;}const _0x11e252=_0x51fbf8[_0x2f6479(0x23a)][0x0],_0x553ab5=_0x11e252[_0x2f6479(0x406)]();currentLiveGameId=_0x11e252['id'];const _0x26851b=_0x553ab5[_0x2f6479(0x220)],_0x7da9d4=doc(db,_0x2f6479(0x5fb)+appId+_0x2f6479(0x737),_0x26851b),_0x33a08d=await getDoc(_0x7da9d4);if(!_0x33a08d[_0x2f6479(0x237)]()){showMessage(_0x2f6479(0x56a));return;}currentQuizData={'id':_0x33a08d['id'],..._0x33a08d[_0x2f6479(0x406)]()};if(_0x553ab5['players']&&_0x553ab5[_0x2f6479(0x147)][_0x322193]){showMessage(_0x2f6479(0x41d));return;}const _0x1d0168={};_0x1d0168['players.'+_0x322193]={'score':0x0,'answered':![],'badges':[],'correctStreak':0x0},await updateDoc(doc(db,_0x2f6479(0x5fb)+appId+_0x2f6479(0x53f),currentLiveGameId),_0x1d0168),currentStudentName=_0x322193,listenForLiveGameUpdates();}catch(_0x24bc99){console['error'](_0x2f6479(0x6c5),_0x24bc99),showMessage(_0x2f6479(0x1dd));}finally{_0x561dac['disabled']=![],_0x561dac['innerHTML']=_0x2f6479(0x451);}}function displayStudentNameSelector(_0x11ec95,_0x27d633){const _0x1d4b96=_0x52d111,_0x3c2f4e=document[_0x1d4b96(0x7d2)](_0x1d4b96(0x2a8));document[_0x1d4b96(0x7d2)](_0x1d4b96(0x242))[_0x1d4b96(0x645)]='แบบทดสอบ:\x20'+_0x27d633,!_0x11ec95||_0x11ec95[_0x1d4b96(0x426)]===0x0?(_0x3c2f4e[_0x1d4b96(0x1da)]='<option\x20value=\x22\x22>ไม่พบรายชื่อนักเรียนในโปรเจคนี้</option>',startQuizBtn[_0x1d4b96(0x681)]=!![]):(_0x3c2f4e['innerHTML']=_0x1d4b96(0x6b1),_0x11ec95[_0x1d4b96(0x651)](_0x4e4ab4=>{const _0x4d8abd=_0x1d4b96,_0x4b82ed=document['createElement'](_0x4d8abd(0x725));_0x4b82ed['value']=_0x4e4ab4,_0x4b82ed[_0x4d8abd(0x645)]=_0x4e4ab4,_0x3c2f4e[_0x4d8abd(0x666)](_0x4b82ed);}),startQuizBtn[_0x1d4b96(0x681)]=![]),studentInitialView['classList']['add'](_0x1d4b96(0x79f)),studentNameSelectionView[_0x1d4b96(0x21b)]['remove'](_0x1d4b96(0x79f));}function shuffleArray(_0x3ab012){const _0x98da62=_0x52d111;for(let _0xa8004e=_0x3ab012[_0x98da62(0x426)]-0x1;_0xa8004e>0x0;_0xa8004e--){const _0x45f4f7=Math[_0x98da62(0x615)](Math[_0x98da62(0x38b)]()*(_0xa8004e+0x1));[_0x3ab012[_0xa8004e],_0x3ab012[_0x45f4f7]]=[_0x3ab012[_0x45f4f7],_0x3ab012[_0xa8004e]];}}function getShuffledQuiz(_0x17ed6e){const _0x7353b4=_0x52d111;let _0x1265d6=JSON[_0x7353b4(0x739)](JSON[_0x7353b4(0x806)](_0x17ed6e));const _0x36a992=_0x1265d6['settings']?.['shuffle']||_0x7353b4(0x430);if(_0x36a992===_0x7353b4(0x430))return _0x1265d6;return(_0x36a992===_0x7353b4(0x6ee)||_0x36a992===_0x7353b4(0x24f))&&shuffleArray(_0x1265d6['questions']),(_0x36a992===_0x7353b4(0x7c6)||_0x36a992===_0x7353b4(0x24f))&&_0x1265d6[_0x7353b4(0x194)][_0x7353b4(0x651)](_0x5f1d1e=>{const _0x3dec3a=_0x7353b4,_0x177924=_0x5f1d1e['questionType']||_0x1265d6[_0x3dec3a(0x3a7)];if(_0x5f1d1e[_0x3dec3a(0x417)]){let _0x52cf32=_0x5f1d1e[_0x3dec3a(0x417)][_0x3dec3a(0x2ba)]((_0x83434,_0x1d4528)=>({'text':_0x83434,'isCorrect':_0x1d4528===_0x5f1d1e[_0x3dec3a(0x4b4)]}));shuffleArray(_0x52cf32),_0x5f1d1e['options']=_0x52cf32[_0x3dec3a(0x2ba)](_0x43b984=>_0x43b984['text']),_0x5f1d1e['correctAnswerIndex']=_0x52cf32[_0x3dec3a(0x1cc)](_0x356726=>_0x356726[_0x3dec3a(0x478)]);}_0x177924==='matching_item'&&_0x5f1d1e['allResponses']&&shuffleArray(_0x5f1d1e[_0x3dec3a(0x1af)]);}),_0x1265d6;}function displayQuizForStudent(_0xfa1e7a){const _0x2294ce=_0x52d111;studentQuizArea[_0x2294ce(0x21b)][_0x2294ce(0x218)](_0x2294ce(0x79f)),currentDisplayedQuiz=getShuffledQuiz(_0xfa1e7a);const _0x592fbb=currentDisplayedQuiz['settings']?.[_0x2294ce(0x686)]||'none';if(_0x592fbb===_0x2294ce(0x1e4))renderFullQuizForm(),startWholeQuizTimer(currentDisplayedQuiz[_0x2294ce(0x640)]['timerDuration']);else _0x592fbb===_0x2294ce(0x350)?(currentQuestionIndex=0x0,studentAnswersPerQuestion=[],renderPerQuestionView()):renderFullQuizForm();}function renderFullQuizForm(){const _0x1c9a9c=_0x52d111;let _0x122e51=_0x1c9a9c(0x555)+currentDisplayedQuiz[_0x1c9a9c(0xf7)]+_0x1c9a9c(0x493)+(currentMode==='admin-testing'?_0x1c9a9c(0x5eb):'')+_0x1c9a9c(0x371);currentDisplayedQuiz[_0x1c9a9c(0x194)][_0x1c9a9c(0x651)]((_0x7e4ecd,_0x1ce4be)=>{const _0x1e9848=_0x1c9a9c,_0x5e8820=_0x7e4ecd[_0x1e9848(0x2e1)]||currentDisplayedQuiz[_0x1e9848(0x3a7)];_0x122e51+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x5e8820===_0x1e9848(0x7cc)?_0x122e51+=_0x1e9848(0x27b)+(_0x1ce4be+0x1)+'.\x20'+_0x7e4ecd[_0x1e9848(0x4c1)]+_0x1e9848(0x486)+_0x1ce4be+_0x1e9848(0x715)+_0x7e4ecd['allResponses'][_0x1e9848(0x2ba)](_0x296202=>_0x1e9848(0x23d)+_0x296202+'\x22>'+_0x296202+_0x1e9848(0x418))[_0x1e9848(0x589)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a':(_0x122e51+='<p>'+(_0x1ce4be+0x1)+'.\x20'+(_0x7e4ecd[_0x1e9848(0x1ba)]||_0x7e4ecd['questionText'])+'</p>',_0x7e4ecd[_0x1e9848(0x2ee)]&&(_0x122e51+=_0x1e9848(0x75c)+_0x7e4ecd[_0x1e9848(0x2ee)]+'</div>'));_0x122e51+=_0x1e9848(0x5fe);switch(_0x5e8820){case'short_answer':_0x122e51+=_0x1e9848(0x7f9)+_0x1ce4be+'\x22\x20class=\x22w-full\x20p-2\x20border\x20border-gray-300\x20rounded-lg\x22\x20rows=\x223\x22\x20required></textarea>';break;case _0x1e9848(0x560):_0x122e51+='<div><input\x20type=\x22radio\x22\x20id=\x22q'+_0x1ce4be+_0x1e9848(0x40f)+_0x1ce4be+_0x1e9848(0x30a)+_0x1ce4be+_0x1e9848(0x5de),_0x122e51+=_0x1e9848(0x328)+_0x1ce4be+_0x1e9848(0x6dc)+_0x1ce4be+_0x1e9848(0x529)+_0x1ce4be+_0x1e9848(0x74a);break;case _0x1e9848(0x7cc):break;case _0x1e9848(0x6dd):case _0x1e9848(0x4a6):default:_0x122e51+=_0x7e4ecd[_0x1e9848(0x417)]['map']((_0x3a02d8,_0xcbdec5)=>'\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20id=\x22q'+_0x1ce4be+'_opt'+_0xcbdec5+_0x1e9848(0x412)+_0x1ce4be+'\x22\x20value=\x22'+_0xcbdec5+_0x1e9848(0x5c9)+_0x1ce4be+'_opt'+_0xcbdec5+'\x22>'+_0x3a02d8+_0x1e9848(0x5e7))[_0x1e9848(0x589)]('');break;}_0x122e51+=_0x1e9848(0x399);}),_0x122e51+=_0x1c9a9c(0x1e9),_0x122e51+=_0x1c9a9c(0x45b),studentQuizArea[_0x1c9a9c(0x1da)]=_0x122e51;if(currentMode===_0x1c9a9c(0x18b)){const _0x5473b2=document[_0x1c9a9c(0x7d2)](_0x1c9a9c(0x818));if(_0x5473b2)_0x5473b2[_0x1c9a9c(0x37f)]('click',cancelAdminTest);}document[_0x1c9a9c(0x7d2)](_0x1c9a9c(0x319))[_0x1c9a9c(0x37f)](_0x1c9a9c(0x4b0),handleSubmitQuiz);if(window[_0x1c9a9c(0x6a7)])window[_0x1c9a9c(0x6a7)]['typesetPromise']([studentQuizArea]);}async function handleSubmitQuiz(_0x5de029){const _0x4b331d=_0x52d111;if(_0x5de029)_0x5de029['preventDefault']();if(quizTimerInterval)clearInterval(quizTimerInterval);const _0x2a3842=document[_0x4b331d(0x7d2)](_0x4b331d(0x319));if(!_0x2a3842)return;const _0x15498b=_0x2a3842[_0x4b331d(0x7df)](_0x4b331d(0x644)),_0xbfcee3=currentDisplayedQuiz[_0x4b331d(0x194)][_0x4b331d(0x566)](_0x3afe84=>_0x3afe84['questionType']==='short_answer');_0x15498b&&(_0x15498b[_0x4b331d(0x681)]=!![],_0xbfcee3?_0x15498b[_0x4b331d(0x1da)]=_0x4b331d(0x40a):_0x15498b['innerHTML']=_0x4b331d(0x603));const _0x347c3a=new FormData(_0x2a3842),_0x538f42=currentDisplayedQuiz[_0x4b331d(0x194)]['map']((_0x35ed4a,_0x3b9528)=>{const _0xf9dfce=_0x4b331d,_0x5c6e74=_0x35ed4a[_0xf9dfce(0x2e1)]||currentDisplayedQuiz[_0xf9dfce(0x3a7)],_0x50377a=_0x347c3a['get'](_0xf9dfce(0x34b)+_0x3b9528);if(_0x50377a!==null&&_0x50377a!==undefined){if(_0x5c6e74==='multiple_choice'||_0x5c6e74===_0xf9dfce(0x6dd))return parseInt(_0x50377a);return _0x50377a;}return null;}),_0x56d43c=currentQuizData['id'],_0x5abee8=doc(db,_0x4b331d(0x5fb)+appId+_0x4b331d(0x378)+_0x56d43c+_0x4b331d(0x55e),currentStudentName),_0x4670c9=await getDoc(_0x5abee8),_0x1e29d2=_0x4670c9['exists']()?_0x4670c9[_0x4b331d(0x406)]():{},_0x9d01af=_0x1e29d2[_0x4b331d(0x59e)]||[];await processAndSubmitAnswers(_0x538f42,_0x9d01af);}async function gradeShortAnswerWithAI(_0x160220,_0x105a56){const _0x3938c4=_0x52d111;if(!_0x160220||!_0x105a56)return![];try{const _0x3a83fa=_0x3938c4(0x5f0)+_0x160220+_0x3938c4(0x55c)+_0x105a56+_0x3938c4(0x6ba),_0x2399ff={'contents':[{'role':_0x3938c4(0x19f),'parts':[{'text':_0x3a83fa}]}]},_0x194980=_0x3938c4(0x6f1),_0x576db6=_0x3938c4(0x1ca)+_0x194980,_0x16075b=await fetch(_0x576db6,{'method':_0x3938c4(0x616),'headers':{'Content-Type':_0x3938c4(0x349)},'body':JSON[_0x3938c4(0x806)](_0x2399ff)});if(!_0x16075b['ok'])throw new Error('API\x20call\x20failed');const _0xe084e0=await _0x16075b[_0x3938c4(0x537)](),_0x83b05e=_0xe084e0['candidates'][0x0][_0x3938c4(0x231)][_0x3938c4(0x662)][0x0][_0x3938c4(0x45e)][_0x3938c4(0x74c)]()[_0x3938c4(0x36c)]();return _0x83b05e===_0x3938c4(0x57a);}catch(_0x1d1e5a){return console[_0x3938c4(0x403)](_0x3938c4(0x677),_0x1d1e5a),![];}}async function processAndSubmitAnswers(_0x312d44,_0x49d4ed){const _0x122b96=_0x52d111;let _0xd1acc0=0x0,_0x474538=0x0,_0x130988=[];const _0x3186e8=[],_0x1a65d=currentDisplayedQuiz[_0x122b96(0x194)]['length'];let _0x2821e2=0x0;const _0x2e030b=currentDisplayedQuiz[_0x122b96(0x194)];for(let _0x733067=0x0;_0x733067<_0x2e030b['length'];_0x733067++){const _0x5a65b3=_0x2e030b[_0x733067],_0x587915=_0x312d44[_0x733067],_0x302350=_0x5a65b3['questionType']||currentDisplayedQuiz[_0x122b96(0x3a7)];let _0x2c9357=![];if(_0x587915!==null&&_0x587915!=='')switch(_0x302350){case'matching_item':_0x2c9357=_0x587915===_0x5a65b3[_0x122b96(0x1bd)];break;case _0x122b96(0x560):const _0x108e12=_0x587915===!![]||_0x587915===_0x122b96(0x57a);_0x2c9357=_0x108e12===_0x5a65b3[_0x122b96(0x380)];break;case _0x122b96(0x6dd):case _0x122b96(0x4a6):default:_0x2c9357=Number(_0x587915)===_0x5a65b3['correctAnswerIndex'];break;case _0x122b96(0x605):_0x2c9357=await gradeShortAnswer(_0x587915,_0x5a65b3);break;}_0x2c9357?(_0xd1acc0++,_0x2821e2++,_0x2821e2===0x3&&(_0x130988[_0x122b96(0x5d6)](BADGES[_0x122b96(0xc0)]['id']),_0x2821e2=0x0)):_0x2821e2=0x0;let _0x174022=null;_0x5a65b3['options']&&_0x587915!==null&&(_0x174022=_0x5a65b3[_0x122b96(0x417)][_0x587915]),_0x3186e8[_0x122b96(0x5d6)]({'answer':_0x587915,'answerText':_0x174022,'isCorrect':_0x2c9357,'originalQuestionText':_0x5a65b3[_0x122b96(0x4c1)]||_0x5a65b3['questionText']});}_0x474538=_0xd1acc0*0xa;_0xd1acc0===_0x1a65d&&_0x1a65d>0x0&&!currentDisplayedQuiz[_0x122b96(0x4b7)]&&(_0x474538+=0x32,_0x130988[_0x122b96(0x5d6)](BADGES[_0x122b96(0x712)]['id']));const _0x391526=currentDisplayedQuiz[_0x122b96(0x640)]?.[_0x122b96(0x3ce)]??Math[_0x122b96(0x615)](_0x1a65d/0x2),_0x2ec62b=currentDisplayedQuiz[_0x122b96(0x640)]?.[_0x122b96(0x686)];if(_0x2ec62b===_0x122b96(0x1e4)&&quizStartTime){const _0x40ce8b=(new Date()-quizStartTime)/0x3e8,_0x298715=currentDisplayedQuiz[_0x122b96(0x640)][_0x122b96(0x3e9)]*0x3c;_0xd1acc0>=_0x391526&&_0x40ce8b<_0x298715/0x2&&(_0x474538+=0x14,_0x130988['push'](BADGES['QUICK_THINKER']['id']));}_0x49d4ed[_0x122b96(0x426)]===0x0&&_0xd1acc0===_0x1a65d&&_0x1a65d>0x0&&_0x130988[_0x122b96(0x5d6)](BADGES['FIRST_TRY_ACE']['id']);if(_0x49d4ed[_0x122b96(0x426)]>0x0){const _0x2614f9=_0x49d4ed[0x0][_0x122b96(0x743)];if(_0x2614f9<_0x391526&&_0xd1acc0>=_0x391526){const _0x34f65f=_0x49d4ed['some'](_0x36b02f=>(_0x36b02f[_0x122b96(0x21c)]||[])[_0x122b96(0x3ff)](BADGES['COMEBACK_KING']['id']));!_0x34f65f&&_0x130988[_0x122b96(0x5d6)](BADGES[_0x122b96(0x635)]['id']);}}_0x49d4ed[_0x122b96(0x426)]===0x4&&_0x130988[_0x122b96(0x5d6)](BADGES['PERSEVERANCE']['id']);const _0x5221f8=currentDisplayedQuiz[_0x122b96(0x640)][_0x122b96(0x356)];if(currentMode===_0x122b96(0x18b)){handleResultDisplay(_0x5221f8,_0xd1acc0,_0x474538,_0x130988,_0x3186e8,_0x1a65d);return;}const _0x421600=currentQuizData['id'],_0x4bd874=doc(db,_0x122b96(0x5fb)+appId+'/public/data/quizzes/'+_0x421600+'/submissions',currentStudentName);try{const _0x240b2e=[..._0x49d4ed],_0x30266d={'score':_0xd1acc0,'points':_0x474538,'badges':_0x130988,'submittedAt':new Date()[_0x122b96(0x663)](),'answers':_0x3186e8};_0x240b2e[_0x122b96(0x5d6)](_0x30266d);const _0x36a287=_0x240b2e[0x0]['score'],_0x55cc99=Math[_0x122b96(0x104)](..._0x240b2e['map'](_0x471dda=>_0x471dda[_0x122b96(0x743)])),_0x5dee47=_0xd1acc0,_0x3f3c4c=_0x30266d[_0x122b96(0x487)];await setDoc(_0x4bd874,{'studentName':currentStudentName,'totalQuestions':_0x1a65d,'attempts':_0x240b2e,'firstScore':_0x36a287,'bestScore':_0x55cc99,'latestScore':_0x5dee47,'points':_0x474538,'latestSubmittedAt':_0x3f3c4c}),await updateStudentProfile(currentQuizData[_0x122b96(0x5d8)],currentStudentName),handleResultDisplay(_0x5221f8,_0xd1acc0,_0x474538,_0x130988,_0x3186e8,_0x1a65d);}catch(_0x3d99eb){console[_0x122b96(0x403)](_0x122b96(0xdc),_0x3d99eb),showMessage(_0x122b96(0x221));}}async function updateStudentProfile(_0x25c7e8,_0x484de5){const _0x2cc694=_0x52d111,_0x2683b4=doc(db,'artifacts/'+appId+'/public/data/projects/'+_0x25c7e8+_0x2cc694(0x5d1),_0x484de5);try{const _0x5c7a8f=query(collection(db,_0x2cc694(0x5fb)+appId+'/public/data/quizzes'),where(_0x2cc694(0x5d8),'==',_0x25c7e8)),_0xf1e947=await getDocs(_0x5c7a8f),_0x4c8f36=new Map(_0xf1e947[_0x2cc694(0x23a)]['map'](_0x5849ab=>[_0x5849ab['id'],_0x5849ab[_0x2cc694(0x406)]()])),_0x37fca5=Array[_0x2cc694(0x3c0)](_0x4c8f36[_0x2cc694(0x35e)]());await runTransaction(db,async _0x3870f4=>{const _0xee2504=_0x2cc694;let _0x369cdb=0x0;const _0x3f03a6={};let _0x4c82a1=!![],_0x28d359=0x0,_0x254bc4=0x0;for(const _0x13b64f of _0x37fca5){const _0x30040c=_0x4c8f36[_0xee2504(0x23b)](_0x13b64f),_0x47f272=doc(db,'artifacts/'+appId+_0xee2504(0x378)+_0x13b64f+'/submissions',_0x484de5),_0x59f059=await _0x3870f4[_0xee2504(0x23b)](_0x47f272);if(_0x59f059[_0xee2504(0x237)]()){const _0x2ab417=_0x59f059[_0xee2504(0x406)](),_0x56d6b5=_0x2ab417[_0xee2504(0x59e)]||[];if(_0x56d6b5[_0xee2504(0x426)]>0x0){const _0x17797e=_0x56d6b5[_0xee2504(0x2ab)]((_0x23a725,_0x4e8ccc)=>{const _0x2374d9=_0xee2504;if(_0x4e8ccc['score']>_0x23a725['score'])return _0x4e8ccc;if(_0x4e8ccc[_0x2374d9(0x743)]===_0x23a725[_0x2374d9(0x743)])return(_0x4e8ccc['points']||0x0)>(_0x23a725[_0x2374d9(0x239)]||0x0)?_0x4e8ccc:_0x23a725;return _0x23a725;},{'score':-0x1,'points':-0x1});_0x17797e['score']>-0x1&&(_0x369cdb+=_0x17797e['points']||0x0,(_0x17797e['badges']||[])[_0xee2504(0x651)](_0x271d3d=>{_0x3f03a6[_0x271d3d]=(_0x3f03a6[_0x271d3d]||0x0)+0x1;}));}}if(_0x30040c[_0xee2504(0xf7)]!=='แบบทดสอบซ่อมเสริม'){_0x254bc4++;if(_0x59f059[_0xee2504(0x237)]()){_0x28d359++;const _0x334ccc=_0x59f059[_0xee2504(0x406)]();_0x334ccc[_0xee2504(0x10b)]!==_0x334ccc[_0xee2504(0x452)]&&(_0x4c82a1=![]);}else _0x4c82a1=![];}}_0x254bc4>0x0&&_0x28d359===_0x254bc4&&_0x4c82a1?_0x3f03a6[_0xee2504(0x40e)]=0x1:_0x3f03a6['specialist']=0x0,_0x3870f4[_0xee2504(0x591)](_0x2683b4,{'studentName':_0x484de5,'totalPoints':_0x369cdb,'unlockedBadges':Object[_0xee2504(0x35e)](_0x3f03a6)['filter'](_0x4120f3=>_0x3f03a6[_0x4120f3]>0x0),'badgesCount':_0x3f03a6},{'merge':!![]});});}catch(_0x3fc352){console[_0x2cc694(0x403)]('Leaderboard\x20update\x20transaction\x20failed:\x20',_0x3fc352),showMessage(_0x2cc694(0x4e7));}}function startAdminTest(){const _0x19587c=_0x52d111;if(!currentQuizData){showMessage(_0x19587c(0x368));return;}let _0xc6d4d1=JSON[_0x19587c(0x739)](JSON[_0x19587c(0x806)](currentQuizData));currentMode='admin-testing',currentStudentName='ผู้ควบคุม\x20(ทดสอบ)',adminView[_0x19587c(0x21b)][_0x19587c(0x4df)](_0x19587c(0x79f)),studentView[_0x19587c(0x21b)][_0x19587c(0x218)](_0x19587c(0x79f)),studentInitialView['classList']['add']('hidden'),studentNameSelectionView[_0x19587c(0x21b)][_0x19587c(0x4df)](_0x19587c(0x79f)),studentResultArea['classList'][_0x19587c(0x4df)]('hidden'),studentQuizArea[_0x19587c(0x21b)][_0x19587c(0x218)]('hidden'),quizStartTime=new Date(),displayQuizForStudent(_0xc6d4d1);}function handleResultDisplay(_0x54d866,_0x3ac484,_0x4050e2,_0x3f066e,_0x4d6044,_0x5b5c39){const _0x33ca9f=_0x52d111,_0x497ccb=currentDisplayedQuiz[_0x33ca9f(0x640)]?.['passingScore']??Math['floor'](_0x5b5c39/0x2),_0x4ad15d=currentDisplayedQuiz['settings']?.[_0x33ca9f(0x619)]??![];if(_0x4ad15d&&_0x3ac484<_0x497ccb){startAdaptiveFlow(_0x4d6044,_0x3ac484,_0x5b5c39);return;}switch(_0x54d866){case _0x33ca9f(0x32d):displayResultsWithAnswers(_0x3ac484,_0x4050e2,_0x3f066e,_0x4d6044,_0x5b5c39);break;case'show_results_only':displayResultsScoreOnly(_0x3ac484,_0x4050e2,_0x3f066e,_0x5b5c39);break;case _0x33ca9f(0x767):displayPassFailOnly(_0x3ac484,_0x5b5c39);break;case'manual_release':default:displaySubmissionConfirmation();break;}}async function startAdaptiveFlow(_0x557467,_0x53901c,_0x4f9cbc){const _0x1a00d3=_0x52d111,_0x9497dd=_0x557467['map']((_0x55fa1a,_0x3fa1fa)=>({..._0x55fa1a,'originalQuestion':currentDisplayedQuiz['questions'][_0x3fa1fa]}))[_0x1a00d3(0x48e)](_0x51a07d=>!_0x51a07d[_0x1a00d3(0x478)]&&_0x51a07d['originalQuestion'][_0x1a00d3(0x7bd)])[_0x1a00d3(0x2ba)](_0x4e7de8=>'-\x20'+_0x4e7de8[_0x1a00d3(0x506)][_0x1a00d3(0x7bd)])[_0x1a00d3(0x589)]('\x0a');if(!_0x9497dd){displayResultsScoreOnly(_0x53901c,0x0,[],_0x4f9cbc);return;}studentQuizArea[_0x1a00d3(0x21b)][_0x1a00d3(0x4df)]('hidden'),studentReadingArea[_0x1a00d3(0x21b)][_0x1a00d3(0x218)](_0x1a00d3(0x79f)),studentReadingArea['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-center\x20p-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loader\x20mx-auto\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-4\x20text-gray-600\x22>AI\x20กำลังวิเคราะห์จุดอ่อนและสร้างเนื้อหาทบทวนให้คุณโดยเฉพาะ...</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';const _0x94df88=_0x1a00d3(0x4b8)+currentDisplayedQuiz[_0x1a00d3(0xf7)]+_0x1a00d3(0x436)+_0x9497dd+_0x1a00d3(0x50c),_0x123daa={'type':'OBJECT','properties':{'remedialContent':{'type':_0x1a00d3(0x12e)}},'required':[_0x1a00d3(0x3a6)]};try{const _0x1722e1=await callAnalysisApi(_0x94df88,_0x123daa),_0x35f2eb=_0x1722e1[_0x1a00d3(0x3a6)];studentReadingArea[_0x1a00d3(0x1da)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22p-6\x20bg-amber-50\x20border-l-4\x20border-amber-400\x20rounded-r-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20text-amber-800\x22>ทบทวนก่อนไปต่อนะ!</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mt-2\x20text-gray-700\x22>'+_0x35f2eb['replace'](/\n/g,_0x1a00d3(0x54f))+_0x1a00d3(0x30c),document['getElementById'](_0x1a00d3(0x744))[_0x1a00d3(0x37f)](_0x1a00d3(0x155),()=>generateRemedialQuiz(_0x9497dd));}catch(_0x2b61b3){console[_0x1a00d3(0x403)](_0x1a00d3(0x226),_0x2b61b3),showMessage('เกิดข้อผิดพลาดในการสร้างเนื้อหาทบทวน'),displayResultsScoreOnly(_0x53901c,0x0,[],_0x4f9cbc);}}async function generateRemedialQuiz(_0x4c769b){const _0x4bd0d9=_0x52d111;studentReadingArea[_0x4bd0d9(0x1da)]=_0x4bd0d9(0x643);const _0x2d7594='\x0a\x20\x20\x20\x20\x20\x20\x20\x20จากหัวข้อเหล่านี้ที่นักเรียนยังไม่เข้าใจ:\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4c769b+_0x4bd0d9(0x128)+simpleMathPrompt+_0x4bd0d9(0x358),_0x184342={'type':_0x4bd0d9(0x203),'properties':{'questionText':{'type':_0x4bd0d9(0x12e)},'options':{'type':_0x4bd0d9(0x331),'items':{'type':_0x4bd0d9(0x12e)}},'correctAnswerIndex':{'type':_0x4bd0d9(0x16b)},'explanation':{'type':_0x4bd0d9(0x12e)}},'required':[_0x4bd0d9(0x421),_0x4bd0d9(0x417),'correctAnswerIndex','explanation']},_0x25dca3={'type':_0x4bd0d9(0x203),'properties':{'topic':{'type':_0x4bd0d9(0x12e)},'questions':{'type':_0x4bd0d9(0x331),'items':_0x184342}},'required':['topic',_0x4bd0d9(0x194)]};try{const _0x43d584=await callAnalysisApi(_0x2d7594,_0x25dca3);_0x43d584[_0x4bd0d9(0x4b7)]=!![],studentReadingArea[_0x4bd0d9(0x21b)][_0x4bd0d9(0x4df)]('hidden');const _0x4fb8e3={...currentDisplayedQuiz['settings'],'isAdaptive':![],'resultsDisplay':_0x4bd0d9(0x32d)};_0x43d584[_0x4bd0d9(0x640)]=_0x4fb8e3,displayQuizForStudent(_0x43d584);}catch(_0x3b8ae9){console[_0x4bd0d9(0x403)](_0x4bd0d9(0x10a),_0x3b8ae9),showMessage(_0x4bd0d9(0x230)),showView(_0x4bd0d9(0xcb));}}function displayPassFailOnly(_0x599a1c,_0x21c1d3){const _0x341fdf=_0x52d111,_0x503d54=currentDisplayedQuiz[_0x341fdf(0x640)]?.[_0x341fdf(0x3ce)]??-0x1,_0x3c7604=currentDisplayedQuiz[_0x341fdf(0x4b7)]===!![];let _0x546d27='';if(_0x3c7604||_0x503d54!==-0x1){let _0x505c0c;_0x3c7604?_0x505c0c=_0x599a1c===_0x21c1d3:_0x505c0c=_0x599a1c>=_0x503d54;const _0x175a44=_0x505c0c?'bg-green-100\x20text-green-800':'bg-red-100\x20text-red-800',_0x9b01d8=_0x505c0c?_0x341fdf(0x439):_0x341fdf(0x5e8);_0x546d27=_0x341fdf(0x4db)+_0x175a44+'\x22>'+_0x9b01d8+_0x341fdf(0xbd);}else _0x546d27=_0x341fdf(0x61e);let _0x2d20fd=_0x341fdf(0x689)+currentStudentName+_0x341fdf(0x71d)+_0x546d27+_0x341fdf(0x2a4);studentResultArea[_0x341fdf(0x1da)]=_0x2d20fd,studentResultArea[_0x341fdf(0x21b)][_0x341fdf(0x218)](_0x341fdf(0x79f)),studentQuizArea['classList'][_0x341fdf(0x4df)]('hidden');const _0x50dd4a=_0x341fdf(0x78e),_0x3caa27=currentMode===_0x341fdf(0x18b),_0x440ae5=_0x3caa27?_0x341fdf(0x58c):_0x341fdf(0xd5),_0x522dda=_0x341fdf(0x405)+_0x50dd4a+_0x341fdf(0x235)+_0x440ae5+_0x341fdf(0x7b9);studentResultArea[_0x341fdf(0x2f0)](_0x341fdf(0x456),_0x522dda),document[_0x341fdf(0x7d2)](_0x50dd4a)['addEventListener'](_0x341fdf(0x155),()=>{const _0x3c0a8f=_0x341fdf;_0x3caa27?(currentMode=_0x3c0a8f(0x7ce),studentView[_0x3c0a8f(0x21b)][_0x3c0a8f(0x4df)]('hidden'),adminView[_0x3c0a8f(0x21b)]['remove'](_0x3c0a8f(0x79f)),showView(_0x3c0a8f(0x719))):(showView(_0x3c0a8f(0xcb)),document[_0x3c0a8f(0x7d2)]('quiz-id-input')['value']='');});}function cancelAdminTest(){const _0x4e0e1c=_0x52d111;if(quizTimerInterval)clearInterval(quizTimerInterval);if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);currentMode='admin',studentView[_0x4e0e1c(0x21b)][_0x4e0e1c(0x4df)]('hidden'),adminView[_0x4e0e1c(0x21b)]['remove']('hidden'),showView('project-detail');}function setupResultScreenBackButton(){const _0x83e3e1=_0x52d111,_0x4d4b3b=_0x83e3e1(0x78e),_0x42aa0a=currentMode===_0x83e3e1(0x18b),_0x16cf55=_0x42aa0a?_0x83e3e1(0x58c):'<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก',_0x12dcf1=_0x83e3e1(0x3c6)+_0x4d4b3b+_0x83e3e1(0x4f6)+_0x16cf55+_0x83e3e1(0x747);studentResultArea['insertAdjacentHTML']('beforeend',_0x12dcf1),studentResultArea[_0x83e3e1(0x7df)]('#view-rankings-btn')[_0x83e3e1(0x37f)](_0x83e3e1(0x155),handleShowStudentRankings),document[_0x83e3e1(0x7d2)](_0x4d4b3b)[_0x83e3e1(0x37f)](_0x83e3e1(0x155),()=>{const _0x7d0ff=_0x83e3e1;_0x42aa0a?(currentMode=_0x7d0ff(0x7ce),studentView[_0x7d0ff(0x21b)]['add'](_0x7d0ff(0x79f)),adminView[_0x7d0ff(0x21b)][_0x7d0ff(0x218)](_0x7d0ff(0x79f)),showView(_0x7d0ff(0x719))):(showView('student'),document[_0x7d0ff(0x7d2)](_0x7d0ff(0x5c2))[_0x7d0ff(0x796)]='');});}function displayResultsWithAnswers(_0x5490de,_0x531443,_0x1c0ac3,_0x425554,_0x4b9484){const _0x460167=_0x52d111,_0x415db5=_0x4b9484>0x0?_0x5490de/_0x4b9484*0x64:0x0,_0x41db6c=currentDisplayedQuiz[_0x460167(0x640)]?.[_0x460167(0x3ce)]??-0x1,_0x460219=currentDisplayedQuiz[_0x460167(0x4b7)]===!![];let _0x187c00='';if(_0x460219||_0x41db6c!==-0x1){let _0x373365=_0x460219?_0x5490de===_0x4b9484:_0x5490de>=_0x41db6c;const _0x11d9b4=_0x373365?_0x460167(0x6ca):_0x460167(0x618),_0x7b4063=_0x373365?_0x460167(0x439):_0x460167(0x5e8);_0x187c00=_0x460167(0x293)+_0x11d9b4+'\x22>'+_0x7b4063+_0x460167(0x193);}let _0x26f52c=_0x460167(0x287)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-purple-700\x20mb-2\x22>ผลการทดสอบ</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-4xl\x20font-bold\x20my-2\x22>'+_0x5490de+'\x20<span\x20class=\x22text-xl\x20font-normal\x20text-gray-600\x22>/\x20'+_0x4b9484+_0x460167(0x4af)+_0x187c00+_0x460167(0x4c0)+_0x531443+_0x460167(0x1e6)+_0x415db5['toFixed'](0x0)+_0x460167(0x32c);currentDisplayedQuiz['questions'][_0x460167(0x651)]((_0xede50d,_0x2eada0)=>{const _0x11378d=_0x460167,_0x1dce9c=_0x425554[_0x2eada0],_0x48c262=_0x1dce9c[_0x11378d(0x693)],_0x21e33f=_0x1dce9c[_0x11378d(0x478)],_0x1ebfe1=_0xede50d[_0x11378d(0x2e1)]||currentDisplayedQuiz[_0x11378d(0x3a7)];_0x26f52c+=_0x11378d(0x5db)+(_0x21e33f?_0x11378d(0x621):_0x11378d(0x36b))+_0x11378d(0x64e)+(_0x2eada0+0x1)+'.\x20'+(_0xede50d[_0x11378d(0x4c1)]||_0xede50d['questionText'])+_0x11378d(0x18a);switch(_0x1ebfe1){case'matching_item':const _0x51512b=_0x48c262||_0x11378d(0x3a5),_0x47d0c9=_0xede50d[_0x11378d(0x1bd)];_0x26f52c+=_0x11378d(0x42d)+(!_0x21e33f?_0x11378d(0x7ed):'')+'\x22>'+_0x51512b+'</span></p>';!_0x21e33f&&(_0x26f52c+=_0x11378d(0x171)+_0x47d0c9+_0x11378d(0x193));break;case _0x11378d(0x605):_0x26f52c+=_0x11378d(0x3f7)+(_0x48c262||_0x11378d(0x3a5))+_0x11378d(0x193),_0x26f52c+=_0x11378d(0x2d8)+_0xede50d['idealAnswer']+_0x11378d(0x193);break;case _0x11378d(0x560):_0x26f52c+=_0x11378d(0x38d)+(_0xede50d[_0x11378d(0x380)]===!![]?_0x11378d(0x7d5):'')+'\x20'+(_0x48c262===_0x11378d(0x57a)&&!_0x21e33f?_0x11378d(0x7ed):'')+_0x11378d(0x646),_0x26f52c+=_0x11378d(0x38d)+(_0xede50d[_0x11378d(0x380)]===![]?_0x11378d(0x7d5):'')+'\x20'+(_0x48c262===_0x11378d(0x691)&&!_0x21e33f?_0x11378d(0x7ed):'')+_0x11378d(0x5ce);break;case _0x11378d(0x6dd):case _0x11378d(0x4a6):default:_0x26f52c+=_0xede50d[_0x11378d(0x417)][_0x11378d(0x2ba)]((_0x380d0d,_0x38af5e)=>{const _0x367a14=_0x11378d;let _0x1410b0='',_0x2fa042='';if(_0x38af5e===_0xede50d[_0x367a14(0x4b4)])_0x1410b0='font-bold\x20text-green-700',_0x2fa042=_0x367a14(0x6a0);else _0x38af5e===_0x48c262&&(_0x1410b0=_0x367a14(0x5c3),_0x2fa042=_0x367a14(0x531));return _0x367a14(0x775)+_0x1410b0+'\x22>'+_0x2fa042+_0x380d0d+_0x367a14(0x318);})['join']('');break;}_0x26f52c+=_0x11378d(0x4cd)+(_0xede50d['explanation']||_0x11378d(0x1c8))+_0x11378d(0x7fe);if(!_0x21e33f){const _0x1d5363=_0xede50d['stem']||_0xede50d[_0x11378d(0x421)];_0x26f52c+=_0x11378d(0x4a9)+escape(_0x1d5363)+_0x11378d(0x369);}_0x26f52c+=_0x11378d(0x683);}),studentResultArea[_0x460167(0x1da)]=_0x26f52c,renderEarnedBadges(_0x1c0ac3,'earned-badges-container'),studentResultArea[_0x460167(0x21b)][_0x460167(0x218)](_0x460167(0x79f)),studentQuizArea['classList'][_0x460167(0x4df)](_0x460167(0x79f)),setupResultScreenBackButton();if(window[_0x460167(0x6a7)])window[_0x460167(0x6a7)][_0x460167(0x672)]([studentResultArea]);}function displayResultsScoreOnly(_0x341467,_0x55f0d0,_0x12314f,_0x23d13c){const _0x2e7f4f=_0x52d111,_0x5d731d=_0x23d13c>0x0?_0x341467/_0x23d13c*0x64:0x0,_0x17d7db=currentDisplayedQuiz[_0x2e7f4f(0x640)]?.[_0x2e7f4f(0x3ce)]??-0x1,_0x299fff=currentDisplayedQuiz['isRemedial']===!![];let _0x50d606='';if(_0x299fff||_0x17d7db!==-0x1){let _0x10dd2a;_0x299fff?_0x10dd2a=_0x341467===_0x23d13c:_0x10dd2a=_0x341467>=_0x17d7db;const _0x450f84=_0x10dd2a?_0x2e7f4f(0x6ca):'bg-red-100\x20text-red-800',_0x31b131=_0x10dd2a?_0x2e7f4f(0x439):_0x2e7f4f(0x5e8);_0x50d606=_0x2e7f4f(0x293)+_0x450f84+'\x22>'+_0x31b131+_0x2e7f4f(0x193);}let _0x54bfe7=_0x2e7f4f(0x3bd)+currentStudentName+_0x2e7f4f(0x58e)+_0x341467+_0x2e7f4f(0x544)+_0x23d13c+_0x2e7f4f(0x4af)+_0x50d606+_0x2e7f4f(0x4c0)+_0x55f0d0+_0x2e7f4f(0x22c)+_0x5d731d[_0x2e7f4f(0x122)](0x0)+'%</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22earned-badges-container\x22\x20class=\x22mt-4\x20flex\x20justify-center\x20gap-4\x20flex-wrap\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x54bfe7,renderEarnedBadges(_0x12314f,_0x2e7f4f(0x44e)),studentResultArea['classList']['remove']('hidden'),studentQuizArea[_0x2e7f4f(0x21b)]['add'](_0x2e7f4f(0x79f)),setupResultScreenBackButton();}function displaySubmissionConfirmation(){const _0x20dc63=_0x52d111;let _0x3486db=_0x20dc63(0x53a)+currentStudentName+'</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-2xl\x20font-bold\x20text-green-800\x20mb-2\x22>ส่งคำตอบเรียบร้อยแล้ว</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-gray-600\x22>ผู้ควบคุมจะแจ้งผลคะแนนให้ทราบภายหลัง</p>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-6\x20pt-6\x20border-t\x20flex\x20justify-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22back-to-home-manual-release\x22\x20class=\x22bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20font-semibold\x20hover:bg-blue-700\x20flex\x20items-center\x20justify-center\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-home\x20mr-2\x22></i>กลับไปหน้าแรก\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';studentResultArea['innerHTML']=_0x3486db,studentResultArea[_0x20dc63(0x21b)][_0x20dc63(0x218)]('hidden'),studentQuizArea[_0x20dc63(0x21b)][_0x20dc63(0x4df)](_0x20dc63(0x79f)),document['getElementById'](_0x20dc63(0x631))[_0x20dc63(0x37f)]('click',()=>{const _0x49d88c=_0x20dc63;showView(_0x49d88c(0xcb)),document[_0x49d88c(0x7d2)](_0x49d88c(0x5c2))[_0x49d88c(0x796)]='';});}function renderEarnedBadges(_0x58b985,_0x41bdff){const _0x1ef9be=_0x52d111,_0x656968=document[_0x1ef9be(0x7d2)](_0x41bdff);if(!_0x656968||!_0x58b985||_0x58b985[_0x1ef9be(0x426)]===0x0)return;let _0x4abaff='';_0x58b985[_0x1ef9be(0x651)]((_0x2a2459,_0x2365d8)=>{const _0x7e861a=_0x1ef9be,_0x369c90=Object[_0x7e861a(0x19c)](BADGES)[_0x7e861a(0x314)](_0x340cc5=>_0x340cc5['id']===_0x2a2459);_0x369c90&&(_0x4abaff+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge-icon\x20text-center\x20p-2\x20bg-white\x20rounded-lg\x20shadow\x22\x20style=\x22animation-delay:\x20'+_0x2365d8*0.2+_0x7e861a(0x68a)+_0x369c90['description']+_0x7e861a(0x43f)+_0x369c90[_0x7e861a(0x694)]+_0x7e861a(0x1d0)+_0x369c90[_0x7e861a(0x121)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');}),_0x656968[_0x1ef9be(0x1da)]=_0x4abaff;}function startPresentation(_0x26d65a){const _0x269e26=_0x52d111;currentQuizData=getShuffledQuiz(_0x26d65a),currentPresentationSlide=0x0,presentationModal[_0x269e26(0x3a0)][_0x269e26(0x3e1)]='flex',renderPresentationSlide(currentPresentationSlide);}function closePresentation(){const _0x3d387a=_0x52d111;document['fullscreenElement']&&document[_0x3d387a(0x500)](),presentationModal[_0x3d387a(0x3a0)]['display']='none';}function renderPresentationSlide(_0x86057f){const _0x59bb85=_0x52d111,_0x2144b7=document['getElementById'](_0x59bb85(0x7de));if(!currentQuizData||!currentQuizData[_0x59bb85(0x194)]||!currentQuizData['questions'][_0x86057f]){_0x2144b7['innerHTML']=_0x59bb85(0x4f8);return;}const _0x50c2e1=currentQuizData[_0x59bb85(0x194)][_0x86057f],_0x4814a2=_0x50c2e1['questionType']||currentQuizData[_0x59bb85(0x3a7)];_0x2144b7[_0x59bb85(0x1da)]='';let _0x495f13=_0x59bb85(0x450)+(_0x50c2e1[_0x59bb85(0x2ee)]?'<div\x20class=\x22my-4\x20flex\x20justify-center\x22>'+_0x50c2e1['imageCode']+_0x59bb85(0x318):'')+_0x59bb85(0x5ba)+(_0x86057f+0x1)+'.\x20'+(_0x50c2e1[_0x59bb85(0x4c1)]||_0x50c2e1['questionText'])+_0x59bb85(0x200);switch(_0x4814a2){case _0x59bb85(0x7cc):_0x495f13+=_0x50c2e1[_0x59bb85(0x1af)]['map'](_0x162bb1=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22presentation-option\x20p-4\x20md:p-6\x20rounded-lg\x20text-lg\x20md:text-2xl\x20border-4\x20border-gray-300\x20hover:bg-indigo-100\x20transition-all\x20leading-normal\x20flex\x20items-center\x20justify-center\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x162bb1+_0x59bb85(0x2e7))[_0x59bb85(0x589)]('');break;case _0x59bb85(0x560):_0x495f13+=_0x59bb85(0x266),_0x495f13+=_0x59bb85(0x43d);break;case _0x59bb85(0x77f):case _0x59bb85(0x605):_0x495f13+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22w-full\x20md:col-span-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22presentation-short-answer-input\x22\x20class=\x22w-full\x20p-4\x20text-2xl\x20border-2\x20border-gray-300\x20rounded-lg\x20bg-white\x20text-gray-800\x22\x20rows=\x222\x22\x20placeholder=\x22พิมพ์คำตอบที่นี่...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22check-presentation-answer-btn\x22\x20class=\x22mt-4\x20bg-blue-600\x20text-white\x20py-3\x20px-6\x20rounded-lg\x20text-xl\x20hover:bg-blue-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check\x22></i>\x20ตรวจคำตอบ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22presentation-ai-result\x22\x20class=\x22hidden\x20mt-4\x20text-2xl\x20font-bold\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x59bb85(0x6dd):case _0x59bb85(0x4a6):default:_0x495f13+=_0x50c2e1[_0x59bb85(0x417)]['map']((_0x1d7603,_0x451fba)=>_0x59bb85(0x5b9)+_0x451fba+_0x59bb85(0x50b)+_0x1d7603+_0x59bb85(0x2e7))[_0x59bb85(0x589)]('');break;}_0x495f13+=_0x59bb85(0x7ac)+(_0x50c2e1['explanation']||_0x59bb85(0x1c8))+_0x59bb85(0x33a),_0x2144b7[_0x59bb85(0x1da)]=_0x495f13;if(window[_0x59bb85(0x6a7)])window[_0x59bb85(0x6a7)][_0x59bb85(0x672)]([_0x2144b7]);document[_0x59bb85(0x78c)]('.presentation-option')['forEach'](_0x214ad4=>{const _0x23ce1f=_0x59bb85;_0x214ad4[_0x23ce1f(0x37f)](_0x23ce1f(0x155),_0x251021=>revealAnswerForPresentation(_0x86057f,_0x251021[_0x23ce1f(0x70f)]));});const _0x35b387=document[_0x59bb85(0x7d2)]('check-presentation-answer-btn');_0x35b387&&_0x35b387[_0x59bb85(0x37f)](_0x59bb85(0x155),()=>checkShortAnswerForPresentation(_0x86057f)),document[_0x59bb85(0x7d2)]('slide-counter')[_0x59bb85(0x645)]=_0x59bb85(0x37a)+(_0x86057f+0x1)+'\x20/\x20'+currentQuizData[_0x59bb85(0x194)][_0x59bb85(0x426)],document[_0x59bb85(0x7d2)](_0x59bb85(0x669))[_0x59bb85(0x681)]=_0x86057f===0x0,document[_0x59bb85(0x7d2)](_0x59bb85(0x530))[_0x59bb85(0x681)]=_0x86057f===currentQuizData[_0x59bb85(0x194)][_0x59bb85(0x426)]-0x1;}async function checkShortAnswerForPresentation(_0x27d9b3){const _0x257870=_0x52d111,_0x1698b6=currentQuizData['questions'][_0x27d9b3],_0x304873=document[_0x257870(0x7d2)]('presentation-short-answer-input'),_0x5f32a0=document[_0x257870(0x7d2)](_0x257870(0x66f)),_0x595acc=document[_0x257870(0x7d2)]('presentation-ai-result'),_0x5cf005=document[_0x257870(0x7d2)]('presentation-explanation');if(!_0x304873||!_0x5f32a0||!_0x595acc||!_0x5cf005)return;const _0xd4e532=_0x304873[_0x257870(0x796)][_0x257870(0x74c)]();if(_0xd4e532==='')return;_0x5f32a0['disabled']=!![],_0x5f32a0[_0x257870(0x1da)]=_0x257870(0x1ee),_0x304873[_0x257870(0x681)]=!![];const _0x5bc529=await gradeShortAnswer(_0xd4e532,_0x1698b6);_0x5bc529?_0x595acc[_0x257870(0x1da)]=_0x257870(0x34d):_0x595acc[_0x257870(0x1da)]=_0x257870(0x782)+_0x1698b6[_0x257870(0x474)]+')',_0x595acc[_0x257870(0x21b)][_0x257870(0x218)](_0x257870(0x79f)),_0x5cf005[_0x257870(0x21b)][_0x257870(0x218)](_0x257870(0x79f)),_0x5f32a0[_0x257870(0x21b)][_0x257870(0x4df)](_0x257870(0x79f));}function revealAnswerForPresentation(_0x47b03b,_0x276dd4){const _0x487c1c=_0x52d111,_0x34556a=currentQuizData[_0x487c1c(0x194)][_0x47b03b],_0xf88685=_0x34556a[_0x487c1c(0x2e1)]||currentQuizData[_0x487c1c(0x3a7)];document['querySelectorAll'](_0x487c1c(0xdd))[_0x487c1c(0x651)](_0x57439a=>{const _0x349f97=_0x487c1c;_0x57439a[_0x349f97(0x681)]=!![],_0x57439a[_0x349f97(0x21b)]['remove'](_0x349f97(0x597));let _0x68d4c3=![];if(_0xf88685===_0x349f97(0x4a6)||_0xf88685===_0x349f97(0x6dd)){const _0xc8672f=parseInt(_0x57439a[_0x349f97(0x3c3)]['index']);_0x68d4c3=_0xc8672f===_0x34556a[_0x349f97(0x4b4)];}else{if(_0xf88685==='true_false'){const _0x6645d9=_0x57439a['dataset'][_0x349f97(0x693)]===_0x349f97(0x57a);_0x68d4c3=_0x6645d9===_0x34556a[_0x349f97(0x380)];}else _0xf88685==='matching_item'&&(_0x68d4c3=_0x57439a[_0x349f97(0x645)][_0x349f97(0x74c)]()===_0x34556a[_0x349f97(0x1bd)]);}_0x68d4c3?_0x57439a[_0x349f97(0x21b)][_0x349f97(0x4df)]('bg-green-500',_0x349f97(0x685),_0x349f97(0x5f6)):_0x57439a[_0x349f97(0x21b)][_0x349f97(0x4df)](_0x349f97(0x515));}),_0x276dd4[_0x487c1c(0x21b)][_0x487c1c(0x218)](_0x487c1c(0x515));let _0x2e2b5a=![];if(_0xf88685===_0x487c1c(0x4a6))_0x2e2b5a=parseInt(_0x276dd4[_0x487c1c(0x3c3)]['index'])===_0x34556a[_0x487c1c(0x4b4)];else{if(_0xf88685===_0x487c1c(0x560))_0x2e2b5a=_0x276dd4['dataset'][_0x487c1c(0x693)]==='true'===_0x34556a['correctAnswer'];else _0xf88685===_0x487c1c(0x7cc)&&(_0x2e2b5a=_0x276dd4[_0x487c1c(0x645)]['trim']()===_0x34556a[_0x487c1c(0x1bd)]);}!_0x2e2b5a&&_0x276dd4['classList'][_0x487c1c(0x4df)](_0x487c1c(0x252),_0x487c1c(0x685),_0x487c1c(0x5ec)),document[_0x487c1c(0x7d2)](_0x487c1c(0x3b0))[_0x487c1c(0x21b)][_0x487c1c(0x218)]('hidden');}function startWholeQuizTimer(_0x1ce4bc){const _0x45be87=_0x52d111,_0xdae60b=document[_0x45be87(0x7d2)]('timer-container');if(!_0xdae60b)return;const _0x385645=Date[_0x45be87(0x4ee)]()+_0x1ce4bc*0x3c*0x3e8;_0xdae60b['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-center\x20bg-gray-100\x20p-2\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-indigo-700\x22>เวลาที่เหลือ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22countdown-display\x22\x20class=\x22font-bold\x20text-lg\x20text-red-600\x22>--:--</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';const _0x18abaa=document[_0x45be87(0x7d2)](_0x45be87(0x2d1));quizTimerInterval=setInterval(()=>{const _0x44eba1=_0x45be87,_0x2871c0=_0x385645-Date[_0x44eba1(0x4ee)]();if(_0x2871c0<=0x0)clearInterval(quizTimerInterval),_0x18abaa[_0x44eba1(0x645)]=_0x44eba1(0x191),showMessage(_0x44eba1(0x59f)),handleSubmitQuiz(null);else{const _0x3c0c71=Math[_0x44eba1(0x615)](_0x2871c0/0x3e8/0x3c%0x3c)[_0x44eba1(0x275)]()[_0x44eba1(0x6eb)](0x2,'0'),_0x32346b=Math[_0x44eba1(0x615)](_0x2871c0/0x3e8%0x3c)[_0x44eba1(0x275)]()[_0x44eba1(0x6eb)](0x2,'0');_0x18abaa[_0x44eba1(0x645)]=_0x3c0c71+':'+_0x32346b;}},0x3e8);}function renderPerQuestionView(){const _0x44ca67=_0x52d111;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);const _0x11ae6d=currentDisplayedQuiz['questions'][currentQuestionIndex],_0x2ee1a4=_0x11ae6d[_0x44ca67(0x2e1)]||currentDisplayedQuiz['quizType'];let _0x4e98f9=_0x44ca67(0x1d5)+(currentQuestionIndex+0x1)+_0x44ca67(0x3be)+currentDisplayedQuiz[_0x44ca67(0x194)][_0x44ca67(0x426)]+_0x44ca67(0x47d)+(currentMode==='admin-testing'?_0x44ca67(0x5eb):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20mb-2\x20text-center\x22>แบบทดสอบ:\x20'+currentDisplayedQuiz[_0x44ca67(0xf7)]+'</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22per-question-timer-container\x22\x20class=\x22mb-4\x22></div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mb-6\x20p-4\x20border\x20rounded-lg\x20bg-gray-50\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22font-semibold\x20mb-3\x22\x20id=\x22per-question-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22space-y-2\x22\x20id=\x22per-question-options\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22next-question-timed-btn\x22\x20class=\x22w-full\x20mt-4\x20bg-indigo-600\x20text-white\x20py-3\x20px-4\x20rounded-lg\x20font-semibold\x20hover:bg-indigo-700\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-arrow-right\x20mr-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(currentQuestionIndex===currentDisplayedQuiz['questions'][_0x44ca67(0x426)]-0x1?_0x44ca67(0x553):_0x44ca67(0x2bd))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20';studentQuizArea['innerHTML']=_0x4e98f9;let _0x482417='',_0x41f3c7='';switch(_0x2ee1a4){case _0x44ca67(0x7cc):_0x482417=currentQuestionIndex+0x1+'.\x20'+_0x11ae6d[_0x44ca67(0x4c1)],_0x41f3c7=_0x44ca67(0x2c5)+_0x11ae6d['allResponses'][_0x44ca67(0x2ba)](_0x57d156=>_0x44ca67(0x23d)+_0x57d156+'\x22>'+_0x57d156+_0x44ca67(0x418))[_0x44ca67(0x589)]('')+_0x44ca67(0x7c4);break;case'true_false':_0x482417=currentQuestionIndex+0x1+'.\x20'+_0x11ae6d[_0x44ca67(0x421)],_0x41f3c7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_true\x22\x20name=\x22question_single\x22\x20value=\x22true\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_true\x22>ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div><input\x20type=\x22radio\x22\x20id=\x22q_opt_false\x22\x20name=\x22question_single\x22\x20value=\x22false\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required><label\x20for=\x22q_opt_false\x22>ไม่ใช่</label></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';break;case _0x44ca67(0x605):case _0x44ca67(0x77f):_0x482417=currentQuestionIndex+0x1+'.\x20'+_0x11ae6d['questionText'],_0x41f3c7=_0x44ca67(0x4ec);break;case _0x44ca67(0x4a6):case _0x44ca67(0x1b1):default:_0x482417=currentQuestionIndex+0x1+'.\x20'+_0x11ae6d[_0x44ca67(0x421)],_0x41f3c7=_0x11ae6d[_0x44ca67(0x417)][_0x44ca67(0x2ba)]((_0x17f598,_0x3db5c3)=>_0x44ca67(0x3a8)+_0x3db5c3+_0x44ca67(0x573)+_0x3db5c3+'\x22\x20class=\x22mr-2\x20accent-indigo-600\x22\x20required>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22q_opt'+_0x3db5c3+'\x22>'+_0x17f598+_0x44ca67(0x6c8))['join']('');break;}_0x11ae6d[_0x44ca67(0x2ee)]&&(_0x482417+=_0x44ca67(0x75c)+_0x11ae6d[_0x44ca67(0x2ee)]+'</div>');document[_0x44ca67(0x7d2)]('per-question-text')[_0x44ca67(0x1da)]=_0x482417,document['getElementById'](_0x44ca67(0x3f4))[_0x44ca67(0x1da)]=_0x41f3c7;if(currentMode===_0x44ca67(0x18b)){const _0x5e21ff=document['getElementById'](_0x44ca67(0x818));if(_0x5e21ff)_0x5e21ff[_0x44ca67(0x37f)]('click',cancelAdminTest);}document[_0x44ca67(0x7d2)](_0x44ca67(0xd9))[_0x44ca67(0x37f)]('click',()=>handleNextQuestionInTimedMode(![]));if(window[_0x44ca67(0x6a7)])window[_0x44ca67(0x6a7)][_0x44ca67(0x672)]([studentQuizArea]);startPerQuestionTimer();}function startPerQuestionTimer(){const _0x331723=_0x52d111,_0x46dcd9=currentDisplayedQuiz[_0x331723(0x640)][_0x331723(0x3e9)],_0x2be686=document[_0x331723(0x7d2)](_0x331723(0x7dc));if(!_0x2be686)return;let _0x855a6c=_0x46dcd9;_0x2be686[_0x331723(0x1da)]=_0x331723(0x4d3)+_0x855a6c+_0x331723(0x4d4);const _0x3d4e16=document[_0x331723(0x7d2)](_0x331723(0x7f3)),_0x3273a0=document[_0x331723(0x7d2)](_0x331723(0x160));perQuestionTimerInterval=setInterval(()=>{const _0x51e1b6=_0x331723;_0x855a6c--;const _0xc58d4c=_0x855a6c/_0x46dcd9*0x64;_0x3d4e16[_0x51e1b6(0x3a0)][_0x51e1b6(0x2d4)]=_0xc58d4c+'%',_0x3273a0['textContent']=_0x855a6c,_0x855a6c<=0x0&&(clearInterval(perQuestionTimerInterval),showMessage('หมดเวลาสำหรับข้อนี้!'),handleNextQuestionInTimedMode(!![]));},0x3e8);}function handleNextQuestionInTimedMode(_0x5a989a=![]){const _0x2116df=_0x52d111;if(perQuestionTimerInterval)clearInterval(perQuestionTimerInterval);let _0x92796d=null;if(!_0x5a989a){const _0x10661c=currentDisplayedQuiz[_0x2116df(0x194)][currentQuestionIndex],_0x18a5e0=_0x10661c[_0x2116df(0x2e1)]||currentDisplayedQuiz[_0x2116df(0x3a7)];if(_0x18a5e0==='short_answer'||_0x18a5e0===_0x2116df(0x77f)){const _0x164aec=document[_0x2116df(0x7df)](_0x2116df(0x703));_0x92796d=_0x164aec?_0x164aec[_0x2116df(0x796)][_0x2116df(0x74c)]():'';}else{if(_0x18a5e0===_0x2116df(0x7cc)){const _0x4e1bab=document[_0x2116df(0x7df)]('#per-question-options\x20select');_0x92796d=_0x4e1bab?_0x4e1bab[_0x2116df(0x796)]:'';}else{const _0x147d8b=document[_0x2116df(0x7df)]('input[name=\x22question_single\x22]:checked');if(_0x147d8b){const _0x57441d=_0x147d8b['value'];_0x92796d=!isNaN(parseInt(_0x57441d,0xa))&&_0x57441d['trim']()!==''?parseInt(_0x57441d,0xa):_0x57441d;}}}}studentAnswersPerQuestion['push'](_0x92796d),currentQuestionIndex++,currentQuestionIndex>=currentDisplayedQuiz[_0x2116df(0x194)][_0x2116df(0x426)]?finalizePerQuestionQuiz():renderPerQuestionView();}async function finalizePerQuestionQuiz(){const _0x12e62a=_0x52d111,_0x1b94e9=currentDisplayedQuiz[_0x12e62a(0x194)]['some'](_0x5b12cb=>_0x5b12cb[_0x12e62a(0x2e1)]===_0x12e62a(0x605));_0x1b94e9?showMessage('สิ้นสุดการทำแบบทดสอบ\x20AI\x20กำลังตรวจคำตอบอัตนัย...'):showMessage(_0x12e62a(0x722));const _0x337178=currentQuizData['id'],_0x2de662=doc(db,_0x12e62a(0x5fb)+appId+_0x12e62a(0x378)+_0x337178+_0x12e62a(0x55e),currentStudentName),_0x2c498e=await getDoc(_0x2de662),_0xf33cd4=_0x2c498e[_0x12e62a(0x237)]()?_0x2c498e['data']():{},_0x4bcf10=_0xf33cd4[_0x12e62a(0x59e)]||[];await processAndSubmitAnswers(studentAnswersPerQuestion,_0x4bcf10);}function getResultsFilename(){const _0x302160=_0x52d111,_0x1dce94=document[_0x302160(0x7d2)](_0x302160(0x1f4))[_0x302160(0x645)][_0x302160(0x36d)](/[^a-z0-9]/gi,'_')[_0x302160(0x36c)]();return'results_'+(_0x1dce94||'quiz');}function exportResultsAsImage(){const _0x28001b=_0x52d111,_0x301f01=document[_0x28001b(0x7d2)]('results-table-container');showMessage('กำลังสร้างรูปภาพ...'),html2canvas(_0x301f01)[_0x28001b(0x659)](_0x3b52d9=>{const _0x19a642=_0x28001b,_0x20e25d=document[_0x19a642(0x44a)]('a');_0x20e25d['download']=getResultsFilename()+_0x19a642(0x634),_0x20e25d[_0x19a642(0x6df)]=_0x3b52d9[_0x19a642(0x59b)](_0x19a642(0x3da)),_0x20e25d['click'](),messageModal[_0x19a642(0x21b)]['add']('hidden');});}function exportResultsAsPDF(){const _0x14687f=_0x52d111,{jsPDF:_0x3ca986}=window[_0x14687f(0xc8)],_0x404a16=new _0x3ca986();_0x404a16[_0x14687f(0x1e5)](_0x14687f(0x207),_0x14687f(0x2f7)),_0x404a16['autoTable']({'html':_0x14687f(0x5b2)}),_0x404a16[_0x14687f(0x79a)](getResultsFilename()+_0x14687f(0x5e1));}function exportResultsAsWord(){const _0x36da4b=_0x52d111,_0x469a3d=_0x36da4b(0x470)+_0x36da4b(0x355)+_0x36da4b(0x6bd)+_0x36da4b(0x24b),_0x90d25c=_0x36da4b(0x799),_0x5d4971=_0x469a3d+document[_0x36da4b(0x7d2)](_0x36da4b(0x498))[_0x36da4b(0x1da)]+_0x90d25c,_0xf33eb2=_0x36da4b(0x438)+encodeURIComponent(_0x5d4971),_0x31f003=document[_0x36da4b(0x44a)]('a');document['body'][_0x36da4b(0x666)](_0x31f003),_0x31f003[_0x36da4b(0x6df)]=_0xf33eb2,_0x31f003['download']=getResultsFilename()+_0x36da4b(0x584),_0x31f003[_0x36da4b(0x155)](),document['body'][_0x36da4b(0x6cc)](_0x31f003);}function exportResultsAsExcel(){const _0x41e3f4=_0x52d111,_0x426a85=document['getElementById'](_0x41e3f4(0x69b));let _0x2e5aac=[];for(let _0x2d7f22=0x0;_0x2d7f22<_0x426a85[_0x41e3f4(0x2db)]['length'];_0x2d7f22++){let _0x30a78f=[],_0x571817=_0x426a85[_0x41e3f4(0x2db)][_0x2d7f22]['querySelectorAll']('td,\x20th');for(let _0x15bc01=0x0;_0x15bc01<_0x571817[_0x41e3f4(0x426)];_0x15bc01++){_0x30a78f['push']('\x22'+_0x571817[_0x15bc01][_0x41e3f4(0x75e)][_0x41e3f4(0x36d)](/"/g,'\x22\x22')+'\x22');}_0x2e5aac['push'](_0x30a78f[_0x41e3f4(0x589)](','));}const _0x215255=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x2e5aac['join']('\x0a')],{'type':_0x41e3f4(0xec)}),_0x24821c=document[_0x41e3f4(0x44a)]('a');_0x24821c[_0x41e3f4(0x6df)]=URL['createObjectURL'](_0x215255),_0x24821c[_0x41e3f4(0x11b)]=getResultsFilename()+_0x41e3f4(0x1bf),_0x24821c['click']();}function exportTableAsImage(_0x1186e6,_0x2a2e77){const _0x339331=_0x52d111,_0x3ffd3a=document[_0x339331(0x7d2)](_0x1186e6);if(!_0x3ffd3a){showMessage(_0x339331(0x136));return;}showMessage(_0x339331(0x520)),html2canvas(_0x3ffd3a)['then'](_0x37dbc1=>{const _0x50d42b=_0x339331,_0x144888=document[_0x50d42b(0x44a)]('a');_0x144888[_0x50d42b(0x11b)]=_0x2a2e77+_0x50d42b(0x634),_0x144888[_0x50d42b(0x6df)]=_0x37dbc1[_0x50d42b(0x59b)](_0x50d42b(0x3da)),_0x144888[_0x50d42b(0x155)](),messageModal['classList'][_0x50d42b(0x4df)](_0x50d42b(0x79f));});}function exportTableAsPDF(_0x224be7,_0x1b5d5b){const _0x7fc4af=_0x52d111,{jsPDF:_0x3a83f0}=window[_0x7fc4af(0xc8)],_0x2be030=new _0x3a83f0();_0x2be030[_0x7fc4af(0x1e5)](_0x7fc4af(0x207),_0x7fc4af(0x2f7)),_0x2be030[_0x7fc4af(0x411)]({'html':'#'+_0x224be7}),_0x2be030[_0x7fc4af(0x79a)](_0x1b5d5b+_0x7fc4af(0x5e1));}function exportTableAsWord(_0x473f65,_0x323a15){const _0x1c04d8=_0x52d111,_0x1d6dc8=document[_0x1c04d8(0x7d2)](_0x473f65);if(!_0x1d6dc8){showMessage(_0x1c04d8(0x136));return;}const _0x1be286='<html\x20xmlns:o=\x27urn:schemas-microsoft-com:office:office\x27\x20'+_0x1c04d8(0x355)+_0x1c04d8(0x6bd)+_0x1c04d8(0x24b),_0x301480=_0x1c04d8(0x799),_0x2bcfc4=_0x1be286+_0x1d6dc8[_0x1c04d8(0x1da)]+_0x301480,_0x13eda0=_0x1c04d8(0x438)+encodeURIComponent(_0x2bcfc4),_0x1c0b0d=document[_0x1c04d8(0x44a)]('a');document[_0x1c04d8(0x302)][_0x1c04d8(0x666)](_0x1c0b0d),_0x1c0b0d[_0x1c04d8(0x6df)]=_0x13eda0,_0x1c0b0d[_0x1c04d8(0x11b)]=_0x323a15+'.doc',_0x1c0b0d['click'](),document[_0x1c04d8(0x302)]['removeChild'](_0x1c0b0d);}function exportTableAsExcel(_0x3a65ad,_0x2f0242){const _0x2e55cb=_0x52d111,_0x518944=document[_0x2e55cb(0x7d2)](_0x3a65ad);if(!_0x518944){showMessage(_0x2e55cb(0x136));return;}let _0x44603b=[];for(let _0xc99fb5=0x0;_0xc99fb5<_0x518944[_0x2e55cb(0x2db)][_0x2e55cb(0x426)];_0xc99fb5++){let _0x213459=[],_0x57f3f6=_0x518944[_0x2e55cb(0x2db)][_0xc99fb5][_0x2e55cb(0x78c)](_0x2e55cb(0x2c6));for(let _0xbde425=0x0;_0xbde425<_0x57f3f6[_0x2e55cb(0x426)];_0xbde425++){_0x213459[_0x2e55cb(0x5d6)]('\x22'+_0x57f3f6[_0xbde425][_0x2e55cb(0x75e)][_0x2e55cb(0x36d)](/"/g,'\x22\x22')+'\x22');}_0x44603b['push'](_0x213459['join'](','));}const _0x50337b=new Blob([new Uint8Array([0xef,0xbb,0xbf]),_0x44603b[_0x2e55cb(0x589)]('\x0a')],{'type':'text/csv;charset=utf-8;'}),_0x11abbe=document[_0x2e55cb(0x44a)]('a');_0x11abbe[_0x2e55cb(0x6df)]=URL[_0x2e55cb(0x32e)](_0x50337b),_0x11abbe[_0x2e55cb(0x11b)]=_0x2f0242+_0x2e55cb(0x1bf),_0x11abbe['click']();}function renderAnalytics(_0x4957be,_0x274c33){const _0x4db819=_0x52d111,_0x5d392f=currentProjectData[_0x4db819(0x636)]['length'],_0x1f0291=_0x274c33['length'],_0x1bad9b=_0x5d392f-_0x1f0291,_0x168ba6=_0x5d392f>0x0?_0x1f0291/_0x5d392f*0x64:0x0,_0xbdf47=_0x274c33[_0x4db819(0x2ba)](_0xb3b7ad=>_0xb3b7ad[_0x4db819(0x5a5)]),_0x4ba7b7=_0xbdf47[_0x4db819(0x426)]>0x0?_0xbdf47['reduce']((_0x158c59,_0x2b0a73)=>_0x158c59+_0x2b0a73,0x0)/_0xbdf47[_0x4db819(0x426)]:0x0,_0x227926=_0x4957be['questions'][_0x4db819(0x426)],_0x463930=_0x227926>0x0?_0x4ba7b7/_0x227926*0x64:0x0,_0x29b933=calculateItemAnalysis(_0x4957be,_0x274c33),_0xc76cb6=calculateReliabilityKR20(_0x4957be,_0x274c33,_0x29b933[_0x4db819(0x74b)]);let _0x51f381='';if(_0xc76cb6!==null){let _0xcef388='';if(_0xc76cb6>=0.9)_0xcef388='ยอดเยี่ยม';else{if(_0xc76cb6>=0.8)_0xcef388=_0x4db819(0x2a9);else{if(_0xc76cb6>=0.7)_0xcef388='ดี';else{if(_0xc76cb6>=0.6)_0xcef388='พอใช้';else _0xcef388=_0x4db819(0x528);}}}_0x51f381=_0x4db819(0x301)+_0xc76cb6['toFixed'](0x2)+_0x4db819(0x3b5)+_0xcef388+_0x4db819(0x557);}const _0x164b98=document[_0x4db819(0x7d2)](_0x4db819(0x599));_0x164b98[_0x4db819(0x1da)]=_0x4db819(0x4c2)+_0x168ba6[_0x4db819(0x122)](0x0)+_0x4db819(0x471)+_0x1f0291+'/'+_0x5d392f+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20p-4\x20rounded-lg\x20text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-green-700\x20font-semibold\x22>คะแนนเฉลี่ย</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-2xl\x20font-bold\x20text-green-900\x22>'+_0x4ba7b7[_0x4db819(0x122)](0x2)+_0x4db819(0x6ad)+_0x463930[_0x4db819(0x122)](0x0)+_0x4db819(0x571)+(_0xbdf47[_0x4db819(0x426)]>0x0?Math['max'](..._0xbdf47):_0x4db819(0x51f))+_0x4db819(0x7ca)+(_0xbdf47[_0x4db819(0x426)]>0x0?Math[_0x4db819(0x7e3)](..._0xbdf47):'N/A')+_0x4db819(0x111)+_0x51f381+_0x4db819(0x358);const _0x440c18=document['getElementById'](_0x4db819(0x3ae));_0x440c18&&_0x440c18[_0x4db819(0x218)]();const _0x533282=_0x4db819(0x5cd);_0x164b98['insertAdjacentHTML'](_0x4db819(0x2ef),_0x533282);const _0x73af2c=currentProjectData[_0x4db819(0x636)]||[];renderSubmissionChart(_0x1f0291,_0x1bad9b,_0x274c33,_0x73af2c),renderScoreDistributionChart(_0x274c33,_0x227926),renderQuestionAnalytics(_0x4957be,_0x274c33,_0x73af2c),renderInterestingStats(_0x4957be,_0x274c33);}async function handleExportLessonPDF(){const _0x1c311f=_0x52d111,_0x151f35=document[_0x1c311f(0x7d2)](_0x1c311f(0x6ac)),_0x5d69b7=document[_0x1c311f(0x7d2)](_0x1c311f(0x2c0))[_0x1c311f(0x645)],_0x4f8b39=window['open']('',_0x1c311f(0x4f9)),_0x24fc7c=_0x1c311f(0x6e3)+_0x5d69b7+_0x1c311f(0x435)+_0x151f35['innerHTML']+_0x1c311f(0x6e9);_0x4f8b39[_0x1c311f(0x5ac)][_0x1c311f(0x66a)](_0x24fc7c),_0x4f8b39[_0x1c311f(0x5ac)]['close'](),_0x4f8b39[_0x1c311f(0x4a2)]=function(){setTimeout(()=>{const _0x33ad88=_0x9350;_0x4f8b39[_0x33ad88(0x62c)]();},0x5dc);};}function renderInterestingStats(_0x3c11fb,_0x54344e){const _0xbe6ee=_0x52d111,_0x169ea6=document[_0xbe6ee(0x7d2)]('interesting-stats-container');if(!_0x169ea6)return;if(_0x54344e[_0xbe6ee(0x426)]===0x0){_0x169ea6[_0xbe6ee(0x1da)]=_0xbe6ee(0x17c);return;}const _0x37bed4=_0x3c11fb[_0xbe6ee(0x194)][_0xbe6ee(0x2ba)]((_0x5044ed,_0x10e2de)=>({'index':_0x10e2de+0x1,'text':_0x5044ed['questionText']||_0x5044ed[_0xbe6ee(0x4c1)],'correct':0x0}));_0x54344e[_0xbe6ee(0x651)](_0x2a4a4c=>{const _0x4f29ca=_0xbe6ee,_0x2b912a=_0x2a4a4c[_0x4f29ca(0x59e)][_0x2a4a4c['attempts'][_0x4f29ca(0x426)]-0x1];_0x2b912a&&_0x2b912a[_0x4f29ca(0x47b)]&&_0x2b912a[_0x4f29ca(0x47b)]['forEach'](_0x43123b=>{const _0xb4f6fb=_0x4f29ca,_0x3fed74=_0x37bed4['find'](_0x15ac45=>_0x15ac45[_0xb4f6fb(0x45e)]===_0x43123b[_0xb4f6fb(0x46d)]);_0x43123b[_0xb4f6fb(0x478)]&&_0x3fed74&&_0x3fed74[_0xb4f6fb(0x317)]++;});});const _0x5af5b8=_0x54344e[_0xbe6ee(0x426)],_0x3a5933=Math['max'](..._0x37bed4[_0xbe6ee(0x2ba)](_0x14e50f=>_0x14e50f[_0xbe6ee(0x317)])),_0x32fcc7=Math['min'](..._0x37bed4[_0xbe6ee(0x2ba)](_0x289812=>_0x289812[_0xbe6ee(0x317)])),_0x556d6c=_0x37bed4[_0xbe6ee(0x48e)](_0x2354d0=>_0x2354d0[_0xbe6ee(0x317)]===_0x3a5933)[_0xbe6ee(0x2ba)](_0x14c79b=>_0xbe6ee(0x3dc)+_0x14c79b[_0xbe6ee(0x25e)]),_0x21e0cf=_0x37bed4[_0xbe6ee(0x48e)](_0x832654=>_0x832654[_0xbe6ee(0x317)]===_0x32fcc7)[_0xbe6ee(0x2ba)](_0x8074de=>_0xbe6ee(0x3dc)+_0x8074de[_0xbe6ee(0x25e)]),_0x209748=_0x54344e[_0xbe6ee(0x18d)]((_0x364cde,_0x13e270)=>_0x13e270[_0xbe6ee(0x5a5)]-_0x364cde['latestScore'])[_0xbe6ee(0x48e)]((_0x12e9fc,_0x7c4dc5,_0x16d132)=>_0x12e9fc[_0xbe6ee(0x5a5)]===_0x16d132[0x0][_0xbe6ee(0x5a5)]),_0x32e9c6=_0x54344e[_0xbe6ee(0x18d)]((_0x34464e,_0x5f39f1)=>_0x34464e[_0xbe6ee(0x5a5)]-_0x5f39f1['latestScore'])['filter']((_0x543340,_0x3f511b,_0x3f545d)=>_0x543340['latestScore']===_0x3f545d[0x0][_0xbe6ee(0x5a5)]),_0x17560c='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-50\x20p-4\x20rounded-lg\x20border\x20border-green-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-green-100\x20text-green-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำถูกมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-green-800\x20text-lg\x22>'+_0x556d6c['join'](',\x20')+_0xbe6ee(0x425)+_0x3a5933+_0xbe6ee(0x14e)+_0x5af5b8+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-50\x20p-4\x20rounded-lg\x20border\x20border-red-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-red-100\x20text-red-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-exclamation-circle\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>ข้อที่ทำผิดมากที่สุด</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-red-800\x20text-lg\x22>'+_0x21e0cf[_0xbe6ee(0x589)](',\x20')+_0xbe6ee(0x425)+(_0x5af5b8-_0x32fcc7)+_0xbe6ee(0x14e)+_0x5af5b8+_0xbe6ee(0x389)+_0x209748[_0xbe6ee(0x2ba)](_0x396fe7=>_0x396fe7[_0xbe6ee(0x219)])[_0xbe6ee(0x589)](',\x20')+_0xbe6ee(0x6c1)+_0x209748[0x0]['latestScore']+'\x20คะแนน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-50\x20p-4\x20rounded-lg\x20border\x20border-yellow-200\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-yellow-100\x20text-yellow-600\x20p-2\x20rounded-full\x20mr-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-hands-helping\x20fa-lg\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-sm\x20text-gray-600\x22>นักเรียนที่ควรดูแลเป็นพิเศษ</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22font-bold\x20text-yellow-800\x20text-lg\x22>'+_0x32e9c6[_0xbe6ee(0x2ba)](_0x295f93=>_0x295f93[_0xbe6ee(0x219)])[_0xbe6ee(0x589)](',\x20')+_0xbe6ee(0x6c1)+_0x32e9c6[0x0][_0xbe6ee(0x5a5)]+_0xbe6ee(0x5e9);_0x169ea6[_0xbe6ee(0x1da)]=_0x17560c;}function renderSubmissionChart(_0x282e95,_0x540fce,_0x5069fb,_0x22d937){const _0x397df8=_0x52d111,_0x4a9ab2=document[_0x397df8(0x7d2)](_0x397df8(0x745))[_0x397df8(0x208)]('2d'),_0x11044f=_0x5069fb[_0x397df8(0x2ba)](_0x1a7125=>_0x1a7125['studentName']),_0x306995=_0x22d937[_0x397df8(0x48e)](_0x81bd3b=>!_0x11044f[_0x397df8(0x3ff)](_0x81bd3b));chartInstances[_0x397df8(0x416)]&&chartInstances[_0x397df8(0x416)][_0x397df8(0x7fb)](),chartInstances[_0x397df8(0x416)]=new Chart(_0x4a9ab2,{'type':_0x397df8(0x7c0),'data':{'labels':['ส่งแล้ว',_0x397df8(0x1be)],'datasets':[{'data':[_0x282e95,_0x540fce],'backgroundColor':[_0x397df8(0x464),_0x397df8(0x709)],'borderColor':[_0x397df8(0x4d0),_0x397df8(0x4d0)],'borderWidth':0x2}]},'options':{'responsive':!![],'plugins':{'legend':{'position':'bottom'},'tooltip':{'callbacks':{'label':function(_0xa07ccf){let _0x4d7f44=_0xa07ccf['label']||'';return _0x4d7f44&&(_0x4d7f44+=':\x20'),_0x4d7f44+=_0xa07ccf['raw'],_0x4d7f44;},'afterLabel':function(_0x603370){const _0x319ce5=_0x397df8;let _0x8edffe;return _0x603370['dataIndex']===0x0?_0x8edffe=_0x11044f:_0x8edffe=_0x306995,_0x8edffe[_0x319ce5(0x426)]>0x0?_0x8edffe[_0x319ce5(0x589)]('\x0a'):'ไม่มี';}}}}}});}function renderScoreDistributionChart(_0x4e4f9d,_0x22b346){const _0x4a74d1=_0x52d111,_0x12b23d=document[_0x4a74d1(0x7d2)](_0x4a74d1(0x721))['getContext']('2d'),_0x296c74={};for(let _0x209240=0x0;_0x209240<=_0x22b346;_0x209240++){_0x296c74[_0x209240]=0x0;}_0x4e4f9d[_0x4a74d1(0x651)](_0x4794c3=>{const _0x2efd9b=_0x4a74d1;_0x296c74[_0x4794c3[_0x2efd9b(0x5a5)]]!==undefined&&_0x296c74[_0x4794c3[_0x2efd9b(0x5a5)]]++;}),chartInstances['score']&&chartInstances['score'][_0x4a74d1(0x7fb)](),chartInstances[_0x4a74d1(0x743)]=new Chart(_0x12b23d,{'type':_0x4a74d1(0x3f3),'data':{'labels':Object[_0x4a74d1(0x35e)](_0x296c74),'datasets':[{'label':_0x4a74d1(0x5ae),'data':Object[_0x4a74d1(0x19c)](_0x296c74),'backgroundColor':_0x4a74d1(0x6d4),'borderColor':_0x4a74d1(0x594),'borderWidth':0x1}]},'options':{'responsive':!![],'scales':{'y':{'beginAtZero':!![],'ticks':{'stepSize':0x1}},'x':{'title':{'display':!![],'text':_0x4a74d1(0x37e)}}},'plugins':{'legend':{'display':![]},'tooltip':{'callbacks':{'afterLabel':function(_0x26c65a){const _0x3aa977=_0x4a74d1,_0x6cb2c0=_0x26c65a[_0x3aa977(0x25b)],_0x412bb5=_0x4e4f9d['filter'](_0x682a88=>_0x682a88[_0x3aa977(0x5a5)]==_0x6cb2c0)['map'](_0x236a2d=>_0x236a2d[_0x3aa977(0x219)]);return _0x412bb5[_0x3aa977(0x426)]>0x0?_0x412bb5[_0x3aa977(0x589)]('\x0a'):'';}}}}}});}function renderQuestionAnalytics(_0x1ca818,_0x48408f,_0x146eae){const _0x2b1621=_0x52d111,_0x4d05ca=document['getElementById'](_0x2b1621(0x33d));if(_0x146eae[_0x2b1621(0x426)]===0x0){_0x4d05ca[_0x2b1621(0x1da)]=_0x2b1621(0x1a3);return;}const _0x3b6672=calculateItemAnalysis(_0x1ca818,_0x48408f),_0x4ade6b=calculateDistractorAnalysis(_0x1ca818,_0x48408f);let _0x2298c5='';_0x3b6672['overallGroups']&&(_0x2298c5=_0x2b1621(0x1fb)+_0x3b6672[_0x2b1621(0x54d)][_0x2b1621(0x137)][_0x2b1621(0x426)]+_0x2b1621(0x5b6)+_0x3b6672[_0x2b1621(0x54d)][_0x2b1621(0x137)][_0x2b1621(0x2ba)](_0x42e03e=>_0x2b1621(0x27a)+_0x42e03e+_0x2b1621(0x56e))[_0x2b1621(0x589)]('')+_0x2b1621(0x20d)+_0x3b6672[_0x2b1621(0x54d)][_0x2b1621(0x1db)][_0x2b1621(0x426)]+'\x20คน)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20text-gray-600\x20mt-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x3b6672[_0x2b1621(0x54d)][_0x2b1621(0x1db)][_0x2b1621(0x2ba)](_0xc3263c=>_0x2b1621(0x27a)+_0xc3263c+_0x2b1621(0x56e))[_0x2b1621(0x589)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');let _0x11233b='';const _0x44a481=_0x48408f['map'](_0x3e20f7=>_0x3e20f7[_0x2b1621(0x219)]),_0x3b13f8=_0x424ae4=>{const _0x15420a=_0x2b1621;if(_0x424ae4>=0.8)return _0x15420a(0x4f5);if(_0x424ae4>=0.6)return _0x15420a(0x19d);if(_0x424ae4>=0.4)return _0x15420a(0x7e8);if(_0x424ae4>=0.2)return _0x15420a(0x77c);return _0x15420a(0x20c);},_0xb390f5=_0x30b754=>{const _0x5fb629=_0x2b1621;if(_0x30b754<0x0)return _0x5fb629(0x72d);if(_0x30b754>=0.4)return _0x5fb629(0x234);if(_0x30b754>=0.3)return _0x5fb629(0x24d);if(_0x30b754>=0.2)return _0x5fb629(0x390);return _0x5fb629(0x4da);},_0x1533d9=_0x62ff3a=>{const _0x7778df=_0x2b1621,_0x253ffa=_0x62ff3a[_0x7778df(0x122)](0x0);if(parseFloat(_0x253ffa)===0x64)return _0x7778df(0x527)+_0x253ffa+_0x7778df(0x734);if(_0x62ff3a>=0x32)return'<span\x20class=\x22bg-yellow-200\x20text-yellow-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x253ffa+_0x7778df(0x734);return'<span\x20class=\x22bg-red-200\x20text-red-900\x20font-semibold\x20px-3\x20py-1\x20rounded-md\x20text-xs\x22>ตอบถูก\x20'+_0x253ffa+_0x7778df(0x734);};_0x1ca818['questions']['forEach']((_0x58f437,_0x3fbea7)=>{const _0x109fbc=_0x2b1621,_0x17e420=_0x3b6672[_0x109fbc(0x74b)][_0x3fbea7],_0x53a692=_0x4ade6b[_0x3fbea7],_0x4e4612=_0x58f437[_0x109fbc(0x4c1)]||_0x58f437[_0x109fbc(0x421)]||_0x58f437[_0x109fbc(0x1ba)];let _0x1b278c=0x0;const _0x491f53=[],_0x45d3e7=[];_0x48408f['forEach'](_0x19437c=>{const _0x18b42e=_0x109fbc,_0x2f5805=_0x19437c[_0x18b42e(0x59e)][_0x19437c[_0x18b42e(0x59e)]['length']-0x1];if(_0x2f5805&&_0x2f5805[_0x18b42e(0x47b)]){const _0x537e41=_0x2f5805[_0x18b42e(0x47b)][_0x18b42e(0x314)](_0x204279=>_0x204279[_0x18b42e(0x46d)]===_0x4e4612)??_0x2f5805[_0x18b42e(0x47b)][_0x3fbea7]??null;_0x537e41&&(_0x537e41['isCorrect']?(_0x1b278c++,_0x491f53['push'](_0x19437c['studentName'])):_0x45d3e7[_0x18b42e(0x5d6)](_0x19437c['studentName']));}});const _0x2513f2=_0x48408f[_0x109fbc(0x426)]>0x0?_0x1b278c/_0x48408f[_0x109fbc(0x426)]*0x64:0x0,_0x1127ef=_0x146eae[_0x109fbc(0x48e)](_0x301c1f=>!_0x44a481[_0x109fbc(0x3ff)](_0x301c1f)),_0x1d35a8=_0x17e420?_0x109fbc(0x1f1)+_0x17e420['p'][_0x109fbc(0x122)](0x2)+_0x109fbc(0x29d)+_0x3b13f8(_0x17e420['p'])+_0x109fbc(0x1bc)+_0x17e420['r'][_0x109fbc(0x122)](0x2)+_0x109fbc(0x29d)+_0xb390f5(_0x17e420['r'])+_0x109fbc(0x1b0)+_0x1533d9(_0x2513f2)+_0x109fbc(0x6a9):'';let _0x35b801='';_0x53a692&&(_0x35b801='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22><p\x20class=\x22font-semibold\x22>การวิเคราะห์ตัวเลือก:</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table\x20class=\x22min-w-full\x20bg-white\x20border\x20mt-1\x20text-xs\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead\x20class=\x22bg-gray-200\x22><tr><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-left\x22>ตัวเลือก</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มเก่ง</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>กลุ่มอ่อน</th><th\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>รวม</th></tr></thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody>'+Object[_0x109fbc(0x35e)](_0x53a692)[_0x109fbc(0x2ba)](_0x530dc8=>{const _0x223a0d=_0x109fbc,_0x2a8c9c=_0x53a692[_0x530dc8],_0x3e9496=parseInt(_0x530dc8)===_0x58f437['correctAnswerIndex'],_0x43b579=!_0x3e9496&&_0x2a8c9c['lower_group_count']>_0x2a8c9c[_0x223a0d(0x7b8)];return _0x223a0d(0x1a8)+(_0x3e9496?_0x223a0d(0x107):'')+_0x223a0d(0x241)+(_0x3e9496?'✔\x20':'')+_0x2a8c9c[_0x223a0d(0x45e)]+'</td><td\x20class=\x22py-1\x20px-2\x20border-b\x20text-center\x22>'+_0x2a8c9c[_0x223a0d(0x7b8)]+_0x223a0d(0x5e2)+_0x2a8c9c['lower_group_count']+'\x20'+(_0x43b579?'👍':'')+_0x223a0d(0x5e2)+_0x2a8c9c[_0x223a0d(0x257)]+_0x223a0d(0x114);})[_0x109fbc(0x589)]('')+_0x109fbc(0x568));let _0x3591b3='';_0x17e420&&_0x17e420['upperGroupResponders']&&(_0x3591b3=_0x109fbc(0x57d)+_0x17e420['upperGroupResponders'][_0x109fbc(0x426)]+_0x109fbc(0x211)+_0x17e420[_0x109fbc(0x251)][_0x109fbc(0x2ba)](_0x18d7fd=>'<li>'+(_0x18d7fd['isCorrect']?_0x109fbc(0x33f):_0x109fbc(0x642))+'\x20'+_0x18d7fd[_0x109fbc(0x121)]+_0x109fbc(0x56e))[_0x109fbc(0x589)]('')+_0x109fbc(0x774)+_0x17e420[_0x109fbc(0x817)][_0x109fbc(0x426)]+'\x20คน):</p><ul\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x20space-y-1\x20mt-1\x22>'+_0x17e420[_0x109fbc(0x817)][_0x109fbc(0x2ba)](_0x476017=>'<li>'+(_0x476017['isCorrect']?_0x109fbc(0x33f):_0x109fbc(0x642))+'\x20'+_0x476017[_0x109fbc(0x121)]+_0x109fbc(0x56e))[_0x109fbc(0x589)]('')+_0x109fbc(0x3e4)),_0x11233b+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<details\x20class=\x22bg-gray-50\x20p-3\x20rounded-lg\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<summary\x20class=\x22flex\x20justify-between\x20items-center\x20cursor-pointer\x20font-semibold\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22w-2/4\x20truncate\x22>ข้อ\x20'+(_0x3fbea7+0x1)+':\x20'+_0x4e4612+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-4\x22>'+_0x1d35a8+_0x109fbc(0x5aa)+_0x4e4612+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>สถิติ:</strong>\x20นักเรียน\x20'+_0x1b278c+_0x109fbc(0x3be)+_0x48408f[_0x109fbc(0x426)]+'\x20คนที่ส่ง\x20ตอบถูก\x20('+_0x2513f2[_0x109fbc(0x122)](0x0)+'%)</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-2\x22><p\x20class=\x22font-semibold\x20text-green-700\x22>ตอบถูก\x20('+_0x491f53[_0x109fbc(0x426)]+'\x20คน):</p><p\x20class=\x22text-xs\x20text-gray-600\x20pl-2\x22>'+(_0x491f53['length']>0x0?_0x491f53['join'](',\x20'):'ไม่มี')+_0x109fbc(0x4f2)+_0x45d3e7[_0x109fbc(0x426)]+_0x109fbc(0x44d)+(_0x45d3e7[_0x109fbc(0x426)]>0x0?_0x45d3e7[_0x109fbc(0x589)](',\x20'):_0x109fbc(0x347))+_0x109fbc(0x3a4)+_0x1127ef['length']+_0x109fbc(0x44d)+(_0x1127ef['length']>0x0?_0x1127ef[_0x109fbc(0x589)](',\x20'):_0x109fbc(0x347))+_0x109fbc(0x7a0)+_0x35b801+_0x109fbc(0x4e8)+_0x3591b3+_0x109fbc(0x306);}),_0x4d05ca[_0x2b1621(0x1da)]=_0x2298c5+_0x11233b;try{window[_0x2b1621(0x6a7)]&&MathJax['typesetPromise']&&MathJax[_0x2b1621(0x672)]([_0x4d05ca]);}catch(_0xfd6861){console[_0x2b1621(0x403)](_0x2b1621(0x56b),_0xfd6861);}}function calculateDistractorAnalysis(_0x3b8730,_0x23435e){const _0x1b5340=_0x52d111,_0x347325={};if(_0x23435e[_0x1b5340(0x426)]<0x2)return _0x347325;const _0x30d157=[..._0x23435e][_0x1b5340(0x18d)]((_0x1c072a,_0x416d28)=>{const _0x1ce3b1=_0x1b5340,_0x511551=_0x416d28[_0x1ce3b1(0x5a5)]-_0x1c072a[_0x1ce3b1(0x5a5)];if(_0x511551!==0x0)return _0x511551;const _0x52b39c=_0x1c072a[_0x1ce3b1(0x59e)]?.[_0x1ce3b1(0x426)]||0x1,_0x3fa663=_0x416d28[_0x1ce3b1(0x59e)]?.[_0x1ce3b1(0x426)]||0x1,_0x540953=_0x52b39c-_0x3fa663;if(_0x540953!==0x0)return _0x540953;const _0xd36330=new Date(_0x1c072a[_0x1ce3b1(0x6f8)]),_0x5e452d=new Date(_0x416d28[_0x1ce3b1(0x6f8)]),_0x7d37=_0xd36330-_0x5e452d;if(_0x7d37!==0x0)return _0x7d37;return _0x1c072a[_0x1ce3b1(0x219)][_0x1ce3b1(0x6af)](_0x416d28[_0x1ce3b1(0x219)],'th');}),_0x50fcda=_0x30d157[_0x1b5340(0x426)],_0x38cf75=Math[_0x1b5340(0x104)](0x1,Math[_0x1b5340(0x615)](_0x50fcda*0.33)),_0x3a17b8=_0x30d157[_0x1b5340(0x81d)](0x0,_0x38cf75),_0x1b240a=_0x30d157[_0x1b5340(0x81d)](-_0x38cf75);return _0x3b8730[_0x1b5340(0x194)][_0x1b5340(0x651)]((_0x4f0530,_0x21b7ad)=>{const _0x13cdd9=_0x1b5340;if(_0x4f0530[_0x13cdd9(0x2e1)]!==_0x13cdd9(0x4a6)||!_0x4f0530[_0x13cdd9(0x417)])return;const _0x4596d7=_0x4f0530[_0x13cdd9(0x421)],_0x341938={};_0x4f0530[_0x13cdd9(0x417)][_0x13cdd9(0x651)]((_0x13e177,_0x2899bf)=>{_0x341938[_0x2899bf]={'text':_0x13e177,'upper_group_count':0x0,'lower_group_count':0x0,'total':0x0};}),_0x30d157[_0x13cdd9(0x651)](_0x3c32c7=>{const _0x216e7d=_0x13cdd9,_0x80cec8=_0x3c32c7[_0x216e7d(0x59e)][_0x3c32c7[_0x216e7d(0x59e)][_0x216e7d(0x426)]-0x1],_0x91a7=_0x80cec8[_0x216e7d(0x47b)][_0x216e7d(0x314)](_0xb6d866=>_0xb6d866['originalQuestionText']===_0x4596d7);if(_0x91a7&&_0x91a7[_0x216e7d(0x693)]!==null){const _0x12b9d4=_0x4f0530[_0x216e7d(0x417)][_0x216e7d(0x1cc)](_0x5028f0=>_0x5028f0===_0x91a7[_0x216e7d(0x462)]);_0x12b9d4!==-0x1&&_0x341938[_0x12b9d4]&&(_0x341938[_0x12b9d4][_0x216e7d(0x257)]++,_0x3a17b8[_0x216e7d(0x3ff)](_0x3c32c7)&&_0x341938[_0x12b9d4][_0x216e7d(0x7b8)]++,_0x1b240a[_0x216e7d(0x3ff)](_0x3c32c7)&&_0x341938[_0x12b9d4][_0x216e7d(0x4d6)]++);}}),_0x347325[_0x21b7ad]=_0x341938;}),_0x347325;}function calculateReliabilityKR20(_0xd24a94,_0xa0e2ed,_0x2b4647){const _0x38dc84=_0x52d111,_0x5929ad=_0xd24a94['questions'][_0x38dc84(0x426)];if(_0x5929ad<0x2||_0xa0e2ed[_0x38dc84(0x426)]<0x2)return null;const _0x1c7f93=_0xa0e2ed['map'](_0x4558f6=>_0x4558f6[_0x38dc84(0x5a5)]),_0x20cdee=_0x1c7f93[_0x38dc84(0x2ab)]((_0x1016ec,_0x67058a)=>_0x1016ec+_0x67058a,0x0)/_0x1c7f93[_0x38dc84(0x426)],_0xc02a80=_0x1c7f93['map'](_0x3b1857=>Math[_0x38dc84(0x7ec)](_0x3b1857-_0x20cdee,0x2))[_0x38dc84(0x2ab)]((_0x3ab172,_0xdbe741)=>_0x3ab172+_0xdbe741,0x0)/_0x1c7f93[_0x38dc84(0x426)];if(_0xc02a80===0x0)return null;let _0x9f7d5d=0x0;for(let _0x500392=0x0;_0x500392<_0x5929ad;_0x500392++){const _0x4386df=_0x2b4647[_0x500392]?.['p'];if(_0x4386df===undefined)continue;const _0x5aa3f1=0x1-_0x4386df;_0x9f7d5d+=_0x4386df*_0x5aa3f1;}if(_0x9f7d5d===0x0)return null;const _0x269ff2=_0x5929ad/(_0x5929ad-0x1)*(0x1-_0x9f7d5d/_0xc02a80);if(_0x269ff2>0x1)return null;return _0x269ff2;}async function handleAnalyzeClass(){const _0x38382c=_0x52d111;if(!currentQuizData||!currentQuizData['id']){showMessage(_0x38382c(0x7bb));return;}const _0x1fefc5=collection(db,_0x38382c(0x5fb)+appId+'/public/data/quizzes/'+currentQuizData['id']+_0x38382c(0x55e)),_0x5180ca=await getDocs(_0x1fefc5),_0x28ca9d=_0x5180ca[_0x38382c(0x23a)][_0x38382c(0x2ba)](_0x2afc42=>_0x2afc42[_0x38382c(0x406)]());if(_0x28ca9d[_0x38382c(0x426)]<0x2){showMessage(_0x38382c(0x2e8));return;}const _0x4e2362=document[_0x38382c(0x7d2)](_0x38382c(0x5e6));_0x4e2362['innerHTML']=_0x38382c(0x777),document[_0x38382c(0x7d2)](_0x38382c(0x18c))[_0x38382c(0x681)]=!![];const _0x2ce594=_0x28ca9d[_0x38382c(0x2ba)]((_0x1344d8,_0x5294aa)=>{const _0x362c55=_0x38382c,_0x3b1a44=_0x1344d8[_0x362c55(0x59e)][_0x1344d8[_0x362c55(0x59e)][_0x362c55(0x426)]-0x1];if(!_0x3b1a44)return'';return _0x362c55(0x5bf)+(_0x5294aa+0x1)+'\x20('+_0x1344d8[_0x362c55(0x219)]+_0x362c55(0xf8)+_0x3b1a44['score']+'/'+_0x1344d8[_0x362c55(0x452)]+_0x362c55(0x736)+JSON['stringify'](_0x3b1a44[_0x362c55(0x47b)])+_0x362c55(0x153);})[_0x38382c(0x589)](_0x38382c(0x2c8)),_0x4b7925=_0x38382c(0x299)+currentQuizData[_0x38382c(0xf7)]+_0x38382c(0x366)+JSON[_0x38382c(0x806)](currentQuizData[_0x38382c(0x194)])+_0x38382c(0xde)+_0x2ce594+_0x38382c(0x4c4),_0x33f1fb={'type':_0x38382c(0x203),'properties':{'classStrengths':{'type':'ARRAY','items':{'type':_0x38382c(0x12e)}},'classWeaknesses':{'type':_0x38382c(0x331),'items':{'type':_0x38382c(0x12e)}},'teacherSuggestions':{'type':_0x38382c(0x331),'items':{'type':_0x38382c(0x12e)}}},'required':[_0x38382c(0x307),_0x38382c(0x708),_0x38382c(0x49c)]};try{const _0x3cd9ad=await callAnalysisApi(_0x4b7925,_0x33f1fb);displayClassAnalysis(_0x3cd9ad);}catch(_0x1e9764){console[_0x38382c(0x403)](_0x38382c(0x780),_0x1e9764),_0x4e2362['innerHTML']=_0x38382c(0x4e6)+_0x1e9764['message']+_0x38382c(0x710);}finally{document[_0x38382c(0x7d2)]('analyze-strengths-btn')[_0x38382c(0x681)]=![];}}function displayClassAnalysis(_0x5ba066){const _0x3c3723=_0x52d111,_0x50fbfd=document['getElementById']('strength-weakness-analysis-container');if(!_0x5ba066){_0x50fbfd['innerHTML']='<p\x20class=\x22text-center\x20text-red-500\x22>ไม่ได้รับข้อมูลการวิเคราะห์จาก\x20AI</p>';return;}_0x50fbfd[_0x3c3723(0x1da)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22fade-in\x20space-y-4\x20mt-4\x20border-t\x20pt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-green-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-check-circle\x20mr-2\x22></i>จุดแข็งของห้องเรียน</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-green-50\x20p-3\x20rounded-lg\x20text-green-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ba066['classStrengths'][_0x3c3723(0x2ba)](_0x310672=>_0x3c3723(0x27a)+_0x310672+'</li>')['join']('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4\x20class=\x22text-lg\x20font-semibold\x20text-red-700\x20mb-2\x22><i\x20class=\x22fas\x20fa-exclamation-circle\x20mr-2\x22></i>จุดอ่อน\x20/\x20ความเข้าใจผิดที่พบบ่อย</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22list-disc\x20list-inside\x20space-y-1\x20bg-red-50\x20p-3\x20rounded-lg\x20text-red-800\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5ba066[_0x3c3723(0x708)][_0x3c3723(0x2ba)](_0x4f4217=>'<li>'+_0x4f4217+_0x3c3723(0x56e))[_0x3c3723(0x589)]('')+_0x3c3723(0x10e)+_0x5ba066[_0x3c3723(0x49c)][_0x3c3723(0x2ba)](_0x15655a=>'<li>'+_0x15655a+_0x3c3723(0x56e))[_0x3c3723(0x589)]('')+_0x3c3723(0x517);}function formatAndPrintWorksheet(_0x38eab4,_0x53ce15){const _0x385d17=_0x52d111,_0x4679c6='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<html\x20lang=\x22th\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22UTF-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>ใบงาน:\x20'+_0x38eab4['topic']+_0x385d17(0x33c)+_0x38eab4['topic']+_0x385d17(0x3aa)+_0x38eab4['questions'][_0x385d17(0x2ba)]((_0xdb8c80,_0x1cd4e9)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22question-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>'+(_0x1cd4e9+0x1)+'.\x20'+_0xdb8c80[_0x385d17(0x421)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xdb8c80[_0x385d17(0x2ee)]?_0x385d17(0x600)+_0xdb8c80[_0x385d17(0x2ee)]+_0x385d17(0x318):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22mt-4\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>ตอบ:</strong>\x20<span\x20class=\x22answer-line\x22></span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')[_0x385d17(0x589)]('')+_0x385d17(0x16c);_0x53ce15[_0x385d17(0x5ac)][_0x385d17(0x66a)](_0x4679c6),_0x53ce15['document'][_0x385d17(0x1f8)](),_0x53ce15['onload']=function(){setTimeout(()=>{const _0xc4d7db=_0x9350;_0x53ce15[_0xc4d7db(0x62c)]();},0x3e8);};}async function generateWorksheet(){const _0x332c89=_0x52d111,_0x17a1f4=document[_0x332c89(0x7d2)](_0x332c89(0x705))['value'][_0x332c89(0x74c)]();if(!_0x17a1f4){showMessage(_0x332c89(0x77b));return;}const _0x28d089=document[_0x332c89(0x7d2)](_0x332c89(0x3af))['checked'],_0x1de926=_0x28d089?'':_0x332c89(0x3f5),_0x42f2bc=window[_0x332c89(0x5ea)]('',_0x332c89(0x4f9));_0x42f2bc[_0x332c89(0x5ac)][_0x332c89(0x66a)](_0x332c89(0x42b));const _0x731658=parseInt(document[_0x332c89(0x7d2)](_0x332c89(0x30e))[_0x332c89(0x796)]),_0xf7ab42=document[_0x332c89(0x7d2)]('include-images-checkbox')[_0x332c89(0x569)],_0x1090e9=_0xf7ab42?_0x332c89(0x5af):'',_0x1fad8d=_0x332c89(0x6a4)+_0x1de926+'ที่พิมพ์ได้\x20จำนวน\x20'+_0x731658+_0x332c89(0x73a)+_0x17a1f4+_0x332c89(0x4a5)+_0x1090e9+_0x332c89(0x313)+simpleMathPrompt+_0x332c89(0x304),_0x22dfe2={'type':_0x332c89(0x203),'properties':{'topic':{'type':_0x332c89(0x12e)},'questions':{'type':_0x332c89(0x331),'items':{'type':_0x332c89(0x203),'properties':{'questionText':{'type':'STRING'},'imageCode':{'type':_0x332c89(0x12e)}},'required':[_0x332c89(0x421)]}}},'required':['topic',_0x332c89(0x194)]};document[_0x332c89(0x7d2)](_0x332c89(0x4c6))[_0x332c89(0x645)]='',document[_0x332c89(0x7d2)](_0x332c89(0x1b7))[_0x332c89(0x21b)]['remove']('hidden'),document[_0x332c89(0x7d2)]('quiz-generation-area')[_0x332c89(0x21b)]['remove'](_0x332c89(0x79f)),generateWorksheetBtn[_0x332c89(0x681)]=!![];try{const _0x296973=await callAnalysisApi(_0x1fad8d,_0x22dfe2);formatAndPrintWorksheet(_0x296973,_0x42f2bc);}catch(_0x4275e7){console[_0x332c89(0x403)](_0x332c89(0x2a1),_0x4275e7);if(_0x42f2bc)_0x42f2bc[_0x332c89(0x1f8)]();showMessage(_0x332c89(0x755));}finally{document[_0x332c89(0x7d2)](_0x332c89(0x1b7))[_0x332c89(0x21b)][_0x332c89(0x4df)](_0x332c89(0x79f)),document['getElementById']('quiz-generation-area')[_0x332c89(0x21b)][_0x332c89(0x4df)](_0x332c89(0x79f)),generateWorksheetBtn['disabled']=![];}}async function callAnalysisApi(_0x105e49,_0x2b4cb6){const _0x17bc04=_0x52d111,_0x46c00a={'contents':[{'role':_0x17bc04(0x19f),'parts':[{'text':_0x105e49}]}],'generationConfig':{'responseMimeType':_0x17bc04(0x349),'responseSchema':_0x2b4cb6}},_0x2cc5a4=_0x17bc04(0x6f1),_0x2bcd51=_0x17bc04(0x1ca)+_0x2cc5a4,_0x514950=await fetch(_0x2bcd51,{'method':_0x17bc04(0x616),'headers':{'Content-Type':_0x17bc04(0x349)},'body':JSON['stringify'](_0x46c00a)});if(!_0x514950['ok'])throw new Error(_0x17bc04(0x5c8)+_0x514950[_0x17bc04(0x43a)]);const _0x1417df=await _0x514950[_0x17bc04(0x537)]();if(_0x1417df[_0x17bc04(0x3b3)]?.[0x0]?.[_0x17bc04(0x231)]?.['parts']?.[0x0])return JSON['parse'](_0x1417df[_0x17bc04(0x3b3)][0x0]['content'][_0x17bc04(0x662)][0x0]['text']);else{let _0x2c86e5=_0x17bc04(0x62e);if(_0x1417df['promptFeedback']?.[_0x17bc04(0x563)])_0x2c86e5=_0x17bc04(0x7cf)+_0x1417df['promptFeedback'][_0x17bc04(0x563)]+'.';else _0x1417df[_0x17bc04(0x3b3)]?.[0x0]?.[_0x17bc04(0x7c8)]&&_0x1417df[_0x17bc04(0x3b3)][0x0][_0x17bc04(0x7c8)]!==_0x17bc04(0x32f)&&(_0x2c86e5='AI\x20generation\x20finished\x20with\x20an\x20issue.\x20Reason:\x20'+_0x1417df[_0x17bc04(0x3b3)][0x0][_0x17bc04(0x7c8)]+'.');console['error'](_0x2c86e5,JSON[_0x17bc04(0x806)](_0x1417df));throw new Error(_0x2c86e5);}}initialize();
